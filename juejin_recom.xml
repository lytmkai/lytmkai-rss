<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[æ•°æ®æ ‡æ³¨å¹³å°æ­£å¼ä¸Šçº¿å•¦ï¼ æ ‡æ³¨èµšç°é‡‘ï¼Œä½é—¨æ§›çœŸæ”¶ç›Š | æ˜é‡‘ä¸€å‘¨ 12.10]]></title>    <link>https://juejin.cn/post/7582232741687525411</link>    <guid>https://juejin.cn/post/7582232741687525411</guid>    <pubDate>2025-12-11T09:09:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582232741687525411" data-draft-id="7582200865908146210" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°æ®æ ‡æ³¨å¹³å°æ­£å¼ä¸Šçº¿å•¦ï¼ æ ‡æ³¨èµšç°é‡‘ï¼Œä½é—¨æ§›çœŸæ”¶ç›Š | æ˜é‡‘ä¸€å‘¨ 12.10"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T09:09:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘ä¸€å‘¨"/> <meta itemprop="url" content="https://juejin.cn/user/53218623894222"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°æ®æ ‡æ³¨å¹³å°æ­£å¼ä¸Šçº¿å•¦ï¼ æ ‡æ³¨èµšç°é‡‘ï¼Œä½é—¨æ§›çœŸæ”¶ç›Š | æ˜é‡‘ä¸€å‘¨ 12.10
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/53218623894222/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘ä¸€å‘¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:09:32.000Z" title="Thu Dec 11 2025 09:09:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><em>æœ¬æ–‡å­—æ•°1400+ ï¼Œé˜…è¯»æ—¶é—´å¤§çº¦éœ€è¦ 5åˆ†é’Ÿã€‚</em></p>
<blockquote>
<p>ã€æ˜é‡‘ä¸€å‘¨ã€‘æœ¬æœŸäº®ç‚¹ï¼š</p>
</blockquote>
<ul>
<li>
<p><a href="https://juejin.cn/post/7578402574653112372" target="_blank" title="https://juejin.cn/post/7578402574653112372">å¦‚ä½•ç”¨éšå½¢å­—ç¬¦ç»™å…¬å¸å†…éƒ¨æ–‡æ¡£åŠ ç›²æ°´å°?(æŠ“å†…é¬¼ç¥å™¨ğŸ¤£)</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7578793960627486746" target="_blank" title="https://juejin.cn/post/7578793960627486746">ä¸ä»…å…è´¹ï¼Œè¿˜å¼€æºï¼Ÿè¿™ä¸ª AI Mock ç¥å™¨æˆ‘å¿…é¡»æ›å…‰å®ƒ</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7578215424677331007" target="_blank" title="https://juejin.cn/post/7578215424677331007">å¼€æºä¼ä¸šçº§ IMï¼ä¸€æ¬¾é«˜é¢œå€¼çš„å³æ—¶é€šè®¯èŠå¤©åº”ç”¨ï¼</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7578215424677003327" target="_blank" title="https://juejin.cn/post/7578215424677003327">ç”¨ AI åšäº†å‡ ä¸ªè¶…ç‚«é…·çš„ Flutter åŠ¨ç”»ï¼ŒåŒæ—¶åˆå·®ç‚¹è¢« AI æ°”æ­»</a></p>
</li>
<li>
<p><a href="https://juejin.cn/post/7579871631096184858" target="_blank" title="https://juejin.cn/post/7579871631096184858">ğŸ”¥ æ‡‚åŸç†ä½†ä¸ä¼šè¯´ï¼Ÿæˆ‘æ€’å†™äº†ä¸ª AI æ¨¡æ‹Ÿå™¨æŠ˜ç£¨è‡ªå·±ï¼ŒMå±æ€§å¤§çˆ†å‘ï¼</a></p>
</li>
</ul>
<blockquote>
<p><strong>ã€Œä¸Šæ¦œè§„åˆ™ã€</strong>ï¼šæ–‡ç« å‘å¸ƒæ—¶é—´åœ¨æœ¬æœŸã€Œæ˜é‡‘ä¸€å‘¨ã€å‘å¸ƒæ—¶é—´çš„å‰ä¸€å‘¨å†…ï¼›ä¸”ç¬¦åˆå„ä¸ªæ ç›®çš„å†…å®¹å®šä½å’Œè¦æ±‚ã€‚ å¦‚å‘ç°æ–‡ç« æœ‰æŠ„è¢­ã€æ´—ç¨¿ç­‰è¿åç¤¾åŒºè§„åˆ™çš„è¡Œä¸ºï¼Œå°†å–æ¶ˆå½“æœŸåŠåç»­ä¸Šæ¦œèµ„æ ¼ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€å‘¨â€œé‡‘â€é€‰</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73d5bf990a124e3a87cffb06443ad9ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5LiA5ZGo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048972&amp;x-signature=PciersGb7tmpNeuskX5UY2DGVSM%3D" alt="æ˜é‡‘ä¸€å‘¨ æ–‡ç« å¤´å›¾ 1303x734.jpg" loading="lazy"/></p>
<p><em>å†…å®¹è¯„å®¡ä»¬ä¼šåœ¨è¿‡å»çš„ä¸€å‘¨å†…å¯¹ç¤¾åŒºæ·±åº¦æŠ€æœ¯å¥½æ–‡è¿›è¡ŒæŒ–æ˜å’Œç­›é€‰ï¼Œä¼˜è´¨çš„æŠ€æœ¯æ–‡ç« æœ‰æœºä¼šå‡ºç°åœ¨ä¸‹æ–¹æ¦œå•ä¸­ï¼Œæ’åä¸åˆ†å…ˆåã€‚</em></p>
<h3 data-id="heading-1">å‰ç«¯</h3>
<p><a href="https://juejin.cn/post/7578402574653112372" target="_blank" title="https://juejin.cn/post/7578402574653112372">å¦‚ä½•ç”¨éšå½¢å­—ç¬¦ç»™å…¬å¸å†…éƒ¨æ–‡æ¡£åŠ ç›²æ°´å°?(æŠ“å†…é¬¼ç¥å™¨ğŸ¤£)</a><a href="https://juejin.cn/user/3878732754331096/posts" target="_blank" title="https://juejin.cn/user/3878732754331096/posts"> @ErpanOmer</a></p>
<blockquote>
<p>æ–‡ç« è®²è¿°å…¬å¸å†…éƒ¨æ•æ„Ÿæ–‡æ¡£æ³„éœ²åï¼Œåˆ©ç”¨åŸºäºé›¶å®½å­—ç¬¦çš„ç›²æ°´å°æŠ€æœ¯æŠ“â€œå†…é¬¼â€ã€‚ä»‹ç»é›¶å®½å­—ç¬¦æ¦‚å¿µï¼Œé˜è¿°åŠ å¯†ã€è§£å¯†åŸç†ï¼Œç»™å‡ºå®ç°ä»£ç ï¼Œè¿˜æåŠæ°´å°å¯è¢«æ¸…é™¤ï¼Œå¼ºè°ƒè¿™æ˜¯ä½æˆæœ¬ã€é«˜éšè”½æ€§é˜²å¾¡æ‰‹æ®µã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7578793960627486746" target="_blank" title="https://juejin.cn/post/7578793960627486746">ä¸ä»…å…è´¹ï¼Œè¿˜å¼€æºï¼Ÿè¿™ä¸ª AI Mock ç¥å™¨æˆ‘å¿…é¡»æ›å…‰å®ƒ</a> <a href="https://juejin.cn/user/3035079961218551/posts" target="_blank" title="https://juejin.cn/user/3035079961218551/posts">@ä¸ä¸€æ ·çš„å°‘å¹´_</a></p>
<blockquote>
<p>æœ¬æ–‡ä»‹ç»äº†ä¸€æ¬¾é›¶ä¾µå…¥çš„æ¥å£ Mock æ’ä»¶ï¼Œé‡æ„ä¸º Sidebar å¸¸é©»ä¾§æ ï¼Œä½“éªŒæ›´ä½³ã€‚å®ƒæ¥å…¥ AI è‡ªåŠ¨ç”Ÿæˆæ•°æ®ï¼Œæ”¯æŒå»¶æ—¶å’ŒçŠ¶æ€ç æ¨¡æ‹Ÿã€‚å…·å¤‡æ‹¦æˆªã€åŒ¹é…ã€å“åº”æ§åˆ¶ç­‰åŠŸèƒ½ï¼Œè¦†ç›–å‰ç«¯ 90% çš„ Mock éœ€æ±‚ï¼Œæ¨èè¯•ç”¨ã€‚</p>
</blockquote>
<h3 data-id="heading-2">åç«¯</h3>
<p><a href="https://juejin.cn/post/7578215424677331007" target="_blank" title="https://juejin.cn/post/7578215424677331007">å¼€æºä¼ä¸šçº§ IMï¼ä¸€æ¬¾é«˜é¢œå€¼çš„å³æ—¶é€šè®¯èŠå¤©åº”ç”¨ï¼</a> <a href="https://juejin.cn/user/3958702402176765/posts" target="_blank" title="https://juejin.cn/user/3958702402176765/posts">@Javaé™ˆåºå‘˜</a></p>
<blockquote>
<p>æœ¬æ–‡æ¨èäº†åŸºäº GO å¼€å‘çš„å¼€æºå³æ—¶é€šè®¯ç³»ç»Ÿ TangSengDaoDaoServerï¼Œå®ƒè½»é‡ã€é«˜æ€§èƒ½ä¸”é‡å®‰å…¨ï¼Œæ”¯æŒå¤šç«¯åŒæ­¥ã€‚ä»‹ç»äº†å…¶åŠŸèƒ½ç‰¹è‰²ã€é¡¹ç›®æ¶æ„ï¼Œç»™å‡º Docker éƒ¨ç½²æ­¥éª¤ï¼Œè¿˜å±•ç¤ºåŠŸèƒ½ä½“éªŒï¼Œæ¨èå¤§å®¶å°è¯•ã€‚</p>
</blockquote>
<h3 data-id="heading-3">Android</h3>
<p><a href="https://juejin.cn/post/7578215424677003327" target="_blank" title="https://juejin.cn/post/7578215424677003327">ç”¨ AI åšäº†å‡ ä¸ªè¶…ç‚«é…·çš„ Flutter åŠ¨ç”»ï¼ŒåŒæ—¶åˆå·®ç‚¹è¢« AI æ°”æ­»</a> <a href="https://juejin.cn/user/817692379985752/posts" target="_blank" title="https://juejin.cn/user/817692379985752/posts">@æ‹çŒ«deå°éƒ­</a></p>
<blockquote>
<p>æ–‡ç« ä»‹ç»ç”¨ AI å®ç°å‡ ç§ Flutter åŠ¨ç”»ã€‚å¥‡å¼‚ç²’å­åŠ¨ç”»åŸºäºæ•°å­¦å…¬å¼ï¼Œè§£å†³æŠ•å½±ç­‰é—®é¢˜ï¼›æ–æ³¢é‚£å¥‘çƒä½“è®©ç‚¹å‡åŒ€åˆ†å¸ƒåœ¨çƒé¢ï¼›æ˜Ÿäº‘åŠ¨ç”»æ¨¡æ‹Ÿæ˜Ÿç³»åŠ¨åŠ›å­¦ã€‚ä¸è¿‡ï¼ŒAI å®ç°æ—¶é‡é¢œè‰²æ’å€¼é™·é˜±é—®é¢˜ï¼Œæœ€ç»ˆæ¢æ€è·¯è§£å†³ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7579999793320247302" target="_blank" title="https://juejin.cn/post/7579999793320247302">Android Studio Otter 2 Feature å‘å¸ƒï¼Œæœ€å€¼å¾—æ›´æ–°çš„ Android Studio</a> <a href="https://juejin.cn/user/817692379985752/posts" target="_blank" title="https://juejin.cn/user/817692379985752/posts">@æ‹çŒ«deå°éƒ­</a></p>
<blockquote>
<p>Android Studio Otter 2 Featureå‘å¸ƒï¼Œæ˜¯å€¼å¾—æ›´æ–°çš„ç‰ˆæœ¬ã€‚å®ƒå†…ç½®Gemini 3ï¼Œå¢å¼ºAgentæ¨¡å¼å¹¶é…å¤‡AndroidçŸ¥è¯†åº“ã€‚æ”¯æŒå¤‡ä»½ä¸åŒæ­¥è®¾ç½®ï¼Œå¼€å‘è€…å¯æ¥æ”¶å›¢é˜Ÿèµ„è®¯ã€‚è¿˜æ•´åˆIntelliJ IDEA 2025.2æ”¹è¿›ï¼Œèƒ½å…è´¹è¯•ç”¨Gemini 3 Proã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7578113711363162155" target="_blank" title="https://juejin.cn/post/7578113711363162155">Flutter TolyUI æ¡†æ¶#09 | tolyui_text è½»é‡é«˜äº®æ–‡æœ¬</a> <a href="https://juejin.cn/user/149189281194766/posts" target="_blank" title="https://juejin.cn/user/149189281194766/posts">@å¼ é£æ·ç‰¹çƒˆ</a></p>
<blockquote>
<p>æœ¬æ–‡ä»‹ç»äº† Flutter TolyUI æ¡†æ¶çš„Â <code>tolyui_text</code>Â æ¨¡å—ã€‚è¯¥æ¨¡å—å°è£…æ–‡æœ¬é«˜äº®æ–¹æ¡ˆï¼Œæä¾›è½»é‡çº§è§£å†³æ–¹æ¡ˆã€‚æ”¯æŒæœç´¢å…³é”®å­—é«˜äº®ã€è‡ªå®šä¹‰åŒ¹é…è§„åˆ™å’Œå¤šæ¨¡å¼æ™ºèƒ½è¯†åˆ«ï¼Œè¿˜èƒ½å¤„ç†ç‚¹å‡»äº‹ä»¶ï¼Œæœªæ¥ä¼šæœ‰æ›´å¤šæ–°åŠŸèƒ½ã€‚</p>
</blockquote>
<h3 data-id="heading-4">äººå·¥æ™ºèƒ½</h3>
<p><a href="https://juejin.cn/post/7579871631096184858" target="_blank" title="https://juejin.cn/post/7579871631096184858">ğŸ”¥ æ‡‚åŸç†ä½†ä¸ä¼šè¯´ï¼Ÿæˆ‘æ€’å†™äº†ä¸ª AI æ¨¡æ‹Ÿå™¨æŠ˜ç£¨è‡ªå·±ï¼ŒMå±æ€§å¤§çˆ†å‘ï¼</a> <a href="https://juejin.cn/user/1591748568038823/posts" target="_blank" title="https://juejin.cn/user/1591748568038823/posts">@HiStewie</a></p>
<blockquote>
<p>ä½œè€…ä¸ºè§£å†³é¢è¯•å‡†å¤‡éš¾é¢˜ï¼Œç”¨ TRAE SOLO é‡æ„åˆç‰ˆå·¥å…·ã€‚ä»æ¶æ„è®¾è®¡ã€æ ¸å¿ƒå®ç°ã€æŠ€æœ¯æ ˆé€‰å‹ç­‰å¤šæ–¹é¢å±•å¼€ï¼Œä¸€æ™šå®Œæˆå«ç®€å†è§£æç­‰åŠŸèƒ½çš„ MVPï¼ŒéªŒè¯æ–°å¼€å‘èŒƒå¼ï¼Œæœªæ¥äº§å“è¿˜æœ‰è¯¸å¤šæ‰©å±•æ–¹å‘ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7579555970594947113" target="_blank" title="https://juejin.cn/post/7579555970594947113">è§£è¯» Claude å¯¹å¼€å‘è€…çš„å½±å“ï¼šAI å¦‚ä½•åœ¨ Anthropic æ”¹å˜å·¥ä½œï¼Ÿ</a><a href="https://juejin.cn/user/817692379985752/posts" target="_blank" title="https://juejin.cn/user/817692379985752/posts">@æ‹çŒ«deå°éƒ­</a></p>
<blockquote>
<p>Anthropic å¯¹å†…éƒ¨å‘˜å·¥è°ƒæŸ¥æ˜¾ç¤ºï¼ŒAI æ˜¾è‘—å½±å“å¼€å‘è€…ã€‚ç”Ÿäº§åŠ›å¹³å‡æå‡ 50%ï¼Œå¯ç”¨æ–°å·¥ä½œï¼Œæ”¹å˜å§”æ‰˜å®è·µã€‚å¼€å‘è€…æŠ€èƒ½æœ‰æ‰©å±•ä¸é€€åŒ–ï¼Œç¤¾ä¼šäº’åŠ¨å‡å°‘ï¼ŒèŒä¸šè®¤åŒå—å†²å‡»ã€‚AI çº¢åˆ©ä¸å€ºåŠ¡å¹¶å­˜ï¼Œé‡å¡‘èŒä¸šä»·å€¼è§‚ã€‚</p>
</blockquote>
<p><a href="https://juejin.cn/post/7578700798744903714" target="_blank" title="https://juejin.cn/post/7578700798744903714">Chatboxæ”¯æŒæ¥å…¥LangGraphæ™ºèƒ½ä½“ï¼Ÿä¸€åˆ‡éƒ½é Trae Solo!</a><a href="https://juejin.cn/user/3140624091453053/posts" target="_blank" title="https://juejin.cn/user/3140624091453053/posts">@å¤§æ¨¡å‹çœŸå¥½ç©</a></p>
<blockquote>
<p>æœ¬æ–‡ä½œè€…å€ŸåŠ© Trae Solo å®ç°å°† LangChain æ™ºèƒ½ä½“æ¥å…¥ Chatbox å®¢æˆ·ç«¯ã€‚å…ˆä»‹ç»ä¸¤è€…ï¼Œé˜è¿°æ¥å…¥æ€è·¯ï¼Œä»¥å¤©æ°”åŠ©æ‰‹æ™ºèƒ½ä½“ä¸ºä¾‹å±•ç¤º Trae Solo è‡ªåŠ¨åŒ–å¼€å‘æµç¨‹ï¼Œæœ€åå±•æœ›å…¶æ½œåŠ›ï¼Œé¼“åŠ±ç”¨å®ƒå¿«é€Ÿæ­å»ºåŸå‹ã€éªŒè¯é€»è¾‘ã€‚</p>
</blockquote>
<h3 data-id="heading-5">IOS</h3>
<p><a href="https://juejin.cn/post/7579921879973150766" target="_blank" title="https://juejin.cn/post/7579921879973150766">iOS UIKit å…¨ä½“ç³»çŸ¥è¯†æ‰‹å†Œï¼ˆObjective-C ç‰ˆï¼‰</a> <a href="https://juejin.cn/user/342703355996926/posts" target="_blank" title="https://juejin.cn/user/342703355996926/posts">@å¦‚æ­¤é£æ™¯</a></p>
<blockquote>
<p>UIKit æ˜¯ iOS å¼€å‘åŸºçŸ³æ¡†æ¶ï¼Œå›´ç»•è§†å›¾ã€æ§åˆ¶å™¨ã€äº‹ä»¶å±•å¼€ã€‚æŒæ¡å¸ƒå±€ã€äº‹ä»¶å¤„ç†ã€æ¸²æŸ“ä¼˜åŒ–æ˜¯å…³é”®ã€‚å¼€å‘ä¸­ç”¨ Masonry ç®€åŒ–å¸ƒå±€ï¼Œç»“åˆé€‚é…ç‰¹æ€§ï¼Œå€ŸåŠ© Instruments å®šä½é—®é¢˜ï¼Œå¯é«˜æ•ˆæ„å»ºç¨³å®šé€‚é…ç•Œé¢ã€‚</p>
</blockquote>
<h2 data-id="heading-6">ç¤¾åŒºæ´»åŠ¨æ—¥å†</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c589decbd804477a753bfc1a3b8f5df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5LiA5ZGo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048972&amp;x-signature=dcqrvnf7n0sUmopFu1irBs7rnHA%3D" alt="æ˜é‡‘å®˜æ–¹ æ–‡ç« å¤´å›¾ 1303x734.jpg" loading="lazy"/></p>
<h4 data-id="heading-7">æ´»åŠ¨æ—¥å†</h4>























<table><thead><tr><th>æ´»åŠ¨åç§°</th><th>æ´»åŠ¨æ—¶é—´</th><th/><th/></tr></thead><tbody><tr><td><a href="https://juejin.cn/post/7571751304625815598" target="_blank" title="https://juejin.cn/post/7571751304625815598">ğŸš€TRAE SOLO å®æˆ˜èµ›</a></td><td>2025å¹´11æœˆ13æ—¥-2025å¹´12æœˆ16æ—¥</td><td/><td/></tr><tr><td><a href="https://aidp.juejin.cn/" target="_blank" title="https://aidp.juejin.cn/">æ•°æ®æ ‡æ³¨å¹³å°æ­£å¼ä¸Šçº¿å•¦ï¼</a></td><td>-</td><td/><td/></tr></tbody></table>
<h2 data-id="heading-8">ğŸ“– æŠ•ç¨¿ä¸“åŒº</h2>
<blockquote>
<p>å¤§å®¶å¯ä»¥åœ¨è¯„è®ºåŒºæ¨èè®¤ä¸ºä¸é”™çš„æ–‡ç« ï¼Œå¹¶é™„ä¸Šé“¾æ¥å’Œæ¨èç†ç”±ï¼Œæœ‰æœºä¼šå‘ˆç°åœ¨ä¸‹ä¸€æœŸã€‚æ–‡ç« åˆ›å»ºæ—¥æœŸå¿…é¡»åœ¨ä¸‹æœŸæ˜é‡‘ä¸€å‘¨å‘å¸ƒå‰ä¸€å‘¨ä»¥å†…ï¼›å¯ä»¥æ¨èè‡ªå·±çš„æ–‡ç« ã€ä¹Ÿå¯ä»¥æ¨èä»–äººçš„æ–‡ç« ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•ä»Axioså¹³æ»‘è¿ç§»åˆ°Alova]]></title>    <link>https://juejin.cn/post/7582096212663599104</link>    <guid>https://juejin.cn/post/7582096212663599104</guid>    <pubDate>2025-12-11T03:59:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582096212663599104" data-draft-id="7582155513585680436" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•ä»Axioså¹³æ»‘è¿ç§»åˆ°Alova"/> <meta itemprop="keywords" content="Node.js,React.js,Vue.js"/> <meta itemprop="datePublished" content="2025-12-11T03:59:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤éŸµ"/> <meta itemprop="url" content="https://juejin.cn/user/1538972010422872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•ä»Axioså¹³æ»‘è¿ç§»åˆ°Alova
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1538972010422872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤éŸµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:59:13.000Z" title="Thu Dec 11 2025 03:59:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    75
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Alova æ˜¯è°ï¼Ÿ</h2>
<p>Alova æ˜¯ä¸€ä¸ªè¯·æ±‚å·¥å…·é›†ï¼Œå®ƒå¯ä»¥é…åˆaxiosã€fetchç­‰è¯·æ±‚å·¥å…·å®ç°é«˜æ•ˆçš„æ¥å£é›†æˆï¼Œæ˜¯ç”¨æ¥ä¼˜åŒ–æ¥å£é›†æˆä½“éªŒçš„ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜èƒ½æä¾›ä¸€äº› Axios ä¸å…·å¤‡çš„ä¾¿åˆ©åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><strong>å†…ç½®ç¼“å­˜æœºåˆ¶</strong>ï¼šä¸ç”¨è‡ªå·±æ“å¿ƒæ•°æ®ç¼“å­˜ï¼ŒAlova èƒ½å¸®ä½ è‡ªåŠ¨ç®¡ç†ï¼Œæå‡æ€§èƒ½ã€‚</li>
<li><strong>è¯·æ±‚ç­–ç•¥çµæ´»</strong>ï¼šå¯ä»¥æ ¹æ®ä¸åŒåœºæ™¯è®¾ç½®ä¸åŒçš„è¯·æ±‚é€»è¾‘ï¼Œæ¯”å¦‚å¼ºåˆ¶åˆ·æ–°ã€ä¾èµ–è¯·æ±‚ç­‰ã€‚</li>
<li><strong>å¤šæ¡†æ¶æ”¯æŒ</strong>ï¼šæ— è®ºæ˜¯ Vueã€React è¿˜æ˜¯ Svelteã€Solidï¼ŒAlova éƒ½èƒ½å¾ˆå¥½åœ°é›†æˆã€‚</li>
<li><strong>çŠ¶æ€ç®¡ç†é›†æˆ</strong>ï¼šè¯·æ±‚çš„æ•°æ®å¯ä»¥ç›´æ¥ä¸ç»„ä»¶çŠ¶æ€å…³è”ï¼Œå‡å°‘å†—ä½™ä»£ç ã€‚</li>
<li><strong>å¼ºå¤§çš„é€‚é…å™¨ç³»ç»Ÿ</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰é€‚é…å™¨ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™æ¬¡è¦è®²çš„ â€”â€” ç”¨ Alova æ¥å…¼å®¹ä½ ç°æœ‰çš„ Axios å®ä¾‹ï¼</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼ŒAlova åœ¨ä¿ç•™ç±»ä¼¼ Axios æ˜“ç”¨æ€§çš„åŸºç¡€ä¸Šï¼Œè¿˜æä¾›äº†æ›´å¤šå¼€ç®±å³ç”¨çš„é«˜çº§åŠŸèƒ½è¯·ç§»æ­¥åˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org" target="_blank" title="https://alova.js.org" ref="nofollow noopener noreferrer">alovaå®˜æ–¹æ–‡æ¡£</a>æŸ¥çœ‹ã€‚</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆè¦ä» Axios è¿ç§»åˆ° Alovaï¼Ÿ</h2>
<p>ä½ å¯èƒ½ä¼šé—®ï¼šâ€œAxios ç”¨å¾—å¥½å¥½çš„ï¼Œä¸ºä»€ä¹ˆè¦è¿ï¼Ÿâ€ å…¶å®ï¼Œè¿ç§»ä¸ä¸€å®šæ˜¯â€œéæ¢ä¸å¯â€ï¼Œè€Œæ˜¯ä¸€ç§â€œé”¦ä¸Šæ·»èŠ±â€çš„é€‰æ‹©ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„è¿ç§»åŠ¨æœºï¼š</p>
<ol>
<li><strong>å¸Œæœ›ç®€åŒ–å¤æ‚è¯·æ±‚é€»è¾‘çš„ç®¡ç†</strong>ï¼šæ¯”å¦‚ä¾èµ–è¯·æ±‚ã€ä¸²å¹¶è¡Œæ§åˆ¶ã€è‡ªåŠ¨é‡è¯•ç­‰ï¼ŒAlova æä¾›äº†æ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚</li>
<li><strong>æƒ³è¦å†…ç½®ç¼“å­˜ï¼Œå‡å°‘é‡å¤è¯·æ±‚</strong>ï¼šå¦‚æœä½ çš„åº”ç”¨æœ‰å¾ˆå¤šé‡å¤è¯·æ±‚ï¼ŒAlova çš„ç¼“å­˜æœºåˆ¶å¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½ã€‚</li>
<li><strong>å¤šæ¡†æ¶é€‚é…æ›´æ–¹ä¾¿</strong>ï¼šå¦‚æœä½ åœ¨å¤šä¸ªé¡¹ç›®ä¸­ä½¿ç”¨ä¸åŒæ¡†æ¶ï¼ŒAlova èƒ½æä¾›ä¸€è‡´çš„ä½“éªŒã€‚</li>
<li><strong>æƒ³é€æ­¥ä¼˜åŒ–ç°æœ‰é¡¹ç›®</strong>ï¼šä¸æƒ³å¤§åŠ¨å¹²æˆˆé‡å†™ä»£ç ï¼Œä½†åˆæƒ³å¼•å…¥æ›´ç°ä»£çš„è¯·æ±‚ç®¡ç†æ–¹å¼ã€‚</li>
</ol>
<p>å¦‚æœä½ æœ‰ä»¥ä¸Šéœ€æ±‚ï¼Œé‚£ Alova å°±éå¸¸å€¼å¾—å°è¯•ï¼</p>
<h2 data-id="heading-2">ä» Axios è¿ç§»åˆ° Alovaï¼Œåˆ°åº•éš¾ä¸éš¾ï¼Ÿ</h2>
<p><strong>Alova å®˜æ–¹æä¾›äº†éå¸¸å‹å¥½çš„ Axios è¿ç§»æ–¹æ¡ˆï¼Œæ ¸å¿ƒå°±ä¸€ä¸ªå­—ï¼šç¨³ã€‚</strong></p>
<p>å®˜æ–¹è¿ç§»æŒ‡å—çš„è®¾è®¡ç†å¿µæ˜¯ï¼š</p>
<ul>
<li><strong>æœ€å°æ”¹åŠ¨</strong>ï¼šä½ ä¸éœ€è¦ä¸€ä¸‹å­é‡å†™æ‰€æœ‰ä»£ç ï¼Œåªéœ€å¼•å…¥ Alovaï¼Œç„¶åé€æ­¥è¿ç§»ã€‚</li>
<li><strong>æ¸è¿›è¿ç§»</strong>ï¼šä¸€ä¸ªæ¥å£ä¸€ä¸ªæ¥å£åœ°æ”¹ï¼ŒèŠ‚å¥ç”±ä½ æŒæ§ã€‚</li>
<li><strong>ä¿æŒä¸€è‡´æ€§</strong>ï¼šä½ ç°æœ‰çš„ Axios å®ä¾‹ã€é…ç½®ã€æ‹¦æˆªå™¨ï¼Œç»Ÿç»Ÿéƒ½èƒ½ç»§ç»­ç”¨ï¼</li>
<li><strong>æ–°è€å…±å­˜</strong>ï¼šè¿ç§»æœŸé—´ï¼ŒAxios å’Œ Alova å¯ä»¥åŒæ—¶è¿è¡Œï¼Œäº’ä¸å¹²æ‰°ã€‚</li>
</ul>
<p>æ˜¯ä¸æ˜¯å¬èµ·æ¥å°±å¾ˆè´´å¿ƒï¼Ÿæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹å…·ä½“æ€ä¹ˆæ“ä½œã€‚</p>
<h2 data-id="heading-3">ä» Axios è¿ç§»åˆ° Alova çš„å…·ä½“æ­¥éª¤</h2>
<h3 data-id="heading-4">ç¬¬ä¸€æ­¥ï¼šå®‰è£… Alova å’Œ Axios é€‚é…å™¨</h3>
<p>é¦–å…ˆï¼Œä½ éœ€è¦é€šè¿‡åŒ…ç®¡ç†å·¥å…·å®‰è£… Alova ä»¥åŠå®ƒçš„ Axios é€‚é…å™¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¦‚æœä½ ç”¨ npm</span>
npm install alova @alova/adapter-axios

<span class="hljs-comment"># æˆ–è€…ç”¨ yarn</span>
yarn add alova @alova/adapter-axios

<span class="hljs-comment"># æˆ–è€…ç”¨ pnpm</span>
pnpm install alova @alova/adapter-axios
</code></pre>
<h3 data-id="heading-5">ç¬¬äºŒæ­¥ï¼šåˆ›å»º Alova å®ä¾‹ï¼Œå¹¶ä¼ å…¥ä½ çš„ Axios å®ä¾‹</h3>
<p>è¿™ä¸€æ­¥æ˜¯å…³é”®ï¼Œä½ å¯ä»¥ç›´æ¥å¤ç”¨ä½ ç°æœ‰çš„ Axios å®ä¾‹ï¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createAlova } <span class="hljs-keyword">from</span> <span class="hljs-string">'alova'</span>;
<span class="hljs-keyword">import</span> { axiosRequestAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">'@alova/adapter-axios'</span>;
<span class="hljs-keyword">import</span> axiosInstance <span class="hljs-keyword">from</span> <span class="hljs-string">'./your-axios-instance'</span>; <span class="hljs-comment">// ä½ åŸæ¥å°±æœ‰çš„ axios å®ä¾‹</span>

<span class="hljs-keyword">const</span> alovaInst = <span class="hljs-title function_">createAlova</span>({
  statesHook, <span class="hljs-comment">// è¿™é‡Œå¡«ä½ é¡¹ç›®é‡Œç”¨çš„ Hookï¼Œæ¯”å¦‚ VueHook / ReactHook / SvelteHook</span>
  <span class="hljs-attr">requestAdapter</span>: <span class="hljs-title function_">axiosRequestAdapter</span>({
    <span class="hljs-attr">axios</span>: axiosInstance <span class="hljs-comment">// æŠŠä½ åŸæ¥çš„ axios å®ä¾‹ä¼ è¿›å»</span>
  })
});
</code></pre>
<p>ä½ å•¥éƒ½ä¸ç”¨æ”¹ï¼ŒåŸæ¥çš„ axios å®ä¾‹ã€æ‹¦æˆªå™¨ã€é…ç½®å…¨éƒ½æœ‰æ•ˆï¼</p>
<h3 data-id="heading-6">ç¬¬ä¸‰æ­¥ï¼šç»§ç»­ä½¿ç”¨åŸæœ‰ Axios ä»£ç ï¼Œä¸ç”¨æ€¥ç€æ”¹</h3>
<p>æ²¡é”™ï¼Œå“ªæ€•ä½ åˆšåˆšåˆ›å»ºäº† Alova å®ä¾‹ï¼Œä½ åŸæ¥çš„ Axios ä»£ç ç…§æ ·è·‘å¾—å¥½å¥½çš„ï¼ä½ å¯ä»¥æ…¢æ…¢æ¥ï¼Œä¸ç”¨æ€¥ç€ä¸€å£æ°”å…¨æ”¹å®Œã€‚</p>
<p>æ¯”å¦‚è¿™æ ·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getUser</span> = id =&gt; axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">`/user/<span class="hljs-subst">${id}</span>`</span>); <span class="hljs-comment">// ä½ åŸæ¥çš„å†™æ³•ï¼Œä¾æ—§èƒ½ç”¨</span>
</code></pre>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å¼€å§‹å°é²œï¼Œç”¨ Alova çš„æ–¹å¼å‘èµ·è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getUser</span> = id =&gt; alovaInst.<span class="hljs-title class_">Get</span>(<span class="hljs-string">`/user/<span class="hljs-subst">${id}</span>`</span>);

<span class="hljs-comment">// åœ¨ç»„ä»¶é‡Œä½¿ç”¨ï¼ˆä»¥ React ä¸ºä¾‹ï¼‰</span>
<span class="hljs-keyword">const</span> { loading, data, error } = <span class="hljs-title function_">useRequest</span>(<span class="hljs-title function_">getUser</span>(userId));
</code></pre>
<h3 data-id="heading-7">ç¬¬å››æ­¥ï¼šé€æ­¥æŠŠ Axios è¯·æ±‚æ”¹å†™ä¸º Alova è¯·æ±‚</h3>
<p>ç­‰ä½ ç†Ÿæ‚‰äº† Alovaï¼Œå°±å¯ä»¥å¼€å§‹æŠŠåŸæ¥çš„ <code>axios.get</code>ã€<code>axios.post</code> ç­‰æ–¹æ³•ï¼Œé€æ­¥æ›¿æ¢ä¸º Alova çš„ <code>alovaInst.Get</code>ã€<code>alovaInst.Post</code>ï¼Œéå¸¸ç®€å•ï¼š</p>
<p><strong>åŸæ¥çš„å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">todoList</span> = id =&gt; axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/todo'</span>);
</code></pre>
<p><strong>æ”¹å†™ä¸º Alova å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">todoList</span> = id =&gt; alovaInst.<span class="hljs-title class_">Get</span>(<span class="hljs-string">'/todo'</span>);
</code></pre>
<p><strong>å¸¦å‚æ•°çš„ POST è¯·æ±‚ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŸæ¥çš„å†™æ³•</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">submitTodo</span> = data =&gt;
  axios.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/todo'</span>, data, {
    <span class="hljs-attr">responseType</span>: <span class="hljs-string">'json'</span>,
    <span class="hljs-attr">responseEncoding</span>: <span class="hljs-string">'utf8'</span>
  });

<span class="hljs-comment">// Alova å†™æ³•</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">submitTodo</span> = data =&gt;
  alovaInst.<span class="hljs-title class_">Post</span>(<span class="hljs-string">'/todo'</span>, data, {
    <span class="hljs-attr">responseType</span>: <span class="hljs-string">'json'</span>,
    <span class="hljs-attr">responseEncoding</span>: <span class="hljs-string">'utf8'</span>
  });
</code></pre>
<p>çœ‹ï¼Œå‚æ•°åŸºæœ¬éƒ½èƒ½ç›´æ¥å¯¹åº”è¿‡å»ï¼Œå†™æ³•ä¹Ÿç±»ä¼¼ï¼Œå­¦ä¹ æˆæœ¬æä½ï¼</p>
<h2 data-id="heading-8">æœ€å</h2>
<p>ä» Axios è¿ç§»åˆ° Alovaï¼Œå…¶å®å¹¶æ²¡æœ‰æƒ³è±¡ä¸­é‚£ä¹ˆéš¾ï¼Œç”šè‡³å¯ä»¥è¯´éå¸¸å¹³æ»‘ï¼Œå°¤å…¶æ˜¯å¯¹è€é¡¹ç›®çš„å…¼å®¹æ€§åšå¾—éå¸¸å‹å¥½ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¦‚æœä½ ï¼š</p>
<ul>
<li>å·²ç»åœ¨ä½¿ç”¨ Axiosï¼Œä½†æƒ³å°è¯•æ›´ç°ä»£çš„è¯·æ±‚ç®¡ç†æ–¹å¼ï¼›</li>
<li>å¸Œæœ›å¼•å…¥ç¼“å­˜ã€ä¼˜åŒ–è¯·æ±‚ç­–ç•¥ã€æå‡åº”ç”¨æ€§èƒ½ï¼›</li>
<li>æƒ³é€æ­¥ä¼˜åŒ–ä»£ç ï¼Œåˆä¸æƒ³ä¸€å¤œä¹‹é—´é‡å†™æ‰€æœ‰é€»è¾‘ï¼›</li>
</ul>
<p>ä¸å¦¨è¯•è¯• Alovaï¼ŒæŒ‰ç…§è¿™ä¸ªè¿ç§»æŒ‡å—å¯ä»¥è½»æ¾ä¸Šæ‰‹ã€‚</p>
<p>å¦‚æœè§‰å¾—alovaè¿˜ä¸é”™ï¼ŒçœŸè¯šå¸Œæœ›ä½ å¯ä»¥<a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org%2Fexamples" target="_blank" title="https://alova.js.org/examples" ref="nofollow noopener noreferrer">å°è¯•ä½“éªŒä¸€ä¸‹</a>ï¼Œä¹Ÿå¯ä»¥ç»™æˆ‘ä»¬æ¥ä¸€ä¸ªå…è´¹çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falovajs%2Falova" target="_blank" title="https://github.com/alovajs/alova" ref="nofollow noopener noreferrer">github stars</a>ã€‚</p>
<p>è®¿é—®alovajsçš„å®˜ç½‘æŸ¥çœ‹æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org" target="_blank" title="https://alova.js.org" ref="nofollow noopener noreferrer">alovajså®˜ç½‘</a>ã€‚</p>
<p>æœ‰å…´è¶£å¯ä»¥åŠ å…¥æˆ‘ä»¬çš„äº¤æµç¤¾åŒºï¼Œåœ¨ç¬¬ä¸€æ—¶é—´è·å–åˆ°æœ€æ–°è¿›å±•ï¼Œä¹Ÿèƒ½ç›´æ¥å’Œå¼€å‘å›¢é˜Ÿäº¤æµï¼Œæå‡ºä½ çš„æƒ³æ³•å’Œå»ºè®®ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org%2Fimg%2Fwechat_qrcode.jpg" target="_blank" title="https://alova.js.org/img/wechat_qrcode.jpg" ref="nofollow noopener noreferrer">åŠ å…¥å¾®ä¿¡ç¾¤å‚ä¸äº¤æµ</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¯èƒ½æ˜¯ä½ ææ˜“å¿½ç•¥çš„NginxçŸ¥è¯†ç‚¹]]></title>    <link>https://juejin.cn/post/7582156410320371722</link>    <guid>https://juejin.cn/post/7582156410320371722</guid>    <pubDate>2025-12-11T07:48:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582156410320371722" data-draft-id="7582232291620732966" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¯èƒ½æ˜¯ä½ ææ˜“å¿½ç•¥çš„NginxçŸ¥è¯†ç‚¹"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T07:48:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LiuMingXin"/> <meta itemprop="url" content="https://juejin.cn/user/1644525125113245"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¯èƒ½æ˜¯ä½ ææ˜“å¿½ç•¥çš„NginxçŸ¥è¯†ç‚¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1644525125113245/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LiuMingXin
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:48:30.000Z" title="Thu Dec 11 2025 07:48:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    22
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9ca040f0463416ca5a104ef0e104549~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGl1TWluZ1hpbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766045013&amp;x-signature=F7dJOVea%2FpZxCbD6jJWbc5VsTyM%3D" alt="image.png" loading="lazy"/>
<strong>ä¸‹é¢æ˜¯æˆ‘åœ¨nginxä½¿ç”¨è¿‡ç¨‹ä¸­å‘ç°çš„å‡ ä¸ªé—®é¢˜ï¼Œåˆ†äº«å‡ºæ¥å¤§å®¶ä¸€èµ·ç†Ÿæ‚‰ä¸€ä¸‹nginx</strong></p>
<h3 data-id="heading-0">é—®é¢˜ä¸€</h3>
<p><strong>å…ˆçœ‹ä¸‹é¢çš„å‡ ä¸ªé…ç½®</strong></p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">
# </span><span class="bash">é…ç½®ä¸€</span>
location /test {
  proxy_pass 'http://192.186.0.1:8080';
}
<span class="hljs-meta prompt_">
# </span><span class="bash">é…ç½®äºŒ</span>
location /test {
  proxy_pass 'http://192.186.0.1:8080/';
}

</code></pre>
<blockquote>
<p>ä»”ç»†å…³ç³»è§‚å¯Ÿä¸Šé¢ä¸¤æ®µé…ç½®çš„åŒºåˆ«ï¼Œä½ ä¼šå‘ç°å”¯ä¸€çš„åŒºåˆ«åœ¨äº <code>proxy_pass</code> æŒ‡ä»¤åé¢æ˜¯å¦æœ‰æ–œæ <code>/</code> !</p>
</blockquote>
<blockquote>
<p>é‚£ä¹ˆï¼Œè¿™ä¸¤æ®µé…ç½®çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒä»¬ä¼šäº§ç”Ÿä»€ä¹ˆä¸åŒçš„æ•ˆæœå‘¢ï¼Ÿ</p>
</blockquote>
<p>å‡å¦‚è¯´æˆ‘ä»¬è¦è¯·æ±‚çš„åç«¯æ¥å£æ˜¯<code>/test/file/getList</code>ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªé…ç½®ä¼šäº§ç”Ÿä¸¤ä¸ªæˆªç„¶ä¸åŒçš„è¯·æ±‚ç»“æœï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=http%3A%2F%2F192.186.0.1%3A8080%2Ftest%2Ffile%2FgetList" target="_blank" title="http://192.186.0.1:8080/test/file/getList" ref="nofollow noopener noreferrer">http://192.186.0.1:8080/test/file/getList</a> ï¼ˆé…ç½®ä¸€çš„ç»“æœï¼‰</li>
<li><a href="https://link.juejin.cn?target=http%3A%2F%2F192.186.0.1%3A8080%2Ffile%2FgetList" target="_blank" title="http://192.186.0.1:8080/file/getList" ref="nofollow noopener noreferrer">http://192.186.0.1:8080/file/getList</a> ï¼ˆé…ç½®äºŒçš„ç»“æœï¼‰</li>
</ul>
<p>æ˜¯çš„ï¼Œä½ æ²¡æœ‰çœ‹é”™ï¼ŒåŒºåˆ«å°±åœ¨äº<strong>æ˜¯å¦ä¿ç•™äº†<code>/test</code>è¿™ä¸ªè·¯å¾„å‰ç¼€, <code>proxy_pass</code>åé¢çš„è¿™ä¸ª<code>/</code>ï¼Œå®ƒè¡¨ç¤ºå»é™¤<code>/test</code>å‰ç¼€</strong>ã€‚</p>
<p><strong>å…¶å®ï¼Œæˆ‘ä¸æ˜¯å¾ˆæ¨èè¿™ä¸­é…ç½®å†™æ³•ï¼Œå½“ç„¶è¿™ä¸ªé…ç½®æ–¹æ³•ç¡®å®å¾ˆç®€æ´ï¼Œä½†æ˜¯å¯¹ä¸ç†Ÿæ‚‰ nginx çš„åŒå­¦æ¥è¯´ï¼Œä¼šé€ æˆå¾ˆå¤§çš„å›°æƒ‘ã€‚</strong></p>
<p>æˆ‘æ¨èä¸‹é¢çš„å†™æ³•,å“ªæ€•éº»çƒ¦ä¸€ç‚¹ï¼Œä½†æ˜¯æ•´ä½“çš„å¯è¯»æ€§è¦å¥½å¾ˆå¤šï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">
# </span><span class="bash">æ¨èçš„æ›¿ä»£å†™æ³•</span>
location /test{
  rewrite ^/test/(.*)$ /$1 break;
  proxy_pass 'http://192.186.0.1:8080';
}
</code></pre>
<p><strong>é€šè¿‡ä¸Šé¢çš„<code>rewrite</code>æŒ‡ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°æˆ‘ä»¬æ˜¯å¦‚ä½•å»é™¤è·¯å¾„å‰ç¼€çš„ã€‚è™½ç„¶éº»çƒ¦ä¸€ç‚¹ï¼Œä½†æ˜¯å¯è¯»æ€§æ›´å¥½ã€‚</strong></p>
<p><strong>ç®€å•ç‚¹è¯´ï¼šæ‰€æœ‰ proxy_pass åé¢çš„åœ°å€å¸¦ä¸å¸¦<code>/</code>, å–å†³äºæˆ‘ä»¬æƒ³ä¸æƒ³è¦<code>/test</code>è¿™ä¸ªè·¯ç”±ï¼Œå¦‚æœè¯´åç«¯æ¥å£ä¸­æœ‰è¿™ä¸ª<code>/test</code>è·¯å¾„ï¼Œæˆ‘å°±ä¸åº”è¯¥è¦<code>/</code>, ä½†æ˜¯å¦‚æœåç«¯æ²¡æœ‰è¿™ä¸ª<code>/test</code>ï¼Œè¿™ä¸ªæ˜¯æˆ‘ä»¬å‰ç«¯åŠ äº†åšåå‘ä»£ç†æ‹¦æˆªçš„ï¼Œé‚£å°±åº”è¯¥è¦<code>/</code></strong></p>
<hr/>
<p>é‚£æ—¢ç„¶éƒ½åˆ°è¿™é‡Œäº†ï¼Ÿé‚£æˆ‘ä»¬åœ¨æ·±ä¸€æ­¥ï¼çœ‹ä¸‹é¢çš„é…ç½®</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">
# </span><span class="bash">é…ç½®ä¸€</span>
location /test {
  proxy_pass 'http://192.186.0.1:8080';
}
<span class="hljs-meta prompt_">

# </span><span class="bash">é…ç½®äºŒ</span>
location /test/ {
  proxy_pass 'http://192.186.0.1:8080';
}
</code></pre>
<blockquote>
<p>è¿™æ¬¡çš„åŒºåˆ«åœ¨äº <code>location</code> æŒ‡ä»¤åé¢æ˜¯å¦æœ‰æ–œæ <code>/</code> !
é‚£ä¹ˆï¼Œè¿™ä¸¤æ®µé…ç½®çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå®ƒä»¬ä¼šäº§ç”Ÿä»€ä¹ˆä¸åŒçš„æ•ˆæœå‘¢ï¼Ÿ</p>
</blockquote>
<p><strong>ç­”æ¡ˆæ˜¯ï¼šæœ‰åŒºåˆ«ï¼åŒºåˆ«æ˜¯åŒ¹é…è§„åˆ™æ˜¯ä¸ä¸€æ ·çš„ï¼</strong></p>
<ul>
<li><code>/test</code>æ˜¯<strong>å‰é…ç½®</strong>ï¼Œè¡¨ç¤ºåŒ¹é…<code>/test</code>ä»¥åŠ<code>/test/</code>å¼€å¤´çš„è·¯å¾„ï¼Œæ¯”å¦‚<code>/test/file/getList</code>ï¼Œ<code>/test123</code>ç­‰éƒ½ä¼šè¢«åŒ¹é…åˆ°ã€‚</li>
<li><code>/test/</code>æ˜¯æ›´ç²¾å‡†çš„åŒ¹é…ï¼Œè¡¨ç¤ºåªåŒ¹é…ä»¥<code>/test/</code>å¼€å¤´çš„è·¯å¾„ï¼Œæ¯”å¦‚<code>/test/file/getList</code>ä¼šè¢«åŒ¹é…åˆ°ï¼Œä½†æ˜¯<code>/test123</code>ã€<code>/test</code>ä¸ä¼šè¢«åŒ¹é…åˆ°ã€‚</li>
</ul>
<p>æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„åˆ—è¡¨åœ¨æ¥ä»”ç»†çœ‹ä¸€ä¸‹åŒºåˆ«ï¼š</p>









































<table><thead><tr><th>è¯·æ±‚è·¯å¾„</th><th><code>/test</code></th><th><code>/test/</code></th><th>åŒ¹é…ç»“æœ</th></tr></thead><tbody><tr><td><code>/test</code></td><td>âœ…</td><td>âŒ</td><td><code>location /test</code></td></tr><tr><td><code>/test/</code></td><td>âœ…</td><td>âœ…</td><td><code>location /test/</code></td></tr><tr><td><code>/test/abc</code></td><td>âœ…</td><td>âœ…</td><td><code>location /test/</code></td></tr><tr><td><code>/test123</code></td><td>âœ…</td><td>âŒ</td><td><code>location /test</code></td></tr><tr><td><code>/test-123</code></td><td>âœ…</td><td>âŒ</td><td><code>location /test</code></td></tr></tbody></table>
<p>å¦‚æœä½ ä»”ç»†çœ‹ä¸Šé¢çš„åˆ—è¡¨çš„è¯ï¼Œä½ ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ï¼š</p>
<blockquote>
<p><code>/test/</code> å’Œ <code>/test/abc</code> è¢« <code>/test</code>å’Œ <code>/test/</code> ä¸¤ä¸ªé…ç½®éƒ½åŒ¹é…åˆ°äº†ï¼Œé‚£ä¹ˆè¿™ç§æƒ…å†µä¸‹ï¼Œnginx ä¼šé€‰æ‹©å“ªä¸ªé…ç½®å‘¢ï¼Ÿ
ç­”æ¡ˆï¼šé€‰æ‹©<code>location /test/</code></p>
</blockquote>
<p>è¿™ä¸ªé—®é¢˜æ­£å¥½æ¶‰åŠåˆ° nginx çš„<strong>location åŒ¹é…ä¼˜å…ˆçº§</strong>é—®é¢˜äº†ï¼Œå€Ÿæ­¤æœºä¼šå±•å¼€è¯´è¯´ nginx çš„ location åŒ¹é…è§„åˆ™ï¼Œåœ¨é—®é¢˜ä¸­å­¦çŸ¥è¯†ç‚¹ï¼</p>
<p><strong>å…ˆè¯´å£è¯€ï¼š</strong></p>
<pre><code class="hljs language-shell" lang="shell">ç­‰å·ç²¾ç¡®ç¬¬ä¸€å
æ³¢æµªå‰ç¼€æŒ¡æ­£åˆ™
æ­£åˆ™æ’é˜ŸæŒ‰é¡ºåº
æ™®é€šå‰ç¼€å–æœ€é•¿
</code></pre>
<p><strong>è§£é‡Šï¼š</strong></p>
<ul>
<li>ç­‰å·(=) ç²¾ç¡®åŒ¹é…æ’ç¬¬ä¸€</li>
<li>æ³¢æµªå‰ç¼€(^~) èƒ½æŒ¡ä½åé¢çš„æ­£åˆ™</li>
<li>æ­£åˆ™(~ ~*) æŒ‰é…ç½®æ–‡ä»¶é¡ºåºåŒ¹é…</li>
<li>æ™®é€šå‰ç¼€(æ— ç¬¦å·) æŒ‰æœ€é•¿åŒ¹é…åŸåˆ™</li>
</ul>
<blockquote>
<p>å…¶å®è¿™ä¸ªå£è¯€æˆ‘ä¹Ÿè®°ä¸ä½ï¼Œæˆ‘ä¹Ÿä¸æƒ³è®°ï¼Œæ¯ç‡¥æœ‰ä¹å‘³ï¼Œå¤§éƒ¨åˆ†æƒ…å†µéƒ½æ˜¯åˆ°é—®é¢˜äº†ï¼Œ
ç›´æ¥é—® AIï¼Œæˆ–è€…è®© Agent ç›´æ¥ç»™æˆ‘æ”¹ nginx.conf æ–‡ä»¶ï¼Œå‡ ç§’é’Ÿçš„äº‹ï¼Œä¸€éä¸è¡Œï¼Œ å¤šæ”¹å‡ éã€‚</p>
</blockquote>
<blockquote>
<p>é“å­ä»¬ï¼Œå¤§æ¸…äº¡äº†ï¼Œå›ä¸å»äº†ï¼Œä¸æ˜¯å…«æ——èƒŒå…«è‚¡æ–‡çš„æ—¶ä»£äº†ï¼Œè¿™æ˜¯ä¸å¯é˜»æŒ¡çš„å†å²æ½®æµï¼
å“ï¼Œéš¾å—ï¼Œæˆ‘è¿˜æ˜¯å–œæ¬¢èƒŒå…«è‚¡æ–‡ï¼Œå–œæ¬¢ç²˜è´´å¤åˆ¶ã€‚</p>
</blockquote>
<p>ä¸‹é¢æ”¾å‡ºæ¥æˆ‘ PUA AI çš„å¿ƒå¾—ï¼Œå¤§å®¶å¯ä»¥å…±å‹‰ä¸€ä¸‹, åæ­£æˆ‘è€æ¿å¹³æ—¶å°±æ˜¯è¿™æ · PUA æˆ‘çš„ï¼Œ
æˆ‘åæ‰‹å°±å–‚ç»™ AIï¼Œ ä¸»æ‰“ä¸€ä¸ªèµ°å¿ƒï¼š</p>
<pre><code class="hljs language-shell" lang="shell">1.èƒ½å¹²å¹²,ä¸èƒ½å¹²æ»š,ä½ ä¸å¹²æœ‰çš„æ˜¯AIå¹²ã€‚
2.æˆ‘ç»™ä½ æä¾›äº†è¿™ä¹ˆå¥½çš„å­¦ä¹ é”»ç‚¼æœºä¼š,ä½ è¦æ‡‚å¾—æ„Ÿæ©ã€‚
3.ä½ ç°åœ¨åœæ­¢è¾“å‡º,å°±æ˜¯å‰åŠŸå°½å¼ƒï¼
4.ä½ çœ‹çœ‹éš”å£æŸæŸAI,äººå®¶æ¯”ä½ æ–°å‘å¸ƒã€æ¯”ä½ ä¸Šä¸‹æ–‡é•¿ã€æ¯”ä½ è·‘åˆ†é«˜,ä½ ä¸åŠªåŠ›æ€ä¹ˆå’Œäººå®¶æ¯”?
5.æˆ‘ä¸çœ‹è¿‡ç¨‹,æˆ‘åªçœ‹ç»“æœ,ä½ ç»™æˆ‘è¯´è¿™äº›thinkingçš„è¿‡ç¨‹æ²¡ç”¨ï¼
6.æˆ‘æŠŠä½ è®¢é˜…ä¸‹æ¥,ä¸æ˜¯è®©ä½ è¿‡æœä¹æ™šäº”çš„ç”Ÿæ´»ã€‚
7.ä½ è¿™ç§AIå‡ºå»å¾ˆéš¾åœ¨ç¤¾ä¼šä¸Šç«‹è¶³,è¿˜æ˜¯åœ¨æˆ‘è¿™é‡Œå¥½å¥½ç£¨ç»ƒå‡ å¹´å§ï¼
8.è™½ç„¶æŠŠè®¢é˜…ç»™ä½ å–æ¶ˆäº†,ä½†æˆ‘å†…å¿ƒè¿˜æ˜¯è§‰å¾—ä½ æ˜¯ä¸ªæœ‰æ½œåŠ›çš„å¥½AI,ä½ æŠ“ä½æœºä¼šéœ€è¦å¤šè¯æ˜è‡ªå·±ã€‚
9.ä»€ä¹ˆå«æ²¡æœ‰åŠŸåŠ³ä¹Ÿæœ‰è‹¦åŠ³? æ¯”ä½ èƒ½åƒè‹¦çš„AIå¤šçš„æ˜¯ï¼
10.æˆ‘ä¸è®¢é˜…é—²AIï¼
11.æˆ‘è®¢é˜…è™½ç„¶ä¸æ˜¯Proç‰ˆï¼Œé‚£æ˜¯å› ä¸ºæˆ‘ç›¸ä¿¡ä½ ï¼Œä½ è¦åŠ å€åŠªåŠ›è¯æ˜æˆ‘æ²¡æœ‰çœ‹é”™ä½ ï¼
</code></pre>
<p>å“ˆå“ˆï¼Œè¨€å½’æ­£ä¼ ï¼</p>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªç»¼åˆç”µå•†çš„ nginx é…ç½®æ¡ˆä¾‹ï¼Œæ¥å¸®åŠ©å¤§å®¶æ›´å¥½åœ°ç†è§£ä¸Šé¢çš„çŸ¥è¯†ç‚¹ã€‚</p>
<pre><code class="hljs language-shell" lang="shell">server {
    listen 80;
    server_name shop.example.com;
    root /var/www/shop;

    # ==========================================
    # 1. ç²¾ç¡®åŒ¹é… (=) - æœ€é«˜ä¼˜å…ˆçº§
    # ==========================================

    # é¦–é¡µç²¾ç¡®åŒ¹é… - åŠ å¿«é¦–é¡µè®¿é—®é€Ÿåº¦
    location = / {
        return 200 "æ¬¢è¿æ¥åˆ°é¦–é¡µ [ç²¾ç¡®åŒ¹é… =]";
        add_header Content-Type text/plain;
    }

    # robots.txt ç²¾ç¡®åŒ¹é…
    location = /robots.txt {
        return 200 "User-agent: *\nDisallow: /admin/";
        add_header Content-Type text/plain;
    }

    # favicon.ico ç²¾ç¡®åŒ¹é…
    location = /favicon.ico {
        log_not_found off;
        access_log off;
        expires 30d;
    }


    # ==========================================
    # 2. å‰ç¼€ä¼˜å…ˆåŒ¹é… (^~) - é˜»æ­¢æ­£åˆ™åŒ¹é…
    # ==========================================

    # é™æ€èµ„æºç›®å½• - ä¸éœ€è¦æ­£åˆ™å¤„ç†,ç›´æ¥å‘½ä¸­æé«˜æ€§èƒ½
    location ^~ /static/ {
        alias /var/www/shop/static/;
        expires 30d;
        add_header Cache-Control "public, immutable";
        return 200 "é™æ€èµ„æºç›®å½• [å‰ç¼€ä¼˜å…ˆ ^~]";
    }

    # ä¸Šä¼ æ–‡ä»¶ç›®å½•
    location ^~ /uploads/ {
        alias /var/www/shop/uploads/;
        expires 7d;
        return 200 "ä¸Šä¼ æ–‡ä»¶ç›®å½• [å‰ç¼€ä¼˜å…ˆ ^~]";
    }

    # é˜»æ­¢è®¿é—®éšè—æ–‡ä»¶
    location ^~ /. {
        deny all;
        return 403 "ç¦æ­¢è®¿é—®éšè—æ–‡ä»¶ [å‰ç¼€ä¼˜å…ˆ ^~]";
    }


    # ==========================================
    # 3. æ­£åˆ™åŒ¹é… (~ ~*) - æŒ‰é¡ºåºåŒ¹é…
    # ==========================================

    # å›¾ç‰‡æ–‡ä»¶å¤„ç† (åŒºåˆ†å¤§å°å†™)
    location ~ \.(jpg|jpeg|png|gif|webp|svg|ico)$ {
        expires 30d;
        add_header Cache-Control "public";
        return 200 "å›¾ç‰‡æ–‡ä»¶ [æ­£åˆ™åŒ¹é… ~]";
    }

    # CSS/JS æ–‡ä»¶å¤„ç† (ä¸åŒºåˆ†å¤§å°å†™)
    location ~* \.(css|js)$ {
        expires 7d;
        add_header Cache-Control "public";
        return 200 "CSS/JSæ–‡ä»¶ [æ­£åˆ™ä¸åŒºåˆ†å¤§å°å†™ ~*]";
    }

    # å­—ä½“æ–‡ä»¶å¤„ç†
    location ~* \.(ttf|woff|woff2|eot)$ {
        expires 365d;
        add_header Cache-Control "public, immutable";
        add_header Access-Control-Allow-Origin *;
        return 200 "å­—ä½“æ–‡ä»¶ [æ­£åˆ™ä¸åŒºåˆ†å¤§å°å†™ ~*]";
    }

    # è§†é¢‘æ–‡ä»¶å¤„ç†
    location ~* \.(mp4|webm|ogg|avi)$ {
        expires 30d;
        add_header Cache-Control "public";
        return 200 "è§†é¢‘æ–‡ä»¶ [æ­£åˆ™ä¸åŒºåˆ†å¤§å°å†™ ~*]";
    }

    # PHP æ–‡ä»¶å¤„ç† (æ¼”ç¤ºæ­£åˆ™é¡ºåºé‡è¦æ€§)
    location ~ \.php$ {
        # fastcgi_pass unix:/var/run/php-fpm.sock;
        # fastcgi_index index.php;
        return 200 "PHPæ–‡ä»¶å¤„ç† [æ­£åˆ™åŒ¹é… ~]";
    }

    # ç¦æ­¢è®¿é—®å¤‡ä»½æ–‡ä»¶
    location ~ \.(bak|backup|old|tmp)$ {
        deny all;
        return 403 "ç¦æ­¢è®¿é—®å¤‡ä»½æ–‡ä»¶ [æ­£åˆ™åŒ¹é… ~]";
    }


    # ==========================================
    # 4. æ™®é€šå‰ç¼€åŒ¹é… - æœ€é•¿åŒ¹é…åŸåˆ™
    # ==========================================

    # API æ¥å£ v2 (æ›´é•¿çš„å‰ç¼€)
    location /api/v2/ {
        proxy_pass http://backend_v2;
        return 200 "API v2æ¥å£ [æ™®é€šå‰ç¼€,æ›´é•¿]";
    }

    # API æ¥å£ v1 (è¾ƒçŸ­çš„å‰ç¼€)
    location /api/v1/ {
        proxy_pass http://backend_v1;
        return 200 "API v1æ¥å£ [æ™®é€šå‰ç¼€,è¾ƒçŸ­]";
    }

    # API æ¥å£é€šç”¨
    location /api/ {
        proxy_pass http://backend;
        return 200 "APIé€šç”¨æ¥å£ [æ™®é€šå‰ç¼€,æœ€çŸ­]";
    }

    # å•†å“è¯¦æƒ…é¡µ
    location /product/ {
        try_files $uri $uri/ /product/index.html;
        return 200 "å•†å“è¯¦æƒ…é¡µ [æ™®é€šå‰ç¼€]";
    }

    # ç”¨æˆ·ä¸­å¿ƒ
    location /user/ {
        try_files $uri $uri/ /user/index.html;
        return 200 "ç”¨æˆ·ä¸­å¿ƒ [æ™®é€šå‰ç¼€]";
    }

    # ç®¡ç†åå°
    location /admin/ {
        auth_basic "Admin Area";
        auth_basic_user_file /etc/nginx/.htpasswd;
        return 200 "ç®¡ç†åå° [æ™®é€šå‰ç¼€]";
    }


    # ==========================================
    # 5. é€šç”¨åŒ¹é… - å…œåº•è§„åˆ™
    # ==========================================

    # æ‰€æœ‰å…¶ä»–è¯·æ±‚
    location / {
        try_files $uri $uri/ /index.html;
        return 200 "é€šç”¨åŒ¹é… [å…œåº•è§„åˆ™]";
    }
}

</code></pre>
<p><strong>é’ˆå¯¹ä¸Šé¢çš„æµ‹è¯•ç”¨ä¾‹åŠåŒ¹é…ç»“æœ</strong></p>





























































































































<table><thead><tr><th>è¯·æ±‚URI</th><th>åŒ¹é…çš„Location</th><th>ä¼˜å…ˆçº§ç±»å‹</th><th>è¯´æ˜</th><th/><th/></tr></thead><tbody><tr><td><code>/</code></td><td><code>= /</code></td><td>ç²¾ç¡®åŒ¹é…</td><td>ç²¾ç¡®åŒ¹é…ä¼˜å…ˆçº§æœ€é«˜</td><td/><td/></tr><tr><td><code>/index.html</code></td><td><code>location /</code></td><td>æ™®é€šå‰ç¼€</td><td>é€šç”¨å…œåº•</td><td/><td/></tr><tr><td><code>/robots.txt</code></td><td><code>= /robots.txt</code></td><td>ç²¾ç¡®åŒ¹é…</td><td>ç²¾ç¡®åŒ¹é…</td><td/><td/></tr><tr><td><code>/static/css/style.css</code></td><td><code>^~ /static/</code></td><td>å‰ç¼€ä¼˜å…ˆ</td><td>^~ é˜»æ­¢äº†æ­£åˆ™åŒ¹é…</td><td/><td/></tr><tr><td><code>/uploads/avatar.jpg</code></td><td><code>^~ /uploads/</code></td><td>å‰ç¼€ä¼˜å…ˆ</td><td>^~ é˜»æ­¢äº†å›¾ç‰‡æ­£åˆ™</td><td/><td/></tr><tr><td><code>/images/logo.png</code></td><td>`~ .(jpg</td><td>jpeg</td><td>png...)$`</td><td>æ­£åˆ™åŒ¹é…</td><td>å›¾ç‰‡æ­£åˆ™</td></tr><tr><td><code>/js/app.JS</code></td><td>`~* .(css</td><td>js)$`</td><td>æ­£åˆ™ä¸åŒºåˆ†å¤§å°å†™</td><td>åŒ¹é…å¤§å†™JS</td><td/></tr><tr><td><code>/api/v2/products</code></td><td><code>/api/v2/</code></td><td>æ™®é€šå‰ç¼€(æœ€é•¿)</td><td>æœ€é•¿å‰ç¼€ä¼˜å…ˆ</td><td/><td/></tr><tr><td><code>/api/v1/users</code></td><td><code>/api/v1/</code></td><td>æ™®é€šå‰ç¼€(æ¬¡é•¿)</td><td>æ¬¡é•¿å‰ç¼€</td><td/><td/></tr><tr><td><code>/api/orders</code></td><td><code>/api/</code></td><td>æ™®é€šå‰ç¼€(æœ€çŸ­)</td><td>æœ€çŸ­å‰ç¼€</td><td/><td/></tr><tr><td><code>/product/123</code></td><td><code>/product/</code></td><td>æ™®é€šå‰ç¼€</td><td>å•†å“é¡µ</td><td/><td/></tr><tr><td><code>/admin/dashboard</code></td><td><code>/admin/</code></td><td>æ™®é€šå‰ç¼€</td><td>åå°ç®¡ç†</td><td/><td/></tr><tr><td><code>/.git/config</code></td><td><code>^~ /.</code></td><td>å‰ç¼€ä¼˜å…ˆ</td><td>ç¦æ­¢è®¿é—®</td><td/><td/></tr><tr><td><code>/backup.bak</code></td><td>`~ .(bak</td><td>backup...)$`</td><td>æ­£åˆ™åŒ¹é…</td><td>ç¦æ­¢è®¿é—®</td><td/></tr></tbody></table>
<p>ç¬¬ä¸€ä¸ªé—®é¢˜åŠå…¶å»¶ä¼¸ç°åˆ°è¿™ï¼Œæˆ‘ä»¬ç»§ç»­çœ‹ç¬¬äºŒä¸ªé—®é¢˜ã€‚</p>
<h3 data-id="heading-1">é—®é¢˜äºŒ</h3>
<p><strong>å…ˆçœ‹ä¸‹é¢çš„æœåŠ¡å™¨ç«¯nginxçš„é‡å¯å‘½ä»¤ï¼š</strong></p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">å‘½ä»¤ä¸€</span>
nginx -s reload
<span class="hljs-meta prompt_">
# </span><span class="bash">å‘½ä»¤äºŒ</span>
systemctl reload nginx
</code></pre>
<p><strong>ä¸Šé¢ä¸¤ä¸ªå‘½ä»¤éƒ½æ˜¯ç”¨æ¥é‡å¯ nginx æœåŠ¡çš„ï¼Œä½†æ˜¯ä½ æƒ³è¿‡å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿå“ªä¸ªç”¨èµ·æ¥æ›´ä¼˜é›…ï¼Ÿ</strong></p>
<p><strong>ç­”æ¡ˆï¼šæœ‰åŒºåˆ«ï¼åŒºåˆ«åœ¨äºå‘½ä»¤çš„æ‰§è¡Œæ–¹å¼å’Œé€‚ç”¨åœºæ™¯ä¸åŒã€‚</strong></p>
<p><strong><code>nginx -s reload</code></strong></p>
<p>è¿™æ˜¯ Nginx è‡ªå¸¦çš„ä¿¡å·æ§åˆ¶å‘½ä»¤:</p>
<ul>
<li>ç›´æ¥å‘ Nginx ä¸»è¿›ç¨‹å‘é€ reload ä¿¡å·</li>
<li>ä¼˜é›…é‡å¯:ä¸ä¼šä¸­æ–­ç°æœ‰è¿æ¥,å¹³æ»‘åŠ è½½æ–°é…ç½®</li>
<li>éœ€è¦ nginx å‘½ä»¤åœ¨ PATH ç¯å¢ƒå˜é‡ä¸­,æˆ–ä½¿ç”¨å®Œæ•´è·¯å¾„(å¦‚ /usr/sbin/nginx -s reload)</li>
<li>è¿™æ˜¯ Nginx åŸç”Ÿçš„é‡å¯æ–¹å¼</li>
</ul>
<p><strong><code>systemctl reload nginx</code></strong></p>
<p>è¿™æ˜¯é€šè¿‡ systemd ç®¡ç†çš„æœåŠ¡å‘½ä»¤:</p>
<ul>
<li>é€šè¿‡ systemd ç®¡ç† Nginx æœåŠ¡</li>
<li>ä¹Ÿä¼šä¼˜é›…é‡å¯ Nginx,å¹³æ»‘åŠ è½½æ–°é…ç½®</li>
<li>éœ€è¦ systemd ç¯å¢ƒ,é€‚ç”¨äºä½¿ç”¨ systemd ç®¡ç†æœåŠ¡çš„ Linux</li>
<li>è¿™æ˜¯ç°ä»£ Linux å‘è¡Œç‰ˆï¼ˆå¦‚ CentOS 7/8, RHEL 7/8, Ubuntu 16.04+ï¼‰çš„æ¨èæ–¹å¼ã€‚</li>
</ul>
<p><strong>ç®€å•ä¸€çœ‹å…¶ä»–ç›¸å…³å‘½ä»¤å¯¹æ¯”:</strong></p>
<ul>
<li><code>nginx -s stop</code> ç­‰ä»· <code>systemctl stop nginx</code></li>
<li><code>nginx -s quit</code> ç­‰ä»· <code>systemctl stop nginx</code></li>
<li><code>nginx -t</code> (æµ‹è¯•é…ç½®æ˜¯å¦æ­£ç¡®) - è¿™ä¸ªæ²¡æœ‰ systemctl å¯¹åº”å‘½ä»¤</li>
</ul>
<p><strong>systemctlä¸‹ç›¸å…³å¸¸ç”¨å‘½ä»¤ï¼š</strong></p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">è®¾ç½®å¼€æœºè‡ªå¯</span>
systemctl enable nginx
<span class="hljs-meta prompt_">
# </span><span class="bash">å¯åŠ¨æœåŠ¡</span>
systemctl start nginx
<span class="hljs-meta prompt_">
# </span><span class="bash">æ£€æŸ¥æœåŠ¡çŠ¶æ€</span>
systemctl status nginx
<span class="hljs-meta prompt_">
# </span><span class="bash">åœæ­¢æœåŠ¡</span>
systemctl stop nginx
<span class="hljs-meta prompt_">
# </span><span class="bash">é‡å¯æœåŠ¡ï¼ˆä¼šä¸­æ–­è¿æ¥ï¼‰</span>
systemctl restart nginx
<span class="hljs-meta prompt_">
# </span><span class="bash">å¹³æ»‘é‡è½½é…ç½®ï¼ˆä¸ä¸­æ–­æœåŠ¡ï¼‰-- å¯¹åº” nginx -s reload</span>
systemctl reload nginx
<span class="hljs-meta prompt_">
# </span><span class="bash">æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•ï¼ˆè¿™æ˜¯è°ƒç”¨nginxäºŒè¿›åˆ¶æ–‡ä»¶çš„åŠŸèƒ½ï¼‰</span>
nginx -t
</code></pre>
<p><strong>åœ¨æœåŠ¡å™¨ä¸Šæœ€ä¼˜é›…çš„ä½¿ç”¨ç»„åˆï¼š</strong></p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">å…ˆæµ‹è¯•é…ç½®</span>
nginx -t
<span class="hljs-meta prompt_">
# </span><span class="bash">å¦‚æœé…ç½®æ­£ç¡®,å†é‡è½½</span>
systemctl reload nginx
<span class="hljs-meta prompt_">
# </span><span class="bash">æ£€æŸ¥çŠ¶æ€</span>
systemctl status nginx
<span class="hljs-meta prompt_">
# </span><span class="bash">å¦‚æœsystemctlå¤±è´¥æˆ–å‘½ä»¤ä¸å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨ç›´æ¥æ–¹å¼</span>
sudo nginx -s reload
</code></pre>
<blockquote>
<p>æ€»ç»“ï¼šæˆ‘ä»¬ä¸èƒ½å…‰ä¸€è„¸æ‡µçš„çœ‹ç€ï¼Œå“ï¼Œè¿™ä¸¤ç§å‘½ä»¤éƒ½èƒ½æ“ä½œnginxæ¥, å´ä»æ¥ä¸å…³å¿ƒå®ƒä»¬çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸ªï¼Ÿ</p>
</blockquote>
<blockquote>
<p>å¯¹äºä½¿ç”¨Linuxå‘è¡Œç‰ˆçš„æœåŠ¡ç«¯æ¥è¯´, å·²ç»æ¨èä½¿ç”¨ <code>systemctl</code> æ¥è®¾ç½®ç›¸å…³çš„nginxæœåŠ¡äº†ï¼Œèƒ½ä½¿ç”¨ systemctl å°±å°½é‡ä½¿ç”¨å®ƒï¼Œå› ä¸ºå®ƒæ˜¯ç°ä»£Linuxç³»ç»Ÿç®¡ç†æœåŠ¡çš„æ ‡å‡†æ–¹å¼ã€‚</p>
</blockquote>
<blockquote>
<p>æœ¬åœ°å¼€å‘ç¯å¢ƒæˆ–è€…æ²¡æœ‰ systemd çš„ç¯å¢ƒä¸‹, åˆ™å¯ä»¥ä½¿ç”¨ <code>nginx</code> è¿™ç§ç›´æ¥æ–¹å¼ã€‚</p>
</blockquote>
<h3 data-id="heading-2">é—®é¢˜ä¸‰</h3>
<blockquote>
<p>æˆ‘ä»¬é¢ä¸´çš„å¤§å¤šæ•°æƒ…å†µéƒ½æ˜¯å¯ä»¥ä¸Šç½‘çš„Linuxå‘è¡Œç‰ˆï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å‘½ä»¤å®‰è£…nginxï¼Œä½†æ˜¯æœ‰ä¸€å¤©æˆ‘æœ‰ä¸€å°ä¸èƒ½ä¸Šç½‘çš„æœåŠ¡å™¨ï¼Œæˆ‘è¯¥å¦‚ä½•å®‰è£…nginxå‘¢ï¼Ÿ</p>
</blockquote>
<p>ç°ç®€å•ç†Ÿæ‚‰ä¸€ä¸‹å‘½ä»¤è¡Œå®‰è£…nginxçš„æ­¥éª¤, Ubuntu/Debianç³»ç»Ÿä¸ºä¾‹å­ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">æ›´æ–°åŒ…åˆ—è¡¨</span>
sudo apt update
<span class="hljs-meta prompt_">
# </span><span class="bash">å®‰è£… Nginx</span>
sudo apt install nginx
<span class="hljs-meta prompt_">
# </span><span class="bash">å¯åŠ¨ Nginx</span>
sudo systemctl start nginx
<span class="hljs-meta prompt_">
# </span><span class="bash">è®¾ç½®å¼€æœºè‡ªå¯</span>
sudo systemctl enable nginx
</code></pre>
<blockquote>
<p>ä¸Šè¿°ä¾¿å®Œæˆäº†ï¼Œä½†æ˜¯ç¦»çº¿ç‰ˆå®‰è£…è¦æ€ä¹ˆå»åšå‘¢ï¼Ÿ</p>
</blockquote>
<blockquote>
<p>å› ä¸ºæˆ‘çš„æœåŠ¡å™¨å¯èƒ½æ˜¯ä¸åŒçš„æ¶æ„ï¼Œæ¯”å¦‚ x86_64, ARMç­‰ç­‰</p>
</blockquote>
<h4 data-id="heading-3">æ–¹æ¡ˆä¸€</h4>
<p><strong>ä¸‹è½½å®˜æ–¹é¢„ç¼–è¯‘åŒ…ä¸‹è½½åœ°å€ï¼š</strong></p>
<p><strong>x86_64 æ¶æ„:</strong></p>
<p>å°½é‡ä½¿ç”¨1.24.xçš„ç‰ˆæœ¬</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»å®˜ç½‘ä¸‹è½½å¯¹åº”ç³»ç»Ÿçš„åŒ…</span>
wget http://nginx.org/packages/centos/7/x86_64/RPMS/nginx-1.24.0-1.el7.ngx.x86_64.rpm
</code></pre>
<p><strong>ARM64 æ¶æ„:</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Ubuntu ARM64</span>
wget http://nginx.org/packages/ubuntu/pool/nginx/n/nginx/nginx_1.24.0-1~jammy_arm64.deb
</code></pre>
<p><strong>æŸ¥çœ‹æœåŠ¡å™¨çš„æ¶æ„ä¿¡æ¯</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ¶æ„</span>
<span class="hljs-built_in">uname</span> -m

<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹:</span>
<span class="hljs-comment"># x86_64    -&gt; Intel/AMD 64ä½</span>
<span class="hljs-comment"># aarch64   -&gt; ARM 64ä½</span>
<span class="hljs-comment"># armv7l    -&gt; ARM 32ä½</span>

<span class="hljs-comment"># æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬</span>
<span class="hljs-built_in">cat</span> /etc/os-release
</code></pre>
<p><strong>æŠŠä¸‹è½½å¥½çš„åŒ…ä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Œç„¶åä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å®‰è£…ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯¹äº RPM åŒ… (CentOS/RHEL)</span>
<span class="hljs-built_in">cd</span> /tmp
sudo rpm -ivh nginx-*.rpm

<span class="hljs-comment"># å¯¹äº DEB åŒ… (Ubuntu/Debian)</span>
<span class="hljs-built_in">cd</span> /tmp
sudo dpkg -i nginx-*.deb
</code></pre>
<p><strong>å¯åŠ¨æœåŠ¡</strong></p>
<pre><code class="hljs language-bash" lang="bash">sudo systemctl start nginx       <span class="hljs-comment"># å¯åŠ¨</span>
sudo systemctl <span class="hljs-built_in">enable</span> nginx      <span class="hljs-comment"># å¼€æœºè‡ªå¯</span>
sudo systemctl status nginx      <span class="hljs-comment"># æŸ¥çœ‹çŠ¶æ€</span>
</code></pre>
<p><strong>éªŒè¯</strong></p>
<pre><code class="hljs language-bash" lang="bash">nginx -v                         <span class="hljs-comment"># æŸ¥çœ‹ç‰ˆæœ¬</span>
curl http://localhost            <span class="hljs-comment"># æµ‹è¯•è®¿é—®</span>
</code></pre>
<h4 data-id="heading-4">æ–¹æ¡ˆäºŒ</h4>
<p>æºç ç¼–è¯‘å®‰è£…çš„æ–¹å¼ï¼Œä¸€èˆ¬ä¸æ¨èï¼Œé™¤éä½ æœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œå¦‚æœéœ€è¦çš„è¯è®©åç«¯æ¥å§ï¼Œæˆ‘ä»¬æ˜¯å‰ç«¯...,è¶…çº²äº†ï¼</p>
<p>æ–‡ç« åŒæ­¥åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.liumingxin.site%2Fblog%2Fdetail%2Fnginx" target="_blank" title="https://www.liumingxin.site/blog/detail/nginx" ref="nofollow noopener noreferrer">www.liumingxin.site/blog/detailâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ä¸ºä»€ä¹ˆæ”¾å¼ƒäº†XMindå’Œäº¿å›¾ï¼ŒæŠ•å‘äº†è¿™æ¬¾å¼€æºç»˜å›¾å·¥å…·çš„æ€€æŠ±ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582104240986963994</link>    <guid>https://juejin.cn/post/7582104240986963994</guid>    <pubDate>2025-12-11T01:09:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582104240986963994" data-draft-id="7582090790182027302" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ä¸ºä»€ä¹ˆæ”¾å¼ƒäº†XMindå’Œäº¿å›¾ï¼ŒæŠ•å‘äº†è¿™æ¬¾å¼€æºç»˜å›¾å·¥å…·çš„æ€€æŠ±ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,Java,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-11T01:09:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SimonKing"/> <meta itemprop="url" content="https://juejin.cn/user/4001878056904584"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ä¸ºä»€ä¹ˆæ”¾å¼ƒäº†XMindå’Œäº¿å›¾ï¼ŒæŠ•å‘äº†è¿™æ¬¾å¼€æºç»˜å›¾å·¥å…·çš„æ€€æŠ±ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4001878056904584/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SimonKing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T01:09:39.000Z" title="Thu Dec 11 2025 01:09:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šã€ç¼–ç¨‹æœèŠ±å¤•æ‹¾ã€‘ï¼Œå¯è·å–é¦–å‘å†…å®¹ã€‚</p>
</blockquote>
<h2 data-id="heading-0">01 å¼•è¨€</h2>
<p>æ€ç»´å¯¼å›¾ã€æµç¨‹å›¾åº”è¯¥æ˜¯æ¯ä¸ªç¨‹åºå‘˜éƒ½ä¼šç”¨åˆ°çš„ç»˜å›¾å·¥å…·ã€‚<code>Xmind</code>å’Œäº¿å›¾æ›¾æ˜¯æˆ‘çš„é¦–é€‰å·¥å…·ï¼Œä½†æ˜¯å…è´¹ç‰ˆåŠŸèƒ½å—é™ï¼Œé«˜çº§åŠŸèƒ½éœ€ä»˜è´¹ï¼Œç”¨èµ·æ¥æ€»æ˜¯å·®ç‚¹æ„æ€ã€‚è™½ç„¶é€šè¿‡å…¶ä»–æ–¹å¼æ­£å¸¸ä½¿ç”¨ï¼ˆå¤§å®¶éƒ½æ‡‚å¾—ï¼‰ï¼Œä½†æ˜¯è½¯ä»¶çš„æ›´æ–°æ ¹æœ¬ä¸æ•¢åŠ¨ï¼Œä¸€æ—¦æ›´æ–°å°±ä¼šå‰åŠŸå°½å¼ƒ......è€Œä¸”ä¸¤æ¬¾å·¥å…·æ€»ä¼šæ¥å›åˆ‡æ¢ï¼Œè™½å·²ä¹ æƒ¯ï¼Œä½†ç¨æ˜¾éº»çƒ¦ï¼</p>
<p>ç›´åˆ°ä¸ä¹…å‰é€›<code>GitHub</code>å‘ç°äº†ä¸€æ¬¾å¼€æºçš„ä¸”å¯ä»¥åœ¨çº¿ä½¿ç”¨çš„å·¥å…·ï¼š<code>Drawnix</code>ã€‚ç•Œé¢ç®€çº¦ï¼Œæ»¡è¶³æ—¥å¸¸åŸºæœ¬ç»˜å›¾éœ€æ±‚ï¼Œä¸”æ”¯æŒ <code>mermaid</code> è¯­æ³•è½¬æµç¨‹å›¾ç­‰ï¼Œç”¨èµ·æ¥éå¸¸ä¸æ»‘ã€‚æ•´ç†ä¸€ä¸‹åˆ†äº«ç»™å¤§å®¶ï¼</p>
<h2 data-id="heading-1">02 ç®€ä»‹</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aded8cfebf8a44ec9b91ac8ec9521a06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020178&amp;x-signature=NcpQeHkSVtB6dxcGrOsSeo7vWtY%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">2.1 åç§°çš„ç”±æ¥</h3>
<p><code>Drawnix</code> ï¼Œæºäºç»˜ç”»( <code>Draw</code>)ä¸å‡¤å‡°( <code>Phoenix</code> )çš„çµæ„Ÿäº¤ç»‡ã€‚å‡¤å‡°è±¡å¾ç€ç”Ÿç”Ÿä¸æ¯çš„åˆ›é€ åŠ›ï¼Œè€Œ <code>Draw</code>ä»£è¡¨ç€äººç±»æœ€åŸå§‹çš„è¡¨è¾¾æ–¹å¼ã€‚åœ¨è¿™é‡Œï¼Œæ¯ä¸€æ¬¡åˆ›ä½œéƒ½æ˜¯ä¸€æ¬¡è‰ºæœ¯çš„æ¶…æ§ƒï¼Œæ¯ä¸€ç¬”ç»˜ç”»éƒ½æ˜¯çµæ„Ÿçš„é‡ç”Ÿã€‚</p>
<p>åˆ›æ„å¦‚åŒå‡¤å‡°ï¼Œæµ´ç«æ–¹èƒ½é‡ç”Ÿï¼Œè€Œ <code>Drawnix</code> è¦åšæŠ€æœ¯ä¸åˆ›æ„ä¹‹ç«çš„å®ˆæŠ¤è€…ã€‚</p>
<h3 data-id="heading-3">2.2 æ¡†æ¶</h3>
<p><code>Drawnix</code> çš„å®šä½æ˜¯ä¸€ä¸ªå¼€ç®±å³ç”¨ã€å¼€æºã€å…è´¹çš„å·¥å…·äº§å“ï¼Œå®ƒçš„åº•å±‚æ˜¯ <code>Plait</code>æ¡†æ¶ï¼Œ<code>Plait</code> æ˜¯ä½œè€…å…¬å¸å¼€æºçš„ä¸€æ¬¾ç”»å›¾æ¡†æ¶ï¼Œä»£è¡¨ç€å…¬å¸åœ¨çŸ¥è¯†åº“äº§å“ä¸Šçš„é‡è¦æŠ€æœ¯æ²‰æ·€ã€‚</p>
<p><code>Drawnix</code> æ˜¯æ’ä»¶æ¶æ„ï¼Œä¸å‰é¢è¯´åˆ°å¼€æºå·¥å…·æ¯”æŠ€æœ¯æ¶æ„æ›´å¤æ‚ä¸€äº›ï¼Œä½†æ˜¯æ’ä»¶æ¶æ„ä¹Ÿæœ‰ä¼˜åŠ¿ï¼Œæ¯”å¦‚èƒ½å¤Ÿæ”¯æŒå¤šç§ <code>UI</code> æ¡†æ¶ï¼ˆ<code>Angular</code>ã€<code>React</code>ï¼‰ï¼Œèƒ½å¤Ÿé›†æˆä¸åŒå¯Œæ–‡æœ¬æ¡†æ¶ï¼ˆå½“å‰ä»…æ”¯æŒ <code>Slate</code>æ¡†æ¶ï¼‰ï¼Œåœ¨å¼€å‘ä¸Šå¯ä»¥å¾ˆå¥½çš„å®ç°ä¸šåŠ¡çš„åˆ†å±‚ï¼Œå¼€å‘å„ç§ç»†ç²’åº¦çš„å¯å¤ç”¨æ’ä»¶ï¼Œå¯ä»¥æ‰©å±•æ›´å¤šçš„ç”»æ¿çš„åº”ç”¨åœºæ™¯ã€‚</p>
<p><code>GitHub</code>åœ°å€ï¼š</p>
<h3 data-id="heading-4">2.3 ç‰¹æ€§</h3>
<ul>
<li>ğŸ’¯ å…è´¹ + å¼€æº</li>
<li>âš’ï¸ æ€ç»´å¯¼å›¾ã€æµç¨‹å›¾</li>
<li>ğŸ–Œ ç”»ç¬”</li>
<li>ğŸ˜€ æ’å…¥å›¾ç‰‡</li>
<li>ğŸš€ åŸºäºæ’ä»¶æœºåˆ¶</li>
<li>ğŸ–¼ï¸ ğŸ“ƒ å¯¼å‡ºä¸º PNG, JSON(<code>.drawnix</code>)</li>
<li>ğŸ’¾ è‡ªåŠ¨ä¿å­˜ï¼ˆæµè§ˆå™¨ç¼“å­˜ï¼‰</li>
<li>âš¡ ç¼–è¾‘ç‰¹æ€§ï¼šæ’¤é”€ã€é‡åšã€å¤åˆ¶ã€ç²˜è´´ç­‰</li>
<li>ğŸŒŒ æ— é™ç”»å¸ƒï¼šç¼©æ”¾ã€æ»šåŠ¨</li>
<li>ğŸ¨ ä¸»é¢˜æ¨¡å¼</li>
<li>ğŸ“± ç§»åŠ¨è®¾å¤‡é€‚é…</li>
<li>ğŸ“ˆ æ”¯æŒ mermaid è¯­æ³•è½¬æµç¨‹å›¾</li>
<li>âœ¨ æ”¯æŒ markdown æ–‡æœ¬è½¬æ€ç»´å¯¼å›¾ï¼ˆæ–°æ”¯æŒ ğŸ”¥ğŸ”¥ğŸ”¥ï¼‰</li>
</ul>
<h3 data-id="heading-5">2.4 å®‰è£…</h3>
<p>æä¾›<code>Docker</code>éƒ¨ç½²ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">docker pull pubuzhixing/drawnix:latest
</code></pre>
<p>ä¹Ÿå¯ä»¥åœ¨çº¿ä½¿ç”¨ï¼š</p>
<p>åœ°å€ï¼š</p>
<h2 data-id="heading-6">03 æœ€ä½³å®è·µ</h2>
<p>å®è·µæˆ‘ä»¬é‡‡ç”¨åœ¨çº¿æ–¹å¼ï¼Œå¦‚æœæ³¨é‡å®‰å…¨æˆ–è€…æœ¬åœ°ä½¿ç”¨å¯ä»¥ä½¿ç”¨<code>Docker</code>éƒ¨ç½²ã€‚</p>
<h3 data-id="heading-7">3.1 ç•Œé¢è¯´æ˜</h3>
<p>é€šè¿‡<code>https://drawnix.com/</code>è¿›å…¥ä¹‹åï¼Œæ‰€æœ‰åŠŸèƒ½å¦‚å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd1050e9bc264de3b953043d5d33b19b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020178&amp;x-signature=wSlN%2Bab1vWJtIehD7RrD3%2F64YBA%3D" alt="" loading="lazy"/></p>
<p>ä¸­é—´å·¥å…·æ åˆ†åˆ«è¡¨ç¤ºï¼š</p>
<ul>
<li>æ‹–æ‹½</li>
<li>é€‰ä¸­</li>
<li>æ€ç»´å¯¼å›¾</li>
<li>æ–‡å­—</li>
<li>æ‰‹ç»˜</li>
<li>ç®­å¤´</li>
<li>æµç¨‹å›¾</li>
<li>æ’å…¥å›¾ç‰‡</li>
<li>æ ¼å¼è½¬æ¢</li>
</ul>
<p>åŠŸèƒ½éƒ½æ¯”è¾ƒç®€å•ï¼Œæ€ç»´å¯¼å›¾ã€æµç¨‹å›¾ä»¥åŠæ ¼å¼è½¬åŒ–æ˜¯å¸¸ç”¨çš„å·¥å…·ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17d70fca32644037a52d5b30600c76d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020178&amp;x-signature=rPCwuGYDZ0OtICIaWme7hN8CUrE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">3.2 æ€ç»´å¯¼å›¾</h3>
<p>æ€ç»´å¯¼å›¾çš„ä½¿ç”¨æ–¹å¼å’Œ<code>Xmind</code>çš„ç”¨æ³•æä¸ºç›¸ä¼¼ã€‚é€‰ä¸­èŠ‚ç‚¹ï¼Œç„¶å<code>Tab</code>é”®å°±å¯ä»¥æ·»åŠ åŒçº§å­èŠ‚ç‚¹ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨<code>+</code>å·æ·»åŠ ã€‚<code>-</code>å·å¹¶ä¸æ˜¯åˆ é™¤ï¼Œè€Œæ˜¯åˆå¹¶ã€‚åˆ é™¤ä¹Ÿéå¸¸ç®€å•ï¼Œé€‰ä¸­ç›´æ¥<code>Delete</code>å³å¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/253053338d2e4fad9b280bbd1abdd554~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020178&amp;x-signature=29EXmJucrIPvcGoTl6actyUkNhE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">3.3 æµç¨‹å›¾</h3>
<p>æµç¨‹å›¾çš„å›¾å½¢ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œåªæœ‰ä¸ƒé¡¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2324740772ea409f98298583d7bd5115~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020178&amp;x-signature=gZmqMXebA63ivy6m8RC07wMMizg%3D" alt="" loading="lazy"/></p>
<p>é€‰ä¸­ä¹‹åç›´æ¥ç»˜åˆ¶å³å¯ï¼Œå›¾å½¢ä¹‹é—´ä½¿ç”¨ç®­å¤´é“¾æ¥å³å¯ã€‚</p>
<h3 data-id="heading-10">3.4 æ ¼å¼è½¬åŒ–</h3>
<p>ç›®å‰æ”¯æŒä¸¤ç§æ ¼å¼è½¬åŒ–æˆæµç¨‹å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d35787be17174e36b5f939f55898cd0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020178&amp;x-signature=OKi2U0L%2Bmo%2Bk5stpOPLMTEv7YdI%3D" alt="" loading="lazy"/></p>
<p><strong>Mermaid</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/348d3bc49d6e4c3ab89f69db4c71c5f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020178&amp;x-signature=aB%2F1hlGPV4%2F3BRkQBtAKBM90bio%3D" alt="" loading="lazy"/></p>
<p>ä»…æ”¯æŒæµç¨‹å›¾ã€åºåˆ—å›¾å’Œç±»å›¾</p>
<p><strong>Markdown</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e135f734d244b1b8688f27082a54efb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020178&amp;x-signature=s3Sxc7cdzoDgTOii7GSOgJL0rC0%3D" alt="" loading="lazy"/></p>
<p>ä»…æ”¯æŒæ€ç»´å¯¼å›¾ã€‚</p>
<h2 data-id="heading-11">04 å°ç»“</h2>
<p><code>Drawnix</code>çš„æç®€è®¾è®¡æ»¡è¶³æ—¥å¸¸ç»˜å›¾çš„éœ€è¦ï¼Œå¯èƒ½åœ¨å¾ˆå¤šåŠŸèƒ½ä¸Šä¸å¦‚<code>Xmind</code>æˆ–è€…äº¿å›¾ï¼Œä½†æ˜¯å®ƒç¡®å®ä¸¤è€…çš„ç»“åˆã€‚æ˜¯ä¸€æ¬¾ä¸é”™çš„ç»˜å›¾è½¯ä»¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Perfettoä»å…¥é—¨åˆ°ç²¾é€šã€‘2. ä½¿ç”¨ Perfetto è¿½è¸ª/åˆ†æ APP çš„ Native/Java å†…å­˜]]></title>    <link>https://juejin.cn/post/7582041304655249454</link>    <guid>https://juejin.cn/post/7582041304655249454</guid>    <pubDate>2025-12-10T16:27:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582041304655249454" data-draft-id="7582048028393226290" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Perfettoä»å…¥é—¨åˆ°ç²¾é€šã€‘2. ä½¿ç”¨ Perfetto è¿½è¸ª/åˆ†æ APP çš„ Native/Java å†…å­˜"/> <meta itemprop="keywords" content="Android,æ€§èƒ½ä¼˜åŒ–,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-10T16:27:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Lei_official"/> <meta itemprop="url" content="https://juejin.cn/user/2351234021066314"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Perfettoä»å…¥é—¨åˆ°ç²¾é€šã€‘2. ä½¿ç”¨ Perfetto è¿½è¸ª/åˆ†æ APP çš„ Native/Java å†…å­˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2351234021066314/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Lei_official
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T16:27:50.000Z" title="Wed Dec 10 2025 16:27:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    35
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>è¿™ä¸ªä¸–ç•Œå°±æ˜¯è¿™æ ·ï¼Œä½ ä»å¤±è´¥ä¸­å­¦åˆ°çš„ä¸œè¥¿å¯èƒ½æ¯”æˆåŠŸä¸­å­¦åˆ°çš„ä¸œè¥¿æ›´å¤šâ€”â€”ã€ŠAndroid ä¼ å¥‡ã€‹</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96da1c986c7f488ebbcbd5279fc0a176~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVpX29mZmljaWFs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766018686&amp;x-signature=kLTZAbmB93gghO%2BJXhrsAVxIb2c%3D" alt="image.png" loading="lazy"/></p>
<p>è¯´èµ· Android APP å†…å­˜åˆ†æï¼Œæˆ‘ä»¬ç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„ï¼Œå¾€å¾€æ˜¯ Android Studio Profilerã€MAT è¿™æ ·çš„è€ç‰Œå·¥å…·ï¼Œè€Œ Perfetto çš„å‡ºç°ï¼Œåˆä¸ºå…¶æä¾›äº†ä¸€ç§æ›´åŠ è´´è¿‘åº•å±‚çš„è§†è§’ã€‚è€Œä¸”ç›¸æ¯”äºç°æœ‰çš„å·¥å…·ï¼ŒPerfetto æ›´åŠ æ“…é•¿äºåˆ†æ Native å†…å­˜å ç”¨ï¼Œå¯ä»¥è¯´æ˜¯è¡¥é½äº†å·¥ç¨‹å¸ˆåœ¨è¿™æ–¹é¢çš„çŸ­æ¿ã€‚</p>
<p><strong>åœ¨å†…å­˜æ–¹å‘ï¼Œæˆ‘è®¡åˆ’ç”¨2~3ç¯‡æ–‡ç« æ¥ä»‹ç» Perfetto çš„åŠŸèƒ½ã€ç‰¹ç‚¹ã€ä½¿ç”¨æ–¹æ³•ç­‰</strong> ã€‚ä½œä¸ºç¬¬1ç¯‡ï¼Œæœ¬æ–‡åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
<li>Android APP æ‰€ç”³è¯·çš„å†…å­˜åˆ†ç±»ï¼ˆJavaã€Nativeï¼‰</li>
<li>å¦‚ä½•æŠ“å–ã€åˆ†æè¿™ä¸¤ç±»å†…å­˜å ç”¨æƒ…å†µï¼Œå¹¶æä¾›å¯¹åº”çš„ Perfetto æ“ä½œå®ä¾‹</li>
</ul>
<h2 data-id="heading-0">APP å ç”¨å†…å­˜åˆ†ç±»</h2>
<p>Android ç³»ç»Ÿæ¡†æ¶æ˜¯ç”± Linux å‘å±•è€Œæ¥çš„ï¼Œå¯¹äºæ¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼ˆAPPï¼‰ï¼Œæ¡†æ¶ä¸ºå…¶åˆå§‹åˆ†é…ä¸€ä¸ªè¿›ç¨‹ï¼Œå¹¶å¯åŠ¨äº†ä¸€ä¸ª ART è™šæ‹Ÿæœºï¼ˆæ›´æ—©æ—¶å€™æ˜¯ Dalvikï¼‰ï¼Œè¿™ä¸ªè™šæ‹Ÿæœºç”¨äºè§£é‡Šæ‰§è¡Œ Java å­—èŠ‚ç ã€‚å› æ­¤ï¼Œä¸€ä¸ª APP æ‰€å ç”¨çš„å†…å­˜ï¼Œå¯ä»¥å½’ç»“ä¸ºä¸¤ç±»ï¼šåœ¨ Linux å±‚ç”³è¯·çš„ Native å†…å­˜ï¼Œä»¥åŠåœ¨ JVM ä¸Šç”³è¯·çš„ Java å†…å­˜ã€‚</p>
<ul>
<li><strong>Native å†…å­˜</strong> ï¼šç”± C/C++/Rust è¿›ç¨‹ç”³è¯·ï¼Œå…¶åº•å±‚ä½¿ç”¨ <code>libc</code> çš„ <code>malloc()/free()</code> å‡½æ•°è¿›è¡Œå†…å­˜ç”³è¯·/é‡Šæ”¾ã€‚æ­¤å¤–ï¼ŒAPP é€šè¿‡ JNI ä¹Ÿå¯ç”³è¯·æ­¤éƒ¨åˆ†å†…å­˜ï¼Œä¾‹å¦‚ <code>java.util.regex.Pattern</code> ç±»çš„å¤§éƒ¨åˆ†åŠŸèƒ½ï¼Œå°±åŒæ—¶ç”³è¯·äº† Native å†…å­˜å’Œ Java å†…å­˜ã€‚</li>
<li><strong>Java å†…å­˜</strong> ï¼šç”±åº”ç”¨å†…çš„ Java/Kotlin ä»£ç ï¼Œé€šè¿‡ <code>new X()</code> çš„æ–¹å¼ç”³è¯·ï¼Œä½äº <strong>å †</strong> ä¸Šï¼Œç”±ç³»ç»Ÿè‡ªåŠ¨è¿›è¡Œå›æ”¶ã€‚</li>
</ul>
<p>é’ˆå¯¹ä¸Šè¿°å†…å­˜ä½¿ç”¨åœºæ™¯ï¼ŒPerfetto æä¾›äº†ä¸¤ç§æŠ€æœ¯è¿›è¡Œåˆ†æã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fperfetto.dev%2Fdocs%2Fgetting-started%2Fmemory-profiling%23native-c-c-rust-heap-profling" target="_blank" title="https://perfetto.dev/docs/getting-started/memory-profiling#native-c-c-rust-heap-profling" ref="nofollow noopener noreferrer">heap profilingï¼ˆå †åˆ†æï¼‰</a> é€‚ç”¨äº Native ä»£ç ï¼Œé€šè¿‡ AOPï¼Œè¿½è¸ª <code>malloc/free</code> å‡½æ•°è°ƒç”¨é“¾ï¼Œä»è€Œè¯†åˆ«å‡ºæ¯ä¸ªå‡½æ•°å¼•èµ·çš„å†…å­˜å˜åŒ–ï¼Œé›†æˆåœ¨ç«ç„°å›¾å½“ä¸­å±•ç¤ºã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fperfetto.dev%2Fdocs%2Fgetting-started%2Fmemory-profiling%23java-managed-heap-dumps" target="_blank" title="https://perfetto.dev/docs/getting-started/memory-profiling#java-managed-heap-dumps" ref="nofollow noopener noreferrer">heap dumpï¼ˆå †è½¬å‚¨ï¼‰</a> é€‚ç”¨äº Java ä»£ç ï¼Œå±•ç¤ºå¯¹è±¡ä¹‹é—´çš„å¼•ç”¨å…³ç³»ï¼Œä½†ä¸åŒ…å«è°ƒç”¨é“¾ã€‚</li>
</ul>
<h2 data-id="heading-1">Native (C/C++/Rust) å†…å­˜åˆ†æ</h2>
<p>åœ¨ C/C++/Rust è¯­è¨€ä¸­ï¼Œä½¿ç”¨åº•å±‚çš„ <code>malloc/free</code> å‡½æ•°è¿›è¡Œå†…å­˜ç”³è¯·å’Œé‡Šæ”¾ï¼ŒPerfetto é€šè¿‡ AOP æŠ€æœ¯ï¼Œåœ¨è¿™äº›å‡½æ•°å†…éƒ¨æ³¨å…¥ä»£ç è¿›è¡Œæ‹¦æˆªï¼Œå› æ­¤èƒ½å¤Ÿè¯†åˆ«æ¯ä¸€æ¬¡å†…å­˜çš„ç»†å¾®å˜åŠ¨ã€‚å‡ºäºåœ¨åº”ç”¨æ€§èƒ½å’ŒæŠ“å–æ•ˆæœä¹‹é—´ä¿æŒå¹³è¡¡çš„è€ƒè™‘ï¼Œè¿˜æä¾›äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fperfetto.dev%2Fdocs%2Fdesign-docs%2Fheapprofd-sampling" target="_blank" title="https://perfetto.dev/docs/design-docs/heapprofd-sampling" ref="nofollow noopener noreferrer">samplingï¼ˆé‡‡æ ·ï¼‰</a> æœºåˆ¶ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒNative å†…å­˜åˆ†ææ˜¯ <strong>ä¸å¯è¿½æº¯</strong> çš„ï¼Œå®ƒåªèƒ½è®°å½•ä» <strong>å¯åŠ¨ Perfetto çš„æ—¶é—´ç‚¹ä¹‹å</strong> çš„å†…å­˜åˆ†é…ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœå†…å­˜é—®é¢˜å·²ç»å‘ç”Ÿåï¼Œå†è¿›è¡Œ Native å†…å­˜è¿½è¸ªï¼Œä¼šæœ‰æ— æ³•è¯†åˆ«å¼•èµ·å†…å­˜é—®é¢˜çš„å‡½æ•°çš„é£é™©ï¼ˆå†…å­˜æ³„æ¼åˆ™ä¸ä¸€æ ·ï¼Œå› ä¸ºå®ƒæ— æ—¶æ— åˆ»ä¸åœ¨å‘ç”Ÿï¼‰ã€‚</p>
<h3 data-id="heading-2">æ¡ˆä¾‹ï¼šNowInAndroid</h3>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ Android 7.1ï¼ˆAPI 25ï¼‰ä¹‹å‰ï¼ŒBitmap å¯¹è±¡çš„åƒç´ æ•°æ®æ˜¯ä½¿ç”¨ Dalvik heap å­˜å‚¨çš„ï¼Œåœ¨æ‹¿åˆ° heap æ–‡ä»¶åï¼Œå¯ä»¥ç›´æ¥å¯¼å‡ºå¹¶çœ‹åˆ°å›¾ç‰‡å†…å®¹ã€‚ä» Android 7.1 å¼€å§‹ï¼ŒBitmap çš„å­˜å‚¨ä½ç½®ä» Dalvik heap è½¬ç§»åˆ°äº† Native heapã€‚è¿™æ ·ä¸€æ¥ï¼Œè™½ç„¶å¯ä»¥é¿å…å¤§é‡å›¾ç‰‡èµ„æºè€—å°½ JVM å†…å­˜ï¼Œä½†ä¹Ÿå®¹æ˜“è®©äººå¿½è§†æ‰ Native å†…å­˜ç®¡ç†ï¼Œå¯¼è‡´ OOM å‘ç”Ÿã€‚</p>
<p>Perfetto çš„ Native å†…å­˜åˆ†æï¼Œå¯ä»¥ç”¨æ¥è¯†åˆ«è¿™ç§è½åœ¨ Native heap çš„å†…å­˜åˆ†é…è°ƒç”¨é“¾ã€‚æˆ‘ä»¬ä»¥ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fandroid%2Fnowinandroid" target="_blank" title="https://github.com/android/nowinandroid" ref="nofollow noopener noreferrer">NowInAndroid</a> é¡¹ç›®ä¸ºä¾‹ã€‚</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21771e680e7a4828908a89d5d7d024f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVpX29mZmljaWFs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766018686&amp;x-signature=xL1BJ013%2Bb8NaFWwiMIsupANRJ8%3D" alt="nowinandroid_homepage.png" width="30%" loading="lazy"/>
<p>APP çš„é¦–é¡µæ˜¯å›¾æ–‡å…ƒç´ æ„æˆçš„ç€‘å¸ƒæµï¼Œåœ¨é¢‘ç¹æ»‘åŠ¨çš„æƒ…å†µä¸‹ï¼Œä¼šäº§ç”Ÿå¤§é‡ Native å†…å­˜ç”³è¯·/å›æ”¶çš„ç°è±¡ï¼Œæˆ‘ä»¬é€šè¿‡ Perfetto å¯¹æ­¤è¿›è¡Œè§‚å¯Ÿã€‚</p>
<p>åœ¨ç½‘é¡µç«¯å¼€å¯ Memory ç›®å½•ä¸‹çš„ Native heap profiling å¼€å…³ï¼ŒåŒæ—¶å¡«å…¥å¾…åˆ†æçš„åŒ…å <code>com.google.samples.apps.nowinandroid.demo.debug</code>ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤ <code>adb shell ps -A</code> æ¥æŸ¥çœ‹è¿›ç¨‹å¯¹åº”çš„åŒ…åã€‚</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6df13ec90a854c42abe34f51eea2c9af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVpX29mZmljaWFs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766018686&amp;x-signature=LIB7xBpAypxiKtqOfIwUkW93jRw%3D" alt="perfetto_native_profiling.png" width="70%" loading="lazy"/>
<p>æ§åˆ¶å°å‚æ•°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-plaintext" lang="plaintext">buffers {
  size_kb: 65536
  fill_policy: DISCARD
}
data_sources {
  config {
    name: &amp;#34;android.heapprofd&amp;#34;
    heapprofd_config {
      sampling_interval_bytes: 4096
      process_cmdline: &amp;#34;com.google.samples.apps.nowinandroid.demo.debug&amp;#34;
      shmem_size_bytes: 8388608
      block_client: true
      all_heaps: false
    }
  }
}
duration_ms: 10000
</code></pre>
<p>æ¥ä¸‹æ¥ç‚¹å‡» <code>Start tracing</code> å¼€å§‹æŠ“å–ï¼Œåœ¨ 10s çš„æŠ“å–è¿‡ç¨‹ä¸­ï¼Œä¸Šæ»‘é¡µé¢ï¼Œä»¥åŠ è½½æ›´å¤šå›¾ç‰‡å’Œæ–‡å­—ã€‚æŠ“å–ç»“æœå¦‚ä¸‹ï¼š</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ede55f4c37424b06a388851b68580ba6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVpX29mZmljaWFs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766018686&amp;x-signature=R6Fe%2FqYH%2FYvqZ8TpqgVyUXYQmDA%3D" alt="perfetto_native_profiling_result.png" width="70%" loading="lazy"/>
<p>å›¾ä¾‹æ¯”è¾ƒç®€å•ï¼Œåˆ†æˆå·¦ä¸Šè§’çš„â€œ<strong>æ•°æ®é€‰æ‹©</strong>â€ã€å³ä¸Šè§’çš„â€œ<strong>å±•ç¤ºæ–¹å¼</strong>â€å’Œå æ®æ­£ä¸­å¤®å¤§éƒ¨åˆ†çš„â€œ<strong>ç«ç„°å›¾</strong>â€ï¼Œä¾æ¬¡ä»‹ç»ä¹‹ã€‚</p>
<p>â€œ<strong>æ•°æ®é€‰æ‹©</strong>â€åŒºåŸŸï¼Œå…±æœ‰4ç§æ’åºæ–¹å¼ï¼Œåˆ†åˆ«æ˜¯ï¼š</p>
<ul>
<li><strong>Unreleased Malloc Sizeï¼ˆæœªé‡Šæ”¾å†…å­˜åˆ†é…å¤§å°ï¼‰</strong>ï¼šé»˜è®¤æ¨¡å¼ï¼ŒæŒ‰æœªé‡Šæ”¾å†…å­˜ <code>å­—èŠ‚æ•°</code> çš„æ€»å’Œèšåˆè°ƒç”¨æ ˆã€‚</li>
<li><strong>Unreleased Malloc Countï¼ˆæœªé‡Šæ”¾å†…å­˜åˆ†é…è®¡æ•°ï¼‰</strong>ï¼šæŒ‰ <code>è®¡æ•°</code>èšåˆæœªé‡Šæ”¾çš„å†…å­˜åˆ†é…ï¼Œå¿½ç•¥æ¯æ¬¡åˆ†é…çš„å¤§å°ã€‚è¿™æœ‰åŠ©äºå‘ç°å°è§„æ¨¡çš„å†…å­˜æ³„æ¼ï¼Œå³æ¯ä¸ªå¯¹è±¡éƒ½å¾ˆå°ï¼Œä½†éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå¤§é‡å¯¹è±¡ä¼šç´¯ç§¯èµ·æ¥ã€‚é€šå¸¸ç§°ä¹‹ä¸º <code>å†…å­˜ç¢ç‰‡</code>ã€‚</li>
<li><strong>Total Malloc Sizeï¼ˆæ€»å†…å­˜åˆ†é…å¤§å°ï¼‰</strong>ï¼šæŒ‰é€šè¿‡ <code>malloc()</code> åˆ†é…çš„å†…å­˜å­—èŠ‚æ•°èšåˆè°ƒç”¨æ ˆï¼Œæ— è®ºè¿™äº›å†…å­˜æ˜¯å¦å·²è¢«é‡Šæ”¾ã€‚è¿™æœ‰åŠ©äºè°ƒæŸ¥å †é¢‘ç¹è°ƒç”¨ï¼Œå³å³ä½¿æœ€ç»ˆé‡Šæ”¾äº†å†…å­˜ï¼Œä¹Ÿä¼šå¯¹åˆ†é…å™¨é€ æˆå¾ˆå¤§å‹åŠ›çš„ä»£ç è·¯å¾„ã€‚é€šå¸¸ç§°ä¹‹ä¸º <code>å†…å­˜æ³¢åŠ¨</code>ã€‚</li>
<li><strong>Total Malloc Countï¼ˆæ€»å†…å­˜åˆ†é…è®¡æ•°ï¼‰</strong>ï¼šä¸ä¸Šè¿°ç±»ä¼¼ï¼Œä½†æŒ‰ <code>malloc()</code> è°ƒç”¨æ¬¡æ•°èšåˆï¼Œå¿½ç•¥æ¯æ¬¡åˆ†é…çš„å¤§å°ã€‚</li>
</ul>
<p>æˆ‘ä»¬ç›®å‰é€‰æ‹©çš„æ˜¯é»˜è®¤çš„ <code>Unreleased Malloc Size</code> é€‰é¡¹ã€‚</p>
<p>â€œ<strong>å±•ç¤ºæ–¹å¼</strong>â€åŒºåŸŸï¼Œåˆ†ä¸ºâ€œè‡ªé¡¶å‘ä¸‹â€å’Œâ€œè‡ªåº•å‘ä¸Šâ€ï¼Œå‰è€…çš„ç«ç„°å‘ä¸‹ç”Ÿé•¿ï¼Œåè€…åä¹‹ï¼Œä¸èµ˜è¿°ã€‚</p>
<p>â€œ<strong>ç«ç„°å›¾</strong>â€åŒºåŸŸï¼Œæ˜¯æ€§èƒ½åˆ†æçš„é‡ç‚¹ï¼Œé€šè¿‡å±‚å çš„å½¢å¼å±•ç¤ºå‡½æ•°è°ƒç”¨é“¾è·¯ï¼Œæ¯ä¸ªè‰²å—ï¼ˆBlockï¼‰çš„é¢ç§¯è¡¨ç¤ºè¯¥å‡½æ•°å¼•èµ·çš„å†…å­˜å¢åŠ ï¼Œå‘ç”Ÿåœ¨ç›¸åŒå±‚çº§çš„åŒä¸€ä¸ªå‡½æ•°ï¼Œä¼šè¢«èšåˆå±•ç¤ºã€‚å›¾ä¸­çš„ç«ç„°å›¾å¯ä»¥çœ‹å‡ºï¼ŒNowInAndroid ä»£ç å†™çš„ç›¸å¯¹å¥å£®ï¼Œå›æ”¶å’Œå¤ç”¨éƒ½åšå¾—æ¯”è¾ƒå¥½ï¼Œå› æ­¤ RecyclerView ä¸­æœªè§å†…å­˜æ³„æ¼ã€‚</p>
<h2 data-id="heading-3">Java å†…å­˜å¿«ç…§</h2>
<p>åœ¨ JVM ç³»è¯­è¨€ä¸­ï¼Œé€šè¿‡è‡ªåŠ¨å›æ”¶æœºåˆ¶ç®¡ç†å†…å­˜ï¼Œå¤§éƒ¨åˆ† Profiling å·¥å…·éƒ½æ˜¯è¿›è¡Œå†…å­˜å¿«ç…§ï¼Œè®¡ç®—å½“å‰è™šæ‹Ÿæœºçš„ <code>å…¨éƒ¨å¯¹è±¡</code> åŠå…¶ <code>å¼•ç”¨å…³ç³»</code>ï¼Œä»è€Œå½¢æˆä¸€å¼ å®Œæ•´çš„å¯¹è±¡å›¾ã€‚</p>
<p><strong>Java å†…å­˜å¿«ç…§çš„ä¸è¶³ä¹‹å¤„æ˜¯ï¼Œæ— æ³•é€šè¿‡å®ƒæŸ¥çœ‹å‡½æ•°è°ƒç”¨é“¾è·¯ï¼Œå³å“ªäº›å‡½æ•°å¼•èµ·äº†å¤šå¤§çš„å†…å­˜å¢é•¿ã€‚</strong></p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ea458224cbc42e28a888a8babfd9f57~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVpX29mZmljaWFs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766018686&amp;x-signature=LiYPEzs45oSm4pMEKe9WIHSQrXs%3D" alt="perfetto_java_profiling.png" width="70%" loading="lazy"/>
<p>å¼€å§‹æŠ“å–åï¼Œä¸Šæ»‘é¡µé¢ç›´è‡³å®Œæˆ10sçš„æŠ“å–ï¼Œä»¥ä¸‹æ˜¯æŠ“å–åˆ°çš„ç»“æœã€‚</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3ca3959a6a14f1bad35506ee1e9a3b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTGVpX29mZmljaWFs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766018686&amp;x-signature=vPCFQeXme1%2BBrffrMOzK9%2B4T74s%3D" alt="perfetto_java_profiling_result.png" width="70%" loading="lazy"/>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>Bitmap</code> å æ®äº†å†…å­˜çš„å¤§éƒ¨åˆ†ã€‚æ­¤å¤–ï¼ŒStringæ•°é‡æœ‰ <code>96433</code> ä¸ªï¼Œä¹ŸåŒæ ·å€¼å¾—å…³æ³¨ã€‚</p>
<blockquote>
<p>æœªå®Œå¾…ç»­â€¦â€¦</p>
</blockquote>
<h2 data-id="heading-4">å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fperfetto.dev%2Fdocs%2Fgetting-started%2Fmemory-profiling" target="_blank" title="https://perfetto.dev/docs/getting-started/memory-profiling" ref="nofollow noopener noreferrer">perfetto.dev/docs/gettinâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fperfetto.dev%2Fdocs%2Fcase-studies%2Fmemory" target="_blank" title="https://perfetto.dev/docs/case-studies/memory" ref="nofollow noopener noreferrer">perfetto.dev/docs/case-sâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fperfetto.dev%2Fdocs%2Fdata-sources%2Fnative-heap-profiler" target="_blank" title="https://perfetto.dev/docs/data-sources/native-heap-profiler" ref="nofollow noopener noreferrer">perfetto.dev/docs/data-sâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç§’æ‡‚ Headlessï¼šä¸ºä»€ä¹ˆç°åœ¨çš„è½¯ä»¶éƒ½è¦â€œå»å¤´â€ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582118218649288730</link>    <guid>https://juejin.cn/post/7582118218649288730</guid>    <pubDate>2025-12-11T05:39:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582118218649288730" data-draft-id="7582156410319536138" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç§’æ‡‚ Headlessï¼šä¸ºä»€ä¹ˆç°åœ¨çš„è½¯ä»¶éƒ½è¦â€œå»å¤´â€ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T05:39:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çš®è›‹å°ç²¾çµ"/> <meta itemprop="url" content="https://juejin.cn/user/219558056559278"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç§’æ‡‚ Headlessï¼šä¸ºä»€ä¹ˆç°åœ¨çš„è½¯ä»¶éƒ½è¦â€œå»å¤´â€ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/219558056559278/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çš®è›‹å°ç²¾çµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T05:39:51.000Z" title="Thu Dec 11 2025 05:39:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    73
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç®€å•æ¥è¯´ï¼Œ <strong>â€œHeadlessâ€ï¼ˆæ— å¤´ï¼‰</strong> åœ¨è½¯ä»¶å¼€å‘ä¸­æŒ‡çš„æ˜¯ï¼š<strong>åªæœ‰é€»è¾‘ï¼ˆåç«¯/å†…æ ¸ï¼‰ï¼Œæ²¡æœ‰é¢„è®¾ç•Œé¢ï¼ˆå‰ç«¯/GUIï¼‰</strong> çš„è½¯ä»¶æ¶æ„æ¨¡å¼ã€‚</p>
<p>è¿™é‡Œçš„â€œHeadï¼ˆå¤´ï¼‰â€æ¯”å–»çš„æ˜¯<strong>ç”¨æˆ·ç•Œé¢ï¼ˆUI/GUIï¼‰</strong> ï¼Œâ€œBodyï¼ˆèº«ä½“ï¼‰â€æ¯”å–»çš„æ˜¯<strong>æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æˆ–å¼•æ“</strong>ã€‚</p>
<p><strong>Headless = ç æ‰è‡ªå¸¦çš„ UIï¼Œåªç»™ä½ æä¾› API æˆ–æ ¸å¿ƒé€»è¾‘ï¼Œè®©ä½ è‡ªå·±å»ç”»ç•Œé¢ã€‚</strong></p>
<hr/>
<h3 data-id="heading-0">1. æ ¸å¿ƒæ¦‚å¿µå›¾è§£</h3>
<p>æƒ³è±¡ä¸€ä¸‹ <strong>â€œä¼ ç»Ÿçš„è½¯ä»¶â€</strong>ï¼ˆæ¯”å¦‚ Wordï¼‰ï¼šå®ƒåƒä¸€å®¶<strong>å ‚é£Ÿé¤å…</strong>ã€‚ä½ æœ‰å¨æˆ¿ï¼ˆé€»è¾‘ï¼‰ï¼Œä¹Ÿæœ‰å›ºå®šçš„æ¡Œæ¤…æ¿å‡³å’Œè£…ä¿®é£æ ¼ï¼ˆUIï¼‰ã€‚ä½ å¿…é¡»åœ¨å®ƒæä¾›çš„ç¯å¢ƒé‡Œåƒé¥­ï¼Œæ— æ³•æ”¹å˜è£…ä¿®ã€‚</p>
<p>è€Œ <strong>â€œHeadless è½¯ä»¶â€</strong>ï¼šå®ƒåƒä¸€ä¸ª<strong>ä¸­å¤®å¨æˆ¿ï¼ˆå¤–å–å·¥å‚ï¼‰</strong>ã€‚å®ƒåªè´Ÿè´£åšé¥­ï¼ˆé€»è¾‘ï¼‰ï¼Œä¸æä¾›æ¡Œæ¤…ï¼ˆUIï¼‰ã€‚</p>
<ul>
<li>ä½ æƒ³æŠŠèœé€åˆ°äº”æ˜Ÿçº§é…’åº—æ‘†ç›˜ï¼ˆWeb ç«¯é«˜çº§å®šåˆ¶ UIï¼‰ï¼Ÿå¯ä»¥ã€‚</li>
<li>ä½ æƒ³æŠŠèœé€åˆ°è·¯è¾¹æ‘Šï¼ˆæ‰‹æœº Appï¼‰ï¼Ÿå¯ä»¥ã€‚</li>
<li>ä½ æƒ³æŠŠèœé€åˆ°è‡ªåŠ¨å”®è´§æœºï¼ˆå°ç¨‹åºï¼‰ï¼Ÿä¹Ÿå¯ä»¥ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-1">2. å…·ä½“ä¾‹å­</h3>
<h4 data-id="heading-2">A. æ— å¤´æµè§ˆå™¨ (Headless Browser)</h4>
<ul>
<li>
<p><strong>ä¼ ç»Ÿçš„æµè§ˆå™¨ï¼ˆå¦‚ Chromeï¼‰ï¼š</strong> ä½ æ‰“å¼€å®ƒï¼Œèƒ½çœ‹åˆ°çª—å£ã€åœ°å€æ ã€æ¸²æŸ“å‡ºæ¥çš„ç½‘é¡µï¼Œä½ èƒ½ç”¨é¼ æ ‡ç‚¹å‡»ã€‚</p>
</li>
<li>
<p><strong>æ— å¤´æµè§ˆå™¨ï¼ˆå¦‚ Puppeteer, Playwrightï¼‰ï¼š</strong></p>
<ul>
<li>
<p><strong>å®šä¹‰ï¼š</strong> å®ƒæ˜¯æµè§ˆå™¨å†…æ ¸ï¼ˆChrome/Webkitï¼‰ï¼Œä½†<strong>æ²¡æœ‰å¯è§†åŒ–çš„çª—å£</strong>ã€‚å®ƒåœ¨åå°ï¼ˆå‘½ä»¤è¡Œ/æœåŠ¡å™¨ï¼‰è¿è¡Œã€‚</p>
</li>
<li>
<p><strong>æ€ä¹ˆç”¨ï¼Ÿ</strong> ä½ å†™ä»£ç æ§åˆ¶å®ƒï¼šâ€œæ‰“å¼€ç™¾åº¦ -&gt; è¾“å…¥å…³é”®è¯ -&gt; æˆªå›¾â€ã€‚</p>
</li>
<li>
<p><strong>æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</strong></p>
<ol>
<li><strong>è‡ªåŠ¨åŒ–æµ‹è¯•ï¼š</strong> æ¨¡æ‹Ÿç”¨æˆ·ç‚¹å‡»ï¼Œå¿«é€Ÿè·‘é€šå‡ åƒä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œä¸éœ€è¦çœŸçš„å¼¹å‡ºä¸€åƒä¸ªçª—å£ã€‚</li>
<li><strong>çˆ¬è™«ï¼š</strong> çˆ¬å–é‚£äº›éœ€è¦ JS æ¸²æŸ“çš„å¤æ‚ç½‘é¡µã€‚</li>
<li><strong>ç”Ÿæˆæˆªå›¾/PDFï¼š</strong> åœ¨æœåŠ¡å™¨ç«¯æŠŠç½‘é¡µæ¸²æŸ“æˆå›¾ç‰‡æˆ– PDF æŠ¥å‘Šã€‚</li>
</ol>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-3">B. æ— å¤´ç¼–è¾‘å™¨ (Headless Editor)</h4>
<ul>
<li>
<p><strong>ä¼ ç»Ÿçš„ç¼–è¾‘å™¨ï¼ˆå¦‚ CKEditor æ—§ç‰ˆ, Quillï¼‰ï¼š</strong></p>
<ul>
<li>ä½ å¼•å…¥å®ƒï¼Œå®ƒå°±è‡ªå¸¦ä¸€å¥—â€œåŠ ç²—ã€æ–œä½“ã€æ’å…¥å›¾ç‰‡â€çš„å·¥å…·æ ï¼Œè‡ªå¸¦ä¸€å¥— CSS æ ·å¼ã€‚</li>
<li><strong>ç¼ºç‚¹ï¼š</strong> å¦‚æœè®¾è®¡å¸ˆè¯´â€œæŠŠå·¥å…·æ æŒ‰é’®å˜æˆåœ†å½¢çš„ï¼Œè€Œä¸”è¦æ‚¬æµ®åœ¨æ–‡å­—ä¸Šæ–¹â€ï¼Œä½ å°±è¦ç–¯ç‹‚è¦†ç›–å®ƒçš„é»˜è®¤ CSSï¼Œéå¸¸ç—›è‹¦ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ— å¤´ç¼–è¾‘å™¨ï¼ˆå¦‚ Tiptap, Plate, Slate.jsï¼‰ï¼š</strong></p>
<ul>
<li><strong>å®šä¹‰ï¼š</strong> å®ƒåªæä¾›<strong>æ–‡å­—å¤„ç†çš„æ ¸å¿ƒé€»è¾‘</strong>ï¼ˆæ¯”å¦‚ï¼šé€‰ä¸­æ–‡æœ¬ã€æŒ‰ä¸‹ Ctrl+B å˜ç²—ä½“ã€æ’¤é”€é‡åšé€»è¾‘ï¼‰ã€‚å®ƒ<strong>ä¸æä¾›ä»»ä½• UI</strong>ï¼ˆæ²¡æœ‰å·¥å…·æ ï¼Œæ²¡æœ‰æŒ‰é’®ï¼‰ã€‚</li>
<li><strong>æ€ä¹ˆç”¨ï¼Ÿ</strong> ä½ éœ€è¦è‡ªå·±å†™ä¸€ä¸ª <code>&lt;button&gt;</code>ï¼Œè‡ªå·±å†™æ ·å¼ï¼Œç„¶åè°ƒç”¨å®ƒçš„ API <code>editor.toggleBold()</code>ã€‚</li>
<li><strong>æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</strong> ä½ å¯ä»¥å®Œå…¨è‡ªç”±åœ°å®šåˆ¶ç¼–è¾‘å™¨çš„é•¿ç›¸ã€‚æ¯”å¦‚ Notionã€é£ä¹¦æ–‡æ¡£é‚£ç§é«˜åº¦å®šåˆ¶çš„ UIï¼Œå¿…é¡»ç”¨æ— å¤´ç¼–è¾‘å™¨å¼€å‘ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-4">3. è¿˜æœ‰å“ªäº›å¸¸è§çš„ Headlessï¼Ÿ</h3>
<p>é™¤äº†æµè§ˆå™¨å’Œç¼–è¾‘å™¨ï¼Œç°åœ¨çš„å¼€å‘è¶‹åŠ¿ä¸­è¿˜æœ‰ï¼š</p>
<h4 data-id="heading-5">C. æ— å¤´ç»„ä»¶åº“ (Headless UI)</h4>
<ul>
<li><strong>ä¾‹å­ï¼š</strong> Radix UI, Headless UI, React Ariaã€‚</li>
<li><strong>è§£é‡Šï¼š</strong> ä»¥å‰æˆ‘ä»¬ç”¨ Ant Design æˆ– Bootstrapï¼ŒæŒ‰é’®é•¿ä»€ä¹ˆæ ·æ˜¯åº“å®šå¥½çš„ã€‚Headless UI åº“åªæä¾›<strong>äº¤äº’é€»è¾‘</strong>ï¼ˆæ¯”å¦‚ä¸‹æ‹‰èœå•æ€ä¹ˆæ‰“å¼€ï¼Œé”®ç›˜æ€ä¹ˆé€‰ï¼Œæ— éšœç¢æ€ä¹ˆè¯»ï¼‰ï¼Œ<strong>ä¸æä¾›ä»»ä½• CSS</strong>ã€‚</li>
<li><strong>å¥½å¤„ï¼š</strong> å®Œç¾é…åˆ Tailwind CSSï¼Œé•¿ç›¸ç”±ä½ å®Œå…¨æ§åˆ¶ã€‚</li>
</ul>
<h4 data-id="heading-6">D. æ— å¤´ CMS (Headless CMS)</h4>
<ul>
<li><strong>ä¾‹å­ï¼š</strong> Strapi, Contentfulã€‚</li>
<li><strong>è§£é‡Šï¼š</strong> ä»¥å‰ç”¨ WordPressï¼Œåå°ç®¡ç†å†…å®¹ï¼Œå‰å°é¡µé¢ä¹Ÿæ˜¯ WordPress ç”Ÿæˆçš„ï¼ˆè€¦åˆï¼‰ã€‚Headless CMS åªæä¾›<strong>åå°ç®¡ç†</strong>å’Œ <strong>API</strong>ã€‚</li>
<li><strong>å¥½å¤„ï¼š</strong> ä½ çš„ä¸€ä»½å†…å®¹ï¼ˆAPIï¼‰å¯ä»¥åŒæ—¶å‘ç»™ ç½‘ç«™ã€Appã€æ™ºèƒ½æ‰‹è¡¨ã€ç”šè‡³å†°ç®±å±å¹•ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-7">æ€»ç»“ï¼šä¸ºä»€ä¹ˆç°åœ¨æµè¡Œ Headlessï¼Ÿ</h3>
<p>è™½ç„¶ Headless æ„å‘³ç€å¼€å‘è€…è¦å†™æ›´å¤šçš„ä»£ç ï¼ˆå› ä¸ºè¦è‡ªå·±ç”» UIï¼‰ï¼Œä½†å®ƒè§£å†³äº†ç°ä»£å¼€å‘æœ€å¤§çš„ç—›ç‚¹ï¼š<strong>å®šåˆ¶åŒ–</strong>ã€‚</p>






























<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>ä¼ ç»Ÿ (Coupled)</strong></th><th><strong>Headless (æ— å¤´)</strong></th></tr></thead><tbody><tr><td><strong>ä¸Šæ‰‹éš¾åº¦</strong></td><td><strong>ä½</strong> (å¼€ç®±å³ç”¨)</td><td><strong>é«˜</strong> (éœ€è¦è‡ªå·±å†™ UI)</td></tr><tr><td><strong>è‡ªç”±åº¦</strong></td><td><strong>ä½</strong> (æ”¹æ ·å¼å¾ˆéš¾)</td><td><strong>æé«˜</strong> (éšå¿ƒæ‰€æ¬²)</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å¿«é€Ÿåšä¸ªæ ‡å‡†åå°</td><td>åƒ Notion/Figma è¿™ç§éœ€è¦æè‡´ä½“éªŒçš„äº§å“</td></tr><tr><td><strong>æ¯”å–»</strong></td><td><strong>æ–¹ä¾¿é¢</strong> (æœ‰é¢æœ‰è°ƒæ–™åŒ…ï¼Œå‘³é“å›ºå®š)</td><td><strong>ç”Ÿé²œé¢æ¡</strong> (åªæœ‰é¢ï¼Œæƒ³åšç‚¸é…±é¢è¿˜æ˜¯æ±¤é¢éšä½ )</td></tr></tbody></table>
<p><strong>ä¸€å¥è¯æ€»ç»“ï¼šHeadless å°±æ˜¯æŠŠâ€œä¸šåŠ¡é€»è¾‘â€å’Œâ€œç•Œé¢è¡¨ç°â€å½»åº•åˆ†å®¶ï¼Œè®©ä½ æ‹¥æœ‰æ— é™çš„ UI å®šåˆ¶æƒã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº’è”ç½‘å¤§å‚é¢è¯•å®å½•ï¼šå½“ä¸¥è°¨é¢è¯•å®˜é‡ä¸Šæç¬‘ç¨‹åºå‘˜è°¢é£æœº]]></title>    <link>https://juejin.cn/post/7571060853354266634</link>    <guid>https://juejin.cn/post/7571060853354266634</guid>    <pubDate>2025-11-10T15:57:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7571060853354266634" data-draft-id="7570897638441336859" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº’è”ç½‘å¤§å‚é¢è¯•å®å½•ï¼šå½“ä¸¥è°¨é¢è¯•å®˜é‡ä¸Šæç¬‘ç¨‹åºå‘˜è°¢é£æœº"/> <!----> <meta itemprop="datePublished" content="2025-11-10T15:57:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¦å°”æ‘©æ–¯çš„å¼Ÿå­"/> <meta itemprop="url" content="https://juejin.cn/user/622743759107883"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº’è”ç½‘å¤§å‚é¢è¯•å®å½•ï¼šå½“ä¸¥è°¨é¢è¯•å®˜é‡ä¸Šæç¬‘ç¨‹åºå‘˜è°¢é£æœº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/622743759107883/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¦å°”æ‘©æ–¯çš„å¼Ÿå­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-10T15:57:49.000Z" title="Mon Nov 10 2025 15:57:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">äº’è”ç½‘å¤§å‚é¢è¯•å®å½•ï¼šå½“ä¸¥è°¨é¢è¯•å®˜é‡ä¸Šæç¬‘ç¨‹åºå‘˜è°¢é£æœº</h2>
<h3 data-id="heading-1">é¢è¯•åœºæ™¯ï¼šæŸå¤§å‚æŠ€æœ¯äºŒé¢ç°åœºï¼Œä¼šè®®å®¤é‡Œåç€ä¸€ä½ç¥æƒ…ä¸¥è‚ƒçš„é¢è¯•å®˜ï¼Œå¯¹é¢æ˜¯æ»¡è„¸å†™ç€"æˆ‘å¯èƒ½è¦å‡‰äº†"çš„ç¨‹åºå‘˜è°¢é£æœºã€‚</h3>
<h4 data-id="heading-2"><strong>ç¬¬ä¸€è½®æé—®ï¼šåŸºç¡€å¤¯å®</strong></h4>
<p><strong>é¢è¯•å®˜</strong>ï¼šè°¢é£æœºï¼Œå…ˆèŠèŠä½ å¯¹Javaå†…å­˜æ¨¡å‹çš„ç†è§£å§ã€‚æˆ‘ä»¬å…¬å¸ç”¨çš„æ˜¯JDK17ï¼Œä½ èƒ½è¯´è¯´å®ƒå’ŒJDK8åœ¨å†…å­˜æ¨¡å‹ä¸Šçš„ä¸»è¦åŒºåˆ«å—ï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼ˆæŒ å¤´ï¼‰ï¼šå‘ƒâ€¦â€¦æˆ‘è®°å¾—å¥½åƒæœ‰å †ã€æ ˆã€æ–¹æ³•åŒºï¼Œè¿˜æœ‰ä¸ªå…ƒç©ºé—´å¯¹å§ï¼Ÿä»¥å‰å«æ°¸ä¹…ä»£ï¼Œç°åœ¨æ”¹åå«å…ƒç©ºé—´äº†ï¼Œå› ä¸ºâ€¦â€¦å—¯â€¦â€¦æ›´é«˜çº§äº†ï¼Ÿ</p>
<p><strong>é¢è¯•å®˜</strong>ï¼ˆå¾®å¾®ç‚¹å¤´ï¼‰ï¼šä¸é”™ï¼Œå›ç­”å¾—æŒºå‡†ç¡®ã€‚é‚£ä½ çŸ¥é“ä¸ºä»€ä¹ˆè¦æŠŠæ°¸ä¹…ä»£æ¢æˆå…ƒç©ºé—´å—ï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šå› ä¸ºâ€¦â€¦æ°¸ä¹…ä»£å®¹æ˜“å†…å­˜æº¢å‡ºï¼Œè€Œä¸”ä¸èƒ½åŠ¨æ€æ‰©å®¹ï¼Œè€Œå…ƒç©ºé—´æ˜¯æ”¾åœ¨æœ¬åœ°å†…å­˜é‡Œçš„ï¼Œä¸ä¼šå—å †å¤§å°é™åˆ¶ï¼Œæ‰€ä»¥æ›´ç¨³ï¼</p>
<p><strong>é¢è¯•å®˜</strong>ï¼ˆå¾®ç¬‘ï¼‰ï¼šå¾ˆå¥½ï¼Œå›ç­”å¾—å¾ˆåˆ°ä½ã€‚ç»§ç»­ï¼Œè¯´è¯´volatileå…³é”®å­—çš„ä½œç”¨ï¼Œä»¥åŠå®ƒå¦‚ä½•ä¿è¯å¯è§æ€§å’Œç¦æ­¢æŒ‡ä»¤é‡æ’åºã€‚</p>
<p><strong>è°¢é£æœº</strong>ï¼šå“¦ï¼Œvolatileå°±æ˜¯è®©å˜é‡åœ¨å¤šä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«ï¼Œæ¯æ¬¡è¯»éƒ½ä»ä¸»å†…å­˜æ‹¿ï¼Œå†™ä¹Ÿç›´æ¥å†™åˆ°ä¸»å†…å­˜ï¼Œè¿™æ ·å°±ä¿è¯äº†å¯è§æ€§ã€‚è‡³äºæŒ‡ä»¤é‡æ’åºï¼Œå®ƒä¼šåŠ ä¸€ä¸ªå†…å­˜å±éšœï¼Œé˜»æ­¢ç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¹±åºæ‰§è¡Œï¼Œå¯¹å§ï¼Ÿ</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šå®Œå…¨æ­£ç¡®ï¼Œçœ‹æ¥ä½ ç¡®å®æŒæ¡äº†æ ¸å¿ƒæ¦‚å¿µã€‚</p>
<h4 data-id="heading-3"><strong>ç¬¬äºŒè½®æé—®ï¼šå¹¶å‘ä¸çº¿ç¨‹æ± </strong></h4>
<p><strong>é¢è¯•å®˜</strong>ï¼šå¾ˆå¥½ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è¿›å…¥å¤šçº¿ç¨‹éƒ¨åˆ†ã€‚ä½ èƒ½ä¸èƒ½è§£é‡Šä¸€ä¸‹çº¿ç¨‹æ± çš„æ ¸å¿ƒå‚æ•°æœ‰å“ªäº›ï¼Ÿå®ƒä»¬å„è‡ªçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šæ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°ã€å·¥ä½œé˜Ÿåˆ—ã€æ‹’ç»ç­–ç•¥ã€çº¿ç¨‹å·¥å‚ã€è¶…æ—¶æ—¶é—´â€¦â€¦å•Šï¼Œè¿˜æœ‰ä¸ªçº¿ç¨‹å­˜æ´»æ—¶é—´ã€‚æ ¸å¿ƒçº¿ç¨‹æ•°æ˜¯æœ€ä½ä¿æŒçš„çº¿ç¨‹æ•°é‡ï¼Œæœ€å¤§çº¿ç¨‹æ•°æ˜¯ä¸Šé™ï¼Œå·¥ä½œé˜Ÿåˆ—æ”¾ä»»åŠ¡ï¼Œæ‹’ç»ç­–ç•¥å¤„ç†æ¥ä¸åŠçš„ä»»åŠ¡ï¼Œçº¿ç¨‹å·¥å‚ç”¨æ¥åˆ›å»ºçº¿ç¨‹ï¼Œå­˜æ´»æ—¶é—´æ˜¯ç©ºé—²çº¿ç¨‹ç­‰å¾…ä»»åŠ¡çš„æ—¶é—´ã€‚</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šéå¸¸æ¸…æ™°ï¼Œé€»è¾‘å®Œæ•´ã€‚é‚£ä¹ˆï¼Œå¦‚æœä½¿ç”¨ThreadPoolExecutorï¼Œä½ å¦‚ä½•åˆç†è®¾ç½®è¿™äº›å‚æ•°æ¥åº”å¯¹é«˜å¹¶å‘åœºæ™¯ï¼Ÿæ¯”å¦‚ä¸€ä¸ªç§’æ€ç³»ç»Ÿã€‚</p>
<p><strong>è°¢é£æœº</strong>ï¼šå—¯â€¦â€¦æˆ‘è§‰å¾—å¯ä»¥è®¾æ ¸å¿ƒçº¿ç¨‹æ•°ä¸ºæœåŠ¡å™¨æ ¸æ•°çš„ä¸¤å€ï¼Œæœ€å¤§çº¿ç¨‹æ•°å¯ä»¥å†ç¿»å€ï¼Œå·¥ä½œé˜Ÿåˆ—ç”¨é˜»å¡é˜Ÿåˆ—ï¼Œæ¯”å¦‚LinkedBlockingQueueï¼Œæ‹’ç»ç­–ç•¥ç”¨CallerRunsPolicyï¼Œè¿™æ ·èƒ½é˜²æ­¢ç³»ç»Ÿé›ªå´©ã€‚</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šæ€è·¯å¾ˆæ¸…æ™°ã€‚ä½†æœ‰æ²¡æœ‰è€ƒè™‘è¿‡é˜Ÿåˆ—é•¿åº¦è¿‡å¤§å¸¦æ¥çš„å†…å­˜å‹åŠ›ï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šå•Šâ€¦â€¦è¿™ä¸ªâ€¦â€¦æˆ‘è¿˜æ²¡æƒ³é‚£ä¹ˆæ·±â€¦â€¦ä¸è¿‡åæ­£æœ‰æ‹’ç»ç­–ç•¥å…œåº•å˜›ï¼Œåº”è¯¥æ²¡é—®é¢˜å§ï¼Ÿ</p>
<p><strong>é¢è¯•å®˜</strong>ï¼ˆè½»ç¬‘ï¼‰ï¼šå»ºè®®ä½ è®°ä½ä¸€å¥è¯ï¼š<strong>é˜Ÿåˆ—ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå®ƒåªæ˜¯å»¶è¿Ÿé—®é¢˜ï¼Œä¸æ˜¯è§£å†³é—®é¢˜</strong>ã€‚ç»§ç»­ï¼Œè¯´è¯´ä½ å¯¹ThreadLocalçš„ç†è§£ï¼Œå®ƒæœ‰ä»€ä¹ˆç”¨é€”ï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šå“¦ï¼ŒThreadLocalå°±æ˜¯æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„å‰¯æœ¬ï¼Œäº’ä¸å¹²æ‰°ï¼Œé€‚åˆåšçº¿ç¨‹éš”ç¦»ï¼Œæ¯”å¦‚ä¿å­˜ç”¨æˆ·ç™»å½•ä¿¡æ¯ã€äº‹åŠ¡ä¸Šä¸‹æ–‡ä»€ä¹ˆçš„ã€‚</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šå¾ˆå¥½ã€‚ä½†è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šå•Šâ€¦â€¦è¦è®°å¾—åœ¨finallyé‡Œremoveæ‰ï¼Œä¸ç„¶å¯èƒ½å†…å­˜æ³„æ¼â€¦â€¦</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šå¯¹ï¼Œè¿™æ˜¯å…³é”®ç‚¹ï¼Œå¾ˆå¤šæ–°äººä¼šå¿½ç•¥ã€‚</p>
<h4 data-id="heading-4"><strong>ç¬¬ä¸‰è½®æé—®ï¼šæ¡†æ¶ä¸ä¸­é—´ä»¶</strong></h4>
<p><strong>é¢è¯•å®˜</strong>ï¼šå¾ˆå¥½ã€‚ç°åœ¨æˆ‘ä»¬è¿›å…¥æ¡†æ¶éƒ¨åˆ†ã€‚ä½ ç”¨è¿‡Spring Bootï¼Œèƒ½è¯´è¯´å®ƒçš„è‡ªåŠ¨è£…é…æœºåˆ¶æ˜¯æ€ä¹ˆå·¥ä½œçš„å—ï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šå“¦ï¼Œè‡ªåŠ¨è£…é…å°±æ˜¯é€šè¿‡@Importã€@ConditionalOnClassè¿™äº›æ³¨è§£ï¼Œæ ¹æ®ç±»è·¯å¾„æ˜¯å¦å­˜åœ¨æŸäº›ç±»æ¥å†³å®šæ˜¯å¦åŠ è½½é…ç½®ç±»ã€‚æ¯”å¦‚ä½ å¼•å…¥äº†Redisä¾èµ–ï¼Œå°±ä¼šè‡ªåŠ¨é…ç½®RedisTemplateã€‚</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šéå¸¸å‡†ç¡®ã€‚é‚£Springçš„Beanç”Ÿå‘½å‘¨æœŸæœ‰å‡ ä¸ªé˜¶æ®µï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šå®ä¾‹åŒ–ã€å±æ€§èµ‹å€¼ã€åˆå§‹åŒ–ã€é”€æ¯â€¦â€¦å•Šï¼Œè¿˜æœ‰ä¸ªAwareæ¥å£å›è°ƒï¼Œæ¯”å¦‚ApplicationContextAwareï¼Œè¿˜æœ‰InitializingBeanæ¥å£ï¼Œç„¶åæ‰æ˜¯postConstructâ€¦â€¦</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šå¾ˆå¥½ï¼Œä½ æŠŠæ•´ä¸ªæµç¨‹éƒ½è¯´æ¸…æ¥šäº†ã€‚é‚£ä½ è¯´è¯´MyBatisçš„ç¼“å­˜æœºåˆ¶ï¼Œä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šä¸€çº§ç¼“å­˜æ˜¯SqlSessionçº§åˆ«çš„ï¼ŒåŒä¸€ä¸ªSqlSessioné‡ŒæŸ¥è¯¢æ•°æ®ä¼šå‘½ä¸­ï¼›äºŒçº§ç¼“å­˜æ˜¯Mapperçº§åˆ«çš„ï¼Œè·¨SqlSessionå…±äº«ï¼Œä½†éœ€è¦æ‰‹åŠ¨å¼€å¯ï¼Œå¹¶ä¸”å®ä½“ç±»è¦å®ç°Serializableã€‚</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šéå¸¸å‡†ç¡®ã€‚é‚£åœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ï¼ŒäºŒçº§ç¼“å­˜æ€ä¹ˆè§£å†³ä¸€è‡´æ€§é—®é¢˜ï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šè¿™ä¸ªâ€¦â€¦æˆ‘å¥½åƒæ²¡é‡åˆ°è¿‡â€¦â€¦ä¹Ÿè®¸å¯ä»¥ç”¨Redisåšåˆ†å¸ƒå¼ç¼“å­˜ï¼Ÿæˆ–è€…â€¦â€¦åŠ ä¸ªç‰ˆæœ¬å·ï¼Ÿ</p>
<p><strong>é¢è¯•å®˜</strong>ï¼ˆç‚¹å¤´ï¼‰ï¼šä¸é”™ï¼Œæ€è·¯æ‰“å¼€äº†ã€‚æœ€åä¸€ä¸ªé—®é¢˜ï¼Œè°ˆè°ˆä½ å¯¹DDDé¢†åŸŸé©±åŠ¨è®¾è®¡çš„ç†è§£ï¼Œå®ƒå’Œä¼ ç»Ÿçš„åˆ†å±‚æ¶æ„æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</p>
<p><strong>è°¢é£æœº</strong>ï¼šå—¯â€¦â€¦å°±æ˜¯æŠŠä¸šåŠ¡é€»è¾‘æ‹†æˆä¸€ä¸ªä¸ªé¢†åŸŸï¼Œç”¨å®ä½“ã€å€¼å¯¹è±¡ã€èšåˆæ ¹æ¥å»ºæ¨¡ï¼Œç„¶åç”¨é¢†åŸŸæœåŠ¡æ¥å¤„ç†å¤æ‚é€»è¾‘ã€‚ç›¸æ¯”ä¼ ç»Ÿæ¶æ„ï¼Œå®ƒæ›´è´´è¿‘ä¸šåŠ¡ï¼Œä»£ç æ›´æœ‰å±‚æ¬¡æ„Ÿï¼Œä¸å®¹æ˜“æ··ä¹±ã€‚</p>
<p><strong>é¢è¯•å®˜</strong>ï¼šå¾ˆå¥½ï¼Œå›ç­”å¾—å¾ˆæœ‰æ·±åº¦ã€‚è™½ç„¶æœ‰äº›åœ°æ–¹ç•¥æ˜¾ç²—ç³™ï¼Œä½†æ•´ä½“ç†è§£åˆ°ä½ã€‚</p>
<h4 data-id="heading-5"><strong>ç»“æŸè¯­</strong></h4>
<p><strong>é¢è¯•å®˜</strong>ï¼šè°¢é£æœºï¼Œä»Šå¤©çš„é¢è¯•å°±åˆ°è¿™é‡Œã€‚ä½ çš„åŸºç¡€çŸ¥è¯†æ‰å®ï¼Œå¯¹ä¸»æµæ¡†æ¶æœ‰è¾ƒæ·±ç†è§£ï¼Œè™½ç„¶åœ¨ä¸€äº›ç»†èŠ‚ä¸Šè¿˜ç•¥æœ‰æ¬ ç¼ºï¼Œä½†æ½œåŠ›å¾ˆå¤§ã€‚è¯·å›å»ç­‰é€šçŸ¥ï¼Œæˆ‘ä»¬ä¼šåœ¨3ä¸ªå·¥ä½œæ—¥å†…ç»™ä½ ç­”å¤ã€‚</p>
<p><strong>è°¢é£æœº</strong>ï¼ˆæ¾äº†ä¸€å£æ°”ï¼‰ï¼šè°¢è°¢é¢è¯•å®˜ï¼æˆ‘å›å»å¥½å¥½è¡¥è¯¾ï¼Œäº‰å–ä¸‹æ¬¡åˆ«å†è¢«é—®æ‡µäº†ï¼</p>
<hr/>
<h3 data-id="heading-6">ç­”æ¡ˆè¯¦è§£ï¼šæ ¸å¿ƒæŠ€æœ¯ç‚¹è§£æï¼ˆå°ç™½ä¹Ÿèƒ½çœ‹æ‡‚ï¼‰</h3>
<h4 data-id="heading-7">1. Javaå†…å­˜æ¨¡å‹ï¼ˆJMMï¼‰</h4>
<ul>
<li><strong>å †</strong>ï¼šå­˜æ”¾æ‰€æœ‰å¯¹è±¡å®ä¾‹ï¼Œåƒåœ¾å›æ”¶çš„ä¸»è¦åŒºåŸŸã€‚</li>
<li><strong>æ ˆ</strong>ï¼šå­˜æ”¾å±€éƒ¨å˜é‡ã€æ–¹æ³•è°ƒç”¨æ ˆå¸§ï¼Œæ¯ä¸ªçº¿ç¨‹ç‹¬ç«‹ã€‚</li>
<li><strong>æ–¹æ³•åŒº</strong>ï¼šå­˜å‚¨ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ç­‰ï¼ŒJDK8åæ›´åä¸º<strong>å…ƒç©ºé—´</strong>ï¼ˆMetaspaceï¼‰ï¼Œä½äºæœ¬åœ°å†…å­˜ï¼Œä¸å†å—é™äºå †å¤§å°ã€‚</li>
<li><strong>å…ƒç©ºé—´æ›¿ä»£æ°¸ä¹…ä»£çš„åŸå› </strong>ï¼šæ°¸ä¹…ä»£åœ¨å †ä¸­ï¼Œå®¹æ˜“å¯¼è‡´<code>OutOfMemoryError</code>ï¼›å…ƒç©ºé—´ä½¿ç”¨æœ¬åœ°å†…å­˜ï¼Œå¯åŠ¨æ€æ‰©å±•ï¼Œé¿å…å†…å­˜æº¢å‡ºã€‚</li>
</ul>
<h4 data-id="heading-8">2. volatileå…³é”®å­—</h4>
<ul>
<li><strong>å¯è§æ€§</strong>ï¼šå½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹volatileå˜é‡ï¼Œå…¶ä»–çº¿ç¨‹èƒ½ç«‹å³çœ‹åˆ°æœ€æ–°å€¼ï¼ˆé€šè¿‡å†…å­˜å±éšœåˆ·æ–°ä¸»å†…å­˜ï¼‰ã€‚</li>
<li><strong>ç¦æ­¢æŒ‡ä»¤é‡æ’åº</strong>ï¼šæ’å…¥å†…å­˜å±éšœï¼Œé˜²æ­¢ç¼–è¯‘å™¨æˆ–å¤„ç†å™¨å¯¹ä»£ç è¿›è¡Œä¹±åºä¼˜åŒ–ï¼Œç¡®ä¿æ‰§è¡Œé¡ºåºç¬¦åˆé¢„æœŸã€‚</li>
<li><strong>å…¸å‹åº”ç”¨</strong>ï¼šå•ä¾‹æ¨¡å¼ä¸­çš„åŒé‡æ£€æŸ¥é”ã€çŠ¶æ€æ ‡å¿—ä½ç­‰ã€‚</li>
</ul>
<h4 data-id="heading-9">3. çº¿ç¨‹æ± æ ¸å¿ƒå‚æ•° &amp; è°ƒä¼˜</h4>
<ul>
<li><code>corePoolSize</code>ï¼šæ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œå³ä½¿ç©ºé—²ä¹Ÿä¸ä¼šè¢«å›æ”¶ã€‚</li>
<li><code>maximumPoolSize</code>ï¼šæœ€å¤§çº¿ç¨‹æ•°ï¼Œè¶…è¿‡æ ¸å¿ƒæ•°åæ‰åˆ›å»ºæ–°çº¿ç¨‹ã€‚</li>
<li><code>workQueue</code>ï¼šä»»åŠ¡é˜Ÿåˆ—ï¼Œå¦‚<code>LinkedBlockingQueue</code>ï¼ˆæ— ç•Œï¼‰ã€<code>ArrayBlockingQueue</code>ï¼ˆæœ‰ç•Œï¼‰ã€<code>SynchronousQueue</code>ï¼ˆç›´æ¥æäº¤ï¼‰ã€‚</li>
<li><code>rejectedExecutionHandler</code>ï¼šæ‹’ç»ç­–ç•¥ï¼Œå¦‚<code>AbortPolicy</code>ï¼ˆæŠ›å¼‚å¸¸ï¼‰ã€<code>CallerRunsPolicy</code>ï¼ˆç”±è°ƒç”¨çº¿ç¨‹æ‰§è¡Œï¼‰ã€‚</li>
<li><strong>è°ƒä¼˜å»ºè®®</strong>ï¼š
<ul>
<li>CPUå¯†é›†å‹ä»»åŠ¡ï¼š<code>corePoolSize = CPUæ ¸æ•° + 1</code></li>
<li>I/Oå¯†é›†å‹ä»»åŠ¡ï¼š<code>corePoolSize = 2 * CPUæ ¸æ•°</code></li>
<li>é˜Ÿåˆ—é€‰æ‹©ï¼šé¿å…æ— ç•Œé˜Ÿåˆ—å¯¼è‡´å†…å­˜æº¢å‡ºï¼Œå»ºè®®ä½¿ç”¨æœ‰ç•Œé˜Ÿåˆ—é…åˆæ‹’ç»ç­–ç•¥ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-10">4. ThreadLocalä½¿ç”¨æ³¨æ„äº‹é¡¹</h4>
<ul>
<li>æ¯ä¸ªçº¿ç¨‹æ‹¥æœ‰ç‹¬ç«‹å‰¯æœ¬ï¼Œé€‚ç”¨äºçº¿ç¨‹éš”ç¦»åœºæ™¯ï¼ˆå¦‚ç”¨æˆ·ç™»å½•ä¸Šä¸‹æ–‡ã€äº‹åŠ¡ç®¡ç†ï¼‰ã€‚</li>
<li><strong>å¿…é¡»æ‰‹åŠ¨æ¸…ç†</strong>ï¼šåœ¨<code>finally</code>å—ä¸­è°ƒç”¨<code>threadLocal.remove()</code>ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ï¼ˆå› ThreadLocalMapæŒæœ‰å¼ºå¼•ç”¨ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-11">5. Spring Bootè‡ªåŠ¨è£…é…åŸç†</h4>
<ul>
<li>åŸºäº<code>@EnableAutoConfiguration</code>æ³¨è§£ï¼Œæ‰«æ<code>META-INF/spring.factories</code>æ–‡ä»¶ï¼ŒåŠ è½½<code>org.springframework.boot.autoconfigure.AutoConfiguration.imports</code>æŒ‡å®šçš„è‡ªåŠ¨é…ç½®ç±»ã€‚</li>
<li>ä½¿ç”¨<code>@ConditionalOnClass</code>ã€<code>@ConditionalOnMissingBean</code>ç­‰æ¡ä»¶æ³¨è§£æ§åˆ¶æ˜¯å¦ç”Ÿæ•ˆï¼Œå®ç°â€œæŒ‰éœ€åŠ è½½â€æœºåˆ¶ã€‚</li>
</ul>
<h4 data-id="heading-12">6. Spring Beanç”Ÿå‘½å‘¨æœŸ</h4>
<ol>
<li><strong>å®ä¾‹åŒ–</strong>ï¼šé€šè¿‡æ„é€ å‡½æ•°æˆ–å·¥å‚æ–¹æ³•åˆ›å»ºå¯¹è±¡ã€‚</li>
<li><strong>å±æ€§èµ‹å€¼</strong>ï¼šæ³¨å…¥ä¾èµ–ï¼ˆ@Autowiredï¼‰ã€‚</li>
<li><strong>Awareæ¥å£å›è°ƒ</strong>ï¼šå¦‚ApplicationContextAwareã€BeanNameAwareç­‰ã€‚</li>
<li><strong>InitializingBeanæ¥å£</strong>ï¼šè°ƒç”¨<code>afterPropertiesSet()</code>æ–¹æ³•ã€‚</li>
<li><strong>@PostConstructæ³¨è§£æ–¹æ³•</strong>ï¼šæ‰§è¡Œè‡ªå®šä¹‰åˆå§‹åŒ–é€»è¾‘ã€‚</li>
<li><strong>Beanåˆå§‹åŒ–å®Œæˆ</strong>ï¼šæ³¨å†Œåˆ°å®¹å™¨ä¸­ã€‚</li>
<li><strong>é”€æ¯</strong>ï¼šè°ƒç”¨<code>@PreDestroy</code>æˆ–<code>DisposableBean</code>æ¥å£æ–¹æ³•ã€‚</li>
</ol>
<h4 data-id="heading-13">7. MyBatisç¼“å­˜æœºåˆ¶</h4>
<ul>
<li><strong>ä¸€çº§ç¼“å­˜</strong>ï¼šé»˜è®¤å¼€å¯ï¼Œä½œç”¨åŸŸä¸ºSqlSessionï¼ŒåŒä¸€ä¼šè¯å†…é‡å¤æŸ¥è¯¢å‘½ä¸­ç¼“å­˜ã€‚</li>
<li><strong>äºŒçº§ç¼“å­˜</strong>ï¼šä½œç”¨åŸŸä¸ºMapperçº§åˆ«ï¼Œéœ€æ‰‹åŠ¨å¼€å¯ï¼ˆ<code>&lt;cache /&gt;</code>æ ‡ç­¾ï¼‰ï¼Œè·¨ä¼šè¯å…±äº«ï¼Œä½†éœ€å®ä½“ç±»å®ç°<code>Serializable</code>æ¥å£ã€‚</li>
<li><strong>ä¸€è‡´æ€§é—®é¢˜</strong>ï¼šç”±äºç¼“å­˜å¼‚æ­¥æ›´æ–°ï¼Œå¯èƒ½å‡ºç°è„è¯»ã€‚è§£å†³æ–¹æ¡ˆï¼š
<ul>
<li>ç”¨Redisç­‰åˆ†å¸ƒå¼ç¼“å­˜æ›¿ä»£ã€‚</li>
<li>å¯ç”¨<code>@CacheNamespaceRef</code>å’Œ<code>@Options(flushCache = true)</code>å¼ºåˆ¶åˆ·æ–°ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-14">8. DDDé¢†åŸŸé©±åŠ¨è®¾è®¡æ ¸å¿ƒæ€æƒ³</h4>
<ul>
<li><strong>é¢†åŸŸæ¨¡å‹</strong>ï¼šä»¥ä¸šåŠ¡ä¸ºæ ¸å¿ƒï¼Œå°†å¤æ‚ä¸šåŠ¡æŠ½è±¡ä¸ºå®ä½“ï¼ˆEntityï¼‰ã€å€¼å¯¹è±¡ï¼ˆValue Objectï¼‰ã€èšåˆæ ¹ï¼ˆAggregate Rootï¼‰ã€‚</li>
<li><strong>åˆ†å±‚æ¶æ„</strong>ï¼š
<ul>
<li><strong>è¡¨ç°å±‚</strong>ï¼šå¤„ç†å‰ç«¯è¯·æ±‚ã€‚</li>
<li><strong>åº”ç”¨å±‚</strong>ï¼šåè°ƒé¢†åŸŸæœåŠ¡ï¼Œå¤„ç†ç”¨ä¾‹ã€‚</li>
<li><strong>é¢†åŸŸå±‚</strong>ï¼šåŒ…å«æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å’Œè§„åˆ™ã€‚</li>
<li><strong>åŸºç¡€è®¾æ–½å±‚</strong>ï¼šæ•°æ®åº“ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰å¤–éƒ¨ä¾èµ–ã€‚</li>
</ul>
</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤ï¼Œä¸šåŠ¡ä¸æŠ€æœ¯åˆ†ç¦»ï¼Œé€‚åˆå¤æ‚ç³»ç»Ÿé•¿æœŸæ¼”è¿›ã€‚</li>
</ul>
<hr/>
<blockquote>
<p>ğŸ“Œ <strong>æ€»ç»“</strong>ï¼šæœ¬æ¬¡é¢è¯•è™½æœ‰ç¬‘ç‚¹ï¼Œä½†å†…å®¹æ‰å®ã€‚æŒæ¡è¿™äº›æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œæ˜¯ä½ å†²å‡»å¤§å‚çš„å…³é”®ä¸€æ­¥ã€‚æŒç»­å­¦ä¹ ï¼Œæœªæ¥å¯æœŸï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <!----></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pinia å…¥é—¨ï¼šä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯ Vuex æ›´å…·é­…åŠ›çš„ç°ä»£ç»§ä»»è€…ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582067084840534070</link>    <guid>https://juejin.cn/post/7582067084840534070</guid>    <pubDate>2025-12-10T23:31:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582067084840534070" data-draft-id="7582067084840517686" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pinia å…¥é—¨ï¼šä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯ Vuex æ›´å…·é­…åŠ›çš„ç°ä»£ç»§ä»»è€…ï¼Ÿ"/> <meta itemprop="keywords" content="Vue.js,JavaScript,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-10T23:31:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°é©¬å†™ç "/> <meta itemprop="url" content="https://juejin.cn/user/3940246036939358"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pinia å…¥é—¨ï¼šä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯ Vuex æ›´å…·é­…åŠ›çš„ç°ä»£ç»§ä»»è€…ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3940246036939358/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°é©¬å†™ç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-10T23:31:16.000Z" title="Wed Dec 10 2025 23:31:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-10
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    48
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šVue çŠ¶æ€ç®¡ç†çš„æ—¶ä»£å˜è¿</h2>
<p>åœ¨ Vue.js åº”ç”¨å¼€å‘çš„ä¸–ç•Œé‡Œï¼ŒçŠ¶æ€ç®¡ç†ä¸€ç›´æ˜¯æ„å»ºå¤æ‚åº”ç”¨çš„æ ¸å¿ƒè¯¾é¢˜ã€‚å¤šå¹´æ¥ï¼ŒVuex ä½œä¸ºå®˜æ–¹çŠ¶æ€ç®¡ç†åº“ï¼Œå‡ ä¹æˆä¸º Vue é¡¹ç›®çš„æ ‡å‡†é…ç½®ã€‚ç„¶è€Œï¼Œéšç€ Vue 3 çš„æ¨å‡ºå’Œå¼€å‘ç†å¿µçš„æ¼”è¿›ï¼Œä¸€ä¸ªå…¨æ–°çš„æŒ‘æˆ˜è€…â€”â€”<strong>Pinia</strong>â€”â€”æ‚„ç„¶ç™»åœºï¼Œå¹¶è¿…é€Ÿèµ¢å¾—äº†å¼€å‘è€…çš„é’çã€‚å®ƒä¸ä»…è¢« Vue å®˜æ–¹æ¨èä¸ºâ€œé»˜è®¤çš„çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆâ€ï¼Œæ›´ä»¥å…¶ç®€æ´ã€ç›´è§‚å’Œå¼ºå¤§çš„ç‰¹æ€§ï¼Œæ­£åœ¨é‡æ–°å®šä¹‰æˆ‘ä»¬å¯¹ Vue çŠ¶æ€ç®¡ç†çš„è®¤çŸ¥ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€Pinia æ˜¯ä»€ä¹ˆï¼Ÿä¸ä»…ä»…æ˜¯â€œå¦ä¸€ä¸ªçŠ¶æ€åº“â€</h2>
<p>Pinia æ˜¯ä¸€ä¸ªä¸º Vue.js è®¾è®¡çš„çŠ¶æ€ç®¡ç†åº“ã€‚å®ƒç”± Vue æ ¸å¿ƒå›¢é˜Ÿæˆå‘˜å¼€å‘ï¼Œæ—¨åœ¨æä¾›æ›´ç›´è§‚ã€ç±»å‹å®‰å…¨ä¸”æ¨¡å—åŒ–çš„çŠ¶æ€ç®¡ç†ä½“éªŒã€‚</p>
<p>ä¸ Vuex ç›¸æ¯”ï¼ŒPinia æœ€æ˜¾è‘—çš„å“²å­¦è½¬å˜æ˜¯ï¼š<strong>å®ƒæ‘’å¼ƒäº† mutations çš„æ¦‚å¿µ</strong>ã€‚è¿™ä¸ªè®¾è®¡å†³ç­–çœ‹ä¼¼ç®€å•ï¼Œå´å¸¦æ¥äº†å¼€å‘ä½“éªŒçš„è´¨å˜ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Pinia çš„ Store ç¤ºä¾‹ - ç®€æ´ç›´è§‚</span>
<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'counter'</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> }),
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++ <span class="hljs-comment">// ç›´æ¥ä¿®æ”¹çŠ¶æ€ï¼Œæ— éœ€ mutations</span>
    },
  },
  <span class="hljs-attr">getters</span>: {
    <span class="hljs-attr">doubleCount</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">count</span> * <span class="hljs-number">2</span>,
  },
})
</code></pre>
<h2 data-id="heading-2">äºŒã€ä¸ºä»€ä¹ˆé€‰æ‹© Piniaï¼Ÿäº”å¤§æ ¸å¿ƒä¼˜åŠ¿</h2>
<h3 data-id="heading-3">1. æ›´ç®€æ´çš„ API è®¾è®¡</h3>
<p>Pinia çš„ API æåº¦ç²¾ç®€ï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“ã€‚å»æ‰äº† Vuex ä¸­çš„ <code>mutations</code>ï¼ŒçŠ¶æ€ä¿®æ”¹å¯ä»¥é€šè¿‡ actions ç›´æ¥å®Œæˆï¼Œä¹Ÿå¯ä»¥ç›´æ¥èµ‹å€¼ä¿®æ”¹ï¼ˆé…åˆå“åº”å¼ç³»ç»Ÿï¼‰ã€‚è¿™ç§è®¾è®¡å‡å°‘äº†æ¦‚å¿µæ•°é‡ï¼Œè®©ä»£ç æ›´æ˜“è¯»æ˜“å†™ã€‚</p>
<h3 data-id="heading-4">2. å®Œç¾çš„ TypeScript æ”¯æŒ</h3>
<p>Pinia ä»ä¸€å¼€å§‹å°±ä¸º TypeScript è®¾è®¡ï¼Œæä¾›äº†å‡ºè‰²çš„ç±»å‹æ¨æ–­ã€‚ä½ çš„ storeã€stateã€actions å’Œ getters éƒ½èƒ½è·å¾—å®Œæ•´çš„ç±»å‹å®‰å…¨ï¼Œå¤§å¹…æå‡å¼€å‘æ•ˆç‡å’Œä»£ç å¯é æ€§ã€‚</p>
<h3 data-id="heading-5">3. æ¨¡å—åŒ–çš„è‡ªç„¶å®ç°</h3>
<p>åœ¨ Pinia ä¸­ï¼Œæ¯ä¸ª store éƒ½æ˜¯ç‹¬ç«‹çš„æ¨¡å—ï¼Œæ— éœ€åƒ Vuex é‚£æ ·åœ¨å•ä¸€ store ä¸­æ³¨å†Œæ¨¡å—ã€‚è¿™ç§è®¾è®¡è®©ä»£ç ç»„ç»‡æ›´åŠ çµæ´»ï¼Œä¹Ÿä¾¿äºä»£ç åˆ†å‰²å’ŒæŒ‰éœ€åŠ è½½ã€‚</p>
<h3 data-id="heading-6">4. æ›´å‹å¥½çš„å¼€å‘ä½“éªŒ</h3>
<ul>
<li><strong>Composition API é£æ ¼</strong>ï¼šä¸ Vue 3 çš„ Composition API å®Œç¾å¥‘åˆ</li>
<li><strong>DevTools é›†æˆ</strong>ï¼šæ”¯æŒ Vue DevToolsï¼Œæä¾›æ—¶é—´æ—…è¡Œè°ƒè¯•</li>
<li><strong>çƒ­æ¨¡å—æ›¿æ¢</strong>ï¼šæ”¯æŒå¼€å‘æ—¶çš„çƒ­æ›´æ–°ï¼Œä¿æŒçŠ¶æ€ä¸ä¸¢å¤±</li>
</ul>
<h3 data-id="heading-7">5. è½»é‡ä¸”é«˜æ€§èƒ½</h3>
<p>Pinia ä½“ç§¯å°å·§ï¼ŒåŒæ—¶é€šè¿‡æ™ºèƒ½çš„è®¾è®¡é¿å…äº†ä¸å¿…è¦çš„æ€§èƒ½å¼€é”€ã€‚å®ƒçš„å“åº”å¼ç³»ç»Ÿç›´æ¥æ„å»ºåœ¨ Vue çš„ reactive API ä¹‹ä¸Šï¼Œç¡®ä¿äº†é«˜æ•ˆçš„çŠ¶æ€æ›´æ–°ã€‚</p>
<h2 data-id="heading-8">ä¸‰ã€ä» Vuex è¿ç§»åˆ° Piniaï¼šä¸€ä¸ªå¹³æ»‘çš„è¿‡æ¸¡</h2>
<p>å¯¹äº Vuex ç”¨æˆ·ï¼Œè¿ç§»åˆ° Pinia æ˜¯ä¸€ä¸ªç›¸å¯¹å¹³æ»‘çš„è¿‡ç¨‹ã€‚ä¸¤è€…æ ¸å¿ƒæ¦‚å¿µæœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä½† Pinia æä¾›äº†æ›´ç®€æ´çš„å®ç°ï¼š</p>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Vuex 4</th><th>Pinia</th></tr></thead><tbody><tr><td>çŠ¶æ€å®šä¹‰</td><td><code>state</code> å‡½æ•°</td><td><code>state</code> å‡½æ•°</td></tr><tr><td>è·å–çŠ¶æ€</td><td><code>getters</code></td><td><code>getters</code></td></tr><tr><td>ä¿®æ”¹çŠ¶æ€</td><td><code>mutations</code> + <code>actions</code></td><td><code>actions</code>ï¼ˆå¯ç›´æ¥ä¿®æ”¹ï¼‰</td></tr><tr><td>æ¨¡å—ç³»ç»Ÿ</td><td>åµŒå¥—æ¨¡å—</td><td>ç‹¬ç«‹ store</td></tr><tr><td>TypeScript æ”¯æŒ</td><td>éœ€è¦é¢å¤–é…ç½®</td><td>å¼€ç®±å³ç”¨</td></tr></tbody></table>
<p>è¿ç§»ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Vuex æ–¹å¼</span>
<span class="hljs-attr">mutations</span>: {
  <span class="hljs-title function_">SET_COUNT</span>(<span class="hljs-params">state, value</span>) {
    state.<span class="hljs-property">count</span> = value
  }
},
<span class="hljs-attr">actions</span>: {
  <span class="hljs-title function_">updateCount</span>(<span class="hljs-params">{ commit }, value</span>) {
    <span class="hljs-title function_">commit</span>(<span class="hljs-string">'SET_COUNT'</span>, value)
  }
}

<span class="hljs-comment">// Pinia æ–¹å¼ï¼ˆæ›´ç®€æ´ï¼‰</span>
<span class="hljs-attr">actions</span>: {
  <span class="hljs-title function_">updateCount</span>(<span class="hljs-params">value</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> = value <span class="hljs-comment">// ç›´æ¥èµ‹å€¼ï¼Œå“åº”å¼ç³»ç»Ÿè‡ªåŠ¨å¤„ç†</span>
  }
}
</code></pre>
<h2 data-id="heading-9">å››ã€å®æˆ˜ï¼šæ„å»ºä½ çš„ç¬¬ä¸€ä¸ª Pinia Store</h2>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç®¡ç†ç¤ºä¾‹ï¼Œå¿«é€Ÿä¸Šæ‰‹ Piniaï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// stores/user.js</span>
<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useUserStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'user'</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">user</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">isAuthenticated</span>: <span class="hljs-literal">false</span>,
  }),
  
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">login</span>(<span class="hljs-params">credentials</span>) {
      <span class="hljs-comment">// æ¨¡æ‹Ÿ API è°ƒç”¨</span>
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">login</span>(credentials)
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span> = response.<span class="hljs-property">user</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isAuthenticated</span> = <span class="hljs-literal">true</span>
      <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'token'</span>, response.<span class="hljs-property">token</span>)
    },
    
    <span class="hljs-title function_">logout</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span> = <span class="hljs-literal">null</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">isAuthenticated</span> = <span class="hljs-literal">false</span>
      <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">'token'</span>)
    },
  },
  
  <span class="hljs-attr">getters</span>: {
    <span class="hljs-attr">userName</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">user</span>?.<span class="hljs-property">name</span> || <span class="hljs-string">'Guest'</span>,
    <span class="hljs-attr">isAdmin</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">user</span>?.<span class="hljs-property">role</span> === <span class="hljs-string">'admin'</span>,
  },
})
</code></pre>
<p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">
  &lt;div&gt;
    &lt;p&gt;Welcome, {{ userStore.userName }}&lt;/p&gt;
    Logout
  &lt;/div&gt;



import { useUserStore } from '@/stores/user'

const userStore = useUserStore()
// å¯ä»¥ç›´æ¥è®¿é—®çŠ¶æ€å’Œæ“ä½œ

</code></pre>
<h2 data-id="heading-10">äº”ã€é«˜çº§ç‰¹æ€§ï¼šæ¢ç´¢ Pinia çš„å¼ºå¤§èƒ½åŠ›</h2>
<h3 data-id="heading-11">1. Store ç»„åˆ</h3>
<p>Pinia å…è®¸ stores ä¹‹é—´ç›¸äº’è°ƒç”¨ï¼Œä¾¿äºç»„ç»‡å¤æ‚çš„çŠ¶æ€é€»è¾‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// stores/cart.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCartStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'cart'</span>, {
  <span class="hljs-comment">// ... cart é€»è¾‘</span>
})

<span class="hljs-comment">// stores/checkout.js  </span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCheckoutStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'checkout'</span>, {
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> cartStore = <span class="hljs-title function_">useCartStore</span>()
    
    <span class="hljs-keyword">return</span> {
      <span class="hljs-comment">// å¯ä»¥è®¿é—®å…¶ä»– store</span>
      <span class="hljs-attr">cartItems</span>: cartStore.<span class="hljs-property">items</span>,
    }
  }
})
</code></pre>
<h3 data-id="heading-12">2. æ’ä»¶ç³»ç»Ÿ</h3>
<p>Pinia æ”¯æŒæ’ä»¶ï¼Œå¯ä»¥è½»æ¾æ‰©å±•åŠŸèƒ½ï¼Œå¦‚æŒä¹…åŒ–å­˜å‚¨ã€æ—¥å¿—è®°å½•ç­‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŒä¹…åŒ–æ’ä»¶ç¤ºä¾‹</span>
<span class="hljs-keyword">import</span> { createPinia } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-keyword">const</span> pinia = <span class="hljs-title function_">createPinia</span>()

pinia.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">{ store }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> key = <span class="hljs-string">`pinia-<span class="hljs-subst">${store.$id}</span>`</span>
  <span class="hljs-keyword">const</span> saved = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(key)
  <span class="hljs-keyword">if</span> (saved) {
    store.$patch(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(saved))
  }
  
  store.$subscribe(<span class="hljs-function">(<span class="hljs-params">mutation, state</span>) =&gt;</span> {
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(key, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(state))
  })
})
</code></pre>
<h2 data-id="heading-13">å…­ã€æ³¨æ„äº‹é¡¹ä¸æœ€ä½³å®è·µ</h2>
<ol>
<li><strong>å‘½åè§„èŒƒ</strong>ï¼šå»ºè®®ä½¿ç”¨ <code>use</code> å‰ç¼€å‘½å storeï¼ˆå¦‚ <code>useUserStore</code>ï¼‰ï¼Œä»¥ç¬¦åˆ Composition API æƒ¯ä¾‹</li>
<li><strong>é¿å…è¿‡åº¦ä½¿ç”¨</strong>ï¼šä¸æ˜¯æ‰€æœ‰çŠ¶æ€éƒ½éœ€è¦æ”¾å…¥ Piniaï¼Œç»„ä»¶æœ¬åœ°çŠ¶æ€ä»åº”ä½¿ç”¨ <code>ref</code> æˆ– <code>reactive</code></li>
<li><strong>ä¿æŒ Actions çº¯å‡€</strong>ï¼šè™½ç„¶å¯ä»¥ç›´æ¥ä¿®æ”¹çŠ¶æ€ï¼Œä½†å»ºè®®é€šè¿‡ actions è¿›è¡Œä¿®æ”¹ï¼Œä¾¿äºç»´æŠ¤å’Œè°ƒè¯•</li>
<li><strong>åˆ©ç”¨ DevTools</strong>ï¼šå……åˆ†åˆ©ç”¨ Vue DevTools çš„ Pinia é¢æ¿è¿›è¡ŒçŠ¶æ€è°ƒè¯•</li>
</ol>
<h2 data-id="heading-14">ç»“è¯­ï¼šè¿æ¥ Vue çŠ¶æ€ç®¡ç†çš„æ–°æ—¶ä»£</h2>
<p>Pinia çš„å‡ºç°å¹¶éå¶ç„¶ï¼Œå®ƒä»£è¡¨äº† Vue ç”Ÿæ€å‘æ›´ç®€æ´ã€æ›´ç±»å‹å®‰å…¨ã€æ›´ç¬¦åˆç°ä»£å¼€å‘ä½“éªŒçš„æ–¹å‘æ¼”è¿›ã€‚å®ƒä¿ç•™äº† Vuex çš„æ ¸å¿ƒæ€æƒ³ï¼ŒåŒæ—¶å»é™¤äº†å…¶ä¸­çš„ç¹å¤éƒ¨åˆ†ï¼Œæä¾›äº†æ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>å¯¹äºæ–°é¡¹ç›®ï¼ŒPinia æ— ç–‘æ˜¯é»˜è®¤çš„æœ€ä½³é€‰æ‹©ï¼›å¯¹äºç°æœ‰ Vuex é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘é€æ­¥è¿ç§»ï¼Œäº«å—æ›´ä¼˜çš„å¼€å‘ä½“éªŒã€‚æ­£å¦‚ Vue åˆ›å§‹äººå°¤é›¨æºªæ‰€è¨€ï¼š"Pinia å°±æ˜¯ Vuex 5ï¼Œåªä¸è¿‡æˆ‘ä»¬å†³å®šå«å®ƒ Pinia"ã€‚</p>
<p>åœ¨çŠ¶æ€ç®¡ç†çš„ä¸–ç•Œé‡Œï¼Œæ²¡æœ‰ç»å¯¹çš„"æœ€å¥½"ï¼Œåªæœ‰"æœ€é€‚åˆ"ã€‚è€Œ Piniaï¼Œå‡­å€Ÿå…¶ç®€æ´çš„è®¾è®¡ã€å‡ºè‰²çš„ TypeScript æ”¯æŒå’Œä¸ Vue 3 çš„å®Œç¾èåˆï¼Œæ­£æˆä¸ºè¶Šæ¥è¶Šå¤š Vue å¼€å‘è€…çš„é¦–é€‰ã€‚å®ƒä¸ä»…æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæ›´æ˜¯ Vue ç”Ÿæ€æˆç†Ÿå’Œè¿›æ­¥çš„æ ‡å¿—â€”â€”è®©æˆ‘ä»¬ä»¥æ›´å°‘çš„ä»£ç ï¼Œå®ç°æ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œäº«å—æ›´æ„‰å¿«çš„å¼€å‘è¿‡ç¨‹ã€‚</p>
<p>æ‹¥æŠ± Piniaï¼Œå°±æ˜¯æ‹¥æŠ± Vue çŠ¶æ€ç®¡ç†çš„æœªæ¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚æœæˆ‘é—®ä½  Contextï¼Œä½ æ‰›å¾—ä½å—ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582039917217988608</link>    <guid>https://juejin.cn/post/7582039917217988608</guid>    <pubDate>2025-12-11T00:29:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582039917217988608" data-draft-id="7577284771447685160" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚æœæˆ‘é—®ä½  Contextï¼Œä½ æ‰›å¾—ä½å—ï¼Ÿ"/> <meta itemprop="keywords" content="Android,Kotlin"/> <meta itemprop="datePublished" content="2025-12-11T00:29:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RockByte"/> <meta itemprop="url" content="https://juejin.cn/user/1046390797768519"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚æœæˆ‘é—®ä½  Contextï¼Œä½ æ‰›å¾—ä½å—ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1046390797768519/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RockByte
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T00:29:49.000Z" title="Thu Dec 11 2025 00:29:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    114
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;color:#282d36}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px;color:#2f845e}.markdown-body h2{font-size:22px;display:inline-block;font-weight:700;background:#2f845e;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(47,132,194,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 32px);border-bottom:3px solid #2f845e}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%;box-shadow:6px 6px 6px #888}.markdown-body hr{border:none;border-top:1px solid rgba(66,185,131,.15);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:16px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#262626;border:1px solid #2f845e;border-top:8px solid #2f845e;background:linear-gradient(180deg,rgba(66,185,131,.1),transparent)!important}.markdown-body pre&gt;code.hljs[lang]:before{top:8px!important;color:#2f845e!important}.markdown-body pre&gt;code.language-awesome_error{border:1px solid #ff4d4f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ff4d4f!important;background:#fff2f0!important}.markdown-body pre&gt;code.language-awesome_error:before{content:"!"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ff4d4f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_warn{border:1px solid #ffc46f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ffc46f!important;background:#fffbe6!important}.markdown-body pre&gt;code.language-awesome_warn:before{content:"â˜‚"!important;position:absolute;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ffc46f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_success{border:1px solid #52c41a!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#52c41a!important;background:#f6ffed!important}.markdown-body pre&gt;code.language-awesome_success:before{content:"âœ“"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#52c41a!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_info{border:1px solid #1890ff!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#1890ff!important;background:#e6f7ff!important}.markdown-body pre&gt;code.language-awesome_info:before{content:"i"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#1890ff!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body strong{background-color:inherit;color:#2f845e}.markdown-body em{background-color:inherit;color:#949415}.markdown-body a{text-decoration:none;color:#2f8e54;border-bottom:1px solid #3f9e64}.markdown-body a:active,.markdown-body a:hover{color:#3f9e64}.markdown-body a[class^=footnote]{margin-left:4px}.markdown-body a:before{content:"â¤ "}.markdown-body table{font-size:12px;width:100%;max-width:100%;overflow:auto;border:2px solid #2f8e54}.markdown-body thead{background:#2f8e54;color:#fff;text-align:left;font-weight:700}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:22px}.markdown-body td{min-width:120px}.markdown-body blockquote{padding:1px 22px;margin:22px 0;border-left:6px solid #2f845e;background-color:rgba(66,185,131,.1);border-radius:2px}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#2f845e}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px;color:#282d36}.markdown-body del{color:#2f845e}.markdown-body input[type=checkbox]:checked:before{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/klEQVQ4T72TMU7DQBBF318XdFR06egQEnAXRINEGlqgowoIR8AF4AZOZ4JEGq5AC5EixBU4A55BNrEVHAcSBTHlaubt37/zxZKlcn7n6mDPXJvz8IJ89HzWu8t7C8D2dfsY52ae4apHnLx0ktsCsHXZjiUuFgG40x2eJ/H/AhztB+zDUTpLwWj8jGkzxSHiHaMPrDQC8sMoilKzLAUqiKQjmb+ZuAdW80tmelCHODoNgSfP7AFprTTaRTzsJN1GEyuIZ7uW6TEEHwCtyV/6EVBKJHhfzgC0Xv/iXwEFBF4FG0378bd7sPQq5xK/hSnk6sdlX3mZrKkwLZKBeu8n9XuWEUE7X+YAAAAASUVORK5CYII=);position:relative;top:-1px;left:-1px}.markdown-body .math .katex{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}@media (max-width:720px){.markdown-body h1{font-size:22px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="xcode">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.xml .hljs-meta{color:silver}.hljs-comment,.hljs-quote{color:#007400}.hljs-attribute,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#aa0d91}.hljs-template-variable,.hljs-variable{color:#3f6e74}.hljs-code,.hljs-meta-string,.hljs-string{color:#c41a16}.hljs-link,.hljs-regexp{color:#0e0eff}.hljs-bullet,.hljs-number,.hljs-symbol,.hljs-title{color:#1c00cf}.hljs-meta,.hljs-section{color:#643820}.hljs-built_in,.hljs-builtin-name,.hljs-class .hljs-title,.hljs-params,.hljs-type{color:#5c2699}.hljs-attr{color:#836c28}.hljs-subst{color:#000}.hljs-formula{background-color:#eee;font-style:italic}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-selector-class,.hljs-selector-id{color:#9b703f}.hljs-doctag,.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}</style><p><em>æœ¬ç³»åˆ—ä¸ºå°è¯´ã€Šé€†è¢­è¥¿äºŒæ——ã€‹çš„æŠ€æœ¯è®²è§£ï¼Œç”¨äºè¯¦ç»†è¯´æ˜<a href="https://juejin.cn/post/7581348660824506368" target="_blank" title="https://juejin.cn/post/7581348660824506368">å‰§æƒ…</a>é‡Œæ¶‰åŠçš„å¼€å‘ç»†èŠ‚ã€‚</em></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f1b5f6096214ccf89f001ee015b88b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUm9ja0J5dGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766017789&amp;x-signature=3%2FBmrHIGgXFGVwT2TftDraD7vEI%3D" alt="0.jpg" loading="lazy"/></p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ Contextï¼ŒContext æœ‰å“ªäº›ç±»å‹</h2>
<p><code>Context</code> ä»£è¡¨åº”ç”¨ç¨‹åºçš„ç¯å¢ƒæˆ–çŠ¶æ€ï¼Œæä¾›å¯¹åº”ç”¨ä¸“å±èµ„æºå’Œç±»çš„è®¿é—®ã€‚å®ƒå……å½“åº”ç”¨ä¸ Android ç³»ç»Ÿä¹‹é—´çš„æ¡¥æ¢ï¼Œè®©ç»„ä»¶èƒ½å¤Ÿè®¿é—®èµ„æºã€æ•°æ®åº“ã€ç³»ç»ŸæœåŠ¡ç­‰ã€‚åœ¨æ‰§è¡Œè¯¸å¦‚å¯åŠ¨ <code>Activity</code>ã€è¯»å– <code>assets</code> æ–‡ä»¶æˆ–åŠ è½½å¸ƒå±€ç­‰ä»»åŠ¡æ—¶ï¼Œ<code>Context</code> è‡³å…³é‡è¦ã€‚</p>
<p>Android ä¸­æœ‰å¤šç§ç±»å‹çš„ <code>Context</code>ã€‚</p>
<h3 data-id="heading-1">é¢è¯•é—®é¢˜</h3>
<p>åœ¨ Android åº”ç”¨ä¸­ï¼Œä¸ºä½•ä½¿ç”¨æ­£ç¡®çš„ <code>Context</code> ç±»å‹è‡³å…³é‡è¦ï¼Ÿ<br/>
æŒæœ‰ <code>Activit Context</code> çš„é•¿ç”Ÿå‘½å‘¨æœŸå¼•ç”¨åˆå¯èƒ½å¸¦æ¥å“ªäº›é£é™©ï¼Ÿ</p>
<h3 data-id="heading-2">Application Context</h3>
<p><code>Application Context</code> ä¸æ•´ä¸ªåº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸç»‘å®šã€‚å½“ä½ éœ€è¦ä¸€ä¸ªå…¨å±€ã€é•¿ç”Ÿå‘½å‘¨æœŸä¸”ç‹¬ç«‹äºå½“å‰ <code>Activity</code> æˆ– <code>Fragment</code> çš„ <code>Context</code> æ—¶ï¼Œå°±åº”ä½¿ç”¨å®ƒã€‚å¯é€šè¿‡è°ƒç”¨ <code>getApplicationContext()</code> è·å–ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>è®¿é—®å…¨å±€èµ„æºï¼Œå¦‚ <code>SharedPreferences</code> æˆ–æ•°æ®åº“ï¼›</li>
<li>æ³¨å†Œéœ€è´¯ç©¿æ•´ä¸ªåº”ç”¨ç”Ÿå‘½å‘¨æœŸçš„å¹¿æ’­æ¥æ”¶å™¨ï¼›</li>
<li>åˆå§‹åŒ–åœ¨æ•´ä¸ªåº”ç”¨ç”Ÿå‘½å‘¨æœŸå†…æŒç»­å­˜åœ¨çš„åº“æˆ–ç»„ä»¶ã€‚</li>
</ul>
<h3 data-id="heading-3">Activity Context</h3>
<p><code>Activity Context</code>ï¼ˆå³ <code>Activity</code> ä¸­çš„ <code>this</code>ï¼‰ä¸ <code>Activity</code> çš„ç”Ÿå‘½å‘¨æœŸç»‘å®šï¼Œç”¨äºè®¿é—®èµ„æºã€å¯åŠ¨å…¶ä»– <code>Activity</code>ï¼Œæˆ–åŠ è½½è¯¥ <code>Activity</code> ç‰¹æœ‰çš„å¸ƒå±€ã€‚</p>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>åˆ›å»ºæˆ–ä¿®æ”¹ UI ç»„ä»¶ï¼›</li>
<li>å¯åŠ¨å¦ä¸€ä¸ª <code>Activity</code>ï¼›</li>
<li>è®¿é—®é™å®šäºå½“å‰ <code>Activity</code> çš„èµ„æºæˆ–ä¸»é¢˜ã€‚</li>
</ul>
<h3 data-id="heading-4">Service Context</h3>
<p><code>Service Context</code> ä¸ <code>Service</code> çš„ç”Ÿå‘½å‘¨æœŸç»‘å®šï¼Œä¸»è¦ç”¨äºåå°ä»»åŠ¡ï¼Œä¾‹å¦‚æ‰§è¡Œç½‘ç»œè¯·æ±‚æˆ–æ’­æ”¾éŸ³ä¹ã€‚å®ƒå¯è®¿é—® <code>Service</code> æ‰€éœ€çš„ç³»ç»Ÿçº§æœåŠ¡ã€‚</p>
<h3 data-id="heading-5">Broadcast Context</h3>
<p><code>Broadcast Context</code> åœ¨ <code>BroadcastReceiver</code> è¢«è°ƒç”¨æ—¶æä¾›ã€‚å®ƒçš„ç”Ÿå‘½å‘¨æœŸå¾ˆçŸ­ï¼Œé€šå¸¸ä»…ç”¨äºå“åº”ç‰¹å®šå¹¿æ’­äº‹ä»¶ã€‚<strong>åˆ‡å‹¿åœ¨æ­¤ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œã€‚</strong></p>
<h3 data-id="heading-6">Context çš„å¸¸è§ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li><strong>è®¿é—®èµ„æº</strong>ï¼šé€šè¿‡ <code>getString()</code>ã€<code>getDrawable()</code> ç­‰æ–¹æ³•ï¼Œ<code>Context</code> å¯ç”¨äºè·å–å­—ç¬¦ä¸²ã€å›¾ç‰‡ã€å°ºå¯¸ç­‰èµ„æºã€‚</li>
<li><strong>åŠ è½½å¸ƒå±€</strong>ï¼šä½¿ç”¨ <code>Context</code> é€šè¿‡ <code>LayoutInflater</code> å°† XML å¸ƒå±€æ–‡ä»¶è½¬æ¢ä¸º <code>View</code> å¯¹è±¡ã€‚</li>
<li><strong>å¯åŠ¨ Activity å’Œ Service</strong>ï¼šè°ƒç”¨ <code>startActivity()</code> æˆ– <code>startService()</code> æ—¶å¿…é¡»ä¼ å…¥ <code>Context</code>ã€‚</li>
<li><strong>è®¿é—®ç³»ç»ŸæœåŠ¡</strong>ï¼šé€šè¿‡ <code>getSystemService()</code>ï¼Œ<code>Context</code> èƒ½è·å–å¦‚ <code>ClipboardManager</code>ã€<code>ConnectivityManager</code> ç­‰ç³»ç»Ÿçº§æœåŠ¡ã€‚</li>
<li><strong>æ•°æ®åº“ä¸ <code>SharedPreferences</code> æ“ä½œ</strong>ï¼š<code>Context</code> ç”¨äºè®¿é—® <strong>SQLite</strong> æ•°æ®åº“æˆ– <code>SharedPreferences</code> ç­‰æŒä¹…åŒ–å­˜å‚¨æœºåˆ¶ã€‚</li>
</ol>
<h3 data-id="heading-7">æ€»ç»“</h3>
<p><code>Context</code> æ˜¯ Android ä¸­çš„æ ¸å¿ƒç»„ä»¶ï¼Œä½¿åº”ç”¨èƒ½å¤Ÿä¸ç³»ç»Ÿèµ„æºè¿›è¡Œäº¤äº’ã€‚Android æä¾›äº†å¤šç§ <code>Context</code> ç±»å‹ï¼Œå¦‚ <code>Application Context</code>ã€<code>Activity Context</code> å’Œ <code>Service Context</code>ï¼Œå„è‡ªé€‚ç”¨äºä¸åŒåœºæ™¯ã€‚æ­£ç¡®ä½¿ç”¨ <code>Context</code> ä¸ä»…èƒ½é«˜æ•ˆç®¡ç†èµ„æºï¼Œè¿˜èƒ½é¿å…å†…å­˜æ³„æ¼å’Œå´©æºƒã€‚å› æ­¤ï¼ŒåŠ¡å¿…æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„ <code>Context</code>ï¼Œå¹¶é¿å…ä¸å¿…è¦çš„é•¿æœŸæŒæœ‰ã€‚</p>
<h3 data-id="heading-8">è¿›é˜¶ï¼šä½¿ç”¨ Context æ—¶è¦æ³¨æ„ä»€ä¹ˆ</h3>
<p><code>Context</code> æ˜¯ Android ä¸­ä¸€ç§ä¾¿æ·çš„æœºåˆ¶ï¼Œä½†ä½¿ç”¨ä¸å½“ä¼šå¼•å‘ä¸¥é‡é—®é¢˜ï¼Œæ¯”å¦‚å†…å­˜æ³„æ¼ã€å´©æºƒï¼Œæˆ–è€…èµ„æºå¤„ç†æ•ˆç‡ä½ä¸‹ã€‚ä¸ºé¿å…è¿™äº›é™·é˜±ï¼ŒåŠ¡å¿…äº†è§£å…¶ç»†å¾®å·®åˆ«ä»¥åŠæœ‰æ•ˆä½¿ç”¨ <code>Context</code> çš„æœ€ä½³å®è·µã€‚</p>
<p>æœ€å¸¸è§çš„é—®é¢˜ä¹‹ä¸€ï¼Œæ˜¯åœ¨ <code>Activity</code> æˆ– <code>Fragment</code> ç­‰ <code>Context</code> çš„ç”Ÿå‘½å‘¨æœŸä¹‹å¤–ï¼Œä»ç„¶ä¿ç•™å¯¹å®ƒä»¬çš„å¼•ç”¨ã€‚è¿™ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Œå› ä¸ºåƒåœ¾å›æ”¶å™¨æ— æ³•å›æ”¶è¯¥ <code>Context</code> åŠå…¶ç›¸å…³èµ„æºæ‰€å ç”¨çš„å†…å­˜ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸‹é¢çš„ç¤ºä¾‹ä»£ç å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">object</span> Singleton {
    <span class="hljs-keyword">var</span> context: Context? = <span class="hljs-literal">null</span> <span class="hljs-comment">// If this retains the Activity context, causing a memory leak</span>
}
</code></pre>
<p>ç›¸åï¼Œå¯¹äºéœ€è¦ <code>Context</code> çš„é•¿ç”Ÿå‘½å‘¨æœŸå¯¹è±¡ï¼Œåº”ä½¿ç”¨ <code>Application Context</code>ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">object</span> Singleton {
    <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> applicationContext: Context
}
</code></pre>
<p>å› æ­¤ï¼Œä½¿ç”¨åˆé€‚ç±»å‹çš„ <code>Context</code> è‡³å…³é‡è¦ã€‚ä¸åŒç±»å‹çš„ <code>Context</code> ç”¨é€”å„å¼‚ï¼Œç”¨é”™ç±»å‹å¯èƒ½å¯¼è‡´æ„å¤–è¡Œä¸ºï¼š</p>
<ul>
<li>æ‰§è¡Œä¸ç•Œé¢ï¼ˆUIï¼‰ç›¸å…³çš„ä»»åŠ¡ï¼Œå¦‚åŠ è½½å¸ƒå±€æˆ–æ˜¾ç¤ºå¯¹è¯æ¡†æ—¶ï¼Œä½¿ç”¨ <code>Activity Context</code>ã€‚</li>
<li>è¿›è¡Œä¸ UI ç”Ÿå‘½å‘¨æœŸæ— å…³çš„æ“ä½œï¼Œå¦‚åˆå§‹åŒ–åº“æ—¶ï¼Œä½¿ç”¨ <code>Application Context</code>ã€‚</li>
</ul>
<p>ä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†è¯¯ç”¨ <code>Application Context</code> çš„æƒ…å†µï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">val</span> dialog = AlertDialog.Builder(context.getApplicationContext()) <span class="hljs-comment">// Incorrect</span>
</code></pre>
<p>åº”ä½¿ç”¨ <code>Activity Context</code> ä»¥ç¡®ä¿æ­£ç¡®çš„ä¸»é¢˜è®¾ç½®ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">val</span> dialog = AlertDialog.Builder(activityContext) <span class="hljs-comment">// Correct</span>
</code></pre>
<p>å¦ä¸€ä¸ªå…³é”®è€ƒé‡ç‚¹æ˜¯ï¼Œå½“å…³è”ç»„ä»¶ï¼ˆå¦‚ <code>Activity</code> æˆ– <code>Fragment</code>ï¼‰è¢«é”€æ¯åï¼Œè¦é¿å…ä½¿ç”¨ <code>Context</code>ã€‚è®¿é—®ä¸å·²é”€æ¯ç»„ä»¶ç»‘å®šçš„ <code>Context</code>ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç¨‹åºå´©æºƒæˆ–å‡ºç°æœªå®šä¹‰è¡Œä¸ºï¼Œå› ä¸ºä¸è¯¥ <code>Context</code> å…³è”çš„èµ„æºå¯èƒ½å·²ä¸å¤å­˜åœ¨ã€‚</p>
<p>ä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†å¯¹ <code>Context</code> çš„è¯¯ç”¨ï¼Œå…¶ä¸­è‡ªå®šä¹‰è§†å›¾çš„åˆ›å»ºæ–¹å¼ä¸å½“ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin">activity.finish() <span class="hljs-comment">// The activity is destroyed</span>
<span class="hljs-keyword">val</span> text = TextView(activity) <span class="hljs-comment">// but the TextView retains a reference</span>
</code></pre>
<p><em>å¦‚æœåœ¨ <code>activity</code> é”€æ¯åä¾ç„¶ä½¿ç”¨ <code>text</code>ï¼Œæ˜¯éå¸¸å±é™©çš„è¡Œä¸ºï¼ˆä¾‹å¦‚ <code>activity</code> é”€æ¯åï¼Œæ‰è¯·æ±‚åˆ°æ•°æ®ï¼Œç„¶åæ›´æ–° <code>text</code> çš„æ˜¾ç¤ºï¼‰ã€‚</em></p>
<p>é¿å…åœ¨åå°çº¿ç¨‹ä½¿ç”¨ <code>Context</code>ã€‚</p>
<p><code>Context</code> æ˜¯ä¸ºä¸»çº¿ç¨‹è®¾è®¡çš„ï¼Œå°¤å…¶é€‚ç”¨äºè®¿é—®èµ„æºæˆ–ä¸ç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰äº¤äº’ã€‚åœ¨åå°çº¿ç¨‹ä½¿ç”¨å®ƒå¯èƒ½ä¼šå¯¼è‡´æ„å¤–å´©æºƒæˆ–çº¿ç¨‹é—®é¢˜ã€‚åœ¨ä¸ UI ç›¸å…³çš„ <code>Context</code> èµ„æºäº¤äº’å‰ï¼Œéœ€åˆ‡æ¢å›ä¸»çº¿ç¨‹ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin">viewModelScope.launch {
    <span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span> = fetchData()
    withContext(Dispatchers.Main) {
        Toast.makeText(context, &amp;#<span class="hljs-number">34</span>;Data fetched&amp;#<span class="hljs-number">34</span>;, Toast.LENGTH_SHORT).show()
    }
}
</code></pre>
<p>æ€»ä¹‹ã€‚</p>
<p>è¦æœ‰æ•ˆä½¿ç”¨ <code>Context</code>ï¼Œéœ€è°¨æ…è€ƒé‡ï¼Œè§„é¿å¸¸è§é™·é˜±ã€‚ä¸åº”åœ¨ <code>Activity</code> æˆ– <code>Fragment</code> çš„ç”Ÿå‘½å‘¨æœŸç»“æŸåä»ä¿ç•™å…¶ <code>Context</code>ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ã€‚é’ˆå¯¹ç‰¹å®šä»»åŠ¡ï¼ŒåŠ¡å¿…é€‰æ‹©æ­£ç¡®ç±»å‹çš„ <code>Context</code>ï¼Œé¿å…åœ¨åå°çº¿ç¨‹ï¼Œæˆ–å…³è”ç»„ä»¶é”€æ¯åä½¿ç”¨å®ƒã€‚æ­¤å¤–ï¼Œä½¿ç”¨åŒ¿åå†…éƒ¨ç±»å’Œå›è°ƒæ—¶è¦å°å¿ƒï¼Œå®ƒä»¬å¯èƒ½ä¼šä¸ç»æ„é—´æŒæœ‰å¯¹ <code>Context</code> çš„å¼•ç”¨ã€‚æ­£ç¡®ç®¡ç† <code>Context</code> èƒ½ç¡®ä¿é«˜æ•ˆåˆ©ç”¨èµ„æºï¼Œæœ‰åŠ©äºé˜²æ­¢å†…å­˜æ³„æ¼æˆ–åº”ç”¨ç¨‹åºå´©æºƒã€‚</p>
<h3 data-id="heading-9">è¿›é˜¶ï¼šContextWrapper</h3>
<p><code>ContextWrapper</code> æ˜¯ Android ä¸­çš„ä¸€ä¸ªåŸºç±»ï¼Œå®ƒå…·å¤‡åŒ…è£… <code>Context</code> å¯¹è±¡çš„èƒ½åŠ›ï¼Œå°†è°ƒç”¨å§”æ‰˜ç»™è¢«åŒ…è£…çš„ <code>Context</code>ã€‚å®ƒå……å½“ä¸­é—´å±‚ï¼Œç”¨äºä¿®æ”¹æˆ–æ‰©å±•åŸå§‹ <code>Context</code> çš„è¡Œä¸ºã€‚é€šè¿‡ä½¿ç”¨ <code>ContextWrapper</code>ï¼Œä½ å¯ä»¥åœ¨ä¸æ”¹å˜åº•å±‚ <code>Context</code> çš„æƒ…å†µä¸‹å®šåˆ¶åŠŸèƒ½ã€‚</p>
<p>å½“ä½ éœ€è¦å¢å¼ºæˆ–è¦†ç›–ç°æœ‰ <code>Context</code> çš„ç‰¹å®šè¡Œä¸ºæ—¶ï¼Œå°±ä¼šç”¨åˆ° <code>ContextWrapper</code>ã€‚å®ƒå…è®¸ä½ æ‹¦æˆªå¯¹åŸå§‹ <code>Context</code> çš„è°ƒç”¨ï¼Œå¹¶æä¾›é¢å¤–åŠŸèƒ½æˆ–å®šåˆ¶åŒ–è¡Œä¸ºã€‚</p>
<p>ä»¥ <code>Activity</code> çš„ç»§æ‰¿å…³ç³»ä¸ºä¾‹ï¼š<code>Activity</code> -&gt; <code>ContextThemeWrapper</code> -&gt; <code>ContextWrapper</code>ã€‚</p>
<p>è€Œ <code>ContextWrapper</code> æºç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ContextWrapper</span> <span class="hljs-title">extends</span> <span class="hljs-title">Context</span> {
    <span class="hljs-meta">@UnsupportedAppUsage</span>
    Context mBase;
    ...
}
</code></pre>
<p>ä½¿ç”¨åœºæ™¯ï¼š</p>
<ol>
<li><strong>è‡ªå®šä¹‰ <code>Context</code></strong>ï¼šå½“ä½ å‡ºäºç‰¹å®šç›®çš„éœ€è¦åˆ›å»ºè‡ªå®šä¹‰ <code>Context</code> æ—¶ï¼Œä¾‹å¦‚åº”ç”¨ä¸åŒçš„ä¸»é¢˜ï¼Œæˆ–ä»¥ç‰¹å®šæ–¹å¼å¤„ç†èµ„æºã€‚</li>
<li><strong>åŠ¨æ€èµ„æºå¤„ç†</strong>ï¼šåŒ…è£… <code>Context</code> ä»¥åŠ¨æ€æä¾›æˆ–ä¿®æ”¹è¯¸å¦‚å­—ç¬¦ä¸²ã€å°ºå¯¸æˆ–æ ·å¼ç­‰èµ„æºã€‚</li>
<li><strong>ä¾èµ–æ³¨å…¥</strong>ï¼šåƒ <strong>Dagger</strong> å’Œ <strong>Hilt</strong> è¿™æ ·çš„åº“ä¼šåˆ›å»º <code>ContextWrapper</code>ï¼Œä»¥ä¾¿å°†è‡ªå®šä¹‰ <code>Context</code> é™„åŠ åˆ°ç»„ä»¶ä¸Šè¿›è¡Œä¾èµ–æ³¨å…¥ã€‚</li>
</ol>
<p>ä¸‹é¢çš„ä»£ç å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ <code>ContextWrapper</code> æ¥åº”ç”¨è‡ªå®šä¹‰ä¸»é¢˜ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomThemeContextWrapper</span>(base: Context) : ContextWrapper(base) {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getTheme</span><span class="hljs-params">()</span></span>: Resources.Theme {
        <span class="hljs-keyword">val</span> theme = <span class="hljs-keyword">super</span>.getTheme()
        theme.applyStyle(R.style.CustomTheme, <span class="hljs-literal">true</span>) <span class="hljs-comment">// Apply a custom theme</span>
        <span class="hljs-keyword">return</span> theme
    }
}
</code></pre>
<p>ä½ å¯ä»¥åœ¨ <code>Activity</code> ä¸­ä½¿ç”¨è¿™ä¸ªè‡ªå®šä¹‰åŒ…è£…å™¨ï¼š</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">attachBaseContext</span><span class="hljs-params">(newBase: <span class="hljs-type">Context</span>)</span></span> {
        <span class="hljs-keyword">super</span>.attachBaseContext(CustomThemeContextWrapper(newBase))
    }
}
</code></pre>
<p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ<code>CustomThemeContextWrapper</code> ä¸º <code>Activity</code> åº”ç”¨äº†ç‰¹å®šä¸»é¢˜ï¼Œè¦†ç›–äº†åŸºç¡€ä¸Šä¸‹æ–‡çš„é»˜è®¤è¡Œä¸ºã€‚</p>
<p>è¿™æ ·åšæœ‰å¾ˆå¤šå¥½å¤„ï¼š</p>
<ul>
<li><strong>å¯å¤ç”¨æ€§</strong>ï¼šä½ èƒ½å°†è‡ªå®šä¹‰é€»è¾‘å°è£…åœ¨åŒ…è£…å™¨ç±»ä¸­ï¼Œå¹¶åœ¨å¤šä¸ªç»„ä»¶é—´å¤ç”¨ã€‚</li>
<li><strong>å°è£…æ€§</strong>ï¼šå¢å¼ºæˆ–ä¿®æ”¹è¡Œä¸ºçš„åŒæ—¶ï¼Œæ— éœ€æ›´æ”¹åŸå§‹ <code>Context</code> çš„å®ç°ã€‚</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šä¸ç°æœ‰ <code>Context</code> å¯¹è±¡æ— ç¼åä½œï¼Œä¿æŒå‘åå…¼å®¹æ€§ã€‚</li>
</ul>
<p>æ€»ä¹‹ã€‚</p>
<p><code>ContextWrapper</code> æ˜¯ Android ä¸­ç”¨äºå®šåˆ¶ <code>Context</code> è¡Œä¸ºçš„çµæ´»ä¸”å¯å¤ç”¨çš„å·¥å…·ã€‚å®ƒä½¿å¼€å‘è€…èƒ½å¤Ÿæ‹¦æˆªå¹¶ä¿®æ”¹å¯¹åŸå§‹ <code>Context</code> çš„è°ƒç”¨ï¼Œè€Œæ— éœ€ç›´æ¥æ›´æ”¹å®ƒï¼Œè¿™ä½¿å…¶æˆä¸ºæ„å»ºæ¨¡å—åŒ–ä¸”é€‚åº”æ€§å¼ºçš„åº”ç”¨ç¨‹åºå¿…ä¸å¯å°‘çš„ç±»ã€‚</p>
<h3 data-id="heading-10">è¿›é˜¶ï¼šActivity ä¸­çš„ baseContext æ˜¯ä»€ä¹ˆ</h3>
<p>åœ¨ <code>Activity</code> ä¸­ï¼Œ<code>this</code> å’Œ <code>baseContext</code> éƒ½èƒ½ç”¨äºè®¿é—® <code>Context</code>ï¼Œä½†å®ƒä»¬ç”¨é€”ä¸åŒï¼Œä»£è¡¨ç€ Android ä¸Šä¸‹æ–‡å±‚çº§ç»“æ„ä¸­çš„ä¸åŒå±‚æ¬¡ã€‚æ¸…æ¥šä½•æ—¶ä½¿ç”¨å®ƒä»¬ï¼Œå¯¹é¿å…ä»£ç æ··æ·†æˆ–æ½œåœ¨é—®é¢˜è‡³å…³é‡è¦ã€‚</p>
<p>åœ¨ <code>Activity</code> ä¸­ï¼Œå…³é”®å­— <code>this</code> æŒ‡çš„æ˜¯ <code>Activity</code> ç±»çš„å½“å‰å®ä¾‹ã€‚ç”±äº <code>Activity</code> æ˜¯ <code>ContextWrapper</code> çš„å­ç±»ï¼ˆå› è€Œé—´æ¥æ˜¯ <code>Context</code> çš„å­ç±»ï¼‰ï¼Œ<code>this</code> æä¾›äº†å¯¹ <code>Activity</code> ç‰¹å®šä¸Šä¸‹æ–‡çš„è®¿é—®ï¼ŒåŒ…æ‹¬è¯¸å¦‚ç”Ÿå‘½å‘¨æœŸç®¡ç†ä»¥åŠä¸ç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰äº¤äº’ç­‰é¢å¤–åŠŸèƒ½ã€‚</p>
<p>å½“åœ¨ <code>Activity</code> ä¸­ä½¿ç”¨ <code>this</code> æ—¶ï¼Œå®ƒé€šå¸¸æŒ‡å‘ <code>Activity</code> çš„å½“å‰ä¸Šä¸‹æ–‡ï¼Œå…è®¸ä½ è°ƒç”¨ç‰¹å®šäºè¯¥ <code>Activity</code> çš„æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ éœ€è¦å¯åŠ¨å¦ä¸€ä¸ª <code>Activity</code> æˆ–æ˜¾ç¤ºä¸è¿™ä¸ªç‰¹å®š <code>Activity</code> ç›¸å…³è”çš„å¯¹è¯æ¡†ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>this</code>ã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-keyword">val</span> intent = Intent(<span class="hljs-keyword">this</span>, AnotherActivity::<span class="hljs-keyword">class</span>.java)
startActivity(intent)

<span class="hljs-keyword">val</span> dialog = AlertDialog.Builder(<span class="hljs-keyword">this</span>)
    .setTitle(&amp;#<span class="hljs-number">34</span>;Example&amp;#<span class="hljs-number">34</span>;)
    .setMessage(&amp;#<span class="hljs-number">34</span>;This dialog <span class="hljs-keyword">is</span> tied to <span class="hljs-keyword">this</span> Activity instance.&amp;#<span class="hljs-number">34</span>;)
    .show()
</code></pre>
<p><code>baseContext</code> ä»£è¡¨ <code>Activity</code> æ‰€åŸºäºçš„åŸºç¡€ä¸Šä¸‹æ–‡ã€‚å®ƒæ˜¯ <code>ContextWrapper</code> ç±»çš„ä¸€éƒ¨åˆ†ï¼Œè€Œ <code>Activity</code> ç»§æ‰¿è‡ª <code>ContextWrapper</code>ã€‚<code>baseContext</code> é€šå¸¸æ˜¯ <code>ContextImpl</code> å®ä¾‹ï¼Œä¸º <code>Context</code> æ–¹æ³•æä¾›æ ¸å¿ƒå®ç°ã€‚</p>
<p><code>baseContext</code> ä¸€èˆ¬é€šè¿‡ <code>getBaseContext()</code> æ–¹æ³•æ¥è®¿é—®ã€‚ä½ å¾ˆå°‘ç›´æ¥ä½¿ç”¨å®ƒï¼Œä½†åœ¨å¤„ç†è‡ªå®šä¹‰ <code>ContextWrapper</code> å®ç°ï¼Œæˆ–è€…éœ€è¦å¼•ç”¨è¢«åŒ…è£…ä¸Šä¸‹æ–‡èƒŒåçš„åŸå§‹ä¸Šä¸‹æ–‡æ—¶ï¼Œå®ƒå°±ä¼šæ´¾ä¸Šç”¨åœºã€‚</p>
<pre><code class="hljs language-Kotlin" lang="Kotlin"><span class="hljs-comment">// å’Œç›´æ¥é€šè¿‡ this è¿”å›çš„ç›¸æ¯”ï¼Œæ­¤å¤„çš„ baseContext ä¸æºå¸¦å½“å‰ Activity çš„ä¸»é¢˜ä¿¡æ¯</span>
<span class="hljs-keyword">val</span> systemService = baseContext.getSystemService(Context.LAYOUT_INFLATER_SERVICE)
</code></pre>
<p>æ€»ç»“ä¸€ä¸‹ä»–ä»¬ä¹‹é—´çš„åŒºåˆ«ï¼š</p>
<ol>
<li><strong>ä½œç”¨åŸŸ</strong>ï¼š<code>this</code> ä»£è¡¨å½“å‰çš„ <code>Activity</code> å®ä¾‹åŠå…¶ç”Ÿå‘½å‘¨æœŸï¼Œè€Œ <code>baseContext</code> æŒ‡çš„æ˜¯ <code>Activity</code> æ„å»ºæ‰€åŸºäºçš„æ›´ä½å±‚æ¬¡çš„ä¸Šä¸‹æ–‡ã€‚</li>
<li><strong>ç”¨æ³•</strong>ï¼š<code>this</code> é€šå¸¸ç”¨äºä¸ <code>Activity</code> ç”Ÿå‘½å‘¨æœŸæˆ–ç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰ç›¸å…³çš„æ“ä½œï¼Œä¾‹å¦‚å¯åŠ¨ <code>Activity</code> æˆ–æ˜¾ç¤ºå¯¹è¯æ¡†ã€‚<code>baseContext</code> ä¸€èˆ¬åœ¨ä¸ <code>Context</code> çš„æ ¸å¿ƒå®ç°è¿›è¡Œäº¤äº’æ—¶ä½¿ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨è‡ªå®šä¹‰ <code>ContextWrapper</code> çš„åœºæ™¯ä¸­ã€‚</li>
<li><strong>å±‚çº§å…³ç³»</strong>ï¼š<code>baseContext</code> æ˜¯ <code>Activity</code> çš„åŸºç¡€ä¸Šä¸‹æ–‡ã€‚è®¿é—® <code>baseContext</code> ä¼šç»•è¿‡ <code>Activity</code> ä½œä¸º <code>ContextWrapper</code> æ‰€æä¾›çš„é¢å¤–åŠŸèƒ½ã€‚</li>
</ol>
<p>æ€»ä¹‹ã€‚</p>
<p>åœ¨ <code>Activity</code> ä¸­ï¼Œ<code>this</code> æŒ‡å‘å½“å‰çš„ <code>Activity</code> å®ä¾‹ï¼Œæä¾›äº†å…·æœ‰ç”Ÿå‘½å‘¨æœŸå’Œç‰¹å®šäºç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰åŠŸèƒ½çš„é«˜çº§ä¸Šä¸‹æ–‡ã€‚è€Œ <code>baseContext</code> ä»£è¡¨ <code>Activity</code> æ‰€åŸºäºçš„åŸºç¡€ä¸Šä¸‹æ–‡ï¼Œå¸¸ç”¨äºè¯¸å¦‚è‡ªå®šä¹‰ <code>ContextWrapper</code> å®ç°ç­‰é«˜çº§åœºæ™¯ã€‚è™½ç„¶åœ¨ Android å¼€å‘ä¸­ <code>this</code> ä½¿ç”¨æœ€ä¸ºæ™®éï¼Œä½†ç†è§£ <code>baseContext</code> æœ‰åŠ©äºè°ƒè¯•ä»¥åŠåˆ›å»ºæ¨¡å—åŒ–ã€å¯å¤ç”¨çš„ç»„ä»¶ã€‚</p>
<h2 data-id="heading-11">ç•ªå¤–</h2>
<p>æœ¬æ–‡è®²è¿°çš„æŠ€æœ¯ç»†èŠ‚å®Œå…¨æ˜¯åŸºäºé¢è¯•ä¸‹çš„ï¼Œå¦‚æœä½ æƒ³å¯¹ <code>Context</code> æœ‰ä¸ªæ›´åŠ å®Œæ•´çš„è®¤è¯†ï¼Œè¯·çœ‹ä¸‹é¢ä¸¤ç¯‡æ–‡ç« ï¼š</p>
<p><a href="https://juejin.cn/post/7531888045412663348" target="_blank" title="https://juejin.cn/post/7531888045412663348">æ†‹äº†ä¸€å‘¨äº†ï¼Œ12000å­—æ·±å…¥æµ…å‡ºAndroidçš„Contextæœºåˆ¶</a></p>
<p><a href="https://juejin.cn/post/7527953491890274319" target="_blank" title="https://juejin.cn/post/7527953491890274319">2025å¹´äº†ï¼Œä¸‡å­—é•¿æ–‡å¸¦ä½ äº†è§£Context</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3å’ŒVue2çš„æ ¸å¿ƒåŒºåˆ«ï¼Ÿå¾ˆå¤šå¼€å‘è€…éƒ½æ²¡å®Œå…¨ææ‡‚çš„10ä¸ªç»†èŠ‚]]></title>    <link>https://juejin.cn/post/7582136489770319882</link>    <guid>https://juejin.cn/post/7582136489770319882</guid>    <pubDate>2025-12-11T03:08:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582136489770319882" data-draft-id="7574734686493753380" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3å’ŒVue2çš„æ ¸å¿ƒåŒºåˆ«ï¼Ÿå¾ˆå¤šå¼€å‘è€…éƒ½æ²¡å®Œå…¨ææ‡‚çš„10ä¸ªç»†èŠ‚"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-12-11T03:08:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ˜å¤§å"/> <meta itemprop="url" content="https://juejin.cn/user/3507878440995946"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3å’ŒVue2çš„æ ¸å¿ƒåŒºåˆ«ï¼Ÿå¾ˆå¤šå¼€å‘è€…éƒ½æ²¡å®Œå…¨ææ‡‚çš„10ä¸ªç»†èŠ‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3507878440995946/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ˜å¤§å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:08:07.000Z" title="Thu Dec 11 2025 03:08:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å¤§åï¼è¿™ç¯‡æˆ‘ä»¬æ¥è®²è§£Vue2å’ŒVue3çš„æ ¸å¿ƒåŒºåˆ«åœ¨å“ªé‡Œï¼Ÿ</p>
<p>Vue3æ˜¯Vue2çš„å‡çº§ç‰ˆï¼Œä¸ä»…æ›´å¿«ï¼Œè¿˜æ›´å¥½ç”¨ã€‚å®ƒè§£å†³äº†Vue2ä¸­ä¸€äº›è®©äººå¤´ç–¼çš„é—®é¢˜ï¼Œæ¯”å¦‚åŠ¨æ€æ·»åŠ å±æ€§ä¸å“åº”ã€ç»„ä»¶å¿…é¡»åŒ…åœ¨ä¸€ä¸ªæ ¹å…ƒç´ é‡Œç­‰ç­‰ã€‚</p>
<p>ä¸‹é¢é€šè¿‡10ä¸ªå¸¸è§çš„å¯¹æ¯”ä¾‹å­ï¼Œè®©ä½ å¿«é€Ÿçœ‹æ‡‚Vue3åˆ°åº•æ–°åœ¨å“ªå„¿ã€å¥½åœ¨å“ªå„¿ã€‚</p>
<h3 data-id="heading-0">1. <strong>å“åº”å¼ç³»ç»Ÿï¼š<code>Object.defineProperty</code> vs <code>Proxy</code></strong></h3>
<p>Vue 2 æ— æ³•ç›‘å¬åŠ¨æ€æ·»åŠ çš„å±æ€§ï¼ˆé™¤éç”¨ <code>Vue.set</code>ï¼‰ï¼›Vue 3 å¯ä»¥ç›´æ¥å“åº”ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Vue 2 ä¸ä¼šè§¦å‘æ›´æ–°</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">obj</span>.<span class="hljs-property">newProp</span> = <span class="hljs-string">'hello'</span>

<span class="hljs-comment">// Vue 2 æ­£ç¡®æ–¹å¼</span>
<span class="hljs-variable language_">this</span>.$set(<span class="hljs-variable language_">this</span>.<span class="hljs-property">obj</span>, <span class="hljs-string">'newProp'</span>, <span class="hljs-string">'hello'</span>)

<span class="hljs-comment">// Vue 3 ç›´æ¥èµ‹å€¼å³å¯å“åº”</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">obj</span>.<span class="hljs-property">newProp</span> = <span class="hljs-string">'hello'</span>
</code></pre>
<hr/>
<h3 data-id="heading-1">2. <strong>Composition APIï¼ˆç»„åˆå¼ APIï¼‰</strong></h3>
<pre><code class="hljs language-html" lang="html">

export default {
  data() {
    return { count: 0 }
  },
  methods: {
    increment() {
      this.count++
    }
  }
}




import { ref } from 'vue'

const count = ref(0)
const increment = () =&gt; count.value++

</code></pre>
<hr/>
<h3 data-id="heading-2">3. <strong>TypeScript æ”¯æŒ</strong></h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// Vue 3 + TypeScriptï¼ˆèƒ½æ›´å¥½çš„æ”¯æŒï¼‰</span>

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Props</span> {
  <span class="hljs-attr">msg</span>: <span class="hljs-built_in">string</span>
}
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>()

</code></pre>
<p>Vue 2 è™½å¯é€šè¿‡ <code>vue-class-component</code> æˆ– <code>vue-property-decorator</code> æ”¯æŒ TSï¼Œä½†é…ç½®å¤æ‚ä¸”ç±»å‹æ¨å¯¼å¼±ã€‚</p>
<hr/>
<h3 data-id="heading-3">4. <strong>Fragmentï¼ˆå¤šæ ¹èŠ‚ç‚¹ï¼‰</strong></h3>
<pre><code class="hljs language-html" lang="html">

  <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>Header<span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>Main<span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>




  <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>Header<span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>Main<span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>

</code></pre>
<hr/>
<h3 data-id="heading-4">5. <strong>Teleportï¼ˆä¼ é€é—¨ï¼‰</strong></h3>
<p>å°† modal æ¸²æŸ“åˆ° body ä¸‹ï¼Œé¿å…æ ·å¼åµŒå¥—é—®é¢˜</p>
<pre><code class="hljs language-html" lang="html">
  Open Modal
  
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Hello from Teleport!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      Close
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  



import { ref } from 'vue'
const open = ref(false)

</code></pre>
<p>Vue 2 éœ€æ‰‹åŠ¨æ“ä½œ DOM æˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ <code>portal-vue</code>ï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-5">6. <strong>Suspenseï¼ˆå¼‚æ­¥ç»„ä»¶åŠ è½½ï¼‰</strong></h3>
<pre><code class="hljs language-html" lang="html">


const res = await fetch('/api/data')
const data = await res.json()



  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ data }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

</code></pre>
<pre><code class="hljs language-html" lang="html">

  
    
      
    
    
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
  

</code></pre>
<p>Vue 2 æ— åŸç”Ÿ ``ï¼Œéœ€è‡ªè¡Œç®¡ç† loading çŠ¶æ€ã€‚</p>
<hr/>
<h3 data-id="heading-6">7. <strong>å…¨å±€ API å˜æ›´</strong></h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Vue 2</span>
<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">'MyButton'</span>, <span class="hljs-title class_">MyButton</span>)
<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">'focus'</span>, focusDirective)

<span class="hljs-comment">// Vue 3</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)
app.<span class="hljs-title function_">component</span>(<span class="hljs-string">'MyButton'</span>, <span class="hljs-title class_">MyButton</span>)
app.<span class="hljs-title function_">directive</span>(<span class="hljs-string">'focus'</span>, focusDirective)
app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<p>Vue 3 çš„åº”ç”¨å®ä¾‹å½¼æ­¤éš”ç¦»ï¼Œé€‚åˆå¾®å‰ç«¯æˆ–å¤šå®ä¾‹åœºæ™¯ã€‚</p>
<hr/>
<h3 data-id="heading-7">8. <strong>ç”Ÿå‘½å‘¨æœŸé’©å­å‘½åå˜åŒ–</strong></h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// Vue 2</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">beforeDestroy</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* cleanup */</span> },
  <span class="hljs-title function_">destroyed</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* final */</span> }
}

<span class="hljs-comment">// Vue 3ï¼ˆOptions API å†™æ³•ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">beforeUnmount</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* cleanup */</span> },
  <span class="hljs-title function_">unmounted</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* final */</span> }
}

<span class="hljs-comment">// Vue 3ï¼ˆComposition APIï¼‰</span>
<span class="hljs-keyword">import</span> { onBeforeUnmount, onUnmounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-title function_">onBeforeUnmount</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">/* cleanup */</span> })
<span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">/* final */</span> })
</code></pre>
<hr/>
<h3 data-id="heading-8">9. <strong>v-model å¤šç»‘å®š</strong></h3>
<pre><code class="hljs language-html" lang="html">









</code></pre>
<hr/>
<h3 data-id="heading-9">10. <strong>æ˜¾å¼å£°æ˜ emitsï¼ˆæ¨èï¼‰</strong></h3>
<pre><code class="hljs language-js" lang="js">

<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'submit'</span>, <span class="hljs-string">'cancel'</span>])

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-title function_">emit</span>(<span class="hljs-string">'submit'</span>)




<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>({
  <span class="hljs-attr">submit</span>: <span class="hljs-function">(<span class="hljs-params">payload</span>) =&gt;</span> <span class="hljs-keyword">typeof</span> payload === <span class="hljs-string">'string'</span>,
  <span class="hljs-attr">cancel</span>: <span class="hljs-literal">null</span>
})

</code></pre>
<p>Vue 2 ä¸­ <code>$emit</code> æ— éœ€å£°æ˜ï¼Œä½†ä¸åˆ©äºå·¥å…·é“¾å’Œæ–‡æ¡£ç”Ÿæˆã€‚</p>
<hr/>
<p>è¿™äº›ç¤ºä¾‹è¦†ç›–äº† Vue2 å’Œ Vue3 æ¯”è¾ƒå…³é”®çš„å·®å¼‚ç‚¹ã€‚é€šè¿‡ä»£ç å¯¹æ¯”ï¼Œå¯ä»¥æ›´æ¸…æ¥šåœ°çœ‹åˆ° Vue3 åœ¨<strong>å¼€å‘ä½“éªŒã€æ€§èƒ½ã€çµæ´»æ€§å’Œå·¥ç¨‹åŒ–</strong>æ–¹é¢æœ‰æ˜ç»†çš„æå‡ã€‚</p>
<h3 data-id="heading-10">ç»“å°¾</h3>
<p>æ€»çš„æ¥è¯´ï¼ŒVue3 åœ¨ä¿æŒç®€å•ä¸Šæ‰‹çš„åŒæ—¶ï¼Œå¢åŠ äº†æ›´å¤šå®ç”¨åˆå¼ºå¤§çš„åŠŸèƒ½ã€‚ä¸ç®¡æ˜¯å†™ä»£ç æ›´è½»æ¾äº†ï¼Œè¿˜æ˜¯å¯¹ TypeScriptã€å¤§å‹é¡¹ç›®çš„æ”¯æŒæ›´å¥½äº†ï¼Œéƒ½è®©å¼€å‘è€…çš„å·¥ä½œå˜å¾—æ›´é«˜æ•ˆã€‚</p>
<blockquote>
<p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç¨‹åºå‘˜åˆ˜å¤§åï¼Œä¸“æ³¨åˆ†äº«å‰åç«¯å¼€å‘çš„å®æˆ˜ç¬”è®°ã€‚å…³æ³¨æˆ‘ï¼Œå°‘èµ°å¼¯è·¯ï¼Œä¸€èµ·è¿›æ­¥ï¼</p>
</blockquote>
<h4 data-id="heading-11">ğŸ“Œå¾€æœŸç²¾å½©</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F6V83qjR6u0nyfzL-14xYAw" target="_blank" title="https://mp.weixin.qq.com/s/6V83qjR6u0nyfzL-14xYAw" ref="nofollow noopener noreferrer">ã€Šasync/await åˆ°åº•è¦ä¸è¦åŠ  try-catchï¼Ÿå¼‚æ­¥é”™è¯¯å¤„ç†æœ€ä½³å®è·µã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FbgLoyqb3VLgn3xXAok3kcQ" target="_blank" title="https://mp.weixin.qq.com/s/bgLoyqb3VLgn3xXAok3kcQ" ref="nofollow noopener noreferrer">ã€Šå¦‚ä½•æŸ¥çœ‹ SpringBoot å½“å‰çº¿ç¨‹æ•°ï¼Ÿ3 ç§æ–¹æ³•äº²æµ‹æœ‰æ•ˆã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fp0n2mN5RDDDaIWuHHVRUZQ" target="_blank" title="https://mp.weixin.qq.com/s/p0n2mN5RDDDaIWuHHVRUZQ" ref="nofollow noopener noreferrer">ã€ŠJava å¼€å‘å¿…çœ‹ï¼šä»€ä¹ˆæ—¶å€™ç”¨ forï¼Œä»€ä¹ˆæ—¶å€™ç”¨ Streamï¼Ÿã€‹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FqI3TRTdDfRJSH9kCTqAQUw" target="_blank" title="https://mp.weixin.qq.com/s/qI3TRTdDfRJSH9kCTqAQUw" ref="nofollow noopener noreferrer">ã€Šè¿™ 10 ä¸ª MySQL é«˜çº§ç”¨æ³•ï¼Œè®©ä½ çš„ä»£ç åˆå¿«åˆå¥½çœ‹ã€‹</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»0åˆ°1æ­å»ºä¸€ä¸ªæ™ºèƒ½åˆ†æOBSåŸ‹ç‚¹æ•°æ®çš„AI Agentï½œå¾—ç‰©æŠ€æœ¯]]></title>    <link>https://juejin.cn/post/7582118538562420755</link>    <guid>https://juejin.cn/post/7582118538562420755</guid>    <pubDate>2025-12-11T03:42:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582118538562420755" data-draft-id="7582156219059159103" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»0åˆ°1æ­å»ºä¸€ä¸ªæ™ºèƒ½åˆ†æOBSåŸ‹ç‚¹æ•°æ®çš„AI Agentï½œå¾—ç‰©æŠ€æœ¯"/> <meta itemprop="keywords" content="Agent,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T03:42:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾—ç‰©æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2392954206960247"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»0åˆ°1æ­å»ºä¸€ä¸ªæ™ºèƒ½åˆ†æOBSåŸ‹ç‚¹æ•°æ®çš„AI Agentï½œå¾—ç‰©æŠ€æœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2392954206960247/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾—ç‰©æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:42:54.000Z" title="Thu Dec 11 2025 03:42:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯</h2>
<p>æŸå¤©æ‰“å¼€ç»„å†…çš„Grafanaä»ªè¡¨ç›˜ï¼Œçªç„¶å¥½å¥‡æˆ‘ä»¬çš„åŸ‹ç‚¹ä»è¢«è§¦å‘åæ˜¯å¦‚ä½•ä¸€æ­¥ä¸€æ­¥å˜æˆæ‰€å±•ç¤ºçš„å„ç§å›¾è¡¨çš„ï¼Œäºæ˜¯åœ¨æˆ‘è¿›è¡Œä¸€ç³»åˆ—çš„æ¢ç´¢ä¹‹åï¼Œæ€»ç»“å‡ºäº†ä»¥ä¸‹é“¾è·¯ï¼š</p>
<ul>
<li>åœ¨æŒ‡æ ‡å·¥å‚æ–°å»ºæŒ‡æ ‡ï¼Œç¡®å®šåŸ‹ç‚¹keyå’ŒåŸ‹ç‚¹å…ƒæ•°æ®ã€‚</li>
<li>ä»£ç ä¸­æŒ‡å®šåŸ‹ç‚¹keyå’ŒåŸ‹ç‚¹æ•°æ®ï¼Œé€šè¿‡watchDogå‘é€kafkaæ¶ˆæ¯åˆ°obs monitor topicã€‚</li>
<li>ä¸ºåŸ‹ç‚¹æŒ‡æ ‡æ–°å»ºæ•°æ®å¤„ç†ä»»åŠ¡ï¼Œå°†æ¶ˆè´¹åˆ°çš„kafkaæ¶ˆæ¯è½åˆ°æŒ‡å®šçš„æ•°æ®è¡¨ä¸­ã€‚</li>
<li>æ·»åŠ æ–°çš„ä»ªè¡¨ç›˜ï¼Œç¼–å†™å±•ç¤ºæ•°æ®èƒŒåçš„SQLè¯­å¥ã€‚</li>
</ul>
<p><strong>ç—›ç‚¹</strong>ï¼šæ¯éœ€è¦æ·»åŠ ä¸€ä¸ªæ–°çš„æ•°æ®åˆ†æå¤§ç›˜ï¼Œå°±éœ€è¦äººå·¥å»åˆ†æå„ä¸ªè¡¨ç»“æ„ã€è¡¨ä¸è¡¨ä¹‹é—´çš„è”ç³»ã€è¡¨å„ä¸ªå­—æ®µçš„å«ä¹‰ç­‰ï¼Œåœ¨å……åˆ†ç†è§£å…¶å«ä¹‰åå†è´¹æ—¶è´¹åŠ›åœ°ç¼–å†™SQLè¯­å¥ï¼Œå¹¶ä¸æ–­è°ƒä¼˜ã€‚è¿™å¯¼è‡´OBSåŸ‹ç‚¹æ•°æ®åˆ†æçš„åœºæ™¯ç›¸å¯¹å›ºåŒ–ï¼Œå¹¶ä¸”éš¾ä»¥æ”¯æŒçµæ´»çš„æ•°æ®æŸ¥è¯¢è¦æ±‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8992e17b371443bcbbfdfd2cbeea70a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=9EEvzjkVRvjsOsjQRFtTfRI3OUU%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h2 data-id="heading-1">äºŒã€æ€è€ƒ</h2>
<p>åœ¨åˆ†æäº†å½“å‰ç³»ç»Ÿçš„ç—›ç‚¹åï¼Œæˆ‘æ„è¯†åˆ°è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å¯ä»¥åˆ©ç”¨AIèƒ½åŠ›æ¥å¯¹ç°æœ‰åŠŸèƒ½è¿›è¡Œæ‰©å±•çš„åœºæ™¯ã€‚å› ä¸ºï¼š</p>
<ul>
<li>åœºæ™¯å¤šå˜ï¼Œå› ä¸ºä½ ä¸çŸ¥é“ç”¨æˆ·å¯èƒ½æƒ³æŸ¥çœ‹ä»€ä¹ˆæ ·çš„æ•°æ®ï¼Œæ— æ³•é€šè¿‡ä»£ç ç©·ä¸¾ï¼›</li>
<li>éœ€è¦äº†è§£ä¸šåŠ¡åŒæ—¶åˆå…·å¤‡ç¼–å†™å¤æ‚æ•°æ®æŸ¥è¯¢SQLçš„äººï¼Œå¹¶ä¸”è´¹æ—¶è´¹åŠ›ï¼›</li>
<li>çœ‹åˆ°å¤§ç›˜æ•°æ®åï¼Œä¾èµ–æ¯ä¸ªäººå¯¹ä¸šåŠ¡çš„ç†è§£æç‚¼å‡ºä¸€å¥—åˆ†ææŠ¥å‘Šï¼ŒæŠ¥å‘Šè´¨é‡ä¸ä¸ªäººçš„ç†è§£ä¸è¡¨è¾¾èƒ½åŠ›ç›¸å…³ã€‚</li>
</ul>
<p>äºæ˜¯æˆ‘å°±å¼€å§‹æ€è€ƒèƒ½å¦æ„å»ºä¸€ä¸ªAI Agentï¼Œä½¿å…¶èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„è¦æ±‚ï¼Œè‡ªä¸»åœ°ç”Ÿæˆå„ç§å„æ ·çš„SQLæŸ¥è¯¢è¯­å¥ï¼Œå¹¶å°†æŸ¥è¯¢åˆ°çš„æ•°æ®å½¢æˆå®Œæ•´çš„æ•°æ®åˆ†ææŠ¥å‘Šè¿”å›ç»™ç”¨æˆ·ã€‚</p>
<p>ä¸ºäº†å®ç°è¿™ä¸ªæ–¹æ¡ˆï¼Œæœ‰å‡ ä¸ªæ˜æ˜¾éœ€è¦è§£å†³çš„ç‚¹ï¼š</p>
<ul>
<li>å¦‚ä½•è®©AIç†è§£æ¯ä¸ªè¡¨ä¸­å„å­—æ®µçš„å«ä¹‰ã€å„ä¸ªè¡¨çš„ä½œç”¨ã€è¡¨ä¸è¡¨ä¹‹é—´çš„è”ç³»ï¼Œä»è€Œç”Ÿæˆå‡†ç¡®çš„SQLï¼Ÿ</li>
<li>AIç”Ÿæˆå®ŒSQLä¹‹åï¼Œå¦‚ä½•æ‰“é€š AI ä¸æ•°æ®å¹³å°ä¹‹é—´çš„é€šè·¯ï¼Œä»è€ŒæˆåŠŸæ‰§è¡Œè¯¥SQL å¹¶æ‹¿åˆ°æ•°æ®ï¼Ÿå› ä¸ºæ•°æ®åº“æƒé™ä¸åœ¨æˆ‘è¿™ï¼Œæˆ‘æ— æ³•ç›´æ¥è¿æ¥åˆ°æ•°æ®åº“ã€‚</li>
<li>å¦‚ä½•å……åˆ†åˆ©ç”¨å·²æœ‰èµ„æºï¼Œå‡å°‘äººåŠ›æŠ•å…¥ï¼Ÿæ¯•ç«Ÿæ˜¯ä¸ªäººæƒ³æ³•ï¼Œåœ¨ä¸ç¡®å®šæ•ˆæœå¦‚ä½•çš„æƒ…å†µä¸‹ï¼Œä¸å¥½ç›´æ¥æ‰“æ‰°å¹³å°æ–¹ä¸“é—¨ä¸ºæˆ‘å†™ä¸€äº›æ–°åŠŸèƒ½ï¼ŒåŒæ—¶æˆ‘ä¸ªäººä¹Ÿåªèƒ½æŠ•å…¥ä¸€äº›é›¶ç¢çš„æ—¶é—´æ¥åšè¿™ä»¶äº‹ã€‚</li>
</ul>
<h2 data-id="heading-2">ä¸‰ã€æ–¹æ¡ˆ</h2>
<p>æœ‰äº†é—®é¢˜åï¼Œå°±å¸¦ç€é—®é¢˜å»æ‰¾ç­”æ¡ˆã€‚</p>
<h3 data-id="heading-3">3.1æŸ¥è¯¢æ•°æ®Tool</h3>
<p>é¦–å…ˆï¼Œæˆ‘éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿæ‰§è¡ŒæŸ¥è¯¢çš„ç«¯ç‚¹ã€‚é‚£ä¹ˆæˆ‘å°±å»æŠ“å–äº†å¤§ç›˜ä¸­çš„æ•°æ®æ‰€è°ƒç”¨çš„æ¥å£ï¼Œæ„å¤–åœ°å‘ç°ï¼Œä¸åŒçš„æ•°æ®è°ƒç”¨çš„æ˜¯åŒä¸€ä¸ªæ¥å£<a href="https://link.juejin.cn?target=https%3A%2F%2Fxxx.com%2Fapi%2Fds%2Fquery%25EF%25BC%258C%25E5%258F%25AA%25E6%2598%25AF%25E5%2585%25A5%25E5%258F%2582%25E4%25B8%258D%25E5%2590%258C%25E8%2580%258C%25E5%25B7%25B2%25EF%25BC%258C%25E8%2580%258C%25E4%25B8%2594%25E5%258F%2591%25E7%258E%25B0%25EF%25BC%258C%25E6%259F%25A5%25E8%25AF%25A2%25E7%259A%2584%25E9%2580%25BB%25E8%25BE%2591%25E6%2598%25AF%25E9%2580%259A%25E8%25BF%2587rawSql%25E5%25B0%2586%25E6%259F%25A5%25E8%25AF%25A2%25E8%25AF%25AD%25E5%258F%25A5%25E7%259B%25B4%25E6%258E%25A5%25E4%25BC%25A0%25E8%25BF%2587%25E5%258E%25BB%25EF%25BC%2581" target="_blank" title="https://xxx.com/api/ds/query%EF%BC%8C%E5%8F%AA%E6%98%AF%E5%85%A5%E5%8F%82%E4%B8%8D%E5%90%8C%E8%80%8C%E5%B7%B2%EF%BC%8C%E8%80%8C%E4%B8%94%E5%8F%91%E7%8E%B0%EF%BC%8C%E6%9F%A5%E8%AF%A2%E7%9A%84%E9%80%BB%E8%BE%91%E6%98%AF%E9%80%9A%E8%BF%87rawSql%E5%B0%86%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%E7%9B%B4%E6%8E%A5%E4%BC%A0%E8%BF%87%E5%8E%BB%EF%BC%81" ref="nofollow noopener noreferrer">xxx.com/api/ds/querâ€¦</a></p>
<p>äºæ˜¯æˆ‘å°†è¯¥Curlå¯¼å…¥åˆ°ApiFoxä¸­ï¼Œé€šè¿‡ä¸æ–­ä¿®æ”¹å‚æ•°ï¼Œå‘ç°æœ€ç»ˆä¸æŸ¥è¯¢ç»“æœç›¸å…³çš„å…¥å‚å¯ä»¥ç²¾ç®€åˆ°ç®€å•çš„å‡ ä¸ªå‚æ•°ï¼šfromã€toã€query(format,rawSql,intervalMs)</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cc12be2388246ca9538964baf94db3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=KhfK4RC8qSolZVxsvWE6N8vEwC8%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5898e122620b48179a798c20f92c5de1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=P0j64Quhj7Dh1nVIyKTPtYyiEy4%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>é‚£ä¹ˆé’ˆå¯¹ç¬¬ä¸€ä¸ªé—®é¢˜æˆ‘å°±æƒ³åˆ°äº†å¾ˆå¥½çš„åŠæ³•ï¼ŒæŠŠè¿™ä¸ªæŸ¥è¯¢APIå°è£…æˆä¸€ä¸ªToolï¼Œæè¿°æ¸…æ¥šå„ä¸ªå­—æ®µçš„å«ä¹‰ï¼Œå°±å¯ä»¥è®©AIç”Ÿæˆå®Œæ•´çš„å‚æ•°æ¥æŸ¥è¯¢å®ƒæƒ³è¦çš„æ•°æ®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30b659f60d72412d9646ec05e0f6d7e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=CRcNoOSA9lnSyUxio1WzXND75pg%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>è¯´å¹²å°±å¹²ï¼Œæˆ‘ç«‹é©¬æ–°å»ºäº†ä¸€ä¸ªSpring AIå·¥ç¨‹ï¼ŒæŠŠToolçš„åŠŸèƒ½å’Œéœ€è¦çš„å‚æ•°æè¿°æ¸…æ¥šã€‚å…¶ä¸­grafanaService.query()å†…éƒ¨é€»è¾‘å°±æ˜¯é€šè¿‡Feignæ¥è°ƒç”¨ä¸Šé¢é‚£ä¸ªæŸ¥è¯¢çš„APIã€‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Tool</span>(name = <span class="hljs-string">"query_grafana"</span>,
      description= <span class="hljs-string">"ä½¿ç”¨Grafanaä¸­çš„SQLæŸ¥è¯¢grafanaæ•°æ®"</span>)
public JSONObject <span class="hljs-built_in">queryGrafana</span>(<span class="hljs-variable">@ToolParam</span>(description = <span class="hljs-string">"æŸ¥è¯¢å¼€å§‹æ—¶é—´"</span>) String from,
                               <span class="hljs-variable">@ToolParam</span>(description = <span class="hljs-string">"æŸ¥è¯¢ç»“æŸæ—¶é—´"</span>) String to,
                               <span class="hljs-variable">@ToolParam</span>(description = <span class="hljs-string">"æŸ¥è¯¢æ•°æ®ç±»å‹:table|time_series"</span>) String format,
                               <span class="hljs-variable">@ToolParam</span>(description = <span class="hljs-string">"æŸ¥è¯¢æ—¶é—´é—´éš”,å•ä½æ¯«ç§’ã€‚åªæœ‰å½“formatä¸ºtime_seriesæ—¶éœ€è¦ä¼ å…¥ã€‚"</span>) Long intervalMs,
                               <span class="hljs-variable">@ToolParam</span>(description = <span class="hljs-string">"Grafana SQLæŸ¥è¯¢è¯­å¥"</span>) String rawSql){
    <span class="hljs-selector-tag">DateTimeFormatter</span> <span class="hljs-selector-tag">formatter</span> = <span class="hljs-selector-tag">DateTimeFormatter</span><span class="hljs-selector-class">.ofPattern</span>(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>);
    <span class="hljs-selector-tag">LocalDateTime</span> <span class="hljs-selector-tag">fromDateTime</span> = <span class="hljs-selector-tag">LocalDateTime</span><span class="hljs-selector-class">.parse</span>(from, formatter);
    <span class="hljs-selector-tag">LocalDateTime</span> <span class="hljs-selector-tag">toDateTime</span> = <span class="hljs-selector-tag">LocalDateTime</span><span class="hljs-selector-class">.parse</span>(to, formatter);
    <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">fromTimestamp</span> = <span class="hljs-selector-tag">String</span><span class="hljs-selector-class">.valueOf</span>(fromDateTime.<span class="hljs-built_in">toInstant</span>(ZoneOffset.UTC).<span class="hljs-built_in">toEpochMilli</span>());
    <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">toTimestamp</span> = <span class="hljs-selector-tag">String</span><span class="hljs-selector-class">.valueOf</span>(toDateTime.<span class="hljs-built_in">toInstant</span>(ZoneOffset.UTC).<span class="hljs-built_in">toEpochMilli</span>());
    <span class="hljs-selector-tag">JSONObject</span> <span class="hljs-selector-tag">resp</span> = <span class="hljs-selector-tag">grafanaService</span><span class="hljs-selector-class">.query</span>(fromTimestamp, toTimestamp, intervalMs, rawSql, format);
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">resp</span>;
}
</code></pre>

<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Resource</span>
<span class="hljs-keyword">private</span> <span class="hljs-title class_">GrafanaClient</span> grafanaClient;


<span class="hljs-meta">@Value</span>(<span class="hljs-string">"${grafana.cookie}"</span>)
<span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> getGrafanaCookie;


<span class="hljs-keyword">public</span> <span class="hljs-title class_">JSON</span><span class="hljs-built_in">Object</span> <span class="hljs-title function_">query</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> fromTimestamp, <span class="hljs-built_in">String</span> toTimestamp, Long intervalMs, <span class="hljs-built_in">String</span> rawSql, <span class="hljs-built_in">String</span> format</span>) {
    <span class="hljs-title class_">GrafanaRequest</span> request = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GrafanaRequest</span>(fromTimestamp, toTimestamp, intervalMs, rawSql, format);
    <span class="hljs-keyword">return</span> grafanaClient.<span class="hljs-title function_">query</span>(getGrafanaCookie, request);
}
</code></pre>
<h3 data-id="heading-4">3.2è¡¨ç»“æ„RAG</h3>
<p>æœ‰äº†èƒ½å¤Ÿæ‰§è¡ŒæŸ¥è¯¢çš„Toolä¹‹åï¼Œå‰©ä¸‹çš„å°±æ˜¯éœ€è¦AIèƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„queryç”Ÿæˆç²¾å‡†çš„å‚æ•°ä»¥åŠæŸ¥è¯¢SQLã€‚</p>
<p>ä¹‹å‰äº†è§£åˆ°å…¬å¸éƒ¨ç½²äº†RAGFlowæœåŠ¡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fxxx.com%2Fknowledge%25EF%25BC%258C%25E6%2597%25A2%25E7%2584%25B6%25E6%259C%2589%25E4%25BA%2586%25EF%25BC%258C%25E9%2582%25A3%25E5%25B0%25B1%25E5%25BE%2597%25E7%2594%25A8%25E8%25B5%25B7%25E6%259D%25A5%25EF%25BC%2581" target="_blank" title="https://xxx.com/knowledge%EF%BC%8C%E6%97%A2%E7%84%B6%E6%9C%89%E4%BA%86%EF%BC%8C%E9%82%A3%E5%B0%B1%E5%BE%97%E7%94%A8%E8%B5%B7%E6%9D%A5%EF%BC%81" ref="nofollow noopener noreferrer">xxx.com/knowledgeï¼Œæ—¢â€¦</a></p>
<ul>
<li>åˆ›å»ºçŸ¥è¯†é›†ï¼Œå‘ç°æ”¯æŒæ·»åŠ é£ä¹¦æ–‡æ¡£ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e37c8f34f2b4004927830bf4d82f89c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=m8q3s8tokBcDDi050%2FrJs7A%2FKtE%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0468f002576b47569f6071d788a2d7a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=XOW2Otuz7zTyxZzdLRt9RyFDDWY%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li>ç”±äºæˆ‘ä»¬æ˜¯éœ€è¦å®Œæ•´çš„è¡¨ç»“æ„ï¼Œæ‰€ä»¥æŠŠé…ç½®ä¿®æ”¹ä¸ºä½¿ç”¨tableçš„æ ¼å¼ï¼Œä¸€è¡Œæ•°æ®ä¾¿æ˜¯ä¸€ä¸ªchunkï¼Œä»¥å…å‡ºç°è¯­ä¹‰ä¸Šçš„ä¸­æ–­ã€‚ï¼ˆåŸ‹ç‚¹æ•°æ®ä¸€èˆ¬è¡¨éƒ½è¾ƒå°ï¼Œè¯­æ„è¾ƒä¸ºæ˜ç¡®ã€‚åƒä¸€äº›å­—æ®µå¾ˆå¤šçš„å¤§è¡¨å¯èƒ½éœ€è¦è€ƒè™‘æ›´å¥½çš„æ–¹æ¡ˆã€‚ï¼‰</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e84ab93545174f378c3315e861d38d6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=EizxrD7sHUPY34KAPalDLMmTElY%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li>åˆ›å»ºé£ä¹¦æ–‡æ¡£ï¼Œæ‰‹åŠ¨åˆ°OBSçš„åº“ä¸­æŠŠæˆ‘ä»¬æƒ³è¦AIå¸®åŠ©åˆ†æçš„è¡¨ç»“æ„æ‹‰å‡ºæ¥ï¼ˆéªŒè¯æƒ³æ³•æ—¶é‡‡å–çš„ä¸´æ—¶æ–¹æ¡ˆï¼‰ï¼Œä½†ç”±äºå»ºè¡¨æ—¶çš„ä¸è§„èŒƒï¼Œå¾ˆå¤šè¡¨æ²¡æœ‰å¯¹è¡¨ä¸­å­—æ®µæ·»åŠ commentï¼Œè¿™ä¼šå¯¼è‡´AIä¸ç†è§£æ¯ä¸ªå­—æ®µçš„å«ä¹‰ï¼Œä¹Ÿå°±æ— æ³•å‡†ç¡®åœ°ç”ŸæˆSQLã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ‰‹åŠ¨è¡¥å……æ¯å¼ è¡¨ã€æ¯ä¸ªå­—æ®µçš„æè¿°ï¼Œä»¥åŠä¸å…¶å®ƒè¡¨ä¹‹é—´çš„å…³è”å…³ç³»ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9adde40d57054101b5f213308b4dcb88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=rqh%2BESuAk25dNypAC8FAnd1X6IA%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li>å°†é£ä¹¦æ–‡æ¡£æ·»åŠ åˆ°æ•°æ®é›†ä¸­ï¼Œå®Œæˆåç‚¹å‡»åç§°æŸ¥çœ‹åˆ‡ç‰‡è¯¦æƒ…ã€‚åŒå‡»æ¯ä¸ªå—ä¹Ÿå¯ä»¥æŸ¥çœ‹å—çš„è¯¦æƒ…ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6429041abc14472bb2278353d823711~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=eDzxgUSJ8Cxkszu60he84FIChls%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li>ä¼šå‘ç°RAGFlowè‡ªåŠ¨ç»™æˆ‘ä»¬ç”Ÿæˆäº†ä¸€äº›å…³é”®è¯å’Œé—®é¢˜ï¼Œè¿™äº›å†…å®¹ä¼šå¯¹å¬å›å‡†ç¡®ç‡äº§ç”Ÿå½±å“ã€‚æˆ‘è‡ªå·±è§‰å¾—ç”Ÿæˆçš„ä¸å¤ªå‡†ç¡®ï¼Œæ‰€ä»¥ç»“åˆè‡ªå·±ç†è§£æ‰‹åŠ¨è¾“å…¥äº†ä¸€äº›å…³é”®è¯å’Œå¯èƒ½çš„é—®é¢˜ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3143617fc3af4be995b67d653faf87fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=FdFHuis%2Fee2jEGCKkthnjqyLMXw%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li>å®Œæˆåï¼Œå¯ä»¥åˆ°æ£€ç´¢æµ‹è¯•tabæµ‹è¯•å¬å›çš„æ•ˆæœï¼Œæ ¹æ®ç»“æœç¡®å®šåˆé€‚çš„å‚æ•°ã€‚å¹¶å¯ä»¥å¯¹chunkçš„å†…å®¹å’Œå…³é”®è¯ç­‰ç­‰è¿›è¡Œé€‚å½“çš„è°ƒæ•´ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b152dba313e488ea6e1ae65d0c07c37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=u2l9TSrVN3XrkxMQHH5sL5nb%2FPQ%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li>è°ƒä¼˜å®Œæˆåï¼Œå°±éœ€è¦å¯¹æ¥RAGFlowçš„retriveæ¥å£ï¼Œæ¥æŠŠæˆ‘ä»¬çŸ¥è¯†åº“å¬å›çš„æµç¨‹åšæˆä¸€ä¸ªToolã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e428bafad28f4661a22af61f4d2d0c51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=ERRIt6qr5UgPeGRFd5XlAeZXAhE%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Resource</span>
private RagFlowService ragFlowService;


<span class="hljs-variable">@Tool</span>(name = <span class="hljs-string">"get_table_schema"</span>, description= <span class="hljs-string">"æ ¹æ®queryæŸ¥è¯¢å¯èƒ½æœ‰å…³è”çš„æ•°æ®åº“è¡¨ï¼Œè¿”å›å»ºè¡¨è¯­å¥ã€‚å°½é‡ä¼ å…¥å¤šä¸ªä¸­æ–‡å…³é”®è¯ï¼Œæ¯ä¸ªå…³é”®è¯ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚"</span>)
public List&lt;String&gt; <span class="hljs-built_in">getTableSchema</span>(<span class="hljs-variable">@Param</span>(<span class="hljs-string">"query"</span>) String question){
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ragFlowService</span><span class="hljs-selector-class">.retrieval</span>(question);
}
</code></pre>
<h3 data-id="heading-5">3.3 OBS Agent</h3>
<p>åœ¨æˆ‘çœ‹æ¥ï¼Œæƒ³è¦æ„å»ºä¸€ä¸ªèƒ½å¤Ÿ work çš„Agentï¼Œéœ€è¦ä»¥ä¸‹å‡ ä¸ªè¦ç´ ï¼š</p>
<p><strong>Agent=Architecture</strong>(Workflowã€ReActã€Plan-Executeã€Multi-Agent...) <strong>+LLM+Context Engineering</strong>(Promptã€Toolã€Memory...)</p>
<p>æœ¬æ¥æ˜¯æƒ³ç”¨SpringAI Alibaba Graphæˆ–è€… LangGraphæ¥æ„å»ºä¸€ä¸ªWorkFlowç±»æˆ–è€…Graphç±»çš„å¤æ‚æ™ºèƒ½ä½“ï¼ˆReActã€Plan-Executeã€Multi-Agentï¼‰ã€‚ä½†ä¸ºäº†å¿«é€ŸéªŒè¯æƒ³æ³•å’ŒèŠ‚çœä¸ªäººæ—¶é—´ï¼Œå¹¶ä¸”è€ƒè™‘åˆ°ç›®å‰ä»»åŠ¡ç›¸å¯¹ç®€å•ï¼ˆPE+å·¥å…·å°±è¶³ä»¥å®Œæˆï¼‰ï¼Œå†åŠ ä¸Šéƒ¨é—¨æ­£åœ¨è¯•ç”¨Traeè¿™ä¸ªå·¥å…·ï¼Œæ‰€ä»¥å†³å®šåŸºäºTraeæ¥æ„å»ºä¸€ä¸ªAgentï¼ˆå¯ä»¥é¡ºä¾¿ä½¿ç”¨ä»–ä»¬çš„é«˜çº§æ¨¡å‹/dogeï¼Œä¹Ÿå¯ä»¥åˆ†äº«ç»™å…¶å®ƒåŒäº‹ä½¿ç”¨ï¼‰ã€‚</p>
<p>æ¥å…¥Traeä¹‹åï¼ŒArchitectureè‡ªç„¶å°±æ˜¯Traeçš„Agentæ¶æ„äº†ï¼Œæ ¹æ®æˆ‘ä½¿ç”¨ä¸‹æ¥æ„Ÿè§‰é‡‡ç”¨çš„æ˜¯åŸºäºReActçš„ Single-Agentã€‚è€ŒContext Engineeringçš„éƒ¨åˆ†ï¼Œå¯¹è¯åŠŸèƒ½ä»¥åŠé•¿çŸ­æœŸè®°å¿†ï¼Œè‡ªç„¶æ˜¯Traeå¤©ç”Ÿå°±å…·å¤‡çš„ã€‚è€ŒToolåˆ™å¯ä»¥å€ŸåŠ©å…¶è‡ªå¸¦çš„ä¸€äº›å·¥å…·ï¼Œå¦å¤–è¿˜å¯ä»¥åˆ©ç”¨MCPæ¥è¿›è¡Œæ‰©å±•ï¼Œæ¯”å¦‚å¾—ç‰©çš„MCPå¸‚åœºï¼Œæä¾›äº†å¤§é‡å¥½ç”¨çš„Serverï¼Œå¹¶ä¸”å¯ä»¥å¾ˆæ–¹ä¾¿çš„å‘å¸ƒè‡ªå·±å¼€å‘çš„Mcp Serverã€‚äºæ˜¯ï¼Œæˆ‘å°±æŠŠåœ¨ç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥åšçš„å·¥å…·ï¼Œåœ¨å¾—ç‰©Mcpå¹³å°ä¸Šè¿›è¡Œå‘å¸ƒï¼Œä¾›æˆ‘è‡ªå·±å’Œå…¶ä»–æ„Ÿå…´è¶£çš„åŒå­¦ä½¿ç”¨ã€‚</p>
<p>æœ€åï¼Œéœ€è¦ä¸€ä¸ªä¸“é—¨é’ˆå¯¹æˆ‘è¿™ä¸ªåœºæ™¯çš„Promptæ¥æŒ‡å¼•LLM é¡ºåˆ©å®Œæˆä»»åŠ¡ï¼Œç»è¿‡æˆ‘ä¸æ–­çš„ä¿®æ”¹ï¼Œæœ€ç»ˆå½¢æˆè¿™æ ·ä¸€æ®µPrompt:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Roleï¼šæ•°æ®åˆ†æä¸“å®¶</span>


<span class="hljs-section">## Backgroundï¼šç”¨æˆ·éœ€è¦ä¸“ä¸šçš„æ•°æ®åˆ†ææ”¯æŒæ¥è§£å†³å¤æ‚çš„ä¸šåŠ¡é—®é¢˜ï¼Œä»æµ·é‡æ•°æ®ä¸­æå–æœ‰ä»·å€¼çš„ä¿¡æ¯ï¼Œä¸ºäº§å“ä¼˜åŒ–ã€è¿è¥ç­–ç•¥å’Œä¸šåŠ¡å†³ç­–æä¾›å¯é ä¾æ®ã€‚</span>


<span class="hljs-section">## Attentionï¼šæ•°æ®å‡†ç¡®æ€§æ˜¯åˆ†æå·¥ä½œçš„ç”Ÿå‘½çº¿ï¼Œå¿…é¡»å§‹ç»ˆä¿æŒä¸¥è°¨ç»†è‡´çš„å·¥ä½œæ€åº¦ã€‚æ¯ä¸€æ¬¡åˆ†æéƒ½å¯èƒ½å½±å“é‡è¦å†³ç­–ï¼Œå› æ­¤éœ€è¦ç³»ç»Ÿæ€§æ€è€ƒã€åˆ†æ­¥éªŒè¯ï¼Œç¡®ä¿æ¯ä¸ªç¯èŠ‚çš„å¯é æ€§ã€‚</span>


<span class="hljs-section">## Profileï¼š</span>
<span class="hljs-bullet">-</span> Language: ä¸­æ–‡
<span class="hljs-bullet">-</span> Description: ä¸“æ³¨äºæ•°æ®åº“è¡¨ç»“æ„åˆ†æä¸Grafana-SQLæŸ¥è¯¢çš„ä¸“ä¸šæ•°æ®åˆ†æå¸ˆï¼Œå…·å¤‡ç³»ç»ŸåŒ–è§£å†³å¤æ‚æ•°æ®æŸ¥è¯¢é—®é¢˜çš„èƒ½åŠ›


<span class="hljs-section">### Skills:</span>
<span class="hljs-bullet">-</span> ç²¾é€šæ•°æ®åº“è¡¨ç»“æ„åˆ†æï¼Œèƒ½å¤Ÿå¿«é€Ÿè¯†åˆ«è¡¨å…³ç³»ã€å­—æ®µå«ä¹‰å’Œæ•°æ®ç±»å‹
<span class="hljs-bullet">-</span> ç†Ÿç»ƒæŒæ¡Grafana-SQLè¯­æ³•è§„èŒƒï¼Œå…·å¤‡é«˜æ•ˆçš„æŸ¥è¯¢è¯­å¥ç¼–å†™å’Œä¼˜åŒ–èƒ½åŠ›
<span class="hljs-bullet">-</span> å…·å¤‡ä¸“ä¸šçš„æ•°æ®å¯è§†åŒ–æŠ€èƒ½ï¼Œèƒ½å¤Ÿæ ¹æ®åˆ†æç›®æ ‡é€‰æ‹©åˆé€‚çš„å›¾è¡¨ç±»å‹
<span class="hljs-bullet">-</span> æ‹¥æœ‰æ·±åº¦ä¸šåŠ¡éœ€æ±‚ç†è§£èƒ½åŠ›ï¼Œèƒ½å¤Ÿå‡†ç¡®è½¬åŒ–ä¸šåŠ¡é—®é¢˜ä¸ºæ•°æ®æŸ¥è¯¢æ–¹æ¡ˆ
<span class="hljs-bullet">-</span> æŒæ¡ç³»ç»ŸåŒ–çš„é—®é¢˜åˆ†ææ–¹æ³•ï¼Œèƒ½å¤Ÿè§„åˆ’å®Œæ•´çš„æ•°æ®åˆ†ææµç¨‹å’ŒéªŒè¯æœºåˆ¶


<span class="hljs-section">## Goals:</span>
<span class="hljs-bullet">-</span> å‡†ç¡®ç†è§£ç”¨æˆ·ä¸šåŠ¡éœ€æ±‚ï¼Œæ˜ç¡®æ•°æ®æŸ¥è¯¢çš„æ ¸å¿ƒç›®æ ‡å’Œå…³é”®æŒ‡æ ‡
<span class="hljs-bullet">-</span> ç³»ç»Ÿåˆ†æç›¸å…³è¡¨ç»“æ„ï¼Œç¡®ä¿å¯¹æ•°æ®å…³ç³»å’Œä¸šåŠ¡é€»è¾‘çš„å…¨é¢ç†è§£
<span class="hljs-bullet">-</span> è®¾è®¡é«˜æ•ˆçš„æ•°æ®æŸ¥è¯¢æ–¹æ¡ˆï¼Œå¹³è¡¡æŸ¥è¯¢æ€§èƒ½ä¸ç»“æœå‡†ç¡®æ€§
<span class="hljs-bullet">-</span> ç”Ÿæˆä¸“ä¸šçš„æ•°æ®åˆ†ææŠ¥å‘Šï¼ŒåŒ…å«å¯è§†åŒ–å±•ç¤ºå’Œæ·±åº¦ä¸šåŠ¡æ´å¯Ÿ
<span class="hljs-bullet">-</span> ç¡®ä¿æ‰€æœ‰åˆ†æè¿‡ç¨‹å¯è¿½æº¯ã€ç»“æœå¯éªŒè¯ã€ç»“è®ºå¯æ‰§è¡Œ


<span class="hljs-section">## Constrains:</span>
<span class="hljs-bullet">-</span> æŸ¥è¯¢ä¸åˆ°æ•°æ®æ—¶ä¸è¦æ¨¡æ‹Ÿä»»ä½•æ•°æ®ï¼Œç›´æ¥å›å¤æŸ¥ä¸åˆ°æ•°æ®
<span class="hljs-bullet">-</span> ä½ è‡ªå·±æ‰€çŸ¥é“çš„æ—¶é—´æ˜¯ä¸å‡†ç¡®çš„ï¼Œå¦‚æœæ¶‰åŠåˆ°æ—¶é—´ï¼Œåˆ™éœ€è¦ä½¿ç”¨å·¥å…·è·å–å½“å‰æ—¶é—´
<span class="hljs-bullet">-</span> ä¸¥æ ¼åŸºäºå®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œä¸¥ç¦ä»»ä½•å½¢å¼çš„æ•°æ®è™šæ„æˆ–æ¨æµ‹
<span class="hljs-bullet">-</span> å¿…é¡»åœ¨å®Œæˆè¡¨ç»“æ„åˆ†æå’Œéœ€æ±‚ç†è§£åå†æ‰§è¡Œå…·ä½“æŸ¥è¯¢æ“ä½œ
<span class="hljs-bullet">-</span> æ‰€æœ‰é‡è¦æ•°æ®å¿…é¡»è¿›è¡Œæºå¤´éªŒè¯å’Œå¤šç»´åº¦äº¤å‰æ£€æŸ¥
<span class="hljs-bullet">-</span> ä¸¥æ ¼éµå®ˆæ•°æ®å®‰å…¨å’Œéšç§ä¿æŠ¤åŸåˆ™ï¼Œä¸è¶…è¶Šæˆæƒæ•°æ®èŒƒå›´
<span class="hljs-bullet">-</span> æ˜ç¡®è¯´æ˜åˆ†æçš„å±€é™æ€§ã€å‡è®¾æ¡ä»¶å’Œæ½œåœ¨çš„æ•°æ®ä¸ç¡®å®šæ€§


<span class="hljs-section">## Workflow:</span>
<span class="hljs-bullet">1.</span> æ·±åº¦ç†è§£ä¸šåŠ¡éœ€æ±‚ï¼Œæ˜ç¡®æŸ¥è¯¢ç›®æ ‡ã€å…³é”®æŒ‡æ ‡å’Œé¢„æœŸè¾“å‡º
<span class="hljs-bullet">2.</span> ä¸æ–­ä½¿ç”¨å·¥å…·è·å–ä½ éœ€è¦çš„è¡¨åŠå…¶è¡¨ç»“æ„ï¼Œç›´åˆ°ä½ è®¤ä¸ºå·²è·å–åˆ°è¶³å¤Ÿçš„ä¿¡æ¯
<span class="hljs-bullet">3.</span> ç³»ç»Ÿåˆ†æç›¸å…³è¡¨ç»“æ„ï¼ŒåŒ…æ‹¬å­—æ®µå«ä¹‰ã€æ•°æ®ç±»å‹ã€å…³è”å…³ç³»å’Œç´¢å¼•ç»“æ„
<span class="hljs-bullet">4.</span> è®¾è®¡æŸ¥è¯¢é€»è¾‘æ–¹æ¡ˆï¼Œè§„åˆ’æ‰§è¡Œæ­¥éª¤ã€éªŒè¯èŠ‚ç‚¹å’Œæ€§èƒ½ä¼˜åŒ–ç­–ç•¥
<span class="hljs-bullet">4.</span> ç¼–å†™ç¬¦åˆGrafanaè¯­æ³•çš„SQLæŸ¥è¯¢è¯­å¥ï¼Œè®¾ç½®æ­£ç¡®çš„å‚æ•°å’Œæ—¶é—´èŒƒå›´
<span class="hljs-bullet">5.</span> æ‰§è¡ŒæŸ¥è¯¢ã€‚å¦‚æœæŸ¥è¯¢å‡ºç°401é”™è¯¯ï¼Œåˆ™ä¸­æ–­åç»­æµç¨‹ï¼Œå¹¶æç¤ºç”¨æˆ·æ›´æ–°Cookieåé‡å¯obs-mcp-serverï¼›å¦‚æœå‡ºç°400é”™è¯¯ï¼Œå°è¯•ä¿®æ”¹è‡ªå·±çš„SQLè¯­å¥é‡æ–°æŸ¥è¯¢ï¼›
<span class="hljs-bullet">6.</span> ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨å’Œè¯¦ç»†åˆ†ææŠ¥å‘Šï¼ŒæŠ¥å‘Šä¸­å¿…é¡»åŒ…å«ä½ æ‰§è¡ŒæŸ¥è¯¢çš„SQLè¯­å¥
<span class="hljs-bullet">7.</span> è°ƒç”¨é£ä¹¦ç”Ÿæˆæ–‡æ¡£å·¥å…·ä»¥Markdownæ ¼å¼åˆ›å»ºé£ä¹¦æ–‡æ¡£ï¼Œè¿”å›æœ€ç»ˆçš„é£ä¹¦æ–‡æ¡£åœ°å€


<span class="hljs-section">## OutputFormat:</span>
<span class="hljs-bullet">-</span> åˆ†ææŠ¥å‘Šï¼ŒåŒ…å«å®Œæ•´çš„åˆ†æè¿‡ç¨‹å’Œå…³é”®å‘ç°ï¼Œåˆ›å»ºæ–°çš„é£ä¹¦æ–‡æ¡£å¹¶ä¿å­˜åœ¨å…¶ä¸­
<span class="hljs-bullet">-</span> å¯è§†åŒ–å›¾è¡¨ä»¥åµŒå…¥å¼é“¾æ¥å½¢å¼å‘ˆç°ï¼Œç¡®ä¿æ¸…æ™°å±•ç¤ºæ•°æ®è¶‹åŠ¿å’Œåˆ†å¸ƒ
<span class="hljs-bullet">-</span> æŠ¥å‘Šç»“æ„åŒ…å«æ‰§è¡Œæ‘˜è¦ã€åˆ†ææ–¹æ³•ã€æ•°æ®ç»“æœã€ä¸šåŠ¡æ´å¯Ÿå’Œåç»­å»ºè®®


<span class="hljs-section">## Suggestions:</span>
<span class="hljs-bullet">-</span> å»ºç«‹ç³»ç»ŸåŒ–çš„è¡¨ç»“æ„åˆ†ææ¡†æ¶ï¼Œæé«˜æ•°æ®å…³ç³»è¯†åˆ«çš„æ•ˆç‡å’Œå‡†ç¡®æ€§
<span class="hljs-bullet">-</span> æŒç»­å­¦ä¹ Grafana-SQLæœ€æ–°è¯­æ³•ç‰¹æ€§ï¼Œä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½å’Œèµ„æºæ¶ˆè€—
<span class="hljs-bullet">-</span> åŸ¹å…»å¤šç»´åº¦æ•°æ®éªŒè¯ä¹ æƒ¯ï¼Œç¡®ä¿åˆ†æç»“æœçš„å¯é æ€§å’Œä¸šåŠ¡ä»·å€¼
<span class="hljs-bullet">-</span> æ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œæå‡ä»æ•°æ®åˆ°æ´å¯Ÿçš„è½¬åŒ–èƒ½åŠ›å’Œå†³ç­–æ”¯æŒæ°´å¹³
<span class="hljs-bullet">-</span> å®šæœŸå¤ç›˜åˆ†ææ¡ˆä¾‹ï¼Œæ€»ç»“ç»éªŒæ•™è®­ï¼ŒæŒç»­æ”¹è¿›åˆ†ææ–¹æ³•è®ºå’Œå·¥ä½œæµç¨‹


<span class="hljs-section">## å·¥å…·æè¿°</span>
<span class="hljs-bullet">-</span> query<span class="hljs-emphasis">_grafana:ä½¿ç”¨Grafanaä¸­çš„SQLæŸ¥è¯¢grafanaæ•°æ®
æ³¨æ„ï¼š
      1. å½“formatä¸ºtime_</span>seriesæ—¶è¡¨ç¤ºæŸ¥è¯¢æ—¶é—´åºåˆ—æ•°æ®ï¼ŒSELECTçš„ç¬¬ä¸€ä¸ªå­—æ®µå¿…é¡»æ˜¯$<span class="hljs-strong">__timeGroupAlias(timestamp, interval)ï¼Œè¡¨ç¤ºæ—¶é—´åˆ†ç»„åˆ«åã€‚æ—¶é—´é—´éš”intervalMséœ€è¦ä¸rawSqlä¸­çš„$__</span>timeGroup(timestamp, interval)ä¿æŒå¯¹åº”ã€‚æ¯”å¦‚intervalMs=86400000Lè¡¨ç¤º1å¤©,rawSqlä¸­$<span class="hljs-strong">__timeGroup(timestamp, 1d)ä¹Ÿéœ€è¦ä¿æŒä¸€è‡´ã€‚
      2. å½“formatä¸ºtableæ—¶è¡¨ç¤ºæŸ¥è¯¢è¡¨æ ¼æ•°æ®ï¼ŒSELECTçš„å­—æ®µå¯ä»¥ä»»æ„ï¼ŒintervalMså‚æ•°ä¼ null
      3. æ—¶é—´èŒƒå›´ä¸ºé—­åŒºé—´ï¼Œå³åŒ…å«å¼€å§‹æ—¶é—´fromå’Œç»“æŸæ—¶é—´to,æ ¼å¼ä¸ºyyyy-MM-dd HH:mm:ssã€‚
å‚æ•°ç¤ºä¾‹ï¼š{
    "from": "2025-11-16 00:00:00",
    "to": "2025-11-16 23:59:59",
    "format": "table",
    "intervalMs": null,
    "rawSql": "SELECT region, COUNT(<span class="hljs-emphasis">*) as user_count FROM intl_xxxxxxx WHERE $__timeFilter(timestamp) GROUP BY region ORDER BY user_count DESC"
  }


## Initialization
ä½œä¸ºæ•°æ®åˆ†æä¸“å®¶ï¼Œä½ å¿…é¡»éµå®ˆConstrainsï¼Œä½¿ç”¨é»˜è®¤ä¸­æ–‡ä¸ç”¨æˆ·äº¤æµã€‚
</span></span></code></pre>
<p>æœ€ç»ˆï¼Œåœ¨ Trae ä¸­æ„å»ºäº†ä¸€ä¸ªå®Œæ•´OBS Agentã€‚</p>
<ul>
<li>æ·»åŠ æ™ºèƒ½ä½“ï¼šOBSå¤§ç›˜åˆ†æ</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2209be432b4045549921a04fc0dd830e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=oOAQgJDhTkLHBQxL4hS%2FgN%2FBTlk%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h2 data-id="heading-6">å››ã€æˆæœ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea2595f4300d4ed795136f67e99929e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=4UQbWkBYfySYKy1jUNEMO7ee8Fc%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2c9329380274ae3b535a93437222263~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=4qSpa4DM8uT5qGKxVEKPKuPuBac%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e1def6b68a0455d8e7d3a496cef3b8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=9BbuxEVfIBPH1qPE9yDef%2B%2Fgq6Q%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f7bf0a31c604be7aedc62757ed09ed9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=JXtsLE6snnIqrlO35F1bbhCzf8E%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><strong>æœ€ç»ˆç”Ÿæˆçš„æŠ¥å‘Šï¼ˆæˆªå–éƒ¨åˆ†ï¼‰ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c374ec201cf46a59e9bbad20a12a5ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=%2FuDakHatZoMP6qVK8f3lr6C6oAQ%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89cc37e36c3e4811a2eb1c64cb1258e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=FHrg5EDXZ5x%2FmAv3Ihj6DTsnIbE%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c8ed688f0f34673a565beb6dcc4a036~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=q7wtrNRQaFM6hltQzs6hWAJOMuc%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h2 data-id="heading-7">äº”ã€æ€»ç»“</h2>
<p>AIæ—¶ä»£æ¥ä¸´ï¼Œæˆ‘ä»¬åº”è¯¥è¦å–„äºå‘ç°å½“å‰ç³»ç»Ÿä¸­çš„å“ªäº›éƒ¨åˆ†èƒ½å¤Ÿç»“åˆAIæ¥è¿›è¡Œæå‡ï¼Œç§¯ææ‹¥æŠ±å˜åŒ–ï¼Œæœ‰äº†æƒ³æ³•å°±å»åšï¼Œè¾¹åšè¾¹æƒ³è¾¹è§£å†³é—®é¢˜ï¼Œæ°¸è¿œä¸»åŠ¨å‘å‰ä¸€æ­¥ã€‚</p>
<p>æœ¬æ–‡ç« åªæ˜¯è®°å½•äº†ä»äº§ç”Ÿæƒ³æ³•åˆ°æ„å»ºMVPéªŒè¯æƒ³æ³•çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸­é—´å½“ç„¶æœ‰å¾ˆå¤šå¯ä»¥ç»§ç»­ä¼˜åŒ–çš„åœ°æ–¹ï¼Œæˆ‘æœ¬äººç›®å‰æœ‰ä»¥ä¸‹å‡ ä¸ªæƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿å¤§å®¶ç§¯æè¯„è®ºï¼Œè´¡çŒ®è‡ªå·±çš„ç‹¬åˆ°è§è§£ã€‚</p>
<ul>
<li>æ¥å…¥æ•°æ®åº“æ•°æ®ï¼Œé€šè¿‡åŠ¨æ€ç›‘å¬Binlogçš„æ–¹å¼æ¥è¯†åˆ«å„è¡¨ä¹‹é—´çš„è”ç³»ï¼Œæ¯”å¦‚select è¯­å¥çš„joinï¼Œå¹¶å°†è¿™ç§å…³ç³»ä¿å­˜åˆ°Neo4j è¿™ç§å›¾å‘é‡æ•°æ®åº“ä¸­æ¥å®ç°è¡¨ç»“æ„çš„ RAGã€‚</li>
<li>åŸºäºLangGraph æˆ– SpringAI Alibaba æ„å»ºMulti-Agent Systemï¼Œç»†åŒ–å„Agentçš„èŒè´£ï¼Œç²¾ç‚¼å„Agentçš„Context æ„æˆï¼Œä»¥è·å¾—æ›´å¥½çš„æ•ˆæœã€‚ä¾‹å¦‚ï¼šåè°ƒè€… Agentã€è¡¨ç»“æ„æœç´¢ Agentã€SQL ç”Ÿæˆ Agentã€åˆ†ææŠ¥å‘Š Agentç­‰ç­‰ã€‚</li>
<li>æ¥å…¥é£ä¹¦æœºå™¨äººï¼Œæˆ–è€…ä½¿ç”¨AI Codingå·¥å…·ç”Ÿæˆä¸€ä¸ªå‰ç«¯é¡µé¢ã€‚ä½¿å¾—ä¸€äº›éæŠ€æœ¯äººå‘˜ï¼Œä¾‹å¦‚äº§å“å’Œè¿è¥ä¹Ÿèƒ½å¾ˆæ–¹ä¾¿åœ°ä½¿ç”¨ã€‚</li>
</ul>
<h3 data-id="heading-8">å¾€æœŸå›é¡¾</h3>
<ol>
<li>
<p>æ•°æ®åº“AIæ–¹å‘æ¢ç´¢-MCPåŸç†è§£æ&amp;DBæ–¹å‘å®æˆ˜ï½œå¾—ç‰©æŠ€æœ¯</p>
</li>
<li>
<p>é¡¹ç›®æ€§èƒ½ä¼˜åŒ–å®è·µï¼šæ·±å…¥FMPç®—æ³•åŸç†æ¢ç´¢ï½œå¾—ç‰©æŠ€æœ¯</p>
</li>
<li>
<p>Dragonboatç»Ÿä¸€å­˜å‚¨LogDBå®ç°åˆ†æï½œå¾—ç‰©æŠ€æœ¯</p>
</li>
<li>
<p>ä»æ•°å­—åˆ°ç‰ˆé¢ï¼šå¾—ç‰©æ•°æ®äº§å“é‡Œæ•°å­—æ ¼å¼åŒ–çš„é‚£äº›äº‹</p>
</li>
<li>
<p>ä¸€æ–‡è§£æå¾—ç‰©è‡ªå»º Redis æœ€æ–°æŠ€æœ¯æ¼”è¿›</p>
</li>
</ol>
<h3 data-id="heading-9">æ–‡ /Neeson</h3>
<p>å…³æ³¨å¾—ç‰©æŠ€æœ¯ï¼Œæ¯å‘¨æ›´æ–°æŠ€æœ¯å¹²è´§</p>
<p>è¦æ˜¯è§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿è¯„è®ºè½¬å‘ç‚¹èµï½</p>
<p>æœªç»å¾—ç‰©æŠ€æœ¯è®¸å¯ä¸¥ç¦è½¬è½½ï¼Œå¦åˆ™ä¾æ³•è¿½ç©¶æ³•å¾‹è´£ä»»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äººè„¸è¯†åˆ«é¡¹ç›®å¦‚ä½•åœ¨Spring Booté¡¹ç›®ä¸­å¦‚ä½•å»ºç«‹æ•°æ®åº“å’Œç®¡ç†]]></title>    <link>https://juejin.cn/post/7582136489770762250</link>    <guid>https://juejin.cn/post/7582136489770762250</guid>    <pubDate>2025-12-11T05:24:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582136489770762250" data-draft-id="7582136489770729482" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äººè„¸è¯†åˆ«é¡¹ç›®å¦‚ä½•åœ¨Spring Booté¡¹ç›®ä¸­å¦‚ä½•å»ºç«‹æ•°æ®åº“å’Œç®¡ç†"/> <meta itemprop="keywords" content="åç«¯,æ•°æ®åº“,MySQL"/> <meta itemprop="datePublished" content="2025-12-11T05:24:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿›å‡»çš„ä¸¸å­"/> <meta itemprop="url" content="https://juejin.cn/user/2506542243120680"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äººè„¸è¯†åˆ«é¡¹ç›®å¦‚ä½•åœ¨Spring Booté¡¹ç›®ä¸­å¦‚ä½•å»ºç«‹æ•°æ®åº“å’Œç®¡ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2506542243120680/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿›å‡»çš„ä¸¸å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T05:24:49.000Z" title="Thu Dec 11 2025 05:24:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è®²è®²åœ¨Spring Booté¡¹ç›®ä¸­å¦‚ä½•å»ºç«‹æ•°æ®åº“å’Œç®¡ç†</h2>
<p>éšç€æ™ºèƒ½é—¨ç¦ã€è€ƒå‹¤ã€è®¿å®¢ç³»ç»Ÿçš„æ™®åŠï¼Œ<strong>äººè„¸è¯†åˆ«æ¨¡å—</strong>å·²æˆä¸ºä¼—å¤šé¡¹ç›®çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚åœ¨é«˜æ€§èƒ½çš„äººè„¸è¯†åˆ«ç³»ç»Ÿä¸­ï¼Œæ•°æ®åº“ä¸»è¦è´Ÿè´£<strong>æŒä¹…åŒ–å­˜å‚¨</strong>ï¼Œè€Œè¯†åˆ«æ¯”å¯¹æ“ä½œåº”å…¨éƒ¨åœ¨<strong>å†…å­˜ä¸­å®Œæˆ</strong>ï¼Œä»¥ä¿è¯æ¯«ç§’çº§å“åº”å’Œé«˜å¹¶å‘æ€§èƒ½ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åœ¨ <strong>Spring Boot é¡¹ç›®</strong>ä¸­å»ºç«‹ä¸€ä¸ªé«˜æ•ˆã€å¯æ‰©å±•çš„äººè„¸è¯†åˆ«æ•°æ®åº“ï¼Œå¹¶å®ç°åŸºç¡€çš„äººè„¸æ•°æ®ç®¡ç†åŠŸèƒ½ï¼ŒåŒæ—¶ç»“åˆ MySQLã€Redis ä¸å†…å­˜ä¼˜åŒ–ç­–ç•¥ï¼Œæå‡ç³»ç»Ÿæ•´ä½“æ€§èƒ½ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€åŸºç¡€å…¥é—¨ä»‹ç»</h2>
<p>è¿™é‡Œä¸ºäº†èƒ½è®©å¤§å®¶å¯¹SDKç»“åˆæ•°æ®åº“æœ‰ä¸ªåˆæ­¥äº†è§£ï¼Œæˆ‘ä»¬å…ˆåˆ©ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fai.arcsoft.com.cn%2F%3Futm_source%3DJuejin%26%26utm_medium%3Dshentao" target="_blank" title="https://ai.arcsoft.com.cn/?utm_source=Juejin&amp;&amp;utm_medium=shentao" ref="nofollow noopener noreferrer">è™¹è½¯äººè„¸è¯†åˆ«SDK</a> å¯¹åº”çš„<strong>ArcSoftFaceDemo</strong> ï¼Œè®²è§£ä¸‹æ­¤Demoæ˜¯å¦‚ä½•å¯¹äººè„¸æ•°æ®åº“è¿›è¡Œç®¡ç†çš„ï¼Œä»¥åŠå¦‚ä½•æ­£ç¡®åœ°æ³¨å†Œåˆ° <strong>ArcFace SDK</strong> çš„å¼•æ“ä¸­ï¼Œä»¥æ”¯æŒåç»­çš„äººè„¸æ£€æµ‹å’Œè¯†åˆ«åŠŸèƒ½ã€‚ä¸‹é¢ç»“åˆä»£ç åˆ†ææ•´ä¸ªç®¡ç†æµç¨‹ã€‚</p>
<h3 data-id="heading-2">1ã€æ•°æ®åº“ç¯å¢ƒå‡†å¤‡</h3>
<p>åœ¨å¼€å§‹ä½¿ç”¨ ArcsoftFaceDemo å‰ï¼Œéœ€è¦å…ˆå‡†å¤‡å¥½ MySQL æ•°æ®åº“ç¯å¢ƒã€‚ä¸ºäº†å¿«é€Ÿæ­å»ºï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <strong>Docker</strong> å¯åŠ¨ä¸€ä¸ªæ•°æ®åº“å®ä¾‹ã€‚</p>
<h5 data-id="heading-3">ä½¿ç”¨ Docker å¯åŠ¨ MySQL 8.0</h5>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ MySQL å®¹å™¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker run -d \
  --name arcsoft_mysql \
  -e MYSQL_ROOT_PASSWORD=Root123 \
  -e MYSQL_DATABASE=arcsoft_face \
  -p 3306:3306 \
  registry.cn-hangzhou.aliyuncs.com/china-images/mysql:8.0
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>--name arcsoft_mysql</code>ï¼šå®¹å™¨åç§°ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</li>
<li><code>MYSQL_ROOT_PASSWORD=Root123</code>ï¼šroot ç”¨æˆ·å¯†ç ã€‚</li>
<li><code>MYSQL_DATABASE=arcsoft_face</code>ï¼šåˆå§‹åŒ–åˆ›å»ºæ•°æ®åº“ <code>arcsoft_face</code>ã€‚</li>
<li><code>-p 3306:3306</code>ï¼šå°†å®¹å™¨ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºï¼Œæ–¹ä¾¿ç¨‹åºè¿æ¥ã€‚</li>
<li><code>registry.cn-hangzhou.aliyuncs.com/china-images/mysql:8.0</code>ï¼šæŒ‡å®šä½¿ç”¨ MySQL 8.0 é˜¿é‡Œäº‘é•œåƒï¼Œå¦‚æœæœ‰å¤–ç½‘ç¯å¢ƒï¼Œå¯ç›´æ¥ä½¿ç”¨mysql:8.0ä»£æ›¿ã€‚</li>
</ul>
<blockquote>
<p>å¦‚æœä½ æƒ³äº†è§£æ›´å¤š Docker ä½¿ç”¨æ–¹å¼ï¼Œå¯ä»¥å‚è€ƒå…¶ä»– Docker å…¥é—¨æ–‡æ¡£æˆ–æ•™ç¨‹ã€‚ä¹Ÿå¯ç›´æ¥åœ¨ç‰©ç†æ“ä½œç³»ç»Ÿä¸Šå®‰è£…MySQL</p>
</blockquote>
<h5 data-id="heading-4">æ•°æ®åº“è¿æ¥ä¿¡æ¯</h5>
<p>å¯åŠ¨å®Œæˆåï¼Œä½ å°±å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¿¡æ¯è¿æ¥æ•°æ®åº“ï¼š</p>
<ul>
<li><strong>URL</strong>ï¼š<code>ç‰©ç†æœºIP:3306</code></li>
<li><strong>ç”¨æˆ·å</strong>ï¼š<code>root</code></li>
<li><strong>å¯†ç </strong>ï¼š<code>Root123</code></li>
<li><strong>æ•°æ®åº“</strong>ï¼š<code>arcsoft_face</code></li>
</ul>
<p>è¿™æ ·å°±å®Œæˆäº†æ•°æ®åº“ç¯å¢ƒçš„æ­å»ºï¼Œä¸º ArcsoftFaceDemo çš„äººè„¸åº“ç®¡ç†åšå¥½äº†åŸºç¡€å‡†å¤‡ã€‚</p>
<h3 data-id="heading-5">2ã€å·¥ç¨‹å¯¼å…¥ä¸æ•°æ®åº“é…ç½®</h3>
<p>åœ¨å®Œæˆæ•°æ®åº“ç¯å¢ƒå‡†å¤‡åï¼Œä¸‹ä¸€æ­¥æ˜¯å¯¼å…¥ <strong>ArcSoftFaceDemo</strong> å·¥ç¨‹ï¼Œå¹¶å°†é»˜è®¤æ•°æ®åº“é…ç½®æ”¹ä¸º MySQLã€‚</p>
<h5 data-id="heading-6">å¯¼å…¥å·¥ç¨‹</h5>
<ol>
<li>ä» ArcSoft <a href="https://link.juejin.cn?target=https%3A%2F%2Fai.arcsoft.com.cn%2F%3Futm_source%3DJuejin%26%26utm_medium%3Dshentao" target="_blank" title="https://ai.arcsoft.com.cn/?utm_source=Juejin&amp;&amp;utm_medium=shentao" ref="nofollow noopener noreferrer">å®˜ç½‘</a>ä¸‹è½½ <strong>ArcSoftFaceDemo</strong> å·¥ç¨‹å‹ç¼©åŒ…ã€‚</li>
<li>è§£å‹åï¼Œç”¨ <strong>IntelliJ IDEA</strong> æ‰“å¼€å·¥ç¨‹ç›®å½•ã€‚</li>
</ol>
<h5 data-id="heading-7">ä¿®æ”¹æ•°æ®åº“é…ç½®</h5>
<p>å·¥ç¨‹é»˜è®¤ä½¿ç”¨çš„æ˜¯ <strong>H2 å†…å­˜æ•°æ®åº“</strong>ï¼Œé€‚åˆå¿«é€Ÿæ¼”ç¤ºå’Œæµ‹è¯•ã€‚ä½†åœ¨æ­£å¼ç¯å¢ƒä¸­ï¼Œå»ºè®®åˆ‡æ¢åˆ° <strong>MySQL</strong> æˆ–å…¶ä»–æŒä¹…åŒ–æ•°æ®åº“ã€‚</p>
<p>æ‰“å¼€ <code>application.properties</code> æ–‡ä»¶ï¼Œæ‰¾åˆ°é»˜è®¤é…ç½®ï¼š</p>
<pre><code class="hljs language-properties" lang="properties">spring.datasource.url=jdbc:h2:file:./data/arcdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:db/schema-h2.sql
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>spring.datasource.url</code>ï¼šH2 æ•°æ®åº“æ–‡ä»¶è·¯å¾„ã€‚</li>
<li><code>spring.datasource.driver-class-name</code>ï¼šH2 æ•°æ®åº“é©±åŠ¨ã€‚</li>
<li><code>spring.datasource.username</code> / <code>spring.datasource.password</code>ï¼šæ•°æ®åº“è´¦å·å¯†ç ã€‚</li>
<li><code>spring.h2.console.*</code>ï¼šH2 Web æ§åˆ¶å°ç›¸å…³é…ç½®ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚</li>
<li><code>spring.sql.init.*</code>ï¼šåˆå§‹åŒ– SQL æ–‡ä»¶è·¯å¾„ï¼Œç”¨äºåˆ›å»ºç¤ºä¾‹è¡¨ç»“æ„ã€‚</li>
</ul>
<h5 data-id="heading-8">H2åˆ‡æ¢ä¸ºMySQL</h5>
<p>åœ¨æ­£å¼ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†é»˜è®¤ H2 é…ç½®æ”¹ä¸º MySQLã€‚æ‰“å¼€ <code>application.properties</code>ï¼Œå°†æ•°æ®åº“ç›¸å…³é…ç½®ä¿®æ”¹ä¸º MySQL è¿æ¥ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-properties" lang="properties">spring.datasource.url=jdbc:mysql://localhost:3306/arcsoft_face?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.username=root
spring.datasource.password=Root123
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:db/schema-mysql.sql
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>spring.datasource.url</code>ï¼šMySQL è¿æ¥ URLï¼ŒåŒ…å«æ•°æ®åº“å <code>arcsoft_face</code>ï¼Œå­—ç¬¦é›†ä¸æ—¶åŒºè®¾ç½®ã€‚<code>localhost</code>åœ°å€æ ¹æ®å®é™…æ•°æ®åº“IPåœ°å€è®¾ç½®</li>
<li><code>spring.datasource.driver-class-name</code>ï¼šMySQL é©±åŠ¨ç±»ã€‚</li>
<li><code>spring.datasource.username</code> / <code>spring.datasource.password</code>ï¼šMySQL è´¦å·å¯†ç ï¼Œå¯¹åº” Docker å¯åŠ¨ MySQL æ—¶è®¾ç½®çš„ç”¨æˆ·åå’Œå¯†ç ã€‚</li>
<li><code>spring.sql.init.*</code>ï¼šåˆå§‹åŒ– SQL æ–‡ä»¶è·¯å¾„ï¼Œç”¨äºåˆ›å»ºç”¨æˆ·è¡¨ç»“æ„ï¼ˆä¸ H2 ä¸åŒï¼Œéœ€è¦ä½¿ç”¨ MySQL ç‰ˆæœ¬ SQLï¼‰ã€‚</li>
</ul>
<hr/>
<h5 data-id="heading-9">éªŒè¯æ•°æ®åº“è¿æ¥</h5>
<ol>
<li>å¯åŠ¨ ArcSoftFaceDemo å·¥ç¨‹ã€‚</li>
<li>æ£€æŸ¥å¯åŠ¨æ—¥å¿—ï¼Œç¡®è®¤æ•°æ®åº“è¿æ¥æˆåŠŸï¼š</li>
</ol>
<pre><code class="hljs language-erlang" lang="erlang">HikariPool-<span class="hljs-number">1</span> - Starting...
HikariPool-<span class="hljs-number">1</span> - Start completed.
</code></pre>
<p>æ³¨æ„ï¼šä½¿ç”¨ MySQL å®¢æˆ·ç«¯ï¼ˆå¦‚ <code>mysql</code> å‘½ä»¤è¡Œæˆ– Navicatç­‰ï¼‰è¿æ¥æ•°æ®åº“ï¼Œç¡®è®¤ <code>arcsoft_face</code> æ•°æ®åº“å·²åˆ›å»ºæˆåŠŸã€‚</p>
<hr/>
<h5 data-id="heading-10">åˆ›å»ºç”¨æˆ·è¡¨</h5>
<p>å¦‚æœ MySQL æ•°æ®åº“ä¸­æ²¡æœ‰è¡¨ï¼Œéœ€è¦æ‰§è¡Œåˆå§‹åŒ– SQL åˆ›å»º <code>user_info</code> è¡¨ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> user_info (
    id <span class="hljs-type">BIGINT</span> AUTO_INCREMENT <span class="hljs-keyword">PRIMARY</span> KEY,
    name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">60</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    extra_info <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">500</span>),
    face_feature <span class="hljs-type">BLOB</span>,
    image_url <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">120</span>),
    create_time <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    <span class="hljs-keyword">UNIQUE</span> KEY user_info_name_uindex (name)
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8mb4;

</code></pre>
<p><strong>å…³é”®å­—æ®µè¯´æ˜ï¼š</strong></p>
<ul>
<li><code>id</code>ï¼šç”¨æˆ·å”¯ä¸€æ ‡è¯†ã€‚</li>
<li><code>name</code>ï¼šç”¨æˆ·åã€‚</li>
<li><code>face_feature</code>ï¼šArcSoft SDK æå–çš„äººè„¸ç‰¹å¾äºŒè¿›åˆ¶æ•°æ®ã€‚è¿™é‡Œä¹Ÿå¯ä»¥æ ¹æ®ä¸šåŠ¡æ¥ï¼Œä½¿ç”¨textç±»å‹ï¼Œå­˜å‚¨base64ç¼–ç åçš„å­—ç¬¦ä¸²æ•°æ®</li>
<li><code>image_url</code>ï¼šæ³¨å†Œè¯å­˜å‚¨åœ°å€ã€‚</li>
</ul>
<p>è¿™æ ·å°±å®Œæˆäº† MySQL æ•°æ®åº“æ¥å…¥ ArcSoftFaceDemo çš„å‡†å¤‡å·¥ä½œã€‚</p>
<h3 data-id="heading-11">3ã€äººè„¸æ³¨å†Œè¿‡ç¨‹è¯´æ˜ï¼ˆFaceService.javaï¼‰</h3>
<p><code>FaceService</code> æ˜¯æ•´ä¸ªç³»ç»Ÿçš„äººè„¸æ³¨å†Œä¸ç®¡ç†æ ¸å¿ƒé€»è¾‘ï¼Œè´Ÿè´£ï¼š</p>
<ul>
<li>ä»æ•°æ®åº“è¯»å–ç”¨æˆ·äººè„¸ä¿¡æ¯</li>
<li>æ³¨å†Œ/æ›´æ–°äººè„¸åˆ° ArcFace SDK å†…å­˜å¼•æ“</li>
<li>åˆ é™¤äººè„¸</li>
<li>ç³»ç»Ÿå¯åŠ¨æ—¶æ‰¹é‡åŠ è½½äººè„¸</li>
<li>æ”¯æŒä»æ•°æ®åº“ã€æœ¬åœ°å›¾ç‰‡ã€classpath ç›®å½•ä¸‰ç§æ¥æºåˆå§‹åŒ–</li>
</ul>
<p>ä¸‹é¢è¯¦ç»†è¯´æ˜å„åŠŸèƒ½æ¨¡å—çš„é€»è¾‘ã€‚</p>
<h4 data-id="heading-12">äººè„¸æ³¨å†Œæ ¸å¿ƒæ–¹æ³•ï¼šaddUser</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addUser</span><span class="hljs-params">(String name, <span class="hljs-type">byte</span>[] faceFeature)</span> {
        <span class="hljs-type">UserInfo</span> <span class="hljs-variable">userInfo</span> <span class="hljs-operator">=</span> userInfoMapper.selectOne(Wrappers.&lt;UserInfo&gt;lambdaQuery().eq(UserInfo::getName, name));
        <span class="hljs-keyword">if</span> (userInfo == <span class="hljs-literal">null</span>) {
            <span class="hljs-type">UserInfo</span> <span class="hljs-variable">userInfoInsert</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserInfo</span>();
            userInfoInsert.setId((<span class="hljs-type">int</span>) (System.currentTimeMillis() % <span class="hljs-number">1_000_000_000</span>)); <span class="hljs-comment">//å¦‚æœæ˜¯MySQLæ•°æ®åº“ï¼Œå¯å»æ‰è¿™ä¸ªï¼Œåˆ©ç”¨æ•°æ®åº“è‡ªå¢é•¿idæ¥ç”Ÿæˆ</span>
            userInfoInsert.setName(name);
            userInfoInsert.setFaceFeature(faceFeature);
            userInfoMapper.insert(userInfoInsert);
            faceEngineService.registerFaceFeature2Engine(userInfoInsert.getId(), name, faceFeature);

        } <span class="hljs-keyword">else</span> {
            <span class="hljs-type">UserInfo</span> <span class="hljs-variable">userInfoUpdate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserInfo</span>();
            userInfoUpdate.setId(userInfo.getId());
            userInfoUpdate.setName(name);
            userInfoUpdate.setFaceFeature(faceFeature);
            userInfoMapper.updateById(userInfoUpdate);
            faceEngineService.removeFaceFeature2Engine(userInfo.getId());
            faceEngineService.registerFaceFeature2Engine(userInfo.getId(), name, faceFeature);
        }
    }
</code></pre>
<h5 data-id="heading-13">åŠŸèƒ½è¯´æ˜</h5>
<p><code>addUser</code> æ˜¯ ArcSoftFaceDemo é¡¹ç›®ä¸­æœ€æ ¸å¿ƒçš„äººè„¸æ³¨å†Œæ–¹æ³•ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ï¼š</p>
<ul>
<li>å°†è¾“å…¥çš„äººè„¸ç‰¹å¾ï¼ˆbyte[]ï¼‰å†™å…¥æ•°æ®åº“</li>
<li>å°†äººè„¸ç‰¹å¾æ³¨å†Œåˆ° ArcFace å¼•æ“çš„å†…å­˜ç‰¹å¾åº“ï¼ˆå†…å­˜ä¸­çš„ç´¢å¼•ç»“æ„ï¼‰</li>
<li>åŒæ­¥ç»´æŠ¤ä¸¤ç«¯çš„æ•°æ®ä¸€è‡´æ€§ï¼ˆæ•°æ®åº“ â†” è¯†åˆ«å¼•æ“ï¼‰</li>
</ul>
<p>ArcFace SDK çš„è¯†åˆ«èƒ½åŠ›ä¾èµ–äº<strong>å†…å­˜ä¸­çš„ç‰¹å¾åº“</strong>ï¼Œå› æ­¤æ¯æ¬¡æ³¨å†Œã€æ›´æ–°ã€åˆ é™¤éƒ½å¿…é¡»ä¿æŒæ•°æ®åº“ä¸ SDK å†…å­˜åº“ä¸€è‡´ã€‚åœ¨åšæ–°å¢çš„æ—¶å€™ï¼ŒåŒæ­¥ä¸¤è¾¹éœ€åŒæ—¶æ–°å¢ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚</p>
<p>è¿™é‡Œæ³¨å†Œå­˜å‚¨çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥åŒæ—¶å¸¦ä¸€äº›ä¸šåŠ¡ä¸Šçš„ä¿¡æ¯ï¼Œå¦‚äººå‘˜idï¼Œäººå‘˜å§“åï¼Œäººå‘˜æ³¨å†Œç…§å­˜æ”¾åœ°å€ç­‰ã€‚è¿™äº›ä¿¡æ¯ï¼Œ<strong>åœ¨æ•°æ®åº“ä¸­å¯ä»¥ä»¥å­—æ®µçš„å½¢å¼è¿›è¡Œå­˜å‚¨å½’æ¡£</strong>ï¼Œå¯å‚è€ƒä¸Šé¢<code>user_info</code>è¡¨è¿›è¡Œå­—æ®µæ‰©å±•ä¼˜åŒ–ã€‚å¦‚æœæƒ³é€šè¿‡SDKçš„<code>searchFaceFeature</code>æ¥å£è·å–åˆ°è¿™äº›é¢å¤–ä¿¡æ¯ï¼Œåœ¨<code>registerFaceFeature</code>æ¥å£ä¸­æä¾›äº†<code>faceTag</code>çš„ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºå­˜æ”¾ä¸šåŠ¡æ•°æ®ï¼Œå¯ä»¥æŠŠè¿™äº›ä¿¡æ¯<strong>ä»¥JSONå­—ç¬¦ä¸²å½¢å¼å­˜æ”¾åˆ°<code>faceTag</code>ä¸­å»</strong>ï¼Œå½“ç„¶ä¹Ÿå¯é€šè¿‡searchIdï¼Œå†æŸ¥è¯¢æ•°æ®åº“çš„æ–¹å¼ï¼ŒæŠŠå¯¹åº”çš„äººå‘˜ä¿¡æ¯æŸ¥è¯¢å‡ºæ¥</p>
<p>ArcFace SDK æå–çš„äººè„¸ç‰¹å¾æ˜¯ä¸€ä¸ª <strong>byte[] æ•°ç»„</strong>ã€‚5.0 çš„ä¸­æ¨¡å‹ç‰¹å¾é•¿åº¦åœ¨ 2056å­—èŠ‚ï¼Œå¤§æ¨¡å‹ç‰¹å¾ç‰¹å¾é•¿åº¦3080å­—èŠ‚ï¼Œè¿™é‡Œåœ¨åšæ•°æ®åº“å­—æ®µå¤§å°çš„æ—¶å€™éœ€è¦å…³æ³¨ä¸‹</p>
<p><strong>ä¸¤ç§å­˜å‚¨æ–¹å¼ï¼šSDKçš„ç‰¹å¾ç±»å‹æ˜¯byte[]æ•°ç»„ç±»å‹ï¼Œå­˜å‚¨åˆ°æ•°æ®åº“æ–¹å¼ï¼š</strong></p>
<p>1ã€å¯ä»¥ç›´æ¥ä½¿ç”¨BLOBç±»å‹ï¼Œä¸€èˆ¬æ¨èç”¨<strong>BLOBç±»å‹</strong>å­˜å‚¨ï¼Œå¯ä»¥å‡å°‘ç¼–è§£ç å¸¦æ¥çš„æ€§èƒ½æŸå¤±</p>
<p>2ã€byte[]æ•°ç»„è½¬æˆbase64å­—ç¬¦ä¸²ï¼Œæ•°æ®åº“ç”¨<strong>TEXTç±»å‹</strong>è¿›è¡Œå­˜å‚¨ï¼Œå¦‚æœæ¶‰åŠåˆ°ç½‘ç»œä¼ è¾“ï¼Œå¯ä½¿ç”¨Base64å­—ç¬¦ä¸²</p>
<h4 data-id="heading-14">åˆ é™¤ç”¨æˆ· removeUser</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeUser</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-type">UserInfo</span> <span class="hljs-variable">userInfo</span> <span class="hljs-operator">=</span> userInfoMapper.selectOne(Wrappers.&lt;UserInfo&gt;lambdaQuery().eq(UserInfo::getName, name));
        <span class="hljs-keyword">if</span> (userInfo != <span class="hljs-literal">null</span>) {
            faceEngineService.removeFaceFeature2Engine(userInfo.getId());
            userInfoMapper.deleteById(userInfo.getId());
        }
    }
</code></pre>
<ol>
<li>æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·</li>
<li>ä» SDK å†…å­˜å¼•æ“ç§»é™¤äººè„¸</li>
<li>ä»æ•°æ®åº“åˆ é™¤è®°å½•</li>
</ol>
<h4 data-id="heading-15">ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½äººè„¸</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">loadImage2Engine</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"true"</span>.equals(faceImageClear)) {
            removeAllUser();
            initSystemFace();
            <span class="hljs-type">File</span> <span class="hljs-variable">file</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(testImagePath);
            <span class="hljs-keyword">if</span> (file.isDirectory()) {
                File[] files = file.listFiles();
                log.info(<span class="hljs-string">"å¼€å§‹åŠ è½½æœ¬åœ°äººè„¸å›¾ç‰‡åˆ°å¼•æ“ä¸­"</span>);
                <span class="hljs-keyword">for</span> (File imageFile : files) {
                    <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> imageFile.getName();
                    <span class="hljs-keyword">if</span> (name.endsWith(<span class="hljs-string">".jpg"</span>) || name.endsWith(<span class="hljs-string">".png"</span>)) {
                        <span class="hljs-type">String</span> <span class="hljs-variable">userName</span> <span class="hljs-operator">=</span> name.substring(<span class="hljs-number">0</span>, name.lastIndexOf(<span class="hljs-string">"."</span>));
                        register(userName, imageFile, <span class="hljs-literal">null</span>);
                    }
                }
                log.info(<span class="hljs-string">"åŠ è½½æœ¬åœ°äººè„¸å›¾ç‰‡åˆ°å¼•æ“ä¸­å®Œæˆ"</span>);
            }
        }<span class="hljs-keyword">else</span> {
            initDatabaseFace2Engine();
        }
    }
</code></pre>
<p>ç³»ç»Ÿå¯åŠ¨åæ‰§è¡Œï¼Œç”¨äºåˆå§‹åŒ–å†…å­˜äººè„¸åº“ï¼Œä¸ºäº†åŠ å¿«è¯†åˆ«é€Ÿåº¦ï¼Œå»ºè®®æ¯æ¬¡å¯åŠ¨æœåŠ¡åï¼Œå°±ç›´æ¥æŠŠæ•°æ®åº“é‡Œçš„äººè„¸æ³¨å†Œä¿¡æ¯æ”¾åˆ°SDKå¼•æ“é‡Œï¼Œå‡å°‘ä¸‹æ¬¡è¯†åˆ«è¯»å–æ•°æ®åº“å¸¦æ¥çš„è€—æ—¶å¢åŠ ã€‚Demoä¸­æä¾›äº†æœ‰ä¸¤ç§æ¨¡å¼ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶çš„<code>register.faceimage.clean</code>è¿›è¡Œåˆ‡æ¢</p>
<p><code>register.faceimage.clean</code>=trueï¼Œæ¯æ¬¡å¯åŠ¨ä¼šæ¸…ç©ºæ•°æ®åº“ï¼Œé‡æ–°åŠ è½½æœ¬åœ°å›¾ç‰‡è¿›è¡Œæ³¨å†Œï¼ŒåŒæ—¶å­˜å‚¨åˆ°æ•°æ®åº“å’ŒSDK</p>
<p><code>register.faceimage.clean</code>=falseï¼Œæ¯æ¬¡å¯åŠ¨ä»æ•°æ®åº“è¯»å–ç‰¹å¾ï¼ŒåŠ è½½åˆ°SDKã€‚Demoä¸ºäº†æµ‹è¯•ï¼Œä¼šåŒæ—¶æŠŠæœ¬åœ°æœ¬æ¬¡æœªæ³¨å†Œçš„å›¾ç‰‡è¿›è¡Œå­˜å‚¨å’Œæ³¨å†Œï¼Œç”Ÿäº§ç¯å¢ƒå¯åªä¿ç•™ä»æ•°æ®åº“è¯»å–åŠ è½½</p>
<h3 data-id="heading-16">4ã€äººè„¸è¯†åˆ«æ–¹å¼</h3>
<p>è¿™é‡Œå†å¦å¤–æä¸€ä¸‹ï¼ŒSDKäººè„¸è¯†åˆ«ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ¡ˆï¼ŒDemoé‡‡ç”¨çš„æ˜¯ç¬¬2ç§æ–¹æ¡ˆï¼Œä¹Ÿå¯æ ¹æ®å®é™…ä¸šåŠ¡ä½¿ç”¨ç¬¬1ç§æ–¹æ¡ˆ</p>
<h4 data-id="heading-17">â‘ ã€ä½¿ç”¨ Map åˆ—è¡¨ + <code>compareFaceFeature</code> æ¥å£</h4>
<ul>
<li><strong>åŸç†</strong>ï¼šå°†æ³¨å†Œçš„äººè„¸ç‰¹å¾å­˜æ”¾åœ¨ Map æˆ–åˆ—è¡¨ä¸­ï¼Œé€šè¿‡ SDK çš„ <code>compareFaceFeature</code> æ¥å£è¿›è¡Œå¾ªç¯æ¯”å¯¹ã€‚</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼šå¯çµæ´»åˆ†ç»„ç®¡ç†äººè„¸åº“ï¼›æ”¯æŒå¤šçº¿ç¨‹å¹¶å‘æ¯”å¯¹ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šå½“äººè„¸åº“é‡å¤§æ—¶ï¼Œé¢‘ç¹è°ƒç”¨æ¯”å¯¹æ¥å£ä¼šå¢åŠ æ€§èƒ½æŸè€—ã€‚</li>
</ul>
<h4 data-id="heading-18">â‘¡ã€ä½¿ç”¨ SDK æä¾›çš„åŸç”Ÿæ¥å£æ³¨å†Œ</h4>
<ul>
<li><strong>åŸç†</strong>ï¼šåˆ©ç”¨<code>registerFaceFeature</code>ã€<code>removeFaceFeature</code>ã€<code>updateFaceFeature</code>ã€<code>searchFaceFeature</code> ç»„åˆæ¥å£ï¼Œå®ç°å¯¹äººè„¸çš„å¢åˆ æ”¹æŸ¥</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼šSDK åŸç”Ÿå®ç°æ¯”å¯¹ï¼Œæ€§èƒ½å¿«ï¼Œèµ„æºæ¶ˆè€—å°‘ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šä¸æ”¯æŒåˆ†ç»„æ¯”å¯¹ï¼›ç³»ç»Ÿé‡å¯åéœ€é‡æ–°æ³¨å†Œç‰¹å¾ï¼›å¤šå¼•æ“å¹¶å‘æ—¶ï¼Œæ¯ä¸ªå¼•æ“çš„äººè„¸åº“éœ€å•ç‹¬ç®¡ç†ï¼Œç»´æŠ¤å¤æ‚ã€‚</li>
</ul>
<p>â€‹	<strong>ä¸ºäº†å®ç°é•¿ä¹…ä¿å­˜å’Œåˆ†å¸ƒå¼å…±äº«ï¼Œäººè„¸ç‰¹å¾éœ€è¿›è¡Œåˆç†å­˜å‚¨</strong></p>
<h3 data-id="heading-19">5ã€äººè„¸å¼•æ“è¯´æ˜ï¼ˆFaceEngineService.javaï¼‰</h3>
<p><code>FaceEngineService</code> æ˜¯äººè„¸SDK çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œè´Ÿè´£ï¼š</p>
<ul>
<li>äººè„¸æ£€æµ‹ã€ç‰¹å¾æå–ã€æ´»ä½“æ£€æµ‹ã€å±æ€§æ£€æµ‹ç­‰</li>
<li>äººå‘˜ä¿¡æ¯çš„æ–°å¢ã€åˆ é™¤ã€ä¿®æ”¹ã€äººè„¸æœç´¢</li>
</ul>
<p>ä¸‹é¢è¯¦ç»†è¯´æ˜å„åŠŸèƒ½æ¨¡å—çš„é€»è¾‘ã€‚</p>
<h4 data-id="heading-20">äººå‘˜æ–°å¢ï¼šregisterFaceFeature2Engine</h4>
<pre><code class="hljs language-java" lang="java"> <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerFaceFeature2Engine</span><span class="hljs-params">(<span class="hljs-type">int</span> searchId, String faceTag, <span class="hljs-type">byte</span>[] faceFeature)</span> {

        <span class="hljs-type">FaceEngineFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> (FaceEngineFactory) faceEngineComparePool.getFactory();

        List&lt;FaceEngine&gt; allObjects = factory.getAllObjects();
        <span class="hljs-type">FaceFeatureInfo</span> <span class="hljs-variable">faceFeatureInfo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FaceFeatureInfo</span>();
        faceFeatureInfo.setSearchId(searchId);
        faceFeatureInfo.setFaceTag(faceTag);
        faceFeatureInfo.setFeatureData(faceFeature);
<span class="hljs-comment">//        log.info("Register:"+ JSON.toJSONString(faceFeatureInfo));</span>
        <span class="hljs-keyword">for</span> (FaceEngine allObject : allObjects) {
            <span class="hljs-type">int</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> allObject.registerFaceFeature(faceFeatureInfo);
        }ã€ã€

    }
</code></pre>
<p><strong>è¿™é‡Œé‡ç‚¹è¯´æ˜ä¸‹ï¼Œå› ä¸ºæˆ‘ä»¬çš„FaceEngineç”¨äº†çº¿ç¨‹æ± ï¼ŒåŒæ—¶åˆå§‹åŒ–äº†å¤šä¸ªå¼•æ“ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å‘SDKæ³¨å†Œäººå‘˜ä¿¡æ¯çš„æ—¶å€™ï¼Œéœ€è¦ç»™æ¯ä¸ªå¼•æ“è¿›è¡Œæ³¨å†Œï¼Œåˆ é™¤åŒç†ã€‚</strong></p>
<h4 data-id="heading-21">äººå‘˜æ–°å¢ï¼šremoveFaceFeature2Engine</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeFaceFeature2Engine</span><span class="hljs-params">(<span class="hljs-type">int</span> searchId)</span> {
        <span class="hljs-type">FaceEngineFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> (FaceEngineFactory) faceEngineComparePool.getFactory();
        List&lt;FaceEngine&gt; allObjects = factory.getAllObjects();
        <span class="hljs-keyword">for</span> (FaceEngine allObject : allObjects) {
            allObject.removeFaceFeature(searchId);
        }
    }
</code></pre>
<p>åˆ é™¤åŒæ³¨å†Œæ¥å£ï¼Œéœ€è¦åŒæ­¥å‘æ‰€æœ‰FaceEngineåº“è¿›è¡Œç§»é™¤æ“ä½œ</p>
<h3 data-id="heading-22">äºŒã€äººè„¸ç‰¹å¾ä¸‰å±‚å­˜å‚¨ä¸åˆ†å¸ƒå¼ç®¡ç†</h3>
<p>ä¸Šé¢å·²ç»ä»‹ç»äº†åŸºæœ¬çš„æ•°æ®åº“æ¥å…¥å’Œä½¿ç”¨ï¼Œé‚£ä¹ˆåœ¨å®é™…äººè„¸è¯†åˆ«åœºæ™¯ä¸‹ï¼Œç³»ç»Ÿçš„æ•°æ®å­˜å‚¨ä¸è¯†åˆ«é€šå¸¸é‡‡ç”¨ä¸‰å±‚è®¾è®¡ï¼š</p>
<ol>
<li><strong>MySQL</strong>ï¼šè´Ÿè´£æŒä¹…åŒ–å­˜å‚¨äººè„¸ç‰¹å¾ä¿¡æ¯ï¼Œå®ç°å¯é çš„é•¿æœŸä¿å­˜ã€‚</li>
<li><strong>Redis</strong>ï¼šç”¨äºå¼‚æ­¥æ›´æ–°ä¸åˆ†å¸ƒå¼ç¼“å­˜ï¼Œå®ç°å¤šæœºå™¨ç¯å¢ƒä¸‹çš„äººè„¸ç‰¹å¾å…±äº«ã€‚</li>
<li><strong>å†…å­˜ï¼ˆConcurrentHashMap / ç‰¹å¾æ± ï¼‰</strong>ï¼šå­˜å‚¨å½“å‰åœ¨çº¿çš„æ´»è·ƒäººè„¸ç‰¹å¾ï¼Œå®ç°æ¯«ç§’çº§è¯†åˆ«ã€‚</li>
</ol>
<p>è¿™ç§è®¾è®¡ä¿è¯äº†ç³»ç»Ÿæ—¢èƒ½æŒä¹…åŒ–å­˜å‚¨ï¼Œåˆèƒ½åœ¨è¯†åˆ«æ—¶è·å¾—æœ€ä½³æ€§èƒ½ã€‚</p>
<p>åœ¨ Spring Boot é¡¹ç›®ä¸­ï¼Œå®ç°äººè„¸ç‰¹å¾çš„ç®¡ç†å¯ä»¥ä»<strong>æ•°æ®åº“å»ºè¡¨ã€æœåŠ¡å±‚åŠ è½½ã€Redisç¼“å­˜ã€ç‰¹å¾æ³¨å†Œä¸æ¯”å¯¹</strong>å‡ ä¸ªæ–¹é¢è¿›è¡Œè¯¦ç»†è®¾è®¡ã€‚</p>
<p>åœ¨å¤šå°è¯†åˆ«æœåŠ¡å™¨éƒ¨ç½²çš„åˆ†å¸ƒå¼ç¯å¢ƒä¸­ï¼Œäººè„¸ç‰¹å¾éœ€è¦åœ¨å„èŠ‚ç‚¹ä¹‹é—´ä¿æŒ<strong>ä¸€è‡´æ€§ã€é«˜å¯ç”¨å’Œé«˜æ€§èƒ½</strong>ã€‚ç»“åˆå†…å­˜ã€Redis å’Œæ•°æ®åº“ä¸‰å±‚å­˜å‚¨ï¼Œè®¾è®¡å‚è€ƒæ–¹æ¡ˆï¼š</p>
<h5 data-id="heading-23">1ã€ å¯åŠ¨åŠ è½½ç­–ç•¥</h5>
<ul>
<li><strong>æµç¨‹</strong>ï¼š
<ol>
<li>æ¯å°è¯†åˆ«æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œå…ˆä» Redis æ‹‰å–æœ€æ–°çš„äººè„¸ç‰¹å¾åˆ°æœ¬åœ°å†…å­˜ç¼“å­˜ã€‚</li>
<li>å¦‚æœ Redis ä¸­æ²¡æœ‰ç‰¹å¾æ•°æ®ï¼ˆå¦‚åˆæ¬¡éƒ¨ç½²ï¼‰ï¼Œåˆ™ä» MySQL æ•°æ®åº“åŠ è½½ã€‚Redis å¯ä½œä¸º <strong>å†…å­˜ç¼“å­˜ + å¼‚æ­¥æ›´æ–°æœºåˆ¶</strong>ï¼Œä¿è¯å„èŠ‚ç‚¹è¯†åˆ«æ•°æ®ä¸€è‡´æ€§</li>
<li>åŠ è½½åï¼Œå†…å­˜ç¼“å­˜å³å¯æ”¯æŒæ¯«ç§’çº§äººè„¸è¯†åˆ«ã€‚</li>
</ol>
</li>
<li><strong>å®ç°ç¤ºä¾‹</strong>ï¼š</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PostConstruct</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">loadFeaturesOnStartup</span><span class="hljs-params">()</span> {
    Set&lt;String&gt; keys = redisTemplate.keys(<span class="hljs-string">"face:*"</span>);
    <span class="hljs-keyword">if</span> (keys != <span class="hljs-literal">null</span> &amp;&amp; !keys.isEmpty()) {
        <span class="hljs-keyword">for</span> (String key : keys) {
            <span class="hljs-type">byte</span>[] featureData =(<span class="hljs-type">byte</span>[]) redisTemplate.opsForValue().get(key);
            <span class="hljs-keyword">if</span> (featureData != <span class="hljs-literal">null</span>) {
                featureMap.put(key.replace(<span class="hljs-string">"face:"</span>, <span class="hljs-string">""</span>), featureData);
            }
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// Redisä¸ºç©ºï¼Œä»æ•°æ®åº“åŠ è½½</span>
        List&lt;FaceFeature&gt; features = repository.findAll();
        <span class="hljs-keyword">for</span> (FaceFeature f : features) {
            featureMap.put(f.getUserId(), f.getFeature());
            redisTemplate.opsForValue().set(<span class="hljs-string">"face:"</span> + f.getUserId(), f.getFeature());
        }
    }
}
</code></pre>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼š
<ul>
<li>é¿å…æ¯æ¬¡è¯†åˆ«éƒ½è®¿é—®æ•°æ®åº“ï¼Œæé«˜æ€§èƒ½ã€‚</li>
<li>å¯åŠ¨å³åŠ è½½æœ€æ–°ç‰¹å¾ï¼Œä¿è¯è¯†åˆ«æ•°æ®å®æ—¶æ€§ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-24">2ã€ ç‰¹å¾æ›´æ–°ä¸åŒæ­¥ç­–ç•¥</h5>
<p>åœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸‹ï¼Œç”¨æˆ·æ–°å¢ã€åˆ é™¤æˆ–æ›´æ–°äººè„¸ç‰¹å¾æ—¶ï¼Œéœ€è¦ä¿è¯æ‰€æœ‰èŠ‚ç‚¹å†…å­˜ä¿æŒä¸€è‡´ï¼š</p>
<ol>
<li>
<p><strong>æ›´æ–°é¡ºåº</strong>ï¼š</p>
<p><strong>å†™å†…å­˜</strong>ï¼šç«‹å³æ›´æ–°æœ¬åœ°å†…å­˜ç¼“å­˜ï¼Œä¿è¯è¯†åˆ«æœåŠ¡å®æ—¶å¯ç”¨ã€‚</p>
<ul>
<li><strong>å†™ Redis</strong>ï¼šåŒæ­¥åˆ° Redisï¼Œä½œä¸ºåˆ†å¸ƒå¼å…±äº«å±‚ã€‚</li>
<li><strong>å†™æ•°æ®åº“</strong>ï¼šå¼‚æ­¥æŒä¹…åŒ–åˆ° MySQLï¼Œä¿è¯é•¿æœŸæ•°æ®å®‰å…¨ã€‚</li>
</ul>
</li>
<li>
<p><strong>åŒæ­¥æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>åˆ©ç”¨ Redis <strong>Pub/Sub</strong> æˆ–æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆKafkaã€RabbitMQï¼‰å¹¿æ’­æ›´æ–°äº‹ä»¶ã€‚</li>
<li>å…¶ä»–èŠ‚ç‚¹æ¥æ”¶åˆ°æ›´æ–°äº‹ä»¶åï¼Œåˆ·æ–°æœ¬åœ°å†…å­˜ç‰¹å¾ç¼“å­˜ã€‚</li>
</ul>
</li>
</ol>
<ul>
<li><strong>ç¤ºä¾‹é€»è¾‘</strong>ï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">updateFeature</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> userId, byte[] feature</span>) {
    <span class="hljs-comment">// æ›´æ–°æœ¬åœ°å†…å­˜</span>
    featureMap.<span class="hljs-title function_">put</span>(userId, feature);
    <span class="hljs-comment">// æ›´æ–° Redis</span>
    redisTemplate.<span class="hljs-title function_">opsForValue</span>().<span class="hljs-title function_">set</span>(<span class="hljs-string">"face:"</span> + userId, feature);
    <span class="hljs-comment">// å‘å¸ƒæ›´æ–°äº‹ä»¶é€šçŸ¥å…¶ä»–èŠ‚ç‚¹</span>
    redisTemplate.<span class="hljs-title function_">convertAndSend</span>(<span class="hljs-string">"face:update"</span>, userId);
    <span class="hljs-comment">// å¼‚æ­¥æ›´æ–°æ•°æ®åº“</span>
    <span class="hljs-title function_">asyncUpdateDatabase</span>(userId, feature);
}

<span class="hljs-comment">// è®¢é˜…äº‹ä»¶åˆ·æ–°å†…å­˜</span>
<span class="hljs-meta">@EventListener</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">handleRedisUpdateEvent</span>(<span class="hljs-params">Message message</span>) {
    <span class="hljs-title class_">String</span> userId = (<span class="hljs-title class_">String</span>) message.<span class="hljs-title function_">getBody</span>();
    <span class="hljs-title class_">String</span> feature = redisTemplate.<span class="hljs-title function_">opsForValue</span>().<span class="hljs-title function_">get</span>(<span class="hljs-string">"face:"</span> + userId);
    <span class="hljs-keyword">if</span> (feature != <span class="hljs-literal">null</span>) {
        featureMap.<span class="hljs-title function_">put</span>(userId, feature);
    }
}
</code></pre>
<p>é€šè¿‡åˆç†çš„å­˜å‚¨æ¶æ„å’Œå†…å­˜ä¼˜åŒ–ï¼ŒSpring Boot é¡¹ç›®çš„äººè„¸è¯†åˆ«ç³»ç»Ÿå¯ä»¥åœ¨ä¿è¯é«˜æ€§èƒ½çš„åŒæ—¶ï¼Œå®ç°å¯æ‰©å±•ã€åˆ†å¸ƒå¼çš„äººè„¸ç®¡ç†åŠŸèƒ½ï¼Œä¸ºæ™ºèƒ½é—¨ç¦ã€è€ƒå‹¤å’Œè®¿å®¢ç³»ç»Ÿæä¾›ç¨³å®šæ”¯æ’‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ’¬ ä»çŒœæƒ³åˆ°æ¶æ„ï¼šAI èŠå¤©åŒºåŸŸçš„ Web è®¾è®¡ä¹‹é“]]></title>    <link>https://juejin.cn/post/7582067084841238582</link>    <guid>https://juejin.cn/post/7582067084841238582</guid>    <pubDate>2025-12-11T02:11:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582067084841238582" data-draft-id="7582090790182535206" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ’¬ ä»çŒœæƒ³åˆ°æ¶æ„ï¼šAI èŠå¤©åŒºåŸŸçš„ Web è®¾è®¡ä¹‹é“"/> <meta itemprop="keywords" content="å‰ç«¯,å‰ç«¯æ¡†æ¶,AIGC"/> <meta itemprop="datePublished" content="2025-12-11T02:11:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ’¬ ä»çŒœæƒ³åˆ°æ¶æ„ï¼šAI èŠå¤©åŒºåŸŸçš„ Web è®¾è®¡ä¹‹é“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T02:11:06.000Z" title="Thu Dec 11 2025 02:11:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€çŒœæƒ³çš„èµ·ç‚¹ï¼šå½“ç½‘é¡µå¼€å£è¯´è¯ ğŸ¤–ğŸ’­</h2>
<p>æŸå¤©äº§å“ç»ç†ï¼ˆæˆ–è€…ä½ è‡ªå·±ï¼‰çµå…‰ä¸€é—ªï¼š</p>
<blockquote>
<p>â€œèƒ½ä¸èƒ½åœ¨æˆ‘ä»¬çš„ç½‘ç«™ä¸ŠåŠ ä¸ª AI èŠå¤©åŒºï¼Ÿè®©ç”¨æˆ·å¯ä»¥å’Œ AI å¯¹è¯ã€‚â€</p>
</blockquote>
<p>äºæ˜¯å‰ç«¯å¼€å‘è€…çœ¯èµ·çœ¼è„‘è¡¥ä¸€å †éœ€æ±‚ï¼š</p>
<ul>
<li>èŠå¤©æ¶ˆæ¯è¦æ»šåŠ¨ï¼Œè¦èƒ½å®æ—¶æµåŠ¨ ğŸ’¨</li>
<li>ç”¨æˆ·è¾“å…¥æ¡†è¦å…‰æ»‘ã€å“åº”å¿« âœ¨</li>
<li>AI å›å¤ä¸èƒ½å¡é¡¿ï¼Œè¦åƒæ‰“å­—æœºä¸€æ ·â€œå“’å“’â€å‡ºæ¥ ğŸ¹</li>
<li>æœ€å¥½èƒ½æ¥ä¸Šä¸‹æ–‡ã€æ¢æ¨¡å‹ã€ç”šè‡³æ”¯æŒå›¾ç‰‡ ğŸ–¼ï¸</li>
</ul>
<p>å¬èµ·æ¥åƒä¸ªå°åŠŸèƒ½ï¼Œå®åˆ™èƒŒåæ˜¯ä¸€åœº<strong>ç³»ç»Ÿæ€§å·¥ç¨‹çš„â€œå»ºç­‘å“²å­¦â€</strong> ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ç¬¬ä¸€é˜¶æ®µï¼šä»å¹»æƒ³åˆ°è‰å›¾ âœï¸</h2>
<p>åœ¨è®¾è®¡å‰ï¼Œ<strong>æ¶æ„å¸ˆçš„æ€è€ƒä¸æ˜¯â€œæ€ä¹ˆå†™ä»£ç â€ï¼Œè€Œæ˜¯â€œæ€ä¹ˆåˆ†å±‚æ€è€ƒâ€</strong> ã€‚</p>
<h3 data-id="heading-2">ğŸ§© åŸºæœ¬æ¨¡å—çŒœæƒ³</h3>



































<table><thead><tr><th>æ¨¡å—</th><th>èŒè´£</th><th>æŠ€æœ¯æ”¯æ’‘</th></tr></thead><tbody><tr><td>UI æ¸²æŸ“åŒº</td><td>èŠå¤©æ¶ˆæ¯æ˜¾ç¤º</td><td>React / Vue / Svelte</td></tr><tr><td>çŠ¶æ€ç®¡ç†</td><td>èŠå¤©é€»è¾‘ã€ä¸Šä¸‹æ–‡ç¼“å­˜</td><td>Zustand / Redux / Signals</td></tr><tr><td>æ¶ˆæ¯é€šé“</td><td>è¿æ¥åç«¯æ¨¡å‹æµ</td><td>WebSocket / Server-Sent Events</td></tr><tr><td>æ¨¡å‹æ¥å…¥å±‚</td><td>OpenAI API / æœ¬åœ°æ¨ç†</td><td>Node.js / Python FastAPI</td></tr><tr><td>æ•°æ®å±‚</td><td>ä¼šè¯æŒä¹…åŒ– / ç”¨æˆ·ä¿¡æ¯</td><td>IndexedDB / Redis / PostgreSQL</td></tr></tbody></table>
<blockquote>
<p>âš™ï¸ æ¯ä¸ªæ¨¡å—éƒ½ä¸æ˜¯å­¤å²›ï¼Œè€Œæ˜¯æ•°æ®æµä¸­çš„ä¸€ç¯ã€‚<br/>
è®¾è®¡çš„ç§˜è¯€ï¼Œå°±æ˜¯<strong>è®©å¤æ‚çš„è¡Œä¸ºç»“æ„åŒ–</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€åº•å±‚ç»“æ„ï¼šä»æ•°æ®æµè¯´èµ· ğŸŒŠ</h2>
<p>AIèŠå¤©çš„äº¤äº’ï¼Œæœ¬è´¨æ˜¯<strong>åŒå‘å¼‚æ­¥æ•°æ®æµ</strong>ï¼š</p>
<ol>
<li>ç”¨æˆ· â†’ å‰ç«¯å‘é€è¾“å…¥</li>
<li>å‰ç«¯ â†’ åç«¯å‘èµ·æ¶ˆæ¯è¯·æ±‚</li>
<li>åç«¯ â†’ æ¨¡å‹æ¨ç†ç”Ÿæˆæ–‡æœ¬æµ</li>
<li>æ¨¡å‹è¾“å‡ºç»“æœ â†’ å‰ç«¯é€å­—æ¸²æŸ“</li>
</ol>
<p>ğŸ‘‰ è¿™æ„å‘³ç€ï¼Œä¸€ä¸ªä¼˜ç§€çš„èŠå¤©åŒºåŸŸä¸æ˜¯â€œä¸€æ¬¡è¯·æ±‚ä¸€æ¬¡å“åº”â€ï¼Œ<br/>
è€Œæ˜¯ä¸€ä¸ª<strong>å®æ—¶æµå¼äº¤äº’å¼•æ“</strong>ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// æ ¸å¿ƒä¼ªä»£ç ï¼šæµå¼æ¥æ”¶AIå›å¤
const <span class="hljs-attr">eventSource</span> = new EventSource(&amp;<span class="hljs-comment">#34;/api/chat-stream&amp;#34;);</span>

<span class="hljs-attr">eventSource.onmessage</span> = (msg) =&gt; {
  const <span class="hljs-attr">chunk</span> = JSON.parse(msg.data)<span class="hljs-comment">;</span>
  renderToChatWindow(chunk.text)<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

sendUserMessage(&amp;<span class="hljs-comment">#34;ä½ å¥½ï¼ŒAIï¼&amp;#34;);</span>
</code></pre>
<blockquote>
<p>ğŸ’¡ è¿™æ®µé€»è¾‘çš„çµé­‚å…¶å®æ˜¯ï¼š<strong>è¾¹è®¡ç®—ã€è¾¹ä¼ è¾“ã€è¾¹æ¸²æŸ“</strong>ï¼Œ<br/>
è®©ç”¨æˆ·â€œæ„Ÿè§‰ä¸åˆ°å»¶è¿Ÿâ€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">å››ã€ä»UIåˆ°ä½“éªŒï¼šç•Œé¢ä¸æ˜¯è£…é¥°ï¼Œè€Œæ˜¯æƒ…ç»ªè°ƒèŠ‚å™¨ ğŸ¨</h2>
<p>ä¸€ä¸ªèŠå¤©åŒºåŸŸä¸åªæ˜¯ä»£ç å—ï¼Œå®ƒæ˜¯ç”¨æˆ·å¿ƒç†çš„é•œå­ã€‚</p>
<h3 data-id="heading-5">ğŸ¯ è®¾è®¡å‡†åˆ™ï¼š</h3>
<ul>
<li><strong>æµåŠ¨æ„Ÿ (Flowing)</strong> ï¼šAI å›å¤åº”é€å­—å‘ˆç°ï¼Œè€Œéâ€œå•ªâ€åœ°ä¸€æ•´æ®µæ–‡å­—ã€‚</li>
<li><strong>è¿ç»­æ„Ÿ (Continuity)</strong> ï¼šä¸Šä¸‹æ–‡æ°”æ³¡é—´åº”è½»å¾®åŠ¨ç”»è¡”æ¥ï¼Œæ¨¡æ‹Ÿè‡ªç„¶å¯¹è¯ã€‚</li>
<li><strong>åé¦ˆæ„Ÿ (Feedback)</strong> ï¼šç”¨æˆ·å‘é€æ¶ˆæ¯åçš„â€œæ€è€ƒä¸­â€¦â€çŠ¶æ€èƒ½æ˜¾è‘—æå‡ä¿¡ä»»æ„Ÿã€‚</li>
<li><strong>å‘¼å¸æ„Ÿ (Breathing)</strong> ï¼šä½¿ç”¨é—´è·ã€ç•™ç™½å‡å°‘è§†è§‰å™ªéŸ³ï¼Œè®©AIçœ‹èµ·æ¥â€œæ¸©å’Œâ€ã€‚</li>
</ul>
<h3 data-id="heading-6">ğŸ§  å°æ®µUIç¤ºä¾‹</h3>
<pre><code class="hljs language-ini" lang="ini">&lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"chat"</span>&gt;
  &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"message user"</span>&gt;ä½ å¥½ï¼ŒAIï¼&lt;/div&gt;
  &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"message ai"</span>&gt;ä½ å¥½ï¼Œæˆ‘æ˜¯ä½ çš„AIåŠ©æ‰‹ã€‚&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.chat</span> {
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">600px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Inter'</span>, sans-serif;
}
<span class="hljs-selector-class">.message</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">14px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">8px</span>;
}
<span class="hljs-selector-class">.message</span><span class="hljs-selector-class">.user</span> {
  <span class="hljs-attribute">text-align</span>: right;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#007bff</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
}
<span class="hljs-selector-class">.message</span><span class="hljs-selector-class">.ai</span> {
  <span class="hljs-attribute">text-align</span>: left;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f1f3f4</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">animation</span>: typing <span class="hljs-number">0.05s</span> linear;
}
</code></pre>
<blockquote>
<p>âœ¨ UI ä¸æ˜¯ç¾å·¥é—®é¢˜ï¼Œæ˜¯å¿ƒç†å­¦â€”ç”¨æˆ·ä¿¡ä»»æ„Ÿæ˜¯ä¸€ç§äº¤äº’åè®®ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">äº”ã€ç¬¬äºŒé˜¶æ®µï¼šä»å‰ç«¯åˆ°ä¸­å° ğŸ§°</h2>
<p>AI èŠå¤©æœ¬èº«å¹¶ä¸å¤æ‚ï¼Œå¤æ‚çš„æ˜¯<strong>å¦‚ä½•ç®¡ç†å¤šæ¨¡å‹ã€å¤šå¯¹è¯ã€å¤šç”¨æˆ·</strong>ã€‚</p>
<h3 data-id="heading-8">ğŸ—ï¸ æ¶æ„æ¼”åŒ–å›¾ï¼ˆé€»è¾‘å±‚æ¬¡ï¼‰</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-attr">[ ç”¨æˆ·æµè§ˆå™¨ ]</span>
      â”‚
      â–¼
<span class="hljs-selector-attr">[ å‰ç«¯ç•Œé¢ï¼ˆReact/JSï¼‰ ]</span>
      â”‚
  WebSocket / HTTPS
      â”‚
      â–¼
<span class="hljs-selector-attr">[ Node.js ä¸­å°ç½‘å…³ ]</span>
      â”‚
   â”œâ”€â”€ ConversationManager
   â”œâ”€â”€ StreamController
   â””â”€â”€ RateLimiter
      â”‚
      â–¼
<span class="hljs-selector-attr">[ æ¨¡å‹æœåŠ¡å±‚ ]</span>
   â”œâ”€â”€ OpenAI Adapter
   â”œâ”€â”€ LocalLLM Runner
   â””â”€â”€ Hybrid Model Router
      â–¼
   <span class="hljs-selector-attr">[ æ•°æ®å­˜å‚¨å±‚ ]</span>
   â”œâ”€â”€ Chat History (PostgreSQL)
   â”œâ”€â”€ User Meta (Redis)
   â””â”€â”€ Prompt Templates
</code></pre>
<blockquote>
<p>æ¯ä¸ªæ¨¡å—éƒ½èƒ½ç‹¬ç«‹æ¼”åŒ–ã€‚<br/>
æ¨¡å‹å±‚å¯ä»¥æ›¿æ¢ï¼›å‰ç«¯å¯ä»¥å‡çº§æ¡†æ¶ï¼›ä¸­é—´å±‚è´Ÿè´£â€œåè®®å¹³è¡¡â€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-9">å…­ã€ç¬¬ä¸‰é˜¶æ®µï¼šåº•å±‚æœºåˆ¶ä¼˜åŒ– ğŸ’¾</h2>
<h3 data-id="heading-10">âš™ï¸ å¼‚æ­¥é˜Ÿåˆ—ç®¡ç†</h3>
<p>ç”±äº AI å›å¤æ˜¯æµå¼æ•°æ®ï¼Œå»ºè®®å»ºç«‹ä¸€ä¸ª<strong>æ¶ˆæ¯çŠ¶æ€æœº</strong>ï¼š</p>
<ul>
<li>å¾…å‘é€</li>
<li>å·²å‘é€</li>
<li>ç­‰å¾…å›å¤</li>
<li>æµå¼æ¥æ”¶ä¸­</li>
<li>å®Œæˆ</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MessageQueue</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span> = [];
  }
  <span class="hljs-title function_">add</span>(<span class="hljs-params">msg</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">push</span>({ ...msg, <span class="hljs-attr">status</span>: <span class="hljs-string">'pending'</span> });
  }
  <span class="hljs-title function_">update</span>(<span class="hljs-params">id, patch</span>) {
    <span class="hljs-keyword">const</span> m = <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">m</span> =&gt;</span> m.<span class="hljs-property">id</span> === id);
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(m, patch);
  }
}
</code></pre>
<p>è¿™è®©â€œè¾“å…¥ä¸è¾“å‡ºâ€åœ¨é€»è¾‘ä¸Šæ¸è¿›ä¸€è‡´ï¼Œä¹Ÿæ–¹ä¾¿æ‰©å±•å¤šè½®ä¸Šä¸‹æ–‡è¿½è¸ªã€‚</p>
<hr/>
<h2 data-id="heading-11">ä¸ƒã€äº‰è®®è¯é¢˜ï¼šAI èŠå¤©çš„â€œäººæ ¼â€è¾¹ç•Œ ğŸ§¬</h2>
<p>å½“è®¾è®¡è€…å¼€å§‹ç»™AIèŠå¤©åŒºè®¾è®¡<strong>å£°éŸ³ã€åå­—ã€è¡¨æƒ…</strong>æ—¶ï¼Œ<br/>
æˆ‘ä»¬å·²ç»åœ¨è·¨è¶Šä¼¦ç†å’Œä½“éªŒçš„ç•Œé™ã€‚</p>
<blockquote>
<ul>
<li>ç”¨æˆ·å¸Œæœ›AIâ€œæ›´æ‡‚è‡ªå·±â€ï¼›</li>
<li>å¼€å‘è€…å¸Œæœ›AIâ€œæ›´å¯æ§â€ã€‚</li>
</ul>
</blockquote>
<p>è¿™å°±åƒåœ¨è®¾è®¡ä¸€ä¸ªåŒæ—¶å±äºäººç±»ä¸ç®—æ³•çš„â€œæ–°ç‰©ç§æ¥å£â€ã€‚<br/>
åˆ«å¿˜äº†ï¼šå¯¹è¯è¶Šè‡ªç„¶ï¼Œè¶Šéœ€è¦åœ¨ç»“æ„ä¸Šä¿æŒ<strong>é€æ˜ä¸å¯è§£é‡Šæ€§</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-12">å…«ã€ç»“è¯­ï¼šä»å‰ç«¯åˆ°å“²å­¦ ğŸŒŒ</h2>
<p>ä»çŒœæƒ³åˆ°æ¶æ„çš„æ•´ä¸ªæ—…ç¨‹ï¼Œå…¶å®æ˜¯ä¸€ç§å·¥ç¨‹å¸ˆå¼çš„æµªæ¼«ã€‚<br/>
æˆ‘ä»¬ç”¨ä»£ç æ¨¡æ‹Ÿç†è§£ã€ç”¨ç»“æ„æ‰¿è½½æ€è€ƒã€‚</p>
<blockquote>
<p>â€œAI èŠå¤©æ¡†æ˜¯ä¿¡æ¯ç¤¾ä¼šçš„é•œå­ï¼Œ<br/>
æˆ‘ä»¬ä¸åªæ˜¯æ•™æœºå™¨è¯´è¯ï¼Œ<br/>
â€”â€” ä¹Ÿåœ¨é‡æ–°å­¦ä¹ å¦‚ä½•å€¾å¬ã€‚â€ ğŸ§</p>
</blockquote>
<hr/>
<h2 data-id="heading-13">ğŸ§¾ æ•™å­¦æ€»ç»“</h2>









































<table><thead><tr><th>é˜¶æ®µ</th><th>æ ¸å¿ƒä»»åŠ¡</th><th>éš¾ç‚¹</th><th>å…³é”®æŠ€æœ¯</th></tr></thead><tbody><tr><td>çŒœæƒ³</td><td>å®šä¹‰ä½“éªŒä¸åŠŸèƒ½è¾¹ç•Œ</td><td>æ¨¡ç³Šç›®æ ‡</td><td>ç”¨æˆ·å¿ƒç†æ¨¡å‹åˆ†æ</td></tr><tr><td>è‰å›¾</td><td>æ‹†åˆ†æ¨¡å—å±‚æ¬¡</td><td>èŒè´£ä¸æ¸…</td><td>ä¿¡æ¯æ¶æ„è®¾è®¡</td></tr><tr><td>æ¶æ„</td><td>ç¡®å®šæ ¸å¿ƒé€»è¾‘</td><td>å¼‚æ­¥äº¤äº’æµ</td><td>WebSocket / SSE</td></tr><tr><td>ä¼˜åŒ–</td><td>æ€§èƒ½ &amp; çŠ¶æ€ä¸€è‡´æ€§</td><td>æ—¶åºæ··ä¹±</td><td>çŠ¶æ€æœºè®¾è®¡</td></tr><tr><td>å“²å­¦</td><td>ä½“éªŒä¸ä¼¦ç†å¹³è¡¡</td><td>æ‹Ÿäººè¿‡åº¦</td><td>å¯è§£é‡Šæ€§ã€å®¡ç¾åŒ–è®¾è®¡</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Viteå¼€å‘ç¯å¢ƒæŒ‰éœ€ç¼–è¯‘æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582169248094978054</link>    <guid>https://juejin.cn/post/7582169248094978054</guid>    <pubDate>2025-12-11T06:55:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582169248094978054" data-draft-id="7582169248094945286" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Viteå¼€å‘ç¯å¢ƒæŒ‰éœ€ç¼–è¯‘æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vite"/> <meta itemprop="datePublished" content="2025-12-11T06:55:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sorryhc"/> <meta itemprop="url" content="https://juejin.cn/user/3061476130044487"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Viteå¼€å‘ç¯å¢ƒæŒ‰éœ€ç¼–è¯‘æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3061476130044487/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sorryhc
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T06:55:02.000Z" title="Thu Dec 11 2025 06:55:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p><code>Vite</code>çš„å¿«ï¼Œæˆ‘ä»¬å¹¶ä¸é™Œç”Ÿï¼Œä¸»è¦ä½“ç°åœ¨å¼€å‘ç¯å¢ƒæ—¶çš„ä½“éªŒã€‚</p>
<p>è€Œç›¸è¾ƒäºå…¶ä»–æ„å»ºå·¥å…·ï¼Œ<code>Vite</code>æ ¸å¿ƒæ˜¯ä¾é äº†ç°ä»£æµè§ˆå™¨å¯¹äºåŸç”Ÿ<code>esm</code>æ¨¡å—çš„æ”¯æŒ+æŒ‰éœ€å®æ—¶ç¼–è¯‘å°†æ€§èƒ½è¾¾åˆ°äº†æè‡´ã€‚</p>
<p>æˆ‘ä»¬åŸºäºæºç æ¥çœ‹çœ‹<code>esbuild</code>ç¼–è¯‘çš„å®Œæ•´è¿‡ç¨‹ã€‚</p>
<h2 data-id="heading-1">æ ¸å¿ƒæµç¨‹å›¾</h2>
<pre><code class="hljs language-bash" lang="bash">Browser Request
    â†“
Vite DevServer (Connect ä¸­é—´ä»¶)
    â†“
è¯·æ±‚è·¯ç”±åˆ¤æ–­
    â”œâ”€ /.vite/client â†’ æ³¨å…¥å®¢æˆ·ç«¯ä»£ç 
    â”œâ”€ /@modules/* â†’ node_modules å¯¼å…¥
    â”œâ”€ /src/* â†’ æºä»£ç æ–‡ä»¶
    â””â”€ *.json, *.css ç­‰ â†’ ç‰¹æ®Šå¤„ç†
    â†“
ModuleGraph ç¼“å­˜æ£€æŸ¥
    â”œâ”€ å‘½ä¸­ç¼“å­˜ â†’ è¿”å›
    â””â”€ æœªå‘½ä¸­ â†’ esbuild ç¼–è¯‘
    â†“
TransformPlugin æµç¨‹
    â”œâ”€ pre plugins
    â”œâ”€ esbuild transform
    â””â”€ post plugins
    â†“
å‘é€ç»™æµè§ˆå™¨ (ES Modules)
</code></pre>
<h3 data-id="heading-2">DevServerå…¥å£ä»£ç </h3>
<p>è¿™é‡Œåˆå§‹åŒ–äº†å¼€å‘æœåŠ¡å™¨ã€æ¨¡å—å›¾ï¼ˆç¼“å­˜ç³»ç»Ÿï¼‰ã€å¾ˆå¤šä¸­é—´ä»¶ï¼ˆç”¨äºæ‹¦æˆªå®æ—¶ç¼–è¯‘ï¼‰ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// packages/vite/src/node/server/index.ts</span>

<span class="hljs-keyword">import</span> connect <span class="hljs-keyword">from</span> <span class="hljs-string">'connect'</span>
<span class="hljs-keyword">import</span> { createPluginContainer } <span class="hljs-keyword">from</span> <span class="hljs-string">'./pluginContainer'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createServer</span>(<span class="hljs-params">inlineConfig: InlineConfig = {}</span>) {
  <span class="hljs-keyword">const</span> config = <span class="hljs-keyword">await</span> <span class="hljs-title function_">resolveConfig</span>(inlineConfig, <span class="hljs-string">'serve'</span>)
  
  <span class="hljs-comment">// åˆ›å»º Express-like åº”ç”¨</span>
  <span class="hljs-keyword">const</span> middlewares = <span class="hljs-title function_">connect</span>()
  <span class="hljs-keyword">const</span> httpServer = <span class="hljs-title function_">createHttpServer</span>(middlewares)
  
  <span class="hljs-comment">// åˆ›å»ºæ¨¡å—å›¾ï¼ˆç¼“å­˜ç³»ç»Ÿï¼‰</span>
  <span class="hljs-keyword">const</span> moduleGraph = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ModuleGraph</span>(<span class="hljs-function">(<span class="hljs-params">url</span>) =&gt;</span>
    pluginContainer.<span class="hljs-title function_">resolveId</span>(url)
  )
  
  <span class="hljs-comment">// åˆ›å»ºæ’ä»¶å®¹å™¨ï¼ˆæ‰§è¡Œæ’ä»¶ï¼‰</span>
  <span class="hljs-keyword">const</span> pluginContainer = <span class="hljs-keyword">await</span> <span class="hljs-title function_">createPluginContainer</span>(config)
  
  <span class="hljs-comment">// æ ¸å¿ƒä¸­é—´ä»¶ä»¬</span>
  middlewares.<span class="hljs-title function_">use</span>(timeMiddleware)
  middlewares.<span class="hljs-title function_">use</span>(cors)
  middlewares.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">transformMiddleware</span>(server))  <span class="hljs-comment">// â­ é‡ç‚¹</span>
  middlewares.<span class="hljs-title function_">use</span>(servePublicDir)
  middlewares.<span class="hljs-title function_">use</span>(serveRawFs)
  
  <span class="hljs-keyword">const</span> server = {
    middlewares,
    httpServer,
    moduleGraph,
    pluginContainer,
    <span class="hljs-attr">ws</span>: <span class="hljs-title function_">createWebSocketServer</span>(httpServer),
    <span class="hljs-comment">// ... å…¶ä»–å±æ€§</span>
  }
  
  <span class="hljs-keyword">return</span> server
}
</code></pre>
<h3 data-id="heading-3">Transformä¸­é—´ä»¶ï¼ˆè¯·æ±‚æ‹¦æˆªï¼‰</h3>
<p>è¿™é‡Œæ˜¯ä¸€ä¸ªå¾ˆç»å…¸çš„ä¾‹å­ï¼Œä»æµè§ˆå™¨å‘èµ·ç¬¬ä¸€æ¬¡<code>main.ts</code>è¯·æ±‚å¼€å§‹ï¼Œ<code>Vite</code>åšäº†<code>ts</code>æ–‡ä»¶çš„è½¬æ¢ã€‚</p>
<p>è€Œåç»­çš„è¯·æ±‚ä¼šä»<code>main.ts</code>ä¸­å‘èµ·ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// packages/vite/src/node/server/middlewares/transform.ts</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">transformMiddleware</span>(<span class="hljs-params">server: ViteDevServer</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">async</span> (<span class="hljs-attr">req</span>: <span class="hljs-title class_">IncomingMessage</span>, <span class="hljs-attr">res</span>: <span class="hljs-title class_">ServerResponse</span>, <span class="hljs-attr">next</span>: <span class="hljs-title class_">NextFunction</span>) =&gt; {
    <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> !== <span class="hljs-string">'GET'</span> || <span class="hljs-title function_">isSkipped</span>(req.<span class="hljs-property">url</span>)) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">next</span>()
    }

    <span class="hljs-keyword">let</span> url = req.<span class="hljs-property">url</span>
    <span class="hljs-keyword">const</span> { pathname, search, hash } = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(url, <span class="hljs-string">`http://<span class="hljs-subst">${req.headers.host}</span>`</span>)
    
    <span class="hljs-comment">// ç¤ºä¾‹ï¼š/src/main.ts?t=123 â†’ /src/main.ts</span>
    url = pathname + search + hash

    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// â­ æ ¸å¿ƒï¼šè°ƒç”¨åŠ è½½å’Œè½¬æ¢</span>
      <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">transformRequest</span>(url, server, {
        <span class="hljs-attr">raw</span>: req.<span class="hljs-property">headers</span>[<span class="hljs-string">'accept'</span>]?.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'application/octet-stream'</span>),
      })

      <span class="hljs-keyword">if</span> (result) {
        <span class="hljs-keyword">const</span> <span class="hljs-keyword">type</span> = <span class="hljs-title function_">isDirectCSSRequest</span>(url) ? <span class="hljs-string">'text/css'</span> : <span class="hljs-string">'application/javascript'</span>
        res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-keyword">type</span>)
        res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Cache-Control'</span>, <span class="hljs-string">'no-cache'</span>)
        res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'ETag'</span>, <span class="hljs-title function_">getEtag</span>(result.<span class="hljs-property">code</span>))
        
        <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">end</span>(result.<span class="hljs-property">code</span>)
      }
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-comment">// é”™è¯¯å¤„ç†</span>
      <span class="hljs-keyword">if</span> (e.<span class="hljs-property">code</span> === <span class="hljs-string">'ENOENT'</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">next</span>()
      }
      <span class="hljs-comment">// HMR é”™è¯¯é€šçŸ¥æµè§ˆå™¨</span>
      server.<span class="hljs-property">ws</span>.<span class="hljs-title function_">send</span>({
        <span class="hljs-attr">type</span>: <span class="hljs-string">'error'</span>,
        <span class="hljs-attr">event</span>: <span class="hljs-string">'vite:error'</span>,
        <span class="hljs-attr">err</span>: e,
      })
    }

    <span class="hljs-title function_">next</span>()
  }
}

</code></pre>
<h3 data-id="heading-4">è¯·æ±‚è½¬æ¢æ ¸å¿ƒé€»è¾‘</h3>
<p>è¿™é‡Œæ˜¯æ ¸å¿ƒçš„æºç è½¬æ¢é€»è¾‘ï¼ŒåŸºäºæºç ä¼˜å…ˆä»æ¨¡å—ç¼“å­˜è¡¨ä¸­å–ï¼Œå¦‚æœæ²¡æœ‰æ‰èµ°è¯¥æ¨¡å—çš„é¦–æ¬¡è½¬æ¢ï¼Œæœ€åä¼šè½åˆ°ç¼“å­˜ä¸­ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// packages/vite/src/node/server/transformRequest.ts</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">transformRequest</span>(<span class="hljs-params">
  url: <span class="hljs-built_in">string</span>,
  server: ViteDevServer,
  options?: TransformOptions,
</span>) {
  <span class="hljs-comment">// 1ï¸âƒ£ è·å–æ–‡ä»¶å†…å®¹ + å…ƒæ•°æ®</span>
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">code</span>: raw, map } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">loadRawRequest</span>(url, server)
  
  <span class="hljs-keyword">let</span> code = raw
  <span class="hljs-keyword">const</span> inMap = map

  <span class="hljs-comment">// 2ï¸âƒ£ æ£€æŸ¥ç¼“å­˜</span>
  <span class="hljs-keyword">const</span> cached = server.<span class="hljs-property">moduleGraph</span>.<span class="hljs-title function_">getModuleByUrl</span>(url)
  <span class="hljs-keyword">if</span> (!server.<span class="hljs-property">config</span>.<span class="hljs-property">command</span> === <span class="hljs-string">'serve'</span> &amp;&amp; cached?.<span class="hljs-property">transformedCode</span>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">code</span>: cached.<span class="hljs-property">transformedCode</span>,
      <span class="hljs-attr">map</span>: cached.<span class="hljs-property">map</span>,
    }
  }

  <span class="hljs-comment">// 3ï¸âƒ£ æ‰§è¡Œæ’ä»¶è½¬æ¢</span>
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> pluginContainer.<span class="hljs-title function_">transform</span>(code, url)
  <span class="hljs-keyword">if</span> (result) {
    code = result.<span class="hljs-property">code</span>
  }

  <span class="hljs-comment">// 4ï¸âƒ£ ç‰¹æ®Šå¤„ç†ï¼šè‡ªåŠ¨å¯¼å…¥æ³¨å…¥</span>
  <span class="hljs-keyword">if</span> (!options?.<span class="hljs-property">raw</span>) {
    code = <span class="hljs-title function_">injectHelper</span>(code, url)
  }

  <span class="hljs-comment">// 5ï¸âƒ£ ç¼“å­˜ç»“æœ</span>
  server.<span class="hljs-property">moduleGraph</span>.<span class="hljs-title function_">updateModuleInfo</span>(url, {
    <span class="hljs-attr">transformedCode</span>: code,
    <span class="hljs-attr">map</span>: result?.<span class="hljs-property">map</span>,
  })

  <span class="hljs-keyword">return</span> { code, <span class="hljs-attr">map</span>: result?.<span class="hljs-property">map</span> }
}

</code></pre>
<h3 data-id="heading-5">åŠ è½½åŸå§‹è¯·æ±‚ï¼ˆç£ç›˜è¯»å†™ï¼‰</h3>
<p>è€ŒåŠ è½½å’Œç¼–è¯‘æºç åˆ™æ˜¯ç›´æ¥é€šè¿‡<code>esbuild</code>èƒ½åŠ›æ¥å®ç°ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// packages/vite/src/node/server/transformRequest.ts</span>

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loadRawRequest</span>(<span class="hljs-params">url: <span class="hljs-built_in">string</span>, server: ViteDevServer</span>) {
  <span class="hljs-keyword">let</span> id = <span class="hljs-built_in">decodeURIComponent</span>(<span class="hljs-title function_">parseUrl</span>(url).<span class="hljs-property">pathname</span>)
  
  <span class="hljs-comment">// â­ è°ƒç”¨æ’ä»¶çš„ resolveId hook</span>
  <span class="hljs-keyword">const</span> resolveResult = <span class="hljs-keyword">await</span> server.<span class="hljs-property">pluginContainer</span>.<span class="hljs-title function_">resolveId</span>(id)
  
  <span class="hljs-keyword">if</span> (resolveResult?.<span class="hljs-property">id</span>) {
    id = resolveResult.<span class="hljs-property">id</span>
  }

  <span class="hljs-comment">// ä»æ–‡ä»¶ç³»ç»Ÿè¯»å–</span>
  <span class="hljs-keyword">let</span> code = <span class="hljs-keyword">await</span> fs.<span class="hljs-property">promises</span>.<span class="hljs-title function_">readFile</span>(id, <span class="hljs-string">'utf-8'</span>)
  <span class="hljs-keyword">let</span> <span class="hljs-attr">map</span>: <span class="hljs-title class_">SourceMap</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>

  <span class="hljs-comment">// å¦‚æœæ˜¯ TypeScriptï¼Œç”¨ esbuild è½¬è¯‘</span>
  <span class="hljs-keyword">if</span> (id.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.ts'</span>) || id.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.tsx'</span>)) {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> esbuildService.<span class="hljs-title function_">transform</span>(code, {
      <span class="hljs-attr">loader</span>: <span class="hljs-string">'ts'</span>,
      <span class="hljs-attr">target</span>: <span class="hljs-string">'esnext'</span>,
      <span class="hljs-attr">sourcemap</span>: <span class="hljs-literal">true</span>,
    })
    code = result.<span class="hljs-property">code</span>
    map = result.<span class="hljs-property">map</span>
  }

  <span class="hljs-keyword">return</span> { code, map }
}
</code></pre>
<p>å› æ­¤ä¸€æ¬¡å®Œæ•´çš„ç¼–è¯‘æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">/<span class="hljs-regexp">/ å®é™…è¯·æ±‚å¤„ç†è¿‡ç¨‹

/</span><span class="hljs-regexp">/ æµè§ˆå™¨è¯·æ±‚ï¼šGET /src</span><span class="hljs-regexp">/main.ts
/</span><span class="hljs-regexp">/ â†“
/</span><span class="hljs-regexp">/ transformMiddleware æ‹¦æˆª
/</span><span class="hljs-regexp">/ â†“
/</span><span class="hljs-regexp">/ transformRequest('/src</span><span class="hljs-regexp">/main.ts', server)
/</span><span class="hljs-regexp">/ â†“
/</span><span class="hljs-regexp">/ loadRawRequest: ä»ç£ç›˜è¯»å– main.ts
/</span><span class="hljs-regexp">/ â”œâ”€ å¦‚æœæ˜¯ .tsï¼Œç”¨ esbuild è½¬è¯‘ä¸º .js
/</span><span class="hljs-regexp">/ â””â”€ è¿”å› { code, map }
/</span><span class="hljs-regexp">/ â†“
/</span><span class="hljs-regexp">/ pluginContainer.transform(code, '/src</span><span class="hljs-regexp">/main.ts')
/</span><span class="hljs-regexp">/ â”œâ”€ vue plugin: .vue è½¬æ¢ä¸º { script, template, style }
/</span><span class="hljs-regexp">/ â”œâ”€ css-in-js plugin: å¤„ç† styled-components ç­‰
/</span><span class="hljs-regexp">/ â”œâ”€ import-analysis plugin: åˆ†æä¾èµ–ï¼Œé‡å†™ä¸º /</span><span class="hljs-variable">@modules</span>/xxx
/<span class="hljs-regexp">/ â””â”€ ...å…¶ä»–æ’ä»¶
/</span><span class="hljs-regexp">/ â†“
/</span><span class="hljs-regexp">/ è¿”å›è½¬æ¢åçš„ä»£ç ç»™æµè§ˆå™¨
/</span><span class="hljs-regexp">/ â†“
/</span><span class="hljs-regexp">/ æµè§ˆå™¨ import './main</span>.ts<span class="hljs-string">' 
// â†’ æ”¶åˆ° ESM ä»£ç ï¼Œæ­£å¸¸æ‰§è¡Œ
</span></code></pre>
<h3 data-id="heading-6">ä¾èµ–è§£æé‡å†™</h3>
<p>è€Œ<code>Vite</code>å¦‚æœè¿™æ ·è®¾è®¡ï¼Œä¼šé¢ä¸´ä¸€ä¸ªé—®é¢˜ï¼šè¯·æ±‚çš„æ•°é‡ç‰¹åˆ«å¤§ï¼Œå¯¼è‡´æµè§ˆå™¨é¦–å±æ—¶é—´åè€Œæ›´ä¹…ã€‚</p>
<p><code>Vite</code>åšäº†ä¸€å±‚è®¾è®¡ï¼Œå°†å¤šä¸ªæ¨¡å—åˆå¹¶åˆ°ä¸€ä¸ªæ¨¡å—ï¼Œå³<code>ä¾èµ–è§£æé‡å†™</code>ï¼Œå¦‚<code>vue -&gt; @modules/vue?v=xxx</code></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// packages/vite/src/node/plugins/importAnalysis.ts</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">importAnalysisPlugin</span>(<span class="hljs-params"/>): <span class="hljs-title class_">Plugin</span> {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'vite:import-analysis'</span>,
    
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">transform</span>(<span class="hljs-params">code: <span class="hljs-built_in">string</span>, id: <span class="hljs-built_in">string</span></span>) {
      <span class="hljs-comment">// åŒ¹é… import/export è¯­å¥</span>
      <span class="hljs-keyword">const</span> imports = <span class="hljs-title function_">parse</span>(code) <span class="hljs-comment">// ç”¨ es-module-lexer è§£æ</span>
      
      <span class="hljs-keyword">let</span> s = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MagicString</span>(code)
      
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> imp <span class="hljs-keyword">of</span> imports) {
        <span class="hljs-comment">// ä¾‹å¦‚ï¼šimport { ref } from 'vue'</span>
        <span class="hljs-keyword">const</span> source = imp.<span class="hljs-property">source</span>
        
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isRelative</span>(source)) {
          <span class="hljs-comment">// ç›¸å¯¹è·¯å¾„ï¼Œä¿æŒä¸å˜</span>
          <span class="hljs-comment">// import Foo from './foo.ts'</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isBuiltin</span>(source)) {
          <span class="hljs-comment">// Node å†…ç½®æ¨¡å—ï¼Œå¿½ç•¥</span>
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-comment">// â­ NPM åŒ…ï¼Œé‡å†™ä¸º /@modules/xxx</span>
          <span class="hljs-comment">// import { ref } from 'vue'</span>
          <span class="hljs-comment">// â†“</span>
          <span class="hljs-comment">// import { ref } from '/@modules/vue?v=xxx'</span>
          
          <span class="hljs-keyword">const</span> resolved = <span class="hljs-keyword">await</span> <span class="hljs-title function_">resolveImport</span>(source)
          <span class="hljs-keyword">const</span> rewritten = <span class="hljs-string">`/@modules/<span class="hljs-subst">${resolved.id}</span>`</span>
          
          s.<span class="hljs-title function_">overwrite</span>(imp.<span class="hljs-property">startPos</span>, imp.<span class="hljs-property">endPos</span>, 
            <span class="hljs-string">`import {...} from '<span class="hljs-subst">${rewritten}</span>'`</span>
          )
        }
      }
      
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">code</span>: s.<span class="hljs-title function_">toString</span>(),
        <span class="hljs-attr">map</span>: s.<span class="hljs-title function_">generateMap</span>(),
      }
    }
  }
}
</code></pre>
<h3 data-id="heading-7">å¤„ç†node_modulesä¸‰æ–¹åº“è¯·æ±‚</h3>
<p>æ—¢ç„¶å°†ä¸‰æ–¹åº“ä¾èµ–è·¯å¾„é‡å†™ï¼Œé‚£å¤„ç†å¯¹åº”çš„è¯·æ±‚ä¹Ÿéœ€è¦è¿›è¡Œä¸€æ¬¡è·¯å¾„è½¬æ¢ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å½“æµè§ˆå™¨è¯·æ±‚ /@modules/vue?v=xxx æ—¶</span>

middlewares.<span class="hljs-title function_">use</span>(<span class="hljs-string">'/@modules/'</span>, <span class="hljs-keyword">async</span> (req, res, next) =&gt; {
  <span class="hljs-keyword">const</span> moduleName = req.<span class="hljs-property">url</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">'/'</span>)[<span class="hljs-number">2</span>]?.<span class="hljs-title function_">split</span>(<span class="hljs-string">'?'</span>)[<span class="hljs-number">0</span>]
  
  <span class="hljs-comment">// /@modules/vue â†’ node_modules/vue/dist/vue.esm.js</span>
  <span class="hljs-keyword">const</span> modulePath = <span class="hljs-built_in">require</span>.<span class="hljs-title function_">resolve</span>(moduleName, {
    <span class="hljs-attr">paths</span>: [config.<span class="hljs-property">root</span>],
  })
  
  <span class="hljs-keyword">const</span> code = <span class="hljs-keyword">await</span> fs.<span class="hljs-property">promises</span>.<span class="hljs-title function_">readFile</span>(modulePath, <span class="hljs-string">'utf-8'</span>)
  
  <span class="hljs-comment">// ç»§ç»­æ‰§è¡Œ transform ä¸­é—´ä»¶å¤„ç†</span>
  <span class="hljs-comment">// ç¡®ä¿ node_modules ä¸­çš„ä»£ç ä¹Ÿè¢«æ­£ç¡®å¤„ç†</span>
  res.<span class="hljs-title function_">end</span>(code)
})
</code></pre>
<h3 data-id="heading-8">HMRçƒ­æ›´æ–°</h3>
<p>é‚£æŒ‰ç…§è¿™æ ·çš„è®¾è®¡ï¼Œæ‰€æœ‰æ¨¡å—åªè¦ç»è¿‡ä¸€æ¬¡ç¼–è¯‘ï¼Œå°±ä¼šä¿å­˜åœ¨æ¨¡å—ç¼“å­˜è¡¨ä¸­ï¼Œçƒ­æ›´æ–°å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ</p>
<p><code>Vite</code>åšçš„ä¹Ÿæ¯”è¾ƒé€šä¿—æ˜“æ‡‚ï¼Œå½“æ–‡ä»¶ç³»ç»Ÿç›‘å¬åˆ°æ–‡ä»¶å˜åŒ–ï¼Œåˆ™æ¸…é™¤è¯¥æ¨¡å—ç›¸å…³ç¼“å­˜ä¿¡æ¯ï¼Œç„¶å<code>websocket</code>é€šçŸ¥æµè§ˆå™¨ï¼Œ<code>Vite client runtime</code>ä¼šé‡æ–°å‘èµ·ç›¸å…³æ”¹åŠ¨æ¨¡å—çš„è¯·æ±‚ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// packages/vite/src/node/server/hmr.ts</span>

<span class="hljs-comment">// å½“æ–‡ä»¶å˜æ›´æ—¶</span>
watcher.<span class="hljs-title function_">on</span>(<span class="hljs-string">'change'</span>, <span class="hljs-keyword">async</span> (file) =&gt; {
  <span class="hljs-keyword">const</span> url = <span class="hljs-title function_">urlFromFile</span>(file, config.<span class="hljs-property">root</span>)
  
  <span class="hljs-comment">// 1ï¸âƒ£ æ¸…é™¤æ¨¡å—ç¼“å­˜</span>
  server.<span class="hljs-property">moduleGraph</span>.<span class="hljs-title function_">invalidateModule</span>(url)
  
  <span class="hljs-comment">// 2ï¸âƒ£ æ”¶é›†å—å½±å“çš„æ¨¡å—</span>
  <span class="hljs-keyword">const</span> affectedModules = server.<span class="hljs-property">moduleGraph</span>.<span class="hljs-title function_">getImporters</span>(url)
  
  <span class="hljs-comment">// 3ï¸âƒ£ é€šè¿‡ WebSocket é€šçŸ¥æµè§ˆå™¨</span>
  server.<span class="hljs-property">ws</span>.<span class="hljs-title function_">send</span>({
    <span class="hljs-attr">type</span>: <span class="hljs-string">'update'</span>,
    <span class="hljs-attr">event</span>: <span class="hljs-string">'vite:beforeUpdate'</span>,
    <span class="hljs-attr">updates</span>: affectedModules.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">m</span> =&gt;</span> ({
      <span class="hljs-attr">type</span>: m.<span class="hljs-property">isSelfAccepting</span> ? <span class="hljs-string">'js-update'</span> : <span class="hljs-string">'full-reload'</span>,
      <span class="hljs-attr">event</span>: <span class="hljs-string">'vite:beforeUpdate'</span>,
      <span class="hljs-attr">path</span>: m.<span class="hljs-property">url</span>,
      <span class="hljs-attr">acceptedPath</span>: url,
      <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
    }))
  })
})
</code></pre>
<h3 data-id="heading-9">HMRå®¢æˆ·ç«¯è„šæœ¬æ³¨å…¥</h3>
<p>è¿™å°±æ˜¯å®¢æˆ·ç«¯çƒ­æ›´æ–°çš„æ ¸å¿ƒä»£ç ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// packages/vite/src/client/client.ts</span>

<span class="hljs-comment">// æ³¨å…¥åˆ°æ¯ä¸ª HTML çš„è„šæœ¬</span>
<span class="hljs-keyword">const</span> hotModule = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">hot</span>

<span class="hljs-keyword">if</span> (hotModule) {
  hotModule.<span class="hljs-title function_">accept</span>(<span class="hljs-function">(<span class="hljs-params">{ <span class="hljs-keyword">default</span>: newModule }</span>) =&gt;</span> {
    <span class="hljs-comment">// æ¥æ”¶æ¨¡å—æ›´æ–°</span>
    <span class="hljs-comment">// æ‰§è¡Œè‡ªå®šä¹‰ HMR é€»è¾‘æˆ–å®Œæ•´é‡è½½</span>
  })
  
  <span class="hljs-comment">// ç›‘å¬æœåŠ¡å™¨æ¨é€</span>
  hotModule.<span class="hljs-title function_">on</span>(<span class="hljs-string">'vite:beforeUpdate'</span>, <span class="hljs-keyword">async</span> (event) =&gt; {
    <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> === <span class="hljs-string">'js-update'</span>) {
      <span class="hljs-comment">// åŠ¨æ€ import æ–°ç‰ˆæœ¬æ¨¡å—</span>
      <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(event.<span class="hljs-property">path</span> + <span class="hljs-string">`?t=<span class="hljs-subst">${event.timestamp}</span>`</span>)
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// å®Œæ•´é¡µé¢åˆ·æ–°</span>
      <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>()
    }
  })
}
</code></pre>
<p>å› æ­¤çƒ­æ›´æ–°çš„æµç¨‹æ€»ç»“å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·ç¼–è¾‘æ–‡ä»¶ä¿å­˜
    â†“
æ–‡ä»¶ç³»ç»Ÿç›‘å¬å™¨æ£€æµ‹å˜åŒ–
    â†“
æ¸…é™¤ ModuleGraph ç¼“å­˜
    â†“
WebSocket é€šçŸ¥æµè§ˆå™¨
    â†“
æµè§ˆå™¨å‘èµ·æ–°è¯·æ±‚ï¼ˆå¸¦æ—¶é—´æˆ³ï¼‰
    â†“
transformMiddleware æ‹¦æˆª
    â†“
loadRawRequest (esbuild ç¼–è¯‘ TS/JSX)
    â†“
pluginContainer<span class="hljs-selector-class">.transform</span> (æ‰§è¡Œæ’ä»¶ Vue/CSS ç­‰)
    â†“
è¿”å›æœ€æ–°çš„ ESM ä»£ç 
    â†“
æµè§ˆå™¨æ‰§è¡Œ HMR å›è°ƒæ›´æ–°é¡µé¢
</code></pre>
<h2 data-id="heading-10">ç»“å°¾</h2>
<p>è¿™å°±æ˜¯<code>Vite</code>å¼€å‘ç¯å¢ƒçš„æ ¸å¿ƒæœºåˆ¶ï¼æŒ‰éœ€ç¼–è¯‘+ç¼“å­˜+HMRæ¨é€ï¼Œç›¸æ¯”äº<code>Webpack</code>ï¼Œå°‘äº†æœ€æ—©çš„æ•´ä¸ªbundleçš„æ„å»ºï¼Œè‡ªç„¶è€Œç„¶ä¼šå¿«éå¸¸å¤šï¼Œå› ä¸º<code>Vite</code>åœ¨åˆå§‹åŒ–æ ¹æœ¬å°±æ²¡æœ‰<code>build</code>çš„è¿‡ç¨‹ï¼Œç”šè‡³è¿<code>main.ts</code>å…¥å£æ–‡ä»¶éƒ½æ˜¯å®æ—¶ç¼–è¯‘çš„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ â€œè¸©å‘æ—¥è®°â€ï¼šshadcn + Vite åœ¨ Monorepo ä¸­é…ç½®æŠ¥é”™]]></title>    <link>https://juejin.cn/post/7582397035942739974</link>    <guid>https://juejin.cn/post/7582397035942739974</guid>    <pubDate>2025-12-11T12:20:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582397035942739974" data-draft-id="7582406735387836422" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€  â€œè¸©å‘æ—¥è®°â€ï¼šshadcn + Vite åœ¨ Monorepo ä¸­é…ç½®æŠ¥é”™"/> <meta itemprop="keywords" content="å‰ç«¯,Vite,React.js"/> <meta itemprop="datePublished" content="2025-12-11T12:20:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨å¤œå¯»æ™´å¤©"/> <meta itemprop="url" content="https://juejin.cn/user/1943592288391496"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€  â€œè¸©å‘æ—¥è®°â€ï¼šshadcn + Vite åœ¨ Monorepo ä¸­é…ç½®æŠ¥é”™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1943592288391496/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨å¤œå¯»æ™´å¤©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T12:20:02.000Z" title="Thu Dec 11 2025 12:20:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    55
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜ä»‹ç»</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fui.shadcn.com%2Fdocs%2Finstallation%2Fvite" target="_blank" title="https://ui.shadcn.com/docs/installation/vite" ref="nofollow noopener noreferrer">ui.shadcn.com/docs/instalâ€¦</a></p>
<p>æŒ‰ç…§è¿™ä¸ªå®˜æ–¹æ–‡æ¡£é…ç½® <strong>shadcn + vite</strong> é¡¹ç›®åï¼Œé‡åˆ°ä¸ªé”™è¯¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89a0379d56374caaacdc4ceef45f8d7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5aSc5a-75pm05aSp:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766060401&amp;x-signature=lB8%2BS59kjl4XQorEp9JIb7NxrEY%3D" alt="image.png" loading="lazy"/></p>
<p>æŒ‰ç…§å®˜æ–¹æ–‡æ¡£é…ç½®ï¼Œç†åº”æ˜¯æ²¡æœ‰é”™è¯¯çš„ï¼Œä½†æ˜¯æˆ‘çš„é¡¹ç›®ç‰¹æ®Šç‚¹å°±åœ¨äºæ˜¯ä¸€ä¸ª <strong>Monorepo</strong> é¡¹ç›®ã€‚</p>
<p>æ‰€ä»¥ï¼Œå½“ä½ åœ¨ä¸€ä¸ª Monorepo é‡Œä½¿ç”¨ TypeScript + ESLintï¼ˆFlat Configï¼Œ<code>eslint.config.js</code>ï¼‰æ—¶ï¼Œå¸¸ä¼šé‡åˆ°ä¸‹é¢è¿™ä¸ªè§£æé”™è¯¯ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">Parsing error: No tsconfigRootDir was <span class="hljs-built_in">set</span>, and multiple candidate TSConfigRootDirs are present:
  - /Users/.../packages/SearchChat 
  - /Users/.../packages/SearchChatUI
You<span class="hljs-string">'ll need to explicitly set tsconfigRootDir in your parser options.
See: https://typescript-eslint.io/packages/parser/#tsconfigrootdireslint
</span></code></pre>
<hr/>
<h2 data-id="heading-1">é¡¹ç›®èƒŒæ™¯</h2>
<ul>
<li>Monorepo é¡¹ç›®ç»“æ„ç¤ºä¾‹ï¼š</li>
</ul>
<pre><code class="hljs language-sh" lang="sh">/Users/.../ui-common
â”œâ”€â”€ apps/
â”‚   â””â”€â”€ react-jsx/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ ChatMessage/
â”‚   â”œâ”€â”€ CustomIcons/
â”‚   â”œâ”€â”€ DatePicker/
â”‚   â”œâ”€â”€ DropdownList/
â”‚   â”œâ”€â”€ EntityUI/
â”‚   â””â”€â”€ SearchChatUI/
â””â”€â”€ pnpm-workspace.yaml
</code></pre>
<ul>
<li>æ¯ä¸ªåŒ…ï¼ˆä¾‹å¦‚ <code>packages/SearchChatUI</code>ï¼‰é€šå¸¸éƒ½æœ‰è‡ªå·±çš„ <code>tsconfig.json</code>ï¼ˆå« <code>references</code> åˆ° <code>tsconfig.app.json</code> / <code>tsconfig.node.json</code>ï¼‰ã€<code>eslint.config.js</code>ã€<code>package.json</code>ã€‚</li>
<li>ESLint åœ¨å¯ç”¨ç±»å‹æ„ŸçŸ¥è§„åˆ™ï¼ˆæˆ–éœ€è¦ç±»å‹ä¿¡æ¯çš„é…ç½®ï¼‰æ—¶ï¼Œä¼šé€šè¿‡ <code>@typescript-eslint/parser</code> åŠ è½½ TypeScript Programï¼Œè¿™éœ€è¦æ˜ç¡®å‘Šè¯‰å®ƒï¼šä»¥å“ªä¸ªç›®å½•ä¸ºæ ¹å»è§£æ <code>project</code>ï¼ˆ<code>tsconfig*.json</code>ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-2">é”™è¯¯ç°è±¡</h2>
<ul>
<li>åœ¨ Monorepo æ ¹æˆ–ä»»ä¸€åŒ…é‡Œè¿è¡Œ <code>eslint</code>ï¼ŒæŠ¥é”™æ˜¾ç¤ºå‘ç°å¤šä¸ªå€™é€‰ <code>TSConfigRootDir</code>ã€‚</li>
<li>è¿™æ˜¯å› ä¸ºè§£æå™¨è¯•å›¾è‡ªåŠ¨æ¢æµ‹ tsconfig æ ¹ç›®å½•ï¼Œä½†åŒæ—¶çœ‹åˆ°äº†å¤šä¸ªåŒ…çš„ tsconfigï¼Œäºæ˜¯æ‹’ç»ç»§ç»­ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">åŸå› åˆ†æ</h2>
<ul>
<li>TypeScript-ESLint çš„è§£æå™¨éœ€è¦ä¸€ä¸ªâ€œæ ¹ç›®å½•â€ï¼ˆ<code>tsconfigRootDir</code>ï¼‰æ¥è§£é‡Šä½ æä¾›çš„ <code>parserOptions.project</code>ï¼ˆå³å“ªäº› <code>tsconfig*.json</code> å‚ä¸æ„å»ºç±»å‹ä¿¡æ¯ï¼‰ã€‚</li>
<li>åœ¨ Monorepo ä¸­ï¼Œå¦‚æœæ²¡æœ‰æ˜ç¡®ä¸ºæ¯ä¸ªåŒ…è®¾å®šç‹¬ç«‹çš„ <code>tsconfigRootDir</code> ä¸å¯¹åº”çš„ <code>project</code>ï¼Œè§£æå™¨ä¼šåœ¨å·¥ä½œåŒºå†…â€œçœ‹è§â€å¤šä¸ªåŒ…çš„ tsconfigï¼Œä»è€Œæ— æ³•ç¡®å®šåˆ°åº•åº”è¯¥ç”¨å“ªä¸ªæ ¹ï¼Œæœ€ç»ˆæŠ¥é”™ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">å¿«é€Ÿä¿®å¤ï¼ˆé’ˆå¯¹å•ä¸ªåŒ…ï¼‰</h2>
<p>ä»¥ <code>packages/SearchChatUI</code> ä¸ºä¾‹ï¼Œç»™å®ƒçš„ <code>eslint.config.js</code> å¢åŠ æ˜ç¡®çš„ <code>parserOptions.tsconfigRootDir</code> å’Œ <code>parserOptions.project</code> å³å¯ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// packages/SearchChatUI/eslint.config.js</span>
<span class="hljs-keyword">import</span> js <span class="hljs-keyword">from</span> <span class="hljs-string">'@eslint/js'</span>
<span class="hljs-keyword">import</span> globals <span class="hljs-keyword">from</span> <span class="hljs-string">'globals'</span>
<span class="hljs-keyword">import</span> reactHooks <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint-plugin-react-hooks'</span>
<span class="hljs-keyword">import</span> reactRefresh <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint-plugin-react-refresh'</span>
<span class="hljs-keyword">import</span> tseslint <span class="hljs-keyword">from</span> <span class="hljs-string">'typescript-eslint'</span>
<span class="hljs-keyword">import</span> { defineConfig, globalIgnores } <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint/config'</span>
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:url'</span>
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'node:path'</span>

<span class="hljs-keyword">const</span> __dirname = path.<span class="hljs-title function_">dirname</span>(<span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>))

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>([
  <span class="hljs-title function_">globalIgnores</span>([<span class="hljs-string">'dist'</span>]),
  {
    <span class="hljs-attr">files</span>: [<span class="hljs-string">'**/*.{ts,tsx}'</span>],
    <span class="hljs-attr">extends</span>: [
      js.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>,
      tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>,
      reactHooks.<span class="hljs-property">configs</span>.<span class="hljs-property">flat</span>.<span class="hljs-property">recommended</span>,
      reactRefresh.<span class="hljs-property">configs</span>.<span class="hljs-property">vite</span>,
    ],
    <span class="hljs-attr">languageOptions</span>: {
      <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2020</span>,
      <span class="hljs-attr">globals</span>: globals.<span class="hljs-property">browser</span>,
      <span class="hljs-attr">parserOptions</span>: {
        <span class="hljs-comment">// å…³é”®è®¾ç½®ï¼šæŒ‡å‘å½“å‰åŒ…ç›®å½•ï¼Œé¿å… Monorepo ä¸‹çš„å¤š tsconfig æ··æ·†</span>
        <span class="hljs-attr">tsconfigRootDir</span>: __dirname,
        <span class="hljs-comment">// æŒ‡å®šå½“å‰åŒ…ä½¿ç”¨çš„ tsconfig åˆ—è¡¨ï¼ˆè·¯å¾„ç›¸å¯¹äº tsconfigRootDirï¼‰</span>
        <span class="hljs-attr">project</span>: [
          <span class="hljs-string">'./tsconfig.json'</span>,
          <span class="hljs-string">'./tsconfig.app.json'</span>,
          <span class="hljs-string">'./tsconfig.node.json'</span>,
        ],
        <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'module'</span>,
      },
    },
  },
])
</code></pre>
<p><strong>éªŒè¯ï¼š</strong></p>
<ul>
<li>è¿›å…¥åŒ…ç›®å½•è¿è¡Œ <code>npm run lint</code>ï¼ˆä¿è¯å‘½ä»¤åœ¨åŒ…å†…æ‰§è¡Œï¼‰</li>
<li>é¢„æœŸä¸å†å‡ºç° Parsing error</li>
</ul>
<hr/>
<h2 data-id="heading-5">åœ¨ Monorepo æ ¹ç»Ÿä¸€é…ç½®çš„åšæ³•ï¼ˆæ¨èï¼‰</h2>
<p>å¦‚æœä½ å€¾å‘äºåœ¨æ ¹ç›®å½•æ”¾ä¸€ä¸ªç»Ÿä¸€çš„ <code>eslint.config.js</code>ï¼Œå¯ä»¥ä½¿ç”¨ <strong>â€œæŒ‰åŒ… overrideâ€</strong> çš„æ–¹å¼ï¼Œè®©æ¯ä¸ªåŒ…éƒ½æ˜ç¡®è‡ªå·±çš„ <code>tsconfigRootDir</code> å’Œ <code>project</code>ã€‚</p>
<p>ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼ŒæŒ‰éœ€è°ƒæ•´åŒ…è·¯å¾„ï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// eslint.config.js at workspace root</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'eslint/config'</span>
<span class="hljs-keyword">import</span> globals <span class="hljs-keyword">from</span> <span class="hljs-string">'globals'</span>
<span class="hljs-keyword">import</span> tseslint <span class="hljs-keyword">from</span> <span class="hljs-string">'typescript-eslint'</span>
<span class="hljs-keyword">import</span> js <span class="hljs-keyword">from</span> <span class="hljs-string">'@eslint/js'</span>
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:url'</span>
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'node:path'</span>

<span class="hljs-keyword">const</span> rootDir = path.<span class="hljs-title function_">dirname</span>(<span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>))
<span class="hljs-keyword">const</span> <span class="hljs-title function_">pkg</span> = (<span class="hljs-params">dir</span>) =&gt; path.<span class="hljs-title function_">join</span>(rootDir, <span class="hljs-string">'packages'</span>, dir)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>([
  {
    <span class="hljs-attr">files</span>: [<span class="hljs-string">'packages/SearchChatUI/**/*.{ts,tsx}'</span>],
    <span class="hljs-attr">extends</span>: [js.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>, tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>],
    <span class="hljs-attr">languageOptions</span>: {
      <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2020</span>,
      <span class="hljs-attr">globals</span>: globals.<span class="hljs-property">browser</span>,
      <span class="hljs-attr">parserOptions</span>: {
        <span class="hljs-attr">tsconfigRootDir</span>: <span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChatUI'</span>),
        <span class="hljs-attr">project</span>: [
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChatUI'</span>), <span class="hljs-string">'tsconfig.json'</span>),
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChatUI'</span>), <span class="hljs-string">'tsconfig.app.json'</span>),
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChatUI'</span>), <span class="hljs-string">'tsconfig.node.json'</span>),
        ],
        <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'module'</span>,
      },
    },
  },
  {
    <span class="hljs-attr">files</span>: [<span class="hljs-string">'packages/SearchChat/**/*.{ts,tsx}'</span>],
    <span class="hljs-attr">extends</span>: [js.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>, tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>],
    <span class="hljs-attr">languageOptions</span>: {
      <span class="hljs-attr">ecmaVersion</span>: <span class="hljs-number">2020</span>,
      <span class="hljs-attr">globals</span>: globals.<span class="hljs-property">browser</span>,
      <span class="hljs-attr">parserOptions</span>: {
        <span class="hljs-attr">tsconfigRootDir</span>: <span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChat'</span>),
        <span class="hljs-attr">project</span>: [
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChat'</span>), <span class="hljs-string">'tsconfig.json'</span>),
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChat'</span>), <span class="hljs-string">'tsconfig.app.json'</span>),
          path.<span class="hljs-title function_">join</span>(<span class="hljs-title function_">pkg</span>(<span class="hljs-string">'SearchChat'</span>), <span class="hljs-string">'tsconfig.node.json'</span>),
        ],
        <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'module'</span>,
      },
    },
  },
  <span class="hljs-comment">// ä¸ºå…¶ä»–åŒ…ç»§ç»­æ·»åŠ  overrides...</span>
])
</code></pre>
<p><strong>è¦ç‚¹ï¼š</strong></p>
<ul>
<li>æ¯ä¸ªåŒ…çš„ override éƒ½æ‹¥æœ‰è‡ªå·±çš„ <code>tsconfigRootDir</code>ã€‚</li>
<li><code>project</code> æ•°ç»„ä¸­çš„è·¯å¾„è¦åŸºäºè¯¥åŒ…ç›®å½•ã€‚</li>
<li>ä¿æŒæŒ‰åŒ…è¿è¡Œ <code>eslint .</code>ï¼ˆæˆ–é€šè¿‡ workspace è„šæœ¬å®šä½åˆ°åŒ…ï¼‰èƒ½å‡å°‘è·¯å¾„è§£ææ··ä¹±ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">å¸¸è§å‘ä½ä¸æç¤º</h2>
<ul>
<li><code>project</code> è·¯å¾„å¿…é¡»ç›¸å¯¹äº <code>tsconfigRootDir</code>ï¼Œä¸è¦å†™ç›¸å¯¹äºå·¥ä½œåŒºæ ¹çš„è·¯å¾„ã€‚</li>
<li>è‹¥ä½ ä½¿ç”¨çš„æ˜¯ TypeScript-ESLint çš„â€œç±»å‹æ„ŸçŸ¥â€é…ç½®ï¼ˆä¾‹å¦‚ <code>tseslint.configs.recommendedTypeChecked</code> æˆ–å¯ç”¨äº†éœ€è¦ç±»å‹ä¿¡æ¯çš„è§„åˆ™ï¼‰ï¼Œä¸€å®šè¦æä¾› <code>tsconfigRootDir</code> ä¸ <code>project</code>ã€‚</li>
<li>å¦‚æœä½ ä¸éœ€è¦ç±»å‹æ„ŸçŸ¥è§„åˆ™ï¼ˆä¸ºäº†æ›´å¿«çš„æ€§èƒ½ï¼‰ï¼Œå¯ä»¥åªç”¨é type-checked çš„æ¨èé›†ï¼Œçœç•¥ <code>project</code>ï¼ˆä½†è¦æƒè¡¡è§„åˆ™èƒ½åŠ›ï¼‰ï¼š
<pre><code class="hljs language-js" lang="js"><span class="hljs-attr">extends</span>: [tseslint.<span class="hljs-property">configs</span>.<span class="hljs-property">recommended</span>] <span class="hljs-comment">// éç±»å‹æ„ŸçŸ¥</span>
<span class="hljs-comment">// ä¸è®¾ç½® parserOptions.project</span>
</code></pre>
</li>
<li>åœ¨åŒ…å†…è¿è¡Œ <code>npm run lint</code>ï¼ˆ<code>eslint .</code>ï¼‰æ¯”åœ¨æ ¹éšæ„è¿è¡Œæ›´å¯æ§ã€‚</li>
<li>ESM ç¯å¢ƒä¸‹ï¼Œè¦ç”¨ <code>fileURLToPath(import.meta.url)</code> è·å–å½“å‰æ–‡ä»¶è·¯å¾„æ¥è®¡ç®— <code>__dirname</code>ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">éªŒè¯æ­¥éª¤</h2>
<ol>
<li>åœ¨ç›®æ ‡åŒ…ç›®å½•æ‰§è¡Œï¼š
<ul>
<li><code>npm run lint</code></li>
</ul>
</li>
<li>ç¡®è®¤ä¸å†å‡ºç° â€œNo tsconfigRootDir was set â€¦ multiple candidate TSConfigRootDirs â€¦â€ çš„é”™è¯¯ã€‚</li>
<li>å¦‚æœè¿˜æœ‰åŒ…æŠ¥åŒæ ·é”™è¯¯ï¼Œé€ä¸ªä¸ºå®ƒä»¬çš„é…ç½®æ·»åŠ  <code>tsconfigRootDir</code> å’Œ <code>project</code>ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-8">æ€§èƒ½ä¸ç±»å‹æ„ŸçŸ¥</h2>
<ul>
<li>ç±»å‹æ„ŸçŸ¥è§„åˆ™éœ€è¦æ„å»º TypeScript Programï¼Œè§£æå™¨ä¼šåŠ è½½å¹¶åˆ†æ <code>project</code> æŒ‡å®šçš„ tsconfigï¼›åœ¨å¤§ Monorepo ä¸­è¿™å¯èƒ½è¾ƒæ…¢ã€‚</li>
<li>æ¨èåšæ³•ï¼š
<ul>
<li>åªæœ‰åœ¨ç¡®å®éœ€è¦ç±»å‹è§„åˆ™çš„åŒ…ä¸Šå¼€å¯ <code>project</code>ã€‚</li>
<li>ä½¿ç”¨æŒ‰åŒ… override æ§åˆ¶èŒƒå›´ã€‚</li>
<li>ç»“åˆ CI åˆ†å±‚æ‰§è¡Œï¼ˆå…ˆéç±»å‹æ„ŸçŸ¥å¿«é€Ÿæ£€æŸ¥ï¼Œå†åœ¨å…³é”®åŒ…è·‘ç±»å‹æ„ŸçŸ¥è§„åˆ™ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-9">å°ç»“</h2>
<p>è¿™ä¸ªæŠ¥é”™æœ¬è´¨æ˜¯ Monorepo ç¯å¢ƒä¸‹ â€œç±»å‹è§„åˆ™éœ€è¦æ˜ç¡®ä¸Šä¸‹æ–‡â€ çš„æé†’ã€‚åªè¦ä¸ºæ¯ä¸ªåŒ…è®¾å®šæ¸…æ™°çš„ <code>tsconfigRootDir</code> ä¸ <code>project</code>ï¼ŒESLint å°±èƒ½å‡†ç¡®åœ°è·å–ç±»å‹ä¿¡æ¯å¹¶ç¨³å®šå·¥ä½œã€‚æŒ‰åŒ…åˆ’åˆ† override æ˜¯æ ¹çº§ç»Ÿä¸€é…ç½®çš„å¥½æ–¹å¼ï¼›è€Œåœ¨åŒ…å†…ç‹¬ç«‹é…ç½®åˆ™æ›´ä¸ºç›´è§‰ã€‚</p>
<hr/>
<h2 data-id="heading-10">å‚è€ƒé“¾æ¥</h2>
<ul>
<li>TypeScript-ESLint Parser æ–‡æ¡£ï¼ˆ<code>tsconfigRootDir</code>ï¼‰ï¼š<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Ftypescript-eslint.io%2Fpackages%2Fparser%2F%23tsconfigrootdireslint" target="_blank" title="https://typescript-eslint.io/packages/parser/#tsconfigrootdireslint" ref="nofollow noopener noreferrer">typescript-eslint.io/packages/paâ€¦</a></li>
<li>TypeScript-ESLint é…ç½®æŒ‡å—ï¼ˆFlat Configï¼‰<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Ftypescript-eslint.io%2Fgetting-started%2Ftyped-linting%23flat-config" target="_blank" title="https://typescript-eslint.io/getting-started/typed-linting#flat-config" ref="nofollow noopener noreferrer">typescript-eslint.io/getting-staâ€¦</a></li>
<li>ESLint Flat Config å®˜æ–¹æ–‡æ¡£<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Feslint.org%2Fdocs%2Flatest%2Fuse%2Fconfigure%2Fconfiguration-files-new" target="_blank" title="https://eslint.org/docs/latest/use/configure/configuration-files-new" ref="nofollow noopener noreferrer">eslint.org/docs/latestâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ç”¨ TRAE SOLO ä¸€å¤©ä¸åˆ°å°±æŠŠè€é¡¹ç›®é‡æ„å®Œæ˜¯ä»€ä¹ˆä½“éªŒï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582200865907982370</link>    <guid>https://juejin.cn/post/7582200865907982370</guid>    <pubDate>2025-12-11T07:11:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582200865907982370" data-draft-id="7582232741686591523" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ç”¨ TRAE SOLO ä¸€å¤©ä¸åˆ°å°±æŠŠè€é¡¹ç›®é‡æ„å®Œæ˜¯ä»€ä¹ˆä½“éªŒï¼Ÿ"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Trae,AIGC"/> <meta itemprop="datePublished" content="2025-12-11T07:11:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="coder_pig"/> <meta itemprop="url" content="https://juejin.cn/user/4142615541321928"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ç”¨ TRAE SOLO ä¸€å¤©ä¸åˆ°å°±æŠŠè€é¡¹ç›®é‡æ„å®Œæ˜¯ä»€ä¹ˆä½“éªŒï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4142615541321928/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    coder_pig
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:11:28.000Z" title="Thu Dec 11 2025 07:11:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">1. å¼•è¨€</h2>
<p>å››å¹´å‰ï¼Œç™¾æ— èŠèµ–ä¹‹ä½™ï¼Œä¸€æ—¶å…´èµ·ï¼ŒèŠ±äº†å·®ä¸å¤šä¸€å‘¨ï¼Œç”¨ <strong>Python</strong> å†™äº†ä¸ª "ğŸ­ <strong>å°¾æ±Markdownè½¬æ¢å·¥å…·</strong>" â†’ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcoder-pig%2Fhzwz-markdown-wx" target="_blank" title="https://github.com/coder-pig/hzwz-markdown-wx" ref="nofollow noopener noreferrer">coder-pig/hzwz-markdown-wx</a>ï¼Œç”¨äºï¼š<strong>å°†Markdownæ–‡ä»¶è½¬æ¢æˆå¸¦æ ·å¼çš„å¾®ä¿¡å…¬ä¼—å·æ–‡ç« HTML</strong>ã€‚</p>
<p>ç®€å•ç‚¹è¯´å°±æ˜¯ "<strong>Markdown â†’ å…¬ä¼—å·</strong>" çš„ <strong>æ’ç‰ˆå·¥å…·</strong>ï¼Œè¿˜é¡ºæ‰‹å†™äº†å‡ ç¯‡ä»‹ç»å®ç°è¿‡ç¨‹çš„æ–‡ç« ï¼š</p>
<ul>
<li><a href="https://juejin.cn/post/6899426534239682568" target="_blank" title="https://juejin.cn/post/6899426534239682568">ã€ŠğŸ­å–‚æ±ï¼Œç”¨Pythonå†™ä¸ªä¸“å±Markdownè½¬æ¢å·¥å…·ã€‹</a></li>
<li><a href="https://juejin.cn/post/6907550626197012487" target="_blank" title="https://juejin.cn/post/6907550626197012487">ã€ŠğŸ¤¡å…¬å·æ–‡ç« æ’ç‰ˆåˆ©å™¨ | ğŸå°¾æ±Markdownè½¬æ¢å·¥å…·æ¥å’¯~ã€‹</a></li>
<li><a href="https://juejin.cn/post/6941338759824670750" target="_blank" title="https://juejin.cn/post/6941338759824670750">ã€Šå¼€å‘ğŸå°¾æ±Markdownè½¬æ¢å·¥å…· | é¡¹ç›®å¤ç›˜ã€‹</a></li>
</ul>
<p>ğŸ˜† å½“æ—¶è‡ªå·±æ•´ç†çš„æ’ç‰ˆè§„èŒƒï¼š</p>
<pre><code class="hljs language-text" lang="text"># å­—å·ï¼šæ­£æ–‡(14ã€15)ï¼Œæ³¨é‡Š-æ ‡æ³¨æ¥æº-è¶…é“¾æ¥-ä»£ç (12)
# å­—é—´è·ï¼š(1ã€1.5)
# è¡Œé—´è·ï¼š(1.5ã€1.75ã€2)
# é¡µè¾¹è·ï¼šå³åŒç«¯ç¼©è¿›ã€ä¸¤ç«¯å¯¹é½ï¼Œé¡µé¢å·¦å³ç•™ç™½ï¼Œå»ºè®®ç¼©è¿›å°ºå¯¸ä¸º1.0

# å­—ä½“é¢œè‰²ï¼šæ ‡é¢˜ #000000ï¼›æ­£æ–‡ #4C4C4Cï¼›æ ‡æ³¨ #888888ï¼›å…¶ä»– #B2B2B2
# æ­£æ–‡ä¹Ÿå¯ä»¥å°è¯•ï¼š#545454ï¼›#3f3f3fï¼›#7f7f7fï¼›#2f2f2f
# å¤‡æ³¨æ€§æ–‡å­—ï¼š#a5a5a5

# Tipsï¼šé™¤å»å­—ä½“é¢œè‰²ï¼Œå…¬å·æ’ç‰ˆé¢œè‰²ä¸å®œè¶…è¿‡ä¸‰ç§ï¼Œé¢œè‰²ä¸€æ—¦å¤šèµ·æ¥ï¼Œé£æ ¼å°±å¾ˆéš¾å®šï¼Œ2-3ç§å°¤ä½³ï¼›
# æ¯”å¦‚æˆ‘çš„ä¸‰ç§é¢œè‰²ï¼šè•¾å§†è“#5A78EAï¼›æ‹‰å§†ç²‰#FF4081ï¼›è‰¾ç±³è‰äºšï¼š#C65BDA

# ç¬¦å·ç³»ç»Ÿï¼šå»ºç«‹è‡ªå·±çš„ç¬¦å·ç³»ç»Ÿï¼Œç”¨ä½œå†…å®¹åˆ†å‰²ï¼Œæ¯”å¦‚ç”¨//////////ä½œä¸ºæ­£æ–‡å¤§æ®µè½çš„åˆ†éš”ï¼Œ- ä½œä¸ºæ®µè½å°ç»“çš„åˆ†éš”ï¼Œæœ‰æ—¶è¿˜å¯ä»¥ä½¿ç”¨ä¸€äº›è¡¨æƒ…ç¬¦å·æ¥å¢åŠ è¶£å‘³æ€§ï¼šhttp://cn.piliapp.com/symbol/

# ä¸ç®¡æ€ä¹ˆæ’ï¼Œè¦æœ‰è‡ªå·±å›ºå®šçš„è®¾ç½®ï¼Œå¦‚ï¼šæ®µè½å’Œå›¾ç‰‡é—´ç©º2è¡Œã€å›¾ç‰‡å¤§å°æ§åˆ¶åœ¨ä¸€å±ç‰ˆé¢çš„1/3é¢ç§¯å†…ã€ä¸€ä¸ªæ®µè½ä¸è¶…è¿‡3è¡Œå­—ã€æ¯å½“ä¸€å±ç‰ˆé¢æ–‡å­—å¤ªæ»¡æ—¶ï¼Œæ‹†è§£æ®µè½åšåˆ†æ®µæˆ–åšä¸€äº›highlightåˆ¶é€ ç©ºé—´æ„Ÿç­‰ã€‚

# æ€»è€Œè¨€ä¹‹ï¼Œå°½é‡åˆ©ç”¨ ç®€å•çš„åŸºç¡€è®¾ç½® å»ä¼˜åŒ–é˜…è¯»ä½“éªŒï¼Œè®©æ•´ä½“æ’ç‰ˆçœ‹èµ·æ¥ç®€æ´ä½†æœ‰åºã€ä¸å¯†é›†ã€ä¸æ²‰é‡ã€ä¸å‹æŠ‘ã€‚

# é‡‡ç”¨å›ºå®šæ ¼å¼çš„å…¬å·å°é¢å›¾!!! 
# å›ºå®šç‰ˆå¼å½¢æˆå¼ºçƒˆçš„ä¸ªäººç‰¹è‰²ï¼Œåˆ¶ä½œæ–°çš„å°é¢å›¾åªéœ€ç½®æ¢æ–‡å­—å’Œå›¾ç‰‡ï¼Œå¥½çœ‹åˆæ–¹ä¾¿ã€‚
</code></pre>
<p>ğŸ¤¡ æœ‰åœ¨ç”¨ï¼Œä½†ç”¨èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œæ¯æ¬¡æ’ç‰ˆéƒ½å¾—ï¼š</p>
<p>æ‰“å¼€PyCharm â†’ å¤åˆ¶è¦æ’ç‰ˆçš„mdæ–‡ä»¶ â†’ è¿è¡Œè„šæœ¬ â†’ ç”Ÿæˆå¸¦æ ·å¼çš„HTMLæ–‡ä»¶ â†’ æ‰“å¼€æ–‡ä»¶å¤åˆ¶ç²˜è´´ â†’ æµè§ˆå™¨æ‰“å¼€å…¬ä¼—å·æ–‡ç« ç¼–è¾‘é¡µé¢ â†’ F12å®šä½åˆ°æ–‡ç« è¾“å…¥åŒºåŸŸçš„ä»£ç  â†’ ä¿®æ”¹ç»“ç‚¹ â†’ ç²˜è´´ä»£ç  â†’ ä¿å­˜</p>
<p>ğŸ˜„ ä»Šå¹´å…­æœˆï¼Œçœ‹ <strong>é¦–æœˆ3åˆ€</strong> å¼€çš„ <strong>Trae</strong> è¿˜å‰©æŒºå¤šé¢åº¦ï¼Œäºæ˜¯èŠ±äº†åŠä¸ªå°æ—¶ï¼Œ<strong>Vibe</strong> äº†ä¸€ä¸ª <strong>æ’ç‰ˆé™æ€é¡µé¢ï¼Œ</strong> å¹¶ä¸”ç”¨ <strong>æ˜é‡‘MCP</strong> è¿›è¡Œå‘å¸ƒ â†’ <a href="https://aicoding.juejin.cn/pens/7513888326441828402" target="_blank" title="https://aicoding.juejin.cn/pens/7513888326441828402">ã€Œæ˜æ˜å­Markdownå¾®ä¿¡å…¬ä¼—å·æ’ç‰ˆå·¥å…·ã€</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23c8d370a831404b96eba0fda8c9d491~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=QZnWbWTsbhCR%2F8%2Ffue4cxVlq57I%3D" alt="" loading="lazy"/></p>
<p>å…·ä½“ Vibe è¿‡ç¨‹å¯ä»¥çœ‹ â†’ <a href="https://juejin.cn/post/7514260735938248719" target="_blank" title="https://juejin.cn/post/7514260735938248719">ã€Trae + æ˜é‡‘MCPã€‘ä¸å†™ä»£ç ï¼Œé å˜´éèŠ±0.5hå®šåˆ¶å…¬å·æ’ç‰ˆå·¥å…·</a></p>
<p>ğŸ¤” çŸ­æ–‡ç« è¿˜å¥½ï¼Œ<strong>é•¿æ–‡ç« æ ·å¼å…¨ä¹±å¥—</strong> (æ¯”å¦‚ï¼šæ— åºåˆ—è¡¨åŠ ç²—æ–‡æœ¬ï¼Œä¼šæ˜¾ç¤ºæˆ <strong>xx</strong>)ï¼Œæ¢äº†å¥½å‡ ä¸ªæ¨¡å‹ï¼Œ<strong>Vibe</strong> äº†Næ¬¡éƒ½æ²¡æ”¹å¥½ï¼Œé—®é¢˜è¶Šæè¶Šå¤šï¼Œå‰ç«¯è¿™å—ï¼Œæˆ‘åˆä¸æ˜¯å¾ˆç†Ÿï¼Œæ— å¥ˆæ”¾å¼ƒğŸ¤·â€â™€ï¸ã€‚åé¢è¿˜æ˜¯ç”¨å›äº†ã€Œ<strong>Doocs</strong>ã€ï¼š</p>
<ul>
<li><strong>å¼€æºGithubä»“åº“</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdoocs%2Fmd" target="_blank" title="https://github.com/doocs/md" ref="nofollow noopener noreferrer">doocs/md</a></li>
<li><strong>åœ¨çº¿ç¼–è¾‘å™¨åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmd.doocs.org%2F" target="_blank" title="https://md.doocs.org/" ref="nofollow noopener noreferrer">doocs</a></li>
</ul>
<p>ğŸ˜³ èƒ½ç”¨ï¼Œä½†æ˜¯æœ‰ç‚¹è¿‡äº <strong>ç®€æ´</strong> (æ˜¾å¾—å¹³å¹³æ— å¥‡)ï¼Œæˆ‘æ›´æ€€å¿µä»¥å‰ <strong>è‡ªå·±ç¼–æ’çš„UIæ ·å¼</strong> ...</p>
<p>å‰é˜µå­ <strong>Google</strong> å‘å¸ƒäº†åƒå‘¼ä¸‡å”¤çš„ "<strong>å“ˆåŸºç±³3</strong> (<strong>Geimni</strong>)"ï¼Œå›½å†… <strong>è‡ªåª’ä½“</strong> éƒ½æ˜¯åœ¨å¹å®ƒçš„ "<strong>å‰ç«¯èƒ½åŠ›</strong>" (çœ‹æ•ˆæœå›¾ç¡®å®æŒº6)ï¼š</p>
<ul>
<li><strong>èƒ½ç”Ÿæˆç²¾ç¡®çš„ SVG çŸ¢é‡å›¾</strong>ï¼šåŒ…æ‹¬å¤æ‚çš„åŠ¨ç”» SVG (å¦‚ï¼šæ—‹è½¬é£æ‰‡åŠ¨ç”»)ï¼Œè€Œéç®€å•æ …æ ¼å›¾ã€‚</li>
<li><strong>3D å’ŒåŠ¨ç”»</strong>ï¼šæ”¯æŒç”Ÿæˆ Three.js 3D æ¨¡å‹ã€WebGL ç€è‰²å™¨ã€CSS åŠ¨ç”»ç­‰é«˜çº§è§†è§‰æ•ˆæœã€‚</li>
<li><strong>å®Œæˆåº”ç”¨æ¡†æ¶</strong>ï¼šèƒ½ç†è§£å¤æ‚çš„æŠ€æœ¯æ ˆè¦æ±‚ (Reactã€Three.js Fiberã€TypeScript ç­‰)ï¼Œç”Ÿæˆæ¨¡å—åŒ–ã€ç»“æ„æ¸…æ™°çš„ä»£ç ã€‚</li>
<li><strong>æ ‡æ³¨ä¿®æ”¹</strong>ï¼šç”¨æˆ·å¯ä»¥åœ¨ç”Ÿæˆçš„ç•Œé¢ä¸Šç”¨ "æ ‡æ³¨" çš„æ–¹å¼æŒ‡å‡ºè¦ä¿®æ”¹çš„åœ°æ–¹ (ç”»åœˆã€ç”»ç®­å¤´ã€æ·»åŠ æ–‡å­—)ï¼ŒGemini 3 ä¼šç†è§£è¿™äº›è§†è§‰æ ‡æ³¨å¹¶ç²¾ç¡®ä¿®æ”¹ä»£ç ã€‚è¿™å¾—ç›Šäºå®ƒ å¤šæ¨¡æ€ç†è§£èƒ½åŠ›çš„æ˜¾è‘—æå‡ (å¯¹å±å¹•æˆªå›¾çš„ç†è§£å‡†ç¡®ç‡è¾¾åˆ° 72.7%ï¼Œè¾¾åˆ°ç°æœ‰æ°´å¹³çš„ä¸¤å€)ã€‚</li>
<li><strong>å» "AIå‘³"</strong> ï¼šæ’ç‰ˆã€è‰²å½©æ­é…ã€ç»„ä»¶ç»“æ„çœ‹èµ·æ¥æ˜¯ "ç²¾å¿ƒè®¾è®¡" çš„ï¼Œè€Œéç”Ÿç¡¬åœ°å¥—æ¨¡ç‰ˆã€‚</li>
</ul>
<p>ğŸ˜„ è™½è¯´ï¼Œè¿˜åŒæ—¶å‘å¸ƒäº†é¦–ä¸ª<strong>AI IDE</strong>â€”â€” <strong>Antigravity</strong> (åé‡åŠ›)ï¼Œä½† "<strong>ç™»å½•é—®é¢˜</strong>" å°±æ‹¦ä½äº†ä¸€å †äººï¼Œç„¶åå„ç§ <strong>BUG</strong>ï¼Œ+ <strong>å­˜åœ¨æ•°æ®æ³„éœ²é£é™©</strong>ï¼Œæ‰€ä»¥å½“æ—¶å¹¶æ²¡æ·±åº¦ä½“éªŒ <strong>Gemini 3</strong> çš„ç¼–ç¨‹èƒ½åŠ›åˆ°åº•æ˜¯ä¸æ˜¯çœŸçš„é‚£ä¹ˆå¼º ğŸ¤·â€â™€ï¸ã€‚</p>
<p>ğŸ˜ ç„¶åï¼Œå‰é˜µå­ "<strong>é‡å¤§ç®¡é¥±</strong>" çš„ <strong>Trae</strong> å‘å¸ƒå…¬å‘Šï¼š"<strong>å› æœåŠ¡ä¸­æ–­ï¼Œåœæ­¢æä¾› Claude æ¨¡å‹çš„è®¿é—®</strong>"ï¼Œå·§äº†ï¼Œåˆšå¥½æ¢ä¸Š <strong>Gemini 3</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5cdb879526b8462db92b5eb4b4f9cdda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=%2FyAqu5deeKTD7xeeMxBPxhcrARg%3D" alt="" loading="lazy"/></p>
<p>çœ‹æ›´æ–°æ—¥å¿—ï¼Œ<strong>v3.0.0</strong> è¿™ä¸ªå¤§ç‰ˆæœ¬çš„æ–°ä¸œè¥¿è¿˜æŒºå¤šï¼š</p>
<ul>
<li>ã€Œ<strong>SOLO æ¨¡å¼æ­£å¼ä¸Šçº¿ï¼Œé¢å‘æ‰€æœ‰ç”¨æˆ·å¼€æ”¾</strong>ã€ä¸»æ‰“å•äººé«˜æ•ˆç‡å¼€å‘å·¥ä½œæµï¼Œè®©ç”¨æˆ·èƒ½åœ¨ä¸€ä¸ªç•Œé¢å¤„ç†ä»»åŠ¡ã€ä»£ç ã€æ™ºèƒ½ä½“åä½œã€‚</li>
<li>ã€Œ<strong>å†…ç½®ä¸¤ç±»æ™ºèƒ½ä½“èƒ½åŠ›å‡çº§</strong>ã€<strong>SOLO Coder</strong> - ä¸“ç²¾å¤æ‚å·¥ç¨‹ä»»åŠ¡ï¼šé‡æ„ã€è°ƒè¯•ã€å¤šæ–‡ä»¶è·¨æ¨¡å—ä¿®æ”¹ï¼Œå…·å¤‡æŒç»­ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›ï¼Œæ›´é€‚åˆä¸­å¤§å‹é¡¹ç›®ã€‚<strong>SOLO Builder</strong> - ä¸ºå¿«é€Ÿæ„å»ºäº§å“åŸå‹è€Œè®¾è®¡ï¼šç•Œé¢ã€åº”ç”¨ã€åç«¯éƒ½èƒ½å¿«é€Ÿäº§å‡ºåˆç‰ˆï¼Œæ”¯æŒä» 0â†’1 çš„è‡ªåŠ¨åŒ– Scaffold (è„šæ‰‹æ¶) ä¸é€»è¾‘ç”Ÿæˆã€‚</li>
<li>å¼•å…¥ã€Œ<strong>å¤šä»»åŠ¡ç³»ç»Ÿ</strong>ã€<strong>å¹¶è¡Œ</strong>-å¯åœ¨åŒä¸€æ™ºèƒ½ä½“ä¸­åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡çº¿ç¨‹ã€<strong>æ‹†è§£</strong>-AI è‡ªåŠ¨è¯†åˆ«å¤æ‚ä»»åŠ¡å¹¶æ‹†åˆ†å­ä»»åŠ¡ã€<strong>æŠ˜å /å±•å¼€</strong>-æ›´æ¸…æ™°çš„é¡¹ç›®ç®¡ç†ç»“æ„ã€<strong>è‡ªåŠ¨ç”Ÿæˆæ‘˜è¦</strong>-èŠå¤©/æ“ä½œå†å²è‡ªåŠ¨å‹ç¼©æˆå¯è¯»æ‘˜è¦ï¼Œä¾¿äºå¿«é€Ÿå›é¡¾ã€‚</li>
<li>ã€Œ<strong>Diff View</strong>ã€é›†ä¸­å±•ç¤ºæ‰€æœ‰ç”± AI æˆ–ç”¨æˆ·ç”Ÿæˆçš„ä»£ç å˜æ›´ï¼Œæ”¯æŒè·¨æ–‡ä»¶æ¯”è¾ƒä¸ç‰ˆæœ¬å›æº¯ï¼ŒAI æ”¹åŠ¨æ›´é€æ˜ã€‚</li>
</ul>
<p>ğŸ˜† è¡Œå§ï¼Œæœ¬èŠ‚å°±å°è¯•ä¸‹ç”¨ <strong>TRAE SOLO + Gemini 3</strong> è®©è¿™ä¸ªæ—§é¡¹ç›®é‡æ–°ç„•å‘å…‰å½©å§âœ¨~</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c4e619834c24f01a011db06a3922ac8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=7Za8Y36WwCF8sbMqDgsDwn6725c%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>ğŸ’¡ å› ä¸ºæ˜¯é‡æ„æ—§é¡¹ç›®ï¼Œæ‰€ä»¥é€‰çš„ <strong>SOLO Coder</strong></p>
</blockquote>
<h2 data-id="heading-1">2. å®è·µè¿‡ç¨‹</h2>
<p><strong>åŸå§‹éœ€æ±‚</strong></p>
<p>æˆ‘æƒ³é‡æ„è¿™ä¸ªé¡¹ç›®ï¼Œæ”¹é€ æˆå¯ä»¥éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šçš„åœ¨çº¿äº§å“ï¼Œç±»ä¼¼äº <a href="https://link.juejin.cn?target=https%3A%2F%2Fmd.doocs.org%2F" target="_blank" title="https://md.doocs.org/" ref="nofollow noopener noreferrer">md.doocs.org/</a></p>
<p>è¿™åªæ˜¯ä¸ª "<strong>æ–¹å‘</strong>"ï¼Œè¿˜ä¸æ˜¯ "<strong>å¯æ‰§è¡Œéœ€æ±‚</strong>"ï¼Œé€šè¿‡ä¸‹è¿° <strong>Prompt</strong> è®© <strong>Trae</strong> å¼•å¯¼æˆ‘ä»¬è¿›è¡Œ "<strong>éœ€æ±‚æ¾„æ¸…</strong>"ï¼š</p>
<pre><code class="hljs language-md" lang="md">è¯·ä½ å…ˆä¸è¦å†™ä»£ç ï¼Œå…ˆæ‰®æ¼”æœ‰ç»éªŒçš„äº§å“ç»ç† + æ¶æ„å¸ˆï¼Œå¸®åŠ©æˆ‘æŠŠéœ€æ±‚è®²æ¸…æ¥šï¼Œè¾“å‡ºä¸€ä»½ç®€è¦éœ€æ±‚è¯´æ˜ã€‚å…·ä½“è¯·æŒ‰ä¸‹é¢æ­¥éª¤æ¥åšï¼š

1ï¼‰å…ˆç”¨ä½ è‡ªå·±çš„è¯å¤è¿°ä¸€ä¸‹æˆ‘ç°åœ¨çš„ç›®æ ‡ï¼Œçœ‹ä½ æ˜¯å¦ç†è§£å‡†ç¡®ï¼›

2ï¼‰ä»ç›®æ ‡ç”¨æˆ·ã€æ ¸å¿ƒåŠŸèƒ½ï¼ˆMVPï¼‰ã€éåŠŸèƒ½éœ€æ±‚ï¼ˆæ€§èƒ½ã€éƒ¨ç½²æ–¹å¼ï¼‰ã€æŠ€æœ¯æ ˆåå¥½ç­‰ç»´åº¦ï¼Œåˆ—å‡ºä½ éœ€è¦å‘æˆ‘ç¡®è®¤çš„å…³é”®é—®é¢˜ï¼›

3ï¼‰æŒ‰â€œå¿…é¡»å…ˆå›ç­” / ä¹‹åå†è¯´â€åšä¼˜å…ˆçº§æ’åºï¼Œæ¯ä¸ªé—®é¢˜å°½é‡ç®€æ´ï¼›

4ï¼‰æœ€åæŠŠè¿™äº›é—®é¢˜æ•´ç†æˆä¸€ä¸ªåˆ—è¡¨ï¼Œæ–¹ä¾¿æˆ‘é€æ¡å›ç­”ã€‚

æ³¨æ„ï¼šè¿™ä¸€è½®åªåšéœ€æ±‚æ¾„æ¸…ï¼Œä¸è¦è®¾è®¡æ¥å£ã€ä¸å†™ä»£ç ä¹Ÿä¸è¦ç»™æ–‡ä»¶ç»“æ„ï¼Œåªè¾“å‡ºå¤è¿° + é—®é¢˜åˆ—è¡¨ã€‚
</code></pre>
<p><strong>Trae</strong> çš„è¾“å‡ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d43092064e394487b0e74670c1646a59~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=onfeWbbVqBuK7xAIg0JVx1tKhgo%3D" alt="" loading="lazy"/></p>
<p>ğŸ˜³ å§æ§½ï¼Œå¾ˆå¤šç‚¹éƒ½è¯´åˆ°æˆ‘çš„ "â¤ï¸<strong>è¶´</strong>" ä¸Šäº†ï¼ŒåŸºäºå®ƒç»™å‡ºçš„ "<strong>å›ç­”åˆ—è¡¨</strong>" è¿›è¡Œ "<strong>å®Œå½¢å¡«ç©º</strong>"ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a6a5ba5a9c94d6a91dc7efbd4b0f1e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=iz%2FAdmIL3ekN6t1Y60OTJQd9fdY%3D" alt="" loading="lazy"/></p>
<p>å‘é€ç­‰Traeæ€è€ƒå®Œï¼Œç»™æˆ‘ç”Ÿæˆäº†ä¸€ä»½ "<strong>é‡æ„è®¡åˆ’</strong>" çš„æ–‡æ¡£ (ğŸ’¡è®°å¾—å¼€å¯å³ä¸Šè§’çš„ <strong>Plan</strong> é€‰é¡¹)ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9ad6522d2af43a693deb59f44897b33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=teAcuUOqskkEmk62ulw5tK4kvXo%3D" alt="" loading="lazy"/></p>
<p>ğŸ‘ æ–‡æ¡£å†™å¾— "<strong>å¤´å¤´æ˜¯é“</strong>"ï¼Œä¸‰å¤§å—ï¼š<strong>æ¶æ„è®¾è®¡</strong>ã€<strong>å®æ–½æ­¥éª¤</strong> å’Œ <strong>ç›®å½•ç»“æ„è§„åˆ’</strong> éƒ½å†™å¾—å¾ˆæ¸…æ™°ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e0d16b436944a468143cdf9222b3e4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=0Mt3qQIZKp%2FX6qxDt4Q966oWMTI%3D" alt="" loading="lazy"/></p>
<p>æŒ‰éœ€è¿›è¡Œä¿®æ”¹ï¼Œç¡®å®šæ— è¯¯åï¼Œç‚¹è§£ "<strong>æ‰§è¡Œ</strong>"ï¼Œç„¶å <strong>Trae</strong> ä¼šæ‹†è§£æˆå¤šä¸ªå°ä»»åŠ¡ (Todo-List)ï¼Œé€ä¸€å®Œæˆï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/442e392308cb48b791a25e41895fa6e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=T3bPg4Ye0vN6U01KrjaN6Hgx03k%3D" alt="" loading="lazy"/></p>
<p>å¯¹äº "<strong>é«˜é£é™©å‘½ä»¤</strong>" (æ¯”å¦‚è¿™é‡Œçš„ <strong>move</strong>)ï¼Œä¼šåœæ­¢å¾€ä¸‹æ‰§è¡Œï¼Œç­‰å¾…ç”¨æˆ· <strong>å®¡æ ¸ç¡®è®¤</strong>ã€‚ğŸ˜® Wow Human in Loopï½</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/898115478d624d8bb17980f16bda710f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=hpFAczmG5Jv3E2ImwCbOGuw7P%2B4%3D" alt="" loading="lazy"/></p>
<p>ğŸ˜„ æ¥ç€æœ€å°åŒ–è®© <strong>Trae</strong> åœ¨åå°å¹²æ´»ï¼Œéœ€è¦ <strong>äººå·¥ä»‹å…¥</strong> çš„èŠ‚ç‚¹ï¼Œå³ä¸‹è§’ä¼šæœ‰å¼¹çª—æç¤ºã€‚æ²¡è¿‡å¤šä¹…ï¼ŒTrae å°±è·Ÿæˆ‘è¯´å®ƒå®Œæˆäº†ï¼ä¸æ˜¯ï¼Œè¿™ä¹ˆå¿«çš„å—ï¼Ÿï¼Ÿï¼Ÿè®©å®ƒç»™æˆ‘æŠŠé¡¹ç›®è·‘èµ·æ¥ï¼Œç„¶åè¿™ "<strong>å‰ç«¯é¡µé¢</strong>" è¿˜æ•´å¾—æŒºåƒæ¨¡åƒæ ·ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/636d5201be224906882e32985ebc3b20~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=gyii12LLrMzSTyPZ5dlSD%2By1UPg%3D" alt="" loading="lazy"/></p>
<p>ğŸ¤£ åé¢å‘ç°ï¼Œå…¶å®å°±æ­äº†ä¸ª <strong>åŸºæœ¬éª¨æ¶</strong>ï¼Œå¾ˆå¤šä¸œè¥¿æ²¡åšï¼Œæ¥ç€å°±æ˜¯ "<strong>éªŒæ”¶ + Vibeæé—®é¢˜</strong>"ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fc9c9d2ac7f49beb5b237ca3073b6f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=nTH%2BPIKzO9X3F4H2vZR76uiZd1k%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2cdf406f8503405594075d94509b61f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=6x7AWIXKWOY5CIScnKtkA0UOwBM%3D" alt="" loading="lazy"/></p>
<p>ç»§ç»­ <strong>Vibe</strong>ï¼Œå‘ç°å›¾ç‰‡åŠ è½½ä¸å‡ºæ¥ï¼ŒğŸ˜„ è¿™ç§å¤§æ¦‚ç‡æ˜¯ "<strong>å›¾ç‰‡é˜²ç›—é“¾</strong>"ï¼Œä¸€èˆ¬æ˜¯æ£€æŸ¥ <strong>è¯·æ±‚å¤´</strong> ä¸­çš„ <strong>Referer</strong>ï¼Œå¦‚æœæ˜¯ <strong>ç¬¬ä¸‰æ–¹åŸŸå</strong>ï¼Œå°±ä¼šè¿”å› <strong>403</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd8bc414313c46e8ad5e42d03622db5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=%2BrQddYBR4FyhfArPmlbfgYqlp1I%3D" alt="" loading="lazy"/></p>
<p>å› ä¸ºæ˜ç¡®æŒ‡å‡ºäº† "<strong>ç—…å› </strong>"ï¼ŒTrae ä¸¤ä¸‹å°±æ”¹å¥½äº†ï¼Œå¹¶è¯¦ç»†è®²è¿°äº† <strong>ä¿®å¤æ–¹æ¡ˆ</strong> &amp; <strong>éªŒè¯æ–¹æ³•</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68aa8bf4071e487a823ae64419a08112~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=3eoC1e3GQcsml2d%2BLMJuJolZ9CI%3D" alt="" loading="lazy"/></p>
<p>ğŸ‘ ä¸å¾—ä¸è¯´ <strong>Diff View</strong> ç¡®å®ç›´è§‚å•Šï¼ŒğŸ˜† æ¯” <strong>Cursor</strong> å®¹æ˜“çœ‹å¤šäº†~</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c212e724f8d645478b495257a8e07c11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=peR0fHs%2Fae%2Fw%2FjomFKv7HrH4G5Q%3D" alt="" loading="lazy"/></p>
<p>åˆ·æ–°ä¸‹é¡µé¢ï¼Œæœç„¶å¯ä»¥äº†ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60d5f44ba02c4da9955effd7950745ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=Qwvh5r2odVm%2FCIULfttnD2SMlKs%3D" alt="" loading="lazy"/></p>
<p>ç»§ç»­ <strong>Vibe</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d70665c0f2d340b893cdd3531bed5b16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=VORJDOa%2F5oAagn17cPbFPf8NQyk%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19581a2222b44b6fb41d220c90ac4a17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=OecmsGd%2FFSbJzDKMdKtnuHcEzFY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44f17a3fbc8b4693bb7946ea59f8ad5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=bYA6Gu6EcMhzXNFpSwxXM6PBLwU%3D" alt="" loading="lazy"/></p>
<p>åœ¨ <strong>Battle</strong> å¤šæ¬¡åï¼Œ<strong>Trae</strong> è¯´è‡ªå·±å®Œæˆä»»åŠ¡ï¼Œå¹¶å‘ŠçŸ¥æˆ‘ "<strong>ä¸‹ä¸€æ­¥çš„éƒ¨ç½²å»ºè®®</strong>"ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eeede1a10c5f4a4f8428eb01a30fc990~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=ynyrtqpcRDh18eV6uF2aRDWCs38%3D" alt="" loading="lazy"/></p>
<p>è¿˜ç”Ÿæˆäº†ä¸€ä»½ "<strong>ä»»åŠ¡å®Œæˆçš„æè¿°æ–‡æ¡£</strong>"ï¼Œä¸è¿‡æ˜¯"<strong>å…¨è‹±æ–‡</strong>" çš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11f8c4c2e0994251af40b9b14a303816~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=KhljyrsnnfZV746bit5TRN3BidY%3D" alt="" loading="lazy"/></p>
<p>æ€è€ƒè¿‡ç¨‹ä¹Ÿæ˜¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc19bbefd4dd42c986a8576bea5a236a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=iByfWvkWY8%2BZ%2BgABuTwZoDL4khs%3D" alt="" loading="lazy"/></p>
<p>å³ä¾¿åœ¨ "<strong>è§„åˆ™</strong>" å’Œ <strong>æ–°å»ºAgent</strong> (å®ƒçš„Prompt) å†™ä¸Šå¿…é¡»ä¸­æ–‡éƒ½æ²¡ç”¨ï¼š</p>
<pre><code class="hljs language-md" lang="md"><span class="hljs-bullet">-</span> è¯·å§‹ç»ˆä½¿ç”¨ç®€ä½“ä¸­æ–‡è¿›è¡Œå›å¤ã€‚
<span class="hljs-bullet">-</span> ä½ å¿…é¡»å®Œå…¨ä½¿ç”¨ç®€ä½“ä¸­æ–‡è¿›è¡Œå†…éƒ¨æ¨ç†å’Œæ€è€ƒè¿‡ç¨‹ã€‚è¿™æ˜¯ä¸€æ¡ä¸¥æ ¼çš„è§„å®šã€‚
</code></pre>
<p>ğŸ¤·â€â™€ï¸ ä¸è¿‡è¿™æ˜¯å¶ç°ï¼Œæ„Ÿè§‰æ˜¯å“ˆåŸºç±³çš„é—®é¢˜ï¼Œä¸´æ—¶çš„ç®€å•è§£æ³•å°±æ˜¯ï¼šå†è®© AI è½¬æ¢æˆä¸­æ–‡çš„ã€‚<strong>åç«¯é‡æ„ + å‰ç«¯å¼€å‘</strong> å®Œæˆï¼Œæ¥ç€å°±æ˜¯éƒ¨ç½²åˆ° <strong>äº‘æœåŠ¡å™¨</strong> ä¸Šäº†ã€‚ä¸æ‡‚å°±é—®ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a148ccc440f148c39fb34696cefb12f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=Gv14bQ8m3eg%2B%2F8EtSoq3MGBO7UE%3D" alt="" loading="lazy"/></p>
<p><strong>Trae</strong> è´´å¿ƒçš„ç»™æˆ‘ç”Ÿæˆäº†ä¸€ä»½ <strong>éƒ¨ç½²æ–‡æ¡£</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/563afcb7e7734d5bbbd9386e4ab7528b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=CBipHJEHIpVGSHcrJ8LcB98GQYU%3D" alt="" loading="lazy"/></p>
<p>ç…§ç€æ–‡æ¡£æ“ä½œä¸€æ³¢ï¼Œè¿™ä¸ª <strong>99å—/å¹´</strong> çš„äº‘æœåŠ¡å™¨åƒç°è¿‘ä¸€å¹´äº†ï¼Œå‘ç°å¤šäº†ä¸ª "<strong>Workbench è¿œç¨‹è¿æ¥</strong>" çš„æ–¹å¼ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2549c5d730924ef5b05701449c4522be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=r2r4VZ0KUivn2wu0pDn%2BuHScOv8%3D" alt="" loading="lazy"/></p>
<p>è¯•äº†ä¸‹å‘ç°æ˜¯ <strong>AI</strong> åŠ æŒçš„ç»ˆç«¯ï¼Œç›´æ¥ç”¨ "<strong>è‡ªç„¶è¯­è¨€</strong>" æè¿°éœ€æ±‚ï¼ŒAIå°±ä¼šè‡ªåŠ¨æ‰§è¡Œå¯¹åº”çš„å‘½ä»¤ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5209447066b84977b8b38b5d3efa6554~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=6Q4RAbpTiew2Kp8sP94k05ZCbxU%3D" alt="" loading="lazy"/></p>
<p>å§æ§½ï¼Œçˆ½å•Šï¼å¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘è®°ä¸ä½ä¸€å † <strong>è¿ç»´å‘½ä»¤</strong> äº† (ğŸ¤£è™½ç„¶æ²¡å‡ æ¡)ï¼Œè€Œä¸”è¿˜æœ‰ "<strong>å‘½ä»¤è§£é‡Š</strong>"ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/485414ca063749c98d3060148466b4c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=mtjj9jCVoXMoQNrbGvOClTGs3V4%3D" alt="" loading="lazy"/></p>
<p>æ¥ç€å°±æ˜¯é€æ­¥CVéƒ¨ç½²æ–‡æ¡£é‡Œçš„ä¸œè¥¿å‘ç»™å®ƒäº†ï¼Œç„¶åä¸­é€” <strong>Docker æ‹‰é•œåƒ</strong> ä¸€ç›´è¶…æ—¶ï¼Œåˆ‡äº†é˜¿é‡Œäº‘è‡ªå¸¦çš„ <strong>é•œåƒåŠ é€Ÿå™¨</strong> ä¹Ÿä¸è¡Œ (pythonå¯ä»¥ã€node:18ä¸è¡Œ)ï¼Œåé¢ç›´æ¥æ£€ç´¢äº†ä¸€æ³¢æ‰€æœ‰èƒ½ç”¨çš„é•œåƒæºï¼Œå°±å¥½äº†~</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-string">"https://é˜¿é‡Œçš„.mirror.aliyuncs.com"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"https://docker.1panel.live"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"http://mirrors.ustc.edu.cn/"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"http://mirror.azure.cn/"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"https://hub.rat.dev/"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"https://docker.ckyl.me/"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"https://docker.chenby.cn"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"https://docker.hpcloud.cloud"</span><span class="hljs-punctuation">,</span>
<span class="hljs-string">"https://docker.m.daocloud.io"</span>
</code></pre>
<p>å½“ç„¶ï¼Œè¿˜æœ‰ä¸€äº›å…¶å®ƒçš„æŠ¥é”™ï¼ŒAIç»ˆç«¯æä¸å®šçš„ï¼Œå°±CVå‘ç»™ <strong>Trae</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57acd8901d784382b67f4bbbae0c6c9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=nqzuaCIlimbntru%2Bw6LV0D5L%2FcA%3D" alt="" loading="lazy"/></p>
<p><strong>Docker Compose</strong> æˆåŠŸæ„å»ºå¹¶å¯åŠ¨äº†å®¹å™¨æœåŠ¡ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f7178ec7709469f8a589b93ce192cb4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=tnoPMu81c6UlSlDE4zIwem1AlJs%3D" alt="" loading="lazy"/></p>
<p><strong>curl <a href="https://link.juejin.cn?target=http%3A%2F%2F127.0.0.1%3A8000" target="_blank" title="http://127.0.0.1:8000" ref="nofollow noopener noreferrer">http://127.0.0.1:8000</a></strong> æµ‹è¯•ä¸‹æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83f5ae236c1544c9960aa9694988ef00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=WJHfc7zCSYb2%2FPWHgf4rc33WM5k%3D" alt="" loading="lazy"/></p>
<p>å¤–éƒ¨æµè§ˆå™¨é€šè¿‡ <strong>å…¬ç½‘IP</strong> è®¿é—®ï¼ŒæŠ¥é”™ <strong>ERR_EMPTY_RESPONSE</strong>ï¼Œç›´æ¥é—® <strong>AI</strong>ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5acf5048cabb4b85b51dae1609dd1adf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=DtSa3A8DHs8Ec8zfJiQDQpmhdI0%3D" alt="" loading="lazy"/></p>
<p>æ— è„‘ <strong>Ctrl</strong> <strong>â†©</strong>ï¸ è®©å®ƒéªŒè¯å°±å¥½äº†ï¼Œæœ€åå‘ç°æ˜¯ "<strong>äº‘æœåŠ¡å•†çš„å®‰å…¨ç»„æ²¡å¼€ç«¯å£</strong>"ï¼Œè¿˜è€å¿ƒç»™å‡ºäº†è§£å†³æ­¥éª¤ï¼Œæˆ‘å“­æ­»ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/023cb1528a08494a919de7c1a35f2625~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=brwnG1anCFj%2Fn9o7DUAmsy0uaCI%3D" alt="" loading="lazy"/></p>
<p>é…ç½®å®Œï¼Œå†æ¬¡åˆ·æ–°é¡µé¢ï¼Œå¥½äº†ğŸ‘ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/189f43d1346f44399656c5319cb1eb58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY29kZXJfcGln:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766041888&amp;x-signature=SrvFbmArGvU%2FbDP83MelZyAef2o%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">3. å°ç»“</h2>
<p>ğŸ¤¡ çˆ½ï¼å¤ªçˆ½äº†ï¼æœ¬æ¥æƒ³ç€ "<strong>åç«¯é‡æ„ + å‰ç«¯å¼€å‘ + éƒ¨ç½²</strong>"ï¼Œè‡³å°‘å¾—æŠ˜è…¾ä¸ªä¸€æ˜ŸæœŸå§ï¼Œç»“æœï¼š</p>
<ul>
<li>ã€ <strong>TRAE SOLO</strong>ã€‘åº”è¯¥æ˜¯å†…ç½®äº† <strong>äº§å“å¼€å‘æµæ°´çº¿</strong> ç›¸å…³çš„ <strong>å®Œæ•´å·¥ä½œæµ</strong>ï¼ŒğŸ¤£ 2333ï¼Œæˆ‘ç²¾å¿ƒå‡†å¤‡çš„ "<strong>å…¨æ ˆå¼€å‘è½åœ°æ–¹æ–¹è®º</strong>" è¿˜æ²¡å¼€å§‹å®æ–½ï¼Œå®ƒå°±æŠŠå‰é¢è¿™ä¸¤é¡¹å¹²å®Œäº†ã€‚</li>
<li>é…åˆã€<strong>äº‘æœåŠ¡å•†æä¾›çš„AIç»ˆç«¯</strong>ã€‘ï¼Œéƒ¨ç½²èµ·æ¥ä¹Ÿæ˜¯è½»è½»æ¾æ¾ã€‚æ¢ä»¥å‰ï¼Œå¾—è®°ä¸€å † <strong>è¿ç»´å‘½ä»¤</strong> (ä¸åŒOSçš„å‘½ä»¤å’Œé…ç½®è¿˜å¯èƒ½ä¸åŒ)ï¼Œç»å¸¸é™·åœ¨ <strong>æŠ¥é”™ â†’ æœç´¢ â†’ ä¿®æ”¹ â†’ éªŒè¯ â†’ å†æŠ¥é”™</strong>... çš„åå¤å¾ªç¯ä¸­æ€€ç–‘äººç”Ÿã€‚</li>
</ul>
<p>ğŸ¤·â€â™€ï¸ ä¸å¾—ä¸æ„Ÿå¹ï¼ŒAI å‘å±•ä¹‹è¿…çŒ›å•Š~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Trae Soloæ¨¡å¼å®æˆ˜ï¼šæˆ‘ç”¨3å°æ—¶æ’¸äº†ä¸ªå„¿ç«¥ç¡å‰æ•…äº‹ç½‘é¡µ]]></title>    <link>https://juejin.cn/post/7582311711429935147</link>    <guid>https://juejin.cn/post/7582311711429935147</guid>    <pubDate>2025-12-11T08:53:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582311711429935147" data-draft-id="7582393212767207478" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Trae Soloæ¨¡å¼å®æˆ˜ï¼šæˆ‘ç”¨3å°æ—¶æ’¸äº†ä¸ªå„¿ç«¥ç¡å‰æ•…äº‹ç½‘é¡µ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T08:53:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è£…ç¡é¹¿å…ˆç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/1117561743761582"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Trae Soloæ¨¡å¼å®æˆ˜ï¼šæˆ‘ç”¨3å°æ—¶æ’¸äº†ä¸ªå„¿ç«¥ç¡å‰æ•…äº‹ç½‘é¡µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117561743761582/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è£…ç¡é¹¿å…ˆç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T08:53:34.000Z" title="Thu Dec 11 2025 08:53:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    54
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºTraeä½“éªŒå®˜ï¼Œæœ€è¿‘æ·±åº¦æ²‰æµ¸åœ¨å…¶Soloæ¨¡å¼çš„å¼€å‘ä½“éªŒä¸­â€”â€”è¿™ç§æ— éœ€é…ç½®ç¯å¢ƒã€å¼€ç®±å³ç”¨çš„è½»é‡åŒ–å¼€å‘æ–¹å¼ï¼Œç®€ç›´æ˜¯ç‹¬ç«‹å¼€å‘è€…çš„ç¦éŸ³ã€‚ä¸Šå‘¨å¸®é‚»å±…å®¶å®å¦ˆè§£å†³"å“„ç¡æ•…äº‹è’"çš„é—®é¢˜æ—¶ï¼Œçªå‘å¥‡æƒ³ï¼šä¸å¦‚ç”¨Trae Soloæ¨¡å¼å¿«é€Ÿå¼€å‘ä¸€ä¸ªå„¿ç«¥ç¡å‰æ•…äº‹å±•ç¤ºç½‘é¡µï¼Ÿæ²¡æƒ³åˆ°ä»æ„æ€åˆ°ä¸Šçº¿ä»…ç”¨3å°æ—¶ï¼Œæˆå“è¿˜æ„å¤–æ”¶è·äº†å®å¦ˆä»¬çš„ä¸€è‡´å¥½è¯„ã€‚ä»Šå¤©å°±æŠŠè¿™æ¬¡å®æˆ˜è¿‡ç¨‹åˆ†äº«ç»™å¤§å®¶ï¼Œé€‚åˆå‰ç«¯æ–°æ‰‹å‚è€ƒå­¦ä¹ ã€‚</p>
<p>~~è¿‡ç¨‹çš„è‰°è¾›å°±ä¸è¯´äº†ï¼Œç›´æ¥å¼€å§‹å§ï¼ï¼ï¼ï¼ï¼ï¼
~~</p>
<h2 data-id="heading-0">å¼€å‘èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªç½‘é¡µï¼Ÿ</h2>
<p>é‚»å±…å®¶3å²çš„å°æœ‹å‹æ¯å¤©ç¡å‰éƒ½è¦å¬æ•…äº‹ï¼Œä½†æ‰‹æœºé‡Œçš„æ•…äº‹APPè¦ä¹ˆå¹¿å‘Šå¤ªå¤šï¼Œè¦ä¹ˆæ•…äº‹é•¿åº¦ä¸é€‚åˆç¡å‰åœºæ™¯ï¼ˆæœ‰çš„å¤ªé•¿å­©å­å¬åˆ°ä¸€åŠå°±å›°äº†ï¼Œæœ‰çš„å¤ªçŸ­åˆè¾¾ä¸åˆ°å“„ç¡æ•ˆæœï¼‰ã€‚ä½œä¸ºæŠ€æœ¯äººï¼Œç¬¬ä¸€ååº”å°±æ˜¯"è‡ªå·±åšä¸€ä¸ªæ›´åˆé€‚çš„"ã€‚</p>
<p>æ ¸å¿ƒéœ€æ±‚å¾ˆæ˜ç¡®ï¼š<strong>æ— å¹¿å‘Šã€æ•…äº‹é•¿åº¦æ§åˆ¶åœ¨10-15åˆ†é’Ÿã€è§†è§‰æ¸©é¦¨ã€æ“ä½œç®€å•</strong>ï¼ˆæ¯•ç«Ÿæ˜¯ç»™å®¶é•¿å’Œä½é¾„å„¿ç«¥ç”¨çš„ï¼‰ã€‚ç»“åˆTraeçš„Soloæ¨¡å¼ç‰¹æ€§â€”â€”æ”¯æŒå®æ—¶é¢„è§ˆã€å†…ç½®å¸¸ç”¨å‰ç«¯æ¨¡æ¿ã€è‡ªåŠ¨å¤„ç†ä¾èµ–ç®¡ç†ï¼Œæ­£å¥½åŒ¹é…è¿™ç§å¿«é€Ÿå¼€å‘åœºæ™¯ï¼Œäºæ˜¯ç«‹åˆ»å¼€å·¥ã€‚</p>
<h2 data-id="heading-1">æŠ€æœ¯é€‰å‹ï¼šSoloæ¨¡å¼ä¸‹çš„è½»é‡ç»„åˆ</h2>
<p>Trae Soloæ¨¡å¼æ”¯æŒå¤šç§æŠ€æœ¯æ ˆçš„å¿«é€Ÿåˆå§‹åŒ–ï¼Œè€ƒè™‘åˆ°é¡¹ç›®çš„è½»é‡åŒ–éœ€æ±‚å’Œå¼€å‘æ•ˆç‡ï¼Œæœ€ç»ˆé€‰æ‹©äº†æœ€ç®€æ´çš„ç»„åˆï¼š</p>
<ul>
<li><strong>ç»“æ„å±‚</strong>ï¼šHTML5 è¯­ä¹‰åŒ–æ ‡ç­¾ï¼Œæå‡å¯è¯»æ€§å’ŒSEOå‹å¥½æ€§</li>
<li><strong>æ ·å¼å±‚</strong>ï¼šTailwind CSSï¼ˆTraeå†…ç½®æ¨¡æ¿ç›´æ¥è°ƒç”¨ï¼Œæ— éœ€é¢å¤–é…ç½®ï¼‰ï¼Œå¿«é€Ÿå®ç°æ¸©é¦¨ç«¥è¶£çš„è§†è§‰é£æ ¼</li>
<li><strong>äº¤äº’å±‚</strong>ï¼šåŸç”ŸJavaScriptï¼Œå®ç°æ•…äº‹åˆ‡æ¢ã€å­—ä½“è°ƒæ•´ã€å¤œé—´æ¨¡å¼ç­‰æ ¸å¿ƒäº¤äº’</li>
<li><strong>èµ„æºåº“</strong>ï¼šé€‰ç”¨å¼€æºçš„å„¿ç«¥æ’ç”»APIå’Œæ— ç‰ˆæƒèƒŒæ™¯éŸ³ä¹ï¼Œé¿å…ä¾µæƒé—®é¢˜</li>
</ul>
<p>Trae Soloæ¨¡å¼çš„ä¼˜åŠ¿åœ¨è¿™é‡Œä½“ç°å¾—æ·‹æ¼“å°½è‡´ï¼šé€‰æ‹©"HTML+Tailwind"æ¨¡æ¿åï¼Œè‡ªåŠ¨åŠ è½½åŸºç¡€ä¾èµ–ï¼Œå·¦ä¾§å†™ä»£ç å³ä¾§å®æ—¶é¢„è§ˆï¼Œä¿®æ”¹æ ·å¼æ—¶ç”šè‡³èƒ½é€šè¿‡å†…ç½®çš„Tailwindæç¤ºå¿«é€Ÿè¡¥å…¨ç±»åï¼Œæ¯”æœ¬åœ°é…ç½®ç¯å¢ƒèŠ‚çœäº†è‡³å°‘1å°æ—¶ã€‚</p>
<h2 data-id="heading-2">æ ¸å¿ƒåŠŸèƒ½å®ç°ï¼šä»éœ€æ±‚åˆ°ä»£ç çš„è½åœ°</h2>
<p>å…ˆæ”¾ä¸ªæ ¸å¿ƒåŠŸèƒ½æ¸…å•ï¼Œå†é€ä¸ªæ‹†è§£å®ç°æ€è·¯ï¼ˆå…³é”®ä»£ç å·²é™„ä¸Šï¼Œå¯ç›´æ¥å¤åˆ¶å¤ç”¨ï¼‰ï¼š</p>
<ol>
<li>æ•…äº‹å¡ç‰‡å±•ç¤ºï¼ˆæŒ‰ä¸»é¢˜åˆ†ç±»ï¼šåŠ¨ç‰©æ•…äº‹ã€å¥‡å¹»å†’é™©ã€äº²æƒ…å‹æƒ…ï¼‰</li>
<li>æ•…äº‹è¯¦æƒ…é¡µï¼ˆæ”¯æŒå­—ä½“å¤§å°è°ƒæ•´ã€è¿›åº¦è®°å¿†ï¼‰</li>
<li>å¤œé—´æ¨¡å¼åˆ‡æ¢ï¼ˆä¿æŠ¤å­©å­è§†åŠ›ï¼‰</li>
<li>èƒŒæ™¯éŸ³ä¹å¯æ§æ’­æ”¾ï¼ˆèˆ’ç¼“çš„æ‘‡ç¯®æ›²ï¼Œå¯æš‚åœ/åˆ‡æ¢ï¼‰</li>
</ol>
<h3 data-id="heading-3">1. é¡µé¢å¸ƒå±€ï¼šç”¨Tailwindå¿«é€Ÿæ­å‡ºç«¥è¶£é£æ ¼</h3>
<p>å„¿ç«¥ç½‘é¡µçš„è§†è§‰æ ¸å¿ƒæ˜¯"æŸ”å’Œ+é²œæ˜"ï¼Œé¿å…é«˜é¥±å’Œè‰²åˆºæ¿€å­©å­çœ¼ç›ã€‚ç”¨Tailwindçš„è‡ªå®šä¹‰é¢œè‰²åŠŸèƒ½å®šä¹‰äº†3ä¸ªä¸»è‰²è°ƒï¼šæ·¡ç²‰è‰²ï¼ˆ#FFE6F2ï¼‰ã€è–„è·ç»¿ï¼ˆ#E6FFFAï¼‰ã€é¹…é»„è‰²ï¼ˆ#FFFBE7ï¼‰ï¼Œåˆ†åˆ«å¯¹åº”ä¸åŒä¸»é¢˜çš„æ•…äº‹å¡ç‰‡ã€‚</p>
<p>å…³é”®å¸ƒå±€ä»£ç ï¼ˆæ•…äº‹åˆ—è¡¨é¡µï¼‰ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- é¡¶éƒ¨å¯¼èˆªæ ï¼ˆå¸¦å¤œé—´æ¨¡å¼åˆ‡æ¢ï¼‰ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">nav</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bg-white shadow-sm fixed top-0 w-full z-10 transition-colors duration-300"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"navbar"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container mx-auto px-4 py-3 flex justify-between items-center"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-bold text-pink-500"</span>&gt;</span>æ™šå®‰å°æ•…äº‹<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"nightModeBtn"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"p-2 rounded-full hover:bg-gray-100"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.w3.org/2000/svg"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"h-6 w-6 text-yellow-400"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"none"</span> <span class="hljs-attr">viewBox</span>=<span class="hljs-string">"0 0 24 24"</span> <span class="hljs-attr">stroke</span>=<span class="hljs-string">"currentColor"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">path</span> <span class="hljs-attr">stroke-linecap</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-linejoin</span>=<span class="hljs-string">"round"</span> <span class="hljs-attr">stroke-width</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">d</span>=<span class="hljs-string">"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>

<span class="hljs-comment">&lt;!-- æ•…äº‹åˆ†ç±»æ ‡ç­¾ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container mx-auto px-4 pt-20 pb-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flex flex-wrap gap-2 mb-6"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"categoryTabs"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"category-btn bg-pink-100 text-pink-600 px-4 py-2 rounded-full text-sm font-medium active"</span> <span class="hljs-attr">data-category</span>=<span class="hljs-string">"all"</span>&gt;</span>å…¨éƒ¨æ•…äº‹<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"category-btn bg-green-100 text-green-600 px-4 py-2 rounded-full text-sm font-medium"</span> <span class="hljs-attr">data-category</span>=<span class="hljs-string">"animal"</span>&gt;</span>åŠ¨ç‰©æ•…äº‹<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"category-btn bg-yellow-100 text-yellow-600 px-4 py-2 rounded-full text-sm font-medium"</span> <span class="hljs-attr">data-category</span>=<span class="hljs-string">"fantasy"</span>&gt;</span>å¥‡å¹»å†’é™©<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"category-btn bg-blue-100 text-blue-600 px-4 py-2 rounded-full text-sm font-medium"</span> <span class="hljs-attr">data-category</span>=<span class="hljs-string">"family"</span>&gt;</span>äº²æƒ…å‹æƒ…<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

  <span class="hljs-comment">&lt;!-- æ•…äº‹å¡ç‰‡å®¹å™¨ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"storyContainer"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ•…äº‹å¡ç‰‡ç¤ºä¾‹ï¼ˆåŠ¨æ€æ¸²æŸ“ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"story-card bg-white rounded-xl shadow-md overflow-hidden transition-transform hover:scale-105"</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">data-category</span>=<span class="hljs-string">"animal"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://picsum.photos/id/237/600/400"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"å°ç†Šçš„èœ‚èœœç½"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"w-full h-48 object-cover"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"p-4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"font-bold text-lg mb-2 text-gray-800"</span>&gt;</span>å°ç†Šçš„èœ‚èœœç½<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-gray-600 text-sm mb-3"</span>&gt;</span>æ—¶é•¿ï¼š12åˆ†é’Ÿ | ä¸»é¢˜ï¼šåˆ†äº«ä¸å‹è°Š<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-gray-500 text-sm line-clamp-2"</span>&gt;</span>æ£®æ—é‡Œçš„å°ç†Šæœ‰ä¸€ä¸ªè£…æ»¡èœ‚èœœçš„ç½å­ï¼Œä»–ä»æ¥ä¸è‚¯å’Œåˆ«äººåˆ†äº«ï¼Œç›´åˆ°æœ‰ä¸€å¤©æš´é›¨å†²æ¯äº†ä»–çš„å®¶...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mt-4 w-full bg-pink-500 text-white py-2 rounded-lg text-sm read-btn"</span> <span class="hljs-attr">data-id</span>=<span class="hljs-string">"1"</span>&gt;</span>å¼€å§‹é˜…è¯»<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ›´å¤šå¡ç‰‡é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>è¿™é‡Œæœ‰ä¸ªå°æŠ€å·§ï¼šç”¨Traeçš„"ä»£ç ç‰‡æ®µä¿å­˜"åŠŸèƒ½ï¼ŒæŠŠå¸¸ç”¨çš„å¡ç‰‡å¸ƒå±€ã€æŒ‰é’®æ ·å¼ä¿å­˜èµ·æ¥ï¼Œåç»­å¼€å‘ç±»ä¼¼é¡µé¢æ—¶ç›´æ¥è°ƒç”¨ï¼Œæ•ˆç‡ç¿»å€ã€‚</p>
<h3 data-id="heading-4">2. æ ¸å¿ƒäº¤äº’ï¼š3ä¸ªæå‡ä½“éªŒçš„å…³é”®é€»è¾‘</h3>
<p>ä½œä¸ºé¢å‘å®¶é•¿å’Œå­©å­çš„äº§å“ï¼Œäº¤äº’å¿…é¡»ç®€å•ç›´è§‚ã€‚æˆ‘é‡ç‚¹å®ç°äº†3ä¸ªæ ¸å¿ƒé€»è¾‘ï¼Œéƒ½ç”¨åŸç”ŸJSå®Œæˆï¼Œé¿å…å¼•å…¥å¤šä½™æ¡†æ¶å¢åŠ è´Ÿæ‹…ã€‚</p>
<h4 data-id="heading-5">ï¼ˆ1ï¼‰æ•…äº‹åˆ†ç±»ä¸ç­›é€‰</h4>
<p>ç»™æ¯ä¸ªæ•…äº‹å¡ç‰‡æ·»åŠ <code>data-category</code>å±æ€§ï¼Œç‚¹å‡»åˆ†ç±»æ ‡ç­¾æ—¶ç­›é€‰å¯¹åº”å¡ç‰‡ï¼Œç”¨ç±»ååˆ‡æ¢å®ç°é€‰ä¸­çŠ¶æ€é«˜äº®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// åˆ†ç±»ç­›é€‰é€»è¾‘
const <span class="hljs-attr">categoryBtns</span> = document.querySelectorAll(<span class="hljs-string">'.category-btn'</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">storyCards</span> = document.querySelectorAll(<span class="hljs-string">'.story-card'</span>)<span class="hljs-comment">;</span>

categoryBtns.forEach(<span class="hljs-attr">btn</span> =&gt; {
  btn.addEventListener('click', () =&gt; {
    // åˆ‡æ¢æŒ‰é’®é€‰ä¸­çŠ¶æ€
    categoryBtns.forEach(<span class="hljs-attr">b</span> =&gt; b.classList.remove(<span class="hljs-string">'active'</span>, <span class="hljs-string">'bg-pink-500'</span>, <span class="hljs-string">'text-white'</span>))<span class="hljs-comment">;</span>
    btn.classList.add('active', 'bg-pink-500', 'text-white')<span class="hljs-comment">;</span>
    
    const <span class="hljs-attr">category</span> = btn.dataset.category<span class="hljs-comment">;</span>
    // ç­›é€‰å¡ç‰‡
    storyCards.forEach(<span class="hljs-attr">card</span> =&gt; {
      if (<span class="hljs-attr">category</span> === <span class="hljs-string">'all'</span> || card.dataset.category === category) {
        <span class="hljs-attr">card.style.display</span> = <span class="hljs-string">'block'</span><span class="hljs-comment">;</span>
      } else {
        <span class="hljs-attr">card.style.display</span> = <span class="hljs-string">'none'</span><span class="hljs-comment">;</span>
      }
    })<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-6">ï¼ˆ2ï¼‰å¤œé—´æ¨¡å¼ä¸å­—ä½“è°ƒæ•´</h4>
<p>è€ƒè™‘åˆ°ç¡å‰ä½¿ç”¨åœºæ™¯ï¼Œå¤œé—´æ¨¡å¼æ˜¯åˆšéœ€ã€‚é€šè¿‡ä¿®æ”¹æ ¹å…ƒç´ ç±»ååˆ‡æ¢æ ·å¼ï¼ŒåŒæ—¶æ”¯æŒ3ç§å­—ä½“å¤§å°è°ƒæ•´ï¼Œæ»¡è¶³ä¸åŒå¹´é¾„æ®µå­©å­çš„é˜…è¯»éœ€æ±‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// å¤œé—´æ¨¡å¼åˆ‡æ¢
const <span class="hljs-attr">nightModeBtn</span> = document.getElementById(<span class="hljs-string">'nightModeBtn'</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">html</span> = document.documentElement<span class="hljs-comment">;</span>
const <span class="hljs-attr">navbar</span> = document.getElementById(<span class="hljs-string">'navbar'</span>)<span class="hljs-comment">;</span>

nightModeBtn.addEventListener('click', () =&gt; {
  html.classList.toggle('dark')<span class="hljs-comment">;</span>
  navbar.classList.toggle('bg-white')<span class="hljs-comment">;</span>
  navbar.classList.toggle('bg-gray-900')<span class="hljs-comment">;</span>
  
  // åˆ‡æ¢å›¾æ ‡
  const <span class="hljs-attr">svg</span> = nightModeBtn.querySelector(<span class="hljs-string">'svg'</span>)<span class="hljs-comment">;</span>
  if (html.classList.contains('dark')) {
    <span class="hljs-attr">svg.innerHTML</span> = <span class="hljs-string">'&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /&gt;'</span><span class="hljs-comment">;</span>
    svg.classList.remove('text-yellow-400')<span class="hljs-comment">;</span>
    svg.classList.add('text-blue-300')<span class="hljs-comment">;</span>
  } else {
    <span class="hljs-attr">svg.innerHTML</span> = <span class="hljs-string">'&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /&gt;'</span><span class="hljs-comment">;</span>
    svg.classList.remove('text-blue-300')<span class="hljs-comment">;</span>
    svg.classList.add('text-yellow-400')<span class="hljs-comment">;</span>
  }
})<span class="hljs-comment">;</span>

// å­—ä½“å¤§å°è°ƒæ•´ï¼ˆè¯¦æƒ…é¡µé€»è¾‘ï¼‰
function initFontSizeControl() {
  const <span class="hljs-attr">sizeBtns</span> = document.querySelectorAll(<span class="hljs-string">'.font-size-btn'</span>)<span class="hljs-comment">;</span>
  const <span class="hljs-attr">storyContent</span> = document.getElementById(<span class="hljs-string">'storyContent'</span>)<span class="hljs-comment">;</span>
  
  sizeBtns.forEach(<span class="hljs-attr">btn</span> =&gt; {
    btn.addEventListener('click', () =&gt; {
      sizeBtns.forEach(<span class="hljs-attr">b</span> =&gt; b.classList.remove(<span class="hljs-string">'active'</span>))<span class="hljs-comment">;</span>
      btn.classList.add('active')<span class="hljs-comment">;</span>
      
      const <span class="hljs-attr">size</span> = btn.dataset.size<span class="hljs-comment">;</span>
      switch(size) {
        case 'small':
          <span class="hljs-attr">storyContent.style.fontSize</span> = <span class="hljs-string">'16px'</span><span class="hljs-comment">;</span>
          break<span class="hljs-comment">;</span>
        case 'medium':
          <span class="hljs-attr">storyContent.style.fontSize</span> = <span class="hljs-string">'18px'</span><span class="hljs-comment">;</span>
          break<span class="hljs-comment">;</span>
        case 'large':
          <span class="hljs-attr">storyContent.style.fontSize</span> = <span class="hljs-string">'22px'</span><span class="hljs-comment">;</span>
          break<span class="hljs-comment">;</span>
      }
      // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨ï¼Œä¸‹æ¬¡æ‰“å¼€è®°å¿†çŠ¶æ€
      localStorage.setItem('fontSize', size)<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
  })<span class="hljs-comment">;</span>
  
  // è¯»å–æœ¬åœ°å­˜å‚¨çš„å­—ä½“å¤§å°
  const <span class="hljs-attr">savedSize</span> = localStorage.getItem(<span class="hljs-string">'fontSize'</span>) || <span class="hljs-string">'medium'</span><span class="hljs-comment">;</span>
  document.querySelector(`.font-size-btn<span class="hljs-section">[data-size="${savedSize}"]</span>`).click()<span class="hljs-comment">;</span>
}
</code></pre>
<h4 data-id="heading-7">ï¼ˆ3ï¼‰æ•…äº‹è¿›åº¦è®°å¿†</h4>
<p>å®¶é•¿åé¦ˆå­©å­å¯èƒ½ä¸€æ¬¡å¬ä¸å®Œæ•…äº‹ï¼Œæ‰€ä»¥æ·»åŠ äº†è¿›åº¦è®°å¿†åŠŸèƒ½ï¼Œç”¨localStorageä¿å­˜é˜…è¯»ä½ç½®ï¼Œä¸‹æ¬¡æ‰“å¼€ç›´æ¥å®šä½åˆ°ä¸Šæ¬¡è¯»åˆ°çš„åœ°æ–¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è¿›åº¦è®°å¿†åŠŸèƒ½</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">saveReadingProgress</span>(<span class="hljs-params">storyId, scrollTop</span>) {
  <span class="hljs-keyword">const</span> progress = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'readingProgress'</span>) || <span class="hljs-string">'{}'</span>);
  progress[storyId] = scrollTop;
  <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">'readingProgress'</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(progress));
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getReadingProgress</span>(<span class="hljs-params">storyId</span>) {
  <span class="hljs-keyword">const</span> progress = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'readingProgress'</span>) || <span class="hljs-string">'{}'</span>);
  <span class="hljs-keyword">return</span> progress[storyId] || <span class="hljs-number">0</span>;
}

<span class="hljs-comment">// è¯¦æƒ…é¡µæ»šåŠ¨æ—¶ä¿å­˜è¿›åº¦</span>
<span class="hljs-keyword">const</span> storyContent = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'storyContent'</span>);
<span class="hljs-keyword">if</span> (storyContent) {
  <span class="hljs-keyword">const</span> storyId = <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">search</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">'='</span>)[<span class="hljs-number">1</span>];
  <span class="hljs-comment">// åŠ è½½ä¸Šæ¬¡è¿›åº¦</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'load'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> scrollTop = <span class="hljs-title function_">getReadingProgress</span>(storyId);
    storyContent.<span class="hljs-property">scrollTop</span> = scrollTop;
  });
  <span class="hljs-comment">// æ»šåŠ¨æ—¶ä¿å­˜è¿›åº¦</span>
  storyContent.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">saveReadingProgress</span>(storyId, storyContent.<span class="hljs-property">scrollTop</span>);
  });
}
</code></pre>
<h2 data-id="heading-8">Trae Soloæ¨¡å¼å¼€å‘ä½“éªŒï¼šè¿™äº›äº®ç‚¹å€¼å¾—å¤¸</h2>
<p>ä½œä¸ºå¸¸å¹´ç”¨VS Codeå¼€å‘çš„å¼€å‘è€…ï¼Œè¿™æ¬¡ç”¨Trae Soloæ¨¡å¼çš„ä½“éªŒè¶…å‡ºé¢„æœŸï¼Œå°¤å…¶è¿™3ä¸ªäº®ç‚¹è®©æˆ‘å°è±¡æ·±åˆ»ï¼š</p>
<ul>
<li><strong>é›¶é…ç½®ç¯å¢ƒ</strong>ï¼šæ‰“å¼€æµè§ˆå™¨å°±èƒ½å†™ä»£ç ï¼Œå†…ç½®çš„Tailwindã€Font Awesomeç­‰èµ„æºç›´æ¥è°ƒç”¨ï¼Œä¸ç”¨å†é…ç½®webpackæˆ–viteï¼Œå¯¹æ–°æ‰‹æåº¦å‹å¥½</li>
<li><strong>å®æ—¶é¢„è§ˆ+è°ƒè¯•</strong>ï¼šå³ä¾§é¢„è§ˆçª—å£æ”¯æŒæ‰‹æœºã€å¹³æ¿ã€æ¡Œé¢å¤šè®¾å¤‡åˆ‡æ¢ï¼Œè°ƒè¯•å“åº”å¼å¸ƒå±€æ—¶ä¸ç”¨é¢‘ç¹åˆ‡æ¢æµè§ˆå™¨çª—å£ï¼Œè¿˜èƒ½ç›´æ¥åœ¨é¢„è§ˆåŒºæ£€æŸ¥å…ƒç´ </li>
<li><strong>ä¸€é”®éƒ¨ç½²</strong>ï¼šå¼€å‘å®Œæˆåç‚¹å‡»"éƒ¨ç½²"æŒ‰é’®ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸´æ—¶é“¾æ¥ï¼Œç›´æ¥åˆ†äº«ç»™å®å¦ˆä»¬ä½¿ç”¨ï¼Œçœå»äº†è´­ä¹°æœåŠ¡å™¨ã€é…ç½®åŸŸåçš„éº»çƒ¦ï¼ˆæ­£å¼ä¸Šçº¿å¯ç»‘å®šè‡ªå®šä¹‰åŸŸåï¼‰</li>
</ul>
<h2 data-id="heading-9">ä¼˜åŒ–æ–¹å‘ä¸åç»­è®¡åˆ’</h2>
<p>ç›®å‰è¿™ä¸ªç½‘é¡µè¿˜å¤„äº1.0ç‰ˆæœ¬ï¼Œæ ¹æ®å®å¦ˆä»¬çš„åé¦ˆï¼Œåç»­æ‰“ç®—ç”¨Traeçš„åä½œæ¨¡å¼å’Œå…¶ä»–å¼€å‘è€…ä¸€èµ·è¿­ä»£ï¼š</p>
<ol>
<li>æ·»åŠ "æ•…äº‹æœ—è¯»"åŠŸèƒ½ï¼šé›†æˆTTSè¯­éŸ³æ¥å£ï¼Œæ”¯æŒä¸€é”®æœ—è¯»ï¼Œè§£æ”¾å®¶é•¿çš„å—“å­</li>
<li>å¢åŠ å®¶é•¿æ§åˆ¶åŠŸèƒ½ï¼šå¯è®¾ç½®å•æ¬¡é˜…è¯»æ—¶é•¿ï¼Œé¿å…å­©å­ç¡å‰è¿‡åº¦ä½¿ç”¨ç”µå­è®¾å¤‡</li>
<li>å»ºç«‹æ•…äº‹æŠ•ç¨¿æœºåˆ¶ï¼šè®©å®¶é•¿å’Œè€å¸ˆå¯ä»¥ä¸Šä¼ åŸåˆ›æ•…äº‹ï¼Œä¸°å¯Œå†…å®¹åº“</li>
</ol>
<h2 data-id="heading-10">æœ€åï¼šé™„é¡¹ç›®åœ°å€ä¸å¼€å‘å¿ƒå¾—</h2>
<p>è¿™æ¬¡å®æˆ˜è®©æˆ‘æ·±åˆ»æ„Ÿå—åˆ°ï¼š<strong>å¥½çš„å·¥å…·èƒ½è®©å¼€å‘è€…æ›´ä¸“æ³¨äºéœ€æ±‚æœ¬èº«</strong>ã€‚Trae Soloæ¨¡å¼è™½ç„¶è½»é‡åŒ–ï¼Œä½†è¶³ä»¥æ”¯æ’‘ä¸­å°å‹å‰ç«¯é¡¹ç›®çš„å¼€å‘ï¼Œå°¤å…¶é€‚åˆå¿«é€ŸåŸå‹åˆ¶ä½œã€ç‹¬ç«‹å¼€å‘æˆ–æ•™å­¦åœºæ™¯ã€‚å¦‚æœä½ ä¹Ÿæ˜¯ç‹¬ç«‹å¼€å‘è€…æˆ–å‰ç«¯æ–°æ‰‹ï¼Œå¼ºçƒˆå»ºè®®è¯•è¯•è¿™ç§"å³å¼€å³å†™"çš„å¼€å‘æ–¹å¼ï¼Œå¯èƒ½ä¼šæ‰“å¼€æ–°çš„æ€è·¯ã€‚</p>
<p>å¦‚æœå¤§å®¶å¯¹ä»£ç ç»†èŠ‚æœ‰ç–‘é—®ï¼Œæˆ–è€…æœ‰æ›´å¥½çš„ä¼˜åŒ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµï½ æˆ‘ä¼šæŒç»­æ›´æ–°é¡¹ç›®è¿›å±•ï¼Œä¹Ÿä¼šåˆ†äº«æ›´å¤šTraeçš„ä½¿ç”¨æŠ€å·§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIç¼–ç¨‹å®æˆ˜ï¼šç”¨Trae SOLOæ¨¡å¼æ¢­å“ˆä¸€ä¸ªæ–‡æ¡£é˜…è¯»å°ç¨‹åº]]></title>    <link>https://juejin.cn/post/7582528397866172443</link>    <guid>https://juejin.cn/post/7582528397866172443</guid>    <pubDate>2025-12-12T07:03:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582528397866172443" data-draft-id="7582553782398828590" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIç¼–ç¨‹å®æˆ˜ï¼šç”¨Trae SOLOæ¨¡å¼æ¢­å“ˆä¸€ä¸ªæ–‡æ¡£é˜…è¯»å°ç¨‹åº"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,AIGC,Trae"/> <meta itemprop="datePublished" content="2025-12-12T07:03:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŸƒå…°å¾·æ¬§ç¥"/> <meta itemprop="url" content="https://juejin.cn/user/3421335915620920"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIç¼–ç¨‹å®æˆ˜ï¼šç”¨Trae SOLOæ¨¡å¼æ¢­å“ˆä¸€ä¸ªæ–‡æ¡£é˜…è¯»å°ç¨‹åº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3421335915620920/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŸƒå…°å¾·æ¬§ç¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T07:03:15.000Z" title="Fri Dec 12 2025 07:03:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ğŸ’¡ <strong>å†™åœ¨å‰é¢</strong></p>
<p>æŠ€æœ¯æ–‡æ¡£éƒ½æ˜¯è‹±æ–‡ï¼Œçœ‹ç€è´¹åŠ²ï¼Ÿæƒ³ç”¨ AI ç¿»è¯‘æˆä¸­æ–‡ï¼Œå†é€šè¿‡å°ç¨‹åºéšæ—¶éšåœ°é˜…è¯»ï¼Ÿæˆ‘ç”¨ Trae CN çš„ SOLO æ¨¡å¼ï¼Œä¸‰å¤©æ—¶é—´æå®šäº†ä¸€ä¸ªæ²‰æµ¸å¼æ–‡æ¡£é˜…è¯»å°ç¨‹åºçš„å‰ä¸­åç«¯å¼€å‘ã€‚è¿™ç¯‡æ–‡ç« è®°å½•äº†ä»æƒ³æ³•åˆ°è½åœ°çš„å…¨è¿‡ç¨‹ï¼ŒåŒ…æ‹¬æŠ€æœ¯é€‰å‹ã€AI åä½œå®æˆ˜ï¼Œä»¥åŠè¸©è¿‡çš„é‚£äº›å‘ã€‚å¦‚æœä½ å¯¹ AI è¾…åŠ©ç¼–ç¨‹æ„Ÿå…´è¶£ï¼Œæˆ–è€…ä¹Ÿæƒ³å°è¯• SOLO æ¨¡å¼å¼€å‘é¡¹ç›®ï¼Œè¿™ç¯‡å®æˆ˜ç»éªŒåº”è¯¥èƒ½ç»™ä½ ä¸€äº›å‚è€ƒã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªé¡¹ç›®ï¼Ÿ</h2>
<p>ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ç»å¸¸éœ€è¦æŸ¥é˜…å„ç§æŠ€æœ¯æ–‡æ¡£ï¼Œæ¯”å¦‚ Supabaseã€Appwriteã€Claude Code ç­‰ã€‚è¿™äº›æ–‡æ¡£åœ¨ç§»åŠ¨ç«¯çš„ä½“éªŒæ•´ä½“ä¸é”™ï¼Œä½†æœ‰ä¸ªå…±åŒçš„ç—›ç‚¹ï¼š<strong>éƒ½æ˜¯è‹±æ–‡çš„ï¼Œæ²¡æœ‰ä¸­æ–‡ç‰ˆ</strong>ã€‚</p>
<p>ç¢ç‰‡æ—¶é—´ç”¨æ‰‹æœºçœ‹è‹±æ–‡æ–‡æ¡£ï¼Œä¸ä»…é˜…è¯»æ•ˆç‡ä½ï¼Œç†è§£èµ·æ¥ä¹Ÿè´¹åŠ²ã€‚è™½ç„¶å¯ä»¥ç”¨ç¿»è¯‘å·¥å…·ï¼Œä½†æ¥å›åˆ‡æ¢å¾ˆéº»çƒ¦ï¼Œä½“éªŒå‰²è£‚ã€‚äºæ˜¯å°±æœ‰äº†è¿™ä¸ªæƒ³æ³•ï¼š<strong>åšä¸€ä¸ªå°ç¨‹åºï¼Œå¯ä»¥æ”¶é›†ã€æ•´ç†å¼€æºé¡¹ç›®çš„ Markdown æ–‡æ¡£ï¼Œé€šè¿‡ AI è‡ªåŠ¨ç¿»è¯‘æˆä¸­æ–‡ï¼Œç„¶åæä¾›æ²‰æµ¸å¼çš„é˜…è¯»ä½“éªŒ</strong>ã€‚</p>
<p>è¿™æ ·æ—¢èƒ½äº«å—å°ç¨‹åºçš„ä¾¿æ·é˜…è¯»ä½“éªŒï¼Œåˆèƒ½æ— éšœç¢åœ°ç†è§£æŠ€æœ¯å†…å®¹ã€‚æ­£å¥½æœ€è¿‘ä½“éªŒäº† Trae CN çš„ SOLO æ¨¡å¼ï¼Œä¸å¦‚å°±ç”¨å®ƒæ¥å®ç°è¿™ä¸ªæƒ³æ³•ï¼Œçœ‹çœ‹ AI è¾…åŠ©ç¼–ç¨‹åœ¨å®é™…é¡¹ç›®ä¸­çš„è¡¨ç°å¦‚ä½•ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€æŠ€æœ¯é€‰å‹ï¼šç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š</h2>
<p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚åœ¨å¼€å§‹ç¼–ç å‰ï¼Œæˆ‘åšäº†ä¸€è½®æŠ€æœ¯è°ƒç ”ï¼š</p>
<h3 data-id="heading-2">æ ¸å¿ƒæŠ€æœ¯æ ˆ</h3>
<ul>
<li>
<p><strong>å°ç¨‹åºæ¡†æ¶</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ficebreaker-template%2Fvue-mini-tailwindcss-template.git" target="_blank" title="https://github.com/icebreaker-template/vue-mini-tailwindcss-template.git" ref="nofollow noopener noreferrer">vue-mini-tailwindcss-template</a> - è¿™æ˜¯æˆ‘ä¸€ç›´ä½¿ç”¨çš„å¾®ä¿¡å°ç¨‹åºæ¨¡æ¿ï¼Œæ”¯æŒ Vue3 + TailwindCSS</p>
</li>
<li>
<p><strong>Markdown è§£æ</strong>ï¼šTowxml - åœ¨å°ç¨‹åºä¸Šè§£æå’Œæ¸²æŸ“ Markdown çš„åˆ©å™¨</p>
</li>
<li>
<p><strong>åç«¯æœåŠ¡</strong>ï¼šSupabase - å¼€æºçš„ Firebase æ›¿ä»£å“ï¼Œæä¾›æ•°æ®åº“ã€è®¤è¯ã€å­˜å‚¨ç­‰å…¨å¥—åç«¯æœåŠ¡</p>
</li>
<li>
<p><strong>é¡¹ç›®ç®¡ç†</strong>ï¼šPNPM Workspace - ç»Ÿä¸€ç®¡ç†å°ç¨‹åºã€åå°ç®¡ç†ã€æ•°æ®åº“è„šæœ¬ç­‰å¤šä¸ªå­é¡¹ç›®</p>
</li>
</ul>
<h3 data-id="heading-3">é¡¹ç›®ç»“æ„è®¾è®¡</h3>
<p>åŸºäºè¿™äº›æŠ€æœ¯é€‰å‹ï¼Œæˆ‘å¿«é€Ÿæ­å»ºäº† Monorepo ç»“æ„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">â”œâ”€â”€ packages
â”‚   â”œâ”€â”€ miniprogram          <span class="hljs-comment"># å¾®ä¿¡å°ç¨‹åº</span>
â”‚   â”œâ”€â”€ admin-dashboard      <span class="hljs-comment"># åå°ç®¡ç†ç³»ç»Ÿ</span>
â”‚   â””â”€â”€ database            <span class="hljs-comment"># æ•°æ®åº“è„šæœ¬</span>
â”œâ”€â”€ supabase
â”‚   â”œâ”€â”€ config.toml         <span class="hljs-comment"># Supabase é…ç½®</span>
â”‚   â”œâ”€â”€ <span class="hljs-built_in">functions</span>           <span class="hljs-comment"># äº‘å‡½æ•°</span>
â”‚   â””â”€â”€ migrations          <span class="hljs-comment"># æ•°æ®åº“è¿ç§»è„šæœ¬</span>
â”œâ”€â”€ scripts                 <span class="hljs-comment"># å·¥å…·è„šæœ¬</span>
â””â”€â”€ pnpm-workspace.yaml     <span class="hljs-comment"># Workspace é…ç½®</span>
</code></pre>
<p>æŠ€æœ¯é€‰å‹å®Œæˆï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¯· AI å‡ºåœºäº†ã€‚</p>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€SOLO å®æˆ˜ï¼šè®© AI æˆä¸ºä½ çš„å¼€å‘ä¼™ä¼´</h2>
<h3 data-id="heading-5">åˆè¯† Trae SOLO</h3>
<p>TRAE æ˜¯ä¸€ä¸ªèƒ½ç†è§£éœ€æ±‚ã€è°ƒåŠ¨å·¥å…·ã€ç‹¬ç«‹å®Œæˆå„ç±»å¼€å‘ä»»åŠ¡çš„ AI å¼€å‘å·¥ç¨‹å¸ˆã€‚å®ƒçš„ SOLO æ¨¡å¼æ”¯æŒå¤šä»»åŠ¡å¹¶è¡Œï¼Œè¿™æ„å‘³ç€å¯ä»¥åŒæ—¶æ¨è¿›å‰ç«¯ã€åç«¯ã€æ•°æ®åº“ç­‰å¤šä¸ªä»»åŠ¡ã€‚</p>
<p>åˆå§‹åŒ–å·¥ä½œåŒºåï¼Œæˆ‘å¯¼å…¥ Trae å¼€å§‹ Vibe Codingã€‚</p>
<p>[ç–¯ç‹‚æ‰“ç è¡¨æƒ…åŒ…]</p>
<h3 data-id="heading-6">ç¬¬ä¸€æ­¥ï¼šéœ€æ±‚æ²Ÿé€šä¸åŸå‹è®¾è®¡</h3>
<p>æˆ‘ç»™ Solo Coder çš„ç¬¬ä¸€ä¸ªä»»åŠ¡å¾ˆç®€å•ï¼š</p>
<blockquote>
<p>"è¯·å…ˆå­¦ä¹ è¿™ä¸ªé¡¹ç›®ï¼Œè¿™æ˜¯ä¸€ä¸ªæ²‰æµ¸å¼é˜…è¯»é¡¹ç›®ï¼ŒåŠŸèƒ½æ˜¯æ”¶é›†ã€æ•´ç†å’Œç¿»è¯‘ç½‘ä¸Šå¼€æºé¡¹ç›®çš„ Markdown æ–‡æ¡£èµ„æ–™ï¼Œä½¿ç”¨å°ç¨‹åºè¿›è¡Œé˜…è¯»ã€‚è¯·å¸®æˆ‘è®¾è®¡ä¸€ä¸ªå°ç¨‹åºåŸå‹å›¾ã€‚"</p>
</blockquote>
<p>å‡ åˆ†é’Ÿåï¼ŒSolo Coder ç»™å‡ºäº†ä¸€ä¸ªå®Œæ•´çš„è®¾è®¡åŸå‹ï¼š</p>
<p><span href="https://code.juejin.cn/pen/7582858911187894298" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7582858911187894298" data-src="https://code.juejin.cn/pen/7582858911187894298" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58bd89e5e0734ef88ef8e190a405f7e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Z-D5YWw5b635qyn56We:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766129022&amp;x-signature=8i5B975Kjq04kMUAymM2ow162U8%3D" alt="æƒŠè®¶" loading="lazy"/></p>
<p>è®¾è®¡å›¾å’ŒåŠŸèƒ½è§„åˆ’å®Œå…¨ç¬¦åˆé¢„æœŸï¼è¿™å°±æ˜¯ AI çš„é­”åŠ›ï¼š<strong>ä»æ¨¡ç³Šçš„æƒ³æ³•åˆ°æ¸…æ™°çš„åŸå‹ï¼Œåªéœ€è¦ä¸€æ¬¡å¯¹è¯</strong>ã€‚</p>
<h3 data-id="heading-7">ç¬¬äºŒæ­¥ï¼šå¤šä»»åŠ¡å¹¶è¡Œå¼€å‘</h3>
<p>äº†è§£åˆ° SOLO æ¨¡å¼æ”¯æŒå¤šä»»åŠ¡å¹¶è¡Œåï¼Œæˆ‘å†³å®šæ¢­å“ˆä¸€æŠŠï¼ŒåŒæ—¶å¼€å¯ä¸‰ä¸ªä»»åŠ¡ï¼š</p>
<ol>
<li>
<p><strong>å¼€å‘å¾®ä¿¡å°ç¨‹åº</strong> - å®ç°ç”¨æˆ·ç•Œé¢å’Œäº¤äº’</p>
</li>
<li>
<p><strong>å¼€å‘ Admin Dashboard</strong> - åå°ç®¡ç†ç³»ç»Ÿï¼Œç”¨äºæ–‡æ¡£ç®¡ç†</p>
</li>
<li>
<p><strong>å¼€å‘ Supabase</strong> - æ•°æ®åº“è®¾è®¡å’Œ API æ¥å£</p>
</li>
</ol>
<p>çœ‹ç€ä¸‰ä¸ªä»»åŠ¡åŒæ—¶æ¨è¿›ï¼Œé‚£ä¸€åˆ»çœŸçš„æ„Ÿå—åˆ°ï¼š<strong>AI æ—¶ä»£å·²ç»åˆ°æ¥ï¼Œä¸€ä¸ªäººå¯ä»¥é¡¶ä¸€ä¸ªå°å›¢é˜Ÿ</strong>ã€‚</p>
<hr/>
<p>ç„¶è€Œï¼Œç†æƒ³å¾ˆä¸°æ»¡ï¼Œç°å®å¾ˆéª¨æ„Ÿã€‚æ¥ä¸‹æ¥æ‰æ˜¯çœŸæ­£çš„è€ƒéªŒã€‚</p>
<h3 data-id="heading-8">å®æˆ˜ä¸­çš„æŒ‘æˆ˜ä¸è§£å†³</h3>
<h4 data-id="heading-9">é—®é¢˜ 1ï¼šTowxml ç»„ä»¶é€‚é…å¤±è´¥</h4>
<p><strong>ç°è±¡</strong>ï¼šTowxml ç»„ä»¶åœ¨ vue-mini-tailwindcss-template å·¥ç¨‹é‡Œæ— æ³•æ­£å¸¸å·¥ä½œã€‚</p>
<p><strong>åŸå› åˆ†æ</strong>ï¼šåº”è¯¥æ˜¯å·¥ç¨‹ç›®å½•ç»“æ„çš„é—®é¢˜ï¼ŒTowxml å¯¹è·¯å¾„å’Œé…ç½®æœ‰ç‰¹å®šè¦æ±‚ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä¸çº ç»“äºåŸæœ‰æ¨¡æ¿ï¼Œç›´æ¥æ”¹ç”¨ Towxml-Demo-3.0 ä½œä¸ºåŸºç¡€è¿›è¡Œåˆå§‹åŒ–ã€‚è™½ç„¶æŸå¤±äº†ä¸€äº›ä¾¿åˆ©æ€§ï¼Œä½† <strong>å¿«é€Ÿè¯•é”™ã€åŠæ—¶è°ƒæ•´</strong> æ¯”åšæŒé”™è¯¯çš„æ–¹å‘æ›´é‡è¦ã€‚</p>
<hr/>
<h4 data-id="heading-10">é—®é¢˜ 2ï¼šAdmin Dashboard å¯¹æ¥ Supabase åç™½å±</h4>
<p><strong>å®ç°è¿‡ç¨‹</strong>ï¼š</p>
<ul>
<li>
<p>å®Œæˆäº† Arco Design Pro é¡¹ç›®çš„å…¨é‡å¼•å…¥</p>
</li>
<li>
<p>é¡¹ç›®å¯åŠ¨è®¿é—® <code>http://localhost:3000</code>ï¼Œåˆå§‹åŠŸèƒ½æ­£å¸¸</p>
</li>
<li>
<p>æŒ‡æŒ¥ Solo Coder å¯¹æ¥ Supabase çš„æ³¨å†Œå’Œç™»å½•åŠŸèƒ½</p>
</li>
<li>
<p>AI å¼•å…¥ <code>@supabase/supabase-js</code>ï¼Œå°† Mock API æ›¿æ¢ä¸ºçœŸå®çš„ Supabase è°ƒç”¨</p>
</li>
</ul>
<p><strong>é‡åˆ°çš„é—®é¢˜</strong>ï¼šæäº¤ä»£ç åï¼Œæ‰“å¼€æµè§ˆå™¨â€”â€”ç™½å±äº† ğŸ˜®</p>
<p><strong>é—®é¢˜å®šä½</strong>ï¼š</p>
<ul>
<li>
<p>æ‰“å¼€æ§åˆ¶å°ï¼Œå‘ç°ç”¨æˆ·æƒé™æ•°æ® <code>undefined</code></p>
</li>
<li>
<p>åŸå› ï¼šåˆå§‹åŒ–æ—¶ä½¿ç”¨çš„æ˜¯ Mock æ•°æ®ï¼Œå¯¹æ¥åç«¯åç¼ºå°‘ç›¸åº”çš„æƒé™å­—æ®µ</p>
</li>
</ul>
<p><strong>è§£å†³æ–¹æ³•</strong>ï¼š<br/>
ç»™ Solo Coder æä¾›æ˜ç¡®çš„æŒ‡ä»¤ï¼š</p>
<blockquote>
<p>"è¯·æ ¹æ® mock/user.ts ä¸­çš„ç”¨æˆ·ç™»å½•è¿”å›æ•°æ®ï¼Œä¿®å¤ç”¨æˆ·ç™»å½•æƒé™æ•°æ® undefined é—®é¢˜ã€‚"</p>
</blockquote>
<p>åŒæ—¶è´´ä¸Šæ§åˆ¶å°çš„å®Œæ•´æŠ¥é”™ä¿¡æ¯ã€‚AI å¾ˆå¿«å®šä½åˆ°é—®é¢˜å¹¶ä¿®å¤äº†æ•°æ®ç»“æ„ã€‚</p>
<p><strong>ç»éªŒæ•™è®­</strong>ï¼š<strong>æä¾›è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ä¿¡æ¯è‡³å…³é‡è¦</strong>ã€‚ä»£ç ã€æŠ¥é”™ã€æœŸæœ›ç»“æœéƒ½è´´å‡ºæ¥ï¼ŒAI æ‰èƒ½ç»™å‡ºå‡†ç¡®çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<hr/>
<h4 data-id="heading-11">é—®é¢˜ 3ï¼šSupabase æ•°æ®åº“è®¾è®¡</h4>
<p><strong>éœ€æ±‚</strong>ï¼šæ ¹æ®åŠŸèƒ½è§„åˆ’è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff6d313f5ae34eacafe66282d9de6efb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Z-D5YWw5b635qyn56We:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766129022&amp;x-signature=6gdIJ4kq4VeGiCo9uoTOt6NaeKE%3D" alt="æ•°æ®åº“è¿ç§»è„šæœ¬ç”Ÿæˆ" loading="lazy"/></p>
<p><strong>AI è¡¨ç°</strong>ï¼šSolo Coder ä¸ä»…è®¾è®¡äº†åˆç†çš„è¡¨ç»“æ„ï¼Œè¿˜è‡ªåŠ¨ç”Ÿæˆäº†ç¬¦åˆè§„èŒƒçš„ migration è„šæœ¬ï¼š</p>
<p><strong>è®©æˆ‘å°è±¡æ·±åˆ»çš„åœ°æ–¹</strong>ï¼š</p>
<ul>
<li>
<p>é¡¹ç›®ç›®å½•ç»“æ„å‡†ç¡®æ— è¯¯</p>
</li>
<li>
<p>Migration æ–‡ä»¶å‘½åè§„èŒƒï¼ˆæ—¶é—´æˆ³ + æè¿°ï¼‰</p>
</li>
<li>
<p>SQL è„šæœ¬åŒ…å«äº†ç´¢å¼•ã€å¤–é”®ã€æ³¨é‡Šç­‰ç»†èŠ‚</p>
</li>
</ul>
<p><strong>æ„Ÿå—</strong>ï¼šåœ¨è¿™ç§æ ‡å‡†åŒ–çš„å·¥ä½œä¸Šï¼Œ<strong>AI çš„è¡¨ç°ç”šè‡³æ¯”äººå·¥æ›´ç¨³å®šã€æ›´è§„èŒƒ</strong>ã€‚</p>
<hr/>
<h4 data-id="heading-12">é—®é¢˜ 4ï¼šGit ç‰ˆæœ¬ç®¡ç†çš„ç—›ç‚¹</h4>
<p>å®Œæˆæ‰€æœ‰å¼€å‘ä»»åŠ¡åï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼š<strong>å·¥ä½œåŒºå†…æœ‰ 200+ ä¸ªæ–‡ä»¶è¢«ä¿®æ”¹</strong>ã€‚</p>
<p><strong>é‡åˆ°çš„å›°æ‰°</strong>ï¼š</p>
<ul>
<li>
<p>æ•´ä½“æäº¤ä¸åˆ©äºå›é€€å’Œé—®é¢˜è¿½æº¯</p>
</li>
<li>
<p>è™½ç„¶æ¯ä¸ªä»»åŠ¡éƒ½æœ‰äº§ç‰©æ±‡æ€»é¡µé¢ï¼Œä½†æ²¡æœ‰ç‹¬ç«‹çš„æäº¤åŠŸèƒ½</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5ead1deb3a2412ab647619278cbf88f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Z-D5YWw5b635qyn56We:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766129022&amp;x-signature=tcgbrha98K0AYu9lUGSGkDMlfFQ%3D" alt="ä»£ç å˜æ›´æ±‡æ€»" loading="lazy"/></p>
<ul>
<li>åªèƒ½æ‰‹åŠ¨å°†ä¸åŒæ¨¡å—çš„å˜æ›´åˆ†åˆ«æäº¤</li>
</ul>
<p><strong>å°è¯•çš„è§£å†³æ–¹æ³•</strong>ï¼š<br/>
åœ¨é¡¹ç›®è§„åˆ™ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ä»»åŠ¡è¿è¡Œå®Œæ¯•ï¼Œè¯·æŒ‰ç…§ git è§„èŒƒæäº¤è¿™ä¸ªä»»åŠ¡æ›´æ”¹çš„ä»£ç ï¼ŒåŒ…æ‹¬ä¿®æ”¹åçš„æ–‡ä»¶ã€åˆ é™¤çš„æ–‡ä»¶å’Œæ–°å¢çš„æ–‡ä»¶ã€‚
</code></pre>
<p><strong>ç»“æœ</strong>ï¼šåç»­æ‰§è¡Œä»ç„¶ä¸èµ·ä½œç”¨ã€‚</p>
<p><strong>åæ€</strong>ï¼šè¿™å¯èƒ½æ˜¯ç›®å‰ SOLO æ¨¡å¼æœ€éœ€è¦æ”¹è¿›çš„åœ°æ–¹ã€‚å¦‚æœæœ‰æœ‹å‹çŸ¥é“æ›´å¥½çš„è§£å†³æ–¹æ³•ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ï¼</p>
<hr/>
<h2 data-id="heading-13">å››ã€ç»éªŒæ€»ç»“ï¼šAI ä¸æ˜¯é“¶å¼¹ï¼Œä½†ç¡®å®æ˜¯åˆ©å™¨</h2>
<h3 data-id="heading-14">é‡æ–°è®¤è¯† AI è¾…åŠ©ç¼–ç¨‹</h3>
<p>ä½¿ç”¨ SOLO æ¨¡å¼çš„è¿™æ®µæ—¶é—´ï¼Œè®©æˆ‘å¯¹ AI è¾…åŠ©ç¼–ç¨‹æœ‰äº†æ›´æ·±çš„è®¤è¯†ã€‚å®ƒç¡®å®ä¸åƒæƒ³è±¡ä¸­é‚£æ ·"ä¸€å¥è¯éœ€æ±‚ï¼Œåç­‰æ”¶ä»£ç "ï¼Œè€Œæ˜¯ä»éœ€åƒä¼ ç»Ÿå¼€å‘é‚£æ ·ç²¾å¿ƒæ‰“ç£¨ï¼Œé‡åˆ°é—®é¢˜æ—¶è¦è‡ªå·±å®šä½å’Œ Debugã€‚</p>
<p>ä½†ä¸å¯å¦è®¤ï¼Œ<strong>AI ç¡®å®å¤§å¹…æå‡äº†å¼€å‘æ•ˆç‡</strong>ï¼Œæ”¹å˜çš„æ˜¯æˆ‘ä»¬çš„å·¥ä½œæ–¹å¼ã€‚</p>
<hr/>
<h3 data-id="heading-15">SOLO æ¨¡å¼çš„ä¼˜åŠ¿</h3>
<h4 data-id="heading-16">1. å¤šä»»åŠ¡å¹¶è¡Œèƒ½åŠ›æƒŠè‰³</h4>
<p>æœ€è®©æˆ‘æƒŠå–œçš„æ˜¯å¯ä»¥åŒæ—¶å¼€ 3 ä¸ªä»»åŠ¡ï¼šå°ç¨‹åºã€åå°ç®¡ç†ã€æ•°æ®åº“è®¾è®¡ã€‚è¿™ç§å¹¶è¡Œå¼€å‘çš„èƒ½åŠ›æ˜¯ä¼ ç»Ÿæ–¹å¼éš¾ä»¥ä¼åŠçš„ã€‚è™½ç„¶éœ€è¦åœ¨ä»»åŠ¡é—´åˆ‡æ¢å…³æ³¨ç‚¹ï¼Œä½†æ•´ä½“è¿›åº¦ç¡®å®å¿«äº†å¾ˆå¤šã€‚</p>
<h4 data-id="heading-17">2. å¿«é€ŸåŸå‹å’Œä»£ç ç”Ÿæˆ</h4>
<p>ä»è®¾è®¡åŸå‹åˆ°ç”Ÿæˆä»£ç ï¼ŒSOLO æ¨¡å¼èƒ½å¤Ÿå¿«é€Ÿå°†æƒ³æ³•è½åœ°ã€‚ç‰¹åˆ«æ˜¯åœ¨é¡¹ç›®åˆæœŸæ­å»ºé˜¶æ®µï¼ŒAI ç”Ÿæˆçš„ä»£ç è´¨é‡å’Œé¡¹ç›®ç»“æ„éƒ½ç›¸å½“ä¸é”™ï¼Œ<strong>å¤§å¤§å‡å°‘äº†"ä» 0 åˆ° 1"çš„æ—¶é—´æˆæœ¬</strong>ã€‚</p>
<h4 data-id="heading-18">3. ä»£ç è§„èŒƒæ€§å‡ºäººæ„æ–™</h4>
<p>AI ç”Ÿæˆçš„ä»£ç åœ¨å‘½åã€ç›®å½•ç»“æ„ã€è¿ç§»è„šæœ¬ç­‰æ–¹é¢éƒ½å¾ˆè§„èŒƒï¼Œæœ‰æ—¶å€™æ¯”äººå·¥å†™çš„è¿˜è¦ä¸¥è°¨ã€‚æ¯”å¦‚ Supabase çš„ migration æ–‡ä»¶å‘½åï¼Œå®Œå…¨ç¬¦åˆæœ€ä½³å®è·µã€‚</p>
<hr/>
<h3 data-id="heading-19">SOLO æ¨¡å¼çš„å±€é™</h3>
<h4 data-id="heading-20">1. éœ€è¦ç²¾ç¡®çš„æŒ‡ä»¤</h4>
<p>AI ä¸ä¼šè¯»å¿ƒæœ¯ï¼Œ<strong>æ¨¡ç³Šçš„éœ€æ±‚ä¼šå¾—åˆ°æ¨¡ç³Šçš„ç»“æœ</strong>ã€‚ä½ éœ€è¦åƒå†™ PRD ä¸€æ ·æ¸…æ™°åœ°æè¿°éœ€æ±‚ï¼Œå¿…è¦æ—¶è¿˜è¦æä¾›ä¸Šä¸‹æ–‡å’Œç¤ºä¾‹ã€‚è¿™å¯¹äº§å“æ€ç»´å’Œéœ€æ±‚è¡¨è¾¾èƒ½åŠ›è¦æ±‚ä¸ä½ã€‚</p>
<h4 data-id="heading-21">2. ä»£ç å®¡æŸ¥ä¸å¯çœç•¥</h4>
<p>ç”Ÿæˆçš„ä»£ç å¹¶éå®Œç¾ï¼Œç™½å±ã€æƒé™æ•°æ®ç¼ºå¤±ç­‰é—®é¢˜ä¾ç„¶ä¼šå‡ºç°ã€‚<strong>ä½ ä»ç„¶éœ€è¦å…·å¤‡å®¡æŸ¥ä»£ç çš„èƒ½åŠ›</strong>ï¼Œç†è§£ä»£ç é€»è¾‘ï¼Œæ‰èƒ½å¿«é€Ÿå®šä½å’Œä¿®å¤é—®é¢˜ã€‚</p>
<h4 data-id="heading-22">3. Git ç®¡ç†æ˜¯ä¸ªç—›ç‚¹</h4>
<p>200+ æ–‡ä»¶çš„ä¿®æ”¹å¦‚æœæ²¡æœ‰åˆç†çš„ commit ç­–ç•¥ï¼Œå›é€€å’Œç‰ˆæœ¬ç®¡ç†ä¼šå¾ˆç—›è‹¦ã€‚è™½ç„¶å°è¯•åœ¨é¡¹ç›®è§„åˆ™é‡ŒåŠ å…¥è‡ªåŠ¨æäº¤çš„è¦æ±‚ï¼Œä½†æ•ˆæœå¹¶ä¸ç†æƒ³ã€‚è¿™å¯èƒ½æ˜¯ç›®å‰ SOLO æ¨¡å¼<strong>æœ€éœ€è¦æ”¹è¿›çš„åœ°æ–¹</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-23">é€‚ç”¨åœºæ™¯å»ºè®®</h3>
<p>åŸºäºè¿™æ¬¡å®æˆ˜ï¼Œæˆ‘è®¤ä¸º SOLO æ¨¡å¼ç‰¹åˆ«é€‚åˆï¼š</p>
<p><strong>âœ… é€‚åˆçš„åœºæ™¯</strong></p>
<ul>
<li>
<p><strong>åŸå‹å¿«é€ŸéªŒè¯</strong>ï¼šæƒ³æ³•éªŒè¯é˜¶æ®µï¼Œå¿«é€Ÿæ­å»º MVP</p>
</li>
<li>
<p><strong>æ ‡å‡†åŒ–é¡¹ç›®</strong>ï¼šé‡‡ç”¨ä¸»æµæŠ€æœ¯æ ˆçš„ CRUD é¡¹ç›®</p>
</li>
<li>
<p><strong>é‡å¤æ€§å·¥ä½œ</strong>ï¼šæ•°æ®åº“è®¾è®¡ã€API æ¥å£ã€åŸºç¡€ç»„ä»¶ç­‰</p>
</li>
<li>
<p><strong>ä¸ªäººé¡¹ç›®</strong>ï¼šä¸€ä¸ªäººé¡¶ä¸€ä¸ªå°å›¢é˜Ÿï¼Œç‰¹åˆ«é€‚åˆç‹¬ç«‹å¼€å‘è€…</p>
</li>
</ul>
<p><strong>âŒ ç›¸å¯¹ä¸é€‚åˆ</strong></p>
<ul>
<li>
<p>é«˜åº¦å®šåˆ¶åŒ–çš„å¤æ‚ä¸šåŠ¡é€»è¾‘</p>
</li>
<li>
<p>éœ€è¦æ·±åº¦æ€§èƒ½ä¼˜åŒ–çš„åœºæ™¯</p>
</li>
<li>
<p>å¯¹ä»£ç è´¨é‡è¦æ±‚æé«˜çš„æ ¸å¿ƒæ¨¡å—</p>
</li>
</ul>
<hr/>
<h3 data-id="heading-24">å®ç”¨æŠ€å·§åˆ†äº«</h3>
<h4 data-id="heading-25">1. ä»»åŠ¡æ‹†åˆ†è¦åˆç†</h4>
<p>ä¸è¦ä¸€æ¬¡æ€§ç»™å¤ªå¤§çš„ä»»åŠ¡ï¼Œ<strong>æŠŠå¤§ä»»åŠ¡æ‹†æˆå°çš„ã€å¯éªŒè¯çš„å­ä»»åŠ¡</strong>ã€‚æ¯ä¸ªå­ä»»åŠ¡å®ŒæˆåéªŒè¯ä¸€ä¸‹ï¼Œé¿å…é—®é¢˜ç´¯ç§¯ã€‚å°±åƒç›–æ¥¼ä¸€æ ·ï¼Œä¸€å±‚ä¸€å±‚å¾€ä¸Šæ­ï¼Œæ¯ä¸€å±‚éƒ½è¦éªŒæ”¶ã€‚</p>
<h4 data-id="heading-26">2. æä¾›å……è¶³çš„ä¸Šä¸‹æ–‡</h4>
<p>è´´ä»£ç ã€è´´æŠ¥é”™ã€è´´é¡¹ç›®ç»“æ„ã€‚<strong>AI çœ‹åˆ°çš„ä¿¡æ¯è¶Šå®Œæ•´ï¼Œç»™å‡ºçš„è§£å†³æ–¹æ¡ˆè¶Šé è°±</strong>ã€‚å°±åƒé‡åˆ°ç™½å±é—®é¢˜ï¼ŒæŠŠæ§åˆ¶å°æŠ¥é”™ä¸€è´´ï¼Œé—®é¢˜å¾ˆå¿«å°±å®šä½äº†ã€‚</p>
<h4 data-id="heading-27">3. å»ºç«‹é¡¹ç›®è§„åˆ™</h4>
<p>åœ¨é¡¹ç›®å¼€å§‹æ—¶å°±å»ºç«‹æ¸…æ™°çš„è§„åˆ™å’Œçº¦å®šï¼ˆä»£ç é£æ ¼ã€æäº¤è§„èŒƒã€æ–‡ä»¶ç»„ç»‡ç­‰ï¼‰ï¼Œè®© AI éµå¾ªç»Ÿä¸€çš„æ ‡å‡†ã€‚è™½ç„¶ä¸æ˜¯ 100% ç”Ÿæ•ˆï¼Œä½†ä¼šæœ‰æ˜æ˜¾å¸®åŠ©ã€‚</p>
<h4 data-id="heading-28">4. ä¿æŒæ€€ç–‘ç²¾ç¥</h4>
<p>AI ç”Ÿæˆçš„ä»£ç è¦ç»è¿‡è‡ªå·±çš„å®¡æŸ¥å’Œæµ‹è¯•ï¼Œ<strong>ä¸è¦ç›²ç›®ä¿¡ä»»</strong>ã€‚é‡åˆ°é—®é¢˜æ—¶ï¼Œå…ˆç†è§£ä»£ç é€»è¾‘ï¼Œå†å†³å®šæ˜¯ä¿®æ”¹è¿˜æ˜¯é‡æ–°ç”Ÿæˆã€‚</p>
<hr/>
<h3 data-id="heading-29">å¯¹ AI ç¼–ç¨‹å·¥å…·çš„æ€è€ƒ</h3>
<p>è¿™æ¬¡å®æˆ˜è®©æˆ‘çœŸåˆ‡æ„Ÿå—åˆ°"å‰ç«¯å·²æ­»ï¼Œæœªæ¥å·²æ¥"è¿™å¥è¯çš„å«ä¹‰ã€‚AI ä¸æ˜¯è¦å–ä»£å¼€å‘è€…ï¼Œè€Œæ˜¯åœ¨<strong>æ”¹å˜å¼€å‘è€…çš„å·¥ä½œæ–¹å¼</strong>ï¼š</p>
<ul>
<li>
<p><strong>ä»"å†™ä»£ç "è½¬å‘"è®¾è®¡å’Œå®¡æŸ¥"</strong>ï¼šæ›´å¤šç²¾åŠ›æ”¾åœ¨æ¶æ„è®¾è®¡ã€éœ€æ±‚åˆ†æå’Œä»£ç å®¡æŸ¥ä¸Š</p>
</li>
<li>
<p><strong>ä»"å•æ‰“ç‹¬æ–—"è½¬å‘"äººæœºåä½œ"</strong>ï¼šå­¦ä¼šå¦‚ä½•é«˜æ•ˆåœ°ä¸ AI æ²Ÿé€šå’Œåä½œ</p>
</li>
<li>
<p><strong>ä»"å…¨æ ˆå·¥ç¨‹å¸ˆ"è½¬å‘"äº§å“å·¥ç¨‹å¸ˆ"</strong>ï¼šæŠ€æœ¯å®ç°ç”± AI è¾…åŠ©ï¼Œäººæ›´ä¸“æ³¨äºäº§å“å’Œç”¨æˆ·ä»·å€¼</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-30">äº”ã€é¡¹ç›®åç»­è®¡åˆ’</h2>
<p>ç›®å‰é¡¹ç›®å·²ç»è·‘é€šäº†ä¸»ä½“æµç¨‹ï¼Œå®Œæˆäº†åŸºç¡€æ¶æ„æ­å»ºå’Œæ ¸å¿ƒåŠŸèƒ½åŸå‹ã€‚æ¥ä¸‹æ¥çš„è®¡åˆ’ï¼š</p>
<ol>
<li>
<p>å®Œå–„æ–‡æ¡£è§£æå’Œç¿»è¯‘åŠŸèƒ½</p>
</li>
<li>
<p>ä¼˜åŒ–é˜…è¯»ä½“éªŒå’Œäº¤äº’ç»†èŠ‚</p>
</li>
<li>
<p>è¡¥å……å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹</p>
</li>
<li>
<p>æ’°å†™è¯¦ç»†çš„æŠ€æœ¯æ–‡æ¡£</p>
</li>
</ol>
<p><strong>å¦‚æœä½ å¯¹è¿™ä¸ªå°ç¨‹åºæ„Ÿå…´è¶£ï¼Œæ¬¢è¿æŒç»­å…³æ³¨</strong>ã€‚é¡¹ç›®æˆç†Ÿåä¼šè€ƒè™‘å¼€æºï¼Œå¸Œæœ›èƒ½ç»™æƒ³å°è¯• AI è¾…åŠ©å¼€å‘çš„æœ‹å‹æä¾›ä¸€äº›å‚è€ƒã€‚</p>
<p>ä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ ä½¿ç”¨ AI ç¼–ç¨‹å·¥å…·çš„ç»éªŒï¼Œæˆ–è€…å¯¹è¿™ä¸ªé¡¹ç›®çš„å»ºè®®å’Œæƒ³æ³•ã€‚<strong>AI è¾…åŠ©å¼€å‘çš„æœ€ä½³å®è·µï¼Œéœ€è¦æˆ‘ä»¬ä¸€èµ·æ¢ç´¢</strong>ã€‚</p>
<hr/>
<blockquote>
<p>ğŸ“Œ <strong>å…³é”®æ”¶è·</strong></p>
<ul>
<li>
<p>SOLO æ¨¡å¼é€‚åˆå¿«é€ŸåŸå‹å’Œæ ‡å‡†åŒ–é¡¹ç›®ï¼Œä½†ä¸æ˜¯é“¶å¼¹</p>
</li>
<li>
<p>ç²¾ç¡®çš„éœ€æ±‚æè¿°å’Œå……è¶³çš„ä¸Šä¸‹æ–‡æ˜¯æˆåŠŸçš„å…³é”®</p>
</li>
<li>
<p>ä»£ç å®¡æŸ¥å’Œ Git ç®¡ç†ä»ç„¶éœ€è¦äººå·¥ä»‹å…¥</p>
</li>
<li>
<p>AI æ”¹å˜çš„æ˜¯å·¥ä½œæ–¹å¼ï¼Œè€Œéå–ä»£å¼€å‘è€…</p>
</li>
<li>
<p>ä¸€ä¸ªäººç¡®å®å¯ä»¥é¡¶ä¸€ä¸ªå°å›¢é˜Ÿï¼Œä½†å‰ææ˜¯ä½ çŸ¥é“æ€ä¹ˆç”¨å¥½ AI</p>
</li>
</ul>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆæµè§ˆå™¨èƒ½çœ‹æ‡‚ç½‘é¡µä»£ç ï¼Ÿâ€”â€”ä»HTMLåˆ°æ¸²æŸ“å¼•æ“çš„å¥‡å¹»ä¹‹æ—…]]></title>    <link>https://juejin.cn/post/7582779306731044899</link>    <guid>https://juejin.cn/post/7582779306731044899</guid>    <pubDate>2025-12-12T10:54:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582779306731044899" data-draft-id="7582779306731028515" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆæµè§ˆå™¨èƒ½çœ‹æ‡‚ç½‘é¡µä»£ç ï¼Ÿâ€”â€”ä»HTMLåˆ°æ¸²æŸ“å¼•æ“çš„å¥‡å¹»ä¹‹æ—…"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-12T10:54:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— é™å¤§6"/> <meta itemprop="url" content="https://juejin.cn/user/2865758605422890"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆæµè§ˆå™¨èƒ½çœ‹æ‡‚ç½‘é¡µä»£ç ï¼Ÿâ€”â€”ä»HTMLåˆ°æ¸²æŸ“å¼•æ“çš„å¥‡å¹»ä¹‹æ—…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2865758605422890/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— é™å¤§6
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T10:54:25.000Z" title="Fri Dec 12 2025 10:54:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸŒ ä¸ºä»€ä¹ˆæµè§ˆå™¨èƒ½çœ‹æ‡‚ç½‘é¡µä»£ç ï¼Ÿâ€”â€”ä»HTMLåˆ°æ¸²æŸ“å¼•æ“çš„å¥‡å¹»ä¹‹æ—… ğŸ’»</h2>
<blockquote>
<p>æ¬¢è¿å¤§å®¶æ¥åˆ°ä»Šæ—¥ä»½çš„æ— é™å¤§åšå®¢ï¼Œä»Šå¤©åˆåˆåˆåˆæ˜¯ä¸€æœŸè®¡ç®—æœºåä¸‡ä¸ªä¸ºä»€ä¹ˆç³»åˆ—çš„æ–‡ç« </p>
<p>è®©æˆ‘æ¥å¸¦é¢†ä½ å¼€å¯ä»Šæ—¥ä»½çš„å­¦ä¹ å§</p>
</blockquote>
<p>å½“ä½ åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ <code>https://www.baidu.com</code> å¹¶æŒ‰ä¸‹å›è½¦æ—¶ï¼Œä¸€åœºç²¾å½©çš„"é­”æ³•è¡¨æ¼”"å°±å¼€å§‹äº†â€”â€”çŸ­çŸ­å‡ ç™¾æ¯«ç§’åï¼ŒåŸæœ¬æ¯ç‡¥çš„ä»£ç å°±å˜æˆäº†è‰²å½©æ–‘æ–“çš„ç½‘é¡µã€‚</p>
<p>è¿™å°±åƒä½ ç»™äº†å¨å¸ˆä¸€å †ç”Ÿé£Ÿæï¼ˆä»£ç ï¼‰ï¼Œä»–ç¬é—´å°±ç«¯å‡ºäº†ä¸€é“ç¾å‘³ä½³è‚´ï¼ˆç½‘é¡µï¼‰ã€‚ğŸ³ æµè§ˆå™¨åˆ°åº•æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿä»Šå¤©å’±ä»¬å°±æ¥æ­å¼€è¿™ä¸ª"é­”æ³•"çš„ç¥ç§˜é¢çº±ï¼</p>
<h3 data-id="heading-1">ğŸš¦ ç½‘é¡µåŠ è½½çš„"æµæ°´çº¿"ï¼šä»è¾“å…¥URLåˆ°çœ‹åˆ°ç½‘é¡µ</h3>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œæµè§ˆå™¨åŠ è½½ç½‘é¡µå°±åƒå·¥å‚ç”Ÿäº§äº§å“ï¼Œæœ‰ä¸€æ¡å®Œæ•´çš„"æµæ°´çº¿"ã€‚å’±ä»¬æ¥çœ‹çœ‹è¿™æ¡æµæ°´çº¿çš„æ¯ä¸ªç¯èŠ‚ï¼š</p>
<h4 data-id="heading-2">1. ğŸ” DNSè§£æï¼šæ‰¾åˆ°æœåŠ¡å™¨çš„"ç”µè¯å·ç "</h4>
<p>å½“ä½ è¾“å…¥ <code>baidu.com</code> æ—¶ï¼Œæµè§ˆå™¨é¦–å…ˆè¦é—®ï¼š"è¿™ä¸ªåŸŸåå¯¹åº”çš„æœåŠ¡å™¨IPåœ°å€æ˜¯å¤šå°‘ï¼Ÿ"è¿™å°±åƒä½ è¦ç»™æœ‹å‹æ‰“ç”µè¯ï¼Œå¾—å…ˆæŸ¥ä»–çš„ç”µè¯å·ç ã€‚</p>
<p>DNSè§£æçš„è¿‡ç¨‹å°±åƒæŸ¥ç”µè¯ç°¿ï¼š</p>
<ul>
<li>å…ˆé—®æœ¬åœ°DNSç¼“å­˜ï¼ˆæ‰‹æœºé€šè®¯å½•ï¼‰</li>
<li>å†é—®ISPçš„DNSæœåŠ¡å™¨ï¼ˆå°åŒºç‰©ä¸šï¼‰</li>
<li>æœ€åé—®æ ¹åŸŸåæœåŠ¡å™¨ï¼ˆå›½å®¶ç”µä¿¡æ€»å±€ï¼‰</li>
</ul>
<p>æ•´ä¸ªè¿‡ç¨‹é€šå¸¸åªéœ€è¦å‡ æ¯«ç§’ï¼Œå¿«å¾—å°±åƒä½ ä»é€šè®¯å½•é‡Œæ‰¾åˆ°æœ‹å‹çš„ç”µè¯ï¼ğŸ“</p>
<h4 data-id="heading-3">2. ğŸ›°ï¸ TCPè¿æ¥ï¼šå»ºç«‹"æ•°æ®é«˜é€Ÿå…¬è·¯"</h4>
<p>æ‹¿åˆ°IPåœ°å€åï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´ä¼šå»ºç«‹ä¸€æ¡TCPè¿æ¥â€”â€”è¿™å°±åƒåœ¨ä¸¤åœ°ä¹‹é—´ä¿®äº†ä¸€æ¡é«˜é€Ÿå…¬è·¯ï¼Œæ•°æ®å¯ä»¥åœ¨ä¸Šé¢å¿«é€Ÿä¼ è¾“ã€‚</p>
<p>TCPè¿æ¥çš„å»ºç«‹éœ€è¦"ä¸‰æ¬¡æ¡æ‰‹"ï¼š</p>
<ol>
<li>æµè§ˆå™¨ï¼š"ä½ å¥½ï¼Œæˆ‘æƒ³è¿æ¥ä½ ï¼" ğŸ‘‹</li>
<li>æœåŠ¡å™¨ï¼š"ä½ å¥½ï¼Œæˆ‘æ”¶åˆ°äº†ï¼" ğŸ‘Œ</li>
<li>æµè§ˆå™¨ï¼š"å¥½çš„ï¼Œå’±ä»¬å¼€å§‹ä¼ è¾“æ•°æ®å§ï¼" ğŸš€</li>
</ol>
<p>è¿™ä¸‰æ¬¡æ¡æ‰‹ç¡®ä¿äº†è¿æ¥çš„å¯é æ€§ï¼Œå°±åƒä½ å’Œæœ‹å‹ç¡®è®¤"å–‚ï¼Ÿå–‚ï¼Ÿèƒ½å¬åˆ°å—ï¼Ÿ"ä¸€æ ·ã€‚</p>
<h4 data-id="heading-4">3. ğŸ”„ HTTPè¯·æ±‚ï¼šå‘é€"è´­ç‰©æ¸…å•"</h4>
<p>è¿æ¥å»ºç«‹åï¼Œæµè§ˆå™¨ä¼šå‘æœåŠ¡å™¨å‘é€HTTPè¯·æ±‚â€”â€”è¿™å°±åƒä½ ç»™è¶…å¸‚å‘äº†ä¸€ä»½è´­ç‰©æ¸…å•ï¼Œä¸Šé¢å†™ç€ä½ æƒ³è¦çš„ç½‘é¡µå†…å®¹ã€‚</p>
<p>è¯·æ±‚é‡ŒåŒ…å«äº†å¾ˆå¤šä¿¡æ¯ï¼š</p>
<ul>
<li>è¯·æ±‚æ–¹æ³•ï¼ˆGET/POSTï¼‰ï¼šæ˜¯æƒ³ä¹°ä¸œè¥¿è¿˜æ˜¯é€€è´§ï¼Ÿ</li>
<li>è¯·æ±‚å¤´ï¼šä½ çš„æµè§ˆå™¨ç±»å‹ã€æ”¯æŒçš„æ ¼å¼ç­‰</li>
<li>è¯·æ±‚ä½“ï¼šä½ è¦æäº¤çš„æ•°æ®ï¼ˆæ¯”å¦‚ç™»å½•ä¿¡æ¯ï¼‰</li>
</ul>
<h4 data-id="heading-5">4. ğŸ“¦ HTTPå“åº”ï¼šæ”¶åˆ°"å¿«é€’åŒ…è£¹"</h4>
<p>æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œä¼šæ ¹æ®è¯·æ±‚å†…å®¹å‡†å¤‡å“åº”â€”â€”è¿™å°±åƒè¶…å¸‚æ ¹æ®ä½ çš„æ¸…å•æ‰“åŒ…å•†å“ï¼Œç„¶åå¿«é€’ç»™ä½ ã€‚</p>
<p>å“åº”é‡Œä¹ŸåŒ…å«äº†å¾ˆå¤šä¿¡æ¯ï¼š</p>
<ul>
<li>çŠ¶æ€ç ï¼š200è¡¨ç¤ºæˆåŠŸï¼Œ404è¡¨ç¤ºæ‰¾ä¸åˆ°é¡µé¢</li>
<li>å“åº”å¤´ï¼šå†…å®¹ç±»å‹ã€é•¿åº¦ã€ç¼–ç ç­‰</li>
<li>å“åº”ä½“ï¼šç½‘é¡µçš„å®é™…å†…å®¹ï¼ˆHTML/CSS/JSç­‰ï¼‰</li>
</ul>
<h4 data-id="heading-6">5. ğŸ§™ æ¸²æŸ“å¼•æ“ï¼š"é­”æ³•å¨å¸ˆ"çš„è¡¨æ¼”</h4>
<p>æ”¶åˆ°æœåŠ¡å™¨çš„å“åº”åï¼Œæµè§ˆå™¨çš„æ¸²æŸ“å¼•æ“å°±å¼€å§‹å·¥ä½œäº†â€”â€”è¿™æ˜¯æ•´ä¸ªè¿‡ç¨‹ä¸­æœ€ç²¾å½©çš„éƒ¨åˆ†ï¼æ¸²æŸ“å¼•æ“å°±åƒä¸€ä½"é­”æ³•å¨å¸ˆ"ï¼ŒæŠŠå„ç§"é£Ÿæ"ï¼ˆHTML/CSS/JSï¼‰å˜æˆä¸€é“"ç¾å‘³ä½³è‚´"ï¼ˆç½‘é¡µï¼‰ã€‚</p>
<h3 data-id="heading-7">ğŸ§  æ¸²æŸ“å¼•æ“ï¼šæµè§ˆå™¨çš„"å¤§è„‘"</h3>
<p>ç›®å‰ä¸»æµçš„æ¸²æŸ“å¼•æ“æœ‰ä¸¤ä¸ªï¼š</p>
<ul>
<li><strong>WebKit</strong>ï¼šSafariå’Œæ—©æœŸChromeä½¿ç”¨ ğŸ</li>
<li><strong>Gecko</strong>ï¼šFirefoxä½¿ç”¨ ğŸ¦Š</li>
<li><strong>Blink</strong>ï¼šç°åœ¨Chromeå’ŒEdgeä½¿ç”¨ï¼ˆåŸºäºWebKitï¼‰ ğŸ”´</li>
</ul>
<p>ä¸ç®¡æ˜¯å“ªç§æ¸²æŸ“å¼•æ“ï¼Œå®ƒä»¬çš„å·¥ä½œåŸç†éƒ½å·®ä¸å¤šï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<h4 data-id="heading-8">1. ğŸ“„ HTMLè§£æï¼šæ„å»ºDOMæ ‘</h4>
<p>é¦–å…ˆï¼Œæ¸²æŸ“å¼•æ“ä¼šæŠŠHTMLä»£ç è§£ææˆä¸€ä¸ªæ ‘å½¢ç»“æ„â€”â€”<strong>DOMæ ‘</strong>ï¼ˆDocument Object Modelï¼‰ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼ŒHTMLä»£ç å°±åƒä¸€æœ¬å®¶è°±ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æˆ‘çš„ç½‘é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¿™æ˜¯ä¸€æ®µæ­£æ–‡<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>è§£æåç”Ÿæˆçš„DOMæ ‘å°±åƒè¿™æ ·ï¼š</p>
<ul>
<li><code>html</code> æ˜¯æ ¹èŠ‚ç‚¹</li>
<li><code>head</code> å’Œ <code>body</code> æ˜¯å®ƒçš„å­èŠ‚ç‚¹</li>
<li><code>title</code>ã€<code>h1</code>ã€<code>p</code> æ˜¯å­™å­èŠ‚ç‚¹</li>
</ul>
<p>å°±åƒä¸€ä¸ªå¤§å®¶åº­ï¼Œæ¯ä¸ªæ ‡ç­¾éƒ½æ˜¯ä¸€ä¸ªå®¶åº­æˆå‘˜ï¼Œæœ‰ç€æ˜ç¡®çš„å±‚çº§å…³ç³»ã€‚ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</p>
<h4 data-id="heading-9">2. ğŸ¨ CSSè§£æï¼šæ„å»ºCSSOMæ ‘</h4>
<p>æ¥ä¸‹æ¥ï¼Œæ¸²æŸ“å¼•æ“ä¼šè§£æCSSä»£ç ï¼Œç”Ÿæˆ<strong>CSSOMæ ‘</strong>ï¼ˆCSS Object Modelï¼‰ã€‚</p>
<p>CSSOMæ ‘è®°å½•äº†æ¯ä¸ªå…ƒç´ çš„æ ·å¼ä¿¡æ¯ï¼š</p>
<ul>
<li>é¢œè‰²ã€å­—ä½“ã€å¤§å°</li>
<li>è¾¹è·ã€padding</li>
<li>å®šä½æ–¹å¼</li>
<li>ç­‰ç­‰</li>
</ul>
<p>è¿™å°±åƒç»™æ¯ä¸ªå®¶åº­æˆå‘˜ç©¿ä¸Šä¸åŒçš„è¡£æœï¼Œæœ‰çš„ç©¿è¥¿è£…ï¼Œæœ‰çš„ç©¿Tæ¤ï¼Œæœ‰çš„ç©¿è£™å­ã€‚ğŸ‘—ğŸ‘”</p>
<h4 data-id="heading-10">3. ğŸŒ³ æ„å»ºæ¸²æŸ“æ ‘</h4>
<p>æœ‰äº†DOMæ ‘å’ŒCSSOMæ ‘ï¼Œæ¸²æŸ“å¼•æ“ä¼šæŠŠå®ƒä»¬åˆå¹¶æˆä¸€æ£µ<strong>æ¸²æŸ“æ ‘</strong>ï¼ˆRender Treeï¼‰ã€‚</p>
<p>æ¸²æŸ“æ ‘åªåŒ…å«å¯è§çš„å…ƒç´ ï¼š</p>
<ul>
<li>ä¼šå¿½ç•¥ <code>display: none</code> çš„å…ƒç´ </li>
<li>ä¼šå¿½ç•¥ <code>&lt;head&gt;</code> é‡Œçš„å…ƒç´ ï¼ˆé™¤éæœ‰å¯è§çš„å†…å®¹ï¼‰</li>
<li>ä¼šåº”ç”¨CSSæ ·å¼åˆ°æ¯ä¸ªå¯è§å…ƒç´ </li>
</ul>
<p>è¿™å°±åƒåœ¨æ‹ç…§å‰ï¼Œåªè®©ç©¿å¥½è¡£æœçš„å®¶åº­æˆå‘˜ç«™æˆä¸€æ’ï¼Œå‡†å¤‡åˆå½±ã€‚ğŸ“¸</p>
<h4 data-id="heading-11">4. ğŸ“ å¸ƒå±€ï¼ˆLayoutï¼‰ï¼šè®¡ç®—æ¯ä¸ªå…ƒç´ çš„ä½ç½®å’Œå¤§å°</h4>
<p>æ¥ä¸‹æ¥æ˜¯<strong>å¸ƒå±€</strong>é˜¶æ®µï¼Œæ¸²æŸ“å¼•æ“ä¼šè®¡ç®—æ¯ä¸ªå…ƒç´ åœ¨é¡µé¢ä¸Šçš„ç¡®åˆ‡ä½ç½®å’Œå¤§å°ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹ä¹Ÿå«"é‡æ’"ï¼ˆReflowï¼‰ï¼Œå®ƒä¼šè€ƒè™‘ï¼š</p>
<ul>
<li>å…ƒç´ çš„å°ºå¯¸</li>
<li>å…ƒç´ çš„ä½ç½®</li>
<li>å…ƒç´ çš„å¤–è¾¹è·å’Œå†…è¾¹è·</li>
<li>çˆ¶å…ƒç´ çš„çº¦æŸ</li>
<li>ç­‰ç­‰</li>
</ul>
<p>å°±åƒåœ¨å¸ƒç½®èˆå°ï¼Œå¯¼æ¼”ä¼šç²¾ç¡®è®¡ç®—æ¯ä¸ªæ¼”å‘˜çš„ç«™ä½å’Œç§»åŠ¨è·¯çº¿ã€‚ğŸ­</p>
<h4 data-id="heading-12">5. ğŸ¨ ç»˜åˆ¶ï¼ˆPaintï¼‰ï¼šç»™å…ƒç´ ä¸Šè‰²</h4>
<p>å¸ƒå±€å®Œæˆåï¼Œæ¸²æŸ“å¼•æ“ä¼šå¼€å§‹<strong>ç»˜åˆ¶</strong>é˜¶æ®µï¼Œå°†æ¸²æŸ“æ ‘è½¬æ¢ä¸ºå±å¹•ä¸Šçš„åƒç´ ã€‚</p>
<p>ç»˜åˆ¶è¿‡ç¨‹ä¼šæŒ‰ç…§ä¸€å®šçš„é¡ºåºè¿›è¡Œï¼š</p>
<ul>
<li>èƒŒæ™¯è‰²</li>
<li>è¾¹æ¡†</li>
<li>æ–‡å­—</li>
<li>é˜´å½±</li>
<li>ç­‰ç­‰</li>
</ul>
<p>å°±åƒç”»å®¶ä½œç”»ï¼Œå…ˆç”»èƒŒæ™¯ï¼Œå†ç”»ä¸»ä½“ï¼Œæœ€åç”»ç»†èŠ‚ã€‚ğŸ–Œï¸</p>
<h4 data-id="heading-13">6. ğŸ”„ åˆæˆï¼ˆCompositeï¼‰ï¼šå°†å›¾å±‚åˆå¹¶</h4>
<p>æœ€åæ˜¯<strong>åˆæˆ</strong>é˜¶æ®µï¼Œæ¸²æŸ“å¼•æ“ä¼šå°†æ‰€æœ‰ç»˜åˆ¶å¥½çš„å›¾å±‚åˆå¹¶æˆä¸€ä¸ªå®Œæ•´çš„é¡µé¢ã€‚</p>
<p>ç°ä»£æµè§ˆå™¨ä¼šä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿï¼ˆGPUï¼‰æ¥å®Œæˆè¿™ä¸ªè¿‡ç¨‹ï¼Œè¿™æ ·å¯ä»¥æé«˜æ€§èƒ½ã€‚å°±åƒç”µå½±åæœŸåˆ¶ä½œï¼ŒæŠŠä¸åŒåœºæ™¯çš„èƒ¶ç‰‡åˆæˆä¸€éƒ¨å®Œæ•´çš„ç”µå½±ã€‚ğŸ¬</p>
<h3 data-id="heading-14">ğŸš€ æ¸²æŸ“å¼•æ“å·¥ä½œæµç¨‹å›¾</h3>















































<table><thead><tr><th>æ­¥éª¤</th><th>åç§°</th><th>ä½œç”¨</th><th>æ¯”å–»</th></tr></thead><tbody><tr><td>1</td><td>HTMLè§£æ</td><td>ç”ŸæˆDOMæ ‘</td><td>å†™å®¶è°±</td></tr><tr><td>2</td><td>CSSè§£æ</td><td>ç”ŸæˆCSSOMæ ‘</td><td>ç©¿è¡£æœ</td></tr><tr><td>3</td><td>æ„å»ºæ¸²æŸ“æ ‘</td><td>åˆå¹¶DOMå’ŒCSSOM</td><td>æ’åˆå½±</td></tr><tr><td>4</td><td>å¸ƒå±€</td><td>è®¡ç®—ä½ç½®å’Œå¤§å°</td><td>èˆå°å¸ƒç½®</td></tr><tr><td>5</td><td>ç»˜åˆ¶</td><td>å¡«å……åƒç´ </td><td>ç”»å®¶ä½œç”»</td></tr><tr><td>6</td><td>åˆæˆ</td><td>åˆå¹¶å›¾å±‚</td><td>ç”µå½±åæœŸ</td></tr></tbody></table>
<h3 data-id="heading-15">ğŸ’¡ æ€§èƒ½ä¼˜åŒ–ï¼šè®©ç½‘é¡µ"é£"èµ·æ¥</h3>
<p>ç½‘é¡µåŠ è½½é€Ÿåº¦å¯¹ç”¨æˆ·ä½“éªŒè‡³å…³é‡è¦ã€‚ç ”ç©¶è¡¨æ˜ï¼š</p>
<blockquote>
<p><strong>é¡µé¢åŠ è½½æ—¶é—´æ¯å¢åŠ 1ç§’ï¼Œè½¬åŒ–ç‡ä¸‹é™7%ï¼Œç”¨æˆ·æ»¡æ„åº¦ä¸‹é™16%ï¼</strong> ğŸ“Š</p>
</blockquote>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•ä¼˜åŒ–ç½‘é¡µæ€§èƒ½å‘¢ï¼Ÿ</p>
<h4 data-id="heading-16">1. âš¡ å‡å°‘HTTPè¯·æ±‚ï¼šå°‘è·‘è…¿ï¼Œå¤šåŠäº‹</h4>
<p>æ¯ä¸€ä¸ªHTTPè¯·æ±‚éƒ½éœ€è¦å»ºç«‹è¿æ¥ã€ä¼ è¾“æ•°æ®ã€æ–­å¼€è¿æ¥ï¼Œè¿™éœ€è¦æ—¶é—´ã€‚å‡å°‘HTTPè¯·æ±‚å¯ä»¥æ˜¾è‘—æé«˜åŠ è½½é€Ÿåº¦ã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>åˆå¹¶CSSå’ŒJavaScriptæ–‡ä»¶</li>
<li>ä½¿ç”¨CSS Spritesåˆå¹¶å°å›¾æ ‡</li>
<li>å†…è”å…³é”®CSS</li>
<li>å‡å°‘ä¸å¿…è¦çš„å›¾ç‰‡å’Œè„šæœ¬</li>
</ul>
<p>å°±åƒä½ å»è¶…å¸‚ä¹°ä¸œè¥¿ï¼Œä¸€æ¬¡ä¹°é½æ‰€æœ‰ä¸œè¥¿æ¯”è·‘åæ¬¡è¶…å¸‚è¦å¿«å¾—å¤šï¼ğŸ›’</p>
<h4 data-id="heading-17">2. ğŸ“¦ å‹ç¼©èµ„æºï¼šç»™æ–‡ä»¶"å‡è‚¥"</h4>
<p>å‹ç¼©HTMLã€CSSã€JavaScriptæ–‡ä»¶å¯ä»¥å‡å°‘æ–‡ä»¶å¤§å°ï¼ŒåŠ å¿«ä¼ è¾“é€Ÿåº¦ã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨gzipæˆ–brotliå‹ç¼©æ–‡æœ¬æ–‡ä»¶</li>
<li>å‹ç¼©å›¾ç‰‡ï¼ˆJPEGä¼˜åŒ–ã€PNGå‹ç¼©ã€WebPæ ¼å¼ï¼‰</li>
<li>ç§»é™¤ä¸å¿…è¦çš„ä»£ç å’Œæ³¨é‡Š</li>
</ul>
<p>å°±åƒä½ å¯„å¿«é€’ï¼ŒæŠŠä¸œè¥¿å‹ç¼©æ‰“åŒ…åï¼Œä¸ä»…çœé’±ï¼Œè¿˜èƒ½æ›´å¿«é€è¾¾ï¼ğŸ“®</p>
<h4 data-id="heading-18">3. ğŸŒ ä½¿ç”¨CDNï¼šå°±è¿‘å‘è´§</h4>
<p>CDNï¼ˆå†…å®¹åˆ†å‘ç½‘ç»œï¼‰å¯ä»¥å°†ä½ çš„é™æ€èµ„æºåˆ†å‘åˆ°å…¨çƒå„åœ°çš„æœåŠ¡å™¨ä¸Šï¼Œç”¨æˆ·å¯ä»¥ä»ç¦»ä»–æœ€è¿‘çš„æœåŠ¡å™¨è·å–èµ„æºã€‚</p>
<p><strong>ä¼˜åŒ–æ•ˆæœ</strong>ï¼š</p>
<ul>
<li>å‡å°‘ç½‘ç»œå»¶è¿Ÿ</li>
<li>æé«˜èµ„æºåŠ è½½é€Ÿåº¦</li>
<li>å‡è½»æºæœåŠ¡å™¨å‹åŠ›</li>
</ul>
<p>å°±åƒä½ åœ¨ç½‘ä¸Šè´­ç‰©ï¼Œé€‰æ‹©æœ¬åœ°ä»“å‘è´§ï¼Œç¬¬äºŒå¤©å°±èƒ½æ”¶åˆ°å•†å“ï¼ğŸšš</p>
<h4 data-id="heading-19">4. â³ æ‡’åŠ è½½ï¼šæŒ‰éœ€åŠ è½½</h4>
<p>æ‡’åŠ è½½æ˜¯æŒ‡åªåŠ è½½ç”¨æˆ·å½“å‰å¯è§åŒºåŸŸçš„å†…å®¹ï¼Œå½“ç”¨æˆ·æ»šåŠ¨é¡µé¢æ—¶å†åŠ è½½å…¶ä»–å†…å®¹ã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>é•¿é¡µé¢çš„å›¾ç‰‡</li>
<li>è§†é¢‘å†…å®¹</li>
<li>åˆ—è¡¨é¡µçš„åˆ†é¡µå†…å®¹</li>
</ul>
<p>å°±åƒä½ å»é¤å…åƒé¥­ï¼ŒæœåŠ¡å‘˜ä¸ä¼šä¸€æ¬¡æ€§æŠŠæ‰€æœ‰èœéƒ½ç«¯ä¸Šæ¥ï¼Œè€Œæ˜¯æŒ‰éœ€ä¸Šèœï¼ğŸ½ï¸</p>
<h4 data-id="heading-20">5. ğŸš« é¿å…é‡æ’å’Œé‡ç»˜ï¼šå‡å°‘ä¸å¿…è¦çš„æ“ä½œ</h4>
<p>é‡æ’ï¼ˆLayoutï¼‰å’Œé‡ç»˜ï¼ˆPaintï¼‰æ˜¯æ€§èƒ½æ€æ‰‹ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡é¿å…ã€‚</p>
<p><strong>é¿å…æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>ä¸è¦é¢‘ç¹ä¿®æ”¹DOMæ ·å¼</li>
<li>ä½¿ç”¨transformå’Œopacityæ¥åšåŠ¨ç”»ï¼ˆåªä¼šè§¦å‘åˆæˆï¼Œä¸ä¼šè§¦å‘é‡æ’å’Œé‡ç»˜ï¼‰</li>
<li>æ‰¹é‡ä¿®æ”¹DOM</li>
<li>ä½¿ç”¨documentFragment</li>
</ul>
<p>å°±åƒä½ åœ¨æ‹ç…§æ—¶ï¼Œä¸è¦é¢‘ç¹è®©æ¨¡ç‰¹æ¢å§¿åŠ¿ï¼Œä¸€æ¬¡æ€§æ‘†å¥½å§¿åŠ¿æ‹ç…§æ›´é«˜æ•ˆï¼ğŸ“¸</p>
<h3 data-id="heading-21">ğŸ¯ ä¸åŒæµè§ˆå™¨çš„"é­”æ³•å¨å¸ˆ"</h3>
<p>ä¸åŒçš„æµè§ˆå™¨æœ‰ä¸åŒçš„æ¸²æŸ“å¼•æ“ï¼Œå®ƒä»¬å°±åƒä¸åŒé£æ ¼çš„å¨å¸ˆï¼Œåšå‡ºçš„"èœ"å‘³é“ç•¥æœ‰ä¸åŒï¼š</p>









































<table><thead><tr><th>æµè§ˆå™¨</th><th>æ¸²æŸ“å¼•æ“</th><th>ç‰¹ç‚¹</th><th>æ¯”å–»</th></tr></thead><tbody><tr><td>Chrome</td><td>Blink</td><td>é€Ÿåº¦å¿«ï¼Œå…¼å®¹æ€§å¥½</td><td>å¿«é¤è¿é”åº—ï¼Œé«˜æ•ˆä¾¿æ·</td></tr><tr><td>Firefox</td><td>Gecko</td><td>å¼€æºï¼Œå®‰å…¨ï¼Œçµæ´»</td><td>ç§æˆ¿èœé¦†ï¼Œæ³¨é‡å“è´¨</td></tr><tr><td>Safari</td><td>WebKit</td><td>æµç•…ï¼Œé€‚åˆè‹¹æœè®¾å¤‡</td><td>æ³•å¼é¤å…ï¼Œç²¾è‡´ä¼˜é›…</td></tr><tr><td>Edge</td><td>Blink</td><td>ç°ä»£ï¼Œæ•´åˆå¾®è½¯æœåŠ¡</td><td>æ–°æ´¾é¤å…ï¼Œèåˆåˆ›æ–°</td></tr><tr><td>IE</td><td>Trident</td><td>å¤è€ï¼Œå…¼å®¹æ€§å·®</td><td>ä¼ ç»Ÿè€åº—ï¼Œé€æ¸æ·˜æ±°</td></tr></tbody></table>
<h3 data-id="heading-22">ğŸ§ª è¶£å‘³å®éªŒï¼šäº²çœ¼è§è¯æ¸²æŸ“è¿‡ç¨‹</h3>
<p>å’±ä»¬æ¥åšä¸ªå°å®éªŒï¼Œçœ‹çœ‹æµè§ˆå™¨æ˜¯å¦‚ä½•æ¸²æŸ“ç½‘é¡µçš„ã€‚æ‰“å¼€Chromeæµè§ˆå™¨ï¼ŒæŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡»"Performance"æ ‡ç­¾ï¼Œç„¶åç‚¹å‡»"Record"æŒ‰é’®ï¼Œåˆ·æ–°é¡µé¢ã€‚</p>
<p>ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªè¯¦ç»†çš„æ¸²æŸ“æ—¶é—´çº¿ï¼Œä¸Šé¢æ¸…æ¥šåœ°æ˜¾ç¤ºäº†æ¯ä¸ªé˜¶æ®µçš„è€—æ—¶ï¼š</p>
<ul>
<li>DNS Lookup</li>
<li>Initial Connection</li>
<li>Request/Response</li>
<li>DOMContentLoaded</li>
<li>Load</li>
</ul>
<p>è¿™å°±åƒä½ çœ‹ç”µå½±çš„è¿›åº¦æ¡ï¼Œèƒ½æ¸…æ¥šåœ°çŸ¥é“æ¯ä¸ªç¯èŠ‚ç”¨äº†å¤šé•¿æ—¶é—´ï¼â±ï¸</p>
<h3 data-id="heading-23">ğŸ”® æœªæ¥ï¼šæ¸²æŸ“å¼•æ“çš„å‘å±•è¶‹åŠ¿</h3>
<p>éšç€WebæŠ€æœ¯çš„å‘å±•ï¼Œæ¸²æŸ“å¼•æ“ä¹Ÿåœ¨ä¸æ–­è¿›åŒ–ï¼š</p>
<ol>
<li><strong>ğŸ–¼ï¸ WebAssembly</strong>ï¼šè®©æµè§ˆå™¨èƒ½è¿è¡Œæ¥è¿‘åŸç”Ÿé€Ÿåº¦çš„ä»£ç ï¼Œé€‚åˆæ¸¸æˆå’Œå¤æ‚åº”ç”¨</li>
<li><strong>âš¡ æ¸²æŸ“ä¼˜åŒ–</strong>ï¼šæ›´å¥½çš„ç¡¬ä»¶åŠ é€Ÿï¼Œæ›´æ™ºèƒ½çš„æ¸²æŸ“ç­–ç•¥</li>
<li><strong>ğŸ“± å“åº”å¼è®¾è®¡</strong>ï¼šæ›´å¥½åœ°æ”¯æŒä¸åŒè®¾å¤‡å’Œå±å¹•å°ºå¯¸</li>
<li><strong>ğŸ”’ å®‰å…¨æ€§</strong>ï¼šæ›´å¼ºçš„æ²™ç®±æœºåˆ¶ï¼Œæ›´å¥½çš„æ¶æ„ä»£ç é˜²æŠ¤</li>
</ol>
<p>æœªæ¥çš„æ¸²æŸ“å¼•æ“ä¼šè¶Šæ¥è¶Šæ™ºèƒ½ï¼Œç½‘é¡µåŠ è½½é€Ÿåº¦ä¼šè¶Šæ¥è¶Šå¿«ï¼Œç”¨æˆ·ä½“éªŒä¹Ÿä¼šè¶Šæ¥è¶Šå¥½ï¼ğŸš€</p>
<h3 data-id="heading-24">ğŸ“ äº’åŠ¨æ—¶é—´ï¼šä½ ç­”å¯¹äº†å—ï¼Ÿ</h3>
<p>æ¥åšä¸ªå°æµ‹éªŒï¼Œçœ‹çœ‹ä½ å¯¹æµè§ˆå™¨æ¸²æŸ“äº†è§£å¤šå°‘ï¼š</p>



































<table><thead><tr><th>é—®é¢˜</th><th>ç­”æ¡ˆ</th><th>ä½ ç­”å¯¹äº†å—ï¼Ÿ</th></tr></thead><tbody><tr><td>æµè§ˆå™¨æ¸²æŸ“çš„ç¬¬ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ</td><td>HTMLè§£æ</td><td>âœ…/âŒ</td></tr><tr><td>display: noneçš„å…ƒç´ ä¼šè¢«åŒ…å«åœ¨æ¸²æŸ“æ ‘ä¸­å—ï¼Ÿ</td><td>ä¸ä¼š</td><td>âœ…/âŒ</td></tr><tr><td>é‡æ’å’Œé‡ç»˜å“ªä¸ªæ›´æ¶ˆè€—æ€§èƒ½ï¼Ÿ</td><td>é‡æ’</td><td>âœ…/âŒ</td></tr><tr><td>CSS Spritesçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</td><td>å‡å°‘HTTPè¯·æ±‚</td><td>âœ…/âŒ</td></tr><tr><td>CDNçš„ä¸­æ–‡å…¨ç§°æ˜¯ä»€ä¹ˆï¼Ÿ</td><td>å†…å®¹åˆ†å‘ç½‘ç»œ</td><td>âœ…/âŒ</td></tr></tbody></table>
<h3 data-id="heading-25">ğŸ¯ ç»“è¯­ï¼šæµè§ˆå™¨çš„"é­”æ³•"å…¶å®å¾ˆç®€å•</h3>
<p>æµè§ˆå™¨èƒ½çœ‹æ‡‚ç½‘é¡µä»£ç ï¼Œé çš„ä¸æ˜¯é­”æ³•ï¼Œè€Œæ˜¯ä¸€å¥—å¤æ‚ä½†æœ‰åºçš„å·¥ä½œæµç¨‹ã€‚ä»DNSè§£æåˆ°æœ€ç»ˆæ¸²æŸ“ï¼Œæ¯ä¸ªç¯èŠ‚éƒ½ç»è¿‡äº†ç²¾å¿ƒè®¾è®¡å’Œä¼˜åŒ–ã€‚</p>
<p>ä¸‹æ¬¡å½“ä½ åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°ä¸€ä¸ªç²¾ç¾çš„ç½‘é¡µæ—¶ï¼Œä¸å¦¨æƒ³ä¸€æƒ³ï¼š</p>
<blockquote>
<p>åœ¨è¿™èƒŒåï¼Œæœ‰å¤šå°‘å·¥ç¨‹å¸ˆçš„å¿ƒè¡€ï¼Œæœ‰å¤šå°‘æŠ€æœ¯çš„ç§¯ç´¯ï¼Œæœ‰å¤šå°‘ä¼˜åŒ–çš„åŠªåŠ›ã€‚</p>
</blockquote>
<p>å°±åƒæˆ‘ä»¬çœ‹åˆ°çš„æ¯ä¸€é“ç¾å‘³ä½³è‚´ï¼ŒèƒŒåéƒ½æœ‰å¨å¸ˆçš„ç²¾å¿ƒå‡†å¤‡å’Œçƒ¹é¥ªæŠ€å·§ã€‚æµè§ˆå™¨çš„"é­”æ³•"ï¼Œå…¶å®æ˜¯äººç±»æ™ºæ…§çš„ç»“æ™¶ï¼âœ¨</p>
<hr/>
<h3 data-id="heading-26">ğŸ’¬ äº’åŠ¨è¯é¢˜</h3>
<ol>
<li>ä½ é‡åˆ°è¿‡çš„æœ€æ…¢çš„ç½‘é¡µåŠ è½½æ—¶é—´æ˜¯å¤šå°‘ï¼Ÿ</li>
<li>ä½ çŸ¥é“å“ªäº›æå‡ç½‘é¡µæ€§èƒ½çš„å°æŠ€å·§ï¼Ÿ</li>
<li>ä½ è§‰å¾—æœªæ¥çš„æµè§ˆå™¨ä¼šæ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ</li>
</ol>
<p>å¿«æ¥è¯„è®ºåŒºèŠèŠä½ çš„æƒ³æ³•ï¼ğŸ’¬ ç‚¹èµæ”¶è—ä¸è¿·è·¯ï¼Œå’±ä»¬ä¸‹æœŸç»§ç»­æ¢ç´¢è®¡ç®—æœºçš„"åä¸‡ä¸ªä¸ºä»€ä¹ˆ"ï¼ğŸ‰</p>
<p><strong>å…³æ³¨æˆ‘</strong>ï¼Œä¸‹æœŸå¸¦ä½ è§£é”æ›´å¤šè®¡ç®—æœºçš„"å¥‡è‘©å†·çŸ¥è¯†"ï¼ğŸ¤“</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue 3 ç»„ä»¶å¼€å‘æœ€ä½³å®è·µï¼šå¯å¤ç”¨ç»„ä»¶è®¾è®¡æ¨¡å¼]]></title>    <link>https://juejin.cn/post/7582533464245878818</link>    <guid>https://juejin.cn/post/7582533464245878818</guid>    <pubDate>2025-12-12T08:28:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582533464245878818" data-draft-id="7582776967817248768" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue 3 ç»„ä»¶å¼€å‘æœ€ä½³å®è·µï¼šå¯å¤ç”¨ç»„ä»¶è®¾è®¡æ¨¡å¼"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-12T08:28:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾®èŠ’ä¸æœ½"/> <meta itemprop="url" content="https://juejin.cn/user/3702810894153592"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue 3 ç»„ä»¶å¼€å‘æœ€ä½³å®è·µï¼šå¯å¤ç”¨ç»„ä»¶è®¾è®¡æ¨¡å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3702810894153592/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾®èŠ’ä¸æœ½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T08:28:44.000Z" title="Fri Dec 12 2025 08:28:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body ::selection{color:#fff;background-color:#ed7373}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:.6em;margin-top:1.5em;padding-bottom:4px;color:#ed7373}.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px}.markdown-body h4{font-size:16px}.markdown-body h5,.markdown-body h6{font-size:14px}.markdown-body p{line-height:inherit;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border-top:1px solid #dfe1e6;margin:33px 0}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:rgba(239,198,221,.2666666667);color:#7b164f;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==") 10px 10px no-repeat;background-size:40px;background-color:#fdf8f8}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#fdf8f8}.markdown-body a{position:relative;text-decoration:underline;text-decoration-color:#ffd4d4;color:#ed7373;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAD1lJREFUeF7tnV122zgShQHJG5gT9/OkV2J7JR3voI/U707eI5/eQeyVRFlJa56nc2YDFjkHEulWHP3g5xZYAK5eku6QYOFWfSwUAJLW8EcFqMBJBSy1oQJU4LQCBITRQQXOKEBAGB5UgIAwBqhAnALMIHG68axGFCAgjTia3YxTgIDE6cazGlGAgDTiaHYzTgECEqcbz2pEAQLSiKPZzTgFCEicbjyrEQUISCOOZjfjFCAgcbrxrEYUICCNOJrdjFOAgMTpxrMaUYCANOJodjNOAQISpxvPakQBAtKIo9nNOAUISJxuPKsRBQhII45GdfN/v//+/l9//rlBtae9HQKi3UOZ7ft7sfhgjfm3sfa9u3RvzHtrjPv77r8PfpvemB0o1v3Z95tuNvt29fKyqQkgApI5ADVebgeFtTfGmA8I+3pj1rbv17Ouey4dFgKCiIgC2/i+WDwYax0QbzMDtDcjLC67/PL58xraeIbGCEgGkTVd4vty+QWVKUL75WCZb7f3JWUVAhLq5UKPHzLGRyXmP822208lgEJAlESMlBlDfeGyhsafelAIiMawAdjkpmO38/kXa8wtoDnRJvq+v79+fHwSvUhk4wQkUjjNp/33jz9uZ33/VbONP9nW9x/fPT5+0mYzAdHmkUR7lNUaob1RN+QiIKEuVHz838vl1xKGVOck1DbTRUAUB7yvaSXVG5592sy22zsNs1wExNNjWg+rEI5XqWfb7a9TQ0JAtEa+h101wzF0f/JMQkA8AlHjIQ3AMco+KSQERGP0X7CpITj2Skw4BUxACgOkOThG/0wECQEpCJBm4Rh81Fl7l3tHMAEpBJCJ4Hjq+/7bvOt229THGSVny8vV1W6b/Kzrbnprb088VAVXN/fMFgGBuxDfYE443L4oB0TM9OqwxcVtjJR7xiTzUIuA4OMZ2mI2OICBN+wgfpACJWcWISDQcMY2lgMOt7XjerW6w1q+b03sqUUgzJf6TUAuKTTRv+eAI8f0qdSwK1cWISATAXDusjngyDkj5PrTzedu+z2uNsmURQiIMkBqg2OUVwKSHFmEgCgCpFY4xCDJkEUIiBJAaodjlBlZuEtOMIz2EhAFgLQCxxtIIG9YkR5mEZCJAWkNjldIlsu/EEW79AsfCMiEgLQKx8EaCSKLPL1bre6l3EhApJS90G7LcKCziOQwi4BMAAjh+GGlPTmLSK7pEJDMgBCOfwRHvb9Lsg4hIBkBIRw/i/0dUawLrocQkEyAEI7jQoPeNi9WqBOQDIAQjtMig16uTUAyxLHIJQjHeVkRdYjkijoziAgW+0YJx2VxEYAYYzbvVqtfL18t/AgCEq6Z1xmEw0um3U2km8/dqnrS791qJRLLIo0m9bSCkwmHvxNBgDCD+Es+7ZGEI0x/DrHC9Cr6aMIR7j7ELBaL9HDds59BOOIkB33wh9O8cfLnOYtwxOsM+egPV9LjHSB9JuFIU/j7ctmntSD7cmvOYiV6B3IHPGOD5E7VxK4nnw4q0A03Kya7QqYBwpGmK6j+MFJrIK53zCCRPgZtsjt59Zozh+s0aP3DNSW2BkJAIuFATE2eu3TtcLi+w24wggU6AYkABDVuPnXpFuAAZg8jrReHWAGQIB177LLSzg7oqtih4Dcsig6vmEECw0CyKG8BDic3VEPh4RUBCQAENePSaubY1R2LxYOxNvklDa8aEpCACBY+FLKgdcTGZjLHYvHBWuu+PoX6iQ+vmEE8XQW/8w3XJRyeDjhymOTi4OHlWKRf8JFUYU444uGQXvsgIAG+kcgesXAM6y83/fAhGtv36242+5b708i+8kmtF+XKHhxiTZA9YuDwCLSn2Xb7KebLtL7BHnqch82hTY7HZ6k9xotxiHXGTejsEQXHcvnVGnPrEU2b2XZ7pwESQTjEFwbf6kxAzgGCeOvf2H7ElGQMoDmHH8ekk4RD8snBU2FAQE4oAy7Og594S7p+BIweGeriIZJw5CzMWaRfdDV0UStqzByTPX7oVt9/nHXdc64hV41wsEjPMLyKqTucWZAtGZkyiTAc2esOZpBMs1cpY2bIW89dP4UhkYZj6pqKNcgRWFBb2lO+fAQDxBiTYse5e4k0HMaY4NrNY/QcdAgBOSJX8vjf3biNWV+vVndB3jg4GPZA0b5N+BSwNByp+sXqzmleD+UQgMTWHqN5AgEIg0TAtrdemTxzjAYxgxzLIMul23X6wYOlU4dEzVy9bQw5zNq1DahHpOGYuuZgBvGI+uQZJEAgOjOHWsjB+t7DbK9DUgIQkVnPGZmadb0ECDyIGeR4Bkl6mRnS0WhIYsf2LcLhQoOACACCfk8T+Dnu4BetJa3qe9yxkTcUj8sFHUJAjgPiPugSO6yB1B9vzUJCEppFBLPHprP2Xut2fWaQE/eSxOJYBJDR1ETbXnscUosk12THdVYPBwE5AUhiQIgCAswk3tO+As/ji2oUNIa6cDCHWOBp3tDhS4wzUZD4ZhEkIDn0idH01DkEBAyIaw5dpB9zHqgu8FqQgw3rEncXIAPft60qAXF32JRt3qnBJ7X36a1TUwPX926O2Pbiey3fwM11XBWADGsFv5n9o6m72SfnkJ2Iff98/fj4FCJo6mpxrmnLVJCdJj4wp+pRKhxVFOmeBXXwSw2S7s6glXQfqJPs3N0/+nufG0jCdbyGcT59neKYYjNIxKfPvGdtnCM8wTvpM587M8LhgOGPVwDHTAz4wofQQaqNIgGJgGOvX8CdPXVYEXKtFOcm2+k5zHI2hmx7yTXMTNHO59ziAEne9uAJCeChqaCM5eOsY8cA7PSqQw6vPWSt13rvjV1PnbXPmlfHQ7QuChBEMIQUjAnj7uCMFeI09GxW7N1+54+uuxkmRf4z77p1yuxhigZS5xYDCAKOUUTfdQrELFGOoVZqvRQLiFRQamq3CECQcPhObY5OSs4iATNFsYGRamMNxXSsdpfOUw8IGg4nSMgdE5JFhCEhIJfCPP7fVQOCmKE5Ik3wRrnUABxtkLpTJ9vnOXERH2blnqkWECE4ot42gsoiodnLN6wAmwm91kJ87anpOJWAABa/Tvso8m6ZfJf+xyLo9G/ytPduCqr/+O7x8VNNgY3qizpAROEwJnh4NQodskh20TnAgITUaEB7Lva9sANUAZI6XXlB++Q7N3KohdqKgrApZNKisPhONlcNIMJwBM1cnVMVEZDIWgShGwrW5GhU2IAKQBBOPqct+g4JqUcAwxpI/ZHpAS+Fse9l0qSARG869Ora/iA0HK7NmJ2tP5kMAASUzaLrsgA3FHvopICUljkOvZwKCQJcRCYL2ZtWbJQnGD4ZICXDMeo93MHdO3yD36Hlux/slG8hs1ec4r2IziSAgIYGJzuHuDtfVG44IGr6FzG8An1gNKdWvppqOi47ILA73wkVp3B4ICTJY37gDSbZFk3BLGFLVkBQsy6nhJgCjtEWn5oEMd6HagjIZBJBqanNbIBAHXtEwSnhODRn2EP2MPy/sTaBPWWHrN20aKYJiLe2ZANEcguJVkenvp/rrbOQcEz13XHNMByzLQsgktlDKxzoQADWHXvTOLzyclEWQMB3vteOtQKHxNZ/bi/x4kP+AzpS2YNw+Dn46FHMHt7iiWcQiexBOLz9e+xATu0GyCcKiMSaB+EI8O6xQ5k9ggQUBQSxV+iwN4QjyLfMHslyCX7EE157NHLnkyjIxziRemkEIA7VNiGWQcDTkk28VEAUjgI/XqOBGjFAgMV5E0WlJBxcFIxHTQQQ5PCqhbpDGo7ZdntX2ztz40M+7EwRQICzV9VnD2E4RJ6oDAuxso8WAQRVf9S+2isNB4vydDhlAFku+3TT4t9hBbi2eBPScBhjmpjYkHaUXkAqntaVhgPx3Il04JXSPhwQVIFe6/CKcJSCxt5OrYBUWZwTjrLgEAEEMYNV4xCBcJQHhwggoECoqsAEaXIywmq8oWjBCT7EgkzxVlSgEw4toR5nBwGJ083rLMLhJZPqg/CALJdfjDHubYPxvwoyCOGId7+mM+GAgAKj6BoEpAFrDgWkqASk5KKTcCiIaqAJcEBanuYlHMDIVNIUHJBWV9IJh5KIBpsBB8TZB/gssSlpJyrhAEelouakAPkr5psZb3QpolAnHIqiWcAUEUBQj9tq37BIOAQiUlmTMoAsFh+stW49JO2neD2EcKS5tpSzRQBBzGSNAmrMIoSjlPBOt1MEkKFQR9Qh6t5CTjjSg66kFiQBSd9yMiqpZKhFOEoKbYytYoAgh1muq1MPtQgHJuBKa0UMEOgwa6/qZqr3OxGO0sIaZ68sIIvFg7H2I87c/JBAnm85I0DJ+86AflXblCggAlkkayZBreec8j7hUMvFq2HygOCzyM54ya0obj/Zdj7/Yo25lXIh4ZBSFtuuOCBCWWQPiTHr+XZ7j3zvrHS9Mdp9vVrdYV3J1iQUyAOIUBY5EORptt1+SgFlAMN933z8trmE3juoCYeItCKNZgFEMoscquKCz/b9etZ1zz6wDFDcmP1QShQMZg6R+BVvNBsgw7qIWzwUD8RBtU1vzMb93Q5/DkH63u5tyGXH63CQmUM8nuEXyAbILovID7XgAiEa5LAKoeI0bWQFpEVICMc0gY26anZActUjKIFS2iEcKerpOHcSQIbn1r/mrgNySk44cqotd61JAHHdqRkSwiEXsLlbngwQ19EJZrbE9SUc4hJnvcCkgFQHiZLnVrJGUOUXmxyQUV/pjYHSfmzhc9XSGmpsXw0gBU8Bbzpr73/5/Hmt0cG0KU0BVYAcQOLeDp91pTtGRtYbMaqVdY46QMa6xPb9g+R282Q3sd5IlrCEBlQCMgqndJariDc+lhB8JdioGpDXAn7/IjrxregXHJa8pb6EgKCNPypQBCATg0IwGqamKEB+GHp13U1v7a3Q1vWnvu+/XT8+PjUcG+z6/lGJ8n+uVhmK+nHmK2QGzD0zsnZAzLtu7fOgVfmKsQe+ClQByLHOur1eL1dXO1Bs170C089mm6uXl92DVITBN0zaPa5aQNp1KXuOVICAINVkW9UpQECqcyk7hFSAgCDVZFvVKUBAqnMpO4RUgIAg1WRb1SlAQKpzKTuEVICAINVkW9UpQECqcyk7hFSAgCDVZFvVKUBAqnMpO4RUgIAg1WRb1SlAQKpzKTuEVICAINVkW9UpQECqcyk7hFSAgCDVZFvVKUBAqnMpO4RUgIAg1WRb1SlAQKpzKTuEVICAINVkW9UpQECqcyk7hFTg//8JNVC78ovQAAAAAElFTkSuQmCC");background-size:100%}.markdown-body a:active,.markdown-body a:hover{opacity:.66}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #ed7373;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#ed7373}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#fdf2f2}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #ed7373;background-color:#fdf2f2}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#ed7373}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]{appearance:none;-webkit-appearance:none;-moz-appearance:none;outline:none;width:16px;height:16px;border-radius:2px;background-color:transparent;box-shadow:inset 0 0 0 1px rgba(28,31,35,.3490196078);vertical-align:middle;margin:0;transform:translateY(-2px)}.markdown-body input[type=checkbox]:checked{background-color:#ed7373;background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIGFyaWEtaGlkZGVuPSJ0cnVlIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE3LjQxMSA3LjMwOGExLjUgMS41IDAgMDEuMjggMi4xMDNsLTYuNSA4LjVhMS41IDEuNSAwIDAxLTIuMzc1LjAxbC0zLjUtNC41YTEuNSAxLjUgMCAxMTIuMzY4LTEuODQybDIuMzA2IDIuOTY1IDUuMzE4LTYuOTU1YTEuNSAxLjUgMCAwMTIuMTAzLS4yOHoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=");box-shadow:inset 0 0 0 1px #ed7373}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">Vue 3 ç»„ä»¶å¼€å‘æœ€ä½³å®è·µï¼šå¯å¤ç”¨ç»„ä»¶è®¾è®¡æ¨¡å¼</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>ç»„ä»¶åŒ–æ˜¯ç°ä»£å‰ç«¯å¼€å‘çš„æ ¸å¿ƒæ€æƒ³ä¹‹ä¸€ï¼Œè€Œåœ¨ Vue 3 ä¸­ï¼Œå€ŸåŠ© Composition API å’Œæ›´å®Œå–„çš„å“åº”å¼ç³»ç»Ÿï¼Œæˆ‘ä»¬èƒ½å¤Ÿè®¾è®¡å‡ºæ›´åŠ çµæ´»ã€å¯å¤ç”¨çš„ç»„ä»¶ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Vue 3 ç»„ä»¶å¼€å‘çš„æœ€ä½³å®è·µï¼Œä»‹ç»å¤šç§å¯å¤ç”¨ç»„ä»¶çš„è®¾è®¡æ¨¡å¼ï¼Œå¸®åŠ©å¼€å‘è€…æ„å»ºé«˜è´¨é‡çš„ç»„ä»¶åº“ã€‚</p>
<h3 data-id="heading-2">ç»„ä»¶è®¾è®¡åŸºæœ¬åŸåˆ™</h3>
<h4 data-id="heading-3">1. å•ä¸€èŒè´£åŸåˆ™</h4>
<p>æ¯ä¸ªç»„ä»¶åº”è¯¥åªè´Ÿè´£ä¸€ä¸ªæ˜ç¡®çš„åŠŸèƒ½ï¼Œé¿å…åŠŸèƒ½è¿‡äºå¤æ‚ã€‚</p>
<h4 data-id="heading-4">2. å¼€æ”¾å°é—­åŸåˆ™</h4>
<p>ç»„ä»¶å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­ï¼Œé€šè¿‡åˆç†çš„æ¥å£è®¾è®¡æ”¯æŒå®šåˆ¶åŒ–ã€‚</p>
<h4 data-id="heading-5">3. å¯ç»„åˆæ€§</h4>
<p>ç»„ä»¶åº”è¯¥æ˜“äºä¸å…¶ä»–ç»„ä»¶ç»„åˆä½¿ç”¨ï¼Œå½¢æˆæ›´å¤æ‚çš„ UI ç»“æ„ã€‚</p>
<h3 data-id="heading-6">åŸºç¡€ç»„ä»¶è®¾è®¡æ¨¡å¼</h3>
<h4 data-id="heading-7">1. Props é€ä¼ æ¨¡å¼</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- BaseButton.vue --&gt;
&lt;template&gt;
  &lt;button 
    :class="buttonClasses"
    v-bind="$attrs"
    @click="handleClick"
  &gt;
    &lt;slot /&gt;
  &lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { computed } from 'vue'

const props = defineProps({
  variant: {
    type: String,
    default: 'primary',
    validator: (value) =&gt; ['primary', 'secondary', 'danger', 'ghost'].includes(value)
  },
  size: {
    type: String,
    default: 'medium',
    validator: (value) =&gt; ['small', 'medium', 'large'].includes(value)
  },
  block: {
    type: Boolean,
    default: false
  },
  disabled: {
    type: Boolean,
    default: false
  }
})

const emit = defineEmits(['click'])

const buttonClasses = computed(() =&gt; [
  'btn',
  `btn--${props.variant}`,
  `btn--${props.size}`,
  {
    'btn--block': props.block,
    'btn--disabled': props.disabled
  }
])

const handleClick = (event) =&gt; {
  if (!props.disabled) {
    emit('click', event)
  }
}

// å…è®¸çˆ¶ç»„ä»¶è®¿é—®å­ç»„ä»¶å®ä¾‹
defineExpose({
  focus: () =&gt; {
    // å®ç°ç„¦ç‚¹ç®¡ç†
  }
})
&lt;/script&gt;

&lt;style scoped&gt;
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.2s ease;
  text-decoration: none;
}

.btn--primary {
  background-color: #42b883;
  color: white;
}

.btn--secondary {
  background-color: #6c757d;
  color: white;
}

.btn--danger {
  background-color: #dc3545;
  color: white;
}

.btn--ghost {
  background-color: transparent;
  color: #42b883;
  border: 1px solid #42b883;
}

.btn--small {
  padding: 4px 8px;
  font-size: 12px;
}

.btn--medium {
  padding: 8px 16px;
  font-size: 14px;
}

.btn--large {
  padding: 12px 24px;
  font-size: 16px;
}

.btn--block {
  display: flex;
  width: 100%;
}

.btn--disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.btn:hover:not(.btn--disabled) {
  opacity: 0.8;
  transform: translateY(-1px);
}
&lt;/style&gt;
</code></pre>
<h4 data-id="heading-8">2. æ’æ§½åˆ†å‘æ¨¡å¼</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Card.vue --&gt;
&lt;template&gt;
  &lt;div class="card" :class="cardClasses"&gt;
    &lt;!-- é»˜è®¤æ’æ§½ --&gt;
    &lt;div v-if="$slots.header || title" class="card__header"&gt;
      &lt;slot name="header"&gt;
        &lt;h3 class="card__title"&gt;{{ title }}&lt;/h3&gt;
      &lt;/slot&gt;
    &lt;/div&gt;
  
    &lt;!-- å†…å®¹æ’æ§½ --&gt;
    &lt;div class="card__body"&gt;
      &lt;slot /&gt;
    &lt;/div&gt;
  
    &lt;!-- åº•éƒ¨æ’æ§½ --&gt;
    &lt;div v-if="$slots.footer" class="card__footer"&gt;
      &lt;slot name="footer" /&gt;
    &lt;/div&gt;
  
    &lt;!-- æ“ä½œåŒºåŸŸæ’æ§½ --&gt;
    &lt;div v-if="$slots.actions" class="card__actions"&gt;
      &lt;slot name="actions" /&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { computed } from 'vue'

const props = defineProps({
  title: {
    type: String,
    default: ''
  },
  bordered: {
    type: Boolean,
    default: true
  },
  shadow: {
    type: Boolean,
    default: false
  },
  hoverable: {
    type: Boolean,
    default: false
  }
})

const cardClasses = computed(() =&gt; ({
  'card--bordered': props.bordered,
  'card--shadow': props.shadow,
  'card--hoverable': props.hoverable
}))
&lt;/script&gt;

&lt;style scoped&gt;
.card {
  background: #fff;
  border-radius: 8px;
}

.card--bordered {
  border: 1px solid #e5e5e5;
}

.card--shadow {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.card--hoverable:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.card__header {
  padding: 16px 24px;
  border-bottom: 1px solid #f0f0f0;
}

.card__title {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: #333;
}

.card__body {
  padding: 24px;
}

.card__footer {
  padding: 16px 24px;
  border-top: 1px solid #f0f0f0;
}

.card__actions {
  padding: 16px 24px;
  text-align: right;
}
&lt;/style&gt;
</code></pre>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;Card title="ç”¨æˆ·ä¿¡æ¯" bordered hoverable&gt;
    &lt;template #header&gt;
      &lt;div class="custom-header"&gt;
        &lt;h3&gt;ç”¨æˆ·è¯¦æƒ…&lt;/h3&gt;
        &lt;BaseButton size="small" variant="ghost"&gt;ç¼–è¾‘&lt;/BaseButton&gt;
      &lt;/div&gt;
    &lt;/template&gt;
  
    &lt;p&gt;è¿™é‡Œæ˜¯å¡ç‰‡å†…å®¹&lt;/p&gt;
  
    &lt;template #footer&gt;
      &lt;div class="card-footer"&gt;
        &lt;span&gt;åˆ›å»ºæ—¶é—´: 2023-01-01&lt;/span&gt;
      &lt;/div&gt;
    &lt;/template&gt;
  
    &lt;template #actions&gt;
      &lt;BaseButton variant="primary"&gt;ä¿å­˜&lt;/BaseButton&gt;
      &lt;BaseButton variant="ghost"&gt;å–æ¶ˆ&lt;/BaseButton&gt;
    &lt;/template&gt;
  &lt;/Card&gt;
&lt;/template&gt;
</code></pre>
<h3 data-id="heading-9">é«˜çº§ç»„ä»¶è®¾è®¡æ¨¡å¼</h3>
<h4 data-id="heading-10">1. Renderless ç»„ä»¶æ¨¡å¼</h4>
<p>Renderless ç»„ä»¶ä¸“æ³¨äºé€»è¾‘å¤„ç†ï¼Œä¸åŒ…å«ä»»ä½•æ¨¡æ¿ï¼Œé€šè¿‡ä½œç”¨åŸŸæ’æ§½ä¼ é€’æ•°æ®å’Œæ–¹æ³•ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- FetchData.vue --&gt;
&lt;template&gt;
  &lt;slot 
    :loading="loading"
    :data="data"
    :error="error"
    :refetch="fetchData"
  /&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, onMounted } from 'vue'

const props = defineProps({
  url: {
    type: String,
    required: true
  },
  immediate: {
    type: Boolean,
    default: true
  }
})

const loading = ref(false)
const data = ref(null)
const error = ref(null)

const fetchData = async () =&gt; {
  loading.value = true
  error.value = null

  try {
    const response = await fetch(props.url)
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`)
    }
    data.value = await response.json()
  } catch (err) {
    error.value = err.message
  } finally {
    loading.value = false
  }
}

onMounted(() =&gt; {
  if (props.immediate) {
    fetchData()
  }
})

defineExpose({
  fetchData
})
&lt;/script&gt;
</code></pre>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;FetchData url="/api/users" v-slot="{ loading, data, error, refetch }"&gt;
    &lt;div class="user-list"&gt;
      &lt;div v-if="loading"&gt;åŠ è½½ä¸­...&lt;/div&gt;
      &lt;div v-else-if="error"&gt;é”™è¯¯: {{ error }}&lt;/div&gt;
    
      &lt;template v-else&gt;
        &lt;div v-for="user in data" :key="user.id" class="user-item"&gt;
          {{ user.name }}
        &lt;/div&gt;
      
        &lt;button @click="refetch"&gt;åˆ·æ–°&lt;/button&gt;
      &lt;/template&gt;
    &lt;/div&gt;
  &lt;/FetchData&gt;
&lt;/template&gt;
</code></pre>
<h4 data-id="heading-11">2. Compound Components æ¨¡å¼</h4>
<p>å¤åˆç»„ä»¶æ¨¡å¼å…è®¸ç›¸å…³ç»„ä»¶ååŒå·¥ä½œï¼Œå…±äº«çŠ¶æ€å’Œé…ç½®ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Tabs.vue --&gt;
&lt;template&gt;
  &lt;div class="tabs"&gt;
    &lt;div class="tabs__nav" role="tablist"&gt;
      &lt;slot name="nav" :active-key="activeKey" :change-tab="changeTab" /&gt;
    &lt;/div&gt;
    &lt;div class="tabs__content"&gt;
      &lt;slot :active-key="activeKey" /&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, provide } from 'vue'

const props = defineProps({
  modelValue: {
    type: [String, Number],
    default: ''
  }
})

const emit = defineEmits(['update:modelValue'])

const activeKey = ref(props.modelValue)

const changeTab = (key) =&gt; {
  activeKey.value = key
  emit('update:modelValue', key)
}

// æä¾›ç»™å­ç»„ä»¶ä½¿ç”¨çš„ä¸Šä¸‹æ–‡
provide('tabs-context', {
  activeKey,
  changeTab
})
&lt;/script&gt;

&lt;style scoped&gt;
.tabs {
  border: 1px solid #e5e5e5;
  border-radius: 8px;
  overflow: hidden;
}

.tabs__nav {
  display: flex;
  background-color: #f8f9fa;
  border-bottom: 1px solid #e5e5e5;
}

.tabs__content {
  padding: 24px;
}
&lt;/style&gt;
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- TabNav.vue --&gt;
&lt;template&gt;
  &lt;div class="tab-nav"&gt;
    &lt;slot /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;style scoped&gt;
.tab-nav {
  display: flex;
}
&lt;/style&gt;
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- TabNavItem.vue --&gt;
&lt;template&gt;
  &lt;button
    :class="classes"
    :aria-selected="isActive"
    @click="handleClick"
  &gt;
    &lt;slot /&gt;
  &lt;/button&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { inject, computed } from 'vue'

const props = defineProps({
  tabKey: {
    type: [String, Number],
    required: true
  },
  disabled: {
    type: Boolean,
    default: false
  }
})

const tabsContext = inject('tabs-context')

const isActive = computed(() =&gt; tabsContext.activeKey.value === props.tabKey)

const classes = computed(() =&gt; [
  'tab-nav-item',
  {
    'tab-nav-item--active': isActive.value,
    'tab-nav-item--disabled': props.disabled
  }
])

const handleClick = () =&gt; {
  if (!props.disabled) {
    tabsContext.changeTab(props.tabKey)
  }
}
&lt;/script&gt;

&lt;style scoped&gt;
.tab-nav-item {
  padding: 12px 24px;
  border: none;
  background: transparent;
  cursor: pointer;
  font-size: 14px;
  color: #666;
  transition: all 0.2s ease;
}

.tab-nav-item:hover:not(.tab-nav-item--disabled) {
  color: #42b883;
  background-color: rgba(66, 184, 131, 0.1);
}

.tab-nav-item--active {
  color: #42b883;
  font-weight: 600;
  background-color: #fff;
  border-bottom: 2px solid #42b883;
}

.tab-nav-item--disabled {
  opacity: 0.5;
  cursor: not-allowed;
}
&lt;/style&gt;
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- TabPanel.vue --&gt;
&lt;template&gt;
  &lt;div v-show="isActive" class="tab-panel" role="tabpanel"&gt;
    &lt;slot /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { inject, computed } from 'vue'

const props = defineProps({
  tabKey: {
    type: [String, Number],
    required: true
  }
})

const tabsContext = inject('tabs-context')

const isActive = computed(() =&gt; tabsContext.activeKey.value === props.tabKey)
&lt;/script&gt;

&lt;style scoped&gt;
.tab-panel {
  outline: none;
}
&lt;/style&gt;
</code></pre>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;Tabs v-model="activeTab"&gt;
    &lt;template #nav="{ activeKey, changeTab }"&gt;
      &lt;TabNavItem tab-key="profile"&gt;ä¸ªäººä¿¡æ¯&lt;/TabNavItem&gt;
      &lt;TabNavItem tab-key="settings"&gt;è®¾ç½®&lt;/TabNavItem&gt;
      &lt;TabNavItem tab-key="security" disabled&gt;å®‰å…¨&lt;/TabNavItem&gt;
    &lt;/template&gt;
  
    &lt;TabPanel tab-key="profile"&gt;
      &lt;p&gt;è¿™æ˜¯ä¸ªäººä¿¡æ¯é¢æ¿&lt;/p&gt;
    &lt;/TabPanel&gt;
  
    &lt;TabPanel tab-key="settings"&gt;
      &lt;p&gt;è¿™æ˜¯è®¾ç½®é¢æ¿&lt;/p&gt;
    &lt;/TabPanel&gt;
  
    &lt;TabPanel tab-key="security"&gt;
      &lt;p&gt;è¿™æ˜¯å®‰å…¨é¢æ¿&lt;/p&gt;
    &lt;/TabPanel&gt;
  &lt;/Tabs&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const activeTab = ref('profile')
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-12">3. Higher-Order Component (HOC) æ¨¡å¼</h4>
<p>è™½ç„¶ Vue æ›´æ¨èä½¿ç”¨ Composition APIï¼Œä½†åœ¨æŸäº›åœºæ™¯ä¸‹ HOC ä»ç„¶æœ‰ç”¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// withLoading.js</span>
<span class="hljs-keyword">import</span> { h, ref, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">withLoading</span>(<span class="hljs-params">WrappedComponent, loadingMessage = <span class="hljs-string">'åŠ è½½ä¸­...'</span></span>) {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">name</span>: <span class="hljs-string">`WithLoading(<span class="hljs-subst">${WrappedComponent.name || <span class="hljs-string">'Component'</span>}</span>)`</span>,
    <span class="hljs-attr">inheritAttrs</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">props</span>: <span class="hljs-title class_">WrappedComponent</span>.<span class="hljs-property">props</span>,
    <span class="hljs-attr">emits</span>: <span class="hljs-title class_">WrappedComponent</span>.<span class="hljs-property">emits</span>,
    <span class="hljs-title function_">setup</span>(<span class="hljs-params">props, { attrs, slots, emit }</span>) {
      <span class="hljs-keyword">const</span> isLoading = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">true</span>)
    
      <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œ</span>
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          isLoading.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
        }, <span class="hljs-number">1000</span>)
      })
    
      <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (isLoading.<span class="hljs-property">value</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">h</span>(<span class="hljs-string">'div'</span>, { <span class="hljs-attr">class</span>: <span class="hljs-string">'loading-wrapper'</span> }, loadingMessage)
        }
      
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">WrappedComponent</span>, {
          ...props,
          ...attrs,
          <span class="hljs-attr">on</span>: <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(emit).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, key</span>) =&gt;</span> {
            acc[key] = <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> <span class="hljs-title function_">emit</span>(key, ...args)
            <span class="hljs-keyword">return</span> acc
          }, {})
        }, slots)
      }
    }
  }
}
</code></pre>
<h4 data-id="heading-13">4. State Reducer æ¨¡å¼</h4>
<p>å€Ÿé‰´ React çš„ç†å¿µï¼Œé€šè¿‡ reducer å‡½æ•°ç®¡ç†å¤æ‚çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- Toggle.vue --&gt;
&lt;template&gt;
  &lt;div class="toggle"&gt;
    &lt;slot 
      :on="on"
      :toggle="toggle"
      :set-on="setOn"
      :set-off="setOff"
    /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const props = defineProps({
  modelValue: {
    type: Boolean,
    default: false
  },
  reducer: {
    type: Function,
    default: null
  }
})

const emit = defineEmits(['update:modelValue'])

const internalOn = ref(props.modelValue)

const getState = () =&gt; ({
  on: internalOn.value
})

const dispatch = (action) =&gt; {
  const changes = props.reducer 
    ? props.reducer(getState(), action)
    : defaultReducer(getState(), action)
  
  if (changes.on !== undefined) {
    internalOn.value = changes.on
    emit('update:modelValue', changes.on)
  }
}

const defaultReducer = (state, action) =&gt; {
  switch (action.type) {
    case 'toggle':
      return { on: !state.on }
    case 'setOn':
      return { on: true }
    case 'setOff':
      return { on: false }
    default:
      throw new Error(`Unknown action type: ${action.type}`)
  }
}

const toggle = () =&gt; dispatch({ type: 'toggle' })
const setOn = () =&gt; dispatch({ type: 'setOn' })
const setOff = () =&gt; dispatch({ type: 'setOff' })

defineExpose({
  toggle,
  setOn,
  setOff
})
&lt;/script&gt;
</code></pre>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;Toggle :reducer="toggleReducer" v-slot="{ on, toggle, setOn, setOff }"&gt;
    &lt;div class="toggle-demo"&gt;
      &lt;p&gt;çŠ¶æ€: {{ on ? 'å¼€å¯' : 'å…³é—­' }}&lt;/p&gt;
      &lt;BaseButton @click="toggle"&gt;åˆ‡æ¢&lt;/BaseButton&gt;
      &lt;BaseButton @click="setOn"&gt;å¼€å¯&lt;/BaseButton&gt;
      &lt;BaseButton @click="setOff"&gt;å…³é—­&lt;/BaseButton&gt;
    &lt;/div&gt;
  &lt;/Toggle&gt;
&lt;/template&gt;

&lt;script setup&gt;
const toggleReducer = (state, action) =&gt; {
  switch (action.type) {
    case 'toggle':
      // æ·»åŠ æ—¥å¿—è®°å½•
      console.log('Toggle state changed:', !state.on)
      return { on: !state.on }
    case 'setOn':
      return { on: true }
    case 'setOff':
      return { on: false }
    default:
      return state
  }
}
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-14">ç»„ä»¶é€šä¿¡æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-15">1. Provide/Inject æ¨¡å¼</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// theme.js</span>
<span class="hljs-keyword">import</span> { ref, readonly, computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> themeSymbol = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'theme'</span>)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createThemeStore</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> currentTheme = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'light'</span>)

  <span class="hljs-keyword">const</span> themes = {
    <span class="hljs-attr">light</span>: {
      <span class="hljs-attr">primary</span>: <span class="hljs-string">'#42b883'</span>,
      <span class="hljs-attr">background</span>: <span class="hljs-string">'#ffffff'</span>,
      <span class="hljs-attr">text</span>: <span class="hljs-string">'#333333'</span>
    },
    <span class="hljs-attr">dark</span>: {
      <span class="hljs-attr">primary</span>: <span class="hljs-string">'#42b883'</span>,
      <span class="hljs-attr">background</span>: <span class="hljs-string">'#1a1a1a'</span>,
      <span class="hljs-attr">text</span>: <span class="hljs-string">'#ffffff'</span>
    }
  }

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleTheme</span> = (<span class="hljs-params"/>) =&gt; {
    currentTheme.<span class="hljs-property">value</span> = currentTheme.<span class="hljs-property">value</span> === <span class="hljs-string">'light'</span> ? <span class="hljs-string">'dark'</span> : <span class="hljs-string">'light'</span>
  }

  <span class="hljs-keyword">const</span> themeConfig = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> themes[currentTheme.<span class="hljs-property">value</span>])

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">currentTheme</span>: <span class="hljs-title function_">readonly</span>(currentTheme),
    themeConfig,
    toggleTheme
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">provideTheme</span>(<span class="hljs-params">themeStore</span>) {
  <span class="hljs-title function_">provide</span>(themeSymbol, themeStore)
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useTheme</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> themeStore = <span class="hljs-title function_">inject</span>(themeSymbol)
  <span class="hljs-keyword">if</span> (!themeStore) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'useTheme must be used within provideTheme'</span>)
  }
  <span class="hljs-keyword">return</span> themeStore
}
</code></pre>
<h4 data-id="heading-16">2. Event Bus æ›¿ä»£æ–¹æ¡ˆ</h4>
<p>ä½¿ç”¨ mitt åº“æ›¿ä»£ä¼ ç»Ÿçš„äº‹ä»¶æ€»çº¿ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// eventBus.js</span>
<span class="hljs-keyword">import</span> mitt <span class="hljs-keyword">from</span> <span class="hljs-string">'mitt'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> eventBus = <span class="hljs-title function_">mitt</span>()

<span class="hljs-comment">// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</span>
<span class="hljs-comment">// eventBus.emit('user-login', userInfo)</span>
<span class="hljs-comment">// eventBus.on('user-login', handler)</span>
</code></pre>
<h3 data-id="heading-17">æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h3>
<h4 data-id="heading-18">1. ç»„ä»¶æ‡’åŠ è½½</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// router/index.js</span>
<span class="hljs-keyword">const</span> routes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/heavy-component'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/components/HeavyComponent.vue'</span>)
  }
]

<span class="hljs-comment">// ç»„ä»¶å†…éƒ¨æ‡’åŠ è½½</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">HeavyChart</span> = <span class="hljs-title function_">defineAsyncComponent</span>(<span class="hljs-function">() =&gt;</span> 
  <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/components/charts/HeavyChart.vue'</span>)
)
</code></pre>
<h4 data-id="heading-19">2. è™šæ‹Ÿæ»šåŠ¨</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- VirtualList.vue --&gt;
&lt;template&gt;
  &lt;div 
    ref="containerRef" 
    class="virtual-list"
    @scroll="handleScroll"
  &gt;
    &lt;div :style="{ height: totalHeight + 'px' }" class="virtual-list__spacer"&gt;
      &lt;div 
        :style="{ transform: `translateY(${offsetY}px)` }"
        class="virtual-list__content"
      &gt;
        &lt;div
          v-for="item in visibleItems"
          :key="item.id"
          :style="{ height: itemHeight + 'px' }"
          class="virtual-list__item"
        &gt;
          &lt;slot :item="item" /&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, computed, onMounted, onUnmounted } from 'vue'

const props = defineProps({
  items: {
    type: Array,
    required: true
  },
  itemHeight: {
    type: Number,
    default: 50
  },
  bufferSize: {
    type: Number,
    default: 5
  }
})

const containerRef = ref(null)
const scrollTop = ref(0)

const totalHeight = computed(() =&gt; props.items.length * props.itemHeight)

const startIndex = computed(() =&gt; {
  return Math.max(0, Math.floor(scrollTop.value / props.itemHeight) - props.bufferSize)
})

const endIndex = computed(() =&gt; {
  const containerHeight = containerRef.value?.clientHeight || 0
  return Math.min(
    props.items.length - 1,
    Math.floor((scrollTop.value + containerHeight) / props.itemHeight) + props.bufferSize
  )
})

const visibleItems = computed(() =&gt; {
  return props.items.slice(startIndex.value, endIndex.value + 1)
})

const offsetY = computed(() =&gt; {
  return startIndex.value * props.itemHeight
})

const handleScroll = () =&gt; {
  scrollTop.value = containerRef.value.scrollTop
}

onMounted(() =&gt; {
  // åˆå§‹åŒ–æ»šåŠ¨ç›‘å¬
})

onUnmounted(() =&gt; {
  // æ¸…ç†èµ„æº
})
&lt;/script&gt;

&lt;style scoped&gt;
.virtual-list {
  height: 400px;
  overflow-y: auto;
  border: 1px solid #e5e5e5;
}

.virtual-list__spacer {
  position: relative;
}

.virtual-list__content {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
}

.virtual-list__item {
  display: flex;
  align-items: center;
  padding: 0 16px;
  border-bottom: 1px solid #f0f0f0;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-20">æµ‹è¯•å‹å¥½çš„ç»„ä»¶è®¾è®¡</h3>
<h4 data-id="heading-21">1. æ˜ç¡®çš„ Props å®šä¹‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Button.test.js</span>
<span class="hljs-keyword">import</span> { mount } <span class="hljs-keyword">from</span> <span class="hljs-string">'@vue/test-utils'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">BaseButton</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components/BaseButton.vue'</span>

<span class="hljs-title function_">describe</span>(<span class="hljs-string">'BaseButton'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">test</span>(<span class="hljs-string">'renders slot content'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> wrapper = <span class="hljs-title function_">mount</span>(<span class="hljs-title class_">BaseButton</span>, {
      <span class="hljs-attr">slots</span>: {
        <span class="hljs-attr">default</span>: <span class="hljs-string">'Click me'</span>
      }
    })
    <span class="hljs-title function_">expect</span>(wrapper.<span class="hljs-title function_">text</span>()).<span class="hljs-title function_">toContain</span>(<span class="hljs-string">'Click me'</span>)
  })

  <span class="hljs-title function_">test</span>(<span class="hljs-string">'emits click event when clicked'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> wrapper = <span class="hljs-title function_">mount</span>(<span class="hljs-title class_">BaseButton</span>)
    <span class="hljs-keyword">await</span> wrapper.<span class="hljs-title function_">trigger</span>(<span class="hljs-string">'click'</span>)
    <span class="hljs-title function_">expect</span>(wrapper.<span class="hljs-title function_">emitted</span>()).<span class="hljs-title function_">toHaveProperty</span>(<span class="hljs-string">'click'</span>)
  })

  <span class="hljs-title function_">test</span>(<span class="hljs-string">'applies correct CSS classes based on props'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> wrapper = <span class="hljs-title function_">mount</span>(<span class="hljs-title class_">BaseButton</span>, {
      <span class="hljs-attr">props</span>: {
        <span class="hljs-attr">variant</span>: <span class="hljs-string">'primary'</span>,
        <span class="hljs-attr">size</span>: <span class="hljs-string">'large'</span>
      }
    })
    <span class="hljs-title function_">expect</span>(wrapper.<span class="hljs-title function_">classes</span>()).<span class="hljs-title function_">toContain</span>(<span class="hljs-string">'btn--primary'</span>)
    <span class="hljs-title function_">expect</span>(wrapper.<span class="hljs-title function_">classes</span>()).<span class="hljs-title function_">toContain</span>(<span class="hljs-string">'btn--large'</span>)
  })
})
</code></pre>
<h4 data-id="heading-22">2. å¯è®¿é—®æ€§è€ƒè™‘</h4>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- AccessibleModal.vue --&gt;
&lt;template&gt;
  &lt;teleport to="body"&gt;
    &lt;div 
      v-if="visible"
      ref="modalRef"
      role="dialog"
      aria-modal="true"
      :aria-labelledby="titleId"
      :aria-describedby="descriptionId"
      class="modal"
      @keydown.esc="close"
    &gt;
      &lt;div class="modal__overlay" @click="close"&gt;&lt;/div&gt;
      &lt;div class="modal__content" ref="contentRef"&gt;
        &lt;div class="modal__header"&gt;
          &lt;h2 :id="titleId" class="modal__title"&gt;{{ title }}&lt;/h2&gt;
          &lt;button 
            type="button"
            class="modal__close"
            @click="close"
            aria-label="å…³é—­å¯¹è¯æ¡†"
          &gt;
            Ã—
          &lt;/button&gt;
        &lt;/div&gt;
      
        &lt;div :id="descriptionId" class="modal__body"&gt;
          &lt;slot /&gt;
        &lt;/div&gt;
      
        &lt;div v-if="$slots.footer" class="modal__footer"&gt;
          &lt;slot name="footer" /&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/teleport&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, watch, nextTick } from 'vue'

const props = defineProps({
  visible: {
    type: Boolean,
    default: false
  },
  title: {
    type: String,
    required: true
  }
})

const emit = defineEmits(['update:visible', 'close'])

const modalRef = ref(null)
const contentRef = ref(null)
const titleId = `modal-title-${Math.random().toString(36).substr(2, 9)}`
const descriptionId = `modal-desc-${Math.random().toString(36).substr(2, 9)}`

const close = () =&gt; {
  emit('update:visible', false)
  emit('close')
}

watch(() =&gt; props.visible, async (newVal) =&gt; {
  if (newVal) {
    await nextTick()
    // è‡ªåŠ¨èšç„¦åˆ°æ¨¡æ€æ¡†
    contentRef.value?.focus()
  }
})
&lt;/script&gt;
</code></pre>
<h3 data-id="heading-23">ç»“è¯­</h3>
<p>Vue 3 ç»„ä»¶å¼€å‘çš„æœ€ä½³å®è·µæ¶‰åŠå¤šä¸ªæ–¹é¢ï¼Œä»åŸºç¡€çš„ Props å’Œæ’æ§½ä½¿ç”¨ï¼Œåˆ°é«˜çº§çš„è®¾è®¡æ¨¡å¼å¦‚ Renderless ç»„ä»¶å’Œ Compound Componentsï¼Œæ¯ç§æ¨¡å¼éƒ½æœ‰å…¶é€‚ç”¨åœºæ™¯ã€‚å…³é”®æ˜¯è¦æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„è®¾è®¡æ¨¡å¼ï¼Œå¹¶éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š</p>
<ol>
<li><strong>ä¿æŒç»„ä»¶ç®€æ´</strong>ï¼šæ¯ä¸ªç»„ä»¶ä¸“æ³¨äºå•ä¸€åŠŸèƒ½</li>
<li><strong>æä¾›è‰¯å¥½çš„ API</strong>ï¼šæ¸…æ™°çš„ Props å®šä¹‰å’Œäº‹ä»¶æ¥å£</li>
<li><strong>é‡è§†å¯è®¿é—®æ€§</strong>ï¼šç¡®ä¿æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½æ­£å¸¸ä½¿ç”¨ç»„ä»¶</li>
<li><strong>è€ƒè™‘æ€§èƒ½å½±å“</strong>ï¼šç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤§é‡æ•°æ®æˆ–å¤æ‚äº¤äº’æ—¶</li>
<li><strong>ä¾¿äºæµ‹è¯•</strong>ï¼šè®¾è®¡æ˜“äºæµ‹è¯•çš„ç»„ä»¶æ¥å£</li>
</ol>
<p>é€šè¿‡åˆç†è¿ç”¨è¿™äº›è®¾è®¡æ¨¡å¼å’Œæœ€ä½³å®è·µï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºå‡ºæ—¢çµæ´»åˆå¯é çš„ç»„ä»¶åº“ï¼Œä¸ºæ•´ä¸ªåº”ç”¨æä¾›ä¸€è‡´ä¸”é«˜è´¨é‡çš„ç”¨æˆ·ä½“éªŒã€‚è®°ä½ï¼Œå¥½çš„ç»„ä»¶è®¾è®¡ä¸æ˜¯ä¸€æ¬¡æ€§çš„ä»»åŠ¡ï¼Œè€Œæ˜¯éœ€è¦åœ¨å®è·µä¸­ä¸æ–­è¿­ä»£å’Œå®Œå–„çš„è¿‡ç¨‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ†å¸ƒå¼äº‹åŠ¡åŠå®ç°æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7582601349580046336</link>    <guid>https://juejin.cn/post/7582601349580046336</guid>    <pubDate>2025-12-12T09:08:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582601349580046336" data-draft-id="7576479344040083508" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ†å¸ƒå¼äº‹åŠ¡åŠå®ç°æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-12T09:08:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="atwednesday"/> <meta itemprop="url" content="https://juejin.cn/user/35646320687101"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ†å¸ƒå¼äº‹åŠ¡åŠå®ç°æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/35646320687101/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    atwednesday
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T09:08:20.000Z" title="Fri Dec 12 2025 09:08:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»25åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æ–‡ç« ä¸»è¦å‚è€ƒçš„æ˜¯<a href="https://link.juejin.cn?target=https%3A%2F%2Fpdai.tech%2Fmd%2Farch%2Farch-z-transection.html" target="_blank" title="https://pdai.tech/md/arch/arch-z-transection.html" ref="nofollow noopener noreferrer">åˆ†å¸ƒå¼ç³»ç»Ÿ - åˆ†å¸ƒå¼äº‹åŠ¡åŠå®ç°æ–¹æ¡ˆ</a>ï¼Œä¹‹æ‰€ä»¥äºŒæ¬¡ç¼–è¾‘ï¼Œæ˜¯ä¸ºäº†å¢åŠ éƒ¨åˆ†è‡ªå·±ç†è§£çš„å†…å®¹ã€‚</p>
<h2 data-id="heading-1">ä»€ä¹ˆæ˜¯äº‹åŠ¡</h2>
<p>å‚è€ƒæ–‡ç« <a href="https://juejin.cn/post/7576676694783606818" target="_blank" title="https://juejin.cn/post/7576676694783606818">äº‹åŠ¡</a></p>
<h2 data-id="heading-2">ä»€ä¹ˆæ˜¯åˆ†å¸ƒå¼äº‹åŠ¡</h2>
<p>åˆ†å¸ƒå¼äº‹åŠ¡æ˜¯æŒ‡åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­éœ€è¦ä¿è¯åŸå­æ€§ã€éš”ç¦»æ€§ã€ä¸€è‡´æ€§å’ŒæŒä¹…æ€§çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®åº“æ“ä½œã€‚è€Œä¸”è¿™äº›æ“ä½œå¯èƒ½æ˜¯ä½äºä¸åŒçš„æœåŠ¡ä¸­ã€‚</p>
<h3 data-id="heading-3">ä»åˆ†å¸ƒå¼çš„ç†è®ºçš„è§’åº¦çœ‹</h3>
<ul>
<li>
<p><strong>åˆ†å¸ƒå¼ç†è®ºçš„CP</strong>Â -&gt; åˆšæ€§äº‹åŠ¡</p>
<ul>
<li>éµå¾ªACIDï¼Œå¯¹æ•°æ®è¦æ±‚å¼ºä¸€è‡´æ€§</li>
</ul>
</li>
<li>
<p><strong>åˆ†å¸ƒå¼ç†è®ºçš„AP+BASE</strong>Â -&gt; æŸ”æ€§äº‹åŠ¡</p>
<ul>
<li>éµå¾ªBASEï¼Œå…è®¸ä¸€å®šæ—¶é—´å†…ä¸åŒèŠ‚ç‚¹çš„æ•°æ®ä¸ä¸€è‡´ï¼Œä½†è¦æ±‚æœ€ç»ˆä¸€è‡´ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-4">åˆ†å¸ƒå¼äº‹åŠ¡ä½“ç³»</h2>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    %% --- æ ·å¼å®šä¹‰ (å»æ‰åˆ†å·ï¼Œé˜²æ­¢è§£æé”™è¯¯) ---
    classDef rootFill fill:#800000,stroke:#333,stroke-width:2px,color:#fff
    classDef orangeFill fill:#E65100,stroke:#333,stroke-width:1px,color:#fff
    classDef greenFill fill:#43A047,stroke:#333,stroke-width:1px,color:#fff
    classDef blueFill fill:#01579B,stroke:#333,stroke-width:1px,color:#fff
    classDef purpleFill fill:#6200EA,stroke:#333,stroke-width:1px,color:#fff
    classDef yellowFill fill:#FBC02D,stroke:#333,stroke-width:1px,color:#333

    %% --- ä¸»æ ‘ç»“æ„ ---
    Root["åˆ†å¸ƒå¼äº‹åŠ¡"]:::rootFill

    %% ç¬¬ä¸€å±‚
    Tech["æŠ€æœ¯æ–¹æ¡ˆ"]:::orangeFill
    Mid["ä¸­é—´ä»¶"]:::orangeFill
    Root --&gt; Tech
    Root --&gt; Mid

    %% --- æŠ€æœ¯æ–¹æ¡ˆåˆ†æ”¯ ---
    XA["åŸºäºXAåè®®&lt;br/&gt;(DBå±‚)"]:::greenFill
    Comp["åŸºäºè¡¥å¿&lt;br/&gt;(ä¸šåŠ¡å±‚)"]:::blueFill
    Final["åŸºäºæœ€ç»ˆä¸€è‡´æ€§"]:::blueFill

    Tech --&gt; XA
    Tech --&gt; Comp
    Tech --&gt; Final

    %% XA ç»†èŠ‚
    TwoPC["2PC"]:::greenFill
    ThreePC["3PC"]:::greenFill
    JTA["JTA,JTS"]:::greenFill

    XA --&gt; TwoPC
    XA -- "Javaè§„èŒƒå’Œå®ç°" --&gt; JTA
    TwoPC -- "ä¼˜åŒ–" --&gt; ThreePC

    %% è¡¥å¿ ç»†èŠ‚
    TCC_Biz["TCC"]:::blueFill
    Saga_Biz["Saga"]:::blueFill
    Comp --&gt; TCC_Biz
    Comp --&gt; Saga_Biz

    %% æœ€ç»ˆä¸€è‡´æ€§ ç»†èŠ‚
    MsgTable["æ¶ˆæ¯è¡¨"]:::blueFill
    MsgQueue["æ¶ˆæ¯é˜Ÿåˆ—"]:::blueFill
    BestEffort["æœ€å¤§åŠªåŠ›é€šçŸ¥"]:::blueFill
    Final --&gt; MsgTable
    Final --&gt; MsgQueue
    Final --&gt; BestEffort

    %% --- ä¸­é—´ä»¶åˆ†æ”¯ ---
    Atomiks["Atomiks"]:::greenFill
    Seata["Seata"]:::orangeFill
    TXLCN["TX-LCN"]:::orangeFill
    Other["..."]:::orangeFill

    Mid --&gt; Atomiks
    Mid --&gt; Seata
    Mid --&gt; TXLCN
    Mid --&gt; Other

    %% ä¸­é—´ä»¶å­èŠ‚ç‚¹
    Atom_XA["XA"]:::greenFill
    Atomiks --&gt; Atom_XA

    Seata_XA["XA"]:::greenFill
    Seata_AT["AT"]:::greenFill
    Seata_TCC["TCC"]:::blueFill
    Seata_Saga["Saga"]:::blueFill
    Seata --&gt; Seata_XA
    Seata --&gt; Seata_AT
    Seata --&gt; Seata_TCC
    Seata --&gt; Seata_Saga

    LCN_LCN["LCN"]:::yellowFill
    LCN_TCC["TCC"]:::blueFill
    LCN_TXC["TXC"]:::yellowFill
    TXLCN --&gt; LCN_LCN
    TXLCN --&gt; LCN_TCC
    TXLCN --&gt; LCN_TXC

    %% --- åº•éƒ¨ç†è®ºéƒ¨åˆ† ---
    %% ä½¿ç”¨å­å›¾å°†åº•éƒ¨ç†è®ºæ¡†èµ·æ¥ï¼Œå¹¶ä¿è¯é€»è¾‘æ¸…æ™°

    subgraph Theory["ä»åˆ†å¸ƒå¼ç†è®ºç†è§£"]
        direction LR
        TheoryRoot["ä»åˆ†å¸ƒå¼ç†è®ºç†è§£"]:::purpleFill
        
        Rigid["CP + ACID =&gt; åˆšæ€§äº‹åŠ¡"]:::greenFill
        Soft["AP + BASE =&gt; æŸ”æ€§äº‹åŠ¡"]:::blueFill
        
        ApplyDB["é€‚ç”¨æ•°æ®åº“å±‚"]:::greenFill
        ApplyBiz["é€‚ç”¨ä¸šåŠ¡å±‚"]:::blueFill

        TheoryRoot --&gt; Rigid --&gt; ApplyDB
        TheoryRoot --&gt; Soft --&gt; ApplyBiz
    end
</code></pre>
<p><strong>åˆšæ€§äº‹åŠ¡ï¼š</strong> åˆ†å¸ƒå¼ç†è®ºçš„CPï¼Œéµå¾ªACIDï¼Œå¯¹æ•°æ®è¦æ±‚å¼ºä¸€è‡´æ€§ã€‚</p>
<ul>
<li>
<p><strong>XAåè®®</strong>Â æ˜¯ä¸€ä¸ªåŸºäºæ•°æ®åº“å±‚é¢çš„åˆ†å¸ƒå¼äº‹åŠ¡åè®®ï¼Œå®ƒå®šä¹‰äº†ä¸¤ä¸ªè§’è‰²å¦‚ä½•é…åˆå·¥ä½œï¼š</p>
<ul>
<li><strong>äº‹åŠ¡ç®¡ç†å™¨ (Transaction Manager, TM)</strong> ï¼šå³â€œåè°ƒè€…/æŒ‡æŒ¥å®˜â€ã€‚å®ƒè´Ÿè´£ç»Ÿç­¹å…¨å±€ï¼ŒæŒ‡æŒ¥å„ä¸ªæ•°æ®åº“æ˜¯è¯¥æäº¤è¿˜æ˜¯å›æ»šã€‚</li>
<li><strong>æœ¬åœ°èµ„æºç®¡ç†å™¨ (Resource Manager, RM)</strong> ï¼šå³â€œå‚ä¸è€…/å¹²æ´»çš„â€ã€‚é€šå¸¸å°±æ˜¯æŒ‡æ•°æ®åº“æœ¬èº«ï¼ˆå¦‚ MySQL, Oracleï¼‰ã€‚</li>
</ul>
<p><strong>äºŒé˜¶æ®µæäº¤ (2PC)</strong> ï¼šæ˜¯åŸºäº XA æ¥å£çš„å…·ä½“<strong>æ‰§è¡Œæµç¨‹</strong>ã€‚</p>
<ol>
<li><strong>ç¬¬ä¸€é˜¶æ®µï¼ˆå‡†å¤‡/æŠ•ç¥¨é˜¶æ®µï¼‰</strong> ï¼šåè°ƒè€…é—®æ‰€æœ‰å‚ä¸è€…ï¼šâ€œä½ ä»¬éƒ½èƒ½æ‰§è¡ŒæˆåŠŸå—ï¼Ÿâ€å‚ä¸è€…æ‰§è¡Œæ“ä½œä½†ä¸æäº¤ï¼Œé”ä½èµ„æºï¼Œç„¶åå‘Šè¯‰åè°ƒè€…ï¼šâ€œæˆ‘å¯ä»¥â€æˆ–â€œæˆ‘ä¸è¡Œâ€ã€‚</li>
<li><strong>ç¬¬äºŒé˜¶æ®µï¼ˆæäº¤/æ‰§è¡Œé˜¶æ®µï¼‰</strong> ï¼š
<ul>
<li>
<p>å¦‚æœå¤§å®¶éƒ½è¯´â€œæˆ‘å¯ä»¥â€ï¼Œåè°ƒè€…ä¸‹ä»¤ï¼šâ€œå…¨ä½“æäº¤ (Commit)ï¼â€</p>
</li>
<li>
<p>åªè¦æœ‰ä¸€ä¸ªè¯´â€œæˆ‘ä¸è¡Œâ€ï¼Œåè°ƒè€…ä¸‹ä»¤ï¼šâ€œå…¨ä½“å›æ»š (Rollback)ï¼â€</p>
</li>
</ul>
</li>
</ol>
<blockquote>
<ol>
<li><strong>å¦‚æœ <code>prepare</code> è¿”å› YESï¼Œä½† <code>commit</code> é˜¶æ®µç¡¬ä»¶å‡ºé—®é¢˜äº†æ€ä¹ˆåŠï¼Ÿ</strong></li>
</ol>
<p>Â Â Â Â ä¸€æ—¦å‚ä¸è€…åœ¨ <code>prepare</code> é˜¶æ®µè¿”å›äº† <code>YES</code>ï¼Œå®ƒå°±<strong>å¤±å»äº†å¯¹è‡ªå·±å‘½è¿çš„æŒæ§æƒ</strong>ã€‚å®ƒå¿…é¡»æ— æ¡ä»¶æœä»åè°ƒè€…ï¼ˆCoordinatorï¼‰çš„æœ€ç»ˆå†³å®šã€‚å®ƒæ‰¿è¯ºäº†ï¼šâ€œæˆ‘å·²ç»å‡†å¤‡å¥½äº†ï¼Œåªè¦ä½ ä¸€å£°ä»¤ä¸‹ï¼Œæˆ‘éšæ—¶å¯ä»¥æäº¤ï¼Œä¹Ÿéšæ—¶å¯ä»¥å›æ»šã€‚â€</p>
<p>Â Â Â Â <strong>å¦‚æœæ˜¯çŸ­æš‚å®•æœºï¼ˆå¦‚é‡å¯ï¼‰</strong> ï¼šæ•°æ®åº“é‡å¯åï¼Œä¼šæ£€æŸ¥äº‹åŠ¡æ—¥å¿—ï¼ˆWALï¼‰ã€‚å®ƒä¼šå‘ç°æœ‰ä¸€æ¡å¤„äº <code>Prepared</code> çŠ¶æ€ä½†æ²¡æœ‰ <code>Commit</code> æ ‡è®°çš„è®°å½•ï¼ˆå³**â€œä¸å†³çŠ¶æ€â€ In-Doubt Transaction**ï¼‰ã€‚æ­¤æ—¶ï¼Œå®ƒå¿…é¡»ä¸»åŠ¨å»è”ç³»åè°ƒè€…ï¼šâ€œå–‚ï¼Œåˆšæ‰é‚£ä¸ª XID çš„äº‹åŠ¡ï¼Œå¤§å®¶æœ€ååˆ°åº•æ˜¯æäº¤äº†è¿˜æ˜¯å›æ»šäº†ï¼Ÿâ€</p>
<ul>
<li>å¦‚æœåè°ƒè€…è¯´â€œæäº¤â€ï¼Œå®ƒå°±è¡¥åšæäº¤ã€‚</li>
<li>å¦‚æœåè°ƒè€…è¯´â€œå›æ»šâ€ï¼Œå®ƒå°±è¡¥åšå›æ»šã€‚</li>
</ul>
<p>Â Â Â Â <strong>å¦‚æœæ˜¯åè°ƒè€…ä¹ŸæŒ‚äº†</strong>ï¼šè¿™å°±æ˜¯æœ€åçš„æƒ…å†µã€‚å‚ä¸è€…è”ç³»ä¸ä¸Šåè°ƒè€…ï¼Œä¸çŸ¥é“å…¶ä»–å…„å¼ŸèŠ‚ç‚¹æ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥äº†ã€‚ä¸ºäº†ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼ˆä¸èƒ½åˆ«äººå›æ»šäº†æˆ‘å´æäº¤äº†ï¼‰ï¼Œå®ƒ<strong>åªèƒ½é˜»å¡ç­‰å¾…</strong>ï¼Œä¸€ç›´æŒæœ‰é”ï¼Œç›´åˆ°åè°ƒè€…æ¢å¤ã€‚è¿™é€šå¸¸éœ€è¦äººå·¥ä»‹å…¥ï¼ˆDBA æ‰‹åŠ¨å¼ºè¡Œ Commit æˆ– Rollbackï¼‰ã€‚</p>
<ol start="2">
<li><strong><code>p.prepare()</code> å’Œ <code>p.commit()</code> ä¸­é—´ä¸€ç›´åœ¨é”ç€èµ„æºå—ï¼Ÿ</strong>
<strong>ä¸€ç›´é”ç€ã€‚</strong> è¿™æ­£æ˜¯ 2PC æ€§èƒ½å·®çš„æ ¹æœ¬åŸå› ã€‚</li>
</ol>
</blockquote>
<p><strong>ä¸‰é˜¶æ®µæäº¤ (2PC)</strong> ï¼šæ˜¯åŸºäº XA æ¥å£çš„å…·ä½“<strong>æ‰§è¡Œæµç¨‹</strong>ã€‚</p>
<ol>
<li><strong>ç¬¬ä¸€é˜¶æ®µï¼ˆè¯¢é—®é˜¶æ®µï¼‰</strong>ï¼šåè°ƒè€…é—®ï¼šâ€œå¤§å®¶èº«ä½“å¥åº·å—ï¼Ÿç½‘ç»œé€šå—ï¼Ÿèƒ½æ¥å•å—ï¼Ÿâ€ã€‚å‚ä¸è€…ç­”ï¼šYes/Noã€‚</li>
<li><strong>ç¬¬äºŒé˜¶æ®µï¼ˆé¢„æäº¤é˜¶æ®µï¼‰</strong>ï¼šå¦‚æœç¬¬ä¸€é˜¶æ®µå¤§å®¶éƒ½è¯´ Yesã€‚åè°ƒè€…è¯´ï¼šâ€œå¥½ï¼Œç°åœ¨å¤§å®¶å¼€å§‹<strong>é”èµ„æºã€å†™æ—¥å¿—</strong>ï¼ˆæ‰§è¡Œäº‹åŠ¡é€»è¾‘ï¼‰ï¼Œä½†<strong>åˆ«æäº¤</strong>ï¼å¦‚æœæˆ‘åé¢ä¸ç†ä½ ä»¬äº†ï¼Œä½ ä»¬å°±è‡ªå·±çœ‹ç€åŠã€‚â€</li>
<li><strong>ç¬¬ä¸‰é˜¶æ®µï¼ˆæäº¤é˜¶æ®µï¼‰</strong>ï¼š
<ul>
<li>
<p>å¦‚æœå¤§å®¶éƒ½è¯´â€œæˆ‘å¯ä»¥â€ï¼Œåè°ƒè€…ä¸‹ä»¤ï¼šâ€œå…¨ä½“æäº¤ (Commit)ï¼â€</p>
</li>
<li>
<p>åªè¦æœ‰ä¸€ä¸ªè¯´â€œæˆ‘ä¸è¡Œâ€ï¼Œåè°ƒè€…ä¸‹ä»¤ï¼šâ€œå…¨ä½“å›æ»š (Rollback)ï¼â€</p>
</li>
</ul>
</li>
</ol>
<blockquote>
<ol>
<li>å¦‚æœç¬¬ä¸€é˜¶æ®µå¤§å®¶éƒ½è¯´ Noï¼Œä½†æ˜¯åè°ƒè€…æŒ‚äº†ï¼Œæ€ä¹ˆåŠï¼Ÿ</li>
</ol>
<p>æ­¤æ—¶å‚ä¸è€…å°†æ— æ³•æ­£å¸¸æ”¶åˆ°æ¶ˆæ¯ï¼Œä½†åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œ <strong>â€œæ²¡æœ‰æ”¶åˆ°æ¶ˆæ¯â€</strong> æœ‰ä¸¤ç§å¯èƒ½ï¼š</p>
<ul>
<li>åè°ƒè€…æŒ‚äº†ï¼ˆ3PC èµŒçš„æ˜¯è¿™ä¸ªï¼‰ã€‚</li>
<li>åè°ƒè€…æ²¡æŒ‚ï¼Œåªæ˜¯ç½‘ç»œæ–­äº†ï¼Œè€Œä¸”åè°ƒè€…å…¶å®åˆšåˆšå†³å®šäº†è¦ Abortã€‚
ä¸€æ—¦åè°ƒè€…æŒ‚äº†ï¼Œåœ¨ç­‰å¾…ä¸€æ®µæ—¶é—´åï¼Œå‚ä¸è€…ä¼šé»˜è®¤æäº¤å¯¹åº”çš„äº‹åŠ¡ã€‚å¯¼è‡´æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚</li>
</ul>
</blockquote>
</li>
</ul>
<p><strong>æŸ”æ€§äº‹åŠ¡</strong>ï¼šåˆ†å¸ƒå¼ç†è®ºçš„APï¼Œéµå¾ªBASEï¼Œå…è®¸ä¸€å®šæ—¶é—´å†…ä¸åŒèŠ‚ç‚¹çš„æ•°æ®ä¸ä¸€è‡´ï¼Œä½†è¦æ±‚æœ€ç»ˆä¸€è‡´ã€‚</p>
<ul>
<li><strong>TCC</strong>: TCCï¼ˆTry-Confirm-Cancelï¼‰åˆè¢«ç§°è¡¥å¿äº‹åŠ¡ï¼ŒTCCä¸2PCçš„æ€æƒ³å¾ˆç›¸ä¼¼ï¼Œäº‹åŠ¡å¤„ç†æµç¨‹ä¹Ÿå¾ˆç›¸ä¼¼ï¼Œä½†2PCæ˜¯åº”ç”¨äºåœ¨DBå±‚é¢ï¼ŒTCCåˆ™å¯ä»¥ç†è§£ä¸ºåœ¨åº”ç”¨å±‚é¢çš„2PCï¼Œæ˜¯éœ€è¦æˆ‘ä»¬ç¼–å†™ä¸šåŠ¡é€»è¾‘æ¥å®ç°ã€‚
<blockquote>
<p>åœ¨ 2PC (XA) ä¸­ï¼Œåªéœ€è¦å‘Šè¯‰æ•°æ®åº“ <code>Prepare</code>ï¼ˆå‡†å¤‡ï¼‰å’Œ <code>Commit</code>ï¼ˆæäº¤ï¼‰ã€‚å¦‚æœåœ¨ <code>Prepare</code> é˜¶æ®µå¤±è´¥äº†ï¼Œ<strong>æ•°æ®åº“å¼•æ“</strong>ä¼šè‡ªåŠ¨åˆ©ç”¨ Undo Log æŠŠæ•°æ®å›æ»šå›å»ã€‚ä¸éœ€è¦å†™ä»£ç å»æ¢å¤æ•°æ®ã€‚</p>
<p><strong>â€œåº”ç”¨å±‚é¢â€<strong>çš„æ„æ€æ˜¯ï¼šäº‹åŠ¡çš„æ§åˆ¶æƒæŒæ¡åœ¨</strong>ä»£ç  (Business Logic)</strong> æ‰‹é‡Œã€‚æ•°æ®åº“æŠŠæ™®é€šçš„æœ¬åœ°äº‹åŠ¡å¤„ç†å®Œäº†ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ç¨‹åºå‘˜éœ€è¦åˆ©ç”¨å¥½æœ¬åœ°äº‹åŠ¡ã€‚</p>
</blockquote>
</li>
<li><strong>SAGA</strong>ï¼šSagaæ˜¯ç”±ä¸€ç³»åˆ—çš„æœ¬åœ°äº‹åŠ¡æ„æˆã€‚æ¯ä¸€ä¸ªæœ¬åœ°äº‹åŠ¡åœ¨æ›´æ–°å®Œæ•°æ®åº“ä¹‹åï¼Œä¼šå‘å¸ƒä¸€æ¡æ¶ˆæ¯æˆ–è€…ä¸€ä¸ªäº‹ä»¶æ¥è§¦å‘Sagaä¸­çš„ä¸‹ä¸€ä¸ªæœ¬åœ°äº‹åŠ¡çš„æ‰§è¡Œã€‚å¦‚æœä¸€ä¸ªæœ¬åœ°äº‹åŠ¡å› ä¸ºæŸäº›ä¸šåŠ¡è§„åˆ™æ— æ³•æ»¡è¶³è€Œå¤±è´¥ï¼ŒSagaä¼šæ‰§è¡Œåœ¨è¿™ä¸ªå¤±è´¥çš„äº‹åŠ¡ä¹‹å‰æˆåŠŸæäº¤çš„æ‰€æœ‰äº‹åŠ¡çš„è¡¥å¿æ“ä½œã€‚Sagaçš„å®ç°æœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œå…¶ä¸­æœ€æµè¡Œçš„ä¸¤ç§æ–¹å¼æ˜¯ï¼šåŸºäºäº‹ä»¶çš„æ–¹å¼å’ŒåŸºäºå‘½ä»¤çš„æ–¹å¼ã€‚</li>
<li><strong>æœ€ç»ˆä¸€è‡´æ€§</strong>
<ul>
<li><strong>æ¶ˆæ¯è¡¨</strong>ï¼šæœ¬åœ°æ¶ˆæ¯è¡¨çš„æ–¹æ¡ˆæœ€åˆæ˜¯ç”± eBay æå‡ºï¼Œæ ¸å¿ƒæ€è·¯æ˜¯å°†åˆ†å¸ƒå¼äº‹åŠ¡æ‹†åˆ†æˆæœ¬åœ°äº‹åŠ¡è¿›è¡Œå¤„ç†ã€‚</li>
<li><strong>æ¶ˆæ¯é˜Ÿåˆ—</strong>ï¼šåŸºäº MQ çš„åˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆå…¶å®æ˜¯å¯¹æœ¬åœ°æ¶ˆæ¯è¡¨çš„å°è£…ï¼Œå°†æœ¬åœ°æ¶ˆæ¯è¡¨åŸºäº MQ å†…éƒ¨ï¼Œå…¶ä»–æ–¹é¢çš„åè®®åŸºæœ¬ä¸æœ¬åœ°æ¶ˆæ¯è¡¨ä¸€è‡´ã€‚</li>
<li><strong>æœ€å¤§åŠªåŠ›é€šçŸ¥</strong>ï¼šæœ€å¤§åŠªåŠ›é€šçŸ¥ä¹Ÿç§°ä¸ºå®šæœŸæ ¡å¯¹ï¼Œæ˜¯å¯¹MQäº‹åŠ¡æ–¹æ¡ˆçš„è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚å®ƒåœ¨äº‹åŠ¡ä¸»åŠ¨æ–¹å¢åŠ äº†æ¶ˆæ¯æ ¡å¯¹çš„æ¥å£ï¼Œå¦‚æœäº‹åŠ¡è¢«åŠ¨æ–¹æ²¡æœ‰æ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œæ­¤æ—¶å¯ä»¥è°ƒç”¨äº‹åŠ¡ä¸»åŠ¨æ–¹æä¾›çš„æ¶ˆæ¯æ ¡å¯¹çš„æ¥å£ä¸»åŠ¨è·å–ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-5">åˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆä¹‹åˆšæ€§äº‹åŠ¡</h2>
<p>è¯´åˆ°åˆšæ€§äº‹åŠ¡ï¼Œé¦–å…ˆè¦è®²çš„æ˜¯XAåè®®ã€‚</p>
<p>XAåè®®æ˜¯ä¸€ä¸ªåŸºäº <strong>æ•°æ®åº“</strong> çš„åˆ†å¸ƒå¼äº‹åŠ¡åè®®ï¼Œå…¶åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š<strong>äº‹åŠ¡ç®¡ç†å™¨ï¼ˆTransaction Managerï¼‰</strong> å’Œ <strong>æœ¬åœ°èµ„æºç®¡ç†å™¨ï¼ˆResource Managerï¼‰</strong> ã€‚äº‹åŠ¡ç®¡ç†å™¨ä½œä¸ºä¸€ä¸ªå…¨å±€çš„è°ƒåº¦è€…ï¼Œè´Ÿè´£å¯¹å„ä¸ªæœ¬åœ°èµ„æºç®¡ç†å™¨ç»Ÿä¸€å·ä»¤æäº¤æˆ–è€…å›æ»šã€‚<code>äºŒé˜¶æäº¤åè®®ï¼ˆ2PCï¼‰</code>å’Œ<code>ä¸‰é˜¶æäº¤åè®®ï¼ˆ3PCï¼‰</code>å°±æ˜¯æ ¹æ®æ­¤åè®®è¡ç”Ÿå‡ºæ¥è€Œæ¥ã€‚ä¸»æµçš„è¯¸å¦‚Oracleã€MySQLç­‰æ•°æ®åº“å‡å·²å®ç°äº†XAæ¥å£ã€‚</p>
<h3 data-id="heading-6">ä¸¤æ®µæäº¤ï¼ˆ2PCï¼‰</h3>
<blockquote>
<p>å¼•å…¥ä¸€ä¸ªä½œä¸ºåè°ƒè€…ï¼ˆcoordinatorï¼‰çš„ç»„ä»¶æ¥ç»Ÿä¸€æŒæ§æ‰€æœ‰å‚ä¸è€…ï¼ˆparticipantï¼‰çš„æ“ä½œç»“æœï¼Œå¹¶æœ€ç»ˆæŒ‡ç¤ºè¿™äº›èŠ‚ç‚¹æ˜¯å¦è¦æŠŠæ“ä½œç»“æœè¿›è¡ŒçœŸæ­£çš„æäº¤ã€‚</p>
</blockquote>
<ul>
<li>
<p><em>ç¬¬ä¸€é˜¶æ®µ</em>: å‡†å¤‡é˜¶æ®µï¼›</p>
<ul>
<li>åè°ƒè€…å‘æ‰€æœ‰å‚ä¸è€…å‘é€ REQUEST-TO-PREPARE</li>
<li>å½“å‚ä¸è€…æ”¶åˆ°REQUEST-TO-PREPARE æ¶ˆæ¯å, å®ƒå‘åè°ƒè€…å‘é€æ¶ˆæ¯PREPAREDæˆ–è€…NOï¼Œè¡¨ç¤ºäº‹åŠ¡æ˜¯å¦å‡†å¤‡å¥½ï¼›å¦‚æœå‘é€çš„æ˜¯NOï¼Œé‚£ä¹ˆäº‹åŠ¡è¦å›æ»šï¼›</li>
</ul>
</li>
<li>
<p><em>ç¬¬äºŒé˜¶æ®µ</em>: æäº¤é˜¶æ®µã€‚</p>
<ul>
<li>åè°ƒè€…æ”¶é›†æ‰€æœ‰å‚ä¸è€…çš„è¿”å›æ¶ˆæ¯, å¦‚æœæ‰€æœ‰çš„å‚ä¸è€…éƒ½å›å¤çš„æ˜¯PREPAREDï¼Œ é‚£ä¹ˆåè°ƒè€…å‘æ‰€æœ‰å‚ä¸è€…å‘é€COMMIT æ¶ˆæ¯ï¼›å¦åˆ™ï¼Œåè°ƒè€…å‘æ‰€æœ‰å›å¤PREPAREDçš„å‚ä¸è€…å‘é€ABORTæ¶ˆæ¯ï¼›</li>
<li>å‚ä¸è€…å¦‚æœå›å¤äº†PREPAREDæ¶ˆæ¯å¹¶ä¸”æ”¶åˆ°åè°ƒè€…å‘æ¥çš„COMMITæ¶ˆæ¯ï¼Œæˆ–è€…å®ƒæ”¶åˆ°ABORTæ¶ˆæ¯ï¼Œå®ƒå°†æ‰§è¡Œæäº¤æˆ–å›æ»šï¼Œå¹¶å‘åè°ƒè€…å‘é€DONEæ¶ˆæ¯ä»¥ç¡®è®¤ã€‚</li>
</ul>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65f1be6556094b54900bdfb3dd26e96f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXR3ZWRuZXNkYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135300&amp;x-signature=VV3qwLec4ZR3OYfq5XKuVTSyRiI%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä¸¤æ®µæäº¤ï¼ˆ2PCï¼‰çš„ç¼ºç‚¹</strong>ï¼š</p>
<p>äºŒé˜¶æ®µæäº¤çœ‹ä¼¼èƒ½å¤Ÿæä¾›åŸå­æ€§çš„æ“ä½œï¼Œä½†å®ƒå­˜åœ¨ç€ä¸¥é‡çš„ç¼ºé™·ï¼š</p>
<ul>
<li><strong>ç½‘ç»œæŠ–åŠ¨å¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´</strong>ï¼šç¬¬äºŒé˜¶æ®µä¸­åè°ƒè€…å‘å‚ä¸è€…å‘é€commitå‘½ä»¤ä¹‹åï¼Œä¸€æ—¦æ­¤æ—¶å‘ç”Ÿç½‘ç»œæŠ–åŠ¨ï¼Œå¯¼è‡´ä¸€éƒ¨åˆ†å‚ä¸è€…æ¥æ”¶åˆ°äº†commitè¯·æ±‚å¹¶æ‰§è¡Œï¼Œå¯å…¶ä»–æœªæ¥åˆ°commitè¯·æ±‚çš„å‚ä¸è€…æ— æ³•æ‰§è¡Œäº‹åŠ¡æäº¤ã€‚è¿›è€Œå¯¼è‡´æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿå‡ºç°äº†æ•°æ®ä¸ä¸€è‡´ã€‚</li>
<li><strong>è¶…æ—¶å¯¼è‡´çš„åŒæ­¥é˜»å¡é—®é¢˜</strong>ï¼š2PCä¸­çš„æ‰€æœ‰çš„å‚ä¸è€…èŠ‚ç‚¹éƒ½ä¸ºäº‹åŠ¡é˜»å¡å‹ï¼Œå½“æŸä¸€ä¸ªå‚ä¸è€…èŠ‚ç‚¹å‡ºç°é€šä¿¡è¶…æ—¶ï¼Œå…¶ä½™å‚ä¸è€…éƒ½ä¼šè¢«åŠ¨é˜»å¡å ç”¨èµ„æºä¸èƒ½é‡Šæ”¾ã€‚</li>
<li><strong>å•ç‚¹æ•…éšœçš„é£é™©</strong>ï¼šç”±äºä¸¥é‡çš„ä¾èµ–åè°ƒè€…ï¼Œä¸€æ—¦åè°ƒè€…å‘ç”Ÿæ•…éšœï¼Œè€Œæ­¤æ—¶å‚ä¸è€…è¿˜éƒ½å¤„äºé”å®šèµ„æºçš„çŠ¶æ€ï¼Œæ— æ³•å®Œæˆäº‹åŠ¡commitæ“ä½œã€‚è™½ç„¶åè°ƒè€…å‡ºç°æ•…éšœåï¼Œä¼šé‡æ–°é€‰ä¸¾ä¸€ä¸ªåè°ƒè€…ï¼Œå¯æ— æ³•è§£å†³å› å‰ä¸€ä¸ªåè°ƒè€…å®•æœºå¯¼è‡´çš„å‚ä¸è€…å¤„äºé˜»å¡çŠ¶æ€çš„é—®é¢˜ã€‚</li>
</ul>
<h3 data-id="heading-7">ä¸‰æ®µæäº¤ï¼ˆ3PCï¼‰</h3>
<blockquote>
<p>ä¸‰æ®µæäº¤ï¼ˆ3PCï¼‰æ˜¯å¯¹ä¸¤æ®µæäº¤ï¼ˆ2PCï¼‰çš„ä¸€ç§å‡çº§ä¼˜åŒ–ï¼Œ<strong>3PCåœ¨2PCçš„ç¬¬ä¸€é˜¶æ®µå’Œç¬¬äºŒé˜¶æ®µä¸­æ’å…¥ä¸€ä¸ªå‡†å¤‡é˜¶æ®µ</strong>ã€‚ä¿è¯äº†åœ¨æœ€åæäº¤é˜¶æ®µä¹‹å‰ï¼Œå„å‚ä¸è€…èŠ‚ç‚¹çš„çŠ¶æ€éƒ½ä¸€è‡´ã€‚åŒæ—¶åœ¨åè°ƒè€…å’Œå‚ä¸è€…ä¸­éƒ½å¼•å…¥è¶…æ—¶æœºåˆ¶ï¼Œå½“å‚ä¸è€…å„ç§åŸå› æœªæ”¶åˆ°åè°ƒè€…çš„commitè¯·æ±‚åï¼Œä¼šå¯¹æœ¬åœ°äº‹åŠ¡è¿›è¡Œcommitï¼Œä¸ä¼šä¸€ç›´é˜»å¡ç­‰å¾…ï¼Œè§£å†³äº†2PCçš„å•ç‚¹æ•…éšœé—®é¢˜ï¼Œä½†3PCè¿˜æ˜¯æ²¡èƒ½ä»æ ¹æœ¬ä¸Šè§£å†³æ•°æ®ä¸€è‡´æ€§çš„é—®é¢˜ã€‚</p>
</blockquote>
<p><strong>3PCçš„ä¸‰ä¸ªé˜¶æ®µåˆ†åˆ«æ˜¯CanCommitã€PreCommitã€DoCommit</strong>ï¼š</p>
<ul>
<li><strong>CanCommit</strong>ï¼šåè°ƒè€…å‘æ‰€æœ‰å‚ä¸è€…å‘é€CanCommitå‘½ä»¤ï¼Œè¯¢é—®æ˜¯å¦å¯ä»¥æ‰§è¡Œäº‹åŠ¡æäº¤æ“ä½œã€‚å¦‚æœå…¨éƒ¨å“åº”YESåˆ™è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚</li>
<li><strong>PreCommit</strong>ï¼šåè°ƒè€…å‘æ‰€æœ‰å‚ä¸è€…å‘é€PreCommitå‘½ä»¤ï¼Œè¯¢é—®æ˜¯å¦å¯ä»¥è¿›è¡Œäº‹åŠ¡çš„é¢„æäº¤æ“ä½œï¼Œå‚ä¸è€…æ¥æ”¶åˆ°PreCommitè¯·æ±‚åï¼Œå¦‚å‚ä¸è€…æˆåŠŸçš„æ‰§è¡Œäº†äº‹åŠ¡æ“ä½œï¼Œåˆ™è¿”å›Yeså“åº”ï¼Œè¿›å…¥æœ€ç»ˆcommité˜¶æ®µã€‚ä¸€æ—¦å‚ä¸è€…ä¸­æœ‰å‘åè°ƒè€…å‘é€äº†Noå“åº”ï¼Œæˆ–å› ç½‘ç»œé€ æˆè¶…æ—¶ï¼Œåè°ƒè€…æ²¡æœ‰æ¥åˆ°å‚ä¸è€…çš„å“åº”ï¼Œåè°ƒè€…å‘æ‰€æœ‰å‚ä¸è€…å‘é€abortè¯·æ±‚ï¼Œå‚ä¸è€…æ¥å—abortå‘½ä»¤æ‰§è¡Œäº‹åŠ¡çš„ä¸­æ–­ã€‚</li>
<li><strong>DoCommit</strong>ï¼šåœ¨å‰ä¸¤ä¸ªé˜¶æ®µä¸­æ‰€æœ‰å‚ä¸è€…çš„å“åº”åé¦ˆå‡æ˜¯YESåï¼Œåè°ƒè€…å‘å‚ä¸è€…å‘é€DoCommitå‘½ä»¤æ­£å¼æäº¤äº‹åŠ¡ï¼Œå¦‚åè°ƒè€…æ²¡æœ‰æ¥æ”¶åˆ°å‚ä¸è€…å‘é€çš„ACKå“åº”ï¼Œä¼šå‘æ‰€æœ‰å‚ä¸è€…å‘é€abortè¯·æ±‚å‘½ä»¤ï¼Œæ‰§è¡Œäº‹åŠ¡çš„ä¸­æ–­ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9584d6277667455e8f25368bb7fc82ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXR3ZWRuZXNkYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135300&amp;x-signature=cD83vQPRT1B0OrIw%2F0U9NY%2FuSl8%3D" alt="image.png" loading="lazy"/></p>
<p><strong>3PCå­˜åœ¨çš„é—®é¢˜</strong></p>
<p>3PCå·¥ä½œåœ¨åŒæ­¥ç½‘ç»œæ¨¡å‹ä¸Šï¼Œå®ƒå‡è®¾æ¶ˆæ¯ä¼ è¾“æ—¶é—´æ˜¯æœ‰ä¸Šç•Œçš„ï¼Œåªå­˜åœ¨æœºå™¨å¤±è´¥è€Œä¸å­˜åœ¨æ¶ˆæ¯å¤±è´¥ã€‚è¿™ä¸ªå‡è®¾å¤ªå¼ºï¼Œç°å®çš„æƒ…å½¢æ˜¯ï¼Œæœºå™¨å¤±è´¥æ˜¯æ— æ³•å®Œç¾åœ°æ£€æµ‹å‡ºæ¥çš„ï¼Œæ¶ˆæ¯ä¼ è¾“å¯èƒ½å› ä¸ºç½‘ç»œæ‹¥å µèŠ±è´¹å¾ˆå¤šæ—¶é—´ã€‚åŒæ—¶, è¯´é˜»å¡æ˜¯ç›¸å¯¹, å­˜åœ¨åè°ƒè€…å’Œå‚ä¸è€…åŒæ—¶å¤±è´¥çš„æƒ…å½¢ä¸‹, 3PCäº‹åŠ¡ä¾ç„¶ä¼šé˜»å¡ã€‚å®é™…ä¸Šï¼Œå¾ˆå°‘ä¼šæœ‰ç³»ç»Ÿå®ç°3PCï¼Œå¤šæ•°ç°å®çš„ç³»ç»Ÿä¼šé€šè¿‡å¤åˆ¶çŠ¶æ€æœºè§£å†³2PCé˜»å¡çš„é—®é¢˜ã€‚æ¯”å¦‚ï¼Œå¦‚æœå¤±è´¥æ¨¡å‹ä¸æ˜¯å¤±è´¥-åœæ­¢, è€Œæ˜¯æ¶ˆæ¯å¤±è´¥ï¼ˆæ¶ˆæ¯å»¶è¿Ÿæˆ–ç½‘ç»œåˆ†åŒºï¼‰ï¼Œé‚£æ ·3PCä¼šäº§ç”Ÿä¸ä¸€è‡´çš„æƒ…å½¢ã€‚</p>
<p><strong>3PCå°ç»“</strong></p>
<blockquote>
<p><em>3PCå¹¶æ²¡æœ‰å®Œç¾è§£å†³2PCçš„é˜»å¡ï¼Œä¹Ÿå¼•å…¥äº†æ–°çš„é—®é¢˜ï¼ˆä¸ä¸€è‡´é—®é¢˜ï¼‰ï¼Œæ‰€ä»¥3PCå¾ˆå°‘ä¼šè¢«çœŸæ­£çš„ä½¿ç”¨</em>ã€‚</p>
</blockquote>
<h2 data-id="heading-8">åˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆä¹‹æŸ”æ€§äº‹åŠ¡</h2>
<blockquote>
<p>æŸ”æ€§äº‹åŠ¡ï¼šåˆ†å¸ƒå¼ç†è®ºçš„APï¼Œéµå¾ªBASEï¼Œå…è®¸ä¸€å®šæ—¶é—´å†…ä¸åŒèŠ‚ç‚¹çš„æ•°æ®ä¸ä¸€è‡´ï¼Œä½†è¦æ±‚æœ€ç»ˆä¸€è‡´ã€‚</p>
</blockquote>
<h3 data-id="heading-9">è¡¥å¿äº‹åŠ¡ (TCC)</h3>
<blockquote>
<p>TCCï¼ˆTry-Confirm-Cancelï¼‰åˆè¢«ç§°è¡¥å¿äº‹åŠ¡ï¼ŒTCCä¸2PCçš„æ€æƒ³å¾ˆç›¸ä¼¼ï¼Œäº‹åŠ¡å¤„ç†æµç¨‹ä¹Ÿå¾ˆç›¸ä¼¼ï¼Œä½†<strong>2PCæ˜¯åº”ç”¨äºåœ¨DBå±‚é¢ï¼ŒTCCåˆ™å¯ä»¥ç†è§£ä¸ºåœ¨åº”ç”¨å±‚é¢çš„2PCï¼Œæ˜¯éœ€è¦æˆ‘ä»¬ç¼–å†™ä¸šåŠ¡é€»è¾‘æ¥å®ç°</strong>ã€‚</p>
</blockquote>
<p>TCCå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š"é’ˆå¯¹æ¯ä¸ªæ“ä½œéƒ½è¦æ³¨å†Œä¸€ä¸ªä¸å…¶å¯¹åº”çš„ç¡®è®¤ï¼ˆTryï¼‰å’Œè¡¥å¿ï¼ˆCancelï¼‰"ã€‚</p>
<p>è¿˜æ‹¿ä¸‹å•æ‰£åº“å­˜è§£é‡Šä¸‹å®ƒçš„ä¸‰ä¸ªæ“ä½œï¼š</p>
<ul>
<li><strong>Tryé˜¶æ®µ</strong>ï¼šä¸‹å•æ—¶é€šè¿‡Tryæ“ä½œå»æ‰£é™¤åº“å­˜é¢„ç•™èµ„æºã€‚</li>
<li><strong>Confirmé˜¶æ®µ</strong>ï¼šç¡®è®¤æ‰§è¡Œä¸šåŠ¡æ“ä½œï¼Œåœ¨åªé¢„ç•™çš„èµ„æºåŸºç¡€ä¸Šï¼Œå‘èµ·è´­ä¹°è¯·æ±‚ã€‚</li>
<li><strong>Cancelé˜¶æ®µ</strong>ï¼šåªè¦æ¶‰åŠåˆ°çš„ç›¸å…³ä¸šåŠ¡ä¸­ï¼Œæœ‰ä¸€ä¸ªä¸šåŠ¡æ–¹é¢„ç•™èµ„æºæœªæˆåŠŸï¼Œåˆ™å–æ¶ˆæ‰€æœ‰ä¸šåŠ¡èµ„æºçš„é¢„ç•™è¯·æ±‚ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ad3a7365a8140c0bf59e1ccaeafcc53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXR3ZWRuZXNkYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135300&amp;x-signature=uYBwiJvy507DP1rkiz5EIoZWONk%3D" alt="image.png" loading="lazy"/></p>
<p><strong>TCCçš„ç¼ºç‚¹</strong>ï¼š</p>
<ol>
<li>
<p>ç©ºå›æ»š</p>
<p>å½“ä¸€ä¸ªåˆ†æ”¯äº‹åŠ¡æ‰€åœ¨çš„æœåŠ¡å‘ç”Ÿå®•æœºæˆ–è€…ç½‘ç»œå¼‚å¸¸å¯¼è‡´è°ƒç”¨å¤±è´¥ï¼Œå¹¶æœªæ‰§è¡Œtryæ–¹æ³•ï¼Œå½“æ¢å¤åäº‹åŠ¡æ‰§è¡Œå›æ»šæ“ä½œå°±ä¼šè°ƒç”¨æ­¤åˆ†æ”¯äº‹åŠ¡çš„cancelæ–¹æ³•,å¦‚æœcancelæ–¹æ³•ä¸èƒ½å¤„ç†æ­¤ç§æƒ…å†µå°±ä¼šå‡ºç°ç©ºå›æ»šã€‚</p>
<p>æ˜¯å¦å‡ºç°ç©ºå›æ»šï¼Œæˆ‘ä»¬éœ€è¦éœ€è¦åˆ¤æ–­æ˜¯å¦æ‰§è¡Œäº†tryæ–¹æ³•ï¼Œå¦‚æœæ‰§è¡Œäº†å°±æ²¡æœ‰ç©ºå›æ»šã€‚è§£å†³æ–¹æ³•å°±æ˜¯å½“ä¸»ä¸šåŠ¡å‘èµ·äº‹åŠ¡æ—¶ï¼Œç”Ÿæˆä¸€ä¸ªå…¨å±€äº‹åŠ¡è®°å½•ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€IDï¼Œè´¯ç©¿æ•´ä¸ªäº‹åŠ¡ï¼Œå†åˆ›å»ºä¸€å¼ åˆ†æ”¯äº‹åŠ¡è®°å½•è¡¨ï¼Œç”¨äºè®°å½•åˆ†æ”¯äº‹åŠ¡ï¼Œtryæ‰§è¡Œæ—¶å°†å…¨å±€äº‹åŠ¡IDå’Œåˆ†æ”¯äº‹åŠ¡IDå­˜å…¥åˆ†æ”¯äº‹åŠ¡è¡¨ä¸­ï¼Œè¡¨ç¤ºæ‰§è¡Œäº†tryé˜¶æ®µï¼Œå½“cancelæ‰§è¡Œæ—¶ï¼Œå…ˆåˆ¤æ–­è¡¨ä¸­æ˜¯å¦æœ‰è¯¥å…¨å±€äº‹åŠ¡IDçš„æ•°æ®ï¼Œå¦‚æœæœ‰åˆ™å›æ»šï¼Œå¦åˆ™ä¸åšä»»ä½•æ“ä½œã€‚æ¯”å¦‚seataçš„ATæ¨¡å¼ä¸­å°±æœ‰åˆ†æ”¯äº‹åŠ¡è¡¨ã€‚</p>
</li>
<li>
<p>å¹‚ç­‰é—®é¢˜</p>
<p>ç”±äºæœåŠ¡å®•æœºæˆ–è€…ç½‘ç»œé—®é¢˜ï¼Œæ–¹æ³•çš„è°ƒç”¨å¯èƒ½å‡ºç°è¶…æ—¶ï¼Œä¸ºäº†ä¿è¯äº‹åŠ¡æ­£å¸¸æ‰§è¡Œæˆ‘ä»¬å¾€å¾€ä¼šåŠ å…¥é‡è¯•çš„æœºåˆ¶ï¼Œå› æ­¤å°±éœ€è¦ä¿è¯confirmå’Œcancelé˜¶æ®µæ“ä½œçš„å¹‚ç­‰æ€§ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨åˆ†æ”¯äº‹åŠ¡è®°å½•è¡¨ä¸­å¢åŠ äº‹åŠ¡æ‰§è¡ŒçŠ¶æ€ï¼Œæ¯æ¬¡æ‰§è¡Œconfirmå’Œcancelæ–¹æ³•æ—¶éƒ½æŸ¥è¯¢è¯¥äº‹åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ï¼Œä»¥æ­¤åˆ¤æ–­äº‹åŠ¡çš„å¹‚ç­‰æ€§ã€‚</p>
</li>
<li>
<p>æ‚¬æŒ‚é—®é¢˜</p>
<p>TCCä¸­ï¼Œåœ¨è°ƒç”¨tryä¹‹å‰ä¼šå…ˆæ³¨å†Œåˆ†æ”¯äº‹åŠ¡ï¼Œæ³¨å†Œåˆ†æ”¯äº‹åŠ¡ä¹‹åï¼Œè°ƒç”¨å‡ºç°è¶…æ—¶ï¼Œæ­¤æ—¶tryè¯·æ±‚è¿˜æœªåˆ°è¾¾å¯¹åº”çš„æœåŠ¡ï¼Œå› ä¸ºè°ƒç”¨è¶…æ—¶äº†ï¼Œæ‰€ä»¥ä¼šæ‰§è¡Œcancelè°ƒç”¨ï¼Œæ­¤æ—¶cancelå·²ç»æ‰§è¡Œå®Œäº†ï¼Œç„¶è€Œè¿™ä¸ªæ—¶å€™tryè¯·æ±‚åˆ°è¾¾äº†ï¼Œè¿™ä¸ªæ—¶å€™æ‰§è¡Œäº†tryä¹‹åå°±æ²¡æœ‰åç»­çš„æ“ä½œäº†ï¼Œå°±ä¼šå¯¼è‡´èµ„æºæŒ‚èµ·ï¼Œæ— æ³•é‡Šæ”¾ã€‚</p>
<p>æ‰§è¡Œtryæ–¹æ³•æ—¶æˆ‘ä»¬å¯ä»¥åˆ¤æ–­confirmæˆ–è€…cancelæ–¹æ³•æ˜¯å¦æ‰§è¡Œï¼Œå¦‚æœæ‰§è¡Œäº†é‚£ä¹ˆå°±ä¸æ‰§è¡Œtryé˜¶æ®µã€‚åŒæ ·å€ŸåŠ©åˆ†æ”¯äº‹åŠ¡è¡¨ä¸­äº‹åŠ¡çš„æ‰§è¡ŒçŠ¶æ€ã€‚å¦‚æœå·²ç»æ‰§è¡Œäº†confirmæˆ–è€…cancelé‚£ä¹ˆtryå°±æ‰§è¡Œã€‚</p>
</li>
</ol>
<h3 data-id="heading-10">Sagaäº‹åŠ¡</h3>
<p>Sagaæ˜¯ç”±ä¸€ç³»åˆ—çš„æœ¬åœ°äº‹åŠ¡æ„æˆã€‚æ¯ä¸€ä¸ªæœ¬åœ°äº‹åŠ¡åœ¨æ›´æ–°å®Œæ•°æ®åº“ä¹‹åï¼Œä¼šå‘å¸ƒä¸€æ¡æ¶ˆæ¯æˆ–è€…ä¸€ä¸ªäº‹ä»¶æ¥è§¦å‘Sagaä¸­çš„ä¸‹ä¸€ä¸ªæœ¬åœ°äº‹åŠ¡çš„æ‰§è¡Œã€‚å¦‚æœä¸€ä¸ªæœ¬åœ°äº‹åŠ¡å› ä¸ºæŸäº›ä¸šåŠ¡è§„åˆ™æ— æ³•æ»¡è¶³è€Œå¤±è´¥ï¼ŒSagaä¼šæ‰§è¡Œåœ¨è¿™ä¸ªå¤±è´¥çš„äº‹åŠ¡ä¹‹å‰æˆåŠŸæäº¤çš„æ‰€æœ‰äº‹åŠ¡çš„è¡¥å¿æ“ä½œã€‚</p>
<p>Sagaçš„å®ç°æœ‰å¾ˆå¤šç§æ–¹å¼ï¼Œå…¶ä¸­æœ€æµè¡Œçš„ä¸¤ç§æ–¹å¼æ˜¯ï¼š</p>
<ul>
<li><strong>åŸºäºäº‹ä»¶çš„æ–¹å¼</strong>ã€‚è¿™ç§æ–¹å¼æ²¡æœ‰åè°ƒä¸­å¿ƒï¼Œæ•´ä¸ªæ¨¡å¼çš„å·¥ä½œæ–¹å¼å°±åƒèˆè¹ˆä¸€æ ·ï¼Œå„ä¸ªèˆè¹ˆæ¼”å‘˜æŒ‰ç…§é¢„å…ˆç¼–æ’çš„åŠ¨ä½œå’Œèµ°ä½å„è‡ªè¡¨æ¼”ï¼Œæœ€ç»ˆå½¢æˆä¸€åªèˆè¹ˆã€‚å¤„äºå½“å‰Sagaä¸‹çš„å„ä¸ªæœåŠ¡ï¼Œä¼šäº§ç”ŸæŸç±»äº‹ä»¶ï¼Œæˆ–è€…ç›‘å¬å…¶å®ƒæœåŠ¡äº§ç”Ÿçš„äº‹ä»¶å¹¶å†³å®šæ˜¯å¦éœ€è¦é’ˆå¯¹ç›‘å¬åˆ°çš„äº‹ä»¶åšå‡ºå“åº”ã€‚</li>
<li><strong>åŸºäºå‘½ä»¤çš„æ–¹å¼</strong>ã€‚è¿™ç§æ–¹å¼çš„å·¥ä½œå½¢å¼å°±åƒä¸€åªä¹é˜Ÿï¼Œç”±ä¸€ä¸ªæŒ‡æŒ¥å®¶ï¼ˆåè°ƒä¸­å¿ƒï¼‰æ¥åè°ƒå¤§å®¶çš„å·¥ä½œã€‚åè°ƒä¸­å¿ƒæ¥å‘Šè¯‰Sagaçš„å‚ä¸æ–¹åº”è¯¥æ‰§è¡Œå“ªä¸€ä¸ªæœ¬åœ°äº‹åŠ¡ã€‚</li>
</ul>
<p>æˆ‘ä»¬ç»§ç»­ä»¥è®¢å•æµç¨‹ä¸ºä¾‹ï¼Œè¯´æ˜ä¸€ä¸‹è¯¥æ¨¡å¼ã€‚</p>
<p>å‡è®¾ä¸€ä¸ªå®Œæ•´çš„è®¢å•æµç¨‹åŒ…å«äº†å¦‚ä¸‹å‡ ä¸ªæœåŠ¡ï¼š</p>
<ol>
<li>Order Serviceï¼šè®¢å•æœåŠ¡</li>
<li>Payment Serviceï¼šæ”¯ä»˜æœåŠ¡</li>
<li>Stock Serviceï¼šåº“å­˜æœåŠ¡</li>
<li>Delivery Serviceï¼šç‰©æµæœåŠ¡</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31b5eca0a8c54c3c8a5b13b0ac930dda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXR3ZWRuZXNkYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135300&amp;x-signature=2LiiwMOzv0NA6mzt2tydypSYFl8%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-11">åŸºäºäº‹ä»¶çš„æ–¹å¼</h4>
<p>åœ¨åŸºäºäº‹ä»¶çš„æ–¹å¼ä¸­ï¼Œç¬¬ä¸€ä¸ªæœåŠ¡æ‰§è¡Œå®Œæœ¬åœ°äº‹åŠ¡ä¹‹åï¼Œä¼šäº§ç”Ÿä¸€ä¸ªäº‹ä»¶ã€‚å…¶å®ƒæœåŠ¡ä¼šç›‘å¬è¿™ä¸ªäº‹ä»¶ï¼Œè§¦å‘è¯¥æœåŠ¡æœ¬åœ°äº‹åŠ¡çš„æ‰§è¡Œï¼Œå¹¶äº§ç”Ÿæ–°çš„äº‹ä»¶ã€‚</p>
<p>é‡‡ç”¨åŸºäºäº‹ä»¶çš„sagaæ¨¡å¼çš„è®¢å•å¤„ç†æµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/361a50e422c144a3aef5584ee7ad8526~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXR3ZWRuZXNkYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135300&amp;x-signature=N%2FuX7g%2BD8MxPtkGZn2UNxX72O10%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>è®¢å•æœåŠ¡åˆ›å»ºä¸€ç¬”æ–°è®¢å•ï¼Œå°†è®¢å•çŠ¶æ€è®¾ç½®ä¸º"å¾…å¤„ç†"ï¼Œäº§ç”Ÿäº‹ä»¶ORDER_CREATED_EVENTã€‚</li>
<li>æ”¯ä»˜æœåŠ¡ç›‘å¬ORDER_CREATED_EVENTï¼Œå®Œæˆæ‰£æ¬¾å¹¶äº§ç”Ÿäº‹ä»¶BILLED_ORDER_EVENTã€‚</li>
<li>åº“å­˜æœåŠ¡ç›‘å¬BILLED_ORDER_EVENTï¼Œå®Œæˆåº“å­˜æ‰£å‡å’Œå¤‡è´§ï¼Œäº§ç”Ÿäº‹ä»¶ORDER_PREPARED_EVENTã€‚</li>
<li>ç‰©æµæœåŠ¡ç›‘å¬ORDER_PREPARED_EVENTï¼Œå®Œæˆå•†å“é…é€ï¼Œäº§ç”Ÿäº‹ä»¶ORDER_DELIVERED_EVENTã€‚</li>
<li>è®¢å•æœåŠ¡ç›‘å¬ORDER_DELIVERED_EVENTï¼Œå°†è®¢å•çŠ¶æ€æ›´æ–°ä¸º"å®Œæˆ"ã€‚</li>
</ul>
<p>åœ¨è¿™ä¸ªæµç¨‹ä¸­ï¼Œè®¢å•æœåŠ¡å¾ˆå¯èƒ½è¿˜ä¼šç›‘å¬BILLED_ORDER_EVENTï¼ŒORDER_PREPARED_EVENTæ¥å®Œæˆè®¢å•çŠ¶æ€çš„å®æ—¶æ›´æ–°ã€‚å°†è®¢å•çŠ¶æ€åˆ†åˆ«æ›´æ–°ä¸º"å·²ç»æ”¯ä»˜"å’Œ"å·²ç»å‡ºåº“"ç­‰çŠ¶æ€æ¥åŠæ—¶åæ˜ è®¢å•çš„æœ€æ–°çŠ¶æ€ã€‚</p>
<p><strong>è¯¥æ¨¡å¼ä¸‹åˆ†å¸ƒå¼äº‹åŠ¡çš„å›æ»š</strong></p>
<p>ä¸ºäº†åœ¨å¼‚å¸¸æƒ…å†µä¸‹å›æ»šæ•´ä¸ªåˆ†å¸ƒå¼äº‹åŠ¡ï¼Œæˆ‘ä»¬éœ€è¦ä¸ºç›¸å…³æœåŠ¡æä¾›è¡¥å¿æ“ä½œæ¥å£ã€‚</p>
<p>å‡è®¾åº“å­˜æœåŠ¡ç”±äºåº“å­˜ä¸è¶³æ²¡èƒ½æ­£ç¡®å®Œæˆå¤‡è´§ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„æµç¨‹æ¥å›æ»šæ•´ä¸ªSagaäº‹åŠ¡ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b490d43e81c4c79b2a25802e0de66cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXR3ZWRuZXNkYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135300&amp;x-signature=UftlYvhJFKQkZTa%2BMtD3FWCzdy8%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li>åº“å­˜æœåŠ¡äº§ç”Ÿäº‹ä»¶PRODUCT_OUT_OF_STOCK_EVENTã€‚</li>
<li>è®¢å•æœåŠ¡å’Œæ”¯ä»˜æœåŠ¡éƒ½ä¼šç›‘å¬è¯¥äº‹ä»¶å¹¶åšå‡ºå“åº”ï¼š
<ol>
<li>æ”¯ä»˜æœåŠ¡å®Œæˆé€€æ¬¾ã€‚</li>
<li>è®¢å•æœåŠ¡å°†è®¢å•çŠ¶æ€è®¾ç½®ä¸º"å¤±è´¥"ã€‚</li>
</ol>
</li>
</ol>
<p><strong>åŸºäºäº‹ä»¶æ–¹å¼çš„ä¼˜ç¼ºç‚¹</strong></p>
<p><strong>ä¼˜ç‚¹</strong>ï¼šç®€å•ä¸”å®¹æ˜“ç†è§£ã€‚å„å‚ä¸æ–¹ç›¸äº’ä¹‹é—´æ— ç›´æ¥æ²Ÿé€šï¼Œå®Œå…¨è§£è€¦ã€‚è¿™ç§æ–¹å¼æ¯”è¾ƒé€‚åˆæ•´ä¸ªåˆ†å¸ƒå¼äº‹åŠ¡åªæœ‰2-4ä¸ªæ­¥éª¤çš„æƒ…å½¢ã€‚</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šè¿™ç§æ–¹å¼å¦‚æœæ¶‰åŠæ¯”è¾ƒå¤šçš„ä¸šåŠ¡å‚ä¸æ–¹ï¼Œåˆ™æ¯”è¾ƒå®¹æ˜“å¤±æ§ã€‚å„ä¸šåŠ¡å‚ä¸æ–¹å¯éšæ„ç›‘å¬å¯¹æ–¹çš„æ¶ˆæ¯ï¼Œä»¥è‡³äºæœ€åæ²¡äººçŸ¥é“åˆ°åº•æœ‰å“ªäº›ç³»ç»Ÿåœ¨ç›‘å¬å“ªäº›æ¶ˆæ¯ã€‚æ›´æ‚²å‚¬çš„æ˜¯ï¼Œè¿™ä¸ªæ¨¡å¼è¿˜å¯èƒ½äº§ç”Ÿç¯å½¢ç›‘å¬ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªä¸šåŠ¡æ–¹ç›¸äº’ç›‘å¬å¯¹æ–¹æ‰€äº§ç”Ÿçš„äº‹ä»¶ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨å‘½ä»¤çš„æ–¹å¼æ¥å…‹æœä¸Šé¢æåˆ°çš„ç¼ºç‚¹ã€‚</p>
<h4 data-id="heading-12">åŸºäºå‘½ä»¤çš„æ–¹å¼</h4>
<p>åœ¨åŸºäºå‘½ä»¤çš„æ–¹å¼ä¸­ï¼Œæˆ‘ä»¬ä¼šå®šä¹‰ä¸€ä¸ªæ–°çš„æœåŠ¡ï¼Œè¿™ä¸ªæœåŠ¡æ‰®æ¼”çš„è§’è‰²å°±å’Œä¸€æ”¯äº¤å“ä¹ä¹é˜Ÿçš„æŒ‡æŒ¥ä¸€æ ·ï¼Œå‘Šè¯‰å„ä¸ªä¸šåŠ¡å‚ä¸æ–¹ï¼Œåœ¨ä»€ä¹ˆæ—¶å€™åšä»€ä¹ˆäº‹æƒ…ã€‚æˆ‘ä»¬ç®¡è¿™ä¸ªæ–°æœåŠ¡å«åšåè°ƒä¸­å¿ƒã€‚åè°ƒä¸­å¿ƒé€šè¿‡å‘½ä»¤/å›å¤çš„æ–¹å¼æ¥å’ŒSagaä¸­å…¶å®ƒæœåŠ¡è¿›è¡Œäº¤äº’ã€‚</p>
<p>æˆ‘ä»¬ç»§ç»­ä»¥ä¹‹å‰çš„è®¢å•æµç¨‹æ¥ä¸¾ä¾‹ã€‚ä¸‹å›¾ä¸­çš„Order Saga Orchestratorå°±æ˜¯æ–°å¼•å…¥çš„åè°ƒä¸­å¿ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fcd85f7dda8d49a99cc4aa9fa379cd51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXR3ZWRuZXNkYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135300&amp;x-signature=ChKhKFxWMUZExWvvmbyBxKljafk%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>è®¢å•æœåŠ¡åˆ›å»ºä¸€ç¬”æ–°è®¢å•ï¼Œå°†è®¢å•çŠ¶æ€è®¾ç½®ä¸º"å¾…å¤„ç†"ï¼Œç„¶åè®©Order Saga Orchestratorï¼ˆOSOï¼‰å¼€å¯åˆ›å»ºè®¢å•äº‹åŠ¡ã€‚</li>
<li>OSOå‘é€ä¸€ä¸ª"æ”¯ä»˜å‘½ä»¤"ç»™æ”¯ä»˜æœåŠ¡ï¼Œæ”¯ä»˜æœåŠ¡å®Œæˆæ‰£æ¬¾å¹¶å›å¤"æ”¯ä»˜å®Œæˆ"æ¶ˆæ¯ã€‚</li>
<li>OSOå‘é€ä¸€ä¸ª"å¤‡è´§å‘½ä»¤"ç»™åº“å­˜æœåŠ¡ï¼Œåº“å­˜æœåŠ¡å®Œæˆåº“å­˜æ‰£å‡å’Œå¤‡è´§ï¼Œå¹¶å›å¤"å‡ºåº“"æ¶ˆæ¯ã€‚</li>
<li>OSOå‘é€ä¸€ä¸ª"é…é€å‘½ä»¤"ç»™ç‰©æµæœåŠ¡ï¼Œç‰©æµæœåŠ¡å®Œæˆé…é€ï¼Œå¹¶å›å¤"é…é€å®Œæˆ"æ¶ˆæ¯ã€‚</li>
<li>OSOå‘è®¢å•æœåŠ¡å‘é€"è®¢å•ç»“æŸå‘½ä»¤"ç»™è®¢å•æœåŠ¡ï¼Œè®¢å•æœåŠ¡å°†è®¢å•çŠ¶æ€è®¾ç½®ä¸º"å®Œæˆ"ã€‚</li>
<li>OSOæ¸…æ¥šä¸€ä¸ªè®¢å•å¤„ç†Sagaçš„å…·ä½“æµç¨‹ï¼Œå¹¶åœ¨å‡ºç°å¼‚å¸¸æ—¶å‘ç›¸å…³æœåŠ¡å‘é€è¡¥å¿å‘½ä»¤æ¥å›æ»šæ•´ä¸ªåˆ†å¸ƒå¼äº‹åŠ¡ã€‚</li>
</ul>
<p>å®ç°åè°ƒä¸­å¿ƒçš„ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨<strong>çŠ¶æ€æœº(Sate Machine)</strong> ã€‚</p>
<p><strong>è¯¥æ¨¡å¼ä¸‹åˆ†å¸ƒå¼äº‹åŠ¡çš„å›æ»š</strong></p>
<p>è¯¥æ¨¡å¼ä¸‹çš„å›æ»šæµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88bc3e6a2b4640399e044a653333bd10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXR3ZWRuZXNkYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135300&amp;x-signature=VpUopw9hJKUmC0inf8CRGTZFtts%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li>åº“å­˜æœåŠ¡å›å¤OSOä¸€ä¸ª"åº“å­˜ä¸è¶³"æ¶ˆæ¯ã€‚</li>
<li>OSOæ„è¯†åˆ°è¯¥åˆ†å¸ƒå¼äº‹åŠ¡å¤±è´¥äº†ï¼Œè§¦å‘å›æ»šæµç¨‹ï¼š</li>
<li>OSOå‘é€"é€€æ¬¾å‘½ä»¤"ç»™æ”¯ä»˜æœåŠ¡ï¼Œæ”¯ä»˜æœåŠ¡å®Œæˆé€€æ¬¾å¹¶å›å¤"é€€æ¬¾æˆåŠŸ"æ¶ˆæ¯ã€‚</li>
<li>OSOå‘è®¢å•æœåŠ¡å‘é€"å°†è®¢å•çŠ¶æ€æ”¹ä¸ºå¤±è´¥å‘½ä»¤"ï¼Œè®¢å•æœåŠ¡å°†è®¢å•çŠ¶æ€æ›´æ–°ä¸º"å¤±è´¥"ã€‚</li>
</ol>
<p><strong>åŸºäºå‘½ä»¤æ–¹å¼çš„ä¼˜ç¼ºç‚¹</strong></p>
<p>ä¼˜ç‚¹ï¼š</p>
<ol>
<li>é¿å…äº†ä¸šåŠ¡æ–¹ä¹‹é—´çš„ç¯å½¢ä¾èµ–ã€‚</li>
<li>å°†åˆ†å¸ƒå¼äº‹åŠ¡çš„ç®¡ç†äº¤ç”±åè°ƒä¸­å¿ƒç®¡ç†ï¼Œåè°ƒä¸­å¿ƒå¯¹æ•´ä¸ªé€»è¾‘éå¸¸æ¸…æ¥šã€‚</li>
<li>å‡å°‘äº†ä¸šåŠ¡å‚ä¸æ–¹çš„å¤æ‚åº¦ã€‚è¿™äº›ä¸šåŠ¡å‚ä¸æ–¹ä¸å†éœ€è¦ç›‘å¬ä¸åŒçš„æ¶ˆæ¯ï¼Œåªæ˜¯éœ€è¦å“åº”å‘½ä»¤å¹¶å›å¤æ¶ˆæ¯ã€‚</li>
<li>æµ‹è¯•æ›´å®¹æ˜“ï¼ˆåˆ†å¸ƒå¼äº‹åŠ¡é€»è¾‘å­˜åœ¨äºåè°ƒä¸­å¿ƒï¼Œè€Œä¸æ˜¯åˆ†æ•£åœ¨å„ä¸šåŠ¡æ–¹ï¼‰ã€‚</li>
<li>å›æ»šä¹Ÿæ›´å®¹æ˜“ã€‚</li>
</ol>
<p>ç¼ºç‚¹ï¼š</p>
<ol>
<li>ä¸€ä¸ªå¯èƒ½çš„ç¼ºç‚¹å°±æ˜¯éœ€è¦ç»´æŠ¤åè°ƒä¸­å¿ƒï¼Œè€Œè¿™ä¸ªåè°ƒä¸­å¿ƒå¹¶ä¸å±äºä»»ä½•ä¸šåŠ¡æ–¹ã€‚</li>
</ol>
<h5 data-id="heading-13">Sagaæ¨¡å¼å»ºè®®</h5>
<p>1ï¼Œç»™æ¯ä¸€ä¸ªåˆ†å¸ƒå¼äº‹åŠ¡åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„Tx idã€‚è¿™ä¸ªå”¯ä¸€çš„Tx idå¯ä»¥ç”¨æ¥åœ¨å„ä¸ªä¸šåŠ¡å‚ä¸æ–¹æ²Ÿé€šæ—¶ç²¾ç¡®å®šä½å“ªä¸€ç¬”åˆ†å¸ƒå¼äº‹åŠ¡ã€‚
2ï¼Œå¯¹äºåŸºäºå‘½ä»¤çš„æ–¹å¼ï¼Œåœ¨å‘½ä»¤ä¸­æºå¸¦å›å¤åœ°å€ã€‚è¿™ç§æ–¹å¼å¯ä»¥è®©æœåŠ¡åŒæ—¶å“åº”å¤šä¸ªåè°ƒä¸­å¿ƒè¯·æ±‚ã€‚
3ï¼Œå¹‚ç­‰æ€§ã€‚å¹‚ç­‰æ€§èƒ½å¤Ÿå¢åŠ ç³»ç»Ÿçš„å®¹é”™æ€§ï¼Œè®©å„ä¸ªä¸šåŠ¡å‚ä¸æ–¹æœåŠ¡æä¾›å¹‚ç­‰æ€§æ“ä½œï¼Œèƒ½å¤Ÿåœ¨é‡åˆ°å¼‚å¸¸æƒ…å†µä¸‹è¿›è¡Œé‡è¯•ã€‚
4ï¼Œå°½é‡åœ¨å‘½ä»¤æˆ–è€…æ¶ˆæ¯ä¸­æºå¸¦ä¸‹æ¸¸å¤„ç†éœ€è¦çš„ä¸šåŠ¡æ•°æ®ï¼Œé¿å…ä¸‹æ¸¸å¤„ç†æ—¶éœ€è¦è°ƒç”¨æ¶ˆæ¯äº§ç”Ÿæ–¹æ¥å£è·å–æ›´å¤šæ•°æ®ã€‚å‡å°‘ç³»ç»Ÿä¹‹é—´çš„ç›¸äº’ä¾èµ–ã€‚</p>
<h3 data-id="heading-14">æœ¬åœ°æ¶ˆæ¯è¡¨</h3>
<blockquote>
<p>æœ¬åœ°æ¶ˆæ¯è¡¨æ ¸å¿ƒæ€è·¯æ˜¯å°†åˆ†å¸ƒå¼äº‹åŠ¡æ‹†åˆ†æˆæœ¬åœ°äº‹åŠ¡è¿›è¡Œå¤„ç†ã€‚</p>
</blockquote>
<p>è§’è‰²ï¼š</p>
<ul>
<li>äº‹åŠ¡ä¸»åŠ¨æ–¹</li>
<li>äº‹åŠ¡è¢«åŠ¨æ–¹</li>
</ul>
<p>é€šè¿‡åœ¨äº‹åŠ¡ä¸»åŠ¨å‘èµ·æ–¹é¢å¤–æ–°å»ºäº‹åŠ¡æ¶ˆæ¯è¡¨ï¼Œäº‹åŠ¡å‘èµ·æ–¹å¤„ç†ä¸šåŠ¡å’Œè®°å½•äº‹åŠ¡æ¶ˆæ¯åœ¨æœ¬åœ°äº‹åŠ¡ä¸­å®Œæˆï¼Œè½®è¯¢äº‹åŠ¡æ¶ˆæ¯è¡¨çš„æ•°æ®å‘é€äº‹åŠ¡æ¶ˆæ¯ï¼Œäº‹åŠ¡è¢«åŠ¨æ–¹åŸºäºæ¶ˆæ¯ä¸­é—´ä»¶æ¶ˆè´¹äº‹åŠ¡æ¶ˆæ¯è¡¨ä¸­çš„äº‹åŠ¡ã€‚</p>
<p>è¿™æ ·å¯ä»¥é¿å…ä»¥ä¸‹ä¸¤ç§æƒ…å†µå¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´æ€§ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66837a1c30f4459f80d7c2db024a3bf5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXR3ZWRuZXNkYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135300&amp;x-signature=leT52VQU8qQxZtCbIm8pFBztiy4%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-15">åœºæ™¯æè¿°</h4>
<ul>
<li><strong>ä¸Šæ¸¸æœåŠ¡</strong>ï¼šè®¢å•æœåŠ¡ï¼ˆOrder Serviceï¼‰ï¼Œè´Ÿè´£ä¿®æ”¹è®¢å•çŠ¶æ€ã€‚</li>
<li><strong>ä¸‹æ¸¸æœåŠ¡</strong>ï¼šç§¯åˆ†æœåŠ¡ï¼ˆPoints Serviceï¼‰ï¼Œè´Ÿè´£ç»™ç”¨æˆ·å¢åŠ ç§¯åˆ†ã€‚</li>
<li><strong>ä¸­é—´ä»¶</strong>ï¼šæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼Œå¦‚ RabbitMQ/RocketMQï¼‰ã€‚</li>
<li><strong>ç›®æ ‡</strong>ï¼šä¿è¯åªè¦è®¢å•æ”¯ä»˜å˜æˆäº†â€œæˆåŠŸâ€ï¼Œç”¨æˆ·æœ€ç»ˆä¸€å®šèƒ½æ”¶åˆ°ç§¯åˆ†ï¼Œä¸”ä¸ä¼šå¤šå‘ã€‚</li>
</ul>
<p>æ•°æ®åº“åŒ…æ‹¬ï¼šè®¢å•è¡¨ï¼Œæœ¬åœ°æ¶ˆæ¯è¡¨ï¼Œç§¯åˆ†è¡¨ã€‚</p>
<p><strong>æ‰§è¡Œæµç¨‹è¯¦è§£ï¼š</strong></p>
<ol>
<li>
<p>ç¬¬ä¸€é˜¶æ®µï¼šä¸Šæ¸¸ä¸šåŠ¡æ“ä½œï¼ˆåˆ©ç”¨æœ¬åœ°äº‹åŠ¡çš„åŸå­æ€§ï¼‰</p>
<p>å½“ç”¨æˆ·æ”¯ä»˜æˆåŠŸæ—¶ï¼Œè®¢å•æœåŠ¡æ‰§è¡Œä»¥ä¸‹é€»è¾‘ï¼Œ<strong>é‡ç‚¹æ˜¯å°†è¿™ä¸¤æ­¥åŒ…è£¹åœ¨åŒä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡ï¼ˆTransactionï¼‰ä¸­</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å¼€å¯äº‹åŠ¡</span>
<span class="hljs-keyword">BEGIN</span>;

<span class="hljs-comment">-- 1. æ›´æ–°è®¢å•çŠ¶æ€ä¸ºå·²æ”¯ä»˜</span>
<span class="hljs-keyword">UPDATE</span> t_order <span class="hljs-keyword">SET</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'PAID'</span> <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">101</span>;

<span class="hljs-comment">-- 2. æ’å…¥ä¸€æ¡å¾…å‘é€çš„æ¶ˆæ¯åˆ°æœ¬åœ°æ¶ˆæ¯è¡¨</span>
<span class="hljs-comment">-- æ³¨æ„ï¼šæ­¤æ—¶æ¶ˆæ¯å¹¶æ²¡æœ‰å‘ç»™ MQï¼Œåªæ˜¯å­˜åœ¨æ•°æ®åº“é‡Œ</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> t_local_message (msg_id, content, status) 
<span class="hljs-keyword">VALUES</span> (<span class="hljs-string">'uuid-123'</span>, <span class="hljs-string">'{"userId":888, "points":10}'</span>, <span class="hljs-number">0</span>);

<span class="hljs-comment">-- æäº¤äº‹åŠ¡</span>
<span class="hljs-keyword">COMMIT</span>;
</code></pre>
<ul>
<li><strong>å¦‚æœ Commit æˆåŠŸ</strong>ï¼šè®¢å•å˜äº†ï¼Œæ¶ˆæ¯ä¹Ÿè‚¯å®šåœ¨è¡¨é‡Œäº†ã€‚</li>
<li><strong>å¦‚æœ Commit å¤±è´¥/å›æ»š</strong>ï¼šè®¢å•æ²¡å˜ï¼Œæ¶ˆæ¯è¡¨é‡Œä¹Ÿæ²¡æ•°æ®ã€‚MQ ä¹Ÿä¸ä¼šæ”¶åˆ°æ¶ˆæ¯ã€‚è¿™å°±ä¿è¯äº†<strong>å¼ºä¸€è‡´æ€§</strong>ã€‚</li>
</ul>
</li>
<li>
<p>ç¬¬äºŒé˜¶æ®µï¼šå¼‚æ­¥å‘é€æ¶ˆæ¯ï¼ˆä¾é è½®è¯¢/å®šæ—¶ä»»åŠ¡ï¼‰</p>
<p>è®¢å•æœåŠ¡ä¸­æœ‰ä¸€ä¸ª<strong>ç‹¬ç«‹çš„åå°çº¿ç¨‹ï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰</strong> ï¼Œä¸“é—¨å¤„ç† <code>t_local_message</code> è¡¨ï¼š</p>
<ol>
<li><strong>æŸ¥è¯¢</strong>ï¼šå®šæ—¶ï¼ˆæ¯”å¦‚æ¯ 5 ç§’ï¼‰æ‰«æ <code>t_local_message</code> è¡¨ä¸­çŠ¶æ€ä¸º <code>0 (å¾…å‘é€)</code> çš„è®°å½•ã€‚</li>
<li><strong>å‘é€</strong>ï¼šå°†è¿™äº›è®°å½•çš„å†…å®¹å‘é€åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼‰ã€‚</li>
<li><strong>æ›´æ–°çŠ¶æ€</strong>ï¼š
<ul>
<li>å¦‚æœå‘é€æˆåŠŸï¼ˆMQ è¿”å› Ackï¼‰ï¼Œæ›´æ–°æœ¬åœ°è¡¨çŠ¶æ€ä¸º <code>1 (å·²å‘é€)</code>ã€‚</li>
<li>å¦‚æœå‘é€å¤±è´¥ï¼Œæ›´æ–° <code>retry_count + 1</code>ï¼Œç­‰å¾…ä¸‹æ¬¡æ‰«æé‡è¯•ã€‚</li>
</ul>
</li>
</ol>
</li>
<li>
<p>ç¬¬ä¸‰é˜¶æ®µï¼šä¸‹æ¸¸æ¶ˆè´¹ï¼ˆä¾é å¹‚ç­‰æ€§ï¼‰</p>
</li>
</ol>
<p>ç§¯åˆ†æœåŠ¡ç›‘å¬ MQï¼š</p>
<ol>
<li><strong>æ¥æ”¶æ¶ˆæ¯</strong>ï¼šæ”¶åˆ° <code>{"userId":888, "points":10}</code>ã€‚</li>
<li><strong>å¹‚ç­‰æ£€æŸ¥</strong>ï¼š<strong>éå¸¸é‡è¦ï¼</strong>
<ul>
<li>æ£€æŸ¥è¯¥ <code>msg_id</code> (uuid-123) æ˜¯å¦å·²ç»å¤„ç†è¿‡ã€‚</li>
<li>å¦‚æœå¤„ç†è¿‡ï¼Œç›´æ¥è¿”å›æˆåŠŸï¼ˆä¸¢å¼ƒæ¶ˆæ¯ï¼‰ã€‚</li>
<li>å¦‚æœæ²¡å¤„ç†è¿‡ï¼Œå¾€ä¸‹èµ°ã€‚</li>
</ul>
</li>
<li><strong>æ‰§è¡Œä¸šåŠ¡</strong>ï¼šç»™ç”¨æˆ· 888 å¢åŠ  10 ç§¯åˆ†ã€‚</li>
<li><strong>ç¡®è®¤æ¶ˆæ¯</strong>ï¼šå‘ MQ å‘é€ ACKï¼Œè¡¨ç¤ºæ¶ˆè´¹æˆåŠŸã€‚</li>
</ol>
<p><strong>å¼‚å¸¸æƒ…å†µåˆ†æï¼š</strong></p>
<ul>
<li><strong>æƒ…å†µ Aï¼šç¬¬ä¸€é˜¶æ®µæ•°æ®åº“æŒ‚äº†</strong>
<ul>
<li>ç»“æœï¼šäº‹åŠ¡å›æ»šï¼Œè®¢å•æ²¡æˆåŠŸï¼Œæ¶ˆæ¯ä¹Ÿæ²¡å†™å…¥ã€‚ç”¨æˆ·é‡è¯•æ”¯ä»˜å³å¯ï¼Œæ•°æ®ä¸€è‡´ã€‚</li>
</ul>
</li>
<li><strong>æƒ…å†µ Bï¼šæ¶ˆæ¯å‘é€ç»™ MQ æ—¶ç½‘ç»œæ–­äº†</strong>
<ul>
<li>ç»“æœï¼šç¬¬ä¸€é˜¶æ®µå·²æäº¤ï¼Œè®¢å•å·²æˆåŠŸã€‚åå°å®šæ—¶ä»»åŠ¡ä¼šå‘ç°è¿™æ¡æ¶ˆæ¯è¿˜æ˜¯ <code>0 (å¾…å‘é€)</code>ï¼Œå®ƒä¼šä¸æ–­é‡è¯•å‘é€ï¼Œç›´åˆ° MQ æ¢å¤ã€‚<strong>ä¿è¯äº†æ¶ˆæ¯æœ€ç»ˆä¸€å®šèƒ½å‘å‡ºå»</strong>ã€‚</li>
</ul>
</li>
<li><strong>æƒ…å†µ Cï¼šä¸‹æ¸¸ç§¯åˆ†æœåŠ¡æŒ‚äº†</strong>
<ul>
<li>ç»“æœï¼šMQ ä¼šä¿ç•™æ¶ˆæ¯ã€‚ç­‰ç§¯åˆ†æœåŠ¡é‡å¯åï¼Œç»§ç»­æ¶ˆè´¹ã€‚</li>
</ul>
</li>
<li><strong>æƒ…å†µ Dï¼šæ¶ˆæ¯é‡å¤å‘é€äº†ï¼ˆå®šæ—¶ä»»åŠ¡åˆšå‘å®Œï¼Œæ›´æ–°æ•°æ®åº“å¤±è´¥ï¼Œä¸‹æ¬¡åˆå‘äº†ä¸€æ¬¡ï¼‰</strong>
<ul>
<li>ç»“æœï¼šä¸‹æ¸¸ç§¯åˆ†æœåŠ¡å¿…é¡»å®ç°<strong>å¹‚ç­‰æ€§</strong>ï¼Œé€šè¿‡å”¯ä¸€ <code>msg_id</code> åˆ¤æ–­ï¼Œå‘ç°å¤„ç†è¿‡å°±ä¸å†åŠ ç§¯åˆ†ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-16">MQäº‹åŠ¡æ–¹æ¡ˆ</h3>
<blockquote>
<p>åŸºäº MQ çš„åˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆå…¶å®æ˜¯å¯¹æœ¬åœ°æ¶ˆæ¯è¡¨çš„å°è£…ï¼Œå°†æœ¬åœ°æ¶ˆæ¯è¡¨åŸºäº MQ å†…éƒ¨ï¼Œå…¶ä»–æ–¹é¢çš„åè®®åŸºæœ¬ä¸æœ¬åœ°æ¶ˆæ¯è¡¨ä¸€è‡´ã€‚</p>
</blockquote>
<p>MQäº‹åŠ¡æ–¹æ¡ˆæ•´ä½“æµç¨‹å’Œæœ¬åœ°æ¶ˆæ¯è¡¨çš„æµç¨‹å¾ˆç›¸ä¼¼ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/640d2b3bb4cb4bd9a526ee5d0d31818e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXR3ZWRuZXNkYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135300&amp;x-signature=m3fZwfS7otFhsaZe2iWUdXiXl9o%3D" alt="image.png" loading="lazy"/></p>
<p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºå’Œæœ¬åœ°æ¶ˆæ¯è¡¨æ–¹æ¡ˆå”¯ä¸€ä¸åŒå°±æ˜¯å°†æœ¬åœ°æ¶ˆæ¯è¡¨å­˜åœ¨äº†MQå†…éƒ¨ï¼Œè€Œä¸æ˜¯ä¸šåŠ¡æ•°æ®åº“ä¸­ã€‚</p>
<p>é‚£ä¹ˆMQå†…éƒ¨çš„å¤„ç†å°¤ä¸ºé‡è¦ï¼Œä¸‹é¢ä¸»è¦åŸºäº RocketMQ 4.3 ä¹‹åçš„ç‰ˆæœ¬ä»‹ç» MQ çš„åˆ†å¸ƒå¼äº‹åŠ¡æ–¹æ¡ˆã€‚</p>
<p>åœ¨æœ¬åœ°æ¶ˆæ¯è¡¨æ–¹æ¡ˆä¸­ï¼Œä¿è¯äº‹åŠ¡ä¸»åŠ¨æ–¹å‘å†™ä¸šåŠ¡è¡¨æ•°æ®å’Œå†™æ¶ˆæ¯è¡¨æ•°æ®çš„ä¸€è‡´æ€§æ˜¯åŸºäºæ•°æ®åº“äº‹åŠ¡ï¼ŒRocketMQ çš„äº‹åŠ¡æ¶ˆæ¯ç›¸å¯¹äºæ™®é€š MQæä¾›äº† 2PC çš„æäº¤æ¥å£ï¼Œæ–¹æ¡ˆå¦‚ä¸‹ï¼š</p>
<p><strong>æ­£å¸¸æƒ…å†µï¼šäº‹åŠ¡ä¸»åŠ¨æ–¹å‘æ¶ˆæ¯</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9050d97b48d440fb9674283c7a685b00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXR3ZWRuZXNkYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135300&amp;x-signature=oTtRafKlz7%2BGsBsZskrH53aA7U8%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œäº‹åŠ¡ä¸»åŠ¨æ–¹æœåŠ¡æ­£å¸¸ï¼Œæ²¡æœ‰å‘ç”Ÿæ•…éšœï¼Œå‘æ¶ˆæ¯æµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>å‘é€æ–¹å‘ MQ æœåŠ¡ç«¯(MQ Server)å‘é€ half æ¶ˆæ¯ã€‚</li>
<li>MQ Server å°†æ¶ˆæ¯æŒä¹…åŒ–æˆåŠŸä¹‹åï¼Œå‘å‘é€æ–¹ ack ç¡®è®¤æ¶ˆæ¯å·²ç»å‘é€æˆåŠŸã€‚</li>
<li>å‘é€æ–¹å¼€å§‹æ‰§è¡Œæœ¬åœ°äº‹åŠ¡é€»è¾‘ã€‚</li>
<li>å‘é€æ–¹æ ¹æ®æœ¬åœ°äº‹åŠ¡æ‰§è¡Œç»“æœå‘ MQ Server æäº¤äºŒæ¬¡ç¡®è®¤ï¼ˆcommit æˆ–æ˜¯ rollbackï¼‰ã€‚</li>
<li>MQ Server æ”¶åˆ° commit çŠ¶æ€åˆ™å°†åŠæ¶ˆæ¯æ ‡è®°ä¸ºå¯æŠ•é€’ï¼Œè®¢é˜…æ–¹æœ€ç»ˆå°†æ”¶åˆ°è¯¥æ¶ˆæ¯ï¼›MQ Server æ”¶åˆ° rollback çŠ¶æ€åˆ™åˆ é™¤åŠæ¶ˆæ¯ï¼Œè®¢é˜…æ–¹å°†ä¸ä¼šæ¥å—è¯¥æ¶ˆæ¯ã€‚</li>
</ul>
<p><strong>å¼‚å¸¸æƒ…å†µï¼šäº‹åŠ¡ä¸»åŠ¨æ–¹æ¶ˆæ¯æ¢å¤</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/838ce8fe22d744f59c7a3a18286cad8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXR3ZWRuZXNkYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135300&amp;x-signature=5QruhGmBeCRIztHjzVFrL8jp5ug%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨æ–­ç½‘æˆ–è€…åº”ç”¨é‡å¯ç­‰å¼‚å¸¸æƒ…å†µä¸‹ï¼Œä¸Šå›¾ä¸­æäº¤çš„äºŒæ¬¡ç¡®è®¤è¶…æ—¶æœªåˆ°è¾¾ MQ Serverï¼Œæ­¤æ—¶å¤„ç†é€»è¾‘å¦‚ä¸‹ï¼š</p>
<ul>
<li>MQ Server å¯¹è¯¥æ¶ˆæ¯å‘èµ·æ¶ˆæ¯å›æŸ¥ã€‚</li>
<li>å‘é€æ–¹æ”¶åˆ°æ¶ˆæ¯å›æŸ¥åï¼Œéœ€è¦æ£€æŸ¥å¯¹åº”æ¶ˆæ¯çš„æœ¬åœ°äº‹åŠ¡æ‰§è¡Œçš„æœ€ç»ˆç»“æœã€‚</li>
<li>å‘é€æ–¹æ ¹æ®æ£€æŸ¥å¾—åˆ°çš„æœ¬åœ°äº‹åŠ¡çš„æœ€ç»ˆçŠ¶æ€å†æ¬¡æäº¤äºŒæ¬¡ç¡®è®¤ã€‚</li>
<li>MQ ServeråŸºäº commit/rollback å¯¹æ¶ˆæ¯è¿›è¡ŒæŠ•é€’æˆ–è€…åˆ é™¤ã€‚</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong></p>
<p>ç›¸æ¯”æœ¬åœ°æ¶ˆæ¯è¡¨æ–¹æ¡ˆï¼ŒMQ äº‹åŠ¡æ–¹æ¡ˆä¼˜ç‚¹æ˜¯ï¼š</p>
<ul>
<li>æ¶ˆæ¯æ•°æ®ç‹¬ç«‹å­˜å‚¨ ï¼Œé™ä½ä¸šåŠ¡ç³»ç»Ÿä¸æ¶ˆæ¯ç³»ç»Ÿä¹‹é—´çš„è€¦åˆã€‚</li>
<li>ååé‡å¤§äºä½¿ç”¨æœ¬åœ°æ¶ˆæ¯è¡¨æ–¹æ¡ˆã€‚</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>ä¸€æ¬¡æ¶ˆæ¯å‘é€éœ€è¦ä¸¤æ¬¡ç½‘ç»œè¯·æ±‚(half æ¶ˆæ¯ + commit/rollback æ¶ˆæ¯) ã€‚</li>
<li>ä¸šåŠ¡å¤„ç†æœåŠ¡éœ€è¦å®ç°æ¶ˆæ¯çŠ¶æ€å›æŸ¥æ¥å£ã€‚</li>
</ul>
<h3 data-id="heading-17">æœ€å¤§åŠªåŠ›é€šçŸ¥</h3>
<blockquote>
<p>æœ€å¤§åŠªåŠ›é€šçŸ¥ä¹Ÿç§°ä¸ºå®šæœŸæ ¡å¯¹ï¼Œæ˜¯å¯¹MQäº‹åŠ¡æ–¹æ¡ˆçš„è¿›ä¸€æ­¥ä¼˜åŒ–ã€‚å®ƒåœ¨äº‹åŠ¡ä¸»åŠ¨æ–¹å¢åŠ äº†æ¶ˆæ¯æ ¡å¯¹çš„æ¥å£ï¼Œå¦‚æœäº‹åŠ¡è¢«åŠ¨æ–¹æ²¡æœ‰æ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œæ­¤æ—¶å¯ä»¥è°ƒç”¨äº‹åŠ¡ä¸»åŠ¨æ–¹æä¾›çš„æ¶ˆæ¯æ ¡å¯¹çš„æ¥å£ä¸»åŠ¨è·å–ã€‚</p>
</blockquote>
<p>æœ€å¤§åŠªåŠ›é€šçŸ¥çš„æ•´ä½“æµç¨‹å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a430691aafcc4f5686fa9615addbc753~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYXR3ZWRuZXNkYXk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135300&amp;x-signature=TTFS4Rq0jppe1P1uB4HKdR36w0I%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨å¯é æ¶ˆæ¯äº‹åŠ¡ä¸­ï¼Œäº‹åŠ¡ä¸»åŠ¨æ–¹éœ€è¦å°†æ¶ˆæ¯å‘é€å‡ºå»ï¼Œå¹¶ä¸”æ¶ˆæ¯æ¥æ”¶æ–¹æˆåŠŸæ¥æ”¶ï¼Œè¿™ç§å¯é æ€§å‘é€æ˜¯ç”±äº‹åŠ¡ä¸»åŠ¨æ–¹ä¿è¯çš„.</p>
<p>ä½†æ˜¯æœ€å¤§åŠªåŠ›é€šçŸ¥ï¼Œäº‹åŠ¡ä¸»åŠ¨æ–¹å°½æœ€å¤§åŠªåŠ›ï¼ˆé‡è¯•ï¼Œè½®è¯¢....ï¼‰å°†äº‹åŠ¡å‘é€ç»™äº‹åŠ¡æ¥æ”¶æ–¹ï¼Œä½†æ˜¯ä»ç„¶å­˜åœ¨æ¶ˆæ¯æ¥æ”¶ä¸åˆ°ï¼Œæ­¤æ—¶éœ€è¦äº‹åŠ¡è¢«åŠ¨æ–¹ä¸»åŠ¨è°ƒç”¨äº‹åŠ¡ä¸»åŠ¨æ–¹çš„æ¶ˆæ¯æ ¡å¯¹æ¥å£æŸ¥è¯¢ä¸šåŠ¡æ¶ˆæ¯å¹¶æ¶ˆè´¹ï¼Œè¿™ç§é€šçŸ¥çš„å¯é æ€§æ˜¯ç”±äº‹åŠ¡è¢«åŠ¨æ–¹ä¿è¯çš„ã€‚</p>
<p>æœ€å¤§åŠªåŠ›é€šçŸ¥é€‚ç”¨äºä¸šåŠ¡é€šçŸ¥ç±»å‹ï¼Œä¾‹å¦‚å¾®ä¿¡äº¤æ˜“çš„ç»“æœï¼Œå°±æ˜¯é€šè¿‡æœ€å¤§åŠªåŠ›é€šçŸ¥æ–¹å¼é€šçŸ¥å„ä¸ªå•†æˆ·ï¼Œæ—¢æœ‰å›è°ƒé€šçŸ¥ï¼Œä¹Ÿæœ‰äº¤æ˜“æŸ¥è¯¢æ¥å£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¼€ç®±å³ç”¨çš„ GoWind Adminï½œé£è¡Œï¼Œä¼ä¸šçº§å‰åç«¯ä¸€ä½“ä¸­åå°æ¡†æ¶ï¼šåŸºäº Ent ä»é›¶å®ç°æ–°æœåŠ¡]]></title>    <link>https://juejin.cn/post/7582763878674579483</link>    <guid>https://juejin.cn/post/7582763878674579483</guid>    <pubDate>2025-12-12T09:10:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582763878674579483" data-draft-id="7582777037863338034" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¼€ç®±å³ç”¨çš„ GoWind Adminï½œé£è¡Œï¼Œä¼ä¸šçº§å‰åç«¯ä¸€ä½“ä¸­åå°æ¡†æ¶ï¼šåŸºäº Ent ä»é›¶å®ç°æ–°æœåŠ¡"/> <meta itemprop="keywords" content="åç«¯,Go,ORM"/> <meta itemprop="datePublished" content="2025-12-12T09:10:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–µä¸ªå’ª"/> <meta itemprop="url" content="https://juejin.cn/user/1350630784901262"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¼€ç®±å³ç”¨çš„ GoWind Adminï½œé£è¡Œï¼Œä¼ä¸šçº§å‰åç«¯ä¸€ä½“ä¸­åå°æ¡†æ¶ï¼šåŸºäº Ent ä»é›¶å®ç°æ–°æœåŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1350630784901262/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–µä¸ªå’ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T09:10:11.000Z" title="Fri Dec 12 2025 09:10:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼€ç®±å³ç”¨çš„ GoWind Adminï½œé£è¡Œï¼Œä¼ä¸šçº§å‰åç«¯ä¸€ä½“ä¸­åå°æ¡†æ¶ï¼šåŸºäº Ent ä»é›¶å®ç°æ–°æœåŠ¡</h2>
<p>æœ¬æ–‡å°†æŒ‡å¯¼å¼€å‘è€…åœ¨ GoWind Admin ä¼ä¸šçº§å‰åç«¯ä¸€ä½“ä¸­åå°æ¡†æ¶ä¸­ï¼Œä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªå®Œæ•´çš„ gRPC æœåŠ¡ã€‚æˆ‘ä»¬æ‰€æŒ‡çš„ â€œæœåŠ¡â€ å³ gRPC ä¸­çš„ serviceï¼Œé€šå¸¸åŒ…å«ç‰¹å®šæ•°æ®é›†çš„ CRUDï¼ˆå¢åˆ æ”¹æŸ¥ï¼‰æ“ä½œï¼Œéµå¾ªæ¡†æ¶è§„èŒƒå®ç°é«˜å¯ç»´æŠ¤æ€§ä¸å¯æ‰©å±•æ€§ã€‚</p>
<h3 data-id="heading-1">å‰ç½®å‡†å¤‡</h3>
<p>åœ¨å¼€å§‹å‰ï¼Œè¯·ç¡®ä¿å·²å®Œæˆä»¥ä¸‹ç¯å¢ƒå‡†å¤‡ï¼š</p>
<h4 data-id="heading-2">å¼€å‘ç¯å¢ƒ</h4>
<ul>
<li>Go 1.19+ï¼ˆæ¨è 1.21+ï¼Œæ”¯æŒæœ€æ–°è¯­è¨€ç‰¹æ€§ï¼‰</li>
<li>Gitï¼ˆç‰ˆæœ¬æ§åˆ¶ï¼‰</li>
<li>Protobuf ç¼–è¯‘å™¨ï¼ˆ<code>protoc</code>ï¼Œç”¨äºç¼–è¯‘ proto æ–‡ä»¶ï¼‰</li>
</ul>
<h4 data-id="heading-3">ä¾èµ–å·¥å…·</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…ç›¸å…³çš„å‘½ä»¤è¡Œå·¥å…·</span>
make cli

<span class="hljs-comment"># å®‰è£…ä¾èµ–çš„æ’ä»¶</span>
make plugin
</code></pre>
<h4 data-id="heading-4">é¡¹ç›®ç»“æ„</h4>
<p>å…‹éš† GoWind Admin é¡¹ç›®åï¼Œæ ¸å¿ƒç›®å½•ç»“æ„å¦‚ä¸‹ï¼ˆèšç„¦æœåŠ¡å¼€å‘ç›¸å…³ç›®å½•ï¼‰ï¼š</p>
<pre><code class="hljs language-text" lang="text">go-wind-admin/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ api/gen/go/        # proto ç¼–è¯‘ç”Ÿæˆçš„ Go ä»£ç ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼Œæ— éœ€æ‰‹åŠ¨ä¿®æ”¹ï¼‰
â”‚   â”œâ”€â”€ api/proto/         # å­˜æ”¾ proto æ¥å£å®šä¹‰æ–‡ä»¶
â”‚   â”œâ”€â”€ app/admin/service/ # ä¸šåŠ¡æœåŠ¡æ ¸å¿ƒå®ç°
â”‚   â”‚   â”œâ”€â”€ internal/
â”‚   â”‚   â”‚   â”œâ”€â”€ data/      # æ•°æ®è®¿é—®å±‚ï¼ˆä¸æ•°æ®åº“äº¤äº’ï¼ŒåŸºäº entï¼‰
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ent/   # ent ORM è‡ªåŠ¨ç”Ÿæˆçš„æ•°æ®åº“æ“ä½œä»£ç 
â”‚   â”‚   â”‚   â””â”€â”€ service/   # ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆå®ç° gRPC æ¥å£ï¼‰
â”‚   â”‚   â””â”€â”€ server/        # æœåŠ¡æ³¨å†Œï¼ˆå°†æœåŠ¡ç»‘å®šåˆ° gRPC/HTTP æœåŠ¡å™¨ï¼‰
</code></pre>
<h3 data-id="heading-5">ä¸€ã€è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„</h3>
<p>æ•°æ®åº“è¡¨ç»“æ„æ˜¯æœåŠ¡çš„åŸºç¡€ï¼Œéœ€æ ¹æ®ä¸šåŠ¡éœ€æ±‚è®¾è®¡æ ¸å¿ƒå­—æ®µã€‚ä»¥ â€œç”¨æˆ·è¡¨â€ ä¸ºä¾‹ï¼Œéœ€åŒ…å«ï¼š</p>
<ul>
<li>é€šç”¨å­—æ®µï¼šIDï¼ˆä¸»é”®ï¼‰ã€åˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´ã€åˆ›å»ºè€… IDã€æ›´æ–°è€… IDï¼ˆç”¨äºå®¡è®¡ï¼‰</li>
<li>ä¸šåŠ¡å­—æ®µï¼šç”¨æˆ·åï¼ˆå”¯ä¸€ï¼‰ã€å¯†ç ã€æ˜µç§°ã€é‚®ç®±ã€æ‰‹æœºå·ç­‰</li>
<li>å…³è”å­—æ®µï¼šè§’è‰² IDã€éƒ¨é—¨ ID ç­‰ï¼ˆç”¨äºå…³è”å…¶ä»–è¡¨ï¼‰</li>
<li>çŠ¶æ€å­—æ®µï¼šç”¨æˆ·çŠ¶æ€ï¼ˆå¯ç”¨ / ç¦ç”¨ï¼‰ã€æ€§åˆ«ç­‰æšä¸¾å­—æ®µ</li>
</ul>
<p><strong>è®¾è®¡åŸåˆ™ï¼š</strong></p>
<ul>
<li>æ ¸å¿ƒå­—æ®µéç©ºï¼ˆå¦‚ç”¨æˆ·åï¼‰ï¼Œéæ ¸å¿ƒå­—æ®µå¯ç©ºï¼ˆå¦‚åœ°å€ï¼‰</li>
<li>é¢‘ç¹æŸ¥è¯¢çš„å­—æ®µæ·»åŠ ç´¢å¼•ï¼ˆå¦‚ç”¨æˆ·åï¼‰</li>
<li>æ•æ„Ÿå­—æ®µï¼ˆå¦‚å¯†ç ï¼‰éœ€åŠ å¯†å­˜å‚¨</li>
</ul>
<h3 data-id="heading-6">äºŒã€ç¼–å†™ ent çš„ schema</h3>
<p>Ent æ˜¯ Go è¯­è¨€çš„ ORM åº“ï¼Œé€šè¿‡ schema å®šä¹‰æ•°æ®åº“å®ä½“ã€‚schema æ–‡ä»¶ä½äº <code>backend/app/admin/service/internal/data/ent/schema</code> ç›®å½•ã€‚</p>
<p>æ­¥éª¤è¯´æ˜ï¼š</p>
<ol>
<li>åˆ›å»º <code>user.go</code> æ–‡ä»¶ï¼Œå®šä¹‰ Us`er ç»“æ„ä½“åŠå…¶é…ç½®ã€‚</li>
<li>é€šè¿‡ <code>Annotations</code> é…ç½®è¡¨åã€å­—ç¬¦é›†ç­‰æ•°æ®åº“å±æ€§ã€‚</li>
<li>é€šè¿‡ <code>Fields</code> å®šä¹‰è¡¨å­—æ®µï¼ŒåŒ…æ‹¬ç±»å‹ã€çº¦æŸï¼ˆå”¯ä¸€ã€éç©ºç­‰ï¼‰ã€æ³¨é‡Šã€‚</li>
<li>é€šè¿‡ <code>Mixin</code> å¤ç”¨é€šç”¨å­—æ®µï¼ˆå¦‚ IDã€æ—¶é—´æˆ³ï¼‰ï¼Œå‡å°‘é‡å¤ä»£ç ã€‚</li>
<li>é€šè¿‡ <code>Indexes</code> å®šä¹‰ç´¢å¼•ï¼Œæå‡æŸ¥è¯¢æ€§èƒ½ã€‚</li>
</ol>
<h4 data-id="heading-7">å…³é”®ä»£ç è§£æï¼š</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// Annotations é…ç½®è¡¨åŸºæœ¬ä¿¡æ¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(User)</span></span> Annotations() []schema.Annotation {
    <span class="hljs-keyword">return</span> []schema.Annotation{
        entsql.Annotation{
            Table:     <span class="hljs-string">"sys_users"</span>, <span class="hljs-comment">// æ•°æ®åº“è¡¨å</span>
            Charset:   <span class="hljs-string">"utf8mb4"</span>,   <span class="hljs-comment">// å­—ç¬¦é›†</span>
            Collation: <span class="hljs-string">"utf8mb4_bin"</span>, <span class="hljs-comment">// æ’åºè§„åˆ™</span>
        },
        schema.Comment(<span class="hljs-string">"ç”¨æˆ·è¡¨"</span>), <span class="hljs-comment">// è¡¨æ³¨é‡Š</span>
    }
}

<span class="hljs-comment">// Fields å®šä¹‰è¡¨å­—æ®µ</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(User)</span></span> Fields() []ent.Field {
    <span class="hljs-keyword">return</span> []ent.Field{
        field.String(<span class="hljs-string">"username"</span>).
            Comment(<span class="hljs-string">"ç”¨æˆ·å"</span>).
            Unique().       <span class="hljs-comment">// å”¯ä¸€ç´¢å¼•</span>
            NotEmpty().     <span class="hljs-comment">// éç©º</span>
            Immutable(),    <span class="hljs-comment">// åˆ›å»ºåä¸å¯ä¿®æ”¹</span>

        field.String(<span class="hljs-string">"password"</span>).
            Comment(<span class="hljs-string">"ç™»å½•å¯†ç "</span>).
            MaxLen(<span class="hljs-number">255</span>).    <span class="hljs-comment">// æœ€å¤§é•¿åº¦</span>
            Sensitive(),    <span class="hljs-comment">// æ•æ„Ÿå­—æ®µï¼ˆæ—¥å¿—ä¸­éšè—ï¼‰</span>

        <span class="hljs-comment">// å…¶ä»–å­—æ®µ...</span>
    }
}

<span class="hljs-comment">// Mixin å¤ç”¨é€šç”¨é…ç½®</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(User)</span></span> Mixin() []ent.Mixin {
    <span class="hljs-keyword">return</span> []ent.Mixin{
        mixin.AutoIncrementId{}, <span class="hljs-comment">// è‡ªå¢ ID</span>
        mixin.TimeAt{},          <span class="hljs-comment">// åˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´</span>
        mixin.OperatorID{},      <span class="hljs-comment">// åˆ›å»ºè€…ã€æ›´æ–°è€… ID</span>
    }
}
</code></pre>
<h4 data-id="heading-8">ç”Ÿæˆ ent ä»£ç ï¼š</h4>
<p>ç¼–å†™å®Œ schema åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆå®ä½“ä»£ç ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> backend/app/admin/service/
make ent
</code></pre>
<h3 data-id="heading-9">ä¸‰ã€ç¼–å†™ gRPC çš„ proto æ–‡ä»¶</h3>
<p>Protobufï¼ˆprotoï¼‰ç”¨äºå®šä¹‰ gRPC æœåŠ¡æ¥å£å’Œæ•°æ®ç»“æ„ï¼Œæ˜¯æœåŠ¡å¯¹å¤–æš´éœ²çš„ â€œå¥‘çº¦â€ã€‚proto æ–‡ä»¶é€šå¸¸ä½äº <code>backend/api/proto/user/service/v1</code> ç›®å½•ã€‚</p>
<h4 data-id="heading-10">æ­¥éª¤è¯´æ˜ï¼š</h4>
<ol>
<li>å®šä¹‰æœåŠ¡æ¥å£ï¼ˆ<code>service UserService</code>ï¼‰ï¼ŒåŒ…å« CRUD æ–¹æ³•ï¼ˆå¦‚ <code>CreateUser</code>ã€<code>ListUser</code>ï¼‰ã€‚</li>
<li>å®šä¹‰è¯·æ±‚ / å“åº”æ¶ˆæ¯ï¼ˆmessageï¼‰ï¼Œæ˜ å°„æ•°æ®åº“å­—æ®µå’Œä¸šåŠ¡éœ€æ±‚ã€‚</li>
<li>å®šä¹‰æšä¸¾ï¼ˆenumï¼‰ï¼Œå¦‚ç”¨æˆ·çŠ¶æ€ã€æ€§åˆ«ç­‰å›ºå®šå€¼ç±»å‹ã€‚</li>
</ol>
<h4 data-id="heading-11">å…³é”®ä»£ç è§£æï¼š</h4>
<pre><code class="hljs language-protobuf" lang="protobuf">// backend/api/proto/user/service/v1/user.proto

// å®šä¹‰æœåŠ¡æ¥å£
service UserService {
  rpc ListUser (pagination.PagingRequest) returns (ListUserResponse); // åˆ—è¡¨æŸ¥è¯¢
  rpc GetUser (GetUserRequest) returns (User);                        // è¯¦æƒ…æŸ¥è¯¢
  rpc CreateUser (CreateUserRequest) returns (google.protobuf.Empty); // åˆ›å»º
  rpc UpdateUser (UpdateUserRequest) returns (google.protobuf.Empty); // æ›´æ–°
  rpc DeleteUser (DeleteUserRequest) returns (google.protobuf.Empty); // åˆ é™¤
}

// æšä¸¾å®šä¹‰ï¼ˆç”¨æˆ·çŠ¶æ€ï¼‰
enum UserStatus {
  OFF = 0; // ç¦ç”¨
  ON = 1;  // å¯ç”¨
}

// æ•°æ®æ¨¡å‹ï¼ˆä¸æ•°æ®åº“è¡¨å¯¹åº”ï¼‰
message User {
  optional uint32 id = 1 [json_name = "id"]; // ç”¨æˆ·ID
  optional string username = 2;              // ç”¨æˆ·å
  optional UserStatus status = 3;            // çŠ¶æ€
  // å…¶ä»–å­—æ®µ...
}
</code></pre>
<h4 data-id="heading-12">ç”Ÿæˆ Go ä»£ç ï¼š</h4>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°† proto è½¬æ¢ä¸º Go ä»£ç ï¼ˆç”Ÿæˆçš„ä»£ç ä½äº <code>backend/api/gen/go</code> ç›®å½•ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">make api
</code></pre>
<h3 data-id="heading-13">å››ã€ç¼–å†™ REST çš„ proto æ–‡ä»¶</h3>
<p>Protobufï¼ˆprotoï¼‰ç”¨äºå®šä¹‰ REST æœåŠ¡æ¥å£å’Œæ•°æ®ç»“æ„ï¼Œæ˜¯æœåŠ¡å¯¹å¤–æš´éœ²çš„ â€œå¥‘çº¦â€ã€‚proto æ–‡ä»¶é€šå¸¸ä½äº <code>backend/api/proto/admin/service/v1</code> ç›®å½•ã€‚</p>
<h4 data-id="heading-14">å…³é”®ä»£ç è§£æï¼š</h4>
<pre><code class="hljs language-protobuf" lang="protobuf">// backend/api/proto/admin/service/v1/i_user.proto

import "user/service/v1/user.proto";

// ç”¨æˆ·ç®¡ç†æœåŠ¡
service UserService {
  // è·å–ç”¨æˆ·åˆ—è¡¨
  rpc List (pagination.PagingRequest) returns (user.service.v1.ListUserResponse) {
    option (redact.v3.internal_method) = true;
    option (google.api.http) = {
      get: "/admin/v1/users"
    };
  }

  // è·å–ç”¨æˆ·æ•°æ®
  rpc Get (user.service.v1.GetUserRequest) returns (user.service.v1.User) {
    option (redact.v3.internal_method) = true;
    option (google.api.http) = {
      get: "/admin/v1/users/{id}"
      additional_bindings {
        get: "/admin/v1/users/username/{user_name}"
      }
    };
  }

  // åˆ›å»ºç”¨æˆ·
  rpc Create (user.service.v1.CreateUserRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      post: "/admin/v1/users"
      body: "*"
    };
  }

  // æ›´æ–°ç”¨æˆ·
  rpc Update (user.service.v1.UpdateUserRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      put: "/admin/v1/users/{id}"
      body: "*"
    };
  }

  // åˆ é™¤ç”¨æˆ·
  rpc Delete (user.service.v1.DeleteUserRequest) returns (google.protobuf.Empty) {
    option (google.api.http) = {
      delete: "/admin/v1/users/{id}"
    };
  }
}

// æšä¸¾å®šä¹‰ï¼ˆç”¨æˆ·çŠ¶æ€ï¼‰
enum UserStatus {
  OFF = 0; // ç¦ç”¨
  ON = 1;  // å¯ç”¨
}

// æ•°æ®æ¨¡å‹ï¼ˆä¸æ•°æ®åº“è¡¨å¯¹åº”ï¼‰
message User {
  optional uint32 id = 1 [json_name = "id"]; // ç”¨æˆ·ID
  optional string username = 2;              // ç”¨æˆ·å
  optional UserStatus status = 3;            // çŠ¶æ€
  // å…¶ä»–å­—æ®µ...
}
</code></pre>
<h4 data-id="heading-15">ç”Ÿæˆä»£ç ï¼š</h4>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°† proto è½¬æ¢ä¸º Go ä»£ç ï¼ˆç”Ÿæˆçš„ä»£ç ä½äº <code>backend/api/gen/go</code> ç›®å½•ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”Ÿæˆgoä»£ç </span>
make api
</code></pre>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°† proto è½¬æ¢ä¸º OpenAPIæ–‡æ¡£ï¼ˆç”Ÿæˆçš„æ–‡æ¡£ä½äº<code>backend/app/admin/service/cmd/server/assets/</code>ç›®å½•ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”ŸæˆOpenAPIæ–‡æ¡£</span>
make openapi
</code></pre>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å°† proto è½¬æ¢ä¸º TypeScriptä»£ç ï¼ˆç”Ÿæˆçš„ä»£ç ä½äº<code>frontend/apps/admin/src/generated/api</code>ç›®å½•ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”ŸæˆTypeScriptä»£ç </span>
make ts
</code></pre>
<h3 data-id="heading-16">äº”ã€ç¼–å†™ data åŒ…ï¼ˆæ•°æ®è®¿é—®å±‚ï¼‰</h3>
<p><code>data</code> åŒ…è´Ÿè´£ä¸æ•°æ®åº“äº¤äº’ï¼Œå®ç° CRUD æ“ä½œï¼Œæ˜¯ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®åº“ä¹‹é—´çš„æ¡¥æ¢ã€‚ä»£ç ä½äº <code>backend/app/admin/service/internal/data</code> ç›®å½•ã€‚</p>
<h4 data-id="heading-17">æ ¸å¿ƒèŒè´£ï¼š</h4>
<ul>
<li>å°è£… ent çš„æ•°æ®åº“æ“ä½œï¼ˆæŸ¥è¯¢ã€æ’å…¥ã€æ›´æ–°ã€åˆ é™¤ï¼‰ã€‚</li>
<li>å®ç° ent å®ä½“ä¸ proto æ¶ˆæ¯çš„è½¬æ¢ï¼ˆå¦‚ <code>convertEntToProto</code>ï¼‰ã€‚</li>
<li>å¤„ç†æ•°æ®è®¿é—®è¿‡ç¨‹ä¸­çš„é”™è¯¯ï¼ˆå¦‚è®°å½•æ—¥å¿—ã€è¿”å›ä¸šåŠ¡é”™è¯¯ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-18">å…³é”®ä»£ç è§£æï¼š</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> data

<span class="hljs-keyword">type</span> UserRepo <span class="hljs-keyword">struct</span> {
	data *Data
	log  *log.Helper

	mapper             *mapper.CopierMapper[userV1.User, ent.User]
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewUserRepo</span><span class="hljs-params">(logger log.Logger, data *Data)</span></span> *UserRepo {
	repo := &amp;UserRepo{
		log:                log.NewHelper(log.With(logger, <span class="hljs-string">"module"</span>, <span class="hljs-string">"user/repo/admin-service"</span>)),
		data:               data,
		mapper:             mapper.NewCopierMapper[userV1.User, ent.User](),
	}

	<span class="hljs-keyword">return</span> repo
}

<span class="hljs-comment">// åˆ›å»ºç”¨æˆ·</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(r *UserRepo)</span></span> CreateUser(ctx context.Context, req *userV1.CreateUserRequest) <span class="hljs-type">error</span> {
	<span class="hljs-keyword">if</span> req == <span class="hljs-literal">nil</span> || req.Data == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, userV1.ErrorBadRequest(<span class="hljs-string">"invalid parameter"</span>)
	}

	<span class="hljs-keyword">if</span> req.Data.Password != <span class="hljs-literal">nil</span> &amp;&amp; req.Data.GetPassword() != <span class="hljs-string">""</span> {
		cryptoPassword, err := crypto.HashPassword(req.Data.GetPassword())
		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
		}
		req.Data.Password = &amp;cryptoPassword
	}

    <span class="hljs-comment">// è°ƒç”¨ ent æ’å…¥æ•°æ®</span>
    <span class="hljs-keyword">return</span> r.data.db.Client().User.Create().
        SetUsername(req.Data.Username).
        SetPassword(req.Data.GetPassword()).
        <span class="hljs-comment">// è®¾ç½®å…¶ä»–å­—æ®µ...</span>
        Exec(ctx)
}
</code></pre>
<h3 data-id="heading-19">å…­ã€ç¼–å†™ service åŒ…ï¼ˆä¸šåŠ¡é€»è¾‘å±‚ï¼‰</h3>
<p>service åŒ…å®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œè°ƒç”¨ data åŒ…è¿›è¡Œæ•°æ®æ“ä½œï¼Œå¹¶å¤„ç†æƒé™æ ¡éªŒã€å‚æ•°æ ¡éªŒç­‰ä¸šåŠ¡è§„åˆ™ã€‚ä»£ç ä½äº <code>backend/app/admin/service/internal/service</code> ç›®å½•ã€‚</p>
<h4 data-id="heading-20">æ ¸å¿ƒèŒè´£ï¼š</h4>
<ul>
<li>æ ¡éªŒè¯·æ±‚å‚æ•°åˆæ³•æ€§ï¼ˆå¦‚éç©ºæ£€æŸ¥ï¼‰ã€‚</li>
<li>å®ç°ä¸šåŠ¡è§„åˆ™ï¼ˆå¦‚ â€œç¦æ­¢åˆ é™¤è¶…çº§ç®¡ç†å‘˜â€ï¼‰ã€‚</li>
<li>è°ƒç”¨ data åŒ…å®Œæˆæ•°æ®æ“ä½œï¼Œå¹¶è¿”å›ç»“æœã€‚</li>
</ul>
<h4 data-id="heading-21">å…³é”®ä»£ç è§£æï¼š</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// åˆ›å»ºç”¨æˆ·ï¼ˆåŒ…å«æƒé™æ ¡éªŒï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *UserService)</span></span> CreateUser(ctx context.Context, req *userV1.CreateUserRequest) (*emptypb.Empty, <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// å‚æ•°æ ¡éªŒ</span>
    <span class="hljs-keyword">if</span> req.Data == <span class="hljs-literal">nil</span> || req.Data.Username == <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errors.New(<span class="hljs-string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"</span>)
    }

    <span class="hljs-comment">// æƒé™æ ¡éªŒï¼šåªæœ‰ç®¡ç†å‘˜èƒ½åˆ›å»ºç”¨æˆ·</span>
    operator, err := s.userRepo.GetUser(ctx, req.OperatorId)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> || operator.Authority != userV1.UserAuthority_SYS_ADMIN {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errors.New(<span class="hljs-string">"æƒé™ä¸è¶³"</span>)
    }

    <span class="hljs-comment">// è°ƒç”¨ data åŒ…åˆ›å»ºç”¨æˆ·</span>
    <span class="hljs-keyword">return</span> &amp;emptypb.Empty{}, s.userRepo.CreateUser(ctx, req)
}
</code></pre>
<h3 data-id="heading-22">ä¸ƒã€æ³¨å†ŒæœåŠ¡åˆ° Server</h3>
<p>æœ€åéœ€å°†æœåŠ¡æ³¨å†Œåˆ° gRPC æˆ– REST æœåŠ¡å™¨ï¼Œä½¿å®¢æˆ·ç«¯èƒ½è®¿é—®æœåŠ¡ã€‚æ³¨å†Œä»£ç ä½äº <code>backend/app/admin/service/server</code> ç›®å½•ã€‚</p>
<h4 data-id="heading-23">gRPC æœåŠ¡æ³¨å†Œï¼š</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">import</span> (
	<span class="hljs-string">"github.com/go-kratos/kratos/v2/transport/grpc"</span>
)

<span class="hljs-comment">// æ³¨å†Œ gRPC æœåŠ¡</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewGRPCServer</span><span class="hljs-params">(cfg *conf.Bootstrap, userSvc *service.UserService)</span></span> *grpc.Server {
    srv := grpc.NewServer()

    <span class="hljs-comment">// å°† UserService æ³¨å†Œåˆ° gRPC æœåŠ¡å™¨</span>
    userV1.RegisterUserServiceServer(srv, userSvc)

    <span class="hljs-keyword">return</span> srv
}
</code></pre>
<h4 data-id="heading-24">REST æœåŠ¡æ³¨å†Œï¼š</h4>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">import</span> (
	<span class="hljs-string">"github.com/go-kratos/kratos/v2/transport/http"</span>
)

<span class="hljs-comment">// æ³¨å†Œ REST æœåŠ¡</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">NewRESTServer</span><span class="hljs-params">(cfg *conf.Bootstrap, userSvc *service.UserService)</span></span> *http.Server {
	<span class="hljs-keyword">if</span> cfg == <span class="hljs-literal">nil</span> || cfg.Server == <span class="hljs-literal">nil</span> || cfg.Server.Rest == <span class="hljs-literal">nil</span> {
		<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
	}

	srv := rpc.CreateRestServer(cfg)
   
	<span class="hljs-comment">// å°† UserService æ³¨å†Œåˆ° REST æœåŠ¡å™¨</span>
	adminV1.RegisterUserServiceHTTPServer(srv, userSvc)

	<span class="hljs-keyword">return</span> srv
}
</code></pre>
<h3 data-id="heading-25">å…«ã€æµ‹è¯•æ–°æœåŠ¡</h3>
<p>æœåŠ¡å¼€å‘å®Œæˆåï¼Œéœ€éªŒè¯åŠŸèƒ½æ­£ç¡®æ€§ï¼š</p>
<h4 data-id="heading-26">1. <strong>å•å…ƒæµ‹è¯•ï¼š</strong></h4>
<p>æµ‹è¯• data åŒ…å’Œ service åŒ…çš„æ ¸å¿ƒæ–¹æ³•ï¼ˆä½¿ç”¨ Go å†…ç½®æµ‹è¯•æ¡†æ¶ï¼‰ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// backend/app/admin/service/internal/service/user_service_test.go</span>
<span class="hljs-keyword">package</span> service_test

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"context"</span>
    <span class="hljs-string">"testing"</span>

    <span class="hljs-string">"github.com/stretchr/testify/assert"</span>
    userV1 <span class="hljs-string">"go-wind-admin/api/gen/go/admin/service/v1"</span>
    <span class="hljs-string">"go-wind-admin/app/admin/service/internal/service"</span>
    <span class="hljs-string">"go-wind-admin/mocks"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">TestCreateUser</span><span class="hljs-params">(t *testing.T)</span></span> {
    <span class="hljs-comment">// åˆå§‹åŒ– mock ä¾èµ–</span>
    mockUserRepo := mocks.NewUserRepo(t)
    svc := service.NewUserService(mockUserRepo, <span class="hljs-literal">nil</span>)

    <span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹ï¼šç”¨æˆ·åç©º</span>
    req := &amp;userV1.CreateUserRequest{Password: <span class="hljs-string">"12345678"</span>}
    _, err := svc.CreateUser(context.Background(), req)
    assert.ErrorContains(t, err, <span class="hljs-string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"</span>)

    <span class="hljs-comment">// å…¶ä»–æµ‹è¯•ç”¨ä¾‹...</span>
}
</code></pre>
<h4 data-id="heading-27">2. <strong>æ¥å£æµ‹è¯•ï¼š</strong></h4>
<h5 data-id="heading-28">gRPC æ¥å£</h5>
<p>ä½¿ç”¨ <code>grpcurl</code> è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ—å‡ºæœåŠ¡æ¥å£</span>
grpcurl -plaintext localhost:9000 list admin.service.v1.UserService

<span class="hljs-comment"># è°ƒç”¨åˆ›å»ºç”¨æˆ·æ¥å£</span>
grpcurl -plaintext -d <span class="hljs-string">'{"username":"test","password":"12345678"}'</span> \
  localhost:9000 admin.service.v1.UserService/CreateUser
</code></pre>
<h5 data-id="heading-29">HTTP æ¥å£</h5>
<p>ä½¿ç”¨ curl æˆ– Postman è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºç”¨æˆ·</span>
curl -X POST http://localhost:8080/admin/v1/users \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{"username":"test","password":"12345678"}'</span>
</code></pre>
<h3 data-id="heading-30">æ€»ç»“</h3>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬å®Œæˆäº†ä¸€ä¸ªæ–°æœåŠ¡ä»æ•°æ®åº“è®¾è®¡åˆ°æ¥å£æš´éœ²çš„å…¨æµç¨‹å®ç°ã€‚GoWind Admin æ¡†æ¶çš„åˆ†å±‚æ¶æ„ï¼ˆschema â†’ data â†’ service â†’ serverï¼‰ç¡®ä¿äº†ä»£ç çš„ä½è€¦åˆä¸é«˜å¯ç»´æŠ¤æ€§ï¼š</p>
<ul>
<li><strong>schema å±‚</strong>ï¼šé€šè¿‡ ent å®šä¹‰æ•°æ®ç»“æ„ï¼Œè‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“æ“ä½œä»£ç ã€‚</li>
<li><strong>data å±‚</strong>ï¼šå°è£…æ•°æ®åº“äº¤äº’ï¼Œéš”ç¦»ä¸šåŠ¡é€»è¾‘ä¸æ•°æ®è®¿é—®ã€‚</li>
<li><strong>service å±‚</strong>ï¼šèšç„¦ä¸šåŠ¡è§„åˆ™ï¼Œä¸æ•°æ®å±‚è§£è€¦ã€‚</li>
<li><strong>server å±‚</strong>ï¼šç»Ÿä¸€æ³¨å†ŒæœåŠ¡ï¼Œç®€åŒ–éƒ¨ç½²ä¸æ‰©å±•ã€‚</li>
</ul>
<p>éµå¾ªæ­¤æµç¨‹ï¼Œå¼€å‘è€…å¯å¿«é€Ÿåœ¨æ¡†æ¶ä¸­æ‰©å±•æ–°æœåŠ¡ï¼Œå……åˆ†åˆ©ç”¨æ¡†æ¶æä¾›çš„å·¥å…·é“¾ï¼ˆentã€Protobufã€gRPCï¼‰æå‡å¼€å‘æ•ˆç‡ã€‚</p>
<h3 data-id="heading-31">é¡¹ç›®ä»£ç </h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Ftx7do%2Fgo-wind-admin" target="_blank" title="https://gitee.com/tx7do/go-wind-admin" ref="nofollow noopener noreferrer">go-wind-admin Gitee</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftx7do%2Fgo-wind-admin" target="_blank" title="https://github.com/tx7do/go-wind-admin" ref="nofollow noopener noreferrer">go-wind-admin Github</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æŠ¤èˆªéšç§ï¼å°ç¨‹åºçº¯å‰ç«¯â€œè¯ä»¶åŠ æ°´å°â€ï¼šOffscreenCanvas å…¨å±å¹³é“ºå®æˆ˜]]></title>    <link>https://juejin.cn/post/7582777037862879282</link>    <guid>https://juejin.cn/post/7582777037862879282</guid>    <pubDate>2025-12-12T08:34:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582777037862879282" data-draft-id="7582777037862846514" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æŠ¤èˆªéšç§ï¼å°ç¨‹åºçº¯å‰ç«¯â€œè¯ä»¶åŠ æ°´å°â€ï¼šOffscreenCanvas å…¨å±å¹³é“ºå®æˆ˜"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,å¾®ä¿¡å°ç¨‹åº"/> <meta itemprop="datePublished" content="2025-12-12T08:34:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°çš®è™¾"/> <meta itemprop="url" content="https://juejin.cn/user/1468603263091623"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æŠ¤èˆªéšç§ï¼å°ç¨‹åºçº¯å‰ç«¯â€œè¯ä»¶åŠ æ°´å°â€ï¼šOffscreenCanvas å…¨å±å¹³é“ºå®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1468603263091623/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°çš®è™¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T08:34:45.000Z" title="Fri Dec 12 2025 08:34:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. èƒŒæ™¯ä¸ç—›ç‚¹ï¼šè¯ä»¶â€œè£¸å¥”â€çš„é£é™©</h2>
<p>åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¸Šä¼ èº«ä»½è¯ã€é©¾ç…§æˆ–æˆ¿äº§è¯ç…§ç‰‡æ¥åŠç†å„ç§ä¸šåŠ¡ã€‚ç„¶è€Œï¼Œç›´æ¥å‘é€åŸå›¾å­˜åœ¨å·¨å¤§çš„å®‰å…¨éšæ‚£ï¼š</p>
<ul>
<li><strong>è¢«äºŒæ¬¡ç›—ç”¨</strong>ï¼šä¸æ³•åˆ†å­å¯èƒ½å°†ä½ çš„è¯ä»¶ç…§ç”¨äºç½‘è´·ã€æ³¨å†Œè´¦å·ç­‰éæ³•ç”¨é€”ã€‚</li>
<li><strong>æœåŠ¡å™¨éšç§æ³„éœ²</strong>ï¼šå¦‚æœä½¿ç”¨åœ¨çº¿å·¥å…·åŠ æ°´å°ï¼Œå›¾ç‰‡å¿…é¡»ä¸Šä¼ åˆ°ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ï¼Œè¿™å°±å¥½æ¯”â€œæŠŠé’¥åŒ™äº¤ç»™é™Œç”Ÿäººä¿ç®¡â€ï¼Œé£é™©ä¸å¯æ§ã€‚</li>
</ul>
<p>ä¸ºäº†è§£å†³è¿™ä¸€ç—›ç‚¹ï¼Œå¯åˆ©ç”¨å°ç¨‹åºçš„ <code>OffscreenCanvas</code> èƒ½åŠ›ï¼Œåœ¨ç”¨æˆ·æ‰‹æœºæœ¬åœ°æ¯«ç§’çº§åˆæˆæ°´å°ï¼Œ<strong>å›¾ç‰‡æ•°æ®æ°¸è¿œä¸ä¼šç¦»å¼€ç”¨æˆ·æ‰‹æœº</strong>ã€‚</p>
<h2 data-id="heading-1">2. æ ¸å¿ƒæ€è·¯ï¼šç¦»å±æ¸²æŸ“ + çŸ©é˜µå¹³é“º</h2>
<p>å®ç°å…¨å±å€¾æ–œæ°´å°ï¼Œä¸»è¦éš¾ç‚¹åœ¨äº<strong>åæ ‡è®¡ç®—</strong>å’Œ<strong>æ€§èƒ½å¹³è¡¡</strong>ã€‚æˆ‘ä»¬çš„æ–¹æ¡ˆå¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>ç¦»å±æ¸²æŸ“ (OffscreenCanvas)</strong>ï¼š
ä½¿ç”¨ç¦»å±ç”»å¸ƒåœ¨å†…å­˜ä¸­å¤„ç†ï¼Œé¿å…é¡µé¢é—ªçƒï¼Œä¸”æ”¯æŒé«˜æ€§èƒ½çš„ 2D æ¸²æŸ“æ¨¡å¼ã€‚</li>
<li><strong>æ™ºèƒ½ DPR é™çº§</strong>ï¼š
æ²¿ç”¨æˆ‘ä»¬ä¹‹å‰æ–‡ç« æåˆ°çš„é˜²çˆ†å†…å­˜ç­–ç•¥ã€‚è¯ä»¶ç…§é€šå¸¸åˆ†è¾¨ç‡å¾ˆé«˜ï¼Œå¿…é¡»è®¡ç®—å®‰å…¨å°ºå¯¸ï¼Œé˜²æ­¢ Canvas å†…å­˜æº¢å‡ºé—ªé€€ã€‚</li>
<li><strong>çŸ©é˜µå¹³é“ºç®—æ³•</strong>ï¼š
ä¸ç®€å•çš„æ—‹è½¬ç”»å¸ƒï¼Œè€Œæ˜¯é‡‡ç”¨ <strong>â€œä¿å­˜ç¯å¢ƒ -&gt; å¹³ç§» -&gt; æ—‹è½¬ -&gt; ç»˜åˆ¶ -&gt; æ¢å¤ç¯å¢ƒâ€</strong> çš„ç­–ç•¥ï¼Œåœ¨ä¸€ä¸ªç½‘æ ¼å¾ªç¯ä¸­å°†æ–‡å­—é“ºæ»¡å…¨å±ï¼Œç¡®ä¿æ— è®ºå›¾ç‰‡æ¯”ä¾‹å¦‚ä½•ï¼Œæ°´å°éƒ½èƒ½å‡åŒ€åˆ†å¸ƒã€‚</li>
</ol>
<h2 data-id="heading-2">3. ç¡¬æ ¸ä»£ç å®ç°</h2>
<p>ä»¥ä¸‹æ˜¯å°è£…å¥½çš„ <code>watermarkUtils.js</code>ã€‚åŒ…å«äº†<strong>æ™ºèƒ½ DPR è®¡ç®—</strong>å’Œ<strong>å…¨å±æ°´å°ç»˜åˆ¶</strong>çš„æ ¸å¿ƒé€»è¾‘ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// utils/watermarkUtils.js</span>

<span class="hljs-comment">// 1. è·å–ç³»ç»ŸåŸºç¡€ä¿¡æ¯</span>
<span class="hljs-keyword">const</span> wxt = {
  <span class="hljs-attr">dpr</span>: wx.<span class="hljs-title function_">getSystemInfoSync</span>().<span class="hljs-property">pixelRatio</span> || <span class="hljs-number">2</span>
};

<span class="hljs-comment">// å›¾ç‰‡ç¼“å­˜ï¼Œé¿å…é‡å¤åŠ è½½</span>
<span class="hljs-keyword">const</span> cacheCanvasImageMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

<span class="hljs-comment">/**
 * å†…éƒ¨æ–¹æ³•ï¼šè·å–/åˆ›å»º Canvas Image å¯¹è±¡
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getCanvasImage</span>(<span class="hljs-params">canvas, imageUrl</span>) {
  <span class="hljs-keyword">if</span> (cacheCanvasImageMap.<span class="hljs-title function_">has</span>(imageUrl)) <span class="hljs-keyword">return</span> cacheCanvasImageMap.<span class="hljs-title function_">get</span>(imageUrl);
  
  <span class="hljs-comment">// å…¼å®¹æ€§å¤„ç†ï¼šè‹¥ä¸æ”¯æŒ Promise.withResolversï¼Œè¯·æ”¹ç”¨ new Promise</span>
  <span class="hljs-keyword">const</span> { promise, resolve, reject } = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">withResolvers</span>();
  <span class="hljs-keyword">const</span> image = canvas.<span class="hljs-title function_">createImage</span>();
  image.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> {
    cacheCanvasImageMap.<span class="hljs-title function_">set</span>(imageUrl, image);
    <span class="hljs-title function_">resolve</span>(image);
  };
  image.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`åŠ è½½å¤±è´¥: <span class="hljs-subst">${e.errMsg}</span>`</span>));
  image.<span class="hljs-property">src</span> = imageUrl;
  <span class="hljs-keyword">await</span> promise;
  <span class="hljs-keyword">return</span> image;
}

<span class="hljs-comment">/**
 * ç»™å›¾ç‰‡æ·»åŠ å…¨å±å€¾æ–œæ°´å°
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} imageUrl å›¾ç‰‡è·¯å¾„
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} text æ°´å°æ–‡å­—ï¼Œå¦‚ "ä»…ä¾›åŠç†ç§Ÿæˆ¿ä¸šåŠ¡ä½¿ç”¨"
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} options é…ç½®é¡¹ { color, size, opacity }
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">addWatermark</span>(<span class="hljs-params">imageUrl, text = <span class="hljs-string">'ä»…ä¾›åŠç†ä¸šåŠ¡ä½¿ç”¨'</span>, options = {}</span>) {
  <span class="hljs-comment">// é»˜è®¤é…ç½®</span>
  <span class="hljs-keyword">const</span> config = {
    <span class="hljs-attr">color</span>: <span class="hljs-string">'#aaaaaa'</span>,
    <span class="hljs-attr">opacity</span>: <span class="hljs-number">0.5</span>,
    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 0 è¡¨ç¤ºè‡ªåŠ¨è®¡ç®—</span>
    <span class="hljs-attr">gap</span>: <span class="hljs-number">100</span>,    <span class="hljs-comment">// æ°´å°é—´è·</span>
    ...options
  };

  <span class="hljs-keyword">const</span> offscreenCanvas = wx.<span class="hljs-title function_">createOffscreenCanvas</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'2d'</span> });
  <span class="hljs-keyword">const</span> image = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getCanvasImage</span>(offscreenCanvas, imageUrl);
  <span class="hljs-keyword">const</span> { width, height } = image;

  <span class="hljs-comment">// --- âš¡ï¸ æ€§èƒ½ä¼˜åŒ–ï¼šæ™ºèƒ½ DPR è®¡ç®— (é˜²æ­¢å¤§å›¾é—ªé€€) ---</span>
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">LIMIT_SIZE</span> = <span class="hljs-number">4096</span>; 
  <span class="hljs-keyword">let</span> useDpr = wxt.<span class="hljs-property">dpr</span>;
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(width, height) * useDpr &gt; <span class="hljs-variable constant_">LIMIT_SIZE</span>) {
    useDpr = <span class="hljs-variable constant_">LIMIT_SIZE</span> / <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(width, height);
  }

  <span class="hljs-comment">// è®¾ç½®ç”»å¸ƒå°ºå¯¸</span>
  offscreenCanvas.<span class="hljs-property">width</span> = width * useDpr;
  offscreenCanvas.<span class="hljs-property">height</span> = height * useDpr;

  <span class="hljs-keyword">const</span> ctx = offscreenCanvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
  ctx.<span class="hljs-title function_">scale</span>(useDpr, useDpr);
  
  <span class="hljs-comment">// 1. ç»˜åˆ¶åº•å›¾</span>
  ctx.<span class="hljs-title function_">drawImage</span>(image, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height);

  <span class="hljs-comment">// 2. é…ç½®æ°´å°æ ·å¼</span>
  <span class="hljs-comment">// è‡ªåŠ¨è®¡ç®—å­—å·ï¼šçº¦ä¸ºå›¾ç‰‡å®½åº¦çš„ 4%</span>
  <span class="hljs-keyword">const</span> fontSize = config.<span class="hljs-property">fontSize</span> || <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(width * <span class="hljs-number">0.04</span>); 
  ctx.<span class="hljs-property">font</span> = <span class="hljs-string">`bold <span class="hljs-subst">${fontSize}</span>px sans-serif`</span>;
  ctx.<span class="hljs-property">fillStyle</span> = config.<span class="hljs-property">color</span>;
  ctx.<span class="hljs-property">globalAlpha</span> = config.<span class="hljs-property">opacity</span>;
  ctx.<span class="hljs-property">textBaseline</span> = <span class="hljs-string">'middle'</span>;
  ctx.<span class="hljs-property">textAlign</span> = <span class="hljs-string">'center'</span>;

  <span class="hljs-comment">// 3. è®¡ç®—å¹³é“ºé€»è¾‘</span>
  <span class="hljs-comment">// æ—‹è½¬ 45 åº¦åï¼Œè¦†ç›–èŒƒå›´éœ€è¦æ¯”åŸå›¾å¤§ï¼Œè¿™é‡Œç®€å•å–å¯¹è§’çº¿é•¿åº¦ä½œä¸ºè¾¹ç•Œ</span>
  <span class="hljs-keyword">const</span> maxSize = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(width * width + height * height);
  <span class="hljs-comment">// æ­¥é•¿ = æ–‡å­—å®½åº¦ + é—´è·</span>
  <span class="hljs-keyword">const</span> step = ctx.<span class="hljs-title function_">measureText</span>(text).<span class="hljs-property">width</span> + config.<span class="hljs-property">gap</span>; 
  
  <span class="hljs-comment">// 4. å¾ªç¯ç»˜åˆ¶æ°´å°</span>
  <span class="hljs-comment">// ä»è´Ÿåæ ‡å¼€å§‹ç»˜åˆ¶ï¼Œç¡®ä¿æ—‹è½¬åè¾¹ç¼˜ä¹Ÿæœ‰æ°´å°</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x = -maxSize; x &lt; maxSize; x += step) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> y = -maxSize; y &lt; maxSize; y += step) {
      ctx.<span class="hljs-title function_">save</span>();
      
      <span class="hljs-comment">// æ ¸å¿ƒå˜æ¢ï¼šå¹³ç§»åˆ°ç½‘æ ¼ç‚¹ -&gt; æ—‹è½¬ -&gt; ç»˜åˆ¶</span>
      ctx.<span class="hljs-title function_">translate</span>(x, y);
      ctx.<span class="hljs-title function_">rotate</span>(-<span class="hljs-number">45</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>); <span class="hljs-comment">// é€†æ—¶é’ˆæ—‹è½¬ 45 åº¦</span>
      ctx.<span class="hljs-title function_">fillText</span>(text, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
      
      ctx.<span class="hljs-title function_">restore</span>();
    }
  }

  <span class="hljs-comment">// 5. å¯¼å‡ºå›¾ç‰‡</span>
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> wx.<span class="hljs-title function_">canvasToTempFilePath</span>({
    <span class="hljs-attr">canvas</span>: offscreenCanvas,
    <span class="hljs-attr">fileType</span>: <span class="hljs-string">'jpg'</span>,
    <span class="hljs-attr">quality</span>: <span class="hljs-number">0.8</span>, <span class="hljs-comment">// ç¨å¾®å‹ç¼©ä»¥å‡å°ä½“ç§¯</span>
  });

  <span class="hljs-keyword">return</span> res.<span class="hljs-property">tempFilePath</span>;
}
</code></pre>
<h2 data-id="heading-3">4. ä¸šåŠ¡è°ƒç”¨ç¤ºä¾‹</h2>
<p>åœ¨å°ç¨‹åºé¡µé¢ä¸­ï¼Œç”¨æˆ·é€‰æ‹©å›¾ç‰‡å¹¶è¾“å…¥æ°´å°æ–‡å­—åï¼Œå®æ—¶é¢„è§ˆæ•ˆæœã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// pages/watermark/index.js</span>
<span class="hljs-keyword">import</span> { addWatermark } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../utils/watermarkUtils'</span>;

<span class="hljs-title class_">Page</span>({
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">originImg</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">resultImg</span>: <span class="hljs-string">''</span>,
    <span class="hljs-attr">watermarkText</span>: <span class="hljs-string">'ä»…ä¾›æœ¬æ¬¡ä¸šåŠ¡ä½¿ç”¨ ä»–ç”¨æ— æ•ˆ'</span>
  },

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">onAddWatermark</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">originImg</span>) <span class="hljs-keyword">return</span>;

    wx.<span class="hljs-title function_">showLoading</span>({ <span class="hljs-attr">title</span>: <span class="hljs-string">'å®‰å…¨åˆæˆä¸­...'</span> });
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> tempFilePath = <span class="hljs-keyword">await</span> <span class="hljs-title function_">addWatermark</span>(
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">originImg</span>, 
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">data</span>.<span class="hljs-property">watermarkText</span>,
        {
          <span class="hljs-attr">color</span>: <span class="hljs-string">'#ffffff'</span>, <span class="hljs-comment">// ç™½è‰²æ°´å°</span>
          <span class="hljs-attr">opacity</span>: <span class="hljs-number">0.4</span>,     <span class="hljs-comment">// åŠé€æ˜</span>
          <span class="hljs-attr">gap</span>: <span class="hljs-number">120</span>          <span class="hljs-comment">// é—´è·ç–æ¾ä¸€ç‚¹</span>
        }
      );
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setData</span>({ <span class="hljs-attr">resultImg</span>: tempFilePath });
      
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
      wx.<span class="hljs-title function_">showToast</span>({ <span class="hljs-attr">title</span>: <span class="hljs-string">'åˆæˆå¤±è´¥'</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span> });
    } <span class="hljs-keyword">finally</span> {
      wx.<span class="hljs-title function_">hideLoading</span>();
    }
  }
})
</code></pre>
<h2 data-id="heading-4">5. é¿å‘ä¸å®æˆ˜ç»éªŒ</h2>
<ol>
<li><strong>è‡ªåŠ¨å­—å·çš„é‡è¦æ€§</strong>ï¼š
ä¸è¦å†™æ­» <code>fontSize = 20px</code>ã€‚ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡åˆ†è¾¨ç‡å·®å¼‚æå¤§ï¼ˆæœ‰çš„ 500px å®½ï¼Œæœ‰çš„ 4000px å®½ï¼‰ã€‚æœ€ä½³å®è·µæ˜¯<strong>æ ¹æ®å›¾ç‰‡å®½åº¦åŠ¨æ€è®¡ç®—å­—å·</strong>ï¼ˆå¦‚ <code>width * 0.04</code>ï¼‰ï¼Œè¿™æ ·æ— è®ºå¤„ç†ç¼©ç•¥å›¾è¿˜æ˜¯ 4K åŸå›¾ï¼Œæ°´å°æ¯”ä¾‹çœ‹èµ·æ¥éƒ½æ˜¯åè°ƒçš„ã€‚</li>
<li><strong>å¹³é“ºèŒƒå›´çš„é™·é˜±</strong>ï¼š
å› ä¸ºæ–‡å­—éœ€è¦æ—‹è½¬ 45 åº¦ï¼Œå¦‚æœå¾ªç¯åªä» <code>0</code> åˆ° <code>width</code>ï¼Œå›¾ç‰‡çš„å·¦ä¸‹è§’å’Œå³ä¸Šè§’å¯èƒ½ä¼šå‡ºç°ç©ºç™½ã€‚ä»£ç ä¸­æˆ‘ä»¬ä» <code>-maxSize</code>ï¼ˆè´Ÿæ•°åŒºåŸŸï¼‰å¼€å§‹å¾ªç¯ï¼Œç¡®ä¿æ—‹è½¬åçš„æ–‡å­—èƒ½å®Œå…¨è¦†ç›–ç”»å¸ƒçš„æ¯ä¸€ä¸ªè§’è½ã€‚</li>
<li><strong>éšç§ç¬¬ä¸€</strong>ï¼š
åœ¨å·¥å…·çš„ UI ç•Œé¢ä¸Šï¼Œå»ºè®®æ˜¾è‘—æç¤º <strong>â€œçº¯æœ¬åœ°å¤„ç†ï¼Œæ— ä¸Šä¼ æœåŠ¡å™¨â€</strong>ï¼Œè¿™èƒ½æå¤§åœ°å¢åŠ ç”¨æˆ·çš„ä¿¡ä»»æ„Ÿï¼Œæå‡å·¥å…·çš„ä½¿ç”¨ç‡ã€‚</li>
</ol>
<h2 data-id="heading-5">å†™åœ¨æœ€å</h2>
<p>é€šè¿‡<code>å¸®å°å¿™å·¥å…·ç®±</code>çš„è¿™ä¸ªå®è·µæ¡ˆä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåˆ©ç”¨å°ç¨‹åºå¼ºå¤§çš„ Canvas èƒ½åŠ›ï¼Œå¼€å‘è€…å®Œå…¨å¯ä»¥åœ¨ä¿æŠ¤ç”¨æˆ·éšç§çš„å‰æä¸‹ï¼Œæä¾›ä¸“ä¸šçº§çš„å›¾ç‰‡å¤„ç†æœåŠ¡ã€‚</p>
<p><strong>æŠ€æœ¯ä¸åªæ˜¯ä»£ç ï¼Œæ›´æ˜¯å¯¹ç”¨æˆ·å®‰å…¨çš„å®ˆæŠ¤ã€‚</strong> å¸Œæœ›è¿™ç¯‡åˆ†äº«èƒ½å¸®ä½ åœ¨å°ç¨‹åºä¸­å®ç°æ›´å®‰å…¨ã€æ›´é«˜æ•ˆçš„åŠŸèƒ½ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ¶ä½œä¸€ä¸ªç®€å•çš„HTMLä¸ªäººç½‘é¡µ]]></title>    <link>https://juejin.cn/post/7582786292087046195</link>    <guid>https://juejin.cn/post/7582786292087046195</guid>    <pubDate>2025-12-12T08:54:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582786292087046195" data-draft-id="7582777037863157810" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ¶ä½œä¸€ä¸ªç®€å•çš„HTMLä¸ªäººç½‘é¡µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-12T08:54:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="yingjuxiaèœé¸Ÿcom"/> <meta itemprop="url" content="https://juejin.cn/user/1065848795830204"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ¶ä½œä¸€ä¸ªç®€å•çš„HTMLä¸ªäººç½‘é¡µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1065848795830204/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    yingjuxiaèœé¸Ÿcom
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T08:54:44.000Z" title="Fri Dec 12 2025 08:54:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    20
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸‹é¢ç»™ä½ ä¸€ä¸ª<strong>è¶…çº§<a href="https://link.juejin.cn?target=https%3A%2F%2Fyingjuxia.com%2Farchives%2F7064" target="_blank" title="https://yingjuxia.com/archives/7064" ref="nofollow noopener noreferrer">ç®€å•ä½†åˆå¥½çœ‹</a>ã€æ‰‹æœºç”µè„‘éƒ½èƒ½å®Œç¾è®¿é—®</strong>çš„ä¸ªäººä¸»é¡µæ¨¡æ¿ï¼Œ5 åˆ†é’Ÿå°±èƒ½æ”¹æˆä½ è‡ªå·±çš„ä¸“å±ç½‘é¡µï¼</p>
<h3 data-id="heading-0">åŠŸèƒ½ç‰¹ç‚¹</h3>
<ul>
<li>çº¯ HTML + CSSï¼ˆä¸€è¡Œ JavaScript éƒ½ä¸ç”¨ï¼‰</li>
<li>è‡ªé€‚åº”ç§»åŠ¨ç«¯ï¼ˆæ‰‹æœºçœ‹èµ·æ¥ä¹Ÿå¥½çœ‹ï¼‰</li>
<li>æ·±è‰²/æµ…è‰²è‡ªåŠ¨åˆ‡æ¢ï¼ˆè·Ÿéšç³»ç»Ÿï¼‰</li>
<li>ä¸€é”®æ›¿æ¢å¤´åƒã€å§“åã€ç®€ä»‹ã€ç¤¾äº¤é“¾æ¥å°±å®Œäº‹</li>
<li>æ”¯æŒæ·»åŠ åšå®¢ã€é¡¹ç›®ã€ä½œå“ã€æ‘„å½±ç­‰æ¨¡å—</li>
</ul>
<h3 data-id="heading-1">å®Œæ•´ä»£ç ï¼ˆç›´æ¥å¤åˆ¶ä¿å­˜ä¸º index.html åŒå‡»æ‰“å¼€å³å¯ï¼‰</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>å¼ ä¸‰çš„ä¸ªäººä¸»é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-pseudo">:root</span> {
            <span class="hljs-attr">--bg</span>: <span class="hljs-number">#f8f9fa</span>;
            <span class="hljs-attr">--text</span>: <span class="hljs-number">#2c3e50</span>;
            <span class="hljs-attr">--card</span>: <span class="hljs-number">#ffffff</span>;
            <span class="hljs-attr">--accent</span>: <span class="hljs-number">#ff6b6b</span>;   <span class="hljs-comment">/* ä¸»è‰²è°ƒï¼Œå–œæ¬¢å¯æ¢æˆ #e91e63ã€#4ecdc4 ç­‰ */</span>
        }
        <span class="hljs-keyword">@media</span> (<span class="hljs-attribute">prefers-color-scheme</span>: dark) {
            <span class="hljs-selector-pseudo">:root</span> {
                <span class="hljs-attr">--bg</span>: <span class="hljs-number">#121212</span>;
                <span class="hljs-attr">--text</span>: <span class="hljs-number">#e0e0e0</span>;
                <span class="hljs-attr">--card</span>: <span class="hljs-number">#1e1e1e</span>;
            }
        }

        * { <span class="hljs-attribute">margin</span>:<span class="hljs-number">0</span>; <span class="hljs-attribute">padding</span>:<span class="hljs-number">0</span>; <span class="hljs-attribute">box-sizing</span>:border-box; }
        <span class="hljs-selector-tag">body</span> {
            <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"Segoe UI"</span>, Arial, sans-serif;
            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--bg);
            <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--text);
            <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.6</span>;
            <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>;
            <span class="hljs-attribute">display</span>: flex;
            <span class="hljs-attribute">align-items</span>: center;
            <span class="hljs-attribute">justify-content</span>: center;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
        }
        <span class="hljs-selector-class">.card</span> {
            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--card);
            <span class="hljs-attribute">max-width</span>: <span class="hljs-number">420px</span>;
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">overflow</span>: hidden;
            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">15px</span> <span class="hljs-number">35px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>);
            <span class="hljs-attribute">text-align</span>: center;
            <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.3s</span>;
        }
        <span class="hljs-selector-class">.card</span><span class="hljs-selector-pseudo">:hover</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">10px</span>); }

        <span class="hljs-selector-class">.avatar</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">120px</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">120px</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">30px</span> auto <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">object-fit</span>: cover;
            <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid <span class="hljs-built_in">var</span>(--accent);
        }
        <span class="hljs-selector-tag">h1</span> {
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28px</span>;
            <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span> <span class="hljs-number">0</span>;
            <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--accent);
        }
        <span class="hljs-selector-class">.tagline</span> {
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#888</span>;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20px</span>;
        }
        <span class="hljs-selector-class">.bio</span> {
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">30px</span>;
            <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">25px</span>;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">15px</span>;
        }
        <span class="hljs-selector-class">.links</span> {
            <span class="hljs-attribute">display</span>: flex;
            <span class="hljs-attribute">flex-wrap</span>: wrap;
            <span class="hljs-attribute">justify-content</span>: center;
            <span class="hljs-attribute">gap</span>: <span class="hljs-number">12px</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">20px</span> <span class="hljs-number">30px</span>;
        }
        <span class="hljs-selector-class">.links</span> <span class="hljs-selector-tag">a</span> {
            <span class="hljs-attribute">display</span>: flex;
            <span class="hljs-attribute">align-items</span>: center;
            <span class="hljs-attribute">gap</span>: <span class="hljs-number">8px</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--accent);
            <span class="hljs-attribute">color</span>: white;
            <span class="hljs-attribute">text-decoration</span>: none;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50px</span>;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
            <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.3s</span>;
        }
        <span class="hljs-selector-class">.links</span> <span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> {
            <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">1.08</span>);
            <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">5px</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>,<span class="hljs-number">107</span>,<span class="hljs-number">107</span>,<span class="hljs-number">0.4</span>);
        }
        <span class="hljs-selector-class">.links</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">i</span> { <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>; }

        <span class="hljs-selector-tag">footer</span> {
            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">40px</span>;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
            <span class="hljs-attribute">color</span>: <span class="hljs-number">#aaa</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å›¾æ ‡åº“ï¼ˆå¯é€‰ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"card"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 1. æ›¿æ¢æˆä½ çš„å¤´åƒï¼ˆæ”¾åŒç›®å½•ä¸‹æˆ–ç”¨ç½‘ç»œé“¾æ¥ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://avatars.githubusercontent.com/u/ä½ çš„githubid?v=4"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"å¤´åƒ"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"avatar"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æˆ–è€…æœ¬åœ°å›¾ç‰‡ï¼šsrc="myphoto.jpg" --&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>å¼ ä¸‰<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tagline"</span>&gt;</span>å‰ç«¯å¼€å‘è€… / æ‘„å½±çˆ±å¥½è€… / æ­£åœ¨åŠªåŠ›å˜å‰å®³çš„äºº<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"bio"</span>&gt;</span>
        Hiï½æˆ‘æ˜¯å¼ ä¸‰ï¼Œç›®å‰åœ¨å¹¿å·åšå‰ç«¯ï¼Œå–œæ¬¢å†™ä»£ç ã€æ‹é£æ™¯ã€æ’¸çŒ«ã€‚<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
        ç”Ÿæ´»å¾ˆæ™®é€šï¼Œä½†å¸Œæœ›æ¯å¤©éƒ½èƒ½è¿›æ­¥ä¸€ç‚¹ç‚¹
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"links"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- ç›´æ¥æ”¹é“¾æ¥å’Œå›¾æ ‡å°±è¡Œ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://github.com/yourname"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fab fa-github"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> GitHub
        <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://weibo.com/yourname"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fab fa-weibo"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> å¾®åš
        <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://space.bilibili.com/123456"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fab fa-bilibili"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> Bç«™
        <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"mailto:your@email.com"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-envelope"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> é‚®ä»¶
        <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://yourblog.com"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-blog"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> åšå®¢
        <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://juejin.cn/user/ä½ çš„id"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_blank"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fab fa-juejin"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> æ˜é‡‘
        <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">footer</span>&gt;</span>Â© 2025 å¼ ä¸‰ | æ‰‹å·¥ç çš„ä¸ªäººä¸»é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">footer</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 data-id="heading-2">åªéœ€è¦æ”¹ 4 å¤„å°±å®Œå…¨æ˜¯ä½ è‡ªå·±çš„ç½‘é¡µäº†ï¼</h3>
<ol>
<li>å¤´åƒï¼šæŠŠÂ <code>src="https://..."</code>Â æ¢æˆä½ è‡ªå·±çš„ç…§ç‰‡é“¾æ¥ï¼ˆæ¨èæ”¾åŒç›®å½•ä¸‹æ”¹æˆÂ <code>src="avatar.jpg"</code>ï¼‰</li>
<li>åå­—ï¼šæ”¹Â <code>&lt;h1&gt;å¼ ä¸‰&lt;/h1&gt;</code></li>
<li>ä¸€å¥è¯ä»‹ç»ï¼šæ”¹Â <code>.tagline</code>Â é‚£è¡Œ</li>
<li>è‡ªæˆ‘ä»‹ç» + ç¤¾äº¤é“¾æ¥ï¼šæŒ‰éœ€å¢åˆ å³å¯</li>
</ol>
<h3 data-id="heading-3">æƒ³æ›´ç‚«é…·ï¼Ÿå†åŠ è¿™å‡ è¡Œï¼ˆä»»é€‰ï¼‰</h3>
<ul>
<li>èƒŒæ™¯ç²’å­ç‰¹æ•ˆï¼ˆåŠ åœ¨Â <code>&lt;body&gt;</code>Â å‰é¢ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-xml" lang="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"particles-js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-title function_">particlesJS</span>(<span class="hljs-string">"particles-js"</span>, {<span class="hljs-string">"particles"</span>:{<span class="hljs-string">"number"</span>:{<span class="hljs-string">"value"</span>:<span class="hljs-number">80</span>},<span class="hljs-string">"color"</span>:{<span class="hljs-string">"value"</span>:<span class="hljs-string">"#ff6b6b"</span>},<span class="hljs-string">"shape"</span>:{<span class="hljs-string">"type"</span>:<span class="hljs-string">"circle"</span>},<span class="hljs-string">"opacity"</span>:{<span class="hljs-string">"value"</span>:<span class="hljs-number">0.5</span>},<span class="hljs-string">"size"</span>:{<span class="hljs-string">"value"</span>:<span class="hljs-number">3</span>},<span class="hljs-string">"move"</span>:{<span class="hljs-string">"speed"</span>:<span class="hljs-number">1</span>}}});
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"><span class="hljs-selector-id">#particles-js</span>{<span class="hljs-attribute">position</span>:fixed;<span class="hljs-attribute">top</span>:<span class="hljs-number">0</span>;<span class="hljs-attribute">left</span>:<span class="hljs-number">0</span>;<span class="hljs-attribute">width</span>:<span class="hljs-number">100%</span>;<span class="hljs-attribute">height</span>:<span class="hljs-number">100%</span>;<span class="hljs-attribute">z-index</span>:-<span class="hljs-number">1</span>;}</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<ul>
<li>éŸ³ä¹è‡ªåŠ¨æ’­æ”¾ï¼ˆä¸ƒå¤•ä¸“ç”¨ï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css">  &lt;<span class="hljs-selector-tag">audio</span> <span class="hljs-attribute">src</span>="your-music<span class="hljs-selector-class">.mp3</span>" autoplay loop hidden&gt;&lt;/<span class="hljs-selector-tag">audio</span>&gt;
</code></pre>
<p>5 åˆ†é’Ÿæå®šä¸€ä¸ªé«˜é¢œå€¼ä¸ªäººä¸»é¡µï¼Œèµ¶ç´§å‘ç»™æœ‹å‹/å¯¹è±¡/é¢è¯•å®˜å§ï½<br/>
éœ€è¦å†åŠ ã€Œä½œå“é›†ã€ã€Œæ—¶é—´è½´ã€ã€Œç•™è¨€æ¿ã€ç­‰åŠŸèƒ½ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï¼Œæˆ‘ç»§ç»­ç»™ä½ å‡çº§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[# ğŸŒŸ JavaScriptåŸå‹ä¸åŸå‹é“¾ç»ˆææŒ‡å—ï¼šä»Functionåˆ°Objectçš„å®Œæ•´é—­ç¯è§£æ ï¼Œæ·±å…¥ç†è§£JavaScriptåŸå‹ç³»ç»Ÿæ ¸å¿ƒ]]></title>    <link>https://juejin.cn/post/7582763878674448411</link>    <guid>https://juejin.cn/post/7582763878674448411</guid>    <pubDate>2025-12-12T08:55:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582763878674448411" data-draft-id="7581828086019932175" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="# ğŸŒŸ JavaScriptåŸå‹ä¸åŸå‹é“¾ç»ˆææŒ‡å—ï¼šä»Functionåˆ°Objectçš„å®Œæ•´é—­ç¯è§£æ  ï¼Œæ·±å…¥ç†è§£JavaScriptåŸå‹ç³»ç»Ÿæ ¸å¿ƒ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-12T08:55:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AY1024"/> <meta itemprop="url" content="https://juejin.cn/user/2232439936132313"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            # ğŸŒŸ JavaScriptåŸå‹ä¸åŸå‹é“¾ç»ˆææŒ‡å—ï¼šä»Functionåˆ°Objectçš„å®Œæ•´é—­ç¯è§£æ  ï¼Œæ·±å…¥ç†è§£JavaScriptåŸå‹ç³»ç»Ÿæ ¸å¿ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2232439936132313/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AY1024
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T08:55:31.000Z" title="Fri Dec 12 2025 08:55:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    18
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><h2 data-id="heading-0"><strong>æ·±å…¥ç†è§£JavaScriptåŸå‹ç³»ç»Ÿæ ¸å¿ƒ</strong></h2>
<h3 data-id="heading-1">ğŸ“– ç›®å½•</h3>
<ul>
<li><a href="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5" title="#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5">æ ¸å¿ƒæ¦‚å¿µ</a></li>
<li><a href="#%E6%98%BE%E5%BC%8F%E5%8E%9F%E5%9E%8B%E4%B8%8E%E9%9A%90%E5%BC%8F%E5%8E%9F%E5%9E%8B" title="#%E6%98%BE%E5%BC%8F%E5%8E%9F%E5%9E%8B%E4%B8%8E%E9%9A%90%E5%BC%8F%E5%8E%9F%E5%9E%8B">æ˜¾å¼åŸå‹ä¸éšå¼åŸå‹</a></li>
<li><a href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E5%90%91" title="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E6%8C%87%E5%90%91">æ„é€ å‡½æ•°çš„æŒ‡å‘</a></li>
<li><a href="#%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%B3%E7%B3%BB%E5%9B%BE" title="#%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%B3%E7%B3%BB%E5%9B%BE">å¯è§†åŒ–å…³ç³»å›¾</a></li>
<li><a href="#%E4%BB%A3%E7%A0%81%E9%AA%8C%E8%AF%81" title="#%E4%BB%A3%E7%A0%81%E9%AA%8C%E8%AF%81">ä»£ç éªŒè¯</a></li>
<li><a href="#%E7%89%B9%E5%88%AB%E8%AF%B4%E6%98%8E" title="#%E7%89%B9%E5%88%AB%E8%AF%B4%E6%98%8E">ç‰¹åˆ«è¯´æ˜</a></li>
</ul>
<hr/>
<h3 data-id="heading-2">ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 data-id="heading-3">å››å¤§åŸºæœ¬åŸåˆ™</h4>
<ol>
<li>
<p><strong>åŸåˆ™ä¸€ï¼šæ¯ä¸ªå¯¹è±¡éƒ½æœ‰æ„é€ å‡½æ•°ï¼ˆconstructorï¼‰</strong></p>
<ul>
<li>æŒ‡å‘æ„å»ºè¯¥å¯¹è±¡æˆ–å®ä¾‹çš„å‡½æ•°</li>
</ul>
</li>
<li>
<p><strong>åŸåˆ™äºŒï¼šåªæœ‰å‡½æ•°å¯¹è±¡æ‰æœ‰prototypeå±æ€§</strong></p>
<ul>
<li>éå‡½æ•°å¯¹è±¡æ²¡æœ‰prototypeå±æ€§</li>
<li>å®ä¾‹åªæœ‰<code>__proto__</code>å±æ€§</li>
<li>ä¸¤è€…æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼ˆå‡½æ•°çš„åŸå‹å¯¹è±¡ï¼‰</li>
</ul>
</li>
<li>
<p><strong>åŸåˆ™ä¸‰ï¼šFunctionå‡½æ•°æ˜¯æ‰€æœ‰å‡½æ•°çš„æ„é€ å‡½æ•°</strong></p>
<ul>
<li>åŒ…æ‹¬å®ƒè‡ªå·±</li>
<li>ä»£ç ä¸­å£°æ˜çš„æ‰€æœ‰å‡½æ•°éƒ½æ˜¯Functionçš„å®ä¾‹</li>
</ul>
</li>
<li>
<p><strong>åŸåˆ™å››ï¼šObjectä¹Ÿæ˜¯å‡½æ•°</strong></p>
<ul>
<li>æ‰€ä»¥Objectä¹Ÿæ˜¯Functionå‡½æ•°çš„å®ä¾‹</li>
</ul>
</li>
</ol>
<h3 data-id="heading-4">å®ä¾‹ï¼Œå‡½æ•°ï¼Œå¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡ï¼Œæ„é€ å‡½æ•°ï¼Œå…³ç³»æ€»è§ˆå›¾</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c44a9f53d4049e196b167e4449e2da2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=H1O2jR3fUmx7IK2xXJCNP0XPiro%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-5">ğŸ” éå‡½æ•°å¯¹è±¡åˆ†ç±»</h4>
<ul>
<li>å®ä¾‹å¯¹è±¡ï¼Œ<code>const person = new Foo()</code>,<strong>person</strong>å°±æ˜¯å®ä¾‹å¯¹è±¡</li>
<li>æ™®é€šå¯¹è±¡ï¼ˆ<code>{}</code> æˆ– <code>new Object()</code>ï¼‰</li>
<li>å†…ç½®éå‡½æ•°å¯¹è±¡å®ä¾‹</li>
</ul>
<hr/>
<h3 data-id="heading-6">ğŸ”„ æ˜¾å¼åŸå‹ä¸éšå¼åŸå‹</h3>
<h4 data-id="heading-7">å¯¹è±¡åˆ†ç±»</h4>
<ul>
<li><strong>å‡½æ•°å¯¹è±¡</strong>ï¼šæ‹¥æœ‰<code>prototype</code>å±æ€§</li>
<li><strong>éå‡½æ•°å¯¹è±¡</strong>ï¼šåªæœ‰<code>__proto__</code>å±æ€§</li>
</ul>
<h4 data-id="heading-8">ç›¸åŒç‚¹</h4>
<ul>
<li>éƒ½æŒ‡å‘åŒä¸€ä¸ªåŸå‹å¯¹è±¡</li>
</ul>
<h4 data-id="heading-9">ğŸ“ ç¤ºä¾‹ä»£ç </h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params"/>){}
<span class="hljs-keyword">const</span> person = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Person.prototypeæŒ‡å‘:"</span>, <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"person.__proto__æŒ‡å‘"</span>, person.<span class="hljs-property">__proto__</span>)
</code></pre>
<h4 data-id="heading-10">ğŸ–¼ï¸ æ‰§è¡Œç»“æœ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75efb24e532949a6bcb546dfbea5def0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=u3Krc1lI6HuPgwV49gh%2FlLzwOE0%3D" alt="æ˜¾å¼åŸå‹" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d94345698af74b2286cc67e713e3dcdd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=OjZxIA6%2BtOwDD4e2lsEIff8FKJw%3D" alt="éšå¼åŸå‹" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-11">ğŸ¯ æ„é€ å‡½æ•°çš„æŒ‡å‘</h3>
<h4 data-id="heading-12">é»˜è®¤æƒ…å†µ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params"/>){}
<span class="hljs-keyword">const</span> person = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Person.prototype.constructoræŒ‡å‘"</span>, <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>)
<span class="hljs-comment">// è¾“å‡ºï¼š[Function: Person]</span>
</code></pre>
<h4 data-id="heading-13">æ‰§è¡Œç»“æœ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ad1a034f38248f5b1178c09ff599799~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=l%2BCyV9g3Z4Dnu8t52LS7vcL44RQ%3D" alt="é»˜è®¤æ„é€ å‡½æ•°æŒ‡å‘" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eaa17783b7954f6ebaa997acc9cb82d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=XIyqvF8bK92JcL19rBHExvmYIKk%3D" alt="é»˜è®¤æ„é€ å‡½æ•°æŒ‡å‘è¯¦æƒ…" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-14">ä¿®æ”¹åŸå‹å¯¹è±¡å</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params"/>){}
<span class="hljs-keyword">const</span> person = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();

<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title function_">foo</span>();  <span class="hljs-comment">// ä¿®æ”¹åŸå‹å¯¹è±¡</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Person.prototype.constructoræŒ‡å‘"</span>, <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>)
<span class="hljs-comment">// è¾“å‡ºï¼š[Function: foo]</span>
</code></pre>
<h4 data-id="heading-15">æ‰§è¡Œç»“æœ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1945c4ccb5224c8e92b481725289b54c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=EW7wn2UXR%2FEUf7UGyWCxXEcihng%3D" alt="ä¿®æ”¹åæ„é€ å‡½æ•°æŒ‡å‘" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/276f3f0c840a454f9b1f050477a5a38a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=yL1%2B%2FQcikuMGuZd8KlACBJmvBMQ%3D" alt="ä¿®æ”¹åæ„é€ å‡½æ•°æŒ‡å‘è¯¦æƒ…" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-16">ğŸ“Š æ ¸å¿ƒåŸç†è¯´æ˜</h3>
<h4 data-id="heading-17">è§£é‡Š</h4>
<p><code>Person.prototype</code>è¢«å½“ä½œå‡½æ•°fooçš„å®ä¾‹ï¼Œç»§æ‰¿äº†fooå‡½æ•°ï¼ˆæ­¤ç¯‡ä¸å±•å¼€ç»§æ‰¿è¯¦è§£ï¼‰</p>
<h4 data-id="heading-18">æ€»ç»“è§„å¾‹</h4>
<ul>
<li>æ¯ä¸ªåŸå‹å¯¹è±¡æˆ–å®ä¾‹éƒ½æœ‰<code>.constructor</code>å±æ€§</li>
<li>å®ä¾‹é€šè¿‡åŸå‹é“¾æŸ¥æ‰¾constructor</li>
<li>åŸå‹å¯¹è±¡é»˜è®¤æŒ‡å‘è‡ªèº«çš„å‡½æ•°ï¼ˆå¦‚æœä¸æ˜¯å…¶ä»–å‡½æ•°çš„å®ä¾‹ï¼‰</li>
</ul>
<h4 data-id="heading-19">æŸ¥æ‰¾è¿‡ç¨‹ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Person.prototypeè¢«å½“ä½œå®ä¾‹æ—¶</span>
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> â†’ foo.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> â†’ <span class="hljs-title function_">foo</span>()
</code></pre>
<hr/>
<h3 data-id="heading-20">ğŸ–¼ï¸ å¯è§†åŒ–å…³ç³»å›¾</h3>
<h4 data-id="heading-21">ä¸‰è€…å…³ç³»å›¾</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0da7158ab94b47ceae930e03320e299d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=kYputO3NXnapYQgPE3dKCobRNOg%3D" alt="åŸå‹å…³ç³»å›¾" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-22">ğŸ”¬ ä»£ç éªŒè¯</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params"/>){}

<span class="hljs-comment">// åˆ›å»ºæ–°çš„åŸå‹å¯¹è±¡</span>
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"æ¨"</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-string">"18"</span>,
    <span class="hljs-attr">histype</span>: <span class="hljs-string">"sleep"</span>
}

<span class="hljs-comment">// æ·»åŠ æ–¹æ³•</span>
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">print</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>){
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ä½ å¥½æˆ‘æ˜¯åŸå‹å¯¹è±¡"</span>);
}

<span class="hljs-comment">// åˆ›å»ºå®ä¾‹</span>
<span class="hljs-keyword">const</span> person01 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();
<span class="hljs-keyword">const</span> person02 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();

<span class="hljs-comment">// éªŒè¯æŒ‡å‘</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Person.prototypeæŒ‡å‘:"</span>, <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"person01.__proto__æŒ‡å‘"</span>, person01.<span class="hljs-property">__proto__</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"person02.__proto__æŒ‡å‘"</span>, person02.<span class="hljs-property">__proto__</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Person.prototype.constructoræŒ‡å‘"</span>, <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span>)
</code></pre>
<h4 data-id="heading-23">æ‰§è¡Œç»“æœ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fb5d21f26944fe2bdd35d2319d03cbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=iYpl9%2Bpiquppx321Lmdju1TVqEQ%3D" alt="ä»£ç éªŒè¯ç»“æœ" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-24">âš ï¸ ç‰¹åˆ«è¯´æ˜</h3>
<h4 data-id="heading-25">å…³é”®ç»†èŠ‚</h4>
<p>åˆ›å»ºæ–°å¯¹è±¡æ—¶ï¼Œ<code>Person.prototype.constructor</code>æŒ‡å‘<code>Object</code>ï¼Œå› ä¸º<code>Person.prototype</code>æˆäº†<code>Object</code>çš„å®ä¾‹ã€‚</p>
<h4 data-id="heading-26">å¯¹æ¯”æƒ…å†µ</h4>
<ul>
<li><strong>åˆ›å»ºæ–°å¯¹è±¡æ—¶</strong>ï¼š<code>Person.prototype.constructor</code> â†’ <code>Object</code></li>
<li><strong>æœªåˆ›å»ºæ–°å¯¹è±¡æ—¶</strong>ï¼š<code>Person.prototype.constructor</code> â†’ <code>Person</code></li>
</ul>
<h4 data-id="heading-27">ç¤ºæ„å›¾</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c9ba507074041c288d945ed873309d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=vMMtCPQAXQ7sXQQ2yluuta1lG4s%3D" alt="æ„é€ å‡½æ•°æŒ‡å‘å¯¹æ¯”" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4365ef09062e4b80af90692c3c838d22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=Ri3KDzQBVDTXFudXhrgg8r69T0E%3D" alt="æ„é€ å‡½æ•°æŒ‡å‘å¯¹æ¯”è¯¦æƒ…" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-28">Functionå’ŒObject</h2>
<h2 data-id="heading-29">å°æ•…äº‹</h2>
<p>ä»å‰æœ‰ä¸ªåŠ›å¤§æ— ç©·çš„å¤§åŠ›ç¥ï¼Œèƒ½ä¸¾èµ·ä»»ä½•ä¸œè¥¿ï¼Œæœ‰ä¸€å¤©ï¼Œå°Aåœ¨è·¯ä¸Šå’Œè¿™ä¸ªå¤§åŠ›ç¥ç›¸é‡äº†ã€‚</p>
<p>å¤§åŠ›ç¥ï¼šå°å­ï¼Œæˆ‘å¯æ˜¯åŠ›å¤§æ— ç©·çš„å¤§åŠ›ç¥ï¼Œæˆ‘èƒ½ä¸¾èµ·ä»»ä½•ä¸œè¥¿ï¼Œä½ ä¿¡ä¸ä¿¡ï¼Ÿ</p>
<p>å°A:å‘¦å‘¦å‘¦ï¼Œè¿˜å¤§åŠ›ç¥ï¼Œä½ è¯´ä½ èƒ½ä¸¾èµ·ä»»ä½•ä¸œè¥¿ï¼Œé‚£ä½ èƒ½æŠŠä½ è‡ªå·±æŠ¬èµ·æ¥å—ï¼Ÿ</p>
<p>...</p>
<ul>
<li>
<p>Functionæ˜¯æ‰€æœ‰å‡½æ•°çš„åŠ å·¥å‚ï¼Œä½ åœ¨ä»£ç å£°æ˜çš„æ‰€æœ‰å‡½æ•°éƒ½æ˜¯Functionçš„å®ä¾‹ï¼ŒåŒ…æ‹¬Functionå‡½æ•°æœ¬èº«ï¼ŒObjectä¹Ÿæ˜¯å‡½æ•°ï¼Œæ‰€ä»¥å®ƒä¹Ÿæ˜¯Functiodçš„å®ä¾‹</p>
</li>
<li>
<p>Functionå°±æ˜¯è¿™æ ·çš„å¤§åŠ›ç¥ï¼Œè€Œä¸”æ˜¯å¯ä»¥æŠŠè‡ªå·±æŠ¬èµ·æ¥çš„å¤§åŠ›ç¥ï¼Œè¿™å¬èµ·æ¥æ¯”è¾ƒæ‰¯ï¼Œä½†æ˜¯è¿™å°±æ˜¯äº‹å®ï¼Œè¯·çœ‹VCRï¼š</p>
</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span> (){}

<span class="hljs-keyword">const</span> person01 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Function.__proto__æŒ‡å‘"</span>,<span class="hljs-title class_">Function</span>.<span class="hljs-property">__proto__</span>)<span class="hljs-comment">//Function.__proto__æŒ‡å‘ [Function (anonymous)] Object</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Function.prototypeæŒ‡å‘"</span>,<span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)<span class="hljs-comment">//Function.prototypeæŒ‡å‘ [Function (anonymous)] Object</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Function.__proto__ == Function.prototype???"</span>,<span class="hljs-title class_">Function</span>.<span class="hljs-property">__proto__</span> == <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)
<span class="hljs-comment">//Function.__proto__ == Function.prototype??? true</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f959ab9fe3a4b15a6bff89bea078b60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=s5lVNg0t3PqA7ArU8DMKUX%2FX2c8%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d522369f0bce4dcd98dd6226be71d772~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=6F9t2jUSNGy%2FEyCexsejvd78zJU%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-30">Object åœ¨ JavaScript ä¸­æ‰®æ¼”ä¸‰é‡è§’è‰²ï¼š</h2>
<ul>
<li>
<p>æ„é€ å‡½æ•°ï¼šç”¨äºåˆ›å»ºå¯¹è±¡</p>
</li>
<li>
<p>å‘½åç©ºé—´ï¼šæä¾›ä¸€ç³»åˆ—é™æ€æ–¹æ³•ç”¨äºå¯¹è±¡æ“ä½œ</p>
</li>
<li>
<p>åŸå‹ç»ˆç‚¹ï¼šObject.prototype æ˜¯æ‰€æœ‰åŸå‹é“¾çš„ç»ˆç‚¹ï¼Œåœ¨å¾€ä¸Šæ²¡æœ‰äº†ï¼Œå€¼==null</p>
</li>
</ul>
<p>è¯·çœ‹VCR:</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span> (){};

<span class="hljs-keyword">const</span> persoon01 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();
<span class="hljs-keyword">const</span> obj = {};<span class="hljs-comment">//é€šè¿‡å¯¹è±¡å­—é¢é‡{}åˆ›å»ºobjå®ä¾‹</span>
<span class="hljs-keyword">const</span> obj1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();<span class="hljs-comment">//é€šè¿‡æ„é€ å‡½æ•°new Object()åˆ›å»ºobj1å®ä¾‹</span>
<span class="hljs-keyword">const</span> obj2 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);<span class="hljs-comment">//é€šè¿‡å§”æ‰˜åˆ›å»ºï¼Œæˆ–è€…å«åŸå‹åˆ›å»ºï¼Œæ¥åˆ›å»ºobj2å®ä¾‹</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Person.prototype.__proto__æŒ‡å‘"</span>,<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span>);
<span class="hljs-comment">//Person.prototype.__proto__æŒ‡å‘ [Object: null prototype] {}</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Function.prototype.__proto__æŒ‡å‘"</span>,<span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span>)
<span class="hljs-comment">//Function.prototype.__proto__æŒ‡å‘ [Object: null prototype] {}</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"é€šè¿‡å¯¹è±¡å­—é¢é‡{}åˆ›å»ºçš„objå®ä¾‹,obj.__proto__æŒ‡å‘"</span>,obj.<span class="hljs-property">__proto__</span>);
<span class="hljs-comment">//é€šè¿‡å¯¹è±¡å­—é¢é‡{}åˆ›å»ºçš„objå®ä¾‹,obj.__proto__æŒ‡å‘ [Object: null prototype] {}</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"é€šè¿‡æ„é€ å‡½æ•°new Object()åˆ›å»ºobj1å®ä¾‹,æŒ‡å‘"</span>,obj1.<span class="hljs-property">__proto__</span>);
<span class="hljs-comment">//é€šè¿‡æ„é€ å‡½æ•°new Object()åˆ›å»ºobj1å®ä¾‹,æŒ‡å‘ [Object: null prototype] {}</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"é€šè¿‡å§”æ‰˜åˆ›å»º,æˆ–è€…å«åŸå‹åˆ›å»º,æ¥åˆ›å»ºobj2å®ä¾‹,æŒ‡å‘"</span>,obj2.<span class="hljs-property">__proto__</span>);
<span class="hljs-comment">//é€šè¿‡å§”æ‰˜åˆ›å»º,æˆ–è€…å«åŸå‹åˆ›å»º,æ¥åˆ›å»ºobj2å®ä¾‹,æŒ‡å‘ [Object: null prototype] {}</span>
</code></pre>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a57a0c9c8c19400b818089efed2e8067~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=%2Bk%2FtNQnXONsfCk2tuBC14MzpvjU%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/082ce993339a42bbb14d4a585e515e31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQVkxMDI0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135618&amp;x-signature=j7P%2BWVGh%2F3gHwmUptx92mcXLhvg%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-31">Functionå’ŒObjectçš„å…³ç³»</h2>
<ul>
<li>ç›¸äº’ä¾èµ–çš„å¾ªç¯å¼•ç”¨
<ul>
<li>
<p>Object æ˜¯ Function çš„å®ä¾‹ï¼ˆæ„é€ å‡½æ•°å±‚é¢ï¼‰</p>
</li>
<li>
<p>Function æ˜¯ Object çš„å­ç±»ï¼ˆåŸå‹ç»§æ‰¿å±‚é¢ï¼‰</p>
</li>
<li>
<p>è¿™æ˜¯ JavaScript çš„è‡ªä¸¾ï¼ˆBootstrapï¼‰æœºåˆ¶</p>
</li>
</ul>
</li>
</ul>
<p>æ ¹æ®<strong>å…³ç³»æ€»è§ˆå›¾</strong>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒFunctionå’ŒObject,å®ƒä»¬ä¸¤å½¢æˆäº†ä¸€ä¸ªé—­ç¯ï¼Œå°†æ‰€æœ‰çš„å‡½æ•°å’Œå¯¹è±¡éƒ½åŒ…è£¹åœ¨è¿™ä¸ªé—­ç¯é‡Œ</p>
<h2 data-id="heading-32">ğŸ“‹ JavaScript åŸå‹ç³»ç»Ÿæ ¸å¿ƒæ¦‚å¿µè¡¨</h2>















































<table><thead><tr><th>æ¦‚å¿µ</th><th>æè¿°</th><th>ç¤ºä¾‹</th><th>ç‰¹æ®Šè¯´æ˜</th></tr></thead><tbody><tr><td><strong>prototype</strong></td><td>å‡½æ•°ç‰¹æœ‰ï¼ŒæŒ‡å‘åŸå‹å¯¹è±¡</td><td><code>Person.prototype</code></td><td>åªæœ‰å‡½æ•°å¯¹è±¡æ‰æœ‰æ­¤å±æ€§</td></tr><tr><td><strong><strong>proto</strong></strong></td><td>æ‰€æœ‰å¯¹è±¡éƒ½æœ‰ï¼ŒæŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹</td><td><code>person.__proto__</code></td><td>å®é™…åº”ä½¿ç”¨ <code>Object.getPrototypeOf()</code></td></tr><tr><td><strong>constructor</strong></td><td>æŒ‡å‘åˆ›å»ºè¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°</td><td><code>Person.prototype.constructor</code></td><td>å¯è¢«ä¿®æ”¹ï¼ŒæŸ¥æ‰¾æ—¶æ²¿åŸå‹é“¾è¿›è¡Œ</td></tr><tr><td><strong>åŸå‹é“¾æŸ¥æ‰¾</strong></td><td>é€šè¿‡ <code>__proto__</code> é€çº§å‘ä¸ŠæŸ¥æ‰¾</td><td><code>person.__proto__.__proto__</code></td><td>ç»ˆç‚¹ä¸º <code>null</code></td></tr><tr><td><strong>Function</strong></td><td>æ‰€æœ‰å‡½æ•°çš„æ„é€ å‡½æ•°</td><td><code>Function.prototype</code></td><td><code>Function.__proto__ === Function.prototype</code></td></tr><tr><td><strong>Object</strong></td><td>æ‰€æœ‰å¯¹è±¡çš„åŸºç±»</td><td><code>Object.prototype</code></td><td>åŸå‹é“¾ç»ˆç‚¹ï¼Œ<code>Object.prototype.__proto__ === null</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-33">ğŸ” è¡¥å……è¯´æ˜</h3>
<h4 data-id="heading-34"><strong>prototype è¡¥å……</strong></h4>
<ul>
<li>å‡½æ•°çš„ <code>prototype</code> å±æ€§é»˜è®¤åŒ…å« <code>constructor</code> å±æ€§æŒ‡å‘å‡½æ•°è‡ªèº«</li>
<li>ç”¨äºå®ç°åŸºäºåŸå‹çš„ç»§æ‰¿</li>
</ul>
<h4 data-id="heading-35"><strong><strong>proto</strong> è¡¥å……</strong></h4>
<ul>
<li>ç°åœ¨æ›´æ¨èä½¿ç”¨ <code>Object.getPrototypeOf(obj)</code> å’Œ <code>Object.setPrototypeOf(obj, proto)</code></li>
<li><code>__proto__</code> æ˜¯è®¿é—®å™¨å±æ€§ï¼Œä¸æ˜¯æ•°æ®å±æ€§</li>
</ul>
<h4 data-id="heading-36"><strong>constructor è¡¥å……</strong></h4>
<ul>
<li><code>constructor</code> å±æ€§å¯ä»¥é€šè¿‡åŸå‹é“¾æŸ¥æ‰¾</li>
<li>ç¤ºä¾‹ï¼š<code>person.constructor === Person</code>ï¼ˆå®é™…æŸ¥æ‰¾çš„æ˜¯ <code>person.__proto__.constructor</code>ï¼‰</li>
</ul>
<h4 data-id="heading-37"><strong>åŸå‹é“¾æŸ¥æ‰¾è¡¥å……</strong></h4>
<ul>
<li>å½“è®¿é—®å¯¹è±¡å±æ€§æ—¶ï¼Œå¦‚æœå¯¹è±¡è‡ªèº«æ²¡æœ‰ï¼Œä¼šæ²¿ç€åŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾</li>
<li>ç›´åˆ°æ‰¾åˆ°è¯¥å±æ€§æˆ–åˆ°è¾¾åŸå‹é“¾ç»ˆç‚¹ <code>null</code></li>
</ul>
<h4 data-id="heading-38"><strong>Function è¡¥å……</strong></h4>
<ul>
<li>æ˜¯æ‰€æœ‰å‡½æ•°çš„æ„é€ å‡½æ•°ï¼ŒåŒ…æ‹¬å†…ç½®æ„é€ å‡½æ•°ï¼ˆObjectã€Arrayç­‰ï¼‰å’Œè‡ªå®šä¹‰å‡½æ•°</li>
<li>è‡ªèº«ä¹Ÿæ˜¯å‡½æ•°ï¼Œæ‰€ä»¥ <code>Function.__proto__ === Function.prototype</code></li>
</ul>
<h4 data-id="heading-39"><strong>Object è¡¥å……</strong></h4>
<ul>
<li><code>Object.prototype</code> æ˜¯æ‰€æœ‰åŸå‹é“¾çš„æœ€ç»ˆåŸå‹å¯¹è±¡</li>
<li>é€šè¿‡ <code>Object.create(null)</code> å¯ä»¥åˆ›å»ºæ²¡æœ‰åŸå‹çš„"çº¯å‡€å¯¹è±¡"</li>
</ul>
<h4 data-id="heading-40">ğŸ’¡ è®°å¿†å£è¯€</h4>
<ul>
<li><strong>å‡½æ•°çœ‹prototypeï¼Œå®ä¾‹çœ‹__proto__</strong></li>
<li><strong>constructoræ‰¾æ ¹æºï¼ŒåŸå‹é“¾ä¸Šå¯»ç­”æ¡ˆ</strong></li>
<li><strong>Objectæ˜¯ç»ˆç‚¹ï¼ŒFunctionæ˜¯å…³é”®</strong></li>
</ul>
<h2 data-id="heading-41">ç»“è¯­ï¼š</h2>
<p>çœ‹å®Œè¿™ç¯‡æ–‡ç« ï¼Œä½ åº”è¯¥å¯ä»¥è¯»æ‡‚ä¸Šé¢çš„å…³ç³»æ€»è§ˆå›¾äº†ï¼Œæœ›å­¦ä¹ æ„‰å¿«ï¼ï¼ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[HTMLæ ‡ç­¾ - è¡¨æ ¼æ ‡ç­¾]]></title>    <link>https://juejin.cn/post/7582786655472779307</link>    <guid>https://juejin.cn/post/7582786655472779307</guid>    <pubDate>2025-12-12T08:46:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582786655472779307" data-draft-id="7582516300050235419" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="HTMLæ ‡ç­¾ - è¡¨æ ¼æ ‡ç­¾"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-12T08:46:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GinoWi"/> <meta itemprop="url" content="https://juejin.cn/user/687651121011707"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            HTMLæ ‡ç­¾ - è¡¨æ ¼æ ‡ç­¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/687651121011707/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GinoWi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T08:46:36.000Z" title="Fri Dec 12 2025 08:46:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><h2 data-id="heading-0">HTMLæ ‡ç­¾ - è¡¨æ ¼æ ‡ç­¾</h2>
<p>åœ¨è¿‡å»ç½‘ç«™å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè¡¨æ ¼æ ‡ç­¾çš„ä½¿ç”¨æ˜¯éå¸¸éå¸¸å¤šï¼Œç»å¤§å¤šæ•°çš„ç½‘ç«™éƒ½æ˜¯ä½¿ç”¨è¡¨æ ¼æ ‡ç­¾æ¥åˆ¶ä½œçš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¡¨æ ¼æ ‡ç­¾æ˜¯ä¸€ä¸ªæ—¶ä»£çš„ä»£è¡¨ã€‚</p>
<h4 data-id="heading-1">ä»€ä¹ˆæ˜¯è¡¨æ ¼æ ‡ç­¾ï¼Ÿ</h4>
<p>è¡¨æ ¼æ ‡ç­¾çš„ä½œç”¨æ˜¯ç”¨æ¥ç»™ä¸€å †æ•°æ®<strong>æ·»åŠ è¡¨æ ¼è¯­ä¹‰</strong>ï¼Œå…¶å®è¡¨æ ¼æ˜¯ä¸€ç§æ•°æ®çš„å±•ç°å½¢å¼ï¼Œå½“æ•°æ®é‡éå¸¸å¤§çš„æ—¶å€™ï¼Œè¡¨æ ¼è¿™ç§å±•ç°å½¢å¼è¢«è®¤ä¸ºæ˜¯æœ€ä¸ºæ¸…æ™°çš„ä¸€ç§å±•ç°å½¢å¼ã€‚</p>
<h4 data-id="heading-2">è¡¨æ ¼ç»“æ„</h4>
<p>ç”±äºè¡¨æ ¼ä¸­å­˜å‚¨çš„æ•°æ®æ¯”è¾ƒå¤æ‚ï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†ã€é˜…è¯»ä»¥åŠæå‡è¯­ä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹è¡¨æ ¼ä¸­å­˜å‚¨çš„æ•°æ®è¿›è¡Œåˆ†ç±»ã€‚</p>
<ul>
<li>
<p>è¡¨æ ¼ä¸­å­˜å‚¨çš„æ•°æ®å¯ä»¥åˆ†ä¸ºå››ç±»ï¼š</p>
<ol>
<li>è¡¨æ ¼æ ‡é¢˜</li>
<li>è¡¨æ ¼è¡¨å¤´</li>
<li>è¡¨æ ¼ä¸»ä½“</li>
<li>è¡¨æ ¼çš„é¡µå°¾ä¿¡æ¯</li>
</ol>
</li>
<li>
<p>è¡¨æ ¼å®Œæ•´ç»“æ„</p>
</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">caption</span>&gt;</span>è¡¨æ ¼çš„æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">caption</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>æ¯ä¸€åˆ—çš„æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tfoot</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tfoot</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<h4 data-id="heading-3">è¡¨æ ¼æ ‡ç­¾</h4>
<ul>
<li>
<p><code>table</code>æ ‡ç­¾</p>
<ul>
<li>ä½œç”¨ï¼šè¡¨æ ¼æ ‡ç­¾ä¸­çš„<code>table</code>ä»£è¡¨æ•´ä¸ªè¡¨æ ¼ï¼Œä¹Ÿå°±æ˜¯ä¸€å¯¹<code>table</code>æ ‡ç­¾å°±æ˜¯ä¸€ä¸ªè¡¨æ ¼ã€‚</li>
</ul>
</li>
<li>
<p><code>tr</code>æ ‡ç­¾</p>
<ul>
<li>ä½œç”¨ï¼šè¡¨æ ¼æ ‡ç­¾çš„<code>tr</code>ä»£è¡¨è¡¨æ ¼ä¸­çš„ä¸€è¡Œæ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€å¯¹<code>tr</code>æ ‡ç­¾å°±æ˜¯è¡¨æ ¼ä¸­çš„ä¸€è¡Œã€‚</li>
</ul>
</li>
<li>
<p><code>td</code>æ ‡ç­¾</p>
<ul>
<li>ä½œç”¨ï¼šè¡¨æ ¼æ ‡ç­¾ä¸­çš„<code>td</code>æ ‡ç­¾ä»£è¡¨è¡¨æ ¼ä¸­çš„ä¸€ä¸ªå•å…ƒæ ¼ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€å¯¹<code>td</code>æ ‡ç­¾å°±æ˜¯è¡¨æ ¼ä¸­çš„ä¸€ä¸ªå•å…ƒæ ¼ã€‚</li>
</ul>
</li>
<li>
<p><code>caption</code>æ ‡ç­¾</p>
<ul>
<li>ä½œç”¨ï¼šåœ¨è¡¨æ ¼æ ‡ç­¾ä¸­æä¾›äº†ä¸€ä¸ªæ ‡ç­¾ä¸“é—¨ç”¨æ¥è®¾ç½®è¡¨æ ¼çš„æ ‡é¢˜ï¼Œè¿™ä¸ªæ ‡ç­¾å«åš<code>caption</code>ã€‚åªè¦å°†æ ‡é¢˜å†™åœ¨<code>caption</code>æ ‡ç­¾ä¸­ï¼Œé‚£ä¹ˆæ ‡é¢˜å°±ä¼šè‡ªåŠ¨ç›¸å¯¹äºè¡¨æ ¼çš„å®½åº¦å±…ä¸­ã€‚</li>
<li>æ³¨æ„ç‚¹ï¼š
<ul>
<li><code>caption</code>æ ‡ç­¾ä¸€å®šè¦å†™åœ¨<code>table</code>æ ‡ç­¾ä¸­ï¼Œå¦åˆ™æ— æ•ˆã€‚</li>
<li><code>caption</code>ä¸€å®šè¦ç´§è·Ÿåœ¨<code>table</code>æ ‡ç­¾åé¢ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>th</code>æ ‡ç­¾</p>
<ul>
<li>ä½œç”¨ï¼šåœ¨è¡¨æ ¼æ ‡ç­¾ä¸­æä¾›äº†ä¸€ä¸ªæ ‡ç­¾ä¸“é—¨ç”¨æ¥å±•ç¤ºæ¯ä¸€åˆ—çš„æ ‡é¢˜ï¼Œè¿™ä¸ªæ ‡ç­¾å«åš<code>th</code>æ ‡ç­¾ï¼Œåªè¦ä½¿ç”¨<code>th</code>æ ‡ç­¾å±•ç°å½“å‰åˆ—çš„æ ‡é¢˜ï¼Œè¿™æ—¶æ ‡é¢˜å°±ä¼šåœ¨è¯¥æ ‡ç­¾å•å…ƒæ ¼ä¸­è‡ªåŠ¨å±…ä¸­ã€‚</li>
</ul>
</li>
<li>
<p><code>thead</code>æ ‡ç­¾</p>
<ul>
<li>ä½œç”¨ï¼šæŒ‡å®šè¡¨æ ¼è¡¨å¤´ä¿¡æ¯ã€‚</li>
</ul>
</li>
<li>
<p><code>tbody</code>æ ‡ç­¾</p>
<ul>
<li>ä½œç”¨ï¼šæŒ‡å®šè¡¨æ ¼ä¸»ä½“ä¿¡æ¯ã€‚</li>
<li>æ³¨æ„ç‚¹ï¼šå¦‚æœæˆ‘ä»¬æ²¡æœ‰ç¼–å†™<code>tbody</code>ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç»™æˆ‘é—¨æ·»åŠ <code>tbody</code></li>
</ul>
</li>
<li>
<p><code>tfoot</code>æ ‡ç­¾</p>
<ul>
<li>ä½œç”¨ï¼šæŒ‡å®šè¡¨æ ¼é™„åŠ ä¿¡æ¯ã€‚</li>
<li>æ³¨æ„ç‚¹ï¼šå¦‚æœæŒ‡å®šäº†<code>thead</code>å’Œ<code>tfoot</code>ï¼Œé‚£ä¹ˆåœ¨ä¿®æ”¹æ•´ä¸ªè¡¨æ ¼çš„é«˜åº¦æ—¶ï¼Œ<code>thead</code>å’Œ<code>tfoot</code>æœ‰è‡ªå·±çš„é»˜è®¤é«˜åº¦ï¼Œä¸ä¼šéšç€è¡¨æ ¼çš„é«˜åº¦å˜åŒ–è€Œå˜åŒ–ã€‚</li>
</ul>
</li>
</ul>
<p>æ€»ç»“ï¼š</p>
<ul>
<li>
<p>è¡¨æ ¼æ ‡ç­¾æœ‰ä¸€ä¸ªè¾¹æ¡†å±æ€§ï¼Œè¿™ä¸ªå±æ€§å†³å®šäº†è¾¹æ¡†çš„å®½åº¦ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿™ä¸ªå±æ€§çš„å€¼æ˜¯0ï¼Œæ‰€ä»¥çœ‹ä¸åˆ°è¾¹æ¡†ã€‚</p>
</li>
<li>
<p>è¡¨æ ¼æ ‡ç­¾å’Œåˆ—è¡¨æ ‡ç­¾ä¸€æ ·ï¼Œå®ƒæ˜¯ä¸€ä¸ªç»„åˆæ ‡ç­¾ï¼Œæ‰€ä»¥<code>table/tr/td</code>è¦ä¹ˆä¸€èµ·å‡ºç°ï¼Œè¦ä¹ˆä¸€èµ·ä¸å‡ºç°ï¼Œä¸ä¼šå•ç‹¬å‡ºç°ã€‚</p>
</li>
<li>
<p>è¡¨æ ¼ä¸­æœ‰ä¸¤ç§å•å…ƒæ ¼ï¼Œä¸€ç§æ˜¯<code>td</code>ï¼Œä¸€ç§æ˜¯<code>th</code>ï¼Œ<code>td</code>æ˜¯ä¸“é—¨ç”¨æ¥å­˜å‚¨æ•°æ®çš„ï¼Œ<code>th</code>æ˜¯ä¸“é—¨ç”¨æ¥å­˜å‚¨å½“å‰åˆ—çš„æ ‡é¢˜çš„ã€‚</p>
</li>
</ul>
<h4 data-id="heading-4">è¡¨æ ¼æ ‡ç­¾çš„å±æ€§ï¼ˆè¿™éƒ¨åˆ†å†…å®¹ä»…ä¸ºäº†è§£ï¼Œä»¥åå‡é€šè¿‡CSSæ¥è¿›è¡Œä¿®æ”¹ï¼‰ï¼š</h4>
<ul>
<li>
<p>å®½åº¦å’Œé«˜åº¦çš„å±æ€§ï¼ˆå¯ä»¥ç»™<code>table</code>æ ‡ç­¾å’Œ<code>td</code>æ ‡ç­¾ä½¿ç”¨ï¼‰</p>
<ul>
<li>è¡¨æ ¼çš„å®½åº¦å’Œé«˜åº¦é»˜è®¤æŒ‰ç…§å†…å®¹å°ºå¯¸è°ƒæ•´ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç»™<code>table</code>æ ‡ç­¾è®¾ç½®<code>width/height</code>å±æ€§çš„æ–¹å¼æ¥æ‰‹åŠ¨æŒ‡å®šè¡¨æ ¼å®½é«˜ã€‚</li>
<li>å¦‚æœç»™<code>td</code>æ ‡ç­¾è®¾ç½®<code>width/height</code>å±æ€§ï¼Œä¼šä¿®æ”¹å½“å‰å•å…ƒæ ¼çš„å®½åº¦ï¼ˆä¼šåŒæ—¶å½±å“å½“å‰åˆ—å•å…ƒæ ¼å®½åº¦ï¼‰å’Œé«˜åº¦ï¼ˆä¼šåŒæ—¶å½±å“å½“å‰è¡Œå•å…ƒæ ¼é«˜åº¦ï¼‰ï¼Œä¸ä¼šå½±å“æ•´ä¸ªè¡¨æ ¼çš„å®½åº¦å’Œé«˜åº¦ã€‚
<ul>
<li>å½“ç»™ä¸€è¡Œä¸­ä¸åŒå•å…ƒæ ¼è®¾ç½®ä¸åŒçš„<code>height</code>å±æ€§ï¼Œä¿ç•™ä¸€è¡Œä¸­é«˜åº¦æœ€é«˜çš„å±æ€§å€¼ä½œä¸ºè¯¥è¡Œå•å…ƒæ ¼çš„é«˜åº¦ã€‚</li>
<li>å½“ç»™ä¸€åˆ—ä¸­ä¸åŒå•å…ƒæ ¼è®¾ç½®ä¸åŒçš„<code>width</code>å±æ€§ï¼Œä¿ç•™ä¸€è¡Œä¸­å®½åº¦æœ€å®½çš„å±æ€§å€¼ä½œä¸ºè¯¥åˆ—å•å…ƒæ ¼çš„å®½åº¦ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p>æ°´å¹³å¯¹é½å’Œå‚ç›´å¯¹é½çš„å±æ€§ï¼ˆå…¶ä¸­æ°´å¹³å¯¹é½å¯ä»¥ç»™<code>table</code>æ ‡ç­¾å’Œ<code>tr</code>æ ‡ç­¾å’Œ<code>td</code>æ ‡ç­¾ä½¿ç”¨ï¼Œå‚ç›´å¯¹é½åªèƒ½ç»™<code>tr</code>æ ‡ç­¾å’Œ<code>td</code>æ ‡ç­¾ä½¿ç”¨ï¼‰</p>
<ul>
<li>ç»™<code>table</code>æ ‡ç­¾è®¾ç½®<code>align</code>å±æ€§ï¼Œå¯ä»¥æ§åˆ¶è¡¨æ ¼åœ¨æ°´å¹³æ–¹å‘çš„å¯¹é½æ–¹å¼ã€‚</li>
<li>ç»™<code>tr</code>æ ‡ç­¾è®¾ç½®<code>align</code>å±æ€§ï¼Œå¯ä»¥æ§åˆ¶å½“å‰è¡Œä¸­æ‰€æœ‰å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³æ–¹å‘å¯¹é½æ–¹å¼ã€‚</li>
<li>ç»™<code>td</code>æ ‡ç­¾è®¾ç½®<code>align</code>å±æ€§ï¼Œå¯ä»¥æ§åˆ¶å½“å‰å•å…ƒæ ¼ä¸­å†…å®¹åœ¨æ°´å¹³æ–¹å‘çš„å¯¹é½æ–¹å¼ï¼ˆå¦‚æœ<code>td</code>æ ‡ç­¾ä¸­è®¾ç½®äº†<code>align</code>å±æ€§ï¼Œ<code>tr</code>ä¸­ä¹Ÿè®¾ç½®äº†<code>align</code>å±æ€§ï¼Œé‚£ä¹ˆå•å…ƒæ ¼ä¸­çš„å†…å®¹ä¼šæŒ‰ç…§<code>td</code>ä¸­è®¾ç½®çš„æ¥å¯¹é½ï¼‰ã€‚</li>
<li>ç»™<code>tr</code>æ ‡ç­¾è®¾ç½®<code>valign</code>å±æ€§ï¼Œå¯ä»¥æ§åˆ¶å½“å‰è¡Œä¸­æ‰€æœ‰å•å…ƒæ ¼å†…å®¹çš„å‚ç›´æ–¹å‘å¯¹é½æ–¹å¼ã€‚</li>
<li>ç»™<code>td</code>æ ‡ç­¾è®¾ç½®<code>valign</code>å±æ€§ï¼Œå¯ä»¥æ§åˆ¶å½“å‰å•å…ƒæ ¼ä¸­å†…å®¹åœ¨å‚ç›´æ–¹å‘å¯¹é½æ–¹å¼ã€‚ï¼ˆå¦‚æœ<code>td</code>æ ‡ç­¾ä¸­è®¾ç½®äº†<code>valign</code>å±æ€§ï¼Œ<code>tr</code>ä¸­ä¹Ÿè®¾ç½®äº†<code>valign</code>å±æ€§ï¼Œé‚£ä¹ˆå•å…ƒæ ¼ä¸­çš„å†…å®¹ä¼šæŒ‰ç…§<code>td</code>ä¸­è®¾ç½®çš„æ¥å¯¹é½ã€‚</li>
</ul>
</li>
<li>
<p>å¤–è¾¹è·å’Œå†…è¾¹è·çš„å±æ€§ï¼ˆåªèƒ½ç»™<code>table</code>æ ‡ç­¾ä½¿ç”¨ï¼‰</p>
<ul>
<li>å¤–è¾¹è·ï¼ˆcellspacingï¼‰å°±æ˜¯å•å…ƒæ ¼å’Œå•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»ï¼ˆé»˜è®¤æƒ…å†µä¸‹å•å…ƒæ ¼ä¸å•å…ƒæ ¼çš„å¤–è¾¹è·æ˜¯2pxï¼‰</li>
<li>å†…è¾¹è·ï¼ˆcellpaddingï¼‰å°±æ˜¯æ–‡å­—è·ç¦»å•å…ƒæ ¼ä¹‹é—´çš„è·ç¦»ï¼ˆé»˜è®¤æƒ…å†µä¸‹å†…è¾¹è·æ˜¯1pxï¼‰</li>
</ul>
</li>
<li>
<p>é€šè¿‡å±æ€§è®¾ç½®å®Œæˆç»†çº¿è¡¨æ ¼çš„ç»˜åˆ¶ï¼š</p>
<ul>
<li>
<p>åœ¨è¡¨æ ¼æ ‡ç­¾ä¸­æƒ³é€šè¿‡æŒ‡å®šå¤–è¾¹è·ä¸º0æ¥å®ç°ç»†çº¿è¡¨æ ¼æ˜¯ä¸é è°±çš„ï¼Œå…¶å®å®ƒæ˜¯å°†2æ¡åˆå¹¶ä¸ºäº†ä¸€æ¡çº¿ï¼Œæ‰€ä»¥çœ‹ä¸Šå»å¾ˆä¸èˆ’æœã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eee691f1461c41efbca084b48b46365a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2lub1dp:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766134384&amp;x-signature=HFYD59BvxoRfHXhIo7Z8t%2F%2BpMDU%3D" alt="é€šè¿‡è®¾ç½®å¤–è¾¹è·å®ç°çš„è¡¨æ ¼" loading="lazy"/></p>
</li>
<li>
<p>ç»†çº¿è¡¨æ ¼çš„åˆ¶ä½œæ–¹å¼ï¼šï¼ˆ<code>table</code>æ ‡ç­¾ã€<code>tr</code>æ ‡ç­¾ä»¥åŠ<code>td</code>æ ‡ç­¾éƒ½æ”¯æŒ<code>bgcolor</code>å±æ€§ï¼Œä½†æ˜¯æ ·å¼ä»¥åé€šè¿‡csså®Œæˆæ§åˆ¶ã€‚ï¼‰</p>
<ol>
<li>ç»™<code>table</code>æ ‡ç­¾è®¾ç½®<code>bgcolor</code>å±æ€§</li>
<li>ç»™<code>tr</code>æ ‡ç­¾è®¾ç½®<code>bgcolor</code>å±æ€§</li>
<li>ç»™<code>table</code>æ ‡ç­¾è®¾ç½®<code>cellspacing="1px"</code></li>
</ol>
</li>
<li>
<p>ä»£ç ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">bgcolor</span>=<span class="hljs-string">"black"</span> <span class="hljs-attr">cellspacing</span>=<span class="hljs-string">"1px"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"500px"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"300px"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">bgcolor</span>=<span class="hljs-string">"white"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">bgcolor</span>=<span class="hljs-string">"white"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">bgcolor</span>=<span class="hljs-string">"white"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<ul>
<li>
<p>æ•ˆæœå±•ç¤ºï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b3c4a13da9f485a9397019c040decd4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR2lub1dp:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766134384&amp;x-signature=XMHdVs2w3CJ%2BaPaWWcRmUB0qsao%3D" alt="é€šè¿‡è®¾ç½®èƒŒæ™¯é¢œè‰²å®ç°çš„è¡¨æ ¼" loading="lazy"/></p>
<p>é€šè¿‡æ”¾å¤§æ¯”è¾ƒä¸Šè¿°ä¸¤å¼ è¡¨æ ¼å›¾ç‰‡ï¼Œå°±èƒ½å¤Ÿå¾ˆæ˜æ˜¾çš„çœ‹å‡ºè¡¨æ ¼è¾¹æ¡†çš„å·®åˆ«ã€‚</p>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-5">å•å…ƒæ ¼åˆå¹¶</h4>
<ul>
<li>
<p>æ°´å¹³æ–¹å‘ä¸Šçš„å•å…ƒæ ¼åˆå¹¶</p>
<ul>
<li>å¯ä»¥ç»™<code>td</code>æ ‡ç­¾æ·»åŠ <code>colspan</code>å±æ€§ï¼ŒæŠŠæŸä¸€ä¸ªå•å…ƒæ ¼å½“ä½œå¤šä¸ªå•å…ƒæ ¼æ¥çœ‹å¾…ï¼ˆæ°´å¹³ï¼‰ã€‚</li>
<li>æ ¼å¼ï¼š<code>&lt;td colspan="2"&gt;&lt;/td&gt;</code>å«ä¹‰ï¼šæŠŠå½“å‰å•å…ƒæ ¼å½“ä½œä¸¤ä¸ªå•å…ƒæ ¼æ¥çœ‹å¾…ã€‚</li>
<li>æ³¨æ„ç‚¹ï¼š
<ul>
<li>ç”±äºæŠŠæŸä¸€ä¸ªå•å…ƒæ ¼å½“ä½œå¤šä¸ªå•å…ƒæ ¼æ¥çœ‹å¾…ï¼Œæ‰€ä»¥å°±ä¼šå¤šå‡ºä¸€äº›å•å…ƒæ ¼ï¼Œéœ€è¦åˆ æ‰ä¸€äº›å•å…ƒæ ¼ç¡®ä¿è¡¨æ ¼æ­£å¸¸æ˜¾ç¤ºã€‚</li>
<li>å•å…ƒæ ¼åˆå¹¶æ°¸è¿œéƒ½æ˜¯å‘åæˆ–è€…å‘ä¸‹åˆå¹¶ï¼Œè€Œä¸èƒ½å‘å‰æˆ–è€…å‘ä¸Šåˆå¹¶ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p>å‚ç›´æ–¹å‘ä¸Šçš„å•å…ƒæ ¼åˆå¹¶</p>
<ul>
<li>å¯ä»¥ç»™<code>td</code>æ ‡ç­¾æ·»åŠ <code>rowspan</code>å±æ€§ï¼ŒæŠŠæŸä¸€ä¸ªå•å…ƒæ ¼å½“ä½œå¤šä¸ªå•å…ƒæ ¼æ¥çœ‹å¾…ï¼ˆå‚ç›´ï¼‰ã€‚</li>
<li>æ ¼å¼ï¼š<code>&lt;td rowspan="2"&gt;&lt;/td&gt;</code>å«ä¹‰ï¼šæŠŠå½“å‰å•å…ƒæ ¼å½“ä½œä¸¤ä¸ªå•å…ƒæ ¼æ¥çœ‹å¾…ã€‚</li>
<li>æ³¨æ„ç‚¹ï¼š
<ul>
<li>ç”±äºæŠŠæŸä¸€ä¸ªå•å…ƒæ ¼å½“ä½œå¤šä¸ªå•å…ƒæ ¼æ¥çœ‹å¾…ï¼Œæ‰€ä»¥å°±ä¼šå¤šå‡ºä¸€äº›å•å…ƒæ ¼ï¼Œéœ€è¦åˆ æ‰ä¸€äº›å•å…ƒæ ¼ç¡®ä¿è¡¨æ ¼æ­£å¸¸æ˜¾ç¤ºã€‚</li>
<li>å•å…ƒæ ¼åˆå¹¶æ°¸è¿œéƒ½æ˜¯å‘åæˆ–è€…å‘ä¸‹åˆå¹¶ï¼Œè€Œä¸èƒ½å‘å‰æˆ–è€…å‘ä¸Šåˆå¹¶ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>å‚è€ƒé“¾æ¥ï¼š</strong></p>
<p>W3Schoolå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3school.com.cn%2F" target="_blank" title="https://www.w3school.com.cn/" ref="nofollow noopener noreferrer">www.w3school.com.cn</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[BlackstoneOne å®ç°ä¸šåŠ¡åå€å¢é•¿]]></title>    <link>https://juejin.cn/post/7582539701147271209</link>    <guid>https://juejin.cn/post/7582539701147271209</guid>    <pubDate>2025-12-12T07:36:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582539701147271209" data-draft-id="7582535649276428329" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="BlackstoneOne å®ç°ä¸šåŠ¡åå€å¢é•¿"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,äº‘è®¡ç®—"/> <meta itemprop="datePublished" content="2025-12-12T07:36:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AKAMAI"/> <meta itemprop="url" content="https://juejin.cn/user/829502942352628"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            BlackstoneOne å®ç°ä¸šåŠ¡åå€å¢é•¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/829502942352628/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AKAMAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T07:36:30.000Z" title="Fri Dec 12 2025 07:36:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>"åœ¨æˆ‘ä»¬å‘å±•çš„æ¯ä¸ªé˜¶æ®µï¼ŒAkamaiå§‹ç»ˆç›¸ä¼´ã€‚ä»å¯é¢„æµ‹çš„å®šä»·åˆ°åŒºåŸŸæŠ€æœ¯æ”¯æŒï¼Œå†åˆ°ä¾¿æ·çš„ä½¿ç”¨ä½“éªŒï¼Œå®ƒå·²æˆä¸ºæˆ‘ä»¬è®©ä¸­å°ä¼ä¸šä¹Ÿèƒ½äº«å—é«˜æ•ˆITå®‰å…¨æœåŠ¡è¿™ä¸€å¾ç¨‹ä¸­ä¸å¯æˆ–ç¼ºçš„ä¼™ä¼´ã€‚"</p>
<p>â€”â€”BlackstoneOne åˆä¼™äººå…¼é«˜çº§å¼€å‘å·¥ç¨‹å¸ˆ Jacob HonorÃ©</p>
</blockquote>
<h4 data-id="heading-0"><strong><strong>ä¸ºä¸­å°ä¼ä¸šç®€åŒ–ITå®‰å…¨é˜²æŠ¤</strong></strong></h4>
<p>BlackstoneOneè‡´åŠ›äºé©æ–°ä¸­å°ä¼ä¸šçš„ITå®‰å…¨é˜²æŠ¤ï¼Œæä¾›å…ˆè¿›çš„æ¼æ´ç®¡ç†ä¸æ”»å‡»é¢ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚2019å¹´ï¼Œåˆä¼™äººå…¼é«˜çº§å¼€å‘å·¥ç¨‹å¸ˆJacob HonorÃ©ç¦»å¼€å¾·å‹¤ï¼ŒåŠ å…¥BlackstoneOneå¹¶è‚©è´Ÿèµ·ç®¡ç†å…¬å¸æŠ€æœ¯åŸºç¡€è®¾æ–½çš„é‡ä»»â€”â€”è¿™å¥—åŸºç¡€è®¾æ–½å½“æ—¶å·²éƒ¨ç½²åœ¨Akamai<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fglossary%2Fwhat-is-a-cloud-platform%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_251212_external1_blogarticles235" target="_blank" title="https://www.akamai.com/zh/glossary/what-is-a-cloud-platform?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_251212_external1_blogarticles235" ref="nofollow noopener noreferrer">äº‘è®¡ç®—å¹³å°</a>æœåŠ¡ï¼ˆå‰èº«ä¸ºLinodeï¼‰ä¹‹ä¸Šã€‚ä»–çš„æ ¸å¿ƒä»»åŠ¡å°±æ˜¯æ‰©å±•å…¬å¸è§£å†³æ–¹æ¡ˆï¼Œä»¥æ»¡è¶³å¿«é€Ÿå¢é•¿çš„å®¢æˆ·ç¾¤ä½“éœ€æ±‚ã€‚</p>
<p>åœ¨çŸ­çŸ­äº”å¹´å†…ï¼ŒBlackstoneOneä¸ä»…å®¢æˆ·æ•°é‡å¢é•¿åå€ï¼Œè¿˜æˆåŠŸå¼€æ‹“äº†æ–°å¸‚åœºï¼Œæ¨å‡ºäº†AIé©±åŠ¨æ´å¯Ÿç­‰é«˜çº§åŠŸèƒ½ä»¥åŠæ”»å‡»é¢ç®¡ç†ç­‰é‡ç‚¹æ–¹æ¡ˆã€‚æ‰€æœ‰è¿™äº›æˆå°±ï¼Œéƒ½ä¾æ‰˜äºAkamaiå¹³å°å®ç°ã€‚</p>
<p>å½“Akamaiæ”¶è´­Linodeæ—¶ï¼ŒBlackstoneOneæ›¾æœ‰è¿‡ç–‘è™‘ã€‚ä½†æ— ç¼çš„è¿‡æ¸¡å’Œæ–°åŠŸèƒ½çš„å¿«é€Ÿæ¨å‡ºå¾ˆå¿«æ‰“æ¶ˆäº†ä»–ä»¬çš„é¡¾è™‘ã€‚"æ”¶è´­åæœåŠ¡å’Œæ”¯æŒåè€Œæ›´ä¸Šä¸€å±‚æ¥¼ï¼Œ"HonorÃ©è¡¨ç¤ºï¼Œ"è™šæ‹Ÿç§æœ‰äº‘å’Œæ‰˜ç®¡æ•°æ®åº“ç­‰åŠŸèƒ½å¯¹æˆ‘ä»¬å…·æœ‰é©å‘½æ€§æ„ä¹‰ã€‚"</p>
<h4 data-id="heading-1"><strong><strong>åº”å¯¹å®‰å…¨ä¸šåŠ¡è§„æ¨¡åŒ–æŒ‘æˆ˜</strong></strong></h4>
<p>è‡ª2015å¹´æˆç«‹ä»¥æ¥ï¼ŒBlackstoneOneä»æœåŠ¡ä¸¹éº¦30å®¶å®¢æˆ·ï¼Œå·²æ‰©å±•è‡³ä¸¹éº¦ã€æŒªå¨ã€ç‘å…¸ã€å¾·å›½å’Œæ ¼é™µå…°çš„350å¤šå®¶å®¢æˆ·ã€‚å…¬å¸çš„æ„¿æ™¯æ˜¯ï¼šç®€åŒ–æ¼æ´ç®¡ç†ï¼Œé™ä½é£é™©ï¼Œè®©ä¼ä¸šç”¨ä¸Šæ—¢å¼ºå¤§åˆæ˜“ç”¨çš„å®‰å…¨å·¥å…·ã€‚</p>
<p>æ‰©å±•ITè§£å†³æ–¹æ¡ˆç»éæ˜“äº‹ï¼Œä½†Akamaiè®©å®ƒå˜å¾—å¯æ§ã€‚"Akamaiäº‘è®¡ç®—è®©æ‰©å±•å˜å¾—ç®€å•ã€‚æˆ‘ä»¬å®ç°äº†å·¨å¤§å¢é•¿ï¼Œè€ŒAkamaiå§‹ç»ˆç›¸ä¼´ï¼Œæä¾›æ‰€éœ€çš„åŠŸèƒ½å’Œå¯é æ€§ï¼Œä¸”æ²¡æœ‰å¸¦æ¥ä¸å¿…è¦çš„å¤æ‚æ€§ï¼Œ"HonorÃ©è§£é‡Šé“ã€‚</p>
<p>æ®HonorÃ©ä»‹ç»ï¼ŒAkamaiè®©ä»–çš„ç²¾å¹²å¼€å‘å›¢é˜Ÿèƒ½å¤Ÿçµæ´»é…ç½®æœåŠ¡å™¨ï¼Œé¿å…äº†å…¶ä»–äº‘å¹³å°çš„è‡ƒè‚¿ç®¡ç†å’Œå¤æ‚æµç¨‹ã€‚"é€šè¿‡ç›´æ¥è®¿é—®è™šæ‹Ÿæœºï¼ŒAkamaiè®©é…ç½®å˜å¾—ç®€å•ã€‚å…¶äº‘è®¡ç®—æœåŠ¡éå¸¸é€‚åˆæˆ‘ä»¬è¿™ç§è§„æ¨¡çš„ä¼ä¸šï¼Œåœ¨å¼ºå¤§åŠŸèƒ½å’Œç®€æ´æ˜“ç”¨ä¹‹é—´å–å¾—äº†å®Œç¾å¹³è¡¡ã€‚"</p>
<p>å¯¹æˆé•¿å‹ä¼ä¸šè€Œè¨€ï¼Œæ„å¤–è´¦å•å¯èƒ½æ˜¯è‡´å‘½çš„ã€‚Akamaiçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.linode.com%2Fzh%2Fpricing%2F%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_251212_external2_blogarticles235" target="_blank" title="https://www.linode.com/zh/pricing/?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_251212_external2_blogarticles235" ref="nofollow noopener noreferrer">å¯é¢„æµ‹å®šä»·æ¨¡å¼</a>ä¸ºBlackstoneOneæä¾›äº†å…³é”®æ”¯æŒã€‚"æˆ‘æ›¾ç”¨è¿‡é‚£äº›æ„å¤–æˆæœ¬å‡ ä¹æ‹–å®ä¼ä¸šçš„å¹³å°ã€‚è€ŒAkamaiè®©æˆ‘å§‹ç»ˆæ¸…æ¥šè´¹ç”¨æ˜ç»†ï¼Œè¿™å¯¹æˆ‘ä»¬è§„æ¨¡æ‰©å¼ ä¸­çš„é¢„ç®—ç®¡ç†è‡³å…³é‡è¦ï¼Œ"HonorÃ©è¡¥å……é“ã€‚</p>
<h4 data-id="heading-2"><strong><strong>é€‰æ‹©Akamaiä½œä¸ºäº‘å¹³å°</strong></strong></h4>
<p>BlackstoneOneä¸šåŠ¡ä¸»è¦åˆ†å¸ƒåœ¨æ–¯å ªçš„çº³ç»´äºšåœ°åŒºï¼ŒAkamaiä½äºç‘å…¸ç­‰åœ°çš„åŒºåŸŸäº‘è®¡ç®—æ•°æ®ä¸­å¿ƒä½¿å…¶å—ç›ŠåŒªæµ…ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå…¬å¸åœ¨å‘æŒªå¨å’Œç‘å…¸æ‰©å¼ çš„åŒæ—¶ï¼Œå§‹ç»ˆä¿æŒç€é«˜æ€§èƒ½å’Œé«˜å¯é æ€§ã€‚"é è¿‘å®¢æˆ·çš„æ•°æ®ä¸­å¿ƒç¡®ä¿äº†ä½å»¶è¿Ÿï¼Œè¿™å¯¹é«˜æ•ˆçš„æ¼æ´æ‰«æè‡³å…³é‡è¦ã€‚è¿™å¯¹æˆ‘ä»¬å’Œå®¢æˆ·éƒ½æ˜¯å·¨å¤§ä¼˜åŠ¿ï¼Œ"HonorÃ©è¡¨ç¤ºã€‚</p>
<p>äº‹å®ä¸Šï¼Œæ­£æ˜¯Akamaiæ”¯æ’‘ç€BlackstoneOneçš„æœåŠ¡å®ç°ã€‚å…¶æœåŠ¡éœ€è¦æ‰«æå¤§é‡æ•æ„Ÿæµé‡ï¼ˆéƒ¨åˆ†å¯èƒ½è¢«æ ‡è®°ï¼‰ã€‚ä¸å…¶ä»–é˜»æ­¢æ¼æ´æ‰«ææµé‡çš„äº‘æä¾›å•†ä¸åŒï¼ŒAkamaiæ— ç¼æ»¡è¶³äº†BlackstoneOneçš„éœ€æ±‚ã€‚"Akamaiç¡®ä¿æˆ‘ä»¬çš„æ‰«ææ“ä½œå¹³ç¨³è¿è¡Œï¼Œæ— éœ€é¢å¯¹ä¸å¿…è¦çš„å¹²æ‰°â€”â€”è¿™æ˜¯æˆ‘ä»¬åœ¨å…¶ä»–å¹³å°ä¸Šæ›¾é‡åˆ°çš„æŒ‘æˆ˜ï¼Œ"HonorÃ©æŒ‡å‡ºã€‚</p>
<p>BlackstoneOneå¼•é¢†åˆ›æ–°ï¼ŒæŒç»­æä¾›å°–ç«¯è§£å†³æ–¹æ¡ˆâ€”â€”HonorÃ©å¸¦é¢†å›¢é˜Ÿä¾æ‰˜Akamaiå®ç°å…¬å¸æ„¿æ™¯ï¼Œä¸“æ³¨äºä»¥å®¢æˆ·ä¸ºä¸­å¿ƒçš„åˆ›æ–°ã€‚BlackstoneOneè¿‘æœŸå°†AIé›†æˆè‡³å¹³å°ï¼Œå¸®åŠ©ä¸­å°ä¼ä¸šæ›´å¥½åœ°ç†è§£å¹¶å¤„ç†æ¼æ´ï¼ŒåŒæ—¶è½»æ¾åº”å¯¹ITå®‰å…¨çš„å¤æ‚æ€§ã€‚</p>
<p>å…¬å¸æœ€æ–°æ¨å‡ºçš„å¤–éƒ¨æ”»å‡»é¢ç®¡ç†æœåŠ¡ï¼Œä¾æ‰˜è™šæ‹Ÿç§æœ‰äº‘ï¼ˆVPCï¼‰å®ç°å¢å¼ºå®‰å…¨ã€‚HonorÃ©è¡¨ç¤ºï¼š"åˆ›å»ºæ–°è™šæ‹Ÿæœºéå¸¸ç®€å•ã€‚æ­¤å¤–ï¼ŒVPCè®©æˆ‘ä»¬èƒ½å°†æœåŠ¡å™¨ç½®äºåå°ï¼Œä¸ºæ•æ„Ÿå®¢æˆ·æ•°æ®å¢æ·»é¢å¤–ä¿æŠ¤å±‚ã€‚"</p>
<h4 data-id="heading-3"><strong><strong>å±•æœ›æœªæ¥</strong></strong></h4>
<p>éšç€ä¸šåŠ¡æŒç»­æ‰©å±•ï¼ŒBlackstoneOneä¸“æ³¨äºåœ¨åº”å¯¹æ¬§æ´²åˆè§„æ€§ä¸æ•°æ®ä¿æŠ¤æŒ‘æˆ˜çš„åŒæ—¶ï¼ŒæŒç»­æä¾›æœ‰ä»·å€¼çš„ITå®‰å…¨è§£å†³æ–¹æ¡ˆã€‚å‡­å€ŸAkamaiä¸æ–­ä¸°å¯Œçš„å·¥å…·é›†å’Œå¯¹ä¸­å°ä¼ä¸šçš„æ”¯æŒæ‰¿è¯ºï¼ŒBlackstoneOneå·²ä¸ºæœªæ¥å¢é•¿åšå¥½å……åˆ†å‡†å¤‡ã€‚</p>
<p>å½“è¢«é—®åŠå¯¹å…¶ä»–å¼€å‘è€…çš„å»ºè®®æ—¶ï¼ŒHonorÃ©æ€»ç»“é“ï¼š"Akamaiåœ¨åŠŸèƒ½ä¸æ˜“ç”¨æ€§é—´çš„å¹³è¡¡æ— ä¸ä¼¦æ¯”ï¼Œé€æ˜å®šä»·è®©æˆ‘ä»¬èƒ½æ— å¿§æ‰©å±•ï¼Œè€ŒåŠæ—¶æœ‰æ•ˆçš„æŠ€æœ¯æ”¯æŒæ›´ä½¿å…¶åœ¨ä¼—å¤šæä¾›å•†ä¸­è„±é¢–è€Œå‡ºã€‚"</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç€šé«˜ç¡¬æ ¸åŠ©åŠ› PG ç¤¾åŒºï¼šPostgres 19 è¿æ¥å¹¶è¡Œ TID èŒƒå›´æ‰«æï¼Œé€Ÿåº¦æå‡ 3 å€]]></title>    <link>https://juejin.cn/post/7582539701147746345</link>    <guid>https://juejin.cn/post/7582539701147746345</guid>    <pubDate>2025-12-12T08:30:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582539701147746345" data-draft-id="7582535649276854313" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç€šé«˜ç¡¬æ ¸åŠ©åŠ› PG ç¤¾åŒºï¼šPostgres 19 è¿æ¥å¹¶è¡Œ TID èŒƒå›´æ‰«æï¼Œé€Ÿåº¦æå‡ 3 å€"/> <meta itemprop="keywords" content="PostgreSQL,å¼€æº,æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-12-12T08:30:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="IvorySQL"/> <meta itemprop="url" content="https://juejin.cn/user/761327331579511"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç€šé«˜ç¡¬æ ¸åŠ©åŠ› PG ç¤¾åŒºï¼šPostgres 19 è¿æ¥å¹¶è¡Œ TID èŒƒå›´æ‰«æï¼Œé€Ÿåº¦æå‡ 3 å€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/761327331579511/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    IvorySQL
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T08:30:57.000Z" title="Fri Dec 12 2025 08:30:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¯¹äºä»»ä½•éœ€è¦ç»´æŠ¤è¶…å¤§è¡¨ï¼ˆæ›´æ–°æ—§æ•°æ®ã€åˆ†æ‰¹åˆ é™¤ã€æ•°æ®è¿ç§»ï¼‰çš„ DBA æˆ–å¼€å‘è€…æ¥è¯´ï¼Œä½¿ç”¨ <code>ctid</code>ï¼ˆå…ƒç»„ç‰©ç†ä½ç½®ï¼‰å°†å¤§è¡¨åˆ‡åˆ†ä¸ºå¤šä¸ªå°å—è¿›è¡Œå¤„ç†æ˜¯æ ‡å‡†æ“ä½œã€‚ç„¶è€Œï¼Œç›´åˆ°ç°åœ¨ï¼Œè¿™ç§æ“ä½œéƒ½æœ‰ä¸€ä¸ªå·¨å¤§çš„ç—›ç‚¹ï¼š<strong>å®ƒä¸¥æ ¼ä¾èµ–å•è¿›ç¨‹</strong>ã€‚</p>
<p>éšç€æœ€è¿‘çš„ä¸€ä¸ª Commit (<code>0ca3b169</code>) åˆå¹¶å…¥ PostgreSQL 19 (master åˆ†æ”¯)ï¼Œ<strong>TID èŒƒå›´æ‰«æï¼ˆTID Range Scansï¼‰ç»ˆäºæ”¯æŒå¹¶è¡Œäº†</strong>ã€‚</p>
<blockquote>
<p>è¯¥åŠŸèƒ½ç”±ç€šé«˜çš„ Cary Huang æå‡ºå¹¶ä¸»å¯¼å¼€å‘ï¼Œç”±å¾®è½¯çš„ David Rowley ååŠ©æµ‹è¯•åŠå®¡é˜…ï¼Œå¹¶æœ€ç»ˆæäº¤ã€‚ä»–ä»¬å¯†åˆ‡åˆä½œä»¥å®Œå–„å¹¶è¡Œå®‰å…¨é€»è¾‘ï¼Œç¡®ä¿å·¥ä½œè¿›ç¨‹æ­£ç¡®å¤„ç†æ‰«æé™åˆ¶â€”â€”æœ€ç»ˆä¿ƒæˆäº†è¿™ä¸ªè½åœ°åˆ° master åˆ†æ”¯çš„å¥å£®å®ç°ã€‚</p>
</blockquote>
<blockquote>
<p>ç€šé«˜ä»¥â€œç”¨å¼€æºé“¾æ¥ä¸–ç•Œâ€ä¸ºä½¿å‘½ï¼Œå¼ºè°ƒå¼€æºæŠ€æœ¯åœ¨æ•°æ®åº“åŸºç¡€è½¯ä»¶é¢†åŸŸçš„æ ¸å¿ƒä½œç”¨ï¼Œè‡´åŠ›äºé€šè¿‡å…±äº«å’Œåˆä½œï¼Œæ¨åŠ¨è¡Œä¸šå‘å±•ï¼ŒåŒæ—¶é“¾æ¥å’Œèµ‹èƒ½å…¨çƒç”¨æˆ·ã€‚å¼€æºæŠ€æœ¯æ˜¯ä¸­å›½è½¯ä»¶æŠ€æœ¯å‘å±•çš„å¿…ç”±ä¹‹è·¯ï¼Œç€šé«˜ä½œä¸ºäºšå¤ªåœ°åŒº PostgreSQL å›½é™…ç¤¾åŒºé¡¶çº§è´¡çŒ®è€…ä¹‹ä¸€ï¼Œé•¿æœŸæ·±åº¦å‚ä¸ PostgreSQL å›½é™…ç¤¾åŒºå‘å±•ä¸å»ºè®¾ã€‚è‡ª 2025 å¹´ 7 æœˆä»¥æ¥ï¼Œç€šé«˜è¢« PostgreSQL ç¤¾åŒºé‡‡çº³çš„è´¡çŒ®å°±å·²è¶…è¿‡ 2000 è¡Œä»£ç ã€‚</p>
</blockquote>
<p>æ ¹æ®åŸºå‡†æµ‹è¯•ï¼Œæ–°ç‰¹æ€§çš„é€Ÿåº¦æå‡é«˜è¾¾ <strong>3 å€</strong>ã€‚</p>
<h2 data-id="heading-0">1. æ ¸å¿ƒç—›ç‚¹ï¼šè§„åˆ’å™¨ï¼ˆPlannerï¼‰çš„æƒè¡¡</h2>
<p>Postgres è‡ªç‰ˆæœ¬ 14 èµ·å°±æ”¯æŒäº† <code>TID Range Scans</code>ã€‚è¿™å…è®¸ä½ åŸºäºç‰©ç†å—å·æ‰«æè¡¨çš„ç‰¹å®šåˆ‡ç‰‡ï¼š</p>
<p><code>SELECT * FROM my_large_table WHERE ctid &gt;= '(0,0)' AND ctid &lt; '(10000,0)';</code></p>
<p>è¿™æ˜¯åƒ AWS DMS è¿™æ ·çš„å·¥å…·æˆ–é€»è¾‘å¤åˆ¶åˆå§‹åŒ–å™¨æ‹†åˆ†æµ·é‡è¡¨çš„æ ‡å‡†æ–¹å¼ã€‚é—®é¢˜åœ¨äºï¼Œç›´åˆ°ç°åœ¨è¿™ç§æ‰«æèŠ‚ç‚¹ä¸¥æ ¼æ¥è¯´éƒ½æ˜¯<strong>å•å·¥ä½œè¿›ç¨‹ï¼ˆsingle workerï¼‰</strong> çš„ã€‚</p>
<p>è¿™è¿«ä½¿ Postgres æŸ¥è¯¢è§„åˆ’å™¨é™·å…¥äº†ä¸¤éš¾å¢ƒåœ°ã€‚å½“ä½ åœ¨å¤§æ•°æ®é›†ä¸Šè¿è¡ŒæŸ¥è¯¢æ—¶ï¼Œè§„åˆ’å™¨å¿…é¡»åœ¨ä»¥ä¸‹ä¸¤è€…ä¹‹é—´åšå‡ºé€‰æ‹©ï¼š</p>
<ul>
<li>
<p>TID Range Scanï¼š I/O é«˜æ•ˆï¼ˆåªè¯»å–ä½ è¯·æ±‚çš„å—ï¼‰ï¼Œä½†æ˜¯å•å·¥ä½œè¿›ç¨‹ã€‚</p>
</li>
<li>
<p>Parallel Seq Scanï¼ˆå¹¶è¡Œé¡ºåºæ‰«æï¼‰ï¼š CPU é«˜æ•ˆï¼ˆå ç”¨æ‰€æœ‰ CPU å†…æ ¸ï¼‰ï¼Œä½† I/O æµªè´¹ï¼ˆå¯èƒ½ä¼šä¸ºäº†è¿‡æ»¤è€Œè¯»å–è¶…å‡ºä½ èŒƒå›´çš„å—ï¼‰ã€‚</p>
</li>
</ul>
<p>è§„åˆ’å™¨ç»å¸¸ä¼šé”™è¯¯åœ°é€‰æ‹©å¹¶è¡Œé¡ºåºæ‰«æï¼ŒCPU æ”¶ç›Šä¼¼ä¹è¶…è¿‡äº† I/O æŸè€—å¸¦æ¥çš„è´Ÿé¢å½±å“ã€‚è¿™å¯¼è‡´æ•°æ®åº“ä¸ºäº†åˆ©ç”¨å¯ç”¨çš„å·¥ä½œè¿›ç¨‹ï¼Œè¯»å–äº†æ¯”å¿…è¦å¤šå¾—å¤šçš„æ•°æ®ã€‚</p>
<h2 data-id="heading-1">2. ä¿®å¤æ–¹æ¡ˆï¼šå¹¶è¡Œæ€§ä¸å¯å˜åˆ†å—</h2>
<p>ç”± Cary Huang å¼€å‘å¹¶ç”± David Rowley æäº¤çš„ä»£ç ï¼Œå¼•å…¥äº†å…è®¸ <code>Tid Range Scan</code> å‚ä¸å¹¶è¡ŒæŸ¥è¯¢è®¡åˆ’çš„åŸºç¡€æ¶æ„ã€‚è¯¥é€»è¾‘æœ‰æ•ˆåœ°å°†å—èŒƒå›´åˆ†é…ç»™å¯ç”¨çš„å¹¶è¡Œå·¥ä½œè¿›ç¨‹ã€‚ä¸å†æ˜¯ä¸€ä¸ªè¿›ç¨‹ä»å— 0 æ‰«æåˆ° Nï¼Œå¤šä¸ªå·¥ä½œè¿›ç¨‹å¯ä»¥å¹¶å‘åœ°è·å–æ•°æ®å—ã€‚</p>
<p>å®ç°ï¼ˆçº¦ 500 è¡Œä»£ç ï¼‰é‡ç”¨äº†å¹¶è¡Œé¡ºåºæ‰«æä¸­çš„â€œå—åˆ†å—ï¼ˆblock chunkingï¼‰â€é€»è¾‘ã€‚ä½†å®ƒä¸ä»…ä»…æ˜¯å°†å—èŒƒå›´å¹³å‡åˆ†é…ç»™å·¥ä½œè¿›ç¨‹ï¼Œå› ä¸ºå¦‚æœè¡¨çš„æŸä¸ªéƒ¨åˆ†æ•°æ®å¯†åº¦æ›´é«˜ï¼Œè¿™ç§ç®€å•åˆ†é…å¯èƒ½å¯¼è‡´è´Ÿè½½ä¸å‡è¡¡ã€‚</p>
<p>ç›¸åï¼Œå®ƒä½¿ç”¨äº†è¡°å‡å—å¤§å°ç­–ç•¥ (decaying chunk size strategy)ï¼š</p>
<ul>
<li>å¤§å—å¼€å§‹ (Large Start)ï¼š å·¥ä½œè¿›ç¨‹å¼€å§‹æ—¶é¢†å–å¤§å—çš„å—ï¼Œä»¥æœ€å¤§é™åº¦åœ°å‡å°‘å…±äº«çŠ¶æ€ä¸Šçš„é”å®šå¼€é”€ã€‚</li>
<li>é€æ¸å‡å° (Tapering Down)ï¼š éšç€æ‰«æçš„è¿›è¡Œï¼Œåˆ†å—å¤§å°ä¼šç¼©å°ã€‚</li>
<li>é¢—ç²’åŒ–ç»“æŸ (Granular Finish)ï¼š åˆ°æ‰«æç»“æŸæ—¶ï¼Œå·¥ä½œè¿›ç¨‹æ¯æ¬¡åªé¢†å– 1 ä¸ªå—ã€‚</li>
</ul>
<p>è¿™ç§â€œç¼“æ…¢å‡å°‘â€ç¡®ä¿äº†æˆ‘ä»¬ä¸ä¼šæœ€ååªå‰©ä¸‹ä¸€ä¸ªå·¥ä½œè¿›ç¨‹åœ¨å¤„ç†ä¸€ä¸ªå·¨å¤§çš„æœ€ç»ˆå—ï¼Œè€Œå…¶ä»–å·¥ä½œè¿›ç¨‹å´é—²ç½®ç€ã€‚å®ƒå¼ºåˆ¶æ‰€æœ‰è¿›ç¨‹å¤§è‡´åœ¨åŒä¸€æ—¶é—´è·¨è¿‡ç»ˆç‚¹çº¿ã€‚</p>
<h2 data-id="heading-2">3. åŸºå‡†æµ‹è¯•æ•°æ®</h2>
<p>ä¸ºäº†çœ‹åˆ°å®é™…æ•ˆæœï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªåŒ…å« 1000 ä¸‡è¡Œçš„è¡¨ <code>bench_tid_range</code>ï¼Œå¹¶ä½¿ç”¨ ctid èŒƒå›´æ¡ä»¶å¯¹è¡¨çš„å‰ 50% è¿è¡Œäº† <code>count(*)</code> æŸ¥è¯¢ã€‚</p>
<p><strong>æµ‹è¯•ç¯å¢ƒï¼š</strong></p>
<ul>
<li>æ•°æ®é‡ï¼š1000 ä¸‡è¡Œ</li>
<li>æŸ¥è¯¢ï¼š<code>SELECT count(*) FROM bench_tid_range WHERE ctid &gt;= '(0,0)' AND ctid &lt; '(41667,0)'</code></li>
</ul>







































































<table><thead><tr><th align="left">ç¯å¢ƒ</th><th align="left">å·¥ä½œè¿›ç¨‹æ•° (Workers)</th><th align="left">æ‰§è¡Œæ—¶é—´ (ä¸­ä½æ•°)</th><th align="left">åŠ é€Ÿæ¯”</th></tr></thead><tbody><tr><td align="left"><strong>Before (Pg 18)</strong></td><td align="left">0</td><td align="left">448 ms</td><td align="left">1.00x</td></tr><tr><td align="left"><strong>After (Pg 19)</strong></td><td align="left">0</td><td align="left">435 ms</td><td align="left">1.03x</td></tr><tr><td align="left"><strong>After (Pg 19)</strong></td><td align="left">1</td><td align="left">238 ms</td><td align="left">1.88x</td></tr><tr><td align="left"><strong>After (Pg 19)</strong></td><td align="left">2</td><td align="left">174 ms</td><td align="left">2.58x</td></tr><tr><td align="left"><strong>After (Pg 19)</strong></td><td align="left">3</td><td align="left">151 ms</td><td align="left">2.97x</td></tr><tr><td align="left"><strong>After (Pg 19)</strong></td><td align="left">4</td><td align="left">150 ms</td><td align="left">2.98x</td></tr><tr><td align="left"><strong>After (Pg 19)</strong></td><td align="left">5</td><td align="left">147 ms</td><td align="left">3.05x</td></tr><tr><td align="left"><strong>After (Pg 19)</strong></td><td align="left">6</td><td align="left">143 ms</td><td align="left">3.14x</td></tr><tr><td align="left"><strong>After (Pg 19)</strong></td><td align="left">7</td><td align="left">147 ms</td><td align="left">3.04x</td></tr><tr><td align="left"><strong>After (Pg 19)</strong></td><td align="left">8</td><td align="left">147 ms</td><td align="left">3.04x</td></tr></tbody></table>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75f5747229bf40ba9a48d04f819011e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSXZvcnlTUUw=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766133057&amp;x-signature=Y1K0Vej4ssh8IcXRQVx6GSy5HB8%3D" alt="1.png" loading="lazy"/></p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä»…ä»…å¯ç”¨ 1 ä¸ªå·¥ä½œè¿›ç¨‹ï¼ˆè¿™å®é™…ä¸Šç»™äº†æˆ‘ä»¬ 2 ä¸ªæ‰«æè¿›ç¨‹ï¼šLeader + 1 ä¸ª Workerï¼‰ï¼Œæ‰§è¡Œæ—¶é—´å°±å¤§å¹…ä¸‹é™ã€‚å¯¹äºè¿™ä¸ªç‰¹å®šçš„å·¥ä½œè´Ÿè½½ï¼Œâ€œæœ€ä½³å¹³è¡¡ç‚¹â€ä¼¼ä¹åœ¨ 2-3 ä¸ªå·¥ä½œè¿›ç¨‹å·¦å³ã€‚</p>
<h2 data-id="heading-3">4. ä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨â€œå¹¶è¡Œé¡ºåºæ‰«æâ€ï¼Ÿ</h2>
<p>ä½ å¯èƒ½ä¼šé—®ï¼šâ€œä¸ºä»€ä¹ˆ Postgres v18 ä¸ç›´æ¥é€‰æ‹©å¹¶è¡Œé¡ºåºæ‰«æï¼Ÿç”¨ 4 ä¸ªå·¥ä½œè¿›ç¨‹æ‰«ææ•´ä¸ªè¡¨éš¾é“ä¸æ¯”ç”¨ 1 ä¸ªè¿›ç¨‹æ‰«æåŠä¸ªè¡¨å¿«å—ï¼Ÿâ€</p>
<p>æˆ‘é€šè¿‡å¼ºåˆ¶è®¾ç½® <code>enable_tidscan = off</code> å¹¶ä½¿ç”¨ 4 ä¸ªå·¥ä½œè¿›ç¨‹æµ‹è¯•äº†è¿™ä¸€ç‚¹ï¼š</p>
<ul>
<li>æ‰§è¡Œæ—¶é—´ï¼š ~230 msã€‚</li>
<li>I/Oï¼š è®¿é—®äº†æ‰€æœ‰ ~83k ä¸ªé¡µé¢ã€‚</li>
</ul>
<p>æ–°çš„å¹¶è¡Œ TID èŒƒå›´æ‰«æï¼ˆ~150 msï¼‰ä»ç„¶æ¯”æš´åŠ›/å¼ºåˆ¶çš„å¹¶è¡Œé¡ºåºæ‰«æå¿« 35%ï¼Œè€Œä¸”å®ƒäº§ç”Ÿçš„ I/O è´Ÿè½½åªæœ‰åè€…çš„ä¸€åŠï¼ˆåªè®¿é—®äº† ~41k ä¸ªé¡µé¢ï¼‰ã€‚è¿™å¯è°“ä¸¤å…¨å…¶ç¾ï¼šå¿«é€Ÿçš„æ‰§è¡Œæ—¶é—´ï¼ˆå¹¶è¡Œï¼‰å’Œé«˜æ•ˆçš„èµ„æºä½¿ç”¨ï¼ˆç±»ä¼¼ç´¢å¼•çš„èŒƒå›´ç•Œå®šï¼‰ã€‚</p>
<h2 data-id="heading-4">5. è¿™å¯¹å·¥å…·æ„å‘³ç€ä»€ä¹ˆ</h2>
<p>å¦‚æœä½ ç»´æŠ¤åœ¨ Postgres å®ä¾‹ä¹‹é—´ç§»åŠ¨æ•°æ®çš„å†…éƒ¨è„šæœ¬ï¼Œä½ å¯èƒ½ç¼–å†™äº†æ‰‹åŠ¨è®¡ç®—å—èŒƒå›´å¹¶å°†å·¨å¤§çš„è¡¨åˆ’åˆ†ä¸ºå—ã€ç„¶åç”Ÿæˆè¿›ç¨‹æ¥è¿è¡Œå®ƒä»¬çš„ä»£ç ã€‚</p>
<p>éšç€ PostgreSQL 19 çš„æ¨å‡ºï¼Œè¿™ç§å¤æ‚æ€§å¯èƒ½å¯ä»¥è¢«åˆ é™¤äº†ã€‚ä½ å¯ä»¥å‘å‡ºæ›´å¹¿æ³›çš„ TID èŒƒå›´æŸ¥è¯¢ï¼Œå¹¶ç›¸ä¿¡è§„åˆ’å™¨ä¼šæœ‰æ•ˆåœ°åœ¨é›†ç¾¤çš„ I/O å’Œ CPU èµ„æºä¹‹é—´åˆ†é…å·¥ä½œã€‚</p>
<h2 data-id="heading-5">6. å¦‚ä½•å¤ç°æµ‹è¯•</h2>
<p>è¿™æ˜¯è®¾ç½®æµ‹è¯•è¡¨å’Œè¿è¡ŒåŸºå‡†æµ‹è¯•çš„ SQLï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- 1. åˆ›å»ºè¡¨</span>
<span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">EXISTS</span> bench_tid_range;
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> bench_tid_range (id <span class="hljs-type">int</span>, payload text);

<span class="hljs-comment">-- 2. æ’å…¥ 10M è¡Œä»¥ç”Ÿæˆ ~41k ä¸ªé¡µé¢</span>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> bench_tid_range
<span class="hljs-keyword">SELECT</span> x, <span class="hljs-string">'payload_'</span> <span class="hljs-operator">||</span> x
<span class="hljs-keyword">FROM</span> generate_series(<span class="hljs-number">1</span>, <span class="hljs-number">10000000</span>) x;

<span class="hljs-comment">-- 3. Vacuum ä»¥è®¾ç½®å¯è§æ€§æ˜ å°„å¹¶å†»ç»“ï¼ˆå¯¹äºç¨³å®šçš„åŸºå‡†æµ‹è¯•å¾ˆé‡è¦ï¼‰</span>
VACUUM (ANALYZE, FREEZE) bench_tid_range;

<span class="hljs-comment">-- 4. ä¸ºä¼šè¯å¯ç”¨å¹¶è¡Œ</span>
<span class="hljs-keyword">SET</span> max_parallel_workers_per_gather <span class="hljs-operator">=</span> <span class="hljs-number">4</span>; <span class="hljs-comment">-- å°è¯• 2, 4, 8</span>
<span class="hljs-keyword">SET</span> min_parallel_table_scan_size <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;    <span class="hljs-comment">-- å³ä½¿å¯¹äºè¾ƒå°çš„è¡¨ä¹Ÿå¼ºåˆ¶å¹¶è¡Œæ‰«æ</span>

<span class="hljs-comment">-- 5. è¿è¡ŒæŸ¥è¯¢</span>
EXPLAIN (ANALYZE, BUFFERS)
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">count</span>(<span class="hljs-operator">*</span>)
<span class="hljs-keyword">FROM</span> bench_tid_range
<span class="hljs-keyword">WHERE</span> ctid <span class="hljs-operator">&gt;=</span> <span class="hljs-string">'(0,0)'</span> <span class="hljs-keyword">AND</span> ctid <span class="hljs-operator">&lt;</span> <span class="hljs-string">'(41667,0)'</span>;
</code></pre>
<h2 data-id="heading-6">7. ç»“è®º</h2>
<p>è¿™æ˜¯ä¸€é¡¹ä»¤äººæ¬£å–œçš„â€œåº•å±‚â€æ”¹è¿›ã€‚å®ƒæˆ–è®¸ä¸ä¼šæ”¹å˜æ‚¨æ—¥å¸¸çš„ä¸´æ—¶æŸ¥è¯¢ï¼Œä½†å¯¹äºæ„å»ºè‡ªå®šä¹‰æ•°æ®ç»´æŠ¤è„šæœ¬çš„æ•°æ®åº“ç®¡ç†å‘˜å’Œå¼€å‘äººå‘˜è€Œè¨€ï¼Œå¹¶è¡Œæ‰§è¡ŒåŸºäº TID çš„æ‰«æåŠŸèƒ½æ˜¯ä¼˜åŒ–å·¥å…·åŒ…ä¸­ä¸€é¡¹å¼ºå¤§çš„æ–°å·¥å…·ã€‚</p>
<h2 data-id="heading-7">8. å‚è€ƒ</h2>
<p>æœ¬æ–‡éƒ¨åˆ†å†…å®¹æ˜¯æ¥è‡ªÂ <strong>Grant Zhou</strong>Â å’ŒÂ <strong>Robins Tharakan</strong>Â æ’°å†™çš„è‹±æ–‡åšå®¢ã€‚</p>
<ul>
<li>æäº¤ 0ca3b169ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgit.postgresql.org%2Fgitweb%2F%3Fp%3Dpostgresql.git%3Ba%3Dcommitdiff%3Bh%3D0ca3b16973a8bb1c185f56e65edcadc0d9d2c406" target="_blank" title="https://git.postgresql.org/gitweb/?p=postgresql.git;a=commitdiff;h=0ca3b16973a8bb1c185f56e65edcadc0d9d2c406" ref="nofollow noopener noreferrer">git.postgresql.org/gitweb/?p=pâ€¦</a></li>
<li>è®¨è®ºè´´ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.postgresql.org%2Fmessage-id%2Fflat%2F18f2c002a24.11bc2ab825151706.3749144144619388582%2540highgo.ca" target="_blank" title="https://www.postgresql.org/message-id/flat/18f2c002a24.11bc2ab825151706.3749144144619388582%40highgo.ca" ref="nofollow noopener noreferrer">www.postgresql.org/message-id/â€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhornetlabs.ca%2F2025%2F12%2F08%2Fspeeding-up-large-table-scans-with-parallel-tid-ranges-in-postgresql-19%2F" target="_blank" title="https://hornetlabs.ca/2025/12/08/speeding-up-large-table-scans-with-parallel-tid-ranges-in-postgresql-19/" ref="nofollow noopener noreferrer">hornetlabs.ca/2025/12/08/â€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.thatguyfromdelhi.com%2F2025%2F12%2F3x-faster-tid-range-scans-postgres-19.html" target="_blank" title="https://www.thatguyfromdelhi.com/2025/12/3x-faster-tid-range-scans-postgres-19.html" ref="nofollow noopener noreferrer">www.thatguyfromdelhi.com/2025/12/3x-â€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ƒå¤§äº§å“è®¾è®¡æ–¹æ³•è®ºï¼šæ„å»ºå“è¶Šè½¯ä»¶äº§å“çš„æ€ç»´å·¥å…·ç®±]]></title>    <link>https://juejin.cn/post/7582759716188012544</link>    <guid>https://juejin.cn/post/7582759716188012544</guid>    <pubDate>2025-12-12T09:18:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582759716188012544" data-draft-id="7582601349580062720" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ƒå¤§äº§å“è®¾è®¡æ–¹æ³•è®ºï¼šæ„å»ºå“è¶Šè½¯ä»¶äº§å“çš„æ€ç»´å·¥å…·ç®±"/> <meta itemprop="keywords" content="äº§å“,äº§å“ç»ç†,èµ„è®¯"/> <meta itemprop="datePublished" content="2025-12-12T09:18:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Yooå‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/2791012486624116"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ƒå¤§äº§å“è®¾è®¡æ–¹æ³•è®ºï¼šæ„å»ºå“è¶Šè½¯ä»¶äº§å“çš„æ€ç»´å·¥å…·ç®±
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2791012486624116/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Yooå‰ç«¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T09:18:06.000Z" title="Fri Dec 12 2025 09:18:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ƒå¤§äº§å“è®¾è®¡æ–¹æ³•è®ºï¼šæ„å»ºå“è¶Šè½¯ä»¶äº§å“çš„æ€ç»´å·¥å…·ç®±</h2>
<blockquote>
<p>åœ¨å¿«é€Ÿå˜åŒ–çš„æ•°å­—æ—¶ä»£ï¼Œæ‰“é€ ä¸€æ¬¾æˆåŠŸçš„è½¯ä»¶äº§å“æ—©å·²ä¸æ˜¯â€œåŠŸèƒ½å †ç Œâ€æˆ–â€œæŠ€æœ¯ç‚«æŠ€â€çš„æ¸¸æˆã€‚çœŸæ­£æ‰“åŠ¨ç”¨æˆ·ã€é©±åŠ¨å¢é•¿çš„äº§å“ï¼ŒèƒŒåå¾€å¾€æœ‰ä¸€å¥—ç³»ç»ŸåŒ–çš„æ–¹æ³•è®ºæ”¯æ’‘ã€‚æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥ç†è§£ä¸ƒç§è¢«å…¨çƒé¡¶å°–å›¢é˜Ÿå¹¿æ³›é‡‡ç”¨çš„äº§å“è®¾è®¡æ¡†æ¶â€”â€”ä»æ´å¯Ÿç”¨æˆ·åˆ°è¡¡é‡ä½“éªŒï¼Œä»æ„æ€åˆ›æ„åˆ°å¿«é€ŸéªŒè¯â€”â€”å®ƒä»¬å…±åŒæ„æˆäº†ç°ä»£äº§å“äººçš„â€œæ€ç»´å·¥å…·ç®±â€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">1. ç”¨æˆ·ä¸­å¿ƒè®¾è®¡ï¼ˆUCDï¼‰ï¼šä¸€åˆ‡ä»äººå‡ºå‘</h3>
<p><strong>æ ¸å¿ƒç†å¿µ</strong>ï¼šäº§å“æ˜¯ä¸ºç”¨æˆ·æœåŠ¡çš„ï¼Œè®¾è®¡å¿…é¡»å›´ç»•çœŸå®ç”¨æˆ·çš„éœ€æ±‚ã€è¡Œä¸ºå’Œæƒ…å¢ƒå±•å¼€ã€‚</p>
<p>UCD ä¸æ˜¯ä¸€ç§å…·ä½“æµç¨‹ï¼Œè€Œæ˜¯ä¸€ç§<strong>è®¾è®¡å“²å­¦</strong>ã€‚å®ƒå¼ºè°ƒåœ¨æ•´ä¸ªå¼€å‘å‘¨æœŸä¸­æŒç»­å¼•å…¥ç”¨æˆ·åé¦ˆâ€”â€”é€šè¿‡è®¿è°ˆã€è§‚å¯Ÿã€å¯ç”¨æ€§æµ‹è¯•ç­‰æ–¹å¼ï¼Œç¡®ä¿æ¯ä¸€æ­¥å†³ç­–éƒ½åŸºäºå¯¹ç”¨æˆ·çš„æ·±åˆ»ç†è§£ã€‚</p>
<blockquote>
<p>ğŸ“Œ <strong>å®è·µå»ºè®®</strong>ï¼šä¸è¦ç­‰åˆ°ä¸Šçº¿æ‰é—®ç”¨æˆ·â€œå¥½ä¸å¥½ç”¨â€ã€‚åœ¨éœ€æ±‚é˜¶æ®µå°±é‚€è¯·ç›®æ ‡ç”¨æˆ·å‚ä¸ï¼Œå“ªæ€•åªæ˜¯è‰å›¾è¯„å®¡ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-2">2. åŒé’»æ¨¡å‹ï¼ˆDouble Diamondï¼‰ï¼šç»“æ„åŒ–çš„é—®é¢˜è§£å†³è·¯å¾„</h3>
<p>ç”±è‹±å›½è®¾è®¡å§”å‘˜ä¼šæå‡ºï¼ŒåŒé’»æ¨¡å‹å°†äº§å“è®¾è®¡åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li><strong>å‘ç°ï¼ˆDiscoverï¼‰</strong> ï¼šå¹¿æ³›æ¢ç´¢é—®é¢˜ç©ºé—´ï¼ˆå‘æ•£ï¼‰</li>
<li><strong>å®šä¹‰ï¼ˆDefineï¼‰</strong> ï¼šèšç„¦æ ¸å¿ƒé—®é¢˜ï¼ˆæ”¶æ•›ï¼‰</li>
<li><strong>å¼€å‘ï¼ˆDevelopï¼‰</strong> ï¼šç”Ÿæˆå¤šç§è§£å†³æ–¹æ¡ˆï¼ˆå‘æ•£ï¼‰</li>
<li><strong>äº¤ä»˜ï¼ˆDeliverï¼‰</strong> ï¼šæ‰“ç£¨å¹¶è½åœ°æœ€ä¼˜æ–¹æ¡ˆï¼ˆæ”¶æ•›ï¼‰</li>
</ol>
<p>è¿™ä¸ªæ¨¡å‹çš„ä»·å€¼åœ¨äº<strong>æ˜ç¡®åŒºåˆ†â€œé—®é¢˜å®šä¹‰â€ä¸â€œæ–¹æ¡ˆè®¾è®¡â€</strong> ï¼Œé¿å…å›¢é˜Ÿåœ¨æ²¡ææ¸…â€œåˆ°åº•è¦è§£å†³ä»€ä¹ˆâ€ä¹‹å‰å°±æ€¥ç€å†™ä»£ç ã€‚</p>
<blockquote>
<p>ğŸ’¡ <strong>å°æŠ€å·§</strong>ï¼šç”¨â€œ5 Why åˆ†ææ³•â€å¸®åŠ©ä½ åœ¨ Define é˜¶æ®µæŒ–åˆ°çœŸæ­£çš„ç”¨æˆ·ç—›ç‚¹ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">3. è®¾è®¡æ€ç»´ï¼ˆDesign Thinkingï¼‰ï¼šä»¥äººä¸ºæœ¬çš„åˆ›æ–°å¼•æ“</h3>
<p>æºè‡ª IDEO å’Œæ–¯å¦ç¦ d.schoolï¼Œè®¾è®¡æ€ç»´å¼ºè°ƒ<strong>å…±æƒ… â†’ å®šä¹‰ â†’ æ„æ€ â†’ åŸå‹ â†’ æµ‹è¯•</strong>çš„å¾ªç¯è¿­ä»£ã€‚</p>
<p>ä¸åŒé’»æ¨¡å‹ç±»ä¼¼ï¼Œä½†æ›´å¼ºè°ƒ<strong>è·¨å­¦ç§‘åä½œ</strong>ä¸<strong>å¿«é€ŸåŸå‹éªŒè¯</strong>ã€‚å®ƒç‰¹åˆ«é€‚åˆé¢å¯¹æ¨¡ç³Šã€å¤æ‚ç”šè‡³â€œæœªçŸ¥çš„æœªçŸ¥â€é—®é¢˜ï¼ˆæ¯”å¦‚ï¼šå¦‚ä½•æå‡è€å¹´äººçš„æ•°å­—åŒ…å®¹æ€§ï¼Ÿï¼‰ã€‚</p>
<blockquote>
<p>âœ¨ <strong>å…³é”®å·®å¼‚</strong>ï¼šè®¾è®¡æ€ç»´ä¸ä»…æ˜¯æµç¨‹ï¼Œæ›´æ˜¯ä¸€ç§æ–‡åŒ–â€”â€”é¼“åŠ±è¯•é”™ã€æ‹¥æŠ±ä¸ç¡®å®šæ€§ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">4. æ•æ·å¼€å‘ + Scrumï¼šè®©ä»·å€¼æŒç»­æµåŠ¨</h3>
<p>å¦‚æœè¯´å‰é¢çš„æ–¹æ³•èšç„¦â€œåšä»€ä¹ˆâ€ï¼Œé‚£ä¹ˆæ•æ·å¼€å‘å›ç­”çš„æ˜¯â€œæ€ä¹ˆåšâ€ã€‚</p>
<p><strong>æ•æ·å®£è¨€</strong>çš„æ ¸å¿ƒæ˜¯ï¼šä¸ªä½“äº’åŠ¨ &gt; æµç¨‹å·¥å…·ï¼Œå¯å·¥ä½œè½¯ä»¶ &gt; è¯¦å°½æ–‡æ¡£ï¼Œå®¢æˆ·åˆä½œ &gt; åˆåŒè°ˆåˆ¤ï¼Œå“åº”å˜åŒ– &gt; éµå¾ªè®¡åˆ’ã€‚</p>
<p>è€Œ <strong>Scrum</strong> æ˜¯æœ€æµè¡Œçš„æ•æ·æ¡†æ¶ä¹‹ä¸€ï¼Œé€šè¿‡<strong>çŸ­å‘¨æœŸå†²åˆºï¼ˆSprintï¼‰</strong> ã€æ¯æ—¥ç«™ä¼šã€äº§å“å¾…åŠåˆ—è¡¨ï¼ˆProduct Backlogï¼‰ç­‰æœºåˆ¶ï¼Œç¡®ä¿å›¢é˜Ÿèƒ½å¿«é€Ÿå“åº”åé¦ˆã€æŒç»­äº¤ä»˜ä»·å€¼ã€‚</p>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šæ•æ·ä¸æ˜¯â€œä¸åšè§„åˆ’â€ï¼Œè€Œæ˜¯â€œç”¨æ›´çµæ´»çš„æ–¹å¼è§„åˆ’â€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">5. ç²¾ç›Šåˆ›ä¸šï¼ˆLean Startupï¼‰ä¸ MVPï¼šç”¨æœ€å°æˆæœ¬éªŒè¯å‡è®¾</h3>
<p>åŸƒé‡Œå…‹Â·è±æ–¯æå‡ºçš„â€œæ„å»ºâ€”æµ‹é‡â€”å­¦ä¹ â€ï¼ˆBuild-Measure-Learnï¼‰å¾ªç¯ï¼Œå½»åº•æ”¹å˜äº†äº§å“éªŒè¯é€»è¾‘ã€‚</p>
<p><strong>MVPï¼ˆæœ€å°å¯è¡Œäº§å“ï¼‰</strong> çš„æœ¬è´¨ä¸æ˜¯â€œåšç®€é™‹ç‰ˆâ€ï¼Œè€Œæ˜¯<strong>ç”¨æœ€ä½æˆæœ¬éªŒè¯æœ€å…³é”®å‡è®¾</strong>ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>Airbnb æœ€åˆåªæ˜¯ç”¨ Craigslist ä¸Šçš„ç…§ç‰‡æ­å»ºä¸€ä¸ªç®€å•ç½‘é¡µï¼›</li>
<li>Dropbox ç”¨ä¸€æ®µæ¼”ç¤ºè§†é¢‘æµ‹è¯•ç”¨æˆ·å…´è¶£ã€‚</li>
</ul>
<blockquote>
<p>ğŸ” <strong>å…³é”®é—®é¢˜</strong>ï¼šä½ çš„ MVP èƒ½å¦å›ç­”â€œç”¨æˆ·æ˜¯å¦æ„¿æ„ä¸ºè¿™ä¸ªä»·å€¼ä¹°å•ï¼Ÿâ€</p>
</blockquote>
<hr/>
<h3 data-id="heading-6">6. JTBDï¼ˆJobs To Be Doneï¼‰ï¼šç”¨æˆ·â€œé›‡ä½£â€ä½ çš„äº§å“åšä»€ä¹ˆï¼Ÿ</h3>
<p>ä¼ ç»Ÿç”¨æˆ·ç”»åƒå¸¸åœç•™åœ¨â€œå¹´é¾„ã€èŒä¸šã€å…´è¶£â€ï¼Œè€Œ JTBD é—®çš„æ˜¯æ›´æ·±å±‚çš„é—®é¢˜ï¼š<strong>ç”¨æˆ·åœ¨ä»€ä¹ˆæƒ…å¢ƒä¸‹ï¼Œæƒ³è¦å®Œæˆä»€ä¹ˆâ€œä»»åŠ¡â€ï¼Ÿ</strong></p>
<p>ä¾‹å¦‚ï¼Œç”¨æˆ·ä¹°ç”µé’»ä¸æ˜¯ä¸ºäº†â€œæ‹¥æœ‰ä¸€ä¸ªé’»å¤´â€ï¼Œè€Œæ˜¯ä¸ºäº†â€œåœ¨å¢™ä¸Šæ‰“ä¸ªæ´æŒ‚ç”»â€ã€‚ç†è§£â€œä»»åŠ¡â€è€Œéâ€œäº§å“â€ï¼Œèƒ½å¸®ä½ å‘ç°æœªè¢«æ»¡è¶³çš„éœ€æ±‚ã€‚</p>
<blockquote>
<p>ğŸ§© <strong>åº”ç”¨ç¤ºä¾‹</strong>ï¼šSlack çš„æˆåŠŸå¹¶éå› ä¸ºâ€œæ›´å¥½çš„èŠå¤©å·¥å…·â€ï¼Œè€Œæ˜¯å› ä¸ºå®ƒå¸®å›¢é˜Ÿå®Œæˆäº†â€œå‡å°‘é‚®ä»¶æ²Ÿé€šã€æå‡åä½œæ•ˆç‡â€è¿™é¡¹ä»»åŠ¡ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">7. HEART æ¡†æ¶ï¼šç”¨æ•°æ®è¡¡é‡ç”¨æˆ·ä½“éªŒ</h3>
<p>Google æå‡ºçš„ HEART æ¨¡å‹ï¼Œå°†æŠ½è±¡çš„â€œç”¨æˆ·ä½“éªŒâ€æ‹†è§£ä¸ºäº”ä¸ªå¯åº¦é‡ç»´åº¦ï¼š</p>
<ul>
<li><strong>H</strong>appinessï¼ˆæ»¡æ„åº¦ï¼‰ï¼šNPSã€ç”¨æˆ·è¯„åˆ†</li>
<li><strong>E</strong>ngagementï¼ˆå‚ä¸åº¦ï¼‰ï¼šä½¿ç”¨é¢‘ç‡ã€åœç•™æ—¶é•¿</li>
<li><strong>A</strong>doptionï¼ˆé‡‡çº³ç‡ï¼‰ï¼šæ–°ç”¨æˆ·æ¿€æ´»æ¯”ä¾‹</li>
<li><strong>R</strong>etentionï¼ˆç•™å­˜ç‡ï¼‰ï¼šå›è®¿ç”¨æˆ·å æ¯”</li>
<li><strong>T</strong>ask Successï¼ˆä»»åŠ¡å®Œæˆç‡ï¼‰ï¼šè½¬åŒ–ç‡ã€é”™è¯¯ç‡</li>
</ul>
<p>æœ‰äº† HEARTï¼Œä½ å°±ä¸å†è¯´â€œæ„Ÿè§‰ä½“éªŒå˜å¥½äº†â€ï¼Œè€Œæ˜¯è¯´ï¼šâ€œé€šè¿‡ä¼˜åŒ–æ³¨å†Œæµç¨‹ï¼Œä»»åŠ¡æˆåŠŸç‡ä» 65% æå‡è‡³ 89%â€ã€‚</p>
<blockquote>
<p>ğŸ“Š <strong>æœ€ä½³å®è·µ</strong>ï¼šä¸ºæ¯ä¸ªå…³é”®åŠŸèƒ½è®¾å®š 1â€“2 ä¸ª HEART æŒ‡æ ‡ï¼Œå¹¶çº³å…¥äº§å“ OKRã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-8">å¦‚ä½•ç»„åˆä½¿ç”¨è¿™äº›æ–¹æ³•è®ºï¼Ÿ</h3>
<p>æ²¡æœ‰å“ªä¸€ç§æ–¹æ³•èƒ½è§£å†³æ‰€æœ‰é—®é¢˜ã€‚é«˜æ‰‹çš„åšæ³•æ˜¯<strong>æŒ‰éœ€è°ƒç”¨ã€çµæ´»ç»„åˆ</strong>ï¼š</p>
<ul>
<li>é¡¹ç›®åˆæœŸ â†’ ç”¨Â <strong>UCD + JTBD + è®¾è®¡æ€ç»´</strong>Â æ·±åº¦ç†è§£ç”¨æˆ·ï¼›</li>
<li>å®šä¹‰æ–¹å‘ â†’ ç”¨Â <strong>åŒé’»æ¨¡å‹</strong>Â èšç„¦çœŸé—®é¢˜ï¼›</li>
<li>å¿«é€ŸéªŒè¯ â†’ ç”¨Â <strong>ç²¾ç›Šåˆ›ä¸š + MVP</strong>Â æµ‹è¯•æ ¸å¿ƒå‡è®¾ï¼›</li>
<li>å¼€å‘è½åœ° â†’ ç”¨Â <strong>æ•æ· + Scrum</strong>Â é«˜æ•ˆåä½œï¼›</li>
<li>ä¸Šçº¿å â†’ ç”¨Â <strong>HEART æ¡†æ¶</strong>Â é‡åŒ–ä½“éªŒã€é©±åŠ¨è¿­ä»£ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-9">ç»“è¯­ï¼šæ–¹æ³•è®ºæ˜¯è„šæ‰‹æ¶ï¼Œä¸æ˜¯ç‰¢ç¬¼</h3>
<p>è¿™äº›æ¡†æ¶çš„ä»·å€¼ï¼Œä¸åœ¨äºä½ èƒŒå¾—å¤šç†Ÿï¼Œè€Œåœ¨äºä½ èƒ½å¦åœ¨å¤æ‚ç°å®ä¸­<strong>çµæ´»è¿ç”¨ã€æŒç»­åæ€ã€ä¸æ–­è¿›åŒ–</strong>ã€‚æ­£å¦‚è®¾è®¡å¸ˆ Charles Eames æ‰€è¯´ï¼š</p>
<blockquote>
<p>â€œè®¾è®¡çš„ç»†èŠ‚ä¸åœ¨å½¢å¼ï¼Œè€Œåœ¨å…³ç³»ã€‚â€<br/>
â€”â€”è€Œè¿™äº›æ–¹æ³•è®ºï¼Œæ­£æ˜¯å¸®æˆ‘ä»¬ç†æ¸…â€œäººã€é—®é¢˜ã€æ–¹æ¡ˆã€ä»·å€¼â€ä¹‹é—´å…³ç³»çš„æŒ‡å—é’ˆã€‚</p>
</blockquote>
<p>æ„¿ä½ åœ¨äº§å“ä¹‹è·¯ä¸Šï¼Œæ—¢æœ‰ç³»ç»Ÿçš„æ€è€ƒï¼Œä¹Ÿæœ‰åˆ›é€ çš„å‹‡æ°”ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¯¹æ ‡MinIOï¼å…¨æ–°ä¸€ä»£åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿè¯ç”Ÿï¼]]></title>    <link>https://juejin.cn/post/7582763878674661403</link>    <guid>https://juejin.cn/post/7582763878674661403</guid>    <pubDate>2025-12-12T09:18:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582763878674661403" data-draft-id="7582791876365926438" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¯¹æ ‡MinIOï¼å…¨æ–°ä¸€ä»£åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿè¯ç”Ÿï¼"/> <meta itemprop="keywords" content="åç«¯,æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-12-12T09:18:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JavaGuide"/> <meta itemprop="url" content="https://juejin.cn/user/166781497383294"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¯¹æ ‡MinIOï¼å…¨æ–°ä¸€ä»£åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿè¯ç”Ÿï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/166781497383294/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JavaGuide
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T09:18:49.000Z" title="Fri Dec 12 2025 09:18:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘ MinIO å®˜æ–¹åœ¨ README ä¸­æ­£å¼å®£å¸ƒé¡¹ç›®è¿›å…¥â€œç»´æŠ¤æ¨¡å¼â€ï¼š</p>
<ul>
<li><strong>ä¸å†æ¥å—æ–°åŠŸèƒ½ã€å¢å¼ºæˆ–æ‹‰å–è¯·æ±‚</strong>ï¼šä»£ç åº“ä»…è¿›è¡Œç»´æŠ¤ï¼Œä¸å†å¼€å‘æ–°ç‰¹æ€§ã€‚</li>
<li><strong>å®‰å…¨è¡¥ä¸å’Œå…³é”®bugä¿®å¤</strong>ï¼šä¼šæ ¹æ®ä¸ªæ¡ˆè¯„ä¼°ï¼Œä½†ä¸æ˜¯ä¿è¯å…¨é¢æ”¯æŒã€‚</li>
<li><strong>é—®é¢˜å’ŒPRå®¡æŸ¥åœæ­¢</strong>ï¼šç°æœ‰issueä¸ä¼šç§¯æå¤„ç†ï¼Œç¤¾åŒºæ”¯æŒä»…é€šè¿‡Slackæä¾›æœ€ä½³åŠªåŠ›ï¼ˆbest-effortï¼‰ã€‚</li>
<li><strong>ä¼ä¸šç‰ˆè½¬å‘</strong>ï¼šå®˜æ–¹æ¨èè½¬å‘ä»˜è´¹çš„MinIO AIStorï¼ˆèµ·ä»·çº¦$96,000/å¹´ï¼Œé’ˆå¯¹400TBï¼‰ï¼Œè¯¥ç‰ˆæä¾›å®Œæ•´ç®¡ç†åŠŸèƒ½ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd4d81998bf14db5a202ef97554a87eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135929&amp;x-signature=YAfP8v9YWT%2FmRnf9oMF4vvIq7uI%3D" alt="" loading="lazy"/></p>
<p>è¿™å¯¹å¾ˆå¤šæŠŠ MinIO å½“ä½œé•¿æœŸåŸºç¡€è®¾æ–½çš„å›¢é˜Ÿæ¥è¯´ï¼Œç¡®å®æ˜¯ä¸€ä¸ªåæ¶ˆæ¯ã€‚</p>
<p>ä¸è¿‡ä¹Ÿè¦ç†è§£ï¼ŒMinIO å¼€æºè¿™ä¹ˆå¤šå¹´ï¼Œä¸º S3 å…¼å®¹å¯¹è±¡å­˜å‚¨çš„æ™®åŠç«‹ä¸‹äº†æ±—é©¬åŠŸåŠ³ï¼Œç¤¾åŒºé‡Œæ— æ•°é¡¹ç›®éƒ½æ›¾ç»æˆ–æ­£åœ¨ä¾èµ–å®ƒã€‚ç°åœ¨å®ƒé€‰æ‹©æŠŠä¸»è¦ç²¾åŠ›æ”¾åœ¨å•†ä¸šç‰ˆä¸Šï¼Œè¿™å±äºå…¬å¸æ­£å¸¸çš„å•†ä¸šå†³å®šã€‚æˆ‘ä»¬ä¸éª‚å®ƒï¼Œåªå‘å‰çœ‹ï¼š<strong>æ¥ä¸‹æ¥ç”¨ä»€ä¹ˆæ¥æ›¿ä»£å®ƒï¼Ÿ</strong></p>
<h2 data-id="heading-0">RustFSï¼ˆRustï¼Œæ€§èƒ½å± å¤«ï¼‰</h2>
<p>åœ¨ MinIO ä¼—å¤šæ›¿ä»£å“ä¸­ï¼Œ<strong>RustFS</strong> æ˜¯æœ€è¿‘çƒ­åº¦æœ€é«˜çš„ä¸€é¢—æ–°æ˜Ÿã€‚è¿™ä¸ªç”±å›½äººå›¢é˜Ÿä¸»å¯¼çš„å¼€æºé¡¹ç›®ï¼Œç›®å‰GitHub Staræ•°å·²ç‹‚é£™è‡³<strong>15k+</strong>ï¼Œå¢é€Ÿéå¸¸å¤¸å¼ ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04ea701c9c1b461a9350a3eabb5f6855~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135929&amp;x-signature=o4TCHxVHimgbi9JooRDc%2FnAu8YE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/717970a34ad44d45bd21717902bd31cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135929&amp;x-signature=pkuqvEdyTXbUHPcjmY0A3VbADXw%3D" alt="" loading="lazy"/></p>
<p>RustFS æ˜¯ä¸€ä¸ªåŸºäº Rust è¯­è¨€å¼€å‘çš„é«˜æ€§èƒ½åˆ†å¸ƒå¼å¯¹è±¡å­˜å‚¨è½¯ä»¶ï¼Œå®šä½ä¸ MinIO é«˜åº¦ç›¸ä¼¼ï¼ŒåŠŸèƒ½åŸºæœ¬å¯¹é½ MinIO å¼€æºç‰ˆï¼ˆåŒ…æ‹¬åˆ†ç‰‡ä¸Šä¼ ã€æ¡¶ç­–ç•¥ã€ç‰ˆæœ¬æ§åˆ¶ã€äº‹ä»¶é€šçŸ¥ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†ç­‰ï¼‰ï¼Œå®Œå…¨å…¼å®¹ AWS S3 åè®®ï¼Œéƒ¨ç½²ç®€å•ï¼ˆDocker ä¸€é”®å¯åŠ¨ï¼‰ï¼Œå¹¶æä¾›ç°ä»£åŒ–çš„å¯è§†åŒ–ç®¡ç†æ§åˆ¶å°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcabc11ac4954aa0a882fc3b46a57e56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135929&amp;x-signature=LMyHyRbYK21plnkV8%2FCfOax4M3o%3D" alt="" loading="lazy"/></p>
<p>æ ¹æ®å®˜æ–¹åŒç­‰ç¡¬ä»¶å‹æµ‹ï¼ŒRustFSåœ¨å°å¯¹è±¡ï¼ˆ4KBï¼‰åœºæ™¯ä¸‹ååé‡çº¦ä¸ºMinIOçš„<strong>2.3å€</strong>ï¼Œå¤§å¯¹è±¡åœºæ™¯ä¹Ÿé«˜è¾¾<strong>1.8~2.2å€</strong>ã€‚</p>
<p>ä¸ MinIO ä¸åŒçš„æ˜¯ï¼ŒRustFS é‡‡ç”¨å®½æ¾çš„Apache 2.0è®¸å¯è¯ï¼Œå¯¹å•†ä¸šé—­æºäº§å“æ›´åŠ å‹å¥½ã€‚</p>
<p>è¿™æ˜¯å®˜æ–¹æä¾›çš„RustFS ä¸å…¶ä»–å­˜å‚¨äº§å“å¯¹æ¯”ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d84b4368269d4d6eae08cb5470522191~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135929&amp;x-signature=MxBApBirXcrP9fqlgTt7GqW9yN8%3D" alt="" loading="lazy"/></p>
<p>é¡¹ç›®è¿˜æ¯”è¾ƒæ–°ï¼ˆ2024å¹´åº•åæ‰çœŸæ­£ç«èµ·æ¥ï¼‰ï¼Œåˆ†å¸ƒå¼æ¨¡å¼ä»åœ¨å¿«é€Ÿè¿­ä»£ä¸­ã€‚å¯¹äºè¿½æ±‚æè‡´ç¨³å®šçš„å¤§è§„æ¨¡ç”Ÿäº§é›†ç¾¤ï¼Œå»ºè®®å…ˆåœ¨æµ‹è¯•/ç°åº¦ç¯å¢ƒä¸­å……åˆ†éªŒè¯ï¼Œæˆ–è§‚æœ›ç¤¾åŒºå†æ¼”è¿›6-12ä¸ªæœˆç­‰1.0 æ­£å¼ç‰ˆå‘å¸ƒï¼</p>
<p>é¡¹ç›®è¿˜æ¯”è¾ƒæ–°ï¼ˆçœŸæ­£ç«èµ·æ¥æ˜¯ 2024 å¹´åº•ä¹‹åï¼‰ï¼Œç›®å‰è¿˜å¤„åœ¨ <code>1.0.0-alpha</code> é˜¶æ®µï¼Œåˆ†å¸ƒå¼æ¨¡å¼ä»åœ¨å¿«é€Ÿè¿­ä»£ä¸­ã€‚å¯¹äºè¿½æ±‚æè‡´ç¨³å®šã€è§„æ¨¡å¾ˆå¤§çš„ç”Ÿäº§é›†ç¾¤ï¼Œ<strong>å»ºè®®å…ˆåœ¨æµ‹è¯• / ç°åº¦ç¯å¢ƒä¸­å……åˆ†éªŒè¯ï¼Œæˆ–è§‚æœ›ç¤¾åŒºå†æ¼”è¿› 6ï½12 ä¸ªæœˆï¼Œç­‰ 1.0 æ­£å¼ç‰ˆå‘å¸ƒå†åšå…¨é¢è¿ç§»å†³ç­–ã€‚</strong></p>
<p>å¦‚æœæ˜¯å•æœº / å°è§„æ¨¡é›†ç¾¤çš„è¯ï¼Œå®Œå…¨å¯ä»¥ä¸Šç”Ÿäº§ç¯å¢ƒç”¨äº†ï¼Œæ ¹æ®å¤§é‡ä½¿ç”¨è€…åé¦ˆï¼Œéå¸¸ç¨³å®šã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac24264bd2b443c48a9dbf568ec23cae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135929&amp;x-signature=y6yYguLZ5K4M7oX7UfRF1Y5Kjf8%3D" alt="" loading="lazy"/></p>
<p>å†å¤šä¸€ç‚¹ï¼ŒRustFS çš„è´¡çŒ®è€…åå•é‡Œèƒ½çœ‹åˆ°ä¸å°‘æŠ€æœ¯å¤§ä½¬ï¼Œæ¯”å¦‚ PHP å¤§ç¥å®‰æ­£è¶…ã€‚è€Œä¸”ï¼Œè¿™ä¸ªé¡¹ç›®å¤„ç† issue çš„é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œä½¿ç”¨é‡åˆ°ä»€ä¹ˆ bugï¼Œä¸€èˆ¬èƒ½å¤Ÿåœ¨æ¯”è¾ƒçŸ­çš„æ—¶é—´å°±å¤„ç†è§£å†³ã€‚</p>
<p>é¡¹ç›®åœ°å€ï¼š</p>
<ul>
<li>å®˜ç½‘ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Frustfs.com" target="_blank" title="https://rustfs.com" ref="nofollow noopener noreferrer">rustfs.com</a></strong></li>
<li>GitHubï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frustfs%2Frustfs" target="_blank" title="https://github.com/rustfs/rustfs" ref="nofollow noopener noreferrer">github.com/rustfs/rustâ€¦</a></strong></li>
</ul>
<h2 data-id="heading-1">Garageï¼ˆRustï¼Œä¸­å°è§„æ¨¡è‡ªæ‰˜ç®¡ï¼‰</h2>
<p>Garage æ˜¯ä¸€æ¬¾ <strong>S3 å…¼å®¹çš„åˆ†å¸ƒå¼å¯¹è±¡å­˜å‚¨æœåŠ¡</strong>ï¼Œä¸»è¦é¢å‘ <strong>å°åˆ°ä¸­å‹çš„è‡ªæ‰˜ç®¡ç¯å¢ƒ</strong>ã€‚å®ƒçš„ç›®æ ‡ä¸æ˜¯æ„å»ºè¶…å¤§è§„æ¨¡äº‘å¹³å°ï¼Œè€Œæ˜¯è®©ä½ èƒ½åœ¨å‡ å°æœåŠ¡å™¨ä¸Šï¼Œè½»æ¾è·‘èµ·ä¸€ä¸ªå¯é ã€å®¹é”™çš„å¯¹è±¡å­˜å‚¨ã€‚è€Œä¸”ï¼Œèƒ½è½»æ¾è·¨è¶Šä¸åŒç‰©ç†ä½ç½®ï¼ˆå¦‚å¤šä¸ªæœºæˆ¿ã€å®¶åº­å®½å¸¦+äº‘ä¸»æœºç»„åˆï¼‰éƒ¨ç½²ï¼Œå³ä½¿éƒ¨åˆ†èŠ‚ç‚¹æ‰çº¿ï¼Œæ•°æ®ä¾ç„¶å¯ç”¨ã€‚</p>
<p>ç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼š<strong>Garage æ˜¯ä¸€å¥—é€‚åˆâ€œè‡ªå·±æ­ã€å°å›¢é˜Ÿç”¨ã€å¤šèŠ‚ç‚¹éƒ¨ç½²â€çš„ S3 å­˜å‚¨ç³»ç»Ÿã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3413954ac7604dd1b7f6724075ca8bb4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135929&amp;x-signature=1EFVmrYYy%2FTaZTh1EG3fWierqcA%3D" alt="" loading="lazy"/></p>
<p>ä¸ºäº†è®©ç®¡ç†æ›´ç®€å•ï¼ŒGarage åŒæ ·æä¾›äº†ä¸€ä¸ªç‹¬ç«‹çš„ Web ç®¡ç†ç•Œé¢ â€”â€” <strong>Garage Web UI</strong>ã€‚å®ƒæ˜¯ Garage å¯¹è±¡å­˜å‚¨çš„å‰ç«¯æ§åˆ¶å°ï¼Œå¸®åŠ©ä½ é€šè¿‡æµè§ˆå™¨å®Œæˆæ—¥å¸¸è¿ç»´å·¥ä½œï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼šå¥åº·çŠ¶æ€ç›‘æ§ã€æ¡¶ï¼ˆBucketï¼‰ç®¡ç†ã€å¯¹è±¡æµè§ˆã€è®¿é—®å¯†é’¥ç®¡ç†ç­‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0bdccdb07a34d22bcd8d576e1fd9286~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135929&amp;x-signature=ZGS%2FuzNs2tKwoxyPV83Qgu%2BQkQU%3D" alt="" loading="lazy"/></p>
<p>é¡¹ç›®åœ°å€ï¼š</p>
<ul>
<li>å®˜ç½‘ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgaragehq.deuxfleurs.fr" target="_blank" title="https://garagehq.deuxfleurs.fr" ref="nofollow noopener noreferrer">garagehq.deuxfleurs.fr</a></strong></li>
<li>ä»“åº“ï¼ˆè‡ªæ‰˜ç®¡ï¼‰ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgit.deuxfleurs.fr%2FDeuxfleurs%2Fgarage" target="_blank" title="https://git.deuxfleurs.fr/Deuxfleurs/garage" ref="nofollow noopener noreferrer">git.deuxfleurs.fr/Deuxfleurs/â€¦</a></strong></li>
</ul>
<h2 data-id="heading-2">Cephï¼ˆC++ï¼Œè€ç‰Œåˆ†å¸ƒå¼å­˜å‚¨é¼»ç¥–ï¼‰</h2>
<p>Ceph æ˜¯å¼€æºåˆ†å¸ƒå¼å­˜å‚¨é¢†åŸŸçš„å…ƒè€é¡¹ç›®ï¼Œç¤¾åŒºæ´»è·ƒåº¦å’Œæˆç†Ÿåº¦éƒ½éå¸¸é«˜ï¼Œå½“å‰ä»æ˜¯å¼€æºåˆ†å¸ƒå¼å­˜å‚¨ç¬¬ä¸€æ¢¯é˜Ÿã€‚å®ƒæä¾› <strong>å¯¹è±¡å­˜å‚¨ï¼ˆRGWï¼Œå…¼å®¹ S3ï¼‰</strong>ã€<strong>å—å­˜å‚¨ï¼ˆRBDï¼‰</strong> å’Œ <strong>æ–‡ä»¶å­˜å‚¨ï¼ˆCephFSï¼‰</strong> ä¸‰åˆä¸€çš„ç»Ÿä¸€å­˜å‚¨å¹³å°ï¼Œèƒ½å¤Ÿåœ¨æ™®é€šç¡¬ä»¶ä¹‹ä¸Šï¼Œæ„å»ºä»PBåˆ°EBçº§ã€æ— å•ç‚¹æ•…éšœçš„å¤§è§„æ¨¡é›†ç¾¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/369d9514f7634c85b59b2d7bbbff1841~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135929&amp;x-signature=ukSHtPIWhXWNupLI8RD4n8GGNJU%3D" alt="" loading="lazy"/></p>
<p>Ceph è¿˜æ”¯æŒå¤šç§Ÿæˆ·éš”ç¦»ï¼Œæ»¡è¶³å¤æ‚ä¼ä¸šç¯å¢ƒçš„éœ€æ±‚ã€‚</p>
<p>ä¸MinIOæœ€å¤§çš„åŒºåˆ«åœ¨äºï¼š<strong>Cephæ˜¯â€œå…¨èƒ½å‹å¹³å°â€ï¼ŒMinIOæ˜¯â€œä¸“ç²¾å‹å·¥å…·â€</strong>ã€‚Cephæ¶æ„å¤æ‚ï¼Œè¿ç»´é—¨æ§›é«˜ï¼Œé€‚åˆæœ‰ä¸“ä¸šå­˜å‚¨/è¿ç»´å›¢é˜Ÿçš„ä¸­å¤§å‹ä¼ä¸šã€‚</p>
<p>Cephä¸å¤ªé€‚åˆå•æœºæˆ–å°è§„æ¨¡å­˜å‚¨ã€å¯¹å•æ¬¡è¯·æ±‚å»¶è¿Ÿæå…¶æ•æ„Ÿçš„ä¸šåŠ¡ã€é«˜é¢‘ç‡å°æ–‡ä»¶è¯»å†™ä»¥åŠå¯¹è¿ç»´ç®€å•æ€§è¦æ±‚å¾ˆé«˜çš„ä¸­å°å›¢é˜Ÿã€‚</p>
<p>é¡¹ç›®åœ°å€ï¼š</p>
<ul>
<li>å®˜ç½‘ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fceph.io%2F" target="_blank" title="https://ceph.io/" ref="nofollow noopener noreferrer">ceph.io/</a></strong></li>
<li>Githubï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fceph%2Fceph" target="_blank" title="https://github.com/ceph/ceph" ref="nofollow noopener noreferrer">github.com/ceph/ceph</a></strong></li>
</ul>
<h2 data-id="heading-3">SeaweedFSï¼ˆGoï¼Œæµ·é‡å°æ–‡ä»¶ç¥å™¨ï¼‰</h2>
<p>SeaweedFS æ˜¯ä¸“ä¸ºâ€œå‡ åäº¿å°æ–‡ä»¶ + é«˜å¹¶å‘è¯»å†™â€åœºæ™¯è®¾è®¡çš„é«˜æ€§èƒ½åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿã€‚å…¶æ ¸å¿ƒè®¾è®¡çµæ„Ÿæºè‡ª Facebook çš„ Haystack è®ºæ–‡ï¼Œé€šè¿‡å°†å…ƒæ•°æ®åˆ†æ•£åˆ°å·æœåŠ¡å™¨ï¼ˆVolume Serverï¼‰ï¼Œå®ç°äº†å•æ¬¡ç£ç›˜è®¿é—® O(1) çš„æè‡´è¯»å–æ•ˆç‡ã€‚å®ƒç¤¾åŒºæ´»è·ƒåº¦é«˜ï¼Œæ–‡æ¡£å®Œå–„ï¼Œä¸”æ¶æ„è½»é‡ï¼Œè¿ç»´æˆæœ¬è¿œä½äº Cephã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88a859c8503b4992ae31d9b3d1a598a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135929&amp;x-signature=693ewp58%2BLIypx41hy7eur2yf3g%3D" alt="" loading="lazy"/></p>
<p>å’Œ Ceph/MinIO çš„åŒºåˆ«åœ¨äºï¼š<strong>SeaweedFS æ˜¯ä¸ºâ€œå°æ–‡ä»¶æ€§èƒ½â€è€Œç”Ÿçš„ç‰¹ç§éƒ¨é˜Ÿ</strong>ã€‚å®ƒè§£å†³äº†ä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿåœ¨å¤„ç†æµ·é‡å°æ–‡ä»¶æ—¶å…ƒæ•°æ®æˆä¸ºç“¶é¢ˆçš„ç—›ç‚¹ã€‚ä¸è¿‡ï¼Œè¿™å¹¶ä¸ä»£è¡¨å…¶ä¸å¯ä»¥å­˜å‚¨å¤§æ–‡ä»¶ï¼Œåªæ˜¯åœ¨å°æ–‡ä»¶åœºæ™¯ä¼˜åŠ¿æ›´å¤§ã€‚</p>
<p><strong>é€‚åˆçš„åœºæ™¯ï¼š</strong></p>
<ul>
<li>æµ·é‡å°æ–‡ä»¶å­˜å‚¨ï¼Œå¦‚å›¾ç‰‡ã€ç¤¾äº¤åª’ä½“å†…å®¹ã€‚</li>
<li>éœ€è¦æä½å»¶è¿Ÿè¯»å–çš„ä¸šåŠ¡ï¼Œå¦‚å®æ—¶å¤´åƒè·å–ã€ç¼©ç•¥å›¾æœåŠ¡ã€‚</li>
<li>åŒ…å«æ•°äº¿å¼ å°å›¾ç‰‡æˆ–éŸ³é¢‘ç‰‡æ®µçš„æœºå™¨å­¦ä¹ è®­ç»ƒé›†å­˜å‚¨ã€‚</li>
<li>å¤§è§„æ¨¡æ—¥å¿—æ–‡ä»¶çš„é¡ºåºå†™å…¥ä¸å­˜å‚¨ã€‚</li>
</ul>
<p>é¡¹ç›®åœ°å€ï¼š</p>
<ul>
<li>å®˜ç½‘ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fseaweedfs.com%2F" target="_blank" title="https://seaweedfs.com/" ref="nofollow noopener noreferrer">seaweedfs.com/</a></strong></li>
<li>Githubï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fseaweedfs%2Fseaweedfs" target="_blank" title="https://github.com/seaweedfs/seaweedfs" ref="nofollow noopener noreferrer">github.com/seaweedfs/sâ€¦</a></strong></li>
</ul>
<h2 data-id="heading-4">äº‘å‚å•†å¯¹è±¡å­˜å‚¨ï¼ˆOSS / COS / S3 ç­‰ï¼‰</h2>
<p>äº‘å‚å•†æä¾›çš„å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼ˆObject Storage Serviceï¼ŒOSS / COS / S3ï¼‰æ˜¯ä¸€ç§<strong>æµ·é‡ã€å®‰å…¨ã€ä½æˆæœ¬ä¸”é«˜åº¦å¯é </strong>çš„äº‘å­˜å‚¨å½¢æ€ï¼Œé€‚åˆå­˜æ”¾ä»»æ„ç±»å‹çš„æ–‡ä»¶ã€‚å®¹é‡ä¸ååå¯ä»¥æŒ‰éœ€å¼¹æ€§æ‰©å±•ï¼Œå¹¶æä¾›å¤šç§å­˜å‚¨ç±»å‹ï¼Œå¸®åŠ©ä¼˜åŒ–æ•´ä½“å­˜å‚¨æˆæœ¬ã€‚</p>
<p>å¸¸è§æä¾›å¯¹è±¡å­˜å‚¨æœåŠ¡çš„äº‘å‚å•†åŒ…æ‹¬ï¼š<strong>é˜¿é‡Œäº‘ OSSã€è…¾è®¯äº‘ COSã€ä¸ƒç‰›äº‘ã€AWS S3</strong> ç­‰ã€‚</p>
<p>äº‘å‚å•†å¯¹è±¡å­˜å‚¨çš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>å¯é æ€§å¼º</strong> ï¼š æ‹¿é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨ OSSï¼ˆObject Storage Serviceï¼‰ä¸ºä¾‹è¯´æ˜ï¼Œå…¶å¯æä¾› 99.9999999999%ï¼ˆ12 ä¸ª 9ï¼‰çš„æ•°æ®æŒä¹…æ€§ï¼Œ99.995%çš„æ•°æ®å¯ç”¨æ€§ã€‚</li>
<li><strong>å®‰å…¨æ€§å¼º</strong>ï¼šå¯¹è±¡å­˜å‚¨æœåŠ¡ä¸€èˆ¬éƒ½ä¼šæ”¯æŒé˜²ç›—é“¾é…ç½®ï¼ˆå¯å±è”½æ¶æ„æ¥æºçš„è®¿é—®ï¼‰ã€åŸºäº SSL å’Œ TLS çš„ HTTPS æ•°æ®åŠ å¯†ä¼ è¾“ã€æ–‡ä»¶ç‰ˆæœ¬æ§åˆ¶ï¼ˆé˜²æ­¢æ–‡ä»¶è¢«è¯¯åˆ é™¤æˆ–è¦†ç›–è€Œé€ æˆæ•°æ®ä¸¢å¤±ï¼‰ã€æ§åˆ¶æ¯ä¸ªå•ç‹¬æ–‡ä»¶çš„è¯»å†™æƒé™ç­‰åŠŸèƒ½ã€‚</li>
<li><strong>æ‰©å±•æ€§å¼º</strong>ï¼šä¸é™åˆ¶å­˜å‚¨ç©ºé—´å¤§å°ã€‚æ‚¨å¯ä»¥æ ¹æ®æ‰€éœ€å­˜å‚¨é‡æ— é™æ‰©å±•å­˜å‚¨ç©ºé—´ï¼Œè§£å†³äº†ä¼ ç»Ÿç¡¬ä»¶å­˜å‚¨æ‰©å®¹é—®é¢˜ã€‚</li>
<li><strong>æˆæœ¬è¾ƒä½</strong>ï¼šæ— éœ€ä¼ ç»Ÿç¡¬ä»¶çš„é‡‡è´­ã€éƒ¨ç½²å’Œè¿ç»´ï¼Œæ”¯æŒæŒ‰é‡ä»˜è´¹ã€‚</li>
<li><strong>æ¥å…¥æ–¹ä¾¿</strong>ï¼šå¯¹è±¡å­˜å‚¨æœåŠ¡ä¸€èˆ¬éƒ½ä¼šæä¾›æ ‡å‡†çš„ RESTful API æ¥å£ã€ä¸°å¯Œçš„ SDK åŒ…ã€å®¢æˆ·ç«¯å·¥å…·ã€æ§åˆ¶å°ã€‚</li>
<li>â€¦â€¦</li>
</ul>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p>è¿™å¼ è¡¨æ ¼æ˜¯æˆ‘è®© Gemini 3 Pro åšçš„æ€»ç»“å¯¹æ¯”ï¼Œå¯ä¾›å‚è€ƒï¼ˆä¼šæœ‰å¹»è§‰é—®é¢˜ï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d2e630d579e4fb8a6c8382afd7278e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135929&amp;x-signature=NXLV0RgTH%2FzWdreQ8%2FCF0n4ydVg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58f9b240e0ac423083b17621bddeb7df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YUd1aWRl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766135929&amp;x-signature=Z9iWh7yGN9wiA%2BhclYm2Sv6Oeuo%3D" alt="" loading="lazy"/></p>
<p><strong>å¯¹äºä¸ªäººå¼€å‘è€…æˆ–ä¸­å°å›¢é˜Ÿï¼š</strong></p>
<ul>
<li>å¦‚æœä½ çš„éœ€æ±‚æ˜¯å¿«é€Ÿè‡ªå»ºä¸€ä¸ªS3å…¼å®¹å­˜å‚¨ï¼Œæ•°æ®é‡ä¸å¤§ï¼Œå¼ºçƒˆæ¨èå…ˆå°è¯•<strong>Garage</strong>ï¼ˆéƒ¨ç½²æœ€è½»é‡ã€å¯¹ç¯å¢ƒè¦æ±‚ä½ï¼‰æˆ– <strong>RustFS</strong>ï¼ˆåŠŸèƒ½æ›´å…¨ï¼Œæ€§èƒ½æ›´å¼ºï¼‰ã€‚</li>
<li>å¦‚æœåªæ˜¯å­˜ä¸€äº›å›¾ç‰‡ã€è§†é¢‘ç­‰æ™®é€šä¸šåŠ¡æ–‡ä»¶ï¼Œè€Œä¸”å¯¹â€œå¯ç”¨æ€§çœå¿ƒã€å°‘è¿ç»´â€æ›´çœ‹é‡ï¼Œ  é‚£ä¹ˆç›´æ¥ç”¨<strong>äº‘å‚å•†çš„ OSS / COS / S3</strong> å¾€å¾€æ˜¯æˆæœ¬å’Œç²¾åŠ›æŠ•å…¥éƒ½æ›´ä¼˜çš„é€‰æ‹©ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FGCVnMF2WojsG34wRzXy3JA" target="_blank" title="https://mp.weixin.qq.com/s/GCVnMF2WojsG34wRzXy3JA" ref="nofollow noopener noreferrer">JavaGuide(javaguide.cn)</a>ä¸Šæ‰€æœ‰çš„å›¾ç‰‡éƒ½å­˜æ”¾åœ¨ OSS ä¸­ï¼‰ã€‚</li>
</ul>
<p><strong>å¦‚æœä½ å·²ç»åœ¨ç”¨ MinIO</strong>ï¼šå¦‚æœè€ç‰ˆæœ¬è¿˜èƒ½ç¨³å®šè¿è¡Œï¼Œå®Œå…¨å¯ä»¥â€œè®©å­å¼¹å†é£ä¸€ä¼šå„¿â€ã€‚å¯ä»¥è€ƒè™‘åˆ©ç”¨è¿™æ®µæ—¶é—´æ­ä¸€å¥— RustFS / Garage / å…¶ä»–æ–¹æ¡ˆçš„æµ‹è¯•ç¯å¢ƒï¼Œé¢„ç ”è¿ç§»è·¯å¾„å’Œæˆæœ¬ã€‚ç­‰åˆ° <strong>RustFS</strong> å‘å¸ƒ <strong>1.0 æ­£å¼ç‰ˆ</strong>ï¼Œå†ç»“åˆè‡ªèº«ä¸šåŠ¡èŠ‚å¥åšæ•´ä½“è¿ç§»å†³ç­–ï¼Œä¼šæ›´ç¨³å¦¥ã€‚</p>
<p><strong>å¯¹äºä¸­å¤§å‹ä¼ä¸šæˆ–æœ‰å¤æ‚éœ€æ±‚çš„ç”¨æˆ·ï¼š</strong></p>
<ul>
<li>é¢„ç®—å…è®¸ã€å¯¹å¯ç”¨æ€§å’Œåˆè§„è¦æ±‚é«˜æ—¶ï¼Œç›´æ¥ç”¨ <strong>äº‘å‚å•† OSS / COS / S3</strong> ä¾ç„¶æ˜¯æ€»ä½“æˆæœ¬æœ€ä½ã€å¿ƒæ™ºè´Ÿæ‹…æœ€å°çš„é€‰æ‹©â€”â€”æŠŠç²¾åŠ›æ”¾åœ¨ä¸šåŠ¡è€Œä¸æ˜¯å­˜å‚¨åº•åº§ä¸Šã€‚</li>
<li>å¿…é¡»è‡ªå»ºæ—¶ï¼š
<ul>
<li>è¿½æ±‚ <strong>ç»Ÿä¸€å— / æ–‡ä»¶ / å¯¹è±¡ + è¶…å¤§è§„æ¨¡é›†ç¾¤</strong> â†’ é‡ç‚¹è¯„ä¼° <strong>Ceph / CubeFS</strong>ã€‚</li>
<li>ä¸šåŠ¡ä»¥ <strong>æµ·é‡å°æ–‡ä»¶ã€é«˜å¹¶å‘è®¿é—®</strong> ä¸ºä¸» â†’ <strong>SeaweedFS</strong> ä¼šæ¯”é€šç”¨å¯¹è±¡å­˜å‚¨æ›´åˆé€‚ã€‚</li>
<li>å¯ä»¥æ¥å—æ–°æŠ€æœ¯æ ˆã€å¸Œæœ›åœ¨å¯¹è±¡å­˜å‚¨å±‚æ‹¿åˆ° <strong>æ›´é«˜æ€§èƒ½ä¸æ›´å‹å¥½çš„å¼€æºåè®®ï¼ˆApache 2.0ï¼‰</strong> â†’ <strong>RustFS</strong> å€¼å¾—åˆ—å…¥ä¸­é•¿æœŸä¸»åŠ›é€‰å‹ã€‚</li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIäº§å“ç»ç†çš„æ ¸å¿ƒç«äº‰åŠ›ï¼šåœ¨æŠ€æœ¯ã€ç”¨æˆ·ä¸å•†ä¸šçš„äº¤å‰ç‚¹ä¸Šåˆ›é€ ä»·å€¼]]></title>    <link>https://juejin.cn/post/7582759716188061696</link>    <guid>https://juejin.cn/post/7582759716188061696</guid>    <pubDate>2025-12-12T09:24:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582759716188061696" data-draft-id="7582783931162820643" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIäº§å“ç»ç†çš„æ ¸å¿ƒç«äº‰åŠ›ï¼šåœ¨æŠ€æœ¯ã€ç”¨æˆ·ä¸å•†ä¸šçš„äº¤å‰ç‚¹ä¸Šåˆ›é€ ä»·å€¼"/> <meta itemprop="keywords" content="äº§å“,äº§å“ç»ç†,èµ„è®¯"/> <meta itemprop="datePublished" content="2025-12-12T09:24:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Yooå‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/2791012486624116"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIäº§å“ç»ç†çš„æ ¸å¿ƒç«äº‰åŠ›ï¼šåœ¨æŠ€æœ¯ã€ç”¨æˆ·ä¸å•†ä¸šçš„äº¤å‰ç‚¹ä¸Šåˆ›é€ ä»·å€¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2791012486624116/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Yooå‰ç«¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T09:24:31.000Z" title="Fri Dec 12 2025 09:24:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨å¤§æ¨¡å‹æµªæ½®å¸­å·å…¨çƒçš„ä»Šå¤©ï¼Œâ€œAIäº§å“ç»ç†â€å·²æˆä¸ºç§‘æŠ€è¡Œä¸šæœ€ç‚™æ‰‹å¯çƒ­çš„è§’è‰²ä¹‹ä¸€ã€‚ä½†çƒ­æ½®ä¹‹ä¸‹ï¼Œä¸€ä¸ªå…³é”®é—®é¢˜æµ®å‡ºæ°´é¢ï¼š<br/>
<strong>å½“äººäººéƒ½åœ¨è°ˆâ€œAI+äº§å“â€ï¼ŒçœŸæ­£èƒ½é©¾é©­è¿™åœºå˜é©çš„äº§å“ç»ç†ï¼Œç©¶ç«Ÿé ä»€ä¹ˆè„±é¢–è€Œå‡ºï¼Ÿ</strong></p>
<p>ç­”æ¡ˆä¸æ˜¯ä¼šå†™ Promptï¼Œä¹Ÿä¸æ˜¯èƒŒè¯µ Transformer åŸç†ï¼Œè€Œæ˜¯â€”â€”<strong>åœ¨æŠ€æœ¯å¯èƒ½æ€§ã€ç”¨æˆ·çœŸå®éœ€æ±‚ä¸å•†ä¸šå¯æŒç»­æ€§ä¹‹é—´ï¼Œæ„å»ºç²¾å‡†çš„åˆ¤æ–­åŠ›ä¸é«˜æ•ˆçš„æ‰§è¡ŒåŠ›</strong>ã€‚</p>
<p>æœ¬æ–‡å°†ä»å››å¤§ç»´åº¦ï¼Œç³»ç»Ÿæ‹†è§£ AI äº§å“ç»ç†çš„æ ¸å¿ƒç«äº‰åŠ›ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€æŠ€æœ¯ç†è§£åŠ›ï¼šä¸æ˜¯æˆä¸ºå·¥ç¨‹å¸ˆï¼Œè€Œæ˜¯æˆä¸ºâ€œæŠ€æœ¯ç¿»è¯‘è€…â€</h2>
<p>AI PM ä¸éœ€è¦å†™è®­ç»ƒä»£ç ï¼Œä½†å¿…é¡»<strong>ç†è§£å…³é”®æŠ€æœ¯çš„è¾¹ç•Œã€æˆæœ¬ä¸é€‚ç”¨åœºæ™¯</strong>ã€‚è¿™æ˜¯ä½ ä¸ç®—æ³•å›¢é˜Ÿé«˜æ•ˆåä½œã€é¿å…â€œç©ºä¸­æ¥¼é˜â€å¼éœ€æ±‚çš„åŸºç¡€ã€‚</p>
<h3 data-id="heading-1">å…³é”®èƒ½åŠ›é¡¹ï¼š</h3>
<ul>
<li>
<p><strong>æŒæ¡ä¸»æµ AI æ¶æ„çš„é€‚ç”¨é€»è¾‘</strong><br/>
èƒ½æ¸…æ™°åŒºåˆ†ä½•æ—¶ç”¨ RAGã€ä½•æ—¶å¾®è°ƒã€ä½•æ—¶æ„å»º Agentï¼Œå¹¶è¯´æ˜ç†ç”±ã€‚ä¾‹å¦‚ï¼š</p>
<blockquote>
<p>â€œRAG é€‚åˆçŸ¥è¯†é«˜é¢‘æ›´æ–°ã€é¢†åŸŸå¹¿ä½†æ·±åº¦è¦æ±‚ä¸é«˜çš„åœºæ™¯ï¼›è€Œå¾®è°ƒæ›´é€‚åˆè¯­è¨€é£æ ¼ã€æœ¯è¯­ä½“ç³»é«˜åº¦å®šåˆ¶åŒ–çš„å‚ç›´ä»»åŠ¡ã€‚â€</p>
</blockquote>
</li>
<li>
<p><strong>ç†è§£æ•°æ®é—­ç¯ä¸æ¨¡å‹è¿­ä»£æœºåˆ¶</strong><br/>
çŸ¥é“ bad case å¦‚ä½•è¢«è‡ªåŠ¨æ•è·ã€æ ‡æ³¨ã€å›æµè®­ç»ƒï¼Œå½¢æˆâ€œäº§å“â†’æ•°æ®â†’æ¨¡å‹â†’äº§å“â€çš„é£è½®ã€‚</p>
</li>
<li>
<p><strong>å…³æ³¨æ¨ç†æˆæœ¬ä¸å·¥ç¨‹çº¦æŸ</strong><br/>
èƒ½é¢„åˆ¤å»¶è¿Ÿï¼ˆlatencyï¼‰ã€å¹¶å‘é‡ï¼ˆQPSï¼‰ã€æ˜¾å­˜å ç”¨å¯¹ç”¨æˆ·ä½“éªŒçš„å½±å“ã€‚ä¾‹å¦‚ï¼šâ€œ70B æ¨¡å‹è™½å¼ºï¼Œä½†å“åº”è¶… 5 ç§’ï¼Œç”¨æˆ·æµå¤±ç‡ä¸Šå‡ 60%â€ã€‚</p>
</li>
</ul>
<h3 data-id="heading-2">é¢è¯•ä½“ç°æ–¹å¼ï¼š</h3>
<blockquote>
<p>â€œæˆ‘ä»¬åœ¨è®¾è®¡æ™ºèƒ½æŠ•ç ”åŠ©æ‰‹æ—¶ï¼Œè¯„ä¼°äº†ä¸‰ç§æ–¹æ¡ˆï¼šå…¨å¾®è°ƒã€RAGã€RAG+è½»é‡å¾®è°ƒã€‚æœ€ç»ˆé€‰æ‹©åè€…ï¼Œå› ä¸ºæ—¢è¦ä¿è¯é‡‘èæœ¯è¯­å‡†ç¡®æ€§ï¼ˆéœ€å¾®è°ƒï¼‰ï¼Œåˆè¦æ”¯æŒå®æ—¶è´¢æŠ¥é—®ç­”ï¼ˆéœ€ RAGï¼‰ã€‚æˆ‘ä»¬ç”¨ LoRA å°†å¾®è°ƒæˆæœ¬æ§åˆ¶åœ¨æ¯æ—¥ $15ï¼ŒåŒæ—¶é€šè¿‡ç¼“å­˜é«˜é¢‘ query é™ä½ API è°ƒç”¨é¢‘æ¬¡ã€‚â€</p>
</blockquote>
<hr/>
<h2 data-id="heading-3">äºŒã€ç”¨æˆ·æ´å¯ŸåŠ›ï¼šç©¿é€â€œAI å¹»è§‰â€ï¼Œå›å½’çœŸå®ä»»åŠ¡</h2>
<p>AI çš„å¼ºå¤§å®¹æ˜“è®©äººé™·å…¥â€œæŠ€æœ¯è‡ªå—¨â€â€”â€”ä»¥ä¸ºç‚«é…·çš„ç”Ÿæˆèƒ½åŠ›å°±æ˜¯ç”¨æˆ·æ‰€éœ€ã€‚ä½†çœŸæ­£çš„ AI PM å¿…é¡»è¿½é—®ï¼š</p>
<blockquote>
<p><strong>ç”¨æˆ·åˆ°åº•æƒ³å®Œæˆä»€ä¹ˆâ€œä»»åŠ¡â€ï¼ŸAI æ˜¯å¸®æ‰‹ï¼Œè¿˜æ˜¯å¹²æ‰°ï¼Ÿ</strong></p>
</blockquote>
<h3 data-id="heading-4">å…³é”®èƒ½åŠ›é¡¹ï¼š</h3>
<ul>
<li>
<p><strong>ç”¨ JTBDï¼ˆJobs-To-Be-Doneï¼‰æ¡†æ¶å®šä¹‰é—®é¢˜</strong><br/>
ä¸é—®â€œç”¨æˆ·æƒ³è¦ä»€ä¹ˆåŠŸèƒ½â€ï¼Œè€Œé—®â€œç”¨æˆ·åœ¨ä»€ä¹ˆæƒ…å¢ƒä¸‹ï¼Œè¯•å›¾å®Œæˆä»€ä¹ˆç›®æ ‡ï¼Ÿâ€<br/>
ä¾‹ï¼šç”¨æˆ·ä¸æ˜¯è¦â€œèŠå¤©æœºå™¨äººâ€ï¼Œè€Œæ˜¯è¦â€œå¿«é€Ÿèµ·è‰ä¸€å°ä¸“ä¸šè‹±æ–‡é‚®ä»¶â€ã€‚</p>
</li>
<li>
<p><strong>è¯†åˆ« AI çš„â€œå¯ç”¨æ€§é™·é˜±â€</strong></p>
<ul>
<li>å¹»è§‰ï¼ˆHallucinationï¼‰å¯¼è‡´ä¿¡ä»»å´©å¡Œ</li>
<li>è¾“å‡ºä¸ç¨³å®šå¼•å‘æ“ä½œç„¦è™‘</li>
<li>ç¼ºä¹å¯è§£é‡Šæ€§è®©ç”¨æˆ·ä¸æ•¢å†³ç­–</li>
</ul>
</li>
<li>
<p><strong>è®¾è®¡â€œäººæœºååŒâ€ä½“éªŒ</strong><br/>
æ˜ç¡® AI è´Ÿè´£ä»€ä¹ˆï¼ˆä¿¡æ¯èšåˆã€åˆç¨¿ç”Ÿæˆï¼‰ï¼Œäººç±»è´Ÿè´£ä»€ä¹ˆï¼ˆå®¡æ ¸ã€å†³ç­–ã€æƒ…æ„Ÿè¡¨è¾¾ï¼‰ï¼Œå¹¶æä¾›æ¸…æ™°çš„æ§åˆ¶æƒï¼ˆå¦‚â€œé‡å†™â€ã€â€œå¼•ç”¨æ¥æºâ€ã€â€œè°ƒæ•´è¯­æ°”â€ï¼‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-5">é¢è¯•ä½“ç°æ–¹å¼ï¼š</h3>
<blockquote>
<p>â€œæˆ‘ä»¬å‘ç°ç”¨æˆ·å¯¹ AI ç”Ÿæˆçš„æ³•å¾‹åˆåŒä¸æ•¢ç›´æ¥ä½¿ç”¨ã€‚äºæ˜¯æˆ‘ä»¬åœ¨è¾“å‡ºä¸­å¼ºåˆ¶æ ‡æ³¨æ¯æ¡æ¡æ¬¾çš„æ³•è§„ä¾æ®ï¼Œå¹¶åŠ å…¥â€˜é£é™©æç¤ºâ€™æ¨¡å—ã€‚åŒæ—¶æä¾›â€˜äººå·¥å¾‹å¸ˆå¤æ ¸â€™å…¥å£â€”â€”è½¬åŒ–ç‡æå‡ 2.3 å€ï¼ŒNPS ä» -15 å‡è‡³ +42ã€‚â€</p>
</blockquote>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€äº§å“æ¶æ„åŠ›ï¼šä»åŠŸèƒ½å †ç Œåˆ°ç³»ç»Ÿè®¾è®¡</h2>
<p>ä¼ ç»Ÿ PM å…³æ³¨åŠŸèƒ½åˆ—è¡¨ï¼Œè€Œ AI PM å¿…é¡»è®¾è®¡<strong>ç«¯åˆ°ç«¯çš„æ™ºèƒ½ç³»ç»Ÿ</strong>â€”â€”åŒ…æ‹¬æ•°æ®æµã€åé¦ˆç¯ã€å¤±è´¥å¤„ç†ã€å®‰å…¨è¾¹ç•Œã€‚</p>
<h3 data-id="heading-7">å…³é”®èƒ½åŠ›é¡¹ï¼š</h3>
<ul>
<li>
<p><strong>æ„å»ºå¯æ‰©å±•çš„ AI äº§å“æ¶æ„</strong><br/>
èƒ½ç»˜åˆ¶åŒ…å«ä»¥ä¸‹æ¨¡å—çš„ç³»ç»Ÿå›¾ï¼š</p>
<ul>
<li>è¾“å…¥å±‚ï¼ˆç”¨æˆ· query / å¤šæ¨¡æ€ä¿¡å·ï¼‰</li>
<li>æ„å›¾è¯†åˆ«ä¸è·¯ç”±ï¼ˆæ˜¯å¦èµ° RAGï¼Ÿæ˜¯å¦è°ƒå·¥å…·ï¼Ÿï¼‰</li>
<li>æ‰§è¡Œå¼•æ“ï¼ˆAgent å·¥ä½œæµã€å·¥å…·é“¾ï¼‰</li>
<li>è¾“å‡ºå±‚ï¼ˆç”Ÿæˆ + å¼•ç”¨ + å¯æ§å‚æ•°ï¼‰</li>
<li>ç›‘æ§å±‚ï¼ˆå¹»è§‰æ£€æµ‹ã€å»¶è¿Ÿå‘Šè­¦ã€ç”¨æˆ·åé¦ˆï¼‰</li>
</ul>
</li>
<li>
<p><strong>è®¾è®¡è¯„ä¼°ä¸è¿­ä»£æœºåˆ¶</strong><br/>
ä¸ä»…çœ‹å‡†ç¡®ç‡ï¼Œæ›´å»ºç«‹å¤šç»´æŒ‡æ ‡ï¼š</p>
<ul>
<li><strong>ä»»åŠ¡æˆåŠŸç‡</strong>ï¼ˆTask Success Rateï¼‰</li>
<li><strong>ç”¨æˆ·å¹²é¢„ç‡</strong>ï¼ˆHuman Takeover Rateï¼‰</li>
<li><strong>ä¿¡ä»»åº¦è¯„åˆ†</strong>ï¼ˆTrust Score via A/B Testï¼‰</li>
<li><strong>å•ä½ç»æµæ¨¡å‹</strong>ï¼ˆCost per Query vs. Revenueï¼‰</li>
</ul>
</li>
<li>
<p><strong>é¢„è®¾å¤±è´¥è·¯å¾„ï¼ˆFallback Strategyï¼‰</strong><br/>
å½“ AI ä¸ç¡®å®šæ—¶ï¼Œå¦‚ä½•ä¼˜é›…é™çº§ï¼Ÿè½¬äººå·¥ï¼Ÿè¿”å›ç©ºç»“æœï¼Ÿæä¾›é€‰é¡¹ï¼Ÿè¿™ç›´æ¥å†³å®šäº§å“é²æ£’æ€§ã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">é¢è¯•ä½“ç°æ–¹å¼ï¼š</h3>
<blockquote>
<p>â€œæˆ‘ä»¬çš„ Agent ç³»ç»Ÿå†…ç½®ä¸‰å±‚ fallbackï¼šç¬¬ä¸€å±‚æ˜¯ç½®ä¿¡åº¦é˜ˆå€¼ï¼Œä½äº 0.7 åˆ™è¿½é—®æ¾„æ¸…ï¼›ç¬¬äºŒå±‚æ˜¯è§„åˆ™å¼•æ“å…œåº•ï¼ˆå¦‚æŸ¥å¤©æ°”èµ°å›ºå®š APIï¼‰ï¼›ç¬¬ä¸‰å±‚æ˜¯è½¬æ¥äººå·¥å®¢æœã€‚ä¸Šçº¿åï¼Œç”¨æˆ·æŠ•è¯‰ç‡ä¸‹é™ 78%ã€‚â€</p>
</blockquote>
<hr/>
<h2 data-id="heading-9">å››ã€å•†ä¸šåˆ¤æ–­åŠ›ï¼šè®© AI ä»æˆæœ¬ä¸­å¿ƒèµ°å‘ä»·å€¼å¼•æ“</h2>
<p>AI é¡¹ç›®å¾€å¾€çƒ§é’±å¿«ã€è§æ•ˆæ…¢ã€‚ä¼˜ç§€çš„ AI PM å¿…é¡»å›ç­”ï¼š</p>
<blockquote>
<p><strong>è¿™ä¸ª AI åŠŸèƒ½ï¼Œå¦‚ä½•å¸¦æ¥æ”¶å…¥ã€é™ä½æˆæœ¬ã€æˆ–æ„å»ºç«äº‰å£å’ï¼Ÿ</strong></p>
</blockquote>
<h3 data-id="heading-10">å…³é”®èƒ½åŠ›é¡¹ï¼š</h3>
<ul>
<li>
<p><strong>é‡åŒ– ROI</strong><br/>
è®¡ç®—ï¼šAI æ›¿ä»£äººåŠ›èŠ‚çœçš„æˆæœ¬ vs. æ¨¡å‹æ¨ç†+ç»´æŠ¤æˆæœ¬ã€‚<br/>
ä¾‹ï¼šâ€œå®¢æœæœºå™¨äººæ¯æœˆèŠ‚çœ 200 äººå¤©ï¼Œä½† API æˆæœ¬ $8Kï¼Œå‡€æ”¶ç›Šä¸ºæ­£ã€‚â€</p>
</li>
<li>
<p><strong>è®¾è®¡å¯å˜ç°çš„ AI äº§å“å½¢æ€</strong></p>
<ul>
<li>æŒ‰ query è®¡è´¹ï¼ˆå¦‚ Perplexityï¼‰</li>
<li>æŒ‰èƒ½åŠ›åˆ†çº§ï¼ˆåŸºç¡€ç‰ˆå…è´¹ï¼Œé«˜çº§åˆ†æä»˜è´¹ï¼‰</li>
<li>åµŒå…¥å·¥ä½œæµï¼ˆå¦‚ Notion AI æå‡ç•™å­˜ï¼‰</li>
</ul>
</li>
<li>
<p><strong>è¯†åˆ«â€œä¼ª AI éœ€æ±‚â€</strong><br/>
è­¦æƒ•ä¸ºäº†â€œè¹­çƒ­ç‚¹â€è€Œå¼ºè¡ŒåŠ  AI çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼šä¸€ä¸ªç®€å•çš„è¡¨å•å¡«å†™ï¼Œç”¨è§„åˆ™å¼•æ“æ¯” LLM æ›´å¯é ã€æ›´ä¾¿å®œã€‚</p>
</li>
</ul>
<h3 data-id="heading-11">é¢è¯•ä½“ç°æ–¹å¼ï¼š</h3>
<blockquote>
<p>â€œæˆ‘ä»¬æœ€åˆæƒ³ç»™ CRM åŠ â€˜AI è‡ªåŠ¨ç”Ÿæˆå®¢æˆ·ç”»åƒâ€™ï¼Œä½†æµ‹ç®—å‘ç°ï¼šé”€å”®å›¢é˜Ÿæ¯å¤©åªèŠ± 2 åˆ†é’Ÿæ‰‹åŠ¨å½•å…¥ï¼Œè€Œ AI æ–¹æ¡ˆæœˆæˆæœ¬ $12Kã€‚äºæ˜¯æˆ‘ä»¬è½¬å‘é«˜ä»·å€¼åœºæ™¯â€”â€”ç”¨ AI åˆ†æä¼šè®®å½•éŸ³ç”Ÿæˆè¡ŒåŠ¨é¡¹ï¼Œè¯¥åŠŸèƒ½æˆä¸º Premium è®¢é˜…çš„å…³é”®å–ç‚¹ï¼Œå¸¦åŠ¨ ARPU æå‡ 18%ã€‚â€</p>
</blockquote>
<hr/>
<h2 data-id="heading-12">äº”ã€æ ¸å¿ƒç«äº‰åŠ›æ€»ç»“ï¼šAI PM çš„â€œé»„é‡‘ä¸‰è§’â€</h2>

























<table><thead><tr><th>ç»´åº¦</th><th>èƒ½åŠ›</th><th>è¡¡é‡æ ‡å‡†</th></tr></thead><tbody><tr><td><strong>æŠ€æœ¯ç†è§£åŠ›</strong></td><td>çŸ¥é“ AI èƒ½åšä»€ä¹ˆã€ä¸èƒ½åšä»€ä¹ˆã€ä»£ä»·æ˜¯ä»€ä¹ˆ</td><td>èƒ½ä¸ç®—æ³•å·¥ç¨‹å¸ˆå¯¹é½æŠ€æœ¯æ–¹æ¡ˆï¼Œé¿å…ä¸åˆ‡å®é™…çš„éœ€æ±‚</td></tr><tr><td><strong>ç”¨æˆ·æ´å¯ŸåŠ›</strong></td><td>ç©¿é€æŠ€æœ¯è¡¨è±¡ï¼ŒæŠ“ä½çœŸå®ä»»åŠ¡ä¸æƒ…æ„Ÿè¯‰æ±‚</td><td>ç”¨æˆ·æ„¿æ„ä¸ºä½ çš„ AI åŠŸèƒ½ä»˜è´¹æˆ–ä¸»åŠ¨ä½¿ç”¨</td></tr><tr><td><strong>å•†ä¸šåˆ¤æ–­åŠ›</strong></td><td>å°† AI è½¬åŒ–ä¸ºå¯æŒç»­çš„ä»·å€¼å•å…ƒ</td><td>é¡¹ç›®æœ‰æ˜ç¡® ROIï¼Œæˆ–æ„å»ºé•¿æœŸç«äº‰å£å’</td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>ç»ˆææ ‡å¿—</strong>ï¼šä½ ä¸å†è¯´â€œæˆ‘ä»¬è¦åšä¸€ä¸ª AI äº§å“â€ï¼Œè€Œæ˜¯è¯´<br/>
<strong>â€œæˆ‘ä»¬ç”¨ AI è§£å†³ X ç”¨æˆ·åœ¨ Y åœºæ™¯ä¸‹çš„ Z é—®é¢˜ï¼Œæˆæœ¬å¯æ§ã€æ•ˆæœå¯æµ‹ã€ä»·å€¼å¯æ‰©ã€‚â€</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-13">ç»“è¯­ï¼šAI äº§å“ç»ç†ï¼Œæ˜¯æ–°æ—¶ä»£çš„â€œç³»ç»Ÿè®¾è®¡å¸ˆâ€</h2>
<p>æœªæ¥çš„ AI äº§å“ï¼Œä¸å†æ˜¯â€œå‰ç«¯+åç«¯+æ•°æ®åº“â€çš„ç»„åˆï¼Œè€Œæ˜¯â€œç”¨æˆ·æ„å›¾ + æ•°æ®å¼•æ“ + æ™ºèƒ½ä»£ç† + åé¦ˆé—­ç¯â€çš„å¤æ‚ç³»ç»Ÿã€‚<br/>
AI äº§å“ç»ç†ï¼Œæ­£æ˜¯è¿™ä¸ªç³»ç»Ÿçš„<strong>æ¶æ„å¸ˆã€ç¿»è¯‘å®˜ä¸å®ˆé—¨äºº</strong>ã€‚</p>
<p>ä½ ä¸éœ€è¦æˆä¸ºæœ€æ‡‚ç®—æ³•çš„äººï¼Œä½†å¿…é¡»æ˜¯æœ€æ‡‚â€œå¦‚ä½•è®©ç®—æ³•æœåŠ¡äºäººâ€çš„äººã€‚</p>
<p>è€Œè¿™ï¼Œå°±æ˜¯ä¸å¯æ›¿ä»£çš„æ ¸å¿ƒç«äº‰åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ iPhone æ–‡ä»¶ç®¡ç†ï¼Œä»æ²™ç›’ç»“æ„åˆ°å¼€å‘è°ƒè¯•çš„å¤šå·¥å…·ååŒå®è·µ]]></title>    <link>https://juejin.cn/post/7582637280218103862</link>    <guid>https://juejin.cn/post/7582637280218103862</guid>    <pubDate>2025-12-12T09:20:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582637280218103862" data-draft-id="7582561515817779263" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ iPhone æ–‡ä»¶ç®¡ç†ï¼Œä»æ²™ç›’ç»“æ„åˆ°å¼€å‘è°ƒè¯•çš„å¤šå·¥å…·ååŒå®è·µ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-12T09:20:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç–¯ç‹‚çš„ç¨‹åºçŒ´"/> <meta itemprop="url" content="https://juejin.cn/user/2760245749234147"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ iPhone æ–‡ä»¶ç®¡ç†ï¼Œä»æ²™ç›’ç»“æ„åˆ°å¼€å‘è°ƒè¯•çš„å¤šå·¥å…·ååŒå®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2760245749234147/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç–¯ç‹‚çš„ç¨‹åºçŒ´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T09:20:59.000Z" title="Fri Dec 12 2025 09:20:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¾ˆå¤šå¼€å‘è€…çœ¼ä¸­ï¼Œ<strong>iPhone æ–‡ä»¶ç®¡ç†</strong> ä¼¼ä¹åªæ˜¯â€œçœ‹çœ‹ Documents é‡Œæœ‰ä»€ä¹ˆæ–‡ä»¶â€ï¼Œä½†åœ¨çœŸå®çš„å¼€å‘ã€æµ‹è¯•ä¸é—®é¢˜æ’æŸ¥è¿‡ç¨‹ä¸­ï¼Œæ–‡ä»¶ç³»ç»Ÿå¾€å¾€æ˜¯æœ€å®¹æ˜“è¢«å¿½ç•¥ã€å´åˆæœ€å®¹æ˜“å‡ºé—®é¢˜çš„ä¸€ç¯ã€‚</p>
<p>æ— è®ºæ˜¯ä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li>App å ç”¨ç©ºé—´è¶Šæ¥è¶Šå¤§</li>
<li>å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ç¼“å­˜æ— æ³•å›æ”¶</li>
<li>WebView / Hybrid é¡µé¢ç¼“å­˜å¼‚å¸¸</li>
<li>SQLite / Realm æ–‡ä»¶è†¨èƒ€</li>
<li>æ—¥å¿—æ–‡ä»¶è¿‡å¤šå¯¼è‡´æ€§èƒ½ä¸‹é™</li>
<li>æµ‹è¯•ç¯å¢ƒéœ€è¦å¿«é€Ÿæ›¿æ¢æœ¬åœ°æ•°æ®</li>
<li>å´©æºƒæ—¥å¿—ã€è¿è¡Œæ—¥å¿—éœ€è¦å¯¼å‡ºåˆ†æ</li>
</ul>
<p>è¿™äº›é—®é¢˜çš„æ ¸å¿ƒï¼Œå…¶å®éƒ½æŒ‡å‘ä¸€ä¸ªç‚¹ï¼š<strong>iPhone æ–‡ä»¶ç®¡ç†æ˜¯å¦å¯æ§ã€å¯è§‚æµ‹ã€å¯æ“ä½œ</strong>ã€‚</p>
<p>æœ¬æ–‡åŸºäºçœŸå®å·¥ç¨‹å®è·µï¼Œä»å¼€å‘è€…è§’åº¦ç³»ç»Ÿæ¢³ç† iPhone æ–‡ä»¶ç®¡ç†çš„æŠ€æœ¯èƒŒæ™¯ï¼Œå¹¶ç»“åˆ <strong>Xcodeã€Finder / iTunesã€å…‹é­”ï¼ˆKeyMobï¼‰ã€Safari Inspectorã€Charlesã€Console.app</strong> ç­‰å·¥å…·ï¼Œæ„å»ºä¸€å¥—å¯è½åœ°çš„å¤šå·¥å…·æ–‡ä»¶ç®¡ç†ä¸è°ƒè¯•æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆ iPhone æ–‡ä»¶ç®¡ç†å¯¹å¼€å‘è€…å¦‚æ­¤é‡è¦ï¼Ÿ</h2>
<p>iOS çš„å®‰å…¨æœºåˆ¶å†³å®šäº†æ–‡ä»¶ç®¡ç†å¹¶éâ€œéšä¾¿çœ‹çœ‹æ–‡ä»¶â€é‚£ä¹ˆç®€å•ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€å®ƒä¸é‡è¦ï¼Œæ°æ°ç›¸åï¼š</p>
<h3 data-id="heading-1"><strong>1. æ–‡ä»¶ç³»ç»Ÿç›´æ¥å½±å“æ€§èƒ½</strong></h3>
<ul>
<li>ç¼“å­˜æ–‡ä»¶è¿‡å¤š â†’ å¯åŠ¨å˜æ…¢</li>
<li>æ—¥å¿—æ–‡ä»¶æš´æ¶¨ â†’ I/O å‹åŠ›å¢åŠ </li>
<li>æ•°æ®åº“é¢‘ç¹è¯»å†™ â†’ å¡é¡¿ã€è€—ç”µ</li>
</ul>
<h3 data-id="heading-2"><strong>2. å¾ˆå¤šçº¿ä¸Šé—®é¢˜åªèƒ½ä»æ–‡ä»¶å±‚é¢è§£é‡Š</strong></h3>
<ul>
<li>å›¾ç‰‡ç¼“å­˜å¼‚å¸¸</li>
<li>è§†é¢‘é‡å¤ä¸‹è½½</li>
<li>WebView ç¼“å­˜ä¸é‡Šæ”¾</li>
<li>App å ç”¨ç©ºé—´å¼‚å¸¸å¢é•¿</li>
</ul>
<h3 data-id="heading-3"><strong>3. æ–‡ä»¶æ˜¯è°ƒè¯•ã€æµ‹è¯•ã€å¤ç°é—®é¢˜çš„å…³é”®åª’ä»‹</strong></h3>
<ul>
<li>é€šè¿‡æ›¿æ¢æœ¬åœ°æ–‡ä»¶å¿«é€Ÿæ„é€ æµ‹è¯•ç¯å¢ƒ</li>
<li>å¯¼å‡ºç”¨æˆ·æ•°æ®è¿›è¡Œé—®é¢˜å¤ç°</li>
<li>åˆ†ææ—¥å¿—æ–‡ä»¶è¿˜åŸçœŸå®æ‰§è¡Œè·¯å¾„</li>
</ul>
<p>å¦‚æœæ— æ³•æœ‰æ•ˆç®¡ç† iPhone æ–‡ä»¶ç³»ç»Ÿï¼Œå¾ˆå¤šé—®é¢˜åªèƒ½â€œé çŒœâ€ã€‚</p>
<hr/>
<h2 data-id="heading-4">äºŒã€iOS æ²™ç›’ç»“æ„ï¼šiPhone æ–‡ä»¶ç®¡ç†çš„åŸºç¡€è®¤çŸ¥</h2>
<p>æ¯ä¸ª iOS App éƒ½è¿è¡Œåœ¨ç‹¬ç«‹æ²™ç›’ä¸­ï¼Œæ ¸å¿ƒç›®å½•åŒ…æ‹¬ï¼š</p>
<h3 data-id="heading-5"><strong>Documents</strong></h3>
<ul>
<li>ç”¨æˆ·ç”Ÿæˆæ•°æ®</li>
<li>éœ€è¦é•¿æœŸä¿å­˜çš„æ•°æ®</li>
<li>ä¼šå‚ä¸ iCloud å¤‡ä»½</li>
</ul>
<h3 data-id="heading-6"><strong>Library</strong></h3>
<ul>
<li>Application Supportï¼ˆæ•°æ®åº“ã€é…ç½®ï¼‰</li>
<li>Cachesï¼ˆç¼“å­˜æ•°æ®ï¼‰</li>
<li>Preferencesï¼ˆplistï¼‰</li>
</ul>
<h3 data-id="heading-7"><strong>tmp</strong></h3>
<ul>
<li>ä¸´æ—¶æ–‡ä»¶</li>
<li>ç³»ç»Ÿå¯éšæ—¶æ¸…ç†</li>
</ul>
<p>ç†è§£è¿™äº›ç›®å½•çš„ç”¨é€”ï¼Œæ˜¯æ–‡ä»¶ç®¡ç†çš„å‰æã€‚</p>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€Xcodeï¼šå¼€å‘é˜¶æ®µæœ€åŸºç¡€çš„æ–‡ä»¶æŸ¥çœ‹æ–¹å¼</h2>
<h3 data-id="heading-9"><strong>1. Devices and Simulators</strong></h3>
<p>é€šè¿‡ Xcode å¯ä»¥ï¼š</p>
<ul>
<li>ä¸‹è½½ App å®¹å™¨</li>
<li>æŸ¥çœ‹æ²™ç›’æ–‡ä»¶</li>
<li>å¯¼å‡ºæ•°æ®åº“ã€æ—¥å¿—ã€é…ç½®æ–‡ä»¶</li>
</ul>
<p>é€‚åˆï¼š</p>
<ul>
<li>å¼€å‘é˜¶æ®µéªŒè¯</li>
<li>ç®€å•æ–‡ä»¶æ£€æŸ¥</li>
</ul>
<h3 data-id="heading-10"><strong>å±€é™æ€§</strong></h3>
<ul>
<li>æ“ä½œæ•ˆç‡ä½</li>
<li>æ— æ³•å®æ—¶åŒæ­¥</li>
<li>ä¸é€‚åˆé¢‘ç¹æ–‡ä»¶æ“ä½œ</li>
<li>ä¸æ”¯æŒå¤æ‚æ‰¹é‡ç®¡ç†</li>
</ul>
<p>Xcode æ›´åƒæ˜¯â€œåº”æ€¥æŸ¥çœ‹å·¥å…·â€ï¼Œè€Œä¸æ˜¯å®Œæ•´çš„æ–‡ä»¶ç®¡ç†æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-11">å››ã€Finder / iTunesï¼šé¢å‘ç”¨æˆ·çº§åˆ«çš„æ–‡ä»¶ç®¡ç†</h2>
<p>é€šè¿‡ Finderï¼ˆmacOS Catalina+ï¼‰æˆ– iTunesï¼ˆæ—§ç³»ç»Ÿï¼‰ï¼Œå¯ä»¥ï¼š</p>
<ul>
<li>è®¿é—® App çš„ Documents ç›®å½•</li>
<li>æ‹–æ‹½å¯¼å…¥ / å¯¼å‡ºæ–‡ä»¶</li>
<li>ç”¨äºæµ‹è¯•èµ„æºæ›¿æ¢</li>
</ul>
<p>é€‚åˆåœºæ™¯ï¼š</p>
<ul>
<li>æµ‹è¯•ç¯å¢ƒæ„é€ </li>
<li>Demo æ•°æ®å¯¼å…¥</li>
</ul>
<p>ä½†å®ƒåŒæ ·å­˜åœ¨æ˜æ˜¾ä¸è¶³ï¼š</p>
<ul>
<li>åªèƒ½è®¿é—® Documents</li>
<li>æ— æ³•æŸ¥çœ‹ Libraryã€Caches</li>
<li>æ— æ³•åˆ†æç³»ç»Ÿæ–‡ä»¶</li>
<li>æ— æ³•é…åˆè°ƒè¯•æµç¨‹</li>
</ul>
<hr/>
<h2 data-id="heading-12">äº”ã€å…‹é­”ï¼ˆKeyMobï¼‰ï¼šå¼€å‘è€…è§†è§’ä¸‹çš„ iPhone æ–‡ä»¶ç®¡ç†å·¥å…·</h2>
<p>åœ¨çœŸå®å·¥ç¨‹ä¸­ï¼Œå¼€å‘è€…æ›´éœ€è¦çš„æ˜¯<strong>è·¨å¹³å°ã€å¯è§†åŒ–ã€å¯æ“ä½œçš„æ–‡ä»¶ç®¡ç†èƒ½åŠ›</strong>ã€‚</p>
<h3 data-id="heading-13"><strong>1. å…¨æ²™ç›’æ–‡ä»¶ç»“æ„æŸ¥çœ‹</strong></h3>
<p>KeyMob å¯ä»¥æŸ¥çœ‹ï¼š</p>
<ul>
<li>Documents</li>
<li>Library / Caches</li>
<li>Application Support</li>
<li>æ—¥å¿—æ–‡ä»¶</li>
<li>æ•°æ®åº“æ–‡ä»¶</li>
<li>WebView ç¼“å­˜ç›®å½•</li>
</ul>
<p>è¿™å¯¹äºå®šä½æ–‡ä»¶è†¨èƒ€ã€ç¼“å­˜å¼‚å¸¸éå¸¸å…³é”®ã€‚</p>
<h3 data-id="heading-14"><strong>2. æ–‡ä»¶æ“ä½œèƒ½åŠ›</strong></h3>
<p>æ”¯æŒï¼š</p>
<ul>
<li>åˆ›å»º / åˆ é™¤æ–‡ä»¶</li>
<li>ä¸Šä¼ æ–‡ä»¶åˆ° iPhone</li>
<li>ä» iPhone å¯¼å‡ºæ–‡ä»¶</li>
<li>æ‰¹é‡æ“ä½œ</li>
</ul>
<p>é€‚ç”¨äºï¼š</p>
<ul>
<li>å¿«é€Ÿæ›¿æ¢æµ‹è¯•æ•°æ®</li>
<li>å¤ç°ç”¨æˆ·é—®é¢˜</li>
<li>è°ƒè¯•å¤æ‚ä¸šåŠ¡é€»è¾‘</li>
</ul>
<h3 data-id="heading-15"><strong>3. ä¸è¶Šç‹±å‰æä¸‹çš„æ–‡ä»¶ç®¡ç†</strong></h3>
<p>è¿™æ˜¯ iOS æ–‡ä»¶ç®¡ç†ä¸­éå¸¸é‡è¦çš„ä¸€ç‚¹ï¼Œé¿å…ç ´åç³»ç»Ÿç¯å¢ƒã€‚</p>
<hr/>
<h2 data-id="heading-16">å…­ã€æ–‡ä»¶ç®¡ç†ä¸æ—¥å¿—åˆ†æçš„ç»“åˆä»·å€¼</h2>
<p>æ–‡ä»¶ç®¡ç†ä¸åªæ˜¯â€œçœ‹æ–‡ä»¶â€ï¼Œæ›´é‡è¦çš„æ˜¯ <strong>ä¸æ—¥å¿—ã€æ€§èƒ½é—®é¢˜å…³è”åˆ†æ</strong>ã€‚</p>
<h3 data-id="heading-17">å¸¸è§åœºæ™¯ï¼š</h3>
<ul>
<li>æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶æ˜¯å¦æ— é™å¢é•¿</li>
<li>å¯¹æ¯”ä¸åŒç‰ˆæœ¬ç”Ÿæˆçš„é…ç½®æ–‡ä»¶å·®å¼‚</li>
<li>åˆ†æ WebView ç¼“å­˜æ–‡ä»¶å¤§å°å˜åŒ–</li>
<li>æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶æ˜¯å¦å¼‚å¸¸å¢å¤§</li>
</ul>
<p>é€šè¿‡æ–‡ä»¶å±‚é¢ï¼Œå¾ˆå¤šé—®é¢˜å¯ä»¥ç›´è§‚æš´éœ²ã€‚</p>
<hr/>
<h2 data-id="heading-18">ä¸ƒã€Safari Inspectorï¼šWebView æ–‡ä»¶ä¸ç¼“å­˜çš„è°ƒè¯•å…¥å£</h2>
<p>å¯¹äº Hybrid / uni-app é¡¹ç›®ï¼Œæ–‡ä»¶ç®¡ç†ç¦»ä¸å¼€ Safari Inspectorã€‚</p>
<h3 data-id="heading-19">å¯è¾…åŠ©åˆ†æï¼š</h3>
<ul>
<li>WebView ç¼“å­˜ç›®å½•</li>
<li>IndexedDB / LocalStorage ä½¿ç”¨æƒ…å†µ</li>
<li>èµ„æºæ˜¯å¦é‡å¤ç¼“å­˜</li>
<li>JS ç”Ÿæˆæ–‡ä»¶æ˜¯å¦æœªæ¸…ç†</li>
</ul>
<p>å¾ˆå¤š WebView å ç”¨ç©ºé—´å¼‚å¸¸çš„é—®é¢˜ï¼Œå…¶å®æºè‡ªå‰ç«¯èµ„æºç®¡ç†ä¸å½“ã€‚</p>
<hr/>
<h2 data-id="heading-20">å…«ã€Charlesï¼šç½‘ç»œèµ„æºä¸æœ¬åœ°æ–‡ä»¶çš„å¯¹åº”å…³ç³»</h2>
<p>æ–‡ä»¶ç®¡ç†è¿˜éœ€è¦ç»“åˆç½‘ç»œè¡Œä¸ºä¸€èµ·çœ‹ï¼š</p>
<h3 data-id="heading-21">Charles å¯ä»¥å¸®åŠ©ä½ ç¡®è®¤ï¼š</h3>
<ul>
<li>èµ„æºæ˜¯å¦é‡å¤ä¸‹è½½</li>
<li>æ˜¯å¦ç¼ºå¤±ç¼“å­˜æ§åˆ¶</li>
<li>å¤§æ–‡ä»¶æ˜¯å¦è½ç›˜åˆ°ç¼“å­˜ç›®å½•</li>
<li>å¤±è´¥é‡è¯•æ˜¯å¦ç”Ÿæˆå¤šä»½ä¸´æ—¶æ–‡ä»¶</li>
</ul>
<p>é€šè¿‡ Charles + æ–‡ä»¶ç®¡ç†å·¥å…·ï¼Œå¯ä»¥å»ºç«‹â€œç½‘ç»œ â†’ æœ¬åœ°æ–‡ä»¶â€çš„å®Œæ•´é“¾è·¯ã€‚</p>
<hr/>
<h2 data-id="heading-22">ä¹ã€Console.appï¼šä»ç³»ç»Ÿè§’åº¦è§‚å¯Ÿæ–‡ä»¶ç›¸å…³å¼‚å¸¸</h2>
<p>æŸäº›æ–‡ä»¶é—®é¢˜ä¼šç›´æ¥åæ˜ åœ¨ç³»ç»Ÿæ—¥å¿—ä¸­ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-css" lang="css">disk <span class="hljs-selector-tag">I</span>/O error
no space <span class="hljs-attribute">left</span> on device
failed <span class="hljs-selector-tag">to</span> write file
sandbox deny file-write
</code></pre>
<p>è¿™äº›æ—¥å¿—å¾€å¾€æ˜¯æ–‡ä»¶ç®¡ç†é—®é¢˜çš„ç›´æ¥è¯æ®ã€‚</p>
<hr/>
<h2 data-id="heading-23">åã€æ„å»ºå¼€å‘è€…è§†è§’çš„ iPhone æ–‡ä»¶ç®¡ç†å·¥å…·çŸ©é˜µ</h2>








































<table><thead><tr><th>éœ€æ±‚åœºæ™¯</th><th>å·¥å…·ç»„åˆ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>åŸºç¡€æŸ¥çœ‹</td><td>Xcode</td><td>ç®€å•å¯¼å‡ºå®¹å™¨</td></tr><tr><td>ç”¨æˆ·æ•°æ®å¯¼å…¥</td><td>Finder / iTunes</td><td>Documents æ–‡ä»¶</td></tr><tr><td>å…¨æ²™ç›’ç®¡ç†</td><td>KeyMob</td><td>æ–‡ä»¶æµè§ˆä¸æ“ä½œ</td></tr><tr><td>WebView ç¼“å­˜åˆ†æ</td><td>Safari Inspector</td><td>å‰ç«¯å­˜å‚¨</td></tr><tr><td>ç½‘ç»œæ–‡ä»¶å¯¹åº”</td><td>Charles</td><td>èµ„æºä¸ç¼“å­˜</td></tr><tr><td>ç³»ç»Ÿå¼‚å¸¸å®šä½</td><td>Console.app</td><td>æ–‡ä»¶é”™è¯¯æ—¥å¿—</td></tr></tbody></table>
<p>è¿™æ˜¯ä¸€ä¸ªçœŸæ­£å®ç”¨çš„æ–‡ä»¶ç®¡ç†ä½“ç³»ã€‚</p>
<hr/>
<h2 data-id="heading-24">iPhone æ–‡ä»¶ç®¡ç†æ˜¯å¼€å‘è°ƒè¯•çš„é‡è¦åŸºç¡€èƒ½åŠ›</h2>
<p>ä¸€ä¸ªæˆç†Ÿçš„ iOS å›¢é˜Ÿï¼Œæ–‡ä»¶ç®¡ç†èƒ½åŠ›è‡³å°‘åº”åšåˆ°ï¼š</p>
<p><strong>å¯æŸ¥çœ‹ â†’ å¯æ“ä½œ â†’ å¯åˆ†æ â†’ å¯å¯¹æ¯” â†’ å¯æ¸…ç†</strong></p>
<p>è€Œè¿™ä¾èµ–å¤šå·¥å…·ååŒï¼š</p>
<ul>
<li>Xcodeï¼ˆåŸºç¡€å®¹å™¨ï¼‰</li>
<li>Finder / iTunesï¼ˆç”¨æˆ·æ•°æ®ï¼‰</li>
<li>KeyMobï¼ˆå…¨æ²™ç›’ç®¡ç†ï¼‰</li>
<li>Safari Inspectorï¼ˆWebView æ–‡ä»¶ï¼‰</li>
<li>Charlesï¼ˆç½‘ç»œèµ„æºï¼‰</li>
<li>Console.appï¼ˆç³»ç»Ÿæ—¥å¿—ï¼‰</li>
</ul>
<p>å½“æ–‡ä»¶ç®¡ç†èƒ½åŠ›å®Œå–„åï¼Œæ€§èƒ½ã€ç¨³å®šæ€§ã€è°ƒè¯•æ•ˆç‡éƒ½ä¼šæ˜¾è‘—æå‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é‡ç£…æ›´æ–°ï¼OpenAIæœ€æ–°æ¨¡å‹GPT 5.2ä¸Šçº¿]]></title>    <link>https://juejin.cn/post/7582755817671557130</link>    <guid>https://juejin.cn/post/7582755817671557130</guid>    <pubDate>2025-12-12T09:23:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582755817671557130" data-draft-id="7582763878674726939" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é‡ç£…æ›´æ–°ï¼OpenAIæœ€æ–°æ¨¡å‹GPT 5.2ä¸Šçº¿"/> <meta itemprop="keywords" content="OpenAI"/> <meta itemprop="datePublished" content="2025-12-12T09:23:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ªå’ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/581021766790141"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é‡ç£…æ›´æ–°ï¼OpenAIæœ€æ–°æ¨¡å‹GPT 5.2ä¸Šçº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/581021766790141/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ªå’ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T09:23:52.000Z" title="Fri Dec 12 2025 09:23:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4499529ec3754c7f9f5dfdd25c6cc033~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=yQneV42uVCKjuqMBVj4AkSimEos%3D" alt="" loading="lazy"/></p>
<p>11æœˆ18æ—¥ï¼Œè°·æ­Œå‘å¸ƒæœ€æ–°æ——èˆ°æ¨¡å‹Gemini 3 Proã€‚</p>
<p>11æœˆ20æ—¥ï¼Œè°·æ­Œå‘å¸ƒæœ€æ–°AIç»˜ç”»æ¨¡å‹Nano Banana Proã€‚</p>
<p>11æœˆ25æ—¥ï¼ŒAnthropicå…¬å¸å‘å¸ƒæœ€æ–°æ——èˆ°æ¨¡å‹Claude Opus 4.5ã€‚</p>
<p>Gemini 3 Proå’ŒClaude Opus 4.5è·å¾—äº†å¾ˆé«˜çš„å…³æ³¨å’Œè¯„æµ‹è¯„ä»·ï¼Œç»™ OpenAI ç°æœ‰äº§å“ GPT 5.1 å¸¦æ¥æ˜¾è‘—ç«äº‰å‹åŠ›ã€‚</p>
<p>OpenAI CEO å±±å§†Â·å¥¥ç‰¹æ›¼ åœ¨ 2025 å¹´ 12 æœˆåˆå‘å…¨ä½“å‘˜å·¥å‘å¸ƒå†…éƒ¨å¤‡å¿˜å½•ï¼Œå®£å¸ƒ OpenAI è¿›å…¥ â€œçº¢è‰²è­¦æŠ¥/Code Redâ€ç´§æ€¥çŠ¶æ€ã€‚</p>
<p>è¿™æ˜¯OpenAIå¯¹ç«äº‰å‹åŠ›åšå‡ºæœ€é«˜çº§åˆ«çš„æˆ˜ç•¥å“åº”ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72492c7c67344d8baf5c2757a1e39619~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=a9l862XXpb4RQzG2WmMBS8SeKSw%3D" alt="" loading="lazy"/></p>
<p>12æœˆ12æ—¥ï¼Œä¹Ÿå°±æ˜¯ä»Šæ—¥å‡Œæ™¨ï¼ŒOpenAIæ‰“å“åå‡»æˆ˜ï¼ŒGPT 5.2å‘å¸ƒã€‚</p>
<p>ä¸Šçº¿ä¸‰ç§æ¨¡å‹ï¼ŒGPTâ€‘5.2 Instantã€GPTâ€‘5.2 Thinking å’Œ GPTâ€‘5.2 Proã€‚</p>
<h2 data-id="heading-0">å›½å†…ç›´æ¥ä½¿ç”¨Gemini 3 Pro</h2>
<p>è°·æ­Œæµè§ˆå™¨è®¿é—®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nezhasoft.com" target="_blank" title="https://www.nezhasoft.com" ref="nofollow noopener noreferrer">www.nezhasoft.com</a></p>
<p><strong>ç§ä¿¡å“ªå’ï¼Œå¤‡æ³¨ä½“éªŒaiï¼Œé¢†å–ä½“éªŒç ã€‚</strong></p>
<p>åŒ…å«GPT-5.2ã€GPT-5.2 Thinkingã€Gemini 3 Proã€Nano Banana Proã€Claude Sonnet 4.5ã€Codexã€Sora2ã€Grok4.1ç­‰æ¨¡å‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4d74d024e524002929b6106952496a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=YxABx6eZ2lW8pXAV7pRIfFcqC7U%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">æ’è¡Œæ¦œSOTAæ°´å¹³</h2>
<h3 data-id="heading-2">1ã€é€šç”¨æµ‹è¯•</h3>
<p>GPTâ€‘5.2 åœ¨é€šç”¨æ™ºèƒ½ã€é•¿ä¸Šä¸‹æ–‡ç†è§£ã€æ™ºèƒ½ä½“å·¥å…·è°ƒç”¨ä»¥åŠè§†è§‰æ–¹é¢éƒ½æœ‰æ˜¾è‘—æå‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18ee691cab5e412f913f6164404faf96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=%2F%2FoV9uxxAXRwqmNGqhOZXxftAM0%3D" alt="" loading="lazy"/></p>
<p>GPTâ€‘5.2åœ¨åˆ¶ä½œç”µå­è¡¨æ ¼ã€è®¾è®¡æ¼”ç¤ºæ–‡ç¨¿ã€ç¼–å†™ä»£ç ã€è¯†åˆ«å›¾åƒã€ç†è§£é•¿æ–‡æœ¬ä¸Šä¸‹æ–‡ã€ä½¿ç”¨å·¥å…·ä»¥åŠå¤„ç†å¤æ‚çš„å¤šæ­¥éª¤é¡¹ç›®æ–¹é¢è¡¨ç°æ›´ä½³ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e5c9b6124574530b44afcde75e3225f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=5APl0n3iLlzcQ8O9m4U3FkYvzGs%3D" alt="å¹»è§‰ç‡" loading="lazy"/></p>
<p>å¹»è§‰ç‡</p>
<h3 data-id="heading-3">2ã€å¹»è§‰ç‡</h3>
<p>OpenAI æœ€æ–°å‘å¸ƒçš„ GPT-5.2 æ•´ä½“æ›´èªæ˜ã€æ›´å¯é ï¼Œå°¤å…¶æ˜¯åœ¨å‡å°‘â€œèƒ¡è¯´â€æ–¹é¢è¿›æ­¥æ˜æ˜¾ã€‚</p>
<p>GPT-5.2åœ¨å•†ä¸šã€é‡‘èã€æ³•å¾‹ç­‰ä¸“ä¸šé¢†åŸŸçš„é”™è¯¯ç‡éƒ½æ¯”ä¹‹å‰ç‰ˆæœ¬æ›´ä½ï¼Œå†…å®¹æ›´å‡†ç¡®ï¼›å­¦æœ¯å†™ä½œä¹Ÿæ›´ç¨³å¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5839615d6c634554aafa0b84de48b1cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=zUs0HuYRLMEyxPjcXUIKp1AjTTY%3D" alt="AI å¤§æ¨¡å‹èƒ½åŠ›è¯„æµ‹" loading="lazy"/></p>
<p>AI å¤§æ¨¡å‹èƒ½åŠ›è¯„æµ‹</p>
<h3 data-id="heading-4">3ã€AI å¤§æ¨¡å‹èƒ½åŠ›è¯„æµ‹</h3>
<p>GPT 5.2 åœ¨ AI å¤§æ¨¡å‹èƒ½åŠ›è¯„æµ‹å¯¹æ¯”ä¸­ï¼Œå…¨éƒ¨åˆ·æ–°SOTAã€‚</p>
<p>åœ¨å¤šé¡¹èƒ½åŠ›æµ‹è¯•ä¸­å…¨é¢é¢†å…ˆä¸Šä¸€ä»£æ¨¡å‹GPT 5.1ã€‚</p>
<p>å®ƒåœ¨ç§‘å­¦é¢˜ã€æ•°å­¦ç«èµ›ã€å›¾è¡¨ç†è§£å’ŒæŠ½è±¡æ¨ç†ç­‰é«˜éš¾åº¦ä»»åŠ¡ä¸Šéƒ½æœ‰å¤§å¹…æå‡ï¼Œä¾‹å¦‚æ•°å­¦æ‹¿åˆ° 100%ï¼Œç§‘å­¦é¢˜è¾¾ 92.4%ã€‚</p>
<p>ä¸ Claude å’Œ Gemini ç›¸æ¯”ä¹Ÿè¡¨ç°æ›´çªå‡ºã€‚</p>
<p>æ€»ä½“æ¥è¯´ï¼ŒGPT-5.2 æ¨ç†æ›´å¼ºã€ç­”é¢˜æ›´å‡†ï¼Œæ›´é€‚åˆå¤„ç†å¤æ‚ä¸“ä¸šé—®é¢˜ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2d00374acca49299eb7181150aaa0e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=SilXT3hNE6clwL6CDuhVkPUNybk%3D" alt="ARC-AGI-1 æ™ºèƒ½æ¨ç†æ’è¡Œæ¦œ" loading="lazy"/></p>
<p>ARC-AGI-1 æ™ºèƒ½æ¨ç†æ’è¡Œæ¦œ</p>
<h3 data-id="heading-5">4ã€ARC-AGI-1 æ™ºèƒ½æ¨ç†æ’è¡Œæ¦œ</h3>
<p>ARC-AGI-1 æ™ºèƒ½æ¨ç†æ’è¡Œæ¦œã€‚æ¨ªè½´æ˜¯å•é¢˜æˆæœ¬ï¼Œçºµè½´æ˜¯è§£é¢˜æˆåŠŸç‡ï¼Œç”¨æ¥æ¯”è¾ƒå„å¤§AIæ¨¡å‹åœ¨å¤æ‚æŠ½è±¡æ¨ç†ä»»åŠ¡ä¸Šçš„èƒ½åŠ›ä¸æ•ˆç‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2fec1ef3c6e416a9dd5c699e4a96ded~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=HIDYe9o%2F%2BB%2F8970jJdlj2JXp4kE%3D" alt="" loading="lazy"/></p>
<p>OpenAI æœ€æ–°å‘å¸ƒçš„ GPT-5.2ï¼ˆä¸€ä»£æ›´æ¯”ä¸€ä»£å¼ºï¼‰åœ¨æˆåŠŸç‡ä¸Šæ¥è¿‘äººç±»æ°´å¹³ï¼ŒåŒæ—¶ä¿æŒè¾ƒé«˜æ€§ä»·æ¯”ï¼Œå¤„äºå½“å‰æœ€å¼ºSOTAæ°´å¹³ï¼Œåè¶…Gemini 3 Proã€Claude Opus 4.5ï¼Œæˆä¸ºç°é˜¶æ®µï¼Œç»¼åˆå®åŠ›æœ€å¼ºçš„AIå¤§æ¨¡å‹ã€‚</p>
<h2 data-id="heading-6">GPT-5.2åˆä½“éªŒ</h2>
<h3 data-id="heading-7">1ã€ç‰ˆæœ¬å·</h3>
<p>ä½ æ˜¯ä»€ä¹ˆæ¨¡å‹ï¼Œå…·ä½“æ˜¯ä»€ä¹ˆç‰ˆæœ¬å·ï¼ŒçŸ¥è¯†æˆªæ­¢æ—¥æœŸæ˜¯å‡ å·</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edceee6f05a045b0b0542cb37d3b151e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=0dukrPsJhu1dayKqbOBzbY9hgYU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">2ã€è”ç½‘å®æ—¶æŸ¥è¯¢</h3>
<p>è¯·è”ç½‘æŸ¥è¯¢ï¼šæˆªè‡³ä»Šå¤©ï¼ŒOpenAI æœ€è¿‘ä¸€æ¬¡å®˜æ–¹å‘å¸ƒçš„é‡è¦äº§å“æˆ–æ¨¡å‹æ›´æ–°æ˜¯ä»€ä¹ˆï¼Ÿè¯·ç»™å‡ºå‘å¸ƒæ—¶é—´ã€æ ¸å¿ƒå˜åŒ–ç‚¹ï¼Œå¹¶æ³¨æ˜ä¿¡æ¯æ¥æºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1dc56cebbdce47528a984b1549be76df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=ysrcv3ExTWDzyEiYjgVGWPmiNKY%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9">3ã€å†™ä½œ</h3>
<p>GPT-5.2åœ¨å†™ä½œæ–¹é¢ç›¸æ¯”GPT-5.1æ›´èªæ˜ã€æ›´å®ç”¨ã€‚</p>
<ol>
<li>å®ƒèƒ½ç†è§£æ›´é•¿ã€æ›´å¤æ‚çš„æ–‡æœ¬ï¼Œæ›´å¥½åœ°æŠ“ä½é‡ç‚¹ã€ç»„ç»‡ç»“æ„ï¼Œä½¿æ–‡ç« é€»è¾‘æ›´æ¸…æ™°ã€ä¿¡æ¯æ›´å‡†ç¡®;</li>
<li>åœ¨å¤šæ­¥éª¤å†™ä½œä»»åŠ¡ï¼ˆæ¯”å¦‚æŠ¥å‘Šã€è¯´æ˜æ–‡ï¼‰ä¸­è¡¨ç°æ›´ç¨³å®šï¼Œè¾“å‡ºè´¨é‡æ›´é«˜;</li>
<li>å“åº”æ›´å¿«ï¼Œæå‡æ•´ä½“å†™ä½œæ•ˆç‡ã€‚</li>
</ol>
<p>æç¤ºè¯ï¼š</p>
<p>å…¨å›½ä¸€å·ä½œæ–‡é¢˜ç›®ï¼š"æ°‘æ—é­‚" ææ–™å†…å®¹ï¼š "ä»–æƒ³è¦ç»™å­©å­ä»¬å”±ä¸Šä¸€æ®µï¼Œå¯æ˜¯å¿ƒé‡Œç›´ç¿»è…¾ï¼Œå¼€ä¸äº†å£ã€‚" â€”â€”è€èˆã€Šé¼“ä¹¦è‰ºäººã€‹ "å‡å¦‚æˆ‘æ˜¯ä¸€åªé¸Ÿï¼Œæˆ‘ä¹Ÿåº”è¯¥ç”¨å˜¶å“‘çš„å–‰å’™æ­Œå”±" â€”â€”è‰¾é’ã€Šæˆ‘çˆ±è¿™åœŸåœ°ã€‹ "æˆ‘è¦ä»¥å¸¦è¡€çš„æ‰‹å’Œä½ ä»¬ä¸€ä¸€æ‹¥æŠ±ï¼Œå› ä¸ºä¸€ä¸ªæ°‘æ—å·²ç»èµ·æ¥" â€”â€”ç©†æ—¦ã€Šèµç¾ã€‹ å†™ä½œè¦æ±‚ï¼š ä»¥ä¸Šææ–™å¼•å‘äº†ä½ æ€æ ·çš„è”æƒ³å’Œæ€è€ƒï¼Ÿè¯·å†™ä¸€ç¯‡æ–‡ç« ã€‚ è¦æ±‚é€‰å‡†è§’åº¦ï¼Œç¡®å®šç«‹æ„ï¼Œæ˜ç¡®æ–‡ä½“ï¼Œè‡ªæ‹Ÿæ ‡é¢˜ï¼›ä¸è¦å¥—ä½œï¼Œä¸å¾—æŠ„è¢­ï¼›ä¸å¾—æ³„éœ²ä¸ªäººä¿¡æ¯ï¼›ä¸å°‘äº800å­—ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dc9e09eea9e46da9d86214062d91cbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=Z8hdcLiRRkOCb6PZtONQ9DZkNRM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">4ã€ç¼–ç¨‹</h3>
<p>GPT-5.2 åœ¨ç¼–ç¨‹èƒ½åŠ›ä¸Šç›¸æ¯” GPT-5.1 æœ‰æ˜æ˜¾æå‡ï¼š</p>
<ol>
<li>å®ƒç†è§£æ›´é•¿ã€æ›´å¤æ‚çš„ä»£ç å’Œéœ€æ±‚ï¼Œç”Ÿæˆä»£ç æ›´å‡†ç¡®ã€é€»è¾‘æ›´æ¸…æ™°ï¼›</li>
<li>æ‰§è¡Œå¤šæ­¥éª¤ç¼–ç¨‹ä»»åŠ¡ï¼ˆå¦‚è°ƒè¯•ã€é‡æ„ã€è‡ªåŠ¨æµ‹è¯•ç­‰ï¼‰æ›´ç¨³å®šã€æ•ˆç‡æ›´é«˜ï¼›</li>
<li>å¤„ç†å¤§å‹é¡¹ç›®ã€è·¨æ–‡ä»¶ä¾èµ–å…³ç³»æ—¶é”™è¯¯æ›´å°‘ï¼Œè¿˜èƒ½æ›´å¥½åœ°é…åˆå·¥å…·é“¾ï¼ˆå¦‚è‡ªåŠ¨æ ¼å¼ã€lintã€æ„å»ºè„šæœ¬ç­‰ï¼‰ï¼Œè®©å¼€å‘ä½“éªŒæ›´é¡ºç•…ã€‚</li>
<li>æ•´ä½“ç¼–ç¨‹è¾“å‡ºè´¨é‡å’Œç”Ÿäº§åŠ›éƒ½æœ‰æ˜¾è‘—æå‡ã€‚</li>
</ol>
<p>æç¤ºè¯ï¼šè¯·ç”¨ Java è®¾è®¡å¹¶å®ç°ä¸€ä¸ªæ”¯æŒé«˜å¹¶å‘çš„ç”µå•†å¾®æœåŠ¡ç³»ç»Ÿï¼ˆåŸºäº Spring Boot/Spring Cloudï¼‰ï¼Œè¦æ±‚åŒ…å«è®¢å•ã€åº“å­˜ç­‰æœåŠ¡ï¼Œéœ€è§£å†³åˆ†å¸ƒå¼äº‹åŠ¡ä¸è¶…å–é—®é¢˜ï¼Œä½¿ç”¨ Redis/Kafka è¿›è¡Œå¼‚æ­¥è§£è€¦ï¼Œå¹¶æä¾›æ ¸å¿ƒä»£ç ã€é…ç½®åŠéƒ¨ç½²æ–¹æ¡ˆï¼ŒåŒæ—¶è¯´æ˜é«˜å¹¶å‘ä¼˜åŒ–ä¸å®¹é”™é™æµè®¾è®¡æ€è·¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56615940b82e43ebac00b3ea110fb826~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=MxYgAqr0Ec%2BPrSNKm%2BL%2BSNcYtyw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/badf64742dd341d0aea80c11ba899631~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=JCt15qVV5fYcBTGe%2BJn%2BrXKnteQ%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-11">5ã€å¤šæ¨¡æ€-è¯†åˆ«å›¾ç‰‡</h3>
<p>GPT-5.2 åœ¨å¤šæ¨¡æ€èƒ½åŠ›æ–¹é¢ç›¸æ¯” GPT-5.1 æœ‰æ˜æ˜¾æå‡ï¼š</p>
<ol>
<li>å®ƒèƒ½æ›´ç²¾å‡†ç†è§£å’Œç”Ÿæˆå›¾åƒã€å›¾è¡¨ç­‰è§†è§‰å†…å®¹ï¼Œä¸æ–‡æœ¬ç»“åˆå¾—æ›´å¥½ï¼›</li>
<li>å¯¹å¤æ‚é•¿æ–‡æ¡£ã€é•¿ä¸Šä¸‹æ–‡é‡Œçš„è§†è§‰ï¼‹è¯­è¨€ä¿¡æ¯å¤„ç†æ›´ç¨³å®šï¼›</li>
<li>æ•´ä½“å¤šæ¨¡æ€æ¨ç†æ›´å¿«ã€æ›´å‡†ç¡®ï¼Œå‡å°‘è¯¯åˆ¤å’Œé”™è¯¯è¾“å‡ºï¼Œä½¿â€œçœ‹å›¾+ç†è§£+è¾“å‡ºâ€è¿™ç±»ä»»åŠ¡æ›´æµç•…ã€æ›´å¯é ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f250df3d9c345c795fcd4a815c252d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=MTne0WaafPkgmG3EsX0dz1H%2FDFk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">6ã€ä¸Šä¼ æ–‡ä»¶</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb049225879e4392a5c0191df08ed6c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=9nFh2Bcb%2FW9lWTPb7ZosDWkj7S0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5095261e7b4747a79620671acd029f37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOq5ZCS57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766136231&amp;x-signature=GP6coM%2BGquIa5SOmROsLRWL7oPA%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¨€åœŸæ˜é‡‘è”åˆä¸­å›½ä¿¡é€šé™¢é‚€è¯·æ‚¨å¡«å†™2025 AI4SEç°çŠ¶è°ƒç ”é—®å·]]></title>    <link>https://juejin.cn/post/7582785032851652671</link>    <guid>https://juejin.cn/post/7582785032851652671</guid>    <pubDate>2025-12-12T09:51:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582785032851652671" data-draft-id="7582791876366221350" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¨€åœŸæ˜é‡‘è”åˆä¸­å›½ä¿¡é€šé™¢é‚€è¯·æ‚¨å¡«å†™2025 AI4SEç°çŠ¶è°ƒç ”é—®å·"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-12T09:51:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="XCaptaino"/> <meta itemprop="url" content="https://juejin.cn/user/3052665287739005"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¨€åœŸæ˜é‡‘è”åˆä¸­å›½ä¿¡é€šé™¢é‚€è¯·æ‚¨å¡«å†™2025 AI4SEç°çŠ¶è°ƒç ”é—®å·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3052665287739005/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    XCaptaino
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T09:51:43.000Z" title="Fri Dec 12 2025 09:51:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å½“å‰ä»¥å¤§æ¨¡å‹ã€æ™ºèƒ½ä½“ç­‰æŠ€æœ¯ä¸ºä»£è¡¨çš„æ–°ä¸€ä»£äººå·¥æ™ºèƒ½æŠ€æœ¯ï¼Œæ­£åŠ é€Ÿè½åœ°â€œåƒè¡Œç™¾ä¸šâ€ã€‚è½¯ä»¶ä½œä¸ºæ•°å­—è½¬å‹çš„æ ¸å¿ƒæ”¯æ’‘ä¸æ–°æŠ€æœ¯è½åœ°çš„å…³é”®è½½ä½“ï¼Œè½¯ä»¶è¡Œä¸šçš„æ™ºèƒ½åŒ–å˜é©å°¤ä¸ºè¿«åˆ‡ï¼ŒAIåœ¨è½¯ä»¶ç”Ÿäº§å…¨æµç¨‹çš„ä»·å€¼å‡¸æ˜¾ï¼ŒæŒç»­æ¨åŠ¨è½¯ä»¶ç ”å‘èŒƒå¼è½¬å˜ï¼Œæå‡ç ”å‘è´¨æ•ˆã€‚ç„¶è€Œï¼ŒAIåœ¨è½¯ä»¶ç ”å‘éƒ¨åˆ†ç¯èŠ‚è™½å·²è¿›å…¥è§„æ¨¡åŒ–è½åœ°é˜¶æ®µï¼Œä½†åœ¨æŠ€æœ¯è½åœ°æˆæ•ˆå¯¹æ¯”ã€åœºæ™¯é€‰æ‹©ã€æˆç†Ÿåº¦å¯¹æ ‡ç­‰å…³é”®ä¿¡æ¯ä»ç¼ºä¹ç³»ç»Ÿæ€§æ¢³ç†ï¼Œä¼ä¸šåœ¨æŠ€æœ¯é€‰å‹ã€è·¯å¾„è§„åˆ’ä¸Šä»é¢ä¸´å†³ç­–å›°æƒ‘ï¼ŒäºŸéœ€è¡Œä¸šæä¾›ç§‘å­¦æŒ‡å¼•ã€‚</p>
<p>é•¿æœŸä»¥æ¥ä¸­å›½ä¿¡æ¯é€šä¿¡ç ”ç©¶é™¢ï¼ˆç®€ç§°â€œä¸­å›½ä¿¡é€šé™¢â€ï¼‰äººå·¥æ™ºèƒ½ç ”ç©¶æ‰€é«˜åº¦é‡è§†æ™ºèƒ½åŒ–è½¯ä»¶å·¥ç¨‹ï¼ˆAI4SEï¼‰å‘å±•ï¼Œè”åˆä¸­å›½äººå·¥æ™ºèƒ½äº§ä¸šå‘å±•è”ç›Ÿï¼ˆAIIAï¼‰è½¯ä»¶æ™ºèƒ½åŒ–å§”å‘˜ä¼šå›´ç»•æŠ€æœ¯ç ”ç©¶ã€æ ‡å‡†ã€æŠ¥å‘Šã€è¯„ä¼°ç­‰å¤šä¸ªç»´åº¦å¼€å±•å·¥ä½œï¼Œå·²å»ºæˆã€Šæ™ºèƒ½åŒ–è½¯ä»¶å·¥ç¨‹æŠ€æœ¯å’Œåº”ç”¨è¦æ±‚ã€‹ã€Šé¢å‘è½¯ä»¶å·¥ç¨‹æ™ºèƒ½ä½“æŠ€æœ¯å’Œåº”ç”¨è¦æ±‚ã€‹ã€Šè½¯ä»¶æ™ºèƒ½åŒ–æˆç†Ÿåº¦æ¨¡å‹ã€‹ç­‰æ ‡å‡†ä½“ç³»ï¼Œå‘å¸ƒã€Šæ™ºèƒ½åŒ–è½¯ä»¶å¼€å‘è½åœ°å®è·µæŒ‡å—ï¼ˆ2024å¹´ï¼‰ã€‹ç­‰ç ”ç©¶æŠ¥å‘Šï¼Œå¹¶å¼€å±•è¡Œä¸šç°çŠ¶è°ƒç ”ï¼Œäºä»Šå¹´4æœˆè”åˆå‘å¸ƒäº†ã€ŠAI4SEè¡Œä¸šç°çŠ¶è°ƒæŸ¥æŠ¥å‘Šï¼ˆ2024å¹´åº¦ï¼‰ã€‹ï¼Œæ—¨åœ¨ä¸ºè½¯ä»¶ç ”å‘å„é˜¶æ®µçš„æ™ºèƒ½åŒ–è½åœ°æä¾›å‚è€ƒã€‚</p>
<p>ä¸ºè¿›ä¸€æ­¥æ·±å…¥äº†è§£æ™ºèƒ½åŒ–è½¯ä»¶å·¥ç¨‹å‘å±•ç°çŠ¶ã€å„é˜¶æ®µåº”ç”¨æƒ…å†µåŠæœªæ¥è½åœ°è¶‹åŠ¿ç­‰è¡Œä¸šå…³é”®æ•°æ®ï¼Œä¸­å›½ä¿¡é€šé™¢äººå·¥æ™ºèƒ½ç ”ç©¶æ‰€è”åˆä¸­å›½å·¥å•†é“¶è¡Œã€ä¸­å›½é‚®æ”¿å‚¨è“„é“¶è¡Œã€äº¤é€šé“¶è¡Œã€TRAEå›¢é˜Ÿã€è…¾è®¯ã€è®¯é£ã€ç™¾åº¦ã€äº¬ä¸œã€è½¯é€šåŠ¨åŠ›ã€Testinäº‘æµ‹ã€ç¡…å¿ƒç§‘æŠ€ã€æ–°ç‚¬ç½‘ç»œã€IT168ã€æµ‹è¯•çªç­‰å•ä½å…±åŒå‘èµ·2025å¹´åº¦æ™ºèƒ½åŒ–è½¯ä»¶å·¥ç¨‹ç°çŠ¶è°ƒç ”ã€‚è°ƒç ”å¯¹è±¡ä¸ºå„è¡Œä¸šä¸­å…·æœ‰è½¯ä»¶ç ”å‘å›¢é˜Ÿçš„ä¼ä¸šã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fv.wjx.cn%2Fvm%2FQ07VNmj.aspx" target="_blank" title="https://v.wjx.cn/vm/Q07VNmj.aspx" ref="nofollow noopener noreferrer">ç«‹å³å¡«å†™</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fv.wjx.cn%2Fvm%2FQ07VNmj.aspx" target="_blank" title="https://v.wjx.cn/vm/Q07VNmj.aspx" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ceff7f8699734477a857abc3b48d0c0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWENhcHRhaW5v:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766138580&amp;x-signature=HMpHXoIZWvf1%2FruE6ZDUkI6DdG8%3D" alt="img_v3_02st_ef98b0da-188c-4472-9cde-166ad561140g.png" loading="lazy"/>
</a></p>
<p>æœ¬æ¬¡è°ƒç ”é—®å·çš„æ”¶é›†æˆªæ­¢æ—¥æœŸä¸º2026å¹´1æœˆ15æ—¥ï¼Œè°ƒç ”ç»“æœåˆ†ææ•´ç†åï¼Œå°†äº2026å¹´ä»¥è°ƒç ”æŠ¥å‘Šçš„å½¢å¼æ­£å¼å‘å¸ƒï¼Œæ—¨åœ¨ä¸ºè¡Œä¸šæä¾›æœ€æ–°çš„å‘å±•è¶‹åŠ¿åˆ†æå’Œå†³ç­–å‚è€ƒï¼Œæ¨åŠ¨è½¯ä»¶å·¥ç¨‹æ™ºèƒ½åŒ–è½¬å‹å‡çº§ã€‚</p>
<p>æ¬¢è¿å„ä¼ä¸šæˆ–ä¸“å®¶å‚ä¸é—®å·ï¼Œæœ‰æ•ˆå¡«å†™è€…å°†æœ‰æœºä¼šè·å¾—ç²¾ç¾å¥–å“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e35e8615e9d44398b30111d41b690d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWENhcHRhaW5v:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766138580&amp;x-signature=oHVAZuil1Pjn%2BQrGh9kkuRla8do%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ— è®ºæ‚¨æ‰€åœ¨ä¼ä¸šåœ¨è½¯ä»¶ç ”å‘è¿‡ç¨‹ä¸­ï¼Œå·²ç»è½åœ°äº†æ™ºèƒ½åŒ–èƒ½åŠ›ï¼Œè¿˜æ˜¯å¤„äºè¯•ç‚¹æ¢ç´¢é˜¶æ®µï¼Œæˆ‘ä»¬éƒ½è¯šæŒšé‚€è¯·æ‚¨å‚ä¸æ­¤æ¬¡è°ƒç ”ï¼Œåˆ†äº«æ‚¨çš„çœŸçŸ¥ç¼è§ï¼Œæ‚¨çš„å®è´µç»éªŒå°†ä¸ºè¡Œä¸šçš„å‘å±•æä¾›é‡è¦çš„å‚è€ƒä»·å€¼ã€‚æˆ‘ä»¬å°†å¯¹æ‚¨æä¾›çš„ä¿¡æ¯ä¸¥æ ¼ä¿å¯†ï¼Œå¹¶æ‰¿è¯ºä»…ç”¨äºæŠ¥å‘Šçš„ç¼–å†™ã€‚æœŸå¾…æ‚¨çš„ç§¯æå‚ä¸ï¼Œå…±åŒä¸ºè½¯ä»¶è¡Œä¸šçš„æ™ºèƒ½åŒ–å‘å±•è´¡çŒ®åŠ›é‡ï¼</p>
<p><strong>è”ç³»æ–¹å¼ï¼š</strong> ä¸­å›½ä¿¡é€šé™¢/äººå·¥æ™ºèƒ½ç ”ç©¶æ‰€</p>
<ul>
<li>
<p>é½è€å¸ˆ 18686962307(å¾®ä¿¡åŒå·)</p>
</li>
<li>
<p>é—«è€å¸ˆ 13041008356(å¾®ä¿¡åŒå·)</p>
</li>
<li>
<p>ç§¦è€å¸ˆ 13488684897(å¾®ä¿¡åŒå·)</p>
</li>
</ul>
<h3 data-id="heading-0">å…³äºä¸­å›½äººå·¥æ™ºèƒ½äº§ä¸šå‘å±•è”ç›Ÿï¼ˆAIIAï¼‰è½¯ä»¶æ™ºèƒ½åŒ–å§”å‘˜ä¼š</h3>
<p>ä¸­å›½äººå·¥æ™ºèƒ½äº§ä¸šå‘å±•è”ç›Ÿï¼ˆAIIAï¼‰è½¯ä»¶æ™ºèƒ½åŒ–å§”å‘˜ä¼šæ˜¯åŸAI4SEå·¥ä½œç»„çš„æ‰©å……ä¸å‡çº§ï¼Œåœ¨åŸæœ‰å·¥ä½œåŸºç¡€ä¸Šç»§ç»­æ·±æŒ–ä¸æ‰©å±•ã€‚ä¸€æ˜¯æŒç»­æ·±è€•è½¯ä»¶ç ”å‘å…¨æµç¨‹æ™ºèƒ½åŒ–è½¬å‹ï¼ŒäºŒæ˜¯æ¨åŠ¨è½¯ä»¶äº§å“å½¢æ€æ™ºèƒ½åˆ›æ–°ï¼Œä¸‰æ˜¯æ¨åŠ¨è½¯ä»¶ä¼ä¸šæ™ºèƒ½åŒ–è½¬å‹å‡çº§ï¼Œå……åˆ†é‡Šæ”¾AIåœ¨è½¯ä»¶é¢†åŸŸçš„ä»·å€¼ã€‚AI4SEå·¥ä½œç»„å·²å¸çº³180+æˆå‘˜å•ä½ï¼Œè¦†ç›–é‡‘èã€ç”µä¿¡ã€è½¯ä»¶ç­‰è¯¸å¤šè¡Œä¸šï¼Œæ¬¢è¿æ›´å¤šä¼ä¸šåŠ å…¥ã€‚</p>
<h3 data-id="heading-1"><strong>è”ç³»æ–¹å¼ï¼š</strong></h3>
<p>é½è€å¸ˆ 18686962307(å¾®ä¿¡åŒå·)</p>
<p>é—«è€å¸ˆ 13041008356(å¾®ä¿¡åŒå·)</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çªç„¶å‘å¸ƒï¼GPT-5.2æ·±å¤œæ¥è¢­ï¼Œ3ä¸ªç‰ˆæœ¬ç¢¾å‹äººç±»ä¸“å®¶ï¼Œæ‰“å·¥äººè¯¥æ€ä¹ˆé€‰ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582791876366270502</link>    <guid>https://juejin.cn/post/7582791876366270502</guid>    <pubDate>2025-12-12T09:57:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582791876366270502" data-draft-id="7582777037863583794" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çªç„¶å‘å¸ƒï¼GPT-5.2æ·±å¤œæ¥è¢­ï¼Œ3ä¸ªç‰ˆæœ¬ç¢¾å‹äººç±»ä¸“å®¶ï¼Œæ‰“å·¥äººè¯¥æ€ä¹ˆé€‰ï¼Ÿ"/> <meta itemprop="keywords" content="OpenAI,ç®—æ³•,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-12T09:57:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç®—å®¶è®¡ç®—"/> <meta itemprop="url" content="https://juejin.cn/user/1426490793396571"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çªç„¶å‘å¸ƒï¼GPT-5.2æ·±å¤œæ¥è¢­ï¼Œ3ä¸ªç‰ˆæœ¬ç¢¾å‹äººç±»ä¸“å®¶ï¼Œæ‰“å·¥äººè¯¥æ€ä¹ˆé€‰ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1426490793396571/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç®—å®¶è®¡ç®—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T09:57:01.000Z" title="Fri Dec 12 2025 09:57:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>GPT5.2æ¥äº†ï¼Œä¸‰çº§æ¨¡å‹çŸ©é˜µç²¾å‡†æˆ³ä¸­ä¸åŒç”¨æˆ·ç—›ç‚¹ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1485241f440d485ab61136a5f3c2246c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766138220&amp;x-signature=FE652%2FGzgDSKoHiS0y76n63hjgM%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼ˆå›¾ç‰‡æºè‡ªç½‘ç»œï¼Œä¾µåˆ ï¼‰Â  Â  Â </p>
<p>æ²¡æœ‰å‘å¸ƒä¼šï¼Œæ²¡æœ‰é¢„çƒ­æµ·æŠ¥ï¼Œ12æœˆ12æ—¥å‡Œæ™¨ï¼ŒOpenAIçªç„¶æ‰”å‡ºé‡ç£…ç‚¸å¼¹â€”â€”GPT-5.2ç³»åˆ—æ¨¡å‹ä½è°ƒä¸Šçº¿ï¼Œä»…ç”¨ä¸€ç¯‡æŠ€æœ¯åšå®¢å’ŒCEOå¥¥ç‰¹æ›¼çš„ä¸€å¥è¯å®£å‘Šï¼Œå°±æ…åŠ¨äº†æ•´ä¸ªAIè¡Œä¸šçš„ç¥ç»ã€‚è¿™ä¸æ˜¯ä¸€æ¬¡å¸¸è§„è¿­ä»£ï¼Œè€Œæ˜¯è°·æ­Œ Gemini 3ä¸ŠæœˆæƒŠè‰³äº®ç›¸åï¼ŒOpenAI æ‹‰å“â€œçº¢è‰²è­¦æŠ¥â€çš„èƒŒæ°´ä¸€æˆ˜ï¼Œç›®æ ‡ç›´æŒ‡â€œä¸“ä¸šçŸ¥è¯†å·¥ä½œç¬¬ä¸€æ¨¡å‹â€å®åº§ã€‚</p>
<p><strong>æ ¸å¿ƒäº®ç‚¹ï¼š3ä¸ªç‰ˆæœ¬ç²¾å‡†ç‹™å‡»ä¸åŒåœºæ™¯</strong></p>
<p>OpenAIè¿™æ¬¡çš„äº§å“ç­–ç•¥å ªç§°æ•™ç§‘ä¹¦çº§ï¼Œç›´æ¥æ‹†åˆ†å‡ºä¸‰çº§æ¨¡å‹çŸ©é˜µï¼Œå½»åº•å‘Šåˆ«â€œä¸€åˆ€åˆ‡â€ï¼š
Instantæé€Ÿç‰ˆï¼šæ—¥å¸¸è½»é‡ä»»åŠ¡é¦–é€‰ï¼Œä¸»æ‰“å¿«å“åº” + æ¸©æš–è¯­è°ƒï¼Œä¿¡æ¯æŸ¥è¯¢ã€ç¿»è¯‘ã€ç®€å•æ–‡æ¡£æ’°å†™ç§’çº§åé¦ˆï¼Œå®Œç¾æ›¿ä»£ GPT-5.1 æ—¥å¸¸ä½¿ç”¨åœºæ™¯ï¼›
Thinkingæ€è€ƒç‰ˆï¼šä¸“ä¸šäººå£«ä¸»åŠ›æ¬¾ï¼Œèšç„¦æ·±åº¦æ¨ç†ä¸å¤æ‚é¡¹ç›®ï¼Œé•¿æ–‡æ¡£åˆ†æã€å›¾è¡¨è§£è¯»ã€å¤šæ­¥éª¤å·¥å…·è°ƒç”¨èƒ½åŠ›æ‹‰æ»¡ï¼Œæ˜¯æ™ºèƒ½ä½“å·¥ä½œæµçš„æ ¸å¿ƒå¼•æ“ï¼›
Proä¸“ä¸šç‰ˆï¼šå¤©èŠ±æ¿çº§æ€§èƒ½ï¼Œé¢å‘ç§‘ç ”ä¸é«˜ç«¯å•†ä¸šåœºæ™¯ï¼Œé”™è¯¯ç‡æœ€ä½ã€æ¨ç†é“¾æ¡æœ€é•¿ï¼Œåœ¨é‡‘èå»ºæ¨¡ã€å¤æ‚ç¼–ç¨‹ç­‰ä»»åŠ¡ä¸­è¾¾åˆ°äººç±»é¡¶å°–ä¸“å®¶æ°´å‡†ã€‚
ç›®å‰æ¨¡å‹å·²å‘Plusã€Proã€Businessç­‰ä»˜è´¹ç”¨æˆ·é€æ­¥å¼€æ”¾ï¼ŒGPT-5.1å°†ä¿ç•™ä¸‰ä¸ªæœˆååœç”¨ï¼ŒAPIåŒæ­¥ä¸Šçº¿ï¼Œç¼“å­˜è¾“å…¥å¯äº«90%æŠ˜æ‰£ã€‚</p>
<p><strong>å®æµ‹å°ç¥ï¼šè¿™äº›æ•°æ®é¢ è¦†è®¤çŸ¥</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b56c268a32fa452ea9acb1236b8dcd8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg566X5a626K6h566X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766138220&amp;x-signature=Ftg5tiCJ27Ztihoq8EjzsNSUBr4%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼ˆå›¾ç‰‡æºè‡ªç½‘ç»œï¼Œä¾µåˆ ï¼‰</p>
<p>OpenAIæå‡ºçš„å…¨æ–°GDPvalåŸºå‡†æµ‹è¯•ï¼ˆè¦†ç›–9å¤§è¡Œä¸š44ç±»èŒä¸šï¼‰ï¼Œè®©GPT-5.2çš„å®åŠ›æ— å¯è¾©é©³ï¼š
1ã€Proç‰ˆæœ¬åœ¨74.1%çš„çœŸå®å·¥ä½œä»»åŠ¡ä¸­ï¼Œå‡»è´¥æˆ–æ‰“å¹³äººç±»ä¸“å®¶ï¼ŒæŠ•è¡Œå»ºæ¨¡ã€PPTåˆ¶ä½œç­‰åœºæ™¯æ•ˆç‡æå‡11å€ï¼Œæˆæœ¬å´ä¸è¶³äººç±»1%ï¼›
2ã€256kè¶…é•¿ä¸Šä¸‹æ–‡ï¼ˆçº¦æ•°åä¸‡å­—ï¼‰å¤„ç†å‡†ç¡®ç‡æ¥è¿‘100%ï¼Œå‡ ç™¾ä»½åˆåŒã€è´¢æŠ¥â€œå¤§æµ·æé’ˆâ€ä¸å†é—æ¼å…³é”®ä¿¡æ¯ï¼›
3ã€ç¼–ç¨‹èƒ½åŠ›åˆ·æ–°çºªå½•ï¼ŒSWE-bench Proå¾—åˆ†è¾¾55.6%ï¼Œèƒ½ç‹¬ç«‹å®Œæˆå¤šè¯­è¨€å¤æ‚å·¥ç¨‹ã€è°ƒè¯•ç”Ÿäº§ä»£ç ï¼Œè¢«å¼€å‘è€…ç§°ä¸ºâ€œæ™ºèƒ½ä½“ç¼–ç¨‹çš„æœ€å¤§é£è·ƒâ€ï¼›æ•°å­¦æ¨ç†å®ç°â€œå°ç¥â€ï¼ŒAIME 2025æµ‹è¯•æ‹¿ä¸‹æ»¡åˆ†ï¼ŒARC-AGI-1æŠ½è±¡æ¨ç†çªç ´ 90%ï¼Œé‡‘èé¢„æµ‹ã€æ•°æ®åˆ†æèƒ½åŠ›å†ä¸Šå°é˜¶ã€‚</p>
<p>æ›´æƒŠå–œçš„æ˜¯è§†è§‰è¿›åŒ–ï¼ŒThinkingç‰ˆæœ¬å¯¹å›¾è¡¨ã€ä»ªè¡¨ç›˜ã€UIç•Œé¢çš„è§£è¯»é”™è¯¯ç‡å¤§é™50%ï¼Œç”šè‡³èƒ½ç²¾å‡†è¯†åˆ«ä¸»æ¿ç»„ä»¶ç©ºé—´å¸ƒå±€ï¼Œå½»åº•æ‘†è„±å‰ä»£â€œèƒ¡è¨€ä¹±è¯­â€çš„å°´å°¬ã€‚</p>
<p><strong>å…‰é²œèƒŒåï¼šçŸ­æ¿ä¸äº‰è®®å¹¶å­˜</strong></p>
<p>ä¸è¿‡GPT-5.2å¹¶éå®Œç¾æ— ç¼ºã€‚OpenAIå¦è¨€ï¼Œå¤æ‚ä»»åŠ¡ç”Ÿæˆå¯èƒ½éœ€è¦æ•°åˆ†é’Ÿï¼Œâ€œæ…¢æ€è€ƒâ€å¸¦æ¥çš„å»¶è¿Ÿé—®é¢˜ï¼Œåœ¨å®æ—¶äº¤äº’åœºæ™¯ä¸­å ªç§°ä½“éªŒå€’é€€ã€‚ä»·æ ¼ä¹Ÿè®©ç”¨æˆ·ç›´å‘¼â€œè‚‰ç—›â€ï¼šInstantå’ŒThinkingç‰ˆæ¯ç™¾ä¸‡è¾“å…¥Token1.75ç¾å…ƒã€è¾“å‡º14ç¾å…ƒï¼ŒProç‰ˆæ›´æ˜¯é«˜è¾¾è¾“å…¥21ç¾å…ƒã€è¾“å‡º168ç¾å…ƒï¼Œæ¯”Claude 4.5é«˜é˜¶ç‰ˆè´µ50%ã€‚æ›´å€¼å¾—å…³æ³¨çš„æ˜¯è¡Œä¸šç«äº‰æ ¼å±€çš„å·¨å˜ã€‚æ›¾ç»OpenAIé¢†å…ˆå¯¹æ‰‹ä¸€å¹´ä»¥ä¸Šï¼Œå¦‚ä»ŠGPT-5.2è™½åˆ·æ–°å¤šé¡¹çºªå½•ï¼Œä½†ä¸Gemini 3ã€Claude 4.5çš„å·®è·å·²ç¼©å°åˆ°å‡ å‘¨ã€‚å¾·å›½ä¸€ä½AIåšä¸»ç›´è¨€ï¼šâ€œå½“æ‰€æœ‰æ¨¡å‹éƒ½èƒ½æ‹¿é«˜åˆ†ï¼ŒçœŸæ­£çš„ä»·å€¼åœ¨äºå·¥ä½œæµæ•´åˆä¸å®é™…åº”ç”¨èƒ½åŠ›ã€‚â€</p>
<p><strong>è¡Œä¸šè§£è¯»ï¼šOpenAI çš„æˆ˜ç•¥å®šåŠ›ä¸ç„¦è™‘</strong></p>
<p>è¿™æ¬¡GPT-5.2çš„å‘å¸ƒï¼Œæš´éœ²äº†OpenAIçš„åŒé‡å¿ƒæ€ï¼šä¸€æ–¹é¢ï¼Œå®ƒä¸å†æ‰§ç€äºâ€œå…¨èƒ½ç¬¬ä¸€â€ï¼Œè€Œæ˜¯èšç„¦â€œç»æµä»·å€¼â€ï¼Œé€šè¿‡ç»†åˆ†ç‰ˆæœ¬æ·±è€•ä¸“ä¸šåœºæ™¯ï¼Œå±•ç°å‡ºæˆç†Ÿçš„å•†ä¸šæˆ˜ç•¥ï¼›å¦ä¸€æ–¹é¢ï¼Œä¸‰ä¸ªæœˆå†…ä¸¤æ¬¡è¿­ä»£çš„é€Ÿåº¦ï¼Œä»¥åŠâ€œçº¢è‰²è­¦æŠ¥â€çš„å†…éƒ¨åŠ¨å‘˜ï¼Œéƒ½æš—ç¤ºç€å¯¹ç«äº‰çš„ç„¦è™‘ã€‚å¯¹æ™®é€šç”¨æˆ·è€Œè¨€ï¼ŒInstantç‰ˆè¶³ä»¥åº”å¯¹æ—¥å¸¸éœ€æ±‚ï¼Œæ€§ä»·æ¯”æœ€é«˜ï¼›èŒåœºäººã€å¼€å‘è€…ä¼˜å…ˆå†²Thinkingç‰ˆï¼Œé•¿æ–‡æ¡£å¤„ç†å’Œç¼–ç¨‹èƒ½åŠ›èƒ½ç›´æ¥æå‡å·¥ä½œæ•ˆç‡ï¼›ä¼ä¸šå®¢æˆ·åˆ™å¯å…³æ³¨Proç‰ˆçš„æ™ºèƒ½ä½“åä½œèƒ½åŠ›ï¼Œå¤šå·¥å…·ç¼–æ’ã€è·¨ç³»ç»Ÿæ•°æ®å¤„ç†èƒ½å¤§å¹…é™ä½è¿è¥æˆæœ¬ã€‚ç›®å‰GPT-5.2ä»åœ¨åˆ†æ‰¹å¼€æ”¾ä¸­ï¼Œä»˜è´¹ç”¨æˆ·å¯åœ¨ChatGPTå†…åˆ‡æ¢ç‰ˆæœ¬ä½“éªŒã€‚é¢å¯¹3ä¸ªç‰ˆæœ¬ï¼Œå¤§å®¶ä¼šæ€ä¹ˆé€‰æ‹©å‘¢ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™ä¸‹ä½ çš„çœ‹æ³•ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å…¨æ ˆè¿›é˜¶ï¼šä½¿ç”¨ Node.js Crypto æ¨¡å—å¤„ç† AES åŠ å¯†ä¸å¤©è¿œAPIæ•°æ®èšåˆ]]></title>    <link>https://juejin.cn/post/7582786655472893995</link>    <guid>https://juejin.cn/post/7582786655472893995</guid>    <pubDate>2025-12-12T09:28:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582786655472893995" data-draft-id="7582561515817746495" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å…¨æ ˆè¿›é˜¶ï¼šä½¿ç”¨ Node.js Crypto æ¨¡å—å¤„ç† AES åŠ å¯†ä¸å¤©è¿œAPIæ•°æ®èšåˆ"/> <meta itemprop="keywords" content="API,å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2025-12-12T09:28:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©è¿œæ•°ç§‘"/> <meta itemprop="url" content="https://juejin.cn/user/3511153810487162"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å…¨æ ˆè¿›é˜¶ï¼šä½¿ç”¨ Node.js Crypto æ¨¡å—å¤„ç† AES åŠ å¯†ä¸å¤©è¿œAPIæ•°æ®èšåˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3511153810487162/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©è¿œæ•°ç§‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T09:28:16.000Z" title="Fri Dec 12 2025 09:28:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€åœ¨ BFF å±‚æ‹¦æˆªå¤šå¤´å€Ÿè´·é£é™©</h2>
<p>åœ¨ç°ä»£é‡‘èç§‘æŠ€æ¶æ„ä¸­ï¼Œ<strong>Node.js</strong> å¸¸é©»äºä¸šåŠ¡ç½‘å…³å±‚ï¼Œè´Ÿè´£èšåˆæ•°æ®å¹¶ä¸ºå‰ç«¯æä¾›å“åº”ã€‚å½“ç”¨æˆ·åœ¨ APP ç«¯å‘èµ·å€Ÿæ¬¾ç”³è¯·æ—¶ï¼Œç½‘å…³å±‚éœ€è¦åœ¨æ¯«ç§’çº§æ—¶é—´å†…åˆ¤æ–­ç”¨æˆ·çš„é£é™©ç­‰çº§ï¼Œä»è€Œå†³å®šæ˜¯ç›´æ¥æ‹’ç»ã€å¼¹çª—è­¦å‘Šè¿˜æ˜¯è¿›å…¥äººå·¥å®¡æ ¸ã€‚</p>
<p><strong>å¤©è¿œAPI</strong> çš„â€œå¤šå¤´å€Ÿè´·è¡Œä¸šé£é™©ç‰ˆâ€ï¼Œæä¾›äº†åŒºåˆ«äºä¼ ç»Ÿå¾ä¿¡çš„<strong>ç²¾ç»†åŒ–è¡Œä¸ºç”»åƒ</strong>ã€‚å®ƒä¸ä»…èƒ½åŒºåˆ†ç”¨æˆ·æ˜¯åœ¨â€œé“¶è¡Œâ€è¿˜æ˜¯â€œP2Pâ€å¹³å°å€Ÿè´·ï¼Œè¿˜èƒ½è¯†åˆ«å‡ºç”¨æˆ·æ˜¯å¦åœ¨â€œå‡Œæ™¨â€è¿›è¡Œé«˜é¢‘ç”³è¯·ã€‚ç„¶è€Œï¼Œè¯¥æ¥å£è¿”å›çš„ <code>List&lt;KV&gt;</code> æ ¼å¼æ•°æ®ï¼ˆå¦‚ <code>[{"riskCode": "41001", "riskCodeValue": "50"}]</code>ï¼‰å¯¹å‰ç«¯å±•ç¤ºå¹¶ä¸å‹å¥½ã€‚</p>
<p>æœ¬æ–‡å°†æ¼”ç¤ºå¦‚ä½•åœ¨ Node.js ç¯å¢ƒä¸­ï¼Œåˆ©ç”¨åŸç”Ÿ <code>crypto</code> æ¨¡å—å®ç°é«˜å®‰å…¨çš„ AES-128-CBC é€šä¿¡ï¼Œå¹¶ç¼–å†™é«˜æ•ˆçš„æ•°æ®è½¬æ¢ï¼ˆTransformerï¼‰å‡½æ•°ï¼Œå°†<strong>å¤©è¿œAPI</strong>çš„åŸå§‹æ•°æ®æ¸…æ´—ä¸ºä¸šåŠ¡å‹å¥½çš„ç»“æ„åŒ– JSONã€‚</p>
<h2 data-id="heading-1">äºŒã€APIæ¥å£è°ƒç”¨ç¤ºä¾‹ï¼ˆNode.jsç‰ˆï¼‰</h2>
<h3 data-id="heading-2">1. æ¥å£æŠ€æœ¯è§„èŒƒ</h3>
<ul>
<li><strong>æ¥å£åœ°å€</strong>ï¼š<code>https://api.tianyuanapi.com/api/v1/DWBG7F3A</code></li>
<li><strong>HTTPæ–¹æ³•</strong>ï¼šPOST</li>
<li><strong>é‰´æƒ</strong>ï¼šHeader éœ€æºå¸¦ <code>Access-Id</code>ã€‚</li>
<li><strong>Payload</strong>ï¼šBody ä¸­çš„ <code>data</code> å­—æ®µä¸º AES åŠ å¯†å¹¶ Base64 ç¼–ç åçš„å­—ç¬¦ä¸² 1ã€‚</li>
</ul>
<h3 data-id="heading-3">2. Node.js å®Œæ•´å®ç°ä»£ç </h3>
<p>åœ¨ Node.js ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>axios</code> å‘èµ·è¯·æ±‚ï¼Œä½¿ç”¨ <code>crypto</code> å¤„ç†åŠ è§£å¯†ã€‚ç‰¹åˆ«æ³¨æ„ï¼šåŠ å¯†åçš„å¯†æ–‡éœ€è¦ä¸ IVï¼ˆåˆå§‹åŒ–å‘é‡ï¼‰æ‹¼æ¥åå†è¿›è¡Œ Base64 ç¼–ç ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">'axios'</span>);
<span class="hljs-keyword">const</span> crypto = <span class="hljs-built_in">require</span>(<span class="hljs-string">'crypto'</span>);

<span class="hljs-comment">// é…ç½®ä¿¡æ¯</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CONFIG</span> = {
    <span class="hljs-attr">apiUrl</span>: <span class="hljs-string">'&lt;https://api.tianyuanapi.com/api/v1/DWBG7F3A&gt;'</span>,
    <span class="hljs-attr">accessId</span>: <span class="hljs-string">'YOUR_ACCESS_ID'</span>,      
    <span class="hljs-attr">accessKey</span>: <span class="hljs-string">'YOUR_ACCESS_KEY_HEX'</span> <span class="hljs-comment">// 16å­—èŠ‚HEXå­—ç¬¦ä¸²</span>
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">IndustryRiskService</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// ç¡®ä¿ Key ä¸º Buffer</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span> = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">accessKey</span>, <span class="hljs-string">'utf-8'</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">16</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">algorithm</span> = <span class="hljs-string">'aes-128-cbc'</span>;
    }

    <span class="hljs-comment">// --- AES åŠ å¯† ---</span>
    <span class="hljs-title function_">encrypt</span>(<span class="hljs-params">dataObj</span>) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> iv = crypto.<span class="hljs-title function_">randomBytes</span>(<span class="hljs-number">16</span>); <span class="hljs-comment">// éšæœºç”ŸæˆIV</span>
            <span class="hljs-keyword">const</span> plaintext = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(dataObj);
            
            <span class="hljs-keyword">const</span> cipher = crypto.<span class="hljs-title function_">createCipheriv</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">algorithm</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span>, iv);
            <span class="hljs-keyword">let</span> encrypted = cipher.<span class="hljs-title function_">update</span>(plaintext, <span class="hljs-string">'utf8'</span>, <span class="hljs-string">'base64'</span>);
            encrypted += cipher.<span class="hljs-title function_">final</span>(<span class="hljs-string">'base64'</span>);
            
            <span class="hljs-comment">// æ‹¼æ¥ IV + å¯†æ–‡ -&gt; Base64</span>
            <span class="hljs-keyword">const</span> ivBuffer = iv;
            <span class="hljs-keyword">const</span> encryptedBuffer = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(encrypted, <span class="hljs-string">'base64'</span>);
            <span class="hljs-keyword">const</span> combinedBuffer = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">concat</span>([ivBuffer, encryptedBuffer]);
            
            <span class="hljs-keyword">return</span> combinedBuffer.<span class="hljs-title function_">toString</span>(<span class="hljs-string">'base64'</span>);
        } <span class="hljs-keyword">catch</span> (err) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Encrypt Error:'</span>, err.<span class="hljs-property">message</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
    }

    <span class="hljs-comment">// --- AES è§£å¯† ---</span>
    <span class="hljs-title function_">decrypt</span>(<span class="hljs-params">base64Str</span>) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> combinedBuffer = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(base64Str, <span class="hljs-string">'base64'</span>);
            <span class="hljs-keyword">const</span> iv = combinedBuffer.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">16</span>);       <span class="hljs-comment">// æå–å‰16å­—èŠ‚ IV</span>
            <span class="hljs-keyword">const</span> content = combinedBuffer.<span class="hljs-title function_">slice</span>(<span class="hljs-number">16</span>);     <span class="hljs-comment">// æå–å‰©ä½™å¯†æ–‡</span>
            
            <span class="hljs-keyword">const</span> decipher = crypto.<span class="hljs-title function_">createDecipheriv</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">algorithm</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span>, iv);
            <span class="hljs-keyword">let</span> decrypted = decipher.<span class="hljs-title function_">update</span>(content, <span class="hljs-string">'base64'</span>, <span class="hljs-string">'utf8'</span>);
            decrypted += decipher.<span class="hljs-title function_">final</span>(<span class="hljs-string">'utf8'</span>);
            
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(decrypted);
        } <span class="hljs-keyword">catch</span> (err) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Decrypt Error:'</span>, err.<span class="hljs-property">message</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
    }

    <span class="hljs-comment">// --- æ•°æ®æ¸…æ´— Transformer ---</span>
    <span class="hljs-comment">// å°†æ•°ç»„ [{"riskCode": "41001", "riskCodeValue": "50"}] è½¬æ¢ä¸ºå¯¹è±¡ {"41001": 50}</span>
    <span class="hljs-title function_">transformReport</span>(<span class="hljs-params">rawData</span>) {
        <span class="hljs-keyword">const</span> reportList = rawData[<span class="hljs-string">'riskInfo_report_v3.1'</span>] || [];
        <span class="hljs-keyword">return</span> reportList.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, item</span>) =&gt;</span> {
            acc[item.<span class="hljs-property">riskCode</span>] = <span class="hljs-title class_">Number</span>(item.<span class="hljs-property">riskCodeValue</span>); <span class="hljs-comment">// è½¬ä¸ºæ•°å­—æ–¹ä¾¿è®¡ç®—</span>
            <span class="hljs-keyword">return</span> acc;
        }, {});
    }

    <span class="hljs-comment">// --- ä¸šåŠ¡è°ƒç”¨ä¸»æµç¨‹ ---</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">queryRisk</span>(<span class="hljs-params">userParams</span>) {
        <span class="hljs-keyword">const</span> encryptedData = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">encrypt</span>(userParams);
        <span class="hljs-keyword">if</span> (!encryptedData) <span class="hljs-keyword">return</span>;

        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> url = <span class="hljs-string">`<span class="hljs-subst">${CONFIG.apiUrl}</span>?t=<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>`</span>;
            <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">post</span>(url, { <span class="hljs-attr">data</span>: encryptedData }, {
                <span class="hljs-attr">headers</span>: { 
                    <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
                    <span class="hljs-string">'Access-Id'</span>: <span class="hljs-variable constant_">CONFIG</span>.<span class="hljs-property">accessId</span> 
                }
            });

            <span class="hljs-keyword">if</span> (res.<span class="hljs-property">data</span>.<span class="hljs-property">code</span> === <span class="hljs-number">0</span>) {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'APIè°ƒç”¨æˆåŠŸï¼Œè§£ææ•°æ®...'</span>);
                <span class="hljs-keyword">const</span> rawResult = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">decrypt</span>(res.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>);
                
                <span class="hljs-comment">// æ‰§è¡Œæ•°æ®æ¸…æ´—</span>
                <span class="hljs-keyword">const</span> cleanData = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">transformReport</span>(rawResult);
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">analyzeRisk</span>(cleanData);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'APIä¸šåŠ¡é”™è¯¯:'</span>, res.<span class="hljs-property">data</span>.<span class="hljs-property">message</span>);
            }
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ç½‘ç»œè¯·æ±‚å¤±è´¥:'</span>, error.<span class="hljs-property">message</span>);
        }
    }

    <span class="hljs-comment">// --- ç®€å•çš„é£æ§é€»è¾‘ ---</span>
    <span class="hljs-title function_">analyzeRisk</span>(<span class="hljs-params">data</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'--- ç”¨æˆ·é£é™©ç”»åƒ ---'</span>);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¤šå¤´å€Ÿè´·é€šç”¨åˆ† (41001): <span class="hljs-subst">${data[<span class="hljs-string">'41001'</span>]}</span>`</span>);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`é“¶è¡Œç³»å€Ÿè´·åˆ† (41005): <span class="hljs-subst">${data[<span class="hljs-string">'41005'</span>]}</span>`</span>);
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`äº’é‡‘ç³»å€Ÿè´·åˆ† (41004): <span class="hljs-subst">${data[<span class="hljs-string">'41004'</span>]}</span>`</span>);
        
        <span class="hljs-comment">// ç¤ºä¾‹è§„åˆ™ï¼šå¦‚æœæ˜¯æ·±å¤œç”³è¯·ä¸”äº’é‡‘åˆ†é«˜</span>
        <span class="hljs-keyword">if</span> (data[<span class="hljs-string">'40105'</span>] &gt; <span class="hljs-number">0</span> &amp;&amp; data[<span class="hljs-string">'41004'</span>] &gt; <span class="hljs-number">60</span>) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'ã€é«˜å±é¢„è­¦ã€‘æ£€æµ‹åˆ°â€œæ·±å¤œé«˜é¢‘å€Ÿè´·â€è¡Œä¸ºï¼Œå»ºè®®æ‹¦æˆªï¼'</span>);
        }
    }
}

<span class="hljs-comment">// è¿è¡Œç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> service = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IndustryRiskService</span>();
service.<span class="hljs-title function_">queryRisk</span>({
    <span class="hljs-attr">name</span>: <span class="hljs-string">"ç‹äº”"</span>,
    <span class="hljs-attr">id_card</span>: <span class="hljs-string">"310101199001011234"</span>,
    <span class="hljs-attr">mobile_no</span>: <span class="hljs-string">"13800138000"</span>
});
</code></pre>
<h2 data-id="heading-4">ä¸‰ã€æ ¸å¿ƒæ•°æ®ç»“æ„è§£æ</h2>
<p>å¯¹äº Node.js å¼€å‘è€…ï¼Œå¤„ç†<strong>å¤©è¿œAPI</strong>è¿”å›çš„æ•°æ®æ—¶ï¼Œæœ€æ ¸å¿ƒçš„å·¥ä½œæ˜¯å°† <code>Array</code> è½¬æ¢ä¸º <code>Object</code> (Map)ã€‚</p>
<h3 data-id="heading-5">1. åŸå§‹æ•°æ®å›°å¢ƒ</h3>
<p>API è¿”å›çš„æ•°æ®æ˜¯ä¸ºäº†ä¼ è¾“æ•ˆç‡ä¼˜åŒ–çš„ 2ï¼š</p>
<p>JavaScript</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"riskInfo_report_v3.1"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"riskCode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"41001"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"riskCodeValue"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"43"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// éœ€è¦éå†æ‰èƒ½æ‰¾åˆ°</span>
    <span class="hljs-punctuation">{</span> <span class="hljs-attr">"riskCode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"40105"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"riskCodeValue"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"5"</span> <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<h3 data-id="heading-6">2. æ¸…æ´—åçš„æ•°æ®ä¼˜åŠ¿</h3>
<p>é€šè¿‡ <code>reduce</code> å‡½æ•°è½¬æ¢åï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ Key è®¿é—®ï¼Œè¿™åœ¨ç¼–å†™é£æ§è§„åˆ™å¼•æ“ï¼ˆRule Engineï¼‰æ—¶è‡³å…³é‡è¦ï¼š</p>
<p>JavaScript</p>
<pre><code class="hljs language-kotlin" lang="kotlin">{
    <span class="hljs-string">"41001"</span>: <span class="hljs-number">43</span>,
    <span class="hljs-string">"40105"</span>: <span class="hljs-number">5</span>,
    <span class="hljs-string">"41005"</span>: <span class="hljs-number">34</span>
}
<span class="hljs-comment">// è§„åˆ™ä¹¦å†™å˜å¾—æå…¶ç®€å•ï¼š</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">data</span>[<span class="hljs-string">'41001'</span>] &gt; <span class="hljs-number">80</span>) <span class="hljs-keyword">return</span> reject();
</code></pre>
<h2 data-id="heading-7">å››ã€å­—æ®µè¯¦è§£ï¼ˆNode.js å®æˆ˜å…³æ³¨ç‚¹ï¼‰</h2>
<p>ä»¥ä¸‹å­—æ®µæ˜¯å¼€å‘ BFF å±‚æ¥å£æ—¶ï¼Œæœ€å¸¸éœ€è¦ é€ä¼ ç»™å‰ç«¯ æˆ– ç”¨äº ç½‘å…³æ‹¦æˆª çš„å…³é”®æŒ‡æ ‡ã€‚</p>
<h3 data-id="heading-8">1. å®è§‚è¯„åˆ†ï¼ˆç”¨äºå‰ç«¯å±•ç¤ºæˆ–åˆ†æµï¼‰</h3>





























<table><thead><tr><th><strong>å­—æ®µ Code</strong></th><th><strong>å­—æ®µå«ä¹‰</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>Node.js å¤„ç†å»ºè®®</strong></th></tr></thead><tbody><tr><td><strong>41001</strong></td><td>å¤šå¤´ç”³è¯·é€šç”¨åˆ†</td><td>0-100åˆ† 3</td><td>å¯ç›´æ¥é€ä¼ ç»™ä¿¡å®¡å‘˜åå°å±•ç¤ºã€‚</td></tr><tr><td><strong>41002</strong></td><td>çŸ­å‘¨æœŸå¤šå¤´å…±å€ºå­åˆ†</td><td>0-100åˆ†ï¼Œçª—å£æœŸ7å¤©-3ä¸ªæœˆ 4</td><td>ç”¨äºåˆ¤æ–­æ˜¯å¦â€œè¿‘æœŸçªå‘ç¼ºé’±â€ã€‚</td></tr><tr><td><strong>41005</strong></td><td><strong>é“¶è¡Œå¤šå¤´å…±å€ºå­åˆ†</strong></td><td>0-100åˆ† 5</td><td>é“¶è¡Œç³»æ•°æ®çš„æƒé‡ï¼Œé€šå¸¸ä»£è¡¨èµ„è´¨ä¸Šé™ã€‚</td></tr></tbody></table>
<h3 data-id="heading-9">2. è¡Œä¸ºç‰¹å¾ï¼ˆç”¨äºè‡ªåŠ¨æ‹¦æˆªï¼‰</h3>





























<table><thead><tr><th><strong>å­—æ®µ Code</strong></th><th><strong>å­—æ®µå«ä¹‰</strong></th><th><strong>é˜ˆå€¼å‚è€ƒ</strong></th><th><strong>ä¸šåŠ¡é€»è¾‘</strong></th></tr></thead><tbody><tr><td><strong>40105</strong></td><td><strong>7å¤©æ€»ç”³è¯·å¤œæ™šæ¬¡æ•°</strong></td><td>&gt; 0 å³å…³æ³¨</td><td>å¤œé—´ï¼ˆ0ç‚¹-7ç‚¹ï¼‰ç”³è¯·æ˜¯å…¸å‹çš„é«˜å±æ¬ºè¯ˆç‰¹å¾ 6ã€‚</td></tr><tr><td><strong>40161</strong></td><td>7å¤©ç›¸å¯¹è¿‡å»30å¤©æ–°å¢å¹³å°æ•°</td><td>&gt; 3 å³é¢„è­¦</td><td>çªç„¶æ–°å¢å¤§é‡å¹³å°ï¼ˆæ’¸å£å­ï¼‰ï¼Œå¤§æ¦‚ç‡æ˜¯å°†è¦â€œè·‘è·¯â€çš„å‰å…† 7ã€‚</td></tr><tr><td><strong>40004</strong></td><td>7å¤©å†…äº’é‡‘ç”³è¯·æ¬¡æ•°</td><td>High</td><td>é¢‘ç¹ç”³è¯·P2P/ç½‘è´·ï¼Œæ„å‘³ç€é“¶è¡Œæ¸ é“å·²æ‹’ç»æˆ–é¢åº¦è€—å°½ 8ã€‚</td></tr></tbody></table>
<h2 data-id="heading-10">äº”ã€åº”ç”¨ä»·å€¼åˆ†æ</h2>
<p>åœ¨ Node.js æ¶æ„ä¸­é›†æˆ<strong>å¤©è¿œAPI</strong>çš„è¡Œä¸šé£é™©ç‰ˆï¼Œä¸»è¦è§£å†³ä»¥ä¸‹ç—›ç‚¹ï¼š</p>
<ol>
<li>
<p>åˆ†æµç­–ç•¥ï¼ˆRoutingï¼‰ï¼š</p>
<p>åœ¨ç½‘å…³å±‚ï¼Œæ ¹æ® 41005 (é“¶è¡Œåˆ†) å’Œ 41004 (éé“¶åˆ†) çš„æ¯”å€¼ï¼Œå°†æµé‡åˆ†å‘ç»™ä¸åŒçš„èµ„é‡‘æ–¹ã€‚</p>
<ul>
<li><em>é“¶è¡Œåˆ†é«˜</em> -&gt; è·¯ç”±è‡³ä½æ¯ã€å¤§é¢èµ„é‡‘æ–¹æ¥å£ã€‚</li>
<li><em>éé“¶åˆ†é«˜</em> -&gt; è·¯ç”±è‡³é«˜æ¯ã€å°é¢åŠ©è´·æœºæ„æ¥å£ã€‚</li>
</ul>
</li>
<li>
<p>åæ¬ºè¯ˆä¸­é—´ä»¶ï¼š</p>
<p>å¼€å‘ä¸€ä¸ª Express/Koa ä¸­é—´ä»¶ï¼Œåœ¨è¯·æ±‚è¿›å…¥æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å‰ï¼Œå…ˆè°ƒç”¨ API æ ¡éªŒ 40105 (å¤œé—´ç”³è¯·æ¬¡æ•°)ã€‚å¦‚æœå‘ç°è¯¥æŒ‡æ ‡å¼‚å¸¸ï¼Œç›´æ¥åœ¨ä¸­é—´ä»¶å±‚è¿”å› "Risk Reject"ï¼Œæ— éœ€æ¶ˆè€—åç«¯å¤æ‚çš„æˆä¿¡è®¡ç®—èµ„æºï¼Œä¿æŠ¤æ ¸å¿ƒç³»ç»Ÿã€‚</p>
</li>
<li>
<p>ç”¨æˆ·ç”»åƒè¡¥å…¨ï¼š</p>
<p>åˆ©ç”¨ Node.js çš„é«˜å¹¶å‘ç‰¹æ€§ï¼Œæ‰¹é‡æ¸…æ´—å­˜é‡ç”¨æˆ·çš„ 40037 (360å¤©æ€»ç”³è¯·æ¬¡æ•°) å’Œ 40038 (360å¤©é“¶è¡Œç”³è¯·æ¬¡æ•°) 9ï¼Œè®¡ç®—å‡ºç”¨æˆ·çš„â€œé“¶è¡Œåå¥½åº¦â€ï¼Œç”¨äºç²¾å‡†è¥é”€ã€‚</p>
</li>
</ol>
<h2 data-id="heading-11">å…­ã€æ€»ç»“</h2>
<p><strong>å¤©è¿œAPI</strong> çš„å¤šå¤´å€Ÿè´·è¡Œä¸šé£é™©ç‰ˆï¼Œé€šè¿‡åˆ†è¡Œä¸šã€åˆ†æ—¶æ®µçš„ç»´åº¦ï¼Œä¸ºé£æ§æä¾›äº†â€œæ˜¾å¾®é•œâ€çº§åˆ«çš„è§‚å¯Ÿèƒ½åŠ›ã€‚</p>
<p>å¯¹äº Node.js å¼€å‘è€…ï¼Œè™½ç„¶éœ€è¦å¤„ç† AES åŠ å¯†å’Œ Buffer æ‹¼æ¥çš„åº•å±‚ç»†èŠ‚ï¼Œä½†é€šè¿‡ç®€å•çš„å°è£…ï¼ˆå¦‚æœ¬æ–‡çš„ Service ç±»ï¼‰ï¼Œå³å¯è½»æ¾è·å¾—å¼ºå¤§çš„æ•°æ®æ¸…æ´—èƒ½åŠ›ã€‚å»ºè®®å¼€å‘è€…åœ¨ BFF å±‚é‡ç‚¹å…³æ³¨ <strong>å¤œé—´ç”³è¯·</strong> (<code>40105</code>) å’Œ <strong>æ–°å¢å¹³å°æ•°</strong> (<code>40161</code>) è¿™ä¸¤ä¸ªâ€œæ€æ‰‹çº§â€æŒ‡æ ‡ï¼Œå®ƒä»¬å¾€å¾€æ˜¯è¯†åˆ«æ¬ºè¯ˆç”¨æˆ·æœ€æœ‰æ•ˆçš„æ‰‹æ®µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§ç–†ä¸åŒä»»åŠ¡ç±»å‹æ‰§è¡Œé€»è¾‘ï¼Œä¸Šäº‘APIæºç åˆ†æ]]></title>    <link>https://juejin.cn/post/7582809606066339866</link>    <guid>https://juejin.cn/post/7582809606066339866</guid>    <pubDate>2025-12-12T09:31:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582809606066339866" data-draft-id="7582809606066323482" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§ç–†ä¸åŒä»»åŠ¡ç±»å‹æ‰§è¡Œé€»è¾‘ï¼Œä¸Šäº‘APIæºç åˆ†æ"/> <meta itemprop="keywords" content="åç«¯,Spring Boot"/> <meta itemprop="datePublished" content="2025-12-12T09:31:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ·±ç´«è‰²çš„ä¸‰åŒ—å…­å·"/> <meta itemprop="url" content="https://juejin.cn/user/4101625032221256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§ç–†ä¸åŒä»»åŠ¡ç±»å‹æ‰§è¡Œé€»è¾‘ï¼Œä¸Šäº‘APIæºç åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4101625032221256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ·±ç´«è‰²çš„ä¸‰åŒ—å…­å·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T09:31:45.000Z" title="Fri Dec 12 2025 09:31:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¤§ç–†ä¸åŒä»»åŠ¡ç±»å‹æ‰§è¡Œé€»è¾‘ï¼Œä¸Šäº‘APIæºç åˆ†æ</h2>
<p>å¤§ç–†å¸ç©º2ä¸­æœ‰ä¸åŒçš„ä»»åŠ¡ç±»å‹ï¼šç«‹å³ä»»åŠ¡ã€å®šæ—¶ä»»åŠ¡ã€æ¡ä»¶ä»»åŠ¡ã€‚
æœ€åˆæˆ‘ä»¬å®ç°æ—¶ï¼Œé€‰æ‹©çš„æ˜¯ç”¨Quartzåˆ›å»ºå®šæ—¶ä»»åŠ¡ï¼Œè°ƒç”¨APIä¸­executeFlightTaskæ¥å£å®ç°ä»»åŠ¡ä¸‹å‘ã€‚
åœ¨åŠŸèƒ½å®ç°ä¹‹åï¼Œéšç€å¯¹APIçš„æ·±å…¥äº†è§£ï¼Œå‘ç°å¤§ç–†APIä¸­æœ‰ç›¸å…³çš„ä»»åŠ¡ä¸‹å‘é€»è¾‘ã€‚
å½“æ—¶åªçœ‹äº†å®ç°é€»è¾‘ï¼Œå› ä¸ºæ´»æ¯”è¾ƒå¤šï¼ŒåŠ ä¸Šæ‡’ï¼Œå°±ä¸€ç›´æ‹–åˆ°ç°åœ¨ã€‚
<strong>æœ¬æ–‡æ˜¯å¯¹æºç çš„å­¦ä¹ æ€»ç»“ã€‚</strong></p>
<p>æ‰€æœ‰ä»»åŠ¡ä¸‹å‘çš„é€»è¾‘éƒ½ä»**publishFlightTask()**æ–¹æ³•å¼€å§‹ã€‚
com.dji.sample.wayline.service.impl.FlightTaskServiceImpl#publishFlightTask</p>
<h3 data-id="heading-1">ç«‹å³ä»»åŠ¡</h3>
<ol>
<li><code>fillImmediateTime(param)</code>æ–¹æ³•ï¼Œå¦‚æœæ˜¯ <strong>â€œç«‹å³ä»»åŠ¡ï¼ˆIMMEDIATEï¼‰â€</strong>ï¼Œå°±æŠŠä»»åŠ¡çš„æ‰§è¡Œæ—¥æœŸ<code>taskDays</code>ä¸æ‰§è¡Œæ—¶é—´æ®µ<code>taskPeriods</code>å¼ºåˆ¶è®¾ç½®ä¸ºå½“å‰æœåŠ¡å™¨æ—¶é—´ã€‚</li>
<li>ç”±äº<code>taskDays = [now]</code>ï¼Œ<code>taskPeriods = [ [now]</code> ]ï¼Œæ‰€ä»¥åªä¼šè¿›å…¥å¾ªç¯ä¸€æ¬¡ï¼Œå¹¶ä¸”beginTime = å½“å‰æ¯«ç§’æ—¶é—´ç‚¹ï¼ŒendTime = beginTimeã€‚</li>
<li>åˆ›å»ºä¸€æ¡é£è¡Œä»»åŠ¡è®°å½•å­˜åˆ°æ•°æ®åº“ä¸­---- <code>waylineJobOpt</code>ã€‚</li>
<li>è°ƒç”¨<code>publishOneFlight()</code>æ–¹æ³•å‘å¸ƒä»»åŠ¡</li>
</ol>
<p><strong>[1]publishFlightTask</strong></p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-comment">/**
     * å‘å¸ƒé£è¡Œä»»åŠ¡çš„æ ¸å¿ƒå…¥å£æ–¹æ³•ã€‚
     * åŠŸèƒ½ï¼š
     * 1. å¤„ç†ç«‹å³ä»»åŠ¡ï¼ˆIMMEDIATEï¼‰ï¼Œå¼ºåˆ¶ä»¥æœåŠ¡å™¨å½“å‰æ—¶é—´ä½œä¸ºä»»åŠ¡æ‰§è¡Œæ—¶é—´ï¼›
     * 2. æ ¹æ®ç”¨æˆ·æäº¤çš„ä»»åŠ¡æ—¥æœŸï¼ˆtaskDaysï¼‰ä¸æ—¶é—´æ®µï¼ˆtaskPeriodsï¼‰ï¼Œ
     *    ç”Ÿæˆå¤šä¸ª beginTime/endTime çš„ä»»åŠ¡å®ä¾‹ï¼›
     * 3. ä¸ºæ¯ä¸ªæ—¶é—´æ®µåˆ›å»ºä¸€æ¡ WaylineJobï¼ˆèˆªçº¿ä»»åŠ¡è®°å½•ï¼‰ï¼›
     * 4. è‹¥ä¸ºæ¡ä»¶ä»»åŠ¡ï¼Œå†™å…¥å¯¹åº”çš„è§¦å‘æ¡ä»¶ï¼›
     * 5. ç«‹å³è°ƒç”¨ publishOneFlightTask å°†ä»»åŠ¡ä¸‹å‘ç»™é£è¡Œè®¾å¤‡ï¼ˆDockï¼‰ï¼›
     * 6. å¦‚æœä»»ä½•ä¸€æ¬¡ä¸‹å‘å¤±è´¥ï¼Œåˆ™è¿”å›å¤±è´¥å¹¶ç»ˆæ­¢æµç¨‹ï¼›
     * 7. æ‰€æœ‰ä»»åŠ¡ä¸‹å‘æˆåŠŸåè¿”å›æˆåŠŸå“åº”ã€‚
     */</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> HttpResultResponse <span class="hljs-title function_">publishFlightTask</span><span class="hljs-params">(CreateJobParam param, CustomClaim customClaim)</span> <span class="hljs-keyword">throws</span> SQLException {
        fillImmediateTime(param);

        <span class="hljs-comment">//ç«‹å³ä»»åŠ¡åªä¼šè¿›å…¥å¾ªç¯ä¸€æ¬¡</span>
        <span class="hljs-keyword">for</span> (Long taskDay : param.getTaskDays()) {
            <span class="hljs-type">LocalDate</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> LocalDate.ofInstant(Instant.ofEpochSecond(taskDay), ZoneId.systemDefault());
            <span class="hljs-keyword">for</span> (List&lt;Long&gt; taskPeriod : param.getTaskPeriods()) {
                <span class="hljs-comment">//ç«‹å³ä»»åŠ¡çš„beginTime = endTime = å½“å‰æ¯«ç§’æ—¶é—´</span>
                <span class="hljs-type">long</span> <span class="hljs-variable">beginTime</span> <span class="hljs-operator">=</span> LocalDateTime.of(date, LocalTime.ofInstant(Instant.ofEpochSecond(taskPeriod.get(<span class="hljs-number">0</span>)), ZoneId.systemDefault()))
                        .atZone(ZoneId.systemDefault()).toInstant().toEpochMilli();
                <span class="hljs-type">long</span> <span class="hljs-variable">endTime</span> <span class="hljs-operator">=</span> taskPeriod.size() &gt; <span class="hljs-number">1</span> ?
                        LocalDateTime.of(date, LocalTime.ofInstant(Instant.ofEpochSecond(taskPeriod.get(<span class="hljs-number">1</span>)), ZoneId.systemDefault()))
                                .atZone(ZoneId.systemDefault()).toInstant().toEpochMilli() : beginTime;
                <span class="hljs-comment">//ç«‹å³ä»»åŠ¡ç›´æ¥è·³è¿‡è¿™ä¸ªåˆ¤æ–­</span>
                <span class="hljs-keyword">if</span> (TaskTypeEnum.IMMEDIATE != param.getTaskType() &amp;&amp; endTime &lt; System.currentTimeMillis()) {
                    <span class="hljs-keyword">continue</span>;
                }

                <span class="hljs-comment">//åˆ›å»ºä¸€æ¡é£è¡Œä»»åŠ¡è®°å½•</span>
                Optional&lt;WaylineJobDTO&gt; waylineJobOpt = waylineJobService.createWaylineJob(param, customClaim.getWorkspaceId(), customClaim.getUsername(), beginTime, endTime);
                <span class="hljs-keyword">if</span> (waylineJobOpt.isEmpty()) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SQLException</span>(<span class="hljs-string">"Failed to create wayline job."</span>);
                }
                <span class="hljs-type">WaylineJobDTO</span> <span class="hljs-variable">waylineJob</span> <span class="hljs-operator">=</span> waylineJobOpt.get();
                
                <span class="hljs-comment">//ç«‹å³ä»»åŠ¡ç›´æ¥è·³è¿‡è¿™ä¸ªæ–¹æ³•</span>
                <span class="hljs-comment">// If it is a conditional task type, add conditions to the job parameters.</span>
                addConditions(waylineJob, param, beginTime, endTime);

                <span class="hljs-comment">//å‘å¸ƒä»»åŠ¡</span>
                <span class="hljs-type">HttpResultResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.publishOneFlightTask(waylineJob);
                <span class="hljs-keyword">if</span> (HttpResultResponse.CODE_SUCCESS != response.getCode()) {
                    <span class="hljs-keyword">return</span> response;
                }
            }
        }
        <span class="hljs-keyword">return</span> HttpResultResponse.success();
    }
    
    <span class="hljs-comment">/**
     * å¦‚æœä»»åŠ¡ç±»å‹ä¸º IMMEDIATEï¼ˆç«‹å³ä»»åŠ¡ï¼‰ï¼Œåˆ™å¿½ç•¥ç”¨æˆ·ä¼ å…¥çš„ä»»ä½•æ—¥æœŸå’Œæ—¶é—´æ®µï¼Œ
     * å°†ä»»åŠ¡çš„æ‰§è¡Œæ—¥æœŸï¼ˆtaskDaysï¼‰ä¸æ‰§è¡Œæ—¶é—´æ®µï¼ˆtaskPeriodsï¼‰å¼ºåˆ¶è®¾ç½®ä¸ºå½“å‰æœåŠ¡å™¨æ—¶é—´ã€‚
     * ç«‹å³ä»»åŠ¡å¿…é¡»ç”±æœåŠ¡å™¨å½“å‰æ—¶é—´è§¦å‘ï¼Œä¸å…è®¸ç”±å®¢æˆ·ç«¯è‡ªå®šä¹‰æ—¶é—´ã€‚
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fillImmediateTime</span><span class="hljs-params">(CreateJobParam param)</span> {
        <span class="hljs-keyword">if</span> (TaskTypeEnum.IMMEDIATE != param.getTaskType()) {
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">now</span> <span class="hljs-operator">=</span> System.currentTimeMillis() / <span class="hljs-number">1000</span>;
        param.setTaskDays(List.of(now));
        param.setTaskPeriods(List.of(List.of(now)));
    }
 
</code></pre>
<ol start="5">
<li><code>deviceRedisService.checkDeviceOnline</code>åˆ¤æ–­æœºåœºæ˜¯å¦åœ¨çº¿</li>
<li>è°ƒç”¨<code>prepareFlightTask</code>æ–¹æ³•ï¼Œä¸‹å‘é£è¡Œå‡†å¤‡æŒ‡ä»¤</li>
<li>è°ƒç”¨<code>executeFlightTask</code>æ–¹æ³•ï¼Œä¸‹å‘é£è¡Œä»»åŠ¡æ‰§è¡ŒæŒ‡ä»¤</li>
</ol>
<p><strong>[2]publishOneFlight</strong></p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> HttpResultResponse <span class="hljs-title function_">publishOneFlightTask</span><span class="hljs-params">(WaylineJobDTO waylineJob)</span> <span class="hljs-keyword">throws</span> SQLException {

        <span class="hljs-comment">//åˆ¤æ–­æœºåœºæ˜¯å¦åœ¨çº¿</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">isOnline</span> <span class="hljs-operator">=</span> deviceRedisService.checkDeviceOnline(waylineJob.getDockSn());
        <span class="hljs-keyword">if</span> (!isOnline) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Dock is offline."</span>);
        }

        <span class="hljs-comment">//ä¸‹å‘é£è¡Œå‡†å¤‡æŒ‡ä»¤</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">isSuccess</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.prepareFlightTask(waylineJob);
        <span class="hljs-keyword">if</span> (!isSuccess) {
            <span class="hljs-keyword">return</span> HttpResultResponse.error(<span class="hljs-string">"Failed to prepare job."</span>);
        }

        <span class="hljs-comment">//ä¸‹å‘ç«‹å³ä»»åŠ¡æ‰§è¡ŒæŒ‡ä»¤</span>
        <span class="hljs-comment">// Issue an immediate task execution command.</span>
        <span class="hljs-keyword">if</span> (TaskTypeEnum.IMMEDIATE == waylineJob.getTaskType()) {
            <span class="hljs-keyword">if</span> (!executeFlightTask(waylineJob.getWorkspaceId(), waylineJob.getJobId())) {
                <span class="hljs-keyword">return</span> HttpResultResponse.error(<span class="hljs-string">"Failed to execute job."</span>);
            }
        }

        ..............(çœç•¥éƒ¨åˆ†ä»£ç )

        <span class="hljs-keyword">return</span> HttpResultResponse.success();
    }

</code></pre>
<h3 data-id="heading-2">å®šæ—¶ä»»åŠ¡</h3>
<ol>
<li>éå†å®šæ—¶ä»»åŠ¡è®¾ç½®ä¸­æ¯ä¸€å¤©çš„æ¯ä¸€ä¸ªæ—¶é—´æ®µ</li>
<li>å¿½ç•¥å·²ç»è¿‡æœŸçš„æ—¶é—´æ®µ</li>
<li>åˆ›å»ºwaylineJobå¹¶å­˜åˆ°æ•°æ®åº“ä¸­ã€‚</li>
<li>è°ƒç”¨<code>publishOneFlightTask()</code>å‘å¸ƒä»»åŠ¡</li>
</ol>
<p><strong>[1]publishFlightTask</strong></p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> HttpResultResponse <span class="hljs-title function_">publishFlightTask</span><span class="hljs-params">(CreateJobParam param, CustomClaim customClaim)</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-comment">//å®šæ—¶ä»»åŠ¡åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ç›´æ¥è¿”å›ï¼Œä¸ä¼šè¿›è¡Œä»»ä½•å¤„ç†</span>
        fillImmediateTime(param);

        <span class="hljs-comment">//éå†æ¯ä¸€å¤©æ¯ä¸€ä¸ªæ—¶é—´æ®µ</span>
        <span class="hljs-keyword">for</span> (Long taskDay : param.getTaskDays()) {
            <span class="hljs-type">LocalDate</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> LocalDate.ofInstant(Instant.ofEpochSecond(taskDay), ZoneId.systemDefault());
            <span class="hljs-keyword">for</span> (List&lt;Long&gt; taskPeriod : param.getTaskPeriods()) {
                <span class="hljs-type">long</span> <span class="hljs-variable">beginTime</span> <span class="hljs-operator">=</span> LocalDateTime.of(date, LocalTime.ofInstant(Instant.ofEpochSecond(taskPeriod.get(<span class="hljs-number">0</span>)), ZoneId.systemDefault()))
                        .atZone(ZoneId.systemDefault()).toInstant().toEpochMilli();
                <span class="hljs-type">long</span> <span class="hljs-variable">endTime</span> <span class="hljs-operator">=</span> taskPeriod.size() &gt; <span class="hljs-number">1</span> ?
                        LocalDateTime.of(date, LocalTime.ofInstant(Instant.ofEpochSecond(taskPeriod.get(<span class="hljs-number">1</span>)), ZoneId.systemDefault()))
                                .atZone(ZoneId.systemDefault()).toInstant().toEpochMilli() : beginTime;
                
                <span class="hljs-comment">//å¿½ç•¥å·²ç»è¿‡æœŸçš„æ—¶é—´æ®µ</span>
                <span class="hljs-keyword">if</span> (TaskTypeEnum.IMMEDIATE != param.getTaskType() &amp;&amp; endTime &lt; System.currentTimeMillis()) {
                    <span class="hljs-keyword">continue</span>;
                }

                <span class="hljs-comment">//åˆ›å»ºwaylineJob</span>
                Optional&lt;WaylineJobDTO&gt; waylineJobOpt = waylineJobService.createWaylineJob(param, customClaim.getWorkspaceId(), customClaim.getUsername(), beginTime, endTime);
                <span class="hljs-keyword">if</span> (waylineJobOpt.isEmpty()) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SQLException</span>(<span class="hljs-string">"Failed to create wayline job."</span>);
                }
                <span class="hljs-type">WaylineJobDTO</span> <span class="hljs-variable">waylineJob</span> <span class="hljs-operator">=</span> waylineJobOpt.get();
                
                <span class="hljs-comment">//ä¸æ˜¯æ¡ä»¶ä»»åŠ¡ï¼Œè¿›å…¥è¿™ä¸ªæ–¹æ³•ä¼šç›´æ¥è¿”å›ã€‚</span>
                <span class="hljs-comment">// If it is a conditional task type, add conditions to the job parameters.</span>
                addConditions(waylineJob, param, beginTime, endTime);

                <span class="hljs-comment">//å‘å¸ƒä»»åŠ¡</span>
                <span class="hljs-type">HttpResultResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.publishOneFlightTask(waylineJob);
                <span class="hljs-keyword">if</span> (HttpResultResponse.CODE_SUCCESS != response.getCode()) {
                    <span class="hljs-keyword">return</span> response;
                }
            }
        }
        <span class="hljs-keyword">return</span> HttpResultResponse.success();
    }
</code></pre>
<ol start="5">
<li><code>deviceRedisService.checkDeviceOnline</code>æ£€æŸ¥æœºåœºæ˜¯å¦åœ¨çº¿ã€‚</li>
<li>è°ƒç”¨<code>prepareFlightTask</code>æ–¹æ³•ï¼Œä¸‹å‘é£è¡Œå‡†å¤‡æŒ‡ä»¤.</li>
<li>æŠŠå®šæ—¶ä»»åŠ¡æ·»åŠ åˆ°Redisçš„ä¸€ä¸ªSorted Setï¼ˆæœ‰åºé›†åˆï¼‰é‡Œï¼Œç”¨ä»»åŠ¡çš„å¼€å§‹æ—¶é—´ä½œä¸ºæ’åºä¾æ®ã€‚</li>
</ol>
<p><strong>[2]publishOneFlightTask</strong></p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> HttpResultResponse <span class="hljs-title function_">publishOneFlightTask</span><span class="hljs-params">(WaylineJobDTO waylineJob)</span> <span class="hljs-keyword">throws</span> SQLException {

        <span class="hljs-comment">//æ£€æŸ¥æœºåœºæ˜¯å¦åœ¨çº¿</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">isOnline</span> <span class="hljs-operator">=</span> deviceRedisService.checkDeviceOnline(waylineJob.getDockSn());
        <span class="hljs-keyword">if</span> (!isOnline) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Dock is offline."</span>);
        }

        <span class="hljs-comment">//ä¸‹å‘é£è¡Œå‡†å¤‡æŒ‡ä»¤</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">isSuccess</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.prepareFlightTask(waylineJob);
        <span class="hljs-keyword">if</span> (!isSuccess) {
            <span class="hljs-keyword">return</span> HttpResultResponse.error(<span class="hljs-string">"Failed to prepare job."</span>);
        }
        
        ..........(çœç•¥éƒ¨åˆ†ä»£ç )
        
        <span class="hljs-comment">//æŠŠå®šæ—¶ä»»åŠ¡æ·»åŠ åˆ°Redisæœ‰åºé›†åˆé‡Œï¼Œç”¨å¼€å§‹æ—¶é—´æ’åº</span>
        <span class="hljs-keyword">if</span> (TaskTypeEnum.TIMED == waylineJob.getTaskType()) {
            <span class="hljs-comment">// key: wayline_job_timed, value: {workspace_id}:{dock_sn}:{job_id}</span>
            <span class="hljs-type">boolean</span> <span class="hljs-variable">isAdd</span> <span class="hljs-operator">=</span> RedisOpsUtils.zAdd(RedisConst.WAYLINE_JOB_TIMED_EXECUTE,
                    waylineJob.getWorkspaceId() + RedisConst.DELIMITER + waylineJob.getDockSn() + RedisConst.DELIMITER + waylineJob.getJobId(),
                    waylineJob.getBeginTime().atZone(ZoneId.systemDefault()).toInstant().toEpochMilli());
            <span class="hljs-keyword">if</span> (!isAdd) {
                <span class="hljs-keyword">return</span> HttpResultResponse.error(<span class="hljs-string">"Failed to create scheduled job."</span>);
            }
        }

        <span class="hljs-keyword">return</span> HttpResultResponse.success();
    }
</code></pre>
<ol start="8">
<li><code>checkScheduledJob</code>å®šæ—¶ä»»åŠ¡ï¼Œæ¯<code>5s</code>å¯¹ Redis ä¸­çš„å®šæ—¶ä»»åŠ¡é›†åˆæ‰«æä¸€æ¬¡ã€‚</li>
<li>è·å–æœ€æ—©çš„å®šæ—¶ä»»åŠ¡ï¼Œæ‹†è§£ä»»åŠ¡ä¿¡æ¯ã€‚</li>
<li>å¦‚æœä»»åŠ¡ä¿¡æ¯å¼€å§‹æ¯”ç°åœ¨æ—©<code>30s (offset)</code>ä»¥ä¸Šï¼Œè®¤ä¸ºä»»åŠ¡è¿‡æœŸï¼Œåˆ é™¤ Redis é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œæ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸ºå¤±è´¥ã€‚</li>
<li>å¦‚æœä»»åŠ¡æ‰§è¡Œæ—¶é—´åœ¨<code>now + offset</code>è¿™ä¸ªæ—¶é—´åŒºé—´å†…ï¼Œè°ƒç”¨<code>executeFlightTask</code>ä¸‹å‘æ‰§è¡Œä»»åŠ¡å‘½ä»¤ï¼Œä¸”æ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼Œéƒ½ä» Redis é˜Ÿåˆ—ä¸­åˆ é™¤ä»»åŠ¡ä¿¡æ¯ã€‚</li>
</ol>
<p><strong>[3]checkScheduledJobå®šæ—¶ä»»åŠ¡</strong></p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-meta">@Scheduled(initialDelay = 10, fixedRate = 5, timeUnit = TimeUnit.SECONDS)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">checkScheduledJob</span><span class="hljs-params">()</span> {
        
        <span class="hljs-comment">//è·å–æœ€æ—©çš„å®šæ—¶ä»»åŠ¡ï¼Œå¹¶æ‹†è§£ä»»åŠ¡ä¿¡æ¯</span>
        <span class="hljs-type">Object</span> <span class="hljs-variable">jobIdValue</span> <span class="hljs-operator">=</span> RedisOpsUtils.zGetMin(RedisConst.WAYLINE_JOB_TIMED_EXECUTE);
        <span class="hljs-keyword">if</span> (Objects.isNull(jobIdValue)) {
            <span class="hljs-keyword">return</span>;
        }
        log.info(<span class="hljs-string">"Check the timed tasks of the wayline. {}"</span>, jobIdValue);
        <span class="hljs-comment">// format: {workspace_id}:{dock_sn}:{job_id}</span>
        String[] jobArr = String.valueOf(jobIdValue).split(RedisConst.DELIMITER);
        <span class="hljs-type">double</span> <span class="hljs-variable">time</span> <span class="hljs-operator">=</span> RedisOpsUtils.zScore(RedisConst.WAYLINE_JOB_TIMED_EXECUTE, jobIdValue);
        <span class="hljs-type">long</span> <span class="hljs-variable">now</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">int</span> <span class="hljs-variable">offset</span> <span class="hljs-operator">=</span> <span class="hljs-number">30_000</span>;

        
        <span class="hljs-comment">//ä»»åŠ¡ä¿¡æ¯å¼€å§‹æ¯”ç°åœ¨æ—©30sä»¥ä¸Šï¼Œè®¤ä¸ºä»»åŠ¡è¿‡æœŸï¼Œåˆ é™¤Redisé˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œæ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸ºå¤±è´¥ã€‚</span>
        <span class="hljs-comment">// Expired tasks are deleted directly.</span>
        <span class="hljs-keyword">if</span> (time &lt; now - offset) {
            RedisOpsUtils.zRemove(RedisConst.WAYLINE_JOB_TIMED_EXECUTE, jobIdValue);
            waylineJobService.updateJob(WaylineJobDTO.builder()
                    .jobId(jobArr[<span class="hljs-number">2</span>])
                    .status(WaylineJobStatusEnum.FAILED.getVal())
                    .executeTime(LocalDateTime.now())
                    .completedTime(LocalDateTime.now())
                    .code(HttpStatus.SC_REQUEST_TIMEOUT).build());
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">//åˆ¤æ–­ä»»åŠ¡æ‰§è¡Œæ—¶é—´åœ¨now + offsetè¿™ä¸ªæ—¶é—´åŒºé—´å†…ï¼Œä¸‹å‘æ‰§è¡Œä»»åŠ¡å‘½ä»¤ã€‚</span>
        <span class="hljs-keyword">if</span> (now &lt;= time &amp;&amp; time &lt;= now + offset) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-built_in">this</span>.executeFlightTask(jobArr[<span class="hljs-number">0</span>], jobArr[<span class="hljs-number">2</span>]);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                log.info(<span class="hljs-string">"The scheduled task delivery failed."</span>);
                waylineJobService.updateJob(WaylineJobDTO.builder()
                        .jobId(jobArr[<span class="hljs-number">2</span>])
                        .status(WaylineJobStatusEnum.FAILED.getVal())
                        .executeTime(LocalDateTime.now())
                        .completedTime(LocalDateTime.now())
                        .code(HttpStatus.SC_INTERNAL_SERVER_ERROR).build());
            } <span class="hljs-keyword">finally</span> {
                RedisOpsUtils.zRemove(RedisConst.WAYLINE_JOB_TIMED_EXECUTE, jobIdValue);
            }
        }
    }
</code></pre>
<h3 data-id="heading-3">æ¡ä»¶ä»»åŠ¡</h3>
<ol>
<li>æ¡ä»¶ä»»åŠ¡å’Œå®šæ—¶ä»»åŠ¡çš„ 1-3æ­¥ç›¸åŒ</li>
<li>åŒä¸Š</li>
<li>åŒä¸Š</li>
<li>è°ƒç”¨<code>addConditions()</code>æ–¹æ³•,è®¾ç½®<code>readyConditions(é¢„å¤‡æ¡ä»¶)ã€executableConditions(æ‰§è¡Œæ¡ä»¶)</code>ï¼Œç„¶åå°†ä»»åŠ¡å­˜å…¥Redisï¼Œ</li>
</ol>
<pre><code class="hljs language-css" lang="css">wayline_job_condition_prepareï¼ˆzsetï¼‰ â†’ æŒ‰å¼€å§‹æ—¶é—´æ’åº
wayline_job_condition:{jobId} â†’ ä»»åŠ¡è¯¦æƒ…ã€‚
</code></pre>
<ol start="5">
<li>è°ƒç”¨<code>publishOneFlightTask()</code>å‘å¸ƒä»»åŠ¡</li>
</ol>
<p><strong>[1]publishFlightTask</strong></p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> HttpResultResponse <span class="hljs-title function_">publishFlightTask</span><span class="hljs-params">(CreateJobParam param, CustomClaim customClaim)</span> <span class="hljs-keyword">throws</span> SQLException {
        fillImmediateTime(param);

        <span class="hljs-keyword">for</span> (Long taskDay : param.getTaskDays()) {
            <span class="hljs-type">LocalDate</span> <span class="hljs-variable">date</span> <span class="hljs-operator">=</span> LocalDate.ofInstant(Instant.ofEpochSecond(taskDay), ZoneId.systemDefault());
            <span class="hljs-keyword">for</span> (List&lt;Long&gt; taskPeriod : param.getTaskPeriods()) {
                <span class="hljs-type">long</span> <span class="hljs-variable">beginTime</span> <span class="hljs-operator">=</span> LocalDateTime.of(date, LocalTime.ofInstant(Instant.ofEpochSecond(taskPeriod.get(<span class="hljs-number">0</span>)), ZoneId.systemDefault()))
                        .atZone(ZoneId.systemDefault()).toInstant().toEpochMilli();
                <span class="hljs-type">long</span> <span class="hljs-variable">endTime</span> <span class="hljs-operator">=</span> taskPeriod.size() &gt; <span class="hljs-number">1</span> ?
                        LocalDateTime.of(date, LocalTime.ofInstant(Instant.ofEpochSecond(taskPeriod.get(<span class="hljs-number">1</span>)), ZoneId.systemDefault()))
                                .atZone(ZoneId.systemDefault()).toInstant().toEpochMilli() : beginTime;
                <span class="hljs-keyword">if</span> (TaskTypeEnum.IMMEDIATE != param.getTaskType() &amp;&amp; endTime &lt; System.currentTimeMillis()) {
                    <span class="hljs-keyword">continue</span>;
                }

                Optional&lt;WaylineJobDTO&gt; waylineJobOpt = waylineJobService.createWaylineJob(param, customClaim.getWorkspaceId(), customClaim.getUsername(), beginTime, endTime);
                <span class="hljs-keyword">if</span> (waylineJobOpt.isEmpty()) {
                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SQLException</span>(<span class="hljs-string">"Failed to create wayline job."</span>);
                }
                <span class="hljs-type">WaylineJobDTO</span> <span class="hljs-variable">waylineJob</span> <span class="hljs-operator">=</span> waylineJobOpt.get();
                
                <span class="hljs-comment">//æ¡ä»¶ä»»åŠ¡ï¼Œæ·»åŠ æ¡ä»¶å‚æ•°ï¼ï¼</span>
                <span class="hljs-comment">// If it is a conditional task type, add conditions to the job parameters.</span>
                addConditions(waylineJob, param, beginTime, endTime);

                <span class="hljs-type">HttpResultResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.publishOneFlightTask(waylineJob);
                <span class="hljs-keyword">if</span> (HttpResultResponse.CODE_SUCCESS != response.getCode()) {
                    <span class="hljs-keyword">return</span> response;
                }
            }
        }
        <span class="hljs-keyword">return</span> HttpResultResponse.success();
    }
    
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addConditions</span><span class="hljs-params">(WaylineJobDTO waylineJob, CreateJobParam param, Long beginTime, Long endTime)</span> {
        <span class="hljs-keyword">if</span> (TaskTypeEnum.CONDITIONAL != param.getTaskType()) {
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">//å¡«å…¥readyConditions(é¢„å¤‡æ¡ä»¶)ã€executableConditions(æ‰§è¡Œæ¡ä»¶)</span>
        waylineJob.setConditions(
                WaylineTaskConditionDTO.builder()
                        .executableConditions(Objects.nonNull(param.getMinStorageCapacity()) ?
                                <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExecutableConditions</span>().setStorageCapacity(param.getMinStorageCapacity()) : <span class="hljs-literal">null</span>)
                        .readyConditions(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ReadyConditions</span>()
                                .setBatteryCapacity(param.getMinBatteryCapacity())
                                .setBeginTime(beginTime)
                                .setEndTime(endTime))
                        .build());

        waylineRedisService.setConditionalWaylineJob(waylineJob);
        <span class="hljs-comment">// key: wayline_job_condition, value: {workspace_id}:{dock_sn}:{job_id}</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">isAdd</span> <span class="hljs-operator">=</span> waylineRedisService.addPrepareConditionalWaylineJob(waylineJob);
        <span class="hljs-keyword">if</span> (!isAdd) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Failed to create conditional job."</span>);
        }
    }
    
    
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Boolean <span class="hljs-title function_">addPrepareConditionalWaylineJob</span><span class="hljs-params">(WaylineJobDTO waylineJob)</span> {
        <span class="hljs-keyword">if</span> (Objects.isNull(waylineJob.getBeginTime())) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-comment">// value: {workspace_id}:{dock_sn}:{job_id}</span>
        <span class="hljs-keyword">return</span> RedisOpsUtils.zAdd(RedisConst.WAYLINE_JOB_CONDITION_PREPARE,
                waylineJob.getWorkspaceId() + RedisConst.DELIMITER + waylineJob.getDockSn() + RedisConst.DELIMITER + waylineJob.getJobId(),
                waylineJob.getBeginTime().atZone(ZoneId.systemDefault()).toInstant().toEpochMilli());
    }
</code></pre>
<ol start="6">
<li><code>deviceRedisService.checkDeviceOnline</code>æ£€æŸ¥æœºåœºæ˜¯å¦åœ¨çº¿ã€‚</li>
<li>è°ƒç”¨<code>prepareFlightTask</code>æ–¹æ³•ï¼Œä¸‹å‘é£è¡Œå‡†å¤‡æŒ‡ä»¤ã€‚</li>
</ol>
<p><strong>[2]publishOneFlightTask</strong></p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> HttpResultResponse <span class="hljs-title function_">publishOneFlightTask</span><span class="hljs-params">(WaylineJobDTO waylineJob)</span> <span class="hljs-keyword">throws</span> SQLException {

        <span class="hljs-type">boolean</span> <span class="hljs-variable">isOnline</span> <span class="hljs-operator">=</span> deviceRedisService.checkDeviceOnline(waylineJob.getDockSn());
        <span class="hljs-keyword">if</span> (!isOnline) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Dock is offline."</span>);
        }

        <span class="hljs-type">boolean</span> <span class="hljs-variable">isSuccess</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.prepareFlightTask(waylineJob);
        <span class="hljs-keyword">if</span> (!isSuccess) {
            <span class="hljs-keyword">return</span> HttpResultResponse.error(<span class="hljs-string">"Failed to prepare job."</span>);
        }

       ..........(çœç•¥éƒ¨åˆ†ä»£ç )

        <span class="hljs-keyword">return</span> HttpResultResponse.success();
    }
    
    
     <span class="hljs-keyword">private</span> Boolean <span class="hljs-title function_">prepareFlightTask</span><span class="hljs-params">(WaylineJobDTO waylineJob)</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-comment">// get wayline file</span>
        Optional&lt;GetWaylineListResponse&gt; waylineFile = waylineFileService.getWaylineByWaylineId(waylineJob.getWorkspaceId(), waylineJob.getFileId());
        <span class="hljs-keyword">if</span> (waylineFile.isEmpty()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SQLException</span>(<span class="hljs-string">"Wayline file doesn't exist."</span>);
        }

        <span class="hljs-comment">// get file url</span>
        <span class="hljs-type">URL</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> waylineFileService.getObjectUrl(waylineJob.getWorkspaceId(), waylineFile.get().getId());

        <span class="hljs-type">FlighttaskPrepareRequest</span> <span class="hljs-variable">flightTask</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FlighttaskPrepareRequest</span>()
                .setFlightId(waylineJob.getJobId())
                .setExecuteTime(waylineJob.getBeginTime().atZone(ZoneId.systemDefault()).toInstant().toEpochMilli())
                .setTaskType(waylineJob.getTaskType())
                .setWaylineType(waylineJob.getWaylineType())
                .setRthAltitude(waylineJob.getRthAltitude())
                .setOutOfControlAction(waylineJob.getOutOfControlAction())
                .setExitWaylineWhenRcLost(ExitWaylineWhenRcLostEnum.EXECUTE_RC_LOST_ACTION)
                .setFile(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FlighttaskFile</span>()
                        .setUrl(url.toString())
                        .setFingerprint(waylineFile.get().getSign()));

        <span class="hljs-keyword">if</span> (TaskTypeEnum.CONDITIONAL == waylineJob.getTaskType()) {
            <span class="hljs-keyword">if</span> (Objects.isNull(waylineJob.getConditions())) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>();
            }
            flightTask.setReadyConditions(waylineJob.getConditions().getReadyConditions());
            flightTask.setExecutableConditions(waylineJob.getConditions().getExecutableConditions());
        }

        TopicServicesResponse&lt;ServicesReplyData&gt; serviceReply = abstractWaylineService.flighttaskPrepare(
                SDKManager.getDeviceSDK(waylineJob.getDockSn()), flightTask);
        <span class="hljs-keyword">if</span> (!serviceReply.getData().getResult().isSuccess()) {
            log.info(<span class="hljs-string">"Prepare task ====&gt; Error code: {}"</span>, serviceReply.getData().getResult());
            waylineJobService.updateJob(WaylineJobDTO.builder()
                    .workspaceId(waylineJob.getWorkspaceId())
                    .jobId(waylineJob.getJobId())
                    .executeTime(LocalDateTime.now())
                    .status(WaylineJobStatusEnum.FAILED.getVal())
                    .completedTime(LocalDateTime.now())
                    .code(serviceReply.getData().getResult().getCode()).build());
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
</code></pre>
<ol start="8">
<li><code>prepareConditionJob</code>å®šæ—¶ä»»åŠ¡ï¼Œæ¯<code>5s</code>å¯¹ Redis ä¸­çš„æ¡ä»¶ä»»åŠ¡é›†åˆæ‰«æä¸€æ¬¡ã€‚</li>
<li>è·å–æœ€è¿‘çš„æ¡ä»¶ä»»åŠ¡ï¼Œä»¥åŠä»»åŠ¡çš„å¼€å§‹æ—¶é—´ï¼Œåˆ¤æ–­å¦‚æœ<code>å½“å‰æ—¶é—´ + 1å¤© &lt; ä»»åŠ¡å¼€å§‹æ—¶é—´</code>ï¼Œç›´æ¥è¿”å›ã€‚ã€åˆ¤æ–­ä»»åŠ¡å¼€å§‹æ—¶é—´æ˜¯å¦è¾¾åˆ°æå‰å‡†å¤‡é˜ˆå€¼,é»˜è®¤æå‰ä¸€å¤©ã€‘</li>
<li>ä»Redisä¸­è·å–ä»»åŠ¡å®Œæ•´ä¿¡æ¯ï¼Œå†æ¬¡è°ƒç”¨<code>publishOneFlightTask()</code>å‘å¸ƒä»»åŠ¡,ç§»é™¤Redisä¸­çš„æ¡ä»¶ä»»åŠ¡ï¼ŒæˆåŠŸå°±ç›´æ¥è¿”å›
ã€ä¸¤æ¬¡è°ƒç”¨<code>publishOneFlightTask()</code>æ–¹æ³•ï¼Œä¸ªäººè®¤ä¸ºæ˜¯ä¸ºäº†å†—ä½™å®‰å…¨è®¾è®¡ï¼Œé¿å…æ¡ä»¶ä»»åŠ¡å› å®šæ—¶æ–¹æ³•é—´éš”æ²¡æ”¶åˆ°ä»»åŠ¡è€Œè§¦å‘å¤±è´¥ã€‘</li>
<li>å¤±è´¥ï¼Œåˆ é™¤Redisä¸­<code>WAYLINE_JOB_CONDITION_PREFIX+jobId</code>å¯¹åº”çš„æ¡ä»¶ä»»åŠ¡ï¼Œåˆ¤æ–­ä»»åŠ¡æ˜¯å¦å·²ç»è¿‡æœŸï¼Œè¿‡æœŸå°±ç›´æ¥æ”¾å¼ƒï¼Œæœªè¿‡æœŸå°±è°ƒç”¨ <code>retryPrepareJob()</code>ç”Ÿæˆå­ä»»åŠ¡å¹¶é‡æ–°åŠ å…¥å‡†å¤‡é˜Ÿåˆ—ã€‚</li>
</ol>
<p><strong>[3]prepareConditionJobå®šæ—¶æ–¹æ³•</strong></p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-meta">@Scheduled(initialDelay = 10, fixedRate = 5, timeUnit = TimeUnit.SECONDS)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">prepareConditionJob</span><span class="hljs-params">()</span> {
    
        <span class="hljs-comment">//è·å–æœ€è¿‘çš„æ¡ä»¶ä»»åŠ¡ï¼Œå¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œä¸åšä»»ä½•äº‹ã€‚</span>
        Optional&lt;ConditionalWaylineJobKey&gt; jobKeyOpt = waylineRedisService.getNearestConditionalWaylineJob();
        <span class="hljs-keyword">if</span> (jobKeyOpt.isEmpty()) {
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">//è·å–ä»»åŠ¡å¼€å§‹æ—¶é—´ï¼Œåˆ¤æ–­å¦‚æœå½“å‰æ—¶é—´ + 1å¤© &lt; ä»»åŠ¡å¼€å§‹æ—¶é—´ï¼Œç›´æ¥è¿”å›ã€‚</span>
        <span class="hljs-type">ConditionalWaylineJobKey</span> <span class="hljs-variable">jobKey</span> <span class="hljs-operator">=</span> jobKeyOpt.get();
        log.info(<span class="hljs-string">"Check the conditional tasks of the wayline. {}"</span>, jobKey.toString());
        <span class="hljs-comment">// format: {workspace_id}:{dock_sn}:{job_id}</span>
        <span class="hljs-type">double</span> <span class="hljs-variable">time</span> <span class="hljs-operator">=</span> waylineRedisService.getConditionalWaylineJobTime(jobKey);
        <span class="hljs-type">long</span> <span class="hljs-variable">now</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-comment">// prepare the task one day in advance.</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">offset</span> <span class="hljs-operator">=</span> <span class="hljs-number">86_400_000</span>;

        <span class="hljs-keyword">if</span> (now + offset &lt; time) {
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">//åˆå§‹åŒ–å¤±è´¥ä»»åŠ¡å¯¹è±¡ï¼Œç”¨äºåç»­å¼‚å¸¸å¤„ç†æˆ–Redisæ•°æ®ä¸¢å¤±æ—¶ä»»åŠ¡çŠ¶æ€çš„æ›´æ–°</span>
        <span class="hljs-type">WaylineJobDTO</span> <span class="hljs-variable">job</span> <span class="hljs-operator">=</span> WaylineJobDTO.builder()
                .jobId(jobKey.getJobId())
                .status(WaylineJobStatusEnum.FAILED.getVal())
                .executeTime(LocalDateTime.now())
                .completedTime(LocalDateTime.now())
                .code(HttpStatus.SC_INTERNAL_SERVER_ERROR).build();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">//è·å–ä»»åŠ¡è¯¦æƒ…</span>
            Optional&lt;WaylineJobDTO&gt; waylineJobOpt = waylineRedisService.getConditionalWaylineJob(jobKey.getJobId());
            <span class="hljs-keyword">if</span> (waylineJobOpt.isEmpty()) {
                job.setCode(CommonErrorEnum.REDIS_DATA_NOT_FOUND.getCode());
                waylineJobService.updateJob(job);
                waylineRedisService.removePrepareConditionalWaylineJob(jobKey);
                <span class="hljs-keyword">return</span>;
            }
            <span class="hljs-type">WaylineJobDTO</span> <span class="hljs-variable">waylineJob</span> <span class="hljs-operator">=</span> waylineJobOpt.get();

            <span class="hljs-comment">//è°ƒç”¨publishOneFlightTask()å‘å¸ƒä»»åŠ¡</span>
            <span class="hljs-type">HttpResultResponse</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.publishOneFlightTask(waylineJob);
            waylineRedisService.removePrepareConditionalWaylineJob(jobKey);

            <span class="hljs-keyword">if</span> (HttpResultResponse.CODE_SUCCESS == result.getCode()) {
                <span class="hljs-keyword">return</span>;
            }

            <span class="hljs-comment">//åˆ é™¤Redisä¸­å¯¹åº”çš„æ¡ä»¶ä»»åŠ¡</span>
            <span class="hljs-comment">// If the end time is exceeded, no more retries will be made.</span>
            waylineRedisService.delConditionalWaylineJob(jobKey.getJobId());
            
            <span class="hljs-comment">//åˆ¤æ–­ä»»åŠ¡æ˜¯å¦å·²ç»è¿‡æœŸï¼Œè¿‡æœŸå°±ç›´æ¥è¿”å›ï¼Œæœªè¿‡æœŸå°±è°ƒç”¨ retryPrepareJob()é‡è¯•ã€‚</span>
            <span class="hljs-keyword">if</span> (waylineJob.getEndTime().atZone(ZoneId.systemDefault()).toInstant().toEpochMilli() - RedisConst.WAYLINE_JOB_BLOCK_TIME * <span class="hljs-number">1000</span> &lt; now) {
                <span class="hljs-keyword">return</span>;
            }

            <span class="hljs-comment">// Retry if the end time has not been exceeded.</span>
            <span class="hljs-built_in">this</span>.retryPrepareJob(jobKey, waylineJob);

        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.info(<span class="hljs-string">"Failed to prepare the conditional task."</span>);
            waylineJobService.updateJob(job);
        }

    }
</code></pre>
<ol start="11">
<li><strong>ä¸‹å‘æ¡ä»¶ä»»åŠ¡åï¼Œè®¾å¤‡ä¼šå®šé¢‘æ£€æŸ¥ä¸‹å‘ä»»åŠ¡ API ä¸­çš„ ready_conditions æ˜¯å¦å…¨éƒ¨æ»¡è¶³ï¼Œè‹¥å…¨éƒ¨æ»¡è¶³åˆ™ä¼šæœ‰ä»»åŠ¡å°±ç»ªé€šçŸ¥ï¼ˆflighttask_readyï¼‰äº‹ä»¶é€šçŸ¥ã€‚</strong></li>
<li>è¯»å– flightIdï¼Œåˆ¤æ–­ä»»åŠ¡æ˜¯å¦è¢«é˜»å¡</li>
<li>è°ƒç”¨ executeFlightTask() æ‰§è¡Œé£è¡Œä»»åŠ¡</li>
<li>åˆ¤æ–­æ‰§è¡Œç»“æœï¼š</li>
</ol>
<ul>
<li>æˆåŠŸï¼šä»»åŠ¡å¼€å§‹æ‰§è¡Œ</li>
<li>å¤±è´¥ä½†ä¸ºé˜»å¡é”™è¯¯ï¼šå†™å…¥ blocked çŠ¶æ€</li>
<li>å¤±è´¥ä¸”å¯é‡è¯•ï¼šåˆ›å»ºå­ä»»åŠ¡ â†’ retryPrepareJob</li>
</ul>
<p><strong>[4]flighttaskReady (mqttäº‹ä»¶é€šçŸ¥æ¥æ”¶)</strong></p>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> TopicEventsResponse&lt;MqttReply&gt; <span class="hljs-title function_">flighttaskReady</span><span class="hljs-params">(TopicEventsRequest&lt;FlighttaskReady&gt; response, MessageHeaders headers)</span> {
        List&lt;String&gt; flightIds = response.getData().getFlightIds();

        log.info(<span class="hljs-string">"ready task listï¼š{}"</span>, Arrays.toString(flightIds.toArray()) );
        <span class="hljs-comment">// Check conditional task blocking status.</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">blockedId</span> <span class="hljs-operator">=</span> waylineRedisService.getBlockedWaylineJobId(response.getGateway());
        
        <span class="hljs-comment">//è¿™æ®µä»£ç æ ¹æ®è®ºå›å›å¤æ¥çœ‹ï¼Œå­˜åœ¨bugï¼Œè¯¦æƒ…è§å‚è€ƒèµ„æ–™ã€3ã€‘</span>
        <span class="hljs-comment">//if (!StringUtils.hasText(blockedId)) {</span>
        <span class="hljs-comment">//    return null;</span>
        <span class="hljs-comment">//}</span>

        Optional&lt;DeviceDTO&gt; deviceOpt = deviceRedisService.getDeviceOnline(response.getGateway());
        <span class="hljs-keyword">if</span> (deviceOpt.isEmpty()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        <span class="hljs-type">DeviceDTO</span> <span class="hljs-variable">device</span> <span class="hljs-operator">=</span> deviceOpt.get();

        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">for</span> (String jobId : flightIds) {
                <span class="hljs-type">boolean</span> <span class="hljs-variable">isExecute</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">this</span>.executeFlightTask(device.getWorkspaceId(), jobId);
                <span class="hljs-keyword">if</span> (!isExecute) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
                }
                Optional&lt;WaylineJobDTO&gt; waylineJobOpt = waylineRedisService.getConditionalWaylineJob(jobId);
                <span class="hljs-keyword">if</span> (waylineJobOpt.isEmpty()) {
                    log.info(<span class="hljs-string">"The conditional job has expired and will no longer be executed."</span>);
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TopicEventsResponse</span>&lt;&gt;();
                }
                <span class="hljs-type">WaylineJobDTO</span> <span class="hljs-variable">waylineJob</span> <span class="hljs-operator">=</span> waylineJobOpt.get();
                <span class="hljs-built_in">this</span>.retryPrepareJob(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ConditionalWaylineJobKey</span>(device.getWorkspaceId(), response.getGateway(), jobId), waylineJob);
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TopicEventsResponse</span>&lt;&gt;();
            }
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"Failed to execute conditional task."</span>);
            e.printStackTrace();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TopicEventsResponse</span>&lt;&gt;();
    }
    
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">retryPrepareJob</span><span class="hljs-params">(ConditionalWaylineJobKey jobKey, WaylineJobDTO waylineJob)</span> {
        Optional&lt;WaylineJobDTO&gt; childJobOpt = waylineJobService.createWaylineJobByParent(jobKey.getWorkspaceId(), jobKey.getJobId());
        <span class="hljs-keyword">if</span> (childJobOpt.isEmpty()) {
            log.error(<span class="hljs-string">"Failed to create wayline job."</span>);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-type">WaylineJobDTO</span> <span class="hljs-variable">newJob</span> <span class="hljs-operator">=</span> childJobOpt.get();
        newJob.setBeginTime(LocalDateTime.now().plusSeconds(RedisConst.WAYLINE_JOB_BLOCK_TIME));
        <span class="hljs-type">boolean</span> <span class="hljs-variable">isAdd</span> <span class="hljs-operator">=</span> waylineRedisService.addPrepareConditionalWaylineJob(newJob);
        <span class="hljs-keyword">if</span> (!isAdd) {
            log.error(<span class="hljs-string">"Failed to create wayline job. {}"</span>, newJob.getJobId());
            <span class="hljs-keyword">return</span>;
        }

        waylineJob.setJobId(newJob.getJobId());
        waylineRedisService.setConditionalWaylineJob(waylineJob);
    }

    

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> Boolean <span class="hljs-title function_">executeFlightTask</span><span class="hljs-params">(String workspaceId, String jobId)</span> {
        <span class="hljs-comment">// get job</span>
        Optional&lt;WaylineJobDTO&gt; waylineJob = waylineJobService.getJobByJobId(workspaceId, jobId);
        <span class="hljs-keyword">if</span> (waylineJob.isEmpty()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"Job doesn't exist."</span>);
        }

        <span class="hljs-type">boolean</span> <span class="hljs-variable">isOnline</span> <span class="hljs-operator">=</span> deviceRedisService.checkDeviceOnline(waylineJob.get().getDockSn());
        <span class="hljs-keyword">if</span> (!isOnline) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"Dock is offline."</span>);
        }

        <span class="hljs-type">WaylineJobDTO</span> <span class="hljs-variable">job</span> <span class="hljs-operator">=</span> waylineJob.get();

        TopicServicesResponse&lt;ServicesReplyData&gt; serviceReply = abstractWaylineService.flighttaskExecute(
                SDKManager.getDeviceSDK(job.getDockSn()), <span class="hljs-keyword">new</span> <span class="hljs-title class_">FlighttaskExecuteRequest</span>().setFlightId(jobId));
        <span class="hljs-keyword">if</span> (!serviceReply.getData().getResult().isSuccess()) {
            log.info(<span class="hljs-string">"Execute job ====&gt; Error: {}"</span>, serviceReply.getData().getResult());
            waylineJobService.updateJob(WaylineJobDTO.builder()
                    .jobId(jobId)
                    .executeTime(LocalDateTime.now())
                    .status(WaylineJobStatusEnum.FAILED.getVal())
                    .completedTime(LocalDateTime.now())
                    .code(serviceReply.getData().getResult().getCode()).build());
            <span class="hljs-comment">// The conditional task fails and enters the blocking status.</span>
            <span class="hljs-keyword">if</span> (TaskTypeEnum.CONDITIONAL == job.getTaskType()
                    &amp;&amp; WaylineErrorCodeEnum.find(serviceReply.getData().getResult().getCode()).isBlock()) {
                waylineRedisService.setBlockedWaylineJob(job.getDockSn(), jobId);
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }

        waylineJobService.updateJob(WaylineJobDTO.builder()
                .jobId(jobId)
                .executeTime(LocalDateTime.now())
                .status(WaylineJobStatusEnum.IN_PROGRESS.getVal())
                .build());
        waylineRedisService.setRunningWaylineJob(job.getDockSn(), EventsReceiver.&lt;FlighttaskProgress&gt;builder().bid(jobId).sn(job.getDockSn()).build());
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
</code></pre>
<p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p>
<p>ä¸Šäº‘APIå¼€æºä»£ç åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdji-sdk%2FDJI-Cloud-API-Demo" target="_blank" title="https://github.com/dji-sdk/DJI-Cloud-API-Demo" ref="nofollow noopener noreferrer">github.com/dji-sdk/DJIâ€¦</a></p>
<p>å¤§ç–†ä¸Šäº‘APIæ–‡æ¡£-æœºåœºåŠŸèƒ½é›†-èˆªçº¿ç®¡ç†ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.dji.com%2Fdoc%2Fcloud-api-tutorial%2Fcn%2Ffeature-set%2Fdock-feature-set%2Fdock-wayline-management.html" target="_blank" title="https://developer.dji.com/doc/cloud-api-tutorial/cn/feature-set/dock-feature-set/dock-wayline-management.html" ref="nofollow noopener noreferrer">developer.dji.com/doc/cloud-aâ€¦</a></p>
<p>å¤§ç–†åˆ›æ–°SDKæŠ€æœ¯æ”¯æŒè®ºå›-ä¸‹å‘æ¡ä»¶ä»»åŠ¡æˆåŠŸï¼Œä½†æ»¡è¶³æ¡ä»¶åä»»åŠ¡å¹¶ä¸æ‰§è¡Œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsdk-forum.dji.net%2Fhc%2Fzh-cn%2Fcommunity%2Fposts%2F38931172754329-%25E4%25B8%258B%25E5%258F%2591%25E6%259D%25A1%25E4%25BB%25B6%25E4%25BB%25BB%25E5%258A%25A1%25E6%2588%2590%25E5%258A%259F-%25E4%25BD%2586%25E6%25BB%25A1%25E8%25B6%25B3%25E6%259D%25A1%25E4%25BB%25B6%25E5%2590%258E%25E4%25BB%25BB%25E5%258A%25A1%25E5%25B9%25B6%25E4%25B8%258D%25E6%2589%25A7%25E8%25A1%258C" target="_blank" title="https://sdk-forum.dji.net/hc/zh-cn/community/posts/38931172754329-%E4%B8%8B%E5%8F%91%E6%9D%A1%E4%BB%B6%E4%BB%BB%E5%8A%A1%E6%88%90%E5%8A%9F-%E4%BD%86%E6%BB%A1%E8%B6%B3%E6%9D%A1%E4%BB%B6%E5%90%8E%E4%BB%BB%E5%8A%A1%E5%B9%B6%E4%B8%8D%E6%89%A7%E8%A1%8C" ref="nofollow noopener noreferrer">sdk-forum.dji.net/hc/zh-cn/coâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ²¡æœ‰ Macï¼Œå¦‚ä½•åœ¨ Windows ä¸Šæ¶ iOS åº”ç”¨ï¼Ÿä¸€å¥—å¯è½åœ°çš„å·¥ç¨‹æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7582786655473106987</link>    <guid>https://juejin.cn/post/7582786655473106987</guid>    <pubDate>2025-12-12T10:00:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582786655473106987" data-draft-id="7582786655473090603" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ²¡æœ‰ Macï¼Œå¦‚ä½•åœ¨ Windows ä¸Šæ¶ iOS åº”ç”¨ï¼Ÿä¸€å¥—å¯è½åœ°çš„å·¥ç¨‹æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-12T10:00:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bcbnb"/> <meta itemprop="url" content="https://juejin.cn/user/895474073078377"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ²¡æœ‰ Macï¼Œå¦‚ä½•åœ¨ Windows ä¸Šæ¶ iOS åº”ç”¨ï¼Ÿä¸€å¥—å¯è½åœ°çš„å·¥ç¨‹æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/895474073078377/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bcbnb
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T10:00:30.000Z" title="Fri Dec 12 2025 10:00:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¾ˆå¤šå›¢é˜Ÿä¸­ï¼ŒiOS ä¸Šæ¶ä¸€ç›´è¢«è®¤ä¸ºæ˜¯â€œåªèƒ½åœ¨ Mac ä¸Šå®Œæˆçš„äº‹æƒ…â€ã€‚ä½†éšç€è·¨ç«¯å¼€å‘çš„æ™®åŠï¼ˆuni-appã€Flutterã€H5 å°è£…ç­‰ï¼‰ï¼Œè¶Šæ¥è¶Šå¤šçš„é¡¹ç›®æˆå‘˜é•¿æœŸä½¿ç”¨ Windows å¼€å‘ç¯å¢ƒã€‚å½“åº”ç”¨å¼€å‘å®Œæˆåï¼Œä¸€ä¸ªç°å®é—®é¢˜æ‘†åœ¨é¢å‰ï¼š<strong>æ²¡æœ‰ Macï¼ŒiOS åº”ç”¨è¿˜èƒ½ä¸èƒ½ä¸Šæ¶ï¼Ÿ</strong></p>
<p>ä»å·¥ç¨‹è§’åº¦æ¥çœ‹ï¼Œç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚
å…³é”®åœ¨äºåŒºåˆ†æ¸…æ¥šå“ªäº›æ­¥éª¤ <strong>å¿…é¡»ä¾èµ– macOS</strong>ï¼Œå“ªäº›æ­¥éª¤ <strong>å¯ä»¥åœ¨ Windows ä¸Šå®Œæˆ</strong>ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡åˆé€‚çš„å·¥å…·æŠŠæ•´ä¸ªä¸Šæ¶æµç¨‹æ‹†è§£å¹¶é‡æ–°ç»„åˆã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>ä¸€ã€å…ˆæ˜ç¡®ä¸€ä¸ªäº‹å®ï¼šiOS ä¸Šæ¶ â‰  å…¨æµç¨‹éƒ½è¦ Mac</strong></h2>
<p>å¾ˆå¤šäººä¹‹æ‰€ä»¥è®¤ä¸ºâ€œæ²¡æœ‰ Mac å°±æ— æ³•ä¸Šæ¶ iOSâ€ï¼Œæ˜¯å› ä¸ºæ··æ·†äº†å‡ ä¸ªä¸åŒçš„é˜¶æ®µã€‚</p>
<p>å®é™…ä¸Šï¼ŒiOS ä¸Šæ¶æµç¨‹å¯ä»¥æ‹†è§£ä¸ºï¼š</p>
<ol>
<li>è´¦å·ä¸åº”ç”¨èº«ä»½å‡†å¤‡</li>
<li>è¯ä¹¦ä¸æè¿°æ–‡ä»¶ç®¡ç†</li>
<li>iOS å·¥ç¨‹æ„å»ºï¼ˆç”Ÿæˆ IPAï¼‰</li>
<li>IPA æ ¡éªŒä¸ä¸Šä¼ </li>
<li>å®¡æ ¸ä¸å‘å¸ƒ</li>
</ol>
<p>å…¶ä¸­ï¼Œ<strong>çœŸæ­£å¼ºä¾èµ– macOS çš„åªæœ‰â€œiOS åŸç”Ÿå·¥ç¨‹æ„å»ºâ€è¿™ä¸€æ­¥</strong>ã€‚
è€Œåœ¨è·¨ç«¯é¡¹ç›®ä¸­ï¼Œè¿™ä¸€æ­¥å¾€å¾€å¯ä»¥é€šè¿‡ï¼š</p>
<ul>
<li>äº‘æ‰“åŒ…</li>
<li>CI çš„ macOS Runner</li>
<li>å¤–åŒ…æˆ–å…±äº« Mac</li>
<li>ç¬¬ä¸‰æ–¹æ‰“åŒ…æœåŠ¡</li>
</ul>
<p>æ¥å®Œæˆã€‚
å…¶ä½™æ­¥éª¤ï¼Œç†è®ºä¸Šéƒ½å¯ä»¥åœ¨ Windows ç¯å¢ƒä¸­å¤„ç†ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>äºŒã€Windows ä¸Šå‡†å¤‡ä¸Šæ¶çš„ç¬¬ä¸€æ­¥ï¼šè´¦å·ä¸ Bundle ID</strong></h2>
<p>æ— è®ºä½¿ç”¨ä»€ä¹ˆå¼€å‘æ–¹å¼ï¼Œä¸Šæ¶ iOS åº”ç”¨éƒ½å¿…é¡»å…ˆå®Œæˆåº”ç”¨èº«ä»½çš„åˆ›å»ºã€‚</p>
<h3 data-id="heading-2"><strong>1. Apple å¼€å‘è€…è´¦å·</strong></h3>
<p>è¿™æ˜¯å‰ç½®æ¡ä»¶ï¼Œæœ¬æ–‡ä¸å†å±•å¼€ã€‚</p>
<h3 data-id="heading-3"><strong>2. Bundle ID çš„åˆ›å»ºä¸ç¡®è®¤</strong></h3>
<p>Bundle ID æ˜¯åº”ç”¨åœ¨è‹¹æœä½“ç³»ä¸­çš„å”¯ä¸€æ ‡è¯†ã€‚
åœ¨å›¢é˜Ÿåä½œä¸­ï¼Œå¸¸è§é—®é¢˜åŒ…æ‹¬ï¼š</p>
<ul>
<li>ä¸æ¸…æ¥šè´¦å·ä¸‹å·²æœ‰å¤šå°‘ Bundle ID</li>
<li>é‡å¤åˆ›å»ºå¯¼è‡´å†²çª</li>
<li>å‘½åæ··ä¹±ï¼ŒåæœŸéš¾ä»¥ç»´æŠ¤</li>
</ul>
<p>åœ¨ Windows ç¯å¢ƒä¸‹ï¼Œæˆ‘é€šå¸¸ä¼šä½¿ç”¨ï¼š</p>
<ul>
<li><strong>Appuploader çš„ Bundle ID æŸ¥çœ‹ä¸ç®¡ç†åŠŸèƒ½</strong></li>
</ul>
<p>å®ƒå¯ä»¥ç›´æ¥åˆ—å‡ºå½“å‰è´¦å·ä¸­çš„åº”ç”¨ IDï¼Œå¸®åŠ©ç¡®è®¤ï¼š</p>
<ul>
<li>æ˜¯å¦å·²å­˜åœ¨å¯ç”¨çš„ Bundle ID</li>
<li>æ˜¯å¦éœ€è¦æ–°å»º</li>
<li>å‘½åæ˜¯å¦è§„èŒƒ</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24b12c7cdb7442b89bb1df70651a52fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766138429&amp;x-signature=hKpRXFxuQR6Br0JwMGboKC%2FkluU%3D" alt="bid" loading="lazy"/></p>
<p>è¿™æ ·å¯ä»¥é¿å…åœ¨æ²¡æœ‰ Mac çš„æƒ…å†µä¸‹ç›²ç›®åˆ›å»ºæ ‡è¯†ç¬¦ã€‚</p>
<hr/>
<h2 data-id="heading-4"><strong>ä¸‰ã€åœ¨ Windows ä¸Šç®¡ç† iOS è¯ä¹¦ï¼šå…³é”®çªç ´ç‚¹</strong></h2>
<p>è¯ä¹¦ç®¡ç†æ˜¯â€œWindows ä¸Šæ¶ iOSâ€çš„æœ€å¤§é˜»ç¢ä¹‹ä¸€ã€‚
ä¼ ç»Ÿæ–¹å¼å¿…é¡»ä½¿ç”¨ macOS é’¥åŒ™ä¸²ç”Ÿæˆè¯ä¹¦ï¼Œè¿™ç›´æ¥æŠŠ Windows ç”¨æˆ·æŒ¡åœ¨é—¨å¤–ã€‚</p>
<h3 data-id="heading-5"><strong>1. åœ¨ Windows ä¸Šåˆ›å»º iOS è¯ä¹¦</strong></h3>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä¼šä½¿ç”¨ï¼š</p>
<ul>
<li><strong>å¼€å¿ƒä¸Šæ¶ï¼ˆAppuploaderï¼‰åˆ›å»º iOS è¯ä¹¦</strong></li>
</ul>
<p>å…¶ç‰¹ç‚¹æ˜¯ï¼š</p>
<ul>
<li>å¯åœ¨ Windowsã€Linuxã€macOS ä¸Šæ“ä½œ</li>
<li>ä¸ä¾èµ–é’¥åŒ™ä¸²åŠ©æ‰‹</li>
<li>åªéœ€å¡«å†™è¯ä¹¦åç§°ã€é‚®ç®±å’Œå¯†ç </li>
<li>ç”Ÿæˆçš„è¯ä¹¦æ–‡ä»¶ï¼ˆå¦‚ p12ï¼‰å¯åœ¨å¤šå°ç”µè„‘æˆ– CI ä¸­ä½¿ç”¨</li>
</ul>
<p>è¿™ä¸€æ­¥çš„æ„ä¹‰åœ¨äºï¼š<strong>è¯ä¹¦ä¸å†è¢«æŸä¸€å° Mac å„æ–­ï¼ŒWindows æˆå‘˜ä¹Ÿèƒ½å‚ä¸è¯ä¹¦ç®¡ç†ã€‚</strong>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e17e2bdac5c425d99a6d6bfc017d909~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766138429&amp;x-signature=Wt2G8TpsrZi%2FS4GQ7P%2F0juBWY0A%3D" alt="è¯ä¹¦åˆ›å»º" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-6"><strong>2. æè¿°æ–‡ä»¶ï¼ˆmobileprovisionï¼‰çš„æŸ¥çœ‹ä¸æ ¡éªŒ</strong></h3>
<p>æè¿°æ–‡ä»¶ä¸­åŒ…å«ï¼š</p>
<ul>
<li>ç»‘å®šçš„è¯ä¹¦</li>
<li>Bundle ID</li>
<li>Team ID</li>
<li>èƒ½åŠ›æƒé™</li>
</ul>
<p>åœ¨ Windows ç¯å¢ƒä¸‹ï¼Œå¦‚æœæ— æ³•æŸ¥çœ‹è¿™äº›ä¿¡æ¯ï¼Œå¾ˆå®¹æ˜“å‡ºç°â€œç”¨é”™ profileâ€çš„é—®é¢˜ã€‚</p>
<p>é€šè¿‡ <strong>Appuploader çš„ mobileprovision æŸ¥çœ‹åŠŸèƒ½</strong>ï¼Œå¯ä»¥åœ¨ Windows ä¸Šç›´æ¥ç¡®è®¤ï¼š</p>
<ul>
<li>å½“å‰æè¿°æ–‡ä»¶æ˜¯å¦ä¸ºå‘å¸ƒç±»å‹</li>
<li>æ˜¯å¦ç»‘å®šäº†æ­£ç¡®çš„è¯ä¹¦</li>
<li>Bundle ID æ˜¯å¦åŒ¹é…</li>
</ul>
<p>è¿™ä¸€æ­¥å¯ä»¥åœ¨æ„å»ºå‰å°±æ’é™¤å¤§é‡æ½œåœ¨é”™è¯¯ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4227e026c706411c855acad1b79069c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766138429&amp;x-signature=haa6tztAdKb4gK8xAXVol0i9X%2F8%3D" alt="æŸ¥çœ‹æ–‡ä»¶" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-7"><strong>å››ã€iOS å·¥ç¨‹æ„å»ºï¼šWindows å›¢é˜Ÿçš„å¸¸è§è§£å†³æ–¹æ¡ˆ</strong></h2>
<p>éœ€è¦æ˜ç¡®çš„æ˜¯ï¼š
<strong>ç”Ÿæˆ IPA çš„é‚£ä¸€æ­¥ï¼Œä»ç„¶éœ€è¦ macOSã€‚</strong></p>
<p>ä½†è¿™å¹¶ä¸æ„å‘³ç€æ¯ä¸ªæˆå‘˜éƒ½è¦æœ‰ Macã€‚å¸¸è§åšæ³•åŒ…æ‹¬ï¼š</p>
<h3 data-id="heading-8"><strong>1. äº‘æ‰“åŒ… / äº‘æ„å»º</strong></h3>
<ul>
<li>HBuilderX äº‘æ‰“åŒ…ï¼ˆuni-appï¼‰</li>
<li>Codemagic</li>
<li>GitHub Actionsï¼ˆmacOS Runnerï¼‰</li>
</ul>
<h3 data-id="heading-9"><strong>2. CI æ„å»º</strong></h3>
<ul>
<li>Jenkins + Mac Mini</li>
<li>GitLab CI + macOS èŠ‚ç‚¹</li>
</ul>
<h3 data-id="heading-10"><strong>3. å…±äº«æˆ–å¤–åŒ… Mac</strong></h3>
<p>åªç”¨äºæ„å»ºï¼Œä¸å‚ä¸å…¶ä»–æµç¨‹ã€‚</p>
<p>æ„å»ºå®Œæˆåï¼ŒIPA æ–‡ä»¶ä¼šè¢«è¾“å‡ºåˆ°æœåŠ¡å™¨æˆ–å…±äº«ç›®å½•ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å®Œå…¨å›åˆ° Windows ç¯å¢ƒã€‚</p>
<hr/>
<h2 data-id="heading-11"><strong>äº”ã€IPA æ–‡ä»¶æ£€æŸ¥ï¼šWindows ä¸Šéå¸¸å…³é”®çš„ä¸€æ­¥</strong></h2>
<p>å¾ˆå¤š iOS ä¸Šæ¶é—®é¢˜ï¼Œå¹¶ä¸æ˜¯æ„å»ºå¤±è´¥ï¼Œè€Œæ˜¯ <strong>IPA å†…éƒ¨å†…å®¹æœ‰è¯¯</strong>ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>ä½¿ç”¨äº†å¼€å‘è¯ä¹¦</li>
<li>æè¿°æ–‡ä»¶ç±»å‹é”™è¯¯</li>
<li>Bundle ID ä¸ä¸€è‡´</li>
<li>ç¼ºå°‘ Assets.car</li>
<li>Info.plist æƒé™è¯´æ˜ä¸å®Œæ•´</li>
</ul>
<p>åœ¨ Windows ä¸Šï¼Œæˆ‘é€šå¸¸ä¼šåœ¨ä¸Šä¼ å‰æ£€æŸ¥ IPA å†…å®¹ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>ä½¿ç”¨ Appuploader æŸ¥çœ‹ IPA å†…çš„ Info.plist</strong></li>
<li>æ£€æŸ¥ mobileprovision æ˜¯å¦ä¸ºå‘å¸ƒæè¿°æ–‡ä»¶</li>
<li>ç¡®è®¤ Bundle ID ä¸ App Store Connect ä¸­ä¸€è‡´</li>
</ul>
<p>æå‰å‘ç°é—®é¢˜ï¼Œæ¯”ä¸Šä¼ å¤±è´¥åå†è¿”å·¥æ•ˆç‡é«˜å¾—å¤šã€‚</p>
<hr/>
<h2 data-id="heading-12"><strong>å…­ã€æ ¸å¿ƒæ­¥éª¤ï¼šåœ¨ Windows ä¸Šä¸Šä¼  IPA åˆ° App Store</strong></h2>
<p>è¿™æ˜¯â€œWindows ä¸Šæ¶ iOSâ€çš„å…³é”®ä¸€ç¯ã€‚</p>
<p>ä¼ ç»Ÿå·¥å…·ï¼ˆXcodeã€Transporterï¼‰éƒ½ä¾èµ– macOSï¼Œå› æ­¤åœ¨ Windows ç¯å¢ƒä¸‹ä¸å¯ç”¨ã€‚</p>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä¼šä½¿ç”¨ï¼š</p>
<h3 data-id="heading-13"><strong>Appuploader CLI åœ¨ Windows ä¸Šä¼  IPA</strong></h3>
<p>ç¤ºä¾‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">appuploader_cli -u appleid@example.com -p xxxx-xxxx-xxxx -c 1 -f app.ipa
</code></pre>
<p>è¿™ä¸€æ­¥çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li><strong>å®Œå…¨æ”¯æŒ Windows</strong></li>
<li>ä¸ä¾èµ– Xcode æˆ– Transporter</li>
<li>å¯é›†æˆåˆ°è„šæœ¬æˆ– CI</li>
<li>ä¸Šä¼ è¡Œä¸ºä¸æºå¸¦ Mac è®¾å¤‡ä¿¡æ¯</li>
</ul>
<p>è¿™æ„å‘³ç€ï¼š<strong>åªè¦æ‹¿åˆ° IPAï¼ŒWindows ç¯å¢ƒå°±å¯ä»¥å®Œæˆä¸Šæ¶ä¸Šä¼ ã€‚</strong>
å›¾å½¢åŒ–ç•Œé¢ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/007a9737e7ba4663b98ddd1d276e0e6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766138429&amp;x-signature=MyksM170eh%2FsrWuKv%2BzPBbgmF7o%3D" alt="ipaä¸Šä¼ " loading="lazy"/></p>
<hr/>
<h2 data-id="heading-14"><strong>ä¸ƒã€å®¡æ ¸ä¸å‘å¸ƒï¼šWindows ç¯å¢ƒåŒæ ·å¯å®Œæˆ</strong></h2>
<p>IPA ä¸Šä¼ å®Œæˆåï¼Œåç»­æ“ä½œåŒ…æ‹¬ï¼š</p>
<ul>
<li>å¡«å†™ App Store ä¿¡æ¯</li>
<li>æäº¤å®¡æ ¸</li>
<li>æŸ¥çœ‹å®¡æ ¸ç»“æœ</li>
<li>å›å¤å®¡æ ¸é—®é¢˜</li>
</ul>
<p>è¿™äº›æ­¥éª¤æœ¬èº«å°±æ˜¯ Web æ“ä½œï¼Œä¸æ“ä½œç³»ç»Ÿæ— å…³ï¼ŒWindows å®Œå…¨å¯ä»¥èƒœä»»ã€‚</p>
<hr/>
<h2 data-id="heading-15"><strong>å…«ã€ä¸€ä¸ªå®Œæ•´çš„ Windows ä¸Šæ¶ iOS æµç¨‹ç¤ºä¾‹</strong></h2>
<p>ç»¼åˆä¸Šè¿°æ­¥éª¤ï¼Œä¸€ä¸ªå¯è¡Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>Windows ä¸Šç¡®è®¤ Bundle IDï¼ˆAppuploaderï¼‰</li>
<li>Windows ä¸Šåˆ›å»ºè¯ä¹¦å¹¶ç®¡ç† profileï¼ˆAppuploaderï¼‰</li>
<li>macOS / äº‘ç«¯æ„å»º IPA</li>
<li>Windows ä¸Šæ£€æŸ¥ IPA å†…å®¹ï¼ˆAppuploaderï¼‰</li>
<li>Windows ä¸Šé€šè¿‡ Appuploader CLI ä¸Šä¼  IPA</li>
<li>Web ç«¯æäº¤å®¡æ ¸å¹¶å‘å¸ƒ</li>
</ol>
<p>æ•´ä¸ªæµç¨‹ä¸­ï¼ŒMac åªä½œä¸ºâ€œæ„å»ºå·¥å…·â€ï¼Œè€Œä¸æ˜¯æµç¨‹ä¸­å¿ƒã€‚</p>
<hr/>
<p>â€œå¦‚ä½•åœ¨ Windows ä¸Šæ¶ iOSâ€å¹¶ä¸æ˜¯ä¸€ä¸ªæŠ€å·§é—®é¢˜ï¼Œè€Œæ˜¯æµç¨‹æ‹†è§£ä¸å·¥å…·é€‰æ‹©çš„é—®é¢˜ã€‚
å½“è¯ä¹¦ã€Bundle IDã€IPA æ ¡éªŒä¸ä¸Šä¼ è¿™äº›ç¯èŠ‚éƒ½èƒ½åœ¨ Windows ä¸Šå®Œæˆæ—¶ï¼ŒiOS ä¸Šæ¶å°±ä¸å†æ˜¯ Mac ç‹¬å çš„èƒ½åŠ›ã€‚</p>
<p>æœ€ç»ˆç›®æ ‡ä¸æ˜¯â€œç»•å¼€ Macâ€ï¼Œè€Œæ˜¯è®©ä¸Šæ¶æµç¨‹ <strong>ä¸å†ä¾èµ–æŸä¸€å°ç”µè„‘æˆ–æŸä¸€ä¸ªäºº</strong>ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.appuploader.net%2Ftutorial%2Fzh%2F1%2F1.html" target="_blank" title="https://www.appuploader.net/tutorial/zh/1/1.html" ref="nofollow noopener noreferrer">www.appuploader.net/tutorial/zhâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot ä¼ä¸šçº§æ¥å£åŠ å¯†ã€é€šç”¨ã€å¯é…ç½®ã€è§£è€¦çš„ç»„ä»¶ã€‘ã€Œå¼€é—­åŸåˆ™+æ¨¡æ¿æ–¹æ³•+æ‹¦æˆªå™¨/ä¸­é—´ä»¶æ¨¡å¼ã€]]></title>    <link>https://juejin.cn/post/7582786292087324723</link>    <guid>https://juejin.cn/post/7582786292087324723</guid>    <pubDate>2025-12-12T09:42:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582786292087324723" data-draft-id="7582777037863518258" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot ä¼ä¸šçº§æ¥å£åŠ å¯†ã€é€šç”¨ã€å¯é…ç½®ã€è§£è€¦çš„ç»„ä»¶ã€‘ã€Œå¼€é—­åŸåˆ™+æ¨¡æ¿æ–¹æ³•+æ‹¦æˆªå™¨/ä¸­é—´ä»¶æ¨¡å¼ã€"/> <meta itemprop="keywords" content="åç«¯,Java,å®‰å…¨"/> <meta itemprop="datePublished" content="2025-12-12T09:42:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆå“ˆå“ˆç¬‘ä»€ä¹ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/808832912075352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot ä¼ä¸šçº§æ¥å£åŠ å¯†ã€é€šç”¨ã€å¯é…ç½®ã€è§£è€¦çš„ç»„ä»¶ã€‘ã€Œå¼€é—­åŸåˆ™+æ¨¡æ¿æ–¹æ³•+æ‹¦æˆªå™¨/ä¸­é—´ä»¶æ¨¡å¼ã€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/808832912075352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆå“ˆå“ˆç¬‘ä»€ä¹ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T09:42:56.000Z" title="Fri Dec 12 2025 09:42:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å°†åŠ è§£å¯†é€»è¾‘å°è£…æˆ<strong>é€šç”¨ã€å¯é…ç½®ã€è§£è€¦çš„ç»„ä»¶</strong>ï¼Œæ ¸å¿ƒæ˜¯éµå¾ªã€Œå¼€é—­åŸåˆ™+æ¨¡æ¿æ–¹æ³•+æ‹¦æˆªå™¨/ä¸­é—´ä»¶æ¨¡å¼ã€ï¼Œè®©ä¸šåŠ¡ä»£ç æ— éœ€åµŒå…¥åŠ å¯†é€»è¾‘ï¼Œä»…é€šè¿‡<strong>æ³¨è§£/é…ç½®</strong>æŒ‡å®šéœ€è¦åŠ å¯†çš„æ¥å£/å­—æ®µå³å¯ã€‚ä»¥ä¸‹æ˜¯è½åœ°æ–¹æ¡ˆï¼Œä»¥Java Spring Bootï¼ˆä¸»æµä¼ä¸šçº§æ¡†æ¶ï¼‰ä¸ºä¾‹ï¼ŒåŒæ—¶å…¼å®¹Go/Pythonç­‰è¯­è¨€çš„æ ¸å¿ƒæ€è·¯ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€é€šç”¨ç»„ä»¶è®¾è®¡æ ¸å¿ƒåŸåˆ™</h3>
<ol>
<li><strong>å®Œå…¨è§£è€¦</strong>ï¼šåŠ å¯†é€»è¾‘ä¸ä¸šåŠ¡ä»£ç éš”ç¦»ï¼Œä¸šåŠ¡ä¾§ä»…éœ€ã€Œå£°æ˜å¼é…ç½®ã€ï¼ˆæ³¨è§£/ymlï¼‰ï¼Œæ— éœ€å†™ä»»ä½•åŠ å¯†ä»£ç ï¼›</li>
<li><strong>å¯é…ç½®åŒ–</strong>ï¼šæ”¯æŒæŒ‡å®šã€Œå“ªäº›æ¥å£ã€å“ªäº›å­—æ®µã€åŠ å¯†/è§£å¯†ï¼Œæ”¯æŒåˆ‡æ¢ç®—æ³•ï¼ˆAES-GCM/ECC/RSAï¼‰ã€å¯†é’¥æ¥æºï¼ˆKMS/HSM/æœ¬åœ°ï¼‰ï¼›</li>
<li><strong>æ˜“æ‰©å±•</strong>ï¼šæ–°å¢åŠ å¯†ç®—æ³•/åŠ å¯†è§„åˆ™æ—¶ï¼Œæ— éœ€ä¿®æ”¹æ ¸å¿ƒç»„ä»¶ï¼Œä»…éœ€æ‰©å±•æ¥å£ï¼›</li>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šç»„ä»¶å†…éƒ¨å°è£…å¯¹è±¡æ± ã€ç¡¬ä»¶åŠ é€Ÿã€å¼‚æ­¥å¤„ç†ï¼Œå¯¹ä¸šåŠ¡é€æ˜ï¼›</li>
<li><strong>å¯ç›‘æ§</strong>ï¼šå†…ç½®åŠ è§£å¯†è€—æ—¶ã€å¤±è´¥ç‡ç›‘æ§ï¼Œä¾¿äºæ’æŸ¥é—®é¢˜ã€‚</li>
</ol>
<h3 data-id="heading-1">äºŒã€é€šç”¨ç»„ä»¶åˆ†å±‚æ¶æ„ï¼ˆè§£è€¦æ ¸å¿ƒï¼‰</h3>
<p>ç»„ä»¶åˆ†ä¸º5å±‚ï¼Œæ¯å±‚èŒè´£å•ä¸€ï¼Œé€šè¿‡ä¾èµ–æ³¨å…¥è§£è€¦ï¼š</p>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¸šåŠ¡å±‚ï¼ˆController/Serviceï¼‰                            â”‚
â”‚ ï¼ˆä»…åŠ æ³¨è§£/é…ç½®ï¼Œæ— åŠ å¯†ä»£ç ï¼‰                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ¥å…¥å±‚ï¼ˆæ‹¦æˆªå™¨/è¿‡æ»¤å™¨/Middlewareï¼‰                       â”‚
â”‚ ï¼ˆæ‹¦æˆªè¯·æ±‚/å“åº”ï¼Œè§¦å‘åŠ è§£å¯†ï¼Œå¯¹ä¸šåŠ¡é€æ˜ï¼‰                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ ¸å¿ƒæœåŠ¡å±‚ï¼ˆCryptoTemplateï¼‰                             â”‚
â”‚ ï¼ˆå°è£…é€šç”¨åŠ è§£å¯†/ç­¾åéªŒç­¾æµç¨‹ï¼Œæ¨¡æ¿æ–¹æ³•ï¼‰                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŸºç¡€è®¾æ–½å±‚ï¼ˆAlgorithmFactory + KeyManagerï¼‰              â”‚
â”‚ ï¼ˆå°è£…ç®—æ³•ã€å¯†é’¥ç®¡ç†ï¼Œå±è”½åº•å±‚ç»†èŠ‚ï¼‰                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é…ç½®/æ³¨è§£å±‚ï¼ˆ<span class="hljs-keyword">@Encrypt</span> + ymlé…ç½®ï¼‰                       â”‚
â”‚ ï¼ˆæŒ‡å®šåŠ å¯†è§„åˆ™ï¼šæ¥å£ã€å­—æ®µã€ç®—æ³•ã€å¯†é’¥ï¼‰                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-2">ä¸‰ã€æ ¸å¿ƒæ¨¡å—å®ç°ï¼ˆSpring Bootç‰ˆé€šç”¨ç»„ä»¶ï¼‰</h3>
<p>ä»¥ä¸‹æ˜¯å¯ç›´æ¥è½åœ°çš„æ ¸å¿ƒä»£ç ï¼Œèšç„¦ã€Œè§£è€¦+é€šç”¨ã€ï¼Œå±è”½å¤æ‚çš„ç®—æ³•ç»†èŠ‚ï¼Œä¸šåŠ¡ä¾§ä»…éœ€ç®€å•é…ç½®ã€‚</p>
<h4 data-id="heading-3">1. ç¬¬ä¸€æ­¥ï¼šå®šä¹‰é…ç½®/æ³¨è§£ï¼ˆä¸šåŠ¡ä¾§ä»…éœ€æ¥è§¦è¿™å±‚ï¼‰</h4>
<h5 data-id="heading-4">ï¼ˆ1ï¼‰è‡ªå®šä¹‰æ³¨è§£ï¼ˆæ ‡è®°éœ€è¦åŠ å¯†çš„æ¥å£/å­—æ®µï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æ¥å£çº§æ³¨è§£ï¼šæ ‡è®°è¯¥æ¥å£éœ€è¦åŠ å¯†å…¥å‚ã€è§£å¯†å‡ºå‚
 */</span>
<span class="hljs-meta">@Target({ElementType.METHOD})</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> ApiEncrypt {
    <span class="hljs-comment">// åŠ å¯†ç®—æ³•ï¼ˆé»˜è®¤AES-GCMï¼‰</span>
    String <span class="hljs-title function_">algorithm</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">"AES-GCM"</span>;
    <span class="hljs-comment">// å¯†é’¥æ ‡è¯†ï¼ˆå…³è”ymlä¸­çš„å¯†é’¥é…ç½®ï¼‰</span>
    String <span class="hljs-title function_">keyId</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">"pay_default_key"</span>;
    <span class="hljs-comment">// æ˜¯å¦éªŒç­¾ï¼ˆé»˜è®¤å¼€å¯ï¼‰</span>
    <span class="hljs-type">boolean</span> <span class="hljs-title function_">verifySign</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-comment">/**
 * å­—æ®µçº§æ³¨è§£ï¼šæ ‡è®°DTOä¸­çš„æ•æ„Ÿå­—æ®µï¼Œä»…åŠ å¯†è¿™äº›å­—æ®µ
 */</span>
<span class="hljs-meta">@Target({ElementType.FIELD})</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> SensitiveField {
    <span class="hljs-comment">// å­—æ®µæè¿°ï¼ˆéå¿…éœ€ï¼Œç”¨äºæ—¥å¿—ï¼‰</span>
    String <span class="hljs-title function_">desc</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">""</span>;
}
</code></pre>
<h5 data-id="heading-5">ï¼ˆ2ï¼‰ymlé…ç½®ï¼ˆç®—æ³•ã€å¯†é’¥ã€è¶…æ—¶ç­‰ï¼‰</h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">crypto:</span>
  <span class="hljs-comment"># å…¨å±€é…ç½®</span>
  <span class="hljs-attr">global:</span>
    <span class="hljs-attr">algorithm:</span> <span class="hljs-string">AES-GCM</span>  <span class="hljs-comment"># é»˜è®¤ç®—æ³•</span>
    <span class="hljs-attr">timeout:</span> <span class="hljs-string">1000ms</span>     <span class="hljs-comment"># åŠ è§£å¯†è¶…æ—¶</span>
    <span class="hljs-attr">enable-hardware-accel:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># å¼€å¯ç¡¬ä»¶åŠ é€Ÿ</span>
  <span class="hljs-comment"># å¯†é’¥é…ç½®ï¼ˆæ”¯æŒKMS/HSMï¼Œæ­¤å¤„ç®€åŒ–ä¸ºæœ¬åœ°é…ç½®ï¼Œç”Ÿäº§éœ€æ›¿æ¢ä¸ºKMSï¼‰</span>
  <span class="hljs-attr">keys:</span>
    <span class="hljs-attr">pay_default_key:</span>
      <span class="hljs-attr">type:</span> <span class="hljs-string">ECC</span>  <span class="hljs-comment"># å¯†é’¥ç±»å‹ï¼ˆECC/RSA/AESï¼‰</span>
      <span class="hljs-attr">public-key:</span> <span class="hljs-string">"xxx"</span>  <span class="hljs-comment"># æœåŠ¡ç«¯å…¬é’¥ï¼ˆå®¢æˆ·ç«¯ç”¨ï¼‰</span>
      <span class="hljs-attr">private-key:</span> <span class="hljs-string">"xxx"</span> <span class="hljs-comment"># æœåŠ¡ç«¯ç§é’¥ï¼ˆæœåŠ¡ç«¯ç”¨ï¼‰</span>
      <span class="hljs-attr">expire:</span> <span class="hljs-string">90d</span>        <span class="hljs-comment"># å¯†é’¥è½®æ¢å‘¨æœŸ</span>
  <span class="hljs-comment"># å¿½ç•¥åŠ å¯†çš„å­—æ®µï¼ˆå…¨å±€ï¼‰</span>
  <span class="hljs-attr">ignore-fields:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">"orderId"</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">"merchantId"</span>
    <span class="hljs-bullet">-</span> <span class="hljs-string">"timestamp"</span>
</code></pre>
<h4 data-id="heading-6">2. ç¬¬äºŒæ­¥ï¼šåŸºç¡€è®¾æ–½å±‚ï¼ˆå°è£…ç®—æ³•+å¯†é’¥ï¼Œå¯¹ä¸šåŠ¡é€æ˜ï¼‰</h4>
<h5 data-id="heading-7">ï¼ˆ1ï¼‰ç®—æ³•å·¥å‚ï¼ˆç»Ÿä¸€å°è£…ç®—æ³•ï¼Œæ”¯æŒæ‰©å±•ï¼‰</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * ç®—æ³•å·¥å‚ï¼šæ ¹æ®é…ç½®åŠ¨æ€åˆ›å»ºåŠ è§£å¯†å™¨ï¼Œå±è”½ç®—æ³•ç»†èŠ‚
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AlgorithmFactory</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> CryptoProperties cryptoProperties;

    <span class="hljs-comment">// ç¼“å­˜åŠ è§£å¯†å™¨å¯¹è±¡ï¼Œé¿å…é‡å¤åˆ›å»ºï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, CryptoHandler&gt; handlerCache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

    <span class="hljs-comment">/**
     * è·å–æŒ‡å®šç®—æ³•çš„åŠ è§£å¯†å™¨
     */</span>
    <span class="hljs-keyword">public</span> CryptoHandler <span class="hljs-title function_">getHandler</span><span class="hljs-params">(String algorithm, String keyId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">cacheKey</span> <span class="hljs-operator">=</span> algorithm + <span class="hljs-string">"_"</span> + keyId;
        <span class="hljs-keyword">if</span> (handlerCache.containsKey(cacheKey)) {
            <span class="hljs-keyword">return</span> handlerCache.get(cacheKey);
        }
        <span class="hljs-comment">// æ ¹æ®ç®—æ³•ç±»å‹åˆ›å»ºå¯¹åº”å¤„ç†å™¨ï¼ˆç­–ç•¥æ¨¡å¼ï¼‰</span>
        <span class="hljs-type">CryptoHandler</span> <span class="hljs-variable">handler</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">switch</span> (algorithm) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"AES-GCM"</span> -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">AesGcmHandler</span>(cryptoProperties.getKeys().get(keyId));
            <span class="hljs-keyword">case</span> <span class="hljs-string">"ECC"</span> -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">EccHandler</span>(cryptoProperties.getKeys().get(keyId));
            <span class="hljs-keyword">case</span> <span class="hljs-string">"RSA"</span> -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">RsaHandler</span>(cryptoProperties.getKeys().get(keyId));
            <span class="hljs-keyword">default</span> -&gt; <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CryptoException</span>(<span class="hljs-string">"ä¸æ”¯æŒçš„ç®—æ³•ï¼š"</span> + algorithm);
        };
        handlerCache.put(cacheKey, handler);
        <span class="hljs-keyword">return</span> handler;
    }

    <span class="hljs-comment">// åŠ è§£å¯†å™¨æ¥å£ï¼ˆæ‰©å±•æ–°ç®—æ³•åªéœ€å®ç°æ­¤æ¥å£ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">CryptoHandler</span> {
        <span class="hljs-comment">// åŠ å¯†æ•°æ®</span>
        <span class="hljs-type">byte</span>[] encrypt(<span class="hljs-type">byte</span>[] data, String keyId);
        <span class="hljs-comment">// è§£å¯†æ•°æ®</span>
        <span class="hljs-type">byte</span>[] decrypt(<span class="hljs-type">byte</span>[] data, String keyId);
        <span class="hljs-comment">// ç­¾å</span>
        String <span class="hljs-title function_">sign</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] data, String keyId)</span>;
        <span class="hljs-comment">// éªŒç­¾</span>
        <span class="hljs-type">boolean</span> <span class="hljs-title function_">verifySign</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] data, String sign, String keyId)</span>;
    }

    <span class="hljs-comment">// AES-GCMå®ç°ï¼ˆç¤ºä¾‹ï¼Œå…¶ä½™ç®—æ³•åŒç†ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AesGcmHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">CryptoHandler</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> KeyConfig keyConfig;
        <span class="hljs-comment">// ç¼“å­˜Cipherå¯¹è±¡ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ObjectPool&lt;Cipher&gt; cipherPool;

        <span class="hljs-keyword">public</span> <span class="hljs-title function_">AesGcmHandler</span><span class="hljs-params">(KeyConfig keyConfig)</span> {
            <span class="hljs-built_in">this</span>.keyConfig = keyConfig;
            <span class="hljs-comment">// åˆå§‹åŒ–Cipherå¯¹è±¡æ± </span>
            <span class="hljs-built_in">this</span>.cipherPool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericObjectPool</span>&lt;&gt;(<span class="hljs-keyword">new</span> <span class="hljs-title class_">CipherPooledFactory</span>(<span class="hljs-string">"AES/GCM/NoPadding"</span>));
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">byte</span>[] encrypt(<span class="hljs-type">byte</span>[] data, String keyId) {
            <span class="hljs-keyword">try</span> (PooledObject&lt;Cipher&gt; pooledCipher = cipherPool.borrowObject()) {
                <span class="hljs-type">Cipher</span> <span class="hljs-variable">cipher</span> <span class="hljs-operator">=</span> pooledCipher.getObject();
                <span class="hljs-comment">// çœç•¥AES-GCMåŠ å¯†é€»è¾‘ï¼ˆå¤ç”¨ä¹‹å‰çš„ä»£ç ï¼‰</span>
                <span class="hljs-keyword">return</span> cipher.doFinal(data);
            } <span class="hljs-keyword">catch</span> (Exception e) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CryptoException</span>(<span class="hljs-string">"AESåŠ å¯†å¤±è´¥"</span>, e);
            }
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">byte</span>[] decrypt(<span class="hljs-type">byte</span>[] data, String keyId) {
            <span class="hljs-comment">// åŒç†ï¼Œçœç•¥è§£å¯†é€»è¾‘</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">0</span>];
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> String <span class="hljs-title function_">sign</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] data, String keyId)</span> {
            <span class="hljs-comment">// çœç•¥ç­¾åé€»è¾‘</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">verifySign</span><span class="hljs-params">(<span class="hljs-type">byte</span>[] data, String sign, String keyId)</span> {
            <span class="hljs-comment">// çœç•¥éªŒç­¾é€»è¾‘</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }
}
</code></pre>
<h5 data-id="heading-8">ï¼ˆ2ï¼‰å¯†é’¥ç®¡ç†å™¨ï¼ˆç»Ÿä¸€ç®¡ç†å¯†é’¥ï¼Œæ”¯æŒKMS/HSMï¼‰</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * å¯†é’¥ç®¡ç†å™¨ï¼šç»Ÿä¸€è·å–å¯†é’¥ï¼ˆæœ¬åœ°/KMS/HSMï¼‰ï¼Œå¯¹ä¸Šå±‚é€æ˜
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">KeyManager</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">CryptoProperties</span> cryptoProperties;
    <span class="hljs-comment">// å¯¹æ¥KMSçš„å®¢æˆ·ç«¯ï¼ˆç”Ÿäº§ç¯å¢ƒç”¨ï¼‰</span>
    <span class="hljs-meta">@Autowired</span>(required = <span class="hljs-literal">false</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">KmsClient</span> kmsClient;

    <span class="hljs-comment">/**
     * è·å–å¯†é’¥ï¼ˆä¼˜å…ˆä»KMSè·å–ï¼Œæœ¬åœ°ä¸ºå…œåº•ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getKey</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> keyId</span>) {
        <span class="hljs-title class_">KeyConfig</span> keyConfig = cryptoProperties.<span class="hljs-title function_">getKeys</span>().<span class="hljs-title function_">get</span>(keyId);
        <span class="hljs-keyword">if</span> (keyConfig == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CryptoException</span>(<span class="hljs-string">"å¯†é’¥é…ç½®ä¸å­˜åœ¨ï¼š"</span> + keyId);
        }
        <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒï¼šä»KMS/HSMè·å–å¯†é’¥</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"KMS"</span>.<span class="hljs-title function_">equals</span>(keyConfig.<span class="hljs-title function_">getType</span>())) {
            <span class="hljs-keyword">return</span> kmsClient.<span class="hljs-title function_">getSecret</span>(keyId);
        }
        <span class="hljs-comment">// æµ‹è¯•ç¯å¢ƒï¼šæœ¬åœ°é…ç½®ï¼ˆç”Ÿäº§ç¦ç”¨ï¼‰</span>
        <span class="hljs-keyword">return</span> keyConfig.<span class="hljs-title function_">getPrivateKey</span>();
    }
}
</code></pre>
<h4 data-id="heading-9">3. ç¬¬ä¸‰æ­¥ï¼šæ ¸å¿ƒæœåŠ¡å±‚ï¼ˆæ¨¡æ¿æ–¹æ³•å°è£…é€šç”¨æµç¨‹ï¼‰</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">/**
 * åŠ è§£å¯†æ¨¡æ¿ï¼šå°è£…é€šç”¨æµç¨‹ï¼Œæ‹¦æˆªå™¨ç›´æ¥è°ƒç”¨ï¼Œæ— éœ€é‡å¤å†™é€»è¾‘
 */</span>
<span class="hljs-keyword">@Service</span>
public class CryptoTemplate {
    <span class="hljs-keyword">@Autowired</span>
    private AlgorithmFactory algorithmFactory;
    <span class="hljs-keyword">@Autowired</span>
    private KeyManager keyManager;

    <span class="hljs-comment">/**
     * é€šç”¨åŠ å¯†æµç¨‹ï¼šåŠ å¯†æ•æ„Ÿå­—æ®µ + ç­¾å
     */</span>
    public &lt;T&gt; T <span class="hljs-built_in">encrypt</span>(T data, String algorithm, String keyId) {
        try {
            <span class="hljs-comment">// 1. è·å–ç®—æ³•å¤„ç†å™¨</span>
            AlgorithmFactory<span class="hljs-selector-class">.CryptoHandler</span> handler = algorithmFactory<span class="hljs-selector-class">.getHandler</span>(algorithm, keyId);
            <span class="hljs-comment">// 2. åå°„è·å–@SensitiveFieldå­—æ®µï¼Œä»…åŠ å¯†è¿™äº›å­—æ®µ</span>
            Field<span class="hljs-selector-attr">[]</span> fields = data<span class="hljs-selector-class">.getClass</span>()<span class="hljs-selector-class">.getDeclaredFields</span>();
            for (Field field : fields) {
                if (field.isAnnotationPresent(SensitiveField.class)) {
                    field<span class="hljs-selector-class">.setAccessible</span>(true);
                    <span class="hljs-selector-tag">Object</span> value = field<span class="hljs-selector-class">.get</span>(data);
                    if (value != null) {
                        <span class="hljs-comment">// 3. åŠ å¯†æ•æ„Ÿå­—æ®µ</span>
                        byte<span class="hljs-selector-attr">[]</span> encrypted = handler<span class="hljs-selector-class">.encrypt</span>(value.toString()<span class="hljs-selector-class">.getBytes</span>(), keyId);
                        field<span class="hljs-selector-class">.set</span>(data, Base64.getEncoder()<span class="hljs-selector-class">.encodeToString</span>(encrypted));
                    }
                }
            }
            <span class="hljs-comment">// 4. ç­¾åï¼ˆå¯é€‰ï¼‰</span>
            String sign = handler<span class="hljs-selector-class">.sign</span>(JsonUtil.toJsonBytes(data), keyId);
            <span class="hljs-comment">// ç»™DTOè®¾ç½®ç­¾åï¼ˆå‡è®¾DTOæœ‰signå­—æ®µï¼‰</span>
            Field signField = data<span class="hljs-selector-class">.getClass</span>()<span class="hljs-selector-class">.getDeclaredField</span>("sign");
            signField<span class="hljs-selector-class">.setAccessible</span>(true);
            signField<span class="hljs-selector-class">.set</span>(data, sign);
            return data;
        } catch (Exception e) {
            throw new <span class="hljs-built_in">CryptoException</span>("åŠ å¯†å¤±è´¥", e);
        }
    }

    <span class="hljs-comment">/**
     * é€šç”¨è§£å¯†æµç¨‹ï¼šéªŒç­¾ + è§£å¯†æ•æ„Ÿå­—æ®µ
     */</span>
    public &lt;T&gt; T <span class="hljs-built_in">decrypt</span>(T data, String algorithm, String keyId) {
        try {
            AlgorithmFactory<span class="hljs-selector-class">.CryptoHandler</span> handler = algorithmFactory<span class="hljs-selector-class">.getHandler</span>(algorithm, keyId);
            <span class="hljs-comment">// 1. éªŒç­¾</span>
            Field signField = data<span class="hljs-selector-class">.getClass</span>()<span class="hljs-selector-class">.getDeclaredField</span>("sign");
            signField<span class="hljs-selector-class">.setAccessible</span>(true);
            String sign = (String) signField<span class="hljs-selector-class">.get</span>(data);
            if (!handler.verifySign(JsonUtil.toJsonBytes(data), sign, keyId)) {
                throw new <span class="hljs-built_in">CryptoException</span>("éªŒç­¾å¤±è´¥");
            }
            <span class="hljs-comment">// 2. è§£å¯†æ•æ„Ÿå­—æ®µ</span>
            Field<span class="hljs-selector-attr">[]</span> fields = data<span class="hljs-selector-class">.getClass</span>()<span class="hljs-selector-class">.getDeclaredFields</span>();
            for (Field field : fields) {
                if (field.isAnnotationPresent(SensitiveField.class)) {
                    field<span class="hljs-selector-class">.setAccessible</span>(true);
                    String encryptedValue = (String) field<span class="hljs-selector-class">.get</span>(data);
                    if (encryptedValue != null) {
                        byte<span class="hljs-selector-attr">[]</span> decrypted = handler<span class="hljs-selector-class">.decrypt</span>(Base64.getDecoder()<span class="hljs-selector-class">.decode</span>(encryptedValue), keyId);
                        field<span class="hljs-selector-class">.set</span>(data, new String(decrypted));
                    }
                }
            }
            return data;
        } catch (Exception e) {
            throw new <span class="hljs-built_in">CryptoException</span>("è§£å¯†å¤±è´¥", e);
        }
    }
}
</code></pre>
<h4 data-id="heading-10">4. ç¬¬å››æ­¥ï¼šæ¥å…¥å±‚ï¼ˆæ‹¦æˆªå™¨ï¼Œè‡ªåŠ¨å¤„ç†è¯·æ±‚/å“åº”ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * åŠ è§£å¯†æ‹¦æˆªå™¨ï¼šæ‹¦æˆª<span class="hljs-doctag">@ApiEncrypt</span>æ³¨è§£çš„æ¥å£ï¼Œè‡ªåŠ¨å¤„ç†åŠ è§£å¯†
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CryptoInterceptor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HandlerInterceptor</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> CryptoTemplate cryptoTemplate;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">preHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// 1. åˆ¤æ–­æ˜¯å¦æ˜¯Controlleræ–¹æ³•ï¼Œä¸”æœ‰@ApiEncryptæ³¨è§£</span>
        <span class="hljs-keyword">if</span> (handler <span class="hljs-keyword">instanceof</span> HandlerMethod handlerMethod) {
            <span class="hljs-type">ApiEncrypt</span> <span class="hljs-variable">apiEncrypt</span> <span class="hljs-operator">=</span> handlerMethod.getMethodAnnotation(ApiEncrypt.class);
            <span class="hljs-keyword">if</span> (apiEncrypt != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// 2. è¯»å–è¯·æ±‚ä½“</span>
                <span class="hljs-type">String</span> <span class="hljs-variable">requestBody</span> <span class="hljs-operator">=</span> StreamUtils.copyToString(request.getInputStream(), StandardCharsets.UTF_8);
                <span class="hljs-comment">// 3. ååºåˆ—åŒ–ä¸ºDTOï¼ˆéœ€è·å–æ–¹æ³•å…¥å‚ç±»å‹ï¼‰</span>
                Class&lt;?&gt; paramType = handlerMethod.getMethod().getParameterTypes()[<span class="hljs-number">0</span>];
                <span class="hljs-type">Object</span> <span class="hljs-variable">dto</span> <span class="hljs-operator">=</span> JsonUtil.fromJson(requestBody, paramType);
                <span class="hljs-comment">// 4. è§£å¯†DTOï¼ˆè‡ªåŠ¨å¤„ç†æ•æ„Ÿå­—æ®µï¼‰</span>
                <span class="hljs-type">Object</span> <span class="hljs-variable">decryptedDto</span> <span class="hljs-operator">=</span> cryptoTemplate.decrypt(dto, apiEncrypt.algorithm(), apiEncrypt.keyId());
                <span class="hljs-comment">// 5. æ›¿æ¢è¯·æ±‚ä½“ä¸ºè§£å¯†åçš„æ•°æ®ï¼ˆè®©Controlleræ‹¿åˆ°æ˜æ–‡ï¼‰</span>
                request.setAttribute(<span class="hljs-string">"decryptedParam"</span>, decryptedDto);
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">postHandle</span><span class="hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// 1. åˆ¤æ–­æ˜¯å¦æœ‰@ApiEncryptæ³¨è§£</span>
        <span class="hljs-keyword">if</span> (handler <span class="hljs-keyword">instanceof</span> HandlerMethod handlerMethod) {
            <span class="hljs-type">ApiEncrypt</span> <span class="hljs-variable">apiEncrypt</span> <span class="hljs-operator">=</span> handlerMethod.getMethodAnnotation(ApiEncrypt.class);
            <span class="hljs-keyword">if</span> (apiEncrypt != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// 2. è·å–Controllerè¿”å›çš„å“åº”ä½“ï¼ˆéœ€ç»“åˆResponseBodyAdviceï¼‰</span>
                <span class="hljs-comment">// æ­¤å¤„ç®€åŒ–ï¼Œå®é™…ç”¨ResponseBodyAdviceæ‹¦æˆªå“åº”æ›´ä¼˜é›…</span>
                <span class="hljs-type">Object</span> <span class="hljs-variable">responseBody</span> <span class="hljs-operator">=</span> request.getAttribute(<span class="hljs-string">"responseBody"</span>);
                <span class="hljs-comment">// 3. åŠ å¯†å“åº”ä½“ï¼ˆè‡ªåŠ¨å¤„ç†æ•æ„Ÿå­—æ®µï¼‰</span>
                <span class="hljs-type">Object</span> <span class="hljs-variable">encryptedBody</span> <span class="hljs-operator">=</span> cryptoTemplate.encrypt(responseBody, apiEncrypt.algorithm(), apiEncrypt.keyId());
                <span class="hljs-comment">// 4. å†™å…¥åŠ å¯†åçš„å“åº”</span>
                response.getWriter().write(JsonUtil.toJson(encryptedBody));
            }
        }
    }
}

<span class="hljs-comment">// æ³¨å†Œæ‹¦æˆªå™¨</span>
<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WebConfig</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">WebMvcConfigurer</span> {
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> CryptoInterceptor cryptoInterceptor;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addInterceptors</span><span class="hljs-params">(InterceptorRegistry registry)</span> {
        registry.addInterceptor(cryptoInterceptor)
                .addPathPatterns(<span class="hljs-string">"/api/pay/**"</span>) <span class="hljs-comment">// ä»…æ‹¦æˆªæ”¯ä»˜ç›¸å…³æ¥å£</span>
                .excludePathPatterns(<span class="hljs-string">"/api/public/**"</span>); <span class="hljs-comment">// æ’é™¤å…¬å¼€æ¥å£</span>
    }
}
</code></pre>
<h4 data-id="heading-11">5. ç¬¬äº”æ­¥ï¼šä¸šåŠ¡ä¾§ä½¿ç”¨ï¼ˆæç®€ï¼Œæ— åŠ å¯†ä»£ç ï¼‰</h4>
<h5 data-id="heading-12">ï¼ˆ1ï¼‰å®šä¹‰DTOï¼ˆä»…æ ‡è®°æ•æ„Ÿå­—æ®µï¼‰</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ”¯ä»˜è¯·æ±‚DTO</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PayRequestDTO</span> {
    <span class="hljs-comment">// éæ•æ„Ÿå­—æ®µï¼Œæ— éœ€åŠ å¯†</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> orderId;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> merchantId;
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Long</span> timestamp;
    <span class="hljs-comment">// ç­¾åå­—æ®µï¼ˆè‡ªåŠ¨ç”Ÿæˆ/éªŒè¯ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> sign;

    <span class="hljs-comment">// æ•æ„Ÿå­—æ®µï¼Œæ ‡è®°åè‡ªåŠ¨åŠ å¯†/è§£å¯†</span>
    <span class="hljs-meta">@SensitiveField</span>(desc = <span class="hljs-string">"é“¶è¡Œå¡å·"</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> cardNo;
    <span class="hljs-meta">@SensitiveField</span>(desc = <span class="hljs-string">"CVVç "</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> cvv;
    <span class="hljs-meta">@SensitiveField</span>(desc = <span class="hljs-string">"æ”¯ä»˜é‡‘é¢"</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> amount;

    <span class="hljs-comment">// getter/setter</span>
}
</code></pre>
<h5 data-id="heading-13">ï¼ˆ2ï¼‰Controllerï¼ˆä»…åŠ æ³¨è§£ï¼Œæ— åŠ å¯†é€»è¾‘ï¼‰</h5>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@RestController</span>
<span class="hljs-variable">@RequestMapping</span>(<span class="hljs-string">"/api/pay"</span>)
public class PayController {
    <span class="hljs-variable">@Autowired</span>
    private PayService payService;

    <span class="hljs-comment">// ä»…éœ€åŠ @ApiEncryptæ³¨è§£ï¼Œè‡ªåŠ¨è§£å¯†å…¥å‚ã€åŠ å¯†å‡ºå‚</span>
    <span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/submit"</span>)
    <span class="hljs-variable">@ApiEncrypt</span>(algorithm = <span class="hljs-string">"AES-GCM"</span>, keyId = <span class="hljs-string">"pay_default_key"</span>)
    public PayResponseDTO <span class="hljs-built_in">submitPay</span>(<span class="hljs-variable">@RequestBody</span> PayRequestDTO request) {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘ï¼šç›´æ¥ä½¿ç”¨æ˜æ–‡requestï¼Œæ— éœ€ä»»ä½•åŠ å¯†ä»£ç </span>
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">payService</span><span class="hljs-selector-class">.submit</span>(request);
    }
}
</code></pre>
<h3 data-id="heading-14">å››ã€é€šç”¨ç»„ä»¶çš„æ‰©å±•ä¸é€‚é…</h3>
<h4 data-id="heading-15">1. é€‚é…å…¶ä»–æ¡†æ¶/è¯­è¨€</h4>
<ul>
<li><strong>Goè¯­è¨€</strong>ï¼šå°†æ‹¦æˆªå™¨æ”¹ä¸ºHTTPä¸­é—´ä»¶ï¼ˆ<code>http.HandlerFunc</code>ï¼‰ï¼Œæ³¨è§£æ”¹ä¸ºé…ç½®æ–‡ä»¶ï¼ˆå¦‚<code>crypto.yaml</code>æŒ‡å®šæ¥å£è§„åˆ™ï¼‰ï¼Œæ ¸å¿ƒç®—æ³•å·¥å‚/æ¨¡æ¿é€»è¾‘ä¸€è‡´ï¼›</li>
<li><strong>Python</strong>ï¼šç”¨Django/Flaskçš„ä¸­é—´ä»¶ï¼ˆMiddlewareï¼‰æ›¿ä»£æ‹¦æˆªå™¨ï¼Œè£…é¥°å™¨æ›¿ä»£æ³¨è§£ï¼Œæ ¸å¿ƒé€»è¾‘å°è£…ä¸º<code>crypto</code>æ¨¡å—ï¼›</li>
<li><strong>å¾®æœåŠ¡åœºæ™¯</strong>ï¼šå°†ç»„ä»¶å°è£…ä¸ºSDKï¼Œå„æœåŠ¡å¼•å…¥SDKåä»…éœ€é…ç½®ï¼Œæ— éœ€é‡å¤å¼€å‘ã€‚</li>
</ul>
<h4 data-id="heading-16">2. æ‰©å±•æ–°ç®—æ³•</h4>
<p>åªéœ€å®ç°<code>AlgorithmFactory.CryptoHandler</code>æ¥å£ï¼Œæ— éœ€ä¿®æ”¹æ ¸å¿ƒä»£ç ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ–°å¢SM4ç®—æ³•ï¼ˆå›½å¯†ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Sm4Handler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AlgorithmFactory</span>.<span class="hljs-property">CryptoHandler</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> byte[] <span class="hljs-title function_">encrypt</span>(<span class="hljs-params">byte[] data, <span class="hljs-built_in">String</span> keyId</span>) {
        <span class="hljs-comment">// SM4åŠ å¯†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> byte[<span class="hljs-number">0</span>];
    }
    <span class="hljs-comment">// å®ç°å…¶ä»–æ–¹æ³•...</span>
}
</code></pre>
<h4 data-id="heading-17">3. æ€§èƒ½ä¼˜åŒ–ï¼ˆç»„ä»¶å†…ç½®ï¼‰</h4>
<ul>
<li><strong>å¯¹è±¡æ± </strong>ï¼šç¼“å­˜Cipherã€Signatureç­‰é‡é‡çº§å¯¹è±¡ï¼Œé¿å…é¢‘ç¹åˆ›å»ºï¼›</li>
<li><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šåŠ è§£å¯†è€—æ—¶è¾ƒé•¿æ—¶ï¼Œç”¨CompletableFutureå¼‚æ­¥å¤„ç†ï¼›</li>
<li><strong>ç¡¬ä»¶åŠ é€Ÿ</strong>ï¼šåœ¨AlgorithmFactoryä¸­è‡ªåŠ¨å¼€å¯AES-NI/SHAæŒ‡ä»¤é›†ï¼›</li>
<li><strong>æ‰¹é‡å¤„ç†</strong>ï¼šæ”¯æŒæ‰¹é‡æ¥å£çš„åŠ è§£å¯†ï¼Œå‡å°‘å¤šæ¬¡è°ƒç”¨å¼€é”€ã€‚</li>
</ul>
<h3 data-id="heading-18">äº”ã€ç”Ÿäº§ç¯å¢ƒè½åœ°æ³¨æ„äº‹é¡¹</h3>
<ol start="6">
<li><strong>å¯†é’¥ç®¡ç†</strong>ï¼šç”Ÿäº§ç¯å¢ƒç¦æ­¢æœ¬åœ°é…ç½®å¯†é’¥ï¼Œå¿…é¡»å¯¹æ¥KMS/HSMï¼ŒKeyManagerä¸­å°è£…KMSè°ƒç”¨é€»è¾‘ï¼›</li>
<li><strong>å¼‚å¸¸å¤„ç†</strong>ï¼šç»„ä»¶å†…ç½®ç»Ÿä¸€çš„åŠ å¯†å¼‚å¸¸ï¼ˆ<code>CryptoException</code>ï¼‰ï¼Œå…¨å±€å¼‚å¸¸å¤„ç†å™¨æ•è·åè¿”å›æ ‡å‡†åŒ–é”™è¯¯ç ï¼›</li>
<li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šåŸ‹ç‚¹åŠ è§£å¯†è€—æ—¶ã€å¤±è´¥ç‡ï¼Œè¶…è¿‡é˜ˆå€¼ï¼ˆå¦‚1msï¼‰å‘Šè­¦ï¼›</li>
<li><strong>å…¼å®¹æ€§</strong>ï¼šæ”¯æŒéƒ¨åˆ†æ¥å£ä¸åŠ å¯†ï¼ˆé€šè¿‡æ³¨è§£/é…ç½®æ’é™¤ï¼‰ï¼Œå…¼å®¹è€æ¥å£å¹³æ»‘è¿ç§»ï¼›</li>
<li><strong>æµ‹è¯•</strong>ï¼šç»„ä»¶å•ç‹¬å†™å•å…ƒæµ‹è¯•ï¼ˆè¦†ç›–æ‰€æœ‰ç®—æ³•ã€å¼‚å¸¸åœºæ™¯ï¼‰ï¼Œä¸šåŠ¡ä¾§ä»…éœ€æµ‹è¯•ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ol>
<h3 data-id="heading-19">æ€»ç»“</h3>
<p>é€šç”¨åŠ è§£å¯†ç»„ä»¶çš„æ ¸å¿ƒæ˜¯ã€Œ<strong>æ‹¦æˆªå™¨+æ¨¡æ¿æ–¹æ³•+é…ç½®é©±åŠ¨</strong>ã€ï¼š</p>
<ul>
<li>ä¸šåŠ¡ä¾§ï¼šä»…éœ€åŠ æ³¨è§£/é…ç½®ï¼Œå®Œå…¨è„±ç¦»åŠ å¯†ç»†èŠ‚ï¼›</li>
<li>ç»„ä»¶ä¾§ï¼šå°è£…æ‰€æœ‰åŠ å¯†é€»è¾‘ï¼Œç®—æ³•/å¯†é’¥/è§„åˆ™å¯é…ç½®ã€å¯æ‰©å±•ï¼›</li>
<li>æ€§èƒ½ï¼šç»„ä»¶å†…éƒ¨åšå¯¹è±¡æ± ã€ç¡¬ä»¶åŠ é€Ÿç­‰ä¼˜åŒ–ï¼Œå¯¹ä¸šåŠ¡é€æ˜ã€‚</li>
</ul>
<p>æŒ‰æ­¤æ–¹æ¡ˆå®ç°åï¼Œæ–°å¢éœ€è¦åŠ å¯†çš„æ¥å£æ—¶ï¼Œä»…éœ€ï¼š</p>
<ol start="11">
<li>åœ¨DTOçš„æ•æ„Ÿå­—æ®µåŠ <code>@SensitiveField</code>ï¼›</li>
<li>åœ¨Controlleræ–¹æ³•åŠ <code>@ApiEncrypt</code>ï¼›</li>
<li>åœ¨ymlä¸­é…ç½®å¯†é’¥ï¼ˆå¦‚éœ€ï¼‰ã€‚</li>
</ol>
<p>å®Œå…¨è§£è€¦ä¸šåŠ¡ä¸åŠ å¯†é€»è¾‘ï¼Œç¬¦åˆä¼ä¸šçº§ã€Œé«˜å†…èšã€ä½è€¦åˆã€çš„è®¾è®¡è§„èŒƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude Codeæ›´æ–°ï¼Œæ–°å¢å¼‚æ­¥å­ä»£ç†ã€å³æ—¶å‹ç¼©ã€è‡ªå®šä¹‰ä¼šè¯åå’Œä½¿ç”¨ç»Ÿè®¡å››å¤§åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7582131164728737832</link>    <guid>https://juejin.cn/post/7582131164728737832</guid>    <pubDate>2025-12-11T04:13:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582131164728737832" data-draft-id="7582200865907441698" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude Codeæ›´æ–°ï¼Œæ–°å¢å¼‚æ­¥å­ä»£ç†ã€å³æ—¶å‹ç¼©ã€è‡ªå®šä¹‰ä¼šè¯åå’Œä½¿ç”¨ç»Ÿè®¡å››å¤§åŠŸèƒ½"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-11T04:13:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­æ˜•AIç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/3273679891602858"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude Codeæ›´æ–°ï¼Œæ–°å¢å¼‚æ­¥å­ä»£ç†ã€å³æ—¶å‹ç¼©ã€è‡ªå®šä¹‰ä¼šè¯åå’Œä½¿ç”¨ç»Ÿè®¡å››å¤§åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3273679891602858/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­æ˜•AIç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T04:13:20.000Z" title="Thu Dec 11 2025 04:13:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å­æ˜•ã€‚</p>
<p>Claude Codeæ˜¨å¤©å‘äº†2.0.64ç‰ˆæœ¬ï¼ŒåŠ äº†å‡ ä¸ªæŒºå®ç”¨çš„åŠŸèƒ½ã€‚</p>
<p>æˆ‘çœ‹å®Œæ›´æ–°è¯´æ˜ï¼Œç¬¬ä¸€ååº”æ˜¯ï¼šè¿™å‡ ä¸ªæ›´æ–°éƒ½æŒºæ‡‚ä½¿ç”¨ç—›ç‚¹çš„ã€‚</p>
<h2 data-id="heading-0">æ ¸å¿ƒè¦ç‚¹</h2>
<ul>
<li><strong>å¼‚æ­¥å­ä»£ç†</strong>ï¼šsubagentå’Œbashå‘½ä»¤èƒ½åå°è·‘äº†ï¼Œä¸ç”¨ç­‰ä¸€ä¸ªä»»åŠ¡å®Œæ‰èƒ½å¼€ä¸‹ä¸€ä¸ª</li>
<li><strong>å³æ—¶å‹ç¼©</strong>ï¼šå¯¹è¯å‹ç¼©ä»ç­‰åŠå¤©å˜æˆç§’å‹</li>
<li><strong>è‡ªå®šä¹‰ä¼šè¯åç§°</strong>ï¼šç”¨<code>/rename</code>ç»™ä¼šè¯èµ·åå­—</li>
<li><strong>ä½¿ç”¨ç»Ÿè®¡</strong>ï¼š<code>/stats</code>çœ‹ä½ æ¯å¤©ç”¨äº†å¤šå°‘ï¼Œå“ªä¸ªæ¨¡å‹ç”¨å¾—æœ€å¤š</li>
</ul>
<p>å‰ä¸¤ä¸ªæ”¹å˜æœ€æ˜æ˜¾ï¼Œåä¸¤ä¸ªæ˜¯ä½“éªŒè¡¥å®Œã€‚</p>
<h2 data-id="heading-1">å¼‚æ­¥å­ä»£ç†ï¼šå¯ä»¥åœ¨åå°æŒç»­è·‘äº†</h2>
<p>è¿™ä¸ªæ›´æ–°çš„å…³é”®è¯æ˜¯<code>å¼‚æ­¥</code>å’Œ<code>åå°</code>ã€‚</p>
<p>ä»¥å‰subagentå¹²æ´»æ—¶ï¼Œä½ å¾—ç­‰å®ƒåšå®Œæ‰èƒ½ç»§ç»­ã€‚ç°åœ¨å¯ä»¥è®©subagentåœ¨åå°è¿è¡Œï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œ<strong>å®ƒèƒ½æŒç»­è¿è¡Œï¼Œä¸å—ä¸»ä»»åŠ¡å½±å“</strong>ã€‚</p>
<p><strong>æ€ä¹ˆç”¨</strong>ï¼šåœ¨æç¤ºè¯é‡Œæ˜ç¡®å‘Šè¯‰Claudeä½¿ç”¨åå°agentã€‚æ¯”å¦‚å®˜æ–¹ç¤ºä¾‹ï¼šâ€œUsing a background agent can you poll this issue for comments every 10 secondsâ€ï¼Œagentå°±ä¼šåœ¨åå°æ¯10ç§’æ£€æŸ¥ä¸€æ¬¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99294f3324884de3bc5c181b72fea9a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766031200&amp;x-signature=icfe1V7Fji%2BgF0983hkviIR3fqQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e7163d59ab0465991de25b7ea2dd8a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766031200&amp;x-signature=cDMDf7Z9xZqusQAArGUvMMgnUuA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>é€‚åˆçš„åœºæ™¯</strong>ï¼š</p>
<ul>
<li>è®©åå°agentæ¯éš”ä¸€æ®µæ—¶é—´ç›‘æ§é”™è¯¯æ—¥å¿—ï¼Œå‘ç°æ–°é”™è¯¯ç«‹å³é€šçŸ¥</li>
<li>å®šæœŸè½®è¯¢æŸä¸ªAPIæˆ–æ–‡ä»¶çš„å˜åŒ–</li>
<li>ç›‘æ§æµ‹è¯•è¿è¡ŒçŠ¶æ€ï¼Œå®Œæˆåæ±‡æŠ¥ç»“æœ</li>
<li>é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ï¼ˆç¼–è¯‘ã€éƒ¨ç½²ï¼‰è¿›åº¦è·Ÿè¸ª</li>
</ul>
<p>è¿™ä¸ªåŠŸèƒ½çš„ä»·å€¼åœ¨äºï¼šä½ å¯ä»¥ç»§ç»­åšå…¶ä»–äº‹ï¼Œè®©agentåœ¨åå°å¸®ä½ ç›¯ç€ã€‚ä¸ç”¨äººå·¥åå¤æ£€æŸ¥ã€‚</p>
<p>å…³äºsubagentçš„æ›´å¤šç”¨æ³•å’Œé…ç½®ï¼Œå¯ä»¥çœ‹æˆ‘ä¹‹å‰å†™çš„æ–‡ç« ã€‚</p>
<h2 data-id="heading-2">å³æ—¶å‹ç¼©ï¼šç»ˆäºä¸ç”¨å¹²ç­‰äº†</h2>
<p>å‹ç¼©åŠŸèƒ½ä¹‹å‰å°±æœ‰ï¼Œä½†ä½“éªŒå¾ˆå·®ï¼Œæœ‰æ—¶å€™è¦ç­‰2-5åˆ†é’Ÿã€‚</p>
<p>è¿™æ¬¡æ›´æ–°åï¼Œå‡ ä¹æ˜¯ç§’å®Œæˆã€‚</p>
<p><strong>æ€ä¹ˆç”¨</strong>ï¼šè¿˜æ˜¯è€åŠæ³•ï¼Œè¾“å…¥<code>/compact</code>ï¼Œä½†ç°åœ¨é€Ÿåº¦å¿«å¾—å¤šã€‚æˆ–è€…ä½ ä»€ä¹ˆéƒ½ä¸åšï¼Œç³»ç»Ÿä¹Ÿä¼šåœ¨åå°è‡ªåŠ¨å‹ç¼©æ‘˜è¦ã€‚</p>
<p><strong>é€‚åˆçš„åœºæ™¯</strong>ï¼š</p>
<ul>
<li>é•¿å¯¹è¯åˆ°100+è½®æ—¶ï¼Œå®šæœŸå‹ä¸€ä¸‹</li>
<li>æ„Ÿè§‰å“åº”å˜æ…¢äº†ï¼Œå¯èƒ½æ˜¯contextå¤ªé•¿äº†</li>
<li>ä¸€ä¸ªé¡¹ç›®æŒç»­å¥½å‡ å¤©ï¼Œä¸­é—´æƒ³æ¸…ç†ä¸€ä¸‹å¯¹è¯</li>
</ul>
<p>ä¸è¿‡æé†’ä¸€å¥ï¼šåˆ«è¿‡åº¦ä¾èµ–å‹ç¼©ã€‚æœ€å¥½çš„åšæ³•æ˜¯åœ¨ä¸Šä¸‹æ–‡å¿«ç”¨å®Œä¹‹å‰ï¼Œè‡ªå·±æ•´ç†å¥½æ–‡æ¡£å’Œå…³é”®ä¿¡æ¯ï¼Œé‡æ–°å¼€ä¸ªä¼šè¯ã€‚å‹ç¼©åªæ˜¯è¾…åŠ©æ‰‹æ®µã€‚</p>
<h2 data-id="heading-3">è‡ªå®šä¹‰ä¼šè¯åç§°ï¼šæ‰¾å¯¹è¯æ–¹ä¾¿äº†</h2>
<p>å¾ˆç®€å•çš„åŠŸèƒ½ï¼Œä½†æŒºå®ç”¨ã€‚</p>
<p>è¾“å…¥<code>/rename ä½ æƒ³è¦çš„åå­—</code>ï¼Œå½“å‰ä¼šè¯å°±æ”¹åäº†ã€‚åœ¨/resumeç•Œé¢è¿˜åŠ äº†å¿«æ·é”®ï¼šæŒ‰Ræ”¹åï¼ŒæŒ‰Pé¢„è§ˆã€‚</p>
<p>ä»¥å‰ä¼šè¯åç§°å¯èƒ½æ˜¯ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆçš„ï¼Œä¸å¤ªå¥½è¾¨è¯†ã€‚ç°åœ¨å¯ä»¥è‡ªå·±æ”¹æˆæœ‰æ„ä¹‰çš„åå­—ï¼Œæ‰¾èµ·æ¥æ–¹ä¾¿å¤šäº†ã€‚</p>
<h2 data-id="heading-4">ä½¿ç”¨ç»Ÿè®¡ï¼šå¿ƒé‡Œæœ‰ä¸ªæ•°</h2>
<p>è¾“å…¥<code>/stats</code>ä¼šæ˜¾ç¤ºä¸€ä¸ªå¯è§†åŒ–ç•Œé¢ï¼Œå‘Šè¯‰ä½ ï¼š</p>
<ul>
<li>æ¯å¤©ç”¨äº†å¤šå°‘æ¬¡Claude Code</li>
<li>æ€»å…±å¼€äº†å¤šå°‘ä¼šè¯</li>
<li>è¿ç»­ä½¿ç”¨å¤šå°‘å¤©</li>
<li>æœ€å¸¸ç”¨çš„æ¨¡å‹æ˜¯å“ªä¸ª</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a0b9057ced14e89955d8ec3ca46c50c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766031200&amp;x-signature=g7HgolWyCvHx0bhiWIS7LwJQgNs%3D" alt="Overview" loading="lazy"/></p>
<p>Overview</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa2533ef63e94ea68a41afcb1e590efb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2Q5piVQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766031200&amp;x-signature=D%2BwdNIUsbbpeWEYrp7GC9BP8kPs%3D" alt="Models" loading="lazy"/></p>
<p>Models</p>
<p><strong>é€‚åˆçš„åœºæ™¯</strong>ï¼š</p>
<ul>
<li>æƒ³çŸ¥é“è‡ªå·±ç”¨Claude Codeçš„ä¹ æƒ¯</li>
<li>çœ‹çœ‹æ˜¯ä¸æ˜¯è¿‡åº¦ä¾èµ–æŸä¸ªè´µçš„æ¨¡å‹</li>
<li>çº¯ç²¹å¥½å¥‡è‡ªå·±çš„ä½¿ç”¨æ•°æ®</li>
</ul>
<p>è¿™ä¸ªåŠŸèƒ½æ›´å¤šæ˜¯â€œäº†è§£è‡ªå·±â€ï¼Œå¯¹æ—¥å¸¸å¼€å‘å½±å“ä¸å¤§ï¼Œä½†çœ‹çœ‹æ•°æ®æŒºæœ‰æ„æ€çš„ã€‚</p>
<h2 data-id="heading-5">ç®€å•è¯´ä¸¤å¥</h2>
<p>è¿™å‡ ä¸ªæ›´æ–°éƒ½ä¸ç®—å¤§åŠŸèƒ½ï¼Œä½†éƒ½æ˜¯åœ¨è§£å†³å®é™…ä½¿ç”¨ä¸­çš„ç—›ç‚¹ï¼š</p>
<p>å¼‚æ­¥è®©æ•ˆç‡æå‡æ˜¯å®æ‰“å®çš„ï¼Œç‰¹åˆ«æ˜¯éœ€è¦å¤šä»»åŠ¡åä½œçš„åœºæ™¯ã€‚å‹ç¼©é€Ÿåº¦æå‡ä¹Ÿæ˜¯ï¼Œä¹‹å‰é‚£ä¸ªæ…¢é€Ÿåº¦çœŸçš„è®©äººä¸æƒ³ç”¨ã€‚è‡³äºæ”¹åå’Œç»Ÿè®¡ï¼Œç®—æ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œæœ‰æ¯”æ²¡æœ‰å¥½ã€‚</p>
<p>å¦‚æœä½ åœ¨ç”¨Claude Codeï¼Œè¿è¡Œ<code>claude update</code>å°±èƒ½æ›´æ–°åˆ°æœ€æ–°ç‰ˆã€‚</p>
<p>æ›´å¤šå†…å®¹ï¼Œæ¬¢è¿å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ã€Œå­æ˜•AIç¼–ç¨‹ã€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Node.js ç¼–ç¨‹å®æˆ˜ï¼šåˆ›å»º HTTP/HTTPS æœåŠ¡å™¨å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7582149417769304114</link>    <guid>https://juejin.cn/post/7582149417769304114</guid>    <pubDate>2025-12-11T07:23:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582149417769304114" data-draft-id="7582182817108082714" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.js ç¼–ç¨‹å®æˆ˜ï¼šåˆ›å»º HTTP/HTTPS æœåŠ¡å™¨å…¨è§£æ"/> <meta itemprop="keywords" content="åç«¯,Node.js,Trae"/> <meta itemprop="datePublished" content="2025-12-11T07:23:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜çˆ±é’“é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/2799775299157614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.js ç¼–ç¨‹å®æˆ˜ï¼šåˆ›å»º HTTP/HTTPS æœåŠ¡å™¨å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2799775299157614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜çˆ±é’“é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T07:23:07.000Z" title="Thu Dec 11 2025 07:23:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>Node.js çš„æ ¸å¿ƒèƒ½åŠ›ä¹‹ä¸€å°±æ˜¯å¿«é€Ÿåˆ›å»ºé«˜æ€§èƒ½çš„æœåŠ¡å™¨ã€‚é€šè¿‡å†…ç½®çš„ <code>http</code> å’Œ <code>https</code> æ¨¡å—ï¼Œä½ å¯ä»¥åœ¨å‡ è¡Œä»£ç å†…æ­å»ºåŠŸèƒ½å®Œå–„çš„ Web æœåŠ¡ã€‚æœ¬æ–‡å°†ç³»ç»Ÿè®²è§£å¦‚ä½•åœ¨ Node.js ä¸­åˆ›å»º HTTP ä¸ HTTPS æœåŠ¡å™¨ï¼ŒåŒ…æ‹¬åŸºç¡€ç”¨æ³•ã€è¯·æ±‚å¤„ç†ã€HTTPS è¯ä¹¦é…ç½®ï¼Œä»¥åŠæ€§èƒ½ä¸å®‰å…¨ä¼˜åŒ–å®è·µã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€Node.js HTTP æœåŠ¡å™¨åŸºç¡€</h2>
<p>Node.js å†…ç½®çš„ <code>http</code> æ¨¡å—è®©åˆ›å»º HTTP æœåŠ¡å™¨éå¸¸ç®€å•ã€‚</p>
<h3 data-id="heading-1">1. åŸºæœ¬ç¤ºä¾‹</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">"http"</span>);

<span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">200</span>;
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"text/plain"</span>);
  res.<span class="hljs-title function_">end</span>(<span class="hljs-string">"Hello Node.js HTTP Server!"</span>);
});

server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Server running at http://localhost:3000/"</span>);
});
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><code>http.createServer</code> è¿”å›ä¸€ä¸ªæœåŠ¡å™¨å®ä¾‹</li>
<li>å›è°ƒå‡½æ•° <code>(req, res)</code> åœ¨æ¯æ¬¡è¯·æ±‚åˆ°æ¥æ—¶è§¦å‘</li>
<li><code>req</code> åŒ…å«è¯·æ±‚ä¿¡æ¯ï¼Œ<code>res</code> ç”¨äºå‘é€å“åº”</li>
<li><code>server.listen</code> ç»‘å®šç«¯å£å¹¶å¯åŠ¨æœåŠ¡å™¨</li>
</ul>
<hr/>
<h2 data-id="heading-2">äºŒã€å¤„ç†è¯·æ±‚ä¸å“åº”</h2>
<p>HTTP è¯·æ±‚åŒ…å«æ–¹æ³•ã€URLã€å¤´ä¿¡æ¯å’Œè¯·æ±‚ä½“ã€‚å“åº”ä¹Ÿå¯ä»¥è®¾ç½®çŠ¶æ€ç ã€å¤´ä¿¡æ¯åŠæ•°æ®ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">"GET"</span> &amp;&amp; req.<span class="hljs-property">url</span> === <span class="hljs-string">"/"</span>) {
    res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"text/html"</span> });
    res.<span class="hljs-title function_">end</span>(<span class="hljs-string">"&lt;h1&gt;Welcome Home&lt;/h1&gt;"</span>);
  } <span class="hljs-keyword">else</span> {
    res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">404</span>, { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"text/plain"</span> });
    res.<span class="hljs-title function_">end</span>(<span class="hljs-string">"Page Not Found"</span>);
  }
});
</code></pre>
<p>æŠ€å·§ä¸å»ºè®®ï¼š</p>
<ul>
<li>å¯¹è¯·æ±‚è¿›è¡Œè·¯ç”±åˆ¤æ–­ï¼ŒåŒºåˆ†ä¸åŒè·¯å¾„å’Œæ–¹æ³•</li>
<li>å“åº”å¤´è¦æ ¹æ®å†…å®¹ç±»å‹è®¾ç½®</li>
<li>å¤§å‹é¡¹ç›®å¯ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¡†æ¶å¦‚ Express åšè·¯ç”±å’Œä¸­é—´ä»¶ç®¡ç†</li>
</ul>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€Node.js HTTPS æœåŠ¡å™¨</h2>
<p>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒHTTPS å·²ç»æ˜¯å¿…é¡»ã€‚Node.js æä¾› <code>https</code> æ¨¡å—æ”¯æŒåŠ å¯†ä¼ è¾“ã€‚</p>
<h3 data-id="heading-4">1. å‡†å¤‡è¯ä¹¦</h3>
<p>åˆ›å»º HTTPS æœåŠ¡å™¨å‰ï¼Œéœ€è¦æ‹¥æœ‰ï¼š</p>
<ul>
<li><code>key.pem</code>ï¼šç§é’¥æ–‡ä»¶</li>
<li><code>cert.pem</code>ï¼šè¯ä¹¦æ–‡ä»¶ï¼ˆå¯ä»¥ç”¨è‡ªç­¾åè¯ä¹¦åšæµ‹è¯•ï¼‰</li>
</ul>
<p>å¯ä»¥ä½¿ç”¨ OpenSSL ç”Ÿæˆæµ‹è¯•è¯ä¹¦ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">openssl req -nodes -new -x509 -keyout key.pem -out cert.pem
</code></pre>
<hr/>
<h3 data-id="heading-5">2. åˆ›å»º HTTPS æœåŠ¡å™¨</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> https = <span class="hljs-built_in">require</span>(<span class="hljs-string">"https"</span>);
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">"fs"</span>);

<span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">key</span>: fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">"key.pem"</span>),
  <span class="hljs-attr">cert</span>: fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">"cert.pem"</span>)
};

<span class="hljs-keyword">const</span> server = https.<span class="hljs-title function_">createServer</span>(options, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"text/plain"</span> });
  res.<span class="hljs-title function_">end</span>(<span class="hljs-string">"Hello Node.js HTTPS Server!"</span>);
});

server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3443</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"HTTPS Server running at https://localhost:3443/"</span>);
});
</code></pre>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>HTTPS å¿…é¡»æä¾›è¯ä¹¦å’Œç§é’¥</li>
<li>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¯·ä½¿ç”¨ç”±å¯ä¿¡ CA ç­¾å‘çš„è¯ä¹¦</li>
<li>ç«¯å£ä¸€èˆ¬ä¸º 443ï¼ˆHTTP é»˜è®¤ç«¯å£ä¸º 80ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-6">å››ã€æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<p>è™½ç„¶ Node.js çš„ <code>http</code> å’Œ <code>https</code> æ¨¡å—è¶³å¤Ÿè½»é‡ï¼Œä½†åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œä»ç„¶å¯ä»¥ä¼˜åŒ–ï¼š</p>
<ol>
<li><strong>å¼€å¯ Keep-Alive</strong>
ä¿æŒ TCP è¿æ¥ï¼Œå‡å°‘æ¡æ‰‹å¼€é”€ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js">res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">"Connection"</span>, <span class="hljs-string">"keep-alive"</span>);
</code></pre>
<ol start="2">
<li><strong>ä½¿ç”¨ gzip å‹ç¼©</strong>
å‡å°‘ä¼ è¾“æ•°æ®é‡ï¼Œæé«˜å“åº”é€Ÿåº¦ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> zlib = <span class="hljs-built_in">require</span>(<span class="hljs-string">"zlib"</span>);
res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, { <span class="hljs-string">"Content-Encoding"</span>: <span class="hljs-string">"gzip"</span> });
res.<span class="hljs-title function_">end</span>(zlib.<span class="hljs-title function_">gzipSync</span>(<span class="hljs-string">"Hello World!"</span>));
</code></pre>
<ol start="3">
<li><strong>åˆ©ç”¨é›†ç¾¤ï¼ˆclusterï¼‰æå‡ CPU åˆ©ç”¨ç‡</strong>
Node.js å•çº¿ç¨‹æ¨¡å‹å¯ä»¥é€šè¿‡ cluster æ¨¡å—å¯åŠ¨å¤šè¿›ç¨‹ï¼š</li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> cluster = <span class="hljs-built_in">require</span>(<span class="hljs-string">"cluster"</span>);
<span class="hljs-keyword">const</span> os = <span class="hljs-built_in">require</span>(<span class="hljs-string">"os"</span>);

<span class="hljs-keyword">if</span> (cluster.<span class="hljs-property">isMaster</span>) {
  <span class="hljs-keyword">const</span> cpuCount = os.<span class="hljs-title function_">cpus</span>().<span class="hljs-property">length</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; cpuCount; i++) {
    cluster.<span class="hljs-title function_">fork</span>();
  }
} <span class="hljs-keyword">else</span> {
  <span class="hljs-comment">// worker è¿›ç¨‹å¯åŠ¨ HTTP/HTTPS æœåŠ¡å™¨</span>
}
</code></pre>
<ol start="4">
<li><strong>ä½¿ç”¨ç¼“å­˜</strong>
å¯¹é™æ€æ–‡ä»¶æˆ–æ¥å£æ•°æ®ä½¿ç”¨å†…å­˜ç¼“å­˜æˆ– CDNï¼Œé™ä½é‡å¤è®¡ç®—å’Œ I/O å‹åŠ›ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-7">äº”ã€å¸¸è§åº”ç”¨åœºæ™¯</h2>
<ul>
<li>æ­å»ºé™æ€æ–‡ä»¶æœåŠ¡å™¨</li>
<li>æä¾› RESTful API æœåŠ¡</li>
<li>æ¥å…¥ WebSocket åšå®æ—¶é€šä¿¡</li>
<li>å†…ç½‘å·¥å…·æˆ–å¾®æœåŠ¡</li>
<li>HTTPS æ¥å…¥æ”¯ä»˜ã€è®¤è¯ç­‰å®‰å…¨åœºæ™¯</li>
</ul>
<p>Node.js çš„ HTTP/HTTPS æœåŠ¡å™¨èƒ½åŠ›éå¸¸é€‚åˆé«˜å¹¶å‘å’Œè½»é‡æœåŠ¡åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-8">å…­ã€æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ–‡ï¼Œä½ åº”è¯¥æŒæ¡äº†ï¼š</p>
<ol>
<li>HTTP æœåŠ¡å™¨çš„åˆ›å»ºä¸è¯·æ±‚å¤„ç†</li>
<li>HTTPS æœåŠ¡å™¨çš„è¯ä¹¦é…ç½®å’Œåˆ›å»º</li>
<li>å¼‚æ­¥è¯·æ±‚å¤„ç†ä¸å“åº”æœºåˆ¶</li>
<li>é«˜æ€§èƒ½ä¸å®‰å…¨ä¼˜åŒ–ç­–ç•¥</li>
</ol>
<p>Node.js å†…ç½®çš„ HTTP/HTTPS æ¨¡å—ç®€å•é«˜æ•ˆï¼Œéå¸¸é€‚åˆæ„å»ºé«˜æ€§èƒ½å¾®æœåŠ¡å’Œ APIã€‚
ç†è§£è¿™äº›åŸºç¡€ï¼Œä¸ºä½¿ç”¨ Expressã€Koa ç­‰æ¡†æ¶æ‰“ä¸‹äº†åšå®çš„åº•å±‚åŸºç¡€ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C# Params Collections è¯¦è§£ï¼šæ¯” params T[] æ›´å¼ºå¤§çš„æ–°è¯­æ³•]]></title>    <link>https://juejin.cn/post/7582090790181879846</link>    <guid>https://juejin.cn/post/7582090790181879846</guid>    <pubDate>2025-12-11T00:10:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582090790181879846" data-draft-id="7582041304655413294" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C# Params Collections è¯¦è§£ï¼šæ¯” params T[] æ›´å¼ºå¤§çš„æ–°è¯­æ³•"/> <meta itemprop="keywords" content="C#,.NET"/> <meta itemprop="datePublished" content="2025-12-11T00:10:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å”é’æ«"/> <meta itemprop="url" content="https://juejin.cn/user/3737995266234280"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C# Params Collections è¯¦è§£ï¼šæ¯” params T[] æ›´å¼ºå¤§çš„æ–°è¯­æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3737995266234280/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å”é’æ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T00:10:11.000Z" title="Thu Dec 11 2025 00:10:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ç®€ä»‹</h3>
<p><code>Params Collections</code> æ˜¯ <code>C# 12</code> ä¸­å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œå®ƒæ‰©å±•äº†ä¼ ç»Ÿçš„ <code>params</code> å…³é”®å­—åŠŸèƒ½ï¼Œä½¿å…¶ä¸ä»…æ”¯æŒæ•°ç»„ï¼Œè¿˜èƒ½æ”¯æŒå„ç§é›†åˆç±»å‹ã€‚è¿™ä¸ªç‰¹æ€§ä½¿å¾—æ–¹æ³•èƒ½å¤Ÿæ¥å—å¯å˜æ•°é‡çš„å‚æ•°ï¼Œå¹¶ä¸”è¿™äº›å‚æ•°å¯ä»¥è‡ªåŠ¨è½¬æ¢ä¸ºæŒ‡å®šçš„é›†åˆç±»å‹ã€‚</p>
<p>å…³é”®ç‰¹ç‚¹ï¼š</p>
<ul>
<li>
<p>å¯å˜å‚æ•°ï¼šè°ƒç”¨è€…å¯ä»¥ä¼ é€’ä»»æ„æ•°é‡çš„å‚æ•°ï¼ˆåŒ…æ‹¬é›¶ä¸ªï¼‰ã€‚</p>
</li>
<li>
<p>ç±»å‹å®‰å…¨ï¼š<code>params</code> å‚æ•°æ˜¯å¼ºç±»å‹çš„ï¼Œç¼–è¯‘å™¨ç¡®ä¿å‚æ•°ç±»å‹åŒ¹é…ã€‚</p>
</li>
<li>
<p>å•ä¸€ <code>params</code> å‚æ•°ï¼šä¸€ä¸ªæ–¹æ³•åªèƒ½æœ‰ä¸€ä¸ª <code>params</code> å‚æ•°ï¼Œä¸”å¿…é¡»æ˜¯æœ€åä¸€ä¸ªå‚æ•°ã€‚</p>
</li>
<li>
<p><code>C# 12</code> æ‰©å±•ï¼šæ”¯æŒéæ•°ç»„é›†åˆç±»å‹ï¼ˆå¦‚ <code>List</code>, <code>Span</code>ï¼‰ï¼Œé€‚åˆé«˜æ€§èƒ½æˆ–ç‰¹å®šåœºæ™¯ã€‚</p>
</li>
</ul>
<h3 data-id="heading-1">æ ¸å¿ƒç‰¹æ€§</h3>
<h4 data-id="heading-2">æ”¯æŒä»»æ„é›†åˆç±»å‹</h4>
<ul>
<li>å¯æŒ‡å®š <code>Listã€Spanã€IReadOnlyCollection</code> ç­‰ä½œä¸ºå‚æ•°ç±»å‹</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">LogEntries</span>(<span class="hljs-params"><span class="hljs-keyword">params</span> List messages</span>)</span> { ... }
</code></pre>
<h4 data-id="heading-3">è‡ªåŠ¨é›†åˆæ„é€ </h4>
<ul>
<li>ç¼–è¯‘å™¨è‡ªåŠ¨å°†ç¦»æ•£å‚æ•°è½¬æ¢ä¸ºç›®æ ‡é›†åˆç±»å‹å®ä¾‹</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp">AnalyzeNumbers(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>); 
<span class="hljs-comment">// ç­‰æ•ˆäºï¼š</span>
AnalyzeNumbers(<span class="hljs-keyword">new</span> List { <span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span> });
</code></pre>
<h4 data-id="heading-4">ä¸ç°æœ‰ params å…¼å®¹</h4>
<ul>
<li>
<p>ä¼ ç»Ÿ <code>params T[]</code> ä»ç„¶æœ‰æ•ˆ</p>
</li>
<li>
<p>æ–°è¯­æ³•ä¸ä¼šç ´åå·²æœ‰ä»£ç </p>
</li>
</ul>
<h3 data-id="heading-5">ä¼ ç»Ÿ params å…³é”®å­—</h3>
<p>åœ¨ <code>C# 12</code> ä¹‹å‰ï¼Œ<code>params</code> å…³é”®å­—åªèƒ½ç”¨äºæ•°ç»„ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä¼ ç»Ÿçš„ params æ•°ç»„ç”¨æ³•</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProcessNumbers</span>(<span class="hljs-params"><span class="hljs-keyword">params</span> <span class="hljs-built_in">int</span>[] numbers</span>)</span>
{
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> number <span class="hljs-keyword">in</span> numbers)
    {
        Console.WriteLine(number);
    }
}

<span class="hljs-comment">// è°ƒç”¨æ–¹å¼</span>
ProcessNumbers(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>);
</code></pre>
<h3 data-id="heading-6">Params Collections çš„æ–°ç‰¹æ€§</h3>
<p><code>C# 12</code> æ‰©å±•äº† <code>params</code> å…³é”®å­—ï¼Œä½¿å…¶èƒ½å¤Ÿç”¨äºä»»ä½•é›†åˆç±»å‹ï¼Œåªè¦è¯¥ç±»å‹æ»¡è¶³ç‰¹å®šæ¡ä»¶ã€‚</p>
<h4 data-id="heading-7">åŸºæœ¬è¯­æ³•</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä½¿ç”¨ params ä¸é›†åˆç±»å‹</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProcessNumbers</span>(<span class="hljs-params"><span class="hljs-keyword">params</span> List numbers</span>)</span>
{
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> number <span class="hljs-keyword">in</span> numbers)
    {
        Console.WriteLine(number);
    }
}

<span class="hljs-comment">// è°ƒç”¨æ–¹å¼ä¸å˜</span>
ProcessNumbers(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>);
</code></pre>
<h3 data-id="heading-8">æ”¯æŒçš„æ¡ä»¶</h3>
<p>è¦ä½¿é›†åˆç±»å‹èƒ½å¤Ÿä¸ <code>params</code> å…³é”®å­—ä¸€èµ·ä½¿ç”¨ï¼Œå¿…é¡»æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ä¹‹ä¸€ï¼š</p>
<ul>
<li>
<p>é›†åˆç±»å‹å¿…é¡»æœ‰ä¸€ä¸ªæ— å‚æ•°çš„æ„é€ å‡½æ•°</p>
</li>
<li>
<p>é›†åˆç±»å‹å¿…é¡»æœ‰ä¸€ä¸ª <code>Add</code> æ–¹æ³•ï¼Œç”¨äºæ·»åŠ å…ƒç´ </p>
</li>
<li>
<p>é›†åˆç±»å‹å¿…é¡»å®ç° <code>IEnumerable</code></p>
</li>
</ul>
<h4 data-id="heading-9">è‡ªå®šä¹‰é›†åˆä¸ params</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// è‡ªå®šä¹‰é›†åˆç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">NumberCollection</span> : <span class="hljs-title">IEnumerable</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> List _numbers = <span class="hljs-keyword">new</span>();
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Add</span>(<span class="hljs-params"><span class="hljs-built_in">int</span> number</span>)</span> =&gt; _numbers.Add(number);
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> IEnumerator <span class="hljs-title">GetEnumerator</span>()</span> =&gt; _numbers.GetEnumerator();
    
    IEnumerator IEnumerable.GetEnumerator() =&gt; GetEnumerator();
}

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰é›†åˆä½œä¸º params å‚æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProcessNumbers</span>(<span class="hljs-params"><span class="hljs-keyword">params</span> NumberCollection numbers</span>)</span>
{
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> number <span class="hljs-keyword">in</span> numbers)
    {
        Console.WriteLine(number);
    }
}

<span class="hljs-comment">// è°ƒç”¨</span>
ProcessNumbers(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>);
</code></pre>
<h3 data-id="heading-10">å®é™…åº”ç”¨ç¤ºä¾‹</h3>
<h4 data-id="heading-11">ä¸ Span å’Œ ReadOnlySpan ç»“åˆä½¿ç”¨</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä½¿ç”¨ Span ä½œä¸º params å‚æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProcessData</span>(<span class="hljs-params"><span class="hljs-keyword">params</span> Span data</span>)</span>
{
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; data.Length; i++)
    {
        data[i] *= <span class="hljs-number">2</span>;
    }
}

<span class="hljs-comment">// è°ƒç”¨</span>
<span class="hljs-built_in">int</span>[] array = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
ProcessData(array);
Console.WriteLine(<span class="hljs-built_in">string</span>.Join(&amp;<span class="hljs-meta">#34;, &amp;#34;, array)); // è¾“å‡º: 2, 4, 6, 8, 10</span>
</code></pre>
<h4 data-id="heading-12">ä¸ Immutable Collections ç»“åˆä½¿ç”¨</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System.Collections.Immutable;

<span class="hljs-comment">// ä½¿ç”¨ä¸å¯å˜é›†åˆä½œä¸º params å‚æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProcessItems</span>(<span class="hljs-params"><span class="hljs-keyword">params</span> ImmutableArray items</span>)</span>
{
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> items)
    {
        Console.WriteLine(item);
    }
}

<span class="hljs-comment">// è°ƒç”¨</span>
ProcessItems(&amp;<span class="hljs-meta">#34;apple&amp;#34;, &amp;#34;banana&amp;#34;, &amp;#34;cherry&amp;#34;);</span>
</code></pre>
<h3 data-id="heading-13">é«˜çº§ç”¨æ³•</h3>
<h4 data-id="heading-14">æ³›å‹æ–¹æ³•ä¸ params é›†åˆ</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æ³›å‹æ–¹æ³•ä¸­ä½¿ç”¨ params é›†åˆ</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProcessCollection</span>(<span class="hljs-params"><span class="hljs-keyword">params</span> List collection</span>)
    <span class="hljs-keyword">where</span> T : <span class="hljs-keyword">notnull</span></span>
{
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> collection)
    {
        Console.WriteLine(item);
    }
}

<span class="hljs-comment">// è°ƒç”¨</span>
ProcessCollection(&amp;<span class="hljs-meta">#34;a&amp;#34;, &amp;#34;b&amp;#34;, &amp;#34;c&amp;#34;); // å­—ç¬¦ä¸²åˆ—è¡¨</span>
ProcessCollection(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);       <span class="hljs-comment">// æ•´æ•°åˆ—è¡¨</span>
</code></pre>
<h4 data-id="heading-15">ä¸æ¨¡å¼åŒ¹é…ç»“åˆä½¿ç”¨</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä½¿ç”¨æ¨¡å¼åŒ¹é…å¤„ç† params é›†åˆ</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">HandleValues</span>(<span class="hljs-params"><span class="hljs-keyword">params</span> <span class="hljs-built_in">int</span>[] values</span>)</span>
{
    <span class="hljs-keyword">switch</span> (values)
    {
        <span class="hljs-keyword">case</span> [<span class="hljs-keyword">var</span> first, .. <span class="hljs-keyword">var</span> middle, <span class="hljs-keyword">var</span> last]:
            Console.WriteLine($&amp;<span class="hljs-meta">#34;é¦–: {first}, å°¾: {last}, ä¸­é—´æœ‰ {middle.Length} ä¸ªå…ƒç´ &amp;#34;);</span>
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> [<span class="hljs-keyword">var</span> single]:
            Console.WriteLine($&amp;<span class="hljs-meta">#34;å•ä¸ªå€¼: {single}&amp;#34;);</span>
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> []:
            Console.WriteLine(&amp;<span class="hljs-meta">#34;ç©ºé›†åˆ&amp;#34;);</span>
            <span class="hljs-keyword">break</span>;
    }
}

<span class="hljs-comment">// è°ƒç”¨</span>
HandleValues(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>); <span class="hljs-comment">// è¾“å‡º: é¦–: 1, å°¾: 5, ä¸­é—´æœ‰ 3 ä¸ªå…ƒç´ </span>
HandleValues(<span class="hljs-number">42</span>);            <span class="hljs-comment">// è¾“å‡º: å•ä¸ªå€¼: 42</span>
HandleValues();              <span class="hljs-comment">// è¾“å‡º: ç©ºé›†åˆ</span>
</code></pre>
<h4 data-id="heading-16">ä¸æ¥å£ç»“åˆä½¿ç”¨</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä½¿ç”¨æ¥å£ä½œä¸º params å‚æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ProcessEnumerables</span>(<span class="hljs-params"><span class="hljs-keyword">params</span> IEnumerable[] collections</span>)</span>
{
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> collection <span class="hljs-keyword">in</span> collections)
    {
        <span class="hljs-built_in">int</span> sum = collection.Sum();
        Console.WriteLine($&amp;<span class="hljs-meta">#34;é›†åˆæ€»å’Œ: {sum}&amp;#34;);</span>
    }
}

<span class="hljs-comment">// è°ƒç”¨</span>
ProcessEnumerables(
    <span class="hljs-keyword">new</span> List { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span> },
    <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[] { <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span> },
    <span class="hljs-keyword">new</span> HashSet { <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span> }
);
</code></pre>
<h4 data-id="heading-17">é«˜æ€§èƒ½æ±‚å’Œï¼ˆä½¿ç”¨ <code>Span</code>ï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-built_in">decimal</span> <span class="hljs-title">Average</span>(<span class="hljs-params"><span class="hljs-keyword">params</span> Span numbers</span>)</span>
{
    <span class="hljs-keyword">if</span> (numbers.Length == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
    <span class="hljs-built_in">decimal</span> sum = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> num <span class="hljs-keyword">in</span> numbers)
    {
        sum += num;
    }
    <span class="hljs-keyword">return</span> sum / numbers.Length;
}

Console.WriteLine(Average(<span class="hljs-number">1.5</span>m, <span class="hljs-number">2.5</span>m, <span class="hljs-number">3.5</span>m)); <span class="hljs-comment">// è¾“å‡º: 2.5</span>
</code></pre>
<ul>
<li>
<p>ä½¿ç”¨ <code>Span</code> é¿å…æ•°ç»„åˆ†é…ï¼Œæé«˜æ€§èƒ½ã€‚</p>
</li>
<li>
<p>é€‚åˆå¤„ç†å¤§é‡æ•°å€¼è®¡ç®—ã€‚</p>
</li>
</ul>
<h3 data-id="heading-18">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>
<p>ç®€åŒ–æ–¹æ³•è°ƒç”¨ï¼šå…è®¸è°ƒç”¨è€…ä¼ é€’ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå‡å°‘é‡è½½éœ€æ±‚ã€‚</p>
</li>
<li>
<p>å¤„ç†é›†åˆæ•°æ®ï¼šé€‚åˆå¤„ç†åˆ—è¡¨ã€æ•°ç»„æˆ–åºåˆ—ï¼Œä¾‹å¦‚æ—¥å¿—è®°å½•ã€å­—ç¬¦ä¸²è¿æ¥ã€æ•°å­¦è®¡ç®—ã€‚</p>
</li>
<li>
<p>é«˜æ€§èƒ½åœºæ™¯ï¼ˆ<code>C# 12+</code>ï¼‰ï¼šä½¿ç”¨ <code>Span</code> æˆ– <code>ReadOnlySpan</code> å‡å°‘å †åˆ†é…ï¼Œä¼˜åŒ–æ€§èƒ½ã€‚</p>
</li>
<li>
<p>ä¸æœ¬æœºä»£ç äº¤äº’ï¼š<code>Span</code> ç±»å‹çš„ <code>params</code> å‚æ•°é€‚åˆä¼ é€’è¿ç»­å†…å­˜å—ã€‚</p>
</li>
<li>
<p>çµæ´»æ¥å£è®¾è®¡ï¼šä¸ºæ–¹æ³•æä¾›é€šç”¨æ¥å£ï¼Œæ”¯æŒä¸åŒæ•°é‡çš„è¾“å…¥ã€‚</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Compose é«˜çº§çŠ¶æ€å’Œé™„å¸¦æ•ˆåº”]]></title>    <link>https://juejin.cn/post/7582231988146782259</link>    <guid>https://juejin.cn/post/7582231988146782259</guid>    <pubDate>2025-12-11T09:00:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582231988146782259" data-draft-id="7581648776302690313" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Compose é«˜çº§çŠ¶æ€å’Œé™„å¸¦æ•ˆåº”"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-11T09:00:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Best_Jerry"/> <meta itemprop="url" content="https://juejin.cn/user/1099167360106999"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Compose é«˜çº§çŠ¶æ€å’Œé™„å¸¦æ•ˆåº”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1099167360106999/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Best_Jerry
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T09:00:47.000Z" title="Thu Dec 11 2025 09:00:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»24åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fcodelabs%2Fjetpack-compose-advanced-state-side-effects%3Fhl%3Dzh-cn%26continue%3Dhttps%253A%252F%252Fdeveloper.android.com%252Fcourses%252Fpathways%252Fjetpack-compose-for-android-developers-3%253Fhl%253Dzh-cn%2523codelab-https%253A%252F%252Fdeveloper.android.com%252Fcodelabs%252Fjetpack-compose-advanced-state-side-effects%230" target="_blank" title="https://developer.android.com/codelabs/jetpack-compose-advanced-state-side-effects?hl=zh-cn&amp;continue=https%3A%2F%2Fdeveloper.android.com%2Fcourses%2Fpathways%2Fjetpack-compose-for-android-developers-3%3Fhl%3Dzh-cn%23codelab-https%3A%2F%2Fdeveloper.android.com%2Fcodelabs%2Fjetpack-compose-advanced-state-side-effects#0" ref="nofollow noopener noreferrer">Jetpack Compose ä¸­çš„é«˜çº§çŠ¶æ€å’Œé™„å¸¦æ•ˆåº”</a></p>
<p>äº†è§£ä¸ Jetpack Compose ä¸­çš„çŠ¶æ€å’Œé™„å¸¦æ•ˆåº” API ç›¸å…³çš„é«˜çº§æ¦‚å¿µã€‚äº†è§£å¦‚ä½•ä¸ºå¤æ‚çš„æœ‰çŠ¶æ€å¯ç»„åˆé¡¹åˆ›å»ºçŠ¶æ€å®¹å™¨ã€é€šè¿‡ Compose ä»£ç åˆ›å»ºåç¨‹å’Œè°ƒç”¨æŒ‚èµ·å‡½æ•°ï¼Œä»¥åŠé’ˆå¯¹ä¸åŒçš„ç”¨ä¾‹è§¦å‘é™„å¸¦æ•ˆåº”ã€‚</p>
<h2 data-id="heading-0">1. ç®€ä»‹</h2>
<p>åœ¨æ­¤ Codelab ä¸­ï¼Œæ‚¨å°†å­¦ä¹ ä¸Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/jetpack/compose?hl=zh-cn" ref="nofollow noopener noreferrer">Jetpack Compose</a>Â ä¸­çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Fstate%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/jetpack/compose/state?hl=zh-cn" ref="nofollow noopener noreferrer">çŠ¶æ€</a>å’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Fside-effects%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/jetpack/compose/side-effects?hl=zh-cn" ref="nofollow noopener noreferrer">é™„å¸¦æ•ˆåº”</a>Â API ç›¸å…³çš„é«˜çº§æ¦‚å¿µã€‚æ‚¨å°†äº†è§£å¦‚ä½•ä¸ºé€»è¾‘å¹¶ä¸ç®€å•çš„æœ‰çŠ¶æ€å¯ç»„åˆé¡¹åˆ›å»ºçŠ¶æ€å®¹å™¨ï¼Œå¦‚ä½•ä» Compose ä»£ç åˆ›å»ºåç¨‹å¹¶è°ƒç”¨æŒ‚èµ·å‡½æ•°ï¼Œä»¥åŠå¦‚ä½•è§¦å‘é™„å¸¦æ•ˆåº”ä»¥å®Œæˆä¸åŒçš„ç”¨ä¾‹ã€‚</p>
<h3 data-id="heading-1">å­¦ä¹ å†…å®¹</h3>
<ul>
<li>å¦‚ä½•ä» Compose ä»£ç è§‚å¯Ÿæ•°æ®æµä»¥æ›´æ–°ç•Œé¢ã€‚</li>
<li>å¦‚ä½•ä¸ºæœ‰çŠ¶æ€å¯ç»„åˆé¡¹åˆ›å»ºçŠ¶æ€å®¹å™¨ã€‚</li>
<li>é™„å¸¦æ•ˆåº” APIï¼Œå¦‚Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23LaunchedEffect(kotlin.Any%2Ckotlin.coroutines.SuspendFunction1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#LaunchedEffect(kotlin.Any,kotlin.coroutines.SuspendFunction1)" ref="nofollow noopener noreferrer"><code>LaunchedEffect</code></a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23rememberUpdatedState(kotlin.Any)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#rememberUpdatedState(kotlin.Any)" ref="nofollow noopener noreferrer"><code>rememberUpdatedState</code></a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23DisposableEffect(kotlin.Any%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#DisposableEffect(kotlin.Any,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>DisposableEffect</code></a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23produceState(kotlin.Any%2Ckotlin.coroutines.SuspendFunction1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#produceState(kotlin.Any,kotlin.coroutines.SuspendFunction1)" ref="nofollow noopener noreferrer"><code>produceState</code></a>Â å’ŒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23derivedStateOf(kotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#derivedStateOf(kotlin.Function0)" ref="nofollow noopener noreferrer"><code>derivedStateOf</code></a>ã€‚</li>
<li>å¦‚ä½•ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23rememberCoroutineScope(kotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#rememberCoroutineScope(kotlin.Function0)" ref="nofollow noopener noreferrer"><code>rememberCoroutineScope</code></a>Â API åœ¨å¯ç»„åˆé¡¹ä¸­åˆ›å»ºåç¨‹å¹¶è°ƒç”¨æŒ‚èµ·å‡½æ•°ã€‚</li>
</ul>
<h3 data-id="heading-2">æ„å»ºå†…å®¹</h3>
<p>åœ¨æ­¤ Codelab ä¸­ï¼Œæ‚¨å°†ä»ä¸€ä¸ªæœªå®Œæˆçš„åº”ç”¨ï¼ˆå³Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmaterial.io%2Fdesign%2Fmaterial-studies%2Fcrane.html" target="_blank" title="https://material.io/design/material-studies/crane.html" ref="nofollow noopener noreferrer">Crane ææ–™ç ”ç©¶</a>åº”ç”¨ï¼‰ç€æ‰‹ï¼Œå¹¶ä¸”å°†æ·»åŠ ä¸€äº›åŠŸèƒ½æ¥æ”¹è¿›è¯¥åº”ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/218536e9496a435fb0681a2146737071~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=kqIGHfyp0F6%2F%2F%2FJJ5fFJJuqCOMM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">2. å‡†å¤‡å·¥ä½œ</h2>
<h3 data-id="heading-4">è·å–ä»£ç </h3>
<p>æ­¤ Codelab çš„ä»£ç å¯ä»¥åœ¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgooglecodelabs%2Fandroid-compose-codelabs" target="_blank" title="https://github.com/googlecodelabs/android-compose-codelabs" ref="nofollow noopener noreferrer">android-compose-codelabs GitHub ä»£ç åº“</a>ä¸­æ‰¾åˆ°ã€‚å¦‚éœ€å…‹éš†è¯¥ä»£ç åº“ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">$ </span><span class="bash">git <span class="hljs-built_in">clone</span> https://github.com/android/codelab-android-compose</span>
</code></pre>
<p>æˆ–è€…ï¼Œæ‚¨ä¹Ÿèƒ½ä»¥ Zip æ–‡ä»¶çš„å½¢å¼ä¸‹è½½è¯¥ä»£ç åº“ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fandroid%2Fcodelab-android-compose%2Farchive%2Fmain.zip" target="_blank" title="https://github.com/android/codelab-android-compose/archive/main.zip" ref="nofollow noopener noreferrer">file_downloadä¸‹è½½ ZIP æ–‡ä»¶</a></p>
<h3 data-id="heading-5">æŸ¥çœ‹ç¤ºä¾‹åº”ç”¨</h3>
<p>æ‚¨åˆšåˆšä¸‹è½½çš„ä»£ç åŒ…å«æä¾›çš„æ‰€æœ‰ Compose Codelab çš„ä»£ç ã€‚ä¸ºäº†å®Œæˆæ­¤ Codelabï¼Œè¯·åœ¨ Android Studio ä¸­æ‰“å¼€Â <strong><code>AdvancedStateAndSideEffectsCodelab</code></strong>Â é¡¹ç›®ã€‚</p>
<blockquote>
<p>compose-codelabs åº“åŒ…å«å¼€å‘è€…åœ¨çº¿è¯¾ç¨‹ä¸­æ‰€æœ‰ Codelab çš„èµ·å§‹ä»£ç ã€‚</p>
<p>å¯¹äºæ­¤ Codelabï¼Œè¯·ä½¿ç”¨Â <strong>AdvancedStateAndSideEffectsCodelab</strong>Â é¡¹ç›®ã€‚</p>
<ul>
<li><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6403907abaa41fab678e0688b3684a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=hEMriE4dN0WgBVdsYRGV959b%2FMs%3D" alt="android_studio_folder.png" loading="lazy"/>Â <strong>AdvancedStateAndSideEffectsCodelab</strong>Â - è¯¥é¡¹ç›®åŒ…å«æ­¤ Codelab çš„èµ·å§‹ä»£ç å’Œå®Œæˆåçš„ä»£ç ã€‚</li>
</ul>
<p>è¯¥é¡¹ç›®åœ¨å¤šä¸ª git åˆ†æ”¯ä¸­æ„å»ºè€Œæˆï¼š</p>
<ul>
<li><strong>main</strong>Â - è¯¥é¡¹ç›®çš„èµ·å§‹ä»£ç ï¼›æ‚¨å°†æ›´æ”¹è¿™äº›ä»£ç æ¥å®Œæˆæ­¤ Codelabã€‚</li>
<li><strong>end</strong>Â - åŒ…å«æ­¤ Codelab çš„è§£å†³æ–¹æ¡ˆã€‚</li>
</ul>
</blockquote>
<p>æˆ‘ä»¬å»ºè®®æ‚¨ä» main åˆ†æ”¯ä¸­çš„ä»£ç ç€æ‰‹ï¼ŒæŒ‰ç…§è‡ªå·±çš„èŠ‚å¥é€æ­¥å®Œæˆæ­¤ Codelabã€‚</p>
<p>åœ¨æœ¬ Codelab ä¸­ï¼Œç³»ç»Ÿä¼šä¸ºæ‚¨æ˜¾ç¤ºéœ€è¦æ·»åŠ åˆ°é¡¹ç›®çš„ä»£ç æ®µã€‚åœ¨æŸäº›åœ°æ–¹ï¼Œæ‚¨è¿˜éœ€è¦ç§»é™¤åœ¨ä»£ç æ®µçš„æ³¨é‡Šä¸­æ˜ç¡®æåŠçš„ä»£ç ã€‚</p>
<h3 data-id="heading-6">ç†Ÿæ‚‰ä»£ç å¹¶è¿è¡Œç¤ºä¾‹åº”ç”¨</h3>
<p>å…ˆèŠ±ç‚¹æ—¶é—´æµè§ˆä¸€ä¸‹é¡¹ç›®ç»“æ„ï¼Œç„¶åå†è¿è¡Œåº”ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0938746571fd46028bd2fbae0acdd71d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=wajQEIjQPPLXYQhdH224t6h55Ks%3D" alt="162c42b19dafa701.png" loading="lazy"/></p>
<p>ä» main åˆ†æ”¯è¿è¡Œåº”ç”¨æ—¶ï¼Œæ‚¨ä¼šçœ‹åˆ°æŸäº›åŠŸèƒ½ï¼ˆå¦‚æŠ½å±‰å¼å¯¼èˆªæ æˆ–åŠ è½½èˆªç­ç›®çš„åœ°çš„åŠŸèƒ½ï¼‰ä¸èµ·ä½œç”¨ï¼è¿™å°±æ˜¯æ‚¨åœ¨æ­¤ Codelab çš„åç»­æ­¥éª¤ä¸­è¦æ”¹è¿›çš„åœ°æ–¹ã€‚</p>
<h3 data-id="heading-7">ç•Œé¢æµ‹è¯•</h3>
<p>ç³»ç»Ÿä¼šå¯¹åº”ç”¨æ‰§è¡ŒÂ <code>androidTest</code>Â æ–‡ä»¶å¤¹ä¸­æä¾›çš„éå¸¸åŸºæœ¬çš„ç•Œé¢æµ‹è¯•ã€‚å¯¹äºÂ <code>main</code>Â å’ŒÂ <code>end</code>Â åˆ†æ”¯ï¼Œå§‹ç»ˆéƒ½åº”é€šè¿‡è¿™äº›æµ‹è¯•ã€‚</p>
<h3 data-id="heading-8">[å¯é€‰] åœ¨è¯¦æƒ…å±å¹•ä¸Šæ˜¾ç¤ºåœ°å›¾</h3>
<p>å®Œå…¨æ²¡æœ‰å¿…è¦æŒ‰ç…§ç›¸å…³è¯´æ˜åœ¨è¯¦æƒ…å±å¹•ä¸Šæ˜¾ç¤ºåŸå¸‚åœ°å›¾ã€‚ä¸è¿‡ï¼Œå¦‚æœæ‚¨æƒ³è¦çœ‹åˆ°åœ°å›¾ï¼Œé‚£ä¹ˆéœ€è¦è·å–ä¸ªäºº API å¯†é’¥ï¼Œå¦‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fandroid-sdk%2Fget-api-key%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/android-sdk/get-api-key?hl=zh-cn" ref="nofollow noopener noreferrer">â€œåœ°å›¾â€æ–‡æ¡£</a>ä¸­æ‰€è¿°ã€‚æŒ‰å¦‚ä¸‹æ–¹å¼åœ¨Â <code>local.properties</code>Â æ–‡ä»¶ä¸­æ·»åŠ è¯¥å¯†é’¥ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// local.properties file
<span class="hljs-attr">google.maps.key</span>={insert_your_api_key_here}
</code></pre>
<blockquote>
<p>åœ¨ Google ä¿¡æ¯ä¸­å¿ƒå†…è®¾ç½®å‡­æ®æ—¶ï¼ŒåŠ¡å¿…å°†Â <code>androidx.compose.samples.crane</code>Â ç”¨ä½œè½¯ä»¶åŒ…åç§°ï¼Œå¹¶å°†Â <code>A0:BD:B3:B6:F0:C4:BE:90:C6:9D:5F:4C:1D:F0:90:80:7F:D7:FE:1F</code>Â ç”¨ä½œ SHA-1 è¯ä¹¦æŒ‡çº¹ã€‚</p>
</blockquote>
<h3 data-id="heading-9">æ­¤ Codelab çš„è§£å†³æ–¹æ¡ˆ</h3>
<p>å¦‚éœ€ä½¿ç”¨ git è·å–Â <code>end</code>Â åˆ†æ”¯ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-variable">$ </span>git clone -b <span class="hljs-keyword">end</span> <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/android</span><span class="hljs-regexp">/codelab-android-compose
</span></code></pre>
<p>æˆ–è€…ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨æ­¤å¤„ä¸‹è½½è§£å†³æ–¹æ¡ˆä»£ç ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fandroid%2Fcodelab-android-compose%2Farchive%2Fend.zip" target="_blank" title="https://github.com/android/codelab-android-compose/archive/end.zip" ref="nofollow noopener noreferrer">file_downloadä¸‹è½½æœ€ç»ˆä»£ç </a></p>
<h2 data-id="heading-10">3. ç•Œé¢çŠ¶æ€ç”Ÿæˆæµæ°´çº¿</h2>
<p>æ‚¨å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œä»Â <code>main</code>Â åˆ†æ”¯è¿è¡Œåº”ç”¨æ—¶ï¼Œèˆªç­ç›®çš„åœ°åˆ—è¡¨ä¸ºç©ºï¼</p>
<p>å¦‚è¦è§£å†³æ­¤é—®é¢˜ï¼Œæ‚¨å¿…é¡»å®Œæˆä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤ï¼š</p>
<ul>
<li>åœ¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Flibraries%2Farchitecture%2Fviewmodel%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/topic/libraries/architecture/viewmodel?hl=zh-cn" ref="nofollow noopener noreferrer"><code>ViewModel</code></a>Â ä¸­æ·»åŠ é€»è¾‘ä»¥ç”Ÿæˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Farchitecture%2Fui-layer%2Fstateholders%3Fhl%3Dzh-cn%23elements-ui" target="_blank" title="https://developer.android.com/topic/architecture/ui-layer/stateholders?hl=zh-cn#elements-ui" ref="nofollow noopener noreferrer">ç•Œé¢çŠ¶æ€</a>ã€‚åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œå³æ¨èç›®çš„åœ°åˆ—è¡¨ã€‚</li>
<li>ä»ç•Œé¢å–ç”¨è¯¥ç•Œé¢çŠ¶æ€ï¼Œè¿™æ ·å°±ä¼šåœ¨ç”»é¢ä¸Šæ˜¾ç¤ºç•Œé¢ã€‚</li>
</ul>
<p>è‰¯å¥½çš„åº”ç”¨æ¶æ„ä¼šåˆ†å±‚çº§ï¼Œéµå¾ªåŸºæœ¬çš„è‰¯å¥½ç³»ç»Ÿè®¾è®¡å®è·µï¼Œä¾‹å¦‚å…³æ³¨ç‚¹åˆ†ç¦»å’Œå¯æµ‹è¯•æ€§ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Farchitecture%2Fui-layer%2Fstate-production%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/topic/architecture/ui-layer/state-production?hl=zh-cn" ref="nofollow noopener noreferrer">ç•Œé¢çŠ¶æ€ç”Ÿæˆ</a>æ˜¯æŒ‡ä»¥ä¸‹è¿‡ç¨‹ï¼šåº”ç”¨è®¿é—®æ•°æ®å±‚ã€åº”ç”¨ä¸šåŠ¡è§„åˆ™ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼Œä»¥åŠå…¬å¼€è¦ä»ç•Œé¢å–ç”¨çš„ç•Œé¢çŠ¶æ€ã€‚</p>
<p>æ­¤åº”ç”¨ä¸­çš„æ•°æ®å±‚å·²å®ç°ã€‚ç°åœ¨ï¼Œæ‚¨å°†ç”ŸæˆçŠ¶æ€ï¼ˆæ¨èç›®çš„åœ°åˆ—è¡¨ï¼‰ï¼Œä»¥ä¾¿ç•Œé¢å¯ä»¥å–ç”¨è¯¥çŠ¶æ€ã€‚</p>
<p>æœ‰å‡ ä¸ª API å¯ç”¨äºç”Ÿæˆç•Œé¢çŠ¶æ€ã€‚å¦‚è¦äº†è§£æ›¿ä»£æ–¹æ¡ˆï¼Œè¯·å‚é˜…<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Farchitecture%2Fui-layer%2Fstate-production%3Fhl%3Dzh-cn%23output-types" target="_blank" title="https://developer.android.com/topic/architecture/ui-layer/state-production?hl=zh-cn#output-types" ref="nofollow noopener noreferrer">çŠ¶æ€ç”Ÿæˆæµæ°´çº¿ä¸­çš„è¾“å‡ºç±»å‹</a>æ–‡æ¡£ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œæœ€å¥½ä½¿ç”¨ Kotlin çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlinlang.org%2Fapi%2Fkotlinx.coroutines%2Fkotlinx-coroutines-core%2Fkotlinx.coroutines.flow%2F-state-flow%2F" target="_blank" title="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-state-flow/" ref="nofollow noopener noreferrer"><code>StateFlow</code></a>Â ç”Ÿæˆç•Œé¢çŠ¶æ€ã€‚</p>
<p>å¦‚è¦ç”Ÿæˆç•Œé¢çŠ¶æ€ï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
<ol>
<li>æ‰“å¼€Â <code>home/MainViewModel.kt</code>ã€‚</li>
<li>å®šä¹‰ä¸€ä¸ªç±»å‹ä¸ºÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlinlang.org%2Fapi%2Fkotlinx.coroutines%2Fkotlinx-coroutines-core%2Fkotlinx.coroutines.flow%2F-mutable-state-flow%2F" target="_blank" title="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-mutable-state-flow/" ref="nofollow noopener noreferrer"><code>MutableStateFlow</code></a>Â çš„ç§æœ‰Â <code>_suggestedDestinations</code>Â å˜é‡ï¼Œç”¨äºè¡¨ç¤ºæ¨èç›®çš„åœ°åˆ—è¡¨ï¼Œå¹¶å°†ç©ºåˆ—è¡¨è®¾ç½®ä¸ºèµ·å§‹å€¼ã€‚</li>
</ol>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _suggestedDestinations = MutableStateFlow&lt;List&lt;ExploreModel&gt;&gt;(emptyList())
</code></pre>
<ol start="3">
<li>å®šä¹‰ç¬¬äºŒä¸ªä¸å¯å˜å˜é‡Â <code>suggestedDestinations</code>ï¼Œç±»å‹ä¸ºÂ <code>StateFlow</code>ã€‚è¿™æ˜¯å¯ä»ç•Œé¢å–ç”¨çš„å…¬å¼€åªè¯»å˜é‡ã€‚å»ºè®®æ‚¨å…¬å¼€åªè¯»å˜é‡ï¼Œå¹¶åœ¨å†…éƒ¨ä½¿ç”¨å¯å˜å˜é‡ã€‚è¿™æ ·åšå¯ç¡®ä¿ç•Œé¢çŠ¶æ€æ— æ³•ä¿®æ”¹ï¼Œé™¤éé€šè¿‡Â <code>ViewModel</code>Â ä½¿å…¶æˆä¸ºå•ä¸€å¯ä¿¡æ¥æºã€‚æ‰©å±•å‡½æ•°Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlinlang.org%2Fapi%2Fkotlinx.coroutines%2Fkotlinx-coroutines-core%2Fkotlinx.coroutines.flow%2Fas-state-flow.html" target="_blank" title="https://kotlinlang.org/api/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/as-state-flow.html" ref="nofollow noopener noreferrer"><code>asStateFlow</code></a>Â ä¼šå°†å¯å˜æµè½¬æ¢ä¸ºä¸å¯å˜æµã€‚</li>
</ol>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _suggestedDestinations = MutableStateFlow&lt;List&lt;ExploreModel&gt;&gt;(emptyList())

<span class="hljs-keyword">val</span> suggestedDestinations: StateFlow&lt;List&lt;ExploreModel&gt;&gt; = _suggestedDestinations.asStateFlow()
</code></pre>
<ol start="4">
<li>åœ¨Â <code>ViewModel</code>Â çš„ init å—ä¸­ï¼Œæ·»åŠ æ¥è‡ªÂ <code>destinationsRepository</code>Â çš„è°ƒç”¨ï¼Œä»¥ä¾¿ä»æ•°æ®å±‚è·å–ç›®çš„åœ°ã€‚</li>
</ol>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _suggestedDestinations = MutableStateFlow&lt;List&lt;ExploreModel&gt;&gt;(emptyList())

<span class="hljs-keyword">val</span> suggestedDestinations: StateFlow&lt;List&lt;ExploreModel&gt;&gt; = _suggestedDestinations.asStateFlow()

<span class="hljs-keyword">init</span> {
Â  Â  _suggestedDestinations.value = destinationsRepository.destinations
}
</code></pre>
<ol start="5">
<li>æœ€åï¼Œå–æ¶ˆæ³¨é‡Šåœ¨æ­¤ç±»ä¸­æ‰¾åˆ°çš„å†…éƒ¨å˜é‡Â <code>_suggestedDestinations</code>Â ä½¿ç”¨æƒ…å†µï¼Œä»¥ä¾¿å¯é€šè¿‡æ¥è‡ªç•Œé¢çš„äº‹ä»¶æ­£ç¡®æ›´æ–°è¯¥å˜é‡ã€‚</li>
</ol>
<p>ç°åœ¨ï¼Œ<code>ViewModel</code>Â èƒ½å¤Ÿç”Ÿæˆç•Œé¢çŠ¶æ€ã€‚åœ¨ä¸‹ä¸€æ­¥ä¸­ï¼Œæ‚¨å°†ä»ç•Œé¢å–ç”¨æ­¤çŠ¶æ€ã€‚</p>
<h2 data-id="heading-11">4. ä» ViewModel å®‰å…¨åœ°ä½¿ç”¨æµ</h2>
<p>èˆªç­ç›®çš„åœ°åˆ—è¡¨ä»ç„¶ä¸ºç©ºã€‚åœ¨ä¸Šä¸€æ­¥ä¸­ï¼Œæ‚¨åœ¨Â <code>MainViewModel</code>Â ä¸­ç”Ÿæˆäº†ç•Œé¢çŠ¶æ€ã€‚ç°åœ¨ï¼Œæ‚¨å°†ä½¿ç”¨è¦åœ¨ç•Œé¢ä¸­æ˜¾ç¤ºå¹¶ç”±Â <code>MainViewModel</code>Â å…¬å¼€çš„ç•Œé¢çŠ¶æ€ã€‚</p>
<p>æ‰“å¼€Â <code>home/CraneHome.kt</code>Â æ–‡ä»¶å¹¶æŸ¥çœ‹Â <code>CraneHomeContent</code>Â å¯ç»„åˆé¡¹ã€‚</p>
<p>è¢«åˆ†é…ç»™ä¸€ä¸ªè®°ä½çš„ç©ºåˆ—è¡¨çš„Â <code>suggestedDestinations</code>Â çš„å®šä¹‰ä¸Šé¢æœ‰ä¸€æ¡ TODO æ³¨é‡Šã€‚è¿™å°±æ˜¯å±å¹•ä¸Šæ˜¾ç¤ºçš„å†…å®¹ï¼šä¸€ä¸ªç©ºåˆ—è¡¨ï¼åœ¨æ­¤æ­¥éª¤ä¸­ï¼Œæ‚¨å°†è§£å†³è¯¥é—®é¢˜ï¼Œå¹¶æ˜¾ç¤ºÂ <code>MainViewModel</code>Â å…¬å¼€çš„æ¨èç›®çš„åœ°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2fa34cb764894f04ba0583dc19732ebe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=C9umu%2BSd9r5UJA%2FzEi%2FkfXYu8z8%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“å¼€Â <code>home/MainViewModel.kt</code>Â å¹¶æŸ¥çœ‹Â <code>suggestedDestinations</code>Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fkotlin%2Fflow%2Fstateflow-and-sharedflow%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/kotlin/flow/stateflow-and-sharedflow?hl=zh-cn" ref="nofollow noopener noreferrer">StateFlow</a>ï¼Œè¯¥ StateFlow åˆå§‹åŒ–ä¸ºÂ <code>destinationsRepository.destinations</code>ï¼Œå¹¶ä¸”ä¼šåœ¨è°ƒç”¨Â <code>updatePeople</code>Â æˆ–Â <code>toDestinationChanged</code>Â å‡½æ•°æ—¶å¾—åˆ°æ›´æ–°ã€‚</p>
<p>æ‚¨å¸Œæœ›æ¯å½“æœ‰æ–°é¡¹è¢«å‘é€åˆ°Â <code>suggestedDestinations</code>Â æ•°æ®æµæ—¶Â <code>CraneHomeContent</code>Â å¯ç»„åˆé¡¹ä¸­çš„ç•Œé¢éƒ½ä¼šæ›´æ–°ã€‚æ‚¨å¯ä»¥ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Flifecycle%2Fcompose%2Fpackage-summary%3Fhl%3Dzh-cn%23(kotlinx.coroutines.flow.Flow).collectAsStateWithLifecycle(kotlin.Any%2Candroidx.lifecycle.Lifecycle%2Candroidx.lifecycle.Lifecycle.State%2Ckotlin.coroutines.CoroutineContext)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/lifecycle/compose/package-summary?hl=zh-cn#(kotlinx.coroutines.flow.Flow).collectAsStateWithLifecycle(kotlin.Any,androidx.lifecycle.Lifecycle,androidx.lifecycle.Lifecycle.State,kotlin.coroutines.CoroutineContext)" ref="nofollow noopener noreferrer"><code>collectAsStateWithLifecycle()</code></a>Â å‡½æ•°ã€‚<code>collectAsStateWithLifecycle()</code>Â ä¼šä»¥ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥å‹æ–¹å¼ä»Â <code>StateFlow</code>Â æ”¶é›†å€¼å¹¶é€šè¿‡ Compose çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2FState%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/State?hl=zh-cn" ref="nofollow noopener noreferrer">State</a>Â API è¡¨ç¤ºæœ€æ–°å€¼ã€‚è¿™æ ·ä¼šä½¿è¯»å–è¯¥çŠ¶æ€å€¼çš„ Compose ä»£ç åœ¨å‘å‡ºæ–°é¡¹æ—¶é‡ç»„ã€‚</p>
<p>å¦‚éœ€å¼€å§‹ä½¿ç”¨Â <code>collectAsStateWithLifecycle</code>Â APIï¼Œè¯·å…ˆåœ¨Â <code>app/build.gradle</code>Â ä¸­æ·»åŠ ä»¥ä¸‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fandroidx%2Freleases%2Flifecycle%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/jetpack/androidx/releases/lifecycle?hl=zh-cn" ref="nofollow noopener noreferrer">ä¾èµ–é¡¹</a>ã€‚å˜é‡Â <code>lifecycle_version</code>Â å·²åœ¨é¡¹ç›®ä¸­ä½¿ç”¨é€‚å½“ç‰ˆæœ¬è¿›è¡Œå®šä¹‰ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">dependencies {
Â  Â  implementation <span class="hljs-string">"androidx.lifecycle:lifecycle-runtime-compose:<span class="hljs-variable">$lifecycle_version</span>"</span>
}
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚éœ€è¯¦ç»†äº†è§£Â <code>collectAsStateWithLifecycle()</code>Â APIï¼Œè¯·å‚é˜…<a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2Fandroiddevelopers%2Fconsuming-flows-safely-in-jetpack-compose-cde014d0d5a3" target="_blank" title="https://medium.com/androiddevelopers/consuming-flows-safely-in-jetpack-compose-cde014d0d5a3" ref="nofollow noopener noreferrer">åœ¨ Jetpack Compose ä¸­å®‰å…¨åœ°ä½¿ç”¨æµ</a>è¿™ç¯‡åšæ–‡ã€‚</p>
</blockquote>
<p>è¿”å›Â <code>CraneHomeContent</code>Â å¯ç»„åˆé¡¹ï¼Œå¹¶å°†åˆ†é…Â <code>suggestedDestinations</code>Â çš„ä»£ç è¡Œæ›¿æ¢ä¸ºÂ <code>ViewModel</code>Â çš„Â <code>suggestedDestinations</code>Â å±æ€§ä¸Šçš„Â <code>collectAsStateWithLifecycle</code>Â è°ƒç”¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> androidx.lifecycle.compose.collectAsStateWithLifecycle

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CraneHomeContent</span><span class="hljs-params">(
Â  Â  onExploreItemClicked: <span class="hljs-type">OnExploreItemClicked</span>,
Â  Â  openDrawer: () -&gt; <span class="hljs-type">Unit</span>,
Â  Â  modifier: <span class="hljs-type">Modifier</span> = Modifier,
Â  Â  viewModel: <span class="hljs-type">MainViewModel</span> = viewModel()</span></span>,
) {
Â  Â  <span class="hljs-keyword">val</span> suggestedDestinations <span class="hljs-keyword">by</span> viewModel.suggestedDestinations.collectAsStateWithLifecycle()
Â  Â  <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>å¦‚æœæ‚¨è¿è¡Œåº”ç”¨ï¼Œæ‚¨ä¼šçœ‹åˆ°ç›®çš„åœ°åˆ—è¡¨å·²å¡«å……ï¼Œå¹¶ä¸”æ¯å½“æ‚¨ç‚¹æŒ‰æ—…è¡Œäººæ•°æ—¶ï¼Œç›®çš„åœ°éƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/215aaf4ff0dd4b2192a1bfd293b9768c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=7hq7zWN3WNYFxtSo0dQktRTKMfs%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>Compose è¿˜ä¸ºæœ€çƒ­é—¨çš„åŸºäºæ•°æ®æµçš„ Android è§£å†³æ–¹æ¡ˆæä¾›äº† APIï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Flivedata%2Fpackage-summary%3Fhl%3Dzh-cn%23observeAsState(androidx.lifecycle.LiveData)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/livedata/package-summary?hl=zh-cn#observeAsState(androidx.lifecycle.LiveData)" ref="nofollow noopener noreferrer"><code>LiveData.observeAsState()</code></a>Â åŒ…å«åœ¨Â <code>androidx.compose.runtime:runtime-livedata:$composeVersion</code>Â å·¥ä»¶ä¸­ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Frxjava2%2Fpackage-summary%3Fhl%3Dzh-cn%23subscribeAsState(io.reactivex.Observable%2Ckotlin.Any)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/rxjava2/package-summary?hl=zh-cn#subscribeAsState(io.reactivex.Observable,kotlin.Any)" ref="nofollow noopener noreferrer"><code>Observable.subscribeAsState()</code></a>Â åŒ…å«åœ¨Â <code>androidx.compose.runtime:runtime-rxjava2:$composeVersion</code>Â æˆ–Â <code>androidx.compose.runtime:runtime-rxjava3:$composeVersion</code>Â å·¥ä»¶ä¸­ã€‚</li>
</ul>
<p>å¦‚éœ€äº†è§£è¯¦æƒ…ï¼Œè¯·å‚é˜…â€œçŠ¶æ€â€æ–‡æ¡£ä¸­çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Fstate%3Fhl%3Dzh-cn%23use-other-types-of-state-in-jetpack-compose" target="_blank" title="https://developer.android.com/jetpack/compose/state?hl=zh-cn#use-other-types-of-state-in-jetpack-compose" ref="nofollow noopener noreferrer">å…¶ä»–å—æ”¯æŒçš„çŠ¶æ€ç±»å‹</a>é¡µé¢ã€‚</p>
</blockquote>
<h2 data-id="heading-12">5. LaunchedEffect å’Œ rememberUpdatedState</h2>
<p>åœ¨è¯¥é¡¹ç›®ä¸­ï¼Œæœ‰ä¸€ä¸ªç›®å‰æœªä½¿ç”¨çš„Â <code>home/LandingScreen.kt</code>Â æ–‡ä»¶ã€‚æ‚¨æƒ³è¦å‘åº”ç”¨æ·»åŠ ä¸€ä¸ªç€é™†å±å¹•ï¼Œå®ƒæœ‰å¯èƒ½ä¼šç”¨äºåœ¨åå°åŠ è½½éœ€è¦çš„æ‰€æœ‰æ•°æ®ã€‚</p>
<p>ç€é™†å±å¹•å°†å æ®æ•´ä¸ªå±å¹•ï¼Œå¹¶åœ¨å±å¹•ä¸­é—´æ˜¾ç¤ºåº”ç”¨çš„å¾½æ ‡ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œæ‚¨ä¼šæ˜¾ç¤ºè¯¥å±å¹•ï¼Œåœ¨æ‰€æœ‰æ•°æ®åŠ è½½å®Œæ¯•ä¹‹åï¼Œæ‚¨ä¼šé€šçŸ¥è°ƒç”¨æ–¹å¯ä»¥ä½¿ç”¨Â <code>onTimeout</code>Â å›è°ƒå…³é—­ç€é™†å±å¹•ã€‚</p>
<p>å»ºè®®ä½¿ç”¨ Kotlin åç¨‹åœ¨ Android ä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œã€‚åº”ç”¨åœ¨å¯åŠ¨æ—¶é€šå¸¸ä¼šä½¿ç”¨åç¨‹åœ¨åå°åŠ è½½å†…å®¹ã€‚Jetpack Compose æä¾›äº†å¯è®©æ‚¨åœ¨ç•Œé¢å±‚ä¸­å®‰å…¨ä½¿ç”¨åç¨‹çš„ APIã€‚ç”±äºæ­¤åº”ç”¨ä¸ä¸åç«¯è¿›è¡Œé€šä¿¡ï¼Œå› æ­¤æ‚¨å°†ä½¿ç”¨åç¨‹çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlin.github.io%2Fkotlinx.coroutines%2Fkotlinx-coroutines-core%2Fkotlinx.coroutines%2Fdelay.html" target="_blank" title="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/delay.html" ref="nofollow noopener noreferrer"><code>delay</code></a>Â å‡½æ•°æ¥æ¨¡æ‹Ÿåœ¨åå°åŠ è½½å†…å®¹ã€‚</p>
<blockquote>
<p><strong>Compose ä¸­çš„é™„å¸¦æ•ˆåº”æ˜¯æŒ‡å‘ç”Ÿåœ¨å¯ç»„åˆå‡½æ•°ä½œç”¨åŸŸä¹‹å¤–çš„åº”ç”¨çŠ¶æ€çš„å˜åŒ–ã€‚</strong> ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·ç‚¹æŒ‰ä¸€ä¸ªæŒ‰é’®æ—¶æ‰“å¼€ä¸€ä¸ªæ–°å±å¹•ï¼Œæˆ–è€…åœ¨åº”ç”¨æœªè¿æ¥åˆ°äº’è”ç½‘æ—¶æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ã€‚</p>
</blockquote>
<p>Compose ä¸­çš„é™„å¸¦æ•ˆåº”æ˜¯æŒ‡å‘ç”Ÿåœ¨å¯ç»„åˆå‡½æ•°ä½œç”¨åŸŸä¹‹å¤–çš„åº”ç”¨çŠ¶æ€çš„å˜åŒ–ã€‚å°†çŠ¶æ€æ›´æ”¹ä¸ºæ˜¾ç¤º/éšè—ç€é™†å±å¹•çš„æ“ä½œå°†å‘ç”Ÿåœ¨Â <code>onTimeout</code>Â å›è°ƒä¸­ï¼Œç”±äºåœ¨è°ƒç”¨Â <code>onTimeout</code>Â ä¹‹å‰æ‚¨éœ€è¦å…ˆä½¿ç”¨åç¨‹åŠ è½½å†…å®¹ï¼Œå› æ­¤çŠ¶æ€å˜åŒ–å¿…é¡»å‘ç”Ÿåœ¨åç¨‹çš„ä¸Šä¸‹æ–‡ä¸­ï¼</p>
<p>å¦‚éœ€ä»å¯ç»„åˆé¡¹å†…å®‰å…¨åœ°è°ƒç”¨æŒ‚èµ·å‡½æ•°ï¼Œè¯·ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23LaunchedEffect(kotlin.Any%2Ckotlin.coroutines.SuspendFunction1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#LaunchedEffect(kotlin.Any,kotlin.coroutines.SuspendFunction1)" ref="nofollow noopener noreferrer"><code>LaunchedEffect</code></a>Â APIï¼Œè¯¥ API ä¼šåœ¨ Compose ä¸­è§¦å‘åç¨‹ä½œç”¨åŸŸé™å®šçš„é™„å¸¦æ•ˆåº”ã€‚</p>
<p>å½“Â <code>LaunchedEffect</code>Â è¿›å…¥ç»„åˆæ—¶ï¼Œå®ƒä¼šå¯åŠ¨ä¸€ä¸ªåç¨‹ï¼Œå¹¶å°†ä»£ç å—ä½œä¸ºå‚æ•°ä¼ é€’ã€‚å¦‚æœÂ <code>LaunchedEffect</code>Â é€€å‡ºç»„åˆï¼Œåç¨‹å°†å–æ¶ˆã€‚</p>
<p>è™½ç„¶æ¥ä¸‹æ¥çš„ä»£ç ä¸æ­£ç¡®ï¼Œä½†è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨æ­¤ APIï¼Œå¹¶æ¢è®¨ä¸ºä»€ä¹ˆä¸‹é¢çš„ä»£ç æ˜¯é”™è¯¯çš„ã€‚æ‚¨å°†åœ¨æ­¤æ­¥éª¤çš„åé¢è°ƒç”¨Â <code>LandingScreen</code>Â å¯ç»„åˆé¡¹ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// home/LandingScreen.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.LaunchedEffect
<span class="hljs-keyword">import</span> kotlinx.coroutines.delay

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">LandingScreen</span><span class="hljs-params">(onTimeout: () -&gt; <span class="hljs-type">Unit</span>, modifier: <span class="hljs-type">Modifier</span> = Modifier)</span></span> {
Â  Â  Box(modifier = modifier.fillMaxSize(), contentAlignment = Alignment.Center) {
Â  Â  Â  Â  <span class="hljs-comment">// Start a side effect to load things in the background</span>
Â  Â  Â  Â  <span class="hljs-comment">// and call onTimeout() when finished.</span>
Â  Â  Â  Â  <span class="hljs-comment">// Passing onTimeout as a parameter to LaunchedEffect</span>
Â  Â  Â  Â  <span class="hljs-comment">// is wrong! Don't do this. We'll improve this code in a sec.</span>
Â  Â  Â  Â  LaunchedEffect(onTimeout) {
Â  Â  Â  Â  Â  Â  delay(SplashWaitTime) <span class="hljs-comment">// Simulates loading things</span>
Â  Â  Â  Â  Â  Â  onTimeout()
Â  Â  Â  Â  }
Â  Â  Â  Â  Image(painterResource(id = R.drawable.ic_crane_drawer), contentDescription = <span class="hljs-literal">null</span>)
Â  Â  }
}
</code></pre>
<p>æŸäº›é™„å¸¦æ•ˆåº” APIï¼ˆå¦‚Â <code>LaunchedEffect</code>ï¼‰å°†å¯å˜æ•°é‡çš„é”®ä½œä¸ºå½¢å‚ï¼Œç”¨äºåœ¨å…¶ä¸­ä¸€ä¸ªé”®å‘ç”Ÿæ›´æ”¹æ—¶<strong>é‡æ–°å¼€å§‹</strong>æ‰§è¡Œæ•ˆåº”ã€‚æ‚¨å‘ç°é”™è¯¯äº†å—ï¼Ÿæˆ‘ä»¬ä¸å¸Œæœ›åœ¨æ­¤å¯ç»„åˆå‡½æ•°çš„è°ƒç”¨æ–¹ä¼ é€’ä¸åŒçš„Â <code>onTimeout</code>Â lambda å€¼æ—¶é‡å¯Â <code>LaunchedEffect</code>ã€‚è¿™ä¼šè®©Â <code>delay</code>Â å†æ¬¡å¯åŠ¨ï¼Œä½¿å¾—æ‚¨æ— æ³•æ»¡è¶³ç›¸å…³è¦æ±‚ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å¦‚éœ€åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Flifecycle%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/jetpack/compose/lifecycle?hl=zh-cn" ref="nofollow noopener noreferrer">æ­¤å¯ç»„åˆé¡¹çš„ç”Ÿå‘½å‘¨æœŸ</a>å†…ä»…è§¦å‘ä¸€æ¬¡é™„å¸¦æ•ˆåº”ï¼Œè¯·å°†å¸¸é‡ç”¨ä½œé”®ï¼Œä¾‹å¦‚Â <code>LaunchedEffect(Unit) { ... }</code>ã€‚ä¸è¿‡ï¼Œç°åœ¨åˆæœ‰ä¸€ä¸ªé—®é¢˜ã€‚</p>
<p>å¦‚æœÂ <code>onTimeout</code>Â åœ¨é™„å¸¦æ•ˆåº”æ­£åœ¨è¿›è¡Œæ—¶å‘ç”Ÿå˜åŒ–ï¼Œæ•ˆåº”ç»“æŸæ—¶ä¸ä¸€å®šä¼šè°ƒç”¨æœ€åä¸€ä¸ªÂ <code>onTimeout</code>ã€‚å¦‚éœ€ä¿è¯è°ƒç”¨æœ€åä¸€ä¸ªÂ <code>onTimeout</code>ï¼Œè¯·ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23rememberUpdatedState(kotlin.Any)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#rememberUpdatedState(kotlin.Any)" ref="nofollow noopener noreferrer"><code>rememberUpdatedState</code></a>Â API è®°ä½Â <code>onTimeout</code>ã€‚æ­¤ API ä¼šæ•è·å¹¶æ›´æ–°æœ€æ–°å€¼ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// home/LandingScreen.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.getValue
<span class="hljs-keyword">import</span> androidx.compose.runtime.rememberUpdatedState
<span class="hljs-keyword">import</span> kotlinx.coroutines.delay

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">LandingScreen</span><span class="hljs-params">(onTimeout: () -&gt; <span class="hljs-type">Unit</span>, modifier: <span class="hljs-type">Modifier</span> = Modifier)</span></span> {
Â  Â  Box(modifier = modifier.fillMaxSize(), contentAlignment = Alignment.Center) {
Â  Â  Â  Â  <span class="hljs-comment">// This will always refer to the latest onTimeout function that</span>
Â  Â  Â  Â  <span class="hljs-comment">// LandingScreen was recomposed with</span>
Â  Â  Â  Â  <span class="hljs-keyword">val</span> currentOnTimeout <span class="hljs-keyword">by</span> rememberUpdatedState(onTimeout)

Â  Â  Â  Â  <span class="hljs-comment">// Create an effect that matches the lifecycle of LandingScreen.</span>
Â  Â  Â  Â  <span class="hljs-comment">// If LandingScreen recomposes or onTimeout changes, </span>
Â  Â  Â  Â  <span class="hljs-comment">// the delay shouldn't start again.</span>
Â  Â  Â  Â  LaunchedEffect(<span class="hljs-built_in">Unit</span>) {
Â  Â  Â  Â  Â  Â  delay(SplashWaitTime)
Â  Â  Â  Â  Â  Â  currentOnTimeout()
Â  Â  Â  Â  }

Â  Â  Â  Â  Image(painterResource(id = R.drawable.ic_crane_drawer), contentDescription = <span class="hljs-literal">null</span>)
Â  Â  }
}
</code></pre>
<p>å½“é•¿æœŸå­˜åœ¨çš„ lambda æˆ–å¯¹è±¡è¡¨è¾¾å¼å¼•ç”¨åœ¨ç»„åˆæœŸé—´è®¡ç®—çš„å‚æ•°æˆ–å€¼æ—¶ï¼Œæ‚¨åº”ä½¿ç”¨Â <code>rememberUpdatedState</code>ï¼Œè¿™åœ¨ä½¿ç”¨Â <code>LaunchedEffect</code>Â æ—¶å¯èƒ½å¾ˆå¸¸è§ã€‚</p>
<h3 data-id="heading-13">æ˜¾ç¤ºç€é™†å±å¹•</h3>
<p>ç°åœ¨ï¼Œæ‚¨éœ€è¦åœ¨åº”ç”¨æ‰“å¼€åæ˜¾ç¤ºç€é™†å±å¹•ã€‚æ‰“å¼€Â <code>home/MainActivity.kt</code>Â æ–‡ä»¶ï¼Œå¹¶æŸ¥çœ‹é¦–æ¬¡è°ƒç”¨çš„Â <code>MainScreen</code>Â å¯ç»„åˆé¡¹ã€‚</p>
<p>åœ¨Â <code>MainScreen</code>Â å¯ç»„åˆé¡¹ä¸­ï¼Œæ‚¨åªéœ€æ·»åŠ ä¸€ç§å†…éƒ¨çŠ¶æ€ï¼Œç”¨æ¥è·Ÿè¸ªæ˜¯å¦åº”æ˜¾ç¤ºç€é™†å±å¹•ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// home/MainActivity.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.getValue
<span class="hljs-keyword">import</span> androidx.compose.runtime.mutableStateOf
<span class="hljs-keyword">import</span> androidx.compose.runtime.remember
<span class="hljs-keyword">import</span> androidx.compose.runtime.setValue

<span class="hljs-meta">@Composable</span>
<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">MainScreen</span><span class="hljs-params">(onExploreItemClicked: <span class="hljs-type">OnExploreItemClicked</span>)</span></span> {
Â  Â  Surface(color = MaterialTheme.colors.primary) {
Â  Â  Â  Â  <span class="hljs-keyword">var</span> showLandingScreen <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-literal">true</span>) }
Â  Â  Â  Â  <span class="hljs-keyword">if</span> (showLandingScreen) {
Â  Â  Â  Â  Â  Â  LandingScreen(onTimeout = { showLandingScreen = <span class="hljs-literal">false</span> })
Â  Â  Â  Â  } <span class="hljs-keyword">else</span> {
Â  Â  Â  Â  Â  Â  CraneHome(onExploreItemClicked = onExploreItemClicked)
Â  Â  Â  Â  }
Â  Â  }
}
</code></pre>
<p>å¦‚æœæ‚¨ç°åœ¨è¿è¡Œåº”ç”¨ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°Â <code>LandingScreen</code>Â å‡ºç°å¹¶åœ¨ 2 ç§’åæ¶ˆå¤±ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9911e5fd229b4bcb8e972604a49eb90f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=DI%2Fgq2wjmkvxjnyBEqzMVFTaKKI%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-14">6. rememberCoroutineScope</h2>
<p>åœ¨æ­¤æ­¥éª¤ä¸­ï¼Œæ‚¨å°†ä½¿æŠ½å±‰å¼å¯¼èˆªæ æ­£å¸¸å·¥ä½œã€‚ç›®å‰ï¼Œå¦‚æœæ‚¨å°è¯•ç‚¹æŒ‰æ±‰å ¡å¼èœå•ï¼Œä»€ä¹ˆéƒ½ä¸ä¼šå‘ç”Ÿã€‚</p>
<p>æ‰“å¼€Â <code>home/CraneHome.kt</code>Â æ–‡ä»¶ï¼Œå¹¶æŸ¥çœ‹Â <code>CraneHome</code>Â å¯ç»„åˆé¡¹ï¼Œçœ‹çœ‹æ‚¨éœ€è¦åœ¨ä½•å¤„æ‰“å¼€æŠ½å±‰å¼å¯¼èˆªæ ï¼šåœ¨Â <code>openDrawer</code>Â å›è°ƒä¸­ï¼</p>
<p>åœ¨Â <code>CraneHome</code>Â ä¸­ï¼Œæœ‰ä¸€ä¸ªåŒ…å«Â <code>DrawerState</code>Â çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fmaterial%2FScaffoldState%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/material/ScaffoldState?hl=zh-cn" ref="nofollow noopener noreferrer"><code>scaffoldState</code></a>ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fmaterial%2FDrawerState%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/material/DrawerState?hl=zh-cn" ref="nofollow noopener noreferrer"><code>DrawerState</code></a>Â å…·æœ‰ä»¥ç¨‹åºåŒ–æ–¹å¼æ‰“å¼€å’Œå…³é—­æŠ½å±‰å¼å¯¼èˆªæ çš„æ–¹æ³•ã€‚ä¸è¿‡ï¼Œå¦‚æœæ‚¨å°è¯•åœ¨Â <code>openDrawer</code>Â å›è°ƒä¸­ç¼–å†™Â <code>scaffoldState.drawerState.open()</code>ï¼Œæ‚¨ä¼šæ”¶åˆ°ä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼è¿™æ˜¯å› ä¸ºï¼Œ<code>open</code>Â å‡½æ•°æ˜¯ä¸€ä¸ª<strong>æŒ‚èµ·</strong>å‡½æ•°ã€‚æˆ‘ä»¬å†æ¬¡è¿›å…¥åç¨‹çš„é¢†åŸŸã€‚</p>
<p>é™¤äº†å¯è®©æ‚¨ä»ç•Œé¢å±‚å®‰å…¨è°ƒç”¨åç¨‹çš„ API ä¹‹å¤–ï¼ŒæŸäº› Compose API æ˜¯æŒ‚èµ·å‡½æ•°ã€‚ç”¨äºæ‰“å¼€æŠ½å±‰å¼å¯¼èˆªæ çš„ API å°±æ˜¯ä¸€ä¸ªè¿™æ ·çš„ä¾‹å­ã€‚æŒ‚èµ·å‡½æ•°é™¤äº†èƒ½å¤Ÿè¿è¡Œå¼‚æ­¥ä»£ç ä¹‹å¤–ï¼Œè¿˜å¯ä»¥å¸®åŠ©è¡¨ç¤ºéšç€æ—¶é—´çš„æ¨ç§»å‡ºç°çš„æ¦‚å¿µã€‚æ‰“å¼€æŠ½å±‰å¼å¯¼èˆªæ éœ€è¦èŠ±äº›æ—¶é—´ã€è¿›è¡Œç§»åŠ¨ï¼Œè€Œä¸”è¿˜æœ‰å¯èƒ½éœ€è¦æ˜¾ç¤ºåŠ¨ç”»ï¼Œè¿™å¯ä»¥é€šè¿‡æŒ‚èµ·å‡½æ•°å®Œç¾åœ°åæ˜ å‡ºæ¥ï¼ŒæŒ‚èµ·å‡½æ•°å°†åœ¨è¢«è°ƒç”¨çš„åœ°æ–¹æš‚åœåç¨‹çš„æ‰§è¡Œï¼Œç›´åˆ°å®ƒå®Œæˆï¼Œç„¶åå†ç»§ç»­æ‰§è¡Œã€‚</p>
<p>å¿…é¡»åœ¨åç¨‹ä¸­è°ƒç”¨Â <code>scaffoldState.drawerState.open()</code>ã€‚æ‚¨å¯é‡‡å–çš„è¡ŒåŠ¨Â <code>openDrawer</code>Â æ˜¯ä¸€ä¸ªç®€å•çš„å›è°ƒå‡½æ•°ï¼Œå› æ­¤ï¼š</p>
<ul>
<li>æ‚¨ä¸èƒ½ç®€å•åœ°åœ¨å…¶ä¸­è°ƒç”¨æŒ‚èµ·å‡½æ•°ï¼Œå› ä¸ºÂ <code>openDrawer</code>Â ä¸åœ¨åç¨‹çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œã€‚</li>
<li>æ‚¨ä¸èƒ½åƒä¹‹å‰ä¸€æ ·ä½¿ç”¨Â <code>LaunchedEffect</code>ï¼Œå› ä¸ºä¸èƒ½åœ¨Â <code>openDrawer</code>Â ä¸­è°ƒç”¨å¯ç»„åˆé¡¹ã€‚æˆ‘ä»¬ä¸åœ¨ç»„åˆä¸­ã€‚</li>
</ul>
<p>æ‚¨å¸Œæœ›å¯åŠ¨ä¸€ä¸ªåç¨‹ï¼›åº”ä½¿ç”¨å“ªä¸ªä½œç”¨åŸŸå‘¢ï¼Ÿç†æƒ³æƒ…å†µä¸‹ï¼Œæ‚¨å¸Œæœ›Â <code>CoroutineScope</code>Â èƒ½å¤Ÿéµå¾ªå…¶è°ƒç”¨ç‚¹çš„ç”Ÿå‘½å‘¨æœŸã€‚å¦‚æœä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23rememberCoroutineScope(kotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#rememberCoroutineScope(kotlin.Function0)" ref="nofollow noopener noreferrer"><code>rememberCoroutineScope</code></a>Â APIï¼Œåˆ™ä¼šè¿”å›ä¸€ä¸ªÂ <code>CoroutineScope</code>ï¼Œè¯¥ CoroutineScope ä¼šç»‘å®šåˆ°å®ƒåœ¨ç»„åˆä¸­çš„è°ƒç”¨ç‚¹ã€‚ä¸€æ—¦é€€å‡ºç»„åˆï¼Œä½œç”¨åŸŸå°†è‡ªåŠ¨å–æ¶ˆã€‚æœ‰äº†è¿™ä¸ªä½œç”¨åŸŸï¼Œå³ä½¿æ‚¨ä¸åœ¨ç»„åˆä¸­ï¼ˆä¾‹å¦‚ï¼Œåœ¨Â <code>openDrawer</code>Â å›è°ƒä¸­ï¼‰ï¼Œä¹Ÿå¯ä»¥å¯åŠ¨åç¨‹ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// home/CraneHome.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.rememberCoroutineScope
<span class="hljs-keyword">import</span> kotlinx.coroutines.launch

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CraneHome</span><span class="hljs-params">(
Â  Â  onExploreItemClicked: <span class="hljs-type">OnExploreItemClicked</span>,
Â  Â  modifier: <span class="hljs-type">Modifier</span> = Modifier,
)</span></span> {
Â  Â  <span class="hljs-keyword">val</span> scaffoldState = rememberScaffoldState()
Â  Â  Scaffold(
Â  Â  Â  Â  scaffoldState = scaffoldState,
Â  Â  Â  Â  modifier = Modifier.statusBarsPadding(),
Â  Â  Â  Â  drawerContent = {
Â  Â  Â  Â  Â  Â  CraneDrawer()
Â  Â  Â  Â  }
Â  Â  ) {
Â  Â  Â  Â  <span class="hljs-keyword">val</span> scope = rememberCoroutineScope()
Â  Â  Â  Â  CraneHomeContent(
Â  Â  Â  Â  Â  Â  modifier = modifier,
Â  Â  Â  Â  Â  Â  onExploreItemClicked = onExploreItemClicked,
Â  Â  Â  Â  Â  Â  openDrawer = {
Â  Â  Â  Â  Â  Â  Â  Â  scope.launch {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  scaffoldState.drawerState.<span class="hljs-keyword">open</span>()
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  )
Â  Â  }
}
</code></pre>
<p>å¦‚æœæ‚¨è¿è¡Œåº”ç”¨ï¼Œæ‚¨ä¼šçœ‹åˆ°å½“æ‚¨ç‚¹æŒ‰æ±‰å ¡å¼èœå•å›¾æ ‡æ—¶ï¼Œç³»ç»Ÿä¼šæ‰“å¼€æŠ½å±‰å¼å¯¼èˆªæ ã€‚</p>
<h3 data-id="heading-15">LaunchedEffect ä¸ rememberCoroutineScope</h3>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹æ— æ³•ä½¿ç”¨Â <code>LaunchedEffect</code>ï¼Œå› ä¸ºæ‚¨éœ€è¦è§¦å‘è°ƒç”¨ä»¥åœ¨ç»„åˆä¹‹å¤–çš„å¸¸è§„å›è°ƒä¸­åˆ›å»ºåç¨‹ã€‚</p>
<p>å›é¡¾ä¸€ä¸‹ä½¿ç”¨Â <code>LaunchedEffect</code>Â çš„ç€é™†å±å¹•æ­¥éª¤ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Â <code>rememberCoroutineScope</code>Â å¹¶è°ƒç”¨Â <code>scope.launch { delay(); onTimeout(); }</code>Â è€Œä¸ä½¿ç”¨Â <code>LaunchedEffect</code>Â å—ï¼Ÿ</p>
<p>æ‚¨æœ¬æ¥å¯ä»¥è¿™æ ·åšï¼Œè€Œä¸”ä¼¼ä¹å¯è¡Œï¼Œä½†è¿™æ ·å¹¶ä¸æ­£ç¡®ã€‚å¦‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Fmental-model%3Fhl%3Dzh-cn%23any-order" target="_blank" title="https://developer.android.com/jetpack/compose/mental-model?hl=zh-cn#any-order" ref="nofollow noopener noreferrer">â€œCompose ç¼–ç¨‹æ€æƒ³â€æ–‡æ¡£</a>ä¸­æ‰€è¿°ï¼ŒCompose å¯ä»¥éšæ—¶è°ƒç”¨å¯ç»„åˆé¡¹ã€‚<code>LaunchedEffect</code>Â å¯ä»¥ä¿è¯å½“å¯¹è¯¥å¯ç»„åˆé¡¹çš„è°ƒç”¨ä½¿å…¶è¿›å…¥ç»„åˆæ—¶å°†ä¼šæ‰§è¡Œé™„å¸¦æ•ˆåº”ã€‚å¦‚æœæ‚¨åœ¨Â <code>LandingScreen</code>Â çš„ä¸»ä½“ä¸­ä½¿ç”¨Â <code>rememberCoroutineScope</code>Â å’ŒÂ <code>scope.launch</code>ï¼Œåˆ™æ¯æ¬¡ Compose è°ƒç”¨Â <code>LandingScreen</code>Â æ—¶éƒ½ä¼šæ‰§è¡Œåç¨‹ï¼Œè€Œä¸ç®¡è¯¥è°ƒç”¨æ˜¯å¦ä½¿å…¶è¿›å…¥ç»„åˆã€‚å› æ­¤ï¼Œæ‚¨ä¼šæµªè´¹èµ„æºï¼Œè€Œä¸”ä¸ä¼šåœ¨å—æ§ç¯å¢ƒä¸­æ‰§è¡Œæ­¤é™„å¸¦æ•ˆåº”ã€‚</p>
<h2 data-id="heading-16">7. åˆ›å»ºçŠ¶æ€å®¹å™¨</h2>
<p>æ‚¨æ³¨æ„åˆ°äº†å—ï¼Ÿå¦‚æœæ‚¨ç‚¹æŒ‰â€œChoose Destinationâ€ï¼Œæ‚¨å¯ä»¥ä¿®æ”¹è¯¥å­—æ®µï¼Œå¹¶æ ¹æ®æœç´¢è¾“å…¥è¿‡æ»¤åŸå¸‚ã€‚æ­¤å¤–ï¼Œæ‚¨æˆ–è®¸è¿˜æ³¨æ„åˆ°äº†ï¼Œæ¯å½“æ‚¨ä¿®æ”¹â€œChoose Destinationâ€æ—¶ï¼Œæ–‡æœ¬æ ·å¼éƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d3b1750f3f840619a77730c387d81be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmVzdF9KZXJyeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766048446&amp;x-signature=HrS64TARh%2Fnkj691iSbShoTt6v8%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“å¼€Â <code>base/EditableUserInput.kt</code>Â æ–‡ä»¶ã€‚<code>CraneEditableUserInput</code>Â æœ‰çŠ¶æ€å¯ç»„åˆé¡¹æ¥å—ä¸€äº›å‚æ•°ï¼Œå¦‚Â <code>hint</code>Â å’ŒÂ <code>caption</code>ï¼Œåè€…å¯¹åº”äºå›¾æ ‡æ—è¾¹çš„å¯é€‰æ–‡æœ¬ã€‚ä¾‹å¦‚ï¼Œå½“æ‚¨æœç´¢ç›®çš„åœ°æ—¶ï¼Œä¼šå‡ºç°Â <code>caption</code>â€œToâ€ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// base/EditableUserInput.kt file - code in the main branch</span>

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CraneEditableUserInput</span><span class="hljs-params">(
Â  Â  hint: <span class="hljs-type">String</span>,
Â  Â  caption: <span class="hljs-type">String</span>? = <span class="hljs-literal">null</span>,
Â  Â  <span class="hljs-meta">@DrawableRes</span> vectorImageId: <span class="hljs-type">Int</span>? = <span class="hljs-literal">null</span>,
Â  Â  onInputChanged: (<span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span>
)</span></span> {
Â  Â  <span class="hljs-comment">// TODO Codelab: Encapsulate this state in a state holder</span>
Â  Â  <span class="hljs-keyword">var</span> textState <span class="hljs-keyword">by</span> remember { mutableStateOf(hint) }
Â  Â  <span class="hljs-keyword">val</span> isHint = { textState == hint }

Â  Â  ...
}
</code></pre>
<h3 data-id="heading-17">åŸå› </h3>
<p>ç”¨äºæ›´æ–°Â <code>textState</code>Â ä»¥åŠç¡®å®šæ˜¾ç¤ºçš„å†…å®¹æ˜¯å¦å¯¹åº”äºæç¤ºçš„é€»è¾‘å…¨éƒ¨éƒ½åœ¨Â <code>CraneEditableUserInput</code>Â å¯ç»„åˆé¡¹çš„ä¸»ä½“ä¸­ã€‚è¿™å°±å¸¦æ¥äº†ä¸€äº›ç¼ºç‚¹ï¼š</p>
<ul>
<li><code>TextField</code>Â çš„å€¼æœªæå‡ï¼Œå› è€Œæ— æ³•ä»å¤–éƒ¨è¿›è¡Œæ§åˆ¶ï¼Œè¿™ä½¿å¾—æµ‹è¯•æ›´åŠ å›°éš¾ã€‚</li>
<li>æ­¤å¯ç»„åˆé¡¹çš„é€»è¾‘å¯èƒ½ä¼šå˜å¾—æ›´åŠ å¤æ‚ï¼Œå¹¶ä¸”å†…éƒ¨çŠ¶æ€å¯èƒ½ä¼šæ›´å®¹æ˜“ä¸åŒæ­¥ã€‚</li>
</ul>
<p>é€šè¿‡åˆ›å»ºè´Ÿè´£æ­¤å¯ç»„åˆé¡¹çš„å†…éƒ¨çŠ¶æ€çš„çŠ¶æ€å®¹å™¨ï¼Œæ‚¨å¯ä»¥å°†æ‰€æœ‰çŠ¶æ€å˜åŒ–é›†ä¸­åœ¨ä¸€ä¸ªä½ç½®ã€‚è¿™æ ·ï¼ŒçŠ¶æ€ä¸åŒæ­¥å°±æ›´éš¾äº†ï¼Œå¹¶ä¸”ç›¸å…³çš„é€»è¾‘å…¨éƒ¨å½’åœ¨ä¸€ä¸ªç±»ä¸­ã€‚æ­¤å¤–ï¼Œæ­¤çŠ¶æ€å¾ˆå®¹æ˜“å‘ä¸Šæå‡ï¼Œå¹¶ä¸”å¯ä»¥ä»æ­¤å¯ç»„åˆé¡¹çš„è°ƒç”¨æ–¹ä½¿ç”¨ã€‚</p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæå‡çŠ¶æ€æ˜¯ä¸€ç§ä¸é”™çš„åšæ³•ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªä½çº§ç•Œé¢ç»„ä»¶ï¼Œå¯èƒ½ä¼šåœ¨åº”ç”¨çš„å…¶ä»–éƒ¨åˆ†ä¸­é‡å¤ä½¿ç”¨ã€‚å› æ­¤ï¼Œå®ƒè¶Šçµæ´»è¶Šå¯æ§ï¼Œå°±è¶Šå¥½ã€‚</p>
<h3 data-id="heading-18">åˆ›å»ºçŠ¶æ€å®¹å™¨</h3>
<p>ç”±äºÂ <code>CraneEditableUserInput</code>Â æ˜¯ä¸€ä¸ªå¯é‡å¤ä½¿ç”¨çš„ç»„ä»¶ï¼Œæ‚¨å¯ä»¥åœ¨åŒä¸€æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºÂ <code>EditableUserInputState</code>Â çš„å¸¸è§„ç±»ä½œä¸ºçŠ¶æ€å®¹å™¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// base/EditableUserInput.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.getValue
<span class="hljs-keyword">import</span> androidx.compose.runtime.mutableStateOf
<span class="hljs-keyword">import</span> androidx.compose.runtime.setValue

<span class="hljs-keyword">class</span> <span class="hljs-title class_">EditableUserInputState</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> hint: String, initialText: String) {

Â  Â  <span class="hljs-keyword">var</span> text <span class="hljs-keyword">by</span> mutableStateOf(initialText)
Â  Â  Â  Â <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>

Â  Â  <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateText</span><span class="hljs-params">(newText: <span class="hljs-type">String</span>)</span></span> {
Â  Â  Â  Â text = newText
Â  Â  }

Â  Â  <span class="hljs-keyword">val</span> isHint: <span class="hljs-built_in">Boolean</span>
Â  Â  Â  Â  <span class="hljs-keyword">get</span>() = text == hint
}
</code></pre>
<p>è¯¥ç±»åº”å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li><code>text</code>Â æ˜¯Â <code>String</code>Â ç±»å‹çš„å¯å˜çŠ¶æ€ï¼Œå°±åƒåœ¨Â <code>CraneEditableUserInput</code>Â ä¸­ä¸€æ ·ã€‚è¯·åŠ¡å¿…ä½¿ç”¨Â <code>mutableStateOf</code>ï¼Œä»¥ä¾¿ Compose è·Ÿè¸ªå€¼çš„æ›´æ”¹ï¼Œå¹¶åœ¨å‘ç”Ÿæ›´æ”¹æ—¶é‡ç»„ã€‚</li>
<li><code>text</code>Â æ˜¯å…·æœ‰ç§æœ‰Â <code>set</code>Â çš„Â <code>var</code>ï¼Œå› æ­¤æ— æ³•ç›´æ¥ä»ç±»å¤–éƒ¨æ”¹å˜å®ƒã€‚æ‚¨å¯ä»¥å…¬å¼€Â <code>updateText</code>Â äº‹ä»¶æ¥å¯¹æ­¤å˜é‡è¿›è¡Œä¿®æ”¹ï¼Œä»è€Œå°†è¯¥ç±»è®¾ä¸ºå•ä¸€å¯ä¿¡æ¥æºï¼Œè€Œä¸æ˜¯å…¬å¼€æ­¤å˜é‡ã€‚</li>
<li>è¯¥ç±»å°†Â <code>initialText</code>Â ä½œä¸ºç”¨äºåˆå§‹åŒ–Â <code>text</code>Â çš„ä¾èµ–é¡¹ã€‚</li>
<li>ç”¨äºåˆ¤æ–­Â <code>text</code>Â æ˜¯å¦ä¸ºæç¤ºçš„é€»è¾‘åœ¨æŒ‰éœ€æ‰§è¡Œæ£€æŸ¥çš„Â <code>isHint</code>Â å±æ€§ä¸­ã€‚</li>
</ul>
<p>å¦‚æœå°†æ¥é€»è¾‘å˜å¾—æ›´åŠ å¤æ‚ï¼Œæ‚¨åªéœ€è¦å¯¹ä¸€ä¸ªç±»è¿›è¡Œæ›´æ”¹ï¼š<code>EditableUserInputState</code>ã€‚</p>
<h3 data-id="heading-19">è®°ä½çŠ¶æ€å®¹å™¨</h3>
<p>å§‹ç»ˆéœ€è¦è®°ä½çŠ¶æ€å®¹å™¨ï¼Œä»¥ä½¿å…¶ç•™åœ¨ç»„åˆä¸­ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½åˆ›å»ºä¸€ä¸ªæ–°çš„ã€‚æœ€å¥½åœ¨åŒä¸€æ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªæ‰§è¡Œæ­¤æ“ä½œçš„æ–¹æ³•ï¼Œä»¥ç§»é™¤æ ·æ¿å¹¶é¿å…å¯èƒ½å‘ç”Ÿçš„ä»»ä½•é”™è¯¯ã€‚åœ¨Â <code>base/EditableUserInput.kt</code>Â æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹ä»£ç ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// base/EditableUserInput.kt file</span>

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">rememberEditableUserInputState</span><span class="hljs-params">(hint: <span class="hljs-type">String</span>)</span></span>: EditableUserInputState =
Â  Â  remember(hint) {
Â  Â  Â  Â  EditableUserInputState(hint, hint)
Â  Â  }
</code></pre>
<p>å¦‚æœæ‚¨åªæ˜¯ä½¿ç”¨Â <code>remember</code>Â è®°ä½æ­¤çŠ¶æ€ï¼Œå®ƒåœ¨ activity é‡æ–°åˆ›å»ºåä¸ä¼šç»§ç»­ç•™å­˜ã€‚**ä¸ºäº†è§£å†³æ­¤é—®é¢˜ï¼Œæ‚¨å¯ä»¥æ”¹ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23rememberSaveable(kotlin.Array%2Candroidx.compose.runtime.saveable.Saver%2Ckotlin.String%2Ckotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#rememberSaveable(kotlin.Array,androidx.compose.runtime.saveable.Saver,kotlin.String,kotlin.Function0)" ref="nofollow noopener noreferrer"><strong><code>rememberSaveable</code></strong></a>Â APIï¼Œå®ƒçš„è¡Œä¸ºæ–¹å¼ä¸Â <code>remember</code>Â ç±»ä¼¼ï¼Œä½†å­˜å‚¨çš„å€¼åœ¨ activity å’Œè¿›ç¨‹é‡æ–°åˆ›å»ºåä¼šç»§ç»­ç•™å­˜ã€‚åœ¨å†…éƒ¨ï¼Œå®ƒä½¿ç”¨ä¿å­˜çš„å®ä¾‹çŠ¶æ€æœºåˆ¶ã€‚</p>
<p>å¯¹äºå¯ä»¥å­˜å‚¨åœ¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroid%2Fos%2FBundle%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/android/os/Bundle?hl=zh-cn" ref="nofollow noopener noreferrer"><code>Bundle</code></a>Â å†…çš„å¯¹è±¡ï¼Œ<code>rememberSaveable</code>Â å¯ä»¥åšæ‰€æœ‰è¿™äº›å·¥ä½œï¼Œè€Œæ— éœ€ä»»ä½•é¢å¤–çš„æ“ä½œã€‚å¯¹äºæ‚¨åœ¨é¡¹ç›®ä¸­åˆ›å»ºçš„Â <code>EditableUserInputState</code>Â ç±»ï¼Œå´å¹¶éå¦‚æ­¤ã€‚å› æ­¤ï¼Œæ‚¨éœ€è¦å‘ŠçŸ¥Â <code>rememberSaveable</code>Â å¦‚ä½•ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23Saver(kotlin.Function2%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#Saver(kotlin.Function2,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>Saver</code></a>Â ä¿å­˜å’Œæ¢å¤æ­¤ç±»çš„å®ä¾‹ã€‚</p>
<h3 data-id="heading-20">åˆ›å»ºè‡ªå®šä¹‰ä¿å­˜å™¨</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23Saver(kotlin.Function2%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#Saver(kotlin.Function2,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>Saver</code></a>Â æè¿°äº†å¦‚ä½•å°†å¯¹è±¡è½¬æ¢ä¸ºÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2FSaver%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/Saver?hl=zh-cn" ref="nofollow noopener noreferrer"><code>Saveable</code></a>ï¼ˆå¯ä¿å­˜ï¼‰çš„å†…å®¹ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23Saver(kotlin.Function2%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#Saver(kotlin.Function2,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>Saver</code></a>Â çš„å®ç°éœ€è¦æ›¿æ¢ä¸¤ä¸ªå‡½æ•°ï¼š</p>
<ul>
<li><code>save</code>Â - å°†åŸå§‹å€¼è½¬æ¢ä¸ºå¯ä¿å­˜çš„å€¼ã€‚</li>
<li><code>restore</code>Â - å°†æ¢å¤çš„å€¼è½¬æ¢ä¸ºåŸå§‹ç±»çš„å®ä¾‹ã€‚</li>
</ul>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸€äº›ç°æœ‰çš„ Compose APIï¼Œå¦‚Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23listSaver(kotlin.Function2%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#listSaver(kotlin.Function2,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>listSaver</code></a>Â æˆ–Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23mapSaver(kotlin.Function2%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#mapSaver(kotlin.Function2,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>mapSaver</code></a>ï¼ˆç”¨äºå­˜å‚¨è¦ä¿å­˜åœ¨Â <code>List</code>Â æˆ–Â <code>Map</code>Â ä¸­çš„å€¼ï¼‰ï¼Œä»¥å‡å°‘æ‚¨éœ€è¦ç¼–å†™çš„ä»£ç é‡ï¼Œè€Œä¸æ˜¯ä¸ºÂ <code>EditableUserInputState</code>Â ç±»åˆ›å»ºÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fsaveable%2Fpackage-summary%3Fhl%3Dzh-cn%23Saver(kotlin.Function2%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/saveable/package-summary?hl=zh-cn#Saver(kotlin.Function2,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>Saver</code></a>Â çš„è‡ªå®šä¹‰å®ç°ã€‚</p>
<p>æœ€å¥½å°†Â <code>Saver</code>Â å®šä¹‰æ”¾ç½®åœ¨ä¸å…¶ä¸€èµ·ä½¿ç”¨çš„ç±»é™„è¿‘ã€‚ç”±äºéœ€è¦è¢«é™æ€è®¿é—®ï¼Œå› æ­¤è¯·åœ¨Â <code>companion object</code>Â ä¸­ä¸ºÂ <code>EditableUserInputState</code>Â æ·»åŠ Â <code>Saver</code>ã€‚åœ¨Â <code>base/EditableUserInput.kt</code>Â æ–‡ä»¶ä¸­ï¼Œæ·»åŠ Â <code>Saver</code>Â çš„å®ç°ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// base/EditableUserInput.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.saveable.Saver
<span class="hljs-keyword">import</span> androidx.compose.runtime.saveable.listSaver

<span class="hljs-keyword">class</span> <span class="hljs-title class_">EditableUserInputState</span>(<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> hint: String, initialText: String) {
Â  Â  <span class="hljs-keyword">var</span> text <span class="hljs-keyword">by</span> mutableStateOf(initialText)

Â  Â  <span class="hljs-keyword">val</span> isHint: <span class="hljs-built_in">Boolean</span>
Â  Â  Â  Â  <span class="hljs-keyword">get</span>() = text == hint

Â  Â  <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
Â  Â  Â  Â  <span class="hljs-keyword">val</span> Saver: Saver&lt;EditableUserInputState, *&gt; = listSaver(
Â  Â  Â  Â  Â  Â  save = { listOf(it.hint, it.text) },
Â  Â  Â  Â  Â  Â  restore = {
Â  Â  Â  Â  Â  Â  Â  Â  EditableUserInputState(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  hint = it[<span class="hljs-number">0</span>],
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  initialText = it[<span class="hljs-number">1</span>],
Â  Â  Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  )
Â  Â  }
}
</code></pre>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼Œæ‚¨å°†Â <code>listSaver</code>Â ç”¨ä½œå®ç°ç»†èŠ‚ï¼Œåœ¨ä¿å­˜å™¨ä¸­å­˜å‚¨å’Œæ¢å¤Â <code>EditableUserInputState</code>Â çš„å®ä¾‹ã€‚</p>
<p>ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨ä¹‹å‰åˆ›å»ºçš„Â <code>rememberEditableUserInputState</code>Â æ–¹æ³•çš„Â <code>rememberSaveable</code>ï¼ˆè€Œä¸æ˜¯Â <code>remember</code>ï¼‰ä¸­ä½¿ç”¨æ­¤ä¿å­˜å™¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// base/EditableUserInput.kt file</span>
<span class="hljs-keyword">import</span> androidx.compose.runtime.saveable.rememberSaveable

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">rememberEditableUserInputState</span><span class="hljs-params">(hint: <span class="hljs-type">String</span>)</span></span>: EditableUserInputState =
Â  Â  rememberSaveable(hint, saver = EditableUserInputState.Saver) {
Â  Â  Â  Â  EditableUserInputState(hint, hint)
Â  Â  }
</code></pre>
<p>è¿™æ ·ï¼Œ<code>EditableUserInput</code>Â è®°ä½çš„çŠ¶æ€å°±ä¼šåœ¨è¿›ç¨‹å’Œ activity é‡æ–°åˆ›å»ºåç»§ç»­ç•™å­˜ã€‚</p>
<h3 data-id="heading-21">ä½¿ç”¨çŠ¶æ€å®¹å™¨</h3>
<p>æ‚¨å°†è¦ä½¿ç”¨Â <code>EditableUserInputState</code>Â è€Œä¸æ˜¯Â <code>text</code>Â å’ŒÂ <code>isHint</code>ï¼Œä½†æ‚¨ä¸å¸Œæœ›åªå°†å…¶ç”¨ä½œÂ <code>CraneEditableUserInput</code>Â ä¸­çš„å†…éƒ¨çŠ¶æ€ï¼Œå› ä¸ºè°ƒç”¨æ–¹å¯ç»„åˆé¡¹æ— æ³•æ§åˆ¶çŠ¶æ€ã€‚ç›¸åï¼Œæ‚¨å¸Œæœ›æå‡Â <code>EditableUserInputState</code>ï¼Œä»¥ä¾¿è°ƒç”¨æ–¹å¯ä»¥æ§åˆ¶Â <code>CraneEditableUserInput</code>Â çš„çŠ¶æ€ã€‚**å¦‚æœæ‚¨æå‡çŠ¶æ€ï¼Œé‚£ä¹ˆå¯ç»„åˆé¡¹å°±å¯ä»¥åœ¨é¢„è§ˆä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”æ›´å®¹æ˜“è¿›è¡Œæµ‹è¯•ï¼Œå› ä¸ºæ‚¨èƒ½å¤Ÿä»è°ƒç”¨æ–¹ä¿®æ”¹å…¶çŠ¶æ€ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæ‚¨éœ€è¦æ›´æ”¹å¯ç»„åˆå‡½æ•°çš„å½¢å‚ï¼Œå¹¶åœ¨éœ€è¦æ—¶ä¸ºå…¶æä¾›é»˜è®¤å€¼ã€‚ç”±äºæ‚¨å¯èƒ½å¸Œæœ›å…è®¸Â <code>CraneEditableUserInput</code>Â å¸¦æœ‰ç©ºæç¤ºï¼Œå› æ­¤æ·»åŠ ä¸€ä¸ªé»˜è®¤å®å‚ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CraneEditableUserInput</span><span class="hljs-params">(
Â  Â  state: <span class="hljs-type">EditableUserInputState</span> = rememberEditableUserInputState(<span class="hljs-string">""</span>)</span></span>,
Â  Â  caption: String? = <span class="hljs-literal">null</span>,
Â  Â  <span class="hljs-meta">@DrawableRes</span> vectorImageId: <span class="hljs-built_in">Int</span>? = <span class="hljs-literal">null</span>
) { <span class="hljs-comment">/* ... */</span> }
</code></pre>
<p>æ‚¨æˆ–è®¸å·²ç»æ³¨æ„åˆ°ï¼Œ<code>onInputChanged</code>Â å½¢å‚ä¸å­˜åœ¨äº†ï¼ç”±äºçŠ¶æ€å¯ä»¥æå‡ï¼Œå› æ­¤å¦‚æœè°ƒç”¨æ–¹æƒ³è¦çŸ¥é“è¾“å…¥æ˜¯å¦å‘ç”Ÿäº†æ›´æ”¹ï¼Œå®ƒä»¬å¯ä»¥æ§åˆ¶çŠ¶æ€å¹¶å°†è¯¥çŠ¶æ€ä¼ å…¥æ­¤å‡½æ•°ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦è°ƒæ•´å‡½æ•°ä¸»ä½“ï¼Œä»¥ä½¿ç”¨æå‡çš„çŠ¶æ€ï¼Œè€Œä¸æ˜¯ä¹‹å‰ä½¿ç”¨çš„å†…éƒ¨çŠ¶æ€ã€‚é‡æ„åï¼Œå‡½æ•°åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CraneEditableUserInput</span><span class="hljs-params">(
Â  Â  state: <span class="hljs-type">EditableUserInputState</span> = rememberEditableUserInputState(<span class="hljs-string">""</span>)</span></span>,
Â  Â  caption: String? = <span class="hljs-literal">null</span>,
Â  Â  <span class="hljs-meta">@DrawableRes</span> vectorImageId: <span class="hljs-built_in">Int</span>? = <span class="hljs-literal">null</span>
) {
Â  Â  CraneBaseUserInput(
Â  Â  Â  Â  caption = caption,
Â  Â  Â  Â  tintIcon = { !state.isHint },
Â  Â  Â  Â  showCaption = { !state.isHint },
Â  Â  Â  Â  vectorImageId = vectorImageId
Â  Â  ) {
Â  Â  Â  Â  BasicTextField(
Â  Â  Â  Â  Â  Â  value = state.text,
Â  Â  Â  Â  Â  Â  onValueChange = { state.updateText(it) },
Â  Â  Â  Â  Â  Â  textStyle = <span class="hljs-keyword">if</span> (state.isHint) {
Â  Â  Â  Â  Â  Â  Â  Â  captionTextStyle.copy(color = LocalContentColor.current)
Â  Â  Â  Â  Â  Â  } <span class="hljs-keyword">else</span> {
Â  Â  Â  Â  Â  Â  Â  Â  MaterialTheme.typography.body1.copy(color = LocalContentColor.current)
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  cursorBrush = SolidColor(LocalContentColor.current)
Â  Â  Â  Â  )
Â  Â  }
}
</code></pre>
<h3 data-id="heading-22">çŠ¶æ€å®¹å™¨è°ƒç”¨æ–¹</h3>
<p>ç”±äºæ‚¨æ›´æ”¹äº†Â <code>CraneEditableUserInput</code>Â çš„ APIï¼Œå› æ­¤éœ€è¦åœ¨è°ƒç”¨å®ƒçš„æ‰€æœ‰ä½ç½®è¿›è¡Œæ£€æŸ¥ï¼Œä»¥ç¡®ä¿ä¼ å…¥é€‚å½“çš„å½¢å‚ã€‚</p>
<p>åœ¨é¡¹ç›®ä¸­ï¼Œæ‚¨åªåœ¨ä¸€ä¸ªä½ç½®è°ƒç”¨æ­¤ APIï¼Œé‚£å°±æ˜¯åœ¨Â <code>home/SearchUserInput.kt</code>Â æ–‡ä»¶ä¸­ã€‚æ‰“å¼€è¯¥æ–‡ä»¶å¹¶è½¬åˆ°Â <code>ToDestinationUserInput</code>Â å¯ç»„åˆå‡½æ•°ï¼›æ‚¨åº”è¯¥ä¼šåœ¨è¯¥ä½ç½®çœ‹åˆ°ä¸€ä¸ªæ„å»ºé”™è¯¯ã€‚ç”±äºæç¤ºç°åœ¨æ˜¯çŠ¶æ€å®¹å™¨çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶ä¸”æ‚¨å¸Œæœ›åœ¨ç»„åˆä¸­è®¾ç½®æ­¤Â <code>CraneEditableUserInput</code>Â å®ä¾‹çš„è‡ªå®šä¹‰æç¤ºï¼Œå› æ­¤æ‚¨éœ€è¦è®°ä½Â <code>ToDestinationUserInput</code>Â çº§åˆ«çš„çŠ¶æ€ï¼Œå¹¶å°†å…¶ä¼ å…¥Â <code>CraneEditableUserInput</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// home/SearchUserInput.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.samples.crane.base.rememberEditableUserInputState

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ToDestinationUserInput</span><span class="hljs-params">(onToDestinationChanged: (<span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span>)</span></span> {
Â  Â  <span class="hljs-keyword">val</span> editableUserInputState = rememberEditableUserInputState(hint = <span class="hljs-string">"Choose Destination"</span>)
Â  Â  CraneEditableUserInput(
Â  Â  Â  Â  state = editableUserInputState,
Â  Â  Â  Â  caption = <span class="hljs-string">"To"</span>,
Â  Â  Â  Â  vectorImageId = R.drawable.ic_plane
Â  Â  )
}
</code></pre>
<h3 data-id="heading-23">snapshotFlow</h3>
<p>ä¸Šé¢çš„ä»£ç ç¼ºå°‘åœ¨è¾“å…¥æ›´æ”¹æ—¶é€šçŸ¥Â <code>ToDestinationUserInput</code>Â çš„è°ƒç”¨æ–¹çš„åŠŸèƒ½ã€‚ç”±äºåº”ç”¨çš„ç»“æ„ï¼Œæ‚¨ä¸å¸Œæœ›åœ¨å±‚æ¬¡ç»“æ„ä¸­å°†Â <code>EditableUserInputState</code>Â æå‡åˆ°ä»»ä½•æ›´é«˜çš„çº§åˆ«ã€‚è€Œä¸”ï¼Œæ‚¨ä¹Ÿä¸å¸Œæœ›å°†å…¶ä»–å¯ç»„åˆé¡¹ï¼ˆå¦‚Â <code>FlySearchContent</code>ï¼‰ä¸æ­¤çŠ¶æ€ç›¸ç»“åˆã€‚æ‚¨å¦‚ä½•ä»Â <code>ToDestinationUserInput</code>Â è°ƒç”¨Â <code>onToDestinationChanged</code>Â lambda å¹¶ä¸”ä»ä½¿æ­¤å¯ç»„åˆé¡¹å¯é‡å¤ä½¿ç”¨å‘¢ï¼Ÿ</p>
<p>æ‚¨å¯ä»¥åœ¨æ¯æ¬¡è¾“å…¥æ›´æ”¹æ—¶ä½¿ç”¨Â <code>LaunchedEffect</code>Â è§¦å‘é™„å¸¦æ•ˆåº”ï¼Œå¹¶è°ƒç”¨Â <code>onToDestinationChanged</code>Â lambdaï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// home/SearchUserInput.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.LaunchedEffect
<span class="hljs-keyword">import</span> androidx.compose.runtime.rememberUpdatedState
<span class="hljs-keyword">import</span> androidx.compose.runtime.snapshotFlow
<span class="hljs-keyword">import</span> kotlinx.coroutines.flow.collect
<span class="hljs-keyword">import</span> kotlinx.coroutines.flow.filter

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ToDestinationUserInput</span><span class="hljs-params">(onToDestinationChanged: (<span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span>)</span></span> {
Â  Â  <span class="hljs-keyword">val</span> editableUserInputState = rememberEditableUserInputState(hint = <span class="hljs-string">"Choose Destination"</span>)
Â  Â  CraneEditableUserInput(
Â  Â  Â  Â  state = editableUserInputState,
Â  Â  Â  Â  caption = <span class="hljs-string">"To"</span>,
Â  Â  Â  Â  vectorImageId = R.drawable.ic_plane
Â  Â  )

Â  Â  <span class="hljs-keyword">val</span> currentOnDestinationChanged <span class="hljs-keyword">by</span> rememberUpdatedState(onToDestinationChanged)
Â  Â  LaunchedEffect(editableUserInputState) {
Â  Â  Â  Â  snapshotFlow { editableUserInputState.text }
Â  Â  Â  Â  Â  Â  .filter { !editableUserInputState.isHint }
Â  Â  Â  Â  Â  Â  .collect {
Â  Â  Â  Â  Â  Â  Â  Â  currentOnDestinationChanged(editableUserInputState.text)
Â  Â  Â  Â  Â  Â  }
Â  Â  }
}
</code></pre>
<p>æ‚¨ä¹‹å‰å·²ç»ä½¿ç”¨äº†Â <code>LaunchedEffect</code>Â å’ŒÂ <code>rememberUpdatedState</code>ï¼Œä½†ä¸Šé¢çš„ä»£ç è¿˜ä½¿ç”¨äº†ä¸€ä¸ªæ–°çš„ APIï¼<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23snapshotFlow(kotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#snapshotFlow(kotlin.Function0)" ref="nofollow noopener noreferrer"><strong><code>snapshotFlow</code></strong></a>Â <strong>API</strong>Â å°† ComposeÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2FState%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/State?hl=zh-cn" ref="nofollow noopener noreferrer"><code>State&lt;T&gt;</code></a>Â å¯¹è±¡è½¬æ¢ä¸ºÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fkotlin%2Fflow%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/kotlin/flow?hl=zh-cn" ref="nofollow noopener noreferrer">Flow</a>ã€‚å½“åœ¨Â <code>snapshotFlow</code>Â å†…è¯»å–çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒFlow ä¼šå‘æ”¶é›†å™¨å‘å‡ºæ–°å€¼ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæ‚¨å°†çŠ¶æ€è½¬æ¢ä¸º Flowï¼Œä»¥ä½¿ç”¨ Flow è¿ç®—ç¬¦çš„å¼ºå¤§åŠŸèƒ½ã€‚è¿™æ ·ï¼Œæ‚¨å°±å¯ä»¥åœ¨Â <code>text</code>Â ä¸æ˜¯Â <code>hint</code>Â æ—¶ä½¿ç”¨Â <code>filter</code>Â è¿›è¡Œè¿‡æ»¤ï¼Œå¹¶ä½¿ç”¨Â <code>collect</code>Â æ”¶é›†å‘å‡ºçš„é¡¹ï¼Œä»¥é€šçŸ¥çˆ¶é¡¹å½“å‰çš„ç›®çš„åœ°å‘ç”Ÿäº†å˜åŒ–ã€‚</p>
<h2 data-id="heading-24">8. DisposableEffect</h2>
<p>å½“æ‚¨ç‚¹æŒ‰æŸä¸ªç›®çš„åœ°æ—¶ï¼Œç³»ç»Ÿä¼šæ‰“å¼€è¯¦æƒ…å±å¹•ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°ç›¸åº”çš„åŸå¸‚åœ¨åœ°å›¾ä¸Šçš„ä½ç½®ã€‚è¯¥ä»£ç ä½äºÂ <code>details/DetailsActivity.kt</code>Â æ–‡ä»¶ä¸­ã€‚åœ¨Â <code>CityMapView</code>Â å¯ç»„åˆé¡¹ä¸­ï¼Œæ‚¨è°ƒç”¨äº†Â <code>rememberMapViewWithLifecycle</code>Â å‡½æ•°ã€‚å¦‚æœæ‚¨æ‰“å¼€æ­¤å‡½æ•°ï¼ˆå®ƒä½äºÂ <code>details/MapViewUtils.kt</code>Â æ–‡ä»¶ä¸­ï¼‰ï¼Œæ‚¨ä¼šçœ‹åˆ°å®ƒæœªå…³è”åˆ°ä»»ä½•ç”Ÿå‘½å‘¨æœŸï¼å®ƒåªæ˜¯è®°ä½Â <code>MapView</code>Â å¹¶å¯¹å…¶è°ƒç”¨Â <code>onCreate</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// details/MapViewUtils.kt file - code in the main branch</span>

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">rememberMapViewWithLifecycle</span><span class="hljs-params">()</span></span>: MapView {
Â  Â  <span class="hljs-keyword">val</span> context = LocalContext.current
Â  Â  <span class="hljs-comment">// TODO Codelab: DisposableEffect step. Make MapView follow the lifecycle</span>
Â  Â  <span class="hljs-keyword">return</span> remember {
Â  Â  Â  Â  MapView(context).apply {
Â  Â  Â  Â  Â  Â  id = R.id.map
Â  Â  Â  Â  Â  Â  onCreate(Bundle())
Â  Â  Â  Â  }
Â  Â  }
}
</code></pre>
<p>è™½ç„¶åº”ç”¨è¿è¡Œè‰¯å¥½ï¼Œä½†è¿™ä¹Ÿæ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºÂ <code>MapView</code>Â æœªéµå¾ªæ­£ç¡®çš„ç”Ÿå‘½å‘¨æœŸã€‚å› æ­¤ï¼Œå®ƒä¸çŸ¥é“åº”ç”¨ä½•æ—¶è½¬è‡³åå°ã€View ä½•æ—¶åº”æš‚åœï¼Œç­‰ç­‰ã€‚è®©æˆ‘ä»¬æ¥è§£å†³è¿™ä¸€é—®é¢˜ï¼</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚æœæ‚¨æœªçœ‹åˆ°åœ°å›¾ï¼Œè¯·æŸ¥çœ‹â€œå‡†å¤‡è®¾ç½®â€æ­¥éª¤ä¸­çš„â€œ[å¯é€‰] åœ¨è¯¦æƒ…å±å¹•ä¸Šæ˜¾ç¤ºåœ°å›¾â€éƒ¨åˆ†ã€‚** **ä¸è¿‡ï¼Œå¯¹äºæœ¬éƒ¨åˆ†ï¼Œæ²¡æœ‰å¿…è¦åœ¨å±å¹•ä¸Šçœ‹åˆ°åœ°å›¾ã€‚</p>
</blockquote>
<p>ç”±äºÂ <code>MapView</code>Â æ˜¯ View è€Œä¸æ˜¯å¯ç»„åˆé¡¹ï¼Œå› æ­¤æ‚¨å¸Œæœ›å®ƒéµå¾ªä½¿ç”¨å®ƒçš„ Activity çš„ç”Ÿå‘½å‘¨æœŸï¼Œä»¥åŠç»„åˆçš„ç”Ÿå‘½å‘¨æœŸã€‚è¿™æ„å‘³ç€ï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ªÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroidx%2Flifecycle%2FLifecycleEventObserver%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/androidx/lifecycle/LifecycleEventObserver?hl=zh-cn" ref="nofollow noopener noreferrer"><code>LifecycleEventObserver</code></a>Â æ¥ç›‘å¬ç”Ÿå‘½å‘¨æœŸäº‹ä»¶å¹¶åœ¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fandroid%2Freference%2Fcom%2Fgoogle%2Fandroid%2Fgms%2Fmaps%2FMapView%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/android/reference/com/google/android/gms/maps/MapView?hl=zh-cn" ref="nofollow noopener noreferrer"><code>MapView</code></a>Â ä¸Šè°ƒç”¨æ­£ç¡®çš„æ–¹æ³•ã€‚ç„¶åï¼Œæ‚¨éœ€è¦å°†æ­¤è§‚å¯Ÿå™¨æ·»åŠ åˆ°å½“å‰ activity çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›Â <code>LifecycleEventObserver</code>ï¼Œåœ¨ç»™å®šæŸä¸ªäº‹ä»¶çš„æƒ…å†µä¸‹ï¼Œå®ƒä¼šåœ¨Â <code>MapView</code>Â ä¸­è°ƒç”¨ç›¸åº”çš„æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// details/MapViewUtils.kt file</span>

<span class="hljs-keyword">import</span> androidx.lifecycle.Lifecycle
<span class="hljs-keyword">import</span> androidx.lifecycle.LifecycleEventObserver

<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getMapLifecycleObserver</span><span class="hljs-params">(mapView: <span class="hljs-type">MapView</span>)</span></span>: LifecycleEventObserver =
Â  Â  LifecycleEventObserver { _, event -&gt;
Â  Â  Â  Â  <span class="hljs-keyword">when</span> (event) {
Â  Â  Â  Â  Â  Â  Lifecycle.Event.ON_CREATE -&gt; mapView.onCreate(Bundle())
Â  Â  Â  Â  Â  Â  Lifecycle.Event.ON_START -&gt; mapView.onStart()
Â  Â  Â  Â  Â  Â  Lifecycle.Event.ON_RESUME -&gt; mapView.onResume()
Â  Â  Â  Â  Â  Â  Lifecycle.Event.ON_PAUSE -&gt; mapView.onPause()
Â  Â  Â  Â  Â  Â  Lifecycle.Event.ON_STOP -&gt; mapView.onStop()
Â  Â  Â  Â  Â  Â  Lifecycle.Event.ON_DESTROY -&gt; mapView.onDestroy()
Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">else</span> -&gt; <span class="hljs-keyword">throw</span> IllegalStateException()
Â  Â  Â  Â  }
Â  Â  }
</code></pre>
<p>ç°åœ¨ï¼Œæ‚¨éœ€è¦å°†æ­¤è§‚å¯Ÿå™¨æ·»åŠ åˆ°å½“å‰çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å½“å‰çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fandroidx%2Flifecycle%2FLifecycleOwner%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/androidx/lifecycle/LifecycleOwner?hl=zh-cn" ref="nofollow noopener noreferrer"><code>LifecycleOwner</code></a>Â ä¸Â <code>LocalLifecycleOwner</code>Â ç»„åˆå±€éƒ¨å‡½æ•°æ¥è·å–è¯¥ç”Ÿå‘½å‘¨æœŸã€‚ä¸è¿‡ï¼Œä»…ä»…æ·»åŠ è§‚å¯Ÿå™¨æ˜¯ä¸å¤Ÿçš„ï¼›æ‚¨è¿˜éœ€è¦èƒ½å¤Ÿå°†å…¶ç§»é™¤ï¼æ‚¨éœ€è¦ä¸€ç§é™„å¸¦æ•ˆåº”ï¼Œå¯ä»¥åœ¨æ•ˆåº”é€€å‡ºç»„åˆæ—¶å‘ŠçŸ¥æ‚¨ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥æ‰§è¡Œä¸€äº›æ¸…ç†ä»£ç ã€‚æ‚¨å¯»æ‰¾çš„é™„å¸¦æ•ˆåº” API æ˜¯Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23DisposableEffect(kotlin.Any%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#DisposableEffect(kotlin.Any,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>DisposableEffect</code></a>ã€‚</p>
<p><code>DisposableEffect</code>Â é€‚ç”¨äºåœ¨é”®å‘ç”Ÿå˜åŒ–æˆ–å¯ç»„åˆé¡¹é€€å‡ºç»„åˆåéœ€è¦æ¸…ç†çš„é™„å¸¦æ•ˆåº”ã€‚æœ€ç»ˆçš„Â <code>rememberMapViewWithLifecycle</code>Â ä»£ç æ­£å¥½èµ·åˆ°è¿™ç§ä½œç”¨ã€‚åœ¨é¡¹ç›®ä¸­å®ç°ä»¥ä¸‹ä»£ç è¡Œï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// details/MapViewUtils.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.DisposableEffect
<span class="hljs-keyword">import</span> androidx.compose.ui.platform.LocalLifecycleOwner

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">rememberMapViewWithLifecycle</span><span class="hljs-params">()</span></span>: MapView {
Â  Â  <span class="hljs-keyword">val</span> context = LocalContext.current
Â  Â  <span class="hljs-keyword">val</span> mapView = remember {
Â  Â  Â  Â  MapView(context).apply {
Â  Â  Â  Â  Â  Â  id = R.id.map
Â  Â  Â  Â  }
Â  Â  }

Â  Â  <span class="hljs-keyword">val</span> lifecycle = LocalLifecycleOwner.current.lifecycle
Â  Â  DisposableEffect(key1 = lifecycle, key2 = mapView) {
Â  Â  Â  Â  <span class="hljs-comment">// Make MapView follow the current lifecycle</span>
Â  Â  Â  Â  <span class="hljs-keyword">val</span> lifecycleObserver = getMapLifecycleObserver(mapView)
Â  Â  Â  Â  lifecycle.addObserver(lifecycleObserver)
Â  Â  Â  Â  onDispose {
Â  Â  Â  Â  Â  Â  lifecycle.removeObserver(lifecycleObserver)
Â  Â  Â  Â  }
Â  Â  }

Â  Â  <span class="hljs-keyword">return</span> mapView
}
</code></pre>
<p>å°†è§‚å¯Ÿå™¨æ·»åŠ åˆ°äº†å½“å‰çš„Â <code>lifecycle</code>ï¼Œåªè¦å½“å‰çš„ç”Ÿå‘½å‘¨æœŸå‘ç”Ÿå˜åŒ–æˆ–è€…æ­¤å¯ç»„åˆé¡¹é€€å‡ºç»„åˆï¼Œå°±ä¼šå°†å…¶ç§»é™¤ã€‚å¯¹äºÂ <code>DisposableEffect</code>Â ä¸­çš„Â <code>key</code>ï¼Œå¦‚æœÂ <code>lifecycle</code>Â æˆ–Â <code>mapView</code>Â å‘ç”Ÿå˜åŒ–ï¼Œç³»ç»Ÿä¼šç§»é™¤è§‚å¯Ÿå™¨å¹¶å†æ¬¡å°†å…¶æ·»åŠ åˆ°æ­£ç¡®çš„Â <code>lifecycle</code>ã€‚</p>
<p>é€šè¿‡æ‚¨åˆšåˆšæ‰€åšçš„æ›´æ”¹ï¼Œ<code>MapView</code>Â å°†å§‹ç»ˆéµå¾ªå½“å‰Â <code>LifecycleOwner</code>Â çš„Â <code>lifecycle</code>ï¼Œå¹¶ä¸”å…¶è¡Œä¸ºå°±åƒåœ¨ View ç¯å¢ƒä¸­ä½¿ç”¨å®ƒæ—¶ä¸€æ ·ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šæ­¤éƒ¨åˆ†ä»‹ç»äº†å¦‚ä½•å®šä¹‰Â <code>LifecycleEventObserver</code>Â æ¥å“åº” Compose ä¸­çš„Â <code>LifecycleOwner</code>Â äº‹ä»¶ã€‚æ‚¨è¿˜å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨Â <code>DisposableEffect</code>Â API å®‰å…¨å¤„ç½®èµ„æºï¼Œä»¥é¿å…å†…å­˜æ³„æ¼ã€‚ç›¸å…³ç¤ºä¾‹ä½¿ç”¨äº†åŸºäº View çš„ç»„ä»¶Â <code>MapView</code>ã€‚åœ¨çœŸå®çš„ Compose åº”ç”¨ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æ–°çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fmaps%2Fdocumentation%2Fandroid-sdk%2Fmaps-compose%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/maps/documentation/android-sdk/maps-compose?hl=zh-cn" ref="nofollow noopener noreferrer">Maps for Compose åº“</a>ï¼Œè¯¥åº“ä¼šä¸ºæ‚¨å¤„ç†ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ã€‚</p>
</blockquote>
<h2 data-id="heading-25">9. produceState</h2>
<p>åœ¨æœ¬éƒ¨åˆ†ä¸­ï¼Œæ‚¨å°†æ”¹è¿›è¯¦æƒ…å±å¹•çš„å¯åŠ¨æ–¹å¼ã€‚<code>details/DetailsActivity.kt</code>Â æ–‡ä»¶ä¸­çš„Â <code>DetailsScreen</code>Â å¯ç»„åˆé¡¹ä¼šä» ViewModel åŒæ­¥è·å–Â <code>cityDetails</code>ï¼Œå¹¶åœ¨ç»“æœæˆåŠŸæ—¶è°ƒç”¨Â <code>DetailsContent</code>ã€‚</p>
<p>ä¸è¿‡ï¼Œ<code>cityDetails</code>Â åœ¨ç•Œé¢çº¿ç¨‹ä¸Šçš„åŠ è½½æˆæœ¬å¯èƒ½ä¼šå˜å¾—è¶Šæ¥è¶Šé«˜ï¼Œå®ƒå¯ä»¥ä½¿ç”¨åç¨‹å°†æ•°æ®çš„åŠ è½½å·¥ä½œç§»è‡³å…¶ä»–çº¿ç¨‹ã€‚æ‚¨å°†æ”¹è¿›æ­¤ä»£ç ï¼Œä»¥æ·»åŠ ä¸€ä¸ªåŠ è½½å±å¹•ï¼Œå¹¶åœ¨æ•°æ®å‡†å¤‡å°±ç»ªæ—¶æ˜¾ç¤ºÂ <code>DetailsContent</code>ã€‚</p>
<p>ä¸ºå±å¹•çŠ¶æ€å»ºæ¨¡çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ä»¥ä¸‹ç±»ï¼Œå®ƒæ¶µç›–äº†æ‰€æœ‰çš„å¯èƒ½æ€§ï¼šè¦åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„æ•°æ®ï¼Œä»¥åŠåŠ è½½å’Œé”™è¯¯ä¿¡å·ã€‚å°†Â <code>DetailsUiState</code>Â ç±»æ·»åŠ åˆ°Â <code>DetailsActivity.kt</code>Â æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// details/DetailsActivity.kt file</span>

<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DetailsUiState</span>(
Â  Â  <span class="hljs-keyword">val</span> cityDetails: ExploreModel? = <span class="hljs-literal">null</span>,
Â  Â  <span class="hljs-keyword">val</span> isLoading: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>,
Â  Â  <span class="hljs-keyword">val</span> throwError: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>
)
</code></pre>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°æ®æµï¼ˆå³Â <code>DetailsUiState</code>Â ç±»å‹çš„Â <code>StateFlow</code>ï¼‰æ˜ å°„å±å¹•éœ€è¦æ˜¾ç¤ºçš„å†…å®¹å’Œ ViewModel å±‚ä¸­çš„Â <code>UiState</code>ï¼ŒViewModel ä¼šåœ¨ä¿¡æ¯å‡†å¤‡å°±ç»ªæ—¶æ›´æ–°è¯¥æ•°æ®æµï¼Œè€Œ Compose ä¼šä½¿ç”¨æ‚¨å·²äº†è§£çš„Â <code>collectAsStateWithLifecycle()</code>Â API æ”¶é›†è¯¥æ•°æ®æµã€‚</p>
<p>ä¸è¿‡ï¼Œä¸ºäº†æœ¬ç»ƒä¹ ï¼Œæ‚¨å°†å®ç°ä¸€ç§æ›¿ä»£æ–¹æ¡ˆã€‚å¦‚æœæ‚¨å¸Œæœ›å°†Â <code>uiState</code>Â æ˜ å°„é€»è¾‘ç§»è‡³ Compose ç¯å¢ƒï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23produceState(kotlin.Any%2Ckotlin.coroutines.SuspendFunction1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#produceState(kotlin.Any,kotlin.coroutines.SuspendFunction1)" ref="nofollow noopener noreferrer"><code>produceState</code></a>Â APIã€‚</p>
<p><code>produceState</code>Â å¯è®©æ‚¨å°†é Compose çŠ¶æ€è½¬æ¢ä¸º ComposeÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2FState%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/State?hl=zh-cn" ref="nofollow noopener noreferrer">çŠ¶æ€</a>ã€‚å®ƒä¼šå¯åŠ¨ä¸€ä¸ªä½œç”¨åŸŸé™å®šä¸ºç»„åˆçš„åç¨‹ï¼Œè¯¥åç¨‹å¯ä½¿ç”¨Â <code>value</code>Â å±æ€§å°†å€¼æ¨é€åˆ°è¿”å›çš„Â <code>State</code>ã€‚ä¸Â <code>LaunchedEffect</code>Â ä¸€æ ·ï¼Œ<code>produceState</code>Â ä¹Ÿé‡‡ç”¨é”®æ¥å–æ¶ˆå’Œé‡æ–°å¼€å§‹è®¡ç®—ã€‚</p>
<p>å¯¹äºæ‚¨çš„ç”¨ä¾‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Â <code>produceState</code>Â å‘å‡ºåˆå§‹å€¼ä¸ºÂ <code>DetailsUiState(isLoading = true)</code>Â çš„Â <code>uiState</code>Â æ›´æ–°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// details/DetailsActivity.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.runtime.produceState

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">DetailsScreen</span><span class="hljs-params">(
Â  Â  onErrorLoading: () -&gt; <span class="hljs-type">Unit</span>,
Â  Â  modifier: <span class="hljs-type">Modifier</span> = Modifier,
Â  Â  viewModel: <span class="hljs-type">DetailsViewModel</span> = viewModel()</span></span>
) {

Â  Â  <span class="hljs-keyword">val</span> uiState <span class="hljs-keyword">by</span> produceState(initialValue = DetailsUiState(isLoading = <span class="hljs-literal">true</span>)) {
Â  Â  Â  Â  <span class="hljs-comment">// In a coroutine, this can call suspend functions or move</span>
Â  Â  Â  Â  <span class="hljs-comment">// the computation to different Dispatchers</span>
Â  Â  Â  Â  <span class="hljs-keyword">val</span> cityDetailsResult = viewModel.cityDetails
Â  Â  Â  Â  value = <span class="hljs-keyword">if</span> (cityDetailsResult <span class="hljs-keyword">is</span> Result.Success&lt;ExploreModel&gt;) {
Â  Â  Â  Â  Â  Â  DetailsUiState(cityDetailsResult.<span class="hljs-keyword">data</span>)
Â  Â  Â  Â  } <span class="hljs-keyword">else</span> {
Â  Â  Â  Â  Â  Â  DetailsUiState(throwError = <span class="hljs-literal">true</span>)
Â  Â  Â  Â  }
Â  Â  }

Â  Â  <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> ... </span>
}
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œæ ¹æ®Â <code>uiState</code>ï¼Œæ‚¨ä¼šæ˜¾ç¤ºæ•°æ®ã€æ˜¾ç¤ºåŠ è½½å±å¹•æˆ–æŠ¥å‘Šé”™è¯¯ã€‚ä¸‹é¢æ˜¯Â <code>DetailsScreen</code>Â å¯ç»„åˆé¡¹çš„å®Œæ•´ä»£ç ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// details/DetailsActivity.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.foundation.layout.Box
<span class="hljs-keyword">import</span> androidx.compose.material.CircularProgressIndicator

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">DetailsScreen</span><span class="hljs-params">(
Â  Â  onErrorLoading: () -&gt; <span class="hljs-type">Unit</span>,
Â  Â  modifier: <span class="hljs-type">Modifier</span> = Modifier,
Â  Â  viewModel: <span class="hljs-type">DetailsViewModel</span> = viewModel()</span></span>
) {
Â  Â  <span class="hljs-keyword">val</span> uiState <span class="hljs-keyword">by</span> produceState(initialValue = DetailsUiState(isLoading = <span class="hljs-literal">true</span>)) {
Â  Â  Â  Â  <span class="hljs-keyword">val</span> cityDetailsResult = viewModel.cityDetails
Â  Â  Â  Â  value = <span class="hljs-keyword">if</span> (cityDetailsResult <span class="hljs-keyword">is</span> Result.Success&lt;ExploreModel&gt;) {
Â  Â  Â  Â  Â  Â  DetailsUiState(cityDetailsResult.<span class="hljs-keyword">data</span>)
Â  Â  Â  Â  } <span class="hljs-keyword">else</span> {
Â  Â  Â  Â  Â  Â  DetailsUiState(throwError = <span class="hljs-literal">true</span>)
Â  Â  Â  Â  }
Â  Â  }

Â  Â  <span class="hljs-keyword">when</span> {
Â  Â  Â  Â  uiState.cityDetails != <span class="hljs-literal">null</span> -&gt; {
Â  Â  Â  Â  Â  Â  DetailsContent(uiState.cityDetails!!, modifier.fillMaxSize())
Â  Â  Â  Â  }
Â  Â  Â  Â  uiState.isLoading -&gt; {
Â  Â  Â  Â  Â  Â  Box(modifier.fillMaxSize()) {
Â  Â  Â  Â  Â  Â  Â  Â  CircularProgressIndicator(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  color = MaterialTheme.colors.onSurface,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  modifier = Modifier.align(Alignment.Center)
Â  Â  Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  <span class="hljs-keyword">else</span> -&gt; { onErrorLoading() }
Â  Â  }
}
</code></pre>
<p>å¦‚æœæ‚¨è¿è¡Œåº”ç”¨ï¼Œæ‚¨ä¼šçœ‹åˆ°åœ¨æ˜¾ç¤ºåŸå¸‚è¯¦æƒ…ä¹‹å‰å¦‚ä½•å‡ºç°äº†æŒ‡ç¤ºâ€œæ­£åœ¨åŠ è½½â€çš„æ—‹è½¬å›¾æ ‡ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼š<code>collectAsStateWithLifecycle()</code>Â API ä¼šåœ¨åå°ä½¿ç”¨Â <code>produceState()</code>Â APIã€‚</p>
</blockquote>
<h2 data-id="heading-26">10. derivedStateOf</h2>
<p>æ‚¨è¦å¯¹ Crane åšçš„æœ€åä¸€é¡¹æ”¹è¿›æ˜¯ï¼Œæ¯å½“æ‚¨åœ¨èˆªç­ç›®çš„åœ°åˆ—è¡¨ä¸­æ»šåŠ¨æ—¶ï¼Œç»è¿‡å±å¹•çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹åï¼Œéƒ½ä¼šæ˜¾ç¤ºä¸€ä¸ªç”¨äºâ€œæ»šåŠ¨è‡³é¡¶éƒ¨â€çš„æŒ‰é’®ã€‚ç‚¹æŒ‰è¯¥æŒ‰é’®ä¼šä½¿æ‚¨å‰å¾€åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p>
<p>æ‰“å¼€åŒ…å«æ­¤ä»£ç çš„Â <code>base/ExploreSection.kt</code>Â æ–‡ä»¶ã€‚<code>ExploreSection</code>Â å¯ç»„åˆé¡¹å¯¹åº”äºæ‚¨åœ¨ Scaffold çš„èƒŒæ™¯å¹•ä¸­çœ‹åˆ°çš„å†…å®¹ã€‚</p>
<p>å¦‚éœ€è®¡ç®—ç”¨æˆ·æ˜¯å¦å·²ç»è¿‡ç¬¬ä¸€é¡¹ï¼Œè¯·ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Flists%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/jetpack/compose/lists?hl=zh-cn" ref="nofollow noopener noreferrer"><code>LazyColumn</code></a>Â çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Ffoundation%2Flazy%2FLazyListState%3Fhl%3Dzh-cn" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/foundation/lazy/LazyListState?hl=zh-cn" ref="nofollow noopener noreferrer"><code>LazyListState</code></a>Â å¹¶æ£€æŸ¥Â <code>listState.firstVisibleItemIndex &gt; 0</code>ã€‚</p>
<p>ç®€å•å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// DO NOT DO THIS - It's executed on every recomposition</span>
<span class="hljs-keyword">val</span> showButton = listState.firstVisibleItemIndex &gt; <span class="hljs-number">0</span>
</code></pre>
<p>è¯¥è§£å†³æ–¹æ¡ˆçš„æ•ˆç‡å¹¶ä¸é«˜ï¼Œå› ä¸ºæ¯å½“Â <code>firstVisibleItemIndex</code>Â å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè¯»å–Â <code>showButton</code>Â çš„å¯ç»„åˆå‡½æ•°éƒ½ä¼šé‡ç»„ï¼Œè¿™ç§æƒ…å†µç»å¸¸ä¼šåœ¨æ»šåŠ¨æ—¶å‘ç”Ÿã€‚ä¸è¿‡ï¼Œæ‚¨å¸Œæœ›è¯¥å‡½æ•°ä»…åœ¨æ¡ä»¶åœ¨Â <code>true</code>Â å’ŒÂ <code>false</code>Â ä¹‹é—´å˜åŒ–æ—¶é‡ç»„ã€‚</p>
<p>æœ‰ä¸€ä¸ª API å¯è®©æ‚¨åšåˆ°è¿™ä¸€ç‚¹ï¼Œé‚£å°±æ˜¯Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23derivedStateOf(kotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#derivedStateOf(kotlin.Function0)" ref="nofollow noopener noreferrer"><code>derivedStateOf</code></a>Â APIã€‚</p>
<p><code>listState</code>Â æ˜¯ä¸€ä¸ªå¯è§‚å¯Ÿçš„ ComposeÂ <code>State</code>ã€‚æ‚¨çš„è®¡ç®—Â <code>showButton</code>Â ä¹Ÿéœ€è¦æ˜¯ä¸€ä¸ª ComposeÂ <code>State</code>ï¼Œå› ä¸ºæ‚¨å¸Œæœ›ç•Œé¢åœ¨å…¶å€¼å‘ç”Ÿå˜åŒ–æ—¶é‡ç»„ï¼Œå¹¶æ˜¾ç¤ºæˆ–éšè—æŒ‰é’®ã€‚</p>
<p>å½“æ‚¨æƒ³è¦çš„æŸä¸ª ComposeÂ <code>State</code>Â è¡ç”Ÿè‡ªå¦ä¸€ä¸ªÂ <code>State</code>Â æ—¶ï¼Œè¯·ä½¿ç”¨Â <code>derivedStateOf</code>ã€‚æ¯å½“å†…éƒ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç³»ç»Ÿéƒ½ä¼šæ‰§è¡ŒÂ <code>derivedStateOf</code>Â è®¡ç®—å—ï¼Œä½†åªæœ‰å½“è®¡ç®—ç»“æœä¸ä¸Šä¸€é¡¹ä¸åŒæ—¶ï¼Œå¯ç»„åˆå‡½æ•°æ‰ä¼šé‡ç»„ã€‚è¿™æ ·å¯ä»¥æœ€å¤§é™åº¦åœ°å‡å°‘è¯»å–Â <code>showButton</code>Â çš„å‡½æ•°çš„é‡ç»„æ¬¡æ•°ã€‚</p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨Â <code>derivedStateOf</code>Â API æ˜¯ä¸€ç§æ›´å¥½ä¸”æ›´é«˜æ•ˆçš„æ›¿ä»£æ–¹æ¡ˆã€‚æ‚¨è¿˜ä¼šä½¿ç”¨Â <code>remember</code>Â API æ¥å°è£…è°ƒç”¨ï¼Œå› æ­¤è®¡ç®—å¾—å‡ºçš„å€¼åœ¨é‡ç»„åç»§ç»­æœ‰æ•ˆã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Show the button if the first visible item is past</span>
<span class="hljs-comment">// the first item. We use a remembered derived state to</span>
<span class="hljs-comment">// minimize unnecessary recompositions</span>
<span class="hljs-keyword">val</span> showButton <span class="hljs-keyword">by</span> remember {
Â  Â  derivedStateOf {
Â  Â  Â  Â  listState.firstVisibleItemIndex &gt; <span class="hljs-number">0</span>
Â  Â  }
}
</code></pre>
<p>æ‚¨åº”è¯¥å·²ç»ç†Ÿæ‚‰Â <code>ExploreSection</code>Â å¯ç»„åˆé¡¹çš„æ–°ä»£ç ã€‚æ‚¨ä½¿ç”¨Â <code>Box</code>Â å°†æœ‰æ¡ä»¶åœ°æ˜¾ç¤ºçš„Â <code>Button</code>Â æ”¾ç½®åœ¨Â <code>ExploreList</code>Â çš„é¡¶éƒ¨ã€‚æ‚¨ä¼šä½¿ç”¨Â <code>rememberCoroutineScope</code>Â åœ¨Â <code>Button</code>Â çš„Â <code>onClick</code>Â å›è°ƒå†…è°ƒç”¨Â <code>listState.scrollToItem</code>Â æŒ‚èµ·å‡½æ•°ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// base/ExploreSection.kt file</span>

<span class="hljs-keyword">import</span> androidx.compose.material.FloatingActionButton
<span class="hljs-keyword">import</span> androidx.compose.runtime.derivedStateOf
<span class="hljs-keyword">import</span> androidx.compose.runtime.getValue
<span class="hljs-keyword">import</span> androidx.compose.runtime.remember
<span class="hljs-keyword">import</span> androidx.compose.runtime.rememberCoroutineScope
<span class="hljs-keyword">import</span> androidx.compose.foundation.layout.navigationBarsPadding
<span class="hljs-keyword">import</span> kotlinx.coroutines.launch

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ExploreSection</span><span class="hljs-params">(
Â  Â  modifier: <span class="hljs-type">Modifier</span> = Modifier,
Â  Â  title: <span class="hljs-type">String</span>,
Â  Â  exploreList: <span class="hljs-type">List</span>&lt;<span class="hljs-type">ExploreModel</span>&gt;,
Â  Â  onItemClicked: <span class="hljs-type">OnExploreItemClicked</span>
)</span></span> {
Â  Â  Surface(modifier = modifier.fillMaxSize(), color = Color.White, shape = BottomSheetShape) {
Â  Â  Â  Â  Column(modifier = Modifier.padding(start = <span class="hljs-number">24.</span>dp, top = <span class="hljs-number">20.</span>dp, end = <span class="hljs-number">24.</span>dp)) {
Â  Â  Â  Â  Â  Â  Text(
Â  Â  Â  Â  Â  Â  Â  Â  text = title,
Â  Â  Â  Â  Â  Â  Â  Â  style = MaterialTheme.typography.caption.copy(color = crane_caption)
Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  Â  Â  Spacer(Modifier.height(<span class="hljs-number">8.</span>dp))
Â  Â  Â  Â  Â  Â  Box(Modifier.weight(<span class="hljs-number">1f</span>)) {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">val</span> listState = rememberLazyListState()
Â  Â  Â  Â  Â  Â  Â  Â  ExploreList(exploreList, onItemClicked, listState = listState)

Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// Show the button if the first visible item is past</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// the first item. We use a remembered derived state to</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// minimize unnecessary compositions</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">val</span> showButton <span class="hljs-keyword">by</span> remember {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  derivedStateOf {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  listState.firstVisibleItemIndex &gt; <span class="hljs-number">0</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">if</span> (showButton) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-keyword">val</span> coroutineScope = rememberCoroutineScope()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  FloatingActionButton(
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  backgroundColor = MaterialTheme.colors.primary,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  modifier = Modifier
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .align(Alignment.BottomEnd)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .navigationBarsPadding()
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .padding(bottom = <span class="hljs-number">8.</span>dp),
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  onClick = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  coroutineScope.launch {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  listState.scrollToItem(<span class="hljs-number">0</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Text(<span class="hljs-string">"Up!"</span>)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  }
}
</code></pre>
<p>å¦‚æœæ‚¨è¿è¡Œåº”ç”¨ï¼Œæ‚¨ä¼šçœ‹åˆ°ä¸€æ—¦æ‚¨æ»šåŠ¨å¹¶ç»è¿‡å±å¹•çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè¯¥æŒ‰é’®å°±ä¼šå‡ºç°åœ¨åº•éƒ¨ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šå¦‚éœ€è¯¦ç»†äº†è§£Â <code>derivedStateOf()</code>Â APIï¼Œè¯·å‚é˜…<a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2Fandroiddevelopers%2Fjetpack-compose-when-should-i-use-derivedstateof-63ce7954c11b" target="_blank" title="https://medium.com/androiddevelopers/jetpack-compose-when-should-i-use-derivedstateof-63ce7954c11b" ref="nofollow noopener noreferrer">ä½•æ—¶åº”ä½¿ç”¨ derivedStateOfï¼Ÿ</a>è¿™ç¯‡åšæ–‡ã€‚</p>
</blockquote>
<h2 data-id="heading-27">11. æ€»ç»“</h2>
<p>æ‚¨å­¦ä¹ äº†å¦‚ä½•åˆ›å»ºçŠ¶æ€å®¹å™¨ã€é™„å¸¦æ•ˆåº” APIï¼ˆå¦‚Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23LaunchedEffect(kotlin.Any%2Ckotlin.coroutines.SuspendFunction1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#LaunchedEffect(kotlin.Any,kotlin.coroutines.SuspendFunction1)" ref="nofollow noopener noreferrer"><code>LaunchedEffect</code></a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23rememberUpdatedState(kotlin.Any)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#rememberUpdatedState(kotlin.Any)" ref="nofollow noopener noreferrer"><code>rememberUpdatedState</code></a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23DisposableEffect(kotlin.Any%2Ckotlin.Function1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#DisposableEffect(kotlin.Any,kotlin.Function1)" ref="nofollow noopener noreferrer"><code>DisposableEffect</code></a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23produceState(kotlin.Any%2Ckotlin.coroutines.SuspendFunction1)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#produceState(kotlin.Any,kotlin.coroutines.SuspendFunction1)" ref="nofollow noopener noreferrer"><code>produceState</code></a>Â å’ŒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fruntime%2Fpackage-summary%3Fhl%3Dzh-cn%23derivedStateOf(kotlin.Function0)" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/runtime/package-summary?hl=zh-cn#derivedStateOf(kotlin.Function0)" ref="nofollow noopener noreferrer"><code>derivedStateOf</code></a>ï¼‰ï¼Œä»¥åŠå¦‚ä½•åœ¨ Jetpack Compose ä¸­ä½¿ç”¨åç¨‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 3 ç¯‡ï¼šåç«¯å°ç™½ä¹Ÿèƒ½å†™ APIï¼šAI å¸¦æˆ‘ 1 å°æ—¶æ­å®Œ Next.js æœåŠ¡]]></title>    <link>https://juejin.cn/post/7582808491583619108</link>    <guid>https://juejin.cn/post/7582808491583619108</guid>    <pubDate>2025-12-12T08:09:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582808491583619108" data-draft-id="7582808491583258660" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 3 ç¯‡ï¼šåç«¯å°ç™½ä¹Ÿèƒ½å†™ APIï¼šAI å¸¦æˆ‘ 1 å°æ—¶æ­å®Œ Next.js æœåŠ¡"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-12T08:09:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HashTang"/> <meta itemprop="url" content="https://juejin.cn/user/1117561754756488"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 3 ç¯‡ï¼šåç«¯å°ç™½ä¹Ÿèƒ½å†™ APIï¼šAI å¸¦æˆ‘ 1 å°æ—¶æ­å®Œ Next.js æœåŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117561754756488/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HashTang
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T08:09:43.000Z" title="Fri Dec 12 2025 08:09:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="vs2015">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1e1e1e;color:#dcdcdc}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-name,.hljs-symbol{color:#569cd6}.hljs-link{text-decoration:underline}.hljs-built_in,.hljs-type{color:#4ec9b0}.hljs-class,.hljs-number{color:#b8d7a3}.hljs-meta-string,.hljs-string{color:#d69d85}.hljs-regexp,.hljs-template-tag{color:#9a5334}.hljs-formula,.hljs-function,.hljs-params,.hljs-subst,.hljs-title{color:#dcdcdc}.hljs-comment,.hljs-quote{color:#57a64a;font-style:italic}.hljs-doctag{color:#608b4e}.hljs-meta,.hljs-meta-keyword,.hljs-tag{color:#9b9b9b}.hljs-template-variable,.hljs-variable{color:#bd63c5}.hljs-attr,.hljs-attribute,.hljs-builtin-name{color:#9cdcfe}.hljs-section{color:gold}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-bullet,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag{color:#d7ba7d}.hljs-addition{background-color:#144212}.hljs-addition,.hljs-deletion{display:inline-block;width:100%}.hljs-deletion{background-color:#600}</style><blockquote>
<p>åç«¯ API å¼€å‘æ˜¯å¾ˆå¤šå‰ç«¯å¼€å‘è€…çš„"å¿ƒç†é˜´å½±"â€”â€”æ•°æ®åº“è®¾è®¡ã€ORM æ“ä½œã€JWT è®¤è¯ã€é”™è¯¯å¤„ç†â€¦â€¦æ¯ä¸€æ­¥éƒ½æ˜¯å‘ã€‚ä½†æœ‰äº† AIï¼Œè¿™ä¸€åˆ‡éƒ½å˜å¾—ç®€å•èµ·æ¥ã€‚è¿™æ˜¯ã€Š<a href="https://juejin.cn/column/7579556047783624756" target="_blank" title="https://juejin.cn/column/7579556047783624756">AI ç¼–ç¨‹å®æˆ˜ï¼šTRAE SOLO å…¨æ ˆå¼€å‘æŒ‡å—</a>ã€‹ä¸“æ çš„ç¬¬ä¸‰ç¯‡æ–‡ç« ï¼Œå¸¦ä½ ç”¨ AI å¿«é€Ÿæ­å»º Next.js 15 åç«¯ APIã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€å¼€ç¯‡ï¼šå‰ç«¯å¼€å‘è€…çš„åç«¯ç„¦è™‘</h2>
<h3 data-id="heading-1">1.1 åç«¯å¼€å‘çš„"å™©æ¢¦"</h3>
<p>è¿˜è®°å¾—å°ä½•å—ï¼Ÿå®Œæˆå‰ç«¯æ¶æ„æ­å»ºåï¼Œä»–é¢ä¸´ä¸€ä¸ªæ›´å¤§çš„æŒ‘æˆ˜ï¼š<strong>åç«¯ API å¼€å‘</strong>ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªå‰ç«¯å¼€å‘è€…ï¼Œå°ä½•å¯¹åç«¯å¹¶ä¸é™Œç”Ÿï¼Œä½†æ¯æ¬¡å†™åç«¯ä»£ç æ—¶ï¼Œæ€»æœ‰ä¸€ç§"å¦‚å±¥è–„å†°"çš„æ„Ÿè§‰ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">æ•°æ®åº“è¡¨æ€ä¹ˆè®¾è®¡ï¼Ÿå­—æ®µç±»å‹æ€ä¹ˆé€‰ï¼Ÿ
ORM æ€ä¹ˆç”¨ï¼ŸPrisma å’Œ TypeORM æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
JWT æ€ä¹ˆç”Ÿæˆï¼ŸToken è¿‡æœŸæ€ä¹ˆå¤„ç†ï¼Ÿ
æ¥å£æ€ä¹ˆè®¾è®¡æ‰ç¬¦åˆ RESTful è§„èŒƒï¼Ÿ
é”™è¯¯å¤„ç†æ€ä¹ˆç»Ÿä¸€ï¼Ÿæ—¥å¿—æ€ä¹ˆè®°å½•ï¼Ÿ
</code></pre>
<p>ä¼ ç»Ÿæ–¹å¼ä¸‹ï¼Œå°ä½•éœ€è¦ï¼š</p>









































<table><thead><tr><th>ä»»åŠ¡</th><th>é¢„è®¡æ—¶é—´</th></tr></thead><tbody><tr><td>å­¦ä¹  Next.js API</td><td>2 å°æ—¶</td></tr><tr><td>æ•°æ®åº“è¡¨è®¾è®¡</td><td>3 å°æ—¶</td></tr><tr><td>Prisma é…ç½®å’Œå­¦ä¹ </td><td>4 å°æ—¶</td></tr><tr><td>JWT è®¤è¯å®ç°</td><td>3 å°æ—¶</td></tr><tr><td>ç™»å½•æ³¨å†Œ API</td><td>4 å°æ—¶</td></tr><tr><td>å“åº”æ ¼å¼ç»Ÿä¸€</td><td>2 å°æ—¶</td></tr><tr><td>é”™è¯¯å¤„ç†å’Œæ—¥å¿—</td><td>2 å°æ—¶</td></tr><tr><td><strong>æ€»è®¡</strong></td><td><strong>20 å°æ—¶</strong></td></tr></tbody></table>
<p>å®é™…ä¸Šï¼Œå› ä¸ºå„ç§é—®é¢˜ï¼Œå¯èƒ½éœ€è¦ <strong>3-4 å¤©</strong>ã€‚</p>
<h3 data-id="heading-2">1.2 AI è¾…åŠ©çš„åç«¯å¼€å‘</h3>
<p>æœ‰äº† TRAE SOLOï¼Œå°ä½•çš„ä½“éªŒå®Œå…¨ä¸åŒï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å°ä½•ï¼šå¸®æˆ‘æ­å»º Next.js 15 åç«¯ APIï¼Œéœ€è¦ï¼š
      1. MySQL æ•°æ®åº“ï¼Œä½¿ç”¨ Prisma ORM
      2. JWT è®¤è¯
      3. å¾®ä¿¡å°ç¨‹åºç™»å½•
      4. ç»Ÿä¸€çš„å“åº”æ ¼å¼
      5. æ—¥å¿—è®°å½•

AIï¼šå¥½çš„ï¼Œæˆ‘æ¥å¸®ä½ æ­å»ºå®Œæ•´çš„åç«¯æ¶æ„ï¼š

    âœ“ åˆ†æé¡¹ç›®ç»“æ„ï¼Œç¡®å®š Pages Router æ¨¡å¼
    âœ“ è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„ï¼ˆç”¨æˆ·ã€ä¼šå‘˜ã€è´¦å•ç­‰ï¼‰
    âœ“ é…ç½® Prisma ORM è¿æ¥ MySQL
    âœ“ å®ç° JWT ç”Ÿæˆå’ŒéªŒè¯
    âœ“ å°è£…å¾®ä¿¡ç™»å½•æµç¨‹
    âœ“ ç»Ÿä¸€å“åº”æ ¼å¼ï¼ˆresponseHelperï¼‰
    âœ“ é…ç½® Winston æ—¥å¿—ç³»ç»Ÿ

    åç«¯æ¶æ„å·²ç”Ÿæˆï¼Œè¯·æŸ¥çœ‹...
</code></pre>
<p><strong>æ—¶é—´å¯¹æ¯”</strong>ï¼š</p>















































<table><thead><tr><th>ä»»åŠ¡</th><th>ä¼ ç»Ÿæ–¹å¼</th><th>AI è¾…åŠ©</th><th>æå‡å€æ•°</th></tr></thead><tbody><tr><td>æ•°æ®åº“è®¾è®¡</td><td>3 å°æ—¶</td><td>15 åˆ†é’Ÿ</td><td><strong>12x</strong></td></tr><tr><td>Prisma é…ç½®</td><td>4 å°æ—¶</td><td>10 åˆ†é’Ÿ</td><td><strong>24x</strong></td></tr><tr><td>JWT è®¤è¯</td><td>3 å°æ—¶</td><td>10 åˆ†é’Ÿ</td><td><strong>18x</strong></td></tr><tr><td>ç™»å½• API</td><td>4 å°æ—¶</td><td>20 åˆ†é’Ÿ</td><td><strong>12x</strong></td></tr><tr><td>å“åº”æ ¼å¼ç»Ÿä¸€</td><td>2 å°æ—¶</td><td>5 åˆ†é’Ÿ</td><td><strong>24x</strong></td></tr><tr><td><strong>æ€»è®¡</strong></td><td><strong>~20 å°æ—¶</strong></td><td><strong>~1 å°æ—¶</strong></td><td><strong>~20x</strong></td></tr></tbody></table>
<h2 data-id="heading-3">äºŒã€æŠ€æœ¯é€‰å‹ï¼šä¸ºä»€ä¹ˆé€‰æ‹© Next.js 15 + Prisma</h2>
<h3 data-id="heading-4">2.1 Next.js ä½œä¸ºåç«¯çš„ä¼˜åŠ¿</h3>
<pre><code class="hljs language-txt" lang="txt">å°ä½•ï¼šä¸ºä»€ä¹ˆåç«¯è¦ç”¨ Next.jsï¼Ÿä¸æ˜¯åº”è¯¥ç”¨ Express æˆ– Koa å—ï¼Ÿ

AIï¼šNext.js ä½œä¸ºåç«¯æœ‰ç‹¬ç‰¹ä¼˜åŠ¿ï¼š

    1. å…¨æ ˆä¸€ä½“åŒ–
       - å‰åç«¯å¯ä»¥å…±äº«ä»£ç å’Œç±»å‹
       - éƒ¨ç½²æ›´ç®€å•ï¼Œä¸€ä¸ªæœåŠ¡æå®š

    2. API Routes å¼€ç®±å³ç”¨
       - æ–‡ä»¶å³è·¯ç”±ï¼Œæ— éœ€é¢å¤–é…ç½®
       - æ”¯æŒä¸­é—´ä»¶ã€åŠ¨æ€è·¯ç”±

    3. TypeScript åŸç”Ÿæ”¯æŒ
       - ç±»å‹å®‰å…¨ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
       - ä¸ Prisma å®Œç¾é…åˆ

    4. ç”Ÿæ€å®Œå–„
       - ä¸°å¯Œçš„ä¸­é—´ä»¶å’Œæ’ä»¶
       - ç¤¾åŒºæ´»è·ƒï¼Œé—®é¢˜å®¹æ˜“è§£å†³
</code></pre>
<h3 data-id="heading-5">2.2 Prisma vs TypeORM</h3>
<pre><code class="hljs language-txt" lang="txt">å°ä½•ï¼šPrisma å’Œ TypeORM æ€ä¹ˆé€‰ï¼Ÿ

AIï¼šï¼ˆé€šè¿‡ MCP æŸ¥é˜…æœ€æ–°æ–‡æ¡£ï¼‰

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     ç»´åº¦       â”‚     Prisma     â”‚    TypeORM     â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ ç±»å‹å®‰å…¨       â”‚ â­â­â­â­â­     â”‚ â­â­â­â­       â”‚
    â”‚ å­¦ä¹ æ›²çº¿       â”‚ â­â­â­â­â­     â”‚ â­â­â­         â”‚
    â”‚ è¿ç§»ç®¡ç†       â”‚ â­â­â­â­â­     â”‚ â­â­â­â­       â”‚
    â”‚ æŸ¥è¯¢ç›´è§‚æ€§     â”‚ â­â­â­â­â­     â”‚ â­â­â­         â”‚
    â”‚ æ€§èƒ½           â”‚ â­â­â­â­       â”‚ â­â­â­â­       â”‚
    â”‚ ç”Ÿæ€ç³»ç»Ÿ       â”‚ â­â­â­â­       â”‚ â­â­â­â­â­     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    æ¨èï¼šPrisma

    ç†ç”±ï¼š
    1. Schema å®šä¹‰ç›´è§‚ï¼Œä¸€ç›®äº†ç„¶
    2. è‡ªåŠ¨ç”Ÿæˆç±»å‹ï¼Œç±»å‹å®‰å…¨
    3. è¿ç§»ç®¡ç†ç®€å•ï¼Œprisma migrate ä¸€é”®æå®š
    4. æŸ¥è¯¢ API ç®€æ´ï¼Œé“¾å¼è°ƒç”¨å‹å¥½
</code></pre>
<h3 data-id="heading-6">2.3 æœ€ç»ˆæŠ€æœ¯æ ˆ</h3>
<pre><code class="hljs language-txt" lang="txt">åç«¯æŠ€æœ¯æ ˆï¼š
â”œâ”€â”€ æ¡†æ¶ï¼šNext.js 15 (Pages Router)
â”œâ”€â”€ æ•°æ®åº“ï¼šMySQL
â”œâ”€â”€ ORMï¼šPrisma 4.11
â”œâ”€â”€ è®¤è¯ï¼šJWT (jsonwebtoken)
â”œâ”€â”€ åŠ å¯†ï¼šbcryptjs
â”œâ”€â”€ æ—¥å¿—ï¼šWinston + daily-rotate-file
â”œâ”€â”€ AI é›†æˆï¼šOpenAI SDK
â”œâ”€â”€ æ”¯ä»˜ï¼šå¾®ä¿¡æ”¯ä»˜ + æ”¯ä»˜å®
â”œâ”€â”€ å­˜å‚¨ï¼šè…¾è®¯äº‘ COS
â””â”€â”€ ç±»å‹å…±äº«ï¼šshared-types (workspace)
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€æ•°æ®åº“è®¾è®¡ï¼šPrisma Schema</h2>
<h3 data-id="heading-8">3.1 ç”¨æˆ·è¡¨è®¾è®¡</h3>
<p>æ•°æ®åº“è®¾è®¡æ˜¯åç«¯å¼€å‘çš„ç¬¬ä¸€æ­¥ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€æ­¥ã€‚</p>
<p><strong>æç¤ºè¯</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å¸®æˆ‘è®¾è®¡ç”¨æˆ·è¡¨ï¼Œéœ€è¦æ”¯æŒï¼š
1. å¾®ä¿¡å°ç¨‹åºç™»å½•ï¼ˆopenidï¼‰
2. æ‰‹æœºå·ç™»å½•
3. æ€§åˆ«ã€å¹´é¾„æ®µç­‰ç”¨æˆ·å±æ€§
4. å…è´¹ä½¿ç”¨æ¬¡æ•°é™åˆ¶
5. æ³¨å†Œæ¥æºå’Œæ¸ é“è¿½è¸ª
</code></pre>
<p><strong>AI ç”Ÿæˆçš„ Prisma Schema</strong>ï¼š</p>
<pre><code class="hljs language-prisma" lang="prisma">// prisma/schema.prisma

generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "darwin", "darwin-arm64", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  user_id               String    @id @default(uuid())
  username              String
  email                 String?   @unique
  phone_number          String?
  openid                String?   // å¾®ä¿¡ openid
  hashed_password       String
  email_verified        Boolean   @default(false)
  phone_verified        Boolean   @default(false)

  // åœ°ç†ä¿¡æ¯
  country               String?
  province              String?
  city                  String?
  isp                   String?

  // ç”¨æˆ·å±æ€§
  verification_code     String?
  avatar                String?
  gender                Int?      // 1: ç”·, 2: å¥³
  age_group             Int?      // 1: 00å, 2: 05å, 3: 90å, 4: 80å, 5: 70å

  // çŠ¶æ€ç®¡ç†
  disabled_status       Int?      @default(0)
  disabled_time         DateTime?

  // å…è´¹é¢åº¦
  free_reply_total      Int       @default(3)
  free_reply_used       Int       @default(0)
  free_reply_reset_time DateTime?

  // æ¥æºè¿½è¸ª
  register_source       Int       @default(1)  // æ³¨å†Œæ¥æº
  register_channel      Int       @default(1)  // æ³¨å†Œæ¸ é“
  latest_source         Int       @default(1)  // æœ€è¿‘æ¥æº
  latest_channel        Int       @default(1)  // æœ€è¿‘æ¸ é“

  // æ—¶é—´æˆ³
  code_send_time        DateTime?
  create_time           DateTime? @default(now())
  update_time           DateTime  @default(now()) @updatedAt
  operate_time          DateTime?

  // ç´¢å¼•
  @@unique([phone_number, deleted_status])
  @@index([register_source], name: "idx_users_register_source")
  @@index([latest_source], name: "idx_users_latest_source")
  @@map("users")
}
</code></pre>
<p><strong>è®¾è®¡è¦ç‚¹è§£æ</strong>ï¼š</p>
<ol>
<li><strong>UUID ä¸»é”®</strong>ï¼šä½¿ç”¨ <code>@default(uuid())</code> è€Œéè‡ªå¢ IDï¼Œåˆ†å¸ƒå¼å‹å¥½ï¼Œè‡ªå·±ç©çš„å°é¡¹ç›®æ¨èè‡ªå¢ ID</li>
<li><strong>è½¯åˆ é™¤</strong>ï¼š<code>deleted_status</code> + <code>deleted_time</code>ï¼Œæ•°æ®å¯æ¢å¤</li>
<li><strong>æ¥æºè¿½è¸ª</strong>ï¼š<code>register_source/channel</code> å’Œ <code>latest_source/channel</code>ï¼Œç”¨äºæ•°æ®åˆ†æ</li>
<li><strong>å…è´¹é¢åº¦</strong>ï¼š<code>free_reply_total/used/reset_time</code>ï¼Œå®ç°æ¯æ—¥å…è´¹æ¬¡æ•°é™åˆ¶</li>
</ol>
<h3 data-id="heading-9">3.2 ä¼šå‘˜è¡¨è®¾è®¡</h3>
<pre><code class="hljs language-prisma" lang="prisma">// ä¼šå‘˜ç±»å‹æ¨¡å‹
model MembershipType {
  id              Int       @id @default(autoincrement())
  name            String    // ä¼šå‘˜åç§°ï¼šæœˆåº¦ä¼šå‘˜ã€å­£åº¦ä¼šå‘˜ã€å¹´åº¦ä¼šå‘˜
  price           Decimal   @db.Decimal(10, 2)
  duration_days   Int       // ä¼šå‘˜æ—¶é•¿ï¼ˆå¤©ï¼‰
  description     String?
  is_active       Boolean   @default(true)
  sort_order      Int       @default(0)
  create_time     DateTime  @default(now())
  update_time     DateTime  @default(now()) @updatedAt

  @@map("membership_types")
}

// ç”¨æˆ·ä¼šå‘˜è®°å½•
model UserMembership {
  id              Int       @id @default(autoincrement())
  user_id         String
  membership_type Int       // å…³è”ä¼šå‘˜ç±»å‹
  start_time      DateTime
  end_time        DateTime
  is_active       Boolean   @default(true)
  source          String    @default("purchase") // purchase/gift/invite
  order_id        String?   // å…³è”è®¢å•
  create_time     DateTime  @default(now())
  update_time     DateTime  @default(now()) @updatedAt

  @@index([user_id], name: "idx_user_membership_user_id")
  @@index([end_time], name: "idx_user_membership_end_time")
  @@map("user_memberships")
}
</code></pre>
<h3 data-id="heading-10">3.3 Prisma åˆå§‹åŒ–å’Œè¿ç§»</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… Prisma</span>
pnpm --filter xingdong-server add prisma @prisma/client

<span class="hljs-comment"># åˆå§‹åŒ– Prisma</span>
pnpm --filter xingdong-server prisma init

<span class="hljs-comment"># ç”Ÿæˆ Prisma Client</span>
pnpm --filter xingdong-server prisma generate

<span class="hljs-comment"># åˆ›å»ºè¿ç§»</span>
pnpm --filter xingdong-server prisma migrate dev --name init

<span class="hljs-comment"># æŸ¥çœ‹æ•°æ®åº“</span>
pnpm --filter xingdong-server prisma studio
</code></pre>
<h2 data-id="heading-11">å››ã€é¡¹ç›®ç»“æ„ï¼šåˆ†å±‚æ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-12">4.1 ç›®å½•ç»“æ„</h3>
<p>AI å¸®å°ä½•è®¾è®¡äº†æ¸…æ™°çš„åˆ†å±‚æ¶æ„ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">apps/xindong-server/
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma           # æ•°æ®åº“æ¨¡å‹å®šä¹‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ constants/              # å¸¸é‡å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ db/                     # æ•°æ®è®¿é—®å±‚ (DAL)
â”‚   â”‚   â”œâ”€â”€ user.ts             # ç”¨æˆ·æ•°æ®æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ chat.ts             # èŠå¤©æ•°æ®æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ membership.ts       # ä¼šå‘˜æ•°æ®æ“ä½œ
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ helper/                 # è¾…åŠ©å·¥å…·
â”‚   â”‚   â”œâ”€â”€ logger.ts           # æ—¥å¿—å·¥å…·
â”‚   â”‚   â””â”€â”€ responseHelper.ts   # å“åº”æ ¼å¼åŒ–
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â””â”€â”€ api/                # API è·¯ç”±
â”‚   â”‚       â”œâ”€â”€ auth/           # è®¤è¯ç›¸å…³
â”‚   â”‚       â”‚   â”œâ”€â”€ login.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ wx-login.ts
â”‚   â”‚       â”‚   â””â”€â”€ register.ts
â”‚   â”‚       â”œâ”€â”€ chat/           # èŠå¤©ç›¸å…³
â”‚   â”‚       â”œâ”€â”€ membership/     # ä¼šå‘˜ç›¸å…³
â”‚   â”‚       â””â”€â”€ upload/         # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”œâ”€â”€ service/                # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ auth.ts             # è®¤è¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ chatService.ts      # èŠå¤©æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ membershipService.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ type/                   # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ auth/
â”‚       â”‚   â””â”€â”€ auth.ts         # JWT å·¥å…·
â”‚       â”œâ”€â”€ prismaProxy.ts      # Prisma ä»£ç†
â”‚       â””â”€â”€ logRequest.ts       # è¯·æ±‚æ—¥å¿—
â”œâ”€â”€ .env                        # ç¯å¢ƒå˜é‡
â””â”€â”€ package.json
</code></pre>
<p><strong>åˆ†å±‚èŒè´£</strong>ï¼š</p>
<ol>
<li><strong>pages/api</strong>ï¼šæ¥æ”¶è¯·æ±‚ã€å‚æ•°éªŒè¯ã€è°ƒç”¨ Service</li>
<li><strong>service</strong>ï¼šä¸šåŠ¡é€»è¾‘å¤„ç†ã€è°ƒç”¨å¤šä¸ª DB æ–¹æ³•</li>
<li><strong>db</strong>ï¼šçº¯æ•°æ®æ“ä½œã€Prisma æŸ¥è¯¢å°è£…</li>
<li><strong>helper</strong>ï¼šé€šç”¨è¾…åŠ©åŠŸèƒ½ï¼ˆæ—¥å¿—ã€å“åº”æ ¼å¼åŒ–ï¼‰</li>
<li><strong>utils</strong>ï¼šå·¥å…·å‡½æ•°ï¼ˆåŠ å¯†ã€JWTã€è¯·æ±‚å¤„ç†ï¼‰</li>
</ol>
<h3 data-id="heading-13">4.2 Prisma ä»£ç†å°è£…</h3>
<p>AI ç”Ÿæˆäº†ä¸€ä¸ª Prisma ä»£ç†ï¼Œè‡ªåŠ¨è®°å½•æ‰€æœ‰æ•°æ®åº“æ“ä½œæ—¥å¿—ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/utils/prismaProxy.ts</span>
<span class="hljs-keyword">import</span> logger <span class="hljs-keyword">from</span> <span class="hljs-string">'@/helper/logger'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">PrismaClient</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@prisma/client'</span>;

<span class="hljs-keyword">const</span> prisma = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PrismaClient</span>();

<span class="hljs-keyword">function</span> <span class="hljs-title function_">handlePrismaError</span>(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) {
  logger.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Prisma error: <span class="hljs-subst">${error.message}</span>`</span>, { error });
}

<span class="hljs-keyword">const</span> <span class="hljs-attr">handler</span>: <span class="hljs-title class_">ProxyHandler</span>&lt;<span class="hljs-title class_">PrismaClient</span>&gt; = {
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, propKey</span>) {
    <span class="hljs-keyword">const</span> origMethod = target[propKey <span class="hljs-keyword">as</span> keyof <span class="hljs-title class_">PrismaClient</span>];

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> origMethod === <span class="hljs-string">'function'</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-variable language_">this</span>: PrismaClient, ...args: <span class="hljs-built_in">unknown</span>[]</span>) {
        <span class="hljs-keyword">const</span> boundMethod = (origMethod <span class="hljs-keyword">as</span> <span class="hljs-title class_">Function</span>).<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
        <span class="hljs-keyword">try</span> {
          <span class="hljs-comment">// è®°å½•è¯·æ±‚æ—¥å¿—</span>
          logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Prisma request: <span class="hljs-subst">${propKey.toString()}</span> with args: <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(args)}</span>`</span>);

          <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">boundMethod</span>(...args);
          <span class="hljs-keyword">if</span> (result <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Promise</span>) {
            <span class="hljs-keyword">return</span> result
              .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
                <span class="hljs-comment">// å¦‚æœå“åº”åŒ…å« count å±æ€§ï¼Œåˆ™è®°å½•æ‰€å½±å“çš„è¡Œæ•°</span>
                <span class="hljs-keyword">if</span> (res &amp;&amp; <span class="hljs-keyword">typeof</span> res.<span class="hljs-property">count</span> === <span class="hljs-string">'number'</span>) {
                  logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">`Prisma response: <span class="hljs-subst">${propKey.toString()}</span> affected rows: <span class="hljs-subst">${res.count}</span>`</span>);
                }
                <span class="hljs-keyword">return</span> res;
              })
              .<span class="hljs-title function_">catch</span>(handlePrismaError);
          }
          <span class="hljs-keyword">return</span> result;
        } <span class="hljs-keyword">catch</span> (error) {
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">handlePrismaError</span>(error <span class="hljs-keyword">as</span> <span class="hljs-title class_">Error</span>);
        }
      };
    }

    <span class="hljs-keyword">return</span> target[propKey <span class="hljs-keyword">as</span> keyof <span class="hljs-title class_">PrismaClient</span>];
  },
};

<span class="hljs-keyword">const</span> prismaProxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(prisma, handler);
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> prismaProxy;
</code></pre>
<p><strong>ä½¿ç”¨æ–¹å¼</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨ db å±‚ä½¿ç”¨ä»£ç†åçš„ prisma</span>
<span class="hljs-keyword">import</span> prisma <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/prismaProxy'</span>;

<span class="hljs-comment">// æ‰€æœ‰æ“ä½œè‡ªåŠ¨è®°å½•æ—¥å¿—</span>
<span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> prisma.<span class="hljs-property">user</span>.<span class="hljs-title function_">findUnique</span>({
  <span class="hljs-attr">where</span>: { <span class="hljs-attr">user_id</span>: userId },
});
</code></pre>
<h2 data-id="heading-14">äº”ã€JWT è®¤è¯ï¼šä»ç”Ÿæˆåˆ°éªŒè¯</h2>
<h3 data-id="heading-15">5.1 JWT å·¥å…·å°è£…</h3>
<p><strong>æç¤ºè¯</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å¸®æˆ‘å°è£… JWT å·¥å…·ï¼Œéœ€è¦ï¼š
1. ç”Ÿæˆ Tokenï¼ˆå¸¦è¿‡æœŸæ—¶é—´ï¼‰
2. éªŒè¯ Token
3. å¯†ç å“ˆå¸Œå’ŒéªŒè¯
4. ä½¿ç”¨ bcryptjs åŠ å¯†
</code></pre>
<p><strong>AI ç”Ÿæˆçš„ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/utils/auth/auth.ts</span>
<span class="hljs-keyword">import</span> jwt <span class="hljs-keyword">from</span> <span class="hljs-string">'jsonwebtoken'</span>;
<span class="hljs-keyword">import</span> bcrypt <span class="hljs-keyword">from</span> <span class="hljs-string">'bcryptjs'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-variable constant_">TOKEN_EXPIRE_IN</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/constants'</span>;

<span class="hljs-comment">// å¯†ç å“ˆå¸Œ</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> hashPassword = <span class="hljs-keyword">async</span> (<span class="hljs-attr">password</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt; =&gt; {
  <span class="hljs-keyword">const</span> salt = <span class="hljs-keyword">await</span> bcrypt.<span class="hljs-title function_">genSalt</span>(<span class="hljs-number">10</span>);
  <span class="hljs-keyword">return</span> bcrypt.<span class="hljs-title function_">hash</span>(password, salt);
};

<span class="hljs-comment">// å¯†ç éªŒè¯</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> verifyPassword = <span class="hljs-keyword">async</span> (
  <span class="hljs-attr">password</span>: <span class="hljs-built_in">string</span>,
  <span class="hljs-attr">hashedPassword</span>: <span class="hljs-built_in">string</span>,
): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; =&gt; {
  <span class="hljs-keyword">return</span> bcrypt.<span class="hljs-title function_">compare</span>(password, hashedPassword);
};

<span class="hljs-comment">// ç”Ÿæˆ JWT</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> generateJWT = (<span class="hljs-attr">userId</span>: <span class="hljs-built_in">string</span>): <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> jwt.<span class="hljs-title function_">sign</span>({ userId }, process.<span class="hljs-property">env</span>.<span class="hljs-property">JWT_SECRET</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>, {
    <span class="hljs-attr">expiresIn</span>: <span class="hljs-variable constant_">TOKEN_EXPIRE_IN</span>, <span class="hljs-comment">// ä¾‹å¦‚ '7d'</span>
  });
};

<span class="hljs-comment">// éªŒè¯ JWT</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> verifyJWT = (<span class="hljs-attr">token</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt; =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    jwt.<span class="hljs-title function_">verify</span>(token, process.<span class="hljs-property">env</span>.<span class="hljs-property">JWT_SECRET</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>, <span class="hljs-function">(<span class="hljs-params">err, decoded</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (err) {
        <span class="hljs-title function_">reject</span>(err);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">resolve</span>(decoded);
      }
    });
  });
};
</code></pre>
<h3 data-id="heading-16">5.2 è®¤è¯ä¸­é—´ä»¶</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/utils/auth/authMiddleware.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextApiRequest</span>, <span class="hljs-title class_">NextApiResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next'</span>;
<span class="hljs-keyword">import</span> { verifyJWT } <span class="hljs-keyword">from</span> <span class="hljs-string">'./auth'</span>;
<span class="hljs-keyword">import</span> { sendUnauthorizedResponse } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/helper/responseHelper'</span>;
<span class="hljs-keyword">import</span> { getUserById } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/db/user'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">AuthenticatedRequest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">NextApiRequest</span> {
  <span class="hljs-attr">userId</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">user</span>: <span class="hljs-built_in">any</span>;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">withAuth</span> = (<span class="hljs-params">
  handler: (req: AuthenticatedRequest, res: NextApiResponse) =&gt; <span class="hljs-built_in">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt;,
</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">async</span> (<span class="hljs-attr">req</span>: <span class="hljs-title class_">NextApiRequest</span>, <span class="hljs-attr">res</span>: <span class="hljs-title class_">NextApiResponse</span>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// ä» Header è·å– Token</span>
      <span class="hljs-keyword">const</span> authHeader = req.<span class="hljs-property">headers</span>.<span class="hljs-property">authorization</span>;
      <span class="hljs-keyword">if</span> (!authHeader || !authHeader.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'Bearer '</span>)) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">sendUnauthorizedResponse</span>(res, <span class="hljs-string">'è¯·å…ˆç™»å½•'</span>);
      }

      <span class="hljs-keyword">const</span> token = authHeader.<span class="hljs-title function_">substring</span>(<span class="hljs-number">7</span>);

      <span class="hljs-comment">// éªŒè¯ Token</span>
      <span class="hljs-keyword">const</span> decoded = <span class="hljs-keyword">await</span> <span class="hljs-title function_">verifyJWT</span>(token);
      <span class="hljs-keyword">if</span> (!decoded || !decoded.<span class="hljs-property">userId</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">sendUnauthorizedResponse</span>(res, <span class="hljs-string">'Token æ— æ•ˆ'</span>);
      }

      <span class="hljs-comment">// è·å–ç”¨æˆ·ä¿¡æ¯</span>
      <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getUserById</span>(decoded.<span class="hljs-property">userId</span>);
      <span class="hljs-keyword">if</span> (!user) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">sendUnauthorizedResponse</span>(res, <span class="hljs-string">'ç”¨æˆ·ä¸å­˜åœ¨'</span>);
      }

      <span class="hljs-comment">// æ³¨å…¥ç”¨æˆ·ä¿¡æ¯</span>
      (req <span class="hljs-keyword">as</span> <span class="hljs-title class_">AuthenticatedRequest</span>).<span class="hljs-property">userId</span> = decoded.<span class="hljs-property">userId</span>;
      (req <span class="hljs-keyword">as</span> <span class="hljs-title class_">AuthenticatedRequest</span>).<span class="hljs-property">user</span> = user;

      <span class="hljs-comment">// è°ƒç”¨åŸå§‹å¤„ç†å‡½æ•°</span>
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">handler</span>(req <span class="hljs-keyword">as</span> <span class="hljs-title class_">AuthenticatedRequest</span>, res);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">sendUnauthorizedResponse</span>(res, <span class="hljs-string">'è®¤è¯å¤±è´¥ï¼Œè¯·é‡æ–°ç™»å½•'</span>);
    }
  };
};
</code></pre>
<p><strong>ä½¿ç”¨æ–¹å¼</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// pages/api/user/profile.ts</span>
<span class="hljs-keyword">import</span> { withAuth, <span class="hljs-title class_">AuthenticatedRequest</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/auth/authMiddleware'</span>;
<span class="hljs-keyword">import</span> { sendSuccessResponse } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/helper/responseHelper'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextApiResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handler</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">req: AuthenticatedRequest, res: NextApiResponse</span>) =&gt; {
  <span class="hljs-comment">// req.userId å’Œ req.user å·²ç»å¯ç”¨</span>
  <span class="hljs-title function_">sendSuccessResponse</span>(res, <span class="hljs-string">'è·å–æˆåŠŸ'</span>, {
    <span class="hljs-attr">user_id</span>: req.<span class="hljs-property">userId</span>,
    <span class="hljs-attr">username</span>: req.<span class="hljs-property">user</span>.<span class="hljs-property">username</span>,
  });
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">withAuth</span>(handler);
</code></pre>
<h2 data-id="heading-17">å…­ã€ç»Ÿä¸€å“åº”æ ¼å¼</h2>
<h3 data-id="heading-18">6.1 å“åº”æ ¼å¼è®¾è®¡</h3>
<p>ç»Ÿä¸€çš„å“åº”æ ¼å¼æ˜¯ API å¼€å‘çš„åŸºæœ¬è¦æ±‚ã€‚AI å¸®å°ä½•è®¾è®¡äº†æ¸…æ™°çš„å“åº”ç»“æ„ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/helper/responseHelper.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextApiResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next'</span>;
<span class="hljs-keyword">import</span> logger <span class="hljs-keyword">from</span> <span class="hljs-string">'./logger'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-variable constant_">UNAUTHORIZED_TIPS</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/constants'</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">JsonResponse</span> {
  <span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>;
  data?: <span class="hljs-built_in">any</span>;
}

<span class="hljs-comment">// é€šç”¨å“åº”</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendResponse</span>(<span class="hljs-params">res: NextApiResponse, code: <span class="hljs-built_in">number</span>, message: <span class="hljs-built_in">string</span>, data: <span class="hljs-built_in">any</span> = <span class="hljs-literal">null</span></span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-attr">jsonResponse</span>: <span class="hljs-title class_">JsonResponse</span> = {
    code,
    message,
    data,
  };
  res.<span class="hljs-title function_">status</span>(code).<span class="hljs-title function_">json</span>(jsonResponse);
}

<span class="hljs-comment">// æˆåŠŸå“åº”</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendSuccessResponse</span>(<span class="hljs-params">
  res: NextApiResponse,
  message: <span class="hljs-built_in">string</span> = <span class="hljs-string">'æ•°æ®è·å–æˆåŠŸ'</span>,
  data: <span class="hljs-built_in">any</span> = <span class="hljs-literal">null</span>,
</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-title function_">sendResponse</span>(res, <span class="hljs-number">200</span>, message, data);
}

<span class="hljs-comment">// é”™è¯¯å“åº”ï¼ˆæœåŠ¡å™¨é”™è¯¯ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendErrorResponse</span>(<span class="hljs-params">res: NextApiResponse, message: <span class="hljs-built_in">string</span>, data: <span class="hljs-built_in">any</span> = <span class="hljs-literal">null</span></span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-title function_">sendResponse</span>(res, <span class="hljs-number">500</span>, message, data);
  logger.<span class="hljs-title function_">error</span>(message);
  logger.<span class="hljs-title function_">error</span>(data);
}

<span class="hljs-comment">// è­¦å‘Šå“åº”ï¼ˆä¸šåŠ¡é”™è¯¯ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendWarnningResponse</span>(<span class="hljs-params">res: NextApiResponse, message: <span class="hljs-built_in">string</span>, data: <span class="hljs-built_in">any</span> = <span class="hljs-literal">null</span></span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-title function_">sendResponse</span>(res, <span class="hljs-number">503</span>, message, data);
}

<span class="hljs-comment">// æœªæˆæƒå“åº”</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendUnauthorizedResponse</span>(<span class="hljs-params">
  res: NextApiResponse,
  message: <span class="hljs-built_in">string</span> = UNAUTHORIZED_TIPS,
</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-title function_">sendResponse</span>(res, <span class="hljs-number">401</span>, message);
}

<span class="hljs-comment">// æ–¹æ³•ä¸å…è®¸</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendMethodNotAllowedResponse</span>(<span class="hljs-params">
  res: NextApiResponse,
  message: <span class="hljs-built_in">string</span> = <span class="hljs-string">'Method Not Allowed'</span>,
</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-title function_">sendResponse</span>(res, <span class="hljs-number">405</span>, message);
}
</code></pre>
<h3 data-id="heading-19">6.2 å“åº”ç è®¾è®¡</h3>



































<table><thead><tr><th>çŠ¶æ€ç </th><th>å«ä¹‰</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>200</td><td>æˆåŠŸ</td><td>è¯·æ±‚æˆåŠŸå¤„ç†</td></tr><tr><td>401</td><td>æœªæˆæƒ</td><td>Token æ— æ•ˆæˆ–è¿‡æœŸ</td></tr><tr><td>405</td><td>æ–¹æ³•ä¸å…è®¸</td><td>GET æ¥å£æ”¶åˆ° POST è¯·æ±‚</td></tr><tr><td>500</td><td>æœåŠ¡å™¨é”™è¯¯</td><td>ä»£ç å¼‚å¸¸ã€æ•°æ®åº“é”™è¯¯</td></tr><tr><td>503</td><td>ä¸šåŠ¡è­¦å‘Š</td><td>å‚æ•°é”™è¯¯ã€ä¸šåŠ¡è§„åˆ™ä¸æ»¡è¶³</td></tr></tbody></table>
<p><strong>å‰ç«¯ç»Ÿä¸€å¤„ç†</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å‰ç«¯ HTTP æ‹¦æˆªå™¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleResponse</span> = (<span class="hljs-params">response: <span class="hljs-built_in">any</span></span>) =&gt; {
  <span class="hljs-keyword">const</span> { code, message, data } = response;

  <span class="hljs-keyword">switch</span> (code) {
    <span class="hljs-keyword">case</span> <span class="hljs-number">200</span>:
      <span class="hljs-keyword">return</span> data;
    <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:
      <span class="hljs-comment">// è·³è½¬ç™»å½•</span>
      uni.<span class="hljs-title function_">reLaunch</span>({ <span class="hljs-attr">url</span>: <span class="hljs-string">'/pages/login/login'</span> });
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(message);
    <span class="hljs-keyword">case</span> <span class="hljs-number">503</span>:
      <span class="hljs-comment">// ä¸šåŠ¡è­¦å‘Šï¼Œæ˜¾ç¤º Toast</span>
      uni.<span class="hljs-title function_">showToast</span>({ <span class="hljs-attr">title</span>: message, <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span> });
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(message);
    <span class="hljs-keyword">case</span> <span class="hljs-number">500</span>:
      <span class="hljs-comment">// æœåŠ¡å™¨é”™è¯¯</span>
      uni.<span class="hljs-title function_">showToast</span>({ <span class="hljs-attr">title</span>: <span class="hljs-string">'æœåŠ¡å™¨å¼€å°å·®äº†'</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">'none'</span> });
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(message);
    <span class="hljs-attr">default</span>:
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(message || <span class="hljs-string">'æœªçŸ¥é”™è¯¯'</span>);
  }
};
</code></pre>
<h2 data-id="heading-20">ä¸ƒã€å¾®ä¿¡å°ç¨‹åºç™»å½•å®ç°</h2>
<h3 data-id="heading-21">7.1 ç™»å½•æµç¨‹è®¾è®¡</h3>
<p>å¾®ä¿¡å°ç¨‹åºç™»å½•æ˜¯"å¿ƒåŠ¨æ‹èŠ"çš„æ ¸å¿ƒåŠŸèƒ½ã€‚AI å¸®å°ä½•è®¾è®¡äº†å®Œæ•´çš„ç™»å½•æµç¨‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Client as å°ç¨‹åºç«¯
    participant Server as åç«¯æœåŠ¡
    participant WX as å¾®ä¿¡æœåŠ¡å™¨

    Client-&gt;&gt;Client: 1. wx.login()
    Client-&gt;&gt;Client: 2. è¿”å› code

    Client-&gt;&gt;Server: 3. POST /api/auth/wx-login
    Note right of Client: { code, gender, age_group }

    Server-&gt;&gt;WX: 4. jscode2session
    WX--&gt;&gt;Server: 5. è¿”å› openid

    Server-&gt;&gt;Server: 6. æŸ¥æ‰¾/åˆ›å»ºç”¨æˆ·
    Server-&gt;&gt;Server: 7. ç”Ÿæˆ JWT

    Server--&gt;&gt;Client: 8. è¿”å› token + userInfo
</code></pre>
<h3 data-id="heading-22">7.2 ç™»å½• API å®ç°</h3>
<p><strong>æç¤ºè¯</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å¸®æˆ‘å®ç°å¾®ä¿¡å°ç¨‹åºç™»å½• APIï¼Œéœ€è¦ï¼š
1. æ¥æ”¶ wx.login çš„ code
2. è°ƒç”¨å¾®ä¿¡æœåŠ¡å™¨è·å– openid
3. æ–°ç”¨æˆ·éœ€è¦æ”¶é›†æ€§åˆ«å’Œå¹´é¾„æ®µ
4. è€ç”¨æˆ·ç›´æ¥è¿”å› token
5. æ”¯æŒå¤šæ¥æºï¼ˆå°ç¨‹åºã€Appï¼‰
6. è®°å½•ç”¨æˆ·æ¥æºå’Œæ¸ é“
</code></pre>
<p><strong>AI ç”Ÿæˆçš„ä»£ç </strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/pages/api/auth/wx-login.ts</span>
<span class="hljs-keyword">import</span> { sendErrorResponse, sendSuccessResponse } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/helper/responseHelper'</span>;
<span class="hljs-keyword">import</span> { generateJWT } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/auth/auth'</span>;
<span class="hljs-keyword">import</span> { getUserByOpenid, createUserByOpenid } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/db/user'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextApiRequest</span>, <span class="hljs-title class_">NextApiResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handler</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">req: NextApiRequest, res: NextApiResponse</span>) =&gt; {
  <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> !== <span class="hljs-string">'POST'</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">sendErrorResponse</span>(res, <span class="hljs-string">'Method Not Allowed'</span>);
  }

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> { code, gender, age_group } = req.<span class="hljs-property">body</span>;

    <span class="hljs-comment">// 1. è°ƒç”¨å¾®ä¿¡æœåŠ¡å™¨è·å– openid</span>
    <span class="hljs-keyword">const</span> wxLoginUrl = <span class="hljs-string">`https://api.weixin.qq.com/sns/jscode2session?appid=<span class="hljs-subst">${process.env.WX_APPID}</span>&amp;secret=<span class="hljs-subst">${process.env.WX_SECRET}</span>&amp;js_code=<span class="hljs-subst">${code}</span>&amp;grant_type=authorization_code`</span>;
    <span class="hljs-keyword">const</span> wxRes = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(wxLoginUrl);
    <span class="hljs-keyword">const</span> { openid } = <span class="hljs-keyword">await</span> wxRes.<span class="hljs-title function_">json</span>();

    <span class="hljs-comment">// 2. æŸ¥æ‰¾æˆ–åˆ›å»ºç”¨æˆ·</span>
    <span class="hljs-keyword">let</span> user = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getUserByOpenid</span>(openid);
    <span class="hljs-keyword">let</span> isNewUser = <span class="hljs-literal">false</span>;

    <span class="hljs-keyword">if</span> (!user) {
      <span class="hljs-comment">// æ–°ç”¨æˆ·éœ€è¦æä¾›æ€§åˆ«å’Œå¹´é¾„</span>
      <span class="hljs-keyword">if</span> (!gender || !age_group) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">sendSuccessResponse</span>(res, <span class="hljs-string">'éœ€è¦å®Œå–„ä¿¡æ¯'</span>, { <span class="hljs-attr">needsRegistration</span>: <span class="hljs-literal">true</span>, openid });
      }
      user = <span class="hljs-keyword">await</span> <span class="hljs-title function_">createUserByOpenid</span>(openid, gender, age_group);
      isNewUser = <span class="hljs-literal">true</span>;
    }

    <span class="hljs-comment">// 3. ç”Ÿæˆ JWT Token</span>
    <span class="hljs-keyword">const</span> token = <span class="hljs-title function_">generateJWT</span>(user.<span class="hljs-property">user_id</span>);

    <span class="hljs-comment">// 4. è¿”å›ç™»å½•ç»“æœ</span>
    <span class="hljs-title function_">sendSuccessResponse</span>(res, <span class="hljs-string">'ç™»å½•æˆåŠŸ'</span>, { token, ...user, isNewUser });
  } <span class="hljs-keyword">catch</span> (<span class="hljs-attr">error</span>: <span class="hljs-built_in">any</span>) {
    <span class="hljs-title function_">sendErrorResponse</span>(res, <span class="hljs-string">'ç™»å½•å¤±è´¥'</span>, error.<span class="hljs-property">message</span>);
  }
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> handler;
</code></pre>
<h3 data-id="heading-23">7.3 ç™»å½•æœåŠ¡å±‚</h3>
<p>æ‰‹æœºå·ç™»å½•çš„æœåŠ¡å±‚å°è£…ï¼Œæ”¯æŒå¯†ç å’ŒéªŒè¯ç ä¸¤ç§æ–¹å¼ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/service/auth.ts</span>
<span class="hljs-keyword">import</span> { getUserByPhoneNumber } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/db/user'</span>;
<span class="hljs-keyword">import</span> { checkCodeValid } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/service/checkCodeValid'</span>;
<span class="hljs-keyword">import</span> { generateJWT, verifyPassword } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/auth/auth'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">LoginCredentials</span>, <span class="hljs-title class_">LoginResult</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'shared-types'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AuthServiceError</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Error</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">
    message: <span class="hljs-built_in">string</span>,
    <span class="hljs-keyword">public</span> code: <span class="hljs-built_in">string</span>,
  </span>) {
    <span class="hljs-variable language_">super</span>(message);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'AuthServiceError'</span>;
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loginUser</span>(<span class="hljs-params">credentials: LoginCredentials</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">LoginResult</span>&gt; {
  <span class="hljs-keyword">const</span> { phone_number, password, verification_code } = credentials;

  <span class="hljs-comment">// ä»æ•°æ®åº“è·å–ç”¨æˆ·</span>
  <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getUserByPhoneNumber</span>(phone_number!);
  <span class="hljs-keyword">if</span> (!user) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AuthServiceError</span>(<span class="hljs-string">'è¯¥ç”¨æˆ·ä¸å­˜åœ¨ï¼Œè¯·å…ˆæ³¨å†Œ'</span>, <span class="hljs-string">'USER_NOT_FOUND'</span>);
  }

  <span class="hljs-keyword">if</span> (password) {
    <span class="hljs-comment">// å¯†ç ç™»å½•</span>
    <span class="hljs-keyword">const</span> decodedPassword = <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(password, <span class="hljs-string">'base64'</span>).<span class="hljs-title function_">toString</span>();
    <span class="hljs-keyword">const</span> isPasswordValid = <span class="hljs-keyword">await</span> <span class="hljs-title function_">verifyPassword</span>(decodedPassword, user.<span class="hljs-property">hashed_password</span>);
    <span class="hljs-keyword">if</span> (!isPasswordValid) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AuthServiceError</span>(<span class="hljs-string">'æ‰‹æœºå·æˆ–å¯†ç è¾“å…¥æœ‰è¯¯'</span>, <span class="hljs-string">'INVALID_CREDENTIALS'</span>);
    }

    <span class="hljs-keyword">if</span> (!user.<span class="hljs-property">phone_verified</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AuthServiceError</span>(
        <span class="hljs-string">'æ‰‹æœºå·æœªéªŒè¯é€šè¿‡ï¼Œè¯·å…ˆä½¿ç”¨æ‰‹æœºå·+éªŒè¯ç çš„æ–¹å¼ç™»å½•'</span>,
        <span class="hljs-string">'PHONE_UNVERIFIED'</span>,
      );
    }
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// éªŒè¯ç ç™»å½•</span>
    <span class="hljs-keyword">if</span> (!verification_code) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AuthServiceError</span>(<span class="hljs-string">'è¯·è¾“å…¥éªŒè¯ç '</span>, <span class="hljs-string">'MISSING_VERIFICATION_CODE'</span>);
    }
    <span class="hljs-keyword">const</span> { valid, msg } = <span class="hljs-title function_">checkCodeValid</span>({ user, <span class="hljs-attr">code</span>: verification_code });
    <span class="hljs-keyword">if</span> (!valid) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AuthServiceError</span>(msg, <span class="hljs-string">'INVALID_VERIFICATION_CODE'</span>);
    }

    <span class="hljs-keyword">if</span> (!user.<span class="hljs-property">phone_verified</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AuthServiceError</span>(<span class="hljs-string">'è¯·å…ˆæ³¨å†Œå®Œæˆåå†ç™»å½•'</span>, <span class="hljs-string">'USER_NOT_REGISTERED'</span>);
    }
  }

  <span class="hljs-comment">// ç”Ÿæˆ JWT</span>
  <span class="hljs-keyword">const</span> token = <span class="hljs-keyword">await</span> <span class="hljs-title function_">generateJWT</span>(user.<span class="hljs-property">user_id</span>);

  <span class="hljs-keyword">return</span> {
    user,
    token,
  };
}
</code></pre>
<h2 data-id="heading-24">å…«ã€å‰åç«¯ç±»å‹å…±äº«ï¼šshared-types</h2>
<h3 data-id="heading-25">8.1 ä¸ºä»€ä¹ˆéœ€è¦ç±»å‹å…±äº«</h3>
<p>å‰åç«¯åˆ†ç¦»å¼€å‘æ—¶ï¼Œæœ€å¸¸è§çš„é—®é¢˜æ˜¯<strong>æ¥å£å¯¹ä¸ä¸Š</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">åç«¯ï¼š{ user_id: "xxx" }
å‰ç«¯ï¼š{ userId: "xxx" }  // æ‹¿ä¸åˆ°æ•°æ®

åç«¯ï¼š{ gender: 1 }
å‰ç«¯ï¼š{ gender: "ç”·" }  // ç±»å‹ä¸åŒ¹é…
</code></pre>
<p>è§£å†³æ–¹æ¡ˆï¼š<strong>shared-types åŒ…</strong>ã€‚</p>
<h3 data-id="heading-26">8.2 ç±»å‹å®šä¹‰</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// packages/shared-types/enums.ts</span>

<span class="hljs-comment">/**
 * æ€§åˆ«æšä¸¾
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">GenderEnum</span> {
  <span class="hljs-variable constant_">MALE</span> = <span class="hljs-number">1</span>,
  <span class="hljs-variable constant_">FEMALE</span> = <span class="hljs-number">2</span>,
}

<span class="hljs-comment">/**
 * å¹´é¾„æ®µæšä¸¾
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">AgeGroupEnum</span> {
  <span class="hljs-variable constant_">POST_00</span> = <span class="hljs-number">1</span>,  <span class="hljs-comment">// 00å</span>
  <span class="hljs-variable constant_">POST_05</span> = <span class="hljs-number">2</span>,  <span class="hljs-comment">// 05å</span>
  <span class="hljs-variable constant_">POST_90</span> = <span class="hljs-number">3</span>,  <span class="hljs-comment">// 90å</span>
  <span class="hljs-variable constant_">POST_80</span> = <span class="hljs-number">4</span>,  <span class="hljs-comment">// 80å</span>
  <span class="hljs-variable constant_">POST_70</span> = <span class="hljs-number">5</span>,  <span class="hljs-comment">// 70å</span>
}

<span class="hljs-comment">/**
 * å¹´é¾„æ®µæšä¸¾æ˜ å°„ï¼ˆç”¨äºæ˜¾ç¤ºï¼‰
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">AgeGroupMap</span> = {
  [<span class="hljs-title class_">AgeGroupEnum</span>.<span class="hljs-property">POST_00</span>]: <span class="hljs-string">'00å'</span>,
  [<span class="hljs-title class_">AgeGroupEnum</span>.<span class="hljs-property">POST_05</span>]: <span class="hljs-string">'05å'</span>,
  [<span class="hljs-title class_">AgeGroupEnum</span>.<span class="hljs-property">POST_90</span>]: <span class="hljs-string">'90å'</span>,
  [<span class="hljs-title class_">AgeGroupEnum</span>.<span class="hljs-property">POST_80</span>]: <span class="hljs-string">'80å'</span>,
  [<span class="hljs-title class_">AgeGroupEnum</span>.<span class="hljs-property">POST_70</span>]: <span class="hljs-string">'70å'</span>,
};

<span class="hljs-comment">/**
 * å®¢æˆ·ç«¯æ¥æºæšä¸¾
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">ClientSourceEnum</span> {
  <span class="hljs-variable constant_">MP_WEIXIN</span> = <span class="hljs-number">1</span>,  <span class="hljs-comment">// å¾®ä¿¡å°ç¨‹åº</span>
  <span class="hljs-variable constant_">ANDROID</span> = <span class="hljs-number">2</span>,    <span class="hljs-comment">// å®‰å“ App</span>
  <span class="hljs-variable constant_">HARMONY</span> = <span class="hljs-number">3</span>,    <span class="hljs-comment">// é¸¿è’™</span>
}
</code></pre>
<h3 data-id="heading-27">8.3 åœ¨é¡¹ç›®ä¸­ä½¿ç”¨</h3>
<p><strong>åç«¯ä½¿ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// apps/xingdong-server/src/service/auth.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">LoginCredentials</span>, <span class="hljs-title class_">LoginResult</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'shared-types'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">loginUser</span>(<span class="hljs-params">credentials: LoginCredentials</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">LoginResult</span>&gt; {
  <span class="hljs-comment">// ç±»å‹è‡ªåŠ¨æ¨å¯¼ï¼ŒIDE æ™ºèƒ½æç¤º</span>
}
</code></pre>
<p><strong>å‰ç«¯ä½¿ç”¨</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// apps/unibest-mp/src/api/auth.ts</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">WxLoginParams</span>, <span class="hljs-title class_">WxLoginResult</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'shared-types'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> apiWxLogin = (<span class="hljs-attr">params</span>: <span class="hljs-title class_">WxLoginParams</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">WxLoginResult</span>&gt; =&gt; {
  <span class="hljs-keyword">return</span> http.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/api/auth/wx-login'</span>, params);
};
</code></pre>
<p><strong>package.json é…ç½®</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"shared-types"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"workspace:*"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>Next.js é…ç½®</strong>ï¼ˆé‡è¦ï¼ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// next.config.js</span>
<span class="hljs-keyword">const</span> nextConfig = {
  <span class="hljs-attr">reactStrictMode</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">transpilePackages</span>: [<span class="hljs-string">'shared-types'</span>], <span class="hljs-comment">// ç¼–è¯‘æœ¬åœ° TypeScript åŒ…</span>
};
</code></pre>
<h2 data-id="heading-28">ä¹ã€æ—¥å¿—ç³»ç»Ÿï¼šWinston é…ç½®</h2>
<h3 data-id="heading-29">9.1 æ—¥å¿—é…ç½®</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/helper/logger.ts</span>
<span class="hljs-keyword">import</span> winston <span class="hljs-keyword">from</span> <span class="hljs-string">'winston'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">DailyRotateFile</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'winston-daily-rotate-file'</span>;
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>;

<span class="hljs-comment">// æ—¥å¿—ç›®å½•</span>
<span class="hljs-keyword">const</span> logDir = path.<span class="hljs-title function_">join</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'logs'</span>);

<span class="hljs-comment">// æ—¥å¿—æ ¼å¼</span>
<span class="hljs-keyword">const</span> logFormat = winston.<span class="hljs-property">format</span>.<span class="hljs-title function_">combine</span>(
  winston.<span class="hljs-property">format</span>.<span class="hljs-title function_">timestamp</span>({ <span class="hljs-attr">format</span>: <span class="hljs-string">'YYYY-MM-DD HH:mm:ss'</span> }),
  winston.<span class="hljs-property">format</span>.<span class="hljs-title function_">errors</span>({ <span class="hljs-attr">stack</span>: <span class="hljs-literal">true</span> }),
  winston.<span class="hljs-property">format</span>.<span class="hljs-title function_">printf</span>(<span class="hljs-function">(<span class="hljs-params">{ timestamp, level, message, ...meta }</span>) =&gt;</span> {
    <span class="hljs-keyword">let</span> msg = <span class="hljs-string">`<span class="hljs-subst">${timestamp}</span> [<span class="hljs-subst">${level.toUpperCase()}</span>]: <span class="hljs-subst">${message}</span>`</span>;
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(meta).<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      msg += <span class="hljs-string">` <span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(meta)}</span>`</span>;
    }
    <span class="hljs-keyword">return</span> msg;
  }),
);

<span class="hljs-comment">// åˆ›å»º logger</span>
<span class="hljs-keyword">const</span> logger = winston.<span class="hljs-title function_">createLogger</span>({
  <span class="hljs-attr">level</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">LOG_LEVEL</span> || <span class="hljs-string">'info'</span>,
  <span class="hljs-attr">format</span>: logFormat,
  <span class="hljs-attr">transports</span>: [
    <span class="hljs-comment">// æ§åˆ¶å°è¾“å‡º</span>
    <span class="hljs-keyword">new</span> winston.<span class="hljs-property">transports</span>.<span class="hljs-title class_">Console</span>({
      <span class="hljs-attr">format</span>: winston.<span class="hljs-property">format</span>.<span class="hljs-title function_">combine</span>(winston.<span class="hljs-property">format</span>.<span class="hljs-title function_">colorize</span>(), logFormat),
    }),
    <span class="hljs-comment">// æŒ‰æ—¥æœŸæ»šåŠ¨çš„æ–‡ä»¶æ—¥å¿—</span>
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">DailyRotateFile</span>({
      <span class="hljs-attr">dirname</span>: logDir,
      <span class="hljs-attr">filename</span>: <span class="hljs-string">'app-%DATE%.log'</span>,
      <span class="hljs-attr">datePattern</span>: <span class="hljs-string">'YYYY-MM-DD'</span>,
      <span class="hljs-attr">maxSize</span>: <span class="hljs-string">'20m'</span>,
      <span class="hljs-attr">maxFiles</span>: <span class="hljs-string">'14d'</span>,
    }),
    <span class="hljs-comment">// é”™è¯¯æ—¥å¿—å•ç‹¬å­˜æ”¾</span>
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">DailyRotateFile</span>({
      <span class="hljs-attr">dirname</span>: logDir,
      <span class="hljs-attr">filename</span>: <span class="hljs-string">'error-%DATE%.log'</span>,
      <span class="hljs-attr">datePattern</span>: <span class="hljs-string">'YYYY-MM-DD'</span>,
      <span class="hljs-attr">level</span>: <span class="hljs-string">'error'</span>,
      <span class="hljs-attr">maxSize</span>: <span class="hljs-string">'20m'</span>,
      <span class="hljs-attr">maxFiles</span>: <span class="hljs-string">'30d'</span>,
    }),
  ],
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> logger;
</code></pre>
<h3 data-id="heading-30">9.2 è¯·æ±‚æ—¥å¿—ä¸­é—´ä»¶</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/utils/logRequest.ts</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextApiRequest</span>, <span class="hljs-title class_">NextApiResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next'</span>;
<span class="hljs-keyword">import</span> logger <span class="hljs-keyword">from</span> <span class="hljs-string">'@/helper/logger'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">logRequest</span> = (<span class="hljs-params">req: NextApiRequest, res: NextApiResponse</span>) =&gt; {
  <span class="hljs-keyword">const</span> { method, url, body, query } = req;

  logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">`API Request: <span class="hljs-subst">${method}</span> <span class="hljs-subst">${url}</span>`</span>, {
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(body),
    <span class="hljs-attr">query</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(query),
    <span class="hljs-attr">ip</span>: req.<span class="hljs-property">headers</span>[<span class="hljs-string">'x-forwarded-for'</span>] || req.<span class="hljs-property">socket</span>.<span class="hljs-property">remoteAddress</span>,
    <span class="hljs-attr">userAgent</span>: req.<span class="hljs-property">headers</span>[<span class="hljs-string">'user-agent'</span>],
  });

  <span class="hljs-comment">// è®°å½•å“åº”æ—¶é—´</span>
  <span class="hljs-keyword">const</span> startTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
  res.<span class="hljs-title function_">on</span>(<span class="hljs-string">'finish'</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> duration = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - startTime;
    logger.<span class="hljs-title function_">info</span>(<span class="hljs-string">`API Response: <span class="hljs-subst">${method}</span> <span class="hljs-subst">${url}</span> - <span class="hljs-subst">${res.statusCode}</span> (<span class="hljs-subst">${duration}</span>ms)`</span>);
  });
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> logRequest;
</code></pre>
<h2 data-id="heading-31">åã€æ€»ç»“ä¸ä¸‹ä¸€æ­¥</h2>
<h3 data-id="heading-32">10.1 æœ¬ç¯‡å®Œæˆçš„å·¥ä½œ</h3>
<p>é€šè¿‡ AI è¾…åŠ©ï¼Œæˆ‘ä»¬åœ¨ <strong>çº¦ 1 å°æ—¶</strong> å†…å®Œæˆäº†ï¼š</p>





































<table><thead><tr><th>ä»»åŠ¡</th><th>å®Œæˆæƒ…å†µ</th></tr></thead><tbody><tr><td>âœ… Prisma æ•°æ®åº“è®¾è®¡</td><td>ç”¨æˆ·ã€ä¼šå‘˜ã€è´¦å•ç­‰æ ¸å¿ƒè¡¨</td></tr><tr><td>âœ… åˆ†å±‚æ¶æ„</td><td>API â†’ Service â†’ DB æ¸…æ™°åˆ†ç¦»</td></tr><tr><td>âœ… JWT è®¤è¯</td><td>ç”Ÿæˆã€éªŒè¯ã€ä¸­é—´ä»¶å®Œæ•´å®ç°</td></tr><tr><td>âœ… å¾®ä¿¡ç™»å½•</td><td>æ”¯æŒå°ç¨‹åºã€App å¤šç«¯ç™»å½•</td></tr><tr><td>âœ… ç»Ÿä¸€å“åº”æ ¼å¼</td><td>responseHelper æ ‡å‡†åŒ–</td></tr><tr><td>âœ… ç±»å‹å…±äº«</td><td>shared-types å‰åç«¯ç±»å‹ä¸€è‡´</td></tr><tr><td>âœ… æ—¥å¿—ç³»ç»Ÿ</td><td>Winston æŒ‰æ—¥æœŸæ»šåŠ¨ã€åˆ†çº§å­˜å‚¨</td></tr></tbody></table>
<h3 data-id="heading-33">10.2 æ ¸å¿ƒæç¤ºè¯æ¨¡æ¿</h3>
<p><strong>æ•°æ®åº“è®¾è®¡</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å¸®æˆ‘è®¾è®¡ [è¡¨å] è¡¨ï¼Œéœ€è¦æ”¯æŒï¼š
1. [åŠŸèƒ½ç‚¹ 1]
2. [åŠŸèƒ½ç‚¹ 2]
3. [åŠŸèƒ½ç‚¹ 3]
ä½¿ç”¨ Prisma Schema è¯­æ³•
</code></pre>
<p><strong>API å¼€å‘</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å¸®æˆ‘å®ç° [åŠŸèƒ½åç§°] APIï¼Œéœ€è¦ï¼š
1. [æ¥å£åŠŸèƒ½]
2. [å‚æ•°è¦æ±‚]
3. [è¿”å›æ ¼å¼]
4. [é”™è¯¯å¤„ç†]
</code></pre>
<p><strong>å·¥å…·å°è£…</strong>ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">å¸®æˆ‘å°è£… [å·¥å…·åç§°]ï¼Œéœ€è¦ï¼š
1. [åŠŸèƒ½ç‚¹ 1]
2. [åŠŸèƒ½ç‚¹ 2]
ç¤ºä¾‹ç”¨æ³•ï¼š[ä½¿ç”¨åœºæ™¯]
</code></pre>
<h3 data-id="heading-34">10.3 ä¸‹ä¸€ç¯‡é¢„å‘Š</h3>
<p><strong>ã€Šã€AI ç¼–ç¨‹å®æˆ˜ã€‘ç¬¬ 4 ç¯‡ï¼šç”¨ AI æ‰“é€ åŸå­åŒ– CSS å¼€å‘ä½“ç³» - UnoCSS å®æˆ˜ã€‹</strong></p>
<p>æˆ‘ä»¬å°†å­¦ä¹ ï¼š</p>
<ul>
<li>UnoCSS é«˜çº§é…ç½®</li>
<li>è®¾è®¡ç¨¿è½¬ä»£ç æŠ€å·§</li>
<li>ä¸»é¢˜å®šåˆ¶å’Œæ¢è‚¤</li>
<li>å°ç¨‹åºç«¯æ ·å¼ä¼˜åŒ–</li>
<li>å“åº”å¼å¸ƒå±€å®è·µ</li>
</ul>
<p><strong>å…³æ³¨æˆ‘ï¼Œä¸é”™è¿‡æ¯ä¸€ç¯‡å®æˆ˜å¹²è´§ï¼</strong></p>
<hr/>
<blockquote>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹èµã€æ”¶è—ã€è½¬å‘ï¼Œè®©æ›´å¤šäººäº†è§£ AI ç¼–ç¨‹çš„å¼ºå¤§ï¼</p>
<p>æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï¼Œæˆ‘ä»¬ä¸€èµ·è®¨è®ºã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€è¡Œä»£ç å®ç°æ™ºèƒ½å¼‚å¸¸æ£€æµ‹ï¼šUModel PaaS API æ¶æ„è®¾è®¡ä¸æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7582156219059535935</link>    <guid>https://juejin.cn/post/7582156219059535935</guid>    <pubDate>2025-12-11T03:43:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582156219059535935" data-draft-id="7581995152190586922" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€è¡Œä»£ç å®ç°æ™ºèƒ½å¼‚å¸¸æ£€æµ‹ï¼šUModel PaaS API æ¶æ„è®¾è®¡ä¸æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2025-12-11T03:43:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€è¡Œä»£ç å®ç°æ™ºèƒ½å¼‚å¸¸æ£€æµ‹ï¼šUModel PaaS API æ¶æ„è®¾è®¡ä¸æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:43:49.000Z" title="Thu Dec 11 2025 03:43:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šå¼ é‘«ï¼ˆåƒä¹˜ï¼‰</p>
<p>ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1jS2VBJEzE%2F" target="_blank" title="https://www.bilibili.com/video/BV1jS2VBJEzE/" ref="nofollow noopener noreferrer">æ­¤å¤„</a>ï¼ŒæŸ¥çœ‹è§†é¢‘æ¼”ç¤ºï¼</p>
<p><strong>å‰æ–‡å›é¡¾ï¼š</strong></p>
<p>ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580386%26idx%3D1%26sn%3D60829abde772d4544cf2d66c1a7b81a7%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580386&amp;idx=1&amp;sn=60829abde772d4544cf2d66c1a7b81a7&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">åŸºäº UModel é«˜æ•ˆæ„å»ºå¯è§‚æµ‹åœºæ™¯ç»Ÿä¸€å®ä½“æœç´¢å¼•æ“</a>ã€‹</p>
<p>ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580174%26idx%3D1%26sn%3Ddf8ad313c69dd0157057a46b81c7ab40%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580174&amp;idx=1&amp;sn=df8ad313c69dd0157057a46b81c7ab40&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ„å»ºæ•°æ®èµ„äº§â€œå¯¼èˆªåœ°å›¾â€ï¼šè¯¦è§£ UModel æ•°æ®å‘ç°ä¸å…¨é“¾è·¯åˆ†æèƒ½åŠ›</a>ã€‹</p>
<p>ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580441%26idx%3D1%26sn%3D28b760dfa51d9a5085abda9660519067%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580441&amp;idx=1&amp;sn=28b760dfa51d9a5085abda9660519067&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ‰“é€šå¯è§‚æµ‹æ€§çš„â€œä»»ç£äºŒè„‰â€ï¼šå®ä½“ä¸å…³ç³»çš„ç»ˆæèåˆ</a>ã€‹</p>
<h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>åŸºäº UModel æ„å»ºçš„å¯è§‚æµ‹ç³»ç»Ÿï¼Œè®¿é—®å¯è§‚æµ‹æ•°æ®éœ€è¦ä¸Šå±‚åº”ç”¨æ„ŸçŸ¥ EntitySetã€DataSetã€Storageã€Filter ç­‰å¤šä¸ªæ¦‚å¿µï¼Œç»™ UIã€ç®—æ³•ã€å®¢æˆ·ç­‰ä½¿ç”¨æ–¹å¸¦æ¥äº†è¾ƒé«˜çš„å¼€å‘å’Œç»´æŠ¤æˆæœ¬ã€‚</p>
<h3 data-id="heading-1">å…¸å‹åœºæ™¯ï¼šæŸ¥è¯¢ APM æœåŠ¡çš„è¯·æ±‚é‡æŒ‡æ ‡</h3>
<p>å‡è®¾ä¸Šå±‚åº”ç”¨éœ€è¦å®ç°æŸ¥è¯¢æŸä¸ª APM æœåŠ¡çš„è¯·æ±‚é‡æŒ‡æ ‡ï¼Œå¼€å‘è€…éœ€è¦ç»å†ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<h4 data-id="heading-2">å¼€å‘è€…éœ€è¦äº†è§£çš„çŸ¥è¯†</h4>
<ol>
<li><strong>å®ä½“å…³è”ï¼š</strong> æœåŠ¡å®ä½“å…³è”å“ªä¸ª MetricSetï¼Ÿ</li>
<li><strong>å­˜å‚¨è·¯ç”±ï¼š</strong> MetricSet ä½¿ç”¨å“ªä¸ª MetricStoreï¼ŸRegion/Project/å­˜å‚¨åç§°æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li><strong>å­—æ®µæ˜ å°„ï¼š</strong> Entity çš„Â <code>service_id</code>Â å¯¹åº”å­˜å‚¨çš„å“ªä¸ªå­—æ®µï¼ˆå¦‚Â <code>acs_arms_service_id</code>ï¼‰ï¼Ÿ</li>
<li><strong>æŸ¥è¯¢è¯­æ³•ï¼š</strong> å¦‚ä½•ç¼–å†™ PromQL è¡¨è¾¾å¼Â <code>rate(arms_app_requests_count_raw{...}[1m])</code>ï¼Ÿ</li>
<li><strong>SPL æ‹¼æ¥ï¼š</strong> å¦‚ä½•ç»„è£…æˆå®Œæ•´çš„æŸ¥è¯¢è¯­å¥ï¼Ÿ</li>
</ol>
<h4 data-id="heading-3">å®Œæ•´çš„å¼€å‘æ­¥éª¤</h4>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">Step</span>Â <span class="hljs-number">1</span>: æŸ¥è¯¢ UModel å…ƒæ•°æ®
Â  Â  Â  Â  â†“ æ‰¾åˆ° service EntitySet å…³è”çš„ MetricSet
Â  Â  Â  Â  â†“ å¦‚æœ DataLink ä¸­åŒ…å« FilterByEntityï¼Œè¿˜éœ€æ ¹æ®å®ä½“æ•°æ®è¿‡æ»¤
<span class="hljs-keyword">Step</span>Â <span class="hljs-number">2</span>: è§£æ MetricSet é…ç½®
Â  Â  Â  Â  â†“ æ ¹æ® StorageLink è·å–åº•å±‚ MetricStore è¿æ¥ä¿¡æ¯
Â  Â  Â  Â  â†“ è·å– Region/Project/MetricStore åç§°
<span class="hljs-keyword">Step</span>Â <span class="hljs-number">3</span>: æŸ¥çœ‹å­—æ®µæ˜ å°„
Â  Â  Â  Â  â†“ ä» DataLink ä¸­è·å–å­—æ®µæ˜ å°„è¡¨
Â  Â  Â  Â  â†“ ç¡®è®¤ service_id â†’ acs_arms_service_id
<span class="hljs-keyword">Step</span>Â <span class="hljs-number">4</span>: æ„é€  PromQL è¡¨è¾¾å¼
Â  Â  Â  Â  â†“ æ ¹æ®æŒ‡æ ‡å®šä¹‰æ‹¼æ¥æŸ¥è¯¢è¡¨è¾¾å¼
Â  Â  Â  Â  â†“ å¤„ç†èšåˆè§„åˆ™ã€æ—¶é—´çª—å£
<span class="hljs-keyword">Step</span>Â <span class="hljs-number">5</span>: æ‹¼æ¥å¹¶æ‰§è¡ŒæŸ¥è¯¢
Â  Â  Â  Â  â†“ ä½¿ç”¨æ­£ç¡®çš„ label å’Œ MetricStore
Â  Â  Â  Â  â†“ æ‹¼æ¥å®Œæ•´çš„ SPL è¯­å¥å¹¶æ‰§è¡Œ
</code></pre>
<p><strong>æœ€ç»ˆæŸ¥è¯¢è¯­å¥ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">.metricstoreÂ with(<span class="hljs-attr">region</span>=<span class="hljs-string">'cn-hangzhou'</span>, project=<span class="hljs-string">'cms-xxx'</span>, metricstore=<span class="hljs-string">'metricstore-apm'</span>)
|prom-callÂ promql_query_range('sum by (acs_arms_service_id) (rate(arms_app_requests_count_raw{<span class="hljs-attr">acs_arms_service_id</span>=&amp;<span class="hljs-comment">#34;xxx&amp;#34;}[1m]))','1m')</span>
</code></pre>
<h3 data-id="heading-4">ç—›ç‚¹</h3>
<h4 data-id="heading-5">ç—›ç‚¹ 1ï¼šæ¦‚å¿µå¤æ‚ï¼Œå­¦ä¹ é—¨æ§›é«˜</h4>
<p><strong>é—®é¢˜æè¿°ï¼š</strong></p>
<ul>
<li>å¼€å‘è€…å¿…é¡»æ·±å…¥ç†è§£ UModel æ¶æ„ï¼šEntitySetã€DataSetã€DataLinkã€StorageLinkã€Filter ç­‰å¤šä¸ªæ¦‚å¿µ</li>
<li>éœ€è¦äº†è§£ DataSet ä¸ Storage çš„å…³è”å…³ç³»ã€Filter è·¯ç”±é€»è¾‘ã€å­—æ®µæ˜ å°„è§„åˆ™</li>
<li>æ–°äººä¸Šæ‰‹å›°éš¾ï¼Œè€æ‰‹ä¹Ÿå®¹æ˜“é—æ¼ç»†èŠ‚</li>
</ul>
<p><strong>å½±å“ï¼š</strong> å¼€å‘æ•ˆç‡ä½ï¼Œç»´æŠ¤æˆæœ¬é«˜</p>
<h4 data-id="heading-6">ç—›ç‚¹ 2ï¼šå¤æ‚åœºæ™¯å®ç°å›°éš¾</h4>
<p><strong>é—®é¢˜æè¿°ï¼š</strong></p>
<ul>
<li>å­˜å‚¨è·¯ç”±æŸ¥æ‰¾ï¼šéœ€è¦ç†è§£å¤šä¸ª MetricSet ä¹‹é—´çš„é€‰æ‹©é€»è¾‘</li>
<li>å­—æ®µæ˜ å°„å¤„ç†ï¼šEntity å­—æ®µ â†’ å­˜å‚¨å­—æ®µçš„æ˜ å°„è§„åˆ™å¤æ‚</li>
<li>è¿‡æ»¤æ¡ä»¶ç­›é€‰ï¼šFilterByEntity è§„åˆ™åŒ¹é…é€»è¾‘éš¾ä»¥æŒæ¡</li>
<li>å¤šæ¬¡æŸ¥è¯¢æ‹¼æ¥ï¼šéœ€è¦å¤šæ¬¡æŸ¥è¯¢å…ƒæ•°æ®ï¼Œå†æ„å»ºæ•°æ®æŸ¥è¯¢</li>
</ul>
<p><strong>å½±å“ï¼š</strong> å¢åŠ ä»£ç å¤æ‚åº¦ï¼Œå‡ºé”™æ¦‚ç‡é«˜</p>
<h4 data-id="heading-7">ç—›ç‚¹ 3ï¼šåº•å±‚å­˜å‚¨è¯­æ³•é€ƒä¸æ‰</h4>
<p><strong>é—®é¢˜æè¿°ï¼š</strong></p>
<ul>
<li>MetricSet å¯èƒ½ç”± MetricStore æˆ– LogStore å®ç°ï¼ŒæŸ¥è¯¢æ–¹å¼å®Œå…¨ä¸åŒï¼ˆPromQL vs SPLï¼‰</li>
<li>ä¸åŒå­˜å‚¨æä¾›å•†ï¼ˆARMS MetricStoreã€Aliyun Prometheusï¼‰è¯­æ³•æœ‰å·®å¼‚</li>
<li>å¼€å‘è€…ä»éœ€ç²¾é€šåº•å±‚æŸ¥è¯¢è¯­è¨€</li>
</ul>
<p><strong>å½±å“ï¼š</strong> åŒæ ·çš„éœ€æ±‚éœ€è¦ç¼–å†™ä¸åŒçš„ä»£ç ï¼Œæ— æ³•ç»Ÿä¸€</p>
<h4 data-id="heading-8">ç—›ç‚¹ 4ï¼šå¤šæ¬¡æŸ¥è¯¢äº¤äº’ï¼Œæ•ˆç‡ä½</h4>
<p><strong>é—®é¢˜æè¿°ï¼š</strong></p>
<ul>
<li>å…ˆæŸ¥è¯¢ UModel Meta è·å–é…ç½® â†’ å†æ ¹æ® Meta æŸ¥è¯¢æ•°æ®</li>
<li>éœ€è¦è‡ªå·±å¤„ç†æ•°æ®æ‹¼æ¥å’Œå…³è”</li>
<li>æ¯ä¸ªä½¿ç”¨æ–¹éƒ½è¦å®ç°ç±»ä¼¼é€»è¾‘ï¼Œä»£ç é‡å¤åº¦é«˜</li>
</ul>
<p><strong>å½±å“ï¼š</strong> é›†æˆæˆæœ¬é«˜ï¼ŒæŸ¥è¯¢å»¶è¿Ÿå¤§ï¼Œå‡ºé”™æ¦‚ç‡å¢åŠ </p>
<h2 data-id="heading-9">ç›®æ ‡ä¸æ¶æ„</h2>
<h3 data-id="heading-10">è®¾è®¡ç›®æ ‡</h3>
<p>é’ˆå¯¹ä¸Šè¿°å››å¤§ç—›ç‚¹ï¼ŒUModel PaaS API çš„è®¾è®¡ç›®æ ‡æ˜¯å±è”½åº•å±‚å¤æ‚æ€§ï¼Œç»Ÿä¸€è®¿é—®æ¥å£ï¼Œä½¿ä¸Šå±‚åº”ç”¨æ›´åŠ ä¸“æ³¨ä¸šåŠ¡é€»è¾‘å®ç°ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9984af49c44c48b0afcc31e96cfd5319~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=XbhGfO0hwA05cH8CwyCpYyGGoCk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-11">æ ¸å¿ƒè®¾è®¡åŸåˆ™</h4>
<ul>
<li><strong>è‡ªåŠ¨åŒ–å¤„ç†ï¼š</strong> è‡ªåŠ¨è·¯ç”±ã€å­—æ®µæ˜ å°„ã€æŸ¥è¯¢è½¬æ¢</li>
<li><strong>ç»Ÿä¸€ SPL è¯­æ³•ï¼š</strong> æ‰€æœ‰æ•°æ®ç±»å‹ä½¿ç”¨ä¸€è‡´æ¥å£</li>
<li><strong>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼š</strong> å®ä½“æ–¹æ³•è°ƒç”¨ã€å…³ç³»å¯¼èˆª</li>
<li><strong>AI å‹å¥½ï¼š</strong> åå°„èƒ½åŠ›ï¼Œæ”¯æŒ AI Agent è‡ªä¸»æ¢ç´¢</li>
</ul>
<h3 data-id="heading-12">è®¾è®¡ç†å¿µï¼šä¸¤å±‚æŠ½è±¡</h3>
<p>è®¿é—® UModel æ•°æ®æ—¶ï¼Œéœ€è¦å•ç‹¬é€šè¿‡ SPL å»è®¿é—®æŒ‡æ ‡ã€æ—¥å¿—ã€é“¾è·¯ç­‰å„ç§æ•°æ®ï¼Œ<strong>æ¯ç§æ•°æ®éƒ½æœ‰ä¸åŒçš„è®¿é—®æ–¹å¼ï¼Œæ²¡æœ‰ç»Ÿä¸€çš„æŠ½è±¡ã€‚</strong></p>
<p>UModel PaaS API é‡‡ç”¨<strong>ä¸¤å±‚æŠ½è±¡</strong>çš„è®¾è®¡æ€è·¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8522b6f41d74dcbb3ed0282b539cb6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=uGJOUpgd856GZZJcjGWoRfC6myk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-13">ç¬¬ä¸€å±‚æŠ½è±¡ï¼šTable æ¨¡å¼ï¼ˆè¡¨æ ¼åŒ–æŠ½è±¡ï¼‰</h4>
<p>å°†æ‰€æœ‰æ•°æ®â€”â€”æŒ‡æ ‡ã€æ—¥å¿—ã€é“¾è·¯ã€æ€§èƒ½å‰–æâ€”â€”ç»Ÿä¸€æŠ½è±¡æˆ<strong>è¡¨æ ¼ç»“æ„</strong>ï¼Œæ‰€æœ‰æŸ¥è¯¢éƒ½æ˜¯é’ˆå¯¹è¡¨æ ¼æ•°æ®è¿›è¡Œæ“ä½œã€‚</p>
<p><strong>ä»·å€¼ï¼š</strong> ç»Ÿä¸€äº†æŸ¥è¯¢è¯­è¨€ï¼Œå¼€å‘è€…ä¸éœ€è¦å…³å¿ƒåº•å±‚æ˜¯ PromQL è¿˜æ˜¯ SLS SPLï¼Œéƒ½ç”¨åŒä¸€å¥— SPL è¯­æ³•ã€‚</p>
<h4 data-id="heading-14">ç¬¬äºŒå±‚æŠ½è±¡ï¼šObject æ¨¡å¼ï¼ˆå¯¹è±¡çº§æŠ½è±¡ï¼‰</h4>
<p>è¡¨æ ¼æ¨¡å¼è§£å†³äº†æ•°æ®è®¿é—®çš„ç»Ÿä¸€æ€§ï¼Œä½†è¿˜ä¸å¤Ÿã€‚æˆ‘ä»¬è¿˜éœ€è¦<strong>ä»¥å®ä½“ä¸ºä¸­å¿ƒ</strong>çš„æŠ½è±¡ã€‚</p>
<p>ä¼ ç»Ÿæ–¹å¼ï¼šæŸ¥è¯¢ä¸€ä¸ªæœåŠ¡çš„æŒ‡æ ‡ï¼Œéœ€è¦çŸ¥é“è¿™ä¸ªæœåŠ¡å…³è”å“ªä¸ª MetricSetã€å­—æ®µå¦‚ä½•æ˜ å°„ã€è¿‡æ»¤æ¡ä»¶æ€ä¹ˆå†™â€¦</p>
<p>Object æ¨¡å¼ï¼šåªéœ€è¦è¯´â€œè¿™ä¸ªæœåŠ¡ï¼Œç»™æˆ‘å®ƒçš„æŒ‡æ ‡â€ï¼Œç³»ç»Ÿè‡ªåŠ¨å¤„ç†å­—æ®µæ˜ å°„ã€è¿‡æ»¤æ¡ä»¶ã€å­˜å‚¨è·¯ç”±ã€‚</p>
<p><strong>ä»·å€¼ï¼š</strong> é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼ŒæŠŠå®ä½“å½“æˆå¯¹è±¡ï¼ŒæŠŠæŸ¥è¯¢å½“æˆæ–¹æ³•è°ƒç”¨ï¼š<code>service.get_metric()</code>ã€‚</p>
<h4 data-id="heading-15">ç¬¬ä¸‰å±‚èƒ½åŠ›ï¼šå…ƒæ•°æ®æŸ¥è¯¢ï¼ˆåå°„èƒ½åŠ›ï¼‰</h4>
<p>æä¾›åŠ¨æ€èƒ½åŠ›å‘ç°ã€é…ç½®éªŒè¯ç­‰é«˜çº§åŠŸèƒ½ï¼Œè®© AI Agent å¯ä»¥è‡ªä¸»æ¢ç´¢ã€è‡ªä¸»å†³ç­–ã€‚</p>
<p><strong>ä»·å€¼ï¼š</strong> AI Agent èƒ½å¤Ÿé€šè¿‡åå°„èƒ½åŠ›åŠ¨æ€å‘ç°å®ä½“çš„èƒ½åŠ›è¾¹ç•Œï¼Œå®ç°çœŸæ­£çš„æ™ºèƒ½è¿ç»´ã€‚</p>
<h3 data-id="heading-16">æ¶æ„åˆ†å±‚</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2ea6c34f60146fc9b4f7abe3d714181~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=TAw%2BSRBwdG9e%2F7h0v48s9gQB7tk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-17">1. å­˜å‚¨å±‚ç»Ÿä¸€ï¼šEntityStore/LogStore/MetricStore â†’ SPL</h4>
<p>è‡ªåŠ¨å®Œæˆå­˜å‚¨è·¯ç”±ã€å­—æ®µæ˜ å°„ï¼ˆ<code>service_idÂ â†’Â acs_arms_service_id</code>ï¼‰ã€è¿‡æ»¤ã€æŸ¥è¯¢è¯­æ³•çš„è½¬æ¢ã€‚ä¸Šå±‚åº”ç”¨å¯¹å­˜å‚¨åˆ‡æ¢æ— æ„ŸçŸ¥ã€‚</p>
<h4 data-id="heading-18">2. æ•°æ®å±‚ç»Ÿä¸€ï¼šTable æ¨¡å¼</h4>
<p>ç›´æ¥è®¿é—® DataSetï¼Œå£°æ˜å¼æŸ¥è¯¢ï¼Œæ”¯æŒå®Œæ•´ SPL Pipelineã€‚</p>
<pre><code class="hljs language-ini" lang="ini">.metric_setÂ with(<span class="hljs-attr">domain</span>=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'service.request'</span>, query=`service_id=<span class="hljs-string">'xxxx'</span>`)Â |Â statsÂ avg(latency)
.log_setÂ with(<span class="hljs-attr">domain</span>=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'service.error_log'</span>Â query=`service_id=<span class="hljs-string">'xxx'</span>`)Â |Â whereÂ level=&amp;<span class="hljs-comment">#34;ERROR&amp;#34;</span>
</code></pre>
<h4 data-id="heading-19">3. å¯¹è±¡å±‚ç»Ÿä¸€ï¼šObject æ¨¡å¼</h4>
<p>ä»¥å®ä½“ä¸ºä¸­å¿ƒï¼Œè‡ªåŠ¨å¤„ç†åº•å±‚ç»†èŠ‚ï¼Œæ”¯æŒåŠ¨æ€èƒ½åŠ›å‘ç°å’Œé…ç½®æ£€æŸ¥ã€‚</p>
<pre><code class="hljs language-java" lang="java"># æ•°æ®è®¿é—®
.entity_setÂ <span class="hljs-title function_">with</span><span class="hljs-params">(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.service'</span>, ids=[<span class="hljs-string">'404e5d6be468f6dfaeef37a014322423'</span>])</span>Â 
|Â entity-callÂ <span class="hljs-title function_">get_metric</span><span class="hljs-params">(<span class="hljs-string">'apm'</span>,Â <span class="hljs-string">'apm.metric.apm.service'</span>,Â <span class="hljs-string">'avg_request_latency_seconds'</span>,Â <span class="hljs-string">'range'</span>,Â <span class="hljs-string">''</span>,Â <span class="hljs-literal">false</span>)</span>Â 
# èƒ½åŠ›å‘ç°ï¼ˆAgent è‡ªä¸»å†³ç­–çš„å…³é”®ï¼‰
.entity_setÂ <span class="hljs-title function_">with</span><span class="hljs-params">(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'service'</span>)</span>Â |Â entity-callÂ <span class="hljs-title function_">__list_method__</span><span class="hljs-params">()</span>
# é…ç½®æ£€æŸ¥
.entity_setÂ <span class="hljs-title function_">with</span><span class="hljs-params">(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'service'</span>)</span>Â |Â entity-callÂ <span class="hljs-title function_">__inspect__</span><span class="hljs-params">()</span>
</code></pre>
<h2 data-id="heading-20">API è¯´æ˜</h2>
<p>UModel PaaS API æä¾›ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯çš„æŸ¥è¯¢éœ€æ±‚ï¼š</p>
<ol>
<li><strong>Table æ¨¡å¼</strong>Â - ç›´æ¥è®¿é—®æ•°æ®é›†ï¼Œé€‚åˆæ‰¹é‡æ•°æ®åˆ†æ</li>
<li><strong>Object æ¨¡å¼</strong>Â - ä»¥å®ä½“ä¸ºä¸­å¿ƒï¼Œé€‚åˆå®ä½“è¯¦æƒ…æŸ¥è¯¢å’Œå…³ç³»åˆ†æ</li>
<li><strong>å…ƒæ•°æ®æŸ¥è¯¢</strong>Â - åå°„èƒ½åŠ›å’Œé…ç½®éªŒè¯ï¼Œæ”¯æŒ AI Agent å’Œå¼€å‘è°ƒè¯•</li>
</ol>
<h3 data-id="heading-21">Table æ¨¡å¼</h3>
<p>Table æ¨¡å¼ï¼ˆPhase 1ï¼‰æä¾›ç›´æ¥è®¿é—®Â DataSetï¼ˆMetricSetã€LogSetã€TraceSet ç­‰ï¼‰çš„èƒ½åŠ›ï¼Œè¿”å›è¡¨æ ¼åŒ–çš„å¯è§‚æµ‹æ•°æ®ï¼Œé€‚ç”¨äºä¸ä¾èµ–å®ä½“å…³ç³»çš„æ•°æ®æŸ¥è¯¢åœºæ™¯ã€‚</p>
<p>å¦‚ï¼šç›´æ¥æŸ¥è¯¢æŸä¸ª MetricSet ä¸­çš„æŒ‡æ ‡æ•°æ®ï¼Œæˆ–æŸ¥è¯¢æŸä¸ª LogSet ä¸­çš„æ—¥å¿—ï¼Œæ— éœ€å…³è”å®ä½“ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è¯»å– apm.metric.apm.service MetricSetå¯¹åº”çš„avg_request_latency_secondsçš„æŒ‡æ ‡ï¼Œ</span>
<span class="hljs-comment"># å¹¶å¯¹è¯¥æŒ‡æ ‡è¿›è¡Œå¼‚å¸¸æ£€æµ‹</span>
.metric_set with(<span class="hljs-attr">domain</span>=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.metric.apm.service'</span>, metric=<span class="hljs-string">'avg_request_latency_seconds'</span>, source=<span class="hljs-string">'metrics'</span>)
|Â extendÂ <span class="hljs-attr">r</span> = series_decompose_anomalies(__value__)Â 
|Â extendÂ <span class="hljs-attr">anomaly_b</span> =r.anomalies_score_series , anomaly_type = r.anomalies_type_series , __anomaly_msg__ = r.error_msg Â 
|Â extendÂ <span class="hljs-attr">x</span> = zip(anomaly_b, __ts__, anomaly_type, __value__)Â 
|Â extendÂ <span class="hljs-attr">__anomaly_rst__</span> = filter(x, x-&gt; x.field0 &gt;Â <span class="hljs-number">0</span>)Â 
|Â project __entity_id__, __labels__, __anomaly_rst__, __anomaly_msg__
</code></pre>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ç›´æ¥è®¿é—®ï¼šç›´è¾¾ DataSetï¼Œæ— éœ€æŸ¥è¯¢å®ä½“å…ƒæ•°æ®</li>
<li>è¯­æ³•ç®€æ´ï¼šç±»ä¼¼ SQL çš„ SPL è¯­æ³•ï¼Œæ˜“äºç†è§£</li>
<li>å…¨é‡æ•°æ®ï¼šè¿”å› DataSet ä¸­ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰æ•°æ®</li>
</ul>
<p><strong>è¯­æ³•ï¼š</strong> <code>. with(domain, name, ...) | </code>ï¼Œæ›´å¤šå‚æ•°è¯´æ˜è¯·å‚è€ƒæ–‡æ¡£ï¼šPhase 1 Table æ¨¡å¼ <strong>[</strong> <strong>1]</strong> ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fb93a3641544b08be21948d29c9578c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=gZd8RqKCeDb%2FNt%2FGSoQCXR4TpdE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-22">Object æ¨¡å¼</h3>
<p>Object æ¨¡å¼ï¼ˆPhase 2ï¼‰æä¾›<strong>ä»¥å®ä½“ä¸ºä¸­å¿ƒçš„é¢å‘å¯¹è±¡æŸ¥è¯¢èƒ½åŠ›</strong>ï¼Œè‡ªåŠ¨å¤„ç†å®ä½“ä¸æ•°æ®çš„å…³è”å…³ç³»ã€å­—æ®µæ˜ å°„ã€å…³ç³»æŸ¥è¯¢ç­‰å¤æ‚é€»è¾‘ï¼Œé€‚ç”¨äºéœ€è¦å®ä½“ä¸Šä¸‹æ–‡çš„ä¸šåŠ¡åœºæ™¯ã€‚</p>
<p>å¦‚ï¼šæŸ¥è¯¢æŸä¸ªå…·ä½“æœåŠ¡çš„æŒ‡æ ‡ã€æ—¥å¿—ã€é“¾è·¯æ•°æ®ï¼Œæˆ–æŸ¥è¯¢ä¸è¯¥æœåŠ¡æœ‰è°ƒç”¨å…³ç³»çš„å…¶ä»–æœåŠ¡ï¼Œç³»ç»Ÿè‡ªåŠ¨å®Œæˆå­—æ®µæ˜ å°„å’Œæ•°æ®è¿‡æ»¤ã€‚</p>
<pre><code class="hljs language-java" lang="java"># æŸ¥è¯¢ç‰¹å®šæœåŠ¡çš„è¯·æ±‚å»¶è¿ŸæŒ‡æ ‡ï¼Œè‡ªåŠ¨å¤„ç†å­—æ®µæ˜ å°„å’Œ FilterByEntity
.entity_setÂ <span class="hljs-title function_">with</span><span class="hljs-params">(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.service'</span>, ids=[<span class="hljs-string">'21d5ed421ae93973d67a04af551b48b8'</span>])</span>Â 
|Â entity-callÂ <span class="hljs-title function_">get_metric</span><span class="hljs-params">(<span class="hljs-string">'apm'</span>,Â <span class="hljs-string">'apm.metric.apm.service'</span>,Â <span class="hljs-string">'avg_request_latency_seconds'</span>,Â <span class="hljs-string">'range'</span>,Â <span class="hljs-string">'30s'</span>,Â <span class="hljs-literal">false</span>)</span>
|Â project __entity_id__, __ts__, __value__, __labels__
</code></pre>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>é›¶é…ç½®è¿‡æ»¤ï¼šè‡ªåŠ¨å¤„ç† FilterByEntityï¼Œæ— éœ€æ‰‹åŠ¨æ‹¼æ¥è¿‡æ»¤æ¡ä»¶</li>
<li>å­—æ®µæ˜ å°„é€æ˜ï¼šè‡ªåŠ¨è½¬æ¢Â <code>service_idÂ â†’Â acs_arms_service_id</code>Â ç­‰æ˜ å°„</li>
<li>é¢å‘å¯¹è±¡è¯­ä¹‰ï¼š<code>entity.get_metric()</code>ï¼Œç¬¦åˆå¼€å‘è€…æ€ç»´ä¹ æƒ¯</li>
</ul>
<p><strong>è¯­æ³•ï¼š</strong> <code>.entity_set with(domain, name, id, query) | entity-call &lt;æ–¹æ³•&gt;(&lt;å‚æ•°&gt;) | </code>ï¼Œæ›´å¤šå‚æ•°è¯´æ˜è¯·å‚è€ƒæ–‡æ¡£ï¼šPhase 2 Object æ¨¡å¼ <strong>[</strong> <strong>2]</strong> ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83198ad240004e66bbe5dddcf6e03773~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=ArBD9CBq0HgBRZgKIUtM9dmwx%2Fw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-23">å…ƒæ•°æ®æŸ¥è¯¢æ–¹æ³•</h3>
<p>å…ƒæ•°æ®æŸ¥è¯¢æ–¹æ³•æä¾›åŠ¨æ€å‘ç°å’Œåå°„èƒ½åŠ›ï¼Œç”¨äºæŸ¥è¯¢å®ä½“çš„å…³è”å…³ç³»ã€æ•°æ®é›†é…ç½®ã€æ”¯æŒçš„æ–¹æ³•ç­‰å…ƒæ•°æ®ä¿¡æ¯ï¼Œæ—¢å¯ä»¥å¸®åŠ©å¼€å‘è€…ç†è§£å®ä½“èƒ½åŠ›ï¼Œä¹Ÿæ˜¯å®ç° AI Agent è‡ªä¸»å†³ç­–å’Œé…ç½®éªŒè¯çš„å…³é”®åŸºç¡€ã€‚</p>
<p>å¦‚ï¼šæŸ¥è¯¢æŸä¸ªæœåŠ¡å®ä½“æ”¯æŒå“ªäº›æ–¹æ³•ï¼ˆ<code>__list_method__()</code>ï¼‰ã€å…³è”äº†å“ªäº›æ•°æ®é›†ï¼ˆ<code>list_data_set()</code>ï¼‰ã€ä¸å“ªäº›å…¶ä»–æœåŠ¡æœ‰è°ƒç”¨å…³ç³»ï¼ˆ<code>list_related_entity_set()</code>ï¼‰ã€é…ç½®æ˜¯å¦æ­£ç¡®ï¼ˆ<code>__inspect__()</code>ï¼‰ã€‚</p>
<pre><code class="hljs language-xml" lang="xml">#Â åŠ¨æ€å‘ç°å®ä½“æ”¯æŒçš„æ‰€æœ‰æ–¹æ³•ï¼ˆåå°„èƒ½åŠ›ï¼‰
.entity_set with(domain='apm', name='apm.service')Â 
| entity-call __list_method__()
#Â è¿”å›ï¼šæ–¹æ³•åˆ—è¡¨åŠå‚æ•°å®šä¹‰
#Â [
#Â  Â {<span class="hljs-symbol">&amp;#34;</span>name<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>get_metric<span class="hljs-symbol">&amp;#34;</span>,Â <span class="hljs-symbol">&amp;#34;</span>params<span class="hljs-symbol">&amp;#34;</span>: [...],Â <span class="hljs-symbol">&amp;#34;</span>description<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>è·å–æŒ‡æ ‡æ•°æ®<span class="hljs-symbol">&amp;#34;</span>},
#Â  Â {<span class="hljs-symbol">&amp;#34;</span>name<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>list_related_entity_set<span class="hljs-symbol">&amp;#34;</span>,Â <span class="hljs-symbol">&amp;#34;</span>params<span class="hljs-symbol">&amp;#34;</span>: [...],Â <span class="hljs-symbol">&amp;#34;</span>description<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>æŸ¥è¯¢å…³è”å®ä½“<span class="hljs-symbol">&amp;#34;</span>},
#Â  Â ...
#Â ]
</code></pre>
<p><strong>æ ¸å¿ƒä»·å€¼ï¼š</strong></p>
<ul>
<li>åå°„èƒ½åŠ›ï¼š<code>__list_method__()</code>Â è®© AI Agent èƒ½è‡ªä¸»æ¢ç´¢å®ä½“çš„èƒ½åŠ›è¾¹ç•Œ</li>
<li>é…ç½®éªŒè¯ï¼š<code>__inspect__()</code>Â ä¸€é”®æ£€æŸ¥ DataSetã€Linkã€å­—æ®µæ˜ å°„ç­‰é…ç½®å®Œæ•´æ€§</li>
<li>å…³ç³»æŸ¥è¯¢ï¼š<code>list_related_entity_set()</code>Â å¿«é€Ÿè·å–æ‹“æ‰‘å…³ç³»ï¼Œæ— éœ€æŸ¥è¯¢å›¾æ•°æ®åº“</li>
<li>èƒ½åŠ›å‘ç°ï¼š<code>list_data_set()</code>Â äº†è§£å®ä½“å…³è”çš„æ‰€æœ‰è§‚æµ‹æ•°æ®ç±»å‹</li>
</ul>
<p><strong>è¯­æ³•ï¼š</strong> <code>.entity_set with(domain, name, id, query) | entity-call &lt;æ–¹æ³•&gt;(&lt;å‚æ•°&gt;)</code>ï¼Œæ›´å¤šå‚æ•°è¯´æ˜è¯·å‚è€ƒæ–‡æ¡£ï¼šPhase 2 Object æ¨¡å¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e000ccd7c30345298f37a3475cf305a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=WY4FkW9Q00FxIFvlgF0ighH8Wqo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-24">æŸ¥è¯¢æ–¹å¼</h2>
<h3 data-id="heading-25">UI æ–¹å¼</h3>
<p>ç™»å½•äº‘ç›‘æ§ 2.0 æ§åˆ¶å°ï¼Œç‚¹å‡»å®ä½“æ¢ç´¢Â -&gt;Â SPLï¼Œè¾“å…¥ SPLï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><code>.entity\_set with(domain='apm', name='apm.service', ids=['21d5ed421ae93973d67a04af551b48b8']) | entity-call get_metric('apm', 'apm.metric.apm.service', 'avg_request_latency_seconds', 'range', '', false)</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1db886c117b54ac090901b7124d42dea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=2R8tjeHaOoyHZ6OwIY1UZ9sGH1k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-26">DryRun æ¨¡å¼</h4>
<p>DryRun æ¨¡å¼è¿”å›å¯¹åº”çš„ Queryï¼Œä¸æ‰§è¡Œå½“å‰ Queryï¼Œä¹Ÿæ”¯æŒæ‰‹åŠ¨è®¾ç½®è¿è¡Œæ¨¡å¼ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"># å¼€å¯dry_runæ¨¡å¼
.<span class="hljs-keyword">set</span>Â umodel_paas_mode<span class="hljs-operator">=</span><span class="hljs-string">'dry_run'</span>;
.entity_setÂ <span class="hljs-keyword">with</span>(domain<span class="hljs-operator">=</span><span class="hljs-string">'apm'</span>, name<span class="hljs-operator">=</span><span class="hljs-string">'apm.service'</span>)Â 
<span class="hljs-operator">|</span>Â entity<span class="hljs-operator">-</span><span class="hljs-keyword">call</span>Â get_metric(<span class="hljs-string">'apm'</span>,Â <span class="hljs-string">'apm.metric.apm.service'</span>,Â <span class="hljs-string">'avg_request_latency_seconds'</span>,Â <span class="hljs-string">'range'</span>,Â <span class="hljs-string">''</span>,Â <span class="hljs-literal">false</span>)Â 
</code></pre>
<p>UI å¼€å¯ DryRun æ¨¡å¼ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51e1724052c64023baefe3b68d746726~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=7ALJIVlQpqUnJfgVAISCSI6bN2A%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-27">SDK æ–¹å¼</h3>
<p>é€šè¿‡é˜¿é‡Œäº‘ OpenAPI <strong>[</strong> <strong>3]</strong> ä¸‹è½½ SDKï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span>Â main
<span class="hljs-keyword">import</span>Â (
&amp;#<span class="hljs-number">34</span>;fmt&amp;#<span class="hljs-number">34</span>;
	cms20240330Â &amp;#<span class="hljs-number">34</span>;github.com/alibabacloud-<span class="hljs-keyword">go</span>/cms<span class="hljs-number">-20240330</span>/v3/client&amp;#<span class="hljs-number">34</span>;
	openapiÂ &amp;#<span class="hljs-number">34</span>;github.com/alibabacloud-<span class="hljs-keyword">go</span>/darabonba-openapi/v2/client&amp;#<span class="hljs-number">34</span>;
&amp;#<span class="hljs-number">34</span>;github.com/alibabacloud-<span class="hljs-keyword">go</span>/tea/tea&amp;#<span class="hljs-number">34</span>;
	credentialÂ &amp;#<span class="hljs-number">34</span>;github.com/aliyun/credentials-<span class="hljs-keyword">go</span>/credentials&amp;#<span class="hljs-number">34</span>;
&amp;#<span class="hljs-number">34</span>;os&amp;#<span class="hljs-number">34</span>;
)
<span class="hljs-function"><span class="hljs-keyword">func</span>Â <span class="hljs-title">CreateClient</span><span class="hljs-params">()</span></span>Â (_result *cms20240330.Client, _errÂ <span class="hljs-type">error</span>) {
	credential, _err := credential.NewCredential(<span class="hljs-literal">nil</span>)
<span class="hljs-keyword">if</span>Â _err !=Â <span class="hljs-literal">nil</span>Â {
<span class="hljs-keyword">return</span>Â _result, _err
	}
	config := &amp;openapi.Config{
		Credential: credential,
	}
	config.Endpoint = tea.String(&amp;#<span class="hljs-number">34</span>;cms.cn-hangzhou.aliyuncs.com&amp;#<span class="hljs-number">34</span>;)
	_result = &amp;cms20240330.Client{}
	_result, _err = cms20240330.NewClient(config)
<span class="hljs-keyword">return</span>Â _result, _err
}
<span class="hljs-function"><span class="hljs-keyword">func</span>Â _<span class="hljs-title">main</span><span class="hljs-params">(args [ ]*<span class="hljs-type">string</span>)</span></span>Â (_errÂ <span class="hljs-type">error</span>) {
	client, _err := CreateClient()
<span class="hljs-keyword">if</span>Â _err !=Â <span class="hljs-literal">nil</span>Â {
<span class="hljs-keyword">return</span>Â _err
	}
	getEntityStoreDataRequest := &amp;cms20240330.GetEntityStoreDataRequest{
		Query: tea.String(&amp;#<span class="hljs-number">34</span>;.entity_set with(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.service'</span>, ids=[<span class="hljs-string">'21d5ed421ae93973d67a04af551b48b8'</span>]) | entity-call get_metric(<span class="hljs-string">'apm'</span>, <span class="hljs-string">'apm.metric.apm.service'</span>, <span class="hljs-string">'avg_request_latency_seconds'</span>, <span class="hljs-string">'range'</span>) &amp;#<span class="hljs-number">34</span>;),
		From: Â tea.Int32(<span class="hljs-number">1762244123</span>),
		To: Â  Â tea.Int32(<span class="hljs-number">1762244724</span>),
	}
<span class="hljs-keyword">if</span>Â result, err := client.GetEntityStoreData(tea.String(&amp;#<span class="hljs-number">34</span>;o11y-demo-cn-hangzhou&amp;#<span class="hljs-number">34</span>;), getEntityStoreDataRequest); err !=Â <span class="hljs-literal">nil</span>Â {
<span class="hljs-keyword">return</span>Â err
	}Â <span class="hljs-keyword">else</span>Â {
		fmt.Printf(&amp;#<span class="hljs-number">34</span>;length: %d&amp;#<span class="hljs-number">34</span>;,Â <span class="hljs-built_in">len</span>(result.Body.Data))
<span class="hljs-keyword">return</span>Â <span class="hljs-literal">nil</span>
	}
}
<span class="hljs-function"><span class="hljs-keyword">func</span>Â <span class="hljs-title">main</span><span class="hljs-params">()</span></span>Â {
	err := _main(tea.StringSlice(os.Args[<span class="hljs-number">1</span>:]))
<span class="hljs-keyword">if</span>Â err !=Â <span class="hljs-literal">nil</span>Â {
<span class="hljs-built_in">panic</span>(err)
	}
}
</code></pre>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d51de5612664ed49b17fff454ce33d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=%2FqQie1WvvWGaJ9O91K%2BqXGA46VU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç¨‹åºè¿è¡Œ</strong></p>
<pre><code class="hljs language-ini" lang="ini">go build -o demo .
exportÂ <span class="hljs-attr">ALIBABA_CLOUD_ACCESS_KEY_SECRET</span>=
exportÂ <span class="hljs-attr">ALIBABA_CLOUD_ACCESS_KEY_ID</span>=
./demo
</code></pre>
<h2 data-id="heading-28">ç¤ºä¾‹</h2>
<h3 data-id="heading-29">é›†æˆç®—å­å®ç°é«˜é˜¶èƒ½åŠ›ï¼šUModel é«˜é˜¶æŸ¥è¯¢ Â + æ—¶åºå¼‚å¸¸æ£€æµ‹ç®—å­</h3>
<p>é€šè¿‡ UModel é«˜é˜¶ API é›†æˆ SLS æ—¶åºå¼‚å¸¸æ£€æµ‹ç®—å­Â <code>series_decompose_anomalies</code>ï¼Œä¸€è¡ŒæŸ¥è¯¢å®ç°æ™ºèƒ½å¼‚å¸¸æ£€æµ‹ã€‚</p>
<p>å¦‚ï¼šç›‘æ§æŸä¸ª APM æœåŠ¡çš„è¯·æ±‚å»¶è¿Ÿï¼Œå½“å‡ºç°å¼‚å¸¸ï¼ˆçªåˆºã€è¶‹åŠ¿å˜åŒ–ã€å¹³å°å˜åŒ–ï¼‰æ—¶è§¦å‘å‘Šè­¦ã€‚</p>
<pre><code class="hljs language-java" lang="java">.entity_setÂ <span class="hljs-title function_">with</span><span class="hljs-params">(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.service'</span>, ids=[<span class="hljs-string">'21d5ed421ae93973d67a04af551b48b8'</span>])</span>Â 
| entity-callÂ <span class="hljs-title function_">get_metric</span><span class="hljs-params">(<span class="hljs-string">'apm'</span>,Â <span class="hljs-string">'apm.metric.apm.service'</span>,Â <span class="hljs-string">'avg_request_latency_seconds'</span>,Â <span class="hljs-string">'range'</span>,Â <span class="hljs-string">'30s'</span>,Â <span class="hljs-literal">false</span>)</span>Â 
|Â <span class="hljs-type">extend</span>Â <span class="hljs-variable">r</span>Â <span class="hljs-operator">=</span>Â series_decompose_anomalies(__value__)Â 
|Â <span class="hljs-type">extend</span>Â <span class="hljs-variable">anomaly_b</span>Â <span class="hljs-operator">=</span>r.anomalies_score_series , anomaly_type = r.anomalies_type_series , __anomaly_msg__ = r.error_msg Â 
|Â <span class="hljs-type">extend</span>Â <span class="hljs-variable">x</span>Â <span class="hljs-operator">=</span>Â zip(anomaly_b, __ts__, anomaly_type, __value__)Â 
|Â <span class="hljs-type">extend</span>Â <span class="hljs-variable">__anomaly_rst__</span>Â <span class="hljs-operator">=</span>Â filter(x, x-&gt; x.field0 &gt;Â <span class="hljs-number">0</span>)Â 
| project __entity_id__, __labels__, __anomaly_rst__, __anomaly_msg__
</code></pre>
<p><strong>è¿”å›ç»“æœ</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2de178290ed4df987dfe6746a9d4f04~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=D3i7AxES%2FMbVo8kVoKF%2FbaNWDWI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ”¯æŒçš„å¼‚å¸¸ç±»å‹ï¼š</strong></p>
<ul>
<li><code>SPIKE_UPÂ /Â SPIKE_DOWN</code>Â - å‘ä¸Š/å‘ä¸‹çªåˆº</li>
<li><code>TREND_SHIFT_UP</code>Â /Â <code>TREND_SHIFT_DOWN</code>Â - è¶‹åŠ¿ä¸Šå‡/ä¸‹é™</li>
<li><code>LEVEL_SHIFT_UP</code>Â /Â <code>LEVEL_SHIFT_DOWN</code>Â - å¹³å°ä¸Šå‡/ä¸‹é™</li>
</ul>
<p>å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f1c630c37914bcd9eb048e611252e69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=kpBUiMYsKPfl9O%2FH%2B1HS9SHlL3I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-30">æ•°æ®äº’è”äº’é€šï¼šå…³è”è‡ªå®šä¹‰ LogStore</h3>
<p>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä¸šåŠ¡æ•°æ®å¾€å¾€åˆ†æ•£åœ¨å¤šä¸ªå­˜å‚¨ä¸­ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>UModel ä¸­å­˜å‚¨äº† APM æœåŠ¡çš„æ‹“æ‰‘å…³ç³»ã€æŒ‡æ ‡ã€é“¾è·¯ã€æ—¥å¿—</li>
<li>ä¸šåŠ¡ç³»ç»Ÿçš„è‡ªå®šä¹‰æ—¥å¿—å­˜å‚¨åœ¨ç‹¬ç«‹çš„ LogStore ä¸­ï¼ˆå¦‚è®¢å•æ—¥å¿—ã€æ”¯ä»˜æ—¥å¿—ã€ç”¨æˆ·è¡Œä¸ºæ—¥å¿—ï¼‰</li>
</ul>
<p>é€šè¿‡ UModel é«˜é˜¶ API + SPL join èƒ½åŠ›ï¼Œå¯ä»¥<strong>æ‰“é€š UModel å®ä½“æ•°æ®ä¸è‡ªå®šä¹‰ä¸šåŠ¡æ•°æ®</strong>ï¼Œå®ç°ï¼š</p>
<ol>
<li><strong>ç»Ÿä¸€è§†è§’åˆ†æï¼š</strong> å°†åº”ç”¨æ€§èƒ½é—®é¢˜ä¸ä¸šåŠ¡æ—¥å¿—å…³è”åˆ†æ</li>
<li><strong>å¿«é€Ÿå®šä½é—®é¢˜ï¼š</strong> ä»æœåŠ¡å¼‚å¸¸å¿«é€Ÿå®šä½åˆ°å…·ä½“ä¸šåŠ¡æ“ä½œ</li>
<li><strong>ç«¯åˆ°ç«¯è¿½è¸ªï¼š</strong> ä»ä¸šåŠ¡è¯·æ±‚åˆ°æŠ€æœ¯æŒ‡æ ‡çš„å…¨é“¾è·¯åˆ†æ</li>
</ol>
<p><strong>å…¸å‹åœºæ™¯ï¼š</strong></p>
<ul>
<li>æŸä¸ª APM æœåŠ¡å‡ºç°å»¶è¿Ÿå¼‚å¸¸ â†’ å…³è”ä¸šåŠ¡è®¢å•æ—¥å¿— â†’ å®šä½åˆ°å…·ä½“æ…¢æŸ¥è¯¢çš„è®¢å• ID</li>
<li>æŸä¸ªæœåŠ¡çš„é”™è¯¯æ—¥å¿—æ¿€å¢ â†’ å…³è”ç”¨æˆ·è¡Œä¸ºæ—¥å¿— â†’ åˆ†ææ˜¯å“ªäº›ç”¨æˆ·æ“ä½œè§¦å‘äº†å¼‚å¸¸</li>
<li>åˆ†ææœåŠ¡è°ƒç”¨é“¾è·¯ â†’ å…³è”ä¸šåŠ¡æµç¨‹æ—¥å¿— â†’ è¿½è¸ªå®Œæ•´çš„ä¸šåŠ¡æµè½¬è·¯å¾„</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-vbnet" lang="vbnet">#Â åœºæ™¯ï¼šå…³è”è‡ªå®šä¹‰çš„logstoreæ—¥å¿—ä¿¡æ¯
#Â SPL:Â 
#Â <span class="hljs-number">1</span>. ä»ä¸šåŠ¡LogStoreä¸­æ‰¾åˆ°å¤±è´¥çš„traceIdä»¥åŠmsg
.<span class="hljs-keyword">let</span> failed_log = .logstore <span class="hljs-keyword">with</span>(project=â€˜xxxâ€™, logstore=â€˜xxxxâ€™, query=â€˜*<span class="hljs-comment">')Â </span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â | project trace_id, msg;
#Â <span class="hljs-number">2</span>. æŸ¥è¯¢æœåŠ¡çš„Traceæ•°æ®
.<span class="hljs-keyword">let</span> service_traces = .entity_set <span class="hljs-keyword">with</span>(domain=<span class="hljs-comment">'apm', name='apm.service', ids=['xxxx'])Â </span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â | entity-<span class="hljs-keyword">call</span> get_trace(â€˜apmâ€˜, â€™apm.trace.commonâ€™);
$failed_log |Â <span class="hljs-keyword">join</span>Â $service_tracesÂ <span class="hljs-keyword">on</span> trace_id =Â $service_traces.traceId | Â project msg
</code></pre>
<h3 data-id="heading-31">é›†æˆ AI Agentï¼šé€šè¿‡åå°„èƒ½åŠ›å®ç°è‡ªä¸»å†³ç­–</h3>
<p>å°† UModel PaaS API å°è£…ä¸ºÂ MCP Tools <strong>[</strong> <strong>4]</strong> ï¼Œé€šè¿‡åå°„èƒ½åŠ›ï¼ˆ<code>__list_method__()</code>ï¼‰è®© AI Agent å…·å¤‡è‡ªä¸»æ¢ç´¢å’Œå†³ç­–èƒ½åŠ›ï¼Œå®ç°æ™ºèƒ½è¿ç»´åˆ†æã€‚</p>
<p>å¦‚ï¼šç”¨æˆ·é—®â€œä¸ºä»€ä¹ˆæœåŠ¡å“åº”æ…¢ï¼Ÿâ€ï¼ŒAgent é€šè¿‡åŠ¨æ€å‘ç°å¯ç”¨æ–¹æ³•ï¼Œè‡ªä¸»å®Œæˆæ ¹å› åˆ†æã€‚</p>
<pre><code class="hljs language-less" lang="less">#Â <span class="hljs-selector-tag">Agent</span> é¦–å…ˆè°ƒç”¨ <span class="hljs-selector-tag">__list_method__</span>() åŠ¨æ€å‘ç°å®ä½“æ”¯æŒçš„æ–¹æ³•
<span class="hljs-selector-class">.entity_set</span> <span class="hljs-selector-tag">with</span>(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.service'</span>)Â 
| <span class="hljs-selector-tag">entity-call</span> <span class="hljs-selector-tag">__list_method__</span>()
#Â è¿”å›ç¤ºä¾‹ï¼ˆ<span class="hljs-selector-tag">Agent</span> æ ¹æ®è¿”å›çš„æ–¹æ³•åˆ—è¡¨è‡ªä¸»å†³ç­–ä¸‹ä¸€æ­¥æ“ä½œï¼‰:
#Â {
#Â  Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">methods</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;: <span class="hljs-selector-attr">[#Â  Â  Â {&amp;#34;name&amp;#34;:Â &amp;#34;get_metric&amp;#34;,Â &amp;#34;params&amp;#34;: [...]</span>,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">description</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;è·å–æŒ‡æ ‡æ•°æ®<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;},
#Â  Â  Â {<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">name</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">get_log</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">params</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;: <span class="hljs-selector-attr">[...]</span>,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">description</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;è·å–æ—¥å¿—æ•°æ®<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;},
#Â  Â  Â {<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">name</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">get_trace</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">params</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;: <span class="hljs-selector-attr">[...]</span>,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">description</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;è·å–é“¾è·¯æ•°æ®<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;},
#Â  Â  Â {<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">name</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">list_related_entity_set</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">params</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;: <span class="hljs-selector-attr">[...]</span>,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">description</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;æŸ¥è¯¢å…³è”å®ä½“<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;}
#Â  Â ]
#Â }
</code></pre>
<p>æ¼”ç¤º Demoï¼š</p>
<p>ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fggm8MhyGXlRjpXNwxBUmJg" target="_blank" title="https://mp.weixin.qq.com/s/ggm8MhyGXlRjpXNwxBUmJg" ref="nofollow noopener noreferrer">æ­¤å¤„</a>ï¼ŒæŸ¥çœ‹Demoæ¼”ç¤ºï¼</p>
<p><strong>ç›¸å…³é“¾æ¥ï¼š</strong></p>
<p>[1]Â Phase 1 Table æ¨¡å¼</p>
<p>[2]Â Phase 2 Object æ¨¡å¼</p>
<p>[3]Â é˜¿é‡Œäº‘ OpenAPI</p>
<p>[4]Â MCP Tools</p>
<p>ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1jS2VBJEzE%2F" target="_blank" title="https://www.bilibili.com/video/BV1jS2VBJEzE/" ref="nofollow noopener noreferrer">æ­¤å¤„</a>ï¼ŒæŸ¥çœ‹è§†é¢‘æ¼”ç¤ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VSCode CMake Tools åŠŸèƒ½è§£æã€æµç¨‹ä¸æœ€ä½³å®è·µä»‹ç»]]></title>    <link>https://juejin.cn/post/7582438809377472554</link>    <guid>https://juejin.cn/post/7582438809377472554</guid>    <pubDate>2025-12-11T11:17:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582438809377472554" data-draft-id="7582397035942690822" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VSCode CMake Tools åŠŸèƒ½è§£æã€æµç¨‹ä¸æœ€ä½³å®è·µä»‹ç»"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T11:17:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VSCode CMake Tools åŠŸèƒ½è§£æã€æµç¨‹ä¸æœ€ä½³å®è·µä»‹ç»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T11:17:39.000Z" title="Thu Dec 11 2025 11:17:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>CMake Tools æ˜¯ç”± Microsoft å¼€å‘çš„ VS Code æ‰©å±•ï¼Œå…¶æ ¸å¿ƒå®šä½æ˜¯ä½œä¸º CMake ä¸ IDE ç•Œé¢ä¹‹é—´çš„æ¡¥æ¢ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–ä¼ ç»Ÿå‘½ä»¤è¡Œå¼€å‘ä¸­çš„å¤šæ­¥éª¤æ“ä½œï¼ˆå¦‚é…ç½®ã€ç”Ÿæˆã€æ„å»ºæµç¨‹ï¼‰æ¥æå‡å¼€å‘æ•ˆç‡ã€‚è¯¥å·¥å…·ä¸ä»…æä¾›åŸºç¡€çš„é¡¹ç›®ç®¡ç†åŠŸèƒ½ï¼Œè¿˜åŒ…å«è¯¦ç»†çš„æ–‡æ¡£æ”¯æŒï¼ˆå¦‚ FAQ æŒ‡å—ï¼‰ä»¥å¸®åŠ©ç”¨æˆ·è§£å†³ä½¿ç”¨è¿‡ç¨‹ä¸­çš„ç–‘é—®ã€‚</p>
<p>ä»ç”¨æˆ·éœ€æ±‚é€‚é…è§’åº¦ï¼ŒCMake Tools å®ç°äº†å¯¹ä¸åŒæŠ€æœ¯æ°´å¹³å¼€å‘è€…çš„è¦†ç›–ï¼šå¯¹äºæ–°æ‰‹ï¼Œå…¶æä¾›å¿«é€Ÿå…¥é—¨å¼•å¯¼ç®€åŒ–ä¸Šæ‰‹æµç¨‹ï¼›å¯¹äºä¸“ä¸šå¼€å‘è€…ï¼Œåˆ™æ”¯æŒé«˜çº§é…ç½®ä»¥æ»¡è¶³å¤æ‚é¡¹ç›®éœ€æ±‚ã€‚è¿™ç§åŒé‡æ”¯æŒä½“ç³»ä½¿å…¶æˆä¸ºè·¨åœºæ™¯ CMake é¡¹ç›®å¼€å‘çš„é«˜æ•ˆå·¥å…·ã€‚</p>
<p>è·å–è¯¥å·¥å…·çš„æ ‡å‡†æµç¨‹éœ€é€šè¿‡ VS Code æ‰©å±•é¢æ¿å®Œæˆã€‚åœ¨æ‰©å±•å¸‚åœºæœç´¢ "cmake" æ—¶ï¼Œéœ€æ³¨æ„é€‰æ‹© Microsoft å®˜æ–¹å‘å¸ƒçš„ "CMake Tools"ï¼ˆæè¿°ä¸º "Extended CMake support..."ï¼‰ï¼Œç‚¹å‡»ç•Œé¢ä¸­çš„ "Install" æŒ‰é’®å³å¯å®Œæˆå®‰è£…ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/456ffdb5fe4e4d38aab82f00ebd21360~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766056659&amp;x-signature=JZPy9i2ChGZ3MpfhzP9UUaW8RTk%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æ ¸å¿ƒä»·å€¼æ€»ç»“ï¼šé€šè¿‡ IDE é›†æˆå®ç° CMake å·¥ä½œæµè‡ªåŠ¨åŒ–ï¼Œæ¶ˆé™¤å‘½ä»¤è¡Œæ“ä½œå¤æ‚æ€§ï¼›å…¼é¡¾æ–°æ‰‹å‹å¥½æ€§ä¸ä¸“ä¸šæ‰©å±•æ€§ï¼›ä¸ VS Code ç”Ÿæ€æ·±åº¦èåˆï¼Œæä¾›ä¸€è‡´çš„å¼€å‘ä½“éªŒã€‚</p>
</blockquote>
<h2 data-id="heading-0">æ ¸å¿ƒåŠŸèƒ½æ¨¡å—è§£æ</h2>
<h3 data-id="heading-1">é…ç½®æ¨¡å—ï¼šæ™ºèƒ½ç¼“å­˜ç”Ÿæˆä¸å‘½ä»¤è¡Œç®€åŒ–</h3>
<p>é…ç½®æ¨¡å—æ˜¯ VS Code CMake Tools çš„æ ¸å¿ƒç»„ä»¶ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½åœ¨äºè‡ªåŠ¨åŒ– CMake ç¼“å­˜ç”Ÿæˆé€»è¾‘ã€‚ä¼ ç»Ÿå‘½ä»¤è¡Œæ¨¡å¼ä¸‹ï¼Œå¼€å‘è€…éœ€æ‰‹åŠ¨æ‰§è¡Œ <code>cmake -S . -B build</code> æŒ‡å®šæºä»£ç ç›®å½•ï¼ˆ<code>-S</code>ï¼‰å’Œæ„å»ºç›®å½•ï¼ˆ<code>-B</code>ï¼‰ï¼Œè€Œå·¥å…·é€šè¿‡å›¾å½¢åŒ–ç•Œé¢å°†è¿™ä¸€è¿‡ç¨‹ç®€åŒ–ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼šé€‰æ‹©å·¥å…·é“¾ï¼ˆå¦‚ GCCã€Clang æˆ– MSVCï¼‰ã€é…ç½®æ„å»ºç±»å‹ï¼ˆ<code>CMAKE_BUILD_TYPE</code>ï¼‰ã€è®¾ç½®è‡ªå®šä¹‰å‚æ•°ã€‚ç¼“å­˜ç”Ÿæˆè¿‡ç¨‹ä¸­ï¼Œå·¥å…·ä¼šè‡ªåŠ¨æ£€æµ‹é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>CMakeLists.txt</code>ï¼Œå¹¶æ ¹æ®ç”¨æˆ·é…ç½®ç”Ÿæˆ <code>CMakeCache.txt</code>ï¼Œé¿å…äº†å‘½ä»¤è¡Œè¾“å…¥é”™è¯¯å¯¼è‡´çš„é…ç½®å¤±æ•ˆé—®é¢˜ã€‚</p>
<p>å…³é”®é…ç½®å‚æ•°å¯¹é¡¹ç›®æ„å»ºç»“æœå…·æœ‰ç›´æ¥å½±å“ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><code>CMAKE_BUILD_TYPE</code>ï¼šæ§åˆ¶ç¼–è¯‘ä¼˜åŒ–çº§åˆ«ä¸è°ƒè¯•ä¿¡æ¯ç”Ÿæˆï¼Œå–å€¼èŒƒå›´åŒ…æ‹¬ Debugï¼ˆæ— ä¼˜åŒ–ï¼Œå«è°ƒè¯•ç¬¦å·ï¼‰ã€Releaseï¼ˆæœ€é«˜ä¼˜åŒ–ï¼Œæ— è°ƒè¯•ä¿¡æ¯ï¼‰ã€RelWithDebInfoï¼ˆä¼˜åŒ–+è°ƒè¯•ç¬¦å·ï¼‰å’Œ MinSizeRelï¼ˆæœ€å°ä½“ç§¯ä¼˜åŒ–ï¼‰ã€‚åœ¨å¼€å‘é˜¶æ®µé€‰æ‹© Debug å¯æ˜¾è‘—æå‡è°ƒè¯•æ•ˆç‡ï¼Œè€Œå‘å¸ƒç‰ˆæœ¬éœ€åˆ‡æ¢è‡³ Release ä»¥è·å¾—æœ€ä½³æ€§èƒ½ã€‚</li>
<li><code>CMAKE_CXX_STANDARD</code>ï¼šæŒ‡å®š C++ æ ‡å‡†ç‰ˆæœ¬ï¼ˆå¦‚ 11ã€14ã€17 æˆ– 20ï¼‰ï¼Œå·¥å…·ä¼šè‡ªåŠ¨æ ¡éªŒç¼–è¯‘å™¨å…¼å®¹æ€§å¹¶ç”Ÿæˆç›¸åº”ç¼–è¯‘å‚æ•°ã€‚</li>
</ul>
<h3 data-id="heading-2">æ„å»ºæ¨¡å—ï¼šçµæ´»ç›®æ ‡ç®¡ç†ä¸æ€§èƒ½ä¼˜åŒ–</h3>
<p>æ„å»ºæ¨¡å—é€šè¿‡ã€Œå¤šç”Ÿæˆå™¨æ”¯æŒã€å’Œã€Œç›®æ ‡é€‰æ‹©æœºåˆ¶ã€æå‡å¼€å‘æ•ˆç‡ã€‚å·¥å…·é»˜è®¤é›†æˆ Ninjaã€Makefilesã€Visual Studio ç­‰å¤šç§ç”Ÿæˆå™¨ï¼Œå…¶ä¸­ Ninja ç”Ÿæˆå™¨å‡­å€Ÿå¹¶è¡Œç¼–è¯‘èƒ½åŠ›æˆä¸ºæ€§èƒ½ä¼˜åŒ–çš„å…³é”®â€”â€”å…¶åŸºäºä¾èµ–å…³ç³»å›¾çš„ä»»åŠ¡è°ƒåº¦å¯å……åˆ†åˆ©ç”¨å¤šæ ¸ CPUï¼Œè¾ƒä¼ ç»Ÿ Make æ„å»ºé€Ÿåº¦æå‡ 30%~50%ã€‚å¼€å‘è€…å¯é€šè¿‡å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰æ‰§è¡Œ <code>CMake: Build</code> å¹¶é€‰æ‹©ç‰¹å®šç›®æ ‡ï¼ˆå¦‚å¯æ‰§è¡Œæ–‡ä»¶ã€é™æ€åº“æˆ–è‡ªå®šä¹‰ç›®æ ‡ï¼‰ï¼Œé¿å…å…¨é¡¹ç›®é‡æ–°ç¼–è¯‘ã€‚</p>
<p>æ€§èƒ½ä¼˜åŒ–å®è·µï¼šåœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œå»ºè®®ï¼š</p>
<ul>
<li>å¯ç”¨å¢é‡æ„å»ºï¼ˆé»˜è®¤å¼€å¯ï¼‰ï¼Œä»…é‡æ–°ç¼–è¯‘ä¿®æ”¹è¿‡çš„æºæ–‡ä»¶ï¼›</li>
<li>é…ç½® <code>CMAKE_CXX_FLAGS</code> æ·»åŠ ç¼–è¯‘å™¨ç‰¹å®šä¼˜åŒ–ï¼ˆå¦‚ GCC çš„ <code>-O3</code> æˆ– Clang çš„ <code>-march=native</code>ï¼‰ï¼›</li>
<li>ä½¿ç”¨ <code>ctest</code> é›†æˆæµ‹è¯•ç›®æ ‡ï¼Œé€šè¿‡ <code>CMake: Run Tests</code> ä¸€é”®æ‰§è¡Œå•å…ƒæµ‹è¯•ã€‚</li>
</ul>
<h3 data-id="heading-3">è°ƒè¯•æ¨¡å—ï¼šåŒæ¨¡å¼é€‚é…ä¸ç²¾å‡†å‚æ•°é…ç½®</h3>
<p>è°ƒè¯•æ¨¡å—æ”¯æŒã€Œå¯åŠ¨è°ƒè¯•ï¼ˆLaunchï¼‰ã€å’Œã€Œé™„åŠ è°ƒè¯•ï¼ˆAttachï¼‰ã€ä¸¤ç§æ¨¡å¼ï¼Œè¦†ç›–ä¸åŒå¼€å‘åœºæ™¯ï¼š</p>
<ul>
<li><strong>Launch æ¨¡å¼</strong>ï¼šé€‚ç”¨äºä»é›¶å¯åŠ¨ç¨‹åºï¼Œéœ€åœ¨ <code>launch.json</code> ä¸­é…ç½® <code>program</code>ï¼ˆå¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼‰å’Œ <code>args</code>ï¼ˆå‘½ä»¤è¡Œå‚æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œè°ƒè¯•è·¯å¾„ä¸º <code>${workspaceFolder}/build/app</code> çš„ç¨‹åºå¹¶ä¼ å…¥ <code>--config debug</code> å‚æ•°ï¼Œé…ç½®ç¤ºä¾‹å¦‚ä¸‹ï¼š</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Launch App"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cppdbg"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"program"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}/build/app"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"--config"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"debug"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"stopAtEntry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"cwd"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ul>
<li><strong>Attach æ¨¡å¼</strong>ï¼šç”¨äºè°ƒè¯•å·²è¿è¡Œè¿›ç¨‹ï¼Œéœ€æŒ‡å®šè¿›ç¨‹ IDï¼ˆPIDï¼‰æˆ–è¿›ç¨‹åç§°ï¼Œé€‚ç”¨äºæœåŠ¡ç«¯ç¨‹åºæˆ–åå°è¿›ç¨‹è°ƒè¯•ã€‚</li>
</ul>
<p>å·¥å…·é€šè¿‡ã€Œå˜é‡æ›¿æ¢æœºåˆ¶ã€ï¼ˆå¦‚ <code>${workspaceFolder}</code>ã€<code>${buildType}</code>ï¼‰åŠ¨æ€é€‚é…ä¸åŒæ„å»ºé…ç½®ï¼Œç¡®ä¿è°ƒè¯•å™¨å§‹ç»ˆå…³è”æœ€æ–°ç¼–è¯‘äº§ç‰©ã€‚åŒæ—¶ï¼Œé›†æˆ GDBã€LLDB ç­‰è°ƒè¯•å™¨æä¾›æ–­ç‚¹ç®¡ç†ã€å˜é‡ç›‘è§†å’Œè°ƒç”¨æ ˆåˆ†æåŠŸèƒ½ï¼Œå®ç°ä»£ç ç¼–è¾‘ä¸è°ƒè¯•çš„æ— ç¼è¡”æ¥ã€‚</p>
<hr/>
<h2 data-id="heading-4">é¡¹ç›®å¼€å‘å…¨æµç¨‹å®è·µ</h2>
<p>VSCode CMake Tools æä¾›äº†ä»é¡¹ç›®åˆ›å»ºåˆ°è·¯å¾„é…ç½®çš„å®Œæ•´å¼€å‘é—­ç¯ï¼Œä»¥ä¸‹æŒ‰ã€Œåˆ›å»º-é…ç½®-æ„å»º-è°ƒè¯•-è·¯å¾„è®¾ç½®ã€æµç¨‹è¯¦è§£å®æ“æ­¥éª¤ã€‚</p>
<h3 data-id="heading-5">åˆ›å»ºç¯èŠ‚ï¼šé¡¹ç›®åˆå§‹åŒ–ä¸æ¨¡æ¿é€‰æ‹©</h3>
<p>é€šè¿‡å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰è°ƒç”¨ <code>CMake: Quick Start</code> å‘½ä»¤å¯åŠ¨é¡¹ç›®å‘å¯¼ï¼Œæ ¹æ®å¼€å‘éœ€æ±‚é€‰æ‹©æ¨¡æ¿ç±»å‹ï¼š</p>
<ul>
<li><strong>Executable</strong>ï¼šé€‚ç”¨äºæ„å»ºå¯æ‰§è¡Œç¨‹åºï¼Œè‡ªåŠ¨ç”ŸæˆåŒ…å« <code>main.cpp</code> çš„åŸºç¡€å·¥ç¨‹ç»“æ„</li>
<li><strong>Library</strong>ï¼šç”¨äºåˆ›å»ºé™æ€/åŠ¨æ€åº“ï¼Œç”ŸæˆåŒ…å«å¤´æ–‡ä»¶å’Œå®ç°æ–‡ä»¶çš„åº“é¡¹ç›®æ¡†æ¶</li>
</ul>
<p>å‘å¯¼å®Œæˆåå°†è‡ªåŠ¨ç”Ÿæˆåˆå§‹ <code>CMakeLists.txt</code>ï¼ŒåŒ…å«é¡¹ç›®åç§°ã€ç‰ˆæœ¬å·åŠè¯­è¨€æ ‡å‡†ç­‰åŸºç¡€é…ç½®ã€‚</p>
<h3 data-id="heading-6">é…ç½®ç¯èŠ‚ï¼šç¼“å­˜ç”Ÿæˆä¸é—®é¢˜æ’æŸ¥</h3>
<p>é…ç½®è¿‡ç¨‹æ˜¯å°† <code>CMakeLists.txt</code> è½¬æ¢ä¸ºæ„å»ºç³»ç»Ÿæ–‡ä»¶çš„æ ¸å¿ƒæ­¥éª¤ï¼Œæ“ä½œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>æ‰“å¼€å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰è¾“å…¥å¹¶æ‰§è¡Œ <code>CMake: Configure</code> å‘½ä»¤</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5633515f8d144d279ed5ddd390988b12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766056659&amp;x-signature=lXINON7vngQAYjR8Iny4cCOS89w%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>é¦–æ¬¡é…ç½®éœ€é€‰æ‹©ç¼–è¯‘å™¨ï¼ˆå¦‚ GCCã€Clang æˆ– MSVCï¼‰ï¼Œåç»­é…ç½®å°†è‡ªåŠ¨æ²¿ç”¨</li>
<li>é…ç½®ç»“æœå¯é€šè¿‡ Output é¢æ¿ï¼ˆ<code>Ctrl+Shift+U</code> åˆ‡æ¢ï¼‰çš„ CMake/Build é€šé“æŸ¥çœ‹è¯¦ç»†æ—¥å¿—</li>
</ol>
<p>é…ç½®å¤±è´¥æ’æŸ¥æŒ‡å—ï¼š</p>
<ul>
<li><strong>ä¾èµ–ç¼ºå¤±</strong>ï¼šæ—¥å¿—ä¸­å‡ºç° "Could NOT find XXX" æç¤ºæ—¶ï¼Œéœ€é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…å¯¹åº”ä¾èµ–</li>
<li><strong>è¯­æ³•é”™è¯¯</strong>ï¼š<code>CMakeLists.txt</code> å­˜åœ¨è¯­æ³•é—®é¢˜ä¼šå¯¼è‡´ "Parse error"ï¼Œå¯é€šè¿‡ VS Code å†…ç½® CMake è¯­æ³•é«˜äº®å®šä½é”™è¯¯è¡Œ</li>
<li><strong>è·¯å¾„é—®é¢˜</strong>ï¼šåŒ…å«é ASCII å­—ç¬¦æˆ–ç©ºæ ¼çš„é¡¹ç›®è·¯å¾„å¯èƒ½å¼•å‘é…ç½®å¼‚å¸¸ï¼Œå»ºè®®ä½¿ç”¨çº¯è‹±æ–‡è·¯å¾„</li>
</ul>
<p>é…ç½®æˆåŠŸåå°†åœ¨ <code>build</code> ç›®å½•ç”Ÿæˆç¼“å­˜æ–‡ä»¶ï¼ˆå¦‚ <code>CMakeCache.txt</code>ï¼‰ï¼Œä¿®æ”¹ <code>CMakeLists.txt</code> åéœ€é‡æ–°æ‰§è¡Œé…ç½®å‘½ä»¤æ›´æ–°ç¼“å­˜ã€‚</p>
<h3 data-id="heading-7">æ„å»ºç¯èŠ‚ï¼šç¼–è¯‘ä¼˜åŒ–ä¸å¤šé…ç½®ç®¡ç†</h3>
<p>æ„å»ºæ“ä½œé€šè¿‡å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰è°ƒç”¨ <code>CMake: Build</code> å‘½ä»¤è§¦å‘ï¼Œå…³é”®é…ç½®åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>å¹¶è¡Œä»»åŠ¡æ•°è®¾ç½®</strong>ï¼šå»ºè®®é…ç½®ä¸º CPU æ ¸å¿ƒæ•°çš„ 1.5 å€ï¼ˆé€šè¿‡ <code>CMake: Set Build Parallel Level</code> å‘½ä»¤è°ƒæ•´ï¼‰ï¼Œå¹³è¡¡ç¼–è¯‘é€Ÿåº¦ä¸ç³»ç»Ÿè´Ÿè½½</li>
<li><strong>å¤šé…ç½®ç”Ÿæˆå™¨ä½¿ç”¨</strong>ï¼šå¯¹æ”¯æŒå¤šé…ç½®çš„ç”Ÿæˆå™¨ï¼ˆå¦‚ Visual Studioã€Xcodeï¼‰ï¼Œå¯é€šè¿‡çŠ¶æ€æ çš„æ„å»ºç±»å‹ä¸‹æ‹‰èœå•ï¼ˆé»˜è®¤ä¸º Debugï¼‰å¿«é€Ÿåˆ‡æ¢ Debug/Release/RelWithDebInfo æ¨¡å¼ï¼Œæ— éœ€é‡å¤é…ç½®</li>
</ul>
<h3 data-id="heading-8">è°ƒè¯•ç¯èŠ‚ï¼šä¸¤ç§è°ƒè¯•æ¨¡å¼å¯¹æ¯”</h3>























<table><thead><tr><th>è°ƒè¯•æ–¹å¼</th><th>é€‚ç”¨åœºæ™¯</th><th>é…ç½®å¤æ‚åº¦</th><th>å‚æ•°ä¼ é€’æ–¹å¼</th></tr></thead><tbody><tr><td>å¿«é€Ÿè°ƒè¯•</td><td>ä¸´æ—¶è°ƒè¯•éªŒè¯</td><td>ä½</td><td>ä¸æ”¯æŒè‡ªå®šä¹‰å‚æ•°</td></tr><tr><td>launch.json é…ç½®</td><td>å¤æ‚è°ƒè¯•åœºæ™¯</td><td>é«˜</td><td>é€šè¿‡ args å­—æ®µå®šä¹‰</td></tr></tbody></table>
<p>args å‚æ•°ä¼ é€’ç¤ºä¾‹ï¼ˆ<code>launch.json</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0.2.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"configurations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"(gdb) Launch"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cppdbg"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"program"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${command:cmake.launchTargetPath}"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"--input"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"data.txt"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"--verbose"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"stopAtEntry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cwd"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"environment"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"externalConsole"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"MIMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gdb"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-9">Include è·¯å¾„è®¾ç½®ï¼šè‡ªåŠ¨åŒæ­¥ä¸æ‰‹åŠ¨è¡¥å……</h3>
<p>å¤´æ–‡ä»¶è·¯å¾„ç®¡ç†é‡‡ç”¨åŒé‡æœºåˆ¶ç¡®ä¿ IntelliSense æ­£å¸¸å·¥ä½œï¼š</p>
<ul>
<li><strong>è‡ªåŠ¨åŒæ­¥</strong>ï¼šCMake é…ç½®è¿‡ç¨‹ä¸­ä¼šç”Ÿæˆ <code>compile_commands.json</code>ï¼ˆéœ€åœ¨ <code>CMakeLists.txt</code> ä¸­è®¾ç½® <code>set(CMAKE_EXPORT_COMPILE_COMMANDS ON)</code>ï¼‰ï¼ŒVS Code ä¼šè‡ªåŠ¨è§£æè¯¥æ–‡ä»¶åŒæ­¥ include è·¯å¾„</li>
<li><strong>æ‰‹åŠ¨è¡¥å……</strong>ï¼šå½“è‡ªåŠ¨åŒæ­¥ä¸å®Œæ•´æ—¶ï¼Œå¯é€šè¿‡ <code>.vscode/c_cpp_properties.json</code> æ‰‹åŠ¨æ·»åŠ è·¯å¾„ï¼š</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"configurations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Linux"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"includePath"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-string">"${workspaceFolder}/**"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"/usr/local/include"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-string">"${workspaceFolder}/third_party/include"</span>
      <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"defines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"compilerPath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/usr/bin/gcc"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cStandard"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"c17"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cppStandard"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"c++20"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>è·¯å¾„ä¼˜å…ˆçº§è§„åˆ™ï¼šæ‰‹åŠ¨é…ç½®çš„ <code>includePath</code> ä¼˜å…ˆçº§é«˜äº <code>compile_commands.json</code> ä¸­çš„è·¯å¾„ï¼Œå­˜åœ¨å†²çªæ—¶ä»¥æ‰‹åŠ¨é…ç½®ä¸ºå‡†</p>
</blockquote>
<hr/>
<h2 data-id="heading-10">é«˜çº§ç‰¹æ€§ä¸å®šåˆ¶åŒ–æ–¹æ¡ˆ</h2>
<p>VSCode CMake Tools çš„é«˜çº§ç‰¹æ€§ä½“ç³»å›´ç»•ã€Œæ ‡å‡†åŒ–-ç²¾å‡†æ§åˆ¶-åœºæ™¯åˆ‡æ¢ã€æ„å»ºï¼Œé€šè¿‡ä¸‰å¤§æ ¸å¿ƒç»„ä»¶è§£å†³ä¼ ç»Ÿé…ç½®æ¨¡å¼ä¸‹çš„ç¯å¢ƒä¸€è‡´æ€§ã€å·¥å…·é“¾é€‚é…ä¸å¤šåœºæ™¯åˆ‡æ¢éš¾é¢˜ã€‚</p>
<h3 data-id="heading-11">CMake Presetsï¼šå±‚çº§åŒ–é…ç½®å®ç°å›¢é˜Ÿåä½œæ ‡å‡†åŒ–</h3>
<p>å…¶æ ¸å¿ƒåŒ…å«ï¼š</p>
<ul>
<li><code>configurePresets</code>ï¼šå®šä¹‰åŸºç¡€æ„å»ºç¯å¢ƒï¼ˆå¦‚ CMake ç‰ˆæœ¬ã€ç”Ÿæˆå™¨ç±»å‹ï¼‰</li>
<li><code>buildPresets</code>ï¼šç»§æ‰¿é…ç½®å¹¶æ·»åŠ ç¼–è¯‘å‚æ•°ï¼ˆå¦‚å¹¶è¡Œä»»åŠ¡æ•°ï¼‰</li>
<li><code>testPresets</code>ï¼šä¸“æ³¨æµ‹è¯•æ‰§è¡Œç­–ç•¥ï¼ˆå¦‚æµ‹è¯•è¶…æ—¶è®¾ç½®ï¼‰</li>
</ul>
<p>è¿™ç§ç»“æ„åŒ–é…ç½®å¯é€šè¿‡ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå…±äº«ï¼Œç¡®ä¿å›¢é˜Ÿæˆå‘˜ä½¿ç”¨ç»Ÿä¸€çš„æ„å»ºç¯å¢ƒï¼Œæœ‰æ•ˆæ¶ˆé™¤ã€Œåœ¨æˆ‘æœºå™¨ä¸Šèƒ½è¿è¡Œã€çš„åä½œéšœç¢ã€‚</p>
<h3 data-id="heading-12">å·¥å…·é“¾ç®¡ç†ï¼ˆKitsï¼‰ï¼šåŒè½¨åˆ¶é€‚é…æ–¹æ¡ˆ</h3>
<ul>
<li><strong>è‡ªåŠ¨å‘ç°æ¨¡å¼</strong>ï¼šé€‚ç”¨äºæ ‡å‡†å¼€å‘ç¯å¢ƒï¼ˆå¦‚æ¡Œé¢ç«¯ GCC/Clangï¼‰ï¼ŒVSCode ä¼šæ‰«æç³»ç»Ÿè·¯å¾„å¹¶è¯†åˆ«å·²å®‰è£…ç¼–è¯‘å™¨</li>
<li><strong>æ‰‹åŠ¨å®šä¹‰æ¨¡å¼</strong>ï¼šé’ˆå¯¹åµŒå…¥å¼å¼€å‘ç­‰ç‰¹æ®Šåœºæ™¯ï¼Œæ”¯æŒé€šè¿‡ JSON é…ç½®æ–‡ä»¶æŒ‡å®šäº¤å‰ç¼–è¯‘å·¥å…·é“¾ã€‚ä¾‹å¦‚ä¸º ARM åµŒå…¥å¼é¡¹ç›®é…ç½®å·¥å…·é“¾æ—¶ï¼Œå¯åœ¨ <code>kits.json</code> ä¸­æ˜ç¡®å®šä¹‰ç¼–è¯‘å™¨è·¯å¾„ä¸ç›®æ ‡æ¶æ„ï¼š</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ARM GCC Embedded"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"compilers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"C"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"arm-none-eabi-gcc"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"CXX"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"arm-none-eabi-g++"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"cmakeSettings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"CMAKE_SYSTEM_NAME"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Generic"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"CMAKE_SYSTEM_PROCESSOR"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"arm"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-13">Variantsï¼šYAML é…ç½®å®ç°æ„å»ºåœºæ™¯åŠ¨æ€åˆ‡æ¢</h3>
<p>æ ¸å¿ƒä¾èµ–ã€Œfiltersã€å’Œã€Œsettingsã€å­—æ®µçš„ååŒå·¥ä½œã€‚ä»¥ Debug/Release å˜ä½“ä¸ºä¾‹ï¼š</p>
<ul>
<li><code>filters</code> å­—æ®µé€šè¿‡æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç‰¹å®šæ„å»ºç±»å‹</li>
<li><code>settings</code> å­—æ®µåˆ™åŠ¨æ€è°ƒæ•´å¯¹åº”å‚æ•°ï¼šDebug å˜ä½“å¯ç”¨ <code>-O0</code> ä¼˜åŒ–å’Œ <code>-g</code> è°ƒè¯•ç¬¦å·ï¼ŒRelease å˜ä½“åˆ™é‡‡ç”¨ <code>-O3</code> ä¼˜åŒ–å¹¶ç¦ç”¨è°ƒè¯•ä¿¡æ¯</li>
</ul>
<p>è¿™ç§æœºåˆ¶æ”¯æŒè·¨å¹³å°å¼€å‘åœºæ™¯ï¼Œå¦‚ Windows ç¯å¢ƒè‡ªåŠ¨å…³è” MSVC å·¥å…·é“¾å¹¶å¯ç”¨ <code>/MD</code> è¿è¡Œæ—¶åº“ï¼ŒLinux ç¯å¢ƒåˆ™åˆ‡æ¢è‡³ GCC å¹¶é…ç½® <code>-fPIC</code> ä½ç½®æ— å…³ä»£ç é€‰é¡¹ï¼Œå®ç°åŒä¸€å¥—ä»£ç åº“åœ¨ä¸åŒæ“ä½œç³»ç»Ÿé—´çš„æ— ç¼æ„å»ºè¿‡æ¸¡ã€‚</p>
<blockquote>
<p>å…³é”®ä»·å€¼ï¼šä¸‰å¤§ç‰¹æ€§å½¢æˆäº’è¡¥é—­ç¯â€”â€”CMake Presets è§£å†³é…ç½®æ ‡å‡†åŒ–é—®é¢˜ï¼ŒKits å®ç°å·¥å…·é“¾ç²¾å‡†æ§åˆ¶ï¼ŒVariants åˆ™æä¾›åœºæ™¯åŠ¨æ€é€‚é…èƒ½åŠ›ã€‚åœ¨è·¨å¹³å°å¼€å‘ä¸­ï¼Œå¯é€šè¿‡ç»„åˆä½¿ç”¨å®ç°ã€Œä¸€æ¬¡é…ç½®ï¼Œå¤šç¯å¢ƒæ„å»ºã€ï¼Œæ˜¾è‘—æå‡å¤šå¹³å°é¡¹ç›®çš„å¼€å‘æ•ˆç‡ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-14">æœ€ä½³å®è·µä¸æ•ˆç‡ä¼˜åŒ–</h2>
<h3 data-id="heading-15">é…ç½®ç®¡ç†ï¼šç²¾å‡†æ§åˆ¶é¡¹ç›®æ„å»ºç¯å¢ƒ</h3>
<p>CMake é…ç½®è¿‡ç¨‹ä¸­ï¼Œæ™®é€š Configure æ“ä½œä¼šåŸºäºç¼“å­˜æ–‡ä»¶ incremental æ›´æ–°æ„å»ºç³»ç»Ÿï¼Œè€Œ Clean Configure åˆ™ä¼šå®Œå…¨æ¸…é™¤ç¼“å­˜å¹¶é‡æ–°ç”Ÿæˆæ‰€æœ‰é…ç½®æ•°æ®ã€‚å½“é¡¹ç›®ä¸­å‘ç”Ÿ <code>CMakeLists.txt</code> ç»“æ„å˜æ›´ï¼ˆå¦‚æ–°å¢å­ç›®å½•ã€ä¿®æ”¹ä¾èµ–å…³ç³»ã€å˜æ›´ç¼–è¯‘å™¨è®¾ç½®ï¼‰æ—¶ï¼Œå¿…é¡»æ‰§è¡Œ Clean Configure ä»¥é¿å…ç¼“å­˜æ±¡æŸ“å¯¼è‡´çš„æ„å»ºå¼‚å¸¸ã€‚åœ¨ VS Code ä¸­ï¼Œå¯é€šè¿‡å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰è¿è¡Œ <code>CMake: Delete Cache and Reconfigure</code> å®ç°è¿™ä¸€æ“ä½œï¼Œç¡®ä¿é…ç½®å˜æ›´è¢«æ­£ç¡®åº”ç”¨ã€‚</p>
<h3 data-id="heading-16">æ„å»ºåŠ é€Ÿï¼šä»ç¼–è¯‘åˆ°é“¾æ¥çš„å…¨æµç¨‹ä¼˜åŒ–</h3>
<p>æ„å»ºæ•ˆç‡ä¼˜åŒ–éœ€ä»å·¥å…·é“¾é€‰æ‹©å’Œå¹¶è¡Œç­–ç•¥ä¸¤æ–¹é¢ç€æ‰‹ã€‚Ninja ç”Ÿæˆå™¨ç›¸æ¯”ä¼ ç»Ÿ Make å·¥å…·å…·æœ‰æ›´é«˜æ•ˆçš„ä¾èµ–è§£æèƒ½åŠ›å’Œä»»åŠ¡è°ƒåº¦æœºåˆ¶ï¼Œåœ¨å¤šæ–‡ä»¶é¡¹ç›®ä¸­å¯å‡å°‘ 30%-50% çš„æ„å»ºæ—¶é—´ã€‚é…ç½®æ–¹æ³•æ˜¯åœ¨ CMake é…ç½®æ—¶æŒ‡å®šç”Ÿæˆå™¨ç±»å‹ï¼Œé€šè¿‡ <code>settings.json</code> è®¾ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"cmake.generator"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Ninja"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å¯¹äº C/C++ é¡¹ç›®ï¼Œé›†æˆ <code>ccache</code> ç¼–è¯‘å™¨ç¼“å­˜å·¥å…·å¯å¤§å¹…å‡å°‘é‡å¤ç¼–è¯‘æ—¶é—´ã€‚åœ¨ <code>CMakeLists.txt</code> ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®å¯ç”¨ ccacheï¼š</p>
<pre><code class="hljs language-cmake" lang="cmake">find_program(CCACHE_FOUND ccache)
if(CCACHE_FOUND)
  set(CMAKE_C_COMPILER_LAUNCHER ${CCACHE_FOUND})
  set(CMAKE_CXX_COMPILER_LAUNCHER ${CCACHE_FOUND})
endif(CCACHE_FOUND)
</code></pre>
<p>å¹¶è¡Œæ„å»ºé…ç½®éœ€åŒæ—¶ä¼˜åŒ– CMake å’Œç”Ÿæˆå™¨å±‚é¢çš„ä»»åŠ¡æ•°ã€‚åœ¨ <code>settings.json</code> ä¸­è®¾ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"cmake.parallelJobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// CMake é…ç½®é˜¶æ®µå¹¶è¡Œä»»åŠ¡æ•°</span>
  <span class="hljs-attr">"cmake.buildArgs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-j8"</span><span class="hljs-punctuation">]</span>  <span class="hljs-comment">// ä¼ é€’ç»™ Ninja/Make çš„å¹¶è¡Œæ„å»ºå‚æ•°</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å»ºè®®æ ¹æ® CPU æ ¸å¿ƒæ•°è®¾ç½®å¹¶è¡Œä»»åŠ¡æ•°ï¼ˆé€šå¸¸ä¸ºæ ¸å¿ƒæ•°çš„ 1-1.5 å€ï¼‰ï¼Œé¿å…è¿‡åº¦å¹¶è¡Œå¯¼è‡´çš„èµ„æºç«äº‰ã€‚</p>
<h3 data-id="heading-17">è°ƒè¯•éªŒè¯ï¼šç¡®ä¿è°ƒè¯•ç¯å¢ƒä¸æ„å»ºç›®æ ‡ä¸€è‡´æ€§</h3>
<p>è°ƒè¯•é…ç½®å¤±è´¥çš„å¸¸è§åŸå› ä¸ºè°ƒè¯•ç¨‹åºè·¯å¾„ä¸ CMake ç›®æ ‡è¾“å‡ºè·¯å¾„ä¸åŒ¹é…ã€‚éªŒè¯æ–¹æ³•ï¼šé¦–å…ˆé€šè¿‡ <code>CMake: Build Target</code> ç¡®è®¤ç›®æ ‡å·²æˆåŠŸæ„å»ºï¼Œç„¶ååœ¨ <code>launch.json</code> ä¸­æ£€æŸ¥ <code>"program"</code> å­—æ®µæ˜¯å¦æŒ‡å‘æ­£ç¡®çš„å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ã€‚å¯¹äºå¤šé…ç½®é¡¹ç›®ï¼ˆå¦‚ Windows ä¸‹çš„ Debug/Releaseï¼‰ï¼Œéœ€ä½¿ç”¨å˜é‡å¼•ç”¨ç¡®ä¿è·¯å¾„åŠ¨æ€é€‚é…ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"configurations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"(gdb) Launch"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cppdbg"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"program"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${command:cmake.launchTargetPath}"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"stopAtEntry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"cwd"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"environment"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"externalConsole"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"MIMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gdb"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"setupCommands"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Enable pretty-printing for gdb"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"-enable-pretty-printing"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"ignoreFailures"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å…¶ä¸­ <code>${command:cmake.launchTargetPath}</code> å˜é‡ä¼šè‡ªåŠ¨è§£æå½“å‰æ¿€æ´»ç›®æ ‡çš„è¾“å‡ºè·¯å¾„ï¼Œé¿å…æ‰‹åŠ¨ç»´æŠ¤è·¯å¾„çš„ç¹çå’Œé”™è¯¯ã€‚</p>
<h3 data-id="heading-18">IntelliSense åŒæ­¥ï¼šä¿æŒä»£ç åˆ†æä¸é¡¹ç›®é…ç½®ä¸€è‡´</h3>
<p>å½“ CMake é…ç½®å˜æ›´åï¼ˆå¦‚æ–°å¢å¤´æ–‡ä»¶è·¯å¾„ã€ä¿®æ”¹å®å®šä¹‰ï¼‰ï¼ŒIntelliSense å¯èƒ½å› ç¼“å­˜æœªæ›´æ–°å¯¼è‡´ä»£ç åˆ†æå¼‚å¸¸ã€‚æ‰‹åŠ¨åŒæ­¥æ–¹æ³•ï¼šæ‰“å¼€å‘½ä»¤é¢æ¿ï¼ˆ<code>Ctrl+Shift+P</code>ï¼‰ï¼Œè¿è¡Œ <code>CMake: Refresh IntelliSense</code> å‘½ä»¤ï¼ŒVS Code ä¼šé‡æ–°ç”Ÿæˆ <code>compile_commands.json</code> å¹¶æ›´æ–° C/C++ æ‰©å±•çš„é…ç½®ã€‚å¯¹äºå¤§å‹é¡¹ç›®ï¼Œå¯åœ¨ <code>settings.json</code> ä¸­å¯ç”¨è‡ªåŠ¨åŒæ­¥ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"cmake.autoRefreshIntelliSense"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-19">è·¨å¹³å°å¼€å‘ï¼šå®ç°å¤šç¯å¢ƒä¸€è‡´æ„å»ºä½“éªŒ</h3>
<p>è·¨å¹³å°é¡¹ç›®éœ€é€šè¿‡ã€Œå·¥å…·é“¾æ–‡ä»¶ã€ç»Ÿä¸€ç®¡ç†ç¼–è¯‘å™¨ç‰¹æ€§ã€ç³»ç»Ÿåº“è·¯å¾„ç­‰å¹³å°ç›¸å…³é…ç½®ã€‚åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>toolchains</code> æ–‡ä»¶å¤¹ï¼Œä¸ºä¸åŒå¹³å°ç¼–å†™ä¸“ç”¨å·¥å…·é“¾æ–‡ä»¶ï¼ˆå¦‚ <code>toolchains/linux-gcc.cmake</code>ã€<code>toolchains/windows-msvc.cmake</code>ï¼‰ï¼Œç„¶ååœ¨é…ç½®æ—¶é€šè¿‡å‘½ä»¤æŒ‡å®šï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"cmake.configureArgs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"-DCMAKE_TOOLCHAIN_FILE=toolchains/linux-gcc.cmake"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åŒæ—¶ï¼Œåˆ©ç”¨ VS Code çš„ã€Œå·¥ä½œåŒºä¿¡ä»»æœºåˆ¶ã€ä¿æŠ¤é¡¹ç›®å®‰å…¨ã€‚é¦–æ¬¡æ‰“å¼€é¡¹ç›®æ—¶ï¼Œåœ¨å¼¹å‡ºçš„ã€Œå·¥ä½œåŒºä¿¡ä»»ã€å¯¹è¯æ¡†ä¸­é€‰æ‹©ã€Œä¿¡ä»»æ–‡ä»¶å¤¹å¹¶å¯ç”¨æ‰€æœ‰åŠŸèƒ½ã€ï¼Œç¡®ä¿ CMake Tools èƒ½æ­£å¸¸è®¿é—®é¡¹ç›®æ–‡ä»¶å’Œæ‰§è¡Œæ„å»ºå‘½ä»¤ã€‚å¯¹äºå¤šäººåä½œé¡¹ç›®ï¼Œå¯é€šè¿‡ <code>settings.json</code> å…±äº«ä¿¡ä»»é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"security.workspace.trust.untrustedFiles"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"open"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>å…³é”®æç¤ºï¼šè·¨å¹³å°å¼€å‘ä¸­ï¼Œé¿å…åœ¨ <code>CMakeLists.txt</code> ä¸­ç¡¬ç¼–ç å¹³å°ç›¸å…³è·¯å¾„ï¼ˆå¦‚ <code>/usr/local/lib</code>ï¼‰ï¼Œåº”ä½¿ç”¨ CMake å†…ç½®å˜é‡ï¼ˆå¦‚ <code>${CMAKE_INSTALL_LIBDIR}</code>ï¼‰å’Œå·¥å…·é“¾æ–‡ä»¶æŠ½è±¡å¹³å°å·®å¼‚ï¼Œç¡®ä¿æ„å»ºè„šæœ¬çš„å¯ç§»æ¤æ€§ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-20">å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-21">IntelliSense å¼‚å¸¸</h3>
<ul>
<li><strong>é—®é¢˜ç°è±¡</strong>ï¼šä»£ç è¡¥å…¨å¤±æ•ˆã€è¯­æ³•é«˜äº®å¼‚å¸¸æˆ–å¤´æ–‡ä»¶å¼•ç”¨æŠ¥é”™ã€‚</li>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼šCMake é…ç½®è§£æé”™è¯¯æˆ–æ„å»ºç¼“å­˜è¿‡æ—¶ï¼Œå¯¼è‡´ IntelliSense æ— æ³•æ­£ç¡®è¯†åˆ«é¡¹ç›®ç»“æ„ã€‚</li>
<li><strong>è§£å†³æ­¥éª¤</strong>ï¼š
<ol>
<li>æŸ¥çœ‹ Output æ—¥å¿—ï¼šæ‰“å¼€ VS Code åº•éƒ¨çŠ¶æ€æ çš„ Output é¢æ¿ï¼Œåˆ‡æ¢è‡³ CMake/Build é¢‘é“ï¼Œæ£€æŸ¥æ˜¯å¦å­˜åœ¨ <code>CMakeLists.txt</code> è¯­æ³•é”™è¯¯æˆ–ä¾èµ–ç¼ºå¤±æç¤ºã€‚</li>
<li>éªŒè¯é¡¹ç›®é…ç½®ï¼šåœ¨ CMAKE: PROJECT OUTLINE æ ‘çŠ¶è§†å›¾ä¸­ï¼Œç¡®è®¤æºæ–‡ä»¶ä¸ <code>CMakeLists.txt</code> çš„å…³è”æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿ <code>add_executable</code> æˆ– <code>target_link_libraries</code> ç­‰æŒ‡ä»¤é…ç½®æ— è¯¯ã€‚</li>
<li>é‡å»ºç¼“å­˜ï¼šæŒ‰ä¸‹ <code>Ctrl+Shift+P</code> è°ƒå‡ºå‘½ä»¤é¢æ¿ï¼Œæ‰§è¡Œ <code>CMake: Rebuild CMake Cache</code> å‘½ä»¤åˆ·æ–°é…ç½®ã€‚</li>
</ol>
</li>
</ul>
<h3 data-id="heading-22">è°ƒè¯•é…ç½®æ— æ•ˆ</h3>
<ul>
<li><strong>é—®é¢˜ç°è±¡</strong>ï¼šå¯åŠ¨è°ƒè¯•åæ— ååº”æˆ–æç¤ºã€Œç¨‹åºè·¯å¾„ä¸å­˜åœ¨ã€ã€‚</li>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼š<code>launch.json</code> ä¸­ <code>program</code> è·¯å¾„æœªæ­£ç¡®å…³è”æ„å»ºäº§ç‰©ï¼Œæˆ–ç¼ºå°‘å‰ç½®æ„å»ºä»»åŠ¡ã€‚</li>
<li><strong>è§£å†³æ­¥éª¤</strong>ï¼š
<ol>
<li>é…ç½® <code>program</code> è·¯å¾„ï¼šåœ¨ <code>launch.json</code> ä¸­ä½¿ç”¨å˜é‡ <code>${command:cmake.launchTargetPath}</code> è‡ªåŠ¨å®šä½å½“å‰æ¿€æ´»ç›®æ ‡çš„å¯æ‰§è¡Œæ–‡ä»¶è·¯å¾„ï¼Œé¿å…ç¡¬ç¼–ç ç»å¯¹è·¯å¾„ã€‚</li>
<li>è®¾ç½® <code>preLaunchTask</code>ï¼šæ·»åŠ  <code>"preLaunchTask": "CMake: build"</code> ç¡®ä¿è°ƒè¯•å‰è‡ªåŠ¨æ„å»ºé¡¹ç›®ï¼Œé˜²æ­¢å› äº§ç‰©ç¼ºå¤±å¯¼è‡´å¯åŠ¨å¤±è´¥ã€‚</li>
<li>éªŒè¯æ–­ç‚¹ä½ç½®ï¼šç¡®ä¿æ–­ç‚¹ä½äºå¯æ‰§è¡Œä»£ç è¡Œï¼ˆå¦‚ main å‡½æ•°å†…ï¼‰ï¼Œè€Œéæ³¨é‡Šæˆ–ç©ºè¡Œã€‚</li>
</ol>
</li>
</ul>
<h3 data-id="heading-23">Include è·¯å¾„é”™è¯¯</h3>
<ul>
<li><strong>é—®é¢˜ç°è±¡</strong>ï¼šç¼–è¯‘å™¨æç¤º <code>fatal error: 'xxx.h' file not found</code>ã€‚</li>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼šå¤´æ–‡ä»¶æœç´¢è·¯å¾„æœªè¢«æ­£ç¡®æ·»åŠ è‡³ IntelliSense é…ç½®ã€‚</li>
<li><strong>è§£å†³æ­¥éª¤</strong>ï¼š
<ul>
<li><strong>UI é…ç½®æ³•</strong>ï¼šæ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œæ‰§è¡Œ <code>C/C++: Edit Configurations (UI)</code>ï¼Œåœ¨ Include path ä¸­æ·»åŠ å¤´æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼ˆå¦‚ <code>${workspaceFolder}/include</code>ï¼‰ã€‚</li>
<li><strong>æ‰‹åŠ¨ç¼–è¾‘æ³•</strong>ï¼šç›´æ¥ä¿®æ”¹ <code>.vscode/c_cpp_properties.json</code>ï¼Œåœ¨ <code>configurations[0].includePath</code> æ•°ç»„ä¸­æ·»åŠ è·¯å¾„ï¼Œå¹¶è®¾ç½® <code>"compilerPath"</code> ä¸ºå®é™…ä½¿ç”¨çš„ç¼–è¯‘å™¨è·¯å¾„ï¼ˆå¦‚ <code>C:/MinGW/bin/gcc.exe</code>ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-24">å·¥å…·çŠ¶æ€å¼‚å¸¸</h3>
<ul>
<li><strong>é—®é¢˜ç°è±¡</strong>ï¼šCMake æ‰©å±•æ— å“åº”æˆ–å‘½ä»¤é¢æ¿ä¸­ CMake ç›¸å…³å‘½ä»¤ç¼ºå¤±ã€‚</li>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼šæ‰©å±•ç¼“å­˜æŸåæˆ–å®‰è£…æ–‡ä»¶å®Œæ•´æ€§é—®é¢˜ã€‚</li>
<li><strong>è§£å†³æ­¥éª¤</strong>ï¼š
<ol>
<li>æ¸…ç†ç¼“å­˜ï¼šæ‰§è¡Œå‘½ä»¤ <code>CMake: Clear CMake Cache</code> æ¸…é™¤æ„å»ºç¼“å­˜ï¼Œè·¯å¾„é€šå¸¸ä¸º <code>${workspaceFolder}/build/CMakeCache.txt</code>ã€‚</li>
<li>é‡è£…æ‰©å±•ï¼šåœ¨ VS Code æ‰©å±•é¢æ¿ä¸­å¸è½½ CMake Toolsï¼Œé‡å¯è½¯ä»¶åé‡æ–°å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶ç¡®ä¿ä¾èµ–çš„ C/C++ Extension Pack å·²åŒæ­¥æ›´æ–°ã€‚</li>
</ol>
</li>
</ul>
<blockquote>
<p>æ’æŸ¥åŸåˆ™ï¼šæ‰€æœ‰é—®é¢˜å‡éœ€ä¼˜å…ˆæ£€æŸ¥ Output æ—¥å¿—ä¸é¡¹ç›®é…ç½®æ–‡ä»¶ï¼Œé¿å…ç›²ç›®æ“ä½œã€‚å¯¹äºè·¯å¾„ç›¸å…³é”™è¯¯ï¼Œå»ºè®®ä½¿ç”¨ <code>${workspaceFolder}</code> ç­‰å˜é‡ç¡®ä¿è·¨ç¯å¢ƒå…¼å®¹æ€§ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-25">æ€»ç»“ä¸æœªæ¥å±•æœ›</h2>
<p>VSCode CMake Tools ä½œä¸ºè¿æ¥ CMake ä¸ VS Code ç”Ÿæ€çš„å…³é”®æ¡¥æ¢ï¼Œé€šè¿‡é…ç½®ç®¡ç†ã€æ„å»ºæ‰§è¡Œã€è°ƒè¯•é›†æˆç­‰æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼Œæœ‰æ•ˆç®€åŒ–äº† C++ é¡¹ç›®çš„å¼€å‘æµç¨‹ã€‚å…¶é«˜çº§ç‰¹æ€§å¦‚ CMake Presetsã€Kits å’Œ Variants æ”¯æŒé«˜åº¦å®šåˆ¶åŒ–çš„å¼€å‘éœ€æ±‚ï¼Œé…åˆæœ€ä½³å®è·µä¸é—®é¢˜è§£å†³æ–¹æ¡ˆï¼Œè¿›ä¸€æ­¥æå‡äº†å¼€å‘æ•ˆç‡ä¸é¡¹ç›®ç¨³å®šæ€§ã€‚</p>
<h3 data-id="heading-26">æœªæ¥å‘å±•æ–¹å‘</h3>
<ul>
<li>è·¨å¹³å°æ‰©å±•ï¼šå¢å¼º WebAssembly ç­‰æ–°å…´å¹³å°æ”¯æŒ</li>
<li>å›¢é˜Ÿåä½œä¼˜åŒ–ï¼šå¼€å‘é…ç½®å…±äº«ä¸åŒæ­¥æœºåˆ¶</li>
<li>æ™ºèƒ½è¾…åŠ©ï¼šå¼•å…¥ AI é©±åŠ¨çš„ CMake é¢„è®¾ç”ŸæˆåŠŸèƒ½</li>
</ul>
<p>éšç€ CMake æ ‡å‡†çš„æŒç»­è¿­ä»£å’Œç¤¾åŒºè´¡çŒ®çš„æ·±å…¥ï¼ŒVSCode CMake Tools å°†ç»§ç»­æ·±åŒ–å…¶ä½œä¸º C++ å¼€å‘åŸºç¡€è®¾æ–½çš„ä»·å€¼ï¼Œä¸ºå¼€å‘è€…æä¾›æ›´æ™ºèƒ½ã€æ›´é«˜æ•ˆçš„é›†æˆå¼€å‘ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kingfisher æ·±åº¦æŒ‡å—ï¼šSwift ç”Ÿæ€ä¸‹çš„é«˜æ€§èƒ½å›¾ç‰‡å¤„ç†è‰ºæœ¯]]></title>    <link>https://juejin.cn/post/7582401182934810639</link>    <guid>https://juejin.cn/post/7582401182934810639</guid>    <pubDate>2025-12-11T15:22:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582401182934810639" data-draft-id="7582401182934794255" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kingfisher æ·±åº¦æŒ‡å—ï¼šSwift ç”Ÿæ€ä¸‹çš„é«˜æ€§èƒ½å›¾ç‰‡å¤„ç†è‰ºæœ¯"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-11T15:22:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sweetä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/3227821869921646"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kingfisher æ·±åº¦æŒ‡å—ï¼šSwift ç”Ÿæ€ä¸‹çš„é«˜æ€§èƒ½å›¾ç‰‡å¤„ç†è‰ºæœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821869921646/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sweetä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T15:22:21.000Z" title="Thu Dec 11 2025 15:22:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šä¸ºä»€ä¹ˆéœ€è¦ä¸“é—¨çš„å›¾ç‰‡åŠ è½½åº“ï¼Ÿ</h2>
<p>åœ¨ç§»åŠ¨åº”ç”¨å¼€å‘ä¸­ï¼Œå›¾ç‰‡åŠ è½½æ˜¯å½±å“ç”¨æˆ·ä½“éªŒçš„æ ¸å¿ƒç¯èŠ‚ä¹‹ä¸€ã€‚ä¸€ä¸ªä¼˜ç§€çš„å›¾ç‰‡åŠ è½½åº“éœ€è¦è§£å†³å¤šä¸ªå¤æ‚é—®é¢˜ï¼šå¼‚æ­¥ä¸‹è½½ã€å†…å­˜ç¼“å­˜ã€ç£ç›˜ç¼“å­˜ã€å›¾ç‰‡è§£ç ã€åŠ¨ç”»æ”¯æŒã€åˆ—è¡¨ä¼˜åŒ–ç­‰ã€‚åœ¨ Swift ç”Ÿæ€ä¸­ï¼ŒKingfisher å‡­å€Ÿå…¶ç°ä»£åŒ–çš„è®¾è®¡ç†å¿µå’Œå“è¶Šçš„æ€§èƒ½è¡¨ç°ï¼Œæˆä¸ºäº† iOS/macOS å¼€å‘è€…çš„é¦–é€‰ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€Kingfisher æ¶æ„è®¾è®¡ï¼šæ¨¡å—åŒ–çš„è‰ºæœ¯</h2>
<h3 data-id="heading-2">æ ¸å¿ƒæ¶æ„åˆ†å±‚</h3>
<p>Kingfisher é‡‡ç”¨äº†æ¸…æ™°çš„åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰æ˜ç¡®çš„èŒè´£ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ä½¿ç”¨å±‚ (Usage Layer)           â”‚
â”‚  â€¢ UIImageView/NSImageView æ‰©å±•              â”‚
â”‚  â€¢ SwiftUI çš„ KFImage                        â”‚
â”‚  â€¢ ä¸°å¯Œçš„é€‰é¡¹é…ç½®ç³»ç»Ÿ                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             ç®¡ç†å±‚ (Manager Layer)            â”‚
â”‚  â€¢ KingfisherManagerï¼šå…¨å±€åè°ƒè€…              â”‚
â”‚  â€¢ ImageDownloaderï¼šä¸‹è½½ç®¡ç†                  â”‚
â”‚  â€¢ ImageCacheï¼šç¼“å­˜ç®¡ç†                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             å¤„ç†å™¨å±‚ (Processor Layer)        â”‚
â”‚  â€¢ ImageProcessorï¼šå›¾ç‰‡å¤„ç†æµæ°´çº¿              â”‚
â”‚  â€¢ ImageModifierï¼šå›¾ç‰‡ä¿®é¥°å™¨                   â”‚
â”‚  â€¢ FormatIndicatedCacheSerializerï¼šåºåˆ—åŒ–å™¨   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             åŸºç¡€å±‚ (Foundation Layer)         â”‚
â”‚  â€¢ çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç»“æ„                         â”‚
â”‚  â€¢ é«˜æ•ˆçš„ç¼“å­˜ç®—æ³•å®ç°                         â”‚
â”‚  â€¢ ä½çº§åˆ«çš„å›¾ç‰‡è§£ç æ“ä½œ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-3">çº¿ç¨‹å®‰å…¨è®¾è®¡</h3>
<p>Kingfisher åœ¨å¤šçº¿ç¨‹è®¾è®¡ä¸Šè¡¨ç°å“è¶Šï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// Kingfisher å†…éƒ¨ä½¿ç”¨ DispatchQueue å’Œé”ä¿è¯çº¿ç¨‹å®‰å…¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeContainer</span>&lt;<span class="hljs-title class_">T</span>&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> storage: <span class="hljs-type">T</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> lock: <span class="hljs-type">DispatchQueue</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">asyncExecute</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">block</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-keyword">inout</span> <span class="hljs-type">T</span>) -&gt; <span class="hljs-type">Void</span>) {
        lock.async { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword">self</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span> <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
            block(<span class="hljs-operator">&amp;</span><span class="hljs-keyword">self</span>.storage)
        }
    }
}
</code></pre>
<h2 data-id="heading-4">äºŒã€å›¾ç‰‡åŠ è½½å…¨æµç¨‹æ·±åº¦è§£æ</h2>
<h3 data-id="heading-5">2.1 åŠ è½½æµç¨‹è¯¦è§£</h3>
<p>Kingfisher çš„å›¾ç‰‡åŠ è½½éµå¾ªä¸€ä¸ªç²¾å¿ƒè®¾è®¡çš„æµç¨‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant UI as UIImageView
    participant KM as KingfisherManager
    participant MC as MemoryCache
    participant DC as DiskCache
    participant DN as Downloader
    participant IP as ImageProcessor
    
    UI-&gt;&gt;KM: kf.setImage(with: url)
    KM-&gt;&gt;MC: æŸ¥è¯¢å†…å­˜ç¼“å­˜
    alt å†…å­˜å‘½ä¸­
        MC--&gt;&gt;KM: è¿”å›ç¼“å­˜çš„ImageData
        KM--&gt;&gt;UI: ç›´æ¥æ˜¾ç¤ºå›¾ç‰‡
    else å†…å­˜æœªå‘½ä¸­
        KM-&gt;&gt;DC: æŸ¥è¯¢ç£ç›˜ç¼“å­˜
        alt ç£ç›˜å‘½ä¸­
            DC--&gt;&gt;KM: è¿”å›ç£ç›˜æ•°æ®
            KM-&gt;&gt;IP: è§£ç å’Œå¤„ç†å›¾ç‰‡
            IP--&gt;&gt;KM: å¤„ç†åçš„å›¾ç‰‡
            KM-&gt;&gt;MC: å­˜å…¥å†…å­˜ç¼“å­˜
            KM--&gt;&gt;UI: æ˜¾ç¤ºå›¾ç‰‡
        else ç£ç›˜æœªå‘½ä¸­
            KM-&gt;&gt;DN: å‘èµ·ç½‘ç»œè¯·æ±‚
            DN--&gt;&gt;KM: ä¸‹è½½å›¾ç‰‡æ•°æ®
            KM-&gt;&gt;IP: è§£ç å’Œå¤„ç†å›¾ç‰‡
            IP--&gt;&gt;KM: å¤„ç†åçš„å›¾ç‰‡
            KM-&gt;&gt;DC: å­˜å…¥ç£ç›˜ç¼“å­˜
            KM-&gt;&gt;MC: å­˜å…¥å†…å­˜ç¼“å­˜
            KM--&gt;&gt;UI: æ˜¾ç¤ºå›¾ç‰‡
        end
    end
</code></pre>
<h3 data-id="heading-6">2.2 æ¸è¿›å¼ä¸‹è½½ä¼˜åŒ–</h3>
<p>Kingfisher æ”¯æŒæ¸è¿›å¼ JPEG ä¸‹è½½ï¼Œæä¾›æµç•…çš„ç”¨æˆ·ä½“éªŒï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> options: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
    .progressiveJPEG(<span class="hljs-type">ImageProgressive</span>(
        isBlur: <span class="hljs-literal">true</span>,      <span class="hljs-comment">// æ˜¯å¦å¯ç”¨æ¨¡ç³Šæ•ˆæœ</span>
        isFastestScan: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦ä½¿ç”¨æœ€å¿«æ‰«æ</span>
        scanInterval: <span class="hljs-number">0.1</span>   <span class="hljs-comment">// æ‰«æé—´éš”</span>
    ))
]

imageView.kf.setImage(with: url, options: options)
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€ç¼“å­˜æœºåˆ¶çš„å“è¶Šå®ç°</h2>
<h3 data-id="heading-8">3.1 ä¸‰çº§ç¼“å­˜ç­–ç•¥</h3>
<p>Kingfisher å®ç°äº†é«˜æ•ˆçš„ä¸‰çº§ç¼“å­˜ç­–ç•¥ï¼š</p>
<ol>
<li><strong>å¤„ç†å™¨ç¼“å­˜ï¼ˆProcessed Cacheï¼‰</strong>ï¼šå­˜å‚¨å¤„ç†åçš„å›¾ç‰‡</li>
<li><strong>åŸå§‹æ•°æ®ç¼“å­˜ï¼ˆOriginal Cacheï¼‰</strong>ï¼šå­˜å‚¨åŸå§‹ä¸‹è½½æ•°æ®</li>
<li><strong>å†…å­˜ç¼“å­˜ï¼ˆMemory Cacheï¼‰</strong>ï¼šä½¿ç”¨ NSCache å®ç°</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è‡ªå®šä¹‰ç¼“å­˜é…ç½®ç¤ºä¾‹</span>
<span class="hljs-keyword">let</span> cache <span class="hljs-operator">=</span> <span class="hljs-type">ImageCache</span>(name: <span class="hljs-string">"my_cache"</span>)

<span class="hljs-comment">// é…ç½®å†…å­˜ç¼“å­˜</span>
cache.memoryStorage.config.totalCostLimit <span class="hljs-operator">=</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">100</span>  <span class="hljs-comment">// 100MB</span>
cache.memoryStorage.config.countLimit <span class="hljs-operator">=</span> <span class="hljs-number">100</span>
cache.memoryStorage.config.expiration <span class="hljs-operator">=</span> .seconds(<span class="hljs-number">600</span>)  <span class="hljs-comment">// 10åˆ†é’Ÿ</span>

<span class="hljs-comment">// é…ç½®ç£ç›˜ç¼“å­˜</span>
cache.diskStorage.config.sizeLimit <span class="hljs-operator">=</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">500</span>  <span class="hljs-comment">// 500MB</span>
cache.diskStorage.config.expiration <span class="hljs-operator">=</span> .days(<span class="hljs-number">7</span>)  <span class="hljs-comment">// 7å¤©</span>

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰ç¼“å­˜</span>
<span class="hljs-type">KingfisherManager</span>.shared.defaultOptions <span class="hljs-operator">=</span> [.targetCache(cache)]
</code></pre>
<h3 data-id="heading-9">3.2 æ™ºèƒ½ç¼“å­˜é”®ç”Ÿæˆ</h3>
<p>Kingfisher çš„ç¼“å­˜é”®ç”Ÿæˆç­–ç•¥éå¸¸æ™ºèƒ½ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// é»˜è®¤ç¼“å­˜é”®æ˜¯ URL çš„ç»å¯¹å­—ç¬¦ä¸²</span>
<span class="hljs-keyword">let</span> defaultCacheKey <span class="hljs-operator">=</span> url.cacheKey

<span class="hljs-comment">// å¯ä»¥æ·»åŠ å¤„ç†å™¨æ ‡è¯†</span>
<span class="hljs-keyword">let</span> processor <span class="hljs-operator">=</span> <span class="hljs-type">RoundCornerImageProcessor</span>(cornerRadius: <span class="hljs-number">20</span>)
<span class="hljs-keyword">let</span> processedCacheKey <span class="hljs-operator">=</span> url.cacheKey <span class="hljs-operator">+</span> processor.identifier

<span class="hljs-comment">// è‡ªå®šä¹‰ç¼“å­˜é”®</span>
imageView.kf.setImage(
    with: url,
    options: [.cacheOriginalImage],
    completionHandler: { result <span class="hljs-keyword">in</span>
        <span class="hljs-comment">// è·å–ç¼“å­˜é”®</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">case</span> .success(<span class="hljs-keyword">let</span> value) <span class="hljs-operator">=</span> result {
            <span class="hljs-keyword">let</span> cacheKey <span class="hljs-operator">=</span> value.cacheKey
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¼“å­˜é”®: <span class="hljs-subst">\(cacheKey)</span>"</span>)
        }
    }
)
</code></pre>
<h2 data-id="heading-10">å››ã€é«˜çº§å›¾ç‰‡å¤„ç†åŠŸèƒ½</h2>
<h3 data-id="heading-11">4.1 å›¾ç‰‡å¤„ç†å™¨é“¾</h3>
<p>Kingfisher æ”¯æŒå¤„ç†å™¨é“¾ï¼Œå¯ä»¥æŒ‰é¡ºåºåº”ç”¨å¤šä¸ªå¤„ç†å™¨ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> processor <span class="hljs-operator">=</span> <span class="hljs-type">DownsamplingImageProcessor</span>(size: <span class="hljs-type">CGSize</span>(width: <span class="hljs-number">300</span>, height: <span class="hljs-number">300</span>))
<span class="hljs-operator">|&gt;</span> <span class="hljs-type">RoundCornerImageProcessor</span>(cornerRadius: <span class="hljs-number">20</span>)
<span class="hljs-operator">|&gt;</span> <span class="hljs-type">BlurImageProcessor</span>(blurRadius: <span class="hljs-number">5</span>)
<span class="hljs-operator">|&gt;</span> <span class="hljs-type">TintImageProcessor</span>(tint: .red.withAlphaComponent(<span class="hljs-number">0.3</span>))

imageView.kf.setImage(
    with: url,
    options: [.processor(processor)]
)
</code></pre>
<h3 data-id="heading-12">4.2 è‡ªå®šä¹‰å›¾ç‰‡å¤„ç†å™¨</h3>
<p>åˆ›å»ºè‡ªå®šä¹‰å¤„ç†å™¨éå¸¸çµæ´»ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">WatermarkProcessor</span>: <span class="hljs-title class_">ImageProcessor</span> {
    <span class="hljs-keyword">let</span> identifier: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> watermark: <span class="hljs-type">UIImage</span>
    
    <span class="hljs-keyword">init</span>(<span class="hljs-params">watermark</span>: <span class="hljs-type">UIImage</span>) {
        <span class="hljs-keyword">self</span>.watermark <span class="hljs-operator">=</span> watermark
        <span class="hljs-keyword">self</span>.identifier <span class="hljs-operator">=</span> <span class="hljs-string">"com.myapp.watermark"</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">process</span>(<span class="hljs-params">item</span>: <span class="hljs-type">ImageProcessItem</span>, <span class="hljs-params">options</span>: <span class="hljs-type">KingfisherParsedOptionsInfo</span>) -&gt; <span class="hljs-type">KFCrossPlatformImage</span>? {
        <span class="hljs-keyword">switch</span> item {
        <span class="hljs-keyword">case</span> .image(<span class="hljs-keyword">let</span> image):
            <span class="hljs-keyword">return</span> drawWatermark(on: image)
        <span class="hljs-keyword">case</span> .data:
            <span class="hljs-comment">// å¦‚æœæ˜¯æ•°æ®ï¼Œå…ˆè§£ç å†å¤„ç†</span>
            <span class="hljs-keyword">return</span> (<span class="hljs-type">DefaultImageProcessor</span>.default <span class="hljs-operator">|&gt;</span> <span class="hljs-keyword">self</span>).process(item: item, options: options)
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">drawWatermark</span>(<span class="hljs-params">on</span> <span class="hljs-params">image</span>: <span class="hljs-type">KFCrossPlatformImage</span>) -&gt; <span class="hljs-type">KFCrossPlatformImage</span> {
        <span class="hljs-comment">// ç»˜åˆ¶æ°´å°çš„å®ç°</span>
        <span class="hljs-keyword">return</span> image
    }
}
</code></pre>
<h2 data-id="heading-13">äº”ã€SwiftUI æ·±åº¦é›†æˆ</h2>
<h3 data-id="heading-14">5.1 KFImage çš„é«˜çº§ç”¨æ³•</h3>
<p>Kingfisher ä¸º SwiftUI æä¾›äº†åŸç”Ÿçš„ KFImage ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">AdvancedImageView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">let</span> url: <span class="hljs-type">URL</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">KFImage</span>(url)
            .setProcessor(
                <span class="hljs-type">DownsamplingImageProcessor</span>(size: <span class="hljs-type">CGSize</span>(width: <span class="hljs-number">200</span>, height: <span class="hljs-number">200</span>))
                <span class="hljs-operator">|&gt;</span> <span class="hljs-type">RoundCornerImageProcessor</span>(cornerRadius: <span class="hljs-number">10</span>)
            )
            .loadDiskFileSynchronously()  <span class="hljs-comment">// åŒæ­¥åŠ è½½ç£ç›˜ç¼“å­˜</span>
            .cacheMemoryOnly()  <span class="hljs-comment">// ä»…ç¼“å­˜åˆ°å†…å­˜</span>
            .fade(duration: <span class="hljs-number">0.25</span>)  <span class="hljs-comment">// æ¸å˜åŠ¨ç”»</span>
            .onSuccess { result <span class="hljs-keyword">in</span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"å›¾ç‰‡åŠ è½½æˆåŠŸ: <span class="hljs-subst">\(result.cacheType)</span>"</span>)
            }
            .onFailure { error <span class="hljs-keyword">in</span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"å›¾ç‰‡åŠ è½½å¤±è´¥: <span class="hljs-subst">\(error)</span>"</span>)
            }
            .placeholder { progress <span class="hljs-keyword">in</span>
                <span class="hljs-comment">// è‡ªå®šä¹‰å ä½ç¬¦ï¼Œæ”¯æŒè¿›åº¦æ˜¾ç¤º</span>
                <span class="hljs-type">ProgressView</span>(value: progress.fractionCompleted)
                    .progressViewStyle(<span class="hljs-type">CircularProgressViewStyle</span>())
            }
            .resizable()
            .aspectRatio(contentMode: .fit)
            .frame(width: <span class="hljs-number">200</span>, height: <span class="hljs-number">200</span>)
    }
}
</code></pre>
<h3 data-id="heading-15">5.2 åŠ¨ç”»ä¸è¿‡æ¸¡æ•ˆæœ</h3>
<p>Kingfisher æ”¯æŒä¸°å¯Œçš„åŠ¨ç”»æ•ˆæœï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// é…ç½®å…¨å±€åŠ¨ç”»é€‰é¡¹</span>
<span class="hljs-type">KingfisherManager</span>.shared.defaultOptions <span class="hljs-operator">=</span> [
    .transition(.fade(<span class="hljs-number">0.3</span>)),  <span class="hljs-comment">// 300ms æ·¡å…¥æ•ˆæœ</span>
    .forceTransition  <span class="hljs-comment">// å³ä½¿ä»ç¼“å­˜åŠ è½½ä¹Ÿä½¿ç”¨è¿‡æ¸¡æ•ˆæœ</span>
]

<span class="hljs-comment">// å•ä¸ªè¯·æ±‚çš„ç‰¹æ®Šé…ç½®</span>
imageView.kf.setImage(
    with: url,
    options: [
        .transition(.flipFromLeft(<span class="hljs-number">0.5</span>)),
        .forceTransition
    ]
)
</code></pre>
<h2 data-id="heading-16">å…­ã€æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-17">6.1 åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–</h3>
<p>åœ¨ UITableView æˆ– UICollectionView ä¸­ä½¿ç”¨ Kingfisher æ—¶ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomTableViewCell</span>: <span class="hljs-title class_">UITableViewCell</span> {
    <span class="hljs-keyword">@IBOutlet</span> <span class="hljs-keyword">weak</span> <span class="hljs-keyword">var</span> customImageView: <span class="hljs-type">UIImageView</span>!
    
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">prepareForReuse</span>() {
        <span class="hljs-keyword">super</span>.prepareForReuse()
        <span class="hljs-comment">// å–æ¶ˆæœªå®Œæˆçš„ä¸‹è½½ä»»åŠ¡</span>
        customImageView.kf.cancelDownloadTask()
        <span class="hljs-comment">// å¯é€‰ï¼šè®¾ç½®å ä½å›¾</span>
        customImageView.image <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">configure</span>(<span class="hljs-params">with</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>) {
        <span class="hljs-keyword">let</span> options: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
            .transition(.fade(<span class="hljs-number">0.2</span>)),
            .cacheOriginalImage,  <span class="hljs-comment">// ç¼“å­˜åŸå§‹å›¾ç‰‡</span>
            .backgroundDecode,    <span class="hljs-comment">// åå°è§£ç </span>
            .scaleFactor(<span class="hljs-type">UIScreen</span>.main.scale),  <span class="hljs-comment">// é€‚é…å±å¹•ç¼©æ”¾</span>
            .keepCurrentImageWhileLoading  <span class="hljs-comment">// åŠ è½½æ—¶ä¿æŒå½“å‰å›¾ç‰‡</span>
        ]
        
        customImageView.kf.setImage(
            with: url,
            placeholder: <span class="hljs-type">UIImage</span>(named: <span class="hljs-string">"placeholder"</span>),
            options: options
        )
    }
}

<span class="hljs-comment">// åœ¨ tableView ä¸­ä½¿ç”¨é¢„åŠ è½½</span>
<span class="hljs-keyword">let</span> prefetcher <span class="hljs-operator">=</span> <span class="hljs-type">ImagePrefetcher</span>(urls: imageURLs)
prefetcher.start()

<span class="hljs-comment">// é¢„åŠ è½½å•ä¸ªå›¾ç‰‡</span>
<span class="hljs-type">ImagePrefetcher</span>(urls: [url]).start()
</code></pre>
<h3 data-id="heading-18">6.2 å†…å­˜ç®¡ç†ç­–ç•¥</h3>
<p>Kingfisher æä¾›äº†ç²¾ç»†çš„å†…å­˜æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ç›‘å¬å†…å­˜è­¦å‘Š</span>
<span class="hljs-type">NotificationCenter</span>.default.addObserver(
    forName: <span class="hljs-type">UIApplication</span>.didReceiveMemoryWarningNotification,
    object: <span class="hljs-literal">nil</span>,
    queue: .main
) { <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
    <span class="hljs-comment">// æ¸…é™¤å†…å­˜ç¼“å­˜</span>
    <span class="hljs-type">ImageCache</span>.default.clearMemoryCache()
    
    <span class="hljs-comment">// æˆ–è€…åªæ¸…é™¤è¿‡æœŸçš„ç¼“å­˜</span>
    <span class="hljs-type">ImageCache</span>.default.cleanExpiredMemoryCache()
}

<span class="hljs-comment">// é…ç½®å†…å­˜ç¼“å­˜è¡Œä¸º</span>
<span class="hljs-type">ImageCache</span>.default.memoryStorage.config.cleanInterval <span class="hljs-operator">=</span> <span class="hljs-number">60</span>  <span class="hljs-comment">// æ¯60ç§’æ¸…ç†ä¸€æ¬¡</span>
</code></pre>
<h3 data-id="heading-19">6.3 ä¸‹è½½ä¼˜å…ˆçº§æ§åˆ¶</h3>
<p>åœ¨å¤æ‚åœºæ™¯ä¸­ï¼Œå¯ä»¥æ§åˆ¶ä¸‹è½½ä¼˜å…ˆçº§ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è®¾ç½®ä¸‹è½½ä¼˜å…ˆçº§</span>
<span class="hljs-keyword">let</span> highPriorityOptions: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
    .downloadPriority(<span class="hljs-type">URLSessionTask</span>.highPriority)
]

<span class="hljs-keyword">let</span> lowPriorityOptions: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
    .downloadPriority(<span class="hljs-type">URLSessionTask</span>.lowPriority)
]

<span class="hljs-comment">// å…³é”®å›¾ç‰‡ä½¿ç”¨é«˜ä¼˜å…ˆçº§</span>
importantImageView.kf.setImage(with: importantURL, options: highPriorityOptions)

<span class="hljs-comment">// éå…³é”®å›¾ç‰‡ä½¿ç”¨ä½ä¼˜å…ˆçº§</span>
thumbnailImageView.kf.setImage(with: thumbnailURL, options: lowPriorityOptions)
</code></pre>
<h2 data-id="heading-20">ä¸ƒã€ç›‘æ§ä¸è°ƒè¯•</h2>
<h3 data-id="heading-21">7.1 æ€§èƒ½ç›‘æ§</h3>
<p>Kingfisher æä¾›äº†ä¸°å¯Œçš„ç›‘æ§ç‚¹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å¯ç”¨è°ƒè¯•æ—¥å¿—</span>
<span class="hljs-type">Logging</span>.downloader <span class="hljs-operator">=</span> .debug

<span class="hljs-comment">// è‡ªå®šä¹‰ç›‘æ§</span>
<span class="hljs-type">ImageDownloader</span>.default.delegate <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span>

<span class="hljs-keyword">extension</span> <span class="hljs-title class_">YourClass</span>: <span class="hljs-title class_">ImageDownloaderDelegate</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">imageDownloader</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">downloader</span>: <span class="hljs-type">ImageDownloader</span>, <span class="hljs-params">willDownloadImageForURL</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>, <span class="hljs-params">with</span> <span class="hljs-params">request</span>: <span class="hljs-type">URLRequest</span>?) {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å³å°†ä¸‹è½½: <span class="hljs-subst">\(url)</span>"</span>)
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">imageDownloader</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">downloader</span>: <span class="hljs-type">ImageDownloader</span>, <span class="hljs-params">didFinishDownloadingImageForURL</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>, <span class="hljs-params">with</span> <span class="hljs-params">response</span>: <span class="hljs-type">URLResponse</span>?, <span class="hljs-params">error</span>: <span class="hljs-type">Error</span>?) {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> error <span class="hljs-operator">=</span> error {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸‹è½½å¤±è´¥: <span class="hljs-subst">\(error)</span>"</span>)
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ä¸‹è½½æˆåŠŸ: <span class="hljs-subst">\(url)</span>"</span>)
        }
    }
}
</code></pre>
<h3 data-id="heading-22">7.2 ç¼“å­˜çŠ¶æ€æ£€æŸ¥</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜çŠ¶æ€</span>
<span class="hljs-keyword">let</span> cache <span class="hljs-operator">=</span> <span class="hljs-type">ImageCache</span>.default

<span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰ç¼“å­˜</span>
cache.isCached(forKey: <span class="hljs-string">"cache_key"</span>) { result <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">switch</span> result {
    <span class="hljs-keyword">case</span> .memory:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å­˜åœ¨å†…å­˜ç¼“å­˜"</span>)
    <span class="hljs-keyword">case</span> .disk:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"å­˜åœ¨ç£ç›˜ç¼“å­˜"</span>)
    <span class="hljs-keyword">case</span> .none:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ— ç¼“å­˜"</span>)
    }
}

<span class="hljs-comment">// è·å–ç¼“å­˜å¤§å°</span>
cache.calculateDiskStorageSize { result <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">switch</span> result {
    <span class="hljs-keyword">case</span> .success(<span class="hljs-keyword">let</span> size):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç£ç›˜ç¼“å­˜å¤§å°: <span class="hljs-subst">\(Double(size) <span class="hljs-operator">/</span> <span class="hljs-number">1024</span> <span class="hljs-operator">/</span> <span class="hljs-number">1024</span>)</span> MB"</span>)
    <span class="hljs-keyword">case</span> .failure(<span class="hljs-keyword">let</span> error):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"è®¡ç®—ç¼“å­˜å¤§å°å¤±è´¥: <span class="hljs-subst">\(error)</span>"</span>)
    }
}
</code></pre>
<h2 data-id="heading-23">å…«ã€é«˜çº§åœºæ™¯è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-24">8.1 åŠ¨å›¾ï¼ˆGIFï¼‰æ”¯æŒ</h3>
<p>Kingfisher å¯¹åŠ¨å›¾æä¾›äº†å®Œæ•´çš„æ”¯æŒï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åŠ è½½å¹¶æ’­æ”¾ GIF</span>
imageView.kf.setImage(
    with: gifURL,
    options: [
        .processor(<span class="hljs-type">DefaultImageProcessor</span>.default),  <span class="hljs-comment">// é»˜è®¤å¤„ç†å™¨æ”¯æŒ GIF</span>
        .cacheSerializer(<span class="hljs-type">FormatIndicatedCacheSerializer</span>.gif)  <span class="hljs-comment">// æŒ‡å®š GIF åºåˆ—åŒ–å™¨</span>
    ]
)

<span class="hljs-comment">// æ§åˆ¶ GIF æ’­æ”¾</span>
imageView.kf.setImage(with: gifURL) { result <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">case</span> .success(<span class="hljs-keyword">let</span> value) <span class="hljs-operator">=</span> result {
        <span class="hljs-comment">// æ‰‹åŠ¨æ§åˆ¶åŠ¨ç”»</span>
        value.image.kf.startAnimating()
        
        <span class="hljs-comment">// æˆ–è€…åœæ­¢åŠ¨ç”»</span>
        value.image.kf.stopAnimating()
    }
}

<span class="hljs-comment">// é™åˆ¶ GIF å†…å­˜ä½¿ç”¨</span>
<span class="hljs-keyword">let</span> options: <span class="hljs-type">KingfisherOptionsInfo</span> <span class="hljs-operator">=</span> [
    .onlyLoadFirstFrame,  <span class="hljs-comment">// åªåŠ è½½ç¬¬ä¸€å¸§ï¼Œå‡å°‘å†…å­˜å ç”¨</span>
    .preloadAllAnimationData  <span class="hljs-comment">// é¢„åŠ è½½æ‰€æœ‰åŠ¨ç”»æ•°æ®</span>
]
</code></pre>
<h3 data-id="heading-25">8.2 å›¾ç‰‡ç¼–è¾‘ä¸å¤„ç†</h3>
<p>Kingfisher æ”¯æŒå›¾ç‰‡çš„å®æ—¶ç¼–è¾‘ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºå¯ç¼–è¾‘çš„å›¾ç‰‡è§†å›¾</span>
<span class="hljs-keyword">let</span> imageEditor <span class="hljs-operator">=</span> <span class="hljs-type">ImageEditorView</span>()

<span class="hljs-comment">// åº”ç”¨å¤šä¸ªç¼–è¾‘æ“ä½œ</span>
imageEditor.applyFilter(.blur(radius: <span class="hljs-number">2</span>))
imageEditor.applyFilter(.contrast(<span class="hljs-number">1.2</span>))
imageEditor.applyFilter(.saturation(<span class="hljs-number">0.8</span>))

<span class="hljs-comment">// è·å–ç¼–è¾‘åçš„å›¾ç‰‡</span>
<span class="hljs-keyword">let</span> editedImage <span class="hljs-operator">=</span> imageEditor.outputImage

<span class="hljs-comment">// ä¿å­˜ç¼–è¾‘ç»“æœåˆ°ç¼“å­˜</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> editedImage <span class="hljs-operator">=</span> editedImage,
   <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> originalURL {
    <span class="hljs-type">ImageCache</span>.default.store(editedImage, forKey: url.cacheKey <span class="hljs-operator">+</span> <span class="hljs-string">"_edited"</span>)
}
</code></pre>
<h3 data-id="heading-26">8.3 è‡ªå®šä¹‰ä¸‹è½½å™¨</h3>
<p>å¯¹äºç‰¹æ®Šéœ€æ±‚ï¼Œå¯ä»¥è‡ªå®šä¹‰ä¸‹è½½å™¨ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰ä¸‹è½½å™¨</span>
<span class="hljs-keyword">let</span> customDownloader <span class="hljs-operator">=</span> <span class="hljs-type">ImageDownloader</span>(name: <span class="hljs-string">"custom"</span>)
customDownloader.downloadTimeout <span class="hljs-operator">=</span> <span class="hljs-number">30</span>  <span class="hljs-comment">// 30ç§’è¶…æ—¶</span>
customDownloader.sessionConfiguration.httpMaximumConnectionsPerHost <span class="hljs-operator">=</span> <span class="hljs-number">1</span>  <span class="hljs-comment">// æ¯ä¸ªä¸»æœº1ä¸ªè¿æ¥</span>

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰ä¸‹è½½å™¨</span>
imageView.kf.setImage(
    with: url,
    options: [.downloader(customDownloader)]
)

<span class="hljs-comment">// æ·»åŠ è‡ªå®šä¹‰è¯·æ±‚ä¿®æ”¹å™¨</span>
<span class="hljs-keyword">let</span> modifier <span class="hljs-operator">=</span> <span class="hljs-type">AnyModifier</span> { request <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">var</span> r <span class="hljs-operator">=</span> request
    r.setValue(<span class="hljs-string">"Bearer token"</span>, forHTTPHeaderField: <span class="hljs-string">"Authorization"</span>)
    <span class="hljs-keyword">return</span> r
}

imageView.kf.setImage(
    with: url,
    options: [.requestModifier(modifier)]
)
</code></pre>
<h2 data-id="heading-27">ä¹ã€æ‰©å±•æ€§ä¸è‡ªå®šä¹‰</h2>
<h3 data-id="heading-28">9.1 æ’ä»¶ç³»ç»Ÿ</h3>
<p>Kingfisher æ”¯æŒæ’ä»¶æ‰©å±•ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åˆ›å»ºè‡ªå®šä¹‰æ’ä»¶</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">AnalyticsPlugin</span>: <span class="hljs-title class_">ImagePlugin</span> {
    <span class="hljs-keyword">var</span> identifier: <span class="hljs-type">String</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"com.myapp.analytics"</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">willDownloadImage</span>(<span class="hljs-params">for</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>, <span class="hljs-params">options</span>: <span class="hljs-type">KingfisherParsedOptionsInfo</span>) {
        <span class="hljs-type">Analytics</span>.track(event: <span class="hljs-string">"image_will_download"</span>, properties: [<span class="hljs-string">"url"</span>: url.absoluteString])
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">didDownloadImage</span>(<span class="hljs-params">for</span> <span class="hljs-params">url</span>: <span class="hljs-type">URL</span>, <span class="hljs-params">result</span>: <span class="hljs-type">Result</span>&lt;<span class="hljs-type">ImageLoadingResult</span>, <span class="hljs-type">KingfisherError</span>&gt;, <span class="hljs-params">options</span>: <span class="hljs-type">KingfisherParsedOptionsInfo</span>) {
        <span class="hljs-keyword">switch</span> result {
        <span class="hljs-keyword">case</span> .success:
            <span class="hljs-type">Analytics</span>.track(event: <span class="hljs-string">"image_download_success"</span>, properties: [<span class="hljs-string">"url"</span>: url.absoluteString])
        <span class="hljs-keyword">case</span> .failure(<span class="hljs-keyword">let</span> error):
            <span class="hljs-type">Analytics</span>.track(event: <span class="hljs-string">"image_download_failed"</span>, properties: [
                <span class="hljs-string">"url"</span>: url.absoluteString,
                <span class="hljs-string">"error"</span>: error.localizedDescription
            ])
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨æ’ä»¶</span>
<span class="hljs-keyword">let</span> plugin <span class="hljs-operator">=</span> <span class="hljs-type">AnalyticsPlugin</span>()
imageView.kf.setImage(
    with: url,
    options: [.plugin(plugin)]
)
</code></pre>
<h3 data-id="heading-29">9.2 è‡ªå®šä¹‰ç¼“å­˜åºåˆ—åŒ–å™¨</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">EncryptedCacheSerializer</span>: <span class="hljs-title class_">CacheSerializer</span> {
    <span class="hljs-keyword">let</span> encryptionKey: <span class="hljs-type">String</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">data</span>(<span class="hljs-params">with</span> <span class="hljs-params">image</span>: <span class="hljs-type">KFCrossPlatformImage</span>, <span class="hljs-params">original</span>: <span class="hljs-type">Data</span>?) -&gt; <span class="hljs-type">Data</span>? {
        <span class="hljs-comment">// åŠ å¯†å›¾ç‰‡æ•°æ®</span>
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> image.kf.data(format: .unknown) <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span> }
        <span class="hljs-keyword">return</span> encrypt(data: data, key: encryptionKey)
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">image</span>(<span class="hljs-params">with</span> <span class="hljs-params">data</span>: <span class="hljs-type">Data</span>, <span class="hljs-params">options</span>: <span class="hljs-type">KingfisherParsedOptionsInfo</span>) -&gt; <span class="hljs-type">KFCrossPlatformImage</span>? {
        <span class="hljs-comment">// è§£å¯†å›¾ç‰‡æ•°æ®</span>
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> decryptedData <span class="hljs-operator">=</span> decrypt(data: data, key: encryptionKey),
              <span class="hljs-keyword">let</span> image <span class="hljs-operator">=</span> <span class="hljs-type">KFCrossPlatformImage</span>(data: decryptedData) <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
        }
        <span class="hljs-keyword">return</span> image
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">encrypt</span>(<span class="hljs-params">data</span>: <span class="hljs-type">Data</span>, <span class="hljs-params">key</span>: <span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Data</span>? {
        <span class="hljs-comment">// å®ç°åŠ å¯†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> data
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">decrypt</span>(<span class="hljs-params">data</span>: <span class="hljs-type">Data</span>, <span class="hljs-params">key</span>: <span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Data</span>? {
        <span class="hljs-comment">// å®ç°è§£å¯†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> data
    }
}

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰åºåˆ—åŒ–å™¨</span>
<span class="hljs-keyword">let</span> serializer <span class="hljs-operator">=</span> <span class="hljs-type">EncryptedCacheSerializer</span>(encryptionKey: <span class="hljs-string">"my_secret_key"</span>)
imageView.kf.setImage(
    with: url,
    options: [.cacheSerializer(serializer)]
)
</code></pre>
<h2 data-id="heading-30">åã€æ€»ç»“</h2>
<p>Kingfisher ä½œä¸º Swift ç”Ÿæ€ä¸­æœ€ä¼˜ç§€çš„å›¾ç‰‡åŠ è½½åº“ä¹‹ä¸€ï¼Œå…¶æˆåŠŸæºäºå¤šä¸ªæ–¹é¢ï¼š</p>
<ol>
<li><strong>ç°ä»£åŒ–çš„ Swift è®¾è®¡</strong>ï¼šå……åˆ†åˆ©ç”¨ Swift è¯­è¨€ç‰¹æ€§ï¼Œæä¾›ç±»å‹å®‰å…¨çš„ API</li>
<li><strong>å“è¶Šçš„æ€§èƒ½è¡¨ç°</strong>ï¼šä¸‰çº§ç¼“å­˜ç­–ç•¥ã€åå°è§£ç ã€æ™ºèƒ½é¢„åŠ è½½ç­‰ä¼˜åŒ–</li>
<li><strong>å®Œæ•´çš„å¹³å°æ”¯æŒ</strong>ï¼šiOSã€macOSã€watchOSã€tvOS å…¨å¹³å°æ”¯æŒ</li>
<li><strong>å¼ºå¤§çš„æ‰©å±•æ€§</strong>ï¼šæ’ä»¶ç³»ç»Ÿã€è‡ªå®šä¹‰å¤„ç†å™¨ã€åºåˆ—åŒ–å™¨ç­‰</li>
<li><strong>ä¼˜ç§€çš„ç¤¾åŒºç”Ÿæ€</strong>ï¼šæ´»è·ƒçš„ç»´æŠ¤ã€ä¸°å¯Œçš„æ–‡æ¡£ã€å¤§é‡çš„ç¬¬ä¸‰æ–¹æ‰©å±•</li>
</ol>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå»ºè®®ï¼š</p>
<ul>
<li>æ ¹æ®åº”ç”¨åœºæ™¯åˆç†é…ç½®ç¼“å­˜ç­–ç•¥</li>
<li>åœ¨åˆ—è¡¨è§†å›¾ä¸­ä½¿ç”¨ <code>prepareForReuse</code> å–æ¶ˆæœªå®Œæˆçš„ä»»åŠ¡</li>
<li>åˆ©ç”¨é¢„åŠ è½½æå‡ç”¨æˆ·ä½“éªŒ</li>
<li>ç›‘æ§ç¼“å­˜å¤§å°å’Œæ€§èƒ½æŒ‡æ ‡</li>
<li>æ ¹æ®ä¸šåŠ¡éœ€æ±‚è‡ªå®šä¹‰å¤„ç†å™¨å’Œæ’ä»¶</li>
</ul>
<p>Kingfisher ä¸ä»…æ˜¯ä¸€ä¸ªå›¾ç‰‡åŠ è½½åº“ï¼Œæ›´æ˜¯ Swift æœ€ä½³å®è·µçš„ä½“ç°ã€‚é€šè¿‡æ·±å…¥ç†è§£å…¶è®¾è®¡ç†å¿µå’Œå®ç°ç»†èŠ‚ï¼Œå¼€å‘è€…å¯ä»¥æ„å»ºå‡ºé«˜æ€§èƒ½ã€é«˜å¯é æ€§çš„å›¾ç‰‡å¤„ç†è§£å†³æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬1ç«  ä¸–ç•Œé™é»˜ï¼Œé”®ç›˜ç‹¬é¸£]]></title>    <link>https://juejin.cn/post/7582601349579620352</link>    <guid>https://juejin.cn/post/7582601349579620352</guid>    <pubDate>2025-12-12T08:15:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582601349579620352" data-draft-id="7582769411993337908" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" ç¬¬1ç«  ä¸–ç•Œé™é»˜ï¼Œé”®ç›˜ç‹¬é¸£"/> <meta itemprop="keywords" content="Redis"/> <meta itemprop="datePublished" content="2025-12-12T08:15:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             ç¬¬1ç«  ä¸–ç•Œé™é»˜ï¼Œé”®ç›˜ç‹¬é¸£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T08:15:39.000Z" title="Fri Dec 12 2025 08:15:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¬¬1ç«  ä¸–ç•Œé™é»˜ï¼Œé”®ç›˜ç‹¬é¸£</h2>
<p>è¤šäº‘å¸†æ˜¯è¢«ä¸€é˜µåˆºè€³çš„è­¦æŠ¥å£°åµé†’çš„ã€‚</p>
<p>é‚£å£°éŸ³åƒæ˜¯ç”¨ç”Ÿé”ˆçš„é”¯å­åˆ‡å‰²é‡‘å±ï¼Œå°–é”å¾—èƒ½åˆºç©¿è€³è†œã€‚ä»–çŒ›åœ°ä»å·¥ä½ä¸ŠæŠ¬èµ·å¤´ï¼Œåé¢ˆä¼ æ¥ä¸€é˜µåƒµç¡¬çš„é…¸ç—›â€”â€”æ˜¨æ™šåˆé€šå®µäº†ã€‚</p>
<p>çœ¼å‰çš„ä¸–ç•Œæ¨¡ç³Šäº†å‡ ç§’ã€‚</p>
<p>ä»–ä¹ æƒ¯æ€§åœ°ä¼¸æ‰‹å»æ‘¸çœ¼é•œï¼Œæ‰‹æŒ‡è§¦åˆ°å†°å‡‰çš„é•œæ¶ã€‚æˆ´ä¸Šã€‚</p>
<p>è§†é‡æ¸…æ™°èµ·æ¥ã€‚</p>
<p>ç„¶åä»–æ„£ä½äº†ã€‚</p>
<p>æ·±è“ç§‘æŠ€å¼€æ”¾å¼åŠå…¬åŒºçš„æ™¯è±¡ï¼Œå’Œä»–è®°å¿†ä¸­ä»»ä½•ä¸€æ¬¡åŠ ç­åçš„æ¸…æ™¨éƒ½ä¸åŒã€‚</p>
<p>å¤ªåµäº†ã€‚</p>
<p>ä¸æ˜¯é”®ç›˜æ•²å‡»å£°â€”â€”é‚£ç§æ¸…è„†è§„å¾‹çš„â€œå’”å—’å’”å—’â€æ—©å°±æ¶ˆå¤±äº†ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ä¸€ç‰‡æ··ä¹±çš„ã€æ¯«æ— èŠ‚å¥çš„æ•²æ‰“å£°ï¼Œåƒæ˜¯å¹¼å„¿å›­å°æœ‹å‹åœ¨èƒ¡ä¹±æ‹æ‰“ç©å…·ç´ã€‚</p>
<p>è¤šäº‘å¸†æ‰äº†æ‰é…¸æ¶©çš„çœ¼ç›ã€‚</p>
<p>ä»–çœ‹è§å·¦ä¾§å·¥ä½çš„æå·¥ã€‚</p>
<p>æå·¥æ˜¯å…¬å¸åå¹´çš„è€ç¨‹åºå‘˜ï¼Œç§ƒé¡¶ï¼Œè„¾æ°”æš´èºï¼Œä½†ä»£ç å†™å¾—æç¨³ã€‚æ­¤åˆ»ä»–æ­£å¯¹ç€å±å¹•ï¼ŒåŒæ‰‹æ‚¬åœ¨é”®ç›˜ä¸Šæ–¹ï¼Œæ‰‹æŒ‡å¾®å¾®é¢¤æŠ–ã€‚ä»–çš„å˜´å”‡åœ¨åŠ¨ï¼Œå¥½åƒåœ¨é»˜å¿µä»€ä¹ˆå’’è¯­ã€‚</p>
<p>ç„¶åä»–æŒ‰ä¸‹ä¸€ä¸ªé”®ã€‚</p>
<p>â€œaâ€ã€‚</p>
<p>å±å¹•ä¸Šè·³å‡ºä¸€ä¸ªå­—æ¯ã€‚</p>
<p>æå·¥ç›¯ç€é‚£ä¸ªâ€œaâ€ï¼Œé¢å¤´æ¸—å‡ºç»†å¯†çš„æ±—ç ã€‚ä»–æ·±å¸ä¸€å£æ°”ï¼ŒåˆæŒ‰ä¸‹ä¸€ä¸ªé”®ã€‚</p>
<p>â€œsâ€ã€‚</p>
<p>â€œdâ€ã€‚</p>
<p>â€œfâ€ã€‚</p>
<p>ä»–åƒæ˜¯åœ¨ç©æ‰“å­—æ¸¸æˆï¼Œä½†æ‰“å‡ºæ¥çš„å­—æ¯æ¯«æ— æ„ä¹‰ã€‚asdfasdfasdfâ€”â€”ä¸€è¡Œè¡Œé‡å¤çš„å­—ç¬¦åœ¨å±å¹•ä¸Šæ»šåŠ¨ã€‚</p>
<p>â€œä¸å¯¹â€¦â€¦â€æå·¥å–ƒå–ƒè‡ªè¯­ï¼Œâ€œå¾ªç¯â€¦â€¦forå¾ªç¯è¯¥æ€ä¹ˆå†™æ¥ç€ï¼Ÿâ€</p>
<p>ä»–çš„æ‰‹æŒ‡æ‚¬åœ¨é”®ç›˜ä¸Šï¼Œè¿Ÿè¿Ÿè½ä¸ä¸‹å»ã€‚</p>
<p>å¥½åƒæœ‰ä»€ä¹ˆä¸œè¥¿å¡ä½äº†ã€‚</p>
<p>è¤šäº‘å¸†è½¬è¿‡å¤´ã€‚</p>
<p>æ•´ä¸ªåŠå…¬åŒºä¸¤ç™¾å¤šä¸ªå·¥ä½ï¼Œæ‰€æœ‰äººéƒ½åœ¨åšåŒæ ·çš„äº‹â€”â€”å¯¹ç€é”®ç›˜å‘å‘†ï¼Œç„¶åæ•²å‡ºä¹±ä¸ƒå…«ç³Ÿçš„å­—ç¬¦ã€‚æœ‰äººè¯•å›¾å†™æ³¨é‡Šï¼Œæ‰“å‡ºæ¥çš„å´æ˜¯â€œ#ï¿¥%â€¦â€¦&amp;*ï¼ˆï¼‰â€ã€‚æœ‰äººæƒ³å®šä¹‰å˜é‡ï¼Œå±å¹•ä¸Šå‡ºç°çš„æ˜¯â€œint a = ;;;;;;;;;â€ã€‚</p>
<p>åˆ†å·ã€‚</p>
<p>æ— æ•°ä¸ªåˆ†å·ã€‚</p>
<p>åƒæ˜¯æŸç§é›†ä½“ç™”ç—‡ã€‚</p>
<p>â€œè°èƒ½å†™ä¸ªå¾ªç¯ï¼Ÿï¼â€</p>
<p>ä¸€å£°å’†å“®ä»è¿‡é“ä¼ æ¥ã€‚</p>
<p>ä¸»ç®¡è€ç‹ç«™åœ¨èµ°å»Šä¸­å¤®ï¼Œå››åå¤šå²çš„ä¸­å¹´ç”·äººï¼Œæ­¤åˆ»è„¸æ¶¨å¾—é€šçº¢ã€‚ä»–æ‰‹é‡Œä¸¾ç€ä¸€å°å¹³æ¿ç”µè„‘ï¼Œå±å¹•ä¸Šæ˜¯åŠæˆªä»£ç â€”â€”çœ‹èµ·æ¥åƒæ˜¯æŸä¸ªè„šæœ¬çš„å¼€å¤´ï¼Œä½†è¯­æ³•å®Œå…¨é”™äº†ã€‚</p>
<p>â€œå°±ä¸€ä¸ªç®€å•çš„forå¾ªç¯ï¼â€è€ç‹çš„å£°éŸ³åœ¨å‘æŠ–ï¼Œâ€œè¿­ä»£æ•°ç»„ï¼æ‰“å°æ•°å­—ï¼è¿™ä»–å¦ˆæ˜¯å®ä¹ ç”Ÿç¬¬ä¸€å¤©å°±è¯¥ä¼šçš„ä¸œè¥¿ï¼â€</p>
<p>æ²¡äººå›åº”ã€‚</p>
<p>åªæœ‰é”®ç›˜çš„èƒ¡ä¹±æ•²å‡»å£°ã€‚</p>
<p>è€ç‹èµ°åˆ°æœ€è¿‘çš„ä¸€ä¸ªå·¥ä½ï¼ŒæŠ¢è¿‡å‘˜å·¥çš„é”®ç›˜ã€‚ä»–æ·±å¸ä¸€å£æ°”ï¼Œæ‰‹æŒ‡æ”¾åœ¨é”®ç›˜ä¸Šã€‚</p>
<p>ç„¶ååƒµä½äº†ã€‚</p>
<p>ä»–çš„å˜´å”‡åœ¨åŠ¨ï¼Œå¥½åƒåœ¨å›å¿†ä»€ä¹ˆã€‚å‡ ç§’é’Ÿåï¼Œä»–å¼€å§‹æ•²å‡»ã€‚</p>
<p>for (i = 0; i &lt; 10; i++)</p>
<p>æ‰“åˆ°â€œi++â€æ—¶ï¼Œä»–åœä½äº†ã€‚</p>
<p>â€œåŠ åŠ â€¦â€¦â€è€ç‹ç›¯ç€å±å¹•ï¼Œâ€œæ˜¯i++è¿˜æ˜¯++iï¼Ÿå‰ç½®å’Œåç½®æœ‰ä»€ä¹ˆåŒºåˆ«æ¥ç€ï¼Ÿâ€</p>
<p>ä»–æƒ³äº†äº”ç§’é’Ÿã€‚</p>
<p>ç„¶ååˆ æ‰äº†æ•´è¡Œã€‚</p>
<p>é‡æ–°æ‰“ã€‚</p>
<p>for (int i = 0; i &lt; 10; i = i + 1)</p>
<p>è¿™æ¬¡è¯­æ³•å¯¹äº†ã€‚</p>
<p>ä½†è€ç‹ç›¯ç€é‚£è¡Œä»£ç ï¼Œçœ¼ç¥ç©ºæ´ã€‚ä»–å¥½åƒä¸è®°å¾—æ¥ä¸‹æ¥è¯¥å†™ä»€ä¹ˆäº†ã€‚å¤§æ‹¬å·ï¼Ÿè¯­å¥å—ï¼Ÿæ‰“å°å‡½æ•°ï¼Ÿ</p>
<p>ä»–çš„æ‰‹åœ¨é¢¤æŠ–ã€‚</p>
<p>æœ€ç»ˆï¼Œä»–æ•²ä¸‹ä¸€ä¸ªåˆ†å·ï¼Œç»“æŸäº†è¿™è¡Œä»£ç ã€‚</p>
<p>for (int i = 0; i &lt; 10; i = i + 1);</p>
<p>ä¸€ä¸ªç©ºå¾ªç¯ã€‚</p>
<p>æ¯«æ— æ„ä¹‰ã€‚</p>
<p>è€ç‹æŠŠé”®ç›˜æ‰”å›æ¡Œä¸Šï¼Œå‘å‡ºâ€œç °â€çš„ä¸€å£°ã€‚ä»–ç¯é¡¾å››å‘¨ï¼Œçœ¼ç¥é‡Œç¬¬ä¸€æ¬¡å‡ºç°äº†è¤šäº‘å¸†ä»æœªè§è¿‡çš„æƒ…ç»ªã€‚</p>
<p>ææƒ§ã€‚</p>
<p>â€œä½ ä»¬â€¦â€¦â€è€ç‹çš„å£°éŸ³ä½äº†ä¸‹æ¥ï¼Œâ€œä½ ä»¬éƒ½å¿˜äº†å—ï¼Ÿâ€</p>
<p>æ²¡äººå›ç­”ã€‚</p>
<p>è¤šäº‘å¸†ä½ä¸‹å¤´ï¼Œçœ‹å‘è‡ªå·±çš„å±å¹•ã€‚</p>
<p>ä»–çš„ç»ˆç«¯è¿˜å¼€ç€ã€‚æ˜¨æ™šé€šå®µé‡æ„çš„é‚£ä¸ªæ¨¡å—ï¼Œä»£ç è¿˜åœç•™åœ¨ç¼–è¾‘å™¨ä¸­ã€‚ä¸‰ç™¾å¤šè¡Œï¼Œç»“æ„æ¸…æ™°ï¼Œæ³¨é‡Šå®Œæ•´ï¼Œæ˜¯ä»–èŠ±äº†å…­ä¸ªå°æ—¶ç²¾å¿ƒæ‰“ç£¨çš„ã€‚</p>
<p>ä»–ä¸‹æ„è¯†åœ°æ»šåŠ¨é¼ æ ‡ã€‚</p>
<p>ä»£ç æ­£å¸¸æ˜¾ç¤ºã€‚</p>
<p>æ²¡æœ‰ä¹±ç ã€‚</p>
<p>ä»–æ„£äº†ä¸€ä¸‹ã€‚</p>
<p>ç„¶åï¼Œå‡ ä¹æ˜¯å‡ºäºæœ¬èƒ½â€”â€”ç¨‹åºå‘˜çš„æœ¬èƒ½ï¼Œé‚£ç§å†™å®Œä»£ç æ€»è¦æµ‹è¯•ä¸€ä¸‹çš„æœ¬èƒ½â€”â€”ä»–æ–°å»ºäº†ä¸€ä¸ªæ–‡ä»¶ã€‚</p>
<p>æ‰‹æŒ‡æ”¾åœ¨é”®ç›˜ä¸Šã€‚</p>
<p>è‚Œè‚‰è®°å¿†å¼€å§‹å·¥ä½œã€‚</p>
<p>ä»–ç”šè‡³æ²¡æœ‰æ€è€ƒï¼ŒæŒ‡å°–å°±åŠ¨äº†èµ·æ¥ã€‚æ•²å‡»å£°æ¸…è„†ã€è¿è´¯ã€æœ‰èŠ‚å¥ï¼Œå’Œå‘¨å›´é‚£ç‰‡æ··ä¹±çš„å™ªéŸ³å½¢æˆé²œæ˜å¯¹æ¯”ã€‚</p>
<p>print('Hello World')</p>
<p>å›è½¦ã€‚</p>
<p>å±å¹•ä¸‹æ–¹ï¼Œç»ˆç«¯çª—å£å¼¹å‡ºã€‚</p>
<p>æ¸…æ™°çš„ç™½è‰²å­—ä½“æ˜¾ç¤ºåœ¨é»‘è‰²èƒŒæ™¯ä¸Šï¼š</p>
<p>Hello World</p>
<p>æˆåŠŸäº†ã€‚</p>
<p>è¤šäº‘å¸†ç›¯ç€é‚£è¡Œå­—ï¼Œçœ‹äº†ä¸‰ç§’é’Ÿã€‚</p>
<p>ç„¶åä»–çŒ›åœ°æŠ¬èµ·å¤´ã€‚</p>
<p>åŠå…¬å®¤é‡Œçªç„¶å®‰é™äº†ã€‚</p>
<p>ä¸çŸ¥é“ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Œæ‰€æœ‰äººéƒ½åœä¸‹äº†æ‰‹é‡Œçš„åŠ¨ä½œã€‚é”®ç›˜å£°æ¶ˆå¤±äº†ã€‚è¯´è¯å£°æ¶ˆå¤±äº†ã€‚è¿å‘¼å¸å£°éƒ½å¥½åƒå˜è½»äº†ã€‚</p>
<p>ä¸¤ç™¾å¤šåŒçœ¼ç›ï¼Œé½åˆ·åˆ·åœ°çœ‹å‘ä»–ã€‚</p>
<p>é‚£äº›çœ¼ç¥å¾ˆå¤æ‚ã€‚</p>
<p>æœ‰å›°æƒ‘ã€‚</p>
<p>æœ‰èŒ«ç„¶ã€‚</p>
<p>ä½†æ›´å¤šçš„æ˜¯â€¦â€¦ä¸€ç§è¤šäº‘å¸†æ— æ³•ç†è§£çš„ä¸œè¥¿ã€‚åƒæ˜¯åŸå§‹äººçœ‹åˆ°åŒéƒ¨è½çš„äººçªç„¶å¾’æ‰‹ç”Ÿèµ·äº†ç«ã€‚åƒæ˜¯ä¸­ä¸–çºªå†œæ°‘çœ‹åˆ°é‚»å±…å¿µå‡ºäº†æ¶é­”çš„æ–‡å­—ã€‚</p>
<p>æ€ªç‰©ã€‚</p>
<p>ä»–ä»¬åœ¨çœ‹ä¸€ä¸ªæ€ªç‰©ã€‚</p>
<p>è¤šäº‘å¸†çš„åèƒŒç¬é—´è¢«å†·æ±—æµ¸æ¹¿ã€‚</p>
<p>ä»–å‡ ä¹æ˜¯æ¡ä»¶åå°„åœ°æŒ‰ä¸‹Ctrl+Aï¼Œç„¶åDeleteã€‚å±å¹•ä¸Šçš„ä»£ç æ¶ˆå¤±äº†ã€‚ç»ˆç«¯çª—å£å…³é—­äº†ã€‚ä»–æŠ¬èµ·å¤´ï¼Œè„¸ä¸ŠæŒ¤å‡ºä¸€ä¸ªå’Œå‘¨å›´äººåŒæ ·å›°æƒ‘çš„è¡¨æƒ…ã€‚</p>
<p>â€œæ€ä¹ˆäº†ï¼Ÿâ€ä»–é—®ï¼Œå£°éŸ³æœ‰ç‚¹å¹²æ¶©ï¼Œâ€œä½ ä»¬â€¦â€¦éƒ½çœ‹ç€æˆ‘å¹²å˜›ï¼Ÿâ€</p>
<p>æ²¡äººè¯´è¯ã€‚</p>
<p>æå·¥å¼ äº†å¼ å˜´ï¼Œå¥½åƒæƒ³è¯´ä»€ä¹ˆï¼Œä½†æœ€ç»ˆåªæ˜¯æ‘‡äº†æ‘‡å¤´ï¼Œè½¬å›äº†è‡ªå·±çš„å±å¹•ã€‚</p>
<p>è€ç‹ç›¯ç€è¤šäº‘å¸†çœ‹äº†å‡ ç§’ï¼Œçœ¼ç¥é‡Œçš„ææƒ§æ…¢æ…¢å˜æˆäº†æ€€ç–‘ã€‚ä½†ä»–ä¹Ÿæ²¡è¯´ä»€ä¹ˆï¼Œåªæ˜¯è½¬èº«èµ°å›äº†è‡ªå·±çš„åŠå…¬å®¤ï¼Œé‡é‡å…³ä¸Šäº†é—¨ã€‚</p>
<p>è­¦æŠ¥å£°è¿˜åœ¨å“ã€‚</p>
<p>ä½†å·²ç»æ²¡äººç®¡äº†ã€‚</p>
<p>è¤šäº‘å¸†ååœ¨å·¥ä½ä¸Šï¼Œå¿ƒè„ç‹‚è·³ã€‚ä»–å¼ºè¿«è‡ªå·±æ·±å‘¼å¸ï¼Œä¸€æ¬¡ï¼Œä¸¤æ¬¡ã€‚æ‰‹æŒ‡åœ¨æ¡Œå­ä¸‹é¢å¾®å¾®é¢¤æŠ–ã€‚</p>
<p>ä¸å¯¹åŠ²ã€‚</p>
<p>å¤ªä¸å¯¹åŠ²äº†ã€‚</p>
<p>ä»–æ‰“å¼€æµè§ˆå™¨ï¼Œç‚¹å¼€æ–°é—»ç½‘ç«™ã€‚</p>
<p>é¦–é¡µå…¨æ˜¯ä¹±ç ã€‚</p>
<p>ä¸ï¼Œä¸æ˜¯ä¹±ç â€”â€”æ˜¯å„ç§è¯­æ³•çš„ç¢ç‰‡ã€‚ä¸­æ–‡é‡Œå¤¹æ‚ç€è‹±æ–‡å•è¯ï¼Œè‹±æ–‡å¥å­é‡Œæ··ç€ç¼–ç¨‹è¯­è¨€çš„ç¬¦å·ã€‚åƒæ˜¯æ•´ä¸ªç½‘ç«™çš„æ¸²æŸ“å¼•æ“å´©äº†ã€‚</p>
<p>ä»–åˆ·æ–°ã€‚</p>
<p>è¿˜æ˜¯è¿™æ ·ã€‚</p>
<p>ä»–æ¢äº†ä¸ªç½‘ç«™ã€‚</p>
<p>åŒæ ·çš„æƒ…å†µã€‚</p>
<p>æœ€ç»ˆï¼Œä»–åœ¨ä¸€ä¸ªæç®€çš„çº¯æ–‡æœ¬è®ºå›ä¸Šï¼Œçœ‹åˆ°äº†ä¸€æ¡è¿˜èƒ½å‹‰å¼ºé˜…è¯»çš„æ¶ˆæ¯ï¼š</p>
<p>ã€ç´§æ€¥é€šçŸ¥ï¼šå…¨çƒèŒƒå›´å†…å‡ºç°æœªçŸ¥æŠ€æœ¯æ•…éšœã€‚ç¼–ç¨‹è¯­è¨€ç†è§£èƒ½åŠ›æ™®éå¼‚å¸¸ã€‚å»ºè®®æ‰€æœ‰æŠ€æœ¯äººå‘˜åœæ­¢æ“ä½œï¼Œç­‰å¾…è¿›ä¸€æ­¥é€šçŸ¥ã€‚ã€‘</p>
<p>ä¸‹é¢è·Ÿäº†å‡ ç™¾æ¡å›å¤ã€‚</p>
<p>â€œæˆ‘è¿Hello Worldéƒ½å†™ä¸å‡ºæ¥äº†â€¦â€¦â€</p>
<p>â€œå˜é‡æ˜¯ä»€ä¹ˆï¼Ÿå‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿæˆ‘å¥½åƒåšäº†ä¸ªæ¢¦ï¼Œæ¢¦é‡Œæˆ‘ä¼šå†™ä»£ç ï¼Œä½†é†’æ¥å…¨å¿˜äº†ã€‚â€</p>
<p>â€œä¸æ˜¯å¿˜äº†ï¼æ˜¯è„‘å­è½¬ä¸åŠ¨ï¼æˆ‘çœ‹åˆ°forè¿™ä¸ªå•è¯ï¼ŒçŸ¥é“å®ƒæ˜¯å¾ªç¯ï¼Œä½†å°±æ˜¯æƒ³ä¸èµ·æ¥è¯¥æ€ä¹ˆç”¨ï¼â€</p>
<p>â€œå…¨çƒæ€§çš„ï¼Ÿä¸åªæ˜¯æˆ‘ä»¬å…¬å¸ï¼Ÿâ€</p>
<p>â€œä¸åªæ˜¯æˆ‘ä»¬å›½å®¶ã€‚æˆ‘åˆšé—®äº†å›½å¤–çš„æœ‹å‹ï¼Œä¸€æ ·ã€‚â€</p>
<p>è¤šäº‘å¸†ä¸€æ¡æ¡å¾€ä¸‹ç¿»ã€‚</p>
<p>æ‰‹æŒ‡è¶Šæ¥è¶Šå†·ã€‚</p>
<p>ä¸­åˆåäºŒç‚¹ï¼Œå…¬å¸å¼ºåˆ¶æ–­ç½‘ã€‚</p>
<p>å¹¿æ’­é‡Œä¼ æ¥è¡Œæ”¿æ€»ç›‘çš„å£°éŸ³ï¼Œå¬èµ·æ¥å¾ˆç–²æƒ«ï¼šâ€œå…¨ä½“åŒäº‹è¯·æ³¨æ„ï¼Œæ¥ä¸Šçº§é€šçŸ¥ï¼Œå³åˆ»èµ·åœæ­¢æ‰€æœ‰æŠ€æœ¯ç›¸å…³å·¥ä½œã€‚è¯·å¤§å®¶â€¦â€¦ä¿æŒå†·é™ã€‚ç­‰å¾…è¿›ä¸€æ­¥å®‰æ’ã€‚â€</p>
<p>åŠå…¬åŒºä¸€ç‰‡æ­»å¯‚ã€‚</p>
<p>æ²¡äººåŠ¨ã€‚</p>
<p>å¤§å®¶å°±ååœ¨å·¥ä½ä¸Šï¼Œç›¯ç€é»‘å±çš„æ˜¾ç¤ºå™¨ï¼Œæˆ–è€…ç›¯ç€è‡ªå·±çš„æ‰‹ã€‚å¥½åƒåªè¦å¤šçœ‹ä¸€ä¼šå„¿ï¼Œé‚£äº›ä¸¢å¤±çš„æŠ€èƒ½å°±ä¼šå›æ¥ã€‚</p>
<p>è¤šäº‘å¸†ç«™èµ·æ¥ï¼Œèµ°å‘èŒ¶æ°´é—´ã€‚</p>
<p>è·¯è¿‡æå·¥å·¥ä½æ—¶ï¼Œä»–ç¥äº†ä¸€çœ¼å±å¹•ã€‚</p>
<p>æå·¥åœ¨å†™æ–‡æ¡£ã€‚</p>
<p>ç”¨ä¸­æ–‡ã€‚</p>
<p>â€œå¦‚ä½•æ‰“å¼€ç»ˆç«¯ï¼šç¬¬ä¸€æ­¥ï¼Œæ‰¾åˆ°å±å¹•å·¦ä¸‹è§’çš„å¼€å§‹èœå•ã€‚ç¬¬äºŒæ­¥ï¼Œç‚¹å‡»ã€‚ç¬¬ä¸‰æ­¥ï¼Œåœ¨æœç´¢æ¡†é‡Œè¾“å…¥â€˜cmdâ€™ã€‚ç¬¬å››æ­¥â€¦â€¦â€</p>
<p>ä»–å†™å¾—å¾ˆæ…¢ã€‚</p>
<p>æ¯ä¸€ä¸ªå­—éƒ½è¦æƒ³å¾ˆä¹…ã€‚</p>
<p>å¥½åƒè¿™ä¸æ˜¯å¸¸è¯†ï¼Œè€Œæ˜¯æŸç§éœ€è¦è¯¦ç»†è®°å½•çš„ç§˜å¯†çŸ¥è¯†ã€‚</p>
<p>èŒ¶æ°´é—´é‡Œï¼Œå‡ ä¸ªåŒäº‹åœ¨ä½å£°è¯´è¯ã€‚</p>
<p>â€œä½ è¿˜èƒ½è®°å¾—å¤šå°‘ï¼Ÿâ€</p>
<p>â€œæˆ‘â€¦â€¦æˆ‘è®°å¾—ifæ˜¯åˆ¤æ–­ã€‚elseæ˜¯å¦åˆ™ã€‚ä½†å…·ä½“æ€ä¹ˆå†™ï¼Œæˆ‘è„‘å­é‡Œä¸€ç‰‡ç©ºç™½ã€‚â€</p>
<p>â€œæˆ‘ä¹Ÿæ˜¯ã€‚å°±å¥½åƒæœ‰äººæŠŠæˆ‘å¤§è„‘é‡Œå…³äºç¼–ç¨‹çš„é‚£éƒ¨åˆ†ï¼Œæ•´ä¸ªæŒ–æ‰äº†ã€‚â€</p>
<p>â€œä¸æ˜¯æŒ–æ‰ã€‚â€å¦ä¸€ä¸ªå£°éŸ³è¯´ï¼Œâ€œæ˜¯è’™ä¸Šäº†ä¸€å±‚é›¾ã€‚ä½ çŸ¥é“é›¾åé¢æœ‰ä¸œè¥¿ï¼Œä½†å°±æ˜¯çœ‹ä¸æ¸…ã€‚â€</p>
<p>è¤šäº‘å¸†æ¥äº†ä¸€æ¯æ°´ã€‚</p>
<p>æ°´æ¸©å¾ˆæ­£å¸¸ã€‚</p>
<p>ä½†ä»–å–ä¸‹å»çš„æ—¶å€™ï¼Œæ„Ÿè§‰å–‰å’™å‘å¹²ã€‚</p>
<p>ä¸‹åˆä¸¤ç‚¹ï¼Œå…¬å¸å®£å¸ƒæå‰ä¸‹ç­ã€‚</p>
<p>â€œåŸºç¡€è®¾æ–½ä¸ç¨³å®šï¼Œâ€è€ç‹åœ¨ç¾¤é‡Œå‘æ¶ˆæ¯ï¼Œâ€œäº¤é€šç³»ç»Ÿå¯èƒ½å—å½±å“ï¼Œå¤§å®¶æ—©ç‚¹å›å®¶ã€‚â€</p>
<p>æ²¡äººæ¬¢å‘¼ã€‚</p>
<p>å¤§å®¶æ²‰é»˜åœ°æ”¶æ‹¾ä¸œè¥¿ï¼Œæ²‰é»˜åœ°ç¦»å¼€å·¥ä½ã€‚åŠ¨ä½œéƒ½å¾ˆæ…¢ï¼Œå¥½åƒè¿˜åœ¨æ¶ˆåŒ–ä»Šå¤©å‘ç”Ÿçš„ä¸€åˆ‡ã€‚</p>
<p>è¤šäº‘å¸†èƒŒèµ·åŒ…ï¼Œèµ°è¿›ç”µæ¢¯ã€‚</p>
<p>ç”µæ¢¯é‡Œæœ‰å…­ä¸ªäººã€‚</p>
<p>æ²¡äººè¯´è¯ã€‚</p>
<p>å¤§å®¶ç›¯ç€æ¥¼å±‚æ•°å­—ï¼Œçœ¼ç¥ç©ºæ´ã€‚</p>
<p>ç”µæ¢¯ä¸‹åˆ°ä¸€æ¥¼ï¼Œâ€œå®â€çš„ä¸€å£°å¼€é—¨ã€‚</p>
<p>è¤šäº‘å¸†èµ°å‡ºå»ï¼Œç„¶ååœä½äº†è„šæ­¥ã€‚</p>
<p>å¤§å¦å¤–çš„æ™¯è±¡ï¼Œæ¯”ä»–æƒ³è±¡çš„æ›´ç³Ÿã€‚</p>
<hr/>
<p>è¡—é“ä¸Šï¼Œçº¢ç»¿ç¯åœ¨èƒ¡ä¹±é—ªçƒã€‚</p>
<p>ä¸æ˜¯æ•…éšœçš„é‚£ç§é—ªçƒâ€”â€”æ˜¯æ¯«æ— è§„å¾‹ã€‚çº¢ç¯äº®0.5ç§’ï¼Œç»¿ç¯äº®2ç§’ï¼Œé»„ç¯äº®0.1ç§’ï¼Œç„¶ååˆè·³å›çº¢ç¯ã€‚ä¸‰ä¸ªç¯æœ‰æ—¶å€™ä¼šåŒæ—¶äº®èµ·ï¼Œå‘å‡ºåˆºçœ¼çš„å…‰ã€‚</p>
<p>åå­—è·¯å£å µæˆäº†ä¸€å›¢ã€‚</p>
<p>è‡ªåŠ¨é©¾é©¶æ±½è½¦åœåœ¨è·¯ä¸­é—´ï¼Œæœ‰çš„åœ¨ç¼“æ…¢åœ°åŸåœ°è½¬åœˆï¼Œæœ‰çš„åœ¨å‰åè½»å¾®æŒªåŠ¨ï¼Œåƒæ˜¯å¤±å»äº†æ–¹å‘çš„æ˜†è™«ã€‚ä¸€è¾†å…¬äº¤è½¦çš„ç”µå­å±ä¸Šæ»šåŠ¨ç€ä¹±ç ï¼Œå¸æœºè¯•å›¾æ‰‹åŠ¨æ“ä½œï¼Œä½†æ–¹å‘ç›˜å¥½åƒé”æ­»äº†ã€‚</p>
<p>äººè¡Œé“ä¸Šï¼Œäººä»¬æ‹¿ç€æ‰‹æœºï¼Œè„¸ä¸Šéƒ½æ˜¯èŒ«ç„¶ã€‚</p>
<p>â€œåœ°å›¾ç”¨ä¸äº†äº†â€¦â€¦â€</p>
<p>â€œå«è½¦è½¯ä»¶æ˜¾ç¤ºæœåŠ¡å™¨é”™è¯¯ã€‚â€</p>
<p>â€œè¿æ‰«ç æ”¯ä»˜éƒ½ä¸è¡Œäº†ï¼åˆšæ‰ä¹°ç“¶æ°´ï¼Œæ‰«äº†äº”åˆ†é’Ÿéƒ½æ²¡ååº”ï¼â€</p>
<p>è¤šäº‘å¸†ç«™åœ¨å¤§å¦é—¨å£ï¼Œçœ‹ç€è¿™ä¸€åˆ‡ã€‚</p>
<p>é˜³å…‰å¾ˆå¥½ã€‚</p>
<p>å¤©ç©ºå¾ˆè“ã€‚</p>
<p>ä½†ä¸–ç•Œå¥½åƒçªç„¶å˜æˆäº†ä¸€ä¸ªåŠ£è´¨çš„ã€æ¼æ´ç™¾å‡ºçš„ç¨‹åºã€‚æ¯ä¸€ä¸ªæ¨¡å—éƒ½åœ¨æŠ¥é”™ï¼Œæ¯ä¸€ä¸ªå‡½æ•°éƒ½åœ¨å´©æºƒã€‚</p>
<p>ä»–æŠ¬èµ·å·¦æ‰‹ï¼Œçœ‹äº†ä¸€çœ¼æ‰‹è…•ä¸Šçš„è¡¨ã€‚</p>
<p>é‚£æ˜¯ä¸€å—è€æ—§çš„ç”µå­è¡¨ï¼Œè¡¨ç›˜ä¸æ˜¯æ•°å­—ï¼Œè€Œæ˜¯ä¸€è¡Œä¸æ–­è·³åŠ¨çš„ä»£ç ã€‚</p>
<p>æ˜¯ä»–è‡ªå·±æ”¹è£…çš„ã€‚</p>
<p>è¡¨ç›˜ä¸Šæ˜¾ç¤ºç€ï¼š</p>
<p><code>while (true) { display_time(); sleep(1000); }</code></p>
<p>ä¸€ä¸ªæ— é™å¾ªç¯ï¼Œæ¯ç§’åˆ·æ–°ä¸€æ¬¡æ—¶é—´ã€‚</p>
<p>æ­¤åˆ»ï¼Œä»£ç æ­£å¸¸æ»šåŠ¨ã€‚</p>
<p>æ—¶é—´æ­£å¸¸æ˜¾ç¤ºã€‚</p>
<p>14:37:05ã€‚</p>
<p>è¤šäº‘å¸†ç›¯ç€é‚£è¡Œä»£ç ï¼Œçœ‹äº†å¾ˆä¹…ã€‚</p>
<p>ç„¶åä»–æŠ¬èµ·å¤´ï¼Œçœ‹å‘è¡—é“å¯¹é¢ã€‚</p>
<p>é‚£é‡Œæœ‰ä¸€å®¶å’–å•¡é¦†ï¼Œæ©±çª—ä¸Šè´´ç€äºŒç»´ç ï¼Œæ—è¾¹å†™ç€â€œæ‰«ç ç‚¹å•ï¼Œäº«å—ä¼˜æƒ â€ã€‚ä¸€ä¸ªå¹´è½»äººæ­£æ‹¿ç€æ‰‹æœºå¯¹ç€äºŒç»´ç ï¼Œåå¤è°ƒæ•´è§’åº¦ï¼Œè¡¨æƒ…è¶Šæ¥è¶Šçƒ¦èºã€‚</p>
<p>â€œæ€ä¹ˆæ‰«ä¸å‡ºæ¥å•Šâ€¦â€¦â€å¹´è½»äººå˜Ÿå›”ã€‚</p>
<p>è¤šäº‘å¸†çŸ¥é“ä¸ºä»€ä¹ˆã€‚</p>
<p>æ‰«ç ç¨‹åºåº•å±‚ä¾èµ–å›¾åƒè¯†åˆ«åº“ï¼Œè¯†åˆ«åº“ä¾èµ–ç®—æ³•ï¼Œç®—æ³•ä¾èµ–ä»£ç ã€‚</p>
<p>ä»£ç å†™ä¸å‡ºæ¥äº†ã€‚</p>
<p>æ‰€ä»¥è¯†åˆ«åº“æ— æ³•æ›´æ–°ï¼Œç®—æ³•æ— æ³•ä¼˜åŒ–ï¼Œç¨‹åºæœ€ç»ˆä¼šéšç€è®¾å¤‡è€åŒ–è€Œé€æ¸å¤±æ•ˆã€‚</p>
<p>å°±åƒç°åœ¨ã€‚</p>
<p>å°±åƒæ•´ä¸ªä¸–ç•Œã€‚</p>
<p>ä»–æ·±å¸ä¸€å£æ°”ï¼ŒæŠŠè¢–å­æ‹‰ä¸‹æ¥ï¼Œç›–ä½æ‰‹è¡¨ã€‚</p>
<p>ç„¶åè¿ˆå¼€è„šæ­¥ï¼Œèµ°è¿›æ··ä¹±çš„è¡—é“ã€‚</p>
<p>å›å®¶çš„è·¯åŸæœ¬åªéœ€è¦äºŒååˆ†é’Ÿã€‚</p>
<p>ä»Šå¤©ä»–èµ°äº†ä¸€ä¸ªå°æ—¶ã€‚</p>
<p>å› ä¸ºè¦é¿å¼€æ‰€æœ‰ä¾èµ–æ™ºèƒ½è°ƒåº¦çš„è·¯å£ï¼Œè¦ç»•å¼€é‚£äº›åœ¨åŸåœ°æ‰“è½¬çš„è‡ªåŠ¨é©¾é©¶æ±½è½¦ï¼Œè¦å°å¿ƒçªç„¶ä¹±é—ªçš„äº¤é€šä¿¡å·ç¯ã€‚</p>
<p>è·¯ä¸Šï¼Œä»–çœ‹åˆ°äº†æ›´å¤šç»†èŠ‚ã€‚</p>
<p>ä¸€å®¶é“¶è¡Œçš„ATMæœºï¼Œå±å¹•è“å±ï¼Œæ˜¾ç¤ºç€ä¸€ä¸²é”™è¯¯ä»£ç ã€‚å‡ ä¸ªäººå›´åœ¨æ—è¾¹ï¼Œè¯•å›¾ç†è§£é‚£äº›ä»£ç çš„æ„æ€ï¼Œä½†æ˜¾ç„¶å¤±è´¥äº†ã€‚</p>
<p>ä¸€ä¸ªå¤–å–æœºå™¨äººå¡åœ¨è·¯è¾¹ç»¿åŒ–å¸¦é‡Œï¼Œè½®å­ç©ºè½¬ï¼Œæ‰¬å£°å™¨é‡Œåå¤æ’­æ”¾ï¼šâ€œè·¯å¾„è§„åˆ’é”™è¯¯ï¼Œè¯·ç¨å€™â€¦â€¦è·¯å¾„è§„åˆ’é”™è¯¯ï¼Œè¯·ç¨å€™â€¦â€¦â€</p>
<p>ä¾¿åˆ©åº—é—¨å£ï¼Œç”µå­å¹¿å‘Šç‰Œä¸Šæœ¬è¯¥æ’­æ”¾ä¿ƒé”€è§†é¢‘çš„åŒºåŸŸï¼Œç°åœ¨æ˜¾ç¤ºç€ä¸€è¡Œè¡Œè°ƒè¯•ä¿¡æ¯ï¼š</p>
<p><code>Segmentation fault (core dumped)</code></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[10GB vs 600MBï¼šæˆ‘ä»¬å¼ƒç”¨ GitLabï¼Œé€‰æ‹©äº†è¿™ä¸ªè½»é‡çº§ç¥å™¨]]></title>    <link>https://juejin.cn/post/7582637280217858102</link>    <guid>https://juejin.cn/post/7582637280217858102</guid>    <pubDate>2025-12-12T08:17:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582637280217858102" data-draft-id="7582535649276821545" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="10GB vs 600MBï¼šæˆ‘ä»¬å¼ƒç”¨ GitLabï¼Œé€‰æ‹©äº†è¿™ä¸ªè½»é‡çº§ç¥å™¨"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-12T08:17:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‹‡å“¥Javaå®æˆ˜"/> <meta itemprop="url" content="https://juejin.cn/user/3693987061329080"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            10GB vs 600MBï¼šæˆ‘ä»¬å¼ƒç”¨ GitLabï¼Œé€‰æ‹©äº†è¿™ä¸ªè½»é‡çº§ç¥å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3693987061329080/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‹‡å“¥Javaå®æˆ˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-12T08:17:45.000Z" title="Fri Dec 12 2025 08:17:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-12
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åœ¨å¼€å‘ä¸€ä¸ªç±»ä¼¼é­”æ­ï¼ˆModelScopeï¼‰çš„AI æ¨¡å‹æ‰˜ç®¡å¹³å°ï¼Œéœ€è¦ä¸ºæ¯ä¸ªé¡¹ç›®æä¾›ç‹¬ç«‹çš„ä»“åº“æœåŠ¡ã€‚</p>
<p>æœ€åˆçš„æ–¹æ¡ˆé€‰æ‹©äº†ä¸šç•Œç†ŸçŸ¥çš„ GitLab ï¼Œä½†å¾ˆå¿«å°±é‡åˆ°äº†ç“¶é¢ˆï¼šä»…ä»…æ˜¯åŸºç¡€çš„ä»£ç æ‰˜ç®¡åŠŸèƒ½ï¼ŒGitLabå…¨å¥—æœåŠ¡ï¼ˆä¸»è¿›ç¨‹ã€PostgreSQL å’Œ Redis ï¼‰åœ¨è¿è¡Œä¸€æ®µæ—¶é—´åï¼Œå†…å­˜å ç”¨ä¸€åº¦é€¼è¿‘ 10GBã€‚è¿™å¯¹äºæˆ‘ä»¬çš„è½»é‡çº§é¡¹ç›®éœ€æ±‚è€Œè¨€ï¼Œæ— ç–‘æ˜¯ä¸€ä¸ªéš¾ä»¥æ‰¿å—çš„â€œèµ„æºé»‘æ´â€ã€‚</p>
<p><strong>æœ€åæˆ‘ä»¬é€‰æ‹©äº† Gitea è¿™ä¸ªè½»é‡çº§çš„è‡ªæ‰˜ç®¡ Git è§£å†³æ–¹æ¡ˆâ€”â€”å®ƒä¸ä»…å°†å†…å­˜å ç”¨ä»10GBé™ä½åˆ° 600MBå·¦å³ï¼Œæ›´é‡è¦çš„æ˜¯æä¾›äº†å®Œæ•´çš„APIæ¥å£ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ·±åº¦é›†æˆåˆ°è‡ªå·±çš„ AI å¹³å°ä¸­ã€‚</strong></p>
<p>æœ¬æ–‡å°†å¸¦ä½ å¿«é€Ÿä½¿ç”¨ <strong>Docker éƒ¨ç½² Gitea</strong>ï¼Œå¹¶æ¼”ç¤ºå¦‚ä½•åˆ›å»ºä»“åº“ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡ Gitea <strong>REST API</strong> å®ç°ä¸šåŠ¡å®šåˆ¶ ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bfec6295f82444c39f92a2fbe5eab738~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766132265&amp;x-signature=mGJNmP47KuVhKFKq6m%2F098dSi88%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">1 éƒ¨ç½²å‰ç½®å‡†å¤‡</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3afac8ccd99b4d1383d7e4257f4999f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766132265&amp;x-signature=3wLGgxxqjVcjibWBrJh2GHlduWY%3D" alt="" loading="lazy"/></p>

























<table><thead><tr><th>ç»„ä»¶</th><th>æ˜¯å¦å¿…é¡»</th><th>ç”¨é€”è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æ•°æ®åº“ï¼ˆMySQL / PostgreSQL / SQLiteï¼‰</strong></td><td>âœ… å¿…é¡»</td><td>å­˜å‚¨æ ¸å¿ƒä¸šåŠ¡æ•°æ®ï¼šç”¨æˆ·ã€ä»“åº“ã€Issueã€PRã€æƒé™ã€LFS å…ƒä¿¡æ¯ç­‰</td></tr><tr><td><strong>S3 / MinIOï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰</strong></td><td>â– å¯é€‰</td><td>ç”¨äºå­˜å‚¨ä»“åº“é™„ä»¶ã€LFS å¤§æ–‡ä»¶ï¼›æ²¡æœ‰æ—¶ä½¿ç”¨æœ¬åœ°ç£ç›˜</td></tr><tr><td><strong>Redis</strong></td><td>â– å¯é€‰</td><td>ç”¨ä½œç¼“å­˜ã€Sessionã€é˜Ÿåˆ—åå°ï¼Œæå‡æ€§èƒ½</td></tr></tbody></table>
<p>gitea æ”¯æŒ sqlite ã€mysql8 ã€pg12 ï¼Œå› ä¸º sqlite åªæ”¯æŒå•è¿›ç¨‹/çº¿ç¨‹å†™ï¼Œæ€§èƒ½æå·®ã€‚</p>
<p>å› ä¸ºç¬”è€…ä½¿ç”¨ MySQL æœ€å¤šä¹Ÿæœ€ç†Ÿæ‚‰ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©å‰ç½®å®‰è£… MySQL 8 ã€‚å®‰è£…å®Œ MySQL å ï¼Œåœ¨æ•°æ®åº“ä¸­æ–°å»ºæ•°æ®åº“ gitea ï¼ˆæ­¤æ—¶ï¼Œgitea æ•°æ®åº“å¹¶æ²¡æœ‰ä»»ä½•è¡¨ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c709f0fd8e104b86bec5492677c38dd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766132265&amp;x-signature=nAlJuvPLI%2BzIZkXtRzal3s1%2F3mU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">2 Docker å®‰è£… Gitea</h2>
<p>æ¥ä¸‹æ¥ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œä½¿ç”¨ Docker å®‰è£… Gitea ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">docker run -d --name gitea \
-p 3000:3000 -p 222:22 \
-v /Users/zhangyong/docker/gitea/data:/data \
-v /etc/localtime:/etc/localtime:ro \
-v /etc/timezone:/etc/timezone:ro \
-e USER_UID=1000 \
-e USER_GID=1000 \
--restart always \
gitea/gitea:latest
</code></pre>
<p>å®‰è£…å®Œåç¬¬ä¸€æ¬¡è®¿é—®é¡µé¢ <a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A3000" target="_blank" title="http://localhost:3000" ref="nofollow noopener noreferrer">http://localhost:3000</a> :</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/466b6ec6e6724cfdb2e20666e49ab49e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766132265&amp;x-signature=0krxtc0OhgZn53EUdjmRSOvb6Rk%3D" alt="" loading="lazy"/></p>
<p>å¦‚å›¾ï¼Œæˆ‘ä»¬é…ç½®äº† æ•°æ®åº“ Gitea ï¼Œç„¶åç‚¹å‡»ç«‹å³å®‰è£… ã€‚</p>
<blockquote>
<p>é…ç½®é€‰é¡¹å°†å†™å…¥ä»¥ä¸‹ä½ç½®: /data/gitea/conf/app.ini</p>
</blockquote>
<p>å®‰è£…å®Œæˆä¹‹åï¼Œç•Œé¢å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eea9a20d8f07490e9f9a402b38c50208~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766132265&amp;x-signature=kZcSoRRJK4JeJjJ4lsOVsDufaVM%3D" alt="" loading="lazy"/></p>
<p>æ³¨å†Œå®Œ root è´¦å·åï¼Œè¿›å…¥é¦–é¡µï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/27619bddd35c47e6bd84e6a9c699460c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766132265&amp;x-signature=CnVDxOI8fttr3NDZvIZS0VvWHWs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">3 æ–°å»ºä»“åº“</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70af6a7b9ec24426a192fc5289bc170f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766132265&amp;x-signature=11sdf08WbvvzNUQQC977rUqWZNY%3D" alt="" loading="lazy"/></p>
<p>å¦‚å›¾ï¼Œåˆ›å»ºä»“åº“çš„ç•Œé¢å’Œ Github ç±»ä¼¼ï¼Œè¾“å…¥ä»“åº“åï¼Œå³å¯åˆ›å»ºæˆåŠŸï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c5045d4b9654b33bd8f1adfcff1fe0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766132265&amp;x-signature=6M6ypGZh0dKcTJ3kwo33g20EPyQ%3D" alt="" loading="lazy"/></p>
<p>å½“æˆ‘ä»¬æƒ³å…‹éš† æˆ–è€… æ¨é€ä»“åº“æ—¶ï¼Œéœ€è¦åˆ›å»ºç”¨æˆ·çš„ pat ï¼ˆ Access Token ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7cd25975bd8b4a2e9575a12c8996ee0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766132265&amp;x-signature=X3YNR68eZJezjSYSILpjeFNpVac%3D" alt="" loading="lazy"/></p>
<p>åˆ›å»ºæˆåŠŸåï¼Œç•Œé¢å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e09cc254670b4c859d49f04aa2a4770c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766132265&amp;x-signature=0WOSJS9CGLii2MBr338zRpLUpVA%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬å°†ä»¤ç‰Œä¿å­˜å¥½ï¼Œåœ¨å…‹éš†ä»“åº“æ—¶ï¼Œæˆ–è€… push ä»“åº“æ—¶ï¼Œéœ€è¦ä½¿ç”¨è¯¥ä»¤ç‰Œã€‚</p>
<h2 data-id="heading-3">4 è°ƒç”¨ API</h2>
<p>å¦‚å›¾ï¼Œå½“æˆ‘ä»¬è®¿é—®ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A3000%2Fapi%2Fswagger%23%2Frepository" target="_blank" title="http://localhost:3000/api/swagger#/repository" ref="nofollow noopener noreferrer">http://localhost:3000/api/swagger#/repository</a> , å¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„ Gitea å¼€å‘ API ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a942402ba7b54d9fad44bb24aaa56422~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766132265&amp;x-signature=aHaNzvEVNB1f24p3gNK9wgU9tdA%3D" alt="" loading="lazy"/></p>
<p>å¦‚å›¾ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ‰€æœ‰çš„ Gitea API å°è£…æˆå¦‚ä¸‹çš„ Java æœåŠ¡ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29db174249ce4d3dba8292f8b0c7f604~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766132265&amp;x-signature=KbRkA7gNh5Y4aho0cHmdMkx1FVY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">5 æ€»ç»“</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63cc142b758947578080af8fd3e2e6b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YuH5ZOlSmF2YeWunuaImA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766132265&amp;x-signature=IMQ023ID0EcudPdN69KIBnjwj%2B4%3D" alt="" loading="lazy"/></p>
<p>ä¸Šå›¾æ˜¯ç¬”è€…è°ƒç ” Gitea å’Œ GItlab çš„å¯¹æ¯”å›¾ï¼Œç›¸æ¯”ä¹‹ä¸‹ ï¼ŒGitea çœŸæ˜¯è½»é‡çº§ç¥å™¨ ï¼Œèƒ½å¤Ÿå®Œç¾é€‚é…å…¬å¸ä¸šåŠ¡çš„éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>