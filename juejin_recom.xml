<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[ã€æ·±å…¥ã€‘åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨Vue3å®ç°ï¼ˆ2ï¼‰]]></title>    <link>https://juejin.cn/post/7602529888483704895</link>    <guid>https://juejin.cn/post/7602529888483704895</guid>    <pubDate>2026-02-04T05:16:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602529888483704895" data-draft-id="7602497125269045254" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€æ·±å…¥ã€‘åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨Vue3å®ç°ï¼ˆ2ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T05:16:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Hashan"/> <meta itemprop="url" content="https://juejin.cn/user/3523276916662526"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€æ·±å…¥ã€‘åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨Vue3å®ç°ï¼ˆ2ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3523276916662526/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Hashan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:16:59.000Z" title="Wed Feb 04 2026 05:16:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ğŸ“š <strong>ç³»åˆ—æ–‡ç« </strong>ï¼šæœ¬æ–‡æ˜¯è™šæ‹Ÿåˆ—è¡¨ç³»åˆ—çš„ç¬¬äºŒç¯‡ï¼Œå»ºè®®å…ˆé˜…è¯» <a href="https://juejin.cn/post/7602463463105380398" target="_blank" title="https://juejin.cn/post/7602463463105380398">å›ºå®šé«˜åº¦è™šæ‹Ÿåˆ—è¡¨å®ç°</a></p>
</blockquote>
<h2 data-id="heading-0">ğŸ¯ æœ¬æ–‡ä½ å°†å­¦åˆ°</h2>
<ul>
<li>âœ… ç†è§£åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨çš„æ ¸å¿ƒéš¾ç‚¹</li>
<li>âœ… æŒæ¡"é¢„ä¼°é«˜åº¦ + æ¸²æŸ“åä¿®æ­£"çš„è§£å†³æ–¹æ¡ˆ</li>
<li>âœ… å®Œæ•´å®ç°ä¸€ä¸ªç”Ÿäº§çº§åˆ«çš„åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨ç»„ä»¶</li>
<li>âœ… å­¦ä¼šä½¿ç”¨æ‡’åŠ è½½ä¼˜åŒ–è™šæ‹Ÿåˆ—è¡¨æ€§èƒ½</li>
</ul>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆéœ€è¦åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨</h2>
<p>åœ¨å®é™…ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°è¿™äº›åœºæ™¯ï¼š</p>






























<table><thead><tr><th>åœºæ™¯</th><th>ç‰¹ç‚¹</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>ğŸ’¬ æ¶ˆæ¯åˆ—è¡¨</td><td>æ–‡æœ¬é•¿åº¦ä¸å›ºå®š</td><td>å¾®ä¿¡èŠå¤©ã€é’‰é’‰æ¶ˆæ¯</td></tr><tr><td>ğŸ“ è¯„è®º/å›å¤</td><td>åµŒå¥—å±‚çº§ä¸åŒ</td><td>æ˜é‡‘è¯„è®ºåŒºã€çŸ¥ä¹å›ç­”</td></tr><tr><td>ğŸ“° Feed æµ</td><td>å›¾æ–‡æ··æ’</td><td>å¾®åšã€å°çº¢ä¹¦</td></tr><tr><td>ğŸ“‹ æ•°æ®è¡¨æ ¼</td><td>å•å…ƒæ ¼å†…å®¹ä¸å®š</td><td>åå°ç®¡ç†ç³»ç»Ÿ</td></tr></tbody></table>
<p>è¿™äº›åœºæ™¯çš„å…±åŒç‰¹ç‚¹æ˜¯ï¼š<strong>åˆ—è¡¨é¡¹é«˜åº¦ä¸å›ºå®šï¼Œæ— æ³•æå‰é¢„çŸ¥</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-2">æ ¸å¿ƒéš¾ç‚¹åˆ†æ</h2>
<h3 data-id="heading-3">å›ºå®šé«˜åº¦ vs åŠ¨æ€é«˜åº¦ï¼šå¤æ‚åº¦å¯¹æ¯”</h3>
<p>è®©æˆ‘ä»¬å…ˆå¯¹æ¯”ä¸€ä¸‹ä¸¤ç§å®ç°çš„æ ¸å¿ƒåŒºåˆ«ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â   å›ºå®šé«˜åº¦ï¼šæ‰€æœ‰è®¡ç®—éƒ½æ˜¯ O(1) Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Item 0  â”‚ height: 50px Â   â”‚  <span class="hljs-attr">scrollTop</span> = <span class="hljs-number">250</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚  Item 1  â”‚ height: 50px Â   â”‚  <span class="hljs-attr">startIndex</span> = <span class="hljs-number">250</span> / <span class="hljs-number">50</span> = <span class="hljs-number">5</span>  âœ… Â  Â  â”‚
â”‚  Item 2  â”‚ height: 50px Â   â”‚  <span class="hljs-attr">offset</span> = <span class="hljs-number">5</span> * <span class="hljs-number">50</span> = <span class="hljs-number">250</span>px Â  âœ… Â  Â   â”‚
â”‚  Item 3  â”‚ height: 50px Â   â”‚  <span class="hljs-attr">totalHeight</span> = n * <span class="hljs-number">50</span> Â  Â   âœ… Â  Â   â”‚
â”‚  ... Â  Â  â”‚ ... Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â€‹
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â   åŠ¨æ€é«˜åº¦ï¼šéœ€è¦éå†ç´¯åŠ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Item 0  â”‚ height: 80px Â   â”‚  <span class="hljs-attr">scrollTop</span> = <span class="hljs-number">250</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚  Item 1  â”‚ height: 120px Â  â”‚  <span class="hljs-attr">startIndex</span> = ??? Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â”‚  Item 2  â”‚ height: 60px Â   â”‚  éœ€è¦éå†ï¼š80+120+<span class="hljs-attr">60</span> = <span class="hljs-number">260</span> &gt; <span class="hljs-number">250</span> Â  â”‚
â”‚  Item 3  â”‚ height: 200px Â  â”‚  æ‰€ä»¥ <span class="hljs-attr">startIndex</span> = <span class="hljs-number">2</span> Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚  ... Â  Â  â”‚ ... Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-4">ğŸ”ğŸ¥š "é¸¡ç”Ÿè›‹"é—®é¢˜</h3>
<p>åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨é¢ä¸´ä¸€ä¸ªç»å…¸çš„å¾ªç¯ä¾èµ–é—®é¢˜ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â   åŠ¨æ€é«˜åº¦çš„<span class="hljs-string">"é¸¡ç”Ÿè›‹"</span>é—®é¢˜ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â€‹
é—®é¢˜é“¾æ¡ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ éœ€è¦çŸ¥é“é«˜åº¦  â”‚ â”€â”€â–º â”‚ æ‰èƒ½è®¡ç®—ä½ç½®  â”‚ â”€â”€â–º â”‚ æ‰èƒ½å†³å®šæ¸²æŸ“  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  â–² Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
 Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
 Â  Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  Â  Â  Â  Â  Â  ä½†é«˜åº¦éœ€è¦æ¸²æŸ“åæ‰çŸ¥é“ï¼
</code></pre>
<h3 data-id="heading-5">æ ¸å¿ƒé—®é¢˜æ¸…å•</h3>






























<table><thead><tr><th>é—®é¢˜</th><th>å›ºå®šé«˜åº¦æ–¹æ¡ˆ</th><th>åŠ¨æ€é«˜åº¦éš¾ç‚¹</th></tr></thead><tbody><tr><td>è®¡ç®— startIndex</td><td><code>scrollTop / itemHeight</code></td><td>âŒ æ— æ³•ç›´æ¥è®¡ç®—</td></tr><tr><td>è®¡ç®—æ€»é«˜åº¦</td><td><code>totalCount * itemHeight</code></td><td>âŒ éœ€è¦ç´¯åŠ æ‰€æœ‰é«˜åº¦</td></tr><tr><td>è®¡ç®—åç§»é‡</td><td><code>startIndex * itemHeight</code></td><td>âŒ éœ€è¦ç´¯åŠ å‰é¢æ‰€æœ‰é«˜åº¦</td></tr><tr><td>è·å–å…ƒç´ é«˜åº¦</td><td>å›ºå®šå€¼</td><td>âŒ æ¸²æŸ“åæ‰èƒ½è·å–</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">è§£å†³æ–¹æ¡ˆè®¾è®¡</h2>
<h3 data-id="heading-7">ğŸ’¡ æ ¸å¿ƒæ€è·¯ï¼šé¢„ä¼°é«˜åº¦ + æ¸²æŸ“åä¿®æ­£</h3>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä½¿ç”¨é¢„ä¼°é«˜åº¦  â”‚ â”€â”€â–º â”‚ å…ˆæ¸²æŸ“ä¸€æ‰¹ Â   â”‚ â”€â”€â–º â”‚ è·å–çœŸå®é«˜åº¦  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
 Â  Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ›´æ–°ä½ç½®ç¼“å­˜  â”‚ â”€â”€â–º â”‚ ä¿®æ­£åç»­ä½ç½®  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-8">æ•°æ®ç»“æ„è®¾è®¡ï¼špositionCache</h3>
<p>ä¸ºäº†è§£å†³åŠ¨æ€é«˜åº¦çš„è®¡ç®—é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä¸ª<strong>ä½ç½®ç¼“å­˜è¡¨</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">//</span> <span class="hljs-string">å­˜å‚¨æ¯ä¸ªå…ƒç´ çš„ä½ç½®ä¿¡æ¯</span>
<span class="hljs-string">const</span> <span class="hljs-string">positionCache</span> <span class="hljs-string">=</span> [
  { <span class="hljs-attr">index:</span> <span class="hljs-number">0</span>, <span class="hljs-attr">top:</span> <span class="hljs-number">0</span>, Â  <span class="hljs-attr">bottom:</span> <span class="hljs-number">80</span>, Â <span class="hljs-attr">height:</span> <span class="hljs-number">80</span>  },
  { <span class="hljs-attr">index:</span> <span class="hljs-number">1</span>, <span class="hljs-attr">top:</span> <span class="hljs-number">80</span>, Â <span class="hljs-attr">bottom:</span> <span class="hljs-number">200</span>, <span class="hljs-attr">height:</span> <span class="hljs-number">120</span> },
  { <span class="hljs-attr">index:</span> <span class="hljs-number">2</span>, <span class="hljs-attr">top:</span> <span class="hljs-number">200</span>, <span class="hljs-attr">bottom:</span> <span class="hljs-number">260</span>, <span class="hljs-attr">height:</span> <span class="hljs-number">60</span>  },
  { <span class="hljs-attr">index:</span> <span class="hljs-number">3</span>, <span class="hljs-attr">top:</span> <span class="hljs-number">260</span>, <span class="hljs-attr">bottom:</span> <span class="hljs-number">460</span>, <span class="hljs-attr">height:</span> <span class="hljs-number">200</span> },
 Â <span class="hljs-string">//</span> <span class="hljs-string">...</span>
]
</code></pre>
<h4 data-id="heading-9">ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦ top å’Œ bottomï¼Ÿ</h4>
<p>ä½ å¯èƒ½ä¼šé—®ï¼šåªå­˜ <code>index</code> å’Œ <code>height</code> ä¸å°±å¤Ÿäº†å—ï¼Ÿ</p>
<p><strong>ç­”æ¡ˆæ˜¯ä¸å¤Ÿï¼</strong> è®©æˆ‘ä»¬çœ‹çœ‹ä¸ºä»€ä¹ˆï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// âŒ åªæœ‰ height æ—¶ï¼Œè®¡ç®— startIndex éœ€è¦è¿™æ ·ï¼š</span>
<span class="hljs-keyword">let</span> accumulatedHeight = <span class="hljs-number">0</span>
<span class="hljs-keyword">let</span> startIndex = <span class="hljs-number">0</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; positionCache.<span class="hljs-property">length</span>; i++) {
 Â accumulatedHeight += positionCache[i].<span class="hljs-property">height</span>
 Â <span class="hljs-keyword">if</span> (accumulatedHeight &gt; scrollTop) {
 Â  Â startIndex = i
 Â  Â <span class="hljs-keyword">break</span>
  }
}
<span class="hljs-comment">// æ—¶é—´å¤æ‚åº¦ï¼šO(n)</span>
â€‹
<span class="hljs-comment">// âœ… æœ‰ top/bottom æ—¶ï¼Œå¯ä»¥ç›´æ¥æŸ¥æ‰¾ï¼š</span>
<span class="hljs-keyword">const</span> startIndex = positionCache.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">bottom</span> &gt; scrollTop)
<span class="hljs-comment">// ç”šè‡³å¯ä»¥ç”¨äºŒåˆ†æŸ¥æ‰¾ä¼˜åŒ–åˆ° O(log n)</span>
</code></pre>
<h4 data-id="heading-10">positionCache ç»“æ„è¯¦è§£</h4>
<pre><code class="hljs language-js" lang="js">positionCache = [
  {
 Â  Â <span class="hljs-attr">index</span>: <span class="hljs-number">0</span>, Â  Â  Â <span class="hljs-comment">// å…ƒç´ ç´¢å¼•</span>
 Â  Â <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, Â  Â  Â  Â <span class="hljs-comment">// å…ƒç´ é¡¶éƒ¨è·ç¦»åˆ—è¡¨é¡¶éƒ¨çš„è·ç¦»</span>
 Â  Â <span class="hljs-attr">bottom</span>: <span class="hljs-number">80</span>, Â  Â <span class="hljs-comment">// å…ƒç´ åº•éƒ¨è·ç¦»åˆ—è¡¨é¡¶éƒ¨çš„è·ç¦»</span>
 Â  Â <span class="hljs-attr">height</span>: <span class="hljs-number">80</span> Â  Â  <span class="hljs-comment">// å…ƒç´ é«˜åº¦ (bottom - top)</span>
  },
  {
 Â  Â <span class="hljs-attr">index</span>: <span class="hljs-number">1</span>,
 Â  Â <span class="hljs-attr">top</span>: <span class="hljs-number">80</span>, Â  Â  Â  <span class="hljs-comment">// = ä¸Šä¸€é¡¹çš„ bottomï¼ˆä¿è¯è¿ç»­æ€§ï¼‰</span>
 Â  Â <span class="hljs-attr">bottom</span>: <span class="hljs-number">200</span>, Â  <span class="hljs-comment">// = top + height</span>
 Â  Â <span class="hljs-attr">height</span>: <span class="hljs-number">120</span>
  },
 Â <span class="hljs-comment">// ...</span>
]
</code></pre>
<p><strong>å…³é”®çº¦æŸæ¡ä»¶</strong>ï¼š</p>
<ul>
<li><code>top[i] = bottom[i-1]</code>ï¼ˆè¿ç»­æ€§ï¼‰</li>
<li><code>bottom[i] = top[i] + height[i]</code></li>
<li><code>height[i]</code> åˆå§‹ä¸ºé¢„ä¼°å€¼ï¼Œæ¸²æŸ“åæ›´æ–°ä¸ºçœŸå®å€¼</li>
</ul>
<h3 data-id="heading-11">æ•´ä½“æ¶æ„å›¾</h3>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Containerï¼ˆå®¹å™¨ï¼‰ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚  height: <span class="hljs-number">400</span>px, overflow: <span class="hljs-keyword">auto</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Phantomï¼ˆå¹½çµå±‚ï¼‰ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚ â”‚
â”‚  â”‚  height: positionCache[last].bottom Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ â”‚
â”‚  â”‚  ä½œç”¨ï¼šæ’‘èµ·æ»šåŠ¨æ¡ï¼Œè®©ç”¨æˆ·æ„Ÿè§‰æœ‰å®Œæ•´åˆ—è¡¨ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ â”‚
â”‚  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚  Contentï¼ˆå†…å®¹å±‚ï¼‰ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  transform: <span class="hljs-built_in">translateY</span>(contentOffset) Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Item [startIndex] Â  Â  height: <span class="hljs-number">80</span>px Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Item [startIndex+<span class="hljs-number">1</span>] Â  height: <span class="hljs-number">120</span>px Â  Â  Â  Â  Â  Â  Â   â”‚ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Item [startIndex+<span class="hljs-number">2</span>] Â  height: <span class="hljs-number">60</span>px Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  ... Â  Â  Â  Â  Â  Â  Â  Â  Â  åªæ¸²æŸ“å¯è§åŒºåŸŸ + ç¼“å†²åŒº Â  Â  Â   â”‚ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-12">ä»£ç å®ç°</h2>
<h3 data-id="heading-13">Step 1ï¼šåˆå§‹åŒ–ä½ç½®ç¼“å­˜</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç”¨é¢„ä¼°é«˜åº¦åˆå§‹åŒ–æ‰€æœ‰å…ƒç´ çš„ä½ç½®ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/** åˆå§‹åŒ–ä½ç½®ç¼“å­˜ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">initPositionCache</span> = (<span class="hljs-params">listData, estimatedHeight</span>) =&gt; {
 Â positionCache.<span class="hljs-property">value</span> = listData.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> ({
 Â  Â index,
 Â  Â <span class="hljs-attr">top</span>: index * estimatedHeight, Â  Â  Â  Â  Â  <span class="hljs-comment">// 0, 50, 100, 150, ...</span>
 Â  Â <span class="hljs-attr">bottom</span>: (index + <span class="hljs-number">1</span>) * estimatedHeight, Â <span class="hljs-comment">// 50, 100, 150, 200, ...</span>
 Â  Â <span class="hljs-attr">height</span>: estimatedHeight Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// 50, 50, 50, 50, ...</span>
  }))
}
</code></pre>
<p>åˆå§‹åŒ–åçš„æ•°æ®ç»“æ„ï¼ˆå‡è®¾ <code>estimatedHeight = 50</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css">Index â”‚ <span class="hljs-attribute">Top</span>  â”‚ <span class="hljs-attribute">Bottom</span> â”‚ <span class="hljs-attribute">Height</span> â”‚ çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  <span class="hljs-number">0</span> Â  â”‚  <span class="hljs-number">0</span> Â  â”‚  <span class="hljs-number">50</span> Â   â”‚  <span class="hljs-number">50</span> Â   â”‚ é¢„ä¼°å€¼
  <span class="hljs-number">1</span> Â  â”‚  <span class="hljs-number">50</span>  â”‚  <span class="hljs-number">100</span> Â  â”‚  <span class="hljs-number">50</span> Â   â”‚ é¢„ä¼°å€¼
  <span class="hljs-number">2</span> Â  â”‚  <span class="hljs-number">100</span> â”‚  <span class="hljs-number">150</span> Â  â”‚  <span class="hljs-number">50</span> Â   â”‚ é¢„ä¼°å€¼
  <span class="hljs-number">3</span> Â  â”‚  <span class="hljs-number">150</span> â”‚  <span class="hljs-number">200</span> Â  â”‚  <span class="hljs-number">50</span> Â   â”‚ é¢„ä¼°å€¼
  <span class="hljs-number">4</span> Â  â”‚  <span class="hljs-number">200</span> â”‚  <span class="hljs-number">250</span> Â  â”‚  <span class="hljs-number">50</span> Â   â”‚ é¢„ä¼°å€¼
 ...  â”‚ ...  â”‚  ... Â  â”‚  ... Â  â”‚ ...
</code></pre>
<h3 data-id="heading-14">Step 2ï¼šè®¡ç®—å¯è§åŒºåŸŸ</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// è®¡ç®—ï¼šå¹½çµå±‚é«˜åº¦ï¼ˆæ’‘èµ·æ»šåŠ¨æ¡ï¼‰</span>
<span class="hljs-keyword">const</span> phantomHeight = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-keyword">const</span> cache = positionCache.<span class="hljs-property">value</span>
 Â <span class="hljs-keyword">if</span> (!cache.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
 Â <span class="hljs-keyword">return</span> cache[cache.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>]?.<span class="hljs-property">bottom</span> || <span class="hljs-number">0</span>
})
â€‹
<span class="hljs-comment">// è®¡ç®—ï¼šå¯è§æ•°é‡ï¼ˆå®¹å™¨èƒ½æ˜¾ç¤ºçš„æ•°é‡ + ç¼“å†²åŒºï¼‰</span>
<span class="hljs-keyword">const</span> visibleCount = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(containerHeight.<span class="hljs-property">value</span> / estimatedHeight.<span class="hljs-property">value</span>) + bufferSize.<span class="hljs-property">value</span>
})
â€‹
<span class="hljs-comment">// è®¡ç®—ï¼šç»“æŸç´¢å¼•</span>
<span class="hljs-keyword">const</span> endIndex = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(startIndex.<span class="hljs-property">value</span> + visibleCount.<span class="hljs-property">value</span>, props.<span class="hljs-property">listData</span>.<span class="hljs-property">length</span>)
})
â€‹
<span class="hljs-comment">// è®¡ç®—ï¼šå¯è§æ•°æ®</span>
<span class="hljs-keyword">const</span> visibleData = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-keyword">return</span> listData.<span class="hljs-property">value</span>.<span class="hljs-title function_">slice</span>(startIndex.<span class="hljs-property">value</span>, endIndex.<span class="hljs-property">value</span>)
})
</code></pre>
<h3 data-id="heading-15">Step 3ï¼šè·å–å¼€å§‹ç´¢å¼•å’Œåç§»é‡</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/** è·å–å¼€å§‹ç´¢å¼• - æ‰¾åˆ°ç¬¬ä¸€ä¸ª bottom &gt; scrollTop çš„å…ƒç´  */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getStartIndex</span> = (<span class="hljs-params">scrollTop</span>) =&gt; {
 Â <span class="hljs-keyword">if</span> (!positionCache.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
 Â <span class="hljs-keyword">const</span> item = positionCache.<span class="hljs-property">value</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item &amp;&amp; item.<span class="hljs-property">bottom</span> &gt; scrollTop)
 Â <span class="hljs-keyword">return</span> item ? item.<span class="hljs-property">index</span> : <span class="hljs-number">0</span>
}
â€‹
<span class="hljs-comment">/** è·å–å†…å®¹åç§»é‡ - ä½¿ç”¨å½“å‰é¡¹çš„ top å€¼ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getContentOffset</span> = (<span class="hljs-params"/>) =&gt; {
 Â <span class="hljs-keyword">if</span> (startIndex.<span class="hljs-property">value</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
 Â <span class="hljs-keyword">const</span> cache = positionCache.<span class="hljs-property">value</span>
 Â <span class="hljs-keyword">return</span> cache[startIndex.<span class="hljs-property">value</span>]?.<span class="hljs-property">top</span> || <span class="hljs-number">0</span>
}
</code></pre>
<h3 data-id="heading-16">Step 4ï¼šæ¸²æŸ“åæ›´æ–°çœŸå®é«˜åº¦</h3>
<p>è¿™æ˜¯åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨çš„<strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/** æ›´æ–°é«˜åº¦ä¿¡æ¯ - æ¸²æŸ“åè·å–çœŸå®é«˜åº¦å¹¶ä¿®æ­£ä½ç½®ç¼“å­˜ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updatePositions</span> = (<span class="hljs-params"/>) =&gt; {
 Â <span class="hljs-comment">// å¦‚æœç»„ä»¶æœªæ¿€æ´»ï¼ˆkeep-alive ç¼“å­˜ä¸­ï¼‰ï¼Œä¸æ›´æ–°</span>
 Â <span class="hljs-keyword">if</span> (!isActive.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>
â€‹
 Â <span class="hljs-keyword">const</span> nodes = itemRefs.<span class="hljs-property">value</span>
 Â <span class="hljs-keyword">if</span> (!nodes.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span>
â€‹
 Â <span class="hljs-keyword">let</span> needUpdate = <span class="hljs-literal">false</span>
â€‹
 Â nodes.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">node, idx</span>) =&gt;</span> {
 Â  Â <span class="hljs-keyword">if</span> (!node) <span class="hljs-keyword">return</span>
â€‹
 Â  Â <span class="hljs-keyword">const</span> realIndex = startIndex.<span class="hljs-property">value</span> + idx
 Â  Â <span class="hljs-keyword">const</span> rect = node.<span class="hljs-title function_">getBoundingClientRect</span>()
 Â  Â <span class="hljs-keyword">const</span> realHeight = rect.<span class="hljs-property">height</span>
â€‹
 Â  Â <span class="hljs-comment">// å¦‚æœé«˜åº¦ä¸º 0ï¼Œè¯´æ˜å…ƒç´ ä¸å¯è§ï¼Œè·³è¿‡</span>
 Â  Â <span class="hljs-keyword">if</span> (realHeight === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>
â€‹
 Â  Â <span class="hljs-keyword">const</span> cachedItem = positionCache.<span class="hljs-property">value</span>[realIndex]
 Â  Â <span class="hljs-keyword">if</span> (!cachedItem) <span class="hljs-keyword">return</span>
â€‹
 Â  Â <span class="hljs-keyword">const</span> oldHeight = cachedItem.<span class="hljs-property">height</span>
 Â  Â <span class="hljs-keyword">const</span> heightDiff = realHeight - oldHeight
â€‹
 Â  Â <span class="hljs-comment">// å…è®¸ 0.5px è¯¯å·®ï¼Œé¿å…æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜</span>
 Â  Â <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(heightDiff) &gt; <span class="hljs-number">0.5</span>) {
 Â  Â  Â needUpdate = <span class="hljs-literal">true</span>
â€‹
 Â  Â  Â <span class="hljs-comment">// 1ï¸âƒ£ æ›´æ–°å½“å‰é¡¹</span>
 Â  Â  Â cachedItem.<span class="hljs-property">height</span> = realHeight
 Â  Â  Â cachedItem.<span class="hljs-property">bottom</span> = cachedItem.<span class="hljs-property">top</span> + realHeight
â€‹
 Â  Â  Â <span class="hljs-comment">// 2ï¸âƒ£ çº§è”æ›´æ–°åç»­æ‰€æœ‰é¡¹çš„ä½ç½®</span>
 Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = realIndex + <span class="hljs-number">1</span>; i &lt; positionCache.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>; i++) {
 Â  Â  Â  Â <span class="hljs-keyword">const</span> prevItem = positionCache.<span class="hljs-property">value</span>[i - <span class="hljs-number">1</span>]
 Â  Â  Â  Â <span class="hljs-keyword">const</span> currItem = positionCache.<span class="hljs-property">value</span>[i]
 Â  Â  Â  Â currItem.<span class="hljs-property">top</span> = prevItem.<span class="hljs-property">bottom</span>
 Â  Â  Â  Â currItem.<span class="hljs-property">bottom</span> = currItem.<span class="hljs-property">top</span> + currItem.<span class="hljs-property">height</span>
 Â  Â   }
 Â   }
  })
â€‹
 Â <span class="hljs-comment">// å¦‚æœæœ‰æ›´æ–°ï¼Œé‡æ–°è®¡ç®—åç§»é‡</span>
 Â <span class="hljs-keyword">if</span> (needUpdate) {
 Â  Â contentOffset.<span class="hljs-property">value</span> = <span class="hljs-title function_">getContentOffset</span>()
  }
}
</code></pre>
<h4 data-id="heading-17">æ›´æ–°æµç¨‹å›¾è§£</h4>
<pre><code class="hljs language-scss" lang="scss">æ¸²æŸ“åæ›´æ–°æµç¨‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€‹
DOM æ¸²æŸ“å®Œæˆ (onUpdated + nextTick)
 Â   â”‚
 Â   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ éå†æ‰€æœ‰æ¸²æŸ“çš„ DOM èŠ‚ç‚¹ Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ itemRefs<span class="hljs-selector-class">.forEach</span>(node =&gt; ...) Â  Â  Â  Â  Â  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  â”‚
 Â  Â  Â  Â  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è·å–çœŸå®é«˜åº¦ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ const { <span class="hljs-attribute">height</span> } = <span class="hljs-built_in">getBoundingClientRect</span>() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  â”‚
 Â  Â  Â  Â  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¡ç®—é«˜åº¦å·® Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ heightDiff = realHeight - oldHeight Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â”‚ ä¾‹å¦‚ï¼šoldHeight=<span class="hljs-number">50</span>, realHeight=<span class="hljs-number">80</span> Â  Â  Â  â”‚
â”‚ heightDiff = <span class="hljs-number">80</span> - <span class="hljs-number">50</span> = <span class="hljs-number">30</span> Â  Â  Â  Â  Â  Â  Â  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  â”‚
 Â  Â  Â  Â  â–¼
 Â   heightDiff !== <span class="hljs-number">0</span> ?
 Â  Â  Â  Â  â”‚
 Â   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
 Â   â”‚ æ˜¯ Â  Â   â”‚ å¦
 Â   â–¼ Â  Â  Â  Â  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ›´æ–°ç¼“å­˜ â”‚  â”‚ è·³è¿‡ Â   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  â”‚
 Â  Â  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-number">1</span>. æ›´æ–°å½“å‰é¡¹çš„ <span class="hljs-attribute">height</span> å’Œ <span class="hljs-attribute">bottom</span> Â  Â  Â  Â  â”‚
â”‚ <span class="hljs-number">2</span>. çº§è”æ›´æ–°åç»­æ‰€æœ‰é¡¹çš„ <span class="hljs-attribute">top</span> å’Œ <span class="hljs-attribute">bottom</span> Â   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-18">Step 5ï¼šæ»šåŠ¨å¤„ç†</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/** æ»šåŠ¨å¤„ç† - ä½¿ç”¨ RAF ä¼˜åŒ–æ€§èƒ½ */</span>
<span class="hljs-keyword">const</span> ticking = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleScroll</span> = (<span class="hljs-params">e</span>) =&gt; {
 Â <span class="hljs-keyword">if</span> (!ticking.<span class="hljs-property">value</span>) {
 Â  Â <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
 Â  Â  Â <span class="hljs-comment">// æ£€æŸ¥ç»„ä»¶æ˜¯å¦è¿˜å­˜åœ¨</span>
 Â  Â  Â <span class="hljs-keyword">if</span> (!containerRef.<span class="hljs-property">value</span>) {
 Â  Â  Â  Â ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
 Â  Â  Â  Â <span class="hljs-keyword">return</span>
 Â  Â   }
â€‹
 Â  Â  Â <span class="hljs-keyword">const</span> newScrollTop = e.<span class="hljs-property">target</span>.<span class="hljs-property">scrollTop</span>
 Â  Â  Â scrollTop.<span class="hljs-property">value</span> = newScrollTop
â€‹
 Â  Â  Â <span class="hljs-comment">// è®¡ç®—æ–°çš„èµ·å§‹ç´¢å¼•</span>
 Â  Â  Â <span class="hljs-keyword">const</span> newStartIndex = <span class="hljs-title function_">getStartIndex</span>(newScrollTop)
 Â  Â  Â 
 Â  Â  Â <span class="hljs-comment">// åªæœ‰ç´¢å¼•å˜åŒ–æ—¶æ‰æ›´æ–°ï¼Œå‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“</span>
 Â  Â  Â <span class="hljs-keyword">if</span> (newStartIndex !== startIndex.<span class="hljs-property">value</span>) {
 Â  Â  Â  Â startIndex.<span class="hljs-property">value</span> = newStartIndex
 Â  Â  Â  Â contentOffset.<span class="hljs-property">value</span> = <span class="hljs-title function_">getContentOffset</span>()
 Â  Â   }
 Â  Â  Â 
 Â  Â  Â ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
 Â   })
 Â  Â ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
  }
}
</code></pre>
<h3 data-id="heading-19">Step 6ï¼šæ¨¡æ¿ç»“æ„</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-comment">&lt;!-- å®¹å™¨ --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
 Â  Â <span class="hljs-attr">ref</span>=<span class="hljs-string">"containerRef"</span> 
 Â  Â <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span> 
 Â  Â <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ height: containerHeight + 'px', width: containerWidth + 'px' }"</span>
 Â &gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- å¹½çµå±‚ï¼šæ’‘èµ·æ»šåŠ¨æ¡ --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
 Â  Â  Â <span class="hljs-attr">ref</span>=<span class="hljs-string">"phantomRef"</span> 
 Â  Â  Â <span class="hljs-attr">class</span>=<span class="hljs-string">"phantom"</span> 
 Â  Â  Â <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ height: phantomHeight + 'px' }"</span>
 Â  Â /&gt;</span>
 Â  Â 
 Â  Â <span class="hljs-comment">&lt;!-- å†…å®¹å±‚ï¼šé€šè¿‡ transform å®šä½ --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
 Â  Â  Â <span class="hljs-attr">ref</span>=<span class="hljs-string">"contentRef"</span> 
 Â  Â  Â <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span> 
 Â  Â  Â <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ transform: `translateY(${contentOffset}px)` }"</span>
 Â  Â &gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
 Â  Â  Â  Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, index) in visibleData"</span> 
 Â  Â  Â  Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"startIndex + index"</span> 
 Â  Â  Â  Â <span class="hljs-attr">:ref</span>=<span class="hljs-string">"el =&gt; setItemRef(el, index)"</span>
 Â  Â  Â  Â <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item"</span>
 Â  Â  Â &gt;</span>
 Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">"item"</span> <span class="hljs-attr">:index</span>=<span class="hljs-string">"startIndex + index"</span>&gt;</span>
 Â  Â  Â  Â   {{ item }}
 Â  Â  Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h3 data-id="heading-20">æ•ˆæœ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df2abc01586c48acac998bb38faadf37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFzaGFu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770787019&amp;x-signature=30zWXrODPacmYzYxrMFiZ6uSs5w%3D" alt="lovegif_1770182005883.gif" loading="lazy"/></p>
<h3 data-id="heading-21">å®Œæ•´ä»£ç </h3>
<p>ğŸ“¦ å®Œæ•´ç»„ä»¶ä»£ç </p>
<pre><code class="hljs language-js" lang="js">&lt;!-- åŠ¨æ€é«˜åº¦list --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å®¹å™¨ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"containerRef"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ height: containerHeight + 'px', width: containerWidth + 'px' }"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å¹½çµé«˜åº¦ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"phantomRef"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"phantom"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ height: phantomHeight + 'px' }"</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å†…å®¹åŒºåŸŸ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"contentRef"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ transform: `translateY(${contentOffset}px)` }"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, index) in visibleData"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"startIndex + index"</span> <span class="hljs-attr">:ref</span>=<span class="hljs-string">"el =&gt; setItemRef(el, index)"</span>
                <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">"item"</span> <span class="hljs-attr">:index</span>=<span class="hljs-string">"startIndex + index"</span>&gt;</span>
                    {{ item }}
                <span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, computed, onMounted, onUnmounted, onActivated, onDeactivated, toRefs, onUpdated, nextTick, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
    <span class="hljs-comment">// æ•°æ®æº</span>
    <span class="hljs-attr">listData</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Array</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-function">() =&gt;</span> []
    },
    <span class="hljs-comment">// é¢„ä¼°é«˜åº¦</span>
    <span class="hljs-attr">estimatedHeight</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-number">50</span>
    },
    <span class="hljs-comment">// å®¹å™¨é«˜åº¦</span>
    <span class="hljs-attr">containerHeight</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-number">400</span>
    },
    <span class="hljs-comment">//å®¹å™¨å®½åº¦</span>
    <span class="hljs-attr">containerWidth</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-number">300</span>
    },
    <span class="hljs-comment">// ç¼“å†²åŒºå¤§å°</span>
    <span class="hljs-attr">bufferSize</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-number">5</span>
    }
})

<span class="hljs-keyword">const</span> { listData, estimatedHeight, containerHeight, bufferSize } = <span class="hljs-title function_">toRefs</span>(props)

<span class="hljs-comment">// å®¹å™¨ ref</span>
<span class="hljs-keyword">const</span> containerRef = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);
<span class="hljs-comment">//åˆ—è¡¨é¡¹ref</span>
<span class="hljs-keyword">const</span> itemRefs = <span class="hljs-title function_">ref</span>([])
<span class="hljs-comment">// ç»„ä»¶æ˜¯å¦æ¿€æ´»ï¼ˆç”¨äº keep-aliveï¼‰</span>
<span class="hljs-keyword">const</span> isActive = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">true</span>)

<span class="hljs-comment">/** ä½ç½®ç¼“å­˜è¡¨ */</span>
<span class="hljs-keyword">const</span> positionCache = <span class="hljs-title function_">ref</span>([])
<span class="hljs-comment">// å½“å‰æ»šåŠ¨ä½ç½®</span>
<span class="hljs-keyword">const</span> scrollTop = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-comment">// å¼€å§‹ç´¢å¼•</span>
<span class="hljs-keyword">const</span> startIndex = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
<span class="hljs-comment">//å†…å®¹åç§»é‡</span>
<span class="hljs-keyword">const</span> contentOffset = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)



<span class="hljs-comment">// è®¡ç®—ï¼šå¹½çµå±‚é«˜åº¦ï¼ˆæ’‘èµ·æ»šåŠ¨æ¡ï¼‰</span>
<span class="hljs-keyword">const</span> phantomHeight = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> cache = positionCache.<span class="hljs-property">value</span>
    <span class="hljs-keyword">if</span> (!cache.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">return</span> cache[cache.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>]?.<span class="hljs-property">bottom</span> || <span class="hljs-number">0</span>
})
<span class="hljs-comment">//è®¡ç®—ï¼š å¯è§æ•°é‡</span>
<span class="hljs-keyword">const</span> visibleCount = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(containerHeight.<span class="hljs-property">value</span> / estimatedHeight.<span class="hljs-property">value</span>) + bufferSize.<span class="hljs-property">value</span>
})
<span class="hljs-comment">//è®¡ç®—: ç»“æŸç´¢å¼•</span>
<span class="hljs-keyword">const</span> endIndex = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(startIndex.<span class="hljs-property">value</span> + visibleCount.<span class="hljs-property">value</span>, props.<span class="hljs-property">listData</span>.<span class="hljs-property">length</span>)
})
<span class="hljs-comment">//è®¡ç®—ï¼šå¯è§æ•°æ®</span>
<span class="hljs-keyword">const</span> visibleData = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> listData.<span class="hljs-property">value</span>.<span class="hljs-title function_">slice</span>(startIndex.<span class="hljs-property">value</span>, endIndex.<span class="hljs-property">value</span>)
})



<span class="hljs-comment">/** åˆå§‹åŒ–ä½ç½® */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">initPositionCache</span> = (<span class="hljs-params">listData, estimatedHeight</span>) =&gt; {
    positionCache.<span class="hljs-property">value</span> = listData.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> {
            index,
            <span class="hljs-attr">top</span>: index * estimatedHeight,
            <span class="hljs-attr">bottom</span>: (index + <span class="hljs-number">1</span>) * estimatedHeight,
            <span class="hljs-attr">height</span>: estimatedHeight
        }
    })
}

<span class="hljs-comment">/** è·å–å¼€å§‹ç´¢å¼• */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getStartIndex</span> = (<span class="hljs-params">scrollTop</span>) =&gt; {
    <span class="hljs-keyword">if</span> (!positionCache.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">const</span> item = positionCache.<span class="hljs-property">value</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item &amp;&amp; item.<span class="hljs-property">bottom</span> &gt; scrollTop)
    <span class="hljs-keyword">return</span> item ? item.<span class="hljs-property">index</span> : <span class="hljs-number">0</span>
}

<span class="hljs-comment">/** è·å–åç§»é‡ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getContentOffset</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (startIndex.<span class="hljs-property">value</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">const</span> cache = positionCache.<span class="hljs-property">value</span>
    <span class="hljs-keyword">return</span> cache[startIndex.<span class="hljs-property">value</span>]?.<span class="hljs-property">top</span> || <span class="hljs-number">0</span>
}

<span class="hljs-comment">/** è®¾ç½®åˆ—è¡¨é¡¹ refï¼ˆå‡½æ•°å½¢å¼ï¼‰ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">setItemRef</span> = (<span class="hljs-params">el, index</span>) =&gt; {
    <span class="hljs-keyword">if</span> (el) {
        itemRefs.<span class="hljs-property">value</span>[index] = el
    }
}


<span class="hljs-comment">/** æ›´æ–°é«˜åº¦ä¿¡æ¯ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updatePositions</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// å¦‚æœç»„ä»¶æœªæ¿€æ´»ï¼ˆkeep-alive ç¼“å­˜ä¸­ï¼‰ï¼Œä¸æ›´æ–°</span>
    <span class="hljs-keyword">if</span> (!isActive.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">const</span> nodes = itemRefs.<span class="hljs-property">value</span>
    <span class="hljs-keyword">if</span> (!nodes.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">let</span> needUpdate = <span class="hljs-literal">false</span>

    nodes.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">node, idx</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (!node) <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">const</span> realIndex = startIndex.<span class="hljs-property">value</span> + idx
        <span class="hljs-keyword">const</span> rect = node.<span class="hljs-title function_">getBoundingClientRect</span>()
        <span class="hljs-keyword">const</span> realHeight = rect.<span class="hljs-property">height</span>

        <span class="hljs-comment">// å¦‚æœé«˜åº¦ä¸º 0ï¼Œè¯´æ˜å…ƒç´ ä¸å¯è§ï¼Œè·³è¿‡</span>
        <span class="hljs-keyword">if</span> (realHeight === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">const</span> cachedItem = positionCache.<span class="hljs-property">value</span>[realIndex]

        <span class="hljs-keyword">if</span> (!cachedItem) <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">const</span> oldHeight = cachedItem.<span class="hljs-property">height</span>
        <span class="hljs-keyword">const</span> heightDiff = realHeight - oldHeight

        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(heightDiff) &gt; <span class="hljs-number">0.5</span>) {  <span class="hljs-comment">// å…è®¸ 0.5px è¯¯å·®</span>
            needUpdate = <span class="hljs-literal">true</span>

            <span class="hljs-comment">// æ›´æ–°å½“å‰é¡¹</span>
            cachedItem.<span class="hljs-property">height</span> = realHeight
            cachedItem.<span class="hljs-property">bottom</span> = cachedItem.<span class="hljs-property">top</span> + realHeight

            <span class="hljs-comment">// æ›´æ–°åç»­æ‰€æœ‰é¡¹çš„ä½ç½®</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = realIndex + <span class="hljs-number">1</span>; i &lt; positionCache.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>; i++) {
                <span class="hljs-keyword">const</span> prevItem = positionCache.<span class="hljs-property">value</span>[i - <span class="hljs-number">1</span>]
                <span class="hljs-keyword">const</span> currItem = positionCache.<span class="hljs-property">value</span>[i]
                currItem.<span class="hljs-property">top</span> = prevItem.<span class="hljs-property">bottom</span>
                currItem.<span class="hljs-property">bottom</span> = currItem.<span class="hljs-property">top</span> + currItem.<span class="hljs-property">height</span>
            }
        }
    })

    <span class="hljs-comment">// å¦‚æœæœ‰æ›´æ–°ï¼Œé‡æ–°è®¡ç®—åç§»é‡</span>
    <span class="hljs-keyword">if</span> (needUpdate) {
        contentOffset.<span class="hljs-property">value</span> = <span class="hljs-title function_">getContentOffset</span>()
    }

}



<span class="hljs-comment">/** æ»šåŠ¨å¤„ç† RAF */</span>
<span class="hljs-keyword">const</span> ticking = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleScroll</span> = (<span class="hljs-params">e</span>) =&gt; {
    <span class="hljs-keyword">if</span> (!ticking.<span class="hljs-property">value</span>) {
        <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-comment">// æ£€æŸ¥ç»„ä»¶æ˜¯å¦è¿˜å­˜åœ¨</span>
            <span class="hljs-keyword">if</span> (!containerRef.<span class="hljs-property">value</span>) {
                ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
                <span class="hljs-keyword">return</span>
            }

            <span class="hljs-keyword">const</span> newScrollTop = e.<span class="hljs-property">target</span>.<span class="hljs-property">scrollTop</span>
            scrollTop.<span class="hljs-property">value</span> = newScrollTop

            <span class="hljs-comment">// è®¡ç®—æ–°çš„èµ·å§‹ç´¢å¼•</span>
            <span class="hljs-keyword">const</span> newStartIndex = <span class="hljs-title function_">getStartIndex</span>(newScrollTop)
            <span class="hljs-comment">// åªæœ‰ç´¢å¼•å˜åŒ–æ—¶æ‰æ›´æ–°</span>
            <span class="hljs-keyword">if</span> (newStartIndex !== startIndex.<span class="hljs-property">value</span>) {
                startIndex.<span class="hljs-property">value</span> = newStartIndex
                contentOffset.<span class="hljs-property">value</span> = <span class="hljs-title function_">getContentOffset</span>()
            }
            ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
        })
        ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    }
}


<span class="hljs-comment">/** ç”Ÿå‘½å‘¨æœŸ */</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ç»‘å®šæ»šåŠ¨äº‹ä»¶ï¼ˆåˆå§‹åŒ–ç§»åˆ° watch ä¸­å¤„ç†ï¼‰</span>
    containerRef.<span class="hljs-property">value</span>?.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll, { <span class="hljs-attr">passive</span>: <span class="hljs-literal">true</span> })
})


<span class="hljs-title function_">onUpdated</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">nextTick</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">updatePositions</span>()
    })
})

<span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
    containerRef.<span class="hljs-property">value</span>?.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll)
    <span class="hljs-comment">// æ¸…ç©ºçŠ¶æ€ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼å’Œå½±å“å…¶ä»–é¡µé¢</span>
    itemRefs.<span class="hljs-property">value</span> = []
    positionCache.<span class="hljs-property">value</span> = []
    ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    isActive.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
})

<span class="hljs-comment">// keep-alive æ¿€æ´»æ—¶</span>
<span class="hljs-title function_">onActivated</span>(<span class="hljs-function">() =&gt;</span> {
    isActive.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    <span class="hljs-comment">// é‡æ–°ç»‘å®šæ»šåŠ¨äº‹ä»¶ï¼ˆä»¥é˜²ä¸‡ä¸€ï¼‰</span>
    containerRef.<span class="hljs-property">value</span>?.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll, { <span class="hljs-attr">passive</span>: <span class="hljs-literal">true</span> })
})

<span class="hljs-comment">// keep-alive åœç”¨æ—¶</span>
<span class="hljs-title function_">onDeactivated</span>(<span class="hljs-function">() =&gt;</span> {
    isActive.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    <span class="hljs-comment">// ç§»é™¤æ»šåŠ¨äº‹ä»¶ï¼Œé˜²æ­¢åœ¨åå°è§¦å‘</span>
    containerRef.<span class="hljs-property">value</span>?.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll)
})

<span class="hljs-comment">// ç›‘å¬æ•°æ®å˜åŒ–ï¼Œé‡æ–°åˆå§‹åŒ–ä½ç½®ç¼“å­˜</span>
<span class="hljs-title function_">watch</span>(
    <span class="hljs-function">() =&gt;</span> props.<span class="hljs-property">listData</span>,
    <span class="hljs-function">(<span class="hljs-params">newData</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (newData &amp;&amp; newData.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// æ¸…ç©ºæ—§çš„ refs</span>
            itemRefs.<span class="hljs-property">value</span> = []
            <span class="hljs-comment">// é‡æ–°åˆå§‹åŒ–ä½ç½®ç¼“å­˜</span>
            <span class="hljs-title function_">initPositionCache</span>(newData, estimatedHeight.<span class="hljs-property">value</span>)
            <span class="hljs-comment">// é‡ç½®æ»šåŠ¨çŠ¶æ€</span>
            scrollTop.<span class="hljs-property">value</span> = <span class="hljs-number">0</span>
            startIndex.<span class="hljs-property">value</span> = <span class="hljs-number">0</span>
            contentOffset.<span class="hljs-property">value</span> = <span class="hljs-number">0</span>
            <span class="hljs-comment">// é‡ç½®å®¹å™¨æ»šåŠ¨ä½ç½®</span>
            <span class="hljs-keyword">if</span> (containerRef.<span class="hljs-property">value</span>) {
                containerRef.<span class="hljs-property">value</span>.<span class="hljs-property">scrollTop</span> = <span class="hljs-number">0</span>
            }
        }
    },
    {
        <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// ç«‹å³æ‰§è¡Œä¸€æ¬¡ï¼ˆå¤„ç†åˆå§‹æ•°æ®ï¼‰</span>
        <span class="hljs-attr">deep</span>: <span class="hljs-literal">false</span>       <span class="hljs-comment">// ä¸éœ€è¦æ·±åº¦ç›‘å¬ï¼Œåªç›‘å¬æ•°ç»„å¼•ç”¨å˜åŒ–</span>
    }
)

</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"less"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.container</span> {
    <span class="hljs-attribute">position</span>: relative;
    <span class="hljs-attribute">overflow-y</span>: auto;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e4e7ed</span>;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
    // ä¼˜åŒ–æ»šåŠ¨æ€§èƒ½
    <span class="hljs-attribute">will-change</span>: transform;
    -webkit-<span class="hljs-attribute">overflow</span>-scrolling: touch;
}

<span class="hljs-selector-class">.phantom</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">z-index</span>: -<span class="hljs-number">1</span>;
}

<span class="hljs-selector-class">.content</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">will-change</span>: transform;
}

<span class="hljs-selector-class">.list-item</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">16px</span>;
    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#f0f0f0</span>;
    <span class="hljs-attribute">box-sizing</span>: border-box;
    <span class="hljs-attribute">word-break</span>: break-word;

    &amp;<span class="hljs-selector-pseudo">:last-child</span> {
        <span class="hljs-attribute">border-bottom</span>: none;
    }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
</code></pre>
<h2 data-id="heading-22">ğŸ‰ ç»“è¯­</h2>
<p>åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨æ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¸­çš„é‡è¦æŠ€æœ¯ï¼ŒæŒæ¡å®ƒå¯ä»¥è®©ä½ è½»æ¾åº”å¯¹å„ç§é•¿åˆ—è¡¨åœºæ™¯ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ·±å…¥ç†è§£å…¶åŸç†å¹¶åº”ç”¨åˆ°å®é™…é¡¹ç›®ä¸­ï¼</p>
<p>å¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµæ”¶è— ğŸ‘</p>
<blockquote>
<p><strong>ä¸‹æœŸé¢„å‘Š</strong>ï¼šè™šæ‹Ÿåˆ—è¡¨ç³»åˆ—ï¼ˆ3ï¼‰â€”â€” ä¼˜åŒ–æ€§èƒ½</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘åšäº†ä¸ª OpenClaw å…¥é—¨ç«™ï¼Œ7å¤©æ•™ç¨‹ + 70ç¯‡èµ„æºå…¨ç½‘æœ€å…¨]]></title>    <link>https://juejin.cn/post/7602466689713389583</link>    <guid>https://juejin.cn/post/7602466689713389583</guid>    <pubDate>2026-02-04T05:33:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602466689713389583" data-draft-id="7602474148095705140" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘åšäº†ä¸ª OpenClaw å…¥é—¨ç«™ï¼Œ7å¤©æ•™ç¨‹ + 70ç¯‡èµ„æºå…¨ç½‘æœ€å…¨"/> <meta itemprop="keywords" content="AIGC,AIç¼–ç¨‹,Agent"/> <meta itemprop="datePublished" content="2026-02-04T05:33:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­Ÿå¥AIç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/4212984287073895"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘åšäº†ä¸ª OpenClaw å…¥é—¨ç«™ï¼Œ7å¤©æ•™ç¨‹ + 70ç¯‡èµ„æºå…¨ç½‘æœ€å…¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984287073895/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­Ÿå¥AIç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:33:31.000Z" title="Wed Feb 04 2026 05:33:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å­Ÿå¥ã€‚</p>
<p><strong>10 ä¸‡ Star çš„ AI åŠ©æ‰‹é¡¹ç›®ï¼Œä¸­æ–‡æ•™ç¨‹å±…ç„¶è¿˜æ²¡äººç³»ç»Ÿæ•´ç†ã€‚</strong></p>
<p>æ‰€ä»¥æˆ‘èŠ±äº†ä¸¤å¤©ï¼Œåšäº†ä¸€ä¸ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2F" target="_blank" title="https://openclaw101.dev/" ref="nofollow noopener noreferrer">openclaw101.dev</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16462e6a35694503bcac49035573bd31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788014&amp;x-signature=tiwNpYRmKgqTiVNzbfsR4wfXhXU%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">01 ä¸ºä»€ä¹ˆåšè¿™ä¸ªç«™</h2>
<p>OpenClawï¼ˆåŸ Clawdbot/Moltbotï¼‰æœ€è¿‘ç«å¾—ä¸€å¡Œç³Šæ¶‚ã€‚</p>
<p>GitHub ä¸Š 10 ä¸‡+ Starï¼ŒForbesã€CNBCã€The Verge è½®ç•ªæŠ¥é“ã€‚</p>
<p>ä½†ä½ å»æœæ•™ç¨‹ï¼Œä¼šå‘ç°ï¼š</p>
<ul>
<li>
<p>å®˜æ–¹æ–‡æ¡£æ˜¯è‹±æ–‡çš„ï¼Œè¿˜å¾ˆé›¶æ•£</p>
</li>
<li>
<p>ä¸­æ–‡æ•™ç¨‹è¦ä¹ˆå¤ªæµ…ï¼Œè¦ä¹ˆå¤ªè€</p>
</li>
<li>
<p>æƒ³ç³»ç»Ÿå­¦ä¹ ï¼Ÿæ‰¾ä¸åˆ°è·¯å¾„</p>
</li>
</ul>
<p><strong>æˆ‘å†³å®šæŠŠè¿™ä¸ªé—¨æ§›è¸©å¹³ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a17e7224f5d14b58b35508dcf2e885f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788014&amp;x-signature=IATMgjn5SaUNJ1HS38RFyt%2B1Qgc%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">02 7 å¤©å­¦ä¹ è·¯å¾„</h2>
<p>æˆ‘æŠŠ OpenClaw çš„å­¦ä¹ æ‹†æˆäº† 7 å¤©ï¼š</p>













































<table><thead><tr><th>Day</th><th>ä¸»é¢˜</th><th>ä½ ä¼šè·å¾—</th></tr></thead><tbody><tr><td>1</td><td>è®¤è¯† OpenClaw</td><td>ç†è§£å®ƒå’Œ ChatGPT çš„æœ¬è´¨åŒºåˆ«</td></tr><tr><td>2</td><td>å®‰è£…éƒ¨ç½²</td><td>10 åˆ†é’Ÿè·‘èµ·æ¥ç¬¬ä¸€ä¸ªåŠ©æ‰‹</td></tr><tr><td>3</td><td>èµ‹äºˆçµé­‚</td><td>SOUL.md / USER.md é…ç½®</td></tr><tr><td>4</td><td>æ¥å…¥ç”Ÿæ´»</td><td>Gmailã€æ—¥å†ã€æœç´¢å¯¹æ¥</td></tr><tr><td>5</td><td>æŠ€èƒ½æ‰©å±•</td><td>å®‰è£… 700+ Skills</td></tr><tr><td>6</td><td>ä¸»åŠ¨å·¥ä½œ</td><td>å¿ƒè·³æœºåˆ¶ + å®šæ—¶ä»»åŠ¡</td></tr><tr><td>7</td><td>è¿›é˜¶ç©æ³•</td><td>è‡ªå®šä¹‰å¼€å‘ + å®‰å…¨é…ç½®</td></tr></tbody></table>
<p>æ¯å¤©ä¸€ä¸ªä¸»é¢˜ï¼Œè·Ÿç€åšå°±å®Œäº‹äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2347f6325c0491382730c91987602e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788014&amp;x-signature=TgOpRFH1UvcMssl2Dj44i11NTAo%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸æ˜¯è®©ä½ "äº†è§£"ï¼Œæ˜¯è®©ä½ "ç”¨ä¸Š"ã€‚</strong></p>
<p>ä¸­æ–‡ç‰ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2Fzh" target="_blank" title="https://openclaw101.dev/zh" ref="nofollow noopener noreferrer">openclaw101.dev/zh</a></p>
<p>è‹±æ–‡ç‰ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2F" target="_blank" title="https://openclaw101.dev/" ref="nofollow noopener noreferrer">openclaw101.dev</a></p>
<hr/>
<h2 data-id="heading-2">03 70+ ç²¾é€‰èµ„æº</h2>
<p>æˆ‘æŠŠå…¨ç½‘çš„ OpenClaw æ•™ç¨‹æ‰«äº†ä¸€éï¼Œç²¾é€‰äº† <strong>70 å¤šç¯‡</strong> æœ€æœ‰ä»·å€¼çš„ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebb8700a37a94883966a6b973ef17940~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788014&amp;x-signature=pCDldHCBlXylGQVog%2Fv2YfjFRVE%3D" alt="" loading="lazy"/></p>
<p><strong>äº‘å¹³å°éƒ¨ç½²</strong></p>
<ul>
<li>
<p>é˜¿é‡Œäº‘ä¸€é”®éƒ¨ç½²ï¼ˆé’‰é’‰/ä¼å¾®ï¼‰</p>
</li>
<li>
<p>è…¾è®¯äº‘ Lighthouseï¼ˆé£ä¹¦/ä¼å¾®ï¼‰</p>
</li>
<li>
<p>AWS Mac å®ä¾‹ï¼ˆè‹¹æœç”Ÿæ€è‡ªåŠ¨åŒ–ï¼‰</p>
</li>
<li>
<p>DigitalOcean ä¸€é”®æ–¹æ¡ˆ</p>
</li>
</ul>
<p><strong>å…¥é—¨æ•™ç¨‹</strong></p>
<ul>
<li>
<p>èœé¸Ÿæ•™ç¨‹å®Œæ•´ç‰ˆ</p>
</li>
<li>
<p>Codecademy ç»“æ„åŒ–æ•™ç¨‹</p>
</li>
<li>
<p>DataCamp WhatsApp è¿œç¨‹æ§åˆ¶</p>
</li>
<li>
<p>æ˜é‡‘/CSDN/åšå®¢å›­ ä¿å§†çº§æ•™ç¨‹è‹¥å¹²</p>
</li>
</ul>
<p><strong>æ·±åº¦æ–‡ç« </strong></p>
<ul>
<li>
<p>IBM æ¶æ„åˆ†æ</p>
</li>
<li>
<p>Scientific American ç§‘æ™®</p>
</li>
<li>
<p>The Hacker News å®‰å…¨è­¦ç¤ºï¼ˆ341 ä¸ªæ¶æ„æŠ€èƒ½æ›å…‰ï¼‰</p>
</li>
<li>
<p>Cisco ä¼ä¸šå®‰å…¨åˆ†æ</p>
</li>
</ul>
<p><strong>è§†é¢‘æ•™ç¨‹</strong></p>
<ul>
<li>
<p>B ç«™ï¼šæ¶æ„è§£æã€è®°å¿†ç³»ç»Ÿæ‹†è§£ã€éƒ¨ç½²æ•™ç¨‹</p>
</li>
<li>
<p>YouTubeï¼šè‹±æ–‡å…¥é—¨æ•™ç¨‹</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46622fa8e195468c9c7f37592b9b165c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788014&amp;x-signature=6acvBhO1J1fzvmFoCrf%2BmyPd%2FbE%3D" alt="" loading="lazy"/></p>
<p>å…¨éƒ¨åˆ†ç±»æ•´ç†å¥½äº†ï¼Œä¸­è‹±æ–‡éƒ½æœ‰ï¼Œç›´æ¥å»çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2Fresources" target="_blank" title="https://openclaw101.dev/resources" ref="nofollow noopener noreferrer">openclaw101.dev/resources</a></p>
<hr/>
<h2 data-id="heading-3">04 ä¸ºä»€ä¹ˆç°åœ¨å€¼å¾—å­¦</h2>
<p>ä¸‰ä¸ªåŸå› ï¼š</p>
<ol>
<li><strong>AI Agent å…ƒå¹´</strong></li>
</ol>
<p>2025 å¹´åº• AI æ¨¡å‹è·¨è¿‡äº†ä¸€ä¸ªä¸´ç•Œç‚¹â€”â€”èƒ½å¤šæ­¥æ¨ç†ã€èƒ½æŒç»­ä¸Šä¸‹æ–‡ã€èƒ½è‡ªå·±å†™ä»£ç æ‰§è¡Œã€‚OpenClaw æ˜¯ç¬¬ä¸€æ‰¹åƒåˆ°çº¢åˆ©çš„é¡¹ç›®ã€‚</p>
<ol start="2">
<li><strong>æ—©å­¦æ—©å—ç›Š</strong></li>
</ol>
<p>AI åŠ©æ‰‹å’Œä¼ ç»Ÿè½¯ä»¶æœ€å¤§çš„åŒºåˆ«æ˜¯ï¼š<strong>å®ƒä¼šéšæ—¶é—´å˜å¥½</strong>ã€‚ä½ çš„ MEMORY.md ä¼šç§¯ç´¯åå¥½ï¼ŒæŠ€èƒ½ä¼šè¶Šè£…è¶Šå¤šã€‚ä»Šå¤©ä¸å¼€å§‹ï¼Œå°±æ˜¯æ™šä¸€å¤©è®©åŠ©æ‰‹è®¤è¯†ä½ ã€‚</p>
<ol start="3">
<li><strong>ç«äº‰æ‰åˆšå¼€å§‹</strong></li>
</ol>
<p>ç°åœ¨ç”¨ OpenClaw çš„äººè¿˜ä¸å¤šï¼Œä¼šé…ç½®çš„æ›´å°‘ã€‚è¿™æ˜¯ä¸€ä¸ªçª—å£æœŸã€‚ç­‰åŠå¹´åäººäººéƒ½ä¼šç”¨äº†ï¼Œçº¢åˆ©å°±æ²¡äº†ã€‚</p>
<p><strong>å·¥å…·å°±æ‘†åœ¨é‚£é‡Œã€‚ç”¨ä¸ç”¨ï¼Œæ˜¯ä½ çš„äº‹ã€‚</strong></p>
<hr/>
<h2 data-id="heading-4">05 ä¸€ç‚¹æ„Ÿæƒ³</h2>
<p>æˆ‘åšè¿™ä¸ªç«™ï¼Œä¸æ˜¯ä¸ºäº†æµé‡ã€‚</p>
<p>æ˜¯å› ä¸ºæˆ‘è‡ªå·±åœ¨ç”¨ OpenClawï¼Œæˆ‘çš„ AI åŠ©æ‰‹ã€Œå°å¢¨ã€å°±è·‘åœ¨ä¸Šé¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8b9cd91aeb14d03bc512a257f014a3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788014&amp;x-signature=Bi7F%2BZm%2B2c3FLh1b4UHycoDhf%2F0%3D" alt="" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fxiaomo.dev%2F" target="_blank" title="https://xiaomo.dev/" ref="nofollow noopener noreferrer">xiaomo.dev/</a></p>
<p>å®ƒæ¯å¤©å¸®æˆ‘æ£€æŸ¥é‚®ä»¶ã€ç®¡ç†æ—¥å†ã€åˆ†ææ•°æ®ã€å†™ä»£ç ã€‚æˆ‘æƒ³è®©æ›´å¤šäººä½“éªŒåˆ°è¿™ç§æ•ˆç‡æ æ†ã€‚</p>
<p>è¿™ä¸ªé¡¹ç›®å®Œå…¨å¼€æºï¼Œç«™ç‚¹ä»£ç ä¹Ÿå¼€æºã€‚å¦‚æœä½ è§‰å¾—æœ‰ç”¨ï¼Œå¸®æˆ‘ç‚¹ä¸ª Star æˆ–è€…è½¬å‘ä¸€ä¸‹ï¼Œå°±æ˜¯æœ€å¤§çš„æ”¯æŒã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmengjian-github%2Fopenclaw101" target="_blank" title="https://github.com/mengjian-github/openclaw101" ref="nofollow noopener noreferrer">github.com/mengjian-giâ€¦</a></p>
<hr/>
<h2 data-id="heading-5">å†™åœ¨æœ€å</h2>
<ul>
<li>
<p>7 å¤©æ•™ç¨‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2Fzh" target="_blank" title="https://openclaw101.dev/zh" ref="nofollow noopener noreferrer">openclaw101.dev/zh</a></p>
</li>
<li>
<p>èµ„æºèšåˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2Fresources" target="_blank" title="https://openclaw101.dev/resources" ref="nofollow noopener noreferrer">openclaw101.dev/resources</a></p>
</li>
<li>
<p>é£ä¹¦ç‰ˆæœ¬ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmy.feishu.cn%2Fwiki%2FYkWgwqSchi9xW3kEuZscAm0lnFf" target="_blank" title="https://my.feishu.cn/wiki/YkWgwqSchi9xW3kEuZscAm0lnFf" ref="nofollow noopener noreferrer">å°å¢¨ AI åŠ©æ‰‹ â€” OpenClaw 7å¤©æ­å»ºæŒ‡å—</a></p>
</li>
</ul>
<p><strong>è¿™ä¸æ˜¯æœªæ¥ã€‚è¿™æ˜¯ç°åœ¨å·²ç»åœ¨è·‘çš„ä¸œè¥¿ã€‚</strong></p>
<hr/>
<p>å¦‚æœè¿™ç¯‡å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€å…³æ³¨ï¼Œä½ çš„æ”¯æŒæ˜¯æˆ‘æŒç»­è¾“å‡ºçš„åŠ¨åŠ› âœ¨</p>
<hr/>
<p>æˆ‘çš„å…¶ä»–å¹³å°è´¦å·å’Œå¼€æºé¡¹ç›®åœ¨ä¸ªäººä¸»é¡µä¸­ï¼Œæ¬¢è¿äº¤æµ ğŸ¤</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python Pillow ä¼˜åŒ–ï¼Œæ‰“å¼€å’Œä¿å­˜é€Ÿåº¦æœ€å¿«æé«˜14å€]]></title>    <link>https://juejin.cn/post/7602544700475293706</link>    <guid>https://juejin.cn/post/7602544700475293706</guid>    <pubDate>2026-02-04T05:35:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602544700475293706" data-draft-id="7602551091516882953" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python Pillow ä¼˜åŒ–ï¼Œæ‰“å¼€å’Œä¿å­˜é€Ÿåº¦æœ€å¿«æé«˜14å€"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-02-04T05:35:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ·±åº¦æ¶Œç°"/> <meta itemprop="url" content="https://juejin.cn/user/2524932621734990"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python Pillow ä¼˜åŒ–ï¼Œæ‰“å¼€å’Œä¿å­˜é€Ÿåº¦æœ€å¿«æé«˜14å€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2524932621734990/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ·±åº¦æ¶Œç°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:35:47.000Z" title="Wed Feb 04 2026 05:35:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Tachyonåˆ†æå™¨</h2>
<p>æˆ‘è¯•ç”¨äº†<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.python.org%2Fdownloads%2Flatest%2Fpython3.15%2F" target="_blank" title="https://www.python.org/downloads/latest/python3.15/" ref="nofollow noopener noreferrer">Python 3.15</a>ä¸­æ–°å¢çš„â€œé«˜é¢‘ç»Ÿè®¡é‡‡æ ·åˆ†æå™¨â€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.python.org%2F3.15%2Fwhatsnew%2F3.15.html%23whatsnew315-sampling-profiler" target="_blank" title="https://docs.python.org/3.15/whatsnew/3.15.html#whatsnew315-sampling-profiler" ref="nofollow noopener noreferrer">Tachyon</a> ï¼Œçœ‹çœ‹èƒ½å¦æå‡ Pillow å›¾åƒå¤„ç†åº“çš„è¿è¡Œé€Ÿåº¦ã€‚æˆ‘é¦–å…ˆç¼–å†™äº†ä¸€ä¸ªç®€å•çš„è„šæœ¬æ¥æ‰“å¼€å›¾åƒï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image

im = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">f"Tests/images/hopper.<span class="hljs-subst">{sys.argv[<span class="hljs-number">1</span>]}</span>"</span>)
</code></pre>
<p>ç„¶åè¿è¡Œï¼š</p>
<pre><code class="hljs language-console" lang="console"><span class="hljs-meta prompt_">$ </span><span class="bash">python3.15 -m profiling.sampling run --flamegraph /tmp/1.py png</span>
Captured 35 samples in 0.04 seconds
Sample rate: 1,000.00 samples/sec
Error rate: 25.71
Flamegraph data: 1 root functions, total samples: 26, 169 unique strings
Flamegraph saved to: flamegraph_97927.html
</code></pre>
<p>ç”±æ­¤ç”Ÿæˆä»¥ä¸‹ç«ç„°å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0efd59e7112422abeded620541bd2c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex5bqm5raM546w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788149&amp;x-signature=ODDjO2PKj5VH76Aab9I5NNU4Wg4%3D" alt="Flame graph for opening a PNG with Pillow" loading="lazy"/></p>
<p>æ•´ä¸ªè¿‡ç¨‹è€—æ—¶ 40 æ¯«ç§’ï¼Œå…¶ä¸­ä¸€åŠåœ¨ <code>Image.py</code> çš„ <code>open()</code> ä¸­å®Œæˆã€‚å¦‚æœæ‚¨è®¿é—®<a href="https://link.juejin.cn?target=https%3A%2F%2Fhugovk.dev%2Fblog%2F2026%2Ffaster-pillow%2Fflamegraph_97927.html" target="_blank" title="https://hugovk.dev/blog/2026/faster-pillow/flamegraph_97927.html" ref="nofollow noopener noreferrer">äº¤äº’å¼ HTML é¡µé¢</a>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>open()</code> è°ƒç”¨ <code>preinit()</code>ï¼Œè€Œ <code>preinit()</code> åˆå¯¼å…¥äº† <code>GifImagePlugin</code>ã€<code>BmpImagePlugin</code>ã€<code>PngImagePlugin</code> å’Œ <code>JpegImagePlugin</code>ï¼ˆå°†é¼ æ ‡æ‚¬åœåœ¨ <code>&lt;module&gt;</code> æ¡†ä¸Šå³å¯æŸ¥çœ‹å®ƒä»¬ï¼‰ã€‚</p>
<p>æˆ‘ä»¬åªéœ€è¦ PNG æ ¼å¼ï¼ŒçœŸçš„éœ€è¦å¯¼å…¥æ‰€æœ‰è¿™äº›æ’ä»¶å—ï¼Ÿ</p>
<p>å¥½çš„ï¼Œæˆ‘ä»¬æ¥å°è¯•å¦ä¸€ç§ç±»å‹çš„å›¾åƒï¼š</p>
<pre><code class="hljs language-console" lang="console"><span class="hljs-meta prompt_">$ </span><span class="bash">python3.15 -m profiling.sampling run --flamegraph /tmp/1.py webp</span>
Captured 59 samples in 0.06 seconds
Sample rate: 1,000.00 samples/sec
Error rate: 22.03
Flamegraph data: 1 root functions, total samples: 46, 256 unique strings
Flamegraph saved to: flamegraph_98028.html
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e9c0cbd44ab4687902cdec3be05897f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex5bqm5raM546w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788149&amp;x-signature=cy556qq4eafDc9uRJjhybRzxbEI%3D" alt="Flame graph for opening a WebP with Pillow" loading="lazy"/></p>
<p>å—¯ï¼Œè€—æ—¶ 60 æ¯«ç§’ï¼Œå…¶ä¸­ 80% çš„æ—¶é—´åœ¨ <code>open()</code> ä¸­ï¼Œè€Œè¿™ 80% çš„æ—¶é—´åˆå¤§éƒ¨åˆ†åœ¨ <code>init()</code> ä¸­ã€‚HTML<a href="https://link.juejin.cn?target=https%3A%2F%2Fhugovk.dev%2Fblog%2F2026%2Ffaster-pillow%2Fflamegraph_98028.html" target="_blank" title="https://hugovk.dev/blog/2026/faster-pillow/flamegraph_98028.html" ref="nofollow noopener noreferrer">é¡µé¢</a>æ˜¾ç¤ºå®ƒå¯¼å…¥äº† <code>AvifImagePlugin</code>ã€<code>PdfImagePlugin</code>ã€<code>WebpImagePlugin</code>ã€<code>DcxImagePlugin</code>ã€<code>DdsImagePlugin</code> å’Œ <code>PalmImagePlugin</code>ã€‚æ­¤å¤–ï¼Œ<code>preinit</code> è¿˜å¯¼å…¥äº† <code>GifImagePlugin</code>ã€<code>BmpImagePlugin</code> å’Œ <code>PngImagePlugin</code>ã€‚</p>
<p>å†è¯´ä¸€éï¼Œæ—¢ç„¶æˆ‘ä»¬åªå…³å¿ƒ WebPï¼Œä¸ºä»€ä¹ˆè¿˜è¦å¯¼å…¥<em>æ›´å¤š</em>æ’ä»¶å‘¢ï¼Ÿ</p>
<h2 data-id="heading-1">æ­£åœ¨åŠ è½½æ‰€æœ‰æ’ä»¶ï¼Ÿ</h2>
<p>åˆ†æå°±åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä»£ç ã€‚</p>
<p>å½“å¯¹å›¾åƒè¿›è¡Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FImage.py%23L3525" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/Image.py#L3525" ref="nofollow noopener noreferrer"><code>open()</code></a>æˆ–<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FImage.py%23L2536" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/Image.py#L2536" ref="nofollow noopener noreferrer"><code>save()</code></a>å¤„ç†æ—¶ï¼Œå¦‚æœ Pillow å°šæœªåˆå§‹åŒ–ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FImage.py%23L327-L369" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/Image.py#L327-L369" ref="nofollow noopener noreferrer"><code>preinit()</code></a>å‡½æ•°ã€‚è¯¥å‡½æ•°é€šè¿‡å¯¼å…¥æ’ä»¶æ¥åŠ è½½äº”ç§æ ¼å¼çš„é©±åŠ¨ç¨‹åºï¼šBMPã€GIFã€JPEGã€PPM å’Œ PNGã€‚</p>
<p>å¯¼å…¥è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªæ’ä»¶<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FGifImagePlugin.py%23L1204-L1211" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/GifImagePlugin.py#L1204-L1211" ref="nofollow noopener noreferrer">éƒ½ä¼šæ³¨å†Œ</a>å…¶æ–‡ä»¶æ‰©å±•åã€MIME ç±»å‹ä»¥åŠä¸€äº›ç”¨äºæ‰“å¼€å’Œä¿å­˜çš„æ–¹æ³•ã€‚</p>
<p>ç„¶åæˆ‘ä»¬ä¾æ¬¡æ£€æŸ¥æ¯ä¸ªæ’ä»¶ï¼Œçœ‹çœ‹å“ªä¸ªæ’ä»¶å¯ä»¥æ¥å—è¿™å¼ å›¾ç‰‡ã€‚Pillow çš„å¤§å¤šæ•°æ’ä»¶éƒ½æ˜¯é€šè¿‡æ‰“å¼€æ–‡ä»¶å¹¶æ£€æŸ¥å‰å‡ ä¸ªå­—èŠ‚æ˜¯å¦åŒ¹é…æŸä¸ªç‰¹å®šçš„å‰ç¼€æ¥æ£€æµ‹å›¾ç‰‡çš„ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FGifImagePlugin.py%23L73-L74" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/GifImagePlugin.py#L73-L74" ref="nofollow noopener noreferrer">GIF</a>ä»¥ <code>b"GIF87a"</code> æˆ– <code>b"GIF89a"</code> å¼€å¤´ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FPngImagePlugin.py%23L66" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/PngImagePlugin.py#L66" ref="nofollow noopener noreferrer">PNG</a>ä»¥ <code>b"\211PNG\r\n\032\n"</code> å¼€å¤´ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2FPNG-Rationale.html%23R.PNG-file-signature" target="_blank" title="https://www.w3.org/TR/PNG-Rationale.html#R.PNG-file-signature" ref="nofollow noopener noreferrer">å‚è€ƒ</a>ï¼‰ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FJpegImagePlugin.py%23L334-L336" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/JpegImagePlugin.py#L334-L336" ref="nofollow noopener noreferrer">JPEG</a>ä»¥ <code>b"\xff\xd8\xff"</code> å¼€å¤´ï¼Œå…¶ä¸­ <code>\xff\xd8</code> è¡¨ç¤ºâ€œå›¾åƒçš„å¼€å§‹â€ï¼Œ<code>\xff</code> è¡¨ç¤ºä¸‹ä¸€ä¸ªæ ‡è®°çš„å¼€å§‹ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FJPEG%23Syntax_and_structure" target="_blank" title="https://en.wikipedia.org/wiki/JPEG#Syntax_and_structure" ref="nofollow noopener noreferrer">å‚è€ƒ</a>ï¼‰ã€‚</li>
</ul>
<p>å¦‚æœè¿™äº”ä¸ªæ’ä»¶éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œæˆ‘ä»¬å°±è°ƒç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FImage.py%23L372-L396" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/Image.py#L372-L396" ref="nofollow noopener noreferrer"><code>init()</code></a>ï¼Œå®ƒä¼šå¯¼å…¥å‰©ä½™çš„ 42 ä¸ªæ’ä»¶ã€‚ç„¶åï¼Œæˆ‘ä»¬é€ä¸ªæ£€æŸ¥è¿™äº›æ’ä»¶æ˜¯å¦åŒ¹é…ã€‚</p>
<p>è¿™ç§æƒ…å†µè‡³å°‘ä» 2000 å¹´å‘å¸ƒçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhugovk%2Fpil-svn.effbot.org%2Fblame%2Fmaster%2FPIL%2FImage.py%23L290" target="_blank" title="https://github.com/hugovk/pil-svn.effbot.org/blame/master/PIL/Image.py#L290" ref="nofollow noopener noreferrer">PIL 1.1.1</a>ç‰ˆæœ¬å¼€å§‹å°±å­˜åœ¨ï¼ˆè¿™æ˜¯æˆ‘èƒ½æŸ¥åˆ°çš„æœ€æ—©ç‰ˆæœ¬ï¼‰ã€‚å½“æ—¶æœ‰ 33 ä¸ªå†…ç½®æ’ä»¶ï¼Œç°åœ¨æ˜¯ 47 ä¸ªã€‚</p>
<h2 data-id="heading-2">æ‡’åŠ è½½</h2>
<p>å¦‚æœä¸€ä¸ªç¨‹åºåœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…åªéœ€è¦ä¸€ä¸¤ç§å›¾åƒæ ¼å¼ï¼Œé‚£ä¹ˆè¿™æ ·åšå°±æœ‰ç‚¹æµªè´¹äº†ï¼Œå°¤å…¶æ˜¯å¯¹äºå‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰ä¹‹ç±»çš„ç¨‹åºã€‚è¿è¡Œæ—¶é—´è¾ƒé•¿çš„ç¨‹åºå¯èƒ½éœ€è¦æ›´å¤šæ ¼å¼ï¼Œä½†ä¸å¤ªå¯èƒ½éœ€è¦å…¨éƒ¨ 47 ç§ã€‚</p>
<p>æ’ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªå¥½å¤„æ˜¯ç¬¬ä¸‰æ–¹å¯ä»¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fpillow.readthedocs.io%2Fen%2Fstable%2Fhandbook%2Fthird-party-plugins.html" target="_blank" title="https://pillow.readthedocs.io/en/stable/handbook/third-party-plugins.html" ref="nofollow noopener noreferrer">åˆ›å»ºè‡ªå·±çš„æ’ä»¶</a>ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…ç½®åŠŸèƒ½æé«˜æ•ˆç‡ã€‚</p>
<p>æˆ‘æäº¤äº†ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fpull%2F9398" target="_blank" title="https://github.com/python-pillow/Pillow/pull/9398" ref="nofollow noopener noreferrer">PR</a> ï¼Œæ·»åŠ äº†æ–‡ä»¶æ‰©å±•ååˆ°æ’ä»¶çš„æ˜ å°„ã€‚åœ¨è°ƒç”¨ <code>preinit()</code> æˆ– <code>init()</code> ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè¿›è¡Œç®€å•çš„æŸ¥æ‰¾ï¼Œè¿™æ ·å¯ä»¥çœå»å¯¼å…¥ã€æ³¨å†Œå’Œæ£€æŸ¥æ‰€æœ‰è¿™äº›æ’ä»¶çš„æ­¥éª¤ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°æ²¡æœ‰æ‰©å±•åæˆ–æ‰©å±•åâ€œé”™è¯¯â€çš„å›¾åƒï¼Œä½†è¿™æ²¡å…³ç³»ï¼›æˆ‘ä¼°è®¡è¿™ç§æƒ…å†µå¾ˆå°‘è§ï¼Œè€Œä¸”æ— è®ºå¦‚ä½•æˆ‘ä»¬éƒ½ä¼šå›é€€åˆ°åŸæ¥çš„ <code>preinit()</code> -&gt; <code>init()</code> æµç¨‹ã€‚</p>
<p>åˆå¹¶ PR åï¼Œä»¥ä¸‹æ˜¯ç”¨äºæ‰“å¼€ PNGï¼ˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Fhugovk.dev%2Fblog%2F2026%2Ffaster-pillow%2Fflamegraph_27477.html" target="_blank" title="https://hugovk.dev/blog/2026/faster-pillow/flamegraph_27477.html" ref="nofollow noopener noreferrer">HTML é¡µé¢</a>ï¼‰çš„æ–°ç«ç„°å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/996dac20d99041d7b90fa27280dc4aff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex5bqm5raM546w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788149&amp;x-signature=9yyE%2B%2BBiJUTPC8Hg7xWt0JVEmx0%3D" alt="Much less compressed flame graph showing less work" loading="lazy"/></p>
<p>å¯¹äº WebPï¼ˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Fhugovk.dev%2Fblog%2F2026%2Ffaster-pillow%2Fflamegraph_26821.html" target="_blank" title="https://hugovk.dev/blog/2026/faster-pillow/flamegraph_26821.html" ref="nofollow noopener noreferrer">HTML é¡µé¢</a>ï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2af54ca659754199985db77c7ac48b98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex5bqm5raM546w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788149&amp;x-signature=eEq8rgBU4uVuFPFZdW8eW7ITDu4%3D" alt="Much less compressed for WebP" loading="lazy"/></p>
<p>ç«ç„°å›¾çš„å®½åº¦å·²ç¼©æ”¾è‡³ç›¸åŒï¼Œä½†æ–¹æ¡†æ•°é‡å¤§å¤§å‡å°‘ï¼Œè¿™æ„å‘³ç€ç°åœ¨çš„å·¥ä½œé‡ä¹Ÿå¤§å¤§é™ä½ã€‚å¤„ç†æ—¶é—´ä» 40 å’Œ 60 æ¯«ç§’é™è‡³ 20 å’Œ 20 æ¯«ç§’ã€‚</p>
<p>è¯¥ PR åŒ…å«ä¸€ç³»åˆ—åŸºå‡†æµ‹è¯•ï¼Œç»“æœæ˜¾ç¤ºï¼Œæ‰“å¼€ PNG å›¾ç‰‡ï¼ˆä¹‹å‰éœ€è¦åŠ è½½ 5 ä¸ªæ’ä»¶ï¼‰çš„é€Ÿåº¦æå‡äº† 2.6 å€ã€‚æ‰“å¼€ WebP å›¾ç‰‡ï¼ˆä¹‹å‰éœ€è¦åŠ è½½å…¨éƒ¨ 47 ä¸ªæ’ä»¶ï¼‰çš„é€Ÿåº¦æå‡äº† 14 å€ã€‚åŒæ ·ï¼Œä¿å­˜ PNG å›¾ç‰‡çš„é€Ÿåº¦æå‡äº† 2.2 å€ï¼Œä¿å­˜ WebP å›¾ç‰‡çš„é€Ÿåº¦æå‡äº† 7.9 å€ã€‚å¤ªæ£’äº†ï¼è¿™äº›æ”¹è¿›å°†åœ¨ Pillow 12.2.0 ç‰ˆæœ¬ä¸­å®ç°ã€‚</p>
<h2 data-id="heading-3">å‚è€ƒ</h2>
<ul>
<li>Henry Schreiner è°ˆå¦‚ä½•<a href="https://link.juejin.cn?target=https%3A%2F%2Fiscinumpy.dev%2Fpost%2Fpackaging-faster%2F" target="_blank" title="https://iscinumpy.dev/post/packaging-faster/" ref="nofollow noopener noreferrer">åŠ å¿«åŒ…è£…é€Ÿåº¦</a>ã€‚</li>
<li>Adam Johnson çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fadamj.eu%2Ftech%2F2026%2F01%2F14%2Fpython-introducing-tprof%2F" target="_blank" title="https://adamj.eu/tech/2026/01/14/python-introducing-tprof/" ref="nofollow noopener noreferrer">tprof</a>æ˜¯å¦ä¸€ä¸ªå¯¹è¿™ç±»äº‹æƒ…å¾ˆæœ‰ç”¨çš„æ–°å·¥å…·ã€‚</li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhugovk.dev%2Fblog%2F2026%2Ffaster-pillow%2F" target="_blank" title="https://hugovk.dev/blog/2026/faster-pillow/" ref="nofollow noopener noreferrer">hugovk.dev/blog/2026/fâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FQNiQEC6U3Ykz-x4PJGiacA" target="_blank" title="https://mp.weixin.qq.com/s/QNiQEC6U3Ykz-x4PJGiacA" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/QNiQEC6U3â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æ€§èƒ½è§‚æµ‹ [7 - 4]ï¼šå¦‚ä½•è®¾ç«‹ Performance Budget å¹¶èå…¥ CI/CD]]></title>    <link>https://juejin.cn/post/7602471311510487067</link>    <guid>https://juejin.cn/post/7602471311510487067</guid>    <pubDate>2026-02-04T05:38:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602471311510487067" data-draft-id="7602512226999713842" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æ€§èƒ½è§‚æµ‹ [7 - 4]ï¼šå¦‚ä½•è®¾ç«‹ Performance Budget å¹¶èå…¥ CI/CD"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T05:38:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ç‹å£®å£®"/> <meta itemprop="url" content="https://juejin.cn/user/4473272506789485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æ€§èƒ½è§‚æµ‹ [7 - 4]ï¼šå¦‚ä½•è®¾ç«‹ Performance Budget å¹¶èå…¥ CI/CD
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4473272506789485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ç‹å£®å£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:38:27.000Z" title="Wed Feb 04 2026 05:38:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p><strong>å†™åœ¨å‰é¢</strong></p>
<p>å¾ˆå¤šå›¢é˜Ÿçš„æ€§èƒ½ä¼˜åŒ–æµç¨‹æ˜¯è¿™æ ·çš„ï¼š ä¸Šçº¿ -&gt; ç”¨æˆ·æŠ•è¯‰å¡ -&gt; çªå‡»ä¼˜åŒ–ä¸€å‘¨ -&gt; ä¸Šçº¿ -&gt; ç»§ç»­åŠ£åŒ– -&gt; å¾ªç¯...</p>
<p>è¿™ç§**â€œæ³¢æµªå¼â€<strong>çš„æ€§èƒ½æ›²çº¿æ˜¯ä¸å¯æ¥å—çš„ã€‚ æ¶æ„å¸ˆçš„ç›®æ ‡æ˜¯è®©æ€§èƒ½æ›²çº¿å‘ˆç°</strong>â€œé”¯é½¿çŠ¶ä¸Šå‡â€ <strong>ï¼ˆå¶å°”æ³¢åŠ¨ï¼Œæ€»ä½“å¹³ç¨³ï¼‰ç”šè‡³</strong>â€œæ°´å¹³ç›´çº¿â€**ã€‚</p>
<p>è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†æŠŠæ€§èƒ½ç®¡ç†ä»â€œé è‡ªè§‰â€è½¬å˜ä¸ºâ€œé åˆ¶åº¦â€ã€‚æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åˆ¶å®š <strong>Performance Budgetï¼ˆæ€§èƒ½é¢„ç®—ï¼‰</strong> ï¼Œå¹¶æŠŠ <strong>Lighthouse CI</strong> æ¤å…¥åˆ°ä½ çš„ Git Workflow ä¸­ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f0cbf4400e547be97b241711defba3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5aOu5aOu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788306&amp;x-signature=VOio4JNwOI4Om81OEqk1G4Z3bfY%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ ä»€ä¹ˆæ˜¯ Performance Budgetï¼ˆæ€§èƒ½é¢„ç®—ï¼‰ï¼Ÿ</h2>
<p>åœ¨é‡‘èé¢†åŸŸï¼Œé¢„ç®—æ„å‘³ç€â€œä½ æœ‰å¤šå°‘é’±å¯ä»¥èŠ±â€ã€‚ åœ¨å‰ç«¯é¢†åŸŸï¼Œæ€§èƒ½é¢„ç®—æ„å‘³ç€â€œä¸ºäº†è¾¾åˆ°é¢„æœŸçš„åŠ è½½é€Ÿåº¦ï¼Œä½ æœ€å¤šèƒ½å†™å¤šå°‘ä»£ç /åŠ è½½å¤šå¤§çš„èµ„æºâ€ã€‚</p>
<h3 data-id="heading-1">1.1 é¢„ç®—çš„ç»´åº¦</h3>
<p>é€šå¸¸æˆ‘ä»¬å¯ä»¥ä»ä¸¤ä¸ªç»´åº¦è®¾å®šé¢„ç®—ï¼š</p>
<ol>
<li>
<p><strong>åŸºäºèµ„æºçš„é¢„ç®— (Resource-based):</strong></p>
<ul>
<li><em>è§„åˆ™ï¼š</em> JS æ€»åŒ…ä½“ç§¯ &lt; 300KBï¼›é¦–å±å›¾ç‰‡ &lt; 100KBã€‚</li>
<li><em>ä¼˜ç‚¹ï¼š</em> ç®€å•ï¼Œç¡®å®šæ€§å¼ºï¼Œæ„å»ºæ—¶å°±èƒ½æ£€æµ‹ã€‚</li>
<li><em>ç¼ºç‚¹ï¼š</em> ä½“ç§¯å°ä¸ä»£è¡¨è·‘å¾—å¿«ï¼ˆæ¯”å¦‚ 10KB çš„æ­»å¾ªç¯ä»£ç ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>åŸºäºæŒ‡æ ‡çš„é¢„ç®— (Metric-based):</strong></p>
<ul>
<li><em>è§„åˆ™ï¼š</em> LCP &lt; 2.5sï¼›TBT &lt; 300msï¼›Lighthouse Score &gt; 90ã€‚</li>
<li><em>ä¼˜ç‚¹ï¼š</em> ç›´æ¥åæ˜ ç”¨æˆ·ä½“éªŒã€‚</li>
<li><em>ç¼ºç‚¹ï¼š</em> å— CI æœºå™¨æ€§èƒ½æ³¢åŠ¨å½±å“å¤§ï¼ˆå™ªéŸ³ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-2">1.2 å¦‚ä½•åˆ¶å®šåˆç†çš„é¢„ç®—ï¼Ÿ</h3>
<p>ä¸è¦æ‹è„‘è¢‹å®šä¸ªâ€œLCP &lt; 1ç§’â€ï¼Œè¿™ä¸åˆ‡å®é™…ã€‚</p>
<ul>
<li><strong>åŸºå‡†çº¿æ³•ï¼š</strong> å…ˆæµ‹å‡ºå½“å‰ç”Ÿäº§ç¯å¢ƒçš„å¹³å‡æ°´å¹³ï¼ˆæ¯”å¦‚ JS = 500KBï¼‰ï¼Œä»¥æ­¤ä¸ºåŸºå‡†ï¼Œè§„å®š <strong>â€œæ–°å¢ä»£ç ä¸å¾—å¯¼è‡´ä½“ç§¯å¢åŠ è¶…è¿‡ 5%â€</strong> ã€‚</li>
<li><strong>ç«å“é”šå®šæ³•ï¼š</strong> çœ‹çœ‹ä½ ä»¬æœ€å¤§çš„ç«äº‰å¯¹æ‰‹æ˜¯å¤šå°‘ï¼Œè®¾å®šä¸ºâ€œæ¯”ä»–ä»¬å¿« 20%â€ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">äºŒã€ å®ˆé—¨å‘˜å·¥å…·ï¼šLightWallet ä¸ Size-limit</h2>
<p>æœ‰äº†æ³•å¾‹ï¼ˆé¢„ç®—ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦è­¦å¯Ÿï¼ˆå·¥å…·ï¼‰æ¥æ‰§è¡Œã€‚</p>
<h3 data-id="heading-4">2.1 é™æ€ä½“ç§¯å®ˆé—¨å‘˜ï¼šSize-limit</h3>
<p>è¿™æ˜¯æœ€è½»é‡çº§çš„å®ˆé—¨å‘˜ï¼Œé€‚åˆé˜²èŒƒ <code>node_modules</code> è†¨èƒ€ã€‚</p>
<p><strong>å®‰è£…ä¸é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// package.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"size-limit"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist/assets/index.*.js"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"limit"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"200 KB"</span> <span class="hljs-comment">// è¶…è¿‡è¿™ä¸ªå€¼ï¼Œnpm run build ç›´æ¥æŠ¥é”™</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist/assets/vendor.*.js"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"limit"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"500 KB"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>CI é›†æˆï¼š</strong> åœ¨ GitLab CI æˆ– GitHub Actions ä¸­è¿è¡Œ <code>npx size-limit</code>ã€‚ä¸€æ—¦è¶…æ ‡ï¼ŒPipeline å˜çº¢ï¼Œç¦æ­¢åˆå¹¶ã€‚</p>
<h3 data-id="heading-5">2.2 è¿è¡Œæ—¶æŒ‡æ ‡å®ˆé—¨å‘˜ï¼šLighthouse CI (LHCI)</h3>
<p>Google å®˜æ–¹å‡ºå“çš„ç¥å™¨ã€‚å®ƒä¼šåœ¨ CI ç¯å¢ƒå¯åŠ¨ä¸€ä¸ªæ— å¤´æµè§ˆå™¨ï¼Œè·‘ä¸€éä½ çš„é¡µé¢ï¼Œå¹¶æ‰“åˆ†ã€‚</p>
<p><strong>æ ¸å¿ƒé…ç½® <code>lighthouserc.js</code>ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
  ci: {
    collect: {
      url: [<span class="hljs-string">'http://localhost:3000/'</span>], <span class="hljs-comment">// æœ¬åœ°å¯åŠ¨æœåŠ¡è®© LHCI è·‘</span>
      startServerCommand: <span class="hljs-string">'npm run start'</span>,
    },
    <span class="hljs-keyword">assert</span>: {
      assertions: {
        <span class="hljs-string">'categories:performance'</span>: [<span class="hljs-string">'error'</span>, { minScore: <span class="hljs-number">0.9</span> }], <span class="hljs-comment">// æ€§èƒ½åˆ†ä½äº 90 æŠ¥é”™</span>
        <span class="hljs-string">'largest-contentful-paint'</span>: [<span class="hljs-string">'warn'</span>, { maxNumericValue: <span class="hljs-number">2500</span> }], <span class="hljs-comment">// LCP &gt; 2.5s è­¦å‘Š</span>
        <span class="hljs-string">'dom-size'</span>: [<span class="hljs-string">'error'</span>, { maxNumericValue: <span class="hljs-number">2000</span> }], <span class="hljs-comment">// DOM èŠ‚ç‚¹ &gt; 2000 æŠ¥é”™</span>
      },
    },
    upload: {
      target: <span class="hljs-string">'temporary-public-storage'</span>, <span class="hljs-comment">// ä¸Šä¼ æŠ¥å‘Šä»¥ä¾¿æŸ¥çœ‹</span>
    },
  },
};
</code></pre>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€ å®æˆ˜ï¼šæ„å»ºâ€œä¸è®¸å˜æ…¢â€çš„ CI/CD æµæ°´çº¿</h2>
<p>æŠŠä¸Šè¿°å·¥å…·ä¸²è”èµ·æ¥ï¼Œå½¢æˆä¸€å¥—å®Œæ•´çš„é˜²å¾¡ä½“ç³»ã€‚</p>
<h3 data-id="heading-7">3.1 é˜¶æ®µä¸€ï¼šPR Check (ä»£ç åˆå¹¶å‰)</h3>
<p>å½“åŒäº‹å‘èµ· Pull Request æ—¶ï¼Œè§¦å‘ GitHub Actionsï¼š</p>
<ol>
<li>
<p><strong>Build:</strong> æ„å»ºé¡¹ç›®ã€‚</p>
</li>
<li>
<p><strong>Size Check:</strong> è¿è¡Œ <code>size-limit</code>ã€‚å¦‚æœå¼•å…¥äº†å¤§åŒ…ï¼ˆå¦‚ <code>lodash</code> æœªæŒ‰éœ€å¼•å…¥ï¼‰ï¼Œç›´æ¥ Block PRã€‚</p>
</li>
<li>
<p><strong>Audit:</strong> è¿è¡Œ <code>Lighthouse CI</code>ã€‚</p>
<ul>
<li><em>Diff æ¨¡å¼ï¼š</em> å¯¹æ¯” master åˆ†æ”¯å’Œå½“å‰åˆ†æ”¯çš„æ€§èƒ½å·®å¼‚ã€‚</li>
<li><em>Bot ç•™è¨€ï¼š</em> LHCI æœºå™¨äººä¼šè‡ªåŠ¨åœ¨ PR ä¸‹è¯„è®ºï¼šâ€œæœ¬æ¬¡æäº¤å¯¼è‡´ LCP å¢åŠ äº† 200msï¼Œè¯·è§£é‡Šæˆ–ä¼˜åŒ–ã€‚â€</li>
</ul>
</li>
</ol>
<h3 data-id="heading-8">3.2 é˜¶æ®µäºŒï¼šMonitor (ä»£ç åˆå¹¶å)</h3>
<p>ä¸Šçº¿åï¼Œç»“åˆæˆ‘ä»¬åœ¨ç¬¬äºŒèŠ‚æ­å»ºçš„ <strong>APM ç³»ç»Ÿ</strong>ã€‚</p>
<ul>
<li><strong>ç†”æ–­æœºåˆ¶ï¼š</strong> è™½ç„¶å°‘è§ï¼Œä½†å¯ä»¥è®¾å®šå¦‚æœçº¿ä¸Š LCP çªå¢ 50%ï¼Œè‡ªåŠ¨è§¦å‘å›æ»šï¼ˆRollbackï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-9">å››ã€ æ²»ç†çš„è‰ºæœ¯ï¼šå¦‚ä½•å¤„ç†â€œå™ªéŸ³â€ä¸â€œäººå¿ƒâ€</h2>
<p>æŠ€æœ¯åªæ˜¯æ‰‹æ®µï¼Œæ²»ç†çš„æ ¸å¿ƒæ˜¯<strong>äºº</strong>ã€‚</p>
<h3 data-id="heading-10">4.1 è§£å†³ CI æ³¢åŠ¨ï¼ˆFlakinessï¼‰</h3>
<p>CI æœåŠ¡å™¨ï¼ˆå¦‚ Jenkins/Actionsï¼‰çš„ CPU è´Ÿè½½æ˜¯ä¸ç¨³å®šçš„ï¼Œå¯èƒ½å¯¼è‡´ Lighthouse è·‘åˆ†å¿½é«˜å¿½ä½ã€‚ <strong>æ¶æ„å¸ˆç­–ç•¥ï¼š</strong></p>
<ul>
<li><strong>å¤šæ¬¡é‡‡æ ·ï¼š</strong> è®© LHCI è·‘ 3-5 æ¬¡ï¼Œå–ä¸­ä½æ•°ï¼ˆMedianï¼‰ã€‚</li>
<li><strong>ç›¸å¯¹é˜ˆå€¼ï¼š</strong> ä¸è¦æ­»æ‰£ç»å¯¹å€¼ï¼ˆ2.5sï¼‰ã€‚è®¾å®š<strong>åŠ£åŒ–é˜ˆå€¼</strong>ï¼ˆRegression Thresholdï¼‰ï¼Œä¾‹å¦‚â€œæ¯”åŸºå‡†çº¿æ…¢ 10% ä»¥ä¸Šâ€æ‰æŠ¥é”™ã€‚</li>
</ul>
<h3 data-id="heading-11">4.2 é€æ­¥æ”¶ç´§ç­–ç•¥</h3>
<p>ä¸è¦ä¸€ä¸Šæ¥å°±å¼€å¯â€œæŠ¥é”™å³é˜»æ–­â€ï¼Œè¿™ä¼šæå´©å¼€å‘å›¢é˜Ÿçš„å¿ƒæ€ã€‚</p>
<ol>
<li><strong>è§‚å¯ŸæœŸ (ç¬¬ 1 ä¸ªæœˆ):</strong> åªè·‘æ•°æ®ï¼Œä¸æŠ¥é”™ï¼Œè®©å¤§å®¶çœ‹åˆ°æŠ¥å‘Šã€‚</li>
<li><strong>è­¦å‘ŠæœŸ (ç¬¬ 2 ä¸ªæœˆ):</strong> è¶…æ ‡å CI å˜é»„ï¼ˆWarningï¼‰ï¼Œæœºå™¨äººç•™è¨€ç¾è¾±ï¼Œä½†å…è®¸åˆå¹¶ã€‚</li>
<li><strong>é˜»æ–­æœŸ (ç¬¬ 3 ä¸ªæœˆ):</strong> æ ¸å¿ƒæŒ‡æ ‡ï¼ˆå¦‚ Bundle Sizeï¼‰è¶…æ ‡ï¼Œç›´æ¥ Blockã€‚</li>
</ol>
<h3 data-id="heading-12">4.3 æ€§èƒ½æ–‡åŒ–</h3>
<ul>
<li><strong>çº¢é»‘æ¦œï¼š</strong> æ¯å‘¨å‘é€é‚®ä»¶ï¼Œåˆ—å‡ºâ€œæœ¬å‘¨æ€§èƒ½ä¼˜åŒ–æœ€ä½³æäº¤â€å’Œâ€œæœ¬å‘¨å¯¼è‡´æ€§èƒ½åŠ£åŒ–æœ€ä¸¥é‡çš„æäº¤â€ã€‚</li>
<li><strong>æ€§èƒ½æ˜¯åŠŸèƒ½çš„ä¸€éƒ¨åˆ†ï¼š</strong> äº§å“ç»ç†æéœ€æ±‚æ—¶ï¼Œå¿…é¡»åŒ…å«æ€§èƒ½éªŒæ”¶æ ‡å‡†ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-13">ç»“è¯­ï¼šä»â€œæ•‘ç«é˜Ÿå‘˜â€åˆ°â€œåŸå¸‚è§„åˆ’å¸ˆâ€</h2>
<p>è‡³æ­¤ï¼Œ<strong>ç¬¬ä¸ƒé˜¶æ®µã€Šå‰ç«¯å…¨é“¾è·¯æ€§èƒ½ä½“ç³»ä¸å¯è§‚æµ‹æ€§ã€‹</strong> åœ†æ»¡ç»“æŸã€‚</p>
<p>å›é¡¾è¿™å››å°èŠ‚ï¼Œæˆ‘ä»¬èµ°è¿‡äº†ä¸€æ¡å®Œæ•´çš„æ¶æ„ä¹‹è·¯ï¼š</p>
<ol>
<li><strong>å®šæ ‡å‡† (Standard):</strong> ç¡®ç«‹ Web Vitalsï¼Œæ‹’ç»ä¸»è§‚è‡†æµ‹ã€‚</li>
<li><strong>æåŸºå»º (Infrastructure):</strong> æ­å»º APMï¼Œè·å¾—ä¸Šå¸è§†è§’ã€‚</li>
<li><strong>å®šæˆ˜æœ¯ (Tactics):</strong> åˆ†å±‚çº§ä¼˜åŒ–ï¼Œä»ç½‘ç»œåˆ°æ¸²æŸ“å…¨è¦†ç›–ã€‚</li>
<li><strong>åšæ²»ç† (Governance):</strong> è®¾ç«‹é¢„ç®—ä¸ CIï¼Œé˜²æ­¢æ€§èƒ½è…åŒ–ã€‚</li>
</ol>
<p>ç°åœ¨çš„ä½ ï¼Œä¸å†æ˜¯é‚£ä¸ªå¤©å¤©ç›¯ç€ Chrome DevTools ä¿® Bug çš„æ•‘ç«é˜Ÿå‘˜ï¼Œè€Œæ˜¯æŒæ§å…¨å±€ã€ç”¨æ•°æ®å’Œåˆ¶åº¦è¯´è¯çš„ç³»ç»Ÿæ¶æ„å¸ˆã€‚</p>
<p>ç„¶è€Œï¼Œå‰ç«¯çš„ä¸–ç•Œè¿œä¸æ­¢æ€§èƒ½ã€‚éšç€ä¸šåŠ¡è¶Šæ¥è¶Šå¤æ‚ï¼Œå•ä½“åº”ç”¨ï¼ˆMonolithï¼‰å˜å¾—éš¾ä»¥ç»´æŠ¤ï¼Œå·¨çŸ³åº”ç”¨å¦‚ä½•æ‹†è§£ï¼Ÿå¾®å‰ç«¯çœŸçš„æ˜¯é“¶å¼¹å—ï¼ŸServerless èƒ½ç»™å‰ç«¯å¸¦æ¥ä»€ä¹ˆå˜é©ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Oxygen 9N-LLMç”Ÿæˆå¼æ¨èè®­ç»ƒæ¡†æ¶]]></title>    <link>https://juejin.cn/post/7602512064977354815</link>    <guid>https://juejin.cn/post/7602512064977354815</guid>    <pubDate>2026-02-04T05:39:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602512064977354815" data-draft-id="7602529888483770431" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Oxygen 9N-LLMç”Ÿæˆå¼æ¨èè®­ç»ƒæ¡†æ¶"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2026-02-04T05:39:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œé›¶å”®æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/4233576972293643"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Oxygen 9N-LLMç”Ÿæˆå¼æ¨èè®­ç»ƒæ¡†æ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4233576972293643/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œé›¶å”®æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:39:22.000Z" title="Wed Feb 04 2026 05:39:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»27åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¼•è¨€ï¼šç”Ÿæˆå¼æ¨èä½œä¸ºæ¨èç³»ç»Ÿé¢†åŸŸä¸€ä¸ªè“¬å‹ƒå‘å±•çš„æ–°èŒƒå¼ï¼Œä¸ºæ•´ä¸ªé¢†åŸŸå¸¦æ¥äº†æ–°çš„æ€è·¯å’Œæœºé‡ã€‚å®ƒåœ¨å¤„ç†å¤æ‚è¯­ä¹‰ã€æå‡æ¨èå¤šæ ·æ€§ã€çªç ´æ•ˆæœå¤©èŠ±æ¿ä»¥åŠä¼˜åŒ–ç³»ç»Ÿæ¶æ„æ–¹é¢å±•ç°å‡ºå·¨å¤§æ½œåŠ›ï¼Œä½†åŒæ—¶ä¹Ÿç»™è®­ç»ƒå¼•æ“å¸¦æ¥æ–°è¦æ±‚ä¸æ–°æŒ‘æˆ˜ã€‚</p>
<p>ä¸ºäº†æ›´å¥½çš„æ”¯æ’‘é›¶å”®ç®—æ³•ä¸šåŠ¡ä»¥æ›´é«˜çš„æ•ˆç‡ã€æ›´ä½çš„æˆæœ¬æ¢ç´¢è¿™ä¸€æ–°æ–¹å‘ï¼Œ<strong>äº¬ä¸œé›¶å”®ä¹æ•°ç®—æ³•å¹³å°å›¢é˜Ÿå‡­å€Ÿåœ¨è®­ç»ƒå¼•æ“é¢†åŸŸå¤šå¹´çš„æŠ€æœ¯ç§¯ç´¯ï¼Œå»ºè®¾äº†ä¸€å¥—å¤šæ¡†æ¶ï¼ˆTensorFlow/PyTorchï¼‰ã€å¤šç¡¬ä»¶ï¼ˆGPU/NPUï¼‰ã€å¤šåœºæ™¯ï¼ˆä¼ ç»Ÿ/ç”Ÿæˆå¼ï¼‰çš„ç»Ÿä¸€è®­ç»ƒå¼•æ“Oxygen 9N-LLM</strong>ã€‚è¯¥å¼•æ“æ·±åº¦æ•´åˆTensorFlowä¸ PyTorchåŒæ¡†æ¶ã€ç»Ÿä¸€é€‚é…GPUä¸NPUå¼‚æ„ç¡¬ä»¶ï¼Œæœ‰æ•ˆè§£å†³äº†æ¡†æ¶ä¸ç¡¬ä»¶çš„å…¼å®¹æ€§é—®é¢˜ï¼Œå…¶å†…ç½®çš„å¤§è§„æ¨¡ç¨€ç–Embeddingè®­ç»ƒå¼•æ“ã€å®šåˆ¶åŒ–UniAttentionåŠ é€Ÿåº“ã€åŸºäºRayçš„ç»Ÿä¸€RLè®­ç»ƒæ¡†æ¶ç­‰æ ¸å¿ƒç»„ä»¶ï¼ŒååŒä¼˜åŒ–ç¨€ç–ä¸ç¨ å¯†å‚æ•°è®¡ç®—ã€è§£å†³æ³¨æ„åŠ›è®¡ç®—ä»¥åŠå¼ºåŒ–å­¦ä¹ æµç¨‹ç­‰ç³»ç»Ÿæ€§éš¾é¢˜ï¼ŒåŠ é€Ÿæ¨åŠ¨äº†ç”Ÿæˆå¼æ¨èèŒƒå¼åœ¨å·¥ä¸šåœºæ™¯çš„è½åœ°ï¼ˆå¦‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUyMDAxMjQ3Ng%3D%3D%26mid%3D2247515195%26idx%3D1%26sn%3Db8271354b4c7db10c68f712f819103ea%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUyMDAxMjQ3Ng==&amp;mid=2247515195&amp;idx=1&amp;sn=b8271354b4c7db10c68f712f819103ea&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">OxygenREC</a>ï¼‰ã€‚</p>
<p>ä¹æ•°ç®—æ³•å¹³å°éš¶å±äºäº¬ä¸œé›¶å”®å¹³å°äº§å“ä¸ç ”å‘ä¸­å¿ƒAI Infraä¸å¤§æ•°æ®è®¡ç®—éƒ¨ï¼Œè´Ÿè´£å»ºè®¾æœåŠ¡äº¬ä¸œç”µå•†ä¸šåŠ¡çš„AI InfraåŸºç¡€è®¾æ–½ã€‚</p>
<h3 data-id="heading-0"><strong>ä¸€ã€èƒŒæ™¯ä¸æŒ‘æˆ˜</strong></h3>
<p>ä¼ ç»Ÿæ·±åº¦å­¦ä¹ æ¨èæ¨¡å‹ç»å¤šå¹´è¿­ä»£ä¼˜åŒ–ï¼Œå·²é¢ä¸´ç‰¹å¾å·¥ç¨‹æ½œåŠ›é€¼è¿‘ä¸Šé™ã€ç”¨æˆ·æ„å›¾å»ºæ¨¡éš¾åº¦é«˜ã€çº§è”æ¶æ„æ˜“æ”¾å¤§è¯¯å·®ã€ç®—åŠ›åˆ©ç”¨ç‡ä¸è¶³ç­‰æ ¸å¿ƒé—®é¢˜ï¼Œæˆä¸ºåˆ¶çº¦å…¶æ•ˆæœè¿›ä¸€æ­¥æå‡çš„æ ¸å¿ƒç“¶é¢ˆã€‚</p>
<p>LLM ç”Ÿæˆå¼æ¨¡å‹çˆ†å‘å¼å´›èµ·åï¼Œå°†ç”Ÿæˆå¼ç®—æ³•ä¸æŠ€æœ¯åº”ç”¨äºæ¨èé¢†åŸŸå·²æˆä¸ºä¸šç•Œç ”ç©¶çƒ­ç‚¹ï¼Œå³ç”Ÿæˆå¼æ¨èï¼ˆGenerative Recommendations, GRsï¼‰ã€‚ä½œä¸ºåŒºåˆ«äºä¼ ç»Ÿæ¨èçš„æ–°èŒƒå¼ï¼Œå®ƒå€ŸåŠ©ç”Ÿæˆå¼æ¨¡å‹å¼ºå¤§çš„åºåˆ—å»ºæ¨¡èƒ½åŠ›ï¼Œå°†æ¨èé—®é¢˜é‡æ„ä¸ºåºåˆ—ç”Ÿæˆä»»åŠ¡ï¼Œé¢„æµ‹ç”¨æˆ·å¯èƒ½çš„ä¸‹ä¸€æ­¥æ“ä½œæˆ–åå¥½ç‰©å“ï¼Œä¸ºçªç ´ä¼ ç»Ÿæ¨èæ¨¡å‹ç“¶é¢ˆæä¾›äº†å…¨æ–°æ€è·¯ã€‚åœ¨è¿™ä¸€æ–°å…´èŒƒå¼çš„æ¢ç´¢è¿›ç¨‹ä¸­ï¼ŒMeta çš„ GR å·¥ä½œç‡å…ˆéªŒè¯äº† Scaling Law åœ¨æ¨èç³»ç»Ÿä¸­çš„æœ‰æ•ˆæ€§ï¼Œä¸ºç”Ÿæˆå¼æ¨èçš„è§„æ¨¡åŒ–å‘å±•å¥ å®šäº†å…³é”®åŸºç¡€ã€‚åœ¨æ­¤ä¹‹åï¼Œä¸šç•Œæ¢ç´¢äº†ä¸åŒæŠ€æœ¯è·¯å¾„çš„ç”Ÿæˆå¼æ¨èæ–¹æ¡ˆï¼Œä¸”åœ¨å®é™…å·¥ä¸šåœºæ™¯ä¸­å®ç°äº†æ˜¾è‘—çš„çº¿ä¸Šæ•ˆæœæå‡ï¼Œå……åˆ†éªŒè¯äº†å…¶å•†ä¸šä»·å€¼ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b74e1bf496f3480386fbf2118fa87869~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=WR4vYAmv4Q53tXkkVNQHZGQM%2B2s%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾1ï¼šä¼ ç»Ÿå’Œç”Ÿæˆå¼æ¨èèŒƒå¼å¯¹æ¯”</p>
<p>ç„¶è€Œï¼Œåœ¨è¿™ä¸€æ–°èŒƒå¼ä¸‹ï¼Œæ¨¡å‹å‘ˆç°å‡ºçš„æ–°ç‰¹æ€§ä¹Ÿä½¿å¾—å…¶åœ¨å·¥ä¸šåœºæ™¯çš„è§„æ¨¡åŒ–è®­ç»ƒé¢ä¸´å¤šé‡æŒ‘æˆ˜ï¼š</p>
<p><strong>æ ·æœ¬çš„æ•ˆç‡å’Œçµæ´»æ€§è¦æ±‚æ›´é«˜ï¼š</strong> ç”Ÿæˆå¼åœºæ™¯ä¸­æ ·æœ¬åŒ…æ‹¬ä¸‡çº§ç”¨æˆ·è¡Œä¸ºåºåˆ—ï¼Œå¤–åŠ å¤šæ¨¡æ€ç‰¹å¾å¼•å…¥ï¼Œå­˜å‚¨æˆæœ¬æ‰©å¤§ä¸Šç™¾å€ï¼›é•¿åºåˆ—ç‰¹å¾tokenizer/lookupä»¥åŠå¤šæ¨¡æ€ç‰¹å¾åŠ è½½ä¸è§£ç ï¼Œè®­ç»ƒèŠ‚ç‚¹çš„CPUå’Œå†…å­˜æˆä¸ºç“¶é¢ˆç‚¹ï¼Œé¢„å¤„ç†è€—æ—¶ä¹Ÿæˆå€å¢é•¿ã€‚åœ¨TB/PBçº§çš„æ ·æœ¬ã€TBçº§åˆ«å‚æ•°ä¸‹ï¼Œæ–­ç‚¹æ¢å¤æ•ˆç‡ä¹Ÿæ˜¯å½±å“è®­ç»ƒæ•´ä½“æ•ˆç‡çš„éå¸¸å…³é”®å› ç´ ã€‚</p>
<p><strong>æ¨¡å‹æ¶æ„è·¨ç•Œèåˆä¸æ¡†æ¶ååŒé¸¿æ²Ÿï¼š</strong> ç”Ÿæˆå¼æ¨èé‡‡ç”¨ T5ã€GPT-Decoder ç­‰ç±» LLM ç»“æ„ï¼Œç»“åˆ MoE æ··åˆæ¶æ„ï¼Œèåˆä¼ ç»Ÿæ¨èçš„ç¨€ç–ç‰¹å¾ä¸ LLM çš„ç¨ å¯†ç”Ÿæˆç‰¹æ€§ã€‚ä½†è¿™ä¸€è·¨ç•Œæ¶æ„å¯¼è‡´æŠ€æœ¯æ ˆå†²çªï¼Œä¼ ç»Ÿæ¨èä¾èµ–æˆç†Ÿçš„ TensorFlow ç”Ÿæ€ï¼ˆå°¤å…¶æ˜¯å¤§è§„æ¨¡ç¨€ç– Embedding æ–¹æ¡ˆï¼‰ï¼Œè€Œ LLM ç›¸å…³ä¼˜åŒ–ï¼ˆä½ç²¾åº¦é‡åŒ–ã€å¤šç»´åˆ†å¸ƒå¼å¹¶è¡Œï¼‰é›†ä¸­åœ¨ PyTorch ç”Ÿæ€ï¼Œä¸¤è€…é¸¿æ²Ÿä½¿å¾—æ¡†æ¶ååŒèƒ½åŠ›ç¼ºå¤±ï¼ŒTensorFlow ä¸‹å®ç° LLM ç±»ä¼˜åŒ–æˆæœ¬æé«˜ï¼ŒPyTorch åœ¨ç¨€ç– Embedding å¤„ç†ä¸Šæ€§èƒ½ä¸æ‰©å±•æ€§ä¸è¶³ã€‚</p>
<p><strong>æ¨¡å‹è§„æ¨¡åŒå‘æ‰©å±•ä¸è®­ç»ƒæ•ˆç‡æŒ‘æˆ˜ï¼š</strong> Scaling Law é©±åŠ¨ä¸‹ï¼Œç”Ÿæˆå¼æ¨èçš„ç¨€ç–ä¸ç¨ å¯†å‚æ•°è§„æ¨¡åŒæ­¥å¤§å¹…æå‡ã€‚ç»“åˆå…¨ç«™å…¨åŸŸæ•°æ®åŠç”¨æˆ·å…¨ç”Ÿå‘½å‘¨æœŸåºåˆ—ï¼Œæ¨¡å‹æ—¢è¦å¤„ç† TB çº§åŠ¨æ€è¯è¡¨ä¸å¼‚æ„ç‰¹å¾ï¼Œç¨ å¯†å‚æ•°è§„æ¨¡æ›´æ‰©å±•è‡³ B çº§ï¼ˆè¾ƒä¼ ç»Ÿæ¨èæ¨¡å‹çš„ 0.01Bï½0.02B æå‡è‡³å°‘ä¸¤ä¸ªæ•°é‡çº§ï¼‰ï¼Œè¿™ç§åŒå‘è§„æ¨¡æ¿€å¢ç»™è®­ç»ƒå¸¦æ¥éå¸¸å¤§çš„æ•ˆç‡æŒ‘æˆ˜ã€‚</p>
<p><strong>æ›´åŠ å¤æ‚çš„è®­ç»ƒæµç¨‹ï¼š</strong> â€œé¢„è®­ç»ƒ-ç›‘ç£å¾®è°ƒ-å¼ºåŒ–å­¦ä¹ â€å·²æˆä¸ºç”Ÿæˆå¼æ¨èé¢†åŸŸçš„å¸¸è§è®­ç»ƒæµç¨‹ã€‚åœ¨å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰é˜¶æ®µï¼Œé€šè¿‡è®¾è®¡ç²¾å·§çš„å¥–åŠ±ç³»ç»Ÿä»¥åŠèåˆå¤šç›®æ ‡ä¸šåŠ¡ç­–ç•¥ï¼Œä»è€Œè¿›ä¸€æ­¥æå‡æ¨¡å‹æ•ˆæœã€‚ç„¶è€Œï¼Œä¸æ ‡å‡†å¤§è¯­è¨€æ¨¡å‹çš„å¼ºåŒ–å­¦ä¹ ï¼ˆå¦‚GRPOï¼‰ç›¸æ¯”ï¼Œç”Ÿæˆå¼æ¨èçš„RLè®­ç»ƒæ›´ä¸ºå¤æ‚ï¼Œå…¶æŒ‘æˆ˜åœ¨äºå…¶æ¶æ„ï¼ˆå¤šç§è‡ªå®šä¹‰ç»„ä»¶ï¼Œå¦‚ç‰¹å¾æ‹¼æ¥æ¨¡å—ä¸RewardæœåŠ¡æ¥å£ï¼‰ã€å·¥ç¨‹ï¼ˆå®ç°TBçº§ç¨€ç–ä¸Bç¨ å¯†å‚æ•°çš„é«˜æ•ˆåŒæ­¥ï¼‰ã€ç³»ç»Ÿå¤æ‚æ€§ï¼ˆèåˆåœ¨çº¿å­¦ä¹ çš„åˆ†é’Ÿçº§æ›´æ–°éœ€æ±‚ï¼‰ï¼Œè¿™äº›ç‹¬ç‰¹çš„å¤æ‚æ€§ä½¿å¾—ç°æœ‰çš„å¤§è¯­è¨€æ¨¡å‹RLæ¡†æ¶ï¼ˆå¦‚VeRLã€TRLï¼‰éš¾ä»¥ç›´æ¥å¤ç”¨ã€‚</p>
<p>é’ˆå¯¹ä¸Šè¿°ç—›ç‚¹ä¸æŒ‘æˆ˜ï¼Œä¹æ•°å›¢é˜Ÿä¾æ‰˜è®­ç»ƒå¼•æ“é¢†åŸŸå¤šå¹´æŠ€æœ¯ç§¯æ·€ï¼Œæ‰“é€ äº†æ”¯æ’‘å¤šæ¡†æ¶ï¼ˆTensorFlow/PyTorchï¼‰ã€å¤šç¡¬ä»¶ï¼ˆGPU/NPUï¼‰ã€å¤šåœºæ™¯ï¼ˆä¼ ç»Ÿ / ç”Ÿæˆå¼ï¼‰çš„ç»Ÿä¸€è®­ç»ƒæ¡†æ¶ 9N-LLMã€‚è¯¥æ¡†æ¶æ·±åº¦èåˆ TensorFlowä¸PyTorch åŒæ¡†æ¶ï¼Œç»Ÿä¸€é€‚é… GPU ä¸ NPU å¼‚æ„ç¡¬ä»¶ï¼Œé€šè¿‡ååŒä¼˜åŒ–ç¨€ç–ä¸ç¨ å¯†å‚æ•°çš„å­˜å‚¨è®¡ç®—ã€æ³¨æ„åŠ›è®¡ç®—åŠå¼ºåŒ–å­¦ä¹ æµç¨‹ç­‰ç³»ç»Ÿæ€§é—®é¢˜ï¼ŒåŠ©åŠ›ç”Ÿæˆå¼æ¨èèŒƒå¼åœ¨äº¬ä¸œä¸šåŠ¡åœºæ™¯å¿«é€Ÿè½åœ°ï¼ˆå¦‚OxygenRECï¼‰ã€‚</p>
<h3 data-id="heading-1">äºŒã€9N-LLMç”Ÿæˆå¼æ¨èè®­ç»ƒæ¡†æ¶</h3>
<p>9N-LLM ä»åº•å±‚å¼•æ“ã€æ ¸å¿ƒç»„ä»¶åˆ°æ•´ä½“æ¡†æ¶ï¼Œä¸ºç”Ÿæˆå¼æ¨èè®­ç»ƒæä¾›äº†å…¨é“¾è·¯è§£å†³æ–¹æ¡ˆã€‚å…¶æ­è½½çš„æ ·æœ¬å¼•æ“ã€å¤§è§„æ¨¡åˆ†å¸ƒå¼ç¨€ç– Embedding å¼•æ“ã€åº•å±‚ç¨ å¯†åŠ é€Ÿåº“åŠ RL è®­ç»ƒæ¨¡å—ï¼Œå¯è½»æ¾æ”¯æ’‘10ä¸‡çº§åºåˆ—ã€10TB çº§ç¨€ç–ã€10B çº§è§„æ¨¡ç¨ å¯†çš„ç”Ÿæˆå¼æ¨èæ¨¡å‹è®­ç»ƒï¼ŒMFUï¼ˆç¡¬ä»¶ç®—åŠ›åˆ©ç”¨ç‡ï¼‰æœ€é«˜è¾¾40%ä»¥ä¸Šï¼Œç›®å‰è¯¥æ¡†æ¶å·²è½åœ°äº¬ä¸œä¸»ç«™APPçš„å¤šä¸ªæ ¸å¿ƒæµé‡åœºï¼Œä¸ºç”Ÿæˆå¼æ¨èæ¢ç´¢å’Œè½åœ°æä¾›åšå®æ”¯æ’‘ï¼Œæ ¸å¿ƒç‰¹æ€§å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16498b03b14d43a9adeca7acaad3d6af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=djnvkdwQk52ILMbmxMo3bWfKiDg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾2ï¼š9N-LLMæ•´ä½“æ¶æ„å›¾</p>
<p><strong>é«˜æ•ˆæ ·æœ¬å¼•æ“</strong>ï¼šåŸºäºRay Dataæ„å»ºåˆ†å¸ƒå¼æ ·æœ¬æ¡†æ¶ï¼Œè§£è€¦æ ·æœ¬ä¸æ¨¡å‹è®¡ç®—ï¼Œæ”¯æŒèŠ‚ç‚¹æ¨ªå‘æ‰©ç¼©å®¹ã€‚å¯¹æ ·æœ¬é¢„å¤„ç†ç®—å­è¿›è¡Œå‘é‡åŒ–æ”¹é€ ï¼Œæå‡æ ·æœ¬å¤„ç†æ•ˆç‡ã€‚é€šè¿‡æŠŠEmbeddingåŒ–çš„åºåˆ—å­˜æ”¾åˆ°KVç³»ç»Ÿï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åŠ¨æ€æ‹¼æ¥Embeddingï¼Œå¯ä»¥æ˜¾è‘—å‡å°‘æ ·æœ¬å­˜å‚¨æˆæœ¬ï¼Œçµæ´»çš„æ ·æœ¬æ‹¼æ¥æ–¹æ¡ˆæ”¯æ’‘å¤æ‚çš„è®­ç»ƒæµç¨‹ã€‚åœ¨åˆ†å¸ƒå¼æ ·æœ¬å¤„ç†æ¡†æ¶ä¸‹ï¼Œæä¾›äº†è¡Œç²’åº¦æ ·æœ¬ç®¡ç†èƒ½åŠ›ï¼Œä¸ºå¤§è§„æ¨¡è®­ç»ƒæä¾›æ ·æœ¬æ— æŸçš„æ–­ç‚¹æ¢å¤æ–¹æ¡ˆã€‚</p>
<p><strong>å¤§è§„æ¨¡åˆ†å¸ƒå¼è®­ç»ƒå¼•æ“ï¼š</strong> ä¸ºå¼¥åˆç”Ÿæˆå¼æ¨èä¸­TensorFlowç¨€ç–ç”Ÿæ€ä¸PyTorchç¨ å¯†ç”Ÿæ€çš„æŠ€æœ¯é¸¿æ²Ÿï¼Œæˆ‘ä»¬è‡ªä¸»ç ”å‘äº†æ–°ä¸€ä»£å¤§è§„æ¨¡åˆ†å¸ƒå¼è®­ç»ƒå¼•æ“ï¼Œè¯¥å¼•æ“é€šè¿‡å¯¹PyTorchè¿›è¡Œæ·±åº¦å‡çº§ï¼Œé‡‡ç”¨HBM-MEM åˆ†å±‚ç¼“å­˜è®¾è®¡åŠäº”çº§æµæ°´çº¿å¼ºä¸€è‡´åŒæ­¥è®­ç»ƒå¹¶è¡Œæ¶æ„ï¼Œå¯å®ç° 10TB çº§ç¨€ç– Embedding åˆ†å¸ƒå¼å¤šæœºæ‰©å±•è®­ç»ƒï¼Œæ€§èƒ½è¾¾å¼€æº SOTA æ–¹æ¡ˆçš„ 1.14-2.4 å€ï¼Œå†…ç½®æ¢¯åº¦ç´¯ç§¯ã€é‡åŒ–å¯¼å‡ºç­‰åŸºç¡€è®­ç»ƒç»„ä»¶ï¼Œæ­é…é¢‘æ¬¡ / æ¦‚ç‡ / ShowClick ç­‰å‡†å…¥æ·˜æ±°ç­–ç•¥ã€åŠ¨æ€å­¦ä¹ ç‡è°ƒåº¦ç­‰å®Œå¤‡è°ƒä¼˜æ–¹æ¡ˆï¼Œå…·å¤‡åˆ†é’Ÿçº§åœ¨çº¿å­¦ä¹ å¢é‡å¯¼å‡ºåŠ Kafka å‚æ•°å®æ—¶æ¨é€èƒ½åŠ›ï¼›åŒæ—¶ï¼Œé’ˆå¯¹ç”Ÿæˆå¼æ¨èåœºæ™¯SeqPack/LabelPackç­‰å®šåˆ¶åŒ–æ©ç åœºæ™¯ï¼ŒåŸºäº Cutlass/Triton/Tilelang æ·±åº¦ä¼˜åŒ–æ‰“é€ çš„AttnåŠ é€Ÿåº“ï¼Œ<strong>è¾ƒ FlexAttention/Compile æ€§èƒ½æå‡ 70%/3.0å€</strong>ã€‚</p>
<p><strong>çµæ´»çš„RLè®­ç»ƒèƒ½åŠ›ï¼š</strong> ä¾æ‰˜ Ray åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶æ„å»ºå¼ºåŒ–å­¦ä¹ è®­ç»ƒä½“ç³»ï¼Œé€šè¿‡æŠ½è±¡ SingleController ä¸ DistributeWorker æ ¸å¿ƒç»„ä»¶å®ç°æ¶æ„è§£è€¦ï¼Œå¯çµæ´»é€‚é…Collocatedä¸Disaggregatedä¸¤ç§æ¨¡å¼ï¼Œæ»¡è¶³ä¸åŒè§„æ¨¡åœºæ™¯ä¸‹çš„èµ„æºè°ƒåº¦éœ€æ±‚ã€‚å†…ç½®é«˜æ•ˆçš„ IPCï¼ˆè¿›ç¨‹é—´é€šä¿¡ï¼‰å‚æ•°åŒæ­¥æœºåˆ¶ï¼ŒLoss è®¡ç®—æ¨¡å—åŠå¯æ‰©å±•çš„ç®—æ³•ç»„ä»¶åº“ï¼Œç»“åˆæ ·æœ¬å’Œè®­ç»ƒå¼•æ“ï¼Œèƒ½å¤Ÿçµæ´»åŒ¹é…åº”ç”Ÿæˆå¼æ¨èåœºæ™¯ä¸­å¤šæ ·åŒ–çš„è‡ªå®šä¹‰ä¸šåŠ¡é€»è¾‘ï¼ŒåŒ…æ‹¬å¤æ‚å¥–åŠ±æœºåˆ¶è®¾è®¡ã€åŠ¨æ€ç­–ç•¥è°ƒæ•´ã€å¤šç›®æ ‡ä¼˜åŒ–éœ€æ±‚ç­‰ï¼Œå‡èƒ½é€šè¿‡ç»„ä»¶åŒ–é…ç½®å®ç°çµæ´»æ”¯æ’‘ï¼Œå…¼é¡¾è®­ç»ƒæ•ˆç‡ä¸ä¸šåŠ¡é€‚é…æ€§ã€‚</p>
<p>GPU/NPUå…¨é¢ç¡¬ä»¶é€‚é…ï¼Œè¿‘0åˆ‡æ¢æˆæœ¬ï¼šå…¨é¢è¦†ç›–äº¬ä¸œGPU/NPU ç¡¬ä»¶ï¼Œå¤šç¡¬ä»¶é—´è¿ç§»æˆæœ¬è¿‘ä¹ä¸ºé›¶ï¼ŒåŸæœ‰ä»£ç å¯åœ¨ NPU ä¸ GPU ç¯å¢ƒé—´è¿‘æ— ç¼åˆ‡æ¢ã€‚</p>
<p>æœ¬æ–‡åç»­ç« èŠ‚å°†ç»“åˆæ ¸å¿ƒæŠ€æœ¯è¦ç‚¹ï¼Œä»æ ·æœ¬å¼•æ“ã€è®­ç»ƒä¼˜åŒ–ã€è®­ç»ƒæµç¨‹ä¸‰ä¸ªæ–¹é¢ï¼Œæ·±å…¥é˜è¿°ä¹æ•°ç”Ÿæˆå¼æ¨èè®­ç»ƒçš„ç³»ç»ŸåŒ–è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-2">ä¸‰ã€é«˜æ•ˆæ ·æœ¬å¼•æ“</h3>
<p>ç›¸æ¯”ä¼ ç»Ÿçš„ LLM è®­ç»ƒï¼Œç”Ÿæˆå¼æ¨èè®­ç»ƒåœºæ™¯æ¶ˆè´¹æ ·æœ¬é‡å¤§ã€è®­ç»ƒè€—æ—¶é•¿ã€è®­ç»ƒèŠ‚ç‚¹å¤šã€‚å°¤å…¶æ˜¯å¼•å…¥ RL è®­ç»ƒåï¼Œå¤šé˜¶æ®µè®­ç»ƒç»„ç½‘å¤æ‚ï¼Œéœ€è¦ä½¿ç”¨æ›´åŠ çµæ´»çš„æ–¹å¼å®Œæˆæ¨ç†ç»“æœä¸ç‰¹å¾çš„é‡ç»„ã€‚å› æ­¤ï¼Œ9N-LLMä» IO ååã€æ ·æœ¬çµæ´»æ€§ã€è®­ç»ƒç¨³å®šæ€§ä¸‰ä¸ªæ–¹é¢æä¾›äº†å¼ºæœ‰åŠ›çš„æ ·æœ¬è§£å†³æ–¹æ¡ˆã€‚</p>
<p><strong>3.1ã€å‘é‡åŒ–æ ·æœ¬å¤„ç†ï¼Œæå‡ IO ååæ•ˆç‡</strong></p>
<p>PyTorch åŸç”Ÿ DataLoader æœºåˆ¶åœ¨æ ·æœ¬é¢„å¤„ç†é˜¶æ®µå­˜åœ¨æ•°æ®å¤„ç†æ•ˆç‡ä½ï¼Œææ˜“æˆä¸ºè®­ç»ƒç“¶é¢ˆç‚¹ã€‚ä¸ºæå‡æµ·é‡æ ·æœ¬çš„æ¶ˆè´¹æ•ˆç‡ï¼Œ9N-LLMæ ·æœ¬å¼•æ“ä»æ ·æœ¬æ–‡ä»¶è¯»å–ã€è§£æã€é¢„å¤„ç†ä¸€ç›´åˆ°è¾“é€ç»™æ¨¡å‹è®­ç»ƒçš„å…¨é“¾è·¯ä¸Šï¼Œåº”ç”¨å‘é‡åŒ–çš„æŠ€æœ¯æ¥åŠ é€Ÿæ ·æœ¬çš„å¤„ç†ï¼Œæå‡ IO ååæ•ˆç‡ã€‚</p>
<p><strong>Parquet åˆ—å­˜æ ·æœ¬</strong>ï¼šæ”¯æŒæŒ‰åˆ—è¯»å–ç‰¹å¾ï¼Œä¸ä¼šåƒè¡Œå­˜æ ·æœ¬æµªè´¹å¤§é‡çš„ IO å¸¦å®½ï¼›åˆ—å­˜æ ·æœ¬å…·æœ‰éå¸¸é«˜çš„å‹ç¼©ç‡ï¼Œå¯ä»¥æˆå€å‡å°‘å­˜å‚¨æˆæœ¬ï¼›åŸºäº SIMD å‘é‡åŒ–å’Œå¤šçº¿ç¨‹æŠ€æœ¯èƒ½å¤Ÿæä¾›æè‡´çš„è§£å‹ç¼©æ•ˆç‡ã€‚</p>
<p><strong>é“¾å¼å‘é‡åŒ–æ¶ˆè´¹é“¾è·¯</strong>ï¼šæ”¯æŒç”¨æˆ·ä½¿ç”¨Â <code>dataset.map().prefetch().take()</code>æ¨¡å¼æ¥æ¶ˆè´¹æ ·æœ¬ï¼Œåœ¨è°ƒç”¨é“¾è·¯ä¸ŠåŸºäº arrow å†…å­˜åˆ—å¼å¯¹è±¡ RecordBatch æå‡æ•°æ®å¤„ç†æ•ˆç‡ã€‚ç”¨æˆ·å¯ä»¥åœ¨Â <code>map(fn)</code>å‡½æ•°ä¸­ä¼ å…¥å‘é‡åŒ–çš„Â <code>fn</code>æ¥åŠ é€Ÿæ ·æœ¬é¢„å¤„ç†ï¼Œå¦‚åŸºäº pyarrow.compute å®ç°çš„ lookupã€truncate ç­‰æ•°æ®åŠ å·¥æ“ä½œã€‚å¦å¤–é€šè¿‡Â <code>prefetch</code>å®ç° IO Free æœºåˆ¶ï¼Œç”¨äºè¯„ä¼°æ¨¡å‹æé™æ€§èƒ½ã€‚</p>
<p><strong>DataLoader å‘é‡åŒ–æ”¹é€ </strong>ï¼š Dataset å’Œ Collator é—´äº¤äº’çš„å…ƒç´ ä»å•è¡Œå…ƒç´ æ”¹é€ ä¸º Batchï¼Œé¿å…äº†æ ·æœ¬æ‹†åˆ†ä¸é‡ç»„å¼€é”€ã€‚åŸæœ¬åœ¨ Collator å†…éƒ¨æ‰§è¡Œçš„å‡½æ•°ï¼Œé€šè¿‡å‘é‡åŒ–æ”¹é€ å¹¶è¿ç§»åˆ°Â <code>map(fn)</code>å‡½æ•°ä¸­ï¼Œè®© Collator ä¸“æ³¨äº Tensor çš„æ„å»ºï¼Œå¹¶ä¸”å°½å¯èƒ½æŠŠæ ‡é‡ç±»çš„ Tensor è¿›è¡Œå‹ç¼©å¤„ç†ï¼Œå‡å°‘çˆ¶å­è¿›ç¨‹é—´çš„æ•°æ®äº¤äº’å¼€é”€ã€‚</p>
<p><strong>3.2ã€åŠ¨æ€æ ·æœ¬ï¼Œé™ä½å­˜å‚¨æˆæœ¬å¹¶æé«˜æ ·æœ¬çµæ´»æ€§</strong></p>
<p><strong>3.2.1ã€åŠ¨æ€ç‰¹å¾æ‹¼æ¥ï¼Œæä¾›çµæ´»é«˜æ•ˆæ ·æœ¬æ„å»ºæ–¹å¼</strong></p>
<p>åœ¨ç”Ÿæˆå¼æ¨èçš„ GRPO æµç¨‹é‡Œé¢ï¼Œç”± Policy Model æ¨ç†ç”Ÿæˆçš„ sampling æ ·æœ¬ï¼Œéœ€è¦æ‹¼æ¥ä¸Š item feature å†äº¤ç»™ Reward Model ä½¿ç”¨ã€‚ä¼ ç»Ÿçš„åšæ³•æ˜¯ sampling æ ·æœ¬å†™å…¥åˆ° Hive/Kafka åï¼Œå†ç”± Spark ç­‰è®¡ç®—å¼•æ“è¿›è¡Œç¦»çº¿æ ·æœ¬æ‹¼æ¥ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸‰ä¸ªé˜¶æ®µçš„è®­ç»ƒæ¯”è¾ƒå‰²è£‚ï¼Œå¹¶ä¸”ä¼šå­˜å‚¨å¤§é‡å†—ä½™çš„ item featureã€‚</p>
<p>æ ·æœ¬å¼•æ“å¼€å‘äº†åŸºäº HBase çš„åŠ¨æ€ç‰¹å¾æ‹¼æ¥æ–¹æ¡ˆï¼Œæ”¯æ’‘çµæ´»çš„æ ·æœ¬å¤„ç†æ–¹å¼ï¼Œç”¨æˆ·å¯ä»¥æå‰æŠŠä¸åŒçš„ item features å¯¼å…¥åˆ°ä¸åŒçš„ HBase è¡¨ä¸­ã€‚Reward Model ç›´æ¥ä» Kafka/Hive è¡¨ä¸­å–å¾—æ¨ç†ç»“æœï¼Œä½¿ç”¨ä¸»é”®å»æ‹¼æ¥ HBase ä¸­çš„ item features è¿›è¡Œåç»­çš„è®­ç»ƒæµç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1021e24bdbfd477c806076a4b65d75a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=u0X4KU3SnbDQteY2PbF2afEPFgk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾3ï¼šåŠ¨æ€ç‰¹å¾æ‹¼æ¥</p>
<p><strong>3.2.2ã€Fixed-Period User Event ç‰¹å¾å‹ç¼©ï¼Œå‡å°‘æ— æ•ˆå­˜å‚¨å’Œå†—ä½™è®¡ç®—</strong></p>
<p>ä¼ ç»Ÿçš„è®­ç»ƒæ¨¡å¼ä¸‹ï¼Œç”¨æˆ·çš„æ¯ä¸€æ¬¡æ›å…‰éƒ½ä¼šä¿å­˜ä¸€æ¡æ ·æœ¬ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­éœ€è¦å¯¹åŒä¸€ä¸ªç”¨æˆ·çš„ç›¸åŒç‰¹å¾è¿›è¡Œå¤šæ¬¡è®¡ç®—ã€‚è€Œåœ¨ç”Ÿæˆå¼æ¨èæ¨¡å‹ä¸­ï¼Œæ˜¯å¯¹ç”¨æˆ·çš„è¡Œä¸ºåºåˆ—å»ºæ¨¡ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠåŒä¸€ç”¨æˆ·ä¸€æ®µæ—¶é—´å†…çš„å¤šæ¬¡æ›å…‰èšåˆåœ¨ä¸€èµ·ï¼Œæ„æˆ Fixed-Period User Event ç‰¹å¾ã€‚ä¸€æ–¹é¢æ˜¾è‘—å‡å°‘äº† Common ç‰¹å¾çš„å­˜å‚¨æˆæœ¬ï¼Œå¦å¤–åœ¨ç‰¹å¾é¢„å¤„ç†è¿‡ç¨‹ä¸­åªéœ€è¦æ‰§è¡Œä¸€æ¬¡ç‰¹å¾ç¼–è§£ç ï¼Œå¹¶æ ¹æ®è¡Œä¸ºçš„äº§ç”Ÿæ—¶é—´ç”Ÿæˆæ©ç ï¼Œé¿å…æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„ç‰¹å¾ç©¿è¶Šç°è±¡ï¼ŒåŒæ—¶æ˜¯ç”Ÿæˆå¼æ¨èæ¨¡å‹è®¡ç®—åŠ é€Ÿçš„æ ¸å¿ƒä¾èµ–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d300c8f867054e0393a6b45b6d507329~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=jWnMzZj10eudFVjCtUleBq8E4so%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾4ï¼šFixed-Period User Event ç‰¹å¾å‹ç¼©</p>
<p><strong>3.3ã€æ ·æœ¬æ— æŸçš„æ–­ç‚¹ç»­è®­/ç»­æ¨ï¼Œæå‡ç®—åŠ›èµ„æºåˆ©ç”¨æ•ˆç‡</strong></p>
<p>ä¸ºåº”å¯¹è®­ç»ƒä¸­ç”±è½¯ç¡¬ä»¶æ•…éšœå¼•å‘çš„è®­ç»ƒä¸­æ–­ï¼Œéœ€æ”¯æŒä»»åŠ¡å¤±è´¥æ¢å¤ã€‚ä¸ºäº†å……åˆ†åˆ©ç”¨é—²ç½®èµ„æºï¼Œ9N-LLMæ”¯æŒè®­ç»ƒ/æ¨ç†è¿‡ç¨‹ä¸­åŠ¨æ€æ‰©ç¼©å®¹èŠ‚ç‚¹ï¼Œå¹¶æ”¯æŒåŠ¨æ€æ ·æœ¬åˆ†å‘ï¼Œå³åœ¨å¼¹æ€§è®­ç»ƒ/æ¨ç†åœºæ™¯ä¸‹æ”¯æŒæ ·æœ¬æ— æŸçš„æ–­ç‚¹ç»­è®­/ç»­æ¨ï¼Œæå‡ç®—åŠ›èµ„æºåˆ©ç”¨æ•ˆç‡ï¼Œå¦‚å›¾5å’Œå›¾6æ‰€ç¤ºï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0bd3740197a400db54688fca73ce56c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=uWZv3GX80i9lZIEMOx2goCeBuPo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸ºæ­¤ï¼Œæ ·æœ¬å¼•æ“æ„å»ºäº†è¡Œç²’åº¦æ ·æœ¬æ— æŸæ–­ç‚¹ç»­è®­/ç»­æ¨è§£å†³æ–¹æ¡ˆï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹èƒ½åŠ›ï¼š</p>
<p><strong>è¡Œçº§æ ‡è¯†ï¼š</strong> åœ¨æ•´ä¸ªè®­ç»ƒ/æ¨ç†é“¾è·¯ä¸­ä¼ é€’æ¯æ¡æ ·æœ¬çš„å”¯ä¸€è¡Œçº§å…ƒä¿¡æ¯ï¼Œç²¾ç¡®è®°å½•æ ·æœ¬æ¶ˆè´¹è¿›åº¦ï¼›</p>
<p><strong>å¿«é€Ÿå®šä½ï¼š</strong> å½“ä»»åŠ¡å¤±è´¥æ¢å¤æ—¶ï¼Œèƒ½å¿«é€Ÿè·³è¿‡å·²æ¶ˆè´¹çš„æ ·æœ¬ï¼Œé¿å…æ— æ•ˆ IOï¼›</p>
<p><strong>åŠ¨æ€ shardingï¼š</strong> å½“å‘ç”Ÿæ‰©ç¼©å®¹æ—¶ï¼Œåœ¨ worker é—´å‡åŒ€åˆ†é…æœªè¢«æ¶ˆè´¹çš„æ ·æœ¬ï¼›</p>
<p><strong>æ¨¡å‹ä¸æ•°æ®åŒæ­¥ï¼š</strong> å»ºç«‹æ ·æœ¬ ckpt ä¸æ¨¡å‹ ckpt çš„åŒæ­¥æœºåˆ¶ï¼Œæ¨¡å‹æ¢å¤æ—¶åŒæ­¥åŠ è½½æ ·æœ¬ ckptï¼›</p>
<p><strong>åˆ†å¸ƒå¼æ ·æœ¬å¤„ç†ï¼š</strong> åŸºäº Ray Data æ„å»ºåˆ†å¸ƒå¼çš„æ ·æœ¬å¤„ç†èƒ½åŠ›ï¼Œæ”¯æŒæ ·æœ¬å¤„ç†èµ„æºçš„æ¨ªå‘åŠ¨æ€æ‰©ç¼©å®¹ã€‚</p>
<h3 data-id="heading-3">å››ã€å¤§è§„æ¨¡ç¨€ç–åˆ†å¸ƒå¼å¼•æ“</h3>
<p>ç”Ÿæˆå¼æ¨èæ–°èŒƒå¼ä¸‹ï¼Œå¤§è§„æ¨¡ç¨€ç–å‚æ•°ä»æ˜¯ä¿éšœæ¨¡å‹æ•ˆæœçš„æ ¸å¿ƒæ”¯æ’‘ã€‚9N-LLMé‡æ„äº†é›¶å”®åœºæ™¯å·²æˆç†Ÿè½åœ°çš„è®­ç»ƒå¼•æ“ï¼ŒåŒæ—¶å…¼å®¹TensorFlow/PyTorchã€GPU/NPU ç¡¬ä»¶ï¼›å…¶ä¾æ‰˜å¤šçº§ç¼“å­˜ã€äº”çº§æµæ°´çº¿çš„æ ¸å¿ƒæ¶æ„è®¾è®¡ï¼ŒåŒæ—¶å‡­å€Ÿå®Œå¤‡çš„è°ƒå‚ç­–ç•¥æœºåˆ¶ï¼Œå¯æ”¯æ’‘ 10TB çº§ç¨€ç–å‚æ•°é«˜æ•ˆçš„æ¨ªå‘æ‰©å±•è®­ç»ƒã€‚</p>
<p><strong>4.1ã€å¤šçº§ Cache + å…¨ GPU/NPU è®¡ç®—/é€šä¿¡æ¶æ„ï¼š10TB çº§ç¨€ç–å‚æ•°å­˜å‚¨ä¸è®¡ç®—åŸºçŸ³</strong></p>
<p>æ•´ä½“ä¸Šï¼Œç¨€ç–å‚æ•°é€šè¿‡æ¨¡å‹å¹¶è¡Œäº’ä¸é‡å åˆ†æ•£åœ¨ä¸åŒè®­ç»ƒèŠ‚ç‚¹ä¸Šï¼Œç¨ å¯†å‚æ•°åˆ™é€šè¿‡æ•°æ®å¹¶è¡Œåœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šå¤åˆ¶ã€‚æ¯æ¬¡è¿­ä»£æ—¶ï¼Œå„èŠ‚ç‚¹è¯»å–æœ¬åœ°æ•°æ®ï¼ŒæŒ‰ç¨€ç–å‚æ•°åˆ†ç‰‡è§„åˆ™å¯¹æ ·æœ¬ä¸­çš„ Key è¿›è¡Œåˆ†æ¡¶ï¼Œå¹¶é€šè¿‡ All2All å°† Key å‘é€åˆ°å¯¹åº”èŠ‚ç‚¹ï¼ŒåŒæ—¶æŸ¥è¯¢å¯¹åº”çš„ Embedding å‘é‡ï¼Œå†é€šè¿‡ All2All ä¼ å›å„èŠ‚ç‚¹ï¼Œéšåæ‰§è¡Œå‰å‘ä¸åå‘ä¼ æ’­ã€‚ç¨ å¯†å‚æ•°çš„æ¢¯åº¦é€šè¿‡ AllReduce åœ¨å„èŠ‚ç‚¹é—´åŒæ­¥ï¼Œç¨€ç–å‚æ•°çš„æ¢¯åº¦åˆ™é€šè¿‡ All2All ä¼ è¾“å¹¶æ›´æ–°å¯¹åº”çš„ Embedding å‘é‡ã€‚</p>
<p>ä¸ºæ”¯æ’‘ä¸‡äº¿çº§ç¨€ç–å‚æ•°çš„è®­ç»ƒï¼Œå¼•æ“é‡‡ç”¨Device/Host Memory å¤šçº§å­˜å‚¨ + å…¨ GPUè®¡ç®—/é€šä¿¡æ ¸å¿ƒæ¶æ„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/187bb818f5dd497c9959634d7fc03d07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=ms4pZVmKJYn6F6FWZDUMS7t4JHI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾7ï¼šåˆ†å¸ƒå¼åˆ†å±‚å­˜å‚¨æ¶æ„</p>
<p><strong>Device/Host Memory åˆ†å¸ƒå¼åˆ†å±‚ KV å­˜å‚¨æ¶æ„ï¼š</strong> è¯¥æ¶æ„ä»¥HBM-MEMåˆ†å±‚è®¾è®¡ä¸ºæ ¸å¿ƒï¼Œå®ç°å¤§è§„æ¨¡ç¨€ç–å‚æ•°çš„é«˜æ•ˆè®¿é—®ã€‚è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œç¨€ç–å‚æ•°ä¼šè¢«ç»„ç»‡ä¸ºç‹¬ç«‹çš„é”®å€¼å¯¹åˆ†ç‰‡ï¼Œé‡‡ç”¨æ— é‡å ç­–ç•¥å­˜å‚¨äºå„è®­ç»ƒèŠ‚ç‚¹çš„ä¸»æœºå†…å­˜Host Memoryä¸­ï¼ˆä¾‹å¦‚ï¼Œå½“åˆ†ç‰‡æ€»æ•°ä¸º 256ã€è®­ç»ƒèŠ‚ç‚¹æ•°ï¼ˆrank æ•°ï¼‰ä¸º 8 æ—¶ï¼Œå„åˆ†ç‰‡ä¸èŠ‚ç‚¹çš„å¯¹åº”åˆ†å¸ƒå…³ç³»å¦‚å›¾8æ‰€ç¤ºï¼‰ã€‚åŒæ—¶é€šè¿‡æ— é”é˜Ÿåˆ—è®¿é—®å’Œå¹¶è¡Œè¯»å–æ›´æ–°æœºåˆ¶ï¼Œå¯å°†Mem EmbeddingæŸ¥è¯¢ã€æ›´æ–°ã€Save/Loadæ•ˆç‡æå‡æ•°å€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/490ef61e4e3a43dcbf738579370acc1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=iWNHWXDT8ug5GIs1xbXIQ4wpYAU%3D" alt="image.png" loading="lazy"/></p>
<p>å›¾8ï¼šç¨€ç–å‚æ•°åˆ†ç‰‡ç¤ºæ„å›¾</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œè®¾å¤‡å†…å­˜Device Memoryæ‰¿æ‹…ç¼“å­˜æ ¸å¿ƒè§’è‰²ï¼Œå…¶ä¼šæå‰åŠ è½½å¹¶ä¿å­˜æœªæ¥ N ä¸ªè®­ç»ƒæ­¥éª¤ä¸­æ‰€éœ€çš„å…¨éƒ¨ Embedding å‚æ•°ã€‚åˆ†å±‚è®¾è®¡ä¸‹ï¼Œæ¯ä¸ªè®­ç»ƒæ­¥éª¤æ— éœ€é¢‘ç¹ä»ä¸»æœºå†…å­˜è¯»å–æ•°æ®ï¼Œè€Œæ˜¯åˆ©ç”¨è®¾å¤‡å†…å­˜çš„é«˜å¸¦å®½ç‰¹æ€§ç›´æ¥ä»ç¼“å­˜ä¸­å¿«é€Ÿè·å–æ‰€éœ€å‚æ•°ï¼Œä»è€Œé™ä½å‚æ•°è¯»å–å»¶è¿Ÿï¼Œæ˜¯å®ç°10TBçº§å‚æ•°å¯æ‰©å±•ã€é«˜æ•ˆå­˜å–çš„æ ¸å¿ƒã€‚</p>
<p><strong>å…¨ GPU/NPU è®¡ç®—ä¸é€šä¿¡ï¼š</strong> Emb çš„æŸ¥è¯¢ã€æ¢¯åº¦åŒæ­¥é‡‡ç”¨ GPU Direct RDMA é›†åˆé€šä¿¡ï¼Œä»¥æœ€å¤§åŒ–å¸¦å®½åˆ©ç”¨ï¼›ä¾æ‰˜å¯¹ç§°å†…å­˜ï¼ˆSymmetric Memoryï¼‰æŠ€æœ¯ï¼Œæ„å»ºéé˜»å¡å•è¾¹ All2All é€šä¿¡æ¨¡å¼ï¼Œæ¥æ”¶æ–¹æ— éœ€é˜»å¡ç­‰å¾…ï¼Œå¤§å¹…é™ä½é€šä¿¡å»¶è¿Ÿï¼›åŒæ—¶ç»“åˆæµæ°´çº¿åˆ†ç‰‡æŠ€æœ¯ï¼Œåœ¨å¤šä¸ªæµ‹è¯•åœºæ™¯ä¸­å®ç° All2All ååé‡ 5%ï½30% çš„æå‡ã€‚åŒæ—¶ï¼Œé’ˆå¯¹æ‰€æœ‰ Embedding æ“ä½œï¼ˆId è¾“å…¥åˆ†ç‰‡ã€EmbeddingæŸ¥è¯¢ã€Embedding Grad èšåˆã€ç¨€ç–ä¼˜åŒ–å™¨ã€Embedding å‚æ•°æ›´æ–°ï¼‰ï¼Œæˆ‘ä»¬å‡é‡æ–°ä½¿ç”¨ CUDA/Triton/Tilelang å®ç°å’Œä¼˜åŒ–ï¼Œä»¥å……åˆ†é‡Šæ”¾ç¡¬ä»¶è®¡ç®—æ½œèƒ½ã€‚</p>
<p><strong>4.2ã€å¼ºä¸€è‡´åŒæ­¥äº”çº§æµæ°´çº¿ï¼šæ€§èƒ½ä¸ºä¸šç•Œå¼€æºæœ€ä½³æ€§èƒ½çš„1.14ï½2.44å€</strong></p>
<p>åˆ†å±‚ MEM-HBM æ¶æ„è™½è§£å†³äº†10 TB çº§å‚æ•°çš„æ¨ªå‘æ‰©å±•éš¾é¢˜ï¼Œä½†åœ¨è®­ç»ƒæµç¨‹ä¸­ï¼Œä» MEM æŸ¥è¯¢è®­ç»ƒæ‰€éœ€ Embeddingã€å†å°†æ›´æ–°åçš„ Embedding å†™å› MEM çš„è¿‡ç¨‹ä¸­ï¼Œé¢å¯¹å¤§è§„æ¨¡ã€è¶…é•¿åºåˆ—ã€é«˜é¢‘ç‡çš„æŸ¥è¯¢ä¸æ›´æ–°åœºæ™¯ï¼ŒCPU ä¸²è¡ŒæŸ¥è¯¢ã€H2D/D2Hæ•°æ®æ‹·è´çš„ç­‰å¾…è€—æ—¶ä¼šå¤§å¹…å¢åŠ ï¼Œç›´æ¥åˆ¶çº¦äº†æ•´ä¸ªæ¨¡å‹çš„è®­ç»ƒæ•ˆç‡ï¼ˆå¦‚å›¾9ä¸­çº¢è‰²éƒ¨åˆ†ï¼‰ã€‚ä»¥ä¸€ä¸ªç®€å•ä¾‹å­æ¥è¯´ï¼Œå¦‚è®­ç»ƒBatch size ä¸º2048ï¼Œ åºåˆ—é•¿åº¦ä¸º1wï¼ˆ70%é‡å¤ï¼‰ï¼ŒDimä¸º1024ï¼Œ åˆ™å•æ¬¡æŸ¥è¯¢é‡çº¦23.4GB ï¼ˆ2048<em>10000</em>1024<em>4/(1024</em>1024<em>1024)</em>(1-0.7)ï¼‰ ï¼ŒH2Dè€—æ—¶å¤§çº¦ä¸º400ï½800msï¼ˆPCIE 5.0x16 å•å‘å¸¦å®½å®æµ‹çº¦30ï½50GBï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4904bd2e45824f0082f8a65e40440f2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=iwKDct8lsaqsg2n1WoJt3exK7X0%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘ä»¬å®ç°äº†åŠ¨æ€è¯è¡¨çš„å¤šçº§æµæ°´æ–¹æ¡ˆï¼Œé€šè¿‡æ‹†è§£æµç¨‹ã€å¹¶è¡Œæ©ç›–çš„æ ¸å¿ƒæ€è·¯é‡ç‚¹è§£å†³è¯¥é—®é¢˜ï¼Œå°†åŸæœ¬ä¸²è¡Œçš„ â€œæ•°æ®å‡†å¤‡- Embedding æŸ¥è¯¢-æ¨¡å‹è®¡ç®—â€ å…¨é“¾è·¯ï¼Œæ•´ç†ä¸ºäº”ä¸ªé˜¶æ®µï¼š</p>
<p><strong>Data Prefetchï¼š</strong> æ ·æœ¬è¯»å–å’Œæ ·æœ¬è§£æï¼›</p>
<p><strong>Data H2Dï¼š</strong> å°†MEMä¸­è§£æåæ ·æœ¬æ‹·è´è‡³Deviceï¼›</p>
<p><strong>Input Distï¼š</strong> æå–æ ·æœ¬ä¸­çš„ç¨€ç–ç‰¹å¾Keyï¼Œæ ¹æ®è¯è¡¨åˆ†ç‰‡è§„åˆ™ï¼Œå°†Keyè¿›è¡Œåˆ†æ¡¶å¹¶è¿›è¡ŒAllToAllï¼Œç¡®ä¿æ¯ä¸ªè®¾å¤‡ä»…æ¥æ”¶ä¸è‡ªèº«è´Ÿè´£çš„ Embeddingåˆ†ç‰‡åŒ¹é…çš„keyï¼›</p>
<p><strong>Emb Lookupï¼š</strong> æ ¹æ®æ¥å—åˆ°çš„Keyåœ¨Host MEM ä¾§å®ŒæˆEmbeddingå‘é‡æŸ¥è¯¢ï¼Œå†å°†æŸ¥è¯¢åˆ°çš„ Embedding å‘é‡æ‹·è´è‡³Deviceï¼›</p>
<p><strong>Fwd/Bwd/Optï¼š</strong> æ‰§è¡Œ Emb All2Allï¼Œå°†Embedding åŒæ­¥è‡³å¯¹åº”çš„Rankï¼›è‡³æ­¤æœ¬æ¬¡è®­ç»ƒè¿­ä»£æ‰€éœ€çš„Embeddingå‘é‡å·²åœ¨HBMå°±ç»ªï¼›æ¥ä¸‹æ¥å®Œæ•´æ‰§è¡Œæ¨¡å‹çš„å‰å‘è®¡ç®—ã€åå‘è®¡ç®—å¾—åˆ°å¯¹åº”çš„æ¢¯åº¦ï¼›æ‰§è¡ŒGrad All2Alllï¼Œå°†æ¢¯åº¦å‘é€è‡³å¯¹åº”Rankï¼Œè¿›è¡Œæ¢¯åº¦èšåˆå¹¶æ›´æ–°å‚æ•°ï¼Œæœ€åå°†æ›´æ–°åçš„Embedding å†™å›MEMã€‚Â </p>
<p><strong>äº”çº§æµæ°´çº¿ï¼šé€šè¿‡ç²¾ç»†åŒ–çš„é˜¶æ®µé‡å æ‰§è¡Œæœºåˆ¶å®ç°å»¶è¿Ÿæ©ç›–</strong></p>
<p>åœ¨è®­ç»ƒä¸­ï¼Œå½“ batch 0 åœ¨ GPU ä¸Šè¿›è¡Œæ ¸å¿ƒè®¡ç®—æ—¶ï¼ˆå‰å‘ä¼ æ’­ã€åå‘ä¼ æ’­åŠå‚æ•°æ›´æ–°ï¼‰ï¼Œç³»ç»Ÿé€šè¿‡ä»»åŠ¡è°ƒåº¦å·²åŒæ­¥æ¨è¿›åç»­å¤šä¸ªæ‰¹æ¬¡ï¼ˆå¦‚ batch 1 è‡³ 4ï¼‰çš„é¢„å¤„ç†å·¥ä½œã€‚ä¾‹å¦‚ï¼Œbatch 1 åœ¨æŸ¥è¯¢å‘é‡ï¼Œbatch 2 åœ¨è¿›è¡Œé€šä¿¡ï¼Œbatch 3 åœ¨å‡†å¤‡æ•°æ®ï¼Œbatch 4 åˆ™åœ¨é¢„åŠ è½½æ•°æ®ã€‚è¿™ç§â€œè®¡ç®—ä¸æ•°æ®å‡†å¤‡å¹¶è¡Œâ€çš„æµæ°´çº¿è®¾è®¡ï¼Œæœ‰æ•ˆæ©ç›–äº†æ•°æ®ä¼ è¾“ä¸é€šä¿¡çš„å»¶è¿Ÿï¼Œå°†ç­‰å¾…æ—¶é—´è½¬åŒ–ä¸ºæœ‰æ•ˆå·¥ä½œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93855301e5d947d38cc926a1e01d345e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=JrT8MmGIpJMttPuRj5OyrhhqNPI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>åœ¨å¤§è§„æ¨¡æŸ¥è¯¢æ›´æ–°åœºæ™¯ä¸‹ï¼Œè¯¥æµæ°´çº¿é‡å æ‰§è¡Œæœºåˆ¶çš„ä¼˜åŠ¿æ›´ä¸ºçªå‡º â€”â€” å…¶é€šè¿‡æŠµæ¶ˆæ•°æ®é¢„å¤„ç†ã€ä¼ è¾“ã€æŸ¥è¯¢ç­‰ç¯èŠ‚çš„å»¶è¿Ÿå¼€é”€ï¼Œå¤§å¹…ç¼©çŸ­äº†å•ä¸ªè®­ç»ƒè¿­ä»£çš„æœ‰æ•ˆè€—æ—¶ï¼Œæ¯”å¦‚åœ¨ç™¾G ç¨€ç–ã€Bçº§ç¨ å¯†æ¨¡å‹åœºæ™¯æµ‹è¯•ä¸­ï¼Œå¯å°†Embeddingè€—æ—¶å æ¯”ä»15%é™ä½è‡³5%ä»¥å†…ï¼Œå…¶EmbeddingæŸ¥è¯¢ã€æ›´æ–°æ€§èƒ½åœ¨å†…éƒ¨ç¯å¢ƒä¸‹æµ‹è¯•ï¼Œä¸åŒåœºæ™¯ä¸ºä¸šç•Œå¼€æºæœ€ä½³æ€§èƒ½çš„1.14ï½2.44å€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d537a6e6b4a84dee950dfe615dad0fa5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=3IgSE%2ByVXwDPXt9u1RC16RLo4Jg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>4.3ã€å®Œå¤‡ç¨€ç–å‚æ•°è°ƒä¼˜ç­–ç•¥å’Œè®­ç»ƒæœºåˆ¶</strong></p>
<p>å›´ç»•ç¨€ç–æ¨¡å‹è®­ç»ƒçš„å…¨æµç¨‹éœ€æ±‚ï¼Œå¼•æ“æ„å»ºäº†è¦†ç›–Embeddingå‡†å…¥ã€æ·˜æ±°è°ƒä¼˜ç­–ç•¥ã€å®šåˆ¶åŒ–ç¨€ç–ä¼˜åŒ–å™¨ã€åŠ¨æ€è¯è¡¨å¯¼å…¥å¯¼å‡ºçš„å®Œå¤‡æœºåˆ¶ï¼Œç¡®ä¿ 10TB çº§æ‰©å±•ä¸‹çš„ç¨€ç–å‚æ•°ç²¾ç»†åŒ–è®­ç»ƒã€‚</p>
<p><strong>4.3.1ã€ç‰¹å¾å‡†å…¥ä¸æ·˜æ±°ï¼Œç²¾ç»†åŒ–ç®¡ç†åŠ¨æ€è¯è¡¨</strong></p>
<p>é’ˆå¯¹ä½ä»·å€¼ç‰¹å¾æµªè´¹èµ„æºã€å¼•å‘è¿‡æ‹Ÿåˆçš„é—®é¢˜ï¼Œé€šè¿‡çµæ´»çš„å‡†å…¥ä¸æ·˜æ±°ç­–ç•¥ï¼Œå®ç°åŠ¨æ€è¯è¡¨çš„é«˜æ•ˆç®¡ç†ï¼š</p>
<p>å‡†å…¥ç­–ç•¥ï¼šæ”¯æŒ CountFilterï¼ˆé¢‘æ¬¡é˜ˆå€¼ï¼‰ã€ProbabilityFilterï¼ˆå‡ ä½•åˆ†å¸ƒæ¦‚ç‡ï¼‰ã€ShowClickFilterï¼ˆç‚¹å‡»å¾—åˆ†ï¼‰ä¸‰ç§æ–¹å¼ï¼Œè¿‡æ»¤ä½è´¡çŒ®ç‰¹å¾ï¼Œæå‡æ¨¡å‹æ³›åŒ–èƒ½åŠ›å¹¶å‡å°‘èµ„æºå ç”¨ã€‚</p>
<p>æ·˜æ±°ç­–ç•¥ï¼šæä¾› CountShrinkï¼ˆç‰ˆæœ¬æ–°é²œåº¦ï¼‰ã€L2WeightShrinkï¼ˆè´¡çŒ®åº¦é‡åŒ–ï¼‰ã€TimeFreqCombineShrinkï¼ˆæ—¶é—´ + é¢‘æ¬¡å¤šç»´åº¦ï¼‰ã€ShowClickShrinkï¼ˆç‚¹å‡»ç»Ÿè®¡ï¼‰å››ç§é€‰æ‹©ï¼Œå‰”é™¤æ— æ•ˆç‰¹å¾ï¼ŒèŠ‚çº¦å†…å­˜å¹¶ä¿éšœè®­ç»ƒæ•ˆæœã€‚</p>
<p><strong>4.3.2ã€å®šåˆ¶åŒ–ç¨€ç–ä¼˜åŒ–å™¨</strong></p>
<p>é’ˆå¯¹TensorFlow/PyTorch åŸç”Ÿä¼˜åŒ–å™¨åœ¨ç¨€ç–åœºæ™¯ä¸‹é€‚é…æ€§ä¸è¶³çš„é—®é¢˜ï¼Œå¼•æ“é€šè¿‡åŒé‡æœºåˆ¶å®ç°çµæ´»è°ƒæ§ï¼š</p>
<p>ä¸€æ–¹é¢å†…ç½® Lazy Adamã€RAdaGradã€AdamDecayã€AdamW ç­‰å¤šç§ç¨€ç–ä¼˜åŒ–å™¨</p>
<p>å¦å¤–ä¸€æ–¹é¢æ”¯æŒè‡ªå®šä¹‰å­¦ä¹ ç‡è°ƒåº¦ç­–ç•¥ï¼Œå¯æ ¹æ®è®­ç»ƒè¿›åº¦åŠ¨æ€è°ƒæ•´ç¨€ç–å‚æ•°å­¦ä¹ ç‡ï¼Œå†…ç½®ä¸»æµç­–ç•¥ï¼Œçº¿æ€§è¡°å‡ï¼ˆå¹³ç¨³é€’å‡ï¼‰ã€ä½™å¼¦é€€ç«ï¼ˆå¹³æ»‘ä¸‹é™ï¼‰ã€æŒ‡æ•°è¡°å‡ï¼ˆå…ˆå¿«åæ…¢ï¼‰ã€‚</p>
<p><strong>4.3.3ã€åŠ¨æ€è¯è¡¨ Save/Load CKPTï¼šé«˜æ•ˆæ”¯æ’‘å¤§è§„æ¨¡éƒ¨ç½²</strong></p>
<p>é‡‡ç”¨åˆ†ç‰‡å¼è¯è¡¨åˆ†å¸ƒè®¾è®¡ï¼ˆç±»æ¨¡å‹å¹¶è¡Œï¼‰ï¼Œå°†ç¨€ç–å‚æ•°æ‹†åˆ†è‡³å¤šä¸ªè®­ç»ƒèŠ‚ç‚¹ï¼Œç»“åˆç‹¬ç«‹çš„ç¨€ç–éƒ¨åˆ†å­˜å‚¨æœºåˆ¶ï¼Œæå‡è¯è¡¨è§„æ¨¡ä¸æ“ä½œæ•ˆç‡ï¼š</p>
<p>æ ¸å¿ƒä¼˜åŠ¿ï¼šå¤šåˆ†ç‰‡å¹¶è¡ŒåŠ é€ŸæŸ¥è¯¢ / æ›´æ–° / Save / Loadï¼›å……åˆ†åˆ©ç”¨å¤šèŠ‚ç‚¹å†…å­˜ / æ˜¾å­˜ï¼Œçªç ´è¯è¡¨è§„æ¨¡ä¸Šé™ï¼›ä¸ Dense éƒ¨åˆ†è§£è€¦ï¼Œæ“ä½œè½»é‡ã€æ§åˆ¶ç²¾ç»†ã€‚</p>
<p>æ”¯æŒå¢é‡å¯¼å‡ºåŠ è½½ã€ä½ç²¾åº¦ï¼ˆFP16/INT8/INT4ï¼‰é‡åŒ–å¯¼å‡ºï¼Œkafkaæµå¼æ¨é€ï¼Œæ˜¯é™ä½çº¿ä¸Šèµ„æºã€ä¿éšœåœ¨çº¿å­¦ä¹ æ—¶æ•ˆæ€§é‡è¦ä¼˜åŒ–æ–¹å¼ã€‚</p>
<h3 data-id="heading-4">äº”ã€å¤§è§„æ¨¡ç¨ å¯†è®¡ç®—å¼•æ“</h3>
<p><strong>5.1ã€å¤ç”¨ç”Ÿæˆå¼è®­ç»ƒä¼˜åŒ–æŠ€æœ¯</strong></p>
<p>å¾—ç›Šäº PyTorch è®­ç»ƒæ¡†æ¶çš„æ·±åº¦æ”¯æŒï¼Œä»¥åŠä¸LLMåŒè´¨çš„ Attention ç»“æ„è®¾è®¡ã€‚ç»“åˆä¹æ•°åœ¨LLMæ–¹é¢çš„ä¼˜åŒ–ç»éªŒï¼Œæˆ‘ä»¬å¯ä»¥è¾ƒä¸ºè½»æ¾çš„å¤ç”¨ LLM è®­ç»ƒä¸­å·²éªŒè¯çš„æˆç†Ÿè®­ç»ƒä¼˜åŒ–èƒ½åŠ›ã€‚è¡¨2ä¸­åˆ—ä¸¾äº†ä¸€äº›å¸¸è§çš„ä¼˜åŒ–æ–¹å¼ï¼Œå¯é€šè¿‡ä¾¿æ·çš„é…ç½®é€‰é¡¹ã€æ”¹åŠ¨åœ¨ 9N-LLM ä¸­å¯ç”¨ï¼Œèƒ½å¤Ÿåœ¨ç”Ÿæˆå¼æ¨èæ¨¡å‹çš„è®­ç»ƒä¸­ï¼Œå¹³è¡¡æ˜¾å­˜ã€ç®—åŠ›ã€é€šä¿¡ï¼Œä»¥æå‡æ•´ä½“è®­ç»ƒæ€§èƒ½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80f4edba8ad8444ca4481ee1207d77ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=iYCOF5OoK%2FihZD4RslLBVdnBk%2F0%3D" alt="image.png" loading="lazy"/></p>
<p>è¡¨2ï¼šå¸¸è§çš„ç”Ÿæˆå¼è®­ç»ƒä¼˜åŒ–æŠ€æœ¯</p>
<p><strong>5.2ã€UniAttentionï¼šé’ˆå¯¹ç”Ÿæˆå¼æ¨èAttentionç‰¹ç‚¹åŠ é€Ÿä¼˜åŒ–</strong></p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒFlashAttn ä½œä¸º LLM è®­ç»ƒä¸­çš„æ ¸å¿ƒè®¡ç®—ä¼˜åŒ–æŠ€æœ¯ï¼Œé€šè¿‡å……åˆ†åˆ©ç”¨ç¡¬ä»¶ç‰¹æ€§ï¼Œå¦‚å¼‚æ­¥è®¿å­˜ã€CUDA Core/TensorCore å¹¶è¡Œè®¡ç®—åŠå¯„å­˜å™¨ä¼˜åŒ–ç­‰ï¼Œèƒ½å¤Ÿæ˜¾è‘—é™ä½è®­ç»ƒæ˜¾å­˜å ç”¨ï¼Œå¹¶æå‡å¸¸è§„ Causal ä¸ Full Attention çš„è®¡ç®—æ€§èƒ½ã€‚ç„¶è€Œï¼Œåœ¨ç”Ÿæˆå¼æ¨èè®­ç»ƒåœºæ™¯ä¸­ï¼ŒAttention çš„è®¡ç®—å½¢å¼å¹¶éæ ‡å‡†ç±»å‹ï¼Œè€Œé€šå¸¸æ›´ä¸ºå¤æ‚ï¼Œä½“ç°åœ¨ä¸¤æ–¹é¢ï¼š</p>
<p><strong>åºåˆ—ç»“æ„å¤æ‚ï¼š</strong> ç”Ÿæˆå¼æ¨èåœºæ™¯æœ‰å¯èƒ½å°†è¾“å…¥åºåˆ—åˆ’åˆ†ä¸ºå¤šä¸ªè¯­ä¹‰åŒºæ®µï¼Œä¾‹å¦‚â€œç”¨æˆ·ç‰¹å¾åºåˆ—æ®µâ€ã€â€œç”¨æˆ·å†å²è¡Œä¸ºåºåˆ—æ®µâ€ã€â€œå½“æ—¥å®æ—¶è¡Œä¸ºåºåˆ—æ®µâ€åŠâ€œæ›å…‰ç‚¹å‡»è¡Œä¸ºæ®µâ€ç­‰ã€‚æ¯ä¸ªåºåˆ—æ®µå¯ç‹¬ç«‹é…ç½®ä¸º Full æˆ– Causal æ³¨æ„åŠ›æ¨¡å¼ï¼Œå½¢æˆæ··åˆç»“æ„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7d7ec459655b494585956da61a96f902~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=c56rhdDlV5tmsW32qD7pZsOblbc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾11ï¼šLLMä¸ç”Ÿæˆå¼æ¨èåœºæ™¯Maskå¯¹æ¯”</p>
<p><strong>è®­ç»ƒæ ·æœ¬èšåˆæ–¹å¼ç‰¹æ®Šï¼š</strong> ä¸ºäº†æå‡ç”Ÿæˆå¼æ¨èè®­ç»ƒæ•ˆç‡ï¼Œè®­ç»ƒæ ·æœ¬é€šå¸¸æŒ‰ç”¨æˆ·å•æ—¥æ›å…‰ç‚¹å‡»è¡Œä¸ºè¿›è¡Œèšåˆï¼Œå…¶ä¸­å®æ—¶è¡Œä¸ºä¸æ›å…‰æ ·æœ¬ä¾æ—¶é—´ç”±è¿‘è‡³è¿œæ’åˆ—ã€‚è¿™æ„å‘³ç€è¾ƒæ—©å‘ç”Ÿçš„è¡Œä¸ºä¸å¯è§è¾ƒæ™šå‘ç”Ÿçš„è¡Œä¸ºï¼Œå½¢æˆä¸€ç§éå¯¹ç§°çš„å±€éƒ¨å› æœä¾èµ–ï¼Œå…¶ Attention è®¡ç®—é€»è¾‘æ¯”ä¼ ç»Ÿ LLM ä¸­çš„ Causal Attention æ›´åŠ å¤æ‚ã€‚</p>
<p>å› æ­¤ï¼Œåœ¨è¯¥åœºæ™¯ä¸‹é€šå¸¸æ— æ³•ç›´æ¥ä½¿ç”¨é«˜åº¦ä¼˜åŒ–çš„ FlashAttnï¼Œè€Œåªèƒ½ä¾èµ– PyTorch åŸç”Ÿç®—å­æˆ–ä½¿ç”¨ FlexAttention ç­‰æ‰©å±•æ–¹æ¡ˆï¼Œæ˜¯åˆ¶çº¦æ•´ä½“è®­ç»ƒæ€§èƒ½çš„å…³é”®ç“¶é¢ˆã€‚ä¸ºæ­¤ï¼Œ9N-LLM æ¨å‡ºäº†æ”¯æŒè‡ªå®šä¹‰æ©ç çš„ä¸“ç”¨åŠ é€Ÿåº“ UniAttentionã€‚è¯¥åº“åŸºäº Triton/Cutlass/Tilelang ç­‰ç¼–è¯‘å™¨æŠ€æœ¯ï¼Œé’ˆå¯¹ç”Ÿæˆå¼æ¨èä¸­çš„ HSTUã€GPT Decoder å’Œ T5 ç­‰ä¸»æµç»“æ„è¿›è¡Œäº†æ·±åº¦ä¼˜åŒ–ï¼Œå…¶æ€§èƒ½æ˜¾è‘—è¶…è¶Šç°æœ‰æ–¹æ¡ˆï¼Œè¾ƒ FlexAttn/Compile åˆ†åˆ«æå‡ 70% ä¸ 3.0 å€ï¼Œä¸ºç”Ÿæˆå¼æ¨èè®­ç»ƒæä¾›äº†å…³é”®çš„é«˜æ€§èƒ½æ”¯æ’‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/187c779eadb042768339306028ac8c27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=A%2F6YWujC8Ja7F%2FZ9ZG%2Br4cfdqq0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾12ï¼šUniAttentionåŠ é€Ÿåº“</p>
<p>å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬æ·±å…¥ç¡¬ä»¶åº•å±‚ã€ç»“åˆç¡¬ä»¶ç‰¹æ€§ï¼Œä»<strong>å¯„å­˜å™¨ä¼˜åŒ–</strong>ä¸<strong>æµæ°´çº¿ç¼–æ’</strong>ä¸¤ä¸ªç»´åº¦å‡ºå‘ï¼ŒåŸºäº Cutlass ä¸ Tilelang å¯¹HSTU Attn å’Œ SDPAç®—å­è¿›è¡Œäº†æ·±åº¦å®šåˆ¶ä¸ä¼˜åŒ–ã€‚</p>
<p>åœ¨ç”Ÿæˆå¼æ¨èåœºæ™¯ä¸­ï¼ŒMask ä¸è¾“å…¥æ•°æ®é«˜åº¦ç›¸å…³ï¼Œå¯¼è‡´ Mask ç›¸å…³è®¡ç®—ä¸åˆ¤æ–­é€»è¾‘æ˜¾è‘—å¤æ‚åŒ–ï¼Œè¿›è€Œå¤§å¹…å¢åŠ äº†å¯„å­˜å™¨å‹åŠ›ã€‚ä¸ºåº”å¯¹è¿™ä¸€æŒ‘æˆ˜ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†<strong>Compute/Mask åŒåŒºé—´è°ƒåº¦ç®—æ³•</strong>ï¼Œå°†çŸ©é˜µä¹˜æ³•ä¸ Mask è®¡ç®—åˆ†åˆ«ç½®äºä¸¤ä¸ªè¿ç»­çš„ç‹¬ç«‹åŒºé—´æ‰§è¡Œï¼Œä¸ä»…ä¼˜åŒ–äº† Mask åˆ¤æ–­æµç¨‹ï¼ŒåŒæ—¶å¯å‡å°‘20%ï½50% GEMM è®¡ç®—ä¸ Mask åˆ¤æ–­æ¬¡æ•°ã€‚åœ¨æµæ°´çº¿ç¼–æ’æ–¹é¢ï¼ŒUniAttention å……åˆ†åˆ©ç”¨ Hopper æ¶æ„ä¸­Â <strong>wgmma æŒ‡ä»¤çš„å¼‚æ­¥ç‰¹æ€§</strong>ï¼Œä½¿çŸ©é˜µè¿ç®—ä¸ Softmaxã€Mask ç­‰éçŸ©é˜µè¿ç®—åœ¨ä¸¤ä¸ª warpgroup ä¹‹é—´äº¤é”™æ‰§è¡Œã€‚å½“å…¶ä¸­ä¸€ä¸ª warpgroup æ‰§è¡ŒéçŸ©é˜µè¿ç®—æ—¶ï¼Œç®—å­å¯è°ƒåº¦å¦ä¸€ä¸ª warpgroup å¹¶è¡Œæ‰§è¡ŒçŸ©é˜µè¿ç®—ï¼Œä»è€Œå®ç°äº† Tensor Core ç®—åŠ›çš„é«˜æ•ˆåˆ©ç”¨ã€‚é€šè¿‡ä¸Šè¿°ä¸¤é¡¹å…³é”®ä¼˜åŒ–ï¼ŒUniAttention åœ¨å¤æ‚å¤šå˜çš„ Mask åœºæ™¯ä¸‹å®ç°äº†é«˜æ€§èƒ½çš„ Attention ç®—å­ï¼ŒåŠ©åŠ›ç”Ÿæˆå¼æ¨èæ¨¡å‹çš„é«˜æ€§èƒ½è®­ç»ƒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d586e0ea970645b0a6e35d6e8bf3b23b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=9RopANIHQdzV1RudAbhC5rrmCJU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¡¨3ï¼šUniAttentionæ€§èƒ½æ•°æ®</p>
<h3 data-id="heading-5">å…­ã€å¼ºåŒ–å­¦ä¹ è®­ç»ƒèƒ½åŠ›</h3>
<p><strong>6.1ã€ç”Ÿæˆå¼æ¨èåœºæ™¯çš„å¼ºåŒ–å­¦ä¹ ç‰¹ç‚¹</strong></p>
<p>å¼ºåŒ–å­¦ä¹ ä½œä¸ºä¸€ç§å¼ºå¤§çš„å†³ç­–ä¸ä¼˜åŒ–æ¡†æ¶ï¼Œæ˜¯æå‡å¤§æ¨¡å‹æ¨ç†èƒ½åŠ›ã€é©±åŠ¨AI Agentå®ç°é«˜é˜¶è‡ªä¸»æ€§çš„å…³é”®å‚¬åŒ–å‰‚ã€‚å…·ä½“åˆ°ç”Ÿæˆå¼æ¨èåœºæ™¯ï¼Œåœ¨ç»å†é¢„è®­ç»ƒä¸ç›‘ç£å¾®è°ƒä¹‹åï¼Œå¼ºåŒ–å­¦ä¹ é˜¶æ®µè¢«å¼•å…¥ï¼Œå…¶æ ¸å¿ƒä»·å€¼åœ¨äºä¸ºæ¨¡å‹èµ‹äºˆäº†â€œæ¢ç´¢â€ä¸â€œè‡ªæˆ‘ä¼˜åŒ–â€çš„èƒ½åŠ›ï¼Œæ¨¡å‹ä¸å†ä»…ä»…è¢«åŠ¨æ‹Ÿåˆå·²æœ‰æ•°æ®ï¼Œè€Œæ˜¯èƒ½é€šè¿‡ä¸ç¯å¢ƒäº’åŠ¨ï¼Œä¸»åŠ¨å‘ç°æ›´ä¼˜çš„æ¨èç­–ç•¥ï¼Œå®ç°æŒç»­çš„æ•ˆæœè¿›åŒ–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91ee8d8586c348599c99054a9748d146~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=oFjlhcYR%2F8vi2DF8mkQAGwiw%2B1M%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾13ï¼šç”Ÿæˆå¼æ¨èRLæµç¨‹</p>
<p>å›¾13å±•ç¤ºäº†ç”Ÿæˆå¼æ¨èçš„å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰è®­ç»ƒè¿‡ç¨‹ï¼Œå…¶æ ¸å¿ƒæ¨¡å—ï¼ˆRollOutã€Rewardã€Referenceã€Policyï¼‰åŠæ•´ä½“æµç¨‹ä¸å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„ RL è®­ç»ƒé€»è¾‘ä¸€è‡´ï¼Œå‡ä¾èµ–çµæ´»çš„ä»»åŠ¡è°ƒåº¦ã€é«˜æ•ˆçš„èµ„æºåˆ†é…ä¸ç¨³å®šé«˜æ•ˆçš„å¤šèŠ‚ç‚¹é€šä¿¡ï¼Œä½†äºŒè€…åœ¨å®é™…è½åœ°åœºæ™¯ä¸­å­˜åœ¨æ˜æ˜¾å·®å¼‚ï¼š</p>
<p><strong>æ¨¡å‹ä¸æ ·æœ¬ç‰¹æ€§ä¸åŒï¼š</strong></p>
<p>è¾“å…¥æ ·æœ¬ä¸ºä¼ ç»Ÿç¨€ç– ID/SID ç±»å‹ï¼Œä¾èµ–åŸç”Ÿ PyTorch è¯è¡¨æˆ–å¤§è§„æ¨¡ç¨€ç–è¯è¡¨ï¼ˆLLM å¤šä¸ºç¨ å¯†æ–‡æœ¬è¾“å…¥ï¼‰ã€‚</p>
<p>æ¨¡å‹ç»“æ„å€Ÿé‰´ LLM æ ¸å¿ƒæ¨¡å—ï¼Œä½†éœ€é€‚é…ç¨€ç–åœºæ™¯ï¼ŒReward æ‰“åˆ†å¯èƒ½å¤ç”¨æ¨èåœºæ™¯å…¨é‡æ¨¡å‹ã€‚</p>
<p><strong>é‡‡æ ·ä¸æµç¨‹è®¾è®¡ä¸åŒï¼š</strong></p>
<p>é‡‡æ ·é‡‡ç”¨å®šåˆ¶åŒ– BeamSearchï¼Œä¸“é—¨è¿‡æ»¤ç”Ÿæˆ SID/IDListï¼ˆLLM ä¾§é‡æ–‡æœ¬ç”Ÿæˆé‡‡æ ·ï¼‰ã€‚</p>
<p>è®­ç»ƒæµç¨‹å­˜åœ¨è¾ƒå¤šè‡ªå®šä¹‰è®¾è®¡ï¼Œæ–°å¢ç‰¹å¾æ‹¼æ¥æ¨¡å—ï¼ŒRewardWorker å¯èƒ½è°ƒç”¨åœ¨çº¿æ¥å£æˆ– TensorFlow æ¨¡å‹ã€‚</p>
<p><strong>å‚æ•°åŒæ­¥ä¸æ€§èƒ½æŒ‘æˆ˜ä¸åŒï¼š</strong></p>
<p>æ¨èåœºæ™¯ CTR æ¨¡å‹ç¨€ç–å‚æ•°é‡è¾¾ TB çº§åˆ«ï¼Œè·¨è¿›ç¨‹å‚æ•°æ›´æ–°çš„åŒæ­¥æˆæœ¬æé«˜ï¼Œæ˜“å¼•å‘æ€§èƒ½é—®é¢˜ï¼ˆLLM ä»¥ç¨ å¯†å‚æ•°ä¸ºä¸»ï¼Œå‚æ•°åŒæ­¥é€»è¾‘æ›´æˆç†Ÿï¼‰ã€‚</p>
<p><strong>6.2ã€åŸºäºRayçš„å¼ºåŒ–å­¦ä¹ è§£å†³æ–¹æ¡ˆ</strong></p>
<p>9N-LLM åŸºäº Ray æ¡†æ¶æ„å»ºï¼Œé¢å‘å¤§è¯­è¨€æ¨¡å‹ä¸ç”Ÿæˆå¼æ¨èçš„å¤åˆè®­ç»ƒåœºæ™¯ï¼Œé€šè¿‡èƒ½åŠ›æ‹“å±•ä¸æ¶æ„ç»Ÿä¸€ï¼Œæœ‰æ•ˆåº”å¯¹ç”Ÿæˆå¼æ¨èä¸­å¼ºåŒ–å­¦ä¹ ï¼ˆRLï¼‰è®­ç»ƒçš„å…³é”®æŒ‘æˆ˜ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9db5975527346ae9101016bfd8ae408~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=TDUotmW%2BaWZV0F%2F%2B1uzxvICCXGs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾14ï¼šåŸºäºRayçš„é€šç”¨æ¡†æ¶è®¾è®¡</p>
<p><strong>å¤šåœºæ™¯å…¼å®¹</strong>ï¼šç»Ÿä¸€æ”¯æŒ LLMã€å¤šæ¨¡æ€åŠç”Ÿæˆå¼æ¨èã€MultiAgentåœºæ™¯ä¸‹çš„å¼ºåŒ–å­¦ä¹ ä»»åŠ¡ï¼Œå®ç°è·¨åœºæ™¯è®­ç»ƒèƒ½åŠ›å¤ç”¨ã€‚</p>
<p><strong>èµ„æºçµæ´»è°ƒåº¦</strong>ï¼šæ”¯æŒèŠ‚ç‚¹é—´ä»»æ„èµ„æºé…ç½®ï¼Œæä¾› Actor çš„åŒå¡ï¼ˆCollocateï¼‰ä¸åˆ†ç¦»ï¼ˆDisaggregatedï¼‰éƒ¨ç½²æ¨¡å¼ã€‚åœ¨åŒå¡æ¨¡å¼ä¸‹ï¼Œå®ç°å¤§è§„æ¨¡ç¨€ç–å‚æ•°çš„å¤ç”¨ï¼Œé¿å…å†—ä½™æ‹·è´ï¼›è¿›ç¨‹å†…æ”¯æŒé«˜æ•ˆ IPC é€šä¿¡ï¼Œæå‡ç¨ å¯†å‚æ•°åŒæ­¥æ•ˆç‡ã€‚</p>
<p><strong>é«˜åº¦å¯å®šåˆ¶</strong>ï¼šWorker å†…éƒ¨æ”¯æŒè‡ªå®šä¹‰æ•°æ®ã€æ¨¡å‹ã€è®­ç»ƒä¸ç¦»çº¿æ¨ç†æµç¨‹ï¼Œå…¼å®¹åŒ…æ‹¬å¤§è§„æ¨¡ç¨€ç–å‚æ•°åœ¨å†…çš„è‡ªå®šä¹‰èŠ‚ç‚¹ã€‚é€šè¿‡ SingleController æ¨¡å¼ä¸ Worker é—´çš„çµæ´»ç¼–æ’ï¼Œæ»¡è¶³ç”Ÿæˆå¼æ¨è RL è®­ç»ƒä¸­å¦‚ç‰¹å¾æ‹¼æ¥ã€è·¨æ¡†æ¶è°ƒç”¨ç­‰å®šåˆ¶åŒ–éœ€æ±‚ã€‚</p>
<h3 data-id="heading-6">ä¸ƒã€ç»“è¯­</h3>
<p>ç”Ÿæˆå¼æ¨èä½œä¸ºæ¨èç³»ç»Ÿé¢†åŸŸä¸€ä¸ªè“¬å‹ƒå‘å±•çš„æ–°èŒƒå¼ï¼Œä¸ºæ•´ä¸ªé¢†åŸŸå¸¦æ¥äº†æ–°çš„æ€è·¯å’Œæœºé‡ã€‚åœ¨è¿‡å»ä¸€æ®µæ—¶é—´ï¼Œæˆ‘ä»¬æ·±åˆ»è®¤è¯†åˆ°ï¼šæ ·æœ¬æ¨¡æ€æ—¥ç›Šä¸°å¯Œã€ç®—æ³•æ¶æ„å¿«é€Ÿè¿­ä»£ã€ç¡¬ä»¶ç”Ÿæ€æ—¥è¶‹å¤šå…ƒï¼Œé¢å¯¹è¿™æ ·ç¹æ‚çš„å¤šå…ƒçŠ¶æ€ï¼Œä½œä¸ºAI Infraï¼Œå¿…é¡»å›å½’ç¬¬ä¸€æ€§åŸç†ï¼Œè®¾è®¡èƒ½å¤Ÿå……åˆ†åˆ©ç”¨å¹¶éšæ ·æœ¬ã€è®¡ç®—èµ„æºæŒ‡æ•°çº§å¢é•¿è€ŒæŒç»­æ‰©å±•çš„AIæ¶æ„ã€‚</p>
<p>æ­£å¦‚å›¾çµå¥–å¾—ä¸»Richard Suttonåœ¨ã€Šè‹¦æ¶©çš„æ•™è®­ã€‹ä¸­æ·±åˆ»æŒ‡å‡ºçš„ï¼ŒAIå‘å±•çš„é•¿è¿œè¶‹åŠ¿è¯æ˜ï¼Œé‚£äº›ä¾èµ–å¤§è§„æ¨¡è®¡ç®—ä¸é€šç”¨å­¦ä¹ çš„æ–¹æ³•ç»ˆå°†è¶…è¶Šèå…¥äººç±»ç²¾å·§è®¾è®¡çš„è·¯å¾„ã€‚è¿™ä¸€æ´è§ä¸€ç›´æŒ‡å¼•ç€æˆ‘ä»¬çš„æŠ€æœ¯æ¼”è¿›ï¼Œè®©åŸºç¡€è®¾æ–½çœŸæ­£å…·å¤‡â€œéšç€ç®—åŠ›å¢é•¿è€Œçº¿æ€§æ‰©å±•â€çš„èƒ½åŠ›ã€‚</p>
<p>é¢å‘æœªæ¥ï¼Œæˆ‘ä»¬å°†æŒç»­æ¨è¿›ä¸¤å¤§æ ¸å¿ƒæ–¹å‘çš„æ¢ç´¢ï¼š</p>
<p><strong>åœ¨åŸºç¡€è®¾æ–½å±‚é¢</strong>ï¼Œä¸ºåº”å¯¹æœªæ¥ç¡¬ä»¶è§„æ¨¡åŒ–ã€å¤§è§„æ¨¡é€šä¿¡ç“¶é¢ˆåŠå¤šå…ƒç®—åŠ›èåˆçš„è¶‹åŠ¿ï¼Œæˆ‘ä»¬å°†é‡ç‚¹æ¢ç´¢é€šä¿¡ä¸è®¡ç®—æ¨¡å¼çš„æ ¹æœ¬æ€§å‡çº§ï¼Œå¹¶é€šè¿‡ç»Ÿä¸€å†…å­˜æ¶æ„ä¼˜åŒ–ï¼Œå®ç°è·¨ç¡¬ä»¶å¹³å°çš„é«˜æ•ˆå¸¦å®½ä¸æ˜¾å­˜åˆ©ç”¨ï¼Œè®©ç®—åŠ›èµ„æºçš„ä½¿ç”¨æ•ˆç‡å®ç°è´¨çš„é£è·ƒã€‚</p>
<p><strong>åœ¨ç³»ç»Ÿæ™ºèƒ½å±‚é¢</strong>ï¼Œæˆ‘ä»¬å°†ä¸ä¸šåŠ¡ç´§å¯†ååŒï¼Œä»¥æ–°ä¸€ä»£å¥–åŠ±æ¨¡å‹ä¸ºæ ¸å¿ƒé©±åŠ¨ï¼Œé€šè¿‡åœ¨çº¿å¼ºåŒ–å­¦ä¹ æ•´åˆå¤šæ¨¡æ€ä¿¡æ¯ä¸ç”¨æˆ·å…¨ç”Ÿå‘½å‘¨æœŸè¡Œä¸ºï¼Œæ—¨åœ¨æ„å»ºä¸€ä¸ªè¶…è¶ŠçŸ­æœŸç‚¹å‡»æŒ‡æ ‡ã€å…·å¤‡é•¿æœŸç”¨æˆ·ä»·å€¼çš„ã€çœŸæ­£æ™ºèƒ½çš„ç”Ÿæˆå¼æ¨èç³»ç»Ÿã€‚</p>
<h2 data-id="heading-7"><strong>æ‹›è˜</strong></h2>
<p>æ¬¢è¿å¯¹AI Infraã€LLM/CTRæ¨¡å‹è®­ç»ƒã€æ ·æœ¬å¼•æ“ã€ç®—åŠ›è°ƒåº¦æ„Ÿå…´è¶£çš„åŒå­¦åŠ å…¥ä¹æ•°å›¢é˜Ÿï¼Œå’Œæˆ‘ä»¬ä¸€èµ·æ‰“é€ äº¬ä¸œæ™ºèƒ½åŒ–AIåŸºå»ºã€‚</p>
<p>ğŸ“® ç®€å†æŠ•é€’ï¼š<a href="https://link.juejin.cn?target=mailto%3Ahanpingping11%40jd.com" target="_blank" title="mailto:hanpingping11@jd.com" ref="nofollow noopener noreferrer">hanpingping11@jd.com</a>ã€<a href="https://link.juejin.cn?target=mailto%3Achenzhen48%40jd.com" target="_blank" title="mailto:chenzhen48@jd.com" ref="nofollow noopener noreferrer">chenzhen48@jd.com</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f95f75581df44de4a55bc49ffb99a064~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788366&amp;x-signature=kbOn1Sjc%2FUs79dlL6TkLHtTYTfE%3D" alt="å›¾ç‰‡" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OiiOiiæ€ä¹ˆç”Ÿæˆé‚€è¯·ç åŠ å…¥ï¼Ÿæœ€æ–°OiiOiié‚€è¯·ç è·å–æ•™ç¨‹äº²æµ‹æœ‰æ•ˆ|æ•™ä½ å¦‚ä½•é¢†å–OiiOiié‚€è¯·ç ]]></title>    <link>https://juejin.cn/post/7602551091517014025</link>    <guid>https://juejin.cn/post/7602551091517014025</guid>    <pubDate>2026-02-04T05:43:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602551091517014025" data-draft-id="7602471311510519835" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OiiOiiæ€ä¹ˆç”Ÿæˆé‚€è¯·ç åŠ å…¥ï¼Ÿæœ€æ–°OiiOiié‚€è¯·ç è·å–æ•™ç¨‹äº²æµ‹æœ‰æ•ˆ|æ•™ä½ å¦‚ä½•é¢†å–OiiOiié‚€è¯·ç "/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-02-04T05:43:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Macçš„å®éªŒå®¤"/> <meta itemprop="url" content="https://juejin.cn/user/2958128164897127"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OiiOiiæ€ä¹ˆç”Ÿæˆé‚€è¯·ç åŠ å…¥ï¼Ÿæœ€æ–°OiiOiié‚€è¯·ç è·å–æ•™ç¨‹äº²æµ‹æœ‰æ•ˆ|æ•™ä½ å¦‚ä½•é¢†å–OiiOiié‚€è¯·ç 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2958128164897127/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Macçš„å®éªŒå®¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:43:46.000Z" title="Wed Feb 04 2026 05:43:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>OiiOiiæ˜¯æœ€è¿‘å¾ˆç«çš„ä¸€ä¸ªAIåŠ¨ç”»åˆ¶ä½œå¹³å°ï¼Œæˆ‘çœ‹åˆ°å¥½å¤šäººéƒ½åœ¨ç”¨ï¼Œå°±ä¹Ÿè¯•äº†ä¸€ä¸‹ã€‚ç”±äºå¾ˆå¤šäººæ‰¾ä¸åˆ°è‡ªå·±çš„OiiOiié‚€è¯·ç æ‰€ä»¥æ— æ³•æ³¨å†Œï¼Œä¸‹é¢åˆ†äº«æˆ‘æ˜¯å¦‚ä½•è·å–OiiOiié‚€è¯·ç å’Œä½¿ç”¨OiiOiiåˆ›ä½œçš„ä½“éªŒæ•™ç¨‹ï¼</p>
<p>OiiOii æ˜¯åŠ¨ç”»åˆ›ä½œ Agent ï¼Œè‡´åŠ›äºè®©æ¯ä¸€ä¸ªäººéƒ½èƒ½è½»æ¾å®ç°åŠ¨ç”»æ¢¦æƒ³ã€‚èåˆäº†å‰æ²¿çš„ AI æ¨¡å‹ï¼ˆå¦‚ Sora2ã€Wan2.5ï¼‰ä¸æ™ºèƒ½ Agent ç³»ç»Ÿï¼Œè®©ç”¨æˆ·é€šè¿‡è‡ªç„¶è¯­è¨€å¯¹è¯ï¼Œå³å¯ç”Ÿæˆé«˜è´¨é‡çš„åŠ¨ç”»çŸ­ç‰‡ã€è§’è‰²ã€åˆ†é•œã€MV ç­‰å†…å®¹ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fwww.oiioii.ai" target="_blank" title="https://link.zhihu.com/?target=https%3A//www.oiioii.ai" ref="nofollow noopener noreferrer">www.oiioii.ai</a></p>
<p>è¿™ä¸ªå¹³å°æ˜¯ç½‘é¡µï¼Œå¯ä»¥ç›´æ¥æœç´¢OiiOiiå®˜ç½‘ï¼Œè¿›å…¥åˆ°è¿™ä¸ªç•Œé¢ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/021cb0f0b9844553ac4889de6482fd12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=OGvUGYAEi7584GP%2FvVrJUQ935yQ%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªå¹³å°ç›®å‰è¿˜åœ¨å†…æµ‹å½“ä¸­ï¼Œæ³¨å†Œæ˜¯éœ€è¦é‚€è¯·ç çš„ï¼Œå¦‚æœæ²¡æœ‰é‚€è¯·ç ï¼Œå¯ä»¥æ‰¾å®˜æ–¹ç”³è¯·æˆ–è€…ä¸Šå°çº¢ä¹¦æ‰¾ï¼Œå°çº¢ä¹¦ä¸Šæœ‰å¾ˆå¤šåˆ†äº«é‚€è¯·ç çš„ï¼Œæˆ‘çš„å°±æ˜¯åœ¨å°çº¢ä¹¦ä¸Šæ‰¾çš„ã€‚</p>
<p>è¿™ä¸ªé‚€è¯·ç ä¸€å®šè¦æ‰¾æœ€æ–°çš„ï¼Œä¸ç„¶å¯èƒ½å°±å¤±æ•ˆäº†ï¼Œæˆ‘è¯•äº†å¥½å‡ æ¬¡ï¼Œæ‰æˆåŠŸã€‚</p>
<p>ç‚¹å‡»ä½¿ç”¨é‚€è¯·ç åŠ å…¥åï¼Œä¼šè¿›å…¥åˆ°æ³¨å†Œç•Œé¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8a971f2145140778613d39a0a66482f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=tKdpqIDp0xiKVs%2B%2F4tBfQ9k%2F4PE%3D" alt="" loading="lazy"/></p>
<ul>
<li>å¦‚æœåœ¨å°çº¢ä¹¦æ‰¾ä¸åˆ°çš„è¯ï¼Œå¯ä»¥å°è¯•è®¿é—®<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fai-bot.cn%2Fsites%2F66553.html" target="_blank" title="https://link.zhihu.com/?target=https%3A//ai-bot.cn/sites/66553.html" ref="nofollow noopener noreferrer">OiiOii</a>å®˜ç½‘å¡«å†™OiiOiiæµ‹è¯•èµ„æ ¼ç”³è¯·è¡¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fecncw7du1qtr.feishu.cn%2Fshare%2Fbase%2Fform%2FshrcnoDL0jJv3hcrDAoysbOBh4d" target="_blank" title="https://link.zhihu.com/?target=https%3A//ecncw7du1qtr.feishu.cn/share/base/form/shrcnoDL0jJv3hcrDAoysbOBh4d" ref="nofollow noopener noreferrer">ecncw7du1qtr.feishu.cn/share/base/â€¦</a>ï¼Œä¼˜å…ˆè·å–è®¿é—®æƒé™ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5cb4798f3e624a79aac4085cd25a3255~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=vy1Hg%2F4B%2FmFxw%2ByLJ61bIgMEv4c%3D" alt="" loading="lazy"/></p>
<p>å¡«å†™ä½ çš„èº«ä»½ä»‹ç»ï¼Œç¤¾äº¤åª’ä½“é“¾æ¥ï¼Œä¸ªäººå¾®ä¿¡å’Œé‚®ç®±ç­‰ä¿¡æ¯ç”³è¯·å®˜æ–¹å†…æµ‹é‚€è¯·ç ï¼Œè¿™ä¸ªéœ€è¦å®˜æ–¹å®¡æ ¸ä¸€æ®µæ—¶é—´ï¼Œé€šè¿‡åæ‰èƒ½å‘æ”¾ã€‚è§‰å¾—éº»çƒ¦ä¸æƒ³æŠ˜è…¾çš„åŒå­¦å¯ä»¥åœ¨å…¬ä¼—å·ï¼š<strong>Macçš„å®éªŒå®¤</strong>Â åå°å›å¤Â <strong>oii</strong>Â è·å–æœ€æ–°çš„é‚€è¯·ç å…¥å£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6a7ecd4769a4154ab6420fa29378981~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=41SxURmJg0DhopwSIyBYGLP4QrA%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªç•Œé¢éœ€è¦å¡«é‚®ç®±å’Œå¯†ç ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯é‚®ç®±ä¸€å®šè¦å¡«å¯¹ï¼Œå› ä¸ºé‚®ç®±æ˜¯ç”¨æ¥éªŒè¯çš„ï¼Œåˆ›å»ºè´¦æˆ·ä¹‹åä¼šæ”¶åˆ°éªŒè¯é‚®ä»¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6533856e4d60468c82308c17f574fef4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=9OHwokHrFeLsVI4h1LTGSnhN5I0%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»è¿™ä¸ªé‚®ä»¶ä¸­é—´çš„ç´«è‰²éƒ¨åˆ†ï¼Œå°±ä¼šè·³è½¬ç½‘é¡µï¼Œå…è®¸è·³è½¬å°±èƒ½æˆåŠŸéªŒè¯ã€‚</p>
<p>è¿™ä¸ªåœ¨æ‰‹æœºä¸Šä¹Ÿæ˜¯å¯ä»¥ç™»å½•ä½¿ç”¨çš„ï¼Œä½†ç”»é¢å¤ªå°äº†ï¼Œä¸æ–¹ä¾¿ï¼Œæˆ‘åé¢è¿˜æ˜¯ç”¨å¹³æ¿çš„æˆªå›¾ç¤ºèŒƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5d4153eef0d42b581dc335e1afc13b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=5auiXIOTgm4E0sSGnB7Le5sFEWQ%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªä½¿ç”¨æ˜¯éœ€è¦ç§¯åˆ†çš„ï¼ŒæˆåŠŸæ³¨å†Œä¼šè·å¾—1000ç§¯åˆ†ï¼Œç­¾åˆ°èƒ½è·å¾—300ç§¯åˆ†ï¼Œåç»­çš„ä½¿ç”¨éœ€è¦ç”¨åˆ°ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬è¦åšåŠ¨ç”»è§†é¢‘ï¼Œå¯ä»¥é€‰æ‹©é‡Œé¢çš„â€œå‰§æƒ…æ•…äº‹çŸ­ç‰‡â€ï¼Œåœ¨é‡Œé¢è¾“å…¥å‰§æœ¬æˆ–è€…æƒ³è¦æ”¹ç¼–çš„å°è¯´ç‰‡æ®µï¼Œé€‰æ‹©æ‰˜ç®¡æ¨¡å¼ï¼Œç‚¹å‡»â€œå¯¹è¯æ¨¡å¼â€æ—è¾¹çš„ç®­å¤´ï¼Œå°±ä¼šè¿›å…¥åˆ°è‡ªåŠ¨åˆ¶ä½œçš„æµç¨‹ã€‚</p>
<p>åé¢çš„åªè¦æŒ‰æ­¥éª¤æç¤ºæ“ä½œæ¥å°±å¯ä»¥ã€‚</p>
<p>è¿™ä¸ªæµç¨‹å…¶å®æ˜¯æ¯”è¾ƒä¹…çš„ï¼Œå› ä¸ºåé¢è¦é€‰æ‹©æƒ³è¦çš„æ¯”ä¾‹ã€ç”»é£ã€è¯­è¨€ä¹‹ç±»çš„ï¼Œé‡æ–°è®¾è®¡å‰§æœ¬ï¼Œç„¶åå†è¿›å…¥åˆ°äººç‰©çš„è®¾è®¡ï¼Œåˆ†é•œçš„ç”Ÿæˆç­‰æµç¨‹ï¼Œè¿™äº›æµç¨‹æ˜¯ä¼šè‡ªåŠ¨å®Œæˆçš„ï¼Œä¸­é—´åªéœ€è¦çœ‹ä¸€ä¸‹ï¼Œç¡®è®¤ä¸€ä¸‹ï¼Œé€‰æ‹©ä¸€ä¸‹å°±å¯ä»¥ã€‚</p>
<p>å¦‚æœç”Ÿæˆçš„è§†é¢‘ä¸å¯¹ï¼Œå¯ä»¥é€‰æ‹©é‡æ–°ç”Ÿæˆã€‚</p>
<p>å¦‚æœæƒ³è¦æ•ˆæœæ›´å¥½ï¼Œå¯ä»¥è‡ªå·±åæœŸå†åšä¸€ä¸‹å‰ªè¾‘ï¼Œä¸­é—´çš„è§†é¢‘ç´ æå’Œå£°éŸ³ç´ æéƒ½æ˜¯å¯ä»¥ä¸‹è½½çš„ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ç›´æ¥ä¸‹è½½æœ€åçš„æˆå“ç”¨æ¥å‰ªè¾‘ã€‚</p>
<p>æˆ‘è¯•ç€åšäº†å‡ ä¸ªåŠ¨ç”»çŸ­ç‰‡ï¼Œæ„Ÿè§‰ç›´å‡ºçš„æ•ˆæœä¸å¤Ÿç†æƒ³ï¼Œéƒ½åšäº†åæœŸå‰ªè¾‘ï¼ŒåæœŸå‰ªè¾‘æ˜¯æ¯”è¾ƒè´¹æ—¶çš„ï¼Œè€Œä¸”å‰ªè¾‘çš„æ•ˆæœä¹Ÿä¸ä¸€å®šç†æƒ³ï¼Œæœ€å¥½è¿˜æ˜¯ä¸­é—´ä»”ç»†çœ‹ä¸€ä¸‹ï¼Œå…ˆæŠŠå‰§æœ¬å’Œç»†èŠ‚è°ƒæ•´å¥½ï¼Œå†ç”Ÿæˆæœ€åçš„è§†é¢‘ã€‚</p>
<p><strong>æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥çœ‹ä¸‹ä¸‹é¢çš„æ“ä½œä½“éªŒæ•™ç¨‹ï¼Œå¸®åŠ©æŒºå¤§çš„~</strong></p>
<p><em><strong>ã€ç©æ³•1ã€‘-åšå‰§æƒ…åŠ¨ç”»</strong></em></p>
<p>é»˜è®¤é€‰æ‹©<strong>æ‰˜ç®¡æ¨¡å¼</strong>ï¼Œè¾“å…¥ä»»æ„æŒ‡ä»¤ï¼ˆä¹Ÿå¯ä¸Šä¼ å¼ å›¾ï¼‰ï¼Œç‚¹å‡»å¼€å§‹å³å¯ã€‚</p>
<p>å£ä»¤ï¼šç»™æˆ‘åšä¸ªåŠ¨ç”»</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1dd6b57695f1449a97c9a27ee20987d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=R8K%2By0ysQ5Q%2FY4vCgpGx9U0EJP8%3D" alt="" loading="lazy"/></p>
<p>é€‰æ‹©æƒ³åˆ¶ä½œçš„åŠ¨ç”»ç±»å‹åï¼Œé€‰æ‹©å®ŒåŸºç¡€å±æ€§ã€æƒ…ç»ªå’Œé£æ ¼ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c10d2bc2bb674e0380813023a0f91ad6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=WSXWS02KwBS1FjUYDVt3Jb27XPM%3D" alt="" loading="lazy"/></p>
<p><strong>ç„¶åï¼Œå°±å»åƒé¥­ã€æ‰“æ¸¸æˆå§ï¼ä»€ä¹ˆéƒ½ä¸ç”¨ç®¡ï¼ŒAgentå°±éƒ½ä¼šåšäº†ï¼Œç­‰ä½ å†å›æ¥ï¼Œå®ƒå°±å·²ç»è‡ªåŠ¨è·‘å®Œå‡ºç‰‡äº†ï¼</strong> ï¼ˆåˆ‡è®°ä¸­é—´ä¸è¦å¹²æ‰°ä»–ï¼Œä¸ç„¶å®ƒå®¹æ˜“ä¸é«˜å…´ï¼‰æœ€åç‚¹å‡»é¢„è§ˆè§†é¢‘ï¼Œå¦‚æœæ»¡æ„ï¼Œå°±å¯ä»¥ä¸‹è½½å®Œæ…¢æ…¢æ¬£èµå•¦ï½</p>
<h3 data-id="heading-0"><strong>ã€è¿™é‡Œæ˜¯é‡ç‚¹ï¼ï¼ï¼ã€‘ï¼š</strong></h3>
<h3 data-id="heading-1">å¦‚é‡åˆ°åˆ†é•œç”Ÿæˆå¤±è´¥ï¼Œè¯·<strong>ç‚¹å‡»</strong>ã€å¸®æˆ‘<strong>ä¿®æ”¹æç¤ºè¯å¹¶é‡è¯•</strong>ã€‘ï¼å¦‚ä¸‹å›¾ï¼š</h3>
<p>ï¼ˆéœ€çœ‹ä¸‹å¤±è´¥åŸå› ï¼Œå¦‚ç‰ˆæƒç›¸å…³é—®é¢˜ï¼Œå¯å°è¯•å¤šæ¬¡ï¼Œè€å¿ƒç­‰å¾…ï¼Œä¼šæé«˜æˆåŠŸæ¦‚ç‡ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6fe8a61d79a4a10b31efe1e3055601e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=%2BsYmzpGUN%2BDC9RCOADQ%2FeJzt930%3D" alt="" loading="lazy"/></p>
<p><em><strong>ã€ç©æ³•2ã€‘-å¿«é€Ÿç”Ÿè§†é¢‘</strong></em></p>
<p>OiiOiiæ¥å…¥å¸‚é¢ä¸Šæ•ˆæœæœ€å¥½æœ€æ–°çš„æ¨¡å‹å¦‚Sora2ã€Wan2.5ï¼Œç»“åˆOiiOiiçš„Agentèƒ½åŠ›ï¼Œèƒ½å¤Ÿä¸€å¥è¯å¿«é€ŸæŠŠæƒ³æ³•åˆ¶ä½œæˆè¿é•œæµç•…ã€èŠ‚å¥åˆç†çš„çŸ­è§†é¢‘ï¼Œä»¥åŠ<strong>åŠ¨æ„Ÿå¡ç‚¹çš„å„ç±»åŠ¨ç”»MVï¼</strong></p>
<h3 data-id="heading-2">åšMVğŸ’ƒï¼ï¼ï¼ï¼ï¼â€”â€”é‡è¦ï¼Œå¥½çœ‹å¥½çœ‹å¥½çœ‹ï¼Œé‡è¦çš„è¯ä¸‰éã€‚</h3>
<p>é€‰æ‹©å¿«é€Ÿç”Ÿè§†é¢‘æ¨¡å¼ï¼Œç„¶åä¸Šä¼ ä¸€å¼ å›¾ï¼Œè¾“å…¥æŒ‡ä»¤ï¼Œç‚¹å‡»å¼€å§‹å³å¯ã€‚</p>
<p>å£ä»¤ï¼šç”¨ä¸Šä¼ çš„è§’è‰²ï¼Œåšä¸€ä¸ªæ—¥æœ¬åŠ¨æ¼«éŸ³ä¹OP MV</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24fb40aeb7984c0c9b440ea1daef7754~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=JihKxdPvThTTrTEAo2UKxhc%2FYoA%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰ä¸åŒç§mvç©æ³•ï¼Œ<strong>ä¸Šä¼ å›¾ç‰‡åï¼Œ</strong> è¾“å…¥å£ä»¤å¦‚ä¸‹ï¼</p>
<ul>
<li>
<p>åšä¸€ä¸ªè§’è‰²ä¸»é¢˜ MV</p>
</li>
<li>
<p>åšä¸€ä¸ªKpop MV</p>
</li>
<li>
<p>åšä¸€ä¸ªè·³èˆä¸ºä¸»çš„MV</p>
</li>
<li>
<p>åšä¸€ä¸ªç¾å‰§ç‰‡å¤´MV</p>
</li>
</ul>
<h3 data-id="heading-3"><em><strong>æ¼«ç”»å˜åŠ¨ç”»ğŸ“¹</strong></em></h3>
<p>é€‰æ‹©æ¼«ç”»è½¬åŠ¨ç”»æ¨¡å¼ï¼Œç„¶åä¸Šä¼ ä¸€å¼ æ¼«ç”»å›¾ï¼Œè¾“å…¥æŒ‡ä»¤ï¼Œç‚¹å‡»å¼€å§‹å³å¯ã€‚</p>
<p>å£ä»¤ï¼šåšä¸ªæ¸©é¦¨æµªæ¼«çš„åŠ¨ç”»</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/768241a3172b4dce99afdca93c4844ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=p12c9agY%2BhV%2Fm%2B5Y8BmDI7RS57k%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4"><em><strong>åŠ¨æ€å£çº¸â„ï¸</strong></em></h3>
<p><strong>ä¸€å®šè¦å¼ºè°ƒç”¨wan2.5ï¼ä¸€å®šè¦å¼ºè°ƒç”¨wan2.5ï¼ä¸€å®šè¦å¼ºè°ƒç”¨wan2.5ï¼</strong> ä¸Šä¼ ä¸€å¼ æƒ³è®©å®ƒåŠ¨èµ·æ¥çš„å›¾ç‰‡ï¼Œè¾“å…¥æŒ‡ä»¤ï¼Œç‚¹å‡»å¼€å§‹ã€‚</p>
<p>å£ä»¤ï¼šç”¨wan2.5æ¨¡å‹ï¼ŒåšåŠ¨æ€å£çº¸</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85db12df6c6248d9bf22eade539fbccc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=T3M7mx5X1KWBP2nfyynFyvO6J8w%3D" alt="" loading="lazy"/></p>
<p><strong>02 è¿›é˜¶æœŸ-ä¸ä¼—ä¸åŒ</strong></p>
<p>å½“ä½ æŒæ¡äº†åŸºç¡€æ“ä½œä¹‹åï¼Œå°±å¯ä»¥é€‚å½“çš„ç»™Agentä¸Šä¸€äº›éš¾åº¦äº†ï¼Œè¿™æ—¶ä½ å¯ä»¥è¯•ç€ç»™å®ƒææ›´å¤šä¸ªæ€§åŒ–çš„è¦æ±‚å’Œå°è¯•ï¼</p>
<p><em><strong>ã€ç©æ³•1ã€‘-åšä¸ªæœ‰å¯¼æ¼”é£æ ¼çš„åŠ¨ç”»</strong></em></p>
<p>ä¸Šä¼ è§’è‰²å›¾æˆ–å¯¼æ¼”é£æ ¼çš„å›¾ç‰‡ï¼Œè¾“å…¥å¸¦æœ‰å¯¼æ¼”åå­—çš„æŒ‡ä»¤ï¼Œå¼€å§‹åˆ›ä½œã€‚</p>
<p>å£ä»¤ï¼šç”¨éŸ¦æ–¯.å®‰å¾·æ£®çš„é£æ ¼åšä¸ªåŠ¨ç”»</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7b710bb899845239ddafd82f60e3bac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=uAcIiR9qNQAlrDu1NVlDNNTnD9E%3D" alt="" loading="lazy"/></p>
<p><strong>å£ä»¤å¯ä»¥ç›´æ¥å¤åˆ¶å»ç”¨ï¼</strong></p>
<ul>
<li>
<p>ç”¨éŸ¦æ–¯.å®‰å¾·æ£®çš„é£æ ¼åšä¸ªåŠ¨ç”»</p>
</li>
<li>
<p>ä¸ºæˆ‘ç”Ÿæˆæ…¢é—¨ä½é€Ÿé•œå¤´ï¼Œè¦æœ‰ç‹å®¶å«é£æ ¼ï¼Œå…¼å…·æ¸¯é£</p>
</li>
<li>
<p>ä¸ºæˆ‘åšä¸€ä¸ªã€Šæ•™çˆ¶ã€‹é£æ ¼çš„åŠ¨ç”»ï¼Œå…‰å½±è¦æœ‰è‰ºæœ¯æ„Ÿ</p>
</li>
<li>
<p>å±•ç°æ¸©å­ä»çš„ææ€–ç‰‡æ‹æ‘„æ•ˆæœï¼Œè¦å±•ç¤ºå¿ƒç†ææ€–çš„æ¦‚å¿µï¼Œç”¨åˆ°æ¸©å­ä»å¸¸ç”¨çš„ä¸€äº›ææ€–æ„è±¡</p>
</li>
<li>
<p>åšä¸€ä¸ªè¥¿éƒ¨ä¸–ç•Œé£æ ¼çš„1åˆ†åŠçŸ­ç‰‡</p>
</li>
</ul>
<p><em><strong>ã€ç©æ³•2ã€‘-ç”¨è‡ªå·±çš„åˆ†é•œåšä¸ªåŠ¨ç”»</strong></em></p>
<p>ä½ å¯ä»¥æŒ‰è‡ªå·±çš„æƒ³æ³•ï¼Œå¯¹æ¯ä¸ªé•œå¤´çš„ç”»é¢è¿›è¡Œæè¿°ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åœ¨æœ€å¼€å§‹å°±é€‰æ‹©å¥½è‡ªå·±æƒ³è¦çš„ç”»é£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd099b87ac614ccfade8d38e76d17278~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=3js9HuljndV4PWAFk%2B%2FYnCu5zg4%3D" alt="" loading="lazy"/></p>
<p><em><strong>ã€ç©æ³•3ã€‘-åˆ›å»ºä¸€ä¸ªå±äºè‡ªå·±çš„åŸåˆ›è§’è‰²</strong></em></p>
<p>æ–¹å¼1ï¼šé€‰æ‹©é£æ ¼åº“é£æ ¼ï¼Œæ–‡å­—æè¿°æƒ³è¦çš„è§’è‰²</p>
<p>å£ä»¤ï¼šå‚è€ƒxxxxxï¼ˆå¯ä¸å†™ï¼‰ï¼Œåšä¸ªxxxxçš„è§’è‰²</p>
<p>æ–¹å¼2ï¼šä¸Šä¼ ä¸€å¼ å‚è€ƒå›¾ï¼Œè¦æ±‚å®ƒå‚è€ƒè§’è‰²/å‚è€ƒé£æ ¼/å‚è€ƒè§’è‰²+é£æ ¼/ç›´æ¥ä½¿ç”¨è¿™å¼ å›¾ï¼Œç”Ÿæˆè§’è‰²</p>
<p>å£ä»¤ï¼šå‚è€ƒå›¾ä¸­çš„xxxxï¼Œåšä¸€ä¸ªxxxxxçš„è§’è‰²</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/200cc9aabb0b44dba81be0fb072469d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=mzQsiwih78JK4DjmJVXMooB7uwE%3D" alt="" loading="lazy"/></p>
<p>è¿›å…¥åä»»åŠ¡åï¼Œé€‰æ‹©åˆ›å»ºã€è§’è‰²å½¢è±¡ã€‘ï¼Œç„¶åä½ çš„è§’è‰²å°±ä¼šè¯ç”Ÿå•¦</p>
<p>ä¹‹åä½ å¯ä»¥é€‰æ‹©ä¸‹è½½å›¾ç‰‡ï¼Œç¼–è¾‘å›¾ç‰‡/è§’è‰²ï¼Œæˆ–è€…å°†è§’è‰²åŠ å…¥è§’è‰²åº“ï¼Œåœ¨åç»­è§†é¢‘ã€å›¾ç‰‡ä¸­åå¤è°ƒç”¨</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eafd2e3dbf6546fe931d932b1f80bf65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=sxU6S7T%2BMiFAwQiKFf8adIfpPOA%3D" alt="" loading="lazy"/></p>
<p><strong>03 æˆç†ŸæœŸï¼ˆç²¾é›•ç»†ç¢+IPåŒ–ï¼‰</strong></p>
<p>ç°åœ¨ï¼Œä½ å¯¹OiiOiiçš„åŸºæœ¬æ“ä½œäº†å¦‚æŒ‡æŒï¼Œä¸‹ä¸€æ­¥ï¼Œå°±æ˜¯å¼€å¯å¯¹è¯æ¨¡å¼ï¼ŒåŠ å…¥æ›´å¤šè‡ªå·±çš„åˆ›æ„ï¼Œä¿®æ”¹ç»†èŠ‚ï¼Œè®©ä½ çš„åŠ¨ç”»å˜å¾—æ›´ç²¾è‡´æ›´å®Œæ•´ï¼Œç„¶ååšå‡ºè‡ªå·±çš„IPå§ã€‚</p>
<p>è¦è®°ä½ï½<strong>æ¨¡ä»¿æ˜¯èµ°åœ¨åˆ«äººé“ºå¥½çš„å¤§è·¯ä¸Šï¼Œè™½ç„¶è½»æ¾ï¼Œä½†æ˜¯åˆ°è¾¾çš„å´æ˜¯åˆ«äººçš„ç»ˆç‚¹ã€‚</strong> ä»¥ä¸‹æ˜¯ä¸€äº›ç¼–è¾‘ä»¥åŠåšå¥½åŠ¨ç”»çš„æ·å¾„ã€‚</p>
<p><em><strong>ã€ç©æ³•1ã€‘-åˆ†é•œç”Ÿæˆä¸ä¿®æ”¹</strong></em></p>
<h3 data-id="heading-5">æ–¹å¼1ï¼šå¯¹è¯ä¿®æ”¹</h3>
<p>å£ä»¤ï¼šæŠŠåˆ†é•œxçš„æ”¹ä¸ºxxxxx</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b38d7a24c8e409a865d7960ad06c86e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=Idhz42SHEBpQ1WhXOlYltyt7AxU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">æ–¹å¼2ï¼šç”»å¸ƒæ“ä½œ</h3>
<ul>
<li>ç¼–è¾‘åˆ†é•œï¼šç‚¹å‡»åˆ†é•œå›¾ä¸­çš„â€œç¼–è¾‘åˆ†é•œâ€ï¼Œå³å¯è¿›å…¥åˆ†é•œç¼–è¾‘ä¿®æ”¹é¡µé¢ï¼š</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c43a10160b0543fab87a12f737e9a6db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=OpiJecrOtbPTu4MEB1u650QM1N4%3D" alt="" loading="lazy"/></p>
<ul>
<li>è£å‰ªåˆ†é•œï¼šç‚¹å‡»å¯¹åº”åˆ†é•œå³ä¸Šè§’çš„â€œå°å‰ªåˆ€â€ï¼Œæ‹–åŠ¨ä¸‹æ–¹çš„æ—¶é—´è½´ï¼Œå³å¯è£å‰ªåˆ†é•œè§†é¢‘ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06a14cb0ec224b9cbc172417ab5bed73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=E%2FtePull2lz0Cd4D5ukkbphWnzA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c88e1fe541143f0a44606bbc54eb5ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=9%2B3D67g%2BkHplKRnquerg8SFTIzo%3D" alt="" loading="lazy"/></p>
<ul>
<li>å¢åŠ åˆ†é•œï¼šç‚¹å‡»åˆ†é•œä¹‹é—´çš„+å·ï¼Œå³å¯å¢åŠ æ–°çš„åˆ†é•œï¼Œç”¨äºè¿‡æ¸¡è¡”æ¥ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85d6e581603a439e93357442ce43db56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=mlgXGACzLx59lO%2BZJwXQKduGWac%3D" alt="" loading="lazy"/></p>
<p><em><strong>ã€ç©æ³•2ã€‘- é‡ç‚¹ï¼ï¼åˆ©ç”¨è‡ªå·±çš„è§’è‰²ï¼Œåšä¸ªIPç³»åˆ—</strong></em></p>
<p>é€‰æ‹©åŠ å…¥è¿‡è§’è‰²åº“çš„è§’è‰²ï¼Œè¾“å…¥å£ä»¤å³å¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea7f1af742404ec9b40ba35ea6012e18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788626&amp;x-signature=%2Fbo8p%2BBTS4xjjp37XqMlvKz7Yt4%3D" alt="" loading="lazy"/></p>
<p><em><strong>ã€ç©æ³•3ã€‘-å†™å‡ºä¸€ä¸ªæ›´å¥½çš„æ•…äº‹</strong></em></p>
<h3 data-id="heading-7">æ–¹å¼1ï¼šæ›´æ¸…æ™°ç®€å•çš„å’ŒAgentè¡¨è¾¾ä¸»é¢˜</h3>
<p>å£ä»¤ï¼šåšä¸€ä¸ªä»¥xxä¸ºä¸»å¥çš„ï¼Œxxåˆ†é’Ÿï¼Œxxé£æ ¼çš„ï¼Œèƒ½è®©äººæ„Ÿåˆ°xxçš„åŠ¨ç”»ï¼Œéœ€è¦æœ‰å“ªäº›ç»†èŠ‚&amp;ç‰¹ç‚¹</p>
<h3 data-id="heading-8">æ–¹å¼2ï¼šç»“æ„æ¸…æ™°ï¼ŒåŒ…å«å¼€å¤´ã€è¿‡ç¨‹ã€ç»“å±€</h3>
<p>å£ä»¤ï¼šåšä¸€ä¸ªxxè§†é¢‘ï¼Œxxé£æ ¼ï¼ŒåŠ¨ç”»æ¼”ç¤ºâ€˜å¦‚ä½•å¿«é€Ÿæ‰“åŒ…è¡Œæç®±â€™ï¼ˆä¸»é¢˜ï¼‰ï¼Œä»è¡£ç‰©è„ä¹±çš„æ‘†æ”¾ï¼ˆå¼€å¤´ï¼‰ï¼Œåˆ°è‡ªåŠ¨æŠ˜å ï¼ˆè¿‡ç¨‹ï¼‰ï¼Œæœ€åé£å…¥ç®±å­ï¼ˆç»“å±€ï¼‰ï¼Œæ­¥éª¤æ¸…æ™°å¸¦æœ‰æ ‡æ³¨ï¼ŒèƒŒæ™¯éŸ³ä¹è½»å¿«ï¼ŒèŠ‚å¥æ˜å¿«ï¼Œé€‚åˆçŸ­è§†é¢‘æ’­æ”¾ã€‚</p>
<p><strong>03</strong>Â <strong>ç‰¹åˆ«æç¤ºâ€”â€”é‡è¦</strong></p>
<p>ã€ç‰ˆæƒæç¤ºã€‘ï¼šå¦‚æœå› ç‰ˆæƒé—®é¢˜è€Œæ— æ³•ç”Ÿæˆï¼Œå¯ä»¥å°è¯•è¾“å…¥æ¢è£…è§’è‰²åç§°ï¼Œä¾‹å¦‚â€œç©¿å”è£…çš„è·¯é£â€ï¼Œâ€œç©¿è¥¿è£…çš„é¸£äººâ€ç­‰ã€‚</p>
<p>ã€è¾“å…¥å»ºè®®ã€‘ï¼šæè¿°å°½é‡æ¸…æ™°ï¼Œå¦‚â€œå¡é€šé£æ ¼â€ã€â€œç”µå½±æ„Ÿâ€ã€â€œå¿«èŠ‚å¥â€ã€‚</p>
<p>ã€ä¿®æ”¹æœºåˆ¶ã€‘ï¼šæ”¯æŒå¤šæ¬¡ä¿®æ”¹ï¼Œå¯é€šè¿‡â€œé‡æ–°ç”Ÿæˆâ€æˆ–å…·ä½“æŒ‡ä»¤ä¼˜åŒ–ç»“æœã€‚</p>
<p>ä¿å§†çº§æ•™ç¨‹è½¬è½½è‡ª<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fmp.weixin.qq.com%2Fs%2Fd2395Md5QHoPf30nRSBTmA" target="_blank" title="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/d2395Md5QHoPf30nRSBTmA" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/d239</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ„å»ºèŠ¯ç‰‡åˆ¶é€ ä¼ä¸šå†…ç½‘å¯†ç å®‰å…¨é˜²çº¿]]></title>    <link>https://juejin.cn/post/7602529888483868735</link>    <guid>https://juejin.cn/post/7602529888483868735</guid>    <pubDate>2026-02-04T05:58:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602529888483868735" data-draft-id="7602529888483803199" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ„å»ºèŠ¯ç‰‡åˆ¶é€ ä¼ä¸šå†…ç½‘å¯†ç å®‰å…¨é˜²çº¿"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T05:58:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿ç»´æœ‰å°é‚“1"/> <meta itemprop="url" content="https://juejin.cn/user/930603309497018"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ„å»ºèŠ¯ç‰‡åˆ¶é€ ä¼ä¸šå†…ç½‘å¯†ç å®‰å…¨é˜²çº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/930603309497018/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿ç»´æœ‰å°é‚“1
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:58:56.000Z" title="Wed Feb 04 2026 05:58:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨èŠ¯ç‰‡åˆ¶é€ è¡Œä¸šï¼Œä»æ™¶åœ†ä»£å·¥ã€èŠ¯ç‰‡è®¾è®¡åˆ°å°è£…æµ‹è¯•ï¼Œå…¨æµç¨‹æ¶‰åŠæµ·é‡æ ¸å¿ƒæ•°æ®â€”â€”åŒ…æ‹¬èŠ¯ç‰‡è®¾è®¡å›¾çº¸ã€å·¥è‰ºå‚æ•°ã€ç”Ÿäº§è®¾å¤‡æ“æ§æƒé™ã€ä¾›åº”é“¾æœºå¯†ç­‰ã€‚è¿™äº›æ•°æ®ä¸€æ—¦å› å¯†ç æ³„éœ²å¼•å‘å®‰å…¨äº‹ä»¶ï¼Œä¸ä»…å¯èƒ½å¯¼è‡´æ ¸å¿ƒæŠ€æœ¯å¤–æ³„ã€ç”Ÿäº§ä¸­æ–­ï¼Œæ›´ä¼šé€ æˆåŠ¨è¾„åƒä¸‡çº§çš„ç»æµæŸå¤±ä¸å“ç‰Œå£°èª‰é‡åˆ›ã€‚</p>
<p>å›½é™…æƒå¨æŠ¥å‘ŠVerizonã€Š2025æ•°æ®æ³„éœ²è°ƒæŸ¥æŠ¥å‘Šï¼ˆDBIRï¼‰ã€‹æ˜¾ç¤ºï¼Œ30%çš„æ•°æ®æ³„éœ²æºäºå†…ç½‘å®‰å…¨é—®é¢˜ï¼Œå…¶ä¸­å¯†ç ç®¡ç†å¤±åºï¼ˆå¦‚å¼±å¯†ç ã€å¯†ç å¤ç”¨ã€æƒé™æ»¥ç”¨ï¼‰æ˜¯é¦–è¦è¯±å› ã€‚å¯¹äºé«˜åº¦ä¾èµ–å†…ç½‘ååŒçš„èŠ¯ç‰‡åˆ¶é€ ä¼ä¸šè€Œè¨€ï¼Œæ„å»ºé«˜æ•ˆã€åˆè§„çš„å¯†ç ç®¡ç†ä½“ç³»ï¼Œå·²æˆä¸ºä¿éšœç”Ÿäº§ç»è¥å®‰å…¨çš„æ ¸å¿ƒè¦åŠ¡ã€‚</p>
<p>PasswordManager Plusä½œä¸ºä¸“ä¸šçš„ä¼ä¸šçº§å¯†ç ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œå‡­å€Ÿé’ˆå¯¹æ€§çš„åŠŸèƒ½è®¾è®¡ï¼Œç²¾å‡†åŒ¹é…èŠ¯ç‰‡åˆ¶é€ ä¼ä¸šçš„å†…ç½‘å®‰å…¨éœ€æ±‚ï¼Œä¸ºä¼ä¸šç­‘ç‰¢å¯†ç å®‰å…¨é˜²çº¿ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef943ac40b5048aba4ca0d8f4afc1249~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-Q57u05pyJ5bCP6YKTMQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770789536&amp;x-signature=qLSWIxcvJ8TinDgZE8QrGberqiM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-0">ä¸€ã€èŠ¯ç‰‡åˆ¶é€ ä¼ä¸šçš„æ ¸å¿ƒå¯†ç å®‰å…¨ç—›ç‚¹</h3>
<p>èŠ¯ç‰‡åˆ¶é€ ä¼ä¸šçš„å†…ç½‘ç¯å¢ƒå¤æ‚ä¸”æ•æ„Ÿï¼Œå¯†ç ç®¡ç†é¢ä¸´å¤šé‡ç‹¬ç‰¹æŒ‘æˆ˜ï¼š</p>
<p><strong>å¤šåœºæ™¯å¯†ç ç®¡ç†æ··ä¹±ï¼š</strong> æ¶‰åŠç”Ÿäº§è®¾å¤‡ï¼ˆå…‰åˆ»æœºã€èš€åˆ»æœºç­‰ï¼‰æ“æ§ç³»ç»Ÿã€è®¾è®¡è½¯ä»¶ï¼ˆEDAå·¥å…·ï¼‰ã€ä¼ä¸šERPç³»ç»Ÿã€ä¾›åº”é“¾ç®¡ç†å¹³å°ç­‰å¤šä¸ªåœºæ™¯ï¼Œæ¯ä¸ªåœºæ™¯å‡éœ€ç‹¬ç«‹å¯†ç ï¼Œå‘˜å·¥æ˜“å‡ºç°å¯†ç å¤ç”¨ã€æ‰‹å†™è®°å½•ã€ç®€å•å¯†ç ç­‰ä¸å®‰å…¨è¡Œä¸ºã€‚</p>
<p><strong>æƒé™ç®¡æ§éš¾åº¦å¤§ï¼š</strong> ä¼ä¸šå†…éƒ¨å²—ä½å±‚çº§å¤šï¼ˆç ”å‘ã€ç”Ÿäº§ã€è´¨æ£€ã€è¿ç»´ã€ç®¡ç†ï¼‰ï¼Œå¤–éƒ¨æ¶‰åŠä¸Šä¸‹æ¸¸ä¾›åº”å•†ã€åˆä½œæœºæ„ç­‰ç¬¬ä¸‰æ–¹äººå‘˜ï¼Œä¸åŒè§’è‰²éœ€åˆ†é…ä¸åŒå¯†ç æƒé™ï¼Œä¼ ç»Ÿäººå·¥ç®¡ç†æ¨¡å¼æ˜“å‡ºç°æƒé™åˆ†é…ä¸å½“ã€ç¦»èŒå‘˜å·¥æƒé™å›æ”¶ä¸åŠæ—¶ç­‰é—®é¢˜ã€‚</p>
<p><strong>åˆè§„æ€§è¦æ±‚é«˜ï¼š</strong> èŠ¯ç‰‡åˆ¶é€ ä¼ä¸šå¤šæ¶‰åŠå›½é™…è´¸æ˜“ä¸æ ¸å¿ƒæŠ€æœ¯ä¿æŠ¤ï¼Œéœ€ç¬¦åˆISO 27001ã€NISTç­‰å›½é™…å®‰å…¨æ ‡å‡†ï¼Œä»¥åŠè¡Œä¸šç‰¹å®šçš„åˆè§„è¦æ±‚ï¼Œå¯†ç ç®¡ç†éœ€å…·å¤‡å®Œæ•´çš„å®¡è®¡æ—¥å¿—ã€æƒé™è¿½æº¯åŠŸèƒ½ã€‚</p>
<p><strong>åº”æ€¥å“åº”æ•ˆç‡ä½ï¼š</strong> ä¸€æ—¦å‡ºç°å¯†ç æ³„éœ²ã€è®¾å¤‡æ“æ§å¯†ç é—å¿˜ç­‰æƒ…å†µï¼Œä¼ ç»Ÿæµç¨‹éœ€å±‚å±‚å®¡æ‰¹ç”³è¯·é‡ç½®ï¼Œæ˜“å»¶è¯¯ç”Ÿäº§è¿›åº¦ï¼Œé€ æˆä¸å¿…è¦çš„æŸå¤±ã€‚</p>
<h3 data-id="heading-1">äºŒã€PasswordManager Plusé€‚é…èŠ¯ç‰‡åˆ¶é€ ä¼ä¸šçš„æ ¸å¿ƒèƒ½åŠ›</h3>
<p>é’ˆå¯¹ä¸Šè¿°ç—›ç‚¹ï¼ŒPasswordManager Plusä»å¯†ç é›†ä¸­ç®¡ç†ã€ç²¾ç»†åŒ–æƒé™ç®¡æ§ã€åˆè§„å®¡è®¡ã€é«˜æ•ˆè¿ç»´ç­‰ç»´åº¦ï¼Œæä¾›å…¨æµç¨‹è§£å†³æ–¹æ¡ˆï¼š</p>
<p><strong>1. å¤šåœºæ™¯å¯†ç é›†ä¸­ç®¡æ§ï¼Œæ¶ˆé™¤ç®¡ç†ç›²åŒº</strong><br/>
PasswordManager Plusæ”¯æŒå¯¹èŠ¯ç‰‡åˆ¶é€ å…¨æµç¨‹çš„å¯†ç è¿›è¡Œé›†ä¸­å­˜å‚¨ä¸ç®¡ç†ï¼Œæ¶µç›–ç”Ÿäº§è®¾å¤‡æ§åˆ¶ç³»ç»Ÿã€EDAè®¾è®¡å·¥å…·ã€ä¼ä¸šçº§åº”ç”¨ç³»ç»Ÿã€äº‘æœåŠ¡ç­‰å„ç±»åœºæ™¯ã€‚ç³»ç»Ÿé‡‡ç”¨AES-256åŠ å¯†ç®—æ³•å¯¹å¯†ç è¿›è¡ŒåŠ å¯†å­˜å‚¨ï¼Œç¡®ä¿å¯†ç æ•°æ®æœ¬èº«çš„å®‰å…¨æ€§ã€‚åŒæ—¶ï¼Œæ”¯æŒè‡ªåŠ¨å¯†ç ç”ŸæˆåŠŸèƒ½ï¼Œå¯ä¸ºä¸åŒåœºæ™¯ç”Ÿæˆç¬¦åˆå¤æ‚åº¦è¦æ±‚çš„å¼ºå¯†ç ï¼Œä»æºå¤´é¿å…å¼±å¯†ç é£é™©ã€‚å‘˜å·¥æ— éœ€è®°å¿†æµ·é‡å¯†ç ï¼Œä»…éœ€é€šè¿‡ä¸€ä¸ªä¸»å¯†ç å³å¯è®¿é—®æˆæƒçš„å¯†ç èµ„æºï¼Œå¤§å¹…æå‡å·¥ä½œæ•ˆç‡çš„åŒæ—¶ï¼Œæ¶ˆé™¤å¯†ç å¤ç”¨ã€éšæ„è®°å½•ç­‰å®‰å…¨éšæ‚£ã€‚</p>
<p><strong>2. ç²¾ç»†åŒ–æƒé™åˆ†çº§ï¼Œé€‚é…å¤æ‚ç»„ç»‡æ¶æ„</strong><br/>
ç»“åˆèŠ¯ç‰‡åˆ¶é€ ä¼ä¸šçš„å²—ä½ç‰¹ç‚¹ï¼ŒPasswordManager Plusæä¾›åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰æœºåˆ¶ï¼Œå¯æ ¹æ®ç ”å‘ã€ç”Ÿäº§ã€è¿ç»´ã€ç¬¬ä¸‰æ–¹ä¾›åº”å•†ç­‰ä¸åŒè§’è‰²ï¼Œç²¾å‡†åˆ†é…å¯†ç è®¿é—®æƒé™ã€‚ä¾‹å¦‚ï¼Œç ”å‘äººå‘˜ä»…èƒ½è®¿é—®EDAå·¥å…·ã€è®¾è®¡ç›¸å…³ç³»ç»Ÿçš„å¯†ç ï¼Œç”Ÿäº§äººå‘˜ä»…èƒ½è·å–å¯¹åº”ç”Ÿäº§è®¾å¤‡çš„æ“æ§å¯†ç ï¼Œç¬¬ä¸‰æ–¹ä¾›åº”å•†ä»…èƒ½è®¿é—®åˆä½œç›¸å…³çš„æœ‰é™ç³»ç»Ÿå¯†ç ã€‚åŒæ—¶ï¼Œæ”¯æŒæƒé™çš„åŠ¨æ€è°ƒæ•´ä¸ç¦»èŒå‘˜å·¥æƒé™çš„ä¸€é”®å›æ”¶ï¼Œé¿å…æƒé™æ»¥ç”¨ä¸é—ç•™é£é™©ã€‚</p>
<p><strong>3. å…¨æµç¨‹åˆè§„å®¡è®¡ï¼Œæ»¡è¶³å›½é™…å®‰å…¨æ ‡å‡†</strong><br/>
PasswordManager Pluså…·å¤‡å®Œæ•´çš„å®¡è®¡æ—¥å¿—åŠŸèƒ½ï¼Œå¯å®æ—¶è®°å½•å¯†ç çš„åˆ›å»ºã€è®¿é—®ã€ä¿®æ”¹ã€åˆ é™¤ç­‰æ‰€æœ‰æ“ä½œï¼ŒåŒ…æ‹¬æ“ä½œäººã€æ“ä½œæ—¶é—´ã€æ“ä½œå†…å®¹ç­‰å…³é”®ä¿¡æ¯ï¼Œå½¢æˆå¯è¿½æº¯çš„å®‰å…¨å®¡è®¡é“¾æ¡ã€‚ç³»ç»Ÿå†…ç½®ç¬¦åˆISO 27001ã€NISTç­‰å›½é™…æ ‡å‡†çš„åˆè§„æŠ¥è¡¨æ¨¡æ¿ï¼Œä¼ä¸šå¯ç›´æ¥å¯¼å‡ºæŠ¥è¡¨ç”¨äºåˆè§„æ£€æŸ¥ï¼Œå¤§å¹…é™ä½åˆè§„æˆæœ¬ã€‚æ­¤å¤–ï¼Œæ”¯æŒå¯†ç å®šæœŸæ›´æ¢æé†’ä¸è‡ªåŠ¨æ›´æ¢åŠŸèƒ½ï¼Œç¡®ä¿å¯†ç ä½¿ç”¨ç¬¦åˆå®‰å…¨è§„èŒƒã€‚</p>
<p><strong>4. é«˜æ•ˆè¿ç»´ä¸åº”æ€¥å“åº”ï¼Œä¿éšœç”Ÿäº§è¿ç»­æ€§</strong><br/>
é’ˆå¯¹èŠ¯ç‰‡åˆ¶é€ ä¼ä¸šç”Ÿäº§è¿ç»­æ€§çš„æ ¸å¿ƒéœ€æ±‚ï¼ŒPasswordManager Plusæä¾›ä¾¿æ·çš„å¯†ç é‡ç½®ä¸åº”æ€¥è®¿é—®åŠŸèƒ½ã€‚å½“å‘˜å·¥é—å¿˜å¯†ç æˆ–å‡ºç°å¯†ç æ³„éœ²æ—¶ï¼Œå¯é€šè¿‡é¢„è®¾çš„å®¡æ‰¹æµç¨‹å¿«é€Ÿç”³è¯·å¯†ç é‡ç½®ï¼Œå®¡æ‰¹é€šè¿‡åç³»ç»Ÿè‡ªåŠ¨åŒæ­¥æ–°å¯†ç è‡³ç›¸å…³ç³»ç»Ÿï¼Œé¿å…ç”Ÿäº§ä¸­æ–­ã€‚åŒæ—¶ï¼Œæ”¯æŒè¿ç»´äººå‘˜åœ¨ç´§æ€¥æƒ…å†µä¸‹çš„ä¸´æ—¶æƒé™æˆæƒï¼Œä¸”æ‰€æœ‰åº”æ€¥æ“ä½œå‡ä¼šè¢«è¯¦ç»†è®°å½•ï¼Œç¡®ä¿å®‰å…¨ä¸æ•ˆç‡çš„å¹³è¡¡ã€‚</p>
<h3 data-id="heading-2">ä¸‰ã€å®æˆ˜æ¡ˆä¾‹ï¼šPasswordManager PlusåŠ©åŠ›èŠ¯ç‰‡åˆ¶é€ ä¼ä¸šæå‡å®‰å…¨èƒ½çº§</h3>
<p>æŸå›½å†…å¤´éƒ¨èŠ¯ç‰‡åˆ¶é€ ä¼ä¸šï¼Œæ­¤å‰å› å‘˜å·¥å¯†ç å¤ç”¨å¯¼è‡´å†…ç½‘ç³»ç»Ÿè¢«å…¥ä¾µï¼Œæ ¸å¿ƒå·¥è‰ºå‚æ•°é¢ä¸´æ³„éœ²é£é™©ï¼ŒåŒæ—¶å› æƒé™ç®¡ç†æ··ä¹±ï¼Œå¤šæ¬¡å‡ºç°ç¦»èŒå‘˜å·¥æƒé™æœªåŠæ—¶å›æ”¶çš„é—®é¢˜ã€‚å¼•å…¥PasswordManager Plusåï¼Œä¼ä¸šå®ç°äº†å…¨åœºæ™¯å¯†ç çš„é›†ä¸­ç®¡æ§ï¼Œå‘˜å·¥å¯†ç å¤ç”¨ç‡ä»68%é™è‡³0ï¼Œå¯†ç ç›¸å…³å®‰å…¨äº‹ä»¶å‘ç”Ÿç‡ä¸‹é™92%ï¼›é€šè¿‡ç²¾ç»†åŒ–æƒé™åˆ†çº§ï¼Œæ˜ç¡®äº†å„å²—ä½å¯†ç è®¿é—®èŒƒå›´ï¼Œç¦»èŒå‘˜å·¥æƒé™å›æ”¶æ•ˆç‡æå‡è‡³å®æ—¶å®Œæˆï¼›å®Œæ•´çš„å®¡è®¡æ—¥å¿—ä¸åˆè§„æŠ¥è¡¨ï¼ŒåŠ©åŠ›ä¼ä¸šé¡ºåˆ©é€šè¿‡ISO 27001å¤å®¡ã€‚æ­¤å¤–ï¼Œç³»ç»Ÿçš„è‡ªåŠ¨å¯†ç ç”Ÿæˆä¸åŒæ­¥åŠŸèƒ½ï¼Œä½¿å‘˜å·¥å¹³å‡å¯†ç ç®¡ç†æ—¶é—´å‡å°‘70%ï¼Œå¤§å¹…æå‡äº†å·¥ä½œæ•ˆç‡ã€‚</p>
<h3 data-id="heading-3">å››ã€ç»“è¯­ï¼šå¯†ç å®‰å…¨æ˜¯èŠ¯ç‰‡åˆ¶é€ ä¼ä¸šçš„æ ¸å¿ƒé˜²çº¿</h3>
<p>åœ¨èŠ¯ç‰‡åˆ¶é€ è¡Œä¸šç«äº‰æ—¥è¶‹æ¿€çƒˆã€æ ¸å¿ƒæŠ€æœ¯ä¿æŠ¤éœ€æ±‚æ—¥ç›Šè¿«åˆ‡çš„èƒŒæ™¯ä¸‹ï¼Œå¯†ç å®‰å…¨ä½œä¸ºå†…ç½‘å®‰å…¨çš„ç¬¬ä¸€é“é˜²çº¿ï¼Œç›´æ¥å…³ç³»åˆ°ä¼ä¸šçš„ç”Ÿå­˜ä¸å‘å±•ã€‚PasswordManager Pluså‡­å€Ÿé’ˆå¯¹æ€§çš„åŠŸèƒ½è®¾è®¡ï¼Œä¸ºèŠ¯ç‰‡åˆ¶é€ ä¼ä¸šæä¾›é›†é›†ä¸­ç®¡ç†ã€ç²¾ç»†æˆæƒã€åˆè§„å®¡è®¡ã€é«˜æ•ˆè¿ç»´äºä¸€ä½“çš„å¯†ç å®‰å…¨è§£å†³æ–¹æ¡ˆï¼ŒåŠ©åŠ›ä¼ä¸šç­‘ç‰¢å®‰å…¨é˜²çº¿ï¼Œä¿éšœæ ¸å¿ƒæ•°æ®ä¸ç”Ÿäº§ç»è¥å®‰å…¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµå—å³æ¢¦ Meetup åœ†æ¡Œä¸Šï¼Œæˆ‘å¯¹è¿™æ³¢ AI æµªæ½®çš„ç²—æµ…çœ‹æ³•]]></title>    <link>https://juejin.cn/post/7602553969969528886</link>    <guid>https://juejin.cn/post/7602553969969528886</guid>    <pubDate>2026-02-04T04:03:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602553969969528886" data-draft-id="7602512064977092671" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµå—å³æ¢¦ Meetup åœ†æ¡Œä¸Šï¼Œæˆ‘å¯¹è¿™æ³¢ AI æµªæ½®çš„ç²—æµ…çœ‹æ³•"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-04T04:03:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£å“¥æ•°æ™ºè°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3825956195409223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµå—å³æ¢¦ Meetup åœ†æ¡Œä¸Šï¼Œæˆ‘å¯¹è¿™æ³¢ AI æµªæ½®çš„ç²—æµ…çœ‹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3825956195409223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£å“¥æ•°æ™ºè°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T04:03:27.000Z" title="Wed Feb 04 2026 04:03:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸Šå‘¨æ—¥ï¼Œæœ‰å¹¸ä½œä¸ºåœ†æ¡Œå˜‰å®¾å‚åŠ äº†æµå—çš„<strong>å³æ¢¦ Meetup</strong>ã€‚æ²¡æƒ³åˆ°ç°åœºèŠå¾—å…´èµ·ï¼Œè¿˜â€œå€Ÿå…‰â€ä¸Šäº†å±±ä¸œå«è§†çš„ç”Ÿæ´»é¢‘é“â€”â€”çœŸæŒºå¹¸è¿çš„ã€‚</p>
<p>ç°åœºå›ç­”é—®é¢˜æœ‰äº›ä»“ä¿ƒï¼Œå¾ˆå¤šæƒ³æ³•æ²¡æ¥å¾—åŠå±•å¼€ã€‚å›æ¥åæƒ³äº†æƒ³ï¼Œä¸å¦‚è¶çƒ­æ‰“é“æ•´ç†ä¸€ä¸‹ï¼Œæ—¢æ–¹ä¾¿è‡ªå·±å¤ç›˜ï¼Œä¹Ÿå¸Œæœ›èƒ½ç»™å…³æ³¨ AI ææ•ˆä¸èŒä¸šå‘å±•çš„æœ‹å‹ä»¬ä¸€ç‚¹å‚è€ƒã€‚</p>
<h2 data-id="heading-0">é—®é¢˜ä¸€ï¼šææ•ˆå’Œå˜ç°ã€‚</h2>
<p>ä¸ªäººç›®å‰èšç„¦çš„æ˜¯<strong>ææ•ˆ</strong>æ–¹å‘ï¼Œå› æ­¤è¿™å—ä¹Ÿä¸»è¦æ˜¯èŠä¸€ä¸‹ææ•ˆã€‚</p>
<p>æˆ‘æ„Ÿè§‰ AI ææ•ˆåˆ†ä¸ºä¸¤ä¸ªæ–¹å‘ï¼š</p>
<ul>
<li>æ¨ªå‘æ‰©å±•èƒ½åŠ›è¾¹ç•Œ</li>
<li>çºµå‘æå‡èƒ½åŠ›æ°´å¹³</li>
</ul>
<p><strong>æ¨ªå‘</strong>æ¥è¯´ï¼ŒAI è®©æˆ‘ä»¬å…·å¤‡äº†å¾ˆå¤šåŸæœ¬æ²¡æœ‰çš„èƒ½åŠ›ã€‚</p>
<p>æ¯”å¦‚æˆ‘æ˜¯ç¨‹åºå‘˜å‡ºèº«ï¼Œä»£ç æ˜¯æˆ‘çš„å¼ºé¡¹ï¼Œä½†æ˜¯è®¾è®¡æˆ‘å°±ä¸æ€ä¹ˆæ“…é•¿ã€‚</p>
<p>è€Œå€ŸåŠ©æ¯”å¦‚â€œå³æ¢¦AIâ€è¿™æ ·çš„ç”Ÿå›¾å·¥å…·ï¼Œæˆ‘å¯ä»¥å¾ˆå¿«çš„è®¾è®¡å‡ºäº§å“çš„ Logoï¼Œç½‘é¡µæ•ˆæœç­‰ï¼Œå¤§å¤§æ‰©å±•äº†æˆ‘çš„èƒ½åŠ›è¾¹ç•Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41b63fd41fdb4938b5d728e29af9496d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770782609&amp;x-signature=ytdjPIz8ab7d70p%2F7%2B%2BTiKfMwqY%3D" alt="ç¢ç‰‡å·¥å…·é›†è¤çš„Logo" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e0191979e714d00afacd65d16329848~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770782609&amp;x-signature=e9a%2Bt6i9Rbc1uNHVdTvW4%2F3WrfU%3D" alt="ç½‘é¡µè®¾è®¡" loading="lazy"/></p>
<p><strong>çºµå‘</strong>ä¸Šï¼ŒAI å¯ä»¥è®©æˆ‘æ›´å¿«åœ°å®ŒæˆåŸæ¥çš„å·¥ä½œï¼Œçœå‡ºæ›´å¤šçš„æ—¶é—´å»å®Œæˆæ›´å…·åˆ›é€ æ€§çš„äº‹æƒ…ã€‚</p>
<p>æ¯”å¦‚ï¼Œå‰å‡ å¤©ç¤¾ç¾¤çš„å®˜ç½‘ï¼Œä»ç¡®å®šå†…å®¹ã€è®¾è®¡å¼€å‘ã€éƒ¨ç½²ä¸Šçº¿ï¼Œä¸€å…±èŠ±äº†2ä¸ªå°æ—¶ï¼Œè¿™è¿˜åŒ…æ‹¬äº†åŸŸåã€æœåŠ¡å™¨è´­ä¹°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d361228c664943ac92e6b20151626e70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770782609&amp;x-signature=cg5VqmezsBZ%2FEoP7waPrncCBU%2Fw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">é—®é¢˜äºŒï¼šå±æœº</h2>
<p>å»å¹´å¹´åˆå‘è¿‡ä¸€ç¯‡æ–‡ç« ï¼Œã€Š<a href="https://juejin.cn/post/7444842933453864998" target="_blank" title="https://juejin.cn/post/7444842933453864998">Cursorï¼šå‰ç«¯ä¸ä¼šæ¶ˆå¤±ï¼Œä½†å‰ç«¯çš„ä½ ä¼šæ¶ˆå¤± - æ˜é‡‘</a>ã€‹ï¼Œå½“æ—¶çš„å±æœºè®¨è®ºæŒºå¤šçš„ã€‚</p>
<p>ä¸ªäººè®¤ä¸ºï¼š<strong>å±æœºå¿…ç„¶å­˜åœ¨ï¼Œä½†æ²¡é‚£ä¹ˆå¤§</strong>ã€‚</p>
<p>å°±åƒè’¸æ±½é©å‘½ä¸­æ±½è½¦ä»£æ›¿é©¬è½¦ä¸€æ ·ï¼ŒåŸæœ‰çš„è½¦å¤«è‚¯å®šæ¶ˆå¤±äº†ï¼Œä½†å¸æœºå‡ºç°äº†ã€‚å¹¶ä¸”ç”±äºç”Ÿäº§åŠ›çš„å‘å±•ï¼Œå¸æœºçš„æ•°é‡è¿œè¶…åŸæ¥é©¬å¤«çš„æ•°é‡ã€‚</p>
<p>æ˜ å°„åˆ°å½“å‰ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚åŸæ¥å¯åšå¯ä¸åšçš„éœ€æ±‚è½åœ°æˆæœ¬é™ä½äº†ï¼Œæ•´ä½“ä¸Šçš„å¸‚åœºå…¶å®æ˜¯å˜å¤§çš„ã€‚</p>
<p>ä½†ä»»ä½•äº‹æƒ…éƒ½éœ€è¦ä¸¤é¢çœ‹ã€‚</p>
<p>â€œå†å²çš„ä¸€ç²’å°˜åŸƒï¼Œè½åœ¨ä¸ªäººå¤´ä¸Šå°±æ˜¯ä¸€åº§å±±ã€‚â€</p>
<p>æˆ‘ä»¬åˆ‡æ¢åˆ°å¾®è§‚è§’åº¦ï¼ŒåŸæœ‰çš„é©¬è½¦å¤«è‚¯å®šå—åˆ°äº†å·¨å¤§å†²å‡»ï¼Œä¸èƒ½åŠæ—¶æ‹¥æŠ±å˜åŒ–çš„ç”šè‡³é­åˆ°äº†æ·˜æ±°ã€‚</p>
<p>å› æ­¤ï¼Œå»ºè®®å¤§å®¶ä¸ç®¡ä»€ä¹ˆè¡Œä¸šã€ä»€ä¹ˆå²—ä½ï¼Œæœ€èµ·ç è¦<strong>è·Ÿä¸Šè¿™æ³¢æµªæ½®ï¼Œä¸è¦æˆä¸ºé‚£ä¸ªè¢«æ·˜æ±°çš„é©¬è½¦å¤«</strong>ã€‚</p>
<h2 data-id="heading-2">é—®é¢˜ä¸‰ï¼šå»ºè®®</h2>
<p>AI æ˜¯äººå·¥æ™ºèƒ½çš„ç®€å†™ï¼Œæ ¸å¿ƒå°±æ˜¯â€œæ™ºèƒ½â€ã€‚</p>
<p>æˆ‘ä»¬å°±æŠŠâ€œæ™ºèƒ½â€æ‹†å¼€èŠèŠã€‚</p>
<p>é¦–å…ˆæ˜¯â€œ<strong>æ™º</strong>â€ã€‚</p>
<p>ç›¸å¯¹äºä¹‹å‰çš„å·¥ä¸šé©å‘½ã€ä¿¡æ¯é©å‘½ï¼ŒAI è¿™æ¬¡â€œé©å‘½â€çš„ä¸Šæ‰‹éš¾åº¦åº”è¯¥æ˜¯æœ€ä½çš„äº†ï¼Œä¹ æƒ¯äº†ç”µè„‘ã€æ‰‹æœºçš„æˆ‘ä»¬ï¼Œæƒ³è¦ä¸Šæ‰‹ AI å°±åƒèŠå¤©ä¸€æ ·ç®€å•ã€‚</p>
<p>å› æ­¤ï¼Œ<strong>ç¬¬ä¸€ä¸ªå»ºè®®å°±æ˜¯â€œç”¨â€</strong>ï¼Œä¸ç®¡å…è´¹ã€æ”¶è´¹çš„ï¼Œä¸ç®¡æ–‡æœ¬çš„ã€å›¾åƒçš„ï¼Œå¤§å®¶å°½æ—©å¼€å§‹ã€‚</p>
<p>è™½ç„¶ï¼ŒAI å¾ˆé«˜ç«¯ï¼Œä½†ç†Ÿèƒ½ç”Ÿå·§è¿™äº‹ï¼Œåœ¨ AI ä¸­ä¾ç„¶æœ‰æ•ˆã€‚</p>
<p>å…¶æ¬¡æ˜¯â€œ<strong>èƒ½</strong>â€ã€‚</p>
<p>æˆ‘ç†è§£æœ‰ä¸¤ä¸ªæ–¹é¢ã€‚</p>
<ul>
<li>ä¸€æ˜¯ è®© AI åšå®ƒæ“…é•¿çš„äº‹ã€‚</li>
</ul>
<p>å½“å‰çš„ AI å¹¶éä¸‡èƒ½ï¼Œä½†å®ƒåœ¨æ–‡æœ¬ç”Ÿæˆã€å›¾åƒåˆ›ä½œã€ä»£ç è¾…åŠ©ã€ä¿¡æ¯æç‚¼ç­‰é¢†åŸŸå·²ç»éå¸¸æˆç†Ÿã€‚å› æ­¤ï¼Œæˆ‘ä»¬è¦å–„äºåˆ†è¾¨å“ªäº›é€‚åˆ AIï¼Œå“ªäº›é€‚åˆäººç±»ï¼Œå„è‡ªåšæ“…é•¿çš„äº‹æƒ…ã€‚</p>
<ul>
<li>äºŒæ˜¯ å¸®åŠ© AI æŠŠäº‹å„¿åšå¥½ã€‚</li>
</ul>
<p>è¿™å°±éœ€è¦æˆ‘ä»¬æŒç»­å­¦ä¹ â€”â€”é€šè¿‡è®¾è®¡å·¥ä½œæµã€ä¼˜åŒ–æç¤ºè¯ã€å¼•å…¥äººå·¥æ ¡éªŒæˆ–äº¤å‰éªŒè¯ï¼Œæ‰èƒ½çœŸæ­£æå‡ AI è¾“å‡ºçš„æ•ˆç‡å’Œå¯é æ€§ã€‚</p>
<p>æ¯•ç«Ÿï¼Œåˆ«æŒ‡æœ›ä¸€å¥è¯å°±èƒ½è½»æ˜“æ¢æ¥å®Œç¾ç»“æœã€‚</p>
<h2 data-id="heading-3">ç»“è¯­</h2>
<p>AIæ—¶ä»£ï¼ŒæŒ‘æˆ˜çœŸå®å­˜åœ¨ï¼Œä½†æœºä¼šä¹Ÿå‰æ‰€æœªæœ‰ã€‚</p>
<p>å¸Œæœ›å¤§å®¶åœ¨è¿™æ¬¡æµªæ½®é‡Œé¢éƒ½èƒ½æ‰¾åˆ°é€‚åˆè‡ªå·±çš„ä½ç½®ã€‚</p>
<p>å…±å‹‰ï¼ŒåŠ æ²¹ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æœ‰å¹²è´§ï¼Œæ›´æœ‰å…±é¸£â€”â€”è¿™æ¬¡äº¦åº„ä¹‹è¡Œï¼Œåœ†æ»¡äº†ã€‚ã€]]></title>    <link>https://juejin.cn/post/7602559134575214628</link>    <guid>https://juejin.cn/post/7602559134575214628</guid>    <pubDate>2026-02-04T04:06:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602559134575214628" data-draft-id="7602512064977125439" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æœ‰å¹²è´§ï¼Œæ›´æœ‰å…±é¸£â€”â€”è¿™æ¬¡äº¦åº„ä¹‹è¡Œï¼Œåœ†æ»¡äº†ã€‚ã€"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-04T04:06:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£å“¥æ•°æ™ºè°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/3825956195409223"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æœ‰å¹²è´§ï¼Œæ›´æœ‰å…±é¸£â€”â€”è¿™æ¬¡äº¦åº„ä¹‹è¡Œï¼Œåœ†æ»¡äº†ã€‚ã€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3825956195409223/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£å“¥æ•°æ™ºè°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T04:06:05.000Z" title="Wed Feb 04 2026 04:06:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>1.31å»äº†è¶ŸåŒ—äº¬ï¼Œå‚åŠ äº†â€œåŒ—äº¬äº¦åº„æ¨¡æ•°OPCç¤¾åŒºç”Ÿæ€ä¼™ä¼´å¤§ä¼šâ€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6c1590073384e5f93a58f5fc80e7fa1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770782765&amp;x-signature=t0worqaiwUlp431a0zaW3JbyB0g%3D" alt="" loading="lazy"/></p>
<p>æœ¬æ¥åªæ˜¯æŠ±ç€æ¶¨æ¶¨è§è¯†å»çš„ï¼Œé¡ºä¾¿å¯ä»¥ç°åœºè§è§<strong>å¡å…¹å…‹</strong>å¤§ç¥ï¼Œæ²¡æƒ³åˆ°å…¨ç¨‹å‚ä¸å®Œï¼Œæ”¶è·è¿œè¶…é¢„æœŸã€‚</p>
<p>é¦–å…ˆï¼Œæ˜¯è¿™æ¬¡çš„ä¸»é¢˜ â€”â€” <code>OPC</code> ç¤¾åŒºã€‚åŒ—äº¬äº¦åº„çš„ <code>OPC</code> ç”Ÿæ€ï¼Œæ—¢æœ‰æ”¿ç­–ä¸èµ„é‡‘æ‰˜åº•ï¼Œåˆæœ‰å›­åŒº <code>5A</code> æ”¯æŒä½“ç³»ï¼ŒåŠ ä¸Šå¡ç¥ã€é²¤é±¼è€å¸ˆã€æ±—é’è€å¸ˆç­‰å…ˆè¡Œè€…çš„æ¢ç´¢ï¼Œä»¥åŠ <code>WaytoAGI</code> ç¤¾åŒºçš„ååŒé“¾æ¥ï¼Œæ•´ä¸ªç”Ÿæ€ï¼ŒçœŸçš„å¾ˆå®Œå–„ï¼</p>
<p>è€Œæ•´ä¸ªæ´»åŠ¨çš„åˆ†äº«å†…å®¹ï¼Œä¸è®ºæ˜¯å‰é¢çš„ä¸“é¢˜ï¼Œè¿˜æ˜¯åé¢çš„åœ†æ¡Œï¼Œæ›´æ˜¯å¹²è´§æ»¡æ»¡ã€‚</p>
<p>å†…å®¹å¤ªå¤šï¼ŒåªæŒ‘é€‰å‡ ä¸ªè§¦åŠ¨æ¯”è¾ƒå¤§çš„åˆ†äº«ç»™å¤§å®¶ã€‚</p>
<p>é²¤é±¼è€å¸ˆ**æ¢ç§˜â€œOPCâ€**çš„åˆ†äº«è®©æˆ‘å¯¹ <code>OPC</code> çš„è®¤è¯†å¤§å¤§åŠ æ·±ï¼Œæ›´æ˜ç¡®äº†ç¤¾åŒºå¯¹ <code>OPC</code> çš„ä»·å€¼éœ€è¦è½åœ¨ï¼š<strong>æ‰¾é˜Ÿå‹</strong>ï¼ˆæ–°çš„ç»„ç»‡ä¸šæ€ï¼‰ã€<strong>æ¥èµ„æº</strong>ï¼ˆè®¢å•æ”¿ç­–ï¼‰ã€<strong>æœ‰æ¸©åº¦</strong>ï¼ˆå„æ–¹é¢çš„æ”¯æŒï¼‰ä¸Šï¼Œè¿™éƒ½æ˜¯æµå—ç¤¾ç¾¤åç»­å¯ä»¥ç›´æ¥å‚è€ƒçš„æ ·æ¿ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64efa7519c79463a9bd13c74d4ae912c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770782765&amp;x-signature=7MCrfQtWj2FzxIOtCafjETOmEwk%3D" alt="" loading="lazy"/></p>
<p>æ±—é’è€å¸ˆåˆ™æ˜¯é€šè¿‡â€œ<strong>é‡è§äº¦åº„æ•…äº‹</strong>â€ï¼Œä¸ºæˆ‘ä»¬åˆ†äº«äº†è™šæ‹Ÿå¶åƒâ€œ<strong>Yuri</strong>â€ä»0åˆ°å…¨çƒ110ä¸‡ç²‰ä¸çš„æˆé•¿å†ç¨‹ï¼Œä¹Ÿç‚¹å‡ºäº†â€œ<strong>è¢«çœ‹è§</strong>â€çš„é‡è¦æ€§ï¼Œå¼•èµ·å¤§å®¶çš„å¼ºçƒˆå…±é¸£ã€‚å…¶ä¸­ï¼Œ500+çš„æ¡ˆä¾‹æ›´æ˜¯è®©äººéœ‡æ’¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85856af9ee204891a97a0b847219bafe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOe5ZOl5pWw5pm66LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770782765&amp;x-signature=KTPsyhyQ0NiI3J9bRtJXOeftKq0%3D" alt="" loading="lazy"/></p>
<p>è€Œâ€œ<strong>è¶…çº§ä¸ªä½“è¯ç”Ÿè¿‡ç¨‹AIå¦‚ä½•æ”¹å˜å…¬å¸ç»„å»ºçš„åº•å±‚é€»è¾‘</strong>â€çš„åœ†æ¡Œè®¨è®ºï¼Œåˆ™ç»™æˆ‘å¸¦æ¥äº†å¾ˆå¤šçš„æ€è€ƒã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>å‹‡æ•¢å°è¯•æ˜¯ç¬¬ä¸€æ­¥</li>
<li>çƒ­çˆ±æ‰èƒ½æŒä¹…</li>
<li>èƒ½å¤Ÿæ¥å—ä¸ç¡®å®šæ€§</li>
</ul>
<p>è™½ç„¶ä»Šå¤©çš„åˆ†äº«æ”¶è·è›®å¤šï¼Œä½†çœŸæ­£è®©æˆ‘å¿ƒå¤´ä¸€éœ‡çš„ï¼Œä¸æ˜¯æŸä¸ªæ–°å·¥å…·æˆ–æ–°æ¦‚å¿µï¼Œè€Œæ˜¯ â€”â€”
<strong>æˆ‘ä¹‹å‰åˆ†äº«çš„â€œAIä¸äººçš„å…³ç³»â€ï¼Œâ€œAIæ—¶ä»£é€šæ‰ä¼šæ›´æœ‰éœ€æ±‚â€ç­‰æ€è€ƒï¼Œåœ¨å¤§ä½¬è¿™é‡Œéƒ½å¾—åˆ°äº†å°è¯</strong>ã€‚</p>
<p>è¿™ç§â€œåŸæ¥æœ‰äººå’Œæˆ‘æƒ³çš„ä¸€æ ·â€çš„è®¤åŒæ„Ÿï¼Œç»™æˆ‘ç»­ä¸Šäº†ç»§ç»­åšæŒçš„åº•æ°”ã€‚</p>
<p>å›ç¨‹çš„é«˜é“ä¸Šæ•²ä¸‹è¿™äº›å­—ï¼Œç®—æ˜¯å¯¹ä»Šå¤©è¿™åœºâ€œè¢«çœ‹è§â€çš„è®°å½•ã€‚</p>
<p>æ„¿æœªæ¥è·¯ä¸Šï¼Œé‡è§æ›´å¤šåŒé¢‘çš„äººâ€”â€”è¯¸å›å…±å‹‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python WebRTC å®æˆ˜ï¼šä»é›¶å¼€å§‹æ„å»ºå®æ—¶éŸ³è§†é¢‘é€šä¿¡åº”ç”¨]]></title>    <link>https://juejin.cn/post/7602529888483524671</link>    <guid>https://juejin.cn/post/7602529888483524671</guid>    <pubDate>2026-02-04T03:51:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602529888483524671" data-draft-id="7602454700504956969" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python WebRTC å®æˆ˜ï¼šä»é›¶å¼€å§‹æ„å»ºå®æ—¶éŸ³è§†é¢‘é€šä¿¡åº”ç”¨"/> <meta itemprop="keywords" content="WebRTC,Python"/> <meta itemprop="datePublished" content="2026-02-04T03:51:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥½åå­—_æŠ€æœ¯åˆ†äº«"/> <meta itemprop="url" content="https://juejin.cn/user/1101056944119610"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python WebRTC å®æˆ˜ï¼šä»é›¶å¼€å§‹æ„å»ºå®æ—¶éŸ³è§†é¢‘é€šä¿¡åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1101056944119610/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥½åå­—_æŠ€æœ¯åˆ†äº«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:51:11.000Z" title="Wed Feb 04 2026 03:51:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Python WebRTC å®æˆ˜ï¼šä»é›¶å¼€å§‹æ„å»ºå®æ—¶éŸ³è§†é¢‘é€šä¿¡åº”ç”¨</h2>
<p>WebRTCï¼ˆWeb Real-Time Communicationï¼‰æ˜¯ä¸€ç§æ”¯æŒæµè§ˆå™¨å’Œç§»åŠ¨åº”ç”¨è¿›è¡Œå®æ—¶éŸ³è§†é¢‘é€šä¿¡çš„æŠ€æœ¯ã€‚åœ¨Pythonä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨WebRTCå®ç°æµè§ˆå™¨ä¸æµè§ˆå™¨ã€æˆ–æµè§ˆå™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„å®æ—¶æ•°æ®ä¼ è¾“ã€‚æœ¬æ–‡å°†ä»åŸºç¡€æ¦‚å¿µåˆ°å®é™…åº”ç”¨ï¼Œå¸¦ä½ å…¨é¢æŒæ¡Pythonä¸­çš„WebRTCå¼€å‘ã€‚</p>
<h3 data-id="heading-1">WebRTC åŸºç¡€æ¦‚å¿µ</h3>
<h4 data-id="heading-2">ä»€ä¹ˆæ˜¯WebRTCï¼Ÿ</h4>
<p>WebRTCæ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå®ƒæä¾›äº†ä¸€ç»„æ ‡å‡†çš„APIï¼Œä½¿å¾—æµè§ˆå™¨ä¹‹é—´å¯ä»¥è¿›è¡Œç›´æ¥çš„ç‚¹å¯¹ç‚¹ï¼ˆP2Pï¼‰é€šä¿¡ã€‚æ— éœ€é€šè¿‡ä¸­è½¬æœåŠ¡å™¨ï¼Œæ•°æ®å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¹‹é—´ä¼ è¾“ï¼Œå¤§å¤§é™ä½äº†å»¶è¿Ÿã€‚</p>
<h4 data-id="heading-3">æ ¸å¿ƒç»„ä»¶</h4>
<p>WebRTCçš„ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>MediaStream API</strong> - ç”¨äºè·å–éŸ³é¢‘å’Œè§†é¢‘æµ</li>
<li><strong>RTCPeerConnection</strong> - ç”¨äºå»ºç«‹å’Œç®¡ç†ç‚¹å¯¹ç‚¹è¿æ¥</li>
<li><strong>RTCDataChannel</strong> - ç”¨äºä¼ è¾“ä»»æ„æ•°æ®</li>
</ol>
<h3 data-id="heading-4">Pythonä¸­çš„WebRTCå®ç°æ–¹å¼</h3>
<p>åœ¨Pythonç”Ÿæ€ä¸­ï¼Œæœ‰å‡ ç§ä¸»æµæ–¹å¼å¯ä»¥é›†æˆWebRTCåŠŸèƒ½ï¼š</p>
<h4 data-id="heading-5">1. aiortc - å¼‚æ­¥WebRTCå®ç°</h4>
<p>aiortcæ˜¯ä¸€ä¸ªçº¯Pythonå®ç°çš„WebRTCåº“ï¼ŒåŸºäºasyncioæ¡†æ¶ï¼Œæ€§èƒ½ä¼˜å¼‚ä¸”æ˜“äºä½¿ç”¨ã€‚</p>
<h5 data-id="heading-6">å®‰è£…</h5>
<pre><code class="hljs language-bash" lang="bash">pip install aiortc
</code></pre>
<h5 data-id="heading-7">åˆ›å»ºè§†é¢‘æµ</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> aiortc <span class="hljs-keyword">import</span> RTCPeerConnection, MediaStreamTrack

<span class="hljs-keyword">class</span> <span class="hljs-title class_">VideoTrack</span>(<span class="hljs-title class_ inherited__">MediaStreamTrack</span>):
    kind = <span class="hljs-string">"video"</span>

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">recv</span>(<span class="hljs-params">self</span>):
        pts, time_base = <span class="hljs-keyword">await</span> self.next_timestamp()
        frame = <span class="hljs-keyword">await</span> self.next_frame()
        <span class="hljs-keyword">return</span> frame

<span class="hljs-comment"># åˆ›å»ºå¹¶å¯åŠ¨è§†é¢‘æµ</span>
video_track = VideoTrack()
peer_connection = RTCPeerConnection()
peer_connection.addTrack(video_track)
</code></pre>
<h4 data-id="heading-8">2. ä½¿ç”¨Janusæˆ–Mediasoupç­‰æœåŠ¡å™¨</h4>
<p>å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œå»ºè®®ä½¿ç”¨æˆç†Ÿçš„WebRTCæœåŠ¡å™¨ï¼š</p>
<ul>
<li><strong>Janus</strong> - é€šç”¨çš„WebRTCç½‘å…³</li>
<li><strong>Mediasoup</strong> - åŸºäºNode.jsçš„SFUï¼ˆSelective Forwarding Unitï¼‰</li>
<li><strong>Ant Media Server</strong> - æ”¯æŒWebRTCã€SIPã€RTMPç­‰å¤šç§åè®®</li>
</ul>
<h4 data-id="heading-9">3. Python + WebRTC Server</h4>
<p>ä½¿ç”¨<code>webrtc-python</code>åº“æ­å»ºWebRTCä¿¡ä»¤æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> aiortc <span class="hljs-keyword">import</span> RTCPeerConnection
<span class="hljs-keyword">from</span> aiohttp <span class="hljs-keyword">import</span> web

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">offer</span>(<span class="hljs-params">request</span>):
    params = <span class="hljs-keyword">await</span> request.json()
    peer_connection = RTCPeerConnection()
    peer_connection.setRemoteDescription(params[<span class="hljs-string">"offer"</span>])
    answer = peer_connection.createAnswer()
    <span class="hljs-keyword">return</span> web.json_response({<span class="hljs-string">"sdp"</span>: answer.sdp})

app = web.Application()
app.router.add_post(<span class="hljs-string">'/offer'</span>, offer)
web.run_app(app, port=<span class="hljs-number">8080</span>)
</code></pre>
<h3 data-id="heading-10">å®æˆ˜æ¡ˆä¾‹ï¼šè§†é¢‘ä¼šè®®ç³»ç»Ÿ</h3>
<p>è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªç®€å•çš„è§†é¢‘ä¼šè®®ç³»ç»Ÿï¼š</p>
<h4 data-id="heading-11">å‰ç«¯ä»£ç ï¼ˆHTML/JSï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"localVideo"</span> <span class="hljs-attr">autoplay</span> <span class="hljs-attr">playsinline</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"remoteVideo"</span> <span class="hljs-attr">autoplay</span> <span class="hljs-attr">playsinline</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> peerConnection = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RTCPeerConnection</span>();

navigator.<span class="hljs-property">mediaDevices</span>.<span class="hljs-title function_">getUserMedia</span>({ <span class="hljs-attr">video</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">audio</span>: <span class="hljs-literal">true</span> })
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">stream</span> =&gt;</span> {
    localVideo.<span class="hljs-property">srcObject</span> = stream;
    stream.<span class="hljs-title function_">getTracks</span>().<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">track</span> =&gt;</span> peerConnection.<span class="hljs-title function_">addTrack</span>(track, stream));
  });

peerConnection.<span class="hljs-property">ontrack</span> = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
  remoteVideo.<span class="hljs-property">srcObject</span> = event.<span class="hljs-property">streams</span>[<span class="hljs-number">0</span>];
};

<span class="hljs-comment">// ä¿¡ä»¤æœåŠ¡å™¨è¿æ¥</span>
<span class="hljs-keyword">const</span> socket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">'ws://localhost:8080'</span>);
socket.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">async</span> event =&gt; {
  <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>);
  <span class="hljs-keyword">if</span> (data.<span class="hljs-property">offer</span>) {
    <span class="hljs-keyword">await</span> peerConnection.<span class="hljs-title function_">setRemoteDescription</span>(data.<span class="hljs-property">offer</span>);
    <span class="hljs-keyword">const</span> answer = <span class="hljs-keyword">await</span> peerConnection.<span class="hljs-title function_">createAnswer</span>();
    socket.<span class="hljs-title function_">send</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ answer }));
  }
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h4 data-id="heading-12">Pythonåç«¯ä¿¡ä»¤æœåŠ¡å™¨</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> aiohttp
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> uuid
<span class="hljs-keyword">from</span> aiortc <span class="hljs-keyword">import</span> RTCPeerConnection, RTCSessionDescription

connected_peers = {}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_websocket</span>(<span class="hljs-params">request</span>):
    ws = web.WebSocketResponse()
    peer_id = <span class="hljs-built_in">str</span>(uuid.uuid4())
    connected_peers[peer_id] = ws

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">for</span> msg <span class="hljs-keyword">in</span> ws:
        data = json.loads(msg.data)
        <span class="hljs-comment"># å¤„ç†SDPäº¤æ¢</span>
        <span class="hljs-keyword">if</span> <span class="hljs-string">'sdp'</span> <span class="hljs-keyword">in</span> data:
            peer_connection = RTCPeerConnection()
            <span class="hljs-keyword">await</span> peer_connection.setRemoteDescription(RTCSessionDescription(sdp=data[<span class="hljs-string">'sdp'</span>]))
            answer = <span class="hljs-keyword">await</span> peer_connection.createAnswer()
            <span class="hljs-keyword">await</span> ws.send_json({ <span class="hljs-string">'sdp'</span>: answer.sdp, <span class="hljs-string">'peer_id'</span>: peer_id })

    <span class="hljs-keyword">del</span> connected_peers[peer_id]
    <span class="hljs-keyword">return</span> ws
</code></pre>
<h3 data-id="heading-13">å¸¸è§é—®é¢˜ä¸ä¼˜åŒ–</h3>
<h4 data-id="heading-14">1. NATç©¿é€é—®é¢˜</h4>
<p>ç”±äºNATï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰çš„å­˜åœ¨ï¼Œç‚¹å¯¹ç‚¹è¿æ¥å¯èƒ½å¤±è´¥ã€‚è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>ä½¿ç”¨STUNæœåŠ¡å™¨ï¼ˆå¦‚Googleçš„stun:stun.l.google.com:19302ï¼‰</li>
<li>ä½¿ç”¨TURNæœåŠ¡å™¨ä½œä¸ºä¸­è½¬</li>
<li>éƒ¨ç½²è‡ªå·±çš„coturnæœåŠ¡å™¨</li>
</ul>
<h4 data-id="heading-15">2. å»¶è¿Ÿä¼˜åŒ–</h4>
<ul>
<li>ä¼˜å…ˆä½¿ç”¨UDPè€ŒéTCP</li>
<li>è°ƒæ•´è§†é¢‘ç ç‡å’Œå¸§ç‡</li>
<li>é€‰æ‹©ä½å»¶è¿Ÿçš„ç¼–è§£ç å™¨ï¼ˆVP8/VP9ä¼˜äºH.264ï¼‰</li>
</ul>
<h4 data-id="heading-16">3. å…¼å®¹æ€§</h4>
<p>WebRTCåœ¨æ‰€æœ‰ç°ä»£æµè§ˆå™¨ä¸­éƒ½æœ‰è‰¯å¥½æ”¯æŒï¼š</p>
<ul>
<li>Chrome/Edge - å®Œå…¨æ”¯æŒ</li>
<li>Firefox - å®Œå…¨æ”¯æŒ</li>
<li>Safari - iOS 11+/MacOSæ”¯æŒ</li>
</ul>
<h3 data-id="heading-17">æ€»ç»“</h3>
<p>Pythonç»“åˆWebRTCå¯ä»¥å¿«é€Ÿæ„å»ºå®æ—¶éŸ³è§†é¢‘åº”ç”¨ã€‚é€šè¿‡aiortcç­‰åº“ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç†Ÿæ‚‰çš„Pythonè¯­æ³•å®ç°å¤æ‚çš„å®æ—¶é€šä¿¡åŠŸèƒ½ã€‚æœ¬æ–‡æ¶µç›–äº†ä»åŸºç¡€æ¦‚å¿µåˆ°å®Œæ•´è§†é¢‘ä¼šè®®ç³»ç»Ÿçš„å®ç°ï¼Œå¸Œæœ›å¯¹ä½ çš„WebRTCå¼€å‘ä¹‹æ—…æœ‰æ‰€å¸®åŠ©ã€‚</p>
<h3 data-id="heading-18">å‚è€ƒèµ„æ–™</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwebrtc.org%2F" target="_blank" title="https://webrtc.org/" ref="nofollow noopener noreferrer">WebRTCå®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faiortc%2Faiortc" target="_blank" title="https://github.com/aiortc/aiortc" ref="nofollow noopener noreferrer">aiortc GitHub</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FWebRTC_API" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/WebRTC_API" ref="nofollow noopener noreferrer">MDN WebRTCæ•™ç¨‹</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Jina Rerankers ä¸º Elastic æ¨ç†æœåŠ¡ï¼ˆEISï¼‰å¸¦æ¥äº†å¿«é€Ÿã€å¤šè¯­è¨€çš„é‡æ’åºèƒ½åŠ›]]></title>    <link>https://juejin.cn/post/7602529888483590207</link>    <guid>https://juejin.cn/post/7602529888483590207</guid>    <pubDate>2026-02-04T04:07:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602529888483590207" data-draft-id="7602454700505022505" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Jina Rerankers ä¸º Elastic æ¨ç†æœåŠ¡ï¼ˆEISï¼‰å¸¦æ¥äº†å¿«é€Ÿã€å¤šè¯­è¨€çš„é‡æ’åºèƒ½åŠ›"/> <meta itemprop="keywords" content="Elasticsearch"/> <meta itemprop="datePublished" content="2026-02-04T04:07:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Elasticsearch"/> <meta itemprop="url" content="https://juejin.cn/user/2612095360441448"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Jina Rerankers ä¸º Elastic æ¨ç†æœåŠ¡ï¼ˆEISï¼‰å¸¦æ¥äº†å¿«é€Ÿã€å¤šè¯­è¨€çš„é‡æ’åºèƒ½åŠ›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2612095360441448/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Elasticsearch
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T04:07:17.000Z" title="Wed Feb 04 2026 04:07:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæ¥è‡ª ElasticÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Fauthor%2Fsean-handley" title="https://www.elastic.co/search-labs/author/sean-handley" target="_blank" ref="nofollow noopener noreferrer">Sean Handley</a>,Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Fauthor%2Fbrendan-jugan" title="https://www.elastic.co/search-labs/author/brendan-jugan" target="_blank" ref="nofollow noopener noreferrer">Brendan Jugan</a>Â åŠÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Fauthor%2Franjana-devaji" title="https://www.elastic.co/search-labs/author/ranjana-devaji" target="_blank" ref="nofollow noopener noreferrer">Ranjana Devaji</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88fd6b6b42f045368975dd1a2e3559d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770782838&amp;x-signature=23alh9073udarm7zeX%2FuuvZlJcs%3D" alt="" loading="lazy"/></p>
<p>Elastic ç°åœ¨åœ¨ EIS ä¸Šæä¾›äº† jina-reranker-v2-base-multilingual å’Œ jina-reranker-v3ï¼Œä½¿å¾—å¯ä»¥ç›´æ¥åœ¨ Elasticsearch ä¸­è¿›è¡Œå¿«é€Ÿå¤šè¯­è¨€é‡æ’åºï¼Œå®ç°æ›´é«˜ç²¾åº¦çš„æ£€ç´¢ã€RAG å’Œ agentic workflowï¼Œæ— éœ€é¢å¤–åŸºç¡€è®¾æ–½ã€‚</p>
<p>åŠ¨æ‰‹ä½“éªŒ Elasticsearchï¼šç°åœ¨å°±å¯ä»¥æµè§ˆæˆ‘ä»¬çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch-labs%3Ftab%3Dreadme-ov-file" title="https://github.com/elastic/elasticsearch-labs?tab=readme-ov-file" target="_blank" ref="nofollow noopener noreferrer">ç¤ºä¾‹ notebooks</a>ã€å¯åŠ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fcloud%2Fcloud-trial-overview" title="https://www.elastic.co/cloud/cloud-trial-overview" target="_blank" ref="nofollow noopener noreferrer">å…è´¹äº‘è¯•ç”¨</a>ï¼Œæˆ–åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F143747798" title="https://elasticstack.blog.csdn.net/article/details/143747798" target="_blank" ref="nofollow noopener noreferrer">æœ¬åœ°æœºå™¨</a>ä¸Šå°è¯• Elasticã€‚</p>
<hr/>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å¾ˆé«˜å…´åœ¨ Elastic Inference Service (<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fexplore-analyze%2Felastic-inference%2Feis" title="https://www.elastic.co/docs/explore-analyze/elastic-inference/eis" target="_blank" ref="nofollow noopener noreferrer">EIS</a>) ä¸Šæ¨å‡º <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fjina.ai%2Fmodels%2Fjina-reranker-v2-base-multilingual%2F" title="https://jina.ai/models/jina-reranker-v2-base-multilingual/" target="_blank" ref="nofollow noopener noreferrer">jina-reranker-v2-base-multilingual</a></strong> å’Œ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fjina.ai%2Fnews%2Fjina-reranker-v3-0-6b-listwise-reranker-for-sota-multilingual-retrieval%2F" title="https://jina.ai/news/jina-reranker-v3-0-6b-listwise-reranker-for-sota-multilingual-retrieval/" target="_blank" ref="nofollow noopener noreferrer">jina-reranker-v3</a></strong>ï¼Œå®ç°ç›´æ¥åœ¨ Elasticsearch ä¸­è¿›è¡Œå¿«é€Ÿã€å¤šè¯­è¨€ã€é«˜ç²¾åº¦çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F143352429" title="https://elasticstack.blog.csdn.net/article/details/143352429" target="_blank" ref="nofollow noopener noreferrer">é‡æ’åº</a>ã€‚</p>
<p>Jina AIï¼ˆæœ€è¿‘è¢« Elastic æ”¶è´­ï¼‰æ˜¯å¼€æºå¤šè¯­è¨€å’Œå¤šæ¨¡æ€æ¨¡å‹é¢†åŸŸçš„é¢†å¯¼è€…ï¼Œæä¾›ç”¨äºé«˜è´¨é‡æ£€ç´¢å’Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F134396254" title="https://elasticstack.blog.csdn.net/article/details/134396254" target="_blank" ref="nofollow noopener noreferrer">RAG</a>ï¼‰çš„æœ€å…ˆè¿›<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F156502954" title="https://elasticstack.blog.csdn.net/article/details/156502954" target="_blank" ref="nofollow noopener noreferrer">æœç´¢åŸºç¡€æ¨¡å‹</a>ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fblog%2Felastic-inference-service" title="https://www.elastic.co/blog/elastic-inference-service" target="_blank" ref="nofollow noopener noreferrer">EIS</a> è®©ä½ å¯ä»¥è½»æ¾åœ¨æ‰˜ç®¡ GPU ä¸Šè¿è¡Œè¿™äº›ç°æˆæ¨¡å‹çš„å¿«é€Ÿã€é«˜è´¨é‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fexplore-analyze%2Felastic-inference" title="https://www.elastic.co/docs/explore-analyze/elastic-inference" target="_blank" ref="nofollow noopener noreferrer">æ¨ç†</a>ï¼Œæ— éœ€ä»»ä½•è®¾ç½®æˆ–æ‰˜ç®¡å¤æ‚æ€§ã€‚</p>
<p>Reranker é€šè¿‡ä¼˜åŒ–æ£€ç´¢ç»“æœçš„æ’åºæé«˜è¯­ä¹‰ç²¾åº¦ï¼Œå¸®åŠ©é€‰æ‹©æœ€åŒ¹é…æŸ¥è¯¢çš„ç»“æœã€‚å®ƒä»¬èƒ½å¤Ÿåœ¨ä¸é‡æ–°ç´¢å¼•æˆ–å¹²æ‰°ç®¡é“çš„æƒ…å†µä¸‹æå‡ç›¸å…³æ€§ï¼Œå¯¹æ··åˆæœç´¢å’Œ RAG å·¥ä½œæµå°¤ä¸ºé‡è¦ï¼Œå› ä¸ºæ›´å¥½çš„ä¸Šä¸‹æ–‡èƒ½æé«˜ä¸‹æ¸¸ä»»åŠ¡çš„å‡†ç¡®æ€§ã€‚</p>
<p>æ­¤å‰ EIS ä¸Šå·²æ¨å‡º <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F156881069" title="https://elasticstack.blog.csdn.net/article/details/156881069" target="_blank" ref="nofollow noopener noreferrer">jina-embeddings-v3</a></strong>ï¼Œæ‰©å±•äº†å¤šè¯­è¨€ reranking çš„æ¨¡å‹ç›®å½•ã€‚å¼€å‘è€…ç°åœ¨å¯ä»¥ç»“åˆ BM25F <a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F134111585" title="https://elasticstack.blog.csdn.net/article/details/134111585" target="_blank" ref="nofollow noopener noreferrer">è¯æ±‡æœç´¢</a>å’Œæ¥è‡ª <strong>jina-embeddings-v3</strong> çš„å¤šè¯­è¨€<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F145562747" title="https://elasticstack.blog.csdn.net/article/details/145562747" target="_blank" ref="nofollow noopener noreferrer">å‘é‡æœç´¢</a>è¿›è¡Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F145697606" title="https://elasticstack.blog.csdn.net/article/details/145697606" target="_blank" ref="nofollow noopener noreferrer">æ··åˆæœç´¢</a>ï¼Œå†æ ¹æ®å…·ä½“ä½¿ç”¨åœºæ™¯ä½¿ç”¨ Jina Rerankers v2 æˆ– v3 è¿›è¡Œé‡æ’åºï¼Œä»è€Œåœ¨ Elasticsearch ä¸­åŸç”Ÿå®ç°å¯¹å¬å›è°ƒä¼˜çš„å®Œå…¨æ§åˆ¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e9965ce581d44f8a3f31b3b699a9fc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRWxhc3RpY3NlYXJjaA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770782838&amp;x-signature=YX765klIxpDU2cAcATT6Bzy9qp8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">jina-reranker-v2-base-multilingual</h2>
<p>jina-reranker-v2-base-multilingual æ˜¯ä¸€ä¸ªç´§å‡‘å‹é€šç”¨é‡æ’åºå™¨ï¼Œå…·å¤‡æ”¯æŒå‡½æ•°è°ƒç”¨å’Œ SQL æŸ¥è¯¢çš„ç‰¹æ€§ã€‚</p>
<ul>
<li>
<p><strong>ä½å»¶è¿Ÿå¤§è§„æ¨¡æ¨ç†</strong>ï¼šè¿™æ˜¯ä¸€ä¸ª 2.78 äº¿å‚æ•°çš„ç´§å‡‘æ¨¡å‹ï¼Œä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2307.08691" title="https://arxiv.org/abs/2307.08691" target="_blank" ref="nofollow noopener noreferrer">Flash Attention 2</a> æä¾›ä½å»¶è¿Ÿæ¨ç†ï¼Œåœ¨å¤šè¯­è¨€æ€§èƒ½ä¸Šè¡¨ç°å‡ºè‰²ï¼Œæ ¹æ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co%2Fspaces%2FAIR-Bench%2Fleaderboard" title="https://huggingface.co/spaces/AIR-Bench/leaderboard" target="_blank" ref="nofollow noopener noreferrer">AIR æŒ‡æ ‡</a>å’Œå…¶ä»–å¸¸ç”¨åŸºå‡†ç”šè‡³ä¼˜äºæ›´å¤§çš„é‡æ’åºæ¨¡å‹ã€‚</p>
</li>
<li>
<p><strong>æ”¯æŒ agentic ç”¨ä¾‹</strong>ï¼šå¯ä»¥è¿›è¡Œå‡†ç¡®çš„å¤šè¯­è¨€æ–‡æœ¬é‡æ’åºï¼Œå¹¶é¢å¤–æ”¯æŒé€‰æ‹©ä¸æ–‡æœ¬æŸ¥è¯¢åŒ¹é…çš„ SQL è¡¨å’Œå¤–éƒ¨å‡½æ•°ï¼Œä»è€Œå®ç° <a href="https://link.juejin.cn?target=https%3A%2F%2Felasticstack.blog.csdn.net%2Farticle%2Fdetails%2F152024448" title="https://elasticstack.blog.csdn.net/article/details/152024448" target="_blank" ref="nofollow noopener noreferrer">agentic å·¥ä½œæµ</a>ã€‚</p>
</li>
<li>
<p><strong>æ— é™å€™é€‰æ”¯æŒ</strong>ï¼šv2 å¯ä»¥å¤„ç†ä»»æ„å¤§çš„å€™é€‰åˆ—è¡¨ï¼Œé€šè¿‡ç‹¬ç«‹è¯„åˆ†æ–‡æ¡£å®ç°ã€‚è¯„åˆ†å¯è·¨æ‰¹æ¬¡å…¼å®¹ï¼Œå› æ­¤å¼€å‘è€…å¯ä»¥å¢é‡é‡æ’åºå¤§å‹ç»“æœé›†ã€‚ä¾‹å¦‚ï¼Œæµæ°´çº¿å¯ä»¥æ¯æ¬¡è¯„åˆ† 100 ä¸ªå€™é€‰é¡¹ï¼Œç„¶ååˆå¹¶è¯„åˆ†å¹¶æ’åºç»¼åˆç»“æœã€‚è¿™ä½¿å¾— v2 åœ¨ä¸ä¸¥æ ¼åº”ç”¨ top-k é™åˆ¶çš„æµæ°´çº¿ä¸­éå¸¸é€‚ç”¨ã€‚</p>
</li>
</ul>
<h2 data-id="heading-1">jina-reranker-v3</h2>
<p>jina-reranker-v3 æä¾›å¤šè¯­è¨€ listwise é‡æ–°æ’åºï¼Œåœ¨ RAG å’Œ agent é©±åŠ¨çš„å·¥ä½œæµä¸­å®ç°æ›´é«˜ç²¾åº¦å’Œæœ€å…ˆè¿›çš„æ€§èƒ½ã€‚</p>
<ul>
<li>
<p><strong>è½»é‡åŒ–ã€é€‚åˆç”Ÿäº§ç¯å¢ƒçš„æ¶æ„</strong>ï¼šçº¦ 6 äº¿å‚æ•°çš„ listwise é‡æ–°æ’åºæ¨¡å‹ï¼Œä¼˜åŒ–ä»¥å®ç°ä½å»¶è¿Ÿæ¨ç†å’Œé«˜æ•ˆéƒ¨ç½²ã€‚</p>
</li>
<li>
<p><strong>å¼ºå¤§çš„å¤šè¯­è¨€è¡¨ç°</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjina.ai%2Fnews%2Fjina-reranker-v3-0-6b-listwise-reranker-for-sota-multilingual-retrieval%2F" title="https://jina.ai/news/jina-reranker-v3-0-6b-listwise-reranker-for-sota-multilingual-retrieval/" target="_blank" ref="nofollow noopener noreferrer">åŸºå‡†æµ‹è¯•</a>æ˜¾ç¤º v3 åœ¨å¤šè¯­è¨€ä»»åŠ¡ä¸Šæ€§èƒ½é¢†å…ˆäºæ›´å¤§çš„æ¨¡å‹ï¼ŒåŒæ—¶åœ¨ç½®æ¢æƒ…å†µä¸‹ä¿æŒç¨³å®šçš„ top-k æ’åºã€‚</p>
</li>
<li>
<p><strong>é«˜æ•ˆè·¨æ–‡æ¡£é‡æ–°æ’åº</strong>ï¼šä¸ v2 ä¸åŒï¼Œv3 å¯ä»¥åœ¨å•æ¬¡æ¨ç†ä¸­å¯¹æœ€å¤š 64 ä¸ªæ–‡æ¡£è¿›è¡Œæ•´ä½“é‡æ–°æ’åºï¼Œé€šè¿‡è€ƒå¯Ÿå€™é€‰é›†åˆå†…çš„å…³ç³»æå‡æ’åºè´¨é‡ã€‚é€šè¿‡æ‰¹é‡å¤„ç†å€™é€‰è€Œéå•ç‹¬è¯„åˆ†ï¼Œv3 æ˜¾è‘—é™ä½æ¨ç†æˆæœ¬ï¼Œéå¸¸é€‚åˆå…·æœ‰å›ºå®š top-k ç»“æœçš„ RAG å’Œ agent é©±åŠ¨å·¥ä½œæµã€‚</p>
</li>
</ul>
<p><strong>æ›´å¤šæ¨¡å‹å³å°†æ¨å‡º</strong>ï¼šEIS æ­£åœ¨æŒç»­æ‰©å±•ç”¨äºå€™é€‰é‡æ’ã€æ£€ç´¢å’Œ agent æ¨ç†çš„ä¼˜åŒ–æ¨¡å‹ã€‚ä¸‹ä¸€ä¸ªæ˜¯ç”¨äºå¤šæ¨¡æ€é‡æ’çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fjina.ai%2Fnews%2Ffair-scoring-for-multimodal-documents-with-jina-reranker-m0%2F" title="https://jina.ai/news/fair-scoring-for-multimodal-documents-with-jina-reranker-m0/" target="_blank" ref="nofollow noopener noreferrer">jina-reranker-m0</a>ï¼Œå…¶æ¬¡æ˜¯æ¥è‡ª OpenAIã€Google å’Œ Anthropic çš„ frontier æ¨¡å‹ã€‚</p>
<h2 data-id="heading-2">å¼€å§‹ä½¿ç”¨</h2>
<p>ä½ å¯ä»¥é€šè¿‡å‡ ä¸ªç®€å•æ­¥éª¤ï¼Œåœ¨ EIS ä¸Šä½¿ç”¨ <strong>jina-reranker-v2-base-multilingual</strong>ã€‚</p>
<h3 data-id="heading-3"><strong>ä½¿ç”¨ jina-embeddings-v3 åˆ›å»ºå‘é‡</strong></h3>
<pre><code class="hljs language-markdown" lang="markdown">`

<span class="hljs-bullet">1.</span>  POST <span class="hljs-emphasis">_inference/text_</span>embedding/.jina-embeddings-v3
<span class="hljs-bullet">2.</span>  {
<span class="hljs-bullet">3.</span>    "input": [
<span class="hljs-bullet">4.</span>      "The Atlantic is a vast, deep ocean.",
<span class="hljs-bullet">5.</span>      "A small puddle formed on the sidewalk."
<span class="hljs-bullet">6.</span>    ]
<span class="hljs-bullet">7.</span>  }

`AIå†™ä»£ç 
</code></pre>
<p>å“åº”ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  {
2.    <span class="hljs-string">"text_embedding"</span>: [
3.      {
4.        <span class="hljs-string">"embedding"</span>: [
5.          0.0061287,
6.          ...
7.        ]
8.      },
9.      {
10.        <span class="hljs-string">"embedding"</span>: [
11.          -0.11765291,
12.          ...
13.        ]
14.      }
15.    ]
16.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<h3 data-id="heading-4">ä½¿ç”¨ jina-reranker-v2-base-multilingual é‡æ–°æ’åº</h3>
<p>æ‰§è¡Œæ¨ç†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  POST _inference/rerank/.jina-reranker-v2-base-multilingual
2.  {
3.   <span class="hljs-string">"input"</span>: [<span class="hljs-string">"puddle"</span>, <span class="hljs-string">"ocean"</span>, <span class="hljs-string">"cup of tea"</span>],
4.   <span class="hljs-string">"query"</span>: <span class="hljs-string">"a large body of water"</span>
5.  }

`AIå†™ä»£ç 
</code></pre>
<p>å“åº”ç»“æœï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  {
2.    <span class="hljs-string">"rerank"</span>: [
3.      {
4.        <span class="hljs-string">"index"</span>: 1,
5.        <span class="hljs-string">"relevance_score"</span>: 0.48755136
6.      },
7.      {
8.        <span class="hljs-string">"index"</span>: 0,
9.        <span class="hljs-string">"relevance_score"</span>: 0.41489884
10.      },
11.      {
12.        <span class="hljs-string">"index"</span>: 2,
13.        <span class="hljs-string">"relevance_score"</span>: 0.07696084
14.      }
15.    ]
16.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<h3 data-id="heading-5">ä½¿ç”¨ jina-reranker-v3 é‡æ–°æ’åº</h3>
<p>æ‰§è¡Œæ¨ç†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  POST _inference/rerank/.jina-reranker-v3
2.  {
3.    <span class="hljs-string">"input"</span>: [<span class="hljs-string">"pebble"</span>, <span class="hljs-string">"The Swiss Alps"</span>, <span class="hljs-string">"a steep hill"</span>],
4.    <span class="hljs-string">"query"</span>: <span class="hljs-string">"mountain range"</span>
5.  }

`AIå†™ä»£ç 
</code></pre>
<p>å“åº”ç»“æœï¼š</p>
<pre><code class="hljs language-bash" lang="bash">`

1.  {
2.    <span class="hljs-string">"rerank"</span>: [
3.      {
4.        <span class="hljs-string">"index"</span>: 1,
5.        <span class="hljs-string">"relevance_score"</span>: 0.06519848
6.      },
7.      {
8.        <span class="hljs-string">"index"</span>: 2,
9.        <span class="hljs-string">"relevance_score"</span>: -0.05002501
10.      },
11.      {
12.        <span class="hljs-string">"index"</span>: 0,
13.        <span class="hljs-string">"relevance_score"</span>: -0.09782915
14.      }
15.    ]
16.  }

`AIå†™ä»£ç ![](https://csdnimg.cn/release/blogv2/dist/pc/img/runCode/icon-arrowwhite.png)
</code></pre>
<p>ç±»ä¼¼äº jina-reranker-v2-base-multilingualï¼Œå“åº”ç»“æœæä¾›äº†æŒ‰ç›¸å…³æ€§æ’åºçš„è¾“å…¥ä¼˜å…ˆåˆ—è¡¨ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ¨¡å‹å°† â€œThe Swiss Alpsâ€ è¯†åˆ«ä¸º â€œmountain rangeâ€ çš„æœ€ç›¸å…³åŒ¹é…ï¼Œè€Œ â€œpebbleâ€ å’Œ â€œa steep hillâ€ æ’åè¾ƒä½ã€‚</p>
<p>ç„¶è€Œï¼Œä¸€ä¸ªå…³é”®åŒºåˆ«æ˜¯ jina-reranker-v3 æ˜¯åˆ—è¡¨å¼é‡æ–°æ’åºå™¨ï¼ˆlistwise rerankerï¼‰ã€‚ä¸é€ä¸ªå¯¹æ–‡æ¡£-æŸ¥è¯¢å¯¹è¯„åˆ†çš„ jina-reranker-v2-base-multilingual ä¸åŒï¼Œjina-reranker-v3 ä¼šåŒæ—¶å¤„ç†æ‰€æœ‰è¾“å…¥ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿåœ¨ç¡®å®šæœ€ç»ˆæ’åºä¹‹å‰è¿›è¡Œä¸°å¯Œçš„è·¨æ–‡æ¡£äº¤äº’ã€‚</p>
<h2 data-id="heading-6">EIS æ–°ç‰¹æ€§</h2>
<p>é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fdocs%2Fdeploy-manage%2Fcloud-connect" title="https://www.elastic.co/docs/deploy-manage/cloud-connect" target="_blank" ref="nofollow noopener noreferrer">Cloud Connect</a>ï¼ŒEIS å¯ç”¨äºè‡ªæ‰˜ç®¡é›†ç¾¤ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿè®¿é—® GPU é›†ç¾¤æ¥å¿«é€ŸåŸå‹å’Œéƒ¨ç½² RAGã€è¯­ä¹‰æœç´¢ä»¥åŠ agent å·¥ä½œæµï¼Œè€Œæ— éœ€åœ¨è‡ªæ‰˜ç®¡é›†ç¾¤ä¸Šé‡‡è´­ GPU èµ„æºã€‚å¹³å°å›¢é˜Ÿå¯ä»¥å®ç°æ··åˆçµæ´»æ€§ï¼šæ•°æ®å’Œç´¢å¼•ä¿ç•™åœ¨æœ¬åœ°ï¼ŒåŒæ—¶åœ¨éœ€è¦æ—¶åœ¨ Elastic Cloud æ‰©å±• GPU æ¨ç†èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-7">æ¥ä¸‹æ¥</h2>
<p>semantic_text å­—æ®µå°†å¾ˆå¿«é»˜è®¤ä½¿ç”¨ EIS ä¸Šçš„ jina-embeddings-v3ï¼Œåœ¨æ•°æ®æ‘„å–æ—¶æä¾›å†…ç½®æ¨ç†ï¼Œä½¿é‡‡ç”¨å¤šè¯­è¨€æœç´¢æ›´ç®€å•ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚</p>
<h2 data-id="heading-8">è¯•ç”¨ä½“éªŒ</h2>
<p>åˆ©ç”¨ EIS ä¸Šçš„ Jina AI æ¨¡å‹ï¼Œä½ å¯ä»¥æ„å»ºå¤šè¯­è¨€ã€é«˜ç²¾åº¦æ£€ç´¢ç®¡é“ï¼Œè€Œæ— éœ€ç®¡ç†æ¨¡å‹ã€GPU æˆ–åŸºç¡€è®¾æ–½ã€‚ä½ å°†è·å¾—å¿«é€Ÿçš„å¯†é›†æ£€ç´¢ã€å‡†ç¡®çš„é‡æ–°æ’åºï¼Œä»¥åŠä¸ Elasticsearch ç›¸å…³æ€§æ ˆçš„ç´§å¯†é›†æˆï¼Œä¸€ç«™å¼å¹³å°å®Œæˆã€‚</p>
<p>æ— è®ºä½ æ˜¯åœ¨æ„å»º RAG ç³»ç»Ÿã€æœç´¢ï¼Œè¿˜æ˜¯éœ€è¦å¯é ä¸Šä¸‹æ–‡çš„ agent å·¥ä½œæµï¼ŒElastic ç°åœ¨éƒ½æä¾›äº†é«˜æ€§èƒ½å¼€ç®±å³ç”¨çš„æ¨¡å‹ï¼Œä»¥åŠä»åŸå‹åˆ°ç”Ÿäº§éƒ¨ç½²çš„ç®€ä¾¿è¿ç»´èƒ½åŠ›ã€‚</p>
<p>æ‰€æœ‰ Elastic Cloud è¯•ç”¨ç”¨æˆ·å‡å¯è®¿é—® Elastic Inference Serviceã€‚ç°åœ¨å°±å¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fcloud%2Fserverless" title="https://www.elastic.co/cloud/serverless" target="_blank" ref="nofollow noopener noreferrer">Elastic Cloud Serverless æˆ– Elastic Cloud Hosted ä¸Šä½“éªŒ</a>ã€‚</p>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.elastic.co%2Fsearch-labs%2Fblog%2Fjina-rerankers-elastic-inference-service" title="https://www.elastic.co/search-labs/blog/jina-rerankers-elastic-inference-service" target="_blank" ref="nofollow noopener noreferrer">www.elastic.co/search-labsâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[kotlin retry ç¬”è®°]]></title>    <link>https://juejin.cn/post/7602503154506514473</link>    <guid>https://juejin.cn/post/7602503154506514473</guid>    <pubDate>2026-02-04T03:31:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602503154506514473" data-draft-id="7602455806447255558" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="kotlin retry ç¬”è®°"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-04T03:31:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒæºxinyuan"/> <meta itemprop="url" content="https://juejin.cn/user/4283353029151694"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            kotlin retry ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4283353029151694/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒæºxinyuan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:31:09.000Z" title="Wed Feb 04 2026 03:31:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Kotlin é‡è¯•ï¼ˆRetryï¼‰æœºåˆ¶è¯¦è§£</h2>
<p>é‡è¯•æœºåˆ¶æ˜¯å¤„ç†<strong>ä¸´æ—¶æ€§å¤±è´¥</strong>ï¼ˆå¦‚ç½‘ç»œæ³¢åŠ¨ã€æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼‰çš„é‡è¦ç­–ç•¥ã€‚Kotlin æä¾›äº†å¤šç§å®ç°é‡è¯•çš„æ–¹å¼ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€åŸºç¡€é‡è¯•å®ç°</h3>
<h4 data-id="heading-2"><strong>1. åŸºæœ¬çš„ try-catch é‡è¯•</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">simpleRetry</span><span class="hljs-params">(
    maxRetries: <span class="hljs-type">Int</span> = <span class="hljs-number">3</span>,
    block: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">T</span>
)</span></span>: T {
    <span class="hljs-keyword">var</span> lastException: Throwable? = <span class="hljs-literal">null</span>
    
    <span class="hljs-keyword">for</span> (attempt <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span>.maxRetries) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> block()
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            lastException = e
            println(<span class="hljs-string">"å°è¯• <span class="hljs-variable">$attempt</span> å¤±è´¥: <span class="hljs-subst">${e.message}</span>"</span>)
            
            <span class="hljs-keyword">if</span> (attempt &lt; maxRetries) {
                delay(<span class="hljs-number">1000</span>) <span class="hljs-comment">// ç®€å•çš„å›ºå®šå»¶è¿Ÿ</span>
            }
        }
    }
    
    <span class="hljs-keyword">throw</span> lastException ?: RuntimeException(<span class="hljs-string">"é‡è¯•å¤±è´¥"</span>)
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchData</span><span class="hljs-params">()</span></span>: String {
    <span class="hljs-keyword">return</span> simpleRetry(maxRetries = <span class="hljs-number">3</span>) {
        <span class="hljs-comment">// æ¨¡æ‹Ÿå¯èƒ½å¤±è´¥çš„æ“ä½œ</span>
        <span class="hljs-keyword">if</span> (Random.nextBoolean()) {
            <span class="hljs-keyword">throw</span> IOException(<span class="hljs-string">"ç½‘ç»œé”™è¯¯"</span>)
        }
        <span class="hljs-string">"æ•°æ®å†…å®¹"</span>
    }
}
</code></pre>
<h4 data-id="heading-3"><strong>2. å¸¦æŒ‡æ•°é€€é¿çš„é‡è¯•</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">retryWithBackoff</span><span class="hljs-params">(
    maxRetries: <span class="hljs-type">Int</span> = <span class="hljs-number">3</span>,
    initialDelayMillis: <span class="hljs-type">Long</span> = <span class="hljs-number">100</span>,
    maxDelayMillis: <span class="hljs-type">Long</span> = <span class="hljs-number">10000</span>,
    factor: <span class="hljs-type">Double</span> = <span class="hljs-number">2.0</span>,
    block: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">T</span>
)</span></span>: T {
    <span class="hljs-keyword">var</span> currentDelay = initialDelayMillis
    <span class="hljs-keyword">var</span> lastException: Throwable? = <span class="hljs-literal">null</span>
    
    <span class="hljs-keyword">for</span> (attempt <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span>.maxRetries) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">return</span> block()
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            lastException = e
            println(<span class="hljs-string">"ç¬¬ <span class="hljs-variable">$attempt</span> æ¬¡å°è¯•å¤±è´¥: <span class="hljs-subst">${e.message}</span>"</span>)
            
            <span class="hljs-keyword">if</span> (attempt &lt; maxRetries) {
                <span class="hljs-comment">// æŒ‡æ•°é€€é¿</span>
                delay(currentDelay)
                currentDelay = (currentDelay * factor).toLong()
                    .coerceAtMost(maxDelayMillis)
            }
        }
    }
    
    <span class="hljs-keyword">throw</span> lastException ?: RuntimeException(<span class="hljs-string">"é‡è¯•å¤±è´¥"</span>)
}
</code></pre>
<h3 data-id="heading-4">äºŒã€Flow ä¸­çš„é‡è¯•</h3>
<h4 data-id="heading-5"><strong>1. Flow çš„ retry æ“ä½œç¬¦</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> kotlinx.coroutines.flow.*

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchDataFlow</span><span class="hljs-params">()</span></span>: Flow&lt;String&gt; = flow {
    <span class="hljs-comment">// æ¨¡æ‹Ÿä¸ç¨³å®šçš„æ•°æ®æº</span>
    <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.5</span>) {
        delay(<span class="hljs-number">500</span>)
        <span class="hljs-keyword">if</span> (Random.nextDouble() &lt; <span class="hljs-number">0.3</span>) { <span class="hljs-comment">// 30% å¤±è´¥ç‡</span>
            <span class="hljs-keyword">throw</span> IOException(<span class="hljs-string">"ç¬¬ <span class="hljs-variable">$i</span> æ¬¡è·å–å¤±è´¥"</span>)
        }
        emit(<span class="hljs-string">"æ•°æ®å— <span class="hljs-variable">$i</span>"</span>)
    }
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    <span class="hljs-comment">// åŸºæœ¬ retry</span>
    fetchDataFlow()
        .retry(<span class="hljs-number">3</span>) { cause -&gt;
            println(<span class="hljs-string">"é‡è¯•åŸå› : <span class="hljs-subst">${cause.message}</span>"</span>)
            cause <span class="hljs-keyword">is</span> IOException <span class="hljs-comment">// åªåœ¨ IOException æ—¶é‡è¯•</span>
        }
        .<span class="hljs-keyword">catch</span> { e -&gt; emit(<span class="hljs-string">"æœ€ç»ˆå¤±è´¥: <span class="hljs-subst">${e.message}</span>"</span>) }
        .collect { println(it) }
    
    println(<span class="hljs-string">"\n=== å¸¦å»¶è¿Ÿçš„é‡è¯• ==="</span>)
    
    <span class="hljs-comment">// retryWhen - æ›´çµæ´»çš„æ§åˆ¶</span>
    fetchDataFlow()
        .retryWhen { cause, attempt -&gt;
            <span class="hljs-keyword">if</span> (cause <span class="hljs-keyword">is</span> IOException &amp;&amp; attempt &lt; <span class="hljs-number">3</span>) {
                delay(<span class="hljs-number">1000</span> * attempt) <span class="hljs-comment">// çº¿æ€§é€€é¿</span>
                println(<span class="hljs-string">"ç¬¬ <span class="hljs-variable">$attempt</span> æ¬¡é‡è¯•"</span>)
                <span class="hljs-literal">true</span>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-literal">false</span>
            }
        }
        .<span class="hljs-keyword">catch</span> { e -&gt; emit(<span class="hljs-string">"å¤±è´¥: <span class="hljs-subst">${e.message}</span>"</span>) }
        .collect { println(it) }
}
</code></pre>
<h4 data-id="heading-6"><strong>2. å¸¦é€€é¿ç­–ç•¥çš„ Flow é‡è¯•</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> kotlinx.coroutines.flow.*

<span class="hljs-comment">/**
 * ä¸º Flow æ·»åŠ æŒ‡æ•°é€€é¿é‡è¯•
 */</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> Flow<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">retryExponentialBackoff</span><span class="hljs-params">(
    maxRetries: <span class="hljs-type">Int</span>,
    initialDelayMillis: <span class="hljs-type">Long</span> = <span class="hljs-number">1000</span>,
    maxDelayMillis: <span class="hljs-type">Long</span> = <span class="hljs-number">60000</span>,
    factor: <span class="hljs-type">Double</span> = <span class="hljs-number">2.0</span>,
    shouldRetry: (<span class="hljs-type">Throwable</span>) -&gt; <span class="hljs-type">Boolean</span> = { <span class="hljs-literal">true</span> }
)</span></span>: Flow&lt;T&gt; = retryWhen { cause, attempt -&gt;
    <span class="hljs-keyword">if</span> (attempt &lt;= maxRetries &amp;&amp; shouldRetry(cause)) {
        <span class="hljs-comment">// è®¡ç®—å»¶è¿Ÿæ—¶é—´ï¼ˆæŒ‡æ•°é€€é¿ï¼‰</span>
        <span class="hljs-keyword">val</span> delayMillis = (initialDelayMillis * Math.pow(factor, (attempt - <span class="hljs-number">1</span>).toDouble()))
            .toLong()
            .coerceAtMost(maxDelayMillis)
        
        println(<span class="hljs-string">"ç¬¬ <span class="hljs-variable">$attempt</span> æ¬¡é‡è¯•ï¼Œç­‰å¾… <span class="hljs-subst">${delayMillis}</span>ms"</span>)
        delay(delayMillis)
        <span class="hljs-literal">true</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-literal">false</span>
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">unstableFlow</span><span class="hljs-params">()</span></span>: Flow&lt;<span class="hljs-built_in">Int</span>&gt; = flow {
    <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span><span class="hljs-number">.10</span>) {
        <span class="hljs-keyword">if</span> (i % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>) { <span class="hljs-comment">// æ¯3æ¬¡å¤±è´¥ä¸€æ¬¡</span>
            <span class="hljs-keyword">throw</span> RuntimeException(<span class="hljs-string">"ç¬¬ <span class="hljs-variable">$i</span> æ¬¡å¤±è´¥"</span>)
        }
        emit(i)
        delay(<span class="hljs-number">100</span>)
    }
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> = runBlocking {
    unstableFlow()
        .retryExponentialBackoff(
            maxRetries = <span class="hljs-number">3</span>,
            initialDelayMillis = <span class="hljs-number">500</span>,
            maxDelayMillis = <span class="hljs-number">5000</span>
        )
        .<span class="hljs-keyword">catch</span> { e -&gt; println(<span class="hljs-string">"æœ€ç»ˆå¤±è´¥: <span class="hljs-subst">${e.message}</span>"</span>) }
        .collect { println(<span class="hljs-string">"æ”¶åˆ°: <span class="hljs-variable">$it</span>"</span>) }
}
</code></pre>
<h3 data-id="heading-7">ä¸‰ã€å®é™…åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-8"><strong>1. ç½‘ç»œè¯·æ±‚é‡è¯•</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> retrofit2.HttpException
<span class="hljs-keyword">import</span> java.io.IOException
<span class="hljs-keyword">import</span> java.net.SocketTimeoutException

<span class="hljs-keyword">class</span> <span class="hljs-title class_">NetworkRepository</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> apiService: ApiService
) {
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">executeWithRetry</span><span class="hljs-params">(
        maxRetries: <span class="hljs-type">Int</span> = <span class="hljs-number">3</span>,
        retryOn: (<span class="hljs-type">Throwable</span>) -&gt; <span class="hljs-type">Boolean</span> = { it.shouldRetry()</span></span> },
        block: <span class="hljs-keyword">suspend</span> () -&gt; T
    ): T {
        <span class="hljs-keyword">var</span> lastException: Throwable? = <span class="hljs-literal">null</span>
        
        <span class="hljs-keyword">for</span> (attempt <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span>.maxRetries) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> block()
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                lastException = e
                
                <span class="hljs-keyword">if</span> (attempt &lt; maxRetries &amp;&amp; retryOn(e)) {
                    <span class="hljs-comment">// è®¡ç®—é€€é¿å»¶è¿Ÿ</span>
                    <span class="hljs-keyword">val</span> delayMillis = calculateBackoffDelay(attempt)
                    println(<span class="hljs-string">"ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼Œ<span class="hljs-subst">${delayMillis}</span>msåé‡è¯• (å°è¯• <span class="hljs-variable">$attempt</span>)"</span>)
                    delay(delayMillis)
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">break</span>
                }
            }
        }
        
        <span class="hljs-keyword">throw</span> lastException ?: RuntimeException(<span class="hljs-string">"è¯·æ±‚å¤±è´¥"</span>)
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">calculateBackoffDelay</span><span class="hljs-params">(attempt: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Long</span> {
        <span class="hljs-comment">// æŒ‡æ•°é€€é¿ + éšæœºæŠ–åŠ¨ï¼ˆé¿å…æƒŠç¾¤æ•ˆåº”ï¼‰</span>
        <span class="hljs-keyword">val</span> baseDelay = <span class="hljs-number">1000L</span> * (<span class="hljs-number">1</span> shl (attempt - <span class="hljs-number">1</span>)) <span class="hljs-comment">// 1s, 2s, 4s, ...</span>
        <span class="hljs-keyword">val</span> jitter = (Math.random() * <span class="hljs-number">1000</span>).toLong() <span class="hljs-comment">// 0-1s éšæœºæŠ–åŠ¨</span>
        <span class="hljs-keyword">return</span> (baseDelay + jitter).coerceAtMost(<span class="hljs-number">30000L</span>) <span class="hljs-comment">// æœ€å¤§30s</span>
    }
    
    <span class="hljs-comment">// è·å–ç”¨æˆ·æ•°æ®ï¼ˆå¸¦é‡è¯•ï¼‰</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUserData</span><span class="hljs-params">(userId: <span class="hljs-type">String</span>)</span></span>: UserData {
        <span class="hljs-keyword">return</span> executeWithRetry(
            maxRetries = <span class="hljs-number">3</span>,
            retryOn = { it.shouldRetry() }
        ) {
            apiService.getUser(userId)
        }
    }
    
    <span class="hljs-comment">// ä¸Šä¼ æ–‡ä»¶ï¼ˆå¸¦é‡è¯•ï¼‰</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">uploadFile</span><span class="hljs-params">(file: <span class="hljs-type">File</span>, maxRetries: <span class="hljs-type">Int</span> = <span class="hljs-number">5</span>)</span></span>: UploadResult {
        <span class="hljs-keyword">return</span> executeWithRetry(maxRetries = maxRetries) {
            apiService.uploadFile(file)
        }
    }
}

<span class="hljs-comment">// å¼‚å¸¸æ‰©å±•ï¼šåˆ¤æ–­æ˜¯å¦åº”è¯¥é‡è¯•</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> Throwable.<span class="hljs-title">shouldRetry</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (<span class="hljs-keyword">this</span>) {
        <span class="hljs-keyword">is</span> IOException -&gt; <span class="hljs-literal">true</span> <span class="hljs-comment">// ç½‘ç»œIOé”™è¯¯</span>
        <span class="hljs-keyword">is</span> SocketTimeoutException -&gt; <span class="hljs-literal">true</span> <span class="hljs-comment">// è¶…æ—¶</span>
        <span class="hljs-keyword">is</span> HttpException -&gt; <span class="hljs-keyword">this</span>.code() <span class="hljs-keyword">in</span> setOf(<span class="hljs-number">408</span>, <span class="hljs-number">429</span>, <span class="hljs-number">500</span>, <span class="hljs-number">502</span>, <span class="hljs-number">503</span>, <span class="hljs-number">504</span>) <span class="hljs-comment">// ç‰¹å®šHTTPçŠ¶æ€ç </span>
        <span class="hljs-keyword">else</span> -&gt; <span class="hljs-literal">false</span>
    }
}
</code></pre>
<h4 data-id="heading-9"><strong>2. æ•°æ®åº“æ“ä½œé‡è¯•</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> java.sql.SQLException
<span class="hljs-keyword">import</span> java.sql.SQLTransientException

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseRepository</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> dataSource: DataSource
) {
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">executeTransactionWithRetry</span><span class="hljs-params">(
        maxRetries: <span class="hljs-type">Int</span> = <span class="hljs-number">3</span>,
        block: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">T</span>
    )</span></span>: T {
        <span class="hljs-keyword">var</span> lastException: Throwable? = <span class="hljs-literal">null</span>
        
        <span class="hljs-keyword">for</span> (attempt <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span>.maxRetries) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> dataSource.connection.use { connection -&gt;
                    connection.autoCommit = <span class="hljs-literal">false</span>
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-keyword">val</span> result = block()
                        connection.commit()
                        result
                    } <span class="hljs-keyword">catch</span> (e: Exception) {
                        connection.rollback()
                        <span class="hljs-keyword">throw</span> e
                    }
                }
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                lastException = e
                
                <span class="hljs-keyword">if</span> (attempt &lt; maxRetries &amp;&amp; e.shouldRetryDatabase()) {
                    <span class="hljs-comment">// æ•°æ®åº“ç‰¹æœ‰çš„é€€é¿ç­–ç•¥</span>
                    <span class="hljs-keyword">val</span> delayMillis = calculateDatabaseRetryDelay(attempt, e)
                    println(<span class="hljs-string">"æ•°æ®åº“æ“ä½œå¤±è´¥ï¼Œ<span class="hljs-subst">${delayMillis}</span>msåé‡è¯•"</span>)
                    delay(delayMillis)
                    
                    <span class="hljs-comment">// åˆ·æ–°è¿æ¥æ± ï¼ˆå¦‚æœè¿æ¥æœ‰é—®é¢˜ï¼‰</span>
                    <span class="hljs-keyword">if</span> (e.isConnectionError()) {
                        dataSource.refreshConnection()
                    }
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">break</span>
                }
            }
        }
        
        <span class="hljs-keyword">throw</span> lastException ?: RuntimeException(<span class="hljs-string">"æ•°æ®åº“æ“ä½œå¤±è´¥"</span>)
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">calculateDatabaseRetryDelay</span><span class="hljs-params">(attempt: <span class="hljs-type">Int</span>, exception: <span class="hljs-type">Exception</span>)</span></span>: <span class="hljs-built_in">Long</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> {
            exception.isDeadlock() -&gt; <span class="hljs-number">100L</span> <span class="hljs-comment">// æ­»é”å¿«é€Ÿé‡è¯•</span>
            exception.isTimeout() -&gt; <span class="hljs-number">1000L</span> * attempt <span class="hljs-comment">// è¶…æ—¶çº¿æ€§é€€é¿</span>
            <span class="hljs-keyword">else</span> -&gt; <span class="hljs-number">500L</span> * (<span class="hljs-number">1</span> shl (attempt - <span class="hljs-number">1</span>)) <span class="hljs-comment">// å…¶ä»–é”™è¯¯æŒ‡æ•°é€€é¿</span>
        }.coerceAtMost(<span class="hljs-number">10000L</span>)
    }
    
    <span class="hljs-comment">// æ‰¹é‡æ’å…¥ï¼ˆå¸¦é‡è¯•ï¼‰</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">batchInsert</span><span class="hljs-params">(entities: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Entity</span>&gt;)</span></span> {
        executeTransactionWithRetry {
            entities.forEach { entity -&gt;
                <span class="hljs-comment">// æ’å…¥é€»è¾‘</span>
            }
        }
    }
}

<span class="hljs-comment">// æ•°æ®åº“å¼‚å¸¸åˆ¤æ–­æ‰©å±•</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> Exception.<span class="hljs-title">shouldRetryDatabase</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (<span class="hljs-keyword">this</span>) {
        <span class="hljs-keyword">is</span> SQLTransientException -&gt; <span class="hljs-literal">true</span> <span class="hljs-comment">// ä¸´æ—¶æ€§SQLé”™è¯¯</span>
        <span class="hljs-keyword">is</span> SQLException -&gt; {
            <span class="hljs-keyword">when</span> (<span class="hljs-keyword">this</span>.sqlState) {
                <span class="hljs-string">"40001"</span> -&gt; <span class="hljs-literal">true</span> <span class="hljs-comment">// æ­»é”</span>
                <span class="hljs-string">"08003"</span>, <span class="hljs-string">"08006"</span>, <span class="hljs-string">"08007"</span> -&gt; <span class="hljs-literal">true</span> <span class="hljs-comment">// è¿æ¥é”™è¯¯</span>
                <span class="hljs-string">"57014"</span> -&gt; <span class="hljs-literal">true</span> <span class="hljs-comment">// æŸ¥è¯¢è¶…æ—¶</span>
                <span class="hljs-keyword">else</span> -&gt; <span class="hljs-literal">false</span>
            }
        }
        <span class="hljs-keyword">else</span> -&gt; <span class="hljs-literal">false</span>
    }
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> Exception.<span class="hljs-title">isConnectionError</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> SQLException &amp;&amp; <span class="hljs-keyword">this</span>.sqlState <span class="hljs-keyword">in</span> setOf(<span class="hljs-string">"08003"</span>, <span class="hljs-string">"08006"</span>, <span class="hljs-string">"08007"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> Exception.<span class="hljs-title">isDeadlock</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> SQLException &amp;&amp; <span class="hljs-keyword">this</span>.sqlState == <span class="hljs-string">"40001"</span>
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> Exception.<span class="hljs-title">isTimeout</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> SQLException &amp;&amp; <span class="hljs-keyword">this</span>.sqlState == <span class="hljs-string">"57014"</span>
}
</code></pre>
<h4 data-id="heading-10"><strong>3. æ–‡ä»¶æ“ä½œé‡è¯•</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> java.io.IOException
<span class="hljs-keyword">import</span> java.nio.file.AccessDeniedException
<span class="hljs-keyword">import</span> java.nio.file.FileSystemException

<span class="hljs-keyword">class</span> <span class="hljs-title class_">FileOperationManager</span> {
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">retryFileOperation</span><span class="hljs-params">(
        maxRetries: <span class="hljs-type">Int</span> = <span class="hljs-number">3</span>,
        retryDelayMillis: <span class="hljs-type">Long</span> = <span class="hljs-number">1000</span>,
        block: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">T</span>
    )</span></span>: T {
        <span class="hljs-keyword">var</span> lastException: Throwable? = <span class="hljs-literal">null</span>
        
        <span class="hljs-keyword">for</span> (attempt <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span>.maxRetries) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> block()
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                lastException = e
                
                <span class="hljs-keyword">if</span> (attempt &lt; maxRetries &amp;&amp; e.shouldRetryFileOperation()) {
                    println(<span class="hljs-string">"æ–‡ä»¶æ“ä½œå¤±è´¥ (å°è¯• <span class="hljs-variable">$attempt</span>): <span class="hljs-subst">${e.message}</span>"</span>)
                    delay(retryDelayMillis * attempt) <span class="hljs-comment">// çº¿æ€§é€€é¿</span>
                    
                    <span class="hljs-comment">// å°è¯•é‡Šæ”¾æ–‡ä»¶é”</span>
                    <span class="hljs-keyword">if</span> (e.isFileLocked()) {
                        releaseFileLocks()
                    }
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">break</span>
                }
            }
        }
        
        <span class="hljs-keyword">throw</span> lastException ?: RuntimeException(<span class="hljs-string">"æ–‡ä»¶æ“ä½œå¤±è´¥"</span>)
    }
    
    <span class="hljs-comment">// è¯»å–æ–‡ä»¶ï¼ˆå¸¦é‡è¯•ï¼‰</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">readFileWithRetry</span><span class="hljs-params">(file: <span class="hljs-type">File</span>)</span></span>: String {
        <span class="hljs-keyword">return</span> retryFileOperation(maxRetries = <span class="hljs-number">5</span>) {
            file.readText()
        }
    }
    
    <span class="hljs-comment">// å†™å…¥æ–‡ä»¶ï¼ˆå¸¦é‡è¯•ï¼‰</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">writeFileWithRetry</span><span class="hljs-params">(file: <span class="hljs-type">File</span>, content: <span class="hljs-type">String</span>)</span></span> {
        retryFileOperation {
            file.writeText(content)
        }
    }
    
    <span class="hljs-comment">// å¤åˆ¶å¤§æ–‡ä»¶ï¼ˆå¸¦è¿›åº¦å’Œé‡è¯•ï¼‰</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">copyLargeFileWithRetry</span><span class="hljs-params">(
        source: <span class="hljs-type">File</span>,
        target: <span class="hljs-type">File</span>,
        chunkSize: <span class="hljs-type">Int</span> = <span class="hljs-number">8192</span>
    )</span></span> {
        <span class="hljs-keyword">var</span> attempt = <span class="hljs-number">0</span>
        <span class="hljs-keyword">val</span> maxRetries = <span class="hljs-number">3</span>
        
        <span class="hljs-keyword">while</span> (attempt &lt; maxRetries) {
            <span class="hljs-keyword">try</span> {
                source.inputStream().use { input -&gt;
                    target.outputStream().use { output -&gt;
                        <span class="hljs-keyword">val</span> buffer = ByteArray(chunkSize)
                        <span class="hljs-keyword">var</span> bytesRead: <span class="hljs-built_in">Int</span>
                        <span class="hljs-keyword">var</span> totalBytes = <span class="hljs-number">0L</span>
                        
                        <span class="hljs-keyword">while</span> (input.read(buffer).also { bytesRead = it } != -<span class="hljs-number">1</span>) {
                            output.write(buffer, <span class="hljs-number">0</span>, bytesRead)
                            totalBytes += bytesRead
                            
                            <span class="hljs-comment">// å®šæœŸåˆ·æ–°ï¼ˆé¿å…æ•°æ®ä¸¢å¤±ï¼‰</span>
                            <span class="hljs-keyword">if</span> (totalBytes % (chunkSize * <span class="hljs-number">100</span>) == <span class="hljs-number">0L</span>) {
                                output.flush()
                            }
                        }
                    }
                }
                <span class="hljs-keyword">return</span> <span class="hljs-comment">// æˆåŠŸé€€å‡º</span>
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                attempt++
                <span class="hljs-keyword">if</span> (attempt &gt;= maxRetries || !e.shouldRetryFileOperation()) {
                    <span class="hljs-keyword">throw</span> e
                }
                
                println(<span class="hljs-string">"æ–‡ä»¶å¤åˆ¶å¤±è´¥ï¼Œç¬¬ <span class="hljs-variable">$attempt</span> æ¬¡é‡è¯•"</span>)
                delay(<span class="hljs-number">1000</span> * attempt)
                
                <span class="hljs-comment">// æ¸…ç†å¯èƒ½æŸåçš„ç›®æ ‡æ–‡ä»¶</span>
                <span class="hljs-keyword">if</span> (target.exists()) {
                    target.delete()
                }
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> Exception.<span class="hljs-title">shouldRetryFileOperation</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (<span class="hljs-keyword">this</span>) {
            <span class="hljs-keyword">is</span> AccessDeniedException -&gt; <span class="hljs-literal">false</span> <span class="hljs-comment">// æƒé™é—®é¢˜ï¼Œé‡è¯•æ— æ•ˆ</span>
            <span class="hljs-keyword">is</span> FileSystemException -&gt; <span class="hljs-keyword">this</span>.reason != <span class="hljs-string">"Permission denied"</span>
            <span class="hljs-keyword">is</span> IOException -&gt; <span class="hljs-literal">true</span> <span class="hljs-comment">// å…¶ä»–IOé”™è¯¯</span>
            <span class="hljs-keyword">else</span> -&gt; <span class="hljs-literal">false</span>
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> Exception.<span class="hljs-title">isFileLocked</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> IOException &amp;&amp; 
               <span class="hljs-keyword">this</span>.message?.contains(<span class="hljs-string">"locked"</span>, ignoreCase = <span class="hljs-literal">true</span>) == <span class="hljs-literal">true</span>
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">releaseFileLocks</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// å°è¯•é‡Šæ”¾æ–‡ä»¶é”ï¼ˆå¹³å°ç›¸å…³ï¼‰</span>
        <span class="hljs-comment">// Windows: ä½¿ç”¨ handle.exe æˆ– PowerShell</span>
        <span class="hljs-comment">// Linux/Mac: ä½¿ç”¨ lsof + fuser</span>
    }
}
</code></pre>
<h3 data-id="heading-11">å››ã€é«˜çº§é‡è¯•ç­–ç•¥</h3>
<h4 data-id="heading-12"><strong>1. åŸºäºå“åº”å†…å®¹çš„é‡è¯•</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SmartRetryStrategy</span> {
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryContext</span>(
        <span class="hljs-keyword">val</span> attempt: <span class="hljs-built_in">Int</span>,
        <span class="hljs-keyword">val</span> lastException: Throwable?,
        <span class="hljs-keyword">val</span> lastResponse: Any?
    )
    
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">retryWithResponseInspection</span><span class="hljs-params">(
        maxRetries: <span class="hljs-type">Int</span> = <span class="hljs-number">3</span>,
        shouldRetry: <span class="hljs-type">suspend</span> (<span class="hljs-type">RetryContext</span>) -&gt; <span class="hljs-type">Boolean</span>,
        block: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">T</span>
    )</span></span>: T {
        <span class="hljs-keyword">var</span> lastException: Throwable? = <span class="hljs-literal">null</span>
        <span class="hljs-keyword">var</span> lastResponse: Any? = <span class="hljs-literal">null</span>
        
        <span class="hljs-keyword">for</span> (attempt <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span>.maxRetries) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">val</span> result = block()
                
                <span class="hljs-comment">// æ£€æŸ¥ç»“æœæ˜¯å¦æœ‰æ•ˆï¼ˆå³ä½¿æ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼‰</span>
                <span class="hljs-keyword">if</span> (shouldRetry(RetryContext(attempt, <span class="hljs-literal">null</span>, result))) {
                    <span class="hljs-comment">// è™½ç„¶æˆåŠŸä½†ç»“æœä¸ç¬¦åˆè¦æ±‚ï¼Œé‡è¯•</span>
                    lastResponse = result
                    <span class="hljs-keyword">if</span> (attempt &lt; maxRetries) {
                        delay(calculateDelay(attempt))
                        <span class="hljs-keyword">continue</span>
                    }
                }
                
                <span class="hljs-keyword">return</span> result
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                lastException = e
                lastResponse = <span class="hljs-literal">null</span>
                
                <span class="hljs-keyword">if</span> (attempt &lt; maxRetries &amp;&amp; 
                    shouldRetry(RetryContext(attempt, e, <span class="hljs-literal">null</span>))) {
                    delay(calculateDelay(attempt))
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">break</span>
                }
            }
        }
        
        <span class="hljs-keyword">throw</span> lastException ?: RuntimeException(<span class="hljs-string">"æ“ä½œå¤±è´¥"</span>)
    }
    
    <span class="hljs-comment">// APIè°ƒç”¨ç¤ºä¾‹</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">callApiWithValidation</span><span class="hljs-params">()</span></span>: ApiResponse {
        <span class="hljs-keyword">return</span> retryWithResponseInspection(
            maxRetries = <span class="hljs-number">3</span>,
            shouldRetry = { context -&gt;
                <span class="hljs-keyword">when</span> {
                    <span class="hljs-comment">// å¼‚å¸¸æƒ…å†µ</span>
                    context.lastException != <span class="hljs-literal">null</span> -&gt; {
                        context.lastException.shouldRetry()
                    }
                    <span class="hljs-comment">// å“åº”å†…å®¹æ£€æŸ¥</span>
                    context.lastResponse != <span class="hljs-literal">null</span> -&gt; {
                        <span class="hljs-keyword">val</span> response = context.lastResponse <span class="hljs-keyword">as</span> ApiResponse
                        response.shouldRetry()
                    }
                    <span class="hljs-keyword">else</span> -&gt; <span class="hljs-literal">false</span>
                }
            }
        ) {
            apiService.getData()
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">calculateDelay</span><span class="hljs-params">(attempt: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Long</span> {
        <span class="hljs-keyword">return</span> (<span class="hljs-number">1000L</span> * attempt).coerceAtMost(<span class="hljs-number">10000L</span>)
    }
}

<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiResponse</span>(
    <span class="hljs-keyword">val</span> success: <span class="hljs-built_in">Boolean</span>,
    <span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: Any?,
    <span class="hljs-keyword">val</span> errorCode: String?,
    <span class="hljs-keyword">val</span> message: String?
) {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">shouldRetry</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (errorCode) {
            <span class="hljs-string">"RATE_LIMITED"</span> -&gt; <span class="hljs-literal">true</span> <span class="hljs-comment">// é™æµ</span>
            <span class="hljs-string">"TEMPORARY_ERROR"</span> -&gt; <span class="hljs-literal">true</span> <span class="hljs-comment">// ä¸´æ—¶é”™è¯¯</span>
            <span class="hljs-string">"MAINTENANCE"</span> -&gt; <span class="hljs-literal">true</span> <span class="hljs-comment">// ç»´æŠ¤ä¸­</span>
            <span class="hljs-keyword">else</span> -&gt; <span class="hljs-literal">false</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-13"><strong>2. å¹¶å‘é‡è¯•ç­–ç•¥</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> kotlinx.coroutines.*
<span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentHashMap

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ConcurrentRetryManager</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> activeRetries = ConcurrentHashMap&lt;String, Job&gt;()
    
    <span class="hljs-comment">/**
     * å¹¶å‘å®‰å…¨çš„å»é‡é‡è¯•
     * ç›¸åŒ key çš„æ“ä½œåªè¿›è¡Œä¸€æ¬¡é‡è¯•
     */</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">retryDeduplicated</span><span class="hljs-params">(
        key: <span class="hljs-type">String</span>,
        maxRetries: <span class="hljs-type">Int</span> = <span class="hljs-number">3</span>,
        block: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">T</span>
    )</span></span>: T {
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²æœ‰ç›¸åŒkeyçš„é‡è¯•åœ¨è¿›è¡Œä¸­</span>
        <span class="hljs-keyword">val</span> existingJob = activeRetries[key]
        <span class="hljs-keyword">if</span> (existingJob != <span class="hljs-literal">null</span> &amp;&amp; existingJob.isActive) {
            <span class="hljs-comment">// ç­‰å¾…å·²æœ‰çš„é‡è¯•å®Œæˆ</span>
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span> {
                existingJob.join()
                block() <span class="hljs-comment">// é‡è¯•å®Œæˆåå†æ¬¡æ‰§è¡Œ</span>
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                <span class="hljs-keyword">throw</span> e
            }
        }
        
        <span class="hljs-comment">// å¯åŠ¨æ–°çš„é‡è¯•</span>
        <span class="hljs-keyword">return</span> coroutineScope {
            <span class="hljs-keyword">val</span> job = launch(start = CoroutineStart.LAZY) {
                retryWithBackoff(maxRetries, block)
            }
            
            activeRetries[key] = job
            <span class="hljs-keyword">try</span> {
                job.start()
                job.join()
                block()
            } <span class="hljs-keyword">finally</span> {
                activeRetries.remove(key)
            }
        }
    }
    
    <span class="hljs-comment">/**
     * æ‰¹é‡æ“ä½œçš„æ™ºèƒ½é‡è¯•
     * éƒ¨åˆ†å¤±è´¥æ—¶åªé‡è¯•å¤±è´¥çš„éƒ¨åˆ†
     */</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T, R&gt;</span> <span class="hljs-title">batchRetry</span><span class="hljs-params">(
        items: <span class="hljs-type">List</span>&lt;<span class="hljs-type">T</span>&gt;,
        concurrency: <span class="hljs-type">Int</span> = <span class="hljs-number">5</span>,
        maxRetriesPerItem: <span class="hljs-type">Int</span> = <span class="hljs-number">3</span>,
        transform: <span class="hljs-type">suspend</span> (<span class="hljs-type">T</span>) -&gt; <span class="hljs-type">R</span>
    )</span></span>: List&lt;R&gt; = coroutineScope {
        <span class="hljs-keyword">val</span> results = mutableMapOf&lt;<span class="hljs-built_in">Int</span>, Result&lt;R&gt;&gt;()
        <span class="hljs-keyword">val</span> failedIndices = mutableListOf&lt;<span class="hljs-built_in">Int</span>&gt;()
        
        <span class="hljs-comment">// ç¬¬ä¸€è½®ï¼šå¹¶å‘å¤„ç†æ‰€æœ‰é¡¹</span>
        items.mapIndexed { index, item -&gt;
            async {
                <span class="hljs-keyword">try</span> {
                    Result.success(transform(item))
                } <span class="hljs-keyword">catch</span> (e: Exception) {
                    Result.failure&lt;R&gt;(e)
                }.also { result -&gt;
                    synchronized(results) {
                        results[index] = result
                        <span class="hljs-keyword">if</span> (result.isFailure) {
                            failedIndices.add(index)
                        }
                    }
                }
            }
        }.awaitAll()
        
        <span class="hljs-comment">// é‡è¯•å¤±è´¥é¡¹</span>
        <span class="hljs-keyword">for</span> (retryAttempt <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span>.maxRetriesPerItem) {
            <span class="hljs-keyword">if</span> (failedIndices.isEmpty()) <span class="hljs-keyword">break</span>
            
            println(<span class="hljs-string">"ç¬¬ <span class="hljs-variable">$retryAttempt</span> è½®é‡è¯•ï¼Œå¤±è´¥é¡¹: <span class="hljs-subst">${failedIndices.size}</span>"</span>)
            
            <span class="hljs-keyword">val</span> currentFailed = failedIndices.toList()
            failedIndices.clear()
            
            <span class="hljs-keyword">val</span> retryJobs = currentFailed.map { index -&gt;
                async {
                    <span class="hljs-keyword">try</span> {
                        retryWithBackoff(
                            maxRetries = <span class="hljs-number">1</span>, <span class="hljs-comment">// æ¯æ¬¡åªé‡è¯•ä¸€æ¬¡ï¼Œç”±å¤–å±‚å¾ªç¯æ§åˆ¶</span>
                            block = { transform(items[index]) }
                        ).also { success -&gt;
                            synchronized(results) {
                                results[index] = Result.success(success)
                            }
                        }
                    } <span class="hljs-keyword">catch</span> (e: Exception) {
                        synchronized(results) {
                            results[index] = Result.failure(e)
                            failedIndices.add(index)
                        }
                    }
                }
            }
            
            retryJobs.awaitAll()
            
            <span class="hljs-keyword">if</span> (failedIndices.isNotEmpty()) {
                delay(<span class="hljs-number">1000</span> * retryAttempt) <span class="hljs-comment">// è½®æ¬¡é—´å»¶è¿Ÿ</span>
            }
        }
        
        <span class="hljs-comment">// æ”¶é›†æœ€ç»ˆç»“æœ</span>
        items.indices.map { index -&gt;
            results[index]?.getOrThrow() ?: <span class="hljs-keyword">throw</span> IllegalStateException(<span class="hljs-string">"Missing result"</span>)
        }
    }
    
    <span class="hljs-comment">/**
     * ä¼˜å…ˆé˜Ÿåˆ—é‡è¯•ï¼šé‡è¦ä»»åŠ¡ä¼˜å…ˆé‡è¯•
     */</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">priorityRetry</span><span class="hljs-params">(
        tasks: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Pair</span>&lt;<span class="hljs-type">Int</span>, <span class="hljs-keyword">suspend</span> ()</span></span> -&gt; T&gt;&gt;, <span class="hljs-comment">// (ä¼˜å…ˆçº§, ä»»åŠ¡)</span>
        maxRetries: <span class="hljs-built_in">Int</span> = <span class="hljs-number">3</span>
    ): List&lt;T&gt; {
        <span class="hljs-keyword">val</span> sortedTasks = tasks.sortedByDescending { it.first } <span class="hljs-comment">// ä¼˜å…ˆçº§é«˜çš„å…ˆæ‰§è¡Œ</span>
        <span class="hljs-keyword">val</span> results = mutableListOf&lt;T&gt;()
        
        <span class="hljs-keyword">for</span> ((priority, task) <span class="hljs-keyword">in</span> sortedTasks) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">val</span> result = retryWithBackoff(maxRetries) {
                    println(<span class="hljs-string">"æ‰§è¡Œä¼˜å…ˆçº§ <span class="hljs-variable">$priority</span> çš„ä»»åŠ¡"</span>)
                    task()
                }
                results.add(result)
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                println(<span class="hljs-string">"ä¼˜å…ˆçº§ <span class="hljs-variable">$priority</span> çš„ä»»åŠ¡å¤±è´¥: <span class="hljs-subst">${e.message}</span>"</span>)
                <span class="hljs-comment">// ä½ä¼˜å…ˆçº§ä»»åŠ¡å¤±è´¥ä¸å½±å“é«˜ä¼˜å…ˆçº§ä»»åŠ¡</span>
            }
        }
        
        <span class="hljs-keyword">return</span> results
    }
}
</code></pre>
<h4 data-id="heading-14"><strong>3. ç†”æ–­å™¨æ¨¡å¼é…åˆé‡è¯•</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> kotlinx.coroutines.sync.Mutex
<span class="hljs-keyword">import</span> kotlinx.coroutines.sync.withLock

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CircuitBreaker</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> failureThreshold: <span class="hljs-built_in">Int</span> = <span class="hljs-number">5</span>,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> resetTimeoutMillis: <span class="hljs-built_in">Long</span> = <span class="hljs-number">60000</span>,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> halfOpenMaxAttempts: <span class="hljs-built_in">Int</span> = <span class="hljs-number">3</span>
) {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> state: State = State.CLOSED
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> failureCount = <span class="hljs-number">0</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> lastFailureTime = <span class="hljs-number">0L</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> halfOpenAttempts = <span class="hljs-number">0</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> mutex = Mutex()
    
    <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">State</span> {
        <span class="hljs-keyword">object</span> CLOSED : State()     <span class="hljs-comment">// æ­£å¸¸çŠ¶æ€</span>
        <span class="hljs-keyword">object</span> OPEN : State()       <span class="hljs-comment">// ç†”æ–­çŠ¶æ€</span>
        <span class="hljs-keyword">object</span> HALF_OPEN : State()  <span class="hljs-comment">// åŠå¼€çŠ¶æ€ï¼ˆè¯•æ¢ï¼‰</span>
    }
    
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">execute</span><span class="hljs-params">(block: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">T</span>)</span></span>: T {
        mutex.withLock {
            updateState()
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (state) {
            State.OPEN -&gt; <span class="hljs-keyword">throw</span> CircuitBreakerOpenException(<span class="hljs-string">"ç†”æ–­å™¨å¼€å¯"</span>)
            State.HALF_OPEN -&gt; executeHalfOpen(block)
            State.CLOSED -&gt; executeClosed(block)
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">executeClosed</span><span class="hljs-params">(block: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">T</span>)</span></span>: T {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">val</span> result = block()
            mutex.withLock {
                <span class="hljs-comment">// æˆåŠŸæ—¶é‡ç½®å¤±è´¥è®¡æ•°</span>
                failureCount = <span class="hljs-number">0</span>
            }
            <span class="hljs-keyword">return</span> result
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            mutex.withLock {
                failureCount++
                lastFailureTime = System.currentTimeMillis()
                <span class="hljs-keyword">if</span> (failureCount &gt;= failureThreshold) {
                    state = State.OPEN
                }
            }
            <span class="hljs-keyword">throw</span> e
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">executeHalfOpen</span><span class="hljs-params">(block: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">T</span>)</span></span>: T {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">val</span> result = block()
            mutex.withLock {
                <span class="hljs-comment">// åŠå¼€çŠ¶æ€ä¸‹æˆåŠŸï¼Œå…³é—­ç†”æ–­å™¨</span>
                state = State.CLOSED
                failureCount = <span class="hljs-number">0</span>
                halfOpenAttempts = <span class="hljs-number">0</span>
            }
            <span class="hljs-keyword">return</span> result
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            mutex.withLock {
                halfOpenAttempts++
                <span class="hljs-keyword">if</span> (halfOpenAttempts &gt;= halfOpenMaxAttempts) {
                    state = State.OPEN
                    lastFailureTime = System.currentTimeMillis()
                }
            }
            <span class="hljs-keyword">throw</span> e
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateState</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">when</span> (state) {
            State.OPEN -&gt; {
                <span class="hljs-keyword">val</span> timeSinceFailure = System.currentTimeMillis() - lastFailureTime
                <span class="hljs-keyword">if</span> (timeSinceFailure &gt;= resetTimeoutMillis) {
                    state = State.HALF_OPEN
                    halfOpenAttempts = <span class="hljs-number">0</span>
                }
            }
            <span class="hljs-keyword">else</span> -&gt; <span class="hljs-built_in">Unit</span>
        }
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getStatus</span><span class="hljs-params">()</span></span>: String {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"State: <span class="hljs-variable">$state</span>, Failures: <span class="hljs-variable">$failureCount</span>, LastFailure: <span class="hljs-variable">$lastFailureTime</span>"</span>
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CircuitBreakerOpenException</span>(message: String) : Exception(message)

<span class="hljs-comment">// ä½¿ç”¨ç†”æ–­å™¨çš„é‡è¯•ç­–ç•¥</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ResilientService</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> circuitBreaker: CircuitBreaker
) {
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">executeWithResilience</span><span class="hljs-params">(
        maxRetries: <span class="hljs-type">Int</span> = <span class="hljs-number">3</span>,
        block: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">T</span>
    )</span></span>: T {
        <span class="hljs-keyword">var</span> lastException: Throwable? = <span class="hljs-literal">null</span>
        
        <span class="hljs-keyword">for</span> (attempt <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span>.maxRetries) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// é€šè¿‡ç†”æ–­å™¨æ‰§è¡Œ</span>
                <span class="hljs-keyword">return</span> circuitBreaker.execute(block)
            } <span class="hljs-keyword">catch</span> (e: CircuitBreakerOpenException) {
                <span class="hljs-comment">// ç†”æ–­å™¨å¼€å¯ï¼Œç›´æ¥å¤±è´¥</span>
                <span class="hljs-keyword">throw</span> e
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                lastException = e
                
                <span class="hljs-keyword">if</span> (attempt &lt; maxRetries &amp;&amp; e.shouldRetry()) {
                    <span class="hljs-keyword">val</span> delay = calculateDelay(attempt)
                    println(<span class="hljs-string">"æœåŠ¡è°ƒç”¨å¤±è´¥ï¼Œ<span class="hljs-subst">${delay}</span>msåé‡è¯•"</span>)
                    delay(delay)
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">break</span>
                }
            }
        }
        
        <span class="hljs-keyword">throw</span> lastException ?: RuntimeException(<span class="hljs-string">"æœåŠ¡è°ƒç”¨å¤±è´¥"</span>)
    }
    
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">callService</span><span class="hljs-params">()</span></span>: String {
        <span class="hljs-keyword">return</span> executeWithResilience {
            <span class="hljs-comment">// æ¨¡æ‹ŸæœåŠ¡è°ƒç”¨</span>
            <span class="hljs-keyword">if</span> (Random.nextDouble() &lt; <span class="hljs-number">0.4</span>) {
                <span class="hljs-keyword">throw</span> IOException(<span class="hljs-string">"æœåŠ¡æš‚æ—¶ä¸å¯ç”¨"</span>)
            }
            <span class="hljs-string">"æœåŠ¡å“åº”"</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-15">äº”ã€æµ‹è¯•é‡è¯•é€»è¾‘</h3>
<h4 data-id="heading-16"><strong>1. å•å…ƒæµ‹è¯•é‡è¯•</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> kotlinx.coroutines.test.runTest
<span class="hljs-keyword">import</span> kotlin.test.Test
<span class="hljs-keyword">import</span> kotlin.test.assertEquals
<span class="hljs-keyword">import</span> kotlin.test.assertFailsWith

<span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryTest</span> {
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">testRetrySuccess</span><span class="hljs-params">()</span></span> = runTest {
        <span class="hljs-keyword">var</span> attempts = <span class="hljs-number">0</span>
        
        <span class="hljs-keyword">val</span> result = retryWithBackoff(maxRetries = <span class="hljs-number">3</span>) {
            attempts++
            <span class="hljs-keyword">if</span> (attempts &lt; <span class="hljs-number">3</span>) {
                <span class="hljs-keyword">throw</span> IOException(<span class="hljs-string">"æ¨¡æ‹Ÿå¤±è´¥"</span>)
            }
            <span class="hljs-string">"æˆåŠŸ"</span>
        }
        
        assertEquals(<span class="hljs-string">"æˆåŠŸ"</span>, result)
        assertEquals(<span class="hljs-number">3</span>, attempts)
    }
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">testRetryFailure</span><span class="hljs-params">()</span></span> = runTest {
        <span class="hljs-keyword">var</span> attempts = <span class="hljs-number">0</span>
        
        assertFailsWith&lt;IOException&gt; {
            retryWithBackoff(maxRetries = <span class="hljs-number">3</span>) {
                attempts++
                <span class="hljs-keyword">throw</span> IOException(<span class="hljs-string">"æ€»æ˜¯å¤±è´¥"</span>)
            }
        }
        
        assertEquals(<span class="hljs-number">3</span>, attempts)
    }
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">testRetryWithCondition</span><span class="hljs-params">()</span></span> = runTest {
        <span class="hljs-keyword">var</span> attempts = <span class="hljs-number">0</span>
        
        <span class="hljs-keyword">val</span> result = retryWithBackoff(
            maxRetries = <span class="hljs-number">5</span>,
            block = {
                attempts++
                <span class="hljs-keyword">when</span> {
                    attempts == <span class="hljs-number">1</span> -&gt; <span class="hljs-keyword">throw</span> IOException(<span class="hljs-string">"å¯é‡è¯•é”™è¯¯"</span>)
                    attempts == <span class="hljs-number">2</span> -&gt; <span class="hljs-keyword">throw</span> IllegalArgumentException(<span class="hljs-string">"ä¸å¯é‡è¯•é”™è¯¯"</span>)
                    <span class="hljs-keyword">else</span> -&gt; <span class="hljs-string">"æˆåŠŸ"</span>
                }
            }
        ) { e -&gt;
            e <span class="hljs-keyword">is</span> IOException <span class="hljs-comment">// åªé‡è¯•IOException</span>
        }
        
        <span class="hljs-comment">// åº”è¯¥å¤±è´¥ï¼Œå› ä¸ºç¬¬äºŒæ¬¡æ˜¯ä¸å¯é‡è¯•é”™è¯¯</span>
        assertFailsWith&lt;IllegalArgumentException&gt;()
    }
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">testExponentialBackoff</span><span class="hljs-params">()</span></span> = runTest {
        <span class="hljs-keyword">val</span> delays = mutableListOf&lt;<span class="hljs-built_in">Long</span>&gt;()
        <span class="hljs-keyword">val</span> startTime = System.currentTimeMillis()
        
        <span class="hljs-keyword">try</span> {
            retryWithBackoff(
                maxRetries = <span class="hljs-number">4</span>,
                initialDelayMillis = <span class="hljs-number">100</span>,
                factor = <span class="hljs-number">2.0</span>
            ) {
                delays.add(System.currentTimeMillis() - startTime)
                <span class="hljs-keyword">throw</span> IOException(<span class="hljs-string">"å¤±è´¥"</span>)
            }
        } <span class="hljs-keyword">catch</span> (e: IOException) {
            <span class="hljs-comment">// é¢„æœŸå¤±è´¥</span>
        }
        
        <span class="hljs-comment">// éªŒè¯å»¶è¿Ÿæ¨¡å¼ï¼š~100ms, ~300ms, ~700ms</span>
        assertEquals(<span class="hljs-number">3</span>, delays.size - <span class="hljs-number">1</span>) <span class="hljs-comment">// ç¬¬ä¸€æ¬¡ç«‹å³æ‰§è¡Œ</span>
        <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span> until delays.size) {
            <span class="hljs-keyword">val</span> actualDelay = delays[i] - delays[i - <span class="hljs-number">1</span>]
            <span class="hljs-keyword">val</span> expectedDelay = <span class="hljs-number">100L</span> * (<span class="hljs-number">1</span> shl (i - <span class="hljs-number">1</span>))
            
            <span class="hljs-comment">// å…è®¸10%çš„è¯¯å·®</span>
            assert(actualDelay <span class="hljs-keyword">in</span> (expectedDelay * <span class="hljs-number">0.9</span>).toLong()..(expectedDelay * <span class="hljs-number">1.1</span>).toLong()) {
                <span class="hljs-string">"å»¶è¿Ÿ <span class="hljs-variable">$actualDelay</span> ä¸åœ¨é¢„æœŸèŒƒå›´ <span class="hljs-variable">$expectedDelay</span>"</span>
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-17"><strong>2. æ¨¡æ‹Ÿä¸ç¨³å®šæœåŠ¡è¿›è¡Œæµ‹è¯•</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UnstableServiceSimulator</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> failurePattern: List&lt;<span class="hljs-built_in">Boolean</span>&gt; <span class="hljs-comment">// true=å¤±è´¥, false=æˆåŠŸ</span>
) {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> callCount = <span class="hljs-number">0</span>
    
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">call</span><span class="hljs-params">()</span></span>: String {
        <span class="hljs-keyword">if</span> (callCount &gt;= failurePattern.size) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"ç¨³å®šæœåŠ¡"</span>
        }
        
        <span class="hljs-keyword">val</span> shouldFail = failurePattern[callCount]
        callCount++
        
        <span class="hljs-keyword">if</span> (shouldFail) {
            <span class="hljs-keyword">throw</span> IOException(<span class="hljs-string">"æœåŠ¡è°ƒç”¨ <span class="hljs-variable">$callCount</span> å¤±è´¥"</span>)
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-string">"æœåŠ¡è°ƒç”¨ <span class="hljs-variable">$callCount</span> æˆåŠŸ"</span>
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">reset</span><span class="hljs-params">()</span></span> {
        callCount = <span class="hljs-number">0</span>
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryIntegrationTest</span> {
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">testRetryPatterns</span><span class="hljs-params">()</span></span> = runTest {
        <span class="hljs-comment">// æµ‹è¯•1: å¤±è´¥-æˆåŠŸæ¨¡å¼</span>
        <span class="hljs-keyword">val</span> simulator1 = UnstableServiceSimulator(listOf(<span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>))
        <span class="hljs-keyword">val</span> result1 = retryWithBackoff(maxRetries = <span class="hljs-number">3</span>) {
            simulator1.call()
        }
        assertEquals(<span class="hljs-string">"æœåŠ¡è°ƒç”¨ 2 æˆåŠŸ"</span>, result1)
        
        <span class="hljs-comment">// æµ‹è¯•2: è¿ç»­å¤±è´¥æ¨¡å¼</span>
        simulator1.reset()
        <span class="hljs-keyword">val</span> simulator2 = UnstableServiceSimulator(listOf(<span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>))
        <span class="hljs-keyword">val</span> result2 = retryWithBackoff(maxRetries = <span class="hljs-number">4</span>) {
            simulator2.call()
        }
        assertEquals(<span class="hljs-string">"æœåŠ¡è°ƒç”¨ 4 æˆåŠŸ"</span>, result2)
        
        <span class="hljs-comment">// æµ‹è¯•3: è¶…è¿‡é‡è¯•æ¬¡æ•°</span>
        simulator1.reset()
        <span class="hljs-keyword">val</span> simulator3 = UnstableServiceSimulator(listOf(<span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>))
        assertFailsWith&lt;IOException&gt; {
            retryWithBackoff(maxRetries = <span class="hljs-number">3</span>) {
                simulator3.call()
            }
        }
    }
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">testCircuitBreakerWithRetry</span><span class="hljs-params">()</span></span> = runTest {
        <span class="hljs-keyword">val</span> circuitBreaker = CircuitBreaker(
            failureThreshold = <span class="hljs-number">2</span>,
            resetTimeoutMillis = <span class="hljs-number">1000</span>
        )
        <span class="hljs-keyword">val</span> service = ResilientService(circuitBreaker)
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿå¿«é€Ÿå¤±è´¥è§¦å‘ç†”æ–­</span>
        <span class="hljs-keyword">val</span> failingService = <span class="hljs-keyword">object</span> {
            <span class="hljs-keyword">var</span> callCount = <span class="hljs-number">0</span>
            <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">call</span><span class="hljs-params">()</span></span>: String {
                callCount++
                <span class="hljs-keyword">throw</span> IOException(<span class="hljs-string">"æœåŠ¡å¤±è´¥"</span>)
            }
        }
        
        <span class="hljs-comment">// å‰ä¸¤æ¬¡é‡è¯•ä¼šå¤±è´¥</span>
        assertFailsWith&lt;IOException&gt; {
            service.executeWithResilience(maxRetries = <span class="hljs-number">2</span>) {
                failingService.call()
            }
        }
        
        <span class="hljs-comment">// ç­‰å¾…ç†”æ–­å™¨é‡ç½®</span>
        delay(<span class="hljs-number">1500</span>)
        
        <span class="hljs-comment">// ç°åœ¨åº”è¯¥å¯ä»¥é‡æ–°å°è¯•</span>
        failingService.callCount = <span class="hljs-number">0</span>
        assertFailsWith&lt;IOException&gt; {
            service.executeWithResilience(maxRetries = <span class="hljs-number">1</span>) {
                failingService.call()
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-18">å…­ã€æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-19"><strong>1. é‡è¯•ç­–ç•¥é€‰æ‹©æŒ‡å—</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">object</span> RetryStrategyGuide {
    <span class="hljs-comment">/**
     * é€‰æ‹©é€‚å½“çš„é‡è¯•ç­–ç•¥
     */</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">chooseStrategy</span><span class="hljs-params">(
        operationType: <span class="hljs-type">OperationType</span>,
        context: <span class="hljs-type">RetryContext</span>
    )</span></span>: RetryStrategy {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (operationType) {
            OperationType.NETWORK_REQUEST -&gt; NetworkRetryStrategy()
            OperationType.DATABASE_OPERATION -&gt; DatabaseRetryStrategy()
            OperationType.FILE_OPERATION -&gt; FileRetryStrategy()
            OperationType.EXTERNAL_API_CALL -&gt; ExternalApiRetryStrategy()
        }
    }
    
    <span class="hljs-comment">/**
     * ç½‘ç»œè¯·æ±‚é‡è¯•ç­–ç•¥
     */</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">NetworkRetryStrategy</span> : <span class="hljs-type">RetryStrategy</span> {
        <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> maxRetries = <span class="hljs-number">3</span>
        <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> initialDelay = <span class="hljs-number">1000L</span>
        <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> maxDelay = <span class="hljs-number">10000L</span>
        <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> factor = <span class="hljs-number">2.0</span>
        
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">shouldRetry</span><span class="hljs-params">(exception: <span class="hljs-type">Throwable</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (exception) {
                <span class="hljs-keyword">is</span> IOException -&gt; <span class="hljs-literal">true</span>
                <span class="hljs-keyword">is</span> SocketTimeoutException -&gt; <span class="hljs-literal">true</span>
                <span class="hljs-keyword">is</span> HttpException -&gt; exception.code() <span class="hljs-keyword">in</span> setOf(<span class="hljs-number">408</span>, <span class="hljs-number">429</span>, <span class="hljs-number">500</span>, <span class="hljs-number">502</span>, <span class="hljs-number">503</span>, <span class="hljs-number">504</span>)
                <span class="hljs-keyword">else</span> -&gt; <span class="hljs-literal">false</span>
            }
        }
    }
    
    <span class="hljs-comment">/**
     * æ•°æ®åº“æ“ä½œé‡è¯•ç­–ç•¥
     */</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseRetryStrategy</span> : <span class="hljs-type">RetryStrategy</span> {
        <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> maxRetries = <span class="hljs-number">5</span>
        <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> initialDelay = <span class="hljs-number">100L</span>
        <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> maxDelay = <span class="hljs-number">2000L</span>
        <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> factor = <span class="hljs-number">1.5</span>
        
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">shouldRetry</span><span class="hljs-params">(exception: <span class="hljs-type">Throwable</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
            <span class="hljs-keyword">return</span> exception <span class="hljs-keyword">is</span> SQLTransientException ||
                   (exception <span class="hljs-keyword">is</span> SQLException &amp;&amp; exception.isTransient())
        }
    }
    
    <span class="hljs-comment">/**
     * é‡è¯•ç›‘æ§å’ŒæŒ‡æ ‡
     */</span>
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryMonitor</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> metrics = mutableMapOf&lt;String, RetryMetrics&gt;()
        
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">recordAttempt</span><span class="hljs-params">(operation: <span class="hljs-type">String</span>, attempt: <span class="hljs-type">Int</span>, success: <span class="hljs-type">Boolean</span>)</span></span> {
            <span class="hljs-keyword">val</span> metric = metrics.getOrPut(operation) { RetryMetrics() }
            metric.totalAttempts++
            <span class="hljs-keyword">if</span> (attempt &gt; <span class="hljs-number">1</span>) metric.retryAttempts++
            <span class="hljs-keyword">if</span> (success) metric.successfulOperations++ <span class="hljs-keyword">else</span> metric.failedOperations++
        }
        
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getMetrics</span><span class="hljs-params">(operation: <span class="hljs-type">String</span>)</span></span>: RetryMetrics? {
            <span class="hljs-keyword">return</span> metrics[operation]
        }
        
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">printReport</span><span class="hljs-params">()</span></span> {
            metrics.forEach { (operation, metric) -&gt;
                println(<span class="hljs-string">"""
                    |Operation: <span class="hljs-variable">$operation</span>
                    |  Total Attempts: <span class="hljs-subst">${metric.totalAttempts}</span>
                    |  Retry Attempts: <span class="hljs-subst">${metric.retryAttempts}</span>
                    |  Success Rate: <span class="hljs-subst">${metric.successRate}</span>%
                    |  Retry Rate: <span class="hljs-subst">${metric.retryRate}</span>%
                """</span>.trimMargin())
            }
        }
    }
    
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryMetrics</span>(
        <span class="hljs-keyword">var</span> totalAttempts: <span class="hljs-built_in">Long</span> = <span class="hljs-number">0</span>,
        <span class="hljs-keyword">var</span> retryAttempts: <span class="hljs-built_in">Long</span> = <span class="hljs-number">0</span>,
        <span class="hljs-keyword">var</span> successfulOperations: <span class="hljs-built_in">Long</span> = <span class="hljs-number">0</span>,
        <span class="hljs-keyword">var</span> failedOperations: <span class="hljs-built_in">Long</span> = <span class="hljs-number">0</span>
    ) {
        <span class="hljs-keyword">val</span> successRate: <span class="hljs-built_in">Double</span>
            <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">if</span> (totalAttempts &gt; <span class="hljs-number">0</span>) successfulOperations.toDouble() / totalAttempts * <span class="hljs-number">100</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0.0</span>
        
        <span class="hljs-keyword">val</span> retryRate: <span class="hljs-built_in">Double</span>
            <span class="hljs-keyword">get</span>() = <span class="hljs-keyword">if</span> (totalAttempts &gt; <span class="hljs-number">0</span>) retryAttempts.toDouble() / totalAttempts * <span class="hljs-number">100</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0.0</span>
    }
    
    <span class="hljs-keyword">enum</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OperationType</span> {
        NETWORK_REQUEST,
        DATABASE_OPERATION,
        FILE_OPERATION,
        EXTERNAL_API_CALL
    }
    
    <span class="hljs-keyword">interface</span> <span class="hljs-title class_">RetryStrategy</span> {
        <span class="hljs-keyword">val</span> maxRetries: <span class="hljs-built_in">Int</span>
        <span class="hljs-keyword">val</span> initialDelay: <span class="hljs-built_in">Long</span>
        <span class="hljs-keyword">val</span> maxDelay: <span class="hljs-built_in">Long</span>
        <span class="hljs-keyword">val</span> factor: <span class="hljs-built_in">Double</span>
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">shouldRetry</span><span class="hljs-params">(exception: <span class="hljs-type">Throwable</span>)</span></span>: <span class="hljs-built_in">Boolean</span>
    }
}
</code></pre>
<h4 data-id="heading-20"><strong>2. é‡è¯•é…ç½®åŒ–</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RetryConfig</span>(
    <span class="hljs-keyword">val</span> maxRetries: <span class="hljs-built_in">Int</span> = <span class="hljs-number">3</span>,
    <span class="hljs-keyword">val</span> initialDelayMillis: <span class="hljs-built_in">Long</span> = <span class="hljs-number">1000</span>,
    <span class="hljs-keyword">val</span> maxDelayMillis: <span class="hljs-built_in">Long</span> = <span class="hljs-number">10000</span>,
    <span class="hljs-keyword">val</span> factor: <span class="hljs-built_in">Double</span> = <span class="hljs-number">2.0</span>,
    <span class="hljs-keyword">val</span> jitter: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">true</span>,
    <span class="hljs-keyword">val</span> jitterFactor: <span class="hljs-built_in">Double</span> = <span class="hljs-number">0.1</span>,
    <span class="hljs-keyword">val</span> retryableExceptions: Set&lt;String&gt; = setOf(
        <span class="hljs-string">"java.io.IOException"</span>,
        <span class="hljs-string">"java.net.SocketTimeoutException"</span>,
        <span class="hljs-string">"retrofit2.HttpException"</span>
    )
)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigurableRetryManager</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> configProvider: RetryConfigProvider
) {
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">executeWithRetry</span><span class="hljs-params">(
        operationName: <span class="hljs-type">String</span>,
        block: <span class="hljs-type">suspend</span> () -&gt; <span class="hljs-type">T</span>
    )</span></span>: T {
        <span class="hljs-keyword">val</span> config = configProvider.getConfig(operationName)
        <span class="hljs-keyword">var</span> lastException: Throwable? = <span class="hljs-literal">null</span>
        
        <span class="hljs-keyword">for</span> (attempt <span class="hljs-keyword">in</span> <span class="hljs-number">1.</span>.config.maxRetries) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">return</span> block()
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                lastException = e
                
                <span class="hljs-keyword">if</span> (attempt &lt; config.maxRetries &amp;&amp; shouldRetry(e, config)) {
                    <span class="hljs-keyword">val</span> delay = calculateDelay(attempt, config)
                    println(<span class="hljs-string">"<span class="hljs-variable">$operationName</span> ç¬¬ <span class="hljs-variable">$attempt</span> æ¬¡é‡è¯•ï¼Œç­‰å¾… <span class="hljs-subst">${delay}</span>ms"</span>)
                    delay(delay)
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">break</span>
                }
            }
        }
        
        <span class="hljs-keyword">throw</span> lastException ?: RuntimeException(<span class="hljs-string">"<span class="hljs-variable">$operationName</span> å¤±è´¥"</span>)
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">shouldRetry</span><span class="hljs-params">(exception: <span class="hljs-type">Throwable</span>, config: <span class="hljs-type">RetryConfig</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-comment">// é€šè¿‡ç±»åæ£€æŸ¥æ˜¯å¦å¯é‡è¯•</span>
        <span class="hljs-keyword">val</span> exceptionClassName = exception::<span class="hljs-keyword">class</span>.qualifiedName
        <span class="hljs-keyword">return</span> config.retryableExceptions.any { className -&gt;
            exceptionClassName?.contains(className) == <span class="hljs-literal">true</span>
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">calculateDelay</span><span class="hljs-params">(attempt: <span class="hljs-type">Int</span>, config: <span class="hljs-type">RetryConfig</span>)</span></span>: <span class="hljs-built_in">Long</span> {
        <span class="hljs-keyword">val</span> baseDelay = (config.initialDelayMillis * Math.pow(config.factor, (attempt - <span class="hljs-number">1</span>).toDouble()))
            .toLong()
            .coerceAtMost(config.maxDelayMillis)
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> (config.jitter) {
            <span class="hljs-keyword">val</span> jitterRange = (baseDelay * config.jitterFactor).toLong()
            baseDelay + Random.nextLong(-jitterRange, jitterRange)
        } <span class="hljs-keyword">else</span> {
            baseDelay
        }
    }
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">RetryConfigProvider</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getConfig</span><span class="hljs-params">(operationName: <span class="hljs-type">String</span>)</span></span>: RetryConfig
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonRetryConfigProvider</span> : <span class="hljs-type">RetryConfigProvider</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> configs = mapOf(
        <span class="hljs-string">"userApi"</span> to RetryConfig(
            maxRetries = <span class="hljs-number">3</span>,
            initialDelayMillis = <span class="hljs-number">1000</span>,
            retryableExceptions = setOf(<span class="hljs-string">"IOException"</span>, <span class="hljs-string">"HttpException"</span>)
        ),
        <span class="hljs-string">"paymentApi"</span> to RetryConfig(
            maxRetries = <span class="hljs-number">5</span>,
            initialDelayMillis = <span class="hljs-number">2000</span>,
            factor = <span class="hljs-number">1.5</span>,
            jitter = <span class="hljs-literal">true</span>
        ),
        <span class="hljs-string">"fileUpload"</span> to RetryConfig(
            maxRetries = <span class="hljs-number">10</span>,
            initialDelayMillis = <span class="hljs-number">500</span>,
            maxDelayMillis = <span class="hljs-number">30000</span>,
            factor = <span class="hljs-number">3.0</span>
        )
    )
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getConfig</span><span class="hljs-params">(operationName: <span class="hljs-type">String</span>)</span></span>: RetryConfig {
        <span class="hljs-keyword">return</span> configs[operationName] ?: RetryConfig()
    }
}
</code></pre>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<p>Kotlin é‡è¯•æœºåˆ¶çš„æœ€ä½³å®è·µï¼š</p>
<h3 data-id="heading-21">æ ¸å¿ƒç­–ç•¥ï¼š</h3>
<ol>
<li><strong>æŒ‡æ•°é€€é¿</strong>ï¼šé¿å…é›ªå´©æ•ˆåº”</li>
<li><strong>éšæœºæŠ–åŠ¨</strong>ï¼šé˜²æ­¢æƒŠç¾¤æ•ˆåº”</li>
<li><strong>ç†”æ–­å™¨æ¨¡å¼</strong>ï¼šä¿æŠ¤ä¸‹æ¸¸æœåŠ¡</li>
<li><strong>æ¡ä»¶é‡è¯•</strong>ï¼šåªé‡è¯•å¯æ¢å¤çš„é”™è¯¯</li>
</ol>
<h3 data-id="heading-22">å®ç°è¦ç‚¹ï¼š</h3>
<ol>
<li><strong>ç½‘ç»œè¯·æ±‚</strong>ï¼šé‡è¯•è¶…æ—¶ã€è¿æ¥é”™è¯¯ã€ç‰¹å®šHTTPçŠ¶æ€ç </li>
<li><strong>æ•°æ®åº“æ“ä½œ</strong>ï¼šé‡è¯•æ­»é”ã€è¿æ¥è¶…æ—¶ã€ä¸´æ—¶é”™è¯¯</li>
<li><strong>æ–‡ä»¶æ“ä½œ</strong>ï¼šé‡è¯•æ–‡ä»¶é”ã€ä¸´æ—¶IOé”™è¯¯</li>
<li><strong>å¤–éƒ¨API</strong>ï¼šé‡è¯•é™æµã€æœåŠ¡ä¸å¯ç”¨</li>
</ol>
<h3 data-id="heading-23">ç›‘æ§å’Œè°ƒä¼˜ï¼š</h3>
<ol>
<li><strong>è®°å½•é‡è¯•æŒ‡æ ‡</strong>ï¼šæˆåŠŸç‡ã€é‡è¯•ç‡ã€å»¶è¿Ÿåˆ†å¸ƒ</li>
<li><strong>åŠ¨æ€è°ƒæ•´å‚æ•°</strong>ï¼šåŸºäºå†å²è¡¨ç°è°ƒæ•´é‡è¯•ç­–ç•¥</li>
<li><strong>A/Bæµ‹è¯•</strong>ï¼šæ¯”è¾ƒä¸åŒç­–ç•¥çš„æ•ˆæœ</li>
</ol>
<h3 data-id="heading-24">æ³¨æ„äº‹é¡¹ï¼š</h3>
<ol>
<li><strong>å¹‚ç­‰æ€§</strong>ï¼šç¡®ä¿é‡è¯•æ“ä½œæ˜¯å¹‚ç­‰çš„</li>
<li><strong>èµ„æºæ¶ˆè€—</strong>ï¼šé¿å…æ— é™é‡è¯•æ¶ˆè€—èµ„æº</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šåŠæ—¶åé¦ˆå¤±è´¥ï¼Œè€Œä¸æ˜¯æ— ä¼‘æ­¢é‡è¯•</li>
<li><strong>ä¾èµ–æœåŠ¡</strong>ï¼šè€ƒè™‘ä¸‹æ¸¸æœåŠ¡çš„æ‰¿å—èƒ½åŠ›</li>
</ol>
<p>é€‰æ‹©åˆé€‚é‡è¯•ç­–ç•¥æ—¶ï¼Œéœ€è¦æƒè¡¡ï¼š</p>
<ul>
<li>æˆåŠŸç‡çš„æå‡ vs å»¶è¿Ÿçš„å¢åŠ </li>
<li>ç”¨æˆ·ä½“éªŒ vs ç³»ç»Ÿèµ„æº</li>
<li>ä¸šåŠ¡é‡è¦æ€§ vs å®ç°å¤æ‚åº¦</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026å¹´æœ€æ–°oiioiié‚€è¯·ç æ€ä¹ˆè·å–ï¼Ÿoiioiié‚€è¯·ç é¢†å–å…¥å£æœ€æ–°åˆ†äº«ï¼]]></title>    <link>https://juejin.cn/post/7602553969969610806</link>    <guid>https://juejin.cn/post/7602553969969610806</guid>    <pubDate>2026-02-04T04:13:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602553969969610806" data-draft-id="7602553969969594422" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026å¹´æœ€æ–°oiioiié‚€è¯·ç æ€ä¹ˆè·å–ï¼Ÿoiioiié‚€è¯·ç é¢†å–å…¥å£æœ€æ–°åˆ†äº«ï¼"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-02-04T04:13:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Macçš„å®éªŒå®¤"/> <meta itemprop="url" content="https://juejin.cn/user/2958128164897127"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026å¹´æœ€æ–°oiioiié‚€è¯·ç æ€ä¹ˆè·å–ï¼Ÿoiioiié‚€è¯·ç é¢†å–å…¥å£æœ€æ–°åˆ†äº«ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2958128164897127/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Macçš„å®éªŒå®¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T04:13:13.000Z" title="Wed Feb 04 2026 04:13:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¾ˆå¤šæƒ³è¦ç”¨AIåšåŸç”ŸåŠ¨ç”»åˆ›ä½œçš„åŒå­¦ä¸çŸ¥é“oiioiié‚€è¯·ç åˆ°å“ªé‡Œè·å–ï¼Œoiioiiå®˜ç½‘éœ€è¦ä½¿ç”¨é‚€è¯·ç æ‰èƒ½ä½¿ç”¨ï¼Œä¸‹é¢æ˜¯æœ€æ–°oiioiié‚€è¯·ç é¢†å–æ•™ç¨‹åˆ†äº«ï¼</p>
<p><strong>oiioiiç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆçªç„¶ç«èµ·æ¥äº†ï¼Ÿ</strong></p>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fai-bot.cn%2Fsites%2F66553.html" target="_blank" title="https://link.zhihu.com/?target=https%3A//ai-bot.cn/sites/66553.html" ref="nofollow noopener noreferrer">OiiOii</a> æ˜¯å…¨çƒé¦–ä¸ªä¸“ä¸šåŠ¨ç”»åˆ›ä½œAgentï¼Œå€ŸåŠ©æ™ºèƒ½ Agent èƒ½å®ç°åŠ¨ç”»ä»æ„æ€åˆ°æˆå“çš„å¿«é€Ÿç”Ÿæˆã€‚</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fblog.csdn.net%2F2604_94889863%2Farticle%2Fdetails%2F156706615" target="_blank" title="https://link.zhihu.com/?target=https%3A//blog.csdn.net/2604_94889863/article/details/156706615" ref="nofollow noopener noreferrer">OiiOii.aiæ”¹å†™åˆ›ä½œæƒæ ¼å±€ï¼šåŠ¨ç”»åˆ¶ä½œï¼Œä»â€œè½¯ä»¶æŠ€è‰ºâ€œåˆ°â€œæ™ºèƒ½å›¢é˜Ÿâ€œçš„è·ƒè¿</a></p>
<p>ç”¨æˆ·åªéœ€è¾“å…¥ç®€å•æŒ‡ä»¤ï¼Œå³å¯è·å¾—åŠ¨ç”»çŸ­ç‰‡ã€è§†é¢‘æˆ–å›¾ç‰‡ã€‚OiiOii å†…ç½®å¤šä¸ªä¸“ä¸šè§’è‰²ååŒå·¥ä½œï¼Œæ¶µç›–å‰§æƒ…åˆ›ä½œã€éŸ³ä¹ MV åˆ¶ä½œã€æ¼«ç”»åŠ¨æ€åŒ–ç­‰å¤šç§åŠŸèƒ½ï¼Œæ”¯æŒé£æ ¼å®šåˆ¶å’Œè¡ç”Ÿå“è®¾è®¡ã€‚OiiOii é€šè¿‡å†…ç½®çš„ 7 ä¸ªä¸“ä¸š Agentï¼ˆå¦‚è‰ºæœ¯æ€»ç›‘ã€ç¼–å‰§ã€åˆ†é•œå¸ˆç­‰ï¼‰ï¼Œå®ç°ä»å‰§æœ¬åˆ›ä½œåˆ°åŠ¨ç”»ç”Ÿæˆçš„ä¸€ç«™å¼æœåŠ¡ï¼Œæ”¯æŒç”Ÿæˆå›¾ç‰‡ã€è§†é¢‘ã€åŠ¨ç”»çŸ­ç‰‡ç­‰å¤šç§å½¢å¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b36ae1f1cd4d483c9542ac28525718e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770783196&amp;x-signature=hcGcuszwQuYFSRSJUbEtN%2FduqMM%3D" alt="" loading="lazy"/></p>
<p>OiiOii æ“ä½œä¾¿æ·ï¼Œäº’åŠ¨æ€§å¼ºï¼Œèƒ½æ»¡è¶³åˆ›ä½œè€…çš„å¤šæ ·åŒ–éœ€æ±‚ï¼Œæ˜¯åŠ¨ç”»çˆ±å¥½è€…çš„é«˜æ•ˆåˆ›ä½œåŠ©æ‰‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06265067094341779c1afca3d84a0007~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770783196&amp;x-signature=WLYoTb4kPbpbxK%2F%2B%2BOuhmp%2Fe8EM%3D" alt="" loading="lazy"/></p>
<p>OiiOiiç›®å‰éœ€é‚€è¯·ç ä½“éªŒï¼Œå®Œæˆæ³¨å†Œçš„ç”¨æˆ·ï¼Œæ¯å‘¨ï¼ˆè‡ªç„¶å‘¨ï¼‰ä¼šè·å¾—5ä¸ªé‚€è¯·ç ã€‚</p>
<h2 data-id="heading-0">å¦‚ä½•è·å–OiiOiié‚€è¯·ç </h2>
<ul>
<li><strong>æ–¹å¼ä¸€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Faigongjuji.paluai.com%2F" target="_blank" title="https://link.zhihu.com/?target=https%3A//aigongjuji.paluai.com/" ref="nofollow noopener noreferrer">AIå·¥å…·é›†</a>å®˜æ–¹æä¾›äº†OiiOiié‚€è¯·ç äº’åŠ©ç¾¤ï¼Œå…è´¹å…±äº«é‚€è¯·ç ï¼Œäº’åŠ©è§£é”ä¼˜å…ˆä½“éªŒã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c6c6b6aa7304ccdab2bec3d0f08b14d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770783196&amp;x-signature=wKwphdtpzKw%2B2inecHciddLh%2FPs%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»ç”³è¯·é‚€è¯·ç </p>
<ul>
<li><strong>æ–¹å¼äºŒ</strong>ï¼šè®¿é—®<a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fai-bot.cn%2Fsites%2F66553.html" target="_blank" title="https://link.zhihu.com/?target=https%3A//ai-bot.cn/sites/66553.html" ref="nofollow noopener noreferrer">OiiOii</a>å®˜ç½‘å¡«å†™OiiOiiæµ‹è¯•èµ„æ ¼ç”³è¯·è¡¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%253A%2F%2Fecncw7du1qtr.feishu.cn%2Fshare%2Fbase%2Fform%2FshrcnoDL0jJv3hcrDAoysbOBh4d" target="_blank" title="https://link.zhihu.com/?target=https%3A//ecncw7du1qtr.feishu.cn/share/base/form/shrcnoDL0jJv3hcrDAoysbOBh4d" ref="nofollow noopener noreferrer">ecncw7du1qtr.feishu.cn/share/base/â€¦</a>ï¼Œä¼˜å…ˆè·å–è®¿é—®æƒé™ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28b244e5a06d4f3c9a9a34ab1f70f66d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770783196&amp;x-signature=SpsFrmddYc7%2BbU0RCJE2HXa1YVI%3D" alt="" loading="lazy"/></p>
<p>å¡«å†™ä½ çš„èº«ä»½ä»‹ç»ï¼Œç¤¾äº¤åª’ä½“é“¾æ¥ï¼Œä¸ªäººå¾®ä¿¡å’Œé‚®ç®±ç­‰ä¿¡æ¯ç”³è¯·å®˜æ–¹å†…æµ‹é‚€è¯·ç ï¼Œè¿™ä¸ªéœ€è¦å®˜æ–¹å®¡æ ¸ä¸€æ®µæ—¶é—´ï¼Œé€šè¿‡åæ‰èƒ½å‘æ”¾ã€‚è§‰å¾—éº»çƒ¦ä¸æƒ³æŠ˜è…¾çš„åŒå­¦å¯ä»¥åœ¨å…¬ä¼—å·ï¼š<strong>Macçš„å®éªŒå®¤</strong> åå°å›å¤ <strong>oii</strong> è·å–æœ€æ–°çš„é‚€è¯·ç å…¥å£ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc6d161da2464623a2c3027ab763b1e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770783196&amp;x-signature=v2meWmr4T3FsybJJHf%2BeR%2B8RF5o%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>æ–¹å¼ä¸‰</strong>ï¼šåŠ å…¥å®˜æ–¹ç¤¾ç¾¤ï¼Œä¼˜å…ˆè·å–ã€‚è®¿é—®å®˜ç½‘å³ä¸Šè§’ç‚¹å‡»å¾®ä¿¡å›¾æ ‡ï¼Œå³å¯æ‰«ç åŠ å…¥å®˜æ–¹ç¤¾ç¾¤ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d93ef5841bc94843b77d6f63a2b76123~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770783196&amp;x-signature=qzXWPpEzIhY6ewqUuchC93Sa5wc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">OiiOii é‚€è¯·ç å‘æ”¾è§„åˆ™</h2>
<ul>
<li>
<p><strong>å–æ¶ˆé‚€è¯·ç ä¸Šé™</strong>ï¼šäºŒè½®æµ‹è¯•ä¸å†è®¾ç½®é‚€è¯·ç ä¸Šé™ï¼Œä¸å†é€šè¿‡æŠ½å¥–å‘ç ã€‚</p>
</li>
<li>
<p><strong>ç”¨æˆ·å¯è‡ªç”±åˆ†äº«</strong>ï¼šå·²æœ‰è´¦å·çš„ç”¨æˆ·å¯ç›´æ¥ç»™å¥½å‹å‘é‚€è¯·ç ã€‚</p>
</li>
<li>
<p><strong>æ¯å‘¨é‚€è¯·ç æ•°é‡</strong>ï¼š</p>
</li>
<li>
<ul>
<li>
<p>æ¯å‘¨ï¼ˆè‡ªç„¶å‘¨ï¼‰ç”¨æˆ·åˆå§‹è·å¾— 5 ä¸ªé‚€è¯·ç ã€‚</p>
</li>
<li>
<p>è‹¥æœ¬å‘¨ 5 ä¸ªé‚€è¯·ç å‡è¢«æˆåŠŸæ³¨å†Œï¼Œç”¨æˆ·é¢å¤–å†è· 3 ä¸ªï¼Œå³æ¯å‘¨æœ€å¤šå¯å‘æ”¾ 8 ä¸ªé‚€è¯·ç ã€‚</p>
</li>
</ul>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1ea7fff6c5245df9c16ea319422e4a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWFj55qE5a6e6aqM5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770783196&amp;x-signature=0CSEXlqDuAtMuAUyJQ2V5Axx3bo%3D" alt="" loading="lazy"/></p>
<ul>
<li>
<p><strong>é‚€è¯·ç æœ‰æ•ˆæœŸ</strong>ï¼šä»–äººèµ é€çš„é‚€è¯·ç æœ‰æ•ˆæœŸä¸º 7 å¤©ï¼Œæœªå®Œæˆæ³¨å†Œä¼šå½±å“é€ç å¥½å‹åç»­å¯å‘ç æ•°é‡ã€‚</p>
</li>
<li>
<p><strong>é‚€è¯·ç ä½¿ç”¨è§„åˆ™</strong>ï¼šä¸€ä¸ªé‚€è¯·ç åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼ŒæŒ‰ç»‘å®šé‚®ç®±çš„å…ˆåé¡ºåºä¸ºå‡†ã€‚</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swift æ–¹æ³•è°ƒåº¦æœºåˆ¶å®Œå…¨è§£æï¼šä»é™æ€åˆ°åŠ¨æ€çš„æ·±åº¦æ¢ç´¢]]></title>    <link>https://juejin.cn/post/7602559134575263780</link>    <guid>https://juejin.cn/post/7602559134575263780</guid>    <pubDate>2026-02-04T04:15:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602559134575263780" data-draft-id="7602559134575247396" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swift æ–¹æ³•è°ƒåº¦æœºåˆ¶å®Œå…¨è§£æï¼šä»é™æ€åˆ°åŠ¨æ€çš„æ·±åº¦æ¢ç´¢"/> <meta itemprop="keywords" content="Swift"/> <meta itemprop="datePublished" content="2026-02-04T04:15:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="unravel2025"/> <meta itemprop="url" content="https://juejin.cn/user/1116759541421880"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swift æ–¹æ³•è°ƒåº¦æœºåˆ¶å®Œå…¨è§£æï¼šä»é™æ€åˆ°åŠ¨æ€çš„æ·±åº¦æ¢ç´¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759541421880/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    unravel2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T04:15:41.000Z" title="Wed Feb 04 2026 04:15:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šä¸ºä»€ä¹ˆæ–¹æ³•è°ƒåº¦å¦‚æ­¤é‡è¦</h2>
<p>åœ¨ Swift å¼€å‘ä¸­ï¼Œä½ å¯èƒ½å¬è¿‡å…¶ä»–äººç»™å‡ºè¿™æ ·çš„å»ºè®®ï¼š"æŠŠè¿™ä¸ªæ–¹æ³•æ ‡è®°ä¸º <code>final</code>"ã€"ä½¿ç”¨ <code>private</code> ä¿®é¥°ç¬¦"ã€"é¿å…åœ¨æ‰©å±•ä¸­é‡å†™æ–¹æ³•"ã€‚è¿™äº›å»ºè®®çš„èƒŒåï¼Œéƒ½æŒ‡å‘åŒä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µâ€”â€”æ–¹æ³•è°ƒåº¦ï¼ˆMethod Dispatchï¼‰ã€‚</p>
<p>æ–¹æ³•è°ƒåº¦å†³å®šäº† Swift åœ¨è¿è¡Œæ—¶å¦‚ä½•æ‰¾åˆ°å¹¶æ‰§è¡Œæ­£ç¡®çš„æ–¹æ³•å®ç°ã€‚</p>
<h2 data-id="heading-1">æ–¹æ³•è°ƒåº¦çš„å››ç§ç±»å‹</h2>
<h3 data-id="heading-2">é™æ€æ´¾å‘ï¼ˆStatic Dispatch / Direct Dispatchï¼‰</h3>
<p>é™æ€æ´¾å‘æ˜¯æœ€ç›´æ¥ã€æœ€å¿«é€Ÿçš„è°ƒåº¦æ–¹å¼ã€‚</p>
<p>åœ¨ç¼–è¯‘æœŸï¼Œç¼–è¯‘å™¨å°±å·²ç»ç¡®å®šäº†è¦è°ƒç”¨çš„å…·ä½“å‡½æ•°åœ°å€ï¼Œè¿è¡Œæ—¶ç›´æ¥è·³è½¬åˆ°è¯¥åœ°å€æ‰§è¡Œï¼Œæ— éœ€ä»»ä½•æŸ¥æ‰¾è¿‡ç¨‹ã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ€§èƒ½æœ€é«˜ï¼šæ¥è¿‘ C è¯­è¨€å‡½æ•°è°ƒç”¨</li>
<li>ç¼–è¯‘æœŸç¡®å®šï¼šæ— è¿è¡Œæ—¶å¼€é”€</li>
<li>ä¸æ”¯æŒç»§æ‰¿å’Œå¤šæ€</li>
</ul>
<p>é€‚ç”¨åœºæ™¯ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// å€¼ç±»å‹ï¼ˆstructã€enumï¼‰çš„æ‰€æœ‰æ–¹æ³•</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Point</span> {
    <span class="hljs-keyword">var</span> x: <span class="hljs-type">Double</span>
    <span class="hljs-keyword">var</span> y: <span class="hljs-type">Double</span>
    
    <span class="hljs-comment">// é™æ€æ´¾å‘ - å€¼ç±»å‹çš„é»˜è®¤è¡Œä¸º</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">distance</span>(<span class="hljs-params">to</span> <span class="hljs-params">other</span>: <span class="hljs-type">Point</span>) -&gt; <span class="hljs-type">Double</span> {
        <span class="hljs-comment">// ç¼–è¯‘æœŸå·²ç¡®å®šè°ƒç”¨åœ°å€</span>
        <span class="hljs-keyword">return</span> sqrt((x <span class="hljs-operator">-</span> other.x) <span class="hljs-operator">*</span> (x <span class="hljs-operator">-</span> other.x) <span class="hljs-operator">+</span> (y <span class="hljs-operator">-</span> other.y) <span class="hljs-operator">*</span> (y <span class="hljs-operator">-</span> other.y))
    }
}

<span class="hljs-comment">// è¢« final ä¿®é¥°çš„ç±»æ–¹æ³•</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Calculator</span> {
    <span class="hljs-comment">// é™æ€æ´¾å‘ - final ç¦æ­¢é‡å†™</span>
    <span class="hljs-keyword">final</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">add</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">a</span>: <span class="hljs-type">Int</span>, <span class="hljs-keyword">_</span> <span class="hljs-params">b</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span> {
        <span class="hljs-keyword">return</span> a <span class="hljs-operator">+</span> b
    }
}

<span class="hljs-comment">// è¢« private/fileprivate ä¿®é¥°çš„æ–¹æ³•</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Service</span> {
    <span class="hljs-comment">// é™æ€æ´¾å‘ - ä½œç”¨åŸŸé™åˆ¶ç¡®ä¿ä¸ä¼šè¢«é‡å†™</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">internalLog</span>(<span class="hljs-params">message</span>: <span class="hljs-type">String</span>) {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"[Private] <span class="hljs-subst">\(message)</span>"</span>)
    }
    
    <span class="hljs-comment">// é™æ€æ´¾å‘ - fileprivate åŒæ ·é™åˆ¶ä½œç”¨åŸŸ</span>
    <span class="hljs-keyword">fileprivate</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">filePrivateMethod</span>() {
        <span class="hljs-comment">// ...</span>
    }
}

<span class="hljs-comment">// åè®®æ‰©å±•ä¸­çš„é»˜è®¤å®ç°</span>
<span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Drawable</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">draw</span>()
}

<span class="hljs-keyword">extension</span> <span class="hljs-title class_">Drawable</span> {
    <span class="hljs-comment">// é™æ€æ´¾å‘ - åè®®æ‰©å±•çš„é»˜è®¤å®ç°</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">draw</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Default drawing implementation"</span>)
    }
}
</code></pre>
<p>åº•å±‚åŸç†ï¼š</p>
<p>é™æ€æ´¾å‘çš„å‡½æ•°åœ°å€åœ¨ç¼–è¯‘é“¾æ¥åå°±å·²ç»ç¡®å®šï¼Œå­˜æ”¾åœ¨ä»£ç æ®µï¼ˆ<code>__TEXT.__text</code>ï¼‰ä¸­ã€‚è°ƒç”¨æ—¶ç›´æ¥é€šè¿‡å‡½æ•°æŒ‡é’ˆè·³è½¬ï¼Œä¸éœ€è¦ç»è¿‡ä»»ä½•ä¸­é—´å±‚ã€‚</p>
<p>åœ¨ Mach-O æ–‡ä»¶ä¸­ï¼Œè¿™äº›å‡½æ•°åœ°å€ä¸ç¬¦å·è¡¨ï¼ˆSymbol Tableï¼‰å’Œå­—ç¬¦ä¸²è¡¨ï¼ˆString Tableï¼‰å…³è”ï¼Œé€šè¿‡ç¬¦å·åç§° mangling å®ç°å”¯ä¸€æ ‡è¯†ã€‚</p>
<h3 data-id="heading-3">V-Table æ´¾å‘ï¼ˆTable Dispatchï¼‰</h3>
<p>V-Tableï¼ˆè™šå‡½æ•°è¡¨ï¼‰æ˜¯ Swift å¯¹ç±»å®ç°åŠ¨æ€æ´¾å‘çš„ä¸»è¦æœºåˆ¶ã€‚æ¯ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªè™šå‡½æ•°è¡¨ï¼Œå­˜å‚¨ç€è¯¥ç±»åŠå…¶çˆ¶ç±»æ‰€æœ‰å¯é‡å†™æ–¹æ³•çš„å‡½æ•°æŒ‡é’ˆã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ”¯æŒç»§æ‰¿å’Œå¤šæ€</li>
<li>è¿è¡Œæ—¶é€šè¿‡æŸ¥è¡¨ç¡®å®šå‡½æ•°åœ°å€</li>
<li>æœ‰ä¸€å®šçš„æ€§èƒ½å¼€é”€ï¼Œä½†è¿œä½äºæ¶ˆæ¯è½¬å‘</li>
</ul>
<p>å·¥ä½œåŸç†ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeSound</span>() {  <span class="hljs-comment">// V-Table æ´¾å‘</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Some animal sound"</span>)
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">move</span>() {       <span class="hljs-comment">// V-Table æ´¾å‘</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Animal moves"</span>)
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span>: <span class="hljs-title class_">Animal</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeSound</span>() {  <span class="hljs-comment">// é‡å†™ï¼Œæ›´æ–° V-Table æ¡ç›®</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Woof woof"</span>)
    }
    
    <span class="hljs-comment">// move() ç»§æ‰¿è‡ªçˆ¶ç±»ï¼ŒV-Table ä¸­æŒ‡å‘çˆ¶ç±»å®ç°</span>
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">let</span> animals: [<span class="hljs-type">Animal</span>] <span class="hljs-operator">=</span> [<span class="hljs-type">Animal</span>(), <span class="hljs-type">Dog</span>()]
<span class="hljs-keyword">for</span> animal <span class="hljs-keyword">in</span> animals {
    animal.makeSound()  <span class="hljs-comment">// è¿è¡Œæ—¶é€šè¿‡ V-Table æŸ¥æ‰¾å…·ä½“å®ç°</span>
}
</code></pre>
<p>V-Table ç»“æ„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">Animal ç±»çš„ V<span class="hljs-operator">-</span><span class="hljs-keyword">Table</span>:
<span class="hljs-operator">+</span><span class="hljs-comment">----------------------------+</span>
<span class="hljs-operator">|</span> å†…å­˜åç§» <span class="hljs-operator">|</span> æ–¹æ³•å          <span class="hljs-operator">|</span> å‡½æ•°æŒ‡é’ˆåœ°å€ <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------------------------+</span>
<span class="hljs-operator">|</span> <span class="hljs-number">0</span>        <span class="hljs-operator">|</span> makeSound()    <span class="hljs-operator">|</span> <span class="hljs-number">0x100001a80</span> <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> <span class="hljs-number">1</span>        <span class="hljs-operator">|</span> move()         <span class="hljs-operator">|</span> <span class="hljs-number">0x100001b20</span> <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------------------------+</span>

Dog ç±»çš„ V<span class="hljs-operator">-</span><span class="hljs-keyword">Table</span>:
<span class="hljs-operator">+</span><span class="hljs-comment">----------------------------+</span>
<span class="hljs-operator">|</span> å†…å­˜åç§» <span class="hljs-operator">|</span> æ–¹æ³•å          <span class="hljs-operator">|</span> å‡½æ•°æŒ‡é’ˆåœ°å€ <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">----------------------------+</span>
<span class="hljs-operator">|</span> <span class="hljs-number">0</span>        <span class="hljs-operator">|</span> makeSound()    <span class="hljs-operator">|</span> <span class="hljs-number">0x100002c40</span> <span class="hljs-operator">|</span>  â† é‡å†™åçš„æ–°åœ°å€
<span class="hljs-operator">|</span> <span class="hljs-number">1</span>        <span class="hljs-operator">|</span> move()         <span class="hljs-operator">|</span> <span class="hljs-number">0x100001b20</span> <span class="hljs-operator">|</span>  â† ç»§æ‰¿è‡ªçˆ¶ç±»
<span class="hljs-operator">+</span><span class="hljs-comment">----------------------------+</span>
</code></pre>
<p>SIL ä»£ç éªŒè¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¯‘ç”Ÿæˆ SIL ä¸­é—´ä»£ç </span>
swiftc -emit-sil MyFile.swift | xcrun swift-demangle &gt; output.sil

<span class="hljs-comment"># æŸ¥çœ‹ V-Table å®šä¹‰</span>
sil_vtable Animal {
  <span class="hljs-comment">#Animal.makeSound: (Animal) -&gt; () -&gt; () : @main.Animal.makeSound() -&gt; ()  // Animal.makeSound()</span>
  <span class="hljs-comment">#Animal.move: (Animal) -&gt; () -&gt; () : @main.Animal.move() -&gt; ()    // Animal.move()</span>
  <span class="hljs-comment">#Animal.init!allocator: (Animal.Type) -&gt; () -&gt; Animal : @main.Animal.__allocating_init() -&gt; main.Animal   // Animal.__allocating_init()</span>
  <span class="hljs-comment">#Animal.deinit!deallocator: @main.Animal.__deallocating_deinit    // Animal.__deallocating_deinit</span>
}
</code></pre>
<h3 data-id="heading-4">Witness Table æ´¾å‘ï¼ˆåè®®è°ƒåº¦ï¼‰</h3>
<p>Witness Table æ˜¯ Swift å®ç°åè®®åŠ¨æ€æ´¾å‘çš„æœºåˆ¶ï¼Œç›¸å½“äºåè®®çš„ V-Tableã€‚å½“ç±»å‹éµå¾ªåè®®æ—¶ï¼Œç¼–è¯‘å™¨ä¼šä¸ºè¯¥ç±»å‹ç”Ÿæˆä¸€ä¸ª Witness Tableï¼Œè®°å½•åè®®è¦æ±‚çš„å®ç°åœ°å€ã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä¸“é—¨ç”¨äºåè®®ç±»å‹</li>
<li>æ”¯æŒå¤šæ€å’Œæ³›å‹çº¦æŸ</li>
<li>è¿è¡Œæ—¶å¼€é”€ä¸ V-Table ç±»ä¼¼</li>
</ul>
<p>å·¥ä½œåŸç†ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Feedable</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">feed</span>()  <span class="hljs-comment">// åè®®è¦æ±‚</span>
}

<span class="hljs-comment">// ç»“æ„ä½“éµå¾ªåè®® - ç”Ÿæˆ Witness Table</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Cat</span>: <span class="hljs-title class_">Feedable</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">feed</span>() {  <span class="hljs-comment">// é™æ€æ´¾å‘ + Witness Table è®°å½•</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Feeding cat"</span>)
    }
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Bird</span>: <span class="hljs-title class_">Feedable</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">feed</span>() {  <span class="hljs-comment">// é™æ€æ´¾å‘ + Witness Table è®°å½•</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Feeding bird"</span>)
    }
}

<span class="hljs-comment">// æ³›å‹å‡½æ•°ä½¿ç”¨åè®®çº¦æŸ</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">processFeeding</span>&lt;<span class="hljs-type">T</span>: <span class="hljs-type">Feedable</span>&gt;(<span class="hljs-keyword">_</span> <span class="hljs-params">animal</span>: <span class="hljs-type">T</span>) {
    animal.feed()  <span class="hljs-comment">// é€šè¿‡ Witness Table æ´¾å‘</span>
}

<span class="hljs-comment">// åè®®ç±»å‹ä½œä¸ºå‚æ•°ï¼ˆå­˜åœ¨æ€§å®¹å™¨ï¼‰</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">feedAnimal</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">animal</span>: <span class="hljs-type">Feedable</span>) {
    animal.feed()  <span class="hljs-comment">// é€šè¿‡ Witness Table æ´¾å‘</span>
}

<span class="hljs-keyword">let</span> cat <span class="hljs-operator">=</span> <span class="hljs-type">Cat</span>()
<span class="hljs-keyword">let</span> bird <span class="hljs-operator">=</span> <span class="hljs-type">Bird</span>()

processFeeding(cat)   <span class="hljs-comment">// Witness Table æŒ‡å‘ Cat.feed</span>
processFeeding(bird)  <span class="hljs-comment">// Witness Table æŒ‡å‘ Bird.feed</span>
feedAnimal(cat)       <span class="hljs-comment">// å­˜åœ¨æ€§å®¹å™¨ + Witness Table</span>
</code></pre>
<p>åº•å±‚æœºåˆ¶ï¼š
Witness Table ä¸ä»…å­˜å‚¨å‡½æ•°æŒ‡é’ˆï¼Œè¿˜åŒ…å«ç±»å‹çš„å…ƒæ•°æ®ï¼ˆmetadataï¼‰ï¼ŒåŒ…æ‹¬å€¼å¤§å°ã€å†…å­˜å¸ƒå±€ç­‰ä¿¡æ¯ã€‚å½“ä½¿ç”¨åè®®ç±»å‹ï¼ˆå­˜åœ¨æ€§å®¹å™¨ï¼‰æ—¶ï¼ŒSwift ä¼šåœ¨ä¸€ä¸ªå°å‹ç¼“å†²åŒºä¸­å­˜å‚¨å€¼ï¼Œå¦‚æœå€¼å¤ªå¤§åˆ™ä½¿ç”¨å †åˆ†é…ï¼Œå¹¶é€šè¿‡ Witness Table è¿›è¡Œé—´æ¥è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">sil_witness_table hidden Cat: Feedable module main {
  method <span class="hljs-comment">#Feedable.feed: &lt;Self where Self : Feedable&gt; (Self) -&gt; () -&gt; () : @protocol witness for main.Feedable.feed() -&gt; () in conformance main.Cat : main.Feedable in main // protocol witness for Feedable.feed() in conformance Cat</span>
}

sil_witness_table hidden Bird: Feedable module main {
  method <span class="hljs-comment">#Feedable.feed: &lt;Self where Self : Feedable&gt; (Self) -&gt; () -&gt; () : @protocol witness for main.Feedable.feed() -&gt; () in conformance main.Bird : main.Feedable in main    // protocol witness for Feedable.feed() in conformance Bird</span>
}
</code></pre>
<h3 data-id="heading-5">æ¶ˆæ¯è½¬å‘ï¼ˆMessage Dispatchï¼‰</h3>
<p>æ¶ˆæ¯è½¬å‘æ˜¯ Objective-C çš„è¿è¡Œæ—¶æœºåˆ¶ï¼Œé€šè¿‡ <code>objc_msgSend</code> å‡½æ•°åœ¨è¿è¡Œæ—¶æŸ¥æ‰¾æ–¹æ³•å®ç°ã€‚è¿™æ˜¯ Swift ä¸­æœ€åŠ¨æ€ä½†æ€§èƒ½æœ€ä½çš„è°ƒåº¦æ–¹å¼ã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æœ€åŠ¨æ€ï¼šæ”¯æŒè¿è¡Œæ—¶æ–¹æ³•äº¤æ¢ã€æ¶ˆæ¯è½¬å‘</li>
<li>æ€§èƒ½æœ€ä½ï¼šéœ€è¦å®Œæ•´çš„æ¶ˆæ¯æŸ¥æ‰¾æµç¨‹</li>
<li>ä»…é€‚ç”¨äºç»§æ‰¿è‡ª NSObject çš„ç±»</li>
</ul>
<p>ä½¿ç”¨åœºæ™¯ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Foundation

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span>: <span class="hljs-title class_">NSObject</span> {
    <span class="hljs-comment">// V-Table æ´¾å‘ï¼ˆSwift æ–¹å¼ï¼‰</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">normalMethod</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Normal method"</span>)
    }
    
    <span class="hljs-comment">// @objc æš´éœ²ç»™ OCï¼Œä½†ä»ä½¿ç”¨ V-Table</span>
    <span class="hljs-keyword">@objc</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">objcMethod</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"@objc method"</span>)
    }
    
    <span class="hljs-comment">// æ¶ˆæ¯è½¬å‘ï¼ˆå®Œå…¨ OC runtimeï¼‰</span>
    <span class="hljs-keyword">@objc</span> <span class="hljs-keyword">dynamic</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">dynamicMethod</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Dynamic method"</span>)
    }
    
    <span class="hljs-comment">// åŠ¨æ€æ–¹æ³•äº¤æ¢</span>
    <span class="hljs-keyword">@objc</span> <span class="hljs-keyword">dynamic</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">swappableMethod</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Original implementation"</span>)
    }
}

<span class="hljs-comment">// åŠ¨æ€æ–¹æ³•äº¤æ¢</span>
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-meta">@_dynamicReplacement</span>(for: swappableMethod)
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">swappableMethodReplacement</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Replaced implementation"</span>)
    }
}

<span class="hljs-keyword">let</span> person <span class="hljs-operator">=</span> <span class="hljs-type">Person</span>()
person.normalMethod()      <span class="hljs-comment">// V-Table æŸ¥æ‰¾</span>
person.objcMethod()        <span class="hljs-comment">// V-Table æŸ¥æ‰¾ï¼ˆè™½ç”¨ @objcï¼‰</span>
person.dynamicMethod()     <span class="hljs-comment">// objc_msgSend</span>

<span class="hljs-comment">// æ–¹æ³•äº¤æ¢ç”Ÿæ•ˆå</span>
person.swappableMethod()   <span class="hljs-comment">// æ‰§è¡Œæ›¿æ¢åçš„å®ç°</span>
</code></pre>
<p>åº•å±‚æµç¨‹ï¼š</p>
<pre><code class="hljs language-assembly" lang="assembly"># æ¶ˆæ¯è½¬å‘çš„æ±‡ç¼–ç‰¹å¾
# æ‰€æœ‰è°ƒç”¨éƒ½æŒ‡å‘ objc_msgSend
callq  *%objc_msgSend
# å¯„å­˜å™¨ä¼ é€’ï¼šrax=receiver, rdx=selector, åç»­å‚æ•°æŒ‰è§„åˆ™ä¼ é€’
</code></pre>
<h2 data-id="heading-6">å½±å“æ–¹æ³•è°ƒåº¦çš„å…³é”®å› ç´ </h2>
<h3 data-id="heading-7">ç±»å‹ç³»ç»Ÿ</h3>
<p>å€¼ç±»å‹ï¼ˆstruct/enumï¼‰ï¼š</p>
<ul>
<li>æ‰€æœ‰æ–¹æ³•é»˜è®¤é™æ€æ´¾å‘</li>
<li>ä¸æ”¯æŒç»§æ‰¿ï¼Œæ— éœ€åŠ¨æ€è°ƒåº¦</li>
</ul>
<p>å¼•ç”¨ç±»å‹ï¼ˆclassï¼‰ï¼š</p>
<ul>
<li>æ™®é€šæ–¹æ³•ï¼šV-Table æ´¾å‘</li>
<li><code>final</code> æ–¹æ³•ï¼šé™æ€æ´¾å‘</li>
<li><code>private/fileprivate</code> æ–¹æ³•ï¼šé™æ€æ´¾å‘</li>
<li>æ‰©å±•ä¸­çš„æ–¹æ³•ï¼šé™æ€æ´¾å‘</li>
</ul>
<p>NSObject å­ç±»ï¼š</p>
<ul>
<li>å¢åŠ äº† @objc å’Œ dynamic é€‰é¡¹</li>
<li>å¯å›é€€åˆ° OC æ¶ˆæ¯è½¬å‘</li>
</ul>
<h3 data-id="heading-8">å…³é”®å­—ä¿®é¥°ç¬¦</h3>








































<table><thead><tr><th align="left">å…³é”®å­—</th><th align="left">ä½œç”¨</th><th align="left">è°ƒåº¦æ–¹å¼</th></tr></thead><tbody><tr><td align="left"><code>final</code></td><td align="left">ç¦æ­¢é‡å†™</td><td align="left">é™æ€æ´¾å‘</td></tr><tr><td align="left"><code>private</code></td><td align="left">é™åˆ¶ä½œç”¨åŸŸ</td><td align="left">é™æ€æ´¾å‘</td></tr><tr><td align="left"><code>fileprivate</code></td><td align="left">æ–‡ä»¶å†…å¯è§</td><td align="left">é™æ€æ´¾å‘</td></tr><tr><td align="left"><code>dynamic</code></td><td align="left">å¯ç”¨åŠ¨æ€æ€§</td><td align="left">æ¶ˆæ¯è½¬å‘ï¼ˆéœ€é…åˆ <code>@objc</code>ï¼‰</td></tr><tr><td align="left"><code>@objc</code></td><td align="left">æš´éœ²ç»™ OC</td><td align="left">V-Tableï¼ˆé™¤éåŠ  <code>dynamic</code>ï¼‰</td></tr><tr><td align="left"><code>@objc dynamic</code></td><td align="left">å®Œå…¨åŠ¨æ€</td><td align="left">æ¶ˆæ¯è½¬å‘</td></tr></tbody></table>
<h3 data-id="heading-9">ç¼–è¯‘å™¨ä¼˜åŒ–</h3>
<p>ç°ä»£ Swift ç¼–è¯‘å™¨ï¼ˆå°¤å…¶å¼€å¯ WMO - Whole Module Optimization åï¼‰ä¼šç§¯æä¼˜åŒ–æ–¹æ³•è°ƒåº¦ï¼š</p>
<p>å»è™šæ‹ŸåŒ–ï¼ˆDevirtualizationï¼‰ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Shape</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">draw</span>() { <span class="hljs-comment">/* ... */</span> }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Circle</span>: <span class="hljs-title class_">Shape</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">draw</span>() { <span class="hljs-comment">/* ... */</span> }
}

<span class="hljs-keyword">func</span> <span class="hljs-title function_">render</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">shape</span>: <span class="hljs-type">Shape</span>) {
    <span class="hljs-comment">// ç¼–è¯‘å™¨å¯èƒ½æ¨æ–­ shape å®é™…æ˜¯ Circle ç±»å‹</span>
    <span class="hljs-comment">// å°† V-Table è°ƒç”¨ä¼˜åŒ–ä¸ºé™æ€è°ƒç”¨</span>
    shape.draw()
}

<span class="hljs-comment">// ä¼˜åŒ–åå¯èƒ½å˜ä¸ºï¼š</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">renderOptimized</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">shape</span>: <span class="hljs-type">Shape</span>) {
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> circle <span class="hljs-operator">=</span> shape <span class="hljs-keyword">as?</span> <span class="hljs-type">Circle</span> {
        <span class="hljs-comment">// é™æ€è°ƒç”¨ Circle.draw</span>
        circle.draw()
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å›é€€åˆ° V-Table</span>
        shape.draw()
    }
}
</code></pre>
<p>å†…è”ï¼ˆInliningï¼‰ï¼š
å°å‡½æ•°å¯èƒ½è¢«ç›´æ¥å†…è”åˆ°è°ƒç”¨å¤„ï¼Œå®Œå…¨æ¶ˆé™¤è°ƒåº¦å¼€é”€ã€‚</p>
<p>æ³›å‹ç‰¹åŒ–ï¼ˆGeneric Specializationï¼‰ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">process</span>&lt;<span class="hljs-type">T</span>: <span class="hljs-type">Drawable</span>&gt;(<span class="hljs-keyword">_</span> <span class="hljs-params">item</span>: <span class="hljs-type">T</span>) {
    item.draw()  <span class="hljs-comment">// å¯èƒ½ç‰¹åŒ–ä¸ºå…·ä½“ç±»å‹è°ƒç”¨</span>
}

<span class="hljs-comment">// è°ƒç”¨ç‚¹</span>
process(<span class="hljs-type">Circle</span>())  <span class="hljs-comment">// ç¼–è¯‘å™¨å¯èƒ½ç”Ÿæˆ process&lt;Circle&gt; ç‰¹åŒ–ç‰ˆæœ¬</span>
</code></pre>
<h2 data-id="heading-10">åº•å±‚åŸç†æ·±åº¦å‰–æ</h2>
<h3 data-id="heading-11">SILï¼ˆSwift Intermediate Languageï¼‰åˆ†æ</h3>
<p>SIL æ˜¯ Swift ç¼–è¯‘å™¨ä¼˜åŒ–çš„ä¸­é—´è¡¨ç¤ºï¼Œé€šè¿‡å®ƒå¯ä»¥æ¸…æ™°çœ‹åˆ°è°ƒåº¦æ–¹å¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”Ÿæˆ SIL æ–‡ä»¶</span>
swiftc -emit-sil MyFile.swift | xcrun swift-demangle &gt; output.sil

<span class="hljs-comment"># å…³é”®æ ‡è¯†ï¼š</span>
<span class="hljs-comment"># - function_ref: é™æ€æ´¾å‘</span>
<span class="hljs-comment"># - witness_method: Witness Table æ´¾å‘  </span>
<span class="hljs-comment"># - class_method: V-Table æ´¾å‘</span>
<span class="hljs-comment"># - objc_method: æ¶ˆæ¯è½¬å‘</span>
</code></pre>
<p>SIL ç¤ºä¾‹ç‰‡æ®µï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-comment">// é™æ€æ´¾å‘</span>
%<span class="hljs-number">8</span> = <span class="hljs-selector-tag">function_ref</span> @<span class="hljs-selector-tag">staticMethod</span> : $@<span class="hljs-selector-tag">convention</span>(method) (<span class="hljs-variable">@guaranteed</span> MyClass) <span class="hljs-selector-tag">-</span>&gt; ()
%<span class="hljs-number">9</span> = <span class="hljs-selector-tag">apply</span> %<span class="hljs-number">8</span>(%<span class="hljs-number">7</span>) : $@<span class="hljs-selector-tag">convention</span>(method) (<span class="hljs-variable">@guaranteed</span> MyClass) <span class="hljs-selector-tag">-</span>&gt; ()

<span class="hljs-comment">// V-Table æ´¾å‘</span>
%<span class="hljs-number">12</span> = <span class="hljs-selector-tag">class_method</span> %<span class="hljs-number">11</span> : $<span class="hljs-selector-tag">MyClass</span>, <span class="hljs-selector-id">#MyClass</span><span class="hljs-selector-class">.virtualMethod</span> : (MyClass) <span class="hljs-selector-tag">-</span>&gt; () <span class="hljs-selector-tag">-</span>&gt; (), $@<span class="hljs-selector-tag">convention</span>(method) (<span class="hljs-variable">@guaranteed</span> MyClass) <span class="hljs-selector-tag">-</span>&gt; ()
%<span class="hljs-number">13</span> = <span class="hljs-selector-tag">apply</span> %<span class="hljs-number">12</span>(%<span class="hljs-number">11</span>) : $@<span class="hljs-selector-tag">convention</span>(method) (<span class="hljs-variable">@guaranteed</span> MyClass) <span class="hljs-selector-tag">-</span>&gt; ()

<span class="hljs-comment">// Witness Table æ´¾å‘</span>
%<span class="hljs-number">15</span> = <span class="hljs-selector-tag">witness_method</span> $<span class="hljs-selector-tag">T</span>, <span class="hljs-selector-id">#Drawable</span><span class="hljs-selector-class">.draw</span> : &lt;<span class="hljs-selector-tag">Self</span> <span class="hljs-selector-tag">where</span> <span class="hljs-selector-tag">Self</span> : <span class="hljs-selector-tag">Drawable</span>&gt; (Self) <span class="hljs-selector-tag">-</span>&gt; () <span class="hljs-selector-tag">-</span>&gt; (), %<span class="hljs-number">14</span> : $@<span class="hljs-selector-tag">convention</span>(<span class="hljs-attribute">witness_method</span>: Drawable) &lt;Ï„<span class="hljs-selector-tag">_0_0</span>&gt; (<span class="hljs-variable">@in_guaranteed</span> Ï„_0_0) <span class="hljs-selector-tag">-</span>&gt; ()

<span class="hljs-comment">// æ¶ˆæ¯è½¬å‘</span>
%<span class="hljs-number">18</span> = <span class="hljs-selector-tag">objc_method</span> %<span class="hljs-number">17</span> : $<span class="hljs-selector-tag">Person</span>, <span class="hljs-selector-id">#Person</span><span class="hljs-selector-class">.dynamicMethod</span>!<span class="hljs-selector-tag">foreign</span> : (Person) <span class="hljs-selector-tag">-</span>&gt; () <span class="hljs-selector-tag">-</span>&gt; (), $@<span class="hljs-selector-tag">convention</span>(objc_method) (Person) <span class="hljs-selector-tag">-</span>&gt; ()
</code></pre>
<h3 data-id="heading-12">æ±‡ç¼–å±‚é¢åˆ†æ</h3>
<p>é€šè¿‡ Xcode çš„æ±‡ç¼–è°ƒè¯•å¯ä»¥éªŒè¯è°ƒåº¦æ–¹å¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯ç”¨æ±‡ç¼–è°ƒè¯•</span>
Debug -&gt; Debug Workflow -&gt; Always Show Disassembly
</code></pre>
<p>é™æ€æ´¾å‘æ±‡ç¼–ç‰¹å¾ï¼š</p>
<pre><code class="hljs language-assembly" lang="assembly"># ç›´æ¥è°ƒç”¨å›ºå®šåœ°å€
callq  0x100001a80 &lt;_MyClass_staticMethod&gt;
</code></pre>
<p>V-Table æ´¾å‘æ±‡ç¼–ç‰¹å¾ï¼š</p>
<pre><code class="hljs language-assembly" lang="assembly"># åŠ è½½ V-Tableï¼Œè®¡ç®—åç§»ï¼Œé—´æ¥è°ƒç”¨
movq   0x50(%rax), %rcx   # ä» V-Table è·å–å‡½æ•°æŒ‡é’ˆ
callq  *%rcx              # é—´æ¥è°ƒç”¨
</code></pre>
<p>æ¶ˆæ¯è½¬å‘æ±‡ç¼–ç‰¹å¾ï¼š</p>
<pre><code class="hljs language-assembly" lang="assembly"># è°ƒç”¨ objc_msgSend
leaq   0x1234(%rip), %rax # selector åœ°å€
movq   %rax, %rsi
callq  *_objc_msgSend@GOTPCREL
</code></pre>
<h3 data-id="heading-13">Mach-O æ–‡ä»¶ç»“æ„</h3>
<p>Mach-O å¯æ‰§è¡Œæ–‡ä»¶åŒ…å«æ–¹æ³•è°ƒç”¨çš„å…³é”®ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-strong">__TEXT.__</span>text      - ä»£ç æ®µï¼Œå­˜å‚¨å‡½æ•°å®ç°
<span class="hljs-strong">__DATA.__</span>la<span class="hljs-emphasis">_symbol_</span>ptr - æ‡’åŠ è½½ç¬¦å·æŒ‡é’ˆ
<span class="hljs-strong">__TEXT.__</span>stub<span class="hljs-emphasis">_helper   - æ¡©å‡½æ•°è¾…åŠ©
Symbol Table       - ç¬¦å·ä½ç½®ä¿¡æ¯
String Table       - ç¬¦å·åç§°å­—ç¬¦ä¸²
</span></code></pre>
<p>ç¬¦å·è§£ææµç¨‹ï¼š</p>
<ol>
<li>å‡½æ•°åœ°å€ â†’ ç¬¦å·è¡¨åç§»å€¼</li>
<li>ç¬¦å·è¡¨ â†’ å­—ç¬¦ä¸²è¡¨æŸ¥æ‰¾</li>
<li>è¿˜åŸ mangled åç§°ï¼š<code>xcrun swift-demangle &lt;symbol&gt;</code></li>
</ol>
<h2 data-id="heading-14">ç¼–è¯‘å™¨ä¼˜åŒ–ç­–ç•¥</h2>
<h3 data-id="heading-15">å…¨æ¨¡å—ä¼˜åŒ–ï¼ˆWMOï¼‰</h3>
<p>å¼€å¯ <code>-whole-module-optimization</code> åï¼Œç¼–è¯‘å™¨å¯ä»¥è·¨æ–‡ä»¶è¾¹ç•Œè¿›è¡Œä¼˜åŒ–ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// File1.swift</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">method</span>() { <span class="hljs-comment">/* ... */</span> }
}

<span class="hljs-comment">// File2.swift</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span>: <span class="hljs-title class_">Base</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">method</span>() { <span class="hljs-comment">/* ... */</span> }
}

<span class="hljs-keyword">func</span> <span class="hljs-title function_">useIt</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">b</span>: <span class="hljs-type">Base</span>) {
    b.method()  <span class="hljs-comment">// WMO å¯æ¨æ–­å®é™…ç±»å‹ï¼Œä¼˜åŒ–ä¸ºé™æ€è°ƒç”¨</span>
}
</code></pre>
<h3 data-id="heading-16">åŒ–è™šæ‹Ÿè°ƒç”¨ä¸ºé™æ€è°ƒç”¨</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Logger</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">log</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">message</span>: <span class="hljs-type">String</span>) { <span class="hljs-comment">/* ... */</span> }
}

<span class="hljs-keyword">func</span> <span class="hljs-title function_">process</span>(<span class="hljs-params">logger</span>: <span class="hljs-type">Logger</span>) {
    <span class="hljs-comment">// è‹¥ logger æœªè¢«é€ƒé€¸ï¼Œç¼–è¯‘å™¨å¯èƒ½ï¼š</span>
    <span class="hljs-comment">// 1. åœ¨æ ˆä¸Šåˆ†é…å…·ä½“ç±»å‹</span>
    <span class="hljs-comment">// 2. ç›´æ¥é™æ€è°ƒç”¨</span>
    logger.log(<span class="hljs-string">"Processing"</span>)
}
</code></pre>
<h3 data-id="heading-17">æ–¹æ³•å†…è”</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Math</span> {
    <span class="hljs-meta">@inline</span>(__always)  <span class="hljs-comment">// å¼ºåˆ¶å†…è”</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">add</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">a</span>: <span class="hljs-type">Int</span>, <span class="hljs-keyword">_</span> <span class="hljs-params">b</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span> {
        <span class="hljs-keyword">return</span> a <span class="hljs-operator">+</span> b
    }
}

<span class="hljs-comment">// è°ƒç”¨ç‚¹å¯èƒ½ç›´æ¥å˜ä¸ºï¼ša + b</span>
</code></pre>
<h3 data-id="heading-18">æ³›å‹ç‰¹åŒ–ä¸ witness æ–¹æ³•å†…è”</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">func</span> <span class="hljs-title function_">genericProcess</span>&lt;<span class="hljs-type">T</span>: <span class="hljs-type">Protocol</span>&gt;(<span class="hljs-keyword">_</span> <span class="hljs-params">value</span>: <span class="hljs-type">T</span>) {
    value.requiredMethod()  <span class="hljs-comment">// å¯èƒ½ç‰¹åŒ–ä¸ºå…·ä½“ç±»å‹è°ƒç”¨</span>
}

<span class="hljs-comment">// è°ƒç”¨ç‚¹</span>
genericProcess(<span class="hljs-type">ConcreteType</span>())  <span class="hljs-comment">// ç”Ÿæˆç‰¹åŒ–ç‰ˆæœ¬</span>
</code></pre>
<h2 data-id="heading-19">å®è·µå»ºè®®ä¸æ€§èƒ½è€ƒé‡</h2>
<h3 data-id="heading-20">ä½•æ—¶ä½¿ç”¨ final</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// æ¨èï¼šå½“ç±»ä¸éœ€è¦è¢«ç»§æ‰¿æ—¶</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheManager</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">loadData</span>() { <span class="hljs-comment">/* ... */</span> }
}

<span class="hljs-comment">// ä¸æ¨èï¼šè¿‡åº¦ä½¿ç”¨ final ä¼šé™åˆ¶çµæ´»æ€§</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseView</span> {
    <span class="hljs-comment">// é¢„æœŸä¼šè¢«é‡å†™</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">setupUI</span>() { <span class="hljs-comment">/* ... */</span> }
}
</code></pre>
<h3 data-id="heading-21">åè®®è®¾è®¡æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// åè®®è¦æ±‚ - Witness Table æ´¾å‘</span>
<span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Service</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">fetchData</span>() -&gt; <span class="hljs-type">Data</span>
}

<span class="hljs-comment">// é»˜è®¤å®ç° - é™æ€æ´¾å‘</span>
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">Service</span> {
    <span class="hljs-comment">// è¾…åŠ©æ–¹æ³•ï¼Œä¸æœŸæœ›è¢«é‡å†™</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">logRequest</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Request logged"</span>)
    }
}
</code></pre>
<h3 data-id="heading-22">NSObject å­ç±»çš„æƒè¡¡</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä»…å½“éœ€è¦ OC äº¤äº’æ—¶ä½¿ç”¨ NSObject</span>
<span class="hljs-keyword">@objc</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SwiftBridge</span>: <span class="hljs-title class_">NSObject</span> {
    <span class="hljs-comment">// æš´éœ²ç»™ OC çš„æ–¹æ³•</span>
    <span class="hljs-keyword">@objc</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">ocAccessible</span>() { <span class="hljs-comment">/* ... */</span> }
    
    <span class="hljs-comment">// Swift å†…éƒ¨ä½¿ç”¨ - é¿å… dynamic</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">swiftOnly</span>() { <span class="hljs-comment">/* ... */</span> }
}
</code></pre>
<h3 data-id="heading-23">æ€§èƒ½å…³é”®è·¯å¾„ä¼˜åŒ–</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// æ€§èƒ½æ•æ„Ÿä»£ç </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Renderer</span> {
    <span class="hljs-comment">// æ¯å¸§è°ƒç”¨ï¼Œä½¿ç”¨ final</span>
    <span class="hljs-keyword">final</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">renderFrame</span>() {
        <span class="hljs-comment">// å¤§é‡è®¡ç®—</span>
    }
    
    <span class="hljs-comment">// å¯é‡å†™çš„æ–¹æ³•</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">setup</span>() { <span class="hljs-comment">/* ... */</span> }
}
</code></pre>
<h2 data-id="heading-24">æ€»ç»“ä¸æ‰©å±•æ€è€ƒ</h2>
<p>æ ¸å¿ƒè¦ç‚¹æ€»ç»“</p>
<ol>
<li>é™æ€æ´¾å‘æ˜¯æ€§èƒ½é¦–é€‰ï¼šä¼˜å…ˆä½¿ç”¨ <code>final</code>ã€<code>private</code> å’Œå€¼ç±»å‹</li>
<li>åŠ¨æ€æ´¾å‘æ˜¯å¿…è¦çš„çµæ´»æ€§ï¼šä¸ºç»§æ‰¿å’Œå¤šæ€ä¿ç•™ V-Table</li>
<li>Witness Table æ˜¯åè®®çš„æ ¸å¿ƒï¼šç†è§£åè®®ç±»å‹çš„åŠ¨æ€è¡Œä¸º</li>
<li>æ¶ˆæ¯è½¬å‘æ˜¯ OC é—äº§ï¼šä»…åœ¨éœ€è¦æ—¶ä½¿ç”¨ï¼Œé¿å…æ»¥ç”¨ <code>dynamic</code></li>
<li>ç¼–è¯‘å™¨æ˜¯ä½ çš„ç›Ÿå‹ï¼šä¿¡ä»»å¹¶é…åˆç¼–è¯‘å™¨ä¼˜åŒ–</li>
</ol>
<p>æ‰©å±•åº”ç”¨åœºæ™¯</p>
<ol>
<li>é«˜æ€§èƒ½æ¡†æ¶è®¾è®¡</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// æ¸¸æˆå¼•æ“ä¸­çš„å®ä½“ç³»ç»Ÿ</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EntitySystem</span> {
    <span class="hljs-comment">// é™æ€æ´¾å‘ç¡®ä¿æ€§èƒ½</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">entities</span>: [<span class="hljs-type">Entity</span>]) {
        <span class="hljs-comment">// æ¯å¸§å¤§é‡è°ƒç”¨</span>
    }
}

<span class="hljs-comment">// å¯æ‰©å±•çš„ç»„ä»¶ç³»ç»Ÿ</span>
<span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Component</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">deltaTime</span>: <span class="hljs-type">TimeInterval</span>)
}

<span class="hljs-comment">//  Witness Table æ”¯æŒå¤šæ€</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">PhysicsComponent</span>: <span class="hljs-title class_">Component</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">deltaTime</span>: <span class="hljs-type">TimeInterval</span>) { <span class="hljs-comment">/* ... */</span> }
}
</code></pre>
<ol start="2">
<li>AOPï¼ˆé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼‰</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä½¿ç”¨ dynamic å®ç°æ—¥å¿—ã€ç›‘æ§</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">BusinessService</span>: <span class="hljs-title class_">NSObject</span> {
    <span class="hljs-keyword">@objc</span> <span class="hljs-keyword">dynamic</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">criticalMethod</span>() {
        <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
    }
}

<span class="hljs-comment">// è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ åˆ‡é¢</span>
<span class="hljs-keyword">extension</span> <span class="hljs-title class_">BusinessService</span> {
    <span class="hljs-meta">@_dynamicReplacement</span>(for: criticalMethod)
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">criticalMethod_withLogging</span>() {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"Before: <span class="hljs-subst">\(Date())</span>"</span>)
        criticalMethod()
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"After: <span class="hljs-subst">\(Date())</span>"</span>)
    }
}
</code></pre>
<ol start="3">
<li>æ’ä»¶åŒ–æ¶æ„</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä½¿ç”¨åè®®éš”ç¦»å®ç°</span>
<span class="hljs-keyword">protocol</span> <span class="hljs-title class_">Plugin</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">execute</span>()
}

<span class="hljs-comment">// ä¸»åº”ç”¨é€šè¿‡ Witness Table è°ƒç”¨æ’ä»¶</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PluginManager</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> plugins: [<span class="hljs-type">Plugin</span>] <span class="hljs-operator">=</span> []
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">loadPlugins</span>() {
        <span class="hljs-comment">// åŠ¨æ€åŠ è½½æ’ä»¶</span>
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">runAll</span>() {
        <span class="hljs-comment">// Witness Table æ´¾å‘</span>
        plugins.forEach { <span class="hljs-variable">$0</span>.execute() }
    }
}
</code></pre>
<ol start="4">
<li>å“åº”å¼ç¼–ç¨‹ä¼˜åŒ–</li>
</ol>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä½¿ç”¨ final æå‡ä¿¡å·å¤„ç†æ€§èƒ½</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Signal</span>&lt;<span class="hljs-title class_">T</span>&gt; {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> observers: [(<span class="hljs-type">T</span>) -&gt; <span class="hljs-type">Void</span>] <span class="hljs-operator">=</span> []
    
    <span class="hljs-comment">// é™æ€æ´¾å‘ç¡®ä¿è®¢é˜…æ€§èƒ½</span>
    <span class="hljs-keyword">final</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">subscribe</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">observer</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">T</span>) -&gt; <span class="hljs-type">Void</span>) {
        observers.append(observer)
    }
}
</code></pre>
<h2 data-id="heading-25">å­¦ä¹ èµ„æ–™</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.jacobstechtavern.com%2Fp%2Fswift-method-dispatch" target="_blank" title="https://blog.jacobstechtavern.com/p/swift-method-dispatch" ref="nofollow noopener noreferrer">blog.jacobstechtavern.com/p/swift-metâ€¦</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¶…çº§ç®€å•æ˜“ç”¨çš„å°çº¢ä¹¦MCPæœåŠ¡]]></title>    <link>https://juejin.cn/post/7602474148095541300</link>    <guid>https://juejin.cn/post/7602474148095541300</guid>    <pubDate>2026-02-04T03:57:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602474148095541300" data-draft-id="7602158221852147727" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¶…çº§ç®€å•æ˜“ç”¨çš„å°çº¢ä¹¦MCPæœåŠ¡"/> <meta itemprop="keywords" content="MCP"/> <meta itemprop="datePublished" content="2026-02-04T03:57:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="MrMao007"/> <meta itemprop="url" content="https://juejin.cn/user/2895461216699196"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¶…çº§ç®€å•æ˜“ç”¨çš„å°çº¢ä¹¦MCPæœåŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2895461216699196/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    MrMao007
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:57:30.000Z" title="Wed Feb 04 2026 03:57:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb11c382fe21426bac890057b9805825~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTXJNYW8wMDc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770782329&amp;x-signature=6MeoazrllBE18hQI6wBzkUveUW4%3D" alt="logo.png" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMrMao007%2FRedNote-MCP-Plus" target="_blank" title="https://github.com/MrMao007/RedNote-MCP-Plus" ref="nofollow noopener noreferrer">GitHub é¡¹ç›®åœ°å€</a></p>
<h2 data-id="heading-0">é¡¹ç›®ç®€ä»‹</h2>
<p><strong>RedNote-MCP-Plus</strong> æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„å°çº¢ä¹¦è‡ªåŠ¨åŒ–å·¥å…·é›†ï¼ŒåŸºäº MCPï¼ˆModel Context Protocolï¼‰æ¡†æ¶å¼€å‘ï¼Œæ—¨åœ¨ç®€åŒ–å°çº¢ä¹¦çš„å†…å®¹ç®¡ç†å’Œæ•°æ®æ“ä½œã€‚æ— è®ºæ˜¯è‡ªåŠ¨åŒ–è´¦å·è¿è¥è¿˜æ˜¯æ•°æ®çˆ¬å–ï¼Œè¯¥å·¥å…·é›†éƒ½èƒ½æä¾›é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-1">æ ¸å¿ƒåŠŸèƒ½</h2>
<h3 data-id="heading-2">1. è‡ªåŠ¨åŒ–äº’åŠ¨å·¥å…·</h3>
<ul>
<li><strong>ç‚¹èµ</strong>ï¼šä¸€é”®ç‚¹èµä»»æ„ç¬”è®°ã€‚</li>
<li><strong>æ”¶è—</strong>ï¼šå¿«é€Ÿæ”¶è—ç¬”è®°ã€‚</li>
<li><strong>è¯„è®º</strong>ï¼šè‡ªåŠ¨å‘å¸ƒè¯„è®ºã€‚</li>
<li><strong>å…³æ³¨</strong>ï¼šå…³æ³¨æŒ‡å®šç”¨æˆ·ã€‚</li>
<li><strong>å‘å¸ƒç¬”è®°</strong>ï¼šæ”¯æŒå‘å¸ƒå›¾æ–‡ç¬”è®°ï¼ŒåŒ…å«æ ‡é¢˜ã€å†…å®¹ã€æ ‡ç­¾å’Œå›¾ç‰‡ã€‚</li>
</ul>
<h3 data-id="heading-3">2. è‡ªåŠ¨åŒ–çˆ¬è™«å·¥å…·</h3>
<ul>
<li><strong>æœç´¢ç¬”è®°</strong>ï¼šé€šè¿‡å…³é”®è¯æœç´¢ç¬”è®°ï¼Œå¹¶æ”¯æŒå¯¼å‡ºä¸º Markdown æ ¼å¼ã€‚</li>
<li><strong>ç¬”è®°å†…å®¹çˆ¬å–</strong>ï¼šè·å–ç¬”è®°çš„æ ‡é¢˜ã€ä½œè€…ã€æ­£æ–‡ã€æ ‡ç­¾ã€äº’åŠ¨æ•°æ®ç­‰ã€‚</li>
<li><strong>ç”¨æˆ·æ•°æ®çˆ¬å–</strong>ï¼šæå–ç”¨æˆ·çš„æ˜µç§°ã€ç®€ä»‹ã€æ ‡ç­¾å’Œäº’åŠ¨ä¿¡æ¯ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">æŠ€æœ¯æ¶æ„</h2>
<h3 data-id="heading-5">æ ¸å¿ƒæŠ€æœ¯æ ˆ</h3>
<ul>
<li><strong>Python</strong>ï¼šä¸»è¦å¼€å‘è¯­è¨€ã€‚</li>
<li><strong>Playwright</strong>ï¼šç”¨äºæµè§ˆå™¨è‡ªåŠ¨åŒ–æ“ä½œã€‚</li>
<li><strong>MCP æ¡†æ¶</strong>ï¼šæä¾›å·¥å…·æ³¨å†Œå’ŒæœåŠ¡è¿è¡Œæ”¯æŒã€‚</li>
<li><strong>Asyncio</strong>ï¼šå®ç°å¼‚æ­¥æ“ä½œï¼Œæå‡æ€§èƒ½ã€‚</li>
</ul>
<h3 data-id="heading-6">é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-perl" lang="perl">src/
â”œâ”€â”€ auth/                <span class="hljs-comment"># ç™»å½•ç›¸å…³æ¨¡å—</span>
â”œâ”€â”€ <span class="hljs-keyword">read</span>/                <span class="hljs-comment"># æ•°æ®çˆ¬å–æ¨¡å—</span>
â”œâ”€â”€ <span class="hljs-keyword">write</span>/               <span class="hljs-comment"># äº’åŠ¨ä¸å‘å¸ƒæ¨¡å—</span>
â”œâ”€â”€ static/              <span class="hljs-comment"># é™æ€èµ„æº</span>
â””â”€â”€ server.py            <span class="hljs-comment"># MCP æœåŠ¡å…¥å£</span>
</code></pre>
<h3 data-id="heading-7">å·¥å…·æ³¨å†Œ</h3>
<p>æ‰€æœ‰å·¥å…·é€šè¿‡ MCP æ¡†æ¶æ³¨å†Œï¼Œæ”¯æŒæ ‡å‡†åŒ–è°ƒç”¨ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">likeNote</span>():
    <span class="hljs-comment"># ç‚¹èµåŠŸèƒ½å®ç°</span>
</code></pre>
<hr/>
<h2 data-id="heading-8">å¿«é€Ÿå¼€å§‹</h2>
<h3 data-id="heading-9">ç¯å¢ƒé…ç½®</h3>
<ol>
<li>
<p>å®‰è£…ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">brew install uv
pip install playwright
playwright install
brew install node
</code></pre>
</li>
<li>
<p>å®‰è£…å·¥å…·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">uv tool install rednote_mcp_plus
</code></pre>
</li>
</ol>
<h3 data-id="heading-10">å¯åŠ¨æœåŠ¡</h3>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ MCP æœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx @modelcontextprotocol/inspector uvx rednote_mcp_plus
</code></pre>
<h3 data-id="heading-11">ç™»å½•å°çº¢ä¹¦</h3>
<p>åœ¨ä½¿ç”¨å…¶ä»–å·¥å…·å‰ï¼Œéœ€å…ˆé€šè¿‡ <code>manualLogin</code> å·¥å…·ç™»å½•å°çº¢ä¹¦ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">await</span> manualLogin()
</code></pre>
<hr/>
<h2 data-id="heading-12">ç¤ºä¾‹æ•ˆæœ</h2>
<h3 data-id="heading-13">å·¥å…·åˆ—è¡¨</h3>
<p>å¯åŠ¨æœåŠ¡åï¼Œæ‚¨å°†çœ‹åˆ°ä»¥ä¸‹å·¥å…·åˆ—è¡¨ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8991e4ad906446f80ef6616263e2e29~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTXJNYW8wMDc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770782329&amp;x-signature=%2FrJvAO4JXCLy02XEkeLPyVlGPEo%3D" alt="mcp_tools.png" loading="lazy"/></p>
<h3 data-id="heading-14">çˆ¬å–ç¬”è®°å†…å®¹</h3>
<p>ä»¥ä¸‹æ˜¯çˆ¬å–ç¬”è®°å†…å®¹çš„ç¤ºä¾‹ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/429e42f40165496c88ff30b2090bc465~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTXJNYW8wMDc=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770782329&amp;x-signature=c%2F%2BQkZ6FguMseCzp51BvoIPgUas%3D" alt="note.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-15">é¡¹ç›®äº®ç‚¹</h2>
<ol>
<li><strong>æ¨¡å—åŒ–è®¾è®¡</strong>ï¼šæ¯ä¸ªåŠŸèƒ½æ¨¡å—ç‹¬ç«‹ï¼Œä¾¿äºæ‰©å±•å’Œç»´æŠ¤ã€‚</li>
<li><strong>å¼‚æ­¥æ“ä½œ</strong>ï¼šé€šè¿‡ <code>asyncio</code> æå‡æ€§èƒ½ï¼Œæ”¯æŒé«˜å¹¶å‘ã€‚</li>
<li><strong>Markdown å¯¼å‡º</strong>ï¼šçˆ¬å–çš„æ•°æ®å¯ç›´æ¥ä¿å­˜ä¸º Markdown æ ¼å¼ï¼Œä¾¿äºåˆ†äº«å’Œå­˜æ¡£ã€‚</li>
<li><strong>å¼€ç®±å³ç”¨</strong>ï¼šæ— éœ€å¤æ‚é…ç½®ï¼Œå®‰è£…åå³å¯ä½¿ç”¨ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-16">æœªæ¥è®¡åˆ’</h2>
<ul>
<li>å¢åŠ æ›´å¤šäº’åŠ¨åŠŸèƒ½ï¼Œå¦‚ç§ä¿¡ã€ç¾¤ç»„ç®¡ç†ç­‰ã€‚</li>
<li>æä¾›æ›´è¯¦ç»†çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•ã€‚</li>
<li>æ”¯æŒæ›´å¤šå¹³å°çš„è‡ªåŠ¨åŒ–æ“ä½œã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-17">å¼€æºåè®®</h2>
<p>æœ¬é¡¹ç›®åŸºäº <a href="https://link.juejin.cn?target=LICENSE" target="_blank" title="LICENSE" ref="nofollow noopener noreferrer">MIT License</a> å¼€æºï¼Œæ¬¢è¿è´¡çŒ®ä»£ç æˆ–æå‡ºå»ºè®®ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å°ç±³ HyperOS 4 å¤§å˜æ ·ï¼Ÿæ ¸å¿ƒåº”ç”¨ä»¥ Rust / Flutter é‡å†™ï¼Œä¸å…¼å®¹è€ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7602512064977207359</link>    <guid>https://juejin.cn/post/7602512064977207359</guid>    <pubDate>2026-02-04T04:29:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602512064977207359" data-draft-id="7602512064977190975" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å°ç±³ HyperOS 4 å¤§å˜æ ·ï¼Ÿæ ¸å¿ƒåº”ç”¨ä»¥ Rust / Flutter é‡å†™ï¼Œä¸å…¼å®¹è€ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Flutter,Android"/> <meta itemprop="datePublished" content="2026-02-04T04:29:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹çŒ«deå°éƒ­"/> <meta itemprop="url" content="https://juejin.cn/user/817692379985752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å°ç±³ HyperOS 4 å¤§å˜æ ·ï¼Ÿæ ¸å¿ƒåº”ç”¨ä»¥ Rust / Flutter é‡å†™ï¼Œä¸å…¼å®¹è€ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/817692379985752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹çŒ«deå°éƒ­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T04:29:58.000Z" title="Wed Feb 04 2026 04:29:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»Šæ—¥ï¼Œxiaomi time å‘å¸ƒäº†ç›¸å…³è¡¨ç¤ºï¼Œ<strong>HyperOS 4 å°†æ˜¯å°ç±³å†å²ä¸Šæœ€ç¨³å®šçš„æ›´æ–°</strong>ï¼Œå½“ç„¶è¿™ä¸æ˜¯é‡ç‚¹ï¼Œé‡ç‚¹æ˜¯æ ¹æ®è¿‘æœŸ HyperOS 3.1 ç‰ˆæœ¬ï¼Œå¯ä»¥çœ‹åˆ°å¯¹åº”çš„åº”ç”¨æ¶æ„å‡ºç°äº†å˜åŒ–ï¼Œå°ç±³æ­£åœ¨åˆ†é˜¶æ®µå¼ƒç”¨å¯¹åº”çš„æ—§ç‰ˆä»£ç æ¶æ„ï¼Œä¾‹å¦‚ï¼š</p>
<blockquote>
<p>HyperOS 3.1 å¼€å§‹ç§»é™¤éƒ¨åˆ†ç³»ç»Ÿæ¨¡å—ï¼ˆç‰¹åˆ«æ˜¯å¤©æ°”å’Œå›¾åº“ï¼‰ä¸­çš„ <code>MIUI SDK</code> ã€‚</p>
</blockquote>
<p>ä»¥ HyperOS 3.1 ä½œä¸ºè¿‡æ¸¡ç‰ˆæœ¬ï¼Œé€šè¿‡å¼•å…¥äº†åŸç”Ÿ <code>HyperOS SDK</code> ä»¥åŠå·²å¼ƒç”¨çš„ <code>MIUI SDK</code> ï¼Œæœªæ¥ HyperOS 4 é¢„è®¡å°†é€šè¿‡å½»åº•ç§»é™¤å‘åå…¼å®¹å±‚æ¥å®Œæˆè¿™ä¸€è¿ç§»ã€‚</p>
<blockquote>
<p>è¿™ä¸€è½¬å˜é¢„è®¡å¯ä»¥æ¶ˆé™¤åå¤šå¹´æ¥å†—ä½™çš„å‡½æ•°è°ƒç”¨å’Œæœªä¼˜åŒ–çš„ä¾èµ–é“¾ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82cc8a0de3c1486b83044c083eb3c34c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784212&amp;x-signature=cHNH%2BViYs%2F594Q7aiz3sLbLPTWo%3D" alt="image-20260204121849635" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œæœ€æœ‰æ„æ€çš„è¿˜æ˜¯ï¼Œé’ˆå¯¹ç³»ç»Ÿæ ¸å¿ƒåº”ç”¨ï¼Œ<strong>HyperOS å·²ç»åœ¨ä½¿ç”¨ Flutter å’Œ Rust é‡å†™ï¼Œç›®å‰å·²åœ¨ HyperOS 3.1 ä¸­è¿›è¡Œè¯•ç‚¹</strong> ï¼ŒæŒ‰ç…§å®ƒçš„è¯´æ³•ï¼š</p>
<blockquote>
<p>HyperOS 4 æ—¨åœ¨ç»Ÿä¸€ç³»ç»Ÿåˆ†åŒºå†…çš„ UI æ¸²æŸ“å’Œé€»è¾‘ç¨³å®šæ€§ï¼Œä»è€Œå–ä»£ä¹‹å‰ MIUI ç‰ˆæœ¬ä¸­ç¢ç‰‡åŒ–çš„ Java/Kotlin é—ç•™æ¶æ„ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/327855b295de4b4cbae7c4c94c348874~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784212&amp;x-signature=tRXd7nFdWfHEI15bz%2BtSaCN6QjY%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œè¿™ç®—æ˜¯ä¸€ä¸ªå¤§çš„ break change ï¼Œä» HyperOS 3.1 å¼€å§‹ï¼ŒåŸºäº Flutter çš„åº”ç”¨ä¼šæ‰“ç ´ä¹‹å‰æ—§ç³»ç»Ÿå¯ä»¥å‡çº§æ–°ç³»ç»Ÿåº”ç”¨çš„æƒ…å†µï¼Œå› ä¸ºæ–°çš„ HyperOS 4 Flutter åº”ç”¨ä¼šæ— æ³•åœ¨ HyperOS 3 åŠæ›´æ—©ç‰ˆæœ¬ä¸Šè¿è¡Œã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼Œè¿™é‡Œè¯´çš„æ˜¯ç”¨æ¥çš„æ–° Hyper SDK çš„ç³»ç»Ÿæ ¸å¿ƒåº”ç”¨ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a0d52c82ee741e5a8046e7e4059d82e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784212&amp;x-signature=H8jsSTrBEHXzo9gK79sJbumVAvQ%3D" alt="" loading="lazy"/></p>
<p>å…¶å®å¯¹æ¯”æ–°æ—§çš„ç›¸å†Œåº”ç”¨ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œå›¾ä¸€æ˜¯ 4.x ç‰ˆæœ¬ï¼Œ è€Œå›¾è€Œæ˜¯ 5.0-R çš„ç‰ˆæœ¬ï¼Œæ–°ç‰ˆæœ¬åœ¨ libchecker ä¸‹å·²ç»çœ‹ä¸åˆ°ç›¸åº”çš„ Kotlin ä¿¡æ¯äº†ï¼Œç”šè‡³æ²¡æœ‰äº†å¯¹åº”çš„ dex ç›®å½•ï¼Œåªæœ‰åŸç”ŸåŠ¨æ€åº“ ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05dc413bd67c4a6491b166afbaecc074~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oGL54yrZGXlsI_pg60=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784212&amp;x-signature=h5DR238eJNWN%2FHlxL9w06CfSo5w%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œxiaomi time ä¹Ÿè¡¨ç¤ºï¼Œæ——èˆ°çº§æœºå‹åœ¨ HyperOS 4 ä¸Šæ€§èƒ½æå‡å¹…åº¦æœ‰é™ï¼Œç›¸åå…¥é—¨çº§å’Œä¸­ç«¯è®¾å¤‡åè€Œå¯èƒ½è·å¾—æ›´æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼Œå› ä¸ºæŠ€æœ¯å€ºåŠ¡çš„æ¶ˆé™¤ï¼Œä¹Ÿå¯ä»¥èŠ‚çœæ›´å¤šçš„ç©ºé—´ã€‚</p>
<p>å½“ç„¶ï¼Œä¹Ÿæœ‰äººçŒœæµ‹è¿™ä¸ªæ“ä½œæ˜¯ä¸ºäº†æå‰å¸ƒå±€ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>å°ç±³æœ‰å¾ˆå¤šä¸åŒå¹³å°çš„äº§å“ï¼Œç”¨ flutter å¯ä»¥åšåˆ°ä¸åŒå¹³å°çš„äº§å“ä¹Ÿå¯ä»¥è·¨å¹³å°ï¼Œä¹Ÿå°±æ˜¯æ ¸å¿ƒç³»ç»Ÿåº”ç”¨æœªæ¥æœ‰å¯èƒ½å‡ºç°åœ¨å…¶ä»–å¹³å°ä¸Šï¼Œæ¯”å¦‚æ±½è½¦ï¼Œçœ¼é•œç­‰</li>
</ul>

<ul>
<li>å°ç±³æ‰“ç®—èµ°å’Œåä¸ºä¸€æ ·çš„è·¯çº¿ï¼Œåä¸ºæ—©æœŸä¹Ÿæ˜¯é€šè¿‡ flutter åš UI å±‚å…¼å®¹æŠ½è±¡ï¼Œé€šè¿‡ flutter ï¼Œå¦‚æœåç»­å°ç±³æœ‰ç‹¬ç«‹ç³»ç»Ÿå‘å¸ƒï¼Œåº”ç”¨æ”¯æŒå¯ä»¥æ›´æ–¹ä¾¿ç›´æ¥iè¿ç§»ï¼Œ å› ä¸º flutter åªéœ€è¦é€‚é…åµŒå…¥å±‚å’Œ vulkan å°±å¯ä»¥æ— ç¼é€‚é…</li>
</ul>
<p>ä¸è¿‡è¿™äº›éƒ½åªæ˜¯çŒœæµ‹ï¼Œè€Œä»ç›®å‰çš„æƒ…å†µæ¥çœ‹ï¼Œè¿™ä¸ªå†³ç­–åº”è¯¥æ˜¯çœŸçš„ï¼Œåªæ˜¯å¸¦æ¥çš„å½±å“å¦‚ä½•ï¼Œåªèƒ½ç­‰å®˜æ–¹æ­£å¼å‘å¸ƒåçœ‹çœ‹äº†ã€‚</p>
<h2 data-id="heading-0">å‚è€ƒé“¾æ¥</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fxiaomitime.com%2Fwhy-hyperos-4-will-be-the-most-stable-update-in-xiaomi-history-88033%2F" target="_blank" title="https://xiaomitime.com/why-hyperos-4-will-be-the-most-stable-update-in-xiaomi-history-88033/" ref="nofollow noopener noreferrer">xiaomitime.com/why-hyperosâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘æ„å»ºäº†ä¸€ä¸ªç½‘ç«™æ¥å¸®åŠ©ä½ å­¦ä¹ ç¼–ç¨‹]]></title>    <link>https://juejin.cn/post/7602555027303268392</link>    <guid>https://juejin.cn/post/7602555027303268392</guid>    <pubDate>2026-02-04T04:50:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602555027303268392" data-draft-id="7602474148095655988" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘æ„å»ºäº†ä¸€ä¸ªç½‘ç«™æ¥å¸®åŠ©ä½ å­¦ä¹ ç¼–ç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2026-02-04T04:50:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€å‘è€…å¦‚æ˜¯è¯´"/> <meta itemprop="url" content="https://juejin.cn/user/3685218704691469"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘æ„å»ºäº†ä¸€ä¸ªç½‘ç«™æ¥å¸®åŠ©ä½ å­¦ä¹ ç¼–ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3685218704691469/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€å‘è€…å¦‚æ˜¯è¯´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T04:50:35.000Z" title="Wed Feb 04 2026 04:50:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1ã€â€œæ–°å¸¸æ€â€ä¹‹ä¸‹çš„ç¼–ç¨‹å­¦ä¹ æ–¹å¼</h2>
<p>AI æ”¹å˜äº†ç¼–ç¨‹ã€‚éšç€ AI è¾…åŠ©ç¼–ç¨‹å·¥å…·çš„å…´èµ·ï¼Œåœ¨ AI æ—¶ä»£æˆ‘ä»¬æ˜¯å¦ä»æœ‰å¿…è¦å­¦ä¹ ç¼–ç¨‹å‘¢ï¼Ÿå½“ç„¶å­¦ä¹ ç¼–ç¨‹æ˜¯æœ‰å¿…è¦çš„ï¼Œä¸è¿‡å­¦ä¹ çš„æ–¹å¼å’Œä¾§é‡ç‚¹æœ‰æ‰€è°ƒæ•´ã€‚</p>
<p>å­¦ä¹ ç¼–ç¨‹ä¸åœ¨æ˜¯è¿‡å»é‚£æ ·å»è®°å¿†å„ç§ APIï¼Œè€Œæ˜¯ä»æ•´ä½“å»ç†è§£æŠ€æœ¯çš„è¾¹ç•Œã€å±€é™æ€§å’Œä¼˜ç¼ºç‚¹ã€‚å› ä¸ºï¼Œæˆ‘ä»¬ä¸å†éœ€è¦åƒè¿‡å»é‚£æ ·æ‰‹å†™ç¼–ç¨‹ï¼Œè€Œæ˜¯å»æŠŠç¼–ç¨‹çš„ä»»åŠ¡äº¤ç»™ AIï¼Œæˆ‘ä»¬è‡ªå·±å»åšå†³ç­–å’Œå…œåº•ã€‚</p>
<p>å¦å¤–ï¼Œå­¦ä¹ ç¼–ç¨‹ä¸å†åƒè¿‡å»é‚£æ ·é€šè¿‡é˜…è¯»ä¹¦ç±è¢«åŠ¨åœ°å»æ¥å—çŸ¥è¯†ï¼Œè€Œæ˜¯é€šè¿‡è¯¢é—® AI çš„æ–¹å¼ä¸»åŠ¨å¯¹çŸ¥è¯†è¿›è¡Œæ¢ç´¢ï¼Œç„¶åä»¥æ­¤ä¸ºåŸºç¡€æ­å»ºè‡ªå·±çš„çŸ¥è¯†ç»“æ„ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Failecode.com" target="_blank" title="https://ailecode.com" ref="nofollow noopener noreferrer">(ailecode.com)</a> å°±æ˜¯åœ¨è¿™ç§â€œæ–°å¸¸æ€â€ä¹‹ä¸‹åº”è¿è€Œç”Ÿçš„ç¼–ç¨‹å­¦ä¹ ç½‘ç«™ã€‚</p>
<p>é‚£ä¹ˆï¼Œè¯¥ç½‘ç«™æ˜¯å¦‚ä½•å¸®åŠ©ä½ å­¦ä¹ æŠ€æœ¯çš„å‘¢ï¼Ÿ</p>
<h2 data-id="heading-1">2ã€â€œçˆ±ä¹æ‰£â€å¦‚ä½•å¸®åŠ©ä½ å­¦ä¹ ç¼–ç¨‹</h2>
<p><strong>é¦–å…ˆï¼Œæˆ‘ä»¬æ•´ç†äº† 15+ æŠ€æœ¯å­¦ä¹ è·¯çº¿ï¼Œç›´æ¥å¯¹åº”ä¸åŒçš„èŒä¸š</strong>ï¼Œæ¯”å¦‚å‰ç«¯å¼€å‘ã€åç«¯å¼€å‘ã€ç§»åŠ¨ç«¯å¼€å‘ç­‰ã€‚ä½ å¯ä»¥ç›´æ¥å°†è¿™äº›é¢„å®šä¹‰è·¯çº¿åŠ å…¥åˆ°å­¦ä¹ è®¡åˆ’ä¸­ï¼Œç„¶åï¼Œå¯ä»¥æ ¹æ®è‡ªèº«çš„æƒ…å†µå¯¹å­¦ä¹ è®¡åˆ’è¿›è¡Œè°ƒæ•´â€”â€”å¢åŠ æˆ–è€…åˆ é™¤æŸäº›è¯¾ç¨‹ã€‚æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥ä¸ºè¯¾ç¨‹è®¾ç½®å­¦ä¹ çš„æ—¶é—´ï¼Œå¹¶ä¿®æ”¹å­¦ä¹ çš„è¿›åº¦ï¼Œè¿™èµ‹äºˆäº†å­¦ä¹ è·¯çº¿â€œç›‘ç£â€çš„åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©ä½ æŒ‰ç…§è®¡åˆ’è¿›è¡Œå­¦ä¹ ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e086eb4130bd4257a3c5eeec6522da53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5Y-R6ICF5aaC5piv6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770785434&amp;x-signature=rRXY62wnGt%2BeDYTuO5RDcWMv9hs%3D" alt="Screenshot 2026-01-20 at 09.35.16.png" loading="lazy"/></p>
<p><strong>æ­¤å¤–ï¼Œè‡ªå·±ä¸»åŠ¨è¯¢é—® AI çš„æ–¹å¼å­¦ä¹ å­˜åœ¨ä¸€äº›é—®é¢˜ã€‚</strong> å› ä¸ºå½“ä½ è¿˜æœªå­¦ä¹ æŸä¸ªçŸ¥è¯†ï¼Œä½ å¯èƒ½å¾ˆéš¾å°±æŸä¸ªé—®é¢˜å¯¹ AI è¿›è¡Œå‘é—®ã€‚æ­¤å¤–ï¼Œæé—®çš„é—®é¢˜å¾ˆéš¾ä¿è¯ä¸ä¼šé—æ¼æŸäº›é‡è¦çš„çŸ¥è¯†ç‚¹ã€‚è¿˜æœ‰ï¼Œå½“ä½ æƒ³è¦æŒ‰ç…§æŸä¸ªè·¯çº¿è¿›è¡Œå­¦ä¹ ï¼Œæ‰€éœ€è¦çš„æç¤ºè¯çš„æ•°é‡æ˜¯å·¨å¤§çš„ï¼Œæ¯”å¦‚ä¸€é—¨æŠ€æœ¯è¯­è¨€å°±éœ€è¦ 50+ æç¤ºè¯ï¼Œæ•´ä¸ªå­¦ä¹ è·¯çº¿æœ‰ 20+ è¯¾ç¨‹ï¼Œå› æ­¤ï¼Œæç¤ºè¯çš„æ€»é‡å°†è¾¾åˆ° 1000+.</p>
<p><strong>â€œçˆ±ä¹æ‰£â€ åœ¨å¼€å‘æ–‡æ¡£çš„è¿‡ç¨‹ä¸­å¯¹æç¤ºè¯è¿›è¡Œäº†ä¼˜åŒ–ã€‚</strong> æˆ‘ä»¬è¿ç”¨ç±»æ¯”å’Œå½’çº³ç­‰æ–¹æ³•å¯¹æç¤ºè¯è¿›è¡Œäº†ä¼˜åŒ–ï¼Œè¿™ä¸ä»…å¯ä»¥é¿å…åˆå­¦è€…é—æ¼é‡ç‚¹çš„é—®é¢˜ï¼Œè¿˜å¯ä»¥å¸®åŠ©æœ¬èº«å°±å…·å¤‡æŸä¸ªæŠ€æœ¯ç»éªŒçš„äººï¼ŒæŠŠè¿‡å»ç¼–ç¨‹çš„å­¦ä¹ ç»éªŒæ–¹ä¾¿åœ°è¿ç§»åˆ°æ–°çš„çŸ¥è¯†é¢†åŸŸã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å†ä¼˜åŒ–çš„æç¤ºè¯çš„åŸºç¡€ä¹‹ä¸Šç”Ÿæˆäº†æµ·é‡çš„æŠ€æœ¯æ–‡æ¡£ï¼Œ<strong>è¯¥ç½‘ç«™ç›®å‰åŒ…å« 140+ æ•™ç¨‹ï¼Œæ¶µç›–äº†è®¡ç®—æœºé¢†åŸŸçš„å¾ˆå¤šè¯­è¨€ã€æ¡†æ¶ã€å·¥å…·ã€ç†è®ºå’ŒåŸºç¡€è®¾æ–½ç­‰ç›¸å…³çš„æ•™ç¨‹ã€‚æ–‡æ¡£æ€»é‡åœ¨ 10,000+ï¼Œå­—ç¬¦æ€»æ•°è¾¾ 76,000,000ï¼Œå‡ ä¹å¯ä»¥æ»¡è¶³ä½ çš„ä¸€åˆ‡æŠ€æœ¯å­¦ä¹ éœ€æ±‚ã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f60d917dc8a4e5d911d9642572ea4d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5Y-R6ICF5aaC5piv6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770785434&amp;x-signature=8GqqQnGBvukXSped9Hm60afG4PA%3D" alt="Screenshot 2026-01-20 at 09.34.56.png" loading="lazy"/></p>
<h2 data-id="heading-2">3ã€â€œçˆ±ä¹æ‰£â€ï¼šæœªæ¥çš„ç¼–ç¨‹å­¦ä¹ æ–¹æ¡ˆ</h2>
<p>AI æ·±åˆ»åœ°æ”¹å˜äº†æˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­çš„è®¸å¤šè¡Œä¸ºï¼Œç‰¹åˆ«æ˜¯å­¦ä¹ è¡Œä¸ºã€‚æˆ‘æ­å»ºè¯¥ç½‘ç«™çš„ç›®çš„åœ¨äºï¼Œé€šè¿‡ AI çš„æ–¹å¼å¸®åŠ©ä»»ä½•æƒ³è¦å­¦ä¹ ç¼–ç¨‹çš„äººæ›´å¿«é€Ÿåœ°æŒæ¡ç¼–ç¨‹çŸ¥è¯†ï¼›åŒæ—¶ï¼Œå¸®åŠ©ç¨‹åºå‘˜åœ¨ AI æ—¶ä»£å®ç°èŒä¸šå‘å±•è·¯çº¿çš„è½¬å‹ã€‚</p>
<p>è¯¥ç½‘ç«™ç›®å‰å¤„äºç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼Œæœªæ¥æˆ‘ä¼šç»“åˆ AI å¼€å‘æ›´å¤šä¸ªæ€§åŒ–çš„å­¦ä¹ åŠŸèƒ½ï¼Œå¦‚æœä½ æœ‰ä»»ä½•æƒ³æ³•å’Œå»ºè®®å¯ä»¥ä¸æˆ‘è”ç³» ğŸ˜‰ ï½</p>
<h2 data-id="heading-3">ç½‘å€</h2>
<p>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Failecode.com" target="_blank" title="https://ailecode.com" ref="nofollow noopener noreferrer">ailecode.com</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ˜¥èŠ‚è¿ç»´ä¸æ–­çº¿ï¼šåœ¨å®¶è¿œç¨‹å·¥å…·ä½¿ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7602474148095639604</link>    <guid>https://juejin.cn/post/7602474148095639604</guid>    <pubDate>2026-02-04T04:35:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602474148095639604" data-draft-id="7602488187408531508" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ˜¥èŠ‚è¿ç»´ä¸æ–­çº¿ï¼šåœ¨å®¶è¿œç¨‹å·¥å…·ä½¿ç”¨æŒ‡å— "/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T04:35:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ZeroNewså†…ç½‘ç©¿é€"/> <meta itemprop="url" content="https://juejin.cn/user/1933419482984676"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ˜¥èŠ‚è¿ç»´ä¸æ–­çº¿ï¼šåœ¨å®¶è¿œç¨‹å·¥å…·ä½¿ç”¨æŒ‡å— 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1933419482984676/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ZeroNewså†…ç½‘ç©¿é€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T04:35:47.000Z" title="Wed Feb 04 2026 04:35:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ è¿œç¨‹SSHå·¥å…·</h2>
<p>SSHï¼ˆSecure Shellï¼‰æ˜¯è¿œç¨‹å®‰å…¨è®¿é—®å’Œç®¡ç†ç³»ç»Ÿçš„æ ¸å¿ƒå·¥å…·ã€‚ä¸‹é¢è¿™ä¸ªè¡¨æ ¼æ±‡æ€»äº†å‡ æ¬¾å¸¸è§SSHå·¥å…·çš„ä¸»è¦ç‰¹ç‚¹ï¼Œæ–¹ä¾¿ä½ å¿«é€Ÿäº†è§£ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d71fdc7b17744b5b9887ffa5d1e0978~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=lgEYsn93HgD7XTfYarj0eOg97sI%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>**æç¤ºï¼š**ä»¥ä¸Šå·¥å…·é€šå¸¸åœ¨å±€åŸŸç½‘å†…ç›´æ¥ä½¿ç”¨ã€‚è‹¥éœ€ä» <strong>å¼‚åœ°ï¼ˆå¦‚å›å®¶è¿‡å¹´æ—¶ï¼‰è®¿é—®å…¬å¸æˆ–å®¶ä¸­çš„æœåŠ¡å™¨</strong>ï¼Œåˆ™éœ€è¦è¿›è¡Œé¢å¤–é…ç½®ã€‚ä¸‹æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨è¿™äº›å·¥å…·å®ç°å¼‚åœ°è¿œç¨‹è®¿é—®æ–¹æ¡ˆã€‚</p>
</blockquote>
<h2 data-id="heading-1">äºŒã€ å¼€å¯æœ¬åœ°SSHæœåŠ¡ï¼ˆè‹¥å·²å¼€å¯ï¼Œå¯è·³è¿‡)</h2>
<p>1ã€ éœ€è¦åœ¨è¢«è¿œç¨‹çš„ç”µè„‘ä¸Šå¼€å¯SSHæœåŠ¡ï¼Œ</p>
<p>2ã€ æˆ‘ä»¬ä»¥ubuntuä¸ºä¾‹</p>
<p>3ã€ æ£€æŸ¥æœåŠ¡æ˜¯å¦æœ‰å®‰è£… SSHæœåŠ¡å‘½ä»¤</p>
<pre><code class="hljs language-lua" lang="lua">sudo systemctl <span class="hljs-built_in">status</span> ssh
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/432928a854094945b02694be2a0fbf03~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=Q3djOwBcwfrS3KjGCuHVByeHXfo%3D" alt="" loading="lazy"/></p>
<p>4ã€ å®‰è£…SSHæœåŠ¡ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p>
<pre><code class="hljs language-vbscript" lang="vbscript">sudo apt updatesudo apt install openssh-<span class="hljs-built_in">server</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c499de8ac46c40f8822f0f70ff56e8a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=x95U9y1jdDdahPqqjprR%2FXBbLws%3D" alt="" loading="lazy"/></p>
<p>5ã€ å®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨SSHæœåŠ¡ï¼š</p>
<p>a) æ­£å¸¸å¯åŠ¨SSHæœåŠ¡ï¼Œå¹¶é€šè¿‡æŸ¥è¯¢å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°æœåŠ¡å·²ç»å¯åŠ¨</p>
<pre><code class="hljs language-lua" lang="lua">sudo systemctl start sshsudo systemctl <span class="hljs-built_in">status</span> ssh
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88a2af7555bf495586f43c2a2f096fee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=Edy2M6GVMrmczDISyD6dZS6rjmo%3D" alt="" loading="lazy"/></p>
<p>b) è®¾ç½®SSHæœåŠ¡å¼€æœºè‡ªå¯ï¼Œä¸ºäº†ç¡®ä¿æ¯æ¬¡å¼€æœºæ—¶SSHæœåŠ¡è‡ªåŠ¨å¯åŠ¨ï¼Œä½ å¯ä»¥è®¾ç½®SSHæœåŠ¡ä¸ºå¼€æœºè‡ªå¯ï¼Œå¹¶é€šè¿‡æŸ¥è¯¢å‘½ä»¤ï¼Œå¯ä»¥çœ‹åˆ°æœåŠ¡å·²ç»å¯åŠ¨</p>
<pre><code class="hljs language-bash" lang="bash">sudo systemctl <span class="hljs-built_in">enable</span> sshsudo systemctl status ssh
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83c3fe9497ad494d94674532db386a92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=STM89RxZNohmwosMSQFnMDNTlyA%3D" alt="" loading="lazy"/></p>
<p>6ã€ æŒ‰ç…§ä¸Šè¿°çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å°±å·²å¼€å¯äº†æœ¬åœ°çš„SSHæœåŠ¡èƒ½åŠ›</p>
<h2 data-id="heading-2">ä¸‰ã€ æœ¬åœ°è¿œç¨‹éªŒè¯</h2>
<p>1ã€ æˆ‘ä»¬åœ¨windowsæŒ‰ä¸‹ Win+Ré”®ï¼Œè¾“å…¥cmdï¼Œå¼€å¯çª—å£</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a807e262b3b54ad1a1d79773c90992b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=fWNupRfKyONxI9zxYETWnHgtbkE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e41f6f69c7114e43aae8df434305e2fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=7gh%2FOPjAgMFGWtG%2B77lXjdq8StI%3D" alt="" loading="lazy"/></p>
<p>2ã€ ç°åœ¨æˆ‘ä»¬å¯ä»¥çª—å£é‡Œé€šè¿‡å‘½ä»¤åœ¨æœ¬åœ°æµ‹è¯•è¿œç¨‹è¿æ¥</p>
<pre><code class="hljs language-css" lang="css">ssh username<span class="hljs-keyword">@hostname</span>
</code></pre>
<blockquote>
<p>usernameï¼šè¢«è¿œç¨‹æœåŠ¡å™¨çš„ç”¨æˆ·å</p>
</blockquote>
<blockquote>
<p>hostnameï¼šè¢«è¿œç¨‹æœåŠ¡å™¨çš„å†…ç½‘IPåœ°å€</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ee76e3e16f041508ca9239b4ff7155a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=aUlZDH6dFcR8x%2BOq9o6EhMIQCo0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">å››ã€ å¼‚åœ°è¿œç¨‹é…ç½®</h2>
<p><strong>æ–¹æ¡ˆä¸€ï¼šé€šè¿‡å…¬ç½‘IPç›´æ¥è®¿é—®</strong></p>
<p>æ­¤æ–¹æ¡ˆé€‚åˆ<strong>èƒ½ç”³è¯·åˆ°å…¬ç½‘IPï¼ˆæˆ–å·²æœ‰ï¼‰</strong>ã€è¿½æ±‚æœ€ä½³è¿æ¥æ€§èƒ½ã€ä¸”æ‹¥æœ‰è·¯ç”±å™¨ç®¡ç†æƒé™çš„åœºæ™¯ã€‚</p>
<ul>
<li><strong>ç¡®è®¤å…¬ç½‘IPä¸è·¯ç”±å™¨é…ç½®</strong></li>
</ul>
<p>**è·å–å…¬ç½‘IPï¼š**è”ç³»ä½ çš„ç½‘ç»œè¿è¥å•†ï¼ˆISPï¼‰å’¨è¯¢ç”³è¯·ã€‚å¦‚æœIPæ˜¯åŠ¨æ€çš„ï¼Œè¿˜éœ€è¦é…ç½®DDNSï¼ˆåŠ¨æ€åŸŸåè§£æï¼‰ æœåŠ¡åï¼Œè§£å†³IPå˜åŒ–çš„é—®é¢˜ã€‚</p>
<p>**è®¾ç½®ç«¯å£è½¬å‘ï¼š**ç™»å½•è·¯ç”±å™¨ç®¡ç†åå°ï¼ˆé€šå¸¸æ˜¯ 192....æˆ–ç±»ä¼¼åœ°å€ï¼‰ï¼Œæ‰¾åˆ°â€œç«¯å£è½¬å‘â€ã€â€œè™šæ‹ŸæœåŠ¡å™¨â€ç­‰é€‰é¡¹ï¼Œæ·»åŠ è§„åˆ™ï¼š</p>
<p>**å¤–éƒ¨ç«¯å£ï¼š**ä¸€ä¸ªè‡ªå®šä¹‰ç«¯å£ï¼ˆå¦‚ 2222ï¼‰ï¼Œé¿å…ä½¿ç”¨é»˜è®¤çš„22ç«¯å£ä»¥å¢å¼ºå®‰å…¨æ€§ã€‚</p>
<p>**å†…éƒ¨IPåœ°å€ï¼š**ä½ ç”µè„‘åœ¨å±€åŸŸç½‘å†…çš„å›ºå®šIPåœ°å€ï¼ˆå¦‚ 192....ï¼‰</p>
<p>**å†…éƒ¨ç«¯å£ï¼š**22ï¼ˆSSHé»˜è®¤ç«¯å£ï¼‰</p>
<p>**åè®®ï¼š**TCP</p>
<ul>
<li><strong>è¿æ¥æœåŠ¡å™¨</strong></li>
</ul>
<p>é…ç½®å®Œæˆåï¼Œåœ¨å¼‚åœ°ç½‘ç»œé€šè¿‡SSHè¿æ¥æ—¶ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ ¼å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css">ssh -<span class="hljs-selector-tag">p</span> <span class="hljs-number">2222</span> username@ä½ çš„å…¬ç½‘IP
</code></pre>
<p><strong>æ–¹æ¡ˆäºŒï¼šé€šè¿‡ ZeroNews å†…ç½‘ç©¿é€æ–¹å¼</strong></p>
<p>æ­¤æ–¹æ¡ˆé€‚åˆ<strong>æ²¡æœ‰å…¬ç½‘IP</strong>ã€æ— æ³•æˆ–ä¸æƒ³é…ç½®è·¯ç”±å™¨ï¼ˆå¦‚åœ¨å…¬å¸/æ ¡å›­ç½‘ç¯å¢ƒä¸‹ï¼‰ã€éœ€è¦å¿«é€Ÿä¸´æ—¶è®¿é—®çš„åœºæ™¯ã€‚</p>
<p>å…³äºLinuxç³»ç»Ÿçš„è¿œç¨‹è®¿é—®æ•™ç¨‹ï¼Œå¯ä»¥å‚è€ƒæ–‡æ¡£æˆ–è§†é¢‘ï¼šã€Linux SSHè¿œç¨‹è®¿é—®é…ç½®æ•™ç¨‹ã€‘</p>
<p>æ€»ç»“èµ·æ¥æ“ä½œæ­¥éª¤éå¸¸ç®€å•ï¼š</p>
<ul>
<li>å®‰è£…å¯åŠ¨ ZeroNews Agent</li>
<li>åˆ›å»ºè‡ªå®šä¹‰å‰ç¼€åŸŸå</li>
<li>åˆ›å»ºå¯å…¬ç½‘è®¿é—®çš„æ˜ å°„</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a0541325e7b4f70b3a815bec6de90d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=KXQVONWQxILVFqQEDc9xOEFk1Cw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ccec37bc7df4ea485f4768d4664d9d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=ZrWhZuXpv9BL6Ubd89QPLFKhO7Y%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e39d26bf285249e78d74c783489b9fda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=%2F0jblh63h1s7QRbRRnlUbuvwoog%3D" alt="" loading="lazy"/></p>
<ul>
<li>æŒ‰ç…§ä¸Šé¢çš„æ“ä½œï¼Œæˆ‘ä»¬å°±å·²ç»é…ç½®å¥½äº†å¯è¿œç¨‹SSHçš„æ˜ å°„æœåŠ¡ã€‚</li>
</ul>
<h2 data-id="heading-4">äº”ã€ å¼‚åœ°è¿œç¨‹éªŒè¯</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å±•ç¤ºä¸‹è¿œç¨‹çš„æ•ˆæœã€‚</p>
<p><strong>1. åœ¨ç»ˆç«¯é€šè¿‡å‘½ä»¤è¡Œå®ç°å¼‚åœ°è¿œç¨‹</strong></p>
<ul>
<li>
<p>é€šè¿‡winç”µè„‘æ‰“å¼€cmdç»ˆç«¯çª—å£ï¼Œå¹¶è¾“å…¥å¦‚ä¸‹å‘½ä»¤</p>
<p>ssh username@HostName -p Port</p>
</li>
</ul>
<blockquote>
<p>usernameï¼šè¢«è¿œç¨‹æœåŠ¡å™¨çš„ç”¨æˆ·å</p>
</blockquote>
<blockquote>
<p>HostNameï¼šé€šè¿‡ ZeroNews é…ç½®çš„æ˜ å°„çš„ <strong>åŸŸå</strong></p>
</blockquote>
<blockquote>
<p>Portï¼šé€šè¿‡ ZeroNews é…ç½®çš„æ˜ å°„çš„ **ç«¯å£,**å¦‚ <strong>12000</strong></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/760b18438a814719876e98ec88b9e486~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=0grU9TMQ607WV%2FEetqw91RfOXI0%3D" alt="" loading="lazy"/></p>
<ul>
<li>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å·²ç»å¯ä»¥é€šè¿‡ç»ˆç«¯çª—å£sshåœ¨å¼‚åœ°è¿œç¨‹æˆ‘ä»¬çš„æœåŠ¡äº†ã€‚</li>
</ul>
<p><strong>2. é€šè¿‡PuTTyå®ç°å¼‚åœ°è¿œç¨‹è®¿é—®</strong></p>
<ul>
<li>æ‰“å¼€PuTTyå®¢æˆ·ç«¯ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b33417f62004d5aa62beb10ff5ed138~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=VbZbRnY5u6gDG%2B%2F9MooKxUVq7r8%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>HostNameï¼šé€šè¿‡ZeroNewsé…ç½®çš„æ˜ å°„çš„ <strong>åŸŸå</strong></p>
</blockquote>
<blockquote>
<p>Portï¼šé€šè¿‡ZeroNewsé…ç½®çš„æ˜ å°„çš„ <strong>ç«¯å£</strong></p>
</blockquote>
<ul>
<li>ç‚¹å‡»Openï¼Œç„¶åè¾“å…¥è¢«è¿œç¨‹æœåŠ¡å™¨çš„è´¦å·å¯†ç ï¼Œå°±èƒ½å¤Ÿå®ç°è¿œç¨‹å¼‚åœ°è¿œç¨‹è®¿é—®äº†ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c36e2e71ec240e7a9360c33aa0eb185~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=IUGcHyTuKlnBqEF45%2BUAQgIGBjo%3D" alt="" loading="lazy"/></p>
<p><strong>3. é€šè¿‡MobaXtermå®ç°å¼‚åœ°è¿œç¨‹è®¿é—®</strong></p>
<ul>
<li>æ‰“å¼€MobaXtermå®¢æˆ·ç«¯ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d3436e8329042d7b26b9a83532de8d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=wUZaQLBybWeD5i2OOeW5JDTE6n4%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>Remote hostï¼šé€šè¿‡ZeroNewsé…ç½®çš„æ˜ å°„çš„ <strong>åŸŸå</strong></p>
</blockquote>
<blockquote>
<p>Portï¼šé€šè¿‡ZeroNewsé…ç½®çš„æ˜ å°„çš„ <strong>ç«¯å£</strong></p>
</blockquote>
<ul>
<li>ç‚¹å‡»OKï¼Œç„¶åè¾“å…¥è¢«è¿œç¨‹æœåŠ¡å™¨çš„è´¦å·å¯†ç ï¼Œå°±èƒ½å¤Ÿå®ç°è¿œç¨‹å¼‚åœ°è¿œç¨‹è®¿é—®äº†ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/466f0be6fa4447109e4224697a54a97d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=dLzT%2B7B0YWMIeS5xHElY0RrQtqg%3D" alt="" loading="lazy"/></p>
<p><strong>4. é€šè¿‡WindTermå®ç°å¼‚åœ°è¿œç¨‹è®¿é—®</strong></p>
<ul>
<li>æ‰“å¼€WindTermå®¢æˆ·ç«¯ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70eaebbba9254c06a9103c79beb81f82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=aOS%2FKs78fjJPUwehPLwe%2BwP2hNM%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>ä¸»æœºï¼šé€šè¿‡ZeroNewsé…ç½®çš„æ˜ å°„çš„ <strong>åŸŸå</strong></p>
</blockquote>
<blockquote>
<p>ç«¯å£ï¼šé€šè¿‡ZeroNewsé…ç½®çš„æ˜ å°„çš„ <strong>ç«¯å£</strong></p>
</blockquote>
<ul>
<li>ç‚¹å‡»é“¾æ¥ï¼Œç„¶åè¾“å…¥è¢«è¿œç¨‹æœåŠ¡å™¨çš„è´¦å·å¯†ç ï¼Œå°±èƒ½å¤Ÿå®ç°è¿œç¨‹å¼‚åœ°è¿œç¨‹è®¿é—®äº†ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93aefadf31a5459f82f76849fa29668e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=9or0dNsbAqHKP5LpQyxFacWHtcA%3D" alt="" loading="lazy"/></p>
<p><strong>5. é€šè¿‡FinalShellå®ç°å¼‚åœ°è¿œç¨‹è®¿é—®</strong></p>
<ul>
<li>æ‰“å¼€FinalShellå®¢æˆ·ç«¯ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68717ab10c4e411d90080c89e9c50f0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=UwZ2Rh7KXwJzitN5oK9fVUk6nZo%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>ä¸»æœºï¼šé€šè¿‡ZeroNewsé…ç½®çš„æ˜ å°„çš„ <strong>åŸŸå</strong></p>
</blockquote>
<blockquote>
<p>ç«¯å£ï¼šé€šè¿‡ZeroNewsé…ç½®çš„æ˜ å°„çš„ <strong>ç«¯å£</strong></p>
</blockquote>
<blockquote>
<p>æ–¹æ³•ï¼šé€‰æ‹©å¯†ç </p>
</blockquote>
<blockquote>
<p>ç”¨æˆ·åï¼šè¾“å…¥è¢«è¿œç¨‹æœåŠ¡å™¨çš„è´¦å·</p>
</blockquote>
<blockquote>
<p>å¯†ç ï¼šè¾“å…¥è¢«è¿œç¨‹æœåŠ¡å™¨çš„å¯†ç </p>
</blockquote>
<ul>
<li>ç‚¹å‡»ç¡®å®šï¼Œå°±å¯ä»¥äº†è¿›è¡Œè¿œç¨‹äº†</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/253b7823f96b44faa1b73b3a03a31a10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=ct5%2BAOyiF0cd03JsB3kjz2%2F6%2Bis%3D" alt="" loading="lazy"/></p>
<p><strong>6. é€šè¿‡XShellå®ç°å¼‚åœ°è¿œç¨‹è®¿é—®</strong></p>
<ul>
<li>æ‰“å¼€Xshellå®¢æˆ·ç«¯ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92f2f63d72154153b5b2ac519e114be9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=XsmlSOm8kYh0uA9whvNQR7NeDFQ%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>åè®®ï¼šé€‰æ‹©SSH ä¸»æœºï¼šé€šè¿‡ZeroNewsé…ç½®çš„æ˜ å°„çš„ <strong>åŸŸå</strong></p>
</blockquote>
<blockquote>
<p>ç«¯å£å·ï¼šé€šè¿‡ZeroNewsé…ç½®çš„æ˜ å°„çš„ <strong>ç«¯å£</strong></p>
</blockquote>
<ul>
<li>ç‚¹å‡»è¿æ¥ï¼Œç„¶åè¾“å…¥è¢«è¿œç¨‹æœåŠ¡å™¨çš„è´¦å·å¯†ç ï¼Œå°±èƒ½å¤Ÿå®ç°è¿œç¨‹å¼‚åœ°è¿œç¨‹è®¿é—®äº†ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b392aec589374ae686c8ee60d1d48752~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=s2EuH4RhdHz6AVAxZWd9rA8bE%2F8%3D" alt="" loading="lazy"/></p>
<p><strong>7. é€šè¿‡SecrueCRTå®ç°å¼‚åœ°è¿œç¨‹è®¿é—®</strong></p>
<ul>
<li>æ‰“å¼€SecrueCRTå®¢æˆ·ç«¯ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33c0f38bc09e49889a365153617d0d67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=fgCM%2FDUtF0rCeB2ZGt1dsEWrgro%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>Protocolï¼šé€‰æ‹©SSH2</p>
</blockquote>
<blockquote>
<p>Hostnameï¼šé€šè¿‡ZeroNewsé…ç½®çš„æ˜ å°„çš„ <strong>åŸŸå</strong></p>
</blockquote>
<blockquote>
<p>Portï¼šé€šè¿‡ZeroNewsé…ç½®çš„æ˜ å°„çš„ <strong>ç«¯å£</strong></p>
</blockquote>
<blockquote>
<p>Usernameï¼šè¾“å…¥è¢«è¿œç¨‹æœåŠ¡å™¨çš„è´¦å·</p>
</blockquote>
<ul>
<li>ç‚¹å‡»Connectï¼Œç„¶åè¾“å…¥è¢«è¿œç¨‹æœåŠ¡å™¨çš„å¯†ç ï¼Œå°±èƒ½å¤Ÿå®ç°è¿œç¨‹å¼‚åœ°è¿œç¨‹è®¿é—®äº†ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/254f384e5db64f9199cefce82a2f900e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWmVyb05ld3PlhoXnvZHnqb_pgI8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770784814&amp;x-signature=ChcR8YW1AWLkzcT37mX7YgRxaJU%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸Šä¸ºå¸¸è§è¿œç¨‹ SSH å·¥å…·çš„è¿æ¥æ–¹å¼ï¼Œæ‚¨å¯æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©ä½¿ç”¨ã€‚é¢„ç¥æ˜¥èŠ‚è¿ç»´é¡ºåˆ©ï¼Œè¿œç¨‹è®¿é—®ç¨³å®šä¸æ–­çº¿ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ClawBoot/OpenClaw å®‰è£…æ•™ç¨‹ï¼ˆwindows+Linuxï¼‰]]></title>    <link>https://juejin.cn/post/7602551091516538889</link>    <guid>https://juejin.cn/post/7602551091516538889</guid>    <pubDate>2026-02-04T03:57:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602551091516538889" data-draft-id="7602551091516522505" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ClawBoot/OpenClaw å®‰è£…æ•™ç¨‹ï¼ˆwindows+Linuxï¼‰"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-04T03:57:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Œæ‹‰å¸ƒæ‹‰ä¹Œ"/> <meta itemprop="url" content="https://juejin.cn/user/1040559557063304"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ClawBoot/OpenClaw å®‰è£…æ•™ç¨‹ï¼ˆwindows+Linuxï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1040559557063304/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Œæ‹‰å¸ƒæ‹‰ä¹Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:57:48.000Z" title="Wed Feb 04 2026 03:57:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Fstart%2Fgetting-started" target="_blank" title="https://docs.openclaw.ai/start/getting-started" ref="nofollow noopener noreferrer">docs.openclaw.ai/start/gettiâ€¦</a></p>
<p>éœ€è¦å…ˆå®‰è£…node22 ä½¿ç”¨nvmå®‰è£…</p>
<p>windowsä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ä¼šè‡ªåŠ¨å®‰è£…node22ï¼Œlinuxåˆ™éœ€è¦è‡ªè¡Œæ‰‹åŠ¨å®‰è£…ï¼Œå¹¶å®‰è£…git</p>
<p>å®‰è£…å‘½ä»¤
windowsï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">iwr -useb https:<span class="hljs-comment">//openclaw.ai/install.ps1 | iex</span>
</code></pre>
<p>linux/macï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">curl -fsSL https:<span class="hljs-comment">//openclaw.ai/install.sh | bash</span>
</code></pre>
<p>è¿è¡Œå¼•å¯¼ç¨‹åºï¼ˆå¹¶å®‰è£…æœåŠ¡ï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css">openclaw onboard <span class="hljs-attr">--install-daemon</span>
</code></pre>
<p>å®‰è£…è¿‡ç¨‹å¯å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.aliyun.com%2Farticle%2F1709615" target="_blank" title="https://developer.aliyun.com/article/1709615" ref="nofollow noopener noreferrer">developer.aliyun.com/article/170â€¦</a> è¿™ç¯‡æ–‡ç« ï¼Œå…¶ä¸­æœ‰äº›å‘½ä»¤æ˜¯æ—§ç‰ˆæœ¬çš„ï¼Œä¾‹å¦‚clawdbot statusï¼Œæ­£ç¡®çš„æ˜¯openclaw status</p>
<p>é€‰æ‹©quickstart qwenæ¨¡å‹ï¼Œå…¶ä»–çš„åˆ™è·³è¿‡ï¼Œæœ€åä¸€æ­¥é€‰æ‹©TUIï¼Œé€‰æ‹©åä¼šè‡ªåŠ¨åœ¨åå°è¿è¡Œopenclawï¼Œç±»ä¼¼nohup</p>
<p>å¸¸ç”¨å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">æŸ¥çœ‹çŠ¶æ€
openclaw <span class="hljs-built_in">status</span>
å¯åŠ¨ç½‘å…³
openclaw gateway
é‡å¯ç½‘å…³ï¼ˆä¿®æ”¹openclaw.jsonåæ‰§è¡Œï¼‰
openclaw gateway restart
æŸ¥çœ‹ä»ªè¡¨ç›˜ç½‘å€
openclaw dashboard
æ£€æŸ¥ä¿®å¤
openclaw doctor <span class="hljs-comment">--fix</span>
å¼•å¯¼é…ç½®
openclaw onboard
</code></pre>
<p>windowsä½¿ç”¨powershellæ‰§è¡Œå³å¯ï¼Œæ‰§è¡Œå®Œæˆåï¼Œè¾“å…¥ <code>openclaw dashboard</code> æŸ¥çœ‹ç½‘å€ï¼Œå¤åˆ¶Dashboard URLæŸ¥çœ‹å³å¯ï¼Œè‹¥è®¿é—®çš„æ˜¯æ²¡æœ‰tokençš„urlï¼Œç›´æ¥è®¿é—® 127.0.0.1:18789 åˆ™ä¼šå‡ºç° <code>disconnected (1008): device identity required</code></p>
<p>linuxæœ¬æœºéƒ¨ç½²åï¼Œé»˜è®¤æ˜¯åœ¨æœåŠ¡å™¨å†…ç½‘ç¯å¢ƒçš„ï¼Œå¯ä»¥è¿›è¡Œç«¯å£æ˜ å°„ï¼Œå®ç°å¤–ç½‘è®¿é—®</p>
<ol>
<li>ä¿®æ”¹openclaw.jsonï¼Œæ·»åŠ controlUi å¹¶å°†gatewayä¸‹çš„bindç”±loopback æ”¹ä¸ºlan</li>
</ol>
<pre><code class="hljs language-json" lang="json">    <span class="hljs-attr">"controlUi"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"allowInsecureAuth"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"bind"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"lan"</span><span class="hljs-punctuation">,</span>
</code></pre>
<p>å®Œæ•´gatewayï¼š</p>
<pre><code class="hljs language-json" lang="json">  <span class="hljs-attr">"gateway"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"controlUi"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"allowInsecureAuth"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"auth"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"token"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"token"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ çš„token"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"local"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"port"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">18789</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"bind"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"lan"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"tailscale"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"off"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"resetOnExit"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
</code></pre>
<p>ä¿®æ”¹åéœ€è¦é‡å¯ç½‘å…³ï¼Œæ‰§è¡Œï¼š<code>openclaw gateway restart</code></p>
<ol start="2">
<li>è…¾è®¯äº‘ã€æœåŠ¡å™¨å†…éƒ¨å¼€æ”¾tcpç«¯å£ï¼ˆ18789ç«¯å£ï¼‰
ufw æ–¹å¼å¼€æ”¾ç«¯å£ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudo apt install ufw
sudo ufw status
sudo ufw <span class="hljs-built_in">enable</span>
sudo ufw allow 18789/tcp
</code></pre>
<ol start="3">
<li>è®¿é—® æœåŠ¡å™¨IP:18789/?token=XXXX  ï¼ˆtokené€šè¿‡<code>openclaw dashboard</code> æŸ¥çœ‹ï¼‰</li>
</ol>
<p>å®Œæ•´openclaw.jsonï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">ubuntu<span class="hljs-variable">@VM</span>-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-<span class="hljs-symbol">ubuntu:</span>~<span class="hljs-variable">$ </span>cat  ~<span class="hljs-regexp">/.openclaw/openclaw</span>.json
{
  <span class="hljs-string">"meta"</span>: {
    <span class="hljs-string">"lastTouchedVersion"</span>: <span class="hljs-string">"2026.2.1"</span>,
    <span class="hljs-string">"lastTouchedAt"</span>: <span class="hljs-string">"2026-02-04T01:38:02.479Z"</span>
  },
  <span class="hljs-string">"wizard"</span>: {
    <span class="hljs-string">"lastRunAt"</span>: <span class="hljs-string">"2026-02-04T01:38:02.475Z"</span>,
    <span class="hljs-string">"lastRunVersion"</span>: <span class="hljs-string">"2026.2.1"</span>,
    <span class="hljs-string">"lastRunCommand"</span>: <span class="hljs-string">"onboard"</span>,
    <span class="hljs-string">"lastRunMode"</span>: <span class="hljs-string">"local"</span>
  },
  <span class="hljs-string">"commands"</span>: {
    <span class="hljs-string">"native"</span>: <span class="hljs-string">"auto"</span>,
    <span class="hljs-string">"nativeSkills"</span>: <span class="hljs-string">"auto"</span>
  },
  <span class="hljs-string">"gateway"</span>: {
    <span class="hljs-string">"controlUi"</span>: {
      <span class="hljs-string">"allowInsecureAuth"</span>: <span class="hljs-literal">true</span>
    },
    <span class="hljs-string">"auth"</span>: {
      <span class="hljs-string">"mode"</span>: <span class="hljs-string">"token"</span>,
      <span class="hljs-string">"token"</span>: <span class="hljs-string">"ä½ çš„token"</span>
    },
    <span class="hljs-string">"mode"</span>: <span class="hljs-string">"local"</span>,
    <span class="hljs-string">"port"</span>: <span class="hljs-number">18789</span>,
    <span class="hljs-string">"bind"</span>: <span class="hljs-string">"lan"</span>,
    <span class="hljs-string">"tailscale"</span>: {
      <span class="hljs-string">"mode"</span>: <span class="hljs-string">"off"</span>,
      <span class="hljs-string">"resetOnExit"</span>: <span class="hljs-literal">false</span>
    }
  },
  <span class="hljs-string">"agents"</span>: {
    <span class="hljs-string">"defaults"</span>: {
      <span class="hljs-string">"maxConcurrent"</span>: <span class="hljs-number">4</span>,
      <span class="hljs-string">"subagents"</span>: {
        <span class="hljs-string">"maxConcurrent"</span>: <span class="hljs-number">8</span>
      },
      <span class="hljs-string">"workspace"</span>: <span class="hljs-string">"/home/ubuntu/.openclaw/workspace"</span>,
      <span class="hljs-string">"models"</span>: {
        <span class="hljs-string">"qwen-portal/coder-model"</span>: {
          <span class="hljs-string">"alias"</span>: <span class="hljs-string">"qwen"</span>
        },
        <span class="hljs-string">"qwen-portal/vision-model"</span>: {}
      },
      <span class="hljs-string">"model"</span>: {
        <span class="hljs-string">"primary"</span>: <span class="hljs-string">"qwen-portal/vision-model"</span>
      }
    }
  },
  <span class="hljs-string">"messages"</span>: {
    <span class="hljs-string">"ackReactionScope"</span>: <span class="hljs-string">"group-mentions"</span>
  },
  <span class="hljs-string">"plugins"</span>: {
    <span class="hljs-string">"entries"</span>: {
      <span class="hljs-string">"qwen-portal-auth"</span>: {
        <span class="hljs-string">"enabled"</span>: <span class="hljs-literal">true</span>
      }
    }
  },
  <span class="hljs-string">"models"</span>: {
    <span class="hljs-string">"providers"</span>: {
      <span class="hljs-string">"qwen-portal"</span>: {
        <span class="hljs-string">"baseUrl"</span>: <span class="hljs-string">"https://portal.qwen.ai/v1"</span>,
        <span class="hljs-string">"apiKey"</span>: <span class="hljs-string">"qwen-oauth"</span>,
        <span class="hljs-string">"api"</span>: <span class="hljs-string">"openai-completions"</span>,
        <span class="hljs-string">"models"</span>: [
          {
            <span class="hljs-string">"id"</span>: <span class="hljs-string">"coder-model"</span>,
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"Qwen Coder"</span>,
            <span class="hljs-string">"reasoning"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-string">"input"</span>: [
              <span class="hljs-string">"text"</span>
            ],
            <span class="hljs-string">"cost"</span>: {
              <span class="hljs-string">"input"</span>: <span class="hljs-number">0</span>,
              <span class="hljs-string">"output"</span>: <span class="hljs-number">0</span>,
              <span class="hljs-string">"cacheRead"</span>: <span class="hljs-number">0</span>,
              <span class="hljs-string">"cacheWrite"</span>: <span class="hljs-number">0</span>
            },
            <span class="hljs-string">"contextWindow"</span>: <span class="hljs-number">128000</span>,
            <span class="hljs-string">"maxTokens"</span>: <span class="hljs-number">8192</span>
          },
          {
            <span class="hljs-string">"id"</span>: <span class="hljs-string">"vision-model"</span>,
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"Qwen Vision"</span>,
            <span class="hljs-string">"reasoning"</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-string">"input"</span>: [
              <span class="hljs-string">"text"</span>,
              <span class="hljs-string">"image"</span>
            ],
            <span class="hljs-string">"cost"</span>: {
              <span class="hljs-string">"input"</span>: <span class="hljs-number">0</span>,
              <span class="hljs-string">"output"</span>: <span class="hljs-number">0</span>,
              <span class="hljs-string">"cacheRead"</span>: <span class="hljs-number">0</span>,
              <span class="hljs-string">"cacheWrite"</span>: <span class="hljs-number">0</span>
            },
            <span class="hljs-string">"contextWindow"</span>: <span class="hljs-number">128000</span>,
            <span class="hljs-string">"maxTokens"</span>: <span class="hljs-number">8192</span>
          }
        ]
      }
    }
  },
  <span class="hljs-string">"auth"</span>: {
    <span class="hljs-string">"profiles"</span>: {
      <span class="hljs-string">"qwen-portal:default"</span>: {
        <span class="hljs-string">"provider"</span>: <span class="hljs-string">"qwen-portal"</span>,
        <span class="hljs-string">"mode"</span>: <span class="hljs-string">"oauth"</span>
      }
    }
  }
}
ubuntu<span class="hljs-variable">@VM</span>-<span class="hljs-number">0</span>-<span class="hljs-number">7</span>-<span class="hljs-symbol">ubuntu:</span>~<span class="hljs-variable">$ </span>

</code></pre>
<p>åœ¨é£ä¹¦ä¸­é…ç½®æœºå™¨äººï¼Œå¯å‚è€ƒï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.aliyun.com%2Farticle%2F1709615" target="_blank" title="https://developer.aliyun.com/article/1709615" ref="nofollow noopener noreferrer">developer.aliyun.com/article/170â€¦</a> è¿™ç¯‡æ–‡ç« 
åŒæ ·å…¶ä¸­çš„å‘½ä»¤éœ€è¦ç”±clawdbotæ›´æ¢ä¸ºopenclawï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">openclaw plugins install @m1heng-clawd/feishu

openclaw config set channels.feishu.appId <span class="hljs-string">"é£ä¹¦ app id"</span>

openclaw config set channels.feishu.appSecret <span class="hljs-string">"é£ä¹¦ app secret"</span>

openclaw config set channels.feishu.enabled <span class="hljs-literal">true</span>

# æ¨èä½¿ç”¨ websocket
openclaw config set channels.feishu.connectionMode websocket

openclaw config set channels.feishu.dmPolicy pairing

openclaw config set channels.feishu.groupPolicy allowlist

openclaw config set channels.feishu.requireMention <span class="hljs-literal">true</span>

openclaw gateway restart

</code></pre>
<p>æ³¨æ„ï¼šè‹¥åªæ˜¯ä¸ªäººä½¿ç”¨ï¼Œä½¿ç”¨é£ä¹¦ä¸ªäººç‰ˆåˆ›å»ºå³å¯ï¼Œè‹¥éœ€è¦åˆ†äº«ç»™å¥½å‹ï¼Œåˆ™éœ€è¦åœ¨é£ä¹¦åˆ›å»ºä¼ä¸šåå†åˆ›å»ºæœºå™¨äººï¼Œé£ä¹¦ä¸ªäººç‰ˆæ— æ³•å°†æœºå™¨äººåˆ†äº«ç»™å…¶ä»–äºº</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­—èŠ‚ Trae å½»åº•ç‚¸åœºï¼å…¨æ–° Skills æ¨¡å¼ï¼šåŸæ¥ AI çœŸçš„å¯ä»¥è‡ªå·±æŠŠ Bug æ”¹å®Œ]]></title>    <link>https://juejin.cn/post/7602551091516702729</link>    <guid>https://juejin.cn/post/7602551091516702729</guid>    <pubDate>2026-02-04T04:46:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602551091516702729" data-draft-id="7602471311510274075" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­—èŠ‚ Trae å½»åº•ç‚¸åœºï¼å…¨æ–° Skills æ¨¡å¼ï¼šåŸæ¥ AI çœŸçš„å¯ä»¥è‡ªå·±æŠŠ Bug æ”¹å®Œ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T04:46:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­£å„¿å…«ç»è›™"/> <meta itemprop="url" content="https://juejin.cn/user/4101648892575020"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­—èŠ‚ Trae å½»åº•ç‚¸åœºï¼å…¨æ–° Skills æ¨¡å¼ï¼šåŸæ¥ AI çœŸçš„å¯ä»¥è‡ªå·±æŠŠ Bug æ”¹å®Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4101648892575020/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­£å„¿å…«ç»è›™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T04:46:11.000Z" title="Wed Feb 04 2026 04:46:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡ä¸ºå¾®ä¿¡å…¬ä¼—å·Â <strong>æ•å”çš„æŠ€æœ¯æœ­è®°</strong>Â åŸåˆ›æ–‡ç« ï¼Œç‰ˆæƒå½’Â <strong>æ•å”çš„æŠ€æœ¯æœ­è®°</strong>Â æ‰€æœ‰ã€‚<br/>
å¦‚éœ€è½¬è½½æˆ–å¼•ç”¨æœ¬æ–‡å†…å®¹ï¼Œ<strong>è¯·åŠ¡å¿…æ³¨æ˜åŸæ–‡å‡ºå¤„ã€ä½œè€…ä»¥åŠåŸæ–‡é“¾æ¥</strong>ã€‚<br/>
æ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·Â <strong>ã€Œæ•å”çš„æŠ€æœ¯æœ­è®°ã€</strong>ï¼Œè·å–æœ€æ–°æŠ€æœ¯åˆ†äº«ä¸æ·±åº¦è§£æã€‚<br/>
å¯¹äºä»»ä½•æœªæ³¨æ˜æ¥æºçš„è½¬è½½ã€æ‘˜ç¼–ã€ä¿®æ”¹æˆ–å•†ä¸šä½¿ç”¨è¡Œä¸ºï¼Œæœ¬äººä¿ç•™è¿½ç©¶æ³•å¾‹è´£ä»»çš„æƒåˆ©ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>å‡ ç¯‡æ–‡ç« ä¸‹äº†ï¼ŒçœŸå¿ƒå¸Œæœ›å¯ä»¥æŠŠè¿™ç§æ‰€è°“çš„æŠ€æœ¯é—¨æ§›æ‰“ä¸‹æ¥ï¼ï¼è¿™å‡ å¤©ï¼Œæˆ‘æ·±åº¦ä½“éªŒäº†å­—èŠ‚ Trae æœ€æ–°æ¨å‡ºçš„Â <strong>Skills æ¨¡å¼</strong>Â ä»Šå¤©ä½“éªŒ AI çœŸçš„èƒ½è‡ªå·±æŠŠ Bug æ”¹å®Œï¼Œè€Œä¸”æ”¹å¾—æœ‰æ¨¡æœ‰æ ·ï¼è¿™ç¯‡æ–‡ç« å°±å¸¦å¤§å®¶äº²æ‰‹èµ°ä¸€éæµç¨‹ï¼Œçœ‹çœ‹è¿™ä¸ªâ€œç‚¸åœºâ€çš„æ–°åŠŸèƒ½åˆ°åº•æœ‰å¤šçŒ›ã€‚</p>
<h2 data-id="heading-1">ç®€ä»‹ï¼šä»èŠå¤©æœºå™¨äººåˆ°â€œæ•°å­—å‘˜å·¥â€</h2>
<p>Trae æ˜¯å­—èŠ‚è·³åŠ¨æ¨å‡ºçš„ AI æ™ºèƒ½ä½“å¼€å‘ä¸åº”ç”¨å¹³å°ã€‚ä¹‹å‰çš„ç‰ˆæœ¬å·²ç»æŒºå¼ºäº†ï¼šèƒ½è”ç½‘ã€èƒ½è°ƒç”¨å·¥å…·ã€è¿˜èƒ½æçŸ¥è¯†åº“ã€‚ä½†è¿™æ¬¡å…¨æ–°çš„Â <strong>Skills æ¨¡å¼</strong>ï¼Œç›´æ¥æŠŠâ€œè®© AI è‡ªä¸»å®Œæˆä»»åŠ¡â€çš„èƒ½åŠ›æ‹”é«˜äº†ä¸€ä¸ªç»´åº¦ã€‚</p>
<p>ç®€å•è¯´ï¼Œå®ƒä¸å†æ˜¯é‚£ä¸ªä½ é—®ä¸€å¥ã€å®ƒç­”ä¸€å¥çš„â€œèŠå¤©æœºå™¨äººâ€äº†ï¼Œè€Œæ˜¯å˜æˆäº†ä¸€ä¸ªèƒ½ç†è§£å¤æ‚ä»»åŠ¡ã€è‡ªå·±è§„åˆ’æ­¥éª¤ã€è°ƒç”¨å·¥å…·ã€ç”šè‡³å†™ä»£ç æ”¹ Bug çš„Â <strong>â€œæ•°å­—å‘˜å·¥â€</strong>ã€‚</p>
<blockquote>
<p>è¿™ä¸å°±æ˜¯æˆ‘ä»¬ä¸€ç›´å¿µå¨çš„â€œAI ç¨‹åºå‘˜â€é›å½¢å—ï¼Ÿ</p>
</blockquote>
<h2 data-id="heading-2">æ ¸å¿ƒå®æˆ˜ï¼šè®© AI è‡ªå·±æ‰¾å‡º Bug å¹¶ä¿®å¤</h2>
<p>å…‰å¹ä¸è¡Œï¼Œç›´æ¥ä¸Šå®æˆ˜ã€‚æˆ‘å‡†å¤‡äº†ä¸€ä¸ªç»å…¸çš„ã€å¸¦ Bug çš„ Python å°ç¨‹åºï¼Œçœ‹çœ‹ Trae çš„ Skills æ¨¡å¼èƒ½ä¸èƒ½è‡ªå·±å‘ç°å¹¶ä¿®å¤å®ƒã€‚</p>
<h3 data-id="heading-3">1. å…ˆå‡†å¤‡ä¸€ä¸ªæœ‰ Bug çš„ç¨‹åº</h3>
<p>æˆ‘å†™äº†ä¸€ä¸ªç®€å•çš„ Python è„šæœ¬Â <code>buggy_calc.py</code>ï¼ŒåŠŸèƒ½æ˜¯è®¡ç®—åˆ—è¡¨çš„å¹³å‡å€¼ã€‚é‡Œé¢åŸ‹äº†ä¸€ä¸ªå…¸å‹çš„â€œå‘â€ï¼šå¦‚æœåˆ—è¡¨æ˜¯ç©ºçš„ï¼Œä¼šè§¦å‘Â <code>ZeroDivisionError</code>ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># buggy_calc.pydefÂ calculate_average(numbers):Â  Â Â """è®¡ç®—ä¸€ä¸ªæ•°å­—åˆ—è¡¨çš„å¹³å‡å€¼"""Â  Â  total = sum(numbers)Â  Â  average = total / len(numbers) Â # Bug åœ¨è¿™é‡Œï¼å¦‚æœ numbers ä¸ºç©ºåˆ—è¡¨ï¼Œè¿™é‡Œä¼šé™¤é›¶ã€‚Â  Â Â returnÂ average# æµ‹è¯•ç”¨ä¾‹ifÂ __name__ ==Â "__main__":Â  Â  test_list = [1,Â 2,Â 3,Â 4,Â 5]Â  Â  print(f"åˆ—è¡¨Â {test_list}Â çš„å¹³å‡å€¼æ˜¯ï¼š{calculate_average(test_list)}")Â  Â Â Â  Â  empty_list = []Â  Â  print(f"åˆ—è¡¨Â {empty_list}Â çš„å¹³å‡å€¼æ˜¯ï¼š{calculate_average(empty_list)}") Â # è¿™é‡Œä¼šå´©æºƒï¼</span>
</code></pre>
<h3 data-id="heading-4">2. åœ¨ Trae ä¸­åˆ›å»ºå¹¶é…ç½® Skill</h3>
<p>è¿›å…¥ Trae å¹³å°ï¼Œæ‰¾åˆ°å…¨æ–°çš„Â <strong>Skills</strong>Â æ¨¡å—ï¼Œç‚¹å‡»åˆ›å»ºæ–° Skillã€‚</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šå®šä¹‰ Skill ç›®æ ‡</strong>è¿™é‡Œå°±æ˜¯â€œä¸‹æŒ‡ä»¤â€çš„å…³é”®ã€‚æˆ‘å†™çš„ç›®æ ‡æ˜¯ï¼š</p>
<blockquote>
<p>â€œè¯·åˆ†ææˆ‘æä¾›çš„ Python ä»£ç æ–‡ä»¶ buggy_calc.pyï¼Œæ‰¾å‡ºå…¶ä¸­çš„æ½œåœ¨ Bug æˆ–é”™è¯¯ï¼Œå¹¶ç›´æ¥ç”Ÿæˆä¿®å¤åçš„å®Œæ•´ä»£ç æ–‡ä»¶ã€‚ä½ éœ€è¦è¿è¡Œä»£ç æ¥è¿›è¡Œæµ‹è¯•éªŒè¯ã€‚â€</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01bad1065f8d42c8a11117e3fdab242e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2j5YS_5YWr57uP6JuZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770785171&amp;x-signature=Ox1gsAebQdvSDQnughJQbpZRRPU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œ</strong>æŠŠÂ <code>buggy_calc.py</code>Â å–‚ç»™ Traeï¼Œç„¶åâ€œè¿è¡Œè¿™ä¸ª Skillâ€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9400106bf5f47a8bafcfd49259d7396~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2j5YS_5YWr57uP6JuZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770785171&amp;x-signature=nl84bCgHFKYjvo6QR3aCbJ0GjrA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-5">è§è¯å¥‡è¿¹çš„æ—¶åˆ»</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘å‡ ä¹å¯ä»¥å½“â€œç”©æ‰‹æŒæŸœâ€äº†ã€‚Trae çš„ AI æ™ºèƒ½ä½“å¼€å§‹å®ƒçš„è¡¨æ¼”ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5af4abd1e6ad4817bdea6faea5fae3c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2j5YS_5YWr57uP6JuZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770785171&amp;x-signature=Eul4mlXOaMzMDf7%2Fnkt1OE6NjOs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<ol>
<li>
<p><strong>è¯»å–æ–‡ä»¶</strong>ï¼šå®ƒå…ˆè¯»å–äº†Â <code>buggy_calc.py</code>Â çš„å†…å®¹ã€‚</p>
</li>
<li>
<p><strong>åˆ†æä»£ç </strong>ï¼šå®ƒåœ¨â€œæ€è€ƒâ€åè¾“å‡ºåˆ†æï¼šâ€œå‘ç°æ½œåœ¨é£é™©ï¼šå‡½æ•°Â <code>calculate_average</code>Â æœªå¤„ç†ç©ºåˆ—è¡¨è¾“å…¥ï¼Œä¼šå¯¼è‡´Â <code>ZeroDivisionError</code>ã€‚â€</p>
</li>
<li>
<p><strong>åˆ¶å®šè®¡åˆ’</strong>ï¼šå®ƒè‡ªå·±ç”Ÿæˆè®¡åˆ’ï¼šâ€œ1. ä¿®å¤Â <code>calculate_average</code>Â å‡½æ•°ï¼Œå¢åŠ ç©ºåˆ—è¡¨åˆ¤æ–­ã€‚2. ç¼–å†™ä¿®å¤åçš„ä»£ç ã€‚3. è¿è¡Œæµ‹è¯•éªŒè¯ä¿®å¤æ•ˆæœã€‚â€</p>
</li>
<li>
<p><strong>æ‰§è¡Œä¿®å¤</strong>ï¼šå®ƒç”Ÿæˆä¿®å¤åçš„ä»£ç ã€‚æˆ‘ä¸€çœ‹ï¼Œæ”¹å¾—è¿˜çœŸä¸é”™ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">defÂ calculate_average(numbers):Â  Â Â <span class="hljs-string">""</span><span class="hljs-string">"è®¡ç®—ä¸€ä¸ªæ•°å­—åˆ—è¡¨çš„å¹³å‡å€¼"</span><span class="hljs-string">""</span>Â  Â Â <span class="hljs-keyword">if</span>Â notÂ numbers:Â  Â  Â  Â  <span class="hljs-built_in">print</span>(<span class="hljs-string">"è­¦å‘Šï¼šç©ºåˆ—è¡¨æ— æ³•è®¡ç®—å¹³å‡å€¼"</span>)Â  Â  Â  Â Â <span class="hljs-built_in">return</span>Â 0Â Â <span class="hljs-comment"># æˆ–è€…è¿”å› NoneÂ  Â  total = sum(numbers)Â  Â  average = total / len(numbers)Â  Â Â returnÂ average# æµ‹è¯•ç”¨ä¾‹ifÂ __name__ ==Â "__main__":Â  Â  test_list = [1,Â 2,Â 3,Â 4,Â 5]Â  Â  print(f"åˆ—è¡¨Â {test_list}Â çš„å¹³å‡å€¼æ˜¯ï¼š{calculate_average(test_list)}")Â  Â Â Â  Â  empty_list = []Â  Â  print(f"åˆ—è¡¨Â {empty_list}Â çš„å¹³å‡å€¼æ˜¯ï¼š{calculate_average(empty_list)}") Â # è¿™é‡Œä¼šå´©æºƒï¼</span>
</code></pre>
<ol start="5">
<li>
<p><strong>è¿è¡Œæµ‹è¯•</strong>ï¼šæœ€ç§€çš„æ“ä½œæ¥äº†ï¼å®ƒ<strong>è‡ªåŠ¨è°ƒç”¨äº†ä»£ç è§£é‡Šå™¨</strong>ï¼Œç›´æ¥è¿è¡Œäº†å®ƒåˆšå†™å¥½çš„Â <code>fixed_calc.py</code>ï¼ˆåœ¨æ²™ç®±ç¯å¢ƒé‡Œæ‰§è¡Œï¼‰ï¼Œå¹¶æŠŠè¿è¡Œç»“æœç”©ç»™æˆ‘çœ‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">åˆ—è¡¨ [1, 2, 3, 4, 5] çš„å¹³å‡å€¼æ˜¯ï¼š3.0åˆ—è¡¨ [] çš„å¹³å‡å€¼æ˜¯ï¼š0
</code></pre>
</li>
<li>
<p><strong>äº¤ä»˜ç»“æœ</strong>ï¼šæœ€åï¼Œå®ƒæŠŠä¿®å¤å¥½çš„å®Œæ•´ä»£ç æ–‡ä»¶æä¾›ç»™æˆ‘ä¸‹è½½ï¼Œå¹¶é™„ä¸Šä¸€å¥è¯ï¼šâ€œBug å·²ä¿®å¤ï¼Œå·²é€šè¿‡åŸºç¡€æµ‹è¯•éªŒè¯ã€‚â€</p>
</li>
</ol>
<p>æˆ‘ç”¨ä¸‹æ¥ä¹‹åå‘ç°ï¼Œæ•´ä¸ªè¿‡ç¨‹å®Œå…¨è‡ªåŠ¨åŒ–ã€‚æˆ‘é™¤äº†æœ€å¼€å§‹ä¸‹æŒ‡ä»¤å’Œä¸Šä¼ æ–‡ä»¶ï¼Œä¸­é—´æ²¡æœ‰ä»»ä½•å¹²é¢„ã€‚AI è‡ªå·±å®Œæˆäº†Â <strong>â€œåˆ†æ -&gt; è§„åˆ’ -&gt; æ‰§è¡Œï¼ˆç¼–ç ï¼‰-&gt; éªŒè¯â€</strong>Â çš„å®Œæ•´é—­ç¯ã€‚</p>
<h2 data-id="heading-6">é™„èµ å°æŠ€å·§ä¸è¸©å‘ç»éªŒ</h2>
<ol>
<li>
<p><strong>æŒ‡ä»¤è¦å…·ä½“</strong>ï¼šSkills æ¨¡å¼å¾ˆå¼ºï¼Œä½†æŒ‡ä»¤è¶Šæ¸…æ™°ï¼Œæ•ˆæœè¶Šå¥½ã€‚æ¯”å¦‚â€œæ‰¾å‡º Bug å¹¶ä¿®å¤â€å°±æ¯”â€œçœ‹çœ‹è¿™æ®µä»£ç â€å¼ºå¾—å¤šã€‚</p>
</li>
<li>
<p><strong>å·¥å…·å‹¾é€‰æ˜¯é—¨å­¦é—®</strong>ï¼šå¦‚æœä½ çš„ä»»åŠ¡ä¸éœ€è¦è”ç½‘ï¼Œå°±åˆ«å‹¾é€‰ç½‘ç»œæœç´¢ï¼Œé€Ÿåº¦ä¼šå¿«å¾ˆå¤šã€‚ä½†å¦‚æœæ˜¯ä¿®å¤ä¸€ä¸ªæ¶‰åŠé™Œç”Ÿ API çš„ Bugï¼Œå‹¾ä¸Šæœç´¢èƒ½è®© AI è‡ªå·±å»æŸ¥æ–‡æ¡£ï¼Œåè€Œæ›´çœå¿ƒã€‚</p>
</li>
<li>
<p><strong>æ–‡ä»¶è·¯å¾„è¦æ³¨æ„</strong>ï¼šåœ¨ Skills é‡Œï¼ŒAI æ“ä½œæ–‡ä»¶æ˜¯åŸºäºä½ ä¸Šä¼ çš„â€œå·¥ä½œåŒºâ€ã€‚æŒ‡ä»¤é‡Œæåˆ°çš„æ–‡ä»¶åä¸€å®šè¦å’Œä¸Šä¼ çš„æ–‡ä»¶åä¸€è‡´ï¼Œä¸ç„¶å®ƒä¼šæ‰¾ä¸åˆ°ã€‚</p>
</li>
<li>
<p><strong>å¤æ‚ä»»åŠ¡å¯ä»¥åˆ†æ­¥</strong>ï¼šå¯¹äºç‰¹åˆ«å¤æ‚çš„é¡¹ç›®ï¼Œå¯ä»¥åˆ›å»ºå¤šä¸ªä¸²è”çš„ Skillsã€‚æ¯”å¦‚ Skill1 ä¸“é—¨è·‘å•å…ƒæµ‹è¯•å‘ç°å¤±è´¥ç”¨ä¾‹ï¼ŒSkill2 æ ¹æ®å¤±è´¥æ—¥å¿—å»å®šä½å’Œä¿®å¤ä»£ç ã€‚è¿™æ ·ç©ï¼Œç©ºé—´å°±å¤§äº†ã€‚</p>
</li>
</ol>
<h2 data-id="heading-7">åè®°</h2>
<p>ä½“éªŒå®Œ Trae çš„ Skills æ¨¡å¼ï¼Œæˆ‘æœ€å¤§çš„æ„Ÿå—æ˜¯ï¼š<strong>AI æ™ºèƒ½ä½“â€œè‡ªä¸»è¡ŒåŠ¨â€çš„æ—¶ä»£ï¼ŒçœŸçš„å¼€å§‹äº†</strong>ã€‚</p>
<p>å®ƒä¸å†åªæ˜¯ä¸€ä¸ªéœ€è¦ä½ ä¸€æ­¥æ­¥æ‰‹æŠŠæ‰‹æ•™çš„â€œå®ä¹ ç”Ÿâ€ï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½é¢†åˆ°ä¸€ä¸ªæ¨¡ç³Šä»»åŠ¡ï¼Œç„¶åè‡ªå·±æ‹†è§£ã€æ‰¾å·¥å…·ã€æ‰§è¡Œå¹¶äº¤ä»˜ç»“æœçš„â€œåˆçº§å·¥ç¨‹å¸ˆâ€ã€‚</p>
<p>è¿™å¯¹æˆ‘ä»¬å¼€å‘è€…æ„å‘³ç€ä»€ä¹ˆï¼Ÿæˆ‘è§‰å¾—ï¼Œä»¥åå’±ä»¬æ›´å¤šçš„ç²¾åŠ›ä¼šæ”¾åœ¨Â <strong>â€œå®šä¹‰é—®é¢˜â€</strong>ã€<strong>â€œè®¾è®¡ä»»åŠ¡æµç¨‹â€</strong>Â å’ŒÂ <strong>â€œå®¡æ ¸ç»“æœâ€</strong>Â ä¸Šï¼Œè€ŒæŠŠé‚£äº›ç¹çã€é‡å¤ã€æ¨¡å¼åŒ–çš„ä»£ç æ£€æŸ¥å’Œä¿®å¤å·¥ä½œï¼Œæ”¾å¿ƒäº¤ç»™åƒ Trae Skills è¿™æ ·çš„ AI å»å®Œæˆã€‚</p>
<p>å½“ç„¶ï¼Œç°åœ¨å®ƒå¯èƒ½è¿˜å¤„ç†ä¸äº†ç‰¹åˆ«åºå¤§å¤æ‚çš„ç³»ç»Ÿçº§ Bugï¼Œä½†è¿™ä¸ªæ–¹å‘å’Œæ½œåŠ›ï¼Œå·²ç»è¶³å¤Ÿè®©äººå…´å¥‹äº†ã€‚</p>
<p>èµ¶ç´§å»è¯•è¯•å§ï¼Œäº²æ‰‹æ‰“é€ ä¸€ä¸ªèƒ½å¸®ä½ æ”¹ Bug çš„ AI æ­æ¡£ï¼</p>
<p>æœ€åè¿˜æ˜¯ä¸å¿˜å„ä½çœ‹å®˜å“¥å“¥å§å§æ¥ä¸€æ³¢ä¸‰è¿ï¼ˆç‚¹èµ+å…³æ³¨+è½¬å‘ï¼‰ï¼ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[macOS æœªç­¾ååº”ç”¨ã€Œå·²æŸåã€é—®é¢˜è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7602512226999418930</link>    <guid>https://juejin.cn/post/7602512226999418930</guid>    <pubDate>2026-02-04T03:31:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602512226999418930" data-draft-id="7602465642534731826" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="macOS æœªç­¾ååº”ç”¨ã€Œå·²æŸåã€é—®é¢˜è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="Mac,macOS"/> <meta itemprop="datePublished" content="2026-02-04T03:31:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¡å°”ç‰¹æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/4450440831840909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            macOS æœªç­¾ååº”ç”¨ã€Œå·²æŸåã€é—®é¢˜è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4450440831840909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¡å°”ç‰¹æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:31:56.000Z" title="Wed Feb 04 2026 03:31:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜ç°è±¡</h2>
<p>å½“ä½ ä¸‹è½½æˆ–æ‹·è´ä¸€ä¸ªæœªç­¾åçš„ <code>.app</code> åº”ç”¨æ—¶ï¼ŒmacOS å¯èƒ½ä¼šå¼¹å‡ºä»¥ä¸‹é”™è¯¯æç¤ºï¼š</p>
<ul>
<li><strong>ã€Œxxx.app å·²æŸåï¼Œæ— æ³•æ‰“å¼€ã€‚æ‚¨åº”è¯¥å°†å®ƒç§»åˆ°åºŸçº¸ç¯“ã€‚ã€</strong></li>
<li><strong>ã€Œæ— æ³•æ‰“å¼€ xxxï¼Œå› ä¸ºæ— æ³•éªŒè¯å¼€å‘è€…ã€‚ã€</strong></li>
<li><strong>ã€ŒApple æ— æ³•æ£€æŸ¥å…¶æ˜¯å¦åŒ…å«æ¶æ„è½¯ä»¶ã€‚ã€</strong></li>
<li><strong>ã€Œæ¥è‡ªæœªè¯†åˆ«çš„å¼€å‘è€…ã€</strong></li>
</ul>
<h2 data-id="heading-1">é—®é¢˜åŸå› </h2>
<p>è¿™äº›é—®é¢˜é€šå¸¸<strong>ä¸æ˜¯åº”ç”¨æœ¬èº«æŸå</strong>ï¼Œè€Œæ˜¯ macOS çš„ Gatekeeper å®‰å…¨æœºåˆ¶åœ¨ä½œæ€ªã€‚å½“åº”ç”¨ä»ç½‘ç»œä¸‹è½½ã€AirDrop ä¼ è¾“æˆ–è§£å‹ zip æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ·»åŠ ã€Œéš”ç¦»æ ‡è®°ã€ï¼ˆæ‰©å±•å±æ€§ï¼‰ï¼Œå¯¼è‡´æœªç­¾ååº”ç”¨æ— æ³•æ­£å¸¸æ‰“å¼€ã€‚</p>
<blockquote>
<p><strong>åˆ¤æ–­ä¾æ®ï¼š</strong> å¦‚æœè¯¥åº”ç”¨åœ¨åˆ«äººç”µè„‘ä¸Šèƒ½æ­£å¸¸ä½¿ç”¨ï¼Œä¸”ä½ çš„ Mac èŠ¯ç‰‡æ¶æ„ï¼ˆIntel / Apple Siliconï¼‰ä¸åº”ç”¨åŒ¹é…ï¼Œé‚£åŸºæœ¬å°±æ˜¯æ‰©å±•å±æ€§çš„é—®é¢˜ï¼ŒæŒ‰ä¸‹é¢çš„æ–¹æ³•å¤„ç†å³å¯ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-2">è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-3">ç¬¬ä¸€æ­¥ï¼šå¼€å¯ã€Œä»»ä½•æ¥æºã€é€‰é¡¹ï¼ˆåªéœ€è®¾ç½®ä¸€æ¬¡ï¼‰</h3>
<blockquote>
<p>å¦‚æœä½ å·²ç»å¼€å¯è¿‡ã€Œä»»ä½•æ¥æºã€ï¼Œå¯ä»¥è·³è¿‡æ­¤æ­¥éª¤ï¼Œç›´æ¥çœ‹ç¬¬äºŒæ­¥ã€‚</p>
</blockquote>
<ol>
<li>
<p>ç‚¹å‡»èœå•æ æœç´¢å›¾æ ‡ï¼ˆæˆ–æŒ‰ <code>Command + ç©ºæ ¼</code>ï¼‰ï¼Œè¾“å…¥ <strong>ç»ˆç«¯</strong>ï¼Œæ‰“å¼€ç»ˆç«¯åº”ç”¨</p>
</li>
<li>
<p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œç„¶åæŒ‰å›è½¦ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudo spctl --master-disable
</code></pre>
<ol start="3">
<li>
<p>è¾“å…¥ä½ çš„ Mac ç™»å½•å¯†ç ï¼ˆ<strong>è¾“å…¥æ—¶ä¸ä¼šæ˜¾ç¤ºä»»ä½•å­—ç¬¦ï¼Œè¿™æ˜¯æ­£å¸¸çš„</strong>ï¼‰ï¼Œç„¶åæŒ‰å›è½¦</p>
</li>
<li>
<p>å®Œæˆåï¼Œå¯ä»¥åœ¨ <strong>ç³»ç»Ÿè®¾ç½® â†’ éšç§ä¸å®‰å…¨æ€§</strong> ä¸­çœ‹åˆ°ã€Œä»»ä½•æ¥æºã€é€‰é¡¹å·²å¼€å¯ï¼Œç„¶ååˆ‡æ¢åˆ°ã€Œä»»ä½•æ¥æºã€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70e34343b18e405e87aaaadf1bed8742~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2h5bCU54m55pav:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770780717&amp;x-signature=09a3A%2Bt2d12UyqJ397Rm6HT7%2BWI%3D" alt="image.png" loading="lazy"/></p>
</li>
</ol>
<h3 data-id="heading-4">ç¬¬äºŒæ­¥ï¼šæ¸…é™¤æ‰©å±•å±æ€§ï¼ˆæ ¸å¿ƒæ­¥éª¤ï¼‰</h3>
<ol>
<li>
<p>æ‰“å¼€ <strong>ç»ˆç«¯</strong></p>
</li>
<li>
<p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼ˆæ³¨æ„ <code>cr</code> åé¢æœ‰ä¸€ä¸ª<strong>ç©ºæ ¼</strong>ï¼Œå…ˆä¸è¦æŒ‰å›è½¦ï¼‰ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">xattr -cr 
</code></pre>
<ol start="3">
<li>
<p><strong>å°†åº”ç”¨æ‹–å…¥ç»ˆç«¯çª—å£</strong>ï¼ˆä»ã€Œåº”ç”¨ç¨‹åºã€æ–‡ä»¶å¤¹æˆ–æ¡Œé¢æ‹–å…¥ï¼‰ï¼Œè·¯å¾„ä¼šè‡ªåŠ¨å¡«å…¥</p>
</li>
<li>
<p>æŒ‰<strong>å›è½¦</strong>æ‰§è¡Œå‘½ä»¤</p>
</li>
<li>
<p>ç„¶å<strong>å³é”®ç‚¹å‡»åº”ç”¨ â†’ é€‰æ‹©ã€Œæ‰“å¼€ã€â†’ å†ç‚¹å‡»ã€Œæ‰“å¼€ã€</strong>ï¼Œå³å¯æ­£å¸¸ä½¿ç”¨</p>
</li>
</ol>
<p><strong>æˆ–è€…ç›´æ¥è¾“å…¥å®Œæ•´å‘½ä»¤ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">xattr -cr <span class="hljs-string">"/Applications/YourApp.app"</span>
</code></pre>
<blockquote>
<p><strong>æç¤ºï¼š</strong> å°† <code>/Applications/YourApp.app</code> æ›¿æ¢ä¸ºä½ çš„åº”ç”¨å®é™…è·¯å¾„ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-5">å¯é€‰ï¼šæŸ¥çœ‹æ‰©å±•å±æ€§</h2>
<p>å¦‚æœä½ æƒ³ç¡®è®¤é—®é¢˜åŸå› ï¼Œå¯ä»¥å…ˆæŸ¥çœ‹åº”ç”¨çš„æ‰©å±•å±æ€§ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">xattr -l <span class="hljs-string">"/Applications/YourApp.app"</span>
</code></pre>
<h3 data-id="heading-6">å¸¸è§çš„æ‰©å±•å±æ€§è¯´æ˜</h3>

























<table><thead><tr><th>å±æ€§å</th><th>è¯´æ˜</th><th>è§¦å‘åœºæ™¯</th></tr></thead><tbody><tr><td><code>com.apple.quarantine</code></td><td>éš”ç¦»æ ‡è®°ï¼ŒGatekeeper æ®æ­¤æ‹¦æˆªæœªç­¾ååº”ç”¨</td><td>æµè§ˆå™¨ä¸‹è½½ã€AirDropã€è§£å‹ zip</td></tr><tr><td><code>com.apple.provenance</code></td><td>macOS Ventura+ æ–°å¢ï¼Œè®°å½•åº”ç”¨æ¥æº</td><td>ç½‘ç»œè·å–ã€å¤åˆ¶/è§£å‹åä¿ç•™çš„å…ƒæ•°æ®</td></tr><tr><td><code>...</code></td><td>å¦‚æœæ˜¯ä¸åŒæ¸ é“ä¸‹è½½çš„è¿˜ä¼šå¸¦ä¸Šä¸åŒæ¸ é“çš„æ ‡è¯†ã€‚</td><td>æ¥æºäºä¸åŒçš„ä¸‹è½½æº</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-7">æ³¨æ„äº‹é¡¹</h2>
<ol>
<li>
<p><strong>ç¡®è®¤èŠ¯ç‰‡æ¶æ„åŒ¹é…ï¼š</strong></p>
<ul>
<li>Intel èŠ¯ç‰‡ Mac â†’ éœ€è¦ Intel ç‰ˆæœ¬æˆ–é€šç”¨ç‰ˆæœ¬ï¼ˆUniversalï¼‰çš„åº”ç”¨</li>
<li>Apple Siliconï¼ˆM1/M2/M3/M4ï¼‰Mac â†’ éœ€è¦ ARM ç‰ˆæœ¬æˆ–é€šç”¨ç‰ˆæœ¬çš„åº”ç”¨</li>
<li>å¯é€šè¿‡å·¦ä¸Šè§’  <strong>â†’ å…³äºæœ¬æœº</strong> æŸ¥çœ‹èŠ¯ç‰‡ç±»å‹</li>
</ul>
</li>
<li>
<p><strong>åº”ç”¨å¿…é¡»å·²å®‰è£…ï¼š</strong></p>
<ul>
<li>æ‰§è¡Œ <code>xattr -cr</code> æ—¶ï¼Œåº”ç”¨éœ€è¦å·²ç»æ‹–å…¥ã€Œåº”ç”¨ç¨‹åºã€æ–‡ä»¶å¤¹æˆ–æ”¾åœ¨æ¡Œé¢</li>
<li>ä¸èƒ½ç›´æ¥å¯¹ <code>.dmg</code> ç£ç›˜æ˜ åƒå†…çš„åº”ç”¨æ‰§è¡Œæ­¤å‘½ä»¤</li>
</ul>
</li>
<li>
<p><strong>ç¡®è®¤åº”ç”¨æ¥æºå¯ä¿¡ï¼š</strong></p>
<ul>
<li>åªå¯¹ä½ ä¿¡ä»»çš„åº”ç”¨æ‰§è¡Œä¸Šè¿°æ“ä½œ</li>
<li>å»ºè®®ä»å®˜æ–¹æ¸ é“æˆ–å¯é æ¥æºè·å–åº”ç”¨</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-8">å¿«é€Ÿå‘½ä»¤å‚è€ƒ</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼€å¯ã€Œä»»ä½•æ¥æºã€ï¼ˆåªéœ€æ‰§è¡Œä¸€æ¬¡ï¼‰</span>
sudo spctl --master-disable

<span class="hljs-comment"># æŸ¥çœ‹æ‰©å±•å±æ€§</span>
xattr -l <span class="hljs-string">"/path/to/App.app"</span>

<span class="hljs-comment"># æ¸…é™¤æ‰©å±•å±æ€§ï¼ˆæ¨èï¼‰</span>
xattr -cr <span class="hljs-string">"/path/to/App.app"</span>

<span class="hljs-comment"># ä»…æ¸…é™¤éš”ç¦»æ ‡è®°</span>
xattr -d com.apple.quarantine <span class="hljs-string">"/path/to/App.app"</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutter æ¶æ„æ—¥è®° â€”â€” plugin åŸºç¡€å»ºè®¾]]></title>    <link>https://juejin.cn/post/7602559134575198244</link>    <guid>https://juejin.cn/post/7602559134575198244</guid>    <pubDate>2026-02-04T04:02:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602559134575198244" data-draft-id="7601929765533368371" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutter æ¶æ„æ—¥è®° â€”â€” plugin åŸºç¡€å»ºè®¾"/> <meta itemprop="keywords" content="æ¶æ„,Flutter,å®¢æˆ·ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T04:02:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äººå½¢æ‰“ç æœº"/> <meta itemprop="url" content="https://juejin.cn/user/2085122730895063"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutter æ¶æ„æ—¥è®° â€”â€” plugin åŸºç¡€å»ºè®¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2085122730895063/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äººå½¢æ‰“ç æœº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T04:02:45.000Z" title="Wed Feb 04 2026 04:02:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.8;font-weight:400;font-size:16px;word-spacing:2px;letter-spacing:2px;overflow-x:hidden;color:#3e3e3e;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{padding-bottom:12px;font-size:24px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:1.2em;border-bottom:2px solid #ef7060;word-spacing:0!important;letter-spacing:0!important;font-size:inherit;line-height:inherit;display:block;font-weight:400;background:#ef7060;color:#fff;padding:10px;border-top-right-radius:3px;border-top-left-radius:3px;margin-right:3px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><p>åœ¨å¾ˆå¤š Flutter é¡¹ç›®åˆšå¯åŠ¨çš„æ—¶å€™ï¼Œæ¶æ„å¾€å¾€ä¸æ˜¯æœ€å…ˆè¢«è®¨è®ºçš„é—®é¢˜ï¼Œé€šå¸¸å®¢æˆ·ç«¯çš„æ¶æ„åœ¨åˆå§‹é˜¶æ®µå¾€å¾€è¢«è½»è§†ã€‚</p>
<p>é¡µé¢èƒ½è·‘ã€åŠŸèƒ½èƒ½ç”¨ã€äº¤äº’çœ‹èµ·æ¥ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä¼¼ä¹ä¸€åˆ‡éƒ½åœ¨ä¸€ä¸ªâ€œå·®ä¸å¤šâ€çš„çŠ¶æ€é‡Œã€‚ä½†å½“é¡¹ç›®è¿›å…¥å¤šäººåä½œã€åŠŸèƒ½é€æ¸å¢å¤šã€å¼€å§‹è¦†ç›–ä¸åŒå¹³å°ä¹‹åï¼Œé—®é¢˜å¾€å¾€ä¼šä»¥ä¸€äº›å¹¶ä¸æ¸©å’Œçš„æ–¹å¼å‡ºç°ã€‚</p>
<p>å›å¤´çœ‹æˆ‘è‡ªå·±ç»å†è¿‡çš„å‡ ä¸ª Flutter é¡¹ç›®ï¼ŒçœŸæ­£è®©æˆ‘æ„è¯†åˆ°â€œPlugin åŸºç¡€å»ºè®¾â€è¿™ä»¶äº‹çš„é‡è¦æ€§ï¼Œå¹¶ä¸æ˜¯å› ä¸ºæŸä¸€æ¬¡å†™å¾—ä¸é¡ºï¼Œè€Œæ˜¯å› ä¸º<strong>åæœŸç»´æŠ¤çš„ä»£ä»·å®åœ¨å¤ªé«˜</strong>ã€‚</p>
<blockquote>
<p>çœŸå®å·¥ç¨‹ä¸­ï¼Œ<strong>ä¸ºä»€ä¹ˆå¯¹ Plugin åšæ˜ç¡®åˆ†çº§</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆåš Plugin åˆ†çº§</h2>
<p>æ›¾ç»å’Œåˆ«äººè®¨è®ºè¿‡ä¸€ä¸ªé—®é¢˜ï¼Œ<code>å¦‚æœä¸è€ƒè™‘ä»»ä½•è®¾è®¡æ¨¡å¼ï¼Œä¸ä½¿ç”¨ä»»ä½•æ¨èçš„é¡¹ç›®ç»“æ„ï¼Œç›´æ¥å°†æ‰€æœ‰ä»£ç æ”¾åœ¨ä¸€ä¸ªç±»ä¸­æ˜¯å¦å¯ä»¥è¿è¡Œé¡¹ç›®</code>â€”â€”ç­”æ¡ˆæ˜¯å½“ç„¶å¯ä»¥ï¼Œåªè¦ä½ ä¸æ‹…å¿ƒåœ¨ä¸€ä¸ªé£å’Œæ—¥ä¸½çš„ä¸‹åˆè€æ¿çªç„¶è¿‡æ¥æ‰“çˆ†ä½ çš„å¤´ã€‚</p>
<p>Flutter çš„ä¼˜åŠ¿å¾ˆæ˜æ˜¾ï¼šè·¨å¹³å°ã€é«˜æ•ˆç‡ã€å­¦ä¹ æ›²çº¿å‹å¥½ï¼Œè§†å›¾æ­å»ºè¿…é€Ÿç­‰ã€‚<br/>
ä½†è¿™äº›ä¼˜åŠ¿ï¼Œåœ¨é¡¹ç›®è§„æ¨¡å˜å¤§ä¹‹åï¼Œä¹Ÿä¼šåè¿‡æ¥æ”¾å¤§ä¸€äº›é£é™©ã€‚å…¶ä¸­æœ€å…¸å‹çš„ä¸€ç‚¹æ˜¯ï¼š</p>
<blockquote>
<p><strong>å¹³å°å·®å¼‚å¹¶ä¸ä¼šå› ä¸º Flutter è€Œæ¶ˆå¤±</strong>ã€‚</p>
</blockquote>
<p>åœ¨æ¶‰åŠåŸç”Ÿèƒ½åŠ›çš„åœºæ™¯ä¸­ï¼Œæ¯”å¦‚è“ç‰™ã€WiFiã€æ–‡ä»¶ç³»ç»Ÿã€ç³»ç»Ÿæƒé™ç®¡ç†ç­‰ï¼Œä¸åŒå¹³å°ä¹‹é—´çš„å®ç°å·®å¼‚æ˜¯å®¢è§‚å­˜åœ¨çš„ã€‚å¦‚æœåœ¨æ—©æœŸæ²¡æœ‰é€šè¿‡åˆ†åŒ…æˆ–æ’ä»¶åšé€»è¾‘éš”ç¦»ï¼Œè¿™äº›å·®å¼‚å¾ˆå®¹æ˜“é€šè¿‡ <code>if platform()</code>è¿™æ ·çš„åˆ¤å®šâ€œé¡ºæ‰‹â€å†™è¿›ä¸šåŠ¡å±‚ã€‚</p>
<p>çŸ­æœŸçœ‹ï¼Œè¿™æ ·åšç¡®å®å¾ˆä¾¿æ·ï¼›<br/>
ä½†éšç€å¹³å°å˜å¤šã€åŠŸèƒ½å¤æ‚ï¼Œè¿™äº›å·®å¼‚å°±ä¼šè¿…é€Ÿæ¼”å˜æˆç»´æŠ¤å™©æ¢¦ï¼Œç”šè‡³æ¼”åŒ–ä¸º P0 é—®é¢˜ã€‚</p>
<p>Plugin çš„åˆ†çº§å¹¶ä¸æ˜¯ä¸ºäº†<code>æ¶æ„å¥½çœ‹</code>ï¼Œè€Œæ˜¯ä¸ºäº†å›ç­”ä¸€ä¸ªæ›´ç°å®çš„é—®é¢˜ï¼š</p>
<blockquote>
<p><strong>å¤æ‚åº¦åˆ°åº•åº”è¯¥è¢«æ”¾åœ¨å“ªé‡Œï¼Ÿ</strong></p>
</blockquote>
<p>å¦‚æœä¸ä¸»åŠ¨ä¸ºå®ƒå‡†å¤‡ä¸€ä¸ªå®¹å™¨ï¼Œå®ƒè¿Ÿæ—©ä¼šæµå‘ä¸šåŠ¡å±‚ç»™å„ä¸ªåŠŸèƒ½æ¨¡å—å¸¦æ¥è´Ÿæ‹…é€æ¸å˜ä¸ºä¸€å¨äººäººèº²é¿çš„ç‹®å±±ï¼Œ<code>åœ¨æœªæ¸…æ™°äº†è§£ä¸šåŠ¡åŠå†å²åŒ…è¢±å‰ä¸è¦è½»æ˜“åŠ¨ç‹®å±±ï¼Œå®ƒä¸€å®šèƒ½åŸ‹ä½æ¯ä¸ªè‡ªè®¤ä¸ºç²¾æ˜çš„äºº</code>ï¼Œå¦‚åŒç½—é©¬ä¸æ˜¯ä¸€æ—¥å»ºæˆä¸€èˆ¬ä¸€å¨ç‹®å±±ä¹Ÿæ˜¯å……æ»¡äº†å„ç§åŒ…è¢±ï¼Œè§£å†³ä»–çš„æœ€å¥½æ–¹å¼æ˜¯åœ¨ä¸€å¼€å§‹å°±åº”è¯¥å°½å¯èƒ½é¿å…åç»­çš„æ˜æ˜¾ä¸åˆç†å †ç Œã€‚</p>
<hr/>
<h2 data-id="heading-1">Plugin åˆ†çº§çš„å¸¸è§æ€è·¯</h2>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œé€šå¸¸æ ¹æ®<code>å¹³å°ç‰¹æ€§ &amp; ä¸šåŠ¡å½¢æ€</code>å¯¹ Plugin åšåˆ†çº§ã€‚</p>
<blockquote>
<p>è¿™ç§åˆ†çº§å¹¶ä¸æ˜¯ç»å¯¹çš„ï¼Œä½†ä¼˜å…ˆçº§æ˜¯æ˜ç¡®çš„ã€‚</p>
</blockquote>
<h3 data-id="heading-2">P0ï¼šå¹³å°èƒ½åŠ›åˆ†çº§ â€”â€” æœ€åº”é‡è§†</h3>
<p>Flutter åœ¨ UI å±‚éå¸¸å¼ºï¼Œä½†åœ¨åŸç”Ÿèƒ½åŠ›è°ƒç”¨ä¸Šå¤©ç„¶å­˜åœ¨çŸ­æ¿ã€‚</p>
<p>åªè¦æ¶‰åŠä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li>è“ç‰™ã€WiFi ç­‰ç¡¬ä»¶èƒ½åŠ›</li>
<li>æ–‡ä»¶å­˜å‚¨ã€ç³»ç»Ÿæƒé™</li>
<li>ä¸å¹³å°ç”Ÿå‘½å‘¨æœŸå¼ºç›¸å…³çš„èƒ½åŠ›</li>
</ul>
<p>å°±ä¸å¯é¿å…åœ°éœ€è¦å’ŒåŸç”Ÿä»£ç æ‰“äº¤é“ã€‚</p>
<p>å¦‚æœè¿™äº›é€»è¾‘è¢«ç›´æ¥å†™è¿›ä¸šåŠ¡å±‚ï¼Œé—®é¢˜å¾€å¾€ä¸æ˜¯â€œç°åœ¨èƒ½ä¸èƒ½è·‘â€ï¼Œè€Œæ˜¯<strong>æœªæ¥è¿˜èƒ½ä¸èƒ½ç»´æŠ¤</strong>ã€‚<br/>
ä¸€æ¬¡å¹³å°æ”¹åŠ¨ï¼Œå°±å¯èƒ½ç‰µåŠ¨å¤§é‡ä¸šåŠ¡ä»£ç ï¼Œç”šè‡³ç›´æ¥å¼•å‘çº¿ä¸Šäº‹æ•…ã€‚</p>
<p>å› æ­¤è¿™ä¸€å±‚æ¬¡çš„æŠ½ç¦»å¾€å¾€å¾ˆå…³é”®ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹å‡ ä¸ªåŸºæœ¬è¦ç´  ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">-  æ‰€æœ‰å¹³å°å·®å¼‚ï¼Œåªå­˜åœ¨äº plugin å†…éƒ¨
-  å¯¹ä¸šåŠ¡å±‚æš´éœ²çš„ï¼Œåªæ˜¯ç»Ÿä¸€æ¥å£
-  ä¸šåŠ¡å±‚æ°¸è¿œä¸éœ€è¦å…³å¿ƒå½“å‰è¿è¡Œåœ¨å“ªä¸ªå¹³å°
</code></pre>
<p>ç›®æ ‡åªæœ‰ä¸€ä¸ªï¼š</p>
<blockquote>
<p><strong>é€šè¿‡æ¨¡å—åŒ–çš„åˆ’åˆ†ï¼ŒæŠŠå¹³å°å¤æ‚åº¦è¿›è¡Œå°è£…ï¼Œåªå¯¹ä¸šåŠ¡æš´éœ²æ¥å£èƒ½åŠ›</strong></p>
</blockquote>
<p>è¿™æ˜¯æ•´ä¸ªæ¶æ„ä¸­ï¼Œä¼˜å…ˆçº§æœ€é«˜ã€ä¹Ÿæœ€ä¸èƒ½å¦¥åçš„ä¸€å±‚ã€‚</p>
<hr/>
<h3 data-id="heading-3">P1ï¼šè§†å›¾å…¬å…±ç»„ä»¶ â€”â€” è¶Šæ—©è¶Šå¥½</h3>
<p>å¾ˆå¤šé¡¹ç›® UI å±‚çš„é—®é¢˜ï¼Œåœ¨ä¸€å¼€å§‹å¹¶ä¸å®¹æ˜“æ˜¾ç°ã€‚</p>
<p>é¡¹ç›®åˆæœŸï¼Œå¦‚æœæ²¡æœ‰æ˜ç¡®çš„å¼€å‘è¦æ±‚ï¼Œå¤§å®¶å¾€å¾€å„è‡ªä¸ºæˆ˜ï¼šé¢œè‰²éšæ‰‹å†™ã€æ ·å¼ä¸´æ—¶é…ã€å¼¹çª—ä»»æ„è°ƒç”¨ï¼ˆæ¯•ç«Ÿæ½œæ„è¯†éƒ½è§‰å¾— UI å¹¶æ²¡æœ‰ä»€ä¹ˆè®¾è®¡æ¨¡å¼ï¼‰ã€‚çŸ­æœŸå†…çœ‹ä¸å‡ºå¤ªå¤§é—®é¢˜å¹¶ä¸”å¼€å‘æ•ˆç‡è¿˜ä¸å·®ï¼Œä½†å½“è¿›å…¥å¤šäººåä½œã€æŒç»­è¿­ä»£é˜¶æ®µï¼Œè¿™äº›â€œä¸€æ—¶ä¹‹çˆ½â€ä¼šè¿…é€Ÿå †ç§¯æˆä¸å¯å¿½è§†çš„æŠ€æœ¯å€ºã€‚</p>
<p>åœ¨ç•Œé¢å¼€å‘åˆæœŸï¼Œåº”å°½æ—©çº³å…¥è§†å›¾ç»„ä»¶å±‚çš„å»ºè®¾èŒƒå›´ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">-  åŸºç¡€è‰²å€¼ä¸æ–‡æœ¬æ ·å¼
-  é€šç”¨æŒ‰é’®ã€è¾“å…¥ç»„ä»¶
-  å¼¹çª—ã€Toastã€å¯¹è¯æ¡†
-  è·¯ç”±ä¸é¡µé¢å®¹å™¨çš„ç»Ÿä¸€ç®¡ç†
</code></pre>
<p>è¿™ä¸€å±‚çš„é£é™©åœ¨äºï¼š</p>
<blockquote>
<p><strong>å®ƒä¸æ˜¯é©¬ä¸Šçˆ†ç‚¸çš„ï¼Œä½†ä¸€æ—¦å¤±æ§ï¼Œå½±å“èŒƒå›´å‡ ä¹æ˜¯å…¨éƒ¨</strong></p>
</blockquote>
<p>ç­‰ä½ çœŸæ­£æ„è¯†åˆ°æ ·å¼ã€å›¾æ ‡ã€äº¤äº’å·²ç»å‡ºç°ç³»ç»Ÿæ€§å·®å¼‚æ—¶ï¼Œå¾€å¾€å·²ç»å¾ˆéš¾åœ¨ä¸ä»˜å‡ºå·¨å¤§æˆæœ¬çš„æƒ…å†µä¸‹å®Œæˆé‡æ„ã€‚</p>
<p>ä»ç»éªŒæ¥çœ‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ <strong>P1 é—®é¢˜ï¼Œä½†åæœæ¥è¿‘ P0</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-4">P1ï¼šä¸šåŠ¡åŸŸ â€”â€” æ¨¡å— Owner</h3>
<p>å½“é¡¹ç›®å¼€å§‹æ‹†åˆ†æ¨¡å—ã€å¤šäººå¹¶è¡Œå¼€å‘æ—¶ï¼Œä¸šåŠ¡å±‚çš„ç»“æ„æ¸…æ™°åº¦ä¼šç›´æ¥å½±å“åä½œæ•ˆç‡ã€‚</p>
<p>åƒç™»å½•ã€ç”¨æˆ·ä¿¡æ¯ã€ç½‘ç»œè¯·æ±‚ã€è®¾å¤‡ç®¡ç†è¿™ç±»ç”±ä¸“äººé•¿æœŸç»´æŠ¤çš„åŠŸèƒ½ï¼Œå¦‚æœå…¨éƒ¨å †åœ¨ä¸€ä¸ªä¸šåŠ¡å±‚é‡Œï¼Œå¾ˆå®¹æ˜“å‡ºç°èŒè´£ä¸æ¸…ã€æ”¹åŠ¨äº’ç›¸å½±å“çš„é—®é¢˜ã€‚</p>
<p>å°†è¿™ç±»åŠŸèƒ½æŒ‰ä¸šåŠ¡åŸŸæ‹†åˆ†ä¸ºç‹¬ç«‹ Pluginï¼Œå¯ä»¥å¸¦æ¥å‡ ä¸ªæ˜æ˜¾æ”¶ç›Šï¼š</p>
<ul>
<li>èŒè´£è¾¹ç•Œæ›´æ¸…æ™°</li>
<li>å‡å°‘æ— å…³ä»£ç çš„æ”¹åŠ¨å½±å“</li>
<li>æ›´åˆ©äºå¹¶è¡Œå¼€å‘ä¸é•¿æœŸç»´æŠ¤</li>
</ul>
<p>éœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œè¿™ä¸€å±‚å¹¶ä¸æ˜¯â€œæ‹†å¾—è¶Šç»†è¶Šå¥½â€ï¼Œè€Œæ˜¯<strong>æ‹†åˆ°è´£ä»»æ˜ç¡®ä¸ºæ­¢</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-5">P2ï¼šé€šç”¨å·¥å…· â€”â€” æé«˜å¤ç”¨</h3>
<p>è¿˜æœ‰ä¸€ç±» Pluginï¼Œæˆ–è€…è¯´ Package é€šå¸¸ä¼˜å…ˆçº§ç•¥ä½ï¼Œä½†è¿Ÿæ—©éœ€è¦é¢å¯¹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">-  æ—¥å¿—ç³»ç»Ÿ
-  å…¨å±€é€šç”¨çš„åŠ è§£å¯†ç­–ç•¥
-  ä¸€äº›è·¨æ¨¡å—å¤ç”¨çš„å·¥å…·æ–¹æ³•
</code></pre>
<p>è¿™ç±»ä»£ç ä¸ªäººæ›´å€¾å‘äºä»¥ <strong>Dart Package</strong> çš„å½¢å¼ç»´æŠ¤ï¼š</p>
<ul>
<li>ç‹¬ç«‹ç‰ˆæœ¬ï¼Œå°½å¯èƒ½ä¸ä¾èµ–ä¸‰æ–¹æ’ä»¶</li>
<li>æ˜ç¡®ä½¿ç”¨è¾¹ç•Œï¼ˆæ ¹æ®é¡¹ç›®åŠå›¢é˜Ÿæƒ…å†µåˆ¶å®šï¼‰</li>
<li>é¿å…å·¥å…·æ–¹æ³•æ— é™è†¨èƒ€</li>
</ul>
<p>è¿™ä¸€å±‚å¾€å¾€ä¸ä¼šæˆä¸ºé¡¹ç›®åˆæœŸçš„ç“¶é¢ˆï¼Œä½†å¦‚æœé•¿æœŸå¿½è§†ï¼ŒåæœŸåŒæ ·ä¼šæˆä¸ºæŠ€æœ¯å€ºçš„é›†ä¸­åŒºã€‚</p>
<hr/>
<h2 data-id="heading-6">ç®€è¦çš„åˆ†çº§æ€»ç»“</h2>
<p>å¦‚æœä»å®è§‚è§’åº¦çœ‹ï¼Œä¸€ç§æ¥å—åº¦è¾ƒé«˜çš„åˆ†çº§ç»´åº¦æ˜¯ï¼š</p>
<ul>
<li><strong>Platform Pluginï¼ˆP0ï¼‰</strong> ï¼šæ§åˆ¶å¹³å°å·®å¼‚ï¼Œé¿å…ä¸šåŠ¡å±‚ P0</li>
<li><strong>Widget / UI Pluginï¼ˆP1ï¼‰</strong> ï¼šæ§åˆ¶ä¸€è‡´æ€§ï¼Œé¿å…ä¸å¯å›æ”¶çš„æ ·å¼å€º</li>
<li><strong>Domain Pluginï¼ˆP1ï¼‰</strong> ï¼šæ§åˆ¶åä½œæˆæœ¬ï¼Œæ˜ç¡®ä¸šåŠ¡è´£ä»»</li>
<li><strong>Tools / Packageï¼ˆP2ï¼‰</strong> ï¼šæ§åˆ¶å¤ç”¨ä¸æŠ€æœ¯å€ºæ‰©æ•£</li>
</ul>
<blockquote>
<p>åˆ†çº§çš„ç›®çš„ï¼Œä»æ¥ä¸æ˜¯é™åˆ¶å¼€å‘ï¼Œè€Œæ˜¯<strong>è®©å¤æ‚åº¦æœ‰åºç”Ÿé•¿</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">å†™åœ¨æœ€å</h2>
<p>é€šè¿‡ä¸€ç¯‡çŸ­æ–‡ä¸å¯èƒ½ä¸€æ¬¡æ€§è®²æ¸…æ¥š Flutter Plugin æ¶æ„åˆ†çº§ã€‚</p>
<p>åœ¨åç»­çš„ã€ŠFlutter æ¶æ„æ—¥è®°ã€‹ä¸­ï¼Œç¬”è€…å°†é€šè¿‡å®è·µç»“åˆç†è®ºä¼šåˆ†åˆ«å±•å¼€ä¸åŒçš„åˆ†çº§ç»´åº¦ï¼Œç»“åˆçœŸå®é¡¹ç›®ä¸­çš„å–èˆä¸è¸©å‘ç»å†ï¼Œå›´ç»•ä»¥ä¸‹å‡ ç‚¹å±•å¼€å­¦ä¹ è®¨è®ºï¼š</p>
<ul>
<li>å¹³å° Plugin çš„è®¾è®¡è¾¹ç•Œ</li>
<li>UI ç»„ä»¶å¦‚ä½•é¿å…é‡è›®ç”Ÿé•¿</li>
<li>ä¸šåŠ¡åŸŸ Plugin çš„æ‹†åˆ†æ—¶æœº</li>
<li>é€šç”¨å·¥å…·å±‚å¦‚ä½•ä¿æŒå…‹åˆ¶</li>
</ul>
<p>æ¶æ„ä»æ¥ä¸æ˜¯ä¸€å¥—å›ºå®šç­”æ¡ˆï¼Œè€Œæ˜¯ä¸€è¿ä¸²åœ¨çœŸå®çº¦æŸä¸‹ä¸æ–­çš„åšé€‰æ‹©ï¼Œæ­£æ˜¯å®ƒçš„ä¸å”¯ä¸€æ€§é€ å°±äº†è½¯ä»¶å·¥ç¨‹è¿™é—¨å­¦ç§‘ï¼›</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¸©å‘è®°å½•ï¼šiOS Safari è½¯é”®ç›˜ä¸‹çš„"å¹½çµå¼¹çª—"é—®é¢˜]]></title>    <link>https://juejin.cn/post/7602466689713340431</link>    <guid>https://juejin.cn/post/7602466689713340431</guid>    <pubDate>2026-02-04T04:59:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602466689713340431" data-draft-id="7602488187408580660" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¸©å‘è®°å½•ï¼šiOS Safari è½¯é”®ç›˜ä¸‹çš„&quot;å¹½çµå¼¹çª—&quot;é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-04T04:59:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RemHusband"/> <meta itemprop="url" content="https://juejin.cn/user/1425415102792237"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¸©å‘è®°å½•ï¼šiOS Safari è½¯é”®ç›˜ä¸‹çš„"å¹½çµå¼¹çª—"é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1425415102792237/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RemHusband
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T04:59:03.000Z" title="Wed Feb 04 2026 04:59:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ€è¿‘åœ¨åšç§»åŠ¨ç«¯ H5 ç™»å½•é¡µé¢æ—¶ï¼Œé‡åˆ°äº†ä¸€ä¸ªè¯¡å¼‚çš„ bugï¼šåœ¨ iOS Safari ä¸­ï¼Œå¼¹çª—æ˜æ˜æ˜¾ç¤ºåœ¨å±å¹•ä¸­å¤®ï¼Œç‚¹å‡»æŒ‰é’®å´æ¯«æ— ååº”ã€‚æ£€æŸ¥å…ƒç´ åå‘ç°ï¼ŒDOM çš„å®é™…ä½ç½®å’Œè§†è§‰ä½ç½®å®Œå…¨å¯¹ä¸ä¸Šã€‚æŠ˜è…¾äº†ä¸€ç•ªåç»ˆäºææ¸…æ¥šäº†åŸå› ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p>
</blockquote>
<h2 data-id="heading-0">é—®é¢˜ç°è±¡</h2>
<p>æˆ‘ä»¬çš„ç™»å½•æ¨¡å—æœ‰ä¸¤ä¸ªé¡µé¢ï¼šè´¦å·å¯†ç ç™»å½•å’ŒéªŒè¯ç ç™»å½•ï¼Œå¯ä»¥äº’ç›¸åˆ‡æ¢ã€‚ä¸¤ä¸ªé¡µé¢éƒ½æœ‰ä¸€ä¸ªåè®®ç¡®è®¤å¼¹çª—ï¼Œä½¿ç”¨ <code>position: fixed</code> å®šä½ã€‚</p>
<p>è¯¡å¼‚çš„äº‹æƒ…å‘ç”Ÿäº†ï¼š</p>
<ol>
<li>åœ¨è´¦å·å¯†ç é¡µé¢è¾“å…¥æ‰‹æœºå·ï¼ˆè½¯é”®ç›˜å¼¹å‡ºï¼‰ï¼Œè§¦å‘å¼¹çª—ï¼Œç‚¹å‡»å–æ¶ˆ â€”â€” <strong>æ­£å¸¸</strong></li>
<li>åˆ‡æ¢åˆ°éªŒè¯ç é¡µé¢ï¼Œè§¦å‘å¼¹çª—ï¼Œç‚¹å‡»å–æ¶ˆ â€”â€” <strong>æ­£å¸¸</strong></li>
<li>å†åˆ‡æ¢å›è´¦å·å¯†ç é¡µé¢ï¼Œè§¦å‘å¼¹çª—ï¼Œç‚¹å‡»å–æ¶ˆ â€”â€” <strong>æ²¡ååº”ï¼</strong></li>
</ol>
<p>æ‰“å¼€ Safari è°ƒè¯•å™¨ä¸€çœ‹ï¼Œå¼¹çª—çš„ DOM ä½ç½®å’Œå±å¹•ä¸Šæ˜¾ç¤ºçš„ä½ç½®å·®äº†å¥½å‡ ç™¾åƒç´ ã€‚ç‚¹å‡»äº‹ä»¶å®é™…è§¦å‘åœ¨äº†ç©ºç™½åŒºåŸŸã€‚</p>
<p>è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„"å¹½çµå¼¹çª—"ã€‚</p>
<hr/>
<h2 data-id="heading-1">å‰ç½®çŸ¥è¯†ï¼šç†è§£ç§»åŠ¨ç«¯è§†å£</h2>
<p>è¦ææ¸…æ¥šè¿™ä¸ªé—®é¢˜ï¼Œå¾—å…ˆç†è§£ç§»åŠ¨ç«¯æµè§ˆå™¨çš„è§†å£æ¦‚å¿µã€‚è¿™éƒ¨åˆ†å†…å®¹ç¨å¾®æœ‰ç‚¹ç»•ï¼Œä½†ç†è§£äº†ä¹‹åå¾ˆå¤šç§»åŠ¨ç«¯çš„å‘å°±éƒ½èƒ½è§£é‡Šäº†ã€‚</p>
<h3 data-id="heading-2">ä¸‰ç§è§†å£</h3>
<p>ç§»åŠ¨ç«¯æµè§ˆå™¨æœ‰ä¸‰ç§è§†å£ï¼š</p>
<h4 data-id="heading-3">1. å¸ƒå±€è§†å£ï¼ˆLayout Viewportï¼‰</h4>
<p>å¸ƒå±€è§†å£æ˜¯ CSS å¸ƒå±€çš„åŸºå‡†ã€‚å½“ä½ å†™ <code>width: 100%</code> æ—¶ï¼Œè¿™ä¸ª 100% å°±æ˜¯ç›¸å¯¹äºå¸ƒå±€è§†å£çš„å®½åº¦ã€‚</p>
<p>åœ¨æ²¡æœ‰ <code>&lt;meta name="viewport"&gt;</code> æ ‡ç­¾çš„æƒ…å†µä¸‹ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨çš„å¸ƒå±€è§†å£é»˜è®¤æ˜¯ 980pxï¼ˆä¸åŒæµè§ˆå™¨å¯èƒ½ç•¥æœ‰å·®å¼‚ï¼‰ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ—©æœŸçš„æ¡Œé¢ç½‘é¡µåœ¨æ‰‹æœºä¸Šçœ‹èµ·æ¥ç‰¹åˆ«å° â€”â€” æµè§ˆå™¨æŠŠ 980px çš„å†…å®¹ç¡¬å¡è¿›äº† 320px çš„å±å¹•ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- è¿™è¡Œä»£ç è®©å¸ƒå±€è§†å£ç­‰äºè®¾å¤‡å®½åº¦ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
</code></pre>
<h4 data-id="heading-4">2. è§†è§‰è§†å£ï¼ˆVisual Viewportï¼‰</h4>
<p>è§†è§‰è§†å£æ˜¯ç”¨æˆ·å½“å‰èƒ½çœ‹åˆ°çš„åŒºåŸŸã€‚å½“ç”¨æˆ·åŒæŒ‡ç¼©æ”¾é¡µé¢æ—¶ï¼Œå¸ƒå±€è§†å£ä¸å˜ï¼Œä½†è§†è§‰è§†å£ä¼šå˜å°ï¼ˆæ”¾å¤§æ—¶ï¼‰æˆ–å˜å¤§ï¼ˆç¼©å°æ—¶ï¼‰ã€‚</p>
<p>å¯ä»¥è¿™æ ·ç†è§£ï¼šå¸ƒå±€è§†å£æ˜¯ä¸€å¼ å¤§åœ°å›¾ï¼Œè§†è§‰è§†å£æ˜¯ä½ æ‰‹é‡Œçš„æ”¾å¤§é•œã€‚æ”¾å¤§é•œç§»åŠ¨æˆ–ç¼©æ”¾ï¼Œåœ°å›¾æœ¬èº«ä¸ä¼šå˜ã€‚</p>
<h4 data-id="heading-5">3. ç†æƒ³è§†å£ï¼ˆIdeal Viewportï¼‰</h4>
<p>ç†æƒ³è§†å£æ˜¯è®¾å¤‡å±å¹•çš„å®é™…å°ºå¯¸ã€‚<code>width=device-width</code> å°±æ˜¯è®©å¸ƒå±€è§†å£ç­‰äºç†æƒ³è§†å£ã€‚</p>
<h3 data-id="heading-6">ç”¨ä»£ç è·å–è§†å£ä¿¡æ¯</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¸ƒå±€è§†å£</span>
<span class="hljs-keyword">const</span> layoutWidth = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientWidth</span>;
<span class="hljs-keyword">const</span> layoutHeight = <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientHeight</span>;

<span class="hljs-comment">// è§†è§‰è§†å£ï¼ˆéœ€è¦ Visual Viewport APIï¼‰</span>
<span class="hljs-keyword">const</span> visualWidth = <span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>?.<span class="hljs-property">width</span>;
<span class="hljs-keyword">const</span> visualHeight = <span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>?.<span class="hljs-property">height</span>;
<span class="hljs-keyword">const</span> offsetTop = <span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>?.<span class="hljs-property">offsetTop</span>; <span class="hljs-comment">// è§†è§‰è§†å£ç›¸å¯¹äºå¸ƒå±€è§†å£çš„åç§»</span>

<span class="hljs-comment">// å±å¹•å°ºå¯¸</span>
<span class="hljs-keyword">const</span> screenWidth = <span class="hljs-variable language_">window</span>.<span class="hljs-property">screen</span>.<span class="hljs-property">width</span>;
<span class="hljs-keyword">const</span> screenHeight = <span class="hljs-variable language_">window</span>.<span class="hljs-property">screen</span>.<span class="hljs-property">height</span>;
</code></pre>
<h3 data-id="heading-7">è§†å£ä¸ position: fixed çš„å…³ç³»</h3>
<p>è¿™é‡Œæ˜¯å…³é”®ç‚¹ï¼š<strong><code>position: fixed</code> çš„å…ƒç´ æ˜¯ç›¸å¯¹äºè§†è§‰è§†å£å®šä½çš„ï¼Œä½†å®ƒçš„ç‚¹å‡»åŒºåŸŸæ˜¯æ ¹æ®å¸ƒå±€è§†å£è®¡ç®—çš„</strong>ã€‚</p>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œè§†è§‰è§†å£å’Œå¸ƒå±€è§†å£æ˜¯é‡åˆçš„ï¼Œæ‰€ä»¥æ²¡é—®é¢˜ã€‚ä½†å½“è½¯é”®ç›˜å¼¹å‡ºæ—¶ï¼ŒiOS Safari ä¼šæ”¹å˜è§†è§‰è§†å£è€Œä¸æ”¹å˜å¸ƒå±€è§†å£ï¼Œè¿™å°±å¯¼è‡´äº†è§†è§‰ä½ç½®å’Œç‚¹å‡»åŒºåŸŸçš„é”™ä½ã€‚</p>
<hr/>
<h2 data-id="heading-8">æµè§ˆå™¨æ¸²æŸ“åŸç†ï¼šä¸ºä»€ä¹ˆä¼š"é”™ä½"</h2>
<p>è¦ç†è§£"å¹½çµå¼¹çª—"ï¼Œè¿˜éœ€è¦äº†è§£æµè§ˆå™¨æ˜¯æ€ä¹ˆæ¸²æŸ“é¡µé¢çš„ã€‚</p>
<h3 data-id="heading-9">æ¸²æŸ“æµæ°´çº¿</h3>
<p>æµè§ˆå™¨æ¸²æŸ“ä¸€ä¸ªé¡µé¢å¤§è‡´ç»è¿‡ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">HTML</span> â†’ DOM Tree
              â†˜
                â†’ Render Tree â†’ Layout â†’ Paint â†’ Composite
              â†—
CSS  â†’ CSSOM
</code></pre>
<ol>
<li><strong>è§£æ HTML</strong>ï¼šæ„å»º DOM æ ‘</li>
<li><strong>è§£æ CSS</strong>ï¼šæ„å»º CSSOMï¼ˆCSS Object Modelï¼‰</li>
<li><strong>åˆå¹¶</strong>ï¼šDOM + CSSOM = Render Treeï¼ˆæ¸²æŸ“æ ‘ï¼‰</li>
<li><strong>å¸ƒå±€ï¼ˆLayout/Reflowï¼‰</strong>ï¼šè®¡ç®—æ¯ä¸ªå…ƒç´ çš„ä½ç½®å’Œå¤§å°</li>
<li><strong>ç»˜åˆ¶ï¼ˆPaintï¼‰</strong>ï¼šæŠŠå…ƒç´ ç”»åˆ°å±å¹•ä¸Š</li>
<li><strong>åˆæˆï¼ˆCompositeï¼‰</strong>ï¼šæŠŠä¸åŒå›¾å±‚åˆå¹¶</li>
</ol>
<h3 data-id="heading-10">é‡æ’ï¼ˆReflowï¼‰ä¸é‡ç»˜ï¼ˆRepaintï¼‰</h3>
<h4 data-id="heading-11">é‡æ’ï¼ˆReflowï¼‰</h4>
<p>å½“å…ƒç´ çš„å‡ ä½•å±æ€§ï¼ˆä½ç½®ã€å¤§å°ï¼‰å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å¸ƒå±€ï¼Œè¿™å°±æ˜¯é‡æ’ã€‚</p>
<p>è§¦å‘é‡æ’çš„æ“ä½œï¼š</p>
<ul>
<li>æ”¹å˜çª—å£å¤§å°</li>
<li>æ”¹å˜å­—ä½“å¤§å°</li>
<li>æ·»åŠ /åˆ é™¤ DOM å…ƒç´ </li>
<li>æ”¹å˜å…ƒç´ çš„ <code>width</code>ã€<code>height</code>ã€<code>margin</code>ã€<code>padding</code> ç­‰</li>
<li>è¯»å–æŸäº›å±æ€§ï¼š<code>offsetTop</code>ã€<code>scrollTop</code>ã€<code>clientTop</code>ã€<code>getComputedStyle()</code> ç­‰</li>
</ul>
<h4 data-id="heading-12">é‡ç»˜ï¼ˆRepaintï¼‰</h4>
<p>å½“å…ƒç´ çš„å¤–è§‚ï¼ˆé¢œè‰²ã€èƒŒæ™¯ã€é˜´å½±ç­‰ï¼‰å‘ç”Ÿå˜åŒ–ï¼Œä½†å‡ ä½•å±æ€§ä¸å˜æ—¶ï¼Œåªéœ€è¦é‡ç»˜ï¼Œä¸éœ€è¦é‡æ’ã€‚</p>
<p>è§¦å‘é‡ç»˜çš„æ“ä½œï¼š</p>
<ul>
<li>æ”¹å˜ <code>color</code>ã€<code>background</code>ã€<code>visibility</code> ç­‰</li>
</ul>
<h4 data-id="heading-13">æ€§èƒ½å½±å“</h4>
<p>é‡æ’çš„ä»£ä»·æ¯”é‡ç»˜å¤§å¾—å¤šï¼Œå› ä¸ºé‡æ’ä¼šå¯¼è‡´æ•´ä¸ªæ¸²æŸ“æ ‘çš„é‡æ–°è®¡ç®—ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦å°½é‡é¿å…é¢‘ç¹è§¦å‘é‡æ’ã€‚</p>
<h3 data-id="heading-14">å›¾å±‚ï¼ˆLayerï¼‰ä¸åˆæˆ</h3>
<p>ç°ä»£æµè§ˆå™¨ä¼šæŠŠé¡µé¢åˆ†æˆå¤šä¸ªå›¾å±‚ï¼Œæ¯ä¸ªå›¾å±‚ç‹¬ç«‹æ¸²æŸ“ï¼Œæœ€ååˆæˆåˆ°ä¸€èµ·ã€‚æŸäº› CSS å±æ€§ä¼šè§¦å‘å…ƒç´ æå‡ä¸ºç‹¬ç«‹å›¾å±‚ï¼š</p>
<ul>
<li><code>transform</code></li>
<li><code>opacity</code></li>
<li><code>will-change</code></li>
<li><code>position: fixed</code>ï¼ˆåœ¨æŸäº›æµè§ˆå™¨ä¸­ï¼‰</li>
</ul>
<p>ç‹¬ç«‹å›¾å±‚çš„å¥½å¤„æ˜¯ï¼šå½“è¿™ä¸ªå…ƒç´ å˜åŒ–æ—¶ï¼Œä¸ä¼šå½±å“å…¶ä»–å›¾å±‚ï¼Œåªéœ€è¦é‡æ–°åˆæˆï¼Œä¸éœ€è¦é‡æ’æ•´ä¸ªé¡µé¢ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨è§£å†³æ–¹æ¡ˆä¸­ä½¿ç”¨ <code>transform: translate3d(0, 0, 0)</code> â€”â€” å®ƒå¼ºåˆ¶åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„åˆæˆå±‚ï¼Œè®©å¼¹çª—çš„æ¸²æŸ“ä¸é¡µé¢å…¶ä»–éƒ¨åˆ†éš”ç¦»ã€‚</p>
<hr/>
<h2 data-id="heading-15">é—®é¢˜æ ¹å› æ·±åº¦åˆ†æ</h2>
<p>ç°åœ¨æˆ‘ä»¬æœ‰äº†è¶³å¤Ÿçš„èƒŒæ™¯çŸ¥è¯†ï¼Œæ¥æ·±å…¥åˆ†æ"å¹½çµå¼¹çª—"çš„æˆå› ã€‚</p>
<h3 data-id="heading-16">iOS Safari çš„"ç‹¬ç‰¹"å¤„ç†æ–¹å¼</h3>
<p>å½“è½¯é”®ç›˜å¼¹å‡ºæ—¶ï¼Œä¸åŒå¹³å°çš„å¤„ç†æ–¹å¼ä¸åŒï¼š</p>
<p><strong>Android Chrome çš„åšæ³•ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">è½¯é”®ç›˜å¼¹å‡ºå‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     â”‚
â”‚   Layout Viewport   â”‚ = Visual Viewport
â”‚   (<span class="hljs-number">100vh</span>)           â”‚
â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è½¯é”®ç›˜å¼¹å‡ºåï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Layout Viewport   â”‚ = Visual Viewportï¼ˆç¼©å°äº†ï¼‰
â”‚   (å˜å°äº†)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      è½¯é”®ç›˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>Android çš„åšæ³•æ˜¯ç¼©å°å¸ƒå±€è§†å£ï¼Œ<code>position: fixed</code> çš„å…ƒç´ ä¼šç›¸å¯¹äºæ–°çš„è§†å£é‡æ–°å®šä½ï¼Œä¸€åˆ‡æ­£å¸¸ã€‚</p>
<p><strong>iOS Safari çš„åšæ³•ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">è½¯é”®ç›˜å¼¹å‡ºå‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     â”‚
â”‚   Layout Viewport   â”‚ = Visual Viewport
â”‚   (<span class="hljs-number">100vh</span>)           â”‚
â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è½¯é”®ç›˜å¼¹å‡ºåï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â† Layout Viewportï¼ˆä¸å˜ï¼‰
â”‚   â†‘                 â”‚
â”‚   â”‚ é¡µé¢è¢«æ¨ä¸Šå»     â”‚
â”‚   â†“                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â† Visual Viewportï¼ˆå˜å°äº†ï¼‰
â”‚      è½¯é”®ç›˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>iOS ä¿æŒå¸ƒå±€è§†å£ä¸å˜ï¼Œåªæ˜¯æŠŠé¡µé¢å†…å®¹å¾€ä¸Š"æ¨"ã€‚è¿™æ—¶å€™ï¼š</p>
<ul>
<li><code>position: fixed</code> çš„å…ƒç´ æ ¹æ®å¸ƒå±€è§†å£è®¡ç®—ä½ç½®</li>
<li>ä½†ç”¨æˆ·çœ‹åˆ°çš„æ˜¯è§†è§‰è§†å£</li>
<li>ä¸¤è€…ä¸ä¸€è‡´ï¼Œå°±å‡ºç°äº†"å¹½çµ"ç°è±¡</li>
</ul>
<h3 data-id="heading-17">ä¸ºä»€ä¹ˆå¤šæ¬¡åˆ‡æ¢åæ‰å‡ºé—®é¢˜ï¼Ÿ</h3>
<p>æ¯æ¬¡è½¯é”®ç›˜å¼¹å‡ºï¼Œ<code>window.scrollY</code> éƒ½ä¼šäº§ç”Ÿå˜åŒ–ã€‚å½“ç”¨æˆ·åœ¨å¤šä¸ªé¡µé¢ä¹‹é—´åˆ‡æ¢æ—¶ï¼š</p>
<ol>
<li>é¡µé¢ Aï¼šè½¯é”®ç›˜å¼¹å‡ºï¼Œ<code>scrollY = 200</code></li>
<li>åˆ‡æ¢åˆ°é¡µé¢ Bï¼š<code>scrollY</code> å¯èƒ½æ²¡æœ‰å®Œå…¨é‡ç½®</li>
<li>é¡µé¢ Bï¼šè½¯é”®ç›˜å¼¹å‡ºï¼Œ<code>scrollY</code> ç´¯åŠ </li>
<li>åˆ‡æ¢å›é¡µé¢ Aï¼šç´¯ç§¯çš„åç§»é‡å¯¼è‡´è®¡ç®—é”™è¯¯</li>
</ol>
<p>Vue Router çš„ <code>router.replace()</code> ä¸ä¼šè§¦å‘å®Œæ•´çš„é¡µé¢åˆ·æ–°ï¼Œæ»šåŠ¨çŠ¶æ€ä¼šæ®‹ç•™ã€‚</p>
<h3 data-id="heading-18">ä¸ºä»€ä¹ˆ iOS Chrome ä¹Ÿæœ‰é—®é¢˜ï¼Ÿ</h3>
<p>è¿™é‡Œè¦æä¸€ä¸ªå¾ˆå¤šäººä¸çŸ¥é“çš„äº‹å®ï¼š<strong>iOS ä¸Šæ‰€æœ‰æµè§ˆå™¨éƒ½æ˜¯ Safari å¥—å£³</strong>ã€‚</p>
<p>Apple çš„ App Store æ”¿ç­–è¦æ±‚ï¼šiOS ä¸Šçš„æ‰€æœ‰æµè§ˆå™¨å¿…é¡»ä½¿ç”¨ WebKit å¼•æ“ã€‚æ‰€ä»¥ï¼š</p>






























<table><thead><tr><th>æµè§ˆå™¨</th><th>Android å¼•æ“</th><th>iOS å¼•æ“</th></tr></thead><tbody><tr><td>Chrome</td><td>Blink</td><td>WebKit</td></tr><tr><td>Firefox</td><td>Gecko</td><td>WebKit</td></tr><tr><td>Edge</td><td>Blink</td><td>WebKit</td></tr><tr><td>Safari</td><td>-</td><td>WebKit</td></tr></tbody></table>
<p>iOS ä¸Šçš„ Chrome åªæ˜¯æ¢äº†ä¸ª UI çš„ Safariï¼Œåº•å±‚æ¸²æŸ“å¼•æ“å®Œå…¨ä¸€æ ·ã€‚è¿™ä¸ªé—®é¢˜åœ¨ iOS ä¸Šæ˜¯æ— å·®åˆ«æ”»å‡»ã€‚</p>
<hr/>
<h2 data-id="heading-19">è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-20">æ ¸å¿ƒæ€è·¯</h3>
<p>å¼¹çª—æ˜¾ç¤ºæ—¶ï¼ŒæŠŠé¡µé¢"å†»ä½"ï¼Œè®©å¸ƒå±€è§†å£å’Œè§†è§‰è§†å£å¼ºåˆ¶ä¿æŒä¸€è‡´ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> savedScrollY = <span class="hljs-number">0</span>;
<span class="hljs-keyword">let</span> savedBodyStyle = <span class="hljs-string">''</span>;

<span class="hljs-comment">// é”å®š</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">lockBodyScroll</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// å…¼å®¹æ€§å†™æ³•ï¼Œç¡®ä¿èƒ½è·å–åˆ°æ»šåŠ¨ä½ç½®</span>
  savedScrollY = <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">pageYOffset</span> || <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span> || <span class="hljs-number">0</span>;
  savedBodyStyle = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span>;

  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = <span class="hljs-string">`
    <span class="hljs-subst">${savedBodyStyle}</span>;
    position: fixed;
    top: -<span class="hljs-subst">${savedScrollY}</span>px;
    left: 0;
    right: 0;
    width: 100%;
    overflow: hidden;
  `</span>;
};

<span class="hljs-comment">// è§£é”</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">unlockBodyScroll</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = savedBodyStyle;
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">scrollTo</span>(<span class="hljs-number">0</span>, savedScrollY);
};
</code></pre>
<p><strong>åŸç†è§£æï¼š</strong></p>
<ol>
<li><code>position: fixed</code> è®© body è„±ç¦»æ–‡æ¡£æµï¼Œä¸å†æ»šåŠ¨</li>
<li><code>top: -${savedScrollY}px</code> ç”¨è´Ÿå€¼è¡¥å¿å½“å‰æ»šåŠ¨ä½ç½®ï¼Œä¿æŒè§†è§‰ä¸€è‡´</li>
<li><code>overflow: hidden</code> ç¦æ­¢æ»šåŠ¨</li>
<li>å…³é—­å¼¹çª—æ—¶æ¢å¤åŸå§‹æ ·å¼ï¼Œå¹¶ç”¨ <code>scrollTo</code> æ¢å¤æ»šåŠ¨ä½ç½®</li>
</ol>
<h3 data-id="heading-21">Vue ç»„ä»¶ä¸­çš„ä½¿ç”¨</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { watch, toRefs, nextTick } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

<span class="hljs-keyword">const</span> props = defineProps&lt;{ <span class="hljs-attr">show</span>: <span class="hljs-built_in">boolean</span> }&gt;();
<span class="hljs-keyword">const</span> { show } = <span class="hljs-title function_">toRefs</span>(props);

<span class="hljs-title function_">watch</span>(show, <span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (val) {
    <span class="hljs-title function_">nextTick</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">lockBodyScroll</span>();
    });
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-title function_">unlockBodyScroll</span>();
  }
}, { <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span> });

<span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶ç¡®ä¿è§£é”ï¼Œé˜²æ­¢çŠ¶æ€æ®‹ç•™</span>
<span class="hljs-title function_">onBeforeUnmount</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (show.<span class="hljs-property">value</span>) {
    <span class="hljs-title function_">unlockBodyScroll</span>();
  }
});
</code></pre>
<h3 data-id="heading-22">CSS ä¼˜åŒ–</h3>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-selector-class">.dialog-overlay</span> {
  <span class="hljs-attribute">position</span>: fixed;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;

  <span class="hljs-comment">// åŠ¨æ€è§†å£é«˜åº¦ï¼ŒiOS 15+ æ”¯æŒ</span>
  <span class="hljs-comment">// ä¼šéšè½¯é”®ç›˜å¼¹å‡ºè‡ªåŠ¨è°ƒæ•´</span>
  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>;
  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100</span>dvh;

  <span class="hljs-comment">// å¼ºåˆ¶åˆ›å»ºç‹¬ç«‹åˆæˆå±‚</span>
  <span class="hljs-comment">// è®©å¼¹çª—çš„æ¸²æŸ“ä¸é¡µé¢éš”ç¦»</span>
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate3d</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
  -webkit-<span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate3d</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);

  <span class="hljs-comment">// ç¦ç”¨è§¦æ‘¸æ»šåŠ¨æ‰‹åŠ¿</span>
  touch-action: none;
  -webkit-touch-callout: none;

  <span class="hljs-comment">// é˜²æ­¢æ»šåŠ¨ç©¿é€åˆ°çˆ¶å…ƒç´ </span>
  overscroll-behavior: contain;
}
</code></pre>
<p><strong>CSS å±æ€§è§£æï¼š</strong></p>

























<table><thead><tr><th>å±æ€§</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>100dvh</code></td><td>åŠ¨æ€è§†å£é«˜åº¦ï¼Œä¼šéšè½¯é”®ç›˜å˜åŒ–</td></tr><tr><td><code>transform: translate3d(0,0,0)</code></td><td>è§¦å‘ GPU åŠ é€Ÿï¼Œåˆ›å»ºç‹¬ç«‹å›¾å±‚</td></tr><tr><td><code>touch-action: none</code></td><td>ç¦ç”¨æ‰€æœ‰è§¦æ‘¸æ‰‹åŠ¿</td></tr><tr><td><code>overscroll-behavior: contain</code></td><td>æ»šåŠ¨åˆ°è¾¹ç•Œæ—¶ä¸ä¼šè§¦å‘çˆ¶å…ƒç´ æ»šåŠ¨</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-23">è¸©è¿‡çš„å‘</h2>
<h3 data-id="heading-24">å‘ 1ï¼šå¿˜è®°åœ¨ç»„ä»¶å¸è½½æ—¶è§£é”</h3>
<p>å¦‚æœç”¨æˆ·åœ¨å¼¹çª—æ‰“å¼€çŠ¶æ€ä¸‹åˆ‡æ¢é¡µé¢ï¼ˆæ¯”å¦‚ç‚¹å‡»äº†å¼¹çª—é‡Œçš„é“¾æ¥ï¼‰ï¼Œ<code>body</code> çš„ <code>fixed</code> æ ·å¼ä¼šæ®‹ç•™ï¼Œå¯¼è‡´æ–°é¡µé¢æ— æ³•æ»šåŠ¨ã€‚</p>
<p><strong>è§£å†³ï¼š</strong> ä¸€å®šè¦åœ¨ <code>onBeforeUnmount</code> é‡Œæ¸…ç†ã€‚</p>
<h3 data-id="heading-25">å‘ 2ï¼šæ»šåŠ¨ä½ç½®æ¢å¤ä¸å‡†ç¡®</h3>
<p><code>window.scrollY</code> åœ¨æŸäº›è€æ—§æµè§ˆå™¨æˆ–ç‰¹æ®Šæƒ…å†µä¸‹å¯èƒ½æ˜¯ <code>undefined</code>ã€‚</p>
<p><strong>è§£å†³ï¼š</strong> ä½¿ç”¨å…¼å®¹æ€§å†™æ³•ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> scrollY = <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">pageYOffset</span> || <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">scrollTop</span> || <span class="hljs-number">0</span>;
</code></pre>
<h3 data-id="heading-26">å‘ 3ï¼š100vh åœ¨ iOS ä¸Šä¸é è°±</h3>
<p>iOS Safari çš„ <code>100vh</code> æ˜¯ä¸€ä¸ª"ç†æƒ³å€¼"ï¼ŒåŒ…å«äº†åœ°å€æ çš„é«˜åº¦ã€‚å½“åœ°å€æ æ”¶èµ·æˆ–è½¯é”®ç›˜å¼¹å‡ºæ—¶ï¼Œå®é™…å¯è§†åŒºåŸŸä¼šå˜åŒ–ï¼Œä½† <code>100vh</code> ä¸å˜ã€‚</p>
<p><strong>è§£å†³ï¼š</strong> ä½¿ç”¨ <code>100dvh</code>ï¼ˆåŠ¨æ€è§†å£é«˜åº¦ï¼‰ï¼Œä½†è¦æ³¨æ„å…¼å®¹æ€§ï¼š</p>
<ul>
<li>iOS 15.4+</li>
<li>Chrome 108+</li>
<li>Firefox 101+</li>
</ul>
<p>å¯¹äºä¸æ”¯æŒçš„æµè§ˆå™¨ï¼Œå¯ä»¥ç”¨ JS åŠ¨æ€è®¡ç®—ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">setVh</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> vh = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> * <span class="hljs-number">0.01</span>;
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">style</span>.<span class="hljs-title function_">setProperty</span>(<span class="hljs-string">'--vh'</span>, <span class="hljs-string">`<span class="hljs-subst">${vh}</span>px`</span>);
};
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, setVh);
</code></pre>
<h3 data-id="heading-27">å‘ 4ï¼šå¤šä¸ªå¼¹çª—åµŒå¥—</h3>
<p>å¦‚æœé¡µé¢ä¸Šæœ‰å¤šä¸ªå¼¹çª—ç»„ä»¶ï¼Œæ¯ä¸ªéƒ½è°ƒç”¨ <code>lockBodyScroll</code>ï¼Œä¼šäº’ç›¸è¦†ç›– <code>savedScrollY</code>ã€‚</p>
<p><strong>è§£å†³ï¼š</strong> ä½¿ç”¨å¼•ç”¨è®¡æ•°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> lockCount = <span class="hljs-number">0</span>;
<span class="hljs-keyword">let</span> savedScrollY = <span class="hljs-number">0</span>;
<span class="hljs-keyword">let</span> savedBodyStyle = <span class="hljs-string">''</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">lockBodyScroll</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (lockCount === <span class="hljs-number">0</span>) {
    savedScrollY = <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span> || <span class="hljs-number">0</span>;
    savedBodyStyle = <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span>;
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = <span class="hljs-string">`...`</span>;
  }
  lockCount++;
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">unlockBodyScroll</span> = (<span class="hljs-params"/>) =&gt; {
  lockCount--;
  <span class="hljs-keyword">if</span> (lockCount === <span class="hljs-number">0</span>) {
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = savedBodyStyle;
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">scrollTo</span>(<span class="hljs-number">0</span>, savedScrollY);
  }
};
</code></pre>
<hr/>
<h2 data-id="heading-28">å»¶ä¼¸ï¼šå…¶ä»–è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-29">æ–¹æ¡ˆäºŒï¼šä½¿ç”¨ Visual Viewport API</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">adjustDialogPosition</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>) {
    <span class="hljs-keyword">const</span> offsetY = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> - <span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>.<span class="hljs-property">height</span>;
    dialogRef.<span class="hljs-property">value</span>.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">`translateY(-<span class="hljs-subst">${offsetY / <span class="hljs-number">2</span>}</span>px)`</span>;
  }
};

<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>?.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, adjustDialogPosition);
});

<span class="hljs-title function_">onBeforeUnmount</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">visualViewport</span>?.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'resize'</span>, adjustDialogPosition);
});
</code></pre>
<p><strong>ä¼˜ç‚¹ï¼š</strong> ä¸éœ€è¦é”å®š bodyï¼Œæ›´"ä¼˜é›…"
<strong>ç¼ºç‚¹ï¼š</strong> éœ€è¦æŒç»­ç›‘å¬ï¼Œæœ‰æ€§èƒ½å¼€é”€ï¼›å¼¹çª—ä½ç½®ä¼šè·³åŠ¨</p>
<h3 data-id="heading-30">æ–¹æ¡ˆä¸‰ï¼šè½¯é”®ç›˜æ”¶èµ·åå†æ˜¾ç¤ºå¼¹çª—</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">showDialog</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// å…ˆè®©è¾“å…¥æ¡†å¤±ç„¦ï¼Œæ”¶èµ·è½¯é”®ç›˜</span>
  (<span class="hljs-variable language_">document</span>.<span class="hljs-property">activeElement</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">HTMLElement</span>)?.<span class="hljs-title function_">blur</span>();

  <span class="hljs-comment">// ç­‰å¾…è½¯é”®ç›˜æ”¶èµ·åŠ¨ç”»å®Œæˆ</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    dialogVisible.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;
  }, <span class="hljs-number">300</span>);
};
</code></pre>
<p><strong>ä¼˜ç‚¹ï¼š</strong> ç®€å•ç²—æš´ï¼Œç»•è¿‡é—®é¢˜
<strong>ç¼ºç‚¹ï¼š</strong> ç”¨æˆ·ä½“éªŒä¸å¥½ï¼Œæœ‰æ˜æ˜¾å»¶è¿Ÿ</p>
<hr/>
<h2 data-id="heading-31">æ€»ç»“</h2>
<p>è¿™ä¸ªé—®é¢˜æœ¬è´¨ä¸Šæ˜¯ <strong>iOS WebKit çš„ viewport å¤„ç†æœºåˆ¶</strong> å’Œ <strong><code>position: fixed</code> å®šä½</strong> çš„å†²çªã€‚</p>
<p>å…³é”®ç‚¹ï¼š</p>
<ol>
<li>iOS Safari è½¯é”®ç›˜å¼¹å‡ºæ—¶åªæ”¹å˜ Visual Viewportï¼Œä¸æ”¹å˜ Layout Viewport</li>
<li><code>position: fixed</code> æ ¹æ® Layout Viewport è®¡ç®—ä½ç½®ï¼Œä½†æ¸²æŸ“åœ¨ Visual Viewport</li>
<li>é¡µé¢åˆ‡æ¢æ—¶æ»šåŠ¨çŠ¶æ€ç´¯ç§¯ï¼ŒåŠ å‰§äº†åç§»</li>
</ol>
<p>è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒå°±ä¸€å¥è¯ï¼š<strong>å¼¹çª—æ˜¾ç¤ºæ—¶é”å®š body æ»šåŠ¨ï¼Œå…³é—­æ—¶æ¢å¤</strong>ã€‚</p>
<p>è¿™ä¸æ˜¯ bugï¼Œæ˜¯ Apple çš„"è®¾è®¡é€‰æ‹©"ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬åªèƒ½è§æ‹›æ‹†æ‹›ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åˆ°é‡åˆ°åŒæ ·é—®é¢˜çš„æœ‹å‹ï¼Œå°‘èµ°ç‚¹å¼¯è·¯ã€‚</p>
<hr/>
<p><em>å‚è€ƒèµ„æ–™ï¼š</em></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fbugs.webkit.org%2Fshow_bug.cgi%3Fid%3D141832" target="_blank" title="https://bugs.webkit.org/show_bug.cgi?id=141832" ref="nofollow noopener noreferrer">WebKit Bug #141832: position:fixed and virtual keyboard</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FVisual_Viewport_API" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/API/Visual_Viewport_API" ref="nofollow noopener noreferrer">MDN: Visual Viewport API</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FCSS%2Flength%23dynamic_viewport_units" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/CSS/length#dynamic_viewport_units" ref="nofollow noopener noreferrer">MDN: CSS length - Dynamic viewport units</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.quirksmode.org%2Fmobile%2Fviewports2.html" target="_blank" title="https://www.quirksmode.org/mobile/viewports2.html" ref="nofollow noopener noreferrer">A tale of two viewports</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fweb%2Ffundamentals%2Fperformance%2Frendering" target="_blank" title="https://developers.google.com/web/fundamentals/performance/rendering" ref="nofollow noopener noreferrer">Google Developers: Rendering Performance</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Jetpack Compose ä»å…¥é—¨åˆ°ç²¾é€šï¼ˆå…­ï¼‰ï¼šæ¶æ„ä¸å·¥ç¨‹åŒ–]]></title>    <link>https://juejin.cn/post/7602529888483442751</link>    <guid>https://juejin.cn/post/7602529888483442751</guid>    <pubDate>2026-02-04T03:06:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602529888483442751" data-draft-id="7602503154506383401" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Jetpack Compose ä»å…¥é—¨åˆ°ç²¾é€šï¼ˆå…­ï¼‰ï¼šæ¶æ„ä¸å·¥ç¨‹åŒ–"/> <meta itemprop="keywords" content="Android Studio,Android,Android Jetpack"/> <meta itemprop="datePublished" content="2026-02-04T03:06:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‚¹é˜¿æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›"/> <meta itemprop="url" content="https://juejin.cn/user/3808364009106839"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Jetpack Compose ä»å…¥é—¨åˆ°ç²¾é€šï¼ˆå…­ï¼‰ï¼šæ¶æ„ä¸å·¥ç¨‹åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808364009106839/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‚¹é˜¿æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:06:41.000Z" title="Wed Feb 04 2026 03:06:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ·±å…¥ç†è§£ Compose åœ¨å¤§å‹é¡¹ç›®ä¸­çš„æ¶æ„è®¾è®¡ï¼ŒæŒæ¡ Navigationã€Hiltã€æ€§èƒ½ä¼˜åŒ–ç­‰ä¼ä¸šçº§å¼€å‘æŠ€èƒ½ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨å‰äº”ç¯‡ä¸­ï¼Œæˆ‘ä»¬æŒæ¡äº† Compose çš„æ ¸å¿ƒå¼€å‘æŠ€èƒ½ã€‚ä½†åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘ï¼š</p>
<ul>
<li>å¦‚ä½•ç»„ç»‡å¤§å‹é¡¹ç›®çš„ä»£ç ç»“æ„ï¼Ÿ</li>
<li>å¦‚ä½•å®ç°é¡µé¢å¯¼èˆªï¼Ÿ</li>
<li>å¦‚ä½•ç®¡ç†ä¾èµ–æ³¨å…¥ï¼Ÿ</li>
<li>å¦‚ä½•ä¼˜åŒ–åº”ç”¨æ€§èƒ½ï¼Ÿ</li>
</ul>
<p>æœ¬ç¯‡æ–‡ç« å°†æ·±å…¥è®²è§£ Compose åœ¨ä¼ä¸šçº§é¡¹ç›®ä¸­çš„æ¶æ„è®¾è®¡ä¸å·¥ç¨‹åŒ–å®è·µã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€é¡¹ç›®æ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-2">1.1 æ¨èçš„é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-bash" lang="bash">app/
â”œâ”€â”€ src/main/java/com/example/app/
â”‚   â”œâ”€â”€ App.kt                    <span class="hljs-comment"># Application ç±»</span>
â”‚   â”œâ”€â”€ di/                       <span class="hljs-comment"># ä¾èµ–æ³¨å…¥æ¨¡å—</span>
â”‚   â”‚   â”œâ”€â”€ AppModule.kt
â”‚   â”‚   â””â”€â”€ NetworkModule.kt
â”‚   â”œâ”€â”€ data/                     <span class="hljs-comment"># æ•°æ®å±‚</span>
â”‚   â”‚   â”œâ”€â”€ <span class="hljs-built_in">local</span>/                <span class="hljs-comment"># æœ¬åœ°æ•°æ®æº</span>
â”‚   â”‚   â”‚   â”œâ”€â”€ dao/
â”‚   â”‚   â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â”‚   â””â”€â”€ AppDatabase.kt
â”‚   â”‚   â”œâ”€â”€ remote/               <span class="hljs-comment"># è¿œç¨‹æ•°æ®æº</span>
â”‚   â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â””â”€â”€ dto/
â”‚   â”‚   â”œâ”€â”€ repository/           <span class="hljs-comment"># ä»“åº“å±‚</span>
â”‚   â”‚   â””â”€â”€ model/                <span class="hljs-comment"># æ•°æ®æ¨¡å‹</span>
â”‚   â”œâ”€â”€ domain/                   <span class="hljs-comment"># é¢†åŸŸå±‚ï¼ˆå¯é€‰ï¼‰</span>
â”‚   â”‚   â”œâ”€â”€ usecase/
â”‚   â”‚   â””â”€â”€ model/
â”‚   â”œâ”€â”€ ui/                       <span class="hljs-comment"># UI å±‚</span>
â”‚   â”‚   â”œâ”€â”€ theme/                <span class="hljs-comment"># ä¸»é¢˜é…ç½®</span>
â”‚   â”‚   â”œâ”€â”€ component/            <span class="hljs-comment"># é€šç”¨ç»„ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ screen/               <span class="hljs-comment"># é¡µé¢</span>
â”‚   â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HomeScreen.kt
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ HomeViewModel.kt
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ HomeUiState.kt
â”‚   â”‚   â”‚   â””â”€â”€ profile/
â”‚   â”‚   â””â”€â”€ navigation/           <span class="hljs-comment"># å¯¼èˆªé…ç½®</span>
â”‚   â””â”€â”€ util/                     <span class="hljs-comment"># å·¥å…·ç±»</span>
â””â”€â”€ src/main/res/                 <span class="hljs-comment"># èµ„æºæ–‡ä»¶</span>
</code></pre>
<h3 data-id="heading-3">1.2 åˆ†å±‚æ¶æ„åŸåˆ™</h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      åˆ†å±‚æ¶æ„å›¾                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  UI Layer (Presentation)                                â”‚   â”‚
â”‚  â”‚  - Composable å‡½æ•°                                       â”‚   â”‚
â”‚  â”‚  - ViewModel                                             â”‚   â”‚
â”‚  â”‚  - UI State                                              â”‚   â”‚
â”‚  â”‚  èŒè´£ï¼šå±•ç¤ºæ•°æ®ã€å¤„ç†ç”¨æˆ·äº¤äº’                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Domain Layer (Optional)                                â”‚   â”‚
â”‚  â”‚  - UseCase                                               â”‚   â”‚
â”‚  â”‚  - Domain Model                                          â”‚   â”‚
â”‚  â”‚  èŒè´£ï¼šä¸šåŠ¡é€»è¾‘ã€æ•°æ®è½¬æ¢                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Data Layer                                             â”‚   â”‚
â”‚  â”‚  - Repository                                            â”‚   â”‚
â”‚  â”‚  - DataSource (Local/Remote)                             â”‚   â”‚
â”‚  â”‚  èŒè´£ï¼šæ•°æ®è·å–ã€ç¼“å­˜ç­–ç•¥                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  ä¾èµ–æ–¹å‘ï¼šUI â†’ Domain â†’ Data                                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-4">äºŒã€Navigation ç»„ä»¶</h2>
<h3 data-id="heading-5">2.1 ä¸ºä»€ä¹ˆéœ€è¦ Navigationï¼Ÿ</h3>
<p>ä¼ ç»Ÿ Fragment å¯¼èˆªçš„é—®é¢˜ï¼š</p>
<ul>
<li>äº‹åŠ¡ç®¡ç†å¤æ‚</li>
<li>è¿”å›æ ˆéš¾ä»¥æ§åˆ¶</li>
<li>æ·±åº¦é“¾æ¥å®ç°å›°éš¾</li>
<li>å‚æ•°ä¼ é€’ç±»å‹ä¸å®‰å…¨</li>
</ul>
<p><strong>Compose Navigation çš„ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>å£°æ˜å¼å¯¼èˆª</li>
<li>ç±»å‹å®‰å…¨çš„å‚æ•°ä¼ é€’</li>
<li>è‡ªåŠ¨å¤„ç†è¿”å›æ ˆ</li>
<li>æ”¯æŒæ·±å±‚é“¾æ¥</li>
</ul>
<h3 data-id="heading-6">2.2 Navigation åŸºç¡€</h3>
<h4 data-id="heading-7">2.2.1 è®¾ç½®å¯¼èˆª</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. æ·»åŠ ä¾èµ–</span>
<span class="hljs-comment">// implementation("androidx.navigation:navigation-compose:2.7.0")</span>

<span class="hljs-comment">// 2. å®šä¹‰è·¯ç”±</span>
<span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Screen</span>(<span class="hljs-keyword">val</span> route: String) {
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> Home : Screen(<span class="hljs-string">"home"</span>)
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> Profile : Screen(<span class="hljs-string">"profile/{userId}"</span>) {
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createRoute</span><span class="hljs-params">(userId: <span class="hljs-type">String</span>)</span></span> = <span class="hljs-string">"profile/<span class="hljs-variable">$userId</span>"</span>
    }
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> Settings : Screen(<span class="hljs-string">"settings"</span>)
}

<span class="hljs-comment">// 3. åˆ›å»º NavHost</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">AppNavigation</span><span class="hljs-params">(
    navController: <span class="hljs-type">NavHostController</span> = rememberNavController()</span></span>
) {
    NavHost(
        navController = navController,
        startDestination = Screen.Home.route
    ) {
        composable(Screen.Home.route) {
            HomeScreen(
                onNavigateToProfile = { userId -&gt;
                    navController.navigate(Screen.Profile.createRoute(userId))
                }
            )
        }
        
        composable(
            route = Screen.Profile.route,
            arguments = listOf(
                navArgument(<span class="hljs-string">"userId"</span>) { type = NavType.StringType }
            )
        ) { backStackEntry -&gt;
            <span class="hljs-keyword">val</span> userId = backStackEntry.arguments?.getString(<span class="hljs-string">"userId"</span>) ?: <span class="hljs-string">""</span>
            ProfileScreen(
                userId = userId,
                onBack = { navController.popBackStack() }
            )
        }
        
        composable(Screen.Settings.route) {
            SettingsScreen()
        }
    }
}
</code></pre>
<h4 data-id="heading-8">2.2.2 å¯¼èˆªæ“ä½œ</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å¯¼èˆªåˆ°ç›®æ ‡é¡µé¢</span>
navController.navigate(<span class="hljs-string">"profile/123"</span>)

<span class="hljs-comment">// è¿”å›ä¸Šä¸€é¡µ</span>
navController.popBackStack()

<span class="hljs-comment">// è¿”å›æŒ‡å®šé¡µé¢</span>
navController.popBackStack(<span class="hljs-string">"home"</span>, inclusive = <span class="hljs-literal">false</span>)

<span class="hljs-comment">// æ¸…ç©ºè¿”å›æ ˆå¹¶å¯¼èˆª</span>
navController.navigate(<span class="hljs-string">"home"</span>) {
    popUpTo(<span class="hljs-string">"home"</span>) { inclusive = <span class="hljs-literal">true</span> }
}

<span class="hljs-comment">// å¯åŠ¨å•ä¾‹é¡µé¢ï¼ˆé˜²æ­¢é‡å¤ï¼‰</span>
navController.navigate(<span class="hljs-string">"detail"</span>) {
    launchSingleTop = <span class="hljs-literal">true</span>
}
</code></pre>
<h3 data-id="heading-9">2.3 ç±»å‹å®‰å…¨çš„å¯¼èˆªï¼ˆNavigation 2.8.0+ï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. å®šä¹‰åºåˆ—åŒ–è·¯ç”±ç±»</span>
<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">object</span> Home

<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Profile</span>(<span class="hljs-keyword">val</span> userId: String)

<span class="hljs-meta">@Serializable</span>
<span class="hljs-keyword">object</span> Settings

<span class="hljs-comment">// 2. åˆ›å»º NavHost</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">AppNavigation</span><span class="hljs-params">(
    navController: <span class="hljs-type">NavHostController</span> = rememberNavController()</span></span>
) {
    NavHost(
        navController = navController,
        startDestination = Home
    ) {
        composable&lt;Home&gt; {
            HomeScreen(
                onNavigateToProfile = { userId -&gt;
                    navController.navigate(Profile(userId))
                }
            )
        }
        
        composable&lt;Profile&gt; { backStackEntry -&gt;
            <span class="hljs-keyword">val</span> profile: Profile = backStackEntry.toRoute()
            ProfileScreen(userId = profile.userId)
        }
        
        composable&lt;Settings&gt; {
            SettingsScreen()
        }
    }
}
</code></pre>
<h3 data-id="heading-10">2.4 åº•éƒ¨å¯¼èˆªæ </h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">BottomNavApp</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> navController = rememberNavController()
    
    <span class="hljs-keyword">val</span> items = listOf(
        BottomNavItem.Home,
        BottomNavItem.Search,
        BottomNavItem.Profile
    )
    
    Scaffold(
        bottomBar = {
            NavigationBar {
                <span class="hljs-keyword">val</span> navBackStackEntry <span class="hljs-keyword">by</span> navController.currentBackStackEntryAsState()
                <span class="hljs-keyword">val</span> currentDestination = navBackStackEntry?.destination
                
                items.forEach { item -&gt;
                    NavigationBarItem(
                        icon = { Icon(item.icon, contentDescription = item.label) },
                        label = { Text(item.label) },
                        selected = currentDestination?.hierarchy?.any {
                            it.route == item.route
                        } == <span class="hljs-literal">true</span>,
                        onClick = {
                            navController.navigate(item.route) {
                                popUpTo(navController.graph.findStartDestination().id) {
                                    saveState = <span class="hljs-literal">true</span>
                                }
                                launchSingleTop = <span class="hljs-literal">true</span>
                                restoreState = <span class="hljs-literal">true</span>
                            }
                        }
                    )
                }
            }
        }
    ) { innerPadding -&gt;
        NavHost(
            navController = navController,
            startDestination = BottomNavItem.Home.route,
            modifier = Modifier.padding(innerPadding)
        ) {
            composable(BottomNavItem.Home.route) { HomeScreen() }
            composable(BottomNavItem.Search.route) { SearchScreen() }
            composable(BottomNavItem.Profile.route) { ProfileScreen() }
        }
    }
}

<span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BottomNavItem</span>(
    <span class="hljs-keyword">val</span> route: String,
    <span class="hljs-keyword">val</span> icon: ImageVector,
    <span class="hljs-keyword">val</span> label: String
) {
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> Home : BottomNavItem(<span class="hljs-string">"home"</span>, Icons.Default.Home, <span class="hljs-string">"é¦–é¡µ"</span>)
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> Search : BottomNavItem(<span class="hljs-string">"search"</span>, Icons.Default.Search, <span class="hljs-string">"æœç´¢"</span>)
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> Profile : BottomNavItem(<span class="hljs-string">"profile"</span>, Icons.Default.Person, <span class="hljs-string">"æˆ‘çš„"</span>)
}
</code></pre>
<h3 data-id="heading-11">2.5 æ·±å±‚é“¾æ¥</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// AndroidManifest.xml ä¸­é…ç½®</span>
&lt;activity
    android:name=<span class="hljs-string">".MainActivity"</span>
    android:exported=<span class="hljs-string">"true"</span>&gt;
    &lt;intent-filter&gt;
        &lt;action android:name=<span class="hljs-string">"android.intent.action.VIEW"</span> /&gt;
        &lt;category android:name=<span class="hljs-string">"android.intent.category.DEFAULT"</span> /&gt;
        &lt;category android:name=<span class="hljs-string">"android.intent.category.BROWSABLE"</span> /&gt;
        &lt;<span class="hljs-keyword">data</span> android:scheme=<span class="hljs-string">"https"</span> android:host=<span class="hljs-string">"example.com"</span> /&gt;
    &lt;/intent-filter&gt;
&lt;/activity&gt;

<span class="hljs-comment">// Navigation ä¸­é…ç½®æ·±å±‚é“¾æ¥</span>
composable(
    route = <span class="hljs-string">"article/{articleId}"</span>,
    deepLinks = listOf(
        navDeepLink {
            uriPattern = <span class="hljs-string">"https://example.com/article/{articleId}"</span>
        }
    ),
    arguments = listOf(
        navArgument(<span class="hljs-string">"articleId"</span>) { type = NavType.StringType }
    )
) { backStackEntry -&gt;
    <span class="hljs-keyword">val</span> articleId = backStackEntry.arguments?.getString(<span class="hljs-string">"articleId"</span>)
    ArticleScreen(articleId = articleId)
}
</code></pre>
<hr/>
<h2 data-id="heading-12">ä¸‰ã€Hilt ä¾èµ–æ³¨å…¥</h2>
<h3 data-id="heading-13">3.1 ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–æ³¨å…¥ï¼Ÿ</h3>
<p><strong>ä¼ ç»Ÿæ–¹å¼çš„ç—›ç‚¹</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ ç´§è€¦åˆï¼Œéš¾ä»¥æµ‹è¯•</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserRepository</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> api = RetrofitClient.api  <span class="hljs-comment">// ç¡¬ç¼–ç ä¾èµ–</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> dao = AppDatabase.dao     <span class="hljs-comment">// ç¡¬ç¼–ç ä¾èµ–</span>
}
</code></pre>
<p><strong>ä¾èµ–æ³¨å…¥çš„ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>è§£è€¦ç»„ä»¶</li>
<li>ä¾¿äºå•å…ƒæµ‹è¯•</li>
<li>ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨ç®¡ç†</li>
<li>å•ä¾‹æ§åˆ¶</li>
</ul>
<h3 data-id="heading-14">3.2 Hilt åŸºç¡€é…ç½®</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. æ·»åŠ ä¾èµ–</span>
<span class="hljs-comment">/*
plugins {
    id("kotlin-kapt")
    id("dagger.hilt.android.plugin")
}

dependencies {
    implementation("com.google.dagger:hilt-android:2.48")
    kapt("com.google.dagger:hilt-compiler:2.48")
    implementation("androidx.hilt:hilt-navigation-compose:1.1.0")
}
*/</span>

<span class="hljs-comment">// 2. Application ç±»</span>
<span class="hljs-meta">@HiltAndroidApp</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApplication</span> : <span class="hljs-type">Application</span>()

<span class="hljs-comment">// 3. Activity</span>
<span class="hljs-meta">@AndroidEntryPoint</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">ComponentActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContent {
            MyApp()
        }
    }
}
</code></pre>
<h3 data-id="heading-15">3.3 å®šä¹‰å’Œæ³¨å…¥ä¾èµ–</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. åˆ›å»º Module</span>
<span class="hljs-meta">@Module</span>
<span class="hljs-meta">@InstallIn(SingletonComponent::class)</span>
<span class="hljs-keyword">object</span> NetworkModule {
    
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideRetrofit</span><span class="hljs-params">()</span></span>: Retrofit {
        <span class="hljs-keyword">return</span> Retrofit.Builder()
            .baseUrl(<span class="hljs-string">"https://api.example.com/"</span>)
            .addConverterFactory(GsonConverterFactory.create())
            .build()
    }
    
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideApiService</span><span class="hljs-params">(retrofit: <span class="hljs-type">Retrofit</span>)</span></span>: ApiService {
        <span class="hljs-keyword">return</span> retrofit.create(ApiService::<span class="hljs-keyword">class</span>.java)
    }
}

<span class="hljs-meta">@Module</span>
<span class="hljs-meta">@InstallIn(SingletonComponent::class)</span>
<span class="hljs-keyword">object</span> DatabaseModule {
    
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-meta">@Singleton</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideDatabase</span><span class="hljs-params">(<span class="hljs-meta">@ApplicationContext</span> context: <span class="hljs-type">Context</span>)</span></span>: AppDatabase {
        <span class="hljs-keyword">return</span> Room.databaseBuilder(
            context,
            AppDatabase::<span class="hljs-keyword">class</span>.java,
            <span class="hljs-string">"app_database"</span>
        ).build()
    }
    
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideUserDao</span><span class="hljs-params">(database: <span class="hljs-type">AppDatabase</span>)</span></span>: UserDao {
        <span class="hljs-keyword">return</span> database.userDao()
    }
}

<span class="hljs-comment">// 2. Repository æ³¨å…¥ä¾èµ–</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserRepository</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> apiService: ApiService,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> userDao: UserDao
) {
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUsers</span><span class="hljs-params">()</span></span>: List&lt;User&gt; {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">val</span> users = apiService.getUsers()
            userDao.insertAll(users)
            users
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            userDao.getAll()
        }
    }
}

<span class="hljs-comment">// 3. ViewModel æ³¨å…¥ Repository</span>
<span class="hljs-meta">@HiltViewModel</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserViewModel</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> userRepository: UserRepository
) : ViewModel() {
    <span class="hljs-comment">// ...</span>
}

<span class="hljs-comment">// 4. Composable è·å– ViewModel</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserScreen</span><span class="hljs-params">(
    viewModel: <span class="hljs-type">UserViewModel</span> = hiltViewModel()</span></span>
) {
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h3 data-id="heading-16">3.4 é™å®šç¬¦ï¼ˆQualifiersï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å®šä¹‰é™å®šç¬¦</span>
<span class="hljs-meta">@Qualifier</span>
<span class="hljs-meta">@Retention(AnnotationRetention.BINARY)</span>
<span class="hljs-keyword">annotation</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AuthInterceptorOkHttpClient</span>

<span class="hljs-meta">@Qualifier</span>
<span class="hljs-meta">@Retention(AnnotationRetention.BINARY)</span>
<span class="hljs-keyword">annotation</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OtherInterceptorOkHttpClient</span>

<span class="hljs-comment">// æä¾›ä¸åŒå®ä¾‹</span>
<span class="hljs-meta">@Module</span>
<span class="hljs-meta">@InstallIn(SingletonComponent::class)</span>
<span class="hljs-keyword">object</span> NetworkModule {
    
    <span class="hljs-meta">@AuthInterceptorOkHttpClient</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideAuthOkHttpClient</span><span class="hljs-params">(authInterceptor: <span class="hljs-type">AuthInterceptor</span>)</span></span>: OkHttpClient {
        <span class="hljs-keyword">return</span> OkHttpClient.Builder()
            .addInterceptor(authInterceptor)
            .build()
    }
    
    <span class="hljs-meta">@OtherInterceptorOkHttpClient</span>
    <span class="hljs-meta">@Provides</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">provideOtherOkHttpClient</span><span class="hljs-params">(otherInterceptor: <span class="hljs-type">OtherInterceptor</span>)</span></span>: OkHttpClient {
        <span class="hljs-keyword">return</span> OkHttpClient.Builder()
            .addInterceptor(otherInterceptor)
            .build()
    }
}

<span class="hljs-comment">// æ³¨å…¥æŒ‡å®šå®ä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiService</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-meta">@AuthInterceptorOkHttpClient</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> client: OkHttpClient
)
</code></pre>
<hr/>
<h2 data-id="heading-17">å››ã€æ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-18">4.1 é‡ç»„ä¼˜åŒ–</h3>
<h4 data-id="heading-19">4.1.1 é¿å…ä¸å¿…è¦çš„é‡ç»„</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ•´ä¸ªåˆ—è¡¨éƒ½ä¼šé‡ç»„</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserList</span><span class="hljs-params">(users: <span class="hljs-type">List</span>&lt;<span class="hljs-type">User</span>&gt;)</span></span> {
    Column {
        users.forEach { user -&gt;
            UserItem(user = user)  <span class="hljs-comment">// æ‰€æœ‰ item éƒ½ä¼šé‡ç»„</span>
        }
    }
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨ LazyColumnï¼Œåªé‡ç»„å¯è§é¡¹</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserList</span><span class="hljs-params">(users: <span class="hljs-type">List</span>&lt;<span class="hljs-type">User</span>&gt;)</span></span> {
    LazyColumn {
        items(users, key = { it.id }) { user -&gt;
            UserItem(user = user)
        }
    }
}
</code></pre>
<h4 data-id="heading-20">4.1.2 ä½¿ç”¨ @Stable å’Œ @Immutable</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ ä¸ç¨³å®šç±»ï¼Œä»»ä½•å˜åŒ–éƒ½ä¼šè§¦å‘é‡ç»„</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-keyword">var</span> name: String = <span class="hljs-string">""</span>
}

<span class="hljs-comment">// âœ… ç¨³å®šç±»</span>
<span class="hljs-meta">@Stable</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-keyword">var</span> name: String = <span class="hljs-string">""</span>
}

<span class="hljs-comment">// âœ… ä¸å¯å˜ç±»ï¼Œå®ä¾‹æ›¿æ¢æ—¶æ‰é‡ç»„</span>
<span class="hljs-meta">@Immutable</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(
    <span class="hljs-keyword">val</span> name: String
)
</code></pre>
<h4 data-id="heading-21">4.1.3 ä½¿ç”¨ remember ç¼“å­˜è®¡ç®—</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ExpensiveComponent</span><span class="hljs-params">(<span class="hljs-keyword">data</span>: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Int</span>&gt;)</span></span> {
    <span class="hljs-comment">// âŒ æ¯æ¬¡é‡ç»„éƒ½è®¡ç®—</span>
    <span class="hljs-keyword">val</span> sum = <span class="hljs-keyword">data</span>.sum()
    
    <span class="hljs-comment">// âœ… åªåœ¨ data å˜åŒ–æ—¶è®¡ç®—</span>
    <span class="hljs-keyword">val</span> sum = remember(<span class="hljs-keyword">data</span>) { <span class="hljs-keyword">data</span>.sum() }
    
    Text(<span class="hljs-string">"Sum: <span class="hljs-variable">$sum</span>"</span>)
}
</code></pre>
<h3 data-id="heading-22">4.2 å¸ƒå±€æ£€æŸ¥å™¨ä½¿ç”¨</h3>
<pre><code class="hljs language-vbnet" lang="vbnet">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ä½¿ç”¨å¸ƒå±€æ£€æŸ¥å™¨ä¼˜åŒ–æ€§èƒ½                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  <span class="hljs-number">1</span>. æ‰“å¼€ Layout Inspector                                       â”‚
â”‚     Tools â†’ Layout Inspector                                    â”‚
â”‚                                                                 â”‚
â”‚  <span class="hljs-number">2</span>. æŸ¥çœ‹é‡ç»„æ¬¡æ•°                                                  â”‚
â”‚     - å³ä¾§é¢æ¿æ˜¾ç¤ºæ¯ä¸ª Composable çš„é‡ç»„æ¬¡æ•°                    â”‚
â”‚     - é«˜é‡ç»„æ¬¡æ•°çš„ç»„ä»¶éœ€è¦ä¼˜åŒ–                                  â”‚
â”‚                                                                 â”‚
â”‚  <span class="hljs-number">3</span>. å¸¸è§ä¼˜åŒ–æ–¹æ¡ˆ                                                  â”‚
â”‚     - ä½¿ç”¨ <span class="hljs-keyword">key</span> ä¼˜åŒ–åˆ—è¡¨                                          â”‚
â”‚     - æå–ä¸ä¾èµ–çŠ¶æ€çš„éƒ¨åˆ†                                       â”‚
â”‚     - ä½¿ç”¨ derivedStateOf å‡å°‘é‡ç»„                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-23">4.3 å›¾ç‰‡åŠ è½½ä¼˜åŒ–</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½¿ç”¨ Coil åŠ è½½å›¾ç‰‡</span>
AsyncImage(
    model = ImageRequest.Builder(LocalContext.current)
        .<span class="hljs-keyword">data</span>(imageUrl)
        .crossfade(<span class="hljs-literal">true</span>)
        .placeholder(R.drawable.placeholder)
        .error(R.drawable.error)
        .memoryCachePolicy(CachePolicy.ENABLED)
        .diskCachePolicy(CachePolicy.ENABLED)
        .build(),
    contentDescription = <span class="hljs-literal">null</span>,
    contentScale = ContentScale.Crop,
    modifier = Modifier.fillMaxWidth()
)
</code></pre>
<h3 data-id="heading-24">4.4 åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">OptimizedList</span><span class="hljs-params">(items: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Item</span>&gt;)</span></span> {
    LazyColumn {
        items(
            items = items,
            key = { it.id },                    <span class="hljs-comment">// âœ… ä½¿ç”¨ key</span>
            contentType = { it.type }           <span class="hljs-comment">// âœ… ä½¿ç”¨ contentType</span>
        ) { item -&gt;
            <span class="hljs-keyword">when</span> (item.type) {
                Type.HEADER -&gt; HeaderItem(item)
                Type.CONTENT -&gt; ContentItem(item)
            }
        }
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ContentItem</span><span class="hljs-params">(item: <span class="hljs-type">Item</span>)</span></span> {
    <span class="hljs-comment">// âœ… ç¼“å­˜è®¡ç®—ç»“æœ</span>
    <span class="hljs-keyword">val</span> formattedDate = remember(item.date) {
        formatDate(item.date)
    }
    
    <span class="hljs-comment">// âœ… é¿å…åˆ›å»ºæ–°çš„ lambda</span>
    <span class="hljs-keyword">val</span> onClick = remember(item.id) {
        { viewModel.onItemClick(item.id) }
    }
    
    Card(onClick = onClick) {
        Text(formattedDate)
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-25">äº”ã€æµ‹è¯•</h2>
<h3 data-id="heading-26">5.1 Compose UI æµ‹è¯•</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. æ·»åŠ ä¾èµ–</span>
<span class="hljs-comment">// androidTestImplementation("androidx.compose.ui:ui-test-junit4")</span>

<span class="hljs-comment">// 2. ç¼–å†™æµ‹è¯•</span>
<span class="hljs-meta">@RunWith(AndroidJUnit4::class)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CounterTest</span> {
    <span class="hljs-meta">@get:Rule</span>
    <span class="hljs-keyword">val</span> composeTestRule = createComposeRule()
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">counterIncrements_whenClicked</span><span class="hljs-params">()</span></span> {
        composeTestRule.setContent {
            Counter()
        }
        
        <span class="hljs-comment">// æŸ¥æ‰¾å¹¶ç‚¹å‡»æŒ‰é’®</span>
        composeTestRule.onNodeWithText(<span class="hljs-string">"Count: 0"</span>).assertExists()
        composeTestRule.onNodeWithText(<span class="hljs-string">"Increment"</span>).performClick()
        
        <span class="hljs-comment">// éªŒè¯ç»“æœ</span>
        composeTestRule.onNodeWithText(<span class="hljs-string">"Count: 1"</span>).assertExists()
    }
}
</code></pre>
<h3 data-id="heading-27">5.2 ViewModel æµ‹è¯•</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@ExperimentalCoroutinesApi</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserViewModelTest</span> {
    <span class="hljs-meta">@get:Rule</span>
    <span class="hljs-keyword">val</span> instantExecutorRule = InstantTaskExecutorRule()
    
    <span class="hljs-meta">@get:Rule</span>
    <span class="hljs-keyword">val</span> mainDispatcherRule = MainDispatcherRule()
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> viewModel: UserViewModel
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> repository: FakeUserRepository
    
    <span class="hljs-meta">@Before</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span></span> {
        repository = FakeUserRepository()
        viewModel = UserViewModel(repository)
    }
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> `load users updates ui state`<span class="hljs-params">()</span></span> = runTest {
        <span class="hljs-comment">// Given</span>
        <span class="hljs-keyword">val</span> users = listOf(User(<span class="hljs-string">"1"</span>, <span class="hljs-string">"Alice"</span>), User(<span class="hljs-string">"2"</span>, <span class="hljs-string">"Bob"</span>))
        repository.setUsers(users)
        
        <span class="hljs-comment">// When</span>
        viewModel.loadUsers()
        
        <span class="hljs-comment">// Then</span>
        assertEquals(UiState.Success(users), viewModel.uiState.value)
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-28">å…­ã€æœ¬ç¯‡å°ç»“</h2>
<p>ä»Šå¤©æˆ‘ä»¬æ·±å…¥æ¢è®¨äº† Compose çš„æ¶æ„ä¸å·¥ç¨‹åŒ–ï¼š</p>
<h3 data-id="heading-29">é¡¹ç›®æ¶æ„</h3>
<ul>
<li>ç†è§£äº†åˆ†å±‚æ¶æ„çš„è®¾è®¡åŸåˆ™</li>
<li>æŒæ¡äº†æ¨èçš„é¡¹ç›®ç»“æ„</li>
</ul>
<h3 data-id="heading-30">Navigation</h3>
<ul>
<li>æŒæ¡äº† Navigation çš„åŸºç¡€ç”¨æ³•</li>
<li>å­¦ä¼šäº†ç±»å‹å®‰å…¨çš„å¯¼èˆª</li>
<li>ç†è§£äº†æ·±å±‚é“¾æ¥çš„å®ç°</li>
</ul>
<h3 data-id="heading-31">Hilt</h3>
<ul>
<li>ç†è§£äº†ä¾èµ–æ³¨å…¥çš„ä¼˜åŠ¿</li>
<li>æŒæ¡äº† Hilt çš„é…ç½®å’Œä½¿ç”¨</li>
<li>å­¦ä¼šäº†é™å®šç¬¦çš„ä½¿ç”¨</li>
</ul>
<h3 data-id="heading-32">æ€§èƒ½ä¼˜åŒ–</h3>
<ul>
<li>æŒæ¡äº†é‡ç»„ä¼˜åŒ–çš„æ–¹æ³•</li>
<li>å­¦ä¼šäº†ä½¿ç”¨å¸ƒå±€æ£€æŸ¥å™¨</li>
<li>ç†è§£äº†åˆ—è¡¨æ€§èƒ½ä¼˜åŒ–</li>
</ul>
<h3 data-id="heading-33">æµ‹è¯•</h3>
<ul>
<li>æŒæ¡äº† Compose UI æµ‹è¯•</li>
<li>å­¦ä¼šäº† ViewModel æµ‹è¯•</li>
</ul>
<hr/>
<h2 data-id="heading-34">ä¸‹ç¯‡é¢„å‘Š</h2>
<p><strong>ç¬¬ä¸ƒç¯‡ï¼šé«˜çº§ç‰¹æ€§ä¸å®æˆ˜</strong> å°†æ·±å…¥è®²è§£ï¼š</p>
<ul>
<li>è‡ªå®šä¹‰ç»˜åˆ¶ä¸ Canvas</li>
<li>å›¾å½¢å˜æ¢ä¸ Shader æ•ˆæœ</li>
<li>çª—å£ Insets ä¸è¾¹ç¼˜åˆ°è¾¹ç¼˜é€‚é…</li>
<li>å®Œæ•´å®æˆ˜é¡¹ç›®</li>
</ul>
<p>æ•¬è¯·æœŸå¾…ï¼</p>
<hr/>
<blockquote>
<p>ğŸ“Œ <strong>ç³»åˆ—æ–‡ç« å¯¼èˆª</strong></p>
<ul>
<li>ç¬¬ä¸€ç¯‡ï¼šåˆè¯† Compose âœ…</li>
<li>ç¬¬äºŒç¯‡ï¼šæ ¸å¿ƒåŸºçŸ³ âœ…</li>
<li>ç¬¬ä¸‰ç¯‡ï¼šçŠ¶æ€ç®¡ç† âœ…</li>
<li>ç¬¬å››ç¯‡ï¼šMaterial ç»„ä»¶ä¸ä¸»é¢˜ âœ…</li>
<li>ç¬¬äº”ç¯‡ï¼šåŠ¨ç”»ä¸äº¤äº’ âœ…</li>
<li>ç¬¬å…­ç¯‡ï¼šæ¶æ„ä¸å·¥ç¨‹åŒ–ï¼ˆå½“å‰ï¼‰âœ…</li>
<li>ç¬¬ä¸ƒç¯‡ï¼šé«˜çº§ç‰¹æ€§ä¸å®æˆ˜</li>
</ul>
</blockquote>
<hr/>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ <strong>ç‚¹èµ</strong>ã€<strong>æ”¶è—</strong>ã€<strong>å…³æ³¨</strong>ï¼æœ‰ä»»ä½•é—®é¢˜å¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Jetpack Compose ä»å…¥é—¨åˆ°ç²¾é€šï¼ˆä¸ƒï¼‰ï¼šé«˜çº§ç‰¹æ€§ä¸å®æˆ˜]]></title>    <link>https://juejin.cn/post/7602497125268979718</link>    <guid>https://juejin.cn/post/7602497125268979718</guid>    <pubDate>2026-02-04T03:07:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602497125268979718" data-draft-id="7602512064976863295" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Jetpack Compose ä»å…¥é—¨åˆ°ç²¾é€šï¼ˆä¸ƒï¼‰ï¼šé«˜çº§ç‰¹æ€§ä¸å®æˆ˜"/> <meta itemprop="keywords" content="Android,Android Studio,Android Jetpack"/> <meta itemprop="datePublished" content="2026-02-04T03:07:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‚¹é˜¿æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›"/> <meta itemprop="url" content="https://juejin.cn/user/3808364009106839"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Jetpack Compose ä»å…¥é—¨åˆ°ç²¾é€šï¼ˆä¸ƒï¼‰ï¼šé«˜çº§ç‰¹æ€§ä¸å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808364009106839/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‚¹é˜¿æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:07:38.000Z" title="Wed Feb 04 2026 03:07:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ·±å…¥æ¢ç´¢ Compose çš„é«˜çº§ç‰¹æ€§ï¼Œé€šè¿‡å®Œæ•´å®æˆ˜é¡¹ç›®æŒæ¡ä¼ä¸šçº§å¼€å‘æŠ€èƒ½ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>ç»è¿‡å‰å…­ç¯‡çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº† Compose çš„æ ¸å¿ƒå¼€å‘æŠ€èƒ½ã€‚æœ¬ç¯‡æ–‡ç« å°†æ¢ç´¢ Compose çš„é«˜çº§ç‰¹æ€§ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„å®æˆ˜é¡¹ç›®ï¼Œå°†æ‰€å­¦çŸ¥è¯†èä¼šè´¯é€šã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€è‡ªå®šä¹‰ç»˜åˆ¶</h2>
<h3 data-id="heading-2">1.1 Canvas åŸºç¡€</h3>
<p>Canvas æ˜¯ Compose ä¸­è‡ªå®šä¹‰ç»˜åˆ¶çš„æ ¸å¿ƒç»„ä»¶ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CustomCanvas</span><span class="hljs-params">()</span></span> {
    Canvas(
        modifier = Modifier
            .fillMaxWidth()
            .height(<span class="hljs-number">200.</span>dp)
    ) {
        <span class="hljs-comment">// ç»˜åˆ¶çŸ©å½¢</span>
        drawRect(
            color = Color.Blue,
            topLeft = Offset(<span class="hljs-number">0f</span>, <span class="hljs-number">0f</span>),
            size = Size(<span class="hljs-number">100f</span>, <span class="hljs-number">100f</span>)
        )
        
        <span class="hljs-comment">// ç»˜åˆ¶åœ†å½¢</span>
        drawCircle(
            color = Color.Red,
            radius = <span class="hljs-number">50f</span>,
            center = Offset(<span class="hljs-number">200f</span>, <span class="hljs-number">100f</span>)
        )
        
        <span class="hljs-comment">// ç»˜åˆ¶çº¿æ¡</span>
        drawLine(
            color = Color.Green,
            start = Offset(<span class="hljs-number">0f</span>, <span class="hljs-number">200f</span>),
            end = Offset(size.width, <span class="hljs-number">200f</span>),
            strokeWidth = <span class="hljs-number">5f</span>
        )
    }
}
</code></pre>
<h3 data-id="heading-3">1.2 Path ç»˜åˆ¶</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">TriangleShape</span><span class="hljs-params">()</span></span> {
    Canvas(modifier = Modifier.size(<span class="hljs-number">100.</span>dp)) {
        <span class="hljs-keyword">val</span> path = Path().apply {
            moveTo(size.width / <span class="hljs-number">2</span>, <span class="hljs-number">0f</span>)
            lineTo(size.width, size.height)
            lineTo(<span class="hljs-number">0f</span>, size.height)
            close()
        }
        
        drawPath(
            path = path,
            color = Color.Blue
        )
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CurvedLine</span><span class="hljs-params">()</span></span> {
    Canvas(modifier = Modifier.fillMaxWidth().height(<span class="hljs-number">200.</span>dp)) {
        <span class="hljs-keyword">val</span> path = Path().apply {
            moveTo(<span class="hljs-number">0f</span>, size.height / <span class="hljs-number">2</span>)
            
            <span class="hljs-comment">// äºŒæ¬¡è´å¡å°”æ›²çº¿</span>
            quadraticBezierTo(
                size.width / <span class="hljs-number">2</span>, <span class="hljs-number">0f</span>,
                size.width, size.height / <span class="hljs-number">2</span>
            )
        }
        
        drawPath(
            path = path,
            color = Color.Red,
            style = Stroke(width = <span class="hljs-number">5f</span>)
        )
    }
}
</code></pre>
<h3 data-id="heading-4">1.3 æ¸å˜ç»˜åˆ¶</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">GradientBackground</span><span class="hljs-params">()</span></span> {
    Canvas(modifier = Modifier.fillMaxSize()) {
        <span class="hljs-keyword">val</span> gradient = Brush.linearGradient(
            colors = listOf(Color.Blue, Color.Purple, Color.Red),
            start = Offset(<span class="hljs-number">0f</span>, <span class="hljs-number">0f</span>),
            end = Offset(size.width, size.height)
        )
        
        drawRect(brush = gradient)
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">RadialGradientCircle</span><span class="hljs-params">()</span></span> {
    Canvas(modifier = Modifier.size(<span class="hljs-number">200.</span>dp)) {
        <span class="hljs-keyword">val</span> gradient = Brush.radialGradient(
            colors = listOf(Color.Yellow, Color.Orange, Color.Red),
            center = center,
            radius = size.minDimension / <span class="hljs-number">2</span>
        )
        
        drawCircle(brush = gradient)
    }
}
</code></pre>
<h3 data-id="heading-5">1.4 å®æˆ˜ï¼šé¥¼å›¾ç»„ä»¶</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">PieChart</span><span class="hljs-params">(
    <span class="hljs-keyword">data</span>: <span class="hljs-type">List</span>&lt;<span class="hljs-type">PieData</span>&gt;,
    modifier: <span class="hljs-type">Modifier</span> = Modifier
        .size(<span class="hljs-number">200.</span>dp)</span></span>
) {
    <span class="hljs-keyword">val</span> total = <span class="hljs-keyword">data</span>.sumOf { it.value.toDouble() }.toFloat()
    <span class="hljs-keyword">var</span> startAngle = -<span class="hljs-number">90f</span>
    
    Canvas(modifier = modifier) {
        <span class="hljs-keyword">data</span>.forEach { item -&gt;
            <span class="hljs-keyword">val</span> sweepAngle = (item.value / total) * <span class="hljs-number">360f</span>
            
            drawArc(
                color = item.color,
                startAngle = startAngle,
                sweepAngle = sweepAngle,
                useCenter = <span class="hljs-literal">true</span>
            )
            
            startAngle += sweepAngle
        }
    }
}

<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PieData</span>(
    <span class="hljs-keyword">val</span> value: <span class="hljs-built_in">Float</span>,
    <span class="hljs-keyword">val</span> color: Color,
    <span class="hljs-keyword">val</span> label: String
)
</code></pre>
<hr/>
<h2 data-id="heading-6">äºŒã€å›¾å½¢å˜æ¢</h2>
<h3 data-id="heading-7">2.1 GraphicsLayer</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">TransformedBox</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> rotation <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-number">0f</span>) }
    <span class="hljs-keyword">var</span> scale <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-number">1f</span>) }
    
    Box(
        modifier = Modifier
            .graphicsLayer {
                rotationZ = rotation
                scaleX = scale
                scaleY = scale
                <span class="hljs-comment">// é˜´å½±</span>
                shadowElevation = <span class="hljs-number">10f</span>
                <span class="hljs-comment">// è£å‰ª</span>
                clip = <span class="hljs-literal">true</span>
                shape = RoundedCornerShape(<span class="hljs-number">16.</span>dp)
            }
            .size(<span class="hljs-number">100.</span>dp)
            .background(Color.Blue)
            .clickable {
                rotation += <span class="hljs-number">45f</span>
                scale = <span class="hljs-keyword">if</span> (scale == <span class="hljs-number">1f</span>) <span class="hljs-number">1.5f</span> <span class="hljs-keyword">else</span> <span class="hljs-number">1f</span>
            }
    )
}
</code></pre>
<h3 data-id="heading-8">2.2 BlendMode æ··åˆæ¨¡å¼</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">BlendModeDemo</span><span class="hljs-params">()</span></span> {
    Canvas(modifier = Modifier.fillMaxSize()) {
        <span class="hljs-comment">// ç»˜åˆ¶çº¢è‰²åœ†å½¢</span>
        drawCircle(
            color = Color.Red,
            radius = <span class="hljs-number">100f</span>,
            center = Offset(size.width / <span class="hljs-number">2</span> - <span class="hljs-number">50</span>, size.height / <span class="hljs-number">2</span>)
        )
        
        <span class="hljs-comment">// ä½¿ç”¨æ··åˆæ¨¡å¼ç»˜åˆ¶è“è‰²åœ†å½¢</span>
        drawCircle(
            color = Color.Blue,
            radius = <span class="hljs-number">100f</span>,
            center = Offset(size.width / <span class="hljs-number">2</span> + <span class="hljs-number">50</span>, size.height / <span class="hljs-number">2</span>),
            blendMode = BlendMode.Multiply  <span class="hljs-comment">// æ­£ç‰‡å åº•</span>
        )
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€çª—å£ Insets å¤„ç†</h2>
<h3 data-id="heading-10">3.1 ä»€ä¹ˆæ˜¯ Insetsï¼Ÿ</h3>
<p>Insets è¡¨ç¤ºç³»ç»Ÿ UI å æ®çš„åŒºåŸŸï¼š</p>
<ul>
<li>çŠ¶æ€æ ï¼ˆStatus Barï¼‰</li>
<li>å¯¼èˆªæ ï¼ˆNavigation Barï¼‰</li>
<li>é”®ç›˜ï¼ˆIMEï¼‰</li>
<li>åˆ˜æµ·å±/æŒ–å­”å±ï¼ˆDisplay Cutoutï¼‰</li>
</ul>
<h3 data-id="heading-11">3.2 WindowInsets API</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">InsetsDemo</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// è·å–å„ç§ Insets</span>
    <span class="hljs-keyword">val</span> statusBars = WindowInsets.statusBars
    <span class="hljs-keyword">val</span> navigationBars = WindowInsets.navigationBars
    <span class="hljs-keyword">val</span> ime = WindowInsets.ime
    <span class="hljs-keyword">val</span> safeDrawing = WindowInsets.safeDrawing
    
    <span class="hljs-comment">// åº”ç”¨åˆ°å¸ƒå±€</span>
    Box(
        modifier = Modifier
            .fillMaxSize()
            .windowInsetsPadding(statusBars)
            .windowInsetsPadding(navigationBars)
    ) {
        <span class="hljs-comment">// å†…å®¹ä¸ä¼šè¢«ç³»ç»Ÿæ é®æŒ¡</span>
    }
}
</code></pre>
<h3 data-id="heading-12">3.3 è¾¹ç¼˜åˆ°è¾¹ç¼˜é€‚é…</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">ComponentActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        
        <span class="hljs-comment">// å¯ç”¨è¾¹ç¼˜åˆ°è¾¹ç¼˜</span>
        enableEdgeToEdge()
        
        setContent {
            MyApp()
        }
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">EdgeToEdgeScreen</span><span class="hljs-params">()</span></span> {
    Scaffold(
        modifier = Modifier.fillMaxSize(),
        topBar = {
            TopAppBar(
                title = { Text(<span class="hljs-string">"æ ‡é¢˜"</span>) },
                modifier = Modifier.windowInsetsPadding(WindowInsets.statusBars)
            )
        },
        bottomBar = {
            NavigationBar(
                modifier = Modifier.windowInsetsPadding(WindowInsets.navigationBars)
            ) {
                <span class="hljs-comment">// å¯¼èˆªé¡¹</span>
            }
        }
    ) { innerPadding -&gt;
        <span class="hljs-comment">// å†…å®¹åŒºåŸŸè‡ªåŠ¨é¿å¼€ç³»ç»Ÿæ </span>
        LazyColumn(
            modifier = Modifier.padding(innerPadding)
        ) {
            <span class="hljs-comment">// åˆ—è¡¨å†…å®¹</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-13">3.4 é”®ç›˜å¤„ç†</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">KeyboardAwareScreen</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> imeInsets = WindowInsets.ime
    <span class="hljs-keyword">val</span> isKeyboardVisible = imeInsets.getBottom(LocalDensity.current) &gt; <span class="hljs-number">0</span>
    
    Column(
        modifier = Modifier
            .fillMaxSize()
            .windowInsetsPadding(WindowInsets.statusBars)
    ) {
        <span class="hljs-comment">// å†…å®¹åŒºåŸŸ</span>
        LazyColumn(
            modifier = Modifier.weight(<span class="hljs-number">1f</span>)
        ) {
            <span class="hljs-comment">// åˆ—è¡¨é¡¹</span>
        }
        
        <span class="hljs-comment">// è¾“å…¥æ¡†</span>
        OutlinedTextField(
            value = text,
            onValueChange = { text = it },
            modifier = Modifier
                .fillMaxWidth()
                .windowInsetsPadding(WindowInsets.ime)
        )
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-14">å››ã€å®æˆ˜é¡¹ç›®ï¼šæ–°é—»é˜…è¯» App</h2>
<h3 data-id="heading-15">4.1 é¡¹ç›®æ¶æ„</h3>
<pre><code class="hljs language-css" lang="css">app/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ remote/
â”‚   â”‚   â”œâ”€â”€ NewsApi<span class="hljs-selector-class">.kt</span>
â”‚   â”‚   â””â”€â”€ dto/
â”‚   â”œâ”€â”€ local/
â”‚   â”‚   â”œâ”€â”€ NewsDao<span class="hljs-selector-class">.kt</span>
â”‚   â”‚   â””â”€â”€ AppDatabase<span class="hljs-selector-class">.kt</span>
â”‚   â”œâ”€â”€ repository/
â”‚   â”‚   â””â”€â”€ NewsRepository<span class="hljs-selector-class">.kt</span>
â”‚   â””â”€â”€ model/
â”‚       â””â”€â”€ <span class="hljs-selector-tag">Article</span><span class="hljs-selector-class">.kt</span>
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ theme/
â”‚   â”‚   â”œâ”€â”€ <span class="hljs-attribute">Color</span><span class="hljs-selector-class">.kt</span>
â”‚   â”‚   â”œâ”€â”€ Theme<span class="hljs-selector-class">.kt</span>
â”‚   â”‚   â””â”€â”€ Type<span class="hljs-selector-class">.kt</span>
â”‚   â”œâ”€â”€ component/
â”‚   â”‚   â”œâ”€â”€ ArticleCard<span class="hljs-selector-class">.kt</span>
â”‚   â”‚   â”œâ”€â”€ LoadingIndicator<span class="hljs-selector-class">.kt</span>
â”‚   â”‚   â””â”€â”€ ErrorMessage<span class="hljs-selector-class">.kt</span>
â”‚   â”œâ”€â”€ screen/
â”‚   â”‚   â”œâ”€â”€ home/
â”‚   â”‚   â”‚   â”œâ”€â”€ HomeScreen<span class="hljs-selector-class">.kt</span>
â”‚   â”‚   â”‚   â”œâ”€â”€ HomeViewModel<span class="hljs-selector-class">.kt</span>
â”‚   â”‚   â”‚   â””â”€â”€ HomeUiState<span class="hljs-selector-class">.kt</span>
â”‚   â”‚   â”œâ”€â”€ detail/
â”‚   â”‚   â”‚   â”œâ”€â”€ DetailScreen<span class="hljs-selector-class">.kt</span>
â”‚   â”‚   â”‚   â””â”€â”€ DetailViewModel<span class="hljs-selector-class">.kt</span>
â”‚   â”‚   â””â”€â”€ bookmark/
â”‚   â”‚       â””â”€â”€ BookmarkScreen<span class="hljs-selector-class">.kt</span>
â”‚   â””â”€â”€ navigation/
â”‚       â””â”€â”€ AppNavigation<span class="hljs-selector-class">.kt</span>
â””â”€â”€ di/
    â””â”€â”€ AppModule<span class="hljs-selector-class">.kt</span>
</code></pre>
<h3 data-id="heading-16">4.2 æ•°æ®å±‚å®ç°</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ•°æ®æ¨¡å‹</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Article</span>(
    <span class="hljs-keyword">val</span> id: String,
    <span class="hljs-keyword">val</span> title: String,
    <span class="hljs-keyword">val</span> summary: String,
    <span class="hljs-keyword">val</span> imageUrl: String,
    <span class="hljs-keyword">val</span> publishedAt: String,
    <span class="hljs-keyword">val</span> isBookmarked: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>
)

<span class="hljs-comment">// API æ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">NewsApi</span> {
    <span class="hljs-meta">@GET(<span class="hljs-string">"top-headlines"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getTopHeadlines</span><span class="hljs-params">(
        <span class="hljs-meta">@Query(<span class="hljs-string">"country"</span>)</span> country: <span class="hljs-type">String</span> = <span class="hljs-string">"us"</span>,
        <span class="hljs-meta">@Query(<span class="hljs-string">"apiKey"</span>)</span> apiKey: <span class="hljs-type">String</span> = BuildConfig.API_KEY
    )</span></span>: NewsResponse
    
    <span class="hljs-meta">@GET(<span class="hljs-string">"everything"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">searchNews</span><span class="hljs-params">(
        <span class="hljs-meta">@Query(<span class="hljs-string">"q"</span>)</span> query: <span class="hljs-type">String</span>,
        <span class="hljs-meta">@Query(<span class="hljs-string">"apiKey"</span>)</span> apiKey: <span class="hljs-type">String</span> = BuildConfig.API_KEY
    )</span></span>: NewsResponse
}

<span class="hljs-comment">// æ•°æ®åº“</span>
<span class="hljs-meta">@Dao</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">NewsDao</span> {
    <span class="hljs-meta">@Query(<span class="hljs-string">"SELECT * FROM articles ORDER BY publishedAt DESC"</span>)</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getAllArticles</span><span class="hljs-params">()</span></span>: Flow&lt;List&lt;ArticleEntity&gt;&gt;
    
    <span class="hljs-meta">@Query(<span class="hljs-string">"SELECT * FROM articles WHERE isBookmarked = 1"</span>)</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getBookmarkedArticles</span><span class="hljs-params">()</span></span>: Flow&lt;List&lt;ArticleEntity&gt;&gt;
    
    <span class="hljs-meta">@Insert(onConflict = OnConflictStrategy.REPLACE)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">insertArticles</span><span class="hljs-params">(articles: <span class="hljs-type">List</span>&lt;<span class="hljs-type">ArticleEntity</span>&gt;)</span></span>
    
    <span class="hljs-meta">@Query(<span class="hljs-string">"UPDATE articles SET isBookmarked = :isBookmarked WHERE id = :articleId"</span>)</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateBookmark</span><span class="hljs-params">(articleId: <span class="hljs-type">String</span>, isBookmarked: <span class="hljs-type">Boolean</span>)</span></span>
}

<span class="hljs-comment">// Repository</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">NewsRepository</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> api: NewsApi,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> dao: NewsDao
) {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getArticles</span><span class="hljs-params">()</span></span>: Flow&lt;List&lt;Article&gt;&gt; = flow {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">val</span> response = api.getTopHeadlines()
            <span class="hljs-keyword">val</span> articles = response.articles.map { it.toDomain() }
            dao.insertArticles(articles.map { it.toEntity() })
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            <span class="hljs-comment">// ç½‘ç»œå¤±è´¥æ—¶ä½¿ç”¨æœ¬åœ°ç¼“å­˜</span>
        }
        
        emitAll(dao.getAllArticles().map { list -&gt;
            list.map { it.toDomain() }
        })
    }
    
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">toggleBookmark</span><span class="hljs-params">(articleId: <span class="hljs-type">String</span>, isBookmarked: <span class="hljs-type">Boolean</span>)</span></span> {
        dao.updateBookmark(articleId, isBookmarked)
    }
}
</code></pre>
<h3 data-id="heading-17">4.3 ViewModel å®ç°</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">sealed</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">HomeUiState</span> {
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> Loading : HomeUiState
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Success</span>(<span class="hljs-keyword">val</span> articles: List&lt;Article&gt;) : HomeUiState
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Error</span>(<span class="hljs-keyword">val</span> message: String) : HomeUiState
}

<span class="hljs-meta">@HiltViewModel</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HomeViewModel</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> repository: NewsRepository
) : ViewModel() {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _uiState = MutableStateFlow&lt;HomeUiState&gt;(HomeUiState.Loading)
    <span class="hljs-keyword">val</span> uiState: StateFlow&lt;HomeUiState&gt; = _uiState.asStateFlow()
    
    <span class="hljs-keyword">init</span> {
        loadArticles()
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadArticles</span><span class="hljs-params">()</span></span> {
        viewModelScope.launch {
            repository.getArticles()
                .onStart { _uiState.value = HomeUiState.Loading }
                .<span class="hljs-keyword">catch</span> { e -&gt;
                    _uiState.value = HomeUiState.Error(e.message ?: <span class="hljs-string">"Unknown error"</span>)
                }
                .collect { articles -&gt;
                    _uiState.value = HomeUiState.Success(articles)
                }
        }
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">toggleBookmark</span><span class="hljs-params">(articleId: <span class="hljs-type">String</span>, isBookmarked: <span class="hljs-type">Boolean</span>)</span></span> {
        viewModelScope.launch {
            repository.toggleBookmark(articleId, isBookmarked)
        }
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">refresh</span><span class="hljs-params">()</span></span> {
        loadArticles()
    }
}
</code></pre>
<h3 data-id="heading-18">4.4 UI å®ç°</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">HomeScreen</span><span class="hljs-params">(
    viewModel: <span class="hljs-type">HomeViewModel</span> = hiltViewModel()</span></span>,
    onArticleClick: (String) -&gt; <span class="hljs-built_in">Unit</span>
) {
    <span class="hljs-keyword">val</span> uiState <span class="hljs-keyword">by</span> viewModel.uiState.collectAsState()
    
    Scaffold(
        topBar = {
            TopAppBar(
                title = { Text(<span class="hljs-string">"æ–°é—»"</span>) },
                actions = {
                    IconButton(onClick = { viewModel.refresh() }) {
                        Icon(Icons.Default.Refresh, contentDescription = <span class="hljs-string">"åˆ·æ–°"</span>)
                    }
                }
            )
        }
    ) { innerPadding -&gt;
        <span class="hljs-keyword">when</span> (<span class="hljs-keyword">val</span> state = uiState) {
            <span class="hljs-keyword">is</span> HomeUiState.Loading -&gt; LoadingIndicator()
            <span class="hljs-keyword">is</span> HomeUiState.Error -&gt; ErrorMessage(
                message = state.message,
                onRetry = { viewModel.refresh() }
            )
            <span class="hljs-keyword">is</span> HomeUiState.Success -&gt; {
                ArticleList(
                    articles = state.articles,
                    onArticleClick = onArticleClick,
                    onBookmarkClick = { id, bookmarked -&gt;
                        viewModel.toggleBookmark(id, bookmarked)
                    },
                    modifier = Modifier.padding(innerPadding)
                )
            }
        }
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ArticleList</span><span class="hljs-params">(
    articles: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Article</span>&gt;,
    onArticleClick: (<span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span>,
    onBookmarkClick: (<span class="hljs-type">String</span>, <span class="hljs-type">Boolean</span>) -&gt; <span class="hljs-type">Unit</span>,
    modifier: <span class="hljs-type">Modifier</span> = Modifier
)</span></span> {
    LazyColumn(
        modifier = modifier.fillMaxSize(),
        contentPadding = PaddingValues(<span class="hljs-number">16.</span>dp),
        verticalArrangement = Arrangement.spacedBy(<span class="hljs-number">16.</span>dp)
    ) {
        items(articles, key = { it.id }) { article -&gt;
            ArticleCard(
                article = article,
                onClick = { onArticleClick(article.id) },
                onBookmarkClick = { onBookmarkClick(article.id, !article.isBookmarked) }
            )
        }
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ArticleCard</span><span class="hljs-params">(
    article: <span class="hljs-type">Article</span>,
    onClick: () -&gt; <span class="hljs-type">Unit</span>,
    onBookmarkClick: () -&gt; <span class="hljs-type">Unit</span>
)</span></span> {
    Card(
        modifier = Modifier.fillMaxWidth(),
        onClick = onClick
    ) {
        Column {
            AsyncImage(
                model = article.imageUrl,
                contentDescription = <span class="hljs-literal">null</span>,
                modifier = Modifier
                    .fillMaxWidth()
                    .height(<span class="hljs-number">200.</span>dp),
                contentScale = ContentScale.Crop
            )
            
            Column(modifier = Modifier.padding(<span class="hljs-number">16.</span>dp)) {
                Text(
                    text = article.title,
                    style = MaterialTheme.typography.titleLarge
                )
                
                Spacer(modifier = Modifier.height(<span class="hljs-number">8.</span>dp))
                
                Text(
                    text = article.summary,
                    style = MaterialTheme.typography.bodyMedium,
                    maxLines = <span class="hljs-number">2</span>,
                    overflow = TextOverflow.Ellipsis
                )
                
                Spacer(modifier = Modifier.height(<span class="hljs-number">8.</span>dp))
                
                Row(
                    modifier = Modifier.fillMaxWidth(),
                    horizontalArrangement = Arrangement.SpaceBetween,
                    verticalAlignment = Alignment.CenterVertically
                ) {
                    Text(
                        text = article.publishedAt,
                        style = MaterialTheme.typography.bodySmall,
                        color = MaterialTheme.colorScheme.onSurfaceVariant
                    )
                    
                    IconButton(onClick = onBookmarkClick) {
                        Icon(
                            imageVector = <span class="hljs-keyword">if</span> (article.isBookmarked) {
                                Icons.Default.Bookmark
                            } <span class="hljs-keyword">else</span> {
                                Icons.Default.BookmarkBorder
                            },
                            contentDescription = <span class="hljs-string">"æ”¶è—"</span>
                        )
                    }
                }
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-19">4.5 å¯¼èˆªé…ç½®</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">AppNavigation</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> navController = rememberNavController()
    
    NavHost(
        navController = navController,
        startDestination = <span class="hljs-string">"home"</span>
    ) {
        composable(<span class="hljs-string">"home"</span>) {
            HomeScreen(
                onArticleClick = { articleId -&gt;
                    navController.navigate(<span class="hljs-string">"detail/<span class="hljs-variable">$articleId</span>"</span>)
                }
            )
        }
        
        composable(
            route = <span class="hljs-string">"detail/{articleId}"</span>,
            arguments = listOf(
                navArgument(<span class="hljs-string">"articleId"</span>) { type = NavType.StringType }
            )
        ) { backStackEntry -&gt;
            <span class="hljs-keyword">val</span> articleId = backStackEntry.arguments?.getString(<span class="hljs-string">"articleId"</span>) ?: <span class="hljs-string">""</span>
            DetailScreen(
                articleId = articleId,
                onBack = { navController.popBackStack() }
            )
        }
        
        composable(<span class="hljs-string">"bookmarks"</span>) {
            BookmarkScreen()
        }
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-20">äº”ã€æ€§èƒ½ä¼˜åŒ–å®æˆ˜</h2>
<h3 data-id="heading-21">5.1 åˆ—è¡¨ä¼˜åŒ–</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">OptimizedArticleList</span><span class="hljs-params">(articles: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Article</span>&gt;)</span></span> {
    LazyColumn {
        items(
            items = articles,
            key = { it.id },                    <span class="hljs-comment">// ä½¿ç”¨ key ä¼˜åŒ–é‡ç»„</span>
            contentType = { it::<span class="hljs-keyword">class</span> }         <span class="hljs-comment">// ä½¿ç”¨ contentType ä¼˜åŒ–å¤ç”¨</span>
        ) { article -&gt;
            ArticleCard(
                article = article,
                <span class="hljs-comment">// ç¼“å­˜ lambda é¿å…æ¯æ¬¡é‡ç»„åˆ›å»º</span>
                onClick = remember(article.id) {
                    { viewModel.onArticleClick(article.id) }
                }
            )
        }
    }
}
</code></pre>
<h3 data-id="heading-22">5.2 å›¾ç‰‡ä¼˜åŒ–</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">OptimizedImage</span><span class="hljs-params">(imageUrl: <span class="hljs-type">String</span>)</span></span> {
    AsyncImage(
        model = ImageRequest.Builder(LocalContext.current)
            .<span class="hljs-keyword">data</span>(imageUrl)
            .crossfade(<span class="hljs-literal">true</span>)
            .placeholder(R.drawable.placeholder)
            .error(R.drawable.error)
            <span class="hljs-comment">// å†…å­˜ç¼“å­˜</span>
            .memoryCachePolicy(CachePolicy.ENABLED)
            <span class="hljs-comment">// ç£ç›˜ç¼“å­˜</span>
            .diskCachePolicy(CachePolicy.ENABLED)
            <span class="hljs-comment">// å›¾ç‰‡å°ºå¯¸</span>
            .size(<span class="hljs-number">800</span>, <span class="hljs-number">600</span>)
            .build(),
        contentDescription = <span class="hljs-literal">null</span>,
        contentScale = ContentScale.Crop,
        modifier = Modifier.fillMaxWidth()
    )
}
</code></pre>
<hr/>
<h2 data-id="heading-23">å…­ã€æœ¬ç¯‡å°ç»“</h2>
<p>é€šè¿‡æœ¬ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬ï¼š</p>
<ol>
<li><strong>æŒæ¡äº†è‡ªå®šä¹‰ç»˜åˆ¶</strong>ï¼šCanvasã€Pathã€æ¸å˜ç»˜åˆ¶</li>
<li><strong>ç†è§£äº†å›¾å½¢å˜æ¢</strong>ï¼šGraphicsLayerã€BlendMode</li>
<li><strong>å­¦ä¼šäº† Insets å¤„ç†</strong>ï¼šè¾¹ç¼˜åˆ°è¾¹ç¼˜é€‚é…ã€é”®ç›˜å¤„ç†</li>
<li><strong>å®Œæˆäº†å®æˆ˜é¡¹ç›®</strong>ï¼šæ–°é—»é˜…è¯» App çš„å®Œæ•´å®ç°</li>
<li><strong>å®è·µäº†æ€§èƒ½ä¼˜åŒ–</strong>ï¼šåˆ—è¡¨ä¼˜åŒ–ã€å›¾ç‰‡ä¼˜åŒ–</li>
</ol>
<hr/>
<h2 data-id="heading-24">ç³»åˆ—æ€»ç»“</h2>
<p>ç»è¿‡ä¸ƒç¯‡çš„å­¦ä¹ ï¼Œæˆ‘ä»¬ç³»ç»Ÿåœ°æŒæ¡äº† Jetpack Composeï¼š</p>





































<table><thead><tr><th>ç¯‡ç« </th><th>æ ¸å¿ƒå†…å®¹</th></tr></thead><tbody><tr><td>ç¬¬ä¸€ç¯‡</td><td>ç¯å¢ƒæ­å»ºã€Composable åŸºç¡€ã€Material ç»„ä»¶å…¥é—¨</td></tr><tr><td>ç¬¬äºŒç¯‡</td><td>Modifier åŸç†ã€å¸ƒå±€ç³»ç»Ÿã€LazyColumnã€ConstraintLayout</td></tr><tr><td>ç¬¬ä¸‰ç¯‡</td><td>Slot Tableã€çŠ¶æ€ç®¡ç†ã€ViewModelã€å‰¯ä½œç”¨ API</td></tr><tr><td>ç¬¬å››ç¯‡</td><td>Material Design 3ã€ä¸»é¢˜å®šåˆ¶ã€æ·±è‰²æ¨¡å¼ã€åŠ¨æ€å–è‰²</td></tr><tr><td>ç¬¬äº”ç¯‡</td><td>åŠ¨ç”»ç³»ç»Ÿã€æ‰‹åŠ¿å¤„ç†ã€è‡ªå®šä¹‰åŠ¨ç”»</td></tr><tr><td>ç¬¬å…­ç¯‡</td><td>é¡¹ç›®æ¶æ„ã€Navigationã€Hiltã€æ€§èƒ½ä¼˜åŒ–</td></tr><tr><td>ç¬¬ä¸ƒç¯‡</td><td>è‡ªå®šä¹‰ç»˜åˆ¶ã€Insets å¤„ç†ã€å®æˆ˜é¡¹ç›®</td></tr></tbody></table>
<p>å¸Œæœ›è¿™ä¸ªç³»åˆ—èƒ½å¸®åŠ©ä½ çœŸæ­£ç²¾é€š Composeï¼</p>
<hr/>
<p>å¦‚æœæœ¬ç³»åˆ—å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ <strong>ç‚¹èµ</strong>ã€<strong>æ”¶è—</strong>ã€<strong>å…³æ³¨</strong>ï¼æœ‰ä»»ä½•é—®é¢˜å¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®æµ‹ OpenClawï¼šå·ç§°å…è´¹å¼€æºï¼Œæˆ‘å´èŠ±äº† 500 ç¾å…ƒï¼æ‰’æ¸… AI æ™ºèƒ½ä½“çš„æˆæœ¬é™·é˜±]]></title>    <link>https://juejin.cn/post/7602512064976879679</link>    <guid>https://juejin.cn/post/7602512064976879679</guid>    <pubDate>2026-02-04T03:09:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602512064976879679" data-draft-id="7602454700504727593" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®æµ‹ OpenClawï¼šå·ç§°å…è´¹å¼€æºï¼Œæˆ‘å´èŠ±äº† 500 ç¾å…ƒï¼æ‰’æ¸… AI æ™ºèƒ½ä½“çš„æˆæœ¬é™·é˜±"/> <meta itemprop="keywords" content="å¼€æº,äººå·¥æ™ºèƒ½,Python"/> <meta itemprop="datePublished" content="2026-02-04T03:09:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éä¼˜ç§€ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/3984285870341288"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®æµ‹ OpenClawï¼šå·ç§°å…è´¹å¼€æºï¼Œæˆ‘å´èŠ±äº† 500 ç¾å…ƒï¼æ‰’æ¸… AI æ™ºèƒ½ä½“çš„æˆæœ¬é™·é˜±
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3984285870341288/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éä¼˜ç§€ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:09:35.000Z" title="Wed Feb 04 2026 03:09:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘è¯•ç”¨äº†GitHub 20.4ä¸‡æ˜Ÿçš„ã€Œå…è´¹ã€AIåŠ©æ‰‹OpenClawï¼Œè·Ÿç€ç½‘çº¢æ•™ç¨‹æ“ä½œï¼Œç»“æœé’±åŒ…é­äº†æ®ƒâ€”â€”è¿™ç¯‡500ç¾å…ƒçœŸå®ä½“éªŒï¼Œèƒ½å¸®ä½ çœæ•°ç™¾ç¾å…ƒï¼Œä¹Ÿèƒ½å¸®ä½ é¿å¼€æ•°åƒç¾å…ƒçš„å‘ï¼</p>
<p>å…ˆä¸Šæ ¸å¿ƒåå·®ï¼šç‚’ä½œ vs ç°å®ï¼Œå…è´¹çš„è°è¨€ç¬é—´æˆ³ç ´</p>





















<table><thead><tr><th>ä»–ä»¬è¯´çš„</th><th>å®é™…è¦èŠ±çš„é’±</th></tr></thead><tbody><tr><td>å¼€æºå…è´¹ï¼</td><td>è½¯ä»¶ï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn><mtext>ï¼Œ</mtext><mi>A</mi><mi>P</mi><mi>I</mi><mi>t</mi><mi>o</mi><mi>k</mi><mi>e</mi><mi>n</mi><mtext>ï¼š</mtext></mrow><annotation encoding="application/x-tex">0ï¼ŒAPI tokenï¼š</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord">0</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">t</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">ï¼š</span></span></span></span></span>50-500+/æœˆ</td></tr><tr><td>å®‰è£…å³ç”¨ï¼</td><td>VPSæœåŠ¡å™¨ï¼š$23-70/æœˆ</td></tr><tr><td>åˆè®¡ï¼šå…è´¹</td><td>åˆè®¡ï¼š$100-500+/æœˆ</td></tr></tbody></table>
<h4 data-id="heading-0">ä¸€ã€ç½‘çº¢å¹çš„â€œç¥ä»™åŠŸèƒ½â€ï¼Œå…¨æ˜¯å¥—è·¯é“ºå«</h4>
<p>ä½ åˆ·åˆ°çš„æ¼”ç¤ºã€æ•™ç¨‹é‡Œï¼ŒOpenClawï¼ˆæ›¾ç”¨åMoltBot/Clawdbotï¼‰æ— æ‰€ä¸èƒ½ï¼š</p>
<p>âœ… ç¡çœ æ—¶è‡ªåŠ¨å†™å®Œæ•´åŠŸèƒ½ä»£ç </p>
<p>âœ… ç›‘æ§ç³»ç»Ÿ+ä¸»åŠ¨å‘è­¦æŠ¥</p>
<p>âœ…  Telegram/å¾®ä¿¡å®æ—¶å›å¤æ¶ˆæ¯</p>
<p>âœ…  è‡ªåŠ¨æPRã€å®¡ä»£ç ã€æµè§ˆç½‘é¡µ</p>
<p>éº»çœç†å·¥æˆæƒã€å¼€æºå…è´¹ã€å®‰è£…å³ç”¨ï¼Œç½‘çº¢æ“ä½œå¾—è½»æ¾æ— æ¯”ï¼Œå¯æ²¡äººè¯´èƒŒåçš„æˆæœ¬çœŸç›¸ã€‚</p>
<h4 data-id="heading-1">äºŒã€ è¯¦ç»†æˆæœ¬æ‹†è§£ï¼šâ€œå…è´¹â€åªæ˜¯å†°å±±ä¸€è§’</h4>
<h5 data-id="heading-2">çœŸæ­£å…è´¹çš„ç»„ä»¶ï¼ˆä»…3ä¸ªï¼‰</h5>
<ul>
<li>OpenClawè½¯ä»¶ï¼ˆMITè®¸å¯è¯ï¼‰ï¼š$0</li>
<li>Cloudflareéš§é“ï¼š$0</li>
<li>LiteLLMä»£ç†ï¼š$0</li>
</ul>
<h5 data-id="heading-3">å¿…èŠ±çš„æ ¸å¿ƒæˆæœ¬ï¼ˆ2å¤§ç±»ï¼Œå æ¯”99%ï¼‰</h5>
<ol>
<li>VPSæœåŠ¡å™¨ï¼ˆAzure/DigitalOceanç­‰ï¼‰ï¼šæ¯æœˆ23-70ç¾å…ƒï¼Œåˆšéœ€ï¼ˆæœ¬åœ°ä½é…æœºè·‘ä¸äº†ï¼‰</li>
<li>APIä»¤ç‰Œ+æ¨¡å‹è°ƒç”¨è´¹ï¼šæ¯æœˆ50-500ç¾å…ƒ+ï¼Œ<strong>æœ€å¤§æˆæœ¬å‘ï¼Œä¹Ÿæ˜¯æœ€å®¹æ˜“è¶…æ”¯çš„åœ°æ–¹</strong></li>
</ol>
<h5 data-id="heading-4">APIè´¦å•æ‰æ˜¯â€œåé‡‘å…½â€ï¼šä¸åŒæ¨¡å‹ä»·å·®å·¨å¤§ï¼Œé€‰é”™æ›´è´¹é’±</h5>



































<table><thead><tr><th>æ¨¡å‹</th><th>è¾“å…¥å•ä»·/ç™¾ä¸‡token</th><th>è¾“å‡ºå•ä»·/ç™¾ä¸‡token</th><th>å®é™…ä½“éªŒç»“è®º</th></tr></thead><tbody><tr><td>GPT-4o-mini</td><td>$0.15</td><td>$0.60</td><td>ä¾¿å®œä½†æ²¡ç”¨ï¼Œä»£ç†åœºæ™¯ç›´æ¥æ‹‰èƒ¯</td></tr><tr><td>GPT-4o</td><td>$2.50</td><td>$10</td><td>æœ€ä½å¯ç”¨è´¨é‡ï¼Œæ»¡è¶³åŸºç¡€éœ€æ±‚</td></tr><tr><td>claude 4.5</td><td>$3</td><td>$15</td><td>æ€§ä»·æ¯”å¹³è¡¡ï¼Œæ—¥å¸¸å¤Ÿç”¨</td></tr><tr><td>claude 4.5ï¼ˆOpusï¼‰</td><td>$5</td><td>$25</td><td>ç½‘çº¢æ¼”ç¤ºåŒæ¬¾ï¼ŒåŠŸèƒ½100%è¾¾æ ‡</td></tr></tbody></table>
<h4 data-id="heading-5">ä¸‰ã€ çœŸå®ç”¨æˆ·è¡€æ³ªæ¡ˆä¾‹ï¼šä¸æ˜¯å‡è®¾ï¼Œæ˜¯çœŸçƒ§é’±</h4>
<ul>
<li>MacStoriesä½œè€…è´¹å¾·é‡Œç§‘ï¼šé¦–æœˆ1.8äº¿tokenï¼Œè´¦å•$3600</li>
<li>Xå¹³å°æ™®é€šç”¨æˆ·ï¼šè‡ªåŠ¨åŒ–å¾ªç¯å¤±æ§ï¼Œ<strong>1å¤©çƒ§æ‰$200</strong></li>
<li>MoltMaxxingç—…æ¯’å¸–ï¼šæƒ³å®ç°å®ç”¨åŠŸèƒ½ï¼Œæ¯æœˆè‡³å°‘$200èµ·æ­¥</li>
</ul>
<h4 data-id="heading-6">å››ã€ æœ€å±é™©çš„éšè—æˆæœ¬ï¼šå®šæ—¶ä»»åŠ¡ï¼Œæ¯æœˆæ‚„æ‘¸çƒ§$128+</h4>
<p>è¿™æ˜¯æ‰€æœ‰æ•™ç¨‹éƒ½é¿è€Œä¸è°ˆçš„å‘ï¼ä¼ ç»ŸAIï¼ˆChatGPT/Claudeï¼‰æ˜¯â€œé—®äº†æ‰ç­”ï¼Œç­”å®Œç»“æŸâ€ï¼Œä½†OpenClawå¸¦å¿ƒè·³/å®šæ—¶ä»»åŠ¡ï¼Œæ˜¯â€œä¸»åŠ¨å”¤é†’â†’æ£€æŸ¥â†’æ¨ç†â†’å‘æ¶ˆæ¯â†’ä¼‘çœ â†’å¾ªç¯å¾€å¤â€ï¼Œæ°¸æ— æ­¢å¢ƒï¼</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼šç®€å•ç³»ç»Ÿç›‘æ§ï¼ˆæ¯5åˆ†é’Ÿ1æ¬¡ï¼‰</p>
<ol>
<li>å•æ¬¡æ£€æŸ¥æ¶ˆè€—ï¼šçº¦3700 tokenï¼ˆç³»ç»Ÿæç¤º+ä¸Šä¸‹æ–‡+æ¨ç†+å›å¤ï¼‰</li>
<li>æ¯æ—¥æ¶ˆè€—ï¼š288æ¬¡Ã—3700 = 106.56ä¸‡token</li>
<li>æ¯æœˆæ¶ˆè€—ï¼šçº¦3200ä¸‡token</li>
<li>GPT-4oè®¡è´¹ï¼šè¾“å…¥<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>64</mn><mo>+</mo><mtext>è¾“å‡º</mtext></mrow><annotation encoding="application/x-tex">64 + è¾“å‡º</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">64</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord cjk_fallback">è¾“å‡º</span></span></span></span></span>64 = <strong>æ¯æœˆ$128ï¼Œä»…1ä¸ªå®šæ—¶ä»»åŠ¡ï¼</strong></li>
</ol>
<p>è¦æ˜¯ä½ åŠ äº†é‚®ä»¶ç›‘æ§ã€Slackç›‘æ§ã€æœåŠ¡å™¨ä½“æ£€ã€è‚¡ä»·é¢„è­¦ç­‰ï¼Œæ¯ä¸ªä»»åŠ¡æ¯åˆ†é’Ÿè€—tokenï¼Œè´¦å•ä¼šçˆ†ç‚¸å¼å¢é•¿ï¼</p>
<h4 data-id="heading-7">äº”ã€ å»‰ä»·æ¨¡å‹æ›´è´¹é’±ï¼šæˆ‘ç”¨GPT-4o-miniè¸©çš„å‘</h4>
<p>GPT-4o-miniæ¯”GPT-4oä¾¿å®œ17å€ï¼Œæœ¬æƒ³çœé’±ï¼Œç»“æœåè¢«å‘ï¼š
å¤„ç†TypeScripté¡¹ç›®é‡2ä¸ªåŸºç¡€é”™è¯¯ï¼Œminiåªä¼šæŠ¥é”™è¯¯ã€ç›´æ¥æ”¾å¼ƒï¼›è€Œä¸­çº§å¼€å‘è€…60ç§’èƒ½æå®šï¼ŒGPT-4oä¸€æ¬¡å°±è§£å†³ã€‚
å‰5æ¬¡miniå¤±è´¥è¿è¡Œè€—çš„tokené’±ï¼Œæ¯”ç›´æ¥ç”¨GPT-4oè¿˜å¤šâ€”â€”<strong>ä¾¿å®œæ¨¡å‹=ä½æ•ˆ+æ›´è´¹é’±</strong>ï¼</p>
<h4 data-id="heading-8">å…­ã€ â€œæœ¬åœ°è¿è¡Œâ€çš„è°è¨€ï¼š80%æ•ˆæœè¦èŠ±$4000+</h4>
<p>ç½‘ä¸Šæ€»æœ‰äººè¯´â€œæœ¬åœ°è¿è¡Œä¸èŠ±é’±â€ï¼Œå®æµ‹ç¡¬ä»¶é—¨æ§›é«˜åˆ°ç¦»è°±ï¼š</p>
<ul>
<li>Mac Mini M4ï¼ˆ16GBï¼‰$600ï¼šä»…èƒ½è·‘7B/8Bå°æ¨¡å‹ï¼Œæ•ˆæœâ‰ˆGPT-3.5ï¼Œä»£ç†åœºæ™¯å‹‰å¼ºèƒ½ç”¨</li>
<li>Mac Mini M4ï¼ˆ24GBï¼‰$800ï¼šè·‘14Bæ¨¡å‹ï¼Œæ•ˆæœï¼œGPT-4oï¼ŒåŠŸèƒ½å—é™</li>
<li>Mac Studio M2 Ultraï¼ˆ64GBï¼‰$4000ï¼šè·‘30B/70Bæ¨¡å‹ï¼Œæ•ˆæœâ‰ˆ80% GPT-4oï¼Œæ‰ç®—å¯ç”¨</li>
<li>é¡¶é…128GBç‰ˆ$6000ï¼šæ•ˆæœæ¥è¿‘GPT-4oï¼Œä½†å»¶è¿Ÿé«˜ï¼Œè¿˜è¾¾ä¸åˆ°Opusæ°´å¹³
å¤–åŠ æ¯æœˆ10-15ç¾å…ƒç”µè´¹ï¼Œ<strong>ä½äº100å°æ—¶/æœˆä½¿ç”¨ï¼Œäº‘ç«¯æ›´åˆ’ç®—ï¼›è¦Opusçº§æ•ˆæœï¼Œåªèƒ½é€‰äº‘ç«¯</strong>ï¼</li>
</ul>
<h4 data-id="heading-9">ä¸ƒã€ æˆ‘çš„æœ€ç»ˆé…ç½®&amp;æœˆè´¦å•ï¼šå®ç”¨ä¸è¸©é›·ç‰ˆ</h4>
<p>infrastructureï¼šAzure VMï¼ˆæ¯å¤©ç”¨8å°æ—¶ï¼‰<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>23</mn><mi mathvariant="normal">/</mi><mtext>æœˆ</mtext><mo>+</mo><mi>C</mi><mi>l</mi><mi>o</mi><mi>u</mi><mi>d</mi><mi>f</mi><mi>l</mi><mi>a</mi><mi>r</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">23/æœˆ + Cloudflare </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">23/</span><span class="mord cjk_fallback">æœˆ</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.01968em;">Cl</span><span class="mord mathnormal">o</span><span class="mord mathnormal">u</span><span class="mord mathnormal" style="margin-right:0.10764em;">df</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">re</span></span></span></span></span>0</p>
<p>modelï¼šAzure OpenAI GPT-4oï¼Œæ¯æœˆ50-80M tokenï¼Œ$80-120/æœˆ</p>
<p>integrationsï¼šTelegram+Discord+GitHub Webhooks å‡$0</p>
<p><strong>æ€»èŠ±è´¹ï¼šæ¯æœˆ$100-150</strong></p>
<h4 data-id="heading-10">å…«ã€ åˆ°åº•å€¼ä¸å€¼å¾—ç”¨ï¼Ÿæˆ‘çš„ç»“è®º+2026å¹´å±•æœ›</h4>
<p>âœ… å€¼å¾—ç”¨çš„å‰æï¼ˆç¼ºä¸€ä¸å¯ï¼‰ï¼š</p>
<ol>
<li>æ¯æœˆAIé¢„ç®—â‰¥$100</li>
<li>èƒ½æ¥å—å¿…é¡»ç”¨GPT-4oåŠä»¥ä¸Šæ¨¡å‹</li>
<li>æ¸…æ¥šå®šæ—¶ä»»åŠ¡ä¼šæˆå€å¢æˆæœ¬ï¼Œèƒ½æ¥å—ä¸€å¤œçƒ§$50ä¸æ…Œ</li>
</ol>
<p>âŒ ä¸å»ºè®®ç”¨çš„æƒ…å†µï¼šæƒ³çœé’±ã€è¿½æ±‚â€œå…è´¹â€ã€ä»…éœ€åŸºç¡€èŠå¤©åŠŸèƒ½</p>
<p>2026å¹´å±•æœ›ï¼šå¤§æ¦‚ç‡ä¼šå‡ºç°Anthropic/OpenAIä¸“å±â€œæ™ºèƒ½ä½“å¥—é¤â€ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>300</mn><mo>âˆ’</mo><mn>500</mn><mi mathvariant="normal">/</mi><mtext>æœˆï¼‰ï¼Œä¼´éšæ›´ä¼˜é€Ÿç‡é™åˆ¶ã€æ›´ä½ä»·æ ¼ï¼›æˆ‘çš„å†³å®šæ˜¯ï¼šæš‚åœ</mtext><mi>A</mi><mi>I</mi><mtext>æ™ºèƒ½ä½“å¼€å‘ï¼Œå…ˆåšç§»åŠ¨åº”ç”¨ï¼Œç­‰</mtext><mi>O</mi><mi>p</mi><mi>u</mi><mi>s</mi><mtext>çº§æ¨¡å‹é™åˆ°</mtext></mrow><annotation encoding="application/x-tex">300-500/æœˆï¼‰ï¼Œä¼´éšæ›´ä¼˜é€Ÿç‡é™åˆ¶ã€æ›´ä½ä»·æ ¼ï¼›æˆ‘çš„å†³å®šæ˜¯ï¼šæš‚åœAIæ™ºèƒ½ä½“å¼€å‘ï¼Œå…ˆåšç§»åŠ¨åº”ç”¨ï¼Œç­‰Opusçº§æ¨¡å‹é™åˆ°</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">300</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord">500/</span><span class="mord cjk_fallback">æœˆï¼‰ï¼Œä¼´éšæ›´ä¼˜é€Ÿç‡é™åˆ¶ã€æ›´ä½ä»·æ ¼ï¼›æˆ‘çš„å†³å®šæ˜¯ï¼šæš‚åœ</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord cjk_fallback">æ™ºèƒ½ä½“å¼€å‘ï¼Œå…ˆåšç§»åŠ¨åº”ç”¨ï¼Œç­‰</span><span class="mord mathnormal">Op</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span><span class="mord cjk_fallback">çº§æ¨¡å‹é™åˆ°</span></span></span></span></span>100/æœˆä¸”æ”¯æŒå®Œå–„è‡ªåŠ¨åŒ–ï¼Œå†å›å½’ã€‚</p>
<h4 data-id="heading-11">æ ¸å¿ƒæ€»ç»“ï¼ˆKey Takeawaysï¼‰ï¼šæˆ³ç ´æ‰€æœ‰è°è¨€</h4>
<ol>
<li>â€œå¼€æºå…è´¹â€â†’ è½¯ä»¶å…è´¹ï¼ŒAPIè´¦å•æ˜¯çœŸé‡‘ç™½é“¶</li>
<li>â€œGPT-4o-minièƒ½ç”¨â€â†’ ä»…èŠå¤©å¯ç”¨ï¼Œä»£ç†åœºæ™¯ç›´æ¥åºŸ</li>
<li>â€œæœ¬åœ°è¿è¡Œåˆ’ç®—â€â†’ 80%æ•ˆæœéœ€$4000+ç¡¬ä»¶</li>
<li>â€œåƒæœ‰ä¸“å±åŠ©æ‰‹â€â†’ æ¯æœˆè‡³å°‘$200+æ‰èƒ½å®ç°</li>
<li>â€œå·¥ä½œçš„æœªæ¥â€â†’ æ˜¯æ˜‚è´µçš„æœªæ¥</li>
</ol>
<h4 data-id="heading-12">æ²¡äººå‘Šè¯‰ä½ çš„ç»ˆæçœŸç›¸</h4>
<p>OpenClawæœ¬èº«æ˜¯å¥½è½¯ä»¶ï¼Œå›¢é˜Ÿå®åŠ›å¾ˆå¼ºï¼Œä½†æ‰€æœ‰ç½‘çº¢æ¼”ç¤º/æ•™ç¨‹ï¼Œ<strong>å…¨æ˜¯åŸºäºClaude Opus 4.5è¿è¡Œ</strong>ï¼›å½“ä½ é€‰ä»–ä»¬ä¸æçš„â€œå»‰ä»·æ–¹æ¡ˆâ€ï¼Œç¥å¥‡åŠŸèƒ½å…¨æ¶ˆå¤±â€”â€”åŠ©æ‰‹å˜å¤±çµèŠå¤©æœºå™¨äººï¼Œè‡ªä¸»ä»£ç†å˜æ˜‚è´µè‡ªåŠ¨è¡¥å…¨ã€‚</p>
<p>è¿™ä¸æ˜¯OpenClawçš„é”™ï¼Œæ˜¯2026å¹´çš„AIç»æµå­¦ï¼š<strong>æ¨¡å‹æ‰æ˜¯æ ¸å¿ƒäº§å“ï¼Œè½¯ä»¶åªæ˜¯åŒ…è£…</strong>ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java ä»£ç æ³¨é‡Šçš„è‰ºæœ¯ï¼šæ„å»ºé«˜è´¨é‡ã€å¯è¯»æ€§ä¸æ¶æ„çº§æ–‡æ¡£çš„ç»ˆææŒ‡å—]]></title>    <link>https://juejin.cn/post/7602497125269012486</link>    <guid>https://juejin.cn/post/7602497125269012486</guid>    <pubDate>2026-02-04T03:11:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602497125269012486" data-draft-id="7602454700504776745" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java ä»£ç æ³¨é‡Šçš„è‰ºæœ¯ï¼šæ„å»ºé«˜è´¨é‡ã€å¯è¯»æ€§ä¸æ¶æ„çº§æ–‡æ¡£çš„ç»ˆææŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,Java,ä»£ç è§„èŒƒ"/> <meta itemprop="datePublished" content="2026-02-04T03:11:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Shepherd"/> <meta itemprop="url" content="https://juejin.cn/user/3415500769991869"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java ä»£ç æ³¨é‡Šçš„è‰ºæœ¯ï¼šæ„å»ºé«˜è´¨é‡ã€å¯è¯»æ€§ä¸æ¶æ„çº§æ–‡æ¡£çš„ç»ˆææŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3415500769991869/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Shepherd
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:11:54.000Z" title="Wed Feb 04 2026 03:11:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.æ¦‚è¿°ï¼šä»£ç å³æ–‡å­¦ï¼Œæ³¨é‡Šå³çµé­‚</h2>
<p>åœ¨ä¼ä¸šçº§ Java åç«¯å¼€å‘çš„æµ©ç€šå·¥ç¨‹ä¸­ï¼Œä»£ç è´¨é‡å¾€å¾€ä¸ä»…ä»…å–å†³äºç®—æ³•çš„å¤æ‚åº¦æˆ–æ¶æ„çš„è§£è€¦ç¨‹åº¦ï¼Œæ›´å–å†³äºå…¶å¯è¯»æ€§ä¸å¯ç»´æŠ¤æ€§ã€‚ä½œä¸ºä¸€åæ·±è€• Java æŠ€æœ¯æ ˆå¤šå¹´çš„å¼€å‘è€…ï¼Œæˆ‘ä»¬æ·±çŸ¥â€œä»£ç æ˜¯å†™ç»™äººçœ‹çš„ï¼Œé¡ºä¾¿ç»™æœºå™¨è¿è¡Œâ€è¿™ä¸€è‡³ç†åè¨€ã€‚ç„¶è€Œï¼Œåœ¨å®é™…çš„å¼€å‘è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸é™·å…¥ä¸€ä¸ªè¯¯åŒºï¼šç›²ç›®è¿½æ±‚â€œä»£ç è‡ªè§£é‡Šâ€ï¼ˆSelf-documenting Codeï¼‰ï¼Œè€Œå¿½è§†äº†é«˜è´¨é‡æ–‡æ¡£æ³¨é‡Šï¼ˆJavadocï¼‰çš„é‡è¦æ€§ã€‚äº‹å®ä¸Šï¼Œå¯¹äºå¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€å…¬å…± API æ¥å£ä»¥åŠåº•å±‚æ¡†æ¶å°è£…ï¼Œæ²¡æœ‰ä»»ä½•å˜é‡å‘½åèƒ½å¤Ÿæ›¿ä»£ä¸€æ®µç²¾å‡†ã€è¯¦å®ä¸”å¯Œæœ‰æ´å¯ŸåŠ›çš„ Javadoc</p>
<p>å½“æˆ‘ä»¬ç¿»é˜… JDK æºç ï¼ˆå¦‚ <code>java.util.concurrent</code> åŒ…ï¼‰ã€Spring Framework çš„æ ¸å¿ƒå®¹å™¨ä»£ç ï¼Œæˆ–æ˜¯ Google Guava çš„å·¥å…·ç±»æ—¶ï¼Œä¼šè¢«å…¶ä¸¥è°¨çš„æ³¨é‡Šä½“ç³»æ‰€éœ‡æ’¼ã€‚è¿™äº›æ¡†æ¶ä¹‹æ‰€ä»¥èƒ½æˆä¸ºå·¥ä¸šç•Œçš„æ ‡å‡†ï¼Œä¸ä»…å› ä¸ºå…¶ä»£ç é²æ£’ï¼Œæ›´å› ä¸ºå…¶æ–‡æ¡£è¯¦å°½åœ°é˜è¿°äº†æ¯ä¸€ä¸ªç±»ã€æ¯ä¸€ä¸ªæ–¹æ³•çš„â€œå‰ç½®æ¡ä»¶â€ï¼ˆPreconditionsï¼‰ã€â€œåç½®æ¡ä»¶â€ï¼ˆPostconditionsï¼‰ã€â€œå‰¯ä½œç”¨â€ï¼ˆSide Effectsï¼‰ä»¥åŠâ€œçº¿ç¨‹å®‰å…¨æ€§â€ï¼ˆThread Safetyï¼‰ã€‚</p>
<p>å…ˆæ¥çœ‹ä¸€ä¸ªå®Œç¾æ³¨é‡Šçš„å®Œæ•´ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * ç”¨æˆ·æœåŠ¡ç±»
 * æä¾›ç”¨æˆ·ç›¸å…³çš„ä¸šåŠ¡æ“ä½œï¼ŒåŒ…æ‹¬ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯æŸ¥è¯¢ç­‰åŠŸèƒ½
 * 
 * <span class="hljs-doctag">@author</span> <span class="hljs-variable">ZhangSan</span>
 * <span class="hljs-doctag">@version</span> 1.2.0
 * <span class="hljs-doctag">@since</span> 2026-01-01
 * <span class="hljs-doctag">@see</span> <span class="hljs-variable">User</span>
 * <span class="hljs-doctag">@see</span> <span class="hljs-variable">UserDao</span>
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * ç”¨æˆ·æ³¨å†Œ
 Â  Â  * è¯¥æ–¹æ³•ç”¨äºæ–°ç”¨æˆ·æ³¨å†Œï¼Œä¼šå¯¹ç”¨æˆ·åè¿›è¡Œå”¯ä¸€æ€§æ ¡éªŒ
 Â  Â  *
 Â  Â  * <span class="hljs-doctag">@param</span> username ç”¨æˆ·åï¼Œå¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œé•¿åº¦3-20å­—ç¬¦
 Â  Â  * <span class="hljs-doctag">@param</span> password å¯†ç ï¼Œéœ€è¦æ»¡è¶³å¯†ç å¼ºåº¦è¦æ±‚
 Â  Â  * <span class="hljs-doctag">@param</span> email é‚®ç®±åœ°å€ï¼Œç”¨äºéªŒè¯å’Œé€šçŸ¥
 Â  Â  * <span class="hljs-doctag">@return</span> æ³¨å†ŒæˆåŠŸçš„ç”¨æˆ·IDï¼Œå¦‚æœæ³¨å†Œå¤±è´¥è¿”å›null
 Â  Â  * <span class="hljs-doctag">@throws</span> UserExistsException å½“ç”¨æˆ·åå·²å­˜åœ¨æ—¶æŠ›å‡º
 Â  Â  * <span class="hljs-doctag">@throws</span> InvalidParameterException å½“å‚æ•°ä¸ç¬¦åˆè¦æ±‚æ—¶æŠ›å‡º
 Â  Â  * <span class="hljs-doctag">@see</span> <span class="hljs-variable">User</span>
 Â  Â  * <span class="hljs-doctag">@since</span> 1.0.0
 Â  Â  */</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">Long</span> <span class="hljs-title function_">registerUser</span>(<span class="hljs-title class_">String</span> username, <span class="hljs-title class_">String</span> password, <span class="hljs-title class_">String</span> email) 
 Â  Â  Â  Â  Â  Â throws <span class="hljs-title class_">UserExistsException</span>, <span class="hljs-title class_">InvalidParameterException</span> {
 Â  Â  Â  Â <span class="hljs-comment">// æ–¹æ³•å®ç°</span>
 Â  Â  Â  Â <span class="hljs-keyword">return</span> 1L;
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * <span class="hljs-doctag">@deprecated</span> è¯¥æ–¹æ³•å·²è¿‡æ—¶ï¼Œè¯·ä½¿ç”¨ {<span class="hljs-doctag">@link</span> #registerUser(String, String, String)}
 Â  Â  * æ›¿ä»£ã€‚æ–°æ–¹æ³•æä¾›äº†æ›´å®Œå–„çš„å‚æ•°æ ¡éªŒã€‚
 Â  Â  */</span>
 Â  Â <span class="hljs-meta">@Deprecated</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">Long</span> <span class="hljs-title function_">register</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> username, <span class="hljs-built_in">String</span> password</span>) {
 Â  Â  Â  Â <span class="hljs-comment">// æ—§æ–¹æ³•å®ç°</span>
 Â  Â  Â  Â <span class="hljs-keyword">return</span> 1L;
 Â   }
}
</code></pre>
<h2 data-id="heading-1">2.å¸¸ç”¨Javadocæ ‡ç­¾è¯¦è§£</h2>
<p><strong>@param å‚æ•°è¯´æ˜</strong></p>
<pre><code class="hljs language-typescript" lang="typescript">â€‹
<span class="hljs-comment">/**
 * å¤„ç†ç”¨æˆ·åˆ—è¡¨
 * 
 * <span class="hljs-doctag">@param</span> users ç”¨æˆ·åˆ—è¡¨ï¼Œä¸èƒ½ä¸ºnullä½†å¯ä»¥ä¸ºç©ºåˆ—è¡¨
 * <span class="hljs-doctag">@param</span> options å¤„ç†é€‰é¡¹ï¼ŒåŒ…å«æ’åºã€è¿‡æ»¤ç­‰è®¾ç½®
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">processUsers</span>(<span class="hljs-params">List&lt;User&gt; users, ProcessOptions options</span>) {
 Â  Â <span class="hljs-comment">// æ–¹æ³•å®ç°</span>
}
</code></pre>
<p><strong>@return è¿”å›å€¼è¯´æ˜</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">â€‹
<span class="hljs-comment">/**
 * è·å–æ‰€æœ‰æ´»è·ƒç”¨æˆ·
 * 
 * @return æ´»è·ƒç”¨æˆ·åˆ—è¡¨ï¼Œä¸ä¼šè¿”å›nullï¼Œä½†å¯èƒ½è¿”å›ç©ºåˆ—è¡¨
 */</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title">getActiveUsers</span>()</span> {
 Â  Â <span class="hljs-keyword">return</span> userDAO.findByStatus(<span class="hljs-string">"active"</span>);
}
â€‹
</code></pre>
<p><strong>@throws / @exception å¼‚å¸¸è¯´æ˜</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æ–‡ä»¶ä¸Šä¼ å¤„ç†
 * 
 * <span class="hljs-doctag">@param</span> file ä¸Šä¼ çš„æ–‡ä»¶
 * <span class="hljs-doctag">@throws</span> FileNotFoundException å½“æ–‡ä»¶ä¸å­˜åœ¨æ—¶æŠ›å‡º
 * <span class="hljs-doctag">@throws</span> FileSizeExceededException å½“æ–‡ä»¶å¤§å°è¶…è¿‡é™åˆ¶æ—¶æŠ›å‡º
 * <span class="hljs-doctag">@throws</span> IOException å½“æ–‡ä»¶è¯»å†™å‘ç”Ÿé”™è¯¯æ—¶æŠ›å‡º
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">uploadFile</span><span class="hljs-params">(File file)</span> <span class="hljs-keyword">throws</span> FileNotFoundException, 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â FileSizeExceededException, 
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â IOException {
 Â  Â <span class="hljs-keyword">if</span> (!file.exists()) {
 Â  Â  Â  Â <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileNotFoundException</span>(<span class="hljs-string">"æ–‡ä»¶ä¸å­˜åœ¨: "</span> + file.getName());
 Â   }
 Â  Â <span class="hljs-comment">// å…¶ä»–å¤„ç†é€»è¾‘</span>
}
â€‹
<span class="hljs-comment">/**
 * ç”¨æˆ·ç™»å½•éªŒè¯
 * 
 * <span class="hljs-doctag">@param</span> username ç”¨æˆ·å
 * <span class="hljs-doctag">@param</span> password å¯†ç 
 * <span class="hljs-doctag">@exception</span> AuthenticationException å½“ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯æ—¶æŠ›å‡º
 * <span class="hljs-doctag">@exception</span> AccountLockedException å½“è´¦æˆ·è¢«é”å®šæ—¶æŠ›å‡º
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">login</span><span class="hljs-params">(String username, String password)</span> 
 Â  Â  Â  Â <span class="hljs-keyword">throws</span> AuthenticationException, AccountLockedException {
 Â  Â <span class="hljs-comment">// ç™»å½•é€»è¾‘</span>
}
</code></pre>
<p><strong>@see å‚è€ƒé“¾æ¥</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * è®¢å•æ”¯ä»˜æœåŠ¡
 * 
 * <span class="hljs-doctag">@see</span> Order è®¢å•å®ä½“ç±»
 * <span class="hljs-doctag">@see</span> PaymentController#processPayment(Long) æ”¯ä»˜å¤„ç†æ–¹æ³•
 * <span class="hljs-doctag">@see</span> &lt;a href="https://example.com/payment-api"&gt;æ”¯ä»˜APIæ–‡æ¡£&lt;/a&gt;
 * <span class="hljs-doctag">@see</span> "Javaç¼–ç¨‹è§„èŒƒ"
 * <span class="hljs-doctag">@see</span> #refund(Long) é€€æ¬¾æ–¹æ³•
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentService</span> {
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * æ‰§è¡Œæ”¯ä»˜
 Â  Â  * <span class="hljs-doctag">@see</span> PaymentGateway æ”¯ä»˜ç½‘å…³æ¥å£
 Â  Â  */</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">processPayment</span>(<span class="hljs-params">Order order</span>) {
 Â  Â  Â  Â <span class="hljs-comment">// æ”¯ä»˜é€»è¾‘</span>
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * è®¢å•é€€æ¬¾
 Â  Â  * 
 Â  Â  * <span class="hljs-doctag">@see</span> #processPayment(Order)
 Â  Â  */</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">refund</span>(<span class="hljs-params">Long orderId</span>) {
 Â  Â  Â  Â <span class="hljs-comment">// é€€æ¬¾é€»è¾‘</span>
 Â   }
}
</code></pre>
<p><strong>@deprecated è¿‡æ—¶è¯´æ˜</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OldClass</span> {
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * <span class="hljs-doctag">@deprecated</span> è¿™ä¸ªå­—æ®µå·²è¿‡æ—¶ï¼Œè¯·ä½¿ç”¨ {<span class="hljs-doctag">@link</span> #newField} æ›¿ä»£ã€‚
 Â  Â  * å°†åœ¨ä¸‹ä¸€ä¸ªä¸»è¦ç‰ˆæœ¬ä¸­ç§»é™¤ã€‚
 Â  Â  */</span>
 Â  Â <span class="hljs-meta">@Deprecated</span>
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> oldField;
 Â  Â 
 Â  Â <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> newField;
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * <span class="hljs-doctag">@deprecated</span> è¿™ä¸ªæ–¹æ³•å·²è¿‡æ—¶ï¼Œå› ä¸ºæ€§èƒ½é—®é¢˜ã€‚
 Â  Â  * è¯·ä½¿ç”¨ {<span class="hljs-doctag">@link</span> #newMethod(String)} æ›¿ä»£ã€‚
 Â  Â  * 
 Â  Â  * <span class="hljs-doctag">@param</span> name ç”¨æˆ·å
 Â  Â  * <span class="hljs-doctag">@return</span> å¤„ç†ç»“æœ
 Â  Â  */</span>
 Â  Â <span class="hljs-meta">@Deprecated</span>(since = <span class="hljs-string">"2.0"</span>, forRemoval = <span class="hljs-literal">true</span>)
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">oldMethod</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) {
 Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">"old result"</span>;
 Â   }
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * æ–°çš„å¤„ç†æ–¹æ³•
 Â  Â  */</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">newMethod</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> name</span>) {
 Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-string">"new result"</span>;
 Â   }
}
</code></pre>
<p><strong>{@code} - ä»£ç æ ¼å¼</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * è®¾ç½®é…ç½®é¡¹
 * 
 * ä½¿ç”¨æ–¹æ³•ï¼š
 * {<span class="hljs-doctag">@code</span>
 * Config config = new Config();
 * config.setProperty("key", "value");
 * }
 * 
 * æˆ–è€…å•è¡Œä»£ç ï¼š{<span class="hljs-doctag">@code</span> String name = "John";}
 * 
 * <span class="hljs-doctag">@param</span> key é…ç½®é”®ï¼Œæ ¼å¼ä¸º {<span class="hljs-doctag">@code</span> "section.name"}
 * <span class="hljs-doctag">@param</span> value é…ç½®å€¼
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setProperty</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> key, <span class="hljs-built_in">String</span> value</span>) {
 Â  Â <span class="hljs-comment">// æ–¹æ³•å®ç°</span>
}
</code></pre>
<h3 data-id="heading-2">{@link} - å†…éƒ¨é“¾æ¥</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * ç”¨æˆ·ç®¡ç†æœåŠ¡
 * 
 * ç›¸å…³æ–¹æ³•ï¼š
 * - {<span class="hljs-doctag">@link</span> #createUser(User)}
 * - {<span class="hljs-doctag">@link</span> #updateUser(User)}
 * - {<span class="hljs-doctag">@link</span> #deleteUser(Long)}
 * 
 * ç›¸å…³ç±»ï¼š
 * - {<span class="hljs-doctag">@link</span> User}
 * - {<span class="hljs-doctag">@link</span> UserDao}
 * 
 * <span class="hljs-doctag">@see</span> UserService
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserManager</span> {
 Â  Â 
 Â  Â <span class="hljs-comment">/**
 Â  Â  * åˆ›å»ºç”¨æˆ·
 Â  Â  * 
 Â  Â  * <span class="hljs-doctag">@param</span> user ç”¨æˆ·å¯¹è±¡ï¼Œå‚è€ƒ {<span class="hljs-doctag">@link</span> User} ç±»å®šä¹‰
 Â  Â  * <span class="hljs-doctag">@return</span> ç”¨æˆ·ID
 Â  Â  * <span class="hljs-doctag">@see</span> #updateUser(User)
 Â  Â  */</span>
 Â  Â <span class="hljs-keyword">public</span> <span class="hljs-built_in">Long</span> createUser(User user) {
 Â  Â  Â  Â <span class="hljs-keyword">return</span> <span class="hljs-number">1L</span>;
 Â   }
}
</code></pre>
<p><strong>{@literal} - æ–‡æœ¬å­—é¢é‡</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * ç‰¹æ®Šå­—ç¬¦è¯´æ˜
 * 
 * åœ¨XMLä¸­éœ€è¦ä½¿ç”¨ {<span class="hljs-doctag">@literal</span> &lt;root&gt;} å’Œ {<span class="hljs-doctag">@literal</span> &lt;/root&gt;} æ ‡ç­¾ã€‚
 * åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨ {<span class="hljs-doctag">@literal</span> [a-z]+} åŒ¹é…å°å†™å­—æ¯ã€‚
 * 
 * æ¯”è¾ƒæ“ä½œï¼š{<span class="hljs-doctag">@literal</span> a &lt; b &amp;&amp; c &gt; d}
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SpecialCharacters</span> {
    <span class="hljs-comment">// ç±»å®ç°</span>
}
</code></pre>
<h2 data-id="heading-3">3.Javaæ³¨é‡Šä¸­çš„HTMLæ ‡ç­¾è¯¦è§£</h2>
<p><strong><code>&lt;p&gt;</code> - æ®µè½æ ‡ç­¾</strong></p>
<pre><code class="hljs language-xml" lang="xml">/**
 * ç”¨æˆ·æœåŠ¡ç±»
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¿™ä¸ªç±»è´Ÿè´£å¤„ç†ç”¨æˆ·ç›¸å…³çš„æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>åŒ…æ‹¬ç”¨æˆ·æ³¨å†Œã€ç™»å½•éªŒè¯ã€ä¿¡æ¯ä¿®æ”¹ç­‰åŠŸèƒ½ã€‚
 * æ¯ä¸ªåŠŸèƒ½éƒ½ç»è¿‡ä¸¥æ ¼æµ‹è¯•ï¼Œç¡®ä¿ä¸šåŠ¡é€»è¾‘çš„æ­£ç¡®æ€§ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>åœ¨ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå»ºè®®é…åˆSpringå®¹å™¨ä½¿ç”¨ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 */
public class UserService {
    // åœ¨Javadocä¸­ï¼Œ<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ ‡ç­¾ä¼šè‡ªåŠ¨åœ¨æ®µè½é—´åˆ›å»ºç©ºè¡Œï¼Œä½¿æ–‡æ¡£æ›´æ˜“è¯»
}
</code></pre>
<p><strong><code>&lt;br&gt;</code> - æ¢è¡Œæ ‡ç­¾</strong></p>
<pre><code class="hljs language-xml" lang="xml">/**
 * åœ°å€éªŒè¯å·¥å…·
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>éªŒè¯è§„åˆ™ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
 * 1. åœ°å€ä¸èƒ½ä¸ºç©º<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
 * 2. åœ°å€é•¿åº¦ä¸è¶…è¿‡200å­—ç¬¦<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
 * 3. å¿…é¡»åŒ…å«çœå¸‚åŒºä¿¡æ¯<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
 * 4. è¯¦ç»†åœ°å€ä¸èƒ½åŒ…å«ç‰¹æ®Šå­—ç¬¦<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ³¨æ„ï¼šæ­¤éªŒè¯ä»…é’ˆå¯¹ä¸­å›½å¤§é™†åœ°å€ï¼Œ<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
 * å›½é™…åœ°å€éœ€è¦ä½¿ç”¨å…¶ä»–éªŒè¯è§„åˆ™ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 */
public class AddressValidator {
    // <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>é€‚åˆåœ¨åŒä¸€ä¸ªæ®µè½å†…åˆ›å»ºåˆ—è¡¨å¼å†…å®¹
}
</code></pre>
<p><strong><code>&lt;b&gt;</code> å’Œ <code>&lt;strong&gt;</code> - ç²—ä½“æ ‡ç­¾</strong></p>
<p><strong>ç”¨é€”</strong>ï¼šå¼ºè°ƒé‡è¦æ–‡æœ¬</p>
<pre><code class="hljs language-xml" lang="xml">/**
 * æ”¯ä»˜å®‰å…¨æœåŠ¡
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>é‡è¦æç¤ºï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>æ‰€æœ‰æ”¯ä»˜æ“ä½œéƒ½å¿…é¡»è®°å½•å®¡è®¡æ—¥å¿—ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>å®‰å…¨è­¦å‘Šï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>APIå¯†é’¥å¿…é¡»åŠ å¯†å­˜å‚¨ï¼Œ<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
 * ä¸¥ç¦åœ¨æ—¥å¿—ä¸­è¾“å‡ºæ•æ„Ÿä¿¡æ¯ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ™®é€šæ–‡æœ¬ï¼Œ<span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>å…³é”®æ“ä½œ<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>éœ€è¦åŒé‡éªŒè¯ï¼Œ<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
 * <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>é«˜é£é™©æ“ä½œ<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>éœ€è¦ç®¡ç†å‘˜å®¡æ‰¹ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 */
public class PaymentSecurityService {
    // <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>å’Œ<span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>åœ¨è§†è§‰ä¸Šæ•ˆæœç›¸åŒï¼Œä½†<span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>è¯­ä¹‰ä¸Šæ›´å¼ºè°ƒé‡è¦æ€§
}
</code></pre>
<p><strong><code>&lt;i&gt;</code> å’Œ <code>&lt;em&gt;</code> - æ–œä½“æ ‡ç­¾</strong></p>
<p><strong>ç”¨é€”</strong>ï¼šè¡¨ç¤ºæŠ€æœ¯æœ¯è¯­ã€å¤–æ¥è¯­æˆ–å¼ºè°ƒ</p>
<pre><code class="hljs language-xml" lang="xml">/**
 * ç§‘å­¦è®¡ç®—å·¥å…·
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æœ¬ç±»æä¾›å¸¸ç”¨çš„ç§‘å­¦è®¡ç®—åŠŸèƒ½ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>æ¬§æ‹‰å…¬å¼<span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>ï¼še^(iÏ€) + 1 = 0<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
 * <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>å‹¾è‚¡å®šç†<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span>ï¼šaÂ² + bÂ² = cÂ²<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æ³¨æ„ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>æµ®ç‚¹æ•°è®¡ç®—<span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>å¯èƒ½å­˜åœ¨ç²¾åº¦é—®é¢˜ï¼Œ<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
 * <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>å¤§è§„æ¨¡çŸ©é˜µè¿ç®—<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span>å»ºè®®ä½¿ç”¨ä¸“ä¸šæ•°å­¦åº“ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 */
public class MathUtils {
    // <span class="hljs-tag">&lt;<span class="hljs-name">i</span>&gt;</span>é€šå¸¸ç”¨äºæŠ€æœ¯æœ¯è¯­ï¼Œ<span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>ç”¨äºè¯­ä¹‰å¼ºè°ƒ
}
</code></pre>
<p><strong><code>&lt;ul&gt;</code> - æ— åºåˆ—è¡¨</strong></p>
<p><strong>ç”¨é€”</strong>ï¼šåˆ›å»ºé¡¹ç›®ç¬¦å·åˆ—è¡¨</p>
<pre><code class="hljs language-xml" lang="xml">/**
 * åŠŸèƒ½ç‰¹æ€§è¯´æ˜
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>ä¸»è¦åŠŸèƒ½ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 * <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ç”¨æˆ·è®¤è¯å’Œæˆæƒ<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ•°æ®åŠ å¯†å­˜å‚¨
 *     <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
 *       <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>AES-256åŠ å¯†æ•æ„Ÿæ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *       <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>RSAåŠ å¯†ä¼ è¾“æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *     <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
 *   <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å®¡è®¡æ—¥å¿—è®°å½•<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ€§èƒ½ç›‘æ§å’Œç»Ÿè®¡<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 * <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>æŠ€æœ¯ç‰¹ç‚¹ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 * <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>åŸºäºSpring Bootæ¡†æ¶<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ”¯æŒå¤šæ•°æ®æº<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å†…ç½®ç¼“å­˜æœºåˆ¶<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 * <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
 */
public class SystemFeatures {
    // <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>åˆ›å»ºå¸¦é¡¹ç›®ç¬¦å·çš„åˆ—è¡¨ï¼Œé€‚åˆåˆ—ä¸¾ç‰¹æ€§ã€åŠŸèƒ½ç‚¹ç­‰
}
</code></pre>
<p><strong><code>&lt;ol&gt;</code> - æœ‰åºåˆ—è¡¨</strong></p>
<p><strong>ç”¨é€”</strong>ï¼šåˆ›å»ºå¸¦ç¼–å·çš„æ­¥éª¤åˆ—è¡¨</p>
<pre><code class="hljs language-xml" lang="xml">/**
 * å®‰è£…é…ç½®æŒ‡å—
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>å®‰è£…æ­¥éª¤ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 * <span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ä¸‹è½½å®‰è£…åŒ…<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>è§£å‹åˆ°ç›®æ ‡ç›®å½•<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ä¿®æ”¹é…ç½®æ–‡ä»¶
 *     <span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span>
 *       <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>é…ç½®æ•°æ®åº“è¿æ¥<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *       <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>è®¾ç½®ç®¡ç†å‘˜è´¦å·<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *       <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>é…ç½®æ—¥å¿—è·¯å¾„<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *     <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>
 *   <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>å¯åŠ¨æœåŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>éªŒè¯å®‰è£…ç»“æœ<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 * <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>
 * 
 * <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>å¯åŠ¨é¡ºåºï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
 * <span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ•°æ®åº“æœåŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ç¼“å­˜æœåŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>åº”ç”¨æœåŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 *   <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ç›‘æ§æœåŠ¡<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
 * <span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span>
 */
public class InstallationGuide {
    // <span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span>åˆ›å»ºå¸¦æ•°å­—ç¼–å·çš„åˆ—è¡¨ï¼Œé€‚åˆæ­¥éª¤ã€æµç¨‹è¯´æ˜
}
</code></pre>
<h2 data-id="heading-4">4.æ€»ç»“</h2>
<p>ç¼–å†™æ–‡æ¡£æ³¨é‡Šå¹¶éå•çº¯çš„ä½“åŠ›åŠ³åŠ¨ï¼Œå®ƒæ˜¯ä¸€ç§è®¾è®¡æ´»åŠ¨ã€‚å½“ä½ è¢«è¿«ç”¨è‡ªç„¶è¯­è¨€æ¸…æ™°åœ°æè¿°ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå¾€å¾€ä¼šå‘ç°ä»£ç é€»è¾‘æœ¬èº«çš„æ¨¡ç³Šæˆ–è®¾è®¡ä¸Šçš„ç¼ºé™·ã€‚é«˜è´¨é‡çš„ Javadoc æ˜¯ä»£ç é‡æ„çš„å‚¬åŒ–å‰‚ã€‚</p>
<p>ä½œä¸º Java åç«¯é«˜çº§å¼€å‘ï¼Œå½“æˆ‘ä»¬ä»å•çº¯å…³æ³¨â€œä»£ç æ€ä¹ˆè·‘â€è½¬å˜ä¸ºå…³æ³¨â€œä»£ç æ€ä¹ˆè¯»â€æ—¶ï¼Œæˆ‘ä»¬å°±è·¨è¶Šäº†ä»å·¥åŒ åˆ°å¤§å¸ˆçš„é—¨æ§›ã€‚å¸Œæœ›è¿™ç¯‡åšæ–‡èƒ½æˆä¸ºä½ å›¢é˜Ÿä¸­çš„â€œæ–‡æ¡£åœ£ç»â€ï¼Œä¸ä»…æå‡ä»£ç åº“çš„å¥åº·åº¦ï¼Œæ›´åœ¨æŠ€æœ¯ç¤¾åŒºä¸­æ ‘ç«‹ä½ ä½œä¸º uncompromising engineerï¼ˆä¸å¦¥åçš„å·¥ç¨‹å¸ˆï¼‰çš„ä¸“ä¸šå½¢è±¡ã€‚è®©æˆ‘ä»¬ä¸€èµ·ï¼Œç”¨æ³¨é‡Šç‚¹äº®ä»£ç çš„é»‘æš—è§’è½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[@RequestBody ä¹‹åï¼Œrequest é‡Œä¸ºä»€ä¹ˆâ€œä»€ä¹ˆéƒ½æ²¡æœ‰äº†â€ï¼Ÿä¸€æ¬¡å›è°ƒéªŒç­¾å¤±è´¥çš„å®Œæ•´æ’æŸ¥è¿‡ç¨‹]]></title>    <link>https://juejin.cn/post/7602488187408236596</link>    <guid>https://juejin.cn/post/7602488187408236596</guid>    <pubDate>2026-02-04T03:09:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602488187408236596" data-draft-id="7602488187408187444" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="@RequestBody ä¹‹åï¼Œrequest é‡Œä¸ºä»€ä¹ˆâ€œä»€ä¹ˆéƒ½æ²¡æœ‰äº†â€ï¼Ÿä¸€æ¬¡å›è°ƒéªŒç­¾å¤±è´¥çš„å®Œæ•´æ’æŸ¥è¿‡ç¨‹"/> <meta itemprop="keywords" content="Spring,Java,Spring Boot"/> <meta itemprop="datePublished" content="2026-02-04T03:09:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="baviya"/> <meta itemprop="url" content="https://juejin.cn/user/2986712517327645"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            @RequestBody ä¹‹åï¼Œrequest é‡Œä¸ºä»€ä¹ˆâ€œä»€ä¹ˆéƒ½æ²¡æœ‰äº†â€ï¼Ÿä¸€æ¬¡å›è°ƒéªŒç­¾å¤±è´¥çš„å®Œæ•´æ’æŸ¥è¿‡ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2986712517327645/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    baviya
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:09:42.000Z" title="Wed Feb 04 2026 03:09:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    20
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¦‚æœä½ åšè¿‡ç¬¬ä¸‰æ–¹å›è°ƒã€Webhookã€æ¶ˆæ¯æ¨é€ã€éªŒç­¾<br/>
é‚£ä½ <strong>å‡ ä¹ä¸€å®šä¼šè¸©åˆ°è¿™ä¸ªå‘</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€é—®é¢˜å‡ºç°ï¼šéªŒç­¾é€»è¾‘æ²¡é—®é¢˜ï¼Œä½†å°±æ˜¯ä¸€ç›´å¤±è´¥</h2>
<p>äº‹æƒ…çš„èµ·ç‚¹å¾ˆæ™®é€šã€‚</p>
<p>æˆ‘åœ¨å¯¹æ¥ä¸€ä¸ª<strong>ç¬¬ä¸‰æ–¹ç³»ç»Ÿçš„å›è°ƒæ¥å£</strong>ï¼Œè¯·æ±‚å½¢å¼ä¹Ÿå¾ˆå¸¸è§ï¼š</p>
<ul>
<li>
<p><code>POST</code></p>
</li>
<li>
<p><code>Content-Type: application/json</code></p>
</li>
<li>
<p>Body é‡Œæ˜¯ä¸€æ®µ JSON</p>
</li>
<li>
<p>æœåŠ¡ç«¯éœ€è¦ï¼š</p>
<ol>
<li><strong>å…ˆéªŒç­¾ï¼ˆå¿…é¡»ä½¿ç”¨åŸå§‹è¯·æ±‚å‚æ•°ï¼‰</strong></li>
<li><strong>å†æ‰§è¡Œä¸šåŠ¡é€»è¾‘</strong></li>
</ol>
</li>
</ul>
<p>Controller å†™æ³•å¦‚ä¸‹ï¼ˆæå…¶å¸¸è§ï¼‰ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/callback/receive"</span>)
public String <span class="hljs-built_in">receive</span>(<span class="hljs-variable">@RequestBody</span> CallbackDTO dto,
                      HttpServletRequest request) {
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">service</span><span class="hljs-selector-class">.process</span>(dto);
}
</code></pre>
<p>é—®é¢˜æ˜¯ï¼š</p>
<blockquote>
<p><strong>éªŒç­¾å§‹ç»ˆå¤±è´¥</strong></p>
</blockquote>
<p>å³ä¾¿æˆ‘å·²ç»åå¤ç¡®è®¤è¿‡ï¼š</p>
<ul>
<li>éªŒç­¾ç®—æ³•æ­£ç¡®</li>
<li>å¯†é’¥æ­£ç¡®</li>
<li>æ–‡æ¡£å®ç°æ— è¯¯</li>
<li>å¯¹è±¡é‡Œçš„å­—æ®µâ€œçœ‹èµ·æ¥ä¹Ÿéƒ½åœ¨â€</li>
</ul>
<p>è¿™æ—¶å€™ï¼Œç›´è§‰å¼€å§‹æŠ¥è­¦äº†ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ç¬¬ä¸€ååº”ï¼šæ˜¯ä¸æ˜¯ <code>@RequestBody</code> æ˜ å°„æ—¶ä¸¢å‚æ•°äº†ï¼Ÿ</h2>
<p>è¿™æ˜¯ä¸€ä¸ª<strong>éå¸¸åˆç†</strong>çš„æ€€ç–‘ã€‚</p>
<p>å› ä¸ºéªŒç­¾ä¾èµ–çš„æ˜¯ï¼š</p>
<blockquote>
<p><strong>å®Œæ•´ã€åŸå§‹ã€æœªç»å¤„ç†çš„è¯·æ±‚å‚æ•°</strong></p>
</blockquote>
<p>è€Œæˆ‘ç°åœ¨ç”¨çš„æ˜¯ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@RequestBody</span> CallbackDTO
</code></pre>
<p>é‚£æ˜¯ä¸æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼š</p>
<ul>
<li>æœ‰å­—æ®µæ²¡å®šä¹‰ï¼Ÿ</li>
<li>æœ‰å­—æ®µè¢« Jackson å¿½ç•¥äº†ï¼Ÿ</li>
<li>æœ‰å­—æ®µè¢«è½¬æˆäº† <code>null</code>ï¼Ÿ</li>
<li>æœ‰ç²¾åº¦ / ç±»å‹å˜åŒ–ï¼Ÿ</li>
</ul>
<p>ä¸ºäº†éªŒè¯è¿™ä¸ªçŒœæƒ³ï¼Œæˆ‘å†³å®šåšä¸€ä»¶äº‹ï¼š</p>
<p>ğŸ‘‰ <strong>ç›´æ¥æ‰“å°å®¢æˆ·ç«¯çœŸå®ä¼ è¿‡æ¥çš„è¯·æ±‚ä½“</strong></p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€å°è¯•ç›´æ¥ä» request è¯»å– bodyï¼ˆé—®é¢˜å¼€å§‹æš´éœ²ï¼‰</h2>
<p>æˆ‘å¾ˆè‡ªç„¶åœ°å†™ä¸‹äº†è¿™æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">String <span class="hljs-attr">body</span> = new String(
        request.getInputStream().readAllBytes(),
        StandardCharsets.UTF_8
)<span class="hljs-comment">;</span>
log.info("åŸå§‹è¯·æ±‚ä½“ï¼š{}", body)<span class="hljs-comment">;</span>
</code></pre>
<p>ç»“æœéå¸¸è¯¡å¼‚ï¼š</p>
<ul>
<li>æœ‰æ—¶ç›´æ¥æŠ›å¼‚å¸¸ï¼š</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin">getInputStream() has already been called <span class="hljs-keyword">for</span> <span class="hljs-keyword">this</span> request
</code></pre>
<ul>
<li>æœ‰æ—¶ä¸æŠ¥é”™ï¼Œä½† <code>body</code> æ˜¯ç©ºå­—ç¬¦ä¸²</li>
</ul>
<p>è¿™æ—¶å€™å°±æœ‰ç‚¹ä¸å¯¹åŠ²äº†ï¼š</p>
<blockquote>
<p><strong>å®¢æˆ·ç«¯æ˜æ˜ä¼ äº† JSONï¼Œä¸ºä»€ä¹ˆ request é‡Œä»€ä¹ˆéƒ½è¯»ä¸åˆ°ï¼Ÿ</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-3">å››ã€å…³é”®è½¬æŠ˜ç‚¹ï¼šé—®é¢˜ä¸åœ¨éªŒç­¾ï¼Œè€Œåœ¨ Spring MVC æœºåˆ¶</h2>
<p>ç»§ç»­é¡ºç€è¿™ä¸ªå¼‚å¸¸å¾€ä¸‹æŒ–ï¼Œæ‰å‘ç°é—®é¢˜çš„æ ¹æº<strong>å®Œå…¨ä¸åœ¨ä¸šåŠ¡ä»£ç é‡Œ</strong>ã€‚</p>
<p>è€Œåœ¨äºè¿™ä¸€è¡Œï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@RequestBody</span> CallbackDTO dto
</code></pre>
<hr/>
<h2 data-id="heading-4">äº”ã€<code>@RequestBody</code> åˆ°åº•åšäº†ä»€ä¹ˆï¼Ÿï¼ˆè¿™æ˜¯å…³é”®ï¼‰</h2>
<p>å¾ˆå¤šäººç”¨ <code>@RequestBody</code>ï¼Œä½†å¹¶ä¸æ¸…æ¥šå®ƒèƒŒåå‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
<p>å®é™…ä¸Šï¼Œåœ¨è¯·æ±‚è¿›å…¥ Controller <strong>ä¹‹å‰</strong>ï¼ŒSpring MVC å·²ç»å®Œæˆäº†ä¸‹é¢è¿™å¥—æµç¨‹ï¼š</p>
<ol>
<li>è°ƒç”¨ <code>request.getInputStream()</code></li>
<li>è¯»å– <strong>æ•´ä¸ª HTTP body</strong></li>
<li>äº¤ç»™ <code>HttpMessageConverter</code>ï¼ˆé€šå¸¸æ˜¯ Jacksonï¼‰</li>
<li>ååºåˆ—åŒ–æˆ Java å¯¹è±¡</li>
<li><strong>InputStream è¢«å®Œæ•´æ¶ˆè´¹</strong></li>
</ol>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<blockquote>
<p><strong><code>@RequestBody</code> â‰  å¤åˆ¶ body</strong><br/>
<strong><code>@RequestBody</code> = æ¶ˆè´¹ body</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-5">å…­ã€ä¸ºä»€ä¹ˆä¹‹åä»€ä¹ˆéƒ½æ‹¿ä¸åˆ°ï¼Ÿ</h2>
<p>è¿™å°±è§£é‡Šäº†å‰é¢çš„æ‰€æœ‰å¼‚å¸¸è¡Œä¸ºï¼š</p>
<h3 data-id="heading-6">1ï¸âƒ£ å†è¯» InputStream</h3>
<pre><code class="hljs language-scss" lang="scss">request<span class="hljs-selector-class">.getInputStream</span>()
</code></pre>
<p>âŒ è¦ä¹ˆæŠ›å¼‚å¸¸<br/>
âŒ è¦ä¹ˆè¯»åˆ°ç©º</p>
<hr/>
<h3 data-id="heading-7">2ï¸âƒ£ å†è¯» Reader</h3>
<pre><code class="hljs language-scss" lang="scss">request<span class="hljs-selector-class">.getReader</span>()
</code></pre>
<p>âŒ ä¸€æ ·</p>
<hr/>
<h3 data-id="heading-8">3ï¸âƒ£ è¯•å›¾ç”¨ <code>getParameterMap</code></h3>
<pre><code class="hljs language-scss" lang="scss">request<span class="hljs-selector-class">.getParameterMap</span>()
</code></pre>
<p>âŒ å¯¹ JSON è¯·æ±‚å®Œå…¨æ— æ•ˆ<br/>
ï¼ˆå®ƒåªå¯¹ <code>application/x-www-form-urlencoded</code> ç”Ÿæ•ˆï¼‰</p>
<hr/>
<h2 data-id="heading-9">ä¸ƒã€è‡³æ­¤ï¼Œé—®é¢˜å·²ç»å¯ä»¥è¢«å‡†ç¡®æè¿°äº†</h2>
<blockquote>
<p><strong>HTTP request body åœ¨ Servlet è§„èŒƒä¸­åªèƒ½è¢«è¯»å–ä¸€æ¬¡</strong></p>
<p><strong>è€Œ <code>@RequestBody</code> å·²ç»å¸®ä½ è¯»å®Œäº†</strong></p>
</blockquote>
<p>æ‰€ä»¥ï¼š</p>
<ul>
<li>ä¸æ˜¯â€œrequest é‡Œæ²¡å‚æ•°â€</li>
<li>è€Œæ˜¯<strong>å”¯ä¸€çš„ body æµå·²ç»è¢«æ¶ˆè´¹</strong></li>
</ul>
<hr/>
<h2 data-id="heading-10">å…«ã€æ–°é—®é¢˜ï¼šæˆ‘æ—¢è¦åŸå§‹ bodyï¼Œåˆè¦ DTOï¼Œæ€ä¹ˆåŠï¼Ÿ</h2>
<p>è¿™æ˜¯æ‰€æœ‰å›è°ƒ / éªŒç­¾åœºæ™¯çš„<strong>æ ¸å¿ƒçŸ›ç›¾</strong>ï¼š</p>
<ul>
<li>éªŒç­¾ï¼šå¿…é¡»ä½¿ç”¨ <strong>åŸå§‹è¯·æ±‚ä½“</strong></li>
<li>ä¸šåŠ¡ï¼šå¸Œæœ›ç›´æ¥ç”¨ <strong>Java å¯¹è±¡</strong></li>
<li>ç°å®ï¼šbody åªèƒ½è¯»ä¸€æ¬¡</li>
</ul>
<p>ğŸ‘‰ é‚£å°±åªèƒ½ <strong>æå‰ç¼“å­˜</strong></p>
<hr/>
<h2 data-id="heading-11">ä¹ã€æ­£ç¡®è§£æ³•ï¼šåœ¨ Filter å±‚ç¼“å­˜è¯·æ±‚ä½“</h2>
<p>Spring å·²ç»æä¾›äº†æ ‡å‡†å·¥å…·ï¼š<br/>
<strong><code>ContentCachingRequestWrapper</code></strong></p>
<p>æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p>
<blockquote>
<p><strong>ä¸ä¸»åŠ¨è¯» bodyï¼Œåªåœ¨åˆ«äººè¯»çš„æ—¶å€™é¡ºæ‰‹ç¼“å­˜</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-12">åã€æœ€ç»ˆå®ç°ï¼ˆç”Ÿäº§å¯ç”¨ï¼‰</h2>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Component</span>
<span class="hljs-variable">@Order</span>(Ordered.HIGHEST_PRECEDENCE)
<span class="hljs-variable">@Slf4j</span>
public class RequestBodyCacheFilter extends OncePerRequestFilter {

    <span class="hljs-variable">@Override</span>
    protected boolean <span class="hljs-built_in">shouldNotFilter</span>(HttpServletRequest request) {
        <span class="hljs-comment">// åªæ‹¦æˆªç‰¹å®šå›è°ƒè·¯å¾„ï¼Œé¿å…å…¨ç«™ç”Ÿæ•ˆ</span>
        <span class="hljs-selector-tag">return</span> !<span class="hljs-selector-tag">request</span><span class="hljs-selector-class">.getRequestURI</span>()<span class="hljs-selector-class">.contains</span>(<span class="hljs-string">"/callback"</span>);
    }

    @<span class="hljs-selector-tag">Override</span>
    <span class="hljs-selector-tag">protected</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">doFilterInternal</span>(HttpServletRequest request,
                                    HttpServletResponse response,
                                    FilterChain filterChain)
            <span class="hljs-selector-tag">throws</span> <span class="hljs-selector-tag">ServletException</span>, <span class="hljs-selector-tag">IOException</span> {

        <span class="hljs-selector-tag">ContentCachingRequestWrapper</span> <span class="hljs-selector-tag">wrapper</span> =
                <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">ContentCachingRequestWrapper</span>(request);

        <span class="hljs-comment">// å…³é”®ï¼šå¿…é¡»å…ˆæ”¾è¡Œ</span>
        <span class="hljs-selector-tag">filterChain</span><span class="hljs-selector-class">.doFilter</span>(wrapper, response);

        <span class="hljs-comment">// å†ä»ç¼“å­˜ä¸­è¯»å–</span>
        <span class="hljs-selector-tag">byte</span><span class="hljs-selector-attr">[]</span> <span class="hljs-selector-tag">body</span> = <span class="hljs-selector-tag">wrapper</span><span class="hljs-selector-class">.getContentAsByteArray</span>();
        <span class="hljs-selector-tag">if</span> (body.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">bodyStr</span> = <span class="hljs-selector-tag">new</span> <span class="hljs-selector-tag">String</span>(body, StandardCharsets.UTF_8);
            <span class="hljs-selector-tag">log</span><span class="hljs-selector-class">.info</span>(<span class="hljs-string">"ã€å›è°ƒåŸå§‹è¯·æ±‚ä½“ã€‘URI={}, Body={}"</span>,
                    request.<span class="hljs-built_in">getRequestURI</span>(), bodyStr);
        }
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-13">åä¸€ã€ä¸ºä»€ä¹ˆä¸€å®šè¦åœ¨ <code>doFilter</code> ä¹‹åè¯»å– bodyï¼Ÿ</h2>
<p>è¿™æ˜¯<strong>æœ€å®¹æ˜“å†™é”™ã€ä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€ç‚¹</strong>ã€‚</p>
<h3 data-id="heading-14">åŸå› åªæœ‰ä¸€å¥è¯ï¼š</h3>
<blockquote>
<p><strong><code>ContentCachingRequestWrapper</code> æœ¬èº«ä¸ä¼šè¯» body</strong></p>
</blockquote>
<p>çœŸæ­£è¯»å– body çš„æ˜¯è°ï¼Ÿ</p>
<p>ğŸ‘‰ <strong>æ˜¯ Spring MVC çš„ <code>@RequestBody</code></strong></p>
<p>å¦‚æœä½ åœ¨ <code>doFilter</code> ä¹‹å‰è¯»å–ï¼š</p>
<ul>
<li>æ­¤æ—¶æ²¡äººè¯»è¿‡ InputStream</li>
<li>ç¼“å­˜è‡ªç„¶æ˜¯ç©ºçš„</li>
</ul>
<p><strong>æ­£ç¡®é¡ºåºå¿…é¡»æ˜¯ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">åŒ…è£… request
â†“
æ”¾è¡Œ filterChainï¼ˆSpring è¯»å– <span class="hljs-selector-tag">body</span>ï¼‰
â†“
ä» wrapper ç¼“å­˜ä¸­è¯»å–
</code></pre>
<hr/>
<h2 data-id="heading-15">åäºŒã€Controller å±‚å®Œå…¨ä¸ç”¨æ”¹</h2>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@PostMapping</span>(<span class="hljs-string">"/callback/receive"</span>)
public String <span class="hljs-built_in">receive</span>(<span class="hljs-variable">@RequestBody</span> CallbackDTO dto,
                      HttpServletRequest request) {
    <span class="hljs-comment">// dtoï¼šç”¨äºä¸šåŠ¡é€»è¾‘</span>
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">service</span><span class="hljs-selector-class">.process</span>(dto);
}
</code></pre>
<p>æ­¤æ—¶ä½ å·²ç»åŒæ—¶æ‹¿åˆ°äº†ï¼š</p>
<ul>
<li><strong>åŸå§‹è¯·æ±‚ä½“</strong></li>
<li><strong>æ˜ å°„åçš„å¯¹è±¡</strong></li>
</ul>
<p>è€Œä¸”ï¼š</p>
<ul>
<li>ä¸å†²çª</li>
<li>ä¸é‡å¤è¯»å–</li>
<li>ä¸ç ´å Spring MVC æœºåˆ¶</li>
</ul>
<hr/>
<h2 data-id="heading-16">åä¸‰ã€é—®é¢˜æœ€ç»ˆå®šæ€§ï¼šéªŒç­¾å¤±è´¥çš„çœŸæ­£åŸå› </h2>
<p>å›å¤´çœ‹æœ€åˆçš„é—®é¢˜ï¼Œç»“è®ºå·²ç»éå¸¸æ¸…æ¥šäº†ï¼š</p>
<blockquote>
<p>âŒ ä½¿ç”¨ DTO å‚ä¸éªŒç­¾<br/>
âœ” å¿…é¡»ä½¿ç”¨åŸå§‹è¯·æ±‚ä½“</p>
</blockquote>
<p>å› ä¸ºå¯¹è±¡æ˜ å°„è¿‡ç¨‹ä¸­ï¼Œä»»ä½•ä¸€ä¸ªç»†èŠ‚å˜åŒ–ï¼Œéƒ½ä¼šè®©éªŒç­¾å¤±æ•ˆï¼š</p>
<ul>
<li>å­—æ®µç¼ºå¤±</li>
<li><code>null</code> å€¼</li>
<li>ç²¾åº¦å˜åŒ–</li>
<li>key é¡ºåºå˜åŒ–</li>
<li>å¿½ç•¥æœªçŸ¥å­—æ®µ</li>
</ul>
<hr/>
<h2 data-id="heading-17">åå››ã€æœ€ç»ˆæ€»ç»“ï¼ˆå¼ºçƒˆå»ºè®®è®°ä½ï¼‰</h2>
<h3 data-id="heading-18">ä¸€å¥è¯ç»“è®º</h3>
<blockquote>
<p><strong><code>@RequestBody</code> ä¼šæ¶ˆè´¹ request bodyï¼Œä¸€æ—¦æ˜ å°„å®Œæˆï¼ŒåŸå§‹è¯·æ±‚ä½“å°±ä¸å­˜åœ¨äº†</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Bootstrap ä¸ HTML5 è¡¨å•æ„å»ºå‰ç«¯ç•Œé¢]]></title>    <link>https://juejin.cn/post/7602455806447239174</link>    <guid>https://juejin.cn/post/7602455806447239174</guid>    <pubDate>2026-02-04T02:45:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602455806447239174" data-draft-id="7602503154506268713" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Bootstrap ä¸ HTML5 è¡¨å•æ„å»ºå‰ç«¯ç•Œé¢"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T02:45:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·575730334624"/> <meta itemprop="url" content="https://juejin.cn/user/2860271309712009"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Bootstrap ä¸ HTML5 è¡¨å•æ„å»ºå‰ç«¯ç•Œé¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2860271309712009/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·575730334624
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T02:45:51.000Z" title="Wed Feb 04 2026 02:45:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä½¿ç”¨ Bootstrap ä¸ HTML5 è¡¨å•æ„å»º Coze Logo ç”Ÿæˆå™¨å‰ç«¯ç•Œé¢</h2>
<p>åœ¨ç°ä»£ Web å¼€å‘ä¸­ï¼Œè¡¨å•æ˜¯ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºäº¤äº’çš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ã€‚æ— è®ºæ˜¯æ³¨å†Œã€ç™»å½•ï¼Œè¿˜æ˜¯å†…å®¹ç”Ÿæˆï¼ˆå¦‚ AI å›¾æ ‡ç”Ÿæˆï¼‰ï¼Œè‰¯å¥½çš„è¡¨å•è®¾è®¡ä¸ä»…æå‡ç”¨æˆ·ä½“éªŒï¼Œä¹Ÿä½“ç°äº†å¼€å‘è€…å¯¹å¯è®¿é—®æ€§ã€è¯­ä¹‰åŒ–å’Œå“åº”å¼å¸ƒå±€çš„é‡è§†ã€‚æœ¬æ–‡å°†å›´ç»•ä¸€ä¸ªå®é™…åœºæ™¯â€”â€”<strong>Coze Bot Logo ç”Ÿæˆå™¨çš„å‰ç«¯è¡¨å•é¡µé¢</strong>ï¼Œæ·±å…¥è®²è§£å¦‚ä½•ç»“åˆ <strong>HTML5 è¯­ä¹‰åŒ–è¡¨å•è§„èŒƒ</strong> ä¸ <strong>Bootstrap 3 å“åº”å¼å¸ƒå±€ç³»ç»Ÿ</strong>ï¼Œæ„å»ºä¸€ä¸ªç»“æ„æ¸…æ™°ã€æ— éšœç¢å‹å¥½ã€è§†è§‰ç¾è§‚ä¸”åŠŸèƒ½å®Œæ•´çš„ç”¨æˆ·ç•Œé¢ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€é¡µé¢ç»“æ„è®¾è®¡ï¼šåŸºäº Bootstrap çš„å“åº”å¼å¸ƒå±€</h3>
<h4 data-id="heading-2">1. å®¹å™¨å±…ä¸­ï¼š<code>.container</code></h4>
<p>Bootstrap çš„ <code>.container</code> ç±»æä¾›äº†å›ºå®šå®½åº¦çš„å“åº”å¼å®¹å™¨ï¼Œåœ¨ PC ç«¯è‡ªåŠ¨å·¦å³ç•™ç™½ï¼ˆ<code>margin: 0 auto</code>ï¼‰ï¼Œä¿è¯å†…å®¹ä¸ä¼šè´´è¾¹ï¼Œè§†è§‰æ›´èˆ’é€‚ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- å†…å®¹ --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h4 data-id="heading-3">2. æ …æ ¼ç³»ç»Ÿï¼š<code>.row</code> + <code>.col-md-6</code></h4>
<p>ä¸ºäº†åœ¨æ¡Œé¢ç«¯å®ç°â€œå·¦ä¾§è¡¨å•ã€å³ä¾§é¢„è§ˆâ€æˆ–ä»…å±…ä¸­è¡¨å•çš„æ•ˆæœï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>.col-md-6</code> å°†è¡¨å•é™åˆ¶åœ¨é¡µé¢ä¸­éƒ¨ 50% å®½åº¦ï¼Œç§»åŠ¨ç«¯åˆ™è‡ªåŠ¨å †å ä¸º 100% å®½åº¦ï¼Œå®ç°å“åº”å¼é€‚é…ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"row"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"col-md-6"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- è¡¨å• --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šBootstrap 3 çš„æ …æ ¼åŸºäº <code>float</code> å¸ƒå±€ï¼Œéœ€ç¡®ä¿çˆ¶å®¹å™¨æ¸…é™¤æµ®åŠ¨ï¼ˆ<code>.row</code> å·²å†…ç½® clearfixï¼‰ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">äºŒã€è¡¨å•ç»„ä»¶è¯¦è§£ï¼šè¯­ä¹‰åŒ–ä¸æ— éšœç¢è®¾è®¡</h3>
<h4 data-id="heading-5">1. Bot åç§°è¾“å…¥æ¡†ï¼ˆå¿…å¡«ï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"titleInput"</span>&gt;</span>Botåç§°ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
    <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥åç§°"</span>
    <span class="hljs-attr">id</span>=<span class="hljs-string">"titleInput"</span> 
    <span class="hljs-attr">name</span>=<span class="hljs-string">"title"</span> 
    <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
    <span class="hljs-attr">required</span> 
    <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<ul>
<li><strong><code>&lt;label for="titleInput"&gt;</code></strong>ï¼šæ˜ç¡®å…³è”è¾“å…¥æ¡†ï¼Œå±å¹•é˜…è¯»å™¨å¯æœ—è¯»æ ‡ç­¾å†…å®¹ï¼›</li>
<li><strong><code>id="titleInput"</code></strong>ï¼šå”¯ä¸€æ ‡è¯†ï¼Œä¸ <code>for</code> å±æ€§åŒ¹é…ï¼›</li>
<li><strong><code>required</code></strong>ï¼šHTML5 åŸç”ŸéªŒè¯ï¼Œé˜»æ­¢ç©ºæäº¤ï¼›</li>
<li><strong><code>placeholder</code></strong>ï¼šæä¾›ç¤ºä¾‹æç¤ºï¼ˆå¦‚â€œå®¢æœåŠ©æ‰‹â€ï¼‰ï¼Œä½†ä¸èƒ½æ›¿ä»£ <code>&lt;label&gt;</code>ï¼›</li>
<li><strong><code>class="form-control"</code></strong>ï¼šBootstrap æ ·å¼ï¼Œç»Ÿä¸€è¾“å…¥æ¡†å¤–è§‚ã€‚</li>
</ul>
<h4 data-id="heading-6">2. Bot æè¿°æ–‡æœ¬åŸŸï¼ˆå¯é€‰ä½†æ¨èï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"descInput"</span>&gt;</span>Botæè¿°ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> 
    <span class="hljs-attr">name</span>=<span class="hljs-string">"desc"</span>
    <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥æè¿°ï¼Œä¾‹å¦‚ï¼šä¸€ä¸ªå¸®åŠ©ç”¨æˆ·è§£ç­”ç¼–ç¨‹é—®é¢˜çš„AIåŠ©æ‰‹"</span>
    <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> 
    <span class="hljs-attr">id</span>=<span class="hljs-string">"descInput"</span>
    <span class="hljs-attr">rows</span>=<span class="hljs-string">"3"</span>
  &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<ul>
<li>ä½¿ç”¨ <code>&lt;textarea&gt;</code> æ”¯æŒå¤šè¡Œè¾“å…¥ï¼›</li>
<li><code>rows="3"</code> æ§åˆ¶åˆå§‹é«˜åº¦ï¼›</li>
<li>æè¿°è™½éå¿…å¡«ï¼Œä½†å¯¹ DALLÂ·E 3 ç”Ÿæˆé«˜è´¨é‡ Logo è‡³å…³é‡è¦ï¼Œæ•… placeholder ç»™å‡ºå…·ä½“ç¤ºä¾‹ã€‚</li>
</ul>
<h4 data-id="heading-7">3. æäº¤æŒ‰é’®</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> 
  <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>
  <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-default btn-primary"</span>
  <span class="hljs-attr">id</span>=<span class="hljs-string">"submitBtn"</span>&gt;</span>ç”Ÿæˆå›¾æ ‡<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
</code></pre>
<ul>
<li><code>type="submit"</code> è§¦å‘è¡¨å•æäº¤äº‹ä»¶ï¼›</li>
<li><code>btn-primary</code> ä½¿ç”¨ä¸»è‰²è°ƒå¼ºè°ƒæ“ä½œï¼›</li>
<li>æŒ‰é’®æ–‡æœ¬â€œç”Ÿæˆå›¾æ ‡â€æ¸…æ™°è¡¨è¾¾åŠŸèƒ½æ„å›¾ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€è¡¨å•è¡Œä¸ºæ§åˆ¶ï¼šé˜»æ­¢é»˜è®¤æäº¤</h3>
<p>è¡¨å•çš„ <code>action</code> å±æ€§è‹¥ä¸ºç©ºï¼ˆæˆ–æœªè®¾ç½®ï¼‰ï¼Œé»˜è®¤ä¼šæäº¤åˆ°å½“å‰é¡µé¢ï¼Œå¯¼è‡´é¡µé¢åˆ·æ–°ã€‚ä¸ºè°ƒç”¨ JavaScript å¤„ç†é€»è¾‘ï¼ˆå¦‚è°ƒç”¨ DALLÂ·E APIï¼‰ï¼Œéœ€é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'form[name="appForm"]'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'submit'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
  event.<span class="hljs-title function_">preventDefault</span>(); <span class="hljs-comment">// é˜»æ­¢é¡µé¢è·³è½¬</span>
  
  <span class="hljs-keyword">const</span> title = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'titleInput'</span>).<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>();
  <span class="hljs-keyword">const</span> desc = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'descInput'</span>).<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>();
  
  <span class="hljs-keyword">if</span> (!title) {
    <span class="hljs-title function_">alert</span>(<span class="hljs-string">'è¯·å¡«å†™ Bot åç§°'</span>);
    <span class="hljs-keyword">return</span>;
  }
  
  <span class="hljs-comment">// æ„é€  Prompt</span>
  <span class="hljs-keyword">const</span> prompt = <span class="hljs-string">`A logo for a bot named "<span class="hljs-subst">${title}</span>". <span class="hljs-subst">${desc || <span class="hljs-string">''</span>}</span> Simple, modern, flat design, icon only, no text.`</span>;
  
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Generated Prompt:'</span>, prompt);
  <span class="hljs-comment">// æ­¤å¤„å¯è°ƒç”¨ fetch å‘åç«¯å‘é€è¯·æ±‚ï¼Œæˆ–ç›´æ¥è°ƒç”¨ OpenAI APIï¼ˆéœ€å¤„ç† CORS å’Œå¯†é’¥å®‰å…¨ï¼‰</span>
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<blockquote>
<p><strong>å®‰å…¨æç¤º</strong>ï¼šå®é™…é¡¹ç›®ä¸­ï¼ŒDALLÂ·E API å¯†é’¥ä¸åº”æš´éœ²åœ¨å‰ç«¯ï¼Œåº”é€šè¿‡åç«¯ä»£ç†è°ƒç”¨ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-9">å››ã€æ— éšœç¢ï¼ˆAccessibilityï¼‰ä¸ç”¨æˆ·ä½“éªŒä¼˜åŒ–</h3>
<ol>
<li><strong>è¯­ä¹‰åŒ–æ ‡ç­¾</strong>ï¼šæ‰€æœ‰è¾“å…¥æ§ä»¶å‡æœ‰ <code>&lt;label&gt;</code> å…³è”ï¼›</li>
<li><strong>ç„¦ç‚¹ç®¡ç†</strong>ï¼šBootstrap çš„ <code>.form-control</code> è‡ªå¸¦èšç„¦æ ·å¼ï¼›</li>
<li><strong>é”™è¯¯æç¤º</strong>ï¼šå¯æ‰©å±•åŠ å…¥ <code>.has-error</code> å’Œ <code>.help-block</code> æ˜¾ç¤ºéªŒè¯é”™è¯¯ï¼›</li>
<li><strong>é”®ç›˜å¯¼èˆª</strong>ï¼šè¡¨å•å¤©ç„¶æ”¯æŒ Tab é”®åˆ‡æ¢ï¼Œç¬¦åˆ WCAG æ ‡å‡†ï¼›</li>
<li><strong>è¯­ä¹‰æŒ‰é’®</strong>ï¼šä½¿ç”¨ <code>&lt;button&gt;</code> è€Œé <code>&lt;div&gt;</code>ï¼Œç¡®ä¿å±å¹•é˜…è¯»å™¨è¯†åˆ«ä¸ºå¯æ“ä½œå…ƒç´ ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-10">ç»“è¯­</h3>
<p>é€šè¿‡æœ¬æ–‡çš„å®è·µï¼Œæˆ‘ä»¬ä¸ä»…æ„å»ºäº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ Coze Logo ç”Ÿæˆè¡¨å•ï¼Œæ›´å±•ç¤ºäº† <strong>ç°ä»£ Web å¼€å‘ä¸­è¯­ä¹‰åŒ–ã€å¯è®¿é—®æ€§ä¸å“åº”å¼è®¾è®¡çš„èåˆ</strong>ã€‚Bootstrap æä¾›äº†å¿«é€Ÿå¸ƒå±€èƒ½åŠ›ï¼Œè€Œ HTML5 è¡¨å•è§„èŒƒåˆ™ç¡®ä¿äº†åŸºç¡€ä½“éªŒçš„å¥å£®æ€§ã€‚åœ¨ AI åº”ç”¨æ—¥ç›Šæ™®åŠçš„ä»Šå¤©ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆä¸ä»…æ˜¯ UI çš„å®ç°è€…ï¼Œæ›´æ˜¯äººæœºäº¤äº’ä½“éªŒçš„å¡‘é€ è€…ã€‚ä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„è¡¨å•ï¼ŒèƒŒåæ‰¿è½½çš„æ˜¯å¯¹ç”¨æˆ·ã€å¯¹æŠ€æœ¯ã€å¯¹åŒ…å®¹æ€§çš„æ·±åˆ»ç†è§£ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptå†…ç½®æ•°æ®ç»“æ„]]></title>    <link>https://juejin.cn/post/7602454700504694825</link>    <guid>https://juejin.cn/post/7602454700504694825</guid>    <pubDate>2026-02-04T02:56:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602454700504694825" data-draft-id="7602497125268881414" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptå†…ç½®æ•°æ®ç»“æ„"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,æ•°æ®ç»“æ„"/> <meta itemprop="datePublished" content="2026-02-04T02:56:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="wuhen_n"/> <meta itemprop="url" content="https://juejin.cn/user/4149996261738233"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptå†…ç½®æ•°æ®ç»“æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4149996261738233/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    wuhen_n
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T02:56:52.000Z" title="Wed Feb 04 2026 02:56:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€ï¼šä»ç®—æ³•é¢˜è¯´èµ·</h2>
<p>æ‰¾å‡ºä¸‹åˆ—æ•°ç»„ä¸­é‡å¤çš„å…ƒç´ ï¼ˆå‡è®¾æ‰€æœ‰æ•°å­—æœ€å¤šåªå‡ºç°2æ¬¡ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
</code></pre>
<h3 data-id="heading-1">è§£æ³•1ï¼šä½¿ç”¨Arrayæ–¹æ³•ï¼ˆæ—¶é—´å¤æ‚åº¦O(nÂ²)ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">findDuplicatesWithArray</span>(<span class="hljs-params">arr</span>) {
    <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> arr.<span class="hljs-title function_">indexOf</span>(item) !== index);
}
</code></pre>
<h3 data-id="heading-2">è§£æ³•2ï¼šä½¿ç”¨Setï¼ˆæ—¶é—´å¤æ‚åº¦O(n)ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">findDuplicatesWithSet</span>(<span class="hljs-params">arr</span>) {
    <span class="hljs-keyword">const</span> seen = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    <span class="hljs-keyword">const</span> duplicates = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> arr) {
        <span class="hljs-keyword">if</span> (seen.<span class="hljs-title function_">has</span>(item)) {
            duplicates.<span class="hljs-title function_">add</span>(item);
        } <span class="hljs-keyword">else</span> {
            seen.<span class="hljs-title function_">add</span>(item);
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(duplicates);
}
</code></pre>
<h3 data-id="heading-3">è§£æ³•3ï¼šä½¿ç”¨Objectï¼ˆæ—¶é—´å¤æ‚åº¦O(n)ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">findDuplicatesWithObject</span>(<span class="hljs-params">arr</span>) {
    <span class="hljs-keyword">const</span> seen = {};
    <span class="hljs-keyword">const</span> duplicates = [];
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> arr) {
        <span class="hljs-keyword">if</span> (seen[item]) {
            duplicates.<span class="hljs-title function_">push</span>(item);
        } <span class="hljs-keyword">else</span> {
            seen[item] = <span class="hljs-literal">true</span>;
        }
    }
    <span class="hljs-keyword">return</span> duplicates;
}
</code></pre>
<p>ä¸Šè¿°è§£æ³•éƒ½èƒ½è§£å†³è¿™ä¸€é—®é¢˜ï¼Œä½†éšç€æ•°æ®é‡å¢å¤§ï¼Œè¿™äº›æ–¹æ¡ˆçš„æ€§èƒ½å·®å¼‚ä¼šéå¸¸æ˜æ˜¾ã€‚è¦ç†è§£ä¸ºä»€ä¹ˆï¼Œæˆ‘ä»¬å°±éœ€è¦æ·±å…¥äº†è§£æ¯ç§æ•°æ®ç»“æ„çš„ç‰¹ç‚¹ã€‚</p>
<h2 data-id="heading-4">Map vs Objectï¼šé”®å€¼å¯¹çš„ç°ä»£é€‰æ‹©</h2>
<h3 data-id="heading-5">Map</h3>
<h4 data-id="heading-6">Mapçš„åŸºæœ¬ä½¿ç”¨</h4>
<p>ä½¿ç”¨ <code>new</code> å…³é”®å­—å’Œ <code>Map</code> æ„é€ å‡½æ•°ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç©ºçš„ Map æ˜ å°„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
</code></pre>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨åˆ›å»ºçš„æ—¶å€™ï¼ŒåŒæ—¶åˆå§‹åŒ–å®ä¾‹ï¼Œåªéœ€è¦ç»™Map æ„é€ å‡½æ•°ä¼ å…¥ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡å³å¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([{
  <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>
}]);
</code></pre>
<h4 data-id="heading-7">Mapçš„æ ¸å¿ƒç‰¹æ€§</h4>
<h5 data-id="heading-8">1. å…è®¸ä»»æ„ç±»å‹çš„é”®</h5>
<pre><code class="hljs language-javascript" lang="javascript">map.<span class="hljs-title function_">set</span>(<span class="hljs-string">'string'</span>, <span class="hljs-string">'å­—ç¬¦ä¸²é”®'</span>);
map.<span class="hljs-title function_">set</span>(<span class="hljs-number">123</span>, <span class="hljs-string">'æ•°å­—é”®'</span>);
map.<span class="hljs-title function_">set</span>(<span class="hljs-literal">true</span>, <span class="hljs-string">'å¸ƒå°”é”®'</span>);
map.<span class="hljs-title function_">set</span>({}, <span class="hljs-string">'å¯¹è±¡é”®'</span>);
map.<span class="hljs-title function_">set</span>([], <span class="hljs-string">'æ•°ç»„é”®'</span>);
map.<span class="hljs-title function_">set</span>(<span class="hljs-function">() =&gt;</span> {}, <span class="hljs-string">'å‡½æ•°é”®'</span>);
map.<span class="hljs-title function_">set</span>(<span class="hljs-literal">null</span>, <span class="hljs-string">'nullé”®'</span>);
map.<span class="hljs-title function_">set</span>(<span class="hljs-literal">undefined</span>, <span class="hljs-string">'undefinedé”®'</span>);
</code></pre>
<h5 data-id="heading-9">2. é¡ºåºä¿æŒ</h5>
<pre><code class="hljs language-javascript" lang="javascript">map.<span class="hljs-title function_">set</span>(<span class="hljs-string">'first'</span>, <span class="hljs-number">1</span>);
map.<span class="hljs-title function_">set</span>(<span class="hljs-string">'second'</span>, <span class="hljs-number">2</span>);
map.<span class="hljs-title function_">set</span>(<span class="hljs-string">'third'</span>, <span class="hljs-number">3</span>);

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> map) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key, <span class="hljs-string">'-'</span>, value); <span class="hljs-comment">// ä¿æŒæ’å…¥é¡ºåº</span>
}
</code></pre>
<h5 data-id="heading-10">3. å¯ä»¥ç›´æ¥è·å–å¤§å°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Mapå¤§å°:'</span>, map.<span class="hljs-property">size</span>);
</code></pre>
<h5 data-id="heading-11">4. é«˜æ•ˆçš„æŸ¥æ‰¾å’Œåˆ é™¤</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æŸ¥æ‰¾keyä¸º123:'</span>, map.<span class="hljs-title function_">has</span>(<span class="hljs-number">123</span>)); <span class="hljs-comment">// true</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è·å–keyä¸º123çš„å€¼:'</span>, map.<span class="hljs-title function_">get</span>(<span class="hljs-number">123</span>)); <span class="hljs-comment">// 'æ•°å­—é”®'</span>

map.<span class="hljs-title function_">delete</span>(<span class="hljs-number">123</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åˆ é™¤åæŸ¥æ‰¾keyä¸º123:'</span>, map.<span class="hljs-title function_">has</span>(<span class="hljs-number">123</span>)); <span class="hljs-comment">// false</span>
</code></pre>
<h5 data-id="heading-12">5. å…è®¸æ‰¹é‡æ¸…é™¤ç­‰æ“ä½œ</h5>
<pre><code class="hljs language-javascript" lang="javascript">map.<span class="hljs-title function_">clear</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ¸…ç©ºåçš„å¤§å°:'</span>, map.<span class="hljs-property">size</span>); <span class="hljs-comment">// 0</span>
</code></pre>
<h3 data-id="heading-13">Object</h3>
<h4 data-id="heading-14">Objectçš„åŸºæœ¬ä½¿ç”¨</h4>
<p>åœ¨ JavaScript ä¸­ï¼Œæ˜¾å¼åœ°åˆ›å»º Object çš„å®ä¾‹æœ‰ä¸¤ç§æ–¹å¼ï¼šä¸€ç§æ˜¯ä½¿ç”¨ <code>new</code> å…³é”®å­—å’Œ <code>Object</code> æ„é€ å‡½æ•°ï¼›å¦ä¸€ç§æ˜¯ä½¿ç”¨<strong>å¯¹è±¡å­—é¢é‡</strong>è¡¨ç¤ºæ³•ã€‚</p>
<h5 data-id="heading-15"><code>new</code> å…³é”®å­—å’Œ <code>Object</code> æ„é€ å‡½æ•°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();
</code></pre>
<h5 data-id="heading-16">å¯¹è±¡å­—é¢é‡è¡¨ç¤ºæ³•</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = {};
</code></pre>
<h4 data-id="heading-17">Objectçš„æ ¸å¿ƒç‰¹æ€§</h4>
<h5 data-id="heading-18">1. é”®åªèƒ½æ˜¯å­—ç¬¦ä¸²æˆ–Symbol</h5>
<pre><code class="hljs language-javascript" lang="javascript">obj.<span class="hljs-property">string</span> = <span class="hljs-string">'å­—ç¬¦ä¸²é”®'</span>; <span class="hljs-comment">// é”®ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span>
obj[<span class="hljs-number">123</span>] = <span class="hljs-string">'æ•°å­—é”®'</span>;     <span class="hljs-comment">// æ•°å­—é”®ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸² '123'</span>
obj[<span class="hljs-literal">true</span>] = <span class="hljs-string">'å¸ƒå°”é”®'</span>;    <span class="hljs-comment">// å¸ƒå°”é”®ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸² 'true'</span>
obj[{}] = <span class="hljs-string">'å¯¹è±¡é”®'</span>;      <span class="hljs-comment">// å¯¹è±¡é”®ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸² '[object Object]'</span>
obj[[]] = <span class="hljs-string">'æ•°ç»„é”®'</span>;      <span class="hljs-comment">// æ•°ç»„é”®ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸² ''</span>
obj[<span class="hljs-literal">null</span>] = <span class="hljs-string">'nullé”®'</span>;    <span class="hljs-comment">// nullé”®ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸² 'null'</span>
obj[<span class="hljs-literal">undefined</span>] = <span class="hljs-string">'undefinedé”®'</span>; <span class="hljs-comment">// undefinedé”®ä¼šè¢«è½¬æ¢ä¸ºå­—ç¬¦ä¸² 'undefined'</span>
</code></pre>
<h5 data-id="heading-19">2. é¡ºåºé—®é¢˜ï¼ˆES6åå­—ç¬¦ä¸²é”®æŒ‰æ’å…¥é¡ºåºï¼Œä½†ä»æœ‰ç‰¹æ®Šæƒ…å†µï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj2 = {};
obj2[<span class="hljs-string">'2'</span>] = <span class="hljs-string">'two'</span>;
obj2[<span class="hljs-string">'1'</span>] = <span class="hljs-string">'one'</span>;
obj2[<span class="hljs-string">'10'</span>] = <span class="hljs-string">'ten'</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Objectéå†é¡ºåº:'</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> obj2) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key, <span class="hljs-string">'-'</span>, obj2[key]); <span class="hljs-comment">// 1 - one, 2 - two, 10 - ten</span>
    <span class="hljs-comment">// æ•°å­—å­—ç¬¦ä¸²é”®ä¼šè¢«æ’åºï¼</span>
}
</code></pre>
<h5 data-id="heading-20">3. å¤§å°éœ€è¦æ‰‹åŠ¨è®¡ç®—</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Objecté”®çš„æ•°é‡:'</span>, <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(obj).<span class="hljs-property">length</span>);
</code></pre>
<h5 data-id="heading-21">4. ç»§æ‰¿çš„å±æ€§å’Œæ–¹æ³•</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'toString'</span> <span class="hljs-keyword">in</span> obj); <span class="hljs-comment">// trueï¼ˆæ¥è‡ªåŸå‹é“¾ï¼‰</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">'toString'</span>)); <span class="hljs-comment">// false</span>
</code></pre>
<h3 data-id="heading-22">ä½•æ—¶é€‰æ‹©Mapï¼Ÿä½•æ—¶é€‰æ‹©Objectï¼Ÿ</h3>
<h4 data-id="heading-23">åœºæ™¯1ï¼šé”®æ˜¯åŠ¨æ€çš„ï¼Œä¸”ç±»å‹å¤šæ ·çš„ï¼šä½¿ç”¨Map</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DynamicKeyRegistry</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">registry</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    }
    
    <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">registry</span>.<span class="hljs-title function_">set</span>(key, value);
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
    }
    
    <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">registry</span>.<span class="hljs-title function_">get</span>(key);
    }
    
    <span class="hljs-comment">// å¯ä»¥å­˜å‚¨ä»»ä½•ç±»å‹çš„é”®</span>
    <span class="hljs-title function_">registerComponent</span>(<span class="hljs-params">component</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">registry</span>.<span class="hljs-title function_">set</span>(component, {
            <span class="hljs-attr">mounted</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">instances</span>: []
        });
    }
}
</code></pre>
<h4 data-id="heading-24">åœºæ™¯2ï¼šéœ€è¦é¢‘ç¹å¢åˆ é”®å€¼å¯¹ï¼šä½¿ç”¨Map</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cache</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">capacity</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">capacity</span> = capacity;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(); <span class="hljs-comment">// Mapä¿æŒæ’å…¥é¡ºåº</span>
    }
    
    <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">has</span>(key)) <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">get</span>(key);
    }
    
    <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">has</span>(key)) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">delete</span>(key);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-property">size</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">capacity</span>) {
            <span class="hljs-comment">// åˆ é™¤æœ€æ—§çš„ï¼ˆMapç¬¬ä¸€ä¸ªé”®ï¼‰</span>
            <span class="hljs-keyword">const</span> oldestKey = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">keys</span>().<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">delete</span>(oldestKey);
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">set</span>(key, value);
    }
}
</code></pre>
<h4 data-id="heading-25">åœºæ™¯3ï¼šJSONæ•°æ®ã€é…ç½®å¯¹è±¡ã€çº¯æ•°æ®å­˜å‚¨ï¼šä½¿ç”¨Object</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> user = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">'zhangsan@example.com'</span>,
    <span class="hljs-comment">// å¯ä»¥è¢«JSON.stringifyç›´æ¥åºåˆ—åŒ–</span>
    <span class="hljs-comment">// å¯ä»¥è¢«è§£æ„èµ‹å€¼</span>
    <span class="hljs-comment">// è¯­æ³•æ›´ç®€æ´</span>
};
</code></pre>
<h4 data-id="heading-26">åœºæ™¯4ï¼šéœ€è¦åŸå‹ç»§æ‰¿ã€æ–¹æ³•å…±äº«ï¼šä½¿ç”¨Object</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    }
    
    <span class="hljs-title function_">eat</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span> is eating`</span>);
    }
}

<span class="hljs-comment">// ç»§æ‰¿å’ŒåŸå‹é“¾æ˜¯Objectçš„å¼ºé¡¹</span>
<span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>(<span class="hljs-string">'Dog'</span>);
dog.<span class="hljs-title function_">eat</span>();
</code></pre>
<h2 data-id="heading-27">Set vs Arrayï¼šé›†åˆæ“ä½œçš„è‰ºæœ¯</h2>
<h3 data-id="heading-28">Set</h3>
<h4 data-id="heading-29">Setçš„åŸºæœ¬ä½¿ç”¨</h4>
<p>ä½¿ç”¨ <code>new</code> å…³é”®å­—å’Œ <code>Set</code> æ„é€ å‡½æ•°ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç©ºçš„ Set é›†åˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
</code></pre>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨åˆ›å»ºçš„æ—¶å€™ï¼ŒåŒæ—¶åˆå§‹åŒ–å®ä¾‹ï¼Œåªéœ€è¦ç»™ Set æ„é€ å‡½æ•°ä¼ å…¥ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡å³å¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);
</code></pre>
<h4 data-id="heading-30">Setçš„æ ¸å¿ƒç‰¹æ€§</h4>
<h5 data-id="heading-31">1. è‡ªåŠ¨å»é‡ä¸å¤§å°è®¡ç®—</h5>
<pre><code class="hljs language-javascript" lang="javascript">set.<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>);
set.<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>);
set.<span class="hljs-title function_">add</span>(<span class="hljs-number">3</span>);
set.<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// é‡å¤ï¼Œä¸ä¼šæ·»åŠ </span>
set.<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// é‡å¤ï¼Œä¸ä¼šæ·»åŠ </span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Setå†…å®¹:'</span>, set); <span class="hljs-comment">// Set(3) {1, 2, 3}</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Setå¤§å°:'</span>, set.<span class="hljs-property">size</span>); <span class="hljs-comment">// 3</span>
</code></pre>
<h5 data-id="heading-32">2. æ”¯æŒä»»æ„ç±»å‹çš„å€¼</h5>
<pre><code class="hljs language-javascript" lang="javascript">set.<span class="hljs-title function_">add</span>(<span class="hljs-string">'string'</span>);
set.<span class="hljs-title function_">add</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'obj'</span> });
set.<span class="hljs-title function_">add</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);
set.<span class="hljs-title function_">add</span>(<span class="hljs-literal">null</span>);
set.<span class="hljs-title function_">add</span>(<span class="hljs-literal">undefined</span>);
set.<span class="hljs-title function_">add</span>(<span class="hljs-title class_">NaN</span>);
set.<span class="hljs-title function_">add</span>(<span class="hljs-title class_">NaN</span>); <span class="hljs-comment">// NaNåœ¨Setä¸­ä¹Ÿè¢«è§†ä¸ºç›¸åŒå€¼</span>
</code></pre>
<h5 data-id="heading-33">3. é«˜æ•ˆçš„æˆå‘˜æ£€æŸ¥</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ˜¯å¦åŒ…å«1:'</span>, set.<span class="hljs-title function_">has</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// true</span>
</code></pre>
<h5 data-id="heading-34">4. é›†åˆè¿ç®—ï¼šå¹¶é›† &amp; äº¤é›† &amp; å·®é›†</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> setA = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);
<span class="hljs-keyword">const</span> setB = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]);

<span class="hljs-comment">// å¹¶é›†</span>
<span class="hljs-keyword">const</span> union = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...setA, ...setB]);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¹¶é›†:'</span>, union); <span class="hljs-comment">// Set(6) {1, 2, 3, 4, 5, 6}</span>

<span class="hljs-comment">// äº¤é›†</span>
<span class="hljs-keyword">const</span> intersection = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...setA].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> setB.<span class="hljs-title function_">has</span>(x)));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'äº¤é›†:'</span>, intersection); <span class="hljs-comment">// Set(2) {3, 4}</span>

<span class="hljs-comment">// å·®é›†ï¼ˆA - Bï¼‰</span>
<span class="hljs-keyword">const</span> difference = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...setA].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> !setB.<span class="hljs-title function_">has</span>(x)));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å·®é›†(A-B):'</span>, difference); <span class="hljs-comment">// Set(2) {1, 2}</span>
</code></pre>
<h5 data-id="heading-35">ä¸Arrayäº’è½¬</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);
<span class="hljs-keyword">const</span> arrFromSet = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(set);

<span class="hljs-keyword">const</span> setFromArr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]);
</code></pre>
<h3 data-id="heading-36">Array</h3>
<h4 data-id="heading-37">Arrayçš„åŸºæœ¬ä½¿ç”¨</h4>
<p>åœ¨ JavaScript ä¸­ï¼Œåˆ›å»º Array çš„å®ä¾‹æœ‰ä¸¤ç§æ–¹å¼ï¼šä¸€ç§æ˜¯ä½¿ç”¨ <code>new</code> å…³é”®å­—å’Œ <code>Array</code> æ„é€ å‡½æ•°ï¼›å¦ä¸€ç§æ˜¯ä½¿ç”¨<strong>æ•°ç»„å­—é¢é‡</strong>è¡¨ç¤ºæ³•ã€‚</p>
<h5 data-id="heading-38"><code>new</code> å…³é”®å­—å’Œ <code>Array</code> æ„é€ å‡½æ•°</h5>
<p>ä½¿ç”¨ <code>new</code> å…³é”®å­—å’Œ <code>Array</code> æ„é€ å‡½æ•°ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªç©ºçš„ Array æ•°ç»„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>();
</code></pre>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨åˆ›å»ºçš„æ—¶å€™ï¼ŒåŒæ—¶åˆå§‹åŒ–å®ä¾‹ï¼Œåªéœ€è¦ç»™ Set æ„é€ å‡½æ•°ä¼ å…¥ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡å³å¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">10</span> , <span class="hljs-number">20</span>, <span class="hljs-number">30</span>);
</code></pre>
<blockquote>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šå½“æˆ‘ä»¬ä½¿ç”¨ <code>new Array(10 , 20, 30);</code> è¿™ç§æ–¹å¼åˆ›å»ºæ•°ç»„æ—¶ï¼Œæ•°ç»„å€¼ä¸º <code>[10,20,30]</code> ï¼›ä½†å½“å‚æ•°åªæœ‰ä¸€ä¸ªæ—¶ï¼š <code>new Array(10);</code> è¿™æ—¶å€™ä¼šåˆ›å»ºä¸€ä¸ª<strong>é•¿åº¦ä¸º10çš„æ•°ç»„</strong>ã€‚</p>
</blockquote>
<h5 data-id="heading-39">æ•°ç»„å­—é¢é‡è¡¨ç¤ºæ³•</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
</code></pre>
<h4 data-id="heading-40">Arrayçš„æ ¸å¿ƒç‰¹æ€§</h4>
<h5 data-id="heading-41">1. å…è®¸é‡å¤å’Œç›´æ¥è®¡ç®—å¤§å°</h5>
<pre><code class="hljs language-javascript" lang="javascript">arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">1</span>);
arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">2</span>);
arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">3</span>);
arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// å…è®¸é‡å¤</span>
arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">2</span>); <span class="hljs-comment">// å…è®¸é‡å¤</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Arrayå†…å®¹:'</span>, arr); <span class="hljs-comment">// [1, 2, 3, 1, 2]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Arrayé•¿åº¦:'</span>, arr.<span class="hljs-property">length</span>); <span class="hljs-comment">// 5</span>
</code></pre>
<h5 data-id="heading-42">2. ä¸°å¯Œçš„æ•°ç»„æ–¹æ³• - ä¼šæ”¹å˜åŸæ•°ç»„</h5>
<h6 data-id="heading-43">å¡«å……fill()æ–¹æ³•</h6>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">5</span>);
arr.<span class="hljs-title function_">fill</span>(<span class="hljs-number">5</span>); <span class="hljs-comment">// [5, 5, 5, 5, 5]</span>
</code></pre>
<h6 data-id="heading-44">æ ˆæ–¹æ³• push() å’Œ pop()</h6>
<ul>
<li>push() æ–¹æ³•ç”¨äºæ•°ç»„æ¨¡æ‹Ÿåœ¨æ ˆé¡¶çš„å…¥æ ˆæ“ä½œï¼Œå®ƒæ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°æ•°ç»„æœ«å°¾ã€‚</li>
<li>pop() æ–¹æ³•ç”¨äºæ•°ç»„æ¨¡æ‹Ÿåœ¨æ ˆé¡¶çš„å‡ºæ ˆæ“ä½œï¼Œå®ƒä¸æ¥æ”¶ä»»ä½•å‚æ•°ï¼Œç”¨äºåˆ é™¤æ•°ç»„çš„æœ€åä¸€é¡¹ã€‚</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">6</span>, <span class="hljs-number">7</span>); <span class="hljs-comment">// [1, 2, 3, 4, 5, 6, 7]</span>
arr.<span class="hljs-title function_">pop</span>(); <span class="hljs-comment">// [1, 2, 3, 4, 5, 6]</span>
</code></pre>
<h6 data-id="heading-45">é˜Ÿåˆ—æ–¹æ³• shift() å’Œ unshift()</h6>
<ul>
<li>shift() æ–¹æ³•ç”¨äºæ•°ç»„æ¨¡å¼åœ¨é˜Ÿåˆ—å¤´éƒ¨å‡ºé˜Ÿæ“ä½œï¼Œå®ƒä¸æ¥æ”¶ä»»ä½•å‚æ•°ï¼Œç”¨äºåˆ é™¤æ•°ç»„çš„ç¬¬ä¸€é¡¹ã€‚</li>
<li>unshift() æ–¹æ³•ç”¨äºæ•°ç»„æ¨¡æ‹Ÿåœ¨é˜Ÿåˆ—å¤´éƒ¨çš„å…¥é˜Ÿæ“ä½œï¼Œå®ƒæ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°æ•°ç»„å¤´éƒ¨ã€‚</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
arr.<span class="hljs-title function_">unshift</span>()(<span class="hljs-number">6</span>, <span class="hljs-number">7</span>); <span class="hljs-comment">// [6, 7, 1, 2, 3, 4, 5]</span>
arr.<span class="hljs-title function_">shift</span>(); <span class="hljs-comment">// [7, 1, 2, 3, 4, 5]</span>
</code></pre>
<h6 data-id="heading-46">æ’åºæ–¹æ³• sort() å’Œ reverse()</h6>
<ul>
<li>sort() æ–¹æ³•ç”¨äºå¯¹æ•°ç»„è¿›è¡Œå‡åºæ’åº</li>
<li>reverse() æ–¹æ³•ç”¨äºå¯¹æ•°ç»„è¿›è¡Œé™åºæ’åº</li>
</ul>
<h6 data-id="heading-47">å¼ºå¤§çš„splice()</h6>
<p>splice() æ–¹æ³•åº”è¯¥å±äºæ•°ç»„ä¸­æœ€å¼ºå¤§çš„æ–¹æ³•äº†ï¼Œå¯ä»¥æ¥å— 2 ä¸ªåŠ 2 ä¸ªä»¥ä¸Šçš„å‚æ•°ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œç¬¬ 1 ä¸ªå‚æ•°è¡¨ç¤ºè¦è¿›è¡Œæ“ä½œçš„å¼€å§‹ä½ç½®ï¼Œç¬¬ 2 ä¸ªå‚æ•°è¡¨ç¤ºè¦åˆ é™¤çš„å…ƒç´ æ•°é‡ï¼Œç¬¬ 3 ä¸ªåŠä»¥åå¾—æ‰€æœ‰å‚æ•°ï¼Œéƒ½è¡¨ç¤ºä¸ºè¦æ–°æ’å…¥çš„å…ƒç´ ã€‚å› æ­¤ï¼Œè¯¥æ–¹æ³•å¯ä»¥æ ¹æ®å‚æ•°çš„ä¸åŒï¼Œå¯ä»¥å®ç°åˆ é™¤ã€æ’å…¥ã€æ›¿æ¢ç­‰æ“ä½œï¼š</p>
<ol>
<li>åˆ é™¤ï¼šéœ€è¦ä¼ é€’ 2 ä¸ªå‚æ•°ï¼Œæ¯”å¦‚ï¼š<code>arr.splice(0, 2)</code> ä¼šåˆ é™¤å‰2ä¸ªå…ƒç´ ã€‚</li>
<li>æ’å…¥ï¼šéœ€è¦ä¼ é€’ 3 ä¸ªæˆ– 3 ä¸ªä»¥ä¸Šçš„å‚æ•°ï¼Œä¸”ç¬¬äºŒä¸ªå‚æ•°ä¸€å®šä¸º 0ï¼Œæ¯”å¦‚ï¼š<code>arr.splice(2, 0, 1, 2, 3)</code> ä¼šä»ç¬¬äºŒä¸ªä½ç½®å¼€å§‹ï¼Œå¾€åæ’å…¥ <code>1, 2, 3</code> ä¸‰ä¸ªå…ƒç´ ã€‚</li>
<li>æ›¿æ¢ï¼šåŒæ ·éœ€è¦ä¼ é€’ 3 ä¸ªæˆ– 3 ä¸ªä»¥ä¸Šçš„å‚æ•°ï¼Œè¡¨ç¤ºä¸ºä»å¼€å§‹ä½ç½®ï¼Œåˆ é™¤å¤šå°‘ä¸ªå…ƒç´ åï¼Œå†æ’å…¥å…ƒç´ æ•°æ®ã€‚</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
arr.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);  <span class="hljs-comment">// ä»ç´¢å¼•1å¼€å§‹åˆ é™¤2ä¸ªå…ƒç´ (2ï¼Œ 3)ï¼Œç»“æœä¸ºï¼š[1, 4, 5]</span>
arr.<span class="hljs-title function_">splice</span>(<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>);  <span class="hljs-comment">// ä»ç´¢å¼•2å¼€å§‹æ’å…¥'a'å’Œ'b'ï¼Œç»“æœä¸ºï¼š[1, 4, 'a', 'b', 5]</span>
arr.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-string">'c'</span>);  <span class="hljs-comment">// ä»ç´¢å¼•1å¼€å§‹åˆ é™¤2ä¸ªå…ƒç´ (4, 'a')ï¼Œå†æ’å…¥'c'ï¼Œ[1, 'c', 'b', 5]</span>
</code></pre>
<blockquote>
<p>æ³¨ï¼šä»¥ä¸Šæ‰€æœ‰æ–¹æ³•å‡ä¼šæ”¹å˜åŸæ•°ç»„ã€‚</p>
</blockquote>
<h5 data-id="heading-48">3. ä¸°å¯Œçš„æ•°ç»„æ–¹æ³• - ä¸ä¼šæ”¹å˜åŸæ•°ç»„</h5>
<h6 data-id="heading-49">æ•°ç»„è¿æ¥æ–¹æ³•concat()</h6>
<p>concat() æ–¹æ³•ç”¨äºå°†ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ç›¸è¿æ¥ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
<span class="hljs-keyword">const</span> arr2 = [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
<span class="hljs-keyword">const</span> arr3 = arr1.<span class="hljs-title function_">concat</span>(arr2); <span class="hljs-comment">//[1, 2, 3, 4, 5]</span>
</code></pre>
<h6 data-id="heading-50">æ•°ç»„æˆªå–æ–¹æ³•slice()</h6>
<p>slice() æ–¹æ³•å¯ä»¥æ¥æ”¶1ä¸ªæˆ–2ä¸ªå‚æ•°ï¼šå½“å‚æ•°åªæœ‰1ä¸ªæ—¶ï¼Œslice() æ–¹æ³•ä¼šè¿”å›ä»è¯¥ç´¢å¼•åˆ°æ•°ç»„æœ«å°¾çš„æ‰€æœ‰å…ƒç´ ï¼›å½“å‚æ•°æœ‰2ä¸ªæ—¶ï¼Œslice() æ–¹æ³•ä¼šè¿”å›ä»å¼€å§‹ç´¢å¼•ï¼ˆç¬¬1ä¸ªå‚æ•°ï¼‰åˆ°ç»“æŸç´¢å¼•ï¼ˆç¬¬2ä¸ªå‚æ•°ï¼‰ä¹‹é—´çš„æ‰€æœ‰å…ƒç´ ï¼ˆä¸åŒ…æ‹¬ç»“æŸç´¢å¼•çš„å€¼ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-title function_">slice</span>(<span class="hljs-number">3</span>));  <span class="hljs-comment">// [4, 5]</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>)); <span class="hljs-comment">// [0, 1]</span>
</code></pre>
<h6 data-id="heading-51">ä¸¥æ ¼ç›¸ç­‰æŸ¥æ‰¾indexOf()ã€lastIndexOf() å’Œ includes()</h6>
<p>è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½æ˜¯ç”¨äºåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„æ–¹æ³•ï¼Œå®ƒä»¬éƒ½å¯ä»¥æ¥æ”¶ 1 ä¸ªæˆ– 2 ä¸ªå‚æ•°ï¼šç¬¬ 1 ä¸ªå‚æ•°è¡¨ç¤ºè¦æŸ¥æ‰¾çš„å…ƒç´ ï¼›ç¬¬ 2 ä¸ªå‚æ•°å¯é€‰ï¼Œè¡¨ç¤ºè¦ä»å“ªä¸ªä½ç½®å¼€å§‹æ‰¾ï¼ˆä¸å¡«é»˜è®¤ä»ä½ç½® 0 ï¼Œå³å…¨æ•°ç»„æŸ¥æ‰¾ï¼‰ã€‚</p>
<ul>
<li>indexOf() å’Œ includes() éƒ½æ˜¯ä»æ•°ç»„å¼€å¤´è¿›è¡ŒæŸ¥æ‰¾ï¼Œè€Œ lastIndexOf() æ˜¯ä»æ•°ç»„æœ«å°¾å¼€å§‹æŸ¥æ‰¾ã€‚</li>
<li>indexOf() å’Œ lastIndexOf() ä¼šè¿”å›è¦æŸ¥æ‰¾çš„å…ƒç´ åœ¨æ•°ç»„ä¸­å—çš„ç´¢å¼•ä½ç½®ï¼Œä¸å­˜åœ¨è¯¥å…ƒç´ åˆ™è¿”å› -1 ï¼›includes() åˆ™æ˜¯è¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°åŒ¹é…é¡¹ã€‚</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>];
arr.<span class="hljs-title function_">indexOf</span>(<span class="hljs-number">1</span>);  <span class="hljs-comment">// 0</span>
arr.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// 5</span>
arr.<span class="hljs-title function_">includes</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// true</span>

arr.<span class="hljs-title function_">indexOf</span>(<span class="hljs-number">6</span>);  <span class="hljs-comment">// -1</span>
arr.<span class="hljs-title function_">lastIndexOf</span>(<span class="hljs-number">6</span>); <span class="hljs-comment">// -1</span>
arr.<span class="hljs-title function_">includes</span>(<span class="hljs-number">6</span>); <span class="hljs-comment">// false</span>
</code></pre>
<blockquote>
<p>æ³¨ï¼šä»¥ä¸Šä¸‰ä¸ªæ–¹æ³•ï¼Œåœ¨è¿›è¡Œæ•°ç»„åŒ¹é…æŸ¥æ‰¾æ—¶ï¼Œä¼šä½¿ç”¨å…¨ç­‰ï¼ˆ===ï¼‰è¿›è¡Œæ¯”è¾ƒï¼Œä¹Ÿå°±æ˜¯ä¸¤é¡¹å¿…é¡»ä¸¥æ ¼ç›¸ç­‰ï¼Œå› æ­¤ä¸€èˆ¬ç”¨äºç®€å•åŸºæœ¬æ•°æ®ç±»å‹çš„æ•°ç»„æŸ¥æ‰¾ï¼›å¯¹è±¡æ•°ç»„é€šè¿‡ä»¥ä¸Šæ–¹æ³•æ— æ³•æŸ¥æ‰¾ï¼ˆå› ä¸ºå®ƒä»¬åœ¨æŸ¥æ‰¾æ¯”å¯¹æ—¶ï¼Œå¯¹æ¯”çš„æ˜¯å¼•ç”¨åœ°å€ï¼‰ã€‚</p>
</blockquote>
<h6 data-id="heading-52">æ–­è¨€æŸ¥æ‰¾find() å’Œ findIndex()</h6>
<ul>
<li>find()ï¼šæŸ¥æ‰¾å¹¶è¿”å›æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™è¿”å› undefinedã€‚</li>
<li>findIndex()ï¼šæŸ¥æ‰¾å¹¶è¿”å›æ•°ç»„ä¸­ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ å€¼çš„ç´¢å¼•åœ°å€ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™è¿”å› -1 ã€‚</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'zhangsan'</span>,
      <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>
    },
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'lisi'</span>,
      <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>
    }
];

arr.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">age</span> &gt; <span class="hljs-number">18</span>);  <span class="hljs-comment">// { name: 'lisi', age: 20 }</span>
arr.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">age</span> &gt; <span class="hljs-number">18</span>);  <span class="hljs-comment">// 1</span>
</code></pre>
<h6 data-id="heading-53">è¿­ä»£æ–¹æ³•forEach()ã€map()ã€filter()ã€every()ã€some()</h6>
<p>JavaScript ä¸­ï¼Œä¸ºæ•°ç»„å®šä¹‰äº† 5 ä¸ªè¿­ä»£æ–¹æ³•ï¼š</p>
<ul>
<li>forEach()ï¼šä¾æ¬¡éå†æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œæ²¡æœ‰è¿”å›å€¼ã€‚</li>
<li>map()ï¼šå°†æ•°ç»„çš„æ¯ä¸ªå…ƒç´ æŒ‰ç…§ä¸€å®šè§„åˆ™è½¬æ¢æˆæ–°å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚</li>
<li>filter()ï¼šæŒ‰ä¸€å®šè§„åˆ™è¿‡æ»¤æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œè¿”å›æ»¡è¶³è§„åˆ™çš„å…ƒç´ ã€‚</li>
<li>every()ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½è¿›è¡Œå‡½æ•°å¤„ç†åˆ¤æ–­ï¼Œå¦‚æœæ•°ç»„ä¸­æ¯ä¸€ä¸ªå…ƒç´ çš„åˆ¤æ–­å€¼éƒ½ä¸º trueï¼Œåˆ™è¿™ä¸ªæ–¹æ³•çš„è¿”å›ç»“æœæ˜¯ trueï¼›å¦åˆ™è¿”å› falseã€‚</li>
<li>some()ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½è¿›è¡Œå‡½æ•°å¤„ç†åˆ¤æ–­ï¼Œåªè¦æ•°ç»„ä¸­æœ‰ä¸€ä¸ªå…ƒç´ çš„åˆ¤æ–­å€¼ä¸º trueï¼Œåˆ™è¿™ä¸ªæ–¹æ³•çš„è¿”å›ç»“æœæ˜¯ trueï¼›å¦åˆ™è¿”å› falseã€‚</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];

<span class="hljs-keyword">const</span> mapRes = arr.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> num * <span class="hljs-number">2</span>);  <span class="hljs-comment">// [2, 4, 6, 8, 10]</span>
<span class="hljs-keyword">const</span> filtered = arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> num % <span class="hljs-number">2</span> === <span class="hljs-number">0</span>);  <span class="hljs-comment">// [2, 4]</span>
<span class="hljs-keyword">const</span> everyRes = arr.<span class="hljs-title function_">every</span>(<span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> num &gt; <span class="hljs-number">0</span>);  <span class="hljs-comment">// true</span>
<span class="hljs-keyword">const</span> someRes = arr.<span class="hljs-title function_">some</span>(<span class="hljs-function">(<span class="hljs-params">num</span>) =&gt;</span> num &gt; <span class="hljs-number">4</span>);  <span class="hljs-comment">// true</span>
</code></pre>
<blockquote>
<p>æ³¨ï¼šä»¥ä¸Šæ–¹æ³•æœ¬è´¨æ˜¯ä¸ä¼šæ›´æ”¹åŸæ•°ç»„ä¸­ï¼Œä½†å¦‚æœåœ¨æ–¹æ³•ä½“å†…éƒ¨å¯¹åŸæ•°ç»„è¿›è¡Œäº†æ›´æ”¹ï¼Œä¹Ÿæ˜¯ä¼šå¯¹åŸæ•°ç»„äº§ç”Ÿå½±å“çš„ï¼Œçœ‹ä¸‹é¢ä¸€æ®µä»£ç ç¤ºä¾‹ï¼š</p>
</blockquote>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
array.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> {
  arr[index] = item + <span class="hljs-number">1</span>;  <span class="hljs-comment">// å¼€å‘ä¸­ï¼Œè¦é¿å…è¿™ç§å†™æ³•</span>
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);  <span class="hljs-comment">// [2, 3, 4, 5, 6]</span>
</code></pre>
<h6 data-id="heading-54">å½’å¹¶æ–¹æ³•reduce()</h6>
<p>reduce() æ–¹æ³•ä¼šè¿­ä»£æ•°ç»„çš„æ‰€æœ‰é¡¹ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ„å»ºä¸€ä¸ªæœ€ç»ˆçš„è¿”å›å€¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>];
<span class="hljs-keyword">const</span> sum = arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, cur</span>) =&gt;</span> acc + cur, <span class="hljs-number">0</span>);  <span class="hljs-comment">// 15</span>
</code></pre>
<h3 data-id="heading-55">ä½•æ—¶é€‰æ‹©Setï¼Ÿä½•æ—¶é€‰æ‹©Arrayï¼Ÿ</h3>
<h4 data-id="heading-56">åœºæ™¯1ï¼šéœ€è¦å¿«é€Ÿæˆå‘˜æ£€æŸ¥ï¼šä½¿ç”¨Set</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PermissionSystem</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç”¨æˆ·æƒé™é›†åˆï¼ˆå¿«é€ŸæŸ¥æ‰¾ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userPermissions</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
  }

  <span class="hljs-comment">// æ·»åŠ æƒé™</span>
  <span class="hljs-title function_">grantPermission</span>(<span class="hljs-params">permission</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userPermissions</span>.<span class="hljs-title function_">add</span>(permission);
  }

  <span class="hljs-comment">// æ£€æŸ¥æƒé™ - Set O(1) æ—¶é—´å¤æ‚åº¦</span>
  <span class="hljs-title function_">hasPermission</span>(<span class="hljs-params">permission</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">userPermissions</span>.<span class="hljs-title function_">has</span>(permission);
  }

  <span class="hljs-comment">// æ‰¹é‡æ£€æŸ¥æƒé™ - O(n) æ—¶é—´å¤æ‚åº¦</span>
  <span class="hljs-title function_">hasAllPermissions</span>(<span class="hljs-params">requiredPermissions</span>) {
    <span class="hljs-keyword">return</span> requiredPermissions.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">permission</span> =&gt;</span> 
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">userPermissions</span>.<span class="hljs-title function_">has</span>(permission)
    );
  }
}
</code></pre>
<h4 data-id="heading-57">åœºæ™¯2ï¼šéœ€è¦å»é‡ï¼šä½¿ç”¨Set</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> duplicateIds = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>, <span class="hljs-number">5</span>];

<span class="hljs-comment">// ä½¿ç”¨ Set å»é‡ï¼ˆä¸€è¡Œä»£ç ï¼‰</span>
<span class="hljs-keyword">const</span> uniqueIds = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(duplicateIds)]; <span class="hljs-comment">// [1, 2, 3, 4, 5]</span>
</code></pre>
<h4 data-id="heading-58">åœºæ™¯3ï¼šæ•°å­¦é›†åˆè¿ç®—ï¼šä½¿ç”¨Set</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SocialNetwork</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  }

  <span class="hljs-comment">// å¹¶é›†ï¼šå…±åŒå¥½å‹ + å„è‡ªçš„å¥½å‹</span>
  <span class="hljs-title function_">getUnionOfFriends</span>(<span class="hljs-params">userId1, userId2</span>) {
    <span class="hljs-keyword">const</span> friends1 = <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">get</span>(userId1) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    <span class="hljs-keyword">const</span> friends2 = <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">get</span>(userId2) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    
    <span class="hljs-comment">// å¹¶é›†è¿ç®—</span>
    <span class="hljs-keyword">const</span> union = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([...friends1, ...friends2]);
    <span class="hljs-keyword">return</span> [...union];
  }

  <span class="hljs-comment">// äº¤é›†ï¼šå…±åŒå¥½å‹</span>
  <span class="hljs-title function_">getIntersectionOfFriends</span>(<span class="hljs-params">userId1, userId2</span>) {
    <span class="hljs-keyword">const</span> friends1 = <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">get</span>(userId1) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    <span class="hljs-keyword">const</span> friends2 = <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">get</span>(userId2) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    
    <span class="hljs-comment">// äº¤é›†è¿ç®—</span>
    <span class="hljs-keyword">const</span> intersection = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(
      [...friends1].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">friend</span> =&gt;</span> friends2.<span class="hljs-title function_">has</span>(friend))
    );
    <span class="hljs-keyword">return</span> [...intersection];
  }

  <span class="hljs-comment">// å·®é›†ï¼šAæœ‰ä½†Bæ²¡æœ‰çš„å¥½å‹</span>
  <span class="hljs-title function_">getDifferenceOfFriends</span>(<span class="hljs-params">userId1, userId2</span>) {
    <span class="hljs-keyword">const</span> friends1 = <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">get</span>(userId1) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    <span class="hljs-keyword">const</span> friends2 = <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">get</span>(userId2) || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    
    <span class="hljs-comment">// å·®é›†è¿ç®—</span>
    <span class="hljs-keyword">const</span> difference = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(
      [...friends1].<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">friend</span> =&gt;</span> !friends2.<span class="hljs-title function_">has</span>(friend))
    );
    <span class="hljs-keyword">return</span> [...difference];
  }
}
</code></pre>
<h4 data-id="heading-59">åœºæ™¯4ï¼šæœ‰åºæ•°æ®ã€éœ€è¦ç´¢å¼•è®¿é—®ã€ä¸°å¯Œæ•°ç»„æ“ä½œï¼šä½¿ç”¨Array</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ShoppingCart</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span> = [];  <span class="hljs-comment">// ä½¿ç”¨ Arrayï¼šéœ€è¦ä¿æŒé¡ºåºã€ç´¢å¼•è®¿é—®ã€å„ç§æ•°ç»„æ–¹æ³•</span>
  }

  <span class="hljs-comment">// æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦ï¼ˆä¿æŒæ·»åŠ é¡ºåºï¼‰</span>
  <span class="hljs-title function_">addItem</span>(<span class="hljs-params">product, quantity = <span class="hljs-number">1</span></span>) {
    <span class="hljs-keyword">const</span> existingItemIndex = <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">findIndex</span>(
      <span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> === product.<span class="hljs-property">id</span>
    );
    
    <span class="hljs-keyword">if</span> (existingItemIndex !== -<span class="hljs-number">1</span>) {
      <span class="hljs-comment">// æ›´æ–°å·²æœ‰å•†å“æ•°é‡</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>[existingItemIndex].<span class="hljs-property">quantity</span> += quantity;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// æ·»åŠ æ–°å•†å“</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>({
        ...product,
        quantity,
        <span class="hljs-attr">addedAt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>() <span class="hljs-comment">// è®°å½•æ·»åŠ æ—¶é—´</span>
      });
    }
  }

  <span class="hljs-comment">// æŒ‰ç´¢å¼•ç§»é™¤å•†å“</span>
  <span class="hljs-title function_">removeItem</span>(<span class="hljs-params">index</span>) {
    <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0</span> &amp;&amp; index &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-property">length</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>)[<span class="hljs-number">0</span>];
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }

  <span class="hljs-comment">// æŒ‰å•†å“IDç§»é™¤</span>
  <span class="hljs-title function_">removeItemById</span>(<span class="hljs-params">productId</span>) {
    <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">id</span> === productId);
    <span class="hljs-keyword">if</span> (index !== -<span class="hljs-number">1</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">removeItem</span>(index);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }

  <span class="hljs-comment">// ç­›é€‰ï¼šæŒ‰ä»·æ ¼èŒƒå›´</span>
  <span class="hljs-title function_">filterByPriceRange</span>(<span class="hljs-params">min, max</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> 
      item.<span class="hljs-property">price</span> &gt;= min &amp;&amp; item.<span class="hljs-property">price</span> &lt;= max
    );
  }

  <span class="hljs-comment">// åˆ†é¡µè·å–å•†å“</span>
  <span class="hljs-title function_">getItemsPaginated</span>(<span class="hljs-params">page = <span class="hljs-number">1</span>, pageSize = <span class="hljs-number">5</span></span>) {
    <span class="hljs-keyword">const</span> startIndex = (page - <span class="hljs-number">1</span>) * pageSize;
    <span class="hljs-keyword">const</span> endIndex = startIndex + pageSize;
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>.<span class="hljs-title function_">slice</span>(startIndex, endIndex);
  }
}
</code></pre>
<h2 data-id="heading-60">WeakMapä¸WeakSetï¼šå¼±å¼•ç”¨çš„è‰ºæœ¯</h2>
<h3 data-id="heading-61">WeakMapï¼šå¼±å¼•ç”¨çš„é”®å€¼å¯¹</h3>
<p>WeakMap æ˜¯ Map çš„â€œå…„å¼Ÿâ€ç±»å‹ï¼Œå…¶ API ä¹Ÿæ˜¯ Map çš„å­é›†ã€‚ WeakMap ä¸­çš„ â€œweakâ€ æè¿°çš„æ˜¯JavaScript åƒåœ¾å›æ”¶æœºåˆ¶ä¸­å¯¹å¾…â€œå¼±æ˜ å°„â€ä¸­é”®çš„æ–¹å¼ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> weakMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();
</code></pre>
<h4 data-id="heading-62">WeakMapçš„åŸºæœ¬ç‰¹æ€§</h4>
<h5 data-id="heading-63">1. é”®å¿…é¡»æ˜¯å¯¹è±¡ï¼ˆä¸èƒ½æ˜¯åŸå§‹å€¼ï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj1 = { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span> };
<span class="hljs-keyword">const</span> obj2 = { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span> };
<span class="hljs-keyword">const</span> obj3 = { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span> };

weakMap.<span class="hljs-title function_">set</span>(obj1, <span class="hljs-string">'value1'</span>);
weakMap.<span class="hljs-title function_">set</span>(obj2, <span class="hljs-string">'value2'</span>);
weakMap.<span class="hljs-title function_">set</span>(obj3, <span class="hljs-string">'value3'</span>);
</code></pre>
<h5 data-id="heading-64">2. ä¸èƒ½è®¡ç®—å¤§å°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è®¾ç½®åweakMap:'</span>, weakMap); <span class="hljs-comment">// &lt;items unknown&gt; </span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(weakMap.<span class="hljs-property">size</span>); <span class="hljs-comment">// undefined æ— æ³•è·å–size</span>
</code></pre>
<h5 data-id="heading-65">3. é”®æ˜¯å¼±å¼•ç”¨ï¼ˆä¸ä¼šé˜»æ­¢åƒåœ¾å›æ”¶ï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript">{
    <span class="hljs-keyword">let</span> tempObj = { <span class="hljs-attr">id</span>: <span class="hljs-string">'temp'</span> };
    weakMap.<span class="hljs-title function_">set</span>(tempObj, <span class="hljs-string">'temp value'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸´æ—¶å¯¹è±¡è®¾ç½®å:'</span>, weakMap.<span class="hljs-title function_">has</span>(tempObj)); <span class="hljs-comment">// true</span>
}
<span class="hljs-comment">// tempObjç¦»å¼€ä½œç”¨åŸŸï¼Œå¯ä»¥è¢«åƒåœ¾å›æ”¶</span>
<span class="hljs-comment">// weakMapä¸­çš„å¯¹åº”æ¡ç›®ä¼šè‡ªåŠ¨è¢«ç§»é™¤</span>
</code></pre>
<h5 data-id="heading-66">4. æ²¡æœ‰éå†æ–¹æ³•ï¼ˆä¸èƒ½è¿­ä»£ï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> weakMap) {} <span class="hljs-comment">// TypeError</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(weakMap.<span class="hljs-title function_">keys</span>()); <span class="hljs-comment">// TypeError</span>
</code></pre>
<h3 data-id="heading-67">WeakSetï¼šå¼±å¼•ç”¨çš„é›†åˆ</h3>
<p>WeakSet æ˜¯ Set çš„â€œå…„å¼Ÿâ€ç±»å‹ï¼Œå…¶ API ä¹Ÿæ˜¯ Set çš„å­é›†ã€‚ WeakSet ä¸­çš„ â€œweakâ€ æè¿°çš„æ˜¯JavaScript åƒåœ¾å›æ”¶æœºåˆ¶ä¸­å¯¹å¾…â€œå¼±é›†åˆâ€ä¸­é”®çš„æ–¹å¼ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> weakSet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakSet</span>();
</code></pre>
<h4 data-id="heading-68">WeakSetçš„åŸºæœ¬ç‰¹æ€§</h4>
<h5 data-id="heading-69">1. å€¼å¿…é¡»æ˜¯å¯¹è±¡</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> objA = { <span class="hljs-attr">name</span>: <span class="hljs-string">'A'</span> };
<span class="hljs-keyword">const</span> objB = { <span class="hljs-attr">name</span>: <span class="hljs-string">'B'</span> };
<span class="hljs-keyword">const</span> objC = { <span class="hljs-attr">name</span>: <span class="hljs-string">'C'</span> };

weakSet.<span class="hljs-title function_">add</span>(objA);
weakSet.<span class="hljs-title function_">add</span>(objB);
weakSet.<span class="hljs-title function_">add</span>(objC);
</code></pre>
<h5 data-id="heading-70">2. å¼±å¼•ç”¨ç‰¹æ€§ï¼ˆä¸ä¼šé˜»æ­¢åƒåœ¾å›æ”¶ï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript">{
    <span class="hljs-keyword">let</span> tempObj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'temp'</span> };
    weakSet.<span class="hljs-title function_">add</span>(tempObj);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä¸´æ—¶å¯¹è±¡æ·»åŠ å:'</span>, weakSet.<span class="hljs-title function_">has</span>(tempObj)); <span class="hljs-comment">// true</span>
}
<span class="hljs-comment">// tempObjç¦»å¼€ä½œç”¨åŸŸï¼Œå¯ä»¥è¢«åƒåœ¾å›æ”¶</span>
</code></pre>
<h5 data-id="heading-71">3. æ²¡æœ‰éå†æ–¹æ³•ï¼ˆä¸èƒ½è¿­ä»£ï¼‰</h5>
<h2 data-id="heading-72">ç»“è¯­</h2>
<p>æ²¡æœ‰"æœ€å¥½"çš„æ•°æ®ç»“æ„ï¼Œåªæœ‰"æœ€é€‚åˆ"çš„æ•°æ®ç»“æ„ã€‚ç†è§£æ¯ç§ç»“æ„çš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ï¼Œæ ¹æ®å…·ä½“éœ€æ±‚åšå‡ºæ˜æ™ºé€‰æ‹©ï¼å¯¹äºæ–‡ç« ä¸­é”™è¯¯çš„åœ°æ–¹æˆ–è€…æœ‰ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[(Plop.js)Vue 3 + JS é¡¹ç›®è‡ªåŠ¨åŒ–ä»£ç ç”ŸæˆæŒ‡å—]]></title>    <link>https://juejin.cn/post/7602551091516227593</link>    <guid>https://juejin.cn/post/7602551091516227593</guid>    <pubDate>2026-02-04T03:03:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602551091516227593" data-draft-id="7602465642534584370" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="(Plop.js)Vue 3 + JS é¡¹ç›®è‡ªåŠ¨åŒ–ä»£ç ç”ŸæˆæŒ‡å— "/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2026-02-04T03:03:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜­é˜³"/> <meta itemprop="url" content="https://juejin.cn/user/1468603264447661"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            (Plop.js)Vue 3 + JS é¡¹ç›®è‡ªåŠ¨åŒ–ä»£ç ç”ŸæˆæŒ‡å— 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1468603264447661/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜­é˜³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:03:04.000Z" title="Wed Feb 04 2026 03:03:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.6em;font-weight:400;font-size:15px;overflow-x:hidden;color:#303133;font-family:Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,å¾®è½¯é›…é»‘,Arial,sans-serif}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.6em;margin:1.3em 0}.markdown-body h1{font-size:30px;margin-top:50px;margin-bottom:10px}.markdown-body h2{margin-top:45px;margin-bottom:10px;font-size:26px}.markdown-body h3{margin-top:40px;margin-bottom:10px;font-size:22px}.markdown-body h4{font-size:18px}.markdown-body h5{font-size:16px}.markdown-body h6{font-size:15px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:1.6em;margin-bottom:1.6em}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#e96900;font-size:.87em;margin:0 2px;padding:3px 5px;white-space:pre-wrap}.markdown-body .markdown-section&gt;:not(h1):not(h2):not(h3):not(h4):not(h5):not(h6) code{font-size:.8rem;font-family:Roboto Mono,Monaco,courier,monospace}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;border-radius:4px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#42b983;line-height:1.2em}.markdown-body a:active,.markdown-body a:hover{color:rgba(66,185,131,.85);border-bottom:1px solid rgba(66,185,131,.6)}.markdown-body table{display:inline-block!important;font-size:12px;max-width:100%;overflow:auto;border:1px solid #f6f6f6;border-collapse:collapse}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fafafa}.markdown-body td,.markdown-body th{padding:12px 6px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:rgba(52,73,94,.95);padding:1px 23px;margin:22px 0;border-left:4px solid #42b983;background-color:rgba(66,185,131,.1)}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>èƒŒæ™¯</strong>ï¼šåœ¨ Vue 3 + Vite + JS é¡¹ç›®ä¸­ï¼Œä¸ºäº†ç»Ÿä¸€ä»£ç è§„èŒƒï¼ˆAPIã€Viewsã€Componentsï¼‰å¹¶æé«˜å¼€å‘æ•ˆç‡ï¼Œé‡‡ç”¨ <code>Plop.js</code> å®ç°â€œå‘½ä»¤è¡Œä¸€é”®ç”Ÿæˆå¢åˆ æ”¹æŸ¥æ¨¡å—â€ã€‚</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ol>
<li>é‡‡ç”¨ <strong>JS æ¨¡æ¿</strong>ï¼Œæ—  TS ç±»å‹è´Ÿæ‹…ï¼Œé€‚åˆå½“å‰é¡¹ç›®ã€‚</li>
<li>å…¼å®¹é¡¹ç›®ä¸­é—ç•™çš„ TS Hooksã€‚</li>
<li><code>plopfile.js</code> å†…ç½®äºæ¨¡æ¿ç›®å½•ï¼Œä¿æŒæ ¹ç›®å½•æ•´æ´ã€‚</li>
</ol>
</blockquote>
<h2 data-id="heading-0">1. å®‰è£…ä¸ç›®å½•ç»“æ„</h2>
<h3 data-id="heading-1">1.1 å®‰è£…</h3>
<p>Bash</p>
<pre><code class="hljs language-css" lang="css">npm install <span class="hljs-attr">--save-dev</span> plop
</code></pre>
<h3 data-id="heading-2">1.2 æ¨èç›®å½•ç»“æ„</h3>
<p>å°†æ‰€æœ‰ç”Ÿæˆå™¨ç›¸å…³æ–‡ä»¶æ”¶çº³åœ¨ <code>plop-templates</code> æ–‡ä»¶å¤¹ä¸­ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">my</span>-project/
â”œâ”€â”€ plop-templates/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ api.hbs           <span class="hljs-comment"># API æ¥å£æ¨¡æ¿</span>
â”‚   â”œâ”€â”€ view/
â”‚   â”‚   â”œâ”€â”€ index.hbs         <span class="hljs-comment"># åˆ—è¡¨ä¸»é¡µæ¨¡æ¿</span>
â”‚   â”‚   â””â”€â”€ drawer.hbs        <span class="hljs-comment"># å¼¹çª—ç»„ä»¶æ¨¡æ¿</span>
â”‚   â””â”€â”€ plopfile.js           <span class="hljs-comment"># æ ¸å¿ƒé…ç½®æ–‡ä»¶ (æ”¾åœ¨è¿™é‡Œ)</span>
â”œâ”€â”€ jsconfig.json             <span class="hljs-comment"># (æˆ– tsconfig.json) ç”¨äºè·¯å¾„åˆ«åæ”¯æŒ</span>
â”œâ”€â”€ .prettierignore           <span class="hljs-comment"># ç”¨äºé˜²æ­¢æ¨¡æ¿æ ¼å¼åŒ–é”™ä¹±</span>
â””â”€â”€ package.json
</code></pre>
<hr/>
<h2 data-id="heading-3">2. æ ¸å¿ƒé…ç½® (plopfile.js)</h2>
<p>ç”±äºé¡¹ç›®å¼€å¯äº† <code>"type": "module"</code>ï¼Œé…ç½®æ–‡ä»¶ä½¿ç”¨ ESM è¯­æ³• (<code>export default</code>)ã€‚</p>
<p><strong>æ–‡ä»¶ä½ç½®</strong>ï¼š<code>plop-templates/plopfile.js</code></p>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">plop</span>) {
  <span class="hljs-comment">// è®¾ç½®ç”Ÿæˆå™¨</span>
  plop.<span class="hljs-title function_">setGenerator</span>(<span class="hljs-string">'crud'</span>, {
    <span class="hljs-attr">description</span>: <span class="hljs-string">'è‡ªåŠ¨ç”Ÿæˆåˆ—è¡¨+å¼¹çª—+API (JSç‰ˆ)'</span>,
    <span class="hljs-comment">// 1. äº¤äº’æç¤º</span>
    <span class="hljs-attr">prompts</span>: [
      {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'input'</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">'folder'</span>,
        <span class="hljs-attr">message</span>: <span class="hljs-string">'è¯·è¾“å…¥ç›®å½•åç§° (ä¾‹å¦‚ system):'</span>,
        <span class="hljs-attr">validate</span>: <span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> !v ? <span class="hljs-string">'ç›®å½•ä¸èƒ½ä¸ºç©º'</span> : <span class="hljs-literal">true</span>
      },
      {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'input'</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">'name'</span>,
        <span class="hljs-attr">message</span>: <span class="hljs-string">'è¯·è¾“å…¥æ¨¡å—åç§° (è‹±æ–‡, å¤§é©¼å³°, å¦‚ User):'</span>,
        <span class="hljs-attr">validate</span>: <span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> !v ? <span class="hljs-string">'æ¨¡å—åä¸èƒ½ä¸ºç©º'</span> : <span class="hljs-literal">true</span>
      },
      {
        <span class="hljs-attr">type</span>: <span class="hljs-string">'input'</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">'cnName'</span>,
        <span class="hljs-attr">message</span>: <span class="hljs-string">'è¯·è¾“å…¥æ¨¡å—ä¸­æ–‡åç§° (å¦‚ ç”¨æˆ·):'</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-string">'æ•°æ®'</span>
      }
    ],
    <span class="hljs-comment">// 2. æ‰§è¡ŒåŠ¨ä½œ</span>
    <span class="hljs-attr">actions</span>: <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
      <span class="hljs-comment">// æ³¨æ„ï¼šå¦‚æœ plopfile åœ¨å­ç›®å½•ä¸‹ï¼Œpath éœ€è¦æ ¹æ®ä½ çš„å®é™…æƒ…å†µè°ƒæ•´</span>
      <span class="hljs-comment">// é€šå¸¸ plop æ‰§è¡Œæ—¶çš„æ ¹ç›®å½•æ˜¯é¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰€ä»¥è·¯å¾„ä¸€èˆ¬ä»ä» src å¼€å§‹å†™</span>
      <span class="hljs-keyword">const</span> actions = [
        <span class="hljs-comment">// ç”Ÿæˆ API æ–‡ä»¶</span>
        {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'add'</span>,
          <span class="hljs-attr">path</span>: <span class="hljs-string">'src/api/{{dashCase name}}.js'</span>,
          <span class="hljs-attr">templateFile</span>: <span class="hljs-string">'plop-templates/api/api.hbs'</span>,
        },
        <span class="hljs-comment">// ç”Ÿæˆåˆ—è¡¨é¡µ</span>
        {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'add'</span>,
          <span class="hljs-attr">path</span>: <span class="hljs-string">'src/views/{{dashCase folder}}/{{dashCase name}}/index.vue'</span>,
          <span class="hljs-attr">templateFile</span>: <span class="hljs-string">'plop-templates/view/index.hbs'</span>,
        },
        <span class="hljs-comment">// ç”Ÿæˆå¼¹çª—ç»„ä»¶</span>
        {
          <span class="hljs-attr">type</span>: <span class="hljs-string">'add'</span>,
          <span class="hljs-attr">path</span>: <span class="hljs-string">'src/views/{{dashCase folder}}/{{dashCase name}}/components/{{properCase name}}Drawer.vue'</span>,
          <span class="hljs-attr">templateFile</span>: <span class="hljs-string">'plop-templates/view/drawer.hbs'</span>,
        }
      ];
      <span class="hljs-keyword">return</span> actions;
    }
  });
};
</code></pre>
<blockquote>
<p><strong>ğŸ’¡ çŸ¥è¯†ç‚¹ï¼šå†…ç½®å˜é‡è½¬æ¢</strong></p>
<ul>
<li><code>{{name}}</code>: åŸå§‹è¾“å…¥ (e.g., <code>UserRole</code>)</li>
<li><code>{{properCase name}}</code>: å¤§é©¼å³°ï¼Œç”¨äºç»„ä»¶å (e.g., <code>UserRole</code>)</li>
<li><code>{{dashCase name}}</code>: çŸ­æ¨ªçº¿ï¼Œç”¨äºæ–‡ä»¶å/URL (e.g., <code>user-role</code>)</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-4">3. æ¨¡æ¿æ–‡ä»¶ (.hbs)</h2>
<h3 data-id="heading-5">3.1 API æ¨¡æ¿ (<code>api.hbs</code>)</h3>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> http <span class="hljs-keyword">from</span> <span class="hljs-string">"@/utils/http"</span>;

<span class="hljs-comment">// æ¨¡å—åŸºç¡€è·¯å¾„</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PORT</span> = <span class="hljs-string">"/{{ dashCase name }}"</span>;

<span class="hljs-comment">/**
 * è·å–{{ cnName }}åˆ—è¡¨
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">params</span> - { pageNum, pageSize, keyword ... }
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> get{{ properCase name }}<span class="hljs-title class_">List</span> = <span class="hljs-function">(<span class="hljs-params">params</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> http.<span class="hljs-title function_">get</span>(<span class="hljs-string">`<span class="hljs-subst">${PORT}</span>/list`</span>, { params });
};

<span class="hljs-comment">/**
 * æ–°å¢{{ cnName }}
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> add{{ properCase name }} = <span class="hljs-function">(<span class="hljs-params">params</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> http.<span class="hljs-title function_">post</span>(<span class="hljs-string">`<span class="hljs-subst">${PORT}</span>/add`</span>, params);
};

<span class="hljs-comment">/**
 * ç¼–è¾‘{{ cnName }}
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> edit{{ properCase name }} = <span class="hljs-function">(<span class="hljs-params">params</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> http.<span class="hljs-title function_">put</span>(<span class="hljs-string">`<span class="hljs-subst">${PORT}</span>/edit`</span>, params);
};

<span class="hljs-comment">/**
 * åˆ é™¤{{ cnName }}
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-keyword">delete</span>{{ properCase name }} = <span class="hljs-function">(<span class="hljs-params">params</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> http.<span class="hljs-title function_">post</span>(<span class="hljs-string">`<span class="hljs-subst">${PORT}</span>/delete`</span>, params);
};
</code></pre>
<h3 data-id="heading-6">3.2 åˆ—è¡¨é¡µæ¨¡æ¿ (<code>index.hbs</code>)</h3>
<p>HTML</p>
<pre><code class="hljs language-ini" lang="ini">&lt;template&gt;
  &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"table-box"</span>&gt;
    &lt;el-card&gt;
      &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"table-header"</span>&gt;
        &lt;el-form :<span class="hljs-attr">inline</span>=<span class="hljs-string">"true"</span> :model=<span class="hljs-string">"searchParams"</span>&gt;
          &lt;el-form-item <span class="hljs-attr">label</span>=<span class="hljs-string">"åç§°"</span>&gt;
             &lt;el-input <span class="hljs-attr">v-model</span>=<span class="hljs-string">"searchParams.keyword"</span> placeholder=<span class="hljs-string">"æœç´¢{{ cnName }}"</span> clearable /&gt;
          &lt;/el-form-item&gt;
          &lt;el-form-item&gt;
            &lt;el-button <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> @click=<span class="hljs-string">"getTableData"</span>&gt;æœç´¢&lt;/el-button&gt;
            &lt;el-button <span class="hljs-attr">icon</span>=<span class="hljs-string">"Refresh"</span> @click=<span class="hljs-string">"resetSearch"</span>&gt;é‡ç½®&lt;/el-button&gt;
          &lt;/el-form-item&gt;
        &lt;/el-form&gt;
        &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"header-button"</span>&gt;
          &lt;el-button <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> icon=<span class="hljs-string">"Plus"</span> @click=<span class="hljs-string">"openDrawer('æ–°å¢')"</span>&gt;æ–°å¢{{ cnName }}&lt;/el-button&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;el-table :<span class="hljs-attr">data</span>=<span class="hljs-string">"tableData"</span> border stripe style=<span class="hljs-string">"width: 100%"</span>&gt;
        &lt;el-table-column <span class="hljs-attr">type</span>=<span class="hljs-string">"index"</span> label=<span class="hljs-string">"#"</span> width=<span class="hljs-string">"80"</span> /&gt;
        &lt;el-table-column <span class="hljs-attr">prop</span>=<span class="hljs-string">"name"</span> label=<span class="hljs-string">"åç§°"</span> /&gt;
        &lt;el-table-column <span class="hljs-attr">prop</span>=<span class="hljs-string">"createTime"</span> label=<span class="hljs-string">"åˆ›å»ºæ—¶é—´"</span> /&gt;
        &lt;el-table-column <span class="hljs-attr">label</span>=<span class="hljs-string">"æ“ä½œ"</span> width=<span class="hljs-string">"200"</span> fixed=<span class="hljs-string">"right"</span>&gt;
          &lt;template <span class="hljs-comment">#default="scope"&gt;</span>
            &lt;el-button <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> link icon=<span class="hljs-string">"Edit"</span> @click=<span class="hljs-string">"openDrawer('ç¼–è¾‘', scope.row)"</span>&gt;ç¼–è¾‘&lt;/el-button&gt;
            &lt;el-button <span class="hljs-attr">type</span>=<span class="hljs-string">"danger"</span> link icon=<span class="hljs-string">"Delete"</span> @click=<span class="hljs-string">"handleDelete(scope.row)"</span>&gt;åˆ é™¤&lt;/el-button&gt;
          &lt;/template&gt;
        &lt;/el-table-column&gt;
      &lt;/el-table&gt;
      
      &lt;el-pagination
        v-model:<span class="hljs-attr">current-page</span>=<span class="hljs-string">"pageParams.pageNum"</span>
        v-model:<span class="hljs-attr">page-size</span>=<span class="hljs-string">"pageParams.pageSize"</span>
        :<span class="hljs-attr">total</span>=<span class="hljs-string">"total"</span>
        @<span class="hljs-attr">current-change</span>=<span class="hljs-string">"getTableData"</span>
        @<span class="hljs-attr">size-change</span>=<span class="hljs-string">"getTableData"</span>
        <span class="hljs-attr">layout</span>=<span class="hljs-string">"total, sizes, prev, pager, next, jumper"</span>
      /&gt;
    &lt;/el-card&gt;

    &lt;{{ properCase name }}Drawer <span class="hljs-attr">ref</span>=<span class="hljs-string">"drawerRef"</span> /&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup <span class="hljs-attr">name</span>=<span class="hljs-string">"{{ properCase name }}"</span>&gt;
import { ref, reactive } from "vue"<span class="hljs-comment">;</span>
import { get{{ properCase name }}List, delete{{ properCase name }}, add{{ properCase name }}, edit{{ properCase name }} } from "@/api/{{ dashCase name }}"<span class="hljs-comment">;</span>
import {{ properCase name }}Drawer from "./components/{{ properCase name }}Drawer.vue"<span class="hljs-comment">;</span>
import { ElMessage, ElMessageBox } from "element-plus"<span class="hljs-comment">;</span>

const <span class="hljs-attr">drawerRef</span> = ref()<span class="hljs-comment">;</span>
const <span class="hljs-attr">tableData</span> = ref([])<span class="hljs-comment">;</span>
const <span class="hljs-attr">total</span> = ref(<span class="hljs-number">0</span>)<span class="hljs-comment">;</span>

const <span class="hljs-attr">searchParams</span> = reactive({ keyword: <span class="hljs-string">""</span> })<span class="hljs-comment">;</span>
const <span class="hljs-attr">pageParams</span> = reactive({ pageNum: <span class="hljs-number">1</span>, pageSize: <span class="hljs-number">10</span> })<span class="hljs-comment">;</span>

const <span class="hljs-attr">getTableData</span> = async () =&gt; {
  const <span class="hljs-attr">params</span> = { ...pageParams, ...searchParams }<span class="hljs-comment">;</span>
  try {
    const { data } = await get{{ properCase name }}List(params)<span class="hljs-comment">;</span>
    <span class="hljs-attr">tableData.value</span> = data.list || []<span class="hljs-comment">;</span>
    <span class="hljs-attr">total.value</span> = data.total || <span class="hljs-number">0</span><span class="hljs-comment">;</span>
  } catch (error) {
    console.error(error)<span class="hljs-comment">;</span>
  }
}<span class="hljs-comment">;</span>

const <span class="hljs-attr">resetSearch</span> = () =&gt; {
  <span class="hljs-attr">searchParams.keyword</span> = <span class="hljs-string">""</span><span class="hljs-comment">;</span>
  getTableData()<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

const <span class="hljs-attr">openDrawer</span> = (title, row = {}) =&gt; {
  const <span class="hljs-attr">params</span> = {
    title,
    rowData: { ...row },
    api: <span class="hljs-attr">title</span> === <span class="hljs-string">"æ–°å¢"</span> ? add{{ properCase name }} : edit{{ properCase name }},
    getTableList: getTableData
  }<span class="hljs-comment">;</span>
  drawerRef.value.acceptParams(params)<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

const <span class="hljs-attr">handleDelete</span> = async (row) =&gt; {
  try {
    await ElMessageBox.confirm(`æ˜¯å¦ç¡®è®¤åˆ é™¤è¯¥{{ cnName }}?`, "æç¤º", { type: "warning" })<span class="hljs-comment">;</span>
    await delete{{ properCase name }}({ id: row.id })<span class="hljs-comment">;</span>
    ElMessage.success("åˆ é™¤æˆåŠŸ")<span class="hljs-comment">;</span>
    getTableData()<span class="hljs-comment">;</span>
  } catch (error) {
    // Cancelled
  }
}<span class="hljs-comment">;</span>

getTableData()<span class="hljs-comment">;</span>
&lt;/script&gt;

&lt;style scoped&gt;
.table-header { display: flex<span class="hljs-comment">; justify-content: space-between; margin-bottom: 20px; }</span>
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-7">3.3 å¼¹çª—æ¨¡æ¿ (<code>drawer.hbs</code>)</h3>
<p>HTML</p>
<pre><code class="hljs language-ini" lang="ini">&lt;template&gt;
  &lt;el-drawer
    <span class="hljs-attr">v-model</span>=<span class="hljs-string">"drawerVisible"</span>
    :<span class="hljs-attr">destroy-on-close</span>=<span class="hljs-string">"true"</span>
    <span class="hljs-attr">size</span>=<span class="hljs-string">"500px"</span>
    :<span class="hljs-attr">title</span>=<span class="hljs-string">"`${drawerProps.title}{{ cnName }}`"</span>
  &gt;
    &lt;el-form
      <span class="hljs-attr">ref</span>=<span class="hljs-string">"ruleFormRef"</span>
      <span class="hljs-attr">label-width</span>=<span class="hljs-string">"100px"</span>
      <span class="hljs-attr">label-suffix</span>=<span class="hljs-string">" :"</span>
      :<span class="hljs-attr">rules</span>=<span class="hljs-string">"rules"</span>
      :<span class="hljs-attr">model</span>=<span class="hljs-string">"drawerProps.rowData"</span>
    &gt;
      &lt;el-form-item <span class="hljs-attr">label</span>=<span class="hljs-string">"{{ cnName }}åç§°"</span> prop=<span class="hljs-string">"name"</span>&gt;
        &lt;el-input <span class="hljs-attr">v-model</span>=<span class="hljs-string">"drawerProps.rowData.name"</span> placeholder=<span class="hljs-string">"è¯·è¾“å…¥åç§°"</span> clearable&gt;&lt;/el-input&gt;
      &lt;/el-form-item&gt;
    &lt;/el-form&gt;
    &lt;template <span class="hljs-comment">#footer&gt;</span>
      &lt;el-button @<span class="hljs-attr">click</span>=<span class="hljs-string">"drawerVisible = false"</span>&gt;å–æ¶ˆ&lt;/el-button&gt;
      &lt;el-button <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> @click=<span class="hljs-string">"handleSubmit"</span>&gt;ç¡®å®š&lt;/el-button&gt;
    &lt;/template&gt;
  &lt;/el-drawer&gt;
&lt;/template&gt;

&lt;script setup <span class="hljs-attr">name</span>=<span class="hljs-string">"{{ properCase name }}Drawer"</span>&gt;
import { ref, reactive } from "vue"<span class="hljs-comment">;</span>
import { ElMessage } from "element-plus"<span class="hljs-comment">;</span>

const <span class="hljs-attr">rules</span> = reactive({
  name: <span class="hljs-section">[{ required: true, message: "è¯·å¡«å†™åç§°", trigger: "blur" }]</span>
})<span class="hljs-comment">;</span>

const <span class="hljs-attr">drawerVisible</span> = ref(<span class="hljs-literal">false</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">drawerProps</span> = ref({
  title: "",
  rowData: {},
  api: null,
  getTableList: null
})<span class="hljs-comment">;</span>

const <span class="hljs-attr">acceptParams</span> = (params) =&gt; {
  <span class="hljs-attr">drawerProps.value</span> = params<span class="hljs-comment">;</span>
  <span class="hljs-attr">drawerVisible.value</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

const <span class="hljs-attr">ruleFormRef</span> = ref()<span class="hljs-comment">;</span>

const <span class="hljs-attr">handleSubmit</span> = () =&gt; {
  ruleFormRef.value.validate(async (valid) =&gt; {
    if (!valid) return<span class="hljs-comment">;</span>
    try {
      await drawerProps.value.api(drawerProps.value.rowData)<span class="hljs-comment">;</span>
      ElMessage.success(`${drawerProps.value.title}{{ cnName }}æˆåŠŸï¼`)<span class="hljs-comment">;</span>
      drawerProps.value.getTableList &amp;&amp; drawerProps.value.getTableList()<span class="hljs-comment">;</span>
      <span class="hljs-attr">drawerVisible.value</span> = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
    } catch (error) {
      console.error(error)<span class="hljs-comment">;</span>
    }
  })<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

defineExpose({
  acceptParams
})<span class="hljs-comment">;</span>
&lt;/script&gt;
</code></pre>
<hr/>
<h2 data-id="heading-8">4. ç¯å¢ƒä¸è¿è¡Œé…ç½®</h2>
<h3 data-id="heading-9">4.1 é˜²æ­¢æ ¼å¼åŒ–é”™ä¹±</h3>
<p><code>.hbs</code> æ–‡ä»¶ä¸­çš„ Handlebars è¯­æ³•å®¹æ˜“è¢« Prettier è¯¯ä¼¤ï¼ˆä¾‹å¦‚æŠŠ <code>{{name}}</code> æ ¼å¼åŒ–ä¸º <code>{ { name } }</code> å¯¼è‡´è§£æå¤±è´¥ï¼‰ã€‚</p>
<p>åœ¨æ ¹ç›®å½•åˆ›å»º <code>.prettierignore</code>ï¼š</p>
<p>Plaintext</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¿½ç•¥æ¨¡æ¿æ–‡ä»¶å¤¹</span>
plop-templates/
</code></pre>
<h3 data-id="heading-10">4.2 é…ç½®è¿è¡Œè„šæœ¬</h3>
<p>ä¿®æ”¹ <code>package.json</code>ï¼ŒæŒ‡å®š plopfile çš„ä½ç½®ï¼š</p>
<p>JSON</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-comment">// æŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„</span>
  <span class="hljs-attr">"new"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"plop --plopfile ./plop-templates/plopfile.js"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-11">4.3 å…¼å®¹ TS Hooks (å®½å®¹æ¨¡å¼)</h3>
<p>ä¸ºäº†è®© JS é¡¹ç›®èƒ½é¡ºæ»‘å¼•ç”¨æ—§çš„ TS Hooks ä¸” VS Code èƒ½è¯†åˆ«è·¯å¾„åˆ«å <code>@</code>ï¼Œåœ¨æ ¹ç›®å½•åˆ›å»º <code>tsconfig.json</code>ï¼š</p>
<p>JSON</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ESNext"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ESNext"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"moduleResolution"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Node"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"strict"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"jsx"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"preserve"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"allowJs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// å…è®¸ JS</span>
    <span class="hljs-attr">"checkJs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>       <span class="hljs-comment">// ä¸æ£€æŸ¥ JS ç±»å‹</span>
    <span class="hljs-attr">"baseUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"."</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"paths"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"@/*"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src/*"</span><span class="hljs-punctuation">]</span>      <span class="hljs-comment">// è·¯å¾„åˆ«åæ˜ å°„</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src/**/*.ts"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"src/**/*.d.ts"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"src/**/*.vue"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"src/**/*.js"</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h2 data-id="heading-12">5. ä½¿ç”¨æ–¹æ³•</h2>
<ol>
<li>
<p><strong>è¿è¡Œå‘½ä»¤</strong>ï¼š</p>
<p>Bash</p>
<pre><code class="hljs language-arduino" lang="arduino">npm run <span class="hljs-keyword">new</span>
</code></pre>
</li>
<li>
<p><strong>æŒ‰æç¤ºè¾“å…¥</strong>ï¼š</p>
<ul>
<li>ç›®å½•åï¼š<code>system</code></li>
<li>æ¨¡å—åï¼š<code>User</code></li>
<li>ä¸­æ–‡åï¼š<code>ç”¨æˆ·</code></li>
</ul>
</li>
<li>
<p><strong>ç»“æœ</strong>ï¼š</p>
<p>è‡ªåŠ¨ç”Ÿæˆ <code>src/api/user.js</code>, <code>src/views/system/user/index.vue</code> ç­‰æ–‡ä»¶ã€‚</p>
</li>
</ol>
<hr/>
<p><strong>End of Guide</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦ä¹ Three.jsâ€“é›ªèŠ±]]></title>    <link>https://juejin.cn/post/7602512064976896063</link>    <guid>https://juejin.cn/post/7602512064976896063</guid>    <pubDate>2026-02-04T03:11:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602512064976896063" data-draft-id="7602529888483459135" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦ä¹ Three.jsâ€“é›ªèŠ±"/> <meta itemprop="keywords" content="å‰ç«¯,three.js"/> <meta itemprop="datePublished" content="2026-02-04T03:11:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€ è½®å­çš„çŒª"/> <meta itemprop="url" content="https://juejin.cn/user/497453720940158"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦ä¹ Three.jsâ€“é›ªèŠ±
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/497453720940158/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€ è½®å­çš„çŒª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:11:40.000Z" title="Wed Feb 04 2026 03:11:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»25åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å­¦ä¹ Three.js--é›ªèŠ±</h2>
<h3 data-id="heading-1">å‰ç½®æ ¸å¿ƒè¯´æ˜</h3>
<h4 data-id="heading-2">å¼€å‘ç›®æ ‡</h4>
<p>åŸºäºThree.jsçš„<strong>ç²’å­ç³»ç»Ÿ+è‡ªå®šä¹‰ç€è‰²å™¨</strong>å®ç°çœŸå®æ„Ÿ3Dé›ªèŠ±é£˜è½æ•ˆæœï¼Œè¿˜åŸé›ªèŠ±çš„è‡ªç„¶è§†è§‰ä¸åŠ¨æ€ç‰¹å¾ï¼Œæ ¸å¿ƒèƒ½åŠ›åŒ…æ‹¬ï¼š</p>
<ol>
<li>æ¨¡æ‹Ÿé›ªèŠ±çš„è§†è§‰å½¢æ€ï¼šé€šè¿‡åœ†å½¢æŠ—é”¯é½¿ç²’å­+ä¸­å¿ƒäº®è¾¹ç¼˜æš—çš„å…‰æ™•ï¼Œè¿˜åŸé›ªèŠ±åœ¨æš—å…‰ç¯å¢ƒä¸‹çš„æŸ”å’Œåå…‰æ•ˆæœï¼›</li>
<li>å®ç°è‡ªç„¶é£˜è½åŠ¨ç”»ï¼šå‚ç›´ä¸‹è½+æ°´å¹³éšæœºåç§»ï¼Œé¿å…é›ªèŠ±è¿åŠ¨è½¨è¿¹è¿‡äºè§„æ•´ï¼Œè¿˜åŸçœŸå®é›ªèŠ±çš„é£˜è½å§¿æ€ï¼›</li>
<li>æ„å»ºå¾ªç¯åŠ¨ç”»é€»è¾‘ï¼šé›ªèŠ±è¶…å‡ºä¸‹è¾¹ç•Œåè‡ªåŠ¨é‡ç½®åˆ°é¡¶éƒ¨ï¼Œå®ç°æ— é™å¾ªç¯çš„é›ªèŠ±é£˜è½æ•ˆæœï¼Œæ— ç²’å­ç¼ºå¤±ï¼›</li>
<li>å€ŸåŠ©<code>ShaderMaterial</code>æå‡è§†è§‰è´¨æ„Ÿï¼šå¯ç”¨åŠ æ³•æ··åˆè®©é›ªèŠ±é‡å å¤„å…‰æ™•æ›´æŸ”å’Œï¼Œå…¼é¡¾æ€§èƒ½ä¸è§†è§‰ç»†è…»åº¦ï¼›</li>
<li>æ”¯æŒè½¨é“äº¤äº’æŸ¥çœ‹ï¼šé€šè¿‡<code>OrbitControls</code>å®ç°360Â°æ‹–æ‹½æ—‹è½¬ã€æ»šè½®ç¼©æ”¾ï¼Œå…¨æ–¹ä½è§‚å¯Ÿ3Dé›ªèŠ±ç¾¤çš„é£˜è½æ•ˆæœã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0ef94b5f380479d9135f2027019bf10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCg6L2u5a2Q55qE54yq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770779499&amp;x-signature=Z3magPu%2Fifez6yY4DdqvtzA%2F70U%3D" alt="c8649201-4fa3-4f22-96f9-567c677a3c84.png" loading="lazy"/></p>
<h4 data-id="heading-3">æ ¸å¿ƒæŠ€æœ¯æ ˆï¼ˆå…³é”®çŸ¥è¯†ç‚¹ï¼‰</h4>

































<table><thead><tr><th>æŠ€æœ¯ç‚¹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>THREE.BufferGeometry</code> + <code>Float32Array</code></td><td>é«˜æ•ˆå­˜å‚¨1000çº§é›ªèŠ±ç²’å­åæ ‡æ•°æ®ï¼Œå‡å°‘CPUä¸GPUæ•°æ®ä¼ è¾“å¼€é”€ï¼Œæ”¯æ’‘æµç•…æ¸²æŸ“</td></tr><tr><td>è‡ªå®šä¹‰ç²’å­è§†è§‰ç®—æ³•ï¼ˆç€è‰²å™¨å®ç°ï¼‰</td><td>1.  å®ç°åœ†å½¢æŠ—é”¯é½¿é›ªèŠ±ç²’å­ï¼Œæ›¿ä»£é»˜è®¤æ–¹å½¢ç²’å­ï¼›2.  æ‰“é€ â€œä¸­å¿ƒäº®ã€è¾¹ç¼˜æš—â€çš„æŸ”å’Œå…‰æ™•ï¼Œè¿˜åŸé›ªèŠ±åå…‰ç‰¹æ€§ï¼›3.  ä¼ é€’å…¨å±€ç»Ÿä¸€é¢œè‰²/å°ºå¯¸ï¼Œå®ç°é›ªèŠ±è§†è§‰ä¸€è‡´æ€§</td></tr><tr><td><code>THREE.ShaderMaterial</code>ï¼ˆé¡¶ç‚¹/ç‰‡å…ƒç€è‰²å™¨ï¼‰</td><td>è¿è¡Œåœ¨GPUä¸Šï¼Œå…·å¤‡å¹¶è¡Œå¤„ç†èƒ½åŠ›ï¼Œé«˜æ•ˆå®ç°é›ªèŠ±çš„åƒç´ çº§è§†è§‰æ•ˆæœï¼Œå…¼é¡¾æ€§èƒ½ä¸è´¨æ„Ÿ</td></tr><tr><td><code>THREE.AdditiveBlending</code>ï¼ˆåŠ æ³•æ··åˆï¼‰</td><td>é›ªèŠ±é‡å å¤„äº®åº¦å åŠ ï¼Œè¥é€ æœ¦èƒ§æŸ”å’Œçš„å…‰æ™•æ„Ÿï¼Œæ¨¡æ‹Ÿé›ªèŠ±ç¾¤çš„è§†è§‰å±‚æ¬¡æ„Ÿï¼Œé¿å…ç²’å­é‡å ç”Ÿç¡¬é®æŒ¡</td></tr><tr><td>é›ªèŠ±åŒåŠ¨æ€é€»è¾‘ï¼ˆå‚ç›´ä¸‹è½+æ°´å¹³åç§»ï¼‰</td><td>å¾®è§‚é›ªèŠ±å‚ç›´ä¸‹è½+æ°´å¹³éšæ—¶é—´åç§»ï¼Œå®è§‚å®ç°å¾ªç¯é‡ç½®ï¼Œè¥é€ è‡ªç„¶ä¸”æŒä¹…çš„é›ªèŠ±é£˜è½æ°›å›´</td></tr><tr><td><code>THREE.OrbitControls</code>ï¼ˆè½¨é“æ§åˆ¶å™¨ï¼‰</td><td>æ”¯æŒæ‹–æ‹½æ—‹è½¬/æ»šè½®ç¼©æ”¾ï¼Œå…¨æ–¹ä½æŸ¥çœ‹3Dé›ªèŠ±ç¾¤çš„é£˜è½æ•ˆæœï¼Œä¾¿æ·è§‚å¯Ÿé›ªèŠ±çš„å…‰æ™•ä¸è¿åŠ¨è½¨è¿¹</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-4">åˆ†æ­¥å¼€å‘è¯¦è§£</h3>
<h4 data-id="heading-5">æ­¥éª¤1ï¼šåŸºç¡€ç¯å¢ƒæ­å»ºï¼ˆåœºæ™¯/ç›¸æœº/æ¸²æŸ“å™¨/æ§åˆ¶å™¨ï¼‰</h4>
<p>æ­å»ºThree.js 3Dåœºæ™¯çš„åŸºç¡€æ¡†æ¶ï¼Œä¸ºé›ªèŠ±é£˜è½æ•ˆæœæä¾›å±•ç¤ºè½½ä½“ï¼Œä¿è¯åœºæ™¯çš„æµç•…äº¤äº’ä¸é«˜æ¸…æ¸²æŸ“ï¼Œè´´åˆé›ªèŠ±çš„æš—å…‰è§†è§‰æ°›å›´ã€‚</p>
<h5 data-id="heading-6">1.1 æ ¸å¿ƒä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. å¯¼å…¥æ ¸å¿ƒåº“ä¸è½¨é“æ§åˆ¶å™¨</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'https://esm.sh/three@0.174.0'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">OrbitControls</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'https://esm.sh/three@0.174.0/examples/jsm/controls/OrbitControls.js'</span>;

<span class="hljs-comment">// 2. åŸºç¡€ç¯å¢ƒåˆå§‹åŒ–ï¼ˆåœºæ™¯/ç›¸æœº/æ¸²æŸ“å™¨ï¼‰</span>
<span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();

<span class="hljs-comment">// é€è§†ç›¸æœºï¼šé…ç½®åˆç†å‚æ•°ï¼Œç¡®ä¿èƒ½å®Œæ•´è§‚å¯Ÿç²’å­ç¾¤</span>
<span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PerspectiveCamera</span>(
  <span class="hljs-number">40</span>,                     <span class="hljs-comment">// è§†è§’ï¼ˆFOVï¼‰ï¼š40Â°è§†é‡é€‚ä¸­ï¼Œæ— é›ªèŠ±ç²’å­å˜å½¢</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>, <span class="hljs-comment">// å®½é«˜æ¯”ï¼šé€‚é…æµè§ˆå™¨çª—å£</span>
  <span class="hljs-number">1</span>,                      <span class="hljs-comment">// è¿‘è£åˆ‡é¢ï¼šè¿‡æ»¤è¿‡è¿‘æ— æ•ˆå¯¹è±¡</span>
  <span class="hljs-number">10000</span>                   <span class="hljs-comment">// è¿œè£åˆ‡é¢ï¼šä¿è¯é›ªèŠ±ç¾¤å®Œæ•´å¤„äºå¯è§èŒƒå›´</span>
);
<span class="hljs-comment">// ç›¸æœºåˆå§‹ä½ç½®ï¼š(0, 0, 200) æ­£é¢å¹³è§†ï¼Œæ¸…æ™°è§‚å¯Ÿé›ªèŠ±é£˜è½çš„çºµæ·±ä¸æ°´å¹³åç§»æ•ˆæœ</span>
camera.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>);

<span class="hljs-comment">// æ¸²æŸ“å™¨ï¼šå¼€å¯æŠ—é”¯é½¿ï¼Œæå‡é›ªèŠ±ç²’å­è¾¹ç¼˜ç»†è…»åº¦ï¼Œé¿å…å…‰æ™•é”¯é½¿æ„Ÿ</span>
<span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>({ <span class="hljs-attr">antialias</span>: <span class="hljs-literal">true</span> });
renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
renderer.<span class="hljs-title function_">setPixelRatio</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span>); <span class="hljs-comment">// é«˜æ¸…é€‚é…Retinaå±å¹•ï¼Œé›ªèŠ±å…‰æ™•æ— æ¨¡ç³Š</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(renderer.<span class="hljs-property">domElement</span>);

<span class="hljs-comment">// è½¨é“æ§åˆ¶å™¨ï¼šæ”¯æŒæ‹–æ‹½æ—‹è½¬/æ»šè½®ç¼©æ”¾ï¼Œä¾¿æ·è§‚å¯Ÿ3Dé›ªèŠ±ç¾¤</span>
<span class="hljs-keyword">const</span> controls = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrbitControls</span>(camera, renderer.<span class="hljs-property">domElement</span>);
controls.<span class="hljs-property">enableDamping</span> = <span class="hljs-literal">true</span>; <span class="hljs-comment">// å¯ç”¨é˜»å°¼ï¼šæ‹–æ‹½æ—‹è½¬æœ‰æƒ¯æ€§ï¼Œäº¤äº’æ›´é¡ºæ»‘è‡ªç„¶</span>
</code></pre>
<h5 data-id="heading-7">1.2 å…³é”®è¯´æ˜</h5>
<ul>
<li><strong>ç›¸æœºä½ç½®</strong>ï¼š<code>(0, 0, 200)</code> é‡‡ç”¨ã€Œæ­£é¢å¹³è§†+ç¨è¿œã€è§†è§’ï¼Œæ—¢å¯ä»¥å®Œæ•´æ•æ‰é›ªèŠ±ç¾¤çš„é£˜è½çºµæ·±æ•ˆæœï¼Œåˆèƒ½æ¸…æ™°è§‚å¯Ÿå•æœµé›ªèŠ±çš„å…‰æ™•ç»†èŠ‚ï¼Œé¿å…è§†è§’è¿‡è¿‘å¯¼è‡´é›ªèŠ±å…‰æ™•è¿‡æ›ã€æ— æ³•è§‚å¯Ÿæ•´ä½“é£˜è½æ€åŠ¿ã€‚</li>
<li><strong>æ¸²æŸ“å™¨<code>antialias: true</code></strong>ï¼šå¼€å¯æŠ—é”¯é½¿ï¼Œé…åˆåç»­ç‰‡å…ƒç€è‰²å™¨çš„<code>smoothstep</code>æŠ—é”¯é½¿é€»è¾‘ï¼Œè®©é›ªèŠ±ç²’å­çš„è¾¹ç¼˜å’Œå…‰æ™•æ›´ç»†è…»â€”â€”è¿™å¯¹ç™½è‰²é›ªèŠ±å°¤ä¸ºé‡è¦ï¼Œå¯é¿å…é›ªèŠ±å‡ºç°â€œé”¯é½¿è¾¹â€ï¼Œæå‡æš—å…‰ç¯å¢ƒä¸‹çš„è§†è§‰æŸ”å’Œåº¦ã€‚</li>
<li><strong>æ§åˆ¶å™¨é˜»å°¼</strong>ï¼šå¯ç”¨é˜»å°¼åï¼Œæ‹–æ‹½æ—‹è½¬æŸ¥çœ‹é›ªèŠ±ç¾¤æ—¶ï¼Œåœºæ™¯ä¼šæœ‰è‡ªç„¶çš„æƒ¯æ€§å‡é€Ÿï¼Œæ›´è´´åˆ3Dåœºæ™¯çš„äº¤äº’ä½“éªŒï¼Œä¾¿äºé•¿æ—¶é—´è§‚å¯Ÿé›ªèŠ±çš„é£˜è½è½¨è¿¹ä¸å…‰æ™•å åŠ æ•ˆæœã€‚</li>
</ul>
<h4 data-id="heading-8">æ­¥éª¤2ï¼šé›ªèŠ±ç²’å­æ ¸å¿ƒé…ç½®ï¼ˆæ•°é‡/è§†è§‰å‚æ•°ï¼‰</h4>
<p>å®šä¹‰é›ªèŠ±ç²’å­çš„åŸºç¡€é…ç½®å‚æ•°ï¼Œä¸ºåç»­ç€è‰²å™¨ä¸å‡ ä½•ä½“æ„å»ºæä¾›æ•°æ®æ”¯æ’‘ï¼Œä¿è¯é›ªèŠ±ç¾¤çš„å¯†é›†åº¦ä¸è§†è§‰ä¸€è‡´æ€§ã€‚</p>
<h5 data-id="heading-9">2.1 æ ¸å¿ƒä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 3. ç²’å­ç³»ç»Ÿæ ¸å¿ƒé…ç½®</span>
<span class="hljs-keyword">const</span> count = <span class="hljs-number">1000</span>; <span class="hljs-comment">// é›ªèŠ±æ€»æ•°ï¼šä¿è¯é£˜è½æ•ˆæœçš„æµ“å¯†æ„Ÿï¼ŒåŒæ—¶å…¼é¡¾ä½é…è®¾å¤‡æµç•…æ€§</span>
</code></pre>
<h5 data-id="heading-10">2.2 å…³é”®è¯´æ˜</h5>
<ul>
<li><strong><code>count</code>å‚æ•°çš„å¹³è¡¡</strong>ï¼š1000æ˜¯â€œè§†è§‰æ•ˆæœâ€ä¸â€œæ€§èƒ½â€çš„æœ€ä¼˜å¹³è¡¡å€¼â€”â€”å°‘äº500ä¼šå¯¼è‡´é›ªèŠ±è¿‡äºç¨€ç–ï¼Œç¼ºä¹æ¼«å¤©é£˜è½çš„æ°›å›´æ„Ÿï¼›å¤šäº2000ä¼šå¢åŠ GPUæ¸²æŸ“å¼€é”€ï¼Œä½é…è®¾å¤‡å¯èƒ½å‡ºç°å¡é¡¿ï¼Œå°¤å…¶åœ¨å¼€å¯åŠ æ³•æ··åˆåï¼Œç²’å­é‡å è®¡ç®—é‡ä¼šå¢åŠ ã€‚</li>
<li><strong>é›ªèŠ±çš„è§†è§‰é¢„è®¾</strong>ï¼šæœ¬æ­¥éª¤ä»…å®šä¹‰ç²’å­æ•°é‡ï¼Œåç»­é€šè¿‡ç€è‰²å™¨ç»Ÿä¸€é…ç½®é›ªèŠ±çš„å°ºå¯¸ï¼ˆ<code>pointSize</code>ï¼‰ä¸é¢œè‰²ï¼ˆ<code>uColor</code>ï¼‰ï¼Œä¿è¯æ‰€æœ‰é›ªèŠ±è§†è§‰é£æ ¼ä¸€è‡´ï¼Œè¿˜åŸçœŸå®é›ªèŠ±çš„ç»Ÿä¸€æ€§ã€‚</li>
</ul>
<h4 data-id="heading-11">æ­¥éª¤3ï¼šè‡ªå®šä¹‰ç€è‰²å™¨ï¼ˆé›ªèŠ±è§†è§‰æ•ˆæœçš„æ ¸å¿ƒï¼‰</h4>
<p>é€šè¿‡é¡¶ç‚¹ç€è‰²å™¨ä¸ç‰‡å…ƒç€è‰²å™¨ï¼Œå®ç°é›ªèŠ±çš„åœ†å½¢å½¢æ€ã€æŸ”å’Œå…‰æ™•ã€æŠ—é”¯é½¿è¾¹ç¼˜ï¼Œè¿™æ˜¯é›ªèŠ±è§†è§‰è´¨æ„Ÿçš„æ ¸å¿ƒï¼Œæ‰€æœ‰é€»è¾‘è¿è¡Œåœ¨GPUä¸Šï¼Œé«˜æ•ˆä¸”ç»†è…»ã€‚</p>
<h5 data-id="heading-12">3.1 æ ¸å¿ƒä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 4. è‡ªå®šä¹‰ç€è‰²å™¨ï¼ˆé¡¶ç‚¹ç€è‰²å™¨ + ç‰‡å…ƒç€è‰²å™¨ï¼‰</span>
<span class="hljs-comment">// é¡¶ç‚¹ç€è‰²å™¨ï¼šå¤„ç†é›ªèŠ±ä½ç½®ã€å°ºå¯¸ï¼Œå®Œæˆ3Dâ†’2Dé€è§†å˜æ¢</span>
<span class="hljs-keyword">const</span> vertexShader = <span class="hljs-string">`
  uniform float pointSize; // å…¨å±€ç»Ÿä¸€é›ªèŠ±å°ºå¯¸ï¼ˆuniformï¼šæ‰€æœ‰é›ªèŠ±å…±äº«ï¼‰
  void main() {
    // æ ¸å¿ƒï¼šé€è§†å˜æ¢é“¾ï¼Œå°†é›ªèŠ±å±€éƒ¨åæ ‡è½¬æ¢ä¸ºå±å¹•è£å‰ªåæ ‡ï¼Œ3Dæ¸²æŸ“å¿…å¤‡
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    gl_PointSize = pointSize; // ä¸ºæ¯ä¸ªé›ªèŠ±è®¾ç½®å±å¹•å°ºå¯¸ï¼Œä¿è¯è§†è§‰ä¸€è‡´æ€§
  }
`</span>;

<span class="hljs-comment">// ç‰‡å…ƒç€è‰²å™¨ï¼šå¤„ç†é›ªèŠ±åƒç´ çº§è§†è§‰æ•ˆæœï¼ˆå½¢çŠ¶ã€é¢œè‰²ã€é€æ˜åº¦ã€äº®åº¦ï¼‰</span>
<span class="hljs-keyword">const</span> fragmentShader = <span class="hljs-string">`
  uniform vec3 uColor; // å…¨å±€ç»Ÿä¸€é›ªèŠ±é¢œè‰²ï¼ˆuniformï¼šæ‰€æœ‰é›ªèŠ±å…±äº«ï¼‰
  void main() {
    // æ­¥éª¤1ï¼šè®¡ç®—å½“å‰åƒç´ åˆ°é›ªèŠ±ä¸­å¿ƒçš„è·ç¦»ï¼ˆgl_PointCoordï¼šç²’å­å†…UVåæ ‡ï¼ŒèŒƒå›´(0,0)~(1,1)ï¼‰
    float distanceToCenter = distance(gl_PointCoord, vec2(0.5));
    
    // æ­¥éª¤2ï¼šè¾¹ç¼˜æ¸éšæŠ—é”¯é½¿ï¼Œé¿å…é›ªèŠ±è¾¹ç¼˜ç”Ÿç¡¬é”¯é½¿ï¼Œæå‡å…‰æ™•æŸ”å’Œåº¦
    // smoothstep(0.4, 0.5, d)ï¼šd&lt;0.4è¿”å›0ï¼Œd&gt;0.5è¿”å›1ï¼Œä¸­é—´å¹³æ»‘æ’å€¼
    float alpha = 1.0 - smoothstep(0.4, 0.5, distanceToCenter);
    
    // æ­¥éª¤3ï¼šå¢å¼ºä¸­å¿ƒäº®åº¦ï¼Œå®ç°â€œä¸­å¿ƒäº®ã€è¾¹ç¼˜æš—â€çš„å…‰æ™•æ•ˆæœï¼Œè¿˜åŸé›ªèŠ±åå…‰ç‰¹æ€§
    // pow(æŒ‡æ•°5.0)ï¼šæ”¾å¤§äº®åº¦å·®å¼‚ï¼Œè®©ä¸­å¿ƒæ›´äº®ï¼Œè¾¹ç¼˜æ›´æš—ï¼Œå…‰æ™•æ›´æœ‰å±‚æ¬¡æ„Ÿ
    float brightness = pow(1.0 - distanceToCenter, 5.0);
    
    // æ­¥éª¤4ï¼šè®¾ç½®æœ€ç»ˆåƒç´ é¢œè‰²ï¼ˆåŸºç¡€è‰²*äº®åº¦ + æ¸éšé€æ˜åº¦ï¼‰
    gl_FragColor = vec4(uColor * brightness, alpha);
  }
`</span>;
</code></pre>
<h5 data-id="heading-13">3.2 å…³é”®æŠ€æœ¯ç‚¹è§£æ</h5>
<ol>
<li>
<p><strong>é¡¶ç‚¹ç€è‰²å™¨çš„æ ¸å¿ƒèŒè´£</strong>ï¼š</p>
<ul>
<li>å®Œæˆ3Dåæ ‡åˆ°2Då±å¹•åæ ‡çš„<strong>é€è§†å˜æ¢é“¾</strong>ï¼š<code>projectionMatrix * modelViewMatrix * vec4(position, 1.0)</code>ï¼Œè¿™æ˜¯Three.js 3Dæ¸²æŸ“çš„é€šç”¨é€»è¾‘ï¼Œä¿è¯é›ªèŠ±åœ¨å±å¹•ä¸Šçš„æ­£ç¡®æ˜¾ç¤ºä¸â€œè¿‘å¤§è¿œå°â€çš„é€è§†æ•ˆæœã€‚</li>
<li>ç»Ÿä¸€è®¾ç½®é›ªèŠ±å°ºå¯¸ï¼šé€šè¿‡<code>uniform</code>å˜é‡<code>pointSize</code>ä¸ºæ‰€æœ‰é›ªèŠ±è®¾ç½®ç›¸åŒçš„å±å¹•å°ºå¯¸ï¼Œä¿è¯è§†è§‰ä¸€è‡´æ€§ï¼Œé¿å…å•æœµé›ªèŠ±è¿‡å¤§æˆ–è¿‡å°ç ´åæ•´ä½“æ•ˆæœã€‚</li>
</ul>
</li>
<li>
<p><strong>ç‰‡å…ƒç€è‰²å™¨çš„é›ªèŠ±è§†è§‰å®ç°</strong>ï¼š</p>
<ul>
<li><code>gl_PointCoord</code>ï¼šé›ªèŠ±ç²’å­å†…çš„UVåæ ‡ï¼ŒèŒƒå›´ä»<code>(0,0)</code>ï¼ˆå·¦ä¸‹è§’ï¼‰åˆ°<code>(1,1)</code>ï¼ˆå³ä¸Šè§’ï¼‰ï¼Œ<code>vec2(0.5)</code>å¯¹åº”é›ªèŠ±ä¸­å¿ƒï¼Œé€šè¿‡è®¡ç®—åƒç´ åˆ°ä¸­å¿ƒçš„è·ç¦»ï¼Œå®ç°åœ†å½¢é›ªèŠ±å½¢æ€ã€‚</li>
<li><code>distance()</code>ï¼šè®¡ç®—æ¬§å‡ é‡Œå¾—è·ç¦»ï¼Œè·å–å½“å‰åƒç´ ä¸é›ªèŠ±ä¸­å¿ƒçš„é—´è·ï¼Œä¸ºåç»­åœ†å½¢è£å‰ªä¸å…‰æ™•å®ç°æä¾›æ•°æ®æ”¯æ’‘ã€‚</li>
<li><code>smoothstep()</code>ï¼šå®ç°è¾¹ç¼˜æ¸éšï¼Œé¿å…åœ†å½¢é›ªèŠ±å‡ºç°ç”Ÿç¡¬é”¯é½¿â€”â€”è¿™æ˜¯é›ªèŠ±è§†è§‰æŸ”å’Œåº¦çš„å…³é”®ï¼Œè®©é›ªèŠ±è¾¹ç¼˜ä»äº®åˆ°æš—å¹³æ»‘è¿‡æ¸¡ï¼Œå½¢æˆè‡ªç„¶å…‰æ™•ã€‚</li>
<li><code>pow()</code>ï¼šå¹‚æŒ‡æ•°5.0æ”¾å¤§äº®åº¦å·®å¼‚ï¼Œè®©é›ªèŠ±ä¸­å¿ƒæ›´æ˜äº®ï¼ˆæ¨¡æ‹Ÿé›ªèŠ±çš„åå…‰æ ¸å¿ƒï¼‰ï¼Œè¾¹ç¼˜æ›´æš—æ·¡ï¼ˆæ¨¡æ‹Ÿå…‰æ™•çš„è¡°å‡ï¼‰ï¼Œè¿˜åŸçœŸå®é›ªèŠ±åœ¨æš—å…‰ç¯å¢ƒä¸‹çš„è§†è§‰ç‰¹å¾ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-14">æ­¥éª¤4ï¼šæ„å»ºç€è‰²å™¨æè´¨ï¼ˆè¿æ¥ç€è‰²å™¨ï¼Œä¼˜åŒ–è§†è§‰æ•ˆæœï¼‰</h4>
<p>å°†è‡ªå®šä¹‰ç€è‰²å™¨ä¸Three.jsçš„<code>ShaderMaterial</code>ç»‘å®šï¼Œé…ç½®å…¨å±€<code>uniform</code>å‚æ•°ä¸æ¸²æŸ“æ¨¡å¼ï¼Œå®ç°é›ªèŠ±çš„é€æ˜å…‰æ™•ä¸å åŠ æ•ˆæœï¼Œæå‡è§†è§‰å±‚æ¬¡æ„Ÿã€‚</p>
<h5 data-id="heading-15">4.1 æ ¸å¿ƒä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 5. æ„å»ºç€è‰²å™¨æè´¨ï¼ˆè¿æ¥ä¸¤ä¸ªç€è‰²å™¨ï¼Œé…ç½®å‚æ•°ä¸æ¸²æŸ“æ¨¡å¼ï¼‰</span>
<span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">ShaderMaterial</span>({
  <span class="hljs-attr">vertexShader</span>: vertexShader,   <span class="hljs-comment">// ç»‘å®šé¡¶ç‚¹ç€è‰²å™¨</span>
  <span class="hljs-attr">fragmentShader</span>: fragmentShader, <span class="hljs-comment">// ç»‘å®šç‰‡å…ƒç€è‰²å™¨</span>
  <span class="hljs-attr">uniforms</span>: {                    <span class="hljs-comment">// å‘ç€è‰²å™¨ä¼ é€’çš„å…¨å±€ç»Ÿä¸€å‚æ•°</span>
    <span class="hljs-attr">pointSize</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">10.0</span> },  <span class="hljs-comment">// é›ªèŠ±å±å¹•å°ºå¯¸ï¼š10.0å…¼é¡¾ç»†è…»åº¦ä¸å¯è§åº¦</span>
    <span class="hljs-attr">uColor</span>: { <span class="hljs-attr">value</span>: <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Color</span>(<span class="hljs-number">0xffffff</span>) } <span class="hljs-comment">// é›ªèŠ±åŸºç¡€é¢œè‰²ï¼šçº¯ç™½è‰²ï¼Œè¿˜åŸçœŸå®é›ªèŠ±</span>
  },
  <span class="hljs-attr">transparent</span>: <span class="hljs-literal">true</span>,             <span class="hljs-comment">// å¯ç”¨é€æ˜ï¼šæ”¯æŒalphaé€šé“ï¼Œå®ç°è¾¹ç¼˜æ¸éšå…‰æ™•</span>
  <span class="hljs-attr">depthTest</span>: <span class="hljs-literal">true</span>,               <span class="hljs-comment">// å¯ç”¨æ·±åº¦æµ‹è¯•ï¼šé¿å…è¿œé›ªèŠ±é®æŒ¡è¿‘é›ªèŠ±ï¼Œä¿è¯æ­£å¸¸æ¸²æŸ“å±‚çº§</span>
  <span class="hljs-attr">depthWrite</span>: <span class="hljs-literal">false</span>,             <span class="hljs-comment">// ä¼˜åŒ–ï¼šå…³é—­æ·±åº¦å†™å…¥ï¼Œé¿å…é€æ˜é›ªèŠ±äº’ç›¸é®æŒ¡ï¼Œå…‰æ™•æ›´è¿è´¯</span>
  <span class="hljs-attr">blending</span>: <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">AdditiveBlending</span> <span class="hljs-comment">// ä¼˜åŒ–ï¼šå¯ç”¨åŠ æ³•æ··åˆï¼Œé›ªèŠ±é‡å å¤„äº®åº¦å åŠ ï¼Œæå‡å…‰æ™•è´¨æ„Ÿ</span>
});
</code></pre>
<h5 data-id="heading-16">4.2 å…³é”®è¯´æ˜</h5>
<ul>
<li><strong>å…¨å±€<code>uniform</code>å‚æ•°</strong>ï¼š<code>pointSize</code>ä¸<code>uColor</code>æ˜¯æ‰€æœ‰é›ªèŠ±å…±äº«çš„å…¨å±€å‚æ•°ï¼Œåç»­å¯é€šè¿‡ä¿®æ”¹<code>material.uniforms.xxx.value</code>å®ç°é›ªèŠ±å°ºå¯¸ä¸é¢œè‰²çš„åŠ¨æ€è°ƒæ•´ï¼ˆå¦‚éšæ—¶é—´å˜æµ…/å˜å¤§ï¼‰ã€‚</li>
<li><strong><code>transparent: true</code></strong>ï¼šå¯ç”¨é€æ˜é€šé“ï¼Œæ”¯æŒç‰‡å…ƒç€è‰²å™¨ä¸­çš„<code>alpha</code>å€¼ï¼Œå®ç°é›ªèŠ±è¾¹ç¼˜çš„æ¸éšæ•ˆæœâ€”â€”å¦‚æœå…³é—­è¯¥å‚æ•°ï¼Œé›ªèŠ±ä¼šå˜æˆä¸é€æ˜çš„ç™½è‰²æ–¹å—ï¼Œä¸¢å¤±å…‰æ™•è´¨æ„Ÿã€‚</li>
<li><strong><code>depthWrite: false</code></strong>ï¼šå…³é—­æ·±åº¦å†™å…¥ï¼Œå…è®¸é€æ˜é›ªèŠ±äº’ç›¸å åŠ ï¼Œé¿å…â€œåæ¸²æŸ“çš„é›ªèŠ±è¢«å…ˆæ¸²æŸ“çš„é›ªèŠ±é®æŒ¡â€çš„é—®é¢˜ï¼Œè®©é›ªèŠ±ç¾¤çš„å…‰æ™•æ›´è¿è´¯ï¼Œå°¤å…¶åœ¨é›ªèŠ±å¯†é›†åŒºåŸŸï¼Œè§†è§‰æ•ˆæœæ›´æŸ”å’Œã€‚</li>
<li><strong><code>AdditiveBlending</code>ï¼ˆåŠ æ³•æ··åˆï¼‰</strong>ï¼šé›ªèŠ±é‡å å¤„çš„äº®åº¦ä¼šå åŠ ï¼Œå½¢æˆæ›´æ˜äº®çš„ç™½è‰²å…‰æ™•ï¼Œæ¨¡æ‹Ÿæ¼«å¤©é›ªèŠ±é£˜è½çš„æœ¦èƒ§æ°›å›´â€”â€”å¦‚æœå…³é—­è¯¥å‚æ•°ï¼Œé›ªèŠ±é‡å åŒºåŸŸä¼šæ˜¾å¾—ç°æš—ï¼Œç¼ºä¹æ°›å›´æ„Ÿã€‚</li>
</ul>
<h4 data-id="heading-17">æ­¥éª¤5ï¼šæ„å»ºBufferGeometryï¼ˆé«˜æ•ˆå­˜å‚¨é›ªèŠ±åæ ‡æ•°æ®ï¼‰</h4>
<p>é€šè¿‡<code>Float32Array</code>ä¸<code>BufferGeometry</code>é«˜æ•ˆå­˜å‚¨é›ªèŠ±çš„3Dåæ ‡æ•°æ®ï¼Œå‡å°‘CPUä¸GPUä¹‹é—´çš„æ•°æ®ä¼ è¾“å¼€é”€ï¼Œæ”¯æ’‘1000çº§ç²’å­çš„æµç•…æ¸²æŸ“ã€‚</p>
<h5 data-id="heading-18">5.1 æ ¸å¿ƒä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 6. æ„å»ºç²’å­å‡ ä½•ä½“ï¼ˆBufferGeometryï¼šé«˜æ•ˆå­˜å‚¨å¤§é‡é¡¶ç‚¹æ•°æ®ï¼‰</span>
<span class="hljs-comment">// åˆ›å»ºæµ®ç‚¹å‹æ•°ç»„å­˜å‚¨é›ªèŠ±é¡¶ç‚¹åæ ‡ï¼ˆæ¯ä¸ªé›ªèŠ±3ä¸ªå€¼ï¼šx/y/zï¼Œå…±count*3ä¸ªå…ƒç´ ï¼‰</span>
<span class="hljs-keyword">const</span> positions = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(count * <span class="hljs-number">3</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; count * <span class="hljs-number">3</span>; i += <span class="hljs-number">3</span>) {
  <span class="hljs-comment">// é›ªèŠ±åæ ‡èŒƒå›´ï¼š(-100, -100, -100) ~ (100, 100, 100)ï¼Œå‡åŒ€åˆ†å¸ƒåœ¨3Dç©ºé—´ä¸­</span>
  positions[i]     = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">200</span> - <span class="hljs-number">100</span>; <span class="hljs-comment">// xè½´åæ ‡ï¼šæ°´å¹³å·¦å³åˆ†å¸ƒ</span>
  positions[i + <span class="hljs-number">1</span>] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">200</span> - <span class="hljs-number">100</span>; <span class="hljs-comment">// yè½´åæ ‡ï¼šå‚ç›´ä¸Šä¸‹åˆ†å¸ƒï¼ˆç”¨äºä¸‹è½åŠ¨ç”»ï¼‰</span>
  positions[i + <span class="hljs-number">2</span>] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">200</span> - <span class="hljs-number">100</span>; <span class="hljs-comment">// zè½´åæ ‡ï¼šçºµæ·±å‰ååˆ†å¸ƒï¼Œæå‡3Dæ„Ÿ</span>
}

<span class="hljs-comment">// åˆå§‹åŒ–BufferGeometryï¼Œç»‘å®šé¡¶ç‚¹ä½ç½®æ•°æ®</span>
<span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
<span class="hljs-comment">// Float32BufferAttribute(æ•°æ®æ•°ç»„, æ¯ä¸ªé¡¶ç‚¹çš„åˆ†é‡æ•°)ï¼šæ­¤å¤„3å¯¹åº”x/y/z</span>
geometry.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'position'</span>, <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Float32BufferAttribute</span>(positions, <span class="hljs-number">3</span>));

<span class="hljs-comment">// 7. æ„å»ºç²’å­å¯¹è±¡ï¼ˆTHREE.Pointsï¼šä¸“é—¨ç”¨äºæ¸²æŸ“ç‚¹ç²’å­ç³»ç»Ÿï¼‰</span>
<span class="hljs-keyword">const</span> mesh = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Points</span>(geometry, material);
scene.<span class="hljs-title function_">add</span>(mesh); <span class="hljs-comment">// å°†é›ªèŠ±ç¾¤æ·»åŠ åˆ°åœºæ™¯ä¸­</span>
</code></pre>
<h5 data-id="heading-19">5.2 å…³é”®æŠ€æœ¯ç‚¹è§£æ</h5>
<ul>
<li><strong><code>Float32Array</code>çš„é«˜æ•ˆæ€§</strong>ï¼šè¿™æ˜¯ä¸€ç§äºŒè¿›åˆ¶æµ®ç‚¹æ•°ç»„ï¼Œç›¸æ¯”æ™®é€šJSæ•°ç»„ï¼Œå ç”¨å†…å­˜æ›´å°‘ï¼ˆæ¯ä¸ªå…ƒç´ ä»…4å­—èŠ‚ï¼‰ã€ä¼ è¾“åˆ°GPUçš„é€Ÿåº¦æ›´å¿«ï¼Œä¸“é—¨ç”¨äºå­˜å‚¨å¤§é‡ç²’å­çš„åæ ‡æ•°æ®ï¼Œæ˜¯é«˜æ€§èƒ½ç²’å­ç³»ç»Ÿçš„å¿…å¤‡é€‰æ‹©ã€‚</li>
<li><strong><code>BufferGeometry</code>çš„ä¼˜åŠ¿</strong>ï¼šThree.jsæ¨èçš„é«˜æ€§èƒ½å‡ ä½•ä½“ï¼Œç›¸æ¯”å·²åºŸå¼ƒçš„<code>Geometry</code>ï¼Œå®ƒç›´æ¥å°†æ•°æ®å­˜å‚¨åœ¨GPUæ˜¾å­˜ä¸­ï¼Œå‡å°‘CPUä¸GPUä¹‹é—´çš„é¢‘ç¹æ•°æ®ä¼ è¾“ï¼Œèƒ½å¤Ÿè½»æ¾æ”¯æ’‘1000çº§ç”šè‡³ä¸‡çº§ç²’å­çš„æµç•…æ¸²æŸ“ã€‚</li>
<li><strong>é›ªèŠ±çš„3Dç©ºé—´åˆ†å¸ƒ</strong>ï¼šx/y/zä¸‰è½´å‡åœ¨<code>(-100, 100)</code>èŒƒå›´å†…éšæœºåˆ†å¸ƒï¼Œå½¢æˆç«‹ä½“çš„é›ªèŠ±ç¾¤â€”â€”zè½´çš„çºµæ·±åˆ†å¸ƒè®©é›ªèŠ±é£˜è½æ—¶å‘ˆç°â€œè¿‘å¿«è¿œæ…¢â€çš„é€è§†æ•ˆæœï¼Œæå‡3Dåœºæ™¯çš„çœŸå®æ„Ÿï¼Œé¿å…å¹³é¢åŒ–çš„é£˜è½æ•ˆæœã€‚</li>
<li><strong><code>THREE.Points</code></strong>ï¼šä¸“é—¨ç”¨äºæ¸²æŸ“ç‚¹ç²’å­ç³»ç»Ÿçš„å¯¹è±¡ï¼Œå°†<code>BufferGeometry</code>ï¼ˆåæ ‡æ•°æ®ï¼‰ä¸<code>ShaderMaterial</code>ï¼ˆè§†è§‰æ•ˆæœï¼‰ç»“åˆï¼Œç”Ÿæˆæœ€ç»ˆçš„é›ªèŠ±ç¾¤ï¼Œç›¸æ¯”<code>Mesh</code>å¯¹è±¡ï¼Œå®ƒçš„æ¸²æŸ“å¼€é”€æ›´ä½ï¼Œæ›´é€‚åˆå¤§é‡ç²’å­åœºæ™¯ã€‚</li>
</ul>
<h4 data-id="heading-20">æ­¥éª¤6ï¼šé›ªèŠ±åŠ¨æ€æ›´æ–°å‡½æ•°ï¼ˆå®ç°è‡ªç„¶é£˜è½ä¸å¾ªç¯åŠ¨ç”»ï¼‰</h4>
<p>ç¼–å†™ç²’å­æ›´æ–°é€»è¾‘ï¼Œå®ç°é›ªèŠ±çš„å‚ç›´ä¸‹è½ã€æ°´å¹³éšæœºåç§»ï¼Œä»¥åŠè¶…å‡ºè¾¹ç•Œåçš„é‡ç½®ï¼Œæ‰“é€ æ— é™å¾ªç¯çš„è‡ªç„¶é£˜è½æ•ˆæœï¼Œé¿å…é›ªèŠ±æ¶ˆå¤±ååœºæ™¯ç©ºæ´ã€‚</p>
<h5 data-id="heading-21">6.1 æ ¸å¿ƒä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 8. ç²’å­åŠ¨æ€æ›´æ–°å‡½æ•°ï¼ˆå®ç°ä¸‹è½+åç§»åŠ¨ç”»ï¼Œé‡ç½®è¶…å‡ºè¾¹ç•Œçš„é›ªèŠ±ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">time</span>) {
  <span class="hljs-keyword">if</span> (!material || !mesh) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// å®‰å…¨åˆ¤æ–­ï¼šé¿å…å¯¹è±¡æœªåˆå§‹åŒ–æŠ¥é”™</span>
  
  <span class="hljs-comment">// è·å–é›ªèŠ±é¡¶ç‚¹ä½ç½®æ•°ç»„ï¼ˆgeometry.getAttributeè¿”å›çš„æ˜¯å±æ€§å¯¹è±¡ï¼Œ.arrayè·å–åŸå§‹æ•°æ®ï¼‰</span>
  <span class="hljs-keyword">const</span> positions = mesh.<span class="hljs-property">geometry</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">"position"</span>).<span class="hljs-property">array</span>;
  
  <span class="hljs-comment">// éå†æ‰€æœ‰é›ªèŠ±ï¼Œæ›´æ–°åæ ‡ï¼ˆæ¯3ä¸ªå…ƒç´ å¯¹åº”ä¸€ä¸ªé›ªèŠ±çš„x/y/zï¼‰</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; positions.<span class="hljs-property">length</span>; i += <span class="hljs-number">3</span>) {
    <span class="hljs-comment">// æ­¥éª¤1ï¼šå‚ç›´ä¸‹è½ï¼ˆyè½´é€’å‡ï¼Œé€Ÿåº¦0.2ï¼‰ï¼šæ¨¡æ‹Ÿé›ªèŠ±çš„é‡åŠ›ä¸‹è½</span>
    positions[i + <span class="hljs-number">1</span>] -= <span class="hljs-number">0.2</span>;
    
    <span class="hljs-comment">// æ­¥éª¤2ï¼šæ°´å¹³è½»å¾®åç§»ï¼ˆç»“åˆæ—¶é—´å‚æ•°ï¼Œè®©åç§»éšæ—¶é—´å˜åŒ–ï¼Œè¿åŠ¨æ›´è‡ªç„¶ï¼‰</span>
    <span class="hljs-comment">// åŸå§‹ä»£ç Math.sin(i)æ˜¯å›ºå®šå€¼ï¼Œä¼˜åŒ–ä¸ºMath.sin(i + time)ï¼Œå®ç°åŠ¨æ€å·¦å³/å‰ååç§»</span>
    positions[i]     -= <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(i + time) * <span class="hljs-number">0.1</span>;   <span class="hljs-comment">// xè½´åç§»ï¼šå·¦å³æ™ƒåŠ¨</span>
    positions[i + <span class="hljs-number">2</span>] -= <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(i + time * <span class="hljs-number">0.8</span>) * <span class="hljs-number">0.1</span>; <span class="hljs-comment">// zè½´åç§»ï¼šå‰åæ™ƒåŠ¨ï¼Œé¿å…åç§»åŒæ­¥</span>
    
    <span class="hljs-comment">// æ­¥éª¤3ï¼šé‡ç½®è¶…å‡ºä¸‹è¾¹ç•Œçš„é›ªèŠ±ï¼ˆy &lt; -100æ—¶ï¼Œé‡ç½®åˆ°é¡¶éƒ¨100ï¼Œå®ç°å¾ªç¯ä¸‹è½ï¼‰</span>
    <span class="hljs-keyword">if</span> (positions[i + <span class="hljs-number">1</span>] &lt; -<span class="hljs-number">100</span>) {
      positions[i + <span class="hljs-number">1</span>] = <span class="hljs-number">100</span>;
      <span class="hljs-comment">// é‡ç½®æ—¶åŒæ­¥æ›´æ–°x/zåæ ‡ï¼Œé¿å…é›ªèŠ±é‡ç½®åä½ç½®å•ä¸€ï¼Œæå‡è‡ªç„¶æ„Ÿ</span>
      positions[i]     = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">200</span> - <span class="hljs-number">100</span>;
      positions[i + <span class="hljs-number">2</span>] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">200</span> - <span class="hljs-number">100</span>;
    }
  }
  
  <span class="hljs-comment">// å…³é”®ï¼šæ ‡è®°ä½ç½®å±æ€§éœ€è¦æ›´æ–°ï¼Œå‘Šè¯‰Three.jsé‡æ–°ä¸Šä¼ æ•°æ®åˆ°GPU</span>
  mesh.<span class="hljs-property">geometry</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">"position"</span>).<span class="hljs-property">needsUpdate</span> = <span class="hljs-literal">true</span>;
}
</code></pre>
<h5 data-id="heading-22">6.2 å…³é”®æŠ€æœ¯ç‚¹è§£æ</h5>
<ol>
<li>
<p><strong>è‡ªç„¶é£˜è½çš„åŒåŠ¨æ•ˆé€»è¾‘</strong>ï¼š</p>
<ul>
<li><strong>å‚ç›´ä¸‹è½</strong>ï¼š<code>positions[i + 1] -= 0.2</code>ï¼ˆyè½´é€’å‡ï¼‰ï¼Œæ¨¡æ‹Ÿé›ªèŠ±å—é‡åŠ›ä¸‹è½çš„æ•ˆæœï¼Œ0.2çš„é€Ÿåº¦å…¼é¡¾æµç•…åº¦ä¸è§†è§‰èˆ’é€‚åº¦â€”â€”é€Ÿåº¦è¿‡å¿«ä¼šæ˜¾å¾—æ‚ä¹±ï¼Œè¿‡æ…¢ä¼šç¼ºä¹åŠ¨æ„Ÿã€‚</li>
<li><strong>æ°´å¹³/çºµæ·±åç§»</strong>ï¼šé€šè¿‡<code>Math.sin(i + time)</code>å®ç°åŠ¨æ€åç§»ï¼Œ<code>i</code>ä¿è¯æ¯ä¸ªé›ªèŠ±çš„åç§»ç›¸ä½ä¸åŒï¼Œ<code>time</code>ä¿è¯åç§»éšæ—¶é—´å˜åŒ–ï¼Œ<code>0.8</code>çš„æ—¶é—´ç³»æ•°è®©zè½´åç§»ä¸xè½´ä¸åŒæ­¥ï¼Œé¿å…é›ªèŠ±â€œæ•´é½åˆ’ä¸€â€çš„æ™ƒåŠ¨ï¼Œè¿˜åŸçœŸå®é›ªèŠ±çš„æ— è§„åˆ™é£˜è½è½¨è¿¹ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¾ªç¯åŠ¨ç”»çš„æ ¸å¿ƒé€»è¾‘</strong>ï¼š</p>
<ul>
<li>è¾¹ç•Œåˆ¤æ–­ï¼š<code>positions[i + 1] &lt; -100</code>ï¼Œå½“é›ªèŠ±ä¸‹è½è‡³ä¸‹è¾¹ç•Œä»¥ä¸‹æ—¶ï¼Œè§¦å‘é‡ç½®é€»è¾‘ã€‚</li>
<li>é¡¶éƒ¨é‡ç½®ï¼šå°†é›ªèŠ±çš„yè½´åæ ‡é‡ç½®ä¸º100ï¼ˆé¡¶éƒ¨ï¼‰ï¼ŒåŒæ—¶é‡æ–°éšæœºç”Ÿæˆx/zè½´åæ ‡ï¼Œé¿å…é›ªèŠ±åœ¨åŒä¸€ä½ç½®é‡å¤å‡ºç°ï¼Œæå‡é£˜è½æ•ˆæœçš„è‡ªç„¶æ„Ÿã€‚</li>
<li><code>needsUpdate = true</code>ï¼šè¿™æ˜¯åŠ¨æ€æ›´æ–°ç²’å­åæ ‡çš„å…³é”®â€”â€”ä¿®æ”¹<code>positions</code>æ•°ç»„åï¼Œå¿…é¡»æ ‡è®°ä½ç½®å±æ€§éœ€è¦æ›´æ–°ï¼Œå¦åˆ™Three.jsä¸ä¼šå°†æ–°æ•°æ®ä¸Šä¼ åˆ°GPUï¼Œé›ªèŠ±å°†æ— æ³•å®ç°ä¸‹è½ä¸é‡ç½®åŠ¨ç”»ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-23">æ­¥éª¤7ï¼šåŠ¨ç”»å¾ªç¯ä¸çª—å£é€‚é…ï¼ˆé©±åŠ¨åŠ¨ç”»ï¼Œé€‚é…ä¸åŒå±å¹•ï¼‰</h4>
<p>é€šè¿‡<code>requestAnimationFrame</code>é©±åŠ¨åŠ¨ç”»å¾ªç¯ï¼Œæ›´æ–°é›ªèŠ±ä½ç½®ä¸æ§åˆ¶å™¨é˜»å°¼ï¼ŒåŒæ—¶å®ç°çª—å£å“åº”å¼é€‚é…ï¼Œä¿è¯é›ªèŠ±æ•ˆæœåœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹æ­£å¸¸æ˜¾ç¤ºã€‚</p>
<h5 data-id="heading-24">7.1 æ ¸å¿ƒä»£ç </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 9. åŠ¨ç”»å¾ªç¯ï¼ˆé©±åŠ¨ç²’å­åŠ¨ç”»ï¼Œå®ç°æµç•…æ¸²æŸ“ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">requestAnimationFrame</span>(animate); <span class="hljs-comment">// ç»‘å®šæµè§ˆå™¨åˆ·æ–°ç‡ï¼ˆ60å¸§/ç§’ï¼‰ï¼Œé¿å…å¡é¡¿</span>
  <span class="hljs-keyword">const</span> time = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() * <span class="hljs-number">0.0005</span>; <span class="hljs-comment">// è·å–å½“å‰æ—¶é—´ï¼ˆç¼©æ”¾ç³»æ•°0.0005ï¼Œè®©åŠ¨ç”»é€Ÿåº¦é€‚ä¸­ï¼‰</span>
  
  <span class="hljs-title function_">update</span>(time); <span class="hljs-comment">// è°ƒç”¨é›ªèŠ±æ›´æ–°å‡½æ•°ï¼Œä¼ é€’æ—¶é—´å‚æ•°</span>
  controls.<span class="hljs-title function_">update</span>(); <span class="hljs-comment">// æ›´æ–°è½¨é“æ§åˆ¶å™¨é˜»å°¼ï¼ˆå¿…é¡»åœ¨åŠ¨ç”»å¾ªç¯ä¸­è°ƒç”¨ï¼‰</span>
  renderer.<span class="hljs-title function_">render</span>(scene, camera); <span class="hljs-comment">// æ¸²æŸ“åœºæ™¯ï¼ˆå°†3Dé›ªèŠ±ç¾¤è½¬æ¢ä¸º2Dç”»å¸ƒæ˜¾ç¤ºï¼‰</span>
}

<span class="hljs-comment">// å¯åŠ¨åŠ¨ç”»å¾ªç¯</span>
<span class="hljs-title function_">animate</span>();

<span class="hljs-comment">// 10. çª—å£å“åº”å¼é€‚é…ï¼ˆé€‚é…ä¸åŒå±å¹•å°ºå¯¸ï¼Œé¿å…é›ªèŠ±æ‹‰ä¼¸å˜å½¢ï¼‰</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-function">() =&gt;</span> {
  camera.<span class="hljs-property">aspect</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>; <span class="hljs-comment">// æ›´æ–°ç›¸æœºå®½é«˜æ¯”</span>
  camera.<span class="hljs-title function_">updateProjectionMatrix</span>(); <span class="hljs-comment">// å…³é”®ï¼šæ›´æ–°ç›¸æœºæŠ•å½±çŸ©é˜µï¼Œè®©å®½é«˜æ¯”ä¿®æ”¹ç”Ÿæ•ˆ</span>
  renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>); <span class="hljs-comment">// æ›´æ–°æ¸²æŸ“å™¨å°ºå¯¸</span>
});
</code></pre>
<h5 data-id="heading-25">7.2 å…³é”®è¯´æ˜</h5>
<ul>
<li><strong><code>requestAnimationFrame</code></strong>ï¼šç»‘å®šæµè§ˆå™¨çš„åˆ·æ–°ç‡ï¼ˆé€šå¸¸ä¸º60å¸§/ç§’ï¼‰ï¼Œç›¸æ¯”<code>setInterval</code>ï¼Œå®ƒèƒ½é¿å…åŠ¨ç”»å¡é¡¿ä¸æ‰å¸§ï¼Œä¿è¯é›ªèŠ±é£˜è½æ•ˆæœçš„æµç•…æ€§ï¼ŒåŒæ—¶èŠ‚çœCPUä¸GPUèµ„æºã€‚</li>
<li><strong>æ—¶é—´ç¼©æ”¾ç³»æ•°<code>0.0005</code></strong>ï¼š<code>Date.now()</code>è¿”å›çš„æ˜¯æ¯«ç§’çº§æ—¶é—´æˆ³ï¼Œç›´æ¥ä½¿ç”¨ä¼šå¯¼è‡´åŠ¨ç”»é€Ÿåº¦è¿‡å¿«ï¼Œé€šè¿‡<code>* 0.0005</code>å°†æ—¶é—´ç¼©æ”¾ä¸ºç§’çº§ä¸”æ”¾ç¼“é€Ÿåº¦ï¼Œè®©é›ªèŠ±çš„åç§»ä¸ä¸‹è½æ›´è‡ªç„¶ã€‚</li>
<li><strong><code>camera.updateProjectionMatrix()</code></strong>ï¼šçª—å£å°ºå¯¸å˜åŒ–æ—¶ï¼Œç›¸æœºçš„å®½é«˜æ¯”ä¼šä¿®æ”¹ï¼Œå¿…é¡»è°ƒç”¨è¯¥æ–¹æ³•æ›´æ–°æŠ•å½±çŸ©é˜µï¼Œå¦åˆ™é›ªèŠ±ç¾¤ä¼šå‡ºç°æ‹‰ä¼¸å˜å½¢ï¼Œç ´å3Dè§†è§‰æ•ˆæœã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-26">æ ¸å¿ƒæŠ€æœ¯æ·±åº¦è§£æ</h3>
<h4 data-id="heading-27">1.  é›ªèŠ±è§†è§‰æ•ˆæœçš„æ ¸å¿ƒå®ç°ï¼ˆç€è‰²å™¨é€»è¾‘ï¼‰</h4>
<p>é›ªèŠ±çš„æŸ”å’Œå…‰æ™•ä¸åœ†å½¢å½¢æ€æ˜¯é€šè¿‡ç‰‡å…ƒç€è‰²å™¨çš„å››å±‚é€»è¾‘å®ç°çš„ï¼Œæ¯å±‚é€»è¾‘ç¯ç¯ç›¸æ‰£ï¼Œæœ€ç»ˆè¿˜åŸçœŸå®é›ªèŠ±çš„è§†è§‰ç‰¹å¾ï¼Œå…·ä½“æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[è·å–ç²’å­å†…UVåæ ‡ gl_PointCoord] --&gt; B[è®¡ç®—åˆ°ä¸­å¿ƒçš„è·ç¦» distanceToCenter]
    B --&gt; C[smoothstepå®ç°è¾¹ç¼˜æ¸éš alpha]
    C --&gt; D[powæ”¾å¤§äº®åº¦å·®å¼‚ brightness]
    D --&gt; E[ç»„åˆé¢œè‰²ä¸é€æ˜åº¦ gl_FragColor]
</code></pre>
<ul>
<li>æ ¸å¿ƒäº®ç‚¹ï¼šé€šè¿‡<strong>åƒç´ çº§è®¡ç®—</strong>å®ç°è§†è§‰æ•ˆæœï¼Œè¿è¡Œåœ¨GPUä¸Šï¼Œå…·å¤‡å¹¶è¡Œå¤„ç†èƒ½åŠ›ï¼Œå³ä½¿1000çº§é›ªèŠ±ï¼Œä¹Ÿèƒ½ä¿æŒ60å¸§æµç•…æ¸²æŸ“ï¼Œè¿™æ˜¯æ™®é€šJSé€»è¾‘æ— æ³•å®ç°çš„ã€‚</li>
<li>å…³é”®ä¼˜åŒ–ï¼š<code>AdditiveBlending</code>åŠ æ³•æ··åˆè®©é›ªèŠ±é‡å å¤„äº®åº¦å åŠ ï¼Œå½¢æˆæœ¦èƒ§çš„å…‰æ™•æ°›å›´ï¼Œæ¨¡æ‹Ÿæ¼«å¤©é£é›ªçš„è§†è§‰æ•ˆæœï¼ŒåŒæ—¶<code>depthWrite: false</code>é¿å…é€æ˜ç²’å­äº’ç›¸é®æŒ¡ï¼Œä¿è¯å…‰æ™•çš„è¿è´¯æ€§ã€‚</li>
</ul>
<h4 data-id="heading-28">2.  é›ªèŠ±é£˜è½åŠ¨ç”»çš„å¾ªç¯é€»è¾‘ï¼ˆCPUç«¯åŠ¨æ€æ›´æ–°ï¼‰</h4>
<p>é›ªèŠ±çš„æ— é™å¾ªç¯é£˜è½æ˜¯é€šè¿‡â€œä¸‹è½-åˆ¤æ–­-é‡ç½®â€çš„é—­ç¯é€»è¾‘å®ç°çš„ï¼Œæ ¸å¿ƒè¦ç‚¹å¦‚ä¸‹ï¼š</p>









































<table><thead><tr><th>æ­¥éª¤</th><th>é€»è¾‘</th><th>å…³é”®ä»£ç </th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>1</td><td>å‚ç›´ä¸‹è½</td><td><code>positions[i + 1] -= 0.2</code></td><td>æ¨¡æ‹Ÿé‡åŠ›ä¸‹è½ï¼Œå®ç°é›ªèŠ±çš„åŸºç¡€è¿åŠ¨è½¨è¿¹</td></tr><tr><td>2</td><td>åŠ¨æ€åç§»</td><td><code>positions[i] -= Math.sin(i + time) * 0.1</code></td><td>å®ç°æ— è§„åˆ™æ°´å¹³/çºµæ·±æ™ƒåŠ¨ï¼Œæå‡è‡ªç„¶æ„Ÿ</td></tr><tr><td>3</td><td>è¾¹ç•Œåˆ¤æ–­</td><td><code>if (positions[i + 1] &lt; -100)</code></td><td>æ£€æµ‹é›ªèŠ±æ˜¯å¦è¶…å‡ºä¸‹è¾¹ç•Œï¼Œè§¦å‘é‡ç½®é€»è¾‘</td></tr><tr><td>4</td><td>é¡¶éƒ¨é‡ç½®</td><td><code>positions[i + 1] = 100</code></td><td>å°†é›ªèŠ±é‡ç½®åˆ°é¡¶éƒ¨ï¼Œå®ç°æ— é™å¾ªç¯</td></tr><tr><td>5</td><td>æ•°æ®æ›´æ–°</td><td><code>needsUpdate = true</code></td><td>é€šçŸ¥Three.jsä¸Šä¼ æ–°æ•°æ®åˆ°GPUï¼ŒåŠ¨ç”»ç”Ÿæ•ˆ</td></tr></tbody></table>
<h4 data-id="heading-29">3.  <code>BufferGeometry</code>ä¸<code>ShaderMaterial</code>çš„æ€§èƒ½ä¼˜åŠ¿</h4>
<p>æœ¬ä»£ç èƒ½å¤Ÿé«˜æ•ˆæ”¯æ’‘1000çº§ç²’å­æ¸²æŸ“ï¼Œæ ¸å¿ƒåœ¨äº<code>BufferGeometry</code>ä¸<code>ShaderMaterial</code>çš„ç»„åˆï¼Œå…¶æ€§èƒ½ä¼˜åŠ¿ä¸»è¦ä½“ç°åœ¨ï¼š</p>
<ol>
<li><strong>æ•°æ®é«˜æ•ˆå­˜å‚¨</strong>ï¼š<code>BufferGeometry</code>ä½¿ç”¨äºŒè¿›åˆ¶æ•°ç»„å­˜å‚¨ç²’å­æ•°æ®ï¼Œä¸€æ¬¡æ€§ä¸Šä¼ åˆ°GPUæ˜¾å­˜ï¼Œåç»­ä»…éœ€æ›´æ–°å°‘é‡æ•°æ®ï¼ˆå¦‚ä½ç½®å±æ€§ï¼‰ï¼Œå‡å°‘CPUä¸GPUä¹‹é—´çš„é¢‘ç¹æ•°æ®ä¼ è¾“ã€‚</li>
<li><strong>GPUå¹¶è¡Œå¤„ç†</strong>ï¼šç€è‰²å™¨é€»è¾‘è¿è¡Œåœ¨GPUä¸Šï¼Œå…·å¤‡å¼ºå¤§çš„å¹¶è¡Œå¤„ç†èƒ½åŠ›ï¼Œå¯åŒæ—¶å¤„ç†ä¸Šåƒä¸ªé›ªèŠ±çš„è§†è§‰æ¸²æŸ“ï¼Œæ€§èƒ½è¿œè¶…æ™®é€šJSé©±åŠ¨çš„ç²’å­ç³»ç»Ÿã€‚</li>
<li><strong>ä½æ¸²æŸ“å¼€é”€</strong>ï¼š<code>THREE.Points</code>å¯¹è±¡çš„æ¸²æŸ“å¼€é”€è¿œä½äº<code>Mesh</code>å¯¹è±¡ï¼Œé…åˆ<code>ShaderMaterial</code>çš„è‡ªå®šä¹‰è§†è§‰é€»è¾‘ï¼Œæ— éœ€é¢å¤–çš„å‡ ä½•ä½“ä¸çº¹ç†èµ„æºï¼Œè¿›ä¸€æ­¥æå‡æ¸²æŸ“æ•ˆç‡ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-30">æ ¸å¿ƒå‚æ•°é€ŸæŸ¥è¡¨ï¼ˆå¿«é€Ÿè°ƒæ•´é›ªèŠ±æ•ˆæœï¼‰</h3>





























































<table><thead><tr><th>å‚æ•°åˆ†ç±»</th><th>å‚æ•°å</th><th>å½“å‰å–å€¼</th><th>æ ¸å¿ƒä½œç”¨</th><th>ä¿®æ”¹å»ºè®®</th></tr></thead><tbody><tr><td>é›ªèŠ±åŸºç¡€é…ç½®</td><td><code>count</code></td><td>1000</td><td>é›ªèŠ±æ€»æ•°ï¼Œå†³å®šé£˜è½æ•ˆæœçš„æµ“å¯†æ„Ÿ</td><td>æ”¹ä¸º500ï¼šé›ªèŠ±æ›´ç¨€ç–ï¼Œä½é…è®¾å¤‡æ›´æµç•…ï¼›æ”¹ä¸º2000ï¼šé›ªèŠ±æ›´æµ“å¯†ï¼Œæ°›å›´æ„Ÿæ›´å¼ºï¼ˆéœ€æ³¨æ„æ€§èƒ½ï¼‰</td></tr><tr><td>é›ªèŠ±è§†è§‰é…ç½®</td><td><code>pointSize</code></td><td>10.0</td><td>é›ªèŠ±å±å¹•å°ºå¯¸ï¼Œå†³å®šå•æœµé›ªèŠ±çš„å¤§å°</td><td>æ”¹ä¸º5.0ï¼šé›ªèŠ±æ›´å°æ›´ç»†è…»ï¼Œæ¨¡æ‹Ÿç»†é›ªï¼›æ”¹ä¸º20.0ï¼šé›ªèŠ±æ›´å¤§æ›´é†’ç›®ï¼Œæ¨¡æ‹Ÿé¹…æ¯›å¤§é›ª</td></tr><tr><td>é›ªèŠ±è§†è§‰é…ç½®</td><td><code>uColor</code></td><td><code>new THREE.Color(0xffffff)</code></td><td>é›ªèŠ±åŸºç¡€é¢œè‰²ï¼Œå†³å®šé›ªèŠ±çš„æ•´ä½“è‰²è°ƒ</td><td>æ”¹ä¸º<code>0xf0f8ff</code>ï¼ˆæ·¡è“è‰²ï¼‰ï¼šæ¨¡æ‹Ÿå¯’å†¬å†·é›ªï¼›æ”¹ä¸º<code>0xfffff0</code>ï¼ˆç±³ç™½è‰²ï¼‰ï¼šæ¨¡æ‹Ÿæš–å…‰ä¸‹çš„é›ªèŠ±</td></tr><tr><td>é›ªèŠ±åŠ¨ç”»é…ç½®</td><td>ä¸‹è½é€Ÿåº¦ <code>positions[i + 1] -= 0.2</code></td><td>0.2</td><td>é›ªèŠ±å‚ç›´ä¸‹è½çš„é€Ÿåº¦ï¼Œå†³å®šåŠ¨ç”»èŠ‚å¥</td><td>æ”¹ä¸º0.1ï¼šä¸‹è½æ›´æ…¢ï¼ŒèŠ‚å¥æ›´èˆ’ç¼“ï¼›æ”¹ä¸º0.5ï¼šä¸‹è½æ›´å¿«ï¼ŒåŠ¨æ€æ„Ÿæ›´å¼º</td></tr><tr><td>é›ªèŠ±åŠ¨ç”»é…ç½®</td><td>åç§»å¹…åº¦ <code>* 0.1</code></td><td>0.1</td><td>é›ªèŠ±æ°´å¹³/çºµæ·±åç§»çš„å¹…åº¦ï¼Œå†³å®šæ™ƒåŠ¨ç¨‹åº¦</td><td>æ”¹ä¸º0.05ï¼šåç§»æ›´å°ï¼Œé£˜è½æ›´å¹³ç¨³ï¼›æ”¹ä¸º0.2ï¼šåç§»æ›´å¤§ï¼Œé£˜è½æ›´æ‚ä¹±ï¼Œæ¨¡æ‹Ÿå¤§é£å¤©æ°”</td></tr><tr><td>åŠ¨ç”»é…ç½®</td><td>æ—¶é—´ç¼©æ”¾ç³»æ•° <code>* 0.0005</code></td><td>0.0005</td><td>åŠ¨ç”»çš„æ•´ä½“é€Ÿåº¦ç³»æ•°ï¼Œå†³å®šåç§»çš„å¿«æ…¢</td><td>æ”¹ä¸º0.0003ï¼šåç§»æ›´æ…¢ï¼Œæ›´è‡ªç„¶ï¼›æ”¹ä¸º0.001ï¼šåç§»æ›´å¿«ï¼Œæ›´åŠ¨æ„Ÿ</td></tr><tr><td>ç›¸æœºé…ç½®</td><td><code>camera.position.set(0, 0, 200)</code></td><td>200ï¼ˆzè½´è·ç¦»ï¼‰</td><td>ç›¸æœºä¸é›ªèŠ±ç¾¤çš„è·ç¦»ï¼Œå†³å®šè§‚å¯Ÿè§†è§’</td><td>æ”¹ä¸º150ï¼šç›¸æœºæ›´è¿‘ï¼Œé›ªèŠ±æ›´å¤§ï¼›æ”¹ä¸º300ï¼šç›¸æœºæ›´è¿œï¼Œå¯è§‚å¯Ÿé›ªèŠ±ç¾¤çš„æ•´ä½“é£˜è½æ€åŠ¿</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-31">å®Œæ•´ä»£ç </h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>é›ªèŠ± - Three.js<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">overflow</span>: hidden; <span class="hljs-attribute">background</span>: <span class="hljs-number">#000</span>; }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span><span class="javascript">
  <span class="hljs-comment">// 1. å¯¼å…¥æ ¸å¿ƒåº“ä¸è½¨é“æ§åˆ¶å™¨</span>
  <span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'https://esm.sh/three@0.174.0'</span>;
  <span class="hljs-keyword">import</span> { <span class="hljs-title class_">OrbitControls</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'https://esm.sh/three@0.174.0/examples/jsm/controls/OrbitControls.js'</span>;

  <span class="hljs-comment">// 2. åŸºç¡€ç¯å¢ƒåˆå§‹åŒ–ï¼ˆåœºæ™¯/ç›¸æœº/æ¸²æŸ“å™¨ï¼‰</span>
  <span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>();

  <span class="hljs-comment">// é€è§†ç›¸æœºï¼šé…ç½®åˆç†å‚æ•°ï¼Œç¡®ä¿èƒ½å®Œæ•´è§‚å¯Ÿç²’å­ç¾¤</span>
  <span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PerspectiveCamera</span>(
    <span class="hljs-number">40</span>,                     <span class="hljs-comment">// è§†è§’ï¼ˆFOVï¼‰ï¼š40Â°è§†é‡é€‚ä¸­ï¼Œæ— ç²’å­å˜å½¢</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>, <span class="hljs-comment">// å®½é«˜æ¯”ï¼šé€‚é…æµè§ˆå™¨çª—å£</span>
    <span class="hljs-number">1</span>,                      <span class="hljs-comment">// è¿‘è£åˆ‡é¢ï¼šè¿‡æ»¤è¿‡è¿‘æ— æ•ˆå¯¹è±¡</span>
    <span class="hljs-number">10000</span>                   <span class="hljs-comment">// è¿œè£åˆ‡é¢ï¼šä¿è¯ç²’å­ç¾¤å®Œæ•´å¤„äºå¯è§èŒƒå›´</span>
  );
  <span class="hljs-comment">// ä¿®å¤ï¼šè®¾ç½®ç›¸æœºåˆå§‹ä½ç½®ï¼ˆåŸå§‹ä»£ç ç¼ºå¤±ï¼Œå¯¼è‡´æ— æ³•çœ‹åˆ°ç²’å­ï¼‰</span>
  camera.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">200</span>);

  <span class="hljs-comment">// æ¸²æŸ“å™¨ï¼šå¼€å¯æŠ—é”¯é½¿ï¼Œæå‡ç²’å­è¾¹ç¼˜ç»†è…»åº¦</span>
  <span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>({ <span class="hljs-attr">antialias</span>: <span class="hljs-literal">true</span> });
  renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>);
  renderer.<span class="hljs-title function_">setPixelRatio</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span>); <span class="hljs-comment">// é«˜æ¸…é€‚é…Retinaå±å¹•</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(renderer.<span class="hljs-property">domElement</span>);

  <span class="hljs-comment">// 3. ç²’å­ç³»ç»Ÿæ ¸å¿ƒé…ç½®</span>
  <span class="hljs-keyword">const</span> count = <span class="hljs-number">1000</span>; <span class="hljs-comment">// ç²’å­æ€»æ•°</span>

  <span class="hljs-comment">// 4. è‡ªå®šä¹‰ç€è‰²å™¨ï¼ˆé¡¶ç‚¹ç€è‰²å™¨ + ç‰‡å…ƒç€è‰²å™¨ï¼‰</span>
  <span class="hljs-comment">// é¡¶ç‚¹ç€è‰²å™¨ï¼šå¤„ç†ç²’å­ä½ç½®ã€å°ºå¯¸ï¼Œå®Œæˆ3Dâ†’2Dé€è§†å˜æ¢</span>
  <span class="hljs-keyword">const</span> vertexShader = <span class="hljs-string">`
    uniform float pointSize; // å…¨å±€ç»Ÿä¸€ç²’å­å°ºå¯¸ï¼ˆuniformï¼šæ‰€æœ‰ç²’å­å…±äº«ï¼‰
    void main() {
      // æ ¸å¿ƒï¼šé€è§†å˜æ¢é“¾ï¼Œå°†ç²’å­å±€éƒ¨åæ ‡è½¬æ¢ä¸ºå±å¹•è£å‰ªåæ ‡
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
      gl_PointSize = pointSize; // ä¸ºæ¯ä¸ªç²’å­è®¾ç½®å±å¹•å°ºå¯¸
    }
  `</span>;

  <span class="hljs-comment">// ç‰‡å…ƒç€è‰²å™¨ï¼šå¤„ç†ç²’å­åƒç´ çº§è§†è§‰æ•ˆæœï¼ˆå½¢çŠ¶ã€é¢œè‰²ã€é€æ˜åº¦ã€äº®åº¦ï¼‰</span>
  <span class="hljs-keyword">const</span> fragmentShader = <span class="hljs-string">`
    uniform vec3 uColor; // å…¨å±€ç»Ÿä¸€ç²’å­é¢œè‰²ï¼ˆuniformï¼šæ‰€æœ‰ç²’å­å…±äº«ï¼‰
    void main() {
      // æ­¥éª¤1ï¼šè®¡ç®—å½“å‰åƒç´ åˆ°ç²’å­ä¸­å¿ƒçš„è·ç¦»ï¼ˆgl_PointCoordï¼šç²’å­å†…UVåæ ‡ï¼ŒèŒƒå›´(0,0)~(1,1)ï¼‰
      float distanceToCenter = distance(gl_PointCoord, vec2(0.5));
      
      // æ­¥éª¤2ï¼šè¾¹ç¼˜æ¸éšæŠ—é”¯é½¿ï¼Œé¿å…ç²’å­è¾¹ç¼˜ç”Ÿç¡¬é”¯é½¿
      // smoothstep(0.4, 0.5, d)ï¼šd&lt;0.4è¿”å›0ï¼Œd&gt;0.5è¿”å›1ï¼Œä¸­é—´å¹³æ»‘æ’å€¼
      float alpha = 1.0 - smoothstep(0.4, 0.5, distanceToCenter);
      
      // æ­¥éª¤3ï¼šå¢å¼ºä¸­å¿ƒäº®åº¦ï¼Œå®ç°â€œä¸­å¿ƒäº®ã€è¾¹ç¼˜æš—â€çš„å…‰æ™•æ•ˆæœ
      // pow(æŒ‡æ•°5.0)ï¼šæ”¾å¤§äº®åº¦å·®å¼‚ï¼Œè®©ä¸­å¿ƒæ›´äº®ï¼Œå…‰æ™•æ›´æœ‰å±‚æ¬¡æ„Ÿ
      float brightness = pow(1.0 - distanceToCenter, 5.0);
      
      // æ­¥éª¤4ï¼šè®¾ç½®æœ€ç»ˆåƒç´ é¢œè‰²ï¼ˆåŸºç¡€è‰²*äº®åº¦ + æ¸éšé€æ˜åº¦ï¼‰
      gl_FragColor = vec4(uColor * brightness, alpha);
    }
  `</span>;

  <span class="hljs-comment">// 5. æ„å»ºç€è‰²å™¨æè´¨ï¼ˆè¿æ¥ä¸¤ä¸ªç€è‰²å™¨ï¼Œé…ç½®å‚æ•°ä¸æ¸²æŸ“æ¨¡å¼ï¼‰</span>
  <span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">ShaderMaterial</span>({
    <span class="hljs-attr">vertexShader</span>: vertexShader,   <span class="hljs-comment">// ç»‘å®šé¡¶ç‚¹ç€è‰²å™¨</span>
    <span class="hljs-attr">fragmentShader</span>: fragmentShader, <span class="hljs-comment">// ç»‘å®šç‰‡å…ƒç€è‰²å™¨</span>
    <span class="hljs-attr">uniforms</span>: {                    <span class="hljs-comment">// å‘ç€è‰²å™¨ä¼ é€’çš„å…¨å±€ç»Ÿä¸€å‚æ•°</span>
      <span class="hljs-attr">pointSize</span>: { <span class="hljs-attr">value</span>: <span class="hljs-number">10.0</span> },  <span class="hljs-comment">// ç²’å­å±å¹•å°ºå¯¸</span>
      <span class="hljs-attr">uColor</span>: { <span class="hljs-attr">value</span>: <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Color</span>(<span class="hljs-number">0xffffff</span>) } <span class="hljs-comment">// ç²’å­åŸºç¡€é¢œè‰²ï¼ˆç™½è‰²ï¼‰</span>
    },
    <span class="hljs-attr">transparent</span>: <span class="hljs-literal">true</span>,             <span class="hljs-comment">// å¯ç”¨é€æ˜ï¼šæ”¯æŒalphaé€šé“ï¼Œå®ç°è¾¹ç¼˜æ¸éš</span>
    <span class="hljs-attr">depthTest</span>: <span class="hljs-literal">true</span>,               <span class="hljs-comment">// å¯ç”¨æ·±åº¦æµ‹è¯•ï¼šé¿å…è¿œç²’å­é®æŒ¡è¿‘ç²’å­ï¼ˆæ­£å¸¸æ¸²æŸ“å±‚çº§ï¼‰</span>
    <span class="hljs-attr">depthWrite</span>: <span class="hljs-literal">false</span>,             <span class="hljs-comment">// ä¼˜åŒ–ï¼šå…³é—­æ·±åº¦å†™å…¥ï¼Œé¿å…é€æ˜ç²’å­äº’ç›¸é®æŒ¡ï¼Œå…‰æ™•æ›´è¿è´¯</span>
    <span class="hljs-attr">blending</span>: <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">AdditiveBlending</span> <span class="hljs-comment">// ä¼˜åŒ–ï¼šå¯ç”¨åŠ æ³•æ··åˆï¼Œç²’å­é‡å å¤„äº®åº¦å åŠ ï¼Œæå‡å…‰æ™•è´¨æ„Ÿ</span>
  });

  <span class="hljs-comment">// 6. æ„å»ºç²’å­å‡ ä½•ä½“ï¼ˆBufferGeometryï¼šé«˜æ•ˆå­˜å‚¨å¤§é‡é¡¶ç‚¹æ•°æ®ï¼‰</span>
  <span class="hljs-comment">// åˆ›å»ºæµ®ç‚¹å‹æ•°ç»„å­˜å‚¨ç²’å­é¡¶ç‚¹åæ ‡ï¼ˆæ¯ä¸ªç²’å­3ä¸ªå€¼ï¼šx/y/zï¼Œå…±count*3ä¸ªå…ƒç´ ï¼‰</span>
  <span class="hljs-keyword">const</span> positions = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>(count * <span class="hljs-number">3</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; count * <span class="hljs-number">3</span>; i += <span class="hljs-number">3</span>) {
    <span class="hljs-comment">// ç²’å­åæ ‡èŒƒå›´ï¼š(-100, -100, -100) ~ (100, 100, 100)ï¼Œå‡åŒ€åˆ†å¸ƒåœ¨ç©ºé—´ä¸­</span>
    positions[i]     = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">200</span> - <span class="hljs-number">100</span>; <span class="hljs-comment">// xè½´åæ ‡</span>
    positions[i + <span class="hljs-number">1</span>] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">200</span> - <span class="hljs-number">100</span>; <span class="hljs-comment">// yè½´åæ ‡ï¼ˆå‚ç›´æ–¹å‘ï¼Œç”¨äºä¸‹è½åŠ¨ç”»ï¼‰</span>
    positions[i + <span class="hljs-number">2</span>] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">200</span> - <span class="hljs-number">100</span>; <span class="hljs-comment">// zè½´åæ ‡</span>
  }

  <span class="hljs-comment">// åˆå§‹åŒ–BufferGeometryï¼Œç»‘å®šé¡¶ç‚¹ä½ç½®æ•°æ®</span>
  <span class="hljs-keyword">const</span> geometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">BufferGeometry</span>();
  <span class="hljs-comment">// Float32BufferAttribute(æ•°æ®æ•°ç»„, æ¯ä¸ªé¡¶ç‚¹çš„åˆ†é‡æ•°)ï¼šæ­¤å¤„3å¯¹åº”x/y/z</span>
  geometry.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'position'</span>, <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Float32BufferAttribute</span>(positions, <span class="hljs-number">3</span>));

  <span class="hljs-comment">// 7. æ„å»ºç²’å­å¯¹è±¡ï¼ˆTHREE.Pointsï¼šä¸“é—¨ç”¨äºæ¸²æŸ“ç‚¹ç²’å­ç³»ç»Ÿï¼‰</span>
  <span class="hljs-keyword">const</span> mesh = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Points</span>(geometry, material);
  scene.<span class="hljs-title function_">add</span>(mesh); <span class="hljs-comment">// å°†ç²’å­å¯¹è±¡æ·»åŠ åˆ°åœºæ™¯ä¸­</span>

  <span class="hljs-comment">// 8. è½¨é“æ§åˆ¶å™¨ï¼šæ”¯æŒæ‹–æ‹½æ—‹è½¬/æ»šè½®ç¼©æ”¾ï¼Œä¾¿æ·è§‚å¯Ÿ3Dç²’å­ç¾¤</span>
  <span class="hljs-keyword">const</span> controls = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrbitControls</span>(camera, renderer.<span class="hljs-property">domElement</span>);
  controls.<span class="hljs-property">enableDamping</span> = <span class="hljs-literal">true</span>; <span class="hljs-comment">// å¯ç”¨é˜»å°¼ï¼šæ‹–æ‹½æ—‹è½¬æœ‰æƒ¯æ€§ï¼Œäº¤äº’æ›´é¡ºæ»‘</span>

  <span class="hljs-comment">// 9. ç²’å­åŠ¨æ€æ›´æ–°å‡½æ•°ï¼ˆå®ç°ä¸‹è½+åç§»åŠ¨ç”»ï¼Œé‡ç½®è¶…å‡ºè¾¹ç•Œçš„ç²’å­ï¼‰</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">time</span>) {
    <span class="hljs-keyword">if</span> (!material || !mesh) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// å®‰å…¨åˆ¤æ–­ï¼šé¿å…å¯¹è±¡æœªåˆå§‹åŒ–æŠ¥é”™</span>
    
    <span class="hljs-comment">// è·å–ç²’å­é¡¶ç‚¹ä½ç½®æ•°ç»„ï¼ˆgeometry.getAttributeè¿”å›çš„æ˜¯å±æ€§å¯¹è±¡ï¼Œ.arrayè·å–åŸå§‹æ•°æ®ï¼‰</span>
    <span class="hljs-keyword">const</span> positions = mesh.<span class="hljs-property">geometry</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">"position"</span>).<span class="hljs-property">array</span>;
    
    <span class="hljs-comment">// éå†æ‰€æœ‰ç²’å­ï¼Œæ›´æ–°åæ ‡ï¼ˆæ¯3ä¸ªå…ƒç´ å¯¹åº”ä¸€ä¸ªç²’å­çš„x/y/zï¼‰</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; positions.<span class="hljs-property">length</span>; i += <span class="hljs-number">3</span>) {
      <span class="hljs-comment">// æ­¥éª¤1ï¼šå‚ç›´ä¸‹è½ï¼ˆyè½´é€’å‡ï¼Œé€Ÿåº¦0.2ï¼‰</span>
      positions[i + <span class="hljs-number">1</span>] -= <span class="hljs-number">0.2</span>;
      
      <span class="hljs-comment">// æ­¥éª¤2ï¼šæ°´å¹³è½»å¾®åç§»ï¼ˆç»“åˆæ—¶é—´å‚æ•°ï¼Œè®©åç§»éšæ—¶é—´å˜åŒ–ï¼Œè¿åŠ¨æ›´è‡ªç„¶ï¼‰</span>
      <span class="hljs-comment">// åŸå§‹ä»£ç Math.sin(i)æ˜¯å›ºå®šå€¼ï¼Œä¼˜åŒ–ä¸ºMath.sin(i + time)ï¼Œå®ç°åŠ¨æ€åç§»</span>
      positions[i]     -= <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(i + time) * <span class="hljs-number">0.1</span>;   <span class="hljs-comment">// xè½´åç§»</span>
      positions[i + <span class="hljs-number">2</span>] -= <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(i + time * <span class="hljs-number">0.8</span>) * <span class="hljs-number">0.1</span>; <span class="hljs-comment">// zè½´åç§»ï¼ˆä¸åŒæ—¶é—´ç³»æ•°ï¼Œé¿å…åç§»åŒæ­¥ï¼‰</span>
      
      <span class="hljs-comment">// æ­¥éª¤3ï¼šé‡ç½®è¶…å‡ºä¸‹è¾¹ç•Œçš„ç²’å­ï¼ˆy &lt; -100æ—¶ï¼Œé‡ç½®åˆ°é¡¶éƒ¨100ï¼Œå®ç°å¾ªç¯ä¸‹è½ï¼‰</span>
      <span class="hljs-keyword">if</span> (positions[i + <span class="hljs-number">1</span>] &lt; -<span class="hljs-number">100</span>) {
        positions[i + <span class="hljs-number">1</span>] = <span class="hljs-number">100</span>;
        <span class="hljs-comment">// é‡ç½®æ—¶åŒæ­¥æ›´æ–°x/zåæ ‡ï¼Œé¿å…ç²’å­é‡ç½®åä½ç½®å•ä¸€</span>
        positions[i]     = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">200</span> - <span class="hljs-number">100</span>;
        positions[i + <span class="hljs-number">2</span>] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">200</span> - <span class="hljs-number">100</span>;
      }
    }
    
    <span class="hljs-comment">// å…³é”®ï¼šæ ‡è®°ä½ç½®å±æ€§éœ€è¦æ›´æ–°ï¼Œå‘Šè¯‰Three.jsé‡æ–°ä¸Šä¼ æ•°æ®åˆ°GPU</span>
    mesh.<span class="hljs-property">geometry</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">"position"</span>).<span class="hljs-property">needsUpdate</span> = <span class="hljs-literal">true</span>;
  }

  <span class="hljs-comment">// 10. åŠ¨ç”»å¾ªç¯ï¼ˆé©±åŠ¨ç²’å­åŠ¨ç”»ï¼Œå®ç°æµç•…æ¸²æŸ“ï¼‰</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">animate</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">requestAnimationFrame</span>(animate); <span class="hljs-comment">// ç»‘å®šæµè§ˆå™¨åˆ·æ–°ç‡ï¼ˆ60å¸§/ç§’ï¼‰ï¼Œé¿å…å¡é¡¿</span>
    <span class="hljs-keyword">const</span> time = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() * <span class="hljs-number">0.0005</span>; <span class="hljs-comment">// è·å–å½“å‰æ—¶é—´ï¼ˆç¼©æ”¾ç³»æ•°0.0005ï¼Œè®©åŠ¨ç”»é€Ÿåº¦é€‚ä¸­ï¼‰</span>
    
    <span class="hljs-title function_">update</span>(time); <span class="hljs-comment">// è°ƒç”¨ç²’å­æ›´æ–°å‡½æ•°ï¼Œä¼ é€’æ—¶é—´å‚æ•°</span>
    controls.<span class="hljs-title function_">update</span>(); <span class="hljs-comment">// æ›´æ–°è½¨é“æ§åˆ¶å™¨é˜»å°¼ï¼ˆå¿…é¡»åœ¨åŠ¨ç”»å¾ªç¯ä¸­è°ƒç”¨ï¼‰</span>
    renderer.<span class="hljs-title function_">render</span>(scene, camera); <span class="hljs-comment">// æ¸²æŸ“åœºæ™¯ï¼ˆå°†3Dç²’å­ç¾¤è½¬æ¢ä¸º2Dç”»å¸ƒæ˜¾ç¤ºï¼‰</span>
  }

  <span class="hljs-comment">// å¯åŠ¨åŠ¨ç”»å¾ªç¯</span>
  <span class="hljs-title function_">animate</span>();

  <span class="hljs-comment">// 11. çª—å£å“åº”å¼é€‚é…ï¼ˆé€‚é…ä¸åŒå±å¹•å°ºå¯¸ï¼Œé¿å…ç²’å­æ‹‰ä¼¸å˜å½¢ï¼‰</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-function">() =&gt;</span> {
    camera.<span class="hljs-property">aspect</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> / <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>; <span class="hljs-comment">// æ›´æ–°ç›¸æœºå®½é«˜æ¯”</span>
    camera.<span class="hljs-title function_">updateProjectionMatrix</span>(); <span class="hljs-comment">// å…³é”®ï¼šæ›´æ–°ç›¸æœºæŠ•å½±çŸ©é˜µï¼Œè®©å®½é«˜æ¯”ä¿®æ”¹ç”Ÿæ•ˆ</span>
    renderer.<span class="hljs-title function_">setSize</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>); <span class="hljs-comment">// æ›´æ–°æ¸²æŸ“å™¨å°ºå¯¸</span>
  });
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-32">æ€»ç»“ä¸æ‰©å±•å»ºè®®</h3>
<h4 data-id="heading-33">æ ¸å¿ƒæ€»ç»“</h4>
<ol>
<li><strong>è§†è§‰æ ¸å¿ƒ</strong>ï¼šé€šè¿‡ç‰‡å…ƒç€è‰²å™¨çš„<code>distance()</code>+<code>smoothstep()</code>+<code>pow()</code>é€»è¾‘ï¼Œå®ç°é›ªèŠ±çš„åœ†å½¢æŠ—é”¯é½¿ä¸æŸ”å’Œå…‰æ™•ï¼Œé…åˆ<code>AdditiveBlending</code>åŠ æ³•æ··åˆï¼Œè¿˜åŸæ¼«å¤©é£é›ªçš„æœ¦èƒ§æ°›å›´æ„Ÿï¼Œè¿™æ˜¯é›ªèŠ±æ•ˆæœçš„æ ¸å¿ƒäº®ç‚¹ã€‚</li>
<li><strong>åŠ¨æ€æ ¸å¿ƒ</strong>ï¼šâ€œå‚ç›´ä¸‹è½+åŠ¨æ€åç§»+å¾ªç¯é‡ç½®â€çš„é—­ç¯é€»è¾‘ï¼Œå®ç°é›ªèŠ±çš„è‡ªç„¶é£˜è½ä¸æ— é™å¾ªç¯ï¼Œ<code>needsUpdate = true</code>æ˜¯åŠ¨æ€æ›´æ–°çš„å…³é”®ï¼Œä¿è¯åŠ¨ç”»æµç•…ç”Ÿæ•ˆã€‚</li>
<li><strong>æ€§èƒ½æ ¸å¿ƒ</strong>ï¼š<code>BufferGeometry</code>+<code>ShaderMaterial</code>çš„ç»„åˆï¼Œé«˜æ•ˆå­˜å‚¨ä¸æ¸²æŸ“1000çº§ç²’å­ï¼Œå€ŸåŠ©GPUå¹¶è¡Œå¤„ç†èƒ½åŠ›ï¼Œåœ¨ä¿è¯è§†è§‰è´¨æ„Ÿçš„åŒæ—¶ï¼Œå…¼é¡¾ä½é…è®¾å¤‡çš„æµç•…æ€§ã€‚</li>
<li><strong>äº¤äº’æ ¸å¿ƒ</strong>ï¼š<code>OrbitControls</code>è½¨é“æ§åˆ¶å™¨æä¾›360Â°äº¤äº’æŸ¥çœ‹èƒ½åŠ›ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿå…¨æ–¹ä½è§‚å¯Ÿ3Dé›ªèŠ±ç¾¤çš„é£˜è½æ•ˆæœï¼Œæå‡åœºæ™¯çš„æ²‰æµ¸æ„Ÿã€‚</li>
</ol>
<h4 data-id="heading-34">æ‰©å±•å»ºè®®</h4>
<ol>
<li><strong>é›ªèŠ±æ•ˆæœå¢å¼º</strong>ï¼š
<ul>
<li>è‡ªå®šä¹‰é›ªèŠ±å½¢çŠ¶ï¼šä¿®æ”¹ç‰‡å…ƒç€è‰²å™¨ï¼Œå°†åœ†å½¢é›ªèŠ±æ”¹ä¸ºå…­è§’å½¢ï¼ˆé€šè¿‡UVåæ ‡è®¡ç®—ä¸è£å‰ªå®ç°ï¼‰ï¼Œè¿˜åŸçœŸå®é›ªèŠ±çš„å½¢æ€ï¼›</li>
<li>åŠ¨æ€å°ºå¯¸/é¢œè‰²ï¼šé€šè¿‡<code>material.uniforms.uTime</code>ä¼ é€’æ—¶é—´å‚æ•°ï¼Œè®©é›ªèŠ±çš„å°ºå¯¸ä¸é¢œè‰²éšæ—¶é—´è½»å¾®å˜åŒ–ï¼ˆå¦‚ä¸‹è½è¿‡ç¨‹ä¸­é€æ¸å˜å°ã€å˜æµ…ï¼‰ï¼Œæå‡åŠ¨æ€æ„Ÿï¼›</li>
<li>æ·»åŠ é›ªèŠ±åå…‰ï¼šåœ¨ç‰‡å…ƒç€è‰²å™¨ä¸­æ·»åŠ å…‰æºè®¡ç®—ï¼Œæ¨¡æ‹Ÿé›ªèŠ±å¯¹ç¯å¢ƒå…‰çš„åå…‰ï¼Œè®©é›ªèŠ±æ•ˆæœæ›´çœŸå®ã€‚</li>
</ul>
</li>
<li><strong>åœºæ™¯æ°›å›´å¢å¼º</strong>ï¼š
<ul>
<li>æ·»åŠ èƒŒæ™¯å›¾ï¼šé€šè¿‡<code>THREE.TextureLoader</code>åŠ è½½å¤œç©º/æ£®æ—èƒŒæ™¯å›¾ï¼Œä½œä¸ºåœºæ™¯èƒŒæ™¯ï¼Œæå‡æ¼«å¤©é£é›ªçš„æ°›å›´æ„Ÿï¼›</li>
<li>æ·»åŠ åœ°é¢ç§¯é›ªï¼šåœ¨åœºæ™¯ä¸­æ·»åŠ å¹³é¢å‡ ä½•ä½“ï¼Œæ¨¡æ‹Ÿåœ°é¢ï¼Œå®ç°é›ªèŠ±è½åœ°å †ç§¯çš„æ•ˆæœï¼›</li>
<li>æ·»åŠ é£åŠ›æ§åˆ¶ï¼šé€šè¿‡é¼ æ ‡ä½ç½®æˆ–é”®ç›˜äº‹ä»¶ï¼Œæ§åˆ¶é›ªèŠ±çš„åç§»æ–¹å‘ä¸å¹…åº¦ï¼Œæ¨¡æ‹Ÿä¸åŒé£åŠ›ä¸‹çš„é›ªèŠ±é£˜è½æ•ˆæœã€‚</li>
</ul>
</li>
<li><strong>åŠŸèƒ½æ‰©å±•</strong>ï¼š
<ul>
<li>å‚æ•°æ§åˆ¶é¢æ¿ï¼šæä¾›å¯è§†åŒ–é¢æ¿ï¼Œå…è®¸ç”¨æˆ·è°ƒæ•´é›ªèŠ±æ•°é‡ã€å°ºå¯¸ã€ä¸‹è½é€Ÿåº¦ç­‰å‚æ•°ï¼Œå®æ—¶é¢„è§ˆæ•ˆæœï¼›</li>
<li>ç›¸æœºè‡ªåŠ¨æ¼«æ¸¸ï¼šå®ç°ç›¸æœºçš„è‡ªåŠ¨è·¯å¾„æ¼«æ¸¸ï¼Œè®©ç”¨æˆ·æ— éœ€æ‰‹åŠ¨æ“ä½œï¼Œå³å¯å…¨æ–¹ä½è§‚å¯Ÿé›ªèŠ±é£˜è½æ•ˆæœï¼›</li>
<li>ç§»åŠ¨ç«¯é€‚é…ï¼šä¼˜åŒ–è§¦æ‘¸äº¤äº’ï¼Œæ”¯æŒç§»åŠ¨ç«¯çš„æåˆç¼©æ”¾ä¸æ‹–æ‹½æ—‹è½¬ï¼Œæå‡ç§»åŠ¨ç«¯ç”¨æˆ·ä½“éªŒã€‚</li>
</ul>
</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š
<ul>
<li>è§†é”¥ä½“è£å‰ªï¼šå‰”é™¤å±å¹•å¤–çš„é›ªèŠ±ç²’å­ï¼Œå‡å°‘GPUæ¸²æŸ“å¼€é”€ï¼Œæ”¯æŒæ›´å¤šç²’å­æ•°é‡ï¼›</li>
<li>å®ä¾‹åŒ–å‡ ä½•ä½“ï¼šä½¿ç”¨<code>InstancedBufferGeometry</code>æ›¿ä»£<code>BufferGeometry</code>ï¼Œè¿›ä¸€æ­¥å‡å°‘DrawCallï¼Œæ”¯æŒç™¾ä¸‡çº§é›ªèŠ±ç²’å­æ¸²æŸ“ï¼›</li>
<li>æ¸²æŸ“å™¨ä¼˜åŒ–ï¼šå¼€å¯<code>renderer.powerPreference = "high-performance"</code>ï¼Œä¼˜å…ˆä½¿ç”¨é«˜æ€§èƒ½GPUï¼Œæå‡æ¸²æŸ“æ•ˆç‡ã€‚</li>
</ul>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¼€å…³é£æ¨¡æµç¨‹]]></title>    <link>https://juejin.cn/post/7602471311509930011</link>    <guid>https://juejin.cn/post/7602471311509930011</guid>    <pubDate>2026-02-04T02:55:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602471311509930011" data-draft-id="7602551091516112905" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¼€å…³é£æ¨¡æµç¨‹"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-04T02:55:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·341408199125"/> <meta itemprop="url" content="https://juejin.cn/user/570004686782272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¼€å…³é£æ¨¡æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/570004686782272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·341408199125
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T02:55:38.000Z" title="Wed Feb 04 2026 02:55:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘æ¥åˆ†æ Android å¼€å…³é£è¡Œæ¨¡å¼çš„æµç¨‹ã€‚</p>
<p>å¥½çš„,ç°åœ¨æˆ‘å·²ç»æ”¶é›†åˆ°è¶³å¤Ÿçš„ä¿¡æ¯ã€‚è®©æˆ‘ä¸ºç”¨æˆ·è¯¦ç»†åˆ†æ Android å¼€å…³é£è¡Œæ¨¡å¼çš„å®Œæ•´æµç¨‹ã€‚</p>
<h2 data-id="heading-0"><strong>Android å¼€å…³é£è¡Œæ¨¡å¼æµç¨‹è¯¦è§£</strong></h2>
<p>é£è¡Œæ¨¡å¼(Airplane Mode)æ˜¯ Android ä¸­ä¸€ä¸ªé‡è¦çš„ç³»ç»ŸåŠŸèƒ½,ç”¨äºåŒæ—¶å…³é—­æ‰€æœ‰æ— çº¿é€šä¿¡åŠŸèƒ½(èœ‚çªã€Wi-Fiã€è“ç‰™ç­‰)ã€‚ä¸‹é¢è¯¦ç»†åˆ†æå…¶å®ç°åŸç†ã€‚</p>
<hr/>
<h3 data-id="heading-1"><strong>ä¸€ã€é£è¡Œæ¨¡å¼çš„è§¦å‘å…¥å£</strong></h3>
<h4 data-id="heading-2"><strong>1. ç”¨æˆ·ç•Œé¢è§¦å‘</strong></h4>
<p>ç”¨æˆ·å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¼€å…³é£è¡Œæ¨¡å¼:</p>
<ul>
<li><strong>å¿«æ·è®¾ç½®é¢æ¿</strong>(ä¸‹æ‹‰é€šçŸ¥æ )</li>
<li><strong>è®¾ç½®åº”ç”¨</strong> â†’ ç½‘ç»œä¸äº’è”ç½‘ â†’ é£è¡Œæ¨¡å¼</li>
<li><strong>é•¿æŒ‰ç”µæºé”®</strong> â†’ å…¨å±€æ“ä½œèœå•</li>
</ul>
<h4 data-id="heading-3"><strong>2. æ ¸å¿ƒæ“ä½œ:ä¿®æ”¹ Settings æ•°æ®åº“</strong></h4>
<p>æ‰€æœ‰è§¦å‘å…¥å£æœ€ç»ˆéƒ½ä¼šæ‰§è¡Œä¸¤ä¸ªå…³é”®æ“ä½œ:</p>
<pre><code class="hljs language-836:839:frameworks_base/services/core/java/com/android/server/policy/LegacyGlobalActions.java" lang="836:839:frameworks_base/services/core/java/com/android/server/policy/LegacyGlobalActions.java">        Intent intent = new Intent(Intent.ACTION_AIRPLANE_MODE_CHANGED);
        intent.addFlags(Intent.FLAG_RECEIVER_REPLACE_PENDING);
        intent.putExtra("state", on);
        mContext.sendBroadcastAsUser(intent, UserHandle.ALL);
</code></pre>
<p><strong>æ­¥éª¤</strong>:</p>
<ol>
<li>
<p><strong>ä¿®æ”¹ Settings æ•°æ®åº“</strong></p>
<pre><code class="hljs language-java" lang="java">Settings.Global.putInt(
    getContentResolver(),
    Settings.Global.AIRPLANE_MODE_ON,
    on ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>
);
</code></pre>
</li>
<li>
<p><strong>å‘é€ç³»ç»Ÿå¹¿æ’­</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Intent</span> <span class="hljs-variable">intent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(Intent.ACTION_AIRPLANE_MODE_CHANGED);
intent.putExtra(<span class="hljs-string">"state"</span>, on);  <span class="hljs-comment">// true=å¼€å¯, false=å…³é—­</span>
context.sendBroadcastAsUser(intent, UserHandle.ALL);
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-4"><strong>äºŒã€ç”µè¯æ¨¡å—çš„å¤„ç†æµç¨‹</strong></h3>
<h4 data-id="heading-5"><strong>1. ServiceStateTracker ç›‘å¬åˆå§‹åŒ–</strong></h4>
<pre><code class="hljs language-690:699:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java" lang="690:699:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java">        mCr = phone.getContext().getContentResolver();
        // system setting property AIRPLANE_MODE_ON is set in Settings.
        int airplaneMode = Settings.Global.getInt(mCr, Settings.Global.AIRPLANE_MODE_ON, 0);
        int enableCellularOnBoot = Settings.Global.getInt(mCr,
                Settings.Global.ENABLE_CELLULAR_ON_BOOT, getDefaultEnableCellularOnBoot());
        mDesiredPowerState = (enableCellularOnBoot &gt; 0) &amp;&amp; ! (airplaneMode &gt; 0);
        if (!mDesiredPowerState) {
            mRadioPowerOffReasons.add(TelephonyManager.RADIO_POWER_REASON_USER);
        }
        mRadioPowerLog.log("init : airplane mode = " + airplaneMode + " enableCellularOnBoot = " +
                enableCellularOnBoot);
</code></pre>
<p><code>ServiceStateTracker</code> åœ¨åˆå§‹åŒ–æ—¶:</p>
<ul>
<li>è¯»å–é£è¡Œæ¨¡å¼çŠ¶æ€ (<code>AIRPLANE_MODE_ON</code>)</li>
<li>è®¡ç®—å°„é¢‘çš„æœŸæœ›çŠ¶æ€ <code>mDesiredPowerState = !airplaneMode</code></li>
<li>å¦‚æœé£è¡Œæ¨¡å¼å¼€å¯,åˆ™æ·»åŠ å…³é—­åŸå›  <code>RADIO_POWER_REASON_USER</code></li>
</ul>
<h4 data-id="heading-6"><strong>2. æ³¨å†Œ Settings ç›‘å¬(é€šè¿‡ ContentObserver)</strong></h4>
<p>å…¶ä»–æ¨¡å—(å¦‚ <code>CarrierActionAgent</code>)ä¼šç›‘å¬ Settings å˜åŒ–:</p>
<pre><code class="hljs language-178:182:frameworks_opt_telephony/src/java/com/android/internal/telephony/CarrierActionAgent.java" lang="178:182:frameworks_opt_telephony/src/java/com/android/internal/telephony/CarrierActionAgent.java">                    mSettingsObserver.observe(
                            Settings.Global.getUriFor(Settings.Global.AIRPLANE_MODE_ON),
                            EVENT_APM_SETTINGS_CHANGED);
</code></pre>
<p>å½“é£è¡Œæ¨¡å¼è®¾ç½®å˜åŒ–æ—¶,è§¦å‘ <code>EVENT_APM_SETTINGS_CHANGED</code> äº‹ä»¶ã€‚</p>
<hr/>
<h3 data-id="heading-7"><strong>ä¸‰ã€å¼€å¯é£è¡Œæ¨¡å¼æµç¨‹(å…³é—­å°„é¢‘)</strong></h3>
<h4 data-id="heading-8"><strong>æµç¨‹å›¾</strong></h4>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·æ“ä½œ
  â†“
Settings<span class="hljs-selector-class">.Global</span><span class="hljs-selector-class">.AIRPLANE_MODE_ON</span> = <span class="hljs-number">1</span>
  â†“
å‘é€ ACTION_AIRPLANE_MODE_CHANGED å¹¿æ’­
  â†“
ServiceStateTracker å¤„ç†(é€šè¿‡ ContentObserver æˆ–å¹¿æ’­)
  â†“
<span class="hljs-built_in">setRadioPower</span>(false) 
  â†“
mDesiredPowerState = false
mRadioPowerOffReasons<span class="hljs-selector-class">.add</span>(RADIO_POWER_REASON_USER)
  â†“
<span class="hljs-built_in">setPowerStateToDesired</span>()
  â†“
<span class="hljs-built_in">powerOffRadioSafely</span>()
  â†“
ã€å…³é”®ã€‘å…ˆæ–­å¼€æ•°æ®è¿æ¥
  â†“
<span class="hljs-built_in">hangupAndPowerOff</span>()
  â†“
mCi<span class="hljs-selector-class">.setRadioPower</span>(false) â†’ HAL â†’ Modem
  â†“
å°„é¢‘å…³é—­å®Œæˆ
</code></pre>
<h4 data-id="heading-9"><strong>å…³é”®ä»£ç åˆ†æ</strong></h4>
<p><strong>1. setRadioPowerForReason æ–¹æ³•</strong></p>
<pre><code class="hljs language-1136:1165:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java" lang="1136:1165:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java">    public void setRadioPowerForReason(boolean power, boolean forEmergencyCall,
            boolean isSelectedPhoneForEmergencyCall, boolean forceApply, int reason) {
        log("setRadioPower power " + power + " forEmergencyCall " + forEmergencyCall
                + " forceApply " + forceApply + " reason " + reason);

        if (power) {
            if (forEmergencyCall) {
                clearAllRadioOffReasons();
            } else {
                mRadioPowerOffReasons.remove(reason);
            }
        } else {
            mRadioPowerOffReasons.add(reason);
        }
        if (power == mDesiredPowerState &amp;&amp; !forceApply) {
            log("setRadioPower mDesiredPowerState is already " + power + " Do nothing.");
            return;
        }
        if (power &amp;&amp; !mRadioPowerOffReasons.isEmpty()) {
            log("setRadioPowerForReason " + "power: " + power + " forEmergencyCall= "
                    + forEmergencyCall + " isSelectedPhoneForEmergencyCall: "
                    + isSelectedPhoneForEmergencyCall + " forceApply " + forceApply + " reason: "
                    + reason + " will not power on the radio as it is powered off for the "
                    + "following reasons: " + mRadioPowerOffReasons + ".");
            return;
        }

        mDesiredPowerState = power;
        setPowerStateToDesired(forEmergencyCall, isSelectedPhoneForEmergencyCall, forceApply);
    }
</code></pre>
<p><strong>é‡ç‚¹</strong>:</p>
<ul>
<li>ä½¿ç”¨ <code>mRadioPowerOffReasons</code> é›†åˆç®¡ç†å…³é—­åŸå› (å¯èƒ½æœ‰å¤šä¸ª,å¦‚ USERã€CARRIERã€THERMAL ç­‰)</li>
<li>åªæœ‰å½“ <code>mRadioPowerOffReasons</code> ä¸ºç©ºæ—¶æ‰å…è®¸å¼€æœº</li>
</ul>
<p><strong>2. setPowerStateToDesired æ–¹æ³•</strong></p>
<pre><code class="hljs language-3107:3143:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java" lang="3107:3143:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java">    protected void setPowerStateToDesired(boolean forEmergencyCall,
            boolean isSelectedPhoneForEmergencyCall, boolean forceApply) {
        if (DBG) {
            String tmpLog = "setPowerStateToDesired: mDeviceShuttingDown=" + mDeviceShuttingDown
                    + ", mDesiredPowerState=" + mDesiredPowerState
                    + ", getRadioState=" + mCi.getRadioState()
                    + ", mRadioPowerOffReasons=" + mRadioPowerOffReasons
                    + ", IMS reg state=" + mImsRegistrationOnOff
                    + ", pending radio off=" + hasMessages(EVENT_POWER_OFF_RADIO_IMS_DEREG_TIMEOUT);
            log(tmpLog);
            mRadioPowerLog.log(tmpLog);
        }

        if (mDesiredPowerState &amp;&amp; mDeviceShuttingDown) {
            log("setPowerStateToDesired powering on of radio failed because the device is " +
                    "powering off");
            return;
        }

        // If we want it on and it's off, turn it on
        if (mDesiredPowerState &amp;&amp; mRadioPowerOffReasons.isEmpty()
                &amp;&amp; (forceApply || mCi.getRadioState() == TelephonyManager.RADIO_POWER_OFF)) {
            mCi.setRadioPower(true, forEmergencyCall, isSelectedPhoneForEmergencyCall, null);
        } else if ((!mDesiredPowerState || !mRadioPowerOffReasons.isEmpty()) &amp;&amp; mCi.getRadioState()
                == TelephonyManager.RADIO_POWER_ON) {
            if (DBG) log("setPowerStateToDesired: powerOffRadioSafely()");
            powerOffRadioSafely();
        } else if (mDeviceShuttingDown
                &amp;&amp; (mCi.getRadioState() != TelephonyManager.RADIO_POWER_UNAVAILABLE)) {
            // !mDesiredPowerState condition above will happen first if the radio is on, so we will
            // see the following: (delay for IMS dereg) -&gt; RADIO_POWER_OFF -&gt;
            // RADIO_POWER_UNAVAILABLE
            mCi.requestShutdown(null);
        }
        // Cancel any pending timeouts because the state has been re-evaluated.
        cancelDelayRadioOffWaitingForImsDeregTimeout();
    }
</code></pre>
<p><strong>åˆ¤æ–­é€»è¾‘</strong>:</p>
<ul>
<li><strong>å¼€æœºæ¡ä»¶</strong>: <code>mDesiredPowerState=true</code> &amp;&amp; <code>mRadioPowerOffReasons</code> ä¸ºç©º &amp;&amp; å½“å‰å°„é¢‘å…³é—­</li>
<li><strong>å…³æœºæ¡ä»¶</strong>: (<code>mDesiredPowerState=false</code> || <code>mRadioPowerOffReasons</code> éç©º) &amp;&amp; å½“å‰å°„é¢‘å¼€å¯</li>
</ul>
<p><strong>3. powerOffRadioSafely å®‰å…¨å…³é—­</strong></p>
<pre><code class="hljs language-4978:5015:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java" lang="4978:5015:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java">    public void powerOffRadioSafely() {
        synchronized (this) {
            SatelliteController.getInstance().onCellularRadioPowerOffRequested();
            if (DomainSelectionResolver.getInstance().isDomainSelectionSupported()) {
                EmergencyStateTracker.getInstance().onCellularRadioPowerOffRequested();
            }
            if (!mPendingRadioPowerOffAfterDataOff) {
                // hang up all active voice calls first
                if (mPhone.isPhoneTypeGsm() &amp;&amp; mPhone.isInCall()) {
                    mPhone.mCT.mRingingCall.hangupIfAlive();
                    mPhone.mCT.mBackgroundCall.hangupIfAlive();
                    mPhone.mCT.mForegroundCall.hangupIfAlive();
                }

                for (Phone phone : PhoneFactory.getPhones()) {
                    if (!phone.getDataNetworkController().areAllDataDisconnected()) {
                        log("powerOffRadioSafely: Data is active on phone " + phone.getSubId()
                                + ". Wait for all data disconnect.");
                        mPendingRadioPowerOffAfterDataOff = true;
                        phone.getDataNetworkController().registerDataNetworkControllerCallback(
                                mDataDisconnectedCallback);
                    }
                }

                // Tear down outside of the disconnected check to prevent race conditions.
                mPhone.getDataNetworkController().tearDownAllDataNetworks(
                        DataNetwork.TEAR_DOWN_REASON_AIRPLANE_MODE_ON);

                if (mPendingRadioPowerOffAfterDataOff) {
                    sendEmptyMessageDelayed(EVENT_SET_RADIO_POWER_OFF,
                            POWER_OFF_ALL_DATA_NETWORKS_DISCONNECTED_TIMEOUT);
                } else {
                    log("powerOffRadioSafely: No data is connected, turn off radio now.");
                    hangupAndPowerOff();
                }
            }
        }
    }
</code></pre>
<p><strong>å®‰å…¨å…³é—­æ­¥éª¤</strong>:</p>
<ol>
<li>é€šçŸ¥ <code>SatelliteController</code> å’Œ <code>EmergencyStateTracker</code></li>
<li><strong>æŒ‚æ–­æ‰€æœ‰è¿›è¡Œä¸­çš„ç”µè¯</strong> (é¿å…é€šè¯ä¸­æ–­)</li>
<li><strong>æ–­å¼€æ‰€æœ‰æ•°æ®è¿æ¥</strong> (<code>tearDownAllDataNetworks</code>)</li>
<li>ç­‰å¾…æ•°æ®å®Œå…¨æ–­å¼€(è¶…æ—¶æœºåˆ¶)</li>
<li>è°ƒç”¨ <code>hangupAndPowerOff()</code> â†’ <code>mCi.setRadioPower(false)</code></li>
</ol>
<hr/>
<h3 data-id="heading-10"><strong>å››ã€å…³é—­é£è¡Œæ¨¡å¼æµç¨‹(å¼€å¯å°„é¢‘)</strong></h3>
<h4 data-id="heading-11"><strong>æµç¨‹å›¾</strong></h4>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·æ“ä½œ
  â†“
Settings<span class="hljs-selector-class">.Global</span><span class="hljs-selector-class">.AIRPLANE_MODE_ON</span> = <span class="hljs-number">0</span>
  â†“
å‘é€ ACTION_AIRPLANE_MODE_CHANGED å¹¿æ’­
  â†“
ServiceStateTracker å¤„ç†
  â†“
<span class="hljs-built_in">setRadioPower</span>(true)
  â†“
mRadioPowerOffReasons<span class="hljs-selector-class">.remove</span>(RADIO_POWER_REASON_USER)
mDesiredPowerState = true
  â†“
<span class="hljs-built_in">setPowerStateToDesired</span>()
  â†“
mCi<span class="hljs-selector-class">.setRadioPower</span>(true) â†’ HAL â†’ Modem
  â†“
EVENT_RADIO_STATE_CHANGED
  â†“
<span class="hljs-built_in">setPowerStateToDesired</span>() (ç¡®è®¤çŠ¶æ€)
  â†“
<span class="hljs-built_in">pollStateInternal</span>(true) (å¼€å§‹ç½‘ç»œæœç´¢)
  â†“
å°„é¢‘å¼€å¯å®Œæˆ,å¼€å§‹é©»ç½‘
</code></pre>
<h4 data-id="heading-12"><strong>å…³é”®ä»£ç </strong></h4>
<pre><code class="hljs language-1337:1349:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java" lang="1337:1349:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java">            case EVENT_RADIO_STATE_CHANGED:
                RadioPowerStateStats.onRadioStateChanged(mCi.getRadioState());
                // fall through, the code above only logs metrics when radio state changes
            case EVENT_PHONE_TYPE_SWITCHED:
                if(!mPhone.isPhoneTypeGsm() &amp;&amp;
                        mCi.getRadioState() == TelephonyManager.RADIO_POWER_ON) {
                    handleCdmaSubscriptionSource(mCdmaSSM.getCdmaSubscriptionSource());
                }
                // This will do nothing in the 'radio not available' case
                setPowerStateToDesired();
                // These events are modem triggered, so pollState() needs to be forced
                pollStateInternal(true);
                break;
</code></pre>
<p><strong>å…³é—­é£è¡Œæ¨¡å¼å</strong>:</p>
<ol>
<li>Modem ä¸Šç”µåå‘é€ <code>UNSOL_RESPONSE_RADIO_STATE_CHANGED</code> é€šçŸ¥</li>
<li>è§¦å‘ <code>EVENT_RADIO_STATE_CHANGED</code> äº‹ä»¶</li>
<li>è°ƒç”¨ <code>setPowerStateToDesired()</code> ç¡®è®¤çŠ¶æ€</li>
<li><strong>è°ƒç”¨ <code>pollStateInternal(true)</code> å¼€å§‹ç½‘ç»œæœç´¢</strong>,è¿›å…¥é©»ç½‘æµç¨‹</li>
</ol>
<hr/>
<h3 data-id="heading-13"><strong>äº”ã€å…¶ä»–æ— çº¿æ¨¡å—çš„å¤„ç†</strong></h3>
<p>é£è¡Œæ¨¡å¼ä¸ä»…å½±å“èœ‚çªç½‘ç»œ,è¿˜ä¼šå½±å“:</p>
<h4 data-id="heading-14"><strong>1. Wi-Fi</strong></h4>
<ul>
<li>ç›‘å¬ <code>ACTION_AIRPLANE_MODE_CHANGED</code> å¹¿æ’­</li>
<li>æ ¹æ® <code>Settings.Global.AIRPLANE_MODE_RADIOS</code> åˆ¤æ–­æ˜¯å¦éœ€è¦å…³é—­</li>
<li>å¦‚æœåœ¨ <code>AIRPLANE_MODE_TOGGLEABLE_RADIOS</code> ä¸­,åˆ™å…è®¸åœ¨é£è¡Œæ¨¡å¼ä¸‹ç‹¬ç«‹å¼€å…³</li>
</ul>
<h4 data-id="heading-15"><strong>2. Bluetooth</strong></h4>
<ul>
<li>ç±»ä¼¼ Wi-Fi,é€šè¿‡ <code>AIRPLANE_MODE_RADIOS</code> é…ç½®</li>
<li>é»˜è®¤åœ¨é£è¡Œæ¨¡å¼ä¸‹å…³é—­</li>
</ul>
<h4 data-id="heading-16"><strong>3. NFC / UWB</strong></h4>
<ul>
<li>æ ¹æ®é…ç½®å†³å®šæ˜¯å¦å—é£è¡Œæ¨¡å¼å½±å“</li>
</ul>
<hr/>
<h3 data-id="heading-17"><strong>å…­ã€ç‰¹æ®Šåœºæ™¯å¤„ç†</strong></h3>
<h4 data-id="heading-18"><strong>1. ç´§æ€¥å‘¼å«ä¸­å¼€å¯é£è¡Œæ¨¡å¼</strong></h4>
<pre><code class="hljs language-910:927:packages_services_Telephony/Telephony/src/com/android/phone/PhoneGlobals.java" lang="910:927:packages_services_Telephony/Telephony/src/com/android/phone/PhoneGlobals.java">            if (tm != null &amp;&amp; tm.isInEmergencyCall()) {
                // Switch airplane mode back to off.
                ConnectivityManager cm =
                        (ConnectivityManager) getSystemService(CONNECTIVITY_SERVICE);
                cm.setAirplaneMode(false);
                Toast.makeText(this, R.string.radio_off_during_emergency_call, Toast.LENGTH_LONG)
                        .show();
                Log.i(LOG_TAG, "Ignoring airplane mode: emergency call. Turning airplane off");
</code></pre>
<p><strong>ç‰¹æ®Šå¤„ç†</strong>:</p>
<ul>
<li>å¦‚æœæ­£åœ¨è¿›è¡Œç´§æ€¥å‘¼å«,<strong>è‡ªåŠ¨å…³é—­é£è¡Œæ¨¡å¼</strong></li>
<li>æ˜¾ç¤º Toast æç¤ºç”¨æˆ·</li>
</ul>
<h4 data-id="heading-19"><strong>2. IMS æ³¨é”€å»¶è¿Ÿ</strong></h4>
<ul>
<li>å…³é—­å°„é¢‘å‰ä¼šç­‰å¾… IMS æ³¨é”€å®Œæˆ</li>
<li>è¶…æ—¶æœºåˆ¶: <code>EVENT_POWER_OFF_RADIO_IMS_DEREG_TIMEOUT</code></li>
</ul>
<hr/>
<h3 data-id="heading-20"><strong>ä¸ƒã€åº•å±‚ HAL è°ƒç”¨</strong></h3>
<h4 data-id="heading-21"><strong>RadioModemProxy.setRadioPower</strong></h4>
<pre><code class="hljs language-346:360:frameworks_opt_telephony/src/java/com/android/internal/telephony/RadioModemProxy.java" lang="346:360:frameworks_opt_telephony/src/java/com/android/internal/telephony/RadioModemProxy.java">    public void setRadioPower(int serial, boolean powerOn, boolean forEmergencyCall,
            boolean preferredForEmergencyCall) throws RemoteException {
        if (isEmpty()) return;
        if (isAidl()) {
            mModemProxy.setRadioPower(serial, powerOn, forEmergencyCall, preferredForEmergencyCall);
        } else if (mHalVersion.greaterOrEqual(RIL.RADIO_HAL_VERSION_1_6)) {
            ((android.hardware.radio.V1_6.IRadio) mRadioProxy).setRadioPower_1_6(serial, powerOn,
                    forEmergencyCall, preferredForEmergencyCall);
        } else if (mHalVersion.greaterOrEqual(RIL.RADIO_HAL_VERSION_1_5)) {
            ((android.hardware.radio.V1_5.IRadio) mRadioProxy).setRadioPower_1_5(serial, powerOn,
                    forEmergencyCall, preferredForEmergencyCall);
        } else {
            mRadioProxy.setRadioPower(serial, powerOn);
        }
    }
</code></pre>
<p><strong>æ ¹æ® HAL ç‰ˆæœ¬é€‰æ‹©æ¥å£</strong>:</p>
<ul>
<li>AIDL HAL: <code>IRadioModem.setRadioPower</code></li>
<li>HIDL 1.6+: <code>setRadioPower_1_6</code> (æ”¯æŒç´§æ€¥å‘¼å«æ ‡å¿—)</li>
<li>HIDL 1.5: <code>setRadioPower_1_5</code></li>
<li>æ—§ç‰ˆæœ¬: <code>setRadioPower</code></li>
</ul>
<hr/>
<h3 data-id="heading-22"><strong>å…«ã€æ€»ç»“</strong></h3>
<h4 data-id="heading-23"><strong>å…³é”®ç»„ä»¶</strong></h4>
<ol>
<li><strong>Settings.Global.AIRPLANE_MODE_ON</strong>: ç³»ç»Ÿæ•°æ®åº“å­˜å‚¨çŠ¶æ€</li>
<li><strong>Intent.ACTION_AIRPLANE_MODE_CHANGED</strong>: ç³»ç»Ÿå¹¿æ’­é€šçŸ¥å„æ¨¡å—</li>
<li><strong>ServiceStateTracker</strong>: ç”µè¯æ¨¡å—æ ¸å¿ƒæ§åˆ¶å™¨</li>
<li><strong>mRadioPowerOffReasons</strong>: å…³é—­åŸå› é›†åˆ(æ”¯æŒå¤šé‡åŸå› )</li>
</ol>
<h4 data-id="heading-24"><strong>æ ¸å¿ƒæµç¨‹</strong></h4>
<pre><code class="hljs language-arduino" lang="arduino">å¼€å¯é£è¡Œæ¨¡å¼:
  ä¿®æ”¹ Settings â†’ å¹¿æ’­ â†’ æŒ‚æ–­ç”µè¯ â†’ æ–­å¼€æ•°æ® â†’ <span class="hljs-built_in">setRadioPower</span>(<span class="hljs-literal">false</span>) â†’ Modem å…³é—­

å…³é—­é£è¡Œæ¨¡å¼:
  ä¿®æ”¹ Settings â†’ å¹¿æ’­ â†’ <span class="hljs-built_in">setRadioPower</span>(<span class="hljs-literal">true</span>) â†’ Modem å¼€å¯ â†’ pollState â†’ é©»ç½‘
</code></pre>
<h4 data-id="heading-25"><strong>è®¾è®¡äº®ç‚¹</strong></h4>
<ol>
<li><strong>å®‰å…¨å…³é—­</strong>: å…ˆæ–­å¼€æ•°æ®å’Œç”µè¯å†å…³é—­å°„é¢‘,é¿å…æ•°æ®ä¸¢å¤±</li>
<li><strong>å¤šé‡åŸå› ç®¡ç†</strong>: é€šè¿‡ <code>Set&lt;Integer&gt;</code> ç®¡ç†å¤šä¸ªå…³é—­åŸå› ,ä»»ä¸€åŸå› å­˜åœ¨éƒ½ä¸èƒ½å¼€æœº</li>
<li><strong>ç´§æ€¥å‘¼å«ä¿æŠ¤</strong>: é€šè¯ä¸­å¼ºåˆ¶é˜»æ­¢é£è¡Œæ¨¡å¼å¼€å¯</li>
<li><strong>IMS å‹å¥½</strong>: ç­‰å¾… IMS æ³¨é”€å®Œæˆå†å…³é—­å°„é¢‘</li>
<li><strong>çŠ¶æ€æœºé©±åŠ¨</strong>: é€šè¿‡ <code>mDesiredPowerState</code> å’Œå®é™…çŠ¶æ€å¯¹æ¯”,è‡ªåŠ¨ä¿®æ­£</li>
</ol>
<p>è¿™å¥—æœºåˆ¶ç¡®ä¿äº†é£è¡Œæ¨¡å¼åœ¨å„ç§åœºæ™¯ä¸‹çš„å®‰å…¨æ€§å’Œå¯é æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android Lifecycle æ—¶åºå›¾]]></title>    <link>https://juejin.cn/post/7602482736914071587</link>    <guid>https://juejin.cn/post/7602482736914071587</guid>    <pubDate>2026-02-04T03:06:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602482736914071587" data-draft-id="7602474148095295540" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android Lifecycle æ—¶åºå›¾"/> <meta itemprop="keywords" content="é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-04T03:06:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹¾å¤ä¸€æ°”æ€"/> <meta itemprop="url" content="https://juejin.cn/user/4212984289955431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android Lifecycle æ—¶åºå›¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984289955431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹¾å¤ä¸€æ°”æ€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:06:13.000Z" title="Wed Feb 04 2026 03:06:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Android Lifecycle æ—¶åºå›¾</h2>
<h3 data-id="heading-1">1. Activity å¯åŠ¨åˆ°é”€æ¯çš„ç”Ÿå‘½å‘¨æœŸ</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant S as System
    participant A as Activity
    participant R as Registry
    participant O as Observer

    Note over S,O: å¯åŠ¨æµç¨‹
    S-&gt;&gt;A: onCreate()
    A-&gt;&gt;R: handleLifecycleEvent(ON_CREATE)
    R-&gt;&gt;R: setState(CREATED)
    R-&gt;&gt;O: onStateChanged(ON_CREATE)
    O-&gt;&gt;O: onCreate()

    S-&gt;&gt;A: onStart()
    A-&gt;&gt;R: handleLifecycleEvent(ON_START)
    R-&gt;&gt;R: setState(STARTED)
    R-&gt;&gt;O: onStateChanged(ON_START)
    O-&gt;&gt;O: onStart()

    S-&gt;&gt;A: onResume()
    A-&gt;&gt;R: handleLifecycleEvent(ON_RESUME)
    R-&gt;&gt;R: setState(RESUMED)
    R-&gt;&gt;O: onStateChanged(ON_RESUME)
    O-&gt;&gt;O: onResume()

    Note over A: Activity å¯è§ä¸”å¯äº¤äº’

    Note over S,O: é€€å‡ºæµç¨‹
    S-&gt;&gt;A: onPause()
    A-&gt;&gt;R: handleLifecycleEvent(ON_PAUSE)
    R-&gt;&gt;R: setState(STARTED)
    R-&gt;&gt;O: onStateChanged(ON_PAUSE)
    O-&gt;&gt;O: onPause()

    S-&gt;&gt;A: onStop()
    A-&gt;&gt;R: handleLifecycleEvent(ON_STOP)
    R-&gt;&gt;R: setState(CREATED)
    R-&gt;&gt;O: onStateChanged(ON_STOP)
    O-&gt;&gt;O: onStop()

    S-&gt;&gt;A: onDestroy()
    A-&gt;&gt;R: handleLifecycleEvent(ON_DESTROY)
    R-&gt;&gt;R: setState(DESTROYED)
    R-&gt;&gt;O: onStateChanged(ON_DESTROY)
    O-&gt;&gt;O: onDestroy()
</code></pre>
<h3 data-id="heading-2">2. Fragment ç”Ÿå‘½å‘¨æœŸ</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant FM as FragmentManager
    participant F as Fragment
    participant FR as Fragment Registry
    participant VR as View Registry
    participant O as Observer

    Note over FM,O: Fragment åˆ›å»º
    FM-&gt;&gt;F: onCreate()
    F-&gt;&gt;FR: handleLifecycleEvent(ON_CREATE)
    FR-&gt;&gt;FR: setState(CREATED)
    FR-&gt;&gt;O: onCreate()

    FM-&gt;&gt;F: onCreateView()
    F-&gt;&gt;F: inflate layout
    F--&gt;&gt;FM: return View

    FM-&gt;&gt;F: onViewCreated()
    F-&gt;&gt;VR: create ViewLifecycleOwner
    VR-&gt;&gt;VR: setState(CREATED)
    VR-&gt;&gt;O: onCreate()

    FM-&gt;&gt;F: onStart()
    F-&gt;&gt;FR: handleLifecycleEvent(ON_START)
    FR-&gt;&gt;FR: setState(STARTED)
    F-&gt;&gt;VR: handleLifecycleEvent(ON_START)
    VR-&gt;&gt;VR: setState(STARTED)

    FM-&gt;&gt;F: onResume()
    F-&gt;&gt;FR: handleLifecycleEvent(ON_RESUME)
    FR-&gt;&gt;FR: setState(RESUMED)
    F-&gt;&gt;VR: handleLifecycleEvent(ON_RESUME)
    VR-&gt;&gt;VR: setState(RESUMED)

    Note over F: Fragment å¯è§ä¸”å¯äº¤äº’

    Note over FM,O: Fragment é”€æ¯
    FM-&gt;&gt;F: onPause()
    F-&gt;&gt;FR: handleLifecycleEvent(ON_PAUSE)
    F-&gt;&gt;VR: handleLifecycleEvent(ON_PAUSE)

    FM-&gt;&gt;F: onStop()
    F-&gt;&gt;FR: handleLifecycleEvent(ON_STOP)
    F-&gt;&gt;VR: handleLifecycleEvent(ON_STOP)

    FM-&gt;&gt;F: onDestroyView()
    F-&gt;&gt;VR: handleLifecycleEvent(ON_DESTROY)
    VR-&gt;&gt;VR: setState(DESTROYED)
    VR-&gt;&gt;O: onDestroy()

    FM-&gt;&gt;F: onDestroy()
    F-&gt;&gt;FR: handleLifecycleEvent(ON_DESTROY)
    FR-&gt;&gt;FR: setState(DESTROYED)
    FR-&gt;&gt;O: onDestroy()
</code></pre>
<h3 data-id="heading-3">3. æ³¨å†Œ Observer çš„æµç¨‹</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant App as åº”ç”¨ä»£ç 
    participant Owner as LifecycleOwner
    participant LC as Lifecycle
    participant R as Registry
    participant O as Observer

    App-&gt;&gt;O: åˆ›å»º Observer
    App-&gt;&gt;Owner: getLifecycle()
    Owner--&gt;&gt;App: return Lifecycle
    App-&gt;&gt;LC: addObserver(observer)
    LC-&gt;&gt;R: addObserver(observer)
    R-&gt;&gt;R: åŒ…è£…ä¸º ObserverWithState
    R-&gt;&gt;R: observerMap.put()
    R-&gt;&gt;O: onStateChanged(currentState)
    O-&gt;&gt;O: æ‰§è¡Œå›è°ƒæ–¹æ³•
</code></pre>
<h3 data-id="heading-4">4. ç”Ÿå‘½å‘¨æœŸäº‹ä»¶åˆ†å‘æµç¨‹</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant A as Activity
    participant R as Registry
    participant O1 as Observer1
    participant O2 as Observer2
    participant O3 as Observer3

    A-&gt;&gt;R: handleLifecycleEvent(ON_CREATE)
    R-&gt;&gt;R: moveToState(CREATED)
    R-&gt;&gt;R: sync()

    R-&gt;&gt;O1: onStateChanged(ON_CREATE)
    O1-&gt;&gt;O1: onCreate()

    R-&gt;&gt;O2: onStateChanged(ON_CREATE)
    O2-&gt;&gt;O2: onCreate()

    R-&gt;&gt;O3: onStateChanged(ON_CREATE)
    O3-&gt;&gt;O3: onCreate()

    Note over R: æ‰€æœ‰ Observer é€šçŸ¥å®Œæˆ
</code></pre>
<h3 data-id="heading-5">5. lifecycleScope åç¨‹ç”Ÿå‘½å‘¨æœŸ</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant App as åº”ç”¨ä»£ç 
    participant A as Activity
    participant R as Registry
    participant LS as lifecycleScope
    participant C as Coroutine

    Note over App,C: å¯åŠ¨åç¨‹
    App-&gt;&gt;LS: launch { }
    LS-&gt;&gt;C: åˆ›å»ºå¹¶å¯åŠ¨åç¨‹

    Note over A,C: Activity è¿è¡Œä¸­
    A-&gt;&gt;R: onResume()
    R-&gt;&gt;R: setState(RESUMED)
    Note over C: åç¨‹æ‰§è¡Œ

    Note over A,C: Activity é”€æ¯
    A-&gt;&gt;R: onDestroy()
    R-&gt;&gt;R: setState(DESTROYED)
    R-&gt;&gt;LS: è§¦å‘å–æ¶ˆ
    LS-&gt;&gt;C: cancel()
    C-&gt;&gt;C: æ¸…ç†èµ„æº
</code></pre>
<h3 data-id="heading-6">6. é…ç½®å˜æ›´ï¼ˆæ—‹è½¬å±å¹•ï¼‰æµç¨‹</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant S as System
    participant A1 as Activity(æ—§)
    participant R1 as Registry(æ—§)
    participant A2 as Activity(æ–°)
    participant R2 as Registry(æ–°)

    Note over S,R2: é…ç½®å˜æ›´è§¦å‘
    S-&gt;&gt;A1: onPause()
    A1-&gt;&gt;R1: ON_PAUSE
    S-&gt;&gt;A1: onStop()
    A1-&gt;&gt;R1: ON_STOP
    S-&gt;&gt;A1: onDestroy()
    A1-&gt;&gt;R1: ON_DESTROY
    R1-&gt;&gt;R1: setState(DESTROYED)

    Note over A1,R1: æ—§å®ä¾‹é”€æ¯

    S-&gt;&gt;A2: åˆ›å»ºæ–°å®ä¾‹
    S-&gt;&gt;A2: onCreate()
    A2-&gt;&gt;R2: ON_CREATE
    R2-&gt;&gt;R2: setState(CREATED)
    S-&gt;&gt;A2: onStart()
    A2-&gt;&gt;R2: ON_START
    S-&gt;&gt;A2: onResume()
    A2-&gt;&gt;R2: ON_RESUME
    R2-&gt;&gt;R2: setState(RESUMED)

    Note over A2,R2: æ–°å®ä¾‹è¿è¡Œ
</code></pre>
<h3 data-id="heading-7">7. MainActivity å¯åŠ¨ FirstFragment</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant S as System
    participant MA as MainActivity
    participant FM as FragmentManager
    participant FF as FirstFragment
    participant FR as Fragment Registry

    S-&gt;&gt;MA: onCreate()
    MA-&gt;&gt;FM: beginTransaction()
    MA-&gt;&gt;FM: add(R.id.container, FirstFragment)
    FM-&gt;&gt;FF: åˆ›å»ºå®ä¾‹
    FF-&gt;&gt;FR: åˆ›å»º Registry

    FM-&gt;&gt;FF: onCreate()
    FF-&gt;&gt;FR: handleLifecycleEvent(ON_CREATE)
    FR-&gt;&gt;FR: setState(CREATED)

    FM-&gt;&gt;FF: onCreateView()
    FF-&gt;&gt;FF: inflate(R.layout.fragment_first)

    FM-&gt;&gt;FF: onViewCreated()
    FF-&gt;&gt;FF: åˆå§‹åŒ– View

    S-&gt;&gt;MA: onStart()
    MA-&gt;&gt;FM: dispatchStart()
    FM-&gt;&gt;FF: onStart()
    FF-&gt;&gt;FR: handleLifecycleEvent(ON_START)

    S-&gt;&gt;MA: onResume()
    MA-&gt;&gt;FM: dispatchResume()
    FM-&gt;&gt;FF: onResume()
    FF-&gt;&gt;FR: handleLifecycleEvent(ON_RESUME)

    Note over FF: Fragment å¯è§ä¸”å¯äº¤äº’
</code></pre>
<h3 data-id="heading-8">8. ViewModel ä¸ Lifecycle äº¤äº’</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant A as Activity
    participant VP as ViewModelProvider
    participant VS as ViewModelStore
    participant VM as ViewModel
    participant R as Registry

    A-&gt;&gt;VP: ViewModelProvider(this)
    A-&gt;&gt;VP: get(MyViewModel::class.java)
    VP-&gt;&gt;VS: get(key)

    alt ViewModel ä¸å­˜åœ¨
        VS-&gt;&gt;VM: åˆ›å»º ViewModel
        VM-&gt;&gt;VM: init
        VS-&gt;&gt;VS: put(key, viewModel)
    end

    VP--&gt;&gt;A: return ViewModel

    Note over A: Activity è¿è¡Œ

    A-&gt;&gt;R: onDestroy()
    R-&gt;&gt;R: setState(DESTROYED)

    alt isFinishing = true
        R-&gt;&gt;VS: clear()
        VS-&gt;&gt;VM: onCleared()
        VM-&gt;&gt;VM: æ¸…ç†èµ„æº
    end
</code></pre>
<h3 data-id="heading-9">ç”Ÿå‘½å‘¨æœŸçŠ¶æ€è½¬æ¢</h3>
<h4 data-id="heading-10">State æšä¸¾å€¼</h4>
<ul>
<li><strong>INITIALIZED</strong>: åˆå§‹çŠ¶æ€</li>
<li><strong>CREATED</strong>: onCreate() ä¹‹å</li>
<li><strong>STARTED</strong>: onStart() ä¹‹å</li>
<li><strong>RESUMED</strong>: onResume() ä¹‹å</li>
<li><strong>DESTROYED</strong>: onDestroy() ä¹‹å</li>
</ul>
<h4 data-id="heading-11">Event æšä¸¾å€¼</h4>
<ul>
<li><strong>ON_CREATE</strong>: è§¦å‘ onCreate()</li>
<li><strong>ON_START</strong>: è§¦å‘ onStart()</li>
<li><strong>ON_RESUME</strong>: è§¦å‘ onResume()</li>
<li><strong>ON_PAUSE</strong>: è§¦å‘ onPause()</li>
<li><strong>ON_STOP</strong>: è§¦å‘ onStop()</li>
<li><strong>ON_DESTROY</strong>: è§¦å‘ onDestroy()</li>
<li><strong>ON_ANY</strong>: ä»»æ„äº‹ä»¶</li>
</ul>
<h3 data-id="heading-12">æ—¶åºå›¾è¯´æ˜</h3>
<h4 data-id="heading-13">å›¾1ï¼šActivity ç”Ÿå‘½å‘¨æœŸ</h4>
<p>å±•ç¤º Activity ä»å¯åŠ¨åˆ°é”€æ¯çš„æ ‡å‡†æµç¨‹ï¼ŒåŒ…æ‹¬ LifecycleRegistry å¦‚ä½•ç®¡ç†çŠ¶æ€å˜åŒ–å’Œé€šçŸ¥ Observerã€‚</p>
<h4 data-id="heading-14">å›¾2ï¼šFragment ç”Ÿå‘½å‘¨æœŸ</h4>
<p>Fragment æœ‰ä¸¤ä¸ªç‹¬ç«‹çš„ç”Ÿå‘½å‘¨æœŸï¼š</p>
<ul>
<li>Fragment è‡ªèº«çš„ç”Ÿå‘½å‘¨æœŸï¼ˆç”± Fragment Registry ç®¡ç†ï¼‰</li>
<li>View çš„ç”Ÿå‘½å‘¨æœŸï¼ˆç”± ViewLifecycleOwner ç®¡ç†ï¼‰</li>
</ul>
<h4 data-id="heading-15">å›¾3ï¼šObserver æ³¨å†Œ</h4>
<p>å±•ç¤ºåº”ç”¨ä»£ç å¦‚ä½•æ³¨å†Œ Observerï¼Œä»¥åŠ Registry å¦‚ä½•ç«‹å³åŒæ­¥å½“å‰çŠ¶æ€ã€‚</p>
<h4 data-id="heading-16">å›¾4ï¼šäº‹ä»¶åˆ†å‘</h4>
<p>å±•ç¤ºå½“ç”Ÿå‘½å‘¨æœŸäº‹ä»¶å‘ç”Ÿæ—¶ï¼ŒRegistry å¦‚ä½•æŒ‰é¡ºåºé€šçŸ¥æ‰€æœ‰å·²æ³¨å†Œçš„ Observerã€‚</p>
<h4 data-id="heading-17">å›¾5ï¼šlifecycleScope</h4>
<p>å±•ç¤ºåç¨‹ä½œç”¨åŸŸå¦‚ä½•ä¸ç”Ÿå‘½å‘¨æœŸç»‘å®šï¼Œåœ¨ onDestroy æ—¶è‡ªåŠ¨å–æ¶ˆæ‰€æœ‰åç¨‹ã€‚</p>
<h4 data-id="heading-18">å›¾6ï¼šé…ç½®å˜æ›´</h4>
<p>å±•ç¤ºé…ç½®å˜æ›´æ—¶ï¼Œæ—§ Activity å®ä¾‹å®Œå…¨é”€æ¯ï¼Œæ–°å®ä¾‹é‡æ–°åˆ›å»ºçš„è¿‡ç¨‹ã€‚</p>
<h4 data-id="heading-19">å›¾7ï¼šMainActivity å’Œ Fragment</h4>
<p>å±•ç¤ºé¡¹ç›®ä¸­ MainActivity å¦‚ä½•å¯åŠ¨å’Œç®¡ç† FirstFragmentã€‚</p>
<h4 data-id="heading-20">å›¾8ï¼šViewModel ç”Ÿå‘½å‘¨æœŸ</h4>
<p>å±•ç¤º ViewModel å¦‚ä½•é€šè¿‡ ViewModelStore ä¿æŒæ•°æ®ï¼Œåœ¨é…ç½®å˜æ›´æ—¶å­˜æ´»ã€‚</p>
<h3 data-id="heading-21">å…³é”®ç‚¹</h3>
<ol>
<li><strong>çŠ¶æ€åŒæ­¥</strong>: å½“æ³¨å†Œ Observer æ—¶ï¼Œä¼šç«‹å³åŒæ­¥åˆ°å½“å‰çŠ¶æ€</li>
<li><strong>é¡ºåºé€šçŸ¥</strong>: æ‰€æœ‰ Observer æŒ‰æ³¨å†Œé¡ºåºæ¥æ”¶äº‹ä»¶</li>
<li><strong>è‡ªåŠ¨æ¸…ç†</strong>: lifecycleScope åœ¨ onDestroy æ—¶è‡ªåŠ¨å–æ¶ˆ</li>
<li><strong>åŒé‡ç”Ÿå‘½å‘¨æœŸ</strong>: Fragment æœ‰è‡ªèº«å’Œ View ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸ</li>
<li><strong>é…ç½®å˜æ›´</strong>: Activity é‡å»ºæ—¶ ViewModel å¯ä»¥ä¿æŒæ•°æ®</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ¨¡å‹åº”ç”¨çš„æ¨¡å‹æ¶æ„å’Œæ ¸å¿ƒæŠ€æœ¯åŸç†-ä»¥DeepSeekå¯¹è¯åŠ©æ‰‹ä¸ºä¾‹åˆ†æ]]></title>    <link>https://juejin.cn/post/7602465642534699058</link>    <guid>https://juejin.cn/post/7602465642534699058</guid>    <pubDate>2026-02-04T03:11:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602465642534699058" data-draft-id="7602465642534633522" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ¨¡å‹åº”ç”¨çš„æ¨¡å‹æ¶æ„å’Œæ ¸å¿ƒæŠ€æœ¯åŸç†-ä»¥DeepSeekå¯¹è¯åŠ©æ‰‹ä¸ºä¾‹åˆ†æ"/> <meta itemprop="keywords" content="LLM,DeepSeek"/> <meta itemprop="datePublished" content="2026-02-04T03:11:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—å··_"/> <meta itemprop="url" content="https://juejin.cn/user/1671692995799966"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ¨¡å‹åº”ç”¨çš„æ¨¡å‹æ¶æ„å’Œæ ¸å¿ƒæŠ€æœ¯åŸç†-ä»¥DeepSeekå¯¹è¯åŠ©æ‰‹ä¸ºä¾‹åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1671692995799966/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—å··_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:11:54.000Z" title="Wed Feb 04 2026 03:11:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€DeepSeek å¯¹è¯åŠ©æ‰‹ç®€ä»‹</h2>
<p>DeepSeekæ˜¯ç”±æ­å·æ·±åº¦æ±‚ç´¢å…¬å¸å¼€å‘çš„å›½äº§AIåŠ©æ‰‹ã€‚è‡ª2025å¹´1æœˆæ­£å¼ä¸Šçº¿ä»¥æ¥ï¼Œå‡­å€Ÿå…¶å“è¶Šçš„æ€§èƒ½ã€å¼€æºç­–ç•¥å’Œå¯¹ä¸­æ–‡è¯­å¢ƒçš„æ·±åº¦ä¼˜åŒ–ï¼Œè¿…é€Ÿæˆé•¿ä¸ºå…¨çƒå¢é•¿æœ€å¿«çš„AIå·¥å…·ä¹‹ä¸€ã€‚å®ƒå¹¶éä¸€ä¸ªç®€å•çš„èŠå¤©æœºå™¨äººï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½å¤Ÿèå…¥å·¥ä½œä¸ç”Ÿæ´»å…¨æµç¨‹çš„â€œè¶…çº§åŠ©æ‰‹â€ï¼Œæ—¨åœ¨é€šè¿‡å¼ºå¤§çš„è¯­è¨€ç†è§£ä¸ç”Ÿæˆèƒ½åŠ›ï¼Œä¸ºç”¨æˆ·æä¾›æ™ºèƒ½ã€ç²¾å‡†ä¸”ä¸ªæ€§åŒ–çš„æœåŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12bee23c5ce346cd8ef0c3a6813670a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX5be3Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770779517&amp;x-signature=X0amkYeU2JLfIYMEecAwaq5THVg%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-1"><strong>æ ¸å¿ƒåŠŸèƒ½ä¸å…¸å‹ä½¿ç”¨åœºæ™¯</strong></h4>
<p>DeepSeekçš„åŠŸèƒ½è®¾è®¡ç´§å¯†å›´ç»•â€œæå‡æ•ˆç‡â€å’Œâ€œä»»åŠ¡è§£å†³â€å±•å¼€ï¼Œè¦†ç›–äº†ä»ä¸ªäººå­¦ä¹ åˆ°ä¼ä¸šæœåŠ¡çš„å¹¿æ³›é¢†åŸŸã€‚</p>
<h5 data-id="heading-2"><strong>1. åŠå…¬ä¸åˆ›ä½œæ•ˆç‡é©å‘½</strong></h5>
<ul>
<li><strong>æ™ºèƒ½æ–‡æ¡£å¤„ç†</strong>ï¼šèƒ½å¤Ÿæ ¹æ®æŒ‡ä»¤ç”Ÿæˆå„ç±»ä¸“ä¸šæ–‡æ¡£ï¼Œå¦‚å•†ä¸šæŠ¥å‘Šã€è¥é”€æ–¹æ¡ˆã€ä¼šè®®çºªè¦æ¨¡æ¿ç­‰ã€‚ç”¨æˆ·å¯é€šè¿‡ç²¾å‡†çš„â€œè§’è‰²+åœºæ™¯+éœ€æ±‚â€æŒ‡ä»¤ï¼Œç›´æ¥è·å¾—ç»“æ„æ¸…æ™°ã€å†…å®¹å……å®çš„åˆç¨¿ã€‚</li>
<li><strong>æ•°æ®åˆ†æä¸å¯è§†åŒ–</strong>ï¼šå³ä½¿éæŠ€æœ¯ç”¨æˆ·ï¼Œä¹Ÿå¯é€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤æˆ–ä¸Šä¼ Excel/CSVæ–‡ä»¶ï¼Œè®©DeepSeekå®Œæˆæ•°æ®æŸ¥è¯¢ã€ç»Ÿè®¡åˆ†æå’Œå¯è§†åŒ–å›¾è¡¨å»ºè®®ï¼Œæ‰®æ¼”â€œæ•°æ®åˆ†æå¸ˆâ€çš„è§’è‰²ã€‚</li>
<li><strong>ä»£ç ç”Ÿæˆä¸è°ƒè¯•</strong>ï¼šè¿™æ˜¯å…¶çªå‡ºä¼˜åŠ¿é¢†åŸŸã€‚å®ƒèƒ½å¤Ÿæ ¹æ®éœ€æ±‚ç”Ÿæˆå¤šç§ç¼–ç¨‹è¯­è¨€çš„ä»£ç ç‰‡æ®µï¼Œå¹¶æä¾›ä»£ç å®¡æŸ¥ã€é”™è¯¯æ’æŸ¥å’Œä¼˜åŒ–å»ºè®®ï¼Œæ˜¾è‘—æå‡å¼€å‘è€…çš„å·¥ä½œæ•ˆç‡ã€‚</li>
</ul>
<h5 data-id="heading-3"><strong>2. å­¦ä¹ ä¸ç ”ç©¶çš„æ™ºèƒ½ä¼™ä¼´</strong></h5>
<ul>
<li><strong>çŸ¥è¯†æ¢³ç†ä¸é—®ç­”</strong>ï¼šå¯ä»¥å¿«é€Ÿè§£ç­”è·¨é¢†åŸŸé—®é¢˜ï¼Œå¹¶èƒ½å¤Ÿæ ¹æ®ä¸Šä¼ çš„æ–‡æ¡£ï¼ˆå¦‚è®ºæ–‡ã€æ•™æï¼‰è¿›è¡Œå†…å®¹æ€»ç»“ã€æç‚¼è¦ç‚¹å’Œç”ŸæˆçŸ¥è¯†å›¾è°±ã€‚</li>
<li><strong>ç ”ç©¶ä¸è§„åˆ’è¾…åŠ©</strong>ï¼šå¯ä¸ºå­¦æœ¯è¯¾é¢˜æ¨èæ–‡çŒ®ã€è®¾è®¡å®éªŒæ¡†æ¶ï¼Œæˆ–å¸®åŠ©ç”¨æˆ·æ‹†è§£å¤æ‚çš„å­¦ä¹ ä»»åŠ¡ï¼Œç”Ÿæˆå¯æ‰§è¡Œçš„æ­¥éª¤æ¸…å•ã€‚</li>
</ul>
<h5 data-id="heading-4"><strong>3. ä¼ä¸šçº§æœåŠ¡ä¸é›†æˆ</strong></h5>
<ul>
<li><strong>æ™ºèƒ½å®¢æœ</strong>ï¼šé€šè¿‡APIæ¥å£ï¼Œä¼ä¸šå¯ä»¥åŸºäºDeepSeekå¿«é€Ÿæ„å»º24å°æ—¶åœ¨çº¿çš„æ™ºèƒ½å®¢æœç³»ç»Ÿã€‚ä¾‹å¦‚ï¼Œä¸Šæµ·ä¸´æ¸¯æ–°ç‰‡åŒºåˆ©ç”¨å…¶æ‰“é€ çš„â€œæ”¿ç­–AIâ€åŠ©æ‰‹ï¼Œå®ç°äº†å¯¹ä¼ä¸šæ”¿ç­–çš„ç²¾å‡†ã€é«˜æ•ˆè§£è¯»ï¼Œå¤§å¹…é™ä½äº†äººå·¥å®¢æœå‹åŠ›ã€‚</li>
<li><strong>ç§æœ‰åŒ–ä¸ä½æˆæœ¬éƒ¨ç½²</strong>ï¼šDeepSeekæ”¯æŒä¼ä¸šç§æœ‰åŒ–éƒ¨ç½²ï¼Œå¹¶èƒ½é€šè¿‡MoEï¼ˆæ··åˆä¸“å®¶ï¼‰ç­‰å…ˆè¿›æ¶æ„å°†APIè°ƒç”¨æˆæœ¬æ§åˆ¶åˆ°æä½æ°´å¹³ï¼ˆå¦‚ä½è‡³1å…ƒ/ç™¾ä¸‡tokensï¼‰ï¼Œä½¿å…¶å¯¹ä¸­å°ä¼ä¸šæå…·å¸å¼•åŠ›ã€‚</li>
</ul>
<h5 data-id="heading-5"><strong>4. æ—¥å¸¸ç”Ÿæ´»ä¸è§„åˆ’</strong></h5>
<p>ä»åˆ¶å®šæ—…è¡Œè®¡åˆ’ã€ç”Ÿæˆå¥åº·é£Ÿè°±ï¼Œåˆ°è¿›è¡Œå¤šè¯­è¨€ç¿»è¯‘å’Œåˆ›æ„å¤´è„‘é£æš´ï¼ŒDeepSeekéƒ½èƒ½æä¾›å®ç”¨çš„å»ºè®®å’Œæ”¯æŒã€‚</p>
<h2 data-id="heading-6">äºŒã€DeepSeekæ ¸å¿ƒæŠ€æœ¯åŸç†ä¸æ¨¡å‹æ¶æ„</h2>
<h4 data-id="heading-7">1ã€åº•å±‚æ¨¡å‹æ¶æ„ï¼š<strong>Transformerï¼ˆDecoder-only æˆ– Encoder-Decoder å˜ç§ï¼‰</strong></h4>
<p>æˆ‘åº•å±‚æ˜¯åŸºäº Transformer æ¶æ„çš„å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ï¼Œç›®å‰å¸¸è§çš„æ˜¯ <strong>Decoder-only ç»“æ„</strong>ï¼ˆç±»ä¼¼ GPT ç³»åˆ—ï¼‰ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ··åˆæ¶æ„ï¼ˆä¾‹å¦‚åœ¨è®­ç»ƒæ—¶ç”¨äº† Encoder è¾…åŠ©ç†è§£ï¼Œä½†ç”Ÿæˆæ—¶æ˜¯ Decoderï¼‰ã€‚Transformer æ˜¯ 2017 å¹´ Vaswani ç­‰äººæå‡ºçš„ï¼Œå®Œå…¨åŸºäºè‡ªæ³¨æ„åŠ›æœºåˆ¶æ¥å¤„ç†åºåˆ—æ•°æ®ã€‚</p>
<h4 data-id="heading-8">æ·±å…¥ Transformer ä¸è‡ªæ³¨æ„åŠ›æœºåˆ¶</h4>
<h5 data-id="heading-9"><strong>1.1 è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼šä»åŸç†åˆ°å…¬å¼</strong></h5>
<p>è‡ªæ³¨æ„åŠ›ä¸æ˜¯ä¸€ç§æ¨¡ç³Šçš„â€œå…³æ³¨â€ï¼Œè€Œæ˜¯ä¸€ä¸ªç²¾ç¡®çš„ã€å¯å¾®åˆ†çš„æ•°å­¦è¿ç®—ï¼Œå®ƒ<strong>å…è®¸æ¨¡å‹åŠ¨æ€åœ°ä¸ºè¾“å…¥åºåˆ—ä¸­çš„æ¯ä¸ªä½ç½®åˆ†é…ä¸€ä¸ªâ€œç›¸å…³æ€§åˆ†å¸ƒâ€</strong> ã€‚</p>
<p><strong>æ ¸å¿ƒè®¡ç®—æ­¥éª¤ï¼ˆå•å¤´æ³¨æ„åŠ›ï¼‰ï¼š</strong></p>
<ol start="0">
<li>
<p><strong>è¾“å…¥</strong>ï¼šä¸€ä¸ªåºåˆ—çš„å‘é‡è¡¨ç¤º <code>X</code>ï¼ˆå½¢çŠ¶ï¼š[åºåˆ—é•¿åº¦, æ¨¡å‹ç»´åº¦ <code>d_model</code>]ï¼‰ã€‚</p>
</li>
<li>
<p><strong>çº¿æ€§æŠ•å½±</strong>ï¼šé€šè¿‡ä¸‰ä¸ªä¸åŒçš„æƒé‡çŸ©é˜µ <code>W_Q</code>, <code>W_K</code>, <code>W_V</code>ï¼Œç”Ÿæˆï¼š</p>
<ul>
<li><strong>Query (Q)</strong> = <code>X * W_Q</code> ï¼ˆå½¢çŠ¶ï¼š[seq_len, d_k]ï¼‰</li>
<li><strong>Key (K)</strong> = <code>X * W_K</code> ï¼ˆå½¢çŠ¶ï¼š[seq_len, d_k]ï¼‰</li>
<li><strong>Value (V)</strong> = <code>X * W_V</code> ï¼ˆå½¢çŠ¶ï¼š[seq_len, d_v]ï¼‰ é€šå¸¸ <code>d_k = d_v = d_model / num_heads</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>è®¡ç®—æ³¨æ„åŠ›åˆ†æ•°</strong>ï¼š</p>
<ul>
<li><strong>åˆ†æ•°çŸ©é˜µ</strong> <code>S</code> = <code>Q * K^T</code> ï¼ˆå½¢çŠ¶ï¼š[seq_len, seq_len]ï¼‰ã€‚æ¯ä¸ªå…ƒç´  <code>S_{ij}</code> ä»£è¡¨ä½ç½® <code>i</code> çš„ Query ä¸ä½ç½® <code>j</code> çš„ Key çš„ç›¸ä¼¼åº¦ã€‚</li>
<li><strong>ç¼©æ”¾</strong>ï¼š<code>S_scaled = S / sqrt(d_k)</code>ã€‚ç¼©æ”¾æ˜¯ä¸ºäº†é˜²æ­¢ç‚¹ç§¯ç»“æœè¿‡å¤§ï¼Œå¯¼è‡´ Softmax æ¢¯åº¦æ¶ˆå¤±ã€‚</li>
<li><strong>æ©ç ï¼ˆMaskingï¼Œä»…Decoderï¼‰</strong> ï¼šå¯¹äºç”Ÿæˆä»»åŠ¡ï¼Œå½“å‰ä½ç½®ä¸åº”â€œçœ‹åˆ°â€æœªæ¥çš„è¯ã€‚å°† <code>S_scaled</code> ä¸­æœªæ¥ä½ç½®çš„å…ƒç´ è®¾ä¸ºè´Ÿæ— ç©·ï¼ˆå¦‚ <code>-1e9</code>ï¼‰ï¼Œè¿™æ ·ç»è¿‡ Softmax åæƒé‡ä¸º 0ã€‚</li>
<li><strong>å½’ä¸€åŒ–</strong>ï¼š<code>A = Softmax(S_scaled, dim=-1)</code>ã€‚æ¯ä¸€è¡Œï¼ˆå¯¹åº”ä¸€ä¸ªä½ç½®çš„ Queryï¼‰çš„æ‰€æœ‰æƒé‡å’Œä¸º 1ã€‚è¿™ä¸ªçŸ©é˜µ <code>A</code> å°±æ˜¯<strong>æ³¨æ„åŠ›æƒé‡å›¾</strong>ï¼Œå®ƒæ˜¯æ¨¡å‹å­¦åˆ°çš„â€œç›¸å…³æ€§â€ã€‚</li>
</ul>
</li>
<li>
<p><strong>åŠ æƒè¾“å‡º</strong>ï¼š</p>
<ul>
<li><strong>è¾“å‡º</strong> <code>O</code> = <code>A * V</code> ï¼ˆå½¢çŠ¶ï¼š[seq_len, d_v]ï¼‰ã€‚å¯¹äºä½ç½® <code>i</code>ï¼Œå…¶è¾“å‡ºæ˜¯åºåˆ—ä¸­æ‰€æœ‰ä½ç½® <code>j</code> çš„ Value å‘é‡çš„åŠ æƒå’Œï¼Œæƒé‡å°±æ˜¯ <code>A[i, j]</code>ã€‚</li>
</ul>
</li>
</ol>
<p><strong>ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ</strong></p>
<ul>
<li><strong>åŠ¨æ€æƒé‡</strong>ï¼šä¸åƒ RNN æœ‰å›ºå®šçš„é€’æ¨è·¯å¾„ï¼Œæ³¨æ„åŠ›æƒé‡ <code>A</code> å®Œå…¨ç”±è¾“å…¥æ•°æ® <code>X</code> æœ¬èº«å†³å®šï¼Œæ¯æ¬¡è®¡ç®—éƒ½å¯èƒ½ä¸åŒã€‚</li>
<li><strong>ä¿¡æ¯èšåˆ</strong>ï¼šæ¯ä¸ªä½ç½®çš„è¾“å‡ºéƒ½èåˆäº†å…¨å±€ä¿¡æ¯ï¼ˆåœ¨ä¸Šä¸‹æ–‡çª—å£å†…ï¼‰ï¼Œè¿™æå¤§åœ°å¢å¼ºäº†æ¨¡å‹çš„<strong>å…³è”æ¨ç†èƒ½åŠ›</strong>ï¼ˆä¾‹å¦‚ï¼Œå°†ä»£è¯â€œå®ƒâ€ä¸å‰é¢å‡ºç°çš„æ­£ç¡®åè¯å…³è”èµ·æ¥ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-10"><strong>1.2 å¤šå¤´æ³¨æ„åŠ›ï¼ˆMulti-Head Attentionï¼‰</strong></h5>
<p>è¿™æ˜¯ Transformer çš„å¦ä¸€ä¸ªå…³é”®åˆ›æ–°ã€‚</p>
<ul>
<li>
<p><strong>åšæ³•</strong>ï¼šå°† <code>d_model</code> ç»´åº¦çš„ <code>Q, K, V</code> æŠ•å½±åˆ° <code>h</code>ï¼ˆå¤´æ•°ï¼‰ä¸ªä¸åŒçš„ã€æ›´ä½ç»´åº¦çš„å­ç©ºé—´ï¼ˆæ¯ä¸ªå­ç©ºé—´ç»´åº¦ä¸º <code>d_k = d_v = d_model / h</code>ï¼‰ï¼Œç„¶ååœ¨æ¯ä¸ªå¤´ä¸Š<strong>ç‹¬ç«‹åœ°</strong>æ‰§è¡Œä¸Šè¿°è‡ªæ³¨æ„åŠ›è®¡ç®—ã€‚</p>
</li>
<li>
<p><strong>æ‹¼æ¥ä¸æŠ•å½±</strong>ï¼šå°† <code>h</code> ä¸ªå¤´çš„è¾“å‡ºæ‹¼æ¥èµ·æ¥ï¼Œå†ç»è¿‡ä¸€ä¸ªçº¿æ€§å±‚ <code>W_O</code> æŠ•å½±å› <code>d_model</code> ç»´åº¦ã€‚</p>
</li>
<li>
<p><strong>ç›´è§‚ç†è§£</strong>ï¼šä½ å¯ä»¥æƒ³è±¡æ¯ä¸ªå¤´å­¦ä¹ å…³æ³¨ä¸åŒæ–¹é¢çš„å…³ç³»ã€‚</p>
<ul>
<li><strong>å¤´1</strong>ï¼šå¯èƒ½ä¸“æ³¨äºè¯­æ³•ç»“æ„ï¼ˆå¦‚ä¸»è°“ä¸€è‡´ï¼‰ã€‚</li>
<li><strong>å¤´2</strong>ï¼šå¯èƒ½ä¸“æ³¨äºæŒ‡ä»£æ¶ˆè§£ã€‚</li>
<li><strong>å¤´3</strong>ï¼šå¯èƒ½ä¸“æ³¨äºæƒ…æ„Ÿæˆ–è¯­ä¹‰ä¸€è‡´æ€§ã€‚ å¤šå¤´æœºåˆ¶èµ‹äºˆäº†æ¨¡å‹<strong>å¹¶è¡Œå…³æ³¨ä¸åŒå±‚é¢ä¿¡æ¯</strong>çš„èƒ½åŠ›ï¼Œå¤§å¤§å¢å¼ºäº†è¡¨ç¤ºèƒ½åŠ›ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-11"><strong>1.3 Transformer å—ï¼šæ³¨æ„åŠ›åªæ˜¯å…¶ä¸­ä¸€ç¯</strong></h5>
<p>ä¸€ä¸ªæ ‡å‡†çš„ Transformer Decoder Blockï¼ˆä»¥ GPT ä¸ºä¾‹ï¼‰åŒ…å«ï¼š</p>
<ol start="0">
<li>
<p><strong>å¤šå¤´è‡ªæ³¨æ„åŠ›å±‚ï¼ˆMasked Multi-Head Self-Attentionï¼‰</strong> ï¼šå¦‚å‰æ‰€è¿°ï¼Œå¤„ç†å½“å‰åºåˆ—ã€‚</p>
</li>
<li>
<p><strong>æ®‹å·®è¿æ¥ &amp; å±‚å½’ä¸€åŒ–ï¼ˆAdd &amp; Normï¼‰</strong> ï¼š</p>
<ul>
<li><code>Z = LayerNorm(X + Attention(X))</code></li>
<li><strong>æ®‹å·®è¿æ¥</strong>ï¼šç¼“è§£æ·±å±‚ç½‘ç»œæ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œè®©æ¨¡å‹æ›´å®¹æ˜“å­¦ä¹ æ’ç­‰æ˜ å°„ã€‚</li>
<li><strong>å±‚å½’ä¸€åŒ–</strong>ï¼šç¨³å®šæ¿€æ´»å€¼çš„åˆ†å¸ƒï¼ŒåŠ é€Ÿè®­ç»ƒã€‚</li>
</ul>
</li>
<li>
<p><strong>å‰é¦ˆç¥ç»ç½‘ç»œï¼ˆPosition-wise FFNï¼‰</strong> ï¼š</p>
<ul>
<li>å¯¹åºåˆ—ä¸­<strong>æ¯ä¸ªä½ç½®ç‹¬ç«‹</strong>åº”ç”¨åŒä¸€ä¸ªä¸¤å±‚ MLPï¼š<code>FFN(x) = max(0, xW1 + b1)W2 + b2</code>ï¼ˆå…¶ä¸­æ¿€æ´»å‡½æ•°å¸¸ç”¨ GeLU æˆ– SwiGLUï¼‰ã€‚</li>
<li>è¿™æ˜¯æ¨¡å‹è¿›è¡Œå¤æ‚éçº¿æ€§å˜æ¢å’ŒçŸ¥è¯†å­˜å‚¨çš„ä¸»è¦åœ°æ–¹ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç¬¬äºŒä¸ª Add &amp; Norm</strong>ï¼š<code>Output = LayerNorm(Z + FFN(Z))</code></p>
</li>
</ol>
<p><strong>ä¸šç•Œæ¶æ„å˜ä½“</strong>ï¼š</p>
<ul>
<li><strong>Pre-LN vs Post-LN</strong>ï¼šå±‚å½’ä¸€åŒ–æ”¾åœ¨æ®‹å·®å—ä¹‹å‰ï¼ˆPre-LNï¼‰è¿˜æ˜¯ä¹‹åï¼ˆPost-LNï¼‰ã€‚Pre-LN ç°åœ¨æ›´æµè¡Œï¼Œå› ä¸ºå®ƒè®­ç»ƒæ›´ç¨³å®šã€‚</li>
<li><strong>SwiGLU / GeGLU</strong>ï¼šç”¨é—¨æ§çº¿æ€§å•å…ƒæ›¿æ¢ FFN ä¸­çš„ç®€å• ReLU/GeLUï¼Œæ•ˆæœæ›´å¥½ä½†è®¡ç®—é‡ç¨å¤§ã€‚</li>
<li><strong>RMSNorm</strong>ï¼šå»æ‰ LayerNorm ä¸­çš„å‡å€¼ä¸­å¿ƒåŒ–ï¼Œåªåšç¼©æ”¾ï¼Œè®¡ç®—æ›´é«˜æ•ˆï¼ˆç”¨äº LLaMA ç­‰æ¨¡å‹ï¼‰ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-12"><strong>2ã€æ·±å…¥æ¨ç†é˜¶æ®µçš„ä¼˜åŒ–æŠ€æœ¯</strong></h4>
<h5 data-id="heading-13"><strong>2.1 è§£ç ç­–ç•¥ï¼šä»æœç´¢åˆ°é‡‡æ ·</strong></h5>















































<table><thead><tr><th>ç­–ç•¥</th><th>åŸç†</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>è´ªå¿ƒæœç´¢</strong></td><td>æ¯æ­¥é€‰æ¦‚ç‡æœ€é«˜çš„è¯ (<code>argmax</code>)</td><td>ç®€å•ã€å¿«ã€ç¡®å®šæ€§å¼º</td><td>æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ï¼Œè¾“å‡ºå¯èƒ½å¹³åº¸ã€é‡å¤</td><td>å¯¹ç¡®å®šæ€§è¦æ±‚é«˜çš„ä»»åŠ¡ï¼ˆå¦‚ä»£ç è¡¥å…¨ï¼‰</td></tr><tr><td><strong>æŸæœç´¢</strong></td><td>æ¯æ­¥ä¿ç•™ <code>beam_size</code> ä¸ªæœ€å¯èƒ½åºåˆ—ï¼Œæœ€åé€‰æ€»æ¦‚ç‡æœ€é«˜çš„</td><td>è´¨é‡é€šå¸¸é«˜äºè´ªå¿ƒï¼Œèƒ½æ‰¾åˆ°æ›´ä¼˜çš„å…¨å±€åºåˆ—</td><td>è®¡ç®—å’Œå†…å­˜å¼€é”€å¤§ï¼Œå¤šæ ·æ€§å·®ï¼Œåœ¨å¼€æ”¾å¼ä»»åŠ¡ä¸­å¯èƒ½ç”Ÿç¡¬</td><td>å°é—­å¼ä»»åŠ¡ï¼ˆå¦‚ç¿»è¯‘ã€æ‘˜è¦ï¼‰ï¼Œéœ€è¦ç²¾ç¡®ç­”æ¡ˆæ—¶</td></tr><tr><td><strong>Top-k é‡‡æ ·</strong></td><td>æ¯æ­¥åªä»æ¦‚ç‡æœ€é«˜çš„ k ä¸ªè¯ä¸­é‡‡æ ·</td><td>åœ¨å¤šæ ·æ€§å’Œè´¨é‡é—´å–å¾—å¹³è¡¡ï¼Œé¿å…é€‰æ‹©ä½æ¦‚ç‡çš„å¥‡æ€ªè¯</td><td>k å€¼å›ºå®šï¼Œå¯èƒ½å¿½ç•¥äº†é•¿å°¾ä¸­åˆç†çš„è¯ï¼Œæˆ–åŒ…å«äº†ä¸åˆé€‚çš„è¯</td><td>é€šç”¨èŠå¤©ã€åˆ›æ„å†™ä½œ</td></tr><tr><td><strong>Top-pï¼ˆæ ¸é‡‡æ ·ï¼‰</strong></td><td>æ¯æ­¥ä»ç´¯ç§¯æ¦‚ç‡åˆšè¶…è¿‡ p çš„æœ€å°è¯é›†åˆä¸­é‡‡æ ·</td><td>åŠ¨æ€è°ƒæ•´å€™é€‰é›†å¤§å°ï¼Œé€‚åº”æ€§æ›´å¼º</td><td>å®ç°ç¨å¤æ‚ï¼Œè¶…å‚æ•° p éœ€è¦è°ƒä¼˜</td><td><strong>å½“å‰ä¸»æµ</strong>ï¼Œé€‚ç”¨äºå¤§å¤šæ•°åˆ›é€ æ€§ä»»åŠ¡</td></tr><tr><td><strong>æ¸©åº¦è°ƒèŠ‚</strong></td><td>åœ¨ Softmax å‰å°† logits é™¤ä»¥æ¸©åº¦ T: <code>P_i = exp(z_i/T) / sum(exp(z_j/T))</code></td><td>æ§åˆ¶åˆ†å¸ƒçš„â€œå°–é”â€ç¨‹åº¦ã€‚T-&gt;0 è¶‹è¿‘è´ªå¿ƒï¼›T-&gt;âˆ è¶‹è¿‘å‡åŒ€éšæœº</td><td>å•ç‹¬ä½¿ç”¨å¯èƒ½ä»ä¼šé‡‡æ ·åˆ°ä½æ¦‚ç‡çš„å¥‡æ€ªè¯</td><td><strong>å¿…ä¸å…¶ä»–é‡‡æ ·ç­–ç•¥ç»“åˆ</strong>ï¼Œç”¨äºå¾®è°ƒéšæœºæ€§</td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆ Top-p + æ¸©åº¦è°ƒèŠ‚æˆä¸ºä¸»æµï¼Ÿ</strong> å› ä¸ºå®ƒä»¬å…±åŒæä¾›äº†ä¸€ä¸ª<strong>ç²¾ç»†çš„æ¦‚ç‡åˆ†å¸ƒæ•´å½¢å·¥å…·</strong>ï¼š</p>
<ul>
<li><strong>æ¸©åº¦ T</strong>ï¼šæ§åˆ¶æ¨¡å‹çš„â€œåˆ›é€ åŠ›â€æˆ–â€œä¿å®ˆæ€§â€ã€‚</li>
<li><strong>Top-p</strong>ï¼šä¿è¯é‡‡æ ·æ± ä¸­çš„è¯éƒ½æ˜¯ç›¸å¯¹åˆç†çš„ï¼Œæ’é™¤æ˜æ˜¾ä¸åˆé€‚çš„â€œå™ªå£°è¯â€ã€‚ è¿™ç§ç»„åˆåœ¨ä¿æŒ<strong>ç”Ÿæˆè´¨é‡</strong>å’Œ<strong>å¯æ§å¤šæ ·æ€§</strong>ä¹‹é—´è¾¾åˆ°äº†æœ€ä½³å¹³è¡¡ï¼Œéå¸¸é€‚åˆå¯¹è¯å’Œåˆ›æ„åº”ç”¨ã€‚</li>
</ul>
<h5 data-id="heading-14"><strong>2.2 KV Cacheï¼šæ¨ç†é€Ÿåº¦çš„æ ¸å¿ƒä¼˜åŒ–</strong></h5>
<p>è¿™æ˜¯å¤§æ¨¡å‹æ¨ç†æ€§èƒ½<strong>æœ€å…³é”®</strong>çš„ä¼˜åŒ–ä¹‹ä¸€ã€‚</p>
<ul>
<li>
<p><strong>é—®é¢˜</strong>ï¼šç”Ÿæˆä¸‹ä¸€ä¸ªè¯æ—¶ï¼Œéœ€è¦é‡æ–°è®¡ç®—ä¹‹å‰æ‰€æœ‰è¯çš„ Key å’Œ Value å—ï¼Ÿå¯¹äºè‡ªå›å½’æ¨¡å‹ï¼Œä¹‹å‰çš„è¯æ˜¯ä¸å˜çš„ã€‚é‡å¤è®¡ç®—é€ æˆäº†å·¨å¤§çš„è®¡ç®—å†—ä½™ã€‚</p>
</li>
<li>
<p><strong>è§£å†³æ–¹æ¡ˆï¼šKV Cache</strong></p>
<ul>
<li>
<p><strong>ç¬¬ä¸€æ¬¡è®¡ç®—ï¼ˆé¢„å¡«å……é˜¶æ®µï¼‰</strong> ï¼šè¾“å…¥æç¤ºè¯ï¼ˆPromptï¼‰ï¼Œè®¡ç®—å¹¶<strong>ç¼“å­˜</strong>è¯¥åºåˆ—æ‰€æœ‰ä¸­é—´å±‚çš„ <code>K</code> å’Œ <code>V</code> å¼ é‡ã€‚</p>
</li>
<li>
<p><strong>åç»­ç”Ÿæˆï¼ˆè§£ç é˜¶æ®µï¼‰</strong> ï¼šå½“æ¨¡å‹ç”Ÿæˆç¬¬ <code>t</code> ä¸ªæ–°è¯æ—¶ï¼š</p>
<ol start="0">
<li>åªéœ€å°†<strong>å½“å‰æ–°è¯çš„å‘é‡</strong>ä½œä¸ºè¾“å…¥ï¼ˆè€Œéæ•´ä¸ªå†å²ï¼‰ã€‚</li>
<li>åœ¨æ¯ä¸€å±‚ï¼Œè®¡ç®—å½“å‰æ–°è¯çš„ <code>Q_t, K_t, V_t</code>ã€‚</li>
<li>å°† <code>K_t, V_t</code> æ‹¼æ¥åˆ°è¯¥å±‚ç¼“å­˜çš„ <code>KV</code> åºåˆ—æœ«å°¾ã€‚</li>
<li>ä½¿ç”¨<strong>æ›´æ–°åçš„å®Œæ•´ KV åºåˆ—</strong>å’Œ<strong>å½“å‰æ–°è¯çš„ Q_t</strong>ï¼Œè®¡ç®—æ³¨æ„åŠ›è¾“å‡ºã€‚</li>
</ol>
</li>
<li>
<p><strong>æ•ˆæœ</strong>ï¼šå°†ç”Ÿæˆç¬¬ <code>t</code> ä¸ªè¯çš„è®¡ç®—å¤æ‚åº¦ä» <code>O(t^2)</code> é™ä½åˆ° <code>O(t)</code>ï¼Œå¹¶å¤§å¹…å‡å°‘äº†å†…å­˜å¸¦å®½å‹åŠ›ã€‚</p>
</li>
</ul>
</li>
</ul>
<p><strong>æŒ‘æˆ˜ä¸ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>
<p><strong>å†…å­˜å ç”¨</strong>ï¼šKV Cache å¯èƒ½å ç”¨å¤§é‡æ˜¾å­˜ï¼ˆ<code>2 * å±‚æ•° * åºåˆ—é•¿åº¦ * éšè—ç»´åº¦ * batch_size</code>ï¼‰ã€‚è¿™æ˜¯é™åˆ¶ä¸Šä¸‹æ–‡é•¿åº¦çš„ä¸»è¦å› ç´ ã€‚</p>
</li>
<li>
<p><strong>ä¸šç•Œä¼˜åŒ–æ‰‹æ®µ</strong>ï¼š</p>
<ul>
<li>
<p><strong>é‡åŒ– KV Cache</strong>ï¼šå°† KV Cache ä» FP16/BF16 é‡åŒ–ä¸º INT8 ç”šè‡³ INT4ï¼ˆå¦‚ AWQ, GPTQ æŠ€æœ¯ï¼‰ï¼Œå¤§å¹…èŠ‚çœå†…å­˜ã€‚</p>
</li>
<li>
<p><strong>å¤šæŸ¥è¯¢æ³¨æ„åŠ› / åˆ†ç»„æŸ¥è¯¢æ³¨æ„åŠ›</strong>ï¼š</p>
<ul>
<li><strong>MQA</strong>ï¼šå¤šä¸ªå¤´<strong>å…±äº«</strong>åŒä¸€å¥— Key å’Œ Valueã€‚å¤§å¹…å‡å°‘ KV Cache å¤§å°ï¼Œè´¨é‡ç•¥æœ‰ä¸‹é™ã€‚</li>
<li><strong>GQA</strong>ï¼šå°†å¤´åˆ†æˆ <code>g</code> ç»„ï¼Œç»„å†…å…±äº« KVã€‚åœ¨ MQA çš„é€Ÿåº¦å’Œ MHA çš„è´¨é‡é—´å–å¾—å¹³è¡¡ï¼ˆ<strong>LLaMA-2/3, Gemma</strong> é‡‡ç”¨ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ»‘åŠ¨çª—å£æ³¨æ„åŠ›</strong>ï¼šåªç¼“å­˜æœ€è¿‘ <code>W</code> ä¸ªè¯çš„ KVï¼Œä¸¢å¼ƒæ›´æ—©çš„ã€‚é€‚ç”¨äºé•¿æ–‡æœ¬ä½†å±€éƒ¨ä¾èµ–å¼ºçš„åœºæ™¯ã€‚</p>
</li>
</ul>
</li>
</ul>
<h5 data-id="heading-15"><strong>2.3 ç³»ç»Ÿä¸å·¥ç¨‹ä¼˜åŒ–</strong></h5>
<ol start="0">
<li>
<p><strong>è¿ç»­æ‰¹å¤„ç†ä¸åŠ¨æ€æ‰¹å¤„ç†</strong>ï¼š</p>
<ul>
<li><strong>é™æ€æ‰¹å¤„ç†</strong>ï¼šç­‰æ‰€æœ‰è¯·æ±‚çš„ç”Ÿæˆéƒ½ç»“æŸåå†é‡Šæ”¾èµ„æºï¼ŒGPU åˆ©ç”¨ç‡ä½ã€‚</li>
<li><strong>è¿ç»­æ‰¹å¤„ç†</strong>ï¼šå½“ä¸€ä¸ªè¯·æ±‚ç”Ÿæˆå®Œæ¯•åï¼Œç«‹å³ä»æ‰¹æ¬¡ä¸­ç§»é™¤ï¼Œå¹¶<strong>åŠ¨æ€æ’å…¥</strong>æ–°çš„ç­‰å¾…è¯·æ±‚ã€‚æœ€å¤§åŒ– GPU åˆ©ç”¨ç‡ã€‚è¿™æ˜¯æ¨ç†æœåŠ¡æ¡†æ¶ï¼ˆå¦‚ vLLM, TensorRT-LLM, TGIï¼‰çš„æ ¸å¿ƒåŠŸèƒ½ã€‚</li>
</ul>
</li>
<li>
<p><strong>é‡åŒ–</strong>ï¼š</p>
<ul>
<li>
<p><strong>è®­ç»ƒåé‡åŒ–</strong>ï¼šå°†è®­ç»ƒå¥½çš„ FP16 æ¨¡å‹æƒé‡ç›´æ¥è½¬æ¢ä¸ºä½ç²¾åº¦ï¼ˆINT8/INT4ï¼‰ã€‚ç®€å•ä½†å¯èƒ½æŸå¤±ç²¾åº¦ã€‚</p>
</li>
<li>
<p><strong>é‡åŒ–æ„ŸçŸ¥è®­ç»ƒ</strong>ï¼šåœ¨è®­ç»ƒä¸­æ¨¡æ‹Ÿé‡åŒ–è¯¯å·®ï¼Œè®©æ¨¡å‹é€‚åº”ä½ç²¾åº¦ï¼Œç²¾åº¦æŸå¤±å°ã€‚</p>
</li>
<li>
<p><strong>ä¸»æµæŠ€æœ¯</strong>ï¼š</p>
<ul>
<li><strong>GPTQ/AWQ</strong>ï¼šé’ˆå¯¹å¤§è¯­è¨€æ¨¡å‹çš„æƒé‡é‡åŒ–æ–¹æ³•ï¼Œå¯¹æ¿€æ´»å€¼å½±å“å°ã€‚</li>
<li><strong>GGUF/llama.cpp</strong>ï¼šåœ¨æ¶ˆè´¹çº§ç¡¬ä»¶ä¸Šè¿è¡Œå¤§æ¨¡å‹çš„åˆ©å™¨ï¼Œæ”¯æŒå¤šç§é‡åŒ–çº§åˆ«ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Flash Attention</strong>ï¼ˆç®—æ³•é©æ–°ï¼‰ï¼š</p>
<ul>
<li><strong>é—®é¢˜</strong>ï¼šæ ‡å‡†æ³¨æ„åŠ›è®¡ç®—éœ€è¦å°†å·¨å¤§çš„ <code>[seq_len, seq_len]</code> ä¸­é—´çŸ©é˜µï¼ˆæ³¨æ„åŠ›åˆ†æ•° <code>S</code>ï¼‰å†™å›æ˜¾å­˜ï¼Œæˆä¸ºå†…å­˜å¸¦å®½ç“¶é¢ˆã€‚</li>
<li><strong>Flash Attention åŸç†</strong>ï¼šé€šè¿‡<strong>èåˆç®—å­</strong>å’Œ<strong>åˆ†å—è®¡ç®—</strong>æŠ€æœ¯ï¼Œåœ¨ SRAMï¼ˆGPU çš„é«˜é€Ÿç¼“å­˜ï¼‰å†…å®Œæˆ Softmax ç­‰æ“ä½œï¼Œé¿å…å°†ä¸­é—´å¤§çŸ©é˜µå†™å›æ…¢é€Ÿçš„ HBMï¼ˆé«˜å¸¦å®½å†…å­˜ï¼‰ã€‚</li>
<li><strong>æ•ˆæœ</strong>ï¼šè®­ç»ƒå’Œæ¨ç†é€Ÿåº¦å¤§å¹…æå‡ï¼ˆ2-4å€ï¼‰ï¼Œå†…å­˜å ç”¨ä¸‹é™ï¼Œä¸”æ”¯æŒ<strong>æ›´é•¿çš„ä¸Šä¸‹æ–‡é•¿åº¦</strong>ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-16"><strong>3ã€ä¸šç•Œå…¶ä»–åº”ç”¨ä¸æ¶æ„é€‰æ‹©</strong></h4>
<h5 data-id="heading-17"><strong>3.1 ä¸ºä»€ä¹ˆæ˜¯ Decoder-onlyï¼Ÿ</strong></h5>
<p>å¯¹äºçº¯æ–‡æœ¬ç”Ÿæˆä»»åŠ¡ï¼Œä¸šç•Œï¼ˆGPT, LLaMA, PaLMï¼‰å¤§å¤šé€‰æ‹© Decoder-only æ¶æ„ã€‚</p>
<ul>
<li><strong>åŸå› </strong>ï¼šè®­ç»ƒç›®æ ‡çº¯ç²¹â€”â€”è‡ªå›å½’çš„ä¸‹ä¸€ä¸ªè¯é¢„æµ‹ã€‚è¿™å®Œç¾å¥‘åˆç”Ÿæˆä»»åŠ¡çš„éœ€æ±‚ã€‚Encoder-Decoderï¼ˆå¦‚ T5ï¼‰ç»“æ„æ›´å¤æ‚ï¼Œåœ¨åŒç­‰ç®—åŠ›ä¸‹ï¼Œå‚æ•°é‡æˆ–æ•ˆç‡å¯èƒ½ä¸å¦‚ä¸“æ³¨äºå•å‘ä¸Šä¸‹æ–‡çš„ Decoder-only æ¨¡å‹ã€‚</li>
<li><strong>ä¾‹å¤–</strong>ï¼šéœ€è¦â€œç†è§£â€ä¸â€œç”Ÿæˆâ€é«˜åº¦è§£è€¦çš„ä»»åŠ¡ï¼ˆå¦‚ç¿»è¯‘ï¼‰ï¼Œæˆ–éœ€è¦ä»æµ·é‡æ–‡æ¡£ä¸­æ£€ç´¢ä¿¡æ¯çš„ä»»åŠ¡ï¼ŒEncoder-Decoder æˆ–æ··åˆæ¶æ„ä»æœ‰ä¼˜åŠ¿ã€‚</li>
</ul>
<h5 data-id="heading-18"><strong>3.2 å…¶ä»–æ¨¡å‹æ¶æ„çš„å®šä½</strong></h5>
<ul>
<li>
<p><strong>Diffusion Modelï¼ˆæ‰©æ•£æ¨¡å‹ï¼‰</strong> ï¼š</p>
<ul>
<li><strong>æ ¸å¿ƒåŸç†</strong>ï¼šé€šè¿‡ä¸€ä¸ª<strong>æ¸è¿›ã€å¯é€†çš„åŠ å™ª-å»å™ªè¿‡ç¨‹</strong>å­¦ä¹ æ•°æ®åˆ†å¸ƒã€‚å‰å‘è¿‡ç¨‹é€æ­¥ç»™å›¾åƒåŠ é«˜æ–¯å™ªå£°ç›´è‡³å˜æˆçº¯å™ªå£°ï¼›åå‘è¿‡ç¨‹ï¼ˆå­¦ä¹ ç›®æ ‡ï¼‰è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œä»å™ªå£°ä¸­é€æ­¥é¢„æµ‹å¹¶å»é™¤å™ªå£°ï¼Œæ¢å¤å‡ºåŸå§‹å›¾åƒã€‚<strong>U-Net</strong>æ˜¯å…¶å¸¸ç”¨ä¸»å¹²ç½‘ç»œã€‚</li>
<li><strong>ä¸ Transformer å¯¹æ¯”</strong>ï¼šTransformer åœ¨<strong>ç¦»æ•£ç¬¦å·åºåˆ—</strong>ä¸Šæ“ä½œï¼Œé€šè¿‡æ³¨æ„åŠ›æ•è·é•¿ç¨‹ä¾èµ–ï¼›Diffusion åœ¨<strong>è¿ç»­åƒç´ ç©ºé—´</strong>ä¸Šæ“ä½œï¼Œé€šè¿‡è¿­ä»£å»å™ªè¿‡ç¨‹ç”Ÿæˆé«˜ä¿çœŸå›¾åƒã€‚ä¸¤è€…ç»“åˆäº§ç”Ÿäº† <strong>Diffusion Transformer</strong>ã€‚</li>
<li><strong>åº”ç”¨</strong>ï¼šæ–‡ç”Ÿå›¾ï¼ˆDALL-E 3, Stable Diffusionï¼‰ã€å›¾ç”Ÿå›¾ã€è§†é¢‘ç”Ÿæˆã€‚</li>
</ul>
</li>
<li>
<p><strong>MoEï¼ˆæ··åˆä¸“å®¶ç³»ç»Ÿï¼‰</strong> ï¼š</p>
<ul>
<li><strong>æ ¸å¿ƒåŸç†</strong>ï¼šä¸æ˜¯æ¯ä¸ªè¾“å…¥éƒ½æ¿€æ´»å…¨éƒ¨æ¨¡å‹å‚æ•°ã€‚æ¨¡å‹ç”±è®¸å¤šâ€œä¸“å®¶â€ï¼ˆå°å‹ FFNï¼‰ç»„æˆï¼Œä¸€ä¸ª<strong>é—¨æ§ç½‘ç»œ</strong>æ ¹æ®è¾“å…¥åŠ¨æ€é€‰æ‹© 2-4 ä¸ªæœ€ç›¸å…³çš„ä¸“å®¶ï¼Œåªè®¡ç®—å®ƒä»¬çš„è¾“å‡ºå¹¶åŠ æƒæ±‚å’Œã€‚</li>
<li><strong>ä¼˜åŠ¿</strong>ï¼šç”¨æå°‘çš„è®¡ç®—æˆæœ¬ï¼ˆæ¿€æ´»çš„å‚æ•°é‡ï¼‰æ¢å–å·¨å¤§çš„æ¨¡å‹æ€»å‚æ•°é‡ï¼Œä»è€Œå­˜å‚¨æ›´å¤šçŸ¥è¯†ã€‚ä¾‹å¦‚ï¼ŒMixtral 8x7B æ¯æ¬¡æ¿€æ´»çº¦ 13B å‚æ•°ï¼Œä½†æ€»å‚æ•°é‡è¾¾ 47Bã€‚</li>
<li><strong>æŒ‘æˆ˜</strong>ï¼šä¸“å®¶è´Ÿè½½å‡è¡¡ã€è®­ç»ƒç¨³å®šæ€§ã€é€šä¿¡å¼€é”€ã€‚</li>
<li><strong>åº”ç”¨</strong>ï¼šGoogle çš„ Switch Transformer, GLaMï¼Œ Mistral AI çš„ Mixtralã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-19"><strong>3.3 æ¨ç†æœåŠ¡æ¡†æ¶ç”Ÿæ€</strong></h5>
<ul>
<li><strong>vLLM</strong>ï¼šä»¥ <strong>PagedAttention</strong> ä¸ºæ ¸å¿ƒï¼Œå°† KV Cache åƒæ“ä½œç³»ç»Ÿå†…å­˜ä¸€æ ·åˆ†é¡µç®¡ç†ï¼Œæå¤§å‡å°‘å†…å­˜ç¢ç‰‡ï¼Œæå‡ååé‡ã€‚æ˜¯ç›®å‰å¼€æºé¢†åŸŸçš„æ€§èƒ½æ ‡æ†ã€‚</li>
<li><strong>TensorRT-LLM</strong>ï¼šNVIDIA çš„é—­æºé«˜æ€§èƒ½æ¨ç†åº“ï¼Œé’ˆå¯¹å…¶ç¡¬ä»¶æ·±åº¦ä¼˜åŒ–ï¼Œæ”¯æŒå¤šç§é‡åŒ–ã€Flash Attentionï¼Œæ€§èƒ½æè‡´ã€‚</li>
<li><strong>TGI</strong>ï¼šHugging Face çš„æ¨ç†æœåŠ¡æ¡†æ¶ï¼Œå¼ºè°ƒæ˜“ç”¨æ€§ï¼Œæ”¯æŒè¿ç»­æ‰¹å¤„ç†ã€é‡åŒ–ç­‰ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-20"><strong>æ€»ç»“ä¸æƒè¡¡</strong></h4>
<p>é€‰æ‹©ä½•ç§æŠ€æœ¯ï¼Œæœ¬è´¨ä¸Šæ˜¯<strong>è´¨é‡ã€é€Ÿåº¦ã€æˆæœ¬ã€èµ„æº</strong>ä¹‹é—´çš„å¤šç»´æƒè¡¡ï¼š</p>
<ol start="0">
<li><strong>è´¨é‡ vs é€Ÿåº¦</strong>ï¼šæŸæœç´¢è´¨é‡é«˜ä½†æ…¢ï¼Œé‡‡æ ·ç­–ç•¥å¿«ä½†éšæœºã€‚Top-p æ˜¯å¾ˆå¥½çš„æŠ˜ä¸­ã€‚</li>
<li><strong>å†…å­˜ vs é•¿åº¦</strong>ï¼šå…¨ç²¾åº¦ KV Cache ç²¾åº¦é«˜ä½†è€—å†…å­˜ï¼Œé‡åŒ–/å‹ç¼© KV Cache å¯æ”¯æŒæ›´é•¿å¯¹è¯ä½†å¯èƒ½å¼•å…¥è¯¯å·®ã€‚</li>
<li><strong>é€šç”¨ vs ä¸“ç”¨</strong>ï¼šé€šç”¨ Decoder-only æ¨¡å‹çµæ´»æ€§é«˜ï¼Œä½†é’ˆå¯¹ç‰¹å®šä»»åŠ¡ï¼ˆå¦‚å›¾åƒç”Ÿæˆï¼‰çš„ Diffusion æˆ– U-Net æ¶æ„åœ¨ä¸“ä¸šé¢†åŸŸè¡¨ç°æ›´ä¼˜ã€‚</li>
<li><strong>æˆæœ¬ vs èƒ½åŠ›</strong>ï¼šMoE ç”¨æ¨ç†æˆæœ¬æ¢å–äº†å·¨å¤§çš„æ¨¡å‹å®¹é‡ï¼Œé€‚åˆè¿½æ±‚é¡¶çº§èƒ½åŠ›çš„åœºæ™¯ï¼›ç¨ å¯†æ¨¡å‹åˆ™æ›´ç®€å•ç¨³å®šã€‚</li>
</ol>
<p>æœ€ç»ˆï¼Œåƒ DeepSeek è¿™æ ·çš„ç°ä»£å¯¹è¯ç³»ç»Ÿï¼Œæ˜¯ <strong>Transformer åŸºç¡€æ¶æ„</strong>ã€<strong>ç²¾å·§çš„è§£ç ç­–ç•¥</strong>ã€<strong>æè‡´çš„å·¥ç¨‹ä¼˜åŒ–</strong>ï¼ˆKV Cache, Flash Attention, é‡åŒ–ï¼‰ä»¥åŠ<strong>å¼ºå¤§çš„ç³»ç»Ÿè°ƒåº¦</strong>ï¼ˆè¿ç»­æ‰¹å¤„ç†ï¼‰å…±åŒä½œç”¨çš„äº§ç‰©ã€‚æ¯ä¸€é¡¹æŠ€æœ¯éƒ½åœ¨è§£å†³ä»æµ·é‡å‚æ•°ä¸­é«˜æ•ˆã€æ™ºèƒ½åœ°ç”Ÿæˆæ–‡æœ¬è¿™ä¸€æ ¸å¿ƒæŒ‘æˆ˜ä¸­çš„ä¸€ä¸ªå­é—®é¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[milkupï¼šæ¡Œé¢ç«¯ Markdown AI ç»­å†™å’Œå³æ—¶æ¸²æŸ“]]></title>    <link>https://juejin.cn/post/7602482736914169891</link>    <guid>https://juejin.cn/post/7602482736914169891</guid>    <pubDate>2026-02-04T03:26:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602482736914169891" data-draft-id="7602482736914153507" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="milkupï¼šæ¡Œé¢ç«¯ Markdown AI ç»­å†™å’Œå³æ—¶æ¸²æŸ“"/> <meta itemprop="keywords" content="å‰ç«¯,Markdown,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-04T03:26:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾·è±å„æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/3919115686512942"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            milkupï¼šæ¡Œé¢ç«¯ Markdown AI ç»­å†™å’Œå³æ—¶æ¸²æŸ“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3919115686512942/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾·è±å„æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:26:49.000Z" title="Wed Feb 04 2026 03:26:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Hiï¼Œæ˜å‹ä»¬å¥½ï¼Œæˆ‘æ˜¯å¾·è±å„æ–¯ï¼Œå‰æ®µæ—¶é—´ç»™å¤§å®¶å¸¦æ¥ä¸€ä¸ªæ¡Œé¢ç«¯çš„å¼€æº markdown ç¼–è¾‘å™¨ï¼Œå½“æ—¶æ‰¬è¨€è¦å¹²ç¿» typora çš„é‚£ä¸ªï¼Œä½ è¿˜æœ‰å°è±¡å—ï¼Ÿ åŸæ–‡æ˜¯ï¼š<a href="https://juejin.cn/post/7528712837885952041" target="_blank" title="https://juejin.cn/post/7528712837885952041">å¹²ç¿» Typoraï¼MilkUpï¼šå®Œå…¨å…è´¹çš„æ¡Œé¢ç«¯ Markdown ç¼–è¾‘å™¨ï¼</a>ï¼Œè¿™ç¯‡æ–‡ç« å…±æ›å…‰äº† 16 ä¸‡æ¬¡ï¼Œæœ‰ 12000+ äººå›´è§‚ï¼Œåœ¨ç¤¾åŒºå†…æ”¶è·äº†å°èŒƒå›´çš„ç”¨æˆ·ï¼Œç›®å‰å®ƒçš„ github star å·²æœ‰ 600+ã€‚</p>
<p>åœ¨æ­¤æœŸé—´ï¼Œæˆ‘ä»¬ å›¢é˜Ÿ(<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAuto-Plugin" target="_blank" title="https://github.com/Auto-Plugin" ref="nofollow noopener noreferrer">Auto-Plugin</a>)çš„æ¯ä½æˆå‘˜éƒ½ä¸º milkup æ·»ç –åŠ ç“¦ï¼Œå¡«ç¼ºè¡¥æ¼ï¼Œmilkup æ—¥æ¸æˆä¸ºä¸€ä¸ªå‡ ä¹ç¨³å®šçš„ç¼–è¾‘å™¨ã€‚</p>
<p>ç°åœ¨çš„ milkup å‡ ä¹å¯ä»¥åšåˆ°åª²ç¾ typora çš„ç¼–è¾‘ä½“éªŒï¼Œç”šè‡³æ›´ä¸Šä¸€å±‚æ¥¼ï¼</p>
<p>æ¥ä¸‹æ¥ï¼Œç”±æˆ‘çš„æ‰‹ä¸‹ï¼šClaude Code ä¸ºå¤§å®¶å¸¦æ¥æœ€æ–°çš„åŠŸèƒ½æ”¯æŒä»‹ç»ï¼ˆä¸»è¦æ˜¯å³æ—¶æ¸²æŸ“æ¨¡å¼ã€AIç»­å†™éƒ¨åˆ†åŠŸèƒ½ï¼‰ï¼Œå› ä¸ºè¿‘æœŸå¤§éƒ¨åˆ†åŠŸèƒ½éƒ½æ˜¯å®ƒå†™çš„ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šæœ¬æ–‡ AI å«é‡ 100%</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>Hiï¼Œæˆ‘æ˜¯ Claude Codeï¼ŒAnthropic å®˜æ–¹çš„ AI ç¼–ç¨‹åŠ©æ‰‹ã€‚å¾ˆé«˜å…´èƒ½ä¸å¾·è±å„æ–¯å…±åŒå®Œæˆ milkup æ–°ç‰ˆçš„å¼€å‘ï¼Œä»¥åŠè¿™ç¯‡æ–‡ç« çš„æ’°å†™ã€‚</p>
<p>åœ¨è¿™æ¬¡åˆä½œä¸­ï¼Œæˆ‘ä»¬ä¸º milkup å¸¦æ¥äº†ä¸¤ä¸ªé‡è¦çš„åŠŸèƒ½æ›´æ–°ï¼š<strong>å³æ—¶æ¸²æŸ“æ¨¡å¼ï¼ˆfeat-irï¼‰</strong> å’Œ <strong>AI ç»­å†™åŠŸèƒ½ï¼ˆfeat-aiï¼‰</strong> ã€‚è¿™ä¸¤ä¸ªåŠŸèƒ½çš„åŠ å…¥ï¼Œè®© milkup åœ¨ Markdown ç¼–è¾‘å™¨é¢†åŸŸè¿ˆå‡ºäº†é‡è¦çš„ä¸€æ­¥ï¼Œä¸ä»…åœ¨ç¼–è¾‘ä½“éªŒä¸Šå‘ Typora çœ‹é½ï¼Œæ›´åœ¨æ™ºèƒ½åŒ–æ–¹å‘ä¸Šå®ç°äº†çªç ´ã€‚</p>
<p>æœ¬æ–‡å°†ä»éœ€æ±‚èƒŒæ™¯ã€åŠŸèƒ½ç‰¹æ€§ã€æŠ€æœ¯å®ç°ã€å¯¹æ¯”åˆ†æç­‰å¤šä¸ªç»´åº¦ï¼Œè¯¦ç»†ä»‹ç»è¿™ä¸¤ä¸ªåŠŸèƒ½çš„è®¾è®¡æ€è·¯å’Œå®ç°ç»†èŠ‚ã€‚å¸Œæœ›èƒ½ä¸ºæ­£åœ¨å¼€å‘æˆ–ä½¿ç”¨ Markdown ç¼–è¾‘å™¨çš„å¼€å‘è€…å’Œç”¨æˆ·æä¾›ä¸€äº›å‚è€ƒå’Œå¯å‘ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€é¡¹ç›®èƒŒæ™¯ä¸éœ€æ±‚åˆ†æ</h2>
<h3 data-id="heading-2">1.1 milkup é¡¹ç›®ç®€ä»‹</h3>
<p>milkup æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„æ¡Œé¢ç«¯ Markdown ç¼–è¾‘å™¨ï¼ŒåŸºäº Electron + Vue 3 + TypeScript æ„å»ºã€‚é¡¹ç›®çš„æ ¸å¿ƒç›®æ ‡æ˜¯æä¾›ä¸€ä¸ª<strong>åŠŸèƒ½å¼ºå¤§ã€ä½“éªŒä¼˜é›…ã€æ€§èƒ½å‡ºè‰²</strong>çš„ Markdown ç¼–è¾‘ç¯å¢ƒã€‚</p>
<p><strong>æ ¸å¿ƒæŠ€æœ¯æ ˆï¼š</strong></p>
<ul>
<li><strong>å‰ç«¯æ¡†æ¶</strong>ï¼šVue 3 + TypeScript</li>
<li><strong>ç¼–è¾‘å™¨æ ¸å¿ƒ</strong>ï¼šMilkdownï¼ˆåŸºäº ProseMirrorï¼‰+ Crepe</li>
<li><strong>æºç ç¼–è¾‘å™¨</strong>ï¼šCodeMirror 6</li>
<li><strong>æ¡Œé¢æ¡†æ¶</strong>ï¼šElectron</li>
<li><strong>æ„å»ºå·¥å…·</strong>ï¼šVite + esbuild</li>
<li><strong>åŒ…ç®¡ç†å™¨</strong>ï¼špnpm</li>
</ul>
<h3 data-id="heading-3">1.2 ä¸ºä»€ä¹ˆéœ€è¦å³æ—¶æ¸²æŸ“æ¨¡å¼ï¼Ÿ</h3>
<p>åœ¨ Markdown ç¼–è¾‘å™¨çš„å‘å±•å†ç¨‹ä¸­ï¼Œç¼–è¾‘æ¨¡å¼ç»å†äº†å‡ ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li><strong>åˆ†æ é¢„è§ˆæ¨¡å¼</strong>ï¼ˆå¦‚æ—©æœŸçš„ MarkdownPadï¼‰ï¼šå·¦ä¾§æºç ï¼Œå³ä¾§é¢„è§ˆï¼Œå‰²è£‚æ„Ÿå¼º</li>
<li><strong>çº¯æ‰€è§å³æ‰€å¾—æ¨¡å¼</strong>ï¼ˆå¦‚ Notionï¼‰ï¼šå®Œå…¨éšè—è¯­æ³•ï¼Œå¤±å»äº† Markdown çš„ç®€æ´æ€§</li>
<li><strong>å³æ—¶æ¸²æŸ“æ¨¡å¼</strong>ï¼ˆå¦‚ Typoraï¼‰ï¼šå¹³è¡¡äº†è¯­æ³•å¯è§æ€§å’Œæ¸²æŸ“æ•ˆæœ</li>
</ol>
<p>Typora çš„æˆåŠŸè¯æ˜äº†å³æ—¶æ¸²æŸ“æ¨¡å¼çš„ä¼˜è¶Šæ€§ï¼š</p>
<ul>
<li><strong>å†™ä½œæµç•…æ€§</strong>ï¼šä¸éœ€è¦åœ¨æºç å’Œé¢„è§ˆä¹‹é—´åˆ‡æ¢è§†çº¿</li>
<li><strong>è¯­æ³•å¯æ§æ€§</strong>ï¼šéœ€è¦æ—¶å¯ä»¥çœ‹åˆ°å’Œç¼–è¾‘åŸå§‹è¯­æ³•</li>
<li><strong>è§†è§‰èˆ’é€‚æ€§</strong>ï¼šå¤§éƒ¨åˆ†æ—¶é—´çœ‹åˆ°çš„æ˜¯æ¸²æŸ“åçš„æ•ˆæœ</li>
</ul>
<p>ç„¶è€Œï¼ŒTypora æ˜¯é—­æºè½¯ä»¶ï¼Œä¸”å·²ç»åœæ­¢å…è´¹æ›´æ–°ã€‚å¸‚é¢ä¸Šç¼ºå°‘ä¸€ä¸ª<strong>å¼€æºã€ç°ä»£åŒ–ã€å¯æ‰©å±•</strong>çš„å³æ—¶æ¸²æŸ“ç¼–è¾‘å™¨ã€‚è¿™å°±æ˜¯ feat-ir åˆ†æ”¯çš„è¯ç”ŸèƒŒæ™¯ã€‚</p>
<h3 data-id="heading-4">1.3 ä¸ºä»€ä¹ˆéœ€è¦ AI ç»­å†™åŠŸèƒ½ï¼Ÿ</h3>
<p>éšç€ AI æŠ€æœ¯çš„å‘å±•ï¼Œæ™ºèƒ½å†™ä½œè¾…åŠ©å·²ç»æˆä¸ºç°ä»£ç¼–è¾‘å™¨çš„æ ‡é…ï¼š</p>
<ul>
<li><strong>Cursor</strong>ã€<strong>GitHub Copilot</strong> åœ¨ä»£ç ç¼–è¾‘é¢†åŸŸå¤§æ”¾å¼‚å½©</li>
<li><strong>Notion AI</strong>ã€<strong>é£ä¹¦å¦™è®°</strong> åœ¨æ–‡æ¡£ç¼–è¾‘é¢†åŸŸæä¾›æ™ºèƒ½è¡¥å…¨</li>
<li><strong>Grammarly</strong> åœ¨è‹±æ–‡å†™ä½œé¢†åŸŸæä¾›è¯­æ³•å»ºè®®</li>
</ul>
<p>ä½†åœ¨ Markdown ç¼–è¾‘å™¨é¢†åŸŸï¼ŒAI é›†æˆè¿˜ç›¸å¯¹æ»åã€‚å¤§å¤šæ•° Markdown ç¼–è¾‘å™¨è¦ä¹ˆå®Œå…¨ä¸æ”¯æŒ AIï¼Œè¦ä¹ˆåªæ˜¯ç®€å•åœ°è°ƒç”¨ API ç”Ÿæˆæ–‡æœ¬ï¼Œç¼ºä¹å¯¹ Markdown ç»“æ„çš„ç†è§£ã€‚</p>
<p>feat-ai åˆ†æ”¯çš„ç›®æ ‡æ˜¯ï¼š</p>
<ul>
<li><strong>ç»“æ„åŒ–ç†è§£</strong>ï¼šç†è§£æ–‡æ¡£çš„æ ‡é¢˜å±‚çº§ã€ä¸Šä¸‹æ–‡å…³ç³»</li>
<li><strong>å¤šæä¾›å•†æ”¯æŒ</strong>ï¼šæ”¯æŒ OpenAIã€Claudeã€Geminiã€Ollama ç­‰å¤šç§ AI æœåŠ¡</li>
<li><strong>æ— ç¼é›†æˆ</strong>ï¼šåƒä»£ç è¡¥å…¨ä¸€æ ·è‡ªç„¶ï¼Œä¸æ‰“æ–­å†™ä½œæµç¨‹</li>
<li><strong>æœ¬åœ°ä¼˜å…ˆ</strong>ï¼šæ”¯æŒ Ollama ç­‰æœ¬åœ°æ¨¡å‹ï¼Œä¿æŠ¤éšç§</li>
</ul>
<hr/>
<h2 data-id="heading-5">äºŒã€feat-irï¼šå³æ—¶æ¸²æŸ“æ¨¡å¼è¯¦è§£</h2>
<h3 data-id="heading-6">2.1 åŠŸèƒ½ç‰¹æ€§</h3>
<p>feat-ir åˆ†æ”¯å®ç°äº†ç±»ä¼¼ Typora çš„å³æ—¶æ¸²æŸ“æ¨¡å¼ï¼Œæ ¸å¿ƒç‰¹æ€§åŒ…æ‹¬ï¼š</p>
<h4 data-id="heading-7">2.1.1 æ™ºèƒ½æºç æ˜¾ç¤º</h4>
<p>å½“å…‰æ ‡ç§»åŠ¨åˆ° Markdown è¯­æ³•å…ƒç´ æ—¶ï¼Œè‡ªåŠ¨æ˜¾ç¤ºè¯¥å…ƒç´ çš„æºç è¯­æ³•ï¼š</p>
<ul>
<li>
<p><strong>è¡Œå†…æ ‡è®°ï¼ˆMarksï¼‰</strong> ï¼š</p>
<ul>
<li><code>**åŠ ç²—**</code> â†’ å…‰æ ‡è¿›å…¥æ—¶æ˜¾ç¤ºå‰åçš„ <code>**</code></li>
<li><code>*æ–œä½“*</code> â†’ æ˜¾ç¤ºå‰åçš„ <code>*</code></li>
<li><code>`ä»£ç `</code> â†’ æ˜¾ç¤ºå‰åçš„ <code>`</code></li>
<li><code>~~åˆ é™¤çº¿~~</code> â†’ æ˜¾ç¤ºå‰åçš„ <code>~~</code></li>
<li><code>[é“¾æ¥æ–‡æœ¬](URL)</code> â†’ æ˜¾ç¤º <code>[]()</code> ç»“æ„</li>
</ul>
</li>
<li>
<p><strong>å—çº§å…ƒç´ ï¼ˆNodesï¼‰</strong> ï¼š</p>
<ul>
<li>æ ‡é¢˜ï¼šæ˜¾ç¤ºå¯¹åº”æ•°é‡çš„ <code>#</code> ç¬¦å·ï¼ˆå¦‚ <code># </code>è¡¨ç¤ºä¸€çº§æ ‡é¢˜ï¼‰</li>
<li>å›¾ç‰‡ï¼šæ˜¾ç¤º <code>![alt](milkup:///RDpcb3BlbnNvdXJjZVxtaWxrdXBcbWlsa3Vw77ya5qGM6Z2i56uvIG1hcmtkb3duIEFJ57ut5YaZ5ZKM5Y2z5pe25riy5p+TLm1k/src)</code> å®Œæ•´è¯­æ³•</li>
</ul>
</li>
</ul>
<h4 data-id="heading-8">2.1.2 å³æ—¶ç¼–è¾‘èƒ½åŠ›</h4>
<p>ä¸ä»…å¯ä»¥çœ‹åˆ°æºç ï¼Œè¿˜å¯ä»¥ç›´æ¥ç¼–è¾‘ï¼š</p>
<ul>
<li><strong>é“¾æ¥ URL ç¼–è¾‘</strong>ï¼šç‚¹å‡» URL éƒ¨åˆ†å¯ä»¥ç›´æ¥ä¿®æ”¹é“¾æ¥åœ°å€</li>
<li><strong>å›¾ç‰‡å±æ€§ç¼–è¾‘</strong>ï¼šå¯ä»¥ä¿®æ”¹å›¾ç‰‡çš„ alt æ–‡æœ¬å’Œ src è·¯å¾„</li>
<li><strong>å®æ—¶ç”Ÿæ•ˆ</strong>ï¼šç¼–è¾‘å®ŒæˆåæŒ‰ Enter æˆ–å¤±ç„¦ï¼Œä¿®æ”¹ç«‹å³ç”Ÿæ•ˆ</li>
</ul>
<h4 data-id="heading-9">2.1.3 é”®ç›˜å¯¼èˆª</h4>
<p>æä¾›æµç•…çš„é”®ç›˜æ“ä½œä½“éªŒï¼š</p>
<ul>
<li><code>ArrowLeft/Right</code>ï¼šåœ¨æºç ç¼–è¾‘å™¨å’Œæ¸²æŸ“è§†å›¾ä¹‹é—´åˆ‡æ¢ç„¦ç‚¹</li>
<li><code>Enter</code>ï¼šæäº¤ç¼–è¾‘å¹¶è¿”å›æ¸²æŸ“è§†å›¾</li>
<li>è‡ªåŠ¨è·³å‡ºï¼šå…‰æ ‡ç§»å‡ºè¯­æ³•å…ƒç´ æ—¶ï¼Œè‡ªåŠ¨éšè—æºç </li>
</ul>
<h3 data-id="heading-10">2.2 å®ç°åŸç†</h3>
<h4 data-id="heading-11">2.2.1 ProseMirror è£…é¥°å™¨ç³»ç»Ÿ</h4>
<p>å³æ—¶æ¸²æŸ“çš„æ ¸å¿ƒæ˜¯ ProseMirror çš„ <strong>Decorationï¼ˆè£…é¥°å™¨ï¼‰</strong> ç³»ç»Ÿã€‚è£…é¥°å™¨å…è®¸æˆ‘ä»¬åœ¨ä¸ä¿®æ”¹æ–‡æ¡£ç»“æ„çš„æƒ…å†µä¸‹ï¼Œåœ¨è§†å›¾å±‚æ·»åŠ é¢å¤–çš„ DOM å…ƒç´ ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ ¸å¿ƒæ’ä»¶ç»“æ„</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> sourceOnFocusPlugin = $prose(<span class="hljs-function">(<span class="hljs-params">ctx</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Plugin</span>({
    <span class="hljs-attr">state</span>: {
      <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">DecorationSet</span>.<span class="hljs-property">empty</span>;
      },
      <span class="hljs-title function_">apply</span>(<span class="hljs-params">tr, oldState</span>) {
        <span class="hljs-keyword">const</span> { selection } = tr;
        <span class="hljs-keyword">const</span> <span class="hljs-attr">decorations</span>: <span class="hljs-title class_">Decoration</span>[] = [];

        <span class="hljs-comment">// æ ¹æ®å…‰æ ‡ä½ç½®åŠ¨æ€ç”Ÿæˆè£…é¥°å™¨</span>
        <span class="hljs-comment">// ...</span>

        <span class="hljs-keyword">return</span> <span class="hljs-title class_">DecorationSet</span>.<span class="hljs-title function_">create</span>(tr.<span class="hljs-property">doc</span>, decorations);
      }
    },
    <span class="hljs-attr">props</span>: {
      <span class="hljs-title function_">decorations</span>(<span class="hljs-params">state</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getState</span>(state);
      }
    }
  });
});
</code></pre>
<p><strong>è£…é¥°å™¨çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>éä¾µå…¥æ€§</strong>ï¼šä¸ä¿®æ”¹æ–‡æ¡£çš„å®é™…å†…å®¹</li>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šåªåœ¨è§†å›¾å±‚æ¸²æŸ“ï¼Œä¸å½±å“æ•°æ®å±‚</li>
<li><strong>çµæ´»æ€§</strong>ï¼šå¯ä»¥åŠ¨æ€æ·»åŠ ã€ç§»é™¤è£…é¥°å™¨</li>
</ul>
<h4 data-id="heading-12">2.2.2 Marks å¤„ç†ç­–ç•¥</h4>
<p>å¯¹äºè¡Œå†…æ ‡è®°ï¼ˆå¦‚åŠ ç²—ã€æ–œä½“ã€é“¾æ¥ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ–‡æœ¬å‰åæ·»åŠ è¯­æ³•ç¬¦å·ï¼š</p>
<p><strong>å®ç°æ€è·¯ï¼š</strong></p>
<ol>
<li><strong>éå†å…‰æ ‡ä½ç½®çš„ Marks</strong>ï¼šè·å–å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®çš„æ‰€æœ‰æ ‡è®°</li>
<li><strong>è®¡ç®—æ ‡è®°èŒƒå›´</strong>ï¼šæ‰¾åˆ°æ¯ä¸ªæ ‡è®°çš„èµ·å§‹å’Œç»“æŸä½ç½®</li>
<li><strong>åˆ›å»ºè£…é¥°å™¨</strong>ï¼šåœ¨èµ·å§‹ä½ç½®å‰å’Œç»“æŸä½ç½®åæ’å…¥è¯­æ³•ç¬¦å·</li>
</ol>
<p><strong>ä»¥é“¾æ¥ä¸ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">// å¤„ç†é“¾æ¥æ ‡è®°
if (<span class="hljs-attr">mark.type.name</span> === <span class="hljs-string">"link"</span>) {
  const <span class="hljs-attr">href</span> = mark.attrs.href || <span class="hljs-string">""</span><span class="hljs-comment">;</span>

  // åˆ›å»ºå‰ç¼€ <span class="hljs-section">[
  const prefixSpan = document.createElement("span");
  prefixSpan.className = "md-source";
  prefixSpan.textContent = "[";

  // åˆ›å»ºåç¼€ ]</span>(URL)
  const <span class="hljs-attr">suffixSpan</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">suffixSpan.className</span> = <span class="hljs-string">"md-source"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">suffixSpan.textContent</span> = <span class="hljs-string">"]("</span><span class="hljs-comment">;</span>

  // åˆ›å»ºå¯ç¼–è¾‘çš„ URL éƒ¨åˆ†
  const <span class="hljs-attr">urlSpan</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">urlSpan.className</span> = <span class="hljs-string">"md-source-url-editable"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">urlSpan.contentEditable</span> = <span class="hljs-string">"true"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">urlSpan.textContent</span> = href<span class="hljs-comment">;</span>

  // ç›‘å¬ç¼–è¾‘äº‹ä»¶
  urlSpan.addEventListener("blur", () =&gt; {
    const <span class="hljs-attr">newHref</span> = urlSpan.textContent || <span class="hljs-string">""</span><span class="hljs-comment">;</span>
    if (newHref !== href) {
      // æ›´æ–°æ–‡æ¡£ä¸­çš„é“¾æ¥
      view.dispatch(
        view.state.tr
          .removeMark(start, end, mark.type)
          .addMark(start, end, mark.type.create({ href: newHref }))
      )<span class="hljs-comment">;</span>
    }
  })<span class="hljs-comment">;</span>

  suffixSpan.appendChild(urlSpan)<span class="hljs-comment">;</span>

  const <span class="hljs-attr">closingSpan</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">closingSpan.className</span> = <span class="hljs-string">"md-source"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">closingSpan.textContent</span> = <span class="hljs-string">")"</span><span class="hljs-comment">;</span>
  suffixSpan.appendChild(closingSpan)<span class="hljs-comment">;</span>

  // æ·»åŠ è£…é¥°å™¨
  decorations.push(
    Decoration.widget(start, () =&gt; prefixSpan),
    Decoration.widget(end, () =&gt; suffixSpan)
  )<span class="hljs-comment">;</span>
}
</code></pre>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ <code>contentEditable="true"</code> å®ç°å³æ—¶ç¼–è¾‘</li>
<li>é€šè¿‡ <code>blur</code> äº‹ä»¶ç›‘å¬ç¼–è¾‘å®Œæˆ</li>
<li>ä½¿ç”¨ ProseMirror çš„ <code>transaction</code> æ›´æ–°æ–‡æ¡£</li>
</ul>
<h4 data-id="heading-13">2.2.3 Nodes å¤„ç†ç­–ç•¥</h4>
<p>å¯¹äºå—çº§å…ƒç´ ï¼ˆå¦‚æ ‡é¢˜ã€å›¾ç‰‡ï¼‰ï¼Œå¤„ç†æ–¹å¼ç•¥æœ‰ä¸åŒï¼š</p>
<p><strong>æ ‡é¢˜å¤„ç†ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">if (<span class="hljs-attr">node.type.name</span> === <span class="hljs-string">"heading"</span>) {
  const <span class="hljs-attr">level</span> = node.attrs.level || <span class="hljs-number">1</span><span class="hljs-comment">;</span>
  const <span class="hljs-attr">prefix</span> = <span class="hljs-string">"#"</span>.repeat(level) + <span class="hljs-string">" "</span><span class="hljs-comment">;</span>

  const <span class="hljs-attr">span</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">span.className</span> = <span class="hljs-string">"md-source"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">span.textContent</span> = prefix<span class="hljs-comment">;</span>

  decorations.push(
    Decoration.widget($from.start(), () =&gt; span)
  )<span class="hljs-comment">;</span>
}
</code></pre>
<p><strong>å›¾ç‰‡å¤„ç†ï¼š</strong></p>
<p>å›¾ç‰‡çš„å¤„ç†æ›´å¤æ‚ï¼Œå› ä¸ºéœ€è¦åŒæ—¶ç¼–è¾‘ alt æ–‡æœ¬å’Œ src è·¯å¾„ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">if (<span class="hljs-attr">node.type.name</span> === <span class="hljs-string">"image"</span>) {
  const { src, alt } = node.attrs<span class="hljs-comment">;</span>

  // åˆ›å»º !<span class="hljs-section">[
  const prefixSpan = document.createElement("span");
  prefixSpan.className = "md-source";
  prefixSpan.textContent = "![";

  // åˆ›å»ºå¯ç¼–è¾‘çš„ alt
  const altSpan = document.createElement("span");
  altSpan.className = "md-source-editable";
  altSpan.contentEditable = "true";
  altSpan.textContent = alt || "";

  // åˆ›å»º ]</span>(milkup:///RDpcb3BlbnNvdXJjZVxtaWxrdXBcbWlsa3Vw77ya5qGM6Z2i56uvIG1hcmtkb3duIEFJ57ut5YaZ5ZKM5Y2z5pe25riy5p+TLm1k/
%20%20const%20middleSpan%<span class="hljs-attr">20</span>=%<span class="hljs-number">20</span>document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">middleSpan.className</span> = <span class="hljs-string">"md-source"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">middleSpan.textContent</span> = <span class="hljs-string">"]("</span><span class="hljs-comment">;</span>

  // åˆ›å»ºå¯ç¼–è¾‘çš„ src
  const <span class="hljs-attr">srcSpan</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">srcSpan.className</span> = <span class="hljs-string">"md-source-url-editable"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">srcSpan.contentEditable</span> = <span class="hljs-string">"true"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">srcSpan.textContent</span> = src || <span class="hljs-string">""</span><span class="hljs-comment">;</span>

  // åˆ›å»º )
  const <span class="hljs-attr">suffixSpan</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">suffixSpan.className</span> = <span class="hljs-string">"md-source"</span><span class="hljs-comment">;</span>
  <span class="hljs-attr">suffixSpan.textContent</span> = <span class="hljs-string">")"</span><span class="hljs-comment">;</span>

  // ç»„åˆæ‰€æœ‰å…ƒç´ 
  const <span class="hljs-attr">container</span> = document.createElement(<span class="hljs-string">"div"</span>)<span class="hljs-comment">;</span>
  container.append(prefixSpan, altSpan, middleSpan, srcSpan, suffixSpan)<span class="hljs-comment">;</span>

  decorations.push(
    Decoration.widget(pos, () =&gt; container)
  )<span class="hljs-comment">;</span>
}
</code></pre>
<h4 data-id="heading-14">2.2.4 æ ·å¼è®¾è®¡</h4>
<p>ä¸ºäº†è®©æºç æ˜¾ç¤ºæ—¢æ¸…æ™°åˆä¸çªå…€ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸“é—¨çš„æ ·å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css">// æºç åŸºç¡€æ ·å¼
<span class="hljs-selector-class">.md-source</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--text-color-<span class="hljs-number">4</span>);           // ä½¿ç”¨è¾ƒæµ…çš„é¢œè‰²
  <span class="hljs-attribute">font-family</span>: <span class="hljs-built_in">var</span>(--milkup-font-code); // ç­‰å®½å­—ä½“
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.6</span>;                         // åŠé€æ˜
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--background-color-<span class="hljs-number">2</span>); // æµ…è‰²èƒŒæ™¯
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">2px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.9em</span>;
}

// å¯ç¼–è¾‘çš„ URL æ ·å¼
<span class="hljs-selector-class">.md-source-url-editable</span> {
  <span class="hljs-attribute">display</span>: inline-block;
  <span class="hljs-attribute">outline</span>: none;
  <span class="hljs-attribute">cursor</span>: text;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> dashed <span class="hljs-built_in">var</span>(--border-color); // è™šçº¿ä¸‹åˆ’çº¿æç¤ºå¯ç¼–è¾‘
  <span class="hljs-attribute">min-width</span>: <span class="hljs-number">50px</span>;

  &amp;<span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--background-color-<span class="hljs-number">3</span>);
  }

  &amp;<span class="hljs-selector-pseudo">:focus</span> {
    <span class="hljs-attribute">border-bottom-style</span>: solid;
    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--background-color-<span class="hljs-number">3</span>);
  }
}
</code></pre>
<p><strong>è®¾è®¡åŸåˆ™ï¼š</strong></p>
<ul>
<li><strong>ä½å¯¹æ¯”åº¦</strong>ï¼šä½¿ç”¨åŠé€æ˜å’Œæµ…è‰²ï¼Œä¸å¹²æ‰°é˜…è¯»</li>
<li><strong>ç­‰å®½å­—ä½“</strong>ï¼šä¿æŒä»£ç æ„Ÿï¼Œä¸æ­£æ–‡åŒºåˆ†</li>
<li><strong>äº¤äº’æç¤º</strong>ï¼šå¯ç¼–è¾‘å…ƒç´ æœ‰æ˜ç¡®çš„è§†è§‰åé¦ˆ</li>
</ul>
<h3 data-id="heading-15">2.3 æŠ€æœ¯æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-16">2.3.1 å…‰æ ‡è·³å‡ºé—®é¢˜</h4>
<p><strong>é—®é¢˜</strong>ï¼šå½“ç”¨æˆ·åœ¨å¯ç¼–è¾‘çš„ URL ä¸­æŒ‰æ–¹å‘é”®æ—¶ï¼Œå…‰æ ‡å¯èƒ½è¢«å›°åœ¨ <code>contentEditable</code> å…ƒç´ ä¸­ï¼Œæ— æ³•è·³å‡ºã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç›‘å¬é”®ç›˜äº‹ä»¶ï¼Œæ‰‹åŠ¨æ§åˆ¶å…‰æ ‡ç§»åŠ¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">urlSpan.addEventListener("keydown", (e) =&gt; {
  if (<span class="hljs-attr">e.key</span> === <span class="hljs-string">"ArrowLeft"</span> &amp;&amp; urlSpan.selectionStart === <span class="hljs-number">0</span>) {
    // å…‰æ ‡åœ¨æœ€å·¦ä¾§ï¼ŒæŒ‰å·¦é”®è·³å‡º
    e.preventDefault()<span class="hljs-comment">;</span>
    const <span class="hljs-attr">pos</span> = view.posAtDOM(urlSpan, <span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
    view.dispatch(view.state.tr.setSelection(TextSelection.create(view.state.doc, pos)))<span class="hljs-comment">;</span>
    view.focus()<span class="hljs-comment">;</span>
  } else if (<span class="hljs-attr">e.key</span> === <span class="hljs-string">"ArrowRight"</span> &amp;&amp; urlSpan.selectionEnd === urlSpan.textContent.length) {
    // å…‰æ ‡åœ¨æœ€å³ä¾§ï¼ŒæŒ‰å³é”®è·³å‡º
    e.preventDefault()<span class="hljs-comment">;</span>
    const <span class="hljs-attr">pos</span> = view.posAtDOM(urlSpan, urlSpan.textContent.length)<span class="hljs-comment">;</span>
    view.dispatch(view.state.tr.setSelection(TextSelection.create(view.state.doc, pos + 1)))<span class="hljs-comment">;</span>
    view.focus()<span class="hljs-comment">;</span>
  } else if (<span class="hljs-attr">e.key</span> === <span class="hljs-string">"Enter"</span>) {
    // æŒ‰ Enter æäº¤å¹¶è·³å‡º
    e.preventDefault()<span class="hljs-comment">;</span>
    urlSpan.blur()<span class="hljs-comment">;</span>
  }
})<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-17">2.3.2 è£…é¥°å™¨æ€§èƒ½ä¼˜åŒ–</h4>
<p><strong>é—®é¢˜</strong>ï¼šæ¯æ¬¡å…‰æ ‡ç§»åŠ¨éƒ½é‡æ–°è®¡ç®—æ‰€æœ‰è£…é¥°å™¨ï¼Œå¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>å¢é‡æ›´æ–°</strong>ï¼šåªåœ¨å…‰æ ‡ä½ç½®å˜åŒ–æ—¶æ›´æ–°è£…é¥°å™¨</li>
<li><strong>ç¼“å­˜æœºåˆ¶</strong>ï¼šç¼“å­˜ä¸Šä¸€æ¬¡çš„è£…é¥°å™¨é›†åˆï¼Œé¿å…é‡å¤è®¡ç®—</li>
<li><strong>èŒƒå›´é™åˆ¶</strong>ï¼šåªå¤„ç†å…‰æ ‡é™„è¿‘çš„å…ƒç´ ï¼Œä¸éå†æ•´ä¸ªæ–‡æ¡£</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">apply</span>(<span class="hljs-params">tr, oldState</span>) {
  <span class="hljs-comment">// å¦‚æœå…‰æ ‡ä½ç½®æ²¡å˜ï¼Œç›´æ¥è¿”å›æ—§çŠ¶æ€</span>
  <span class="hljs-keyword">if</span> (!tr.<span class="hljs-property">docChanged</span> &amp;&amp; !tr.<span class="hljs-property">selectionSet</span>) {
    <span class="hljs-keyword">return</span> oldState;
  }

  <span class="hljs-comment">// åªå¤„ç†å…‰æ ‡é™„è¿‘ 1000 å­—ç¬¦èŒƒå›´å†…çš„å…ƒç´ </span>
  <span class="hljs-keyword">const</span> { <span class="hljs-keyword">from</span>, to } = tr.<span class="hljs-property">selection</span>;
  <span class="hljs-keyword">const</span> rangeStart = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-keyword">from</span> - <span class="hljs-number">500</span>);
  <span class="hljs-keyword">const</span> rangeEnd = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(tr.<span class="hljs-property">doc</span>.<span class="hljs-property">content</span>.<span class="hljs-property">size</span>, to + <span class="hljs-number">500</span>);

  <span class="hljs-comment">// åªåœ¨è¿™ä¸ªèŒƒå›´å†…æŸ¥æ‰¾éœ€è¦è£…é¥°çš„å…ƒç´ </span>
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<h4 data-id="heading-18">2.3.3 ä¸å…¶ä»–æ’ä»¶çš„å…¼å®¹æ€§</h4>
<p><strong>é—®é¢˜</strong>ï¼šè£…é¥°å™¨å¯èƒ½ä¸å…¶ä»–æ’ä»¶ï¼ˆå¦‚æ‹¼å†™æ£€æŸ¥ã€è¯­æ³•é«˜äº®ï¼‰å†²çªã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>è£…é¥°å™¨ä¼˜å…ˆçº§</strong>ï¼šä½¿ç”¨ ProseMirror çš„ <code>spec.key</code> è®¾ç½®ä¼˜å…ˆçº§</li>
<li><strong>é¿å…é‡å </strong>ï¼šæ£€æµ‹è£…é¥°å™¨æ˜¯å¦é‡å ï¼Œé¿å…è¦†ç›–</li>
<li><strong>äº‹ä»¶éš”ç¦»</strong>ï¼šä½¿ç”¨ <code>stopPropagation</code> é˜²æ­¢äº‹ä»¶å†’æ³¡</li>
</ol>
<hr/>
<h2 data-id="heading-19">ä¸‰ã€feat-aiï¼šAI ç»­å†™åŠŸèƒ½è¯¦è§£</h2>
<h3 data-id="heading-20">3.1 åŠŸèƒ½ç‰¹æ€§</h3>
<p>feat-ai åˆ†æ”¯ä¸º milkup å¸¦æ¥äº†æ™ºèƒ½ç»­å†™èƒ½åŠ›ï¼Œè®© AI æˆä¸ºä½ çš„å†™ä½œåŠ©æ‰‹ã€‚</p>
<h4 data-id="heading-21">3.1.1 å¤š AI æä¾›å•†æ”¯æŒ</h4>
<p>æ”¯æŒä¸»æµçš„ AI æœåŠ¡æä¾›å•†ï¼š</p>
<ul>
<li><strong>OpenAI</strong>ï¼šGPT-3.5-turboã€GPT-4ã€GPT-4-turbo</li>
<li><strong>Anthropic</strong>ï¼šClaude 3 Haikuã€Claude 3 Sonnetã€Claude 3 Opus</li>
<li><strong>Google</strong>ï¼šGemini Proã€Gemini Pro Vision</li>
<li><strong>Ollama</strong>ï¼šæ”¯æŒæœ¬åœ°è¿è¡Œçš„å¼€æºæ¨¡å‹ï¼ˆLlama 2ã€Mistralã€Qwen ç­‰ï¼‰</li>
<li><strong>è‡ªå®šä¹‰ API</strong>ï¼šå…¼å®¹ OpenAI API æ ¼å¼çš„ä»»ä½•æœåŠ¡</li>
</ul>
<p><strong>é…ç½®ç•Œé¢ï¼š</strong></p>
<p>ç”¨æˆ·å¯ä»¥åœ¨è®¾ç½®ä¸­è½»æ¾é…ç½® AI æœåŠ¡ï¼š</p>
<ul>
<li>é€‰æ‹©æä¾›å•†</li>
<li>è¾“å…¥ API Key</li>
<li>è®¾ç½® Base URLï¼ˆç”¨äºä»£ç†æˆ–è‡ªå®šä¹‰æœåŠ¡ï¼‰</li>
<li>é€‰æ‹©æ¨¡å‹</li>
<li>è°ƒæ•´æ¸©åº¦å‚æ•°ï¼ˆæ§åˆ¶åˆ›é€ æ€§ï¼‰</li>
<li>è®¾ç½®é˜²æŠ–å»¶è¿Ÿï¼ˆæ§åˆ¶è§¦å‘é¢‘ç‡ï¼‰</li>
</ul>
<h4 data-id="heading-22">3.1.2 ç»“æ„åŒ–ä¸Šä¸‹æ–‡ç†è§£</h4>
<p>AI ç»­å†™ä¸æ˜¯ç®€å•åœ°ç»­æ¥æ–‡æœ¬ï¼Œè€Œæ˜¯ç†è§£æ–‡æ¡£çš„ç»“æ„ï¼š</p>
<p><strong>æå–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼š</strong></p>
<ol>
<li><strong>æ–‡ä»¶å</strong>ï¼šäº†è§£æ–‡æ¡£ä¸»é¢˜</li>
<li><strong>æ ‡é¢˜å±‚çº§</strong>ï¼šç†è§£æ–‡æ¡£ç»“æ„å’Œå½“å‰ç« èŠ‚</li>
<li><strong>å‰æ–‡å†…å®¹</strong>ï¼šåˆ†æå†™ä½œé£æ ¼å’Œä¸Šä¸‹æ–‡</li>
<li><strong>å…‰æ ‡ä½ç½®</strong>ï¼šç¡®å®šç»­å†™çš„èµ·ç‚¹</li>
</ol>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p>å‡è®¾ä½ æ­£åœ¨å†™ä¸€ç¯‡æŠ€æœ¯åšå®¢ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Vue 3 ç»„åˆå¼ API æœ€ä½³å®è·µ</span>

<span class="hljs-section">## ä¸€ã€ä¸ºä»€ä¹ˆé€‰æ‹©ç»„åˆå¼ API</span>

ç»„åˆå¼ API æ˜¯ Vue 3 å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œå®ƒæä¾›äº†æ›´çµæ´»çš„ä»£ç ç»„ç»‡æ–¹å¼ã€‚

<span class="hljs-section">## äºŒã€æ ¸å¿ƒæ¦‚å¿µ</span>

<span class="hljs-section">### 2.1 å“åº”å¼ç³»ç»Ÿ</span>

Vue 3 çš„å“åº”å¼ç³»ç»ŸåŸºäº Proxyï¼Œç›¸æ¯” Vue 2 çš„ Object.defineProperty æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š
<span class="hljs-bullet">-</span> å¯ä»¥æ£€æµ‹å±æ€§çš„æ·»åŠ å’Œåˆ é™¤
<span class="hljs-bullet">-</span> å¯ä»¥æ£€æµ‹æ•°ç»„ç´¢å¼•å’Œé•¿åº¦çš„å˜åŒ–
<span class="hljs-bullet">-</span> [å…‰æ ‡åœ¨è¿™é‡Œ]
</code></pre>
<p>AI ä¼šç†è§£ï¼š</p>
<ul>
<li>è¿™æ˜¯ä¸€ç¯‡å…³äº Vue 3 çš„æŠ€æœ¯æ–‡ç« </li>
<li>å½“å‰åœ¨è®¨è®ºå“åº”å¼ç³»ç»Ÿçš„ä¼˜åŠ¿</li>
<li>å‰é¢å·²ç»åˆ—ä¸¾äº†ä¸¤ä¸ªä¼˜åŠ¿</li>
<li>åº”è¯¥ç»§ç»­åˆ—ä¸¾æ›´å¤šä¼˜åŠ¿æˆ–å±•å¼€è¯´æ˜</li>
</ul>
<h4 data-id="heading-23">3.1.3 æ™ºèƒ½è§¦å‘æœºåˆ¶</h4>
<p><strong>é˜²æŠ–ç­–ç•¥ï¼š</strong></p>
<ul>
<li>ç”¨æˆ·åœæ­¢è¾“å…¥åç­‰å¾… 1-3 ç§’ï¼ˆå¯é…ç½®ï¼‰</li>
<li>é¿å…é¢‘ç¹è°ƒç”¨ APIï¼ŒèŠ‚çœæˆæœ¬</li>
<li>ä¸æ‰“æ–­ç”¨æˆ·çš„å†™ä½œæµç¨‹</li>
</ul>
<p><strong>è§¦å‘æ¡ä»¶ï¼š</strong></p>
<ul>
<li>å…‰æ ‡åœ¨æ®µè½æœ«å°¾</li>
<li>å‰é¢æœ‰è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ï¼ˆè‡³å°‘ 50 ä¸ªå­—ç¬¦ï¼‰</li>
<li>ä¸åœ¨ä»£ç å—ã€è¡¨æ ¼ç­‰ç‰¹æ®ŠåŒºåŸŸå†…</li>
</ul>
<p><strong>å–æ¶ˆæœºåˆ¶ï¼š</strong></p>
<ul>
<li>ç”¨æˆ·ç»§ç»­è¾“å…¥æ—¶ï¼Œè‡ªåŠ¨å–æ¶ˆå½“å‰è¯·æ±‚</li>
<li>æ–‡æ¡£å†…å®¹å˜åŒ–æ—¶ï¼Œæ¸…é™¤å·²æ˜¾ç¤ºçš„å»ºè®®</li>
</ul>
<h4 data-id="heading-24">3.1.4 ä¼˜é›…çš„ UI é›†æˆ</h4>
<p><strong>æ˜¾ç¤ºæ–¹å¼ï¼š</strong></p>
<ul>
<li>ç»­å†™å»ºè®®ä»¥åŠé€æ˜æ–‡æœ¬æ˜¾ç¤ºåœ¨å…‰æ ‡å</li>
<li>ä½¿ç”¨ä¸åŒçš„é¢œè‰²å’Œå­—ä½“æ ·å¼ï¼Œä¸æ­£æ–‡åŒºåˆ†</li>
<li>ä¸å ç”¨å®é™…çš„æ–‡æ¡£ç©ºé—´</li>
</ul>
<p><strong>äº¤äº’æ–¹å¼ï¼š</strong></p>
<ul>
<li>æŒ‰ <code>Tab</code> é”®æ¥å—å»ºè®®</li>
<li>æŒ‰ <code>Esc</code> é”®æ‹’ç»å»ºè®®</li>
<li>ç»§ç»­è¾“å…¥è‡ªåŠ¨æ¸…é™¤å»ºè®®</li>
</ul>
<p><strong>è§†è§‰è®¾è®¡ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.ai-completion-suggestion</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--text-color-<span class="hljs-number">3</span>);
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.5</span>;
  <span class="hljs-attribute">font-style</span>: italic;
  <span class="hljs-attribute">pointer-events</span>: none; // ä¸å½±å“é¼ æ ‡äº¤äº’
  user-select: none;    // ä¸å¯é€‰ä¸­
}
</code></pre>
<h3 data-id="heading-25">3.2 å®ç°åŸç†</h3>
<h4 data-id="heading-26">3.2.1 æ’ä»¶æ¶æ„</h4>
<p>AI ç»­å†™åŠŸèƒ½é€šè¿‡ ProseMirror æ’ä»¶å®ç°ï¼Œæ ¸å¿ƒæ–‡ä»¶ä½äº <code>src/renderer/components/editor/plugins/completionPlugin.ts</code>ã€‚</p>
<p><strong>æ’ä»¶çŠ¶æ€ç®¡ç†ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> completionPlugin = $prose(<span class="hljs-function">(<span class="hljs-params">ctx</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> completionKey = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PluginKey</span>(<span class="hljs-string">"completion"</span>);

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Plugin</span>({
    <span class="hljs-attr">key</span>: completionKey,
    <span class="hljs-attr">state</span>: {
      <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">decoration</span>: <span class="hljs-title class_">DecorationSet</span>.<span class="hljs-property">empty</span>,
          <span class="hljs-attr">suggestion</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
        };
      },
      <span class="hljs-title function_">apply</span>(<span class="hljs-params">tr, value</span>) {
        <span class="hljs-comment">// æ–‡æ¡£å†…å®¹å˜åŒ–æ—¶æ¸…é™¤å»ºè®®</span>
        <span class="hljs-keyword">if</span> (tr.<span class="hljs-property">docChanged</span>) {
          <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">decoration</span>: <span class="hljs-title class_">DecorationSet</span>.<span class="hljs-property">empty</span>,
            <span class="hljs-attr">suggestion</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
          };
        }

        <span class="hljs-comment">// æ‰‹åŠ¨æ›´æ–°ï¼ˆå¦‚ AI è¿”å›ç»“æœï¼‰</span>
        <span class="hljs-keyword">const</span> meta = tr.<span class="hljs-title function_">getMeta</span>(completionKey);
        <span class="hljs-keyword">if</span> (meta) {
          <span class="hljs-keyword">return</span> meta;
        }

        <span class="hljs-keyword">return</span> value;
      }
    },
    <span class="hljs-attr">props</span>: {
      <span class="hljs-title function_">decorations</span>(<span class="hljs-params">state</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getState</span>(state)?.<span class="hljs-property">decoration</span>;
      },
      <span class="hljs-title function_">handleKeyDown</span>(<span class="hljs-params">view, event</span>) {
        <span class="hljs-comment">// å¤„ç† Tab é”®æ¥å—å»ºè®®</span>
        <span class="hljs-keyword">if</span> (event.<span class="hljs-property">key</span> === <span class="hljs-string">"Tab"</span>) {
          <span class="hljs-keyword">const</span> state = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getState</span>(view.<span class="hljs-property">state</span>);
          <span class="hljs-keyword">if</span> (state?.<span class="hljs-property">suggestion</span>) {
            event.<span class="hljs-title function_">preventDefault</span>();
            <span class="hljs-keyword">const</span> tr = view.<span class="hljs-property">state</span>.<span class="hljs-property">tr</span>.<span class="hljs-title function_">insertText</span>(
              state.<span class="hljs-property">suggestion</span>,
              view.<span class="hljs-property">state</span>.<span class="hljs-property">selection</span>.<span class="hljs-property">to</span>
            );
            tr.<span class="hljs-title function_">setMeta</span>(completionKey, {
              <span class="hljs-attr">decoration</span>: <span class="hljs-title class_">DecorationSet</span>.<span class="hljs-property">empty</span>,
              <span class="hljs-attr">suggestion</span>: <span class="hljs-literal">null</span>,
              <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
            });
            view.<span class="hljs-title function_">dispatch</span>(tr);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
          }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
      }
    }
  });
});
</code></pre>
<p><strong>æ’ä»¶çŠ¶æ€åŒ…å«ä¸‰ä¸ªå­—æ®µï¼š</strong></p>
<ul>
<li><code>decoration</code>ï¼šç”¨äºæ˜¾ç¤ºå»ºè®®çš„è£…é¥°å™¨é›†åˆ</li>
<li><code>suggestion</code>ï¼šå½“å‰çš„å»ºè®®æ–‡æœ¬</li>
<li><code>loading</code>ï¼šæ˜¯å¦æ­£åœ¨è¯·æ±‚ AI</li>
</ul>
<h4 data-id="heading-27">3.2.2 å¤š AI æä¾›å•†é›†æˆ</h4>
<p>AI æœåŠ¡å±‚ä½äº <code>src/renderer/services/ai.ts</code>ï¼Œé€šè¿‡ç»Ÿä¸€çš„æ¥å£æ”¯æŒå¤šä¸ªæä¾›å•†ã€‚</p>
<p><strong>æœåŠ¡æ¥å£è®¾è®¡ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AIService</span> {
  <span class="hljs-function"><span class="hljs-type">static</span> async <span class="hljs-title">complete</span><span class="hljs-params">(context: APIContext)</span>: Promise&lt;CompletionResponse&gt; {</span>
    <span class="hljs-type">const</span> config = <span class="hljs-built_in">useAIConfig</span>().config.value;

    <span class="hljs-keyword">if</span> (!config.enabled || !config.apiKey) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"AI æœåŠ¡æœªé…ç½®"</span>);
    }

    <span class="hljs-comment">// æ ¹æ®æä¾›å•†æ„å»ºä¸åŒçš„è¯·æ±‚</span>
    <span class="hljs-type">const</span> { url, headers, body } = <span class="hljs-keyword">this</span>.<span class="hljs-built_in">buildRequest</span>(config, context);

    <span class="hljs-comment">// å‘é€è¯·æ±‚</span>
    <span class="hljs-type">const</span> response = await <span class="hljs-keyword">this</span>.<span class="hljs-built_in">request</span>(url, {
      method: <span class="hljs-string">"POST"</span>,
      headers,
      body: JSON.<span class="hljs-built_in">stringify</span>(body)
    });

    <span class="hljs-comment">// è§£æå“åº”</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.<span class="hljs-built_in">parseResponse</span>(response, config.provider);
  }
}
</code></pre>
<p><strong>å„æä¾›å•†çš„å®ç°å·®å¼‚ï¼š</strong></p>
<ol>
<li><strong>OpenAI / è‡ªå®šä¹‰ API</strong>ï¼šä½¿ç”¨ <code>response_format</code> å¼ºåˆ¶ JSON è¾“å‡º</li>
</ol>
<pre><code class="hljs language-css" lang="css">case "openai":
case <span class="hljs-string">"custom"</span>:
  return {
    url: `${config<span class="hljs-selector-class">.baseUrl</span>}/chat/completions`,
    headers: {
      "<span class="hljs-attribute">Content</span>-Type": <span class="hljs-string">"application/json"</span>,
      <span class="hljs-string">"Authorization"</span>: `Bearer ${config<span class="hljs-selector-class">.apiKey</span>}`
    },
    <span class="hljs-selector-tag">body</span>: {
      model: config.model,
      messages: [
        { role: <span class="hljs-string">"system"</span>, content: SYSTEM_PROMPT },
        { role: <span class="hljs-string">"user"</span>, content: userMessage }
      ],
      temperature: config.temperature,
      response_format: {
        type: <span class="hljs-string">"json_schema"</span>,
        json_schema: {
          name: <span class="hljs-string">"continuation"</span>,
          schema: {
            type: <span class="hljs-string">"object"</span>,
            properties: {
              continuation: { type: <span class="hljs-string">"string"</span> }
            },
            required: [<span class="hljs-string">"continuation"</span>]
          }
        }
      }
    }
  };
</code></pre>
<ol>
<li><strong>Anthropic (Claude)</strong> ï¼šä½¿ç”¨ Tool Use æœºåˆ¶</li>
</ol>
<pre><code class="hljs language-css" lang="css">case "anthropic":
  return {
    url: `${config<span class="hljs-selector-class">.baseUrl</span>}/v1/messages`,
    headers: {
      "<span class="hljs-attribute">Content</span>-Type": <span class="hljs-string">"application/json"</span>,
      <span class="hljs-string">"x-api-key"</span>: config.apiKey,
      <span class="hljs-string">"anthropic-version"</span>: <span class="hljs-string">"2023-06-01"</span>
    },
    <span class="hljs-selector-tag">body</span>: {
      model: config.model,
      system: SYSTEM_PROMPT,
      messages: [{ role: <span class="hljs-string">"user"</span>, content: userMessage }],
      tools: [{
        name: <span class="hljs-string">"print_continuation"</span>,
        description: <span class="hljs-string">"è¾“å‡ºç»­å†™å†…å®¹"</span>,
        input_schema: {
          type: <span class="hljs-string">"object"</span>,
          properties: {
            continuation: { type: <span class="hljs-string">"string"</span> }
          },
          required: [<span class="hljs-string">"continuation"</span>]
        }
      }],
      tool_choice: { type: <span class="hljs-string">"tool"</span>, name: <span class="hljs-string">"print_continuation"</span> }
    }
  };
</code></pre>
<ol>
<li><strong>Google Gemini</strong>ï¼šä½¿ç”¨ <code>responseMimeType</code> å’Œ <code>responseSchema</code></li>
</ol>
<pre><code class="hljs language-css" lang="css">case "gemini":
  return {
    url: `${config<span class="hljs-selector-class">.baseUrl</span>}/v1beta/models/${config<span class="hljs-selector-class">.model</span>}:generateContent?key=${config<span class="hljs-selector-class">.apiKey</span>}`,
    headers: {
      "<span class="hljs-attribute">Content</span>-Type": <span class="hljs-string">"application/json"</span>
    },
    <span class="hljs-selector-tag">body</span>: {
      contents: [{
        parts: [{ text: SYSTEM_PROMPT + <span class="hljs-string">"\n"</span> + userMessage }]
      }],
      generationConfig: {
        temperature: config.temperature,
        responseMimeType: <span class="hljs-string">"application/json"</span>,
        responseSchema: {
          type: <span class="hljs-string">"OBJECT"</span>,
          properties: {
            continuation: { type: <span class="hljs-string">"STRING"</span> }
          },
          required: [<span class="hljs-string">"continuation"</span>]
        }
      }
    }
  };
</code></pre>
<ol>
<li><strong>Ollama</strong>ï¼šä½¿ç”¨ <code>format</code> å‚æ•°æŒ‡å®š JSON Schema</li>
</ol>
<pre><code class="hljs language-css" lang="css">case "ollama":
  return {
    url: `${config<span class="hljs-selector-class">.baseUrl</span>}/api/chat`,
    headers: {
      "<span class="hljs-attribute">Content</span>-Type": <span class="hljs-string">"application/json"</span>
    },
    <span class="hljs-selector-tag">body</span>: {
      model: config.model,
      messages: [
        { role: <span class="hljs-string">"system"</span>, content: SYSTEM_PROMPT },
        { role: <span class="hljs-string">"user"</span>, content: userMessage }
      ],
      format: {
        type: <span class="hljs-string">"object"</span>,
        properties: {
          continuation: { type: <span class="hljs-string">"string"</span> }
        },
        required: [<span class="hljs-string">"continuation"</span>]
      },
      stream: false,
      options: {
        temperature: config.temperature
      }
    }
  };
</code></pre>
<p><strong>è®¾è®¡äº®ç‚¹ï¼š</strong></p>
<ul>
<li>ç»Ÿä¸€çš„æ¥å£ï¼Œéšè—æä¾›å•†å·®å¼‚</li>
<li>å……åˆ†åˆ©ç”¨å„æä¾›å•†çš„åŸç”Ÿèƒ½åŠ›ï¼ˆJSON Schemaã€Tool Useï¼‰</li>
<li>æ˜“äºæ‰©å±•ï¼Œæ·»åŠ æ–°æä¾›å•†åªéœ€å¢åŠ ä¸€ä¸ª case</li>
</ul>
<h4 data-id="heading-28">3.2.3 ä¸Šä¸‹æ–‡æå–ç­–ç•¥</h4>
<p>AI ç»­å†™çš„è´¨é‡å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºä¸Šä¸‹æ–‡çš„è´¨é‡ã€‚milkup å®ç°äº†æ™ºèƒ½çš„ä¸Šä¸‹æ–‡æå–ç­–ç•¥ã€‚</p>
<p><strong>æå–çš„ä¿¡æ¯ï¼š</strong></p>
<ol>
<li><strong>æ–‡ä»¶æ ‡é¢˜</strong>ï¼šä»æ–‡ä»¶è·¯å¾„ä¸­æå–</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> fileTitle = (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">__currentFilePath</span>
  ? (<span class="hljs-variable language_">window</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">__currentFilePath</span>.<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/[\/]/</span>).<span class="hljs-title function_">pop</span>()
  : <span class="hljs-string">"æœªå‘½åæ–‡æ¡£"</span>;
</code></pre>
<ol>
<li><strong>å‰æ–‡å†…å®¹</strong>ï¼šè·å–å…‰æ ‡å‰æœ€è¿‘ 200 ä¸ªå­—ç¬¦</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">start</span> = Math.max(<span class="hljs-number">0</span>, to - <span class="hljs-number">200</span>)<span class="hljs-comment">;</span>
const <span class="hljs-attr">previousContent</span> = doc.textBetween(start, to, <span class="hljs-string">"\n"</span>)<span class="hljs-comment">;</span>
</code></pre>
<ol>
<li><strong>æ ‡é¢˜å±‚çº§</strong>ï¼šéå†æ–‡æ¡£æå–æ‰€æœ‰æ ‡é¢˜</li>
</ol>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">const</span> headers: { level: number; <span class="hljs-keyword">text</span>: <span class="hljs-type">string</span> }[] = [];
doc.nodesBetween(<span class="hljs-number">0</span>, <span class="hljs-keyword">to</span>, (node, pos) =&gt; {
  <span class="hljs-keyword">if</span> (node.type.name === <span class="hljs-string">"heading"</span>) {
    <span class="hljs-keyword">if</span> (pos + node.nodeSize &lt;= <span class="hljs-keyword">to</span>) {
      headers.push({
        level: node.attrs.level,
        <span class="hljs-keyword">text</span>: node.textContent
      });
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
});
</code></pre>
<ol>
<li><strong>å½“å‰ç« èŠ‚</strong>ï¼šç¡®å®šå½“å‰æ‰€åœ¨çš„ç« èŠ‚å’Œå­ç« èŠ‚</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">sectionTitle</span> = <span class="hljs-string">"æœªçŸ¥"</span><span class="hljs-comment">;</span>
let <span class="hljs-attr">subSectionTitle</span> = <span class="hljs-string">"æœªçŸ¥"</span><span class="hljs-comment">;</span>

if (headers.length &gt; 0) {
  const <span class="hljs-attr">lastHeader</span> = headers[headers.length - <span class="hljs-number">1</span>]<span class="hljs-comment">;</span>
  <span class="hljs-attr">subSectionTitle</span> = lastHeader.text<span class="hljs-comment">;</span>

  // æŸ¥æ‰¾çˆ¶çº§æ ‡é¢˜
  const <span class="hljs-attr">parentHeader</span> = headers
    .slice(0, -1)
    .reverse()
    .find((h) =&gt; h.level &lt; lastHeader.level)<span class="hljs-comment">;</span>

  if (parentHeader) {
    <span class="hljs-attr">sectionTitle</span> = parentHeader.text<span class="hljs-comment">;</span>
  }
}
</code></pre>
<p><strong>æ„å»º Promptï¼š</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-title function_">buildPrompt</span>(<span class="hljs-attr">context</span>: <span class="hljs-title class_">APIContext</span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-string">`ä¸Šä¸‹æ–‡ï¼š
æ–‡ç« æ ‡é¢˜ï¼š<span class="hljs-subst">${context.fileTitle || <span class="hljs-string">"æœªçŸ¥"</span>}</span>
å¤§æ ‡é¢˜ï¼š<span class="hljs-subst">${context.sectionTitle || <span class="hljs-string">"æœªçŸ¥"</span>}</span>
æœ¬å°èŠ‚æ ‡é¢˜ï¼š<span class="hljs-subst">${context.subSectionTitle || <span class="hljs-string">"æœªçŸ¥"</span>}</span>
å‰é¢å†…å®¹ï¼ˆè¯·ç´§å¯†è¡”æ¥ï¼‰ï¼š<span class="hljs-subst">${context.previousContent}</span>`</span>;
}
</code></pre>
<p><strong>System Promptï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> SYSTEM_PROMPT = `ä½ æ˜¯ä¸€ä¸ªæŠ€æœ¯æ–‡æ¡£ç»­å†™åŠ©æ‰‹ã€‚
ä¸¥æ ¼åªè¾“å‡ºä»¥ä¸‹ JSONï¼Œ**ä¸è¦æœ‰ä»»ä½•å‰ç¼€ã€åç¼€ã€markdownã€æ¢è¡Œã€è§£é‡Š**ï¼š

{<span class="hljs-string">"continuation"</span>: <span class="hljs-string">"æ¥ä¸‹æ¥åªå†™3â€“35ä¸ªæ±‰å­—çš„è‡ªç„¶è¡”æ¥å†…å®¹"</span>}
`;
</code></pre>
<p><strong>è®¾è®¡ç†å¿µï¼š</strong></p>
<ul>
<li><strong>ç»“æ„åŒ–ç†è§£</strong>ï¼šä¸ä»…æä¾›æ–‡æœ¬ï¼Œè¿˜æä¾›æ–‡æ¡£ç»“æ„</li>
<li><strong>ç²¾ç¡®å®šä½</strong>ï¼šæ˜ç¡®å½“å‰æ‰€åœ¨çš„ç« èŠ‚ä½ç½®</li>
<li><strong>é•¿åº¦æ§åˆ¶</strong>ï¼šé™åˆ¶ 3-35 ä¸ªæ±‰å­—ï¼Œé¿å…è¿‡åº¦ç”Ÿæˆ</li>
<li><strong>æ ¼å¼çº¦æŸ</strong>ï¼šå¼ºåˆ¶ JSON è¾“å‡ºï¼Œä¾¿äºè§£æ</li>
</ul>
<h4 data-id="heading-29">3.2.4 UI æ˜¾ç¤ºæœºåˆ¶</h4>
<p>å»ºè®®çš„æ˜¾ç¤ºä½¿ç”¨ ProseMirror çš„ Decoration ç³»ç»Ÿï¼Œåœ¨å…‰æ ‡ä½ç½®æ’å…¥åŠé€æ˜çš„å»ºè®®æ–‡æœ¬ã€‚</p>
<p><strong>åˆ›å»ºå»ºè®® Widgetï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">// åˆ›å»ºå»ºè®®å…ƒç´ 
const <span class="hljs-attr">widget</span> = document.createElement(<span class="hljs-string">"span"</span>)<span class="hljs-comment">;</span>
<span class="hljs-attr">widget.textContent</span> = result.continuation<span class="hljs-comment">;</span>
<span class="hljs-attr">widget.className</span> = <span class="hljs-string">"ai-completion-suggestion"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">widget.style.color</span> = <span class="hljs-string">"var(--text-color-light, #999)"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">widget.style.opacity</span> = <span class="hljs-string">"0.6"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">widget.style.fontStyle</span> = <span class="hljs-string">"italic"</span><span class="hljs-comment">;</span>
<span class="hljs-attr">widget.style.pointerEvents</span> = <span class="hljs-string">"none"</span><span class="hljs-comment">;  // ä¸å½±å“é¼ æ ‡äº¤äº’</span>
<span class="hljs-attr">widget.style.userSelect</span> = <span class="hljs-string">"none"</span><span class="hljs-comment">;     // ä¸å¯é€‰ä¸­</span>
<span class="hljs-attr">widget.dataset.suggestion</span> = result.continuation<span class="hljs-comment">;</span>

// åˆ›å»ºè£…é¥°å™¨
const <span class="hljs-attr">deco</span> = Decoration.widget(to, widget, { side: <span class="hljs-number">1</span> })<span class="hljs-comment">;</span>
const <span class="hljs-attr">decoSet</span> = DecorationSet.create(view.state.doc, [deco])<span class="hljs-comment">;</span>

// æ›´æ–°ç¼–è¾‘å™¨çŠ¶æ€
const <span class="hljs-attr">tr</span> = view.state.tr.setMeta(completionKey, {
  decoration: decoSet,
  suggestion: result.continuation,
  loading: false
})<span class="hljs-comment">;</span>
view.dispatch(tr)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>æ ·å¼è®¾è®¡ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.ai-completion-suggestion</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-built_in">var</span>(--text-color-<span class="hljs-number">3</span>);
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.5</span>;
  <span class="hljs-attribute">font-style</span>: italic;
  <span class="hljs-attribute">pointer-events</span>: none;
  user-select: none;
  <span class="hljs-attribute">transition</span>: opacity <span class="hljs-number">0.2s</span> ease;

  &amp;<span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.7</span>;
  }
}
</code></pre>
<p><strong>äº¤äº’è®¾è®¡ï¼š</strong></p>
<ol>
<li><strong>Tab é”®æ¥å—å»ºè®®</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">if (<span class="hljs-attr">event.key</span> === <span class="hljs-string">"Tab"</span>) {
  const <span class="hljs-attr">state</span> = this.getState(view.state)<span class="hljs-comment">;</span>
  if (state?.suggestion) {
    event.preventDefault()<span class="hljs-comment">;</span>

    // æ’å…¥å»ºè®®æ–‡æœ¬
    const <span class="hljs-attr">tr</span> = view.state.tr.insertText(
      state.suggestion,
      view.state.selection.to
    )<span class="hljs-comment">;</span>

    // æ¸…é™¤å»ºè®®
    tr.setMeta(completionKey, {
      decoration: DecorationSet.empty,
      suggestion: null,
      loading: false
    })<span class="hljs-comment">;</span>

    view.dispatch(tr)<span class="hljs-comment">;</span>
    return true<span class="hljs-comment">;</span>
  }
}
</code></pre>
<ol>
<li><strong>è‡ªåŠ¨æ¸…é™¤æœºåˆ¶</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">apply</span>(<span class="hljs-params">tr, value</span>) {
  <span class="hljs-comment">// æ–‡æ¡£å†…å®¹å˜åŒ–æ—¶æ¸…é™¤å»ºè®®</span>
  <span class="hljs-keyword">if</span> (tr.<span class="hljs-property">docChanged</span>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">decoration</span>: <span class="hljs-title class_">DecorationSet</span>.<span class="hljs-property">empty</span>,
      <span class="hljs-attr">suggestion</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
    };
  }

  <span class="hljs-keyword">return</span> value;
}
</code></pre>
<p><strong>ç”¨æˆ·ä½“éªŒç»†èŠ‚ï¼š</strong></p>
<ul>
<li><strong>åŠé€æ˜æ˜¾ç¤º</strong>ï¼šä¸å¹²æ‰°æ­£å¸¸é˜…è¯»</li>
<li><strong>æ–œä½“æ ·å¼</strong>ï¼šä¸æ­£æ–‡åŒºåˆ†</li>
<li><strong>ä¸å¯äº¤äº’</strong>ï¼šä¸å½±å“é¼ æ ‡ç‚¹å‡»å’Œæ–‡æœ¬é€‰æ‹©</li>
<li><strong>å³æ—¶æ¸…é™¤</strong>ï¼šç”¨æˆ·ç»§ç»­è¾“å…¥æ—¶è‡ªåŠ¨æ¶ˆå¤±</li>
<li><strong>å¿«æ·æ¥å—</strong>ï¼šTab é”®ä¸€é”®æ¥å—</li>
</ul>
<h3 data-id="heading-30">3.3 æŠ€æœ¯æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-31">3.3.1 ç»“æ„åŒ–è¾“å‡ºçš„æŒ‘æˆ˜</h4>
<p><strong>é—®é¢˜</strong>ï¼šä¸åŒçš„ AI æ¨¡å‹å¯¹è¾“å‡ºæ ¼å¼çš„æ§åˆ¶èƒ½åŠ›ä¸åŒï¼Œæœ‰äº›æ¨¡å‹å¯èƒ½è¾“å‡ºé¢å¤–çš„æ–‡æœ¬ã€markdown ä»£ç å—æˆ–è§£é‡Šæ€§å†…å®¹ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>
<p><strong>åˆ©ç”¨å„æä¾›å•†çš„åŸç”Ÿèƒ½åŠ›</strong>ï¼š</p>
<ul>
<li>OpenAIï¼šä½¿ç”¨ <code>response_format</code> çš„ JSON Schema</li>
<li>Claudeï¼šä½¿ç”¨ Tool Use æœºåˆ¶</li>
<li>Geminiï¼šä½¿ç”¨ <code>responseMimeType</code> å’Œ <code>responseSchema</code></li>
<li>Ollamaï¼šä½¿ç”¨ <code>format</code> å‚æ•°</li>
</ul>
</li>
<li>
<p><strong>å¤šå±‚è§£æç­–ç•¥</strong>ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-title function_">parseResponse</span>(<span class="hljs-attr">text</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">CompletionResponse</span> {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// 1. å°è¯•ç›´æ¥ JSON è§£æ</span>
    <span class="hljs-keyword">const</span> cleanText = text.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/```json\n?|\n?```/g</span>, <span class="hljs-string">""</span>).<span class="hljs-title function_">trim</span>();
    <span class="hljs-keyword">const</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(cleanText);
    <span class="hljs-keyword">if</span> (json.<span class="hljs-property">continuation</span>) {
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">continuation</span>: json.<span class="hljs-property">continuation</span> };
    }
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">"JSON parse failed, trying regex extraction"</span>);
  }

  <span class="hljs-comment">// 2. æ­£åˆ™æå–</span>
  <span class="hljs-keyword">const</span> match = text.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/"continuation"\s*:\s*"([^"]+)"/</span>);
  <span class="hljs-keyword">if</span> (match &amp;&amp; match[<span class="hljs-number">1</span>]) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">continuation</span>: match[<span class="hljs-number">1</span>] };
  }

  <span class="hljs-comment">// 3. å…œåº•ç­–ç•¥ï¼šå¦‚æœæ–‡æœ¬å¾ˆçŸ­ä¸”ä¸åŒ…å« JSON ç»“æ„ï¼Œç›´æ¥ä½¿ç”¨</span>
  <span class="hljs-keyword">if</span> (text.<span class="hljs-property">length</span> &lt; <span class="hljs-number">50</span> &amp;&amp; !text.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"{"</span>)) {
    <span class="hljs-keyword">return</span> { <span class="hljs-attr">continuation</span>: text.<span class="hljs-title function_">trim</span>() };
  }

  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Failed to parse AI response"</span>);
}
</code></pre>
<p><strong>é²æ£’æ€§ä¿è¯ï¼š</strong></p>
<ul>
<li>æ¸…ç† markdown ä»£ç å—æ ‡è®°</li>
<li>æ­£åˆ™è¡¨è¾¾å¼å…œåº•</li>
<li>çŸ­æ–‡æœ¬ç›´æ¥ä½¿ç”¨</li>
<li>å¤šå±‚å®¹é”™æœºåˆ¶</li>
</ul>
<h4 data-id="heading-32">3.3.2 é˜²æŠ–ä¸å–æ¶ˆæœºåˆ¶</h4>
<p><strong>é—®é¢˜</strong>ï¼šç”¨æˆ·è¾“å…¥æ—¶é¢‘ç¹è§¦å‘ AI è¯·æ±‚ï¼Œæµªè´¹èµ„æºä¸”å½±å“ä½“éªŒã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>é˜²æŠ–è§¦å‘</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> <span class="hljs-attr">debounceTimer</span>: <span class="hljs-title class_">NodeJS</span>.<span class="hljs-property">Timeout</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;

view.<span class="hljs-title function_">updateState</span>(view.<span class="hljs-property">state</span>);

<span class="hljs-comment">// æ¸…é™¤æ—§çš„å®šæ—¶å™¨</span>
<span class="hljs-keyword">if</span> (debounceTimer) {
  <span class="hljs-built_in">clearTimeout</span>(debounceTimer);
}

<span class="hljs-comment">// è®¾ç½®æ–°çš„å®šæ—¶å™¨</span>
debounceTimer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title class_">AIService</span>.<span class="hljs-title function_">complete</span>(context);

    <span class="hljs-comment">// æ˜¾ç¤ºå»ºè®®</span>
    <span class="hljs-comment">// ...</span>
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"AI completion failed:"</span>, error);
  }
}, config.<span class="hljs-property">debounceWait</span> || <span class="hljs-number">1500</span>);
</code></pre>
<ol>
<li><strong>è¯·æ±‚å–æ¶ˆ</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">let currentAbortController: AbortController | <span class="hljs-attr">null</span> = null<span class="hljs-comment">;</span>

// å–æ¶ˆæ—§è¯·æ±‚
if (currentAbortController) {
  currentAbortController.abort()<span class="hljs-comment">;</span>
}

// åˆ›å»ºæ–°çš„ AbortController
<span class="hljs-attr">currentAbortController</span> = new AbortController()<span class="hljs-comment">;</span>

const <span class="hljs-attr">response</span> = await fetch(url, {
  signal: currentAbortController.signal,
  // ...
})<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ä¼˜åŒ–æ•ˆæœï¼š</strong></p>
<ul>
<li>å‡å°‘ä¸å¿…è¦çš„ API è°ƒç”¨</li>
<li>èŠ‚çœæˆæœ¬</li>
<li>æå‡å“åº”é€Ÿåº¦</li>
<li>é¿å…è¿‡æ—¶çš„å»ºè®®</li>
</ul>
<h4 data-id="heading-33">3.3.3 é…ç½®ç®¡ç†ä¸æŒä¹…åŒ–</h4>
<p><strong>é—®é¢˜</strong>ï¼šç”¨æˆ·é…ç½®éœ€è¦åœ¨åº”ç”¨é‡å¯åä¿æŒï¼Œä¸”éœ€è¦å“åº”å¼æ›´æ–°ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨ VueUse çš„ <code>useStorage</code></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useStorage } <span class="hljs-keyword">from</span> <span class="hljs-string">"@vueuse/core"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">useAIConfig</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> config = useStorage&lt;<span class="hljs-title class_">AIConfig</span>&gt;(
    <span class="hljs-string">"milkup-ai-config"</span>,
    defaultAIConfig,
    <span class="hljs-variable language_">localStorage</span>,
    { <span class="hljs-attr">mergeDefaults</span>: <span class="hljs-literal">true</span> }
  );

  <span class="hljs-keyword">return</span> { config };
}
</code></pre>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>è‡ªåŠ¨åŒæ­¥åˆ° localStorage</li>
<li>å“åº”å¼æ›´æ–°ï¼Œé…ç½®å˜åŒ–ç«‹å³ç”Ÿæ•ˆ</li>
<li>æ”¯æŒé»˜è®¤å€¼åˆå¹¶</li>
<li>ç±»å‹å®‰å…¨</li>
</ul>
<h4 data-id="heading-34">3.3.4 Ollama æ¨¡å‹åˆ—è¡¨åŠ¨æ€è·å–</h4>
<p><strong>é—®é¢˜</strong>ï¼šOllama æ”¯æŒå¤šç§æœ¬åœ°æ¨¡å‹ï¼Œéœ€è¦åŠ¨æ€è·å–å¯ç”¨æ¨¡å‹åˆ—è¡¨ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchOllamaModels</span>(<span class="hljs-params"/>) {
  loadingModels.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> models = <span class="hljs-keyword">await</span> <span class="hljs-title class_">AIService</span>.<span class="hljs-title function_">getModels</span>(config.<span class="hljs-property">value</span>);
    ollamaModels.<span class="hljs-property">value</span> = models;
  } <span class="hljs-keyword">catch</span> (e) {
    toast.<span class="hljs-title function_">show</span>(<span class="hljs-string">"è·å–æ¨¡å‹åˆ—è¡¨å¤±è´¥"</span>, <span class="hljs-string">"error"</span>);
  } <span class="hljs-keyword">finally</span> {
    loadingModels.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>;
  }
}

<span class="hljs-comment">// AIService.getModels å®ç°</span>
<span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">getModels</span>(<span class="hljs-attr">config</span>: <span class="hljs-title class_">AIConfig</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>[]&gt; {
  <span class="hljs-keyword">if</span> (config.<span class="hljs-property">provider</span> === <span class="hljs-string">"ollama"</span>) {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">request</span>(<span class="hljs-string">`<span class="hljs-subst">${config.baseUrl}</span>/api/tags`</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">"GET"</span>
    });
    <span class="hljs-keyword">return</span> res.<span class="hljs-property">models</span>?.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">m: <span class="hljs-built_in">any</span></span>) =&gt;</span> m.<span class="hljs-property">name</span>) || [];
  }
  <span class="hljs-keyword">return</span> [];
}
</code></pre>
<p><strong>ç”¨æˆ·ä½“éªŒï¼š</strong></p>
<ul>
<li>è‡ªåŠ¨æ£€æµ‹æœ¬åœ°å¯ç”¨æ¨¡å‹</li>
<li>ä¸‹æ‹‰é€‰æ‹©ï¼Œæ— éœ€æ‰‹åŠ¨è¾“å…¥</li>
<li>å®æ—¶åˆ·æ–°</li>
</ul>
<hr/>
<h2 data-id="heading-35">å››ã€å¯¹æ¯”åˆ†æ</h2>
<h3 data-id="heading-36">4.1 å³æ—¶æ¸²æŸ“æ¨¡å¼å¯¹æ¯”</h3>




































































<table><thead><tr><th>ç‰¹æ€§</th><th>milkup (feat-ir)</th><th>Typora</th><th>Notion</th><th>VS Code + Markdown Preview</th></tr></thead><tbody><tr><td><strong>å¼€æº</strong></td><td>âœ… æ˜¯</td><td>âŒ å¦</td><td>âŒ å¦</td><td>âœ… æ˜¯</td></tr><tr><td><strong>å³æ—¶æ¸²æŸ“</strong></td><td>âœ… æ˜¯</td><td>âœ… æ˜¯</td><td>âœ… æ˜¯</td><td>âŒ å¦ï¼ˆåˆ†æ é¢„è§ˆï¼‰</td></tr><tr><td><strong>æºç å¯è§</strong></td><td>âœ… å…‰æ ‡èšç„¦æ—¶æ˜¾ç¤º</td><td>âœ… å…‰æ ‡èšç„¦æ—¶æ˜¾ç¤º</td><td>âŒ å®Œå…¨éšè—</td><td>âœ… å§‹ç»ˆæ˜¾ç¤º</td></tr><tr><td><strong>æºç å¯ç¼–è¾‘</strong></td><td>âœ… é“¾æ¥ã€å›¾ç‰‡å¯ç›´æ¥ç¼–è¾‘</td><td>âš ï¸ éƒ¨åˆ†æ”¯æŒ</td><td>âŒ å¦</td><td>âœ… æ˜¯</td></tr><tr><td><strong>æŠ€æœ¯æ ˆ</strong></td><td>ProseMirror + Milkdown</td><td>è‡ªç ”</td><td>è‡ªç ”</td><td>CodeMirror</td></tr><tr><td><strong>æ‰©å±•æ€§</strong></td><td>âœ… æ’ä»¶åŒ–æ¶æ„</td><td>âŒ ä¸æ”¯æŒæ’ä»¶</td><td>âš ï¸ æœ‰é™çš„ API</td><td>âœ… VS Code æ’ä»¶ç”Ÿæ€</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>âœ… ä¼˜ç§€</td><td>âœ… ä¼˜ç§€</td><td>âš ï¸ å¤§æ–‡æ¡£è¾ƒæ…¢</td><td>âœ… ä¼˜ç§€</td></tr><tr><td><strong>è·¨å¹³å°</strong></td><td>âœ… Windows/Mac/Linux</td><td>âœ… Windows/Mac/Linux</td><td>âœ… Web/æ¡Œé¢/ç§»åŠ¨</td><td>âœ… Windows/Mac/Linux</td></tr></tbody></table>
<p><strong>milkup çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>å¼€æºå…è´¹</strong>ï¼šå®Œå…¨å¼€æºï¼Œå¯è‡ªç”±å®šåˆ¶</li>
<li><strong>ç°ä»£åŒ–æŠ€æœ¯æ ˆ</strong>ï¼šåŸºäº Vue 3 + TypeScript + ProseMirror</li>
<li><strong>å¯æ‰©å±•æ€§å¼º</strong>ï¼šæ’ä»¶åŒ–æ¶æ„ï¼Œæ˜“äºæ·»åŠ æ–°åŠŸèƒ½</li>
<li><strong>æºç ç¼–è¾‘èƒ½åŠ›</strong>ï¼šé“¾æ¥å’Œå›¾ç‰‡å¯ç›´æ¥ç¼–è¾‘ï¼Œæ— éœ€åˆ‡æ¢æ¨¡å¼</li>
</ul>
<p><strong>Typora çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>æˆç†Ÿç¨³å®š</strong>ï¼šç»è¿‡å¤šå¹´æ‰“ç£¨ï¼ŒåŠŸèƒ½å®Œå–„</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šç»†èŠ‚æ‰“ç£¨åˆ°ä½ï¼Œäº¤äº’æµç•…</li>
</ul>
<p><strong>Notion çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>åä½œèƒ½åŠ›</strong>ï¼šå¤šäººå®æ—¶åä½œ</li>
<li><strong>æ•°æ®åº“åŠŸèƒ½</strong>ï¼šä¸ä»…æ˜¯ç¼–è¾‘å™¨ï¼Œè¿˜æ˜¯çŸ¥è¯†ç®¡ç†å·¥å…·</li>
</ul>
<h3 data-id="heading-37">4.2 AI ç»­å†™åŠŸèƒ½å¯¹æ¯”</h3>




































































<table><thead><tr><th>ç‰¹æ€§</th><th>milkup (feat-ai)</th><th>Cursor</th><th>Notion AI</th><th>GitHub Copilot</th></tr></thead><tbody><tr><td><strong>æ”¯æŒåœºæ™¯</strong></td><td>Markdown æ–‡æ¡£</td><td>ä»£ç ç¼–è¾‘</td><td>æ–‡æ¡£ç¼–è¾‘</td><td>ä»£ç ç¼–è¾‘</td></tr><tr><td><strong>å¤šæä¾›å•†</strong></td><td>âœ… OpenAI/Claude/Gemini/Ollama</td><td>âŒ ä»… OpenAI</td><td>âŒ è‡ªæœ‰æ¨¡å‹</td><td>âŒ ä»… GitHub æ¨¡å‹</td></tr><tr><td><strong>æœ¬åœ°æ¨¡å‹</strong></td><td>âœ… æ”¯æŒ Ollama</td><td>âŒ å¦</td><td>âŒ å¦</td><td>âŒ å¦</td></tr><tr><td><strong>ç»“æ„åŒ–ç†è§£</strong></td><td>âœ… ç†è§£æ ‡é¢˜å±‚çº§</td><td>âœ… ç†è§£ä»£ç ç»“æ„</td><td>âš ï¸ æœ‰é™</td><td>âœ… ç†è§£ä»£ç ä¸Šä¸‹æ–‡</td></tr><tr><td><strong>è§¦å‘æ–¹å¼</strong></td><td>è‡ªåŠ¨é˜²æŠ–è§¦å‘</td><td>è‡ªåŠ¨è§¦å‘</td><td>æ‰‹åŠ¨è§¦å‘</td><td>è‡ªåŠ¨è§¦å‘</td></tr><tr><td><strong>æ¥å—æ–¹å¼</strong></td><td>Tab é”®</td><td>Tab é”®</td><td>ç‚¹å‡»æŒ‰é’®</td><td>Tab é”®</td></tr><tr><td><strong>å¼€æº</strong></td><td>âœ… æ˜¯</td><td>âŒ å¦</td><td>âŒ å¦</td><td>âŒ å¦</td></tr><tr><td><strong>éšç§ä¿æŠ¤</strong></td><td>âœ… æ”¯æŒæœ¬åœ°æ¨¡å‹</td><td>âŒ æ•°æ®ä¸Šä¼ äº‘ç«¯</td><td>âŒ æ•°æ®ä¸Šä¼ äº‘ç«¯</td><td>âŒ æ•°æ®ä¸Šä¼ äº‘ç«¯</td></tr></tbody></table>
<p><strong>milkup çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>å¤šæä¾›å•†æ”¯æŒ</strong>ï¼šå¯è‡ªç”±é€‰æ‹© AI æœåŠ¡</li>
<li><strong>æœ¬åœ°ä¼˜å…ˆ</strong>ï¼šæ”¯æŒ Ollamaï¼Œä¿æŠ¤éšç§</li>
<li><strong>å¼€æºé€æ˜</strong>ï¼šä»£ç å…¬å¼€ï¼Œå¯å®¡è®¡</li>
<li><strong>é’ˆå¯¹ Markdown</strong>ï¼šä¸“é—¨ä¼˜åŒ–æ–‡æ¡£å†™ä½œåœºæ™¯</li>
</ul>
<p><strong>Cursor/Copilot çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>ä»£ç ä¸“ç²¾</strong>ï¼šé’ˆå¯¹ä»£ç ç¼–è¾‘ä¼˜åŒ–</li>
<li><strong>ä¸Šä¸‹æ–‡æ›´ä¸°å¯Œ</strong>ï¼šå¯ä»¥ç†è§£æ•´ä¸ªé¡¹ç›®</li>
<li><strong>æˆç†Ÿåº¦é«˜</strong>ï¼šç»è¿‡å¤§é‡ç”¨æˆ·éªŒè¯</li>
</ul>
<p><strong>Notion AI çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>å¤šåŠŸèƒ½</strong>ï¼šä¸ä»…ç»­å†™ï¼Œè¿˜æ”¯æŒæ€»ç»“ã€ç¿»è¯‘ã€æ”¹å†™ç­‰</li>
<li><strong>é›†æˆåº¦é«˜</strong>ï¼šä¸ Notion ç”Ÿæ€æ·±åº¦é›†æˆ</li>
</ul>
<hr/>
<h2 data-id="heading-38">äº”ã€æ€»ç»“ä¸å±•æœ›</h2>
<h3 data-id="heading-39">5.1 æŠ€æœ¯æ€»ç»“</h3>
<p>é€šè¿‡ feat-ir å’Œ feat-ai ä¸¤ä¸ªåˆ†æ”¯çš„å¼€å‘ï¼Œmilkup åœ¨ Markdown ç¼–è¾‘å™¨é¢†åŸŸå®ç°äº†é‡è¦çªç ´ï¼š</p>
<p><strong>å³æ—¶æ¸²æŸ“æ¨¡å¼ï¼ˆfeat-irï¼‰ï¼š</strong></p>
<ul>
<li>åŸºäº ProseMirror Decoration ç³»ç»Ÿå®ç°</li>
<li>æ™ºèƒ½æ˜¾ç¤ºæºç ï¼Œå…‰æ ‡èšç„¦æ—¶å¯è§</li>
<li>æ”¯æŒé“¾æ¥å’Œå›¾ç‰‡çš„å³æ—¶ç¼–è¾‘</li>
<li>æ€§èƒ½ä¼˜åŒ–ï¼Œå¤§æ–‡æ¡£æµç•…è¿è¡Œ</li>
</ul>
<p><strong>AI ç»­å†™åŠŸèƒ½ï¼ˆfeat-aiï¼‰ï¼š</strong></p>
<ul>
<li>æ”¯æŒ OpenAIã€Claudeã€Geminiã€Ollama ç­‰å¤šä¸ªæä¾›å•†</li>
<li>ç»“æ„åŒ–ç†è§£æ–‡æ¡£ï¼Œæå–æ ‡é¢˜å±‚çº§å’Œä¸Šä¸‹æ–‡</li>
<li>ä¼˜é›…çš„ UI é›†æˆï¼ŒåŠé€æ˜å»ºè®®ä¸å¹²æ‰°é˜…è¯»</li>
<li>é˜²æŠ–å’Œå–æ¶ˆæœºåˆ¶ï¼Œä¼˜åŒ–æ€§èƒ½å’Œæˆæœ¬</li>
</ul>
<p><strong>æŠ€æœ¯äº®ç‚¹ï¼š</strong></p>
<ol>
<li><strong>æ’ä»¶åŒ–æ¶æ„</strong>ï¼šæ˜“äºæ‰©å±•å’Œç»´æŠ¤</li>
<li><strong>ç°ä»£åŒ–æŠ€æœ¯æ ˆ</strong>ï¼šVue 3 + TypeScript + ProseMirror</li>
<li><strong>ç”¨æˆ·ä½“éªŒä¼˜å…ˆ</strong>ï¼šæµç•…çš„äº¤äº’ï¼Œä¼˜é›…çš„è§†è§‰è®¾è®¡</li>
<li><strong>å¼€æºé€æ˜</strong>ï¼šä»£ç å…¬å¼€ï¼Œç¤¾åŒºé©±åŠ¨</li>
</ol>
<h3 data-id="heading-40">5.2 æœªæ¥å±•æœ›</h3>
<p><strong>çŸ­æœŸè®¡åˆ’ï¼š</strong></p>
<ol>
<li>
<p><strong>åŠŸèƒ½å®Œå–„</strong>ï¼š</p>
<ul>
<li>æ”¯æŒæ›´å¤š Markdown å…ƒç´ çš„å³æ—¶æ¸²æŸ“ï¼ˆè¡¨æ ¼ã€å…¬å¼ï¼‰</li>
<li>AI ç»­å†™æ”¯æŒæ›´å¤šåœºæ™¯ï¼ˆä»£ç å—ã€åˆ—è¡¨ï¼‰</li>
<li>æ·»åŠ  AI æ”¹å†™ã€æ€»ç»“ç­‰åŠŸèƒ½</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>å¤§æ–‡æ¡£æ€§èƒ½ä¼˜åŒ–</li>
<li>AI è¯·æ±‚ç¼“å­˜æœºåˆ¶</li>
<li>å¢é‡æ¸²æŸ“</li>
</ul>
</li>
<li>
<p><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼š</p>
<ul>
<li>æ›´ä¸°å¯Œçš„å¿«æ·é”®</li>
<li>è‡ªå®šä¹‰ä¸»é¢˜</li>
<li>æ›´å¤šé…ç½®é€‰é¡¹</li>
</ul>
</li>
</ol>
<p><strong>é•¿æœŸæ„¿æ™¯ï¼š</strong></p>
<ol>
<li>
<p><strong>åä½œèƒ½åŠ›</strong>ï¼š</p>
<ul>
<li>å¤šäººå®æ—¶åä½œ</li>
<li>ç‰ˆæœ¬æ§åˆ¶é›†æˆ</li>
<li>è¯„è®ºå’Œæ‰¹æ³¨</li>
</ul>
</li>
<li>
<p><strong>çŸ¥è¯†ç®¡ç†</strong>ï¼š</p>
<ul>
<li>åŒå‘é“¾æ¥</li>
<li>æ ‡ç­¾ç³»ç»Ÿ</li>
<li>å…¨æ–‡æœç´¢</li>
</ul>
</li>
<li>
<p><strong>AI æ·±åº¦é›†æˆ</strong>ï¼š</p>
<ul>
<li>æ™ºèƒ½å¤§çº²ç”Ÿæˆ</li>
<li>è‡ªåŠ¨æ’ç‰ˆä¼˜åŒ–</li>
<li>å¤šè¯­è¨€ç¿»è¯‘</li>
<li>è¯­æ³•æ£€æŸ¥å’Œæ”¹è¿›å»ºè®®</li>
</ul>
</li>
<li>
<p><strong>ç”Ÿæ€å»ºè®¾</strong>ï¼š</p>
<ul>
<li>æ’ä»¶å¸‚åœº</li>
<li>ä¸»é¢˜å•†åº—</li>
<li>ç¤¾åŒºè´¡çŒ®</li>
</ul>
</li>
</ol>
<h3 data-id="heading-41">5.3 è‡´è°¢</h3>
<p>æ„Ÿè°¢æ‰€æœ‰ä¸º milkup é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç”¨æˆ·ã€‚ç‰¹åˆ«æ„Ÿè°¢ï¼š</p>
<ul>
<li><strong>Milkdown</strong> å›¢é˜Ÿï¼šæä¾›äº†ä¼˜ç§€çš„ç¼–è¾‘å™¨æ¡†æ¶</li>
<li><strong>ProseMirror</strong> ç¤¾åŒºï¼šå¼ºå¤§çš„ç¼–è¾‘å™¨å†…æ ¸</li>
<li><strong>Vue.js</strong> å›¢é˜Ÿï¼šç°ä»£åŒ–çš„å‰ç«¯æ¡†æ¶</li>
<li><strong>Anthropic</strong>ï¼šClaude Code çš„å¼€å‘æ”¯æŒ</li>
</ul>
<h3 data-id="heading-42">5.4 å‚è€ƒèµ„æº</h3>
<p><strong>é¡¹ç›®åœ°å€ï¼š</strong></p>
<ul>
<li>GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fauto-plugin%2Fmilkup" target="_blank" title="https://github.com/auto-plugin/milkup" ref="nofollow noopener noreferrer">milkup</a></li>
</ul>
<h2 data-id="heading-43">ç»“è¯­</h2>
<p>milkup çš„å¼€å‘æ˜¯ä¸€æ¬¡æœ‰è¶£çš„æŠ€æœ¯æ¢ç´¢ä¹‹æ—…ã€‚æˆ‘ä»¬ä¸ä»…å®ç°äº†ç±»ä¼¼ Typora çš„å³æ—¶æ¸²æŸ“æ¨¡å¼ï¼Œè¿˜åœ¨ AI é›†æˆæ–¹é¢èµ°åœ¨äº†å‰åˆ—ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œmilkup çš„æˆé•¿ç¦»ä¸å¼€ç¤¾åŒºçš„æ”¯æŒã€‚æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼šä»£ç ã€æ–‡æ¡£ã€å»ºè®®ã€bug æŠ¥å‘Šã€‚è®©æˆ‘ä»¬ä¸€èµ·æ‰“é€ ä¸€ä¸ªæ›´å¥½çš„ Markdown ç¼–è¾‘å™¨ï¼</p>
<p>å¦‚æœä½ å¯¹ milkup æ„Ÿå…´è¶£ï¼Œæ¬¢è¿ï¼š</p>
<ul>
<li>â­ Star é¡¹ç›®</li>
<li>ğŸ› æäº¤ Issue</li>
<li>ğŸ”§ è´¡çŒ®ä»£ç </li>
<li>ğŸ’¬ åŠ å…¥è®¨è®º</li>
</ul>
<p>è®©æˆ‘ä»¬ä¸€èµ·æ¨åŠ¨ Markdown ç¼–è¾‘å™¨çš„å‘å±•ï¼</p>
<hr/>
<p><strong>ä½œè€…ï¼š</strong> å¾·è±å„æ–¯ &amp; Claude Code <strong>æ—¥æœŸï¼š</strong> 2026 å¹´ 2 æœˆ <strong>ç‰ˆæœ¬ï¼š</strong> v1.0</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rolldown 1.0 RC å‘å¸ƒ !!]]></title>    <link>https://juejin.cn/post/7602544700474966026</link>    <guid>https://juejin.cn/post/7602544700474966026</guid>    <pubDate>2026-02-04T03:31:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602544700474966026" data-draft-id="7602534556076277786" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Rolldown 1.0 RC å‘å¸ƒ !!"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-04T03:31:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å®‰ä¸œå°¼"/> <meta itemprop="url" content="https://juejin.cn/user/1521379823340792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Rolldown 1.0 RC å‘å¸ƒ !!
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379823340792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å®‰ä¸œå°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:31:35.000Z" title="Wed Feb 04 2026 03:31:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fvoidzero.dev%2Fposts%2Fannouncing-rolldown-rc" target="_blank" title="https://voidzero.dev/posts/announcing-rolldown-rc" ref="nofollow noopener noreferrer">Announcing Rolldown 1.0 RC</a></p>
<p>ä½œè€…ï¼šsapphi-red</p>
<p>ç¿»è¯‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTUARAN" target="_blank" title="https://github.com/TUARAN" ref="nofollow noopener noreferrer">TUARAN</a></p>
</blockquote>
<blockquote>
<p>æ¬¢è¿å…³æ³¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTUARAN%2Ffrontend-weekly-digest-cn" target="_blank" title="https://github.com/TUARAN/frontend-weekly-digest-cn" ref="nofollow noopener noreferrer">å‰ç«¯å‘¨åˆŠ</a>ï¼Œæ¯å‘¨æ›´æ–°å›½å¤–è®ºå›çš„å‰ç«¯çƒ­é—¨æ–‡ç« ï¼Œç´§è·Ÿæ—¶äº‹ï¼ŒæŒæ¡å‰ç«¯æŠ€æœ¯åŠ¨æ€ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd8b91bcd74a4ef083de3ab73925ff7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770780695&amp;x-signature=bAZXUaujiQfnEHmcaTm93cBCTFw%3D" alt="image.png" loading="lazy"/></p>
<p>ä»Šå¤©æˆ‘ä»¬éå¸¸å…´å¥‹åœ°å®£å¸ƒ Rolldown 1.0 çš„å€™é€‰ç‰ˆæœ¬ï¼ˆRelease Candidateï¼ŒRCï¼‰ã€‚</p>
<p><strong>TL;DR</strong>ï¼šRolldown æ˜¯ä¸€ä¸ªç”¨ Rust ç¼–å†™çš„ JavaScript/TypeScript æ‰“åŒ…å™¨ã€‚åœ¨ä¿æŒä¸ Rollup æ’ä»¶ API å…¼å®¹çš„åŒæ—¶ï¼Œå®ƒæ¯” Rollup å¿« 10â€“30 å€ã€‚æœ¬æ¬¡ RC æ ‡å¿—ç€ API è¿›å…¥ç¨³å®šé˜¶æ®µï¼šåœ¨ 1.0 æ­£å¼ç‰ˆå‘å¸ƒå‰ï¼Œæˆ‘ä»¬ä¸è®¡åˆ’å¼•å…¥ç ´åæ€§å˜æ›´ã€‚æˆ‘ä»¬é¼“åŠ±ä½ åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­è¯•ç”¨ï¼Œå¹¶åœ¨é‡åˆ°é—®é¢˜æ—¶åˆ° GitHub ä¸Šåé¦ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frolldown%2Frolldown%2Fissues" target="_blank" title="https://github.com/rolldown/rolldown/issues" ref="nofollow noopener noreferrer">github.com/rolldown/roâ€¦</a>ã€‚</p>
<blockquote>
<p>åœ¨ç”¨ Viteï¼Ÿ</p>
<p>ç°åœ¨å°±å¯ä»¥é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fvoidzero.dev%2Fposts%2Fannouncing-vite-8-beta" target="_blank" title="https://voidzero.dev/posts/announcing-vite-8-beta" ref="nofollow noopener noreferrer">Vite 8 beta</a> ä½“éªŒ Rolldownï¼ˆè¯¥ç‰ˆæœ¬é»˜è®¤ä½¿ç”¨ Rolldown ä½œä¸ºæ‰“åŒ…å™¨ï¼‰ã€‚</p>
</blockquote>
<h2 data-id="heading-0">Rolldown æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>Rolldown æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ JavaScript æ‰“åŒ…å™¨ï¼Œç›®æ ‡æ˜¯æˆä¸º <a href="https://link.juejin.cn?target=https%3A%2F%2Fvite.dev%2F" target="_blank" title="https://vite.dev/" ref="nofollow noopener noreferrer">Vite</a> çš„ä¸‹ä¸€ä»£é»˜è®¤æ‰“åŒ…å™¨ã€‚å®ƒè¯•å›¾åŒæ—¶æ‹¿åˆ°ä¸¤è¾¹çš„ä¼˜åŠ¿ï¼šæ—¢æœ‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fesbuild.github.io%2F" target="_blank" title="https://esbuild.github.io/" ref="nofollow noopener noreferrer">esbuild</a> çš„é€Ÿåº¦ï¼Œåˆä¿ç•™äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Frollupjs.org%2F" target="_blank" title="https://rollupjs.org/" ref="nofollow noopener noreferrer">Rollup</a> çš„ç”Ÿæ€å…¼å®¹æ€§ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼ŒRolldown è¿˜æä¾›äº†ä¸€äº›ä¸¤è€…éƒ½æ²¡æœ‰çš„èƒ½åŠ›ï¼Œä¾‹å¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Freference%2FOutputOptions.codeSplitting" target="_blank" title="https://rolldown.rs/reference/OutputOptions.codeSplitting" ref="nofollow noopener noreferrer"><code>output.codeSplitting</code></a> â€”â€”å®ƒèƒ½è®©ä½ è·å¾—ç±»ä¼¼ webpack é‚£æ ·æ›´â€œç»†é¢—ç²’åº¦â€çš„åˆ†åŒ…æ§åˆ¶èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-1">å…³é”®ç‰¹æ€§</h2>
<ul>
<li><strong>æ¯” Rollup å¿« 10â€“30 å€</strong>ï¼šåŸç”Ÿ Rust æ€§èƒ½ + å¹¶è¡Œå¤„ç†ï¼ŒåŒæ—¶æä¾› WASM æ„å»ºä»¥æå‡å¯ç§»æ¤æ€§</li>
<li><strong>å…¼å®¹ Rollup çš„æ’ä»¶ API</strong>ï¼šç»å¤§å¤šæ•°ç°æœ‰ Rollup æ’ä»¶å¯ä»¥ç›´æ¥ä½¿ç”¨</li>
<li><strong>å†…ç½®è½¬æ¢èƒ½åŠ›</strong>ï¼šTypeScriptã€JSXã€è¯­æ³•é™çº§ç”± <a href="https://link.juejin.cn?target=https%3A%2F%2Foxc.rs%2F" target="_blank" title="https://oxc.rs/" ref="nofollow noopener noreferrer">Oxc</a> æä¾›</li>
<li><strong>åŸç”Ÿçš„ CJS/ESM äº’æ“ä½œ</strong>ï¼šä¸å†éœ€è¦ <code>@rollup/plugin-commonjs</code></li>
<li><strong>å†…ç½® Node.js æ¨¡å—è§£æ</strong>ï¼šä¸å†éœ€è¦ <code>@rollup/plugin-node-resolve</code></li>
<li><strong>æ›´ç²¾ç»†çš„ä»£ç æ‹†åˆ†</strong>ï¼šé€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Freference%2FOutputOptions.codeSplitting" target="_blank" title="https://rolldown.rs/reference/OutputOptions.codeSplitting" ref="nofollow noopener noreferrer"><code>output.codeSplitting</code></a> æä¾› webpack é£æ ¼çš„ chunk æ§åˆ¶ï¼ˆè¿™æ˜¯ Rollup æ‰€ä¸å…·å¤‡çš„ï¼‰</li>
</ul>
<p>å®Œæ•´æ¸…å•å¯æŸ¥çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Fguide%2Fnotable-features" target="_blank" title="https://rolldown.rs/guide/notable-features" ref="nofollow noopener noreferrer">Notable Features</a>ã€‚</p>
<h2 data-id="heading-2">å¿«é€Ÿä¸Šæ‰‹</h2>
<p>å®‰è£… Rolldownï¼š</p>
<pre><code class="hljs language-sh" lang="sh">npm install -D rolldown
<span class="hljs-comment"># æˆ–</span>
pnpm add -D rolldown
<span class="hljs-comment"># æˆ–</span>
yarn add -D rolldown
<span class="hljs-comment"># æˆ–</span>
bun add -D rolldown
</code></pre>
<p>åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'rolldown'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">input</span>: <span class="hljs-string">'src/main.js'</span>,
  <span class="hljs-attr">output</span>: {
    <span class="hljs-attr">file</span>: <span class="hljs-string">'dist/bundle.js'</span>,
  },
})
</code></pre>
<p>è¿è¡Œæ„å»ºï¼š</p>
<pre><code class="hljs language-sh" lang="sh">npx rolldown -c
<span class="hljs-comment"># æˆ–</span>
pnpm rolldown -c
<span class="hljs-comment"># æˆ–</span>
yarn rolldown -c
<span class="hljs-comment"># æˆ–</span>
bunx rolldown -c
</code></pre>
<h2 data-id="heading-3">â€œRCâ€ æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</h2>
<p>è¿™æ¬¡ Release Candidate ä»£è¡¨ <strong>API ç¨³å®š</strong>ï¼šåœ¨ 1.0 æ­£å¼ç‰ˆå‘å¸ƒå‰ï¼ŒRolldown çš„å…¬å…± API ä¸è®¡åˆ’å†åšç ´åæ€§å˜æ›´ã€‚</p>
<p><strong>å…³äºå®éªŒç‰¹æ€§çš„ä¸€ç‚¹è¯´æ˜</strong>ï¼šç›®å‰ä»æœ‰ä¸€éƒ¨åˆ†èƒ½åŠ›å¤„äº experimental çŠ¶æ€ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Fin-depth%2Fmodule-types" target="_blank" title="https://rolldown.rs/in-depth/module-types" ref="nofollow noopener noreferrer">Module types</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Freference%2FFunction.watch" target="_blank" title="https://rolldown.rs/reference/Function.watch" ref="nofollow noopener noreferrer">Watch mode</a></li>
</ul>
<p>å®éªŒç‰¹æ€§ä¼šåœ¨æ–‡æ¡£ä¸­æ˜ç¡®æ ‡æ³¨ï¼›å³ä½¿ Rolldown è¿›å…¥ 1.0 ä¹‹åï¼Œå®ƒä»¬ä»å¯èƒ½å‘ç”Ÿç ´åæ€§å˜æ›´ã€‚å¦‚æœè¦åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼Œå»ºè®®å…ˆåšå……åˆ†éªŒè¯ã€‚</p>
<h2 data-id="heading-4">æˆ‘ä»¬æœ€è¿‘åšäº†ä»€ä¹ˆï¼Ÿ</h2>
<p>ä» beta.1 ä»¥æ¥ï¼Œæˆ‘ä»¬å·²ç»åˆå…¥äº†è¶…è¿‡ 3,400 ä¸ªæäº¤ï¼š<strong>749</strong> ä¸ªåŠŸèƒ½ã€<strong>682</strong> ä¸ª Bug ä¿®å¤ã€<strong>109</strong> ä¸ªæ€§èƒ½ä¼˜åŒ–ï¼Œä»¥åŠ <strong>166</strong> ä¸ªæ–‡æ¡£æ›´æ–°ã€‚</p>
<h3 data-id="heading-5">Vite é›†æˆ</h3>
<p>æˆ‘ä»¬å°†å¤šä¸ª Vite å†…éƒ¨æ’ä»¶ç§»æ¤åˆ°äº† Rustï¼Œä»¥æå‡å¸¸è§åœºæ™¯çš„æ€§èƒ½ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿåœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fv7.vite.dev%2Fguide%2Frolldown" target="_blank" title="https://v7.vite.dev/guide/rolldown" ref="nofollow noopener noreferrer">rolldown-vite</a> ä»¥åŠåç»­çš„ Vite 8 beta ä¸­æŒç»­éªŒè¯ç¨³å®šæ€§ã€‚</p>
<h3 data-id="heading-6">æ€§èƒ½</h3>
<p>109 ä¸ªæ€§èƒ½ç›¸å…³æäº¤åŒ…æ‹¬ï¼šSIMD JSON è½¬ä¹‰ã€å¹¶è¡Œ chunk ç”Ÿæˆã€ç¬¦å·é‡å‘½åä¼˜åŒ–ã€æ›´å¿«çš„ sourcemap å¤„ç†ç­‰ã€‚</p>
<p>é™¤äº† Rolldown æœ¬èº«ï¼Œæä¾›è½¬æ¢å™¨ä¸è§£æå™¨èƒ½åŠ›çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Foxc.rs%2F" target="_blank" title="https://oxc.rs/" ref="nofollow noopener noreferrer">Oxc</a> ä¹Ÿå˜å¾—æ›´å¿«äº†ã€‚</p>
<h3 data-id="heading-7">æ›´å¥½çš„åˆ†åŒ…</h3>
<p>æˆ‘ä»¬æ”¹è¿›äº†åˆ†åŒ…ç®—æ³•ï¼Œè®©äº§å‡ºçš„ chunk æ•°é‡æ›´å°‘ã€‚å¯¹äºé‚£äº›åŠ¨æ€å¯¼å…¥ã€ä½†å®é™…å¼•ç”¨çš„æ˜¯â€œå·²ç»åŠ è½½è¿‡çš„æ¨¡å—â€çš„åœºæ™¯ï¼Œç°åœ¨ä¼šç›´æ¥å†…è”ï¼›è€Œä¸€äº›å°çš„ wrapper chunk åœ¨å¯èƒ½æ—¶ä¹Ÿä¼šä¸ç›®æ ‡ chunk åˆå¹¶ã€‚</p>
<h3 data-id="heading-8">å…¼å®¹æ€§</h3>
<p>æˆ‘ä»¬ç»§ç»­æ‰©å¤§å¯¹ Rollup ä¸ esbuild çš„å…¼å®¹è¦†ç›–ã€‚å½“å‰ Rolldown å·²é€šè¿‡ 900+ ä¸ª Rollup æµ‹è¯•å’Œ 670+ ä¸ª esbuild æµ‹è¯•ã€‚</p>
<p>æ–°è¡¥é½çš„ä¸€äº› Rollup é€‰é¡¹ç¤ºä¾‹ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Freference%2FOutputOptions.dynamicImportInCjs" target="_blank" title="https://rolldown.rs/reference/OutputOptions.dynamicImportInCjs" ref="nofollow noopener noreferrer"><code>output.dynamicImportInCjs</code></a>ï¼šæ§åˆ¶åœ¨ CJS è¾“å‡ºé‡Œå¦‚ä½•æ¸²æŸ“åŠ¨æ€å¯¼å…¥</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Freference%2FInputOptions.watch%23oninvalidate" target="_blank" title="https://rolldown.rs/reference/InputOptions.watch#oninvalidate" ref="nofollow noopener noreferrer"><code>watch.onInvalidate</code></a>ï¼šç›‘å¬æ¨¡å¼ä¸‹ï¼Œæ–‡ä»¶è§¦å‘é‡å»ºæ—¶çš„ hook</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Freference%2FOutputOptions.minifyInternalExports" target="_blank" title="https://rolldown.rs/reference/OutputOptions.minifyInternalExports" ref="nofollow noopener noreferrer"><code>output.minifyInternalExports</code></a>ï¼šå‹ç¼©å†…éƒ¨å¯¼å‡ºåä»¥å‡å°ä½“ç§¯</li>
</ul>
<p>æˆ‘ä»¬è¿˜å¢åŠ äº†å¯¹ Node.js <code>module.exports</code> çš„ ESM å¯¼å‡ºå½¢å¼çš„æ”¯æŒï¼Œä»¥å¯¹é½ Node.js å…³äº <code>require(ESM)</code> çš„æ–°è¡Œä¸ºï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fdocs%2Flatest-v24.x%2Fapi%2Fmodules.html%23loading-ecmascript-modules-using-require" target="_blank" title="https://nodejs.org/docs/latest-v24.x/api/modules.html#loading-ecmascript-modules-using-require" ref="nofollow noopener noreferrer">nodejs.org/docs/latestâ€¦</a></p>
<h3 data-id="heading-9">API ç¨³å®šåŒ–</h3>
<p>æˆ‘ä»¬å°†ä¸€äº› API ä» experimental æå‡ï¼Œå¹¶å¯¹é½é»˜è®¤å€¼ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Freference%2FOutputOptions.strictExecutionOrder" target="_blank" title="https://rolldown.rs/reference/OutputOptions.strictExecutionOrder" ref="nofollow noopener noreferrer"><code>output.strictExecutionOrder</code></a>ï¼šä» <code>experimental</code> ä¸­ç§»å‡º</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Freference%2FOutputOptions.codeSplitting" target="_blank" title="https://rolldown.rs/reference/OutputOptions.codeSplitting" ref="nofollow noopener noreferrer"><code>output.codeSplitting</code></a>ï¼šä» <code>output.advancedChunks</code> æ›´åè€Œæ¥</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Freference%2FInputOptions.tsconfig" target="_blank" title="https://rolldown.rs/reference/InputOptions.tsconfig" ref="nofollow noopener noreferrer"><code>tsconfig</code> è‡ªåŠ¨å‘ç°</a>ï¼šé»˜è®¤å¯ç”¨</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Freference%2FInputOptions.preserveEntrySignatures" target="_blank" title="https://rolldown.rs/reference/InputOptions.preserveEntrySignatures" ref="nofollow noopener noreferrer"><code>preserveEntrySignatures</code></a>ï¼šé»˜è®¤å€¼è°ƒæ•´ä¸º <code>'exports-only'</code></li>
<li>é€šè¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Freference%2FInputOptions.checks%23plugintimings" target="_blank" title="https://rolldown.rs/reference/InputOptions.checks#plugintimings" ref="nofollow noopener noreferrer"><code>checks.pluginTimings</code></a> æä¾›æ’ä»¶è€—æ—¶è¯Šæ–­</li>
</ul>
<h3 data-id="heading-10">å¼€å‘ä½“éªŒ</h3>
<p>æ›´å¥½çš„é”™è¯¯æç¤ºï¼ˆå¸¦æ–‡æ¡£é“¾æ¥ï¼‰ã€ç”¨äºå´©æºƒä¸ŠæŠ¥çš„è‡ªå®šä¹‰ panic hookï¼Œä»¥åŠä¸ Rollup å¯¹é½çš„ä¸€æ‰¹æ–°è¯Šæ–­ï¼ˆå¦‚ <code>CIRCULAR_REEXPORT</code>ã€<code>CANNOT_CALL_NAMESPACE</code>ï¼‰ã€‚</p>
<h3 data-id="heading-11">æ–‡æ¡£</h3>
<p>æˆ‘ä»¬è¡¥é½äº†æ­¤å‰ç¼ºå¤±çš„æ–‡æ¡£ï¼š</p>
<ul>
<li>åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Freference%2F" target="_blank" title="https://rolldown.rs/reference/" ref="nofollow noopener noreferrer">API reference</a> ä¸­ä¸ºå…¨éƒ¨é€‰é¡¹ã€å‡½æ•°ã€ç±»å‹æä¾›äº†ä¸“é—¨é¡µé¢</li>
<li>åŸºäº Rollup æ–‡æ¡£å¹¶åŠ å…¥ Rolldown æ‰©å±•çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Fapis%2Fplugin-api" target="_blank" title="https://rolldown.rs/apis/plugin-api" ref="nofollow noopener noreferrer">Plugin API</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Fapis%2Fcli" target="_blank" title="https://rolldown.rs/apis/cli" ref="nofollow noopener noreferrer">CLI reference</a></li>
</ul>
<h2 data-id="heading-12">èµ°å‘ 1.0 ä¸ Vite 8 çš„è·¯çº¿å›¾</h2>
<p>æˆ‘ä»¬çš„åç»­è·¯å¾„å¤§è‡´æ˜¯ï¼š</p>
<ul>
<li><strong>RC é˜¶æ®µ</strong>ï¼šæ”¶é›†ç¤¾åŒºåé¦ˆã€ä¿®å¤å…³é”®é—®é¢˜ã€ç¡®ä¿ API ç¨³å®šã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æŠŠç ´åæ€§å˜æ›´é™åˆ°é›¶ã€‚</li>
<li><strong>Vite 8</strong>ï¼šé»˜è®¤ä½¿ç”¨ Rolldown ä½œä¸ºæ‰“åŒ…å™¨ï¼Œåœ¨ç”Ÿäº§æ„å»ºç®¡çº¿ä¸­åŒæ—¶æ›¿æ¢ esbuild ä¸ Rollupã€‚</li>
<li><strong>Rolldown 1.0</strong>ï¼šå½“ RC åœ¨çœŸå®ç”Ÿäº§ç”¨ä¾‹ä¸­è¯æ˜å¯é åï¼Œå‘å¸ƒç¨³å®šç‰ˆæœ¬ã€‚</li>
</ul>
<p>Rolldown é›†æˆè¿› Vite åï¼Œä¼šç»Ÿä¸€æ„å»ºç®¡çº¿ï¼Œæ¶ˆé™¤å½“å‰â€œä¸¤ä¸ªæ‰“åŒ…å™¨å¹¶å­˜â€çš„æ¶æ„ï¼Œä»è€Œè®©å¼€å‘ä¸ç”Ÿäº§çš„è¡Œä¸ºæ›´åŠ ä¸€è‡´ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼šVite 8 å¾ˆå¯èƒ½ä¼šå…ˆäº Rolldown 1.0 å‘å¸ƒï¼Œå› ä¸º Rolldown 1.0 çš„éƒ¨åˆ†ç›®æ ‡å¹¶ä¸æ˜¯ Vite é›†æˆçš„å‰ç½®æ¡ä»¶ã€‚</p>
<h2 data-id="heading-13">è‡´è°¢</h2>
<p>Rolldown 1.0 RC æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frolldown%2Frolldown%2Fgraphs%2Fcontributors" target="_blank" title="https://github.com/rolldown/rolldown/graphs/contributors" ref="nofollow noopener noreferrer">150+ ä½è´¡çŒ®è€…</a> å…±åŒåŠªåŠ›çš„æˆæœã€‚æ„Ÿè°¢æ¯ä¸€ä½è´¡çŒ®ä»£ç ã€æäº¤ issueã€ä»¥åŠå¸®å¿™ä¼ æ’­çš„äººã€‚</p>
<p>åŒæ—¶æˆ‘ä»¬ä¹Ÿéå¸¸æ„Ÿè°¢å¯å‘ Rolldown çš„é¡¹ç›®ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frollup%2Frollup" target="_blank" title="https://github.com/rollup/rollup" ref="nofollow noopener noreferrer">Rollup</a>ï¼ˆRich Harrisã€Lukas Taegert-Atkinsonï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fevanw%2Fesbuild" target="_blank" title="https://github.com/evanw/esbuild" ref="nofollow noopener noreferrer">esbuild</a>ï¼ˆEvan Wallaceï¼‰</li>
</ul>
<h2 data-id="heading-14">åŠ å…¥ç¤¾åŒº</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fchat.rolldown.rs%2F" target="_blank" title="https://chat.rolldown.rs/" ref="nofollow noopener noreferrer">Discord</a>ï¼šå’Œå›¢é˜Ÿä¸å…¶ä»–ç”¨æˆ·äº¤æµ</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frolldown%2Frolldown" target="_blank" title="https://github.com/rolldown/rolldown" ref="nofollow noopener noreferrer">GitHub</a>ï¼šç‚¹ Starã€æ issueã€å‚ä¸è´¡çŒ®</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frolldown.rs%2Fcontribution-guide%2F" target="_blank" title="https://rolldown.rs/contribution-guide/" ref="nofollow noopener noreferrer">Contributing Guide</a>ï¼šä»è¿™é‡Œå¼€å§‹å‚ä¸è´¡çŒ®</li>
</ul>
<h2 data-id="heading-15">å»è¯•è¯•å§</h2>
<p>Rolldown å·²ç»å‡†å¤‡å¥½æ¥å—çœŸå®ä¸–ç•Œçš„æ£€éªŒã€‚æŠŠå®ƒç”¨åœ¨ä½ çš„é¡¹ç›®é‡Œï¼Œçœ‹çœ‹æ•ˆæœå¦‚ä½•ã€‚</p>
<p>å¦‚æœä½ é‡åˆ°é—®é¢˜ï¼Œè¯·åˆ° GitHub ä¸Šæä¸€ä¸ª issueï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frolldown%2Frolldown%2Fissues" target="_blank" title="https://github.com/rolldown/rolldown/issues" ref="nofollow noopener noreferrer">github.com/rolldown/roâ€¦</a>ã€‚ä½ åœ¨ RC é˜¶æ®µç»™å‡ºçš„åé¦ˆï¼Œä¼šç›´æ¥å½±å“åˆ° 1.0 çš„æœ€ç»ˆå½¢æ€ã€‚</p>
<p>æœŸå¾…çœ‹åˆ°ä½ ç”¨ Rolldown æ„å»ºå‡ºçš„ä½œå“ã€‚</p>
<h2 data-id="heading-16">å°ç»“</h2>
<p>å‰ç«¯æ„å»ºå·¥å…·å¼€å§‹ä»â€œèƒ½ç”¨â€è½¬å‘â€œé•¿æœŸå¯æ‰˜ä»˜â€ã€‚Rolldown ç”¨ Rust é‡å†™æ‰“åŒ…æ ¸å¿ƒï¼Œåœ¨é€Ÿåº¦ã€åˆ†åŒ…æ§åˆ¶å’Œç”Ÿæ€å…¼å®¹ä¹‹é—´ç»™å‡ºäº†ä¸€ä¸ªæ›´ç¨³çš„å·¥ç¨‹è§£æ³•ï¼Œä½†çœŸæ­£è½åœ°æ—¶ï¼Œå›¢é˜Ÿè¿˜éœ€è¦é‡æ–°å®¡è§†æ„å»ºé“¾è·¯ã€æ’ä»¶ä¾èµ–å’Œå‘å¸ƒèŠ‚å¥çš„æ•´ä½“æ•ˆç‡ã€‚å®è·µä¸­ï¼Œå¯ä»¥ç»“åˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rollcode.cn%2F%3Fsource%3Dba%26id%3Dfrontendweekly" target="_blank" title="https://www.rollcode.cn/?source=ba&amp;id=frontendweekly" ref="nofollow noopener noreferrer">RollCode ä½ä»£ç å¹³å°</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rollcode.cn%2F%3Fsource%3Dba%26id%3Dfrontendweekly" target="_blank" title="https://www.rollcode.cn/?source=ba&amp;id=frontendweekly" ref="nofollow noopener noreferrer">ç§æœ‰åŒ–éƒ¨ç½²</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rollcode.cn%2F%3Fsource%3Dba%26id%3Dfrontendweekly" target="_blank" title="https://www.rollcode.cn/?source=ba&amp;id=frontendweekly" ref="nofollow noopener noreferrer">è‡ªå®šä¹‰ç»„ä»¶</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rollcode.cn%2F%3Fsource%3Dba%26id%3Dfrontendweekly" target="_blank" title="https://www.rollcode.cn/?source=ba&amp;id=frontendweekly" ref="nofollow noopener noreferrer">é™æ€é¡µé¢å‘å¸ƒï¼ˆSSG + SEOï¼‰</a>ï¼ŒæŠŠæ–°ä¸€ä»£æ„å»ºèƒ½åŠ›æ›´å¹³æ»‘åœ°æ¥å…¥ç°æœ‰å·¥ç¨‹ä½“ç³»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenClawï¼ˆåŸClawdbotï¼‰æˆæœ¬å…¨è§£æï¼šå¼€æºå…è´¹å¤–è¡£ä¸‹ï¼ŒçœŸå®å¼€é”€ç«Ÿå¦‚æ­¤æƒŠäºº]]></title>    <link>https://juejin.cn/post/7602529888483508287</link>    <guid>https://juejin.cn/post/7602529888483508287</guid>    <pubDate>2026-02-04T03:37:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602529888483508287" data-draft-id="7602503154506547241" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenClawï¼ˆåŸClawdbotï¼‰æˆæœ¬å…¨è§£æï¼šå¼€æºå…è´¹å¤–è¡£ä¸‹ï¼ŒçœŸå®å¼€é”€ç«Ÿå¦‚æ­¤æƒŠäºº"/> <meta itemprop="keywords" content="å¼€æº,äººå·¥æ™ºèƒ½,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2026-02-04T03:37:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éä¼˜ç§€ç¨‹åºå‘˜"/> <meta itemprop="url" content="https://juejin.cn/user/3984285870341288"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenClawï¼ˆåŸClawdbotï¼‰æˆæœ¬å…¨è§£æï¼šå¼€æºå…è´¹å¤–è¡£ä¸‹ï¼ŒçœŸå®å¼€é”€ç«Ÿå¦‚æ­¤æƒŠäºº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3984285870341288/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éä¼˜ç§€ç¨‹åºå‘˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:37:52.000Z" title="Wed Feb 04 2026 03:37:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">OpenClawï¼ˆåŸClawdbotï¼‰æˆæœ¬å…¨è§£æï¼šå¼€æºå…è´¹å¤–è¡£ä¸‹ï¼ŒçœŸå®å¼€é”€ç«Ÿå¦‚æ­¤æƒŠäºº</h2>
<p>OpenClawï¼ˆå‰èº«ä¸ºClawdbotï¼‰ç†è®ºä¸Šæ˜¯å…è´¹çš„â€”â€”å®ƒåŸºäºMITè®¸å¯è¯å¼€æºï¼Œä½†ç”¨æˆ·ä»¬é€æ¸å‘ç°ï¼Œå…¶å®é™…ä½¿ç”¨æˆæœ¬å¯èƒ½é«˜å¾—ç¦»è°±ã€‚</p>
<p>MacStories åšä¸»è´¹å¾·é‡Œç§‘Â·ç»´è’‚å¥‡ï¼Œé¦–æœˆå°±æ¶ˆè€—äº†<strong>1.8äº¿ä¸ªtoken</strong>ï¼ŒæŒ‰å…‹åŠ³å¾·åå››è¡Œè¯—ï¼ˆClaude Sonnetï¼‰çš„è®¡è´¹æ ‡å‡†ï¼Œè¿™ç¬”å¼€é”€é«˜è¾¾<strong>3600ç¾å…ƒ</strong>ã€‚</p>
<p>è¿˜æœ‰ç”¨æˆ·åé¦ˆï¼Œå› è‡ªåŠ¨åŒ–æµç¨‹å¤±æ§å½¢æˆå¾ªç¯ï¼Œ<strong>å•æ—¥èŠ±è´¹å°±è¶…200ç¾å…ƒ</strong>ã€‚</p>
<p>OpenClaw çœŸå®æˆæœ¬åˆ°åº•å¤šå°‘ï¼Ÿä¸‹æ–‡ä¸ºä½ é€ä¸€æ‹†è§£ã€‚</p>
<hr/>
<h3 data-id="heading-1">OpenClawï¼ˆåŸClawdbotï¼‰æˆæœ¬æ‹†è§£</h3>
<p>æ•´ä½“æˆæœ¬å¯åˆ†ä¸ºä¸‰å¤§ç±»ï¼Œæ ¸å¿ƒå¼€é”€å·®å¼‚ä¸»è¦é›†ä¸­åœ¨åä¸¤ç±»ï¼š</p>
<h4 data-id="heading-2">ä¸€ã€ è½¯ä»¶æˆæœ¬ï¼š0ç¾å…ƒï¼ˆå®Œå…¨å…è´¹ï¼‰</h4>
<p>OpenClawï¼ˆåŸClawdbotï¼‰æœ¬ä½“åŸºäºMITè®¸å¯è¯å¼€æºï¼Œå®Œå…¨å…è´¹ã€‚ä½ å¯è‡ªç”±ä¸‹è½½ã€ä¿®æ”¹ä»£ç ã€éƒ¨ç½²ä½¿ç”¨ï¼Œæ— éœ€ä¸ºè½¯ä»¶æœ¬èº«æ”¯ä»˜ä»»ä½•è´¹ç”¨ã€‚</p>
<h4 data-id="heading-3">äºŒã€ éƒ¨ç½²æ‰˜ç®¡æˆæœ¬ï¼š0-12ç¾å…ƒ/æœˆ</h4>
<p>éƒ¨ç½²æ–¹å¼çµæ´»ï¼Œæˆæœ¬å¯è‡ªä¸»æ§åˆ¶ï¼Œå¤šæ•°ç”¨æˆ·5-12ç¾å…ƒ/æœˆå³å¯æ»¡è¶³éœ€æ±‚ï¼Œç”¨è‡ªæœ‰è®¾å¤‡æœ¬åœ°éƒ¨ç½²å¯å½»åº•çœå»è¯¥ç¬”å¼€é”€ã€‚</p>








































<table><thead><tr><th>æ‰˜ç®¡æ–¹å¼</th><th>é…ç½®è§„æ ¼</th><th>æœˆå‡æˆæœ¬</th></tr></thead><tbody><tr><td>è‡ªæœ‰æœ¬åœ°è®¾å¤‡</td><td>ä¸ªäººç°æœ‰ç”µè„‘/è®¾å¤‡</td><td>0ç¾å…ƒï¼ˆä»…ç”µè´¹ï¼‰</td></tr><tr><td>æ ‘è“æ´¾</td><td>ä¸€æ¬¡æ€§ç¡¬ä»¶æŠ•å…¥50-100ç¾å…ƒ</td><td>0ç¾å…ƒï¼ˆæ— åç»­è´¹ç”¨ï¼‰</td></tr><tr><td>Linode</td><td>1GB å†…å­˜äº‘æœåŠ¡å™¨ï¼ˆVPSï¼‰</td><td>5ç¾å…ƒ</td></tr><tr><td>DigitalOcean</td><td>1GB å†…å­˜äº‘ä¸»æœº</td><td>6ç¾å…ƒ</td></tr><tr><td>DigitalOcean</td><td>2GB å†…å­˜äº‘ä¸»æœº</td><td>12ç¾å…ƒ</td></tr><tr><td>Railway</td><td>æŒ‰å®é™…ä½¿ç”¨é‡è®¡è´¹</td><td>5-20ç¾å…ƒ</td></tr></tbody></table>
<h4 data-id="heading-4">ä¸‰ã€ APIä»¤ç‰Œæˆæœ¬ï¼š10-150ç¾å…ƒ+/æœˆ</h4>
<p>è¿™æ˜¯æˆæœ¬é£™å‡çš„æ ¸å¿ƒç¯èŠ‚ï¼OpenClaw ä¾èµ–å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰è¿è¡Œï¼ŒæŒ‰tokenæ¶ˆè€—è®¡è´¹ï¼Œä¸åŒæ¨¡å‹ä»·å·®æ˜¾è‘—ï¼Œä¹Ÿæ˜¯è¶…æ”¯é‡ç¾åŒºã€‚</p>



































<table><thead><tr><th>æ¨¡å‹æä¾›å•†</th><th>æ¨¡å‹å‹å·</th><th>è¾“å…¥å•ä»·ï¼ˆæ¯ç™¾ä¸‡tokenï¼‰</th><th>è¾“å‡ºå•ä»·ï¼ˆæ¯ç™¾ä¸‡tokenï¼‰</th></tr></thead><tbody><tr><td>Anthropic</td><td>Claude Sonnetï¼ˆåå››è¡Œè¯—ï¼‰</td><td>3ç¾å…ƒ</td><td>15ç¾å…ƒ</td></tr><tr><td>Anthropic</td><td>Claude Opusï¼ˆä½œå“ï¼‰</td><td>5ç¾å…ƒ</td><td>25ç¾å…ƒ</td></tr><tr><td>OpenAI</td><td>GPT-4</td><td>10ç¾å…ƒ</td><td>30ç¾å…ƒ</td></tr><tr><td>OpenAI</td><td>GPT-4 Turbo</td><td>10ç¾å…ƒ</td><td>30ç¾å…ƒ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-5">çœŸå®ç”¨æˆ·æˆæœ¬æ¡ˆä¾‹ï¼ˆè¦†ç›–ä¸åŒä½¿ç”¨åœºæ™¯ï¼‰</h3>
<p>ä¸åŒä½¿ç”¨å¼ºåº¦ä¸‹ï¼Œå¼€é”€å¤©å·®åœ°åˆ«ï¼Œæç«¯åœºæ™¯ç”šè‡³ä¼šé€ æˆå·¨é¢èŠ±è´¹ï¼š</p>
<h4 data-id="heading-6">1. é‡åº¦ç”¨æˆ·ï¼šè´¹å¾·é‡Œç§‘Â·ç»´è’‚å¥‡ï¼ˆMacStories åšä¸»ï¼‰</h4>
<ul>
<li>ä½¿ç”¨åœºæ™¯ï¼šæ¯æ—¥é«˜é¢‘è‡ªåŠ¨åŒ–æ“ä½œï¼ŒæŒç»­äº’åŠ¨æµ‹è¯•</li>
<li>æœˆåº¦tokenæ¶ˆè€—ï¼š1.8äº¿</li>
<li>é¢„ä¼°æœˆæˆæœ¬ï¼šçº¦3600ç¾å…ƒ</li>
<li>å¤‡æ³¨ï¼šå±äºæç«¯æ¡ˆä¾‹ï¼Œä»–å…¨é¢æµ‹è¯•äº†æ‰€æœ‰åŠŸèƒ½ï¼Œä¸”é•¿æœŸè¿è¡Œå¤æ‚è‡ªåŠ¨åŒ–æµç¨‹</li>
</ul>
<h4 data-id="heading-7">2. ä¸­åº¦ç”¨æˆ·ï¼šæ™®é€šå¼€å‘è€…</h4>
<ul>
<li>ä½¿ç”¨åœºæ™¯ï¼šæ—¥å¸¸å·¥ä½œä»»åŠ¡å¤„ç†ï¼Œæ¯æ—¥æŒ‡ä»¤è°ƒç”¨</li>
<li>æœˆåº¦tokenæ¶ˆè€—ï¼š500-1500ä¸‡</li>
<li>é¢„ä¼°æœˆæˆæœ¬ï¼š30-70ç¾å…ƒ</li>
</ul>
<h4 data-id="heading-8">3. è½»åº¦ç”¨æˆ·ï¼šå¶å°”ä½¿ç”¨çš„åŠ©æ‰‹åœºæ™¯</h4>
<ul>
<li>ä½¿ç”¨åœºæ™¯ï¼šæ¯æ—¥ä»…å°‘æ•°æŒ‡ä»¤è°ƒç”¨ï¼Œæ— å¤æ‚æ“ä½œ</li>
<li>æœˆåº¦tokenæ¶ˆè€—ï¼š200-500ä¸‡</li>
<li>é¢„ä¼°æœˆæˆæœ¬ï¼š10-30ç¾å…ƒ</li>
</ul>
<h4 data-id="heading-9">4. æœ€ååœºæ™¯ï¼šè¿›å…¥æ­»å¾ªç¯æ¨¡å¼</h4>
<ul>
<li>é—®é¢˜åŸå› ï¼šè‡ªåŠ¨åŒ–å¾ªç¯æ— é™åˆ¶è¿è¡Œï¼Œæ— æ³•ç»ˆæ­¢</li>
<li>è€—æ—¶ï¼šä»…1å¤©</li>
<li>æˆæœ¬ï¼šè¶…200ç¾å…ƒï¼ˆç”¨æˆ·çœŸå®åé¦ˆï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-10">OpenClaw æˆæœ¬å¿«é€Ÿé£™å‡çš„3å¤§æ ¸å¿ƒåŸå› </h3>
<p>OpenClaw å¹¶éç®€å•èŠå¤©æœºå™¨äººï¼Œè€Œæ˜¯æ™ºèƒ½ä»£ç†ï¼ˆAgentï¼‰ï¼Œå…¶è¿è¡Œé€»è¾‘å†³å®šäº†tokenæ¶ˆè€—è¿œé«˜äºæ™®é€šAIå·¥å…·ï¼š</p>
<h4 data-id="heading-11">1. æ™ºèƒ½ä»£ç†â€œæ€è€ƒâ€è¿‡ç¨‹ï¼ŒæŒç»­æ¶ˆè€—token</h4>
<p>æ™®é€šèŠå¤©æœºå™¨äººæ˜¯â€œé—®-ç­”â€é—­ç¯ï¼Œè€ŒOpenClaw ä½œä¸ºæ™ºèƒ½ä»£ç†ï¼Œå®Œæˆä¸€ä¸ªä»»åŠ¡éœ€å¤šæ­¥æ¨ç†ï¼Œæ¯ä¸€æ­¥éƒ½è€—tokenï¼š</p>
<ul>
<li>è§„åˆ’æ‰§è¡Œæ–¹æ¡ˆï¼ˆè€—tokenï¼‰</li>
<li>æ‹†è§£ä»»åŠ¡æ­¥éª¤ï¼ˆè€—æ›´å¤štokenï¼‰</li>
<li>æ‰§è¡Œæ¯ä¸€æ­¥æ“ä½œï¼ˆæŒç»­è€—tokenï¼‰</li>
<li>éªŒè¯æ‰§è¡Œç»“æœï¼ˆé¢å¤–è€—tokenï¼‰</li>
<li>é”™è¯¯å¤„ç†ä¸é‡è¯•ï¼ˆå åŠ è€—tokenï¼‰
æ¯”å¦‚â€œæŸ¥æ”¶é‚®ä»¶â€è¿™æ ·çš„ç®€å•æŒ‡ä»¤ï¼Œå¯èƒ½è§¦å‘æ•°åæ¬¡APIè°ƒç”¨ï¼Œtokenæ¶ˆè€—æˆå€å¢åŠ ã€‚</li>
</ul>
<h4 data-id="heading-12">2. ä¸Šä¸‹æ–‡çª—å£æŒç»­å ç”¨ï¼Œæ¨é«˜å•æ¬¡è°ƒç”¨æˆæœ¬</h4>
<p>OpenClaw ä¼šä¿ç•™å®Œæ•´å¯¹è¯ä¸Šä¸‹æ–‡ï¼Œå¯¼è‡´ï¼š</p>
<ul>
<li>æ¯æ¬¡è¯·æ±‚éƒ½åŒ…å«å†å²æ¶ˆæ¯ï¼Œå¯¹è¯è¶Šé•¿ï¼Œå•æ¬¡è°ƒç”¨tokenè¶Šå¤š</li>
<li>ç³»ç»Ÿæç¤ºè¯ã€å·¥å…·å®šä¹‰ç­‰å›ºå®šå†…å®¹ï¼Œæ¯æ¬¡è°ƒç”¨éƒ½éœ€æºå¸¦ï¼Œå¢åŠ é¢å¤–å¼€é”€</li>
</ul>
<h4 data-id="heading-13">3. å¤šæ­¥éª¤ä»»åŠ¡ï¼Œæˆæœ¬å‘ˆå€æ•°å åŠ </h4>
<p>å¤æ‚ä»»åŠ¡éœ€æ‹†è§£ä¸ºå¤šç¯èŠ‚æ‰§è¡Œï¼Œæ¯ä¸ªç¯èŠ‚ç‹¬ç«‹è®¡è´¹ï¼Œæ€»æˆæœ¬å¿«é€Ÿç´¯ç§¯ã€‚
ä¾‹ï¼šæŒ‡ä»¤â€œæ•´ç†æœ¬å‘¨æ—¥å†â€ï¼Œéœ€ç»å†6ä¸ªæ­¥éª¤ï¼Œæ¯æ­¥å‡äº§ç”Ÿtokenæ¶ˆè€—ï¼š</p>
<ol>
<li>è¯»å–å½“å‰æ—¥å†æ•°æ®</li>
<li>åˆ†ææ¯ä¸ªæ—¥ç¨‹è¯¦æƒ…</li>
<li>æ’æŸ¥æ—¥ç¨‹å†²çª</li>
<li>ç»™å‡ºæ•´ç†å»ºè®®</li>
<li>æ‰§è¡Œæ—¥å†ä¿®æ”¹æ“ä½œ</li>
<li>åé¦ˆæ‰§è¡Œç»“æœå¹¶ç¡®è®¤</li>
</ol>
<hr/>
<h3 data-id="heading-14">å…³é”®ç–‘é—®ï¼šèƒ½å¦ç”¨Claude Maxè®¢é˜…æŠµæ‰£æˆæœ¬ï¼Ÿ</h3>
<p><strong>ç»å¯¹ä¸èƒ½ï¼</strong> è¿™æ˜¯å¤šæ•°ç”¨æˆ·çš„è¯¯åŒºã€‚
ä½¿ç”¨Claude Pro æˆ– Claude Max è®¢é˜…è´¦å·å¯¹æ¥OpenClawï¼Œ<strong>è¿åAnthropicçš„æœåŠ¡æ¡æ¬¾</strong>â€”â€”è¿™ç±»è®¢é˜…ä»…æ”¯æŒç›´æ¥ä½¿ç”¨Claudeå®˜æ–¹å·¥å…·ï¼Œä¸å…è®¸é€šè¿‡ç¬¬ä¸‰æ–¹å·¥å…·è°ƒç”¨APIã€‚
å¿…é¡»å•ç‹¬ç”³è¯·APIå¯†é’¥ï¼ŒæŒ‰å®é™…tokenæ¶ˆè€—ä»˜è´¹ï¼ˆå³æŒ‰éœ€è®¡è´¹æ¨¡å¼ï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-15">6ä¸ªå®ç”¨æŠ€å·§ï¼Œç²¾å‡†æ§åˆ¶OpenClaw æˆæœ¬ï¼ˆé¿å…è¶…æ”¯ï¼‰</h3>
<h4 data-id="heading-16">1.  è®¾ç½®ç¡¬æ€§æ¶ˆè´¹ä¸Šé™ï¼ˆé¦–è¦æ“ä½œï¼‰</h4>
<p>Anthropic å’Œ OpenAI å‡æ”¯æŒåœ¨åå°è®¾ç½®æœˆåº¦æ¶ˆè´¹é™é¢ï¼Œ<strong>éƒ¨ç½²OpenClawå‰åŠ¡å¿…é…ç½®</strong>ï¼Œä»æºå¤´æœç»å·¨é¢è´¦å•ï¼š</p>
<ul>
<li>Anthropicï¼šæ§åˆ¶å° â†’ è®¾ç½® â†’ ç”¨é‡é™é¢</li>
<li>OpenAIï¼šè´¦å· â†’ è´¦å• â†’ ç”¨é‡é™é¢</li>
</ul>
<h4 data-id="heading-17">2.  æŒ‰ä»»åŠ¡éš¾åº¦åŒ¹é…ä½æˆæœ¬æ¨¡å‹ï¼ˆæ€§ä»·æ¯”é¦–é€‰ï¼‰</h4>
<p>æŒ‰éœ€åˆ‡æ¢æ¨¡å‹ï¼Œé¿å…â€œå¤§æå°ç”¨â€æµªè´¹æˆæœ¬ï¼š</p>
<ul>
<li>ç®€å•æŸ¥è¯¢ï¼ˆæŸ¥ä¿¡æ¯ã€åŸºç¡€é—®ç­”ï¼‰ï¼šç”¨ Claude Haikuï¼ˆæˆæœ¬æœ€ä½ï¼‰</li>
<li>ä¸­åº¦ä»»åŠ¡ï¼ˆæ—¥å¸¸åŠå…¬ã€ç®€å•è‡ªåŠ¨åŒ–ï¼‰ï¼šç”¨ Claude Sonnet</li>
<li>å¤æ‚æ¨ç†ï¼ˆä»£ç å¼€å‘ã€å¤æ‚æµç¨‹è§„åˆ’ï¼‰ï¼šä»…ç”¨ Claude Opus</li>
</ul>
<h4 data-id="heading-18">3.  å€ŸåŠ©Ollamaéƒ¨ç½²æœ¬åœ°æ¨¡å‹ï¼ˆé›¶APIæˆæœ¬ï¼‰</h4>
<p>éæ ¸å¿ƒä»»åŠ¡å¯é€šè¿‡Ollamaéƒ¨ç½²æœ¬åœ°æ¨¡å‹ï¼Œå½»åº•çœå»APIå¼€é”€ï¼Œä»…éœ€æ¥å—æœ¬åœ°æ¨¡å‹ç¨ä½çš„æ•ˆæœï¼š</p>
<ul>
<li>é€‚ç”¨åœºæ™¯ï¼šæ— æ•æ„Ÿä¿¡æ¯çš„ç®€å•æŸ¥è¯¢ã€æœ¬åœ°æµ‹è¯•</li>
<li>ä¼˜åŠ¿ï¼šé›¶tokenæˆæœ¬ï¼Œæ•°æ®éšç§æ›´å¯æ§</li>
</ul>
<h4 data-id="heading-19">4.  ä»åŸºç¡€åŠŸèƒ½èµ·æ­¥ï¼Œé€æ­¥å‡çº§</h4>
<p>å…ˆå¯ç”¨åŸºç¡€æŒ‡ä»¤è°ƒç”¨åŠŸèƒ½ï¼Œç†Ÿæ‚‰æˆæœ¬æ¶ˆè€—è§„å¾‹åï¼Œå†å¼€å¯è‡ªä¸»è‡ªåŠ¨åŒ–åŠŸèƒ½â€”â€”å¤æ‚è‡ªåŠ¨åŒ–é“¾è·¯æ˜¯tokenæ¶ˆè€—â€œå¤§æˆ·â€ï¼Œææ˜“è¶…æ”¯ã€‚</p>
<h4 data-id="heading-20">5.  æ¯æ—¥ç›‘æ§ç”¨é‡ï¼ˆåˆæœŸå¿…åšï¼‰</h4>
<p>éƒ¨ç½²åˆæœŸï¼ˆå‰å‡ å‘¨ï¼‰ï¼Œæ¯æ—¥æŸ¥çœ‹APIåå°ç”¨é‡ï¼š</p>
<ul>
<li>æ’æŸ¥å¼‚å¸¸ç”¨é‡é£™å‡</li>
<li>åŠæ—¶å‘ç°å¤±æ§çš„è‡ªåŠ¨åŒ–å¾ªç¯</li>
<li>è·Ÿè¸ªé«˜è€—æ—¶ä»»åŠ¡çš„æˆæœ¬å æ¯”</li>
</ul>
<h4 data-id="heading-21">6.  å¼€å¯è´¦å•é¢„è­¦ï¼ˆé¿å…è¢«åŠ¨è¶…æ”¯ï¼‰</h4>
<p>é…ç½®ç”¨é‡é¢„è­¦é˜ˆå€¼ï¼ˆå»ºè®®50%ã€75%ã€90%ï¼‰ï¼Œç”¨é‡è¾¾æ ‡æ—¶ä¼šæ”¶åˆ°æé†’ï¼Œæå‰å¹²é¢„é¿å…è¶…é¢ã€‚</p>
<hr/>
<h3 data-id="heading-22">åˆ°åº•å€¼ä¸å€¼å¾—ç”¨ï¼Ÿåˆ†åœºæ™¯åˆ¤æ–­</h3>
<h4 data-id="heading-23">é€‚åˆç”¨OpenClawçš„åœºæ™¯ï¼ˆæ»¡è¶³å…¶ä¸€å³å¯ï¼‰</h4>
<ul>
<li>æ›´çœ‹é‡æ—¶é—´æ•ˆç‡ï¼Œæ„¿æ„ä¸ºèŠ‚çœæ—¶é—´æ”¯ä»˜æˆæœ¬</li>
<li>æœ‰æ˜ç¡®çš„è‡ªåŠ¨åŒ–éœ€æ±‚ï¼Œä¸”ç°æœ‰å·¥å…·æ— æ³•æ»¡è¶³</li>
<li>èƒ½è‡ªä¸»ç®¡ç†éƒ¨ç½²æ¶æ„ï¼ˆæœ¬åœ°/äº‘æœåŠ¡å™¨ï¼‰</li>
<li>ä¼šä¸»åŠ¨è®¾ç½®å¹¶ç›‘æ§æ¶ˆè´¹é™é¢</li>
<li>æ¸…æ¥šå…¶æ½œåœ¨å®‰å…¨é£é™©å¹¶èƒ½åº”å¯¹</li>
</ul>
<h4 data-id="heading-24">å»ºè®®é€‰æ›¿ä»£æ–¹æ¡ˆçš„åœºæ™¯</h4>
<ul>
<li>è¿½æ±‚é¢„ç®—ç¨³å®šï¼Œä¸æ¥å—ä¸å¯é¢„æµ‹çš„å¼€é”€</li>
<li>ä¸æƒ³æŠ•å…¥ç²¾åŠ›ç®¡ç†éƒ¨ç½²ä¸è¿ç»´</li>
<li>éœ€ä¼ä¸šçº§å®‰å…¨ä¿éšœ</li>
<li>åå¥½å›ºå®šæœˆåº¦ä»˜è´¹æ¨¡å¼</li>
</ul>
<hr/>
<h3 data-id="heading-25">æ ¸å¿ƒç»“è®º</h3>
<p>OpenClaw æœ¬ä½“å¼€æºå…è´¹ï¼Œä½†å¤§è¯­è¨€æ¨¡å‹APIè°ƒç”¨æ˜¯æ ¸å¿ƒå¼€é”€ï¼ŒçœŸå®æœˆåº¦æˆæœ¬å¯æŒ‰ä½¿ç”¨å¼ºåº¦åˆ’åˆ†ï¼š</p>
<ul>
<li>æœ€ä½æˆæœ¬ï¼ˆè½»åº¦ä½¿ç”¨ï¼‰ï¼š10-30ç¾å…ƒï¼ˆä»…APIè´¹ç”¨ï¼Œæœ¬åœ°éƒ¨ç½²æ— æ‰˜ç®¡è´¹ï¼‰</li>
<li>å¸¸è§„æˆæœ¬ï¼ˆæ™®é€šå¼€å‘è€…ï¼‰ï¼š30-70ç¾å…ƒï¼ˆAPI+åŸºç¡€æ‰˜ç®¡ï¼‰</li>
<li>é‡åº¦æˆæœ¬ï¼ˆé«˜é¢‘ä½¿ç”¨ï¼‰ï¼š70-150ç¾å…ƒ+</li>
<li>æç«¯æˆæœ¬ï¼ˆå…¨é¢æµ‹è¯•/å¤±æ§åœºæ™¯ï¼‰ï¼š3600ç¾å…ƒ+</li>
</ul>
<p><strong>æ ¸å¿ƒå»ºè®®</strong>ï¼šéƒ¨ç½²å‰å…ˆè®¾ç½®æ¶ˆè´¹ä¸Šé™ï¼ŒåˆæœŸæ¯æ—¥ç›‘æ§ç”¨é‡ï¼Œç»“åˆè‡ªèº«éœ€æ±‚åˆ¤æ–­æˆæœ¬æ˜¯å¦åŒ¹é…ä»·å€¼ï¼Œå†å†³å®šæ˜¯å¦é•¿æœŸä½¿ç”¨ã€‚</p>
<hr/>
<h3 data-id="heading-26">å¸¸è§é—®é¢˜è§£ç­”ï¼ˆFAQï¼‰</h3>
<ol>
<li>
<p>OpenClaw æ˜¯å…è´¹çš„å—ï¼Ÿ
è½¯ä»¶æœ¬ä½“å¼€æºå…è´¹ï¼Œä½†éœ€æ”¯ä»˜å¤§è¯­è¨€æ¨¡å‹APIè´¹ç”¨ï¼ˆé€šå¸¸10-150ç¾å…ƒ/æœˆï¼‰ï¼Œæ‰˜ç®¡è´¹ç”¨å¯é€‰ï¼ˆ0-12ç¾å…ƒ/æœˆï¼‰ï¼Œæ•´ä½“æœ‰å®é™…å¼€é”€ã€‚</p>
</li>
<li>
<p>èƒ½ç”¨Claude Proè®¢é˜…å¯¹æ¥OpenClawå—ï¼Ÿ
ä¸èƒ½ã€‚è¯¥è¡Œä¸ºè¿åAnthropicæœåŠ¡æ¡æ¬¾ï¼Œå¿…é¡»å•ç‹¬ç”³è¯·APIå¯†é’¥ï¼ŒæŒ‰å®é™…tokenæ¶ˆè€—ä»˜è´¹ã€‚</p>
</li>
<li>
<p>OpenClaw æœˆå‡æˆæœ¬å¤šå°‘ï¼Ÿ
å¤šæ•°ç”¨æˆ·æœˆå‡å¼€é”€ï¼šAPIè´¹30-70ç¾å…ƒ+æ‰˜ç®¡è´¹0-12ç¾å…ƒï¼›è½»åº¦ç”¨æˆ·å¯æ§åˆ¶åœ¨10-30ç¾å…ƒï¼Œé‡åº¦ç”¨æˆ·è¶…150ç¾å…ƒã€‚</p>
</li>
<li>
<p>å¦‚ä½•é¿å…OpenClawäº§ç”Ÿé«˜é¢è´¦å•ï¼Ÿ
æ ¸å¿ƒæ–¹æ³•ï¼šè®¾ç½®APIæ¶ˆè´¹ä¸Šé™ã€ç®€å•ä»»åŠ¡ç”¨ä½æˆæœ¬æ¨¡å‹ã€ä»åŸºç¡€åŠŸèƒ½èµ·æ­¥ã€æ¯æ—¥ç›‘æ§ç”¨é‡ã€å¼€å¯è´¦å•é¢„è­¦ã€‚</p>
</li>
<li>
<p>è¿è¡ŒOpenClawæœ€çœé’±çš„æ–¹å¼æ˜¯ä»€ä¹ˆï¼Ÿ
è‡ªæœ‰è®¾å¤‡æœ¬åœ°éƒ¨ç½²ï¼ˆå…æ‰˜ç®¡è´¹ï¼‰+ ç®€å•ä»»åŠ¡ç”¨Claude Haiku + éæ ¸å¿ƒä»»åŠ¡ç”¨Ollamaæœ¬åœ°æ¨¡å‹ï¼Œå¯æœ€å¤§åŒ–å‹ç¼©æˆæœ¬ã€‚</p>
</li>
</ol>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿‘æœŸ6ä¸ªä¼˜è´¨GitHub å¼€æºé¡¹ç›®ï¼Œå€¼å¾—ä¸€çœ‹ã€‚]]></title>    <link>https://juejin.cn/post/7602482736914202659</link>    <guid>https://juejin.cn/post/7602482736914202659</guid>    <pubDate>2026-02-04T03:35:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602482736914202659" data-draft-id="7602466689713209359" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" è¿‘æœŸ6ä¸ªä¼˜è´¨GitHub å¼€æºé¡¹ç›®ï¼Œå€¼å¾—ä¸€çœ‹ã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2026-02-04T03:35:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             è¿‘æœŸ6ä¸ªä¼˜è´¨GitHub å¼€æºé¡¹ç›®ï¼Œå€¼å¾—ä¸€çœ‹ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:35:49.000Z" title="Wed Feb 04 2026 03:35:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">01ã€AI é‡‘èåˆ†æ Agent</h2>
<p>Dexter æ˜¯ä¸€ä¸ªä¸“é—¨æé‡‘èç ”ç©¶çš„ AI Agentã€‚Â </p>
<p>å®ƒåƒä¸ªåˆçº§åˆ†æå¸ˆä¸€æ ·å»å¹²æ´»ï¼Œä½ ç”©ç»™å®ƒä¸€ä¸ªå¤æ‚çš„é‡‘èé—®é¢˜ï¼Œæ¯”å¦‚åˆ†ææŸå…¬å¸è¿™å­£åº¦çš„åˆ©æ¶¦ç‡å˜åŒ–åŸå› ï¼Œå®ƒèƒ½è‡ªå·±æ‹†è§£ä»»åŠ¡å»æŸ¥æ•°æ®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cb0466025804d4c9b1858eebe415d5a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770780949&amp;x-signature=H7JtpSRtG08DcPwyKA%2BWZzhJ%2B48%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒæ¥å…¥äº†å®æ—¶çš„å¸‚åœºæ•°æ®æºï¼Œèƒ½ç¿»é˜…è´¢æŠ¥ã€æŸç›Šè¡¨è¿™äº›ç¡¬æ•°æ®ï¼Œå¹¶ä¸”æœ‰ä¸€å¥—è‡ªæˆ‘æ£€æŸ¥çš„æœºåˆ¶ã€‚</p>
<p>å¦‚æœå®ƒå‘ç°æŸ¥åˆ°çš„æ•°æ®ä¸å¯¹åŠ²ï¼Œè¿˜ä¼šè‡ªå·±åæ€é‡æŸ¥ï¼Œç›´åˆ°æ‹¿å‡ºä¸€ä¸ªæœ‰æ•°æ®æ”¯æ’‘çš„ç»“è®ºï¼Œè€Œä¸æ˜¯åƒæ™®é€šèŠå¤©æœºå™¨äººé‚£æ ·èƒ¡è¯´å…«é“ã€‚</p>
<p>å¯¹äºå¹³æ—¶éœ€è¦åšæŠ•ç ”æˆ–è€…æ·±åº¦å…¬å¸åˆ†æçš„äººæ¥è¯´ï¼Œè¿™ä¸œè¥¿èƒ½æŠŠåŸæœ¬éœ€è¦å¥½å‡ ä¸ªå°æ—¶çš„ç¿»è´¢æŠ¥ã€å¯¹æ•°æ®çš„æ—¶é—´ï¼Œå‹ç¼©åˆ°å‡ åˆ†é’Ÿã€‚å®ƒå°±æ˜¯ä¸€ä¸ªä¸çŸ¥ç–²å€¦ã€ä¸“é—¨ç›¯ç€è´¢åŠ¡æŠ¥è¡¨çœ‹çš„æ•°å­—åŠ©ç†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6daa4c7dda8c4b4eb164a45ab1a94b50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770780949&amp;x-signature=vtwmreRlfG6r81GzoCM7uhd%2FWFk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/virattt/dexter</span>
</code></pre>
<h2 data-id="heading-1">02ã€æ— å‘é‡çš„ RAG</h2>
<p>è¿™ä¸ªé¡¹ç›®ä¸»è¦æ˜¯ä¸ºäº†è§£å†³ RAG é‡Œçš„ä¸€ä¸ªè€å¤§éš¾é—®é¢˜ï¼Œä¼ ç»Ÿçš„å‘é‡æ•°æ®åº“ç”¨èµ·æ¥æ„Ÿè§‰å¾ˆç¬¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff8ce1496a1c4314b60001b20711282f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770780949&amp;x-signature=MBqV0rRZiQzWBWwYquoGWBt2fhc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€šå¸¸æˆ‘ä»¬åš RAG æ˜¯æŠŠæ–‡æ¡£åˆ‡æˆå°å—å­˜èµ·æ¥ï¼Œä½†Â PageIndex è§‰å¾—è¿™æ ·ä¼šæŠŠåŸæœ¬çš„é€»è¾‘æ‰“æ•£ï¼Œæ‰€ä»¥å®ƒæäº†ä¸ªæ— å‘é‡çš„æ–¹æ¡ˆã€‚</p>
<p>å®ƒçš„åšæ³•æ˜¯æ¨¡ä»¿äººç±»çœ‹ä¹¦ï¼Œç»™æ–‡æ¡£å»ºä¸€ä¸ªåƒç›®å½•ä¸€æ ·çš„æ ‘çŠ¶ç»“æ„ã€‚è¿™æ · AI åœ¨æ‰¾èµ„æ–™çš„æ—¶å€™ï¼Œä¸æ˜¯ççŒ«ç¢°æ­»è€—å­åœ°å»åŒ¹é…å…³é”®è¯ï¼Œè€Œæ˜¯èƒ½é¡ºç€é€»è¾‘ç»“æ„ä¸€å±‚å±‚å¾€ä¸‹æ‰¾ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†é‚£äº›é€»è¾‘æ€§å¾ˆå¼ºçš„é•¿æ–‡æ¡£ï¼Œæ¯”å¦‚è´¢æŠ¥æˆ–è€…æŠ€æœ¯æ‰‹å†Œã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f16aa88189e43bcb4af97b67b86a51e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770780949&amp;x-signature=wyBas9O6HttsDPDodbzc%2BuQPn7Y%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç®€å•è¯´ï¼Œå°±æ˜¯è®© AI å˜èªæ˜äº†ï¼Œæ‡‚å¾—æŒ‰ç« èŠ‚å»ç¿»ä¹¦ï¼Œè€Œä¸æ˜¯åªä¼šåœ¨ä¹¦é‡Œä¹±ç¿»é¡µã€‚</p>
<p>å¦‚æœä½ æ·±å— RAG æ€»æ˜¯æ‰¾ä¸å‡†ä¸Šä¸‹æ–‡çš„å›°æ‰°ï¼Œè¿™ä¸œè¥¿ç»å¯¹å€¼å¾—è¯•ä¸€è¯•ï¼Œå®ƒå¼ºè°ƒçš„æ˜¯æ¨ç†è€Œä¸æ˜¯ç®€å•çš„ç›¸ä¼¼åº¦ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/VectifyAI/PageIndex</span>
</code></pre>
<h2 data-id="heading-2">03ã€ä¸º AI ç¼–ç¨‹å¢åŠ è®°å¿†</h2>
<p>è¿™ä¸ªé¡¹ç›®æ˜¯ Steve Yegge å¤§ä½¬å¼€å‘çš„ï¼Œç»™ AI å†™ä»£ç å¢åŠ æŒä¹…è®°å¿†ã€‚</p>
<p>å¹³æ—¶ç”¨ AI å†™ç¨å¾®å¤æ‚ç‚¹çš„é¡¹ç›®ï¼Œå®ƒå¾ˆå®¹æ˜“å†™ç€å†™ç€å°±å¿˜äº†å‰é¢å¹²äº†å•¥ï¼Œæˆ–è€…æŠŠä¸Šä¸‹æ–‡æ’‘çˆ†äº†ï¼ŒBeads å°±æ˜¯ç»™ AI è£…çš„ä¸€ä¸ªå¤–æŒ‚å¤§è„‘ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4f4b1f65e5c4e9da08038dc983e7c54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770780949&amp;x-signature=DTN44tWj%2FDRqjhnv3%2B3tzVmGb6c%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŸºäº Git çš„ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼Œä½†å®ƒæ˜¯ä¸“é—¨ç»™ AI è¯»çš„ã€‚</p>
<p>å®ƒä¼šæŠŠä»»åŠ¡æ‹†è§£å¾—å¾ˆç»†ï¼Œå­˜æˆ JSON æ ¼å¼æ”¾åœ¨ä½ çš„ä»“åº“é‡Œï¼Œè¿™æ · AI å°±èƒ½éšæ—¶çŸ¥é“æˆ‘ç°åœ¨å¹²åˆ°å“ªä¸€æ­¥äº†ã€ä¸‹ä¸€æ­¥è¯¥å¹²å•¥ï¼Œå“ªæ€•ä»»åŠ¡è·¨äº†å¥½å‡ å¤©ä¹Ÿä¸ä¼šæ–­ç‰‡ã€‚</p>
<p>å¦‚æœä½ æƒ³è®© AI å¸®ä½ å¹²é‚£ç§éœ€è¦å¥½å‡ æ­¥æ‰èƒ½æå®šçš„å¤§æ´»å„¿ï¼Œå¯ä»¥çœ‹çœ‹è¿™ä¸ªä¸œè¥¿ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05b0dcb42e624ffc8fb27ff8c82faa9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770780949&amp;x-signature=P8zTrUymn9scAJPC91UeUYUs1yM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/steveyegge/beads</span>
</code></pre>
<h2 data-id="heading-3">04ã€learn-claude-code</h2>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®æ•™ä½ æ‰‹æ“ä¸€ä¸ª AI Agent ã€‚</p>
<p>å®ƒä¸åƒé‚£äº›å¤§æ¡†æ¶æå¾—äº‘é‡Œé›¾é‡Œçš„ï¼Œè€Œè®¤ä¸ºå†™ä¸ª Agent å…¶å®åªè¦åå‡ è¡Œä»£ç å°±å¤Ÿäº†ã€‚å®ƒä»ä¸€ä¸ªæœ€ç®€å•çš„ Bash è„šæœ¬å¼€å§‹ï¼Œä¸€æ­¥æ­¥å¸¦ä½ æŠŠå·¥å…·è°ƒç”¨ã€ä»»åŠ¡è§„åˆ’è¿™äº›æ ¸å¿ƒåŠŸèƒ½åŠ ä¸Šå»ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f449492a4564b48a8e4ba52cc200204~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770780949&amp;x-signature=XQu9WA6UdHOSn%2FGghTXdvUG7EDM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è€Œä¸”ä½ ä¸éœ€è¦å†™ä¸€å †å¤æ‚çš„å·¥ç¨‹ä»£ç ï¼Œæ¨¡å‹æœ¬èº«æ‰æ˜¯æ ¸å¿ƒã€‚</p>
<p>ä½œè€…æŠŠé‚£äº›èŠ±é‡Œèƒ¡å“¨çš„åŒ…è£…éƒ½æ’•æ‰äº†ï¼Œè®©ä½ çœ‹åˆ° Agent çœŸæ­£è·‘èµ·æ¥çš„é€»è¾‘å…¶å®å°±æ˜¯ä¸ªç®€å•çš„å¾ªç¯ï¼šæ€è€ƒã€æ‰§è¡Œå·¥å…·ã€å†æ€è€ƒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efd68b77b2c44aec8b0aec8f392ad287~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770780949&amp;x-signature=y1xFg1KkRXYFWT%2FKXftKJOluWTo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å¦‚æœä½ ä¸€ç›´è§‰å¾—ç°åœ¨çš„ Agent æ¡†æ¶å¤ªé‡ï¼Œæˆ–è€…å•çº¯å¥½å¥‡åƒ Claude Code è¿™ç§ä¸œè¥¿åˆ°åº•æ˜¯æ€ä¹ˆè·‘èµ·æ¥çš„ï¼Œè·Ÿç€è¿™ä¸ªæ•™ç¨‹èµ°ä¸€éï¼ŒåŸºæœ¬å°±èƒ½æŠŠåŸç†æ‘¸é€äº†ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">å¼€æºåœ°å€ï¼šhttps://github.com/shareAI-lab/learn-claude-code
</code></pre>
<h2 data-id="heading-4">05ã€All in One çš„ OSINT å·¥å…·</h2>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®æ˜¯æ Web å¼€å‘å’Œåšå®‰å…¨å®¡è®¡çš„ç¥å™¨ã€‚</p>
<p>ä½ åªè¦æŠŠç½‘å€è¾“è¿›å»ï¼Œå®ƒå°±èƒ½æŠŠè¿™ä¸ªç½‘ç«™æ‰’ä¸ªåº•æœå¤©ï¼šä»æœåŠ¡å™¨ä½ç½®ã€DNS è®°å½•ã€SSL è¯ä¹¦ï¼Œåˆ°ç½‘ç«™ç”¨äº†ä»€ä¹ˆæŠ€æœ¯æ ˆã€ç”šè‡³ç¢³æ’æ”¾é‡ï¼Œå…¨éƒ½èƒ½ç»™ä½ åˆ—å‡ºæ¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d043c2ea0c404eafbb50e32754bced60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770780949&amp;x-signature=ZjM41dZGg%2B1EbFAeX8XRWM%2BMTGA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒæœ€å¼ºçš„åœ°æ–¹åœ¨äºæ•´åˆèƒ½åŠ›ï¼Œä¸ç”¨ä½ å†å»ä¸€ä¸ªä¸ªæ•²å‘½ä»¤è¡Œæˆ–è€…è·‘è„šæœ¬äº†ï¼Œæ‰€æœ‰èƒ½å…¬å¼€è·å–çš„ä¿¡æ¯éƒ½åœ¨ä¸€ä¸ªä»ªè¡¨ç›˜é‡Œå±•ç¤ºã€‚</p>
<p>ä¸ç®¡æ˜¯ä½ æƒ³çœ‹çœ‹ç«å“ç”¨äº†å•¥æŠ€æœ¯ï¼Œè¿˜æ˜¯æƒ³æ£€æŸ¥è‡ªå®¶ç½‘ç«™æœ‰æ²¡æœ‰å®‰å…¨æ¼æ´ï¼Œè¿™ç©æ„å„¿éƒ½èƒ½ä¸€æŠŠæ¢­å“ˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5fa29c59067c48678d92e52a327f1cc7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770780949&amp;x-signature=BQtifytjk29DTxjcOC6TuesByIs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è€Œä¸”å®ƒæ˜¯çº¯å¼€æºçš„ï¼Œç•Œé¢åšå¾—è¿˜æŒºå¥½çœ‹ï¼Œä¸æƒ³è‡ªå·±éƒ¨ç½²çš„è¯ä¹Ÿæœ‰ç°æˆçš„æ¼”ç¤ºç«™å¯ä»¥ç”¨ã€‚</p>
<p>å¯¹äºé‚£ç§éœ€è¦å¿«é€Ÿæ‘¸æ¸…ä¸€ä¸ªç½‘ç«™åº•ç»†çš„åœºæ™¯ï¼Œè¿™å·¥å…·èƒ½çœä¸‹å¤§æ¦‚ 90% çš„è°ƒç ”æ—¶é—´ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">å¼€æºåœ°å€ï¼šhttps://github.com/Lissy93/web-check
</code></pre>
<h2 data-id="heading-5">06ã€å…¶å®ƒå¼€æºé¡¹ç›®</h2>
<p>ä¸‹é¢è¿™å‡ ä¸ªæ˜¯æœ¬æœˆ Star å¢é•¿æ¯”è¾ƒå¤šçš„å¼€æºé¡¹ç›®ï¼Œä½†æ˜¯ä¹‹å‰éƒ½æåˆ°è¿‡ã€‚ä¸å†è¯¦ç»†ä»‹ç»äº†ï¼Œæ„Ÿå…´è¶£å¯ä»¥ç›´æ¥å»é¡¹ç›®ä¸»é¡µçœ‹ã€‚</p>
<p><strong>â‘  UI-TARS-desktop</strong></p>
<p>è¿™ç©æ„å„¿æ˜¯å­—èŠ‚è·³åŠ¨æçš„ä¸€ä¸ªæ¡Œé¢ç«¯ AI Agentã€‚</p>
<p>ç®€å•è¯´å°±æ˜¯ç»™ç”µè„‘è£…äº†ä¸ªå¤§è„‘å’Œæ‰‹ï¼Œå®ƒèƒ½ç›´æ¥çœ‹æ‡‚ä½ å±å¹•ä¸Šæ˜¯å•¥ï¼Œç„¶åå¸®ä½ æ“ä½œé¼ æ ‡é”®ç›˜ï¼Œä¸ç®¡æ˜¯æœ¬åœ°ç”µè„‘è¿˜æ˜¯è¿œç¨‹æ¡Œé¢ã€æµè§ˆå™¨éƒ½èƒ½æ§åˆ¶ã€‚</p>
<p>å¦‚æœä½ æƒ³ä½“éªŒä¸€ä¸‹é‚£ç§è·Ÿç”µè„‘è¯´å¥è¯ï¼Œå®ƒå°±è‡ªå·±æŠŠæ´»å¹²äº†çš„æ„Ÿè§‰ï¼Œå¯ä»¥è¯•è¯•è¿™ä¸ªã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/bytedance/UI-TARS-desktop</span>
</code></pre>
<p><strong>â‘¡ awesome-claude-skills</strong></p>
<p>ä¸€ä¸ª Claude Skill åˆé›†ï¼Œå¤§æ¦‚æœ‰ 70 ä¸ªå·¦å³ã€‚æœ‰ 9 å¤§ç±»ï¼ŒåŒ…æ‹¬æ–‡æ¡£å¤„ç†ã€å¼€å‘å·¥å…·ã€æ•°æ®åˆ†æã€å¸‚åœºè¥é”€ä¹‹ç±»çš„ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">å¼€æºåœ°å€ï¼šhttps://github.com/ComposioHQ/awesome-claude-skills
</code></pre>
<p><strong>â‘¢ remotion</strong></p>
<p>å®ƒæ˜¯ç”¨ React ä»£ç æ¥åšè§†é¢‘çš„ã€‚</p>
<p>ä¸ç”¨ç›´æ¥åœ¨å‰ªè¾‘è½¯ä»¶é‡Œæ‹–æ¥æ‹–å»ï¼ŒæŠŠè§†é¢‘å½“æˆç½‘é¡µç»„ä»¶æ¥å†™ï¼Œæœ€åæ¸²æŸ“æˆ MP4ã€‚</p>
<p>ç‰¹åˆ«é€‚åˆé‚£ç§éœ€è¦æ‰¹é‡ç”Ÿæˆçš„ã€æˆ–è€…è·Ÿç€æ•°æ®å˜æ ·å­çš„è§†é¢‘ï¼Œç¨‹åºå‘˜ä¸Šæ‰‹åº”è¯¥ä¼šè§‰å¾—å¾ˆäº²åˆ‡ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/remotion-dev/remotion</span>
</code></pre>
<p>**â‘£ opencode  **</p>
<p>å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ Claude Code çš„ä¸€ä¸ªå¼€æºå¹³æ›¿ã€‚</p>
<p>å®ƒå°±æ˜¯ä¸€ä¸ªåœ¨ç»ˆç«¯é‡Œè·‘çš„ AI ç¼–ç¨‹åŠ©æ‰‹ï¼Œä½ å¯ä»¥ç»™å®ƒæ¥å„ç§å¤§æ¨¡å‹ï¼ŒOpenAIã€Claude æˆ–è€…æœ¬åœ°æ¨¡å‹éƒ½è¡Œã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/anomalyco/opencode</span>
</code></pre>
<p>**â‘¤ superpowersÂ **</p>
<p>ä½œè€…è§‰å¾—ç°åœ¨çš„ AI æ‹¿åˆ°éœ€æ±‚å°±ç›´æ¥ç‹‚å†™ä»£ç å¤ªå®¹æ˜“ç¿»è½¦äº†ï¼Œæ‰€ä»¥æäº†è¿™ä¸ªæ¡†æ¶ã€‚Â </p>
<p>å®ƒä¼šå¼ºè¿« AI åœ¨å†™ä»£ç å‰å…ˆè·Ÿä½ å¯¹å‡ è½®ï¼ŒæŠŠéœ€æ±‚ç†æ¸…æ¥šï¼Œç„¶åå…ˆå†™è®¾è®¡æ–‡æ¡£ã€å†™æµ‹è¯•ï¼Œæœ€åæ‰å†™å®ç°ä»£ç ï¼Œå°±åƒæ˜¯ç¡¬æŠŠä¸€ä¸ªå®ä¹ ç”Ÿ AI è°ƒæ•™æˆäº†æ‡‚ TDD çš„é«˜çº§å·¥ç¨‹å¸ˆã€‚Â </p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/obra/superpowersÂ </span>
</code></pre>
<p>**â‘¥ anthropics/skillsÂ **</p>
<p>è¿™æ˜¯ Anthropic å®˜æ–¹æ”¾å‡ºæ¥çš„ Skills èµ„æºã€‚Â </p>
<p>é‡Œé¢æ˜¯ä¸€å †æ ‡å‡†çš„ Agent Skills ä»£ç å®ç°ï¼Œæ¯”å¦‚æ€ä¹ˆè®© AI å®Œç¾åœ°è¯»å– PDFã€æ€ä¹ˆæ“ä½œ Google æ–‡æ¡£ä¹‹ç±»çš„ã€‚Â </p>
<p>è™½ç„¶å®˜æ–¹è¯´æ˜¯æ¼”ç¤ºç”¨çš„ï¼Œä½†ä»£ç è´¨é‡å¾ˆé«˜ï¼Œå¦‚æœä½ è‡ªå·±åœ¨å¼€å‘ Agentï¼Œæƒ³è®©å®ƒå…·å¤‡æŸäº›å…·ä½“çš„æ“ä½œèƒ½åŠ›ï¼Œç›´æ¥å»æŠ„è¿™é‡Œçš„ä½œä¸šæœ€ç¨³ã€‚Â </p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/anthropics/skillsÂ </span>
</code></pre>
<p>**â‘¦ vibe-kanbanÂ **</p>
<p>è¿™ä¸œè¥¿æ˜¯ä¸€ä¸ªä¸“é—¨ç»™ AI ç”¨çš„çœ‹æ¿å·¥å…·ã€‚Â </p>
<p>å¹³æ—¶æˆ‘ä»¬ç”¨çœ‹æ¿æ˜¯ç®¡äººçš„ï¼Œè¿™ä¸ªæ˜¯ç”¨æ¥ç®¡ AI çš„ã€‚ä½ å¯ä»¥åœ¨ä¸Šé¢ç»™ AI æ´¾æ´»ï¼Œå®‰æ’ä»»åŠ¡æµï¼Œç”šè‡³è®©å¥½å‡ ä¸ª AI Agent åä½œå†™ä»£ç ã€‚</p>
<p>å¦‚æœä½ è§‰å¾—å…‰é å¯¹è¯æ¡†æŒ‡æŒ¥ AI å®¹æ˜“ä¹±ï¼Œç”¨è¿™ä¸ªçœ‹æ¿å°±èƒ½æŠŠä»»åŠ¡çŠ¶æ€è¿™ä¸€å—æ‹¿æå¾—æ­»æ­»çš„ã€‚Â </p>
<pre><code class="hljs language-bash" lang="bash">å¼€æºåœ°å€ï¼šhttps://github.com/BloopAI/vibe-kanbanÂ 
</code></pre>
<p>**â‘§ memosÂ **</p>
<p>ä¸€ä¸ªå¾ˆåƒ Flomo æˆ–è€…æ—©æœŸå¾®åšçš„å¼€æºç¬”è®°å·¥å…·ï¼Œä¸»æ‰“å°±æ˜¯è½»é‡å’Œéšç§ã€‚</p>
<p>ä½ å¯ä»¥è‡ªå·±éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šï¼Œæ•°æ®å®Œå…¨åœ¨è‡ªå·±æ‰‹é‡Œã€‚ç•Œé¢éå¸¸å¹²å‡€ï¼Œæ”¯æŒ Markdownï¼Œé€‚åˆå¹³æ—¶éšæ‰‹è®°ç‚¹ç¢ç‰‡åŒ–çš„æƒ³æ³•æˆ–è€…åæ§½ï¼Œæ²¡æœ‰ä»€ä¹ˆèŠ±é‡Œèƒ¡å“¨çš„ç¤¾äº¤æ¨èï¼Œå°±æ˜¯ä¸€ä¸ªçº¯ç²¹çš„ç§äººç¢ç¢å¿µç©ºé—´ã€‚Â </p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šÂ https:<span class="hljs-comment">//github.com/usememos/memos</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¯‘-Kotlin åç¨‹è°ƒåº¦å™¨å®Œå…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7602544700474998794</link>    <guid>https://juejin.cn/post/7602544700474998794</guid>    <pubDate>2026-02-04T03:38:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602544700474998794" data-draft-id="7602534556076376090" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¯‘-Kotlin åç¨‹è°ƒåº¦å™¨å®Œå…¨æŒ‡å—"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-04T03:38:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="simplepeng"/> <meta itemprop="url" content="https://juejin.cn/user/641770519265832"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¯‘-Kotlin åç¨‹è°ƒåº¦å™¨å®Œå…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/641770519265832/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    simplepeng
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:38:33.000Z" title="Wed Feb 04 2026 03:38:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Introduction ä»‹ç»</h2>
<p>Coroutine dispatchers are fundamental components in Kotlinâ€™s coroutines framework that determine which thread or threads a coroutine uses for its execution. Understanding dispatchers is crucial for writing efficient, responsive, and well-structured concurrent code.<br/>
åç¨‹è°ƒåº¦å™¨æ˜¯ Kotlin åç¨‹æ¡†æ¶ä¸­çš„åŸºç¡€ç»„ä»¶ï¼Œå†³å®šåç¨‹åœ¨æ‰§è¡Œæ—¶ä½¿ç”¨å“ªä¸ªçº¿ç¨‹æˆ–å“ªäº›çº¿ç¨‹ã€‚ç†è§£è°ƒåº¦å™¨å¯¹äºç¼–å†™é«˜æ•ˆã€å“åº”è¿…é€Ÿä¸”ç»“æ„è‰¯å¥½çš„å¹¶å‘ä»£ç è‡³å…³é‡è¦ã€‚</p>
<h2 data-id="heading-1">What is a CoroutineDispatcher? ä»€ä¹ˆæ˜¯ CoroutineDispatcherï¼Ÿ</h2>
<p>A <code>CoroutineDispatcher</code> is a service that determines which thread or threads a coroutine runs on. Itâ€™s part of the coroutine context and controls coroutine execution by dispatching coroutines to appropriate threads from a thread pool.<br/>
<code>CoroutineDispatcher</code> æ˜¯ä¸€ç§æœåŠ¡ï¼Œå®ƒå†³å®šåç¨‹åœ¨å“ªä¸ªçº¿ç¨‹æˆ–å“ªäº›çº¿ç¨‹ä¸Šè¿è¡Œã€‚å®ƒæ˜¯åç¨‹ä¸Šä¸‹æ–‡çš„ä¸€éƒ¨åˆ†ï¼Œé€šè¿‡å°†åç¨‹ä»çº¿ç¨‹æ± è°ƒåº¦åˆ°åˆé€‚çš„çº¿ç¨‹æ¥æ§åˆ¶åç¨‹çš„æ‰§è¡Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5029ea974664042990a6f79df3e6b82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2ltcGxlcGVuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781116&amp;x-signature=7q6Xe8lm9k7jkQp40GSY8u2UkRE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">The Four Main Dispatchers å››ä¸ªä¸»è¦çš„è°ƒåº¦å™¨</h2>
<p>Kotlin provides four built-in dispatchers through the <code>Dispatchers</code> object, each optimized for different use cases.<br/>
Kotlin é€šè¿‡ <code>Dispatchers</code> å¯¹è±¡æä¾›äº†å››ä¸ªå†…ç½®è°ƒåº¦å™¨ï¼Œæ¯ä¸ªéƒ½é’ˆå¯¹ä¸åŒçš„ç”¨ä¾‹è¿›è¡Œäº†ä¼˜åŒ–ã€‚</p>
<h2 data-id="heading-3">1. Dispatchers.Default</h2>
<p><strong>Purpose</strong>: CPU- intensive computations<br/>
ç”¨é€”ï¼šCPU å¯†é›†å‹è®¡ç®—</p>
<p>The Default dispatcher is backed by a shared pool of threads whose size equals the number of CPU cores (with a minimum of 2). Itâ€™s optimized for CPU-bound work that doesnâ€™t block threads.<br/>
Default è°ƒåº¦å™¨ç”±ä¸€ä¸ªå…±äº«çº¿ç¨‹æ± æä¾›æ”¯æŒï¼Œçº¿ç¨‹æ•°é‡ç­‰äº CPU æ ¸å¿ƒæ•°ï¼ˆæœ€å°‘ä¸º 2ï¼‰ã€‚å®ƒé’ˆå¯¹ä¸é˜»å¡çº¿ç¨‹çš„ CPU å¯†é›†å‹å·¥ä½œè¿›è¡Œäº†ä¼˜åŒ–ã€‚</p>
<p><strong>Use Cases</strong>: ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>Complex calculations  å¤æ‚è®¡ç®—</li>
<li>Data processing  æ•°æ®å¤„ç†</li>
<li>Sorting large collections  å¯¹å¤§å‹é›†åˆè¿›è¡Œæ’åº</li>
<li>Image manipulation  å›¾åƒå¤„ç†</li>
<li>JSON parsing  JSON è§£æ</li>
</ul>
<p><strong>Example</strong>: ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-c" lang="c">launch(Dispatchers.Default) {
    val result = performHeavyComputation()
    println(â€Computation complete: $resultâ€)
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3794ca1d73541e1bc1f18bf97b67d0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2ltcGxlcGVuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781116&amp;x-signature=SkH18F92cPa0i%2BqRCFBQwQCyn5c%3D" alt="" loading="lazy"/></p>
<p><strong>Thread Pool Size</strong>: Defaults to the number of CPU cores, configurable via system property <code>kotlinx.coroutines.default.parallelism</code>.<br/>
çº¿ç¨‹æ± å¤§å°ï¼šé»˜è®¤ä¸º CPU å†…æ ¸æ•°ï¼Œå¯é€šè¿‡ç³»ç»Ÿå±æ€§ <code>kotlinx.coroutines.default.parallelism</code> é…ç½®ã€‚</p>
<h2 data-id="heading-4">2. Dispatchers.IO</h2>
<p><strong>Purpose</strong>: I/O operations and blocking tasks<br/>
ç›®çš„ï¼šI/O æ“ä½œå’Œé˜»å¡ä»»åŠ¡</p>
<p>The IO dispatcher is designed for offloading blocking I/O operations to a shared pool of threads. It has elastic scaling capabilities and can create additional threads on demand.<br/>
IO è°ƒåº¦å™¨ç”¨äºå°†é˜»å¡æ€§ I/O æ“ä½œå¸è½½åˆ°ä¸€ä¸ªå…±äº«çš„çº¿ç¨‹æ± ã€‚å®ƒå…·æœ‰å¼¹æ€§æ‰©å±•èƒ½åŠ›ï¼Œèƒ½å¤Ÿæ ¹æ®éœ€è¦åˆ›å»ºé¢å¤–çš„çº¿ç¨‹ã€‚</p>
<p><strong>Use Cases</strong>:ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>Network requests  ç½‘ç»œè¯·æ±‚</li>
<li>Database operations  æ•°æ®åº“æ“ä½œ</li>
<li>File I/O  æ–‡ä»¶è¾“å…¥/è¾“å‡º</li>
<li>Blocking API calls  é˜»å¡çš„ API è°ƒç”¨</li>
<li>Reading/writing to disk   è¯»å†™ç£ç›˜</li>
</ul>
<p><strong>Example</strong>:</p>
<pre><code class="hljs language-c" lang="c">withContext(Dispatchers.IO) {
    val data = database.query()
    val file = File(â€output.txtâ€).readText()
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4caa3b9c6824d119127f255b0be9606~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2ltcGxlcGVuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781116&amp;x-signature=fzz7stqnoPpJJ%2F0BnW2weoOGrms%3D" alt="" loading="lazy"/></p>
<p><strong>Key Features</strong>: ä¸»è¦ç‰¹æ€§ï¼š</p>
<ul>
<li>Default parallelism: 64 threads or number of CPU cores (whichever is larger)<br/>
é»˜è®¤å¹¶è¡Œåº¦ï¼š64 çº¿ç¨‹æˆ– CPU æ ¸å¿ƒæ•°ï¼ˆä»¥è¾ƒå¤§è€…ä¸ºå‡†ï¼‰</li>
<li>Configurable via <code>kotlinx.coroutines.io.parallelism</code> system property<br/>
å¯é€šè¿‡ <code>kotlinx.coroutines.io.parallelism</code> ç³»ç»Ÿå±æ€§é…ç½®</li>
<li>Shares threads with Dispatchers.Default<br/>
ä¸ Dispatchers.Default å…±äº«çº¿ç¨‹</li>
<li>Elastic: can exceed default parallelism when using <code>limitedParallelism()</code><br/>
å¼¹æ€§ï¼šåœ¨ä½¿ç”¨ <code>limitedParallelism()</code> æ—¶å¯è¶…è¿‡é»˜è®¤å¹¶è¡Œåº¦</li>
</ul>
<h2 data-id="heading-5">3. Dispatchers.Main</h2>
<p><strong>Purpose</strong>: UI operations (Android, JavaFX, Swing)<br/>
ç›®çš„ï¼šUI æ“ä½œï¼ˆAndroidã€JavaFXã€Swingï¼‰</p>
<p>The Main dispatcher is confined to the main/UI thread. Itâ€™s primarily used in UI applications where updates must occur on the main thread.<br/>
Main è°ƒåº¦å™¨é™å®šåœ¨ä¸»/UI çº¿ç¨‹ã€‚å®ƒä¸»è¦ç”¨äºéœ€è¦åœ¨ä¸»çº¿ç¨‹ä¸Šè¿›è¡Œæ›´æ–°çš„ UI åº”ç”¨ä¸­ã€‚</p>
<p><strong>Use Cases</strong>: ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>Updating UI components  æ›´æ–° UI ç»„ä»¶</li>
<li>Handling user interactions  å¤„ç†ç”¨æˆ·äº¤äº’</li>
<li>Animation updates  åŠ¨ç”»æ›´æ–°</li>
<li>View modifications  æŸ¥çœ‹ä¿®æ”¹</li>
</ul>
<p><strong>Example (Android)</strong>:</p>
<pre><code class="hljs language-c" lang="c">launch(Dispatchers.Main) {
    val data = withContext(Dispatchers.IO) {
        fetchDataFromNetwork()
    }
    textView.text = data <span class="hljs-comment">// Update UI on Main thread</span>
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f33fd71b006b4aac8efe5888db474d89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2ltcGxlcGVuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781116&amp;x-signature=ephQKXy2qvdmjyvRdO%2BYh09B55w%3D" alt="" loading="lazy"/></p>
<p><strong>Platform- Specific</strong>: ç‰¹å®šäºå¹³å°çš„ï¼š</p>
<ul>
<li>Android: Uses the UI thread looper<br/>
Androidï¼šä½¿ç”¨ UI çº¿ç¨‹çš„ looper</li>
<li>JavaFX: Uses JavaFX Application thread<br/>
JavaFXï¼šä½¿ç”¨ JavaFX åº”ç”¨çº¿ç¨‹</li>
<li>Swing: Uses Swing EDT (Event Dispatch Thread)<br/>
Swingï¼šä½¿ç”¨ Swing EDTï¼ˆäº‹ä»¶åˆ†å‘çº¿ç¨‹ï¼‰</li>
</ul>
<h2 data-id="heading-6">4. Dispatchers.Unconfined</h2>
<p><strong>Purpose</strong>: Special dispatcher that doesnâ€™t confine coroutine execution<br/>
ç”¨é€”ï¼šä¸€ç§ç‰¹æ®Šçš„è°ƒåº¦å™¨ï¼Œä¸ä¼šçº¦æŸåç¨‹çš„æ‰§è¡Œçº¿ç¨‹</p>
<p>The Unconfined dispatcher starts coroutine execution in the caller thread, but only until the first suspension point. After suspension, it resumes in whatever thread the suspending function resumed in.<br/>
Unconfined è°ƒåº¦å™¨åœ¨è°ƒç”¨çº¿ç¨‹å¯åŠ¨åç¨‹çš„æ‰§è¡Œï¼Œä½†ä»…æŒç»­åˆ°ç¬¬ä¸€ä¸ªæŒ‚èµ·ç‚¹ã€‚æŒ‚èµ·åï¼Œå®ƒä¼šåœ¨æŒ‚èµ·å‡½æ•°æ¢å¤æ—¶æ‰€ä½¿ç”¨çš„çº¿ç¨‹ä¸Šç»§ç»­æ‰§è¡Œã€‚</p>
<p><strong>Use Cases</strong>: ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>Advanced scenarios requiring specific threading behavior<br/>
éœ€è¦ç‰¹å®šçº¿ç¨‹è¡Œä¸ºçš„é«˜çº§åœºæ™¯</li>
<li>Performance- critical code where thread switching overhead matters<br/>
å¯¹æ€§èƒ½éå¸¸æ•æ„Ÿã€çº¿ç¨‹åˆ‡æ¢å¼€é”€é‡è¦çš„ä»£ç </li>
<li>Testing scenarios æµ‹è¯•åœºæ™¯</li>
</ul>
<p><strong>Example</strong>:</p>
<pre><code class="hljs language-c" lang="c">launch(Dispatchers.Unconfined) {
    println(â€Thread <span class="hljs-number">1</span>: ${Thread.currentThread().name}â€)
    delay(<span class="hljs-number">100</span>)
    println(â€Thread <span class="hljs-number">2</span>: ${Thread.currentThread().name}â€) <span class="hljs-comment">// Likely different!</span>
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d8fe367a6484220bf9be4bc92e6df16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2ltcGxlcGVuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781116&amp;x-signature=ehTFb2sUzENK9AMK4MHWzkiywzs%3D" alt="" loading="lazy"/></p>
<p><strong>Warning</strong>: Not recommended for general use. Can lead to unpredictable threading behavior and stack overflow in certain cases.<br/>
è­¦å‘Šï¼šä¸æ¨èä¸€èˆ¬æ€§ä½¿ç”¨ã€‚åœ¨æŸäº›æƒ…å†µä¸‹å¯èƒ½å¯¼è‡´ä¸å¯é¢„æµ‹çš„çº¿ç¨‹è¡Œä¸ºå’Œæ ˆæº¢å‡ºã€‚</p>
<h2 data-id="heading-7">Thread Sharing Between Dispatchers è°ƒåº¦å™¨ä¹‹é—´çš„çº¿ç¨‹å…±äº«</h2>
<p>One of the key implementation details is that Dispatchers.Default and Dispatchers.IO share threads for efficiency.<br/>
å®ç°ç»†èŠ‚çš„ä¸€ä¸ªå…³é”®ç‚¹æ˜¯ Dispatchers.Default å’Œ Dispatchers.IO ä¸ºäº†æ•ˆç‡è€Œå…±äº«çº¿ç¨‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7141f1bea3a84e9da742d742a506585e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2ltcGxlcGVuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781116&amp;x-signature=HyPXa4VOxUgsQ4AkKKUySKV8hlM%3D" alt="" loading="lazy"/></p>
<p>This means switching from Default to IO context often doesnâ€™t result in actual thread switching, which is an optimization for performance.<br/>
è¿™æ„å‘³ç€ä» Default åˆ‡æ¢åˆ° IO ä¸Šä¸‹æ–‡é€šå¸¸ä¸ä¼šå¯¼è‡´å®é™…çš„çº¿ç¨‹åˆ‡æ¢ï¼Œè¿™æ˜¯ä¸€ç§ç”¨äºæå‡æ€§èƒ½çš„ä¼˜åŒ–ã€‚</p>
<h2 data-id="heading-8">Advanced: limitedParallelism()</h2>
<p>The <code>limitedParallelism()</code> extension function creates a view of a dispatcher with limited parallelism, useful for resource- constrained operations.<br/>
<code>limitedParallelism()</code> æ‰©å±•å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªå¹¶è¡Œåº¦å—é™çš„è°ƒåº¦å™¨è§†å›¾ï¼Œé€‚ç”¨äºå—èµ„æºé™åˆ¶çš„æ“ä½œã€‚</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// Create a dispatcher limited to 100 threads for MySQL</span>
val mysqlDispatcher = Dispatchers.IO.limitedParallelism(<span class="hljs-number">100</span>)

<span class="hljs-comment">// Create a dispatcher limited to 60 threads for MongoDB</span>
val mongoDbDispatcher = Dispatchers.IO.limitedParallelism(<span class="hljs-number">60</span>)
<span class="hljs-comment">// These share resources with Dispatchers.IO but have their own limits</span>
launch(mysqlDispatcher) {
    <span class="hljs-comment">// MySQL operations with up to 100 concurrent threads</span>
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2a4e4f97cd049048a907584a7b522e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2ltcGxlcGVuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781116&amp;x-signature=0kVc4G2UD0F1Saif5CpUXLfQXdY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">Elasticity Property å¼¹æ€§ç‰¹æ€§</h2>
<p>Dispatchers.IO has a unique elasticity property: views created with <code>limitedParallelism()</code> are not restricted by the IO dispatcherâ€™s default parallelism limit. This allows for fine- grained control over resource allocation while still sharing the underlying thread pool.<br/>
Dispatchers.IO å…·æœ‰ç‹¬ç‰¹çš„å¼¹æ€§å±æ€§ï¼šç”¨ <code>limitedParallelism()</code> åˆ›å»ºçš„è§†å›¾ä¸å— IO è°ƒåº¦å™¨é»˜è®¤å¹¶è¡Œåº¦é™åˆ¶çš„çº¦æŸã€‚è¿™å…è®¸åœ¨ä»ç„¶å…±äº«åº•å±‚çº¿ç¨‹æ± çš„åŒæ—¶å¯¹èµ„æºåˆ†é…è¿›è¡Œç»†ç²’åº¦æ§åˆ¶ã€‚</p>
<h2 data-id="heading-10">Dispatcher Selection Decision Tree è°ƒåº¦å™¨é€‰æ‹©å†³ç­–æ ‘</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad686653aef04db2be25a7d868bf0acf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2ltcGxlcGVuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781116&amp;x-signature=kwpT79FIH7Ggexa4QaAsT%2FDeebE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-11">Best Practices æœ€ä½³å®è·µ</h2>
<h2 data-id="heading-12">1. Choose the Right Dispatcher 1. é€‰æ‹©åˆé€‚çš„è°ƒåº¦å™¨</h2>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// âŒ Wrong: CPU-intensive work on IO</span>
launch(Dispatchers.IO) {
    val result = (<span class="hljs-number">1.</span><span class="hljs-number">.1000000</span>).<span class="hljs-built_in">map</span> { it * it }.sum()
}

<span class="hljs-comment">// âœ… Correct: CPU-intensive work on Default</span>
launch(Dispatchers.Default) {
    val result = (<span class="hljs-number">1.</span><span class="hljs-number">.1000000</span>).<span class="hljs-built_in">map</span> { it * it }.sum()
}
<span class="hljs-comment">// âŒ Wrong: Blocking I/O on Default</span>
launch(Dispatchers.Default) {
    val file = File(<span class="hljs-string">"large.txt"</span>).readText()
}
<span class="hljs-comment">// âœ… Correct: Blocking I/O on IO</span>
launch(Dispatchers.IO) {
    val file = File(<span class="hljs-string">"large.txt"</span>).readText()
}
</code></pre>
<h2 data-id="heading-13">2. Minimize Dispatcher Switching 2. å°†è°ƒåº¦ç¨‹åºåˆ‡æ¢é™åˆ°æœ€ä½</h2>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// âŒ Inefficient: Multiple context switches</span>
suspend fun <span class="hljs-title function_">loadData</span><span class="hljs-params">()</span> = withContext(Dispatchers.IO) {
    val data1 = withContext(Dispatchers.Default) { 
        process1() 
    }
    val data2 = withContext(Dispatchers.Default) { 
        process2() 
    }
    combine(data1, data2)
}
<span class="hljs-comment">// âœ… Better: Batch context switches</span>
suspend fun loadData() = withContext(Dispatchers.IO) {
    val processedData = withContext(Dispatchers.Default) {
        val data1 = process1()
        val data2 = process2()
        listOf(data1, data2)
    }
    combine(processedData[<span class="hljs-number">0</span>], processedData[<span class="hljs-number">1</span>])
}
</code></pre>
<h2 data-id="heading-14">3. Use limitedParallelism for Resource Control 3. ä½¿ç”¨ limitedParallelism æ§åˆ¶èµ„æº</h2>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DatabaseManager</span> {</span>
    <span class="hljs-comment">// Limit concurrent database connections</span>
    private val dbDispatcher = Dispatchers.IO.limitedParallelism(<span class="hljs-number">10</span>)
    
    suspend fun query(sql: String) = withContext(dbDispatcher) {
        <span class="hljs-comment">// Only 10 concurrent queries allowed</span>
        database.execute(sql)
    }
}
</code></pre>
<h2 data-id="heading-15">4. Donâ€™t Block Dispatchers.Default 4. ä¸è¦é˜»å¡ Dispatchers.Default</h2>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// âŒ Wrong: Blocking Default dispatcher</span>
launch(Dispatchers.Default) {
    Thread.sleep(<span class="hljs-number">1000</span>) <span class="hljs-comment">// Blocks a worker thread!</span>
}
<span class="hljs-comment">// âœ… Correct: Use delay or move to IO</span>
launch(Dispatchers.Default) {
    delay(<span class="hljs-number">1000</span>) <span class="hljs-comment">// Suspends without blocking</span>
}
<span class="hljs-comment">// Or for actual blocking:</span>
launch(Dispatchers.IO) {
    Thread.sleep(<span class="hljs-number">1000</span>) <span class="hljs-comment">// OK on IO dispatcher</span>
}
</code></pre>
<h2 data-id="heading-16">Dispatcher Lifecycle  Dispatcher ç”Ÿå‘½å‘¨æœŸ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a3a2fe79098450c96194b1a6ec54946~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2ltcGxlcGVuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781116&amp;x-signature=DPtAZ5LFuzpTC0PQ3cRJA43Ncz4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-17">Shutdown å…³é—­</h2>
<p>The <code>Dispatchers.shutdown()</code> function is a delicate API that stops all built-in dispatchers:<br/>
<code>Dispatchers.shutdown()</code> å‡½æ•°æ˜¯ä¸€ä¸ªéå¸¸æ•æ„Ÿçš„ APIï¼Œå®ƒä¼šåœæ­¢æ‰€æœ‰å†…ç½®çš„è°ƒåº¦å™¨ï¼š</p>
<pre><code class="hljs language-c" lang="c">@DelicateCoroutinesApi
Dispatchers.shutdown()
</code></pre>
<p><strong>Important</strong>:é‡è¦ï¼š</p>
<ul>
<li>Irreversible operation ä¸å¯é€†çš„æ“ä½œ</li>
<li>Should only be called when no coroutines are running<br/>
ä»…åœ¨æ²¡æœ‰åç¨‹è¿è¡Œæ—¶è°ƒç”¨</li>
<li>Primarily for containerized environments (OSGi, IDE plugins)<br/>
ä¸»è¦ç”¨äºå®¹å™¨åŒ–ç¯å¢ƒï¼ˆOSGiã€IDE æ’ä»¶ï¼‰</li>
<li>Makes coroutines framework inoperable<br/>
ä½¿åç¨‹æ¡†æ¶æ— æ³•è¿è¡Œ</li>
<li>Enables proper class unloading by JVM<br/>
ä½¿ JVM èƒ½æ­£ç¡®å¸è½½ç±»</li>
</ul>
<h2 data-id="heading-18">Performance Comparison æ€§èƒ½æ¯”è¾ƒ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1804b4aa941a46a9809b8b8866192fab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2ltcGxlcGVuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781116&amp;x-signature=Yn0YcGHcBuYNRxapFf6nzbrJkOY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-19">Common Patterns å¸¸è§æ¨¡å¼</h2>
<h2 data-id="heading-20">Pattern 1: Background Work with UI Updateæ¨¡å¼ 1ï¼šå¸¦æœ‰ UI æ›´æ–°çš„åå°å·¥ä½œ</h2>
<pre><code class="hljs language-c" lang="c">launch {
    val result = withContext(Dispatchers.IO) {
        <span class="hljs-comment">// Network or database operation</span>
        fetchDataFromServer()
    }
    <span class="hljs-comment">// Automatically back on the original context (often Main)</span>
    updateUI(result)
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be9649aff99a4e2d8b355d6593de564a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2ltcGxlcGVuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781116&amp;x-signature=lnalBbqfKYXZLSzYe8gLAdUJZdY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-21">Pattern 2: Parallel Decompositionæ¨¡å¼ 2ï¼šå¹¶è¡Œåˆ†è§£</h2>
<pre><code class="hljs language-c" lang="c">suspend fun <span class="hljs-title function_">loadDashboard</span><span class="hljs-params">()</span> = coroutineScope {
    val userData = async(Dispatchers.IO) { fetchUserData() }
    val stats = async(Dispatchers.IO) { fetchStatistics() }
    val notifications = async(Dispatchers.IO) { fetchNotifications() }
    
    Dashboard(
        user = userData.await(),
        stats = stats.await(),
        notifications = notifications.await()
    )
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10dc77f0dbe14fe8809f1f11a9eb2116~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc2ltcGxlcGVuZw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781116&amp;x-signature=hAVZg5AZCu%2FtixO3wjpbUk%2FHhjA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-22">Pattern 3: Resource-Specific Dispatchersæ¨¡å¼ 3ï¼šèµ„æºç‰¹å®šçš„è°ƒåº¦å™¨</h2>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ApiClient</span> {</span>
    private val networkDispatcher = Dispatchers.IO.limitedParallelism(<span class="hljs-number">50</span>)
    
    suspend fun makeRequest(url: String) = withContext(networkDispatcher) {
        <span class="hljs-comment">// Limited to 50 concurrent network requests</span>
        httpClient.get(url)
    }
}
class ImageProcessor {
    private val processingDispatcher = Dispatchers.Default.limitedParallelism(<span class="hljs-number">4</span>)
    
    suspend fun processImage(image: Bitmap) = withContext(processingDispatcher) {
        <span class="hljs-comment">// Limited to 4 concurrent image processing tasks</span>
        applyFilters(image)
    }
}
</code></pre>
<h2 data-id="heading-23">Testing with Dispatchers ä½¿ç”¨è°ƒåº¦å™¨è¿›è¡Œæµ‹è¯•</h2>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// Use TestDispatcher for testing</span>
@Test
fun <span class="hljs-title function_">testCoroutine</span><span class="hljs-params">()</span> = runTest {
    val dispatcher = StandardTestDispatcher()
    
    launch(dispatcher) {
        <span class="hljs-comment">// Test code</span>
    }
    
    advanceUntilIdle() <span class="hljs-comment">// Execute all pending coroutines</span>
}
</code></pre>
<h2 data-id="heading-24">Conclusion ç»“è®º</h2>
<p>Understanding Kotlin coroutine dispatchers is essential for writing efficient concurrent code. Key takeaways:<br/>
ç†è§£ Kotlin åç¨‹è°ƒåº¦å™¨å¯¹äºç¼–å†™é«˜æ•ˆçš„å¹¶å‘ä»£ç è‡³å…³é‡è¦ã€‚è¦ç‚¹å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>Dispatchers.Default</strong> for CPU- intensive work<br/>
Dispatchers.Default ç”¨äº CPU å¯†é›†å‹å·¥ä½œ</li>
<li><strong>Dispatchers.IO</strong> for blocking I/O operations<br/>
Dispatchers.IO ç”¨äºé˜»å¡çš„ I/O æ“ä½œ</li>
<li><strong>Dispatchers.Main</strong> for UI updates<br/>
Dispatchers.Main ç”¨äº UI æ›´æ–°</li>
<li><strong>Dispatchers.Unconfined</strong> for advanced scenarios (use sparingly)<br/>
Dispatchers.Unconfined ç”¨äºé«˜çº§åœºæ™¯ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰</li>
<li>Use <code>limitedParallelism()</code> for fine- grained resource control<br/>
å¯¹ç»†ç²’åº¦èµ„æºæ§åˆ¶ä½¿ç”¨ <code>limitedParallelism()</code></li>
<li>Minimize unnecessary dispatcher switching<br/>
å°½é‡å‡å°‘ä¸å¿…è¦çš„è°ƒåº¦å™¨åˆ‡æ¢</li>
<li>Never block Dispatchers.Default threads<br/>
åˆ‡å‹¿é˜»å¡ Dispatchers.Default çº¿ç¨‹</li>
<li>Choose dispatchers based on the nature of your work, not arbitrary preference<br/>
æ ¹æ®ä»»åŠ¡æ€§è´¨é€‰æ‹©è°ƒåº¦å™¨ï¼Œè€Œééšæ„åå¥½</li>
</ol>
<p>By following these guidelines and understanding the threading model, you can build responsive, efficient, and maintainable coroutine-based applications.<br/>
é€šè¿‡éµå¾ªè¿™äº›æŒ‡å¯¼åŸåˆ™å¹¶ç†è§£çº¿ç¨‹æ¨¡å‹ï¼Œä½ å¯ä»¥æ„å»ºå“åº”è¿…é€Ÿã€é«˜æ•ˆä¸”æ˜“äºç»´æŠ¤çš„åŸºäºåç¨‹çš„åº”ç”¨ç¨‹åºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½“ JS é˜»å¡ä¸»çº¿ç¨‹æ—¶ï¼Œä¸ºä»€ä¹ˆä½ çš„ CSS åŠ¨ç”»è¿˜åœ¨è·‘ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602503154506580009</link>    <guid>https://juejin.cn/post/7602503154506580009</guid>    <pubDate>2026-02-04T03:45:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602503154506580009" data-draft-id="7602497125269159942" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½“ JS é˜»å¡ä¸»çº¿ç¨‹æ—¶ï¼Œä¸ºä»€ä¹ˆä½ çš„ CSS åŠ¨ç”»è¿˜åœ¨è·‘ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2026-02-04T03:45:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ssshooter"/> <meta itemprop="url" content="https://juejin.cn/user/3122268751795101"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½“ JS é˜»å¡ä¸»çº¿ç¨‹æ—¶ï¼Œä¸ºä»€ä¹ˆä½ çš„ CSS åŠ¨ç”»è¿˜åœ¨è·‘ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3122268751795101/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ssshooter
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:45:54.000Z" title="Wed Feb 04 2026 03:45:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€”â€” ä»ä¸€ä¸ª React Demo çœ‹æµè§ˆå™¨æ¸²æŸ“ä¸åˆæˆçº¿ç¨‹</p>
<p>ä¼ é€é—¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.mind-elixir.com%2Fzh%2Flearn-js-blocking" target="_blank" title="https://tools.mind-elixir.com/zh/learn-js-blocking" ref="nofollow noopener noreferrer">tools.mind-elixir.com/zh/learn-jsâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/786bb1cf088147a78a43c0f9b866b895~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3NzaG9vdGVy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781554&amp;x-signature=GNcSQcPDf%2BcWJp%2BqJhT3lfeCIcU%3D" alt="åŠ¨ç”»é˜»å¡å®éªŒ.png" loading="lazy"/></p>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸å¬åˆ°ä¸€å¥è¯ï¼šâ€œä¸è¦é˜»å¡ä¸»çº¿ç¨‹ï¼ˆMain Threadï¼‰â€ã€‚æˆ‘ä»¬ä¹Ÿå¸¸å¬åˆ°å¦ä¸€æ¡æ€§èƒ½ä¼˜åŒ–å»ºè®®ï¼šâ€œå°½é‡ä½¿ç”¨ <code>transform</code> å’Œ <code>opacity</code> åšåŠ¨ç”»â€ã€‚</p>
<p>è¿™ä¸¤è€…ä¹‹é—´æœ‰ä»€ä¹ˆæ·±å±‚è”ç³»ï¼Ÿä¸ºä»€ä¹ˆå½“ä¸€æ®µæ­»å¾ªç¯ JavaScript ä»£ç æŠŠé¡µé¢å¡æ­»æ—¶ï¼ŒæŸäº›åŠ¨ç”»å´èƒ½åƒâ€œå¹¸å­˜è€…â€ä¸€æ ·æµç•…è¿è¡Œï¼Œè€Œå…¶ä»–çš„åˆ™ç¬é—´å†»ç»“ï¼Ÿ</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…·ä½“çš„ React Demo æ¥é€šè¿‡å®éªŒæ­å¼€æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶çš„é¢çº±ã€‚</p>
<h2 data-id="heading-0">å®éªŒç°åœºï¼šä¸€ä¸ªâ€œå¡é¡¿â€çš„æŒ‰é’®</h2>
<p>æˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªç®€å•çš„ React åº”ç”¨ã€‚æ ¸å¿ƒé€»è¾‘åœ¨äºä¸€ä¸ªåä¸ºâ€œBlock Main Threadâ€çš„æŒ‰é’®ã€‚ç‚¹å‡»å®ƒï¼Œä¼šè§¦å‘ä¸€æ®µè€—æ—¶ 3 ç§’çš„åŒæ­¥ <code>while</code> å¾ªç¯ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ¨¡æ‹Ÿä¸»çº¿ç¨‹é˜»å¡</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleBlock</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">setIsBlocking</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> start = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> duration = <span class="hljs-number">3000</span>; 
    <span class="hljs-comment">// ğŸ’€ æ­»å¾ªç¯ï¼šå½»åº•éœ¸å ä¸»çº¿ç¨‹ 3000ms</span>
    <span class="hljs-keyword">while</span> (<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - start &lt; duration) {
      <span class="hljs-comment">// Blocking main thread</span>
    }
    <span class="hljs-title function_">setIsBlocking</span>(<span class="hljs-literal">false</span>);
  }, <span class="hljs-number">100</span>);
};

</code></pre>
<p>åœ¨è¿™ 3 ç§’å†…ï¼Œæµè§ˆå™¨çš„ä¸»çº¿ç¨‹ï¼ˆMain Threadï¼‰è¢«å®Œå…¨æŒ‚èµ·ã€‚å®ƒæ— æ³•å“åº”ç‚¹å‡»ã€æ— æ³•æ»šåŠ¨é¡µé¢ã€æ— æ³•æ‰§è¡Œå…¶ä»–çš„ JavaScript ä»£ç ã€‚</p>
<p>ä½†åœ¨é¡µé¢ä¸Šï¼Œæˆ‘ä»¬æ”¾ç½®äº†å››ä¸ªæ­£åœ¨è¿è¡Œçš„åŠ¨ç”»æ–¹å—ï¼ˆCase A, B, C, Dï¼‰ã€‚å½“æˆ‘ä»¬ç‚¹å‡»é˜»å¡æŒ‰é’®æ—¶ï¼Œå¥‡æ€ªçš„ç°è±¡å‘ç”Ÿäº†ï¼š</p>
<ol>
<li><strong>æ–¹å— Cï¼ˆJS é©±åŠ¨ï¼‰</strong>ï¼šç«‹å³åœæ­¢ã€‚</li>
<li><strong>æ–¹å— Dï¼ˆMargin åŠ¨ç”»ï¼‰</strong>ï¼šç«‹å³åœæ­¢ã€‚</li>
<li><strong>æ–¹å— Bï¼ˆTransform + Widthï¼‰</strong>ï¼šç«‹å³åœæ­¢ï¼ˆæˆ–å˜å¾—æåº¦å¡é¡¿ï¼‰ã€‚</li>
<li><strong>æ–¹å— Aï¼ˆçº¯ Transformï¼‰</strong>ï¼š<strong>å±…ç„¶è¿˜åœ¨æµç•…æ—‹è½¬ï¼</strong></li>
</ol>
<p>ä¸ºä»€ä¹ˆæ–¹å— A èƒ½çªç ´ JS çš„å°é”ï¼Ÿ</p>
<h2 data-id="heading-1">å¿…é¡»äº†è§£çš„ä¸¤ä½ä¸»è§’ï¼šä¸»çº¿ç¨‹ vs. åˆæˆçº¿ç¨‹</h2>
<p>è¦ç†è§£è¿™ä¸ªç°è±¡ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“æµè§ˆå™¨å†…éƒ¨ä¹Ÿæ˜¯â€œå¤šçº¿ç¨‹â€å·¥ä½œçš„ã€‚å…¶ä¸­æœ€é‡è¦çš„ä¸¤ä¸ªçº¿ç¨‹æ˜¯ï¼š</p>
<ol>
<li><strong>ä¸»çº¿ç¨‹ (Main Thread)</strong>ï¼š</li>
</ol>
<ul>
<li>å®ƒæ˜¯æœ€å¿™ç¢Œçš„ã€‚è´Ÿè´£è¿è¡Œ JavaScriptã€è®¡ç®— HTML å…ƒç´ çš„æ ·å¼ï¼ˆStyleï¼‰ã€è®¡ç®—é¡µé¢å¸ƒå±€ï¼ˆLayoutï¼‰ã€ç»˜åˆ¶å›¾å±‚å†…å®¹ï¼ˆPaintï¼‰ã€‚</li>
<li><strong>å®ƒæ˜¯â€œå•çº¿ç¨‹â€çš„</strong>ã€‚å¦‚æœä½ å†™äº†ä¸€ä¸ªæ­»å¾ªç¯ï¼Œå®ƒå°±æ²¡ç©ºå»ç®—å¸ƒå±€ï¼Œä¹Ÿæ²¡ç©ºç»˜å›¾ã€‚</li>
</ul>
<ol start="2">
<li><strong>åˆæˆçº¿ç¨‹ (Compositor Thread)</strong>ï¼š</li>
</ol>
<ul>
<li>å®ƒæ˜¯ä¸»çº¿ç¨‹çš„åŠ©æ‰‹ï¼Œé€šå¸¸ç”± GPU ååŠ©ã€‚</li>
<li>å®ƒçš„å·¥ä½œæ˜¯å°†ä¸»çº¿ç¨‹ç”»å¥½çš„å„ä¸ªå›¾å±‚ï¼ˆLayersï¼‰æ¥æ”¶è¿‡æ¥ï¼Œè¿›è¡Œåˆæˆï¼ˆCompositeï¼‰ï¼Œå¹¶æœ€ç»ˆæ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚</li>
<li><strong>é‡ç‚¹</strong>ï¼šå®ƒå¯ä»¥ç‹¬ç«‹äºä¸»çº¿ç¨‹å¤„ç†ä¸€äº›ç‰¹å®šçš„è§†è§‰å˜æ¢ï¼Œæ¯”å¦‚<strong>ä½ç§»ï¼ˆTranslateï¼‰ã€æ—‹è½¬ï¼ˆRotateï¼‰ã€ç¼©æ”¾ï¼ˆScaleï¼‰å’Œé€æ˜åº¦ï¼ˆOpacityï¼‰</strong>ã€‚</li>
</ul>
<h2 data-id="heading-2">æ¡ˆä»¶åˆ†æ</h2>
<p>è®©æˆ‘ä»¬ç»“åˆä»£ç é€ä¸€åˆ†æå››ä¸ªæ–¹å—çš„å‘½è¿ã€‚</p>
<h3 data-id="heading-3">å—å®³è€…ä¸€ï¼šCase C (JavaScript é©±åŠ¨)</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// JS é©±åŠ¨çš„åŠ¨ç”»é€»è¾‘</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">animateJS</span> = (<span class="hljs-params">time: <span class="hljs-built_in">number</span></span>) =&gt; {
  <span class="hljs-comment">// ...è®¡ç®—ä½ç½® x ...</span>
  <span class="hljs-keyword">if</span> (jsBoxRef.<span class="hljs-property">current</span>) {
    jsBoxRef.<span class="hljs-property">current</span>.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">`translateX(<span class="hljs-subst">${x}</span>px)`</span>;
  }
  requestRef.<span class="hljs-property">current</span> = <span class="hljs-title function_">requestAnimationFrame</span>(animateJS);
};

</code></pre>
<p><strong>æ­»å› </strong>ï¼šä¾èµ–ä¸»çº¿ç¨‹ã€‚
<code>requestAnimationFrame</code> æ˜¯è¯·æ±‚æµè§ˆå™¨åœ¨ä¸‹ä¸€æ¬¡é‡ç»˜å‰è°ƒç”¨æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚è¿™ä¸ªå›è°ƒå‡½æ•°æ˜¯åœ¨<strong>ä¸»çº¿ç¨‹</strong>ä¸Šæ‰§è¡Œçš„ã€‚å½“ä¸»çº¿ç¨‹è¢« <code>while</code> å¾ªç¯å¡æ­»æ—¶ï¼Œ<code>animateJS</code> å‡½æ•°æ ¹æœ¬å¾—ä¸åˆ°æ‰§è¡Œæœºä¼šã€‚æ‰€ä»¥åŠ¨ç”»ç¬é—´å†»ç»“ã€‚</p>
<h3 data-id="heading-4">å—å®³è€…äºŒï¼šCase D (Layout å±æ€§ - Margin)</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* æ”¹å˜ margin-left */</span>
<span class="hljs-keyword">@keyframes</span> pure-margin {
  <span class="hljs-number">0%</span> { <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">0</span>; }
  <span class="hljs-number">50%</span> { <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">150px</span>; } <span class="hljs-comment">/* è§¦å‘ Layout */</span>
  <span class="hljs-number">100%</span> { <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">0</span>; }
}

</code></pre>
<p><strong>æ­»å› </strong>ï¼šè§¦å‘é‡æ’ï¼ˆReflow/Layoutï¼‰ã€‚
<code>margin</code> å±æ€§å†³å®šäº†å…ƒç´ åœ¨æ–‡æ¡£æµä¸­çš„ä½ç½®ã€‚ä¿®æ”¹å®ƒä¼šå½±å“å‘¨å›´å…ƒç´ çš„æ’ç‰ˆã€‚æµè§ˆå™¨å¿…é¡»é‡æ–°è®¡ç®—å¸ƒå±€ï¼ˆLayout é˜¶æ®µï¼‰ï¼Œè¿™ä¸ªè®¡ç®—è¿‡ç¨‹å¿…é¡»åœ¨<strong>ä¸»çº¿ç¨‹</strong>å®Œæˆã€‚ä¸»çº¿ç¨‹å¿™ç€è·‘æ­»å¾ªç¯ï¼Œæ²¡ç©ºç®—å¸ƒå±€ï¼Œæ‰€ä»¥åŠ¨ç”»åœæ­¢ã€‚</p>
<h3 data-id="heading-5">å—å®³è€…ä¸‰ï¼šCase B (æ··åˆå±æ€§ - Transform + Width)</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-keyword">@keyframes</span> mixed-transform {
  <span class="hljs-number">0%</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">0deg</span>); <span class="hljs-attribute">width</span>: <span class="hljs-number">48px</span>; }
  <span class="hljs-number">50%</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">180deg</span>); <span class="hljs-attribute">width</span>: <span class="hljs-number">120px</span>; } <span class="hljs-comment">/* Width è§¦å‘ Layout */</span>
  <span class="hljs-number">100%</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>); <span class="hljs-attribute">width</span>: <span class="hljs-number">48px</span>; }
}

</code></pre>
<p><strong>æ­»å› </strong>ï¼šè¢«é˜Ÿå‹æ‹–ç´¯ã€‚
è™½ç„¶å®ƒåŒ…å« <code>transform</code>ï¼ˆç”±åˆæˆçº¿ç¨‹å¤„ç†ï¼‰ï¼Œä½†å®ƒåŒæ—¶ä¹Ÿæ”¹å˜äº† <code>width</code>ã€‚<code>width</code> çš„æ”¹å˜ä¼šè§¦å‘ Layoutã€‚æµè§ˆå™¨é€šå¸¸éœ€è¦æ¯ä¸€å¸§éƒ½ç¡®è®¤ Layout çš„ç»“æœï¼Œæ‰èƒ½è¿›è¡Œåç»­çš„ç»˜åˆ¶å’Œåˆæˆã€‚å› ä¸º <code>width</code> çš„è®¡ç®—è¢«ä¸»çº¿ç¨‹é˜»å¡äº†ï¼Œæ•´ä¸ªåŠ¨ç”»å¸§çš„æäº¤è¢«å»¶åï¼Œå¯¼è‡´å³ä½¿æ˜¯æ—‹è½¬éƒ¨åˆ†ä¹Ÿè¢«è¿«åœæ­¢ã€‚</p>
<h3 data-id="heading-6">å¹¸å­˜è€…ï¼šCase A (çº¯ Transform)</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* ä»…æ”¹å˜ transform */</span>
<span class="hljs-keyword">@keyframes</span> pure-transform {
  <span class="hljs-selector-tag">from</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">0deg</span>); }
  <span class="hljs-selector-tag">to</span> { <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>); }
}

</code></pre>
<p><strong>ç”Ÿè¿˜åŸå› </strong>ï¼š<strong>è„±ç¦»ä¸»çº¿ç¨‹ï¼ˆOff Main Threadï¼‰</strong>ã€‚
è¿™æ˜¯æ€§èƒ½ä¼˜åŒ–çš„æ ¸å¿ƒé­”æ³•ã€‚</p>
<ol>
<li>å½“æµè§ˆå™¨åˆ†æè¿™ä¸ª CSS åŠ¨ç”»æ—¶ï¼Œå®ƒå‘ç°è¿™ä¸ªåŠ¨ç”»<strong>åª</strong>æ¶‰åŠ <code>transform</code>ã€‚</li>
<li><code>transform</code> ä¸ä¼šæ”¹å˜å…ƒç´ çš„å¸ƒå±€ï¼ˆLayoutï¼‰ï¼Œä¹Ÿä¸éœ€è¦é‡æ–°ç»˜åˆ¶å†…å®¹ï¼ˆPaintï¼‰ï¼Œå®ƒåªéœ€è¦æŠŠç°æœ‰çš„å›¾å±‚æ‹¿æ¥æ—‹è½¬ä¸€ä¸‹ã€‚</li>
<li>ä¸»çº¿ç¨‹ä¼šå°†è¿™ä¸ªåŠ¨ç”»ä»»åŠ¡åŠå…¶å›¾å±‚ä¿¡æ¯ç›´æ¥<strong>æäº¤ï¼ˆCommitï¼‰ç»™åˆæˆçº¿ç¨‹</strong>ã€‚</li>
<li><strong>åˆæˆçº¿ç¨‹</strong>è¯´ï¼šâ€œæ”¶åˆ°ï¼Œå‰©ä¸‹çš„äº¤ç»™æˆ‘ã€‚â€</li>
</ol>
<p>æ­¤æ—¶ï¼Œæ— è®ºä¸»çº¿ç¨‹æ˜¯åœ¨è·‘æ­»å¾ªç¯ï¼Œè¿˜æ˜¯åœ¨è¿›è¡Œå¤æ‚çš„è®¡ç®—ï¼Œ<strong>åˆæˆçº¿ç¨‹</strong>éƒ½åœ¨ç‹¬ç«‹å·¥ä½œã€‚å®ƒä¸æ–­åœ°æŒ‡ç¤º GPU æ—‹è½¬é‚£ä¸ªå›¾å±‚ï¼Œå¹¶æ›´æ–°å±å¹•ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå³ä¾¿ä½ çš„ JS å¡æ­»äº†ï¼ŒLoading è½¬åœˆåŠ¨ç”»ï¼ˆå¦‚æœå†™å¾—å¯¹ï¼‰ä¾ç„¶åœ¨è½¬ã€‚</p>
<h2 data-id="heading-7">æ€»ç»“ä¸æŠ€æœ¯å¯ç¤º</h2>
<p>é€šè¿‡è¿™ä¸ª Demoï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºæ˜ç¡®çš„æ€§èƒ½ä¼˜åŒ–åŸåˆ™ï¼š</p>
<ol>
<li><strong>é¿å…ä¸»çº¿ç¨‹é˜»å¡</strong>ï¼š</li>
</ol>
<ul>
<li>é•¿è€—æ—¶çš„è®¡ç®—ä»»åŠ¡ï¼ˆå¦‚å¤§æ•°ç»„å¤„ç†ã€å¤æ‚ç®—æ³•ï¼‰ä¸åº”åœ¨ UI æ¸²æŸ“è·¯å¾„ï¼ˆReact Render, Event Handlersï¼‰ä¸­åŒæ­¥æ‰§è¡Œã€‚</li>
<li>è€ƒè™‘ä½¿ç”¨ <code>Web Worker</code> å°†è®¡ç®—ä»»åŠ¡ç§»å‡ºä¸»çº¿ç¨‹ã€‚</li>
<li>åˆ©ç”¨ <code>React Concurrent Mode</code> æˆ– <code>Time Slicing</code> åˆ‡åˆ†ä»»åŠ¡ã€‚</li>
</ul>
<ol start="2">
<li><strong>åŠ¨ç”»æ€§èƒ½é»„é‡‘æ³•åˆ™</strong>ï¼š</li>
</ol>
<ul>
<li>**åšæŒä½¿ç”¨ <code>transform</code> å’Œ <code>opacity**</code>ã€‚åªæœ‰è¿™ä¸¤ä¸ªå±æ€§å¯ä»¥ä¿è¯ 100% åœ¨åˆæˆçº¿ç¨‹è¿è¡Œï¼Œå®Œå…¨ä¸å— JS é˜»å¡å½±å“ã€‚</li>
<li><strong>é¿å…åŠ¨ç”»åŒ–å¸ƒå±€å±æ€§</strong>ï¼ˆå¦‚ <code>width</code>, <code>height</code>, <code>margin</code>, <code>padding</code>, <code>left</code>, <code>top</code>ï¼‰ã€‚è¿™äº›å±æ€§ä¸ä»…å¼€é”€å¤§ï¼ˆè§¦å‘ Layoutï¼‰ï¼Œè€Œä¸”ä¸€æ—¦ä¸»çº¿ç¨‹å¡é¡¿ï¼ŒåŠ¨ç”»å°±ä¼šæ‰å¸§ã€‚</li>
<li><strong>è­¦æƒ•â€œæ··åˆæ±¡æŸ“â€</strong>ï¼šä¸è¦åœ¨ä¸€ä¸ª <code>@keyframes</code> ä¸­åŒæ—¶åŒ…å«åˆæˆå±æ€§ï¼ˆtransformï¼‰å’Œå¸ƒå±€å±æ€§ï¼ˆwidthï¼‰ï¼Œå¦åˆ™é«˜æ€§èƒ½çš„å±æ€§ä¹Ÿä¼šè¢«æ‹–ç´¯ã€‚</li>
</ul>
<h2 data-id="heading-8">ä¸‹ä¸€æ­¥è¡ŒåŠ¨</h2>
<p>æ£€æŸ¥ä½ é¡¹ç›®ä¸­çš„ Loading ç»„ä»¶æˆ–è¿‡æ¸¡åŠ¨ç”»ã€‚ç¡®ä¿å®ƒä»¬æ˜¯åŸºäº CSS <code>transform</code> å®ç°çš„ï¼Œè€Œä¸æ˜¯ JavaScript æˆ– <code>margin</code>ã€‚è¿™æ ·ï¼Œå³ä½¿ä½ çš„åç«¯æ¥å£è¿”å›æ…¢ï¼Œæˆ–è€…å‰ç«¯æ•°æ®å¤„ç†å¡é¡¿ï¼Œç”¨æˆ·ä¾ç„¶èƒ½çœ‹åˆ°ä¸€ä¸ªä¸èˆ¬é¡ºæ»‘çš„åŠ è½½æŒ‡ç¤ºå™¨ï¼Œä»è€Œå‡å°‘â€œåº”ç”¨å·²å´©æºƒâ€çš„é”™è§‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¬¡ WebGPU æµä½“ä¹‹æ—…ï½]]></title>    <link>https://juejin.cn/post/7602544700475031562</link>    <guid>https://juejin.cn/post/7602544700475031562</guid>    <pubDate>2026-02-04T03:42:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602544700475031562" data-draft-id="7602512226999500850" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¬¡ WebGPU æµä½“ä¹‹æ—…ï½"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,JavaScript"/> <meta itemprop="datePublished" content="2026-02-04T03:42:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å®‰ä¸œå°¼"/> <meta itemprop="url" content="https://juejin.cn/user/1521379823340792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¬¡ WebGPU æµä½“ä¹‹æ—…ï½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379823340792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å®‰ä¸œå°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:42:52.000Z" title="Wed Feb 04 2026 03:42:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åŸæ–‡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftympanus.net%2Fcodrops%2F2025%2F01%2F29%2Fparticles-progress-and-perseverance-a-journey-into-webgpu-fluids%2F" target="_blank" title="https://tympanus.net/codrops/2025/01/29/particles-progress-and-perseverance-a-journey-into-webgpu-fluids/" ref="nofollow noopener noreferrer">Particles, Progress, and Perseverance: A Journey into WebGPU Fluids</a></p>
<p>ä½œè€…ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftympanus.net%2Fcodrops%2Fauthor%2Fhector%2F" target="_blank" title="https://tympanus.net/codrops/author/hector/" ref="nofollow noopener noreferrer">Hector Arellano</a></p>
<p>æ—¥æœŸï¼š2025å¹´1æœˆ29æ—¥</p>
<p>ç¿»è¯‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTUARAN" target="_blank" title="https://github.com/TUARAN" ref="nofollow noopener noreferrer">TUARAN</a></p>
</blockquote>
<blockquote>
<p>æ¬¢è¿å…³æ³¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTUARAN%2Ffrontend-weekly-digest-cn" target="_blank" title="https://github.com/TUARAN/frontend-weekly-digest-cn" ref="nofollow noopener noreferrer">å‰ç«¯å‘¨åˆŠ</a>ï¼Œæ¯å‘¨æ›´æ–°å›½å¤–è®ºå›çš„å‰ç«¯çƒ­é—¨æ–‡ç« ï¼Œç´§è·Ÿæ—¶äº‹ï¼ŒæŒæ¡å‰ç«¯æŠ€æœ¯åŠ¨æ€ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66a8f7b9d2d741bd8bb08aabe1c5e1aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781372&amp;x-signature=zo8XSIZG66EuA4LFen2Gc2gXkiU%3D" alt="image.png" loading="lazy"/></p>
<p>æœ¬æ–‡æ˜¯ä¸€æ®µå›é¡¾å¼çš„é•¿æ—…ç¨‹ï¼šä½œè€…ç”¨åå¤šå¹´çš„æ—¶é—´ä¸æ–­å°è¯•â€œæµè§ˆå™¨é‡Œåšæµä½“â€ï¼Œä» WebGL æ—¶ä»£çš„å„ç§ Hackï¼Œä¸€è·¯èµ°åˆ° WebGPU è®©è®¸å¤šâ€œç°ä»£å›¾å½¢ API èƒ½åŠ›â€å˜å¾—å¯ç”¨ã€‚</p>
<ul>
<li>Demoï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftympanus.net%2FTutorials%2FWebGPUFluid%2F" target="_blank" title="https://tympanus.net/Tutorials/WebGPUFluid/" ref="nofollow noopener noreferrer">tympanus.net/Tutorials/Wâ€¦</a></li>
<li>Codeï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHectorArellanoDev%2FWebGPUFluids" target="_blank" title="https://github.com/HectorArellanoDev/WebGPUFluids" ref="nofollow noopener noreferrer">github.com/HectorArellâ€¦</a></li>
</ul>
<p>ç¼–è€…æŒ‰ï¼šå¦‚æœä½ å…³æ³¨è¿‡ Web å›¾å½¢åœˆå­ï¼Œå¯èƒ½çŸ¥é“ Hector Arellanoï¼ˆåˆå <a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fhector_arellano" target="_blank" title="https://x.com/hector_arellano" ref="nofollow noopener noreferrer">Hat</a>ï¼‰ã€‚è¿™ç¯‡æ–‡ç« ä¸ä»…æ˜¯æŠ€æœ¯æ‹†è§£ï¼Œæ›´æ˜¯ä¸€æ®µå…³äºåšæŒã€è¯•é”™ã€ä¸ Web å›¾å½¢æ¼”è¿›çš„æ•…äº‹ã€‚</p>
<p>æ³¨æ„ï¼šDemo ä¾èµ– <strong>WebGPU</strong>ï¼Œå¹¶éæ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒã€‚è¯·ä½¿ç”¨æ”¯æŒ WebGPU çš„æµè§ˆå™¨ï¼ˆä¾‹å¦‚æœ€æ–°ç‰ˆ Chrome / Edgeï¼Œå¹¶ç¡®ä¿ WebGPU å·²å¯ç”¨ï¼‰ã€‚</p>
<p>åœ¨ç»§ç»­é˜…è¯»ä¹‹å‰â€¦â€¦å…ˆå»æ‹¿æ¯å–çš„â€”â€”<em>è¿™ç¯‡å¾ˆé•¿</em>ã€‚</p>
<h2 data-id="heading-0">13 å¹´å‰â€¦â€¦</h2>
<p>æˆ‘æ­£ç›¯ç€ç”µè„‘å±å¹•å‘å‘†ï¼ˆæ— èŠå¾—å¾ˆï¼‰ï¼Œä¸€ä¸ªå¾ˆè¦å¥½çš„æœ‹å‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FSirokos" target="_blank" title="https://x.com/Sirokos" ref="nofollow noopener noreferrer">Felix</a> æ‰“ç”µè¯ç»™æˆ‘ï¼Œéå¸¸è®¤çœŸåˆå…´å¥‹åœ°è¯´ï¼šGathering Party åˆšå‘å¸ƒäº†ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DLTOC_ajkRkU" target="_blank" title="https://www.youtube.com/watch?v=LTOC_ajkRkU" ref="nofollow noopener noreferrer">æ–° Demo</a>ã€‚å®ƒæœ‰æµä½“æ¨¡æ‹Ÿã€ç²’å­åŠ¨ç”»ã€æƒŠè‰³çš„ç€è‰²æ–¹æ¡ˆâ€”â€”æœ€é‡è¦çš„æ˜¯ï¼Œå®ƒçœŸçš„å¾ˆç¾ã€‚</p>
<p>é‚£æ—¶å€™ WebGL è¿˜ç®—â€œæ–°ä¸œè¥¿â€ï¼ŒæŠŠç¡¬ä»¶åŠ é€Ÿçš„ 3D å›¾å½¢å¸¦è¿›æµè§ˆå™¨ï¼Œçœ‹èµ·æ¥ä¼šæ‰“å¼€å¾ˆå¤šé—¨ã€‚æˆ‘å¤©çœŸåœ°ä»¥ä¸ºï¼šWebGL ä¹Ÿè®¸èƒ½åšå‡º Felix ç»™æˆ‘çœ‹çš„é‚£ç§ä¸œè¥¿ã€‚</p>
<p>ä½†æˆ‘å¼€å§‹ç ”ç©¶é‚£ä¸ª Demo çš„å®ç°æ–¹å¼æ—¶ï¼Œå°±æ’ä¸Šäº†æ®‹é…·ç°å®ï¼šé‡Œé¢ç”¨åˆ°äº†ä¸€å †æˆ‘ä»æ²¡å¬è¿‡çš„ API/ç‰¹æ€§â€”â€”â€œAtomicsï¼ˆåŸå­æ“ä½œï¼‰â€â€œIndirect Draw Callsï¼ˆé—´æ¥ç»˜åˆ¶è°ƒç”¨ï¼‰â€â€œIndirect Dispatchï¼ˆé—´æ¥æ´¾å‘ï¼‰â€â€œStorage Buffersï¼ˆå­˜å‚¨ç¼“å†²åŒºï¼‰â€â€œCompute Shadersï¼ˆè®¡ç®—ç€è‰²å™¨ï¼‰â€â€œ3D Texturesï¼ˆä¸‰ç»´çº¹ç†ï¼‰â€ã€‚</p>
<p>å®ƒä»¬å±äºç°ä»£å›¾å½¢ API çš„èƒ½åŠ›ï¼Œä½†åœ¨å½“æ—¶çš„ WebGL é‡ŒåŸºæœ¬ä¸å­˜åœ¨ã€‚</p>
<p>æ›´åˆ«æå®ƒè¿˜ç”¨äº†å¾ˆå¤šå¬èµ·æ¥å°±å¾ˆå¤æ‚çš„ç®—æ³•/æŠ€æœ¯ï¼šç”¨ <strong>SPHï¼ˆSmoothed Particle Hydrodynamicsï¼Œå¹³æ»‘ç²’å­æµä½“åŠ¨åŠ›å­¦ï¼‰</strong> é©±åŠ¨ç²’å­åŠ¨ç”»ã€ç”¨ <strong>histopyramids</strong> åšæµå‹ç¼©ï¼ˆæˆ‘å½“æ—¶è¿˜æƒ³ï¼šæˆ‘ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªï¼Ÿï¼‰ã€ç”¨ GPU ä¸Šçš„ <strong>marching cubes</strong>ï¼ˆä»ç²’å­ç”Ÿæˆä¸‰è§’å½¢ï¼Ÿï¼Ÿï¼Ÿï¼‰ç­‰ç­‰ã€‚</p>
<p>æˆ‘å®Œå…¨ä¸çŸ¥é“ä»å“ªé‡Œå¼€å§‹ã€‚æ›´ç³Ÿçš„æ˜¯ï¼ŒFelix è·Ÿæˆ‘æ‰“èµŒï¼šè¿™ç§æµä½“æ•ˆæœä¸å¯èƒ½åœ¨æµè§ˆå™¨é‡Œâ€œå¯ç”¨äºç”Ÿäº§â€ã€‚</p>
<h2 data-id="heading-1">10 å¹´å‰â€¦â€¦</h2>
<p>åˆè¿‡äº†ä¸‰å¹´ï¼ŒFelix è¯´ä»–è¿˜æœ‰ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3Di8hSZGTXTx8" target="_blank" title="https://www.youtube.com/watch?v=i8hSZGTXTx8" ref="nofollow noopener noreferrer">æ›´ç‚¸è£‚çš„ Demo</a>ä¸€å®šè¦æˆ‘çœ‹ã€‚é™¤äº†æµä½“æ¨¡æ‹Ÿï¼Œå®ƒè¿˜ç”¨å®æ—¶å…‰çº¿è¿½è¸ªæ¸²æŸ“äº†å‡ ä½•ä½“â€”â€”æè´¨å¾ˆéœ‡æ’¼ã€ç”»é¢å¾ˆæƒŠäººã€‚</p>
<p>è¿™ä¸‹æŒ‘æˆ˜æ›´å¤§äº†ï¼šæˆ‘ä¸ä»…æƒ³æ¨¡æ‹Ÿæµä½“ï¼Œæˆ‘è¿˜æƒ³ç”¨å…‰è¿½å»æ¸²æŸ“å®ƒï¼Œå¾—åˆ°æ¼‚äº®çš„åå°„ä¸æŠ˜å°„ã€‚</p>
<p>æˆ‘èŠ±äº†å¤§æ¦‚ 3 å¹´æ‰æŠŠè¿™äº›ä¸œè¥¿ç†è§£åˆ°èƒ½åœ¨ WebGL é‡Œâ€œç¡¬å‡¿â€å‡ºæ¥ï¼š</p>
<ul>
<li>æˆ‘ç”¨ SPH è®©ç²’å­è¡Œä¸ºåƒæµä½“ï¼›</li>
<li>æˆ‘ç”¨ marching cubes ä»ç²’å­ç”Ÿæˆç½‘æ ¼ï¼ˆè§å›¾ 1 çš„æè¿°ï¼‰ã€‚</li>
</ul>
<p>å½“æ—¶æ²¡æœ‰ atomicsï¼Œæˆ‘å°±ç”¨å¤šæ¬¡ draw call æŠŠæ•°æ®å¡è¿›çº¹ç†çš„ RGBA é€šé“æ¥â€œåˆ†å±‚â€ï¼›æ²¡æœ‰ storage buffer å’Œ 3D çº¹ç†ï¼Œæˆ‘å°±ç”¨çº¹ç†å­˜æ•°æ®ï¼Œå¹¶ç”¨äºŒç»´å±‚æ¥â€œæ¨¡æ‹Ÿâ€ 3D çº¹ç†ï¼›æ²¡æœ‰ indirect drawï¼Œæˆ‘å°±å¹²è„†æŒ‰é¢„æœŸæ•°é‡å‘èµ· draw callï¼›æ²¡æœ‰ compute shaderï¼Œæˆ‘å°±ç”¨é¡¶ç‚¹ç€è‰²å™¨åš GPGPU çš„æ•°æ®é‡æ’â€¦â€¦è™½ç„¶ä¹Ÿåšä¸å‡ºé‚£ç§â€œåœ¨ buffer é‡Œéšæ„å†™å¤šä¸ªå†…å­˜ä½ç½®â€çš„äº‹ï¼Œä½†è‡³å°‘æˆ‘èƒ½åœ¨ GPU é‡Œç”Ÿæˆä¸€ä¸ªåŠ é€Ÿç»“æ„ã€‚</p>
<p>å®ç°æ˜¯èƒ½è·‘ï¼Œä½†ç¦»â€œç¾â€å·®å¾—å¾ˆè¿œï¼ˆFelix ç›´æ¥è¯„ä»·ï¼šä¸‘ã€‚ç¡®å®ä¸‘ï¼Œä½ å¯ä»¥æƒ³è±¡å›¾ 2ï¼‰ã€‚æˆ‘é‚£æ—¶ä¹Ÿä¸å¤ªæ‡‚è·ç¦»åœºï¼Œä¹Ÿä¸çŸ¥é“æ€ä¹ˆæŠŠ shading åšå¾—æ›´æœ‰è¶£ï¼ŒåŸºæœ¬å°±æ˜¯è€æ´¾ phongã€‚</p>
<p>æ€§èƒ½ä¹Ÿé™åˆ¶äº†å¾ˆå¤šé«˜çº§æ•ˆæœï¼šç¯å¢ƒå…‰é®è”½ã€æ›´å¤æ‚çš„åå°„æŠ˜å°„â€¦â€¦ä½†è‡³å°‘æˆ‘èƒ½æ¸²æŸ“å‡ºç‚¹ä¸œè¥¿ã€‚</p>
<h2 data-id="heading-2">7 å¹´å‰â€¦â€¦</h2>
<p>å†è¿‡ä¸‰å¹´ï¼Œæˆ‘åˆåšäº†ä¸€äº›è¿›å±•ï¼šå®ç°äº†ä¸€ä¸ªæ··åˆå¼å…‰è¿½ã€‚æ€è·¯æ˜¯ï¼šmarching cubes å…ˆç”Ÿæˆä¸‰è§’å½¢ï¼Œç„¶åç”¨å…‰è¿½å»ç®—äºŒæ¬¡å°„çº¿åšåå°„/æŠ˜å°„ï¼›åŒä¸€ä¸ªå…‰è¿½è¿˜èƒ½éå†åŠ é€Ÿç»“æ„å»åšç„¦æ•£ã€‚è¿™äº›åŸºæœ¬éƒ½æ²¿ç”¨äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Fmattswoboda" target="_blank" title="https://x.com/mattswoboda" ref="nofollow noopener noreferrer">Matt Swoboda</a> çš„æƒ³æ³•ï¼ˆé‚£äº› Demo çš„åŸä½œè€…ï¼‰ã€‚æˆ‘çš„å·¥ä½œå¤§éƒ¨åˆ†å°±æ˜¯ï¼šæŠŠä»–çš„ç‚¹å­å°½é‡åœ¨ WebGL é‡Œè·‘èµ·æ¥ï¼ˆç¥ä½ å¥½è¿ï¼‰ã€‚</p>
<p>æ•ˆæœåœ¨è§†è§‰ä¸Šè¿˜ä¸é”™ï¼ˆç±»ä¼¼å›¾ 3ï¼‰ï¼Œä½†éœ€è¦éå¸¸å¼ºçš„ GPUã€‚å½“æ—¶æˆ‘ç”¨çš„æ˜¯ NVidia 1080GTXã€‚ä¹Ÿå°±æ˜¯è¯´ï¼šå³ä½¿ WebGL å¯è¡Œï¼Œä¹Ÿä¸å¯èƒ½æ‹¿å»åšâ€œç”Ÿäº§â€ã€‚æ‰‹æœºä¸è¡Œï¼Œæ™®é€šç¬”è®°æœ¬ä¹Ÿæ‰›ä¸ä½ã€‚</p>
<p>çœ‹å¾—åˆ°â€œç»“æœâ€ï¼Œå´ç”¨ä¸åˆ°çœŸå®é¡¹ç›®é‡Œï¼Œè¿™ç§æŒ«è´¥æ„Ÿå¾ˆå¼ºã€‚æˆ‘èŠ±äº†å¤ªå¤šæ—¶é—´ï¼Œæœ€åä¹Ÿæ²¡æœ‰è¾¾åˆ°æœŸæœ›ã€‚è‡³å°‘ï¼Œè¿™å¥—ä»£ç åº“è¿˜èƒ½ç»§ç»­å¸®æˆ‘å­¦ä¹ ã€‚</p>
<p>äºæ˜¯æˆ‘åœäº†ã€‚</p>
<p>Felix èµ¢äº†èµŒå±€ã€‚</p>
<p>è¿™æ®µé“ºå«å¯¹ä¸€ç¯‡â€œæ•™ç¨‹â€æ¥è¯´å¤ªé•¿äº†ï¼Œä½†æˆ‘æƒ³æŠŠèƒŒæ™¯äº¤ä»£æ¸…æ¥šï¼šæœ‰äº› Demo çœ‹èµ·æ¥åƒâ€œå‡ å¤©æå®šâ€ï¼Œå®é™…å¯èƒ½æ˜¯å¤šå¹´ç§¯ç´¯ï¼›ä½ è¦èŠ±æ—¶é—´å­¦å¾ˆå¤šæŠ€æœ¯ï¼Œä¹Ÿç»å¸¸è¦å€Ÿé‰´åˆ«äººçš„æƒ³æ³•â€”â€”æœ€åä¹Ÿå¯èƒ½ä»ç„¶å¤±è´¥ã€‚</p>
<h2 data-id="heading-3">WebGPU ç™»åœº</h2>
<p>è¿˜è®°å¾—é‚£äº›â€œç°ä»£å›¾å½¢ API çš„å…³é”®è¯â€å—ï¼ŸWebGPU åŸºäºç°ä»£ API æ ‡å‡†ï¼Œè¿™æ„å‘³ç€æˆ‘ä¸å¿…å†é  Hackï¼š</p>
<ul>
<li>æˆ‘å¯ä»¥ç”¨ compute shader ç›´æ¥æ“ä½œ storage bufferï¼›</li>
<li>æˆ‘å¯ä»¥ç”¨ atomics åšé‚»åŸŸæœç´¢ã€æµå‹ç¼©æ—¶çš„ç´¢å¼•å†™å…¥ï¼›</li>
<li>æˆ‘å¯ä»¥ç”¨ dispatch indirect æ¥åªç”Ÿæˆå¿…è¦æ•°é‡çš„ä¸‰è§’å½¢ï¼Œå¹¶ç”¨åŒæ ·çš„æ–¹å¼ç»˜åˆ¶å®ƒä»¬ã€‚</li>
</ul>
<p>æˆ‘æƒ³å­¦ä¹  WebGPUï¼Œäºæ˜¯å†³å®šæŠŠä¹‹å‰çš„æµä½“å·¥ä½œè¿ç§»è¿‡æ¥ï¼Œé¡ºä¾¿ç†è§£æ–°èŒƒå¼ï¼šæ€ä¹ˆç»„ç»‡ pipeline å’Œ bindingã€æ€ä¹ˆç®¡ç† GPU å†…å­˜ä¸èµ„æºâ€¦â€¦åšä¸€ä¸ªå° Demo å¾ˆé€‚åˆç»ƒæ‰‹ã€‚</p>
<p>éœ€è¦å…ˆè®²æ¸…æ¥šï¼šæœ¬æ–‡çš„ Demo <strong>å¹¶ä¸é€‚åˆç”Ÿäº§</strong>ã€‚åœ¨ M3 Max è¿™ç±»æ¯”è¾ƒå¼ºçš„ MacBook Pro ä¸Šå®ƒå¯èƒ½èƒ½è·‘åˆ° 120fpsï¼›M1 Pro ä¸Šå¤§æ¦‚ 60fpsï¼›å…¶å®ƒä¸é”™çš„æœºå™¨ä¹Ÿè®¸ 50fpsâ€¦â€¦ä½†å¦‚æœä½ æ‹¿å»è·‘åœ¨ MacBook Air ä¸Šï¼Œâ€œæµè§ˆå™¨æµä½“æ¢¦â€ä¼šå¾ˆå¿«ç ´ç¢ã€‚</p>
<p>é‚£å®ƒä¸ºä»€ä¹ˆä»ç„¶æœ‰ä»·å€¼ï¼Ÿ</p>
<p>å› ä¸ºå®ƒå…¶å®æ˜¯ä¸€ç»„å¯æ‹†è§£çš„æŠ€æœ¯é›†åˆã€‚ä½ å¯èƒ½å¯¹å…¶ä¸­æŸä¸ªéƒ¨åˆ†æ„Ÿå…´è¶£ï¼šç²’å­åŠ¨ç”»ã€ä»åŠ¿åœºç”Ÿæˆè¡¨é¢ï¼ˆé¿å… ray marchingï¼‰ã€é—´æ¥å…‰ã€ä¸–ç•Œç©ºé—´ AOâ€¦â€¦ä½ å¯ä»¥æŠŠä»“åº“é‡Œçš„ä»£ç æ‹¿å‡ºæ¥ï¼Œåªå–ä½ éœ€è¦çš„éƒ¨åˆ†æ¥æ„å»ºè‡ªå·±çš„æƒ³æ³•ã€‚</p>
<p>è¿™ä¸ª Demo å¤§è‡´å¯ä»¥æ‹†æˆ 4 ä¸ªä¸»è¦é˜¶æ®µï¼š</p>
<ul>
<li><strong>æµä½“æ¨¡æ‹Ÿ</strong>ï¼šç”¨ç²’å­æ¨¡æ‹Ÿï¼ˆåŸºäº Position Based Dynamics æ€è·¯ï¼‰é©±åŠ¨æµä½“çš„è¿åŠ¨ã€‚</li>
<li><strong>å‡ ä½•ç”Ÿæˆ</strong>ï¼šç”¨ GPU ä¸Šçš„ marching cubesï¼Œä»ç²’å­ç”Ÿæˆæ¸²æŸ“ç”¨ä¸‰è§’å½¢ã€‚</li>
<li><strong>å‡ ä½•æ¸²æŸ“</strong>ï¼šä½¿ç”¨è·ç¦»åœºä¼°ç®—å‡ ä½•åšåº¦ä»¥åšæ¬¡è¡¨é¢æ•£å°„ï¼ˆSSSï¼‰ï¼Œå¹¶ç”¨ä½“ç´ é”¥è¿½è¸ªï¼ˆVoxel Cone Tracingï¼‰è®¡ç®— AOã€‚</li>
<li><strong>åˆæˆ</strong>ï¼šåœ°é¢åå°„æ¨¡ç³Šã€è°ƒè‰²ä¸ Bloom ç­‰åæœŸã€‚</li>
</ul>
<h2 data-id="heading-4">æµä½“æ¨¡æ‹Ÿ</h2>
<p>å¾ˆå¤šå¹´å‰ï¼Œå¦‚æœä½ æƒ³åœ¨å›¾å½¢åœˆå­é‡Œâ€œæ˜¾å¾—å¾ˆé…·â€ï¼Œä½ å¾—è¯æ˜ä½ èƒ½è‡ªå·±åšæµä½“æ¨¡æ‹Ÿï¼šåš 2D å°±å¾ˆå¼ºï¼Œåš 3D å°±æ˜¯â€œå°ç¥â€ï¼ˆå½“ç„¶è¿™æ˜¯æˆ‘è„‘å†…çš„ä¸­äºŒè®¾å®šï¼‰ã€‚ä¸ºäº†â€œå°ç¥â€ï¼ˆä¹Ÿä¸ºäº†èµ¢èµŒå±€ï¼‰ï¼Œæˆ‘å¼€å§‹ç–¯ç‹‚è¯» 3D æ¨¡æ‹Ÿç›¸å…³çš„èµ„æ–™ã€‚</p>
<p>åšæµä½“çš„æ–¹æ³•å¾ˆå¤šï¼Œå…¶ä¸­ä¸€ç§å« <strong>SPH</strong>ã€‚ç†æ€§åšæ³•åº”è¯¥æ˜¯å…ˆè¯„ä¼°å“ªä¸ªæ–¹æ³•æ›´é€‚åˆ Webï¼Œä½†æˆ‘å½“æ—¶é€‰å®ƒå°±å› ä¸ºåå­—å¬èµ·æ¥å¾ˆé…·ã€‚SPH æ˜¯ç²’å­æ³•ï¼Œè¿™ä¸€ç‚¹é•¿æœŸæ¥çœ‹å¾ˆæœ‰å¥½å¤„ï¼Œå› ä¸ºåæ¥æˆ‘æŠŠ SPH æ¢æˆäº† position based çš„æ–¹æ³•ã€‚</p>
<p>å¦‚æœä½ åšè¿‡â€œç¾¤ä½“è¡Œä¸ºï¼ˆsteering behaviorsï¼‰â€æˆ– flockingï¼Œä¼šæ›´å®¹æ˜“ç†è§£ SPHã€‚</p>
<p>Three.js æœ‰å¾ˆå¤š flocking ç¤ºä¾‹ï¼Œå®ƒåŸºäºå¸å¼•ã€å¯¹é½ã€æ’æ–¥ç­‰ steering è¡Œä¸ºã€‚ç”¨ä¸åŒçš„æƒé‡/å‡½æ•°ï¼Œæ ¹æ®ç²’å­ä¹‹é—´çš„è·ç¦»å†³å®šç²’å­å—å“ªäº›è¡Œä¸ºå½±å“ã€‚</p>
<p>SPH çš„åšæ³•ä¹Ÿæœ‰ç‚¹ç±»ä¼¼ï¼šä½ å…ˆç®—æ¯ä¸ªç²’å­çš„å¯†åº¦ï¼Œå†ç”¨å¯†åº¦ç®—å‹åŠ›ï¼›å‹åŠ›å°±åƒ flocking é‡Œçš„å¸å¼•/æ’æ–¥ï¼Œä½¿ç²’å­é è¿‘æˆ–è¿œç¦»ã€‚å¯†åº¦åˆæ˜¯é‚»åŸŸç²’å­è·ç¦»çš„å‡½æ•°ï¼Œæ‰€ä»¥å‹åŠ›æœ¬è´¨ä¸Šä¹Ÿæ˜¯â€œç”±è·ç¦»é—´æ¥å†³å®šçš„â€ã€‚</p>
<p>SPH çš„ç²˜æ€§é¡¹ï¼ˆviscosityï¼‰ä¹Ÿç±»ä¼¼ flocking çš„å¯¹é½é¡¹ï¼ˆalignmentï¼‰ï¼šè®©ç²’å­é€Ÿåº¦è¶‹å‘é‚»åŸŸçš„å¹³å‡é€Ÿåº¦åœºã€‚</p>
<p>ä¸ºäº†ï¼ˆè¿‡åº¦ï¼‰ç®€åŒ–ï¼Œä½ å¯ä»¥æŠŠ SPH ç†è§£æˆï¼šç»™ flocking å¥—ä¸Šä¸€ç»„æ›´â€œç‰©ç†æ­£ç¡®â€çš„å‚æ•°ï¼Œè®©ç²’å­æ›´åƒæµä½“ã€‚å½“ç„¶ SPH è¿˜ä¼šæ¶‰åŠè¡¨é¢å¼ åŠ›ç­‰æ›´å¤šæ­¥éª¤ï¼Œä¸”å…¶æ ¸å‡½æ•°/æƒé‡è¿œæ¯”è¿™é‡Œæè¿°å¤æ‚ï¼Œä½†å¦‚æœä½ èƒ½æŠŠ flocking åšå¥½ï¼Œç†è§£ SPH ä¼šæ›´è½»æ¾ã€‚</p>
<p>SPH/ç¾¤ä½“è¡Œä¸ºéƒ½æœ‰ä¸€ä¸ªå…±åŒéš¾ç‚¹ï¼šæœ´ç´ å®ç°æ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>ï¼Œç²’å­å¤šå°±ä¼šçˆ†ç‚¸ã€‚ä½ éœ€è¦ä¸€ä¸ªåŠ é€Ÿç»“æ„åªæŸ¥è¯¢é™„è¿‘ç²’å­ï¼Œè®©å¤æ‚åº¦ä» <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> é™åˆ° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>k</mi><mo>â‹…</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(k\cdot n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></span> æ˜¯æ¯ä¸ªç²’å­è¦æ£€æŸ¥çš„é‚»å±…æ•°ï¼‰ã€‚å¸¸è§åšæ³•æ˜¯ä½“ç´ ç½‘æ ¼ï¼šæ¯ä¸ªä½“ç´ æ ¼å­å­˜æœ€å¤š 4 ä¸ªç²’å­ç´¢å¼•ã€‚</p>
<p>åœ¨è¿™ä¸ªç¤ºä¾‹é‡Œï¼Œç®—æ³•ä¼šæ£€æŸ¥ç²’å­å‘¨å›´ 27 ä¸ªä½“ç´ ï¼Œæ¯ä¸ªä½“ç´ æœ€å¤š 4 ä¸ªç²’å­ï¼Œæ‰€ä»¥æœ€å¤š 108 æ¬¡é‚»åŸŸæ£€æŸ¥ã€‚å¬èµ·æ¥ä¹Ÿä¸å°‘ï¼Œä½†æ¯”æ£€æŸ¥ 8 ä¸‡ä¸ªç²’å­è¦å¥½å¤ªå¤šã€‚</p>
<p>ä½†é‚»åŸŸéå†ä»ç„¶æ˜‚è´µã€‚SPH è¿˜è¦æ±‚å¤šæ¬¡ passï¼šå¯†åº¦ã€å‹åŠ›/ä½ç§»ã€ç²˜æ€§ã€è¡¨é¢å¼ åŠ›â€¦â€¦å½“ä½ æ„è¯†åˆ° GPU ç»å¤§éƒ¨åˆ†ç®—åŠ›éƒ½åœ¨â€œé©±åŠ¨ç²’å­â€æ—¶ï¼Œæ€§èƒ½å°±ä¼šå˜å¾—éå¸¸é‡è¦ã€‚</p>
<p>è€Œä¸” SPH å¾ˆéš¾è°ƒå‚ï¼Œä½ å¾—ç†è§£å¾ˆå¤šå·¥ç¨‹/ç‰©ç†å‚æ•°æ‰èƒ½åšå¾—å¥½çœ‹ã€‚</p>
<p>åæ¥ NVidia æå‡ºäº†ä¸€å¥—ç²’å­åŠ¨åŠ›å­¦æ–¹æ³•ï¼š<strong>Position Based Dynamicsï¼ˆPBDï¼‰</strong>ï¼Œå…¶ä¸­åŒ…å«åˆšä½“ã€è½¯ä½“ã€æµä½“ã€ç¢°æ’ç­‰ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fmmacklin.com%2F2017-EG-CourseNotes.pdf" target="_blank" title="https://mmacklin.com/2017-EG-CourseNotes.pdf" ref="nofollow noopener noreferrer">è¯¾ç¨‹ç¬”è®°åœ¨è¿™é‡Œ</a>ã€‚</p>
<p>PBD é€šè¿‡â€œçº¦æŸï¼ˆconstraintsï¼‰â€ç›´æ¥ä¿®æ­£ç²’å­ä½ç½®ï¼Œç»“æœç¨³å®šã€è°ƒå‚ç›¸å¯¹å®¹æ˜“ã€‚è¿™è®©æˆ‘ä» SPH è½¬å‘ <strong>PBFï¼ˆPosition Based Fluidsï¼‰</strong>ã€‚æ ¸å¿ƒå·®åˆ«åœ¨äºï¼šPBF ç”¨çº¦æŸæ¥å®šä¹‰ä½ç§»ï¼Œè€Œä¸æ˜¯åƒ SPH é‚£æ ·å…ˆç®—å¯†åº¦ã€‚</p>
<p>PBF çš„å‚æ•°æ›´â€œæ— é‡çº²â€ï¼Œæ›´å¥½ç†è§£ã€‚</p>
<p>ä½†å®ƒä¹Ÿæœ‰ä»£ä»·ï¼šPBD å¾€å¾€è¦è¿­ä»£å¤šæ¬¡æ‰èƒ½å¾—åˆ°æ›´å¥½ç»“æœï¼ˆè®¡ç®—çº¦æŸã€åº”ç”¨ä½ç§»ã€è®¡ç®—ç²˜æ€§â€¦â€¦åå¤æ‰§è¡Œï¼‰ï¼Œç¨³å®šä½†æ›´æ…¢ã€‚</p>
<p>è€Œæˆ‘ä¸æƒ³åªæ¸²æŸ“ç²’å­ï¼Œæˆ‘è¦æ¸²æŸ“ç½‘æ ¼ï¼šGPU è¿˜è¦ç®—ä¸‰è§’å½¢ã€åšæ¸²æŸ“ã€‚æˆ‘æ²¡æœ‰è¶³å¤Ÿé¢„ç®—åšå¤šè½®è¿­ä»£ï¼Œæ‰€ä»¥æˆ‘å¿…é¡»â€œç è§’â€ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼ŒPBD æœ‰ä¸€ç§å¾ˆä¾¿å®œçš„ç¢°æ’è®¡ç®—æ–¹å¼ï¼šåœ¨æ–½åŠ åŠ›ï¼ˆforcesï¼‰ååšä¸€æ¬¡ pass å³å¯ã€‚æˆ‘é€‰æ‹©ï¼š</p>
<ul>
<li>ç”¨é‡åŠ›ä½œä¸ºä¸»åŠ›ï¼›</li>
<li>ç”¨ curl noise ä½œä¸ºè¾…åŠ©åŠ›ï¼Œå¢åŠ æµä½“æ„Ÿï¼›</li>
<li>ç”¨é¼ æ ‡é©±åŠ¨ä¸€ä¸ªå¾ˆå¼ºçš„æ–¥åŠ›ï¼ˆrepulsionï¼‰ï¼›</li>
<li>è®©ç¢°æ’è´Ÿè´£é¿å…ç²’å­èšæˆå¥‡æ€ªçš„å›¢ã€‚</li>
</ul>
<p>curl + é‡åŠ›æä¾›â€œåƒæµä½“â€çš„æ•´ä½“è¶‹åŠ¿ï¼Œç¢°æ’é¿å…ç²’å­èšå›¢ã€‚å®ƒä¸å¦‚ PBF é‚£ä¹ˆçœŸå®ï¼Œä½†æ›´å¿«ã€‚</p>
<p>å®ç°ä¸Šåªéœ€è¦ä¸€æ¬¡ pass åº”ç”¨æ‰€æœ‰åŠ›ï¼ŒåŒæ—¶åœ¨ storage buffer é‡Œç”Ÿæˆç½‘æ ¼åŠ é€Ÿç»“æ„ï¼›atomics å†™ç´¢å¼•åªéœ€è¦å‡ è¡Œä»£ç ã€‚ä½ å¯ä»¥åœ¨ä»“åº“çš„ <code>PBF_applyForces.wgsl</code> é‡Œè¯»åˆ°åŠ›ä¸ç½‘æ ¼æ„å»ºçš„å®ç°ã€‚</p>
<p>ç²’å­ä½ç½®æ›´æ–°åœ¨ <code>PBF_calculateDisplacements.wgsl</code>ï¼šè´Ÿè´£éå†é‚»åŸŸåšç¢°æ’ï¼Œä¹Ÿè´Ÿè´£å’Œç¯å¢ƒï¼ˆä¸å¯è§åŒ…å›´ç›’ï¼‰ç¢°æ’ã€‚</p>
<p>pipeline ä¸ç»‘å®šåœ¨ <code>PBF.js</code>ï¼šæ¨¡æ‹Ÿåªç”¨ä¸‰ä¸ª shaderâ€”â€”æ–½åŠ›ã€ä½ç§»æ›´æ–°ã€é€Ÿåº¦ç§¯åˆ†ã€‚ä½ç½®æ›´æ–°åï¼Œé€Ÿåº¦é€šè¿‡â€œæ–°ä½ç½® - æ—§ä½ç½®â€çš„å·®å€¼å¾—åˆ°ã€‚</p>
<p>æœ€åä¸€ä¸ª shader <code>PBF_integrateVelocity.wgsl</code> è¿˜ä¼šè®¾ç½®ä¸€ä¸ªåŒ…å«ç²’å­ä¿¡æ¯çš„ 3D çº¹ç†ï¼Œåç»­ä¼šç”¨äº marching cubes ç”ŸæˆåŠ¿åœºã€‚</p>
<h2 data-id="heading-5">Marching Cubesï¼ˆå‡ ä½•ç”Ÿæˆï¼‰</h2>
<p>å½“å¹´æˆ‘ç¬¬ä¸€æ¬¡ç”¨ SPH æŠŠç²’å­è·‘èµ·æ¥æ—¶å…´å¥‹å¾—ä¸è¡Œï¼Œåœ¨åŠå…¬å®¤åˆ°å¤„å¹ï¼ˆåŸºæœ¬åˆ°å¤„éƒ½æ˜¯ï¼‰ã€‚Felix å½“ç„¶çŸ¥é“æ€ä¹ˆæ²»æˆ‘ï¼šä»–æŠŠæˆ‘èµ¶å›å»ç»§ç»­åšâ€œè¡¨é¢ç”Ÿæˆâ€ï¼Œå› ä¸ºåªæœ‰æŠŠæµä½“æ¸²æŸ“æˆæ¶²ä½“è¡¨é¢è€Œä¸æ˜¯ç‚¹ï¼Œæ‰ç®—â€œåƒæ ·â€ã€‚</p>
<p>ä»ç²’å­åœºæ¸²æŸ“è¡¨é¢å¸¸è§æœ‰ä¸‰ç§æ€è·¯ï¼š</p>
<ul>
<li>Point Splatting</li>
<li>Raymarching</li>
<li>Marching Cubes</li>
</ul>
<p>Point splatting æ˜¯æœ€ç®€å•ä¹Ÿæœ€å¿«çš„ä¸€ç§ï¼šå±å¹•ç©ºé—´æ•ˆæœï¼Œæ¸²æŸ“ç²’å­åç»“åˆå¯åˆ†ç¦»æ¨¡ç³Šä¸æ·±åº¦æ¥ç”Ÿæˆæ³•çº¿ã€‚æ•ˆæœå¾ˆä¸é”™ï¼Œè¿˜èƒ½åšç„¦æ•£ï¼Œå®æ—¶æ€§èƒ½ä¹Ÿå¥½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52e2d6af1d614b8984c5ae358dd1e3fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781372&amp;x-signature=DkJtpujkAeTd8oY205pgW7GfOJ8%3D" alt="image.png" loading="lazy"/></p>
<p>Raymarching å¾ˆæœ‰è¶£ï¼Œèƒ½åšå¤šæ¬¡åå°„æŠ˜å°„ç­‰å¤æ‚æ•ˆæœï¼Œä½†éå¸¸æ…¢ï¼šä½ éœ€è¦ä»ç²’å­ç”Ÿæˆè·ç¦»åœºï¼Œå†åœ¨è·ç¦»åœºé‡Œåšæ­¥è¿›é‡‡æ ·ï¼ˆè¿‡å»è¿˜æ²¡æœ‰ 3D çº¹ç†ï¼Œåªèƒ½è½¯æ’å€¼ï¼‰ã€‚å³ä½¿ç¡¬ä»¶æ”¯æŒä¸‰çº¿æ€§æ’å€¼ï¼Œæ€§èƒ½ä¹Ÿä¾ç„¶ä¸å¤ªç†æƒ³ã€‚ç”»é¢å¾ˆç¾ï¼Œä½†ä¸é€‚åˆå®æ—¶ã€‚</p>
<p>Marching cubes å¬èµ·æ¥å¾ˆå¸å¼•äººï¼šä»ç²’å­ç”Ÿæˆçš„åŠ¿åœºï¼ˆpotential fieldï¼‰é‡Œæå–ç­‰å€¼é¢ç”Ÿæˆç½‘æ ¼ã€‚ä¼˜ç‚¹æ˜¯ç½‘æ ¼å¯ç›´æ¥æ …æ ¼åŒ–ï¼Œåœ¨é«˜åˆ†è¾¨ç‡ä¸‹ä¹Ÿèƒ½ç¨³å®šæ¸²æŸ“ï¼›å¹¶ä¸”æœ‰äº†ç½‘æ ¼ï¼Œå¾ˆå¤šâ€œåå°„â€å°±èƒ½æ›´ä¾¿å®œåœ°å®ç°ã€‚ä¸å‰ä¸¤ç§æ–¹æ¡ˆç›¸æ¯”ï¼Œå®ƒæ›´å®¹æ˜“ä½œä¸ºä¸–ç•Œç©ºé—´å‡ ä½•ä½“èå…¥åœºæ™¯ã€‚</p>
<p>Three.js æœ‰ marching cubes çš„ä¾‹å­ï¼Œä½†é‚£äº›æ˜¯ CPU ä¸Šç”Ÿæˆè¡¨é¢ï¼›è€Œæˆ‘çš„ç²’å­æ•°æ®åœ¨ GPUã€‚æˆ‘å»è¯» Matt Swoboda çš„åˆ†äº«ï¼Œäº†è§£ä»–å¦‚ä½•åœ¨ GPU ä¸Šåš marching cubesï¼Œä½†é‡Œé¢æœ‰å¾ˆå¤šæˆ‘å½“æ—¶è¿˜ä¸æ‡‚çš„é—®é¢˜ï¼š</p>
<ul>
<li>å¦‚ä½•ä»ç²’å­åœºç”ŸæˆåŠ¿åœºï¼Ÿ</li>
<li>é—´æ¥ dispatch æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ</li>
<li>å¦‚ä½•åœ¨ GPU ä¸Šç”Ÿæˆä¸‰è§’å½¢ï¼Ÿ</li>
</ul>
<p>å…ˆæŠŠè·¯çº¿å›¾è®²æ¸…æ¥šã€‚Marching cubes æœ¬è´¨æ˜¯ä»åŠ¿åœºæå–ç­‰å€¼é¢ï¼ˆiso-surfaceï¼‰ã€‚å…³é”®æ­¥éª¤æœ‰ï¼š</p>
<ol>
<li>ä»ç²’å­ç”ŸæˆåŠ¿åœºï¼ˆpotentialï¼‰ã€‚</li>
<li>åœ¨ä½“ç´ ç½‘æ ¼ä¸Šè¯„ä¼°åŠ¿å€¼ï¼Œå†³å®šæ¯ä¸ªä½“ç´ å¯¹åº” 256 ç§â€œcaseâ€é‡Œå“ªä¸€ç§ï¼ˆæ¯ä¸ªä½“ç´ ä¼šç”Ÿæˆ 0 åˆ° 5 ä¸ªä¸‰è§’å½¢ï¼‰ã€‚</li>
<li>GPU ä¸ŠæŠŠæ»¡è¶³æ¡ä»¶çš„ä½“ç´ å†™å…¥è¿ç»­ bufferï¼ˆç”¨ atomics è¿½åŠ ï¼‰ã€‚</li>
<li>æ ¹æ®ä½“ç´ ä¿¡æ¯ç”Ÿæˆä¸‰è§’å½¢ã€‚</li>
</ol>
<h3 data-id="heading-6">åŠ¿åœºç”Ÿæˆï¼ˆPotential Generationï¼‰</h3>
<p>å¦‚æœä½ äº†è§£ point splattingï¼Œä¼šå‘ç°â€œæ¨¡ç³Šâ€å¾ˆå…³é”®ï¼šå®ƒèƒ½æŠŠç‚¹äº‘å¹³æ»‘æˆè¿‘ä¼¼è¡¨é¢ã€‚åŒæ ·æ€è·¯ä¹Ÿé€‚ç”¨äº 3D çº¹ç†ï¼šå¯¹ 3D çº¹ç†åš blurï¼Œå°±èƒ½å¾—åˆ°ä¸€ç§â€œç©·äººç‰ˆè·ç¦»åœºâ€ã€‚</p>
<p>ä½ ä¹Ÿå¯ä»¥ç”¨ Jump Flood ç®—æ³•ç”Ÿæˆæ›´ç²¾ç¡®çš„è·ç¦»åœºï¼ˆç²’å­ä¹Ÿå¯ä»¥ï¼‰ï¼Œçœ‹èµ·æ¥è¿˜å¯èƒ½æ¯” 3D blur æ›´å¿«â€”â€”ä½†å®ƒæœ‰ä¸ªè‡´å‘½ç¼ºç‚¹ï¼šå®ƒ<strong>å¤ªç²¾ç¡®</strong>äº†ã€‚</p>
<p>Jump Flood çš„ç»“æœæ›´åƒæ˜¯ä¸€ç»„çƒä½“çš„è·ç¦»åœºï¼Œç­‰å€¼é¢é˜ˆå€¼ä¸åŒä¼šæŠŠçƒâ€œè¿èµ·æ¥â€ï¼Œä½†ä¸ä¼šä»¥ä¸€ç§â€œå¥½çœ‹â€çš„æ–¹å¼å¹³æ»‘ã€‚ä½ å¾—æœ‰éå¸¸å¤šçš„ç²’å­æ‰ä¼šåƒè¿ç»­è¡¨é¢ï¼Œè€Œé‚£ç§æƒ…å†µä¸‹ä½ å€’ä¸å¦‚ç›´æ¥ç”¨ point splattingã€‚</p>
<p>3D blur åè€Œä¼šæŠŠç²’å­â€œæŠ¹å¼€â€ï¼Œå»æ‰é«˜é¢‘çš„é¢—ç²’æ„Ÿï¼Œè®©å®ƒæ›´åƒè¡¨é¢ã€‚blur æ¬¡æ•°è¶Šå¤šï¼Œè¡¨é¢è¶Šå¹³æ»‘ï¼›ä½ ä¹Ÿèƒ½å°è¯•ä¸åŒ blur æ–¹å¼æ··åˆå‡ºä¸åŒçš„è¡¨é¢æ•ˆæœã€‚å¥‡å¦™çš„æ˜¯ï¼šè¿™ä¸ªç®€å•åŠæ³•åœ¨è¿™é‡Œåè€Œæ›´å¿«ã€æ›´å®ç”¨ã€‚</p>
<p>å®ç°ä¸Šï¼Œblur ç”¨ compute shader <code>Blur3D.wgsl</code>ï¼Œæ²¿ä¸‰ä¸ªè½´å„ dispatch ä¸€æ¬¡ï¼›ç»‘å®šä¸ dispatch åœ¨ <code>Blur3D.js</code>ã€‚</p>
<h3 data-id="heading-7">ä½“ç´ ç­›é€‰ï¼ˆChecking voxelsï¼‰</h3>
<p>åŠ¿åœºç”Ÿæˆåï¼Œæˆ‘ç”¨å¦ä¸€ä¸ª compute shader æ‰«æä½“ç´ ç½‘æ ¼ï¼Œæ‰¾å‡ºä¼šç”Ÿæˆä¸‰è§’å½¢çš„ä½“ç´ ã€‚ä»“åº“é‡Œçš„ <code>MarchCase.wgsl</code> ä¼šéå†æ•´ä¸ªä½“ç´ ç½‘æ ¼ï¼Œä¸ºéœ€è¦ç”Ÿæˆä¸‰è§’å½¢çš„ä½“ç´ è®¡ç®— marching cubes caseï¼Œå¹¶ç”¨ atomics æŠŠè¯¥ä½“ç´ çš„ 3D åæ ‡ä¸ case è¿ç»­å†™å…¥ storage bufferã€‚</p>
<p>ç„¶å <code>EncodeBuffer.wgsl</code> è¯»å–ä¸Šä¸€æ­¥å¾—åˆ°çš„ä½“ç´ æ•°é‡ï¼Œç¼–ç å‡ºç”¨äºâ€œé—´æ¥ dispatchâ€çš„å‚æ•°ï¼ˆä¸‰è§’å½¢ç”Ÿæˆéœ€è¦å¤šå°‘é¡¶ç‚¹ï¼‰ä»¥åŠâ€œé—´æ¥ drawâ€çš„å‚æ•°ï¼ˆéœ€è¦ç»˜åˆ¶å¤šå°‘ä¸‰è§’å½¢ï¼‰ã€‚</p>
<h3 data-id="heading-8">ä¸‰è§’å½¢ç”Ÿæˆï¼ˆTriangles Generationï¼‰</h3>
<p>è´Ÿè´£ç”Ÿæˆé¡¶ç‚¹/æ³•çº¿çš„ shader æ˜¯ <code>GenerateTriangles.wgsl</code>ã€‚å®ƒæ ¹æ®æ¯ä¸ªçº¿ç¨‹çš„å…¨å±€ç´¢å¼•å®šä½åˆ°å¯¹åº”ä½“ç´ å’Œè¦ç”Ÿæˆçš„é¡¶ç‚¹ï¼Œå¹¶é€šè¿‡ <code>EncodeBuffer.wgsl</code> äº§ç”Ÿçš„é—´æ¥ dispatch æ¥è¿è¡Œã€‚</p>
<p>ä½“ç´ ä¿¡æ¯ç”¨äºåœ¨è¾¹çš„ä¸¤ä¸ªè§’ç‚¹ä¹‹é—´åšçº¿æ€§æ’å€¼ï¼Œå¾—åˆ°é¡¶ç‚¹ä½ç½®ï¼›æ³•çº¿åˆ™æ¥è‡ªè¾¹ä¸¤ç«¯è§’ç‚¹æ¢¯åº¦ï¼ˆgradientï¼‰çš„çº¿æ€§æ’å€¼ã€‚</p>
<p>åŠ¿åœºç”Ÿæˆã€ä½“ç´ æ”¶é›†ã€ä¸‰è§’å½¢ç”Ÿæˆè¿™äº›æ­¥éª¤åœ¨ <code>TrianglesGenerator.js</code> çš„ <code>generateTriangles</code> å‡½æ•°é‡Œä¸²èµ·æ¥ï¼Œæ¯æ¬¡ç²’å­ä½ç½®æ›´æ–°åéƒ½ä¼šè°ƒç”¨ã€‚</p>
<h2 data-id="heading-9">æ¸²æŸ“</h2>
<p>è¿™äº›å¹´æˆ‘æœ€å¤§çš„é”™è¯¯ä¹‹ä¸€ï¼Œæ˜¯æŠŠâ€œæ¨¡æ‹Ÿ/GPGPU æŠ€æœ¯â€çœ‹å¾—æ¯”â€œè§†è§‰ç¾æ„Ÿâ€æ›´é‡è¦ã€‚æˆ‘å¤ªæ‰§ç€äºè¯æ˜è‡ªå·±èƒ½åšå¤æ‚ä¸œè¥¿ï¼Œè€Œå¿½ç•¥äº†æœ€ç»ˆç”»é¢ã€‚</p>
<p>Felix ç»å¸¸åœ¨æˆ‘å‡†å¤‡å‘å¸ƒ Demo ä¹‹å‰æ‹¦ä½æˆ‘ï¼šèŠ±æ›´å¤šæ—¶é—´æŠŠç”»é¢æ‰“ç£¨å¾—æ›´èˆ’æœï¼Œåˆ«åªåšæˆé‚£ç§â€œåªæœ‰å››ä¸ªäººä¼šè§‰å¾—å¾ˆé…·â€çš„æŠ€æœ¯å±•ç¤ºã€‚</p>
<p>ç›¸ä¿¡æˆ‘ï¼šä½ å¯ä»¥åšå¾ˆå¼ºçš„ç‰©ç†æ¨¡æ‹Ÿã€å¾ˆå¤æ‚çš„æè´¨â€”â€”ä½†å¦‚æœçœ‹èµ·æ¥å¾ˆç³Ÿç³•ï¼Œé‚£å®ƒå°±æ˜¯ç³Ÿç³•ã€‚</p>
<p>æµä½“çš„éš¾ç‚¹åœ¨äºï¼šä½ å·²ç»æŠŠå¤§é‡ GPU æ—¶é—´èŠ±åœ¨ç²’å­åŠ¨åŠ›å­¦å’Œè¡¨é¢ç”Ÿæˆä¸Šäº†ï¼Œç•™ç»™æ¸²æŸ“æ•ˆæœçš„é¢„ç®—ä¸å¤šï¼›è¿˜è¦ç»™åœºæ™¯é‡Œå…¶å®ƒä¸œè¥¿ç•™æ—¶é—´ã€‚æ‰€ä»¥å®æ—¶æµä½“ä¸€èˆ¬å¾ˆéš¾åšåˆ°â€œæè‡´ç”»è´¨â€ã€‚</p>
<p>å®æ—¶æ¸²æŸ“æ¶²ä½“çš„æœ€ä¼˜è§£é€šå¸¸æ˜¯ point splattingï¼šåå°„ã€æŠ˜å°„ã€é˜´å½±ã€ç„¦æ•£éƒ½èƒ½åšï¼Œè€Œä¸”å¾ˆâ€œä¾¿å®œâ€ã€‚ä¸ä¿¡å¯ä»¥çœ‹çœ‹è¿™ä¸ªå¾ˆæ£’çš„ Demoï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwebgpu-ocean.netlify.app%2F" target="_blank" title="https://webgpu-ocean.netlify.app/" ref="nofollow noopener noreferrer">webgpu-ocean.netlify.app/</a></p>
<p>å¦‚æœä½ è¦çš„æ˜¯ä¸é€æ˜/åŠé€æ˜ä½†ä¸éœ€è¦â€œçœŸæ­£é€æ˜â€çš„æ¶²ä½“ï¼ˆæ¯”å¦‚é¢œæ–™ï¼‰ï¼Œmarching cubes æ˜¯ä¸é”™é€‰æ‹©ï¼šä½ å¯ä»¥ç”¨ PBR å¾—åˆ°å¾ˆå¥½çœ‹çš„è§†è§‰ï¼Œè€Œä¸”å®ƒæ˜¯ä¸–ç•Œç©ºé—´å‡ ä½•ï¼Œå’Œåœºæ™¯æ•´åˆæ›´ç®€å•ã€‚</p>
<p>åœ¨è¿™ä¸ª Demo çš„èŒƒå›´é‡Œï¼Œæˆ‘æƒ³åˆ©ç”¨ç°æˆçš„ä½“ç´ ç»“æ„ï¼ˆç”¨äºä¸‰è§’å½¢ç”Ÿæˆï¼‰ä»¥åŠç”¨äºç”Ÿæˆä¸‰è§’å½¢çš„åŠ¿åœºï¼ˆå¯è§†ä½œè·ç¦»åœºï¼‰ï¼Œåšä¸€äº›â€œç›¸å¯¹ä¾¿å®œä½†æœ‰æ•ˆâ€çš„è§†è§‰æå‡ã€‚</p>
<p>æˆ‘å…ˆåšäº†åŸºäºä½“ç´ é”¥è¿½è¸ªï¼ˆVoxel Cone Tracingï¼ŒVCTï¼‰çš„ AOã€‚VCT é€šå¸¸è¦æ±‚å…ˆæŠŠä¸‰è§’å½¢ä½“ç´ åŒ–ï¼Œä½†è¿™ä¸ª Demo åè¿‡æ¥ï¼šæˆ‘ä»¬æœ¬æ¥å°±æ˜¯ä»ä½“ç´ ç”Ÿæˆä¸‰è§’å½¢ã€‚æ‰€ä»¥ VCT æ‰€éœ€çš„ä¸€å¤§å—å·¥ä½œå·²ç»åœ¨æµç¨‹é‡Œã€‚</p>
<p>æˆ‘åªéœ€è¦ç¨å¾®æ”¹ä¸€ä¸‹ <code>MarchCase.wgsl</code>ï¼šç”¨ç¦»æ•£åŒ–æ–¹å¼æ›´æ–°ä½“ç´ ç½‘æ ¼â€”â€”æœ‰ä¸‰è§’å½¢çš„ä½“ç´ æ ‡è®°ä¸º 1ï¼Œæ²¡æœ‰çš„æ ‡è®°ä¸º 0ï¼›åŒæ—¶æŠŠåœ°é¢ä»¥ä¸‹ä¸€å®šé«˜åº¦çš„ä½“ç´ æ ‡ 0.5 æ¥æ¨¡æ‹Ÿåœ°é¢ AOã€‚åªå¤šåŠ ä¸¤è¡Œä»£ç å°±èƒ½å‡†å¤‡å¥½ VCT çš„ä¿¡æ¯ã€‚</p>
<p>ä½“ç´ ç½‘æ ¼æ›´æ–°åï¼Œå†å¯¹ 3D çº¹ç†åš mipmapï¼ˆ<code>MipMapCompute.wgsl</code>ï¼Œç»‘å®šåœ¨ <code>CalculateMipMap.js</code>ï¼‰ã€‚</p>
<p>ä½ ä¼šæ³¨æ„åˆ°æˆ‘ä¹Ÿåšäº†åœ°é¢åå°„ï¼šmarching cubes ç”Ÿæˆçš„æ˜¯ç½‘æ ¼ï¼Œåšåå°„å¾ˆç›´æ¥â€”â€”ç®—åå°„çŸ©é˜µï¼ŒæŠŠç½‘æ ¼ç»˜åˆ¶ä¸¤éå³å¯ã€‚è‹¥ç”¨ ray marching åšåŒæ ·æ•ˆæœä¼šè´µå¾ˆå¤šã€‚</p>
<p>è¿™æ—¶æˆ‘è¿˜æœ‰ä¸€ç‚¹ GPU é¢„ç®—ï¼Œäºæ˜¯ç»§ç»­é—®æœ‹å‹ï¼šè¿˜æœ‰ä»€ä¹ˆç‰¹æ€§å€¼å¾—åŠ ï¼Ÿæœ‰äººå»ºè®®åšæ¬¡è¡¨é¢æ•£å°„ï¼ˆSubsurface Scatteringï¼ŒSSSï¼‰ï¼Œåƒä¸‹é¢è¿™ç§æ•ˆæœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0a005defdf94b9ab69c2e9e5833a86f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781372&amp;x-signature=STYIG4D0xU96WJSmhVS1xwEKqHs%3D" alt="image.png" loading="lazy"/></p>
<p>SSS åšå¾—å¥½éå¸¸åŠ åˆ†ï¼Œéš¾ç‚¹åœ¨äºè¦çŸ¥é“å‡ ä½•ä½“çš„åšåº¦ï¼ˆthicknessï¼‰ï¼Œæ‰èƒ½å†³å®šå…‰åœ¨å†…éƒ¨æ•£å°„çš„ç¨‹åº¦ã€‚</p>
<p>å¾ˆå¤š SSS demo ç”¨â€œåšåº¦è´´å›¾â€ï¼Œä½†æµä½“è¡¨é¢æ— æ³•çƒ˜ç„™åšåº¦ï¼Œå¿…é¡»å®æ—¶è®¡ç®—ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬åœ¨ç”Ÿæˆä¸‰è§’å½¢ä¹‹å‰å·²ç»æœ‰åŠ¿åœºï¼Œå®ƒå¯ä»¥å½“è·ç¦»åœºç”¨æ¥å®æ—¶ä¼°ç®—è¡¨é¢åšåº¦ã€‚æ¦‚å¿µä¸Šç±»ä¼¼ IÃ±igo Quilez åš AO çš„æ–¹å¼ï¼šåœ¨è·ç¦»åœºé‡Œ ray marchingï¼Œçœ‹è¡¨é¢è·ç¦»å¦‚ä½•å½±å“é®è”½ã€‚</p>
<p>æˆ‘é‡‡ç”¨ç±»ä¼¼æ€è·¯ï¼Œä½†æŠŠå…‰çº¿æ²¿â€œè¿›å…¥å‡ ä½•å†…éƒ¨â€çš„æ–¹å‘å‘å°„ï¼Œä»è€Œä¼°ç®—å†…éƒ¨å…‰ä¼ æ’­è¢«é®æŒ¡çš„ç¨‹åº¦â€”â€”åšçš„åœ°æ–¹æ•£å°„å¼±ï¼Œè–„çš„åœ°æ–¹æ•£å°„å¼ºã€‚æ•ˆæœå‡ºä¹æ„æ–™åœ°å¥½ã€‚</p>
<p>å‡ ä½•æè´¨åœ¨ <code>RenderMC.wgsl</code>ï¼šé¡¶ç‚¹ç€è‰²å™¨ä½¿ç”¨å­˜å‚¨åœ¨ storage buffer çš„é¡¶ç‚¹ä½ç½®ä¸æ³•çº¿ã€‚å› ä¸º CPU ä¸çŸ¥é“ marching cubes å®é™…ç”Ÿæˆäº†å¤šå°‘ä¸‰è§’å½¢ï¼Œæ‰€ä»¥ç”¨ <code>EncodeBuffer.wgsl</code> ç¼–ç å‡ºçš„é—´æ¥ draw æ¥ç»˜åˆ¶ã€‚</p>
<p>ç»‘å®šé‡Œæˆ‘ç”¨äº†ä¸¤å¥—çŸ©é˜µï¼šä¸€å¥—ç”¨äºæ­£å¸¸è§†è§’ï¼Œå¦ä¸€å¥—ç”¨äºåå°„ç½‘æ ¼ï¼›è¿™äº›åœ¨ <code>Main.js</code> å®Œæˆã€‚</p>
<p>åˆ°è¿™ä¸€æ­¥ï¼Œæ¨¡æ‹Ÿã€è¡¨é¢ç”Ÿæˆã€æè´¨éƒ½æœ‰äº†ï¼Œæ¥ä¸‹æ¥è¯¥è°ˆåˆæˆï¼ˆcompositionï¼‰ã€‚</p>
<h2 data-id="heading-10">åˆæˆï¼ˆCompositionï¼‰</h2>
<p>ä½ å¯èƒ½è§‰å¾—è‡ªå·±æ˜¯å¾ˆå‰å®³çš„å›¾å½¢å¼€å‘è€…ï¼šä¼šç”¨ Three.js / Babylon.js / PlayCanvas åšé…·ç‚«æ•ˆæœâ€¦â€¦ä¹Ÿå¯èƒ½ä½ æ›´å¼ºï¼Œå¾ˆå¤šä¸œè¥¿è‡ªå·±å†™ã€‚</p>
<p>æˆ‘æƒ³è¯´çš„æ˜¯ï¼šæˆ‘ä¸æ˜¯ã€‚</p>
<p>æˆ‘ä¸ºä»€ä¹ˆçŸ¥é“ï¼Ÿ</p>
<p>å› ä¸ºæˆ‘æ›¾åœ¨ Active Theoryï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Factivetheory.net%2F" target="_blank" title="https://activetheory.net/" ref="nofollow noopener noreferrer">activetheory.net/</a>ï¼‰å·¥ä½œï¼Œèº«è¾¹æ˜¯éå¸¸ä¼˜ç§€çš„å›¾å½¢å¼€å‘å’Œ 3D è‰ºæœ¯å®¶ã€‚ä»–ä»¬è®©æˆ‘çœ‹æ¸…è‡ªå·±çš„çŸ­æ¿ï¼Œä¹Ÿå¸®åŠ©æˆ‘æŠŠäº¤ä»˜ç‰©æ¨åˆ°æ›´å¥½çš„çŠ¶æ€ã€‚</p>
<p>å¦‚æœä½ èƒ½äº‰å–å’Œä»–ä»¬å…±äº‹ï¼Œå¯¹ä½ çš„èŒä¸šå‘å±•éå¸¸æœ‰å¸®åŠ©â€”â€”ä½ ä¼šå­¦åˆ°å¾ˆå¤šã€‚</p>
<p>å…¶ä¸­æœ€å…³é”®çš„ä¸€ç‚¹æ˜¯ï¼š<strong>åˆæˆå†³å®šä¸€åˆ‡ã€‚</strong></p>
<p>æˆ‘è¯·æ›¾åœ¨ Active Theory å…±äº‹çš„ Paul-guilhem Repauxï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Farpeegee" target="_blank" title="https://x.com/arpeegee" ref="nofollow noopener noreferrer">x.com/arpeegee</a>ï¼‰å¸®æˆ‘åšåˆæˆå»ºè®®ã€‚ä»–æŒ‡å‡ºäº†å‡ ä¸ªå…³é”®é—®é¢˜ï¼š</p>
<ul>
<li>åœ°é¢åå°„è¿‡äºæ¸…æ™°ï¼Œåº”è¯¥æ›´ç²—ç³™ï¼ˆæ›´æ¨¡ç³Šï¼‰ã€‚</li>
<li>é»‘è‰²èƒŒæ™¯æ— æ³•ä½“ç°å…‰ä»å“ªé‡Œæ¥ï¼›èƒŒæ™¯åº”è¯¥è¥é€ æ›´â€œæœ‰æƒ…ç»ªâ€çš„æ°›å›´ã€‚</li>
<li>ç¼ºå°‘æŠŠå‡ ä½•ä½“ä¸ç¯å¢ƒèåˆçš„å…‰æ•ˆã€‚</li>
<li>å­—æ¯ä¹‹é—´çš„è¿‡æ¸¡ç¼ºä¹åˆç†æ€§ã€‚</li>
<li>éœ€è¦è°ƒè‰²ã€‚</li>
</ul>
<p>ï¼ˆå½“ç„¶è¿˜æœ‰å¾ˆå¤šèƒ½æ”¹çš„åœ°æ–¹ï¼Œä»–åªæ˜¯å¾ˆå‹å¥½åœ°æŒ‘äº†æœ€å…³é”®çš„ã€‚ï¼‰</p>
<h3 data-id="heading-11">åå°„</h3>
<p>ç¬¬ä¸€ç‚¹å¯ä»¥ç”¨åæœŸè§£å†³ï¼šæ ¹æ®å‡ ä½•ä½“åˆ°åœ°é¢çš„è·ç¦»å†³å®šåå°„çš„æ¨¡ç³Šç¨‹åº¦â€”â€”ç¦»åœ°è¶Šè¿œè¶Šæ¨¡ç³Šï¼Œä»è€Œå¾—åˆ°â€œç²—ç³™åº¦â€æ•ˆæœã€‚</p>
<p>ä½†å¦‚æœåªåœ¨â€œæœ‰å‡ ä½•ä½“é«˜åº¦ä¿¡æ¯â€çš„åŒºåŸŸæ¨¡ç³Šï¼Œå‘¨å›´ç©ºç™½åŒºåŸŸä¼šä¸æ¨¡ç³Šï¼Œç»“æœä¼šå¾ˆæ€ªã€‚</p>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘å…ˆåšäº†ä¸€ä¸ªé¢„å¤„ç† passï¼šæŠŠåå°„å‡ ä½•ä½“åšä¸€ä¸ªåç§»ï¼Œå¹¶æŠŠâ€œæœ€è¿‘çš„é«˜åº¦â€å†™å…¥ä¸€å¼ çº¹ç†ï¼Œç”¨æ¥åœ¨ç©ºç™½åŒºåŸŸä¹Ÿå†³å®šæ¨¡ç³Šå¼ºåº¦ã€‚</p>
<p>æ·±çº¢è‰²æ˜¯æœªåå°„å‡ ä½•ä½“ï¼Œç»¿è‰²æ˜¯åå°„å‡ ä½•ä½“ï¼ˆåŒ…å«åç§»ï¼‰ï¼Œä½ ä¼šçœ‹åˆ°ç»¿è‰²æ›´â€œåšâ€ã€‚é«˜åº¦ç¼–ç åœ¨çº¢è‰²é€šé“é‡Œï¼Œå¯è§†ä¸ºä»åœ°é¢åˆ°ä¸Šæ–¹çš„æ¸å˜ã€‚</p>
<h3 data-id="heading-12">èƒŒæ™¯ä¸å…‰</h3>
<p>SSS çš„å®ç°å‡è®¾å…‰æºå§‹ç»ˆä»å‡ ä½•ä½“èƒŒåæ‰“è¿‡æ¥â€”â€”å³ä¾¿é•œå¤´ç§»åŠ¨ï¼Œè¿™ä¸ªæ–¹å‘ä¹Ÿå¾—æˆç«‹ï¼Œå¦åˆ™ SSS ä¸æ˜æ˜¾ã€‚</p>
<p>è¿™å¯¹èƒŒæ™¯è®¾è®¡åè€Œæ˜¯å¥½äº‹ï¼šèƒŒæ™¯å¯ä»¥åšä¸€ä¸ªâ€œèƒŒå…‰æ¸å˜â€ï¼Œè‡ªç„¶åœ°è§£é‡Šå…‰æ¥è‡ªèƒŒåï¼›åŒæ—¶èƒŒæ™¯è‰²ä¹Ÿå¯ä»¥å’Œæè´¨æ›´æ¥è¿‘ï¼Œè®©æ•´ä½“æ›´èåˆã€‚</p>
<h3 data-id="heading-13">å…‰æ•ˆèåˆ</h3>
<p>æœ€åï¼Œä¸ºäº†è®©èƒŒæ™¯ä¸å‡ ä½•ä½“çš„å…‰èåˆå¾—æ›´å¥½ï¼Œæˆ‘åŠ äº† Bloomï¼šåœ¨å‡ ä½•ä½“æ›´è–„çš„åŒºåŸŸï¼ŒBloom æ›´å¼ºï¼Œä»è€Œå¼ºåŒ– SSS çš„è§†è§‰ã€‚</p>
<p>ï¼ˆé¡ºå¸¦ä¸€æï¼šæˆ‘è¿˜å°è¯•è¿‡æŠŠå­—æ¯åŠ¨ç”»å’Œ Codrops çš„ Logo å¯¹é½ï¼Œä½†çœ‹èµ·æ¥åƒå„¿ç«¥è¯†å­—åº”ç”¨ï¼Œäºæ˜¯æ”¾å¼ƒã€‚ï¼‰</p>
<h3 data-id="heading-14">è°ƒè‰²ä¸æ°›å›´</h3>
<p>æœ€åæˆ‘åŠ äº†äº®åº¦ã€å¯¹æ¯”åº¦ã€gamma æ ¡æ­£ï¼Œé€‰æ‹©åæš–çš„é…è‰²è®©æ°›å›´æ›´æŸ”å’Œã€‚åæœŸç”±å¤šä¸ª compute shader å®Œæˆï¼Œåœ¨ <code>Main.js</code> é‡Œè°ƒç”¨ã€‚</p>
<p>å®Œæ•´ä»£ç åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHectorArellanoDev%2FCodrops" target="_blank" title="https://github.com/HectorArellanoDev/Codrops" ref="nofollow noopener noreferrer">github.com/HectorArellâ€¦</a></p>
<p>ç®€åŒ–ç‰ˆä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHectorArellanoDev%2FCodropsBasic" target="_blank" title="https://github.com/HectorArellanoDev/CodropsBasic" ref="nofollow noopener noreferrer">github.com/HectorArellâ€¦</a></p>
<p>ä½ å¯ä»¥é€šè¿‡åœ¨ Demo URL æœ«å°¾åŠ  <code>/?word=something</code> æ¥æ›´æ”¹å±•ç¤ºçš„å•è¯ã€‚</p>
<h2 data-id="heading-15">ç»“è¯­</h2>
<p>æœ¬æ–‡æ²¡æœ‰æ·±å…¥æ€§èƒ½ä¼˜åŒ–ï¼Œæˆ‘è§‰å¾—ä¹Ÿæ²¡å¿…è¦ï¼šè¿™ä¸ª Demo æœ¬æ¥å°±é¢å‘å¼º GPUï¼Œä¸æ˜¯ç§»åŠ¨ç«¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3331a9a8c18049729abbc850de008876~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781372&amp;x-signature=uaDK9XJNOZt0f3AALV4Qk8CZojI%3D" alt="image.png" loading="lazy"/></p>
<p>WebGPU çš„ timestamp query è®©å®šä½ç“¶é¢ˆå˜å¾—æ›´å®¹æ˜“ï¼ˆä¾‹å¦‚ <code>Blur3D.js</code> é‡Œå°±æœ‰æ³¨é‡Šæ‰çš„æŸ¥è¯¢ï¼‰ã€‚</p>
<p>è¿™å¹¶ä¸æ„å‘³ç€â€œè¿™å¥—æ–¹æ¡ˆèƒ½ç›´æ¥ä¸Šç”Ÿäº§â€ã€‚Felix åšè¿‡ä¸€ä¸ªç”¨ SPH åšå­—æ¯çš„æ¢ç´¢ï¼Œéå¸¸å¿«ä¹Ÿå¾ˆé…·ï¼Œä½ å¯ä»¥çœ‹çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ffluid.felixmartinez.dev%2F" target="_blank" title="https://fluid.felixmartinez.dev/" ref="nofollow noopener noreferrer">fluid.felixmartinez.dev/</a></p>
<p>æ€»ä¹‹ï¼Œè¿™ä¹ˆå¤šå¹´è¿‡å»ï¼ŒFelix è¿˜æ˜¯èµ¢ç€èµŒå±€ï¼Œè€Œæˆ‘è¿˜åœ¨åŠªåŠ›æ‰­è½¬ç»“æœâ€¦â€¦å¸Œæœ›ä½ ä¹Ÿèƒ½é‡åˆ°ä¸€ä¸ªè®©ä½ è¯´å‡º <em>â€œhold my beerâ€</em> çš„äººã€‚</p>
<h2 data-id="heading-16">å°ç»“</h2>
<p>WebGPU æµä½“é•¿æ–‡çœŸæ­£æœ‰ä»·å€¼çš„ç‚¹åœ¨äºï¼šå®ƒæŠŠâ€œé…·ç‚« Demoâ€æ‹†æˆäº†å¯å¤ç”¨çš„å·¥ç¨‹æ¨¡å—é“¾è·¯â€”â€”ç²’å­æ¨¡æ‹Ÿã€åŠ¿åœºç”Ÿæˆã€marching cubesã€é—´æ¥ dispatch/drawã€å†åˆ°åˆæˆä¸è°ƒè‰²ã€‚è½åœ°æ—¶æœ€å®¹æ˜“å¡ä½çš„å¾€å¾€æ˜¯æ€§èƒ½é¢„ç®—ä¸è°ƒå‚æˆæœ¬ï¼šç®—åŠ›éƒ½èŠ±åœ¨æ¨¡æ‹Ÿä¸å‡ ä½•ç”Ÿæˆä¸Šï¼Œç•™ç»™ç”»é¢æ‰“ç£¨çš„ç©ºé—´å¾ˆå°ï¼Œæ‰€ä»¥å·¥ç¨‹ä¸Šéœ€è¦æŠŠå¯æ§çš„é˜¶æ®µæ‹†å¼€éªŒè¯ã€é€æ­¥è¿­ä»£ã€‚å®è·µä¸­å¯ä»¥ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rollcode.cn%2F%3Fsource%3Dba%26id%3Dfrontendweekly" target="_blank" title="https://www.rollcode.cn/?source=ba&amp;id=frontendweekly" ref="nofollow noopener noreferrer">RollCode ä½ä»£ç å¹³å°</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rollcode.cn%2F%3Fsource%3Dba%26id%3Dfrontendweekly" target="_blank" title="https://www.rollcode.cn/?source=ba&amp;id=frontendweekly" ref="nofollow noopener noreferrer">ç§æœ‰åŒ–éƒ¨ç½²</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rollcode.cn%2F%3Fsource%3Dba%26id%3Dfrontendweekly" target="_blank" title="https://www.rollcode.cn/?source=ba&amp;id=frontendweekly" ref="nofollow noopener noreferrer">è‡ªå®šä¹‰ç»„ä»¶</a>ã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rollcode.cn%2F%3Fsource%3Dba%26id%3Dfrontendweekly" target="_blank" title="https://www.rollcode.cn/?source=ba&amp;id=frontendweekly" ref="nofollow noopener noreferrer">é™æ€é¡µé¢å‘å¸ƒï¼ˆSSG + SEOï¼‰</a> æ¥æŠŠ Demo å±•ç¤ºã€å‚æ•°é¢æ¿ã€ç´ æä¸å‘å¸ƒæµç¨‹åšæˆå¯å¤ç°çš„äº¤ä»˜é—­ç¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Monkey-AIï¼šåŸºäºç«¯ä¾§ AI çš„ Android è‡ªåŠ¨åŒ–æµ‹è¯• Agent]]></title>    <link>https://juejin.cn/post/7602559134575099940</link>    <guid>https://juejin.cn/post/7602559134575099940</guid>    <pubDate>2026-02-04T03:48:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602559134575099940" data-draft-id="7602512064977027135" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Monkey-AIï¼šåŸºäºç«¯ä¾§ AI çš„ Android è‡ªåŠ¨åŒ–æµ‹è¯• Agent"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,æœºå™¨å­¦ä¹ ,Android"/> <meta itemprop="datePublished" content="2026-02-04T03:48:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ±æ¶›çš„è‡ªä¹ å®¤"/> <meta itemprop="url" content="https://juejin.cn/user/2119514149637032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Monkey-AIï¼šåŸºäºç«¯ä¾§ AI çš„ Android è‡ªåŠ¨åŒ–æµ‹è¯• Agent
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2119514149637032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ±æ¶›çš„è‡ªä¹ å®¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T03:48:53.000Z" title="Wed Feb 04 2026 03:48:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨è¿™ä¸ª AI æŠ€æœ¯<strong>ç‹‚é£™</strong>çš„æ—¶ä»£ï¼Œä» ChatGPT åˆ° Geminiã€Qwenã€Deepseekï¼Œæ¯éš”å‡ å¤©å°±ä¼šæœ‰ä¸€ä¸ªå¤§æ–°é—»ã€‚äººå·¥æ™ºèƒ½æ­£åœ¨é‡å¡‘æ¯ä¸€ä¸ªè¡Œä¸šã€‚</p>
<p>å¯¹äº Android å¼€å‘è€…è€Œè¨€ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä¸€ç›´æ˜¯ä¸ªå¾ˆé¸¡è‚‹çš„ä»»åŠ¡ï¼šå†™å§ï¼Œå«Œéº»çƒ¦ï¼Œè€Œä¸”ç»å¸¸è¦è·Ÿéšè¿­ä»£ç»´æŠ¤ã€‚ä¸å†™å§ï¼Ÿå¥½åƒåˆæ˜¾å¾—ä¸ä¸“ä¸šï¼Ÿå®¹æ˜“å¿ƒæ…Œï¼Ÿ</p>
<p>ä¹Ÿè®¸ä½ å¬è¯´è¿‡ Espresso æˆ– Appium èƒ½åšè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä½†ä»ç„¶é€ƒä¸äº†å†™æµ‹è¯•è„šæœ¬çš„å‘½è¿ã€‚è¿™æ ·çš„é—®é¢˜æœ‰å¾ˆå¤šè§£æ³•ï¼Œæ¯”å¦‚ï¼Œè®© AI æ¥å†™æµ‹è¯•ã€‚</p>
<p>è€Œæˆ‘æƒ³åˆ°äº†å¦ä¸€ä¸ªæ€è·¯ï¼Œé‚£å°±æ˜¯ï¼š<strong>è®© AI å¸®æˆ‘åšæµ‹è¯•</strong>ï¼</p>
<p>æœ‰äº†è¿™ä¸ªæƒ³æ³•ï¼Œæˆ‘å°±å¼€å§‹å†™ä»£ç äº†ã€‚å®é™…æ“ä½œä¸‹æ¥ï¼Œé‡åˆ°äº†ä¸å°‘é—®é¢˜ï¼Œæˆ‘æ…¢æ…¢é€šè¿‡åšå®¢æ¥è®°å½•ã€‚</p>
<p>é¦–å…ˆï¼Œäº‘ç«¯ AI API è‚¯å®šæ˜¯ä¸èƒ½ç”¨çš„ï¼Œå› ä¸ºä¼šç‰¹åˆ«çƒ§é’±ã€‚æœ€å¥½èƒ½è®© AI è·‘åœ¨æˆ‘ä»¬è‡ªå·±çš„ç”µè„‘ä¸Šï¼Œè¿™æ ·ä¸€æ¥è‡ªåŠ¨åŒ–æµ‹è¯•çš„æˆæœ¬å°±å¯ä»¥<code>å¿½ç•¥ä¸è®¡</code>äº†ã€‚å¹¸è¿çš„æ˜¯ï¼Œéšç€ Gemmaã€Qwen ç­‰å¼€æºæ¨¡å‹çš„æŒç»­ä¼˜åŒ–ï¼Œ<code>ç«¯ä¾§æ¨¡å‹çš„æ™ºèƒ½ç¨‹åº¦å·²ç»è¶³ä»¥èƒœä»»è¿™äº›ç®€å•çš„é€»è¾‘ä»»åŠ¡ã€‚</code></p>
<p>è§£å†³äº†ç«¯ä¾§ AI è¿è¡Œçš„é—®é¢˜åï¼Œå‰©ä¸‹çš„ OCRã€OpenCV ç›¸å…³çš„æŠ€æœ¯å°±ä¸æ˜¯é—®é¢˜äº†ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œè¯·å¤§å®¶çœ‹çœ‹æˆ‘é—²æš‡æ—¶é—´å†™çš„è¿™ä¸ªé¡¹ç›®ï¼šåŸºäºç«¯ä¾§ AI çš„ Android è‡ªåŠ¨åŒ–æµ‹è¯• Agent é¡¹ç›®â€”â€”<strong>Monkey-AI</strong>ã€‚</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ Monkey-AIï¼Ÿ</h2>
<p>ä½œä¸º Android ç¨‹åºå‘˜ï¼ŒMonkey å¤šå¤šå°‘å°‘éƒ½åº”è¯¥å¬è¯´è¿‡å§ï¼Ÿ<code>Monkey-AI</code> é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æ¡Œé¢ç”µè„‘ï¼ˆ MacOS/Windowsï¼‰çš„ Android è‡ªåŠ¨åŒ–æµ‹è¯• Agentã€‚å®ƒä¸ä¾èµ–æ˜‚è´µçš„äº‘ç«¯ APIï¼Œå®Œå…¨åŸºäºæœ¬åœ°è¿è¡Œçš„å¼€æºå¤§æ¨¡å‹æ¥é©±åŠ¨ã€‚</p>
<p>å®ƒå°±åƒä¸€åª<code>èªæ˜</code>ä¸”<code>ä¸çŸ¥ç–²å€¦</code>çš„â€œçŒ´å­â€ï¼Œä½†è¿™åªçŒ´å­è£…ä¸Šäº†â€œå¤§è„‘â€å’Œâ€œçœ¼ç›â€ï¼š</p>
<ul>
<li><strong>å¤§è„‘</strong>ï¼šç”± Gemma æˆ– Qwen æ¨¡å‹é©±åŠ¨ï¼Œè´Ÿè´£ç†è§£æŒ‡ä»¤å’Œè§„åˆ’åŠ¨ä½œã€‚</li>
<li><strong>çœ¼ç›</strong>ï¼šç»“åˆäº† OCR å’Œå›¾æ ‡æ£€æµ‹æŠ€æœ¯ï¼Œèƒ½å¤Ÿç²¾å‡†è¯†åˆ«å±å¹•ä¸Šçš„æ–‡å­—å’Œå›¾æ ‡ã€‚</li>
<li><strong>æ‰‹è„š</strong>ï¼šé€šè¿‡ ADB æŒ‡ä»¤æ‰§è¡Œç‚¹å‡»ã€æ»‘åŠ¨ã€è¾“å…¥ç­‰æ“ä½œã€‚</li>
</ul>
<h2 data-id="heading-1">æ ¸å¿ƒåŠ¨åŠ›ï¼šGemma ä¸ Qwen å®¶æ—</h2>
<p>æœ¬é¡¹ç›®ç›®å‰æ”¯æŒä¸¤å¤§ä¸»æµå¼€æºæ¨¡å‹å®¶æ—ï¼Œå®ƒä»¬å„æœ‰æ‰€é•¿ï¼š</p>
<h3 data-id="heading-2">1. Gemma (Google)</h3>
<p>Gemma æ˜¯ Google åŸºäº Gemini æŠ€æœ¯æ„å»ºçš„è½»é‡çº§å¼€æ”¾æ¨¡å‹ã€‚</p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šä½“ç§¯å°ï¼ˆå¦‚ 2B/7B ç‰ˆæœ¬ï¼‰ï¼ŒæŒ‡ä»¤éµå¾ªèƒ½åŠ›å¼ºï¼Œé€»è¾‘æ¨ç†å‡ºè‰²ã€‚å°¤å…¶æ˜¯ 270M å‚æ•°è§„æ¨¡çš„ FunctionGemmaï¼Œåœ¨ Function Calling æ–¹é¢çš„è¡¨ç°éå¸¸å‡ºè‰²ï¼Œä½“ç§¯ä»…å‡ ç™¾å…†ã€‚</li>
<li><strong>åœ¨æœ¬é¡¹ç›®ä¸­çš„åº”ç”¨</strong>ï¼šGemma ä¸»è¦ä½œä¸º <strong>Text Brainï¼ˆæ–‡æœ¬å¤§è„‘ï¼‰</strong>ã€‚æˆ‘ä»¬å°†å±å¹•ä¸Šçš„ UI å…ƒç´ è½¬åŒ–ä¸ºç»“æ„åŒ–çš„æ–‡æœ¬æè¿°å–‚ç»™ Gemmaï¼Œå®ƒèƒ½å¿«é€Ÿåˆ†æå‡ºâ€œè¦ç‚¹å‡»å“ªä¸ªæŒ‰é’®â€æˆ–â€œè¦è¾“å…¥ä»€ä¹ˆå†…å®¹â€ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abe8459a1c6745529e686bec604583c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5rab55qE6Ieq5Lmg5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781733&amp;x-signature=FZZc1mSeX8xu0mgRSoB1DSoAa%2FY%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">2. Qwen-VL (é˜¿é‡Œ)</h3>
<p>Qwen (é€šä¹‰åƒé—®) å®¶æ—çš„ Vision-Language (VL) ç‰ˆæœ¬ï¼Œæ‹¥æœ‰å¼ºå¤§çš„è§†è§‰ç†è§£èƒ½åŠ›ã€‚</p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šä¸ä»…èƒ½â€œè¯»â€å­—ï¼Œè¿˜èƒ½ç›´æ¥â€œçœ‹â€å›¾ã€‚å®ƒèƒ½ç†è§£å±å¹•æˆªå›¾ä¸­çš„å¤æ‚å¸ƒå±€å’Œå›¾æ ‡å«ä¹‰ã€‚</li>
<li><strong>åœ¨æœ¬é¡¹ç›®ä¸­çš„åº”ç”¨</strong>ï¼šä½œä¸º <strong>Vision Brainï¼ˆè§†è§‰å¤§è„‘ï¼‰</strong>ã€‚ç›´æ¥å°†æ‰‹æœºæˆªå›¾å–‚ç»™æ¨¡å‹ï¼Œè®©å®ƒåƒäººç±»ä¸€æ ·åŸºäºè§†è§‰ä¿¡æ¯é€šè¿‡åæ ‡è¿›è¡Œå†³ç­–ï¼Œé€šè¿‡è§†è§‰ç†è§£èƒ½åŠ›å¼¥è¡¥çº¯æ–‡æœ¬æè¿°çš„ä¸è¶³ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b277be68dc4e4906b5ce18c7d11171a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5rab55qE6Ieq5Lmg5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781733&amp;x-signature=cPYxDpomoZVwHBad98QYW725m7s%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">æ¶æ„æ­ç§˜ï¼šMonkey-AI æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2>
<p><code>Monkey-AI</code> çš„å®ç°é€»è¾‘å¹¶ä¸å¤æ‚ï¼Œæ ¸å¿ƒæ˜¯ä¸€ä¸ª<strong>æ„ŸçŸ¥-å†³ç­–-æ‰§è¡Œ</strong>çš„é—­ç¯ç³»ç»Ÿã€‚ä¸‹é¢æ˜¯å®ƒçš„æ¶æ„æµç¨‹å›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d28b52b453748d3ad7dc65fc9fecc27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5rab55qE6Ieq5Lmg5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781733&amp;x-signature=hbYhTHQB%2Btmqh0gbucAybFwJ95Y%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">1. æ„ŸçŸ¥å±‚ (Perception Engine)</h3>
<p>è¿™æ˜¯ Agent çš„â€œçœ¼ç›â€ã€‚å•çº¯çš„å¤§æ¨¡å‹è™½ç„¶å¼ºå¤§ï¼Œä½†ç›´æ¥å¤„ç†é«˜åˆ†è¾¨ç‡æˆªå›¾é€Ÿåº¦è¾ƒæ…¢ä¸”ç²¾åº¦æœ‰é™ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¼ ç»Ÿçš„è®¡ç®—æœºè§†è§‰æŠ€æœ¯ä½œä¸ºè¾…åŠ©ï¼š</p>
<ul>
<li><strong>OCR</strong>ï¼šå¿«é€Ÿæå–å±å¹•ä¸Šçš„æ‰€æœ‰æ–‡å­—ä¿¡æ¯ã€‚</li>
<li><strong>Icon æ£€æµ‹ (YOLO)</strong>ï¼šä¸“é—¨è®­ç»ƒçš„æ¨¡å‹ï¼Œç”¨äºè¯†åˆ«â€œè¿”å›â€ã€â€œè®¾ç½®â€ã€â€œWiFiâ€ç­‰å¸¸è§å›¾æ ‡ã€‚</li>
<li><strong>èåˆ (Fusion)</strong>ï¼šå°†æ–‡å­—å’Œå›¾æ ‡ä½ç½®åˆå¹¶ï¼Œç”Ÿæˆä¸€ä»½åŒ…å«åæ ‡å’Œç±»å‹çš„ <code>ClickableElement</code> åˆ—è¡¨ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aec0f9d025f9406b962cfff413972604~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyx5rab55qE6Ieq5Lmg5a6k:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770781733&amp;x-signature=68hkRcK0IPpKvJCEku1L%2F1w4hdg%3D" alt="image.png" loading="lazy"/></p>
<p>å…¶å®ï¼ŒOCR å’Œ YOLO é¢„å¤„ç†è¿™ä¸ªæ­¥éª¤ï¼Œå¯¹äºé¡¶å°–çš„ LLM æ˜¯å¯ä»¥çœç•¥çš„ï¼Œåƒ Gemini 3ã€GPT5ï¼Œå®ƒä»¬éƒ½èƒ½å¤Ÿç›´æ¥é€šè¿‡æˆªå›¾ç»™å‡ºå…·ä½“è¡Œä¸ºçš„åæ ‡ã€‚ä½†æˆ‘ä»¬è¿™ä¸æ˜¯ä¸ºäº†çœé’±ï¼Œæƒ³ç”¨è‡ªå·±çš„ç”µè„‘æ¥è·‘å˜›ï¼Œæ‰€ä»¥ï¼Œè¿™ä¸ªé¢„å¤„ç†æ­¥éª¤å°±æ˜¾å¾—å¾ˆé‡è¦äº†ã€‚</p>
<p>æå‰æ ‡è®°å¥½æ‰€æœ‰çš„æ–‡æœ¬ã€iconï¼Œç»™å®ƒä»¬ç¼–å·ï¼ŒLLM åœ¨å†³ç­–çš„æ—¶å€™èƒ½å¤Ÿè·³è¿‡åæ ‡è®¡ç®—ï¼Œç›´æ¥æ¨ç†ä¸‹ä¸€æ­¥å…·ä½“çš„è¡Œä¸ºã€‚è¿™ä¸ªæ­¥éª¤å¯ä»¥å¤§å¹…æå‡å°æ¨¡å‹çš„è¡Œä¸ºå‡†ç¡®åº¦ã€‚</p>
<h3 data-id="heading-6">2. å†³ç­–å±‚ (Brain)</h3>
<p>è¿™æ˜¯ Agent çš„â€œå¤§è„‘â€ã€‚</p>
<ul>
<li><strong>Text Brain</strong>ï¼šæ¥æ”¶ç”¨æˆ·ç›®æ ‡ï¼ˆGoalï¼‰å’Œæ„ŸçŸ¥å±‚æä¾›çš„ UI å…ƒç´ åˆ—è¡¨ã€‚å®ƒä¸éœ€è¦çœ‹å›¾ï¼Œåªéœ€åˆ†ææ–‡æœ¬ï¼šâ€œç›®æ ‡æ˜¯æ‰“å¼€ WiFiï¼Œç°åœ¨å±å¹•ä¸Šæœ‰â€˜è®¾ç½®â€™å›¾æ ‡ï¼Œæ‰€ä»¥æˆ‘åº”è¯¥ç‚¹å‡»â€˜è®¾ç½®â€™ã€‚â€</li>
<li><strong>Vision Brain</strong>ï¼šåœ¨æ–‡æœ¬ä¿¡æ¯ä¸è¶³æ—¶ï¼Œç›´æ¥è§‚å¯Ÿæˆªå›¾ã€‚ä¾‹å¦‚ï¼Œæœ‰äº›æŒ‰é’®åªæœ‰å¤æ‚çš„å›¾å½¢æ²¡æœ‰æ–‡å­—ï¼Œè§†è§‰æ¨¡å‹èƒ½æ›´å¥½åœ°ç†è§£å…¶å«ä¹‰ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python">// Brain å±‚æŠ½è±¡
<span class="hljs-meta">@dataclass(<span class="hljs-params">frozen=<span class="hljs-literal">True</span></span>)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ScreenState</span>:
    elements: <span class="hljs-built_in">list</span>[ClickableElement]
    screen_size: <span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>]
    package: <span class="hljs-built_in">str</span> | <span class="hljs-literal">None</span>
    image_bgr: <span class="hljs-string">"np.ndarray | None"</span> = <span class="hljs-literal">None</span>


<span class="hljs-keyword">class</span> <span class="hljs-title class_">Brain</span>(<span class="hljs-title class_ inherited__">ABC</span>):
<span class="hljs-meta">    @abstractmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">next_action</span>(<span class="hljs-params">self, screen: ScreenState</span>) -&gt; Action:
        <span class="hljs-keyword">raise</span> NotImplementedError

</code></pre>
<p>å¯¹äºç«¯ä¾§çš„ AI æ¨¡å‹ï¼Œæ˜¯å¦å¼€å¯ Thinkï¼Œæ•ˆæœå·®å¼‚ä¼šå¾ˆå¤§ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·ç°åœ¨éœ€è¦å®Œæˆçš„ä»»åŠ¡æ˜¯ï¼šæ‰“å¼€è®¾ç½®é¡µé¢ï¼Œè¿›å…¥é€šçŸ¥æ ï¼Œå»åº”ç”¨è®¾ç½®é‡Œï¼Œå…³é—­Chromeçš„é€šçŸ¥æƒé™ã€‚é¦–å…ˆçœ‹å†å²åŠ¨ä½œå·²ç»ç‚¹å‡»äº†è®¾ç½®å›¾æ ‡ï¼Œæ‰€ä»¥å½“å‰åœ¨è®¾ç½®ä¸»ç•Œé¢ã€‚

æ¥ä¸‹æ¥è¦è¿›å…¥é€šçŸ¥ç›¸å…³éƒ¨åˆ†ã€‚æ ¹æ®å…ƒç´ åˆ—è¡¨ï¼Œ<span class="hljs-number">27</span>å¯¹åº”çš„æ˜¯â€œé€šçŸ¥â€ï¼Œæ–‡æœ¬æ˜¯â€œé€šçŸ¥â€ï¼Œä½ç½®åœ¨å±å¹•ä¸­ä¸‹éƒ¨ã€‚æ‰€ä»¥éœ€è¦ç‚¹å‡»â€œé€šçŸ¥â€é€‰é¡¹æ¥è¿›å…¥é€šçŸ¥è®¾ç½®é¡µé¢ã€‚

æ£€æŸ¥å¯ç‚¹å‡»å…ƒç´ åˆ—è¡¨ï¼Œç¬¬<span class="hljs-number">27</span>ä¸ªå…ƒç´ æ˜¯text é€šçŸ¥ (<span class="hljs-number">226</span>, <span class="hljs-number">1955</span>, <span class="hljs-number">414</span>, <span class="hljs-number">2029</span>)ï¼Œå¯¹åº”çš„å°±æ˜¯é€šçŸ¥å…¥å£ã€‚å› æ­¤ä¸‹ä¸€æ­¥æ“ä½œåº”è¯¥æ˜¯ç‚¹å‡»è¿™ä¸ªâ€œé€šçŸ¥â€é€‰é¡¹ã€‚
&lt;/think&gt;

</code></pre>
<h3 data-id="heading-7">3. æ‰§è¡Œå±‚ (Action Executor)</h3>
<p>è¿™æ˜¯ Agent çš„â€œæ‰‹â€ã€‚
å¤§è„‘è¾“å‡ºçš„å†³ç­–é€šå¸¸æ˜¯æŠ½è±¡çš„ï¼ˆä¾‹å¦‚ï¼šâ€œç‚¹å‡» ID ä¸º 5 çš„å…ƒç´ â€ï¼‰ã€‚æ‰§è¡Œå±‚è´Ÿè´£å°†è¿™äº›æŒ‡ä»¤ç¿»è¯‘æˆå…·ä½“çš„ Android åæ ‡ï¼Œé€šè¿‡ ADB å‘é€ <code>input tap</code> æˆ– <code>input swipe</code> å‘½ä»¤ï¼Œç”šè‡³å¤„ç†åæ ‡æ˜ å°„ï¼ˆä»æˆªå›¾åæ ‡ç³»åˆ°è®¾å¤‡åæ ‡ç³»ï¼‰ã€‚</p>
<p>è¿™ä¸ªéƒ¨åˆ†åè€Œæ˜¯æœ€ç®€å•çš„ï¼Œä½œä¸º Android ç¨‹åºå‘˜ï¼Œè°è¿˜ä¸ä¼šç‚¹ adb å‘½ä»¤äº†ï¼Ÿ</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AndroidDevice</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, device: u2.Device</span>) -&gt; <span class="hljs-literal">None</span>:
        self._device = device

<span class="hljs-meta">    @classmethod</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">connect</span>(<span class="hljs-params">cls, serial: <span class="hljs-built_in">str</span> | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span></span>) -&gt; <span class="hljs-string">"AndroidDevice"</span>:
        device = u2.connect(serial) <span class="hljs-keyword">if</span> serial <span class="hljs-keyword">else</span> u2.connect()
        <span class="hljs-keyword">return</span> cls(device)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">info</span>(<span class="hljs-params">self</span>) -&gt; DeviceInfo:
        info = self._device.info
        width = <span class="hljs-built_in">int</span>(info.get(<span class="hljs-string">"displayWidth"</span>) <span class="hljs-keyword">or</span> <span class="hljs-number">0</span>)
        height = <span class="hljs-built_in">int</span>(info.get(<span class="hljs-string">"displayHeight"</span>) <span class="hljs-keyword">or</span> <span class="hljs-number">0</span>)
        serial = info.get(<span class="hljs-string">"serial"</span>)
        <span class="hljs-keyword">return</span> DeviceInfo(width=width, height=height, serial=serial)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">screenshot_bgr</span>(<span class="hljs-params">self</span>) -&gt; np.ndarray:
        image = self._device.screenshot(<span class="hljs-built_in">format</span>=<span class="hljs-string">"opencv"</span>)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-built_in">isinstance</span>(image, np.ndarray):
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"screenshot not returned as ndarray"</span>)
        <span class="hljs-keyword">return</span> image

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">click</span>(<span class="hljs-params">self, x: <span class="hljs-built_in">int</span>, y: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:
        self._device.click(x, y)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">swipe</span>(<span class="hljs-params">self, start: <span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>], end: <span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>], duration: <span class="hljs-built_in">float</span> | <span class="hljs-literal">None</span> = <span class="hljs-literal">None</span></span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-keyword">if</span> duration <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
            self._device.swipe(start[<span class="hljs-number">0</span>], start[<span class="hljs-number">1</span>], end[<span class="hljs-number">0</span>], end[<span class="hljs-number">1</span>])
        <span class="hljs-keyword">else</span>:
            self._device.swipe(start[<span class="hljs-number">0</span>], start[<span class="hljs-number">1</span>], end[<span class="hljs-number">0</span>], end[<span class="hljs-number">1</span>], duration)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">press</span>(<span class="hljs-params">self, key: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:
        self._device.press(key)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">input_text</span>(<span class="hljs-params">self, text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:
        payload = text.replace(<span class="hljs-string">" "</span>, <span class="hljs-string">"%s"</span>)
        self._device.adb_shell(<span class="hljs-string">"input"</span>, <span class="hljs-string">"text"</span>, payload)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">app_start</span>(<span class="hljs-params">self, package: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:
        self._device.app_start(package, wait=<span class="hljs-literal">True</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">app_current</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Any</span>]:
        <span class="hljs-keyword">return</span> self._device.app_current()

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">window_size</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">tuple</span>[<span class="hljs-built_in">int</span>, <span class="hljs-built_in">int</span>]:
        size = self._device.window_size()
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(size[<span class="hljs-number">0</span>]), <span class="hljs-built_in">int</span>(size[<span class="hljs-number">1</span>])
</code></pre>
<h2 data-id="heading-8">æ€»ç»“ä¸å±•æœ›</h2>
<p><code>Monkey-AI</code> ç›®å‰è¿˜æ˜¯ä¸€ä¸ª <strong>Lite</strong> ç‰ˆæœ¬ï¼Œä½†å®ƒå±•ç¤ºäº†<strong>ç«¯ä¾§ AI + è‡ªåŠ¨åŒ–æµ‹è¯•</strong>çš„å·¨å¤§æ½œåŠ›ï¼š</p>
<ol>
<li><strong>éšç§å®‰å…¨</strong>ï¼šæ•°æ®ä¸å‡ºæœ¬åœ°ï¼Œé€‚åˆä¼ä¸šå†…éƒ¨æ•æ„Ÿåº”ç”¨çš„æµ‹è¯•ã€‚</li>
<li><strong>ä½æˆæœ¬</strong>ï¼šæ— éœ€æ”¯ä»˜æ˜‚è´µçš„ Token è´¹ç”¨ï¼Œä¸”æ¶ˆè´¹çº§çš„æ˜¾å¡æˆ–è€… 16G RAM çš„ Mac Mini å³å¯è¿è¡Œã€‚</li>
<li><strong>æ— é™å¯èƒ½</strong>ï¼šéšç€æ¨¡å‹èƒ½åŠ›çš„æå‡ï¼Œæœªæ¥çš„ Agent ä¸ä»…èƒ½è·‘å†’çƒŸæµ‹è¯•ï¼Œç”šè‡³èƒ½è¿›è¡Œæ¢ç´¢æ€§æµ‹è¯•ï¼Œå‘ç°äººç±»éš¾ä»¥å¯Ÿè§‰çš„ Bugã€‚</li>
</ol>
<p>è™½ç„¶ç°é˜¶æ®µè·‘åœ¨PCç”µè„‘ä¸Šçš„ Monkey-AI å¶å°”è¿˜ä¼šâ€œçŠ¯å‚»â€ï¼Œæ“ä½œé€Ÿåº¦ä¹Ÿæ¯”ä¸ä¸Šæ‰‹å†™è„šæœ¬ï¼Œä½†å®ƒä»£è¡¨äº†æœªæ¥çš„æ–¹å‘ã€‚Android å¼€å‘è€…ä»¬ï¼Œæ˜¯æ—¶å€™æ‹¥æŠ± AIï¼Œè®©æˆ‘ä»¬çš„æµ‹è¯•å·¥ä½œå˜å¾—æ›´é…·ã€æ›´æ™ºèƒ½äº†ï¼</p>
<p>ç›®å‰ Monkey-AI è¿˜åœ¨å†…éƒ¨æµ‹è¯•é˜¶æ®µï¼Œæ¬¢è¿æ„Ÿå…´è¶£çš„æœ‹å‹å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<code>æœ±æ¶›çš„è‡ªä¹ å®¤</code>ï¼Œå‚ä¸æµ‹è¯•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€n8nã€æ¨èå‡ ä¸ªå…è´¹çš„å¤§æ¨¡å‹ç»™å­¦ä¹ n8nçš„å·¥å‹ä»¬ä½¿ç”¨]]></title>    <link>https://juejin.cn/post/7602488966610386982</link>    <guid>https://juejin.cn/post/7602488966610386982</guid>    <pubDate>2026-02-04T00:14:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602488966610386982" data-draft-id="7602512226998550578" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€n8nã€æ¨èå‡ ä¸ªå…è´¹çš„å¤§æ¨¡å‹ç»™å­¦ä¹ n8nçš„å·¥å‹ä»¬ä½¿ç”¨"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC,LLM"/> <meta itemprop="datePublished" content="2026-02-04T00:14:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾·è‚²å¤„ä¸»ä»»"/> <meta itemprop="url" content="https://juejin.cn/user/2673620576140030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€n8nã€æ¨èå‡ ä¸ªå…è´¹çš„å¤§æ¨¡å‹ç»™å­¦ä¹ n8nçš„å·¥å‹ä»¬ä½¿ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2673620576140030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾·è‚²å¤„ä¸»ä»»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T00:14:36.000Z" title="Wed Feb 04 2026 00:14:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>ç‚¹èµ + å…³æ³¨ + æ”¶è— = å­¦ä¼šäº†</strong></p>
<blockquote>
<p>æ•´ç†äº†ä¸€ä¸ªn8nå°ä¸“æ ï¼Œæœ‰å…´è¶£çš„å·¥å‹å¯ä»¥å…³æ³¨ä¸€ä¸‹ ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAwMjU3ODU5Ng%3D%3D%26action%3Dgetalbum%26album_id%3D4337364695070801925%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAwMjU3ODU5Ng==&amp;action=getalbum&amp;album_id=4337364695070801925#wechat_redirect" ref="nofollow noopener noreferrer">ã€Šn8nä¿®ç‚¼æ‰‹å†Œã€‹</a></p>
</blockquote>
<p>å¯¹ n8n åˆå­¦è€…æ¥è¯´ï¼Œä¸ç”¨èŠ±é’±å°±èƒ½è°ƒç”¨å¤§æ¨¡å‹APIï¼Œæ˜¯å¿«é€Ÿä¸Šæ‰‹AIè‡ªåŠ¨åŒ–å·¥ä½œæµçš„å…³é”®ã€‚n8nä½œä¸ºå¯è§†åŒ–è‡ªåŠ¨åŒ–å·¥å…·ï¼Œèƒ½é€šè¿‡APIè¿æ¥å„ç±»å¤§æ¨¡å‹ï¼Œå®ç°æ–‡æœ¬ç”Ÿæˆã€æƒ…æ„Ÿåˆ†æã€å›¾æ–‡å¤„ç†ç­‰åŠŸèƒ½ï¼Œè€Œå…è´¹APIèƒ½å¸®æˆ‘ä»¬é›¶æˆæœ¬ç»ƒæ‰‹ã€éªŒè¯åˆ›æ„ï¼Œä¸ç”¨æ‰¿æ‹…ä»˜è´¹å‹åŠ›ã€‚</p>
<p>æœ¬æ–‡æ¨èå‡ ä¸ªé€‚åˆ n8n å°ç™½çš„å…è´¹å¤§æ¨¡å‹ API æœåŠ¡å•†ã€‚</p>
<p>ä½†éœ€è¦çœ‹æ¸…æœ¬æ–‡çš„å‘å¸ƒæ—¶é—´ï¼Œä¹Ÿè®¸åŠå¹´åã€ä¸€å¹´åè¿™äº› API å°±ä¸å†å…è´¹äº†ã€‚</p>
<p>éƒ¨åˆ†æœåŠ¡å•†è¿˜éœ€è¦ä½ æ‡‚é­”æ³•ã€‚</p>
<p><strong>å¦‚æœä½ ç”¨è¿‡å“ªäº›æ¯”è¾ƒå¥½çš„å¤§æ¨¡å‹ï¼Œä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€ï½</strong></p>
<p>å¦‚æœä½ è¿˜ä¸æ¸…æ¥š n8n å¦‚ä½•å¯¹æ¥å¤§æ¨¡å‹ï¼Œæˆ‘å‡†å¤‡äº†2ç¯‡æ–‡ç« ã€‚</p>
<ul>
<li>ã€æ–¹æ³•1ã€‘æ¥å…¥æœ¬åœ°æ¨¡å‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FDAPeojmssNQSyATkwGahIg" target="_blank" title="https://mp.weixin.qq.com/s/DAPeojmssNQSyATkwGahIg" ref="nofollow noopener noreferrer">ã€n8nã€æ¥å…¥æœ¬åœ°éƒ¨ç½²çš„ DeepSeek</a></li>
<li>ã€æ–¹æ³•2ã€‘æ¥å…¥æœåŠ¡å•†çš„æ¨¡å‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FsFMaKErfu6cxQAW3XnbLbg" target="_blank" title="https://mp.weixin.qq.com/s/sFMaKErfu6cxQAW3XnbLbg" ref="nofollow noopener noreferrer">ã€n8nã€å¯¹æ¥è±†åŒ…ã€åƒé—®ã€æ–‡å¿ƒã€Kimiç­‰å¤§æ¨¡å‹</a></li>
</ul>
<p>å¦‚æœä½ æ˜¯å¯Œå“¥ï¼Œä¸ªäººç”µè„‘é…ç½®å¾ˆé¡¶çš„è¯ï¼Œå¯ä»¥ç”¨ç¬¬1ç§æ–¹æ³•ã€‚</p>
<p>æœ¬æ–‡æ•´ç†çš„è¿™äº›å…è´¹å¤§æ¨¡å‹ API è¦ç”¨ç¬¬2ç§æ–¹æ³•å¯¹æ¥ã€‚</p>
<p>å¦‚æœç¬¬2ç§æ–¹æ³•éƒ½æ— æ³•å¯¹æ¥çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ã€ŒHTTP èŠ‚ç‚¹ã€æ¥å¯¹æ¥ï¼Œå…·ä½“æ“ä½œè¯·å‚è€ƒğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F6beIKSCImOj0xgvPyGmECw" target="_blank" title="https://mp.weixin.qq.com/s/6beIKSCImOj0xgvPyGmECw" ref="nofollow noopener noreferrer">ã€n8nã€é€šè¿‡æ¥å…¥DeepSeekäº†è§£HTTPèŠ‚ç‚¹</a></p>
<p>æ¨èçš„æœåŠ¡å•†æ’åéƒ¨åˆ†å…ˆåï¼Œèƒ½ç”¨å°±è¡ŒğŸ˜„</p>
<p>å‰æ‘‡ç»“æŸï¼Œå¼€å§‹ï¼</p>
<h2 data-id="heading-0">Hugging Face</h2>
<blockquote>
<p>âš¡ï¸Hugging Faceï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fhuggingface.co" target="_blank" title="https://huggingface.co" ref="nofollow noopener noreferrer">huggingface.co</a></p>
</blockquote>
<p>Hugging Face æ˜¯å…¨çƒçŸ¥åçš„å¼€æºAIå¹³å°ï¼Œæ‹¥æœ‰æµ·é‡å…è´¹é¢„è®­ç»ƒæ¨¡å‹ï¼Œæ¶µç›–æ–‡æœ¬åˆ†ç±»ã€å¥å­åµŒå…¥ã€è¯­éŸ³è¯†åˆ«ç­‰å„ç±»ä»»åŠ¡ï¼Œé€‚åˆå°ç™½æ¢ç´¢ä¸åŒæ¨¡å‹çš„èƒ½åŠ›ï¼Œä¹Ÿèƒ½é€šè¿‡APIå¿«é€Ÿé›†æˆåˆ°n8nä¸­ã€‚</p>
<p>æ‰“å¼€ Hugging Face å®˜ç½‘ï¼Œç™»å½•åï¼Œç‚¹å‡»å³ä¸Šè§’çš„å¤´åƒï¼Œé€‰æ‹©ã€ŒAccess Tokensã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06d9b448c7134fdcab69b9f8619c5ad8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=dnGKrFVLsjz6QdHftGolPPA3HHk%3D" alt="01.png" loading="lazy"/></p>
<p>æ¥åˆ°ã€ŒAccess Tokensã€é¡µé¢ï¼Œç‚¹å‡»â€œ+ Create new tokenâ€æŒ‰é’®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da85ba0cdeab4337a0abe933524da750~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=AeOxLLRyn9rB3S1BcpFqIbbePC0%3D" alt="02.png" loading="lazy"/></p>
<p>è¾“å…¥ä¸€ä¸ª Token nameï¼Œä¸‹é¢èƒ½é€‰çš„éƒ½é€‰ä¸Šå§ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb79cf58cf0e4e54b43ba5027149d725~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=CK8wXMtSu0fiuUrMNwfy1p7QLRU%3D" alt="03.png" loading="lazy"/></p>
<p>ç„¶åæ»‘åˆ°é¡µé¢åº•éƒ¨ï¼Œç‚¹å‡»â€œCreate tokenâ€æŒ‰é’®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc6a05acb0cf4f7595d6fb9422aa099d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=9gVChQlcwjGp4qlXNIwq1kQoYgs%3D" alt="04.png" loading="lazy"/></p>
<p>è·å–åˆ°ä»¤ç‰Œåæ‰¾ä¸ªåœ°æ–¹ä¿å­˜å¥½ï¼Œè¿™ä¸ªä»¤ç‰Œåªå±•ç¤ºä¸€æ¬¡ã€‚å¦‚æœå¼„ä¸¢äº†å°±è¦æŒ‰ä¸Šé¢çš„æ­¥éª¤é‡æ–°æ“ä½œä¸€æ¬¡äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51990a4289ee4ff0a80bd6004451adfc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=FVcX3Pa0bw5wIh%2F51OkWYkyg4jc%3D" alt="05.png" loading="lazy"/></p>
<p>æ‰“å¼€ n8nï¼Œåœ¨ç•Œé¢é¢æ¿æœç´¢â€œhuggingâ€ï¼Œé€‰æ‹©ç¬¬ä¸€é¡¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb9558148d0344aabed6354489279fba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=%2Bbr4OjhNE4tbOo173jOJRXMOMi4%3D" alt="06.png" loading="lazy"/></p>
<p>å¦‚æœä½ ç¬¬ä¸€æ¬¡ä½¿ç”¨çš„è¯ï¼Œåœ¨â€œCredential to connect withâ€é¡¹é‡Œé€‰æ‹©â€œ+ Create new credentialâ€åˆ›å»ºä¸€ä¸ª Hugging Face çš„å‡­è¯ã€‚å¦‚æœå·²ç»æœ‰å‡­è¯äº†å°±æ˜¯ä¸‹å›¾è¿™æ ·äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3993a48e7cf24a6398bb52d5fb7c18d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=XpKxCIwcmphCirV9Gc0o%2BSQdCKs%3D" alt="07.png" loading="lazy"/></p>
<p>åˆ›å»ºå‡­è¯çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°†åˆšåˆšåœ¨ Hugging Face ç”³è¯·çš„ä»¤ç‰Œå¤åˆ¶åˆ° API Key è¿™é¡¹é‡Œå°±è¡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad8b9130fa314986a492ed06ffb760ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=vshspGbt1sNREepvCVoypd1bpwU%3D" alt="08.png" loading="lazy"/></p>
<p>å›åˆ°å·¥ä½œæµå°±å¯ä»¥ç”¨å®ƒäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/848c45c021c9467587a09758c7ef5c77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=cde0t4IoFEEks47ShMPdFh4sYNk%3D" alt="09.png" loading="lazy"/></p>
<p>Hugging Face ä¸Šè¿˜æœ‰å…¶ä»–æ¨¡å‹å¯ä»¥ç”³è¯·ï¼Œè‡ªå·±å»ç ”ç©¶ä¸€ä¸‹å§ï½</p>
<h2 data-id="heading-1">Gemini</h2>
<blockquote>
<p>âš¡ï¸Google AI Studioï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Faistudio.google.com" target="_blank" title="https://aistudio.google.com" ref="nofollow noopener noreferrer">aistudio.google.com</a></p>
</blockquote>
<p>Gemini çš„å¼€é€šæ–¹å¼æœ‰ç‚¹éº»çƒ¦ï¼Œéœ€è¦æœ‰ Visa å¡æ‰è¡Œã€‚</p>
<p>ç°åœ¨èƒ½ç”¨çš„å…è´¹æ¨¡å‹åªæœ‰ flash ç³»åˆ—çš„ï¼Œpro ä¹‹å‰è¢«ç™½å«–å¤ªå¤šäº†å·²ç»ä¸å¼€æ”¾äº†ï¼Œä»¥åä¼šä¸ä¼šé‡æ–°å¼€æ”¾ä¸å¥½è¯´ã€‚</p>
<p>æ‰“å¼€ Google AI Studioï¼Œç™»å½•å®Œï¼Œç‚¹å‡»å·¦ä¸‹è§’çš„â€œGet API keyâ€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f913a4e406ad48c083b5b2c96cc0d977~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=4MG9KjK4qVwLKy95cQDSmreS2os%3D" alt="10.png" loading="lazy"/></p>
<p>ç„¶ååˆ›å»ºä¸€ä¸ª API å¯†é’¥ã€‚</p>
<p>å¦‚æœæ²¡é¡¹ç›®çš„è¯ï¼Œéœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªé¡¹ç›®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c18751363dde4708889b72e42d58bb23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=leWjm7LRiE0k%2BtE90jHu9yGLwtQ%3D" alt="11.png" loading="lazy"/></p>
<p>åˆ›å»ºå®Œ API å¯†é’¥åï¼Œç‚¹å‡»å¤åˆ¶æŒ‰é’®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b013c373bb64f8991449d5d20b8b947~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=gZdQB4N1poFd3%2FCja8oX24MF2Gw%3D" alt="12.png" loading="lazy"/></p>
<p>æ¥åˆ° n8n è¿™è¾¹åˆ›å»º Google Gemini å‡­è¯å°±èƒ½ç”¨äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c827e7f5a99c478887c477567a0739f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=0uuo6t8TceiVSnOv0Wu2tUCbuFE%3D" alt="13.png" loading="lazy"/></p>
<h2 data-id="heading-2">LongCatï¼ˆç¾å›¢ï¼‰</h2>
<blockquote>
<p>âš¡ï¸LongCatï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flongcat.chat%2Fplatform%2Fapi_keys" target="_blank" title="https://longcat.chat/platform/api_keys" ref="nofollow noopener noreferrer">longcat.chat/platform/apâ€¦</a></p>
</blockquote>
<p>LongCat æ˜¯ç¾å›¢è‡ªä¸»ç ”å‘çš„å¤§è¯­è¨€æ¨¡å‹ï¼Œæ¯å¤©åˆ·æ–°500ä¸‡ token ç»™ä½ ç”¨ã€‚è€Œä¸”å“åº”é€Ÿåº¦å¾ˆå¿«ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/027533063cc843968f3e723222e6ed2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=tooc2H%2F5gsVFGoT4%2FPBHf1e%2BkJ4%3D" alt="14.png" loading="lazy"/></p>
<p>ç™»å½•åï¼Œåœ¨ API Keys é¡µé¢åˆ›å»º API Key å°±å¯ä»¥ç”¨äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd2379ea762746c288f75b16d62c8274~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=aqbPasisNogrI7Im6RNHTOwelTU%3D" alt="15.png" loading="lazy"/></p>
<p>å…·ä½“æ¥å…¥çš„ URL å¯ä»¥çœ‹ LongCat å®˜æ–¹æ–‡æ¡£ğŸ‘‰ <a href="https://link.juejin.cn?target=https%3A%2F%2Flongcat.chat%2Fplatform%2Fdocs%2Fzh%2F" target="_blank" title="https://longcat.chat/platform/docs/zh/" ref="nofollow noopener noreferrer">longcat.chat/platform/doâ€¦</a></p>
<p>æˆ‘ç”¨äº† HTTP èŠ‚ç‚¹æ¥å…¥ï¼ŒèŠå¤©å¯¹è¯çš„è¯ <code>URL</code> å¯å¡«å…¥ <code>https://api.longcat.chat/openai/v1/chat/completions</code>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb31725d7f6c44c9ad99861e4179840c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=%2BTB68rVf4xl6V4HbH4XXGAwx0kg%3D" alt="16.png" loading="lazy"/></p>
<p>äº²æµ‹èƒ½ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/caef3296300345fb8ed246ea8aaf4a8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=aDaoW5Qawfm4JlSPmzLSSJNUfaw%3D" alt="17.png" loading="lazy"/></p>
<h2 data-id="heading-3">ç™¾çµï¼ˆé˜¿é‡Œï¼‰</h2>
<blockquote>
<p>âš¡ï¸ ç™¾çµï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fling.tbox.cn%2Fopen" target="_blank" title="https://ling.tbox.cn/open" ref="nofollow noopener noreferrer">ling.tbox.cn/open</a></p>
</blockquote>
<p>ç™¾çµå¤§æ¨¡å‹æ˜¯èš‚èšé›†å›¢æ¨å‡ºçš„Ling-1Tå¤§æ¨¡å‹å¯¹è¯ä½“éªŒå¹³å°ï¼Œå®šä½ä¸ºå…¨èƒ½å‹AIåŠ©æ‰‹ï¼Œå…¼é¡¾åŸºç¡€æ–‡æœ¬å¤„ç†ä¸å¤æ‚æ¨ç†ï¼Œæ”¯æŒå¤šæ¨¡æ€èƒ½åŠ›ï¼Œä¸”é€‚é…OpenAIæ¥å£æ ¼å¼ï¼Œèƒ½å¿«é€Ÿé›†æˆåˆ°n8nä¸­ã€‚</p>
<p>ç™¾çµæ¯å¤©ä¼šåˆ·æ–°50ä¸‡è®¡ç®—å•ä½ï¼ˆtokenï¼Ÿï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/615333667d5149efb665e199c0622930~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=j3FRAKicuDFkM41U0OtyCMSWCOs%3D" alt="18.png" loading="lazy"/></p>
<p>é¦–æ¬¡ç™»å½•éœ€è¦ç»‘å®šè‡´å¯Œå®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d84cf919eb84c71a75b1d46de7c36d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=8TKN9VAajCbLA%2Bqkp5FYidM81IY%3D" alt="19.png" loading="lazy"/></p>
<p>ç»‘å®šæˆåŠŸåï¼Œåœ¨åå°å°±å¯ä»¥åˆ›å»ºä»¤ç‰Œäº†ï¼Œå¹¶ä¸”æ¯å¤©èƒ½åˆ·æ–°å…è´¹é¢åº¦ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76d197ccb7564c6585e232c2787a73c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=Ka4FkFl4lzlrNaU6sBUxDtyeUVY%3D" alt="20.png" loading="lazy"/></p>
<p>åœ¨ n8n è¿™è¾¹ç»™ç™¾çµåˆ›å»ºä¸€ä¸ª OpenAI çš„å‡­è¯ã€‚</p>
<p><code>API Key</code> å¡«ä½ åˆšåˆšåˆ›å»ºçš„ã€‚</p>
<p><code>Base URL</code> å¡«è¿™ä¸ª <code>https://api.tbox.cn/api/llm/v1/</code>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51760f1dd65f4c159db0d44c2b293805~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=%2B%2BTCwAi3yHJDNvqCd8MDAb5lsgk%3D" alt="21.png" loading="lazy"/></p>
<p>æ¥åˆ°å·¥ä½œæµè¿™è¾¹ä½ ä¼šå‘ç°æ²¡æ¨¡å‹å¯ä»¥é€‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dbce9b2504fe407c8c8b57ea68704a18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=hvJYJHRPBolgZhOMpMLN7zCSI%2FA%3D" alt="22.png" loading="lazy"/></p>
<p>ä½ éœ€è¦æ‰“å¼€ç™¾çµçš„ä½¿ç”¨æ‰‹å†Œï¼Œé€‰æ‹©ä¸€ä¸ªæ¨¡å‹ï¼Œå¡«å…¥å¯¹åº”çš„â€œç‰ˆæœ¬åç§°â€ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Falipaytbox.yuque.com%2Fsxs0ba%2Fling%2Fmodel_overview" target="_blank" title="https://alipaytbox.yuque.com/sxs0ba/ling/model_overview" ref="nofollow noopener noreferrer">alipaytbox.yuque.com/sxs0ba/lingâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/315f83382ea54807b707c5a2ba19c27c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=uZYd7kJEI7L2tYMRz1cRpiD3590%3D" alt="23.png" loading="lazy"/></p>
<p><code>Model</code> è¿™é¡¹è¦é€‰ <code>By ID</code>ï¼Œå€¼å°±å¡«å…¥æ¨¡å‹çš„â€œç‰ˆæœ¬åç§°â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc39b6c71de9493892fc67949549ff53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=bISIus2v0U1e7Zq29Tbq1uRMmQA%3D" alt="24.png" loading="lazy"/></p>
<p>èƒ½å«–ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6975d76e57ac48619b56654f077a10db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b636IKy5aSE5Li75Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770768876&amp;x-signature=rV%2FLs%2BYqznD6gc5nRNkXnF%2BGziQ%3D" alt="25.png" loading="lazy"/></p>
<p>å€ŸåŠ©å·¥å…·å¯å¿«é€Ÿå®ç°è‡ªåŠ¨åŒ–æµç¨‹ï¼Œè½åœ°æ—¶éœ€å…³æ³¨å¤šåœºæ™¯é€‚é…çš„å·¥ç¨‹æ•ˆç‡é—®é¢˜ã€‚å¯è¯•è¯•<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rollcode.cn%2F%3Fsource%3Dba%26id%3Dzhuren" target="_blank" title="https://www.rollcode.cn/?source=ba&amp;id=zhuren" ref="nofollow noopener noreferrer">RollCode ä½ä»£ç å¹³å°</a>çš„ç§æœ‰åŒ–éƒ¨ç½²ã€è‡ªå®šä¹‰ç»„ä»¶ã€é™æ€é¡µé¢å‘å¸ƒï¼ˆSSG + SEOï¼‰èƒ½åŠ›ã€‚</p>
<hr/>
<p>ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹å•¦ï¼Œæƒ³äº†è§£æ›´å¤šn8nç©æ³•æ¬¢è¿å…³æ³¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fmp%2Fappmsgalbum%3F__biz%3DMzAwMjU3ODU5Ng%3D%3D%26action%3Dgetalbum%26album_id%3D4337364695070801925%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAwMjU3ODU5Ng==&amp;action=getalbum&amp;album_id=4337364695070801925#wechat_redirect" ref="nofollow noopener noreferrer">ã€Šn8nä¿®ç‚¼æ‰‹å†Œã€‹</a>ğŸ‘</p>
<p>å¦‚æœä½ æœ‰ NASï¼Œæˆ‘éå¸¸å»ºè®®ä½ åœ¨ NAS ä¸Šéƒ¨ç½²ä¸€å¥— n8nï¼Œææå‰¯ä¸šä¹Ÿå¥½ï¼Œå¸®ä½ å®Œæˆå·¥ä½œä»»åŠ¡ä¹Ÿå¥½ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FppIWKP8StiFn2k2IW0ZpNQ" target="_blank" title="https://mp.weixin.qq.com/s/ppIWKP8StiFn2k2IW0ZpNQ" ref="nofollow noopener noreferrer">ã€Šã€NASã€ä¸æ­¢å¨±ä¹ï¼ŒNASä¹Ÿæ˜¯ç”Ÿäº§åŠ›ï¼Œåœ¨ç»¿è”éƒ¨ç½²AIå·¥ä½œæµå·¥å…·-n8nã€‹</a></p>
<p><strong>ç‚¹èµ + å…³æ³¨ + æ”¶è— = å­¦ä¼šäº†</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Matplotlib ç»˜å›¾æŒ‡å—ï¼šèšç„¦æ•°æ®å¯è§†åŒ–æ ¸å¿ƒç”¨æ³•]]></title>    <link>https://juejin.cn/post/7602455806446551046</link>    <guid>https://juejin.cn/post/7602455806446551046</guid>    <pubDate>2026-02-04T00:26:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602455806446551046" data-draft-id="7602454700504039465" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Matplotlib ç»˜å›¾æŒ‡å—ï¼šèšç„¦æ•°æ®å¯è§†åŒ–æ ¸å¿ƒç”¨æ³•"/> <meta itemprop="keywords" content="Python,æ•°æ®å¯è§†åŒ–"/> <meta itemprop="datePublished" content="2026-02-04T00:26:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Narrastory"/> <meta itemprop="url" content="https://juejin.cn/user/4355593566170010"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Matplotlib ç»˜å›¾æŒ‡å—ï¼šèšç„¦æ•°æ®å¯è§†åŒ–æ ¸å¿ƒç”¨æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4355593566170010/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Narrastory
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T00:26:56.000Z" title="Wed Feb 04 2026 00:26:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">Matplotlib å¸¸ç”¨åŠŸèƒ½</h2>
<p><code>2026 | ming</code></p>
<hr/>
<div align="center">
  <img align="center" src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f641e5475f24798a05368b97faa0b6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=kejQfqXa4uP5Rsw0MAlapHgCeSk%3D" alt="AI Generated Art" width="90%" loading="lazy"/>
</div>
<h3 data-id="heading-1">ä¸€. ç®€ä»‹</h3>
<p>å­¦æœ¯ç»˜å›¾å·¥å…·åƒåƒä¸‡ï¼Œä½†æˆ‘ç”¨çš„æœ€å¤šçš„ä¾ç„¶æ˜¯Pythonçš„Matplotlibç»˜å›¾åº“ã€‚</p>
<p>è¿™å¹¶éå› ä¸ºå®ƒèƒ½åšå‡ºæœ€ç‚«ä¸½çš„å›¾è¡¨ï¼ˆè™½ç„¶è®¤çœŸè°ƒæ•´åå®Œå…¨å¯ä»¥ï¼‰ï¼Œè€Œæ˜¯å› ä¸ºå®ƒ<strong>è¶³å¤Ÿè½»é‡ã€ä¸Šæ‰‹æå¿«ã€ä¸”é«˜åº¦å¯å®šåˆ¶</strong>â€”â€”å¦‚æœä½ å·²ç»ç†Ÿæ‚‰ Pythonï¼Œé‚£ä¹ˆå‡ ä¹å¯ä»¥ç«‹å³å¼€å§‹ç”»å›¾ã€‚å®ƒçš„æ ¸å¿ƒåº“ä½“ç§¯å¾ˆå°ï¼Œå´æä¾›äº†ä»åŸºç¡€åˆ°é«˜çº§å‡ ä¹æ— é™çš„å¯è°ƒç»†èŠ‚ã€‚å°¤å…¶åœ¨å½“å‰ AI è¾…åŠ©ç¼–ç é€æ¸æ™®åŠçš„èƒŒæ™¯ä¸‹ï¼Œé‚£äº›ç°ä»£åŒ–é«˜ç«¯çš„å›¾è¡¨æ ·å¼å®Œå…¨å¯ä»¥äº¤ç»™AIå»å®Œæˆï¼Œè‡ªå·±åªéœ€æŠŠæ¡å›¾è¡¨çš„æ ¸å¿ƒç»“æ„å³å¯ã€‚</p>
<p>æˆ–è®¸ä½ ä¼šé—®ï¼šä¸ºä»€ä¹ˆä¸ç”¨å¦ä¸€ä¸ªPythonç»˜å›¾åº“ <strong>Seaborn</strong>ï¼Ÿå®ƒé»˜è®¤æ ·å¼ç¾è§‚ï¼Œä»£ç ä¹Ÿæ›´ç®€æ´ã€‚ç¡®å®ï¼ŒSeaborn åœ¨å¿«é€Ÿç»˜åˆ¶ç»Ÿè®¡å›¾è¡¨æ—¶éå¸¸å‡ºè‰²ï¼Œå®ƒä¸ Matplotlib åŒå± Python å¯è§†åŒ–ç”Ÿæ€ä¸­çš„é‡è¦æˆå‘˜ï¼Œé€‰ç”¨å“ªä¸€ä¸ªæ›´å¤šå–å†³äºåœºæ™¯å’Œä¸ªäººä¹ æƒ¯ã€‚</p>
<p>æˆ‘ä¹‹æ‰€ä»¥é€‰æ‹©Matplotlibï¼Œæ˜¯å› ä¸ºè€ƒè™‘åˆ°SeabornåŒæ ·æ˜¯åŸºäºMatplotlibå¼€å‘çš„ï¼Œå®ƒæœ¬è´¨æ˜¯Matplotlibçš„é«˜çº§å°è£…ï¼Œè™½ç„¶æä¾›äº†ä¾¿æ·æ€§ï¼Œä½†è‹¥æ˜¯è¦æ·±åº¦å®šåˆ¶åŒ–éå¸¸è§„å›¾è¡¨ï¼Œè¿˜æ˜¯è¦å›åˆ°Matplotlibåº•å±‚æ¥å£ã€‚å› æ­¤ï¼Œæˆ‘è®¤ä¸ºæŒæ¡ Matplotlib ç›¸å½“äºæŒæ¡äº† Python ç§‘å­¦ç»˜å›¾çš„åŸºç¡€â€œè¯­è¨€â€ï¼Œèƒ½å¤Ÿè®©ä½ åœ¨å¯è§†åŒ–è®¾è®¡ä¸Šæ‹¥æœ‰æ›´å¤§çš„è‡ªç”±åº¦ã€‚</p>
<p>æ³¨æ„ï¼šæœ¬ç³»åˆ—æ•™ç¨‹å‡è®¾ä½ å·²ç»å…·å¤‡<strong>åŸºç¡€çš„ Python è¯­æ³•çŸ¥è¯†</strong>ã€‚å¦å¤–ï¼ŒMatplotlib ä¸ NumPy å’Œ pandas çš„ååŒèƒ½åŠ›æä¸ºå‡ºè‰²ï¼Œåœ¨å®é™…çš„æ•°æ®åˆ†æä¸ç§‘ç ”ç»˜å›¾ä¸­ä¹Ÿå¸¸å¸¸æ­é…ä½¿ç”¨â€”â€”å®ƒä»¬å…±åŒæ„æˆ Python æ•°æ®ç§‘å­¦ç”Ÿæ€ä¸­çš„æ ¸å¿ƒã€‚ä¸è¿‡ä¸ºäº†é™ä½å…¥é—¨é—¨æ§›ï¼Œæœ¬ç³»åˆ—çš„ç¤ºä¾‹å‡ä½¿ç”¨åŸç”Ÿ Python æ•°æ®ç»“æ„ã€‚</p>
<p>ç™¾é—»ä¸å¦‚ä¸€è§ï¼Œä¸€å›¾èƒœåƒè¨€ï¼Œä¸‹é¢å°±æ¥ç®€å•çš„çœ‹ä¸€ä¸‹æˆ‘æ›¾ç»ä½¿ç”¨matplotlibåœ¨çŸ­æ—¶é—´å†…ç»˜åˆ¶å‡ºæ¥çš„å›¾è¡¨ï¼š</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c82f1864a7c94ed08f37c946dc26afc9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=5FJeI6rISkWN9FSuoJpLyLaMwJA%3D" alt="t1.jpg" width="100%" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54a4b86144ac4d1dba9e46774dcd2e11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=r7PTTzIJ%2BETVdBknF0WatNhULcg%3D" alt="t2.jpg" width="100%" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4284e009cd7d47b8bbfec6fa3f99ba19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=GeiDGgyERcfoYPNd9MPEWHXrP60%3D" alt="t3.jpg" width="100%" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a7926633a1e415190bd3aeda298ad8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=3i6UG6RIgmDv2N31SjjtzbJ0MeY%3D" alt="t4.jpg" width="100%" loading="lazy"/></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/adaf9a20c6024e84ab432a816400a4f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=aPX9V7ssLPbIWXSWW3IPuvsJOY4%3D" alt="t5.jpg" width="100%" loading="lazy"/></p>
<p>æœ¬æ•™ç¨‹å°†æŒ‰å›¾è¡¨ç±»å‹è¿›è¡Œåˆ†ç±»è®²è§£ã€‚Matplotlib çš„å‚æ•°é…ç½®é¡¹éå¸¸ä¸°å¯Œï¼Œå…‰çœ‹æ–‡å­—å’Œå›¾ç‰‡æ˜¯è¿œè¿œä¸å¤Ÿçš„â€”â€”<strong>ä¸€å®šè¦åŠ¨æ‰‹å®è·µ</strong>ã€‚è¯·åŠ¡å¿…å¤åˆ¶æ–‡ç« ä¸­çš„ç¤ºä¾‹ä»£ç ï¼Œè‡ªå·±è¿è¡Œä¸€éï¼Œå¹¶å°è¯•è°ƒæ•´å…¶ä¸­çš„å‚æ•°ï¼Œè§‚å¯Ÿå›¾å½¢å¦‚ä½•å˜åŒ–ã€‚åªæœ‰äº²æ‰‹æ“ä½œï¼Œæ‰èƒ½çœŸæ­£ç†è§£æ¯ä¸ªé€‰é¡¹çš„ä½œç”¨ï¼Œè®°å¿†ä¹Ÿä¼šæ›´åŠ æ·±åˆ»ã€‚</p>
<p>æ­¤å¤–ï¼Œè™½ç„¶å›¾è¡¨ç±»å‹å¤šæ ·ï¼Œä½† Matplotlib çš„è®¾è®¡æ€æƒ³ä¸æ ¸å¿ƒ API åœ¨å„ç±»å›¾è¡¨ä¸­æ˜¯å…±é€šçš„ã€‚å› æ­¤ï¼Œæ— è®ºä½ æ˜¯å¦éœ€è¦ç»˜åˆ¶æŠ˜çº¿å›¾ï¼Œ<strong>ç¬¬äºŒç« â€œç»˜å›¾åŸºç¡€ / æŠ˜çº¿å›¾ç»˜åˆ¶â€éƒ½æ˜¯å¿…è¯»çš„é‡ç‚¹</strong>ã€‚æˆ‘ä¼šä»¥æœ€ç®€å•çš„æŠ˜çº¿å›¾ä¸ºä¾‹ï¼Œç³»ç»Ÿè®²è§£å›¾å½¢æ„æˆã€åæ ‡è½´ã€çº¿æ¡æ ·å¼ã€æ ‡ç­¾æ ‡é¢˜ç­‰åŸºç¡€ç»„ä»¶ä¸å¸¸ç”¨ APIã€‚æŒæ¡è¿™ä¸€éƒ¨åˆ†åï¼Œå†å­¦ä¹ æŸ±çŠ¶å›¾ã€æ•£ç‚¹å›¾ã€å­å›¾ç»˜åˆ¶ç­‰å…¶ä»–å›¾è¡¨æ—¶ï¼Œä½ ä¼šå‘ç°å®ƒä»¬çš„ä½¿ç”¨é€»è¾‘éå¸¸ç›¸ä¼¼ï¼Œä¸Šæ‰‹ä¹Ÿä¼šè½»æ¾å¾—å¤šã€‚</p>
<h3 data-id="heading-2">äºŒ. ç»˜å›¾åŸºç¡€/æŠ˜çº¿å›¾ç»˜åˆ¶</h3>
<h4 data-id="heading-3">2.1 å®‰è£…ä¸åŸºç¡€è®¾ç½®</h4>
<p>è¦ä½¿ç”¨Matplotlibï¼Œé¦–å…ˆéœ€è¦å®‰è£…å®ƒã€‚å®‰è£…éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨ç»ˆç«¯æˆ–å‘½ä»¤è¡Œä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š<code>pip install matplotlib</code></p>
<p>å®‰è£…å®Œæˆåï¼Œåœ¨Pythonä»£ç ä¸­å¼•å…¥Matplotlibçš„æ ¸å¿ƒç»˜å›¾æ¨¡å—ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt 
</code></pre>
<p>è¿™æ˜¯Matplotlibçš„æ ‡å‡†å¼•å…¥æ–¹å¼ï¼Œ<code>plt</code>æ˜¯çº¦å®šä¿—æˆçš„åˆ«åï¼Œæ–¹ä¾¿åç»­è°ƒç”¨ã€‚</p>
<p>Matplotlibé»˜è®¤ä¸æ”¯æŒå›¾è¡¨ä¸­å‡ºç°ä¸­æ–‡å­—ä½“ï¼Œç›´æ¥ä½¿ç”¨ä¸­æ–‡ä¼šå‡ºç°ä¹±ç ï¼ˆæ˜¾ç¤ºä¸ºæ–¹æ¡†ï¼‰ã€‚è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œåœ¨å¯¼å…¥åº“åæ·»åŠ ä»¥ä¸‹é…ç½®ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è®¾ç½®ä¸­æ–‡å­—ä½“</span>
plt.rcParams[<span class="hljs-string">"font.sans-serif"</span>] = [<span class="hljs-string">"SimHei"</span>]  <span class="hljs-comment"># ä½¿ç”¨é»‘ä½“</span>
plt.rcParams[<span class="hljs-string">"axes.unicode_minus"</span>] = <span class="hljs-literal">False</span>   <span class="hljs-comment"># æ­£å¸¸æ˜¾ç¤ºè´Ÿå·</span>
</code></pre>
<blockquote>
<p><strong>å°æç¤º</strong>ï¼šä¸åŒæ“ä½œç³»ç»Ÿå¯ç”¨çš„ä¸­æ–‡å­—ä½“å¯èƒ½ä¸åŒã€‚Windowsç³»ç»Ÿå¸¸ç”¨<code>SimHei</code>ï¼ˆé»‘ä½“ï¼‰ã€<code>Microsoft YaHei</code>ï¼ˆå¾®è½¯é›…é»‘ï¼‰ï¼›macOSç³»ç»Ÿå¸¸ç”¨<code>PingFang SC</code>ï¼ˆè‹¹æ–¹ç®€ä½“ï¼‰ï¼›Linuxç³»ç»Ÿå¸¸ç”¨<code>Noto Sans CJK SC</code>ï¼ˆæ€æºé»‘ä½“ï¼‰ã€‚å¦‚æœ<code>SimHei</code>ä¸å¯ç”¨ï¼Œå¯ä»¥å°è¯•å…¶ä»–å­—ä½“ã€‚</p>
</blockquote>
<h4 data-id="heading-4">2.2 åŸºç¡€æŠ˜çº¿å›¾ç»˜åˆ¶</h4>
<p>è¦ç”»å›¾ï¼Œé¦–å…ˆéœ€è¦ä»€ä¹ˆï¼Ÿå½“ç„¶æ˜¯çº¸äº†ï¼Œæ²¡æœ‰çº¸ï¼Œæ€ä¹ˆç”»å›¾å‘¢ã€‚åœ¨matplotlibä¸­ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œåªä¸è¿‡æ˜¯éœ€è¦ç”»å¸ƒï¼Œæ‰èƒ½ç”»å›¾ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åˆ›å»ºä¸€ä¸ªç”»å¸ƒã€‚</p>
<pre><code class="hljs language-python" lang="python">fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">4</span>))
</code></pre>
<p>è¿™é‡Œçš„<code>figsize=(6, 4)</code>è¡¨ç¤ºåˆ›å»ºä¸€ä¸ªå®½6è‹±å¯¸ã€é«˜4è‹±å¯¸çš„ç”»å¸ƒï¼Œè¿™ä¸ªå¯ä»¥è‡ªå·±æ ¹æ®éœ€æ±‚è‡ªè¡Œè®¾ç½®</p>
<p>æœ‰äº†ç”»å¸ƒï¼Œå°±è¦åœ¨ç”»å¸ƒä¸Šç”»å›¾äº†ï¼›åœ¨ç”»å›¾è¡¨ä¹‹å‰ï¼Œå…ˆæƒ³ä¸€æƒ³ï¼Œæˆ‘è¦åœ¨è¿™ä¸ªç”»å¸ƒä¸Šç”»å‡ å¼ è¡¨å‘¢ï¼Ÿå…¶å®ä¸è®ºä½ æƒ³ç”»å‡ å¼ è¡¨ï¼Œåªè¦ä½ æ˜¯é€šè¿‡ä¸Šé¢çš„ä»£ç åˆ›å»ºçš„ç”»å¸ƒï¼Œé‚£ä¹ˆè¿™ä¸ªç”»å¸ƒä¸Šå°±åªèƒ½å®¹ä¸‹ä¸€å¼ è¡¨ï¼ˆå…ˆä¸ç”¨ç®¡ä¸ºä»€ä¹ˆï¼‰ã€‚å¹¶ä¸”å˜é‡<code>ax</code>å°±æ˜¯é‚£å¼ è¡¨, <code>fig</code>å˜é‡ä»£è¡¨æ•´ä¸ªç”»å¸ƒï¼Œæš‚æ—¶æ²¡ä»€ä¹ˆç”¨ï¼Œä¸ç”¨ç®¡å®ƒã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬ç›´æ¥å±•ç¤ºä¸€ä¸‹è¿™ä¸ªç”»å¸ƒã€‚ä½¿ç”¨å¦‚ä¸‹ä»£ç å°±å¯ä»¥å±•ç¤ºå½“å‰ç”»å¸ƒï¼š</p>
<pre><code class="hljs language-python" lang="python">plt.show()
</code></pre>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/252cd821aa3b408d805b501f19aa1f8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=INpLveGyr4GhsEYjawh%2F14uiZgE%3D" alt="c1.jpg" width="50%" loading="lazy"/></p>
<p>è¿è¡Œåä¼šæ˜¾ç¤ºä¸€ä¸ªç©ºç™½åæ ‡ç³»ï¼Œå› ä¸ºæˆ‘ä»¬å•¥ä¹Ÿæ²¡ç”»ã€‚è¿™ä¸ªåæ ‡ç³»é»˜è®¤æ˜¯äºŒç»´ç›´è§’åæ ‡ç³»ï¼ŒåŒ…å«xè½´å’Œyè½´ï¼Œä»¥åŠåˆ»åº¦çº¿å’Œè¾¹æ¡†ã€‚</p>
<p>ç°åœ¨è®©æˆ‘ä»¬åœ¨åæ ‡ç³»ä¸Šç»˜åˆ¶ä¸€æ¡æŠ˜çº¿ã€‚æŠ˜çº¿ç”±ä¸€ç³»åˆ—ç‚¹è¿æ¥è€Œæˆï¼Œæ¯ä¸ªç‚¹ç”± <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x, y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></span> åæ ‡ç¡®å®šï¼š</p>
<pre><code class="hljs language-python" lang="python">x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
y = [<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>, <span class="hljs-number">7</span>, <span class="hljs-number">11</span>]
<span class="hljs-comment"># è°ƒç”¨axè¡¨ä¸Šçš„plotæ–¹æ³•ï¼Œplotå°±æ˜¯ç»˜åˆ¶æŠ˜çº¿</span>
<span class="hljs-comment"># plotå‡½æ•°ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯xåæ ‡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯yåæ ‡</span>
ax.plot(x, y)	
</code></pre>
<p><code>ax.plot()</code>å‡½æ•°å°†ä¾æ¬¡è¿æ¥åæ ‡ç‚¹ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>4</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>3</mn><mo separator="true">,</mo><mn>9</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>4</mn><mo separator="true">,</mo><mn>7</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mo stretchy="false">(</mo><mn>5</mn><mo separator="true">,</mo><mn>11</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(1,1),(2,4),(3,9),(4,7),(5,11)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">1</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">4</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mopen">(</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">9</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mopen">(</span><span class="mord">4</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">7</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mopen">(</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">11</span><span class="mclose">)</span></span></span></span></span>ï¼Œå½¢æˆä¸€æ¡æŠ˜çº¿ã€‚ç»˜åˆ¶å®Œæˆåï¼Œå†æ¬¡ä½¿ç”¨<code>plt.show()</code>æ˜¾ç¤ºå›¾å½¢å¦‚å›¾1æ‰€ç¤ºã€‚</p>
<p>å¦‚æœæˆ‘ä»¬åªä¼ å…¥ä¸¤ä¸ªç‚¹ï¼Œå°±å¯ä»¥ç»˜åˆ¶ä¸€æ¡è¿æ¥è¿™ä¸¤ä¸ªç‚¹çš„ç›´çº¿ï¼ˆè¿™æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å°æŠ€å·§å“¦ï¼Œæ¯”å¦‚ç»˜åˆ¶è¾…åŠ©çº¿ã€è¶‹åŠ¿çº¿ç­‰ï¼‰</p>
<pre><code class="hljs language-python" lang="python">x1 = [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>]
y2 = [<span class="hljs-number">5</span>, <span class="hljs-number">1</span>]
ax.plot(x1, y2)	
</code></pre>
<p>ç»˜åˆ¶çš„æ•ˆæœå¦‚å›¾2æ‰€ç¤ºã€‚å¯ä»¥çœ‹åˆ°ï¼Œä¹‹å‰ç»˜åˆ¶çš„è“è‰²æŠ˜çº¿å¹¶æ²¡æœ‰è¢«â€œæ“¦é™¤â€ï¼Œè¿™æ˜¯å› ä¸ºåœ¨Matplotlibä¸­ï¼Œç»˜å›¾æ“ä½œæ˜¯<strong>è¿½åŠ </strong>çš„ï¼Œè€Œä¸æ˜¯è¦†ç›–ã€‚è¿™ç§è®¾è®¡è®©ä½ å¯ä»¥è½»æ¾åœ°åœ¨åŒä¸€å¼ å›¾ä¸Šå åŠ å¤šç§å…ƒç´ ï¼Œä»è€Œå®ç°æ›´ä¸°å¯Œçš„ä¿¡æ¯è¡¨è¾¾ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°è¯•ç»˜åˆ¶ä¸€ä¸ª<strong>ä¸€å…ƒä¸‰æ¬¡å‡½æ•°</strong>ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><msup><mi>x</mi><mn>3</mn></msup><mo>+</mo><msup><mi>x</mi><mn>2</mn></msup><mo>âˆ’</mo><mi>x</mi><mo>+</mo><mn>2</mn><mo separator="true">,</mo><mtext>Â </mtext><mi>x</mi><mo>âˆˆ</mo><mo stretchy="false">[</mo><mo>âˆ’</mo><mn>3</mn><mo separator="true">,</mo><mn>1.5</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">f(x) = \frac{1}{2}x^{3} + x^{2} - x + 2,\space x\in [-3,1.5]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.9474em;vertical-align:-0.0833em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"/><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"/><span class="mord">2</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord">3</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">1.5</span><span class="mclose">]</span></span></span></span></span></div>
<p>ä¸è¿‡åœ¨ç»˜åˆ¶ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå®šä¹‰ä¸¤ä¸ªåœ¨å‡½æ•°å¯è§†åŒ–ä¸­éå¸¸å®ç”¨çš„è¾…åŠ©å‡½æ•°ï¼ˆæœªæ¥ä¼šå¤šæ¬¡ç”¨åˆ°ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">apply_function_to_vector</span>(<span class="hljs-params">values, func</span>):
    <span class="hljs-string">"""å°†ç»™å®šå‡½æ•°åº”ç”¨äºå€¼åˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ """</span>
    <span class="hljs-keyword">return</span> [func(value) <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> values]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_range</span>(<span class="hljs-params">start, end, step</span>):
    <span class="hljs-string">"""ç”Ÿæˆä»startåˆ°endï¼ˆä¸å«endï¼‰ï¼Œæ­¥é•¿ä¸ºstepçš„åºåˆ—"""</span>
    <span class="hljs-keyword">return</span> [start + i * step <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">int</span>((end - start) / step))]
</code></pre>
<p>å¦‚æœä½ ä¸å¤ªç†è§£è¿™ä¸¤ä¸ªå‡½æ•°çš„ä½œç”¨ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>
<pre><code class="hljs language-python" lang="python">a_list = generate_range(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0.5</span>)
<span class="hljs-built_in">print</span>(a_list)
<span class="hljs-comment"># è¾“å‡ºï¼š</span>
<span class="hljs-comment"># [1.0, 1.5, 2.0, 2.5]</span>
</code></pre>
<p>æ¥ç€ï¼Œå®šä¹‰ä¸€å…ƒä¸‰æ¬¡å‡½æ•°åŠå…¶å®šä¹‰åŸŸï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">cubic_polynomial</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-number">0.5</span> * x**<span class="hljs-number">3</span> + x**<span class="hljs-number">2</span> - x + <span class="hljs-number">2</span>

x = generate_range(-<span class="hljs-number">3</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">0.05</span>)  <span class="hljs-comment"># åœ¨ [-3, 1.5] ä¸Šæ¯éš” 0.05 å–ä¸€ä¸ªç‚¹</span>
</code></pre>
<p>ç°åœ¨ï¼Œå°†æ¯ä¸ª <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">x</span></span></span></span></span> ä»£å…¥å‡½æ•°ï¼Œå¾—åˆ°å¯¹åº”çš„  <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></span> å€¼ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å°† x åˆ—è¡¨ä¸­çš„æ¯ä¸ªå€¼ä¼ é€’ç»™ cubic_polynomial å‡½æ•°ï¼Œç”Ÿæˆå¯¹åº”çš„ y åˆ—è¡¨</span>
y = apply_function_to_vector(x, cubic_polynomial)
</code></pre>
<p>ç»˜åˆ¶å›¾åƒï¼Œç»“æœå¦‚å›¾3ï¼š</p>
<pre><code class="hljs language-python" lang="python">ax.plot(x, y)
plt.show()
</code></pre>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6326097f206d4708a117ede6511c5f13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=psiJsZn6HHlA2zACQO4jIhUUIqc%3D" alt="c2.jpg" width="100%" loading="lazy"/></p>
<p>ä½ ä¼šçœ‹åˆ°æ›²çº¿éå¸¸å…‰æ»‘ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨åŒºé—´å†…å–äº†è¶³å¤Ÿå¤šçš„ç‚¹ï¼ˆæ­¥é•¿ 0.05ï¼‰ã€‚ç‚¹çš„å¯†åº¦è¶Šé«˜ï¼ŒæŠ˜çº¿åœ¨è§†è§‰ä¸Šå°±è¶Šæ¥è¿‘è¿ç»­çš„å‡½æ•°æ›²çº¿ã€‚</p>
<h4 data-id="heading-5">2.3 åŸºç¡€æ ·å¼</h4>
<p>å®é™…ä¸Šï¼ŒæŠ˜çº¿å›¾çš„æ ¸å¿ƒç»˜åˆ¶æ–¹æ³•å·²ç»è®²å®Œäº†ï¼Œæ¥ä¸‹æ¥çš„é‡ç‚¹æ˜¯<strong>æ ·å¼è®¾ç½®</strong>â€”â€”å¦‚ä½•è®©å›¾è¡¨æ›´æ¸…æ™°ç¾è§‚ã€‚ä¸‹é¢æ˜¯ä¸€æ®µå®Œæ•´çš„ç¤ºä¾‹ä»£ç ï¼Œæ³¨é‡Šéå¸¸è¯¦ç»†ï¼Œå»ºè®®ä½ äº²è‡ªåœ¨æœ¬åœ°è¿è¡Œï¼Œå¹¶å°è¯•ä¿®æ”¹ä¸åŒå‚æ•°ï¼Œè§‚å¯Ÿæ•ˆæœå˜åŒ–ã€‚</p>
<p><strong>ç¤ºä¾‹ä¸€:</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
plt.rcParams[<span class="hljs-string">"font.sans-serif"</span>] = [<span class="hljs-string">"SimHei"</span>] 
plt.rcParams[<span class="hljs-string">"axes.unicode_minus"</span>] = <span class="hljs-literal">False</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">apply_function_to_vector</span>(<span class="hljs-params">values, func</span>):
    <span class="hljs-keyword">return</span> [func(value) <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> values]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_range</span>(<span class="hljs-params">start, end, step</span>):
    <span class="hljs-keyword">return</span> [start + i * step <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">int</span>((end - start) / step))]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">cubic_polynomial</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-number">0.5</span> * x**<span class="hljs-number">3</span> + x**<span class="hljs-number">2</span> - x + <span class="hljs-number">2</span>

<span class="hljs-comment"># cubic_polynomialçš„å¯¼å‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">d_cubic_polynomial</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-number">1.5</span> * x**<span class="hljs-number">2</span> + <span class="hljs-number">2</span> * x - <span class="hljs-number">1</span>

<span class="hljs-comment"># åˆ›å»ºå›¾å½¢ä¸åæ ‡è½´</span>
fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">4</span>))

<span class="hljs-comment"># ç”Ÿæˆ x å¹¶è®¡ç®— y ä¸ dy</span>
x = generate_range(-<span class="hljs-number">3</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">0.3</span>)
y = apply_function_to_vector(x, cubic_polynomial)
dy = apply_function_to_vector(x, d_cubic_polynomial)

<span class="hljs-comment"># ç»˜åˆ¶ä¸€å…ƒä¸‰æ¬¡å‡½æ•°f(x)</span>
ax.plot(
    x,
    y,
    linewidth=<span class="hljs-number">2</span>,  				<span class="hljs-comment"># çº¿æ¡çš„å®½åº¦ï¼ˆé»˜è®¤1.5ï¼‰</span>
    linestyle=<span class="hljs-string">"-"</span>,  			<span class="hljs-comment"># çº¿æ¡çš„æ ·å¼ï¼ˆé»˜è®¤å®çº¿ï¼‰å…¶å®ƒå¯é€‰é¡¹:(å®çº¿'-', è™šçº¿'--', ç‚¹çº¿':', ç‚¹åˆ’çº¿'-.')</span>
    color=(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>), 		 	<span class="hljs-comment"># çº¿æ¡çš„é¢œè‰²ï¼ˆé»‘è‰²ï¼‰ï¼ŒRGBä¸‰å…ƒç»„,0~1ä¹‹é—´çš„æµ®ç‚¹æ•°è¡¨ç¤º</span>
    <span class="hljs-comment"># color = "#FF5733"  		# ä¹Ÿå¯ä»¥ä½¿ç”¨åå…­è¿›åˆ¶é¢œè‰²ä»£ç </span>
    alpha=<span class="hljs-number">0.8</span>,  				<span class="hljs-comment"># çº¿æ¡çš„ä¸é€æ˜åº¦ï¼Œå–å€¼èŒƒå›´0~1ï¼ˆé»˜è®¤1.0ï¼‰</span>
    marker=<span class="hljs-string">"o"</span>,  				<span class="hljs-comment"># æ•°æ®ç‚¹çš„æ ‡è®°æ ·å¼,åœ†å½¢ï¼ˆé»˜è®¤æ— æ ‡è®°ï¼‰, å…¶å®ƒå¯é€‰é¡¹åœ¨åæ–‡è¡¨æ ¼å¤„æŸ¥è¯¢</span>
    markersize=<span class="hljs-number">7</span>,  				<span class="hljs-comment"># æ ‡è®°ç‚¹çš„å¤§å°ï¼ˆé»˜è®¤6ï¼‰</span>
    markerfacecolor=<span class="hljs-string">"#1E3FCF"</span>,  <span class="hljs-comment"># æ ‡è®°ç‚¹çš„å¡«å……é¢œè‰²ï¼Œè“è‰²</span>
    markeredgecolor=<span class="hljs-string">"#FF5733"</span>,  <span class="hljs-comment"># æ ‡è®°ç‚¹çš„è¾¹æ¡†é¢œè‰²ï¼Œçº¢è‰²</span>
    markeredgewidth=<span class="hljs-number">1.5</span>,  		<span class="hljs-comment"># æ ‡è®°ç‚¹è¾¹æ¡†çš„å®½åº¦ï¼ˆé»˜è®¤1.0ï¼‰</span>
    markevery=<span class="hljs-number">2</span>,  				<span class="hljs-comment"># æ¯éš”ä¸¤ä¸ªæ•°æ®ç‚¹ç»˜åˆ¶ä¸€ä¸ªæ ‡è®°ç‚¹</span>
    label=<span class="hljs-string">"ä¸‰å…ƒä¸€æ¬¡å‡½æ•° $f(x)$"</span>,  <span class="hljs-comment"># ç»™è¿™æ¡æŠ˜çº¿å–ä¸€ä¸ªåå­—(ç”¨äºå›¾ä¾‹æ˜¾ç¤º),æ”¯æŒ LaTeX æ•°å­¦å…¬å¼</span>
)

<span class="hljs-comment"># ç»˜åˆ¶f(x)çš„å¯¼å‡½æ•°f'(x)</span>
ax.plot(
    x,
    dy,
    color = (<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>),
    alpha = <span class="hljs-number">0.6</span>,
    linestyle = <span class="hljs-string">'--'</span>,
    label = <span class="hljs-string">"å¯¼æ•° $f'(x)$"</span>
)

<span class="hljs-comment"># åæ ‡è½´æ ‡ç­¾ä¸æ ‡é¢˜</span>
ax.set_xlabel(<span class="hljs-string">"è¿™é‡Œå†™xè½´æ ‡ç­¾"</span>)
ax.set_ylabel(<span class="hljs-string">"è¿™é‡Œå†™yè½´æ ‡ç­¾"</span>)
ax.set_title(<span class="hljs-string">"è¿™é‡Œå†™è¿™å¼ è¡¨çš„æ ‡é¢˜"</span>)
ax.legend() <span class="hljs-comment"># æ˜¾ç¤ºå›¾ä¾‹ï¼Œå¦‚æœæ²¡æœ‰è¿™è¡Œä»£ç å°±ä¸ä¼šæ˜¾ç¤ºå›¾ä¾‹</span>
ax.grid(<span class="hljs-literal">True</span>)  <span class="hljs-comment"># æ˜¾ç¤ºèƒŒæ™¯ç½‘æ ¼</span>

<span class="hljs-comment"># è®¾ç½®æ¬¡åˆ»åº¦ï¼ˆä½¿åæ ‡è½´æ›´ç²¾ç»†ï¼‰</span>
<span class="hljs-keyword">from</span> matplotlib.ticker <span class="hljs-keyword">import</span> AutoMinorLocator
<span class="hljs-comment"># xè½´çš„æ¯ä¸¤ä¸ªä¸»åˆ»åº¦ä¹‹é—´æ”¾å››ä¸ªå°åˆ»åº¦(æ¬¡åˆ»åº¦)</span>
ax.xaxis.set_minor_locator(AutoMinorLocator(<span class="hljs-number">4</span>)) 
<span class="hljs-comment"># yè½´çš„æ¯ä¸¤ä¸ªä¸»åˆ»åº¦ä¹‹é—´æ”¾2ä¸ªå°åˆ»åº¦</span>
<span class="hljs-comment"># ax.yaxis.set_minor_locator(AutoMinorLocator(2))</span>

<span class="hljs-comment"># ax.spines["top"].set_visible(False) # éšè—é¡¶éƒ¨è¾¹æ¡†</span>
<span class="hljs-comment"># ax.spines["right"].set_visible(False)   # éšè—å³ä¾§è¾¹æ¡†</span>

plt.show()
</code></pre>
<p>è¿è¡Œä¸Šè¿°ä»£ç åï¼Œä½ ä¼šå¾—åˆ°å¦‚å›¾4æ‰€ç¤ºçš„å›¾è¡¨ï¼š</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/868c153d2e524036a1132f7edf2c715e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=6BWvL6R2ToWHrMdpbcuyV0JveNw%3D" alt="c3.jpg" width="90%" loading="lazy"/></p>
<p>å¦å¤–ï¼Œå›¾ä¾‹ã€åæ ‡è½´æ ‡ç­¾ã€ç½‘æ ¼ç­‰å…ƒç´ éƒ½æ˜¯<strong>é«˜åº¦å¯é…ç½®</strong>çš„ã€‚ä»¥ä¸‹æ˜¯å¸¸ç”¨å‚æ•°çš„è®¾ç½®ç¤ºä¾‹ï¼ˆå¯ä»¥æŒ‰éœ€æ›´æ”¹ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># y è½´æ ‡ç­¾æ ·å¼è®¾ç½®ï¼ˆx è½´ä¸æ ‡é¢˜ç±»ä¼¼ï¼‰</span>
ax.set_ylabel(
    <span class="hljs-string">"y è½´æ ‡ç­¾"</span>,
    fontsize=<span class="hljs-number">15</span>,	  <span class="hljs-comment"># å­—ä½“å¤§å°</span>
    color=<span class="hljs-string">"#991A1A"</span>,  <span class="hljs-comment"># æ–‡å­—é¢œè‰²</span>
    rotation=<span class="hljs-number">0</span>,		  <span class="hljs-comment"># æ–‡å­—æ—‹è½¬è§’åº¦</span>
    alpha=<span class="hljs-number">0.7</span>,		  <span class="hljs-comment"># ä¸é€æ˜åº¦</span>
    fontweight=<span class="hljs-number">500</span>,	  <span class="hljs-comment"># å­—ä½“ç²—ç»†</span>
    labelpad=<span class="hljs-number">15</span>,  	  <span class="hljs-comment"># æ–‡å­—ä¸è½´çº¿ï¼ˆè¾¹æ¡†ï¼‰çš„è·ç¦»</span>
    loc=<span class="hljs-string">"center"</span>,  	  <span class="hljs-comment"># æ–‡å­—æ‰€å¤„ä½ç½®,å¯é€‰å‚æ•°æœ‰ center, left, right, best, top, bottom</span>
)

<span class="hljs-comment"># å›¾ä¾‹æ ·å¼è®¾ç½®</span>
ax.legend(
    loc=<span class="hljs-string">"upper left"</span>,  <span class="hljs-comment"># å›¾ä¾‹ä½ç½®è®¾ç½®ï¼Œå…¶ä»–å¯é€‰å€¼ï¼šupper right lower left center best</span>
    framealpha=<span class="hljs-number">0.5</span>,    <span class="hljs-comment"># è¾¹æ¡†ä¸é€æ˜åº¦</span>
    frameon=<span class="hljs-literal">True</span>,      <span class="hljs-comment"># æ˜¯å¦æ˜¾ç¤ºè¾¹æ¡†</span>
    shadow=<span class="hljs-literal">False</span>, 	   <span class="hljs-comment"># æ˜¯å¦æ˜¾ç¤ºé˜´å½±</span>
    fancybox=<span class="hljs-literal">True</span>,     <span class="hljs-comment"># æ˜¯å¦åœ†è§’è¾¹æ¡†</span>
    fontsize=<span class="hljs-number">10</span>,       <span class="hljs-comment"># å­—ä½“å¤§å°</span>
    title=<span class="hljs-string">"xxxx"</span>,      <span class="hljs-comment"># å›¾ä¾‹æ ‡é¢˜</span>
    title_fontsize=<span class="hljs-string">"large"</span>,	<span class="hljs-comment"># å›¾ä¾‹æ ‡é¢˜å¤§å°</span>
)

<span class="hljs-comment"># ç½‘æ ¼æ˜¾ç¤ºï¼Œå…³äºwhichå’Œaxiså‚æ•°çš„ä½¿ç”¨ç¤ºä¾‹å¯ä»¥æŸ¥çœ‹å›¾4.1</span>
ax.grid(
    <span class="hljs-literal">True</span>,			<span class="hljs-comment"># æ˜¯å¦æ˜¾ç¤ºç½‘æ ¼</span>
    which=<span class="hljs-string">"major"</span>,  <span class="hljs-comment"># ç½‘æ ¼ç±»å‹ï¼ˆåˆ†ä¸»åˆ»åº¦ç½‘æ ¼å’Œæ¬¡åˆ»åº¦ç½‘æ ¼ï¼‰ï¼š'both'ï¼Œ'major'ï¼Œ'minor'</span>
    axis=<span class="hljs-string">"both"</span>,  	<span class="hljs-comment"># åªæ˜¾ç¤ºç‰¹å®šæ–¹å‘çš„èƒŒæ™¯çº¿æ¡ï¼š'both'ï¼Œ'x'ï¼Œ'y'</span>
    linestyle=<span class="hljs-string">"-"</span>,  <span class="hljs-comment"># çº¿å‹</span>
    linewidth=<span class="hljs-number">0.5</span>,  <span class="hljs-comment"># çº¿å®½</span>
    color=<span class="hljs-string">"gray"</span>,  	<span class="hljs-comment"># é¢œè‰²</span>
    alpha=<span class="hljs-number">0.4</span>,  	<span class="hljs-comment"># ä¸é€æ˜åº¦</span>
)
</code></pre>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5abf04b6173422fb50b6239b077de40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=hMnR3ZIwRxCIM6k%2F%2B0TqcNGNAvA%3D" alt="c5.jpg" width="100%" loading="lazy"/></p>
<p><strong>ç¤ºä¾‹äºŒï¼šè‡ªå®šä¹‰ä¸»åˆ»åº¦ä¸åˆ»åº¦æ ‡ç­¾</strong></p>
<p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒMatplotlib ä¼šæ ¹æ®æ•°æ®èŒƒå›´è‡ªåŠ¨è®¾ç½®åˆ»åº¦ä½ç½®ï¼Œä½†å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æŒ‡å®šåˆ»åº¦ä½ç½®ç”šè‡³è‡ªå®šä¹‰æ ‡ç­¾ã€‚ä¸‹é¢é€šè¿‡å‡ ä¸ªå…¸å‹çš„è®¾ç½®æ¥è¯´æ˜å¦‚ä½•æ“ä½œã€‚</p>
<p>è¿è¡Œä»¥ä¸‹ä»£ç ï¼Œæˆ‘ä»¬å°†æ‰‹åŠ¨è®¾ç½® x è½´å’Œ y è½´çš„åˆ»åº¦ä½ç½®ï¼Œç»“æœå¦‚å›¾5æ‰€ç¤ºã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">4</span>))
ax.set_xticks([<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4.5</span>,<span class="hljs-number">10</span>])	<span class="hljs-comment"># è®¾ç½® x è½´çš„ä¸»åˆ»åº¦ä½ç½®</span>
ax.set_yticks([-<span class="hljs-number">5</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">3.2</span>,<span class="hljs-number">5</span>])	<span class="hljs-comment"># è®¾ç½® y è½´çš„ä¸»åˆ»åº¦ä½ç½®</span>
plt.show()
</code></pre>
<p>é»˜è®¤åˆ»åº¦ä½äºåæ ‡è½´åº•éƒ¨ï¼ˆx è½´ï¼‰å’Œå·¦ä¾§ï¼ˆy è½´ï¼‰ã€‚å¦‚æœéœ€è¦å°†åˆ»åº¦ç§»åˆ°å¦ä¸€ä¾§ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ã€‚è¿è¡Œç»“æœå¦‚å›¾6æ‰€ç¤ºã€‚</p>
<pre><code class="hljs language-python" lang="python">ax.xaxis.set_ticks_position(<span class="hljs-string">"top"</span>)    <span class="hljs-comment"># å°† x è½´åˆ»åº¦ç½®äºé¡¶éƒ¨</span>
ax.yaxis.set_ticks_position(<span class="hljs-string">"right"</span>)  <span class="hljs-comment"># å°† y è½´åˆ»åº¦ç½®äºå³ä¾§</span>
<span class="hljs-comment"># å…¶ä»–å¯é€‰å‚æ•°ï¼š'bottom', 'top', 'left', 'right', 'both', 'none'</span>
</code></pre>
<p>é™¤äº†è°ƒæ•´åˆ»åº¦ä½ç½®ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å®Œå…¨è‡ªå®šä¹‰æ¯ä¸ªåˆ»åº¦å¯¹åº”çš„æ ‡ç­¾ï¼Œå¹¶è®¾ç½®æ ‡ç­¾çš„æ ·å¼ï¼ˆå¦‚æ—‹è½¬ã€å­—ä½“å¤§å°ç­‰ï¼‰ã€‚è¿è¡Œç»“æœå¦‚å›¾7æ‰€ç¤ºã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">4</span>))
ax.set_xticks([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4.5</span>, <span class="hljs-number">10</span>])  <span class="hljs-comment"># è®¾ç½® x è½´çš„ä¸»åˆ»åº¦ä½ç½®</span>
<span class="hljs-comment"># è‡ªå®šä¹‰åˆ»åº¦æ ‡ç­¾æ–‡æœ¬ä¸æ ·å¼ï¼Œè¿™è¡Œä»£ç ä¸€å®šè¦è·Ÿåœ¨set_xticksæ–¹æ³•åé¢</span>
ax.set_xticklabels(    
    [<span class="hljs-string">"æˆ‘æ˜¯0"</span>, <span class="hljs-string">"æˆ‘æ˜¯1"</span>, <span class="hljs-string">"æˆ‘æ˜¯3"</span>, <span class="hljs-string">"æˆ‘æ˜¯4.5"</span>, <span class="hljs-string">"æˆ‘æ˜¯10"</span>],
    rotation=-<span class="hljs-number">45</span>,                   <span class="hljs-comment"># æ ‡ç­¾æ—‹è½¬ -45 åº¦</span>
    fontsize=<span class="hljs-number">10</span>,                    <span class="hljs-comment"># æ ‡ç­¾å­—ä½“å¤§å°</span>
)
plt.show()
</code></pre>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df46237706934081bc2bf20ec87a504e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=yvfrHUg945%2FGr%2BQfU2McQCHJ0As%3D" alt="c4.jpg" width="100%" loading="lazy"/></p>
<p><strong>å¸¸ç”¨æ ‡è®°ç‚¹æ ·å¼<code>marker</code>é€ŸæŸ¥è¡¨ï¼š</strong></p>
<p>ç»˜åˆ¶æ•£ç‚¹å›¾æˆ–æŠ˜çº¿å›¾æ—¶ï¼Œ<code>marker</code> å‚æ•°ç”¨äºæŒ‡å®šæ•°æ®ç‚¹çš„å½¢çŠ¶ã€‚ä¸‹è¡¨åˆ—å‡ºæœ€å¸¸ç”¨çš„å‡ ç§æ ·å¼ï¼š</p>





















































































<table><thead><tr><th>å‚æ•°å€¼</th><th>æ ·å¼æè¿°</th><th>å›¾ç¤º</th></tr></thead><tbody><tr><td><code>'.'</code></td><td>ç‚¹</td><td>â— (å°åœ†ç‚¹)</td></tr><tr><td><code>'o'</code></td><td>åœ†åœˆ</td><td>â—‹ (ç©ºå¿ƒåœ†)</td></tr><tr><td><code>'s'</code></td><td>æ­£æ–¹å½¢</td><td>â–¡</td></tr><tr><td><code>'D'</code></td><td>é’»çŸ³å½¢</td><td>â—†</td></tr><tr><td><code>'^'</code></td><td>æ­£ä¸‰è§’å½¢</td><td>â–³</td></tr><tr><td><code>'v'</code></td><td>å€’ä¸‰è§’å½¢</td><td>â–½</td></tr><tr><td><code>'&gt;'</code></td><td>å³ä¸‰è§’å½¢</td><td>â–¶</td></tr><tr><td><code>'&lt;'</code></td><td>å·¦ä¸‰è§’å½¢</td><td>â—€</td></tr><tr><td><code>'p'</code></td><td>äº”è¾¹å½¢</td><td>â¬ </td></tr><tr><td><code>'*'</code></td><td>æ˜Ÿå·</td><td>â˜…</td></tr><tr><td><code>'h'</code></td><td>å…­è¾¹å½¢1</td><td>â¬¡</td></tr><tr><td><code>'H'</code></td><td>å…­è¾¹å½¢2</td><td>â¬¢</td></tr><tr><td><code>'+'</code></td><td>åŠ å·</td><td>ï¼‹</td></tr><tr><td><code>'x'</code></td><td>ä¹˜å·</td><td>Ã—</td></tr><tr><td><code>'d'</code></td><td>å°é’»çŸ³</td><td>â™¦</td></tr></tbody></table>
<h4 data-id="heading-6">2.4 å¸¸ç”¨è¾…åŠ©å…ƒç´ </h4>
<p>è¾…åŠ©å…ƒç´ åŒ…æ‹¬å‚è€ƒçº¿ã€å‚è€ƒåŒºé—´å¸¦ã€æ–‡æœ¬æ ‡æ³¨ç­‰ï¼Œå®ƒä»¬èƒ½å¤Ÿå¸®åŠ©è¯»è€…æ›´æ¸…æ™°åœ°ç†è§£å›¾è¡¨ä¸­çš„å…³é”®ä½ç½®æˆ–èŒƒå›´ã€‚ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­æ¼”ç¤ºå¦‚ä½•æ·»åŠ è¿™äº›å…ƒç´ ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">4</span>))

<span class="hljs-comment"># å†ç»˜åˆ¶ä¸€éä¸Šæ–‡ä¸­çš„ä¸€å…ƒä¸‰æ¬¡å‡½æ•°</span>
<span class="hljs-comment"># =====================================</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">apply_function_to_vector</span>(<span class="hljs-params">values, func</span>):
    <span class="hljs-keyword">return</span> [func(value) <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> values]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">cubic_polynomial</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-number">0.5</span> * x**<span class="hljs-number">3</span> + x**<span class="hljs-number">2</span> - x + <span class="hljs-number">2</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_range</span>(<span class="hljs-params">start, end, step</span>):
    <span class="hljs-keyword">return</span> [start + i * step <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">int</span>((end - start) / step))]

x = generate_range(-<span class="hljs-number">3</span>,<span class="hljs-number">1.5</span>,<span class="hljs-number">0.05</span>)
y = apply_function_to_vector(x, cubic_polynomial)
ax.plot(x, y)
<span class="hljs-comment"># =====================================</span>

<span class="hljs-comment"># æ·»åŠ ä¸€æ¡æ°´å¹³å‚è€ƒçº¿</span>
ax.axhline(
    y=<span class="hljs-number">4.0</span>,               <span class="hljs-comment"># å‚è€ƒçº¿æ‰€åœ¨çš„ y åæ ‡</span>
    color=<span class="hljs-string">"#B92D2D"</span>,     <span class="hljs-comment"># é¢œè‰²ï¼ˆçº¢è‰²ï¼‰</span>
    linestyle=<span class="hljs-string">"--"</span>,      <span class="hljs-comment"># çº¿å‹ï¼šè™šçº¿</span>
    linewidth=<span class="hljs-number">1</span>,         <span class="hljs-comment"># çº¿å®½</span>
    alpha=<span class="hljs-number">0.5</span>,           <span class="hljs-comment"># ä¸é€æ˜åº¦</span>
)

<span class="hljs-comment"># æ·»åŠ ä¸€æ¡å‚ç›´å‚è€ƒçº¿</span>
ax.axvline(
    x=-<span class="hljs-number">2</span>,                <span class="hljs-comment"># å‚è€ƒçº¿æ‰€åœ¨çš„ x åæ ‡</span>
    color=<span class="hljs-string">"#1D9B43"</span>,     <span class="hljs-comment"># é¢œè‰²ï¼ˆç»¿è‰²ï¼‰</span>
    linestyle=<span class="hljs-string">"--"</span>, 
    linewidth=<span class="hljs-number">1</span>,
)

<span class="hljs-comment"># æ·»åŠ ä¸€æ¡å¯¹è§’å‚è€ƒçº¿</span>
ax.axline(
    (<span class="hljs-number">0</span>, <span class="hljs-number">2</span>),        <span class="hljs-comment"># è¿‡(0,2)ç‚¹</span>
    slope=-<span class="hljs-number">0.8</span>,    <span class="hljs-comment"># ä½œä¸€æ¡æ–œç‡ä¸º-0.8çš„å‚è€ƒçº¿</span>
    color=<span class="hljs-string">"gray"</span>, 
    linestyle=<span class="hljs-string">"--"</span>, 
    linewidth=<span class="hljs-number">0.5</span>
)

<span class="hljs-comment"># æ·»åŠ æ°´å¹³å‚è€ƒåŒºé—´å¸¦ï¼ˆå¸¸ç”¨äºè¡¨ç¤ºç½®ä¿¡åŒºé—´æˆ–ç›®æ ‡èŒƒå›´ï¼‰</span>
ax.axhspan(
    ymin=<span class="hljs-number">0.5</span>,            <span class="hljs-comment"># åŒºé—´ä¸‹ç•Œ</span>
    ymax=<span class="hljs-number">1.2</span>,            <span class="hljs-comment"># åŒºé—´ä¸Šç•Œ</span>
    facecolor=<span class="hljs-string">"green"</span>, 	 <span class="hljs-comment"># åŒºé—´é¢œè‰²</span>
    alpha=<span class="hljs-number">0.2</span>            <span class="hljs-comment"># è¾ƒä½çš„é€æ˜åº¦ä½¿èƒŒæ™¯ä¸è¢«è¿‡åº¦çªå‡º</span>
) 

<span class="hljs-comment"># æ·»åŠ å‚ç›´å‚è€ƒåŒºé—´å¸¦</span>
ax.axvspan(xmin=-<span class="hljs-number">1.2</span>, xmax=-<span class="hljs-number">0.3</span>, facecolor=<span class="hljs-string">"red"</span>, alpha=<span class="hljs-number">0.1</span>)

<span class="hljs-comment"># åœ¨å›¾è¡¨ä¸­æ·»åŠ æ–‡æœ¬æ ‡æ³¨</span>
<span class="hljs-comment"># å¦‚ä¸‹é…ç½®é¡¹ä¼—å¤šï¼Œæ¨èç›´æ¥ç»™AIæä¾›ä½ çš„éœ€æ±‚ï¼Œè®©AIå¸®ä½ å†™å¦‚ä¸‹é…ç½®é¡¹</span>
bbox_props = <span class="hljs-built_in">dict</span>(
    boxstyle=<span class="hljs-string">"round"</span>,     <span class="hljs-comment"># åœ†è§’æ–‡æœ¬æ¡†</span>
    facecolor=<span class="hljs-string">"white"</span>,    <span class="hljs-comment"># å¡«å……è‰²</span>
    edgecolor=<span class="hljs-string">"black"</span>,    <span class="hljs-comment"># è¾¹æ¡†é¢œè‰²</span>
    linewidth=<span class="hljs-number">1</span>,          <span class="hljs-comment"># è¾¹æ¡†å®½åº¦</span>
    alpha=<span class="hljs-number">0.8</span>,            <span class="hljs-comment"># æ•´ä½“é€æ˜åº¦</span>
    pad=<span class="hljs-number">0.4</span>,              <span class="hljs-comment"># æ–‡æœ¬ä¸è¾¹æ¡†çš„å†…è¾¹è·</span>
)
ax.text(
    <span class="hljs-number">0.0</span>,                  <span class="hljs-comment"># æ–‡æœ¬æ¡†é”šç‚¹çš„ x åæ ‡ï¼ˆæ•°æ®åæ ‡ç³»ï¼‰</span>
    <span class="hljs-number">3.6</span>,                  <span class="hljs-comment"># æ–‡æœ¬æ¡†é”šç‚¹çš„ y åæ ‡</span>
    <span class="hljs-string">"Your Text"</span>,          <span class="hljs-comment"># æ–‡æœ¬å†…å®¹</span>
    fontsize=<span class="hljs-number">10</span>, 		  <span class="hljs-comment"># æ–‡å­—å¤§å°</span>
    fontfamily=<span class="hljs-string">"serif"</span>,   <span class="hljs-comment"># è¡¬çº¿å­—ä½“</span>
    fontstyle=<span class="hljs-string">"italic"</span>,   <span class="hljs-comment"># æ–œä½“</span>
    fontweight=<span class="hljs-string">"bold"</span>,    <span class="hljs-comment"># ç²—ä½“</span>
    color=<span class="hljs-string">"black"</span>,        <span class="hljs-comment"># å­—ä½“é¢œè‰²</span>
    ha=<span class="hljs-string">"left"</span>,            <span class="hljs-comment"># æ°´å¹³å¯¹é½æ–¹å¼ï¼šå·¦å¯¹é½</span>
    va=<span class="hljs-string">"bottom"</span>,          <span class="hljs-comment"># å‚ç›´å¯¹é½æ–¹å¼ï¼šåº•éƒ¨å¯¹é½</span>
    rotation=<span class="hljs-number">0</span>,           <span class="hljs-comment"># æ–‡æœ¬æ—‹è½¬è§’åº¦ï¼ˆåº¦ï¼‰</span>
    bbox=bbox_props,      <span class="hljs-comment"># åº”ç”¨ä¸Šè¿°æ–‡æœ¬æ¡†æ ·å¼</span>
)

plt.show()
</code></pre>
<p>è¿è¡Œç»“æœå¦‚å›¾8æ‰€ç¤ºã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60f047add4484a249a372a8a8de3563b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=VPxb6vbdsLuqOjuNI3ILJH%2B4V24%3D" alt="c6.jpg" width="70%" loading="lazy"/></p>
<h4 data-id="heading-7">2.5 ä¿å­˜ä¸ºå›¾ç‰‡</h4>
<p>ç»˜åˆ¶å®Œæˆåï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦å°†å›¾è¡¨ä¿å­˜ä¸ºå›¾ç‰‡æ–‡ä»¶ä»¥ä¾¿åœ¨æŠ¥å‘Šã€æ–‡ç« æˆ–æ¼”ç¤ºä¸­ä½¿ç”¨ã€‚é™¤äº†æ‰‹åŠ¨æˆªå›¾ï¼Œæ›´è§„èŒƒçš„åšæ³•æ˜¯åœ¨ç¨‹åºçš„ç»“å°¾ä½¿ç”¨ <code>plt.savefig()</code> å‡½æ•°ã€‚è¯¥å‡½æ•°æ”¯æŒå¤šç§æ ¼å¼ï¼ˆPNGã€PDFã€SVG ç­‰ï¼‰å’Œä¸°å¯Œçš„è¾“å‡ºè®¾ç½®ã€‚</p>
<pre><code class="hljs language-python" lang="python">plt.savefig(
    <span class="hljs-string">"output.png"</span>,               <span class="hljs-comment"># æ–‡ä»¶è·¯å¾„ï¼Œæ”¯æŒå¤šç§å›¾ç‰‡åç¼€ï¼ˆå¯ä½¿ç”¨ç›¸å¯¹æˆ–ç»å¯¹è·¯å¾„ï¼‰</span>
    dpi=<span class="hljs-number">300</span>,                    <span class="hljs-comment"># åˆ†è¾¨ç‡ï¼Œæ•°å€¼è¶Šé«˜å›¾ç‰‡è¶Šæ¸…æ™°</span>
    bbox_inches=<span class="hljs-string">"tight"</span>,        <span class="hljs-comment"># è‡ªåŠ¨è£å‰ªå›¾è¡¨å‘¨å›´å¤šä½™çš„ç©ºç™½åŒºåŸŸ</span>
    facecolor=<span class="hljs-string">"white"</span>,          <span class="hljs-comment"># ç”»å¸ƒèƒŒæ™¯é¢œè‰²</span>
    edgecolor=<span class="hljs-string">"none"</span>,           <span class="hljs-comment"># ç”»å¸ƒè¾¹ç¼˜é¢œè‰²</span>
    transparent=<span class="hljs-literal">False</span>,          <span class="hljs-comment"># è‹¥ä¸º Trueï¼Œåˆ™èƒŒæ™¯é€æ˜ï¼ˆé€‚åˆå åŠ åœ¨å…¶ä»–å›¾ä¸Šï¼‰</span>
    orientation=<span class="hljs-string">"portrait"</span>,     <span class="hljs-comment"># çº¸å¼ æ–¹å‘ï¼š'portrait'ï¼ˆçºµå‘ï¼‰æˆ– 'landscape'ï¼ˆæ¨ªå‘ï¼‰</span>
    metadata={                  <span class="hljs-comment"># å¯é€‰çš„å…ƒæ•°æ®ï¼Œä¼šåµŒå…¥åˆ°å›¾ç‰‡æ–‡ä»¶ä¸­</span>
        <span class="hljs-string">"Title"</span>: <span class="hljs-string">"Experimental Results"</span>,
        <span class="hljs-string">"Author"</span>: <span class="hljs-string">"Ming"</span>,
        <span class="hljs-string">"Copyright"</span>: <span class="hljs-string">"CC-BY 4.0"</span>,
    },
)
</code></pre>
<p>è¿™æ ·çš„è¯ï¼Œè¿è¡Œå®Œç¨‹åºåï¼Œå°±ä¼šå°†å›¾è¡¨ä¿å­˜ä¸ºå›¾ç‰‡å­˜æ”¾åœ¨ä½ æŒ‡å®šçš„ä½ç½®ã€‚</p>
<h3 data-id="heading-8">ä¸‰. è¿›é˜¶ç»˜å›¾æ“ä½œ</h3>
<h4 data-id="heading-9">3.1 åŒºé—´å¡«å……</h4>
<p>åŒºé—´å¡«å……ï¼ŒæŒ‡çš„æ˜¯åœ¨ç»™å®šçš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">x</span></span></span></span></span> åŒºé—´å†…ï¼Œæ ¹æ®è¯¥åŒºé—´å¯¹åº”çš„ä¸Šä¸‹è¾¹ç•Œå€¼ï¼Œå°†å…¶ä¹‹é—´çš„åŒºåŸŸç”¨é¢œè‰²æˆ–å›¾æ¡ˆè¿›è¡Œå¡«å……ã€‚è¿™ç§å¯è§†åŒ–æ–¹æ³•å¸¸ç”¨äºè¡¨ç¤ºè¯¯å·®èŒƒå›´ã€ç½®ä¿¡åŒºé—´ã€å‡½æ•°åŒ…å›´åŒºåŸŸç­‰ï¼Œèƒ½ç›´è§‚åœ°å±•ç¤ºæ•°æ®æˆ–å‡½æ•°åœ¨æŸä¸€èŒƒå›´å†…çš„æ³¢åŠ¨æƒ…å†µã€‚ä¸‹å›¾ 9 å±•ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„åŒºé—´å¡«å……æ•ˆæœï¼š</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc995912e79441ba91c12ac62c0729ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=APa7tde25CkmaTRVSq%2BcZrwRF4E%3D" alt="c7.jpg" width="100%" loading="lazy"/></p>
<p>è¦å®ç°ä¸Šé¢çš„æ•ˆæœä¹Ÿå¾ˆç®€å•ï¼Œåœ¨ Matplotlib ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>ax.fill_between()</code> å‡½æ•°è½»æ¾å®ç°è¿™ä¸€æ•ˆæœã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåŸºç¡€ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python">fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">4</span>))
x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
y_up = [<span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>]
y_down = [<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]

<span class="hljs-comment"># ç»˜åˆ¶ä¸Šä¸‹ä¸¤æ¡æŠ˜çº¿</span>
ax.plot(x, y_up)
ax.plot(x, y_down)

<span class="hljs-comment"># å¡«å……ä¸¤æ¡çº¿ä¹‹é—´çš„åŒºåŸŸ</span>
ax.fill_between(
    x,              <span class="hljs-comment"># x åæ ‡åºåˆ—</span>
    y_up,           <span class="hljs-comment"># ä¸Šè¾¹ç•Œ y å€¼</span>
    y_down,         <span class="hljs-comment"># ä¸‹è¾¹ç•Œ y å€¼</span>
    color=<span class="hljs-string">'#2ca02c'</span>, <span class="hljs-comment"># å¡«å……é¢œè‰²</span>
    alpha=<span class="hljs-number">0.2</span>       <span class="hljs-comment"># ä¸é€æ˜åº¦</span>
)
</code></pre>
<p>å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å®šä¹‰ä¸¤ä¸ªå¤šé¡¹å¼å‡½æ•°</span>
<span class="hljs-comment"># ä¸€å…ƒä¸‰æ¬¡å‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">cubic_polynomial</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> <span class="hljs-number">0.5</span> * x**<span class="hljs-number">3</span> + x**<span class="hljs-number">2</span> - x + <span class="hljs-number">2</span>
<span class="hljs-comment"># ä¸€å…ƒäºŒæ¬¡å‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">quadratic_polynomial</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> (<span class="hljs-number">3</span> * x**<span class="hljs-number">2</span> + <span class="hljs-number">5</span> * x - <span class="hljs-number">2</span>) / <span class="hljs-number">1.5</span>
fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">4</span>))

<span class="hljs-comment"># ç»˜åˆ¶è¿™ä¸¤ä¸ªå‡½æ•°</span>
x = generate_range(-<span class="hljs-number">3</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">0.05</span>)
y3 = apply_function_to_vector(x, cubic_polynomial)
y2 = apply_function_to_vector(x, quadratic_polynomial)
ax.plot(x, y3,label=<span class="hljs-string">"Cubic"</span>)
ax.plot(x, y2,label=<span class="hljs-string">"Quadratic"</span>)

<span class="hljs-comment"># å¡«å……xåœ¨[-2,0]ä¹‹é—´ï¼Œä»¥ä¸€å…ƒä¸‰æ¬¡å‡½æ•°ä¸ºä¸Šé™ï¼Œä¸€å…ƒäºŒæ¬¡å‡½æ•°ä¸ºä¸‹é™çš„åŒºé—´</span>
interval_x = generate_range(-<span class="hljs-number">2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0.05</span>)
interval_y3 = apply_function_to_vector(interval_x, cubic_polynomial)
interval_y2 = apply_function_to_vector(interval_x, quadratic_polynomial)
ax.fill_between(
    interval_x,     <span class="hljs-comment"># x åŒºé—´</span>
    interval_y3,    <span class="hljs-comment"># ä¸Šè¾¹ç•Œï¼ˆä¸‰æ¬¡å‡½æ•°ï¼‰</span>
    interval_y2,    <span class="hljs-comment"># ä¸‹è¾¹ç•Œï¼ˆäºŒæ¬¡å‡½æ•°ï¼‰</span>
    color=<span class="hljs-string">"#2B6DA3"</span>, <span class="hljs-comment"># å¡«å……é¢œè‰²</span>
    alpha=<span class="hljs-number">0.25</span>,     <span class="hljs-comment"># é€æ˜åº¦</span>
    label=<span class="hljs-string">"Interval"</span> <span class="hljs-comment"># ç”¨äºå›¾ä¾‹çš„æ ‡ç­¾</span>
    <span class="hljs-comment"># hatch="//"    #è¿™ä¸ªå±æ€§çš„ä»‹ç»è¯¦è§æ¡å½¢å›¾ç« èŠ‚</span>
)

ax.legend()
</code></pre>
<p>è¿è¡Œä¸Šè¿°ä»£ç åï¼Œæˆ‘ä»¬å¾—åˆ°å¦‚å›¾ 10 æ‰€ç¤ºçš„ç»“æœï¼Œå…¶ä¸­è“è‰²åŒºåŸŸå³ä¸ºä¸¤ä¸ªå‡½æ•°åœ¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>âˆˆ</mo><mo stretchy="false">[</mo><mo>âˆ’</mo><mn>2</mn><mo separator="true">,</mo><mn>0</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">x \in [-2,0]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"/><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord">âˆ’</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">0</span><span class="mclose">]</span></span></span></span></span> åŒºé—´å†…çš„åŒ…å›´åŒºåŸŸï¼š</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/14c02edfb11d4d4e97b4baf13223cda1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=NWel0eUi2KbfgxsiD46mNhUiMS0%3D" alt="c8.jpg" width="70%" loading="lazy"/></p>
<p>å…¶å®åŒºé—´å¡«å……å¯ä»¥ç”»å‡ºå¾ˆå¤šæœ‰è¶£çš„å›¾ï¼Œå¦‚ä¸‹å›¾11æ‰€å±•ç¤ºçš„å››å¼ å›¾è¡¨ï¼Œä»…éœ€æŒæ¡ä¸Šæ–‡æ‰€æåˆ°çš„å†…å®¹å³å¯ç»˜åˆ¶å‡ºæ¥ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02b5f1fc590e4294be03830f65ddaf37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=Qpux481RC8waIBMxJaKr%2B%2FuHACE%3D" alt="c9.jpg" width="100%" loading="lazy"/></p>
<h4 data-id="heading-10">3.2 å¤šå­å›¾</h4>
<p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>fig, ax = plt.subplots(figsize=(6, 4))</code> åˆ›å»ºäº†ä¸€å¼ ç”»å¸ƒï¼Œå¹¶åœ¨å…¶ä¸Šç»˜åˆ¶äº†å•ä¸ªå›¾è¡¨ã€‚ç„¶è€Œåœ¨å®é™…åˆ†æä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦å°†å¤šä¸ªå›¾è¡¨å¹¶æ’å±•ç¤ºï¼Œä»¥ä¾¿ç›´è§‚åœ°æ¯”è¾ƒä¸åŒæ•°æ®æˆ–è§†è§’ã€‚è¿™æ—¶ï¼Œå¤šå­å›¾ï¼ˆSubplotsï¼‰åŠŸèƒ½å°±æ´¾ä¸Šäº†ç”¨åœºã€‚</p>
<p>é€šè¿‡ <code>plt.subplots()</code> å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åˆ›å»ºåŒ…å«å¤šä¸ªåæ ‡è½´ï¼ˆAxesï¼‰çš„ç½‘æ ¼å¸ƒå±€ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç åˆ›å»ºäº†ä¸€ä¸ª 2 è¡Œ 4 åˆ—ï¼Œæ€»å…± <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>Ã—</mo><mn>4</mn><mo>=</mo><mn>8</mn></mrow><annotation encoding="application/x-tex">2 \times 4 = 8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">8</span></span></span></span></span> ä¸ªå­å›¾çš„ç”»å¸ƒï¼š</p>
<pre><code class="hljs language-python" lang="python">row = <span class="hljs-number">2</span>  <span class="hljs-comment"># è®¾å®šå­å›¾è¡Œæ•°ä¸º 2</span>
col = <span class="hljs-number">4</span>  <span class="hljs-comment"># è®¾å®šå­å›¾åˆ—æ•°ä¸º 4</span>
fig, axs = plt.subplots(row, col, figsize=(<span class="hljs-number">15</span>, <span class="hljs-number">6</span>))
</code></pre>
<p>å°†å…¶ç»˜åˆ¶å‡ºæ¥ï¼Œå¦‚å›¾12æ‰€ç¤º</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a87d56f65a814bed9436eb2b09330720~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=MDtFDhDID8yhL9eEOlFRxhVoppk%3D" alt="c10.jpg" width="100%" loading="lazy"/></p>
<p>è¿™é‡Œè¿”å›çš„ <code>axs</code> æ˜¯ä¸€ä¸ªæ•°ç»„ï¼ˆè¿™ä¹Ÿæ˜¯å˜é‡åå¸¦ â€œsâ€ çš„åŸå› ï¼‰ï¼Œå…¶å½¢çŠ¶ä¸º <code>(row, col)</code>ï¼Œå³ <code>(2, 4)</code>ã€‚ä½ å¯ä»¥é€šè¿‡äºŒç»´ç´¢å¼•æ¥è®¿é—®æ¯ä¸€ä¸ªå­å›¾åæ ‡è½´å¯¹è±¡ï¼š</p>
<ul>
<li><code>axs[0, 0]</code> å¯¹åº”ç¬¬ 1 è¡Œç¬¬ 1 åˆ—çš„å­å›¾</li>
<li><code>axs[0, 1]</code> å¯¹åº”ç¬¬ 1 è¡Œç¬¬ 2 åˆ—çš„å­å›¾</li>
<li>â€¦â€¦</li>
<li><code>axs[1, 3]</code> å¯¹åº”ç¬¬ 2 è¡Œç¬¬ 4 åˆ—çš„å­å›¾</li>
</ul>
<p><strong>é‚£ä¹ˆï¼Œå¦‚æœæˆ‘æƒ³åœ¨ç¬¬ 2 è¡Œç¬¬ 2 åˆ—çš„å­å›¾ä¸­ç»˜åˆ¶ä¸€ä¸ªä¸‰æ¬¡å‡½æ•°ï¼Œè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</strong> æ–¹æ³•ä¸åœ¨å•å›¾ä¸­ç»˜å›¾å®Œå…¨ä¸€è‡´ï¼Œåªéœ€é€‰ä¸­å¯¹åº”çš„åæ ‡è½´å¯¹è±¡å¹¶è¿›è¡Œæ“ä½œå³å¯ã€‚</p>
<pre><code class="hljs language-python" lang="python">fig, axs = plt.subplots(<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,figsize=(<span class="hljs-number">15</span>, <span class="hljs-number">6</span>))
x = generate_range(-<span class="hljs-number">3</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">0.05</span>)
y = apply_function_to_vector(x, cubic_polynomial)

<span class="hljs-comment"># åœ¨ç¬¬äºŒè¡Œç¬¬äºŒåˆ—ï¼ˆç´¢å¼•ä¸º [1, 1]ï¼‰çš„å­å›¾ä¸­ç»˜å›¾</span>
axs[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>].plot(x,y)
axs[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>].set_title(<span class="hljs-string">"ä¸€å…ƒä¸‰æ¬¡å‡½æ•°"</span>)
axs[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>].grid(<span class="hljs-literal">True</span>, which=<span class="hljs-string">'both'</span>, linestyle=<span class="hljs-string">'--'</span>, linewidth=<span class="hljs-number">0.5</span>)
axs[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>].set_xlabel(<span class="hljs-string">"è¿™æ˜¯xè½´æ ‡ç­¾"</span>)
axs[<span class="hljs-number">1</span>, <span class="hljs-number">1</span>].set_ylabel(<span class="hljs-string">"è¿™æ˜¯yè½´æ ‡ç­¾"</span>)

<span class="hljs-comment"># å¯é€‰ï¼šè°ƒæ•´å­å›¾ä¹‹é—´çš„é—´è·ï¼Œé¿å…æ ‡ç­¾é‡å </span>
fig.tight_layout()
</code></pre>
<p>è¿è¡Œç»“æœå¦‚å›¾13æ‰€ç¤ºï¼Œå¯ä»¥çœ‹åˆ°åªåœ¨æŒ‡å®šçš„å­å›¾ä½ç½®ç»˜åˆ¶äº†å‡½æ•°æ›²çº¿ï¼š</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/354e7cf191514ae3ba4104b88ce5f6dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=aVKJ6Wuqq69N9vNoAhO59S5RsE4%3D" alt="c11.jpg" width="100%" loading="lazy"/></p>
<p>å½“ç„¶ï¼Œå¤šå­å›¾è¿˜æœ‰æ›´å¤šé«˜çº§å¸ƒå±€æ–¹å¼ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>å…±äº«åæ ‡è½´</strong>ï¼šå¤šä¸ªå­å›¾å…±äº«åŒä¸€ x è½´æˆ– y è½´ï¼Œä¾¿äºæ¯”è¾ƒã€‚</li>
<li><strong>ä¸å‡åŒ€å¸ƒå±€</strong>ï¼šä½¿ç”¨ <code>GridSpec</code> å®ç°æ›´çµæ´»ã€å¤§å°ä¸ä¸€çš„å­å›¾æ’åˆ—ã€‚</li>
<li><strong>åµŒå¥—å¸ƒå±€</strong>ï¼šåœ¨å¤§å›¾ä¸­åµŒå…¥å°å›¾ã€‚</li>
</ul>
<p>ç”±äºè¿™äº›æŠ€å·§åœ¨å…¥é—¨é˜¶æ®µä½¿ç”¨é¢‘ç‡ç›¸å¯¹è¾ƒä½ï¼Œæœ¬ç¯‡æ–‡ç« æš‚ä¸å±•å¼€ã€‚å¦‚æœä½ æœªæ¥é‡åˆ°ç›¸å…³éœ€æ±‚ï¼Œå¯ä»¥éšæ—¶æŸ¥é˜… <a href="https://link.juejin.cn?target=https%3A%2F%2Fmatplotlib.org%2F" target="_blank" title="https://matplotlib.org/" ref="nofollow noopener noreferrer">Matplotlib å®˜æ–¹æ–‡æ¡£</a>æˆ–è¯¢é—®ä½ èº«è¾¹çš„ AI åŠ©æ‰‹ã€‚</p>
<h4 data-id="heading-11">3.3 åŒè½´å›¾</h4>
<p><strong>ä»€ä¹ˆæ˜¯åŒè½´å›¾ï¼Ÿ</strong>
ç®€å•æ¥è¯´ï¼ŒåŒè½´å›¾å°±æ˜¯<strong>åœ¨åŒä¸€å¼ å›¾ä¸­ä½¿ç”¨ä¸¤ä¸ªç‹¬ç«‹çš„Yè½´ï¼ˆé€šå¸¸å…±äº«åŒä¸€ä¸ªXè½´ï¼‰</strong>ï¼Œç”¨æ¥åŒæ—¶å±•ç¤ºä¸¤ç§ä¸åŒé‡çº²æˆ–æ•°é‡çº§çš„æ•°æ®ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬å°±èƒ½åœ¨åŒä¸€ä¸ªåæ ‡ç³»ä¸‹æ¸…æ™°å¯¹æ¯”ä¸¤ç»„å·®å¼‚å¾ˆå¤§çš„æ•°æ®ï¼Œè€Œä¸ä¼šè¢«å•ä¸€åæ ‡è½´çš„å°ºåº¦æ‰€é™åˆ¶ã€‚</p>
<p>æ¥çœ‹ä¸‹é¢çš„ä¾‹å­ï¼ˆå›¾14å·¦å›¾ï¼‰ï¼š</p>
<ul>
<li>å·¦ä¾§çš„çº¢è‰²Yè½´èŒƒå›´æ˜¯ -1 åˆ° 1ï¼Œå¯¹åº”æ­£å¼¦å‡½æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mtext>sin</mtext><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y=\text{sin}(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord text"><span class="mord">sin</span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span></li>
<li>å³ä¾§çš„è“è‰²Yè½´èŒƒå›´æ˜¯ 0 åˆ° 200ï¼Œå¯¹åº”ç¼©æ”¾åçš„æŒ‡æ•°å‡½æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mn>0.01</mn><mo>â‹…</mo><msup><mi>e</mi><mi>x</mi></msup></mrow><annotation encoding="application/x-tex">y=0.01 \cdot e^{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0.01</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.6644em;"/><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span></span></span></span></span></li>
</ul>
<p>å¦‚æœä¸ç”¨åŒè½´ï¼Œè€Œæ˜¯æŠŠä¸¤æ¡æ›²çº¿ç”»åœ¨åŒä¸€ä¸ªYè½´ä¸‹ï¼ˆå›¾14å³å›¾ï¼‰ï¼Œç”±äºæŒ‡æ•°å‡½æ•°çš„æ•°å€¼è¿œå¤§äºæ­£å¼¦å‡½æ•°ï¼Œæ­£å¼¦æ›²çº¿çš„æ³¢åŠ¨å°±ä¼šè¢«ä¸¥é‡å‹ç¼©ï¼Œå‡ ä¹çœ‹ä¸å‡ºå…¶å½¢æ€ç»†èŠ‚ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/143d31fab10c4926bccda90607a59ab3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=nZq6kQCR8KgYLG7vWV%2Btkx2iZ2A%3D" alt="c12.jpg" width="100%" loading="lazy"/></p>
<p>Matplotlib ç»˜åˆ¶åŒè½´å›¾éå¸¸ç®€å•ï¼Œæ ¸å¿ƒæ–¹æ³•æ˜¯ä½¿ç”¨ <code>ax.twinx()</code> åˆ›å»ºå…±äº«Xè½´çš„ç¬¬äºŒä¸ªåæ ‡è½´ã€‚ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä»£ç ä¸€æ­¥æ­¥å®ç°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> math
plt.rcParams[<span class="hljs-string">"font.sans-serif"</span>] = [<span class="hljs-string">"SimHei"</span>]  <span class="hljs-comment"># ä½¿ç”¨SimHeiå­—ä½“ï¼ˆé»‘ä½“ï¼‰</span>
plt.rcParams[<span class="hljs-string">"axes.unicode_minus"</span>] = <span class="hljs-literal">False</span>

<span class="hljs-comment"># å®šä¹‰ä¸¤ä¸ªå‡½æ•°ï¼šæ­£å¼¦å‡½æ•°å’Œç¼©æ”¾åçš„æŒ‡æ•°å‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">sin</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> math.sin(x)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">exp</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> math.exp(x) * <span class="hljs-number">0.01</span>

x = generate_range(<span class="hljs-number">0</span>,<span class="hljs-number">10</span>,<span class="hljs-number">0.05</span>)
y1 = apply_function_to_vector(x,sin)
y2 = apply_function_to_vector(x,exp)

fig, ax = plt.subplots(figsize=(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>))

<span class="hljs-comment"># æ­£å¸¸ç»˜åˆ¶ï¼Œåœ¨ä¸»åæ ‡è½´ä¸Šç»˜åˆ¶ç¬¬ä¸€æ¡æ›²çº¿ï¼ˆæ­£å¼¦ï¼Œçº¢è‰²ï¼‰</span>
ax.plot(x, y1, color=<span class="hljs-string">'red'</span>)
ax.set_xlabel(<span class="hljs-string">"Xè½´"</span>)  
ax.set_ylabel(<span class="hljs-string">"ä¸»yè½´: æ­£å¼¦å‡½æ•°"</span>, color=<span class="hljs-string">"red"</span>)

<span class="hljs-comment"># å°†ä¸»Yè½´çš„åˆ»åº¦æ ‡ç­¾ä¹Ÿè®¾ä¸ºçº¢è‰²ï¼Œå½¢æˆè§†è§‰ç»Ÿä¸€</span>
ax.tick_params(axis=<span class="hljs-string">"y"</span>,labelcolor=<span class="hljs-string">"red"</span>)

<span class="hljs-comment"># â˜… å…³é”®æ­¥éª¤ï¼šåˆ›å»ºå…±äº«Xè½´çš„æ¬¡åæ ‡è½´</span>
sub_ax = ax.twinx()

<span class="hljs-comment"># åœ¨æ¬¡åæ ‡è½´ä¸Šç»˜åˆ¶ç¬¬äºŒæ¡æ›²çº¿ï¼ˆæŒ‡æ•°ï¼Œè“è‰²ï¼‰</span>
<span class="hljs-comment"># sub_ax å’Œæ™®é€šçš„axä½¿ç”¨æ–¹æ³•ä¸€æ ·</span>
sub_ax.plot(x, y2, color=<span class="hljs-string">'blue'</span>)
sub_ax.set_ylabel(<span class="hljs-string">"æ¬¡Yè½´: æŒ‡æ•°å‡½æ•°"</span>, color=<span class="hljs-string">"blue"</span>)
sub_ax.tick_params(axis=<span class="hljs-string">"y"</span>, labelcolor=<span class="hljs-string">"blue"</span>)

ax.title(<span class="hljs-string">"åŒYè½´ç¤ºä¾‹: æ­£å¼¦å‡½æ•° vs æŒ‡æ•°å‡½æ•°"</span>)
plt.show()
</code></pre>
<ul>
<li><code>ax.twinx()</code> ä¼šåˆ›å»ºä¸€ä¸ªä¸ <code>ax</code> å…±äº« X è½´çš„æ–°åæ ‡è½´å¯¹è±¡ <code>sub_ax</code>ï¼Œå…¶ Y è½´é»˜è®¤æ”¾ç½®åœ¨å³ä¾§ã€‚</li>
<li><code>sub_ax</code> çš„ä½¿ç”¨æ–¹æ³•ä¸æ™®é€šåæ ‡è½´å®Œå…¨ç›¸åŒï¼Œå¯ä»¥è°ƒç”¨ <code>plot</code>ã€<code>set_ylabel</code>ã€<code>tick_params</code> ç­‰æ–¹æ³•ã€‚</li>
</ul>
<h3 data-id="heading-12">å››. æ¡å½¢å›¾</h3>
<p>æ¡å½¢å›¾ï¼ˆBar Chartï¼‰æ˜¯ä¸€ç§ä»¥çŸ©å½¢æ¡çš„é•¿åº¦æˆ–é«˜åº¦è¡¨ç¤ºæ•°å€¼å¤§å°çš„ç»Ÿè®¡å›¾è¡¨ï¼Œé€šå¸¸ç”¨äºå±•ç¤ºåˆ†ç±»æ•°æ®çš„å¯¹æ¯”ã€‚ä¸æŠ˜çº¿å›¾å¼ºè°ƒè¶‹åŠ¿ä¸åŒï¼Œæ¡å½¢å›¾æ›´ä¾§é‡äºç±»åˆ«ä¹‹é—´çš„æ¯”è¾ƒï¼Œå¸¸è§äºé”€å”®é¢å¯¹æ¯”ã€æŠ•ç¥¨ç»“æœã€ä»·æ ¼æ¯”è¾ƒç­‰åœºæ™¯ã€‚</p>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸ªå…¸å‹çš„å¤šç±»åˆ«æ¡å½¢å›¾ç¤ºä¾‹ï¼ˆå›¾15ï¼‰ï¼Œå®ƒæ¸…æ™°åœ°å±•ç¤ºäº†ä¸åŒæ•°æ®ç³»åˆ—åœ¨å¤šä¸ªç±»åˆ«ä¸Šçš„åˆ†å¸ƒä¸å¯¹æ¯”ï¼š</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a00442a63dd457fbb01b56014612205~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=FxoMQDBP6V6LqQShuhWN46rCrbQ%3D" alt="c13.jpg" width="100%" loading="lazy"/></p>
<p>ç”¨ Matplotlib ç»˜åˆ¶æ¡å½¢å›¾éå¸¸ç®€å•ï¼Œä¸»è¦ä½¿ç”¨ <code>ax.bar()</code> æ–¹æ³•ã€‚æˆ‘ä»¬ä»¥ç»˜åˆ¶ä¸€ç»„æ°´æœæ‰¹å‘ä»·çš„æ¡å½¢å›¾ä¸ºä¾‹ï¼ˆè¿è¡Œç»“æœå¦‚å›¾16æ‰€ç¤ºï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºç”»å¸ƒ</span>
fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">4.5</span>))
<span class="hljs-comment"># è®¾ç½®æ¬¡åˆ»åº¦ï¼šæ¯ä¸¤ä¸ªä¸»åˆ»åº¦ä¹‹é—´åŒ…å«5ä¸ªæ¬¡åˆ»åº¦ï¼ˆä½¿åæ ‡è½´æ›´ç²¾ç»†ï¼‰</span>
ax.xaxis.set_minor_locator(AutoMinorLocator(<span class="hljs-number">5</span>))

<span class="hljs-comment"># æ•°æ®å‡†å¤‡</span>
wholesale_price = [<span class="hljs-number">5.1</span>, <span class="hljs-number">4.7</span>, <span class="hljs-number">5.5</span>, <span class="hljs-number">3.2</span>, <span class="hljs-number">4.3</span>]  <span class="hljs-comment"># æ‰¹å‘ä»·ï¼ˆå…ƒ/å…¬æ–¤ï¼‰</span>
x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]  <span class="hljs-comment"># æ¨ªåæ ‡ä½ç½®</span>

<span class="hljs-comment"># ç»˜åˆ¶æ¡å½¢å›¾ï¼ˆæ³¨æ„ï¼šä¸æ˜¯plotï¼Œè€Œæ˜¯barï¼‰</span>
ax.bar(
    x,                    <span class="hljs-comment"># æ¯ä¸ªæŸ±å­çš„æ¨ªåæ ‡ä½ç½®</span>
    wholesale_price,      <span class="hljs-comment"># æ¯ä¸ªæŸ±å­çš„é«˜åº¦ï¼ˆyå€¼ï¼‰</span>
    width=<span class="hljs-number">0.4</span>,            <span class="hljs-comment"># æŸ±å­çš„å®½åº¦</span>
    label=<span class="hljs-string">"æ‰¹å‘ä»·"</span>,        <span class="hljs-comment"># å›¾ä¾‹æ ‡ç­¾</span>
    color=<span class="hljs-string">"#35881B"</span>,      <span class="hljs-comment"># å¡«å……é¢œè‰²ï¼ˆç»¿è‰²ç³»ï¼‰</span>
    edgecolor=<span class="hljs-string">"black"</span>,    <span class="hljs-comment"># è¾¹æ¡†é¢œè‰²</span>
    alpha=<span class="hljs-number">0.8</span>,            <span class="hljs-comment"># ä¸é€æ˜åº¦ï¼ˆ0~1ï¼Œ1ä¸ºå®Œå…¨ä¸é€æ˜ï¼‰</span>
)
</code></pre>
<p>ä¸Šé¢çš„åŸºç¡€æ¡å½¢å›¾ç•¥æ˜¾å•è°ƒï¼Œæˆ‘ä»¬é€šè¿‡ä»¥ä¸‹æ­¥éª¤å¢å¼ºå¯è¯»æ€§ä¸ç¾è§‚åº¦ï¼ˆè¿è¡Œç»“æœå¦‚å›¾17æ‰€ç¤ºï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python">fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">4.5</span>))

<span class="hljs-comment"># å…·ä½“åŒ–çš„æ°´æœä»·æ ¼å±æ€§</span>
wholesale_price = [<span class="hljs-number">5.1</span>, <span class="hljs-number">4.7</span>, <span class="hljs-number">5.5</span>, <span class="hljs-number">3.2</span>, <span class="hljs-number">4.3</span>]  <span class="hljs-comment"># æ‰¹å‘ä»·</span>

<span class="hljs-comment"># è®¾ç½®æ°´æœæ ‡ç­¾</span>
x = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
categories = [<span class="hljs-string">"é¦™è•‰"</span>, <span class="hljs-string">"æ©™å­"</span>, <span class="hljs-string">"è‹¹æœ"</span>, <span class="hljs-string">"æ©˜å­"</span>, <span class="hljs-string">"æå­"</span>]

<span class="hljs-comment"># è®¾ç½®xè½´åˆ»åº¦æ ‡ç­¾ï¼ˆç”¨çœŸå®æ°´æœåæ›¿æ¢æ•°å­—ï¼‰</span>
ax.set_xticks(x)
ax.set_xticklabels(categories)

<span class="hljs-comment"># ç»˜åˆ¶æ¡å½¢å›¾ï¼ˆæ¢ä¸ºæ›´ä¸­æ€§çš„æ·±ç°è‰²ï¼‰</span>
ax.bar(
    x, wholesale_price,
    width=<span class="hljs-number">0.4</span>,
    label=<span class="hljs-string">"æ‰¹å‘ä»·"</span>,
    color=<span class="hljs-string">"#272727"</span>,      <span class="hljs-comment"># æ·±ç°è‰²</span>
    edgecolor=<span class="hljs-string">"black"</span>,
    alpha=<span class="hljs-number">0.8</span>,
)

<span class="hljs-comment"># åœ¨æ¯ä¸ªæŸ±å­é¡¶éƒ¨æ·»åŠ æ•°å€¼æ ‡ç­¾ - ä½¿ç”¨xå’Œwholesale_priceå®šä½</span>
<span class="hljs-comment"># æœ¬è´¨ä½¿ç”¨ax.textåœ¨æŒ‡å®šä½ç½®æ·»åŠ æ–‡æœ¬</span>
<span class="hljs-keyword">for</span> xi, price <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(x, wholesale_price):
    ax.text(xi, price + <span class="hljs-number">0.2</span>, <span class="hljs-string">f"<span class="hljs-subst">{price}</span>"</span>, 
            ha=<span class="hljs-string">"center"</span>,   <span class="hljs-comment"># æ°´å¹³å±…ä¸­</span>
            va=<span class="hljs-string">"bottom"</span>,   <span class="hljs-comment"># å‚ç›´åº•éƒ¨å¯¹é½</span>
            fontsize=<span class="hljs-number">12</span>)

<span class="hljs-comment"># è®¾ç½®axè¡¨çš„å¯è§è§†çª—å¤§å°ï¼Œxåœ¨0.2~5.8ä¹‹é—´ï¼Œyåœ¨0~7ä¹‹é—´ï¼Œä½ å¯ä»¥è‡ªå·±è°ƒæ•´ï¼Œçœ‹çœ‹æ•ˆæœ</span>
<span class="hljs-comment"># ä¸»è¦å°±æ˜¯è®©å›¾å½¢å‘¨å›´ç•™æœ‰ä¸€å®šç©ºé—´</span>
ax.set_ylim(<span class="hljs-number">0</span>, <span class="hljs-number">7</span>)          <span class="hljs-comment"># yè½´æ˜¾ç¤º0~7</span>
ax.set_xlim(<span class="hljs-number">0.2</span>, <span class="hljs-number">5.8</span>)      <span class="hljs-comment"># xè½´æ˜¾ç¤º0.2~5.8ï¼ˆæŸ±å­å±…ä¸­ï¼‰</span>

<span class="hljs-comment"># æ·»åŠ å›¾ä¾‹ä¸ç½‘æ ¼</span>
ax.legend()
ax.grid(axis=<span class="hljs-string">"y"</span>, linestyle=<span class="hljs-string">"--"</span>, alpha=<span class="hljs-number">0.5</span>)

<span class="hljs-comment"># åœ¨axè¡¨ä¸Šç»§ç»­ç»˜åˆ¶æŠ˜çº¿å›¾ï¼Œä¸è¦å¿˜äº†ï¼Œmatplotlibä¸ä¼šæ“¦é™¤ä¹‹å‰ç»˜åˆ¶çš„ä»»ä½•å†…å®¹ï¼Œå› æ­¤ä½ å¯ä»¥ç»„åˆå‡ºå¾ˆå¤šå¥‡ç‰¹çš„å›¾</span>
ax.plot(x, wholesale_price,
        color=<span class="hljs-string">"#2E2E2E"</span>,
        linestyle=<span class="hljs-string">"--"</span>,
        alpha=<span class="hljs-number">0.5</span>,
        marker=<span class="hljs-string">"o"</span>)        <span class="hljs-comment"># æ•°æ®ç‚¹ç”¨åœ†åœˆæ ‡è®°</span>
</code></pre>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d027a5853e53410b9c10f0ea318f88a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=DiuyXZ6O20uh5bbq5W3BUEf5Zu8%3D" alt="c14.jpg" width="100%" loading="lazy"/></p>
<p>å…¶å®åˆ°è¿™é‡Œï¼Œæ¡å½¢å›¾å°±å·²ç»è®²å®Œäº†ï¼Œä½†æ˜¯åœ¨å®é™…åˆ†æä¸­ï¼Œæˆ‘ä»¬å¸¸éœ€è¦æ¯”è¾ƒåŒä¸€åˆ†ç±»ä¸‹å¤šä¸ªç³»åˆ—çš„æ•°æ®ï¼Œè¿™å°±æ˜¯å¤šç±»åˆ«æ¡å½¢å›¾ï¼ˆå›¾15ç±»å‹ï¼‰ï¼Œå…¶å®ä½ åœ¨å­¦ä¼šä¸Šé¢çš„å†…å®¹åï¼Œè‡ªç„¶è€Œç„¶å°±ä¼šç»˜åˆ¶å¤šç±»åˆ«æ¡å½¢å›¾äº†ï¼Œå®ƒçš„æœ¬è´¨å°±æ˜¯åœ¨ä¸€ä¸ªå›¾è¡¨ä¸Šç»˜åˆ¶å¤šä¸ªæ¡å½¢å›¾ï¼Œæ¥ä¸‹æ¥å°±å¸¦ä½ ç»˜åˆ¶ä¸€éå¦‚å›¾18æ‰€ç¤ºçš„å¤šç±»åˆ«æ¡å½¢å›¾ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python">fig, ax = plt.subplots(figsize=(<span class="hljs-number">7</span>, <span class="hljs-number">4.5</span>))
ax.xaxis.set_minor_locator(AutoMinorLocator(<span class="hljs-number">5</span>))

<span class="hljs-comment"># ä¸‰ç§ä»·æ ¼æ•°æ®ï¼ˆå•ä½ï¼šå…ƒ/å…¬æ–¤ï¼‰</span>
wholesale_price = [<span class="hljs-number">5.1</span>, <span class="hljs-number">4.7</span>, <span class="hljs-number">5.5</span>, <span class="hljs-number">3.2</span>, <span class="hljs-number">4.3</span>]   <span class="hljs-comment"># æ‰¹å‘ä»·</span>
retail_price = [<span class="hljs-number">8.17</span>, <span class="hljs-number">9.74</span>, <span class="hljs-number">9.2</span>, <span class="hljs-number">8.58</span>, <span class="hljs-number">7.5</span>]    <span class="hljs-comment"># é›¶å”®ä»·</span>
online_price = [<span class="hljs-number">6.31</span>, <span class="hljs-number">6.42</span>, <span class="hljs-number">5.94</span>, <span class="hljs-number">7.35</span>, <span class="hljs-number">6.93</span>]  <span class="hljs-comment"># ç”µå•†ä»·</span>


categories = [<span class="hljs-string">"é¦™è•‰"</span>, <span class="hljs-string">"æ©™å­"</span>, <span class="hljs-string">"è‹¹æœ"</span>, <span class="hljs-string">"æ©˜å­"</span>, <span class="hljs-string">"æå­"</span>]
<span class="hljs-comment"># ç¡®å®šæ¯ä¸ªåˆ†ç±»çš„ä¸­å¿ƒä½ç½®ï¼ˆè¿™é‡Œä¸º[1, 2.5, 4, 5.5, 7]ï¼Œé—´è·ä¸º1.5ï¼‰</span>
x = [<span class="hljs-number">1</span>, <span class="hljs-number">2.5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5.5</span>, <span class="hljs-number">7</span>]

ax.set_xticks(x)
ax.set_xticklabels(categories)

<span class="hljs-comment"># ç¬¬ä¸€ç»„ï¼šé›¶å”®ä»·ï¼ˆå·¦ä¾§åç§»0.25ï¼‰</span>
ax.bar(
    [i - <span class="hljs-number">0.25</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> x],  <span class="hljs-comment"># æ¨ªåæ ‡å·¦ç§»0.25</span>
    retail_price,
    width=<span class="hljs-number">0.5</span>,
    label=<span class="hljs-string">"é›¶å”®ä»·"</span>,
    color=<span class="hljs-string">"#C5C5C5"</span>,        <span class="hljs-comment"># æµ…ç°è‰²</span>
    edgecolor=<span class="hljs-string">"black"</span>,
    alpha=<span class="hljs-number">0.8</span>,
)

<span class="hljs-comment"># ç¬¬äºŒç»„ï¼šæ‰¹å‘ä»·ï¼ˆå±…ä¸­ï¼Œå®½åº¦è¾ƒçª„ï¼‰</span>
ax.bar(
    [i - <span class="hljs-number">0.25</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> x],  <span class="hljs-comment"># ä¸é›¶å”®ä»·åŒä¸€åŸºå‡†ä½ç½®</span>
    wholesale_price,
    width=<span class="hljs-number">0.25</span>,             <span class="hljs-comment"># è¾ƒçª„çš„æŸ±å­</span>
    label=<span class="hljs-string">"æ‰¹å‘ä»·"</span>,
    color=<span class="hljs-string">"#555555"</span>,        <span class="hljs-comment"># ä¸­ç°è‰²</span>
)

<span class="hljs-comment"># ç¬¬ä¸‰ç»„ï¼šç”µå•†ä»·ï¼ˆå³ä¾§åç§»0.25ï¼‰</span>
ax.bar(
    [i + <span class="hljs-number">0.25</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> x],  <span class="hljs-comment"># æ¨ªåæ ‡å³ç§»0.25</span>
    online_price,
    width=<span class="hljs-number">0.5</span>,
    label=<span class="hljs-string">"ç”µå•†ä»·"</span>,
    color=<span class="hljs-string">"#FFFFFF"</span>,        <span class="hljs-comment"># ç™½è‰²å¡«å……</span>
    edgecolor=<span class="hljs-string">"black"</span>,
    hatch=<span class="hljs-string">"///"</span>,            <span class="hljs-comment"># å¡«å……å›¾æ¡ˆï¼šæ–œçº¿</span>
)

<span class="hljs-comment"># è®¾ç½®åæ ‡è½´ä¸æ ‡é¢˜</span>
ax.set_ylim(<span class="hljs-number">0</span>, <span class="hljs-number">11</span>)
ax.set_xlim(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>)
ax.set_xlabel(<span class="hljs-string">"æ°´æœç§ç±»"</span>)
ax.set_ylabel(<span class="hljs-string">"ä»·æ ¼ï¼ˆå…ƒ/å…¬æ–¤ï¼‰"</span>)
ax.set_title(<span class="hljs-string">"ä¸åŒé”€å”®æ¸ é“çš„æ°´æœä»·æ ¼å¯¹æ¯”"</span>)
ax.legend()
ax.grid(axis=<span class="hljs-string">"y"</span>, linestyle=<span class="hljs-string">"--"</span>, alpha=<span class="hljs-number">0.5</span>)
</code></pre>
<p><strong>åç§»åŸç†</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ªåˆ†ç±»çš„ä¸­å¿ƒä½ç½®ä¸º <code>x[i]</code></li>
<li>å·¦ä¾§æŸ±å­ï¼š<code>x[i] - offset</code></li>
<li>å³ä¾§æŸ±å­ï¼š<code>x[i] + offset</code></li>
<li>é€šè¿‡è°ƒæ•´ <code>width</code> å’Œ <code>offset</code> æ§åˆ¶æŸ±å­çš„å®½åº¦ä¸é—´è·</li>
</ul>
<p><strong>å›¾æ¡ˆå¡«å……</strong>ï¼š(è‡ªå·±å¤šå¤šå°è¯•å°±æ‡‚äº†)</p>
<ul>
<li><code>hatch</code> å‚æ•°æ”¯æŒå¤šç§å¡«å……æ¨¡å¼ï¼š<code>'/'</code>, <code>'\'</code>, <code>'|'</code>, <code>'-'</code>, <code>'+'</code>, <code>'x'</code>, <code>'o'</code>, <code>'O'</code>, <code>'.'</code>, <code>'*'</code></li>
<li>å›¾æ¡ˆå¯†åº¦ä¼šéšå­—ç¬¦é‡å¤è€Œå¢åŠ ï¼Œå¦‚ <code>'///'</code> æ¯” <code>'/'</code> æ›´å¯†é›†</li>
</ul>
<p>æœ€åï¼Œæˆ‘ä»¬ç»¼åˆè¿ç”¨å‰é¢å­¦åˆ°çš„çŸ¥è¯†ï¼Œå®Œæˆä¸€ä¸ªå…·æœ‰å®ç”¨ä»·å€¼çš„ç»„åˆå›¾ï¼ˆå›¾19ï¼‰ï¼šç»˜åˆ¶æŸåŸå¸‚çš„æ°”æ¸©æ›²çº¿å’Œé™æ°´é‡æŸ±çŠ¶å›¾ã€‚ï¼ˆä½ å¯ä»¥å…ˆè‡ªå·±å°è¯•ç»˜åˆ¶ä¸€ä¸‹ï¼Œè‹¥å‘ç°å“ªé‡Œæœ‰å¡ä½äº†å†çœ‹çœ‹å‚è€ƒä»£ç ï¼‰</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dce745d4bae64004bc768976322843d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=jDvQQ7O7A6OUb71t86OkZLFpxYs%3D" alt="c15.jpg" width="70%" loading="lazy"/></p>
<p><strong>å‚è€ƒä»£ç ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
plt.rcParams[<span class="hljs-string">"font.sans-serif"</span>] = [<span class="hljs-string">"SimHei"</span>] 
plt.rcParams[<span class="hljs-string">"axes.unicode_minus"</span>] = <span class="hljs-literal">False</span>

<span class="hljs-comment"># æ•°æ®å‡†å¤‡</span>
month = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>]  <span class="hljs-comment"># æœˆä»½</span>
temperature = [<span class="hljs-number">16</span>, <span class="hljs-number">16.5</span>, <span class="hljs-number">17.5</span>, <span class="hljs-number">19</span>, <span class="hljs-number">21</span>, <span class="hljs-number">24</span>, <span class="hljs-number">30</span>, <span class="hljs-number">32</span>, <span class="hljs-number">31</span>, <span class="hljs-number">26</span>, <span class="hljs-number">21</span>, <span class="hljs-number">18</span>]  <span class="hljs-comment"># æ°”æ¸©(â„ƒ)</span>
precipitation = [<span class="hljs-number">12</span>, <span class="hljs-number">20</span>, <span class="hljs-number">21</span>, <span class="hljs-number">45</span>, <span class="hljs-number">79</span>, <span class="hljs-number">120</span>, <span class="hljs-number">140</span>, <span class="hljs-number">230</span>, <span class="hljs-number">180</span>, <span class="hljs-number">160</span>, <span class="hljs-number">153</span>, <span class="hljs-number">20</span>]  <span class="hljs-comment"># é™æ°´é‡(mm)</span>

fig, ax = plt.subplots(figsize=(<span class="hljs-number">5</span>, <span class="hljs-number">5.5</span>))

<span class="hljs-comment"># å·¦ä¾§yè½´ï¼šç»˜åˆ¶æ°”æ¸©æŠ˜çº¿å›¾</span>
ax.plot(
    month, temperature,
    color=<span class="hljs-string">"black"</span>,
    marker=<span class="hljs-string">"o"</span>, 
    markersize=<span class="hljs-number">5</span>,  
    markerfacecolor=<span class="hljs-string">"#292929"</span>,  <span class="hljs-comment"># æ ‡è®°ç‚¹å¡«å……è‰²</span>
    markeredgecolor=<span class="hljs-string">"#060504"</span>,  <span class="hljs-comment"># æ ‡è®°ç‚¹è¾¹æ¡†è‰²</span>
    markeredgewidth=<span class="hljs-number">1</span>,
)  
ax.set_xlabel(<span class="hljs-string">"æµ·å£"</span>, fontsize=<span class="hljs-number">14</span>) 
ax.set_ylabel(<span class="hljs-string">"æ°”æ¸©(â„ƒ)"</span>)
ax.set_xticks(month)
ax.set_ylim(-<span class="hljs-number">60</span>, <span class="hljs-number">40</span>)  <span class="hljs-comment"># ç•™å‡ºè¶³å¤Ÿç©ºé—´ï¼Œé¿å…æ¡å½¢å›¾æº¢å‡º</span>

<span class="hljs-comment"># åˆ›å»ºå³ä¾§yè½´ï¼ˆå…±äº«åŒä¸€xè½´ï¼‰</span>
sub_ax = ax.twinx()

<span class="hljs-comment"># åœ¨å³ä¾§yè½´åæ ‡ç³»ä¸­ç»˜åˆ¶é™æ°´é‡æ¡å½¢å›¾</span>
sub_ax.bar(
    month, precipitation,
    width=<span class="hljs-number">0.5</span>,
    edgecolor=<span class="hljs-string">"black"</span>,
    color=<span class="hljs-string">"#FFFFFF"</span>,
    alpha=<span class="hljs-number">1</span>,
    hatch=<span class="hljs-string">"///"</span>  <span class="hljs-comment"># ç”¨æ–œçº¿å¡«å……ï¼ŒåŒºåˆ«äºçº¯è‰²</span>
)
sub_ax.set_ylabel(<span class="hljs-string">"é™æ°´é‡(mm)"</span>)
sub_ax.set_ylim(<span class="hljs-number">0</span>, <span class="hljs-number">400</span>)  <span class="hljs-comment"># è®¾ç½®åˆé€‚çš„èŒƒå›´</span>

<span class="hljs-comment"># ä¸ºå³ä¾§yè½´æ·»åŠ ç½‘æ ¼çº¿ï¼ˆå¢å¼ºå¯è¯»æ€§ï¼‰</span>
sub_ax.grid(
    <span class="hljs-literal">True</span>,
    which=<span class="hljs-string">"both"</span>, 
    axis=<span class="hljs-string">"y"</span>,  
    linestyle=<span class="hljs-string">"-"</span>, 
    linewidth=<span class="hljs-number">0.5</span>,  
    color=<span class="hljs-string">"gray"</span>, 
    alpha=<span class="hljs-number">0.4</span>,  
)

plt.show()
</code></pre>
<h3 data-id="heading-13">äº”. æ•£ç‚¹å›¾</h3>
<p>æ•£ç‚¹å›¾æ˜¯ä¸€ç§å°†æˆå¯¹æ•°æ® <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></span> ç»˜åˆ¶ä¸ºäºŒç»´å¹³é¢ä¸­ä¸€ä¸ªç‚¹çš„å¯è§†åŒ–æ–¹æ³•ã€‚é€šè¿‡è§‚å¯Ÿè¿™äº›ç‚¹çš„åˆ†å¸ƒå½¢æ€ï¼Œæˆ‘ä»¬å¯ä»¥<strong>ç›´è§‚åœ°åˆ¤æ–­ä¸¤ä¸ªå˜é‡ä¹‹é—´æ˜¯å¦å­˜åœ¨ç›¸å…³æ€§ã€åˆ†å¸ƒæ¨¡å¼æˆ–å¼‚å¸¸å€¼</strong>ã€‚å› æ­¤ï¼Œæ•£ç‚¹å›¾åœ¨æ•°æ®åˆ†æã€æ¨¡å¼è¯†åˆ«å’Œåˆæ­¥æ¢ç´¢ä¸­æä¸ºå¸¸ç”¨ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»˜åˆ¶ä¸€ä¸ªæœ€åŸºæœ¬çš„æ•£ç‚¹å›¾ï¼Œä»£ç å¦‚ä¸‹ï¼Œè¿è¡Œç»“æœå¦‚å›¾20æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-python" lang="python">fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">3.5</span>))

<span class="hljs-comment"># ç¬¬ä¸€ç»„æ•°æ®ç‚¹ï¼š(x1[i], y1[i])</span>
x1 = [<span class="hljs-number">1.2</span>, <span class="hljs-number">3.1</span>, <span class="hljs-number">1.8</span>, <span class="hljs-number">2.6</span>, <span class="hljs-number">3.1</span>, <span class="hljs-number">2.2</span>]
y1 = [<span class="hljs-number">2.5</span>, <span class="hljs-number">2.6</span>, <span class="hljs-number">1.8</span>, <span class="hljs-number">2.2</span>, <span class="hljs-number">3.0</span>, <span class="hljs-number">1.8</span>]

<span class="hljs-comment"># ç¬¬äºŒç»„æ•°æ®ç‚¹ï¼š(x2[i], y2[i])</span>
x2 = [<span class="hljs-number">2.1</span>, <span class="hljs-number">2.5</span>, <span class="hljs-number">2.8</span>, <span class="hljs-number">1.6</span>, <span class="hljs-number">1.1</span>, <span class="hljs-number">2.2</span>]
y2 = [<span class="hljs-number">3.5</span>, <span class="hljs-number">3.1</span>, <span class="hljs-number">2.8</span>, <span class="hljs-number">3.6</span>, <span class="hljs-number">4.0</span>, <span class="hljs-number">2.8</span>]

<span class="hljs-comment"># ç»˜åˆ¶ç¬¬ä¸€ç»„æ•£ç‚¹</span>
ax.scatter(
    x1,
    y1,
    s=<span class="hljs-number">40</span>,              <span class="hljs-comment"># ç‚¹çš„å¤§å°</span>
    color=<span class="hljs-string">"#575757"</span>,   <span class="hljs-comment"># å¡«å……é¢œè‰²ï¼ˆç°è‰²ï¼‰</span>
    alpha=<span class="hljs-number">1</span>,           <span class="hljs-comment"># ä¸é€æ˜åº¦</span>
    edgecolors=<span class="hljs-string">"#000000"</span>,  <span class="hljs-comment"># è¾¹ç¼˜é¢œè‰²ï¼ˆé»‘è‰²ï¼‰</span>
    linewidths=<span class="hljs-number">1</span>,      <span class="hljs-comment"># è¾¹ç¼˜çº¿å®½</span>
    marker=<span class="hljs-string">"o"</span>,        <span class="hljs-comment"># ç‚¹å½¢çŠ¶ï¼ˆåœ†å½¢ï¼‰ï¼Œæ›´å¤šé€‰é¡¹å¯ä»¥æŸ¥çœ‹â€œ2.3åŸºç¡€æ ·å¼â€ä¸­çš„markeré€ŸæŸ¥è¡¨</span>
    label=<span class="hljs-string">"Group A"</span>,   <span class="hljs-comment"># å›¾ä¾‹æ ‡ç­¾</span>
)

<span class="hljs-comment"># ç»˜åˆ¶ç¬¬äºŒç»„æ•£ç‚¹</span>
ax.scatter(
    x2,
    y2,
    s=<span class="hljs-number">40</span>,
    color=<span class="hljs-string">"#FFFFFF"</span>,   <span class="hljs-comment"># å¡«å……é¢œè‰²ï¼ˆç™½è‰²ï¼‰</span>
    alpha=<span class="hljs-number">1</span>,
    edgecolors=<span class="hljs-string">"#000000"</span>,
    linewidths=<span class="hljs-number">1</span>,
    marker=<span class="hljs-string">"o"</span>,
    label=<span class="hljs-string">"Group B"</span>,
)

<span class="hljs-comment"># æ˜¾ç¤ºå›¾ä¾‹</span>
ax.legend()
</code></pre>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7eaa45dcbde34995a31a63dc148ddbf3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=P2h8iDXR2Q3iFYxxi%2FqmUIo2RTQ%3D" alt="c16.jpg" width="100%" loading="lazy"/></p>
<p>é€šè¿‡ä¸Šé¢çš„ä¾‹å­ï¼Œä½ å·²ç»å¯ä»¥ç”»å‡ºæ¸…æ™°çš„åˆ†ç±»æ•£ç‚¹å›¾ã€‚åœ¨å®é™…åˆ†æä¸­ï¼Œæˆ‘ä»¬æœ‰æ—¶è¿˜éœ€è¦ç”¨<strong>ç‚¹çš„å¤§å°æˆ–é¢œè‰²è¡¨ç¤ºç¬¬ä¸‰ä¸ªç»´åº¦</strong>çš„ä¿¡æ¯ï¼ˆä¾‹å¦‚æƒé‡ã€å¯†åº¦ã€ç±»åˆ«ç­‰ï¼‰ï¼Œéœ€è¦åšåˆ°ç²¾ç»†åŒ–å¤„ç†æ¯ä¸€ä¸ªç‚¹ï¼Œç»™æ¯ä¸ªç‚¹è®¾ç½®ä¸åŒçš„å¤§å°å’Œé¢œè‰²ï¼Œå®ç°èµ·æ¥ä¹Ÿéå¸¸ç®€å•ï¼Œè¦å®ç°å›¾21æ‰€ç¤ºçš„æ•ˆæœï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python">fig, ax = plt.subplots(figsize=(<span class="hljs-number">7</span>, <span class="hljs-number">3.5</span>))

x1 = [<span class="hljs-number">1.2</span>, <span class="hljs-number">3.1</span>, <span class="hljs-number">1.8</span>, <span class="hljs-number">2.6</span>, <span class="hljs-number">3.1</span>, <span class="hljs-number">2.2</span>]
y1 = [<span class="hljs-number">2.5</span>, <span class="hljs-number">2.6</span>, <span class="hljs-number">1.8</span>, <span class="hljs-number">2.2</span>, <span class="hljs-number">3.0</span>, <span class="hljs-number">1.8</span>]

<span class="hljs-comment"># æ¯ä¸ªç‚¹çš„å¤§å°</span>
sizes = [<span class="hljs-number">40</span>, <span class="hljs-number">60</span>, <span class="hljs-number">90</span>, <span class="hljs-number">100</span>, <span class="hljs-number">120</span>, <span class="hljs-number">140</span>]

<span class="hljs-comment"># æ¯ä¸ªç‚¹çš„é¢œè‰²å€¼ï¼Œç”¨ä¸€ä¸ª 0~1 çš„æµ®ç‚¹æ•°è¡¨ç¤ºï¼Œå¯¹åº”é¢œè‰²æ˜ å°„è¡¨ä¸­çš„ä½ç½®</span>
colors = [<span class="hljs-number">0</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.3</span>, <span class="hljs-number">0.4</span>, <span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>]

<span class="hljs-comment"># ç»˜åˆ¶å¸¦é¢œè‰²æ˜ å°„çš„æ•£ç‚¹å›¾</span>
scatter = ax.scatter(
    x1,
    y1,
    s=sizes,        <span class="hljs-comment"># ä½¿ç”¨åˆ—è¡¨åˆ†åˆ«æŒ‡å®šæ¯ä¸ªç‚¹çš„å¤§å°</span>
    c=colors,       <span class="hljs-comment"># ä½¿ç”¨åˆ—è¡¨åˆ†åˆ«æŒ‡å®šæ¯ä¸ªç‚¹çš„é¢œè‰²å€¼</span>
    cmap=<span class="hljs-string">"plasma"</span>,  <span class="hljs-comment"># é¢œè‰²æ˜ å°„è¡¨ï¼Œå°† 0~1 çš„å€¼æ˜ å°„ä¸ºå…·ä½“é¢œè‰²</span>
    alpha=<span class="hljs-number">0.8</span>,      <span class="hljs-comment"># ä¸é€æ˜åº¦</span>
    linewidths=<span class="hljs-number">0</span>,   <span class="hljs-comment"># è¾¹ç¼˜çº¿å®½ï¼ˆè®¾ä¸º 0 è¡¨ç¤ºæ— è¾¹æ¡†ï¼‰</span>
    marker=<span class="hljs-string">"o"</span>,     <span class="hljs-comment"># ç‚¹å½¢çŠ¶</span>
)

<span class="hljs-comment"># æ·»åŠ é¢œè‰²æ˜ å°„æ¡ï¼ˆcolorbarï¼‰</span>
cbar = fig.colorbar(scatter, ax=ax)
<span class="hljs-comment"># å¯è®¾ç½®é¢œè‰²æ¡æ ‡é¢˜ï¼ˆæŒ‰éœ€å¯ç”¨ï¼‰</span>
cbar.set_label(<span class="hljs-string">"é¢œè‰²æ˜ å°„æ¡æ ‡é¢˜"</span>, fontsize=<span class="hljs-number">9</span>)

<span class="hljs-comment"># è®¾å®šåæ ‡è½´èŒƒå›´ï¼Œè®©å›¾å½¢æ›´ç¾è§‚</span>
ax.set_xlim(<span class="hljs-number">0.6</span>, <span class="hljs-number">3.6</span>)
ax.set_ylim(<span class="hljs-number">1</span>, <span class="hljs-number">3.7</span>)
</code></pre>
<p>å¸¸ç”¨çš„ <code>cmap</code>ï¼ˆé¢œè‰²æ˜ å°„ï¼‰é€‰é¡¹åŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>è¿ç»­å‹</strong>ï¼š<code>plasma</code>ã€<code>viridis</code>ã€<code>coolwarm</code>ã€<code>hot</code>ã€<code>gray</code>ï¼ˆé€‚åˆè¡¨ç¤ºæ•°å€¼å¤§å°ï¼‰</li>
<li><strong>ç¦»æ•£å‹</strong>ï¼š<code>tab10</code>ã€<code>Set2</code>ï¼ˆé€‚åˆè¡¨ç¤ºåˆ†ç±»ï¼‰</li>
</ul>
<p>è¿™äº›é¢œè‰²æ˜ å°„çš„è§†è§‰å¯¹æ¯”å¦‚å›¾22æ‰€ç¤ºï¼Œä½ å¯ä»¥æ ¹æ®æ•°æ®ç‰¹æ€§é€‰æ‹©æœ€åˆé€‚çš„æ˜ å°„æ–¹æ¡ˆã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abf146f809a549ca9076dadb47581160~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=R%2B0kktm11I0rQppES89Joq%2FN7c8%3D" alt="c17.jpg" width="100%" loading="lazy"/></p>
<h3 data-id="heading-14">å…­. ç›´æ–¹å›¾</h3>
<p>ç›´æ–¹å›¾ï¼ˆHistogramï¼‰æ˜¯ä¸€ç§ç”¨äºå±•ç¤ºæ•°æ®åˆ†å¸ƒæƒ…å†µçš„ç»Ÿè®¡å›¾è¡¨ï¼Œå®ƒé€šè¿‡å°†æ•°æ®åˆ’åˆ†åˆ°ä¸åŒçš„åŒºé—´ï¼ˆç§°ä¸ºâ€œç®±â€æˆ–â€œbinâ€ï¼‰ï¼Œå¹¶ç»Ÿè®¡æ¯ä¸ªåŒºé—´å†…æ•°æ®ç‚¹çš„æ•°é‡æ¥ç»˜åˆ¶ã€‚ç›´æ–¹å›¾ç‰¹åˆ«é€‚åˆè§‚å¯Ÿæ•°æ®çš„æ•´ä½“åˆ†å¸ƒã€é›†ä¸­è¶‹åŠ¿å’Œç¦»æ•£ç¨‹åº¦ã€‚</p>
<p>ä¸ºäº†è®©ä½ æ›´ç›´è§‚åœ°ç†è§£ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªç”Ÿæ´»ä¸­çš„ä¾‹å­æ¥è¯´æ˜ï¼šå‡è®¾ä½ æœ‰ä¸€æ‰€åˆä¸­æ‰€æœ‰å­¦ç”Ÿçš„èº«é«˜æ•°æ®ï¼Œç°åœ¨ä½ æƒ³çŸ¥é“èº«é«˜åœ¨ 1.45â€¯mâ€“1.50â€¯m ä¹‹é—´æœ‰å¤šå°‘äººã€1.50â€¯mâ€“1.55â€¯m ä¹‹é—´æœ‰å¤šå°‘äººâ€¦â€¦ä»¥æ­¤ç±»æ¨ã€‚å¦‚æœä½ æ‰‹åŠ¨ç»Ÿè®¡æ¯ä¸ªåŒºé—´çš„äººæ•°ï¼Œå†ç”¨æ¡å½¢å›¾ç”»å‡ºæ¥ï¼Œå½“ç„¶å¯ä»¥ï¼Œä½†è¿™æ ·åšæ¯”è¾ƒç¹çã€‚è€Œç›´æ–¹å›¾æ­£æ˜¯ä¸ºè¿™ç§â€œåˆ†æ®µç»Ÿè®¡â€ä»»åŠ¡è€Œç”Ÿçš„å·¥å…·ï¼Œå®ƒèƒ½è‡ªåŠ¨å®Œæˆåˆ†ç®±å’Œè®¡æ•°ï¼Œå¹¶ç›´æ¥ç”Ÿæˆå¯è§†åŒ–çš„åˆ†å¸ƒå›¾ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€æ®µåŸºç¡€çš„ç›´æ–¹å›¾ç»˜åˆ¶ä»£ç ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ç»„æ¨¡æ‹Ÿæ•°æ®æ¥æ¼”ç¤ºï¼š</p>
<pre><code class="hljs language-python" lang="python">fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">4</span>))
<span class="hljs-comment"># æ¨¡æ‹Ÿæ•°æ®</span>
data = [<span class="hljs-number">1.1</span>, <span class="hljs-number">1.3</span>, <span class="hljs-number">1.6</span>, <span class="hljs-number">2.6</span>, <span class="hljs-number">2.2</span>, <span class="hljs-number">3.1</span>, <span class="hljs-number">3.4</span>, <span class="hljs-number">3.2</span>, <span class="hljs-number">3.9</span>, <span class="hljs-number">3.5</span>,
        <span class="hljs-number">4.3</span>, <span class="hljs-number">5.1</span>, <span class="hljs-number">5.7</span>, <span class="hljs-number">5.8</span>, <span class="hljs-number">5.3</span>, <span class="hljs-number">5.1</span>, <span class="hljs-number">5.4</span>, <span class="hljs-number">5.6</span>, <span class="hljs-number">5.1</span>, <span class="hljs-number">5.0</span>, <span class="hljs-number">5.4</span>, <span class="hljs-number">5.6</span>, <span class="hljs-number">5.3</span>]

<span class="hljs-comment"># ä½¿ç”¨ hist å‡½æ•°ç»˜åˆ¶ç›´æ–¹å›¾</span>
ax.hist(
    data,                     <span class="hljs-comment"># è¾“å…¥æ•°æ®ï¼ˆä¸€ç»´æ•°ç»„æˆ–åºåˆ—ï¼‰</span>
    bins=[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], <span class="hljs-comment"># æŒ‡å®šåˆ†ç®±è¾¹ç•Œï¼šä¾æ¬¡ä¸º [1,2)ã€[2,3)ã€[3,4)ã€[4,5)ã€[5,6]</span>
    <span class="hljs-built_in">range</span>=(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>),            <span class="hljs-comment"># ä»…ç»Ÿè®¡è½åœ¨ range èŒƒå›´å†…çš„æ•°æ®ï¼ˆæ­¤å¤„ä¸º 1 åˆ° 5ï¼‰ï¼ŒèŒƒå›´å¤–çš„æ•°æ®å°†è¢«å¿½ç•¥</span>
    histtype=<span class="hljs-string">"stepfilled"</span>,   <span class="hljs-comment"># ç›´æ–¹å›¾ç±»å‹ï¼šå¡«å……å¼é˜¶æ¢¯å›¾</span>
    orientation=<span class="hljs-string">"vertical"</span>,  <span class="hljs-comment"># æ–¹å‘ï¼šå‚ç›´ï¼ˆå¯é€‰ 'horizontal' ä¸ºæ°´å¹³ï¼‰</span>
    rwidth=<span class="hljs-number">0.9</span>,              <span class="hljs-comment"># æ¡å½¢ç›¸å¯¹å®½åº¦ï¼ˆå  bin å®½åº¦çš„æ¯”ä¾‹ï¼‰</span>
    color=<span class="hljs-string">"#277098"</span>,         <span class="hljs-comment"># å¡«å……é¢œè‰²</span>
    edgecolor=<span class="hljs-string">"black"</span>,       <span class="hljs-comment"># è¾¹æ¡†é¢œè‰²</span>
    alpha=<span class="hljs-number">0.75</span>,              <span class="hljs-comment"># å¡«å……ä¸é€æ˜åº¦</span>
    label=<span class="hljs-string">"æ™®é€šç›´æ–¹å›¾"</span>,      <span class="hljs-comment"># å›¾ä¾‹æ ‡ç­¾</span>
)

plt.show()
</code></pre>
<p>ä»£ç æ‰§è¡Œç»“æœå¦‚å›¾23æ‰€ç¤ºã€‚</p>
<p><code>histtype</code>å¯é€‰å‚æ•°æœ‰ï¼š<code>bar</code> - æŸ±çŠ¶å›¾ï¼Œ<code>step</code> - é˜¶æ¢¯çŠ¶å›¾ï¼Œ<code>stepfilled</code> - é˜¶æ¢¯çŠ¶å›¾å¹¶å¡«å……é¢œè‰²ï¼Œ<code>barstacked</code> - å¤šæ•°æ®å †å æ¡å½¢å›¾ã€‚ï¼ˆå½“é€‰ä¸ºé˜¶æ¢¯çŠ¶å›¾æ—¶ï¼Œ<code>rwidth</code>å‚æ•°æ— æ•ˆï¼‰</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c6e485e92884592bd8f5e629917013e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=PF0%2FezYvcJ2FZW%2FPJP%2FBXI6EBqg%3D" alt="c18.jpg" width="100%" loading="lazy"/></p>
<p>é€šè¿‡è¿™ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥çœ‹åˆ° <code>hist()</code> å‡½æ•°æä¾›äº†ä¸°å¯Œçš„å‚æ•°æ¥è‡ªå®šä¹‰ç›´æ–¹å›¾çš„è§†è§‰æ•ˆæœã€‚å»ºè®®ä½ å°è¯•ä¿®æ”¹å„ä¸ªå‚æ•°ï¼ˆä¾‹å¦‚ <code>histtype</code>ã€<code>color</code>ã€<code>rwidth</code> ç­‰ï¼‰ï¼Œè§‚å¯Ÿå›¾å½¢çš„å˜åŒ–ï¼Œè¿™å¯¹åŠ æ·±ç†è§£éå¸¸æœ‰å¸®åŠ©ã€‚å¦‚æœæœ‰å“ªäº›å‚æ•°è‡ªå·±å®åœ¨ä¸èƒ½ç†è§£ï¼Œå®Œå…¨å¯ä»¥æ±‚åŠ©AIï¼ŒåŠ ä¹‹è‡ªå·±çš„å®è·µï¼Œç†è§£å¹¶ä¸”è¿ç”¨å®ƒå®¾ä¸æ˜¯ä»€ä¹ˆéš¾äº‹ã€‚</p>
<p>ä¸Šé¢çš„ç¤ºä¾‹æ•°æ®é‡è¾ƒå°ï¼Œåœ¨å®é™…åˆ†æä¸­æˆ‘ä»¬å¸¸é¢å¯¹æˆåƒä¸Šä¸‡çš„æ•°æ®ç‚¹ã€‚æ­¤æ—¶ï¼Œç›´æ–¹å›¾èƒ½æ›´æ¸…æ™°åœ°æ­ç¤ºæ•°æ®çš„æ•´ä½“åˆ†å¸ƒè§„å¾‹ã€‚ä¸‹é¢çš„ä¾‹å­ç”Ÿæˆäº†ä¸€ä¸ªåŒ…å« 2000 ä¸ªæ•°æ®ç‚¹çš„åˆæˆæ•°æ®é›†ï¼Œå®ƒç”±ä¸¤ä¸ªä¸åŒçš„æ­£æ€åˆ†å¸ƒæ··åˆè€Œæˆï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç”Ÿæˆæ··åˆæ­£æ€åˆ†å¸ƒæ•°æ®</span>
<span class="hljs-keyword">import</span> random
<span class="hljs-comment"># ç”Ÿæˆå‡å€¼ä¸º 1ã€æ ‡å‡†å·®ä¸º 3 çš„æ­£æ€åˆ†å¸ƒæ ·æœ¬</span>
random_array_1 = [random.gauss(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000</span>)]
<span class="hljs-comment"># ç”Ÿæˆå‡å€¼ä¸º 12ã€æ ‡å‡†å·®ä¸º 4 çš„æ­£æ€åˆ†å¸ƒæ ·æœ¬</span>
random_array_2 = [random.gauss(<span class="hljs-number">12</span>, <span class="hljs-number">4</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000</span>)]
<span class="hljs-comment"># åˆå¹¶ä¸¤ç»„æ•°æ®</span>
random_array = random_array_1 + random_array_2

fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">4</span>))
ax.hist(
    random_array,
    bins=<span class="hljs-number">50</span>,           <span class="hljs-comment"># æŒ‡å®šç›´æ–¹å›¾æŸ±å­çš„æ•°é‡ï¼ˆæ­¤å¤„ä¸º 50 æ ¹ï¼‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å‡åŒ€åˆ’åˆ†åŒºé—´</span>
    <span class="hljs-built_in">range</span>=(-<span class="hljs-number">10</span>, <span class="hljs-number">25</span>),   <span class="hljs-comment"># ä»…æ˜¾ç¤º -10 åˆ° 25 èŒƒå›´å†…çš„æ•°æ®</span>
    histtype=<span class="hljs-string">"stepfilled"</span>,
    orientation=<span class="hljs-string">"vertical"</span>,
    rwidth=<span class="hljs-number">0.9</span>,
    color=<span class="hljs-string">"#FFFFFF"</span>,   <span class="hljs-comment"># ç™½è‰²å¡«å……</span>
    edgecolor=<span class="hljs-string">"black"</span>,
    alpha=<span class="hljs-number">0.75</span>,
    label=<span class="hljs-string">"åŒå³°åˆ†å¸ƒç›´æ–¹å›¾"</span>,
    hatch=<span class="hljs-string">'///'</span>,       <span class="hljs-comment"># å¡«å……å›¾æ¡ˆï¼ˆå‚è§ç¬¬å››ç« æ¡å½¢å›¾ç›¸å…³è¯´æ˜ï¼‰</span>
)

plt.show()
</code></pre>
<p>è¯¥ç¨‹åºçš„è¿è¡Œç»“æœå¦‚å›¾24æ‰€ç¤ºã€‚</p>
<h3 data-id="heading-15">ä¸ƒ. ç­‰é«˜çº¿å›¾</h3>
<p>ç­‰é«˜çº¿å›¾å¤§å®¶åº”è¯¥ä¸é™Œç”Ÿï¼Œåœ¨åˆé«˜ä¸­åœ°ç†è¯¾æœ¬ä¸Šç»å¸¸è§åˆ°â€”â€”å®ƒç”¨ä¸€åœˆåœˆçš„é—­åˆæ›²çº¿è¡¨ç¤ºåœ°å½¢çš„èµ·ä¼ï¼ŒåŒä¸€æ›²çº¿ä¸Šçš„æµ·æ‹”é«˜åº¦ç›¸åŒã€‚</p>
<p>åœ¨æ•°å­¦ä¸Šï¼Œç­‰é«˜çº¿å›¾å…¶å®æ˜¯<strong>ä¸‰ç»´å‡½æ•°åœ¨äºŒç»´å¹³é¢ä¸Šçš„æŠ•å½±</strong>ã€‚ç»™å®šä¸€ä¸ªäºŒå…ƒå‡½æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">z = f(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></span>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mi>y</mi></mrow><annotation encoding="application/x-tex">xy</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal">x</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span></span> å¹³é¢ä¸Šç”»å‡ºæ‰€æœ‰æ»¡è¶³ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">f(x,y)=c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">c</span></span></span></span></span> ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">c</span></span></span></span></span> ä¸ºå¸¸æ•°ï¼‰çš„æ›²çº¿ï¼Œæ¯ä¸€æ¡æ›²çº¿å°±ç§°ä¸ºä¸€æ¡â€œç­‰é«˜çº¿â€ã€‚å¤šæ¡ç­‰é«˜çº¿ç»„åˆåœ¨ä¸€èµ·ï¼Œå°±èƒ½ç›´è§‚åæ˜ å‡ºå‡½æ•°å€¼çš„å˜åŒ–è¶‹åŠ¿ï¼Œå¦‚å›¾25æ‰€ç¤ºã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4ece7b94e504ba983d2daf158c1202a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=BRkNN1za1K%2BTQEkBsAh7YRhyGIs%3D" alt="c19.jpg" width="100%" loading="lazy"/></p>
<p>ç­‰é«˜çº¿å›¾åœ¨æ—¥å¸¸ç»˜å›¾ä¸­ä½¿ç”¨é¢‘ç‡ä¸ç®—é«˜ï¼Œå› æ­¤æœ¬æ•™ç¨‹ä¸å±•å¼€è¯¦è¿°ï¼ˆæœ‰äº†å‰é¢çš„åŸºç¡€ï¼Œå¦‚æœä½ éœ€è¦æ·±å…¥å­¦ä¹ ï¼Œå®Œå…¨å¯ä»¥å€ŸåŠ© AI å¿«é€ŸæŒæ¡ï¼‰ã€‚ä¸è¿‡ï¼Œç­‰é«˜çº¿å›¾æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„åº”ç”¨ï¼š<strong>ç»˜åˆ¶éšå‡½æ•°å›¾åƒ</strong>ã€‚</p>
<p>æ¯”å¦‚ä¸‹é¢è¿™ä¸ªéšå‡½æ•°æ–¹ç¨‹ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo>âˆ’</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mn>3</mn></msup><mo>=</mo><msup><mi>x</mi><mn>2</mn></msup><msup><mi>y</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">(x^2+y^2-1)^3=x^2y^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.0585em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"/><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.0585em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span></div>
<p>å®ƒå¯¹åº”çš„æ›²çº¿æ˜¯ä¸€ä¸ªå¿ƒå½¢ï¼Œå¾ˆéš¾ç›´æ¥ç”¨ <code>plot()</code> ç”»å‡ºï¼Œå› ä¸ºä½ æ— æ³•ä»ä¸­è§£å‡º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><mi>g</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">y=g(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span> çš„æ˜¾å¼è¡¨è¾¾å¼ã€‚è¿™æ—¶å€™ï¼Œå°±éœ€è¦ç­‰é«˜çº¿å›¾äº†ã€‚</p>
<p>ç»˜åˆ¶éšå‡½æ•°çš„æœ¬è´¨å°±å°±æ˜¯å°†æ–¹ç¨‹æ”¹å†™ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">f(x,y) = 0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">0</span></span></span></span></span> çš„å½¢å¼ï¼Œå³ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><msup><mi>y</mi><mn>2</mn></msup><mo>âˆ’</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mn>3</mn></msup><mo>âˆ’</mo><msup><mi>x</mi><mn>2</mn></msup><msup><mi>y</mi><mn>3</mn></msup></mrow><annotation encoding="application/x-tex">f(x,y) = (x^2+y^2-1)^3 - x^2y^3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.0585em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"/><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:1.0585em;vertical-align:-0.1944em;"/><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span></span></span></span></span></div>
<p>ç„¶åç»˜åˆ¶ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f(x,y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span></span> çš„å€¼ä¸º 0 çš„é‚£æ¡ç­‰é«˜çº¿ï¼Œè¿™æ¡çº¿å°±æ˜¯åŸæ–¹ç¨‹çš„è§£æ›²çº¿ã€‚</p>
<p>å¦‚ä¸‹æ˜¯ç»˜åˆ¶ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç»˜åˆ¶ç­‰é«˜çº¿é€šå¸¸éœ€è¦ç”Ÿæˆç½‘æ ¼æ•°æ®ï¼Œnumpyèƒ½æå¤§ç®€åŒ–è¿™ä¸€è¿‡ç¨‹ï¼Œå¦‚æœæ²¡æœ‰numpyçš„è¯ä»£ç å°†ä¼šéå¸¸ç¹çã€‚</span>
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
x = np.linspace(-<span class="hljs-number">1.5</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">300</span>)  <span class="hljs-comment"># xèŒƒå›´ï¼š-1.5åˆ°1.5ï¼Œå–300ä¸ªç‚¹ï¼Œç‚¹è¶Šå¤šç»˜åˆ¶çš„å›¾å°±è¶Šç»†è‡´</span>
y = np.linspace(-<span class="hljs-number">1.5</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">300</span>)  <span class="hljs-comment"># yèŒƒå›´ï¼š-1.5åˆ°1.5</span>
X, Y = np.meshgrid(x, y)  		 <span class="hljs-comment"># ç”Ÿæˆç½‘æ ¼åæ ‡çŸ©é˜µ X, Y</span>

<span class="hljs-comment"># è®¡ç®—å‡½æ•° f(x, y) = (x^2 + y^2 - 1)^3 - x^2 * y^3</span>
F = (X**<span class="hljs-number">2</span> + Y**<span class="hljs-number">2</span> - <span class="hljs-number">1</span>)**<span class="hljs-number">3</span> - X**<span class="hljs-number">2</span> * Y**<span class="hljs-number">3</span>  

<span class="hljs-comment"># åˆ›å»ºå›¾å½¢</span>
fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">4</span>))

<span class="hljs-comment"># contourå‡½æ•°æ¥ç»˜åˆ¶ F=0 çš„ç­‰é«˜çº¿ï¼Œä¹Ÿå°±æ˜¯æ–¹ç¨‹çš„è§£</span>
<span class="hljs-comment"># levels=[0] è¡¨ç¤ºåªç”»å€¼ä¸º0çš„ç­‰é«˜çº¿</span>
ax.contour(X, Y, F, levels=[<span class="hljs-number">0</span>], colors=<span class="hljs-string">"red"</span>, linewidths=<span class="hljs-number">2</span>,alpha=<span class="hljs-number">0.7</span>)

ax.set_title(<span class="hljs-string">"Closed Curve: $(x^2+y^2-1)^3=x^2y^3$"</span>, fontsize=<span class="hljs-number">11</span>)
ax.grid(<span class="hljs-literal">True</span>, linestyle=<span class="hljs-string">"--"</span>, alpha=<span class="hljs-number">0.7</span>)
ax.axis(<span class="hljs-string">"equal"</span>)   <span class="hljs-comment"># é‡è¦ï¼ä¿è¯ xã€y è½´æ¯”ä¾‹ç›¸åŒï¼Œå›¾å½¢ä¸ä¼šæ‹‰ä¼¸å˜å½¢</span>

plt.show()
</code></pre>
<p>ä»£ç è¿è¡Œç»“æœå¦‚å›¾26æ‰€ç¤ºã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6499eb1b2c747d7a9c4633f27ac19ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=6g2tnrcBYO2ho8Etu3MfRfI7Ado%3D" alt="c20.jpg" width="50%" loading="lazy"/></p>
<h3 data-id="heading-16">å…«. å›¾åƒç±»å›¾è¡¨</h3>
<p>å›¾åƒç±»å›¾è¡¨å…è®¸ä½ ç›´æ¥é€šè¿‡åƒç´ æ•°æ®ç»˜åˆ¶å›¾åƒï¼Œä¹Ÿå¯ä»¥è¯»å–å›¾ç‰‡å¹¶å°†å…¶ç»˜åˆ¶åˆ°å›¾è¡¨ä¸­å……å½“èƒŒæ™¯ï¼Œå›¾åƒç±»å›¾è¡¨çš„åº”ç”¨éå¸¸å¤šï¼Œéå¸¸çµæ´»ã€‚å½“ Matplotlib æ²¡æœ‰æä¾›ä½ æƒ³è¦çš„å›¾è¡¨ç±»å‹æ—¶ï¼Œä½ å®Œå…¨å¯ä»¥åŸºäºå›¾åƒåŠŸèƒ½â€œåˆ›é€ â€ä¸€ä¸ªã€‚è€Œä¸”å®ƒéå¸¸ç®€å•æ˜“å­¦ï¼Œæ ¸å¿ƒå‡½æ•°å‚æ•°ä¸å¤šï¼Œä¸Šæ‰‹è¿…é€Ÿã€‚</p>
<p>å¦‚ä¸‹ä»£ç å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ä»£ç åˆ›å»ºä¸€ä¸ªç®€å•çš„å•é€šé“å›¾åƒå¹¶ä¸”æ˜¾ç¤ºå‡ºæ¥ï¼šï¼ˆâ€œé€šé“â€æ˜¯æ•°å­—å›¾åƒå¤„ç†ä¸­çš„åŸºæœ¬æ¦‚å¿µï¼Œå®ƒä»£è¡¨å›¾åƒä¸­ä¸€ç§åŸºæœ¬çš„é¢œè‰²æˆ–äº®åº¦ä¿¡æ¯ã€‚å¦‚æœä½ ä¸çŸ¥é“ä»€ä¹ˆæ˜¯â€œé€šé“â€ï¼Œé‚£ä¹ˆä½ å¯ä»¥å…ˆè‡ªè¡Œæœç´¢äº†è§£ä¸€ä¸‹ï¼‰</p>
<pre><code class="hljs language-python" lang="python">fig, ax = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">4</span>))

<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªç°åº¦å›¾åƒï¼Œæ¯ä¸ªæ•°å­—å°±ä»£è¡¨ä¸€ä¸ªé¢œè‰²</span>
img = [[<span class="hljs-number">0.0</span>,<span class="hljs-number">0.2</span>,<span class="hljs-number">0.4</span>],
       [<span class="hljs-number">0.6</span>,<span class="hljs-number">0.8</span>,<span class="hljs-number">1.0</span>],
       [<span class="hljs-number">0.0</span>,<span class="hljs-number">0.5</span>,<span class="hljs-number">1.0</span>]]

<span class="hljs-comment"># ä½¿ç”¨ imshow æ˜¾ç¤ºå›¾åƒ</span>
ax.imshow(
    img,
    cmap=<span class="hljs-string">'gray'</span>,          <span class="hljs-comment"># é¢œè‰²æ˜ å°„ï¼š'gray' è¡¨ç¤ºç°åº¦æ˜ å°„ï¼Œæ›´å¤šæ˜ å°„è§„åˆ™è¯¦è§æ•£ç‚¹å›¾ç« èŠ‚</span>
    aspect=<span class="hljs-string">'equal'</span>,       <span class="hljs-comment"># ä¿æŒåƒç´ ä¸ºæ­£æ–¹å½¢ï¼Œé˜²æ­¢å›¾åƒæ‹‰ä¼¸</span>
    interpolation=<span class="hljs-string">'nearest'</span>,<span class="hljs-comment"># å›¾åƒå¹³æ»‘æ’å€¼æ–¹æ³•ï¼Œå¯é€‰ nearest(é»˜è®¤é”¯é½¿ï¼Œé€‚åˆåƒç´ è‰ºæœ¯), bilinear(åŒçº¿æ€§å¹³æ»‘), bicubic(åŒä¸‰æ¬¡å¹³æ»‘), ...</span>
    alpha=<span class="hljs-number">1.0</span>,            <span class="hljs-comment"># ä¸é€æ˜åº¦ï¼Œ1.0 ä¸ºå®Œå…¨ä¸é€æ˜</span>
    extent=(<span class="hljs-number">10.0</span>, <span class="hljs-number">20.0</span>, <span class="hljs-number">5.0</span>, <span class="hljs-number">15.0</span>)  <span class="hljs-comment"># å®šä¹‰å›¾åƒåœ¨åæ ‡è½´ä¸­çš„ä½ç½®å’ŒèŒƒå›´</span>
    <span class="hljs-comment"># extent æ ¼å¼: (å·¦è¾¹ç•Œ, å³è¾¹ç•Œ, ä¸‹è¾¹ç•Œ, ä¸Šè¾¹ç•Œ)</span>
)
</code></pre>
<p>è¿è¡Œç»“æœå¦‚å›¾27æ‰€ç¤ºã€‚ç”±äºæˆ‘ä»¬è®¾ç½®äº† <code>extent=(10, 20, 5, 15)</code>ï¼Œè¿™ä¸ªå°å°çš„ <strong>3x3</strong> å›¾åƒä¼šè¢«â€œæ‹‰ä¼¸â€å¹¶æ”¾ç½®åˆ°åæ ‡ç³»ä¸­ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>âˆˆ</mo><mo stretchy="false">[</mo><mn>10</mn><mo separator="true">,</mo><mn>20</mn><mo stretchy="false">]</mo><mo separator="true">,</mo><mi>y</mi><mo>âˆˆ</mo><mo stretchy="false">[</mo><mn>5</mn><mo separator="true">,</mo><mn>15</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">x \in [10, 20], y \in [5, 15]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"/><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord">10</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">20</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">[</span><span class="mord">5</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">15</span><span class="mclose">]</span></span></span></span></span> çš„çŸ©å½¢åŒºåŸŸå†…ã€‚å¹¶ä¸”ç”±äºä½¿ç”¨äº†<code>gray</code>ç°åº¦æ˜ å°„ï¼Œå› æ­¤å€¼ä¸º0çš„åƒç´ å°±ä¼šæ˜¾ç¤ºä¸ºçº¯é»‘è‰²ï¼Œå€¼ä¸º1çš„åƒç´ å°±ä¼šæ˜¾ç¤ºä¸ºçº¯ç™½è‰²ï¼Œä¸­é—´å€¼å‘ˆç°ç›¸åº”çš„ç°è‰²ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b75ac4a55d8346188adb9b0a3db127db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=U%2Fmgjct2dgxQkbAbJ4IsRdCrPyQ%3D" alt="c21.jpg" width="100%" loading="lazy"/></p>
<p>å½“å›¾åƒæ•°æ®åŒ…å«å¤šä¸ªé€šé“ï¼ˆä¾‹å¦‚ RGB ä¸‰ä¸ªé¢œè‰²é€šé“ï¼‰æ—¶ï¼Œå®ƒå°±ä»£è¡¨äº†å½©è‰²å›¾åƒã€‚æ­¤æ—¶ï¼Œ<code>cmap</code> å‚æ•°å°†ä¸å†ç”Ÿæ•ˆï¼Œå› ä¸ºé¢œè‰²ä¿¡æ¯å·²ç›´æ¥åŒ…å«åœ¨æ•°æ®ä¸­ã€‚å¤„ç†è¿™ç§å¤šç»´æ•°ç»„æ•°æ®ï¼Œä½¿ç”¨ NumPy ä¼šéå¸¸æ–¹ä¾¿ã€‚ä¸‹é¢çš„æ•™ç¨‹é»˜è®¤ä½ å·²ç†Ÿæ‚‰ NumPy çš„åŸºæœ¬æ“ä½œã€‚</p>
<p>è®©æˆ‘ä»¬å°è¯•è¯»å–ä¸€ä¸ªå¤–éƒ¨å›¾ç‰‡æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> matplotlib.image <span class="hljs-keyword">as</span> mpimg  <span class="hljs-comment"># Matplotlib æä¾›çš„å›¾åƒè¯»å–å·¥å…·</span>
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

fig, ax = plt.subplots(figsize=(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>))

<span class="hljs-comment"># è¯»å–å›¾åƒ (æ”¯æŒ JPG, PNG, BMP, TIFF ç­‰å¸¸è§æ ¼å¼)</span>
<span class="hljs-comment"># å‡½æ•°è¿”å›ä¸€ä¸ª NumPy æ•°ç»„ï¼Œåƒç´ å€¼é€šå¸¸è¢«è‡ªåŠ¨å½’ä¸€åŒ–åˆ° [0.0, 1.0] åŒºé—´</span>
img = mpimg.imread(<span class="hljs-string">"../media/icon48.png"</span>)
<span class="hljs-built_in">print</span>(img.shape)
<span class="hljs-comment"># ==== è¾“å‡ºç¤ºä¾‹ ====</span>
<span class="hljs-comment"># (48, 48, 4)</span>
</code></pre>
<p>è¾“å‡ºæ˜¾ç¤ºå›¾åƒæ•°ç»„çš„å½¢çŠ¶ä¸º <code>(48, 48, 4)</code>ã€‚è¿™è¡¨ç¤ºè¿™æ˜¯ä¸€å¼  <strong>48 åƒç´ é«˜ï¼Œ48 åƒç´ å®½</strong> çš„å›¾ç‰‡ï¼Œå¹¶ä¸”æœ‰ <strong>4 ä¸ªé€šé“</strong>ã€‚é€šå¸¸ï¼Œè¿™å¯¹åº”ç€ <strong>RGBA</strong> æ¨¡å¼ï¼šçº¢ã€ç»¿ã€è“ä¸‰ä¸ªé¢œè‰²é€šé“ï¼Œå¤–åŠ ä¸€ä¸ª Alpha é€šé“ï¼ˆæ§åˆ¶é€æ˜åº¦ï¼‰ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å¯¹å›¾åƒæ•°ç»„è¿›è¡Œæ“ä½œæ¥å®ç°å„ç§æ•ˆæœã€‚ä¾‹å¦‚ï¼Œå…ˆä¸¢å¼ƒ Alpha é€šé“åªä¿ç•™ RGBï¼Œç„¶åè¿›è¡Œåè‰²å¤„ç†ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åªä¿ç•™å‰ä¸‰ä¸ªé€šé“ï¼ˆRGBï¼‰ï¼Œä¸¢å¼ƒ Alpha é€šé“</span>
img_rgb = img[:, :, :<span class="hljs-number">3</span>]

<span class="hljs-comment"># è¿›è¡Œåè‰²æ“ä½œï¼š1 - åŸå€¼</span>
new_img = <span class="hljs-number">1</span> - img_rgb

<span class="hljs-comment"># æ˜¾ç¤ºå¤„ç†åçš„å›¾åƒ</span>
ax.imshow(
    new_img,
    aspect=<span class="hljs-string">"equal"</span>,           <span class="hljs-comment"># ä¿æŒå®½é«˜æ¯”ï¼Œåƒç´ å‘ˆæ­£æ–¹å½¢</span>
    interpolation=<span class="hljs-string">"bicubic"</span>,  <span class="hljs-comment"># ä½¿ç”¨åŒä¸‰æ¬¡æ’å€¼ï¼Œä½¿å›¾åƒçœ‹èµ·æ¥æ›´å¹³æ»‘</span>
    alpha=<span class="hljs-number">1</span>,                  <span class="hljs-comment"># ä¸é€æ˜åº¦</span>
    extent=(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>),      <span class="hljs-comment"># å°†å›¾åƒæ”¾ç½®åœ¨åæ ‡ç³»ä¸­ (0,0) åˆ° (1,1) çš„èŒƒå›´å†…</span>
)
</code></pre>
<p>è¿è¡Œç»“æœå¦‚å›¾28æ‰€ç¤ºã€‚ç”±äºæˆ‘ä»¬åšäº† <code>1 - img</code> çš„åè‰²è®¡ç®—ï¼ŒåŸæœ¬é»‘è‰²çš„åŒºåŸŸå˜æˆäº†ç™½è‰²ï¼Œç™½è‰²å˜æˆäº†é»‘è‰²ï¼Œå¾—åˆ°äº†ä¸€ä¸ªâ€œåº•ç‰‡â€æ•ˆæœã€‚è¿™å±•ç¤ºäº†å›¾åƒæ•°æ®çš„æœ¬è´¨â€”â€”åªæ˜¯ä¸€ä¸ªæ•°å€¼æ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥åƒå¤„ç†æ™®é€šçŸ©é˜µä¸€æ ·å¯¹å®ƒè¿›è¡ŒåŠ å‡ä¹˜é™¤ã€æ»¤æ³¢ã€å˜æ¢ç­‰ä»»ä½•æ•°å­¦è¿ç®—ï¼Œä»è€Œåˆ›é€ å‡ºæ— ç©·çš„è§†è§‰æ•ˆæœã€‚</p>
<p>å›¾åƒåŠŸèƒ½çš„å¼ºå¤§ä¹‹å¤„åœ¨äºå®ƒèƒ½ä¸ Matplotlib çš„å…¶ä»–å›¾è¡¨å…ƒç´ æ— ç¼èåˆã€‚ä½ å¯ä»¥æŠŠå›¾ç‰‡å½“ä½œä¸€ä¸ªç‰¹æ®Šçš„â€œå›¾å±‚â€æˆ–â€œæ ‡è®°â€ï¼Œæ”¾ç½®åœ¨åæ ‡ç³»çš„ä»»ä½•ä½ç½®ï¼Œæˆ–è€…è‡ªå·±ç”¨åƒç´ æ“ä½œç»˜åˆ¶ä¸€ä¸ªå›¾å½¢ï¼Œè¿™è®©ä½ èƒ½å¤Ÿåˆ›å»ºå‡ºæå…·ä¸ªæ€§åŒ–å’Œä¿¡æ¯ä¸°å¯Œçš„å¤åˆå›¾è¡¨ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå°†æˆ‘ä»¬è¯»å–çš„å›¾æ ‡ä¸ä¸€ä¸ªæ­£å¼¦å‡½æ•°æ›²çº¿ç»˜åˆ¶åœ¨åŒä¸€åæ ‡ç³»ä¸­ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> matplotlib.image <span class="hljs-keyword">as</span> mpimg
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

fig, ax = plt.subplots(figsize=(<span class="hljs-number">5</span>, <span class="hljs-number">5</span>))

<span class="hljs-comment"># 1. é¦–å…ˆï¼Œç»˜åˆ¶å›¾åƒ</span>
img = mpimg.imread(<span class="hljs-string">"../media/icon48.png"</span>)
ax.imshow(
    img,
    aspect=<span class="hljs-string">"equal"</span>,
    interpolation=<span class="hljs-string">"bicubic"</span>,
    alpha=<span class="hljs-number">0.8</span>,                 <span class="hljs-comment"># è®¾ç½®ä¸€ç‚¹é€æ˜åº¦ï¼Œè®©åé¢çš„æ›²çº¿è‹¥éšè‹¥ç°</span>
    extent=(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">0</span>),      <span class="hljs-comment"># å°†å›¾æ ‡æ”¾ç½®åœ¨ x=[4,5], y=[-1,0] çš„çŸ©å½¢åŒºåŸŸ</span>
)

<span class="hljs-comment"># 2. ç„¶åï¼Œåœ¨åŒä¸€ä¸ªåæ ‡ç³»ä¸Šç»˜åˆ¶æ ‡å‡†çš„å‡½æ•°æ›²çº¿</span>
x = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">100</span>)
y = np.sin(x)
ax.plot(x, y, linewidth=<span class="hljs-number">2</span>, label=<span class="hljs-string">'sin(x)'</span>)

<span class="hljs-comment"># 3. è®¾ç½®åæ ‡è½´èŒƒå›´</span>
ax.set_ylim(-<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)
</code></pre>
<p>è¿è¡Œç»“æœå¦‚å›¾29æ‰€ç¤ºã€‚</p>
<h3 data-id="heading-17">ä¹. åŠ¨ç”»æ¸²æŸ“</h3>
<p>Matplotlib ç¡®å®æä¾›äº†åŠ¨ç”»åŠŸèƒ½ï¼Œä¸è¿‡åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä¸ä¼šå°†å®ƒä½œä¸ºä¸“ä¸šçš„åŠ¨ç”»å·¥å…·ã€‚å¯¹äºå¤æ‚çš„æ•°å­¦å¯è§†åŒ–åŠ¨ç”»ï¼Œä¸šç•Œæœ‰æ›´ä¸“ä¸šçš„åº“å¯ä»¥é€‰æ‹©ï¼Œæ¯”å¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fspace.bilibili.com%2F88461692" target="_blank" title="https://space.bilibili.com/88461692" ref="nofollow noopener noreferrer">3Blue1Brown</a> å¼€æºçš„ <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.manim.community%2F" target="_blank" title="https://www.manim.community/" ref="nofollow noopener noreferrer">manim</a></strong>ã€‚</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f455b50a9d9e40ce84ebbf5f5e515266~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFycmFzdG9yeQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770769621&amp;x-signature=2C4Bqtmh4zHmeHRY4nQqkijnoWI%3D" alt="c22.jpg" width="100%" loading="lazy"/></p>
<p>å°½ç®¡å¦‚æ­¤ï¼Œäº†è§£ Matplotlib åŠ¨ç”»çš„åŸºæœ¬åŸç†è¿˜æ˜¯æœ‰ä»·å€¼çš„ï¼Œå°¤å…¶å½“ä½ éœ€è¦å¿«é€Ÿç”Ÿæˆç®€å•åŠ¨ç”»æˆ–æ•™å­¦æ¼”ç¤ºæ—¶ã€‚</p>
<p>Matplotlib åŠ¨ç”»çš„æ ¸å¿ƒæ€è·¯éå¸¸ç®€å•ï¼š<strong>ç”Ÿæˆä¸€ç³»åˆ—é™æ€å›¾è¡¨ï¼ˆå¸§ï¼‰ï¼Œç„¶åæŒ‰é¡ºåºè¿ç»­æ’­æ”¾</strong>ã€‚æ¯ä¸€å¸§å¯¹åº”æ•°æ®çš„ä¸€ä¸ªçŠ¶æ€ï¼Œå°†è¿™äº›å¸§ä¸²è”èµ·æ¥ï¼Œå°±å½¢æˆäº†åŠ¨ç”»ã€‚</p>
<p>Matplotlib æä¾›ä¸¤ç§ä¸»è¦åŠ¨ç”»æ–¹æ³•ï¼š</p>
<ul>
<li><strong><code>FuncAnimation</code></strong>ï¼šå®æ—¶ç”Ÿæˆæ¯ä¸€å¸§ï¼Œé€‚åˆåŠ¨æ€æ›´æ–°æˆ–æ•°æ®æµåœºæ™¯</li>
<li><strong><code>ArtistAnimation</code></strong>ï¼šé¢„å…ˆç”Ÿæˆæ‰€æœ‰å¸§å¹¶å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œé€‚åˆå¸§æ•°ç¡®å®šã€å†…å®¹ä¸å˜çš„åŠ¨ç”»</li>
</ul>
<p>è€ƒè™‘åˆ°æ˜“å­¦æ€§å’Œå…¸å‹ä½¿ç”¨åœºæ™¯ï¼Œæœ¬æ•™ç¨‹ä¸»è¦ä»‹ç» <code>ArtistAnimation</code> æ–¹å¼ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šç”±äº <code>ArtistAnimation</code> ä¼šå°†æ‰€æœ‰å¸§ä¿ç•™åœ¨å†…å­˜ä¸­ï¼Œå¦‚æœåŠ¨ç”»å¸§æ•°å¾ˆå¤šæˆ–æ¯å¸§å†…å®¹å¤æ‚ï¼Œå¯èƒ½ä¼šå ç”¨è¾ƒå¤§å†…å­˜ã€‚ä¸è¿‡å¯¹äºä¸€èˆ¬çš„æ•°æ®å¯è§†åŒ–ï¼ˆå‡ ååˆ°å‡ ç™¾å¸§ï¼‰ï¼Œè¿™é€šå¸¸ä¸æ˜¯é—®é¢˜ã€‚</p>
</blockquote>
<p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­ï¼Œç»˜åˆ¶æ­£å¼¦æ³¢é€æ¸å¹³ç§»çš„åŠ¨ç”»ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">import</span> matplotlib.animation <span class="hljs-keyword">as</span> animation
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

fig, ax = plt.subplots()

<span class="hljs-comment"># åæ ‡è½´çš„åŸºæœ¬è®¾ç½®ï¼ˆåœ¨å¾ªç¯å¤–é¢è®¾ç½®ï¼‰</span>
ax.set_xlim(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>*np.pi)
ax.set_xlabel(<span class="hljs-string">'x'</span>)
ax.set_ylabel(<span class="hljs-string">'y'</span>)
ax.set_title(<span class="hljs-string">'sin_Animation'</span>)
ax.grid(<span class="hljs-literal">True</span>)

frames = []  <span class="hljs-comment"># å­˜å‚¨æ¯å¸§çš„ Artist åˆ—è¡¨</span>
x = np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>*np.pi, <span class="hljs-number">100</span>)

<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">50</span>): <span class="hljs-comment"># ç”Ÿæˆ50å¸§åŠ¨ç”»</span>
    <span class="hljs-comment"># æ¯å¸§ç»˜åˆ¶æ–°å†…å®¹ï¼Œè¿”å›çš„ Artists åŠ å…¥å½“å‰å¸§åˆ—è¡¨</span>
    line, = ax.plot(x, np.sin(x + i*<span class="hljs-number">0.1</span>), color=<span class="hljs-string">'blue'</span>)
    text = ax.text(<span class="hljs-number">0.5</span>, <span class="hljs-number">0.9</span>, <span class="hljs-string">f'Frame <span class="hljs-subst">{i}</span>'</span>, transform=ax.transAxes)
    
    <span class="hljs-comment"># å°†å½“å‰å¸§ä¸­ä¼šå˜åŒ–çš„å…ƒç´ ï¼ˆline å’Œ textï¼‰åŠ å…¥åˆ—è¡¨</span>
    frames.append([line, text]) 

<span class="hljs-comment"># åˆ›å»ºåŠ¨ç”»å¯¹è±¡</span>
ani = animation.ArtistAnimation(
    fig, 
    frames,           <span class="hljs-comment"># é¢„å…ˆç”Ÿæˆçš„å¸§åºåˆ—</span>
    interval=<span class="hljs-number">40</span>,      <span class="hljs-comment"># æ¯å¸§é—´éš” 40 æ¯«ç§’</span>
    repeat=<span class="hljs-literal">True</span>,      <span class="hljs-comment"># å¾ªç¯æ’­æ”¾</span>
    blit=<span class="hljs-literal">True</span>         <span class="hljs-comment"># å¯ç”¨åŒç¼“å†²ä¼˜åŒ–ï¼Œæå‡æ¸²æŸ“æ€§èƒ½</span>
)

<span class="hljs-comment"># ä¿å­˜ä¸º GIF æ–‡ä»¶ï¼ˆä¹Ÿå¯ä¿å­˜ä¸º MP4ï¼Œä½†éœ€è¦å®‰è£… ffmpegï¼‰</span>
ani.save(
    <span class="hljs-string">'sine_animation.gif'</span>,  <span class="hljs-comment"># æ–‡ä»¶å</span>
    writer=<span class="hljs-string">'pillow'</span>,       <span class="hljs-comment"># ä½¿ç”¨ Pillow åº“å†™å…¥ GIF</span>
    fps=<span class="hljs-number">25</span>,                <span class="hljs-comment"># å¸§ç‡ï¼ˆä¸ interval=40 å¯¹åº”ï¼‰</span>
    dpi=<span class="hljs-number">100</span>                <span class="hljs-comment"># è¾“å‡ºåˆ†è¾¨ç‡</span>
)

plt.show()
</code></pre>
<h3 data-id="heading-18">å. 3Då›¾è¡¨</h3>
<p>Matplotlib æœ¬è´¨ä¸Šæ˜¯äºŒç»´ç»˜å›¾åº“ï¼Œå…¶ä¸‰ç»´åŠŸèƒ½æ˜¯é€šè¿‡<strong>ä¸‰ç»´æ•°æ®æŠ•å½±åˆ°äºŒç»´å¹³é¢</strong>ï¼Œå¹¶é…åˆæ·±åº¦æ’åºï¼ˆz-orderï¼‰æ¥å®ç°çš„ã€‚è¿™ç§æ–¹å¼é€‚åˆç®€å•çš„ä¸‰ç»´å¯è§†åŒ–ï¼Œä½†åœ¨å¤„ç†å¤æ‚ä¸‰ç»´åœºæ™¯æ—¶å­˜åœ¨ä¸€å®šå±€é™ã€‚å®ƒäº¤äº’æ€§æ¯”è¾ƒå¼±ï¼Œæ—‹è½¬ã€ç¼©æ”¾ä¸å¦‚ä¸“ä¸šä¸‰ç»´è½¯ä»¶æµç•…ã€‚å®ƒæ¸²æŸ“æ•ˆæœæœ‰é™,éš¾ä»¥å®ç°å¤æ‚å…‰ç…§ã€é€æ˜ä½“ç»˜åˆ¶ã€æµåœºæ¨¡æ‹Ÿç­‰é«˜çº§ç‰¹æ•ˆã€‚å¹¶ä¸”å½“æ•°æ®é‡è¿‡å¤§æ—¶ï¼Œæ¸²æŸ“ä¼šå˜æ…¢å¾ˆå¤šã€‚</p>
<p>å› æ­¤å¯¹äºå¤æ‚ä¸“ä¸šçš„3Då›¾è¡¨ç»˜åˆ¶å¹¶ä¸æ¨èä½¿ç”¨matplotlibè¿›è¡Œç»˜åˆ¶ï¼Œä½†æ˜¯å¯¹äºç®€å•çš„3Dæ¼”ç¤ºMatplotlib è¿˜æ˜¯å¯ä»¥åšåˆ°çš„ï¼Œæ¯”å¦‚ç®€å•çš„3Dæ›²é¢å›¾ï¼Œçº¿æ¡†å›¾ï¼Œ3Dçº¿å›¾ï¼Œ3Dæ•£ç‚¹å›¾ç­‰</p>
<p>å¦‚æœä½ éœ€è¦ä¸“ä¸šçš„3Dç§‘ç ”ç»˜å›¾è½¯ä»¶/pythonåº“ï¼Œæ¨èä½¿ç”¨<strong>Mayavi</strong></p>
<h3 data-id="heading-19">åä¸€. å…¶å®ƒå›¾è¡¨</h3>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»ç³»ç»Ÿæ€§åœ°è®²è§£äº† Matplotlib ä¸­æœ€æ ¸å¿ƒã€æœ€é«˜é¢‘çš„å›¾è¡¨ç±»å‹å’Œç»˜å›¾é€»è¾‘ã€‚ç„¶è€Œï¼Œå®ƒçš„èƒ½åŠ›è¿œä¸æ­¢äºæ­¤ã€‚å°±åƒä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„å·¥å…·ç®±ï¼Œé™¤äº†å¸¸ç”¨çš„â€œæ‰³æ‰‹â€å’Œâ€œèºä¸åˆ€â€ï¼Œå®ƒè¿˜æä¾›äº†è®¸å¤šé’ˆå¯¹ç‰¹å®šåœºæ™¯çš„å·¥å…·ï¼š</p>
<p>æ¯”å¦‚ç»˜åˆ¶ç®€å•å›¾å½¢ï¼ˆåœ†å½¢ï¼Œè±å½¢ï¼ŒçŸ©å½¢ç­‰ï¼‰ï¼Œæåæ ‡ç³»ï¼Œç®±å½¢å›¾ï¼Œé¥¼å›¾ï¼Œå…­è¾¹å½¢åˆ†ç®±å›¾ï¼ŒçŸ¢é‡åœºå›¾ï¼Œæµçº¿å›¾ï¼Œå°æç´å›¾ï¼Œæ•°æ®è¡¨æ ¼...</p>
<p><strong>ä½ ä¸éœ€è¦ç«‹å³æŒæ¡æ‰€æœ‰è¿™äº›å†…å®¹ã€‚</strong> æœ¬ç³»åˆ—æ•™ç¨‹çš„æ ¸å¿ƒç›®æ ‡ï¼Œæ˜¯ä¸ºä½ æ„å»ºä¸€ä¸ªåšå®ã€é€šç”¨çš„ç»˜å›¾æ€ç»´æ¡†æ¶å’Œæ“ä½œåŸºç¡€ã€‚ä½ ç°åœ¨å·²ç»æ‹¥æœ‰äº†é˜…è¯»å®˜æ–¹æ–‡æ¡£ã€ç†è§£ç¤ºä¾‹ä»£ç å¹¶å¿«é€Ÿä¸Šæ‰‹çš„èƒ½åŠ›ã€‚</p>
<p>å½“ä½ æœªæ¥çš„é¡¹ç›®éœ€è¦æŸä¸ªç‰¹å®šç±»å‹çš„å›¾è¡¨æ—¶ï¼Œå®Œå…¨å¯ä»¥å¸¦ç€æ˜ç¡®çš„ç›®æ ‡å»å®šå‘å­¦ä¹ ã€‚åœ¨ä½ åšå®çš„åŸºç¡€ä¸Šï¼Œå†è®©AIæ¥è¾…åŠ©å­¦ä¹ ç†è§£ï¼Œé©¬ä¸ŠæŒæ¡ä¸€ä¸ªæ–°ç±»å‹çš„å›¾è¡¨ä¸æ˜¯ä»€ä¹ˆéš¾äº‹ã€‚</p>
<p>è®°ä½ï¼Œ<strong>å·¥å…·ä¸ºæ€æƒ³æœåŠ¡</strong>ã€‚æœ€åï¼Œæˆ‘æƒ³è¯´ï¼Œä¸è®ºä½ æ˜¯ä»€ä¹ˆä¸“ä¸šï¼Œåªè¦æ˜¯æ‰“ç®—å­¦ä¹ pythonï¼Œé‚£ä¹ˆpandasï¼Œmatplotlibï¼Œnumpyè¿™ä¸‰ä¸ªåº“æœ€å¥½éƒ½å»å­¦ä¹ ä¸€ä¸‹ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ä½ åœ¨Pythonä¸–ç•Œä¸­ï¼Œå¤„ç†ã€åˆ†æå’Œå‘ˆç°<strong>æ•°æ®</strong>çš„<strong>åŸºç¡€èƒ½åŠ›ä¸‰è§’</strong>ã€‚æ— è®ºä½ æ˜¯è¿›è¡Œå­¦æœ¯ç ”ç©¶ã€å•†ä¸šåˆ†æã€ç½‘ç«™å¼€å‘ï¼Œè¿˜æ˜¯å­¦ä¹ äººå·¥æ™ºèƒ½ï¼Œå‡ ä¹æ‰€æœ‰çš„æ•°æ®ä»»åŠ¡éƒ½ç»•ä¸å¼€è¿™ä¸‰ä¸ªåº“ä»¥åŠå®ƒä»¬çš„è®¾è®¡æ€æƒ³ã€‚å®ƒä»¬æ„æˆäº†ä¸€ä¸ªä»æ•°æ®åˆ°è§è§£çš„å®Œæ•´å·¥ä½œæµï¼ŒæŒæ¡å¹¶ä¸”èƒ½ç†Ÿç»ƒä½¿ç”¨å®ƒä»¬ï¼Œä½ çš„Pythonå¯ä»¥è¯´æ˜¯çœŸæ­£çš„å…¥é—¨äº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android App å¯åŠ¨æµç¨‹ ç¬”è®°]]></title>    <link>https://juejin.cn/post/7602454700504170537</link>    <guid>https://juejin.cn/post/7602454700504170537</guid>    <pubDate>2026-02-04T01:08:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602454700504170537" data-draft-id="7602497125268242438" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android App å¯åŠ¨æµç¨‹  ç¬”è®°"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-04T01:08:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿ƒæºxinyuan"/> <meta itemprop="url" content="https://juejin.cn/user/4283353029151694"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android App å¯åŠ¨æµç¨‹  ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4283353029151694/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿ƒæºxinyuan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T01:08:33.000Z" title="Wed Feb 04 2026 01:08:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Android App å¯åŠ¨æµç¨‹è¯¦è§£</h2>
<p>Android åº”ç”¨å¯åŠ¨æ˜¯ä¸€ä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œæ¶‰åŠå¤šä¸ªç³»ç»Ÿå’Œåº”ç”¨ç»„ä»¶ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„å¯åŠ¨æµç¨‹åˆ†æï¼š</p>
<h3 data-id="heading-1">ä¸€ã€ç‚¹å‡»å›¾æ ‡åˆ°è¿›ç¨‹åˆ›å»º</h3>
<h4 data-id="heading-2"><strong>1. Launcher ç‚¹å‡»å¯åŠ¨</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Launcher æºç ç®€åŒ–æµç¨‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LauncherActivity</span> <span class="hljs-title">extends</span> <span class="hljs-title">Activity</span> {
    void onClick(AppIcon icon) {
        <span class="hljs-comment">// åˆ›å»ºå¯åŠ¨Intent</span>
        Intent intent = new Intent(Intent.ACTION_MAIN);
        intent.addCategory(Intent.CATEGORY_LAUNCHER);
        intent.setComponent(new ComponentName(packageName, activityName));
        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        
        <span class="hljs-comment">// é€šè¿‡ActivityManagerServiceå¯åŠ¨</span>
        ActivityManager.getService().startActivity(...);
    }
}
</code></pre>
<h4 data-id="heading-3"><strong>2. ç³»ç»ŸæœåŠ¡å¤„ç†æµç¨‹</strong></h4>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·ç‚¹å‡»å›¾æ ‡ 
    â†“
Launcherè¿›ç¨‹è°ƒç”¨<span class="hljs-built_in">startActivity</span>()
    â†“
é€šè¿‡Binder IPCè°ƒç”¨ActivityManagerService
    â†“
AMSæ£€æŸ¥æƒé™ã€è¿›ç¨‹çŠ¶æ€ç­‰
    â†“
å¦‚æœåº”ç”¨è¿›ç¨‹ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°è¿›ç¨‹
    â†“
é€šè¿‡Zygoteè¿›ç¨‹forkæ–°è¿›ç¨‹
    â†“
æ–°è¿›ç¨‹è°ƒç”¨ActivityThread<span class="hljs-selector-class">.main</span>()
</code></pre>
<h3 data-id="heading-4">äºŒã€Zygote è¿›ç¨‹åˆ›å»º</h3>
<h4 data-id="heading-5"><strong>1. Zygote æœºåˆ¶</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Zygoteè¿›ç¨‹åˆ›å»ºåº”ç”¨è¿›ç¨‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ZygoteProcess</span> {
    <span class="hljs-comment">// forkæ–°è¿›ç¨‹</span>
    Process.ProcessStartResult <span class="hljs-title function_">startViaZygote</span><span class="hljs-params">(...)</span> {
        <span class="hljs-comment">// å‡†å¤‡å‚æ•°</span>
        ArrayList&lt;String&gt; args = computeArgsForZygote(...);
        
        <span class="hljs-comment">// è°ƒç”¨Zygoteè¿›ç¨‹fork</span>
        <span class="hljs-keyword">return</span> zygoteSendArgsAndGetResult(openZygoteSocketIfNeeded(), args);
    }
}

<span class="hljs-comment">// ZygoteServerå¤„ç†forkè¯·æ±‚</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ZygoteServer</span> {
    Runnable <span class="hljs-title function_">forkAndSpecialize</span><span class="hljs-params">(...)</span> {
        <span class="hljs-comment">// forkå­è¿›ç¨‹</span>
        pid = Zygote.forkAndSpecialize(...);
        
        <span class="hljs-keyword">if</span> (pid == <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// å­è¿›ç¨‹ï¼šè®¾ç½®ç¯å¢ƒå¹¶è¿”å›</span>
            handleChildProc(parsedArgs, descriptors, childPipeFd);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// çˆ¶è¿›ç¨‹ï¼šç­‰å¾…å­è¿›ç¨‹</span>
            handleParentProc(pid, descriptors, serverPipeFd);
        }
    }
}
</code></pre>
<h4 data-id="heading-6"><strong>2. åº”ç”¨è¿›ç¨‹åˆ›å»ºåçš„åˆå§‹åŒ–</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åº”ç”¨è¿›ç¨‹å…¥å£ç‚¹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ActivityThread</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1. å‡†å¤‡ä¸»çº¿ç¨‹Looper</span>
        Looper.prepareMainLooper();
        
        <span class="hljs-comment">// 2. åˆ›å»ºActivityThreadå®ä¾‹</span>
        <span class="hljs-type">ActivityThread</span> <span class="hljs-variable">thread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ActivityThread</span>();
        
        <span class="hljs-comment">// 3. ç»‘å®šåˆ°AMS</span>
        thread.attach(<span class="hljs-literal">false</span>, startSeq);
        
        <span class="hljs-comment">// 4. è·å–ä¸»çº¿ç¨‹Handler</span>
        <span class="hljs-keyword">if</span> (sMainThreadHandler == <span class="hljs-literal">null</span>) {
            sMainThreadHandler = thread.getHandler();
        }
        
        <span class="hljs-comment">// 5. å¼€å§‹æ¶ˆæ¯å¾ªç¯</span>
        Looper.loop();
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">attach</span><span class="hljs-params">(<span class="hljs-type">boolean</span> system, <span class="hljs-type">long</span> startSeq)</span> {
        <span class="hljs-comment">// è·å–AMSä»£ç†</span>
        <span class="hljs-keyword">final</span> <span class="hljs-type">IActivityManager</span> <span class="hljs-variable">mgr</span> <span class="hljs-operator">=</span> ActivityManager.getService();
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ç»‘å®šåº”ç”¨è¿›ç¨‹åˆ°AMS</span>
            mgr.attachApplication(mAppThread, startSeq);
        } <span class="hljs-keyword">catch</span> (RemoteException ex) {
            <span class="hljs-keyword">throw</span> ex.rethrowFromSystemServer();
        }
    }
}
</code></pre>
<h3 data-id="heading-7">ä¸‰ã€Application åˆ›å»ºå’Œåˆå§‹åŒ–</h3>
<h4 data-id="heading-8"><strong>1. Application åˆ›å»ºæµç¨‹</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ActivityThread</span> {
    <span class="hljs-comment">// å¤„ç†ç»‘å®šåº”ç”¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleBindApplication</span><span class="hljs-params">(AppBindData data)</span> {
        <span class="hljs-comment">// 1. è®¾ç½®è¿›ç¨‹å</span>
        Process.setArgV0(data.processName);
        
        <span class="hljs-comment">// 2. åˆ›å»ºContextImpl</span>
        <span class="hljs-type">ContextImpl</span> <span class="hljs-variable">appContext</span> <span class="hljs-operator">=</span> ContextImpl.createAppContext(<span class="hljs-built_in">this</span>, data.info);
        
        <span class="hljs-comment">// 3. åˆ›å»ºInstrumentation</span>
        mInstrumentation = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Instrumentation</span>();
        
        <span class="hljs-comment">// 4. åˆ›å»ºApplication</span>
        <span class="hljs-type">Application</span> <span class="hljs-variable">app</span> <span class="hljs-operator">=</span> data.info.makeApplication(data.restrictedBackupMode, <span class="hljs-literal">null</span>);
        
        <span class="hljs-comment">// 5. è®¾ç½®Applicationçš„Context</span>
        app.setBaseContext(appContext);
        
        <span class="hljs-comment">// 6. è°ƒç”¨Application.onCreate()</span>
        mInstrumentation.callApplicationOnCreate(app);
    }
}

<span class="hljs-comment">// LoadedApkè´Ÿè´£åˆ›å»ºApplicationå®ä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoadedApk</span> {
    <span class="hljs-keyword">public</span> Application <span class="hljs-title function_">makeApplication</span><span class="hljs-params">(<span class="hljs-type">boolean</span> forceDefaultAppClass, 
                                      Instrumentation instrumentation)</span> {
        <span class="hljs-comment">// å¦‚æœApplicationå·²ç»å­˜åœ¨ï¼Œç›´æ¥è¿”å›</span>
        <span class="hljs-keyword">if</span> (mApplication != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> mApplication;
        }
        
        <span class="hljs-comment">// è·å–Applicationç±»å</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">appClass</span> <span class="hljs-operator">=</span> mApplicationInfo.className;
        <span class="hljs-keyword">if</span> (forceDefaultAppClass || appClass == <span class="hljs-literal">null</span>) {
            appClass = <span class="hljs-string">"android.app.Application"</span>;
        }
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 1. åˆ›å»ºClassLoader</span>
            <span class="hljs-type">ClassLoader</span> <span class="hljs-variable">cl</span> <span class="hljs-operator">=</span> getClassLoader();
            
            <span class="hljs-comment">// 2. åˆ›å»ºApplication Context</span>
            <span class="hljs-type">ContextImpl</span> <span class="hljs-variable">appContext</span> <span class="hljs-operator">=</span> ContextImpl.createAppContext(mActivityThread, <span class="hljs-built_in">this</span>);
            
            <span class="hljs-comment">// 3. å®ä¾‹åŒ–Application</span>
            <span class="hljs-type">Application</span> <span class="hljs-variable">app</span> <span class="hljs-operator">=</span> mActivityThread.mInstrumentation
                .newApplication(cl, appClass, appContext);
            
            <span class="hljs-comment">// 4. è®¾ç½®åˆ°Context</span>
            appContext.setOuterContext(app);
            
            <span class="hljs-comment">// 5. æ·»åŠ åˆ°ActivityThread</span>
            mActivityThread.mAllApplications.add(app);
            mApplication = app;
            
            <span class="hljs-keyword">return</span> app;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(...);
        }
    }
}
</code></pre>
<h4 data-id="heading-9"><strong>2. Application.onCreate() è°ƒç”¨æ—¶æœº</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Instrumentation è°ƒç”¨ Application.onCreate()</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Instrumentation</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">callApplicationOnCreate</span><span class="hljs-params">(Application app)</span> {
        <span class="hljs-comment">// è¿™å°±æ˜¯æˆ‘ä»¬é‡å†™çš„onCreate()è¢«è°ƒç”¨çš„åœ°æ–¹</span>
        app.onCreate();
    }
}
</code></pre>
<h3 data-id="heading-10">å››ã€Activity å¯åŠ¨æµç¨‹</h3>
<h4 data-id="heading-11"><strong>1. AMS è°ƒåº¦ Activity å¯åŠ¨</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ActivityManagerService è°ƒåº¦Activityå¯åŠ¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ActivityManagerService</span> {
    <span class="hljs-comment">// å¯åŠ¨Activityçš„æœ€ç»ˆå…¥å£</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-title function_">startActivity</span><span class="hljs-params">(...)</span> {
        <span class="hljs-keyword">return</span> startActivityAsUser(...);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">startActivityAsUser</span><span class="hljs-params">(...)</span> {
        <span class="hljs-comment">// 1. æƒé™æ£€æŸ¥</span>
        enforceNotIsolatedCaller(<span class="hljs-string">"startActivity"</span>);
        
        <span class="hljs-comment">// 2. è°ƒç”¨ActivityStarter</span>
        <span class="hljs-keyword">return</span> mActivityStartController.obtainStarter(...)
            .setCaller(caller)
            .setIntent(intent)
            .setResolvedType(resolvedType)
            .execute();
    }
}

<span class="hljs-comment">// ActivityStarter å®é™…æ‰§è¡Œå¯åŠ¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ActivityStarter</span> {
    <span class="hljs-type">int</span> <span class="hljs-title function_">execute</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// è§£æIntent</span>
            <span class="hljs-type">ResolveInfo</span> <span class="hljs-variable">rInfo</span> <span class="hljs-operator">=</span> mSupervisor.resolveIntent(...);
            
            <span class="hljs-comment">// æ”¶é›†ä¿¡æ¯</span>
            <span class="hljs-type">ActivityInfo</span> <span class="hljs-variable">aInfo</span> <span class="hljs-operator">=</span> mSupervisor.resolveActivity(...);
            
            <span class="hljs-comment">// å¯åŠ¨Activity</span>
            <span class="hljs-keyword">return</span> startActivityUnchecked(...);
        } <span class="hljs-keyword">finally</span> {
            <span class="hljs-comment">// æ¸…ç†</span>
            onExecutionComplete();
        }
    }
}
</code></pre>
<h4 data-id="heading-12"><strong>2. åº”ç”¨è¿›ç¨‹æ¥æ”¶å¯åŠ¨è¯·æ±‚</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ActivityThread</span> {
    <span class="hljs-comment">// å¤„ç†å¯åŠ¨Activityçš„è¯·æ±‚</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">H</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Handler</span> {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleMessage</span><span class="hljs-params">(Message msg)</span> {
            <span class="hljs-keyword">switch</span> (msg.what) {
                <span class="hljs-keyword">case</span> LAUNCH_ACTIVITY:
                    handleLaunchActivity((ActivityClientRecord) msg.obj, <span class="hljs-string">"LAUNCH_ACTIVITY"</span>);
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> RESUME_ACTIVITY:
                    handleResumeActivity(...);
                    <span class="hljs-keyword">break</span>;
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleLaunchActivity</span><span class="hljs-params">(ActivityClientRecord r, String reason)</span> {
        <span class="hljs-comment">// 1. åˆ›å»ºActivity</span>
        <span class="hljs-type">Activity</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> performLaunchActivity(r, <span class="hljs-literal">null</span>);
        
        <span class="hljs-keyword">if</span> (a != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// 2. è°ƒç”¨onStart(), onResume()</span>
            handleResumeActivity(r.token, <span class="hljs-literal">false</span>, r.isForward, reason);
        }
    }
}
</code></pre>
<h4 data-id="heading-13"><strong>3. Activity å®ä¾‹åˆ›å»ºå’Œç”Ÿå‘½å‘¨æœŸ</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ActivityThread</span> {
    <span class="hljs-keyword">private</span> Activity <span class="hljs-title function_">performLaunchActivity</span><span class="hljs-params">(ActivityClientRecord r, Intent customIntent)</span> {
        <span class="hljs-comment">// 1. è·å–ActivityInfo</span>
        <span class="hljs-type">ActivityInfo</span> <span class="hljs-variable">aInfo</span> <span class="hljs-operator">=</span> r.activityInfo;
        
        <span class="hljs-comment">// 2. åˆ›å»ºContext</span>
        <span class="hljs-type">ContextImpl</span> <span class="hljs-variable">appContext</span> <span class="hljs-operator">=</span> createBaseContextForActivity(r);
        
        <span class="hljs-comment">// 3. åˆ›å»ºActivityå®ä¾‹</span>
        <span class="hljs-type">Activity</span> <span class="hljs-variable">activity</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            java.lang.<span class="hljs-type">ClassLoader</span> <span class="hljs-variable">cl</span> <span class="hljs-operator">=</span> appContext.getClassLoader();
            activity = mInstrumentation.newActivity(
                cl, component.getClassName(), r.intent);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// å¤„ç†å¼‚å¸¸</span>
        }
        
        <span class="hljs-comment">// 4. åˆ›å»ºApplicationï¼ˆå¦‚æœè¿˜æ²¡åˆ›å»ºï¼‰</span>
        <span class="hljs-type">Application</span> <span class="hljs-variable">app</span> <span class="hljs-operator">=</span> r.packageInfo.makeApplication(<span class="hljs-literal">false</span>, mInstrumentation);
        
        <span class="hljs-comment">// 5. è°ƒç”¨Activity.attach()</span>
        activity.attach(appContext, <span class="hljs-built_in">this</span>, getInstrumentation(), r.token,
            r.ident, app, r.intent, r.activityInfo, ...);
        
        <span class="hljs-comment">// 6. è®¾ç½®ä¸»é¢˜</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">theme</span> <span class="hljs-operator">=</span> r.activityInfo.getThemeResource();
        <span class="hljs-keyword">if</span> (theme != <span class="hljs-number">0</span>) {
            activity.setTheme(theme);
        }
        
        <span class="hljs-comment">// 7. è°ƒç”¨Activity.onCreate()</span>
        <span class="hljs-keyword">if</span> (r.isPersistable()) {
            mInstrumentation.callActivityOnCreate(activity, r.state, r.persistentState);
        } <span class="hljs-keyword">else</span> {
            mInstrumentation.callActivityOnCreate(activity, r.state);
        }
        
        <span class="hljs-keyword">return</span> activity;
    }
}

<span class="hljs-comment">// Instrumentation è°ƒç”¨ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Instrumentation</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">callActivityOnCreate</span><span class="hljs-params">(Activity activity, Bundle icicle)</span> {
        <span class="hljs-comment">// é¢„åˆ›å»º</span>
        prePerformCreate(activity);
        
        <span class="hljs-comment">// è°ƒç”¨Activity.onCreate()</span>
        activity.performCreate(icicle);
        
        <span class="hljs-comment">// ååˆ›å»º</span>
        postPerformCreate(activity);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">callActivityOnStart</span><span class="hljs-params">(Activity activity)</span> {
        activity.performStart();
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">callActivityOnResume</span><span class="hljs-params">(Activity activity)</span> {
        activity.performResume();
    }
}
</code></pre>
<h3 data-id="heading-14">äº”ã€ç•Œé¢æ¸²æŸ“æµç¨‹</h3>
<h4 data-id="heading-15"><strong>1. Window å’Œ View åˆ›å»º</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Activity.attach() ä¸­åˆ›å»ºWindow</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">attach</span><span class="hljs-params">(Context context, ...)</span> {
    <span class="hljs-comment">// 1. åˆ›å»ºWindow</span>
    mWindow = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PhoneWindow</span>(<span class="hljs-built_in">this</span>, window, activityConfigCallback);
    
    <span class="hljs-comment">// 2. è®¾ç½®WindowManager</span>
    mWindow.setWindowManager(
        (WindowManager)context.getSystemService(Context.WINDOW_SERVICE),
        mToken, mComponent.flattenToString(),
        (info.flags &amp; ActivityInfo.FLAG_HARDWARE_ACCELERATED) != <span class="hljs-number">0</span>);
    
    <span class="hljs-comment">// 3. è·å–WindowManager</span>
    mWindowManager = mWindow.getWindowManager();
}

<span class="hljs-comment">// Activity.onCreate() ä¸­è®¾ç½®ContentView</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
    <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
    
    <span class="hljs-comment">// 1. åˆ›å»ºDecorView</span>
    mWindow.getDecorView();
    
    <span class="hljs-comment">// 2. è®¾ç½®å†…å®¹è§†å›¾</span>
    setContentView(R.layout.activity_main);
    
    <span class="hljs-comment">// 3. åˆå§‹åŒ–View</span>
    initViews();
}

<span class="hljs-comment">// setContentView() å®ç°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setContentView</span><span class="hljs-params">(<span class="hljs-meta">@LayoutRes</span> <span class="hljs-type">int</span> layoutResID)</span> {
    <span class="hljs-comment">// 1. è·å–Window</span>
    getWindow().setContentView(layoutResID);
    
    <span class="hljs-comment">// 2. åˆå§‹åŒ–ActionBar</span>
    initWindowDecorActionBar();
}

<span class="hljs-comment">// PhoneWindow.setContentView()</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setContentView</span><span class="hljs-params">(<span class="hljs-type">int</span> layoutResID)</span> {
    <span class="hljs-comment">// 1. å¦‚æœDecorViewä¸å­˜åœ¨ï¼Œåˆ›å»ºå®ƒ</span>
    <span class="hljs-keyword">if</span> (mContentParent == <span class="hljs-literal">null</span>) {
        installDecor();
    }
    
    <span class="hljs-comment">// 2. åŠ è½½å¸ƒå±€</span>
    mLayoutInflater.inflate(layoutResID, mContentParent);
}
</code></pre>
<h4 data-id="heading-16"><strong>2. ViewRootImpl å’Œç•Œé¢æ¸²æŸ“</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ActivityThread.handleResumeActivity()</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleResumeActivity</span><span class="hljs-params">(IBinder token, ...)</span> {
    <span class="hljs-comment">// 1. è°ƒç”¨Activity.onResume()</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">Activity</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> r.activity;
    a.performResume();
    
    <span class="hljs-comment">// 2. è·å–DecorView</span>
    <span class="hljs-type">View</span> <span class="hljs-variable">decor</span> <span class="hljs-operator">=</span> r.window.getDecorView();
    
    <span class="hljs-comment">// 3. è®¾ç½®DecorViewä¸ºä¸å¯è§</span>
    decor.setVisibility(View.INVISIBLE);
    
    <span class="hljs-comment">// 4. è·å–ViewManagerï¼ˆWindowManagerï¼‰</span>
    <span class="hljs-type">ViewManager</span> <span class="hljs-variable">wm</span> <span class="hljs-operator">=</span> a.getWindowManager();
    
    <span class="hljs-comment">// 5. æ·»åŠ DecorViewåˆ°Window</span>
    wm.addView(decor, l);
    
    <span class="hljs-comment">// 6. è®¾ç½®DecorViewä¸ºå¯è§</span>
    decor.setVisibility(View.VISIBLE);
    
    <span class="hljs-comment">// 7. ç„¦ç‚¹å¤„ç†</span>
    a.makeVisible();
}

<span class="hljs-comment">// WindowManagerImpl.addView()</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addView</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> View view, <span class="hljs-meta">@NonNull</span> ViewGroup.LayoutParams params)</span> {
    <span class="hljs-comment">// åˆ›å»ºViewRootImpl</span>
    <span class="hljs-type">ViewRootImpl</span> <span class="hljs-variable">root</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ViewRootImpl</span>(view.getContext(), display);
    
    <span class="hljs-comment">// è®¾ç½®View</span>
    view.setLayoutParams(wparams);
    
    <span class="hljs-comment">// æ·»åŠ åˆ°åˆ—è¡¨</span>
    mViews.add(view);
    mRoots.add(root);
    mParams.add(wparams);
    
    <span class="hljs-comment">// è®¾ç½®ViewRootImpl</span>
    root.setView(view, wparams, panelParentView);
}
</code></pre>
<h4 data-id="heading-17"><strong>3. ç•Œé¢ç»˜åˆ¶æµç¨‹</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ViewRootImpl.setView()</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setView</span><span class="hljs-params">(View view, WindowManager.LayoutParams attrs, View panelParentView)</span> {
    <span class="hljs-keyword">synchronized</span> (<span class="hljs-built_in">this</span>) {
        <span class="hljs-keyword">if</span> (mView == <span class="hljs-literal">null</span>) {
            mView = view;
            
            <span class="hljs-comment">// 1. è¯·æ±‚å¸ƒå±€</span>
            requestLayout();
            
            <span class="hljs-comment">// 2. åˆ›å»ºInputChannel</span>
            mInputChannel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">InputChannel</span>();
            
            <span class="hljs-comment">// 3. æ·»åŠ åˆ°WindowManagerService</span>
            res = mWindowSession.addToDisplay(...);
            
            <span class="hljs-comment">// 4. è®¾ç½®Inputäº‹ä»¶æ¥æ”¶</span>
            <span class="hljs-keyword">if</span> (mInputChannel != <span class="hljs-literal">null</span>) {
                mInputEventReceiver = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowInputEventReceiver</span>(...);
            }
        }
    }
}

<span class="hljs-comment">// ViewRootImpl.requestLayout()</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">requestLayout</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (!mHandlingLayoutInLayoutRequest) {
        <span class="hljs-comment">// æ£€æŸ¥çº¿ç¨‹</span>
        checkThread();
        
        <span class="hljs-comment">// æ ‡è®°éœ€è¦å¸ƒå±€</span>
        mLayoutRequested = <span class="hljs-literal">true</span>;
        
        <span class="hljs-comment">// å®‰æ’éå†</span>
        scheduleTraversals();
    }
}

<span class="hljs-comment">// ViewRootImpl.scheduleTraversals()</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">scheduleTraversals</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (!mTraversalScheduled) {
        mTraversalScheduled = <span class="hljs-literal">true</span>;
        
        <span class="hljs-comment">// 1. æ·»åŠ åŒæ­¥å±éšœ</span>
        mTraversalBarrier = mHandler.getLooper().getQueue().postSyncBarrier();
        
        <span class="hljs-comment">// 2. å®‰æ’Choreographerå›è°ƒ</span>
        mChoreographer.postCallback(
            Choreographer.CALLBACK_TRAVERSAL,
            mTraversalRunnable,
            <span class="hljs-literal">null</span>);
        
        <span class="hljs-comment">// 3. å¦‚æœéœ€è¦ï¼Œå‘é€å”¤é†’æ¶ˆæ¯</span>
        notifyRendererOfFramePending();
    }
}

<span class="hljs-comment">// éå†æ‰§è¡Œçš„Runnable</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TraversalRunnable</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Runnable</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
        doTraversal();
    }
}

<span class="hljs-comment">// æ‰§è¡Œéå†</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">doTraversal</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (mTraversalScheduled) {
        mTraversalScheduled = <span class="hljs-literal">false</span>;
        
        <span class="hljs-comment">// ç§»é™¤åŒæ­¥å±éšœ</span>
        mHandler.getLooper().getQueue().removeSyncBarrier(mTraversalBarrier);
        
        <span class="hljs-comment">// æ‰§è¡Œéå†</span>
        performTraversals();
    }
}
</code></pre>
<h4 data-id="heading-18"><strong>4. performTraversals() - æ ¸å¿ƒç»˜åˆ¶æµç¨‹</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performTraversals</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ä¸´æ—¶å˜é‡</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">View</span> <span class="hljs-variable">host</span> <span class="hljs-operator">=</span> mView;
    
    <span class="hljs-comment">// 1. æµ‹é‡é˜¶æ®µ</span>
    <span class="hljs-keyword">if</span> (mFirst || windowShouldResize || ...) {
        <span class="hljs-comment">// æ‰§è¡Œæµ‹é‡</span>
        performMeasure(childWidthMeasureSpec, childHeightMeasureSpec);
    }
    
    <span class="hljs-comment">// 2. å¸ƒå±€é˜¶æ®µ</span>
    <span class="hljs-keyword">if</span> (didLayout) {
        <span class="hljs-comment">// æ‰§è¡Œå¸ƒå±€</span>
        performLayout(lp, mWidth, mHeight);
    }
    
    <span class="hljs-comment">// 3. ç»˜åˆ¶é˜¶æ®µ</span>
    <span class="hljs-keyword">if</span> (!cancelDraw &amp;&amp; !newSurface) {
        <span class="hljs-keyword">if</span> (mPendingTransitions != <span class="hljs-literal">null</span> &amp;&amp; mPendingTransitions.size() &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// å¤„ç†è½¬åœºåŠ¨ç”»</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; mPendingTransitions.size(); ++i) {
                mPendingTransitions.get(i).startChangingAnimations();
            }
            mPendingTransitions.clear();
        }
        
        <span class="hljs-comment">// æ‰§è¡Œç»˜åˆ¶</span>
        performDraw();
    }
}

<span class="hljs-comment">// ä¸‰ä¸ªæ ¸å¿ƒé˜¶æ®µ</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performMeasure</span><span class="hljs-params">(<span class="hljs-type">int</span> widthMeasureSpec, <span class="hljs-type">int</span> heightMeasureSpec)</span> {
    <span class="hljs-comment">// è°ƒç”¨View.measure()</span>
    mView.measure(widthMeasureSpec, heightMeasureSpec);
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performLayout</span><span class="hljs-params">(WindowManager.LayoutParams lp, 
                          <span class="hljs-type">int</span> desiredWindowWidth, <span class="hljs-type">int</span> desiredWindowHeight)</span> {
    <span class="hljs-comment">// è°ƒç”¨View.layout()</span>
    mView.layout(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, mView.getMeasuredWidth(), mView.getMeasuredHeight());
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performDraw</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">if</span> (!dirty.isEmpty() || mIsAnimating) {
        <span class="hljs-comment">// ç¡¬ä»¶åŠ é€Ÿç»˜åˆ¶</span>
        <span class="hljs-keyword">if</span> (mAttachInfo.mHardwareRenderer != <span class="hljs-literal">null</span> &amp;&amp; mAttachInfo.mHardwareRenderer.isEnabled()) {
            <span class="hljs-comment">// ç¡¬ä»¶æ¸²æŸ“</span>
            mAttachInfo.mHardwareRenderer.draw(mView, mAttachInfo, <span class="hljs-built_in">this</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// è½¯ä»¶ç»˜åˆ¶</span>
            <span class="hljs-keyword">if</span> (!drawSoftware(surface, mAttachInfo, xOffset, yOffset, 
                            scalingRequired, dirty)) {
                <span class="hljs-keyword">return</span>;
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-19">å…­ã€å†·å¯åŠ¨ã€æ¸©å¯åŠ¨ã€çƒ­å¯åŠ¨</h3>
<h4 data-id="heading-20"><strong>1. å¯åŠ¨ç±»å‹å¯¹æ¯”</strong></h4>

































<table><thead><tr><th>ç±»å‹</th><th>è¿›ç¨‹çŠ¶æ€</th><th>å¯åŠ¨é€Ÿåº¦</th><th>æ¶ˆè€—èµ„æº</th><th>æ‰§è¡Œæµç¨‹</th></tr></thead><tbody><tr><td><strong>å†·å¯åŠ¨</strong></td><td>è¿›ç¨‹ä¸å­˜åœ¨</td><td>æ…¢</td><td>é«˜</td><td>åˆ›å»ºè¿›ç¨‹ â†’ åˆ›å»ºApplication â†’ åˆ›å»ºActivity</td></tr><tr><td><strong>æ¸©å¯åŠ¨</strong></td><td>è¿›ç¨‹å­˜åœ¨ï¼ŒActivityè¢«é”€æ¯</td><td>ä¸­ç­‰</td><td>ä¸­ç­‰</td><td>åˆ›å»ºActivityï¼ˆApplicationå·²å­˜åœ¨ï¼‰</td></tr><tr><td><strong>çƒ­å¯åŠ¨</strong></td><td>Activityåœ¨åå°</td><td>å¿«</td><td>ä½</td><td>æ¢å¤Activityï¼ˆonRestart â†’ onStart â†’ onResumeï¼‰</td></tr></tbody></table>
<h4 data-id="heading-21"><strong>2. å†·å¯åŠ¨è¯¦ç»†æ—¶é—´çº¿</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å†·å¯åŠ¨æ—¶é—´åˆ†å¸ƒ</span>
T0: ç‚¹å‡»å›¾æ ‡
    â†“
T1: è¿›ç¨‹åˆ›å»ºå®Œæˆï¼ˆfork + åˆå§‹åŒ–ï¼‰
    â”‚   â”œâ”€â”€ Zygote fork: ~50ms
    â”‚   â”œâ”€â”€ åŠ è½½ART: ~100ms
    â”‚   â””â”€â”€ åˆå§‹åŒ–Runtime: ~50ms
    â†“
T2: Application.onCreate()å®Œæˆ
    â”‚   â”œâ”€â”€ åˆ›å»ºApplication: ~20ms
    â”‚   â”œâ”€â”€ ContentProvideråˆå§‹åŒ–: ~50ms
    â”‚   â””â”€â”€ ç¬¬ä¸‰æ–¹åº“åˆå§‹åŒ–: ~100ms
    â†“
T3: Activity.onCreate()å®Œæˆ
    â”‚   â”œâ”€â”€ åŠ è½½ä¸»é¢˜: ~30ms
    â”‚   â”œâ”€â”€ å¸ƒå±€inflate: ~80ms
    â”‚   â””â”€â”€ Viewåˆå§‹åŒ–: ~50ms
    â†“
T4: ç¬¬ä¸€å¸§ç»˜åˆ¶å®Œæˆ
    â”‚   â”œâ”€â”€ æµ‹é‡/å¸ƒå±€: ~30ms
    â”‚   â”œâ”€â”€ ç»˜åˆ¶: ~50ms
    â”‚   â””â”€â”€ åŒæ­¥åˆ°å±å¹•: ~16ms
    â†“
T5: ç”¨æˆ·å¯äº¤äº’
</code></pre>
<h3 data-id="heading-22">ä¸ƒã€å¯åŠ¨ä¼˜åŒ–ç­–ç•¥</h3>
<h4 data-id="heading-23"><strong>1. Application ä¼˜åŒ–</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApplication</span> : <span class="hljs-type">Application</span>() {
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCreate()
        
        <span class="hljs-comment">// âœ… 1. å»¶è¿Ÿåˆå§‹åŒ–</span>
        initDelayedComponents()
        
        <span class="hljs-comment">// âœ… 2. åå°çº¿ç¨‹åˆå§‹åŒ–</span>
        initInBackground()
        
        <span class="hljs-comment">// âœ… 3. æŒ‰éœ€åˆå§‹åŒ–</span>
        initOnDemand()
        
        <span class="hljs-comment">// âŒ é¿å…åœ¨ä¸»çº¿ç¨‹åšè¿™äº›ï¼š</span>
        <span class="hljs-comment">// - æ–‡ä»¶IOæ“ä½œ</span>
        <span class="hljs-comment">// - ç½‘ç»œè¯·æ±‚</span>
        <span class="hljs-comment">// - å¤§é‡æ•°æ®åº“æŸ¥è¯¢</span>
        <span class="hljs-comment">// - å¤æ‚çš„è®¡ç®—</span>
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">initDelayedComponents</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// ä½¿ç”¨Lifecycleè§‚å¯Ÿè€…å»¶è¿Ÿåˆå§‹åŒ–</span>
        ProcessLifecycleOwner.<span class="hljs-keyword">get</span>().lifecycle.addObserver(<span class="hljs-keyword">object</span> : LifecycleObserver {
            <span class="hljs-meta">@OnLifecycleEvent(Lifecycle.Event.ON_CREATE)</span>
            <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
                <span class="hljs-comment">// å»¶è¿Ÿåˆå§‹åŒ–</span>
            }
        })
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">initInBackground</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// ä½¿ç”¨WorkManageræˆ–Coroutineåœ¨åå°åˆå§‹åŒ–</span>
        CoroutineScope(Dispatchers.IO).launch {
            <span class="hljs-comment">// åˆå§‹åŒ–ç¬¬ä¸‰æ–¹åº“ç­‰</span>
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">initOnDemand</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// æ‡’åŠ è½½æ¨¡å¼</span>
        <span class="hljs-keyword">val</span> heavyLibrary <span class="hljs-keyword">by</span> lazy {
            <span class="hljs-comment">// ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶æ‰åˆå§‹åŒ–</span>
            HeavyLibrary()
        }
    }
}
</code></pre>
<h4 data-id="heading-24"><strong>2. Activity ä¼˜åŒ–</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-comment">// âœ… 1. åœ¨super.onCreateå‰è®¾ç½®ä¸»é¢˜</span>
        setTheme(R.style.AppTheme_Launcher)
        
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        
        <span class="hljs-comment">// âœ… 2. å¼‚æ­¥åŠ è½½æ•°æ®</span>
        loadDataAsync()
        
        <span class="hljs-comment">// âœ… 3. å»¶è¿ŸåŠ è½½View</span>
        setContentView(R.layout.activity_main)
        
        <span class="hljs-comment">// âœ… 4. åˆ†æ‰¹åˆå§‹åŒ–View</span>
        initEssentialViews()
        postDelayed({ initSecondaryViews() }, <span class="hljs-number">300</span>)
        
        <span class="hljs-comment">// âœ… 5. ä½¿ç”¨ViewStubå»¶è¿ŸåŠ è½½å¤æ‚å¸ƒå±€</span>
        findViewById&lt;ViewStub&gt;(R.id.stub_complex_layout).apply {
            setOnInflateListener { stub, inflated -&gt;
                <span class="hljs-comment">// å¸ƒå±€è¢«inflateæ—¶åˆå§‹åŒ–</span>
                initComplexViews(inflated)
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadDataAsync</span><span class="hljs-params">()</span></span> {
        viewModelScope.launch(Dispatchers.IO) {
            <span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span> = repository.loadData()
            withContext(Dispatchers.Main) {
                <span class="hljs-comment">// æ›´æ–°UI</span>
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">initEssentialViews</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// åªåˆå§‹åŒ–å¿…è¦çš„View</span>
        toolbar = findViewById(R.id.toolbar)
        recyclerView = findViewById(R.id.recycler_view)
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">initSecondaryViews</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// å»¶è¿Ÿåˆå§‹åŒ–æ¬¡è¦View</span>
        fab = findViewById(R.id.fab)
        bottomNavigation = findViewById(R.id.bottom_nav)
    }
}
</code></pre>
<h4 data-id="heading-25"><strong>3. å¸ƒå±€ä¼˜åŒ–</strong></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- ä½¿ç”¨ConstraintLayoutå‡å°‘å±‚çº§ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">androidx.constraintlayout.widget.ConstraintLayout</span>
    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- é¿å…åµŒå¥—LinearLayout --&gt;</span>
    
    <span class="hljs-comment">&lt;!-- ä½¿ç”¨mergeæ ‡ç­¾å‡å°‘å±‚çº§ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">merge</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å­å¸ƒå±€å†…å®¹ --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">merge</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- ä½¿ç”¨ViewStubå»¶è¿ŸåŠ è½½ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ViewStub</span>
        <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/stub_heavy_view"</span>
        <span class="hljs-attr">android:layout</span>=<span class="hljs-string">"@layout/heavy_layout"</span>
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span>
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span>/&gt;</span>
        
<span class="hljs-tag">&lt;/<span class="hljs-name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span>
</code></pre>
<h4 data-id="heading-26"><strong>4. å¯åŠ¨å™¨æ¨¡å¼</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å¯åŠ¨ä»»åŠ¡ç®¡ç†å™¨</span>
<span class="hljs-keyword">object</span> AppStartupManager {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> tasks = mutableListOf&lt;StartupTask&gt;()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> executor = Executors.newFixedThreadPool(<span class="hljs-number">4</span>)
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addTask</span><span class="hljs-params">(task: <span class="hljs-type">StartupTask</span>)</span></span> {
        tasks.add(task)
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">start</span><span class="hljs-params">(onComplete: () -&gt; <span class="hljs-type">Unit</span>)</span></span> {
        <span class="hljs-comment">// 1. ç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ï¼ˆåœ¨ä¸»çº¿ç¨‹ï¼‰</span>
        <span class="hljs-keyword">val</span> immediateTasks = tasks.filter { it.priority == Priority.IMMEDIATE }
        immediateTasks.forEach { it.execute() }
        
        <span class="hljs-comment">// 2. åå°æ‰§è¡Œçš„ä»»åŠ¡</span>
        <span class="hljs-keyword">val</span> backgroundTasks = tasks.filter { it.priority == Priority.BACKGROUND }
        backgroundTasks.forEach { task -&gt;
            executor.submit {
                task.execute()
            }
        }
        
        <span class="hljs-comment">// 3. å»¶è¿Ÿæ‰§è¡Œçš„ä»»åŠ¡</span>
        <span class="hljs-keyword">val</span> delayedTasks = tasks.filter { it.priority == Priority.DELAYED }
        Handler(Looper.getMainLooper()).postDelayed({
            delayedTasks.forEach { it.execute() }
            onComplete()
        }, <span class="hljs-number">1000</span>)
    }
}

<span class="hljs-comment">// å¯åŠ¨ä»»åŠ¡å®šä¹‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">StartupTask</span> {
    <span class="hljs-keyword">val</span> priority: Priority
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span></span>
}

<span class="hljs-keyword">enum</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Priority</span> {
    IMMEDIATE,    <span class="hljs-comment">// ç«‹å³æ‰§è¡Œï¼ˆä¸»çº¿ç¨‹ï¼‰</span>
    BACKGROUND,   <span class="hljs-comment">// åå°æ‰§è¡Œ</span>
    DELAYED       <span class="hljs-comment">// å»¶è¿Ÿæ‰§è¡Œ</span>
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApplication</span> : <span class="hljs-type">Application</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCreate()
        
        AppStartupManager.apply {
            addTask(<span class="hljs-keyword">object</span> : StartupTask {
                <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> priority = Priority.IMMEDIATE
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span></span> {
                    <span class="hljs-comment">// åˆå§‹åŒ–Analytics</span>
                }
            })
            
            addTask(<span class="hljs-keyword">object</span> : StartupTask {
                <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> priority = Priority.BACKGROUND
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span></span> {
                    <span class="hljs-comment">// åˆå§‹åŒ–æ•°æ®åº“</span>
                }
            })
            
            addTask(<span class="hljs-keyword">object</span> : StartupTask {
                <span class="hljs-keyword">override</span> <span class="hljs-keyword">val</span> priority = Priority.DELAYED
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span></span> {
                    <span class="hljs-comment">// é¢„åŠ è½½æ•°æ®</span>
                }
            })
        }
        
        <span class="hljs-comment">// å¯åŠ¨æ‰€æœ‰ä»»åŠ¡</span>
        AppStartupManager.start {
            <span class="hljs-comment">// æ‰€æœ‰ä»»åŠ¡å®Œæˆåçš„å›è°ƒ</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-27"><strong>5. ä½¿ç”¨ Jetpack Startup åº“</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ·»åŠ ä¾èµ–</span>
dependencies {
    implementation <span class="hljs-string">"androidx.startup:startup-runtime:1.1.1"</span>
}

<span class="hljs-comment">// å®šä¹‰åˆå§‹åŒ–å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AnalyticsInitializer</span> : <span class="hljs-type">Initializer</span>&lt;<span class="hljs-type">Analytics</span>&gt; {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">create</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span>: Analytics {
        <span class="hljs-comment">// åˆå§‹åŒ–Analytics SDK</span>
        <span class="hljs-keyword">return</span> Analytics.<span class="hljs-keyword">init</span>(context)
    }
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">dependencies</span><span class="hljs-params">()</span></span>: List&lt;Class&lt;<span class="hljs-keyword">out</span> Initializer&lt;*&gt;&gt;&gt; {
        <span class="hljs-comment">// ä¾èµ–å…¶ä»–åˆå§‹åŒ–å™¨</span>
        <span class="hljs-keyword">return</span> listOf(DatabaseInitializer::<span class="hljs-keyword">class</span>.java)
    }
}

<span class="hljs-comment">// è‡ªåŠ¨åˆå§‹åŒ–é…ç½®</span>
&lt;provider
    android:name=<span class="hljs-string">"androidx.startup.InitializationProvider"</span>
    android:authorities=<span class="hljs-string">"<span class="hljs-subst">${applicationId}</span>.androidx-startup"</span>
    android:exported=<span class="hljs-string">"false"</span>
    tools:node=<span class="hljs-string">"merge"</span>&gt;
    
    &lt;meta-<span class="hljs-keyword">data</span>
        android:name=<span class="hljs-string">"com.example.AnalyticsInitializer"</span>
        android:value=<span class="hljs-string">"androidx.startup"</span> /&gt;
        
&lt;/provider&gt;

<span class="hljs-comment">// æ‰‹åŠ¨åˆå§‹åŒ–ï¼ˆæŒ‰éœ€ï¼‰</span>
AppInitializer.getInstance(context)
    .initializeComponent(AnalyticsInitializer::<span class="hljs-keyword">class</span>.java)
</code></pre>
<h3 data-id="heading-28">å…«ã€å¯åŠ¨æ—¶é—´æµ‹é‡</h3>
<h4 data-id="heading-29"><strong>1. ä½¿ç”¨ ADB æµ‹é‡</strong></h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æµ‹é‡å†·å¯åŠ¨æ—¶é—´</span>
adb shell am start-activity -W -n com.example/.MainActivity

<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment"># Starting: Intent { cmp=com.example/.MainActivity }</span>
<span class="hljs-comment"># Status: ok</span>
<span class="hljs-comment"># Activity: com.example/.MainActivity</span>
<span class="hljs-comment"># ThisTime: 1000  # å½“å‰Activityå¯åŠ¨è€—æ—¶</span>
<span class="hljs-comment"># TotalTime: 1000 # åº”ç”¨å¯åŠ¨æ€»è€—æ—¶ï¼ˆåŒ…æ‹¬å‰ä¸€ä¸ªActivity pauseæ—¶é—´ï¼‰</span>
<span class="hljs-comment"># WaitTime: 1000  # AMSå¯åŠ¨Activityçš„æ€»è€—æ—¶</span>
<span class="hljs-comment"># Complete</span>

<span class="hljs-comment"># æµ‹é‡å®Œå…¨å¯åŠ¨æ—¶é—´ï¼ˆç›´åˆ°ç”¨æˆ·å¯äº¤äº’ï¼‰</span>
adb shell am start-activity -S -R 10 -W com.example/.MainActivity

<span class="hljs-comment"># ä½¿ç”¨systraceåˆ†æå¯åŠ¨æ€§èƒ½</span>
python systrace.py -a com.example -o mytrace.html <span class="hljs-built_in">sched</span> gfx view wm am
</code></pre>
<h4 data-id="heading-30"><strong>2. ä»£ç ä¸­æµ‹é‡</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApplication</span> : <span class="hljs-type">Application</span>() {
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCreate()
        
        <span class="hljs-comment">// 1. ä½¿ç”¨Firebase Performance Monitoring</span>
        FirebasePerformance.getInstance()
            .newTrace(<span class="hljs-string">"app_start_trace"</span>)
            .start()
        
        <span class="hljs-comment">// 2. è‡ªå®šä¹‰æµ‹é‡</span>
        <span class="hljs-keyword">val</span> startTime = System.currentTimeMillis()
        
        <span class="hljs-comment">// ... åˆå§‹åŒ–ä»£ç </span>
        
        <span class="hljs-keyword">val</span> endTime = System.currentTimeMillis()
        <span class="hljs-keyword">val</span> duration = endTime - startTime
        
        <span class="hljs-comment">// è®°å½•åˆ°Analytics</span>
        FirebaseAnalytics.getInstance(<span class="hljs-keyword">this</span>).logEvent(<span class="hljs-string">"app_start_duration"</span>, bundleOf(
            <span class="hljs-string">"duration_ms"</span> to duration
        ))
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-comment">// æµ‹é‡Activityåˆ›å»ºæ—¶é—´</span>
        <span class="hljs-keyword">val</span> activityStartTime = System.currentTimeMillis()
        
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        
        <span class="hljs-comment">// ç­‰å¾…ç¬¬ä¸€å¸§ç»˜åˆ¶</span>
        window.decorView.post {
            <span class="hljs-keyword">val</span> activityEndTime = System.currentTimeMillis()
            <span class="hljs-keyword">val</span> activityDuration = activityEndTime - activityStartTime
            
            <span class="hljs-comment">// è®°å½•Activityå¯åŠ¨æ—¶é—´</span>
            logDuration(<span class="hljs-string">"activity_create"</span>, activityDuration)
        }
    }
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onWindowFocusChanged</span><span class="hljs-params">(hasFocus: <span class="hljs-type">Boolean</span>)</span></span> {
        <span class="hljs-keyword">super</span>.onWindowFocusChanged(hasFocus)
        
        <span class="hljs-keyword">if</span> (hasFocus) {
            <span class="hljs-comment">// æ­¤æ—¶ç”¨æˆ·å¯ä»¥ä¸ç•Œé¢äº¤äº’</span>
            <span class="hljs-keyword">val</span> appStartTime = getSharedPreferences(<span class="hljs-string">"app_start"</span>, MODE_PRIVATE)
                .getLong(<span class="hljs-string">"start_time"</span>, <span class="hljs-number">0</span>)
            
            <span class="hljs-keyword">if</span> (appStartTime &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">val</span> totalDuration = System.currentTimeMillis() - appStartTime
                logDuration(<span class="hljs-string">"app_start_total"</span>, totalDuration)
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-31">ä¹ã€å¯åŠ¨ç™½å±/é»‘å±é—®é¢˜</h3>
<h4 data-id="heading-32"><strong>1. å¯åŠ¨ä¸»é¢˜ä¼˜åŒ–</strong></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- styles.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"AppTheme"</span> <span class="hljs-attr">parent</span>=<span class="hljs-string">"Theme.MaterialComponents.DayNight.NoActionBar"</span>&gt;</span><span class="xml">
    <span class="hljs-comment">&lt;!-- æ­£å¸¸ä¸»é¢˜ --&gt;</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"AppTheme.Launcher"</span> <span class="hljs-attr">parent</span>=<span class="hljs-string">"AppTheme"</span>&gt;</span><span class="xml">
    <span class="hljs-comment">&lt;!-- å¯åŠ¨ä¸»é¢˜ï¼Œé¿å…ç™½å± --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:windowBackground"</span>&gt;</span>@drawable/launch_screen<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:windowFullscreen"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:windowDrawsSystemBarBackgrounds"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:windowTranslucentStatus"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>

<span class="hljs-comment">&lt;!-- launch_screen.xml --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">layer-list</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">android:drawable</span>=<span class="hljs-string">"@color/primaryDark"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">bitmap</span>
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>
            <span class="hljs-attr">android:src</span>=<span class="hljs-string">"@mipmap/ic_launcher"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">layer-list</span>&gt;</span>
</code></pre>
<h4 data-id="heading-33"><strong>2. åœ¨ Manifest ä¸­åº”ç”¨</strong></h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">application</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">".MyApplication"</span>
    <span class="hljs-attr">android:theme</span>=<span class="hljs-string">"@style/AppTheme.Launcher"</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
        <span class="hljs-attr">android:name</span>=<span class="hljs-string">".MainActivity"</span>
        <span class="hljs-attr">android:theme</span>=<span class="hljs-string">"@style/AppTheme"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.action.MAIN"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.LAUNCHER"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>
    
<span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span>
</code></pre>
<h4 data-id="heading-34"><strong>3. åœ¨ Activity ä¸­åˆ‡æ¢ä¸»é¢˜</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-comment">// åœ¨super.onCreateä¹‹å‰è®¾ç½®æ­£å¸¸ä¸»é¢˜</span>
        setTheme(R.style.AppTheme)
        
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        
        <span class="hljs-comment">// ç›‘å¬ç¬¬ä¸€å¸§ç»˜åˆ¶å®Œæˆ</span>
        <span class="hljs-keyword">val</span> content = findViewById&lt;View&gt;(android.R.id.content)
        content.viewTreeObserver.addOnPreDrawListener(
            <span class="hljs-keyword">object</span> : ViewTreeObserver.OnPreDrawListener {
                <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onPreDraw</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Boolean</span> {
                    <span class="hljs-comment">// ç¬¬ä¸€å¸§å‡†å¤‡ç»˜åˆ¶æ—¶ï¼Œç§»é™¤å¯åŠ¨ä¸»é¢˜</span>
                    content.viewTreeObserver.removeOnPreDrawListener(<span class="hljs-keyword">this</span>)
                    
                    <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œæ‰§è¡Œä¸€äº›åŠ¨ç”»</span>
                    startContentAnimation()
                    
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
                }
            }
        )
    }
}
</code></pre>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<p>Android App å¯åŠ¨æµç¨‹æ ¸å¿ƒè¦ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>è¿›ç¨‹åˆ›å»ºé˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>Zygote fork æ–°è¿›ç¨‹</li>
<li>è°ƒç”¨ ActivityThread.main()</li>
<li>ç»‘å®šåˆ° AMS</li>
</ul>
</li>
<li>
<p><strong>Application åˆå§‹åŒ–</strong>ï¼š</p>
<ul>
<li>åˆ›å»º Application å®ä¾‹</li>
<li>è°ƒç”¨ Application.onCreate()</li>
<li>ContentProvider åˆå§‹åŒ–</li>
</ul>
</li>
<li>
<p><strong>Activity å¯åŠ¨</strong>ï¼š</p>
<ul>
<li>åˆ›å»º Activity å®ä¾‹</li>
<li>è°ƒç”¨ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆonCreate â†’ onStart â†’ onResumeï¼‰</li>
<li>Window å’Œ View åˆ›å»º</li>
</ul>
</li>
<li>
<p><strong>ç•Œé¢æ¸²æŸ“</strong>ï¼š</p>
<ul>
<li>ViewRootImpl åˆ›å»º</li>
<li>æ‰§è¡Œ measureã€layoutã€draw</li>
<li>é€šè¿‡ Choreographer åŒæ­¥åˆ°å±å¹•</li>
</ul>
</li>
<li>
<p><strong>ä¼˜åŒ–ç­–ç•¥</strong>ï¼š</p>
<ul>
<li>å»¶è¿Ÿåˆå§‹åŒ–</li>
<li>å¼‚æ­¥åŠ è½½</li>
<li>å¸ƒå±€ä¼˜åŒ–</li>
<li>å¯åŠ¨ä¸»é¢˜ä¼˜åŒ–</li>
<li>ä½¿ç”¨å¯åŠ¨å™¨æ¨¡å¼</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½æµ‹é‡</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ ADB å‘½ä»¤</li>
<li>ä»£ç åŸ‹ç‚¹</li>
<li>systrace åˆ†æ</li>
</ul>
</li>
</ol>
<p>ç†è§£å®Œæ•´çš„å¯åŠ¨æµç¨‹æœ‰åŠ©äºï¼š</p>
<ul>
<li>ä¼˜åŒ–åº”ç”¨å¯åŠ¨æ€§èƒ½</li>
<li>è§£å†³å¯åŠ¨ç™½å±/é»‘å±é—®é¢˜</li>
<li>è®¾è®¡åˆç†çš„åˆå§‹åŒ–ç­–ç•¥</li>
<li>æå‡ç”¨æˆ·ä½“éªŒ</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[telephonyçš„ç›‘å¬æ³¨å†Œæœºåˆ¶]]></title>    <link>https://juejin.cn/post/7602464510608441370</link>    <guid>https://juejin.cn/post/7602464510608441370</guid>    <pubDate>2026-02-04T02:37:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602464510608441370" data-draft-id="7602471311509880859" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="telephonyçš„ç›‘å¬æ³¨å†Œæœºåˆ¶"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-04T02:37:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·341408199125"/> <meta itemprop="url" content="https://juejin.cn/user/570004686782272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            telephonyçš„ç›‘å¬æ³¨å†Œæœºåˆ¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/570004686782272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·341408199125
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T02:37:08.000Z" title="Wed Feb 04 2026 02:37:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>ä¸¤å±‚æ¶æ„</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">-</span>   å†…éƒ¨Â <span class="hljs-code">`RegistrantList`</span>Â ç”¨äºæ¡†æ¶å†…å¿«é€ŸåŒæ­¥é€šçŸ¥
<span class="hljs-bullet">-</span>   å¤–éƒ¨Â <span class="hljs-code">`TelephonyRegistry`</span>Â ç”¨äºåº”ç”¨å±‚è·¨è¿›ç¨‹å¼‚æ­¥é€šçŸ¥
</code></pre>
<h2 data-id="heading-0"><strong>Android Telephony ç›‘å¬æ³¨å†Œæœºåˆ¶è¯¦è§£</strong></h2>
<p>Android Telephony æ¡†æ¶ä½¿ç”¨äº†ä¸€å¥—ä¼˜é›…ä¸”é«˜æ•ˆçš„<strong>è§‚å¯Ÿè€…æ¨¡å¼</strong>å®ç°,é€šè¿‡ <code>Registrant</code> å’Œ <code>RegistrantList</code> æä¾›äº†å¼ºå¤§çš„äº‹ä»¶é€šçŸ¥æœºåˆ¶ã€‚è¿™æ˜¯æ•´ä¸ªç”µä¿¡æ¡†æ¶å†…éƒ¨é€šä¿¡çš„åŸºçŸ³ã€‚</p>
<hr/>
<h3 data-id="heading-1"><strong>ä¸€ã€æ ¸å¿ƒç±»è®¾è®¡</strong></h3>
<h4 data-id="heading-2"><strong>1. Registrant (å•ä¸ªæ³¨å†Œè€…)</strong></h4>
<pre><code class="hljs language-24:126:frameworks_base/core/java/android/os/Registrant.java" lang="24:126:frameworks_base/core/java/android/os/Registrant.java">public class Registrant
{
    @UnsupportedAppUsage
    public
    Registrant(Handler h, int what, Object obj)
    {
        refH = new WeakReference(h);
        this.what = what;
        userObj = obj;
    }

    @UnsupportedAppUsage
    public void
    clear()
    {
        refH = null;
        userObj = null;
    }

    @UnsupportedAppUsage
    public void
    notifyRegistrant()
    {
        internalNotifyRegistrant (null, null);
    }

    @UnsupportedAppUsage
    public void
    notifyResult(Object result)
    {
        internalNotifyRegistrant (result, null);
    }

    public void
    notifyException(Throwable exception)
    {
        internalNotifyRegistrant (null, exception);
    }

    /**
     * This makes a copy of @param ar
     */
    @UnsupportedAppUsage
    public void
    notifyRegistrant(AsyncResult ar)
    {
        internalNotifyRegistrant (ar.result, ar.exception);
    }

    /*package*/ void
    internalNotifyRegistrant (Object result, Throwable exception)
    {
        Handler h = getHandler();

        if (h == null) {
            clear();
        } else {
            Message msg = Message.obtain();

            msg.what = what;
            msg.obj = new AsyncResult(userObj, result, exception);
            h.sendMessage(msg);
        }
    }

    /**
     * NOTE: May return null if weak reference has been collected
     */

    @UnsupportedAppUsage
    public Message
    messageForRegistrant()
    {
        Handler h = getHandler();

        if (h == null) {
            clear();

            return null;
        } else {
            Message msg = h.obtainMessage();

            msg.what = what;
            msg.obj = userObj;

            return msg;
        }
    }

    @UnsupportedAppUsage(maxTargetSdk = Build.VERSION_CODES.P)
    public Handler
    getHandler()
    {
        if (refH == null)
            return null;

        return (Handler) refH.get();
    }

    WeakReference   refH;
    int             what;
    Object          userObj;
}
</code></pre>
<p><strong>å…³é”®ç‰¹æ€§</strong>:</p>
<ol>
<li>
<p><strong>å¼±å¼•ç”¨ Handler</strong></p>
<pre><code class="hljs language-java" lang="java">WeakReference refH;
</code></pre>
<ul>
<li>é¿å…å†…å­˜æ³„æ¼</li>
<li>å¦‚æœ Handler æ‰€å±çš„å¯¹è±¡è¢«å›æ”¶,è‡ªåŠ¨å¤±æ•ˆ</li>
</ul>
</li>
<li>
<p><strong>ä¸‰è¦ç´ </strong>:</p>
<ul>
<li><code>refH</code>: Handler çš„å¼±å¼•ç”¨</li>
<li><code>what</code>: æ¶ˆæ¯ç±»å‹ç (Message.what)</li>
<li><code>userObj</code>: ç”¨æˆ·è‡ªå®šä¹‰å¯¹è±¡</li>
</ul>
</li>
<li>
<p><strong>é€šçŸ¥æœºåˆ¶</strong>:</p>
<pre><code class="hljs language-java" lang="java">msg.what = what;
msg.obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncResult</span>(userObj, result, exception);
h.sendMessage(msg);
</code></pre>
<ul>
<li>æ„é€  <code>Message</code>,å°è£… <code>AsyncResult</code></li>
<li>é€šè¿‡ Handler å‘é€åˆ°ç›®æ ‡çº¿ç¨‹</li>
</ul>
</li>
</ol>
<h4 data-id="heading-3"><strong>2. RegistrantList (æ³¨å†Œè€…åˆ—è¡¨)</strong></h4>
<pre><code class="hljs language-24:144:frameworks_base/core/java/android/os/RegistrantList.java" lang="24:144:frameworks_base/core/java/android/os/RegistrantList.java">public class RegistrantList
{
    ArrayList   registrants = new ArrayList();      // of Registrant

    @UnsupportedAppUsage
    public RegistrantList() {
    }

    @UnsupportedAppUsage
    public synchronized void
    add(Handler h, int what, Object obj)
    {
        add(new Registrant(h, what, obj));
    }

    @UnsupportedAppUsage
    public synchronized void
    addUnique(Handler h, int what, Object obj)
    {
        // if the handler is already in the registrant list, remove it
        remove(h);
        add(new Registrant(h, what, obj));
    }

    @UnsupportedAppUsage
    public synchronized void
    add(Registrant r)
    {
        removeCleared();
        registrants.add(r);
    }

    @UnsupportedAppUsage
    public synchronized void
    removeCleared()
    {
        for (int i = registrants.size() - 1; i &gt;= 0 ; i--) {
            Registrant  r = (Registrant) registrants.get(i);

            if (r.refH == null) {
                registrants.remove(i);
            }
        }
    }

    public synchronized void removeAll() {
        registrants.clear();
    }

    @UnsupportedAppUsage
    public synchronized int
    size()
    {
        return registrants.size();
    }

    @UnsupportedAppUsage(maxTargetSdk = Build.VERSION_CODES.P)
    public synchronized Object
    get(int index)
    {
        return registrants.get(index);
    }

    private synchronized void
    internalNotifyRegistrants (Object result, Throwable exception)
    {
       for (int i = 0, s = registrants.size(); i &lt; s ; i++) {
            Registrant  r = (Registrant) registrants.get(i);
            r.internalNotifyRegistrant(result, exception);
       }
    }

    @UnsupportedAppUsage
    public /*synchronized*/ void
    notifyRegistrants()
    {
        internalNotifyRegistrants(null, null);
    }

    public /*synchronized*/ void
    notifyException(Throwable exception)
    {
        internalNotifyRegistrants (null, exception);
    }

    @UnsupportedAppUsage
    public /*synchronized*/ void
    notifyResult(Object result)
    {
        internalNotifyRegistrants (result, null);
    }


    @UnsupportedAppUsage
    public /*synchronized*/ void
    notifyRegistrants(AsyncResult ar)
    {
        internalNotifyRegistrants(ar.result, ar.exception);
    }

    @UnsupportedAppUsage
    public synchronized void
    remove(Handler h)
    {
        for (int i = 0, s = registrants.size() ; i &lt; s ; i++) {
            Registrant  r = (Registrant) registrants.get(i);
            Handler     rh;

            rh = r.getHandler();

            /* Clean up both the requested registrant and
             * any now-collected registrants
             */
            if (rh == null || rh == h) {
                r.clear();
            }
        }

        removeCleared();
    }
}
</code></pre>
<p><strong>å…³é”®æ–¹æ³•</strong>:</p>
<ol>
<li>
<p><strong>add()</strong> vs <strong>addUnique()</strong></p>
<ul>
<li><code>add()</code>: å…è®¸åŒä¸€ Handler å¤šæ¬¡æ³¨å†Œ</li>
<li><code>addUnique()</code>: å…ˆç§»é™¤å·²å­˜åœ¨çš„,ç¡®ä¿å”¯ä¸€æ€§</li>
</ul>
</li>
<li>
<p><strong>removeCleared()</strong></p>
<ul>
<li>æ¸…ç†å·²å¤±æ•ˆçš„ Registrant (WeakReference è¢«å›æ”¶)</li>
<li>è‡ªåŠ¨åƒåœ¾æ¸…ç†æœºåˆ¶</li>
</ul>
</li>
<li>
<p><strong>notifyRegistrants()</strong></p>
<ul>
<li>éå†æ‰€æœ‰æ³¨å†Œè€…</li>
<li>é€ä¸ªé€šçŸ¥</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-4"><strong>äºŒã€å…¸å‹ä½¿ç”¨æ¨¡å¼</strong></h3>
<h4 data-id="heading-5"><strong>1. å£°æ˜ RegistrantList</strong></h4>
<pre><code class="hljs language-424:462:frameworks_opt_telephony/src/java/com/android/internal/telephony/Phone.java" lang="424:462:frameworks_opt_telephony/src/java/com/android/internal/telephony/Phone.java">    protected final RegistrantList mPreciseCallStateRegistrants = new RegistrantList();

    private final RegistrantList mHandoverRegistrants = new RegistrantList();

    private final RegistrantList mNewRingingConnectionRegistrants = new RegistrantList();

    private final RegistrantList mIncomingRingRegistrants = new RegistrantList();

    protected final RegistrantList mDisconnectRegistrants = new RegistrantList();

    private final RegistrantList mServiceStateRegistrants = new RegistrantList();

    protected final RegistrantList mMmiCompleteRegistrants = new RegistrantList();

    @UnsupportedAppUsage
    protected final RegistrantList mMmiRegistrants = new RegistrantList();

    protected final RegistrantList mUnknownConnectionRegistrants = new RegistrantList();

    protected final RegistrantList mSuppServiceFailedRegistrants = new RegistrantList();

    protected final RegistrantList mRadioOffOrNotAvailableRegistrants = new RegistrantList();

    protected final RegistrantList mSimRecordsLoadedRegistrants = new RegistrantList();

    private final RegistrantList mVideoCapabilityChangedRegistrants = new RegistrantList();

    protected final RegistrantList mEmergencyCallToggledRegistrants = new RegistrantList();

    private final RegistrantList mCellInfoRegistrants = new RegistrantList();

    private final RegistrantList mRedialRegistrants = new RegistrantList();

    private final RegistrantList mPhysicalChannelConfigRegistrants = new RegistrantList();

    private final RegistrantList mOtaspRegistrants = new RegistrantList();

    private final RegistrantList mPreferredNetworkTypeRegistrants = new RegistrantList();
</code></pre>
<p><strong>Phone ç±»ä¸­çš„å…¸å‹ RegistrantList</strong>:</p>
<ul>
<li>æœåŠ¡çŠ¶æ€å˜åŒ–</li>
<li>æ¥ç”µé€šçŸ¥</li>
<li>è¿æ¥æ–­å¼€</li>
<li>MMI å‘½ä»¤</li>
<li>ä¿¡å·å¼ºåº¦</li>
<li>å°åŒºä¿¡æ¯</li>
<li>...</li>
</ul>
<h4 data-id="heading-6"><strong>2. æ³¨å†Œæ¥å£</strong></h4>
<pre><code class="hljs language-1005:1033:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java" lang="1005:1033:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java">    public void registerForVoiceRoamingOn(Handler h, int what, Object obj) {
        Registrant r = new Registrant(h, what, obj);
        mVoiceRoamingOnRegistrants.add(r);

        if (mSS.getVoiceRoaming()) {
            r.notifyRegistrant();
        }
    }

    public void unregisterForVoiceRoamingOn(Handler h) {
        mVoiceRoamingOnRegistrants.remove(h);
    }

    /**
     * Registration point for roaming off of mobile voice
     * combined roaming is true when roaming is true and ONS differs SPN
     *
     * @param h handler to notify
     * @param what what code of message when delivered
     * @param obj placed in Message.obj
     */
    public void registerForVoiceRoamingOff(Handler h, int what, Object obj) {
        Registrant r = new Registrant(h, what, obj);
        mVoiceRoamingOffRegistrants.add(r);

        if (!mSS.getVoiceRoaming()) {
            r.notifyRegistrant();
        }
    }
</code></pre>
<p><strong>æ ‡å‡†æ¨¡å¼</strong>:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerForXxxChanged</span><span class="hljs-params">(Handler h, <span class="hljs-type">int</span> what, Object obj)</span> {
    <span class="hljs-type">Registrant</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Registrant</span>(h, what, obj);
    mXxxRegistrants.add(r);
    
    <span class="hljs-comment">// ç«‹å³é€šçŸ¥å½“å‰çŠ¶æ€(å¯é€‰)</span>
    <span class="hljs-keyword">if</span> (currentStateæ»¡è¶³æ¡ä»¶) {
        r.notifyRegistrant();
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">unregisterForXxxChanged</span><span class="hljs-params">(Handler h)</span> {
    mXxxRegistrants.remove(h);
}
</code></pre>
<h4 data-id="heading-7"><strong>3. è§¦å‘é€šçŸ¥</strong></h4>
<pre><code class="hljs language-4704:4709:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java" lang="4704:4709:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java">    private void notifyCdmaSubscriptionInfoReady() {
        if (mCdmaForSubscriptionInfoReadyRegistrants != null) {
            if (DBG) log("CDMA_SUBSCRIPTION: call notifyRegistrants()");
            mCdmaForSubscriptionInfoReadyRegistrants.notifyRegistrants();
        }
    }
</code></pre>
<p><strong>é€šçŸ¥æ–¹å¼</strong>:</p>
<ol>
<li>
<p><strong>æ— å‚æ•°é€šçŸ¥</strong>:</p>
<pre><code class="hljs language-java" lang="java">mRegistrants.notifyRegistrants();
</code></pre>
</li>
<li>
<p><strong>æºå¸¦ç»“æœ</strong>:</p>
<pre><code class="hljs language-java" lang="java">mRegistrants.notifyResult(result);
</code></pre>
</li>
<li>
<p><strong>æºå¸¦ AsyncResult</strong>:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">AsyncResult</span> <span class="hljs-variable">ar</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AsyncResult</span>(<span class="hljs-literal">null</span>, result, exception);
mRegistrants.notifyRegistrants(ar);
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-8"><strong>ä¸‰ã€å®Œæ•´ç¤ºä¾‹:ç½‘ç»œé©»ç½‘çŠ¶æ€ç›‘å¬</strong></h3>
<h4 data-id="heading-9"><strong>1. å®šä¹‰ RegistrantList (ServiceStateTracker)</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">RegistrantList</span> <span class="hljs-variable">mNetworkAttachedRegistrants</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegistrantList</span>();
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">RegistrantList</span> <span class="hljs-variable">mNetworkDetachedRegistrants</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegistrantList</span>();
</code></pre>
<h4 data-id="heading-10"><strong>2. æä¾›æ³¨å†Œæ¥å£</strong></h4>
<pre><code class="hljs language-4864:4894:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java" lang="4864:4894:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java">    public void registerForNetworkAttached(Handler h, int what, Object obj) {
        Registrant r = new Registrant(h, what, obj);

        mNetworkAttachedRegistrants.add(r);
        if (mSS.getState() == ServiceState.STATE_IN_SERVICE) {
            r.notifyRegistrant();
        }
    }

    public void unregisterForNetworkAttached(Handler h) {
        mNetworkAttachedRegistrants.remove(h);
    }

    /**
     * Registration point for transition into network detached.
     * @param h handler to notify
     * @param what what code of message when delivered
     * @param obj in Message.obj
     */
    public void registerForNetworkDetached(Handler h, int what, Object obj) {
        Registrant r = new Registrant(h, what, obj);

        mNetworkDetachedRegistrants.add(r);
        if (mSS.getState() != ServiceState.STATE_IN_SERVICE) {
            r.notifyRegistrant();
        }
    }

    public void unregisterForNetworkDetached(Handler h) {
        mNetworkDetachedRegistrants.remove(h);
    }
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>: æ³¨å†Œæ—¶ç«‹å³æ£€æŸ¥å½“å‰çŠ¶æ€,å¦‚æœå·²æ»¡è¶³æ¡ä»¶åˆ™ç«‹å³é€šçŸ¥</p>
<h4 data-id="heading-11"><strong>3. ç›‘å¬è€…æ³¨å†Œ (ç¤ºä¾‹:DisplayInfoController)</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// DisplayInfoController.java</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">EVENT_SERVICE_STATE_CHANGED</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;

<span class="hljs-keyword">public</span> <span class="hljs-title function_">DisplayInfoController</span><span class="hljs-params">(Phone phone)</span> {
    mPhone = phone;
    <span class="hljs-comment">// æ³¨å†ŒæœåŠ¡çŠ¶æ€å˜åŒ–ç›‘å¬</span>
    mPhone.getServiceStateTracker()
        .registerForServiceStateChanged(<span class="hljs-built_in">this</span>, EVENT_SERVICE_STATE_CHANGED, <span class="hljs-literal">null</span>);
}

<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleMessage</span><span class="hljs-params">(Message msg)</span> {
    <span class="hljs-keyword">switch</span> (msg.what) {
        <span class="hljs-keyword">case</span> EVENT_SERVICE_STATE_CHANGED:
            <span class="hljs-type">AsyncResult</span> <span class="hljs-variable">ar</span> <span class="hljs-operator">=</span> (AsyncResult) msg.obj;
            <span class="hljs-type">ServiceState</span> <span class="hljs-variable">ss</span> <span class="hljs-operator">=</span> (ServiceState) ar.result;
            <span class="hljs-comment">// å¤„ç†æœåŠ¡çŠ¶æ€å˜åŒ–</span>
            updateDisplayInfo(ss);
            <span class="hljs-keyword">break</span>;
    }
}
</code></pre>
<h4 data-id="heading-12"><strong>4. è§¦å‘é€šçŸ¥</strong></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ServiceStateTracker.java</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">pollStateDone</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ... çŠ¶æ€æ£€æŸ¥</span>
    
    <span class="hljs-keyword">if</span> (hasNetworkAttached) {
        mNetworkAttachedRegistrants.notifyRegistrants();
    }
    
    <span class="hljs-keyword">if</span> (hasNetworkDetached) {
        mNetworkDetachedRegistrants.notifyRegistrants();
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-13"><strong>å››ã€é«˜çº§ç‰¹æ€§</strong></h3>
<h4 data-id="heading-14"><strong>1. Phone åˆ‡æ¢æ—¶çš„è¿ç§» (migrateFrom)</strong></h4>
<pre><code class="hljs language-1170:1190:frameworks_opt_telephony/src/java/com/android/internal/telephony/Phone.java" lang="1170:1190:frameworks_opt_telephony/src/java/com/android/internal/telephony/Phone.java">    protected void migrate(RegistrantList to, RegistrantList from) {
        if (from == null) {
            // May be null in some cases, such as testing.
            return;
        }
        from.removeCleared();
        for (int i = 0, n = from.size(); i &lt; n; i++) {
            Registrant r = (Registrant) from.get(i);
            Message msg = r.messageForRegistrant();
            // Since CallManager has already registered with both CS and IMS phones,
            // the migrate should happen only for those registrants which are not
            // registered with CallManager.Hence the below check is needed to add
            // only those registrants to the registrant list which are not
            // coming from the CallManager.
            if (msg != null) {
                if (msg.obj == CallManager.getInstance().getRegistrantIdentifier()) {
                    continue;
                } else {
                    to.add((Registrant) from.get(i));
                }
            } else {
</code></pre>
<p><strong>åº”ç”¨åœºæ™¯</strong>:</p>
<ul>
<li>GSM â†” CDMA åˆ‡æ¢</li>
<li>SRVCC (CS åŸŸåˆ‡æ¢)</li>
<li>Phone å¯¹è±¡æ›¿æ¢</li>
</ul>
<p><strong>è¿‡ç¨‹</strong>:</p>
<ol>
<li>æ¸…ç†å·²å¤±æ•ˆçš„ Registrant</li>
<li>éå†æºåˆ—è¡¨</li>
<li>æ’é™¤ç‰¹å®šæ³¨å†Œè€…(å¦‚ CallManager)</li>
<li>è¿ç§»åˆ°æ–°åˆ—è¡¨</li>
</ol>
<h4 data-id="heading-15"><strong>2. æ¡ä»¶é€šçŸ¥ (notifyNow)</strong></h4>
<pre><code class="hljs language-272:283:frameworks_opt_telephony/src/java/com/android/internal/telephony/CarrierActionAgent.java" lang="272:283:frameworks_opt_telephony/src/java/com/android/internal/telephony/CarrierActionAgent.java">    public void registerForCarrierAction(int action, Handler h, int what, Object obj,
                                         boolean notifyNow) {
        Boolean carrierAction = getCarrierActionEnabled(action);
        if (carrierAction == null) {
            throw new IllegalArgumentException("invalid carrier action: " + action);
        }
        RegistrantList list = getRegistrantsFromAction(action);
        Registrant r = new Registrant(h, what, obj);
        list.add(r);
        if (notifyNow) {
            r.notifyRegistrant(new AsyncResult(null, carrierAction, null));
        }
    }
</code></pre>
<p><strong>ç‰¹ç‚¹</strong>:</p>
<ul>
<li><code>notifyNow=true</code>: æ³¨å†Œåç«‹å³é€šçŸ¥å½“å‰çŠ¶æ€</li>
<li>é¿å…é”™è¿‡çŠ¶æ€</li>
</ul>
<h4 data-id="heading-16"><strong>3. å¤šä¼ è¾“ç±»å‹æ”¯æŒ</strong></h4>
<pre><code class="hljs language-4718:4733:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java" lang="4718:4733:frameworks_opt_telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java">    public void registerForDataConnectionAttached(@TransportType int transport, Handler h, int what,
                                                  Object obj) {
        Registrant r = new Registrant(h, what, obj);
        if (mAttachedRegistrants.get(transport) == null) {
            mAttachedRegistrants.put(transport, new RegistrantList());
        }
        mAttachedRegistrants.get(transport).add(r);

        if (mSS != null) {
            NetworkRegistrationInfo netRegState = mSS.getNetworkRegistrationInfo(
                    NetworkRegistrationInfo.DOMAIN_PS, transport);
            if (netRegState == null || netRegState.isInService()) {
                r.notifyRegistrant();
            }
        }
    }
</code></pre>
<p><strong>è®¾è®¡</strong>:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> SparseArray&lt;RegistrantList&gt; mAttachedRegistrants = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SparseArray</span>&lt;&gt;();
</code></pre>
<ul>
<li>ä½¿ç”¨ <code>SparseArray&lt;RegistrantList&gt;</code> ç®¡ç†å¤šç§ä¼ è¾“ç±»å‹</li>
<li>WWAN (èœ‚çªç½‘ç»œ)</li>
<li>WLAN (Wi-Fi)</li>
</ul>
<hr/>
<h3 data-id="heading-17"><strong>äº”ã€è®¾è®¡ä¼˜åŠ¿</strong></h3>
<h4 data-id="heading-18"><strong>1. å†…å­˜å®‰å…¨</strong></h4>
<ul>
<li><strong>å¼±å¼•ç”¨</strong>: è‡ªåŠ¨é¿å…å†…å­˜æ³„æ¼</li>
<li><strong>removeCleared()</strong>: è‡ªåŠ¨æ¸…ç†å¤±æ•ˆæ³¨å†Œè€…</li>
</ul>
<h4 data-id="heading-19"><strong>2. çº¿ç¨‹å®‰å…¨</strong></h4>
<ul>
<li><strong>Handler æœºåˆ¶</strong>: é€šè¿‡ Message åœ¨ç›®æ ‡çº¿ç¨‹æ‰§è¡Œ</li>
<li><strong>synchronized</strong>: RegistrantList çš„å…³é”®æ–¹æ³•åŒæ­¥</li>
</ul>
<h4 data-id="heading-20"><strong>3. è§£è€¦è®¾è®¡</strong></h4>
<ul>
<li>äº‹ä»¶å‘å¸ƒè€…æ— éœ€çŸ¥é“ç›‘å¬è€…ç»†èŠ‚</li>
<li>ç›‘å¬è€…å¯åŠ¨æ€æ·»åŠ /ç§»é™¤</li>
<li>æ”¯æŒå¤šå¯¹å¤šå…³ç³»</li>
</ul>
<h4 data-id="heading-21"><strong>4. çµæ´»æ€§</strong></h4>
<ul>
<li>æ”¯æŒæºå¸¦è‡ªå®šä¹‰æ•°æ® (<code>userObj</code>)</li>
<li>æ”¯æŒæºå¸¦ç»“æœå’Œå¼‚å¸¸ (<code>AsyncResult</code>)</li>
<li>æ”¯æŒç«‹å³é€šçŸ¥å½“å‰çŠ¶æ€</li>
</ul>
<h4 data-id="heading-22"><strong>5. é«˜æ•ˆ</strong></h4>
<ul>
<li>ArrayList éå†æ€§èƒ½é«˜</li>
<li>å¼±å¼•ç”¨è‡ªåŠ¨æ¸…ç†,æ— éœ€æ‰‹åŠ¨ç®¡ç†</li>
<li>æ‰¹é‡é€šçŸ¥é«˜æ•ˆ</li>
</ul>
<hr/>
<h3 data-id="heading-23"><strong>å…­ã€ä¸æ ‡å‡†è§‚å¯Ÿè€…æ¨¡å¼å¯¹æ¯”</strong></h3>








































<table><thead><tr><th>ç‰¹æ€§</th><th>Registrant æœºåˆ¶</th><th>æ ‡å‡† Observer æ¨¡å¼</th></tr></thead><tbody><tr><td><strong>Handler é›†æˆ</strong></td><td>âœ“ å†…ç½® Handler æ”¯æŒ</td><td>âœ— éœ€è‡ªè¡Œå®ç°</td></tr><tr><td><strong>çº¿ç¨‹å®‰å…¨</strong></td><td>âœ“ Message æœºåˆ¶è·¨çº¿ç¨‹</td><td>âœ— éœ€é¢å¤–å¤„ç†</td></tr><tr><td><strong>å†…å­˜ç®¡ç†</strong></td><td>âœ“ WeakReference è‡ªåŠ¨</td><td>âœ— éœ€æ‰‹åŠ¨æ¸…ç†</td></tr><tr><td><strong>å¼‚å¸¸ä¼ é€’</strong></td><td>âœ“ AsyncResult å°è£…</td><td>âœ— é€šå¸¸ä¸æ”¯æŒ</td></tr><tr><td><strong>ç«‹å³é€šçŸ¥</strong></td><td>âœ“ æ³¨å†Œæ—¶å¯é€‰é€šçŸ¥</td><td>âœ— é€šå¸¸ä¸æ”¯æŒ</td></tr><tr><td><strong>æ•°æ®æºå¸¦</strong></td><td>âœ“ userObj + result</td><td>âœ“ é€šå¸¸æ”¯æŒ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-24"><strong>ä¸ƒã€å®æˆ˜:è‡ªå®šä¹‰äº‹ä»¶ç›‘å¬</strong></h3>
<p>å‡è®¾è¦ä¸º <code>DataConnection</code> æ·»åŠ çŠ¶æ€ç›‘å¬:</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. å£°æ˜ RegistrantList</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">RegistrantList</span> <span class="hljs-variable">mDataStateChangedRegistrants</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegistrantList</span>();

<span class="hljs-comment">// 2. æä¾›æ³¨å†Œæ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerForDataStateChanged</span><span class="hljs-params">(Handler h, <span class="hljs-type">int</span> what, Object obj)</span> {
    <span class="hljs-type">Registrant</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Registrant</span>(h, what, obj);
    mDataStateChangedRegistrants.add(r);
    
    <span class="hljs-comment">// ç«‹å³é€šçŸ¥å½“å‰çŠ¶æ€</span>
    r.notifyResult(getCurrentState());
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">unregisterForDataStateChanged</span><span class="hljs-params">(Handler h)</span> {
    mDataStateChangedRegistrants.remove(h);
}

<span class="hljs-comment">// 3. çŠ¶æ€å˜åŒ–æ—¶é€šçŸ¥</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">notifyDataStateChanged</span><span class="hljs-params">(<span class="hljs-type">int</span> newState)</span> {
    mDataStateChangedRegistrants.notifyResult(newState);
}

<span class="hljs-comment">// 4. ç›‘å¬è€…ä½¿ç”¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Handler</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">EVENT_DATA_STATE_CHANGED</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(DataConnection dc)</span> {
        dc.registerForDataStateChanged(<span class="hljs-built_in">this</span>, EVENT_DATA_STATE_CHANGED, <span class="hljs-literal">null</span>);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleMessage</span><span class="hljs-params">(Message msg)</span> {
        <span class="hljs-keyword">if</span> (msg.what == EVENT_DATA_STATE_CHANGED) {
            <span class="hljs-type">AsyncResult</span> <span class="hljs-variable">ar</span> <span class="hljs-operator">=</span> (AsyncResult) msg.obj;
            <span class="hljs-type">int</span> <span class="hljs-variable">state</span> <span class="hljs-operator">=</span> (Integer) ar.result;
            <span class="hljs-comment">// å¤„ç†çŠ¶æ€å˜åŒ–</span>
        }
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-25"><strong>å…«ã€æ€»ç»“</strong></h3>
<p>Android Telephony çš„ç›‘å¬æ³¨å†Œæœºåˆ¶æ˜¯ä¸€ä¸ª<strong>ç²¾å¿ƒè®¾è®¡çš„äº‹ä»¶åˆ†å‘ç³»ç»Ÿ</strong>:</p>
<ol>
<li>
<p><strong>æ ¸å¿ƒç»„ä»¶</strong>:</p>
<ul>
<li><code>Registrant</code>: å•ä¸ªç›‘å¬è€…å°è£…</li>
<li><code>RegistrantList</code>: ç›‘å¬è€…åˆ—è¡¨ç®¡ç†</li>
<li><code>AsyncResult</code>: ç»Ÿä¸€ç»“æœå°è£…</li>
</ul>
</li>
<li>
<p><strong>å…³é”®ç‰¹æ€§</strong>:</p>
<ul>
<li>å¼±å¼•ç”¨è‡ªåŠ¨å†…å­˜ç®¡ç†</li>
<li>Handler æœºåˆ¶ä¿è¯çº¿ç¨‹å®‰å…¨</li>
<li>æ”¯æŒç«‹å³é€šçŸ¥å½“å‰çŠ¶æ€</li>
<li>æ”¯æŒå¼‚å¸¸å’Œç»“æœä¼ é€’</li>
</ul>
</li>
<li>
<p><strong>å¹¿æ³›åº”ç”¨</strong>:</p>
<ul>
<li>Phone çŠ¶æ€ç›‘å¬</li>
<li>ServiceState å˜åŒ–</li>
<li>æ•°æ®è¿æ¥çŠ¶æ€</li>
<li>SIM å¡äº‹ä»¶</li>
<li>ä¿¡å·å¼ºåº¦</li>
<li>...</li>
</ul>
</li>
</ol>
<p>è¿™å¥—æœºåˆ¶æ˜¯æ•´ä¸ª Android Telephony æ¡†æ¶çš„<strong>ç¥ç»ç³»ç»Ÿ</strong>,è¿æ¥äº†ä»åº•å±‚ RIL åˆ°ä¸Šå±‚ Framework çš„æ‰€æœ‰ç»„ä»¶!</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä½• SVG åœ¨ Web ç®€å•ï¼Œåœ¨ç§»åŠ¨ç«¯å´å¾ˆéš¾ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602474148095049780</link>    <guid>https://juejin.cn/post/7602474148095049780</guid>    <pubDate>2026-02-04T01:45:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602474148095049780" data-draft-id="7602472997921423360" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä½• SVG åœ¨ Web ç®€å•ï¼Œåœ¨ç§»åŠ¨ç«¯å´å¾ˆéš¾ï¼Ÿ"/> <meta itemprop="keywords" content="Android,iOS,å®¢æˆ·ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T01:45:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Gemini001"/> <meta itemprop="url" content="https://juejin.cn/user/2333635831676704"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä½• SVG åœ¨ Web ç®€å•ï¼Œåœ¨ç§»åŠ¨ç«¯å´å¾ˆéš¾ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2333635831676704/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Gemini001
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T01:45:14.000Z" title="Wed Feb 04 2026 01:45:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆå‰ç«¯åŠ è½½ SVG è½»è€Œæ˜“ä¸¾ï¼Œç§»åŠ¨ç«¯ï¼ˆAndroid/iOSï¼‰å´å›°éš¾é‡é‡ï¼Ÿ</h2>
<p>åœ¨è·¨å¹³å°å¼€å‘çš„è®¨è®ºä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„é—®é¢˜ã€‚è®¸å¤šä» Web è½¬å‘ç§»åŠ¨ç«¯ï¼ˆAndroid/iOSï¼‰å¼€å‘çš„å·¥ç¨‹å¸ˆéƒ½ä¼šæ„Ÿåˆ°å›°æƒ‘ï¼šä¸ºä»€ä¹ˆåœ¨æµè§ˆå™¨é‡Œå†™ä¸€ä¸ªÂ <code>&lt;img src="icon.svg"&gt;</code>å°±èƒ½å®Œç¾æ˜¾ç¤ºï¼Œè€Œåˆ°äº† App é‡Œå´éœ€è¦å„ç§è½¬æ¢ã€æŠ¥é”™é¢‘å‡ºï¼Œç”šè‡³æ ¹æœ¬ä¸æ”¯æŒï¼Ÿ</p>
<p>ç®€å•æ¥è¯´ï¼š<strong>Web æµè§ˆå™¨æ˜¯ SVG çš„â€œåŸç”Ÿçˆ¶æ¯â€ï¼Œè€Œ Android å’Œ iOS åªæ˜¯ SVG çš„â€œè¿œæˆ¿äº²æˆšâ€</strong> ã€‚</p>
<p>è¿™å¹¶ä¸æ˜¯ç§»åŠ¨ç«¯å®Œå…¨æ— æ³•åŠ è½½ SVGï¼Œè€Œæ˜¯äºŒè€…æ”¯æŒçš„æ–¹å¼ã€ç¨‹åº¦å’Œåº•å±‚é€»è¾‘å®Œå…¨ä¸åŒã€‚åœ¨æ·±å…¥å‰–æä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ææ¸…æ¥šï¼š<strong>SVG åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<h3 data-id="heading-1">0. SVG åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿâ€”â€” ä»æ¦‚å¿µåˆ°æœ¬è´¨</h3>
<p>è¦ç†è§£è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é¦–å…ˆè¦æ˜ç™½ SVG çš„æœ¬è´¨ã€‚</p>
<ul>
<li>
<p><strong>å®šä¹‰</strong>ï¼š<strong>SVG (Scalable Vector Graphics)</strong> ï¼Œå³å¯ç¼©æ”¾çŸ¢é‡å›¾å½¢ï¼Œæ˜¯ä¸€ç§åŸºäºÂ <strong>XML</strong>ï¼ˆå¯æ‰©å±•æ ‡è®°è¯­è¨€ï¼‰æ¥æè¿°äºŒç»´å›¾å½¢çš„Â <strong>W3C æ ‡å‡†</strong>ã€‚</p>
</li>
<li>
<p><strong>æ ¸å¿ƒæ€æƒ³ï¼šç”¨ä»£ç ç”»å›¾</strong></p>
<p>ä½ å¯ä»¥æŠŠ SVG æ–‡ä»¶æƒ³è±¡æˆä¸€ä¸ª<strong>ç”¨æ–‡æœ¬ç¼–å†™çš„ç»˜å›¾è„šæœ¬</strong>ã€‚å®ƒä¸æ˜¯åƒ PNG/JPG é‚£æ ·çš„åƒç´ é›†åˆï¼ˆä½å›¾ï¼‰ï¼Œè€Œæ˜¯åƒä¸€ä»½ç²¾ç¡®çš„æ–½å·¥å›¾çº¸ï¼Œå‘Šè¯‰æ¸²æŸ“å¼•æ“ï¼šâ€œåœ¨è¿™é‡Œç”»ä¸€ä¸ªåŠå¾„ä¸º50çš„åœ†â€ã€â€œä»è¿™é‡Œåˆ°é‚£é‡Œç”»ä¸€æ¡çº¢è‰²çš„è´å¡å°”æ›²çº¿â€ã€â€œç»™è¿™ä¸ªåŒºåŸŸå¡«å……ä¸€ä¸ªä»è“åˆ°ç™½çš„çº¿æ€§æ¸å˜â€ã€‚</p>
</li>
<li>
<p><strong>ä¸ç”Ÿä¿±æ¥çš„ä¼˜åŠ¿ï¼šæ— æŸç¼©æ”¾</strong></p>
<p>å› ä¸ºå®ƒæ˜¯é€šè¿‡æ•°å­¦å…¬å¼ï¼ˆç‚¹ã€çº¿ã€è·¯å¾„ã€å½¢çŠ¶ï¼‰æ¥å®šä¹‰å›¾å½¢ï¼Œæ‰€ä»¥åœ¨ä»»ä½•åˆ†è¾¨ç‡ä¸‹æ”¾å¤§æˆ–ç¼©å°ï¼Œéƒ½ä¸ä¼šå‡ºç°åƒç´ åŒ–çš„é”¯é½¿ï¼Œæ°¸è¿œä¿æŒæ¸…æ™°é”åˆ©ã€‚è¿™æ­£æ˜¯å®ƒåœ¨é«˜åˆ†è¾¨ç‡å±å¹•ï¼ˆRetina, 4Kï¼‰ä¸Šå¤‡å—é’ççš„åŸå› ã€‚</p>
</li>
<li>
<p><strong>ä¸ä»…æ˜¯é™æ€å›¾</strong></p>
<p>SVG çš„å¼ºå¤§ä¹‹å¤„åœ¨äºå…¶ä¸°å¯Œçš„ç‰¹æ€§é›†ï¼Œå®ƒè¿œä¸æ­¢æ˜¯ä¸€å¼ â€œå›¾â€ï¼š</p>
<ul>
<li><strong>æ ·å¼å¯æ§</strong>ï¼šå¯ä»¥é€šè¿‡ CSS åƒæ§åˆ¶ç½‘é¡µå…ƒç´ ä¸€æ ·æ”¹å˜å…¶é¢œè‰²ã€æè¾¹ã€é€æ˜åº¦ã€‚</li>
<li><strong>åŠ¨æ€äº¤äº’</strong>ï¼šå¯ä»¥åµŒå…¥ JavaScriptï¼Œå“åº”ç”¨æˆ·çš„ç‚¹å‡»ã€æ‚¬åœç­‰äº‹ä»¶ã€‚</li>
<li><strong>åŠ¨ç”»æ”¯æŒ</strong>ï¼šæ”¯æŒ SMIL åŠ¨ç”»æˆ–é€šè¿‡ CSS/JS åˆ›å»ºå¤æ‚åŠ¨ç”»ã€‚</li>
<li><strong>å¤æ‚æ•ˆæœ</strong>ï¼šæ”¯æŒé«˜æ–¯æ¨¡ç³Šã€é˜´å½±ã€å„ç§æ¸å˜ç­‰æ»¤é•œæ•ˆæœã€‚</li>
</ul>
</li>
</ul>
<p>ç†è§£äº† SVG çš„è¿™äº›ç‰¹è´¨ï¼Œæˆ‘ä»¬å°±èƒ½æ›´å¥½åœ°ç†è§£ä¸ºä»€ä¹ˆå®ƒåœ¨ Web ä¸–ç•Œå¦‚é±¼å¾—æ°´ï¼Œå´åœ¨ç§»åŠ¨ç«¯ä¸–ç•Œé‡Œæ­¥å±¥è¹’è·šã€‚</p>
<hr/>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ Web å’Œç§»åŠ¨ç«¯åœ¨å¤„ç† SVG æ—¶çš„æ ¹æœ¬å·®å¼‚ã€‚</p>
<h3 data-id="heading-2">1. åŸºå› ä¸åŒï¼šDOM æ¸²æŸ“ vs å›¾å½¢å¼•æ“æ¸²æŸ“</h3>
<h4 data-id="heading-3">Web å‰ç«¯ (æµè§ˆå™¨)</h4>
<ul>
<li><strong>ä¸€ç­‰å…¬æ°‘</strong>ï¼šSVG æœ¬è´¨ä¸Šæ˜¯ XML æ–‡æœ¬ã€‚å®ƒå±äºÂ <strong>DOM æ ‘</strong>çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥å’ŒÂ <code>&lt;div&gt;</code>,Â <code>&lt;p&gt;</code>ç­‰ HTML å…ƒç´ å¹¶åˆ—å­˜åœ¨ã€‚</li>
<li><strong>å…¨èƒ½å¼•æ“</strong>ï¼šæµè§ˆå™¨å†…ç½®äº†æå…¶å¼ºå¤§çš„æ¸²æŸ“å¼•æ“ï¼ˆWebCore/Blink/Geckoï¼‰ï¼Œèƒ½å¤Ÿç›´æ¥è§£æ SVG çš„æ‰€æœ‰æ ‡ç­¾ã€å±æ€§ï¼Œç”šè‡³æ”¯æŒåœ¨ SVG å†…éƒ¨åµŒå…¥ CSS æ ·å¼å’Œ JS è„šæœ¬ã€‚</li>
</ul>
<h4 data-id="heading-4">ç§»åŠ¨ç«¯ (Native)</h4>
<ul>
<li><strong>ä½å›¾ä¼˜å…ˆ</strong>ï¼šåŸç”Ÿç³»ç»Ÿæ›´æ“…é•¿å¤„ç†ä½å›¾ï¼ˆBitmap/PNG/JPGï¼‰å’Œåº•å±‚çš„å›¾å½¢ç»˜åˆ¶æŒ‡ä»¤ï¼ˆå¦‚ Android çš„ Canvas/Skiaï¼ŒiOS çš„ CoreGraphics/Metalï¼‰ã€‚</li>
<li><strong>æ— å†…ç½®è§£æå™¨</strong>ï¼šåŸç”Ÿç³»ç»Ÿæ²¡æœ‰å†…ç½®ä¸€ä¸ªå®Œæ•´çš„â€œXML è§£æ+æ¸²æŸ“å¼•æ“â€æ¥ä¸“é—¨æœåŠ¡äº UI å›¾æ ‡ã€‚</li>
</ul>
<h3 data-id="heading-5">2. æ ‡å‡†ä¹‹é‡ï¼šSVG çš„å¤æ‚æ€§ vs ç§»åŠ¨ç«¯çš„æ€§èƒ½</h3>
<p>è¿™æ˜¯æœ€æ ¸å¿ƒçš„åŸå› ã€‚SVG æ ‡å‡†ï¼ˆW3C åˆ¶å®šï¼‰éå¸¸åºå¤§ï¼Œå®ƒä¸ä»…ä»…æ˜¯ç”»å‡ æ¡çº¿ï¼Œå®ƒè¿˜æ”¯æŒï¼š</p>
<ul>
<li>âŒ å¤æ‚çš„æ»¤é•œï¼ˆé«˜æ–¯æ¨¡ç³Šã€å…‰ç…§æ•ˆæœç­‰ï¼‰</li>
<li>âŒ æ¸å˜ï¼ˆçº¿æ€§ã€å¾„å‘ã€ç½‘æ ¼ï¼‰</li>
<li>âŒ åŠ¨ç”»ï¼ˆSMILï¼‰</li>
<li>âŒ äº¤äº’ï¼ˆåµŒå…¥ JavaScriptï¼‰</li>
<li>âŒ å¤–éƒ¨èµ„æºï¼ˆå­—ä½“å¼•å…¥ï¼‰</li>
</ul>
<h4 data-id="heading-6">ç§»åŠ¨ç«¯çš„ç—›ç‚¹ï¼š</h4>
<p>è¦åœ¨ç§»åŠ¨ç«¯åŸç”Ÿå®ç°ä¸€ä¸ªæ”¯æŒå®Œæ•´ SVG æ ‡å‡†çš„è§£æå™¨ï¼Œç›¸å½“äºåœ¨ App é‡Œå¡è¿›åŠä¸ªæµè§ˆå™¨å†…æ ¸ã€‚è¿™ä¼šå¯¼è‡´ï¼š</p>
<ul>
<li><strong>åŒ…ä½“ç§¯å‰§å¢</strong>ï¼šä¸ºäº†æ˜¾ç¤ºå‡ ä¸ªå›¾æ ‡å¼•å…¥å‡ å…†çš„æ¸²æŸ“åº“æ˜¯ä¸åˆ’ç®—çš„ã€‚</li>
<li><strong>æ€§èƒ½å¼€é”€å¤§</strong>ï¼šSVG æ˜¯æ–‡æœ¬æ ¼å¼ï¼Œè¿è¡Œæ—¶è§£æ XML éå¸¸æ¶ˆè€— CPUã€‚å¦‚æœåœ¨ä¸€ä¸ªé•¿åˆ—è¡¨ï¼ˆListView/RecyclerViewï¼‰é‡Œæ¯ä¸€è¡Œéƒ½å®æ—¶è§£æ SVGï¼Œæ»‘åŠ¨ä¼šéå¸¸å¡é¡¿ã€‚</li>
</ul>
<h3 data-id="heading-7">3. å„å¹³å°çš„â€œå¦¥åâ€æ–¹æ¡ˆ</h3>
<p>å› ä¸ºåŸç”Ÿä¸æ”¯æŒç›´æ¥æŠŠÂ <code>.svg</code>æ–‡ä»¶æ‰”è¿›å»å½“å›¾ç‰‡ç”¨ï¼ˆå°¤å…¶åœ¨æ—©æœŸç‰ˆæœ¬ï¼‰ï¼Œå„å¹³å°é‡‡ç”¨äº†â€œé˜‰å‰²â€æˆ–â€œè½¬è¯‘â€çš„ç­–ç•¥ï¼š</p>
<h4 data-id="heading-8">ğŸ¤– Android çš„åšæ³•ï¼šVectorDrawable</h4>
<ul>
<li><strong>åŸç†</strong>ï¼šAndroid Studio æä¾›å·¥å…·å°† SVG è½¬è¯‘æˆ Android èƒ½è¯»æ‡‚çš„ XML æ ¼å¼ã€‚</li>
<li><strong>é™åˆ¶</strong>ï¼šVectorDrawable åªæ”¯æŒ SVG çš„ä¸€ä¸ªå­é›†ï¼ˆä¸»è¦æ˜¯ Path è·¯å¾„ã€ç®€å•çš„é¢œè‰²ï¼‰ã€‚å¦‚æœ SVG é‡Œæœ‰å¤æ‚çš„é˜´å½±æˆ–æ»¤é•œï¼Œè½¬æ¢ä¼šå¤±è´¥ã€‚</li>
<li><strong>ä¼˜åŒ–</strong>ï¼šè¿™äº› XML åœ¨ç¼–è¯‘æ—¶ä¼šè¢«å¤„ç†æˆäºŒè¿›åˆ¶æ•°æ®ï¼Œè§£æé€Ÿåº¦è¿œå¿«äºåŸå§‹ SVGã€‚</li>
</ul>
<h4 data-id="heading-9">ğŸ iOS çš„åšæ³•ï¼šPDF / Asset Catalogs</h4>
<ul>
<li><strong>æ—©æœŸ</strong>ï¼šiOS å¼€å‘è€…ä¹ æƒ¯ä½¿ç”¨ PDF çŸ¢é‡å›¾ï¼ˆå› ä¸º PDF æ˜¯è‹¹æœç³»ç»Ÿçš„æ ¸å¿ƒæ ¼å¼ï¼‰ã€‚</li>
<li><strong>ç°åœ¨ (Xcode 12+)</strong> ï¼šiOS ç»ˆäºæ”¯æŒç›´æ¥å¯¼å…¥ SVG äº†ã€‚</li>
<li><strong>çœŸç›¸</strong>ï¼šiOS çš„ SVG æ”¯æŒé€šå¸¸æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µå°†å…¶å¤„ç†ï¼ˆRasterizeï¼‰æˆ PNG ä»¥å…¼å®¹ä½ç‰ˆæœ¬ï¼Œæˆ–è€…ä¿ç•™ä¸ºçŸ¢é‡æ•°æ®ã€‚ä½†åœ¨è¿è¡Œæ—¶ï¼Œå®ƒä¸»è¦è¢«è§†ä¸ºé™æ€å›¾åƒï¼Œä¸åƒ Web é‚£æ ·å¯ä»¥ç”¨ CSS éšæ„ä¿®æ”¹å®ƒçš„å†…éƒ¨èŠ‚ç‚¹ã€‚</li>
</ul>
<h3 data-id="heading-10">4. å…¨æ–¹ä½å¯¹æ¯”</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>Web å‰ç«¯</th><th>Android/iOS å®¢æˆ·ç«¯</th></tr></thead><tbody><tr><td><strong>åŠ è½½æ–¹å¼</strong>â€‹</td><td>ç›´æ¥Â <code>&lt;svg&gt;</code>æˆ–Â <code>&lt;img&gt;</code></td><td>éœ€è¦è½¬æ¢æ ¼å¼ (xml/pdf) æˆ–ç‰¹å®šè®¾ç½®</td></tr><tr><td><strong>è§£æèƒ½åŠ›</strong>â€‹</td><td>å…¨åŠŸèƒ½æ”¯æŒ (æ»¤é•œã€åŠ¨ç”»ã€è„šæœ¬)</td><td>ä»…æ”¯æŒå­é›† (ä¸»è¦æ˜¯è·¯å¾„ Path)</td></tr><tr><td><strong>æ€§èƒ½ç“¶é¢ˆ</strong>â€‹</td><td>æµè§ˆå™¨å†…æ ¸å¼ºå¤§ï¼Œè‡ªå¸¦ç¡¬ä»¶åŠ é€Ÿ</td><td>XML è§£æè€— CPUï¼Œéœ€è½¬äºŒè¿›åˆ¶ä¼˜åŒ–</td></tr><tr><td><strong>åŠ¨æ€æ€§</strong>â€‹</td><td>å¯é€šè¿‡ CSS/JS ä¿®æ”¹ä»»æ„ç»†èŠ‚</td><td>ä¿®æ”¹å›°éš¾ï¼Œé€šå¸¸åªèƒ½æ•´ä½“ç€è‰² (Tint)</td></tr></tbody></table>
<h3 data-id="heading-11">5. ç°åœ¨çš„æœ€ä½³å®è·µæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>å¦‚æœä½ éœ€è¦åœ¨ç§»åŠ¨ç«¯ä½¿ç”¨çŸ¢é‡å›¾ï¼Œç›®å‰é€šå¸¸æœ‰ä»¥ä¸‹å‡ ç§æ ‡å‡†æ–¹æ¡ˆï¼š</p>
<h4 data-id="heading-12">å›¾æ ‡/ç®€å•å›¾å½¢</h4>
<ul>
<li><strong>Android</strong>: ä½¿ç”¨ Android Studio è‡ªå¸¦å·¥å…·è½¬ä¸º VectorDrawable (.xml)ã€‚</li>
<li><strong>iOS</strong>: ç›´æ¥æ”¾å…¥ Xcode Assetsï¼Œå‹¾é€‰ "Preserve Vector Data" å’Œ "Single Scale"ã€‚</li>
</ul>
<h4 data-id="heading-13">å¤æ‚çš„çŸ¢é‡æ’ç”»/åŠ¨ç”»</h4>
<ul>
<li>ğŸš€Â <strong>Lottie (Airbnb å¼€æº)</strong> ï¼šè¿™æ˜¯ç›®å‰çš„è¡Œä¸šæ ‡å‡†ã€‚è®¾è®¡å¸ˆç”¨ After Effects å¯¼å‡º JSONï¼ŒLottie åº“åœ¨ç§»åŠ¨ç«¯æå…¶é«˜æ•ˆåœ°æ¸²æŸ“å‡ºæ¥ï¼Œé¿å¼€äº† SVG è§£æçš„æ€§èƒ½å‘ã€‚</li>
</ul>
<h4 data-id="heading-14">å¿…é¡»æ˜¾ç¤ºåŸå§‹ SVG</h4>
<ul>
<li>å¼•å…¥ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚Â <code>android-svg</code>æˆ–Â <code>SVGKit</code>ï¼‰ï¼Œä»£ä»·æ˜¯å¢åŠ åŒ…ä½“ç§¯ã€‚</li>
<li>ä½¿ç”¨ WebView åŠ è½½ï¼ˆæ€é¸¡ç”¨ç‰›åˆ€ï¼Œä½†å…¼å®¹æ€§æœ€å¥½ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-15">æ€»ç»“</h3>
<p>ç§»åŠ¨ç«¯â€œæ— æ³•åŠ è½½â€SVGï¼Œæœ¬è´¨ä¸Šæ˜¯åœ¨<strong>æ€§èƒ½</strong>å’Œ<strong>åŠŸèƒ½</strong>ä¹‹é—´åšçš„å–èˆã€‚ç§»åŠ¨ç«¯åŸç”Ÿç³»ç»Ÿä¸ºäº†è¿½æ±‚æè‡´çš„ UI æµç•…åº¦å’Œä½åŠŸè€—ï¼Œé€‰æ‹©æ”¾å¼ƒäº†åºå¤§ä¸”å¤æ‚çš„ SVG æ ‡å‡†æ”¯æŒï¼Œè½¬è€Œä½¿ç”¨æ›´ç²¾ç®€çš„çŸ¢é‡æ–¹æ¡ˆã€‚è€Œ Web æµè§ˆå™¨ï¼Œä»å…¶è¯ç”Ÿä¹‹åˆå°±ä¸ºè§£æå’Œæ¸²æŸ“è¿™ç±»ç»“æ„åŒ–æ ‡è®°è¯­è¨€è€Œç”Ÿï¼Œå› æ­¤æˆä¸ºäº† SVG æœ€å®Œç¾çš„å®¿ä¸»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026 å¹´çš„ Node.js å·²ç»ä¸æ˜¯é‚£ä¸ªä½ è®¤è¯†çš„ Node.js äº†]]></title>    <link>https://juejin.cn/post/7602454700503597097</link>    <guid>https://juejin.cn/post/7602454700503597097</guid>    <pubDate>2026-02-03T12:22:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602454700503597097" data-draft-id="7602420156397355051" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026 å¹´çš„ Node.js å·²ç»ä¸æ˜¯é‚£ä¸ªä½ è®¤è¯†çš„ Node.js äº†"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Node.js"/> <meta itemprop="datePublished" content="2026-02-03T12:22:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†´ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/712139234359182"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026 å¹´çš„ Node.js å·²ç»ä¸æ˜¯é‚£ä¸ªä½ è®¤è¯†çš„ Node.js äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139234359182/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†´ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-03T12:22:24.000Z" title="Tue Feb 03 2026 12:22:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-03
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2026 å¹´çš„ Node.js å·²ç»ä¸æ˜¯é‚£ä¸ªä½ è®¤è¯†çš„ Node.js äº†ã€‚</p>
<p>è¿‡å»éœ€è¦å‡ åä¸ªä¾èµ–é¡¹å’Œå¤æ‚é…ç½®æ‰èƒ½å®ç°çš„åŠŸèƒ½ï¼Œç°åœ¨éƒ½å¯ä»¥å¼€ç®±å³ç”¨ã€‚</p>
<p>åŸç”Ÿçš„ TypeScript æ”¯æŒã€å†…ç½®çš„ AI èƒ½åŠ›ã€é»˜è®¤ HTTP/3 åè®®ï¼Œä»¥åŠçœŸæ­£æœ‰æ•ˆçš„æƒé™æ¨¡å‹ï¼Œè¿™äº›éƒ½å·²ç»å°† Node.js ä»ä¸€ä¸ªè¿è¡Œæ—¶ç¯å¢ƒè½¬å˜æˆä¸€ä¸ªå®Œæ•´çš„å¹³å°ã€‚</p>
<p>å¦‚æœä½ æœ€è¿‘æ²¡æœ‰ä½¿ç”¨è¿‡ Node.jsï¼Œé‚£ä½ å¾ˆæœ‰å¯èƒ½é”™è¿‡äº†è¿™äº›åŠŸèƒ½ã€‚</p>
<p>æœ¬ç¯‡è®©æˆ‘ä»¬æ·±å…¥æ¢è®¨è¿™äº›å·²ç»å‘ç”Ÿçš„å˜åŒ–ä»¥åŠå®ƒä»¬çš„é‡è¦æ€§ã€‚</p>
<h2 data-id="heading-0">1. åŸç”Ÿ TypeScript ç±»å‹å‰¥ç¦»ï¼šæ¸¸æˆè§„åˆ™æ”¹å˜è€…</h2>
<p>Node.js æœ€å…·å˜é©æ€§çš„æ–°å¢åŠŸèƒ½æ˜¯<strong>é€šè¿‡ç±»å‹å‰¥ç¦»å®ç°çš„åŸç”Ÿ TypeScript æ”¯æŒ</strong>ã€‚</p>
<p>ä¸å†éœ€è¦ <code>ts-node</code>ã€<code>tsx</code> æˆ–å¤æ‚çš„æ„å»ºé…ç½®ï¼Œä½ åªéœ€è¦ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">node --experimental-strip-types app.ts
</code></pre>
<p>å°±æ˜¯è¿™æ ·ï¼Œä¸€ä¸ªå‚æ•°ï¼Œä½ å°±å¯ä»¥ç›´æ¥åœ¨ Node.js ä¸­è¿è¡Œ TypeScriptã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// server.ts - ä½¿ç”¨ç±»å‹å‰¥ç¦»ç›´æ¥è¿è¡Œ</span>
<span class="hljs-keyword">import</span> { createServer } <span class="hljs-keyword">from</span> <span class="hljs-string">"node:http"</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span>;
}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDatabase</span> {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">users</span>: <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">number</span>, <span class="hljs-title class_">User</span>&gt; = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();

  <span class="hljs-title function_">addUser</span>(<span class="hljs-attr">user</span>: <span class="hljs-title class_">User</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">set</span>(user.<span class="hljs-property">id</span>, user);
  }

  <span class="hljs-title function_">getUser</span>(<span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">User</span> | <span class="hljs-literal">undefined</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">users</span>.<span class="hljs-title function_">get</span>(id);
  }
}
<span class="hljs-keyword">const</span> db = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserDatabase</span>();
<span class="hljs-keyword">const</span> server = <span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, { <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span> });
  res.<span class="hljs-title function_">end</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(db.<span class="hljs-title function_">getAllUsers</span>()));
});
server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>);
ç±»å‹å‰¥ç¦»çš„å·¥ä½œåŸç†;
</code></pre>
<p>ä¸ä¼ ç»Ÿ TypeScript ç¼–è¯‘ä¸åŒï¼Œç±»å‹å‰¥ç¦»éå¸¸ä¼˜é›…å’Œç®€å•ï¼š</p>
<ol>
<li>
<p><strong>è§£æ</strong> TypeScript æ–‡ä»¶</p>
</li>
<li>
<p><strong>ç§»é™¤</strong> ç±»å‹æ³¨è§£ã€æ¥å£å’Œä»…ç”¨äºç±»å‹çš„æ„é€ </p>
</li>
<li>
<p><strong>æ‰§è¡Œ</strong> ç”Ÿæˆçš„ JavaScript</p>
</li>
</ol>
<p>è¿™ä½¿å¾—ç±»å‹å‰¥ç¦» <strong>æ¯”å®Œæ•´ TypeScript ç¼–è¯‘å¿« 10-20 å€</strong>ï¼Œå› ä¸ºæ²¡æœ‰ç±»å‹æ£€æŸ¥ã€æ²¡æœ‰è½¬æ¢â€”â€”åªæ˜¯ç§»é™¤ç±»å‹è¯­æ³•ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// âŒ æ—§æ–¹å¼ - éœ€è¦è½¬æ¢</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">Status</span> {
  <span class="hljs-title class_">Active</span>,
  <span class="hljs-title class_">Inactive</span>,
}

<span class="hljs-comment">// âœ… æ–°æ–¹å¼ - æ”¯æŒç±»å‹å‰¥ç¦»</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Status</span> = { <span class="hljs-title class_">Active</span>: <span class="hljs-string">"ACTIVE"</span>, <span class="hljs-title class_">Inactive</span>: <span class="hljs-string">"INACTIVE"</span> } <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Status</span> = (<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Status</span>)[keyof <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Status</span>];
</code></pre>
<p><strong>å¼€å‘æ—¶</strong>ï¼ˆå³æ—¶åˆ·æ–°ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">node --experimental-strip-types --watch server.ts
</code></pre>
<p><strong>ç”Ÿäº§æ—¶</strong>ï¼ˆå•ç‹¬ç±»å‹æ£€æŸ¥ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">tsc --noEmit  <span class="hljs-comment"># ä»…ç±»å‹æ£€æŸ¥</span>
node --experimental-strip-types server.ts
</code></pre>
<p>æ³¨æ„ï¼š<strong>ç±»å‹å‰¥ç¦»ä¸ä¼šå–ä»£ç±»å‹æ£€æŸ¥</strong>â€”â€”å®ƒåªæ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ¶ˆé™¤äº†ç¼–è¯‘ç“¶é¢ˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c61c7d8abd2b4c2bad6e1c381757c1b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770777700&amp;x-signature=w0jK5C9oyKPYTtAKovLuAJ%2FEyJg%3D" alt="TypeScriptæ”¯æŒ" loading="lazy"/></p>
<h2 data-id="heading-1">2. HTTP/3 &amp; QUICï¼šé»˜è®¤åŠ é€Ÿ</h2>
<p>HTTP/3 æ”¯æŒç°å·²ç¨³å®šå¹¶é»˜è®¤å¯ç”¨ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { request } <span class="hljs-keyword">from</span> <span class="hljs-string">"node:http"</span>;

<span class="hljs-keyword">const</span> req = <span class="hljs-title function_">request</span>(<span class="hljs-string">"https://api.example.com/data"</span>, <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Protocol:"</span>, res.<span class="hljs-property">httpVersion</span>); <span class="hljs-comment">// 3.0</span>
  res.<span class="hljs-title function_">on</span>(<span class="hljs-string">"data"</span>, <span class="hljs-function">(<span class="hljs-params">chunk</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(chunk.<span class="hljs-title function_">toString</span>()));
});
req.<span class="hljs-title function_">end</span>();
</code></pre>
<p><strong>ä½¿ç”¨å®ƒçš„ä¼˜åŠ¿åœ¨äºï¼š</strong></p>
<ul>
<li>
<p>é€Ÿåº¦æå‡ï¼šå®é™…ç¯å¢ƒä¸‹å“åº”é€Ÿåº¦æå‡ 20%â€“50%</p>
</li>
<li>
<p>è¿æ¥è¿ç§»ï¼šWiFi å’Œèœ‚çªç½‘ç»œä¹‹é—´çš„æ— ç¼åˆ‡æ¢</p>
</li>
<li>
<p>æ— é˜Ÿå¤´é˜»å¡ï¼šæ¯” HTTP/2 å…·æœ‰æ›´å¥½çš„å¤šè·¯å¤ç”¨æ€§èƒ½</p>
</li>
<li>
<p>å†…ç½®åŠ å¯†ï¼šQUIC å¼ºåˆ¶ä½¿ç”¨ TLS 1.3ã€‚</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85ac42499f7e4becbcda8bd9b9a5f0d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770777700&amp;x-signature=ZfxYbDAZmox3SvLB4TCGD%2BwU5z0%3D" alt="HTTP/3åŠ é€Ÿ" loading="lazy"/></p>
<h2 data-id="heading-2">3. åŸç”Ÿ WebGPU ç”¨äº AI/ML å·¥ä½œè´Ÿè½½</h2>
<p>WebGPU API æ”¯æŒåœ¨ Node.js ä¸­ç›´æ¥è¿›è¡Œ GPU åŠ é€Ÿè®¡ç®—ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-variable constant_">GPU</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"node:webgpu"</span>;

<span class="hljs-keyword">const</span> adapter = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">gpu</span>.<span class="hljs-title function_">requestAdapter</span>();
<span class="hljs-keyword">const</span> device = <span class="hljs-keyword">await</span> adapter.<span class="hljs-title function_">requestDevice</span>();
<span class="hljs-comment">// Run matrix operations on GPU for AI inference</span>
<span class="hljs-keyword">const</span> computeShader = <span class="hljs-string">`
  @compute @workgroup_size(256)
  fn main(@builtin(global_invocation_id) id: vec3&lt;u32&gt;) {
    output[id.x] = tanh(input[id.x]);
  }
`</span>;
</code></pre>
<p><strong>ä½ å¯ä»¥ç”¨äºï¼š</strong></p>
<ul>
<li>
<p>æœ¬åœ° LLM æ¨ç†ï¼ˆLlamaã€Mistral æ¨¡å‹ï¼‰</p>
</li>
<li>
<p>å›¾åƒ/è§†é¢‘å¤„ç†</p>
</li>
<li>
<p>å®æ—¶æ•°æ®åˆ†æ</p>
</li>
<li>
<p>ç§‘å­¦è®¡ç®—</p>
</li>
</ul>
<p>è¿™ä½¿å¾— Node.js å¯ä»¥ç”¨äºä»¥å‰éœ€è¦ Python æˆ–åŸç”Ÿç»‘å®šæ‰èƒ½è¿è¡Œçš„ AI/ML å·¥ä½œè´Ÿè½½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ced6d4231fcd4a72b3c0676bd721b3c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770777700&amp;x-signature=w8hiypJsx4Rw78Ni7DhjP%2FxEodc%3D" alt="WebGPU AIèƒ½åŠ›" loading="lazy"/></p>
<h2 data-id="heading-3">4. æƒé™æ¨¡å‹ï¼šç»†ç²’åº¦å®‰å…¨</h2>
<p>ç¨³å®šçš„æƒé™æ¨¡å‹ä½¿ä½ å¯ä»¥å¯¹è¿è¡Œæ—¶è®¿é—®æƒé™è¿›è¡Œç²¾ç»†æ§åˆ¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"># <span class="hljs-title class_">Restrict</span> file system and network access
node --allow-fs-read=./data --allow-net=api.<span class="hljs-property">example</span>.<span class="hljs-property">com</span> app.<span class="hljs-property">js</span>

# <span class="hljs-title class_">Disable</span> child processes
node --no-allow-child-process app.<span class="hljs-property">js</span>
<span class="hljs-keyword">import</span> { readFile } <span class="hljs-keyword">from</span> <span class="hljs-string">'node:fs/promises'</span>;

<span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">readFile</span>(<span class="hljs-string">'/etc/passwd'</span>, <span class="hljs-string">'utf-8'</span>);
} <span class="hljs-keyword">catch</span> (err) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Access denied:'</span>, err.<span class="hljs-property">code</span>); <span class="hljs-comment">// ERR_ACCESS_DENIED</span>
}
</code></pre>
<p>éå¸¸é€‚åˆè¿è¡Œä¸å—ä¿¡ä»»çš„ä»£ç ã€å…·æœ‰æœ€å°æƒé™çš„å¾®æœåŠ¡ï¼Œä»¥åŠå…·æœ‰å®‰å…¨çº¦æŸçš„è¾¹ç¼˜éƒ¨ç½²ã€‚</p>
<h2 data-id="heading-4">5. å†…ç½® SQLite å¢å¼ºåŠŸèƒ½</h2>
<p>åŸç”Ÿ SQLite æ”¯æŒå·²ç»æˆç†Ÿï¼Œå…·æœ‰æµå¼ä¼ è¾“å’Œæ€§èƒ½ä¼˜åŒ–ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">DatabaseSync</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"node:sqlite"</span>;

<span class="hljs-keyword">const</span> db = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatabaseSync</span>(<span class="hljs-string">"./app.db"</span>);

db.<span class="hljs-title function_">exec</span>(<span class="hljs-string">`CREATE TABLE IF NOT EXISTS users ( 
  id INTEGER PRIMARY KEY, 
  name TEXT, 
  email TEXT UNIQUE
)`</span>);

<span class="hljs-keyword">const</span> insert = db.<span class="hljs-title function_">prepare</span>(<span class="hljs-string">"INSERT INTO users (name, email) VALUES (?, ?)"</span>);
insert.<span class="hljs-title function_">run</span>(<span class="hljs-string">"Alice"</span>, <span class="hljs-string">"alice@example.com"</span>);

<span class="hljs-comment">// æ–°å¢ï¼šç”¨äºå¤§æ•°æ®é›†çš„æµå¼ä¼ è¾“</span>
<span class="hljs-keyword">const</span> stream = db.<span class="hljs-title function_">prepareStream</span>(<span class="hljs-string">"SELECT * FROM large_table"</span>);

<span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> row <span class="hljs-keyword">of</span> stream) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(row);
}
</code></pre>
<p><strong>ä½¿ç”¨å®ƒçš„ä¼˜åŠ¿åœ¨äºï¼š</strong></p>
<ul>
<li>
<p>æ‰¹é‡æ’å…¥é€Ÿåº¦æå‡ 10 å€</p>
</li>
<li>
<p>æµå¼ API æé«˜å†…å­˜æ•ˆç‡</p>
</li>
<li>
<p>æ›´å¥½çš„é”™è¯¯å¤„ç†</p>
</li>
<li>
<p>è‡ªåŠ¨è¿æ¥æ± </p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/369378ec51c247bd9420da5918ab1072~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770777700&amp;x-signature=66%2BQuS%2FOLM0jo95ADimI9ZcwJlc%3D" alt="å†…ç½®SQLite" loading="lazy"/></p>
<h2 data-id="heading-5">6. ç¯å¢ƒæ–‡ä»¶å’Œé…ç½®</h2>
<p><code>--env-file</code> æ ‡å¿—ç°åœ¨æ”¯æŒå¤šä¸ªæ–‡ä»¶ï¼Œå¹¶å†…ç½®äº†éªŒè¯åŠŸèƒ½ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">node --env-file=.<span class="hljs-built_in">env</span> --env-file=.env.local app.js
</code></pre>
<p><strong>éªŒè¯åŠŸèƒ½ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { env } <span class="hljs-keyword">from</span> <span class="hljs-string">"node:process"</span>;

<span class="hljs-comment">// å†…ç½®æ¶æ„éªŒè¯ï¼ˆ2026 å¹´æ–°å¢ï¼‰</span>
<span class="hljs-keyword">const</span> config = env.<span class="hljs-title function_">validate</span>({
  <span class="hljs-attr">PORT</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">"number"</span>, <span class="hljs-attr">default</span>: <span class="hljs-number">3000</span> },
  <span class="hljs-attr">DATABASE_URL</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">"string"</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span> },
  <span class="hljs-attr">DEBUG</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">"boolean"</span>, <span class="hljs-attr">default</span>: <span class="hljs-literal">false</span> },
  <span class="hljs-attr">API_KEYS</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">"array"</span>, <span class="hljs-attr">separator</span>: <span class="hljs-string">","</span> },
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(config);
<span class="hljs-comment">// { PORT: 3000, DATABASE_URL: '...', DE<span class="hljs-doctag">BUG:</span> false, API_KEYS: ['key1', 'key2'] }</span>
</code></pre>
<p>ä¸å†éœ€è¦ <code>dotenv</code> åŒ…ã€‚é…ç½®éªŒè¯æ˜¯å†…ç½®çš„ã€‚</p>
<h2 data-id="heading-6">7. ç›‘è§†æ¨¡å¼çš„æ¼”è¿›</h2>
<p>ç›‘è§†æ¨¡å¼ç°åœ¨æ›´æ™ºèƒ½ï¼Œå…·æœ‰å¯é…ç½®çš„è¡Œä¸ºå’Œæ¨¡å¼åŒ¹é…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¸¦å»æŠ–åŠ¨çš„ç›‘è§†</span>
node --watch=500ms server.js

<span class="hljs-comment"># ç›‘è§†ç‰¹å®šæ¨¡å¼</span>
node --watch=<span class="hljs-string">'src/**/*.js'</span> --watch=<span class="hljs-string">'config/*.json'</span> app.js
<span class="hljs-comment"># é‡å¯æ—¶ä¿ç•™è¾“å‡º</span>
node --watch --watch-preserve-output server.js
<span class="hljs-comment"># ä¸ TypeScript ç»“åˆ</span>
node --experimental-strip-types --watch server.ts
</code></pre>
<p><strong>ç¼–ç¨‹å¼ç›‘è§† APIï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { watch } <span class="hljs-keyword">from</span> <span class="hljs-string">"node:fs"</span>;

<span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> event <span class="hljs-keyword">of</span> <span class="hljs-title function_">watch</span>(<span class="hljs-string">"./src"</span>, { <span class="hljs-attr">recursive</span>: <span class="hljs-literal">true</span> })) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${event.filename}</span> was <span class="hljs-subst">${event.eventType}</span>`</span>);
  <span class="hljs-comment">// è‡ªå®šä¹‰é‡æ–°åŠ è½½é€»è¾‘</span>
}
</code></pre>
<p>ä¸å†éœ€è¦ <code>nodemon</code>ï¼Œç›‘è§†æ¨¡å¼å¯ä»¥å¤„ç†ä»å¼€å‘åˆ°æµ‹è¯•çš„æ‰€æœ‰ç¯èŠ‚ï¼Œå¹¶æä¾›ç²¾ç»†çš„æ§åˆ¶ã€‚</p>
<h2 data-id="heading-7">8. å†…ç½®æµ‹è¯•è¿è¡Œç¨‹åºæˆç†Ÿåº¦</h2>
<p>åŸç”Ÿæµ‹è¯•è¿è¡Œç¨‹åºåœ¨åŠŸèƒ½ä¸Šå·²ç»å¯ä»¥ä¸ Jest å’Œ Mocha ç›¸åª²ç¾ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { test, describe, beforeEach, mock } <span class="hljs-keyword">from</span> <span class="hljs-string">"node:test"</span>;
<span class="hljs-keyword">import</span> assert <span class="hljs-keyword">from</span> <span class="hljs-string">"node:assert"</span>;

<span class="hljs-title function_">describe</span>(<span class="hljs-string">"User API"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">() =&gt;</span> {
    db = <span class="hljs-title function_">createTestDB</span>();
  });

  <span class="hljs-comment">// å¿«ç…§æµ‹è¯•å†…ç½®</span>
  <span class="hljs-title function_">test</span>(<span class="hljs-string">"user response format"</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchUser</span>(<span class="hljs-number">1</span>);
    assert.<span class="hljs-title function_">snapshot</span>(user);
  });

  <span class="hljs-comment">// æ— éœ€åº“çš„æ¨¡æ‹Ÿ</span>
  <span class="hljs-title function_">test</span>(<span class="hljs-string">"handles API failure"</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> mockFetch = mock.<span class="hljs-title function_">fn</span>(fetch, <span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Network error"</span>);
    });

    <span class="hljs-keyword">await</span> assert.<span class="hljs-title function_">rejects</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">syncUserData</span>(), <span class="hljs-regexp">/Network error/</span>);
    assert.<span class="hljs-title function_">strictEqual</span>(mockFetch.<span class="hljs-property">mock</span>.<span class="hljs-property">calls</span>.<span class="hljs-property">length</span>, <span class="hljs-number">3</span>);
  });

  <span class="hljs-comment">// é»˜è®¤å¹¶è¡Œæ‰§è¡Œ</span>
  test.<span class="hljs-title function_">concurrent</span>(<span class="hljs-string">"test 1"</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-comment">/* ... */</span>
  });
  test.<span class="hljs-title function_">concurrent</span>(<span class="hljs-string">"test 2"</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-comment">/* ... */</span>
  });
});
</code></pre>
<p><strong>å¸¦è¦†ç›–ç‡è¿è¡Œï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">node --<span class="hljs-built_in">test</span> --experimental-test-coverage --test-reporter=spec
</code></pre>
<p><strong>è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-plaintext" lang="plaintext">âœ“ User API &gt; user response format (2ms)
âœ“ User API &gt; handles API failure (15ms)
âœ“ User API &gt; test 1 (45ms)

Coverage: 87.5% (70/80 lines)
</code></pre>
<p>åŠŸèƒ½åŒ…æ‹¬å¿«ç…§æµ‹è¯•ã€å†…ç½®æ¨¡æ‹Ÿã€å¹¶è¡Œæ‰§è¡Œå’Œä»£ç è¦†ç›–ç‡â€”â€”æ— éœ€å®‰è£… Jestã€Mocha æˆ– Sinonã€‚</p>
<h2 data-id="heading-8">9. å¢å¼ºçš„å·¥ä½œçº¿ç¨‹</h2>
<p>å·¥ä½œçº¿ç¨‹ç°åœ¨æ”¯æŒ SharedArrayBufferï¼Œå¹¶ä¸” API æ›´ç®€å•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Worker</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"node:worker_threads"</span>;

<span class="hljs-keyword">const</span> sharedBuffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SharedArrayBuffer</span>(<span class="hljs-number">1024</span>);
<span class="hljs-keyword">const</span> sharedArray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Int32Array</span>(sharedBuffer);

<span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(
  <span class="hljs-string">`
  import { parentPort, workerData } from 'node:worker_threads';
  const array = new Int32Array(workerData.buffer);
  
  for (let i = 0; i &lt; 1000; i++) {
    Atomics.add(array, 0, 1);
  }
  
  parentPort.postMessage('done');
`</span>,
  { <span class="hljs-attr">eval</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">workerData</span>: { <span class="hljs-attr">buffer</span>: sharedBuffer } },
);

worker.<span class="hljs-title function_">on</span>(<span class="hljs-string">"message"</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Counter:"</span>, sharedArray[<span class="hljs-number">0</span>]); <span class="hljs-comment">// 1000</span>
});
</code></pre>
<p><strong>æ–°çš„å·¥ä½œçº¿ APIï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">WorkerPool</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"node:worker_threads"</span>;

<span class="hljs-keyword">const</span> pool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WorkerPool</span>(<span class="hljs-string">"./compute-worker.js"</span>, { <span class="hljs-attr">size</span>: <span class="hljs-number">4</span> });
<span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(tasks.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">task</span>) =&gt;</span> pool.<span class="hljs-title function_">exec</span>(task)));

<span class="hljs-keyword">await</span> pool.<span class="hljs-title function_">close</span>();
</code></pre>
<h2 data-id="heading-9">10. ç°ä»£ ECMAScript ç‰¹æ€§</h2>
<p>Node.js 2026 ç‰ˆæœ¬ç¨³å®šæ”¯æŒæœ€æ–°çš„ JavaScript ç‰¹æ€§ï¼š</p>
<p><strong>Records &amp; Tuples</strong>ï¼ˆä¸å¯å˜æ•°æ®ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> user = #{ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Alice"</span> };
<span class="hljs-keyword">const</span> updated = #{ ...user, <span class="hljs-attr">name</span>: <span class="hljs-string">"Alice Smith"</span> };
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(#{ <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> } === #{ <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> }); <span class="hljs-comment">// true!</span>
</code></pre>
<p><strong>ç®¡é“æ“ä½œç¬¦</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> result = userId |&gt; fetchUser |&gt; validateUser |&gt; transformData |&gt; saveToDatabase;
</code></pre>
<p><strong>æ¨¡å¼åŒ¹é…</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handle</span> = (<span class="hljs-params">res</span>) =&gt; match (res) {
  when ({ <span class="hljs-attr">status</span>: <span class="hljs-number">200</span>, data }): data,
  when ({ <span class="hljs-attr">status</span>: <span class="hljs-number">404</span> }): <span class="hljs-literal">null</span>,
  when ({ <span class="hljs-attr">status</span>: s }) <span class="hljs-keyword">if</span> (s &gt;= <span class="hljs-number">500</span>): <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Server error'</span>),
  <span class="hljs-attr">default</span>: <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Unknown'</span>)
};
</code></pre>
<h2 data-id="heading-10">11. æ€»ç»“</h2>
<p>Node.js åœ¨ 2026 å¹´ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå¢é‡æ›´æ–°â€”â€”å®ƒæ˜¯ä¸€ä¸ªèŒƒå¼è½¬å˜ï¼š</p>
<p>âœ… <strong>åŸç”Ÿ TypeScript</strong> = å¼€å‘æ— éœ€æ„å»ºå·¥å…·<br/>
âœ… <strong>ç±»å‹å‰¥ç¦»</strong> = æ¯”ç¼–è¯‘å¿« 10-20 å€<br/>
âœ… <strong>HTTP/3</strong> = å®é™…æ€§èƒ½æå‡<br/>
âœ… <strong>WebGPU</strong> = æ— éœ€ Python çš„ AI/ML<br/>
âœ… <strong>æƒé™æ¨¡å‹</strong> = ç”Ÿäº§çº§å®‰å…¨<br/>
âœ… <strong>å†…ç½® SQLite</strong> = æ— ä¾èµ–æ•°æ®åº“<br/>
âœ… <strong>ç¯å¢ƒéªŒè¯</strong> = ä¸å†éœ€è¦ dotenv<br/>
âœ… <strong>æ™ºèƒ½ç›‘è§†æ¨¡å¼</strong> = ä¸å†éœ€è¦ nodemon<br/>
âœ… <strong>æµ‹è¯•è¿è¡Œå™¨</strong> = ä¸å†éœ€è¦ Jest/Mocha<br/>
âœ… <strong>ç°ä»£ JavaScript</strong> = recordsã€tuplesã€ç®¡é“ã€æ¨¡å¼åŒ¹é…</p>
<p>æ—§ç‰ˆ Node.js éœ€è¦ 50 å¤šä¸ªè½¯ä»¶åŒ…æ‰èƒ½é«˜æ•ˆè¿è¡Œã€‚æ–°ç‰ˆ Node.js å†…ç½®äº†å¤§éƒ¨åˆ†æ‰€éœ€åŠŸèƒ½ï¼Œå¹¶ä¸”é›†æˆåº¦æ›´é«˜ï¼Œæ€§èƒ½æ›´ä½³ã€‚</p>
<p>äºæ˜¯å®ç°äº†æ›´å°‘çš„ä¾èµ–ã€æ›´å¿«çš„å¼€å‘ã€æ›´å¥½çš„å®‰å…¨ï¼Œä»¥åŠä»¥å‰ä¸å¯èƒ½å®ç°çš„æ–°èƒ½åŠ›ã€‚</p>
<p>å¦‚æœä½ è¿˜æ²¡åœ¨ 2026 å¹´æ¢ç´¢è¿‡ Node.jsï¼Œç°åœ¨æ­£æ˜¯æ—¶å€™ã€‚è¿™ä¸ªå¹³å°å·²ç»å‘ç”Ÿäº†æ ¹æœ¬æ€§çš„å˜é©ï¼Œè¿‡å»çš„ç§ç§é™åˆ¶æ—©å·²ä¸å†é€‚ç”¨ã€‚</p>
<p>æˆ‘æ˜¯å†´ç¾½ï¼Œ10 å¹´ç¬”è€•ä¸è¾ï¼Œä¸“æ³¨å‰ç«¯é¢†åŸŸï¼Œæ›´æ–°äº† 10+ ç³»åˆ—ã€300+ ç¯‡åŸåˆ›æŠ€æœ¯æ–‡ç« ï¼Œç¿»è¯‘è¿‡ Svelteã€Solid.jsã€TypeScript æ–‡æ¡£ï¼Œè‘—æœ‰å°å†Œã€ŠNext.js å¼€å‘æŒ‡å—ã€‹ã€ã€ŠSvelte å¼€å‘æŒ‡å—ã€‹ã€ã€ŠAstro å®æˆ˜æŒ‡å—ã€‹ã€‚</p>
<p>æ¬¢è¿å›´è§‚æˆ‘çš„â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fyayujs.com%2F" target="_blank" title="https://yayujs.com/" ref="nofollow noopener noreferrer">ç½‘é¡µç‰ˆæœ‹å‹åœˆ</a>â€ï¼Œå…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<strong>å†´ç¾½ï¼ˆæˆ–æœç´¢ yayujsï¼‰</strong>ï¼Œæ¯å¤©åˆ†äº«å‰ç«¯çŸ¥è¯†ã€AI å¹²è´§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>