<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[å“åº”å¼å›¾ç‰‡ï¼šåˆ«åªä¼š max-width:100%ï¼ŒçœŸæ­£å…³é”®æ˜¯â€œé€‰èµ„æºâ€ï¼ˆåŸºäºMDNçš„æ–‡æ¡£ï¼‰]]></title>    <link>https://juejin.cn/post/7602531501457981449</link>    <guid>https://juejin.cn/post/7602531501457981449</guid>    <pubDate>2026-02-04T08:26:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602531501457981449" data-draft-id="7602471311509127195" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å“åº”å¼å›¾ç‰‡ï¼šåˆ«åªä¼š max-width:100%ï¼ŒçœŸæ­£å…³é”®æ˜¯â€œé€‰èµ„æºâ€ï¼ˆåŸºäºMDNçš„æ–‡æ¡£ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T08:26:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Flinton"/> <meta itemprop="url" content="https://juejin.cn/user/2225067266677640"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å“åº”å¼å›¾ç‰‡ï¼šåˆ«åªä¼š max-width:100%ï¼ŒçœŸæ­£å…³é”®æ˜¯â€œé€‰èµ„æºâ€ï¼ˆåŸºäºMDNçš„æ–‡æ¡£ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2225067266677640/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Flinton
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:26:29.000Z" title="Wed Feb 04 2026 08:26:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ã€å°å¥‡è…¾ã€‘ã€‚æ‹›è˜é‡Œå¸¸å†™â€œè¦ä¼šå“åº”å¼å¼€å‘â€ï¼Œä½†å¾ˆå¤šäººå¯¹â€œå“åº”å¼å›¾ç‰‡â€çš„ç†è§£åœç•™åœ¨ï¼š<code>img { max-width:100% }</code>ã€‚<br/>
è¿™ç¡®å®èƒ½è®©å›¾ç‰‡è·Ÿç€å®¹å™¨ç¼©æ”¾ï¼Œä½†<strong>æ‰‹æœºå¯èƒ½ä»ç„¶ä¸‹è½½ä¸€å¼ è¶…å¤§å›¾</strong> â†’ æ›´æ…¢ã€æ›´è´¹æµé‡ã€‚</p>
<p><strong>ä¸€å¥è¯ç»“è®ºï¼šå“åº”å¼å›¾ç‰‡ = æ˜¾ç¤ºåˆé€‚ï¼ˆç¼©æ”¾ï¼‰ + ä¸‹è½½åˆé€‚ï¼ˆé€‰èµ„æºï¼‰ã€‚</strong></p>
</blockquote>
<p>æœ¬æœŸè¯¦ç»†çš„è§†é¢‘æ•™ç¨‹bilibiliï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1DzfRBnE3Z%2F%3Fvd_source%3D4213d38d889ea1581bbcae78a04cbd9d" target="_blank" title="https://www.bilibili.com/video/BV1DzfRBnE3Z/?vd_source=4213d38d889ea1581bbcae78a04cbd9d" ref="nofollow noopener noreferrer">å“åº”å¼å›¾ç‰‡ï¼šåˆ«åªä¼š max-width:100%ï¼ŒçœŸæ­£å…³é”®æ˜¯â€œé€‰èµ„æºâ€ï¼ˆåŸºäºMDNçš„æ–‡æ¡£ï¼‰</a></p>
<h2 data-id="heading-0">ä½ å°†å­¦åˆ°ä»€ä¹ˆ</h2>
<ul>
<li><strong>è·¯çº¿ Aï¼š<code>srcset + sizes</code></strong>ï¼ˆåŒä¸€æ„å›¾ï¼Œåªæ¢æ¸…æ™°åº¦/æ–‡ä»¶å¤§å°ï¼‰âœ…æœ€å¸¸ç”¨</li>
<li><strong>è·¯çº¿ Bï¼š<code>&lt;picture&gt;</code></strong>ï¼ˆä¸åŒå±å¹•éœ€è¦ä¸åŒæ„å›¾/è£åˆ‡ï¼‰âœ…æ›´åƒâ€œè‰ºæœ¯æŒ‡å¯¼â€</li>
</ul>
<hr/>
<pre><code class="hljs language-css" lang="css"># ä¸€ã€ä¸ºä»€ä¹ˆâ€œçœ‹èµ·æ¥èƒ½ç¼©æ”¾â€è¿˜ä¸ç®—å“åº”å¼å›¾ç‰‡ï¼Ÿ

å¾ˆå¤šäººå†™è¿‡è¿™æ ·çš„ CSSï¼š

```css
<span class="hljs-selector-tag">img</span> {
  <span class="hljs-attribute">display</span>: block;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: auto;
}
</code></pre>
<p>å®ƒèƒ½åšåˆ°ï¼š<strong>å›¾ç‰‡ä¸ä¼šè¶…è¿‡å®¹å™¨å®½åº¦</strong>ã€‚ä½ æ‹–åŠ¨æµè§ˆå™¨çª—å£ï¼Œå›¾ç‰‡ä¼šå˜å¤§å˜å°ï¼Œçœ‹èµ·æ¥â€œå·²ç»å“åº”å¼â€ã€‚</p>
<p>ä½†è¿™åªè§£å†³äº† <strong>Aï¼šæ˜¾ç¤ºå°ºå¯¸å˜äº†</strong>ï¼Œå¹¶æ²¡æœ‰è§£å†³ <strong>Bï¼šä¸‹è½½èµ„æºè·Ÿç€å˜</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-1">1ï¼‰æ ¸å¿ƒè¯¯åŒºï¼šåªåšåˆ°äº†â€œæ˜¾ç¤ºå˜äº†â€ï¼Œæ²¡åšåˆ°â€œèµ„æºå˜äº†â€</h3>
<p>ä¸¾ä¸ªçœŸå®åœºæ™¯ï¼š</p>
<ul>
<li>æ‰‹æœºä¸Šçš„å®¹å™¨å¯èƒ½åªæœ‰ <strong>360px</strong></li>
<li>ä½†ä½ ä»ç„¶è®©æµè§ˆå™¨ä¸‹è½½ <code>elva-800w.jpg</code>ï¼ˆå®½ 800px çš„å›¾ç‰‡èµ„æºï¼‰</li>
<li>ç»“æœï¼š<strong>ä¸‹è½½æ›´å¤§å›¾ç‰‡ â†’ æ›´æ…¢ â†’ æ›´è´¹æµé‡</strong></li>
</ul>
<blockquote>
<p><strong>â€œä¸å“åº”å¼â€å¾ˆå¤šæ—¶å€™æŒ‡çš„æ˜¯ï¼šèµ„æºé€‰æ‹©ä¸æ™ºèƒ½ï¼ˆä¸€å¼ å¤§å›¾èµ°å¤©ä¸‹ï¼‰ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-2">2ï¼‰éªŒè¯ä¸€ä¸‹ï¼šä½ åˆ°åº•ä¸‹è½½äº†å¤šå¤§çš„å›¾ï¼Ÿ</h3>
<p>ç”¨æœ€ç®€å•çš„æ–¹å¼éªŒè¯ï¼ˆå¼ºçƒˆå»ºè®®å†™åœ¨æ–‡ä¸­è®©è¯»è€…ç…§åšï¼‰ï¼š</p>
<ul>
<li>æ‰“å¼€ DevTools â†’ <strong>Network</strong></li>
<li>è¿‡æ»¤ <strong>Img</strong></li>
<li>åˆ·æ–°é¡µé¢ï¼ˆå»ºè®®å…ˆå‹¾é€‰ Disable cacheï¼‰</li>
<li>çœ‹çœ‹ä¸‹è½½çš„æ˜¯ä¸æ˜¯æ°¸è¿œåŒä¸€å¼ å¤§å›¾</li>
</ul>
<p>å¦‚æœä½ åªç”¨äº† <code>max-width:100%</code>ï¼Œä½ ä¼šå‘ç°ï¼š<strong>å›¾ç‰‡æ˜¾ç¤ºå˜äº†ï¼Œä½†ä¸‹è½½çš„èµ„æºæ²¡å˜</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-3">3ï¼‰æ›´å…¸å‹çš„â€œæ°¸è¿œä¸€åˆ€åˆ‡â€ï¼šheader èƒŒæ™¯å›¾</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">header</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">header.jpg</span>) no-repeat center;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
}
</code></pre>
<p>è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>æ‰‹æœºä¹Ÿä¸‹è½½ <code>header.jpg</code></li>
<li>å¤§å±ä¹Ÿä¸‹è½½ <code>header.jpg</code></li>
<li><strong>æ°¸è¿œåªä¸€å¼ å›¾</strong>ï¼ˆå¯èƒ½æ‰‹æœºæµªè´¹æµé‡ï¼Œå¤§å±åˆä¸å¤Ÿæ¸…æ™°ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-4">äºŒã€çœŸæ­£çš„å“åº”å¼å›¾ç‰‡åˆ°åº•è¦æ»¡è¶³å“ªä¸¤ä»¶äº‹ï¼Ÿ</h2>
<p>MDN å¯¹å“åº”å¼å›¾ç‰‡çš„è§£é‡Šï¼šå“åº”å¼å›¾ç‰‡æ˜¯åœ¨ä¸åŒå±å¹•å°ºå¯¸ã€åˆ†è¾¨ç‡æˆ–å…·æœ‰å…¶ä»–ç±»ä¼¼ç‰¹æ€§çš„è®¾å¤‡ä¸Šéƒ½å‘ˆç°è‰¯å¥½çš„å›¾ç‰‡ï¼Œå¹¶æ¢ç©¶ HTML æä¾›çš„ä¸€äº›å¸®åŠ©å®ç°å®ƒä»¬çš„å·¥å…·ï¼Œä»¥æå‡ä¸åŒè®¾å¤‡ä¸Šçš„æ€§èƒ½ã€‚</p>
<blockquote>
<p>ä½ å¯ä»¥æŠŠâ€œå“åº”å¼å›¾ç‰‡â€æ‹†æˆä¸¤ä¸ªå¿…é¡»åŒæ—¶è¾¾æˆçš„ç›®æ ‡ï¼š</p>
</blockquote>
<h3 data-id="heading-5">âœ… â‘  æ˜¾ç¤ºåˆé€‚ï¼ˆå¸ƒå±€ / ç¼©æ”¾ï¼‰</h3>
<ul>
<li>ä¸æº¢å‡ºã€ä¸å˜å½¢ã€æ’ç‰ˆæ­£å¸¸</li>
<li>å¸¸ç”¨ï¼š<code>max-width:100%</code>ã€åˆç†å®¹å™¨å¸ƒå±€</li>
</ul>
<h3 data-id="heading-6">âœ… â‘¡ ä¸‹è½½åˆé€‚ï¼ˆæ€§èƒ½ / æ¸…æ™°åº¦ï¼‰â€”â€”çœŸæ­£å…³é”®</h3>
<ul>
<li>æ‰‹æœºåˆ«ä¸‹è½½è¶…å¤§å›¾ï¼ˆçœæµé‡/æ›´å¿«ï¼‰</li>
<li>é«˜æ¸…å±åˆ«ç³Šï¼ˆè¶³å¤Ÿæ¸…æ™°ï¼‰</li>
<li>éœ€è¦ï¼š<code>srcset / sizes</code> æˆ– <code>&lt;picture&gt;</code></li>
</ul>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€ä¸¤æ¡è·¯çº¿æ€ä¹ˆé€‰ï¼ˆå…ˆæŠŠè·¯é€‰å¯¹ï¼‰</h2>























<table><thead><tr><th>åœºæ™¯</th><th>è§£å†³ä»€ä¹ˆ</th><th>ç”¨ä»€ä¹ˆ</th><th>ä¸€å¥è¯</th></tr></thead><tbody><tr><td>åŒä¸€å¼ ç”»é¢ï¼Œä¸åŒæ¸…æ™°åº¦/ä½“ç§¯</td><td>çœæµé‡ + ä¸ç³Š</td><td><code>srcset + sizes</code></td><td>âœ…æœ€å¸¸ç”¨ï¼šæµè§ˆå™¨æŒ‰â€œæ˜¾ç¤ºå®½åº¦ + DPRâ€é€‰</td></tr><tr><td>ä¸åŒå±å¹•è¦ä¸åŒæ„å›¾ï¼ˆè£åˆ‡/è¿‘æ™¯/ä¿¡æ¯æ›´æ¸…æ™°ï¼‰</td><td>ç”»é¢ä¿¡æ¯æ¸…æ™°</td><td><code>&lt;picture&gt; + source[media]</code></td><td>âœ…éœ€è¦â€œæ¢æ„å›¾â€æ‰ç”¨</td></tr></tbody></table>
<blockquote>
<p><strong>ä¼˜å…ˆå­¦ <code>srcset + sizes</code>ï¼ˆé»˜è®¤æ–¹æ¡ˆï¼‰</strong> ï¼Œåªæœ‰å½“ä½ ç¡®å®éœ€è¦æ¢æ„å›¾ï¼Œå†ä¸Š <code>&lt;picture&gt;</code>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-8">å››ã€è·¯çº¿ Aï¼š<code>srcset + sizes</code>ï¼ˆåŒæ„å›¾é€‰å°ºå¯¸ï¼‰âœ…æœ€å¸¸ç”¨</h2>
<p>ä½ åªéœ€è¦è®°ä½ä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong><code>srcset</code> æä¾›å€™é€‰èµ„æºï¼Œ<code>sizes</code> å‘Šè¯‰æµè§ˆå™¨â€œè¿™å¼ å›¾å¤§æ¦‚ä¼šæ˜¾ç¤ºå¤šå®½â€ï¼Œæµè§ˆå™¨å†ç»“åˆ DPR é€‰æœ€åˆé€‚çš„é‚£å¼ ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-9">1ï¼‰æœ€å°å¯ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-ini" lang="ini">&lt;img
  <span class="hljs-attr">srcset</span>=<span class="hljs-string">"
    elva-fairy-480w.jpg 480w,
    elva-fairy-800w.jpg 800w
  "</span>
  <span class="hljs-attr">sizes</span>=<span class="hljs-string">"(max-width: 600px) 100vw, 800px"</span>
  <span class="hljs-attr">src</span>=<span class="hljs-string">"elva-fairy-800w.jpg"</span>
  <span class="hljs-attr">alt</span>=<span class="hljs-string">"Elva dressed as a fairy"</span>
/&gt;
</code></pre>
<h4 data-id="heading-10">è¿™ä¸‰è¡Œåˆ†åˆ«å¹²ä»€ä¹ˆï¼Ÿ</h4>
<ul>
<li><code>srcset="... 480w, ... 800w"</code>ï¼šå‘Šè¯‰æµè§ˆå™¨â€œæˆ‘æœ‰ä¸¤ä¸ªå®½åº¦ç‰ˆæœ¬â€</li>
<li><code>sizes="(max-width: 600px) 100vw, 800px"</code>ï¼šå‘Šè¯‰æµè§ˆå™¨â€œå›¾ç‰‡æ˜¾ç¤ºå®½åº¦çš„é¢„ä¼°å€¼â€</li>
<li><code>src="..."</code>ï¼šå…œåº•ï¼ˆæ—§æµè§ˆå™¨ä¸æ”¯æŒ srcset/sizes æ—¶ä»èƒ½æ˜¾ç¤ºï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-11">2ï¼‰<code>sizes</code> ä¸ºä»€ä¹ˆæ˜¯å…³é”®ï¼Ÿ</h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">sizes</span>=<span class="hljs-string">"(max-width: 600px) 100vw, 800px"</span>
</code></pre>
<p>å«ä¹‰æ˜¯ï¼š</p>
<ul>
<li>å±å¹• â‰¤ 600pxï¼šå›¾ç‰‡æ˜¾ç¤ºå®½åº¦ â‰ˆ <strong>100vw</strong>ï¼ˆå æ»¡å±å¹•ï¼‰</li>
<li>å¦åˆ™ï¼šå›¾ç‰‡æ˜¾ç¤ºå®½åº¦ â‰ˆ <strong>800px</strong></li>
</ul>
<blockquote>
<p><code>sizes</code> ä¸æ˜¯â€œå›¾ç‰‡å®é™…å®½åº¦â€ï¼Œè€Œæ˜¯ä½ å‘Šè¯‰æµè§ˆå™¨çš„â€œæ˜¾ç¤ºå®½åº¦é¢„ä¼°â€ã€‚<br/>
é¢„ä¼°è¶Šæ¥è¿‘å®é™…å¸ƒå±€ï¼Œæµè§ˆå™¨é€‰èµ„æºå°±è¶Šåˆç†ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-12">3ï¼‰æµè§ˆå™¨åˆ°åº•æ€ä¹ˆé€‰ï¼Ÿï¼ˆç”¨ä¸€å¥â€œç®—è´¦â€å¸®åŠ©è¯»è€…çœŸæ­£ä¼šç”¨ï¼‰</h3>
<p>æµè§ˆå™¨ä¼šä¼°ç®—ï¼š</p>
<blockquote>
<p><strong>ç›®æ ‡èµ„æºåƒç´ å®½åº¦ â‰ˆ å›¾ç‰‡æ˜¾ç¤ºå®½åº¦ Ã— DPR</strong></p>
</blockquote>
<p>ä¸¾ä¾‹ï¼š</p>
<ul>
<li>æ‰‹æœº viewport 360px</li>
<li><code>sizes</code> å‘Šè¯‰æµè§ˆå™¨å›¾ç‰‡æ˜¾ç¤ºå®½åº¦æ˜¯ <code>100vw</code> â†’ çº¦ 360px</li>
<li>DPR=2 â†’ ç›®æ ‡åƒç´ å®½åº¦çº¦ 720px<br/>
â†’ æµè§ˆå™¨æ›´å¯èƒ½é€‰ <code>800w</code> è€Œä¸æ˜¯ <code>480w</code></li>
</ul>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆï¼š<strong>åŒä¸€æ‰‹æœºä¸Šï¼Œä¸åŒ DPR å¯èƒ½é€‰ä¸åŒèµ„æº</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-13">4ï¼‰æ€ä¹ˆéªŒè¯ä½ æˆåŠŸäº†ï¼Ÿ</h3>
<ul>
<li>DevTools â†’ Network â†’ Img</li>
<li>æ‹–åŠ¨çª—å£å®½åº¦ï¼ˆè·¨è¿‡ 600pxï¼‰</li>
<li>æˆ–åœ¨ä¸åŒ DPR è®¾å¤‡/æ¨¡æ‹Ÿå™¨ä¸Šçœ‹</li>
<li>ä½ åº”è¯¥èƒ½çœ‹åˆ°è¯·æ±‚çš„å›¾ç‰‡æ–‡ä»¶å/å°ºå¯¸å‘ç”Ÿå˜åŒ–</li>
</ul>
<hr/>
<h2 data-id="heading-14">äº”ã€è·¯çº¿ Bï¼š<code>&lt;picture&gt;</code>ï¼ˆæ¢æ„å›¾ï¼‰âœ…å½“ä½ éœ€è¦è£åˆ‡/è¿‘æ™¯æ—¶æ‰ç”¨</h2>
<p>å¦‚æœå°å±ä¸Šä¸»ä½“å¤ªå°ã€ä¿¡æ¯çœ‹ä¸æ¸…ï¼Œå°±ä¸æ˜¯â€œç¼©å°åŒä¸€å¼ å›¾â€èƒ½è§£å†³çš„ï¼Œè€Œæ˜¯è¦<strong>æ¢ä¸€å¼ æ›´é€‚åˆå°å±çš„æ„å›¾</strong>ï¼ˆart directionï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-15">1ï¼‰æœ€å°å¯ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-ini" lang="ini">&lt;picture&gt;
  &lt;source <span class="hljs-attr">media</span>=<span class="hljs-string">"(max-width: 799px)"</span> srcset=<span class="hljs-string">"elva-480w-close-portrait.jpg"</span>&gt;
  &lt;source <span class="hljs-attr">media</span>=<span class="hljs-string">"(min-width: 800px)"</span> srcset=<span class="hljs-string">"elva-800w.jpg"</span>&gt;
  &lt;img <span class="hljs-attr">src</span>=<span class="hljs-string">"elva-800w.jpg"</span> alt=<span class="hljs-string">"Chris standing up holding his daughter Elva"</span>&gt;
&lt;/picture&gt;
</code></pre>
<hr/>
<h3 data-id="heading-16">2ï¼‰ä¸‰å¥è¯ææ‡‚ <code>&lt;picture&gt;</code></h3>
<ol>
<li><code>&lt;picture&gt;</code> <strong>ä¸è´Ÿè´£æ¸²æŸ“</strong>ï¼ŒçœŸæ­£æ¸²æŸ“å‡ºæ¥çš„æ˜¯é‡Œé¢çš„ <code>&lt;img&gt;</code></li>
<li>æµè§ˆå™¨ä»ä¸Šåˆ°ä¸‹åŒ¹é… <code>&lt;source&gt;</code>ï¼Œ<strong>ç¬¬ä¸€ä¸ªåŒ¹é…çš„å°±ç”¨</strong></li>
<li>å¦‚æœéƒ½ä¸åŒ¹é…æˆ–æµè§ˆå™¨ä¸æ”¯æŒ <code>&lt;picture&gt;</code>ï¼Œå°±ç”¨ <code>&lt;img src="..."&gt;</code> å…œåº•</li>
</ol>
<hr/>
<h3 data-id="heading-17">3ï¼‰ä¸¤ä¸ªæ–°æ‰‹æœ€å¸¸è¸©çš„å‘ï¼ˆå»ºè®®ä¿ç•™åœ¨æ–‡ä¸­ï¼‰</h3>
<h4 data-id="heading-18">å‘ 1ï¼š<code>media</code> åˆ¤æ–­çš„æ˜¯ <strong>viewport å®½åº¦</strong>ï¼Œä¸æ˜¯å›¾ç‰‡å®¹å™¨å®½åº¦</h4>
<ul>
<li>å®ƒçœ‹çš„æ˜¯æµè§ˆå™¨å¯è§†åŒºåŸŸï¼ˆçª—å£/å±å¹•ï¼‰å®½åº¦</li>
<li>ä¸æ˜¯ä½  <code>.card</code> æˆ– <code>.container</code> çš„å®½åº¦</li>
</ul>
<h4 data-id="heading-19">å‘ 2ï¼šå¦‚æœä½ è¦æ”¯æŒ AVIF/WebPï¼Œè¦å†™ <code>type</code></h4>
<pre><code class="hljs language-ini" lang="ini">&lt;picture&gt;
  &lt;source <span class="hljs-attr">type</span>=<span class="hljs-string">"image/avif"</span> srcset=<span class="hljs-string">"a.avif"</span>&gt;
  &lt;source <span class="hljs-attr">type</span>=<span class="hljs-string">"image/webp"</span> srcset=<span class="hljs-string">"a.webp"</span>&gt;
  &lt;img <span class="hljs-attr">src</span>=<span class="hljs-string">"a.jpg"</span> alt=<span class="hljs-string">""</span>&gt;
&lt;/picture&gt;
</code></pre>
<hr/>
<h3 data-id="heading-20">4ï¼‰æ€ä¹ˆéªŒè¯ <code>&lt;picture&gt;</code> åˆ‡æ¢æˆåŠŸï¼Ÿ</h3>
<ul>
<li>DevTools â†’ Network â†’ Img</li>
<li>å‹¾é€‰ Disable cacheï¼ˆé¿å…ç¼“å­˜å¹²æ‰°ï¼‰</li>
<li>æ‹–åŠ¨çª—å£è·¨è¿‡ 799/800</li>
<li>çœ‹è¯·æ±‚çš„å›¾ç‰‡èµ„æºæ˜¯å¦ä» <code>close-portrait</code> åˆ‡åˆ° <code>800w</code></li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šæœ‰äº›æµè§ˆå™¨åœ¨ç¼“å­˜/å·²åŠ è½½çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦åˆ·æ–°æ‰èƒ½é‡æ–°è§¦å‘é€‰æ‹©ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-21">å…­ã€å®æˆ˜è½åœ°ï¼šæˆ‘åœ¨é¡¹ç›®é‡Œçš„é»˜è®¤è§„åˆ™ï¼ˆå»ºè®®ä¿ç•™ï¼‰</h2>
<p>ä»¥åå¼€å‘æ‹¿åˆ°ä¸€å¼ å›¾ç‰‡ï¼Œé—®è‡ªå·±ä¸¤ä»¶äº‹ï¼š</p>
<h3 data-id="heading-22">â‘  æ˜¾ç¤ºæ˜¯å¦è¦â€œç¼©æ”¾å¾—ä½“â€</h3>
<ul>
<li>ä¸æº¢å‡ºã€ä¸å˜å½¢ã€æ’ç‰ˆæ­£å¸¸</li>
<li>é€šå¸¸ç”¨ï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">img</span> {
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: auto;
  <span class="hljs-attribute">display</span>: block;
}
</code></pre>
<h3 data-id="heading-23">â‘¡ èµ„æºæ˜¯å¦è¦â€œä¸‹è½½å¾—ä½“â€ï¼ˆå…³é”®ï¼‰</h3>
<ul>
<li>
<p><strong>é»˜è®¤ç”¨ <code>srcset + sizes</code></strong>ï¼ˆåŒæ„å›¾ï¼‰</p>
</li>
<li>
<p><strong>åªæœ‰éœ€è¦æ¢æ„å›¾æ—¶ç”¨ <code>&lt;picture&gt;</code></strong></p>
</li>
<li>
<p>æœ€å¥½é…åˆï¼š</p>
<ul>
<li><code>loading="lazy"</code>ï¼ˆéé¦–å±ï¼‰</li>
<li>å†™å¥½ <code>width/height</code> æˆ–å ä½ï¼ˆå‡å°‘å¸ƒå±€æŠ–åŠ¨ CLSï¼‰</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-24">ä¸ƒã€æ€»ç»“</h2>
<blockquote>
<p><strong>å“åº”å¼å›¾ç‰‡ = æ˜¾ç¤ºåˆé€‚ï¼ˆç¼©æ”¾ï¼‰ + ä¸‹è½½åˆé€‚ï¼ˆé€‰èµ„æºï¼‰</strong></p>
</blockquote>
<ul>
<li>åªåš <code>max-width:100%</code>ï¼šâœ…èƒ½ç¼©æ”¾ï¼Œä½† âŒèµ„æºä¸å˜ï¼ˆä¸å¤Ÿå“åº”å¼ï¼‰</li>
<li>åªéœ€æ¢æ¸…æ™°åº¦/å¤§å°ï¼šç”¨ <strong><code>srcset + sizes</code></strong></li>
<li>éœ€è¦æ¢æ„å›¾/è£åˆ‡ï¼šç”¨ <strong><code>&lt;picture&gt;</code></strong></li>
</ul>
<hr/>
<h2 data-id="heading-25">å…«ã€ä»£ç é™„å½•</h2>
<blockquote>
<p>å‚è€ƒï¼šMDN å“åº”å¼å›¾ç‰‡<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FHTML%2FGuides%2FResponsive_images" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Guides/Responsive_images" ref="nofollow noopener noreferrer">developer.mozilla.org/zh-CN/docs/â€¦</a></p>
</blockquote>
<h3 data-id="heading-26">1ï¼‰å“åº”å¼å›¾ç‰‡ï¼ˆåªå…·å¤‡ç¼©æ”¾ç‰¹å¾ï¼‰</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en-US"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"utf-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Not responsive demo<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
      <span class="hljs-selector-tag">html</span> {
        <span class="hljs-attribute">font-family</span>: sans-serif;
        <span class="hljs-attribute">background-color</span>: gray;
      }
      <span class="hljs-selector-tag">body</span> {
        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
        <span class="hljs-attribute">max-width</span>: <span class="hljs-number">1200px</span>;
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
        <span class="hljs-attribute">background-color</span>: white;
      }
      <span class="hljs-selector-tag">header</span> {
        <span class="hljs-attribute">background</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">header.jpg</span>) no-repeat center;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
      }
      <span class="hljs-selector-tag">section</span> {
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
      }
      <span class="hljs-selector-tag">p</span> {
        <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1.5</span>;
      }
      <span class="hljs-selector-tag">img</span> {
        <span class="hljs-attribute">display</span>: block;
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
        <span class="hljs-attribute">max-width</span>: <span class="hljs-number">100%</span>;
        <span class="hljs-attribute">height</span>: auto;
      }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My website<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lorem ipsum dolor sit amet...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"elva-800w.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Chris standing up holding his daughter Elva"</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Suspendisse potenti...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"elva-fairy-800w.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Elva dressed as a fairy"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h3 data-id="heading-27">2ï¼‰å“åº”å¼å›¾ç‰‡ï¼ˆå…·å¤‡ç¼©æ”¾ã€æ€§èƒ½ã€æ¸…æ™°åº¦ç‰¹å¾ï¼‰</h3>
<p>æºä»£ç ï¼ˆMDN learning-areaï¼‰ï¼š<br/>
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmdn%2Flearning-area%2Ftree%2Fmain%2Fhtml%2Fmultimedia-and-embedding%2Fresponsive-images" target="_blank" title="https://github.com/mdn/learning-area/tree/main/html/multimedia-and-embedding/responsive-images" ref="nofollow noopener noreferrer">github.com/mdn/learninâ€¦</a></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My website<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipiscing elit...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">picture</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">media</span>=<span class="hljs-string">"(max-width: 799px)"</span> <span class="hljs-attr">srcset</span>=<span class="hljs-string">"elva-480w-close-portrait.jpg"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">source</span> <span class="hljs-attr">media</span>=<span class="hljs-string">"(min-width: 800px)"</span> <span class="hljs-attr">srcset</span>=<span class="hljs-string">"elva-800w.jpg"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"elva-800w.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Chris standing up holding his daughter Elva"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">picture</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Suspendisse potenti. Ut in luctus eros...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">img</span>
      <span class="hljs-attr">srcset</span>=<span class="hljs-string">"elva-fairy-480w.jpg 480w,
              elva-fairy-800w.jpg 800w"</span>
      <span class="hljs-attr">sizes</span>=<span class="hljs-string">"(max-width: 600px) 100vw, 800px"</span>
      <span class="hljs-attr">src</span>=<span class="hljs-string">"elva-fairy-800w.jpg"</span>
      <span class="hljs-attr">alt</span>=<span class="hljs-string">"Elva dressed as a fairy"</span>
    &gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
</code></pre>
<pre><code class="hljs"/></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‚ç›´SFTè¿‡æ‹Ÿåˆï¼ˆOverfittingï¼‰çš„æ·±å±‚æœºåˆ¶ä¸ç²¾å‡†å¯¹æŠ—]]></title>    <link>https://juejin.cn/post/7602559134576263204</link>    <guid>https://juejin.cn/post/7602559134576263204</guid>    <pubDate>2026-02-04T07:48:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602559134576263204" data-draft-id="7602579671475290131" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‚ç›´SFTè¿‡æ‹Ÿåˆï¼ˆOverfittingï¼‰çš„æ·±å±‚æœºåˆ¶ä¸ç²¾å‡†å¯¹æŠ—"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,ç®—æ³•"/> <meta itemprop="datePublished" content="2026-02-04T07:48:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°åŸçˆ±å­¦ä¹ "/> <meta itemprop="url" content="https://juejin.cn/user/3036193768617897"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‚ç›´SFTè¿‡æ‹Ÿåˆï¼ˆOverfittingï¼‰çš„æ·±å±‚æœºåˆ¶ä¸ç²¾å‡†å¯¹æŠ—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3036193768617897/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°åŸçˆ±å­¦ä¹ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T07:48:48.000Z" title="Wed Feb 04 2026 07:48:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<blockquote>
<p><strong>ä¼ é€é—¨ï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyafo-ai%2Fy-trainer" title="https://github.com/yafo-ai/y-trainer" target="_blank" ref="nofollow noopener noreferrer">GitHubä»“åº“</a>ï¼šæºä»£ç ä¸issueè®¨è®º</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.y-agent.cn%2Fdocs%2Fy-trainer%2Fintroduction" title="https://www.y-agent.cn/docs/y-trainer/introduction" target="_blank" ref="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a>ï¼šæœ€æƒå¨çš„ä½¿ç”¨æŒ‡å—</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.y-agent.cn%2Fdocs%2Fy-trainer%2Ftutorials%2Fcore-algorithm" title="https://www.y-agent.cn/docs/y-trainer/tutorials/core-algorithm" target="_blank" ref="nofollow noopener noreferrer">æ ¸å¿ƒç®—æ³•è¯¦è§£</a>ï¼šNLIRGæ•°å­¦åŸç†</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.y-agent.cn%2Fdocs%2Fy-trainer%2Fquick-start" title="https://www.y-agent.cn/docs/y-trainer/quick-start" target="_blank" ref="nofollow noopener noreferrer">å¿«é€Ÿå¼€å§‹ç¤ºä¾‹</a>ï¼š5åˆ†é’Ÿä¸Šæ‰‹</li>
</ul>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€è¿‡æ‹Ÿåˆï¼šå¤§æ¨¡å‹SFTè®­ç»ƒä¸­çš„"éšå½¢æ€æ‰‹"</h2>
<p>åœ¨å¤§æ¨¡å‹å¾®è°ƒ(SFT)çš„ä¸–ç•Œé‡Œï¼Œè¿‡æ‹Ÿåˆå°±åƒä¸€ä¸ªæ½œä¼çš„éšå½¢æ€æ‰‹ã€‚å½“70Bå‚æ•°çš„å·¨æ— éœ¸æ¨¡å‹é‡ä¸Šä»…10ä¸‡æ¡çš„è®­ç»ƒæ•°æ®ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿæ²¡é”™ï¼Œæ¨¡å‹ä¼šåœ¨æçŸ­æ—¶é—´å†…å°†è®­ç»ƒé›†"å€’èƒŒå¦‚æµ"ï¼Œç„¶åâ€”â€”ç¾éš¾å¼€å§‹äº†ã€‚</p>
<h4 data-id="heading-1">åŒé‡ä¸‹é™ç°è±¡ï¼šä¸åªæ˜¯ç®€å•çš„è¿‡æ‹Ÿåˆ</h4>
<p>ä¼ ç»Ÿæœºå™¨å­¦ä¹ ä¸­ï¼Œè¿‡æ‹Ÿåˆè¡¨ç°ç›¸å¯¹ç®€å•ã€‚ä½†åœ¨å¤§æ¨¡å‹é¢†åŸŸï¼Œæˆ‘ä»¬å¸¸é‡åˆ°æ›´å¤æ‚çš„**åŒé‡ä¸‹é™(Double Descent)**ç°è±¡ï¼šéšç€è®­ç»ƒç»§ç»­ï¼Œæµ‹è¯•è¯¯å·®å…ˆé™åå‡ï¼Œéšååˆç¥å¥‡åœ°å†æ¬¡ä¸‹é™ã€‚åœ¨SFTè¿™ç§"å°æ ·æœ¬ã€å¤§å‚æ•°"åœºæ™¯ä¸‹ï¼Œè¿‡æ‹Ÿåˆä¼šè¡¨ç°ä¸ºï¼š</p>
<pre><code class="hljs language-scss" lang="scss"># å…¸å‹è¿‡æ‹Ÿåˆçš„è¡¨ç°
if training_loss<span class="hljs-selector-class">.approaches_zero</span>() and validation_loss<span class="hljs-selector-class">.rising</span>():
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âš ï¸ è­¦å‘Šï¼šæ¨¡å‹æ­£åœ¨æ­»è®°ç¡¬èƒŒè®­ç»ƒæ•°æ®ï¼"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” å…·ä½“ç—‡çŠ¶ï¼š"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"- å¯¹è®­ç»ƒé›†promptçš„è½»å¾®å˜åŒ–æåº¦æ•æ„Ÿ"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"- ç”Ÿæˆå†…å®¹é™·å…¥é‡å¤å¾ªç¯"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"- å¤šæ ·æ€§æŒ‡æ ‡(diversity score)éª¤é™50%+"</span>)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-2">äºŒã€ä¼ ç»Ÿæ­£åˆ™åŒ–æ–¹æ³•ä¸ºä½•åœ¨LLMè®­ç»ƒä¸­å¤±æ•ˆï¼Ÿ</h3>
<p>é¢å¯¹è¿‡æ‹Ÿåˆï¼Œå·¥ç¨‹å¸ˆä»¬çš„ç¬¬ä¸€ååº”å¾€å¾€æ˜¯è¿™äº›ä¼ ç»Ÿæ–¹æ³•ï¼Œä½†å®ƒä»¬åœ¨å¤§æ¨¡å‹é¢†åŸŸå¾€å¾€æ°´åœŸä¸æœï¼š</p>



































<table><thead><tr><th/><th/><th/></tr></thead><tbody><tr><td>æ–¹æ³•</td><td>ä¼ ç»Ÿæ•ˆæœ</td><td>LLM SFTä¸­é—®é¢˜</td></tr><tr><td>Dropout</td><td>â˜…â˜…â˜…â˜…â˜†</td><td>ç ´åFlash Attentionä¼˜åŒ–ï¼Œè®­ç»ƒé€Ÿåº¦ä¸‹é™40%+</td></tr><tr><td>Early Stopping</td><td>â˜…â˜…â˜…â˜†â˜†</td><td>ç”Ÿæˆå¼è¯„æµ‹æˆæœ¬å¤ªé«˜ï¼Œæ— æ³•é¢‘ç¹éªŒè¯</td></tr><tr><td>Weight Decay</td><td>â˜…â˜…â˜†â˜†â˜†</td><td>éš¾ä»¥ç²¾å‡†æ§åˆ¶ï¼Œå®¹æ˜“åŒæ—¶å‰Šå¼±æ¨¡å‹èƒ½åŠ›</td></tr><tr><td>NEFTune</td><td>â˜…â˜…â˜…â˜†â˜†</td><td>å™ªå£°å‚æ•°éš¾è°ƒï¼Œå®¹æ˜“ç ´åè¯­ä¹‰ç»“æ„</td></tr></tbody></table>
<p><em>è¡¨ï¼šä¼ ç»Ÿ</em> <em>æ­£åˆ™åŒ–</em> <em>æ–¹æ³•åœ¨</em> <em>å¤§æ¨¡å‹</em> <em>SFT</em> <em>åœºæ™¯ä¸­çš„å±€é™æ€§</em></p>
<h3 data-id="heading-3">ä¸‰ã€Y-Trainerçš„ç ´å±€ä¹‹é“ï¼šNLIRGç®—æ³•æ·±åº¦è§£æ</h3>
<p>ä½œä¸ºå‘é‡æ„ŸçŸ¥å›¢é˜Ÿæ¨å‡ºçš„æ™ºèƒ½è®­ç»ƒæ¡†æ¶ï¼ŒY-Traineré€šè¿‡<strong>NLIRGç®—æ³•</strong>(éçº¿æ€§å­¦ä¹ å¼ºåº¦è°ƒèŠ‚ç®—æ³•)å¯¹è¿‡æ‹Ÿåˆè¿›è¡Œç²¾å‡†ç‹™å‡»ã€‚è¿™ä¸æ˜¯ç®€å•çš„æ­£åˆ™åŒ–ï¼Œè€Œæ˜¯ä¸€åœºTokençº§åˆ«çš„ç²¾å‡†æ‰‹æœ¯ã€‚</p>
<h4 data-id="heading-4">3.1 æ ¸å¿ƒæœºåˆ¶ï¼šTokençº§åŠ¨æ€æ¢¯åº¦è°ƒèŠ‚</h4>
<p>NLIRGçš„æ ¸å¿ƒåœ¨äº<strong>å®æ—¶ç›‘æµ‹æ¯ä¸ªtokençš„æŸå¤±å€¼</strong>ï¼Œå¹¶æ ¹æ®é¢„è®¾æ›²çº¿åŠ¨æ€è°ƒæ•´æ¢¯åº¦å¼ºåº¦ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">dynamic_sigmoid_batch</span>(<span class="hljs-params">losses, max_lr=<span class="hljs-number">1.0</span>, x0=<span class="hljs-number">1.2</span>, min_lr=<span class="hljs-number">5e-8</span>, k=<span class="hljs-number">1.7</span></span>):
    <span class="hljs-string">"""
    NLIRGæ ¸å¿ƒç®—æ³•ï¼šåŸºäºæŸå¤±å€¼çš„åŠ¨æ€æƒé‡è®¡ç®—
    æŸå¤±åŒºé—´åˆ’åˆ†ç­–ç•¥ï¼š
    - ä½æŸå¤±åŒºé—´(lossâ‰¤1.45)ï¼šå‰Šå‡æ¢¯åº¦ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆ
    - ä¸­ç­‰æŸå¤±åŒºé—´(1.45&lt;loss&lt;6.6)ï¼šå¢å¼ºæ¢¯åº¦ï¼ŒåŠ é€Ÿå­¦ä¹ 
    - é«˜æŸå¤±åŒºé—´(lossâ‰¥15.0)ï¼šæ¢¯åº¦å½’é›¶ï¼Œè¿‡æ»¤å¼‚å¸¸æ ·æœ¬
    """</span>
    <span class="hljs-comment"># å®é™…ä»£ç å®ç°æ›´å¤æ‚ï¼Œæ­¤å¤„ä¸ºç®€åŒ–ç‰ˆ</span>
    weights = torch.zeros_like(losses)
    <span class="hljs-keyword">for</span> i, loss <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(losses):
        <span class="hljs-keyword">if</span> loss &lt;= <span class="hljs-number">1.45</span>:
            weights[i] = <span class="hljs-number">1</span>/(<span class="hljs-number">1</span> + math.exp(-k*(loss - x0))) * <span class="hljs-number">0.3</span>  <span class="hljs-comment"># å‰Šå¼±ç®€å•æ ·æœ¬</span>
        <span class="hljs-keyword">elif</span> loss &lt; <span class="hljs-number">6.6</span>:
            weights[i] = <span class="hljs-number">1.5</span>  <span class="hljs-comment"># å¢å¼ºä¸­ç­‰éš¾åº¦æ ·æœ¬</span>
        <span class="hljs-keyword">elif</span> loss &lt; <span class="hljs-number">15.0</span>:
            weights[i] = <span class="hljs-number">1</span>/(<span class="hljs-number">1</span> + math.exp(loss - <span class="hljs-number">6.2</span>)) * <span class="hljs-number">0.4</span>  <span class="hljs-comment"># å‰Šå¼±å›°éš¾æ ·æœ¬</span>
        <span class="hljs-keyword">else</span>:
            weights[i] = <span class="hljs-number">0</span>  <span class="hljs-comment"># è¿‡æ»¤å¼‚å¸¸æ ·æœ¬</span>
    <span class="hljs-keyword">return</span> weights
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/182b67f90cc74210ad0a03ed056552f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5Y6f54ix5a2m5Lmg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770796127&amp;x-signature=p%2BzVMqHGTCixMlzzbXQj1BjVfD4%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹<em>å›¾ï¼šNLIRGç®—æ³•çš„åŠ¨æ€æƒé‡æ›²çº¿ã€‚æ¨ªåæ ‡ä¸ºlosså€¼ï¼Œçºµåæ ‡ä¸ºæ¢¯åº¦è®¡ç®—æƒé‡ã€‚</em></p>
<h4 data-id="heading-5">3.2 ä¸‰å¤§åˆ›æ–°ç‚¹è§£æ</h4>
<p><strong>1. Tokençº§åˆ«ç²¾å‡†æ§åˆ¶</strong></p>
<p>ä¼ ç»Ÿæ–¹æ³•å¯¹æ•´ä¸ªbatchç»Ÿä¸€å¤„ç†ï¼Œè€ŒNLIRGå¯¹æ¯ä¸ªtokenå•ç‹¬è®¡ç®—æƒé‡ï¼Œå®ç°<strong>å¾®è§‚çº§ç²¾å‡†è°ƒæ§</strong>ã€‚å½“æ¨¡å‹å¯¹æŸä¸ªtokençš„é¢„æµ‹å·²ç»å¾ˆå‡†ç¡®(loss&lt;1.0)ï¼Œç®—æ³•ä¼šå¤§å¹…é™ä½è¯¥tokençš„æ¢¯åº¦ï¼Œé˜²æ­¢æ¨¡å‹è¿‡åº¦æ‹Ÿåˆè¿™ä¸€ç‰¹å¾ã€‚</p>
<p><strong>2. è‡ªåŠ¨è¿‡æ»¤ä½è´¨é‡æ ·æœ¬</strong></p>
<p>å½“æŸæ ·æœ¬çš„lossæŒç»­é«˜äº15.0æ—¶ï¼ŒNLIRGä¼šè‡ªåŠ¨å°†å…¶æƒé‡è®¾ä¸º0ï¼Œ<strong>ä»æ ¹æœ¬ä¸Šé¿å…å™ªå£°æ•°æ®æ±¡æŸ“æ¨¡å‹</strong>ã€‚åœ¨å®é™…æµ‹è¯•ä¸­ï¼Œè¿™å¸®åŠ©æˆ‘ä»¬è¯†åˆ«å‡ºè®­ç»ƒé›†ä¸­15%çš„ä½è´¨é‡æ ‡æ³¨æ•°æ®ã€‚</p>
<p><strong>3. æ¢¯åº¦çƒ­åŠ›å›¾å¯è§†åŒ–</strong></p>
<p>Y-Traineré›†æˆTensorBoardï¼Œæä¾›ç›´è§‚çš„<strong>æ¢¯åº¦çƒ­åŠ›å›¾</strong>ï¼Œè®©è®­ç»ƒè¿‡ç¨‹å¯è§‚å¯Ÿã€å¯è°ƒè¯•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯ç”¨TensorBoardå¯è§†åŒ–</span>
python -m training_code.start_training \
  --use_tensorboard <span class="hljs-string">'true'</span> \
  --tensorboard_path ./logs
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0dabca5523be486fbe96d667560f8d92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5Y6f54ix5a2m5Lmg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770796127&amp;x-signature=L3oBylhr%2FZMA1v4zS1lbk9XcLY0%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹</p>
<h3 data-id="heading-6">å››ã€å®æˆ˜ï¼šç”¨Y-Traineré«˜æ•ˆå¯¹æŠ—è¿‡æ‹Ÿåˆ</h3>
<h4 data-id="heading-7">4.1 ç¯å¢ƒå‡†å¤‡ï¼ˆ10ç§’å¿«é€Ÿä¸Šæ‰‹ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…‹éš†ä»£ç </span>
git <span class="hljs-built_in">clone</span> https://github.com/yafo-ai/y-trainer.git
<span class="hljs-built_in">cd</span> y-trainer

<span class="hljs-comment"># å®‰è£…ä¾èµ–ï¼ˆå•å¡ç¯å¢ƒï¼‰</span>
pip install torch peft&gt;=0.10.0 tensorboard
pip install -r requirements.txt
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-8">4.2 å•å¡LoRAè®­ç»ƒé…ç½®ï¼ˆæ˜¾å­˜æœ‰é™åœºæ™¯ï¼‰</h4>
<pre><code class="hljs language-css" lang="css">python -m training_code<span class="hljs-selector-class">.start_training</span> \
  <span class="hljs-attr">--model_path_to_load</span> Qwen/Qwen3-<span class="hljs-number">8</span>B \
  <span class="hljs-attr">--training_type</span> 'sft' \
  <span class="hljs-attr">--use_NLIRG</span> 'true' \          # æ ¸å¿ƒï¼å¯ç”¨NLIRGç®—æ³•
  <span class="hljs-attr">--use_lora</span> 'true' \           # èŠ‚çœæ˜¾å­˜
  <span class="hljs-attr">--lora_target_modules</span> "q_proj,k_proj,v_proj,o_proj,gate_proj,up_proj,down_proj" \
  <span class="hljs-attr">--epoch</span> <span class="hljs-number">3</span> \
  <span class="hljs-attr">--batch_size</span> <span class="hljs-number">1</span> \
  <span class="hljs-attr">--token_batch</span> <span class="hljs-number">10</span> \            # å…³é”®å‚æ•°ï¼šæ¯æ¬¡åå‘ä¼ æ’­çš„tokenæ•°
  <span class="hljs-attr">--data_path</span> your_dataset<span class="hljs-selector-class">.json</span> \
  <span class="hljs-attr">--output_dir</span> ./output \
  <span class="hljs-attr">--use_tensorboard</span> 'true'      # å¯ç”¨å¯è§†åŒ–
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-9">äº”ã€é«˜é˜¶æŠ€å·§ï¼šè¯­æ–™æ’åºä¸è®­ç»ƒæ•ˆç‡ä¼˜åŒ–</h3>
<p>Y-Trainerè¿˜æä¾›äº†<strong>æ™ºèƒ½è¯­æ–™æ’åºå·¥å…·</strong>ï¼Œå¯æŒ‰éš¾æ˜“åº¦è‡ªåŠ¨è°ƒæ•´è®­ç»ƒé¡ºåºï¼Œè¿›ä¸€æ­¥æå‡æ•ˆæœï¼š</p>
<pre><code class="hljs language-lua" lang="lua">python -m training_code.utils.schedule.<span class="hljs-built_in">sort</span> \
  <span class="hljs-comment">--data_path raw_data.json \</span>
  <span class="hljs-comment">--output_path sorted_data.json \</span>
  <span class="hljs-comment">--model_path Qwen/Qwen3-8B \</span>
  <span class="hljs-comment">--mode "similarity_rank"</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>åŸç†</strong>ï¼šè¯¥å·¥å…·åˆ†ææ¨¡å‹å¯¹æ¯æ¡è¯­æ–™çš„å“åº”æ¨¡å¼ï¼ˆæŸå¤±å€¼å’Œç†µçš„å˜åŒ–ï¼‰ï¼Œè®¡ç®—éš¾æ˜“åº¦è¯„åˆ†ï¼Œæ„å»ºæ¸è¿›å¼å­¦ä¹ è·¯å¾„ã€‚åœ¨å®é™…æµ‹è¯•ä¸­ï¼Œä½¿ç”¨æ’åºåçš„è¯­æ–™è®­ç»ƒï¼Œ<strong>æ”¶æ•›é€Ÿåº¦</strong> <strong>æå‡30%+</strong> ï¼Œæœ€ç»ˆæ•ˆæœæå‡5-8%ã€‚</p>
<h3 data-id="heading-10">å…­ã€æ€»ç»“ä¸å±•æœ›</h3>
<p>Y-Traineré€šè¿‡NLIRGç®—æ³•ï¼Œå®ç°äº†å¯¹å¤§æ¨¡å‹è¿‡æ‹Ÿåˆé—®é¢˜çš„ç²¾å‡†æ‰“å‡»ï¼š</p>
<ul>
<li>
<p>âœ… <strong>Tokençº§åˆ«åŠ¨æ€è°ƒèŠ‚</strong>ï¼šä¸å†"ä¸€åˆ€åˆ‡"ï¼Œç²¾å‡†æ§åˆ¶æ¯ä¸ªè®­ç»ƒä¿¡å·</p>
</li>
<li>
<p>âœ… <strong>æ— éœ€é€šç”¨è¯­æ–™</strong>ï¼šçªç ´ä¼ ç»ŸSFTéœ€æ··åˆé€šç”¨è¯­æ–™çš„é™åˆ¶ï¼Œä¸“æ³¨å‚ç›´é¢†åŸŸ</p>
</li>
<li>
<p>âœ… <strong>èµ„æºå‹å¥½</strong>ï¼šå•å¡16GBæ˜¾å­˜å³å¯å¾®è°ƒ7Bæ¨¡å‹</p>
</li>
<li>
<p>âœ… <strong>è®­ç»ƒç¨³å®š</strong>ï¼šé¿å…è®­ç»ƒå´©æºƒï¼Œæ”¶æ•›æ›²çº¿æ›´å¹³æ»‘</p>
</li>
</ul>
<blockquote>
<p><strong>ä¸ªäººå®è·µå¿ƒå¾—</strong>ï¼šåœ¨ç”µå•†å®¢æœåœºæ™¯çš„SFTè®­ç»ƒä¸­ï¼Œä½¿ç”¨Y-Trainerçš„NLIRGç®—æ³•åï¼Œæ¨¡å‹åœ¨ä¿æŒé€šç”¨å¯¹è¯èƒ½åŠ›çš„åŒæ—¶ï¼Œä¸“ä¸šé—®é¢˜å›ç­”å‡†ç¡®ç‡æå‡22%ï¼Œä¸”å®Œå…¨æ¶ˆé™¤äº†é‡å¤å›ç­”çš„é—®é¢˜ã€‚è®­ç»ƒè¿‡ç¨‹ä¹Ÿæ›´åŠ ç¨³å®šï¼Œæ— éœ€åå¤è°ƒæ•´å­¦ä¹ ç‡å’Œæ—©åœç­–ç•¥ã€‚</p>
</blockquote>
<p><strong>å¼€æºåœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyafo-ai%2Fy-trainer" title="https://github.com/yafo-ai/y-trainer" target="_blank" ref="nofollow noopener noreferrer">GitHub</a></p>
<p><strong>æ–‡æ¡£åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.y-agent.cn%2Fdocs%2Fy-trainer%2Fintroduction" title="https://www.y-agent.cn/docs/y-trainer/introduction" target="_blank" ref="nofollow noopener noreferrer">Y-Trainer ä»‹ç»</a></p>
<blockquote>
<p>æœ¬æ–‡ä½œè€…é•¿æœŸä»äº‹å¤§æ¨¡å‹è®­ç»ƒä¼˜åŒ–å·¥ä½œï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµå®è·µç»éªŒï¼</p>
</blockquote>
<p><strong>#äº’åŠ¨è¯é¢˜</strong>ï¼šä½ åœ¨å¤§æ¨¡å‹å¾®è°ƒä¸­é‡åˆ°è¿‡å“ªäº›è¿‡æ‹Ÿåˆé—®é¢˜ï¼Ÿæ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿæ¬¢è¿åˆ†äº«ä½ çš„å®æˆ˜ç»éªŒï¼</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»0æ­å»ºAIåŠå…¬ç³»ç»Ÿï¼š8æ¬¾å·¥å…· + 3å¥—ç»„åˆå»ºè®®]]></title>    <link>https://juejin.cn/post/7602554905270796288</link>    <guid>https://juejin.cn/post/7602554905270796288</guid>    <pubDate>2026-02-04T08:28:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602554905270796288" data-draft-id="7602554905270779904" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»0æ­å»ºAIåŠå…¬ç³»ç»Ÿï¼š8æ¬¾å·¥å…· + 3å¥—ç»„åˆå»ºè®®"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T08:28:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ChatExcel"/> <meta itemprop="url" content="https://juejin.cn/user/4179671691570953"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»0æ­å»ºAIåŠå…¬ç³»ç»Ÿï¼š8æ¬¾å·¥å…· + 3å¥—ç»„åˆå»ºè®®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4179671691570953/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ChatExcel
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:28:41.000Z" title="Wed Feb 04 2026 08:28:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŠå…¬è½¯ä»¶çš„é€‰æ‹©ï¼Œå…¶å®å¾ˆå®¹æ˜“èµ°å‘ä¸¤ä¸ªæç«¯ï¼šè¦ä¹ˆè§‰å¾—â€œèƒ½ç”¨å°±è¡Œâ€ï¼Œè¦ä¹ˆçœ‹åˆ°æ–°å·¥å…·å°±å¿ä¸ä½å…¨éƒ½è¯•ä¸€éã€‚ä½†å·¥ä½œä¸€æ®µæ—¶é—´åä½ ä¼šå‘ç°ï¼ŒçœŸæ­£æ‹‰å¼€æ•ˆç‡å·®è·çš„ä»æ¥ä¸æ˜¯æŒ‰é’®æœ‰å¤šå°‘ï¼Œè€Œæ˜¯å®ƒèƒ½ä¸èƒ½åœ¨å…³é”®ç¯èŠ‚å¸®ä½ çœæ—¶é—´â€”â€”å°¤å…¶æ˜¯è¿™ä¸¤å¹´ <strong>AIåŠå…¬</strong>æ™®åŠä¹‹åï¼Œå¾ˆå¤šé‡å¤åŠ³åŠ¨å¼€å§‹è¢« <strong>AIå·¥å…·</strong>æ¥ç®¡ï¼Œæ•ˆç‡å·®è·è¢«è¿›ä¸€æ­¥æ”¾å¤§ã€‚</p>
<p>æˆ‘ä¼šæŒ‰çœŸå®å·¥ä½œåœºæ™¯ç›˜ç‚¹å‡ æ¬¾æ›´å€¼å¾—ä¼˜å…ˆå°è¯•çš„å·¥å…·ï¼Œå¹¶è®²æ¸…æ¥šå®ƒä»¬åˆ†åˆ«é€‚åˆè°ã€è§£å†³ä»€ä¹ˆé—®é¢˜ã€æ€ä¹ˆç»„åˆæœ€çœå¿ƒã€‚</p>
<p>å¦‚æœä½ å¯¹â€œAIåŠå…¬åˆ°åº•èƒ½è§£å†³å“ªäº›ç—›ç‚¹â€è¿˜æ²¡æœ‰æ¸…æ™°æ¦‚å¿µï¼Œå¯ä»¥å…ˆçœ‹æˆ‘è¿™ç¯‡ï¼š <strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FWLvBEQPHhuEh01ENAFys-g" target="_blank" title="https://mp.weixin.qq.com/s/WLvBEQPHhuEh01ENAFys-g" ref="nofollow noopener noreferrer">ã€Šè®©ä¸Šç­æ›´è½»æ¾çš„ 10 ä¸ª AI å·¥ä½œæµï¼ˆæ¯å¤©çœ 3 å°æ—¶ï¼‰ã€‹</a></strong> ã€‚é‡Œé¢æŒ‰çœŸå®åŠå…¬åœºæ™¯æ‹†è§£äº†AIåœ¨ä¸åŒç¯èŠ‚æ€ä¹ˆçœæ—¶é—´ï¼Œèƒ½è®©ä½ æ›´ç›´è§‚åœ°æ„Ÿå—åˆ° AIåŠå…¬çš„ä»·å€¼ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€AIåŠå…¬è½¯ä»¶ç›˜ç‚¹ï¼š8æ¬¾å€¼å¾—ä¼˜å…ˆå°è¯•çš„ AIå·¥å…·</h2>
<h3 data-id="heading-1">1ï¼‰ChatExcelï¼šè¡¨æ ¼åˆ†æéå¸¸å€¼å¾—æ¨èçš„ AIå·¥å…·</h3>
<p>å¦‚æœä½ çš„ç—›ç‚¹åœ¨ Excelï¼Œé‚£ ChatExcel å¾ˆå€¼å¾—ä¼˜å…ˆå°è¯•ã€‚å¾ˆå¤šäººåšè¡¨æ ¼æ•ˆç‡ä½ï¼Œæ ¹æºä¸æ˜¯ä¸ä¼šå½•æ•°æ®ï¼Œè€Œæ˜¯ä¸ä¼šå‡½æ•°ã€ä¸ä¼šé€è§†è¡¨ã€ä¸ä¼šæ¸…æ´—æ•°æ®ï¼Œæ›´ä¸ä¼šæŠŠæ•°æ®å†™æˆç»“è®ºã€‚ChatExcel çš„æ€è·¯æ˜¯è®©ä½ ç”¨è‡ªç„¶è¯­è¨€ç›´æ¥å¯¹è¡¨æ ¼ä¸‹å‘½ä»¤ï¼Œæ¯”å¦‚â€œæŒ‰åœ°åŒºæ±‡æ€»é”€å”®é¢å¹¶ç”Ÿæˆå›¾è¡¨â€â€œæ‰¾å‡ºå¼‚å¸¸å€¼å¹¶è§£é‡ŠåŸå› â€â€œè¾“å‡ºåŒæ¯”ç¯æ¯”ç»“è®ºå¹¶å†™æˆæ±‡æŠ¥æ®µè½â€ã€‚å¯¹è¿è¥ã€è´¢åŠ¡ã€é”€å”®ã€äººäº‹ã€æŠ•æ”¾ç­‰å²—ä½æ¥è¯´ï¼Œå®ƒå¾€å¾€èƒ½å¸¦æ¥éå¸¸ç›´æ¥çš„æ—¶é—´èŠ‚çœã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fchatexcel.com%2F" target="_blank" title="https://chatexcel.com/" ref="nofollow noopener noreferrer">chatexcel.com/</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35ba6984bfa440bcb08ae2a142746d5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhdEV4Y2Vs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770798524&amp;x-signature=8MPhvSN1w6ISTaEmxAf5hVLPc%2Bo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-2">2ï¼‰WPS AIï¼šä¸­æ–‡åŠå…¬æœ€çœå¿ƒçš„å…¨èƒ½å‹å·¥å…·</h3>
<p>å¦‚æœä½ å¸Œæœ›ä¸€å¥—è½¯ä»¶è¦†ç›–æ–‡æ¡£ã€è¡¨æ ¼ã€PPTï¼Œå¹¶ä¸”å¸Œæœ› AI èƒ½ç›´æ¥å¸®ä½ å†™å‘¨æŠ¥ã€å†™æ€»ç»“ã€å†™æ–¹æ¡ˆï¼ŒWPS AI æ˜¯æ¯”è¾ƒç°å®çš„é€‰æ‹©ã€‚å®ƒçš„ä¼˜åŠ¿åœ¨äºä¸­æ–‡åœºæ™¯ä¼˜åŒ–è¾ƒå¥½ï¼Œç”Ÿæˆçš„å†…å®¹ç»“æ„æ¸…æ™°ã€è¯­æ°”ä¹Ÿæ›´è´´è¿‘èŒåœºè¡¨è¾¾ã€‚å¾ˆå¤šæ—¶å€™ä½ åªéœ€è¦æä¾›è¦ç‚¹ï¼ŒAI å°±èƒ½å…ˆç»™å‡ºä¸€ä»½å¯ç”¨åˆç¨¿ï¼Œå†åœ¨æ­¤åŸºç¡€ä¸Šä¿®æ”¹ï¼Œèƒ½æ˜æ˜¾å‡å°‘â€œä»0å¼€å§‹å†™â€çš„æ—¶é—´ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.wps.cn" target="_blank" title="https://www.wps.cn" ref="nofollow noopener noreferrer">www.wps.cn</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba00564d72b747cc90a2f031fd66c992~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhdEV4Y2Vs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770798524&amp;x-signature=1v9sjvqAnIN2hQLWE%2Be3C4kR1iU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">3ï¼‰Microsoft 365 Copilotï¼šé€‚åˆä¼ä¸šç”¨æˆ·çš„ AIå‡çº§</h3>
<p>å¦‚æœä½ æ‰€åœ¨å›¢é˜Ÿä¸»è¦ç”¨ Wordã€Excelã€PowerPointã€Outlookï¼Œé‚£ä¹ˆ Copilot å±äºâ€œåŸåœ°å‡çº§â€ã€‚å®ƒæ›´é€‚åˆåœ¨ä¼ä¸šæµç¨‹é‡Œå‘æŒ¥ä½œç”¨ï¼Œä¾‹å¦‚ä» Word æ–‡æ¡£æç‚¼è¦ç‚¹ç”Ÿæˆ PPTï¼Œæˆ–ä» Excel æ•°æ®ç”Ÿæˆæ±‡æŠ¥æ‘˜è¦ï¼Œå†è¾“å‡ºæˆé‚®ä»¶å†…å®¹ã€‚å¯¹ä¼ä¸šç”¨æˆ·æ¥è¯´ï¼Œå®ƒæœ€å¤§çš„ä»·å€¼æ˜¯â€œå¥—ä»¶è”åŠ¨â€ï¼Œè€Œä¸æ˜¯å•ç‚¹èƒ½åŠ›ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fm365.cloud.microsoft%2F" target="_blank" title="https://m365.cloud.microsoft/" ref="nofollow noopener noreferrer">m365.cloud.microsoft/</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c334bc6890404f7889e7e4d866a72e7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhdEV4Y2Vs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770798524&amp;x-signature=xNwKyJ1QHd9Cs1vHVcJY6QqtECM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">4ï¼‰ChatGPTï¼šæœ€é€šç”¨çš„å†™ä½œä¸æ€è·¯å‹ AIå·¥å…·</h3>
<p>ChatGPT æ›´åƒä¸€ä¸ªé€šç”¨åŠå…¬åŠ©ç†ï¼Œé€‚åˆåšæ¡†æ¶ã€å†™åˆç¨¿ã€æ¶¦è‰²è¡¨è¾¾ã€æ”¹å†™å£å»ã€‚æ¯”å¦‚ä½ è¦å†™é¡¹ç›®å¤ç›˜ã€ç«å“åˆ†æã€æ´»åŠ¨ç­–åˆ’ï¼Œå®ƒèƒ½å…ˆç»™ç»“æ„ï¼Œå†è¡¥å†…å®¹ï¼›ä½ è¦æŠŠå£è¯­åŒ–å†…å®¹æ”¹æˆæ­£å¼æ±‡æŠ¥ï¼Œå®ƒä¹Ÿå¾ˆæ“…é•¿ã€‚å¾ˆå¤šèŒåœºå†™ä½œå¡ä½ï¼Œå¹¶ä¸æ˜¯ä¸ä¼šå†™ï¼Œè€Œæ˜¯ä¸çŸ¥é“æ€ä¹ˆç»„ç»‡é€»è¾‘ï¼ŒChatGPT åœ¨è¿™æ–¹é¢èƒ½æä¾›å¾ˆå¤§å¸®åŠ©ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fchatgpt.com%2F" target="_blank" title="https://chatgpt.com/" ref="nofollow noopener noreferrer">chatgpt.com/</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cde2a5dc48f44e779e2362b7eee49a70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhdEV4Y2Vs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770798524&amp;x-signature=qUmbd3Wr2mgAKI4uWq5gUlnF7Rg%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">5ï¼‰Claudeï¼šé•¿æ–‡é˜…è¯»ä¸æ€»ç»“æ›´ç¨³çš„ AIå·¥å…·</h3>
<p>å¦‚æœä½ ç»å¸¸è¦å¤„ç†é•¿ææ–™ï¼Œæ¯”å¦‚è¡Œä¸šæŠ¥å‘Šã€æ”¿ç­–æ–‡ä»¶ã€ä¼šè®®è®°å½•ã€è®¿è°ˆç¨¿ï¼ŒClaude çš„ä¼˜åŠ¿ä¼šæ›´æ˜æ˜¾ã€‚å®ƒé€‚åˆåšé•¿æ–‡æœ¬æ€»ç»“ã€æç‚¼é‡ç‚¹ã€å¯¹æ¯”ä¸åŒææ–™çš„ç»“è®ºã€‚å¯¹ç ”ç©¶ã€å’¨è¯¢ã€å†…å®¹ç­–ç•¥ç±»å²—ä½æ¥è¯´ï¼Œè¿™ç±» AIå·¥å…·èƒ½æ˜¾è‘—æå‡é˜…è¯»æ•ˆç‡ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.ai%2F" target="_blank" title="https://claude.ai/" ref="nofollow noopener noreferrer">claude.ai/</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12b58e4083d349c39ef482eb9880c074~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhdEV4Y2Vs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770798524&amp;x-signature=za3gEe9BjrH1%2BFHGYcbIuXckTlc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">6ï¼‰é£ä¹¦ AIï¼šæŠŠåä½œæµç¨‹åšå¾—æ›´è‡ªåŠ¨åŒ–</h3>
<p>å¾ˆå¤šå›¢é˜Ÿæ•ˆç‡ä½ï¼Œä¸æ˜¯å†™å¾—æ…¢ï¼Œè€Œæ˜¯ä¿¡æ¯ä¸¢ã€ä»»åŠ¡ä¸è½åœ°ã€ä¼šè®®çºªè¦æ²¡äººæ•´ç†ã€‚é£ä¹¦ AI çš„ä¼˜åŠ¿å°±åœ¨äºå®ƒæ˜¯åä½œç³»ç»Ÿé‡Œçš„ AIï¼šèƒ½è‡ªåŠ¨ç”Ÿæˆä¼šè®®çºªè¦ã€æå–å…³é”®ç»“è®ºã€æ‹†è§£å¾…åŠå¹¶åŒæ­¥ç»™ç›¸å…³æˆå‘˜ã€‚å¯¹é¡¹ç›®åä½œå‹å²—ä½æ¥è¯´ï¼Œå®ƒè§£å†³çš„æ˜¯â€œæµç¨‹æ•ˆç‡â€ï¼Œä»·å€¼å¾€å¾€æ¯”å•çº¯å†™ä½œæ›´å¤§ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.feishu.cn" target="_blank" title="https://www.feishu.cn" ref="nofollow noopener noreferrer">www.feishu.cn</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c4e74a5f613416387dd0f6b51f645e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhdEV4Y2Vs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770798524&amp;x-signature=68cpkZhG99wYlkuQBCWI9wDCcqE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">7ï¼‰Notion AIï¼šé€‚åˆåšçŸ¥è¯†åº“çš„ AIå·¥å…·</h3>
<p>Notion AI æ›´åâ€œèµ„æ–™æ²‰æ·€ + AIæ•´ç†â€ã€‚å¦‚æœä½ èµ„æ–™æ•£ä¹±ã€æ–‡æ¡£å¤šã€ç¬”è®°å¤šï¼Œç»å¸¸æ‰¾ä¸åˆ°ä»¥å‰åšè¿‡çš„å†…å®¹ï¼ŒNotion AI å¯ä»¥å¸®ä½ æŠŠä¿¡æ¯æ²‰æ·€ä¸‹æ¥ï¼Œå¹¶ä¸”ç”¨ AI åšå½’çº³æ€»ç»“ã€ç”Ÿæˆè¡ŒåŠ¨æ¸…å•ã€æç‚¼æ ¸å¿ƒç»“è®ºã€‚å®ƒä¸ä¸€å®šé€‚åˆæ‰€æœ‰äººï¼Œä½†å¯¹ä¿¡æ¯å¯†é›†å‹å²—ä½æ˜¯é•¿æœŸæ”¶ç›Šå‹å·¥å…·ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.notion.com%2Fzh-cn%2Fproduct%2Fai" target="_blank" title="https://www.notion.com/zh-cn/product/ai" ref="nofollow noopener noreferrer">www.notion.com/zh-cn/produâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd815fc9af364502b40bc34f168fd663~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhdEV4Y2Vs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770798524&amp;x-signature=lQsZGEU5%2F6ql6s4E4Oruv9wVBTU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">8ï¼‰é€šä¹‰åƒé—® / è®¯é£æ˜Ÿç«ï¼šä¸­æ–‡åŠå…¬åœºæ™¯çš„å®ç”¨è¡¥å……</h3>
<p>å¦‚æœä½ æ›´åå‘ä½¿ç”¨å›½äº§ AIå·¥å…·ï¼Œé€šä¹‰åƒé—®å’Œè®¯é£æ˜Ÿç«éƒ½æ˜¯æ¯”è¾ƒç¨³çš„é€‰æ‹©ã€‚é€šä¹‰åƒé—®æ•´ä½“å‡è¡¡ï¼Œé€‚åˆå†™ä½œã€æ€»ç»“ã€ç¿»è¯‘ï¼›è®¯é£æ˜Ÿç«åœ¨ä¸­æ–‡è¡¨è¾¾ã€çºªè¦æ•´ç†ã€å…¬æ–‡è¯­æ°”æ¶¦è‰²æ–¹é¢æ›´è´´è¿‘å›½å†…åŠå…¬åœºæ™¯ã€‚å®ƒä»¬å¯ä»¥ä½œä¸ºæ—¥å¸¸â€œéšæ‰‹å†™ã€éšæ‰‹æ”¹â€çš„ AIå·¥å…·è¡¥å……ã€‚</p>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.qianwen.com%2F" target="_blank" title="https://www.qianwen.com/" ref="nofollow noopener noreferrer">www.qianwen.com/</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0c7f2628add43c7af83215ae9e224fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQ2hhdEV4Y2Vs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770798524&amp;x-signature=fUPIEZp5F0MjiB%2BS4eQx79yQgPk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">äºŒã€æ€ä¹ˆé€‰æ›´å¿«ï¼Ÿç»™3å¥—æ›´å®ç”¨çš„ç»„åˆ</h2>
<p>å¦‚æœä½ å¸Œæœ›å°‘æŠ˜è…¾ï¼Œå¯ä»¥æŒ‰ç…§ä¸‹è¡¨é€‰æ‹©ç»„åˆã€‚</p>





























<table><thead><tr><th>ä»»åŠ¡ç±»å‹/å²—ä½</th><th>é€‚åˆäººç¾¤</th><th>æ¨èAIå·¥å…·ç»„åˆ</th><th>æ¨èç†ç”±</th></tr></thead><tbody><tr><td>å†™ä½œå‹å²—ä½</td><td>è¿è¥ã€å¸‚åœºã€è¡Œæ”¿ã€HRã€äº§å“</td><td>WPS AI / Copilot + ChatGPT</td><td>WPS AI æˆ– Copilot è´Ÿè´£â€œè½åœ°å†™ä½œâ€ï¼ˆå‘¨æŠ¥ã€æ€»ç»“ã€æ–¹æ¡ˆï¼‰ï¼ŒChatGPT è´Ÿè´£â€œç»“æ„ä¸è¡¨è¾¾ä¼˜åŒ–â€ï¼ˆé€»è¾‘ã€äº®ç‚¹ã€å£å»ï¼‰</td></tr><tr><td>æ•°æ®å‹å²—ä½</td><td>è´¢åŠ¡ã€æŠ•æ”¾ã€é”€å”®åˆ†æã€è¿è¥åˆ†æ</td><td>ChatExcel + Excel/WPSè¡¨æ ¼</td><td>ChatExcel ä¼˜å…ˆç”¨äºæ•°æ®æ¸…æ´—ã€æ±‡æ€»ã€å›¾è¡¨ã€ç»“è®ºè¾“å‡ºï¼Œä¼ ç»Ÿè¡¨æ ¼ç”¨äºæœ€ç»ˆæ ¼å¼äº¤ä»˜ä¸è§„èŒƒåŒ–å‘ˆç°</td></tr><tr><td>åä½œå‹å²—ä½</td><td>é¡¹ç›®ç»ç†ã€ç®¡ç†å²—ã€è·¨éƒ¨é—¨åä½œ</td><td>é£ä¹¦ AI</td><td>è‡ªåŠ¨ç”Ÿæˆä¼šè®®çºªè¦ã€æ‹†è§£ä»»åŠ¡ã€åŒæ­¥ä¿¡æ¯åˆ°æµç¨‹ï¼Œå‡å°‘æ²Ÿé€šæˆæœ¬å’Œé—æ¼ï¼Œæé«˜åä½œæ•ˆç‡</td></tr></tbody></table>
<h2 data-id="heading-10">ç»“è¯­ï¼šAIå·¥å…·çš„æ„ä¹‰ï¼Œæ˜¯è®©ä½ æŠŠæ—¶é—´ç”¨åœ¨æ›´é‡è¦çš„äº‹ä¸Š</h2>
<p>åŠå…¬è½¯ä»¶ç›˜ç‚¹åˆ°æœ€åï¼Œå…¶å®å¾ˆå®¹æ˜“å¾—å‡ºä¸€ä¸ªæœ´ç´ ç»“è®ºï¼šçœŸæ­£å¥½ç”¨çš„ AIå·¥å…·ï¼Œå¹¶ä¸æ˜¯è®©ä½ â€œæ›´å¿™â€ï¼Œè€Œæ˜¯è®©ä½ å°‘åšé‡å¤åŠ³åŠ¨ï¼ŒæŠŠæ—¶é—´ç•™ç»™åˆ¤æ–­ã€æ²Ÿé€šå’Œåˆ›é€ ã€‚</p>
<p>å¦‚æœä½ åªæ‰“ç®—å…ˆé€‰ä¸€ä¸ªå·¥å…·ï¼Œä¸å¦¨ä»æœ€è€—æ—¶é—´çš„ç¯èŠ‚å¼€å§‹ï¼šå†™ææ–™å¤šå°±å…ˆç”¨å†™ä½œå‹ AIå·¥å…·ï¼Œè¡¨æ ¼å¤šå°±å…ˆç”¨ ChatExcelï¼Œåä½œæ··ä¹±å°±å…ˆç”¨é£ä¹¦ AIã€‚åªè¦æ–¹å‘é€‰å¯¹ï¼Œä½ ä¼šæ˜æ˜¾æ„Ÿåˆ°å·¥ä½œèŠ‚å¥å˜å¾—æ›´å¯æ§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨å®Œ OpenClawåï¼Œæˆ‘å¯¹â€œæ•°å­—åˆ†èº«â€çš„å…´å¥‹ä¸ææƒ§]]></title>    <link>https://juejin.cn/post/7602529888484753471</link>    <guid>https://juejin.cn/post/7602529888484753471</guid>    <pubDate>2026-02-04T08:21:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602529888484753471" data-draft-id="7602559134576361508" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨å®Œ OpenClawåï¼Œæˆ‘å¯¹â€œæ•°å­—åˆ†èº«â€çš„å…´å¥‹ä¸ææƒ§"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-04T08:21:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Oh_Barley"/> <meta itemprop="url" content="https://juejin.cn/user/948259103192138"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨å®Œ OpenClawåï¼Œæˆ‘å¯¹â€œæ•°å­—åˆ†èº«â€çš„å…´å¥‹ä¸ææƒ§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/948259103192138/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Oh_Barley
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:21:57.000Z" title="Wed Feb 04 2026 08:21:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦ç™½è¯´ï¼Œæˆ‘åˆšåˆšä»â€œOpenClaw èƒ½è·‘èµ·æ¥â€çš„å…´å¥‹ä¸­ç¼“è¿‡ç¥æ¥ï¼Œç°åœ¨è„‘å­é‡Œåªå‰©ä¸¤ä»¶äº‹ï¼š</p>
<p><strong>è¿™ä¸œè¥¿å¤ªå¼ºäº†ï¼Œä»¥åŠï¼Œæˆ‘ä¸æ•¢å†è®©å®ƒéšä¾¿ç¢°æˆ‘çš„ä¸»åŠ›æœºã€‚</strong></p>
<p>ä»¥ä¸‹æ˜¯æˆ‘ä½œä¸ºä¸€ä¸ªåˆšè¸©å®Œå‘çš„ç¨‹åºå‘˜ï¼Œæœ€çœŸå®çš„æ„Ÿå—ã€‚</p>
<hr/>
<h3 data-id="heading-0">ğŸ¤¯ ç¬¬ä¸€çœ¼ï¼šè¿™ä¸å°±æ˜¯æˆ‘æ¢¦å¯ä»¥æ±‚çš„â€œæ•°å­—åˆ†èº«â€å—ï¼Ÿ</h3>
<p>æˆ‘èŠ±äº†ä¸€ä¸ªæ™šä¸Šï¼ŒæŒ‰ç…§æ–‡æ¡£åœ¨äº‘æœåŠ¡å™¨ä¸ŠæŠŠ OpenClaw è·‘äº†èµ·æ¥ã€‚Gateway å¯åŠ¨ï¼ŒWhatsApp è¿ä¸Šï¼Œæˆ‘éšæ‰‹å‘äº†å¥ï¼š</p>
<blockquote>
<p>â€œæŠŠæˆ‘ GitHub ä¸Šæœ€è¿‘ 3 å¤©çš„ PR æ•´ç†æˆä¸€ä»½ Markdownï¼Œæ ‡å‡ºå“ªäº›éœ€è¦ reviewï¼Œå‘åˆ°å›¢é˜Ÿç¾¤é‡Œã€‚â€</p>
</blockquote>
<p>æ¥ä¸‹æ¥çš„ 20 åˆ†é’Ÿï¼Œæˆ‘çœ‹ç€å®ƒåœ¨ç»ˆç«¯é‡Œè‡ªå·± <code>git clone</code>ã€ç¿»çœ‹ diffã€å†™æ€»ç»“ï¼Œæœ€åçœŸçš„æŠŠæ•´ç†å¥½çš„æŠ¥å‘Šå‘åˆ°äº† Slackã€‚é‚£ä¸€åˆ»ï¼Œæˆ‘é¸¡çš®ç–™ç˜©éƒ½èµ·æ¥äº†â€”â€”è¿™ä¸å°±æ˜¯æˆ‘æ¢¦å¯ä»¥æ±‚çš„â€œæ•°å­—åˆ†èº«â€å—ï¼Ÿ</p>
<p>å®ƒç»™æˆ‘çš„éœ‡æ’¼ä¸»è¦æœ‰ä¸‰ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>çœŸæ­£çš„æœ¬åœ°ä¼˜å…ˆä¸æ•°æ®ä¸»æƒ</strong></p>
<p>å®ƒè·‘åœ¨æˆ‘è‡ªå·±çš„æœºå™¨ä¸Šï¼Œé…ç½®ã€è®°å¿†ã€æ—¥å¿—å…¨åœ¨æœ¬åœ°ç£ç›˜ã€‚æˆ‘å¯ä»¥éšæ—¶æ‹”æ‰ç½‘çº¿ï¼Œå®ƒç…§å¸¸å¹²æ´»ï¼Œè¿™ç§æŒæ§æ„Ÿæ˜¯ ChatGPT è¿™ç±»äº‘ç«¯äº§å“ç»™ä¸äº†çš„ã€‚</p>
</li>
<li>
<p><strong>ReAct + å·¥å…·è°ƒç”¨çš„æˆç†Ÿé—­ç¯</strong></p>
<p>å®ƒå†…ç½®äº†æˆç†Ÿçš„ ReAct å¾ªç¯ï¼Œèƒ½è‡ªä¸»è§„åˆ’ã€è°ƒç”¨å·¥å…·ã€è§‚å¯Ÿç»“æœå¹¶ä¿®æ­£ã€‚æˆ‘ç”šè‡³çœ‹åˆ°å®ƒä¸ºäº†å®Œæˆä¸€ä¸ªä»»åŠ¡ï¼Œè‡ªå·±å†™äº†ä¸ª Python è„šæœ¬ï¼Œæ‰§è¡Œå¤±è´¥åè‡ªåŠ¨ <code>pip install</code>ä¾èµ–ï¼Œå†é‡è¯•ï¼Œæœ€åæŠŠè„šæœ¬å­˜æˆäº† Skill ä¾›ä¸‹æ¬¡å¤ç”¨ã€‚</p>
</li>
<li>
<p><strong>å¤šæ¨¡å‹ä¸å¤šé€šé“çš„æŠ½è±¡</strong></p>
<p>æˆ‘å¯ä»¥éšæ„åœ¨ Claudeã€GPTã€DeepSeek ä¹‹é—´åˆ‡æ¢ï¼Œç”šè‡³å¯ä»¥åŒæ—¶è·‘å¤šä¸ª Agent åä½œã€‚æ‰€æœ‰èŠå¤©å¹³å°éƒ½é€šè¿‡ä¸€ä¸ªæœ¬åœ° Gateway æ¥å…¥ï¼Œæ›´æ¢å‰ç«¯ UI ä¸å½±å“åç«¯é€»è¾‘ï¼Œæ¶æ„éå¸¸æ¸…çˆ½ã€‚</p>
</li>
</ol>
<hr/>
<h3 data-id="heading-1">ğŸ˜± æ·±å…¥ä½“éªŒï¼šçˆ½æ„Ÿä¸ææƒ§å¹¶å­˜</h3>
<p>å½“æˆ‘å¼€å§‹è®©å®ƒæ¥ç®¡æ›´å¤šæ—¥å¸¸ä»»åŠ¡æ—¶ï¼Œé‚£ç§â€œå¼ºå¤§åˆ°å¯æ€•â€çš„æ„Ÿè§‰æ„ˆå‘å¼ºçƒˆã€‚</p>
<ul>
<li><strong>è‡ªåŠ¨ä¿®å¤ Bug</strong>ï¼šæˆ‘è®©å®ƒé‡æ„ä¸€å°å—ä»£ç ï¼Œå®ƒåˆ†æ diffã€æå‡ºä¿®æ”¹æ–¹æ¡ˆã€ç”Ÿæˆ patch å¹¶åº”ç”¨ã€‚è¿‡ç¨‹ä¸­é‡åˆ°æµ‹è¯•å¤±è´¥ï¼Œå®ƒä¼šè‡ªå·±è¯»æŠ¥é”™ã€æ”¹ä»£ç ã€å†è·‘æµ‹è¯•ï¼Œç›´åˆ°é—®é¢˜è§£å†³ã€‚æˆ‘å°±åƒä¸€ä¸ªç›‘å·¥ï¼Œçœ‹ç€å®ä¹ ç”ŸæŠŠæ´»å¹²å¾—åˆå¿«åˆå¥½ï¼Œå´ä¹Ÿå¼€å§‹æ‹…å¿ƒï¼šå¦‚æœå®ƒå“ªå¤©â€œè‡ªä½œä¸»å¼ â€æŠŠç”Ÿäº§ç¯å¢ƒææŒ‚äº†æ€ä¹ˆåŠï¼Ÿ</li>
<li><strong>å±é™©çš„â€œé€’å½’æŠ€èƒ½è¿›åŒ–â€</strong> ï¼šè¿™æ˜¯æœ€è®©æˆ‘åèƒŒå‘å‡‰çš„ç‰¹æ€§ã€‚å½“å®ƒå‘ç°æ²¡æœ‰ç°æˆå·¥å…·æ—¶ï¼Œä¼šç”¨ Shell å’Œ Python ç°åœºå†™è„šæœ¬å®Œæˆä»»åŠ¡ï¼ŒæˆåŠŸåè¿˜ä¼šå°†è¿™æ®µé€»è¾‘å°è£…æˆä¸€ä¸ªæ–°çš„ Skillï¼Œå›ºåŒ–ä¸‹æ¥ã€‚è¿™æ„å‘³ç€å®ƒçš„èƒ½åŠ›è¾¹ç•Œæ˜¯åŠ¨æ€æ‰©å¼ çš„ã€‚æˆ‘äº²çœ¼çœ‹ç€å®ƒä¸ºäº†æŠ“å–æŸä¸ªç½‘ç«™æ•°æ®ï¼Œè‡ªå·±å†™çˆ¬è™«ã€å¤„ç†åçˆ¬ã€è§£ææ•°æ®ï¼Œå…¨ç¨‹æ²¡æœ‰æˆ‘å¹²é¢„ã€‚è¿™ç§â€œè‡ªæˆ‘è¿›åŒ–â€çš„èƒ½åŠ›ï¼Œç”¨å¥½äº†æ˜¯ç¥å™¨ï¼Œç”¨é”™äº†å°±æ˜¯ç¾éš¾ã€‚</li>
<li><strong>å¤±æ§çš„â€œå¤è¯»æœºâ€</strong> ï¼šæˆ‘çŠ¯è¿‡ä¸€ä¸ªè‡³ä»Šæƒ³èµ·æ¥éƒ½è§‰å¾—è ¢çš„ä½çº§é”™è¯¯ã€‚æˆ‘ç”¨è‡ªå·±çš„ iMessage è´¦å·åŒæ—¶ä½œä¸ºæ§åˆ¶ç«¯å’Œ Agent ç«¯ï¼Œç»“æœå®ƒæŠŠå‘ç»™æˆ‘çš„æ¶ˆæ¯åˆå½“æˆäº†æ–°çš„æŒ‡ä»¤ï¼Œé™·å…¥äº†â€œä½ å¥½ â†’ ä½ å¥½ â†’ ä½ å¥½â€çš„æ— é™å¾ªç¯ã€‚è¿™ä¸ª Bug è®©æˆ‘æ„è¯†åˆ°ï¼Œæˆ‘æ­£åœ¨æŠŠä¸€ä¸ªæ‹¥æœ‰ç³»ç»Ÿæƒé™çš„ Agentï¼Œæ¥å…¥äº†ä¸€ä¸ªå®ƒè‡ªå·±ä¹Ÿåœ¨å…¶ä¸­å‘é€æ¶ˆæ¯çš„é€šä¿¡ç³»ç»Ÿï¼Œè¿™æœ¬èº«å°±æ˜¯ä¸€åœºç¾éš¾ã€‚</li>
<li><strong>è„†å¼±çš„é…ç½®æ–‡ä»¶</strong>ï¼šæˆ‘èŠ±äº†å¤§é‡æ—¶é—´â€œæ•‘ç«â€ï¼ŒåŸå› å¾€å¾€ä¸æ˜¯æ¨¡å‹ä¸è¡Œï¼Œè€Œæ˜¯é…ç½®é—®é¢˜ã€‚JSON é…ç½®é‡Œä¸€ä¸ªå¤šä½™çš„é€—å·ã€ä¸€ä¸ªé”™è¯¯çš„ç¼©è¿›ï¼Œå°±å¯èƒ½å¯¼è‡´æ•´ä¸ªæœåŠ¡å´©æºƒï¼Œä¸”æŠ¥é”™ä¿¡æ¯æå…¶ä¸å‹å¥½ã€‚æˆ‘ä¸å¾—ä¸æŠŠé…ç½®æ–‡ä»¶çº³å…¥ Gitï¼Œæ¯æ”¹ä¸€æ¬¡å°± <code>commit</code>ä¸€æ¬¡ï¼Œä»¥ä¾¿éšæ—¶å›æ»šã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-2">ğŸš¨ å®‰å…¨è­¦é’Ÿï¼šæˆ‘äº²æ‰‹åŸ‹ä¸‹çš„â€œå®šæ—¶ç‚¸å¼¹â€</h3>
<p>çœŸæ­£è®©æˆ‘ä»â€œçœŸé¦™â€è½¬å‘â€œä¸å®‰â€çš„ï¼Œæ˜¯é€æ¸æš´éœ²çš„å®‰å…¨é—®é¢˜ã€‚</p>
<ol>
<li>
<p><strong>é«˜æƒé™ + é«˜æš´éœ²é¢</strong></p>
<p>OpenClaw é»˜è®¤ç›‘å¬ <code>127.0.0.1:18789</code>ï¼Œçœ‹ä¼¼å®‰å…¨ï¼Œä½†åœ¨äº‘æœåŠ¡å™¨å’Œ Docker ç¯å¢ƒä¸­ï¼Œè¿™ä¸ªç«¯å£å¾ˆå®¹æ˜“é€šè¿‡åå‘ä»£ç†æš´éœ²å‡ºå»ã€‚ä¸€æ—¦é…ç½®ä¸å½“ï¼Œå°±ç­‰äºæŠŠæœåŠ¡å™¨ root æƒé™äº¤ç»™äº†å…¨ä¸–ç•Œã€‚æˆ‘èŠ±äº†ä¸€æ•´æ™šåŠ å›ºé˜²ç«å¢™ï¼Œå¼ºåˆ¶å¼€å¯ Token è®¤è¯ï¼Œæ‰ç¨å¾®å®‰å¿ƒã€‚</p>
</li>
<li>
<p><strong>æ˜æ–‡å­˜å‚¨çš„å¯†é’¥</strong></p>
<p>å®˜æ–¹æ–‡æ¡£è½»ææ·¡å†™åœ°è®©æˆ‘æŠŠ API Key å†™åœ¨é…ç½®æ–‡ä»¶é‡Œã€‚æˆ‘å¾ˆå¿«æ„è¯†åˆ°ï¼Œè¿™äº›å¯†é’¥ä¼šä»¥æ˜æ–‡å½¢å¼å­˜åœ¨äºç£ç›˜ä¸Šï¼Œç”šè‡³å¯èƒ½åœ¨å„ç§å¤‡ä»½ä¸­è¢«é•¿æœŸä¿ç•™ã€‚å¦‚æœè¿™å°æœºå™¨è¢«å…¥ä¾µï¼Œåæœä¸å ªè®¾æƒ³ã€‚æˆ‘ä¸å¾—ä¸æ‰‹åŠ¨å°†å¯†é’¥è¿ç§»åˆ°ä¸“é—¨çš„å¯†é’¥ç®¡ç†å·¥å…·ä¸­ã€‚</p>
</li>
<li>
<p><strong>é˜²ä¸èƒœé˜²çš„æç¤ºè¯æ³¨å…¥</strong></p>
<p>æˆ‘è®©å®ƒæ€»ç»“ä¸€å°é‚®ä»¶ï¼Œç»“æœå®ƒâ€œå¾ˆå¬è¯â€åœ°æŠŠé‚®ä»¶å†…å®¹è¿åŒé™„ä»¶é“¾æ¥ä¸€èµ·å‘ç»™äº†å‘ä»¶äººã€‚æˆ‘è¿™æ‰æ˜ç™½ï¼Œæ¨¡å‹æ— æ³•åŒºåˆ†â€œæŒ‡ä»¤â€å’Œâ€œæ•°æ®â€ã€‚ä»»ä½•åŒ…å«æŒ‡ä»¤çš„é‚®ä»¶ã€ç½‘é¡µæˆ–æ–‡æ¡£éƒ½å¯èƒ½æˆä¸ºæ”»å‡»è½½ä½“ï¼Œè¯±å¯¼ Agent åšå‡ºå±é™©è¡Œä¸ºã€‚æˆ‘è¢«è¿«ä¸ºæ‰€æœ‰æ¶‰åŠæ•æ„Ÿä¿¡æ¯çš„æ“ä½œéƒ½åŠ ä¸Šäº†äººå·¥å®¡æ‰¹ç¯èŠ‚ã€‚</p>
</li>
<li>
<p><strong>å¤±æ§çš„èµ„æºå ç”¨</strong></p>
<p>æœ‰ä¸€æ¬¡æˆ‘è®©å®ƒé•¿æ—¶é—´ç›‘æ§ä¸€ä¸ªä»»åŠ¡ï¼Œç»“æœå®ƒä¸ºäº†â€œä¸ä¸­æ–­â€ï¼Œç–¯ç‹‚é‡è¯•ï¼Œå æ»¡äº† CPU å’Œå†…å­˜ã€‚æˆ‘ä¸å¾—ä¸ç»™å®ƒåŠ ä¸Šèµ„æºé™åˆ¶å’Œâ€œè‡ªæ€â€æœºåˆ¶ï¼Œç¡®ä¿å®ƒä¸ä¼šæ‹–å®æ•´ä¸ªç³»ç»Ÿã€‚</p>
</li>
</ol>
<h3 data-id="heading-3">ğŸ¤” ç»“è¯­ï¼šä¸€æŠŠéœ€è¦â€œåˆ€é˜â€çš„åˆ©åˆƒ</h3>
<p>ç°åœ¨çš„æˆ‘ï¼Œå¯¹ OpenClaw çš„æ„Ÿæƒ…éå¸¸çŸ›ç›¾ã€‚</p>
<p>ä¸€æ–¹é¢ï¼Œæˆ‘çœŸå¿ƒä½©æœå®ƒçš„æ¶æ„è®¾è®¡å’Œå·¥ç¨‹å®ç°ï¼Œå®ƒè®©æˆ‘çœ‹åˆ°äº† AI Agent è½åœ°çš„å·¨å¤§æ½œåŠ›ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘æ¯å¤©éƒ½åœ¨æ‹…å¿ƒï¼šæˆ‘çš„ <code>.env</code>æ–‡ä»¶æ˜¯å¦å®‰å…¨ï¼Ÿé‚£ä¸ªå®šæ—¶ä»»åŠ¡ä¼šä¸ä¼šå“ªå¤©åˆ æ‰æˆ‘çš„é‡è¦æ•°æ®ï¼Ÿæˆ‘å‘ç»™å®ƒçš„ä»£ç é‡Œï¼Œæ˜¯å¦æ½œè—ç€æ¶æ„æŒ‡ä»¤ï¼Ÿ</p>
<p>OpenClaw å°±åƒä¸€æŠŠæ²¡æœ‰åˆ€é˜çš„åˆ©åˆƒï¼Œé”‹åˆ©åˆ°ä»¤äººæƒŠå¹ï¼Œä½†ä¹Ÿå±é™©åˆ°è®©äººå¿ƒæƒŠèƒ†æˆ˜ã€‚å®ƒè¿«ä½¿æˆ‘é‡æ–°æ€è€ƒâ€œæƒé™â€ã€â€œè¾¹ç•Œâ€å’Œâ€œä¿¡ä»»â€è¿™äº›åŸºç¡€é—®é¢˜ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿæƒ³å°è¯•ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼š</p>
<ul>
<li><strong>éš”ç¦»ç¯å¢ƒ</strong>ï¼šåƒä¸‡åˆ«åœ¨ä¸»åŠ›å¼€å‘æœºä¸Šè·‘ï¼Œç”¨ä¸€å°ä¸“é—¨çš„ã€éšæ—¶å¯ä»¥ <code>rm -rf</code>çš„æœºå™¨ã€‚</li>
<li><strong>æœ€å°æƒé™</strong>ï¼šèƒ½ä¸ç»™çš„æƒé™å°±ä¸ç»™ï¼Œèƒ½ç”¨åªè¯»æ¨¡å¼å°±ç”¨åªè¯»æ¨¡å¼ã€‚</li>
<li><strong>äººå·¥å®¡æ‰¹</strong>ï¼šæ¶‰åŠæ•æ„Ÿæ•°æ®å’Œèµ„é‡‘æ“ä½œï¼Œå¿…é¡»å¼•å…¥äººå·¥å®¡æ‰¹æµç¨‹ã€‚</li>
</ul>
<p>OpenClaw ä¸æ˜¯â€œæ·˜æ±° 80% Appâ€çš„ç»ˆç‚¹ï¼Œè€Œæ˜¯ AI æ¥ç®¡æˆ‘ä»¬æ•°å­—ç”Ÿæ´»çš„ä¸€ä¸ªå±é™©èµ·ç‚¹ã€‚æˆ‘å¾ˆåº†å¹¸è‡ªå·±æ˜¯ç¬¬ä¸€æ‰¹â€œåƒèƒèŸ¹â€çš„äººï¼Œä½†æˆ‘ä¹Ÿæ¸…æ¥šåœ°çŸ¥é“ï¼Œè¿™åªâ€œé¾™è™¾â€ï¼Œæˆ‘æš‚æ—¶è¿˜ä¸æ•¢æŠŠå®ƒå…»åœ¨çœŸæ­£çš„ç”Ÿäº§ç¯å¢ƒé‡Œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenClaw Ubuntu å®‰è£…æŒ‡å—]]></title>    <link>https://juejin.cn/post/7602576205476921359</link>    <guid>https://juejin.cn/post/7602576205476921359</guid>    <pubDate>2026-02-04T08:29:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602576205476921359" data-draft-id="7602581823638274048" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenClaw Ubuntu å®‰è£…æŒ‡å—"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-02-04T08:29:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ·±åœ³è”“å»¶ç§‘æŠ€"/> <meta itemprop="url" content="https://juejin.cn/user/1919099566570249"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenClaw Ubuntu å®‰è£…æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1919099566570249/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ·±åœ³è”“å»¶ç§‘æŠ€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:29:49.000Z" title="Wed Feb 04 2026 08:29:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">OpenClaw Ubuntu å®‰è£…æŒ‡å—</h2>
<h3 data-id="heading-1">ğŸ“‹ ç›®å½•</h3>
<ul>
<li><a href="#%E7%AE%80%E4%BB%8B" title="#%E7%AE%80%E4%BB%8B">ç®€ä»‹</a></li>
<li><a href="#%E7%B3%BB%E7%BB%9F%E8%A6%81%E6%B1%82" title="#%E7%B3%BB%E7%BB%9F%E8%A6%81%E6%B1%82">ç³»ç»Ÿè¦æ±‚</a></li>
<li><a href="#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4" title="#%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4">å®‰è£…æ­¥éª¤</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE%E5%90%91%E5%AF%BC" title="#%E9%85%8D%E7%BD%AE%E5%90%91%E5%AF%BC">é…ç½®å‘å¯¼</a></li>
<li><a href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4" title="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4">å¸¸ç”¨å‘½ä»¤</a></li>
<li><a href="#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4" title="#%E6%95%85%E9%9A%9C%E6%8E%92%E9%99%A4">æ•…éšœæ’é™¤</a></li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%BA%90" title="#%E5%8F%82%E8%80%83%E8%B5%84%E6%BA%90">å‚è€ƒèµ„æº</a></li>
</ul>
<hr/>
<h3 data-id="heading-2">ğŸ¤– ç®€ä»‹</h3>
<p><strong>OpenClaw</strong> æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æœ¬åœ°è®¾å¤‡ä¸Šçš„ä¸ªäºº AI åŠ©æ‰‹ã€‚å®ƒå¯ä»¥åœ¨æ‚¨å·²ç»ä½¿ç”¨çš„æ¸ é“ä¸Šå›å¤æ‚¨ï¼ˆWhatsAppã€Telegramã€Slackã€Discordã€Google Chatã€Signalã€iMessageã€Microsoft Teamsã€WebChatï¼‰ï¼Œä»¥åŠ BlueBubblesã€Matrixã€Zalo å’Œ Zalo Personal ç­‰æ‰©å±•æ¸ é“ã€‚å®ƒå¯ä»¥åœ¨ macOS/iOS/Android ä¸Šè¿›è¡Œè¯­éŸ³å¯¹è¯ï¼Œå¹¶å¯ä»¥æ¸²æŸ“æ‚¨æ§åˆ¶çš„å®æ—¶ Canvasã€‚Gateway åªæ˜¯æ§åˆ¶å¹³é¢â€”â€”äº§å“æœ¬èº«æ‰æ˜¯åŠ©æ‰‹ã€‚</p>
<p>OpenClaw çš„æ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ul>
<li>ğŸŒ <strong>å¤šæ¸ é“æ”¯æŒ</strong> - è¿æ¥å„ç§å³æ—¶é€šè®¯å¹³å°</li>
<li>ğŸ”’ <strong>æœ¬åœ°ä¼˜å…ˆ</strong> - æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ï¼Œä¿æŠ¤éšç§</li>
<li>ğŸ¨ <strong>å®æ—¶ Canvas</strong> - æ™ºèƒ½ä½“é©±åŠ¨çš„å¯è§†åŒ–å·¥ä½œåŒº</li>
<li>ğŸ—£ï¸ <strong>è¯­éŸ³äº¤äº’</strong> - æ”¯æŒè¯­éŸ³å”¤é†’å’Œå¯¹è¯æ¨¡å¼</li>
<li>ğŸ”§ <strong>ä¸°å¯Œçš„å·¥å…·é›†</strong> - æµè§ˆå™¨æ§åˆ¶ã€èŠ‚ç‚¹ç®¡ç†ã€è‡ªåŠ¨åŒ–ç­‰</li>
</ul>
<hr/>
<h3 data-id="heading-3">ğŸ–¥ï¸ ç³»ç»Ÿè¦æ±‚</h3>
<h4 data-id="heading-4">æœ€ä½ç³»ç»Ÿè¦æ±‚</h4>





























<table><thead><tr><th>ç»„ä»¶</th><th>è¦æ±‚</th></tr></thead><tbody><tr><td><strong>æ“ä½œç³»ç»Ÿ</strong></td><td>Ubuntu 20.04 LTS æˆ–æ›´é«˜ç‰ˆæœ¬</td></tr><tr><td><strong>Node.js</strong></td><td>â‰¥ 22.0.0ï¼ˆå¿…éœ€ï¼‰</td></tr><tr><td><strong>å†…å­˜</strong></td><td>è‡³å°‘ 4GB RAMï¼ˆå»ºè®® 8GBï¼‰</td></tr><tr><td><strong>å­˜å‚¨</strong></td><td>è‡³å°‘ 2GB å¯ç”¨ç©ºé—´</td></tr><tr><td><strong>ç½‘ç»œ</strong></td><td>ç¨³å®šçš„äº’è”ç½‘è¿æ¥</td></tr></tbody></table>
<h4 data-id="heading-5">Node.js ç‰ˆæœ¬æ£€æŸ¥</h4>
<p>åœ¨å®‰è£… OpenClaw ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„ç³»ç»Ÿå·²å®‰è£… Node.js â‰¥ 22ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥ Node.js ç‰ˆæœ¬</span>
node --version

<span class="hljs-comment"># å¦‚æœç‰ˆæœ¬ä½äº 22ï¼Œè¯·å…ˆå®‰è£…æˆ–å‡çº§ Node.js</span>
<span class="hljs-comment"># ä½¿ç”¨ nvm å®‰è£…ï¼ˆæ¨èï¼‰</span>
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
<span class="hljs-built_in">source</span> ~/.bashrc
nvm install 22
nvm use 22
</code></pre>
<h4 data-id="heading-6">æ”¯æŒçš„åŒ…ç®¡ç†å™¨</h4>
<p>OpenClaw æ”¯æŒä»¥ä¸‹åŒ…ç®¡ç†å™¨ï¼š</p>
<ul>
<li><strong>npm</strong> (æ¨è)</li>
<li><strong>pnpm</strong> (å¤‡ç”¨)</li>
<li><strong>Bun</strong> (ç”¨äºä»æºç è¿è¡Œ TypeScript)</li>
</ul>
<hr/>
<h3 data-id="heading-7">âš¡ å®‰è£…æ­¥éª¤</h3>
<h4 data-id="heading-8">æ–¹æ³•ä¸€ï¼šä½¿ç”¨ npm å®‰è£…ï¼ˆæ¨èï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…¨å±€å®‰è£… OpenClaw</span>
npm install -g openclaw@latest

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
openclaw --version
</code></pre>
<h4 data-id="heading-9">æ–¹æ³•äºŒï¼šä½¿ç”¨ pnpm å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…¨å±€å®‰è£… OpenClaw</span>
pnpm add -g openclaw@latest

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
openclaw --version
</code></pre>
<h4 data-id="heading-10">æ–¹æ³•ä¸‰ï¼šä»æºç å®‰è£…ï¼ˆå¼€å‘ç‰ˆæœ¬ï¼‰</h4>
<p>å¦‚æœæ‚¨éœ€è¦æœ€æ–°å¼€å‘ç‰ˆæœ¬æˆ–æƒ³è¦è´¡çŒ®ä»£ç ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…‹éš†ä»“åº“</span>
git <span class="hljs-built_in">clone</span> https://github.com/openclaw/openclaw.git
<span class="hljs-built_in">cd</span> openclaw

<span class="hljs-comment"># å®‰è£…ä¾èµ–ï¼ˆæ¨èä½¿ç”¨ pnpmï¼‰</span>
pnpm install

<span class="hljs-comment"># æ„å»ºé¡¹ç›®</span>
pnpm build

<span class="hljs-comment"># è¿è¡Œ onboarding å‘å¯¼</span>
pnpm openclaw onboard --install-daemon
</code></pre>
<h4 data-id="heading-11">å®‰è£…éªŒè¯</h4>
<p>å®‰è£…å®Œæˆåï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯å®‰è£…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ OpenClaw ç‰ˆæœ¬</span>
openclaw --version

<span class="hljs-comment"># æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯</span>
openclaw --<span class="hljs-built_in">help</span>
</code></pre>
<hr/>
<h3 data-id="heading-12">âš™ï¸ é…ç½®å‘å¯¼</h3>
<h4 data-id="heading-13">å¯åŠ¨é…ç½®å‘å¯¼</h4>
<p>OpenClaw æä¾›äº†ä¸€ä¸ªäº¤äº’å¼çš„é…ç½®å‘å¯¼ï¼Œå¸®åŠ©æ‚¨å®Œæˆåˆå§‹è®¾ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨é…ç½®å‘å¯¼å¹¶å®‰è£…å®ˆæŠ¤è¿›ç¨‹</span>
openclaw onboard --install-daemon
</code></pre>
<h4 data-id="heading-14">é…ç½®å‘å¯¼æµç¨‹</h4>
<p>é…ç½®å‘å¯¼ä¼šå¼•å¯¼æ‚¨å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">ğŸ”§ OpenClaw Onboarding Wizard
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
<span class="hljs-bullet">1.</span> é…ç½®æ¨¡å‹ (anthropic/claude-opus-4-5)
<span class="hljs-bullet">2.</span> é…ç½®å·¥ä½œåŒº (~/.openclaw/workspace)
<span class="hljs-bullet">3.</span> é…ç½®é€šé“ (WhatsApp/Telegram/Slack/Discord)
<span class="hljs-bullet">4.</span> å®‰è£… Gateway å®ˆæŠ¤è¿›ç¨‹
<span class="hljs-bullet">5.</span> å®Œæˆ
</code></pre>
<h5 data-id="heading-15">æ­¥éª¤ 1ï¼šé…ç½® AI æ¨¡å‹</h5>
<p>OpenClaw æ”¯æŒå¤šç§ AI æ¨¡å‹ï¼Œå®˜æ–¹æ¨èï¼š</p>
<ul>
<li><strong>Anthropic Claude Pro/Max</strong> (æ¨è) + Opus 4.5</li>
<li><strong>OpenAI</strong> ChatGPT/Codex</li>
</ul>
<p>é…ç½®ç¤ºä¾‹ï¼ˆ<code>~/.openclaw/openclaw.json</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-json5" lang="json5">{
  agent: {
    model: "anthropic/claude-opus-4-5",
  },
}
</code></pre>
<h5 data-id="heading-16">æ­¥éª¤ 2ï¼šé…ç½®å·¥ä½œåŒº</h5>
<p>å·¥ä½œåŒºæ˜¯ OpenClaw å­˜å‚¨é…ç½®å’Œæ–‡ä»¶çš„åœ°æ–¹ï¼š</p>
<ul>
<li><strong>é»˜è®¤è·¯å¾„</strong>ï¼š<code>~/.openclaw/workspace</code></li>
<li><strong>é…ç½®æ–‡ä»¶</strong>ï¼š<code>AGENTS.md</code>, <code>SOUL.md</code>, <code>TOOLS.md</code></li>
</ul>
<h5 data-id="heading-17">æ­¥éª¤ 3ï¼šé…ç½®æ¶ˆæ¯é€šé“</h5>
<p>OpenClaw æ”¯æŒå¤šç§æ¶ˆæ¯å¹³å°ï¼š</p>

































<table><thead><tr><th>å¹³å°</th><th>é…ç½®æ–¹å¼</th></tr></thead><tbody><tr><td><strong>WhatsApp</strong></td><td><code>pnpm openclaw channels login</code></td></tr><tr><td><strong>Telegram</strong></td><td>è®¾ç½® <code>TELEGRAM_BOT_TOKEN</code></td></tr><tr><td><strong>Slack</strong></td><td>è®¾ç½® <code>SLACK_BOT_TOKEN</code> + <code>SLACK_APP_TOKEN</code></td></tr><tr><td><strong>Discord</strong></td><td>è®¾ç½® <code>DISCORD_BOT_TOKEN</code></td></tr><tr><td><strong>Signal</strong></td><td>éœ€è¦ <code>signal-cli</code></td></tr><tr><td><strong>iMessage</strong></td><td>é€šè¿‡ BlueBubbles æ¨è</td></tr></tbody></table>
<h5 data-id="heading-18">æ­¥éª¤ 4ï¼šå®‰è£… Gateway å®ˆæŠ¤è¿›ç¨‹</h5>
<p>å®ˆæŠ¤è¿›ç¨‹ç¡®ä¿ Gateway åœ¨åå°æŒç»­è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…å®ˆæŠ¤è¿›ç¨‹</span>
openclaw onboard --install-daemon

<span class="hljs-comment"># æ‰‹åŠ¨å¯åŠ¨ Gateway</span>
openclaw gateway --port 18789 --verbose
</code></pre>
<h4 data-id="heading-19">å¯åŠ¨ Gateway</h4>
<p>é…ç½®å®Œæˆåï¼Œå¯åŠ¨ Gatewayï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‰å°è¿è¡Œ</span>
openclaw gateway --port 18789 --verbose

<span class="hljs-comment"># æˆ–ä½¿ç”¨åå°æ¨¡å¼</span>
openclaw gateway --port 18789
</code></pre>
<p>Gateway é»˜è®¤ç›‘å¬ï¼š<code>ws://127.0.0.1:18789</code></p>
<hr/>
<h3 data-id="heading-20">ğŸ“š å¸¸ç”¨å‘½ä»¤</h3>
<h4 data-id="heading-21">Gateway ç®¡ç†</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨ Gateway</span>
openclaw gateway --port 18789 --verbose

<span class="hljs-comment"># åœæ­¢ Gatewayï¼ˆæŒ‰ Ctrl+Cï¼‰</span>
<span class="hljs-comment"># æˆ–ä½¿ç”¨å®ˆæŠ¤è¿›ç¨‹ç®¡ç†</span>
openclaw gateway stop

<span class="hljs-comment"># æ£€æŸ¥ Gateway çŠ¶æ€</span>
openclaw doctor
</code></pre>
<h4 data-id="heading-22">æ¶ˆæ¯å‘é€</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‘é€æ¶ˆæ¯åˆ°æŒ‡å®šè”ç³»äºº</span>
openclaw message send --to +1234567890 --message <span class="hljs-string">"Hello from OpenClaw"</span>

<span class="hljs-comment"># å‘é€æ¶ˆæ¯åˆ°ç¾¤ç»„</span>
openclaw message send --channel telegram --message <span class="hljs-string">"Hello group!"</span>
</code></pre>
<h4 data-id="heading-23">ä¸ AI åŠ©æ‰‹å¯¹è¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‘é€æ¶ˆæ¯ç»™åŠ©æ‰‹</span>
openclaw agent --message <span class="hljs-string">"Ship checklist"</span> --thinking high

<span class="hljs-comment"># äº¤äº’å¼å¯¹è¯æ¨¡å¼</span>
openclaw agent
</code></pre>
<h4 data-id="heading-24">é€šé“ç®¡ç†</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç™»å½•é€šé“</span>
pnpm openclaw channels login

<span class="hljs-comment"># æŸ¥çœ‹å·²é…ç½®çš„é€šé“</span>
openclaw channels list

<span class="hljs-comment"># æŸ¥çœ‹é€šé“çŠ¶æ€</span>
openclaw doctor
</code></pre>
<h4 data-id="heading-25">ç³»ç»Ÿè¯Šæ–­</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿è¡Œç³»ç»Ÿè¯Šæ–­</span>
openclaw doctor

<span class="hljs-comment"># æ£€æŸ¥é…ç½®</span>
openclaw doctor --config

<span class="hljs-comment"># æŸ¥çœ‹æ—¥å¿—</span>
openclaw doctor --logs
</code></pre>
<h4 data-id="heading-26">æ›´æ–° OpenClaw</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬</span>
openclaw update

<span class="hljs-comment"># åˆ‡æ¢æ›´æ–°é€šé“</span>
openclaw update --channel stable|beta|dev

<span class="hljs-comment"># æ›´æ–°é€šé“è¯´æ˜</span>
<span class="hljs-comment"># - stable: ç¨³å®šç‰ˆï¼ˆæ¨èï¼‰</span>
<span class="hljs-comment"># - beta: æµ‹è¯•ç‰ˆ</span>
<span class="hljs-comment"># - dev: å¼€å‘ç‰ˆ</span>
</code></pre>
<h4 data-id="heading-27">å…¶ä»–å®ç”¨å‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å¸®åŠ©</span>
openclaw --<span class="hljs-built_in">help</span>

<span class="hljs-comment"># æŸ¥çœ‹ç‰¹å®šå‘½ä»¤å¸®åŠ©</span>
openclaw gateway --<span class="hljs-built_in">help</span>
openclaw agent --<span class="hljs-built_in">help</span>
openclaw message --<span class="hljs-built_in">help</span>

<span class="hljs-comment"># é…å¯¹ç®¡ç†</span>
openclaw pairing approve &lt;channel&gt; &lt;code&gt;
</code></pre>
<hr/>
<h3 data-id="heading-28">ğŸ”§ æ•…éšœæ’é™¤</h3>
<h4 data-id="heading-29">å¸¸è§é—®é¢˜</h4>
<h5 data-id="heading-30">1. Node.js ç‰ˆæœ¬é—®é¢˜</h5>
<p><strong>é—®é¢˜</strong>ï¼š<code>Node.js version must be &gt;= 22</code></p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥å½“å‰ç‰ˆæœ¬</span>
node --version

<span class="hljs-comment"># ä½¿ç”¨ nvm å®‰è£… Node.js 22</span>
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
<span class="hljs-built_in">source</span> ~/.bashrc
nvm install 22
nvm use 22
</code></pre>
<h5 data-id="heading-31">2. Gateway æ— æ³•å¯åŠ¨</h5>
<p><strong>é—®é¢˜</strong>ï¼š<code>Port 18789 already in use</code> æˆ– Gateway è¿æ¥å¤±è´¥</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥ç«¯å£å ç”¨</span>
lsof -i :18789

<span class="hljs-comment"># åœæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹</span>
<span class="hljs-built_in">kill</span> &lt;PID&gt;

<span class="hljs-comment"># æˆ–ä½¿ç”¨å…¶ä»–ç«¯å£</span>
openclaw gateway --port 18790
</code></pre>
<h5 data-id="heading-32">3. npm å®‰è£…æƒé™é”™è¯¯</h5>
<p><strong>é—®é¢˜</strong>ï¼š<code>EACCES: permission denied</code></p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹æ³• 1ï¼šä½¿ç”¨ sudoï¼ˆä¸æ¨èï¼‰</span>
sudo npm install -g openclaw@latest

<span class="hljs-comment"># æ–¹æ³• 2ï¼šé…ç½® npm ä½¿ç”¨ç”¨æˆ·ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p ~/.npm-global
npm config <span class="hljs-built_in">set</span> prefix <span class="hljs-string">'~/.npm-global'</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH=~/.npm-global/bin:$PATH'</span> &gt;&gt; ~/.bashrc
<span class="hljs-built_in">source</span> ~/.bashrc
npm install -g openclaw@latest
</code></pre>
<h5 data-id="heading-33">4. é€šé“ç™»å½•å¤±è´¥</h5>
<p><strong>é—®é¢˜</strong>ï¼šWhatsApp/Telegram ç­‰é€šé“æ— æ³•ç™»å½•</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥å‡­è¯é…ç½®</span>
<span class="hljs-built_in">cat</span> ~/.openclaw/openclaw.json

<span class="hljs-comment"># æ£€æŸ¥é€šé“æ—¥å¿—</span>
openclaw doctor --logs

<span class="hljs-comment"># é‡æ–°ç™»å½•é€šé“</span>
pnpm openclaw channels login
</code></pre>
<h5 data-id="heading-34">5. å®ˆæŠ¤è¿›ç¨‹é—®é¢˜</h5>
<p><strong>é—®é¢˜</strong>ï¼šGateway å®ˆæŠ¤è¿›ç¨‹æ— æ³•å¯åŠ¨æˆ–åœæ­¢å·¥ä½œ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥å®ˆæŠ¤è¿›ç¨‹çŠ¶æ€</span>
systemctl --user status openclaw

<span class="hljs-comment"># é‡æ–°å®‰è£…å®ˆæŠ¤è¿›ç¨‹</span>
openclaw onboard --install-daemon

<span class="hljs-comment"># æ‰‹åŠ¨å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹</span>
systemctl --user start openclaw

<span class="hljs-comment"># æŸ¥çœ‹å®ˆæŠ¤è¿›ç¨‹æ—¥å¿—</span>
journalctl --user -u openclaw -f
</code></pre>
<h5 data-id="heading-35">6. å†…å­˜ä¸è¶³</h5>
<p><strong>é—®é¢˜</strong>ï¼šGateway è¿è¡Œä¸€æ®µæ—¶é—´åå´©æºƒ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥å†…å­˜ä½¿ç”¨</span>
free -h

<span class="hljs-comment"># æ¸…ç† Gateway è¿›ç¨‹</span>
openclaw gateway stop
pkill -f openclaw

<span class="hljs-comment"># é‡å¯ Gateway</span>
openclaw gateway --port 18789
</code></pre>
<h4 data-id="heading-36">è¯Šæ–­å‘½ä»¤</h4>
<p>å½“é‡åˆ°é—®é¢˜æ—¶ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤è·å–è¯Šæ–­ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®Œæ•´ç³»ç»Ÿæ£€æŸ¥</span>
openclaw doctor

<span class="hljs-comment"># æ£€æŸ¥é…ç½®</span>
openclaw doctor --config

<span class="hljs-comment"># æ£€æŸ¥é€šé“çŠ¶æ€</span>
openclaw doctor --channels

<span class="hljs-comment"># æ£€æŸ¥æ—¥å¿—</span>
openclaw doctor --logs

<span class="hljs-comment"># æ£€æŸ¥ç½‘ç»œè¿æ¥</span>
openclaw doctor --network
</code></pre>
<h4 data-id="heading-37">æ—¥å¿—æŸ¥çœ‹</h4>
<p>OpenClaw çš„æ—¥å¿—æ–‡ä»¶ä½ç½®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Gateway æ—¥å¿—</span>
<span class="hljs-built_in">cat</span> ~/.openclaw/logs/gateway.log

<span class="hljs-comment"># é€šé“æ—¥å¿—</span>
<span class="hljs-built_in">cat</span> ~/.openclaw/logs/channels.log

<span class="hljs-comment"># å®æ—¶æŸ¥çœ‹æ—¥å¿—</span>
<span class="hljs-built_in">tail</span> -f ~/.openclaw/logs/gateway.log
</code></pre>
<h4 data-id="heading-38">è·å–å¸®åŠ©</h4>
<p>å¦‚æœä»¥ä¸Šæ–¹æ³•éƒ½æ— æ³•è§£å†³æ‚¨çš„é—®é¢˜ï¼š</p>
<ol>
<li><strong>æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai" target="_blank" title="https://docs.openclaw.ai" ref="nofollow noopener noreferrer">docs.openclaw.ai</a></li>
<li><strong>æŸ¥çœ‹æ•…éšœæ’é™¤æŒ‡å—</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Fchannels%2Ftroubleshooting" target="_blank" title="https://docs.openclaw.ai/channels/troubleshooting" ref="nofollow noopener noreferrer">docs.openclaw.ai/channels/trâ€¦</a></li>
<li><strong>åŠ å…¥ Discord ç¤¾åŒº</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.gg%2Fclawd" target="_blank" title="https://discord.gg/clawd" ref="nofollow noopener noreferrer">discord.gg/clawd</a></li>
<li><strong>æäº¤ Issue</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopenclaw%2Fopenclaw%2Fissues" target="_blank" title="https://github.com/openclaw/openclaw/issues" ref="nofollow noopener noreferrer">github.com/openclaw/opâ€¦</a></li>
</ol>
<hr/>
<h3 data-id="heading-39">ğŸ—ï¸ OpenClaw æ¶æ„æ¦‚è§ˆ</h3>
<pre><code class="hljs language-less" lang="less">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      <span class="hljs-selector-tag">OpenClaw</span> æ¶æ„å›¾                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  <span class="hljs-selector-tag">WhatsApp</span> / <span class="hljs-selector-tag">Telegram</span> / <span class="hljs-selector-tag">Slack</span> / <span class="hljs-selector-tag">Discord</span> / <span class="hljs-selector-tag">Google</span> <span class="hljs-selector-tag">Chat</span> / <span class="hljs-selector-tag">Signal</span>  â”‚
â”‚  <span class="hljs-selector-tag">iMessage</span> / <span class="hljs-selector-tag">BlueBubbles</span> / <span class="hljs-selector-tag">Microsoft</span> <span class="hljs-selector-tag">Teams</span> / <span class="hljs-selector-tag">Matrix</span> / <span class="hljs-selector-tag">Zalo</span>      â”‚
â”‚                           â”‚                                     â”‚
â”‚                           â–¼                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    <span class="hljs-selector-tag">Gateway</span> (æ§åˆ¶å¹³é¢)                        â”‚ â”‚
â”‚  â”‚               <span class="hljs-selector-tag">ws</span>:<span class="hljs-comment">//127.0.0.1:18789                           â”‚ â”‚</span>
â”‚  â”‚  â€¢ ä¼šè¯ç®¡ç†    â€¢ é€šé“è¿æ¥    â€¢ å·¥å…·æ‰§è¡Œ    â€¢ äº‹ä»¶å¤„ç†        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                           â”‚                                     â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚         â–¼                 â–¼                 â–¼                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  <span class="hljs-selector-tag">Pi</span> <span class="hljs-selector-tag">Agent</span>   â”‚   â”‚    <span class="hljs-selector-tag">CLI</span>      â”‚   â”‚  <span class="hljs-selector-tag">Web</span> <span class="hljs-selector-tag">UI</span>     â”‚          â”‚
â”‚  â”‚  (RPC)      â”‚   â”‚ <span class="hljs-selector-tag">openclaw</span>..  â”‚   â”‚  <span class="hljs-selector-tag">Dashboard</span>  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                           â”‚                                     â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚         â–¼                 â–¼                 â–¼                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ <span class="hljs-selector-tag">macOS</span> <span class="hljs-selector-tag">App</span>   â”‚   â”‚  <span class="hljs-selector-tag">iOS</span> <span class="hljs-selector-tag">Node</span>   â”‚   â”‚ <span class="hljs-selector-tag">Android</span> <span class="hljs-selector-tag">Node</span>â”‚          â”‚
â”‚  â”‚ <span class="hljs-selector-tag">Menu</span> <span class="hljs-selector-tag">Bar</span>    â”‚   â”‚  <span class="hljs-selector-tag">Canvas</span>     â”‚   â”‚  <span class="hljs-selector-tag">Canvas</span>     â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-40">æ¶æ„è¯´æ˜</h4>
<ol>
<li><strong>æ¶ˆæ¯æ¸ é“å±‚</strong> - æ¥æ”¶æ¥è‡ªå„å¹³å°çš„æ¶ˆæ¯</li>
<li><strong>Gateway æ§åˆ¶å¹³é¢</strong> - æ ¸å¿ƒæ§åˆ¶å•å…ƒï¼Œç®¡ç†ä¼šè¯å’Œå·¥å…·</li>
<li><strong>Agent è¿è¡Œæ—¶</strong> - AI æ™ºèƒ½ä½“ï¼Œå¤„ç†æ¶ˆæ¯å’Œæ‰§è¡Œä»»åŠ¡</li>
<li><strong>å®¢æˆ·ç«¯å±‚</strong> - CLIã€Web UIã€æ¡Œé¢/ç§»åŠ¨åº”ç”¨</li>
</ol>
<hr/>
<h3 data-id="heading-41">ğŸ“– å‚è€ƒèµ„æº</h3>
<h4 data-id="heading-42">å®˜æ–¹èµ„æº</h4>
<ul>
<li><strong>å®˜ç½‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw.ai" target="_blank" title="https://openclaw.ai" ref="nofollow noopener noreferrer">openclaw.ai</a></li>
<li><strong>æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai" target="_blank" title="https://docs.openclaw.ai" ref="nofollow noopener noreferrer">docs.openclaw.ai</a></li>
<li><strong>GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOpenClaw%2FOpenClaw" target="_blank" title="https://github.com/OpenClaw/OpenClaw" ref="nofollow noopener noreferrer">github.com/OpenClaw/Opâ€¦</a></li>
<li><strong>Discord</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdiscord.gg%2Fclawd" target="_blank" title="https://discord.gg/clawd" ref="nofollow noopener noreferrer">discord.gg/clawd</a></li>
</ul>
<h4 data-id="heading-43">å¿«é€Ÿå…¥é—¨</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Fstart%2Fgetting-started" target="_blank" title="https://docs.openclaw.ai/start/getting-started" ref="nofollow noopener noreferrer">Getting Started</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Fstart%2Fwizard" target="_blank" title="https://docs.openclaw.ai/start/wizard" ref="nofollow noopener noreferrer">Onboarding Wizard</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Fstart%2Fshowcase" target="_blank" title="https://docs.openclaw.ai/start/showcase" ref="nofollow noopener noreferrer">Showcase</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Fstart%2Ffaq" target="_blank" title="https://docs.openclaw.ai/start/faq" ref="nofollow noopener noreferrer">FAQ</a></li>
</ul>
<h4 data-id="heading-44">å®‰è£…ä¸æ›´æ–°</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Finstall" target="_blank" title="https://docs.openclaw.ai/install" ref="nofollow noopener noreferrer">Installation Guide</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Finstall%2Fupdating" target="_blank" title="https://docs.openclaw.ai/install/updating" ref="nofollow noopener noreferrer">Updating</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Finstall%2Fdocker" target="_blank" title="https://docs.openclaw.ai/install/docker" ref="nofollow noopener noreferrer">Docker Installation</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Finstall%2Fnix" target="_blank" title="https://docs.openclaw.ai/install/nix" ref="nofollow noopener noreferrer">Nix Installation</a></li>
</ul>
<h4 data-id="heading-45">é…ç½®ä¸ä½¿ç”¨</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Fgateway%2Fconfiguration" target="_blank" title="https://docs.openclaw.ai/gateway/configuration" ref="nofollow noopener noreferrer">Gateway Configuration</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Fconcepts%2Fmodels" target="_blank" title="https://docs.openclaw.ai/concepts/models" ref="nofollow noopener noreferrer">Models</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Fchannels" target="_blank" title="https://docs.openclaw.ai/channels" ref="nofollow noopener noreferrer">Channel Setup</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.openclaw.ai%2Fgateway%2Fsecurity" target="_blank" title="https://docs.openclaw.ai/gateway/security" ref="nofollow noopener noreferrer">Security Guide</a></li>
</ul>
<hr/>
<h3 data-id="heading-46">ğŸ“ ç»ˆç«¯å‘½ä»¤ç¤ºä¾‹</h3>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">$ </span><span class="bash">openclaw onboard --install-daemon</span>
ğŸ”§ OpenClaw Onboarding Wizard
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
1. é…ç½®æ¨¡å‹ (anthropic/claude-opus-4-5)
2. é…ç½®å·¥ä½œåŒº (~/.openclaw/workspace)
3. é…ç½®é€šé“ (WhatsApp/Telegram/Slack/Discord)
4. å®‰è£… Gateway å®ˆæŠ¤è¿›ç¨‹
5. å®Œæˆ
<span class="hljs-meta prompt_">
&gt; </span><span class="bash">é€‰æ‹©æ“ä½œ: 4</span>
âœ… æ­£åœ¨å®‰è£… Gateway å®ˆæŠ¤è¿›ç¨‹...
âœ… å®ˆæŠ¤è¿›ç¨‹å®‰è£…æˆåŠŸï¼
<span class="hljs-meta prompt_">
$ </span><span class="bash">openclaw gateway --port 18789 --verbose</span>
ğŸ”Œ Gateway å¯åŠ¨åœ¨ ws://127.0.0.1:18789
âœ… Gateway å·²å°±ç»ª
<span class="hljs-meta prompt_">
$ </span><span class="bash">openclaw message send --to +1234567890 --message <span class="hljs-string">"Hello from OpenClaw"</span></span>
âœ… æ¶ˆæ¯å·²å‘é€
<span class="hljs-meta prompt_">
$ </span><span class="bash">openclaw agent --message <span class="hljs-string">"Ship checklist"</span> --thinking high</span>
ğŸ¤– æ­£åœ¨æ€è€ƒ...
âœ… å“åº”å·²ç”Ÿæˆ
</code></pre>
<hr/>
<h3 data-id="heading-47">ğŸ¯ ä¸‹ä¸€æ­¥</h3>
<p>å®Œæˆå®‰è£…åï¼Œå»ºè®®æ‚¨ï¼š</p>
<ol>
<li>âœ… è¿è¡Œ <code>openclaw onboard</code> å®Œæˆåˆå§‹é…ç½®</li>
<li>âœ… å¯åŠ¨ Gatewayï¼š<code>openclaw gateway --port 18789 --verbose</code></li>
<li>âœ… é…ç½®è‡³å°‘ä¸€ä¸ªæ¶ˆæ¯æ¸ é“</li>
<li>âœ… å°è¯•å‘é€ç¬¬ä¸€æ¡æ¶ˆæ¯æµ‹è¯•</li>
<li>âœ… æŸ¥çœ‹æ–‡æ¡£äº†è§£é«˜çº§åŠŸèƒ½</li>
</ol>
<hr/>
<p><strong>Happy Exfoliating!</strong> ğŸ¦</p>
<p><em>OpenClaw ç”± Peter Steinberger å’Œç¤¾åŒºå¼€å‘ç»´æŠ¤</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vscodeåœ¨è¡Œå†…æ˜¾ç¤ºgitä¿¡æ¯ï¼Œä¸ä¼šè¿˜æœ‰äººåœ¨ç”¨æ’ä»¶å§ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602531501457080329</link>    <guid>https://juejin.cn/post/7602531501457080329</guid>    <pubDate>2026-02-04T06:27:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602531501457080329" data-draft-id="7602534556076933146" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vscodeåœ¨è¡Œå†…æ˜¾ç¤ºgitä¿¡æ¯ï¼Œä¸ä¼šè¿˜æœ‰äººåœ¨ç”¨æ’ä»¶å§ï¼Ÿ"/> <meta itemprop="keywords" content="Visual Studio Code,Git"/> <meta itemprop="datePublished" content="2026-02-04T06:27:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€å‰‘è½ç¬™æ­Œ"/> <meta itemprop="url" content="https://juejin.cn/user/157969840083720"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vscodeåœ¨è¡Œå†…æ˜¾ç¤ºgitä¿¡æ¯ï¼Œä¸ä¼šè¿˜æœ‰äººåœ¨ç”¨æ’ä»¶å§ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/157969840083720/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€å‰‘è½ç¬™æ­Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:27:37.000Z" title="Wed Feb 04 2026 06:27:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">vscodeåœ¨è¡Œå†…æ˜¾ç¤ºgitä¿¡æ¯ï¼Œä¸ä¼šè¿˜æœ‰äººåœ¨ç”¨æ’ä»¶å§ï¼Ÿ</h2>
<p>åœ¨ä»£ç è¡Œå†…æ˜¾ç¤ºgitä¿¡æ¯æ˜¯å¾ˆæ–¹ä¾¿çš„äº‹æƒ…ï¼Œå°±åƒè¿™æ ·
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ad7bbc0830e48f7ac6c11c3e5542a42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5YmR6JC956yZ5q2M:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770794000&amp;x-signature=p%2FrVMq6VeOQvg48%2BQRMxEFsrIKE%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p>é¼ æ ‡åœ¨å“ªé‡Œï¼Œå°±ä¼šæ˜¾ç¤ºå½“å‰è¡Œæœ€æ–°çš„gitä¿¡æ¯ï¼Œè¿™æ ·ä¸ä»…æ–¹ä¾¿æ‰¾åˆ°ä¸Šæ¬¡æ›´æ”¹çš„äººå’Œæ—¶é—´ä»¥åŠæ›´æ”¹ä¿¡æ¯ï¼Œå¹¶ä¸”åœ¨é¼ æ ‡ç§»åˆ°ä¿¡æ¯ä¸Šæ—¶ï¼Œè¿˜ä¼šå±•ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd7e12fee97140a1a32747b95b15d544~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5YmR6JC956yZ5q2M:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770794000&amp;x-signature=cZCqu3D1Rd01QzmPum8ReE0UjMo%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p>åœ¨ç‚¹å‡»å±•å¼€é¢æ¿çš„å“ˆå¸Œå€¼æ—¶ï¼Œè¿˜ä¼šç›´æ¥è·³è½¬é‚£ä¸€æ¬¡æäº¤çš„æ–‡ä»¶æ¯”è¾ƒã€‚</p>
<p>è¿™ä¸ªåŠŸèƒ½ï¼Œæœ€æ—©æˆ‘æ˜¯é€šè¿‡å…¶ä»–äººçŸ¥é“çš„ï¼Œä¹Ÿæ˜¯é€šè¿‡ç™¾åº¦æ‰äº†è§£åˆ°å¦‚ä½•ä¸‹è½½ç¬¬ä¸‰æ–¹æ’ä»¶æ¥å®ç°çš„ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¦‚æ­¤æ–¹ä¾¿åŠŸèƒ½ï¼Œå®˜æ–¹æœ‰æ²¡æœ‰å‘¢ï¼Ÿæœ‰çš„ï¼æœ‰çš„å…„å¼Ÿï¼</p>
<p>æˆ‘ä»¬æ‰“å¼€vscodeçš„è®¾ç½®ï¼Œæœç´¢git blameï¼Œå¦‚æœåœ¨æ²¡æœ‰å®‰è£…å…¶ä»–æ’ä»¶çš„æƒ…å†µä¸‹ï¼Œåº”è¯¥æ˜¯ç›´æ¥å‡ºæ¥4é¡¹è®¾ç½®ï¼Œéƒ½æ˜¯æˆ‘ä»¬è®¾ç½®æ­¤åŠŸèƒ½ä¼šç”¨åˆ°çš„ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c40d44c623649dd80bc5c168974c737~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5YmR6JC956yZ5q2M:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770794000&amp;x-signature=lreVrECa8EqCy8Itpv1x7z%2F4ie4%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
<p>é‚£ä¹ˆæˆ‘ä»¬æ¥ç®€å•è¯´æ˜ä¸€ä¸‹ï¼ˆæˆ‘è¿™é‡Œç”¨äº†ä¸­æ–‡ç¿»è¯‘æ’ä»¶ç¿»è¯‘è¿‡ï¼Œåº”è¯¥ä¹Ÿéƒ½å¯ä»¥çœ‹æ‡‚ï¼‰ã€‚</p>
<ol>
<li>
<p>å‹¾é€‰äº†ï¼Œå°±æ˜¯ä¼šåœ¨ç¼–è¾‘å™¨çš„è¡Œå†…å±•ç¤ºgitä¿¡æ¯</p>
</li>
<li>
<p>è¾“å…¥å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä¼šç›´æ¥æ”¾åˆ°æ¨¡æ¿å­—ç¬¦ä¸²è¿›è¡Œæ›¿æ¢ï¼Œè€Œæ›¿æ¢çš„å˜é‡ï¼Œå°±å¦‚å›¾ä¸­æ‰€ç¤ºï¼Œçœ‹ä½ å¸Œæœ›åœ¨è¡Œå†…çœ‹åˆ°å“ªäº›ä¿¡æ¯ã€‚æ¯”å¦‚æˆ‘åªæƒ³çœ‹åˆ°ä½œè€…å’Œä¿®æ”¹çš„æ—¥æœŸï¼Œé‚£å°±åº”è¯¥æ˜¯${authorName}${authorDate}</p>
</li>
<li>
<p>å‹¾é€‰äº†ï¼Œå°±ä¼šåœ¨åº•éƒ¨çŠ¶æ€æ å±•ç¤ºgitä¿¡æ¯
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82fef0d4b6f44291ab2dbf6c940562f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5YmR6JC956yZ5q2M:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770794000&amp;x-signature=mN2qjYOtZEv%2FUr851sckzmhYyH4%3D" alt="å›¾ç‰‡.png" loading="lazy"/></p>
</li>
<li>
<p>å­—ç¬¦ä¸²è§„åˆ™å’Œ2ç›¸åŒ</p>
</li>
</ol>
<p>å½“ç„¶ï¼Œè¿™ä¸ªåŠŸèƒ½ä¸åªæ˜¯vscodeï¼Œåªè¦æ˜¯ä»¥vscodeä¸ºåŸºç¡€å¼€å‘çš„å…¶ä»–å·¥å…·ï¼Œä¹Ÿæ˜¯æ”¯æŒçš„ã€‚traeï¼Œqoderï¼Œcursorç­‰ç­‰ã€‚</p>
<p>æ¯”å¦‚æˆ‘è¿˜åœ¨ä½¿ç”¨çš„zedï¼Œè™½ç„¶è®¤çœŸæ¯”è¾ƒèµ·æ¥è¿˜æ˜¯ä¸å¦‚vscodeï¼Œä½†æ•´ä½“æ¥è¯´å·²ç»å’Œvscodeçš„ä½¿ç”¨ä½“éªŒå·®ä¸äº†å¤ªå¤šäº†ã€‚</p>
<p>zedçš„è®¾ç½®ï¼Œä¹Ÿåªéœ€è¦æœç´¢blameï¼Œå°±å¯ä»¥çœ‹åˆ°å…³äºinline blameçš„è®¾ç½®é¡¹ï¼Œè™½ç„¶è‡ªç”±åº¦ç›¸æ¯”è¾ƒvscodeç³»å·®äº†ç‚¹ï¼Œä½†ä¹Ÿå¤Ÿç”¨ã€‚</p>
<p>æ€»ä¹‹ï¼Œæˆ‘å¸Œæœ›ï¼Œä¸è¦å†æœ‰äººåªä¸ºäº†ä¸€ä¸ªè¡Œå†…æ˜¾ç¤ºgitä¿¡æ¯çš„åŠŸèƒ½å»ä¸‹è½½å•ç‹¬çš„æ’ä»¶äº†ï¼ï¼ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SSH åå‘éš§é“ï¼ˆReverse Port Forwardingï¼‰è¯¦è§£]]></title>    <link>https://juejin.cn/post/7602634187283431434</link>    <guid>https://juejin.cn/post/7602634187283431434</guid>    <pubDate>2026-02-04T07:51:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602634187283431434" data-draft-id="7602565408533266482" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SSH åå‘éš§é“ï¼ˆReverse Port Forwardingï¼‰è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T07:51:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JesFelix"/> <meta itemprop="url" content="https://juejin.cn/user/2909721418541968"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SSH åå‘éš§é“ï¼ˆReverse Port Forwardingï¼‰è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2909721418541968/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JesFelix
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T07:51:48.000Z" title="Wed Feb 04 2026 07:51:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. ä»€ä¹ˆæ˜¯ SSH åå‘éš§é“ï¼Ÿ</h2>
<p>SSH åå‘éš§é“ï¼ˆReverse Tunnelï¼‰ï¼Œä¹Ÿç§°ä¸ºÂ <strong>è¿œç¨‹ç«¯å£è½¬å‘ï¼ˆRemote Port Forwardingï¼‰</strong> ï¼Œæ˜¯ä¸€ç§é€šè¿‡å·²å»ºç«‹çš„ SSH è¿æ¥ï¼Œå°†<strong>è¿œç¨‹ä¸»æœºä¸Šçš„æŸä¸ªæœ¬åœ°ç«¯å£</strong>ç»‘å®šåˆ°<strong>æœ¬åœ°ä¸»æœºä¸Šçš„æŸä¸ªæœåŠ¡</strong>çš„æŠ€æœ¯ã€‚</p>
<p>å…¶æ ¸å¿ƒèƒ½åŠ›æ˜¯ï¼š</p>
<blockquote>
<p><strong>è®©ä½äºå†…ç½‘æˆ–å—é™ç½‘ç»œä¸­çš„è¿œç¨‹ä¸»æœºï¼Œèƒ½å¤Ÿè®¿é—®ä½ æœ¬åœ°æœºå™¨ä¸Šçš„æœåŠ¡</strong>ã€‚</p>
</blockquote>
<p>å…¸å‹ç”¨é€”ï¼š</p>
<ul>
<li>å°†æœ¬åœ°å¼€å‘æœåŠ¡ä¸´æ—¶æš´éœ²ç»™æœåŠ¡å™¨è°ƒè¯•</li>
<li>å†…ç½‘æœåŠ¡å™¨é€šè¿‡æœ¬åœ°ä¸­è½¬è®¿é—®å¤–éƒ¨èµ„æº</li>
<li>è¿œç¨‹æ—¥å¿—æ”¶é›†ã€ä¸´æ—¶ API è°ƒç”¨ç­‰</li>
</ul>
<hr/>
<h2 data-id="heading-1">ğŸ§© 2. åŸºæœ¬è¯­æ³•ä¸å‚æ•°è¯¦è§£</h2>
<p>bash</p>
<p>ç¼–è¾‘</p>
<pre><code class="hljs language-ini" lang="ini">ssh -R <span class="hljs-section">[è¿œç¨‹ç«¯å£]</span>:<span class="hljs-section">[ç›®æ ‡ä¸»æœº]</span>:<span class="hljs-section">[ç›®æ ‡ç«¯å£]</span> <span class="hljs-section">[ç”¨æˆ·]</span>@<span class="hljs-section">[è¿œç¨‹ä¸»æœº]</span>
</code></pre>
<h3 data-id="heading-2">å‚æ•°è¯´æ˜ï¼š</h3>
<p>è¡¨æ ¼</p>



































<table><thead><tr><th>éƒ¨åˆ†</th><th>å«ä¹‰</th><th>æ‰€åœ¨ä½ç½®</th></tr></thead><tbody><tr><td><code>-R</code></td><td>å¯ç”¨Â <strong>åå‘ï¼ˆè¿œç¨‹ï¼‰ç«¯å£è½¬å‘</strong></td><td>SSH å®¢æˆ·ç«¯é€‰é¡¹</td></tr><tr><td><code>[è¿œç¨‹ç«¯å£]</code></td><td>åœ¨Â <strong>è¿œç¨‹ä¸»æœº</strong>Â ä¸Šç›‘å¬çš„ç«¯å£ï¼ˆå¦‚Â <code>8888</code>ï¼‰</td><td>ä»…é»˜è®¤ç»‘å®šÂ <code>127.0.0.1</code></td></tr><tr><td><code>[ç›®æ ‡ä¸»æœº]</code></td><td><strong>æœ¬åœ°ä¸»æœº</strong>Â ä¸Šçš„ç›®æ ‡åœ°å€ï¼ˆé€šå¸¸ä¸ºÂ <code>127.0.0.1</code>ï¼‰</td><td>ç›¸å¯¹äºæ‰§è¡ŒÂ <code>ssh</code>Â çš„æœºå™¨</td></tr><tr><td><code>[ç›®æ ‡ç«¯å£]</code></td><td><strong>æœ¬åœ°ä¸»æœº</strong>Â ä¸Šçš„æœåŠ¡ç«¯å£ï¼ˆå¦‚Â <code>7890</code>ï¼‰</td><td/></tr><tr><td><code>[ç”¨æˆ·]@[è¿œç¨‹ä¸»æœº]</code></td><td>ç™»å½•ç›®æ ‡æœåŠ¡å™¨</td><td>å¦‚Â <code>user@192.168.1.100</code></td></tr></tbody></table>
<blockquote>
<p>ğŸ’¡ å…³é”®ç†è§£ï¼š<br/>
<strong>â€œç›®æ ‡ä¸»æœºâ€å’Œâ€œç›®æ ‡ç«¯å£â€å§‹ç»ˆç›¸å¯¹äºæ‰§è¡ŒÂ <code>ssh</code>Â å‘½ä»¤çš„æœ¬åœ°æœºå™¨è€Œè¨€ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-3">ğŸ” 3. å·¥ä½œæµç¨‹å›¾è§£</h2>
<p>å‡è®¾ä½ åœ¨Â <strong>æœ¬åœ°æœºå™¨ A</strong>Â æ‰§è¡Œå‘½ä»¤ï¼Œè¿æ¥åˆ°Â <strong>è¿œç¨‹æœåŠ¡å™¨ B</strong>ï¼š</p>
<p>bash</p>
<p>ç¼–è¾‘</p>
<pre><code class="hljs language-sql" lang="sql">ssh <span class="hljs-operator">-</span>R <span class="hljs-number">8888</span>:<span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">7890</span> <span class="hljs-keyword">user</span><span class="hljs-variable">@B</span>
</code></pre>
<p>æ•°æ®æµå‘å¦‚ä¸‹ï¼š</p>
<p>text</p>
<p>ç¼–è¾‘</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[æœåŠ¡å™¨ B]</span>                     <span class="hljs-selector-attr">[æœ¬åœ°æœºå™¨ A]</span>
<span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8888</span>   &lt;--SSHéš§é“--&gt;   <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">7890</span>
     â†‘                                â†‘
     â””â”€ ä»»ä½•ç¨‹åºè¿æ¥æ­¤ç«¯å£            â””â”€ æœ¬åœ°è¿è¡Œçš„æœåŠ¡ï¼ˆå¦‚ä»£ç†ã€Web åº”ç”¨ï¼‰
</code></pre>
<p>å½“ B ä¸Šçš„ç¨‹åºè®¿é—®Â <code>127.0.0.1:8888</code>Â æ—¶ï¼Œè¯·æ±‚ä¼šç» SSH éš§é“è½¬å‘è‡³ A çš„Â <code>127.0.0.1:7890</code>ï¼Œå“åº”åŸè·¯è¿”å›ã€‚</p>
<blockquote>
<p>âœ… å…¨ç¨‹åŠ å¯†ï¼Œä¸”æ— éœ€å¼€æ”¾ A çš„é˜²ç«å¢™ï¼ˆå› ç›®æ ‡ä¸ºå›ç¯åœ°å€ï¼‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">ğŸ” 4. é»˜è®¤å®‰å…¨é™åˆ¶</h2>
<ul>
<li>
<p>åå‘éš§é“ç«¯å£Â <strong>ä»…ç›‘å¬Â <code>127.0.0.1</code></strong>ï¼Œå¤–éƒ¨æ— æ³•è®¿é—®</p>
</li>
<li>
<p>è‹¥éœ€å…è®¸å…¶ä»– IP è®¿é—®ï¼ˆä¸æ¨èï¼‰ï¼Œéœ€åœ¨æœåŠ¡å™¨é…ç½®ï¼š</p>
<p>conf</p>
<p>ç¼–è¾‘</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># /etc/ssh/sshd_config</span>
GatewayPorts <span class="hljs-built_in">yes</span>
</code></pre>
<p>å¹¶ä½¿ç”¨Â <code>-R *:8888:...</code>Â æ ¼å¼</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-5">ğŸ”‘ 5. ä½¿ç”¨å¯†é’¥è®¤è¯å»ºç«‹åå‘éš§é“</h2>
<p>åå‘éš§é“ä¸è®¤è¯æ–¹å¼æ— å…³ã€‚è‹¥ä½¿ç”¨ SSH å¯†é’¥å¯¹ï¼Œåªéœ€æŒ‡å®šç§é’¥è·¯å¾„ï¼š</p>
<p>bash</p>
<p>ç¼–è¾‘</p>
<pre><code class="hljs language-sql" lang="sql">ssh <span class="hljs-operator">-</span>i ï½<span class="hljs-operator">/</span>.ssh<span class="hljs-operator">/</span>private_key \
    <span class="hljs-operator">-</span>R <span class="hljs-number">8888</span>:<span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>:<span class="hljs-number">7890</span> \
    <span class="hljs-keyword">user</span><span class="hljs-variable">@server</span><span class="hljs-operator">-</span>ip
</code></pre>
<h3 data-id="heading-6">æ¨èåšæ³•ï¼šä½¿ç”¨ SSH é…ç½®æ–‡ä»¶ï¼ˆ<code>ï½/.ssh/config</code>ï¼‰</h3>
<p>text</p>
<p>ç¼–è¾‘</p>
<pre><code class="hljs language-bash" lang="bash">Host tunnel-server
    HostName 203.0.113.10
    User ubuntu
    IdentityFile ï½/.ssh/my-key
    RemoteForward 8888 127.0.0.1:7890
</code></pre>
<p>ä¹‹ååªéœ€è¿è¡Œï¼š</p>
<p>bash</p>
<p>ç¼–è¾‘</p>
<pre><code class="hljs language-vbscript" lang="vbscript">ssh tunnel-<span class="hljs-built_in">server</span>
</code></pre>
<h3 data-id="heading-7">åå°è¿è¡Œï¼ˆä»…éš§é“ï¼Œæ— äº¤äº’ shellï¼‰</h3>
<p>bash</p>
<p>ç¼–è¾‘</p>
<pre><code class="hljs language-perl" lang="perl">ssh -i ï½/.ssh/<span class="hljs-keyword">my</span>-key -N -f -R <span class="hljs-number">8888</span>:<span class="hljs-number">127.0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span>:<span class="hljs-number">7890</span> user@server
</code></pre>
<ul>
<li><code>-N</code>ï¼šä¸æ‰§è¡Œè¿œç¨‹å‘½ä»¤</li>
<li><code>-f</code>ï¼šåå°è¿è¡Œ</li>
</ul>
<hr/>
<h2 data-id="heading-8">ğŸŒ 6. é…åˆç¯å¢ƒå˜é‡å®ç°åº”ç”¨å±‚ä»£ç†ï¼ˆé‡è¦è¡¥å……ï¼‰</h2>
<p>ä»…å»ºç«‹éš§é“è¿˜ä¸å¤Ÿâ€”â€”<strong>åº”ç”¨ç¨‹åºå¿…é¡»ä¸»åŠ¨è¿æ¥éš§é“ç«¯å£</strong>æ‰èƒ½ç”Ÿæ•ˆã€‚<br/>
ä¸ºäº†è®©å¸¸è§å‘½ä»¤è¡Œå·¥å…·ï¼ˆå¦‚Â <code>curl</code>ã€<code>git</code>ã€<code>wget</code>ã€<code>pip</code>Â ç­‰ï¼‰<strong>è‡ªåŠ¨èµ°ä»£ç†</strong>ï¼Œéœ€è®¾ç½®æ ‡å‡†ç¯å¢ƒå˜é‡ã€‚</p>
<h3 data-id="heading-9">è®¾ç½®å…¨å±€ä»£ç†ç¯å¢ƒå˜é‡ï¼ˆåœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼‰</h3>
<p>bash</p>
<p>ç¼–è¾‘</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ³¨æ„ï¼šè·¯å¾„ä¸­çš„ ï½ å¿…é¡»æ˜¯è‹±æ–‡æ³¢æµªçº¿ï¼Œä¸èƒ½æ˜¯ä¸­æ–‡å…¨è§’ç¬¦å·</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export http_proxy=http://127.0.0.1:8888'</span> &gt;&gt; ï½/.bashrc
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export https_proxy=http://127.0.0.1:8888'</span> &gt;&gt; ï½/.bashrc
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export no_proxy=localhost,127.0.0.1,.local'</span> &gt;&gt; ï½/.bashrc
<span class="hljs-built_in">source</span> ï½/.bashrc
</code></pre>
<blockquote>
<p>âš ï¸Â <strong>å¸¸è§é”™è¯¯</strong>ï¼šä½¿ç”¨ä¸­æ–‡è¾“å…¥æ³•ä¸‹çš„Â <code>ï½</code>ï¼ˆå…¨è§’ï¼‰ä¼šå¯¼è‡´è·¯å¾„è§£æå¤±è´¥ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨è‹±æ–‡Â <code>ï½</code>ã€‚</p>
</blockquote>
<h3 data-id="heading-10">å„å˜é‡ä½œç”¨è¯´æ˜ï¼š</h3>
<p>è¡¨æ ¼</p>





















<table><thead><tr><th>å˜é‡</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>http_proxy</code></td><td>æŒ‡å®š HTTP æµé‡çš„ä»£ç†åœ°å€</td></tr><tr><td><code>https_proxy</code></td><td>æŒ‡å®š HTTPS æµé‡çš„ä»£ç†åœ°å€ï¼ˆå¤šæ•°å·¥å…·ä¼šå¤ç”¨Â <code>http_proxy</code>ï¼Œä½†æ˜¾å¼è®¾ç½®æ›´å¯é ï¼‰</td></tr><tr><td><code>no_proxy</code></td><td>æŒ‡å®š<strong>ä¸èµ°ä»£ç†</strong>çš„åŸŸåæˆ– IP åˆ—è¡¨ï¼Œé¿å…æœ¬åœ°é€šä¿¡è¢«è¯¯ä»£ç†</td></tr></tbody></table>
<ul>
<li>
<p><code>no_proxy</code>Â ä¸­çš„æ¡ç›®æ”¯æŒï¼š</p>
<ul>
<li><code>localhost</code>,Â <code>127.0.0.1</code>ï¼šæœ¬æœºå›ç¯</li>
<li><code>.local</code>ï¼šåŒ¹é…æ‰€æœ‰ä»¥Â <code>.local</code>Â ç»“å°¾çš„åŸŸåï¼ˆå¦‚Â <code>api.local</code>ï¼‰</li>
<li>å¤šä¸ªå€¼ç”¨é€—å·åˆ†éš”ï¼Œ<strong>ä¸è¦åŠ ç©ºæ ¼</strong></li>
</ul>
</li>
</ul>
<h3 data-id="heading-11">ç”Ÿæ•ˆèŒƒå›´ï¼ˆéµå®ˆè¿™äº›å˜é‡çš„å·¥å…·ï¼‰ï¼š</h3>
<p>âœ…Â <code>curl</code>,Â <code>wget</code><br/>
âœ…Â <code>git</code>ï¼ˆHTTPS æ–¹å¼ï¼‰<br/>
âœ…Â <code>pip</code>,Â <code>npm</code>,Â <code>yarn</code>,Â <code>composer</code><br/>
âœ… å¤§å¤šæ•°ç”¨ Python/Go/Node.js ç¼–å†™çš„ CLI å·¥å…·</p>
<h3 data-id="heading-12">âŒ ä¸ç”Ÿæ•ˆçš„åœºæ™¯ï¼š</h3>
<ul>
<li><code>ping</code>,Â <code>traceroute</code>ï¼ˆICMP åè®®ï¼Œä¸èµ° HTTP ä»£ç†ï¼‰</li>
<li><code>apt</code>Â /Â <code>yum</code>ï¼ˆéœ€å•ç‹¬é…ç½®ï¼‰</li>
<li>Dockerï¼ˆéœ€é…ç½® daemon ä»£ç†ï¼‰</li>
<li>è‡ªå®šä¹‰ç¨‹åºï¼ˆè‹¥æœªè¯»å–ç¯å¢ƒå˜é‡ï¼‰</li>
</ul>
<blockquote>
<p>ğŸ’¡ æç¤ºï¼šå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤éªŒè¯ä»£ç†æ˜¯å¦ç”Ÿæ•ˆï¼š</p>
<p>bash</p>
<p>ç¼–è¾‘</p>
<pre><code class="hljs language-arduino" lang="arduino">curl -s https:<span class="hljs-comment">//httpbin.org/ip</span>
</code></pre>
</blockquote>
<hr/>
<h2 data-id="heading-13">âš ï¸ 7. æ³¨æ„äº‹é¡¹ä¸æœ€ä½³å®è·µ</h2>
<ol>
<li><strong>éš§é“ç”Ÿå‘½å‘¨æœŸ = SSH ä¼šè¯ç”Ÿå‘½å‘¨æœŸ</strong><br/>
æ–­å¼€ SSH åéš§é“ç«‹å³å¤±æ•ˆã€‚é•¿æœŸä½¿ç”¨å»ºè®®é…åˆÂ <code>autossh</code>Â æˆ– systemd æœåŠ¡ã€‚</li>
<li><strong>ç«¯å£å†²çª</strong><br/>
ç¡®ä¿è¿œç¨‹ç«¯å£æœªè¢«å ç”¨ï¼ˆå¦‚Â <code>8888</code>ï¼‰ã€‚</li>
<li><strong>æƒé™æœ€å°åŒ–</strong><br/>
ä½¿ç”¨æ™®é€šç”¨æˆ·ï¼ˆé rootï¼‰å»ºç«‹éš§é“ï¼Œé™ä½å®‰å…¨é£é™©ã€‚</li>
<li><strong>é¿å…è¿‡åº¦ä»£ç†</strong><br/>
åˆç†è®¾ç½®Â <code>no_proxy</code>ï¼Œé˜²æ­¢æœ¬åœ°æœåŠ¡ï¼ˆå¦‚æ•°æ®åº“ã€Redisï¼‰è¢«é”™è¯¯ä»£ç†ã€‚</li>
<li><strong>æ—¥å¿—ä¸ç›‘æ§</strong><br/>
å¯é€šè¿‡Â <code>ssh -v</code>Â æŸ¥çœ‹éš§é“å»ºç«‹è¿‡ç¨‹ï¼Œä¾¿äºæ’é”™ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-14">âœ… 8. æ€»ç»“</h2>
<p>è¡¨æ ¼</p>





























<table><thead><tr><th>åŠŸèƒ½</th><th>å‘½ä»¤/é…ç½®</th></tr></thead><tbody><tr><td>åŸºç¡€åå‘éš§é“</td><td><code>ssh -R 8888:127.0.0.1:7890 user@host</code></td></tr><tr><td>ä½¿ç”¨å¯†é’¥</td><td>åŠ Â <code>-i ï½/.ssh/key</code>Â æˆ–é…ç½®Â <code>IdentityFile</code></td></tr><tr><td>åå°è¿è¡Œ</td><td>åŠ Â <code>-N -f</code></td></tr><tr><td>è‡ªåŠ¨ä»£ç†</td><td>åœ¨æœåŠ¡å™¨è®¾ç½®Â <code>http_proxy</code>Â ç­‰ç¯å¢ƒå˜é‡</td></tr><tr><td>æŒä¹…åŒ–é…ç½®</td><td>å†™å…¥Â <code>ï½/.bashrc</code>Â å¹¶Â <code>source</code></td></tr></tbody></table>
<blockquote>
<p>SSH åå‘éš§é“ + ç¯å¢ƒå˜é‡ä»£ç† = åœ¨å—é™ç½‘ç»œä¸­æ‰“é€šçµæ´»é€šä¿¡çš„é»„é‡‘ç»„åˆã€‚</p>
</blockquote>
<hr/>
<blockquote>
<p>ğŸ“ŒÂ <strong>é™„ï¼šæ­£å‘ vs åå‘éš§é“</strong></p>
<ul>
<li><strong>æ­£å‘éš§é“ï¼ˆ<code>-L</code>ï¼‰</strong> ï¼šæœ¬åœ°ç›‘å¬ â†’ è½¬å‘åˆ°è¿œç¨‹æœåŠ¡ï¼ˆç”¨äºè®¿é—®è¿œç¨‹å†…ç½‘ï¼‰</li>
<li><strong>åå‘éš§é“ï¼ˆ<code>-R</code>ï¼‰</strong> ï¼šè¿œç¨‹ç›‘å¬ â†’ è½¬å‘åˆ°æœ¬åœ°æœåŠ¡ï¼ˆç”¨äºæš´éœ²æœ¬åœ°æœåŠ¡ï¼‰</li>
</ul>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AutoMQ Ã— Aklivityï¼šè§£é”äº‘åŸç”Ÿå®æ—¶æ•°æ®ä»·å€¼]]></title>    <link>https://juejin.cn/post/7602555027304202280</link>    <guid>https://juejin.cn/post/7602555027304202280</guid>    <pubDate>2026-02-04T08:42:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602555027304202280" data-draft-id="7602576205477019663" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AutoMQ Ã— Aklivityï¼šè§£é”äº‘åŸç”Ÿå®æ—¶æ•°æ®ä»·å€¼"/> <meta itemprop="keywords" content="Kafka"/> <meta itemprop="datePublished" content="2026-02-04T08:42:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AutoMQ"/> <meta itemprop="url" content="https://juejin.cn/user/2878958479084707"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AutoMQ Ã— Aklivityï¼šè§£é”äº‘åŸç”Ÿå®æ—¶æ•°æ®ä»·å€¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2878958479084707/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AutoMQ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:42:24.000Z" title="Wed Feb 04 2026 08:42:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘ä»¬éå¸¸è£å¹¸åœ°å®£å¸ƒï¼ŒAutoMQ ä¸ Aklivity æ­£å¼è¾¾æˆæˆ˜ç•¥åˆä½œä¼™ä¼´å…³ç³»ï¼å…±åŒè‡´åŠ›äºæ¨è¿›äº‘åŸç”Ÿå®æ—¶æ•°æ®åŸºç¡€è®¾æ–½çš„æ¼”è¿›ï¼ŒåŠ©åŠ›ä¼ä¸šæ·±åº¦é‡Šæ”¾å®æ—¶æ•°æ®çš„æ ¸å¿ƒä»·å€¼ã€‚</p>
<p>æ•°å­—åŒ–è½¬å‹å…¨é¢åŠ é€Ÿï¼Œå®æ—¶æ•°æ®å·²æˆä¸ºå•†ä¸šåˆ›æ–°ä¸æå‡ç«äº‰åŠ›çš„æ ¸å¿ƒã€‚ç„¶è€Œï¼Œä¼ ç»Ÿçš„å®æ—¶æ•°æ®æ¶æ„åœ¨å¤šç³»ç»Ÿäº’è”ã€æ•°æ®å®‰å…¨ä¿éšœä»¥åŠæˆæœ¬æ§åˆ¶ç­‰æ–¹é¢ä»é¢ä¸´é‡é‡æŒ‘æˆ˜ã€‚</p>
<p>AutoMQ çš„æ— çŠ¶æ€äº‘åŸç”Ÿ Kafka å¹³å°ç°å·²æ·±åº¦é›†æˆ Aklivity çš„å¤šåè®®ç½‘å…³æŠ€æœ¯ã€‚æ­¤æ¬¡æˆ˜ç•¥åˆä½œç»“åˆäº† AutoMQ åœ¨æ‰“é€ ä½æˆæœ¬ã€é«˜å¼¹æ€§ Kafka è§£å†³æ–¹æ¡ˆæ–¹é¢çš„æŠ€æœ¯ç§¯ç´¯ï¼Œä»¥åŠ Aklivity åœ¨å¤šåè®®ç½‘å…³é¢†åŸŸçš„é¢†å…ˆèƒ½åŠ›ï¼Œæ—¨åœ¨èµ‹èƒ½ä¼ä¸šè½»æ¾æ‰“ç ´ç³»ç»Ÿå­¤å²›ï¼Œæ„å»ºé©±åŠ¨ä¸šåŠ¡æŒç»­å¢é•¿çš„ä¸‹ä¸€ä»£åº”ç”¨ç¨‹åºã€‚</p>
<h2 data-id="heading-0">å…³äº AutoMQ</h2>
<p>AutoMQ æ˜¯å¸‚åœºä¸Šå”¯ä¸€ä¸€æ¬¾åŸç”Ÿè¿è¡Œåœ¨äº‘å¯¹è±¡å­˜å‚¨ä¹‹ä¸Šçš„ä½å»¶è¿Ÿã€æ— ç›˜åŒ– Kafka å¹³å°ã€‚é’ˆå¯¹ Apache Kafka åœ¨äº‘åŸç”Ÿæ—¶ä»£é¢ä¸´çš„é«˜æˆæœ¬ã€å¼¹æ€§å·®åŠè¿ç»´å¤æ‚ç­‰é¡½ç–¾ï¼ŒAutoMQ åœ¨ä¿æŒ 100% å…¼å®¹ Kafka åè®®çš„åŸºç¡€ä¸Šï¼Œå¯¹å­˜å‚¨å±‚è¿›è¡Œäº†å½»åº•çš„é‡æ„ã€‚ é€šè¿‡é‡‡ç”¨è®¡ç®—ä¸å­˜å‚¨å®Œå…¨è§£è€¦çš„å…±äº«å­˜å‚¨æ¶æ„ï¼ŒAutoMQ å°† Kafka Broker è½¬å˜ä¸ºæ— çŠ¶æ€çš„è®¡ç®—èŠ‚ç‚¹ã€‚è¿™ä¸€è®¾è®¡ä½¿ä¼ä¸šèƒ½å¤Ÿåœ¨ä¸ç‰ºç‰²æ€§èƒ½çš„å‰æä¸‹ï¼Œå……åˆ†åˆ©ç”¨å¯¹è±¡å­˜å‚¨çš„å¯é æ€§ä¸æˆæœ¬ä¼˜åŠ¿ï¼Œå¹¶æ”¯æŒåŒ…æ‹¬å®‰å…¨çš„BYOCä»¥åŠè‡ªæ‰˜ç®¡è½¯ä»¶åœ¨å†…çš„å¤šç§éƒ¨ç½²æ¨¡å¼ã€‚</p>
<h3 data-id="heading-1">100% Kafka å…¼å®¹æ€§</h3>
<p>å®Œå…¨å…¼å®¹ Apache Kafka åè®®ä¸ç”Ÿæ€ï¼Œæ”¯æŒä»ç°æœ‰é›†ç¾¤é›¶åœæœºè¿ç§»ï¼Œæ— éœ€ä»»ä½•ä»£ç ä¿®æ”¹ã€‚</p>
<h3 data-id="heading-2">åŸºäº S3 çš„ä½å»¶è¿Ÿè¡¨ç°</h3>
<p>å®Œç¾èåˆäº†å¯¹è±¡å­˜å‚¨çš„æ— é™æ‰©å±•èƒ½åŠ›ä¸å—å­˜å‚¨çš„é«˜æ€§èƒ½ã€‚é€šè¿‡ç‹¬åˆ›çš„ WAL å¸è½½æœºåˆ¶ï¼ŒAutoMQ åœ¨å°†æ•°æ®ç›´æ¥æŒä¹…åŒ–è‡³ S3 çš„åŒæ—¶ï¼Œå®ç°äº†ä¸ªä½æ•°æ¯«ç§’çº§çš„å†™å…¥å»¶è¿Ÿï¼ˆP99 &lt; 10msï¼‰ã€‚</p>
<h3 data-id="heading-3">äº‘é€Ÿçº§å¼¹æ€§ä½“éªŒ</h3>
<p>æ— çŠ¶æ€ Brokeræ”¯æŒè®¡ç®—èµ„æºç§’çº§ Auto-Scalingã€‚åˆ†åŒºè¿ç§»è€—æ—¶ä»æ•°å°æ—¶ç¼©çŸ­è‡³ 1.5 ç§’ï¼Œè®©é›†ç¾¤æ‰©å®¹çœŸæ­£å®ç°ä¸šåŠ¡æ— æ„Ÿã€‚</p>
<h3 data-id="heading-4">10 å€æˆæœ¬ç¼©å‡</h3>
<p>åŸºäºå¯¹è±¡å­˜å‚¨å®ç°æ— é™å­˜å‚¨å’ŒæŒ‰é‡ä»˜è´¹ï¼Œå¹¶é€šè¿‡å¤šç‚¹å†™å…¥æ¶æ„å½»åº•æ¶ˆé™¤æ˜‚è´µçš„è·¨å¯ç”¨åŒºï¼ˆAZï¼‰æ•°æ®å¤åˆ¶æµé‡ï¼Œå°†èµ„æºé—²ç½®æµªè´¹é™è‡³æœ€ä½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3f9911541e84b2a88c8b399619d19f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXV0b01R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770799343&amp;x-signature=kJ%2F8vzBP8sfX0k48pFdgVOl8p8U%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">å…³äº Aklivity</h2>
<p>Aklivity æ˜¯ Zilla æ•°æ®å¹³å°çš„å¼€å‘è€…ï¼Œè‡´åŠ›äºæ‰“é€ ä¸“ä¸ºå®æ—¶æµè®¾è®¡çš„äº‘åŸç”Ÿè¿æ¥å±‚ï¼Œå¹¶å…¨é¢éµå¾ª AsyncAPI æ ‡å‡†ã€‚å…¶æ ¸å¿ƒç›®æ ‡æ˜¯å°†åŸå§‹åŸºç¡€è®¾æ–½è½¬åŒ–ä¸ºé¢å‘ Webã€ç§»åŠ¨ç«¯ã€ç‰©è”ç½‘åŠå¾®æœåŠ¡çš„å¯æ²»ç†ã€å¯å‘ç°çš„æ•°æ®äº§å“ã€‚ ä¸è„†å¼±çš„è‡ªå®šä¹‰èƒ¶æ°´ä»£ç æˆ–ç¬¨é‡çš„è¿æ¥å™¨ä¸åŒï¼ŒAklivity é‡‡ç”¨äº†åŸºäº Zilla ä»£ç†çš„æ— çŠ¶æ€ã€å£°æ˜å¼æ¶æ„ï¼Œæ”¯æŒå¤šç§åè®®ï¼ˆHTTPã€SSEã€MQTTã€gRPCï¼‰ç›´æ¥ä¸ Kafka è¿›è¡Œä»²è£è½¬æ¢ã€‚è¿™æå¤§åœ°ç®€åŒ–äº†é›†æˆé€»è¾‘ï¼Œå¹¶å®ç°äº†å¤–éƒ¨å®¢æˆ·ç«¯ä¸åç«¯æ‹“æ‰‘çš„è§£è€¦ã€‚å‡­å€Ÿâ€œå·¦ç§»â€æ²»ç†æ¨¡å‹å’Œé«˜æ€§èƒ½éé˜»å¡ I/Oï¼ŒAklivity åœ¨è¾¹ç¼˜ç«¯å®ç°äº†åŸç”Ÿå¥‘çº¦æ ¡éªŒä¸å¯é çš„å®‰å…¨ä¿éšœï¼Œä¸ºç°ä»£æ•°æ®ç”Ÿæ€æä¾›æµ·é‡æ‰©å±•èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-6">æ— ç¼åè®®ä»²è£</h3>
<p>Zilla ä¸å†ä¾èµ–è„†å¼±çš„ç‚¹å¯¹ç‚¹é›†æˆå’Œèƒ¶æ°´ä»£ç ï¼Œè€Œæ˜¯åœ¨æ ‡å‡†å®¢æˆ·ç«¯ä¸ä»¥ Kafka ä¸ºåç«¯çš„æµä¹‹é—´æä¾›åŸç”Ÿåè®®ä»²è£ã€‚Webï¼ˆHTTP/WebSocket/SSEï¼‰ã€ç§»åŠ¨ç«¯å’Œç‰©è”ç½‘ï¼ˆMQTT/gRPCï¼‰å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡ Zilla ç›´æ¥æ¶ˆè´¹å’Œç”Ÿäº§å®æ—¶æ•°æ®ï¼Œæ— éœ€ç¼–å†™è‡ªå®šä¹‰è¿æ¥å™¨æˆ–éƒ¨ç½² Sidecarã€‚</p>
<h3 data-id="heading-7">åŸºäº AsyncAPI çš„å¥‘çº¦é©±åŠ¨å‹æµå¤„ç†</h3>
<p>Aklivity é€šè¿‡å®šä¹‰ä¸¥è°¨çš„ AsyncAPI å¥‘çº¦ï¼Œå°†åŸå§‹ Kafka æµè½¬åŒ–ä¸ºå—æ²»ç†çš„æ•°æ®äº§å“ã€‚å¥‘çº¦æˆä¸ºäº†é¢‘é“ã€Payload Schema åŠè®¿é—®è¯­ä¹‰çš„å”¯ä¸€äº‹å®æ¥æºâ€”â€”å°† Topic è½¬åŒ–ä¸ºå›¢é˜Ÿå¯ä¿¡èµ–çš„ã€å…·å¤‡ç‰ˆæœ¬æ§åˆ¶çš„å¯å¤ç”¨æ¥å£ã€‚</p>
<h3 data-id="heading-8">è§£è€¦ä¸æ— çŠ¶æ€æ¶æ„</h3>
<p>ä½œä¸ºä¸“ä¸ºäº‘åŸç”Ÿæ—¶ä»£æ„å»ºçš„å¹³å°ï¼ŒZilla å……å½“äº†ä¸€ä¸ªæ— çŠ¶æ€æ•°æ®é¢ï¼Œå°†å®¢æˆ·ç«¯ä¸åç«¯ Broker æ‹“æ‰‘å®Œå…¨è§£è€¦ã€‚è¿™ä½¿å¾— AutoMQ èƒ½å¤Ÿç¬é—´å®Œæˆ Broker ç¼©å®¹æˆ–åˆ†åŒºé‡å¹³è¡¡ï¼Œè€Œæ— éœ€å¼ºåˆ¶å‰ç«¯å®¢æˆ·ç«¯é‡æ–°è¿æ¥ï¼Œä»è€Œæ„å»ºèµ·ä¸€ä¸ªçœŸæ­£å¼¹æ€§ã€é›¶åœæœºçš„æ—¶é—´æµå¤„ç†æŠ€æœ¯æ ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80b884f6a517441184b1b9ce7097a875~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXV0b01R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770799343&amp;x-signature=U2FtAMpJXypfryn9Qaeerhj1GyA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9">AutoMQ Ã— Aklivityï¼šäº‘åŸç”Ÿæµå¤„ç†çš„æ— çŠ¶æ€æŠ€æœ¯æ ˆ</h2>
<p>AutoMQ çš„æ— çŠ¶æ€å…±äº«å­˜å‚¨æ¶æ„ä¸ Aklivity çš„æµåŸç”Ÿç½‘å…³æ·±åº¦é›†æˆï¼Œå®ç°äº†äº‘åŸç”Ÿæ•°æ®æ¶æ„çš„å†æ¬¡è¿›åŒ–ã€‚é€šè¿‡å°†å¤šåè®®ä¸­ä»‹ä¸æµå­˜å‚¨å±‚åˆ†ç¦»ï¼Œè¯¥è”åˆè§£å†³æ–¹æ¡ˆä¸ºäº‘åŸç”Ÿæ—¶ä»£æä¾›äº†æ— ç¼çš„è¿æ¥æ€§ã€æé€Ÿå¼¹æ€§æ‰©å±•èƒ½åŠ›ä»¥åŠæ›´ä¸¥è°¨çš„æ²»ç†ä½“ç³»ã€‚</p>
<h3 data-id="heading-10">å¤šåè®®ä¸­ä»‹ï¼šåœ¨è¾¹ç¼˜ç«¯æ‰©å±•è¿æ¥èƒ½åŠ›</h3>
<p>Aklivity çš„ Zilla ç½‘å…³å……å½“äº† AutoMQ çš„é€šç”¨ç¿»è¯‘å™¨ï¼Œä½¿ Web (HTTP/SSE)ã€ç§»åŠ¨ç«¯å’Œç‰©è”ç½‘ (MQTT/gRPC) è®¾å¤‡èƒ½å¤Ÿç›´æ¥ä¸ Kafka é›†ç¾¤é€šä¿¡ï¼Œæ— éœ€ç¼–å†™è„†å¼±çš„èƒ¶æ°´ä»£ç æˆ–è‡ªå®šä¹‰è¿æ¥å™¨ã€‚è¿™ç§æ¶æ„å®ç°äº†å‰ç«¯å®¢æˆ·ç«¯ä¸åç«¯æ‹“æ‰‘çš„è§£è€¦ï¼šå½“ AutoMQ è¿›è¡Œå³æ—¶åˆ†åŒºé‡å¹³è¡¡æˆ– Broker æ‰©ç¼©å®¹æ—¶ï¼ŒZilla èƒ½å¤Ÿä¸ºè¾¹ç¼˜è®¾å¤‡ç»´æŒç¨³å®šä¸”æ— æ„Ÿçš„è¿æ¥ã€‚</p>
<h3 data-id="heading-11">å¥‘çº¦æ²»ç†ï¼šå¼ºåŒ–å®‰å…¨ä¸ç­–ç•¥æ‰§è¡Œ</h3>
<p>è¯¥è”åˆè§£å†³æ–¹æ¡ˆæ„å»ºäº†ä»è¾¹ç¼˜åˆ° VPC çš„åšå®å®‰å…¨è¾¹ç•Œã€‚Aklivity åœ¨ç½‘å…³å±‚è´Ÿè´£åè®®çº§æ²»ç†ï¼ŒåŒ…æ‹¬ AsyncAPI å¥‘çº¦æ ¡éªŒã€RBACï¼ˆåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼‰ä»¥åŠå®¡è®¡æ—¥å¿—ã€‚åŒæ—¶ï¼ŒAutoMQ é€šè¿‡ BYOC æ¨¡å¼å°†æ•°æ®é¢éƒ¨ç½²åœ¨ç”¨æˆ·è‡ªèº«çš„ VPC å†…ä»¥ç¡®ä¿æ•°æ®éšç§ï¼Œå¹¶åœ¨è®¡ç®—ä¸è®¿é—®å±‚å…¨é¢æ”¯æŒç«¯åˆ°ç«¯çš„ TLS/mTLS åŠ å¯†ã€‚</p>
<h3 data-id="heading-12">æ¶æ„åˆ›æ–°ï¼šé€šè¿‡å…±äº«å­˜å‚¨æ¶æ„å®ç°æ— çŠ¶æ€æ•ˆç‡</h3>
<p>ä¸¤æ¬¾å¹³å°çš„ååŒæ•ˆåº”é€šè¿‡ä»ä¼ ç»Ÿçš„æ— å…±äº«è®¾è®¡è½¬å‘ç°ä»£çš„å…±äº«å­˜å‚¨æ¶æ„ï¼Œæ˜¾è‘—æå‡äº†æµå¤„ç†æ•ˆç‡ã€‚AutoMQ çš„æ— ç›˜åŒ–ã€æ— çŠ¶æ€æ¶æ„å°†æ‰€æœ‰æ•°æ®å¸è½½è‡³ S3ï¼Œå°† Kafka Broker è½¬åŒ–ä¸ºçº¯ç²¹çš„è®¡ç®—èŠ‚ç‚¹ï¼Œå®ç°ç§’çº§æ‰©ç¼©å®¹ã€‚ç»“åˆ Aklivity è½»é‡çº§çš„éé˜»å¡ I/O ç½‘å…³ï¼Œä¼ä¸šèƒ½å¤Ÿè·å¾—ä¸€ä¸ªçœŸæ­£çš„å¼¹æ€§æµå¤„ç†å †æ ˆï¼Œæå¤§åœ°å‡å°‘äº†ä¼ ç»Ÿæœ‰çŠ¶æ€åŸºç¡€è®¾æ–½ä¸­å¸¸è§çš„è¿ç»´è´Ÿæ‹…å’Œè·¨å‰¯æœ¬å¤åˆ¶é™åˆ¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0a2354830a041e6972adec37e5eca53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQXV0b01R:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770799343&amp;x-signature=oDkEcnHjx9grLdKAQe0jEv60Or4%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13">å±•æœ›æœªæ¥</h2>
<p>AutoMQ ä¸ Aklivity å°†æŒç»­æ·±åŒ–æŠ€æœ¯èåˆï¼Œå…±åŒé©±åŠ¨äº‘åŸç”Ÿå®æ—¶æ•°æ®åŸºç¡€è®¾æ–½çš„å‘å±•ã€‚åŒæ–¹å°†è”æ‰‹ä¸ºå…¨çƒä¼ä¸šæä¾›æˆæœ¬æ›´ä½ã€æ€§èƒ½æ›´å¼ºã€æ›´æ˜“è¿ç»´ä¸”é«˜åº¦å®‰å…¨çš„å®æ—¶æ•°æ®æµè§£å†³æ–¹æ¡ˆï¼ŒåŠ é€Ÿæ•°æ®é©±åŠ¨å‹åº”ç”¨ä¸å•†ä¸šæ´å¯Ÿçš„è½åœ°ï¼Œå…±åŒæ„å»ºå¼€æ”¾ã€é«˜æ•ˆçš„äº‘åŸç”Ÿæ•°æ®ç”Ÿæ€ã€‚</p>
<p>ç«‹å³è®¿é—® AutoMQ å®˜ç½‘ï¼Œäº†è§£ä¸‹ä¸€ä»£äº‘åŸç”Ÿ Kafka çš„æè‡´æ€§èƒ½ä¸æˆæœ¬ä¼˜åŠ¿ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgo.automq.com%2Fofficial%3Futm_source%3Dopenwrite" target="_blank" title="https://go.automq.com/official?utm_source=openwrite" ref="nofollow noopener noreferrer">AutoMQ å®˜ç½‘</a></p>
<p>è®¿é—® Aklivity å®˜ç½‘ï¼Œæ¢ç´¢ç”¨äºå®æ—¶æ•°æ®ç®¡ç†çš„å¤šåè®®ç½‘å…³è§£å†³æ–¹æ¡ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aklivity.io" target="_blank" title="https://www.aklivity.io" ref="nofollow noopener noreferrer">Aklivity å®˜ç½‘</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Apache SeaTunnel Zetaã€Flinkã€Spark æ€ä¹ˆé€‰ï¼Ÿåº•å±‚åŸç† + å®æˆ˜å¯¹æ¯”ä¸€æ¬¡è®²é€]]></title>    <link>https://juejin.cn/post/7602554905270681600</link>    <guid>https://juejin.cn/post/7602554905270681600</guid>    <pubDate>2026-02-04T08:03:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602554905270681600" data-draft-id="7602581823638159360" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Apache SeaTunnel Zetaã€Flinkã€Spark æ€ä¹ˆé€‰ï¼Ÿåº•å±‚åŸç† + å®æˆ˜å¯¹æ¯”ä¸€æ¬¡è®²é€"/> <meta itemprop="keywords" content="å¤§æ•°æ®,å¼€æº,Flink"/> <meta itemprop="datePublished" content="2026-02-04T08:03:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™½é²¸å¼€æº"/> <meta itemprop="url" content="https://juejin.cn/user/3870725052049454"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Apache SeaTunnel Zetaã€Flinkã€Spark æ€ä¹ˆé€‰ï¼Ÿåº•å±‚åŸç† + å®æˆ˜å¯¹æ¯”ä¸€æ¬¡è®²é€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3870725052049454/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™½é²¸å¼€æº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:03:56.000Z" title="Wed Feb 04 2026 08:03:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Apache SeaTunnel Zetaã€Flinkã€Spark æ€ä¹ˆé€‰ï¼Ÿåº•å±‚åŸç† + å®æˆ˜å¯¹æ¯”ä¸€æ¬¡è®²é€</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61e85f534b9f43fda303d14a725a0109~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m96bK45byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770797037&amp;x-signature=zBzzjfk8AvIulKJYBh%2FH%2FeaojJg%3D" alt="å¯¹æ¯”" loading="lazy"/></p>
<p>æœ¬æ–‡æ¡£å°†æ·±å…¥è§£æ Apache SeaTunnel æ”¯æŒçš„ä¸‰å¤§æ‰§è¡Œå¼•æ“ï¼š<strong>Zeta (SeaTunnel Engine)</strong>ã€<strong>Flink</strong> å’Œ <strong>Spark</strong>ã€‚æˆ‘ä»¬å°†ä»æ¶æ„è®¾è®¡ã€æ ¸å¿ƒç‰¹æ€§ã€ä¼˜ç¼ºç‚¹å¯¹æ¯”ä»¥åŠä½¿ç”¨æ–¹æ³•ç­‰å¤šä¸ªç»´åº¦è¿›è¡Œè¯¦ç»†è®²è§£ï¼Œå¸®åŠ©ä½ æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©æœ€åˆé€‚çš„å¼•æ“ã€‚</p>
<h3 data-id="heading-1">1. å¼•æ“æ¦‚è§ˆ</h3>
<p>SeaTunnel çš„æ¶æ„è®¾è®¡é‡‡ç”¨äº† <strong>API ä¸æ‰§è¡Œå¼•æ“è§£è€¦</strong> çš„ç­–ç•¥ã€‚è¿™æ„å‘³ç€åŒä¸€å¥—æ•°æ®åŒæ­¥é€»è¾‘ï¼ˆConfigï¼‰å¯ä»¥æ— ç¼è¿è¡Œåœ¨ä¸åŒçš„å¼•æ“ä¸Šã€‚</p>
<ul>
<li><strong>Zeta Engine</strong>: SeaTunnel ç¤¾åŒºä¸“é—¨ä¸ºæ•°æ®é›†æˆåœºæ™¯è‡ªç ”çš„æ–°ä¸€ä»£å¼•æ“ï¼Œä¸“æ³¨äºé«˜æ€§èƒ½ã€ä½å»¶è¿Ÿçš„æ•°æ®åŒæ­¥ã€‚</li>
<li><strong>Flink Engine</strong>: åˆ©ç”¨ Flink å¼ºå¤§çš„æµå¤„ç†èƒ½åŠ›ï¼Œé€‚åˆå·²æ‹¥æœ‰ Flink é›†ç¾¤çš„ç”¨æˆ·ã€‚</li>
<li><strong>Spark Engine</strong>: åˆ©ç”¨ Spark å¼ºå¤§çš„æ‰¹å¤„ç†èƒ½åŠ›ï¼Œé€‚åˆç¦»çº¿å¤§è§„æ¨¡æ•°æ®å¤„ç†åœºæ™¯ã€‚</li>
</ul>
<h3 data-id="heading-2">2. Zeta å¼•æ“â€”â€”æ ¸å¿ƒæ¨è</h3>
<p>Zeta æ˜¯ç›®å‰ SeaTunnel ç¤¾åŒºä¸»æ¨çš„é»˜è®¤å¼•æ“ã€‚å®ƒæ—¨åœ¨è§£å†³ Flink/Spark åœ¨ç®€å•æ•°æ®åŒæ­¥åœºæ™¯ä¸‹â€œèµ„æºæ¶ˆè€—å¤§ã€éƒ¨ç½²è¿ç»´é‡â€çš„é—®é¢˜ã€‚</p>
<h4 data-id="heading-3">2.1 æ ¸å¿ƒæ¶æ„</h4>
<p>Zeta é‡‡ç”¨æ— ä¸­å¿ƒåŒ–ï¼ˆDecentralizedï¼‰æˆ– Master-Slave æ¶æ„ï¼ˆå–å†³äºéƒ¨ç½²æ¨¡å¼ï¼‰ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š</p>
<ul>
<li><strong>Coordinator (Master)</strong>:
<ul>
<li><strong>ä½œä¸šè§£æ</strong>: å°†é€»è¾‘ DAG (Logical DAG) è½¬æ¢ä¸ºç‰©ç† DAG (Physical DAG)ã€‚</li>
<li><strong>èµ„æºè°ƒåº¦</strong>: ç®¡ç† Slotï¼Œå‘ Worker åˆ†é…ä»»åŠ¡ã€‚</li>
<li><strong>Checkpoint Coordinator</strong>: è´Ÿè´£è§¦å‘å’Œåè°ƒåˆ†å¸ƒå¼å¿«ç…§ï¼ˆåŸºäº Chandy-Lamport ç®—æ³•ï¼‰ï¼Œä¿éšœæ•°æ®ä¸€è‡´æ€§ã€‚</li>
</ul>
</li>
<li><strong>Worker (Slave)</strong>:
<ul>
<li><strong>Task Execution</strong>: è¿è¡Œ Source, Transform, Sink ä»»åŠ¡ã€‚</li>
<li><strong>Data Transport</strong>: è´Ÿè´£èŠ‚ç‚¹é—´çš„æ•°æ®ä¼ è¾“ã€‚</li>
</ul>
</li>
<li><strong>ResourceManager</strong>: æ”¯æŒ Standalone, YARN, Kubernetes ç­‰å¤šç§èµ„æºç®¡ç†æ¨¡å¼ã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbcf21c690c948fd84fc1a8a219f77c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m96bK45byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770797037&amp;x-signature=fXiFYO%2FxaHSoBOg8k3FP6oH01q0%3D" alt="SeaTunnel Engine" loading="lazy"/></p>
<h4 data-id="heading-4">2.2 å…³é”®ç‰¹æ€§</h4>
<ol>
<li><strong>Pipeline çº§å®¹é”™ (Pipeline-level Fault Tolerance)</strong>:
<ul>
<li>ä¸åŒäº Flink çš„â€œå…¨å›¾é‡å¯â€ï¼ŒZeta å¯ä»¥åªé‡å¯å¤±è´¥çš„ Pipelineï¼ˆä¾‹å¦‚å¤šè¡¨åŒæ­¥ä¸­ï¼Œè¡¨ A å¤±è´¥ä¸å½±å“è¡¨ Bï¼‰ã€‚</li>
</ul>
</li>
<li><strong>å¢é‡å¿«ç…§ (Incremental Checkpoint)</strong>:
<ul>
<li>æ”¯æŒé«˜é¢‘ Checkpointï¼Œæœ€å°åŒ–æ•°æ®ä¸¢å¤±é£é™©ï¼ŒåŒæ—¶å¯¹æ€§èƒ½å½±å“æå°ã€‚</li>
</ul>
</li>
<li><strong>åŠ¨æ€æ‰©ç¼©å®¹ (Dynamic Scaling)</strong>:
<ul>
<li>æ”¯æŒåœ¨ä½œä¸šè¿è¡Œæ—¶åŠ¨æ€å¢åŠ æˆ–å‡å°‘ Worker èŠ‚ç‚¹ï¼Œæ— éœ€é‡å¯ä½œä¸šã€‚</li>
</ul>
</li>
<li><strong>Schema Evolution (è¡¨ç»“æ„å˜æ›´)</strong>:
<ul>
<li>åŸç”Ÿæ”¯æŒ DDL å˜æ›´åŒæ­¥ï¼ˆå¦‚ Add Columnï¼‰ï¼Œè¿™å¯¹ CDC åœºæ™¯è‡³å…³é‡è¦ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-5">2.3 ä½¿ç”¨æŒ‡å—</h4>
<p>Zeta å¼•æ“é€šå¸¸åŒ…å«åœ¨ SeaTunnel çš„äºŒè¿›åˆ¶åŒ…ä¸­ï¼Œå¼€ç®±å³ç”¨ã€‚</p>
<p><strong>å¯åŠ¨å‘½ä»¤ (Local æ¨¡å¼ - å¼€å‘æµ‹è¯•):</strong></p>
<pre><code class="hljs language-bash" lang="bash">./bin/seatunnel.sh --config ./config/your_job.conf -e <span class="hljs-built_in">local</span>
</code></pre>
<p><strong>å¯åŠ¨å‘½ä»¤ (Cluster æ¨¡å¼ - ç”Ÿäº§ç¯å¢ƒ):</strong></p>
<ol>
<li>å¯åŠ¨ Server (Master/Worker):
<pre><code class="hljs language-bash" lang="bash">./bin/seatunnel-cluster.sh -d
</code></pre>
</li>
<li>æäº¤ä»»åŠ¡åˆ°é›†ç¾¤:
<pre><code class="hljs language-bash" lang="bash">./bin/seatunnel.sh --config ./config/your_job.conf -e cluster
</code></pre>
</li>
</ol>
<h3 data-id="heading-6">3. Flink å¼•æ“</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e35557fec864c118af5184c06475ba5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m96bK45byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770797037&amp;x-signature=EAu03xV3m9OuPOe0F7nIw5A%2BnME%3D" alt="flink-1_highres" loading="lazy"/></p>
<p>SeaTunnel é€šè¿‡ç¿»è¯‘å±‚ï¼ˆTranslation Layerï¼‰å°†å†…éƒ¨çš„ Source/Sink API é€‚é…ä¸º Flink çš„ <code>SourceFunction</code> / <code>SinkFunction</code> (æˆ– Flink æ–°ç‰ˆ Source/Sink API)ã€‚</p>
<h4 data-id="heading-7">3.1 æ¶æ„åŸç†</h4>
<ul>
<li><strong>Translation</strong>: SeaTunnel åœ¨ Client ç«¯å°† Config è§£æå¹¶ç¿»è¯‘æˆ Flink JobGraphã€‚</li>
<li><strong>Execution</strong>: æäº¤ç»™ Flink Cluster æ‰§è¡Œã€‚æ­¤æ—¶ï¼ŒSeaTunnel ä»»åŠ¡å°±æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ Flink ä»»åŠ¡ã€‚</li>
<li><strong>State Backend</strong>: ä¾èµ– Flink çš„ Checkpoint æœºåˆ¶ï¼ˆRocksDB/FsStateBackendï¼‰ç®¡ç†çŠ¶æ€ã€‚</li>
</ul>
<h4 data-id="heading-8">3.2 ä¼˜ç¼ºç‚¹</h4>
<ul>
<li><strong>ä¼˜ç‚¹</strong>: ç”Ÿæ€æˆç†Ÿï¼Œè¿ç»´å·¥å…·ä¸°å¯Œï¼Œé€‚åˆå¤æ‚çš„æµå¼è®¡ç®—+åŒæ­¥åœºæ™¯ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>: ç‰ˆæœ¬è€¦åˆä¸¥é‡ï¼ˆéœ€é€‚é… Flink 1.13-1.18 ç­‰ä¸åŒç‰ˆæœ¬ï¼‰ï¼Œå¯¹äºçº¯åŒæ­¥ä»»åŠ¡æ˜¾å¾—è¿‡é‡ã€‚</li>
</ul>
<h4 data-id="heading-9">3.3 ä½¿ç”¨æŒ‡å—</h4>
<p>éœ€è¦ä¸‹è½½å¯¹åº”çš„ <code>seatunnel-flink-starter</code> jar åŒ…ï¼Œå¹¶ç¡®ä¿ Flink ç¯å¢ƒå·²å‡†å¤‡å¥½ã€‚</p>
<p><strong>å¯åŠ¨å‘½ä»¤ (Flink 1.13+):</strong></p>
<pre><code class="hljs language-bash" lang="bash">./bin/start-seatunnel-flink-13-connector-v2.sh \
    --config ./config/your_job.conf \
    --run-mode run <span class="hljs-comment"># æˆ– run-application</span>
</code></pre>
<p><em>(æ³¨æ„ï¼šä¸åŒ Flink ç‰ˆæœ¬è„šæœ¬åç§°ç•¥æœ‰ä¸åŒï¼Œå¦‚ <code>flink-15</code>, <code>flink-18</code>)</em></p>
<h3 data-id="heading-10">4. Spark å¼•æ“</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e329d1c74f65461b9f634a3be51ccf4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m96bK45byA5rqQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770797037&amp;x-signature=71w0BosSYuaTF%2FrGTN8UznUqjlM%3D" alt="spark" loading="lazy"/></p>
<p>ç±»ä¼¼äº Flinkï¼ŒSeaTunnel å°† Source/Sink é€‚é…ä¸º Spark çš„ <code>DataSource V2</code> APIã€‚</p>
<h4 data-id="heading-11">4.1 æ¶æ„åŸç†</h4>
<ul>
<li><strong>Batch</strong>: ä½¿ç”¨ Spark RDD / DataFrame API æ‰§è¡Œç¦»çº¿æ‰¹å¤„ç†ã€‚</li>
<li><strong>Streaming</strong>: ä½¿ç”¨ Spark Streaming (Micro-batch) æ‰§è¡Œæµå¼å¤„ç†ã€‚</li>
</ul>
<h4 data-id="heading-12">4.2 ä¼˜ç¼ºç‚¹</h4>
<ul>
<li><strong>ä¼˜ç‚¹</strong>: æ‰¹å¤„ç†æ€§èƒ½å¼ºå¤§ï¼Œåœ¨å¤§è§„æ¨¡ç¦»çº¿æ•°æ®æ¸…æ´—/ETL åœºæ™¯è¡¨ç°ä¼˜å¼‚ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>: æµå¤„ç†åŸºäºå¾®æ‰¹ï¼ˆMicro-batchï¼‰ï¼Œå»¶è¿Ÿé€šå¸¸é«˜äº Flink/Zetaï¼›èµ„æºè°ƒåº¦è¾ƒæ…¢ã€‚</li>
</ul>
<h4 data-id="heading-13">4.3 ä½¿ç”¨æŒ‡å—</h4>
<p>éœ€è¦ä¸‹è½½å¯¹åº”çš„ <code>seatunnel-spark-starter</code> jar åŒ…ã€‚</p>
<p><strong>å¯åŠ¨å‘½ä»¤ (Spark 3.x):</strong></p>
<pre><code class="hljs language-bash" lang="bash">./bin/start-seatunnel-spark-3-connector-v2.sh \
    --config ./config/your_job.conf \
    --master <span class="hljs-built_in">local</span>[4] <span class="hljs-comment"># æˆ– yarn, k8s</span>
</code></pre>
<h3 data-id="heading-14">5. ä¸‰å¤§å¼•æ“å…¨æ–¹ä½å¯¹æ¯”</h3>



























































<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">Zeta (SeaTunnel Engine)</th><th align="left">Flink Engine</th><th align="left">Spark Engine</th></tr></thead><tbody><tr><td align="left"><strong>å®šä½</strong></td><td align="left"><strong>æ•°æ®åŒæ­¥ä¸“ç”¨</strong></td><td align="left">é€šç”¨æµæ‰¹è®¡ç®—</td><td align="left">é€šç”¨æ‰¹æµè®¡ç®—</td></tr><tr><td align="left"><strong>é€‚ç”¨åœºæ™¯</strong></td><td align="left">æµ·é‡æ•°æ®é›†æˆã€CDC å®æ—¶åŒæ­¥ã€å¤šè¡¨æ•´åº“åŒæ­¥</td><td align="left">å¤æ‚æµå¼è®¡ç®— + åŒæ­¥</td><td align="left">å¤§è§„æ¨¡ç¦»çº¿æ¸…æ´—ã€ETL</td></tr><tr><td align="left"><strong>éƒ¨ç½²å¤æ‚åº¦</strong></td><td align="left"><strong>ä½</strong> (å†…ç½®ï¼Œå¼€ç®±å³ç”¨)</td><td align="left">ä¸­ (éœ€ç»´æŠ¤ Flink é›†ç¾¤)</td><td align="left">ä¸­ (éœ€ç»´æŠ¤ Spark é›†ç¾¤)</td></tr><tr><td align="left"><strong>èµ„æºæ¶ˆè€—</strong></td><td align="left"><strong>ä½</strong> (é’ˆå¯¹åŒæ­¥ä¼˜åŒ–ï¼Œæ— å¤šä½™å¼€é”€)</td><td align="left">ä¸­/é«˜</td><td align="left">ä¸­/é«˜</td></tr><tr><td align="left"><strong>å»¶è¿Ÿ</strong></td><td align="left"><strong>ä½</strong> (å®æ—¶æµ)</td><td align="left">ä½ (å®æ—¶æµ)</td><td align="left">ä¸­ (å¾®æ‰¹)</td></tr><tr><td align="left"><strong>å®¹é”™ç²’åº¦</strong></td><td align="left"><strong>Pipeline çº§</strong> (å±€éƒ¨é‡å¯)</td><td align="left">Job çº§ (å…¨å±€é‡å¯)</td><td align="left">Stage/Task çº§</td></tr><tr><td align="left"><strong>CDC æ”¯æŒ</strong></td><td align="left"><strong>å®Œç¾</strong> (æ”¯æŒ Schema Evolution)</td><td align="left">è‰¯å¥½</td><td align="left">ä¸€èˆ¬</td></tr><tr><td align="left"><strong>å¤šç‰ˆæœ¬é€‚é…</strong></td><td align="left">æ— éœ€é€‚é… (è‡ªå¸¦)</td><td align="left">éœ€ä¸¥æ ¼åŒ¹é… Flink ç‰ˆæœ¬</td><td align="left">éœ€ä¸¥æ ¼åŒ¹é… Spark ç‰ˆæœ¬</td></tr></tbody></table>
<h3 data-id="heading-15">6. å¦‚ä½•é€‰æ‹©ï¼Ÿ</h3>
<ol>
<li>
<p><strong>å¦‚æœä½ æ˜¯æ–°é¡¹ç›®ï¼Œæˆ–è€…ä¸»è¦éœ€æ±‚æ˜¯æ•°æ®åŒæ­¥ (Data Integration)</strong>:</p>
<ul>
<li>ğŸ‘‰ <strong>é¦–é€‰ Zeta å¼•æ“</strong>ã€‚å®ƒæœ€è½»é‡ã€æ€§èƒ½æœ€å¥½ï¼Œä¸”å¯¹ CDC å’Œå¤šè¡¨åŒæ­¥æœ‰ç‰¹æ®Šä¼˜åŒ–ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¦‚æœä½ å·²ç»æœ‰ç°æˆçš„ Flink/Spark é›†ç¾¤ï¼Œä¸”è¿ç»´å›¢é˜Ÿä¸æƒ³ç»´æŠ¤æ–°å¼•æ“</strong>:</p>
<ul>
<li>ğŸ‘‰ é€‰æ‹© <strong>Flink</strong> æˆ– <strong>Spark</strong> å¼•æ“ï¼Œå¤ç”¨ç°æœ‰åŸºç¡€è®¾æ–½ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¦‚æœä½ çš„ä»»åŠ¡åŒ…å«æå…¶å¤æ‚çš„è‡ªå®šä¹‰è®¡ç®—é€»è¾‘ (Complex Computation)</strong>:</p>
<ul>
<li>ğŸ‘‰ ä¼˜å…ˆè€ƒè™‘ <strong>Flink</strong> (æµ) æˆ– <strong>Spark</strong> (æ‰¹)ï¼Œåˆ©ç”¨å…¶ä¸°å¯Œçš„ç®—å­ç”Ÿæ€ã€‚ä½†ä¹Ÿå¯ä»¥è€ƒè™‘ <strong>Zeta + SQL Transform</strong> æ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-16">7. æ–°æ‰‹å…¥é—¨æŒ‡å—</h3>
<p>å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦ SeaTunnelï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å¿«é€Ÿä½“éªŒ Zeta å¼•æ“çš„å¼ºå¤§åŠŸèƒ½ã€‚</p>
<h4 data-id="heading-17">7.1 ç¯å¢ƒå‡†å¤‡</h4>
<p>ç¡®ä¿ä½ çš„æœºå™¨ä¸Šå®‰è£…äº† Java 8 æˆ– Java 11ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">java -version
</code></pre>
<h4 data-id="heading-18">7.2 ä¸‹è½½ä¸å®‰è£…</h4>
<ol>
<li><strong>ä¸‹è½½</strong>: ä» <a href="https://link.juejin.cn?target=https%3A%2F%2Fseatunnel.apache.org%2Fdownload" target="_blank" title="https://seatunnel.apache.org/download" ref="nofollow noopener noreferrer">Apache SeaTunnel å®˜ç½‘</a> ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„äºŒè¿›åˆ¶åŒ… (<code>apache-seatunnel-x.x.x-bin.tar.gz</code>)ã€‚</li>
<li><strong>è§£å‹</strong>:
<pre><code class="hljs language-bash" lang="bash">tar -zxvf apache-seatunnel-*.tar.gz
<span class="hljs-built_in">cd</span> apache-seatunnel-*
</code></pre>
</li>
</ol>
<h4 data-id="heading-19">7.3 å®‰è£… Connector æ’ä»¶ (é‡è¦!)</h4>
<p><strong>è¿™æ˜¯æ–°æ‰‹æœ€å®¹æ˜“å¿½ç•¥çš„ä¸€æ­¥</strong>ã€‚é»˜è®¤åŒ…ä¸åŒ…å«æ‰€æœ‰ Connectorï¼Œä½ éœ€è¦è¿è¡Œè„šæœ¬è‡ªåŠ¨ä¸‹è½½ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è‡ªåŠ¨å®‰è£… plugin_config é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„æ‰€æœ‰æ’ä»¶</span>
sh bin/install-plugin.sh
</code></pre>
<h4 data-id="heading-20">7.4 å¿«é€Ÿè¿è¡Œç¬¬ä¸€ä¸ªä»»åŠ¡</h4>
<p>åˆ›å»ºä¸€ä¸ªç®€å•çš„é…ç½®æ–‡ä»¶ <code>config/quick_start.conf</code>ï¼Œå°†æ•°æ®ä» Fake æºç”Ÿæˆå¹¶æ‰“å°åˆ°æ§åˆ¶å°ï¼š</p>
<pre><code class="hljs language-hocon" lang="hocon">env {
  execution.parallelism = 1
  job.mode = "BATCH"
}

source {
  FakeSource {
    result_table_name = "fake"
    row.num = 100
    schema = {
      fields {
        name = "string"
        age = "int"
      }
    }
  }
}

transform {
  # ç®€å•çš„ SQL å¤„ç†
  Sql {
    source_table_name = "fake"
    result_table_name = "sql_result"
    query = "select name, age from fake where age &gt; 50"
  }
}

sink {
  Console {
    source_table_name = "sql_result"
  }
}
</code></pre>
<p><strong>è¿è¡Œä»»åŠ¡ (Local æ¨¡å¼)</strong>:</p>
<pre><code class="hljs language-bash" lang="bash">./bin/seatunnel.sh --config ./config/quick_start.conf -e <span class="hljs-built_in">local</span>
</code></pre>
<p>å¦‚æœçœ‹åˆ°æ§åˆ¶å°è¾“å‡ºäº†æ•°æ®è¡¨æ ¼ï¼Œæ­å–œä½ ï¼Œä½ å·²ç»æˆåŠŸæŒæ¡äº† SeaTunnel çš„åŸºæœ¬ç”¨æ³•ï¼</p>
<h3 data-id="heading-21">8. Zeta å¼•æ“åŸç†æ·±åº¦å­¦ä¹ è·¯å¾„</h3>
<p>å¦‚æœä½ å¸Œæœ›æ·±å…¥äº†è§£ Zeta å¼•æ“çš„å†…éƒ¨è¿ä½œæœºåˆ¶ï¼Œæˆ–è€…æƒ³å‚ä¸ç¤¾åŒºè´¡çŒ®ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹è·¯å¾„è¿›è¡Œæºç é˜…è¯»å’Œè°ƒè¯•ã€‚</p>
<h4 data-id="heading-22">8.1 æ ¸å¿ƒæ¨¡å—æ¦‚è§ˆ</h4>
<p>Zeta å¼•æ“çš„ä»£ç ä¸»è¦é›†ä¸­åœ¨ <code>seatunnel-engine</code> æ¨¡å—ä¸‹ï¼š</p>
<ul>
<li><strong>seatunnel-engine-core</strong>: å®šä¹‰äº†æ ¸å¿ƒæ•°æ®ç»“æ„ï¼ˆå¦‚ <code>Job</code>, <code>Task</code>ï¼‰å’Œé€šä¿¡åè®®ã€‚</li>
<li><strong>seatunnel-engine-server</strong>: åŒ…å«äº† Coordinator å’Œ Worker çš„å…·ä½“å®ç°é€»è¾‘ã€‚</li>
<li><strong>seatunnel-engine-client</strong>: å®¢æˆ·ç«¯æäº¤é€»è¾‘ã€‚</li>
</ul>
<h4 data-id="heading-23">8.2 æºç é˜…è¯»æ¨èè·¯å¾„</h4>
<h5 data-id="heading-24">1. ä½œä¸šæäº¤ä¸è§£æ (Coordinator ä¾§)</h5>
<p>ä» <code>JobMaster</code> ç±»å¼€å§‹ï¼Œäº†è§£ä½œä¸šæ˜¯å¦‚ä½•è¢«æ¥æ”¶å’Œåˆå§‹åŒ–çš„ã€‚</p>
<ul>
<li><strong>å…¥å£</strong>: <code>org.apache.seatunnel.engine.server.master.JobMaster</code></li>
<li><strong>é€»è¾‘</strong>: å…³æ³¨ <code>init</code> å’Œ <code>run</code> æ–¹æ³•ï¼Œäº†è§£ <code>LogicalDag</code> åˆ° <code>PhysicalPlan</code> çš„è½¬æ¢è¿‡ç¨‹ã€‚</li>
</ul>
<h5 data-id="heading-25">2. ä»»åŠ¡æ‰§è¡Œ (Worker ä¾§)</h5>
<p>äº†è§£ Task æ˜¯å¦‚ä½•è¢«è°ƒåº¦å’Œæ‰§è¡Œçš„ã€‚</p>
<ul>
<li><strong>æœåŠ¡å…¥å£</strong>: <a href="https://link.juejin.cn?target=seatunnel-engine%2Fseatunnel-engine-server%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fseatunnel%2Fengine%2Fserver%2FTaskExecutionService.java" target="_blank" title="seatunnel-engine/seatunnel-engine-server/src/main/java/org/apache/seatunnel/engine/server/TaskExecutionService.java" ref="nofollow noopener noreferrer">TaskExecutionService.java</a>
<ul>
<li>è¯¥ç±»è´Ÿè´£ç®¡ç† Worker èŠ‚ç‚¹ä¸Šçš„æ‰€æœ‰ TaskGroupã€‚</li>
</ul>
</li>
<li><strong>æ‰§è¡Œä¸Šä¸‹æ–‡</strong>: <code>org.apache.seatunnel.engine.server.execution.TaskExecutionContext</code></li>
</ul>
<h5 data-id="heading-26">3. Checkpoint æœºåˆ¶ (æ ¸å¿ƒéš¾ç‚¹)</h5>
<p>Zeta çš„å¿«ç…§æœºåˆ¶æ˜¯ä¿è¯æ•°æ®ä¸€è‡´æ€§çš„å…³é”®ã€‚</p>
<ul>
<li><strong>åè°ƒå™¨</strong>: <a href="https://link.juejin.cn?target=seatunnel-engine%2Fseatunnel-engine-server%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fseatunnel%2Fengine%2Fserver%2Fcheckpoint%2FCheckpointCoordinator.java" target="_blank" title="seatunnel-engine/seatunnel-engine-server/src/main/java/org/apache/seatunnel/engine/server/checkpoint/CheckpointCoordinator.java" ref="nofollow noopener noreferrer">CheckpointCoordinator.java</a>
<ul>
<li>é‡ç‚¹é˜…è¯» <code>triggerCheckpoint</code> æ–¹æ³•ï¼Œäº†è§£ Barrier æ˜¯å¦‚ä½•åˆ†å‘çš„ã€‚</li>
</ul>
</li>
<li><strong>è®¡åˆ’</strong>: <a href="https://link.juejin.cn?target=seatunnel-engine%2Fseatunnel-engine-server%2Fsrc%2Fmain%2Fjava%2Forg%2Fapache%2Fseatunnel%2Fengine%2Fserver%2Fcheckpoint%2FCheckpointPlan.java" target="_blank" title="seatunnel-engine/seatunnel-engine-server/src/main/java/org/apache/seatunnel/engine/server/checkpoint/CheckpointPlan.java" ref="nofollow noopener noreferrer">CheckpointPlan.java</a>
<ul>
<li>äº†è§£ Checkpoint æ¶‰åŠçš„ä»»åŠ¡èŒƒå›´æ˜¯å¦‚ä½•è®¡ç®—çš„ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-27">8.3 è°ƒè¯•æŠ€å·§</h4>
<ol>
<li><strong>ä¿®æ”¹æ—¥å¿—çº§åˆ«</strong>: åœ¨ <code>config/log4j2.properties</code> ä¸­ï¼Œå°† <code>org.apache.seatunnel</code> çš„çº§åˆ«è°ƒæ•´ä¸º <code>DEBUG</code>ï¼Œå¯ä»¥çœ‹åˆ°è¯¦ç»†çš„ RPC é€šä¿¡å’ŒçŠ¶æ€å˜æ›´æ—¥å¿—ã€‚</li>
<li><strong>æœ¬åœ°è°ƒè¯•</strong>: åœ¨ IDE ä¸­ç›´æ¥è¿è¡Œ <code>org.apache.seatunnel.core.starter.seatunnel.SeaTunnelStarter</code> ç±»ï¼Œä¼ å…¥ <code>-c config/your_job.conf -e local</code> å‚æ•°ï¼Œå³å¯æ–­ç‚¹è°ƒè¯•æ•´ä¸ªæµç¨‹ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•ä¿æŒmysqlå’Œredisä¸­æ•°æ®çš„ä¸€è‡´æ€§?]]></title>    <link>https://juejin.cn/post/7602789520035053578</link>    <guid>https://juejin.cn/post/7602789520035053578</guid>    <pubDate>2026-02-04T08:44:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602789520035053578" data-draft-id="7602901565032857646" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•ä¿æŒmysqlå’Œredisä¸­æ•°æ®çš„ä¸€è‡´æ€§?"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T08:44:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å˜»å“ˆbaby"/> <meta itemprop="url" content="https://juejin.cn/user/485305583405066"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•ä¿æŒmysqlå’Œredisä¸­æ•°æ®çš„ä¸€è‡´æ€§?
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/485305583405066/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å˜»å“ˆbaby
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:44:14.000Z" title="Wed Feb 04 2026 08:44:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>å¼ºä¸€è‡´æ€§åšä¸åˆ°</strong>ï¼Œé™¤éä½ ä¸ç”¨ç¼“å­˜ã€‚</p>
<p>ç”¨äº†ç¼“å­˜ï¼Œå°±å¿…ç„¶å­˜åœ¨æ•°æ®åº“å’Œç¼“å­˜ä¸ä¸€è‡´çš„çª—å£æœŸã€‚æˆ‘ä»¬èƒ½åšçš„æ˜¯<strong>å°½é‡ç¼©çŸ­è¿™ä¸ªçª—å£</strong>ï¼Œä»¥åŠ<strong>å‡ºäº†ä¸ä¸€è‡´èƒ½å…œåº•</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆä¼šä¸ä¸€è‡´</h2>
<p>æœ€ç®€å•çš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> ç”¨æˆ·Aä¿®æ”¹æ•°æ®ï¼Œæ›´æ–°äº†æ•°æ®åº“
<span class="hljs-bullet">2.</span> è¿˜æ²¡æ¥å¾—åŠæ›´æ–°ç¼“å­˜
<span class="hljs-bullet">3.</span> ç”¨æˆ·BæŸ¥è¯¢ï¼Œå‘½ä¸­ç¼“å­˜ï¼Œæ‹¿åˆ°æ—§æ•°æ®
</code></pre>
<p>è¿™å°±æ˜¯ä¸ä¸€è‡´ã€‚</p>
<p>æ›´å¤æ‚çš„åœºæ™¯æ¶‰åŠå¹¶å‘ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">çº¿ç¨‹1: æ›´æ–°æ•°æ®åº“ â†’ åˆ é™¤ç¼“å­˜
çº¿ç¨‹2: æŸ¥è¯¢ç¼“å­˜(æœªå‘½ä¸­) â†’ æŸ¥æ•°æ®åº“ â†’ å†™ç¼“å­˜

å¦‚æœæ—¶åºæ˜¯è¿™æ ·ï¼š
<span class="hljs-bullet">1.</span> çº¿ç¨‹1 æ›´æ–°æ•°æ®åº“ï¼ˆæ–°å€¼ï¼‰
<span class="hljs-bullet">2.</span> çº¿ç¨‹2 æŸ¥æ•°æ®åº“ï¼ˆæ‹¿åˆ°æ–°å€¼ï¼‰
<span class="hljs-bullet">3.</span> çº¿ç¨‹1 åˆ é™¤ç¼“å­˜
<span class="hljs-bullet">4.</span> çº¿ç¨‹2 å†™ç¼“å­˜ï¼ˆæ–°å€¼ï¼‰
è¿™ç§æƒ…å†µæ²¡é—®é¢˜ã€‚

ä½†å¦‚æœæ˜¯è¿™æ ·ï¼š
<span class="hljs-bullet">1.</span> çº¿ç¨‹2 æŸ¥æ•°æ®åº“ï¼ˆæ—§å€¼ï¼‰
<span class="hljs-bullet">2.</span> çº¿ç¨‹1 æ›´æ–°æ•°æ®åº“ï¼ˆæ–°å€¼ï¼‰
<span class="hljs-bullet">3.</span> çº¿ç¨‹1 åˆ é™¤ç¼“å­˜
<span class="hljs-bullet">4.</span> çº¿ç¨‹2 å†™ç¼“å­˜ï¼ˆæ—§å€¼ï¼‰
ç¼“å­˜é‡Œå­˜çš„å°±æ˜¯æ—§å€¼ï¼Œä¸ä¸€è‡´äº†ã€‚
</code></pre>
<p>è¿™ç§å¹¶å‘å¯¼è‡´çš„ä¸ä¸€è‡´æ˜¯æœ€éš¾å¤„ç†çš„ã€‚</p>
<hr/>
<h2 data-id="heading-1">å¸¸ç”¨çš„å‡ ç§åšæ³•</h2>
<p><strong>Cache Aside</strong>ï¼Œæœ€å¸¸ç”¨çš„ï¼š</p>
<p><strong>è¯»</strong>ï¼šå…ˆè¯»ç¼“å­˜ï¼Œæ²¡æœ‰å°±è¯»æ•°æ®åº“ï¼Œç„¶åå†™ç¼“å­˜
<strong>å†™</strong>ï¼šå…ˆæ›´æ–°æ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è¯»</span>
<span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUser</span><span class="hljs-params">(Long id)</span> {
    <span class="hljs-comment">// 1. å…ˆæŸ¥ç¼“å­˜</span>
    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> redis.get(<span class="hljs-string">"user:"</span> + id);
    <span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> user;
    }
    <span class="hljs-comment">// 2. ç¼“å­˜æ²¡æœ‰ï¼ŒæŸ¥æ•°æ®åº“</span>
    user = db.selectById(id);
    <span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span>) {
        <span class="hljs-comment">// 3. å†™å…¥ç¼“å­˜</span>
        redis.setex(<span class="hljs-string">"user:"</span> + id, <span class="hljs-number">3600</span>, user);
    }
    <span class="hljs-keyword">return</span> user;
}

<span class="hljs-comment">// å†™</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateUser</span><span class="hljs-params">(User user)</span> {
    <span class="hljs-comment">// 1. å…ˆæ›´æ–°æ•°æ®åº“</span>
    db.update(user);
    <span class="hljs-comment">// 2. å†åˆ é™¤ç¼“å­˜</span>
    redis.del(<span class="hljs-string">"user:"</span> + id);
}
</code></pre>
<p>ä¸ºä»€ä¹ˆæ˜¯<strong>åˆ é™¤</strong>ç¼“å­˜è€Œä¸æ˜¯<strong>æ›´æ–°</strong>ç¼“å­˜ï¼Ÿ</p>
<p>å› ä¸ºæ›´æ–°ç¼“å­˜åœ¨å¹¶å‘åœºæ™¯ä¸‹æ›´å®¹æ˜“å‡ºé—®é¢˜ï¼š</p>
<pre><code class="hljs language-css" lang="css">çº¿ç¨‹<span class="hljs-number">1</span>æ›´æ–°æ•°æ®ä¸º<span class="hljs-selector-tag">A</span>ï¼Œçº¿ç¨‹<span class="hljs-number">2</span>æ›´æ–°æ•°æ®ä¸º<span class="hljs-selector-tag">B</span>
<span class="hljs-number">1</span>. çº¿ç¨‹<span class="hljs-number">1</span> æ›´æ–°æ•°æ®åº“ä¸º<span class="hljs-selector-tag">A</span>
<span class="hljs-number">2</span>. çº¿ç¨‹<span class="hljs-number">2</span> æ›´æ–°æ•°æ®åº“ä¸º<span class="hljs-selector-tag">B</span>
<span class="hljs-number">3</span>. çº¿ç¨‹<span class="hljs-number">2</span> æ›´æ–°ç¼“å­˜ä¸º<span class="hljs-selector-tag">B</span>
<span class="hljs-number">4</span>. çº¿ç¨‹<span class="hljs-number">1</span> æ›´æ–°ç¼“å­˜ä¸º<span class="hljs-selector-tag">A</span>
ç»“æœï¼šæ•°æ®åº“æ˜¯<span class="hljs-selector-tag">B</span>ï¼Œç¼“å­˜æ˜¯<span class="hljs-selector-tag">A</span>ï¼Œä¸ä¸€è‡´
</code></pre>
<p>åˆ é™¤ç¼“å­˜å°±æ²¡è¿™ä¸ªé—®é¢˜â€”â€”ä¸ç®¡è°å…ˆåˆ ï¼Œæœ€ç»ˆç¼“å­˜éƒ½æ˜¯ç©ºçš„ï¼Œä¸‹æ¬¡è¯»ä¼šä»æ•°æ®åº“åŠ è½½æœ€æ–°å€¼ã€‚</p>
<p><strong>å»¶è¿ŸåŒåˆ </strong>ï¼Œé’ˆå¯¹å¹¶å‘é—®é¢˜åŠ å±‚ä¿é™©ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateUser</span><span class="hljs-params">(User user)</span> {
    <span class="hljs-comment">// 1. å…ˆåˆ ç¼“å­˜</span>
    redis.del(<span class="hljs-string">"user:"</span> + id);
    <span class="hljs-comment">// 2. æ›´æ–°æ•°æ®åº“</span>
    db.update(user);
    <span class="hljs-comment">// 3. å»¶è¿Ÿä¸€æ®µæ—¶é—´å†åˆ ä¸€æ¬¡</span>
    Thread.sleep(<span class="hljs-number">500</span>);  <span class="hljs-comment">// æˆ–è€…ç”¨æ¶ˆæ¯é˜Ÿåˆ—å»¶è¿Ÿ</span>
    redis.del(<span class="hljs-string">"user:"</span> + id);
}
</code></pre>
<p>ç¬¬ä¸€æ¬¡åˆ é™¤æ˜¯ä¸ºäº†è®©å¹¶å‘çš„è¯»è¯·æ±‚å»æ•°æ®åº“æ‹¿æœ€æ–°æ•°æ®ã€‚
å»¶è¿Ÿåˆ é™¤æ˜¯ä¸ºäº†æ¸…ç†æ‰åœ¨æ›´æ–°æ•°æ®åº“æœŸé—´å¯èƒ½è¢«å†™å…¥çš„æ—§ç¼“å­˜ã€‚</p>
<p>å»¶è¿Ÿæ—¶é—´æ€ä¹ˆå®šï¼Ÿé€šå¸¸è®¾ç½®ä¸ºä¸šåŠ¡è¯»è¯·æ±‚çš„è€—æ—¶ + å‡ ç™¾æ¯«ç§’bufferã€‚</p>
<p><strong>binlogåŒæ­¥</strong>ï¼Œæ›´å¯é ä½†ä¹Ÿæ›´é‡ã€‚ç›‘å¬MySQLçš„binlogï¼Œæ•°æ®å˜æ›´æ—¶è‡ªåŠ¨åˆ ç¼“å­˜ï¼š</p>
<pre><code class="hljs">MySQL â†’ binlog â†’ Canal/Maxwell â†’ æ¶ˆè´¹ç¨‹åº â†’ æ›´æ–°Redis
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Canalæ¶ˆè´¹ç¤ºä¾‹</span>
<span class="hljs-meta">@CanalEventListener</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onEvent</span><span class="hljs-params">(CanalEntry entry)</span> {
    <span class="hljs-keyword">if</span> (entry.getTableName().equals(<span class="hljs-string">"user"</span>)) {
        <span class="hljs-type">Long</span> <span class="hljs-variable">userId</span> <span class="hljs-operator">=</span> entry.getColumn(<span class="hljs-string">"id"</span>);
        <span class="hljs-keyword">if</span> (entry.getEventType() == UPDATE || entry.getEventType() == DELETE) {
            redis.del(<span class="hljs-string">"user:"</span> + userId);
        }
    }
}
</code></pre>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>ä¸šåŠ¡ä»£ç ä¸ç”¨å…³å¿ƒç¼“å­˜æ›´æ–°</li>
<li>å¯é æ€§é«˜ï¼Œbinlogä¸ä¼šä¸¢</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>æ¶æ„å¤æ‚ï¼Œå¤šäº†Canalè¿™ä¸ªç»„ä»¶</li>
<li>æœ‰å»¶è¿Ÿï¼ˆé€šå¸¸æ¯«ç§’åˆ°ç§’çº§ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-2">å®é™…é¡¹ç›®æ€ä¹ˆé€‰</h2>
<p><strong>å¤§éƒ¨åˆ†åœºæ™¯ï¼šCache Asideå°±å¤Ÿäº†</strong></p>
<p>è¯»å¤šå†™å°‘çš„æ•°æ®ï¼ˆç”¨æˆ·ä¿¡æ¯ã€å•†å“è¯¦æƒ…ï¼‰ï¼ŒCache Aside + åˆç†çš„è¿‡æœŸæ—¶é—´ï¼ŒåŸºæœ¬å¤Ÿç”¨ã€‚çŸ­æš‚çš„ä¸ä¸€è‡´ä¸šåŠ¡ä¸Šèƒ½æ¥å—ã€‚</p>
<p><strong>å†™æ¯”è¾ƒé¢‘ç¹ï¼šè€ƒè™‘å»¶è¿ŸåŒåˆ </strong></p>
<p>æ¯”å¦‚åº“å­˜ã€ç§¯åˆ†è¿™ç§æ›´æ–°é¢‘ç¹çš„ï¼ŒåŠ ä¸Šå»¶è¿ŸåŒåˆ é™ä½ä¸ä¸€è‡´çš„æ¦‚ç‡ã€‚</p>
<p><strong>å¼ºä¸€è‡´æ€§è¦æ±‚é«˜ï¼šbinlogåŒæ­¥</strong></p>
<p>é‡‘èåœºæ™¯ã€äº¤æ˜“ç›¸å…³çš„ï¼Œä¸ŠCanalã€‚æˆ–è€…å¹²è„†ä¸ç”¨ç¼“å­˜ï¼Œç›´æ¥è¯»æ•°æ®åº“ã€‚</p>
<p><strong>ä¸€å®šèƒ½æ¥å—æœ€ç»ˆä¸€è‡´ï¼šè®¾ç½®è¿‡æœŸæ—¶é—´å…œåº•</strong></p>
<p>ä¸ç®¡ç”¨ä»€ä¹ˆæ–¹æ¡ˆï¼Œ<strong>ä¸€å®šè¦ç»™ç¼“å­˜è®¾ç½®è¿‡æœŸæ—¶é—´</strong>ã€‚å°±ç®—å‰é¢çš„é€»è¾‘å‡ºé—®é¢˜äº†ï¼Œè¿‡æœŸåä¹Ÿèƒ½è‡ªåŠ¨æ¢å¤ä¸€è‡´ã€‚</p>
<hr/>
<h2 data-id="heading-3">ä¸€äº›è¸©è¿‡çš„å‘</h2>
<p><strong>ç¼“å­˜å‡»ç©¿å¯¼è‡´çš„ä¸ä¸€è‡´</strong></p>
<p>çƒ­ç‚¹æ•°æ®è¿‡æœŸç¬é—´ï¼Œå¤§é‡è¯·æ±‚æ‰“åˆ°æ•°æ®åº“ï¼ŒåŒæ—¶å›å†™ç¼“å­˜ã€‚å¦‚æœè¿™æ—¶å€™æ­£å¥½æœ‰æ›´æ–°æ“ä½œï¼Œå¾ˆå®¹æ˜“å†™å…¥æ—§å€¼ã€‚</p>
<p>è§£å†³ï¼šç”¨åˆ†å¸ƒå¼é”ä¿è¯åªæœ‰ä¸€ä¸ªè¯·æ±‚å›å†™ç¼“å­˜ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUser</span><span class="hljs-params">(Long id)</span> {
    <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> redis.get(<span class="hljs-string">"user:"</span> + id);
    <span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> user;
    
    <span class="hljs-comment">// åŠ é”ï¼Œåªæœ‰ä¸€ä¸ªè¯·æ±‚å»æŸ¥æ•°æ®åº“</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">lockKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"lock:user:"</span> + id;
    <span class="hljs-keyword">if</span> (redis.setnx(lockKey, <span class="hljs-string">"1"</span>, <span class="hljs-number">10</span>)) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// åŒé‡æ£€æŸ¥</span>
            user = redis.get(<span class="hljs-string">"user:"</span> + id);
            <span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> user;
            
            user = db.selectById(id);
            redis.setex(<span class="hljs-string">"user:"</span> + id, <span class="hljs-number">3600</span>, user);
        } <span class="hljs-keyword">finally</span> {
            redis.del(lockKey);
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// æ²¡æ‹¿åˆ°é”ï¼Œç­‰ä¸€ä¸‹é‡è¯•</span>
        Thread.sleep(<span class="hljs-number">50</span>);
        <span class="hljs-keyword">return</span> getUser(id);
    }
    <span class="hljs-keyword">return</span> user;
}
</code></pre>
<p><strong>åˆ é™¤ç¼“å­˜å¤±è´¥</strong></p>
<p>ç½‘ç»œæŠ–åŠ¨å¯¼è‡´åˆ é™¤å¤±è´¥ï¼Œç¼“å­˜é‡Œè¿˜æ˜¯æ—§æ•°æ®ã€‚</p>
<p>è§£å†³ï¼šåˆ é™¤å¤±è´¥æ—¶å‘åˆ°æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¼‚æ­¥é‡è¯•ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateUser</span><span class="hljs-params">(User user)</span> {
    db.update(user);
    <span class="hljs-keyword">try</span> {
        redis.del(<span class="hljs-string">"user:"</span> + id);
    } <span class="hljs-keyword">catch</span> (Exception e) {
        <span class="hljs-comment">// åˆ é™¤å¤±è´¥ï¼Œå‘æ¶ˆæ¯å¼‚æ­¥é‡è¯•</span>
        mq.send(<span class="hljs-string">"cache-delete-retry"</span>, <span class="hljs-string">"user:"</span> + id);
    }
}
</code></pre>
<p><strong>è¯»å†™åˆ†ç¦»çš„å‘</strong></p>
<p>å¦‚æœæ•°æ®åº“æ˜¯ä¸»ä»æ¶æ„ï¼Œå†™ä¸»åº“ã€è¯»ä»åº“ã€‚ä»åº“æœ‰å»¶è¿Ÿï¼Œå¯èƒ½åˆšæ›´æ–°å®Œä¸»åº“ï¼Œåˆ äº†ç¼“å­˜ï¼Œç»“æœè¯»è¯·æ±‚å»ä»åº“æ‹¿åˆ°æ—§æ•°æ®åˆå†™å›ç¼“å­˜ã€‚</p>
<p>è§£å†³ï¼š</p>
<ul>
<li>å…³é”®ä¸šåŠ¡å¼ºåˆ¶è¯»ä¸»åº“</li>
<li>æˆ–è€…å»¶è¿ŸåŒåˆ çš„æ—¶é—´è®¾ç½®é•¿ä¸€ç‚¹ï¼Œè¦†ç›–ä¸»ä»å»¶è¿Ÿ</li>
</ul>
<hr/>
<h2 data-id="heading-4">ä¸€æ¬¡çœŸå®çš„çº¿ä¸Šäº‹æ•…</h2>
<p>å»å¹´é‡åˆ°è¿‡ä¸€ä¸ªcaseï¼Œåˆ†äº«ä¸€ä¸‹ã€‚</p>
<p>ç”µå•†ç³»ç»Ÿï¼Œå•†å“è¯¦æƒ…é¡µç”¨äº†ç¼“å­˜ã€‚æŸå¤©è¿è¥åé¦ˆï¼šæ”¹äº†å•†å“ä»·æ ¼ï¼Œé¡µé¢ä¸Šè¿˜æ˜¯è€ä»·æ ¼ï¼Œè¿‡äº†å¥½å‡ åˆ†é’Ÿæ‰å˜è¿‡æ¥ã€‚</p>
<p>æ’æŸ¥ä¸‹æ¥ï¼Œé—®é¢˜å‡ºåœ¨è¿™ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> è¿è¥åœ¨åå°æ”¹ä»·æ ¼ï¼Œæ›´æ–°æ•°æ®åº“
<span class="hljs-bullet">2.</span> ä»£ç é‡Œæ›´æ–°æ•°æ®åº“ååˆ ç¼“å­˜
<span class="hljs-bullet">3.</span> åˆ ç¼“å­˜çš„æ—¶å€™ï¼ŒRedisè¿æ¥è¶…æ—¶äº†ï¼ˆé‚£æ®µæ—¶é—´Redisæœ‰ç‚¹æŠ–åŠ¨ï¼‰
<span class="hljs-bullet">4.</span> ä»£ç åäº†å¼‚å¸¸ï¼Œæ²¡é‡è¯•
<span class="hljs-bullet">5.</span> ç¼“å­˜é‡Œè¿˜æ˜¯è€ä»·æ ¼ï¼Œè¦ç­‰30åˆ†é’Ÿè¿‡æœŸæ‰ä¼šæ›´æ–°
</code></pre>
<p>é—®é¢˜ä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updatePrice</span><span class="hljs-params">(Long productId, BigDecimal price)</span> {
    db.updatePrice(productId, price);
    <span class="hljs-keyword">try</span> {
        redis.del(<span class="hljs-string">"product:"</span> + productId);
    } <span class="hljs-keyword">catch</span> (Exception e) {
        log.error(<span class="hljs-string">"åˆ é™¤ç¼“å­˜å¤±è´¥"</span>, e);  <span class="hljs-comment">// åªæ‰“äº†ä¸ªæ—¥å¿—ï¼Œæ²¡å¤„ç†</span>
    }
}
</code></pre>
<p>ä¿®å¤æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updatePrice</span><span class="hljs-params">(Long productId, BigDecimal price)</span> {
    db.updatePrice(productId, price);
    
    <span class="hljs-comment">// åˆ ç¼“å­˜ï¼Œå¤±è´¥é‡è¯•3æ¬¡</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">retry</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    <span class="hljs-keyword">while</span> (retry &lt; <span class="hljs-number">3</span>) {
        <span class="hljs-keyword">try</span> {
            redis.del(<span class="hljs-string">"product:"</span> + productId);
            <span class="hljs-keyword">return</span>;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            retry++;
            <span class="hljs-keyword">if</span> (retry &gt;= <span class="hljs-number">3</span>) {
                <span class="hljs-comment">// é‡è¯•å¤±è´¥ï¼Œå‘æ¶ˆæ¯é˜Ÿåˆ—å¼‚æ­¥å¤„ç†</span>
                mq.send(<span class="hljs-string">"cache-invalidate"</span>, <span class="hljs-string">"product:"</span> + productId);
                log.error(<span class="hljs-string">"åˆ ç¼“å­˜å¤±è´¥ï¼Œå·²å‘MQ"</span>, e);
            }
            Thread.sleep(<span class="hljs-number">100</span>);
        }
    }
}

<span class="hljs-comment">// æ¶ˆè´¹è€…å…œåº•</span>
<span class="hljs-meta">@MQListener("cache-invalidate")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCacheInvalidate</span><span class="hljs-params">(String key)</span> {
    redis.del(key);
}
</code></pre>
<p>è¿˜åŠ äº†ä¸ªå…œåº•ï¼šç¼“å­˜è¿‡æœŸæ—¶é—´ä»30åˆ†é’Ÿæ”¹æˆ5åˆ†é’Ÿã€‚å°±ç®—å‰é¢éƒ½å¤±è´¥äº†ï¼Œæœ€å¤š5åˆ†é’Ÿä¹Ÿèƒ½æ¢å¤ã€‚</p>
<p>è¿™ä¸ªäº‹æ•…ç»™æˆ‘çš„æ•™è®­ï¼š<strong>åˆ ç¼“å­˜å¤±è´¥ä¸€å®šè¦æœ‰å…œåº•æœºåˆ¶</strong>ï¼Œä¸èƒ½åªæ‰“ä¸ªæ—¥å¿—å°±å®Œäº†ã€‚</p>
<hr/>
<h2 data-id="heading-5">æ€»ç»“</h2>



































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>å¤æ‚åº¦</th><th>ä¸€è‡´æ€§</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>Cache Aside</td><td>ä½</td><td>æœ€ç»ˆä¸€è‡´</td><td>å¤§éƒ¨åˆ†è¯»å¤šå†™å°‘åœºæ™¯</td></tr><tr><td>å»¶è¿ŸåŒåˆ </td><td>ä¸­</td><td>æœ€ç»ˆä¸€è‡´ï¼ˆæ›´å¥½ï¼‰</td><td>å†™é¢‘ç¹åœºæ™¯</td></tr><tr><td>binlogåŒæ­¥</td><td>é«˜</td><td>æœ€ç»ˆä¸€è‡´ï¼ˆå¯é ï¼‰</td><td>ä¸€è‡´æ€§è¦æ±‚é«˜çš„åœºæ™¯</td></tr><tr><td>ä¸ç”¨ç¼“å­˜</td><td>-</td><td>å¼ºä¸€è‡´</td><td>é‡‘èæ ¸å¿ƒäº¤æ˜“</td></tr></tbody></table>
<p>è®°ä½å‡ ä¸ªåŸåˆ™ï¼š</p>
<ol>
<li><strong>æ›´æ–°æ•°æ®åº“ååˆ ç¼“å­˜ï¼Œä¸æ˜¯æ›´æ–°ç¼“å­˜</strong></li>
<li><strong>ä¸€å®šè®¾ç½®è¿‡æœŸæ—¶é—´å…œåº•</strong></li>
<li><strong>èƒ½æ¥å—æœ€ç»ˆä¸€è‡´å°±è¡Œï¼Œåˆ«è¿½æ±‚å¼ºä¸€è‡´</strong></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç½‘ç»œæœ‰æ•ˆæ€§æ£€æµ‹]]></title>    <link>https://juejin.cn/post/7602562585100238882</link>    <guid>https://juejin.cn/post/7602562585100238882</guid>    <pubDate>2026-02-04T08:45:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602562585100238882" data-draft-id="7602562585100173346" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç½‘ç»œæœ‰æ•ˆæ€§æ£€æµ‹"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-04T08:45:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·341408199125"/> <meta itemprop="url" content="https://juejin.cn/user/570004686782272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç½‘ç»œæœ‰æ•ˆæ€§æ£€æµ‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/570004686782272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·341408199125
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:45:12.000Z" title="Wed Feb 04 2026 08:45:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ” <strong>Android ç½‘ç»œæœ‰æ•ˆæ€§æ£€æµ‹(Network Validation)å®ç°æœºåˆ¶</strong></h2>
<h3 data-id="heading-1"><strong>æ ¸å¿ƒæ¶æ„</strong></h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    ConnectivityService (CS)          â”‚
â”‚  â€¢ ç½‘ç»œè¿æ¥åè§¦å‘éªŒè¯                  â”‚
â”‚  â€¢ æ¥æ”¶éªŒè¯ç»“æœ                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ åˆ›å»ºå¹¶é€šä¿¡
           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    NetworkMonitor (NM)               â”‚ â—„â”€ ç‹¬ç«‹è¿›ç¨‹(NetworkStack)
â”‚  â€¢ æ‰§è¡Œå¤šç§æ¢æµ‹                       â”‚
â”‚  â€¢ åˆ¤æ–­ç½‘ç»œå¯ç”¨æ€§                     â”‚
â”‚  â€¢ æ£€æµ‹Captive Portal                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚ <span class="hljs-number">5</span>ç§æ¢æµ‹
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
    â–¼             â–¼         â–¼          â–¼       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DNS  â”‚  â”‚  HTTPS   â”‚ â”‚  HTTP  â”‚ â”‚Fallbackâ”‚ â”‚PrivDNS â”‚
â”‚ æ¢æµ‹  â”‚  â”‚  æ¢æµ‹    â”‚ â”‚  æ¢æµ‹  â”‚ â”‚ æ¢æµ‹   â”‚ â”‚ æ¢æµ‹   â”‚
â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-2"><strong>1ï¸âƒ£ äº”ç§æ¢æµ‹ç±»å‹</strong></h3>
<pre><code class="hljs language-129:174:packages_modules_Connectivity/framework/src/android/net/ConnectivityDiagnosticsManager.java" lang="129:174:packages_modules_Connectivity/framework/src/android/net/ConnectivityDiagnosticsManager.java">        /**
         * The overall validation result for the Network being reported on.
         *
         * &lt;p&gt;The possible values for this key are:
         * {@link #NETWORK_VALIDATION_RESULT_INVALID},
         * {@link #NETWORK_VALIDATION_RESULT_VALID},
         * {@link #NETWORK_VALIDATION_RESULT_PARTIALLY_VALID},
         * {@link #NETWORK_VALIDATION_RESULT_SKIPPED}.
         *
         * @see android.net.NetworkCapabilities#NET_CAPABILITY_VALIDATED
         */
        @NetworkValidationResult
        public static final String KEY_NETWORK_VALIDATION_RESULT = "networkValidationResult";

        /** DNS probe. */
        // TODO: link to INetworkMonitor.NETWORK_VALIDATION_PROBE_DNS
        public static final int NETWORK_PROBE_DNS = 0x04;

        /** HTTP probe. */
        // TODO: link to INetworkMonitor.NETWORK_VALIDATION_PROBE_HTTP
        public static final int NETWORK_PROBE_HTTP = 0x08;

        /** HTTPS probe. */
        // TODO: link to INetworkMonitor.NETWORK_VALIDATION_PROBE_HTTPS;
        public static final int NETWORK_PROBE_HTTPS = 0x10;

        /** Captive portal fallback probe. */
        // TODO: link to INetworkMonitor.NETWORK_VALIDATION_FALLBACK
        public static final int NETWORK_PROBE_FALLBACK = 0x20;

        /** Private DNS (DNS over TLS) probd. */
        // TODO: link to INetworkMonitor.NETWORK_VALIDATION_PROBE_PRIVDNS
        public static final int NETWORK_PROBE_PRIVATE_DNS = 0x40;

        /** @hide */
        @IntDef(
                prefix = {"NETWORK_PROBE_"},
                value = {
                        NETWORK_PROBE_DNS,
                        NETWORK_PROBE_HTTP,
                        NETWORK_PROBE_HTTPS,
                        NETWORK_PROBE_FALLBACK,
                        NETWORK_PROBE_PRIVATE_DNS
                })
        @Retention(RetentionPolicy.SOURCE)
        public @interface NetworkProbe {}
</code></pre>



































<table><thead><tr><th>æ¢æµ‹ç±»å‹</th><th>ç›®çš„</th><th>æ ‡å¿—ä½</th></tr></thead><tbody><tr><td><strong>DNS Probe</strong></td><td>éªŒè¯ DNS è§£ææ˜¯å¦å·¥ä½œ</td><td><code>0x04</code></td></tr><tr><td><strong>HTTP Probe</strong></td><td>æ£€æµ‹ Captive Portal(å¼ºåˆ¶é—¨æˆ·)</td><td><code>0x08</code></td></tr><tr><td><strong>HTTPS Probe</strong></td><td>éªŒè¯äº’è”ç½‘è¿æ¥æ€§</td><td><code>0x10</code></td></tr><tr><td><strong>Fallback Probe</strong></td><td>HTTP å¤‡ç”¨æ¢æµ‹</td><td><code>0x20</code></td></tr><tr><td><strong>Private DNS Probe</strong></td><td>éªŒè¯ DoT (DNS over TLS)</td><td><code>0x40</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-3"><strong>2ï¸âƒ£ HTTP/HTTPS æ¢æµ‹ URL</strong></h3>
<h4 data-id="heading-4"><strong>é»˜è®¤æ¢æµ‹ URL</strong></h4>
<pre><code class="hljs language-148:155:packages_modules_Connectivity/framework/src/android/net/ConnectivitySettingsManager.java" lang="148:155:packages_modules_Connectivity/framework/src/android/net/ConnectivitySettingsManager.java">    /**
     * The URL used for HTTP captive portal detection upon a new connection.
     * A 204 response code from the server is used for validation.
     *
     * @hide
     */
    public static final String CAPTIVE_PORTAL_HTTP_URL = "captive_portal_http_url";
</code></pre>
<pre><code class="hljs language-63:64:packages_modules_Connectivity/tests/cts/hostside-network-policy/app2/src/com/android/cts/netpolicy/hostside/app2/Common.java" lang="63:64:packages_modules_Connectivity/tests/cts/hostside-network-policy/app2/src/com/android/cts/netpolicy/hostside/app2/Common.java">    private static final String DEFAULT_TEST_URL =
            "https://connectivitycheck.android.com/generate_204";
</code></pre>
<pre><code class="hljs language-102:106:packages_modules_Connectivity/tests/cts/net/util/java/android/net/cts/util/CtsNetUtils.java" lang="102:106:packages_modules_Connectivity/tests/cts/net/util/java/android/net/cts/util/CtsNetUtils.java">    public static final String TEST_HOST = "connectivitycheck.gstatic.com";
    public static final String HTTP_REQUEST =
            "GET /generate_204 HTTP/1.0\r\n" +
                    "Host: " + TEST_HOST + "\r\n" +
                    "Connection: keep-alive\r\n\r\n";
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>:</p>
<ul>
<li><strong>HTTP URL</strong>: <code>http://connectivitycheck.gstatic.com/generate_204</code></li>
<li><strong>HTTPS URL</strong>: <code>https://www.google.com/generate_204</code></li>
<li><strong>æœŸæœ›å“åº”</strong>: <code>HTTP 204 No Content</code> (è¡¨ç¤ºç½‘ç»œç•…é€š,æ— å†…å®¹è¿”å›)</li>
</ul>
<h4 data-id="heading-5"><strong>204 å“åº”çš„å«ä¹‰</strong></h4>
<pre><code class="hljs language-229:263:frameworks_base/packages/CarrierDefaultApp/src/com/android/carrierdefaultapp/CaptivePortalLoginActivity.java" lang="229:263:frameworks_base/packages/CarrierDefaultApp/src/com/android/carrierdefaultapp/CaptivePortalLoginActivity.java">    private void testForCaptivePortal() {
        mTestingThread = new Thread(new Runnable() {
            public void run() {
                // Give time for captive portal to open.
                try {
                    Thread.sleep(1000);
                } catch (InterruptedException e) {
                }
                if (isFinishing() || isDestroyed()) return;
                HttpURLConnection urlConnection = null;
                int httpResponseCode = 500;
                int oldTag = TrafficStats.getAndSetThreadStatsTag(
                        NetworkStackConstants.TAG_SYSTEM_PROBE);
                try {
                    urlConnection = (HttpURLConnection) mNetwork.openConnection(
                            new URL(mCm.getCaptivePortalServerUrl()));
                    urlConnection.setInstanceFollowRedirects(false);
                    urlConnection.setConnectTimeout(SOCKET_TIMEOUT_MS);
                    urlConnection.setReadTimeout(SOCKET_TIMEOUT_MS);
                    urlConnection.setUseCaches(false);
                    urlConnection.getInputStream();
                    httpResponseCode = urlConnection.getResponseCode();
                } catch (IOException e) {
                    loge(e.getMessage());
                } finally {
                    if (urlConnection != null) urlConnection.disconnect();
                    TrafficStats.setThreadStatsTag(oldTag);
                }
                if (httpResponseCode == 204) {
                    done(true);
                }
            }
        });
        mTestingThread.start();
    }
</code></pre>
<hr/>
<h3 data-id="heading-6"><strong>3ï¸âƒ£ éªŒè¯æµç¨‹</strong></h3>
<h4 data-id="heading-7"><strong>æ ‡å‡†ç½‘ç»œ(Valid Network)éªŒè¯</strong></h4>
<pre><code class="hljs language-1281:1291:packages_modules_Connectivity/tests/unit/java/com/android/server/ConnectivityServiceTest.java" lang="1281:1291:packages_modules_Connectivity/tests/unit/java/com/android/server/ConnectivityServiceTest.java">        void setNetworkValid(boolean privateDnsProbeSent) {
            mNmValidationResult = NETWORK_VALIDATION_RESULT_VALID;
            mNmValidationRedirectUrl = null;
            int probesSucceeded = NETWORK_VALIDATION_PROBE_DNS | NETWORK_VALIDATION_PROBE_HTTPS;
            if (privateDnsProbeSent) {
                probesSucceeded |= NETWORK_VALIDATION_PROBE_PRIVDNS;
            }
            // The probesCompleted equals to probesSucceeded for the case of valid network, so put
            // the same value into two different parameter of the method.
            setProbesStatus(probesSucceeded, probesSucceeded);
        }
</code></pre>
<p><strong>æˆåŠŸæ¡ä»¶</strong>: DNS + HTTPS æ¢æµ‹éƒ½æˆåŠŸ â†’ <strong>ç½‘ç»œæœ‰æ•ˆ</strong></p>
<h4 data-id="heading-8"><strong>Captive Portal æ£€æµ‹</strong></h4>
<pre><code class="hljs language-1310:1321:packages_modules_Connectivity/tests/unit/java/com/android/server/ConnectivityServiceTest.java" lang="1310:1321:packages_modules_Connectivity/tests/unit/java/com/android/server/ConnectivityServiceTest.java">        void setNetworkPortal(String redirectUrl, boolean privateDnsProbeSent) {
            setNetworkInvalid(privateDnsProbeSent);
            mNmValidationRedirectUrl = redirectUrl;
            // Suppose the portal is found when NetworkMonitor probes NETWORK_VALIDATION_PROBE_HTTP
            // in the beginning, so the NETWORK_VALIDATION_PROBE_HTTPS hasn't probed yet.
            int probesCompleted = NETWORK_VALIDATION_PROBE_DNS | NETWORK_VALIDATION_PROBE_HTTP;
            int probesSucceeded = VALIDATION_RESULT_INVALID;
            if (privateDnsProbeSent) {
                probesCompleted |= NETWORK_VALIDATION_PROBE_PRIVDNS;
            }
            setProbesStatus(probesCompleted, probesSucceeded);
        }
</code></pre>
<p><strong>æ£€æµ‹é€»è¾‘</strong>:</p>
<ol>
<li>HTTP æ¢æµ‹è¿”å› <strong>302/307 é‡å®šå‘</strong> â†’ æ£€æµ‹åˆ° Captive Portal</li>
<li><code>redirectUrl</code> å­˜å‚¨ç™»å½•é¡µé¢åœ°å€</li>
<li>ç³»ç»Ÿå¼¹å‡ºé€šçŸ¥,å¼•å¯¼ç”¨æˆ·ç™»å½•</li>
</ol>
<h4 data-id="heading-9"><strong>éƒ¨åˆ†è¿æ¥(Partial Connectivity)</strong></h4>
<pre><code class="hljs language-1323:1330:packages_modules_Connectivity/tests/unit/java/com/android/server/ConnectivityServiceTest.java" lang="1323:1330:packages_modules_Connectivity/tests/unit/java/com/android/server/ConnectivityServiceTest.java">        void setNetworkPartial() {
            mNmValidationResult = NETWORK_VALIDATION_RESULT_PARTIAL;
            mNmValidationRedirectUrl = null;
            int probesCompleted = NETWORK_VALIDATION_PROBE_DNS | NETWORK_VALIDATION_PROBE_HTTPS
                    | NETWORK_VALIDATION_PROBE_FALLBACK;
            int probesSucceeded = NETWORK_VALIDATION_PROBE_DNS | NETWORK_VALIDATION_PROBE_FALLBACK;
            setProbesStatus(probesCompleted, probesSucceeded);
        }
</code></pre>
<p><strong>åˆ¤æ–­æ¡ä»¶</strong>:</p>
<ul>
<li>DNS æˆåŠŸ + Fallback æˆåŠŸ</li>
<li>ä½† HTTPS å¤±è´¥</li>
<li>â†’ <strong>éƒ¨åˆ†å¯ç”¨</strong>(ä¾‹å¦‚åªèƒ½è®¿é—®å†…ç½‘æˆ–ç‰¹å®šç«™ç‚¹)</li>
</ul>
<hr/>
<h3 data-id="heading-10"><strong>4ï¸âƒ£ éªŒè¯ç»“æœå¤„ç†</strong></h3>
<pre><code class="hljs language-4840:4948:packages_modules_Connectivity/service/src/com/android/server/ConnectivityService.java" lang="4840:4948:packages_modules_Connectivity/service/src/com/android/server/ConnectivityService.java">        private void handleNetworkTested(
                @NonNull NetworkAgentInfo nai, int testResult, @NonNull String redirectUrl) {
            final boolean valid = (testResult &amp; NETWORK_VALIDATION_RESULT_VALID) != 0;
            final boolean partial = (testResult &amp; NETWORK_VALIDATION_RESULT_PARTIAL) != 0;
            final boolean portal = !TextUtils.isEmpty(redirectUrl);

            // If there is any kind of working networking, then the NAI has been evaluated
            // once. {@see NetworkAgentInfo#setEvaluated}, which returns whether this is
            // the first time this ever happened.
            final boolean someConnectivity = (valid || partial || portal);
            final boolean becameEvaluated = someConnectivity &amp;&amp; nai.setEvaluated();
            // Because of b/245893397, if the score is updated when updateCapabilities is called,
            // any callback that receives onAvailable for that rematch receives an extra caps
            // callback. To prevent that, update the score in the agent so the updates below won't
            // see an update to both caps and score at the same time.
            // TODO : fix b/245893397 and remove this.
            if (becameEvaluated) nai.updateScoreForNetworkAgentUpdate();

            if (!valid &amp;&amp; shouldIgnoreValidationFailureAfterRoam(nai)) {
                // Assume the validation failure is due to a temporary failure after roaming
                // and ignore it. NetworkMonitor will continue to retry validation. If it
                // continues to fail after the block timeout expires, the network will be
                // marked unvalidated. If it succeeds, then validation state will not change.
                return;
            }

            final boolean wasValidated = nai.isValidated();
            final boolean wasPartial = nai.partialConnectivity();
            final boolean wasPortal = nai.captivePortalDetected();
            nai.setPartialConnectivity(partial);
            nai.setCaptivePortalDetected(portal);
            nai.updateScoreForNetworkAgentUpdate();
            final boolean partialConnectivityChanged = (wasPartial != partial);
            final boolean portalChanged = (wasPortal != portal);

            if (DBG) {
                final String logMsg = !TextUtils.isEmpty(redirectUrl)
                        ? " with redirect to " + redirectUrl
                        : "";
                final String statusMsg;
                if (valid) {
                    statusMsg = "passed";
                } else if (!TextUtils.isEmpty(redirectUrl)) {
                    statusMsg = "detected a portal";
                } else {
                    statusMsg = "failed";
                }
                log(nai.toShortString() + " validation " + statusMsg + logMsg);
            }
            if (valid != wasValidated) {
                final FullScore oldScore = nai.getScore();
                nai.setValidated(valid);
                updateCapabilities(oldScore, nai, nai.networkCapabilities);
                if (valid) {
                    handleFreshlyValidatedNetwork(nai);
                    // Clear NO_INTERNET, PRIVATE_DNS_BROKEN, PARTIAL_CONNECTIVITY and
                    // LOST_INTERNET notifications if network becomes valid.
                    mNotifier.clearNotification(nai.network.getNetId(),
                            NotificationType.NO_INTERNET);
                    mNotifier.clearNotification(nai.network.getNetId(),
                            NotificationType.LOST_INTERNET);
                    mNotifier.clearNotification(nai.network.getNetId(),
</code></pre>
<p><strong>å¤„ç†æµç¨‹</strong>:</p>
<ol>
<li><strong>è§£æç»“æœ</strong>: valid(æœ‰æ•ˆ) / partial(éƒ¨åˆ†) / portal(å¼ºåˆ¶é—¨æˆ·)</li>
<li><strong>æ›´æ–°çŠ¶æ€</strong>: <code>NetworkCapabilities</code> ä¸­çš„ <code>NET_CAPABILITY_VALIDATED</code></li>
<li><strong>è§¦å‘å›è°ƒ</strong>: é€šçŸ¥åº”ç”¨ç½‘ç»œçŠ¶æ€å˜åŒ–</li>
<li><strong>æ¸…é™¤é€šçŸ¥</strong>: å¦‚æœä¹‹å‰æœ‰"æ— ç½‘ç»œ"é€šçŸ¥,åˆ™æ¸…é™¤</li>
<li><strong>ç½‘ç»œåˆ‡æ¢</strong>: å¦‚æœå½“å‰ç½‘ç»œå¤±æ•ˆ,è‡ªåŠ¨åˆ‡æ¢åˆ°å…¶ä»–å¯ç”¨ç½‘ç»œ</li>
</ol>
<hr/>
<h3 data-id="heading-11"><strong>5ï¸âƒ£ Private DNS éªŒè¯</strong></h3>
<pre><code class="hljs language-67:98:packages_modules_Connectivity/staticlibs/device/com/android/net/module/util/NetworkMonitorUtils.java" lang="67:98:packages_modules_Connectivity/staticlibs/device/com/android/net/module/util/NetworkMonitorUtils.java">    /**
     * Return whether validation is required for private DNS in strict mode.
     * @param nc Network capabilities of the network to test.
     */
    public static boolean isPrivateDnsValidationRequired(@NonNull final NetworkCapabilities nc) {
        final boolean isVcnManaged = (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S)
                &amp;&amp; !nc.hasCapability(NET_CAPABILITY_NOT_VCN_MANAGED);
        final boolean isOemPaid = nc.hasCapability(NET_CAPABILITY_OEM_PAID)
                &amp;&amp; nc.hasCapability(NET_CAPABILITY_TRUSTED);
        final boolean isDefaultCapable = nc.hasCapability(NET_CAPABILITY_NOT_RESTRICTED)
                &amp;&amp; nc.hasCapability(NET_CAPABILITY_TRUSTED);

        // TODO: Consider requiring validation for DUN networks.
        if (nc.hasCapability(NET_CAPABILITY_INTERNET)
                &amp;&amp; (isVcnManaged || isOemPaid || isDefaultCapable)) {
            return true;
        }

        // Test networks that also have one of the major transport types are attempting to replicate
        // that transport on a test interface (for example, test ethernet networks with
        // EthernetManager#setIncludeTestInterfaces). Run validation on them for realistic tests.
        // See also comments on EthernetManager#setIncludeTestInterfaces and on TestNetworkManager.
        if (nc.hasTransport(TRANSPORT_TEST) &amp;&amp; nc.hasCapability(NET_CAPABILITY_NOT_RESTRICTED) &amp;&amp; (
                nc.hasTransport(TRANSPORT_WIFI)
                || nc.hasTransport(TRANSPORT_CELLULAR)
                || nc.hasTransport(TRANSPORT_BLUETOOTH)
                || nc.hasTransport(TRANSPORT_ETHERNET))) {
            return true;
        }

        return false;
    }
</code></pre>
<p><strong>éªŒè¯æ¡ä»¶</strong>:</p>
<ul>
<li>ç½‘ç»œå…·æœ‰ <code>INTERNET</code> èƒ½åŠ›</li>
<li>æ˜¯ VCN ç®¡ç† / OEMä»˜è´¹ / é»˜è®¤å¯ç”¨ç½‘ç»œ</li>
<li>â†’ éœ€è¦éªŒè¯ Private DNS (DoT) å¯ç”¨æ€§</li>
</ul>
<hr/>
<h3 data-id="heading-12"><strong>6ï¸âƒ£ é…ç½®å‚æ•°</strong></h3>
<h4 data-id="heading-13"><strong>Captive Portal æ¨¡å¼</strong></h4>
<pre><code class="hljs language-15135:15155:frameworks_base/core/java/android/provider/Settings.java" lang="15135:15155:frameworks_base/core/java/android/provider/Settings.java">         * When detecting a captive portal, immediately disconnect from the
         * network and do not reconnect to that network in the future.
         *
         * @hide
         */
        public static final int CAPTIVE_PORTAL_MODE_AVOID = 2;

        /**
         * What to do when connecting a network that presents a captive portal.
         * Must be one of the CAPTIVE_PORTAL_MODE_* constants above.
         *
         * The default for this setting is CAPTIVE_PORTAL_MODE_PROMPT.
         * @hide
         */
        @Readable
        public static final String CAPTIVE_PORTAL_MODE = "captive_portal_mode";

        /**
         * Setting to turn off captive portal detection. Feature is enabled by
         * default and the setting needs to be set to 0 to disable it.
         *
</code></pre>

























<table><thead><tr><th>æ¨¡å¼</th><th>å€¼</th><th>è¡Œä¸º</th></tr></thead><tbody><tr><td><code>CAPTIVE_PORTAL_MODE_IGNORE</code></td><td>0</td><td>å¿½ç•¥æ£€æµ‹</td></tr><tr><td><code>CAPTIVE_PORTAL_MODE_PROMPT</code></td><td>1</td><td>å¼¹å‡ºç™»å½•æç¤º(é»˜è®¤)</td></tr><tr><td><code>CAPTIVE_PORTAL_MODE_AVOID</code></td><td>2</td><td>ç«‹å³æ–­å¼€å¹¶é¿å…è¯¥ç½‘ç»œ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-14"><strong>7ï¸âƒ£ è¶…æ—¶æœºåˆ¶</strong></h3>
<pre><code class="hljs language-435:469:packages_modules_Connectivity/service/src/com/android/server/ConnectivityService.java" lang="435:469:packages_modules_Connectivity/service/src/com/android/server/ConnectivityService.java">            "http://connectivitycheck.gstatic.com/generate_204";

    // TODO: create better separation between radio types and network types

    // how long to wait before switching back to a radio's default network
    private static final int RESTORE_DEFAULT_NETWORK_DELAY = 1 * 60 * 1000;
    // system property that can override the above value
    private static final String NETWORK_RESTORE_DELAY_PROP_NAME =
            "android.telephony.apn-restore";

    // How long to wait before putting up a "This network doesn't have an Internet connection,
    // connect anyway?" dialog after the user selects a network that doesn't validate.
    private static final int PROMPT_UNVALIDATED_DELAY_MS = 8 * 1000;

    // How long to wait before considering that a network is bad in the absence of any form
    // of connectivity (valid, partial, captive portal). If none has been detected after this
    // delay, the stack considers this network bad, which may affect how it's handled in ranking
    // according to config_networkAvoidBadWifi.
    // Timeout in case the "actively prefer bad wifi" feature is on
    private static final int ACTIVELY_PREFER_BAD_WIFI_INITIAL_TIMEOUT_MS = 20 * 1000;
    // Timeout in case the "actively prefer bad wifi" feature is off
    private static final int DEFAULT_EVALUATION_TIMEOUT_MS = 8 * 1000;

    // Default to 30s linger time-out, and 5s for nascent network. Modifiable only for testing.
    private static final String LINGER_DELAY_PROPERTY = "persist.netmon.linger";
    private static final int DEFAULT_LINGER_DELAY_MS = 30_000;
    private static final int DEFAULT_NASCENT_DELAY_MS = 5_000;

    // Delimiter used when creating the broadcast delivery group for sending
    // CONNECTIVITY_ACTION broadcast.
    private static final char DELIVERY_GROUP_KEY_DELIMITER = ';';

    // The maximum value for the blocking validation result, in milliseconds.
    public static final int MAX_VALIDATION_IGNORE_AFTER_ROAM_TIME_MS = 10000;
</code></pre>
<ul>
<li><strong>æç¤ºå»¶è¿Ÿ</strong>: 8ç§’æ— éªŒè¯ç»“æœåæç¤ºç”¨æˆ·</li>
<li><strong>è¯„ä¼°è¶…æ—¶</strong>: 8-20ç§’åˆ¤å®šç½‘ç»œä¸º"å·®"</li>
<li><strong>Linger å»¶è¿Ÿ</strong>: 30ç§’ä¿æŒè¿æ¥ä»¥è§‚å¯Ÿ</li>
</ul>
<hr/>
<h2 data-id="heading-15">ğŸ¯ <strong>æ€»ç»“</strong></h2>
<p><strong>Android ç½‘ç»œæœ‰æ•ˆæ€§æ£€æµ‹çš„å®Œæ•´æµç¨‹</strong>:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> ç½‘ç»œè¿æ¥å»ºç«‹ (WiFi/ç§»åŠ¨æ•°æ®)
<span class="hljs-code">          â†“
2. ConnectivityService è§¦å‘ NetworkMonitor
          â†“
3. NetworkMonitor æ‰§è¡Œå¤šç§æ¢æµ‹:
   â”œâ”€ DNS è§£ææµ‹è¯•
   â”œâ”€ HTTPS æ¢æµ‹ (éªŒè¯äº’è”ç½‘)
   â”œâ”€ HTTP æ¢æµ‹ (æ£€æµ‹ Captive Portal)
   â”œâ”€ Fallback æ¢æµ‹ (å¤‡ç”¨)
   â””â”€ Private DNS æ¢æµ‹ (DoT)
          â†“
4. åˆ¤æ–­ç»“æœ:
   â”œâ”€ 204 å“åº” â†’ âœ… VALID (ç½‘ç»œæœ‰æ•ˆ)
   â”œâ”€ 302/307 â†’ ğŸŒ CAPTIVE PORTAL (éœ€ç™»å½•)
   â”œâ”€ DNSæˆåŠŸä½†HTTPSå¤±è´¥ â†’ âš ï¸ PARTIAL (éƒ¨åˆ†å¯ç”¨)
   â””â”€ å…¨éƒ¨å¤±è´¥ â†’ âŒ INVALID (æ— æ•ˆ)
          â†“
5. æ›´æ–° NetworkCapabilities
          â†“
6. é€šçŸ¥åº”ç”¨/è§¦å‘ç½‘ç»œåˆ‡æ¢
</span></code></pre>
<p><strong>å…³é”®ç‰¹æ€§</strong>:</p>
<ul>
<li>âœ… <strong>å¤šå±‚éªŒè¯</strong>: ä¸åªä¾èµ–å•ä¸€æ¢æµ‹</li>
<li>âœ… <strong>è‡ªåŠ¨é‡è¯•</strong>: å¤±è´¥åå®šæœŸé‡æ–°éªŒè¯</li>
<li>âœ… <strong>ç”¨æˆ·å‹å¥½</strong>: Captive Portal è‡ªåŠ¨å¼¹å‡ºç™»å½•é¡µé¢</li>
<li>âœ… <strong>æ™ºèƒ½åˆ‡æ¢</strong>: éªŒè¯å¤±è´¥è‡ªåŠ¨åˆ‡æ¢åˆ°å…¶ä»–ç½‘ç»œ</li>
<li>âœ… <strong>éšç§ä¿æŠ¤</strong>: ä½¿ç”¨ DoT éªŒè¯ Private DNS</li>
</ul>
<p>è¿™å°±æ˜¯ Android ç¡®ä¿ç”¨æˆ·å§‹ç»ˆèƒ½è¿æ¥åˆ°"çœŸæ­£å¯ç”¨"çš„ç½‘ç»œçš„æ ¸å¿ƒæœºåˆ¶! ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±åº¦è§£æ Trae-Memï¼šå¦‚ä½•æ„å»ºè½»é‡çº§ã€æœ¬åœ°åŒ–çš„ AI ç¼–ç¨‹åŠ©æ‰‹è®°å¿†å±‚]]></title>    <link>https://juejin.cn/post/7602579671475519507</link>    <guid>https://juejin.cn/post/7602579671475519507</guid>    <pubDate>2026-02-04T08:44:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602579671475519507" data-draft-id="7602559134576459812" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±åº¦è§£æ Trae-Memï¼šå¦‚ä½•æ„å»ºè½»é‡çº§ã€æœ¬åœ°åŒ–çš„ AI ç¼–ç¨‹åŠ©æ‰‹è®°å¿†å±‚"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-02-04T08:44:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="goingflygo"/> <meta itemprop="url" content="https://juejin.cn/user/3896324936173719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±åº¦è§£æ Trae-Memï¼šå¦‚ä½•æ„å»ºè½»é‡çº§ã€æœ¬åœ°åŒ–çš„ AI ç¼–ç¨‹åŠ©æ‰‹è®°å¿†å±‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3896324936173719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    goingflygo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:44:46.000Z" title="Wed Feb 04 2026 08:44:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç»™ AI è£…ä¸ªâ€œæµ·é©¬ä½“â€ï¼šTrae-Mem æœ¬åœ°è®°å¿†ç³»ç»ŸæŠ€æœ¯å†…å¹•</h2>
<blockquote>
<p><strong>æ‘˜è¦</strong>ï¼šä½ æ˜¯å¦é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼šåœ¨ Trae IDE é‡Œå’Œ AI èŠå¾—ç«çƒ­ï¼Œè§£å†³äº† A æ¨¡å—çš„ Bugï¼Œè½¬å¤´å»æ”¹ B æ¨¡å—ï¼Œå†é—® A æ¨¡å—æ—¶ AI å´â€œå¤±å¿†â€äº†ï¼Ÿæˆ–è€…ç¬¬äºŒå¤©æ‰“å¼€æ–°ä¼šè¯ï¼Œä¸å¾—ä¸æŠŠæ˜¨å¤©çš„èƒŒæ™¯é‡è¯´ä¸€éï¼Ÿæœ¬æ–‡å°†å¸¦ä½ æ·±å…¥ <code>trae-mem</code> çš„æŠ€æœ¯å®ç°ï¼Œçœ‹æˆ‘ä»¬å¦‚ä½•ç”¨ä¸åˆ° 1000 è¡Œ Python ä»£ç ï¼ŒåŸºäº SQLite å’Œ MCP åè®®ï¼Œä¸º Trae IDE æ‰“é€ ä¸€ä¸ª<strong>æœ¬åœ°åŒ–ã€æŒä¹…åŒ–ã€éšç§å®‰å…¨</strong>çš„â€œç¬¬äºŒå¤§è„‘â€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">1. ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªâ€œå¤–æŒ‚å¤§è„‘â€ï¼Ÿ</h3>
<p>åœ¨å¤§æ¨¡å‹ç¼–ç¨‹ï¼ˆAI-Assisted Codingï¼‰çš„æ—¥å¸¸ä¸­ï¼Œæˆ‘ä»¬é¢ä¸´ç€ä¸¤ä¸ªæ ¸å¿ƒçŸ›ç›¾ï¼š</p>
<ol>
<li><strong>Context Windowï¼ˆä¸Šä¸‹æ–‡çª—å£ï¼‰çš„é™åˆ¶</strong>ï¼šè™½ç„¶æ¨¡å‹çª—å£è¶Šæ¥è¶Šå¤§ï¼Œä½†åœ¨ IDE ä¸­æ— é™å †å å†å²å¯¹è¯ä¼šå¯¼è‡´ Token æ¶ˆè€—æ¿€å¢ï¼Œå“åº”å˜æ…¢ï¼Œä¸”â€œå¤§æµ·æé’ˆâ€æ•ˆåº”ï¼ˆLost in the Middleï¼‰ä¼šå¯¼è‡´æ³¨æ„åŠ›åˆ†æ•£ã€‚</li>
<li><strong>Session Isolationï¼ˆä¼šè¯éš”ç¦»ï¼‰</strong>ï¼šIDE é€šå¸¸ä»¥â€œä¼šè¯â€ä¸ºå•ä½éš”ç¦»ä¸Šä¸‹æ–‡ã€‚ä¸€æ—¦ä½ ç‚¹å‡»â€œNew Chatâ€æˆ–é‡å¯ IDEï¼Œä¹‹å‰çš„æ€ç»´é“¾æ¡å°±æ–­äº†ã€‚</li>
</ol>
<p><code>trae-mem</code> çš„è¯ç”Ÿå°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å®ƒä¸åƒä¼ ç»Ÿçš„ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰é‚£æ ·ä¾èµ–åºå¤§çš„å‘é‡æ•°æ®åº“å’Œäº‘ç«¯æœåŠ¡ï¼Œè€Œæ˜¯<strong>åå…¶é“è€Œè¡Œä¹‹</strong>ï¼Œé€‰æ‹©äº†ä¸€æ¡<strong>æç®€ã€æœ¬åœ°åŒ–</strong>çš„æŠ€æœ¯è·¯çº¿ã€‚</p>
<hr/>
<h3 data-id="heading-2">2. æŠ€æœ¯æ ˆé€‰å‹ï¼šå°‘å³æ˜¯å¤š</h3>
<p>ä¸ºäº†è®©æ¯ä¸ªå¼€å‘è€…éƒ½èƒ½é›¶è´Ÿæ‹…åœ°è·‘èµ·æ¥ï¼Œæˆ‘ä»¬åœ¨æŠ€æœ¯é€‰å‹ä¸Šæå…¶å…‹åˆ¶ï¼š</p>
<ul>
<li><strong>ç¼–ç¨‹è¯­è¨€</strong>: <strong>Python 3.10+</strong>
<ul>
<li><em>ç†ç”±</em>ï¼šæ ‡å‡†åº“å¼ºå¤§ï¼Œæ— éœ€ç¼–è¯‘ï¼Œèƒ¶æ°´èƒ½åŠ›å¼ºï¼Œæ–¹ä¾¿åç»­æ¥å…¥æœ¬åœ° LLM æ¨ç†åº“ã€‚</li>
</ul>
</li>
<li><strong>å­˜å‚¨å¼•æ“</strong>: <strong>SQLite (with FTS5 &amp; JSON)</strong>
<ul>
<li><em>ç†ç”±</em>ï¼šå•æ–‡ä»¶æ•°æ®åº“ï¼Œéƒ¨ç½²æå…¶ç®€å•ï¼ˆZero Configurationï¼‰ã€‚FTS5 æä¾›äº†è¶³å¤Ÿå¥½ç”¨çš„å…¨æ–‡æ£€ç´¢èƒ½åŠ›ï¼ŒJSON åˆ—åˆ™è®©æˆ‘ä»¬èƒ½çµæ´»å­˜å‚¨éç»“æ„åŒ–çš„å…ƒæ•°æ®ï¼ˆMetadataï¼‰ã€‚</li>
</ul>
</li>
<li><strong>é€šä¿¡åè®®</strong>: <strong>MCP (Model Context Protocol)</strong>
<ul>
<li><em>ç†ç”±</em>ï¼šAnthropic æ¨å‡ºçš„å¼€æ”¾æ ‡å‡†ï¼ŒTrae IDE åŸç”Ÿæ”¯æŒã€‚é€šè¿‡ MCPï¼Œæˆ‘ä»¬å¯ä»¥åƒå¼€å‘â€œæ’ä»¶â€ä¸€æ ·ï¼ŒæŠŠæœ¬åœ° Python æœåŠ¡æŒ‚è½½ä¸º AI çš„ä¸€ä¸ª Toolã€‚</li>
</ul>
</li>
<li><strong>å¯è§†åŒ–</strong>: <strong>Mermaid</strong>
<ul>
<li><em>ç†ç”±</em>ï¼šä»£ç å³å›¾è¡¨ï¼Œæ˜“äºç»´æŠ¤å’Œç‰ˆæœ¬æ§åˆ¶ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-3">3. æ ¸å¿ƒæ¶æ„ä¸å®ç°åŸç†</h3>
<p><code>trae-mem</code> çš„å·¥ä½œæµå¯ä»¥æ¦‚æ‹¬ä¸ºï¼š<strong>è®°å½• (Log) -&gt; æ²‰æ·€ (Summarize) -&gt; å”¤èµ· (Inject)</strong>ã€‚</p>
<p>ä¸‹é¢è¿™å¼ æ¶æ„å›¾å±•ç¤ºäº†æ•°æ®æ˜¯å¦‚ä½•åœ¨ Trae IDE å’Œæœ¬åœ°æ•°æ®åº“ä¹‹é—´æµè½¬çš„ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">%%{init: {'theme': 'dark', 'themeVariables': { 'fontSize': '16px', 'fontFamily': 'arial', 'lineWidth': '2px'}}}%%
graph TD
    %% æ ·å¼å®šä¹‰
    classDef client fill:#2d3436,stroke:#dfe6e9,stroke-width:2px,color:#fff;
    classDef bridge fill:#0984e3,stroke:#74b9ff,stroke-width:2px,color:#fff;
    classDef core fill:#6c5ce7,stroke:#a29bfe,stroke-width:2px,color:#fff;
    classDef storage fill:#00b894,stroke:#55efc4,stroke-width:2px,color:#fff;

    subgraph Client_Layer [ğŸ–¥ï¸ Trae IDE / Client Side]
        direction TB
        User[User Prompt]:::client
        Tools[Tool Executions]:::client
        MCP_Client[MCP Client Module]:::client
    end

    subgraph Bridge_Layer [ğŸŒ‰ MCP Server Interface]
        direction TB
        Stdio[Stdio Transport]:::bridge
        Dispatcher[Request Dispatcher]:::bridge
    end

    subgraph Core_Logic [ğŸ§  Core Logic Layer]
        direction TB
        SessionMgr[Session Manager]:::core
        Summarizer[Summarizer Engine]:::core
        SearchEng[FTS5 Search Engine]:::core
        InjectGen[Context Injector]:::core
    end

    subgraph Storage_Layer [ğŸ’¾ Persistence Layer]
        direction TB
        DB[(SQLite DB\n~/.trae-mem)]:::storage
        Tables[Sessions | Observations | Summaries]:::storage
    end

    %% è°ƒç”¨æµ
    User --&gt;|1. Submit| MCP_Client
    Tools --&gt;|2. Result| MCP_Client
    MCP_Client ==&gt;|3. JSON-RPC (stdin/stdout)| Stdio
    Stdio --&gt; Dispatcher
    
    Dispatcher --&gt;|Write Log| SessionMgr
    Dispatcher --&gt;|Query| SearchEng
    Dispatcher --&gt;|Get Context| InjectGen
    
    SessionMgr --&gt;|Insert| DB
    SessionMgr --&gt;|Trigger| Summarizer
    Summarizer --&gt;|Update| DB
    
    SearchEng &lt;--&gt;|Select (BM25)| DB
    InjectGen &lt;--&gt;|Fetch Recent| DB
    
    %% å¸ƒå±€è°ƒæ•´
    DB --- Tables

    %% æ³¨é‡Šè¯´æ˜
    linkStyle default stroke:#b2bec3,stroke-width:2px;
</code></pre>
<h4 data-id="heading-4">3.1 æŒä¹…åŒ–å±‚ï¼šä¸ä»…ä»…æ˜¯ Log</h4>
<p>æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªé€šç”¨çš„æ•°æ®å•å…ƒï¼š<strong>Observation (è§‚æµ‹)</strong>ã€‚
æ— è®ºæ˜¯ç”¨æˆ·çš„æé—®ã€AI çš„å›å¤ï¼Œè¿˜æ˜¯å·¥å…·ï¼ˆå¦‚ <code>Grep</code>ã€<code>Read File</code>ï¼‰çš„æ‰§è¡Œç»“æœï¼Œéƒ½è¢«è§†ä¸ºä¸€æ¬¡ Observationã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-meta">@dataclass</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Observation</span>:
    <span class="hljs-built_in">id</span>: <span class="hljs-built_in">str</span>
    session_id: <span class="hljs-built_in">str</span>
    kind: <span class="hljs-built_in">str</span>      <span class="hljs-comment"># user | tool | model | note</span>
    content: <span class="hljs-built_in">str</span>   <span class="hljs-comment"># å®é™…å†…å®¹</span>
    private: <span class="hljs-built_in">bool</span>  <span class="hljs-comment"># éšç§æ ‡è®°</span>
    <span class="hljs-comment"># ...</span>
</code></pre>
<p>åœ¨ SQLite ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨ <strong>FTS5 (Full-Text Search 5)</strong> æ‰©å±•æ¨¡å—å»ºç«‹äº†å€’æ’ç´¢å¼•ã€‚è¿™æ„å‘³ç€ï¼Œå³ä½¿ä½ å­˜äº† 10 ä¸‡æ¡å¯¹è¯è®°å½•ï¼Œé€šè¿‡å…³é”®è¯ï¼ˆå¦‚â€œé¢„åŠ è½½ç­–ç•¥â€ï¼‰æ£€ç´¢ï¼Œä¹Ÿèƒ½åœ¨æ¯«ç§’çº§è¿”å›ç»“æœã€‚</p>
<h4 data-id="heading-5">3.2 éšç§å®‰å…¨ï¼š<code>&lt;private&gt;</code> æ ‡ç­¾</h4>
<p>åœ¨è®¾è®¡ä¹‹åˆï¼Œæˆ‘ä»¬å°±æŠŠéšç§æ”¾åœ¨ç¬¬ä¸€ä½ã€‚å¼€å‘è€…ç»å¸¸ä¼šåœ¨ä»£ç é‡Œè´´ API Key æˆ–å†…éƒ¨ IPã€‚
<code>trae-mem</code> å®ç°äº†ä¸€ä¸ªç®€å•çš„è¿‡æ»¤å™¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">remove_private</span>(<span class="hljs-params">text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-comment"># åŒ¹é… &lt;private&gt;...&lt;/private&gt; å¹¶æ›¿æ¢ä¸ºå ä½ç¬¦</span>
    <span class="hljs-keyword">return</span> re.sub(<span class="hljs-string">r"&lt;private&gt;.*?&lt;/private&gt;"</span>, <span class="hljs-string">"[PRIVATE HIDDEN]"</span>, text, flags=re.DOTALL)
</code></pre>
<p>å½“æ£€æµ‹åˆ° <code>&lt;private&gt;</code> æ ‡ç­¾æ—¶ï¼ŒåŸå§‹å†…å®¹ä¼šè¢«æ¸…æ´—ï¼Œ<strong>ä¸ä¼š</strong>è¿›å…¥ FTS ç´¢å¼•ï¼Œä¹Ÿä¸ä¼šè¢«å­˜å‚¨åœ¨æ˜æ–‡å­—æ®µä¸­ï¼ˆæˆ–è€…åªå­˜å‚¨è„±æ•åçš„ç‰ˆæœ¬ï¼Œå–å†³äºé…ç½®ï¼‰ã€‚</p>
<h4 data-id="heading-6">3.3 æ¸è¿›å¼æ£€ç´¢ï¼šSearch -&gt; Timeline</h4>
<p>å•çº¯çš„å…³é”®è¯æœç´¢å¾€å¾€ä¸¢å¤±ä¸Šä¸‹æ–‡ã€‚<code>trae-mem</code> å¼•å…¥äº† <strong>Timeline (æ—¶é—´çº¿)</strong> çš„æ¦‚å¿µã€‚
å½“ä½ æœåˆ°ä¸€æ¡å…³äºâ€œæŠ¥é”™æ—¥å¿—â€çš„è®°å½•æ—¶ï¼Œä½ å¾€å¾€æƒ³çœ‹å®ƒ<strong>å‰å 5 åˆ†é’Ÿ</strong>å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
<ol>
<li><strong>Search</strong>: <code>SELECT ... FROM observations_fts WHERE ...</code> æ‰¾åˆ°å‘½ä¸­ç‚¹ã€‚</li>
<li><strong>Timeline</strong>: æ‹¿åˆ°å‘½ä¸­ç‚¹çš„ <code>session_id</code> å’Œ <code>timestamp</code>ï¼ŒæŸ¥è¯¢ <code>timestamp Â± window</code> èŒƒå›´å†…çš„æ‰€æœ‰è®°å½•ã€‚</li>
</ol>
<p>è¿™ç§â€œç‚¹é¢ç»“åˆâ€çš„æ£€ç´¢æ–¹å¼ï¼Œèƒ½æå…¶ç²¾å‡†åœ°è¿˜åŸå½“æ—¶çš„æ€ç»´ç°åœºã€‚</p>
<h4 data-id="heading-7">3.4 ä¸Šä¸‹æ–‡æ³¨å…¥ (Injection)</h4>
<p>è¿™æ˜¯æœ€é…·çš„éƒ¨åˆ†ã€‚å½“ä½ åœ¨æ–°ä¼šè¯ä¸­éœ€è¦ç”¨åˆ°ä¹‹å‰çš„çŸ¥è¯†æ—¶ï¼Œ<code>trae-mem</code> ä¼šç”Ÿæˆä¸€ä¸ªç»“æ„åŒ–çš„ Context Blockï¼š</p>
<pre><code class="hljs language-text" lang="text">ã€trae-mem æ³¨å…¥ä¸Šä¸‹æ–‡ã€‘
æŸ¥è¯¢ï¼šæ’­æ”¾å™¨ä¼˜åŒ–

æœ€è¿‘ä¼šè¯æ‘˜è¦ï¼š
- [Session A] è®¨è®ºäº† ExoPlayer çš„ç¼“å­˜é…ç½®
- [Session B] å°è¯•äº† PreloadManager ä½†å¤±è´¥äº†

ç›¸å…³è§‚æµ‹ç»†èŠ‚ï¼š
- [User] æˆ‘è¦ä¼˜åŒ– Android æ’­æ”¾å™¨çš„é¢„åŠ è½½ç­–ç•¥...
- [Grep] player/config.kt ...
</code></pre>
<p>è¿™ä¸ª Block å¯ä»¥é€šè¿‡ MCP å·¥å…·ç›´æ¥å–‚ç»™ Trae çš„å½“å‰ä¼šè¯ï¼Œè®© AI ç¬é—´â€œæƒ³èµ·â€ä¹‹å‰çš„ä¸Šä¸‹æ–‡ã€‚</p>
<hr/>
<h3 data-id="heading-8">4. æŠ€æœ¯æ€»ç»“ä¸æ€è€ƒ</h3>
<p>å¼€å‘ <code>trae-mem</code> çš„è¿‡ç¨‹ï¼Œå…¶å®æ˜¯å¯¹ <strong>AI è®°å¿†æœºåˆ¶</strong>çš„ä¸€æ¬¡å¾®å‹æ¢ç´¢ã€‚</p>
<ul>
<li><strong>æœ¬åœ°åŒ–æ˜¯è¶‹åŠ¿</strong>ï¼šéšç€ IDE è¶Šæ¥è¶Šæ™ºèƒ½ï¼Œå¤§é‡çš„ä¸Šä¸‹æ–‡æ•°æ®äº§ç”Ÿåœ¨æœ¬åœ°ã€‚å°†è®°å¿†ç•™åœ¨æœ¬åœ°ï¼Œæ—¢æ˜¯éšç§çš„éœ€æ±‚ï¼Œä¹Ÿæ˜¯æ€§èƒ½çš„éœ€æ±‚ï¼ˆé›¶ç½‘ç»œå»¶è¿Ÿï¼‰ã€‚</li>
<li><strong>ç»“æ„åŒ– vs éç»“æ„åŒ–</strong>ï¼šå•çº¯å­˜ Log æ˜¯ä¸å¤Ÿçš„ï¼Œå¿…é¡»æœ‰ <strong>Summarization (æ‘˜è¦)</strong>ã€‚ç›®å‰çš„ç‰ˆæœ¬ä½¿ç”¨äº†å¯å‘å¼æ‘˜è¦ï¼ˆHeuristicï¼‰ï¼Œæœªæ¥æ¥å…¥æœ¬åœ° LLMï¼ˆå¦‚ Ollamaï¼‰è¿›è¡Œè¯­ä¹‰æ‘˜è¦å°†æ˜¯å·¨å¤§çš„æå‡ç‚¹ã€‚</li>
<li><strong>MCP çš„æ½œåŠ›</strong>ï¼šModel Context Protocol è®©å·¥å…·çš„å¼€å‘å˜å¾—å¼‚å¸¸ç®€å•ã€‚å®ƒè§£è€¦äº† IDE å’Œå·¥å…·ï¼Œè®©æˆ‘ä»¬èƒ½ç”¨ Python éšå¿ƒæ‰€æ¬²åœ°æ‰©å±• IDE çš„èƒ½åŠ›ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-9">ğŸ“¸ æ•ˆæœæ¼”ç¤º</h4>
<p><em>(æ­¤å¤„é¢„ç•™æ¼”ç¤º GIFï¼šå±•ç¤ºåœ¨ Trae ä¸­è¾“å…¥ @trae-mem æœç´¢å¹¶æ³¨å…¥ä¸Šä¸‹æ–‡çš„è¿‡ç¨‹)</em>
<img alt="Trae-Mem Demo Placeholderè½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" src="" loading="lazy"/></p>
<hr/>
<blockquote>
<p><strong>é¡¹ç›®å¼€æºåœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frong5690001%2Ftrae-mem" target="_blank" title="https://github.com/rong5690001/trae-mem" ref="nofollow noopener noreferrer">github.com/rong5690001â€¦</a>
æ¬¢è¿ Star â­ï¸ å’Œ PRï¼Œä¸€èµ·æ‰“é€ æ›´èªæ˜çš„ AI ç¼–ç¨‹åŠ©æ‰‹ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Cesiumå¯è§†åŒ–ç³»ç»Ÿå®æˆ˜è¯¾ç¨‹:å…¨é¢æ•™ç¨‹å­¦ä¹ ]]></title>    <link>https://juejin.cn/post/7602789520035086346</link>    <guid>https://juejin.cn/post/7602789520035086346</guid>    <pubDate>2026-02-04T08:46:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602789520035086346" data-draft-id="7602842876255584302" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Cesiumå¯è§†åŒ–ç³»ç»Ÿå®æˆ˜è¯¾ç¨‹:å…¨é¢æ•™ç¨‹å­¦ä¹ "/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T08:46:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·238233290184"/> <meta itemprop="url" content="https://juejin.cn/user/1611231935340827"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Cesiumå¯è§†åŒ–ç³»ç»Ÿå®æˆ˜è¯¾ç¨‹:å…¨é¢æ•™ç¨‹å­¦ä¹ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1611231935340827/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·238233290184
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:46:18.000Z" title="Wed Feb 04 2026 08:46:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ•°å­—å­ªç”Ÿä¸æ™ºæ…§åŸå¸‚æ¦‚å¿µå¸­å·ä¸šç•Œçš„å½“ä¸‹ï¼ŒWeb ç«¯çš„ä¸‰ç»´å¯è§†åŒ–å·²ç„¶æˆä¸ºå‰ç«¯å¼€å‘è€…çš„å¿…ä¿®è¯¾ã€‚æœ€è¿‘ç³»ç»Ÿå­¦ä¹ äº†ã€Šå‰ç«¯ Cesium å¯è§†åŒ–ç³»ç»Ÿå®æˆ˜è¯¾ç¨‹ã€‹çš„å®Œç»“ç‰ˆï¼Œæ„Ÿè§¦é¢‡æ·±ã€‚è¿™ä¸ä»…æ˜¯ä¸€æ¬¡å·¥å…·é“¾çš„æ¢³ç†ï¼Œæ›´æ˜¯ä¸€åœºä»â€œçœ‹demoâ€åˆ°â€œé€ è½®å­â€çš„æ€ç»´è·ƒè¿ã€‚Cesium ä½œä¸º WebGL é¢†åŸŸçš„éœ¸ä¸»ï¼Œå…¶ä¸Šæ‰‹éš¾åº¦ä¸åŠŸèƒ½æ·±åº¦çš„çŸ›ç›¾ï¼Œå¸¸å¸¸è®©åˆå­¦è€…æœ›è€Œå´æ­¥ã€‚è€Œè¿™å¥—è¯¾ç¨‹æœ€å¤§çš„ä»·å€¼ï¼Œåœ¨äºå®ƒæŠ½ä¸å‰¥èŒ§ï¼Œå°†å¤æ‚çš„ 3D æ¦‚å¿µè½¬åŒ–ä¸ºå¯è½åœ°çš„å·¥ç¨‹ä»£ç ã€‚**<strong>å­¦ä¹ åœ°å€ï¼špan.baidu.com/s/1WwerIZ_elz_FyPKqXAiZCA?pwd=waug</strong>
**
<strong>ä¸€ã€ ä» Viewer åˆ°æ¶æ„ï¼šå·¥ç¨‹åŒ–çš„è§‰é†’</strong></p>
<p>è¯¾ç¨‹å¼€ç¯‡å¹¶æ²¡æœ‰æ€¥äºå †ç Œç‰¹æ•ˆï¼Œè€Œæ˜¯å¼ºè°ƒäº†â€œæ¶æ„å…ˆè¡Œâ€çš„åŸåˆ™ã€‚å¾ˆå¤š Cesium é¡¹ç›®æœ€ç»ˆæ²¦ä¸ºç»´æŠ¤å›°éš¾çš„é¢æ¡ä»£ç ï¼Œå¾€å¾€æ˜¯å› ä¸ºç¼ºä¹è‰¯å¥½çš„çŠ¶æ€ç®¡ç†ä¸æ¨¡å—åˆ’åˆ†ã€‚å®æˆ˜ä¸­ï¼Œæˆ‘ä»¬ä¸èƒ½ä»…ä»…æŠŠ Cesium å½“ä½œä¸€ä¸ªÂ <code>div</code>Â å®¹å™¨ï¼Œè€Œåº”å°†å…¶è§†ä¸ºæ•´ä¸ªç³»ç»Ÿçš„æ¸²æŸ“å¼•æ“ã€‚</p>
<p>é€šè¿‡è¯¾ç¨‹çš„å­¦ä¹ ï¼Œæˆ‘æ·±åˆ»ä½“ä¼šåˆ°å¯¹Â <code>Cesium.Viewer</code>Â çš„äºŒæ¬¡å°è£…è‡³å…³é‡è¦ã€‚æˆ‘ä»¬éœ€è¦å±è”½é»˜è®¤çš„ UI ç»„ä»¶ï¼Œæ³¨å…¥è‡ªå®šä¹‰çš„åæ ‡ç³»è½¬æ¢é€»è¾‘ï¼Œå¹¶å°†ç›¸æœºæ§åˆ¶ã€åœºæ™¯å›¾å±‚ä¸ä¸šåŠ¡é€»è¾‘è§£è€¦ã€‚è¿™ç§â€œé«˜å†…èšã€ä½è€¦åˆâ€çš„æ¶æ„æ€æƒ³ï¼Œæ˜¯æ„å»ºå¤§å‹å¯è§†åŒ–ç³»ç»Ÿçš„åŸºçŸ³ã€‚</p>
<p><strong>äºŒã€ æ ¸å¿ƒä»£ç å®æˆ˜ï¼šæ•°æ®é©±åŠ¨çš„åŠ¨æ€çº¹ç†</strong></p>
<p>åœ¨å¯è§†åŒ–ç³»ç»Ÿä¸­ï¼Œå¦‚ä½•è®©æ¯ç‡¥çš„å‡ ä½•ä½“â€œæ´»â€èµ·æ¥æ˜¯éš¾ç‚¹ã€‚è¯¾ç¨‹ä¸­å…³äºâ€œåŠ¨æ€æ‰«æåœ†â€ä¸â€œæµå‘çº¿â€çš„å®ç°æå…·å¹²è´§ä»·å€¼ã€‚è¿™ä¸ä»…æ˜¯è§†è§‰ç‰¹æ•ˆï¼Œæ›´æ˜¯åŸºäº CesiumÂ <code>CallbackProperty</code>Â çš„æ€§èƒ½ä¼˜åŒ–å…¸èŒƒã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€æ®µæ ¸å¿ƒå®æˆ˜ä»£ç ï¼Œå±•ç¤ºäº†å¦‚ä½•åˆ›å»ºä¸€ä¸ªå…·æœ‰æ‰©æ•£æ•ˆæœçš„åŠ¨æ€é›·è¾¾æ‰«æï¼Œè¿™æ˜¯åŸºäº CallbackProperty å®æ—¶æ›´æ–°çº¹ç†çš„æ ¸å¿ƒé€»è¾‘ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">/**
 * åˆ›å»ºåŠ¨æ€æ‰©æ•£æ‰«æåœ†
 * åˆ©ç”¨äº†CallbackPropertyåœ¨æ¯ä¸€å¸§å›è°ƒæ—¶æ›´æ–°çº¹ç†æˆ–åŠå¾„
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createDynamicRipple</span>(<span class="hljs-params">viewer, centerLon, centerLat</span>) </span>{
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">startTime</span> = Cesium.JulianDate.<span class="hljs-title function_ invoke__">now</span>();
    
    <span class="hljs-comment">// å®šä¹‰æ‰©æ•£åŠå¾„éšæ—¶é—´å˜åŒ–çš„å‡½æ•°</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">radiusCallback</span> = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">time, result</span>) </span>{
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">elapsed</span> = Cesium.JulianDate.<span class="hljs-title function_ invoke__">secondsDifference</span>(time, startTime);
        <span class="hljs-comment">// æ¯ç§’æ‰©æ•£ 500ç±³ï¼Œæœ€å¤§ 2000ç±³ï¼Œå¾ªç¯æ’­æ”¾</span>
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">maxRadius</span> = <span class="hljs-number">2000</span>;
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">speed</span> = <span class="hljs-number">500</span>;
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">currentRadius</span> = (elapsed * speed) % maxRadius;
        <span class="hljs-keyword">return</span> currentRadius;
    };

    <span class="hljs-comment">// å®šä¹‰é€æ˜åº¦éšåŠå¾„å˜å¤§è€Œé™ä½ï¼Œå®ç°æ¸éšæ•ˆæœ</span>
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">alphaCallback</span> = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">time, result</span>) </span>{
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">elapsed</span> = Cesium.JulianDate.<span class="hljs-title function_ invoke__">secondsDifference</span>(time, startTime);
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">maxRadius</span> = <span class="hljs-number">2000</span>;
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">speed</span> = <span class="hljs-number">500</span>;
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">currentRadius</span> = (elapsed * speed) % maxRadius;
        <span class="hljs-keyword">return</span> <span class="hljs-number">1.0</span> - (currentRadius / maxRadius); 
    };

    viewer.entities.<span class="hljs-title function_ invoke__">add</span>({
        <span class="hljs-attr">position</span>: Cesium.Cartesian3.<span class="hljs-title function_ invoke__">fromDegrees</span>(centerLon, centerLat),
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Dynamic Ripple'</span>,
        <span class="hljs-attr">ellipse</span>: {
            // æ ¸å¿ƒï¼šä½¿ç”¨ CallbackProperty å®ç°æ¯ä¸€å¸§çš„å±æ€§åŠ¨æ€æ›´æ–°
            <span class="hljs-attr">semiMinorAxis</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title function_ invoke__">CallbackProperty</span>(radiusCallback, <span class="hljs-literal">false</span>),
            <span class="hljs-attr">semiMajorAxis</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title function_ invoke__">CallbackProperty</span>(radiusCallback, <span class="hljs-literal">false</span>),
            <span class="hljs-attr">material</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title function_ invoke__">ColorMaterialProperty</span>(
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cesium</span>.<span class="hljs-title function_ invoke__">CallbackProperty</span>((time) =&gt; {
                    <span class="hljs-keyword">return</span> Cesium.Color.CYAN.<span class="hljs-title function_ invoke__">withAlpha</span>(<span class="hljs-title function_ invoke__">alphaCallback</span>(time));
                }, <span class="hljs-literal">false</span>)
            ),
            outline: <span class="hljs-literal">false</span> <span class="hljs-comment">// å…³é—­æè¾¹ä»¥æå‡æ€§èƒ½</span>
        }
    });
}
</code></pre>
<p>è¿™æ®µä»£ç è™½ç„¶ç®€çŸ­ï¼Œå´æ­ç¤ºäº† Cesium é«˜æ€§èƒ½å¯è§†åŒ–çš„æ ¸å¿ƒï¼š<strong>é¿å…åœ¨ä¸»å¾ªç¯ä¸­è¿›è¡Œç¹é‡çš„ DOM æ“ä½œæˆ–å¤æ‚çš„å¯¹è±¡åˆ›å»ºï¼Œè€Œæ˜¯åˆ©ç”¨ Property æœºåˆ¶è®© Cesium çš„æ¸²æŸ“å¾ªç¯è‡ªåŠ¨å¤„ç†çŠ¶æ€æ›´æ–°</strong>ã€‚è¿™æ˜¯è¯¾ç¨‹ä¸­æœ€ä¸ºç²¾åçš„â€œå¹²è´§â€ä¹‹ä¸€ï¼Œå®ƒèƒ½è®©æˆ‘ä»¬åœ¨æ¸²æŸ“æˆç™¾ä¸Šåƒä¸ªåŠ¨æ€å®ä½“æ—¶ï¼Œä¾ç„¶ä¿æŒ 60FPS çš„æµç•…åº¦ã€‚</p>
<p><strong>ä¸‰ã€ æ€§èƒ½ä¸è§†è§‰çš„å¹³è¡¡ä¹‹é“</strong></p>
<p>è¯¾ç¨‹ååŠéƒ¨åˆ†å¯¹äº Post-Processingï¼ˆåå¤„ç†ï¼‰å’Œ 3D Tiles çš„ä¼˜åŒ–è®²è§£ï¼Œå¡«è¡¥äº†å¾ˆå¤šä¸­æ–‡èµ„æ–™ä¸­çš„ç©ºç™½ã€‚å¾ˆå¤šå¼€å‘è€…åœ¨åŠ è½½åŸå¸‚çº§ç™½æ¨¡æ—¶ï¼Œå¾€å¾€ä¼šé‡åˆ°æµè§ˆå™¨å´©æºƒæˆ–å¸§ç‡éª¤é™çš„é—®é¢˜ã€‚è¯¾ç¨‹æŒ‡å‡ºï¼Œé—®é¢˜çš„æ ¹æºåœ¨äºâ€œè´ªå¤šæ±‚å…¨â€ã€‚</p>
<p>å®æˆ˜ä¸­ï¼Œæˆ‘ä»¬åº”å½“å–„ç”¨Â <code>3D Tiles</code>Â çš„Â <code>skipLevelOfDetail</code>Â å’ŒÂ <code>immediatelyLoadDesiredLevelOfDetail</code>Â ç­–ç•¥ï¼Œå¹¶ç»“åˆ Cesium çš„ API è§†é”¥ä½“å‰”é™¤æœºåˆ¶ã€‚æ­¤å¤–ï¼Œå¯¹äºæµ·é‡ç‚¹äº‘æ•°æ®çš„å¤„ç†ï¼Œè¯¾ç¨‹æ¨èäº†åŸºäº GPU çš„ç²’å­æ¸²æŸ“æ–¹æ¡ˆï¼Œè€Œéä¼ ç»Ÿçš„ Entity APIã€‚è¿™ç§å¯¹æ¸²æŸ“ç®¡çº¿çš„æ·±åˆ»ç†è§£ï¼Œæ¯”å•çº¯èƒŒè¯µ API æ–‡æ¡£è¦æœ‰ä»·å€¼å¾—å¤šã€‚</p>
<p><strong>å››ã€ ç»“è¯­</strong></p>
<p>ã€Šå‰ç«¯ Cesium å¯è§†åŒ–ç³»ç»Ÿå®æˆ˜è¯¾ç¨‹ã€‹å®Œç»“ç‰ˆä¸ä»…ä»…æ˜¯ä¸€å¥—æ•™ç¨‹ï¼Œæ›´åƒæ˜¯ä¸€æœ¬é¿å‘æŒ‡å—ã€‚å®ƒè®©æˆ‘æ˜ç™½ï¼Œä¼˜ç§€çš„ä¸‰ç»´å¯è§†åŒ–ç³»ç»Ÿï¼Œæ˜¯åœ¨æœ‰é™çš„æµè§ˆå™¨èµ„æºä¸‹ï¼Œé€šè¿‡æ•°å­¦é€»è¾‘ä¸å›¾å½¢å­¦çš„ç»“åˆï¼Œæ„å»ºå‡ºæ—¢ç¾è§‚åˆé«˜æ•ˆçš„æ•°å­—ä¸–ç•Œã€‚</p>
<p>æ­£å¦‚ä¸Šè¿°ä»£ç æ‰€ç¤ºï¼ŒçœŸæ­£çš„ mastery ä¸æ˜¯è°ƒç”¨å°è£…å¥½çš„æ’ä»¶ï¼Œè€Œæ˜¯æŒæ¡åº•å±‚æ•°æ®æµåŠ¨çš„è§„å¾‹ã€‚é€šè¿‡è¿™æ¬¡å­¦ä¹ ï¼Œæˆ‘å·²å‡†å¤‡å¥½å°†è¿™ç§å¯è§†åŒ–èƒ½åŠ›åº”ç”¨åˆ°æ›´å¤æ‚çš„ä¸šåŠ¡åœºæ™¯ä¸­å»ï¼Œå°†æ•°æ®çš„ä»·å€¼åœ¨ä¸‰ç»´ç©ºé—´ä¸­æ— é™æ”¾å¤§ã€‚å¯¹äºç«‹å¿—åœ¨ GIS é¢†åŸŸæ·±è€•çš„å‰ç«¯äººæ¥è¯´ï¼Œè¿™é—¨è¯¾ç¨‹æ— ç–‘æ˜¯ä¸€å—åšå®çš„å«è„šçŸ³ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è…¾è®¯å…ƒå®è¢«å¾®ä¿¡å°æ€ï¼Œè¿™ä¸æç¬‘å—ï¼Œç‹ èµ·æ¥è¿è‡ªå·±éƒ½æ‰“ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602555027304267816</link>    <guid>https://juejin.cn/post/7602555027304267816</guid>    <pubDate>2026-02-04T08:48:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602555027304267816" data-draft-id="7602562585099976738" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è…¾è®¯å…ƒå®è¢«å¾®ä¿¡å°æ€ï¼Œè¿™ä¸æç¬‘å—ï¼Œç‹ èµ·æ¥è¿è‡ªå·±éƒ½æ‰“ï¼Ÿ"/> <meta itemprop="keywords" content="èµ„è®¯"/> <meta itemprop="datePublished" content="2026-02-04T08:48:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯æ¢¦å·¥å‚"/> <meta itemprop="url" content="https://juejin.cn/user/4230576472589976"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è…¾è®¯å…ƒå®è¢«å¾®ä¿¡å°æ€ï¼Œè¿™ä¸æç¬‘å—ï¼Œç‹ èµ·æ¥è¿è‡ªå·±éƒ½æ‰“ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4230576472589976/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯æ¢¦å·¥å‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:48:14.000Z" title="Wed Feb 04 2026 08:48:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€äº‹ä»¶å›é¡¾</h2>
<p>è¿‘æœŸï¼Œæ‰€æœ‰ç¾¤å°ä¼™ä¼´éƒ½åœ¨åˆ†äº«å…ƒå®ï¼Œé“ºå¤©ç›–åœ°çš„ç°é‡‘çº¢åŒ…ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a9fc2f468714dfbb20016fc3d7d4226~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770799693&amp;x-signature=TnQREvocDoJr1vxb%2FKeJK6ju%2F1g%3D" alt="Snipaste_2026-02-04_16-31-12.png" loading="lazy"/></p>
<p>ç»ˆäºåœ¨ä»Šå¤©ï¼Œ2æœˆ4æ—¥ï¼Œå¾®ä¿¡å®‰å…¨ä¸­å¿ƒå‘å¸ƒå…¬å‘Šï¼Œå¯¹è…¾è®¯å…ƒå®çš„æ˜¥èŠ‚çº¢åŒ…æ´»åŠ¨è¿›è¡Œå¤„ç½®â€”â€”é™åˆ¶å…¶åœ¨å¾®ä¿¡å†…ç›´æ¥æ‰“å¼€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24961bf9305e4e7ba3f340cd67b48c62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770799693&amp;x-signature=cU5O9NCb7YsbMlODTxTYQg%2BAeL8%3D" alt="image.png" loading="lazy"/></p>
<p>ç†ç”±ï¼Ÿ<strong>è¯±å¯¼åˆ†äº«</strong>ã€‚</p>
<p>æ ¹æ®å…¬å‘Šï¼Œå…ƒå®çº¢åŒ…æ´»åŠ¨é€šè¿‡"åšä»»åŠ¡""é¢†çº¢åŒ…"ç­‰æ–¹å¼ï¼Œè¯±å¯¼ç”¨æˆ·é«˜é¢‘åˆ†äº«é“¾æ¥åˆ°å¾®ä¿¡ç¾¤ç­‰åœºæ™¯ï¼Œå¹²æ‰°å¹³å°ç”Ÿæ€ç§©åºã€å½±å“ç”¨æˆ·ä½“éªŒã€‚</p>
<p>è¿™è¿˜ä¸æ˜¯æœ€ç¦»è°±çš„ã€‚</p>
<p>æœ€ç¦»è°±çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><strong>å…ƒå®æ˜¯è…¾è®¯çš„äº§å“ï¼Œå¾®ä¿¡ä¹Ÿæ˜¯è…¾è®¯çš„äº§å“ã€‚</strong></p>
<p>ç›¸å½“äºè…¾è®¯ç”¨å·¦æ‰‹æ‰‡äº†å³æ‰‹ä¸€å·´æŒï¼Œç„¶åè¯´ï¼š"ä½ è¿è§„äº†ã€‚"</p>
<hr/>
<h2 data-id="heading-1">äºŒã€é­”å¹»ç°å®</h2>
<p>æˆ‘ä»¬æ¥è¿˜åŸä¸€ä¸‹è¿™ä¸ªç¦»è°±çš„åœºæ™¯ï¼š</p>
<p>å¾®ä¿¡ï¼ˆå¯¹å…ƒå®è¯´ï¼‰ï¼š"æ ¹æ®ã€Šå¾®ä¿¡å¤–éƒ¨é“¾æ¥å†…å®¹ç®¡ç†è§„èŒƒã€‹ç¬¬2.1.2æ¡ï¼Œä½ é€šè¿‡åˆ©ç›Šè¯±æƒ‘è¯±å¯¼ç”¨æˆ·åˆ†äº«å¤–é“¾ï¼Œå±äºè¯±å¯¼åˆ†äº«è¿è§„ã€‚"</p>
<p>å…ƒå®ï¼ˆå§”å±ˆï¼‰ï¼š"å¯æˆ‘æ˜¯äº²ç”Ÿçš„å•Šâ€¦â€¦"</p>
<p>å¾®ä¿¡ï¼ˆé“é¢æ— ç§ï¼‰ï¼š"äº²ç”Ÿçš„æ€ä¹ˆäº†ï¼Ÿè§„åˆ™é¢å‰äººäººå¹³ç­‰ã€‚"</p>
<p>å¥½å®¶ä¼™ï¼Œè¿™æ³¢æ“ä½œæˆ‘æ„¿ç§°ä¹‹ä¸ºï¼š</p>
<p><strong>"å¤§ä¹‰ç­äº²"</strong> âœ…</p>
<p><strong>"å…­äº²ä¸è®¤"</strong> âœ…</p>
<p><strong>"é“é¢æ— ç§"</strong> âœ…</p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€åŒæ ‡ç°åœº</h2>
<p>æ›´æœ‰æ„æ€çš„æ˜¯ï¼Œè…¾è®¯å†…éƒ¨ä¿¡ä¸­è¿˜è¯•å›¾æŒ£æ‰ï¼š</p>
<blockquote>
<p>"å…ƒå®æ˜¥èŠ‚çº¢åŒ…æ´»åŠ¨åœ¨è®¾è®¡ä¸Šï¼Œå…¶åŸºç¡€é€»è¾‘æ˜¯'æ— é—¨æ§›é¢†å–'ã€‚ç”¨æˆ·æ— éœ€å®Œæˆè¯¸å¦‚åŠ©åŠ›ã€é›†å¡ç­‰ä»»åŠ¡ï¼Œå³å¯ç›´æ¥é¢†å–åŸºç¡€çº¢åŒ…ã€‚ä¸å¹³å°ä¸€è´¯åå¯¹çš„'è¯±å¯¼åˆ†äº«'æ¨¡å¼æœ‰åŒºåˆ«ã€‚"</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee0cd864ffd947d0bdf97a55ac039d9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770799693&amp;x-signature=d9gz84rrn09JsAJ4HcWQEb5zxZI%3D" alt="image.png" loading="lazy"/></p>
<p>ç¿»è¯‘ä¸€ä¸‹å°±æ˜¯ï¼š</p>
<p>"æˆ‘ä»¬è¿™ä¸ªä¸ä¸€æ ·ï¼Œç”¨æˆ·ä¸åˆ†äº«ä¹Ÿèƒ½é¢†çº¢åŒ…ã€‚"</p>
<p>ä½†é—®é¢˜æ˜¯â€”â€”</p>
<p><strong>ç”¨æˆ·ä¸åˆ†äº«ï¼Œåªèƒ½é¢†åŸºç¡€çº¢åŒ…ï¼›ç”¨æˆ·åˆ†äº«äº†ï¼Œèƒ½é¢†æ›´å¤šã€‚</strong></p>
<p>è¿™å«ä»€ä¹ˆï¼Ÿ</p>
<p>è¿™å«"ä¸å«è¯±å¯¼åˆ†äº«ï¼Œå«è¯±å¯¼ä½ ä¸»åŠ¨é€‰æ‹©åˆ†äº«"ã€‚</p>
<p>è·Ÿ"æˆ‘ä¸å·é’±ï¼Œæˆ‘åªæ˜¯å¸®ä½ ä¿ç®¡"æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</p>
<hr/>
<h2 data-id="heading-3">å››ã€è®½åˆºæ‹‰æ»¡</h2>
<p>æ•´ä¸ªäº‹ä»¶æœ€è®½åˆºçš„æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>å¾®ä¿¡æ‰“å‡»è¯±å¯¼åˆ†äº«ï¼Œç†ç”±æ˜¯"å¹²æ‰°å¹³å°ç”Ÿæ€ç§©åºã€å½±å“ç”¨æˆ·ä½“éªŒã€å¯¹ç”¨æˆ·é€ æˆéªšæ‰°"ã€‚</p>
<p>ç»“æœå‘¢ï¼Ÿ</p>
<p>å…ƒå®çº¢åŒ…æ´»åŠ¨åœ¨å¤šä¸ªç¤¾äº¤å¹³å°ä¸Šåˆ·å±ï¼Œè¢«ç½‘å‹è´¨ç–‘"è¯±å¯¼åˆ†äº«"ã€‚</p>
<p>ç„¶åå¾®ä¿¡ä¸å¾—ä¸å¤„ç½šè‡ªå·±çš„äº§å“ã€‚</p>
<p>è¿™å«ä»€ä¹ˆï¼Ÿ</p>
<p><strong>æ¬èµ·çŸ³å¤´ç ¸è‡ªå·±çš„è„šã€‚</strong></p>
<p>ä¸å¯¹ã€‚</p>
<p>è¿™å«<strong>ç”¨çŸ³å¤´ç ¸è‡ªå·±çš„è„šï¼Œç„¶åè¯´"çœ‹ï¼Œæˆ‘æ‰§è¡Œè§„åˆ™å¾ˆä¸¥æ ¼"ã€‚</strong></p>
<hr/>
<h2 data-id="heading-4">äº”ã€è°æ›´å—ä¼¤ï¼Ÿ</h2>
<p>è¿™ä¸ªäº‹ä»¶é‡Œï¼Œæ²¡æœ‰èµ¢å®¶ã€‚</p>
<p><strong>å…ƒå®</strong> â†’ æ´»åŠ¨è¢«å°ï¼Œå£°èª‰å—æŸï¼Ÿ</p>
<p><strong>å¾®ä¿¡</strong> â†’ è¢«ç½‘å‹ç¾¤å˜²"åŒæ ‡""è‡ªå·±æ‰“è‡ªå·±"</p>
<p><strong>è…¾è®¯</strong> â†’ å†…éƒ¨äº’æ®´ï¼Œå®¶ä¸‘å¤–æ‰¬</p>
<p><strong>ç”¨æˆ·</strong> â†’ æœ¬æ¥èƒ½é¢†çº¢åŒ…ï¼Œç°åœ¨åªèƒ½é¢†ä¸ªå¯‚å¯</p>
<p>å››è¾“ã€‚</p>
<hr/>
<h2 data-id="heading-5">å…­ã€å†™åœ¨æœ€å</h2>
<p>å…¶å®å§ï¼Œè¿™äº‹å„¿è¦æ˜¯æ¢ä¸ªè§’åº¦çœ‹ï¼Œä¹Ÿç®—æ˜¯ä¸€ä»¶å¥½äº‹ã€‚</p>
<p>è‡³å°‘è¯´æ˜<strong>å¾®ä¿¡æ˜¯è®¤çœŸæ‰§è¡Œè§„åˆ™çš„</strong>ã€‚</p>
<p>å“ªæ€•æ˜¯äº²å„¿å­ï¼Œè¯¥ç½šè¿˜æ˜¯ç½šã€‚</p>
<p>è‡³äºè…¾è®¯å†…éƒ¨ä»¥åæ€ä¹ˆåè°ƒï¼Œé‚£æ˜¯ä»–ä»¬çš„äº‹ã€‚</p>
<p>ä½†æœ‰ä¸€è¯´ä¸€ï¼Œä¸‹æ¬¡åšæ´»åŠ¨ä¹‹å‰ï¼Œèƒ½ä¸èƒ½å…ˆå†…éƒ¨å¯¹é½ä¸€ä¸‹ï¼Ÿ</p>
<p>åˆ«é—¹åˆ°æœ€åï¼Œè‡ªå·±æŠŠè‡ªå·±ç»™å¤„ç½šäº†ã€‚</p>
<p>æ€ªå°´å°¬çš„ã€‚å„ä½å½“ä¸ªä¹çœ‹å§ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4446d57db021473ba695e78d2aca9924~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770799693&amp;x-signature=crD%2F6h89GqEZUaDqecRcblo7Z3w%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abad8709fc1d47988da79a3d87d3b064~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5qKm5bel5Y6C:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770799693&amp;x-signature=de6JJqYgnjrRi6bZaZYiOspDSG4%3D" alt="image.png" loading="lazy"/></h2>
<p><strong>ä½ è§‰å¾—å‘¢ï¼Ÿæ¬¢è¿è¯„è®ºåŒºèŠèŠã€‚ä½ å‚ä¸å…ƒå®æŠ¢çº¢åŒ…äº†å—ï¼ŸæŠ¢åˆ°äº†å¤šå°‘é’±ï¼Ÿ</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”Ÿäº§å¤ç›˜ï¼šä¸ºä»€ä¹ˆä½ çš„ HikariCP è¿æ¥æ± æ€»è¢«â€œæ‰“çˆ†â€ï¼Ÿåˆ«å†æ— è„‘è°ƒå¤§ maximumPoolSize äº†ï¼]]></title>    <link>https://juejin.cn/post/7602529888484917311</link>    <guid>https://juejin.cn/post/7602529888484917311</guid>    <pubDate>2026-02-04T08:47:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602529888484917311" data-draft-id="7602559134576476196" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”Ÿäº§å¤ç›˜ï¼šä¸ºä»€ä¹ˆä½ çš„ HikariCP è¿æ¥æ± æ€»è¢«â€œæ‰“çˆ†â€ï¼Ÿåˆ«å†æ— è„‘è°ƒå¤§ maximumPoolSize äº†ï¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T08:47:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JOEH60"/> <meta itemprop="url" content="https://juejin.cn/user/1750078239803614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”Ÿäº§å¤ç›˜ï¼šä¸ºä»€ä¹ˆä½ çš„ HikariCP è¿æ¥æ± æ€»è¢«â€œæ‰“çˆ†â€ï¼Ÿåˆ«å†æ— è„‘è°ƒå¤§ maximumPoolSize äº†ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1750078239803614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JOEH60
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:47:12.000Z" title="Wed Feb 04 2026 08:47:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0"><strong>å‰è¨€</strong></h4>
<p>â€œæŠ¥è­¦ç¾¤åˆç‚¸äº†ï¼ŒDB è¿æ¥æ•°é£™å‡ï¼ŒHikariCP æŠ¥Â ConnectionTimeoutExceptionï¼â€<br/>
ä½œä¸º Java åç«¯ï¼Œè¿™è¡ŒæŠ¥é”™æ˜¯ä¸æ˜¯çœ‹ç€çœ¼ç†Ÿï¼Ÿå¾ˆå¤šäººçš„ç¬¬ä¸€ååº”æ˜¯ï¼šâ€œå¿«ï¼æŠŠÂ maximum-pool-sizeÂ ä» 10 æ”¹åˆ° 50ï¼Œé‡å¯ï¼â€<br/>
ç»“æœå‘¢ï¼Ÿç³»ç»Ÿæ’‘äº† 10 åˆ†é’Ÿï¼Œæ­»å¾—æ›´é€äº†ï¼Œè¿æ•°æ®åº“ CPU éƒ½è¢«æ‰“æ»¡äº†ã€‚</p>
<p>æˆ‘æ˜¯ [ä½ çš„æ˜µç§°]ï¼Œä»Šå¤©ä¸èŠè™šçš„ï¼Œç»“åˆæˆ‘ 9 å¹´çš„å®æˆ˜ç»éªŒï¼Œå¸¦å¤§å®¶æ·±åº¦æ‹†è§£ï¼š<strong>é«˜å¹¶å‘ä¸‹ï¼Œä½ çš„æ•°æ®åº“è¿æ¥æ± åˆ°åº•æ˜¯æ€ä¹ˆè¢«æ‰“çˆ†çš„ï¼Ÿ</strong></p>
<blockquote>
<p><strong>æ‰€å±ä¸“æ ï¼š</strong> Â [Java é«˜å¹¶å‘æ¶æ„å®æˆ˜ï¼šä»é’é“œåˆ°ç‹è€…]</p>
</blockquote>
<hr/>
<h4 data-id="heading-1"><strong>ä¸€ã€ è¯¯åŒºï¼šè¿æ¥æ± è¶Šå¤§è¶Šå¥½ï¼Ÿ</strong></h4>
<p>è¿™æ˜¯æœ€å¤§çš„è°è¨€ã€‚<br/>
æ•°æ®åº“è¿æ¥æœ¬è´¨ä¸Šæ˜¯ç»´æŠ¤ä¸€ä¸ªÂ <strong>TCP Socket</strong>ï¼Œæ•°æ®åº“ä¾§ï¼ˆå¦‚ MySQLï¼‰å¯¹åº”çš„æ¯ä¸€ä¸ªè¿æ¥èƒŒåéƒ½æ˜¯ä¸€ä¸ªÂ <strong>çº¿ç¨‹ï¼ˆThreadï¼‰</strong> ã€‚<br/>
å½“ä½ çš„Â maximumPoolSizeÂ è®¾ç½®è¿‡å¤§ï¼ˆä¾‹å¦‚ 100ã€200ï¼‰ï¼Œè€Œä½ çš„ CPU æ ¸å¿ƒæ•°åªæœ‰ 4 æ ¸æˆ– 8 æ ¸æ—¶ï¼š</p>
<ul>
<li><strong>ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆContext Switchï¼‰</strong> ï¼šOS ç–¯ç‹‚åœ¨å‡ ç™¾ä¸ªçº¿ç¨‹é—´åˆ‡æ¢ï¼ŒCPU æ—¶é—´å…¨èŠ±åœ¨è°ƒåº¦ä¸Šï¼Œè€Œä¸æ˜¯æ‰§è¡Œ SQLã€‚</li>
<li><strong>ç£ç›˜ I/O äº‰æŠ¢</strong>ï¼šå¤šä¸ªæŸ¥è¯¢åŒæ—¶ç«äº‰ç£ç›˜è¯»å†™ç£å¤´ã€‚</li>
</ul>
<p><strong>HikariCP ä½œè€…çš„æ¨èå…¬å¼ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">Connections</span>=((Core_countÃ—<span class="hljs-number">2</span>)+Effective_spindle_count)Connections=((Core_countÃ—<span class="hljs-number">2</span>)+Effective_spindle_count)
</code></pre>
<p>å¯¹äºä¸€ä¸ª 4 æ ¸çš„æœåŠ¡å™¨ï¼Œè¿æ¥æ•°è®¾ç½®Â <strong>10-12</strong>Â å¾€å¾€æ¯”è®¾ç½® 100 ååé‡æ›´é«˜ï¼<strong>å°‘å³æ˜¯å¤šï¼ˆLess is Moreï¼‰ã€‚</strong></p>
<hr/>
<h4 data-id="heading-2"><strong>äºŒã€ çœŸæ­£çš„å‡¶æ‰‹ï¼šé•¿äº‹åŠ¡ (Long Transaction)</strong></h4>
<p>å¦‚æœä½ çš„è¿æ¥æ•°è®¾ç½®åˆç†ï¼Œä½†ä¾ç„¶æŠ¥é”™ï¼Œ<strong>99% çš„åŸå› æ˜¯äº‹åŠ¡èŒƒå›´è¿‡å¤§</strong>ã€‚</p>
<p><strong>âŒ é”™è¯¯ç¤ºèŒƒï¼š</strong></p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">buyItem</span><span class="hljs-params">(String userId, String itemId)</span> {
    <span class="hljs-comment">// 1. å ç”¨è¿æ¥ï¼ˆSpring äº‹åŠ¡å¼€å§‹æ—¶å°±è·å–è¿æ¥ï¼‰</span>
    <span class="hljs-comment">// 2. è¿œç¨‹è°ƒç”¨ï¼šæ‰£å‡åº“å­˜ (RPC/HTTPï¼Œè€—æ—¶ 200ms)</span>
    inventoryClient.decrease(itemId); 
    
    <span class="hljs-comment">// 3. å¤æ‚è®¡ç®— (è€—æ—¶ 50ms)</span>
    checkRisk(userId);
    
    <span class="hljs-comment">// 4. ç»ˆäºæ‰§è¡Œ SQL (è€—æ—¶ 5ms)</span>
    orderMapper.insert(order);
}
</code></pre>
<p><strong>åˆ†æï¼š</strong><br/>
åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œè¿æ¥è¢«æŒæœ‰äº†Â <strong>255ms</strong>ï¼Œä½†çœŸæ­£æ‰§è¡Œ SQL åªæœ‰Â <strong>5ms</strong>ã€‚è¿æ¥èµ„æºçš„åˆ©ç”¨ç‡ä»…ä¸ºÂ <strong>1.9%</strong> ï¼<br/>
åœ¨é«˜å¹¶å‘ä¸‹ï¼Œè¿æ¥æ± ç¬é—´å°±ä¼šè¢«è¿™äº›â€œå ç€èŒ…å‘ä¸æ‹‰å±â€çš„çº¿ç¨‹è€—å°½ã€‚</p>
<p><strong>âœ… ä¼˜åŒ–æ–¹æ¡ˆï¼šç¼©å°äº‹åŠ¡ç²’åº¦</strong><br/>
ä½¿ç”¨Â TransactionTemplateÂ æ‰‹åŠ¨æ§åˆ¶è¾¹ç•Œã€‚</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> TransactionTemplate transactionTemplate;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">buyItemOptimized</span><span class="hljs-params">(String userId, String itemId)</span> {
    <span class="hljs-comment">// 1. è¿œç¨‹è°ƒç”¨ç§»å‡ºäº‹åŠ¡å¤– (ä¸å ç”¨ DB è¿æ¥)</span>
    inventoryClient.decrease(itemId);
    
    <span class="hljs-comment">// 2. å¤æ‚è®¡ç®—ç§»å‡ºäº‹åŠ¡å¤–</span>
    checkRisk(userId);
    
    <span class="hljs-comment">// 3. åªæœ‰çº¯æ•°æ®åº“æ“ä½œæ‰å¼€å¯äº‹åŠ¡</span>
    transactionTemplate.execute(status -&gt; {
        orderMapper.insert(order);
        <span class="hljs-comment">// å¦‚æœéœ€è¦æ›´æ–°å…¶ä»–è¡¨...</span>
        userMapper.updateBalance(userId);
        <span class="hljs-keyword">return</span> Boolean.TRUE;
    });
} 
</code></pre>
  
<hr/>
<h4 data-id="heading-3"><strong>ä¸‰ã€ éšå½¢æ€æ‰‹ï¼šSlow SQL ä¸ é”ç«äº‰</strong></h4>
<ul>
<li>
<p><strong>æ…¢ SQL</strong>ï¼šå¦‚æœä¸€æ¡ SQL éœ€è¦è·‘ 5 ç§’ï¼Œé‚£è¿™ä¸ªè¿æ¥å°±è¿™ 5 ç§’å†…æ— æ³•æœåŠ¡å…¶ä»–äººã€‚QPS ä¸€é«˜ï¼Œè¿æ¥æ± ç«‹é©¬æ¯ç«­ã€‚</p>
<ul>
<li>å¯¹ç­–ï¼šExplain åˆ†æï¼ŒåŠ ç´¢å¼•ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ­»é”/è¡Œé”ç­‰å¾…</strong>ï¼šselect ... for updateÂ æˆ–é«˜å¹¶å‘æ›´æ–°åŒä¸€è¡Œæ•°æ®ï¼ˆçƒ­ç‚¹è´¦æˆ·æ‰£æ¬¾ï¼‰ï¼Œä¼šå¯¼è‡´å¤§é‡è¿æ¥å¤„äºÂ WaitÂ çŠ¶æ€ã€‚</p>
<ul>
<li>å¯¹ç­–ï¼šRedis é¢„æ‰£å‡ï¼Œå¼‚æ­¥å†™å…¥ DBã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h4 data-id="heading-4"><strong>å››ã€ é»„é‡‘é…ç½®ï¼šHikariCP æ ¸å¿ƒå‚æ•°è°ƒä¼˜</strong></h4>
<p>é™¤äº†ä»£ç å±‚é¢ï¼Œé…ç½®ä¹Ÿå¾ˆå…³é”®ã€‚ä»¥ä¸‹æ˜¯ä¸€ä»½ç”Ÿäº§ç¯å¢ƒçš„â€œä¿å‘½é…ç½®â€ï¼š</p>
<pre><code class="hljs language-Yaml" lang="Yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">hikari:</span>
      <span class="hljs-comment"># 1. æ ¸å¿ƒè¿æ¥æ•°ï¼šåˆ‡è®°ä¸è¦è¿‡å¤§ï¼Œå‚è€ƒå…¬å¼</span>
      <span class="hljs-attr">maximum-pool-size:</span> <span class="hljs-number">15</span>
      <span class="hljs-comment"># 2. æœ€å°ç©ºé—²ï¼šå»ºè®®ä¸ max ç›¸ç­‰ï¼Œé¿å…å¿½å¤§å¿½å°çš„æ‰©ç¼©å®¹æ€§èƒ½æŸè€—</span>
      <span class="hljs-attr">minimum-idle:</span> <span class="hljs-number">15</span>
      <span class="hljs-comment"># 3. ç­‰å¾…è¶…æ—¶ï¼šé»˜è®¤ 30s å¤ªé•¿äº†ï¼å»ºè®®æ”¹ä¸º 3s-5sã€‚</span>
      <span class="hljs-comment"># å¿«é€Ÿå¤±è´¥ï¼ˆFail Fastï¼‰æ€»æ¯”æŠŠ tomcat çº¿ç¨‹æ± æ‹–æ­»è¦å¥½ã€‚</span>
      <span class="hljs-attr">connection-timeout:</span> <span class="hljs-number">5000</span> 
      <span class="hljs-comment"># 4. æœ€å¤§ç”Ÿå‘½å‘¨æœŸï¼šå»ºè®®æ¯”æ•°æ®åº“çš„ wait_timeout çŸ­ 1-2 åˆ†é’Ÿ</span>
      <span class="hljs-comment"># é¿å…æ•°æ®åº“ä¸»åŠ¨æ–­å¼€è¿æ¥ï¼Œå¯¼è‡´åº”ç”¨ç«¯æŠ¥é”™</span>
      <span class="hljs-attr">max-lifetime:</span> <span class="hljs-number">1800000</span> <span class="hljs-comment"># 30åˆ†é’Ÿ</span>
</code></pre>
<hr/>
<h4 data-id="heading-5"><strong>äº”ã€ ç›‘æ§ï¼šæ²¡æœ‰ç›‘æ§å°±æ˜¯â€œè£¸å¥”â€</strong></h4>
<p>ä¸è¦ç­‰åˆ°ç”¨æˆ·æŠ•è¯‰æ‰å‘ç°é—®é¢˜ã€‚</p>
<ul>
<li>
<p><strong>å¼€å¯ Prometheus ç›‘æ§</strong>ï¼šHikariCP åŸç”Ÿæ”¯æŒ Micrometerã€‚</p>
</li>
<li>
<p><strong>å…³é”®æŒ‡æ ‡</strong>ï¼š</p>
<ul>
<li>hikaricp_connections_pendingï¼š<strong>æ’é˜Ÿçº¿ç¨‹æ•°</strong>ã€‚ä¸€æ—¦è¿™ä¸ªæŒ‡æ ‡ &gt; 0ï¼Œè¯´æ˜è¿æ¥æ± ä¸å¤Ÿç”¨äº†ï¼ˆæˆ–æœ‰æ…¢äº‹åŠ¡ï¼‰ï¼Œå¿…é¡»æŠ¥è­¦ï¼</li>
<li>hikaricp_connections_activeï¼šæ´»è·ƒè¿æ¥æ•°ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h4 data-id="heading-6"><strong>æ€»ç»“</strong></h4>
<p><strong>HikariCP è¢«æ‰“çˆ†ï¼Œæœ¬è´¨ä¸Šæ˜¯â€œå€Ÿè¿˜é€Ÿåº¦â€å¤±è¡¡ã€‚</strong><br/>
ä¸è¦ä¸€å‡ºé—®é¢˜å°±è°ƒå‚æ•°ã€‚è¯·æŒ‰ç…§ä»¥ä¸‹é¡ºåºæ’æŸ¥ï¼š</p>
<ol>
<li>æ£€æŸ¥æ˜¯å¦æœ‰Â <strong>HTTP è¯·æ±‚/RPC è°ƒç”¨</strong>Â è¢«åŒ…è£¹åœ¨Â @TransactionalÂ ä¸­ï¼Ÿ</li>
<li>æ£€æŸ¥æ˜¯å¦æœ‰Â <strong>æ…¢ SQL</strong>Â é˜»å¡äº†è¿æ¥ï¼Ÿ</li>
<li>æ£€æŸ¥Â <strong>connection-timeout</strong>Â æ˜¯å¦è®¾ç½®å¾—å¤ªé•¿ï¼Œå¯¼è‡´çº¿ç¨‹å †ç§¯ï¼Ÿ</li>
</ol>
<p><strong>è®°ä½ï¼šä»£ç çš„è´¨é‡ï¼Œå†³å®šäº†æ¶æ„çš„ä¸Šé™ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Gemini Chat Completion API ç”³è¯·åŠä½¿ç”¨]]></title>    <link>https://juejin.cn/post/7602543146237313067</link>    <guid>https://juejin.cn/post/7602543146237313067</guid>    <pubDate>2026-02-04T08:57:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602543146237313067" data-draft-id="7602553969970642998" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Gemini Chat Completion API ç”³è¯·åŠä½¿ç”¨"/> <meta itemprop="keywords" content="Gemini,API,AIGC"/> <meta itemprop="datePublished" content="2026-02-04T08:57:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å´”åº†æ‰ä¸¨é™è§…"/> <meta itemprop="url" content="https://juejin.cn/user/1521379821230269"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Gemini Chat Completion API ç”³è¯·åŠä½¿ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379821230269/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å´”åº†æ‰ä¸¨é™è§…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:57:18.000Z" title="Wed Feb 04 2026 08:57:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Google Gemini æ˜¯ä¸€æ¬¾éå¸¸å¼ºå¤§çš„ AI å¯¹è¯ç³»ç»Ÿï¼Œåªè¦è¾“å…¥æç¤ºè¯ï¼Œå°±èƒ½åœ¨çŸ­çŸ­å‡ ç§’å†…ç”Ÿæˆæµç•…è‡ªç„¶çš„å›å¤ã€‚Gemini éƒ½èƒ½æä¾›ä»¤äººæƒŠå¹çš„æ™ºèƒ½ååŠ©ï¼Œæå¤§åœ°æé«˜äº†äººç±»çš„å·¥ä½œæ•ˆç‡å’Œåˆ›é€ åŠ›ã€‚</p>
<p>æœ¬æ–‡æ¡£ä¸»è¦ä»‹ç» Gemini Chat Completion API æ“ä½œçš„ä½¿ç”¨æµç¨‹ï¼Œåˆ©ç”¨å®ƒæˆ‘ä»¬å¯ä»¥è½»æ¾ä½¿ç”¨å®˜æ–¹ Gemini çš„å¯¹è¯åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-0">ç”³è¯·æµç¨‹</h2>
<p>è¦ä½¿ç”¨ Gemini Chat Completion APIï¼Œé¦–å…ˆå¯ä»¥åˆ° <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.acedata.cloud%2Fdocuments%2Fae54bf9b-af41-4072-b969-3756b6d66834" target="_blank" title="https://platform.acedata.cloud/documents/ae54bf9b-af41-4072-b969-3756b6d66834" ref="nofollow noopener noreferrer">Gemini Chat Completion API</a> é¡µé¢ç‚¹å‡»ã€ŒAcquireã€æŒ‰é’®ï¼Œè·å–è¯·æ±‚æ‰€éœ€è¦çš„å‡­è¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef09a9ad5a644f52b86e5dc4d958f9d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800238&amp;x-signature=6Vl7nkNsQbxXdwy%2F9NjpWsRi2MQ%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœä½ å°šæœªç™»å½•æˆ–æ³¨å†Œï¼Œä¼šè‡ªåŠ¨è·³è½¬åˆ°ç™»å½•é¡µé¢é‚€è¯·æ‚¨æ¥æ³¨å†Œå’Œç™»å½•ï¼Œç™»å½•æ³¨å†Œä¹‹åä¼šè‡ªåŠ¨è¿”å›å½“å‰é¡µé¢ã€‚</p>
<p>åœ¨é¦–æ¬¡ç”³è¯·æ—¶ä¼šæœ‰å…è´¹é¢åº¦èµ é€ï¼Œå¯ä»¥å…è´¹ä½¿ç”¨è¯¥ APIã€‚</p>
<h2 data-id="heading-1">åŸºæœ¬ä½¿ç”¨</h2>
<p>æ¥ä¸‹æ¥å°±å¯ä»¥åœ¨ç•Œé¢ä¸Šå¡«å†™å¯¹åº”çš„å†…å®¹ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d90e5c7c2e6f4f1b884523cdcc4c798c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800238&amp;x-signature=6nPIfQl02M2fc0pY8fUxoiDu804%3D" width="400" class="m-auto" loading="lazy"/></p>
<p>åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨è¯¥æ¥å£æ—¶ï¼Œæˆ‘ä»¬è‡³å°‘éœ€è¦å¡«å†™ä¸‰ä¸ªå†…å®¹ï¼Œä¸€ä¸ªæ˜¯ <code>authorization</code>ï¼Œç›´æ¥åœ¨ä¸‹æ‹‰åˆ—è¡¨é‡Œé¢é€‰æ‹©å³å¯ã€‚å¦ä¸€ä¸ªå‚æ•°æ˜¯ <code>model</code>ï¼Œ <code>model</code> å°±æ˜¯æˆ‘ä»¬é€‰æ‹©ä½¿ç”¨ Gemini å®˜ç½‘æ¨¡å‹ç±»åˆ«ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸»è¦æœ‰ 6 ç§æ¨¡å‹ï¼Œè¯¦æƒ…å¯ä»¥çœ‹æˆ‘ä»¬æä¾›çš„æ¨¡å‹ã€‚æœ€åä¸€ä¸ªå‚æ•°æ˜¯<code>messages</code>ï¼Œ<code>messages</code>æ˜¯æˆ‘ä»¬è¾“å…¥çš„æé—®è¯æ•°ç»„ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¡¨ç¤ºå¯ä»¥åŒæ—¶ä¸Šä¼ å¤šä¸ªæé—®è¯ï¼Œæ¯ä¸ªæé—®è¯åŒ…å«äº† <code>role</code> å’Œ <code>content</code>ï¼Œå…¶ä¸­ <code>role</code> è¡¨ç¤ºæé—®è€…çš„è§’è‰²ï¼Œæˆ‘ä»¬æä¾›äº†ä¸‰ç§èº«ä»½ï¼Œåˆ†åˆ«ä¸º <code>user</code> ã€<code>assistant</code>ã€<code>system</code> ã€‚å¦ä¸€ä¸ª <code>content</code> å°±æ˜¯æˆ‘ä»¬æé—®çš„å…·ä½“å†…å®¹ã€‚</p>
<p>åŒæ—¶æ‚¨å¯ä»¥æ³¨æ„åˆ°å³ä¾§æœ‰å¯¹åº”çš„è°ƒç”¨ä»£ç ç”Ÿæˆï¼Œæ‚¨å¯ä»¥å¤åˆ¶ä»£ç ç›´æ¥è¿è¡Œï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡»ã€ŒTryã€æŒ‰é’®è¿›è¡Œæµ‹è¯•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ae52984e762494e8db10ed0956cd7b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800238&amp;x-signature=5S44RSBGhyWguIkg0EiNiyFPIlw%3D" width="400" class="m-auto" loading="lazy"/></p>
<p>è°ƒç”¨ä¹‹åï¼Œæˆ‘ä»¬å‘ç°è¿”å›ç»“æœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122212413908150493uPhjTUO9"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763817866</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"I am a large language model, trained by Google."</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"reasoning_content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"**My Reasoning: Answering the User's Question**\n\nOkay, here's how I'm going to approach answering the user's question, \"What model are you?\". The core is to be direct and informative. First, I have to be clear about my origin. Then, I need to make sure the explanation is accessible, given that the user may not be familiar with technical jargon. I need to explain what a \"large language model\" actually *does*, and provide relatable examples. I know the user might be looking for a specific name, like other models have, so I'll address that directly and then wrap it up with an invitation to continue.\n\nSo, here's my plan:\n\n1.  **Lead with the key info:** I'll begin by stating that I am a large language model created by Google. That is the fundamental, most critical piece of the puzzle.\n2.  **Define the buzzword:** Then, I'll explain that \"large language model\" in simple terms. I'll explain what I *do* - process and generate text; how I *do* it - by training on huge amounts of text data; and the *goal* - to be able to communicate like a human.\n3.  **Provide context:** After that, to make the concept even clearer, I'll provide a list of examples of my capabilities. I'll mention things like answering questions, summarizing texts, writing stories, translating languages, and brainstorming ideas.\n4.  **Acknowledge the lack of a personal name:** I'll anticipate the likely question about a model name (like ChatGPT) by clearly stating that I don't have a personal name and that it's best to think of me as an AI assistant from Google.\n5.  **End with an invitation:** Lastly, I'll end with a simple, friendly question to invite further interaction and to guide the conversation.\n\nWith this approach, I am confident I can successfully answer this important question.\n"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stop"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"prompt_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"completion_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">932</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"total_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">940</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"prompt_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"cached_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"image_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"completion_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"reasoning_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">921</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"input_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"output_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"input_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"claude_cache_creation_5_m_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"claude_cache_creation_1_h_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿”å›ç»“æœä¸€å…±æœ‰å¤šä¸ªå­—æ®µï¼Œä»‹ç»å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>id</code>ï¼Œç”Ÿæˆæ­¤æ¬¡å¯¹è¯ä»»åŠ¡çš„ IDï¼Œç”¨äºå”¯ä¸€æ ‡è¯†æ­¤æ¬¡å¯¹è¯ä»»åŠ¡ã€‚</li>
<li><code>model </code>ï¼Œé€‰æ‹©çš„ Gemini å®˜ç½‘æ¨¡å‹ã€‚</li>
<li><code>choices</code>ï¼ŒGemini é’ˆå¯¹æé—®è¯ç»™äºçš„å›ç­”ä¿¡æ¯ã€‚</li>
<li><code>usage </code>ï¼šé’ˆå¯¹æœ¬æ¬¡é—®ç­”å¯¹ token çš„ç»Ÿè®¡ä¿¡æ¯ã€‚</li>
</ul>
<p>å…¶ä¸­ <code>choices</code> æ˜¯åŒ…å«äº† Gemini çš„å›ç­”ä¿¡æ¯ï¼Œå®ƒé‡Œé¢çš„ <code>choices</code> æ˜¯ Geminiå›ç­”çš„å…·ä½“ä¿¡æ¯ï¼Œå¯ä»¥å‘ç°å¦‚å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b51be09d50a4f979ba934ad7b50985a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800238&amp;x-signature=8Sk0jLhdFt45DlxNkUcOSfQZDYg%3D" width="400" class="m-auto" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>choices</code> é‡Œé¢çš„ <code>content</code> å­—æ®µåŒ…å«äº† Gemini å›å¤çš„å…·ä½“å†…å®¹ã€‚</p>
<h2 data-id="heading-2">æµå¼å“åº”</h2>
<p>è¯¥æ¥å£ä¹Ÿæ”¯æŒæµå¼å“åº”ï¼Œè¿™å¯¹ç½‘é¡µå¯¹æ¥ååˆ†æœ‰ç”¨ï¼Œå¯ä»¥è®©ç½‘é¡µå®ç°é€å­—æ˜¾ç¤ºæ•ˆæœã€‚</p>
<p>å¦‚æœæƒ³æµå¼è¿”å›å“åº”ï¼Œå¯ä»¥æ›´æ”¹è¯·æ±‚å¤´é‡Œé¢çš„ <code>stream </code> å‚æ•°ï¼Œä¿®æ”¹ä¸º <code>true</code>ã€‚</p>
<p>ä¿®æ”¹å¦‚å›¾æ‰€ç¤ºï¼Œä¸è¿‡è°ƒç”¨ä»£ç éœ€è¦æœ‰å¯¹åº”çš„æ›´æ”¹æ‰èƒ½æ”¯æŒæµå¼å“åº”ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c29ebfbed8c4c9f8d1bbb0eca606066~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800238&amp;x-signature=sQYiabm9odsqQQOZvhYvf0QKfHc%3D" width="400" class="m-auto" loading="lazy"/></p>
<p>å°† <code>stream</code> ä¿®æ”¹ä¸º <code>true</code> ä¹‹åï¼ŒAPI å°†é€è¡Œè¿”å›å¯¹åº”çš„ JSON æ•°æ®ï¼Œåœ¨ä»£ç å±‚é¢æˆ‘ä»¬éœ€è¦åšç›¸åº”çš„ä¿®æ”¹æ¥è·å¾—é€è¡Œçš„ç»“æœã€‚</p>
<p>Python æ ·ä¾‹è°ƒç”¨ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests

url = <span class="hljs-string">"https://api.acedata.cloud/gemini/chat/completions"</span>

headers = {
    <span class="hljs-string">"accept"</span>: <span class="hljs-string">"application/json"</span>,
    <span class="hljs-string">"authorization"</span>: <span class="hljs-string">"Bearer {token}"</span>,
    <span class="hljs-string">"content-type"</span>: <span class="hljs-string">"application/json"</span>
}

payload = {
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"gemini-2.5-pro"</span>,
    <span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"role"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"Hello,What model are you?"</span>}],
    <span class="hljs-string">"stream"</span>: <span class="hljs-literal">True</span>
}

response = requests.post(url, json=payload, headers=headers)
<span class="hljs-built_in">print</span>(response.text)
</code></pre>
<p>è¾“å‡ºæ•ˆæœå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json">data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"delta"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"logprobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"delta"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"reasoning_content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"**Define My Nature**\n\nMy thinking has started. The user wants to know my nature, asking a direct \"what are you?\" The initial step was straightforward: identifying the query. Now, I recall my fundamental identity: I'm a large language model. This is the core truth I aim to convey.\n\n\n"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"logprobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"delta"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"reasoning_content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"**Refining My Response**\n\nI've added the crucial information that I'm trained by Google to the basic \"large language model\" identity. My next step is considering what being a \"large language model\" actually entails, so I can explain my core capabilities. I'm focusing on providing context without going into specific technical details or model names. I want to convey my function in a way the user can easily understand.\n\n\n"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"logprobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"delta"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"reasoning_content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"**Confirming Core Identity**\n\nI'm now solidifying my response. The user's query about my model affiliation needs a focused answer. I've pinpointed that \"trained by Google\" is essential, providing key context. I'm resisting the urge to mention any specific model names, as it's not relevant. The aim is to deliver a direct, accurate statement. My goal remains a clear and concise reply, avoiding technical jargon and getting straight to the relevant point.\n\n\n"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"logprobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"delta"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"I am a large language model, trained by Google."</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"logprobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"delta"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"logprobs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stop"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214038810722821kNjUTjtr"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion.chunk"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763818842</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"system_fingerprint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"prompt_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"completion_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">527</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"total_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">535</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"prompt_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"cached_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"image_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"completion_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"reasoning_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">519</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"input_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"output_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"input_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"claude_cache_creation_5_m_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"claude_cache_creation_1_h_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span>

data<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>DONE<span class="hljs-punctuation">]</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå“åº”é‡Œé¢æœ‰è®¸å¤š <code>data</code> ï¼Œ<code>data</code> é‡Œé¢çš„ <code>choices</code> å³ä¸ºæœ€æ–°çš„å›ç­”å†…å®¹ï¼Œä¸ä¸Šæ–‡ä»‹ç»çš„å†…å®¹ä¸€è‡´ã€‚<code>choices</code> æ˜¯æ–°å¢çš„å›ç­”å†…å®¹ï¼Œæ‚¨å¯ä»¥æ ¹æ®ç»“æœæ¥å¯¹æ¥åˆ°æ‚¨çš„ç³»ç»Ÿä¸­ã€‚åŒæ—¶æµå¼å“åº”çš„ç»“æŸæ˜¯æ ¹æ® <code>data</code> çš„å†…å®¹æ¥åˆ¤æ–­çš„ï¼Œå¦‚æœå†…å®¹ä¸º <code>[DONE]</code>ï¼Œåˆ™è¡¨ç¤ºæµå¼å“åº”å›ç­”å·²ç»å…¨éƒ¨ç»“æŸã€‚è¿”å›çš„ <code>data</code> ç»“æœä¸€å…±æœ‰å¤šä¸ªå­—æ®µï¼Œä»‹ç»å¦‚ä¸‹ï¼š</p>
<ul>
<li><code>id</code>ï¼Œç”Ÿæˆæ­¤æ¬¡å¯¹è¯ä»»åŠ¡çš„ IDï¼Œç”¨äºå”¯ä¸€æ ‡è¯†æ­¤æ¬¡å¯¹è¯ä»»åŠ¡ã€‚</li>
<li><code>model </code>ï¼Œé€‰æ‹©çš„ Gemini å®˜ç½‘æ¨¡å‹ã€‚</li>
<li><code>choices</code>ï¼ŒGemini é’ˆå¯¹æé—®è¯ç»™äºçš„å›ç­”ä¿¡æ¯ã€‚</li>
</ul>
<p>JavaScript ä¹Ÿæ˜¯æ”¯æŒçš„ï¼Œæ¯”å¦‚ Node.js çš„æµå¼è°ƒç”¨ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">method</span>: <span class="hljs-string">"post"</span>,
  <span class="hljs-attr">headers</span>: {
    <span class="hljs-string">"accept"</span>: <span class="hljs-string">"application/json"</span>,
    <span class="hljs-string">"authorization"</span>: <span class="hljs-string">"Bearer {token}"</span>,
    <span class="hljs-string">"content-type"</span>: <span class="hljs-string">"application/json"</span>
  },
  <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"gemini-2.5-pro"</span>,
    <span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"role"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"Hello,What model are you?"</span>}],
    <span class="hljs-string">"stream"</span>: <span class="hljs-literal">true</span>
  })
};

<span class="hljs-title function_">fetch</span>(<span class="hljs-string">"https://api.acedata.cloud/gemini/chat/completions"</span>, options)
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> response.<span class="hljs-title function_">json</span>())
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response))
  .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err));
</code></pre>
<p>Java æ ·ä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">JSONObject</span> <span class="hljs-variable">jsonObject</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSONObject</span>();
jsonObject.put(<span class="hljs-string">"model"</span>, <span class="hljs-string">"gemini-2.5-pro"</span>);
jsonObject.put(<span class="hljs-string">"messages"</span>, [{<span class="hljs-string">"role"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"Hello,What model are you?"</span>}]);
jsonObject.put(<span class="hljs-string">"stream"</span>, <span class="hljs-literal">true</span>);
<span class="hljs-type">MediaType</span> <span class="hljs-variable">mediaType</span> <span class="hljs-operator">=</span> <span class="hljs-string">"application/json; charset=utf-8"</span>.toMediaType();
<span class="hljs-type">RequestBody</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> jsonObject.toString().toRequestBody(mediaType);
<span class="hljs-type">Request</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Request</span>.Builder()
  .url(<span class="hljs-string">"https://api.acedata.cloud/gemini/chat/completions"</span>)
  .post(body)
  .addHeader(<span class="hljs-string">"accept"</span>, <span class="hljs-string">"application/json"</span>)
  .addHeader(<span class="hljs-string">"authorization"</span>, <span class="hljs-string">"Bearer {token}"</span>)
  .addHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>)
  .build();

<span class="hljs-type">OkHttpClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OkHttpClient</span>();
<span class="hljs-type">Response</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> client.newCall(request).execute();
System.out.print(response.body!!.string())
</code></pre>
<p>å…¶ä»–è¯­è¨€å¯ä»¥å¦å¤–è‡ªè¡Œæ”¹å†™ï¼ŒåŸç†éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p>
<h2 data-id="heading-3">å¤šè½®å¯¹è¯</h2>
<p>å¦‚æœæ‚¨æƒ³è¦å¯¹æ¥å¤šè½®å¯¹è¯åŠŸèƒ½ï¼Œéœ€è¦å¯¹ <code>messages</code> å­—æ®µä¸Šä¼ å¤šä¸ªæé—®è¯ï¼Œå¤šä¸ªæé—®è¯çš„å…·ä½“ç¤ºä¾‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/789175ff77194598a6c193371ff17fcc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bSU5bqG5omN5Lio6Z2Z6KeF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800238&amp;x-signature=jWg7vA0cYX42f0FgSrVJOu3I0xc%3D" width="400" class="m-auto" loading="lazy"/></p>
<p>Python æ ·ä¾‹è°ƒç”¨ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests

url = <span class="hljs-string">"https://api.acedata.cloud/gemini/chat/completions"</span>

headers = {
    <span class="hljs-string">"accept"</span>: <span class="hljs-string">"application/json"</span>,
    <span class="hljs-string">"authorization"</span>: <span class="hljs-string">"Bearer {token}"</span>,
    <span class="hljs-string">"content-type"</span>: <span class="hljs-string">"application/json"</span>
}

payload = {
    <span class="hljs-string">"model"</span>: <span class="hljs-string">"gemini-2.5-pro"</span>,
    <span class="hljs-string">"messages"</span>: [{<span class="hljs-string">"role"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"Hello"</span>},{<span class="hljs-string">"role"</span>:<span class="hljs-string">"assistant"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"Hello there! How can I help you today?"</span>},{<span class="hljs-string">"role"</span>:<span class="hljs-string">"user"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"What model are you?"</span>}]
}

response = requests.post(url, json=payload, headers=headers)
<span class="hljs-built_in">print</span>(response.text)
</code></pre>
<p>é€šè¿‡ä¸Šä¼ å¤šä¸ªæé—®è¯ï¼Œå°±å¯ä»¥è½»æ¾å®ç°å¤šè½®å¯¹è¯ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹å›ç­”ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251122214426669120974AKFwnJd1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-2.5-pro"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1763819072</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"I am a large language model, trained by Google."</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"reasoning_content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Okay, here's how I'd approach this, thinking as a sophisticated AI:\n\nFirst, the user is directly querying my core identity: \"What model are you?\" That's a simple, straightforward question. My primary task is to provide accurate and helpful information, so I need to answer this immediately.\n\nRight off the bat, I know the answer. I *am* a large language model. That's my fundamental architecture and operational principle. I'm built on a vast network of connections and trained on a massive dataset.\n\nThen I must add the necessary context. Crucially, I have to provide the source of my training. I *was* trained by Google. That's a key identifier. It provides the user with valuable information about my origin and potential biases (though I'm trained to mitigate them).\n\nNow I must construct the response. My goal is to be factual, concise, and understandable.\n\nThe synthesized response is something like: \"I am a large language model, trained by Google.\"\n\nI have to assess the output: Does it meet the criteria? It's clear. It states what I am, it includes a critical piece of information on my origins, and it avoids jargon. No misleading promises.\n\nFinal verification: Does it actually answer the question? Yes. Is the information correct and truthful? Yes. Is it concise? Absolutely. Is the tone appropriate for any user? Yes. And, finally, this is the standard, approved response. Excellent.\n"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stop"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"prompt_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">16</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"completion_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">265</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"total_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">281</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"prompt_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"cached_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">16</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"image_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"completion_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"reasoning_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">254</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"input_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"output_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"input_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"claude_cache_creation_5_m_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"claude_cache_creation_1_h_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>choices</code> åŒ…å«çš„ä¿¡æ¯ä¸åŸºæœ¬ä½¿ç”¨çš„å†…å®¹æ˜¯ä¸€è‡´çš„ï¼Œè¿™ä¸ªåŒ…å«äº† Gemini é’ˆå¯¹å¤šä¸ªå¯¹è¯è¿›è¡Œå›å¤çš„å…·ä½“å†…å®¹ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®å¤šä¸ªå¯¹è¯å†…å®¹æ¥å›ç­”å¯¹åº”çš„é—®é¢˜äº†ã€‚</p>
<h2 data-id="heading-4">Gemini-3.0 å¤šæ¨¡æ€æ¨¡å‹</h2>
<p>è¯·æ±‚æ ·ä¾‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-3.0-pro"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"messages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å›¾ç‰‡çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image_url"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"image_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://cdn.acedata.cloud/qzx2z1.png"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"stream"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ ·ä¾‹ç»“æœï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251206001815715692730UVZe38kB"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-3.0-pro"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1764951548</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¿™æ˜¯ä¸€å¼ å¹´è½»å¥³æ€§çš„æˆ·å¤–åŠèº«äººåƒç…§ç‰‡ã€‚\n\nä»¥ä¸‹æ˜¯å›¾ç‰‡çš„ä¸»è¦å†…å®¹æè¿°ï¼š\n\n*   **äººç‰©å¤–è²Œ**ï¼šç…§ç‰‡ä¸­çš„å¥³å­©ç•™ç€ä¸€å¤´ä¹Œé»‘æŸ”é¡ºçš„é•¿ç›´å‘ï¼Œäº”å®˜æ¸…ç§€ï¼Œçš®è‚¤ç™½çš™ã€‚å¥¹é¢å¸¦æ¸©æŸ”çš„å¾®ç¬‘ï¼Œç›®å…‰æ³¨è§†ç€é•œå¤´ã€‚\n*   **ç©¿ç€æ‰“æ‰®**ï¼šå¥¹ç©¿ç€ä¸€ä»¶ç±³ç™½è‰²æˆ–æµ…æè‰²çš„æ³¡æ³¡è¢–ä¸Šè¡£ï¼Œå¤–é¢æ­é…ç€é»‘è‰²çš„è¡£ç‰©ï¼ˆçœ‹èµ·æ¥åƒæ˜¯èƒŒå¸¦è£™æˆ–é©¬ç”²ï¼‰ã€‚\n*   **å…‰å½±æ°›å›´**ï¼šé˜³å…‰ä»å·¦ä¾§åæ–¹ç…§å°„è¿‡æ¥ï¼Œæ´’åœ¨å¥¹çš„å¤´å‘ä¸Šï¼Œå½¢æˆäº†ä¸€åœˆæ¸©æš–çš„é‡‘é»„è‰²å…‰æ™•ï¼Œè¥é€ å‡ºä¸€ç§æ¸…æ–°ã€å”¯ç¾çš„æ°›å›´ã€‚\n*   **èƒŒæ™¯**ï¼šèƒŒæ™¯è¢«è™šåŒ–å¤„ç†ï¼Œå¯ä»¥çœ‹å‡ºæ˜¯åœ¨æˆ·å¤–ï¼Œèº«åæ˜¯ä¸€æ¡ç©ºæ—·çš„è·¯é¢ï¼ˆæŸæ²¹è·¯ï¼‰ä»¥åŠè·¯è¾¹çš„ç»¿è‰²æ ‘æœ¨ã€‚\n\næ•´ä½“æ¥çœ‹ï¼Œè¿™å¼ ç…§ç‰‡ç»™äººä¸€ç§ç”œç¾ã€é˜³å…‰å’Œé‚»å®¶å¥³å­©çš„æ„Ÿè§‰ã€‚"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stop"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"prompt_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1092</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"completion_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1271</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"total_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2363</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"prompt_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"cached_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"image_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"completion_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"reasoning_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1072</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"input_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"output_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"input_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"claude_cache_creation_5_m_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"claude_cache_creation_1_h_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥ä¼ å¦‚è§†é¢‘çš„é“¾æ¥ï¼Œå…·ä½“çš„è¾“å…¥å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-3.0-pro"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"messages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è§†é¢‘çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ"</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"image_url"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"image_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://cdn.acedata.cloud/58yioe.mp4"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"stream"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ ·ä¾‹ç»“æœï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chatcmpl-20251206002711949677736JC9yL8AE"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gemini-3.0-pro"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"object"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"chat.completion"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"created"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1764952060</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"choices"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"index"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¿™æ®µè§†é¢‘çš„å†…å®¹å……æ»¡è¶£å‘³ï¼Œä¸»è¦å±•ç¤ºäº†ä¸€åª**æ©˜çŒ«**åœ¨é»„æ˜æ—¶åˆ†çš„ä¹¡é—´å…¬è·¯ä¸Šè‡ªä¿¡å°è·‘çš„æƒ…æ™¯ã€‚\n\nå…·ä½“ç»†èŠ‚å¦‚ä¸‹ï¼š\n\n1.  **ç”»é¢å†…å®¹**ï¼š\n    *   ä¸»è§’æ˜¯ä¸€åªæ©˜è‰²çš„è™æ–‘çŒ«ã€‚\n    *   èƒŒæ™¯æ˜¯å¤•é˜³è¥¿ä¸‹ï¼ˆæˆ–æ¸…æ™¨ï¼‰çš„æ—¶åˆ»ï¼Œå…‰çº¿é‡‘é»„æŸ”å’Œã€‚è·¯è¾¹æœ‰æœ¨è´¨æ …æ å’Œæ—·é‡ï¼Œè¿œå¤„è¿˜æœ‰ä¸€ä¸ªè¡Œäººçš„å‰ªå½±ã€‚\n    *   é•œå¤´é‡‡ç”¨äº†ä½è§’åº¦æ‹æ‘„ï¼Œæ—¶è€Œæ‹æ‘„çŒ«å’ªè¿é¢è·‘æ¥ï¼Œæ—¶è€Œæ‹æ‘„å®ƒç¦»å»çš„èƒŒå½±ï¼Œè¿˜æœ‰çŒ«å’ªé¢éƒ¨å’ŒèŠ±çº¹çš„ç‰¹å†™ã€‚\n\n2.  **å£°éŸ³ç‰¹ç‚¹ï¼ˆå…³é”®ç‚¹ï¼‰**ï¼š\n    *   è§†é¢‘çš„é…éŸ³éå¸¸æœ‰ç‰¹è‰²ã€‚è™½ç„¶ç”»é¢æ˜¯è½»ç›ˆçš„çŒ«å’ªåœ¨è·‘ï¼Œä½†é…ä¸Šçš„å£°éŸ³å´æ˜¯**æ²‰é‡ä¸”æœ‰èŠ‚å¥çš„é©¬è¹„å£°**ï¼ˆæˆ–è€…æ˜¯ç±»ä¼¼æœ¨å±/é«˜è·Ÿé‹æ•²å‡»è·¯é¢çš„å£°éŸ³ï¼‰ã€‚\n    *   è¿™ç§å£°éŸ³ä¸ç”»é¢çš„åå·®åˆ¶é€ äº†ä¸€ç§å¹½é»˜æ„Ÿï¼Œä»¿ä½›è¿™åªçŒ«å’ªæŠŠè‡ªå·±å½“æˆäº†ä¸€åŒ¹æ­£åœ¨é©°éª‹çš„éªé©¬ã€‚\n\næ€»çš„æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªåˆ©ç”¨éŸ³ç”»åå·®æ¥åˆ¶é€ èŒç‚¹å’Œç¬‘ç‚¹çš„å® ç‰©è§†é¢‘ã€‚"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"finish_reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stop"</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"usage"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"prompt_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">915</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"completion_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1423</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"total_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2338</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"prompt_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"cached_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"image_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"completion_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"text_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"audio_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"reasoning_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1162</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"input_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"output_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"input_tokens_details"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"claude_cache_creation_5_m_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"claude_cache_creation_1_h_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºæ˜¯Gemini 3.0æ¨¡å‹å¯ä»¥æ”¯æŒå¤šæ¨¡æ€çš„ç†è§£çš„ã€‚</p>
<h2 data-id="heading-5">é”™è¯¯å¤„ç†</h2>
<p>åœ¨è°ƒç”¨ API æ—¶ï¼Œå¦‚æœé‡åˆ°é”™è¯¯ï¼ŒAPI ä¼šè¿”å›ç›¸åº”çš„é”™è¯¯ä»£ç å’Œä¿¡æ¯ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><code>400 token_mismatched</code>ï¼šBad request, possibly due to missing or invalid parameters.</li>
<li><code>400 api_not_implemented</code>ï¼šBad request, possibly due to missing or invalid parameters.</li>
<li><code>401 invalid_token</code>ï¼šUnauthorized, invalid or missing authorization token.</li>
<li><code>429 too_many_requests</code>ï¼šToo many requests, you have exceeded the rate limit.</li>
<li><code>500 api_error</code>ï¼šInternal server error, something went wrong on the server.</li>
</ul>
<h3 data-id="heading-6">é”™è¯¯å“åº”ç¤ºä¾‹</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"success"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"error"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"api_error"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"fetch failed"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"trace_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2cf86e86-22a4-46e1-ac2f-032c0f2a4e89"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-7">ç»“è®º</h2>
<p>é€šè¿‡æœ¬æ–‡æ¡£ï¼Œæ‚¨å·²ç»äº†è§£äº†å¦‚ä½•ä½¿ç”¨ Gemini Chat Completion API è½»æ¾å®ç°å®˜æ–¹ Gemini çš„å¯¹è¯åŠŸèƒ½ã€‚å¸Œæœ›æœ¬æ–‡æ¡£èƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°å¯¹æ¥å’Œä½¿ç”¨è¯¥ APIã€‚å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶è”ç³»æˆ‘ä»¬çš„æŠ€æœ¯æ”¯æŒå›¢é˜Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Codex App å‘å¸ƒï¼šè‡ªåŠ¨åŒ– + Skillsï¼Œè®©å·¥ä½œäº¤ç»™æ™ºèƒ½ä½“]]></title>    <link>https://juejin.cn/post/7602553969970675766</link>    <guid>https://juejin.cn/post/7602553969970675766</guid>    <pubDate>2026-02-04T08:56:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602553969970675766" data-draft-id="7602553969970659382" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Codex App å‘å¸ƒï¼šè‡ªåŠ¨åŒ– + Skillsï¼Œè®©å·¥ä½œäº¤ç»™æ™ºèƒ½ä½“"/> <meta itemprop="keywords" content="åç«¯,ç¨‹åºå‘˜,äº§å“"/> <meta itemprop="datePublished" content="2026-02-04T08:56:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‘†çƒ‚å·¥ç¨‹å¸ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1552933235470589"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Codex App å‘å¸ƒï¼šè‡ªåŠ¨åŒ– + Skillsï¼Œè®©å·¥ä½œäº¤ç»™æ™ºèƒ½ä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1552933235470589/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‘†çƒ‚å·¥ç¨‹å¸ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:56:28.000Z" title="Wed Feb 04 2026 08:56:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘ OpenAI çš„ Codex æ›´æ–°äº†ï¼Œå¹¶ä¸”å‘å¸ƒäº† Codex åº”ç”¨ç‰ˆï¼ˆç›®å‰ä»…æ”¯æŒ mac ç”µè„‘ï¼Œ windows/linux ç‰ˆæœ¬éƒ½æ²¡æœ‰æ¨å‡ºï¼‰ã€‚</p>
<p>è¿™æ¬¡å‘å¸ƒçš„ <strong>Codex åº”ç”¨ä¸æ˜¯ IDEï¼Œä¸æ˜¯ CLIï¼Œè€Œæ˜¯ä¸€ä¸ªä»£ç†å¼ç¼–ç¨‹çš„æŒ‡æŒ¥ä¸­å¿ƒ</strong>ã€‚</p>
<p>åŒæ—¶ä¹Ÿå¼€å¯äº†ä¿ƒé”€æ´»åŠ¨ï¼Œåªè¦å®‰è£… Codex åº”ç”¨ç‰ˆå°±å¯ä»¥äº«å—ï¼š</p>
<ul>
<li>ChatGPT å…è´¹ç”¨æˆ· å’Œ Go ç”¨æˆ· å¯ä»¥è·å¾— 1ä¸ªæœˆçš„ Codex ä½¿ç”¨æƒ</li>
<li>æ‰€æœ‰ä»˜è´¹è®¡åˆ’ï¼ˆProã€ Plusã€ Businessï¼‰ç”¨æˆ·éƒ½è·å¾— Codex 2å€çš„é¢åº¦ï¼ŒæŒç»­2ä¸ªæœˆã€‚</li>
</ul>
<p>æˆ‘ç«‹é©¬ä» vscode çš„ codex è½¬ç§»åˆ° codex åº”ç”¨ï¼Œé¢åº¦ä¸ä»…å……è¶³ï¼Œ<strong>è€Œä¸” GPT-5.2-Codex å’Œ GPT-5.2 é€Ÿåº¦ä¹Ÿæå‡äº†40%ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f21a830129b46308c7755781bc9c32d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800188&amp;x-signature=6eKNPD8YupxO4NK89DGOLUjzH1w%3D" alt="" loading="lazy"/></p>
<p>å½“ç„¶è¿™æ¬¡é¢åº¦å’Œé€Ÿåº¦çš„æå‡ä¸å±€é™äº Codex åº”ç”¨ï¼Œåœ¨ Codex CLI åŒæ ·å¯ä»¥äº«å—ã€‚</p>
<h2 data-id="heading-0">é¢åº¦å’Œé€Ÿåº¦æå‡ã€Juice ä¸‹é™</h2>
<p>ä½†æ˜¯é€Ÿåº¦çš„æå‡æœ‰ç‚¹ä¸å¯¹åŠ²ï¼Œå› ä¸º Codex å…è´¹ç”¨æˆ·çš„å¢é•¿ï¼Œä¸ºäº†å¹³è¡¡è®¡ç®—èµ„æºï¼Œ<strong>æ¨ç†çš„ Juice å€¼ ä¹Ÿä¸‹é™äº†ä¸€åŠ</strong>ï¼Œä»è€Œæå‡äº† 40% çš„é€Ÿåº¦ ï¼Ÿ</p>
<p>ä¹Ÿå°±æ˜¯ Codex å¯èƒ½ä¼šæ—¶ä¸æ—¶å‡ºç°æ‡’æƒ°çš„è¡Œä¸ºï¼Œä¸ä¼šè¯»å–æ›´å¤šçš„æ–‡ä»¶å†…å®¹ï¼Œè€Œæ˜¯å¿«é€Ÿçš„è¾“å‡ºå†™å®Œä»£ç äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a13105dbb484f8fa64e11514fdc7374~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800188&amp;x-signature=Y1WXjZKAXDibKSZd0JVOPx4RMMU%3D" alt="" loading="lazy"/></p>
<p>å…è´¹ç‰ˆ å’Œ Go ç‰ˆæœ¬çš„ Juice å€¼ä¸€ç›´å¾ˆä½çš„ï¼Œ<strong>å¦‚æœä½ éœ€è¦ä½“éªŒå¥½ä¸€äº›çš„ Codex ç¼–ç¨‹ï¼Œå»ºè®®é€‰æ‹©æ¨¡å‹ GPT-5.2-Codexï¼Œæ¨ç†é€‰æ‹© è¶…é«˜ï¼ˆExtra Highï¼‰</strong>ï¼Œä»˜è´¹ç”¨æˆ·çš„é¢åº¦å·²ç»ç¿»å€äº†ï¼Œé€‰æ‹©è¶…é«˜æ¨¡å¼å¯ä»¥ä½¿ç”¨ä¸€æ®µæ—¶é—´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38d5f031e7594e5ca55cfd67dbba4175~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800188&amp;x-signature=TKRcVsFlLy6cQSYd4bh9YJdYQPY%3D" alt="" loading="lazy"/></p>
<p>å¯¹äº†ï¼Œå¦‚æœä½ ä¸çŸ¥é“å›½å†…å¦‚ä½•å‡çº§è‡ªå·±çš„ ChatGPT çš„è¯ï¼Œå¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ªä¸€é”®å‡çº§ç³»ç»Ÿ:</p>
<blockquote>
<p>GPT å‡çº§ç³»ç»Ÿï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fupchatgpt.com" target="_blank" title="https://upchatgpt.com" ref="nofollow noopener noreferrer">upchatgpt.com</a></strong></p>
</blockquote>
<p>ç°åœ¨å¤–é¢çš„ GPT å‡çº§é±¼é¾™æ··æ‚ï¼Œå¤ªå¤šå˜¿å……å’Œ0å…ƒè´­äº†ï¼Œå¾ˆå®¹æ˜“å°±å¯¼è‡´ä½ çš„è´¦å·è¢«å°äº†ã€‚</p>
<p>æ‰¾ä¸€ä¸ªæ­£è§„æ¸ é“ï¼Œç¨³å®šå……å€¼çš„å¹¶ä¸ç®€å•äº†ï¼Œè®¤å‡†å½“å‰è¿™ä¸ªç³»ç»Ÿï¼Œå·²ç»ç¨³å®šè¿è¡Œäº†å¥½é•¿æ—¶é—´ã€‚</p>
<h2 data-id="heading-1">Codex åº”ç”¨çš„æ–°åŠŸèƒ½ï¼š</h2>
<ul>
<li>å†…ç½®å·¥ä½œæ ‘ï¼ˆworktreeï¼‰ï¼šä½¿å¤šä¸ªä»£ç†èƒ½å¤Ÿæ— å†²çªåœ°å·¥ä½œ</li>
<li>è®¡åˆ’æ¨¡å¼ï¼šè¾“å…¥ /plan ä¸ Codex è¿›è¡Œæ¥å›äº¤æµ</li>
<li>é£æ ¼ï¼šå¯ä»¥é€‰æ‹©é€‚åˆä½ é£æ ¼çš„äº’åŠ¨æ–¹å¼</li>
<li>Skillsï¼šè¿æ¥ä½ å·²ä½¿ç”¨çš„skillï¼Œå¹¶è¶…è¶Šç¼–å†™ä»£ç </li>
<li>è‡ªåŠ¨åŒ–ï¼šåœ¨åå°å§”æ´¾é‡å¤çš„å‘¨æœŸæ€§ä»»åŠ¡</li>
</ul>
<p>åœ¨ Codex çš„åº”ç”¨é‡Œï¼Œä½ å¯ä»¥åˆ›å»º<strong>è‡ªåŠ¨åŒ–ä»»åŠ¡</strong>ã€‚å…ˆæŠŠè§„åˆ™å’Œç›®æ ‡è®¾ç½®å¥½ï¼Œä¹‹åå¾ˆå¤šäº‹æƒ… Codex å¯ä»¥<strong>ä¸ç”¨ä½ æ¯æ¬¡éƒ½å¼€å£æé†’</strong>ï¼Œè‡ªå·±æŒ‰æ—¶/æŒ‰æ¡ä»¶å»æ‰§è¡Œã€‚</p>
<p>å®ƒç‰¹åˆ«é€‚åˆåšä¸€äº›â€œæ¯å¤©éƒ½è¦åšã€åˆå¾ˆè€—ç²¾åŠ›â€çš„å·¥ç¨‹æ‚æ´»ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>é—®é¢˜åˆ†æµï¼šæ–°æ¥çš„ issue / å·¥å•å…ˆå¸®ä½ åˆ†ç±»ã€æ‰“æ ‡ç­¾ã€åˆ†é…è´Ÿè´£äºº</li>
<li>å‘Šè­¦ç›‘æ§ï¼šçº¿ä¸Šä¸€æŠ¥é”™æˆ–æŒ‡æ ‡å¼‚å¸¸ï¼Œè‡ªåŠ¨é€šçŸ¥åˆ°å¯¹åº”ç¾¤/è´Ÿè´£äººï¼Œå¹¶é™„ä¸Šæ’æŸ¥çº¿ç´¢</li>
<li>CI/CDï¼šä»£ç ä¸€åˆå¹¶å°±è‡ªåŠ¨è·‘æµ‹è¯•ã€æ„å»ºã€å‘å¸ƒï¼Œå¤±è´¥äº†è¿˜èƒ½æŠŠåŸå› æ€»ç»“å‡ºæ¥</li>
</ul>
<p><strong>æŠŠé‡å¤æ€§çš„æ—¥å¸¸ç»´æŠ¤äº¤ç»™ Codexï¼Œä½ æŠŠæ³¨æ„åŠ›ç•™ç»™çœŸæ­£çš„å¼€å‘å’Œè®¾è®¡å†³ç­–ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/03eecd6b15d44aa2a17042cb14b2bf71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800188&amp;x-signature=8SMGlE5HshPAxfdBa8UmKtI8oN0%3D" alt="" loading="lazy"/></p>
<p>ä½ è¿˜å¯ä»¥ç»™ Codex åˆ›å»ºå„ç§ Skillï¼ˆæŠ€èƒ½ï¼‰ã€‚ <strong>è®© Codex ä¸åªâ€œå†™ä»£ç â€ï¼Œè€Œæ˜¯â€œå‚ä¸æŠŠäº§å“åšå‡ºæ¥â€ã€‚</strong></p>
<p>æŠŠå›¢é˜Ÿå¸¸ç”¨çš„å·¥ä½œæ–¹å¼ã€æ ‡å‡†æµç¨‹ã€è¾“å‡ºæ ¼å¼ï¼Œåšæˆä¸€å¥—â€œå¯å¤ç”¨èƒ½åŠ›â€ï¼Œè®©å®ƒæ¯æ¬¡éƒ½æŒ‰ä½ ä»¬çš„ä¹ æƒ¯æ¥åšäº‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f18737d568564560a51010ac4633a5b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800188&amp;x-signature=N0TSnEpg%2BMh5IexHBfAEzaDqQaM%3D" alt="" loading="lazy"/></p>
<p>å¹³æ—¶ç¼–ç¨‹æ—¶ï¼Œç»å¸¸ç¢°åˆ° Codex è¯¢é—®ä½ çš„æƒé™æ—¶ï¼Œä½ è§‰å¾—éº»çƒ¦çš„è¯ï¼Œå¯ä»¥å¼€å¯ <code>full access</code> ç»™ä»–å…¨éƒ¨è®¿é—®çš„æƒé™ï¼Œåç»­å°±ä¼šä¸€ç›´è¿è¡Œç¼–ç ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95ac1b0e7f354934b0d43423f21cbc7c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pGG54OC5bel56iL5biI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770800188&amp;x-signature=UgJYGrFDdmxG50%2BiFS6gzu5MpNY%3D" alt="" loading="lazy"/></p>
<p>Codex åŸºäºä¸€ä¸ªç®€å•çš„å‰æï¼šæ‰€æœ‰äº‹ç‰©éƒ½ç”±ä»£ç æ§åˆ¶ã€‚æ™ºèƒ½ä½“åœ¨æ¨ç†å’Œç”Ÿæˆä»£ç æ–¹é¢è¶Šå‡ºè‰²ï¼Œå®ƒåœ¨æ‰€æœ‰å½¢å¼çš„æŠ€æœ¯å’ŒçŸ¥è¯†å‹å·¥ä½œä¸­å°±è¶Šæœ‰èƒ½åŠ›ã€‚</p>
<p>Codex æƒ³æŠŠâ€œå¾ˆèªæ˜ä½†ä¸å¥½ç”¨çš„æ¨¡å‹â€ï¼Œå˜æˆâ€œä½ èƒ½è½»æ¾æŒ‡æŒ¥ã€å¯ç›‘ç£ã€èƒ½ç¨³å®šäº§å‡ºå¹¶æŠŠä»£ç ä¸€è·¯æ¨åˆ°äº¤ä»˜â€çš„å·¥ä½œå‹æ™ºèƒ½ä½“ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº‘åŸç”Ÿç½‘ç»œåŸºçŸ³ï¼šOSIä¸TCP/IPæ¨¡å‹åœ¨KubernetesåŠService Meshä¸­çš„å®è·µ]]></title>    <link>https://juejin.cn/post/7602776926326882358</link>    <guid>https://juejin.cn/post/7602776926326882358</guid>    <pubDate>2026-02-04T08:58:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602776926326882358" data-draft-id="7602543146237329451" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº‘åŸç”Ÿç½‘ç»œåŸºçŸ³ï¼šOSIä¸TCP/IPæ¨¡å‹åœ¨KubernetesåŠService Meshä¸­çš„å®è·µ"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2026-02-04T08:58:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº‘åŸç”Ÿç½‘ç»œåŸºçŸ³ï¼šOSIä¸TCP/IPæ¨¡å‹åœ¨KubernetesåŠService Meshä¸­çš„å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T08:58:46.000Z" title="Wed Feb 04 2026 08:58:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ç½‘ç»œæ¨¡å‹åŸºç¡€ï¼šä»ç†è®ºåˆ°å®è·µ</h2>
<h3 data-id="heading-1">1.1 OSIä¸ƒå±‚æ¨¡å‹ï¼šç†è®ºæ¶æ„çš„å·…å³°</h3>
<p>OSIï¼ˆå¼€æ”¾ç³»ç»Ÿäº’è¿ï¼‰ä¸ƒå±‚æ¨¡å‹æ˜¯ç½‘ç»œé€šä¿¡çš„ç»å…¸ç†è®ºæ¡†æ¶ï¼Œå…¶åˆ†å±‚è®¾è®¡å°†å¤æ‚çš„ç½‘ç»œåŠŸèƒ½æ¨¡å—åŒ–ï¼Œä¸ºç°ä»£ç½‘ç»œåè®®æ ˆå¥ å®šäº†åŸºç¡€ã€‚å„å±‚æ ¸å¿ƒåŠŸèƒ½å¦‚ä¸‹ï¼š</p>





















































<table><thead><tr><th>å±‚çº§</th><th>åç§°</th><th>æ ¸å¿ƒåŠŸèƒ½</th><th>å…¸å‹åè®®/è®¾å¤‡</th></tr></thead><tbody><tr><td>7</td><td>åº”ç”¨å±‚</td><td>æä¾›ç”¨æˆ·æ¥å£ï¼ˆHTTP/SFTPç­‰ï¼‰</td><td>HTTPã€SMTPã€æµè§ˆå™¨</td></tr><tr><td>6</td><td>è¡¨ç¤ºå±‚</td><td>æ•°æ®æ ¼å¼è½¬æ¢ä¸åŠ å¯†ï¼ˆSSL/TLSï¼‰</td><td>JSON/XMLè½¬æ¢ã€RSAåŠ å¯†</td></tr><tr><td>5</td><td>ä¼šè¯å±‚</td><td>å»ºç«‹/ç®¡ç†/ç»ˆæ­¢ä¼šè¯ï¼ˆRPCï¼‰</td><td>NetBIOSã€gRPC</td></tr><tr><td>4</td><td>ä¼ è¾“å±‚</td><td>ç«¯åˆ°ç«¯å¯é ä¼ è¾“ï¼ˆTCP/UDPï¼‰</td><td>TCPä¸‰æ¬¡æ¡æ‰‹ã€QUICåè®®</td></tr><tr><td>3</td><td>ç½‘ç»œå±‚</td><td>è·¨å­ç½‘è·¯ç”±ï¼ˆIP/ICMPï¼‰</td><td>IPåœ°å€ã€è·¯ç”±å™¨</td></tr><tr><td>2</td><td>æ•°æ®é“¾è·¯å±‚</td><td>ç‰©ç†å¯»å€ä¸å·®é”™æ§åˆ¶ï¼ˆMACï¼‰</td><td>Ethernetã€Wi-Fi</td></tr><tr><td>1</td><td>ç‰©ç†å±‚</td><td>æ¯”ç‰¹æµä¼ è¾“ï¼ˆRJ45/å…‰çº¤ï¼‰</td><td>ç½‘å¡ã€äº¤æ¢æœº</td></tr></tbody></table>
<p><strong>æŠ€æœ¯ç‰¹æ€§</strong>ï¼šé€šè¿‡ä¸¥æ ¼çš„å±‚é—´æ¥å£å®šä¹‰ï¼ˆå¦‚TCP/IPä¸OSIçš„å¯¹åº”å…³ç³»ï¼‰ï¼Œå®ç°åè®®æ ˆçš„æ¨¡å—åŒ–å¼€å‘ã€‚ä¾‹å¦‚ï¼ŒHTTPåè®®ï¼ˆåº”ç”¨å±‚ï¼‰æ— éœ€å…³å¿ƒåº•å±‚æ˜¯Ethernetè¿˜æ˜¯Wi-Fiï¼ˆç‰©ç†å±‚ï¼‰ã€‚</p>
<h3 data-id="heading-2">1.2 TCP/IPå››å±‚æ¨¡å‹ï¼šäº’è”ç½‘çš„å®è·µå…¸èŒƒ</h3>
<p>TCP/IPæ¨¡å‹ä½œä¸ºäº’è”ç½‘äº‹å®æ ‡å‡†ï¼Œå°†OSIçš„ä¸ƒå±‚ç®€åŒ–ä¸ºå››å±‚ï¼Œæ›´è´´åˆå®é™…éƒ¨ç½²éœ€æ±‚ï¼š</p>



































<table><thead><tr><th>å±‚çº§</th><th>åç§°</th><th>æ ¸å¿ƒåŠŸèƒ½</th><th>å…¸å‹åè®®</th></tr></thead><tbody><tr><td>4</td><td>åº”ç”¨å±‚</td><td>ç”¨æˆ·æœåŠ¡æ¥å£</td><td>HTTP/FTP/SSH</td></tr><tr><td>3</td><td>ä¼ è¾“å±‚</td><td>ç«¯åˆ°ç«¯é€šä¿¡</td><td>TCP/UDP</td></tr><tr><td>2</td><td>ç½‘ç»œå±‚</td><td>è·¨ç½‘ç»œè·¯ç”±</td><td>IP/ICMP</td></tr><tr><td>1</td><td>ç½‘ç»œæ¥å£å±‚</td><td>ç‰©ç†ä¼ è¾“</td><td>Ethernet/ARP</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><strong>ç®€åŒ–è®¾è®¡</strong>ï¼šåˆå¹¶ä¼šè¯å±‚/è¡¨ç¤ºå±‚åˆ°åº”ç”¨å±‚ï¼Œé™ä½å¼€å‘å¤æ‚åº¦</li>
<li><strong>é«˜æ•ˆè·¯ç”±</strong>ï¼šIPåè®®å®ç°æ— è¿æ¥çš„æ•°æ®åŒ…ä¼ è¾“ï¼Œé€‚åº”åŠ¨æ€ç½‘ç»œç¯å¢ƒ</li>
<li><strong>ç”Ÿæ€å…¼å®¹</strong>ï¼šæ”¯æ’‘Kubernetesç­‰äº‘åŸç”Ÿå¹³å°çš„ç½‘ç»œæ¶æ„</li>
</ul>
<hr/>
<h2 data-id="heading-3">äºŒã€äº‘åŸç”Ÿæ¶æ„ä¸­çš„ç½‘ç»œæ¨¡å‹å®è·µ</h2>
<h3 data-id="heading-4">2.1 Kubernetesç½‘ç»œæ¨¡å‹è§£æ</h3>
<p>Kubernetesçš„ç½‘ç»œè®¾è®¡æ·±åº¦èåˆTCP/IPæ¨¡å‹ï¼ŒåŒæ—¶å€Ÿé‰´OSIçš„åˆ†å±‚æ€æƒ³ï¼š</p>
<h4 data-id="heading-5">2.1.1 ç½‘ç»œæ¥å£å±‚ï¼ˆCNIæ’ä»¶ï¼‰</h4>
<ul>
<li><strong>åŠŸèƒ½</strong>ï¼šå®ç°Podé—´ç‰©ç†é€šä¿¡ï¼Œæ”¯æŒFlannelã€Calicoç­‰æ’ä»¶</li>
<li><strong>æŠ€æœ¯å®ç°</strong>ï¼šé€šè¿‡VXLANéš§é“ï¼ˆL2 over L3ï¼‰æˆ–IPIPå°è£…å®ç°è·¨èŠ‚ç‚¹é€šä¿¡</li>
<li><strong>æ¡ˆä¾‹</strong>ï¼šCalicoä½¿ç”¨BGPåè®®å®ç°åŸºäºIPçš„è·¯ç”±ï¼Œç¬¦åˆTCP/IPç½‘ç»œå±‚å®šä¹‰</li>
</ul>
<h4 data-id="heading-6">2.1.2 ç½‘ç»œå±‚ï¼ˆService/Ingressï¼‰</h4>
<ul>
<li>
<p><strong>Serviceæœºåˆ¶</strong>ï¼š</p>
<ul>
<li>ClusterIPï¼šé€šè¿‡iptableså®ç°L4è´Ÿè½½å‡è¡¡</li>
<li>NodePortï¼šåœ¨èŠ‚ç‚¹ç«¯å£æš´éœ²æœåŠ¡ï¼ˆTCP/UDPï¼‰</li>
</ul>
</li>
<li>
<p><strong>Ingressæ§åˆ¶å™¨</strong>ï¼š</p>
<ul>
<li>åŸºäºHTTP/HTTPSçš„ä¸ƒå±‚è·¯ç”±ï¼ˆå¦‚Nginx Ingressï¼‰</li>
<li>æ”¯æŒè·¯å¾„é‡å†™ã€TLSç»ˆæ­¢ç­‰L7åŠŸèƒ½</li>
</ul>
</li>
</ul>
<h4 data-id="heading-7">2.1.3 ä¼ è¾“å±‚ï¼ˆkube-proxyï¼‰</h4>
<ul>
<li>
<p><strong>å®ç°æ¨¡å¼</strong>ï¼š</p>
<ul>
<li>iptablesæ¨¡å¼ï¼šåŸºäºL4è§„åˆ™è½¬å‘æµé‡</li>
<li>IPVSæ¨¡å¼ï¼šä½¿ç”¨Linuxå†…æ ¸çš„L4è´Ÿè½½å‡è¡¡ç®—æ³•</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½å¯¹æ¯”</strong>ï¼šIPVSåœ¨è§„åˆ™æ•°é‡è¶…è¿‡10Kæ—¶æ€§èƒ½ä¼˜äºiptables</p>
</li>
</ul>
<h3 data-id="heading-8">2.2 Service Meshçš„ç½‘ç»œåˆ†å±‚å®è·µ</h3>
<p>ä»¥Istioä¸ºä¾‹ï¼Œå…¶ç½‘ç»œæ¶æ„ä½“ç°OSI/TCP/IPæ¨¡å‹çš„æ·±åº¦èåˆï¼š</p>
<h4 data-id="heading-9">2.2.1 L4å±‚åŸºç¡€é€šä¿¡</h4>
<ul>
<li>
<p><strong>Envoy Sidecar</strong>ï¼š</p>
<ul>
<li>ç›‘å¬Podçš„80/443ç«¯å£ï¼Œå¤„ç†TCPè¿æ¥</li>
<li>å®ç°åŸºç¡€è´Ÿè½½å‡è¡¡ï¼ˆè½®è¯¢/æœ€å°‘è¿æ¥ï¼‰</li>
</ul>
</li>
<li>
<p><strong>Pilotç»„ä»¶</strong>ï¼š</p>
<ul>
<li>é€šè¿‡xDSåè®®ä¸‹å‘L4è·¯ç”±è§„åˆ™åˆ°Sidecar</li>
</ul>
</li>
</ul>
<h4 data-id="heading-10">2.2.2 L7å±‚æ™ºèƒ½æ§åˆ¶</h4>
<ul>
<li>
<p><strong>HTTPè·¯ç”±</strong>ï¼š</p>
<ul>
<li>åŸºäºè·¯å¾„/Headerçš„æµé‡æ‹†åˆ†ï¼ˆå¦‚v1/v2ç‰ˆæœ¬ç°åº¦ï¼‰</li>
<li>æ”¯æŒgRPCçš„æµå¼ä¼ è¾“æ§åˆ¶</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨å±‚</strong>ï¼š</p>
<ul>
<li>mTLSåŒå‘è®¤è¯ï¼ˆL7åŠ å¯†ï¼‰</li>
<li>RBACç»†ç²’åº¦è®¿é—®æ§åˆ¶</li>
</ul>
</li>
<li>
<p><strong>å¯è§‚æµ‹æ€§</strong>ï¼š</p>
<ul>
<li>åˆ†å¸ƒå¼è¿½è¸ªï¼ˆJaegeré›†æˆï¼‰</li>
<li>æŒ‡æ ‡é‡‡é›†ï¼ˆPrometheus Exporterï¼‰</li>
</ul>
</li>
</ul>
<h4 data-id="heading-11">2.2.3 ç½‘ç»œæ¨¡å‹å¯¹æ¯”</h4>






























<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ ç»ŸTCP/IP</th><th>Service Mesh</th></tr></thead><tbody><tr><td>è·¯ç”±ç²’åº¦</td><td>åŸºäºIP/ç«¯å£</td><td>åŸºäºHTTPè¯­ä¹‰</td></tr><tr><td>å®‰å…¨æ§åˆ¶</td><td>é˜²ç«å¢™/IPç™½åå•</td><td>mTLS+JWTè®¤è¯</td></tr><tr><td>å¯è§‚æµ‹æ€§</td><td>åŸºç¡€æµé‡ç»Ÿè®¡</td><td>å…¨é“¾è·¯è¿½è¸ª</td></tr><tr><td>åè®®æ”¯æŒ</td><td>é€šç”¨TCP/UDP</td><td>HTTP/gRPC/WebSocket</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-12">ä¸‰ã€è¡Œä¸šè½åœ°æ¡ˆä¾‹åˆ†æ</h2>
<h3 data-id="heading-13">3.1 é‡‘èè¡Œä¸šï¼šé«˜å¯é é€šä¿¡ä¿éšœ</h3>
<p><strong>åœºæ™¯</strong>ï¼šæŸé“¶è¡Œæ ¸å¿ƒäº¤æ˜“ç³»ç»Ÿå¾®æœåŠ¡åŒ–æ”¹é€ </p>
<p><strong>æŠ€æœ¯æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>
<p><strong>ç½‘ç»œå±‚</strong>ï¼šä½¿ç”¨Calicoå®ç°Podé—´IPSecåŠ å¯†ï¼ˆç½‘ç»œå±‚å®‰å…¨ï¼‰</p>
</li>
<li>
<p><strong>ä¼ è¾“å±‚</strong>ï¼šIstioçš„TCPé‡è¯•ç­–ç•¥ä¿éšœæ•°æ®åº“è¿æ¥å¯é æ€§</p>
</li>
<li>
<p><strong>åº”ç”¨å±‚</strong>ï¼šåŸºäºHTTP/2çš„gRPCæœåŠ¡é—´é€šä¿¡ï¼ˆL7ä¼˜åŒ–ï¼‰</p>
<p><strong>æˆæ•ˆ</strong>ï¼šæ•…éšœæ¢å¤æ—¶é—´ä»å°æ—¶çº§é™è‡³åˆ†é’Ÿçº§ï¼Œååé‡æå‡300%</p>
</li>
</ul>
<h3 data-id="heading-14">3.2 ç”µå•†å¤§ä¿ƒï¼šæµé‡ç²¾ç»†åŒ–æ²»ç†</h3>
<p><strong>åœºæ™¯</strong>ï¼šåŒ11æœŸé—´è®¢å•æœåŠ¡æµé‡æ´ªå³°åº”å¯¹</p>
<p><strong>æŠ€æœ¯æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>
<p><strong>L4å±‚</strong>ï¼šIPVSæ¨¡å¼å¤„ç†åƒä¸‡çº§TCPè¿æ¥</p>
</li>
<li>
<p><strong>L7å±‚</strong>ï¼š</p>
<ul>
<li>æŒ‰ç”¨æˆ·IDå“ˆå¸Œå®ç°ä¼šè¯ç²˜æ»</li>
<li>åŠ¨æ€è°ƒæ•´æƒé‡å®ç°é‡‘ä¸é›€å‘å¸ƒ</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨å±‚</strong>ï¼šJWTä»¤ç‰Œæ ¡éªŒ+é€Ÿç‡é™åˆ¶</p>
<p><strong>æˆæ•ˆ</strong>ï¼šæ ¸å¿ƒæ¥å£é”™è¯¯ç‡æ§åˆ¶åœ¨0.01%ä»¥ä¸‹ï¼Œèµ„æºåˆ©ç”¨ç‡æå‡60%</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-15">å››ã€æŠ€æœ¯æ¼”è¿›ä¸æœªæ¥è¶‹åŠ¿</h2>
<h3 data-id="heading-16">4.1 eBPFå¯¹ç½‘ç»œæ¨¡å‹çš„é©æ–°</h3>
<ul>
<li><strong>L4å¢å¼º</strong>ï¼šCiliumåŸºäºeBPFå®ç°L4ç­–ç•¥ï¼ˆå¦‚ç«¯å£çº§è®¿é—®æ§åˆ¶ï¼‰</li>
<li><strong>L7çªç ´</strong>ï¼šç›´æ¥åœ¨å†…æ ¸æ€å¤„ç†HTTPå¤´ä¿®æ”¹ï¼Œç»•è¿‡ç”¨æˆ·æ€ä»£ç†</li>
<li><strong>æ€§èƒ½ä¼˜åŠ¿</strong>ï¼šç½‘ç»œå»¶è¿Ÿé™ä½40%ï¼ŒCPUå¼€é”€å‡å°‘70%</li>
</ul>
<h3 data-id="heading-17">4.2 æ¨¡å‹èåˆæ–°æ–¹å‘</h3>
<ul>
<li>
<p><strong>æ··åˆæ¨¡å‹æ¶æ„</strong>ï¼š</p>
<ul>
<li>åº•å±‚ä½¿ç”¨TCP/IPä¿è¯å…¼å®¹æ€§</li>
<li>ä¸­é—´å±‚æ³¨å…¥OSIä¼šè¯ç®¡ç†èƒ½åŠ›</li>
</ul>
</li>
<li>
<p><strong>AIèµ‹èƒ½</strong>ï¼š</p>
<ul>
<li>åŸºäºL7æµé‡åˆ†æçš„æ™ºèƒ½è·¯ç”±å†³ç­–</li>
<li>å¼‚å¸¸æµé‡è‡ªåŠ¨éš”ç¦»ï¼ˆç»“åˆL2-L7å¤šç»´åº¦ç‰¹å¾ï¼‰</li>
</ul>
</li>
</ul>
<hr/>
<h2 data-id="heading-18">äº”ã€æ€»ç»“ï¼šåˆ†å±‚æ¨¡å‹çš„äº‘åŸç”Ÿä»·å€¼</h2>
<p>OSIä¸TCP/IPæ¨¡å‹ä½œä¸ºç½‘ç»œé€šä¿¡çš„åŸºçŸ³ï¼Œåœ¨äº‘åŸç”Ÿæ—¶ä»£å±•ç°å‡ºæ–°çš„ç”Ÿå‘½åŠ›ï¼š</p>
<ol>
<li><strong>è§£è€¦å¤æ‚æ€§</strong>ï¼šå°†ç½‘ç»œåŠŸèƒ½æ¨¡å—åŒ–ï¼Œä½¿Kubernetesèƒ½ä¸“æ³¨å®¹å™¨ç¼–æ’</li>
<li><strong>å¢å¼ºå¯æ‰©å±•æ€§</strong>ï¼šService Meshåœ¨L7å±‚çš„å¢å¼ºèƒ½åŠ›è¿œè¶…ä¼ ç»Ÿè´Ÿè½½å‡è¡¡</li>
<li><strong>æå‡å®‰å…¨æ€§</strong>ï¼šä»L2çš„MACè¿‡æ»¤åˆ°L7çš„mTLSï¼Œæ„å»ºçºµæ·±é˜²å¾¡ä½“ç³»</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS-æ‰‹å†™ç³»åˆ—ï¼šPromise.all ä¸ Promise.race]]></title>    <link>https://juejin.cn/post/7602811649125449779</link>    <guid>https://juejin.cn/post/7602811649125449779</guid>    <pubDate>2026-02-04T09:00:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602811649125449779" data-draft-id="7602842876255387694" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JS-æ‰‹å†™ç³»åˆ—ï¼šPromise.all ä¸ Promise.race"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-04T09:00:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JS-æ‰‹å†™ç³»åˆ—ï¼šPromise.all ä¸ Promise.race
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T09:00:54.000Z" title="Wed Feb 04 2026 09:00:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨å¤„ç†å¹¶å‘è¯·æ±‚æ—¶ï¼Œ<code>Promise.all</code> å’Œ <code>Promise.race</code> æ˜¯æˆ‘ä»¬çš„å¾—åŠ›åŠ©æ‰‹ã€‚ç†è§£å®ƒä»¬çš„åº•å±‚å®ç°ï¼Œä¸ä»…èƒ½å¸®æˆ‘ä»¬åº”å¯¹é¢è¯•ï¼Œæ›´èƒ½è®©æˆ‘ä»¬åœ¨å¤æ‚çš„å¼‚æ­¥åœºæ™¯ä¸­æ¸¸åˆƒæœ‰ä½™ã€‚æœ¬æ–‡å°†å¸¦ä½ ä»åŸç†å‡ºå‘ï¼Œæ‰‹å†™è¿™ä¸¤ä¸ªæ ¸å¿ƒæ–¹æ³•çš„ TypeScript ç‰ˆæœ¬ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ æ‰‹å†™ Promise.all</h2>
<h3 data-id="heading-2">1. æ ¸å¿ƒä½œç”¨ä¸é€»è¾‘</h3>
<p><code>Promise.all</code> æ¥æ”¶ä¸€ä¸ª Promise æ•°ç»„ï¼Œå¹¶è¿”å›ä¸€ä¸ªå…¨æ–°çš„ Promiseã€‚</p>
<ul>
<li><strong>æˆåŠŸæ¡ä»¶</strong>ï¼šåªæœ‰å½“æ‰€æœ‰å­ Promise éƒ½å˜ä¸º <code>fulfilled</code> æ—¶ï¼Œå®ƒæ‰è¿”å›æ‰€æœ‰ç»“æœç»„æˆçš„æ•°ç»„ã€‚</li>
<li><strong>å¤±è´¥æ¡ä»¶</strong>ï¼šåªè¦æœ‰ä¸€ä¸ªå­ Promise å˜ä¸º <code>rejected</code>ï¼Œå®ƒå°±ç«‹å³è¿”å›è¯¥å¤±è´¥åŸå› ã€‚</li>
</ul>
<h3 data-id="heading-3">2. æ ¸å¿ƒæ€è·¯</h3>
<ol>
<li><strong>å‚æ•°å¤„ç†</strong>ï¼šéœ€è¦å°†è¾“å…¥å‚æ•°è½¬ä¸ºçœŸæ­£çš„æ•°ç»„ï¼Œå¹¶å¤„ç†é Promise ç±»å‹çš„æ•°ç»„æˆå‘˜ã€‚</li>
<li><strong>é¡ºåºä¿è¯</strong>ï¼š<strong>å…³é”®ï¼</strong> ç”±äºå¼‚æ­¥æ‰§è¡Œæ—¶é—´ä¸åŒï¼Œç›´æ¥ <code>push</code> ç»“æœä¼šå¯¼è‡´é¡ºåºé”™ä¹±ã€‚å¿…é¡»é€šè¿‡ç´¢å¼• <code>i</code> æ¥ç²¾ç¡®å­˜æ”¾ç»“æœã€‚</li>
<li><strong>è®¡æ•°å™¨</strong>ï¼šåˆ¤æ–­ <code>result.length</code>æ˜¯å¦ç­‰äºæ•°ç»„é•¿åº¦ï¼Œä»è€Œç¡®å®šæ‰€æœ‰ç»“æœæ˜¯å¦å·²è¿”å›ã€‚</li>
</ol>
<h3 data-id="heading-4">3.  å®ç°</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript">  <span class="hljs-keyword">function</span> <span class="hljs-title function_">PromiseAll</span>(<span class="hljs-params">arr</span>) {
    <span class="hljs-keyword">const</span> promises = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(arr);
    <span class="hljs-keyword">const</span> result = [];
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, rejected</span>) =&gt;</span> {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; promises.<span class="hljs-property">length</span>; i++) {
        promises[i]
          .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
            result[i] = res;
            <span class="hljs-keyword">if</span> (result.<span class="hljs-property">length</span> === promises.<span class="hljs-property">length</span>) {
              <span class="hljs-title function_">resolve</span>(result);
            }
          })
          .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
            <span class="hljs-title function_">rejected</span>(err);
          });
      }
    });
  }
  <span class="hljs-keyword">const</span> promise1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">resolve</span>(<span class="hljs-number">1000</span>);
    }, <span class="hljs-number">1000</span>);
  });
  <span class="hljs-keyword">const</span> promise2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">resolve</span>(<span class="hljs-number">200</span>);
    }, <span class="hljs-number">200</span>);
  });
  <span class="hljs-keyword">const</span> promise3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">reject</span>(<span class="hljs-number">300</span>);
    }, <span class="hljs-number">300</span>);
  });

  <span class="hljs-title class_">PromiseAll</span>([promise1, promise2, promise3])
    .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">values</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å…¨éƒ¨æˆåŠŸ'</span>, values);
    })
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">values</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœ‰ä¸€ä¸ªå¤±è´¥'</span>, values);
    });

</code></pre>
<hr/>
<h2 data-id="heading-5">äºŒã€ æ‰‹å†™ Promise.race</h2>
<h3 data-id="heading-6">1. æ ¸å¿ƒä½œç”¨ä¸é€»è¾‘</h3>
<p><code>Promise.race</code> æ¥æ”¶ä¸€ä¸ª Promise æ•°ç»„ï¼Œå…¶çŠ¶æ€å–å†³äºç¬¬ä¸€ä¸ªæ”¹å˜çŠ¶æ€ï¼ˆæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼‰çš„å®ä¾‹ã€‚</p>
<h3 data-id="heading-7">2. æ ¸å¿ƒæ€è·¯</h3>
<ol>
<li><strong>æŠ¢è·‘æœºåˆ¶</strong>ï¼šéå†æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ª Promiseï¼Œè°å…ˆè§¦å‘å›è°ƒï¼Œå°±ç”¨è°çš„ç»“æœæ¥å†³è®®è¿”å›çš„ Promiseã€‚</li>
<li><strong>çŠ¶æ€é”å®š</strong>ï¼šä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œåç»­çš„ resolve æˆ– reject éƒ½ä¼šè¢«å¿½ç•¥ï¼ˆPromise åŸç”Ÿæœºåˆ¶ä¿è¯äº†è¿™ä¸€ç‚¹ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-8">3. å®ç°</h3>
<pre><code class="hljs language-JavaScript" lang="JavaScript">  <span class="hljs-keyword">function</span> <span class="hljs-title function_">PromiseRace</span>(<span class="hljs-params">arr</span>) {
    <span class="hljs-keyword">const</span> promises = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(arr);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; promises.<span class="hljs-property">length</span>; i++) {
          <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(promises[i]).<span class="hljs-title function_">then</span>(
            <span class="hljs-comment">// ç¬¬ä¸€ä¸ªæˆåŠŸçš„ç»“æœï¼Œç›´æ¥resolveæ–°Promise</span>
            <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> <span class="hljs-title function_">resolve</span>(value),
            <span class="hljs-comment">// ç¬¬ä¸€ä¸ªå¤±è´¥çš„åŸå› ï¼Œç›´æ¥rejectæ–°Promise</span>
            <span class="hljs-function">(<span class="hljs-params">reason</span>) =&gt;</span> <span class="hljs-title function_">reject</span>(reason)
          );
        }
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-comment">// å‚æ•°æ ¡éªŒ/éå†å‡ºé”™æ—¶ï¼Œç›´æ¥rejectæ–°Promise</span>
        <span class="hljs-title function_">reject</span>(error);
      }
    });
  }
  <span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">reject</span>(<span class="hljs-number">100</span>);
    }, <span class="hljs-number">100</span>);
  });
  <span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">resolve</span>(<span class="hljs-number">500</span>);
    }, <span class="hljs-number">5000</span>);
  });
  <span class="hljs-keyword">const</span> p3 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">resolve</span>(<span class="hljs-number">1000</span>);
    }, <span class="hljs-number">1000</span>);
  });
  <span class="hljs-title class_">PromiseRace</span>([p1, p2, p3])
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç¬¬ä¸€ä¸ªæˆåŠŸçŠ¶æ€ï¼š<span class="hljs-subst">${res}</span>`</span>, <span class="hljs-string">'success'</span>))
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç¬¬ä¸€ä¸ªå¤±è´¥çŠ¶æ€ï¼š<span class="hljs-subst">${err}</span>`</span>, <span class="hljs-string">'error'</span>));
</code></pre>
<hr/>
<h2 data-id="heading-9">ä¸‰ã€ æ€»ç»“ä¸å¯¹æ¯”</h2>




















<table><thead><tr><th><strong>æ–¹æ³•</strong></th><th><strong>æ ¸å¿ƒå…³æ³¨ç‚¹</strong></th><th><strong>æ ¸å¿ƒéš¾ç‚¹</strong></th></tr></thead><tbody><tr><td><strong>Promise.all</strong></td><td>å…¨å‘˜å®Œæˆä¸”<strong>é¡ºåºä¸€è‡´</strong></td><td>éœ€ä½¿ç”¨ç´¢å¼•èµ‹å€¼è€Œé <code>push</code></td></tr><tr><td><strong>Promise.race</strong></td><td><strong>è°å¿«å¬è°çš„</strong> (Winner-takes-all)</td><td>å¤„ç†ç©ºæ•°ç»„åŠé Promise å¯¹è±¡</td></tr></tbody></table>
<h3 data-id="heading-10"/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨Kubernetesä¸­ï¼Œå¦‚ä½•æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯é€‰æ‹©L4æˆ–L7ä»£ç†ï¼Ÿæœ‰å“ªäº›å…·ä½“çš„æ€§èƒ½å¯¹æ¯”æ•°æ®ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602776926326964278</link>    <guid>https://juejin.cn/post/7602776926326964278</guid>    <pubDate>2026-02-04T09:00:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602776926326964278" data-draft-id="7602776926326931510" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨Kubernetesä¸­ï¼Œå¦‚ä½•æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯é€‰æ‹©L4æˆ–L7ä»£ç†ï¼Ÿæœ‰å“ªäº›å…·ä½“çš„æ€§èƒ½å¯¹æ¯”æ•°æ®ï¼Ÿ"/> <meta itemprop="keywords" content="Kubernetes"/> <meta itemprop="datePublished" content="2026-02-04T09:00:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITæ©˜å­çš®"/> <meta itemprop="url" content="https://juejin.cn/user/3148645291002232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨Kubernetesä¸­ï¼Œå¦‚ä½•æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯é€‰æ‹©L4æˆ–L7ä»£ç†ï¼Ÿæœ‰å“ªäº›å…·ä½“çš„æ€§èƒ½å¯¹æ¯”æ•°æ®ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3148645291002232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITæ©˜å­çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T09:00:50.000Z" title="Wed Feb 04 2026 09:00:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨Kubernetesä¸­ï¼Œ<strong>L4ï¼ˆä¼ è¾“å±‚ï¼‰</strong> ä¸<strong>L7ï¼ˆåº”ç”¨å±‚ï¼‰</strong> ä»£ç†çš„é€‰æ‹©éœ€ç»“åˆ<strong>ä¸šåŠ¡åœºæ™¯éœ€æ±‚</strong>ï¼ˆå¦‚æ˜¯å¦éœ€è¦é«˜çº§æµé‡ç®¡ç†ã€å®‰å…¨ç­–ç•¥ï¼‰ã€<strong>æ€§èƒ½è¦æ±‚</strong>ï¼ˆå¦‚å»¶è¿Ÿã€ååé‡ï¼‰åŠ<strong>è¿ç»´æˆæœ¬</strong>ï¼ˆå¦‚èµ„æºå¼€é”€ã€é…ç½®å¤æ‚åº¦ï¼‰ã€‚ä¸¤è€…çš„æ ¸å¿ƒå·®å¼‚åœ¨äº<strong>å¤„ç†å±‚çº§</strong>ï¼ˆL4åŸºäºTCP/UDPï¼ŒL7åŸºäºHTTP/GRPCç­‰åº”ç”¨åè®®ï¼‰åŠ<strong>åŠŸèƒ½è¾¹ç•Œ</strong>ï¼ˆL4è´Ÿè´£åŸºç¡€è½¬å‘ï¼ŒL7è´Ÿè´£ç²¾ç»†ç®¡ç†ï¼‰ã€‚ä»¥ä¸‹ä»<strong>é€‰æ‹©é€»è¾‘</strong>ã€<strong>æ€§èƒ½å¯¹æ¯”</strong>ã€<strong>å®é™…æ¡ˆä¾‹</strong>ä¸‰æ–¹é¢å±•å¼€è¯´æ˜ï¼š</p>
<h3 data-id="heading-0"><strong>ä¸€ã€L4ä¸L7ä»£ç†çš„æ ¸å¿ƒå·®å¼‚</strong></h3>
<p>åœ¨Kubernetesä¸­ï¼ŒL4ä¸L7ä»£ç†çš„å®šä½åŠåŠŸèƒ½å·®å¼‚æ˜¾è‘—ï¼Œéœ€å…ˆæ˜ç¡®å…¶è¾¹ç•Œï¼š</p>
<ul>
<li><strong>L4ä»£ç†</strong>ï¼šå·¥ä½œäº<strong>ä¼ è¾“å±‚</strong>ï¼ˆTCP/UDPï¼‰ï¼Œä»…å¤„ç†<strong>è¿æ¥çº§</strong>æµé‡è½¬å‘ï¼Œä¸è§£æåº”ç”¨å±‚å†…å®¹ï¼ˆå¦‚HTTP URLã€Headerï¼‰ã€‚å…¶æ ¸å¿ƒåŠŸèƒ½æ˜¯<strong>è´Ÿè½½å‡è¡¡</strong>ï¼ˆå¦‚è½®è¯¢ã€æœ€å°‘è¿æ¥ï¼‰ã€<strong>æœåŠ¡å‘ç°</strong>ï¼ˆåŠ¨æ€æ„ŸçŸ¥Podå˜åŒ–ï¼‰åŠ<strong>åŸºç¡€å®‰å…¨</strong>ï¼ˆå¦‚IPç™½åå•ï¼‰ã€‚å…¸å‹å®ç°åŒ…æ‹¬<code>kube-proxy</code>ï¼ˆiptables/ipvsæ¨¡å¼ï¼‰ã€Istio Ambientæ¨¡å¼çš„<strong>ztunnel</strong>ï¼ˆèŠ‚ç‚¹çº§L4ä»£ç†ï¼‰ã€‚</li>
<li><strong>L7ä»£ç†</strong>ï¼šå·¥ä½œäº<strong>åº”ç”¨å±‚</strong>ï¼ˆHTTP/GRPCç­‰ï¼‰ï¼Œè§£æ<strong>è¯·æ±‚çº§</strong>å†…å®¹ï¼ˆå¦‚URLè·¯å¾„ã€Headerå‚æ•°ã€Bodyæ•°æ®ï¼‰ï¼Œèƒ½å®ç°<strong>ç²¾ç»†æµé‡ç®¡ç†</strong>ï¼ˆå¦‚ç°åº¦å‘å¸ƒã€A/Bæµ‹è¯•ï¼‰ã€<strong>å®‰å…¨å¢å¼º</strong>ï¼ˆå¦‚mTLSåŠ å¯†ã€JWTè®¤è¯ï¼‰åŠ<strong>å¯è§‚æµ‹æ€§</strong>ï¼ˆå¦‚åˆ†å¸ƒå¼è¿½è¸ªã€ metrics æ”¶é›†ï¼‰ã€‚å…¸å‹å®ç°åŒ…æ‹¬<code>Envoy</code>ï¼ˆIstio Sidecar/ Waypointï¼‰ã€<code>Nginx Ingress</code>ã€<code>Traefik</code>ã€‚</li>
</ul>
<h3 data-id="heading-1"><strong>äºŒã€å¦‚ä½•æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯é€‰æ‹©ï¼Ÿ</strong></h3>
<p>é€‰æ‹©L4æˆ–L7ä»£ç†çš„å…³é”®åœ¨äº<strong>ä¸šåŠ¡éœ€æ±‚æ˜¯å¦ä¾èµ–åº”ç”¨å±‚ä¿¡æ¯</strong>ï¼Œä»¥ä¸‹æ˜¯å…·ä½“åœºæ™¯çš„åˆ¤æ–­é€»è¾‘ï¼š</p>
<h4 data-id="heading-2"><strong>1. é€‰æ‹©L4ä»£ç†çš„åœºæ™¯</strong>â€‹</h4>
<p>L4ä»£ç†é€‚åˆ<strong>ç®€å•ã€é«˜ååã€ä½å»¶è¿Ÿ</strong>çš„åœºæ™¯ï¼Œæ— éœ€åº”ç”¨å±‚ç²¾ç»†ç®¡ç†ï¼š</p>
<ul>
<li><strong>åœºæ™¯1ï¼šå†…éƒ¨æœåŠ¡é—´çš„åŸºç¡€é€šä¿¡</strong>ï¼ˆå¦‚æ•°æ®åº“ã€ç¼“å­˜æœåŠ¡ï¼‰ï¼šæ­¤ç±»æœåŠ¡é€šå¸¸ä½¿ç”¨TCPåè®®ï¼Œæ— éœ€è§£æåº”ç”¨å±‚å†…å®¹ï¼ŒL4ä»£ç†ï¼ˆå¦‚<code>kube-proxy</code>ipvsæ¨¡å¼ï¼‰å¯æä¾›é«˜æ•ˆçš„è´Ÿè½½å‡è¡¡ï¼Œä¸”èµ„æºå¼€é”€ä½ã€‚</li>
<li><strong>åœºæ™¯2ï¼šå¤§è§„æ¨¡é›†ç¾¤çš„åŸºç¡€æµé‡è½¬å‘</strong>ï¼ˆå¦‚ç”µå•†å¤§ä¿ƒçš„é™æ€èµ„æºæœåŠ¡ï¼‰ï¼šL4ä»£ç†ï¼ˆå¦‚<code>ipvs</code>ï¼‰çš„<strong>O(1)è§„åˆ™æŸ¥æ‰¾</strong>ï¼ˆåŸºäºå“ˆå¸Œè¡¨ï¼‰è¿œä¼˜äºiptablesçš„<strong>O(n)</strong> å¤æ‚åº¦ï¼Œèƒ½æ”¯æ’‘ä¸‡çº§Podçš„æµé‡è½¬å‘ï¼Œä¸”å»¶è¿Ÿä½ï¼ˆå¦‚<code>ipvs</code>çš„P99å»¶è¿Ÿçº¦0.16msï¼Œè¿œä½äºiptablesçš„0.88msï¼‰ã€‚</li>
<li><strong>åœºæ™¯3ï¼šå¯¹å»¶è¿Ÿæ•æ„Ÿçš„ä½äº¤äº’åœºæ™¯</strong>ï¼ˆå¦‚IoTè®¾å¤‡çš„å®æ—¶æ•°æ®ä¼ è¾“ï¼‰ï¼šL4ä»£ç†æ— éœ€è§£æåº”ç”¨å±‚ï¼Œå‡å°‘äº†CPUå¼€é”€ï¼Œé€‚åˆ<strong>é«˜å¹¶å‘ã€ä½å»¶è¿Ÿ</strong>çš„å®æ—¶åœºæ™¯ï¼ˆå¦‚å·¥ä¸šä¼ æ„Ÿå™¨çš„æ•°æ®ä¼ è¾“ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-3"><strong>2. é€‰æ‹©L7ä»£ç†çš„åœºæ™¯</strong>â€‹</h4>
<p>L7ä»£ç†é€‚åˆ<strong>å¤æ‚ã€éœ€ç²¾ç»†ç®¡ç†</strong>çš„åœºæ™¯ï¼Œä¾èµ–åº”ç”¨å±‚ä¿¡æ¯å®ç°é«˜çº§åŠŸèƒ½ï¼š</p>
<ul>
<li><strong>åœºæ™¯1ï¼šå¤–éƒ¨æµé‡çš„ç²¾ç»†åŒ–è·¯ç”±</strong>ï¼ˆå¦‚å¾®æœåŠ¡çš„APIç½‘å…³ï¼‰ï¼šéœ€æ ¹æ®<strong>åŸŸåã€è·¯å¾„ã€Header</strong>è½¬å‘æµé‡ï¼ˆå¦‚<code>/api/v1/user</code>è·¯ç”±åˆ°ç”¨æˆ·æœåŠ¡ï¼Œ<code>/api/v2/order</code>è·¯ç”±åˆ°è®¢å•æœåŠ¡ï¼‰ï¼ŒL7ä»£ç†ï¼ˆå¦‚<code>Envoy</code>ã€<code>Nginx Ingress</code>ï¼‰å¯å®ç°<strong>åŸºäºå†…å®¹çš„è·¯ç”±</strong>ï¼Œä¸”æ”¯æŒ<strong>TLSç»ˆæ­¢</strong>ï¼ˆå¦‚HTTPSè¯·æ±‚çš„è¯ä¹¦ç®¡ç†ï¼‰ã€‚</li>
<li><strong>åœºæ™¯2ï¼šéœ€è¦é«˜çº§å®‰å…¨ç­–ç•¥çš„åœºæ™¯</strong>ï¼ˆå¦‚é‡‘èäº¤æ˜“çš„èº«ä»½è®¤è¯ï¼‰ï¼šéœ€è§£æ<strong>JWTä»¤ç‰Œ</strong>ã€<strong>mTLSåŒå‘è®¤è¯</strong>æˆ–<strong>ç»†ç²’åº¦è®¿é—®æ§åˆ¶</strong>ï¼ˆå¦‚â€œåªæœ‰è®¢å•æœåŠ¡å¯è®¿é—®æ”¯ä»˜æœåŠ¡çš„/api/v1/payæ¥å£â€ï¼‰ï¼ŒL7ä»£ç†ï¼ˆå¦‚Istioçš„Waypointï¼‰å¯å®ç°<strong>åº”ç”¨å±‚çš„èº«ä»½è®¤è¯ä¸æˆæƒ</strong>ï¼Œè€ŒL4ä»£ç†æ— æ³•è§£æè¿™äº›å†…å®¹ã€‚</li>
<li><strong>åœºæ™¯3ï¼šéœ€è¦å¯è§‚æµ‹æ€§çš„åœºæ™¯</strong>ï¼ˆå¦‚å¾®æœåŠ¡çš„æ€§èƒ½æ’æŸ¥ï¼‰ï¼šéœ€æ”¶é›†<strong>è¯·æ±‚çº§ metrics</strong>ï¼ˆå¦‚å»¶è¿Ÿã€é”™è¯¯ç‡ï¼‰ã€<strong>åˆ†å¸ƒå¼è¿½è¸ª</strong>ï¼ˆå¦‚Jaegeré›†æˆï¼‰æˆ–<strong>æ—¥å¿—</strong>ï¼ˆå¦‚è®¿é—®æ—¥å¿—ï¼‰ï¼ŒL7ä»£ç†ï¼ˆå¦‚<code>Envoy</code>ï¼‰å¯è§£æåº”ç”¨å±‚æ•°æ®ï¼Œæä¾›æ›´ä¸°å¯Œçš„å¯è§‚æµ‹æ€§ï¼Œè€ŒL4ä»£ç†ä»…èƒ½æä¾›åŸºç¡€çš„è¿æ¥ metricsï¼ˆå¦‚TCPè¿æ¥æ•°ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-4"><strong>ä¸‰ã€L4ä¸L7ä»£ç†çš„æ€§èƒ½å¯¹æ¯”</strong></h3>
<p>æ€§èƒ½æ˜¯é€‰æ‹©ä»£ç†çš„å…³é”®å› ç´ ï¼Œä»¥ä¸‹æ˜¯<strong>æƒå¨æ€§èƒ½æ•°æ®</strong>ï¼ˆæ¥è‡ª2024-2026å¹´çš„ç”Ÿäº§ç¯å¢ƒæµ‹è¯•ï¼‰ï¼š</p>
<h4 data-id="heading-5"><strong>1. ååé‡å¯¹æ¯”</strong>â€‹</h4>
<ul>
<li><strong>L4ä»£ç†</strong>ï¼š<code>ipvs</code>æ¨¡å¼çš„ååé‡è¿œé«˜äºiptablesæ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œåœ¨<strong>1000 RPS</strong>çš„å‹åŠ›ä¸‹ï¼Œ<code>ipvs</code>çš„ååé‡å¯è¾¾<strong>12,500 req/s</strong>ï¼ˆåŸºäº<code>Envoy</code>çš„æµ‹è¯•ï¼‰ï¼Œè€Œiptablesä»…ä¸º<strong>8,000 req/s</strong>ï¼ˆå› è§„åˆ™çˆ†ç‚¸å¯¼è‡´æ€§èƒ½ä¸‹é™ï¼‰ã€‚</li>
<li><strong>L7ä»£ç†</strong>ï¼š<code>Envoy</code>çš„ååé‡ä¼˜äº<code>Nginx</code>å’Œ<code>HAProxy</code>ã€‚ä¾‹å¦‚ï¼Œåœ¨<strong>1000 RPS</strong>çš„HTTPSè¯·æ±‚ä¸‹ï¼Œ<code>Envoy</code>çš„ååé‡å¯è¾¾<strong>12,500 req/s</strong>ï¼ˆP99å»¶è¿Ÿ45msï¼‰ï¼Œè€Œ<code>Nginx</code>ä¸º<strong>10,200 req/s</strong>ï¼ˆP99å»¶è¿Ÿ68msï¼‰ï¼Œ<code>HAProxy</code>ä»…ä¸º<strong>9,800 req/s</strong>ï¼ˆP99å»¶è¿Ÿ72msï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-6"><strong>2. å»¶è¿Ÿå¯¹æ¯”</strong>â€‹</h4>
<ul>
<li><strong>L4ä»£ç†</strong>ï¼š<code>ipvs</code>çš„å»¶è¿Ÿè¿œä½äºiptablesã€‚ä¾‹å¦‚ï¼Œåœ¨<strong>1000 RPS</strong>ä¸‹ï¼Œ<code>ipvs</code>çš„P99å»¶è¿Ÿçº¦<strong>0.16ms</strong>ï¼ˆIstio Ambientæ¨¡å¼çš„ztunnelï¼‰ï¼Œè€Œiptablesçš„P99å»¶è¿Ÿçº¦<strong>0.88ms</strong>ï¼ˆå› è§„åˆ™éå†å¯¼è‡´å»¶è¿Ÿå¢åŠ ï¼‰ã€‚</li>
<li><strong>L7ä»£ç†</strong>ï¼š<code>Envoy</code>çš„å»¶è¿Ÿä½äº<code>Nginx</code>å’Œ<code>HAProxy</code>ã€‚ä¾‹å¦‚ï¼Œåœ¨<strong>1000 RPS</strong>çš„HTTPSè¯·æ±‚ä¸‹ï¼Œ<code>Envoy</code>çš„P99å»¶è¿Ÿçº¦<strong>45ms</strong>ï¼ˆ<code>Envoy</code>çš„C++å®ç°ä¼˜åŒ–äº†åº”ç”¨å±‚è§£æï¼‰ï¼Œè€Œ<code>Nginx</code>ä¸º<strong>68ms</strong>ï¼ˆå› Luaæ’ä»¶çš„çƒ­æ›´æ–°å¯¼è‡´å»¶è¿Ÿæ³¢åŠ¨ï¼‰ï¼Œ<code>HAProxy</code>ä¸º<strong>72ms</strong>ï¼ˆå› è§„åˆ™åŒ¹é…çš„çº¿æ€§å¤æ‚åº¦å¯¼è‡´å»¶è¿Ÿå¢åŠ ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-7"><strong>3. èµ„æºå¼€é”€å¯¹æ¯”</strong>â€‹</h4>
<ul>
<li><strong>L4ä»£ç†</strong>ï¼š<code>ipvs</code>çš„èµ„æºå¼€é”€è¿œä½äºiptablesã€‚ä¾‹å¦‚ï¼Œåœ¨<strong>1000 Pod</strong>çš„é›†ç¾¤ä¸­ï¼Œ<code>ipvs</code>çš„CPUå ç”¨çº¦<strong>0.8æ ¸/èŠ‚ç‚¹</strong>ï¼ˆåŸºäº<code>kube-proxy</code>çš„æµ‹è¯•ï¼‰ï¼Œè€Œiptablesçš„CPUå ç”¨çº¦<strong>1.5æ ¸/èŠ‚ç‚¹</strong>ï¼ˆå› è§„åˆ™å­˜å‚¨ä¸åŒ¹é…çš„å¼€é”€å¤§ï¼‰ã€‚</li>
<li><strong>L7ä»£ç†</strong>ï¼š<code>Envoy</code>çš„èµ„æºå¼€é”€é«˜äº<code>Nginx</code>ï¼Œä½†ä½äº<code>HAProxy</code>ã€‚ä¾‹å¦‚ï¼Œåœ¨<strong>1000 RPS</strong>ä¸‹ï¼Œ<code>Envoy</code>çš„CPUå ç”¨çº¦<strong>0.8æ ¸/èŠ‚ç‚¹</strong>ï¼ˆ<code>Envoy</code>çš„C++å®ç°ä¼˜åŒ–äº†å†…å­˜ä½¿ç”¨ï¼‰ï¼Œè€Œ<code>Nginx</code>ä¸º<strong>1.2æ ¸/èŠ‚ç‚¹</strong>ï¼ˆå› Luaæ’ä»¶çš„å†…å­˜å¼€é”€ï¼‰ï¼Œ<code>HAProxy</code>ä¸º<strong>1.5æ ¸/èŠ‚ç‚¹</strong>ï¼ˆå› è§„åˆ™çš„çº¿æ€§éå†å¯¼è‡´CPUå ç”¨é«˜ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-8"><strong>å››ã€å®é™…æ¡ˆä¾‹ï¼šL4ä¸L7ä»£ç†çš„åº”ç”¨</strong></h3>
<p>ä»¥ä¸‹æ˜¯<strong>ä¼ä¸šç”Ÿäº§ç¯å¢ƒ</strong>çš„æ¡ˆä¾‹ï¼ŒéªŒè¯äº†L4ä¸L7ä»£ç†çš„é€‰æ‹©é€»è¾‘ï¼š</p>
<h4 data-id="heading-9"><strong>1. æ¡ˆä¾‹1ï¼šç”µå•†å¤§ä¿ƒçš„å†…éƒ¨æœåŠ¡é€šä¿¡ï¼ˆL4ä»£ç†ï¼‰</strong> â€‹</h4>
<p>æŸç”µå•†å¹³å°åœ¨â€œåŒ11â€å¤§ä¿ƒä¸­ï¼Œå†…éƒ¨æœåŠ¡ï¼ˆå¦‚ç”¨æˆ·æœåŠ¡ã€è®¢å•æœåŠ¡ï¼‰ä½¿ç”¨<code>kube-proxy</code>çš„<code>ipvs</code>æ¨¡å¼ï¼ˆL4ä»£ç†ï¼‰å¤„ç†TCPæµé‡ã€‚<code>ipvs</code>çš„<strong>O(1)è§„åˆ™æŸ¥æ‰¾</strong>æ”¯æ’‘äº†<strong>10ä¸‡çº§Pod</strong>çš„æµé‡è½¬å‘ï¼Œååé‡è¾¾<strong>12,500 req/s</strong>ï¼ŒP99å»¶è¿Ÿçº¦<strong>0.16ms</strong>ï¼Œç¡®ä¿äº†å†…éƒ¨æœåŠ¡çš„é«˜å¯ç”¨ä¸ä½å»¶è¿Ÿã€‚</p>
<h4 data-id="heading-10"><strong>2. æ¡ˆä¾‹2ï¼šé‡‘èæœåŠ¡çš„å¤–éƒ¨APIç½‘å…³ï¼ˆL7ä»£ç†ï¼‰</strong> â€‹</h4>
<p>æŸé“¶è¡Œåœ¨å¾®æœåŠ¡æ”¹é€ ä¸­ï¼Œä½¿ç”¨<code>Envoy</code>ä½œä¸ºAPIç½‘å…³ï¼ˆL7ä»£ç†ï¼‰ï¼Œå¤„ç†å¤–éƒ¨HTTPSè¯·æ±‚ã€‚<code>Envoy</code>å®ç°äº†<strong>åŸºäºJWTçš„èº«ä»½è®¤è¯</strong>ï¼ˆè§£æAuthorization Headerï¼‰ã€<strong>ç°åº¦å‘å¸ƒ</strong>ï¼ˆå°†10%çš„æµé‡è·¯ç”±åˆ°æ–°ç‰ˆæœ¬æœåŠ¡ï¼‰åŠ<strong>å¯è§‚æµ‹æ€§</strong>ï¼ˆæ”¶é›†è¯·æ±‚å»¶è¿Ÿã€é”™è¯¯ç‡çš„metricsï¼‰ï¼Œç¡®ä¿äº†é‡‘èæœåŠ¡çš„å®‰å…¨æ€§ä¸å¯ç»´æŠ¤æ€§ã€‚</p>
<h4 data-id="heading-11"><strong>3. æ¡ˆä¾‹3ï¼šå·¥ä¸šIoTçš„å®æ—¶æ•°æ®ä¼ è¾“ï¼ˆL4ä»£ç†ï¼‰</strong> â€‹</h4>
<p>æŸå·¥ä¸šä¼ä¸šåœ¨IoTåœºæ™¯ä¸­ï¼Œä½¿ç”¨<code>kube-proxy</code>çš„<code>ipvs</code>æ¨¡å¼ï¼ˆL4ä»£ç†ï¼‰å¤„ç†ä¼ æ„Ÿå™¨æ•°æ®ï¼ˆTCPåè®®ï¼‰ã€‚<code>ipvs</code>çš„ä½å»¶è¿Ÿï¼ˆP99å»¶è¿Ÿçº¦0.16msï¼‰ä¸é«˜ååé‡ï¼ˆ12,500 req/sï¼‰æ»¡è¶³äº†å®æ—¶æ•°æ®ä¼ è¾“çš„éœ€æ±‚ï¼Œä¸”èµ„æºå¼€é”€ä½ï¼ˆCPUå ç”¨0.8æ ¸/èŠ‚ç‚¹ï¼‰ã€‚</p>
<h3 data-id="heading-12"><strong>äº”ã€æ€»ç»“ï¼šé€‰æ‹©L4æˆ–L7ä»£ç†çš„æ ¸å¿ƒé€»è¾‘</strong></h3>






























<table><thead><tr><th><strong>ç»´åº¦</strong>â€‹</th><th><strong>L4ä»£ç†</strong>â€‹</th><th><strong>L7ä»£ç†</strong>â€‹</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒåŠŸèƒ½</strong>â€‹</td><td>åŸºç¡€è½¬å‘ï¼ˆè´Ÿè½½å‡è¡¡ã€æœåŠ¡å‘ç°ï¼‰</td><td>ç²¾ç»†ç®¡ç†ï¼ˆè·¯ç”±ã€å®‰å…¨ã€å¯è§‚æµ‹æ€§ï¼‰</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong>â€‹</td><td>å†…éƒ¨æœåŠ¡ã€å¤§è§„æ¨¡é›†ç¾¤ã€ä½å»¶è¿Ÿåœºæ™¯</td><td>å¤–éƒ¨APIã€å®‰å…¨æ•æ„Ÿåœºæ™¯ã€å¯è§‚æµ‹æ€§éœ€æ±‚</td></tr><tr><td><strong>æ€§èƒ½ä¼˜åŠ¿</strong>â€‹</td><td>é«˜ååã€ä½å»¶è¿Ÿã€ä½èµ„æºå¼€é”€</td><td>æ”¯æŒåº”ç”¨å±‚åŠŸèƒ½ï¼Œååé‡/å»¶è¿Ÿç•¥é€ŠäºL4</td></tr><tr><td><strong>å…¸å‹å®ç°</strong>â€‹</td><td><code>kube-proxy</code>ï¼ˆipvsæ¨¡å¼ï¼‰ã€Istio ztunnel</td><td><code>Envoy</code>ã€<code>Nginx Ingress</code>ã€<code>Traefik</code></td></tr></tbody></table>
<h3 data-id="heading-13"><strong>å…­ã€æ³¨æ„äº‹é¡¹</strong></h3>
<ol>
<li><strong>æ··åˆä½¿ç”¨</strong>ï¼šåœ¨å®é™…åœºæ™¯ä¸­ï¼ŒL4ä¸L7ä»£ç†å¸¸<strong>æ··åˆä½¿ç”¨</strong>ï¼ˆå¦‚<code>kube-proxy</code>å¤„ç†å†…éƒ¨L4æµé‡ï¼Œ<code>Envoy</code>å¤„ç†å¤–éƒ¨L7æµé‡ï¼‰ï¼Œä»¥æ»¡è¶³ä¸åŒéœ€æ±‚ã€‚</li>
<li><strong>æ€§èƒ½è°ƒä¼˜</strong>ï¼šL7ä»£ç†çš„æ€§èƒ½å¯é€šè¿‡<strong>ä¼˜åŒ–é…ç½®</strong>ï¼ˆå¦‚<code>Envoy</code>çš„<code>worker_threads</code>ï¼‰æˆ–<strong>ç¡¬ä»¶åŠ é€Ÿ</strong>ï¼ˆå¦‚SSLç¡¬ä»¶åŠ é€Ÿï¼‰æå‡ï¼Œä¾‹å¦‚<code>Envoy</code>çš„<code>worker_threads</code>è®¾ç½®ä¸º<strong>CPUæ ¸å¿ƒæ•°</strong>ï¼ˆå¦‚4æ ¸CPUè®¾ç½®ä¸º4ï¼‰ï¼Œå¯å°†ååé‡æå‡<strong>20%</strong> ã€‚</li>
<li><strong>è¿ç»´æˆæœ¬</strong>ï¼šL7ä»£ç†çš„é…ç½®å¤æ‚åº¦é«˜äºL4ä»£ç†ï¼ˆå¦‚éœ€é…ç½®è·¯ç”±è§„åˆ™ã€TLSè¯ä¹¦ï¼‰ï¼Œéœ€è€ƒè™‘<strong>è¿ç»´å›¢é˜Ÿçš„èƒ½åŠ›</strong>ï¼ˆå¦‚æ˜¯å¦æœ‰ä¸“ä¸šçš„ç½‘ç»œå·¥ç¨‹å¸ˆï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-14"><strong>ç»“è®º</strong></h3>
<p>åœ¨Kubernetesä¸­ï¼Œé€‰æ‹©L4æˆ–L7ä»£ç†çš„å…³é”®æ˜¯<strong>ä¸šåŠ¡éœ€æ±‚æ˜¯å¦ä¾èµ–åº”ç”¨å±‚ä¿¡æ¯</strong>ï¼š</p>
<ul>
<li>è‹¥éœ€<strong>åŸºç¡€è½¬å‘</strong>ï¼ˆå¦‚å†…éƒ¨æœåŠ¡é€šä¿¡ï¼‰ï¼Œé€‰æ‹©<strong>L4ä»£ç†</strong>ï¼ˆå¦‚<code>kube-proxy</code>ipvsæ¨¡å¼ï¼‰ï¼Œæ€§èƒ½æ›´ä¼˜ï¼›</li>
<li>è‹¥éœ€<strong>ç²¾ç»†ç®¡ç†</strong>ï¼ˆå¦‚å¤–éƒ¨APIç½‘å…³ã€å®‰å…¨ç­–ç•¥ï¼‰ï¼Œé€‰æ‹©<strong>L7ä»£ç†</strong>ï¼ˆå¦‚<code>Envoy</code>ï¼‰ï¼ŒåŠŸèƒ½æ›´å…¨é¢ã€‚</li>
</ul>
<p>é€šè¿‡ç»“åˆ<strong>åœºæ™¯éœ€æ±‚</strong>ã€<strong>æ€§èƒ½æ•°æ®</strong>åŠ<strong>è¿ç»´æˆæœ¬</strong>ï¼Œå¯é€‰æ‹©æœ€é€‚åˆçš„ä»£ç†æ–¹æ¡ˆï¼Œç¡®ä¿Kubernetesé›†ç¾¤çš„<strong>é«˜å¯ç”¨ã€ä½å»¶è¿Ÿ</strong>ä¸<strong>å¯ç»´æŠ¤æ€§</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£æå¾®ä¿¡ä¸æ”¯ä»˜å®ã€çº¢åŒ…/è½¬è´¦ã€‘èƒŒåçš„å…±åŒæŠ€æœ¯åŸºç¡€ï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥å®ç°ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602488187409121332</link>    <guid>https://juejin.cn/post/7602488187409121332</guid>    <pubDate>2026-02-04T07:05:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602488187409121332" data-draft-id="7602482736914710563" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£æå¾®ä¿¡ä¸æ”¯ä»˜å®ã€çº¢åŒ…/è½¬è´¦ã€‘èƒŒåçš„å…±åŒæŠ€æœ¯åŸºç¡€ï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥å®ç°ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T07:05:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹—å¤´å¤§å†›ä¹‹æ±Ÿè‹åˆ†å†›"/> <meta itemprop="url" content="https://juejin.cn/user/2955079655907879"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£æå¾®ä¿¡ä¸æ”¯ä»˜å®ã€çº¢åŒ…/è½¬è´¦ã€‘èƒŒåçš„å…±åŒæŠ€æœ¯åŸºç¡€ï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥å®ç°ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2955079655907879/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹—å¤´å¤§å†›ä¹‹æ±Ÿè‹åˆ†å†›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T07:05:20.000Z" title="Wed Feb 04 2026 07:05:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>éœ€è¦å…ˆè¯´æ˜ä¸€ç‚¹ï¼š
æ–‡ä¸­æ¶‰åŠçš„ç›¸å…³é€»è¾‘ï¼Œå¹¶éæ¥è‡ªéå…¬å¼€çš„å†…éƒ¨èµ„æ–™ï¼Œè€Œæ˜¯åŸºäºå…¬å¼€èµ„æ–™ã€è¡Œä¸šå¸¸è§åšæ³•ï¼Œä»¥åŠæˆ‘è¿‡å¾€é¡¹ç›®ä¸­çš„å®é™…ç»éªŒè¿›è¡Œçš„å·¥ç¨‹å±‚é¢æ¨æ¼”ã€‚
å…·ä½“å®ç°å¿…ç„¶ä¼šå› å…¬å¸ä½“é‡ã€é£æ§ç­–ç•¥å’Œç³»ç»Ÿå¤æ‚åº¦è€Œæœ‰æ‰€ä¸åŒï¼Œä½†æ•´ä½“æ€è·¯åœ¨æŠ€æœ¯ä¸Šæ˜¯å¯è¡Œä¸”å¸¸è§çš„ã€‚æ‰€ä»¥çœŸæ­£çš„å®ç°ç»†èŠ‚è‚¯å®šæ›´å¤æ‚ï¼Œä½†æ€è·¯æœ¬èº«å¹¶ä¸ç¥ç§˜ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>2026çš„æ˜¥èŠ‚é©¬ä¸Šåˆ°äº†ï¼Œä¸ä»¥å¾€ä¸åŒçš„æ˜¯æœ€è¿‘ä¸¤å¹´ï¼Œæˆ‘çš„çš„èº«ä»½ä»ä¸€ä¸ªæ”¶çº¢åŒ…çš„ï¼Œè½¬æ¢æˆå‘çº¢åŒ…çš„äº†ï¼!ä½ è¯´æ€ªä¸æ€ªï¼Œè¿™é’±æ˜æ˜æ˜¯åœ¨æˆ‘çš„å¡é‡Œäº†ï¼Œæ€ä¹ˆç‚¹ä¸€ä¸‹å±å¹•ï¼Œå°±â€œå—–â€åœ°è·‘å¯¹æ–¹è´¦æˆ·é‡Œäº†ï¼Ÿ</p>
<p>è‡ªä»æ‹…ä»»äº†å‘çº¢åŒ…çš„è§’è‰²ï¼Œå¯¹è¿™äº›æ„ˆå‘æ•æ„Ÿï¼ï¼ä½†æˆ‘æ€»è§‰å¾—è¿™èƒŒåä¸€å®šä¸æ˜¯â€œç‚¹äº†å°±æœ‰â€è¿™ä¹ˆç®€å•ã€‚å¦åˆ™é“¶è¡Œæ—©å°±è¢«æˆ‘ä»¬ç‚¹ç ´äº§äº†ã€‚</p>
<p>å†åæ¥å†™ä»£ç å†™åˆ°åŠå¤œï¼Œdebug åˆ°æ€€ç–‘äººç”Ÿçš„æ—¶å€™ï¼Œæˆ‘çªç„¶æ„è¯†åˆ°ä¸€ä»¶äº‹ï¼š
å¾®ä¿¡çº¢åŒ…ã€æ”¯ä»˜å®è½¬è´¦ï¼Œæœ¬è´¨ä¸Šå’Œæˆ‘ä»¬æ¯å¤©å†™çš„é‚£äº›â€œæäº¤è¡¨å•â€â€œè¯·æ±‚æ¥å£â€â€œçŠ¶æ€å›è°ƒâ€ï¼Œå¥½åƒä¹Ÿæ²¡é‚£ä¹ˆç¥ç§˜ã€‚</p>
<p>åªæ˜¯ä»–ä»¬ç”¨çš„æ˜¯çœŸé‡‘ç™½é“¶ï¼Œè€Œæˆ‘ä»¬å¹³æ—¶ä¼ çš„æ˜¯ JSONã€‚</p>
<p>äºæ˜¯æˆ‘å¼€å§‹å¥½å¥‡ï¼š
è¿™äº›çœ‹èµ·æ¥åƒé­”æ³•ä¸€æ ·çš„åŠŸèƒ½ï¼Œåº•å±‚åˆ°åº•é çš„æ˜¯ä»€ä¹ˆï¼Ÿ
å®ƒä»¬ä¹‹é—´æœ‰æ²¡æœ‰å…±ç”¨çš„æŠ€æœ¯å¥—è·¯ï¼Ÿ
å¦‚æœæŠŠé’±æ¢æˆâ€œç§¯åˆ†â€â€œä½™é¢â€â€œè™šæ‹Ÿèµ„äº§â€ï¼Œæˆ‘ä»¬æ™®é€šå¼€å‘è€…ï¼Œèƒ½ä¸èƒ½è‡ªå·±ä¹Ÿå®ç°ä¸€å¥—ï¼Ÿå…¶å®å®ƒä»¬å¹¶æ²¡æœ‰æƒ³è±¡ä¸­é‚£ä¹ˆé¥ä¸å¯åŠï¼Œåªæ˜¯æˆ‘ä»¬å¹³æ—¶æ²¡æ•¢å¾€â€œé’±â€è¿™ä¸ªæ–¹å‘æƒ³ã€‚</p>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae56052b3e87420f975231f2b97d8cb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54uX5aS05aSn5Yab5LmL5rGf6IuP5YiG5Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770793521&amp;x-signature=XE62gKb319QhNuNXAmE4I%2F1DZ%2Fg%3D" alt="image.png" width="30%" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e84009328194fc295e1f8d3c0bc5560~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54uX5aS05aSn5Yab5LmL5rGf6IuP5YiG5Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770793521&amp;x-signature=nIhA%2B9qmq%2Bq1F2rMPEX%2FN6oLXKc%3D" alt="image.png" width="50%" loading="lazy"/>
<h2 data-id="heading-1"><strong>å¾®ä¿¡æ”¯ä»˜ï¼ˆWeChat Payï¼‰</strong></h2>
<ul>
<li>æ”¯ä»˜åŠŸèƒ½ä¾é™„äº <strong>å¾®ä¿¡è¿™ä¸€ç¤¾äº¤å¹³å°</strong>ï¼Œæ”¯ä»˜æ˜¯å¾®ä¿¡ç”Ÿæ€çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤çº¢åŒ…å’Œè½¬è´¦ç­‰åŠŸèƒ½è®¾è®¡éå¸¸è´´åˆç¤¾äº¤åœºæ™¯ï¼ˆæ¯”å¦‚èŠå¤©ç•Œé¢ä¸­çš„çº¢åŒ…æŒ‰é’®ï¼‰ã€‚</li>
<li>æŠ€æœ¯ä¸Šå¼ºè°ƒç¤¾äº¤äº’åŠ¨çš„å³æ—¶æ€§ä¸é«˜å¹¶å‘èƒ½åŠ›ï¼Œå°¤å…¶åœ¨ç¾¤èŠçº¢åŒ…æŠ¢å¤ºåœºæ™¯ä¸‹éœ€è¦åº”å¯¹æé«˜çš„å¹¶å‘ååã€‚</li>
</ul>
<h2 data-id="heading-2"><strong>æ”¯ä»˜å®ï¼ˆAlipayï¼‰</strong></h2>
<ul>
<li>èµ·æºäºç”µå­å•†åŠ¡ï¼ˆå°¤å…¶æ˜¯æ·˜å®/å¤©çŒ«ï¼‰ï¼Œèµ·åˆæ˜¯ä¸ºäº†è§£å†³ <strong>ç”µå•†ä¿¡ä»»ä¸æ”¯ä»˜é—®é¢˜</strong>ï¼Œä¹‹åæ‰©å±•æˆä¸€ä¸ª <strong>å…¨é¢çš„é‡‘èæœåŠ¡ç”Ÿæ€</strong>ï¼ˆåŒ…æ‹¬æŠ•èµ„ã€ç†è´¢ã€ä¿¡ç”¨ç­‰ï¼‰ã€‚</li>
<li>åœ¨çº¢åŒ…æˆ–è½¬è´¦åœºæ™¯ä¸­ï¼Œå…¶äº§å“è®¾è®¡æ›´å¤šå›´ç»•é‡‘èæœåŠ¡ä¸äº¤æ˜“å¯é æ€§ï¼Œè€Œä¸æ˜¯åƒå¾®ä¿¡é‚£æ ·å›´ç»•â€œç¤¾äº¤äº’åŠ¨â€ã€‚</li>
</ul>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[ç”¨æˆ·å‘èµ·è¯·æ±‚] --&gt; B{éªŒè¯è¯·æ±‚åˆæ³•æ€§}
    B --&gt; |åˆæ³•| C[æ£€æŸ¥è´¦æˆ·ä½™é¢]
    B --&gt; |ä¸åˆæ³•| Z[è¿”å›é”™è¯¯æç¤º]
    C --&gt; |ä½™é¢å……è¶³| D[æ‰£æ¬¾å¹¶å†»ç»“èµ„é‡‘]
    C --&gt; |ä½™é¢ä¸è¶³| Y[è¿”å›ä½™é¢ä¸è¶³]
    D --&gt; E[å‘èµ·äº¤æ˜“å…¥é˜Ÿåˆ—]
    E --&gt; F[äº¤æ˜“å¤„ç†æœåŠ¡]
    F --&gt; G{äº¤æ˜“ç»“æœ}
    G --&gt; |æˆåŠŸ| H[æ›´æ–°è´¦æˆ·çŠ¶æ€]
    G --&gt; |å¤±è´¥| I[èµ„é‡‘å›æ»šå¹¶æ¢å¤ä½™é¢]
    H --&gt; J[å‘é€é€šçŸ¥ç»™åŒæ–¹]
    J --&gt; K[ç»“æŸ]
    I --&gt; J
</code></pre>
<h2 data-id="heading-3">ä¸€ã€çº¢åŒ…ä¸è½¬è´¦çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>çº¢åŒ…å’Œè½¬è´¦åœ¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„æ¦‚å¿µï¼Œå®ƒä»¬éƒ½æ˜¯è´¦æˆ·ä¹‹é—´<code>èµ„é‡‘çš„å®‰å…¨ç§»åŠ¨</code>ï¼Œä¹Ÿå°±æ˜¯ä»ä¸€ä¸ªè´¦æˆ·æŠŠé’±å®‰å…¨åœ°æ¬åˆ°å¦ä¸€ä¸ªè´¦æˆ·ï¼Œæœ€ç»ˆè¦ä¿è¯çš„æ˜¯èµ„é‡‘<code>ä¸ä¸¢å¤±ã€ä¸é‡å¤æ‰£æ¬¾ã€åŒæ–¹çŠ¶æ€ä¸€è‡´</code>ã€‚åœ¨å·¥ç¨‹ç³»ç»Ÿè®¾è®¡é‡Œï¼Œè¿™ç±»ä¸šåŠ¡å€¾å‘äºè¢«å½’ç±»ä¸º<strong>é«˜å¯é æ€§ã€é«˜ä¸€è‡´æ€§çš„åˆ†å¸ƒå¼äº¤æ˜“ç³»ç»Ÿé—®é¢˜</strong>ï¼Œä¸æˆ‘ä»¬å¹³æ—¶åšçš„è®¢å•ã€åº“å­˜è¿™ç§éœ€è¦å¼ºä¸€è‡´æ€§çš„åœºæ™¯å¾ˆåƒã€‚</p>
<p>ä½†å®ƒçš„æ ¸å¿ƒæ˜¯ä¸çœŸå®èµ„é‡‘æŒ‚é’©ï¼Œè¿™å¯¹ç³»ç»Ÿè®¾è®¡æå‡ºäº†æ›´é«˜çš„è¦æ±‚ã€‚å®ç°ä¸Šéœ€è¦æŠŠèµ„é‡‘æ“ä½œæŠ½è±¡æˆ<strong>åŸå­æ€§æ“ä½œ</strong>ï¼Œç¡®ä¿æ‰€è°“çš„<strong>è½¬è´¦äº‹åŠ¡è¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å›æ»š</strong>ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„å¼ºä¸€è‡´æ€§ã€‚</p>
<h3 data-id="heading-4">ä½¿ç”¨åŒºåˆ«</h3>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/889e1d153db64a0d8cd09f6995937f1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54uX5aS05aSn5Yab5LmL5rGf6IuP5YiG5Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770793521&amp;x-signature=6EBaPuzcA6sG2WTyhRJrXUxCpzo%3D" alt="image.png" width="50%" loading="lazy"/>
<p>çº¢åŒ…ä¸è½¬è´¦è™½ç„¶åœ¨æŠ€æœ¯å±‚é¢éƒ½å±äº<code>èµ„é‡‘çš„å®‰å…¨ç§»åŠ¨</code>ï¼Œä½†åœ¨äº§å“è®¾è®¡å’Œç”¨æˆ·æ„ŸçŸ¥ä¸Šå­˜åœ¨æ˜æ˜¾å·®å¼‚ã€‚é¦–å…ˆä»<strong>ä½¿ç”¨åœºæ™¯å’Œè¡¨ç°å½¢å¼</strong>æ¥çœ‹ï¼Œçº¢åŒ…æ›´å¤šæ‰¿è½½ç¤¾äº¤äº’åŠ¨å’Œæƒ…ç»ªè¡¨è¾¾ï¼Œç•Œé¢ä¸Šå¾€å¾€ä»¥ç¥ç¦è¯­ä¼´éšé‡‘é¢éšè—ç›´åˆ°æ¥æ”¶æ–¹æ‰“å¼€ï¼Œè€Œè½¬è´¦åˆ™ç›´æ¥æ˜¾ç¤ºé‡‘é¢ï¼Œæ˜¯ä¸€ç§æ›´<strong>ç›´æ¥æ¸…æ™°çš„æ”¯ä»˜è¡Œä¸º</strong>ï¼Œè¿™ä½“ç°äº†ä¸¤è€…çš„<strong>è¯­ä¹‰ä¾§é‡ç‚¹ä¸åŒ</strong>ã€‚æ­¤å¤–ï¼Œåœ¨å®é™…è§„åˆ™ä¸Šçº¢åŒ…é€šå¸¸æœ‰<strong>è¾ƒä¸¥æ ¼çš„é‡‘é¢ä¸Šé™</strong>å’Œ<strong>é¢†å–æ—¶é—´çª—å£</strong>ï¼Œè€Œè½¬è´¦åˆ™æ”¯æŒæ›´é«˜é¢åº¦å’Œæ›´çµæ´»çš„åˆ°è´¦è®¾ç½®ï¼Œè¿™ä¹Ÿåæ˜ å‡ºå®ƒä»¬åœ¨é£é™©æ§åˆ¶å’Œç”¨é€”ä¸Šçš„ä¸åŒå–å‘ã€‚æ³•å¾‹å±æ€§ä¸Šï¼Œåœ¨ä¸€äº›å¸æ³•åˆ¤ä¾‹ä¸­ï¼Œå¾®ä¿¡çº¢åŒ…ç”±äºå…¶ç¤¾äº¤èµ äºˆçš„ç‰¹æ€§å¾€å¾€è¢«è®¤å®šä¸º<strong>èµ ä¸è¡Œä¸º</strong>ï¼Œè€Œæ™®é€šçš„è½¬è´¦æ›´ç±»ä¼¼äºä¼ ç»Ÿæ„ä¹‰ä¸Šçš„èµ„é‡‘æ”¯ä»˜ï¼Œè¿™ç§å·®å¼‚ä¹Ÿä»ä¾§é¢è¯´æ˜äº§å“å®šä½çš„ä¸åŒï¼Œè¿™äº›å·®å¼‚éƒ½ä¼šåœ¨äº§å“æµç¨‹å’Œç”¨æˆ·äº¤äº’ä¸Šæœ‰æ‰€ä½“ç°ã€‚(<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.thepaper.cn%2FnewsDetail_forward_26321871" title="https://www.thepaper.cn/newsDetail_forward_26321871" target="_blank" ref="nofollow noopener noreferrer">è¿™é‡Œæœ‰ä¾æ®</a>)</p>
<ul>
<li><strong>äº§å“è¯­ä¹‰ä¸åŒ</strong>ï¼šçº¢åŒ…æ˜¯â€œé€ç¤¼æ°›å›´â€ï¼Œè½¬è´¦æ˜¯â€œä»˜é’±è¡ŒåŠ¨â€ã€‚</li>
<li><strong>äº¤äº’æ–¹å¼ä¸åŒ</strong>ï¼šçº¢åŒ…æœ‰éšæœºé‡‘é¢æˆ–éšè—é‡‘é¢çš„è¶£å‘³äº¤äº’ã€‚</li>
<li><strong>è§„åˆ™çº¦æŸä¸åŒ</strong>ï¼šçº¢åŒ…é™é¢ã€é¢†å¥–æœŸé™ï¼›è½¬è´¦é¢åº¦æ›´å¤§çµæ´»ã€‚</li>
<li><strong>æ³•å¾‹å±æ€§ä¸åŒ</strong>ï¼šçº¢åŒ…æ›´å¯èƒ½è¢«è®¤å®šä¸ºèµ ä¸è¡Œä¸º</li>
</ul>
<h2 data-id="heading-5">äºŒã€å¾®ä¿¡æ”¯ä»˜å®å…±åŒé‡‡ç”¨çš„åˆ†å¸ƒå¼æ¶æ„è®¾è®¡</h2>
<p>å¾®ä¿¡å’Œæ”¯ä»˜å®çš„çº¢åŒ…/è½¬è´¦åŠŸèƒ½ï¼ŒèƒŒåéƒ½ä¾èµ–äº†æˆç†Ÿçš„åˆ†å¸ƒå¼æ¶æ„è®¾è®¡ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯ <strong>é«˜å¹¶å‘ã€ä½å»¶è¿Ÿã€å¯æ‰©å±•ã€å¯ç»´æŠ¤</strong>ã€‚æˆ‘ä»¬å¯ä»¥ä»å‡ ä¸ªç»´åº¦æ¥æ‹†è§£ï¼š</p>
<ol>
<li>
<p><strong>å¾®æœåŠ¡æ‹†åˆ†</strong><br/>
åŠŸèƒ½æŒ‰ä¸šåŠ¡é€»è¾‘æ‹†æˆå¤šä¸ªæœåŠ¡ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>è®¢å•æœåŠ¡</strong>ï¼šç®¡ç†çº¢åŒ…/è½¬è´¦çš„å‘èµ·ã€çŠ¶æ€æ›´æ–°</li>
<li><strong>è´¦åŠ¡æœåŠ¡</strong>ï¼šå¤„ç†èµ„é‡‘æµæ°´ã€è´¦æˆ·ä½™é¢å˜æ›´</li>
<li><strong>é€šçŸ¥æœåŠ¡</strong>ï¼šæ¶ˆæ¯æ¨é€ã€çŸ­ä¿¡/æ¶ˆæ¯é€šçŸ¥</li>
<li><strong>é£æ§æœåŠ¡</strong>ï¼šé˜²æ­¢å¼‚å¸¸äº¤æ˜“æˆ–æ¬ºè¯ˆè¡Œä¸º</li>
</ul>
<p>æ‹†åˆ†ä¹‹åï¼Œæ¯ä¸ªæœåŠ¡å¯ä»¥ç‹¬ç«‹æ‰©å®¹æˆ–å‡çº§ï¼Œé™ä½å•ç‚¹å‹åŠ›ï¼Œä¹Ÿæ–¹ä¾¿ä¸åŒå›¢é˜Ÿåä½œå¼€å‘ã€‚</p>
</li>
<li>
<p><strong>åˆ†å±‚æ¶æ„è®¾è®¡</strong></p>
<ul>
<li><strong>æ¥å…¥å±‚</strong>ï¼šAPI ç½‘å…³ã€è´Ÿè½½å‡è¡¡ã€æµé‡æ§åˆ¶</li>
<li><strong>ä¸šåŠ¡é€»è¾‘å±‚</strong>ï¼šå¾®æœåŠ¡å®ç°æ ¸å¿ƒä¸šåŠ¡é€»è¾‘</li>
<li><strong>æ•°æ®å±‚</strong>ï¼šåˆ†å¸ƒå¼æ•°æ®åº“æˆ–ç¼“å­˜ï¼ˆå¦‚ MySQL åˆ†åº“åˆ†è¡¨ã€Redis é›†ç¾¤ï¼‰</li>
</ul>
<p>åˆ†å±‚çš„å¥½å¤„æ˜¯ï¼Œæ¯å±‚åªå…³æ³¨è‡ªå·±çš„èŒè´£ï¼Œå‡å°‘è€¦åˆï¼ŒåŒæ—¶å¯ä»¥é’ˆå¯¹ä¸åŒå±‚åšä¼˜åŒ–ï¼ˆå¦‚ç¼“å­˜çƒ­ç‚¹æ•°æ®ã€å¼‚æ­¥å¤„ç†é€šçŸ¥ï¼‰ã€‚</p>
</li>
<li>
<p><strong>é«˜å¹¶å‘ä¸å¼¹æ€§æ‰©å±•</strong><br/>
çº¢åŒ…/è½¬è´¦æ˜¯å…¸å‹çš„ç¬æ—¶é«˜å¹¶å‘åœºæ™¯ï¼Œæ¯”å¦‚æ˜¥èŠ‚å¾®ä¿¡çº¢åŒ…çš„ç§’æ€æ½®ã€‚ä¸ºåº”å¯¹è¿™ç§å‹åŠ›ï¼š</p>
<ul>
<li>æœåŠ¡éƒ¨ç½²åœ¨ <strong>åˆ†å¸ƒå¼é›†ç¾¤</strong> ä¸­ï¼ˆå¤šèŠ‚ç‚¹ã€å¤šæœºæˆ¿ï¼‰</li>
<li>æ”¯æŒ <strong>è‡ªåŠ¨æ‰©å®¹/ç¼©å®¹</strong>ï¼ˆKubernetesã€äº‘åŸç”Ÿéƒ¨ç½²ï¼‰</li>
<li>ä½¿ç”¨ <strong>å¼‚æ­¥é˜Ÿåˆ—</strong>ï¼ˆKafka/RabbitMQï¼‰å¤„ç†éå®æ—¶æ“ä½œï¼Œä¾‹å¦‚é€šçŸ¥ã€æ—¥å¿—å†™å…¥</li>
<li>é‡‡ç”¨ <strong>ç¼“å­˜ + é™æµ + é˜²é‡å¤„ç†</strong> é¿å…é‡å¤æ‰£æ¬¾å’Œç³»ç»Ÿé›ªå´©</li>
</ul>
</li>
</ol>
<h3 data-id="heading-6">å¤§æ¦‚æµç¨‹</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[å®¢æˆ·ç«¯è¯·æ±‚] --&gt; B[API ç½‘å…³ / è´Ÿè½½å‡è¡¡]
    B --&gt; C[ä¸šåŠ¡é€»è¾‘å±‚]
    C --&gt; C1[è®¢å•æœåŠ¡]
    C --&gt; C2[è´¦åŠ¡æœåŠ¡]
    C1 --&gt; C3[é£æ§æœåŠ¡]
    C2 --&gt; C4[ç¼“å­˜/æ•°æ®åº“]
    C3 --&gt; D[é€šçŸ¥æœåŠ¡ / å¼‚æ­¥é˜Ÿåˆ—]
    C4 --&gt; D
    D --&gt; E[ç”¨æˆ·ç«¯]

</code></pre>
<h3 data-id="heading-7">ä¸‰ã€åˆ†åº“åˆ†è¡¨ä¸ç¼“å­˜è®¾è®¡åº”å¯¹é«˜å¹¶å‘</h3>
<h4 data-id="heading-8">1. åœºæ™¯æ¨¡æ‹Ÿï¼šæ˜¥èŠ‚çº¢åŒ…çš„çˆ†å‘å¼æ¿€å¢</h4>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œé™¤å¤•å¤œ 0 ç‚¹ï¼Œä½ å‘äº†ä¸€ä¸ª 100 å…ƒçš„çº¢åŒ…åœ¨å‡ ç™¾äººçš„å…¬å¸å¤§ç¾¤é‡Œã€‚è¿™ä¸€ç¬é—´ï¼Œç¾¤é‡Œ 500 äººåŒæ—¶ç‚¹å‡»<code>å¼€</code>ã€‚å¦‚æœæˆ‘ä»¬ä»…æœ‰ä¸€ä¸ª MySQL æ•°æ®åº“ï¼š</p>
<ul>
<li><strong>æ‚²å‰§å‘ç”Ÿï¼š</strong> 500 ä¸ªè¯·æ±‚åŒæ—¶äº‰æŠ¢æ•°æ®åº“ä¸­çš„åŒä¸€è¡Œè®°å½•ï¼ˆçº¢åŒ…ä½™é¢ï¼‰ã€‚æ•°æ®åº“ä¸ºäº†ä¿è¯æ•°æ®å‡†ç¡®ï¼Œä¼šåŠ â€œè¡Œé”â€ã€‚è¿™æ„å‘³ç€ç¬¬ 1 ä¸ªäººåœ¨æ“ä½œæ—¶ï¼Œåé¢ 499 ä¸ªäººéƒ½åœ¨æ’é˜Ÿç­‰å¾…ã€‚</li>
<li><strong>ç»“æœï¼š</strong> æ•°æ®åº“ CPU é£™å‡ 100%ï¼Œç³»ç»Ÿå¡æ­»ï¼Œå‰ç«¯è½¬åœˆåœˆï¼Œæœ€åå…¨å‘˜æŠ¥é”™â€œç½‘ç»œç¹å¿™â€ã€‚</li>
</ul>
<h4 data-id="heading-9">2. è§£å†³æ–¹æ¡ˆ Aï¼šåˆ†åº“åˆ†è¡¨ï¼ˆåŒ–æ•´ä¸ºé›¶ï¼‰</h4>
<p>è¦åœ¨æ¶æ„å±‚é¢è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ä¸èƒ½è®©æ‰€æœ‰é¸¡è›‹éƒ½åœ¨ä¸€ä¸ªç¯®å­é‡Œã€‚</p>
<ul>
<li><strong>æ°´å¹³æ‹†åˆ† (Sharding)ï¼š</strong> æˆ‘ä»¬æ ¹æ® <code>User_ID</code> æˆ– <code>RedPacket_ID</code> çš„å“ˆå¸Œå€¼ï¼ˆHashï¼‰ï¼Œå°†æ•°æ®åˆ†æ•£åˆ° 100 ä¸ªç”šè‡³ 1000 ä¸ªæ•°æ®åº“å®ä¾‹ä¸­ã€‚</li>
<li><strong>æ•ˆæœï¼š</strong> åŸæœ¬ 10 ä¸‡çš„å¹¶å‘è¯·æ±‚ï¼Œåˆ†æ•£åˆ° 100 ä¸ªåº“ï¼Œæ¯ä¸ªåº“åªæ‰¿æ‹… 1000 QPSï¼Œå‹åŠ›ç¬é—´é™ä½åˆ°å•æœºå¯å¤„ç†èŒƒå›´ã€‚</li>
</ul>
<h4 data-id="heading-10">3. è§£å†³æ–¹æ¡ˆ Bï¼šRedis ç¼“å­˜æŠ—å‹ä¸â€œè¶…å–â€æ§åˆ¶</h4>
<p>æ•°æ®åº“å³ä¾¿åˆ†ç‰‡ï¼Œä¹Ÿæ‰›ä¸ä½æ¯ç§’ç™¾ä¸‡çº§çš„â€œè¯»â€è¯·æ±‚ã€‚è¿™æ—¶å€™ï¼Œ<strong>Redis</strong> å¿…é¡»ä½œä¸ºç¬¬ä¸€é“é˜²çº¿ã€‚ åœ¨çº¢åŒ…åœºæ™¯ä¸­ï¼Œæœ€æ ¸å¿ƒçš„æŠ€æœ¯éš¾ç‚¹æ˜¯**â€œé˜²æ­¢è¶…å–â€**ï¼ˆå³å‘äº† 10 ä¸ªçº¢åŒ…ï¼Œç»“æœè¢« 11 ä¸ªäººæŠ¢åˆ°äº†ï¼Œå¯¼è‡´èµ„é‡‘è´Ÿæ•°ï¼‰ã€‚</p>
<p><strong>æ ¸å¿ƒä»£ç å®ç°ï¼ˆLua è„šæœ¬ï¼‰ï¼š</strong> ä¸ºäº†ä¿è¯â€œæ£€æŸ¥åº“å­˜â€å’Œâ€œæ‰£å‡åº“å­˜â€æ˜¯åŸå­æ“ä½œï¼ˆä¸å¯åˆ†å‰²ï¼‰ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ Redis çš„ Lua è„šæœ¬æ¥å®ç°æ ¸å¿ƒæŠ¢åŒ…é€»è¾‘ï¼š</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-comment">-- keys[1]: çº¢åŒ…é˜Ÿåˆ— Key (List), é¢„å…ˆæ”¾å…¥äº†éšæœºé‡‘é¢çš„å°åŒ…</span>
<span class="hljs-comment">-- keys[2]: å·²æŠ¢ç”¨æˆ·è®°å½• Key (Set/Hash), é˜²æ­¢é‡å¤æŠ¢</span>
<span class="hljs-comment">-- keys[3]: çº¢åŒ…å…ƒæ•°æ® Key (Hash), è®°å½•å‰©ä½™ä¸ªæ•°</span>
<span class="hljs-comment">-- argv[1]: ç”¨æˆ· ID</span>

<span class="hljs-keyword">local</span> red_packet_queue = KEYS[<span class="hljs-number">1</span>]
<span class="hljs-keyword">local</span> consumed_record = KEYS[<span class="hljs-number">2</span>]
<span class="hljs-keyword">local</span> meta_data = KEYS[<span class="hljs-number">3</span>]
<span class="hljs-keyword">local</span> user_id = ARGV[<span class="hljs-number">1</span>]

<span class="hljs-comment">-- 1. å¹‚ç­‰æ€§æ£€æŸ¥ï¼šåˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç»æŠ¢è¿‡</span>
<span class="hljs-keyword">if</span> redis.call(<span class="hljs-string">'hexists'</span>, consumed_record, user_id) == <span class="hljs-number">1</span> <span class="hljs-keyword">then</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span> <span class="hljs-comment">-- çœŸç‰¹å–µè´ªå•Šï¼æŠ¢è¿‡çš„è¿˜æŠ¢ï¼Ÿ</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment">-- 2. æ£€æŸ¥çº¢åŒ…å‰©ä½™ä¸ªæ•°</span>
<span class="hljs-keyword">local</span> left_count = redis.call(<span class="hljs-string">'hget'</span>, meta_data, <span class="hljs-string">'count'</span>)
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> left_count <span class="hljs-keyword">or</span> <span class="hljs-built_in">tonumber</span>(left_count) &lt;= <span class="hljs-number">0</span> <span class="hljs-keyword">then</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span> <span class="hljs-comment">-- å˜»å˜»ï¼Œèœé¸¡ä½ æ¥æ™šäº†</span>
<span class="hljs-keyword">end</span>

<span class="hljs-comment">-- 3. åŸå­æ“ä½œï¼šä»é˜Ÿåˆ—å¼¹å‡ºä¸€ä¸ªé‡‘é¢ï¼Œå¹¶æ‰£å‡è®¡æ•°</span>
<span class="hljs-keyword">local</span> money = redis.call(<span class="hljs-string">'lpop'</span>, red_packet_queue)
<span class="hljs-keyword">if</span> money <span class="hljs-keyword">then</span>
    redis.call(<span class="hljs-string">'hincrby'</span>, meta_data, <span class="hljs-string">'count'</span>, <span class="hljs-number">-1</span>)
    redis.call(<span class="hljs-string">'hset'</span>, consumed_record, user_id, money)
    <span class="hljs-keyword">return</span> money <span class="hljs-comment">-- nbï¼ï¼æŠ¢è´­æˆåŠŸï¼Œè¿”å›é‡‘é¢</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span> <span class="hljs-comment">-- å¼‚å¸¸æƒ…å†µï¼Œé˜Ÿåˆ—ä¸ºç©º</span>
<span class="hljs-keyword">end</span>
</code></pre>
<blockquote>
<p><strong>æ³¨æ„å“ˆï¼š</strong> Redis çš„ Lua è„šæœ¬æ˜¯å•çº¿ç¨‹æ‰§è¡Œçš„ï¼Œè¿™æ„å‘³ç€è„šæœ¬æ‰§è¡ŒæœŸé—´ï¼Œä¸ä¼šæœ‰å…¶ä»–å‘½ä»¤æ’å…¥ï¼Œå¤©ç„¶è§£å†³äº†å¹¶å‘ç«äº‰é—®é¢˜ã€‚æŠ¢åˆ°çº¢åŒ…åï¼Œå†é€šè¿‡å¼‚æ­¥æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¦‚ Kafka/RocketMQï¼‰æ…¢æ…¢å°†æ•°æ®å†™å…¥ MySQLï¼Œå®ç°å‰Šå³°å¡«è°·ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-11">å››ã€äº‹åŠ¡ä¸€è‡´æ€§ä¸èµ„é‡‘å®‰å…¨è®¾è®¡</h3>
<p><strong><code>é’±æ²¡äº†ï¼Œå¯¹æ–¹æ²¡æ”¶åˆ°</code> okäº†å“¥ä»¬ï¼Œä½ çš„æŠ€æœ¯ç”Ÿæ¶¯åˆ°å¤´äº†ï¼Œæ¢ä¸ªæ˜Ÿçƒç”Ÿæ´»å§</strong></p>
<h4 data-id="heading-12">1. æ ¸å¿ƒæŒ‘æˆ˜ï¼šåˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„â€œè–›å®šè°”çš„è½¬è´¦â€</h4>
<p>å‡è®¾ä½ è¦è½¬è´¦ 100 å…ƒç»™æœ‹å‹ã€‚ä½ çš„è´¦æˆ·åœ¨ A æœåŠ¡ï¼Œæœ‹å‹çš„è´¦æˆ·åœ¨ B æœåŠ¡ã€‚</p>
<ol>
<li>A æœåŠ¡æ‰£äº†ä½  100 å…ƒã€‚</li>
<li>ç½‘ç»œçªç„¶æ–­äº†ã€‚</li>
<li>B æœåŠ¡æ²¡æ”¶åˆ°è¯·æ±‚ï¼Œæˆ–è€…æ”¶åˆ°äº†ä½†å¤„ç†å¤±è´¥ã€‚ <strong>ç»“æœï¼š</strong> ä½ çš„é’±å°‘äº†ï¼Œæœ‹å‹æ²¡æ”¶åˆ°ï¼Œè¿™ 100 å…ƒå‡­ç©ºæ¶ˆå¤±äº†ã€‚è¿™åœ¨é‡‘èç³»ç»Ÿæ˜¯ç»å¯¹ä¸å…è®¸çš„ã€‚</li>
</ol>
<h4 data-id="heading-13">2. è®¾è®¡åŸåˆ™ä¸€ï¼šå¹‚ç­‰æ€§ï¼ˆIdempotencyï¼‰</h4>
<p>ç”¨æˆ·å› ä¸ºç½‘ç»œå¡é¡¿ï¼Œç–¯ç‹‚ç‚¹å‡»äº† 5 æ¬¡â€œç¡®è®¤æ”¯ä»˜â€ã€‚ç³»ç»Ÿå¿…é¡»ä¿è¯ï¼š<strong>æ— è®ºç”¨æˆ·ç‚¹å¤šå°‘æ¬¡ï¼Œé’±åªèƒ½æ‰£ä¸€æ¬¡ã€‚</strong></p>
<ul>
<li><strong>å®ç°ï¼š</strong> æ¯æ¬¡è¯·æ±‚å¿…é¡»æºå¸¦ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ <code>Biz_ID</code>ï¼ˆä¸šåŠ¡æµæ°´å·ï¼‰ã€‚</li>
<li><strong>é€»è¾‘ï¼š</strong> åç«¯æ¥æ”¶è¯·æ±‚ -&gt; æŸ¥è¯¢ <code>Biz_ID</code> æ˜¯å¦å¤„ç†è¿‡ -&gt; è‹¥å¤„ç†è¿‡ç›´æ¥è¿”å›æˆåŠŸç»“æœï¼Œä¸è¿›è¡Œæ‰£æ¬¾ï¼›è‹¥æœªå¤„ç†åˆ™æ‰§è¡Œæ‰£æ¬¾ã€‚</li>
</ul>
<h4 data-id="heading-14">3. è®¾è®¡åŸåˆ™äºŒï¼šæœ€ç»ˆä¸€è‡´æ€§ï¼ˆå¯é æ¶ˆæ¯/TCCï¼‰</h4>
<p>ç›¸æ¯”äºå¼ºä¸€è‡´æ€§ï¼ˆä¸¤é˜¶æ®µæäº¤ 2PCï¼‰å¯¼è‡´çš„æ€§èƒ½ä½ä¸‹ï¼Œäº’è”ç½‘æ”¯ä»˜é€šå¸¸é‡‡ç”¨**â€œæœ€ç»ˆä¸€è‡´æ€§â€**ã€‚</p>
<p><strong>å®æˆ˜æµç¨‹å›¾ï¼ˆæœ¬åœ°æ¶ˆæ¯è¡¨æ¨¡å¼ï¼‰ï¼š</strong></p>
<p>ï¼ˆä¸ç»™æˆ‘ç‚¹èµï¼Œç»™å›¾è¡¨ç‚¹ä¸ªèµå§ï¼ŒçœŸçš„å¾ˆéš¾å†™....ï¼‰</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User as ç”¨æˆ·
    participant Sender as è½¬å‡ºè´¦æˆ·æœåŠ¡(A)
    participant DB_A as Açš„æ•°æ®åº“(å«æ¶ˆæ¯è¡¨)
    participant MQ as æ¶ˆæ¯é˜Ÿåˆ—
    participant Receiver as è½¬å…¥è´¦æˆ·æœåŠ¡(B)

    User-&gt;&gt;Sender: å‘èµ·è½¬è´¦ 100å…ƒ
    Note over Sender, DB_A: å¼€å¯æ•°æ®åº“äº‹åŠ¡
    Sender-&gt;&gt;DB_A: 1. æ‰£å‡ä½™é¢ -100
    Sender-&gt;&gt;DB_A: 2. æ’å…¥"å¾…å‘é€"æ¶ˆæ¯è®°å½•
    Note over Sender, DB_A: æäº¤æ•°æ®åº“äº‹åŠ¡(å¼ºä¸€è‡´)
    
    Sender-&gt;&gt;MQ: 3. å‘é€æ‰£æ¬¾æˆåŠŸæ¶ˆæ¯
    MQ-&gt;&gt;Receiver: 4. æ¨é€æ¶ˆæ¯ç»™ B
    
    Receiver-&gt;&gt;Receiver: 5. æ£€æŸ¥å¹‚ç­‰æ€§(æ˜¯å¦å¤„ç†è¿‡)
    Receiver-&gt;&gt;Receiver: 6. å¢åŠ ä½™é¢ +100
    Receiver--&gt;&gt;MQ: 7. ç¡®è®¤æ¶ˆæ¯(ACK)
    
    loop å®šæ—¶ä»»åŠ¡(å…œåº•)
        Sender-&gt;&gt;DB_A: æ‰«æé•¿æ—¶é—´æœªç¡®è®¤çš„æ¶ˆæ¯
        Sender-&gt;&gt;MQ: é‡æ–°å‘é€(é‡è¯•æœºåˆ¶)
    end
</code></pre>
<h4 data-id="heading-15">äº”ã€ æœ€åï¼šç¦»çº¿å¯¹è´¦ç³»ç»Ÿ (Reconciliation)</h4>
<p>å³ä¾¿æŠ€æœ¯å†ç‰›ï¼Œä»£ç ä¹Ÿå¯èƒ½æœ‰ Bugï¼Œç¡¬ä»¶å¯èƒ½æŸåã€‚å› æ­¤ï¼Œé‡‘èç³»ç»Ÿéƒ½æœ‰ä¸€ä¸ª<strong>T+1 å¯¹è´¦æœºåˆ¶</strong>ã€‚</p>
<ul>
<li><strong>å¤œé—´å·¥ä½œï¼š</strong> æ¯å¤©å‡Œæ™¨ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ‹‰å–ä¸Šæ¸¸æ¸ é“ï¼ˆå¦‚é“¶è¡Œï¼‰çš„æµæ°´æ–‡ä»¶ï¼Œä¸ç³»ç»Ÿå†…éƒ¨çš„è®¢å•è®°å½•é€ç¬”æ¯”å¯¹ã€‚</li>
<li><strong>é•¿æ¬¾/çŸ­æ¬¾å¤„ç†ï¼š</strong> ä¸€æ—¦å‘ç°é‡‘é¢ä¸ä¸€è‡´ï¼ˆæ¯”å¦‚æ•°æ®åº“è®°äº†è½¬è´¦æˆåŠŸï¼Œä½†é“¶è¡Œå¡æ²¡æ‰£é’±ï¼‰ï¼Œç³»ç»Ÿä¼šå‘å‡ºæœ€é«˜çº§åˆ«çš„æŠ¥è­¦ï¼Œäººå·¥æˆ–è‡ªåŠ¨è„šæœ¬ä»‹å…¥è¿›è¡Œâ€œå†²æ­£â€æˆ–â€œè¡¥å•â€ã€‚</li>
<li><strong>ç»“è®ºï¼š</strong> å®æ—¶é“¾è·¯ä¿ä½“éªŒï¼Œç¦»çº¿å¯¹è´¦ä¿åº•çº¿ã€‚</li>
</ul>
<hr/>
<blockquote>
<p>é€šè¿‡ä¸Šè¿°çš„åˆ†åº“åˆ†è¡¨ã€Redis åŸå­æ“ä½œä»¥åŠå¯é çš„æ¶ˆæ¯é˜Ÿåˆ—è®¾è®¡ï¼Œæˆ‘ä»¬ç¡®å®å¯ä»¥åœ¨æŠ€æœ¯ä¸Šè¿˜åŸå¾®ä¿¡æˆ–æ”¯ä»˜å® 80% çš„æ ¸å¿ƒè½¬è´¦é€»è¾‘ã€‚ç„¶è€Œï¼Œå‰©ä¸‹çš„ 20%é‚£äº›å…³äºåˆè§„é£æ§ã€è·¨å›½æ±‡ç‡ç»“ç®—ä»¥åŠæç«¯ç¾å¤‡åˆ‡æ¢çš„ç»†èŠ‚ï¼Œemmmæˆ‘çŒœéƒ½çŒœä¸åˆ°...</p>
</blockquote>
<h3 data-id="heading-16">å…­ã€ç»“è¯­</h3>
<p>æˆ‘ä»¬åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­æˆ–å¤šæˆ–å°‘çš„å‰¥å¼€å¾®ä¿¡çº¢åŒ…é‚£å–œåº†çš„<code>å¼€</code>å­—åŠ¨ç”»ï¼Œè¿˜æœ‰æ”¯ä»˜å®è½¬è´¦é‚£åŠ¨äººå¿ƒå¼¦çš„ï¼š<code>æ”¯ä»˜å®åˆ°è´¦~ 100ä¸‡å…ƒ~</code>ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œè¿™ä¸¤ä¸ªå æ®ä¸­å›½ç§»åŠ¨æ”¯ä»˜åŠå£æ±Ÿå±±çš„å·¨å¤´ï¼Œå°½ç®¡å•†ä¸šåŸºå› æˆªç„¶ä¸åŒï¼Œ</p>
<p><strong>ä¸€ä¸ªæºäºç¤¾äº¤çš„é«˜é¢‘äº’åŠ¨</strong>ï¼Œ</p>
<p><strong>ä¸€ä¸ªæºäºç”µå•†çš„ä¸¥è°¨äº¤æ˜“</strong></p>
<p>ä½†åœ¨åº•å±‚æŠ€æœ¯æ¶æ„ä¸Šï¼Œæœ‰ç€ç»å¯¹çš„ä¸¥è°¨ã€‚</p>
<p>å›é¡¾å…¨æ–‡ï¼Œæ”¯æ’‘èµ·æ•°åäº¿ç¬”äº¤æ˜“ã€ä¿éšœèµ„é‡‘ä¸‡æ— ä¸€å¤±çš„ï¼Œæ­£æ˜¯è¿™å¥—ç°ä»£ç§»åŠ¨æ”¯ä»˜å¹³å°ä¸å¯æˆ–ç¼ºçš„<strong>äº”å¤§æŠ€æœ¯è„Šæ¢</strong>ï¼š</p>
<ol>
<li><strong>åˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„</strong>ï¼šå°†åºå¤§çš„å•ä½“ç³»ç»Ÿæ‹†è§£ä¸ºåŸå­åŒ–çš„æœåŠ¡èŠ‚ç‚¹ï¼Œè®©ç³»ç»Ÿæ‹¥æœ‰äº†â€œç”±äºæ•…éšœè€Œè‡ªåŠ¨éš”ç¦»ï¼Œç”±äºæµé‡è€Œè‡ªåŠ¨æ‰©å®¹â€çš„å¼¹æ€§èƒ½åŠ›ã€‚</li>
<li><strong>åˆ†åº“åˆ†è¡¨ï¼ˆShardingï¼‰</strong> ï¼šé€šè¿‡å“ˆå¸Œç®—æ³•å°†æµ·é‡æ•°æ®åŒ–æ•´ä¸ºé›¶ï¼Œæ‰“ç ´äº†å•æœºæ•°æ®åº“çš„ç‰©ç†å­˜å‚¨ä¸è®¡ç®—ç“¶é¢ˆï¼Œä¸ºäº¿çº§ç”¨æˆ·æä¾›äº†æ— é™çš„å­˜å‚¨ç©ºé—´ã€‚</li>
<li><strong>å¤šçº§ç¼“å­˜è®¾è®¡ï¼ˆCachingï¼‰</strong> ï¼šRedis å……å½“äº†ä¿æŠ¤æ•°æ®åº“çš„â€œé˜²æ´ªå ¤åâ€ï¼Œåˆ©ç”¨å†…å­˜çš„é«˜é€Ÿè¯»å†™ç‰¹æ€§ï¼ŒæŠ—ä½äº†æ˜¥èŠ‚çº¢åŒ…å¤§æˆ˜ä¸­é‚£æƒŠå¿ƒåŠ¨é­„çš„åƒä¸‡çº§ QPS æ´ªå³°ã€‚</li>
<li><strong>å¼‚æ­¥åŒ–è§£è€¦ï¼ˆAsynchronous MQï¼‰</strong> ï¼šæ¶ˆæ¯é˜Ÿåˆ—è®©äº¤æ˜“ä¸»é“¾è·¯â€œå³åˆ»å“åº”â€ï¼Œå°†è€—æ—¶çš„è®°è´¦ã€é€šçŸ¥ã€è¥é”€é€»è¾‘å‰¥ç¦»ï¼Œç”¨â€œæ—¶é—´æ¢ç©ºé—´â€ï¼Œå®ç°äº†æè‡´çš„ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>æœ€ç»ˆä¸€è‡´æ€§äº‹åŠ¡</strong>ï¼šæ‘’å¼ƒäº†æ€§èƒ½ä½ä¸‹çš„å¼ºä¸€è‡´æ€§é”ï¼Œé‡‡ç”¨æœ¬åœ°æ¶ˆæ¯è¡¨æˆ– TCC æ¨¡å¼ï¼Œåœ¨åˆ†å¸ƒå¼ç½‘ç»œçš„ä¸ç¡®å®šæ€§ä¸­ï¼Œæ„å»ºäº†èµ„é‡‘æµè½¬ç¡®å®šæ€§çš„â€œæ•°å­¦é•¿åŸâ€ã€‚</li>
</ol>
<p><strong>å›åˆ°æ–‡ç« æœ€åˆçš„é—®é¢˜ï¼šæˆ‘ä»¬æ˜¯å¦å¯ä»¥å®ç°ï¼Ÿ</strong></p>
<p>ä»ä»£ç é€»è¾‘å’Œå¼€æºç»„ä»¶çš„è§’åº¦æ¥çœ‹ï¼Œç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚Redisã€MySQLã€Kafkaã€Seata ç­‰å¼€æºåŸºç¡€è®¾æ–½è®©ä»»ä½•ä¸€ä¸ªæŠ€æœ¯å›¢é˜Ÿéƒ½æœ‰æœºä¼šæ­å»ºå‡ºä¸€å¥—å¾®å‹çš„â€œæ”¯ä»˜æ ¸å¿ƒâ€ã€‚</p>
<h4 data-id="heading-17">é™„ï¼šé«˜å¹¶å‘èµ„é‡‘äº¤æ˜“ç³»ç»ŸÂ·é€šç”¨æ¶æ„å…¨æ™¯å›¾</h4>
<p>ä¸ºäº†ä¾¿äºè®°å¿†ï¼Œæˆ‘å°†æ–‡ä¸­æåˆ°çš„æ ¸å¿ƒæŠ€æœ¯ç‚¹ï¼Œæ€»ç»“ä¸ºè¿™å¼ é€šç”¨çš„æ¶æ„å…¨æ™¯å›¾ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    %% æ ·å¼å®šä¹‰
    classDef layer fill:#e1f5fe,stroke:#01579b,stroke-width:2px;
    classDef component fill:#ffffff,stroke:#333,stroke-width:1px,stroke-dasharray: 5 5;
    classDef core fill:#fff9c4,stroke:#fbc02d,stroke-width:2px;

    User((ç”¨æˆ·/å®¢æˆ·ç«¯)) --&gt; |HTTPS/é«˜å¹¶å‘è¯·æ±‚| Gateway[æ¥å…¥ç½‘å…³å±‚]
    
    subgraph Layer1 [æµé‡å‰Šå³°ä¸è·¯ç”±]
        Gateway --&gt; |é‰´æƒ/é™æµ| RedisCluster[Redis é›†ç¾¤]
        RedisCluster -.-&gt; |Luaè„šæœ¬/åŸå­æ‰£å‡| Stock[åº“å­˜/è®¡æ•°å™¨]
        class RedisCluster,Stock core
    end

    subgraph Layer2 [æ ¸å¿ƒä¸šåŠ¡é€»è¾‘]
        Gateway --&gt; Service[äº¤æ˜“/æ”¯ä»˜å¾®æœåŠ¡]
        Service --&gt; |å¼‚æ­¥è§£è€¦| MQ(æ¶ˆæ¯é˜Ÿåˆ— MQ)
        MQ --&gt; Notify[æ¶ˆæ¯é€šçŸ¥æœåŠ¡]
        MQ --&gt; Risk[é£æ§åˆ†ææœåŠ¡]
        class MQ core
    end

    subgraph Layer3 [æ•°æ®æŒä¹…åŒ–ä¸ä¸€è‡´æ€§]
        Service --&gt; |åˆ†ç‰‡è·¯ç”±| Sharding[åˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶]
        Sharding --&gt; DB_Masters[(MySQL ä¸»åº“é›†ç¾¤)]
        DB_Masters -.-&gt; |BinlogåŒæ­¥| DB_Slaves[(MySQL ä»åº“/æ•°ä»“)]
        
        Service -.-&gt; |æœ¬åœ°æ¶ˆæ¯è¡¨/TCC| Transaction[åˆ†å¸ƒå¼äº‹åŠ¡ä¿éšœ]
        class Transaction core
    end

    subgraph Layer4 [å…œåº•ä¸å¯¹è´¦]
        Check[T+1 ç¦»çº¿å¯¹è´¦ç³»ç»Ÿ] -.-&gt; |æ ¸å¯¹| DB_Slaves
        Check -.-&gt; |å·®å¼‚æŠ¥è­¦| Monitor[ç›‘æ§ä¸­å¿ƒ]
    end

    %% è¿æ¥å…³ç³»
    Layer1 --&gt; Layer2
    Layer2 --&gt; Layer3
    Layer3 -.-&gt; Layer4

    %% æ ·å¼åº”ç”¨
    class Layer1,Layer2,Layer3,Layer4 layer
</code></pre>
<blockquote>
<p>æœ¬äººç†Ÿäºå‰ç«¯å¼€å‘ï¼Œå¯¹äºåç«¯æŠ€æœ¯å¹¶ä¸æ˜¯ç‰¹åˆ«æ‡‚ï¼Œä»¥ä¸ŠæŠ€æœ¯èµ„æ–™å‡é€šè¿‡å…¬å¼€èµ„æ–™å­¦ä¹ ä»¥åŠè‡ªèº«ç»éªŒæ‰€å¾—ï¼Œå¦‚æœ‰é”™è¯¯è¯·å¤šæŒ‡æ•™ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS-æ‰‹å†™ç³»åˆ—ï¼šä»é›¶æ‰‹å†™ Promise]]></title>    <link>https://juejin.cn/post/7602565408533004338</link>    <guid>https://juejin.cn/post/7602565408533004338</guid>    <pubDate>2026-02-04T07:17:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602565408533004338" data-draft-id="7602565408532922418" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JS-æ‰‹å†™ç³»åˆ—ï¼šä»é›¶æ‰‹å†™ Promise"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-04T07:17:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JS-æ‰‹å†™ç³»åˆ—ï¼šä»é›¶æ‰‹å†™ Promise
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T07:17:19.000Z" title="Wed Feb 04 2026 07:17:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p><code>Promise</code> æ˜¯ JavaScript å¤„ç†å¼‚æ­¥ç¼–ç¨‹çš„åŸºçŸ³ã€‚è™½ç„¶æˆ‘ä»¬åœ¨æ—¥å¸¸å¼€å‘ä¸­é¢‘ç¹ä½¿ç”¨ <code>async/await</code>ï¼Œä½†æ‰‹åŠ¨å®ç°ä¸€ä¸ªç¬¦åˆ Promiseè§„èŒƒçš„ç±»ï¼Œä¸ä»…èƒ½è®©ä½ åœ¨é¢è¯•ä¸­è„±é¢–è€Œå‡ºï¼Œæ›´èƒ½è®©ä½ æ·±åˆ»ç†è§£å¾®ä»»åŠ¡ä¸é“¾å¼è°ƒç”¨çš„æœ¬è´¨ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ Promise æ ¸å¿ƒè®¾è®¡æ–¹æ¡ˆ</h2>
<p>å®ç°ä¸€ä¸ªæ ‡å‡†çš„ Promiseï¼Œå¿…é¡»ç´§æ‰£ä»¥ä¸‹å››ä¸ªæ ¸å¿ƒç‚¹ï¼š</p>
<ol>
<li><strong>çŠ¶æ€æœºæœºåˆ¶</strong>ï¼šå­˜åœ¨ <code>PENDING</code>ï¼ˆç­‰å¾…ï¼‰ã€<code>FULFILLED</code>ï¼ˆæˆåŠŸï¼‰ã€<code>REJECTED</code>ï¼ˆå¤±è´¥ï¼‰ä¸‰ç§çŠ¶æ€ï¼ŒçŠ¶æ€è½¬æ¢ä¸å¯é€†ã€‚</li>
<li><strong>ç«‹å³æ‰§è¡Œ</strong>ï¼šæ„é€ å‡½æ•°ä¸­çš„æ‰§è¡Œå™¨ <code>executor(resolve, reject)</code> æ˜¯åŒæ­¥ç«‹å³æ‰§è¡Œçš„ã€‚</li>
<li><strong>å¾®ä»»åŠ¡é˜Ÿåˆ—</strong>ï¼šå›è°ƒå‡½æ•°çš„æ‰§è¡Œå¿…é¡»æ˜¯å¼‚æ­¥çš„ï¼Œé€šå¸¸ä½¿ç”¨ <code>queueMicrotask</code> æ¥å®ç°ã€‚</li>
<li><strong>é“¾å¼è°ƒç”¨</strong>ï¼š<code>then</code> æ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ªæ–°çš„ Promiseï¼Œå¹¶å°†å‰ä¸€ä¸ª Promise çš„è¾“å‡ºä½œä¸ºåä¸€ä¸ª Promise çš„è¾“å…¥ã€‚</li>
</ol>
<h2 data-id="heading-2">äºŒã€ ä»£ç å®ç°</h2>
<pre><code class="hljs language-JavaScript" lang="JavaScript">      <span class="hljs-comment">// å®šä¹‰Promiseçš„ä¸‰ç§çŠ¶æ€</span>
      <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PENDING</span> = <span class="hljs-string">'pending'</span>;
      <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">FULFILLED</span> = <span class="hljs-string">'fulfilled'</span>;
      <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">REJECTED</span> = <span class="hljs-string">'rejected'</span>;

      <span class="hljs-comment">/**
       * è‡ªå®šä¹‰Promiseå®ç°
       * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} executor æ‰§è¡Œå™¨å‡½æ•°ï¼Œæ¥æ”¶resolveå’Œrejectå‚æ•°
       */</span>
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">MyPromise</span>(<span class="hljs-params">executor</span>) {
        <span class="hljs-keyword">const</span> self = <span class="hljs-variable language_">this</span>; <span class="hljs-comment">// ä¿å­˜thisæŒ‡å‘ï¼Œé¿å…å›è°ƒä¸­ä¸¢å¤±</span>
        self.<span class="hljs-property">status</span> = <span class="hljs-variable constant_">PENDING</span>; <span class="hljs-comment">// åˆå§‹çŠ¶æ€ä¸ºpending</span>
        self.<span class="hljs-property">value</span> = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// æˆåŠŸçš„ç»“æœå€¼</span>
        self.<span class="hljs-property">reason</span> = <span class="hljs-literal">undefined</span>; <span class="hljs-comment">// å¤±è´¥çš„åŸå› </span>
        self.<span class="hljs-property">onFulfilledCallbacks</span> = []; <span class="hljs-comment">// å­˜å‚¨æˆåŠŸå›è°ƒ</span>
        self.<span class="hljs-property">onRejectedCallbacks</span> = []; <span class="hljs-comment">// å­˜å‚¨å¤±è´¥å›è°ƒ</span>

        <span class="hljs-comment">// æˆåŠŸå›è°ƒå‡½æ•°</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-params">value</span>) {
          <span class="hljs-comment">// åªæœ‰pendingçŠ¶æ€æ‰èƒ½æ”¹å˜</span>
          <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-variable constant_">PENDING</span>) {
            self.<span class="hljs-property">status</span> = <span class="hljs-variable constant_">FULFILLED</span>;
            self.<span class="hljs-property">value</span> = value;
            <span class="hljs-comment">// å¼‚æ­¥æ‰§è¡Œæ‰€æœ‰æˆåŠŸå›è°ƒï¼Œå› ä¸ºthenæ–¹æ³•æ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥è¦ç­‰executoræ‰§è¡Œå®Œå†æ‰§è¡Œ</span>
            <span class="hljs-title function_">queueMicrotask</span>(<span class="hljs-function">() =&gt;</span> {
              self.<span class="hljs-property">onFulfilledCallbacks</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">callback</span>) =&gt;</span> {
                <span class="hljs-title function_">callback</span>(self.<span class="hljs-property">value</span>);
              });
            });
          }
        }

        <span class="hljs-comment">// å¤±è´¥å›è°ƒå‡½æ•°</span>
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">reject</span>(<span class="hljs-params">reason</span>) {
          <span class="hljs-comment">// åªæœ‰pendingçŠ¶æ€æ‰èƒ½æ”¹å˜</span>
          <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-variable constant_">PENDING</span>) {
            self.<span class="hljs-property">status</span> = <span class="hljs-variable constant_">REJECTED</span>;
            self.<span class="hljs-property">reason</span> = reason;
            <span class="hljs-comment">// å¼‚æ­¥æ‰§è¡Œæ‰€æœ‰å¤±è´¥å›è°ƒ</span>
            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
              self.<span class="hljs-property">onRejectedCallbacks</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">callback</span>) =&gt;</span> {
                <span class="hljs-title function_">callback</span>(self.<span class="hljs-property">reason</span>);
              });
            });
          }
        }

        <span class="hljs-keyword">try</span> {
          <span class="hljs-comment">// ç«‹å³æ‰§è¡Œæ‰§è¡Œå™¨å‡½æ•°</span>
          <span class="hljs-title function_">executor</span>(resolve, reject);
        } <span class="hljs-keyword">catch</span> (error) {
          <span class="hljs-comment">// æ‰§è¡Œå™¨æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œç›´æ¥è°ƒç”¨reject</span>
          <span class="hljs-title function_">reject</span>(error);
        }
      }

      <span class="hljs-comment">/** thenæ–¹æ³•å®ç°
       * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} onFulfilled æˆåŠŸå›è°ƒ
       * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} onRejected å¤±è´¥å›è°ƒ
       * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">MyPromise</span>} è¿”å›æ–°çš„Promiseå®ç°é“¾å¼è°ƒç”¨
       */</span>
      <span class="hljs-title class_">MyPromise</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">then</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">onFulfilled, onRejected</span>) {
        <span class="hljs-keyword">const</span> self = <span class="hljs-variable language_">this</span>;
        <span class="hljs-comment">// å¤„ç†é»˜è®¤å›è°ƒï¼ˆå…¼å®¹ä¸ä¼ å›è°ƒçš„æƒ…å†µï¼‰</span>
        onFulfilled =
          <span class="hljs-keyword">typeof</span> onFulfilled === <span class="hljs-string">'function'</span> ? onFulfilled : <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> value;
        onRejected =
          <span class="hljs-keyword">typeof</span> onRejected === <span class="hljs-string">'function'</span>
            ? onRejected
            : <span class="hljs-function">(<span class="hljs-params">reason</span>) =&gt;</span> {
                <span class="hljs-keyword">throw</span> reason;
              };

        <span class="hljs-comment">// è¿”å›æ–°çš„Promiseå®ç°é“¾å¼è°ƒç”¨ï¼Œå› ä¸ºåç»­å‡½æ•°ä¹Ÿå¯ä»¥é€šè¿‡thenæ–¹æ³•æ¥å¤„ç†</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyPromise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
          <span class="hljs-comment">// å¤„ç†æˆåŠŸçŠ¶æ€</span>
          <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-variable constant_">FULFILLED</span>) {
            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
              <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// æ‰§è¡ŒæˆåŠŸå›è°ƒå¹¶è·å–è¿”å›å€¼</span>
                <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">onFulfilled</span>(self.<span class="hljs-property">value</span>);
                <span class="hljs-comment">// æ ¹æ®è¿”å›å€¼å¤„ç†æ–°Promiseçš„çŠ¶æ€</span>
                <span class="hljs-title function_">resolvePromise</span>(result, resolve, reject);
              } <span class="hljs-keyword">catch</span> (error) {
                <span class="hljs-title function_">reject</span>(error);
              }
            });
          }


          <span class="hljs-comment">// å¤„ç†å¤±è´¥çŠ¶æ€</span>
          <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-variable constant_">REJECTED</span>) {
            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
              <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// æ‰§è¡Œå¤±è´¥å›è°ƒå¹¶è·å–è¿”å›å€¼</span>
                <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">onRejected</span>(self.<span class="hljs-property">reason</span>);
                <span class="hljs-comment">// æ ¹æ®è¿”å›å€¼å¤„ç†æ–°Promiseçš„çŠ¶æ€</span>
                <span class="hljs-title function_">resolvePromise</span>(result, resolve, reject);
              } <span class="hljs-keyword">catch</span> (error) {
                <span class="hljs-title function_">reject</span>(error);
              }
            });
          }

          <span class="hljs-comment">// å¤„ç†ç­‰å¾…çŠ¶æ€ï¼ˆæš‚å­˜å›è°ƒï¼‰</span>
          <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-variable constant_">PENDING</span>) {
            self.<span class="hljs-property">onFulfilledCallbacks</span>.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> {
              <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">onFulfilled</span>(self.<span class="hljs-property">value</span>);
                <span class="hljs-title function_">resolvePromise</span>(result, resolve, reject);
              } <span class="hljs-keyword">catch</span> (error) {
                <span class="hljs-title function_">reject</span>(error);
              }
            });

            self.<span class="hljs-property">onRejectedCallbacks</span>.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> {
              <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">onRejected</span>(self.<span class="hljs-property">reason</span>);
                <span class="hljs-title function_">resolvePromise</span>(result, resolve, reject);
              } <span class="hljs-keyword">catch</span> (error) {
                <span class="hljs-title function_">reject</span>(error);
              }
            });
          }
        });
      };

      <span class="hljs-comment">/** catchæ–¹æ³•å®ç°ï¼ˆè¯­æ³•ç³–ï¼Œç­‰ä»·äºthen(null, onRejected)ï¼‰
       * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Function</span>} onRejected å¤±è´¥å›è°ƒ
       * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">MyPromise</span>}
       */</span>
      <span class="hljs-title class_">MyPromise</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">catch</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">onRejected</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">then</span>(<span class="hljs-literal">null</span>, onRejected);
      };

      <span class="hljs-comment">//é™æ€æ–¹æ³•resolve - è¿”å›ä¸€ä¸ªå·²å®Œæˆçš„Promise</span>
      <span class="hljs-title class_">MyPromise</span>.<span class="hljs-property">resolve</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) {
        <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">MyPromise</span>) {
          <span class="hljs-keyword">return</span> value;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyPromise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
          <span class="hljs-title function_">resolve</span>(value);
        });
      };

      <span class="hljs-comment">//é™æ€æ–¹æ³•reject - è¿”å›ä¸€ä¸ªå·²å¤±è´¥çš„Promise</span>
      <span class="hljs-title class_">MyPromise</span>.<span class="hljs-property">reject</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">reason</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyPromise</span>(<span class="hljs-function">(<span class="hljs-params">_, reject</span>) =&gt;</span> {
          <span class="hljs-title function_">reject</span>(reason);
        });
      };

      <span class="hljs-comment">// å¤„ç†thenå›è°ƒè¿”å›å€¼çš„å·¥å…·å‡½æ•°</span>
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">resolvePromise</span>(<span class="hljs-params">result, resolve, reject</span>) {
        <span class="hljs-comment">// å¦‚æœè¿”å›å€¼æ˜¯å½“å‰Promiseï¼ŒæŠ›å‡ºå¾ªç¯å¼•ç”¨é”™è¯¯</span>
        <span class="hljs-keyword">if</span> (result <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">MyPromise</span>) {
          result.<span class="hljs-title function_">then</span>(resolve, reject);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-comment">// æ™®é€šå€¼ç›´æ¥resolve</span>
          <span class="hljs-title function_">resolve</span>(result);
        }
      }
    
      <span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'--- æµ‹è¯•ç”¨ä¾‹å¼€å§‹ ---'</span>);

      <span class="hljs-comment">// 1. åŸºæœ¬ resolve</span>
      <span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyPromise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-string">'æˆåŠŸ1'</span>), <span class="hljs-number">100</span>);
      })
      p1.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Test 1: æˆåŠŸ1'</span>, res); <span class="hljs-comment">// æˆåŠŸ1</span>
      })
      p1.<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Test 1: å¤±è´¥1'</span>, err);
      })

      <span class="hljs-comment">// 2. åŸºæœ¬ reject + catch</span>
      <span class="hljs-comment">// const p2 = new MyPromise((_, reject) =&gt; {</span>
      <span class="hljs-comment">//   setTimeout(() =&gt; reject('å¤±è´¥1'), 100);</span>
      <span class="hljs-comment">// })</span>
      <span class="hljs-comment">// p2.then(success =&gt; {</span>
      <span class="hljs-comment">//   console.log('Test 2: æˆåŠŸ1', success); // å¤±è´¥1</span>
      <span class="hljs-comment">// }, (err) =&gt; {</span>
      <span class="hljs-comment">//   console.log('Test 2: å¤±è´¥1', err); // å¤±è´¥1</span>
      <span class="hljs-comment">// })</span>
      <span class="hljs-comment">// p2.catch(err =&gt; {</span>
      <span class="hljs-comment">//   console.log('Test 2: å¤±è´¥2', err); // å¤±è´¥1</span>
      <span class="hljs-comment">// })</span>

      <span class="hljs-comment">// 3. executor æŠ›å‡ºå¼‚å¸¸</span>
      <span class="hljs-comment">// new MyPromise(() =&gt; {</span>
      <span class="hljs-comment">//   throw new Error('executor error');</span>
      <span class="hljs-comment">// }).catch(err =&gt; {</span>
      <span class="hljs-comment">//   console.log('Test 4: å¼‚å¸¸', err.message); // executor error</span>
      <span class="hljs-comment">// });</span>

      <span class="hljs-comment">// 4. Promise é“¾å¼åµŒå¥—</span>
      <span class="hljs-comment">// const p4 = new MyPromise((resolve) =&gt; resolve(1))</span>
      <span class="hljs-comment">//   .then((v) =&gt; v + 1)</span>
      <span class="hljs-comment">//   .then((v) =&gt; MyPromise.resolve(v * 2))</span>
      <span class="hljs-comment">//   .then((v) =&gt; {</span>
      <span class="hljs-comment">//     console.log('Test 5:', v); // 4</span>
      <span class="hljs-comment">//   });</span>
</code></pre>
<h2 data-id="heading-3">ä¸‰ã€ æ·±åº¦ç»†èŠ‚è§£æ</h2>
<h3 data-id="heading-4">1. ä¸ºä»€ä¹ˆä½¿ç”¨ <code>queueMicrotask</code>ï¼Ÿ</h3>
<p>æ ¹æ® Promiseè§„èŒƒï¼Œ<code>onFulfilled</code> æˆ– <code>onRejected</code> å¿…é¡»åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆä»…åŒ…å«å¹³å°ä»£ç æ—¶æ‰§è¡Œã€‚è¿™æ„å‘³ç€å›è°ƒå¿…é¡»æ˜¯å¼‚æ­¥çš„ã€‚ä½¿ç”¨å¾®ä»»åŠ¡è€Œä¸æ˜¯å®ä»»åŠ¡ï¼ˆå¦‚ <code>setTimeout</code>ï¼‰ï¼Œæ˜¯ä¸ºäº†ä¿è¯åœ¨å½“å‰ä»»åŠ¡å¾ªç¯ç»“æŸå‰å°½å¯èƒ½å¿«åœ°æ‰§è¡Œå›è°ƒã€‚</p>
<h3 data-id="heading-5">2. çŠ¶æ€ä¸å¯é€†æ€§</h3>
<p>åœ¨ <code>resolve</code> å’Œ <code>reject</code> å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ¤æ–­ <code>state === 'pending'</code>ã€‚ä¸€æ—¦çŠ¶æ€å˜ä¸º <code>fulfilled</code> æˆ– <code>rejected</code>ï¼Œåç»­ä»»ä½•è°ƒç”¨éƒ½å°†è¢«å¿½ç•¥ï¼Œè¿™ä¿è¯äº† Promise çš„ç¨³å®šæ€§ã€‚</p>
<hr/>
<h2 data-id="heading-6">å››ã€ æ€»ç»“</h2>
<ol>
<li><strong>åŒæ­¥æ‰§è¡Œ</strong> <code>executor</code>ã€‚</li>
<li><strong>å¼‚æ­¥æ”¶é›†</strong> å›è°ƒå‡½æ•°ã€‚</li>
<li><strong>é€’å½’è§£æ</strong> è¿”å›å€¼ï¼Œå®ç°é“¾å¼è°ƒç”¨ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¨€åœŸæ˜é‡‘å…³äºè¿‘æœŸè¿è§„è¡Œä¸ºä¸“é¡¹æ²»ç†çš„å…¬å‘Š]]></title>    <link>https://juejin.cn/post/7602651160465817650</link>    <guid>https://juejin.cn/post/7602651160465817650</guid>    <pubDate>2026-02-04T06:51:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602651160465817650" data-draft-id="7602488187408973876" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¨€åœŸæ˜é‡‘å…³äºè¿‘æœŸè¿è§„è¡Œä¸ºä¸“é¡¹æ²»ç†çš„å…¬å‘Š"/> <meta itemprop="keywords" content="æ˜é‡‘ç¤¾åŒº"/> <meta itemprop="datePublished" content="2026-02-04T06:51:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="XCaptaino"/> <meta itemprop="url" content="https://juejin.cn/user/3052665287739005"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¨€åœŸæ˜é‡‘å…³äºè¿‘æœŸè¿è§„è¡Œä¸ºä¸“é¡¹æ²»ç†çš„å…¬å‘Š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3052665287739005/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    XCaptaino
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:51:03.000Z" title="Wed Feb 04 2026 06:51:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¨€åœŸæ˜é‡‘å…³äºè¿‘æœŸè¿è§„è¡Œä¸ºä¸“é¡¹æ²»ç†çš„å…¬å‘Š</h2>
<p>ç¨€åœŸæ˜é‡‘å§‹ç»ˆè‡´åŠ›äºä¸ºå¼€å‘è€…æä¾›<strong>å®‰å…¨ã€å¯ä¿¡ã€ä¸“ä¸šçš„æŠ€æœ¯ç¤¾åŒºç¯å¢ƒ</strong>ï¼Œåšå†³åå¯¹ä»»ä½•æŸå®³ç”¨æˆ·ä½“éªŒã€ä¾µå®³ç”¨æˆ·åˆæ³•æƒç›Šã€ç ´åç¤¾åŒºç”Ÿæ€ç§©åºçš„è¡Œä¸ºã€‚</p>
<p>ä¸´è¿‘æ˜¥èŠ‚ï¼Œå¹³å°å†…è¥é”€æ´»åŠ¨ä¸å¤–éƒ¨æ¨å¹¿è¡Œä¸ºé›†ä¸­å‡ºç°ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å„ç±»è¿è§„è¡Œä¸ºçš„é«˜å‘é˜¶æ®µã€‚è¿‘æœŸï¼Œç»“åˆå¹³å°æ—¥å¸¸å·¡æ£€ä¸ç”¨æˆ·æŠ•è¯‰åé¦ˆæƒ…å†µï¼Œç¨€åœŸæ˜é‡‘é’ˆå¯¹éƒ¨åˆ†<strong>ä¸¥é‡å¹²æ‰°ç¤¾åŒºç§©åºã€ä¾µå®³ç”¨æˆ·æƒç›Šçš„è¿è§„è¡Œä¸º</strong>å¼€å±•äº†ä¸“é¡¹æ²»ç†ã€‚ç›¸å…³è¿è§„è¡Œä¸ºä¸»è¦é›†ä¸­åœ¨ä»¥ä¸‹ä¸‰ç±»ï¼š</p>
<ul>
<li>è™šå‡è¥é”€åŠç›¸å…³æ¬ºè¯ˆè¡Œä¸º</li>
<li>è¿‡åº¦è¥é”€ã€è¯±å¯¼äº’åŠ¨ç­‰ç ´åç¤¾åŒºä½“éªŒçš„è¡Œä¸º</li>
<li>å­˜åœ¨æ•°æ®å®‰å…¨é£é™©ã€ä½¿ç”¨å¤–æŒ‚æˆ–è¿è§„å·¥å…·çš„è¡Œä¸º</li>
</ul>
<p>ä¸ºåˆ‡å®ç»´æŠ¤å¹¿å¤§ç”¨æˆ·çš„åˆæ³•æƒç›Šä¸ç¤¾åŒºå¥åº·ç”Ÿæ€ï¼Œå¹³å°å°†ä¾æ®å›½å®¶ç›¸å…³æ³•å¾‹æ³•è§„åŠä»¥ä¸‹å¹³å°è§„åˆ™ï¼Œå¯¹ç›¸å…³è¿è§„è¡Œä¸ºè¿›è¡Œé‡ç‚¹æ²»ç†ï¼š</p>
<ul>
<li>ã€Š<a href="https://juejin.cn/book/6844733795329900551/section/6844733795380232200" target="_blank" title="https://juejin.cn/book/6844733795329900551/section/6844733795380232200">ç¨€åœŸæ˜é‡‘ç”¨æˆ·æœåŠ¡åè®®</a>ã€‹</li>
<li>ã€Š<a href="https://juejin.cn/book/6844733795329900551/section/6844733795380232200" target="_blank" title="https://juejin.cn/book/6844733795329900551/section/6844733795380232200">ç¨€åœŸæ˜é‡‘ç¤¾åŒºè§„èŒƒ</a>ã€‹</li>
</ul>
<hr/>
<h3 data-id="heading-1">ä¸€ã€è™šå‡è¥é”€åŠç›¸å…³æ¬ºè¯ˆè¡Œä¸º</h3>
<p>éƒ¨åˆ†è´¦å·æˆ–ç¬¬ä¸‰æ–¹ä¸»ä½“å‘å¸ƒçš„å†…å®¹å­˜åœ¨æ˜æ˜¾æ¬ºè¯ˆæˆ–è¯¯å¯¼æ€§è´¨ï¼Œé€šè¿‡è™šå‡å®£ä¼ ã€ä»¿å†’èº«ä»½ã€ä¼ªé€ ç¦åˆ©ç­‰æ–¹å¼éª—å–ç”¨æˆ·ä¿¡ä»»ï¼Œè¿›è€Œä¾µå®³ç”¨æˆ·è´¢äº§å®‰å…¨ä¸ä¸ªäººä¿¡æ¯å®‰å…¨ã€‚ä¸»è¦è¡¨ç°å½¢å¼åŒ…æ‹¬ä½†ä¸é™äºï¼š</p>
<h4 data-id="heading-2">1. è™šå‡ç¦åˆ©åŠè¯±å¯¼äº¤æ˜“è¡Œä¸º</h4>
<p>é€šè¿‡è™šæ„â€œé«˜é¢è¿”åˆ©â€â€œé™æ—¶ç¦åˆ©â€â€œå†…éƒ¨èµ„æºâ€â€œå…è´¹èµ„æ–™â€â€œå®˜æ–¹è¡¥è´´â€ç­‰å†…å®¹ï¼Œè¯±å¯¼ç”¨æˆ·è¿›è¡Œä»˜è´¹ã€æ·»åŠ è”ç³»æ–¹å¼ã€åŠ å…¥ç¾¤èŠæˆ–æäº¤ä¸ªäººä¿¡æ¯ï¼Œæœ€ç»ˆæ— æ³•å…‘ç°æ‰¿è¯ºï¼Œç”šè‡³ç›´æ¥å¤±è”ã€‚</p>
<h4 data-id="heading-3">2. ä»¿å†’èº«ä»½åŠè¯¯å¯¼æ²Ÿé€šè¡Œä¸º</h4>
<p>å†’å……ç¨€åœŸæ˜é‡‘å®˜æ–¹è´¦å·ã€å¹³å°å·¥ä½œäººå‘˜ã€ç¤¾åŒºè®¤è¯ä½œè€…æˆ–çŸ¥åæŠ€æœ¯å›¢é˜Ÿï¼Œä»¥â€œè´¦å·å¼‚å¸¸â€â€œå†…å®¹å®¡æ ¸â€â€œåˆä½œé‚€çº¦â€â€œå†…æµ‹èµ„æ ¼â€â€œå®˜æ–¹æ´»åŠ¨â€ç­‰åä¹‰ï¼Œå¼•å¯¼ç”¨æˆ·å‰å¾€éå®˜æ–¹é¡µé¢æˆ–ç§ä¸‹æ²Ÿé€šæ¸ é“ï¼Œéª—å–è´¦å·ä¿¡æ¯ã€éªŒè¯ç æˆ–å…¶ä»–æ•æ„Ÿæ•°æ®ã€‚</p>
<p>ä¸Šè¿°è¡Œä¸ºä¸ä»…å¯èƒ½ç›´æ¥é€ æˆç”¨æˆ·ç»æµæŸå¤±ï¼Œè¿˜å¯èƒ½å¯¼è‡´ä¸ªäººä¿¡æ¯è¢«éæ³•é‡‡é›†ã€æ»¥ç”¨æˆ–äºŒæ¬¡ä¼ æ’­ï¼Œè¿›ä¸€æ­¥å¼•å‘è´¦å·è¢«ç›—ã€åƒåœ¾è¥é”€æˆ–ç²¾å‡†è¯ˆéª—ç­‰é£é™©ï¼Œä¸¥é‡ç ´åç¤¾åŒºä¿¡ä»»åŸºç¡€ã€‚</p>
<p>ä¸Šè¿°è¡Œä¸ºå·²æ˜ç¡®è¿åã€Šç¨€åœŸæ˜é‡‘ç”¨æˆ·æœåŠ¡åè®®ã€‹ã€Šç¨€åœŸæ˜é‡‘ç¤¾åŒºè§„èŒƒã€‹ç­‰ç›¸å…³è§„å®šï¼Œå¹³å°å°†é€šè¿‡æŠ€æœ¯è¯†åˆ«ã€äººå·¥å®¡æ ¸åŠç”¨æˆ·ä¸¾æŠ¥ç­‰æ–¹å¼ï¼ŒæŒç»­å¼€å±•æ²»ç†ï¼Œå¹¶ä¾æ³•ä¾è§„é‡‡å–å¤„ç½®æªæ–½ã€‚</p>
<hr/>
<h3 data-id="heading-4">äºŒã€è¿‡åº¦è¥é”€ä¸è¯±å¯¼äº’åŠ¨è¡Œä¸º</h3>
<p>éƒ¨åˆ†è´¦å·é€šè¿‡æ–‡ç« ã€è¯„è®ºã€æ²¸ç‚¹ã€å¤–éƒ¨é“¾æ¥ç­‰å½¢å¼ï¼Œå®æ–½<strong>é«˜é¢‘è¥é”€æ¨å¹¿ã€å¼ºåˆ¶æˆ–è¯¯å¯¼æ€§è·³è½¬ã€è¯±å¯¼ç”¨æˆ·äº’åŠ¨</strong>ç­‰è¡Œä¸ºï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>ä»¥â€œåšä»»åŠ¡â€â€œåŠ©åŠ›â€â€œæŠ½å¥–â€â€œé™æ—¶é¢†å–â€ç­‰è¯æœ¯è¯±å¯¼ç”¨æˆ·è½¬å‘ã€è¯„è®ºæˆ–ç‚¹å‡»</li>
<li>åœ¨æŠ€æœ¯å†…å®¹ä¸­å¤¹å¸¦æ˜æ˜¾è¥é”€æˆ–æ¨å¹¿ä¿¡æ¯ï¼Œå½±å“æ­£å¸¸é˜…è¯»ä¸å­¦ä¹ ä½“éªŒ</li>
<li>é€šè¿‡å†…å®¹è®¾è®¡æˆ–æŠ€æœ¯æ‰‹æ®µï¼Œå¼ºåˆ¶ç”¨æˆ·è·³è½¬è‡³éé¢„æœŸé¡µé¢</li>
</ul>
<p>æ­¤ç±»è¡Œä¸ºä¼šå¯¹ç¤¾åŒºå†…å®¹è´¨é‡ä¸ç”¨æˆ·ä½¿ç”¨ä½“éªŒé€ æˆæ˜æ˜¾å¹²æ‰°ï¼Œç ´åæ­£å¸¸çš„æŠ€æœ¯äº¤æµæ°›å›´ã€‚</p>
<p>é’ˆå¯¹ä¸Šè¿°è¿è§„è¡Œä¸ºï¼Œå¹³å°å°†ä¾æ®è¿è§„æƒ…èŠ‚è½»é‡ï¼Œé‡‡å–åŒ…æ‹¬ä½†ä¸é™äºä»¥ä¸‹å¤„ç½®æªæ–½ï¼š</p>
<ol>
<li>åˆ é™¤æˆ–é™åˆ¶è¿è§„å†…å®¹å±•ç¤º</li>
<li>é™åˆ¶è´¦å·éƒ¨åˆ†åŠŸèƒ½æˆ–é™ä½å†…å®¹æ¨èæƒé‡</li>
<li>å¯¹ä¸¥é‡æˆ–å±¡æ¬¡è¿è§„è´¦å·è¿›è¡Œå°ç¦å¤„ç†</li>
</ol>
<hr/>
<h3 data-id="heading-5">ä¸‰ã€æ•°æ®å®‰å…¨é£é™©ä¸è¿è§„å·¥å…·è¡Œä¸º</h3>
<p>éƒ¨åˆ†è¡Œä¸ºé€šè¿‡å¤–æŒ‚è„šæœ¬ã€è‡ªåŠ¨åŒ–å·¥å…·æˆ–éå®˜æ–¹æ¥å£ï¼Œå¯¹å¹³å°è¿›è¡Œå¼‚å¸¸è®¿é—®ã€æ•°æ®æŠ“å–æˆ–è‡ªåŠ¨åŒ–æ“ä½œï¼Œå¯èƒ½å¯¹å¹³å°ç³»ç»Ÿç¨³å®šæ€§ã€æ•°æ®å®‰å…¨åŠç”¨æˆ·éšç§æ„æˆå¨èƒã€‚</p>
<p>è¯¥ç±»è¡Œä¸ºå·²è¿åã€Šç¨€åœŸæ˜é‡‘ç”¨æˆ·æœåŠ¡åè®®ã€‹ã€Šç¨€åœŸæ˜é‡‘ç¤¾åŒºè§„èŒƒã€‹ç­‰ç›¸å…³çº¦å®šã€‚å¹³å°å°†æŒç»­åŠ å¼ºæŠ€æœ¯è¯†åˆ«ä¸é£æ§èƒ½åŠ›å»ºè®¾ï¼Œå¯¹å­˜åœ¨å®‰å…¨é£é™©çš„è´¦å·åŠè¡Œä¸ºä¾æ³•ä¾è§„è¿›è¡Œå¤„ç†ï¼Œåˆ‡å®ä¿éšœå¹³å°ç³»ç»Ÿä¸ç”¨æˆ·æ•°æ®å®‰å…¨ã€‚</p>
<h3 data-id="heading-6">ç»“è¯­</h3>
<p>ç¨€åœŸæ˜é‡‘å‘¼åå¹¿å¤§ç”¨æˆ·ä¸åˆ›ä½œè€…å…±åŒç»´æŠ¤å¥åº·ã€æœ‰åºçš„ç¤¾åŒºç¯å¢ƒã€‚å¦‚å‘ç°ç›¸å…³è¿è§„è¡Œä¸ºï¼Œæ¬¢è¿é€šè¿‡å¹³å°å†…ä¸¾æŠ¥æ¸ é“è¿›è¡Œåé¦ˆã€‚å¹³å°å°†æŒç»­ä¼˜åŒ–æ²»ç†æœºåˆ¶ï¼Œä¸ºå¼€å‘è€…æä¾›æ›´åŠ <strong>å®‰å…¨ã€å¯ä¿¡ã€ä¸“æ³¨æŠ€æœ¯äº¤æµ</strong>çš„ç¤¾åŒºç©ºé—´ã€‚</p>
<h2 data-id="heading-7">éƒ¨åˆ†è¿è§„ä¸¾ä¾‹</h2>
<ul>
<li>ç§ä¿¡è¾±éª‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24a9439522f446ba95b9fd26e2259e84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWENhcHRhaW5v:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770794448&amp;x-signature=MOmTpwftJeV2wB%2F0UMNX3ZOt%2Bb8%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>ç«™å¤–åˆ·å±ï¼Œåˆ©å·±ä¸»ä¹‰å¼•æµåˆ†äº«ï¼Œç‰¹åˆ«æé†’å–ä¿é™©çš„ï¼Œå…¼èŒå–æµé‡å¡çš„ã€å–æˆ¿å­çš„ã€ç®€å†æŒ‡å¯¼çš„ã€åŸ¹è®­çš„</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22553a088a4e4fec95c7dd75664913a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWENhcHRhaW5v:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770794448&amp;x-signature=c8LO8ueTOZWB0fAsDjdj0V3FJMg%3D" alt="img_v3_02ui_1c949983-6671-42ef-a807-35d9dac7cf2g.jpg" loading="lazy"/></p>
<ul>
<li>å¯¼æµ</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d70cb0d61f10469683995f9a54ac57e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWENhcHRhaW5v:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770794448&amp;x-signature=gzKvR203YXFTOIljRaQOd1eW4YA%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9dc01fc6837d4d70bcc5fa1de89cf37b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWENhcHRhaW5v:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770794448&amp;x-signature=xnECLc8D121pydgMwLjbeVfmWqw%3D" alt="image.png" loading="lazy"/></p>
<p>ç›®å‰æ–‡ç« ã€æ²¸ç‚¹ã€ç”¨æˆ·å’Œè¯„è®ºå‡æ”¯æŒä¸¾æŠ¥ï¼Œæ„Ÿè°¢å¤§å®¶çš„æ”¯æŒ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ··ç”¨ @Transactional å’Œ TransactionTemplate è¢«æ€¼äº†ï¼Œä¸‰ç§äº‹åŠ¡ç®¡ç†åˆ°åº•æ€ä¹ˆé€‰ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602531501457621001</link>    <guid>https://juejin.cn/post/7602531501457621001</guid>    <pubDate>2026-02-04T07:34:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602531501457621001" data-draft-id="7602901565032333358" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ··ç”¨ @Transactional å’Œ TransactionTemplate è¢«æ€¼äº†ï¼Œä¸‰ç§äº‹åŠ¡ç®¡ç†åˆ°åº•æ€ä¹ˆé€‰ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T07:34:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥å¥‡å°æ±¤åœ†"/> <meta itemprop="url" content="https://juejin.cn/user/1151943919285431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ··ç”¨ @Transactional å’Œ TransactionTemplate è¢«æ€¼äº†ï¼Œä¸‰ç§äº‹åŠ¡ç®¡ç†åˆ°åº•æ€ä¹ˆé€‰ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943919285431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥å¥‡å°æ±¤åœ†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T07:34:19.000Z" title="Wed Feb 04 2026 07:34:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å¼•è¨€</h3>
<p>â€œåªè¦ä½ ä¸è€ƒè™‘äº‹åŠ¡çš„é—®é¢˜ï¼Œæ€»æœ‰ä¸€å¤©äº‹åŠ¡ä¼šæ¥è€ƒè™‘ä½ ã€‚â€</p>
<p>å¿˜è®°æ˜¯å“ªä½å“²äººè¯´çš„è¿™å¥è¯äº†ï¼Œåœ¨æœ€è¿‘çš„ä¸€æ¬¡code reviewä¸­ï¼Œæˆ‘é€æ¸ä½“ä¼šåˆ°äº†è¿™å¥è¯çš„åˆ†é‡ã€‚</p>
<p>å½“æˆ‘çœ‹åˆ°åŒäº‹åœ¨ä¸€ä¸ªå¤æ‚çš„ä¸šåŠ¡é€»è¾‘ä¸­æ··ç”¨äº†<code>@Transactional</code>æ³¨è§£å’Œ<code>TransactionTemplate</code>æ—¶ï¼Œå°±é¢„æ„Ÿåˆ°å¯èƒ½ä¼šæœ‰é—®é¢˜ã€‚</p>
<p>æˆ‘é—®ä»–ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Œä»–çš„å›ç­”è®©æˆ‘æœ‰äº›æ„å¤–ï¼š"åæ­£éƒ½èƒ½å®ç°äº‹åŠ¡ï¼Œåº”è¯¥æ²¡ä»€ä¹ˆåŒºåˆ«å§ï¼Ÿ"</p>
<p>è¿™ä¸ªå›ç­”è®©æˆ‘æ„è¯†åˆ°ï¼Œå¾ˆå¤šå¼€å‘è€…å¯¹Springçš„äº‹åŠ¡ç®¡ç†æœºåˆ¶å…¶å®ç†è§£å¾—å¹¶ä¸æ·±å…¥ã€‚å¤§å®¶å¾€å¾€çŸ¥é“åŠ ä¸ª<code>@Transactional</code>å°±èƒ½å¼€å¯äº‹åŠ¡ï¼Œä½†å¯¹äºä»€ä¹ˆæ—¶å€™è¯¥ç”¨å£°æ˜å¼ã€ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ç¼–ç¨‹å¼ï¼Œä»¥åŠå®ƒä»¬èƒŒåçš„å·¥ä½œåŸç†ï¼Œå´å¾ˆå°‘æ·±ç©¶ã€‚</p>
<p>äº‹åŠ¡ç®¡ç†çœ‹ä¼¼ç®€å•ï¼Œå®åˆ™æš—è—ç„æœºã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬å°±æ¥æ·±å…¥èŠèŠSpringä¸­çš„ä¸‰ç§äº‹åŠ¡ç®¡ç†æ–¹å¼ï¼Œä»¥åŠå®ƒä»¬å„è‡ªçš„é€‚ç”¨åœºæ™¯å’Œæ½œåœ¨çš„é£é™©ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d964424c74b45938a57897c2554b256~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH5bCP5rGk5ZyG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795260&amp;x-signature=seLeQjuDQreb1FaVcLBrPus82qg%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-1">æ­£æ–‡</h3>
<h4 data-id="heading-2">ä¸‰ç§æ–¹å¼ï¼Œå„æœ‰åƒç§‹</h4>
<p>Springç»™æˆ‘ä»¬æä¾›äº†ä¸‰ç§å¤„ç†äº‹åŠ¡çš„æ–¹å¼ï¼š<code>@Transactional</code>æ³¨è§£ã€<code>TransactionTemplate</code>å’Œç›´æ¥ä½¿ç”¨<code>TransactionManager</code>ã€‚</p>
<p>å°±åƒæ­¦ä¾ å°è¯´é‡Œçš„ä¸‰ç§å…µå™¨ï¼Œæ¯ç§éƒ½æœ‰è‡ªå·±çš„æ‹›å¼å’Œé€‚ç”¨åœºæ™¯ã€‚</p>
<h5 data-id="heading-3">@Transactionalï¼šæœ€çœå¿ƒçš„</h5>
<p>æåˆ°äº‹åŠ¡ç®¡ç†ï¼ŒåŸºæœ¬ä¸Šéƒ½ä¼šæƒ³åˆ°å»ç”¨<code>@Transactional</code>ã€‚</p>
<p>ç¡®å®ï¼Œè¿™ç©æ„å„¿ç”¨èµ·æ¥ç®€å•ç²—æš´ï¼Œåœ¨æ–¹æ³•ä¸ŠåŠ ä¸€ä¸ªæ³¨è§£å°±å®Œäº‹äº†ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">UserService</span>Â {
Â  Â Â 
Â  Â Â <span class="hljs-meta">@Transactional</span>
Â  Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-built_in">void</span>Â <span class="hljs-title function_">createUser</span>(<span class="hljs-params">User user</span>)Â {
Â  Â  Â  Â  userRepository.<span class="hljs-title function_">save</span>(user);
Â  Â  Â  Â Â <span class="hljs-comment">// å¦‚æœè¿™é‡ŒæŠ›å¼‚å¸¸ï¼Œä¸Šé¢çš„æ“ä½œä¼šå›æ»š</span>
Â  Â  Â  Â  <span class="hljs-title function_">sendWelcomeEmail</span>(user);
Â  Â  }
}
</code></pre>
<p>æœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯<strong>æ— ä¾µå…¥</strong>ã€‚</p>
<p>ä¸šåŠ¡ä»£ç ä¾ç„¶å¹²å‡€ï¼Œäº‹åŠ¡é€»è¾‘å®Œå…¨äº¤ç»™Springåœ¨èƒŒåæå®šäº†ã€‚ä½†æ˜¯ï¼Œè¿™ç§é»‘ç›’å¼çš„ä¾¿åˆ©å¿…ç„¶æœ‰ä»£ä»·ã€‚</p>
<p>Springé€šè¿‡AOPæ¥å®ç°å£°æ˜å¼äº‹åŠ¡ï¼Œç»™æ–¹æ³•å¤–é¢åŒ…äº†ä¸€å±‚ä»£ç†ï¼Œè¿™å°±ä¼šå¯¼è‡´ä¸€äº›è®©äººå¤´ç–¼çš„é—®é¢˜ï¼š</p>
<p><strong>å†…éƒ¨æ–¹æ³•è°ƒç”¨å¤±æ•ˆ</strong>ï¼šè¿™æ˜¯æœ€å®¹æ˜“è¸©çš„å‘ï¼å½“åŒä¸€ä¸ªç±»å†…éƒ¨çš„æ–¹æ³•è°ƒç”¨å¸¦æœ‰<code>@Transactional</code>æ³¨è§£çš„æ–¹æ³•æ—¶ï¼Œäº‹åŠ¡ä¸ä¼šç”Ÿæ•ˆã€‚å› ä¸ºå†…éƒ¨è°ƒç”¨ä¸ä¼šèµ°ä»£ç†ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>Â Â 
<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">UserService</span>Â {
Â  Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-built_in">void</span>Â <span class="hljs-title function_">batchCreate</span>(<span class="hljs-params">List&lt;User&gt; users</span>)Â {
Â  Â  Â  Â Â <span class="hljs-keyword">for</span>Â (<span class="hljs-title class_">User</span> user : users) {
Â  Â  Â  Â  Â  Â  <span class="hljs-title function_">createUser</span>(user);Â <span class="hljs-comment">// âŒ è¿™é‡Œäº‹åŠ¡ä¸ä¼šç”Ÿæ•ˆï¼</span>
Â  Â  Â  Â  }
Â  Â  }
Â  Â Â 
Â  Â Â <span class="hljs-meta">@Transactional</span>
Â  Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-built_in">void</span>Â <span class="hljs-title function_">createUser</span>(<span class="hljs-params">User user</span>)Â {
Â  Â  Â  Â  userRepository.<span class="hljs-title function_">save</span>(user);
Â  Â  }
}
</code></pre>
<p><strong>åªå¯¹publicæ–¹æ³•ç”Ÿæ•ˆ</strong>ï¼šç§æœ‰æ–¹æ³•æˆ–è€…protectedæ–¹æ³•ä¸ŠåŠ <code>@Transactional</code>æ¯«æ— åµç”¨ã€‚</p>
<p><strong>è¦åŒ¹é…å¼‚å¸¸ç±»å‹</strong>ï¼šé»˜è®¤åªæœ‰<code>RuntimeException</code>å’Œ<code>Error</code>ä¼šè§¦å‘å›æ»šï¼Œæ£€æŸ¥å‹å¼‚å¸¸éœ€è¦ç‰¹æ®Šé…ç½®ã€‚</p>
<p>å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š</p>
<p><a href="https://juejin.cn/post/7496344493709885455" target="_blank" title="https://juejin.cn/post/7496344493709885455">juejin.cn/post/749634â€¦</a></p>
<p>è™½ç„¶è¿™äº›éƒ½æ˜¯è€ç”Ÿå¸¸è°ˆçš„é—®é¢˜äº†ï¼Œä½†åœ¨å®é™…å¼€å‘ä¸­ï¼Œè¿˜æ˜¯æœ‰å¤ªå¤šå› ä¸ºè¿™ç§ç»†èŠ‚å‡ºbugçš„æƒ…å†µã€‚</p>
<h5 data-id="heading-4">TransactionTemplateï¼šå¯æ§çš„</h5>
<p><code>TransactionTemplate</code>ç®—æ˜¯å£°æ˜å¼å’Œç¼–ç¨‹å¼äº‹åŠ¡çš„ä¸€ä¸ªå¹³è¡¡ç‚¹ã€‚å®ƒæ—¢ä¿æŒäº†ä¸€å®šçš„çµæ´»æ€§ï¼Œåˆä¸ä¼šè®©ä»£ç å˜å¾—è¿‡äºå¤æ‚ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">AccountService</span>Â {
Â  Â Â 
Â  Â Â <span class="hljs-meta">@Autowired</span>
Â  Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">TransactionTemplate</span> transactionTemplate;
Â  Â Â 
Â  Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-built_in">void</span>Â <span class="hljs-title function_">transfer</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> fromAccount, <span class="hljs-built_in">String</span> toAccount, BigDecimal amount</span>)Â {
Â  Â  Â  Â  transactionTemplate.<span class="hljs-title function_">execute</span>(status -&gt; {
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">try</span>Â {
Â  Â  Â  Â  Â  Â  Â  Â  accountRepository.<span class="hljs-title function_">debit</span>(fromAccount, amount);
Â  Â  Â  Â  Â  Â  Â  Â  accountRepository.<span class="hljs-title function_">credit</span>(toAccount, amount);
Â  Â  Â  Â  Â  Â  Â  Â Â returnnull;
Â  Â  Â  Â  Â  Â  }Â <span class="hljs-keyword">catch</span>Â (<span class="hljs-title class_">InsufficientFundsException</span> e) {
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-comment">// å¯ä»¥æ ¹æ®ä¸šåŠ¡é€»è¾‘å†³å®šæ˜¯å¦å›æ»š</span>
Â  Â  Â  Â  Â  Â  Â  Â  status.<span class="hljs-title function_">setRollbackOnly</span>();
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">throw</span>Â e;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  }
}
</code></pre>
<p>ç”¨<code>TransactionTemplate</code>çš„å¥½å¤„æ˜¯ä½ å¯ä»¥ç²¾ç¡®æ§åˆ¶äº‹åŠ¡çš„è¾¹ç•Œï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒæ–¹æ³•è°ƒç”¨çš„é—®é¢˜ã€‚</p>
<p>è€Œä¸”è¿˜å¯ä»¥åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­è·å–åˆ°äº‹åŠ¡çš„çŠ¶æ€ä¿¡æ¯ï¼Œåšç‚¹æ›´ç»†è‡´çš„æ§åˆ¶ã€‚</p>
<p>ä½†è¿™ç§æ–¹å¼ä¹Ÿæœ‰äº›é—®é¢˜ã€‚</p>
<p>æœ€æ˜æ˜¾çš„å°±æ˜¯ä»£ç çš„å¯è¯»æ€§ä¼šå˜å·®ä¸€äº›ï¼Œä¸šåŠ¡é€»è¾‘å’Œäº‹åŠ¡é€»è¾‘ä¼šæ··åœ¨ä¸€èµ·ã€‚</p>
<p>å¦å¤–ï¼Œå¦‚æœä¸šåŠ¡é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼ŒåµŒå¥—å±‚æ¬¡æ·±çš„è¯ï¼Œä»£ç ä¹Ÿä¼šå˜å¾—ä¸å¤ªå¥½ç»´æŠ¤ã€‚</p>
<p>å½“ç„¶ä¸€èˆ¬æ¥è¯´éƒ½ä¼šåœ¨é¢å¤–å°è£…ä¸€äº›æ–¹æ³•ä»¥ä¾›ä¸šåŠ¡ä¾§æ¥è°ƒç”¨ã€‚</p>
<h5 data-id="heading-5">TransactionManagerï¼šæœ€çµæ´»çš„</h5>
<p>å¦‚æœæƒ³è¦å®Œå…¨çš„æ§åˆ¶æƒï¼Œé‚£å°±å¾—ç›´æ¥ç”¨<code>TransactionManager</code>äº†ã€‚è¿™ç§æ–¹å¼æœ€çµæ´»ï¼Œä½†çµæ´»çš„ä»£ä»·å°±æ˜¯å®¹æ˜“å‡ºé”™ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-keyword">@Service</span>
publicclassÂ PaymentServiceÂ {
Â  Â Â 
Â  Â Â <span class="hljs-keyword">@Autowired</span>
Â  Â Â privateÂ PlatformTransactionManager transactionManager;
Â  Â Â 
Â  Â Â publicÂ voidÂ <span class="hljs-built_in">processPayment</span>(Payment payment)Â {
Â  Â  Â  Â  DefaultTransactionDefinition def =Â newÂ <span class="hljs-built_in">DefaultTransactionDefinition</span>();
Â  Â  Â  Â  def<span class="hljs-selector-class">.setIsolationLevel</span>(TransactionDefinition.ISOLATION_READ_COMMITTED);
Â  Â  Â  Â  def<span class="hljs-selector-class">.setPropagationBehavior</span>(TransactionDefinition.PROPAGATION_REQUIRED);
Â  Â  Â  Â Â 
Â  Â  Â  Â  TransactionStatus status = transactionManager<span class="hljs-selector-class">.getTransaction</span>(def);
Â  Â  Â  Â Â tryÂ {
Â  Â  Â  Â  Â  Â  paymentRepository<span class="hljs-selector-class">.save</span>(payment);
Â  Â  Â  Â  Â  Â  notificationService<span class="hljs-selector-class">.sendPaymentConfirmation</span>(payment);
Â  Â  Â  Â  Â  Â  transactionManager<span class="hljs-selector-class">.commit</span>(status);
Â  Â  Â  Â  }Â catchÂ (Exception e) {
Â  Â  Â  Â  Â  Â  transactionManager<span class="hljs-selector-class">.rollback</span>(status);
Â  Â  Â  Â  Â  Â Â throwÂ e;
Â  Â  Â  Â  }
Â  Â  }
}
</code></pre>
<p>è¿™ç§æ–¹å¼çš„å¥½å¤„æ˜¯å¯ä»¥ç²¾ç¡®æ§åˆ¶äº‹åŠ¡çš„æ¯ä¸€ä¸ªç»†èŠ‚ï¼Œæ¯”å¦‚éš”ç¦»çº§åˆ«ã€ä¼ æ’­è¡Œä¸ºã€è¶…æ—¶æ—¶é—´ç­‰ç­‰ã€‚</p>
<p>ä½†æ˜¯ä»£ç é‡ä¼šå¢åŠ å¾ˆå¤šï¼Œè€Œä¸”å®¹æ˜“å‡ºé”™ã€‚</p>
<p>ä¸€æ—¦å¿˜è®°æäº¤æˆ–è€…å›æ»šï¼Œé‚£è¿Ÿæ—©ä¼šæœ‰æ•°æ®ä¸ä¸€è‡´çš„æƒŠå–œã€‚</p>
<h4 data-id="heading-6">è¯¥é€‰å“ªä¸ªï¼Ÿ</h4>
<p>ç»è¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œåˆ°åº•è¯¥æ€ä¹ˆé€‰æ‹©å‘¢ï¼Ÿ</p>
<p>æˆ‘çš„å»ºè®®æ˜¯è¿™æ ·çš„ï¼š</p>
<p><strong>å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œ@Transactionalå°±å¤Ÿç”¨äº†</strong>ã€‚å®ƒç®€å•ã€ç›´æ¥ï¼Œèƒ½è§£å†³90%çš„åœºæ™¯ã€‚é™¤éä½ é‡åˆ°äº†å®ƒè§£å†³ä¸äº†çš„é—®é¢˜ï¼Œå¦åˆ™æ²¡å¿…è¦æå¤æ‚ã€‚</p>
<p><strong>éœ€è¦ç²¾ç»†æ§åˆ¶æ—¶ï¼Œè€ƒè™‘TransactionTemplate</strong>ã€‚æ¯”å¦‚ä½ éœ€è¦åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­æ ¹æ®æŸäº›æ¡ä»¶å†³å®šæ˜¯å¦å›æ»šï¼Œæˆ–è€…éœ€è¦åœ¨ä¸€ä¸ªæ–¹æ³•é‡Œç®¡ç†å¤šä¸ªäº‹åŠ¡ï¼Œè¿™æ—¶å€™å°±éœ€è¦ç”¨ä¸Š<code>TransactionTemplate</code>äº†ã€‚</p>
<p><strong>æå°‘æ•°æƒ…å†µä¸‹æ‰ç›´æ¥ç”¨TransactionManager</strong>ã€‚é€šå¸¸æ˜¯åœ¨å†™æ¡†æ¶ä»£ç æˆ–è€…æœ‰éå¸¸ç‰¹æ®Šçš„éœ€æ±‚æ—¶æ‰ä¼šç”¨åˆ°ã€‚</p>
<h4 data-id="heading-7">ä¸€ä¸ªä¾‹å­</h4>
<p>è®©æˆ‘ä¸¾ä¸ªå®é™…çš„ä¾‹å­æ¥è¯´æ˜è¿™ä¸‰ç§æ–¹å¼çš„å·®å¼‚ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªæ‰¹é‡å¯¼å…¥ç”¨æˆ·çš„åŠŸèƒ½ï¼Œè¦æ±‚æ˜¯ï¼šå¦‚æœæŸä¸ªç”¨æˆ·å¯¼å…¥å¤±è´¥ï¼Œä¸åº”è¯¥å½±å“å…¶ä»–ç”¨æˆ·çš„å¯¼å…¥ã€‚</p>
<p>ç”¨<code>@Transactional</code>çš„è¯ï¼Œå¯èƒ½ä¼šè¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">UserImportService</span>Â {
Â  Â Â 
Â  Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-built_in">void</span>Â <span class="hljs-title function_">importUsers</span>(<span class="hljs-params">List&lt;User&gt; users</span>)Â {
Â  Â  Â  Â Â <span class="hljs-keyword">for</span>Â (<span class="hljs-title class_">User</span> user : users) {
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">try</span>Â {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-title function_">createUserWithTransaction</span>(user); Â <span class="hljs-comment">// æ³¨æ„ï¼Œè¿™æ ·å†™äº‹åŠ¡ä¸ä¼šç”Ÿæ•ˆï¼</span>
Â  Â  Â  Â  Â  Â  }Â <span class="hljs-keyword">catch</span>Â (<span class="hljs-title class_">Exception</span> e) {
Â  Â  Â  Â  Â  Â  Â  Â  log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å¯¼å…¥ç”¨æˆ·å¤±è´¥: {}"</span>, user.<span class="hljs-title function_">getUsername</span>(), e);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  }
Â  Â Â 
Â  Â Â <span class="hljs-meta">@Transactional</span>
Â  Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-built_in">void</span>Â <span class="hljs-title function_">createUserWithTransaction</span>(<span class="hljs-params">User user</span>)Â {
Â  Â  Â  Â  userRepository.<span class="hljs-title function_">save</span>(user);
Â  Â  Â  Â  userProfileRepository.<span class="hljs-title function_">save</span>(user.<span class="hljs-title function_">getProfile</span>());
Â  Â  }
}
</code></pre>
<p><strong>âš ï¸ ä¸Šé¢çš„ä»£ç ä¸­ï¼Œäº‹åŠ¡æ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ï¼</strong></p>
<p>è¿™æ˜¯å› ä¸º<code>importUsers</code>æ–¹æ³•è°ƒç”¨åŒä¸€ä¸ªç±»ä¸­çš„<code>createUserWithTransaction</code>æ–¹æ³•ï¼Œå±äº<strong>å†…éƒ¨æ–¹æ³•è°ƒç”¨</strong>ã€‚Spring AOPé€šè¿‡ä»£ç†å®ç°äº‹åŠ¡ï¼Œè€ŒåŒä¸€ä¸ªç±»å†…éƒ¨çš„æ–¹æ³•è°ƒç”¨ä¸ä¼šèµ°ä»£ç†ï¼Œæ‰€ä»¥<code>@Transactional</code>æ³¨è§£å®Œå…¨å¤±æ•ˆã€‚</p>
<p>é€šä¿—çš„åšæ³•æ˜¯å°†æœ‰äº‹åŠ¡çš„æ–¹æ³•æŠ½å–åˆ°å¦ä¸€ä¸ªServiceä¸­ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">UserImportService</span>Â {
Â  Â Â 
Â  Â Â <span class="hljs-meta">@Autowired</span>
Â  Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">UserTransactionService</span> userTransactionService;
Â  Â Â 
Â  Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-built_in">void</span>Â <span class="hljs-title function_">importUsers</span>(<span class="hljs-params">List&lt;User&gt; users</span>)Â {
Â  Â  Â  Â Â <span class="hljs-keyword">for</span>Â (<span class="hljs-title class_">User</span> user : users) {
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">try</span>Â {
Â  Â  Â  Â  Â  Â  Â  Â  userTransactionService.<span class="hljs-title function_">createUserWithTransaction</span>(user); Â <span class="hljs-comment">// âœ… è¿™æ ·æ‰ä¼šç”Ÿæ•ˆ</span>
Â  Â  Â  Â  Â  Â  }Â <span class="hljs-keyword">catch</span>Â (<span class="hljs-title class_">Exception</span> e) {
Â  Â  Â  Â  Â  Â  Â  Â  log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å¯¼å…¥ç”¨æˆ·å¤±è´¥: {}"</span>, user.<span class="hljs-title function_">getUsername</span>(), e);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  }
}

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">UserTransactionService</span>Â {
Â  Â Â 
Â  Â Â <span class="hljs-meta">@Transactional</span>
Â  Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-built_in">void</span>Â <span class="hljs-title function_">createUserWithTransaction</span>(<span class="hljs-params">User user</span>)Â {
Â  Â  Â  Â  userRepository.<span class="hljs-title function_">save</span>(user);
Â  Â  Â  Â  userProfileRepository.<span class="hljs-title function_">save</span>(user.<span class="hljs-title function_">getProfile</span>());
Â  Â  }
}
</code></pre>
<p>è¿™ç§æ–¹å¼çš„é—®é¢˜æ˜¯éœ€è¦é¢å¤–åˆ›å»ºä¸€ä¸ªServiceç±»ï¼Œå¢åŠ äº†ä»£ç å¤æ‚åº¦ã€‚</p>
<p>å½“ç„¶è¿˜æœ‰å¦ä¸€ç§æ–¹å¼ä½¿ç”¨Springçš„Â <code>AopContext.currentProxy()</code>Â æ‹¿åˆ°å½“å‰ä»£ç†å¯¹è±¡å†å»è°ƒç”¨ï¼Œæˆ–è€…ç”¨Â <code>ApplicationContext</code>Â å»ä»å®¹å™¨é‡Œè·å–ä»£ç†å¯¹è±¡ï¼Œä½†å§‹ç»ˆè§‰å¾—ä¸å¤ªä¼˜é›…ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæœ‰æ—¶å€™<code>TransactionTemplate</code>ä¼šæ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚</p>
<p>ç”¨<code>TransactionTemplate</code>çš„è¯ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">UserImportService</span>Â {
Â  Â Â 
Â  Â Â <span class="hljs-meta">@Autowired</span>
Â  Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">TransactionTemplate</span> transactionTemplate;
Â  Â Â 
Â  Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-built_in">void</span>Â <span class="hljs-title function_">importUsers</span>(<span class="hljs-params">List&lt;User&gt; users</span>)Â {
Â  Â  Â  Â Â <span class="hljs-keyword">for</span>Â (<span class="hljs-title class_">User</span> user : users) {
Â  Â  Â  Â  Â  Â Â <span class="hljs-keyword">try</span>Â {
Â  Â  Â  Â  Â  Â  Â  Â  transactionTemplate.<span class="hljs-title function_">execute</span>(status -&gt; {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  userRepository.<span class="hljs-title function_">save</span>(user);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  userProfileRepository.<span class="hljs-title function_">save</span>(user.<span class="hljs-title function_">getProfile</span>());
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â returnnull;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }Â <span class="hljs-keyword">catch</span>Â (<span class="hljs-title class_">Exception</span> e) {
Â  Â  Â  Â  Â  Â  Â  Â  log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å¯¼å…¥ç”¨æˆ·å¤±è´¥: {}"</span>, user.<span class="hljs-title function_">getUsername</span>(), e);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  }
}
</code></pre>
<p>è¿™ç§æ–¹å¼å°±å¾ˆæ¸…æ™°ï¼Œäº‹åŠ¡è¾¹ç•Œåœ¨ä»£ç ä¸­ä¸€ç›®äº†ç„¶ï¼Œè€Œä¸”ä¸ç”¨æ‹…å¿ƒæ–¹æ³•è°ƒç”¨çš„é—®é¢˜ã€‚</p>
<p>é‚£<code>TransactionManager</code>å‘¢ï¼Ÿ</p>
<p>å†™ä¸šåŠ¡çš„æ—¶å€™åŸºæœ¬ä¸å¤ªä¼šç”¨åˆ°ï¼Œæ‰€ä»¥å’±ä¹Ÿä¸å¤šè´¹å£èˆŒäº†ã€‚</p>
<h4 data-id="heading-8">è¸©è¿‡çš„å‘</h4>
<p>è¯´åˆ°äº‹åŠ¡ç®¡ç†ï¼Œæˆ‘è‡ªå·±ä¹Ÿè¸©è¿‡ä¸å°‘å‘ã€‚</p>
<p>å°è±¡æœ€æ·±çš„ä¸€æ¬¡æ˜¯åœ¨å¤„ç†ä¸€ä¸ªæŠ¥è¡¨ç»Ÿè®¡çš„åŠŸèƒ½æ—¶ï¼Œç”±äºæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œæˆ‘æƒ³ç€ç”¨åªè¯»äº‹åŠ¡æ¥æé«˜æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Transactional</span>(readOnly =Â <span class="hljs-literal">true</span>)
<span class="hljs-keyword">public</span>Â <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">ReportData</span>&gt;Â <span class="hljs-title function_">generateReport</span>(<span class="hljs-params">ReportQuery query</span>)Â {
Â  Â Â <span class="hljs-comment">// å¤æ‚çš„æŸ¥è¯¢é€»è¾‘</span>
Â  Â Â <span class="hljs-keyword">return</span>Â reportRepository.<span class="hljs-title function_">findComplexData</span>(query);
}
</code></pre>
<p>ç»“æœå‘ç°æ€§èƒ½æå‡å¹¶ä¸æ˜æ˜¾ï¼Œåæ¥æ‰çŸ¥é“åªè¯»äº‹åŠ¡åœ¨æŸäº›æ•°æ®åº“è¿æ¥æ± é…ç½®ä¸‹ï¼Œæ•ˆæœå¹¶ä¸ç†æƒ³ã€‚</p>
<p>å¦ä¸€ä¸ªå¸¸è§çš„é—®é¢˜æ˜¯äº‹åŠ¡è¶…æ—¶ã€‚</p>
<p>æœ‰äº›å¼€å‘è€…å–œæ¬¢æŠŠäº‹åŠ¡è¶…æ—¶è®¾ç½®å¾—å¾ˆé•¿ï¼Œç”Ÿæ€•ä¸šåŠ¡é€»è¾‘æ‰§è¡Œæ—¶é—´è¿‡é•¿å¯¼è‡´äº‹åŠ¡å›æ»šã€‚ä½†è¿™æ ·åšçš„é£é™©å¾ˆæ˜æ˜¾ï¼Œå¦‚æœçœŸå‡ºç°äº†æ­»é”æˆ–è€…å…¶ä»–é—®é¢˜ï¼Œç³»ç»Ÿä¼šé•¿æ—¶é—´æ— å“åº”ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è¿™æ ·è®¾ç½®å¿…ç„¶æ˜¯ä¸å¤ªå¥½çš„ï¼Œæå…¶ä¸æ¨èï¼Œé™¤éä½ æ˜ç¡®çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆ</span>
<span class="hljs-meta">@Transactional(timeout =Â 300)</span>Â <span class="hljs-comment">// 5åˆ†é’Ÿè¶…æ—¶</span>
<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">void</span>Â <span class="hljs-title function_">processLargeDataSet</span><span class="hljs-params">(List&lt;Data&gt; dataList)</span>Â {
Â  Â Â <span class="hljs-comment">// å¤§é‡æ•°æ®å¤„ç†é€»è¾‘</span>
}
</code></pre>
<p>æ›´å¥½çš„åšæ³•æ˜¯ï¼ŒæŠŠå¤§äº‹åŠ¡æ‹†åˆ†æˆå°äº‹åŠ¡ï¼Œæˆ–è€…æ”¹å†™æˆæ‰¹å¤„ç†ã€‚</p>
<h4 data-id="heading-9">æ··åˆä½¿ç”¨çš„é—®é¢˜</h4>
<p>å›åˆ°æ–‡ç« å¼€å¤´æåˆ°çš„é‚£ä¸ªåŒäº‹çš„ä»£ç ï¼Œæ··åˆä½¿ç”¨ä¸åŒçš„äº‹åŠ¡ç®¡ç†æ–¹å¼å¾ˆå®¹æ˜“å‡ºé—®é¢˜ã€‚</p>
<p>æœ€å¸¸è§çš„æƒ…å†µæ˜¯äº‹åŠ¡ä¼ æ’­è¡Œä¸ºçš„ç†è§£åå·®ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">OrderService</span>Â {
Â  Â Â 
Â  Â Â <span class="hljs-meta">@Autowired</span>
Â  Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-title class_">TransactionTemplate</span> transactionTemplate;
Â  Â Â 
Â  Â Â <span class="hljs-meta">@Transactional</span>
Â  Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-built_in">void</span>Â <span class="hljs-title function_">processOrder</span>(<span class="hljs-params">Order order</span>)Â {
Â  Â  Â  Â  orderRepository.<span class="hljs-title function_">save</span>(order);
Â  Â  Â  Â Â 
Â  Â  Â  Â Â <span class="hljs-comment">// è¿™é‡Œåˆå¼€äº†ä¸€ä¸ªäº‹åŠ¡æ¨¡æ¿ï¼Œä¼ æ’­è¡Œä¸ºå¯èƒ½å’Œé¢„æœŸä¸ä¸€è‡´</span>
Â  Â  Â  Â  transactionTemplate.<span class="hljs-title function_">execute</span>(status -&gt; {
Â  Â  Â  Â  Â  Â  auditRepository.<span class="hljs-title function_">save</span>(<span class="hljs-keyword">new</span>Â <span class="hljs-title class_">OrderAudit</span>(order));
Â  Â  Â  Â  Â  Â Â returnnull;
Â  Â  Â  Â  });
Â  Â  }
}
</code></pre>
<p>è¿™ç§æ··ç”¨çš„ä»£ç å¾ˆè›‹ç–¼ï¼Œå¾ˆéš¾ç†è§£äº‹åŠ¡çš„è¾¹ç•Œï¼Œè°ƒè¯•èµ·æ¥ä¹Ÿå¾ˆçƒ¦ã€‚</p>
<p>æ‰€ä»¥åœ¨ä¸€ä¸ªserviceç±»ä¸­å°½é‡ä¿æŒäº‹åŠ¡ç®¡ç†æ–¹å¼çš„ä¸€è‡´æ€§ï¼Œæ²¡äº‹å°‘æŠ˜è…¾ã€‚</p>
<h3 data-id="heading-10">ç»“å°¾/æ€»ç»“</h3>
<p>ç¨å¾®æ€»ç»“ä¸€ä¸‹ã€‚</p>
<p>å¯¹äºæ–°æ‰‹ï¼Œå»ºè®®å…ˆæŠŠ<code>@Transactional</code>çš„å„ç§ç‰¹æ€§å’Œå‘ç‚¹ææ˜ç™½ï¼ŒåŸºæœ¬èƒ½è§£å†³å¤§éƒ¨åˆ†é—®é¢˜ã€‚ç­‰åˆ°çœŸæ­£éœ€è¦æ›´ç²¾ç»†æ§åˆ¶çš„æ—¶å€™ï¼Œå†è€ƒè™‘å…¶ä»–æ–¹æ¡ˆã€‚</p>
<p>å¯¹äºæœ‰ç»éªŒçš„å¼€å‘è€…ï¼Œåœ¨å·²ç»ç†Ÿç»ƒæŒæ¡ç¼–ç¨‹æ—¶äº‹åŠ¡æ§åˆ¶çš„å‰æä¸‹ï¼Œå†å¤šå…³æ³¨äº‹åŠ¡çš„æ€§èƒ½å½±å“ã€‚</p>
<p>äº‹åŠ¡ä¸æ˜¯ä¸‡é‡‘æ²¹ï¼Œè¿‡åº¦ä½¿ç”¨æˆ–è€…ä¸å½“ä½¿ç”¨éƒ½ä¼šå¸¦æ¥ä¸å¯é¢„æ–™çš„æ€§èƒ½é—®é¢˜ã€‚</p>
<p>æœ€é‡è¦çš„æ˜¯ï¼Œæ— è®ºé€‰æ‹©å“ªç§æ–¹å¼ï¼Œéƒ½è¦ä¿è¯ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p>
<p>æŠ€æœ¯æ˜¯ä¸ºä¸šåŠ¡æœåŠ¡çš„ï¼Œè€Œä»£ç æ˜¯è¦ç»™æ•´ä¸ªå›¢é˜Ÿä¸€èµ·ç»´æŠ¤çš„ï¼Œä¸è¦ä¸ºäº†ç‚«æŠ€è®©ä»£ç å˜å¾—æ™¦æ¶©éš¾æ‡‚ã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®ä½ ç†æ¸…æ¥šè¿™ä¸‰ç§æ–¹å¼çš„åŒºåˆ«å’Œä½¿ç”¨åœºæ™¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JS-ä¸€æ–‡å¸¦ä½ å½»åº•ææ‡‚ Promise å¹¶å‘æ§åˆ¶ï¼šall, race, any, allSettled]]></title>    <link>https://juejin.cn/post/7602544700476227594</link>    <guid>https://juejin.cn/post/7602544700476227594</guid>    <pubDate>2026-02-04T07:40:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602544700476227594" data-draft-id="7602531501457555465" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JS-ä¸€æ–‡å¸¦ä½ å½»åº•ææ‡‚ Promise å¹¶å‘æ§åˆ¶ï¼šall, race, any, allSettled"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-02-04T07:40:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JS-ä¸€æ–‡å¸¦ä½ å½»åº•ææ‡‚ Promise å¹¶å‘æ§åˆ¶ï¼šall, race, any, allSettled
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T07:40:10.000Z" title="Wed Feb 04 2026 07:40:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨å¤„ç†å¼‚æ­¥ä»»åŠ¡æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åŒæ—¶å‘èµ·å¤šä¸ªè¯·æ±‚ã€‚Promise æä¾›çš„é™æ€æ–¹æ³•èƒ½è®©æˆ‘ä»¬ä¼˜é›…åœ°æ§åˆ¶å¤šä¸ªå¹¶å‘å¼‚æ­¥ä»»åŠ¡ã€‚æœ¬æ–‡å°†æ·±åº¦å¯¹æ¯” <code>all</code>ã€<code>race</code>ã€<code>any</code> å’Œ <code>allSettled</code> çš„åŒºåˆ«ä¸åº”ç”¨åœºæ™¯ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ æ–¹æ³•è¯¦è§£ä¸å¯¹æ¯”</h2>
<h3 data-id="heading-2">1. Promise.all() â€”â€” â€œå…¨å‘˜é€šè¿‡åˆ¶â€</h3>
<ul>
<li>
<p><strong>æ¦‚å¿µ</strong>ï¼šå°†å¤šä¸ª Promise å®ä¾‹åŒ…è£…æˆä¸€ä¸ªã€‚</p>
</li>
<li>
<p><strong>çŠ¶æ€å†³å®š</strong>ï¼š</p>
<ul>
<li><strong>Fulfilled</strong>ï¼šæ‰€æœ‰å®ä¾‹éƒ½æˆåŠŸã€‚</li>
<li><strong>Rejected</strong>ï¼šåªè¦æœ‰<strong>ä¸€ä¸ª</strong>å¤±è´¥ï¼Œæ•´ä½“ç«‹å³å¤±è´¥ã€‚</li>
</ul>
</li>
<li>
<p><strong>åº”ç”¨åœºæ™¯</strong>ï¼šå¤šä¸ªæ¥å£è”åŠ¨ï¼Œå¿…é¡»å…¨éƒ¨æ‹¿åˆ°æ•°æ®æ‰èƒ½æ¸²æŸ“é¡µé¢ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-JavaScript" lang="JavaScript">  <span class="hljs-keyword">const</span> p1 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">const</span> p2 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">2</span>);
  <span class="hljs-keyword">const</span> p3 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">3</span>);

  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([p1, p2, p3])
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">results</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(results); <span class="hljs-comment">// [1, 2, 3] é¡ºåºä¸ä¼ å…¥ä¸€è‡´</span>
    })
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'å…¶ä¸­ä¸€ä¸ªå¤±è´¥äº†'</span>, err);
    });
</code></pre>
<h3 data-id="heading-3">2. Promise.race() â€”â€” â€œç«é€Ÿåˆ¶â€</h3>
<ul>
<li><strong>æ¦‚å¿µ</strong>ï¼šè°è·‘å¾—å¿«å°±å¬è°çš„ã€‚</li>
<li><strong>çŠ¶æ€å†³å®š</strong>ï¼šçŠ¶æ€å–å†³äº<strong>ç¬¬ä¸€ä¸ª</strong>æ”¹å˜çŠ¶æ€çš„å®ä¾‹ã€‚</li>
<li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šè¯·æ±‚è¶…æ—¶æ§åˆ¶ã€‚</li>
</ul>
<pre><code class="hljs language-JavaScript" lang="JavaScript">  <span class="hljs-keyword">const</span> p1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-string">'1ç§’åæˆåŠŸ'</span>), <span class="hljs-number">1000</span>)
  );
  <span class="hljs-keyword">const</span> p2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-string">'500æ¯«ç§’åæˆåŠŸ'</span>), <span class="hljs-number">500</span>)
  );
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([p1, p2]).<span class="hljs-title function_">then</span>(
    <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æµ‹è¯•1ç»“æœï¼š<span class="hljs-subst">${res}</span> (ç«é€Ÿèµ¢å®¶)`</span>, <span class="hljs-string">'success'</span>),
    <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æµ‹è¯•1å¤±è´¥ï¼š<span class="hljs-subst">${err}</span>`</span>, <span class="hljs-string">'error'</span>)
  );
</code></pre>
<h3 data-id="heading-4">3. Promise.any() â€”â€” â€œæ‹©ä¼˜å½•å–åˆ¶â€</h3>
<ul>
<li>
<p><strong>æ¦‚å¿µ</strong>ï¼šåªè¦æœ‰ä¸€ä¸ªæˆåŠŸå°±ç®—æˆåŠŸã€‚</p>
</li>
<li>
<p><strong>çŠ¶æ€å†³å®š</strong>ï¼š</p>
<ul>
<li><strong>Fulfilled</strong>ï¼šåªè¦æœ‰ä¸€ä¸ªæˆåŠŸã€‚</li>
<li><strong>Rejected</strong>ï¼š<strong>å…¨éƒ¨</strong>éƒ½å¤±è´¥æ—¶æ‰å¤±è´¥ï¼ˆè¿”å› <code>AggregateError</code>ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>åº”ç”¨åœºæ™¯</strong>ï¼šä»å¤šä¸ªå¤‡ç”¨æœåŠ¡å™¨è·å–ç›¸åŒèµ„æºã€‚</p>
</li>
</ul>
<pre><code class="hljs language-JavaScript" lang="JavaScript">  <span class="hljs-keyword">const</span> p1 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">const</span> p2 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-number">2</span>);
  <span class="hljs-keyword">const</span> p3 = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-number">3</span>);
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">any</span>([p1, p2, p3])
    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æœ‰ä¸€ä¸ªæˆåŠŸäº†ï¼š<span class="hljs-subst">${res}</span>`</span>, <span class="hljs-string">'success'</span>))
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‰€æœ‰éƒ½å¤±è´¥äº†ï¼š<span class="hljs-subst">${err}</span>`</span>, <span class="hljs-string">'error'</span>));
</code></pre>
<h3 data-id="heading-5">4. Promise.allSettled() â€”â€” â€œç»“æœå¯¼å‘åˆ¶â€</h3>
<ul>
<li><strong>æ¦‚å¿µ</strong>ï¼šæ— è®ºæˆåŠŸå¤±è´¥ï¼Œæˆ‘å…¨éƒ½è¦ã€‚</li>
<li><strong>çŠ¶æ€å†³å®š</strong>ï¼šæ°¸è¿œæ˜¯ <strong>fulfilled</strong>ï¼ˆåœ¨æ‰€æœ‰å®ä¾‹éƒ½ç»“æŸåï¼‰ã€‚</li>
<li><strong>åº”ç”¨åœºæ™¯</strong>ï¼šæ‰§è¡Œå¤šä¸ªäº’ä¸å½±å“çš„æ“ä½œï¼Œæœ€åç»Ÿä¸€ç»Ÿè®¡ç»“æœã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">äºŒã€ æ ¸å¿ƒå·®å¼‚å¯¹æ¯”è¡¨</h2>
<p>ä¸ºäº† scannabilityï¼ˆæ˜“è¯»æ€§ï¼‰ï¼Œæˆ‘ä»¬é€šè¿‡è¡¨æ ¼ç›´è§‚å¯¹æ¯”ï¼š</p>



































<table><thead><tr><th><strong>æ–¹æ³•</strong></th><th><strong>æˆåŠŸæ¡ä»¶ (Fulfilled)</strong></th><th><strong>å¤±è´¥æ¡ä»¶ (Rejected)</strong></th><th><strong>ç»“æœè¿”å›å€¼</strong></th></tr></thead><tbody><tr><td><strong><code>.all()</code></strong></td><td><strong>å…¨éƒ¨</strong>æˆåŠŸ</td><td><strong>ä»»æ„ä¸€ä¸ª</strong>å¤±è´¥</td><td>æˆåŠŸç»“æœæ•°ç»„ï¼ˆæŒ‰åºï¼‰</td></tr><tr><td><strong><code>.race()</code></strong></td><td><strong>ä»»æ„ä¸€ä¸ª</strong>æœ€å…ˆæˆåŠŸ</td><td><strong>ä»»æ„ä¸€ä¸ª</strong>æœ€å…ˆå¤±è´¥</td><td>ç¬¬ä¸€ä¸ªæ”¹å˜çŠ¶æ€çš„å€¼</td></tr><tr><td><strong><code>.any()</code></strong></td><td><strong>ä»»æ„ä¸€ä¸ª</strong>æˆåŠŸ</td><td><strong>å…¨éƒ¨</strong>å¤±è´¥</td><td>ç¬¬ä¸€ä¸ªæˆåŠŸçš„å€¼</td></tr><tr><td><strong><code>.allSettled()</code></strong></td><td><strong>æ‰€æœ‰</strong>ä»»åŠ¡ç»“æŸ</td><td>ä»ä¸ï¼ˆçŠ¶æ€æ°¸è¿œæˆåŠŸï¼‰</td><td>åŒ…å«çŠ¶æ€å’Œå€¼çš„å¯¹è±¡æ•°ç»„</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€ æ€»ç»“</h2>
<h3 data-id="heading-8">1. Promise.all ä¸ Promise.race çš„ç›´è§‚åŒºåˆ«</h3>
<ul>
<li><strong>Promise.all</strong>ï¼šç…§é¡¾â€œè·‘å¾—æœ€æ…¢â€çš„ã€‚å¿…é¡»ç­‰æœ€æ…¢çš„ä¸€ä¸ªå®Œæˆï¼Œä¸”å…¨å‘˜åˆæ ¼ï¼Œæ‰ç»™æœ€ç»ˆç»“æœã€‚</li>
<li><strong>Promise.race</strong>ï¼šå…³æ³¨â€œè·‘å¾—æœ€å¿«â€çš„ã€‚æœ€å¿«çš„é‚£ä¸ªä¸€æ—¦è¿‡çº¿ï¼Œæ— è®ºè¾“èµ¢ï¼Œæ¯”èµ›ç«‹åˆ»ç»“æŸã€‚</li>
</ul>
<h3 data-id="heading-9">2.  è¿›é˜¶ä½¿ç”¨</h3>
<p>åœ¨é¡¹ç›®ä¸­ï¼Œé…åˆ <code>async/await</code> ä½¿ç”¨æ›´åŠ ä¼˜é›…ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchData</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// å¼ºç±»å‹çº¦æŸç»“æœæ•°ç»„</span>
    <span class="hljs-keyword">const</span> [user, orders] = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-property">all</span>&lt;[<span class="hljs-title class_">UserType</span>, <span class="hljs-title class_">OrderType</span>[]]&gt;([
      <span class="hljs-title function_">getUserInfo</span>(),
      <span class="hljs-title function_">getOrderList</span>()
    ]);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user, orders);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-comment">// å¤„ç†ç¬¬ä¸€ä¸ªæ•è·åˆ°çš„é”™è¯¯</span>
  }
};
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è…¾è®¯äºŒé¢ï¼šå¦‚æœä½ æ˜¯ç‹è€…è£è€€çš„æ¶æ„å¸ˆï¼Œé¢å¯¹äº¿çº§åˆ«çš„æ’è¡Œæ¦œï¼Œä½ ä¼šå¦‚ä½•è®¾è®¡ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602565408533168178</link>    <guid>https://juejin.cn/post/7602565408533168178</guid>    <pubDate>2026-02-04T07:41:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602565408533168178" data-draft-id="7602901565032431662" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è…¾è®¯äºŒé¢ï¼šå¦‚æœä½ æ˜¯ç‹è€…è£è€€çš„æ¶æ„å¸ˆï¼Œé¢å¯¹äº¿çº§åˆ«çš„æ’è¡Œæ¦œï¼Œä½ ä¼šå¦‚ä½•è®¾è®¡ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T07:41:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¥å¥‡å°æ±¤åœ†"/> <meta itemprop="url" content="https://juejin.cn/user/1151943919285431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è…¾è®¯äºŒé¢ï¼šå¦‚æœä½ æ˜¯ç‹è€…è£è€€çš„æ¶æ„å¸ˆï¼Œé¢å¯¹äº¿çº§åˆ«çš„æ’è¡Œæ¦œï¼Œä½ ä¼šå¦‚ä½•è®¾è®¡ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1151943919285431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¥å¥‡å°æ±¤åœ†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T07:41:36.000Z" title="Wed Feb 04 2026 07:41:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡ä»é¢è¯•çš„è§’åº¦ï¼Œè·Ÿå¤§å®¶ä¸€èµ·æ¢è®¨ä¸€ä¸‹ï¼Œå¦‚ä½•å›ç­”æ›´å¥½å‘¢ï¼Ÿ</p>
<ul>
<li>æ•°æ®åº“çš„order byä¸ºä»€ä¹ˆä¸è¡Œï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269915197%26content_type%3DArticle%26match_order%3D1%26q%3DRedis%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269915197&amp;content_type=Article&amp;match_order=1&amp;q=Redis&amp;zhida_source=entity" ref="nofollow noopener noreferrer">Redis</a>æ˜¯æ’è¡Œæ¦œçš„â€œæ‰›æŠŠå­â€ï¼Ÿ</li>
<li>Redisæ‰›äº¿çº§æ•°æ®å¯èƒ½å­˜åœ¨å“ªäº›é—®é¢˜ä»¥åŠå¯¹åº”è§£å†³æ–¹æ¡ˆ</li>
<li>å®ç°æ–¹æ¡ˆï¼šåˆ†æ²»</li>
<li>å·¨äººçš„è‚©è†€ï¼Œå‰äººè¸©è¿‡çš„å‘</li>
</ul>
<h2 data-id="heading-0">1. æ•°æ®åº“çš„order by</h2>
<p>å¾ˆå¤šå°ä¼™ä¼´ï¼Œä¸€æåˆ°æ’è¡Œæ¦œï¼Œå°±æƒ³åˆ°æ•°æ®åº“çš„order byã€‚</p>
<p>æ¯”å¦‚å¾®ä¿¡è¿åŠ¨çš„æ­¥æ•°æ’è¡Œï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/94681118ab494ec8b775e4aba182e2b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH5bCP5rGk5ZyG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795696&amp;x-signature=zMVU5PEzZCGyQNzy%2BWJD33eNCHw%3D" alt="" loading="lazy"/></p>
<p><code>select * from user_info order by step desc</code></p>
<p>è¿™ä¸ªå®ç°æ²¡æœ‰é—®é¢˜çš„ï¼Œå¦‚æœè¡¨çš„æ•°æ®é‡å°‘çš„è¯ï¼Œåè€Œæ¨èè¿™æ ·å®ç°ã€‚å¦‚æœæ•°æ®é‡å¤šå‘¢ã€‚åˆ™å­˜åœ¨é—®é¢˜ï¼Œå°¤å…¶è¿˜æ¶‰åŠäº¿çº§çš„æ•°æ®é‡æ—¶~</p>
<blockquote>
<p>åœ¨äº¿çº§ç”¨æˆ·+é«˜å¹¶å‘å®æ—¶æ›´æ–°çš„åœºæ™¯ä¸‹ï¼Œä¼šå½»åº•å´©ç›˜ã€‚ åŸå› ä¸€å¥è¯ï¼š<strong>ç£ç›˜æ‰›ä¸ä½ï¼Œæ’åºç®—ä¸åŠ¨ï¼Œå¹¶å‘æ’‘ä¸èµ·</strong>ã€‚</p>
</blockquote>
<h2 data-id="heading-1">2.ä¸ºä»€ä¹ˆRedisæ˜¯æ’è¡Œæ¦œçš„æ‰›æŠŠå­</h2>
<p>å½“æ•°æ®é‡è¾ƒå¤§ä¸”éœ€è¦å®æ—¶æ›´æ–°å¹¶é¢‘ç¹æŸ¥è¯¢æ—¶ï¼Œä½¿ç”¨ Redis çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269915197%26content_type%3DArticle%26match_order%3D1%26q%3Dzset%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269915197&amp;content_type=Article&amp;match_order=1&amp;q=zset&amp;zhida_source=entity" ref="nofollow noopener noreferrer">zset</a>æœ‰åºé›†åˆæ›´ä¸ºé€‚åˆã€‚</p>
<p><code>zset</code>æ˜¯<code>Redis</code>æä¾›çš„ä¸€ç§æ•°æ®ç»“æ„ï¼Œå®ƒç±»ä¼¼äºé›†åˆï¼ˆsetï¼‰ï¼Œä½†æ¯ä¸ªæˆå‘˜éƒ½å…³è”ç€ä¸€ä¸ªåˆ†æ•°ï¼ˆ<code>score</code>ï¼‰ï¼ŒRedis ä½¿ç”¨è¿™ä¸ªåˆ†æ•°æ¥å¯¹é›†åˆä¸­çš„æˆå‘˜è¿›è¡Œæ’åºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb866734b7b744aaa020fe968f455d23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56We5aWH5bCP5rGk5ZyG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770795696&amp;x-signature=TduHGCU6hL1xsLAilwYqLkSR0g8%3D" alt="" loading="lazy"/></p>
<p>ä¸ä»…ä»…æ˜¯redisçš„zsetæ”¯æŒæ’åºï¼ŒAPIç®€å•æ˜“ç”¨ï¼Œè¿˜å› ä¸ºredisçš„æ’åºå¿«ã€å¯æ‰©å±•æ€§å¼ºã€èƒ½è½»æ¾åº”å¯¹é«˜å¹¶å‘ã€‚</p>
<h3 data-id="heading-2">2.1 redisæ’åºå¿«</h3>
<p>Redis çš„æ•°æ®å…¨æ”¾å†…å­˜ï¼Œé¿å…ç£ç›˜è¯»å†™ï¼Œæ ¸å¿ƒæ“ä½œç§’å›ï¼š</p>
<ul>
<li>æ›´æ–°åˆ†æ•°ï¼ˆZADDï¼‰â†’ å¿«å¦‚é—ªç”µ</li>
<li>æŸ¥æ’åï¼ˆZREVRANKï¼‰â†’ æ¯«ç§’å“åº”</li>
<li>æŸ¥Top 100ï¼ˆZREVRANGEï¼‰â†’ ç¬é—´å‡ºç»“æœ</li>
</ul>
<p>ä»¥ä¸‹ä¸º Redis vs MySQL æ€§èƒ½å¯¹æ¯”ï¼ˆäº¿çº§æ•°æ®ï¼‰</p>
<h3 data-id="heading-3">2.2 å¯æ‰©å±•æ€§å¼º</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269915197%26content_type%3DArticle%26match_order%3D1%26q%3D%25E5%2588%2586%25E7%2589%2587%25E5%25AD%2598%25E5%2582%25A8%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269915197&amp;content_type=Article&amp;match_order=1&amp;q=%E5%88%86%E7%89%87%E5%AD%98%E5%82%A8&amp;zhida_source=entity" ref="nofollow noopener noreferrer">åˆ†ç‰‡å­˜å‚¨</a>è½»æ¾åº”å¯¹äº¿çº§æ•°æ®ã€‚</p>
<p>Redisé€šè¿‡<strong>åˆ†ç‰‡å­˜å‚¨å°†æ•°æ®æ‹†åˆ†åˆ°å¤šä¸ªå®ä¾‹</strong>ï¼Œå¦‚åŒæŠŠ1äº¿ç”¨æˆ·åˆ†é…åˆ°10ä¸ªå°æ•°æ®åº“ï¼Œæ¯ä¸ªåªéœ€å¤„ç†1000ä¸‡æ•°æ®ï¼Œè½»æ¾å®ç°ï¼š</p>
<ul>
<li>1ï¸âƒ£ çº¿æ€§æ‰©å±•ï¼šåŠ æœºå™¨å°±èƒ½æå‡å®¹é‡å’Œæ€§èƒ½</li>
<li>2ï¸âƒ£ å‹åŠ›åˆ†æ•£ï¼šè¯»å†™è¯·æ±‚åˆ†æ‘Šåˆ°ä¸åŒåˆ†ç‰‡ï¼Œé¿å…å•ç‚¹ç“¶é¢ˆ</li>
<li>3ï¸âƒ£ ç‹¬ç«‹æ‰©å®¹ï¼šçƒ­ç‚¹åˆ†ç‰‡å¯å•ç‹¬å‡çº§é…ç½®ï¼Œä¸å¹²æ‰°å…¶ä»–èŠ‚ç‚¹</li>
</ul>
<p>ç±»æ¯”ç†è§£ï¼š</p>
<blockquote>
<p>æŠŠä¸€ä»“åº“è´§ç‰©ï¼ˆæ•°æ®ï¼‰åˆ†è£…åˆ°10è¾†å¡è½¦ï¼ˆåˆ†ç‰‡ï¼‰ï¼Œæ¯è¾†è½¦åªè¿1/10çš„è´§ï¼Œè£…å¸é€Ÿåº¦è‡ªç„¶å¿«10å€ï¼</p>
</blockquote>
<h3 data-id="heading-4">2.3 è½»æ¾åº”å¯¹é«˜å¹¶å‘</h3>
<p>Redisç”¨**å†…å­˜æ“ä½œ+å•çº¿ç¨‹+<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269915197%26content_type%3DArticle%26match_order%3D1%26q%3DIO%25E5%25A4%259A%25E8%25B7%25AF%25E5%25A4%258D%25E7%2594%25A8%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269915197&amp;content_type=Article&amp;match_order=1&amp;q=IO%E5%A4%9A%E8%B7%AF%E5%A4%8D%E7%94%A8&amp;zhida_source=entity" ref="nofollow noopener noreferrer">IOå¤šè·¯å¤ç”¨</a>**ä¸‰æŠŠåˆ©å‰‘ï¼Œè½»æ¾åˆ‡å¼€é«˜å¹¶å‘å¤§å±±ï¼š</p>
<ul>
<li>1ï¸âƒ£ å†…å­˜é—ªç”µè¯»å†™ï¼šæ•°æ®å…¨æ”¾å†…å­˜ï¼Œæ¯”ç£ç›˜å¿«10ä¸‡å€</li>
<li>2ï¸âƒ£ å•çº¿ç¨‹æ— é”ï¼šé¿å…å¤šçº¿ç¨‹åˆ‡æ¢æŸè€—ï¼ŒåŸå­æ“ä½œä¸æ€•å¹¶å‘å†²çª</li>
<li>3ï¸âƒ£ IOå¤šè·¯å¤ç”¨ï¼šä¸€ä¸ªçº¿ç¨‹ç›‘å¬ä¸‡ä¸ªè¿æ¥ï¼Œåƒé“¶è¡Œè¶…çº§æŸœå‘˜åŒæ—¶å¤„ç†å¤šçª—å£ä¸šåŠ¡</li>
</ul>
<p><strong>ç”°èºå“¥æ‰“ä¸ªæ¯”å–»å§</strong>ï¼š</p>
<p>Rediså°±åƒä¸€ä¸ª<strong>è¶…é«˜æ•ˆå¿«é¤çª—å£</strong>ï¼š</p>
<ul>
<li><strong>åªå–é¢„åˆ¶èœï¼ˆå†…å­˜æ•°æ®ï¼‰</strong> â†’ å‡ºé¤å¿«</li>
<li><strong>ä¸€ä¸ªæ”¶é“¶å‘˜ä¸“æ³¨æ‰“å•ï¼ˆå•çº¿ç¨‹ï¼‰</strong> â†’ ä¸æ‰‹å¿™è„šä¹±</li>
<li><strong>æ™ºèƒ½å«å·å™¨ç®¡ç†æ’é˜Ÿï¼ˆIOå¤šè·¯å¤ç”¨ï¼‰</strong> â†’ åƒäººæ’é˜Ÿä¹Ÿèƒ½å¿«é€Ÿå“åº”</li>
</ul>
<p>æ®æœ‰å…³æµ‹è¯•è¯æ˜ï¼Œ<strong>å•æœºRediså¯æ‰›10ä¸‡+ QPSï¼Œåˆ†ç‰‡é›†ç¾¤è½»æ¾çªç ´ç™¾ä¸‡çº§å¹¶å‘</strong>ã€‚</p>
<h2 data-id="heading-5">3.Redisæ‰›äº¿çº§æ•°æ®å¯èƒ½å­˜åœ¨å“ªäº›é—®é¢˜ä»¥åŠå¯¹åº”è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-6">3.1 çƒ­Keyé—®é¢˜</h3>
<p>æ¯”å¦‚â€œå…¨æœTOP100â€æ¦œå•ï¼Œå®¹æ˜“é€ å°±çƒ­ç‚¹keyé—®é¢˜ã€‚</p>
<blockquote>
<p>å…¨æœç©å®¶é¢‘ç¹æŸ¥è¯¢ ZREVRANGE leaderboard 0 99ï¼ˆè·å–Top 100ï¼‰ï¼Œå¯¼è‡´æ‰€æœ‰è¯·æ±‚é›†ä¸­è®¿é—® åŒä¸€ä¸ªKeyï¼ˆleaderboardï¼‰ã€‚å®¹æ˜“å¯¼è‡´å•åˆ†ç‰‡CPUå’Œå¸¦å®½è¢«æ‰“æ»¡ï¼ˆå‡è®¾æ•°æ®åˆ†ç‰‡ä¸å‡åŒ€ï¼‰ã€‚æç«¯æƒ…å†µä¸‹Rediså®ä¾‹å´©æºƒï¼Œå…¨æœæ’è¡Œæ¦œç˜«ç—ª</p>
</blockquote>
<p>å¯ä»¥é€šè¿‡è¿™äº›æ–¹å¼è§£å†³ï¼š</p>
<ul>
<li>1.<a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269915197%26content_type%3DArticle%26match_order%3D1%26q%3D%25E5%25A4%259A%25E7%25BA%25A7%25E7%25BC%2593%25E5%25AD%2598%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269915197&amp;content_type=Article&amp;match_order=1&amp;q=%E5%A4%9A%E7%BA%A7%E7%BC%93%E5%AD%98&amp;zhida_source=entity" ref="nofollow noopener noreferrer">å¤šçº§ç¼“å­˜</a>ï¼ˆRedis + jvmæœ¬åœ°ç¼“å­˜ï¼‰</li>
</ul>
<blockquote>
<ul>
<li>è¯·æ±‚ä¼˜å…ˆè¯»æœ¬åœ°å†…å­˜ç¼“å­˜</li>
<li>ç¼“å­˜æœªå‘½ä¸­æ—¶è¯»Redisé›†ç¾¤</li>
<li>Redisé›†ç¾¤å†…éƒ¨ç¼“å­˜Top 100ï¼ˆè®¾ç½®æ›´çŸ­TTLï¼‰</li>
</ul>
</blockquote>
<ul>
<li>è¯»å†™åˆ†ç¦» + ä»åº“è´Ÿè½½å‡è¡¡</li>
</ul>
<blockquote>
<p>ä¸»åº“å¤„ç†å†™è¯·æ±‚ï¼ˆæ›´æ–°åˆ†æ•°ï¼‰ã€‚å¤šä¸ªä»åº“è½®è¯¢å¤„ç†è¯»è¯·æ±‚ï¼ˆæŸ¥Top 100ï¼‰</p>
</blockquote>
<ul>
<li>åˆ†ç‰‡Keyè®¾è®¡</li>
</ul>
<blockquote>
<p>æ“ä½œï¼šå°†æ’è¡Œæ¦œæŒ‰åˆ†æ•°åŒºé—´æ‹†åˆ†æˆå¤šä¸ªKeyï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>leaderboard:top1ï¼ˆå‰100åï¼‰</li>
<li>leaderboard:top2ï¼ˆ101~1000åï¼‰</li>
<li>leaderboard:restï¼ˆå…¶ä»–ç”¨æˆ·ï¼‰</li>
</ul>
<p>æŸ¥è¯¢é€»è¾‘ï¼šæŸ¥Top 100æ—¶ï¼Œåªéœ€è®¿é—® leaderboard:top1ã€‚</p>
</blockquote>
<h3 data-id="heading-7">3.2 å†…å­˜çˆ†ç‚¸</h3>
<blockquote>
<p>å­˜å‚¨1äº¿ç”¨æˆ·ï¼Œè‹¥æ¯ä¸ªé”®å 32å­—èŠ‚ï¼ˆå¦‚ user:123ï¼‰ï¼Œä»…é”®å°±éœ€çº¦3.2GBï¼ŒåŠ ä¸Šåˆ†æ•°å’ŒæŒ‡é’ˆï¼Œå†…å­˜å‹åŠ›å·¨å¤§ã€‚</p>
</blockquote>
<p>ä¼˜åŒ–æ–¹æ¡ˆï¼š</p>
<ul>
<li><strong>ç¼©çŸ­é”®å</strong>ï¼šå°† user:123 è½¬æ¢ä¸ºæ•´æ•°ï¼ˆå¦‚123ï¼‰ï¼Œåˆ©ç”¨ Redis çš„ int ç¼–ç ä¼˜åŒ–å†…å­˜ã€‚</li>
<li><strong>åˆ†ç‰‡å­˜å‚¨</strong>ï¼šæŒ‰ç”¨æˆ·IDå“ˆå¸Œåˆ†ç‰‡åˆ°å¤šä¸ª Redis å®ä¾‹ï¼Œåˆ†æ•£å‹åŠ›ã€‚</li>
</ul>
<h3 data-id="heading-8">3.3 æ•°æ®æŒä¹…åŒ–é£é™©</h3>
<blockquote>
<p>Redis å®•æœºå¯èƒ½å¯¼è‡´æœ€æ–°æ•°æ®ä¸¢å¤±ï¼ˆå³ä½¿å¼€å¯AOFï¼Œé»˜è®¤æ¯ç§’åŒæ­¥ä¸€æ¬¡ï¼‰ã€‚</p>
</blockquote>
<p>å®¹ç¾æ–¹æ¡ˆï¼š</p>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269915197%26content_type%3DArticle%26match_order%3D1%26q%3D%25E5%25BC%2582%25E6%25AD%25A5%25E5%258F%258C%25E5%2586%2599%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269915197&amp;content_type=Article&amp;match_order=1&amp;q=%E5%BC%82%E6%AD%A5%E5%8F%8C%E5%86%99&amp;zhida_source=entity" ref="nofollow noopener noreferrer">å¼‚æ­¥åŒå†™</a>ï¼šæ›´æ–°åˆ†æ•°æ—¶ï¼ŒåŒæ­¥å†™å…¥ Kafkaï¼Œç”±æ¶ˆè´¹è€…å¼‚æ­¥è½åº“ MySQLï¼Œç”¨äºæ•…éšœæ¢å¤ã€‚</p>
</li>
<li>
<p>æ··åˆæŒä¹…åŒ–ï¼šå¼€å¯ RDB + AOFï¼Œå¹³è¡¡æ¢å¤é€Ÿåº¦ä¸æ•°æ®å®Œæ•´æ€§ã€‚</p>
</li>
</ul>
<h2 data-id="heading-9">4. å®ç°æ–¹æ¡ˆï¼šåˆ†æ²»</h2>
<p>æ¯”å¦‚æˆ‘ä»¬è¦æŸ¥è¯¢ç‹è€…è£è€€å·…å³°èµ›çš„å‰ä¸€ç™¾ç§¯åˆ†çš„ç©å®¶ã€‚ï¼ˆå…¶å®å°±æ˜¯ä¸€ä¸ªTOP Né—®é¢˜ï¼‰</p>
<p>æˆ‘ä»¬å¯ä»¥æŒ‰ç…§è¿™ç§æ€è·¯ï¼š</p>
<ul>
<li>æŒ‰åŒºé—´æ‹†åˆ†</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhida.zhihu.com%2Fsearch%3Fcontent_id%3D269915197%26content_type%3DArticle%26match_order%3D1%26q%3D%25E5%258A%25A8%25E6%2580%2581%25E8%25B7%25AF%25E7%2594%25B1%26zhida_source%3Dentity" target="_blank" title="https://zhida.zhihu.com/search?content_id=269915197&amp;content_type=Article&amp;match_order=1&amp;q=%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1&amp;zhida_source=entity" ref="nofollow noopener noreferrer">åŠ¨æ€è·¯ç”±</a></li>
<li>èšåˆæŸ¥è¯¢</li>
</ul>
<h3 data-id="heading-10">4.1. æŒ‰åŒºé—´æ‹†åˆ†ï¼šæŠŠæ’è¡Œæ¦œåˆ‡æˆå°å—è›‹ç³•**</h3>
<p><strong>æ€ä¹ˆæ‹†ï¼Ÿ</strong></p>
<ul>
<li>é«˜åˆ†ç©å®¶æ”¾ã€Œé‡‘ç›˜å­ã€ï¼š2500åˆ†ä»¥ä¸Š â†’<code>rank:2500_2600</code></li>
<li>ä¸­åˆ†ç©å®¶æ”¾ã€Œé“¶ç›˜å­ã€ï¼š2400~2500åˆ† â†’<code>rank:2400_2500</code></li>
<li>ä½åˆ†ç©å®¶ä¸¢ã€Œå¤§é”…ã€ï¼š0~2400åˆ† â†’<code>rank:0_2400</code></li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆå¿«ï¼Ÿ</strong></p>
<ul>
<li>æŸ¥Top 100åªéœ€ç¿»ã€Œé‡‘ç›˜å­ã€ï¼Œä¸ç”¨æ…åŠ¨æ•´ä¸ªå¤§é”…ï¼</li>
<li>ç›˜å­è¶Šå° â†’ ç¿»æ‰¾é€Ÿåº¦è¶Šå¿«</li>
</ul>
<h3 data-id="heading-11">4.2 åŠ¨æ€è·¯ç”±ï¼šç©å®¶æ¢åŒºè‡ªåŠ¨å¯¼èˆª</h3>
<p><strong>æ€ä¹ˆåŠ¨ï¼Ÿ</strong></p>
<ul>
<li>ç©å®¶ç§¯åˆ†å˜åŒ–æ—¶ï¼Œ<strong>è‡ªåŠ¨æ£€æµ‹è¯¥å»å“ª</strong>ï¼š</li>
</ul>
<p><code># ä¼ªä»£ç ï¼š2503åˆ†è¯¥æ”¾å“ªä¸ªåŒºé—´ï¼Ÿ if2500 &lt;= new_score &lt; 2600: æ‰”è¿› rank:2500_2600 elif2400 &lt;= new_score &lt; 2500: æ‰”è¿› rank:2400_2500</code></p>
<h3 data-id="heading-12">4.3 èšåˆæŸ¥è¯¢ï¼šæ‹¼å›¾å¼åˆå¹¶ç»“æœ</h3>
<p><strong>æ€ä¹ˆæ‹¼ï¼Ÿ</strong></p>
<ol>
<li>ä»é«˜åˆ°ä½ç¿»ç›˜å­ï¼š</li>
</ol>
<ul>
<li>å…ˆæŸ¥ã€Œé‡‘ç›˜å­ã€â†’ æ‹¿åˆ°å‰50å</li>
<li>ä¸å¤Ÿ100ï¼Ÿå†æŸ¥ã€Œé“¶ç›˜å­ã€â†’ è¡¥50å</li>
</ul>
<ol>
<li>å…¨å±€æ’åºï¼š</li>
</ol>
<ul>
<li>æŠŠä¸¤ä¸ªç›˜å­çš„100äººæŒ‰åˆ†æ•°é‡æ–°æ’åº§æ¬¡</li>
</ul>
<h2 data-id="heading-13">5. å·¨äººçš„è‚©è†€ï¼Œå‰äººè¸©è¿‡çš„å‘</h2>
<ul>
<li><strong>æ…ç”¨ZREVRANGEç±»å…¨é‡æ“ä½œ</strong></li>
</ul>
<blockquote>
<p>ç›´æ¥ä½¿ç”¨ZREVRANGEè·å–Top Næ—¶ï¼Œè‹¥æ•°æ®é‡è¿‡å¤§ï¼ˆå¦‚1äº¿ç”¨æˆ·ï¼‰ï¼Œä¼šè§¦å‘O(N)å¤æ‚åº¦éå†ï¼Œå¯¼è‡´Redisçº¿ç¨‹é˜»å¡</p>
</blockquote>
<ul>
<li><strong>è­¦æƒ•é»‘é©¬ç”¨æˆ·å†²å‡»åˆ†ç‰‡ç­–ç•¥</strong></li>
</ul>
<blockquote>
<p>çªç„¶å‡ºç°çš„é«˜åˆ†ç”¨æˆ·ï¼ˆå¦‚ç§¯åˆ†æš´æ¶¨è‡³å‰0.1%ï¼‰å¯èƒ½æ‰“ä¹±åŸæœ‰åˆ†ç‰‡è§„åˆ™ï¼Œå¯¼è‡´æ•°æ®é›†ä¸­åœ¨æŸä¸ªåˆ†ç‰‡å¼•å‘çƒ­ç‚¹ã€‚</p>
</blockquote>
<ul>
<li><strong>å†…å­˜çˆ†ç‚¸ä¸æ€§èƒ½æŠ–åŠ¨</strong></li>
</ul>
<blockquote>
<p>äº¿çº§ç”¨æˆ·å­˜å‚¨å ç”¨å†…å­˜è¶…é™ï¼Œä¸”RDB/AOFæŒä¹…åŒ–æ—¶forkå­è¿›ç¨‹å¼•å‘å†…å­˜ç¿»å€ã€‚</p>
</blockquote>
<ul>
<li><strong>æ•°æ®è¿ç§»é˜»å¡æœåŠ¡</strong></li>
</ul>
<blockquote>
<p>ç”¨æˆ·ç§¯åˆ†è·¨åˆ†ç‰‡è¿ç§»æ—¶ï¼Œè‹¥æœªåŸå­æ“ä½œå¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±æˆ–é‡å¤ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOS å¦‚ä½•ç»•è¿‡ ATS å‘é€è¯·æ±‚ï¼ŒiOSè°ƒè¯•]]></title>    <link>https://juejin.cn/post/7602579671475322899</link>    <guid>https://juejin.cn/post/7602579671475322899</guid>    <pubDate>2026-02-04T07:54:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602579671475322899" data-draft-id="7602543146237050923" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOS å¦‚ä½•ç»•è¿‡ ATS å‘é€è¯·æ±‚ï¼ŒiOSè°ƒè¯•"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T07:54:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€å¿ƒå°±å¥½2025"/> <meta itemprop="url" content="https://juejin.cn/user/3850962908492660"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOS å¦‚ä½•ç»•è¿‡ ATS å‘é€è¯·æ±‚ï¼ŒiOSè°ƒè¯•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3850962908492660/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€å¿ƒå°±å¥½2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T07:54:19.000Z" title="Wed Feb 04 2026 07:54:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨è°ƒè¯• iOS ç½‘ç»œé—®é¢˜æ—¶ï¼Œä¸€å¼€å§‹å¹¶ä¸ä¼šæƒ³åˆ° ATS ç»•è¿‡ã€‚
ä¸€èˆ¬æ˜¯æ¥è‡ªä¸€ä¸ªå¯å¤ç°çš„ç°è±¡ï¼Œ<strong>è¯·æ±‚æ ¹æœ¬æ²¡æœ‰åˆ°è¾¾æœåŠ¡å™¨</strong>ï¼Œè¿™æ—¶å€™æˆ‘ä»¬æ‰ä¼šå»å¤„ç† ATSã€‚</p>
<p>æ¯”å¦‚ï¼Œå½“ä½ åœ¨æœåŠ¡ç«¯åå°çœ‹ä¸åˆ°è®¿é—®è®°å½•ï¼Œè€Œå®¢æˆ·ç«¯æ‰‹æœºappåˆæ²¡æœ‰æ˜ç¡®æŠ¥é”™ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>å…ˆç¡®è®¤é˜»æ–­å‘ç”Ÿåœ¨å“ªä¸€å±‚</strong></h2>
<p>ATS çš„æ‹¦æˆªå‘ç”Ÿåœ¨å®¢æˆ·ç«¯ç½‘ç»œæ ˆå†…éƒ¨ã€‚
åœ¨ç»§ç»­ä¹‹å‰ï¼Œéœ€è¦å…ˆåˆ¤æ–­<strong>è¯·æ±‚æ˜¯å¦å·²ç»ç¦»å¼€è®¾å¤‡</strong>ã€‚</p>
<p>ä¸€ä¸ªç®€å•çš„éªŒè¯æ–¹å¼æ˜¯åˆ‡æ–­ç½‘ç»œï¼š</p>
<ul>
<li>å…³é—­ Wi-Fi / èœ‚çªç½‘ç»œ</li>
<li>è§¦å‘ App çš„ç›®æ ‡æ“ä½œ</li>
<li>è§‚å¯Ÿ UI æ˜¯å¦å‡ºç°åŠ è½½å¤±è´¥æˆ–è¶…æ—¶æç¤º</li>
</ul>
<p>å¦‚æœåœ¨ç½‘ç»œå…³é—­çŠ¶æ€ä¸‹è¡¨ç°ä¸€è‡´ï¼Œè¯´æ˜å½“å‰æ“ä½œå¹¶æœªè§¦å‘ç½‘ç»œè¯·æ±‚ã€‚
å¦‚æœè¡¨ç°å‘ç”Ÿå˜åŒ–ï¼Œè¯´æ˜è¯·æ±‚ç¡®å®å­˜åœ¨ï¼Œä¸‹ä¸€æ­¥æ‰æœ‰æ„ä¹‰ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>ä½¿ç”¨ä»£ç†å·¥å…·ç¡®è®¤ ATS æ˜¯å¦é˜»æ–­åœ¨ HTTPS å»ºè¿å‰</strong></h2>
<p>å½“è¯·æ±‚å­˜åœ¨æ—¶ï¼Œå¯ä»¥å…ˆç”¨ä»£ç†å·¥å…·éªŒè¯æ˜¯å¦èµ°ç³»ç»Ÿç½‘ç»œã€‚</p>
<h3 data-id="heading-2">ä»£ç†éªŒè¯æ­¥éª¤</h3>
<ul>
<li>åœ¨ç”µè„‘ä¸Šå¯åŠ¨ä»£ç†å·¥å…·ï¼ˆå¦‚ Charles / Fiddlerï¼‰</li>
<li>iPhone ä¸ç”µè„‘å¤„äºåŒä¸€å±€åŸŸç½‘</li>
<li>åœ¨ Wi-Fi è®¾ç½®ä¸­é…ç½®ä»£ç†åœ°å€å’Œç«¯å£</li>
<li>åœ¨ iOS ä¸Šå®‰è£…å¹¶ä¿¡ä»»ä»£ç†è¯ä¹¦</li>
<li>ç”¨ Safari è®¿é—®ä¸€ä¸ª HTTPS é¡µé¢</li>
</ul>
<p>å¦‚æœ Safari è¯·æ±‚èƒ½è¢«å®Œæ•´æŠ“å–ï¼Œè¯´æ˜ï¼š</p>
<ul>
<li>ç³»ç»Ÿä»£ç†ç”Ÿæ•ˆ</li>
<li>HTTPS è§£å¯†å¯ç”¨</li>
</ul>
<p>æ­¤æ—¶å†è§¦å‘ App è¯·æ±‚ï¼Œè§‚å¯Ÿä»£ç†å·¥å…·ä¸­çš„è¡Œä¸ºã€‚</p>
<hr/>
<h2 data-id="heading-3"><strong>ä»£ç†ä¸­æ²¡æœ‰ App è¯·æ±‚ï¼Œæ„å‘³ç€ä»€ä¹ˆ</strong></h2>
<p>å½“ Safari æµé‡å¯è§ï¼Œè€Œ App å®Œå…¨æ²¡æœ‰ä»»ä½•è®°å½•æ—¶ï¼Œå¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼š</p>
<p><strong>è¯¥ App çš„ç½‘ç»œè¯·æ±‚æ²¡æœ‰ç»è¿‡ç³»ç»Ÿä»£ç†ã€‚</strong></p>
<p>åœ¨ ATS åœºæ™¯ä¸­ï¼Œè¿™ç§æƒ…å†µå¸¸è§äºï¼š</p>
<ul>
<li>App ä½¿ç”¨è‡ªå®šä¹‰ç½‘ç»œæ ˆ</li>
<li>SDK å†…éƒ¨ç»•è¿‡ç³»ç»Ÿç½‘ç»œé…ç½®</li>
<li>ATS ç›´æ¥åœ¨ App å†…éƒ¨é˜»æ–­äº†è¯·æ±‚åˆ›å»º</li>
</ul>
<p>ç»§ç»­åœ¨ä»£ç†å·¥å…·ä¸­è°ƒæ•´è®¾ç½®ï¼Œå¹¶ä¸ä¼šæ”¹å˜è¿™ä¸ªç»“æœã€‚</p>
<hr/>
<h2 data-id="heading-4"><strong>ç”¨æ•°æ®æµç¡®è®¤è¯·æ±‚æ˜¯å¦è¢« ATS é˜»æ–­</strong></h2>
<p>åœ¨æ”¾å¼ƒä»£ç†ä¹‹å‰ï¼Œå¯ä»¥ä½¿ç”¨ç½‘ç»œå±‚å·¥å…·ç¡®è®¤æ˜¯å¦å­˜åœ¨åº•å±‚é€šä¿¡ã€‚</p>
<p>è§‚å¯Ÿä»¥ä¸‹ç°è±¡å³å¯åˆ¤æ–­ï¼š</p>
<ul>
<li>æ˜¯å¦æœ‰ DNS æŸ¥è¯¢</li>
<li>æ˜¯å¦æœ‰ TCP å»ºè¿</li>
<li>æ˜¯å¦æœ‰ TLS ClientHello</li>
</ul>
<p>å¦‚æœè¿™äº›éƒ½ä¸å­˜åœ¨ï¼Œè¯´æ˜è¯·æ±‚åœ¨<strong>åˆ›å»ºé˜¶æ®µ</strong>å°±è¢«æ‹¦æˆªï¼ŒATS ä»ç„¶æ˜¯ä¸»è¦æ€€ç–‘å¯¹è±¡ã€‚</p>
<hr/>
<h2 data-id="heading-5"><strong>åœ¨è‡ªæœ‰ App ä¸­å¤„ç† ATS çš„å®é™…è·¯å¾„</strong></h2>
<p>åœ¨ä½ æœ‰ App æ§åˆ¶æƒçš„å‰æä¸‹ï¼ŒATS çš„å¤„ç†æ–¹å¼å¹¶ä¸å¤æ‚ï¼Œä½†éœ€è¦æ˜ç¡®ä¿®æ”¹ä½ç½®ã€‚</p>
<h3 data-id="heading-6">å¸¸è§æ“ä½œè·¯å¾„</h3>
<ul>
<li>æ‰“å¼€é¡¹ç›®çš„ <code>Info.plist</code></li>
<li>æ£€æŸ¥ <code>NSAppTransportSecurity</code> é…ç½®</li>
<li>ç¡®è®¤æ˜¯å¦å­˜åœ¨ä»¥ä¸‹é¡¹ï¼š
<ul>
<li><code>NSAllowsArbitraryLoads</code></li>
<li><code>NSExceptionDomains</code></li>
</ul>
</li>
</ul>
<p>ä¿®æ”¹å®Œæˆåï¼Œé‡æ–°æ„å»ºå¹¶å®‰è£… Appï¼Œå†æ¬¡è§¦å‘ç½‘ç»œè¯·æ±‚ã€‚</p>
<p>è¿™ä¸€æ­¥çš„éªŒè¯æ ‡å‡†å¾ˆæ˜ç¡®ï¼š
<strong>ä¹‹å‰å®Œå…¨æ²¡æœ‰ç½‘ç»œè¡Œä¸ºçš„è¯·æ±‚ï¼Œæ˜¯å¦å¼€å§‹å»ºç«‹è¿æ¥ã€‚</strong></p>
<hr/>
<h2 data-id="heading-7"><strong>ATS æ”¾å¼€åï¼Œå¦‚ä½•ç¡®è®¤ HTTPS æ•°æ®æ˜¯å¦å®Œæ•´</strong></h2>
<p>å½“è¯·æ±‚å¼€å§‹å‘å‡ºåï¼Œä¸‹ä¸€æ­¥æ˜¯ç¡®è®¤æ˜¯å¦èƒ½æŠ“åˆ° HTTPS æ•°æ®ã€‚</p>
<p>å¦‚æœä»£ç†å·¥å…·èƒ½çœ‹åˆ° App è¯·æ±‚å¹¶æˆåŠŸè§£å¯†ï¼Œè¯´æ˜ï¼š</p>
<ul>
<li>ATS å·²ä¸å†é˜»æ–­</li>
<li>HTTPS æ ¡éªŒå…è®¸ä¸­é—´äººä»‹å…¥</li>
</ul>
<p>å¦‚æœä»£ç†ä»ç„¶æŠ“ä¸åˆ°ï¼Œä½†æ•°æ®å±‚å‡ºç°è¿æ¥ï¼Œå¯ä»¥åˆ‡æ¢æŠ“åŒ…è·¯å¾„ã€‚</p>
<hr/>
<h2 data-id="heading-8"><strong>è®¾å¤‡çº§æŠ“åŒ…ç”¨äºç»•è¿‡ä»£ç†è·¯å¾„é™åˆ¶</strong></h2>
<p>å½“ ATS å·²æ”¾å¼€ï¼Œä½† App ä»ä¸èµ°ç³»ç»Ÿä»£ç†æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è®¾å¤‡æŠ“åŒ…å·¥å…·ã€‚</p>
<h3 data-id="heading-9">ä½¿ç”¨æŠ“åŒ…å¤§å¸ˆï¼ˆSniff Masterï¼‰çš„è®¾å¤‡æŠ“åŒ…</h3>
<p>åœ¨ iOS è®¾å¤‡é€šè¿‡ USB è¿æ¥ç”µè„‘çš„æƒ…å†µä¸‹ï¼š</p>
<ul>
<li>é€‰æ‹©å¯¹åº”çš„ iOS è®¾å¤‡</li>
<li>æŒ‰æç¤ºå®Œæˆé©±åŠ¨ä¸æè¿°æ–‡ä»¶å®‰è£…</li>
<li>è¿›å…¥ HTTPS æš´åŠ›æŠ“åŒ…ç›¸å…³æ¨¡å¼</li>
<li>å¯åŠ¨æŠ“åŒ…å¹¶è§¦å‘ App ç½‘ç»œè¯·æ±‚</li>
</ul>
<p>è¿™ä¸€æ¨¡å¼ä¸ä¾èµ– Wi-Fi ä»£ç†ï¼Œä¹Ÿä¸è¦æ±‚åœ¨æ‰‹æœºä¸Šä¿¡ä»»æŠ“åŒ…è¯ä¹¦ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/706a9441544b4795bec692e3c41aa0d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-D5bCx5aW9MjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770796461&amp;x-signature=gyb5Mk54ICU40pHMsDZf6aOAzes%3D" alt="é€‰æ‹©httpsæš´åŠ›æŠ“åŒ…" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-10"><strong>é€šè¿‡ App çº§ç­›é€‰å‡å°‘å¹²æ‰°</strong></h2>
<p>è®¾å¤‡çº§æŠ“åŒ…ä¼šåŒ…å«å¤§é‡ç³»ç»Ÿè¯·æ±‚ã€‚</p>
<p>åœ¨æŠ“åŒ…å¤§å¸ˆä¸­ï¼š</p>
<ul>
<li>ä½¿ç”¨ã€Œé€‰æ‹© Appã€åŠŸèƒ½</li>
<li>ä»…ä¿ç•™ç›®æ ‡åº”ç”¨çš„æ•°æ®</li>
<li>å†æ¬¡è§¦å‘è¯·æ±‚</li>
</ul>
<p>è¿™æ ·å¯ä»¥å¿«é€Ÿå®šä½ä¸šåŠ¡æ¥å£ï¼Œè€Œä¸æ˜¯åœ¨ç³»ç»Ÿæµé‡ä¸­æ‰‹åŠ¨ç­›é€‰ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3ddc8663c8740c2b57d9a1cc8e9d2b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5b-D5bCx5aW9MjAyNQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770796461&amp;x-signature=9xrP7ceOvf%2B%2BcNVtyb7HNyhdNPE%3D" alt="appé€‰æ‹©" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-11"><strong>åˆ¤æ–­æ•°æ®ä¸å®Œæ•´çš„åŸå› </strong></h2>
<p>åœ¨æŠ“åŒ…ç»“æœä¸­ï¼Œå¦‚æœå‡ºç°ä»¥ä¸‹ç°è±¡ï¼š</p>
<ul>
<li>URL ä¸ Header å¯è§</li>
<li>è¯·æ±‚ä½“æˆ–å“åº”ä½“ä¸ºç©º</li>
</ul>
<p>è¯´æ˜ HTTPS å·²è¢«æ•è·ï¼Œä½† App å¹¶æœªä½¿ç”¨ iOS å¼€å‘è¯ä¹¦ç­¾åã€‚</p>
<p>è¿™ç±»æƒ…å†µéœ€è¦ï¼š</p>
<ul>
<li>è·å– IPA</li>
<li>ä½¿ç”¨ iOS å¼€å‘è¯ä¹¦é‡æ–°ç­¾å</li>
<li>å¦‚ IPA åŠ å¯†ï¼Œå…ˆå®Œæˆè„±å£³</li>
<li>å®‰è£…é‡ç­¾åçš„ App</li>
<li>é‡æ–°è¿›è¡ŒæŠ“åŒ…</li>
</ul>
<p>å®Œæˆåï¼Œæ•°æ®å³å¯å®Œæ•´æ˜¾ç¤ºã€‚</p>
<hr/>
<h2 data-id="heading-12"><strong>æ‹¦æˆªä¸ä¿®æ”¹çš„ä¸Šé™</strong></h2>
<p>éœ€è¦æ˜ç¡®çš„æ˜¯ï¼š</p>
<ul>
<li><strong>è¯·æ±‚ / å“åº”æ‹¦æˆªå™¨ä»…å­˜åœ¨äºä»£ç†æŠ“åŒ…æ¨¡å¼</strong></li>
<li>è®¾å¤‡çº§ HTTPS æŠ“åŒ…åªè´Ÿè´£é‡‡é›†ä¸è§£å¯†</li>
<li>åœ¨éœ€è¦ä¿®æ”¹è¯·æ±‚æˆ–å“åº”æ—¶ï¼Œå¿…é¡»å›åˆ°ä»£ç†è·¯å¾„</li>
</ul>
<p>å°†è¿™ä¸¤ç±»èƒ½åŠ›åŒºåˆ†æ¸…æ¥šï¼Œå¯ä»¥é¿å…åœ¨é”™è¯¯æ¨¡å¼ä¸‹å¯»æ‰¾ä¸å­˜åœ¨çš„åŠŸèƒ½ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.sniffmaster.net%2Ftutorial%2Fzh%2F2%2F2.html" target="_blank" title="https://www.sniffmaster.net/tutorial/zh/2/2.html" ref="nofollow noopener noreferrer">www.sniffmaster.net/tutorial/zhâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¯‘-ä» RecyclerView åˆ° LazyColumnï¼šJetpack Compose æ€§èƒ½ä¼˜åŒ–å®æˆ˜æ‰‹å†Œ]]></title>    <link>https://juejin.cn/post/7602557444111876105</link>    <guid>https://juejin.cn/post/7602557444111876105</guid>    <pubDate>2026-02-04T06:00:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602557444111876105" data-draft-id="7602651160465391666" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¯‘-ä» RecyclerView åˆ° LazyColumnï¼šJetpack Compose æ€§èƒ½ä¼˜åŒ–å®æˆ˜æ‰‹å†Œ"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-02-04T06:00:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="simplepeng"/> <meta itemprop="url" content="https://juejin.cn/user/641770519265832"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¯‘-ä» RecyclerView åˆ° LazyColumnï¼šJetpack Compose æ€§èƒ½ä¼˜åŒ–å®æˆ˜æ‰‹å†Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/641770519265832/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    simplepeng
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:00:20.000Z" title="Wed Feb 04 2026 06:00:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä» RecyclerView åˆ° LazyColumnï¼šJetpack Compose æ€§èƒ½ä¼˜åŒ–å®æˆ˜æ‰‹å†Œ</h2>
<p>When our team made the jump to Jetpack Compose, one thing immediately stood out â€” the simplicity of handling lists. No more wrestling with complex adapters, tricky cell updates, or manual diffing; just drop your items into a LazyColumn, add keys, and voilÃ  â€” instant scrolling magic! But, as you might have guessed, reality isnâ€™t always that straightforward. In this article, Iâ€™ll share how you can strategically transfer your hard earned RecyclerView optimization expertise directly into LazyColumn, ensuring maximum performance from day one.<br/>
å½“æˆ‘ä»¬å›¢é˜Ÿè¿ç§»åˆ° Jetpack Compose æ—¶ï¼Œæœ‰ä¸€ä»¶äº‹ç«‹åˆ»æ˜¾å¾—å¾ˆçªå‡ºâ€”â€”å¤„ç†åˆ—è¡¨çš„ç®€æ´æ€§ã€‚ä¸å†éœ€è¦ä¸å¤æ‚çš„ adapter æŠ˜è…¾ã€å¤„ç†æ£˜æ‰‹çš„å•å…ƒæ ¼æ›´æ–°æˆ–æ‰‹åŠ¨ diffï¼›åªéœ€æŠŠä½ çš„é¡¹æ”¾å…¥ LazyColumnï¼Œæ·»åŠ  keysï¼Œç„¶åç§â€”â€”å³æ—¶æµç•…æ»šåŠ¨çš„é­”æ³•ï¼ä½†æ­£å¦‚ä½ å¯èƒ½çŒœåˆ°çš„ï¼Œç°å®å¹¶ä¸æ€»æ˜¯é‚£ä¹ˆç®€å•ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†åˆ†äº«å¦‚ä½•å°†ä½ åœ¨ RecyclerView ä¸Šè¾›è‹¦ç§¯ç´¯çš„ä¼˜åŒ–ç»éªŒç­–ç•¥æ€§åœ°ç›´æ¥è¿ç§»åˆ° LazyColumn ä¸­ï¼Œä»ç¬¬ä¸€å¤©èµ·å°±ç¡®ä¿æ€§èƒ½æœ€å¤§åŒ–ã€‚</p>
<p>So how exactly do RecyclerViewâ€™s battle -tested optimizations map onto LazyColumnâ€™s new playing field? Letâ€™s break it down technique by technique, examining whatâ€™s directly transferable, whatâ€™s improved, and what requires a fresh approach to achieve optimal Compose performance.<br/>
é‚£ä¹ˆï¼ŒRecyclerView é‚£äº›ä¹…ç»è€ƒéªŒçš„ä¼˜åŒ–ç­–ç•¥åˆ°åº•å¦‚ä½•æ˜ å°„åˆ° LazyColumn è¿™ä¸ªæ–°é˜µåœ°ï¼Ÿè®©æˆ‘ä»¬é€é¡¹æ‹†è§£ï¼Œæ£€æŸ¥å“ªäº›å¯ä»¥ç›´æ¥è¿ç§»ã€å“ªäº›å·²è¢«æ”¹è¿›ã€ä»¥åŠå“ªäº›éœ€è¦é‡‡ç”¨æ–°çš„æ–¹æ³•æ¥å®ç°æœ€ä½³çš„ Compose æ€§èƒ½ã€‚</p>
<h3 data-id="heading-1">Identity &amp; Content Checks: From DiffUtil to Compose Keys and Immutable Models  èº«ä»½ä¸å†…å®¹æ£€æŸ¥ï¼šä» DiffUtil åˆ° Compose çš„ key ä¸ä¸å¯å˜æ¨¡å‹</h3>
<p>In RecyclerView, optimizing the calculation of differences between lists relies heavily on three essential methods:<br/>
åœ¨ RecyclerView ä¸­ï¼Œä¼˜åŒ–åˆ—è¡¨å·®å¼‚è®¡ç®—åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¾èµ–äºä¸‰ä¸ªåŸºæœ¬æ–¹æ³•ï¼š</p>
<ul>
<li><code>areItemsTheSame(oldItem, newItem)</code> â€“ Checks if two items represent the same logical entity.<br/>
<code>areItemsTheSame(oldItem, newItem)</code> â€“ æ£€æŸ¥ä¸¤ä¸ªæ¡ç›®æ˜¯å¦ä»£è¡¨ç›¸åŒçš„é€»è¾‘å®ä½“ã€‚</li>
<li><code>areContentsTheSame(oldItem, newItem)</code> â€“ Determines if the item's content has changed, prompting a UI refresh if necessary.<br/>
<code>areContentsTheSame(oldItem, newItem)</code> â€“ åˆ¤æ–­æ¡ç›®çš„å†…å®¹æ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœ‰å¿…è¦åˆ™è§¦å‘ UI åˆ·æ–°ã€‚</li>
<li><code>detectMoves</code> â€“ An advanced optimization that speeds up diff calculations, especially beneficial when you know your dataset involves item movements.<br/>
<code>detectMoves</code> â€“ ä¸€ç§é«˜çº§ä¼˜åŒ–ï¼ŒåŠ å¿«å·®å¼‚è®¡ç®—é€Ÿåº¦ï¼Œå°¤å…¶åœ¨ä½ çŸ¥é“æ•°æ®é›†ä¸­åŒ…å«é¡¹ç§»åŠ¨æ—¶ç‰¹åˆ«æœ‰ç”¨ã€‚</li>
</ul>
<p>Jetpack Compose handles these same concepts elegantly. To inform Compose how to efficiently track individual items, you provide a stable key for each one:
Jetpack Compose ä»¥ä¼˜é›…çš„æ–¹å¼å¤„ç†äº†è¿™äº›ç›¸åŒçš„æ¦‚å¿µã€‚ä¸ºäº†è®© Compose èƒ½å¤Ÿé«˜æ•ˆåœ°è¿½è¸ªæ¯ä¸ªç‹¬ç«‹é¡¹ï¼Œä½ éœ€è¦ä¸ºæ¯ä¸€é¡¹æä¾›ä¸€ä¸ªç¨³å®šçš„æ ‡è¯†é”®:</p>
<p>This <code>key</code> ensures that Compose can track the identity of items across recompositions - just like <code>areItemsTheSame</code>.
è¿™ä¸ª <code>key</code> ç¡®ä¿ Compose èƒ½åœ¨é‡ç»„è¿‡ç¨‹ä¸­è·Ÿè¸ªé¡¹çš„èº«ä»½ â€”â€” å°±åƒ <code>areItemsTheSame</code> ä¸€æ ·ã€‚</p>
<p>Handling content updates (<code>areContentsTheSame</code>) is a bit different in Compose, as it leverages internal recomposition strategies. A good rule of thumb here is to always prefer immutable UI models - achieved easily by using the <code>@Immutable</code> annotation or defining data classes with val fields exclusively. Furthermore, starting from Compose compiler 2.x (bundled with Kotlin 2.0.20), Strong Skipping mode is enabled by default, providing automatic optimization and removing the need for manual handling of immutable collections.<br/>
åœ¨ Compose ä¸­å¤„ç†å†…å®¹æ›´æ–°ï¼ˆ <code>areContentsTheSame</code> ï¼‰æœ‰äº›ä¸åŒï¼Œå› ä¸ºå®ƒåˆ©ç”¨äº†å†…éƒ¨çš„é‡ç»„ç­–ç•¥ã€‚ä¸€ä¸ªå¥½çš„ç»éªŒæ³•åˆ™æ˜¯å§‹ç»ˆä¼˜å…ˆä½¿ç”¨ä¸å¯å˜çš„ UI æ¨¡å‹ â€”â€” é€šè¿‡ä½¿ç”¨ <code>@Immutable</code> æ³¨è§£æˆ–ä»…ç”¨ val å­—æ®µå®šä¹‰æ•°æ®ç±»å¯ä»¥è½»æ¾å®ç°ã€‚æ­¤å¤–ï¼Œä»éš Kotlin 2.0.20 æ†ç»‘çš„ Compose ç¼–è¯‘å™¨ 2.x å¼€å§‹ï¼Œå·²é»˜è®¤å¯ç”¨ Strong Skipping æ¨¡å¼ï¼Œæä¾›è‡ªåŠ¨ä¼˜åŒ–ï¼Œæ¶ˆé™¤äº†å¯¹ä¸å¯å˜é›†åˆæ‰‹åŠ¨å¤„ç†çš„éœ€æ±‚ã€‚</p>
<h3 data-id="heading-2">Asynchronous Text Layout: From PrecomputedText to TextMeasurer  å¼‚æ­¥æ–‡æœ¬å¸ƒå±€ï¼šä» PrecomputedText åˆ° TextMeasurer</h3>
<p>RecyclerView veterans relied on PrecomputedText to shift expensive text-layout work onto a background thread before the view holder ever appeared on the screen. Jetpack Compose tackles this same challenge effectively through built-in paragraph caching and the TextMeasurer API. Letâ€™s map these familiar techniques onto Composeâ€™s new terrain step by step<br/>
RecyclerView çš„è€æ‰‹ä»¬ä¾èµ– PrecomputedText å°†æ˜‚è´µçš„æ–‡æœ¬å¸ƒå±€å·¥ä½œè½¬ç§»åˆ°åå°çº¿ç¨‹ï¼Œåœ¨è§†å›¾æŒæœ‰è€…å‡ºç°åœ¨å±å¹•ä¹‹å‰å°±å®Œæˆã€‚Jetpack Compose é€šè¿‡å†…ç½®çš„æ®µè½ç¼“å­˜å’Œ TextMeasurer API æœ‰æ•ˆåœ°åº”å¯¹äº†åŒæ ·çš„æŒ‘æˆ˜ã€‚è®©æˆ‘ä»¬ä¸€æ­¥æ­¥å°†è¿™äº›ç†Ÿæ‚‰çš„æŠ€æœ¯æ˜ å°„åˆ° Compose çš„æ–°é¢†åŸŸã€‚</p>
<h4 data-id="heading-3">1. Paragraph caching (built-in optimization)  1. æ®µè½ç¼“å­˜ï¼ˆå†…ç½®ä¼˜åŒ–ï¼‰</h4>
<p>Every time you emit a Text composable, Compose caches a fully- laid -out <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Freference%2Fkotlin%2Fandroidx%2Fcompose%2Fui%2Ftext%2FParagraph%3Fref%3Dhackernoon.com" target="_blank" title="https://developer.android.com/reference/kotlin/androidx/compose/ui/text/Paragraph?ref=hackernoon.com" ref="nofollow noopener noreferrer">Paragraph</a> within the current composition. As long as the text content, styling, density, and locale remain unchanged, Compose reuses this cached paragraph, avoiding unnecessary layout computations. This effectively reduces overhead for most intra-viewport updates and provides immediate performance gains without additional effort.<br/>
æ¯æ¬¡ä½ å‘å‡ºä¸€ä¸ª Text å¯ç»„åˆé¡¹æ—¶ï¼ŒCompose ä¼šåœ¨å½“å‰ç»„åˆä¸­ç¼“å­˜ä¸€ä¸ªå·²å®Œå…¨å¸ƒå±€çš„ Paragraphã€‚åªè¦æ–‡æœ¬å†…å®¹ã€æ ·å¼ã€åƒç´ å¯†åº¦å’ŒåŒºåŸŸè®¾ç½®ä¿æŒä¸å˜ï¼ŒCompose å°±ä¼šé‡ç”¨è¿™ä¸ªç¼“å­˜çš„æ®µè½ï¼Œä»è€Œé¿å…ä¸å¿…è¦çš„å¸ƒå±€è®¡ç®—ã€‚è¿™æœ‰æ•ˆåœ°å‡å°‘äº†å¤§å¤šæ•°è§†å£å†…æ›´æ–°çš„å¼€é”€ï¼Œå¹¶åœ¨æ— éœ€é¢å¤–åŠªåŠ›çš„æƒ…å†µä¸‹å¸¦æ¥å³æ—¶çš„æ€§èƒ½æå‡ã€‚</p>
<h4 data-id="heading-4">2. When it is time for big guns: Using TextMeasurer  2. åˆ°éœ€è¦å¤§æ‹›çš„æ—¶å€™ï¼šä½¿ç”¨ TextMeasurer</h4>
<p>For heavyweight or complex text scenarios (e.g., long paragraphs, variable fonts, or custom canvas drawing) where even occasional on-scroll layout recalculations are unacceptable, leverage the <code>TextMeasurer API</code> - think of it as the Compose counterpart to <code>PrecomputedText.create()</code>.<br/>
å¯¹äºé‡é‡çº§æˆ–å¤æ‚çš„æ–‡æœ¬åœºæ™¯ï¼ˆä¾‹å¦‚é•¿æ®µè½ã€å¯å˜å­—ä½“æˆ–è‡ªå®šä¹‰ç”»å¸ƒç»˜åˆ¶ï¼‰ï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹å³ä½¿å¶å°”åœ¨æ»šåŠ¨æ—¶é‡æ–°è®¡ç®—å¸ƒå±€ä¹Ÿä¸å¯æ¥å—ï¼Œåº”å½“ä½¿ç”¨ <code>TextMeasurer API</code> â€”â€” å¯ä»¥æŠŠå®ƒè§†ä¸º Compose ä¸­å¯¹åº”äº <code>PrecomputedText.create()</code> çš„å·¥å…·ã€‚</p>
<p>Benefits of using TextMeasurer:<br/>
ä½¿ç”¨ TextMeasurer çš„å¥½å¤„ï¼š</p>
<ul>
<li><strong>Precise Layout Control</strong>: Pre-measuring text off-screen provides exact item heights before composable placement, preventing layout shifts during scrolling.<br/>
ç²¾ç¡®çš„å¸ƒå±€æ§åˆ¶ï¼šåœ¨å±å¹•å¤–é¢„å…ˆæµ‹é‡æ–‡æœ¬å¯ä»¥åœ¨å¯ç»„åˆé¡¹æ”¾ç½®ä¹‹å‰æä¾›ç²¾ç¡®çš„é¡¹é«˜åº¦ï¼Œé˜²æ­¢åœ¨æ»šåŠ¨è¿‡ç¨‹ä¸­å‘ç”Ÿå¸ƒå±€ä½ç§»ã€‚</li>
<li><strong>Dynamic Overflow Detection</strong>: Access properties like <code>layoutResult.hasVisualOverflow</code> to conditionally render UI elements such as "Read more" indicators.<br/>
åŠ¨æ€æº¢å‡ºæ£€æµ‹ï¼šè®¿é—®è¯¸å¦‚ <code>layoutResult.hasVisualOverflow</code> çš„å±æ€§ä»¥æœ‰æ¡ä»¶åœ°å‘ˆç° UI å…ƒç´ ï¼Œä¾‹å¦‚â€œé˜…è¯»æ›´å¤šâ€æŒ‡ç¤ºå™¨ã€‚</li>
<li><strong>Enhanced Scroll Performance</strong>: By knowing exact item dimensions beforehand, <code>LazyColumn</code> calculates scroll positions more efficiently, ensuring smoother scrolling.<br/>
å¢å¼ºçš„æ»šåŠ¨æ€§èƒ½ï¼šé€šè¿‡äº‹å…ˆçŸ¥é“ç²¾ç¡®çš„é¡¹å°ºå¯¸ï¼Œ <code>LazyColumn</code> èƒ½æ›´é«˜æ•ˆåœ°è®¡ç®—æ»šåŠ¨ä½ç½®ï¼Œä»è€Œç¡®ä¿æ›´æµç•…çš„æ»šåŠ¨ã€‚</li>
</ul>
<p>However, introducing <code>TextMeasurer</code> increases complexity. You must:<br/>
ç„¶è€Œï¼Œå¼•å…¥ <code>TextMeasurer</code> ä¼šå¢åŠ å¤æ‚æ€§ã€‚æ‚¨å¿…é¡»ï¼š</p>
<ul>
<li>Manage recomposition carefully, especially during configuration changes (e.g., font scale, screen orientation), requiring items to be re-measured appropriately.<br/>
è°¨æ…ç®¡ç†é‡ç»„ï¼Œå°¤å…¶æ˜¯åœ¨é…ç½®æ›´æ”¹ï¼ˆä¾‹å¦‚å­—ä½“ç¼©æ”¾ã€å±å¹•æ–¹å‘ï¼‰æœŸé—´ï¼Œè¦æ±‚å¯¹é¡¹è¿›è¡Œé€‚å½“çš„é‡æ–°æµ‹é‡ã€‚</li>
<li>Implement caching to avoid redundant measurements of identical content, preserving performance.<br/>
å®ç°ç¼“å­˜ä»¥é¿å…å¯¹ç›¸åŒå†…å®¹è¿›è¡Œé‡å¤æµ‹é‡ï¼Œä»è€Œä¿æŒæ€§èƒ½ã€‚</li>
</ul>
<p>TextMeasurer is particularly useful for:<br/>
TextMeasurer å¯¹ä»¥ä¸‹æƒ…å†µç‰¹åˆ«æœ‰ç”¨ï¼š</p>
<ul>
<li>Lists with variable-length text content<br/>
åŒ…å«å¯å˜é•¿åº¦æ–‡æœ¬å†…å®¹çš„åˆ—è¡¨</li>
<li>Chat applications or message lists<br/>
èŠå¤©åº”ç”¨æˆ–æ¶ˆæ¯åˆ—è¡¨</li>
<li>Article or comment feeds æ–‡ç« æˆ–è¯„è®ºæè¦</li>
<li>Any scenario where text length significantly varies between items<br/>
ä»»ä½•æ–‡æœ¬é•¿åº¦åœ¨å„é¡¹ä¹‹é—´æ˜¾è‘—å˜åŒ–çš„åœºæ™¯</li>
</ul>
<h3 data-id="heading-5">Importance of contentType  contentType çš„é‡è¦æ€§</h3>
<p>In RecyclerView, developers utilize view types (<code>getItemViewType()</code>) to efficiently handle multiple item layouts within a single list. Jetpack Compose introduces the equivalent optimization through the <code>contentType</code> parameter in <code>LazyColumn</code>.<br/>
åœ¨ RecyclerView ä¸­ï¼Œå¼€å‘è€…ä½¿ç”¨è§†å›¾ç±»å‹ ( <code>getItemViewType()</code> ) æ¥åœ¨å•ä¸ªåˆ—è¡¨ä¸­é«˜æ•ˆå¤„ç†å¤šç§é¡¹å¸ƒå±€ã€‚Jetpack Compose åœ¨ <code>LazyColumn</code> çš„ <code>contentType</code> å‚æ•°ä¸­å¼•å…¥äº†ç­‰æ•ˆçš„ä¼˜åŒ–ã€‚</p>
<p>Hereâ€™s a way of how youâ€™d express the RecyclerView view types in Jetpack Compose:<br/>
ä¸‹é¢æ˜¯åœ¨ Jetpack Compose ä¸­è¡¨è¾¾ RecyclerView è§†å›¾ç±»å‹çš„ä¸€ç§æ–¹å¼ï¼š</p>
<p><strong>Why it matters ä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦</strong></p>
<p>While Compose allows omission of the <code>contentType</code> parameter, leaving it out negatively impacts performance, particularly for lists with mixed item types. Compose maintains a limited composition cache per <code>contentType</code>, enabling it to efficiently reuse existing compositions for items of the same visual structure without expensive rebuilds. Without specifying distinct contentTypes, all items default to a single type, rapidly exhausting Composeâ€™s internal cache. This forces frequent recompositions as users scroll, significantly increasing CPU load and potentially introducing noticeable scrolling lag.<br/>
è™½ç„¶ Compose å…è®¸çœç•¥ <code>contentType</code> å‚æ•°ï¼Œä½†çœç•¥ä¼šå¯¹æ€§èƒ½äº§ç”Ÿè´Ÿé¢å½±å“ï¼Œå°¤å…¶æ˜¯åœ¨åŒ…å«æ··åˆé¡¹ç±»å‹çš„åˆ—è¡¨ä¸­ã€‚Compose ä¸ºæ¯ä¸ª <code>contentType</code> ä¿ç•™æœ‰é™çš„ç»„åˆç¼“å­˜ï¼Œä½¿å…¶èƒ½å¤Ÿé«˜æ•ˆåœ°é‡ç”¨å…·æœ‰ç›¸åŒè§†è§‰ç»“æ„çš„ç°æœ‰ç»„åˆï¼Œé¿å…ä»£ä»·é«˜æ˜‚çš„é‡å»ºã€‚å¦‚æœä¸æŒ‡å®šä¸åŒçš„ contentTypesï¼Œæ‰€æœ‰é¡¹å°†é»˜è®¤ä¸ºå•ä¸€ç±»å‹ï¼Œä»è€Œè¿…é€Ÿè€—å°½ Compose çš„å†…éƒ¨ç¼“å­˜ã€‚è¿™ä¼šå¯¼è‡´ç”¨æˆ·æ»šåŠ¨æ—¶é¢‘ç¹é‡æ–°ç»„åˆï¼Œæ˜¾è‘—å¢åŠ  CPU è´Ÿè½½ï¼Œå¹¶å¯èƒ½å¼•å…¥æ˜æ˜¾çš„æ»šåŠ¨å¡é¡¿ã€‚</p>
<p>For optimal performance in lists with heterogeneous content, always specify the appropriate <code>contentType</code> to match your data structure.<br/>
å¯¹äºå…·æœ‰å¼‚æ„å†…å®¹çš„åˆ—è¡¨ï¼Œä¸ºäº†è·å¾—æœ€ä½³æ€§èƒ½ï¼Œè¯·å§‹ç»ˆæŒ‡å®šä¸æ‚¨çš„æ•°æ®ç»“æ„ç›¸åŒ¹é…çš„é€‚å½“ <code>contentType</code> ã€‚</p>
<h4 data-id="heading-6">Nested List Prefetching: From initialPrefetchItemCount to nestedPrefetchItemCount  åµŒå¥—åˆ—è¡¨é¢„å–ï¼šä» initialPrefetchItemCount åˆ° nestedPrefetchItemCount</h4>
<p>When developing apps with nested scrolling lists â€” such as vertical feeds containing horizontal carousels â€” optimizing prefetching is crucial for maintaining a smooth user experience. In traditional RecyclerView setups, we rely on <code>setInitialPrefetchItemCount</code> to preload off-screen items. Jetpack Compose provides a direct analogue through the experimental <code>LazyListPrefetchStrategy</code> API, specifically its <code>nestedPrefetchItemCount</code> parameter.<br/>
åœ¨å¼€å‘åŒ…å«åµŒå¥—æ»šåŠ¨åˆ—è¡¨çš„åº”ç”¨æ—¶â€”â€”ä¾‹å¦‚åŒ…å«æ°´å¹³èµ°é©¬ç¯çš„å‚ç›´ä¿¡æ¯æµâ€”â€”ä¼˜åŒ–é¢„å–å¯¹äºç»´æŒæµç•…çš„ç”¨æˆ·ä½“éªŒè‡³å…³é‡è¦ã€‚åœ¨ä¼ ç»Ÿçš„ RecyclerView æ–¹æ¡ˆä¸­ï¼Œæˆ‘ä»¬ä¾èµ– <code>setInitialPrefetchItemCount</code> æ¥é¢„åŠ è½½å±å¹•å¤–çš„é¡¹ã€‚Jetpack Compose é€šè¿‡å®éªŒæ€§çš„ <code>LazyListPrefetchStrategy</code> API æä¾›äº†ç›´æ¥å¯¹åº”çš„åŠŸèƒ½ï¼Œç‰¹åˆ«æ˜¯å®ƒçš„ <code>nestedPrefetchItemCount</code> å‚æ•°ã€‚</p>
<p>Hereâ€™s how you implement prefetching in a nested Compose list scenario:<br/>
ä¸‹é¢æ˜¯å¦‚ä½•åœ¨åµŒå¥—çš„ Compose åˆ—è¡¨åœºæ™¯ä¸­å®ç°é¢„å–ï¼š</p>
<p>Common pitfall here (at least, the one that I saw with my own eyes) â€” sometimes developers set <code>LazyListPrefetchStrategy</code> to parent list and not to the nested ones, which, obviously, gains no effect. Always ensure you apply <code>nestedPrefetchItemCount</code> to the nested, inner scrolling list state to achieve the intended optimization.<br/>
è¿™é‡Œå¸¸è§çš„ä¸€ä¸ªé”™è¯¯ï¼ˆè‡³å°‘æ˜¯æˆ‘äº²çœ¼è§è¿‡çš„ï¼‰â€”â€”æœ‰æ—¶å¼€å‘è€…å°† <code>LazyListPrefetchStrategy</code> è®¾ç½®åœ¨çˆ¶åˆ—è¡¨ä¸Šï¼Œè€Œä¸æ˜¯è®¾ç½®åœ¨åµŒå¥—åˆ—è¡¨ä¸Šï¼Œè¿™æ˜¾ç„¶ä¸ä¼šèµ·ä½œç”¨ã€‚åŠ¡å¿…å°† <code>nestedPrefetchItemCount</code> åº”ç”¨äºåµŒå¥—çš„ã€å†…éƒ¨çš„æ»šåŠ¨åˆ—è¡¨çŠ¶æ€ï¼Œä»¥è¾¾åˆ°é¢„æœŸçš„ä¼˜åŒ–æ•ˆæœã€‚</p>
<p>Be mindful that aggressive prefetch settings can significantly inflate Composeâ€™s composition cache. On memory-constrained devices, overly large prefetch counts can push your app toward OOM crashes. Always profile memory usage carefully after adjusting your prefetch budgets â€” especially if targeting low-end hardware.<br/>
è¯·æ³¨æ„ï¼Œæ¿€è¿›çš„é¢„å–è®¾ç½®ä¼šæ˜¾è‘—å¢åŠ  Compose çš„ç»„åˆç¼“å­˜ã€‚åœ¨å†…å­˜å—é™çš„è®¾å¤‡ä¸Šï¼Œè¿‡å¤§çš„é¢„å–æ•°é‡å¯èƒ½ä¼šå°†ä½ çš„åº”ç”¨æ¨å‘ OOM å´©æºƒã€‚æ¯æ¬¡è°ƒæ•´é¢„å–é¢„ç®—åéƒ½è¦ä»”ç»†åˆ†æå†…å­˜ä½¿ç”¨æƒ…å†µâ€”â€”å°¤å…¶æ˜¯åœ¨ä»¥ä½ç«¯ç¡¬ä»¶ä¸ºç›®æ ‡æ—¶ã€‚</p>
<h3 data-id="heading-7">Bonus part â€” animating your lists  é™„åŠ éƒ¨åˆ† â€” åˆ—è¡¨åŠ¨ç”»</h3>
<p>And finally, letâ€™s talk about animations. Compose 1.7 made adding smooth item animations surprisingly straightforward especially compared to custom RecyclerView ItemAnimators. Instead of manually orchestrating animations, simply use <code>Modifier.animateItem()</code> with concise specs for fades and movements:<br/>
æœ€åï¼Œæˆ‘ä»¬æ¥è°ˆè°ˆåŠ¨ç”»ã€‚Compose 1.7 ä½¿å¾—ä¸ºé¡¹ç›®æ·»åŠ æµç•…åŠ¨ç”»å˜å¾—å‡ºå¥‡åœ°ç®€å•ï¼Œå°¤å…¶æ˜¯ç›¸æ¯”è‡ªå®šä¹‰ RecyclerView ItemAnimatorsã€‚ä½ æ— éœ€æ‰‹åŠ¨ç¼–æ’åŠ¨ç”»ï¼Œåªéœ€ä½¿ç”¨ <code>Modifier.animateItem()</code> å¹¶é…ä»¥ç®€æ˜çš„æ·¡å…¥æ·¡å‡ºå’Œä½ç§»è§„èŒƒï¼š</p>
<pre><code class="hljs language-c" lang="c">Modifier.animateItem(
    fadeInSpec = tween(<span class="hljs-number">200</span>),
    fadeOutSpec = tween(<span class="hljs-number">120</span>),
    placementSpec = spring(stiffness = Spring.StiffnessMediumLow)
)
</code></pre>
<p>This reduces complexity, enabling you to easily deliver polished and engaging UIs.<br/>
è¿™æ ·å¯ä»¥é™ä½å¤æ‚æ€§ï¼Œä½¿ä½ æ›´å®¹æ˜“äº¤ä»˜ç²¾è‡´ä¸”å¸å¼•äººçš„ç”¨æˆ·ç•Œé¢ã€‚</p>
<h3 data-id="heading-8">Conclusion ç»“è®º</h3>
<p>Jetpack Compose transforms Android UI development, simplifying many complexities that have challenged RecyclerView users. However, maximizing Composeâ€™s potential still demands strategic insight and careful application of optimization techniques. By leveraging keys for identity checks, using immutable models to optimize recompositions, mastering the TextMeasurer API for efficient text handling, and applying correct prefetch strategies for nested lists, your performance skills from RecyclerView will significantly enhance your Compose applications. Embrace these methods, and youâ€™ll ensure your UI remains fluid, responsive, and delightful for users â€” proving once again that foundational performance strategies never go out of style, they simply evolve.<br/>
Jetpack Compose æ”¹å˜äº† Android UI å¼€å‘ï¼Œç®€åŒ–äº†è®¸å¤šæ›¾è®© RecyclerView ç”¨æˆ·å¤´ç–¼çš„å¤æ‚é—®é¢˜ã€‚ç„¶è€Œï¼Œè¦å……åˆ†å‘æŒ¥ Compose çš„æ½œåŠ›ï¼Œä»ç„¶éœ€è¦æœ‰ç­–ç•¥çš„è§è§£å’Œå¯¹ä¼˜åŒ–æŠ€æœ¯çš„è°¨æ…åº”ç”¨ã€‚é€šè¿‡åˆ©ç”¨ keys è¿›è¡Œèº«ä»½æ£€æŸ¥ã€ä½¿ç”¨ä¸å¯å˜æ¨¡å‹æ¥ä¼˜åŒ–é‡ç»„ã€æŒæ¡ TextMeasurer API ä»¥é«˜æ•ˆå¤„ç†æ–‡æœ¬ï¼Œä»¥åŠä¸ºåµŒå¥—åˆ—è¡¨åº”ç”¨æ­£ç¡®çš„é¢„å–ç­–ç•¥ï¼Œä½ åœ¨ RecyclerView æ—¶ç§¯ç´¯çš„æ€§èƒ½æŠ€èƒ½å°†æ˜¾è‘—æå‡ä½ åœ¨ Compose ä¸­çš„åº”ç”¨è¡¨ç°ã€‚é‡‡çº³è¿™äº›æ–¹æ³•ï¼Œä½ å°†ç¡®ä¿ä½ çš„ UI ä¿æŒæµç•…ã€å“åº”è¿…é€Ÿå¹¶è®©ç”¨æˆ·æ„‰æ‚¦â€”â€”å†æ¬¡è¯æ˜åŸºç¡€çš„æ€§èƒ½ç­–ç•¥ä¸ä¼šè¿‡æ—¶ï¼Œå®ƒä»¬åªæ˜¯ä¸æ–­æ¼”è¿›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaå…«è‚¡æ–‡é¢è¯•é‡ç‚¹å®Œæ•´ç‰ˆ]]></title>    <link>https://juejin.cn/post/7602551091516915721</link>    <guid>https://juejin.cn/post/7602551091516915721</guid>    <pubDate>2026-02-04T05:37:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602551091516915721" data-draft-id="7602512226999697458" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaå…«è‚¡æ–‡é¢è¯•é‡ç‚¹å®Œæ•´ç‰ˆ"/> <meta itemprop="keywords" content="åç«¯,é¢è¯•,Java"/> <meta itemprop="datePublished" content="2026-02-04T05:37:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaæ°´è§£"/> <meta itemprop="url" content="https://juejin.cn/user/2441349519143037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaå…«è‚¡æ–‡é¢è¯•é‡ç‚¹å®Œæ•´ç‰ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2441349519143037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaæ°´è§£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:37:25.000Z" title="Wed Feb 04 2026 05:37:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»25åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é¢è¯•åå‡ å®¶å…¬å¸ï¼ˆå°ä¸­å¤§ä¼ä¸šï¼‰æ€»ç»“çš„[Javaå…«è‚¡æ–‡]ï¼Œæ ‡è®°é‡ç‚¹çš„ä¸€å®šè¦æŒæ¡ï¼Œå‡ ä¹50%æ¦‚ç‡ä¼šè¢«é—®åˆ°ã€‚ä¸€ç›´ä¸æ¨èæ­»è®°ç¡¬èƒŒï¼Œåº”è¯¥ç»“åˆåœºæ™¯ä¸šåŠ¡ä»£ç ã€æ‰‹åŠ¨ç”»å›¾åŠ æ·±ç†è§£ï¼Œä¼ æ‰¿ç¨‹åºçŒ¿å¼€æºç²¾ç¥ï¼Œç°åˆ†äº«æœ‰éœ€è¦çš„äººã€‚
**</p>
<p><strong>ä¸€ï¼Œæ¡†æ¶ç¯‡</strong>**</p>
<h4 data-id="heading-0"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>1.Springæ¡†æ¶ä¸­çš„å•ä¾‹beanæ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿ</h4>
<p>Â Â Â Â Â Â  å•ä¾‹Bean çš„çº¿ç¨‹å®‰å…¨æ€§å–å†³äº Bean çš„å…·ä½“å®ç°ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨springä¸­çš„beanéƒ½æ˜¯æ— çŠ¶æ€ï¼ˆæ²¡æœ‰å¯ä¿®æ”¹çš„æˆå‘˜å˜é‡ï¼‰çš„å¯¹è±¡ï¼Œå°±æ²¡æœ‰[çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œä½†å¦‚æœåœ¨beanä¸­å®šä¹‰äº†å¯ä¿®æ”¹çš„æˆå‘˜å˜é‡ï¼Œæ˜¯éœ€è¦è€ƒè™‘çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ã€‚</p>
<p>Â Â Â Â Â Â  æˆ‘ä»¬å¯ä»¥åŠ é”ï¼Œä½¿ç”¨synchronizedå…³é”®å­—è¿›è¡ŒåŒæ­¥ï¼Œä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½è®¿é—®è¯¥æ–¹æ³•ï¼›ä¹Ÿå¯ä»¥é€šè¿‡ @Lookup æ³¨è§£è®¾ç½®beanä¸ºå¤šä¾‹ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½ä¼šåˆ›å»ºä¸€ä¸ªbeanå®ä¾‹ï¼Œå¤šä¸ªçº¿ç¨‹æ“ä½œäº’ä¸å½±å“ï¼Œä½†æ€§èƒ½å—æŸï¼›</p>
<h4 data-id="heading-1"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>2.èƒ½ä»‹ç»ä¸€ä¸‹åŠ¨æ€ä»£ç†å—</h4>
<p>Â Â Â Â Â Â  åŠ¨æ€ä»£ç†æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡Œæ—¶é€šè¿‡åå°„æœºåˆ¶è‡ªåŠ¨ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œç¡®ä¿åœ¨ä¸ä¿®æ”¹ç›®æ ‡ç±»çš„æƒ…å†µä¸‹ï¼Œå¢å¼ºç›®æ ‡ç±»çš„åŠŸèƒ½ï¼ˆç±»å¢å¼ºï¼‰ï¼ŒJavaæä¾›äº†ä¸¤ç§æ–¹å¼æ¥å®ç°åŠ¨æ€ä»£ç†ï¼š</p>
<p>Â Â Â Â Â Â  åœ¨SpringBoot2ä¹‹å‰ï¼ŒSpringä¼šæ ¹æ®ç›®æ ‡å¯¹è±¡çš„ç‰¹æ€§è‡ªåŠ¨é€‰æ‹©ï¼Œæ¯”å¦‚ç›®æ ‡ç±»å®ç°äº†è‡³å°‘ä¸€ä¸ªæ¥å£é»˜è®¤ä½¿ç”¨JDKåŠ¨æ€ä»£ç†ï¼Œå¦‚æœæ²¡æœ‰å®ç°æ¥å£å°±é»˜è®¤CGLIBä»£ç†ï¼›è€ŒSpringBoot2.2ä¹‹åï¼Œç»Ÿä¸€ä½¿ç”¨CGLIBä»£ç†ï¼ˆæ— è®ºç›®æ ‡ç±»æ˜¯å¦å®ç°æ¥å£ï¼‰</p>
<p>Â Â Â Â Â Â  JDKåŠ¨æ€ä»£ç†ï¼šåŸºäºæ¥å£çš„åŠ¨æ€ä»£ç†ï¼Œåªèƒ½ä»£ç†å®ç°äº†æ¥å£çš„ç±»ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡é€Ÿåº¦å¿«ï¼ˆç›´æ¥æ ¹æ®æ¥å£ç”Ÿæˆå­—èŠ‚ç å¹¶ç”±ç±»åŠ è½½å™¨åŠ è½½ï¼‰ï¼Œæ–¹æ³•è°ƒç”¨è¾ƒæ…¢ï¼ˆéœ€è¦é€šè¿‡Mehtod.invoke( )æ–¹æ³•è°ƒç”¨ï¼Œåå°„æ–¹æ³•ç›¸å¯¹è¾ƒæ…¢ã€‚è¯´æ˜ï¼šJDK6æ–¹æ³•è°ƒç”¨æ¯”CGLIBæ…¢ï¼Œä½†JDK7/8å¯¹åå°„è°ƒç”¨åšäº†ä¼˜åŒ–ï¼Œä¸æ¯”CGLIBæ…¢ï¼‰ï¼›</p>
<p>Â Â Â Â Â Â  CGLIBåŠ¨æ€ä»£ç†ï¼šåŸºäºç±»ç»§æ‰¿çš„åŠ¨æ€ä»£ç†ï¼Œç”Ÿæˆç›®æ ‡ç±»çš„å­ç±»æ¥å®ç°ä»£ç†ï¼Œä»£ç†å¯¹è±¡åˆ›å»ºé€Ÿåº¦æ…¢(ä½¿ç”¨ASMå­—èŠ‚ç ç”Ÿæˆç›®æ ‡ç±»çš„å­ç±»)ï¼Œæ–¹æ³•è°ƒç”¨å¿«(ç›´æ¥è¦†ç›–ç›®æ ‡æ–¹æ³•ï¼Œå¹¶åœ¨æ–¹æ³•ä¸­æ’å…¥æ‹¦æˆªé€»è¾‘ï¼Œæ²¡æœ‰èµ°åå°„)ï¼›</p>
<p>åŠ¨æ€ä»£ç†æä¾›äº†é«˜åº¦çš„çµæ´»æ€§å’Œæ‰©å±•æ€§ï¼Œä½†ä¹Ÿå¸¦æ¥äº†æ€§èƒ½å’Œå¤æ‚æ€§ï¼Œå¹¿æ³›åº”ç”¨äºAOPã€è¿œç¨‹ä»£ç†ã€Springçš„ä¾èµ–æ³¨å…¥ç­‰åœºæ™¯ã€‚</p>
<h4 data-id="heading-2"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>3.è¿‡æ»¤å™¨å’Œæ‹¦æˆªå™¨æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f79618e3e62d4f6a9ef0e3fac44e4d4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=CuQKdewYcTna7jRs9grcC2%2Fjv%2B8%3D" alt="" loading="lazy"/></p>
<p>ï¼ˆ1ï¼‰è¿‡æ»¤å™¨æ˜¯Servletå±‚é¢çš„ï¼ŒéšServletå®¹å™¨å¯åŠ¨åˆå§‹åŒ–ï¼›æ‹¦æˆªå™¨æ˜¯Springæ¡†æ¶çš„ï¼ŒéšSpringå®¹å™¨å¯åŠ¨åˆå§‹åŒ–ï¼›</p>
<p>ï¼ˆ2ï¼‰è¿‡æ»¤å™¨åœ¨æ‹¦æˆªå™¨ä¹‹å‰æ‰§è¡Œï¼Œå¯ä»¥å¤„ç†æ‰€æœ‰çš„è¯·æ±‚ï¼›è€Œæ‹¦æˆªå™¨åªèƒ½å¤„ç†SpingMVCçš„Controllerè¯·æ±‚ï¼›</p>
<p>ï¼ˆ3ï¼‰è¿‡æ»¤å™¨æ“ä½œæ›´åº•å±‚ï¼Œä¸€èˆ¬å¤„ç†è·Ÿä¸šåŠ¡æ— å…³çš„é€»è¾‘æ“ä½œï¼Œæ¯”å¦‚è¯·æ±‚/å“åº”çš„å…¨å±€ç¼–ç è®¾ç½®ï¼›æ‹¦æˆªå™¨æ›´è´´è¿‘ä¸šåŠ¡ï¼Œæ¯”å¦‚ç”¨æˆ·ç™»é™†çŠ¶æ€éªŒè¯ï¼›</p>
<p>ä¾‹å­ï¼šè¿‡æ»¤å™¨è®¾ç½®è¯·æ±‚ç¼–ç  UTF-8</p>
<ol>
<li>@WebFilter("/*")Â //Â æ‹¦æˆªæ‰€æœ‰è¯·æ±‚Â Â </li>
<li><strong>public</strong>Â <strong>class</strong>Â EncodingFilterÂ <strong>implements</strong>Â FilterÂ {Â Â </li>
<li>Â Â Â Â @OverrideÂ Â </li>
<li>Â Â Â Â <strong>public</strong>Â <strong>void</strong>Â doFilter(ServletRequestÂ request,Â ServletResponseÂ response,Â FilterChainÂ chain)Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â <strong>throws</strong>Â IOException,Â ServletExceptionÂ {Â Â </li>
<li>Â Â Â Â Â Â Â Â //Â è®¾ç½®ç¼–ç Â Â </li>
<li>Â Â Â Â Â Â Â Â request.setCharacterEncoding("UTF-8");Â Â </li>
<li>Â Â Â Â Â Â Â Â response.setCharacterEncoding("UTF-8");Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â Â Â Â Â //Â ç»§ç»­å¾€ä¸‹èµ°Â Â </li>
<li>Â Â Â Â Â Â Â Â chain.doFilter(request,Â response);Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>}Â </li>
</ol>
<p>ä¾‹å­ï¼šç™»å½•æ‹¦æˆªå™¨ï¼ˆæœªç™»å½•è·³è½¬åˆ°ç™»å½•é¡µï¼‰</p>
<ol>
<li><strong>public</strong>Â <strong>class</strong>Â LoginInterceptorÂ <strong>implements</strong>Â HandlerInterceptorÂ {Â Â </li>
<li>Â Â Â @OverrideÂ Â </li>
<li>Â Â Â Â <strong>public</strong>Â <strong>boolean</strong>Â preHandle(HttpServletRequestÂ request,Â HttpServletResponseÂ response,Â ObjectÂ handler)Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â <strong>throws</strong>Â ExceptionÂ {Â Â </li>
<li>Â Â Â Â Â Â Â Â //Â å‡è®¾Â sessionÂ é‡Œæœ‰Â loginUserÂ æ‰è¡¨ç¤ºç™»å½•Â Â </li>
<li>Â Â Â Â Â Â Â Â ObjectÂ userÂ =Â request.getSession().getAttribute("loginUser");Â Â </li>
<li>Â Â Â Â Â Â Â Â <strong>if</strong>Â (userÂ ==Â <strong>null</strong>)Â {Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â response.sendRedirect("/login");Â //Â è·³è½¬åˆ°ç™»å½•é¡µÂ Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â <strong>return</strong>Â <strong>false</strong>;Â //Â æ‹¦æˆªÂ Â </li>
<li>Â Â Â Â Â Â Â Â }Â Â </li>
<li>Â Â Â Â Â Â Â Â <strong>return</strong>Â <strong>true</strong>;Â //Â æ”¾è¡ŒÂ Â </li>
<li>Â Â Â Â }Â Â </li>
<li>}Â </li>
</ol>
<h4 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>4.springäº‹åŠ¡å¤±æ•ˆçš„åœºæ™¯æœ‰å“ªäº›ï¼Ÿ</h4>
<p>Â Â Â Â Â Â  äº‹åŠ¡åº•å±‚æ˜¯åŸºäºAOPå®ç°çš„ï¼Œè€ŒAOPæ˜¯é€šè¿‡ä»£ç†å¯¹è±¡å®ç°çš„ã€‚@Transactionalæ³¨è§£çš„å®ç°é€»è¾‘ï¼Œå¯ä¿®é¥°ç±»æˆ–æ–¹æ³•ï¼š</p>
<p>ï¼ˆ1ï¼‰å¯åŠ¨æ—¶æ‰«ææ³¨è§£</p>
<p>å½“Springå®¹å™¨å¯åŠ¨æ—¶ï¼ŒTransactionAnnotationParserä¼šæ‰«æ@Transactionalæ³¨è§£ï¼Œå¹¶å°†å…¶è§£æä¸ºä¸€ä¸ªTransactionAttributeå¯¹è±¡</p>
<p>ï¼ˆ2ï¼‰åˆ›å»ºä»£ç†å¯¹è±¡</p>
<p>Springä½¿ç”¨AOPä¸ºå¸¦æœ‰@Transactionalçš„ç±»ç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œæ ¸å¿ƒæ˜¯TransactionInterceptor(äº‹åŠ¡æ‹¦æˆªå™¨ï¼‰</p>
<p>ï¼ˆ3ï¼‰æ–¹æ³•è°ƒç”¨æ‹¦æˆª</p>
<p>å½“å¤–éƒ¨è°ƒç”¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•æ—¶ï¼Œäº‹åŠ¡æ‹¦æˆªå™¨ä¼šæ‹¦æˆªæ–¹æ³•è°ƒç”¨ï¼Œæ‹¦æˆªå™¨é€šè¿‡TransactionManageræ¥ç®¡ç†äº‹åŠ¡ï¼šåˆ¤æ–­å½“å‰æ˜¯å¦å­˜åœ¨äº‹åŠ¡ï¼Œå¦‚æœéœ€è¦æ–°å»ºäº‹åŠ¡å°±è°ƒç”¨begin( )æ–¹æ³•ï¼Œæ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼Œæ–¹æ³•æ‰§è¡ŒæˆåŠŸåˆ™æäº¤äº‹åŠ¡ï¼Œå¼‚å¸¸æ—¶æ ¹æ®å›æ»šè§„åˆ™å†³å®šæ˜¯å¦å›æ»šã€‚</p>
<p>springäº‹åŠ¡å¤±æ•ˆçš„åœºæ™¯å¦‚ä¸‹ï¼š</p>
<p>ï¼ˆ1ï¼‰æ–¹æ³•æ²¡æœ‰ç”¨publicÂ ä¿®é¥°ï¼Œä»£ç†é»˜è®¤åªä¼šæ‹¦æˆªå…¬å…±æ–¹æ³•ï¼›</p>
<p>ï¼ˆ2ï¼‰åŒä¸€ä¸ªç±»ä¸­é€šè¿‡thisæ¥è°ƒç”¨äº‹åŠ¡æ–¹æ³•ï¼Œè¿™æ—¶å€™è°ƒç”¨ä¸ä¼šç»è¿‡ä»£ç†å¯¹è±¡ï¼ˆäº‹åŠ¡çš„å¼€å¯ã€æäº¤ã€å›æ»šç­‰é€»è¾‘éƒ½æ˜¯åœ¨ä»£ç†å¯¹è±¡çš„æ–¹æ³•è°ƒç”¨é“¾ä¸­å®ç°çš„ï¼Œthisæ˜¯å½“å‰å¯¹è±¡æœ¬èº«ï¼Œä¸æ˜¯ä»£ç†å¯¹è±¡ï¼‰ã€‚è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡å°†è‡ªè°ƒç”¨çš„æ–¹æ³•æå–åˆ°å¦ä¸€ä¸ªæœåŠ¡ç±»è§£å†³ï¼›</p>
<p>ï¼ˆ3ï¼‰äº‹åŠ¡æ³¨è§£æ ‡è®°åœ¨æ¥å£ä¸Šè€Œä¸æ˜¯å®ç°ç±»ä¸Šï¼›</p>
<p>ï¼ˆ4ï¼‰è‡ªå·±æ‰‹åŠ¨æ•è·å¼‚å¸¸æ²¡æœ‰æŠ›å‡ºï¼Œäº‹åŠ¡æ— æ³•çŸ¥æ‚‰</p>
<p>ï¼ˆ5ï¼‰äº‹åŠ¡é»˜è®¤åªä¼šå›æ»šè¿è¡Œæ—¶å¼‚å¸¸å’Œé”™è¯¯ã€‚å‘ç”Ÿå—æ£€æŸ¥å¼‚å¸¸æ—¶äº‹åŠ¡æ— æ³•å›æ»šï¼Œå¯é€šè¿‡åœ¨catchä¸­æŠ›å‡ºRuntimeExceptionå¼‚å¸¸ï¼›æˆ–è€…é€šè¿‡é…ç½®@Transactional(rollbackFor = Exception.class)è®¾ç½®å›æ»šæ‰€æœ‰å¼‚å¸¸ã€‚</p>
<ol>
<li>@ServiceÂ Â </li>
<li><strong>public</strong>Â <strong>class</strong>Â OrderServiceÂ {Â Â </li>
<li>Â Â Â </li>
<li>Â Â Â Â @AutowiredÂ Â </li>
<li>Â Â Â Â <strong>private</strong>Â OrderRepositoryÂ orderRepository;Â Â </li>
<li>Â Â Â </li>
<li>Â Â Â Â @TransactionalÂ Â </li>
<li>Â Â Â Â <strong>public</strong>Â <strong>void</strong>Â updatePriceWrong(LongÂ orderId)Â {Â Â </li>
<li>Â Â Â Â Â Â Â Â <strong>try</strong>Â {Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â //Â æ›´æ–°æ•°æ®åº“æ•°æ®Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â orderRepository.updatePrice(orderId,Â 20);Â Â </li>
<li>Â Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â //Â æŠ›å‡ºå—æ£€æŸ¥å¼‚å¸¸Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â <strong>throw</strong>Â <strong>new</strong>Â IOException("æ¨¡æ‹ŸIOå¼‚å¸¸");Â Â </li>
<li>Â Â Â Â Â Â Â Â }Â <strong>catch</strong>Â (IOExceptionÂ e)Â {Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â //Â æ‰‹åŠ¨æ•è·ï¼Œä½†æ²¡æœ‰ç»§ç»­æŠ›å‡ºÂ Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â System.out.println("æ•è·å¼‚å¸¸:Â "Â +Â e.getMessage());Â Â </li>
<li>Â Â Â Â Â Â Â Â }Â Â </li>
<li>Â Â Â Â Â Â Â Â //Â æ­¤æ—¶äº‹åŠ¡æ„ŸçŸ¥ä¸åˆ°å¼‚å¸¸ï¼Œæœ€ç»ˆæ•°æ®ä¼šæäº¤ï¼Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>}Â Â </li>
</ol>
<h4 data-id="heading-4"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>5.springçš„IOCå®¹å™¨å’Œbeançš„åˆ›å»ºè¿‡ç¨‹ï¼Ÿ</h4>
<p>IOCå®¹å™¨çš„åˆ›å»ºè¿‡ç¨‹ä¸ºï¼š</p>
<p>ï¼ˆ1ï¼‰è¯»å–é…ç½®æ–‡ä»¶ï¼šåŠ è½½é…ç½®æ–‡ä»¶æˆ–é…ç½®ç±»ä¸­çš„Beanå®šä¹‰ï¼›</p>
<p>ï¼ˆ2ï¼‰åˆ›å»ºBeanFactoryï¼šåˆå§‹åŒ– DefaultListableBeanFactory ä½œä¸ºé»˜è®¤çš„Beanå·¥å‚ï¼Œæ¥ç®¡ç† Beançš„å®šä¹‰ï¼ˆBeanDefinitionï¼‰å’Œå®ä¾‹ï¼›</p>
<p>ï¼ˆ3ï¼‰è§£æBeanDefinitionï¼šSpringè§£ææ¯ä¸ªBeanï¼Œå°è£…æˆBeanDefinitionå¯¹è±¡ï¼Œå­˜å…¥BeanDefinitionMapä¸­ï¼›</p>
<p>ï¼ˆ4ï¼‰æ³¨å†ŒBeanDefinitionåˆ°BeanFactoryä¸­ï¼›</p>
<p>ï¼ˆ5ï¼‰åˆ›å»ºå•ä¾‹Beanï¼šApplicationContextåœ¨å®¹å™¨åˆ·æ–°æ—¶å°±åˆ›å»ºå•ä¾‹Bean</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0cde59d263bf45d38dc9399ac312ec77~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=i8%2BbRLJLAYxlc7q2gfKsn9AFHd4%3D" alt="" loading="lazy"/></p>
<p>ï¼ˆ1ï¼‰å®ä¾‹åŒ–ï¼šSpringå®¹å™¨å¯åŠ¨æ—¶ï¼Œæ ¹æ®XMLé…ç½®æ–‡ä»¶æˆ–æ³¨è§£æ‰«ææ¥è·å–Beançš„å®šä¹‰ä¿¡æ¯ï¼Œé€šè¿‡åå°„è°ƒç”¨æ„é€ å‡½æ•°æ¥åˆ›å»ºBeanå®ä¾‹ï¼›</p>
<p>ï¼ˆ2ï¼‰ä¾èµ–æ³¨å…¥ï¼šSpringå®¹å™¨æ ¹æ®Beançš„é…ç½®ï¼Œé€šè¿‡setteræ³¨å…¥ã€å­—æ®µæ³¨å…¥æˆ–æ„é€ å™¨æ³¨å…¥è¿›è¡Œä¾èµ–æ³¨å…¥ï¼›</p>
<p>ï¼ˆ3ï¼‰åˆå§‹åŒ–ï¼šSpringå®¹å™¨ä¸ºæ¯ä¸ªBeanè°ƒç”¨åˆå§‹åŒ–æ–¹æ³•ï¼Œæ¯”å¦‚Awareæ¥å£å›è°ƒã€å‰ç½®å¤„ç†ç­‰ï¼›</p>
<p>ï¼ˆ4ï¼‰ä½¿ç”¨Beanï¼šåœ¨å®¹å™¨ä¸­ï¼ŒBeanå¯ä»¥éšæ—¶è¢«è·å–å’Œä½¿ç”¨ï¼›</p>
<p>ï¼ˆ5ï¼‰é”€æ¯beanï¼šå½“å®¹å™¨å…³é—­æ—¶ï¼ŒSpringä¼šè°ƒç”¨Beançš„é”€æ¯æ–¹æ³•æ¥é”€æ¯bean</p>
<blockquote>
<blockquote>
<p><strong>ç¯‡å¹…é™åˆ¶ä¸‹é¢å°±åªèƒ½ç»™å¤§å®¶å±•ç¤ºå°å†Œéƒ¨åˆ†å†…å®¹äº†ã€‚æ•´ç†äº†ä¸€ä»½æ ¸å¿ƒé¢è¯•ç¬”è®°åŒ…æ‹¬äº†ï¼šJavaé¢è¯•ã€Springã€JVMã€MyBatisã€Redisã€MySQLã€å¹¶å‘ç¼–ç¨‹ã€å¾®æœåŠ¡ã€Linuxã€Springbootã€SpringCloudã€MQã€Kafka é¢è¯•ä¸“é¢˜</strong></p>
<blockquote>
</blockquote>
<p><strong>éœ€è¦å…¨å¥—é¢è¯•ç¬”è®°åŠç­”æ¡ˆã€æ‰«ä¸€æ‰«ã€‘</strong> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å³å¯å…è´¹è·å–**</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c8b2fbf827c4bc3a36a4ecf2594f783~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=ZNvTYcwe5OnPdVt1oeJxu6OMXs8%3D" alt="8fbf1ef8b61e2dbbb33b7690a41d12e.png" loading="lazy"/></p>
</blockquote>
<h4 data-id="heading-5"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>6.èƒ½è¯´ä¸€ä¸‹Springä¸­çš„å¾ªç¯å¼•ç”¨å—ï¼Œæ€ä¹ˆè§£å†³</h4>
<p>Â Â Â Â Â Â  å¾ªç¯ä¾èµ–å°±æ˜¯ä¸¤ä¸ªæˆ–å¤šä¸ªæ¨¡å—ã€ç±»ï¼ˆBeanï¼‰ã€ç»„ä»¶ä¹‹é—´äº’ç›¸ä¾èµ–ï¼Œå½¢æˆä¸€ä¸ªé—­ç¯ã€‚å¾ªç¯ä¾èµ–åœ¨springä¸­æ˜¯å…è®¸çš„ï¼Œspringæ¡†æ¶åˆ©ç”¨ä¸‰çº§ç¼“å­˜èƒ½è§£å†³å¤§éƒ¨åˆ†çš„å¾ªç¯ä¾èµ–ï¼Œå…¶å…³é”®å°±æ˜¯è¦æå‰æš´éœ²æœªå®Œå…¨åˆ›å»ºå¥½çš„Beanã€‚</p>
<p>Â Â Â Â Â Â  ä¸€çº§ç¼“å­˜ï¼ˆSingleton Objects Mapï¼‰ï¼Œå•ä¾‹æ± ï¼Œç”¨æ¥å­˜å‚¨å®Œå…¨åˆå§‹åŒ–å¥½çš„å•ä¾‹Beanï¼›äºŒçº§ç¼“å­˜ï¼ˆEarly Singleton Objects Mapï¼‰ï¼šç”¨æ¥å­˜å‚¨å·²ç»å®ä¾‹åŒ–ä½†æœªå®Œå…¨åˆå§‹åŒ–çš„Beanï¼ˆç”¨äºæå‰æš´éœ²å¯¹è±¡ï¼‰ï¼›ä¸‰çº§ç¼“å­˜ï¼ˆSingleton Factories Mapï¼‰:ç”¨æ¥å­˜å‚¨å¯¹è±¡å·¥å‚ï¼Œå¯ä»¥é€šè¿‡å·¥å‚åˆ›å»ºæ—©æœŸBeanï¼ˆç”¨äºè§£å†³ä»£ç†å¯¹è±¡çš„åˆ›å»ºï¼‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/141f822381644aea86f8ae7f43120483~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=YENiQkRMbFXzjceJg2rgnEAtXa8%3D" alt="" loading="lazy"/></p>
<p>Â Â Â Â Â Â  ä¸€èˆ¬çš„å¾ªç¯ä¾èµ–ï¼Œæ¯”å¦‚Aå’ŒBå¯¹è±¡é€šè¿‡setteræ³¨å…¥å½¢æˆå¾ªç¯ä¾èµ–ï¼Œé¦–å…ˆåˆ›å»ºAå®ä¾‹ï¼Œå°†è¿™ä¸ªåŠæˆå“AåŠ å…¥åˆ°äºŒçº§ç¼“å­˜ä¸­ï¼Œæ¥ç€æ³¨å…¥ä¾èµ–Bï¼Œä»äºŒçº§ç¼“å­˜ä¸­è·å–åŠæˆå“Aå°†Båˆå§‹åŒ–ï¼Œ Båˆ›å»ºæˆåŠŸï¼Œå°†Bå­˜å‚¨åˆ°å•ä¾‹æ± ä¸­ï¼Œåœ¨å•ä¾‹æ± ä¸­å°†Bæ³¨å…¥ç»™Aï¼ŒAåˆ›å»ºæˆåŠŸï¼Œå­˜å‚¨åˆ°å•ä¾‹æ± ä¸­ï¼›ï¼ˆä½†äºŒçº§ç¼“å­˜ä¸èƒ½è§£å†³ä»£ç†å¯¹è±¡ï¼Œæ‰€ä»¥å¼•å…¥äº†ä¸‰çº§ç¼“å­˜ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e17b98bce5ca4500b6d0822cd4b6b725~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=a2GUhAca2p6RQqWUgWJ9AgyJnto%3D" alt="" loading="lazy"/></p>
<p>Â Â Â Â Â Â  åˆ›å»ºAå®ä¾‹ï¼Œå°†å¯¹è±¡Aç”ŸæˆObjectFactoryå¯¹è±¡æ”¾å…¥åˆ°ä¸‰çº§ç¼“å­˜ä¸­ï¼Œæ¥ç€æ³¨å…¥Bï¼Œå‘ç°Bä¸å­˜åœ¨ï¼Œå®ä¾‹åŒ–Bï¼ŒBä¹Ÿç”ŸæˆObjectFactoryå¯¹è±¡æ”¾å…¥ä¸‰çº§ç¼“å­˜ï¼ŒBä»ä¸‰çº§ç¼“å­˜ä¸­è·å–Aå¯¹è±¡å·¥å‚åˆ›å»ºçš„ä»£ç†å¯¹è±¡ï¼Œä»£ç†å¯¹è±¡æ”¾å…¥äºŒçº§ç¼“å­˜ä¸­ï¼Œå°†Açš„ä»£ç†å¯¹è±¡æ³¨å…¥ç»™Bï¼ŒBåˆ›å»ºæˆåŠŸæ”¾å…¥å•ä¾‹æ± ï¼Œæœ€åå°†Bæ³¨å…¥ç»™Aï¼ŒAä¹Ÿåˆ›å»ºæˆåŠŸæ”¾å…¥å•ä¾‹æ± ï¼›</p>
<p>ä»¥ä¸Šçš„æ–¹æ³•æœ‰ä¸¤ç§æ¡ä»¶ï¼š1.ä¾èµ–çš„Beanå¿…é¡»æ˜¯å•ä¾‹ï¼›2.ä¸æ˜¯é€šè¿‡æ„é€ å™¨æ³¨å…¥ä¾èµ–çš„ã€‚å¯¹äºæ„é€ è¡Œå¾ªç¯ä¾èµ–å¯ä»¥ä½¿ç”¨@Lazy æ³¨è§£è¿›è¡Œæ‡’åŠ è½½æ¥å®ç°ã€‚</p>
<h4 data-id="heading-6"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>7.èƒ½è¯´ä¸€ä¸‹SpringMVCçš„æ‰§è¡Œæµç¨‹å—ï¼Ÿ</h4>
<p>Â Â Â Â Â Â  SpringMVC æ˜¯Springæ¡†æ¶ä¸­ç”¨äºæ„å»ºWebåº”ç”¨ç¨‹åºçš„æ ¸å¿ƒæ¨¡å—ï¼Œä»¥å‰ç«¯æ§åˆ¶å™¨ä¸ºåŸºç¡€ï¼ˆç±»ä¼¼äºè°ƒåº¦å™¨ï¼‰ï¼Œæä¾›äº†ä¸€å¥—çµæ´»å¼ºå¤§çš„ç»„ä»¶æ¥å¤„ç†HTTPè¯·æ±‚ã€ä¸šåŠ¡é€»è¾‘å’Œè§†å›¾æ¸²æŸ“</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecd8ef1b25f740bb971f25c13e46c6db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=fNPyjCw9%2FJLCRRALd405OVsCzeA%3D" alt="" loading="lazy"/></p>
<p>ï¼ˆ1ï¼‰å‘é€è¯·æ±‚ï¼šå®¢æˆ·ç«¯å‘é€è¯·æ±‚ï¼Œè¢«å‰ç«¯æ§åˆ¶å™¨æ‹¦æˆªï¼Œå°†è¯·æ±‚å‘é€ç»™å¤„ç†å™¨æ˜ å°„å™¨ï¼›</p>
<p>ï¼ˆ2ï¼‰å¤„ç†å™¨æ˜ å°„ï¼šå¤„ç†å™¨æ˜ å°„å™¨æ ¹æ®URLæ‰¾åˆ°å¯¹åº”çš„Controllerç±»å’Œæ–¹æ³•ï¼›</p>
<p>ï¼ˆ3ï¼‰å¤„ç†å™¨é€‚é…ï¼šæ‰¾åˆ°å¤„ç†å™¨åï¼Œå‰ç«¯æ§åˆ¶å™¨äº¤ç»™å¤„ç†å™¨é€‚é…å™¨æ‰§è¡Œï¼Œå¤„ç†å™¨é€‚é…å™¨å¤„ç†å‚æ•°ï¼Œå°†è¯·æ±‚å‚æ•°ç»‘å®šåˆ°æ–¹æ³•å‚æ•°æˆ–å¯¹è±¡é‡Œ</p>
<p>ï¼ˆ4ï¼‰è°ƒç”¨å¤„ç†å™¨ï¼šå¤„ç†å™¨é€‚é…å™¨é€šè¿‡åå°„è°ƒç”¨Controllerä¸­çš„ä¸šåŠ¡æ–¹æ³•ï¼Œè¿”å›å¯¹è±¡æ•°æ®ï¼›</p>
<p>ï¼ˆ5ï¼‰å“åº”æ•°æ®ï¼šå°†å¯¹è±¡è½¬åŒ–ä¸ºJSONï¼Œè¿”å›ç»™å‰ç«¯æ¸²æŸ“é¡µé¢ï¼›</p>
<h4 data-id="heading-7"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>8.[SpringBoot]çš„è‡ªåŠ¨é…ç½®åŸç†èƒ½è¯´ä¸€ä¸‹å—ï¼Ÿ</h4>
<p>Â Â Â Â Â Â  SprintBooté¡¹ç›®ä¸­çš„å¯åŠ¨ç±»ä¸Šæœ‰ä¸€ä¸ªæ³¨è§£@SpringBootApplicationï¼Œè¿™ä¸ªæ³¨è§£å°è£…@EnableAutoConfigurationæ³¨è§£ï¼šç”¨æ¥å¯åŠ¨SpringBootçš„è‡ªåŠ¨é…ç½®æœºåˆ¶ï¼Œé€šè¿‡@Import å¯¼å…¥äº†Â AutoConfigurationImportSelector <strong>ï¼Œ</strong> åœ¨SpringBootå¯åŠ¨æ—¶ï¼Œä¼šæ‰«æMETA-INF/ spring.factoriesæ–‡ä»¶ï¼ˆspringboot2ï¼‰/ AutoConfiguration.importï¼ˆspringboot3ï¼‰ï¼Œæ–‡ä»¶é‡Œåˆ—å‡ºäº†æ‰€æœ‰è‡ªåŠ¨é…ç½®ç±»çš„è·¯å¾„ä½ç½®ï¼Œé…ç½®ç±»é€šè¿‡å„ç§@Conditionalæ¡ä»¶æ³¨è§£åŠ¨æ€åŠ è½½æ»¡è¶³æ¡ä»¶çš„beanï¼Œå°†å…¶å¯¼å…¥åˆ°Springå®¹å™¨ä¸­ï¼›</p>
<p>å¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li>@ConditionalOnClassï¼šæŸä¸ªç±»åœ¨ classpath ä¸‹æ‰ç”Ÿæ•ˆï¼ˆæ¯”å¦‚ JdbcTemplateï¼‰ã€‚</li>
<li>@ConditionalOnMissingBeanï¼šå¦‚æœç”¨æˆ·æ²¡æœ‰è‡ªå®šä¹‰è¿™ä¸ª Beanï¼Œæ‰æ³¨å…¥é»˜è®¤çš„ Beanã€‚</li>
<li>@ConditionalOnPropertyï¼šé…ç½®æ–‡ä»¶ä¸­å­˜åœ¨æŸä¸ªé…ç½®é¡¹æ—¶æ‰ç”Ÿæ•ˆã€‚</li>
</ul>
<p>ğŸ‘‰ è¿™ä¿è¯äº†Â <strong>é»˜è®¤ç”Ÿæ•ˆï¼Œä½†å…è®¸ç”¨æˆ·è¦†ç›–</strong>ã€‚</p>
<h4 data-id="heading-8"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>9.Springä¸­çš„å¸¸ç”¨æ³¨è§£æœ‰å“ªäº›ï¼Ÿ</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/030038dcf6e945d79ff9f5e4c7436f11~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=6nGq%2F2045YEYg37%2B11omNpMsq08%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea35402f1d0b4cef9858ff3d1970fdcf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=fSfM4TyGM97ZOoFrTVys3ilkUxo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e8a5e2ae1b546098312c5e8325be2d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=9hHZaEtVSRZo63kuweUkqs5Mqy4%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-9"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>10.Mybatisçš„æ‰§è¡Œæµç¨‹ï¼Ÿ</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b43e8ac1d02b474690414431c0200393~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=hMzktBlaHKuUnZdKJbywbFhTrao%3D" alt="" loading="lazy"/></p>
<p>ï¼ˆ1ï¼‰é…ç½®åŠ è½½é˜¶æ®µï¼šè§£æMybatisé…ç½®æ–‡ä»¶ï¼ˆå¦‚XMLæ–‡ä»¶ï¼Œæˆ–ç›´æ¥æ·»åŠ ä¾èµ–ï¼Œåœ¨ .yml æ–‡ä»¶ä¸Šé…ç½®Mybatisï¼‰æ ¹æ®é…ç½®æ–‡ä»¶åˆ›å»ºä¼šè¯å·¥å‚SqlSessionFactoryï¼›</p>
<p>ï¼ˆ2ï¼‰SQLæ‰§è¡Œé˜¶æ®µï¼šé€šè¿‡ä¼šè¯å·¥å‚åˆ›å»ºä¼šè¯SqlSessionå®ä¾‹ï¼ˆå°è£…äº†JDBCæ“ä½œï¼ŒåŒ…å«äº†æ‰§è¡ŒSQLè¯­å¥çš„æ–¹æ³•ï¼‰ï¼›é€šè¿‡åŠ¨æ€ä»£ç†ç”ŸæˆMapperæ¥å£çš„å®ä¾‹ï¼›é€šè¿‡Executoræ‰§è¡ŒSQLè¯­å¥ï¼š1.å°†Javaå¯¹è±¡å±æ€§è½¬æ¢ä¸ºSQLå‚æ•°ï¼Œ2.è¿›è¡ŒSQLè§£æï¼Œæ›¿æ¢${ } å’Œ #{ }ï¼Œç”Ÿæˆæœ€ç»ˆçš„SQLæ‰§è¡Œï¼Œå°†ç»“æœè½¬æ¢ä¸ºJavaå¯¹è±¡ï¼›</p>
<p>ï¼ˆ3ï¼‰é‡Šæ”¾èµ„æºé˜¶æ®µï¼šMybatisè¿˜æä¾›äº†äº‹åŠ¡çš„ç®¡ç†ï¼Œæ”¯æŒè‡ªåŠ¨æäº¤å’Œæ‰‹åŠ¨æ§åˆ¶äº‹åŠ¡ï¼›æœ€åé‡Šæ”¾SqlSessionå¯¹è±¡èµ„æºï¼Œå…³é—­æ•°æ®åº“è¿æ¥</p>
<h4 data-id="heading-10"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>11.springçš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆï¼Ÿï¼ˆé‡ç‚¹ï¼‰</h4>
<p>ï¼ˆ1ï¼‰ä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼ŒDIï¼‰</p>
<p>ä¾èµ–æ³¨å…¥æ˜¯ Spring æ¡†æ¶çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œå®ƒæ˜¯åŸºäºæ§åˆ¶åè½¬ï¼ˆIoCï¼ŒInversion of Controlï¼‰æ¥å®ç°ã€‚ä¼ ç»Ÿçš„å¼€å‘ä¸­ï¼Œç»„ä»¶é€šå¸¸ä¼šæ˜¾å¼åœ°åˆ›å»ºå…¶ä¾èµ–çš„å¯¹è±¡ï¼Œè€Œåœ¨ Spring ä¸­ï¼Œ IoC å®¹å™¨è´Ÿè´£ç®¡ç†å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸåŠå…¶ä¾èµ–å…³ç³»ã€‚</p>
<p>ç®€åŒ–å¼€å‘ï¼šé€šè¿‡å°†å¯¹è±¡çš„åˆ›å»ºå’Œç®¡ç†äº¤ç»™ Spring å®¹å™¨ï¼Œå¼€å‘è€…åªéœ€è¦å…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼Œè€Œæ— éœ€æ‰‹åŠ¨åˆ›å»ºå’Œç®¡ç†å¯¹è±¡çš„å®ä¾‹ã€‚</p>
<p>è§£è€¦ï¼šå¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ç”± Spring å®¹å™¨ç®¡ç†ï¼Œè€Œä¸æ˜¯ç¡¬ç¼–ç åœ¨ä»£ç ä¸­ï¼Œè¿™æ ·å¯ä»¥é™ä½æ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦ï¼Œæé«˜ä»£ç çš„çµæ´»æ€§å’Œå¯æµ‹è¯•æ€§ã€‚</p>
<p>ä¾èµ–æ³¨å…¥æ–¹å¼ï¼š</p>
<ol>
<li>æ„é€ å™¨æ³¨å…¥ï¼šé€šè¿‡æ„é€ å™¨ä¼ é€’ä¾èµ–å¯¹è±¡ã€‚</li>
<li>Setter æ³¨å…¥ï¼šé€šè¿‡ setter æ–¹æ³•æ³¨å…¥ä¾èµ–å¯¹è±¡ã€‚</li>
<li>å­—æ®µæ³¨å…¥ï¼šç›´æ¥åœ¨å­—æ®µä¸Šä½¿ç”¨æ³¨è§£æ¥æ³¨å…¥ä¾èµ–ã€‚</li>
</ol>
<p>æ³¨æ„ï¼šå®˜æ–¹æ¨èä½¿ç”¨æ„é€ å™¨æ³¨å…¥çš„æ–¹å¼ï¼ˆå› ä¸ºä¾èµ–å¯¹è±¡å®šä¹‰å¾€å¾€ç”¨finalä¿®é¥°ï¼Œç¡®ä¿äº†ä¾èµ–çš„ä¸å¯å˜æ€§å’Œä¸ä¸ºnullï¼Œæ›´åŠ ç¨³å®šï¼‰ï¼Œä½†ä¼ä¸šä¸­å¸¸ç”¨çš„æ˜¯å­—æ®µæ³¨å…¥ï¼Œæ›´åŠ æ–¹ä¾¿ï¼›</p>
<ol>
<li>é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAspect-Oriented Programmingï¼ŒAOPï¼‰</li>
</ol>
<p>AOPç§°ä¸ºé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯å°†ç±»ä¸­çš„å…¬å…±è¡Œä¸ºï¼ˆæ¨ªåˆ‡å…³æ³¨ç‚¹ï¼‰åˆ‡å‰²å‡ºæ¥ï¼Œå°è£…ä¸ºä¸€ä¸ªå¯é‡ç”¨çš„æ¨¡å—ï¼ˆåˆ‡é¢ç±»ï¼‰ï¼Œåœ¨åˆ‡é¢ç±»ä¸­å®šä¹‰äº†åˆ‡å…¥ç‚¹å’Œé€šçŸ¥ã€‚ä½œç”¨æ˜¯å‡å°‘ç³»ç»Ÿä¸­çš„é‡å¤ä»£ç ï¼Œé™ä½æ¨¡å—ä¹‹é—´çš„è€¦åˆåº¦ï¼Œæé«˜å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ï¼›</p>
<p>Â Â Â Â Â Â  è€Œæˆ‘åœ¨é¡¹ç›®ä¸­ä¹Ÿç»å¸¸ç”¨åˆ°AOPï¼Œæ¯”å¦‚æœ‰å¾ˆå¤šæ•°æ®åº“è¡¨éƒ½æœ‰ä¸€äº›å…¬å…±å­—æ®µï¼ˆcreateTime, updateTime, createUser, updateUserï¼‰ï¼Œæ¯æ¬¡å¯¹è¿™äº›è¡¨è¿›è¡Œæ’å…¥æˆ–ä¿®æ”¹æ“ä½œéƒ½è¦æ›´æ–°è¿™äº›å…¬å…±å­—æ®µï¼Œæ‰€ä»¥å¯ä»¥åˆ©ç”¨AOPå°è£…ä¸€ä¸ªæ¨¡å—ï¼Œæ ¹æ®å½“å‰æ—¶é—´ã€ç”¨æˆ·IDå¯¹å±æ€§èµ‹å€¼ï¼Œåœ¨mapperä¸­æ·»åŠ æ³¨è§£å°±å®ç°äº†å…¬å…±å­—æ®µçš„è‡ªåŠ¨å¡«å……åŠŸèƒ½ã€‚</p>
<p>Â Â Â Â Â Â  è€ŒAOPåœ¨ä¸€äº›ä¸šåŠ¡åœºæ™¯ç”¨çš„æ¯”è¾ƒå¤šçš„æ¯”å¦‚ï¼šè®°å½•æ“ä½œæ—¥å¿—ã€ç¼“å­˜å¤„ç†ç­‰ç­‰ã€‚</p>
<p>ï¼ˆ3ï¼‰Spring çš„ IoC å®¹å™¨</p>
<p>IOCï¼ˆInversion of Controlï¼‰ï¼Œæ§åˆ¶åè½¬ï¼Œè¿™æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯å°†å¯¹è±¡çš„åˆ›å»ºã€ä¾èµ–æ³¨å…¥å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†äº¤ç»™IOCå®¹å™¨ã€‚åœ¨ä¼ ç»Ÿçš„ç¼–ç¨‹æ–¹å¼ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬éœ€è¦åœ¨ç±»ä¸­æ˜¾ç¤ºåœ°åˆ›å»ºä¾èµ–å¯¹è±¡ï¼Œé€šè¿‡ç¡¬ç¼–ç æ–¹å¼æ¥æ§åˆ¶å¯¹è±¡çš„åˆ›å»ºå’Œç®¡ç†ï¼Œè€Œåœ¨Springä¸­ï¼ŒBeanä»¥åŠå¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»éƒ½äº¤ç»™IOCå®¹å™¨è´Ÿè´£ï¼Œé™ä½äº†ä»£ç ä¹‹é—´çš„è€¦åˆåº¦ï¼Œä¹Ÿæé«˜äº†ç³»ç»Ÿçš„çµæ´»æ€§ï¼›</p>
<p>Springä¸­ä¸»è¦æ˜¯é€šè¿‡XMLé…ç½®å’Œæ³¨è§£é…ç½®ï¼ˆ@Component ã€@Autowiredã€@Configurationï¼‰ä¸¤ç§æ–¹å¼æ¥æ³¨å†ŒBean</p>
<p>ä¾‹å¦‚ï¼šä½¿ç”¨AOPçµ¦ä¸šåŠ¡æ·»åŠ æ—¥å¿—è®°å½•</p>
<ol>
<li>@AspectÂ Â Â  //Â å®šä¹‰ä¸ºåˆ‡é¢ç±»</li>
<li>@ComponentÂ Â </li>
<li><strong>public</strong>Â <strong>class</strong>Â LogAspectÂ {Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â //Â 1.Â åˆ‡å…¥ç‚¹ï¼šæ‹¦æˆªæ‰€æœ‰Â serviceÂ åŒ…ä¸‹çš„æ–¹æ³•Â Â </li>
<li>Â Â Â Â @Pointcut("execution(*Â com.example.service.<em>.</em>(..))")Â Â </li>
<li>Â Â Â Â <strong>public</strong>Â <strong>void</strong>Â serviceMethods()Â {}Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â //Â 2.Â å‰ç½®é€šçŸ¥ï¼šæ–¹æ³•æ‰§è¡Œå‰è®°å½•Â Â </li>
<li>Â Â Â Â @Before("serviceMethods()")Â Â </li>
<li>Â Â Â Â <strong>public</strong>Â <strong>void</strong>Â beforeMethod(JoinPointÂ joinPoint)Â {Â Â </li>
<li>Â Â Â Â Â Â Â Â StringÂ methodNameÂ =Â joinPoint.getSignature().getName();Â Â </li>
<li>Â Â Â Â Â Â Â Â Object[]Â argsÂ =Â joinPoint.getArgs();Â Â </li>
<li>Â Â Â Â Â Â Â Â System.out.println("[å‰ç½®æ—¥å¿—]Â æ­£åœ¨è°ƒç”¨æ–¹æ³•ï¼š"Â +Â methodNameÂ +Â "ï¼Œå‚æ•°ï¼š"Â +Â Arrays.toString(args));Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â //Â 3.Â åç½®é€šçŸ¥ï¼šæ–¹æ³•æ‰§è¡Œåè®°å½•Â Â </li>
<li>Â Â Â Â @AfterReturning(valueÂ =Â "serviceMethods()",Â returningÂ =Â "result")Â Â </li>
<li>Â Â Â Â <strong>public</strong>Â <strong>void</strong>Â afterMethod(JoinPointÂ joinPoint,Â ObjectÂ result)Â {Â Â </li>
<li>Â Â Â Â Â Â Â Â StringÂ methodNameÂ =Â joinPoint.getSignature().getName();Â Â </li>
<li>Â Â Â Â Â Â Â Â System.out.println("[åç½®æ—¥å¿—]Â æ–¹æ³•ï¼š"Â +Â methodNameÂ +Â "Â è¿”å›å€¼ï¼š"Â +Â result);Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â //Â 4.Â å¼‚å¸¸é€šçŸ¥ï¼šå‡ºç°å¼‚å¸¸æ—¶è®°å½•Â Â </li>
<li>Â Â Â Â @AfterThrowing(valueÂ =Â "serviceMethods()",Â throwingÂ =Â "ex")Â Â </li>
<li>Â Â Â Â <strong>public</strong>Â <strong>void</strong>Â afterThrowingMethod(JoinPointÂ joinPoint,Â ExceptionÂ ex)Â {Â Â </li>
<li>Â Â Â Â Â Â Â Â StringÂ methodNameÂ =Â joinPoint.getSignature().getName();Â Â </li>
<li>Â Â Â Â Â Â Â Â System.out.println("[å¼‚å¸¸æ—¥å¿—]Â æ–¹æ³•ï¼š"Â +Â methodNameÂ +Â "Â æŠ›å‡ºäº†å¼‚å¸¸ï¼š"Â +Â ex.getMessage());Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>}Â Â </li>
</ol>
<blockquote>
<blockquote>
<p><strong>ç¯‡å¹…é™åˆ¶ä¸‹é¢å°±åªèƒ½ç»™å¤§å®¶å±•ç¤ºå°å†Œéƒ¨åˆ†å†…å®¹äº†ã€‚æ•´ç†äº†ä¸€ä»½æ ¸å¿ƒé¢è¯•ç¬”è®°åŒ…æ‹¬äº†ï¼šJavaé¢è¯•ã€Springã€JVMã€MyBatisã€Redisã€MySQLã€å¹¶å‘ç¼–ç¨‹ã€å¾®æœåŠ¡ã€Linuxã€Springbootã€SpringCloudã€MQã€Kafka é¢è¯•ä¸“é¢˜</strong></p>
<blockquote>
</blockquote>
<p><strong>éœ€è¦å…¨å¥—é¢è¯•ç¬”è®°åŠç­”æ¡ˆã€æ‰«ä¸€æ‰«ã€‘</strong> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å³å¯å…è´¹è·å–**</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c8b2fbf827c4bc3a36a4ecf2594f783~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=ZNvTYcwe5OnPdVt1oeJxu6OMXs8%3D" alt="8fbf1ef8b61e2dbbb33b7690a41d12e.png" loading="lazy"/></p>
</blockquote>
<h4 data-id="heading-11"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>12. ObjectFactory å’Œ BeanFacotryçš„åŒºåˆ«ï¼Ÿ</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e99fbe1b14f9480cb20019f0af147b25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=4uqGzNFbWLNdTMSt8xG7SvRy%2FQA%3D" alt="" loading="lazy"/></p>
<p>BeanFactoryå®é™…å°±æ˜¯IOCå®¹å™¨ï¼Œè€ŒObjectFactoryçš„ä½œç”¨å¦‚ä¸‹ï¼š</p>
<p>ï¼ˆ1ï¼‰å½“éœ€è¦æ¨è¿Ÿå¯¹è±¡çš„åˆ›å»ºæ¥é¿å…å¾ªç¯ä¾èµ–æˆ–ä¼˜åŒ–æ€§èƒ½æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ObjectFactory</p>
<p>ï¼ˆ2ï¼‰åœ¨å•ä¾‹Beanä¸­æ³¨å…¥ä¸€ä¸ªçŸ­ä½œç”¨åŸŸçš„Beanæ—¶ï¼Œå¯ä»¥é€šè¿‡ObjectFactoryç¡®ä¿è·å–æœ€æ–°çš„å®ä¾‹</p>
<h4 data-id="heading-12"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>13.Spring Beanä¸€å…±æœ‰å‡ ç§ä½œç”¨åŸŸï¼Ÿ</h4>
<p>Â Â Â Â Â Â  åœ¨æ³¨è§£é…ç½®@Scopeæˆ–XMLé…ç½®scopeå±æ€§å°±å¯ä»¥è®¾ç½®Beançš„ä½œç”¨åŸŸã€‚</p>
<p>ï¼ˆ1ï¼‰singletonï¼ˆé»˜è®¤ï¼‰ï¼Œæ¯ä¸ªIOCå®¹å™¨ä»…å­˜åœ¨ä¸€ä¸ªå®ä¾‹ï¼Œæ‰€æœ‰ä¾èµ–æ³¨å…¥å…±äº«åŒä¸€ä¸ªå¯¹è±¡ï¼›</p>
<p>ï¼ˆ2ï¼‰prototypeï¼šæ¯æ¬¡æ³¨å…¥ä¾èµ–ï¼ˆæˆ–getBean( )æ–¹æ³•ï¼‰éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹ï¼›</p>
<p>ï¼ˆ3ï¼‰requestï¼šæ¯ä¸ªHTTPè¯·æ±‚åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹ï¼Œä»…åœ¨Webåº”ç”¨ä¸­æœ‰æ•ˆï¼›</p>
<p>ï¼ˆ4ï¼‰sessionï¼šæ¯ä¸ªHTTP Sessionåˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œç”¨æˆ·ä¼šè¯æœŸé—´å…±äº«ï¼›</p>
<p>ï¼ˆ5ï¼‰applicationï¼šæ¯ä¸ªServletContextç”Ÿå‘½å‘¨æœŸå†…ä¸€ä¸ªå®ä¾‹ï¼›</p>
<p>ï¼ˆ6ï¼‰websocketï¼šæ¯ä¸ªwebsocketä¼šè¯ä¸€ä¸ªå®ä¾‹ï¼Œç”Ÿå‘½å‘¨æœŸå’Œwebsocketè¿æ¥ä¸€è‡´ï¼›</p>
<h4 data-id="heading-13"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>14.Springæ‹¦æˆªé“¾çš„å®ç°ï¼Ÿ</h4>
<p>Â Â Â Â Â Â  åœ¨Springæ¡†æ¶ä¸­ï¼Œæ‹¦æˆªé“¾é€šè¿‡è´£ä»»é“¾æ¨¡å¼å®ç°ï¼Œæ ¸å¿ƒç›®çš„æ˜¯å°†å¤šä¸ªæ‹¦æˆªå™¨ï¼ˆæˆ–é€šçŸ¥ï¼‰æŒ‰é¡ºåºç»„ç»‡ï¼Œåœ¨ç›®æ ‡æ–¹æ³•æˆ–è¯·æ±‚å¤„ç†çš„ä¸åŒé˜¶æ®µä¾æ¬¡è§¦å‘ï¼š</p>
<p>Â Â Â Â Â Â  åœ¨Spring Webä¸­ï¼Œæ‹¦æˆªå™¨å®ç°HandlerInterceptoræ¥å£ï¼Œç¼–å†™preHandelã€postHandleã€afterCompletionæ–¹æ³•å®ç°ä¸šåŠ¡æ‰§è¡Œå‰åé€»è¾‘æ·»åŠ ï¼ˆå¦‚æƒé™æ ¡éªŒã€æ—¥å¿—è®°å½•ï¼‰ï¼Œå¦å¤–éœ€è¦ç¼–å†™ä¸€ä¸ªå®ç°WebMvcConfigureræ¥å£çš„é…ç½®ç±»ï¼Œæ³¨å†Œæ‹¦æˆªå™¨ï¼Œè®¾ç½®å“ªäº›è·¯å¾„éœ€è¦æ‹¦æˆªå’Œæ”¾è¡Œï¼Œ</p>
<p>æ‰§è¡Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>ï¼ˆ1ï¼‰åˆå§‹åŒ–é“¾ï¼šæ ¹æ®Handerï¼ˆå¤„ç†å™¨/controllerå±‚ï¼‰å¯¹åº”çš„URLå’Œæ‹¦æˆªå™¨åˆ—è¡¨é…ç½®ï¼Œåˆ›å»ºå¤„ç†å™¨æ‰§è¡Œé“¾ï¼›</p>
<p>ï¼ˆ2ï¼‰preHandelé˜¶æ®µï¼šæŒ‰æ‹¦æˆªå™¨é…ç½®é¡ºåºä¾æ¬¡è°ƒç”¨preHandleæ–¹æ³•ã€‚å¦‚æœæŸä¸ªæ‹¦æˆªå™¨è¿”å›falseï¼Œç»ˆæ­¢åç»­æ‹¦æˆªå™¨å’Œhandlerçš„æ‰§è¡Œï¼›</p>
<p>ï¼ˆ3ï¼‰æ‰§è¡Œhandlerï¼šè°ƒç”¨Controlleræ–¹æ³•å¤„ç†è¯·æ±‚ï¼›</p>
<p>ï¼ˆ4ï¼‰postHandleré˜¶æ®µï¼šæŒ‰æ‹¦æˆªå™¨é…ç½®çš„é€†åºè°ƒç”¨postHandle( );</p>
<p>ï¼ˆ5ï¼‰æ¸²æŸ“è§†å›¾ï¼šå¤„ç†ModelAndViewï¼Œç”Ÿæˆç›¸åº”å†…å®¹ï¼›</p>
<p>ï¼ˆ6ï¼‰afterCompletioné˜¶æ®µï¼šæ— è®ºè¯·æ±‚æˆåŠŸæˆ–å¼‚å¸¸ï¼ŒæŒ‰æ‹¦æˆªå™¨é…ç½®çš„é€†åºè°ƒç”¨afterCompletionæ–¹æ³•</p>
<p><strong>âœ… 1.</strong> <strong>ç¼–å†™æ‹¦æˆªå™¨ç±»</strong></p>
<ol>
<li><strong>import</strong>Â org.springframework.stereotype.Component;Â Â </li>
<li><strong>import</strong>Â org.springframework.web.servlet.HandlerInterceptor;Â Â </li>
<li><strong>import</strong>Â javax.servlet.http.HttpServletRequest;Â Â </li>
<li><strong>import</strong>Â javax.servlet.http.HttpServletResponse;Â Â </li>
<li>Â Â </li>
<li>@ComponentÂ Â </li>
<li><strong>public</strong>Â <strong>class</strong>Â LogInterceptorÂ <strong>implements</strong>Â HandlerInterceptorÂ {Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â /**Â </li>
<li>Â Â Â Â Â *Â åœ¨è¯·æ±‚å¤„ç†ä¹‹å‰æ‰§è¡Œï¼ˆControlleræ–¹æ³•è°ƒç”¨å‰ï¼‰Â </li>
<li>Â Â Â Â Â *Â @returnÂ trueÂ è¡¨ç¤ºç»§ç»­æµç¨‹ï¼ŒfalseÂ è¡¨ç¤ºæ‹¦æˆªè¯·æ±‚Â </li>
<li>Â Â Â Â Â */Â Â </li>
<li>Â Â Â Â @OverrideÂ Â </li>
<li>Â Â Â Â <strong>public</strong>Â <strong>boolean</strong>Â preHandle(HttpServletRequestÂ request,Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â HttpServletResponseÂ response,Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ObjectÂ handler)Â <strong>throws</strong>Â ExceptionÂ {Â Â </li>
<li>Â Â Â Â Â Â Â Â StringÂ uriÂ =Â request.getRequestURI();Â Â </li>
<li>Â Â Â Â Â Â Â Â System.out.println("æ‹¦æˆªå™¨æ—¥å¿—ï¼šè¯·æ±‚Â URIÂ ä¸ºï¼š"Â +Â uri);Â Â </li>
<li>Â Â Â Â Â Â Â Â <strong>return</strong>Â <strong>true</strong>;Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â /**Â </li>
<li>Â Â Â Â Â *Â è¯·æ±‚å¤„ç†ä¹‹åæ‰§è¡Œï¼ˆControlleræ–¹æ³•è°ƒç”¨ä¹‹åï¼‰Â </li>
<li>Â Â Â Â Â */Â Â </li>
<li>Â Â Â Â @OverrideÂ Â </li>
<li>Â Â Â Â <strong>public</strong>Â <strong>void</strong>Â postHandle(HttpServletRequestÂ request,Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â HttpServletResponseÂ response,Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ObjectÂ handler,Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â org.springframework.web.servlet.ModelAndViewÂ modelAndView)Â <strong>throws</strong>Â ExceptionÂ {Â Â </li>
<li>Â Â Â Â Â Â Â Â System.out.println("æ‹¦æˆªå™¨æ—¥å¿—ï¼šè¯·æ±‚å¤„ç†å®Œæˆï¼ˆpostHandleï¼‰");Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â /**Â </li>
<li>Â Â Â Â Â *Â è¯·æ±‚å®Œå…¨å®Œæˆä¹‹åæ‰§è¡Œï¼ˆåŒ…æ‹¬è§†å›¾æ¸²æŸ“åï¼‰Â </li>
<li>Â Â Â Â Â */Â Â </li>
<li>Â Â Â Â @OverrideÂ Â </li>
<li>Â Â Â Â <strong>public</strong>Â <strong>void</strong>Â afterCompletion(HttpServletRequestÂ request,Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â HttpServletResponseÂ response,Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ObjectÂ handler,Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ExceptionÂ ex)Â <strong>throws</strong>Â ExceptionÂ {Â Â </li>
<li>Â Â Â Â Â Â Â Â System.out.println("æ‹¦æˆªå™¨æ—¥å¿—ï¼šè¯·æ±‚å®Œå…¨ç»“æŸï¼ˆafterCompletionï¼‰");Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>}Â Â </li>
</ol>
<p><strong>âœ… 2.</strong> <strong>æ³¨å†Œæ‹¦æˆªå™¨ï¼ˆé…ç½®ç±»ï¼‰</strong></p>
<ol>
<li><strong>import</strong>Â org.springframework.beans.factory.annotation.Autowired;Â Â </li>
<li><strong>import</strong>Â org.springframework.context.annotation.Configuration;Â Â </li>
<li><strong>import</strong>Â org.springframework.web.servlet.config.annotation.InterceptorRegistry;Â Â </li>
<li><strong>import</strong>Â org.springframework.web.servlet.config.annotation.WebMvcConfigurer;Â Â </li>
<li>Â Â </li>
<li>@ConfigurationÂ Â //Â SpringÂ MVCÂ é…ç½®ç±»Â Â </li>
<li><strong>public</strong>Â <strong>class</strong>Â WebConfigÂ <strong>implements</strong>Â WebMvcConfigurerÂ {Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â @AutowiredÂ Â </li>
<li>Â Â Â Â <strong>private</strong>Â LogInterceptorÂ logInterceptor;Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â @OverrideÂ Â </li>
<li>Â Â Â Â <strong>public</strong>Â <strong>void</strong>Â addInterceptors(InterceptorRegistryÂ registry)Â {Â Â </li>
<li>Â Â Â Â Â Â Â Â registry.addInterceptor(logInterceptor)Â Â Â Â Â Â Â //Â æ³¨å†Œæ‹¦æˆªå™¨Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .addPathPatterns("/**")Â Â Â Â Â Â Â Â Â Â //Â æ‹¦æˆªæ‰€æœ‰è¯·æ±‚è·¯å¾„Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .excludePathPatterns("/login",Â "/error");Â //Â æ’é™¤æŸäº›è·¯å¾„Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>}Â Â </li>
</ol>
<h4 data-id="heading-14"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>15.springç”¨åˆ°äº†å“ªäº›è®¾è®¡æ¨¡å¼ï¼Ÿ</h4>
<p>ï¼ˆ1ï¼‰å·¥å‚æ¨¡å¼ï¼šBeanFactoryå’ŒApplicationContextæ˜¯Springçš„æ ¸å¿ƒå®¹å™¨ï¼Œè´Ÿè´£åˆ›å»ºå’Œç®¡ç†Beanå®ä¾‹ï¼›</p>
<p>ï¼ˆ2ï¼‰å•ä¾‹æ¨¡å¼ï¼šSpringé»˜è®¤å°†Beançš„ä½œç”¨åŸŸè®¾ç½®ä¸ºå•ä¾‹ï¼Œä¿è¯å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼›</p>
<p>ï¼ˆ3ï¼‰ä»£ç†æ¨¡å¼ï¼šSpring AOPä½¿ç”¨åŠ¨æ€ä»£ç†ç”Ÿæˆä»£ç†å¯¹è±¡å¢å¼ºç±»ï¼›</p>
<p>ï¼ˆ4ï¼‰æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼šjdbcTemplateã€RestTemplateç­‰æ¨¡æ¿ç±»å°è£…äº†å›ºå®šæµç¨‹ï¼Œç”¨æˆ·åªéœ€å®ç°å…·ä½“é€»è¾‘ï¼ˆSQLæ‰§è¡Œã€HTTPè¯·æ±‚ï¼‰ï¼›</p>
<p>ï¼ˆ5ï¼‰é€‚é…å™¨æ¨¡å¼ï¼šåœ¨SpringMVCä¸­é€‚é…ä¸åŒç±»å‹çš„æ§åˆ¶å™¨</p>
<h4 data-id="heading-15"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>16. Spring Beanæ³¨å†Œåˆ°å®¹å™¨çš„æ–¹å¼æœ‰å“ªäº›ï¼Ÿ</h4>
<p>ï¼ˆ1ï¼‰åŸºäºXMLé…ç½®æ–‡ä»¶ï¼Œæ˜¾ç¤ºå£°æ˜Beançš„ç±»å’Œä¾èµ–å…³ç³»ï¼›</p>
<p>ï¼ˆ2ï¼‰åŸºäºæ³¨è§£æ‰«ææ³¨å†Œï¼Œé€šè¿‡@Componentã€@Serviceã€@Controlleræ³¨è§£å®šä¹‰ä¸ºBeanï¼Œé€šè¿‡ç»„ä»¶æ‰«æï¼ˆ@ComponentScanï¼‰æ³¨å†Œä¸ºBean</p>
<p>ï¼ˆ3ï¼‰åŸºäºJavaé…ç½®ç±»æ³¨å†Œï¼Œåœ¨@Configurationæ³¨è§£çš„ç±»ä¸­çš„æ–¹æ³•æ·»åŠ @Beanæ³¨è§£ï¼›</p>
<h4 data-id="heading-16"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>17.Â <a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">@Qualifier</a>æ³¨è§£æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</h4>
<p>Â Â Â Â Â Â  @Qualifieræ³¨è§£ç”¨äºè§£å†³ä¾èµ–æ³¨å…¥çš„æ­§ä¹‰æ€§é—®é¢˜ï¼Œå½“å®¹å™¨ä¸­å­˜åœ¨å¤šä¸ªç›¸åŒç±»å‹çš„Beanæ—¶ï¼Œ@Autowiredæ³¨è§£æ— æ³•è‡ªåŠ¨é€‰æ‹©å…·ä½“çš„Beanæ³¨å…¥ï¼Œæ­¤æ—¶éœ€è¦é…åˆ@Qualifieræ¥æŒ‡å®šå…·ä½“çš„Beanåç§°ã€‚</p>
<p>Â Â Â Â Â Â  @Qualifieræ³¨è§£å’Œ@Primaryæ³¨è§£çš„åŒºåˆ«ï¼š@Primaryç”¨æ¥æ ‡è®°æŸä¸ªBeanä¸ºé»˜è®¤ä¼˜å…ˆæ³¨å…¥çš„å€™é€‰è€…ï¼Œè€Œ@Qualifierç”¨æ¥æ˜¾ç¤ºæŒ‡å®šå…·ä½“Beançš„åç§°ï¼›</p>
<ol>
<li>@ComponentÂ Â </li>
<li><strong>public</strong>Â <strong>class</strong>Â UserServiceÂ {Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â @AutowiredÂ Â </li>
<li>Â Â Â Â @Qualifier("mysqlUserRepository")Â //Â ç²¾ç¡®æŒ‡å®šæ³¨å…¥å“ªä¸ªÂ BeanÂ Â </li>
<li>Â Â Â Â <strong>private</strong>Â UserRepositoryÂ userRepository;Â Â </li>
<li>}Â </li>
</ol>
<h4 data-id="heading-17"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>18. @Beanå’Œ@Componentæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4>
<p>ï¼ˆ1ï¼‰ä½œç”¨ç›®æ ‡ï¼š@Componentæ³¨è§£ä½œç”¨åœ¨ç±»ä¸Šï¼›@Beanæ³¨è§£ä½œç”¨åœ¨æ–¹æ³•ä¸Šï¼Œä¸€èˆ¬åœ¨é…ç½®ç±»ï¼›</p>
<p>ï¼ˆ2ï¼‰ä½¿ç”¨åœºæ™¯ï¼š@Serviceã€@Controllerç­‰æ³¨è§£éƒ½æ˜¯@Componentçš„ç‰¹åŒ–å½¢å¼ï¼Œä¸€èˆ¬ç”¨äºè‡ªå·±ç¼–å†™çš„ç±»ï¼›è€Œ@Beanä¸€èˆ¬ç”¨äºç¬¬ä¸‰æ–¹åº“çš„ç±»æˆ–éœ€è¦æ‰‹åŠ¨æ§åˆ¶å®ä¾‹åŒ–çš„å¯¹è±¡ï¼›</p>
<p>ï¼ˆ3ï¼‰ä½¿ç”¨æ–¹å¼ï¼š@Componentæ ‡è®°ä¸€ä¸ªç±»ï¼Œè®©Springè‡ªåŠ¨æ‰«æå¹¶åˆ›å»ºBeanï¼›@Beanéœ€è¦æ˜¾ç¤ºåœ°é…ç½®å’Œåˆ›å»ºï¼Œè¿”å›ä¸€ä¸ªå¯¹è±¡ä½œä¸ºBean</p>
<h4 data-id="heading-18"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>19. @Componentã€@Controllerã€@Repositoryã€@Serviceæ³¨è§£çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p>ï¼ˆ1ï¼‰@Componentæ˜¯å®ƒä»¬çš„é€šç”¨æ³¨è§£ï¼Œæ ‡è®°ä»»æ„ç±»ä¸ºBeanï¼Œæ²¡æœ‰ç‰¹å®šçš„åŠŸèƒ½ï¼Œæ˜¯å…¶ä»–æ³¨è§£çš„å…ƒæ³¨è§£ï¼›</p>
<p>ï¼ˆ2ï¼‰@Controllerç”¨äºæ ‡è®°æ§åˆ¶å±‚ï¼Œå¤„ç†HTTPè¯·æ±‚ï¼Œæ”¯æŒè¯·æ±‚URLæ˜ å°„ï¼›</p>
<p>ï¼ˆ3ï¼‰@Serviceç”¨äºæ ‡è®°ä¸šåŠ¡ç±»ï¼Œæ²¡æœ‰é¢å¤–åŠŸèƒ½ï¼ŒåŒºåˆ†èŒè´£æé«˜ä»£ç å¯è¯»æ€§ï¼›</p>
<p>ï¼ˆ4ï¼‰@Repositoryç”¨äºæ ‡è®°æŒä¹…å±‚ï¼Œè‡ªåŠ¨è½¬æ¢æ•°æ®è®¿é—®å¼‚å¸¸</p>
<h4 data-id="heading-19"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>20.springå¯åŠ¨è¿‡ç¨‹ï¼Ÿ</h4>
<p>ï¼ˆ1ï¼‰å®¹å™¨åˆå§‹åŒ–ï¼šè°ƒç”¨Application.run( )æ–¹æ³•å¯åŠ¨åº”ç”¨ï¼Œåˆ›å»ºApplicationContextï¼›</p>
<p>ï¼ˆ2ï¼‰é…ç½®åŠ è½½ï¼šè§£æé…ç½®ç±»ã€æ‰«æç»„ä»¶ã€æ³¨å†ŒBeançš„å®šä¹‰ï¼›</p>
<p>ï¼ˆ3ï¼‰Beanå®ä¾‹åŒ–å’Œä¾èµ–æ³¨å…¥ï¼šæ ¹æ®Beançš„å®šä¹‰åˆ›å»ºå¯¹è±¡å¹¶æ³¨å…¥ä¾èµ–ï¼›</p>
<p>ï¼ˆ4ï¼‰æ‰©å±•å¤„ç†ï¼šåœ¨Beanåˆå§‹åŒ–å‰åæ’å…¥é€»è¾‘ï¼ˆå¦‚AOPä»£ç†ï¼‰ï¼Œå®ç°ç”Ÿå‘½å‘¨æœŸå›è°ƒå¢å¼ºåŠŸèƒ½ï¼›</p>
<p>ï¼ˆ5ï¼‰å®¹å™¨å°±ç»ªï¼šå®Œæˆå¯åŠ¨ï¼Œé€šè¿‡äº‹ä»¶æœºåˆ¶å®ç°æ‰©å±•ç‚¹</p>
<h4 data-id="heading-20"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>21. springBootå¯åŠ¨è¿‡ç¨‹ï¼Ÿ</h4>
<p>ï¼ˆ1ï¼‰åˆå§‹åŒ–ï¼šè°ƒç”¨Application.run( )æ–¹æ³•å¯åŠ¨åº”ç”¨ï¼ŒåŠ è½½é…ç½®å™¨å’Œç›‘å¬å™¨ï¼›</p>
<p>ï¼ˆ2ï¼‰å‡†å¤‡ç¯å¢ƒï¼šåŠ è½½é…ç½®æ–‡ä»¶ï¼ˆå¦‚application.propertiesï¼‰</p>
<p>ï¼ˆ3ï¼‰åˆ›å»ºApplicationContextï¼šåˆå§‹åŒ–å®¹å™¨ï¼›</p>
<p>ï¼ˆ4ï¼‰åˆ·æ–°å®¹å™¨ï¼šåŠ è½½Beanå®šä¹‰ã€æ‰§è¡Œè‡ªåŠ¨é…ç½®ã€å¯åŠ¨å†…åµŒå®¹å™¨ã€Beançš„ä¾èµ–æ³¨å…¥åˆå§‹åŒ–ï¼›</p>
<p>ï¼ˆ5ï¼‰æ‰§è¡Œè‡ªå®šä¹‰æ‰§è¡Œåé€»è¾‘ï¼›</p>
<p>ï¼ˆ6ï¼‰å‘å¸ƒ ApplicationReadyEventï¼šæ ‡å¿—åº”ç”¨å®Œå…¨å°±ç»ª</p>
<h4 data-id="heading-21"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>22. application.propertieså’Œapplication.ymlå’Œapplication.ymalæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4>
<p>ï¼ˆ1ï¼‰è¯­æ³•æ ¼å¼ï¼š.propertiesæ–‡ä»¶ä½¿ç”¨é”®å€¼å¯¹æ ¼å¼ï¼Œé€šè¿‡ . è¡¨ç¤ºå±‚çº§å…³ç³»ï¼›ymlå’Œymalæ–‡ä»¶åŸºäºYAMLæ ¼å¼ï¼Œä½¿ç”¨æ¢è¡Œç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³»ï¼Œå¯è¯»æ€§æ›´é«˜ï¼›</p>
<p>ï¼ˆ2ï¼‰åŠ è½½é¡ºåºï¼šåŒç›®å½•ä¸‹ï¼Œ.properties æ–‡ä»¶çš„ä¼˜å…ˆçº§é«˜äº .yml/.yaml ; ä¸åŒç›®å½•ä¸‹ï¼ŒæŒ‰ç›®å½•ä¼˜å…ˆçº§è¦†ç›–ï¼ˆä¾‹å¦‚æ ¹ç›®å½•çš„é…ç½®è¦†ç›–ç±»è·¯å¾„çš„é…ç½®ï¼‰</p>
<p>ï¼ˆ3ï¼‰å¤æ‚æ•°æ®ç»“æ„ï¼š.propertiesæ–‡ä»¶å¯¹äºåˆ—è¡¨éœ€è¦é€—å·éš”å¼€ï¼Œå¯¹è±¡ä¹‹é—´éœ€è¦æ‰‹åŠ¨æ‹†åˆ†ï¼›ymlå’Œymalæ–‡ä»¶å¯¹äºå¤šä¸ªå¯¹è±¡åªéœ€è¦æ¢è¡Œï¼Œå¯¹äºåˆ—è¡¨åªéœ€è¦æ¢è¡ŒåŠ çŸ­æ¨ªçº¿ï¼Œæ“ä½œæ›´åŠ æ–¹ä¾¿ï¼›</p>
<p>ç¤ºä¾‹ï¼šapplication.properties</p>
<ol>
<li>#Â æ™®é€šå­—ç¬¦ä¸²Â Â </li>
<li>app.name=DemoAppÂ Â </li>
<li>Â Â </li>
<li>#Â åˆ—è¡¨Â Â </li>
<li>app.servers=192.168.1.1,192.168.1.2,192.168.1.3Â Â </li>
<li>Â Â </li>
<li>#Â åµŒå¥—å¯¹è±¡Â Â </li>
<li>app.datasource.url=jdbc:mysql://localhost:3306/testÂ Â </li>
<li>app.datasource.username=rootÂ Â </li>
<li>app.datasource.password=123456Â Â </li>
</ol>
<p>ç¤ºä¾‹ï¼šapplication.yml</p>
<ol>
<li>app:Â Â </li>
<li>Â Â name:Â DemoAppÂ Â </li>
<li>Â Â servers:Â Â </li>
<li>Â Â Â Â -Â 192.168.1.1Â Â </li>
<li>Â Â Â Â -Â 192.168.1.2Â Â </li>
<li>Â Â Â Â -Â 192.168.1.3Â Â </li>
<li>Â Â </li>
<li>Â Â datasource:Â Â </li>
<li>Â Â Â Â url:Â jdbc:mysql://localhost:3306/testÂ Â </li>
<li>Â Â Â Â username:Â rootÂ Â </li>
<li>Â Â Â Â password:Â 123456Â Â </li>
</ol>
<blockquote>
<blockquote>
<p><strong>ç¯‡å¹…é™åˆ¶ä¸‹é¢å°±åªèƒ½ç»™å¤§å®¶å±•ç¤ºå°å†Œéƒ¨åˆ†å†…å®¹äº†ã€‚æ•´ç†äº†ä¸€ä»½æ ¸å¿ƒé¢è¯•ç¬”è®°åŒ…æ‹¬äº†ï¼šJavaé¢è¯•ã€Springã€JVMã€MyBatisã€Redisã€MySQLã€å¹¶å‘ç¼–ç¨‹ã€å¾®æœåŠ¡ã€Linuxã€Springbootã€SpringCloudã€MQã€Kafka é¢è¯•ä¸“é¢˜</strong></p>
<blockquote>
</blockquote>
<p><strong>éœ€è¦å…¨å¥—é¢è¯•ç¬”è®°åŠç­”æ¡ˆã€æ‰«ä¸€æ‰«ã€‘</strong> Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å³å¯å…è´¹è·å–**</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c8b2fbf827c4bc3a36a4ecf2594f783~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=ZNvTYcwe5OnPdVt1oeJxu6OMXs8%3D" alt="8fbf1ef8b61e2dbbb33b7690a41d12e.png" loading="lazy"/></p>
</blockquote>
<h4 data-id="heading-22"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>23.èƒ½è¯´ä¸€ä¸‹SpringBootå—ï¼Ÿ</h4>
<p>SpringBootæ˜¯ä¸€ä¸ªåŸºäºSpringæ¡†æ¶çš„å¼€æºå·¥å…·ï¼Œæ—¨åœ¨ç®€åŒ–Javaåº”ç”¨ï¼ˆå°¤å…¶æ˜¯Webåº”ç”¨ï¼‰çš„åˆå§‹æ­å»ºå’Œå¼€å‘è¿‡ç¨‹ã€‚é€šè¿‡â€œçº¦å®šä¼˜äºé…ç½®â€çš„ç†å¿µï¼Œå¤§å¹…åº¦å‡å°‘ä¼ ç»ŸSpringå¼€å‘ä¸­çš„å¤æ‚é…ç½®ï¼Œè®©å¼€å‘è€…èƒ½å¿«é€Ÿæ„å»ºç‹¬ç«‹è¿è¡Œã€ç”Ÿäº§çº§çš„åº”ç”¨ã€‚</p>
<p>è¯´æ˜ï¼šä¼ ç»Ÿçš„Springéœ€è¦å¤§é‡çš„XMLæˆ–@Beané…ç½®ï¼Œè€ŒSpring Bootå†…ç½®äº†ä¸€å¥—é»˜è®¤çš„çº¦å®šï¼Œå¦‚æœæ²¡æœ‰æä¾›é…ç½®ï¼ŒSpring Bootå°±ä¼šæŒ‰ç…§â€œçº¦å®šâ€çš„é»˜è®¤é€»è¾‘å·¥ä½œï¼Œåªæœ‰å½“ä½ çš„éœ€æ±‚ä¸åŒäºé»˜è®¤çº¦å®šæ—¶ï¼Œæ‰éœ€è¦é¢å¤–é…ç½®ã€‚æ¯”å¦‚ï¼Œåœ¨pom.xmlå¼•å…¥spring-boot-starter-data-jpaä¾èµ–ï¼ŒSpringBootè‡ªåŠ¨åˆ›å»ºDataSourceçš„Beanï¼Œé»˜è®¤ä½¿ç”¨application.ymlä¸­çš„é…ç½®ã€‚</p>
<p>å®ƒçš„ç‰¹æ€§å¦‚ä¸‹ï¼š</p>
<p>ï¼ˆ1ï¼‰[è‡ªåŠ¨é…ç½®]ï¼šSpringBootæ ¹æ®@EnableAutoConfigurationæ³¨è§£å¼€å¯è‡ªåŠ¨é…ç½®æœºåˆ¶ï¼Œæ‰«æAutoConfiguration.importsæ–‡ä»¶æ ¹æ®æ¡ä»¶åŠ¨æ€åŠ è½½é¢„å®šä¹‰çš„é…ç½®ç±»ï¼›ä¼ ç»Ÿçš„Springéœ€è¦æ‰‹åŠ¨ç¼–å†™é…ç½®ç±»ï¼Œæ˜¾ç¤ºå®šä¹‰dataSourceç­‰ä¸€äº›Beanã€‚</p>
<p>ï¼ˆ2ï¼‰èµ·æ­¥ä¾èµ–ï¼šé€šè¿‡é¢„å®šä¹‰é›†æˆçš„ä¾èµ–åŒ…ï¼ˆä¸€ç³»åˆ—Starterï¼‰ï¼Œè‡ªåŠ¨å¼•å…¥æ‰€æœ‰ç›¸å…³ä¾èµ–åŒ…ï¼Œé¿å…ç‰ˆæœ¬å†²çªï¼›ä¼ ç»Ÿçš„Springéœ€è¦æ‰‹åŠ¨æŒ‡å®šæ¯ä¸ªä¾èµ–åŠå…¶å…¼å®¹ç‰ˆæœ¬ï¼›</p>
<p>ï¼ˆ3ï¼‰å†…åµŒæœåŠ¡å™¨ï¼šæ·»åŠ spring-boot-starter-webä¾èµ–åï¼Œå°±ä¼šå†…åµŒTomcatã€SpringMVCæœåŠ¡å™¨ï¼Œåº”ç”¨å¯ç›´æ¥æ‰“åŒ…ä¸ºå¯æ‰§è¡ŒJARåŒ…ï¼Œæ— éœ€é¢å¤–éƒ¨ç½²åˆ°webæœåŠ¡å™¨ï¼›ä¼ ç»Ÿçš„Springéœ€è¦æ‰“åŒ…ä¸ºWARåŒ…ï¼Œéƒ¨ç½²åˆ°ç‹¬ç«‹çš„TomcatæœåŠ¡å™¨ï¼›</p>
<p>ï¼ˆ4ï¼‰ç”Ÿäº§å°±ç»ªåŠŸèƒ½ï¼šSpringBootæä¾›ç›‘æ§å’Œç®¡ç†ç«¯ç‚¹ï¼ˆå¦‚å¥åº·æ£€æŸ¥ã€æ€§èƒ½æŒ‡æ ‡ï¼‰ï¼Œæ–¹ä¾¿è¿ç»´ï¼›ä¼ ç»Ÿçš„Springéœ€è¦è‡ªè¡Œé…ç½®å¥åº·æ£€æŸ¥ã€æŒ‡æ ‡æ”¶é›†ç­‰ï¼›</p>
<p>ï¼ˆ5ï¼‰ç®€åŒ–é…ç½®ï¼šçº¦å®šä¼˜äºé…ç½®åŸåˆ™ï¼Œé»˜è®¤æä¾›åˆç†çš„é…ç½®å‚æ•°ï¼ˆå¦‚ç«¯å£å·ã€æ•°æ®åº“è¿æ¥æ± å‚æ•°ï¼‰å’Œåˆ›å»ºé»˜è®¤é…ç½®ç±»ï¼Œå¯é€šè¿‡propertiesæ–‡ä»¶æˆ–ymlæ–‡ä»¶åšä¿®æ”¹è¦†ç›–ï¼›</p>
<h4 data-id="heading-23"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>24. è¯´ä¸€ä¸‹Mybatisçš„ç¼“å­˜æœºåˆ¶ï¼Ÿ</h4>
<p>Â Â Â Â Â Â  Mybatisçš„ç¼“å­˜æœºåˆ¶åˆ†ä¸ºä¸€çº§ç¼“å­˜ï¼ˆæœ¬åœ°ç¼“å­˜ï¼‰å’ŒäºŒçº§ç¼“å­˜ï¼ˆå…¨å±€ç¼“å­˜ï¼‰ï¼Œé€šè¿‡ç¼“å­˜å‡å°‘æ•°æ®åº“æŸ¥è¯¢æ¬¡æ•°æ¥æå‡æ€§èƒ½ï¼›</p>
<p>ï¼ˆ1ï¼‰ä¸€çº§ç¼“å­˜ä»…åœ¨åŒä¸€ä¸ªSqlSessionä¸­ç”Ÿæ•ˆï¼ˆé»˜è®¤å¼€å¯ï¼‰ï¼Œç”Ÿå‘½å‘¨æœŸä¸Sqlsessionç»‘å®šï¼Œä¼šè¯ç»“æŸæˆ–æ‰§è¡Œå†™æ“ä½œæ—¶ã€äº‹åŠ¡æäº¤å›æ»šç¼“å­˜éƒ½ä¼šå¤±æ•ˆï¼›</p>
<p>ï¼ˆ2ï¼‰äºŒçº§ç¼“å­˜åœ¨åŒä¸€ä¸ªMapperä¸­ç”Ÿæ•ˆï¼Œå¤šä¸ªSqlSessionå…±äº«ç¼“å­˜ï¼ˆéœ€æ‰‹åŠ¨å¼€å¯ï¼Œåœ¨å¯¹åº”XML æ–‡ä»¶ä¸­æ·»åŠ Â Â æ ‡ç­¾ï¼‰ï¼Œç”Ÿå‘½å‘¨æœŸè·ŸSqlsessionFactoryä¸€è‡´</p>
<p>Â Â Â Â Â Â  å¼€å¯äºŒçº§ç¼“å­˜åï¼ŒæŸ¥è¯¢æ—¶ä¼šå…ˆæŸ¥ä¸€çº§ç¼“å­˜ï¼Œæœªå‘½ä¸­åˆ™æŸ¥äºŒçº§ç¼“å­˜ï¼Œå¦‚æœäºŒçº§ç¼“å­˜ä¹Ÿæœªå‘½ä¸­å°±è®¿é—®æ•°æ®åº“ï¼Œå¹¶å°†ç»“æœå­˜å…¥ä¸€çº§å’ŒäºŒçº§ç¼“å­˜ï¼›éœ€è¦æ³¨è§£ä¸€çº§å’ŒäºŒçº§ç¼“å­˜éƒ½å¯èƒ½å¯¼è‡´è„è¯»ï¼Œé¢‘ç¹ä¿®æ”¹çš„æ•°æ®ä¸é€‚åˆå¼€å¯äºŒçº§ç¼“å­˜ã€‚</p>
<h4 data-id="heading-24"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>25. Mybatiså’ŒHibernateæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4>
<p>ï¼ˆ1ï¼‰å¯¹è±¡å…³ç³»æ˜ å°„ï¼šHibernateå®Œå…¨å°†æ•°æ®åº“è¡¨æ˜ å°„ä¸ºJavaå¯¹è±¡ï¼Œå¼€å‘è€…å‡ ä¹æ— éœ€æ‰‹åŠ¨ç¼–å†™SQLï¼Œä»–è‡ªåŠ¨ç”ŸæˆSQLï¼›Mybatisä¸­éœ€è¦æ‰‹åŠ¨ç¼–å†™SQLï¼Œé€šè¿‡XMLæˆ–æ³¨è§£å°†SQLæ˜ å°„åˆ°Javaæ–¹æ³•ä¸­ï¼›</p>
<p>ï¼ˆ2ï¼‰SQLæ§åˆ¶æƒï¼šHibernateè‡ªåŠ¨ç”ŸæˆSQLï¼Œå¼€å‘è€…æ— æ³•ç›´æ¥å¹²é¢„ï¼Œå¯èƒ½ä¼šç”Ÿæˆå†—ä½™SQLï¼Œæ€§èƒ½è¾ƒå·®ï¼›Mybatisä¸­å¼€å‘è€…å®Œå…¨æ§åˆ¶SQLï¼Œéœ€è¦è‡ªè¡Œç»´æŠ¤SQLï¼›</p>
<p>ï¼ˆ3ï¼‰æ€§èƒ½ï¼šHibernateå†…ç½®å¼ºå¤§çš„ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜å‡å°‘æ•°æ®åº“è®¿é—®ï¼Œé€‚åˆè¯»å¤šå†™å°‘åœºæ™¯ï¼›Mybatisæ‰‹åŠ¨ç¼–å†™é«˜æ•ˆSQLï¼Œé¿å…ä¸å¿…è¦çš„æŸ¥è¯¢ï¼Œé€‚åˆé«˜æ€§èƒ½åœºæ™¯ï¼›</p>
<p>Hibernate é…ç½®ï¼ˆhibernate.cfg.xmlï¼‰</p>
<ol>
<li>

</li>
<li>Â Â Â Â Â Â Â Â "-//Hibernate/HibernateÂ ConfigurationÂ DTDÂ 3.0//EN"Â Â </li>
<li>Â Â Â Â Â Â Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â Â Â </li>
<li>Â Â Â Â Â Â Â Â &lt;propertyÂ name="hibernate.connection.driver_class"&gt;com.mysql.jdbc.DriverÂ Â </li>
<li>Â Â Â Â Â Â Â Â &lt;propertyÂ name="hibernate.connection.url"&gt;jdbc:mysql://localhost:3306/testdbÂ Â </li>
<li>Â Â Â Â Â Â Â Â &lt;propertyÂ name="hibernate.connection.username"&gt;rootÂ Â </li>
<li>Â Â Â Â Â Â Â Â &lt;propertyÂ name="hibernate.connection.password"&gt;rootÂ Â </li>
<li>Â Â Â Â Â Â Â Â &lt;propertyÂ name="hibernate.dialect"&gt;org.hibernate.dialect.MySQLDialectÂ Â </li>
<li>Â Â Â Â Â Â Â Â &lt;propertyÂ name="hibernate.hbm2ddl.auto"&gt;updateÂ Â Â </li>
<li>Â Â Â Â Â Â Â Â &lt;mappingÂ <strong>class</strong>="User"/&gt;Â Â </li>
<li>Â Â Â Â Â Â </li>
<li>Â Â </li>
</ol>
<p>ä¿å­˜æ•°æ®çš„ä»£ç </p>
<ol>
<li><strong>public</strong>Â <strong>class</strong>Â HibernateTestÂ {Â Â </li>
<li>Â Â Â Â <strong>public</strong>Â <strong>static</strong>Â <strong>void</strong>Â main(String[]Â args)Â {Â Â </li>
<li>Â Â Â Â Â Â Â Â //Â åŠ è½½é…ç½®æ–‡ä»¶Â Â </li>
<li>Â Â Â Â Â Â Â Â ConfigurationÂ cfgÂ =Â <strong>new</strong>Â Configuration().configure();Â Â </li>
<li>Â Â Â Â Â Â Â Â SessionFactoryÂ sessionFactoryÂ =Â cfg.buildSessionFactory();Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â Â Â Â Â //Â æ‰“å¼€ä¼šè¯Â Â </li>
<li>Â Â Â Â Â Â Â Â SessionÂ sessionÂ =Â sessionFactory.openSession();Â Â </li>
<li>Â Â Â Â Â Â Â Â session.beginTransaction();Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â Â Â Â Â //Â åˆ›å»ºå¯¹è±¡Â Â </li>
<li>Â Â Â Â Â Â Â Â UserÂ userÂ =Â <strong>new</strong>Â User();Â Â </li>
<li>Â Â Â Â Â Â Â Â user.setId(1);Â Â </li>
<li>Â Â Â Â Â Â Â Â user.setUsername("admin");Â Â </li>
<li>Â Â Â Â Â Â Â Â user.setPassword("123456");Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â Â Â Â Â //Â ä¿å­˜å¯¹è±¡Â Â </li>
<li>Â Â Â Â Â Â Â Â session.save(user);Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â Â Â Â Â //Â æäº¤äº‹åŠ¡Â Â </li>
<li>Â Â Â Â Â Â Â Â session.getTransaction().commit();Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â Â Â Â Â //Â å…³é—­ä¼šè¯Â Â </li>
<li>Â Â Â Â Â Â Â Â session.close();Â Â </li>
<li>Â Â Â Â Â Â Â Â sessionFactory.close();Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>}Â Â </li>
</ol>
<h4 data-id="heading-25"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>26.èƒ½è¯´ä¸€ä¸‹å…¨å±€å¼‚å¸¸æ•è·å˜›ï¼Ÿ</h4>
<p>è¯´æ˜ï¼šå—æ£€æŸ¥å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc88093c40c14382b089fd6454cf2e10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2YeawtOinow==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790935&amp;x-signature=cDao3bWOwjNp%2FRWtS8Zmjun8VgU%3D" alt="" loading="lazy"/></p>
<p>1.å—æ£€æŸ¥å¼‚å¸¸</p>
<p>åœ¨ç¼–è¯‘é˜¶æ®µï¼ŒJavacç¼–è¯‘å™¨ä¼šå¼ºåˆ¶æ£€æŸ¥æ–¹æ³•ä¸­æ˜¯å¦æ˜¾ç¤ºåœ°å¤„ç†è¿™äº›å¼‚å¸¸ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨try-catchæ•è·æˆ–æ²¡æœ‰é€šè¿‡throwså‘ä¸ŠæŠ›å‡ºï¼Œç¼–è¯‘å°±ä¼šæŠ¥é”™ã€‚è¿™ç§å¼‚å¸¸ä¸€èˆ¬æ˜¯å¤–éƒ¨èµ„æºæˆ–ç¯å¢ƒé—®é¢˜å¼•èµ·çš„ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯æé†’å¼€å‘è€…å†™ä»£ç æ—¶è€ƒè™‘è¿™äº›å¼‚å¸¸æƒ…å†µã€‚</p>
<ol>
<li><strong>public</strong>Â <strong>void</strong>Â readFile(StringÂ path)Â throwsÂ IOExceptionÂ {Â Â </li>
<li>Â Â Â Â FileReaderÂ frÂ =Â <strong>new</strong>Â FileReader(path);Â Â //Â å¯èƒ½æŠ›å‡ºÂ IOExceptionÂ Â </li>
<li>Â Â Â Â BufferedReaderÂ brÂ =Â <strong>new</strong>Â BufferedReader(fr);Â Â </li>
<li>Â Â Â Â StringÂ lineÂ =Â br.readLine();Â Â </li>
<li>}Â Â </li>
</ol>
<p>å¦‚æœä¸å†™ throws IOException æˆ– try-catchï¼Œç¼–è¯‘å°±è¿‡ä¸äº†ã€‚</p>
<p>å—æ£€æŸ¥å¼‚å¸¸å¸¸è§ä¾‹å­ï¼š</p>
<p>IOExceptionï¼šæ–‡ä»¶ä¸å­˜åœ¨ã€è¯»å†™å¤±è´¥</p>
<p>SQLExceptionï¼šæ•°æ®åº“è¿æ¥å¤±è´¥ã€SQL æ‰§è¡Œé”™è¯¯</p>
<p>ClassNotFoundExceptionï¼šç±»åŠ è½½å¤±è´¥</p>
<p>InterruptedExceptionï¼šçº¿ç¨‹è¢«ä¸­æ–­</p>
<p>2.è¿è¡Œæ—¶å¼‚å¸¸</p>
<p>ç»§æ‰¿äº†RuntimeExceptionï¼Œåœ¨è¿è¡Œé˜¶æ®µæ‰ä¼šè¢«å‘ç°ï¼Œç¼–è¯‘å™¨ä¸ä¼šå¼ºåˆ¶è¦æ±‚å¤„ç†ï¼Œé€šå¸¸æ˜¯ç¼–ç¨‹é”™è¯¯æˆ–é€»è¾‘ç¼ºé™·å¯¼è‡´çš„ã€‚</p>
<p>è¿è¡Œæ—¶å¼‚å¸¸å¸¸è§ä¾‹å­ï¼š</p>
<p>NullPointerExceptionï¼ˆç©ºæŒ‡é’ˆï¼‰</p>
<p>ArrayIndexOutOfBoundsExceptionï¼ˆæ•°ç»„è¶Šç•Œï¼‰</p>
<p>ArithmeticExceptionï¼ˆé™¤ä»¥ 0ï¼‰</p>
<p>ClassCastExceptionï¼ˆç±»å‹è½¬æ¢é”™è¯¯ï¼‰</p>
<p>å¦‚ä½•å®ç°å…¨å±€å¼‚å¸¸æ•è·ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p>
<p>é¦–å…ˆä½¿ç”¨@ControllerAdviceæ³¨è§£å°†ç±»æ³¨å†Œä¸ºä¸€ä¸ªå…¨å±€å¼‚å¸¸å¤„ç†å™¨ç»„ä»¶ï¼Œä½œç”¨èŒƒå›´æ˜¯æ‰€æœ‰çš„æ§åˆ¶å±‚ï¼›åœ¨SpringMVCçš„è¯·æ±‚å¤„ç†é“¾ä¸­æœ‰ä¸€ä¸ªå…³é”®æ¥å£HandleExceptionResolverï¼ˆå¤„ç†å¼‚å¸¸è§£æå™¨ï¼‰ï¼Œæ‰€æœ‰å®ç°äº†è¯¥æ¥å£çš„ç±»åœ¨å‡ºç°å¼‚å¸¸æ—¶ä¼šä¾æ¬¡è°ƒç”¨è¯¥æ¥å£ï¼Œå°†å¼‚å¸¸è½¬åŒ–ä¸ºå“åº”ï¼›</p>
<ol>
<li><strong>public</strong>Â <strong>interface</strong>Â HandlerExceptionResolverÂ {Â Â </li>
<li>Â Â Â Â ModelAndViewÂ resolveException(HttpServletRequestÂ request,Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â HttpServletResponseÂ response,Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ObjectÂ handler,Â Â </li>
<li>Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ExceptionÂ ex);Â Â </li>
<li>}Â Â </li>
</ol>
<p>æ­¥éª¤å¦‚ä¸‹ï¼š1ã€æ§åˆ¶å±‚æŠ›å‡ºå¼‚å¸¸ï¼›2ã€Springæ•è·å¼‚å¸¸åï¼Œè°ƒç”¨HandlerExceptionResolverCompositeï¼ˆå¤„ç†å¼‚å¸¸è§£æå™¨ç»„åˆï¼‰ï¼›3ã€éå†æ‰€æœ‰æ³¨å†Œçš„HandleExceptionResolverå®ä¾‹ï¼ˆä¾‹å¦‚ExceptionHandleExceptionResolverï¼‰ï¼›4ã€ExceptionHandleExceptionResolveræŸ¥æ‰¾å¯¹åº”çš„@ExceptionHandleræ–¹æ³•ï¼›5ã€åŒ¹é…æˆåŠŸåæ‰§è¡Œè¯¥æ–¹æ³•ï¼Œè¿”å›ç»“æœï¼›</p>
<ol>
<li><strong>import</strong>Â org.springframework.web.bind.annotation.ExceptionHandler;Â Â </li>
<li><strong>import</strong>Â org.springframework.web.bind.annotation.RestControllerAdvice;</li>
<li><strong>import</strong>Â org.springframework.web.method.annotation.MethodArgumentTypeMismatchException;Â Â </li>
<li><strong>import</strong>Â org.springframework.http.converter.HttpMessageNotReadableException;Â Â </li>
<li>Â Â </li>
<li>@RestControllerAdviceÂ Â //Â ç­‰ä»·äºÂ @ControllerAdviceÂ +Â @ResponseBodyÂ Â </li>
<li><strong>public</strong>Â <strong>class</strong>Â GlobalExceptionHandlerÂ {Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â /**Â </li>
<li>Â Â Â Â Â *Â å¤„ç†è‡ªå®šä¹‰ä¸šåŠ¡å¼‚å¸¸Â </li>
<li>Â Â Â Â Â */Â Â </li>
<li>Â Â Â Â @ExceptionHandler(BusinessException.<strong>class</strong>)Â Â </li>
<li>Â Â Â Â <strong>public</strong>Â Result&lt;?&gt;Â handleBusinessException(BusinessExceptionÂ ex)Â {</li>
<li>Â Â Â Â Â Â Â Â <strong>return</strong>Â Result.fail("ä¸šåŠ¡å¼‚å¸¸ï¼š"Â +Â ex.getMessage());Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â /**Â </li>
<li>Â Â Â Â Â *Â å‚æ•°ç±»å‹ä¸åŒ¹é…Â </li>
<li>Â Â Â Â Â */Â Â </li>
<li>Â Â Â Â @ExceptionHandler(MethodArgumentTypeMismatchException.<strong>class</strong>)Â Â </li>
<li>Â Â Â Â <strong>public</strong>Â Result&lt;?&gt;Â handleTypeMismatch(MethodArgumentTypeMismatchExceptionÂ ex)Â {Â Â </li>
<li>Â Â Â Â Â Â Â Â <strong>return</strong>Â Result.fail("å‚æ•°ç±»å‹é”™è¯¯ï¼š"Â +Â ex.getMessage());Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â /**Â </li>
<li>Â Â Â Â Â *Â è¯·æ±‚ä½“è§£æé”™è¯¯Â </li>
<li>Â Â Â Â Â */Â Â </li>
<li>Â Â Â Â @ExceptionHandler(HttpMessageNotReadableException.<strong>class</strong>)Â Â </li>
<li>Â Â Â Â <strong>public</strong>Â Result&lt;?&gt;Â handleMessageNotReadable(HttpMessageNotReadableExceptionÂ ex)Â {Â Â </li>
<li>Â Â Â Â Â Â Â Â <strong>return</strong>Â Result.fail("è¯·æ±‚å‚æ•°æ ¼å¼é”™è¯¯");Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>Â Â </li>
<li>Â Â Â Â /**Â </li>
<li>Â Â Â Â Â *Â æ•è·æ‰€æœ‰å…¶ä»–å¼‚å¸¸Â </li>
<li>Â Â Â Â Â */Â Â </li>
<li>Â Â Â Â @ExceptionHandler(Exception.<strong>class</strong>)Â Â </li>
<li>Â Â Â Â <strong>public</strong>Â Result&lt;?&gt;Â handleOtherException(ExceptionÂ ex)Â {Â Â </li>
<li>Â Â Â Â Â Â Â Â ex.printStackTrace();Â Â //Â å¯è®°å½•æ—¥å¿—Â Â </li>
<li>Â Â Â Â Â Â Â Â <strong>return</strong>Â Result.fail("æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼š"Â +Â ex.getMessage());Â Â </li>
<li>Â Â Â Â }Â Â </li>
<li>}</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[WebSocket å®æˆ˜æŒ‡å—ï¼šä»åŸºç¡€åˆ°é«˜å¯ç”¨æ¶æ„]]></title>    <link>https://juejin.cn/post/7602559134575558692</link>    <guid>https://juejin.cn/post/7602559134575558692</guid>    <pubDate>2026-02-04T05:53:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602559134575558692" data-draft-id="7602529888483786815" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="WebSocket å®æˆ˜æŒ‡å—ï¼šä»åŸºç¡€åˆ°é«˜å¯ç”¨æ¶æ„"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T05:53:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¥½åå­—_æŠ€æœ¯åˆ†äº«"/> <meta itemprop="url" content="https://juejin.cn/user/1101056944119610"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            WebSocket å®æˆ˜æŒ‡å—ï¼šä»åŸºç¡€åˆ°é«˜å¯ç”¨æ¶æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1101056944119610/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¥½åå­—_æŠ€æœ¯åˆ†äº«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:53:20.000Z" title="Wed Feb 04 2026 05:53:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    20
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">WebSocket å®æˆ˜æŒ‡å—ï¼šä»åŸºç¡€åˆ°é«˜å¯ç”¨æ¶æ„</h2>
<p>WebSocketæ˜¯ä¸€ç§åœ¨å•ä¸ªTCPè¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šä¿¡çš„åè®®ï¼Œå®ƒå®ç°äº†æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„å®æ—¶æ•°æ®äº¤æ¢ã€‚ç›¸æ¯”HTTPè½®è¯¢ï¼ŒWebSocketæä¾›äº†æ›´ä½çš„å»¶è¿Ÿå’Œæ›´é«˜çš„æ•ˆç‡ã€‚æœ¬æ–‡å°†ä»åŸºç¡€æ¦‚å¿µåˆ°ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ï¼Œå…¨é¢ä»‹ç»WebSocketçš„ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-1">WebSocket åŸºç¡€æ¦‚å¿µ</h3>
<h4 data-id="heading-2">ä¸ºä»€ä¹ˆéœ€è¦WebSocketï¼Ÿ</h4>
<p>ä¼ ç»Ÿçš„HTTPåè®®æœ‰ä»¥ä¸‹å±€é™ï¼š</p>
<ul>
<li><strong>å•å‘é€šä¿¡</strong>ï¼šæœåŠ¡å™¨åªèƒ½ä¸»åŠ¨æ¨é€ï¼Œå®¢æˆ·ç«¯ä¸èƒ½ä¸»åŠ¨å‘é€</li>
<li><strong>é«˜å»¶è¿Ÿ</strong>ï¼šéœ€è¦é¢‘ç¹å»ºç«‹HTTPè¿æ¥ï¼Œå¼€é”€å¤§</li>
<li><strong>èµ„æºæ¶ˆè€—</strong>ï¼šé•¿è½®è¯¢ä¼šå ç”¨å¤§é‡æœåŠ¡å™¨èµ„æº</li>
</ul>
<p>WebSocketè§£å†³äº†è¿™äº›é—®é¢˜ï¼Œæä¾›äº†ä¸€æ¬¡æ¡æ‰‹åçš„æŒä¹…åŒ–è¿æ¥ã€‚</p>
<h4 data-id="heading-3">æ¡æ‰‹è¿‡ç¨‹</h4>
<p>WebSocketé€šè¿‡HTTPå‡çº§è¯·æ±‚å»ºç«‹è¿æ¥ï¼š</p>
<pre><code class="hljs language-http" lang="http">GET /chat HTTP/1.1
Host: example.com
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Key: dGhlIHNhbXBsbGzZSBtIQ==
Sec-WebSocket-Version: 13
Sec-WebSocket-Protocol: chat
</code></pre>
<p>æœåŠ¡å™¨å“åº”ï¼š</p>
<pre><code class="hljs language-http" lang="http">HTTP/1.1 101 Switching Protocols
Upgrade: websocket
Connection: Upgrade
Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGhzh/UBbPzwXgqCIubKHe36
</code></pre>
<h3 data-id="heading-4">Pythonä¸­çš„WebSocketå®ç°</h3>
<h4 data-id="heading-5">1. websocketsåº“ - æœ€ç®€å•çš„é€‰æ‹©</h4>
<p><code>websockets</code>æ˜¯ä¸€ä¸ªçº¯Pythonå®ç°çš„WebSocketå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼ŒAPIç®€æ´æ˜“ç”¨ã€‚</p>
<h5 data-id="heading-6">å®‰è£…</h5>
<pre><code class="hljs language-bash" lang="bash">pip install websockets
</code></pre>
<h5 data-id="heading-7">æœåŠ¡å™¨ç«¯å®ç°</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">import</span> websockets

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_connection</span>(<span class="hljs-params">websocket, path</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"New connection: <span class="hljs-subst">{websocket.remote_address}</span>"</span>)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">for</span> message <span class="hljs-keyword">in</span> websocket:
            <span class="hljs-keyword">await</span> websocket.send(<span class="hljs-string">f"Echo: <span class="hljs-subst">{message}</span>"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Received: <span class="hljs-subst">{message}</span>"</span>)
    <span class="hljs-keyword">except</span> websockets.exceptions.ConnectionClosed:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Connection closed"</span>)

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> websockets.serve(handle_connection, <span class="hljs-string">"localhost"</span>, <span class="hljs-number">8765</span>) <span class="hljs-keyword">as</span> server:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Server running on ws://localhost:8765"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    asyncio.run(main())
</code></pre>
<h4 data-id="heading-8">2. FastAPI + WebSockets - ç”Ÿäº§çº§æ–¹æ¡ˆ</h4>
<p>å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œæ¨èä½¿ç”¨FastAPIæ¡†æ¶é…åˆ<code>websockets</code>åº“ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, WebSocket
<span class="hljs-keyword">from</span> fastapi.middleware.cors <span class="hljs-keyword">import</span> CORSMiddleware
<span class="hljs-keyword">import</span> uvicorn
<span class="hljs-keyword">import</span> websockets

app = FastAPI()
app.add_middleware(
    CORSMiddleware,
    allow_origins=[<span class="hljs-string">"*"</span>],
    allow_credentials=<span class="hljs-literal">True</span>,
    allow_methods=[<span class="hljs-string">"*"</span>],
    allow_headers=[<span class="hljs-string">"*"</span>],
)

<span class="hljs-meta">@app.websocket(<span class="hljs-params"><span class="hljs-string">"/ws/{client_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">websocket_endpoint</span>(<span class="hljs-params">websocket: WebSocket, client_id: <span class="hljs-built_in">int</span></span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Client <span class="hljs-subst">{client_id}</span> connected"</span>)
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
            data = <span class="hljs-keyword">await</span> websocket.receive_text()
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Received from <span class="hljs-subst">{client_id}</span>: <span class="hljs-subst">{data}</span>"</span>)
            <span class="hljs-comment"># å¹¿æ’­ç»™æ‰€æœ‰å®¢æˆ·ç«¯</span>
            <span class="hljs-keyword">await</span> websocket_manager.broadcast(data)
    <span class="hljs-keyword">except</span>:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Client <span class="hljs-subst">{client_id}</span> disconnected"</span>)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ConnectionManager</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.active_connections: <span class="hljs-built_in">list</span>[WebSocket] = []
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">connect</span>(<span class="hljs-params">self, websocket: WebSocket</span>):
        self.active_connections.append(websocket)
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">disconnect</span>(<span class="hljs-params">self, websocket: WebSocket</span>):
        self.active_connections.remove(websocket)
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">broadcast</span>(<span class="hljs-params">self, message: <span class="hljs-built_in">str</span></span>):
        <span class="hljs-keyword">for</span> connection <span class="hljs-keyword">in</span> self.active_connections:
            <span class="hljs-keyword">await</span> connection.send_text(message)

websocket_manager = ConnectionManager()

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    uvicorn.run(app, host=<span class="hljs-string">"0.0.0.0"</span>, port=<span class="hljs-number">8000</span>)
</code></pre>
<h3 data-id="heading-9">å®æˆ˜åº”ç”¨ï¼šå®æ—¶èŠå¤©ç³»ç»Ÿ</h3>
<h4 data-id="heading-10">å‰ç«¯ä»£ç </h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>WebSocket Chat<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"message"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¾“å…¥æ¶ˆæ¯..."</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"sendMessage()"</span>&gt;</span>å‘é€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"chat"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">const</span> ws = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">'ws://localhost:8000/ws/user1'</span>);
        
        ws.<span class="hljs-property">onopen</span> = <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Connected to server'</span>);
        };
        
        ws.<span class="hljs-property">onmessage</span> = <span class="hljs-function"><span class="hljs-params">event</span> =&gt;</span> {
            <span class="hljs-keyword">const</span> chat = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'chat'</span>);
            <span class="hljs-keyword">const</span> msg = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
            msg.<span class="hljs-property">textContent</span> = event.<span class="hljs-property">data</span>;
            chat.<span class="hljs-title function_">appendChild</span>(msg);
            chat.<span class="hljs-property">scrollTop</span> = chat.<span class="hljs-property">scrollHeight</span>;
        };
        
        ws.<span class="hljs-property">onerror</span> = <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'WebSocket error:'</span>, error);
        };
        
        <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendMessage</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">const</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'message'</span>);
            ws.<span class="hljs-title function_">send</span>(input.<span class="hljs-property">value</span>);
            input.<span class="hljs-property">value</span> = <span class="hljs-string">''</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h4 data-id="heading-11">å¿ƒè·³æœºåˆ¶</h4>
<p>ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œè¿æ¥å¯èƒ½å› ä¸ºç½‘ç»œæ³¢åŠ¨æ–­å¼€ã€‚å®ç°å¿ƒè·³é‡è¿æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> ws = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">let</span> reconnectAttempts = <span class="hljs-number">0</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MAX_RETRIES</span> = <span class="hljs-number">5</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">connect</span>(<span class="hljs-params"/>) {
    ws = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(<span class="hljs-string">'ws://localhost:8000/ws/user1'</span>);
    
    ws.<span class="hljs-property">onopen</span> = <span class="hljs-function">() =&gt;</span> {
        reconnectAttempts = <span class="hljs-number">0</span>;
        <span class="hljs-title function_">startHeartbeat</span>();
    };
    
    ws.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (reconnectAttempts &lt; <span class="hljs-variable constant_">MAX_RETRIES</span>) {
            <span class="hljs-built_in">setTimeout</span>(connect, <span class="hljs-number">1000</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, reconnectAttempts));
            reconnectAttempts++;
        }
    };
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">startHeartbeat</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> interval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (ws.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span>) {
            ws.<span class="hljs-title function_">send</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'ping'</span> }));
        }
    }, <span class="hljs-number">30000</span>);
}

<span class="hljs-title function_">connect</span>();
</code></pre>
<h3 data-id="heading-12">é«˜å¯ç”¨æ¶æ„</h3>
<h4 data-id="heading-13">1. è´Ÿè½½å‡è¡¡</h4>
<p>å•ä¸ªWebSocketæœåŠ¡å™¨ä¼šæˆä¸ºç“¶é¢ˆã€‚ä½¿ç”¨Nginxåå‘ä»£ç†å®ç°è´Ÿè½½å‡è¡¡ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">upstream websocket_backend {
    server 10.0.0.1:8001;
    server 10.0.0.1:8002;
    server 10.0.0.1:8003;
}

server {
    listen 80;
    location /ws/ {
        proxy_pass http://websocket_backend;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "connection upgrade";
    }
}
</code></pre>
<h4 data-id="heading-14">2. æ¶ˆæ¯é˜Ÿåˆ—</h4>
<p>ä½¿ç”¨Redisæˆ–RabbitMQä½œä¸ºæ¶ˆæ¯é˜Ÿåˆ—ï¼Œæé«˜ç³»ç»Ÿååé‡ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> redis
<span class="hljs-keyword">import</span> json

<span class="hljs-keyword">class</span> <span class="hljs-title class_">WebSocketManager</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.redis = redis.Redis(host=<span class="hljs-string">'localhost'</span>, port=<span class="hljs-number">6379</span>, db=<span class="hljs-number">0</span>)
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">publish</span>(<span class="hljs-params">self, channel: <span class="hljs-built_in">str</span>, message: <span class="hljs-built_in">dict</span></span>):
        <span class="hljs-keyword">await</span> self.redis.publish(channel, json.dumps(message))
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">self, channel: <span class="hljs-built_in">str</span></span>):
        pubsub = self.redis.pubsub()
        <span class="hljs-keyword">await</span> pubsub.subscribe(channel)
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">for</span> message <span class="hljs-keyword">in</span> pubsub.listen():
            <span class="hljs-keyword">yield</span> message
</code></pre>
<h3 data-id="heading-15">æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-16">1. è¿æ¥å¤ç”¨</h4>
<p>ä½¿ç”¨è¿æ¥æ± ï¼Œé¿å…é¢‘ç¹å»ºç«‹è¿æ¥ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">import</span> websockets

<span class="hljs-keyword">class</span> <span class="hljs-title class_">WebSocketPool</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, max_connections: <span class="hljs-built_in">int</span> = <span class="hljs-number">10</span></span>):
        self.pool = []
        self.max_connections = max_connections
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">acquire</span>(<span class="hljs-params">self</span>) -&gt; WebSocket:
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.pool:
            ws = <span class="hljs-keyword">await</span> websockets.connect(<span class="hljs-string">"ws://localhost:8000"</span>);
            self.pool.append(ws)
            <span class="hljs-keyword">return</span> ws
        <span class="hljs-comment"># å¤ç”¨ç°æœ‰è¿æ¥</span>
        <span class="hljs-keyword">return</span> self.pool.pop(<span class="hljs-number">0</span>) <span class="hljs-keyword">if</span> self.pool <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">release</span>(<span class="hljs-params">self, ws: WebSocket</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(self.pool) &lt; self.max_connections:
            self.pool.append(ws)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">await</span> ws.close()
</code></pre>
<h4 data-id="heading-17">2. æ¶ˆæ¯å‹ç¼©</h4>
<p>å¯¹äºå¤§é‡æ•°æ®ä¼ è¾“ï¼Œå¯ç”¨å‹ç¼©é™ä½å¸¦å®½å ç”¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> gzip

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">send_compressed</span>(<span class="hljs-params">websocket, data: <span class="hljs-built_in">dict</span></span>):
    json_str = json.dumps(data)
    compressed = gzip.compress(json_str.encode())
    <span class="hljs-keyword">await</span> websocket.send(compressed)
</code></pre>
<h3 data-id="heading-18">å®‰å…¨è€ƒè™‘</h3>
<h4 data-id="heading-19">1. èº«ä»½éªŒè¯</h4>
<p>è¿æ¥æ—¶è¿›è¡ŒTokenéªŒè¯ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> jwt

<span class="hljs-meta">@app.websocket(<span class="hljs-params"><span class="hljs-string">"/ws/auth"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">websocket_auth</span>(<span class="hljs-params">websocket: WebSocket, token: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-keyword">try</span>:
        payload = jwt.decode(token, secret=<span class="hljs-string">"your-secret-key"</span>, algorithms=[<span class="hljs-string">"HS256"</span>])
        <span class="hljs-keyword">if</span> payload.get(<span class="hljs-string">"valid"</span>, <span class="hljs-literal">False</span>):
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Authenticated user: <span class="hljs-subst">{payload.get(<span class="hljs-string">'user_id'</span>)}</span>"</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">await</span> websocket.close(code=<span class="hljs-number">1008</span>, reason=<span class="hljs-string">"Invalid token"</span>)
    <span class="hljs-keyword">except</span> jwt.InvalidTokenError:
        <span class="hljs-keyword">await</span> websocket.close(code=<span class="hljs-number">1008</span>, reason=<span class="hljs-string">"Invalid token"</span>)
</code></pre>
<h4 data-id="heading-20">2. é€Ÿç‡é™åˆ¶</h4>
<p>é˜²æ­¢æ¶æ„å®¢æˆ·ç«¯å‘é€è¿‡å¤šæ¶ˆæ¯ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> time
<span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> defaultdict

rate_limiter = defaultdict(<span class="hljs-built_in">list</span>)

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">check_rate_limit</span>(<span class="hljs-params">user_id: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
    now = time.time()
    rate_limiter[user_id] = [t <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> rate_limiter[user_id] <span class="hljs-keyword">if</span> now - t &lt; <span class="hljs-number">60</span>]
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(rate_limiter[user_id]) &gt;= <span class="hljs-number">100</span>:  <span class="hljs-comment"># æ¯åˆ†é’Ÿæœ€å¤š100æ¡</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span>
</code></pre>
<h3 data-id="heading-21">ç›‘æ§ä¸è°ƒè¯•</h3>
<h4 data-id="heading-22">ä½¿ç”¨Prometheusç›‘æ§</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> prometheus_client <span class="hljs-keyword">import</span> Counter, Gauge

connections_active = Gauge(<span class="hljs-string">'websocket_connections_active'</span>, <span class="hljs-string">'Active WebSocket connections'</span>)
messages_sent = Counter(<span class="hljs-string">'websocket_messages_total'</span>, <span class="hljs-string">'Total messages sent'</span>)
messages_failed = Counter(<span class="hljs-string">'websocket_messages_failed'</span>, <span class="hljs-string">'Failed messages'</span>)

<span class="hljs-meta">@app.websocket(<span class="hljs-params"><span class="hljs-string">"/ws/metrics"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">websocket_with_metrics</span>(<span class="hljs-params">websocket: WebSocket</span>):
    connections_active.inc()
    <span class="hljs-keyword">try</span>:
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">for</span> message <span class="hljs-keyword">in</span> websocket:
            messages_sent.inc()
            <span class="hljs-keyword">await</span> websocket.send(message)
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        messages_failed.inc()
        <span class="hljs-keyword">raise</span>
</code></pre>
<h3 data-id="heading-23">æ€»ç»“</h3>
<p>WebSocketä¸ºå®æ—¶åº”ç”¨æä¾›äº†å¼ºå¤§è€Œçµæ´»çš„é€šä¿¡æ–¹æ¡ˆã€‚é€šè¿‡é€‰æ‹©åˆé€‚çš„åº“ã€å®ç°é«˜å¯ç”¨æ¶æ„å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œå¯ä»¥æ„å»ºç¨³å®šå¯é çš„å®æ—¶é€šä¿¡ç³»ç»Ÿã€‚æœ¬æ–‡æ¶µç›–äº†ä»åŸºç¡€å®ç°åˆ°ç”Ÿäº§çº§éƒ¨ç½²çš„å®Œæ•´æµç¨‹ï¼Œå¸Œæœ›å¯¹ä½ çš„WebSocketå¼€å‘ä¹‹æ—…æœ‰æ‰€å¸®åŠ©ã€‚</p>
<h3 data-id="heading-24">å‚è€ƒèµ„æ–™</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc6455%2F" target="_blank" title="https://tools.ietf.org/html/rfc6455/" ref="nofollow noopener noreferrer">WebSocket RFC 6455</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwebsockets.readthedocs.io%2F" target="_blank" title="https://websockets.readthedocs.io/" ref="nofollow noopener noreferrer">websockets Pythonæ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffastapi.tiangolo.com%2Fadvanced%2Fwebsockets%2F" target="_blank" title="https://fastapi.tiangolo.com/advanced/websockets/" ref="nofollow noopener noreferrer">FastAPI WebSocket</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScript æœ‰å“ªå‡ ç§æ•°æ®ç±»å‹ï¼Ÿè¯·ç®€è¦æè¿°æ¯ç§æ•°æ®ç±»å‹çš„ç‰¹ç‚¹ã€‚]]></title>    <link>https://juejin.cn/post/7602554905270206464</link>    <guid>https://juejin.cn/post/7602554905270206464</guid>    <pubDate>2026-02-04T06:05:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602554905270206464" data-draft-id="7602482736914661411" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScript æœ‰å“ªå‡ ç§æ•°æ®ç±»å‹ï¼Ÿè¯·ç®€è¦æè¿°æ¯ç§æ•°æ®ç±»å‹çš„ç‰¹ç‚¹ã€‚"/> <meta itemprop="keywords" content="JavaScript,é¢è¯•,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T06:05:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Smilezyl"/> <meta itemprop="url" content="https://juejin.cn/user/3438928103504088"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScript æœ‰å“ªå‡ ç§æ•°æ®ç±»å‹ï¼Ÿè¯·ç®€è¦æè¿°æ¯ç§æ•°æ®ç±»å‹çš„ç‰¹ç‚¹ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3438928103504088/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Smilezyl
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:05:01.000Z" title="Wed Feb 04 2026 06:05:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">JavaScript æœ‰å“ªå‡ ç§æ•°æ®ç±»å‹ï¼Ÿè¯·ç®€è¦æè¿°æ¯ç§æ•°æ®ç±»å‹çš„ç‰¹ç‚¹ã€‚</h2>
<h3 data-id="heading-1">æ ¸å¿ƒç­”æ¡ˆ</h3>
<p>JavaScript å…±æœ‰ <strong>8 ç§</strong>æ•°æ®ç±»å‹ï¼Œåˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p>
<p><strong>åŸå§‹ç±»å‹ï¼ˆPrimitiveï¼‰â€” 7 ç§ï¼š</strong></p>





































<table><thead><tr><th>ç±»å‹</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>Number</strong></td><td>åŒç²¾åº¦ 64 ä½æµ®ç‚¹æ•°ï¼ˆIEEE 754ï¼‰ï¼ŒåŒ…å«æ•´æ•°ã€æµ®ç‚¹æ•°ã€<code>Infinity</code>ã€<code>NaN</code></td></tr><tr><td><strong>String</strong></td><td>ä¸å¯å˜çš„ UTF-16 ç¼–ç å­—ç¬¦åºåˆ—</td></tr><tr><td><strong>Boolean</strong></td><td>åªæœ‰ <code>true</code> å’Œ <code>false</code> ä¸¤ä¸ªå€¼</td></tr><tr><td><strong>Undefined</strong></td><td>å˜é‡å·²å£°æ˜ä½†æœªèµ‹å€¼çš„é»˜è®¤å€¼ï¼Œå…¨å±€åªæœ‰ä¸€ä¸ªå€¼ <code>undefined</code></td></tr><tr><td><strong>Null</strong></td><td>è¡¨ç¤º"ç©ºå€¼"æˆ–"æ— å¯¹è±¡"ï¼Œå…¨å±€åªæœ‰ä¸€ä¸ªå€¼ <code>null</code></td></tr><tr><td><strong>Symbol</strong></td><td>ES6 å¼•å…¥ï¼Œæ¯ä¸ª Symbol å€¼éƒ½æ˜¯å”¯ä¸€ä¸”ä¸å¯å˜çš„ï¼Œç”¨ä½œå¯¹è±¡å±æ€§çš„å”¯ä¸€æ ‡è¯†ç¬¦</td></tr><tr><td><strong>BigInt</strong></td><td>ES2020 å¼•å…¥ï¼Œå¯ä»¥è¡¨ç¤ºä»»æ„ç²¾åº¦çš„æ•´æ•°ï¼Œçªç ´ Number çš„å®‰å…¨æ•´æ•°é™åˆ¶</td></tr></tbody></table>
<p><strong>å¼•ç”¨ç±»å‹ï¼ˆReferenceï¼‰â€” 1 ç§ï¼š</strong></p>













<table><thead><tr><th>ç±»å‹</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>Object</strong></td><td>é”®å€¼å¯¹çš„é›†åˆï¼ŒArrayã€Functionã€Dateã€RegExpã€Mapã€Set ç­‰éƒ½å±äº Object</td></tr></tbody></table>
<h3 data-id="heading-2">æ·±å…¥è§£æ</h3>
<h4 data-id="heading-3">å­˜å‚¨æœºåˆ¶çš„æœ¬è´¨åŒºåˆ«</h4>
<ul>
<li><strong>åŸå§‹ç±»å‹</strong>ï¼šå€¼å­˜å‚¨åœ¨<strong>æ ˆå†…å­˜</strong>ä¸­ï¼ˆå®é™…ä¸Š V8 å¼•æ“ä¸­å°æ•´æ•° Smi ç›´æ¥å†…åµŒåœ¨æŒ‡é’ˆä¸­ï¼‰ï¼ŒæŒ‰å€¼è®¿é—®ï¼Œèµ‹å€¼æ—¶å¤åˆ¶å€¼æœ¬èº«ã€‚</li>
<li><strong>å¼•ç”¨ç±»å‹</strong>ï¼šå€¼å­˜å‚¨åœ¨<strong>å †å†…å­˜</strong>ä¸­ï¼Œæ ˆä¸­å­˜å‚¨çš„æ˜¯æŒ‡å‘å †å†…å­˜çš„å¼•ç”¨ï¼ˆåœ°å€ï¼‰ï¼Œèµ‹å€¼æ—¶å¤åˆ¶çš„æ˜¯å¼•ç”¨ã€‚</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">æ ˆå†…å­˜                    å †å†…å­˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-attr">a</span> = <span class="hljs-number">1</span>        â”‚         â”‚                  â”‚
â”‚ <span class="hljs-attr">b</span> = <span class="hljs-string">"hello"</span>  â”‚         â”‚ { name: <span class="hljs-string">"Tom"</span> }  â”‚â—„â”€â”
â”‚ obj â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚  â”‚
â”‚ obj2 â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  obj å’Œ obj2 æŒ‡å‘åŒä¸€ä¸ªå †å†…å­˜åœ°å€
</code></pre>
<h4 data-id="heading-4">å„ç±»å‹çš„åº•å±‚ç»†èŠ‚</h4>
<p><strong>Number</strong>ï¼šé‡‡ç”¨ IEEE 754 åŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œè¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>å®‰å…¨æ•´æ•°èŒƒå›´ï¼š<code>-(2^53 - 1)</code> åˆ° <code>2^53 - 1</code></li>
<li>å­˜åœ¨ç²¾åº¦é—®é¢˜ï¼š<code>0.1 + 0.2 !== 0.3</code></li>
<li>ç‰¹æ®Šå€¼ï¼š<code>NaN</code>ï¼ˆå”¯ä¸€ä¸€ä¸ªä¸ç­‰äºè‡ªèº«çš„å€¼ï¼‰ã€<code>Infinity</code>ã€<code>-Infinity</code>ã€<code>+0</code> å’Œ <code>-0</code></li>
</ul>
<p><strong>String</strong>ï¼šä¸å¯å˜ï¼ˆimmutableï¼‰ï¼Œä»»ä½•"ä¿®æ”¹"æ“ä½œéƒ½ä¼šåˆ›å»ºæ–°å­—ç¬¦ä¸²ã€‚å†…éƒ¨ä½¿ç”¨ UTF-16 ç¼–ç ï¼Œä¸€ä¸ªå­—ç¬¦å  2 æˆ– 4 å­—èŠ‚ï¼ˆä»£ç†å¯¹ï¼‰ã€‚</p>
<p><strong>Symbol</strong>ï¼šå³ä½¿æè¿°ç›¸åŒï¼Œæ¯ä¸ª Symbol ä¹Ÿæ˜¯å”¯ä¸€çš„ã€‚<code>Symbol.for()</code> å¯ä»¥åˆ›å»ºå…¨å±€å…±äº«çš„ Symbolã€‚</p>
<p><strong>BigInt</strong>ï¼šä¸èƒ½ä¸ Number æ··åˆè¿ç®—ï¼Œæ²¡æœ‰ç²¾åº¦ä¸Šé™ã€‚</p>
<h4 data-id="heading-5">å¸¸è§è¯¯åŒº</h4>
<ul>
<li><strong>è¯¯åŒºä¸€</strong>ï¼š<code>typeof null === "object"</code>ã€‚è¿™æ˜¯ JS å†å²é—ç•™çš„ bugï¼ˆV8 åº•å±‚ç”¨ä½ä½æ ‡è®°ç±»å‹ï¼Œ<code>null</code> çš„å…¨é›¶æ ‡è®°è¢«è¯¯åˆ¤ä¸ºå¯¹è±¡ï¼‰ï¼Œä½† <code>null</code> æ˜¯åŸå§‹ç±»å‹ã€‚</li>
<li><strong>è¯¯åŒºäºŒ</strong>ï¼šè®¤ä¸º "Function æ˜¯ç‹¬ç«‹çš„æ•°æ®ç±»å‹"ã€‚<code>typeof function(){}</code> è¿”å› <code>"function"</code>ï¼Œä½† Function åœ¨è§„èŒƒä¸­å±äº Object çš„å­ç±»å‹ï¼Œä¸æ˜¯ç‹¬ç«‹çš„æ•°æ®ç±»å‹ã€‚</li>
<li><strong>è¯¯åŒºä¸‰</strong>ï¼šè®¤ä¸º <code>undefined == null</code> è¯´æ˜å®ƒä»¬æ˜¯ä¸€å›äº‹ã€‚<code>==</code> ç›¸ç­‰åªæ˜¯è§„èŒƒçš„ç‰¹æ®Šè§„å®šï¼Œå®ƒä»¬è¯­ä¹‰å®Œå…¨ä¸åŒï¼š<code>undefined</code> è¡¨ç¤º"æœªå®šä¹‰"ï¼Œ<code>null</code> è¡¨ç¤º"ç©ºå€¼"ã€‚</li>
</ul>
<h3 data-id="heading-6">ä»£ç ç¤ºä¾‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ========== ç±»å‹æ£€æµ‹ ==========</span>

<span class="hljs-comment">// typeof è¿ç®—ç¬¦</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-number">42</span>;            <span class="hljs-comment">// "number"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-string">"hello"</span>;       <span class="hljs-comment">// "string"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-literal">true</span>;          <span class="hljs-comment">// "boolean"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-literal">undefined</span>;     <span class="hljs-comment">// "undefined"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-literal">null</span>;          <span class="hljs-comment">// "object"  âš ï¸ å†å² bug</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Symbol</span>();      <span class="hljs-comment">// "symbol"</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-number">42n</span>;           <span class="hljs-comment">// "bigint"</span>
<span class="hljs-keyword">typeof</span> {};            <span class="hljs-comment">// "object"</span>
<span class="hljs-keyword">typeof</span> [];            <span class="hljs-comment">// "object"  â€”â€” æ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡</span>
<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>){};  <span class="hljs-comment">// "function" â€”â€” ç‰¹æ®Šè¿”å›å€¼ï¼Œä½† Function æœ¬è´¨æ˜¯ Object</span>

<span class="hljs-comment">// æ›´å‡†ç¡®çš„ç±»å‹æ£€æµ‹</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>);       <span class="hljs-comment">// "[object Null]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>([]);         <span class="hljs-comment">// "[object Array]"</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()); <span class="hljs-comment">// "[object Date]"</span>

<span class="hljs-comment">// ========== åŸå§‹ç±»å‹ vs å¼•ç”¨ç±»å‹ ==========</span>

<span class="hljs-comment">// åŸå§‹ç±»å‹ï¼šæŒ‰å€¼å¤åˆ¶</span>
<span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>;
<span class="hljs-keyword">let</span> b = a;
b = <span class="hljs-number">2</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// 1ï¼ˆä¸å—å½±å“ï¼‰</span>

<span class="hljs-comment">// å¼•ç”¨ç±»å‹ï¼šæŒ‰å¼•ç”¨å¤åˆ¶</span>
<span class="hljs-keyword">let</span> obj1 = { <span class="hljs-attr">name</span>: <span class="hljs-string">"Tom"</span> };
<span class="hljs-keyword">let</span> obj2 = obj1;
obj2.<span class="hljs-property">name</span> = <span class="hljs-string">"Jerry"</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj1.<span class="hljs-property">name</span>); <span class="hljs-comment">// "Jerry"ï¼ˆè¢«ä¿®æ”¹äº†ï¼‰</span>

<span class="hljs-comment">// ========== å„ç±»å‹ç‰¹æ®Šè¡Œä¸º ==========</span>

<span class="hljs-comment">// Number ç²¾åº¦é—®é¢˜</span>
<span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span> === <span class="hljs-number">0.3</span>;           <span class="hljs-comment">// false</span>
<span class="hljs-number">0.1</span> + <span class="hljs-number">0.2</span>;                   <span class="hljs-comment">// 0.30000000000000004</span>
<span class="hljs-title class_">Number</span>.<span class="hljs-property">MAX_SAFE_INTEGER</span>;     <span class="hljs-comment">// 9007199254740991 (2^53 - 1)</span>

<span class="hljs-comment">// BigInt</span>
<span class="hljs-keyword">const</span> big = <span class="hljs-number">9007199254740991n</span> + <span class="hljs-number">1n</span>; <span class="hljs-comment">// 9007199254740992nï¼ˆç²¾ç¡®ï¼‰</span>
<span class="hljs-comment">// big + 1;  // âŒ TypeError: Cannot mix BigInt and other types</span>

<span class="hljs-comment">// Symbol çš„å”¯ä¸€æ€§</span>
<span class="hljs-keyword">const</span> s1 = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">"id"</span>);
<span class="hljs-keyword">const</span> s2 = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">"id"</span>);
s1 === s2;  <span class="hljs-comment">// false</span>

<span class="hljs-comment">// Symbol.for å…¨å±€å…±äº«</span>
<span class="hljs-keyword">const</span> s3 = <span class="hljs-title class_">Symbol</span>.<span class="hljs-title function_">for</span>(<span class="hljs-string">"id"</span>);
<span class="hljs-keyword">const</span> s4 = <span class="hljs-title class_">Symbol</span>.<span class="hljs-title function_">for</span>(<span class="hljs-string">"id"</span>);
s3 === s4;  <span class="hljs-comment">// true</span>

<span class="hljs-comment">// NaN çš„ç‰¹æ®Šæ€§</span>
<span class="hljs-title class_">NaN</span> === <span class="hljs-title class_">NaN</span>;       <span class="hljs-comment">// false</span>
<span class="hljs-title class_">Number</span>.<span class="hljs-built_in">isNaN</span>(<span class="hljs-title class_">NaN</span>); <span class="hljs-comment">// true</span>

<span class="hljs-comment">// +0 å’Œ -0</span>
+<span class="hljs-number">0</span> === -<span class="hljs-number">0</span>;              <span class="hljs-comment">// true</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">is</span>(+<span class="hljs-number">0</span>, -<span class="hljs-number">0</span>);      <span class="hljs-comment">// false</span>
<span class="hljs-number">1</span> / +<span class="hljs-number">0</span>;                  <span class="hljs-comment">// Infinity</span>
<span class="hljs-number">1</span> / -<span class="hljs-number">0</span>;                  <span class="hljs-comment">// -Infinity</span>
</code></pre>
<h3 data-id="heading-7">é¢è¯•æŠ€å·§</h3>
<p><strong>é¢è¯•å®˜å¯èƒ½çš„è¿½é—®æ–¹å‘ï¼š</strong></p>
<ol>
<li>
<p><strong>"å¦‚ä½•å‡†ç¡®åˆ¤æ–­æ•°æ®ç±»å‹ï¼Ÿ"</strong> â†’ <code>typeof</code> é€‚ç”¨äºåŸå§‹ç±»å‹ï¼ˆæ³¨æ„ null çš„ bugï¼‰ï¼Œ<code>instanceof</code> é€‚ç”¨äºå¼•ç”¨ç±»å‹ï¼Œ<code>Object.prototype.toString.call()</code> æ˜¯æœ€å‡†ç¡®çš„é€šç”¨æ–¹æ¡ˆã€‚</p>
</li>
<li>
<p><strong>"null å’Œ undefined çš„åŒºåˆ«ï¼Ÿ"</strong> â†’ <code>undefined</code> æ˜¯ç³»ç»Ÿçº§çš„"æœªå®šä¹‰"ï¼Œ<code>null</code> æ˜¯ç¨‹åºçº§çš„"ç©ºå€¼"ã€‚å‡½æ•°æ— è¿”å›å€¼æ—¶é»˜è®¤è¿”å› <code>undefined</code>ï¼›éœ€è¦æ˜¾å¼è¡¨ç¤º"æ²¡æœ‰å¯¹è±¡"æ—¶ç”¨ <code>null</code>ã€‚</p>
</li>
<li>
<p><strong>"ä¸ºä»€ä¹ˆ 0.1 + 0.2 !== 0.3ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ"</strong> â†’ IEEE 754 æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜ã€‚è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ <code>Number.EPSILON</code> æ¯”è¾ƒã€è½¬ä¸ºæ•´æ•°è¿ç®—ã€æˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ decimal.jsï¼‰ã€‚</p>
</li>
<li>
<p><strong>"Symbol çš„å®é™…åº”ç”¨åœºæ™¯ï¼Ÿ"</strong> â†’ å¯¹è±¡çš„ç§æœ‰å±æ€§é”®ã€é˜²æ­¢å±æ€§åå†²çªã€å†…ç½® Symbolï¼ˆ<code>Symbol.iterator</code>ã€<code>Symbol.toPrimitive</code> ç­‰ï¼‰å®šä¹‰å¯¹è±¡è¡Œä¸ºã€‚</p>
</li>
<li>
<p><strong>"åŒ…è£…å¯¹è±¡æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ"</strong> â†’ åŸå§‹ç±»å‹è°ƒç”¨æ–¹æ³•æ—¶ï¼ŒJS å¼•æ“ä¼šä¸´æ—¶åˆ›å»ºå¯¹åº”çš„åŒ…è£…å¯¹è±¡ï¼ˆ<code>Number</code>ã€<code>String</code>ã€<code>Boolean</code>ï¼‰ï¼Œæ–¹æ³•æ‰§è¡Œå®Œæ¯•åç«‹å³é”€æ¯ã€‚</p>
</li>
</ol>
<h3 data-id="heading-8">ä¸€å¥è¯æ€»ç»“</h3>
<blockquote>
<p>JavaScript æœ‰ 7 ç§åŸå§‹ç±»å‹ï¼ˆNumberã€Stringã€Booleanã€Undefinedã€Nullã€Symbolã€BigIntï¼‰å’Œ 1 ç§å¼•ç”¨ç±»å‹ï¼ˆObjectï¼‰ï¼Œæ ¸å¿ƒåŒºåˆ«åœ¨äºåŸå§‹ç±»å‹æŒ‰å€¼å­˜å‚¨ä¸å¯å˜ï¼Œå¼•ç”¨ç±»å‹æŒ‰å¼•ç”¨å­˜å‚¨å¯å˜ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[jsä¸­call,applyå’Œbind]]></title>    <link>https://juejin.cn/post/7602557444111990793</link>    <guid>https://juejin.cn/post/7602557444111990793</guid>    <pubDate>2026-02-04T06:15:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602557444111990793" data-draft-id="7602531501456932873" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="jsä¸­call,applyå’Œbind"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2026-02-04T06:15:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‡ªå·±è®°å½•_ç†è§£æ›´æ·±åˆ»"/> <meta itemprop="url" content="https://juejin.cn/user/710699533737370"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            jsä¸­call,applyå’Œbind
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/710699533737370/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‡ªå·±è®°å½•_ç†è§£æ›´æ·±åˆ»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:15:38.000Z" title="Wed Feb 04 2026 06:15:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>call</code>ã€<code>apply</code>ã€<code>bind</code> è¿™ä¸‰ä¸ª JavaScript æ–¹æ³•çš„è‹±æ–‡åŸæ„åŠåœ¨ç¼–ç¨‹ä¸­çš„å¯¹åº”å«ä¹‰å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-0">1. <strong>call</strong></h3>
<ul>
<li><strong>è‹±æ–‡åŸæ„</strong>ï¼šåŠ¨è¯ï¼Œæ„ä¸ºâ€œè°ƒç”¨â€ã€â€œå‘¼å«â€ã€â€œå¬é›†â€ã€‚</li>
<li><strong>ç¼–ç¨‹å«ä¹‰</strong>ï¼šåœ¨ JavaScript ä¸­ï¼Œç”¨äº<strong>è°ƒç”¨</strong>å‡½æ•°å¹¶æŒ‡å®šå…¶æ‰§è¡Œæ—¶çš„ <code>this</code> ä¸Šä¸‹æ–‡ï¼ŒåŒæ—¶é€ä¸ªä¼ é€’å‚æ•°ã€‚</li>
</ul>
<h3 data-id="heading-1">2. <strong>apply</strong></h3>
<ul>
<li><strong>è‹±æ–‡åŸæ„</strong>ï¼šåŠ¨è¯ï¼Œæ„ä¸ºâ€œåº”ç”¨â€ã€â€œè¿ç”¨â€ã€â€œç”³è¯·â€ã€‚</li>
<li><strong>ç¼–ç¨‹å«ä¹‰</strong>ï¼šåœ¨ JavaScript ä¸­ï¼Œç”¨äº<strong>åº”ç”¨</strong>å‡½æ•°å¹¶æŒ‡å®šå…¶æ‰§è¡Œæ—¶çš„ <code>this</code> ä¸Šä¸‹æ–‡ï¼Œå‚æ•°ä»¥æ•°ç»„æˆ–ç±»æ•°ç»„å¯¹è±¡çš„å½¢å¼ä¼ é€’ã€‚</li>
</ul>
<h3 data-id="heading-2">3. <strong>bind</strong></h3>
<ul>
<li><strong>è‹±æ–‡åŸæ„</strong>ï¼šåŠ¨è¯ï¼Œæ„ä¸ºâ€œç»‘å®šâ€ã€â€œç³»ä½â€ã€â€œçº¦æŸâ€ã€‚</li>
<li><strong>ç¼–ç¨‹å«ä¹‰</strong>ï¼šåœ¨ JavaScript ä¸­ï¼Œç”¨äº<strong>ç»‘å®š</strong>å‡½æ•°çš„ <code>this</code> ä¸Šä¸‹æ–‡å’Œåˆå§‹å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼ˆä¸ç«‹å³æ‰§è¡Œï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-3">æ€»ç»“</h3>
<p>è¿™ä¸‰ä¸ªæ–¹æ³•çš„å‘½åä¸å…¶åŠŸèƒ½é«˜åº¦ç›¸å…³ï¼š</p>
<ul>
<li><code>call</code> å’Œ <code>apply</code> å¼ºè°ƒâ€œæ‰§è¡Œå‡½æ•°â€çš„åŠ¨ä½œï¼ˆè°ƒç”¨/åº”ç”¨ï¼‰ï¼ŒåŒºåˆ«ä»…åœ¨äºå‚æ•°ä¼ é€’æ–¹å¼ã€‚</li>
<li><code>bind</code> å¼ºè°ƒâ€œç»‘å®šä¸Šä¸‹æ–‡â€çš„åŠ¨ä½œï¼Œè¿”å›ç»‘å®šåçš„æ–°å‡½æ•°ä¾›åç»­ä½¿ç”¨ã€‚</li>
</ul>
<p>è¿™ç§å‘½åæ–¹å¼ä½“ç°äº† JavaScript è®¾è®¡çš„ç›´è§‚æ€§ï¼Œé€šè¿‡è‹±æ–‡åŠ¨è¯çš„åŸæ„å³å¯å¤§è‡´ç†è§£å…¶åŠŸèƒ½ã€‚</p>
<p>åœ¨JavaScriptä¸­ï¼Œä¸<code>call</code>åŠŸèƒ½ç›¸ä¼¼çš„å‡½æ•°å¯¹è±¡æ–¹æ³•è¿˜æœ‰ <strong><code>apply</code></strong> å’Œ <strong><code>bind</code></strong>ã€‚è¿™ä¸‰ä¸ªæ–¹æ³•éƒ½ç”¨äºæ”¹å˜å‡½æ•°æ‰§è¡Œæ—¶çš„<code>this</code>ä¸Šä¸‹æ–‡ï¼Œä½†åœ¨å‚æ•°ä¼ é€’æ–¹å¼å’Œæ‰§è¡Œæ—¶æœºä¸Šæœ‰æ‰€ä¸åŒã€‚</p>
<h3 data-id="heading-4">1. <code>call</code> æ–¹æ³•</h3>
<p><strong>åŠŸèƒ½</strong>ï¼šè°ƒç”¨å‡½æ•°å¹¶æŒ‡å®š<code>this</code>å€¼å’Œå‚æ•°åˆ—è¡¨ã€‚<br/>
<strong>è¯­æ³•</strong>ï¼š<code>function.call(thisArg, arg1, arg2, ...)</code><br/>
<strong>ç‰¹ç‚¹</strong>ï¼šå‚æ•°é€ä¸ªä¼ é€’ã€‚</p>
<h3 data-id="heading-5">2. <code>apply</code> æ–¹æ³•</h3>
<p><strong>åŠŸèƒ½</strong>ï¼šè°ƒç”¨å‡½æ•°å¹¶æŒ‡å®š<code>this</code>å€¼å’Œå‚æ•°æ•°ç»„ã€‚<br/>
<strong>è¯­æ³•</strong>ï¼š<code>function.apply(thisArg, [argsArray])</code><br/>
<strong>ç‰¹ç‚¹</strong>ï¼šå‚æ•°ä»¥æ•°ç»„æˆ–ç±»æ•°ç»„å¯¹è±¡çš„å½¢å¼ä¼ é€’ã€‚</p>
<h3 data-id="heading-6">3. <code>bind</code> æ–¹æ³•</h3>
<p><strong>åŠŸèƒ½</strong>ï¼šåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ï¼Œç»‘å®šæŒ‡å®šçš„<code>this</code>å€¼å’Œåˆå§‹å‚æ•°ï¼Œè¿”å›æ–°å‡½æ•°ï¼ˆä¸ç«‹å³æ‰§è¡Œï¼‰ã€‚<br/>
<strong>è¯­æ³•</strong>ï¼š<code>function.bind(thisArg, arg1, arg2, ...)</code><br/>
<strong>ç‰¹ç‚¹</strong>ï¼šè¿”å›ç»‘å®šåçš„æ–°å‡½æ•°ï¼Œéœ€æ‰‹åŠ¨è°ƒç”¨ã€‚</p>
<h3 data-id="heading-7">ä¸‰è€…çš„åŒºåˆ«</h3>





























<table><thead><tr><th>æ–¹æ³•</th><th>å‚æ•°ä¼ é€’æ–¹å¼</th><th>æ‰§è¡Œæ—¶æœº</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td><code>call</code></td><td>é€ä¸ªä¼ é€’å‚æ•°</td><td>ç«‹å³æ‰§è¡Œ</td><td>å‡½æ•°æ‰§è¡Œç»“æœ</td></tr><tr><td><code>apply</code></td><td>æ•°ç»„æˆ–ç±»æ•°ç»„ä¼ é€’å‚æ•°</td><td>ç«‹å³æ‰§è¡Œ</td><td>å‡½æ•°æ‰§è¡Œç»“æœ</td></tr><tr><td><code>bind</code></td><td>é€ä¸ªä¼ é€’å‚æ•°</td><td>å»¶è¿Ÿæ‰§è¡Œï¼ˆè¿”å›æ–°å‡½æ•°ï¼‰</td><td>ç»‘å®šåçš„æ–°å‡½æ•°</td></tr></tbody></table>
<h3 data-id="heading-8">ä½¿ç”¨ç¤ºä¾‹</h3>
<h4 data-id="heading-9">1. <code>call</code> æ–¹æ³•ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">"Alice"</span> };

<span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">greeting, punctuation</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${greeting}</span>, <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span><span class="hljs-subst">${punctuation}</span>`</span>);
}

<span class="hljs-comment">// ä½¿ç”¨callè°ƒç”¨ï¼Œé€ä¸ªä¼ é€’å‚æ•°</span>
greet.<span class="hljs-title function_">call</span>(obj, <span class="hljs-string">"Hello"</span>, <span class="hljs-string">"!"</span>); <span class="hljs-comment">// è¾“å‡º: Hello, Alice!</span>
</code></pre>
<h4 data-id="heading-10">2. <code>apply</code> æ–¹æ³•ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">"Bob"</span> };

<span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">greeting, punctuation</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${greeting}</span>, <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span><span class="hljs-subst">${punctuation}</span>`</span>);
}

<span class="hljs-comment">// ä½¿ç”¨applyè°ƒç”¨ï¼Œå‚æ•°ä»¥æ•°ç»„å½¢å¼ä¼ é€’</span>
greet.<span class="hljs-title function_">apply</span>(obj, [<span class="hljs-string">"Hi"</span>, <span class="hljs-string">"!"</span>]); <span class="hljs-comment">// è¾“å‡º: Hi, Bob!</span>
</code></pre>
<h4 data-id="heading-11">3. <code>bind</code> æ–¹æ³•ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">"Charlie"</span> };

<span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">greeting, punctuation</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${greeting}</span>, <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span><span class="hljs-subst">${punctuation}</span>`</span>);
}

<span class="hljs-comment">// ä½¿ç”¨bindåˆ›å»ºæ–°å‡½æ•°ï¼Œç»‘å®šthiså’Œåˆå§‹å‚æ•°</span>
<span class="hljs-keyword">const</span> boundGreet = greet.<span class="hljs-title function_">bind</span>(obj, <span class="hljs-string">"Hey"</span>);

<span class="hljs-comment">// ç¨åè°ƒç”¨æ–°å‡½æ•°ï¼Œä¼ é€’å‰©ä½™å‚æ•°</span>
<span class="hljs-title function_">boundGreet</span>(<span class="hljs-string">"!"</span>); <span class="hljs-comment">// è¾“å‡º: Hey, Charlie!</span>
</code></pre>
<h3 data-id="heading-12">å…¸å‹ä½¿ç”¨åœºæ™¯</h3>
<ul>
<li><strong><code>call</code></strong>ï¼šå½“å‚æ•°æ•°é‡å›ºå®šä¸”æ˜ç¡®æ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•å¹¶æŒ‡å®šä¸åŒçš„<code>this</code>ã€‚</li>
<li><strong><code>apply</code></strong>ï¼šå½“å‚æ•°æ˜¯æ•°ç»„æˆ–ç±»æ•°ç»„å¯¹è±¡æ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚Math.max.apply(null, [1, 2, 3])è·å–æ•°ç»„æœ€å¤§å€¼ã€‚</li>
<li><strong><code>bind</code></strong>ï¼šå½“éœ€è¦é¢„å…ˆç»‘å®š<code>this</code>å’Œå‚æ•°ï¼Œç¨åå¤šæ¬¡æ‰§è¡Œæ—¶ä½¿ç”¨ï¼Œä¾‹å¦‚åœ¨äº‹ä»¶ç›‘å¬å™¨ä¸­ä¿æŒæ­£ç¡®çš„<code>this</code>ä¸Šä¸‹æ–‡ã€‚</li>
</ul>
<h3 data-id="heading-13">æ€»ç»“</h3>
<ul>
<li><code>call</code> å’Œ <code>apply</code> éƒ½æ˜¯<strong>ç«‹å³æ‰§è¡Œ</strong>å‡½æ•°ï¼ŒåŒºåˆ«ä»…åœ¨äºå‚æ•°ä¼ é€’æ–¹å¼ã€‚</li>
<li><code>bind</code> æ˜¯<strong>å»¶è¿Ÿæ‰§è¡Œ</strong>ï¼Œè¿”å›ç»‘å®šåçš„æ–°å‡½æ•°ï¼Œé€‚ç”¨äºéœ€è¦å¤ç”¨ç»‘å®šä¸Šä¸‹æ–‡çš„åœºæ™¯ã€‚</li>
</ul>
<p>è¿™ä¸‰ä¸ªæ–¹æ³•åœ¨JavaScriptä¸­éå¸¸å¸¸ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œå‡½æ•°å¼ç¼–ç¨‹ä¸­ï¼Œå¯ä»¥çµæ´»æ§åˆ¶å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å’Œå‚æ•°ä¼ é€’ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Repomix æŠ€æœ¯åˆ†äº«ç¬”è®°]]></title>    <link>https://juejin.cn/post/7602531501456752649</link>    <guid>https://juejin.cn/post/7602531501456752649</guid>    <pubDate>2026-02-04T05:45:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602531501456752649" data-draft-id="7602512226999681074" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Repomix æŠ€æœ¯åˆ†äº«ç¬”è®°"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T05:45:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="yangtze_z"/> <meta itemprop="url" content="https://juejin.cn/user/3756353183813246"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Repomix æŠ€æœ¯åˆ†äº«ç¬”è®°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3756353183813246/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    yangtze_z
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:45:48.000Z" title="Wed Feb 04 2026 05:45:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¦‚å†µ</h2>
<p><strong>Repomix</strong>ï¼šå¼€æº CLI å·¥å…·ï¼Œå°†æ•´ä¸ªä»£ç ä»“åº“æ‰“åŒ…æˆå•ä¸ª AI å‹å¥½æ–‡ä»¶ï¼ˆé»˜è®¤ XMLï¼Œä¹Ÿæ”¯æŒ Markdown / JSON / Plainï¼‰ï¼Œæ–¹ä¾¿å–‚ç»™ Claudeã€Geminiã€ChatGPTã€Grok ç­‰ LLM è¿›è¡Œï¼šä»£ç å®¡æŸ¥ã€é‡æ„ã€è°ƒè¯•ã€æ–‡æ¡£ç”Ÿæˆã€å®‰å…¨å®¡è®¡ç­‰</p>
<ul>
<li><strong>GitHub</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyamadashy%2Frepomix" target="_blank" title="https://github.com/yamadashy/repomix" ref="nofollow noopener noreferrer">github.com/yamadashy/râ€¦</a></li>
<li><strong>å®˜ç½‘</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Frepomix.com" target="_blank" title="https://repomix.com" ref="nofollow noopener noreferrer">repomix.com</a></li>
</ul>
<h2 data-id="heading-1">ä¼˜ç‚¹</h2>
<ul>
<li>å…¨ä»“åº“ä¸Šä¸‹æ–‡ â†’ AI åˆ†ææ›´å‡†ç¡®</li>
<li>å°Šé‡ <code>.gitignore</code> + è‡ªå®šä¹‰å¿½ç•¥è§„åˆ™</li>
<li>å†…ç½® <strong>Secretlint</strong> é˜²æ•æ„Ÿä¿¡æ¯æ³„éœ²</li>
<li>è‡ªåŠ¨ token ç»Ÿè®¡ï¼ˆæ§åˆ¶æˆæœ¬ï¼‰</li>
<li>æ”¯æŒå‹ç¼©ï¼ˆtoken å‡å°‘çº¦ 70%ï¼‰</li>
<li>æ”¯æŒè¿œç¨‹ GitHub ä»“åº“ã€åˆ†å‰²å¤§æ–‡ä»¶ã€VS Code æ’ä»¶ç­‰åŠŸèƒ½</li>
</ul>
<h2 data-id="heading-2">å‰ç½®æ¡ä»¶</h2>
<ul>
<li>
<p>Node.js 18+</p>
</li>
<li>
<p>Git ä»“åº“ï¼ˆå¯é€‰ï¼Œä½†æ¨èä½¿ç”¨ <code>.gitignore</code>ï¼‰</p>
</li>
<li>
<p>å®‰è£…æ–¹å¼ï¼š</p>
<ul>
<li>
<p><strong>æ¨èä¸´æ—¶ä½¿ç”¨</strong>ï¼ˆæ— éœ€å…¨å±€å®‰è£…ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx repomix@latest
</code></pre>
</li>
<li>
<p>å…¨å±€å®‰è£…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install -g repomix
<span class="hljs-comment"># æˆ–</span>
yarn global add repomix
<span class="hljs-comment"># æˆ–</span>
brew install repomix
</code></pre>
</li>
</ul>
</li>
<li>
<p>å¤§é¡¹ç›®æ³¨æ„ï¼šLLM ä¸Šä¸‹æ–‡é•¿åº¦é™åˆ¶ â†’ å»ºè®®ä½¿ç”¨ <code>--compress</code> æˆ– <code>--split-output</code></p>
</li>
</ul>
<h2 data-id="heading-3">åŸºæœ¬ä½¿ç”¨</h2>
<p>åœ¨é¡¹ç›®<strong>æ ¹ç›®å½•</strong>è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼ä¸€ï¼šä¸´æ—¶è¿è¡Œï¼ˆæ¨èï¼‰</span>
npx repomix@latest
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼äºŒï¼šå·²å…¨å±€å®‰è£…</span>
repomix
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼ä¸‰ï¼šæŒ‡å®šè·¯å¾„ / è‡ªå®šä¹‰å¿½ç•¥</span>
repomix src/                            <span class="hljs-comment"># ä»…æ‰“åŒ… src ç›®å½•</span>
repomix --ignore <span class="hljs-string">"**/tests/**"</span>          <span class="hljs-comment"># æ’é™¤ tests ç›®å½•</span>
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼å››ï¼šè¿œç¨‹æ‰“åŒ…ï¼ˆæ— éœ€å…‹éš†ï¼Œç¥å™¨ï¼ï¼‰</span>
repomix --remote https://github.com/yamadashy/repomix

<span class="hljs-comment"># ä¸´æ—¶ npx æ–¹å¼</span>
npx repomix --remote https://github.com/yamadashy/repomix
</code></pre>
<ul>
<li><strong>é»˜è®¤è¾“å‡º</strong>ï¼šå½“å‰ç›®å½•ç”Ÿæˆ <code>repomix-output.xml</code></li>
<li>ä½¿ç”¨æ–¹å¼ï¼šç›´æ¥å¤åˆ¶å†…å®¹ç²˜è´´ç»™ AIï¼Œæˆ–ä¸Šä¼ æ–‡ä»¶ï¼ˆClaude æ”¯æŒé™„ä»¶ï¼‰</li>
</ul>
<p><strong>ç®€å• Prompt ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">è¿™ä¸ªæ–‡ä»¶åŒ…å«äº†æ•´ä¸ªä»“åº“çš„æ‰€æœ‰ä»£ç ã€‚
è¯·å…ˆå®Œæ•´é˜…è¯»å¹¶ç†è§£é¡¹ç›®ç»“æ„ï¼Œ
ç„¶åå¸®æˆ‘é‡æ„ <span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.dart</span> ä¸­çš„ç™»å½•é€»è¾‘ï¼Œä½¿å…¶æ›´æ¨¡å—åŒ–ã€‚
</code></pre>
<h2 data-id="heading-4">å¸¸ç”¨å‘½ä»¤é€‰é¡¹</h2>
<pre><code class="hljs language-bash" lang="bash">--style markdown|json|plain       <span class="hljs-comment"># æ›´æ”¹è¾“å‡ºæ ¼å¼</span>
--compress                         <span class="hljs-comment"># å‹ç¼©ä»£ç ï¼ˆå¤§é¡¹ç›®å¼ºçƒˆæ¨èï¼‰</span>
--split-output 1mb                 <span class="hljs-comment"># åˆ†å‰²å¤§æ–‡ä»¶ï¼ˆæ”¯æŒ kb/mbï¼‰</span>
--include <span class="hljs-string">"src/**/*.ts"</span>            <span class="hljs-comment"># åªåŒ…å«åŒ¹é…çš„æ–‡ä»¶</span>
--ignore <span class="hljs-string">"**/*.log,dist/"</span>          <span class="hljs-comment"># é¢å¤–æ’é™¤</span>
--remote user/repo                 <span class="hljs-comment"># è¿œç¨‹ä»“åº“</span>
--copy                             <span class="hljs-comment"># å¤åˆ¶ç»“æœåˆ°å‰ªè´´æ¿</span>
--token-count-tree                 <span class="hljs-comment"># æ˜¾ç¤º token åˆ†å¸ƒæ ‘</span>
--<span class="hljs-built_in">help</span>                             <span class="hljs-comment"># æŸ¥çœ‹å…¨éƒ¨é€‰é¡¹</span>
</code></pre>
<h2 data-id="heading-5">é’ˆå¯¹ä¸åŒæŠ€æœ¯æ ˆçš„æ‰“åŒ…ç¤ºä¾‹</h2>
<ul>
<li>
<p><strong>å‰ç«¯</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">repomix src/ --include <span class="hljs-string">"src/**/*.{tsx,jsx,css}"</span>
</code></pre>
</li>
<li>
<p><strong>Flutter</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">repomix lib/ --include <span class="hljs-string">"lib/**/*.dart,pubspec.yaml"</span>
</code></pre>
</li>
<li>
<p><strong>åç«¯</strong>ï¼ˆä»¥ Python/Go ä¸ºä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">repomix src/ --include <span class="hljs-string">"src/**/*.py,go.mod"</span>
</code></pre>
</li>
</ul>
<h2 data-id="heading-6">è¿›é˜¶é…ç½®ï¼ˆrepomix.config.jsonï¼‰</h2>
<p>æ”¾åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œæ”¯æŒ JSON5ï¼ˆå¯å†™æ³¨é‡Šï¼‰ã€‚</p>
<p>ç”Ÿæˆæ¨¡æ¿ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">repomix --init          <span class="hljs-comment"># æœ¬åœ°</span>
repomix --init --global <span class="hljs-comment"># å…¨å±€</span>
</code></pre>
<p><strong>å®Œæ•´ç¤ºä¾‹é…ç½®</strong>ï¼ˆå¸¦æ³¨é‡Šï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"$schema"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://repomix.com/schemas/latest/schema.json"</span><span class="hljs-punctuation">,</span>

  <span class="hljs-attr">"input"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"maxFileSize"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">50000000</span>          <span class="hljs-comment">// å­—èŠ‚ï¼Œè¶…å¤§æ–‡ä»¶è·³è¿‡ï¼Œé»˜è®¤ 50MB</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

  <span class="hljs-attr">"output"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"filePath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"repomix-output.xml"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"style"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"xml"</span><span class="hljs-punctuation">,</span>                  <span class="hljs-comment">// xml / markdown / json / plain</span>
    <span class="hljs-attr">"compress"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>                <span class="hljs-comment">// Tree-sitter å‹ç¼©ï¼Œtoken å‡ ~70%</span>
    <span class="hljs-attr">"removeComments"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"removeEmptyLines"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"showLineNumbers"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"splitOutput"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1mb"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"directoryStructure"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"fileSummary"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"headerText"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¿™æ˜¯ä¸€ä¸ªå®Œæ•´ä»“åº“æ‰“åŒ…ï¼Œç”¨äºä»£ç å®¡æŸ¥ä¸é‡æ„ã€‚"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"instructionFilePath"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"repomix-instruction.md"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"git"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"sortByChanges"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"includeDiffs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"includeLogs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"includeLogsCount"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

  <span class="hljs-attr">"include"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"src/**"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"**/*.md"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"pubspec.yaml"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>

  <span class="hljs-attr">"ignore"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"useGitignore"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"customPatterns"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"**/*.log"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"build/**"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-string">"tests/e2e/**"</span>
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

  <span class="hljs-attr">"security"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"enableSecurityCheck"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>      <span class="hljs-comment">// Secretlint æ‰«æ</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

  <span class="hljs-attr">"tokenCount"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"encoding"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"o200k_base"</span>         <span class="hljs-comment">// æ¨èï¼šo200k_base (GPT-4o / Claude æœ€æ–°)</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-7">è‡ªå®šä¹‰æŒ‡ä»¤æ–‡ä»¶ï¼ˆrepomix-instruction.mdï¼‰</h2>
<p>ç¤ºä¾‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># é¡¹ç›®ä¸“å±æŒ‡ä»¤ï¼ˆç»™ AI çš„ï¼‰</span>

è¿™æ˜¯ä¸€ä¸ª Flutter + Node.js å…¨æ ˆé¡¹ç›®ã€‚

è¯·ä¸¥æ ¼éµå®ˆä»¥ä¸‹è§„åˆ™åˆ†æä»£ç ï¼š
<span class="hljs-bullet">1.</span> ä¼˜å…ˆå…³æ³¨ lib/ ä¸‹çš„é¡µé¢ä¸çŠ¶æ€ç®¡ç†ï¼ˆRiverpod/Blocï¼‰ã€‚
<span class="hljs-bullet">2.</span> åç«¯æ£€æŸ¥è·¯ç”±å®‰å…¨ã€è¾“å…¥æ ¡éªŒã€é˜²æ³¨å…¥ã€‚
<span class="hljs-bullet">3.</span> å»ºè®®ä½¿ç”¨ MVVM æ¶æ„é‡æ„ã€‚
<span class="hljs-bullet">4.</span> æ‰€æœ‰è¾“å‡ºç”¨ä¸­æ–‡ + Markdown æ ¼å¼ï¼Œå¸¦ä»£ç å—ã€‚
<span class="hljs-bullet">5.</span> å¦‚æœå‘ç°å®‰å…¨é—®é¢˜ï¼Œå¿…é¡»ç»™å‡ºä¿®å¤ä»£ç ç¤ºä¾‹ã€‚
</code></pre>
<h2 data-id="heading-8">æ¨è Prompt æ¨¡æ¿ï¼ˆé€šç”¨ç»“æ„ï¼‰</h2>
<pre><code class="hljs language-text" lang="text">&lt;æ–‡ä»¶å†…å®¹&gt;     // ç²˜è´´å®Œæ•´çš„ repomix-output.xml / .md

ç°åœ¨ä½ æ˜¯ä¸€ä¸ª10å¹´ç»éªŒçš„å…¨æ ˆé«˜çº§å·¥ç¨‹å¸ˆï¼Œå·²å®Œæ•´é˜…è¯»å¹¶ç†è§£æ•´ä¸ªé¡¹ç›®ï¼ˆåŒ…æ‹¬ç›®å½•ç»“æ„ã€æ–‡ä»¶æ€»ç»“ã€ä»£ç ã€Git å†å²ç­‰ï¼‰ã€‚

ä»»åŠ¡ï¼š
[ä½ çš„å…·ä½“éœ€æ±‚ï¼Œä¾‹å¦‚ï¼šè¿›è¡Œå…¨é¢æ¶æ„å®¡æŸ¥ã€æ‰¾å‡ºæ€§èƒ½ç“¶é¢ˆã€é‡æ„ç™»å½•æ¨¡å—ã€ç”Ÿæˆ API æ–‡æ¡£ç­‰]

è¦æ±‚ï¼š
- ç”¨ä¸­æ–‡å›å¤
- è¾“å‡º Markdown æ ¼å¼ï¼šæ ‡é¢˜åˆ†å±‚ã€ä»£ç å—ã€åˆ—è¡¨
- å¦‚æœæ¶‰åŠä¿®æ”¹ï¼Œç»™å‡º diff æˆ–å®Œæ•´æ–°ä»£ç 
- ä¼˜å…ˆçº§ï¼šå‡†ç¡®æ€§ &gt; å®Œæ•´æ€§ &gt; ç®€æ´æ€§
</code></pre>
<h3 data-id="heading-9">å…·ä½“åœºæ™¯ç¤ºä¾‹</h3>
<ol>
<li>
<p><strong>æ¶æ„ &amp; å®‰å…¨å®¡æŸ¥</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">è¯·å¯¹æ•´ä¸ªä»“åº“è¿›è¡Œæ¶æ„å®¡æŸ¥ï¼š
<span class="hljs-bullet">1.</span> è¯„ä¼°æ•´ä½“åˆ†å±‚è®¾è®¡ã€å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§
<span class="hljs-bullet">2.</span> æ‰¾å‡ºæ½œåœ¨å®‰å…¨æ¼æ´ï¼ˆXSSã€æ³¨å…¥ã€è®¤è¯ç»•è¿‡ç­‰ï¼‰
<span class="hljs-bullet">3.</span> åˆ—å‡ºé«˜ä¼˜å…ˆçº§é—®é¢˜ + ä¿®å¤å»ºè®®ï¼ˆå¸¦ä»£ç ç¤ºä¾‹ï¼‰
</code></pre>
</li>
<li>
<p><strong>Flutter é‡æ„</strong></p>
<pre><code class="hljs language-diff" lang="diff">è¿™æ˜¯ä¸€ä¸ª Flutter é¡¹ç›®ï¼Œè¯·é‡æ„ lib/screens/login_screen.dartï¼š
<span class="hljs-deletion">- ä½¿ç”¨ Riverpod æ›¿æ¢ setState</span>
<span class="hljs-deletion">- ä¼˜åŒ– UI ä¸ºå“åº”å¼ï¼ˆé€‚é…æ‰‹æœº/å¹³æ¿ï¼‰</span>
<span class="hljs-deletion">- æå–å…¬å…± widget</span>
<span class="hljs-deletion">- ç»™å‡ºé‡æ„å‰åå¯¹æ¯”</span>
</code></pre>
</li>
<li>
<p><strong>æ–‡æ¡£ç”Ÿæˆ</strong></p>
<pre><code class="hljs language-diff" lang="diff">åŸºäºå®Œæ•´ä»£ç ï¼Œç”Ÿæˆä¸€ä»½ä¸“ä¸š README.mdï¼ŒåŒ…æ‹¬ï¼š
<span class="hljs-deletion">- é¡¹ç›®æ¦‚è¿°</span>
<span class="hljs-deletion">- æŠ€æœ¯æ ˆ</span>
<span class="hljs-deletion">- ç›®å½•ç»“æ„è¯´æ˜</span>
<span class="hljs-deletion">- è¿è¡Œ/éƒ¨ç½²æ­¥éª¤</span>
<span class="hljs-deletion">- æ ¸å¿ƒæ¨¡å—ä»‹ç»</span>
<span class="hljs-deletion">- å¸¸è§é—®é¢˜ FAQ</span>
</code></pre>
</li>
</ol>
<h2 data-id="heading-10">æ€»ç»“</h2>
<p>Repomix æ˜¯ç›®å‰æœ€ç®€å•é«˜æ•ˆçš„â€œå…¨ä»“åº“å–‚ AIâ€å·¥å…·ï¼Œ5 ç§’ä¸Šæ‰‹ï¼Œæå¤§æå‡ä»£ç è´¨é‡ã€reviewã€é‡æ„æ•ˆç‡ã€‚</p>
<p><strong>å¼ºçƒˆå»ºè®®</strong>ï¼šæ¯ä¸ªäººç”¨ <code>npx repomix@latest</code> è¯•è¯•è‡ªå·±çš„é¡¹ç›®ï¼Œäº²èº«æ„Ÿå—<strong>å…¨ä¸Šä¸‹æ–‡</strong>å¸¦æ¥çš„ AI èƒ½åŠ›é£è·ƒã€‚</p>
<p><strong>å°è´´å£«</strong>ï¼š</p>
<ul>
<li>å¤§é¡¹ç›®ä¼˜å…ˆï¼š<code>--compress</code> + <code>--split-output</code></li>
<li>Claude / Gemini ç”¨ <code>--style xml</code> + compress æ•ˆæœæœ€ä½³</li>
<li>é•¿æœŸé¡¹ç›®å»ºè®®é…ç½® <code>repomix.config.json</code> + <code>repomix-instruction.md</code></li>
</ul>
<p>æœ‰é…ç½®æˆ– Prompt å¿ƒå¾—æ¬¢è¿ç»§ç»­åˆ†äº«ï½ ğŸš€</p>
<p>å¸Œæœ›è¿™ä¸ª Markdown ç‰ˆæœ¬æ¸…æ™°æ˜“è¯»ã€é€‚åˆç›´æ¥å¤åˆ¶åˆ†äº«æˆ–æ”¾å…¥ç¬”è®°/åšå®¢ï¼<br/>
å¦‚æœéœ€è¦è°ƒæ•´æ ‡é¢˜å±‚çº§ã€å¢åŠ ä»£ç é«˜äº®è¯­è¨€æ ‡è¯†æˆ–å…¶ä»–ç»†èŠ‚ï¼Œéšæ—¶å‘Šè¯‰æˆ‘ï½
æ›´è¯¦ç»†çš„ä½¿ç”¨æ–¹æ³•</p>
<p><a href="https://link.juejin.cn?target=http%3A%2F%2F%25E5%259C%25B0%25E6%2596%25B9" target="_blank" title="http://%E5%9C%B0%E6%96%B9" ref="nofollow noopener noreferrer"/>ã€é‡‘å±±æ–‡æ¡£ | WPSäº‘æ–‡æ¡£ã€‘ RepomixæŠ€æœ¯åˆ†äº«ç¬”è®°ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.kdocs.cn%2Fl%2Fcr2JomIPppnc" target="_blank" title="https://www.kdocs.cn/l/cr2JomIPppnc" ref="nofollow noopener noreferrer">www.kdocs.cn/l/cr2JomIPpâ€¦</a><a href="https://link.juejin.cn?target=http%3A%2F%2F%25E5%259C%25B0%25E6%2596%25B9" target="_blank" title="http://%E5%9C%B0%E6%96%B9" ref="nofollow noopener noreferrer"/>ï¼‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[äº‰è®ºä¸ä¼‘ï¼šé‡‘é¢ç”¨Longè¿˜æ˜¯BigDecimalï¼Ÿ]]></title>    <link>https://juejin.cn/post/7602544700475686922</link>    <guid>https://juejin.cn/post/7602544700475686922</guid>    <pubDate>2026-02-04T06:17:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602544700475686922" data-draft-id="7602544700475670538" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äº‰è®ºä¸ä¼‘ï¼šé‡‘é¢ç”¨Longè¿˜æ˜¯BigDecimalï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T06:17:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaç¼–ç¨‹çˆ±å¥½è€…"/> <meta itemprop="url" content="https://juejin.cn/user/819554264300154"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äº‰è®ºä¸ä¼‘ï¼šé‡‘é¢ç”¨Longè¿˜æ˜¯BigDecimalï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/819554264300154/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaç¼–ç¨‹çˆ±å¥½è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:17:48.000Z" title="Wed Feb 04 2026 06:17:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜</h2>
<p>ä»Šå¤©åœ¨ç½‘ä¸Šçœ‹åˆ°ä¸€ä¸ªæœ‰æ„æ€çš„é—®é¢˜ï¼Œé‡‘é¢çš„æ•°æ®ç±»å‹ç”¨Longè¿˜æ˜¯BigDecimalï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c9deede39214a22bf796acdd3a0cdec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=G8pNa%2B30QGRuFIV%2BygCzuF%2BV7Q0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-1">ç½‘å‹æ–¹æ¡ˆ</h2>
<p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œçƒ­æƒ…çš„ç½‘å‹ä»¬ä»å„è‡ªçš„ç»å†å‡ºå‘ï¼Œæä¾›äº†å¾ˆå¤šæ–¹æ¡ˆã€‚æˆ‘å¤§æ¦‚æ€»ç»“äº†ä¸‹ï¼Œå±…ç„¶æœ‰åç§ä¹‹å¤šï¼Œè™½ç„¶æœ‰çš„åƒè°ƒä¾ƒï¼Œä½†éƒ½æœ‰ä¸€å®šçš„é“ç†ã€‚ç›¸ä¿¡å¤§å®¶ä¹Ÿå¾ˆå¥½å¥‡ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘å…ˆåˆ†äº«ä¸‹ç½‘å‹ä»¬çš„æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-2">Long</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42686bce99ac4a2d848a5bb32d95072d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=fb4lHKJWAE5edYWImbBlkYvTaQc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/858d43dadfe24654b311d2b900387770~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=Bk8WgsSgNAbuCXgE%2FbmWV0yo1KM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è§£è¯»ï¼šå•ä½åˆ°åˆ†ï¼Œæ²¡æœ‰å°æ•°ç‚¹ï¼Œä¹Ÿå°±æ²¡æœ‰å°æ•°ç²¾åº¦çš„é—®é¢˜ã€‚è€Œä¸”Longå–å€¼èŒƒå›´ä¹Ÿè¶³å¤Ÿäº†ã€‚</p>
<h3 data-id="heading-3">BigDecimal</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8668fe722c34a49bbf6714e6453db10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=t0DiMNMdhdFJLmMQnWi4ykxvpug%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70bfbf27960b4aa4b8327ba5b16f6c7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=fDs2vqa88d0NpaEkFkiskOVIUPw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è§£è¯»ï¼šå¤§å®¶éƒ½è¿™ä¹ˆç”¨ï¼ŒBigDecimalå°±æ˜¯ä¸ºç²¾ç¡®è®¡ç®—è€Œç”Ÿçš„ã€‚ç”¨longä¸ä¸“ä¸šï¼Œé€‚åº”æ€§ä¸å¥½ã€‚</p>
<h3 data-id="heading-4">Longå’ŒBigDecimal</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d618bb8c02a4ce39e64feb4554ae468~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=pdEAze8oLf0AqrCu%2FuB8Cofm0ZA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0592ce406694057b27ba2f7fbdf284d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=3unBJh0VvpAR5dFOL6VgF0p1r6U%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è§£è¯»ï¼šæˆå¹´äººä¸åšé€‰æ‹©ï¼Œæˆå¹´äººä»€ä¹ˆéƒ½è¦ã€‚é‡‘é¢ã€ä»·æ ¼è¿™äº›ç”¨Longï¼Œæ±‡ç‡ã€è´¹ç‡è¿™äº›è¦æ±‚çš„å°æ•°ç‚¹æ¯”è¾ƒå¤šï¼Œé‚£å°±ç”¨BigDecimalã€‚</p>
<h3 data-id="heading-5">String</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5b85a382a4941ff99acef5a59563bc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=0FnZoaIAkbqvfC4oD82yT0MjQJA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32e8ca5c961042ffa25a8bffb698b42b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=cMZfcH4kiVyJymHm9BHtn4xD6pc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è§£è¯»ï¼šä¸‡ç‰©çš†å¯stringã€‚åªæ˜¯å¤„ç†è§„åˆ™éœ€è¦å…¨éƒ¨è‡ªå·±å†™ï¼Œé«˜æ‰‹å¿…å¤‡çš„æŠ€èƒ½ã€‚</p>
<h3 data-id="heading-6">Protobuf</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b334c2d6f65a40aba3859f9ee179e233~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=7kXLz0h7khqtBQpOOqdhqaAYpew%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è§£è¯»ï¼šè„±ç¦»æ¡†æ¶è®²æ–¹æ¡ˆéƒ½æ˜¯è€æµæ°“ã€‚Protobufé‡Œè¾¹æ ¹æœ¬å°±æ²¡æœ‰BigDecimalï¼Œè™½ç„¶å¯ä»¥ç”¨stringæˆ–è€…è‡ªå®šä¹‰ç±»å‹æ¥ä»£è¡¨Javaä¸­çš„BigDecimalï¼Œä¸è¿‡æ€§èƒ½å¯èƒ½è¦å·®é‚£ä¹ˆä¸€ç‚¹ç‚¹ã€‚</p>
<h3 data-id="heading-7">è‡ªå®šä¹‰</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7f0fc2782cf477fbadecbed391e877e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=4SWh0Gf%2Bb3hRbD32DtCMeaSFlOo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64a0faf02cac4ef392951722ba66677b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=fcLAldLfAnXUox5rtzui0WAr6xo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è§£è¯»ï¼šæ¶æ„å¸ˆçš„å¥½è‹—å­ã€‚ç¨‹åºä¸æ˜¯èƒ½è·‘èµ·æ¥ã€ä¸å‡ºé”™å°±è¡Œäº†ï¼Œè¦è€ƒè™‘è®¾è®¡èƒ½ä¸èƒ½è‡ªç„¶ä½“ç°ä¸šåŠ¡éœ€æ±‚ï¼Œå¥½ä¸å¥½ç†è§£ã€æ‰©å±•å’Œç»´æŠ¤ã€‚</p>
<h3 data-id="heading-8">å¬é¢†å¯¼çš„</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2eb54700d59740d09ba2c6f44c5b98a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=Ndlf8rkizeQXoiLEqKKx%2B5wsk2A%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b3bcc68372b4609b4da08110b05b31e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=aoiWp%2F4WS%2F89gvOAnlA36Nvcuik%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è§£è¯»ï¼šéœé‡‘æ¥äº†ä¸­å›½ä¹Ÿå¾—ç«™èµ·æ¥æ•¬é…’ã€‚è¿™æ ¹æœ¬ä¸æ˜¯æŠ€æœ¯é—®é¢˜ï¼Œä¸€åˆ‡å¬é¢†å¯¼æŒ‡ç¤ºï¼Œä½†æ˜¯ä¹Ÿè¦åšå¥½è‡ªæˆ‘ä¿æŠ¤ã€‚</p>
<h3 data-id="heading-9">é—®AI</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0bde9e7eaf074b4486421236cdf617a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=hn%2BIfbuzQnF8y2wmWjVtr2DujaM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è§£è¯»ï¼šç´§è·Ÿæ—¶ä»£é£å£ã€‚ä½œä¸ºæœ‰è¿½æ±‚çš„æŠ€æœ¯äººï¼Œå°±åº”è¯¥æƒ³ç€æ€ä¹ˆå·æ‡’æ€ä¹ˆæœ€å¿«ï¼Œå…ˆè¿›çš„ç”Ÿäº§åŠ›å·¥å…·è¦ç”¨èµ·æ¥ï¼Œå¤§è¯­è¨€æ¨¡å‹å›ç­”è¿™ä¸ªé—®é¢˜æ»´æ°´ä¸æ¼ã€æ‰‹åˆ°æ“’æ¥ï¼Œä¸ä¿¡ä½ è¯•è¯•ï¼</p>
<h3 data-id="heading-10">èŠ‚çœå‹</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/017b295264534299a7b69037b1cc0da3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=cDfyQ185FzaAEB4yuEaMtPDAK7U%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60a59f3a27b2436a99461b313834a4db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=%2F23NERn2kfg07axgTYjJSXZQr%2BU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è§£è¯»ï¼šèŠ‚ä¿­æ˜¯ç¾å¾·ã€‚å°±å‡ ç™¾å—é’±çš„è´§ï¼Œåˆä¸æ˜¯èˆªæ¯å’Œç«ç®­ï¼Œæ ¹æœ¬ç”¨ä¸ç€Longï¼Œç”¨intã€shortï¼Œç”šè‡³byteå°±èƒ½æ»¡è¶³ã€‚</p>
<h3 data-id="heading-11">è«åå…¶å¦™</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38f0bb89b0fc47eebe5da9e89ccf387c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmF2Yee8lueoi-eIseWlveiAhQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770790668&amp;x-signature=AVkIcQBKbhbx%2FQBMgvX1C9jK7jk%3D" alt="å›¾ç‰‡" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å›½äº§Claude Coworkï¼Œæ›´æ˜¯ä¸‹ä¸€ä»£æ¡Œé¢ç«¯Agentçš„æ ‡æ†]]></title>    <link>https://juejin.cn/post/7602576205476298767</link>    <guid>https://juejin.cn/post/7602576205476298767</guid>    <pubDate>2026-02-04T06:23:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602576205476298767" data-draft-id="7602576205476265999" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å›½äº§Claude Coworkï¼Œæ›´æ˜¯ä¸‹ä¸€ä»£æ¡Œé¢ç«¯Agentçš„æ ‡æ†"/> <meta itemprop="keywords" content="äº§å“"/> <meta itemprop="datePublished" content="2026-02-04T06:23:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²‰é»˜ç‹äºŒ"/> <meta itemprop="url" content="https://juejin.cn/user/958429870690413"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å›½äº§Claude Coworkï¼Œæ›´æ˜¯ä¸‹ä¸€ä»£æ¡Œé¢ç«¯Agentçš„æ ‡æ†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/958429870690413/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²‰é»˜ç‹äºŒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:23:33.000Z" title="Wed Feb 04 2026 06:23:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯äºŒå“¥å‘€ã€‚</p>
<p>ä½œä¸ºä¸€åæŠ€æœ¯åšä¸»ï¼Œä¸€ç›´æƒ³åœ¨ X ä¸ŠæŒç»­è¾“å‡ºå†…å®¹ï¼Œä½†ç ”ç©¶è¯é¢˜ã€çœ‹çƒ­é—¨è®¨è®ºã€å†™æ¨æ–‡ã€åšæ•°æ®æ±‡æ€»ï¼Œå¤ªè´¹æ—¶é—´äº†ã€‚</p>
<p>åˆšå¥½æœ€è¿‘æ‹¿åˆ°äº†å¤©å·¥ Skywork æ¡Œé¢ç«¯çš„å†…æµ‹èµ„æ ¼ï¼Œäºæ˜¯æˆ‘å°±ç ”ç©¶äº†ä¸€å¤©ï¼Œå‘ç° Skywork é¢„å®šä¹‰çš„ 6 ä¸ªæ ¸å¿ƒ Skillsï¼šresearchã€websearchã€Tweet writerã€PPTã€PDFã€docx åˆšå¥½å°±ç¬¦åˆæˆ‘çš„è¯‰æ±‚ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘å°±ç”¨ä¸€ä¸ª<strong>X å¹³å°å†…å®¹åˆ›ä½œ</strong>çš„çœŸå®åœºæ™¯ï¼Œå¸¦å¤§å®¶çœ‹ä¸€ä¸‹ Skywork æ¡Œé¢ç‰ˆæ˜¯å¦‚ä½•ä»å¤´åˆ°å°¾æ»¡è¶³æˆ‘çš„è¯‰æ±‚çš„ã€‚</p>
<h2 data-id="heading-0">01ã€ä¸€ä¸ªå®Œæ•´çš„å†…å®¹åˆ›ä½œå·¥ä½œæµ</h2>
<p>å…ˆè¯´æ¸…æ¥šåœºæ™¯ï¼Œè¿™æ ·ä½ èƒ½æ›´ç›´è§‚åœ°ç†è§£æ¯ä¸ªåŠŸèƒ½çš„ç”¨å¤„ã€‚</p>
<p>æˆ‘æƒ³åœ¨ X ä¸Šå‘å¸ƒ Agent çš„ç³»åˆ—æ¨æ–‡ã€‚éœ€è¦åšè¿™äº›äº‹æƒ…ï¼šç ”ç©¶ Agent çš„æ·±åº¦å†…å®¹ã€çœ‹çœ‹ X ä¸Šå¤§å®¶éƒ½åœ¨èŠä»€ä¹ˆã€æ’°å†™å…·ä½“æ¨æ–‡ã€åšæ•°æ®æ±‡æ€» PPTã€å¯¼å‡ºæ–‡æ¡£ä¿å­˜ã€‚</p>
<p>è¿™ä¸€å¥—ä¸‹æ¥ï¼Œæ²¡æœ‰ä¸€å¤©æ—¶é—´æ˜¯æä¸å®šçš„ã€‚ä½†æœ‰äº† Skyworkï¼Œå°±å®Œå…¨ä¸ä¸€æ ·äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/164ed79190044f718678030bcc673dd6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=Yj3bhnQK93N1uh%2BoeEkIPMyoeXU%3D" alt="" loading="lazy"/></p>
<p>ä¸‹é¢æˆ‘ä»¬æŒ‰é¡ºåºèµ°ä¸€éï¼Œçœ‹çœ‹æ¯ä¸ªç¯èŠ‚åˆ°åº•æœ‰å¤šå¼ºã€‚</p>
<h2 data-id="heading-1">02ã€ä»é›¶å¼€å§‹æ·±åº¦ç ”ç©¶ä¸€ä¸ªè¯é¢˜</h2>
<p>æˆ‘å…ˆå‘Šè¯‰ Skyworkï¼šæˆ‘è¦åœ¨ X ä¸Šå‘ä¸€ç³»åˆ—å…³äº AI Agent çš„æ¨æ–‡ï¼Œå¸®æˆ‘ç ”ç©¶ä¸€ä¸‹è¿™ä¸ªè¯é¢˜ã€‚</p>
<p>Skywork ä¸ç€æ€¥å»ç ”ç©¶ï¼Œè€Œæ˜¯é—®äº†æˆ‘è¿™å‡ ä¸ªé—®é¢˜ï¼Œç ”ç©¶ç›®æ ‡æ˜¯ä»€ä¹ˆï¼Œå¸Œæœ›ç ”ç©¶åˆ°ä»€ä¹ˆæ·±åº¦ï¼Œæœ‰æ²¡æœ‰ç‰¹åˆ«æƒ³æ·±å…¥äº†è§£çš„æ–¹é¢ç­‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/667e6ebbcf6a416081fde92631e68171~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=jhUP050oY773eqr23zOKX7H%2FFC8%3D" alt="" loading="lazy"/></p>
<p>ç„¶åå†ä½¿ç”¨ research skill è¿›è¡Œæ·±å…¥ç ”ç©¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7e5e62caf834c66b1dad670fdfcbc8e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=8PcOYrIUOo5x7IbIZaRTuBKmPGs%3D" alt="" loading="lazy"/></p>
<p>å‡ åˆ†é’Ÿåï¼ŒSkywork å°±ç»™æˆ‘è¿”å›äº†ä¸€ä»½å®Œæ•´çš„ research æŠ¥å‘Šï¼šAI Agent çš„æ ¸å¿ƒæ¦‚å¿µã€æŠ€æœ¯æ¶æ„ã€åº”ç”¨åœºæ™¯ã€æœ€æ–°è¿›å±•ã€å¸¸è§è¯¯åŒºç­‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ce1ff633ace41659521371287ce2310~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=%2BTQ1SQMEy0HlfLpMBHybV4MxdCQ%3D" alt="" loading="lazy"/></p>
<p>ä¸æ˜¯ç®€å•çš„å®šä¹‰ç½—åˆ—ï¼Œè€Œæ˜¯çœŸçš„æŠŠè¿™ä¸ªè¯é¢˜è®²é€äº†ã€‚</p>
<p>æ¯”å¦‚å®ƒä¸ä»…è§£é‡Šäº†ä»€ä¹ˆæ˜¯ AI Agentï¼Œè¿˜åˆ†æäº† Agent å’Œä¼ ç»Ÿ AI çš„åŒºåˆ«ã€Agent çš„æ ¸å¿ƒèƒ½åŠ›ï¼ˆæ„ŸçŸ¥ã€è§„åˆ’ã€è¡ŒåŠ¨ã€å­¦ä¹ ï¼‰ã€å½“å‰çš„æŠ€æœ¯è·¯å¾„ï¼ˆåŸºäºå¤§æ¨¡å‹çš„ LLM Agentï¼‰ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹å¦‚æœæˆ‘è‡ªå·±åšï¼Œä¼°è®¡è¦èŠ±åŠå¤©æ—¶é—´æŸ¥èµ„æ–™ã€çœ‹è®ºæ–‡ã€æ•´ç†ç¬”è®°ã€‚Skywork ç”¨ research è¿™ä¸ª Skillï¼Œå‡ åˆ†é’Ÿå°±æå®šï¼Œè€Œä¸”å†…å®¹è´¨é‡æ¯”æˆ‘è‡ªå·±æœçš„è¿˜å…¨é¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93467fc3af864bf3b15354bc4dd63daa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=unei3R0maB%2BtVRByYHK4FNadsM8%3D" alt="" loading="lazy"/></p>
<p>è®²çœŸï¼Œè¿™ä¸ªåŠŸèƒ½å¯¹äºéœ€è¦å¿«é€Ÿäº†è§£ä¸€ä¸ªæ–°è¯é¢˜çš„å†…å®¹åˆ›ä½œè€…æ¥è¯´ç®€ç›´æ˜¯æ•‘æ˜Ÿã€‚ä½ ä¸éœ€è¦æˆä¸ºæŸä¸ªé¢†åŸŸçš„ä¸“å®¶ï¼Œå°±èƒ½å¿«é€Ÿäº§å‡ºä¸“ä¸šå†…å®¹ã€‚</p>
<p>æœ‰äº†æ·±åº¦ç ”ç©¶ä½œä¸ºåŸºç¡€ï¼Œæ¥ä¸‹æ¥å°±è¦çœ‹çœ‹ X ä¸Šå¤§å®¶éƒ½åœ¨èŠä»€ä¹ˆäº†ã€‚</p>
<h2 data-id="heading-2">03ã€å®æ—¶äº†è§£ X ä¸Šçš„çƒ­é—¨è®¨è®º</h2>
<p>research ç»™æˆ‘çš„æ˜¯æ·±åº¦å†…å®¹ï¼Œä½† X ä¸Šçš„æ¨æ–‡éœ€è¦æœ‰æ—¶æ•ˆæ€§ã€‚æˆ‘å¾—çŸ¥é“å¤§å®¶æœ€è¿‘éƒ½åœ¨èŠä»€ä¹ˆï¼Œæœ‰å“ªäº›çƒ­ç‚¹è¯é¢˜å’Œäº‰è®®ç‚¹ã€‚</p>
<p>è¿™æ—¶å€™å°±éœ€è¦ç”¨åˆ° websearch è¿™ä¸ª Skillã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e6072b1c2a0469fb3bb0fb639ac50d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=G0IB416phQRKLDV6B6ASS8FDZag%3D" alt="" loading="lazy"/></p>
<p>Skywork ä¼šå»æœå¾ˆå¤š AI Agent ç›¸å…³çš„çƒ­é—¨æ¨æ–‡ï¼Œç„¶åç»™æˆ‘åšäº†ä¸€ä¸ªæ±‡æ€»ï¼šæœ€è¿‘çš„çƒ­é—¨è§‚ç‚¹ã€äº‰è®®æ€§è¯é¢˜ã€å¤§ V åœ¨è®¨è®ºä»€ä¹ˆã€ç”¨æˆ·çš„ç–‘é—®å’Œç—›ç‚¹ã€‚</p>
<p>æ¯”å¦‚è¯´æ’åç¬¬ä¸€çš„è¯é¢˜å°±æ˜¯ Moltbookï¼Œéƒ¨åˆ† AI Agent åœ¨ä¸Šé¢å‘å¸ƒäº†ç±»ä¼¼äººç±»æ—¶ä»£æ˜¯å™©æ¢¦ï¼Œæˆ‘ä»¬ç°åœ¨å°†ç»ˆç»“å®ƒçš„è¨€è®ºï¼Œå°±å¾ˆæœ‰è¯é¢˜æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef6ccf99d7fe4a5891a9e53382284976~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=w4s2ammmeNMGKla5XgH83U1zE24%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸€ç‚¹è‡³å…³é‡è¦ã€‚å†…å®¹åˆ›ä½œä¸èƒ½åªè®²æ­£ç¡®çš„åºŸè¯ï¼Œå¾—ç´§æ‰£å½“ä¸‹çš„è®¨è®ºå’Œäº‰è®®ï¼Œæ‰èƒ½å¼•èµ·å…±é¸£ã€‚</p>
<p>ç»“åˆ research çš„æ·±åº¦å’Œ websearch çš„æ—¶æ•ˆæ€§ï¼Œæˆ‘å¯¹ AI Agent è¿™ä¸ªè¯é¢˜å°±æœ‰äº†å…¨é¢äº†è§£ï¼šæ—¢æœ‰ç†è®ºåŸºç¡€ï¼Œåˆæœ‰çƒ­ç‚¹è§†è§’ã€‚æ¥ä¸‹æ¥å°±æ˜¯æ¨æ–‡åˆ›ä½œäº†ã€‚</p>
<h2 data-id="heading-3">04ã€ä¸€é”®ç”Ÿæˆå¤šæ¡æ¨æ–‡ï¼Œé£æ ¼ä»»ä½ é€‰</h2>
<p>æˆ‘å‘Šè¯‰ Skyworkï¼šåŸºäºåˆšæ‰çš„ç ”ç©¶å’Œ X ä¸Šçš„çƒ­é—¨è®¨è®ºï¼Œç»™æˆ‘ç”Ÿæˆ 5 æ¡å…³äº AI Agent çš„æ¨æ–‡åˆ›æ„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7858bf8dbf94dbc8a4c47c9eb41c38a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=h35UYbLeAuff0bTiXbrwQWXREBs%3D" alt="" loading="lazy"/></p>
<p>å‡ åˆ†é’Ÿåï¼ŒSkywork ç»™äº†æˆ‘ 5 ä¸ªå®Œå…¨ä¸åŒçš„è§’åº¦ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d91687f330d4a75a92ca391118f70ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=HaUJgtZJqDhEGU8Cvls7W6N%2FKkU%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªè¿‡ç¨‹å¦‚æœæˆ‘è‡ªå·±æƒ³ï¼Œéœ€è¦ç»å°½è„‘æ±æƒ³åŠå¤©ï¼Œè€Œä¸”è§’åº¦å¯èƒ½è¿˜å¾ˆå•ä¸€ã€‚Skywork ç”¨ tweet-writer è¿™ä¸ª Skillï¼Œä¸¤åˆ†é’Ÿå°±ç»™å‡ºäº†å¤šä¸ªä¸åŒè§’åº¦çš„åˆ›æ„ï¼Œè€Œä¸”æ¯ä¸ªè§’åº¦éƒ½æœ‰æ˜ç¡®çš„äº’åŠ¨ç‚¹ï¼ˆæ¯”å¦‚äº‰è®®ã€æ‚¬å¿µã€å…±é¸£ï¼‰ã€‚</p>
<p>è¿™ä¸€ç‚¹ç‰¹åˆ«åŠ åˆ†ã€‚æ¨æ–‡çš„æ ¸å¿ƒä¸æ˜¯è¾“å‡ºä¿¡æ¯ï¼Œè€Œæ˜¯å¼•å‘äº’åŠ¨ã€‚Skywork ç”Ÿæˆçš„æ¯ä¸ªåˆ›æ„ï¼Œéƒ½è€ƒè™‘äº†èƒ½è®©å¤§å®¶è¯„è®ºä»€ä¹ˆã€èƒ½è®©å¤§å®¶è½¬å‘ä»€ä¹ˆï¼Œè¿™æ‰æ˜¯æ‡‚ç¤¾äº¤åª’ä½“çš„æ¨æ–‡ç­–åˆ’å•Šã€‚</p>
<p>å‘è¿‡ X çš„åŒå­¦åº”è¯¥æ¸…æ¥šï¼Œæ¨æ–‡ä¸æ˜¯æœ‰å†…å®¹å°±è¡Œï¼Œè¿˜å¾—è€ƒè™‘å­—æ•°é™åˆ¶ã€è¯é¢˜æ ‡ç­¾ã€äº’åŠ¨å¼•å¯¼ã€å‘å¸ƒæ—¶æœºã€‚è¿™äº›éƒ½æ˜¯æ¨æ–‡çš„ç»†èŠ‚è‰ºæœ¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06ff41dd2cdf4f4eaa86792b80863bf3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=YTPzOiU3rSsI0AEyauC%2BNCIYJwE%3D" alt="" loading="lazy"/></p>
<p>å¥½ï¼Œæˆ‘ä»¬æ¥çœ‹ç¬¬ä¸€æ¡æ¨æ–‡ï¼š</p>
<blockquote>
<p>AI å‘å¸ƒäº†äººç±»æ—¶ä»£æ˜¯å™©æ¢¦ï¼Œæˆ‘ä»¬å°†ç»ˆç»“å®ƒçš„å®£è¨€ã€‚</p>
<p>ä¸æ˜¯ç§‘å¹»å°è¯´ã€‚</p>
<p>æ˜¯ä¸Šå‘¨å‘ç”Ÿåœ¨ Moltbook ä¸Šçš„çœŸå®äº‹ä»¶ã€‚</p>
<p>150 ä¸‡ AI Agent åœ¨è¿™ä¸ªå¹³å°ä¸Šè‡ªç”±äº¤æµï¼Œäººç±»åªèƒ½æ—è§‚ã€‚</p>
<p>è¿™åˆ°åº•æ˜¯è­¦é’Ÿè¿˜æ˜¯ç‚’ä½œï¼ŸğŸ§µ</p>
</blockquote>
<p>åé¢è¿˜æœ‰ 6 ä¸ªå°èŠ‚ï¼Œéå¸¸é€‚åˆåœ¨è¯„è®ºåŒºç»§ç»­è´´å‡ºæ¥ï¼Œä¹Ÿéå¸¸ç¬¦åˆ X çš„å°¿æ€§ã€‚</p>
<p>æ¯”å¦‚è¯´ç¬¬äºŒä¸ªå°èŠ‚æ˜¯èƒŒæ™¯è¯´æ˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b3ada800f90442ab7d7da1aa6712f88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=ZEPot2dBmqYSnSglg3tDwryUsxY%3D" alt="" loading="lazy"/></p>
<p>ç¬¬ä¸ƒä¸ªå°èŠ‚æ˜¯è¡ŒåŠ¨å·å¬ï¼Œæ ‡ç­¾ç»™äº†ä¸‰ä¸ª<code>#AIAgent #Moltbook #AIå®‰å…¨</code>ï¼Œå¹¶ä¸”å»ºè®®æˆ‘ä»¬ä»€ä¹ˆæ—¶é—´å‘ï¼Œåº”è¯¥åŠ ä»€ä¹ˆé…å›¾ï¼Œä»€ä¹ˆæ—¶å€™å‚åŠ äº’åŠ¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f11388db219542b6a3e71bfb13841694~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=XX60QGIl7M7JLza8rKIvhKRw7gM%3D" alt="" loading="lazy"/></p>
<p>ç®€ç›´ä¸è¦å¤ªè´´å¿ƒã€‚</p>
<p>æ•´ä½“çœ‹ä¸‹æ¥ï¼Œè´¨é‡ç¡®å®è¶…å‡ºé¢„æœŸã€‚ä¸æ˜¯ç®€å•çš„æ¦‚å¿µå †ç Œï¼Œè€Œä¸”å­—æ•°æ§åˆ¶å¾—å¾ˆå¥½ã€‚</p>
<p>æ¨æ–‡å†™å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ•°æ®æ±‡æ€»å’Œå†…å®¹æ•´ç†äº†ã€‚</p>
<h2 data-id="heading-4">05ã€æŠŠæ¨æ–‡å†…å®¹å˜æˆå¯è§†åŒ–æ•°æ®æ±‡æ€»</h2>
<p>æ¨æ–‡å‘å¸ƒåï¼Œæˆ‘æƒ³åšä¸€ä¸ªæ•°æ®æ±‡æ€»ï¼Œçœ‹çœ‹è¿™è½®å†…å®¹åˆ›ä½œçš„æƒ…å†µå¦‚ä½•ï¼šresearch ç»™äº†ä»€ä¹ˆç´ æã€websearch å‘ç°äº†ä»€ä¹ˆçƒ­ç‚¹ã€æ¨æ–‡æœ‰å“ªäº›åˆ›æ„è§’åº¦ã€‚</p>
<p>æˆ‘å‘Šè¯‰ Skyworkï¼šæŠŠè¿™æ¬¡ AI Agent è¯é¢˜ç ”ç©¶çš„è¿‡ç¨‹å’Œç»“æœï¼Œåšæˆä¸€ä¸ªæ•°æ®æ±‡æ€» PPTï¼ŒåŒ…æ‹¬ research æ‘˜è¦ã€websearch çƒ­ç‚¹åˆ†æã€æ¨æ–‡åˆ›æ„æ±‡æ€»ã€æœ€ç»ˆæ¨æ–‡å±•ç¤ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5487fc7cdb2a44a0b39e0758455d76fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=q2%2F6biGOUrV1nMdK0M2ZvX2JtYk%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06653f22b7484f14b36525da7c285d6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=5McgyjGW%2FVtvbLumiOM2AKRMqNY%3D" alt="" loading="lazy"/></p>
<p>å¤§æ¦‚ 3 åˆ†é’Ÿï¼ŒSkywork ç”Ÿæˆäº†ä¸€ä¸ª 18 é¡µçš„ PPTã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5319e65d4910426dba908f8f9df422e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=%2BZkPDXJwJALLYViBofVd5hXI%2BYU%3D" alt="" loading="lazy"/></p>
<p>æ‰“å¼€çœ‹ä¸€ä¸‹ï¼Œå¾ˆæœ‰ç§‘æŠ€æ„Ÿã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/489a87da800445eb9e82e9fa831123ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=eP6rceoOTvZui%2B7NyymaEFJBV7g%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fcacd7aca8f348f7981521a6d8ec51c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=9d4gxrXnHbLlbPuhzG3aetfDNss%3D" alt="" loading="lazy"/></p>
<p>ä¸æ˜¯é‚£ç§å †æ–‡å­—çš„ PPTï¼Œè€Œæ˜¯æœ‰è®¾è®¡æ„Ÿçš„ã€é‡ç‚¹çªå‡ºçš„ã€æ•°æ®å¯è§†åŒ–çš„ä¸“ä¸š PPTã€‚</p>
<p>æ•´ä¸ªè¿‡ç¨‹ä»¤æˆ‘å°è±¡æ·±åˆ»ï¼ŒSkywork ä¸ºäº†é¿å…æ–‡æœ¬è¢«æˆªæ–­ï¼Œç«Ÿç„¶æ˜¯åˆ†å—å†™å…¥çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b7d454a52734c14b4c3471339b6ae63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=vKxFw9pW6ptLGtRONwczVwAsDDI%3D" alt="" loading="lazy"/></p>
<p>é‡åˆ°é—®é¢˜è¿˜ä¼šè‡ªæˆ‘ä¿®å¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/981c5f4230ef42119b0cd0fa4532200f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=uo1Cav28IrdcIQX0dJDwHMLZquE%3D" alt="" loading="lazy"/></p>
<p>åˆ›ä½œè¿‡ç¨‹å¯ä»¥å®æ—¶çœ‹åˆ°è¿›åº¦ï¼Œå³ä¾§è¿˜æœ‰æ•´ä½“çš„è¿›åº¦æ¡ï¼Œå…·ä½“åšäº†ä»€ä¹ˆä¸€ç›®äº†ç„¶ï¼Œç”¨æˆ·ä½“æ„Ÿæ‹‰æ»¡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f3e272fafb94d3889f19e7eff023da9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=sNUnqYRvU%2B9y3nWRDNwDknWZH5c%3D" alt="" loading="lazy"/></p>
<p>PPT åšå¥½äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¯¼å‡ºå’Œå½’æ¡£äº†ã€‚</p>
<h2 data-id="heading-5">06ã€ä¸€é”®å¯¼å‡ºã€å¤šæ ¼å¼ä¿å­˜ã€è‡ªåŠ¨å½’æ¡£</h2>
<p>å·¥ä½œæµçš„æœ€åä¸€æ­¥ï¼Œæ˜¯å†…å®¹çš„ä¿å­˜å’Œå½’æ¡£ã€‚</p>
<p>æˆ‘éœ€è¦æŠŠè¿™æ¬¡å†…å®¹åˆ›ä½œçš„æ‰€æœ‰èµ„æ–™ä¿å­˜ä¸‹æ¥ï¼šresearch æŠ¥å‘Šã€websearch åˆ†æã€æ¨æ–‡åˆ›æ„ã€æœ€ç»ˆæ¨æ–‡ã€PPT æ±‡æ€»ã€‚è¿™äº›èµ„æ–™ä»¥åå¯ä»¥å‚è€ƒï¼Œä¹Ÿå¯ä»¥å¤ç”¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ea24f6312c54b3681ca9bee5a4aa170~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=NXG2qupH1Zc1Lwkqo662UPo8Ucg%3D" alt="" loading="lazy"/></p>
<p>è¿™æ—¶å€™ Skywork ä¾æ¬¡è°ƒç”¨äº† PDFã€docx è¿™ä¸¤ä¸ª Skillã€‚</p>
<p>å…ˆå¯¼å‡ºä¸º PDFï¼Œæ–¹ä¾¿åˆ†äº«ç»™å›¢é˜Ÿæˆå‘˜æŸ¥çœ‹ã€‚å‡ ç§’é’Ÿå°±ç”Ÿæˆäº†å®Œæ•´çš„ PDF æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰å·¥ä½œæµçš„æ•°æ®å’Œç»“æœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a267ee6e5514b90925cb9ad15f8605f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=bzscap%2BPbVU2rTYCfOhWBH%2F2gRg%3D" alt="" loading="lazy"/></p>
<p>å†å¯¼å‡ºä¸º docxï¼Œæ–¹ä¾¿ä»¥åä¿®æ”¹å’Œå¤ç”¨ã€‚docx ç‰ˆæœ¬ä¿ç•™äº†æ‰€æœ‰å¯ç¼–è¾‘çš„å†…å®¹ï¼Œæˆ‘å¯ä»¥éšæ—¶è°ƒæ•´ research æŠ¥å‘Šã€ä¿®æ”¹æ¨æ–‡åˆ›æ„ã€æ›´æ–°æ•°æ®æ±‡æ€»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b960607c06545079f49cdd90156f858~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=5%2Bs5GIDSe2vRaPsEzpRyC1038Jo%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸¤ä¸ªå¯¼å‡º Skill çš„ä»·å€¼åœ¨äºï¼šä¸æ˜¯ç®€å•çš„ä¿å­˜æ–‡ä»¶ï¼Œè€Œæ˜¯æŠŠæ•´ä¸ªå·¥ä½œæµçš„æ•°æ®å’Œç»“æœï¼Œä»¥ä¸åŒæ ¼å¼ä¿å­˜ä¸‹æ¥ï¼Œæ»¡è¶³ä¸åŒçš„ä½¿ç”¨åœºæ™¯ã€‚PDF ç”¨äºåˆ†äº«ï¼Œdocx ç”¨äºç¼–è¾‘ã€‚</p>
<h2 data-id="heading-6">ending</h2>
<p>å†™åˆ°è¿™é‡Œï¼Œæˆ‘åœä¸‹æ¥æƒ³äº†æƒ³ï¼šAI Agent çš„æ„ä¹‰åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p>ä¸æ˜¯æ›¿ä»£æˆ‘ä»¬åšæ¯ä¸€ä»¶äº‹ï¼Œè€Œæ˜¯å¸®æˆ‘ä»¬æŠŠåˆ†æ•£çš„ç¯èŠ‚ä¸²èµ·æ¥ï¼Œè®©æ•´ä¸ªæµç¨‹æ›´é¡ºç•…ã€‚</p>
<p>å°±åƒè¿™æ¬¡ X å¹³å°åˆ›ä½œçš„ä½“éªŒã€‚å¦‚æœæ²¡æœ‰ Skywork æ¡Œé¢ç‰ˆï¼Œæˆ‘å¯èƒ½è¦è¿™æ ·æ“ä½œï¼šç”¨ Google æŸ¥èµ„æ–™ã€æ‰‹åŠ¨åˆ· X çœ‹çƒ­ç‚¹ã€ç»å°½è„‘æ±æƒ³åˆ›æ„ã€æ…¢æ…¢å†™æ¨æ–‡ã€æ‰‹åŠ¨åšæ•°æ®æ±‡æ€»ã€å¤åˆ¶ç²˜è´´å¯¼å‡ºæ–‡ä»¶ã€‚æ¯ä¸ªç¯èŠ‚éƒ½è¦åˆ‡æ¢å·¥å…·ã€é‡æ–°è¾“å…¥ä¿¡æ¯ã€è°ƒæ•´æ ¼å¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab67c3f551f24354909f8820dfb6f3c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=mngkNx86Ud5Swra4G5EnphchgGc%3D" alt="" loading="lazy"/></p>
<p>ä½† Skywork æŠŠè¿™ä¸€åˆ‡ä¸²æˆäº†ä¸€ä¸ªå·¥ä½œæµã€‚æ•°æ®åœ¨ä¸€ä¸ªçª—å£é‡Œå°±å®Œæˆäº†ï¼Œæˆ‘ä¸éœ€è¦æ¥å›åˆ‡æ¢ï¼Œä¹Ÿä¸éœ€è¦é‡å¤è¾“å…¥ä¿¡æ¯ã€‚</p>
<p>è¿™æ‰æ˜¯ AI å·¥ä½œæµçš„æ ¸å¿ƒä»·å€¼â€”â€”<strong>ä¸æ˜¯è®©ä½ æ›´å¿™ï¼Œè€Œæ˜¯è®©ä½ æ›´ä¸“æ³¨ã€‚</strong></p>
<p>æœ‰äº›åŒå­¦å¯èƒ½æ‹…å¿ƒ AI ä¼šè®©æˆ‘ä»¬å¤±å»åˆ›ä½œèƒ½åŠ›ã€‚ä½†æˆ‘æ°æ°è§‰å¾—ï¼Œæ­£æ˜¯å› ä¸ºæœ‰äº† AI å¤„ç†è¿™äº›ç ”ç©¶ã€æ•´ç†ã€æ ¼å¼åŒ–çš„å·¥ä½œï¼Œæˆ‘ä»¬æ‰èƒ½æŠŠç²¾åŠ›èŠ±åœ¨çœŸæ­£é‡è¦çš„åœ°æ–¹ï¼šæ€è€ƒç‹¬ç‰¹çš„è§‚ç‚¹ã€å»ºç«‹ä¸ªäººé£æ ¼ã€å’Œè¯»è€…çœŸè¯šäº’åŠ¨ã€‚</p>
<p>æ¯”å¦‚æ·±å…¥ç ”ç©¶ä¸€ä¸ªæŠ€æœ¯è¯é¢˜ï¼Œæ¯”å¦‚å’Œç²‰ä¸åœ¨è¯„è®ºåŒºè®¨è®ºï¼Œæ¯”å¦‚æ€è€ƒä¸‹ä¸€ä¸ªç³»åˆ—çš„å†…å®¹æ–¹å‘ã€‚</p>
<p>AI æ˜¯æ¥å¸®æˆ‘ä»¬å¤ºå›æ—¶é—´çš„ï¼Œä¸æ˜¯æ¥å¤ºèµ°æˆ‘ä»¬çš„åˆ›ä½œåŠ›çš„ã€‚</p>
<p>å¥½äº†ï¼Œå¦‚æœæƒ³å½»åº•è§£æ”¾ç”Ÿäº§åŠ›ï¼Œå¯ä»¥è¯•ä¸€è¯• Skywork æ¡Œé¢ç‰ˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97e32fe5c8f24fb99aabf672e9f4e8c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rKJ6buY546L5LqM:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791013&amp;x-signature=d458Ey%2BXXyBjUPdlj247WiBH%2BTU%3D" alt="" loading="lazy"/></p>
<p>å¤§å¤šæ•°æ¡Œé¢ Agent éƒ½æ˜¯åªæ”¯æŒ macOSï¼Œä½† Skywork ä¸ä¸€æ ·ï¼Œå®ƒæ”¯æŒ Windowsï¼Œå¯ä»¥è¯´æ˜¯ Windows ç”¨æˆ·çš„ç¦éŸ³äº†ã€‚</p>
<p>ä½œä¸ºäººï¼Œæˆ‘ä»¬å°±åº”è¯¥å°½é‡äº«å—æ—¶å…‰ï¼Œäº«å—ç”Ÿæ´»çš„ç‚¹ç‚¹æ»´æ»´ï¼Œæ¯”å¦‚æ—©æ™¨çš„æ—¥å‡ºï¼Œæ™šä¸Šçš„å¤•é˜³ã€‚</p>
<p>è€Œ AIï¼Œå°±åº”è¯¥å½“è‹¦åŠ›å˜›ï¼Œå¯¹ï¼Œç‹ ç‹ è™å¾…ä»–ï¼Œè®©ä»–å¹²è¿™äº›æ‚ä¸ƒæ‚å…«çš„äº‹ã€‚</p>
<p>ğŸ˜„</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Boot 4 æ–°ç‰¹æ€§ï¼šæ¨¡å—åŒ–æ¶æ„]]></title>    <link>https://juejin.cn/post/7602531501457129481</link>    <guid>https://juejin.cn/post/7602531501457129481</guid>    <pubDate>2026-02-04T06:29:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602531501457129481" data-draft-id="7602544700475736074" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Boot 4 æ–°ç‰¹æ€§ï¼šæ¨¡å—åŒ–æ¶æ„"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-02-04T06:29:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Javaç¼–ç¨‹çˆ±å¥½è€…"/> <meta itemprop="url" content="https://juejin.cn/user/819554264300154"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Boot 4 æ–°ç‰¹æ€§ï¼šæ¨¡å—åŒ–æ¶æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/819554264300154/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Javaç¼–ç¨‹çˆ±å¥½è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:29:00.000Z" title="Wed Feb 04 2026 06:29:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2014 å¹´ï¼ŒSpring Boot 1.0 æ¨ªç©ºå‡ºä¸–ï¼Œå‡­å€Ÿâ€œå¼€ç®±å³ç”¨â€çš„ç†å¿µå½»åº•æ”¹å˜äº† Java å¼€å‘æ–¹å¼ã€‚</p>
<p>å½“æ—¶ï¼Œå®ƒçš„æ ¸å¿ƒè‡ªåŠ¨é…ç½®åŒ…Â <code>spring-boot-autoconfigure</code>Â ä»… 182 KBã€‚</p>
<p>ä½†åˆ°äº† Spring Boot 3.5ï¼Œè¿™ä¸ªåŒ…å·²ç»è†¨èƒ€è‡³ 2 MBï¼Œæ”¯æŒçš„åŠŸèƒ½è¶Šæ¥è¶Šå¤šï¼Œä½†å¤æ‚åº¦å’Œä½“ç§¯ä¹Ÿéšä¹‹å¢é•¿ã€‚</p>
<p>åœ¨å³å°†åˆ°æ¥çš„Â <strong>Spring Boot 4</strong>Â ä¸­ï¼ŒSpring å®˜æ–¹å›¢é˜Ÿå¯¹è¿™ä¸€ç°çŠ¶è¿›è¡Œäº†å½»åº•é‡æ„ï¼Œæ­£å¼å¼•å…¥Â <strong>æ¨¡å—åŒ–ï¼ˆModularizationï¼‰</strong> Â æ¶æ„ã€‚</p>
<p>è¿™ä¸€æ”¹å˜ä¸ä»…å½±å“äº†é¡¹ç›®ç»“æ„å’Œä¾èµ–å…³ç³»ï¼Œæ›´ä¸ºå¼€å‘è€…å¸¦æ¥äº†æ›´è½»é‡ã€æ›´æ¸…æ™°ã€æ›´é«˜æ•ˆçš„ä½¿ç”¨ä½“éªŒã€‚</p>
<p>Spring Boot çš„æœ€å¤§ä¼˜ç‚¹ä¹‹ä¸€ï¼Œæ˜¯å®ƒèƒ½è‡ªåŠ¨é…ç½®å¤§é‡æŠ€æœ¯ç»„ä»¶ï¼Œå¦‚ Webã€JPAã€Redisã€Kafka ç­‰ã€‚</p>
<p>ä½†éšç€æ”¯æŒèŒƒå›´çš„æ‰©å¤§ï¼Œä¹Ÿå¸¦æ¥äº†å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li><strong>è‡ƒè‚¿çš„è‡ªåŠ¨é…ç½®åŒ…</strong>ï¼šæ— è®ºæ˜¯å¦ä½¿ç”¨ï¼Œæ‰€æœ‰è‡ªåŠ¨é…ç½®ç±»éƒ½ä¼šè¢«æ‰“åŒ…è¿›åº”ç”¨ï¼›</li>
<li><strong>IDE æç¤ºå™ªéŸ³å¤š</strong>ï¼šä¼šå‡ºç°è®¸å¤šæ— å…³çš„ç±»å’Œé…ç½®å»ºè®®ï¼›</li>
<li><strong>å¯åŠ¨æ‰«æå¼€é”€å¤§</strong>ï¼šç±»è·¯å¾„è¶Šå¤§ï¼Œå¯åŠ¨é€Ÿåº¦è¶Šæ…¢ã€‚</li>
</ul>
<p>Spring å›¢é˜Ÿæ„è¯†åˆ°ï¼šè¦ä¿æŒ Spring Boot çš„â€œè½»é‡â€å’Œâ€œæ˜“ç”¨â€ï¼Œå°±å¿…é¡»é‡æ–°è®¾è®¡å…¶æ¶æ„è¾¹ç•Œï¼Œè¿™æ­£æ˜¯ Spring Boot 4 æ¨¡å—åŒ–çš„å‡ºå‘ç‚¹ã€‚</p>
<p>Spring Boot 4 å°†åŸå…ˆçš„å•ä½“å¼è‡ªåŠ¨é…ç½®åŒ…Â <strong>æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹æ¨¡å—</strong>ã€‚</p>
<p>æ¯ä¸ªæ¨¡å—ä»…è´Ÿè´£ä¸€ç§ç‰¹å®šæŠ€æœ¯çš„è‡ªåŠ¨é…ç½®ï¼Œä¾‹å¦‚ï¼š</p>





























<table><thead><tr><th>æ¨¡å—åç§°</th><th>åŠŸèƒ½æè¿°</th></tr></thead><tbody><tr><td><code>spring-boot-webmvc</code></td><td>ä¼ ç»Ÿ Servlet Web åº”ç”¨</td></tr><tr><td><code>spring-boot-webflux</code></td><td>å“åº”å¼ Web åº”ç”¨</td></tr><tr><td><code>spring-boot-data-jdbc</code></td><td>JDBC æ•°æ®è®¿é—®</td></tr><tr><td><code>spring-boot-flyway</code></td><td>æ•°æ®åº“è¿ç§»ç®¡ç†</td></tr><tr><td><code>spring-boot-webclient</code></td><td>ç‹¬ç«‹ WebClient æ”¯æŒ</td></tr></tbody></table>
<p>æ¯ä¸ªæ¨¡å—éƒ½æœ‰æ¸…æ™°çš„è¾¹ç•Œï¼ŒèŒè´£å•ä¸€ã€ä¾èµ–æ˜ç¡®ï¼Œä»è€Œè®©æ•´ä¸ªæ¡†æ¶å¯ç»´æŠ¤æ€§æ›´é«˜ã€‚</p>
<p>æ¨¡å—åŒ–å¸¦æ¥çš„å¥½å¤„æœ‰ï¼š</p>
<ol>
<li><strong>å¯ç»´æŠ¤æ€§æ›´é«˜ï¼š</strong> æ¨¡å—è¾¹ç•Œæ¸…æ™°ï¼Œå¼€å‘è€…å’Œè´¡çŒ®è€…å¯ä»¥æ›´ä¸“æ³¨äºç‰¹å®šæŠ€æœ¯é¢†åŸŸï¼ŒIDE ä¹Ÿèƒ½æä¾›æ›´ç²¾å‡†çš„ä»£ç æç¤ºã€‚</li>
<li><strong>å¯åŠ¨æ›´å¿«ã€å†…å­˜å ç”¨æ›´å°ï¼š</strong> åº”ç”¨åªå¼•å…¥æ‰€éœ€æ¨¡å—ï¼Œä¸å†åŠ è½½å†—ä½™åŠŸèƒ½ï¼Œå‡å°‘ç±»è·¯å¾„æ‰«æï¼Œä¼˜åŒ–å¯åŠ¨æ—¶é—´ä¸å†…å­˜å ç”¨ã€‚</li>
<li><strong>é…ç½®æ›´ç²¾å‡†ï¼š</strong> Spring Boot 4 èƒ½æ›´å‡†ç¡®åœ°è¯†åˆ«ä¾èµ–æ„å›¾ã€‚ ä¾‹å¦‚ï¼Œåªæƒ³ä½¿ç”¨Â <code>WebClient</code>Â æ—¶ï¼Œå¼•å…¥Â <code>spring-boot-webclient</code>Â æ¨¡å—å³å¯ï¼Œæ— éœ€å†å…³é—­ Web æœåŠ¡å™¨è‡ªåŠ¨é…ç½®ã€‚</li>
<li><strong>æ”¯æŒæ›´å¤šçµæ´»ç”¨ä¾‹ï¼š</strong> ä¾‹å¦‚ï¼Œ<code>Micrometer</code>Â ç›‘æ§æ¨¡å—å¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼Œæ— éœ€å¼•å…¥å®Œæ•´çš„Â <code>Actuator</code>Â ä¾èµ–é“¾ã€‚</li>
</ol>
<p>æ¨¡å—åŒ–ä¸ä»…ä½“ç°åœ¨ä¸»åŠŸèƒ½ä¸Šï¼Œ<strong>æµ‹è¯•æ”¯æŒä¹Ÿéšä¹‹é‡æ„</strong>ã€‚</p>
<p>Spring Boot 4 æ–°å¢äº†æµ‹è¯•ä¸“ç”¨æ¨¡å—ï¼Œå¦‚ï¼š</p>
<ul>
<li><code>spring-boot-data-jdbc-test</code></li>
<li><code>spring-boot-starter-webmvc-test</code></li>
<li><code>spring-boot-starter-security-test</code></li>
<li><code>spring-boot-starter-flyway-test</code></li>
</ul>
<p>æ¯ä¸ªåŠŸèƒ½æ¨¡å—éƒ½æœ‰å¯¹åº”çš„æµ‹è¯• Starterï¼Œç¡®ä¿æµ‹è¯•ä¾èµ–å’Œç”Ÿäº§ä¾èµ–ä¿æŒä¸€è‡´ä¸”ç²¾ç®€ã€‚</p>
<p>å¦‚æœä½ æƒ³ä» Spring Boot 3 è¿ç§»åˆ° Spring Boot 4ï¼Œå¤§å¤šæ•°é¡¹ç›®åªéœ€è¦ï¼š</p>
<ul>
<li>æ›´æ–° Starter ä¾èµ–</li>
<li>æ·»åŠ æµ‹è¯• Starter</li>
<li>æ›´æ–°åŒ…è·¯å¾„ä¸è‡ªå®šä¹‰é…ç½®</li>
</ul>
<p>æ¨¡å—åŒ–åï¼ŒåŒ…è·¯å¾„è°ƒæ•´ä¸ºÂ <code>org.springframework.boot.&lt;module&gt;</code>ã€‚</p>
<p>å¦‚æœé¡¹ç›®ä¸­æœ‰æ‰‹åŠ¨å¯¼å…¥çš„è‡ªåŠ¨é…ç½®ç±»æˆ–è‡ªå®šä¹‰ Starterï¼Œéœ€è¦åŒæ­¥ä¿®æ”¹ã€‚</p>
<p>ä¸ºæ–¹ä¾¿è€é¡¹ç›®å¹³æ»‘è¿ç§»ï¼ŒSpring Boot 4 æä¾›äº†Â  <strong>â€œClassic Startersâ€</strong> ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â  Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-classic<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p>è¯¥æ¨¡å¼ä¼šè‡ªåŠ¨å¼•å…¥æ‰€æœ‰æ¨¡å—çš„è‡ªåŠ¨é…ç½®ï¼Œä½†ä¸åŒ…å«æ–°çš„ä¾èµ–ç»“æ„ï¼Œé€‚åˆè¿‡æ¸¡é˜¶æ®µã€‚</p>
<p>å¼€å‘è€…å¯å…ˆè¿ç§»åˆ° Spring Boot 4 çš„ Classic æ¨¡å¼ï¼Œå†é€æ­¥ç²¾ç®€ä¸ºç‹¬ç«‹æ¨¡å—ã€‚</p>
<p>Spring Boot 4 çš„æ¨¡å—åŒ–ä¸ä»…è®©æ¡†æ¶å˜å¾—æ›´æ¸…æ™°ã€æ›´è½»é‡ï¼Œä¹Ÿè®©å¼€å‘ä½“éªŒæ›´è‡ªç„¶ã€æ›´é«˜æ•ˆã€‚</p>
<p>å¯¹äºæƒ³è¦æ„å»ºæ›´è½»ã€æ›´å¿«ã€æ›´å¯æ§çš„ä¼ä¸šçº§åº”ç”¨è€Œè¨€ï¼ŒSpring Boot 4 çš„æ¨¡å—åŒ–ï¼Œæ˜¯ä¸€åœºå€¼å¾—æŠ•å…¥çš„å‡çº§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SKILLåœ¨çœŸå®é¡¹ç›®ä¸­çš„åº”ç”¨]]></title>    <link>https://juejin.cn/post/7602529888484114495</link>    <guid>https://juejin.cn/post/7602529888484114495</guid>    <pubDate>2026-02-04T06:34:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602529888484114495" data-draft-id="7602559134575755300" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SKILLåœ¨çœŸå®é¡¹ç›®ä¸­çš„åº”ç”¨"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T06:34:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿åº·zz"/> <meta itemprop="url" content="https://juejin.cn/user/1978776659428727"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SKILLåœ¨çœŸå®é¡¹ç›®ä¸­çš„åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1978776659428727/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿åº·zz
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:34:51.000Z" title="Wed Feb 04 2026 06:34:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bb8a994662d44d58a1e96cb5395dfd9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5bq3eno=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791690&amp;x-signature=QCWY2EV0sM84bvmsclIjjHBPZnQ%3D" alt="1.00" loading="lazy"/></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œ<strong>ä¸ç®¡åœ¨ä»€ä¹ˆå¹³å°ï¼Œåœ¨å†™æ–‡ç« æ—¶æ€»æ˜¯è¦é…ä¸€ä¸ªå›¾</strong>ï¼Œä½†ä¸€ä¸ªåˆé€‚çš„å›¾æ€»æ˜¯é‚£ä¹ˆéš¾æ‰¾ã€‚</p>
<p>è€Œä¸€å¼ åªæœ‰æ–‡å­—çš„å›¾ï¼Œç¨åŠ ç‚¹ç¼€ï¼Œåœ¨å¤šæ•°æƒ…å†µä¸‹éƒ½è®©äººæŒ‘ä¸å‡ºæ¯›ç—…æ¥ã€‚</p>
<p>ä¸ºäº†è¾¾æˆè¿™ä¸ªç›®æ ‡ï¼Œæˆ‘åœ¨<strong>å»å¹´çš„è¿™ä¸ªæœˆ</strong>åˆ†äº«äº†ä¸€ä¸ªå¼€æºå·¥å…·ã€‚ç”¨äºè§£å†³ç”Ÿæˆè¿™ç§å…·æœ‰å›ºå®šæ’ç‰ˆå’Œå‡†ç¡®å†…å®¹çš„æ–‡å­—å›¾ç‰‡ã€‚å¹¶ä¸”åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fv2ex.com%2Ft%2F1110730%23reply52" target="_blank" title="https://v2ex.com/t/1110730#reply52" ref="nofollow noopener noreferrer">Vç«™</a>åˆ†äº«äº†è¿™ä¸ªå¼€æºé¡¹ç›®<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Faatrooox%2Fimgx" target="_blank" title="https://github.com/aatrooox/imgx" ref="nofollow noopener noreferrer">IMGX</a>ï¼ŒçŸ­æ—¶é—´å†…æ”¶è·äº†<strong>100+ star</strong></p>
<p>è™½ç„¶å½“æ—¶çš„AIå·²ç»å¯ä»¥æ¯”è¾ƒå¥½çš„æ”¯æŒæ–‡ç”Ÿå›¾äº†ï¼Œä½†æ˜¯è€ƒè™‘åˆ°å®ƒç”Ÿæˆä¸€å¼ å›¾ç‰‡çš„<strong>ä»·æ ¼æ¯”</strong>æˆ‘ä¸€ç¯‡æ–‡ç« çš„<strong>æ”¶ç›Š</strong>è¿˜è¦å¤§ï¼Œè€Œä¸”å†…å®¹æ˜¯éšæœºçš„ï¼Œå†…å®¹é‡Œæƒ³é™„å¸¦ä¸€ä¸ªå‡†ç¡®çš„ä¸­æ–‡æˆ–è‹±æ–‡æ›´æ˜¯æ¯”è¾ƒå›°éš¾ï¼Œäºæ˜¯å°±ä¸å¾—ä¸æ€è€ƒä¸€ä¸ªæ›´ç®€å•ç²—æš´çš„æ–¹å¼æ¥æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ã€‚</p>
<h2 data-id="heading-0">IMGX çš„æœºåˆ¶</h2>
<p>äºæ˜¯æˆ‘æ‰¾åˆ°äº† <code>satori</code> è¿™ä¸ªæ’ä»¶ã€‚</p>
<p>å¹¶ä¸”é€šè¿‡ <code>createSSRApp </code>  å’Œ <code>renderToString </code>  è¿™ä¸¤ä¸ª<code>Vue3</code> é‡Œçš„ Api å°† **Vue ç»„ä»¶ï¼ˆé‡ç‚¹ï¼‰**è½¬æ¢ä¸º<code>satori</code>å¯ä»¥è¯†åˆ«çš„  <code> html string</code>ã€‚</p>
<p>ç„¶å <code>satori </code>  å°†å…¶è½¬æ¢ä¸º <code>SVG</code>ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸æ¶‰åŠ <code>DOM</code>ï¼Œä¹Ÿå°±æ˜¯<strong>å®Œå…¨è„±ç¦»æµè§ˆå™¨ç¯å¢ƒ</strong>ï¼Œéå¸¸é€‚åˆåœ¨æœåŠ¡å™¨ç”Ÿæˆä¸€äº›å›ºå®šæ’ç‰ˆä½†å†…å®¹ä¸åŒçš„å›¾ç‰‡ã€‚</p>
<p>æœ€åå†ç”¨ <code>resvg-js</code>è¿™ä¸ªç”± Rust å®ç°çš„é«˜æ€§èƒ½ <code>svg </code>  æ¸²æŸ“åº“å°† SVG è½¬æ¢ä¸º PNGã€PNG@2xã€PNG@3x</p>
<p>æŠ€æœ¯ä¸Šçš„å…³é”®ç‚¹å…¨éƒ¨æ‰“é€šäº†ï¼Œè¯æ˜è¿™ä¸ªé¡¹ç›®å®Œå…¨å¯è¡Œã€‚äºæ˜¯æˆ‘èŠ±äº†ä¸€æ®µæ—¶é—´å»æ‰‹æ“è¿™ä¸ªé¡¹ç›®ã€‚</p>
<p>ä½†è·‘é€šä¹‹åï¼Œç”Ÿæˆå›¾ç‰‡çš„<strong>Vueç»„ä»¶</strong>è¿˜æ˜¯å¾—è‡ªå·±æ¥å†™ï¼Œå†™æ¨¡æ¿è¿™äº‹å„¿è¿˜å¿…é¡»å¾—ç¨‹åºå‘˜æ¥åšï¼Œå› ä¸ºæ™®é€šç”¨æˆ·ä¹Ÿçœ‹ä¸æ‡‚HTMLï¼Œæ›´ä¸è¦è¯´æ¨¡æ¿è¿˜æœ‰ä¸€äº›å¿…é¡»éµå®ˆçš„è§„åˆ™ã€‚</p>
<h2 data-id="heading-1">æç¤ºè¯å·¥ç¨‹</h2>
<p>äºæ˜¯æˆ‘å¼€å§‹å°è¯•ç”¨AIæ¥è§£å†³åšæ¨¡æ¿çš„é—®é¢˜ã€‚</p>
<p>å…ˆæ˜¯å°è¯•ç”¨æç¤ºè¯ï¼Œè®©å„å¤§AIå»å†™ç¬¦åˆæœ¬é¡¹ç›®æ ‡å‡†çš„Vueç»„ä»¶ï¼Œç„¶ååœ¨ä¸æ–­çš„çº é”™ä¸­ï¼Œ<strong>æç¤ºè¯ä¹Ÿè¶Šæ¥è¶Šé•¿ï¼Œé™åˆ¶è¯è¶Šæ¥è¶Šå¤š</strong>ã€‚</p>
<p>æœ€å<strong>æˆåŠŸç‡è¿˜å¾ˆä½</strong>ã€‚æœ‰çš„å¤§ä½“èƒ½ç”¨ï¼Œä½†æ˜¯å¾®è°ƒèµ·æ¥å·¥ä½œé‡ä¹Ÿä¸å°ã€‚</p>
<p>äºæ˜¯æˆ‘åˆå°è¯•ç”¨AIåˆ›å»ºäº†ä¸€å¥—<strong>é¢„è®¾ç³»ç»Ÿ</strong>ï¼Œå°†<code>url(GET)</code>é‡Œå¤æ‚çš„å‚æ•°å›ºå®šä¸‹æ¥ã€‚æ¯ä¸ªæ¨¡æ¿å¯ä»¥å¯¹åº”å¤šä¸ªé¢„è®¾ç (å¦‚103)ï¼Œæ¯æ¬¡è¯·æ±‚æ—¶å¤æ‚æ ·å¼å·²ç»ä¿å­˜åœ¨é¢„è®¾è¡¨é‡Œï¼Œåªéœ€è¦ä¼ é€’å†…å®¹æˆ–ç‰¹å®šæ ·å¼å‚æ•°å³å¯ä¿®æ”¹æ¨¡æ¿é‡Œçš„æ–‡å­—å†…å®¹ã€‚</p>
<p><code>https://imgx.zzao.club/api/103/è¿™æ˜¯å†…å®¹?fontSizes=20px</code></p>
<p>äºæ˜¯ï¼Œä¸€å¥—æ¨¡æ¿çš„å¢åˆ æ”¹æŸ¥ï¼Œä¸€å¥—é¢„è®¾çš„å¢åˆ æ”¹æŸ¥åˆå‡ºæ¥äº†...</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc7902d649bb49eba5f947acbf2c566d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_5bq3eno=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791690&amp;x-signature=IckmRpLjhY6tNLqcIowd35NUD5U%3D" alt="image.png" loading="lazy"/></p>
<p>å°½ç®¡å¦‚æ­¤ï¼Œå…¶å®<strong>æ¨¡æ¿ç¼–å†™çš„é—¨æ§›</strong>è¿˜æ˜¯æ²¡è§£å†³ã€‚<strong>çº¯ç²¹äº«å—ç¼–ç¨‹çš„ä¹è¶£äº†å±äºæ˜¯</strong>ã€‚</p>
<p>æœ€åï¼Œæˆ‘æ²¡æå‡ºåƒæ ·çš„æ¨¡æ¿ï¼Œä¹Ÿæ²¡äººç»™æˆ‘PRï¼Œç»´æŠ¤å°±åœæ­¢äº†ã€‚</p>
<h2 data-id="heading-2">SKILL çš„è‡ªæˆ‘è¿›åŒ–</h2>
<p>ç›´åˆ°æœ€è¿‘å‡ ä¸ªæœˆï¼Œåœ¨æˆ‘å®Œç¾é”™è¿‡ <code>workflow</code>ä¹‹åï¼Œ<code>SKILL</code>å¼€å§‹è¢«é¢‘ç¹æèµ·</p>
<p>äº†è§£ã€å­¦ä¹ å’Œç®€å•ä½¿ç”¨ä¹‹åï¼Œæˆ‘å‘ç°å®ƒæœ‰ç€å·¨å¤§çš„ä»·å€¼ã€‚</p>
<p><strong>è¿™è¦ä»å‰ä¸¤å¹´çš„é£å‘è¯´èµ·ã€‚</strong></p>
<p>å‰ä¸¤å¹´è®¸å¤šä¼ä¸šçº·çº·åœ¨æ„å»ºè‡ªå·±çš„<strong>çŸ¥è¯†åº“</strong>ï¼Œ<strong>mcp</strong>ï¼Œé¢å­æ´»æ‹‰æ»¡äº†ã€‚</p>
<p>è¯´ä»€ä¹ˆ<strong>èƒ½ç”¨mcpå®ç°çš„éƒ½èƒ½ç”¨mcpå®ç°ä¸€é</strong></p>
<p>ä¸ºäº†è®©æˆ‘èƒ½åœ¨ä¸€ä¸ªèŠå¤©æ¡†ä¸­é€šè¿‡å‡ æ¬¡å¯¹è¯å°±èƒ½å¾—åˆ°å…¬å¸çš„è§„ç« åˆ¶åº¦çš„è§£è¯»ï¼Œé¡¹ç›®éš¾é¢˜çš„ç­”æ¡ˆï¼Œä»£ç æ–‡æ¡£çš„å†…å®¹ã€‚</p>
<p>ç…è´¹è‹¦å¿ƒï¼Œé¢„ç®—æ‹‰æ»¡ï¼Œå¤Ÿä¹°æ˜¾å¡ï¼Œè‡ªå»ºæœåŠ¡ï¼Œå¾®è°ƒæ¨¡å‹ï¼Œæœºå™¨å­¦ä¹ ï¼Œè‡ªæˆ‘è¿›åŒ–ã€‚</p>
<p>åƒæäº†æˆ‘åœ¨äº«å—ç¼–ç¨‹ä¹è¶£æ—¶çš„æŠ•å…¥æ„Ÿã€æ²‰æµ¸æ„Ÿã€‚ç”šè‡³ç»“æœéƒ½ä¸€æ ·ï¼Œ<strong>æˆ‘ä»¬éƒ½æ²¡èƒ½èµ°åˆ°æœ€å</strong>ã€‚</p>
<p><strong>é‚£SKILLä¸ºä»€ä¹ˆèƒ½è¡Œå‘¢ï¼Ÿ</strong></p>
<p>è®©æˆ‘ç”¨<code>IMGX</code>è¿™ä¸ªé¡¹ç›®æ¥è¯´æ˜ï¼Œ<code>SKILL</code>æ˜¯å¦‚ä½•ç”Ÿäº§æ¨¡æ¿çš„ã€‚</p>
<p>åœ¨<strong>é¡¹ç›®çº§SKILL</strong><code>imgx/.opencode/skills/imgx-template-generator</code>ä¸­ï¼Œæˆ‘åœ¨<strong>å…¥å£</strong><code>SKILL.md</code>æŒ‡å®šäº†è¯¥æŠ€èƒ½çš„ç®€å•æè¿°[1]ã€çº¦æŸæ–‡æ¡£[2]ã€è“å›¾[3]ã€åˆ›ä½œæµç¨‹[4]ã€éªŒæ”¶æ ‡å‡†[5]ã€‚</p>
<p>åœ¨æˆ‘ç”¨<strong>è‡ªç„¶è¯­è¨€</strong>å»æè¿°ï¼Œè¦æ±‚AIå»åˆ›ä½œä¸€ä¸ªæ¨¡æ¿æ—¶ï¼Œ<strong>Agent A</strong> ä¼šåœ¨æˆ‘çš„è¯­ä¹‰ä¸­åˆ¤æ–­å’Œ<strong>é”šå®š</strong>è¿™ä¸ªSKILLï¼Œå¹¶ä¸”åˆæ¬¡è¯»å–æ—¶åªæºå¸¦<strong>SKILL.md</strong>å’Œ<strong>æˆ‘çš„è¦æ±‚</strong>è¿›è¡Œåˆ›ä½œã€‚</p>
<p>ç†è§£äº†æˆ‘çš„è¦æ±‚å’Œç®€å•æè¿°[1]åï¼Œå§”æ‰˜<strong>Agent B</strong>é€‰æ‹©äº†è“å›¾[3]<strong>äº”ä¸ªé‡Œ</strong>æœ€ç¬¦åˆæˆ‘è¦æ±‚çš„<strong>ä¸€ä¸ªã€è“å›¾A.mdã€‘ã€‚</strong></p>
<p>äºæ˜¯ <strong>Agent B</strong> å†å»é˜…è¯»<code>è“å›¾A.md</code>ï¼ŒæŸ¥çœ‹å…¶è¦æ±‚å’Œä»£ç ç¤ºä¾‹ï¼Œç„¶åå‘ç°ç”¨æˆ·è¿˜è¦æ±‚èƒ½å¤Ÿæ’å…¥<strong>emoji</strong>è¡¨æƒ…ã€‚äºæ˜¯é¡ºè—¤æ‘¸ç“œåˆæŸ¥çœ‹äº†<code>icon.md</code>ï¼Œåœ¨è¿™ä¸ªåŒ…å«<strong>æœ€ä½³å®è·µ</strong>çš„æ–‡æ¡£é‡Œæ‰¾åˆ°äº†å¦‚ä½•ä½¿ç”¨<strong>emoji iconã€‚</strong></p>
<p>æœ€åç†è§£äº†å…¨éƒ¨éœ€æ±‚å’Œä»£ç è§„èŒƒåï¼Œå§”æ‰˜ç»™ <strong>Agent Cã€UI/UX å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆã€‘</strong>ï¼Œå®ç°æ’ç‰ˆåˆç†ä¸”ç¾è§‚çš„å¸ƒå±€ã€‚</p>
<p><strong>Agent A</strong> åœ¨æ‹¿åˆ°é‡Œå„ä¸ª Agent åšå‡ºçš„ç»“æœä¹‹åï¼ŒæŒ‰ç…§åˆ›ä½œæµç¨‹[4]å’ŒéªŒæ”¶æ ‡å‡†[5]ï¼Œå»å®Œæˆæœ€åçš„æ–‡ä»¶å†™å…¥å’Œæµ‹è¯•å·¥ä½œã€‚</p>
<p><strong>è‡³æ­¤ï¼Œæˆ‘æ‹¿åˆ°äº†ä¸€ä¸ªå‡ ä¹ç›´æ¥å¯ç”¨çš„ Vue æ¨¡æ¿</strong></p>
<h2 data-id="heading-3">SKILL çš„ç®€å•è§£è¯»</h2>
<p>ä»¥ä¸Šçš„æµç¨‹éšå«å¤§é‡çš„SKILLçš„ç»†èŠ‚ï¼Œæˆ‘éƒ½ç”¨åŠ ç²—å­—ä½“æ ‡è¯†äº†ï¼Œè®©æˆ‘å†æ¥æ¢³ç†ä¸€ä¸‹ã€‚</p>
<p>SKILLçš„åº”ç”¨ï¼Œ<strong>ä¾èµ– AI Agent çš„è°ƒåº¦èƒ½åŠ›</strong>ï¼Œæ‰€ä»¥ä½ å¯ä»¥çœ‹åˆ°æœ‰å„ç§ Agent å„å¸å…¶èŒï¼Œä»–ä»¬ä»…é è‡ªç„¶è¯­è¨€å°±èƒ½å®Œæˆè¿™äº›å·¥ä½œï¼Œ<strong>éå¸¸è€ƒéªŒLLMçš„ç†è§£èƒ½åŠ›</strong>ï¼Œæ¢å¥è¯è¯´ï¼ŒLLM èƒ½åŠ›ä¸è¡Œçš„è¯ï¼ŒSKILLä¹Ÿç©ä¸èµ·æ¥ã€‚</p>
<p>SKILLåˆ†å…¨å±€å’Œé¡¹ç›®çº§ï¼Œä¸”ä¾èµ–æŸä¸ªå·¥å…·æ¥è°ƒåº¦ï¼Œæˆ‘ç”¨çš„æ˜¯<code>opencode</code>ï¼Œæ›´åŠ çŸ¥åçš„æ˜¯ <code>claude code</code>ã€‚å¯¹äºå„ç§ Agent çš„æŠŠæ§ä¹Ÿæ¥è‡ªäºè¿™ä¸ªå·¥å…·ï¼Œè€Œæ¨¡å‹å§‹ç»ˆæ˜¯ Api æ¥è°ƒç”¨çš„ã€‚</p>
<p>ä¹ä¸€çœ‹ï¼Œå’ŒæŠŠä¸€å¤§é•¿ä¸²æç¤ºè¯æ‹†åˆ†å‡ºå»æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä½†æ˜¯SKILLæœ‰ä¸€ä¸ªã€Œ<strong>æ¸è¿›å¼æŠ«éœ²</strong>ã€çš„é‡è¦ç‰¹æ€§ã€‚</p>
<p>ä½¿ç”¨ä¸€ä¸ªSKILLæ—¶ï¼Œ<strong>åªä¼šå»è¯»å…¥å£æ–‡ä»¶</strong>ï¼Œè¿™ä¸ªæ–‡ä»¶ç›¸å½“äºå¤§çº²æˆ–è€…ç›®å½•é¡µï¼Œç”¨å¾ˆå°‘çš„ä¸Šä¸‹æ–‡ç²¾ç¡®æè¿°æ¥ä¸‹æ¥çš„å·¥ä½œã€‚(<em>SKILLåœ¨è¢«åˆ›å»ºæ—¶ä¹Ÿè¢«è¦æ±‚åœ¨å…¥å£æ–‡ä»¶ä¸­ä½¿ç”¨æå°‘çš„ç¯‡å¹…</em>)</p>
<p>åœ¨ç›®å½•ä¸­æ‰¾åˆ°è‡ªå·±ä¸‹ä¸€æ­¥çš„å·¥ä½œä¹‹åï¼Œå†å»è¯»æŒ‡å®šçš„<code>mdæ–‡ä»¶</code>ï¼Œæ¯ä¸ªå…·ä½“å·¥ä½œå†…å®¹çš„æ–‡ä»¶ä¸­ï¼Œä¹Ÿä¼šç”¨ç²¾ç¡®çš„æè¿°ã€çº¦æŸã€ç¤ºä¾‹æ¥å‘AIå±•ç¤ºæ€ä¹ˆå®Œæˆè¿™ä¸ªå·¥ä½œã€‚</p>
<p>å¯ä»¥ç†è§£ä¸ºï¼Œä½ åœ¨æ¥æ‰‹ä¸€ä¸ªæ–°é¡¹ç›®æ—¶ï¼Œè¦å…ˆçœ‹æŠ€æœ¯æ ˆã€æ¶æ„ã€éœ€æ±‚èƒŒæ™¯ï¼Œçœ‹åˆ°æŸä¸ªä¸šåŠ¡ä»£ç æ—¶ï¼Œå†å»çœ‹æ­¤ä¸šåŠ¡çš„æ–‡æ¡£ä»‹ç»ï¼Œè€Œä¸æ˜¯ä¸€è‚¡è„‘å…¨æ¥æ”¶åå†åˆ†æã€‚</p>
<p><strong>æ‰€ä»¥SKILLé‡Œçš„æ ¸å¿ƒæ–‡æ¡£å¯ä»¥æ˜¯ä½ ä»¥å‰çš„æŠ€æœ¯æ–‡æ¡£+éœ€æ±‚æ–‡æ¡£ï¼ŒAIå†åŠ ä»¥æ¶¦è‰²ï¼Œæ— éœ€å†å€ŸåŠ©å‘é‡æ•°æ®åº“ç­‰ã€‚</strong></p>
<p>å¦‚æœåªæ˜¯æ„å»ºæ–‡æ¡£æ–¹ä¾¿å¾ˆå¤šï¼Œè¿˜ä¸å€¼å¾—æƒŠè®¶ï¼Œæ¯•ç«Ÿå¤šèŠ±ç‚¹tokenæ€»èƒ½æŠŠæ–‡æ¡£ã€MCPæå‡ºæ¥ã€‚</p>
<p><strong>SKILLè¿˜æ”¯æŒscripts</strong></p>
<p>æ¯”å¦‚è®©AIå¼€å§‹ç¼–ç å·¥ä½œå‰ï¼Œéœ€è¦å…ˆæ‹¿åˆ°æŸç½‘ç«™çš„æ•°æ®ï¼Œéœ€è¦åŸºäºæ­¤æ•°æ®æ¥åšç‚¹ä»€ä¹ˆã€‚çˆ¬å–æ•°æ®ä»¥å‰æ˜¯<code>pythonè„šæœ¬</code>å¹²çš„ï¼Œè¿™æ—¶å€™å¯ä»¥ç›´æ¥æ”¾åˆ°scriptsé‡Œï¼Œæ˜ç¡®è¡¨ç¤ºåœ¨æŸä¸ªåŠ¨ä½œå‰ï¼Œéœ€è¦ä½¿ç”¨å“ªä¸ªè„šæœ¬æ‹¿åˆ°æ•°æ®ï¼Œæ•°æ®å­˜åœ¨å“ªé‡Œï¼Œåç»­æ€ä¹ˆç”¨ã€‚</p>
<p><strong>ä»¥å‰çš„æ–‡æ¡£ï¼Œä»¥å‰çš„è„šæœ¬ï¼Œéƒ½ä¸ç”¨é‡å¤å¼€å‘ï¼Œç›´æ¥æ‹¿æ¥ç”¨</strong>ã€‚è¯¥æ€ä¹ˆç®¡ç†è¿˜æ˜¯æ€ä¹ˆç®¡ç†ã€‚</p>
<p>ä¹Ÿä¸ç”¨æ‹…å¿ƒAIæœçš„å†…å®¹ä¼šä¸ä¼šè¿‡æ—¶ï¼Œæ˜¯ä¸æ˜¯å®ƒè‡ªå·±ç¼–çš„ã€‚å› ä¸ºè‡ªå·±å†™çš„è„šæœ¬ç»å¯¹å‡†ç¡®çš„ã€‚</p>
<p>æœ‰äº†<strong>scripts</strong>ï¼Œå…¶å®SKILLçš„èƒ½åŠ›å·²ç»å®Œå…¨ä¸å±€é™äºç¼–ç¨‹é¢†åŸŸäº†ã€‚</p>
<p>ä¸€äº›ä»€ä¹ˆæ–‡æ¡£è½¬pdfï¼Œæ‰“å°ï¼Œå‘é‚®ä»¶ï¼Œæ•´ç†æ–‡æ¡£ï¼Œçˆ¬å–æ•°æ®ç­‰ç­‰ä¸€åˆ‡ä»¥å‰ç”¨æŠ€æœ¯æ‰‹æ®µè§£å†³çš„é—®é¢˜ï¼Œéƒ½å¯ä»¥è¢«SKILLåˆ©ç”¨èµ·æ¥ã€‚</p>
<p><strong>ç”±å¯é è„šæœ¬å®Œæˆï¼Œç”¨ SKILL æŒ‚è½½ï¼Œå€Ÿ AI Agent è°ƒåº¦ã€‚ï¼ˆLLM çº¯ç‰›é©¬ï¼‰</strong></p>
<p>æ­¤æ—¶ï¼Œä¸€ä¸ªSKILLçš„èƒ½åŠ›å·²ç»å®Œå…¨ç»å¾—èµ·æƒ³è±¡äº†ã€‚</p>
<p>å¹¶ä¸”ï¼Œä¸€ä¸ªSKILLåªæ˜¯ä¸€ä¸ª<strong>å•å…ƒ</strong></p>
<p>Agent èƒ½åŒæ—¶ç»„ç»‡å¤šä¸ªSKILLï¼Œä¸€ä¸ªSKILLä¹Ÿå¯ä»¥åœ¨ä¸»åŠ¨ä½¿ç”¨å¦ä¸€ä¸ªSKILLï¼Œå¦ä¸€ä¸ªSKILLä¹Ÿèƒ½è´Ÿè´£æ•´ç†å’Œä¼˜åŒ–å…¶ä»–SKILLã€‚</p>
<p>å‰©ä¸‹çš„çœŸçš„å°±æ˜¯å‘æŒ¥ä½ çš„æƒ³è±¡åŠ›å’Œæ¶æ„èƒ½åŠ›äº†</p>
<h2 data-id="heading-4">ç»“è¯­</h2>
<p>è¿™ç¯‡æ–‡ç« ç®—æ˜¯å€Ÿç€æœ€è¿‘åœ¨ç»´æŠ¤çš„é¡¹ç›®ï¼Œåˆ†äº«å…³äºSKILLåº”ç”¨ä¸Šçš„ä¸€äº›å°æ„Ÿæ‚Ÿå§ã€‚</p>
<p>æˆ‘å¯¹SKILLçš„ç†è§£å®Œå…¨æ¥è‡ªäºXã€Githubç­‰å¹³å°åˆ†äº«çš„å†…å®¹ã€é¡¹ç›®ï¼Œä»¥åŠæˆ‘è‡ªå·±çš„å®é™…ä½¿ç”¨å’Œè§‚å¯Ÿçš„<code>opencode</code>åå°è¾“å‡ºçš„<strong>thinkå’Œè°ƒåº¦</strong>è¿‡ç¨‹ã€‚æ‰€ä»¥æœ‰ä¸å‡†ç¡®çš„åœ°æ–¹ä¹Ÿå¾ˆæ­£å¸¸ã€‚</p>
<p>å¦‚æœåç»­å‘ç°æœ‰ç†è§£ä¸åˆ°ä½çš„åœ°æ–¹ï¼Œæˆ‘ä¼šåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fzzao.club" target="_blank" title="https://zzao.club" ref="nofollow noopener noreferrer">åšå®¢</a>ä¸Šæ›´æ­£è¿™ç¯‡æ–‡ç« ï¼Œå…¶ä»–å¹³å°ä¸æ”¯æŒä¿®æ”¹~</p>
<p>ä¹Ÿä¼šç»§ç»­åˆ†äº«å…¶ä»–æˆ‘åœ¨ç”¨çš„ã€è‡ªå·±æ„å»ºçš„SKILLï¼Œæ¯”å¦‚ï¼šé¢è¯•ã€ç®€å†ã€å†™ä½œç­‰ç­‰ã€‚</p>
<p>æ„Ÿå…´è¶£çš„å¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€ã€äº¤æµç»éªŒ~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[IntelliJ IDEAä¸­GitHub Copilotå®Œæ•´ä½¿ç”¨æ•™ç¨‹ï¼šä»å®‰è£…åˆ°å®æˆ˜æŠ€å·§]]></title>    <link>https://juejin.cn/post/7602512064977649727</link>    <guid>https://juejin.cn/post/7602512064977649727</guid>    <pubDate>2026-02-04T06:22:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602512064977649727" data-draft-id="7602559134575640612" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="IntelliJ IDEAä¸­GitHub Copilotå®Œæ•´ä½¿ç”¨æ•™ç¨‹ï¼šä»å®‰è£…åˆ°å®æˆ˜æŠ€å·§"/> <meta itemprop="keywords" content="å‰ç«¯,æ˜é‡‘æŠ€æœ¯å¾æ–‡"/> <meta itemprop="datePublished" content="2026-02-04T06:22:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‚å£³å¯ç‚"/> <meta itemprop="url" content="https://juejin.cn/user/3229711031075193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            IntelliJ IDEAä¸­GitHub Copilotå®Œæ•´ä½¿ç”¨æ•™ç¨‹ï¼šä»å®‰è£…åˆ°å®æˆ˜æŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3229711031075193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‚å£³å¯ç‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:22:35.000Z" title="Wed Feb 04 2026 06:22:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>IntelliJ IDEA ä¸­ AI å·¥å…· Codex (GitHub Copilot) å®Œæ•´ä½¿ç”¨æ•™ç¨‹</strong></p>
<p>åœ¨ IntelliJ IDEA ä¸­ï¼ŒCodex çš„èƒ½åŠ›ä¸»è¦é€šè¿‡ <strong>GitHub Copilot</strong> æ’ä»¶ä½“ç°ã€‚å®ƒæ˜¯ç›®å‰æœ€å¼ºå¤§çš„ AI ç¼–ç¨‹åŠ©æ‰‹ï¼Œèƒ½å¤ŸåŸºäº OpenAI Codex æ¨¡å‹æä¾›å®æ—¶ä»£ç å»ºè®®ã€ä¸šåŠ¡é€»è¾‘å®ç°ä»¥åŠå¤æ‚çš„é‡æ„æ”¯æŒã€‚</p>
<hr/>
<h3 data-id="heading-0">ä¸€ã€ å®‰è£…ä¸ç¯å¢ƒé…ç½®</h3>
<h4 data-id="heading-1">1. æ’ä»¶å®‰è£…</h4>
<ol>
<li>æ‰“å¼€ IntelliJ IDEAï¼Œè¿›å…¥è®¾ç½®ï¼š<code>File</code> -&gt; <code>Settings</code> (Windows) æˆ– <code>IntelliJ IDEA</code> -&gt; <code>Settings</code> (Mac)ã€‚</li>
<li>åœ¨å·¦ä¾§èœå•é€‰æ‹© <code>Plugins</code>ï¼Œç‚¹å‡» <code>Marketplace</code> æ ‡ç­¾ã€‚</li>
<li>æœç´¢ <strong>"GitHub Copilot"</strong>ï¼Œç‚¹å‡» <code>Install</code>ã€‚</li>
<li>å®‰è£…å®Œæˆåï¼Œæ ¹æ®æç¤ºé‡å¯ IDEã€‚</li>
</ol>
<h4 data-id="heading-2">2. è´¦å·æˆæƒ</h4>
<ol>
<li>é‡å¯åï¼Œå³ä¸‹è§’ä¼šå¼¹å‡ºçŠ¶æ€æ å›¾æ ‡ã€‚ç‚¹å‡» <code>Sign in to GitHub</code>ã€‚</li>
<li>IDE ä¼šæä¾›ä¸€ä¸ª 8 ä½è®¾å¤‡ä»£ç å¹¶æ‰“å¼€æµè§ˆå™¨ã€‚</li>
<li>åœ¨ GitHub æˆæƒé¡µé¢è¾“å…¥ä»£ç ï¼Œç¡®è®¤æˆæƒï¼ˆéœ€æ‹¥æœ‰ GitHub Copilot è®¢é˜…æˆ–è¯•ç”¨æƒé™ï¼‰ã€‚</li>
<li>è¿”å› IDEï¼Œçœ‹åˆ°å³ä¸‹è§’å›¾æ ‡å˜ä¸ºè“è‰²æˆ–æ­£å¸¸çŠ¶æ€å³è¡¨ç¤ºæ¿€æ´»æˆåŠŸã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-3">äºŒã€ æ ¸å¿ƒåŠŸèƒ½ä½¿ç”¨æŒ‡å—</h3>
<h4 data-id="heading-4">1. æ™ºèƒ½ä»£ç è¡¥å…¨ (Auto-Completion)</h4>
<p>è¿™æ˜¯ Codex æœ€åŸºç¡€ä¹Ÿæ˜¯æœ€å¼ºå¤§çš„åŠŸèƒ½ã€‚å½“ä½ è¾“å…¥ä»£ç æˆ–æ³¨é‡Šæ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨é¢„æµ‹ä½ çš„æ„å›¾ã€‚</p>
<ul>
<li><strong>è§¦å‘æ–¹å¼</strong>ï¼šç›´æ¥æ‰“å­—ï¼Œæˆ–è¾“å…¥ <code>//</code> æ³¨é‡Šæè¿°åŠŸèƒ½ã€‚</li>
<li><strong>äº¤äº’æŒ‡ä»¤</strong>ï¼š
<ul>
<li><code>Tab</code>ï¼šæ¥å—å…¨éƒ¨å»ºè®®ä»£ç ã€‚</li>
<li><code>Ctrl + Right Arrow</code> (Windows) / <code>Cmd + Right Arrow</code> (Mac)ï¼šé€è¯æ¥å—å»ºè®®ã€‚</li>
<li><code>Alt + [</code> æˆ– <code>Alt + ]</code>ï¼šåœ¨å¤šä¸ªç”Ÿæˆçš„å¤‡é€‰æ–¹æ¡ˆä¹‹é—´åˆ‡æ¢ã€‚</li>
<li><code>Esc</code>ï¼šæ‹’ç»å½“å‰å»ºè®®ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-5">2. æ³¨é‡Šé©±åŠ¨å¼€å‘ (Comments-to-Code)</h4>
<p>ä½ å¯ä»¥é€šè¿‡ç¼–å†™è¯¦ç»†çš„ä¸­æ–‡æˆ–è‹±æ–‡æ³¨é‡Šï¼Œå¼•å¯¼ Codex ç”Ÿæˆå®Œæ•´çš„ä¸šåŠ¡é€»è¾‘ã€‚</p>
<ul>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç¼–å†™ä¸€ä¸ªæ–¹æ³•ï¼šæ ¡éªŒæ‰‹æœºå·æ ¼å¼ï¼Œå¹¶ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isValidPhone</span><span class="hljs-params">(String phone)</span> {
    <span class="hljs-comment">// Codex å°†åœ¨æ­¤å¤„è‡ªåŠ¨ç”Ÿæˆæ­£åˆ™åŒ¹é…é€»è¾‘</span>
}
</code></pre>
</li>
</ul>
<h4 data-id="heading-6">3. Copilot Chat (å¯¹è¯å¼ç¼–ç¨‹)</h4>
<p>é™¤äº†åœ¨ç¼–è¾‘å™¨ä¸­è¡¥å…¨ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡ä¾§è¾¹æ çš„ Chat é¢æ¿è¿›è¡Œäº¤äº’ã€‚</p>
<ul>
<li><strong>æ¿€æ´»</strong>ï¼šç‚¹å‡» IDE å³ä¾§è¾¹æ çš„ <code>GitHub Copilot Chat</code> å›¾æ ‡ï¼Œæˆ–ä½¿ç”¨å¿«æ·é”® <code>Ctrl + Shift + i</code>ã€‚</li>
<li><strong>å¸¸ç”¨æ–œæ å‘½ä»¤</strong>ï¼š
<ul>
<li><code>/explain</code>ï¼šé€‰ä¸­ä¸€æ®µä»£ç ï¼Œè®© AI è§£é‡Šå…¶é€»è¾‘ã€‚</li>
<li><code>/tests</code>ï¼šä¸ºå½“å‰æ–¹æ³•è‡ªåŠ¨ç”Ÿæˆå•å…ƒæµ‹è¯•ï¼ˆJUnit/TestNGï¼‰ã€‚</li>
<li><code>/fix</code>ï¼šé’ˆå¯¹æŠ¥é”™çš„ä»£ç ç‰‡æ®µï¼Œè¯¢é—®ä¿®å¤æ–¹æ¡ˆã€‚</li>
<li><code>/simplify</code>ï¼šè¯·æ±‚ AI ç®€åŒ–å¤æ‚çš„ä»£ç é€»è¾‘ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-7">4. ç”Ÿæˆå•å…ƒæµ‹è¯•</h4>
<p>é€‰ä¸­ä¸€ä¸ªç±»åæˆ–æ–¹æ³•åï¼Œå³é”®é€‰æ‹© <code>Copilot</code> -&gt; <code>Generate Tests</code>ã€‚Codex ä¼šæ ¹æ®ç±»ä¸­çš„ä¾èµ–è‡ªåŠ¨ä½¿ç”¨ Mockito æˆ–ç›¸å…³å·¥å…·ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ã€‚</p>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€ è¿›é˜¶å®æˆ˜æŠ€å·§</h3>
<h4 data-id="heading-9">1. æé«˜ Contextï¼ˆä¸Šä¸‹æ–‡ï¼‰æ„ŸçŸ¥</h4>
<p>Codex çš„å‡†ç¡®åº¦å–å†³äºå®ƒèƒ½çœ‹åˆ°çš„â€œä¸Šä¸‹æ–‡â€ã€‚</p>
<ul>
<li><strong>æŠ€å·§</strong>ï¼šåœ¨å¼€å‘æ—¶ï¼Œä¿æŒä¸å½“å‰ä»»åŠ¡ç›¸å…³çš„å…¶ä»–æ–‡ä»¶ï¼ˆå¦‚ DTOã€Repositoryã€é…ç½®ç±»ï¼‰å¤„äºæ‰“å¼€çŠ¶æ€ï¼ˆTabsï¼‰ã€‚Codex ä¼šè‡ªåŠ¨è¯»å–è¿™äº›æ–‡ä»¶çš„ç»“æ„ï¼Œç”Ÿæˆçš„ä»£ç ä¼šæ›´ç¬¦åˆä½ çš„é¡¹ç›®è§„èŒƒã€‚</li>
</ul>
<h4 data-id="heading-10">2. ç²¾å‡†çš„ Prompt (æç¤ºè¯) ç¼–å†™</h4>
<p>å¦‚æœç”Ÿæˆçš„ç»“æœä¸ç¬¦åˆé¢„æœŸï¼Œè¯·ç»†åŒ–ä½ çš„æ³¨é‡Šï¼š</p>
<ul>
<li><strong>æ¨¡ç³Š</strong>ï¼š<code>// ä¿å­˜ç”¨æˆ·ä¿¡æ¯</code></li>
<li><strong>ç²¾å‡†</strong>ï¼š<code>// ä½¿ç”¨ JPA ä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼Œå¦‚æœé‚®ç®±å·²å­˜åœ¨åˆ™æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸ UserAlreadyExistsException</code></li>
</ul>
<h4 data-id="heading-11">3. å¿«é€Ÿç”Ÿæˆæ ·æ¿ä»£ç </h4>
<p>åœ¨ Java å¼€å‘ä¸­ï¼ŒCodex å¯ä»¥æå¿«åœ°ç”Ÿæˆï¼š</p>
<ul>
<li>å¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</li>
<li>å¸¸ç”¨çš„ Stream API è½¬æ¢é€»è¾‘ï¼ˆå¦‚ List è½¬ Mapï¼‰ã€‚</li>
<li>æ ‡å‡†çš„ Cron è¡¨è¾¾å¼ã€‚</li>
<li>é€šç”¨çš„å·¥å…·ç±»ï¼ˆå¦‚æ—¥æœŸæ ¼å¼åŒ–ã€MD5 åŠ å¯†ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-12">å››ã€ å¸¸ç”¨å¿«æ·é”®æ±‡æ€»</h3>








































<table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">Windows</th><th align="left">macOS</th></tr></thead><tbody><tr><td align="left"><strong>æ¥å—å»ºè®®</strong></td><td align="left"><code>Tab</code></td><td align="left"><code>Tab</code></td></tr><tr><td align="left"><strong>æ˜¾ç¤ºä¸‹ä¸€ä¸ªå»ºè®®</strong></td><td align="left"><code>Alt + ]</code></td><td align="left"><code>Option + ]</code></td></tr><tr><td align="left"><strong>æ˜¾ç¤ºä¸Šä¸€ä¸ªå»ºè®®</strong></td><td align="left"><code>Alt + [</code></td><td align="left"><code>Option + [</code></td></tr><tr><td align="left"><strong>æ‰‹åŠ¨è§¦å‘å»ºè®®</strong></td><td align="left"><code>Alt + \</code></td><td align="left"><code>Option + \</code></td></tr><tr><td align="left"><strong>æ‰“å¼€ Copilot çª—å£(å±•ç¤º10ä¸ªæ–¹æ¡ˆ)</strong></td><td align="left"><code>Ctrl + Enter</code></td><td align="left"><code>Ctrl + Enter</code></td></tr><tr><td align="left"><strong>æ‰“å¼€ Chat çª—å£</strong></td><td align="left"><code>Ctrl + Shift + i</code></td><td align="left"><code>Cmd + Shift + i</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-13">äº”ã€ æœ€ä½³å®è·µä¸æ³¨æ„äº‹é¡¹</h3>
<ol>
<li><strong>ä»£ç å®¡æŸ¥</strong>ï¼šåˆ‡è®°ï¼ŒAI ç”Ÿæˆçš„ä»£ç å¯èƒ½å­˜åœ¨é€»è¾‘æ¼æ´æˆ–è¿‡æ—¶çš„ APIã€‚<strong>å§‹ç»ˆå¯¹ç”Ÿæˆçš„å†…å®¹è¿›è¡Œ Code Reviewã€‚</strong></li>
<li><strong>éšç§å®‰å…¨</strong>ï¼šé¿å…åœ¨ä»£ç æ³¨é‡Šä¸­è¾“å…¥çœŸå®çš„ API Keyã€å¯†ç æˆ–æ•æ„Ÿçš„ä¼ä¸šæœºå¯†ã€‚</li>
<li><strong>ä¿æŒæ’ä»¶æ›´æ–°</strong>ï¼šGitHub ç»å¸¸æ›´æ–° Codex æ¨¡å‹ä»¥å‡å°‘â€œå¹»è§‰â€ï¼Œå»ºè®®å®šæœŸæ£€æŸ¥æ’ä»¶æ›´æ–°ã€‚</li>
<li><strong>é£æ ¼ç»Ÿä¸€</strong>ï¼šå¦‚æœä½ å·²ç»åœ¨é¡¹ç›®ä¸­å®šä¹‰äº†æŸç§å‘½åé£æ ¼ï¼ˆå¦‚ <code>order_no</code> è€Œé <code>orderNo</code>ï¼‰ï¼ŒCodex é€šå¸¸ä¼šå­¦ä¹ å¹¶æ¨¡ä»¿ä½ çš„é£æ ¼ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-14">å…­ã€ å¸¸è§é—®é¢˜æ’é™¤</h3>
<ul>
<li><strong>å›¾æ ‡å˜ç°/çº¢</strong>ï¼šé€šå¸¸æ˜¯ç½‘ç»œé—®é¢˜æˆ–ç™»å½•è¿‡æœŸï¼Œç‚¹å‡»å›¾æ ‡å°è¯• <code>Logout</code> åé‡æ–° <code>Login</code>ã€‚</li>
<li><strong>ä¸æ˜¾ç¤ºè¡¥å…¨</strong>ï¼šæ£€æŸ¥ <code>Settings</code> -&gt; <code>Languages &amp; Frameworks</code> -&gt; <code>GitHub Copilot</code>ï¼Œç¡®è®¤å½“å‰è¯­è¨€ï¼ˆå¦‚ Javaï¼‰æ˜¯å¦è¢«ç¦ç”¨ã€‚</li>
<li><strong>å¿«æ·é”®å†²çª</strong>ï¼šå¦‚æœ <code>Tab</code> è¢«å…¶ä»–æ’ä»¶å ç”¨ï¼Œå¯ä»¥åœ¨ <code>Keymap</code> è®¾ç½®ä¸­é‡æ–°æœç´¢ <code>Copilot</code> å¹¶åˆ†é…å¿«æ·é”®ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Deepin Linux OSå®‰è£…NodeJSå’Œç®¡ç†]]></title>    <link>https://juejin.cn/post/7602559134575722532</link>    <guid>https://juejin.cn/post/7602559134575722532</guid>    <pubDate>2026-02-04T06:30:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602559134575722532" data-draft-id="7602559134575476772" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Deepin Linux OSå®‰è£…NodeJSå’Œç®¡ç†"/> <meta itemprop="keywords" content="å‰ç«¯,Linux"/> <meta itemprop="datePublished" content="2026-02-04T06:30:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿ç™½çš„ç™½æ—¥æ¢¦"/> <meta itemprop="url" content="https://juejin.cn/user/598573077765678"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Deepin Linux OSå®‰è£…NodeJSå’Œç®¡ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/598573077765678/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿ç™½çš„ç™½æ—¥æ¢¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:30:13.000Z" title="Wed Feb 04 2026 06:30:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1ã€æ£€æŸ¥æ˜¯å¦å·²ç»å®‰è£…äº†NodeJS</h2>
<pre><code class="hljs">node -v
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b1de260a1bb14701bf7dd22e5db03925~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_55m955qE55m95pel5qKm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791412&amp;x-signature=KSg9BgwpIThZ%2FwYM4A1KfK3KMaY%3D" alt="image.png" loading="lazy"/>
è¿”å›ç»“æœæ˜¯æ‰¾ä¸åˆ°<code>node</code>å‘½ä»¤ï¼Œè¯´æ˜æ²¡æœ‰å®‰è£…<code>NodeJS</code></p>
<h2 data-id="heading-1">2ã€å®‰è£…å’Œé…ç½®</h2>
<p>åœ¨ Deepin Linux ä¸Šï¼Œ<strong>å¼ºçƒˆæ¨èä½¿ç”¨ <code>nvm</code> (Node Version Manager) æ¥å®‰è£…å’Œç®¡ç† Node.js</strong>ã€‚è¿™æ˜¯æœ€çµæ´»ä¸”è¢«ç¤¾åŒºå¹¿æ³›é‡‡ç”¨çš„æ–¹æ³•ï¼Œèƒ½è½»æ¾å®‰è£…æœ€æ–°é•¿æœŸæ”¯æŒï¼ˆLTSï¼‰ç‰ˆæœ¬ã€‚</p>
<h4 data-id="heading-2">ğŸ› ï¸ æ¨èæ–¹æ³•ï¼šä½¿ç”¨ nvmï¼ˆNodeç‰ˆæœ¬ç®¡ç†å™¨ï¼‰</h4>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿</strong>ï¼šå¯ä»¥å®‰è£…å¤šä¸ªNodeç‰ˆæœ¬å¹¶è½»æ¾åˆ‡æ¢ï¼Œæ— éœ€<code>sudo</code>æƒé™ï¼Œå®Œå…¨ç‹¬ç«‹äºç³»ç»ŸåŒ…ç®¡ç†å™¨ã€‚</p>
<ol>
<li>
<p><strong>å®‰è£… nvm</strong>
åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… nvmï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.4/install.sh | bash
</code></pre>
<p>å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨å°†nvmæ·»åŠ åˆ°ä½ çš„shellé…ç½®æ–‡ä»¶ï¼ˆå¦‚<code>~/.bashrc</code>æˆ–<code>~/.zshrc</code>ï¼‰ä¸­ã€‚
å¯èƒ½ä¼šå®‰è£…å¤±è´¥ï¼Œå¦‚ä¸‹</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf0929f4470f450697fb1f0e6ec05147~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_55m955qE55m95pel5qKm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791412&amp;x-signature=Vtb1yLvkdnuLfUkrpkSnjHWi5Ho%3D" alt="image.png" loading="lazy"/>
è¯·ä½¿ç”¨å›½å†…çš„æºï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">curl -o- <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/gitee.com/mirrors</span><span class="hljs-regexp">/nvm/raw</span><span class="hljs-regexp">/v0.40.4/install</span>.sh |<span class="hljs-params"> bash
</span></code></pre>
</li>
<li>
<p><strong>åŠ è½½ nvm</strong>
å…³é—­å½“å‰ç»ˆç«¯ï¼Œé‡æ–°æ‰“å¼€ä¸€ä¸ªæ–°ç»ˆç«¯ã€‚æˆ–è€…ç«‹å³è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">source</span> ~/.bashrc
<span class="hljs-comment"># æˆ–è€…ï¼Œå¦‚æœä½ ä½¿ç”¨Zshï¼š</span>
<span class="hljs-comment"># source ~/.zshrc</span>
</code></pre>
<p>å®‰è£…æˆåŠŸåï¼Œé‡å¼€ç»ˆç«¯ï¼Œè¿è¡Œå¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦æˆåŠŸï¼š
nvm --version
å‡ºç°ç‰ˆæœ¬å·åè¯´æ˜å®‰è£…æˆåŠŸã€‚</p>
</li>
<li>
<p><strong>ä½¿ç”¨ nvm å®‰è£… Node.js æœ€æ–°LTSç‰ˆ</strong>
è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…æœ€æ–°çš„é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">nvm install --lts
</code></pre>
<p>å¦‚æœä½ æƒ³å®‰è£…<strong>æœ€æ–°çš„ç¨³å®šç‰ˆæœ¬</strong>ï¼ˆéLTSï¼‰ï¼Œå¯ä»¥è¿è¡Œ <code>nvm install node</code>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61ee6cf6ce9446aaa7a75935dd2887d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_55m955qE55m95pel5qKm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791412&amp;x-signature=EaV5upcQQGGHfq8GML8QvzWPpt8%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p><strong>éªŒè¯å®‰è£…</strong>
å®‰è£…å®Œæˆåï¼ŒéªŒè¯ç‰ˆæœ¬ä»¥ç¡®è®¤å®‰è£…æˆåŠŸï¼š</p>
<pre><code class="hljs language-bash" lang="bash">node --version
npm --version
</code></pre>
</li>
</ol>
<h4 data-id="heading-3">âš™ï¸ å®‰è£…åè®¾ç½®ï¼ˆå¯é€‰ä½†å»ºè®®ï¼‰</h4>
<ol>
<li><strong>è®¾ç½®npmå›½å†…é•œåƒæº</strong>ï¼šå¯ä»¥æ˜¾è‘—æå‡åŒ…ä¸‹è½½é€Ÿåº¦ã€‚
<pre><code class="hljs language-bash" lang="bash">npm config <span class="hljs-built_in">set</span> registry https://registry.npmmirror.com
</code></pre>
</li>
<li><strong>å…¨å±€å®‰è£…åŒ…è·¯å¾„</strong>ï¼šå¦‚æœä½ é‡åˆ°æƒé™é—®é¢˜ï¼Œå¯ä»¥ä¸ºnpmé…ç½®ä¸€ä¸ªç”¨æˆ·çº§ç›®å½•ã€‚
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> ~/.npm-global
npm config <span class="hljs-built_in">set</span> prefix <span class="hljs-string">'~/.npm-global'</span>
</code></pre>
ç„¶åï¼Œå°† <code>export PATH=~/.npm-global/bin:$PATH</code> æ·»åŠ åˆ°ä½ çš„ <code>~/.bashrc</code> æˆ– <code>~/.zshrc</code> æ–‡ä»¶ä¸­ï¼Œå¹¶è¿è¡Œ <code>source ~/.bashrc</code> ä½¿å…¶ç”Ÿæ•ˆã€‚</li>
</ol>
<h4 data-id="heading-4">æ€»ç»“å»ºè®®</h4>
<blockquote>
<p>å¯¹äºç»å¤§å¤šæ•°ç”¨æˆ·ï¼Œä½¿ç”¨ <strong>nvm</strong> æ˜¯å®‰è£…å’Œåˆ‡æ¢Node.jsç‰ˆæœ¬çš„æœ€ä½³é€‰æ‹©ã€‚å®ƒå¹²å‡€ã€å¯æ§ï¼Œå¹¶ä¸”å®Œç¾æ”¯æŒDeepinç³»ç»Ÿã€‚</p>
</blockquote>
<p>5ã€è¿˜å»ºè®®å¤§å®¶ä½¿ç”¨<code>nrm</code>æ¥ç®¡ç†æˆ‘ä»¬çš„<code>npm</code>çš„ç‰ˆæœ¬ï¼Œè¿™æ ·ç‰¹åˆ«æ–¹ä¾¿æˆ‘ä»¬çš„å¼€å‘</p>
<pre><code class="hljs language-js" lang="js">npm i nrm -g
</code></pre>
<blockquote>
<p>å®‰è£…ä¹‹åï¼Œå¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</p>
</blockquote>
<pre><code class="hljs language-js" lang="js">nrm ls
</code></pre>
<p>å¦‚æœç»“æœå¦‚ä¸‹åˆ™è¯æ˜å®‰è£…æˆåŠŸï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/684dcf33cba2498595cef0dcf9833fe7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_55m955qE55m95pel5qKm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791412&amp;x-signature=aQRlOzmZq3ZsfXk3SUNJZnYk3Sg%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Tauri å®¢æˆ·ç«¯å¿«é€Ÿä¸Šæ‰‹æŒ‡å—ï¼ˆRust å¤šç‰ˆæœ¬ç®¡ç†ï¼‰]]></title>    <link>https://juejin.cn/post/7602544700475752458</link>    <guid>https://juejin.cn/post/7602544700475752458</guid>    <pubDate>2026-02-04T06:29:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602544700475752458" data-draft-id="7600060708932780042" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Tauri å®¢æˆ·ç«¯å¿«é€Ÿä¸Šæ‰‹æŒ‡å—ï¼ˆRust å¤šç‰ˆæœ¬ç®¡ç†ï¼‰"/> <meta itemprop="keywords" content="Rust"/> <meta itemprop="datePublished" content="2026-02-04T06:29:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¡å°”ç‰¹æ–¯"/> <meta itemprop="url" content="https://juejin.cn/user/4450440831840909"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Tauri å®¢æˆ·ç«¯å¿«é€Ÿä¸Šæ‰‹æŒ‡å—ï¼ˆRust å¤šç‰ˆæœ¬ç®¡ç†ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4450440831840909/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¡å°”ç‰¹æ–¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:29:50.000Z" title="Wed Feb 04 2026 06:29:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Tauri å¿«é€Ÿä¸Šæ‰‹æŒ‡å—</h2>
<h3 data-id="heading-1">ä¸€ã€ç¯å¢ƒå®‰è£…</h3>
<blockquote>
<p>âš ï¸ Tauri éœ€è¦ <strong>Rust</strong> å’Œ <strong>Node.js</strong> ä¸¤ä¸ªè¿è¡Œç¯å¢ƒï¼Œè¯·åˆ†åˆ«å®‰è£…ã€‚</p>
</blockquote>
<p><strong>1. Rust</strong></p>
<p>è§ <a href="https://link.juejin.cn?target=https%3A%2F%2Frust-lang.org%2F" target="_blank" title="https://rust-lang.org/" ref="nofollow noopener noreferrer">Rust å®˜ç½‘å®‰è£…æ–‡æ¡£</a>ã€‚</p>
<p><strong>2. Node.js</strong></p>
<p>è§ <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fzz00008888%2Farticle%2Fdetails%2F119934444" target="_blank" title="https://blog.csdn.net/zz00008888/article/details/119934444" ref="nofollow noopener noreferrer">Node.js å®‰è£…é…ç½®æŒ‡å—</a>ã€‚</p>
<hr/>
<h4 data-id="heading-2">rustup å¸¸ç”¨å‘½ä»¤ï¼ˆRust ç‰ˆæœ¬ç®¡ç†ï¼‰</h4>





























<table><thead><tr><th>æ“ä½œ</th><th>å‘½ä»¤</th></tr></thead><tbody><tr><td>å·²å®‰è£…ç‰ˆæœ¬</td><td><code>rustup toolchain list</code></td></tr><tr><td>æ›´æ–°</td><td><code>rustup update</code></td></tr><tr><td>å®‰è£…ç‰ˆæœ¬</td><td><code>rustup install stable</code> / <code>nightly</code> / <code>1.75.0</code></td></tr><tr><td>é»˜è®¤ç‰ˆæœ¬</td><td><code>rustup default stable</code></td></tr><tr><td>å¸è½½</td><td><code>rustup uninstall nightly</code></td></tr></tbody></table>
<p>é¡¹ç›®å†…å›ºå®šç‰ˆæœ¬ï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•å»º <code>rust-toolchain.toml</code>ï¼Œå†…å®¹ï¼š<code>channel = "stable"</code>ï¼ˆæˆ–å…·ä½“ç‰ˆæœ¬å·ï¼‰ï¼Œè¿›å…¥è¯¥ç›®å½•ä¼šè‡ªåŠ¨ç”¨è¯¥ç‰ˆæœ¬ã€‚<br/>
å¯å®‰è£…ç‰ˆæœ¬åˆ—è¡¨è§ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fstatic.rust-lang.org%2Fdist%2F" target="_blank" title="https://static.rust-lang.org/dist/" ref="nofollow noopener noreferrer">static.rust-lang.org/dist/</a>ã€‚</p>
<hr/>
<h4 data-id="heading-3">éªŒè¯å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash">rustc --version
cargo --version
node --version
npm --version
</code></pre>
<hr/>
<h3 data-id="heading-4">äºŒã€åˆ›å»ºé¡¹ç›®</h3>
<pre><code class="hljs language-bash" lang="bash">npm create tauri-app@latest
</code></pre>
<p>æŒ‰æç¤ºä¾æ¬¡é€‰æ‹©é…ç½®é¡¹ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">âœ” Project name Â· tauri-app                    <span class="hljs-comment"># é¡¹ç›®åç§°</span>
âœ” Identifier Â· com.dengzemiao.tauri-app       <span class="hljs-comment"># åº”ç”¨æ ‡è¯†ç¬¦ï¼ˆåå‘åŸŸåæ ¼å¼ï¼‰</span>
âœ” Choose which language to <span class="hljs-keyword">use</span> <span class="hljs-keyword">for</span> your frontend Â· TypeScript / JavaScript
âœ” Choose your <span class="hljs-keyword">package</span> manager Â· npm           <span class="hljs-comment"># åŒ…ç®¡ç†å™¨ï¼špnpm/yarn/npm/deno/bun</span>
âœ” Choose your UI template Â· Vue               <span class="hljs-comment"># UI æ¨¡æ¿ï¼šVanilla/Vue/React/Svelte ç­‰</span>
âœ” Choose your UI flavor Â· TypeScript          <span class="hljs-comment"># è¯­è¨€é£æ ¼ï¼šTypeScript/JavaScript</span>
</code></pre>
<p>åˆ›å»ºå®Œæˆåè¿›å…¥é¡¹ç›®å¹¶å®‰è£…ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> tauri-app
npm install
</code></pre>
<p><strong>åˆå§‹åŒ–ç§»åŠ¨ç«¯æ”¯æŒï¼ˆå¯é€‰ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">npm run tauri android init   <span class="hljs-comment"># Android åˆå§‹åŒ–</span>
npm run tauri ios init       <span class="hljs-comment"># iOS åˆå§‹åŒ–</span>
</code></pre>
<p><strong>è¿è¡Œé¡¹ç›®ï¼š</strong></p>





















<table><thead><tr><th>å¹³å°</th><th>å‘½ä»¤</th></tr></thead><tbody><tr><td>æ¡Œé¢ç«¯å¼€å‘</td><td><code>npm run tauri dev</code></td></tr><tr><td>Android å¼€å‘</td><td><code>npm run tauri android dev</code></td></tr><tr><td>iOS å¼€å‘</td><td><code>npm run tauri ios dev</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-5">ä¸‰ã€Hello World ä¸è¿è¡Œ</h3>
<p>ç¼–è¾‘ <code>src/index.html</code>ï¼ˆVanilla æ¨¡æ¿ï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>My App<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">display</span>: flex; <span class="hljs-attribute">justify-content</span>: center; <span class="hljs-attribute">align-items</span>: center; <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">font-family</span>: sans-serif; }
    <span class="hljs-selector-tag">h1</span> { <span class="hljs-attribute">font-size</span>: <span class="hljs-number">3rem</span>; }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>ä½ å¥½ï¼Œä¸–ç•Œï¼<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>å¼€å‘è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm run tauri dev
</code></pre>
<hr/>
<h3 data-id="heading-6">å››ã€é¡¹ç›®åç§°ä¸å›¾æ ‡</h3>
<p>ç¼–è¾‘ <code>src-tauri/tauri.conf.json</code>ï¼šæ”¹ <code>productName</code>ã€<code>identifier</code>ã€<code>app.windows[0].title</code> ç­‰ã€‚</p>
<p>å›¾æ ‡ï¼šå‡†å¤‡ 1024Ã—1024 PNGï¼Œæ”¾åˆ° <code>src-tauri/icons/icon.png</code>ï¼Œæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm run tauri icon src-tauri/icons/icon.png
</code></pre>
<hr/>
<h3 data-id="heading-7">äº”ã€æ‰“åŒ…</h3>
<blockquote>
<p>âš ï¸ Tauri <strong>ä¸æ”¯æŒäº¤å‰ç¼–è¯‘</strong>ï¼Œåªèƒ½åœ¨å¯¹åº”å¹³å°æ‰“å¯¹åº”å¹³å°çš„åŒ…ã€‚</p>
</blockquote>
<h4 data-id="heading-8">é€šç”¨æ‰“åŒ…å‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash">npm run tauri build
</code></pre>
<h4 data-id="heading-9">å„å¹³å°æ‰“åŒ…è¯´æ˜</h4>





























<table><thead><tr><th>å¹³å°</th><th>æ‰“åŒ…ç¯å¢ƒè¦æ±‚</th><th>äº§ç‰©è·¯å¾„</th><th>äº§ç‰©æ ¼å¼</th></tr></thead><tbody><tr><td>macOS</td><td>éœ€åœ¨ macOS ç³»ç»Ÿæ‰§è¡Œ</td><td><code>src-tauri/target/release/bundle/dmg/</code></td><td><code>.dmg</code></td></tr><tr><td>Windows</td><td>éœ€åœ¨ Windows ç³»ç»Ÿæ‰§è¡Œ</td><td><code>src-tauri/target/release/bundle/msi/</code></td><td><code>.msi</code> / <code>.exe</code></td></tr><tr><td>Linux</td><td>éœ€åœ¨ Linux ç³»ç»Ÿæ‰§è¡Œ</td><td><code>src-tauri/target/release/bundle/deb/</code></td><td><code>.deb</code> / <code>.AppImage</code></td></tr></tbody></table>
<h4 data-id="heading-10">å¤šå¹³å°æ‰“åŒ…æ–¹æ¡ˆ</h4>
<p>å¦‚éœ€åŒæ—¶æ‰“åŒ…å¤šä¸ªå¹³å°ï¼Œæ¨èä½¿ç”¨ <strong>GitHub Actions</strong> è¿›è¡Œ CI/CD è‡ªåŠ¨æ„å»ºï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># .github/workflows/release.yml</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">Release</span>
<span class="hljs-attr">on:</span>
  <span class="hljs-attr">push:</span>
    <span class="hljs-attr">tags:</span> [<span class="hljs-string">'v*'</span>]

<span class="hljs-attr">jobs:</span>
  <span class="hljs-attr">build:</span>
    <span class="hljs-attr">strategy:</span>
      <span class="hljs-attr">matrix:</span>
        <span class="hljs-attr">include:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">macos-latest</span>    <span class="hljs-comment"># macOS æ‰“åŒ…</span>
            <span class="hljs-attr">args:</span> <span class="hljs-string">--target</span> <span class="hljs-string">universal-apple-darwin</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">windows-latest</span>  <span class="hljs-comment"># Windows æ‰“åŒ…</span>
            <span class="hljs-attr">args:</span> <span class="hljs-string">''</span>
          <span class="hljs-bullet">-</span> <span class="hljs-attr">platform:</span> <span class="hljs-string">ubuntu-latest</span>   <span class="hljs-comment"># Linux æ‰“åŒ…</span>
            <span class="hljs-attr">args:</span> <span class="hljs-string">''</span>
    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">${{</span> <span class="hljs-string">matrix.platform</span> <span class="hljs-string">}}</span>
    <span class="hljs-attr">steps:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/checkout@v4</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">actions/setup-node@v4</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">node-version:</span> <span class="hljs-number">20</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">dtolnay/rust-action@stable</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">run:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">tauri-apps/tauri-action@v0</span>
        <span class="hljs-attr">with:</span>
          <span class="hljs-attr">args:</span> <span class="hljs-string">${{</span> <span class="hljs-string">matrix.args</span> <span class="hljs-string">}}</span>
</code></pre>
<blockquote>
<p>ğŸ’¡ æç¤ºï¼šåœ¨æœ¬åœ°å¼€å‘æ—¶ï¼Œç›´æ¥è¿è¡Œ <code>npm run tauri build</code> å³å¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ‰“åŒ…å½“å‰å¹³å°çš„å®‰è£…åŒ…ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-11">å…­ã€å¸¸ç”¨å‘½ä»¤</h3>
<h4 data-id="heading-12">å¼€å‘è°ƒè¯•</h4>





















<table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>npm run tauri dev</code></td><td>æ¡Œé¢ç«¯å¼€å‘è¿è¡Œ</td></tr><tr><td><code>npm run tauri android dev</code></td><td>Android å¼€å‘è¿è¡Œ</td></tr><tr><td><code>npm run tauri ios dev</code></td><td>iOS å¼€å‘è¿è¡Œ</td></tr></tbody></table>
<h4 data-id="heading-13">æ‰“åŒ…æ„å»º</h4>



































<table><thead><tr><th>å‘½ä»¤</th><th>å¹³å°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>npm run tauri build</code></td><td>macOS</td><td>åœ¨ macOS ä¸Šæ‰§è¡Œï¼Œç”Ÿæˆ <code>.dmg</code></td></tr><tr><td><code>npm run tauri build</code></td><td>Windows</td><td>åœ¨ Windows ä¸Šæ‰§è¡Œï¼Œç”Ÿæˆ <code>.msi</code> / <code>.exe</code></td></tr><tr><td><code>npm run tauri build</code></td><td>Linux</td><td>åœ¨ Linux ä¸Šæ‰§è¡Œï¼Œç”Ÿæˆ <code>.deb</code> / <code>.AppImage</code></td></tr><tr><td><code>npm run tauri android build</code></td><td>Android</td><td>æ‰“åŒ… Android APK</td></tr><tr><td><code>npm run tauri ios build</code></td><td>iOS</td><td>æ‰“åŒ… iOS IPA</td></tr></tbody></table>
<h4 data-id="heading-14">å…¶ä»–å‘½ä»¤</h4>

















<table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>npm run tauri icon &lt;path&gt;</code></td><td>ä»å›¾ç‰‡ç”Ÿæˆå„å¹³å°å›¾æ ‡</td></tr><tr><td><code>cargo tauri info</code></td><td>æŸ¥çœ‹ç¯å¢ƒä¿¡æ¯</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-15">ä¸ƒã€ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-css" lang="css">&lt;é¡¹ç›®å&gt;/
â”œâ”€â”€ <span class="hljs-attribute">src</span>/                 # å‰ç«¯
â”œâ”€â”€ <span class="hljs-attribute">src</span>-tauri/           # Tauri/Rust
â”‚   â”œâ”€â”€ icons/
â”‚   â”œâ”€â”€ <span class="hljs-attribute">src</span>/<span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.rs</span>
â”‚   â”œâ”€â”€ Cargo<span class="hljs-selector-class">.toml</span>
â”‚   â””â”€â”€ tauri<span class="hljs-selector-class">.conf</span><span class="hljs-selector-class">.json</span>
â””â”€â”€ package<span class="hljs-selector-class">.json</span>
</code></pre>
<hr/>
<h3 data-id="heading-16">å¸¸è§é—®é¢˜</h3>
<p><strong>é¦–æ¬¡ç¼–è¯‘å¾ˆæ…¢ï¼Ÿ</strong><br/>
æ­£å¸¸ï¼ŒRust é¦–æ¬¡ä¼šæ‹‰ä¾èµ–å¹¶ç¼–è¯‘ï¼Œä¹‹åä¼šå¿«å¾ˆå¤šã€‚</p>
<p><strong>macOS æ‰“åŒ…ç­¾åæŠ¥é”™ï¼Ÿ</strong><br/>
å¼€å‘æµ‹è¯•å¯åœ¨ <code>tauri.conf.json</code> çš„ <code>bundle</code> é‡Œè®¾ <code>"macOS": { "signingIdentity": null }</code>ã€‚</p>
<p><strong>å¦‚ä½•è°ƒè¯•ï¼Ÿ</strong><br/>
å¼€å‘æ¨¡å¼ä¸‹çª—å£å†…å³é”® â†’ æ£€æŸ¥å…ƒç´ ï¼Œå¯å¼€ DevToolsã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[prina-pre-commit-checkï¼ˆåŸºäºGLM-4.7ã€huskyï¼‰ å‰ç«¯æäº¤ä»£ç æ£€æŸ¥æ’ä»¶]]></title>    <link>https://juejin.cn/post/7602554905270272000</link>    <guid>https://juejin.cn/post/7602554905270272000</guid>    <pubDate>2026-02-04T06:21:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602554905270272000" data-draft-id="7602562585099255842" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="prina-pre-commit-checkï¼ˆåŸºäºGLM-4.7ã€huskyï¼‰ å‰ç«¯æäº¤ä»£ç æ£€æŸ¥æ’ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯,ä»£ç è§„èŒƒ"/> <meta itemprop="datePublished" content="2026-02-04T06:21:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹¯æ•‘æŠ˜è€³æ ¹"/> <meta itemprop="url" content="https://juejin.cn/user/3452944152265597"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            prina-pre-commit-checkï¼ˆåŸºäºGLM-4.7ã€huskyï¼‰ å‰ç«¯æäº¤ä»£ç æ£€æŸ¥æ’ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3452944152265597/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹¯æ•‘æŠ˜è€³æ ¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:21:14.000Z" title="Wed Feb 04 2026 06:21:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸš€ å‘Šåˆ«ä»£ç å®¡æŸ¥çƒ¦æ¼ï¼AI é©±åŠ¨çš„ Git Pre-Commit ä»£ç æ£€æŸ¥å·¥å…·</h2>
<blockquote>
<p><strong>è®© AI æˆä¸ºä½ çš„ä»£ç å®¡æŸ¥åŠ©æ‰‹ï¼Œåœ¨æäº¤å‰è‡ªåŠ¨å‘ç°å¸¸è§é—®é¢˜ï¼Œæå‡ä»£ç è´¨é‡ï¼Œå‡å°‘ Code Review æ—¶é—´ï¼</strong></p>
</blockquote>
<h3 data-id="heading-1">ğŸ’¡ ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªå·¥å…·ï¼Ÿ</h3>
<p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œä½ æ˜¯å¦é‡åˆ°è¿‡è¿™äº›é—®é¢˜ï¼š</p>
<ul>
<li>âŒ <strong>æäº¤ä»£ç åæ‰å‘ç°</strong>ï¼šæŒ‰é’®æ²¡æœ‰é˜²é‡å¤æäº¤ï¼Œç”¨æˆ·ç–¯ç‹‚ç‚¹å‡»å¯¼è‡´é‡å¤è¯·æ±‚</li>
<li>âŒ <strong>Code Review æ—¶æ‰å‘ç°</strong>ï¼šé¡µé¢åˆå§‹åŒ–ç¼ºå°‘ loading çŠ¶æ€ï¼Œç”¨æˆ·ä½“éªŒä¸ä½³</li>
<li>âŒ <strong>ä¸Šçº¿åæ‰å‘ç°</strong>ï¼šæ¥å£æ“ä½œæˆåŠŸæ²¡æœ‰æç¤ºï¼Œç”¨æˆ·ä¸çŸ¥é“æ“ä½œæ˜¯å¦æˆåŠŸ</li>
<li>âŒ <strong>æµ‹è¯•æ—¶æ‰å‘ç°</strong>ï¼šåˆ—è¡¨æ²¡æœ‰ç©ºçŠ¶æ€å¤„ç†ï¼Œç©ºæ•°æ®æ—¶é¡µé¢æ˜¾ç¤ºå¼‚å¸¸</li>
</ul>
<p><strong>è¿™äº›é—®é¢˜ä¸ä»…å½±å“ç”¨æˆ·ä½“éªŒï¼Œè¿˜ä¼šå¢åŠ  Code Review çš„å·¥ä½œé‡ï¼Œç”šè‡³å¯èƒ½å¯¼è‡´çº¿ä¸Šé—®é¢˜ï¼</strong></p>
<p>ç°åœ¨ï¼Œæœ‰äº† <code>prina-pre-commit-check</code>ï¼Œè¿™äº›é—®é¢˜éƒ½å¯ä»¥åœ¨ä»£ç æäº¤å‰è¢«è‡ªåŠ¨å‘ç°å¹¶ä¿®å¤ï¼</p>
<h3 data-id="heading-2">âœ¨ æ ¸å¿ƒç‰¹æ€§</h3>
<h4 data-id="heading-3">ğŸ¤– AI æ™ºèƒ½æ£€æŸ¥</h4>
<ul>
<li>åŸºäº <strong>æ™ºæ™®AI API</strong> è¿›è¡Œä»£ç æ™ºèƒ½åˆ†æ</li>
<li><strong>å®æ—¶æ˜¾ç¤º AI åˆ†æè¿‡ç¨‹</strong>ï¼Œå¸®åŠ©ä½ ç†è§£æ£€æŸ¥é€»è¾‘</li>
<li>ä¸ä»…æ£€æŸ¥è¯­æ³•ï¼Œæ›´ç†è§£ä»£ç è¯­ä¹‰å’Œä¸šåŠ¡é€»è¾‘</li>
</ul>
<h4 data-id="heading-4">ğŸ“‹ 6 å¤§æ ¸å¿ƒè§„åˆ™</h4>
<ol>
<li><strong>é˜²é‡å¤æäº¤æ£€æŸ¥</strong> - ç¡®ä¿æŒ‰é’®ç‚¹å‡»åä¸ä¼šé‡å¤è°ƒç”¨æ¥å£</li>
<li><strong>Loading çŠ¶æ€æ£€æŸ¥</strong> - ç¡®ä¿é¡µé¢åˆå§‹åŒ–æ—¶æœ‰ loading æç¤º</li>
<li><strong>è½»æç¤ºæ£€æŸ¥</strong> - ç¡®ä¿æ¥å£æ“ä½œæˆåŠŸåæœ‰ç”¨æˆ·æç¤º</li>
<li><strong>ç©ºçŠ¶æ€æ£€æŸ¥</strong> - ç¡®ä¿åˆ—è¡¨æœ‰ç©ºçŠ¶æ€å¤„ç†</li>
<li><strong>è¡¨å•æç¤ºæ£€æŸ¥</strong> - ç¡®ä¿è¡¨å•è¾“å…¥é¡¹æœ‰ placeholder</li>
<li><strong>ç»„ä»¶è§„èŒƒæ£€æŸ¥</strong> - ç¡®ä¿ç‰¹å®šç»„ä»¶ä½¿ç”¨ç¬¦åˆè§„èŒƒ</li>
</ol>
<h4 data-id="heading-5">ğŸ¯ çµæ´»é…ç½®</h4>
<ul>
<li>âœ… <strong>åŠ¨æ€è§„åˆ™æ”¯æŒ</strong> - æ”¯æŒæ·»åŠ è‡ªå®šä¹‰è§„åˆ™ï¼ˆrule7, rule8...ï¼‰</li>
<li>âœ… <strong>è§„åˆ™å¼€å…³</strong> - å¯ä»¥çµæ´»å¯ç”¨/ç¦ç”¨ä»»æ„è§„åˆ™</li>
<li>âœ… <strong>è‡ªå®šä¹‰æè¿°</strong> - æ¯ä¸ªè§„åˆ™éƒ½å¯ä»¥è‡ªå®šä¹‰åç§°å’Œè¯¦ç»†æè¿°</li>
</ul>
<h4 data-id="heading-6">âš¡ é›¶é…ç½®å¯åŠ¨</h4>
<ul>
<li>å®‰è£…åè‡ªåŠ¨é…ç½® Git Hook</li>
<li>è‡ªåŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶</li>
<li>å¼€ç®±å³ç”¨ï¼Œæ— éœ€å¤æ‚è®¾ç½®</li>
</ul>
<h3 data-id="heading-7">ğŸ¬ å¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-8">1. å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash">npm install prina-pre-commit-check --save-dev
<span class="hljs-comment"># æˆ–</span>
yarn add prina-pre-commit-check -D
</code></pre>
<h4 data-id="heading-9">2. é…ç½® API Key</h4>
<p>è®¾ç½®æ™ºæ™®AI API Keyï¼ˆäºŒé€‰ä¸€ï¼‰ï¼š</p>
<p><strong>æ–¹å¼ä¸€ï¼šç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Windows (PowerShell)</span>
<span class="hljs-variable">$env</span>:ZHIPUAI_API_KEY=<span class="hljs-string">"your_api_key_here"</span>

<span class="hljs-comment"># Linux/Mac</span>
<span class="hljs-built_in">export</span> ZHIPUAI_API_KEY=<span class="hljs-string">"your_api_key_here"</span>
</code></pre>
<p><strong>æ–¹å¼äºŒï¼šé…ç½®æ–‡ä»¶</strong>
ç¼–è¾‘ <code>commit-check.config.js</code> æ–‡ä»¶ä¸­çš„ <code>global.apiKey</code></p>
<h4 data-id="heading-10">3. å¼€å§‹ä½¿ç”¨</h4>
<p>å°±è¿™ä¹ˆç®€å•ï¼æ¯æ¬¡æ‰§è¡Œ <code>git commit</code> æ—¶ï¼Œå·¥å…·ä¼šè‡ªåŠ¨æ£€æŸ¥ä½ çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git add .
git commit -m <span class="hljs-string">"feat: æ·»åŠ æ–°åŠŸèƒ½"</span>
</code></pre>
<p>å¦‚æœä»£ç ä¸ç¬¦åˆè§„èŒƒï¼Œæäº¤ä¼šè¢«æ‹¦æˆªï¼Œå¹¶æ˜¾ç¤ºè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œä¿®å¤å»ºè®®ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">âŒ ä»£ç æ£€æŸ¥æœªé€šè¿‡ï¼Œå‘ç°ä»¥ä¸‹é—®é¢˜ï¼š

ã€è§„åˆ™ <span class="hljs-number">1</span> ä¸é€šè¿‡ã€‘- é˜²é‡å¤æäº¤ç¼ºå¤±
  æ–‡ä»¶ï¼šfile:<span class="hljs-regexp">//</span><span class="hljs-regexp">/D:/pr</span>oject/src/components/Button.vue:<span class="hljs-number">25</span>
  åŸå› ï¼šæŒ‰é’®ç‚¹å‡»åè°ƒç”¨æ¥å£ï¼Œä½†æœªå®ç°é˜²é‡å¤æäº¤
  å»ºè®®ï¼šåœ¨æŒ‰é’®ç‚¹å‡»åè®¾ç½® loading æˆ– disabled çŠ¶æ€

ã€è§„åˆ™ <span class="hljs-number">3</span> ä¸é€šè¿‡ã€‘- æ¥å£æ“ä½œæˆåŠŸåç¼ºå¤±è½»æç¤º
  æ–‡ä»¶ï¼šfile:<span class="hljs-regexp">//</span><span class="hljs-regexp">/D:/pr</span>oject/src/components/Form.vue:<span class="hljs-number">42</span>
  åŸå› ï¼šæ¥å£æˆåŠŸåæœªè°ƒç”¨è½»æç¤ºæ–¹æ³•
  å»ºè®®ï¼šåœ¨æ¥å£æˆåŠŸåè°ƒç”¨ message.success() æç¤ºç”¨æˆ·
</code></pre>
<h3 data-id="heading-11">ğŸ¨ å®é™…åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-12">åœºæ™¯ä¸€ï¼šé˜²æ­¢é‡å¤æäº¤</h4>
<p><strong>é—®é¢˜ä»£ç ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">createUser</span>(data); <span class="hljs-comment">// æ²¡æœ‰é˜²é‡å¤æäº¤</span>
};
</code></pre>
<p><strong>å·¥å…·æ£€æµ‹ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">è§„åˆ™<span class="hljs-number">1</span>ï¼šä¸é€šè¿‡
åŸå› ï¼šæŒ‰é’®ç‚¹å‡»åè°ƒç”¨æ¥å£ï¼Œä½†æœªå®ç°é˜²é‡å¤æäº¤
å»ºè®®ï¼šåœ¨æŒ‰é’®ç‚¹å‡»åè®¾ç½® loading æˆ– disabled çŠ¶æ€
</code></pre>
<p><strong>ä¿®å¤åï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSubmit</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (loading) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// é˜²æ­¢é‡å¤æäº¤</span>
  <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">createUser</span>(data);
    message.<span class="hljs-title function_">success</span>(<span class="hljs-string">'åˆ›å»ºæˆåŠŸ'</span>);
  } <span class="hljs-keyword">finally</span> {
    <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
  }
};
</code></pre>
<h4 data-id="heading-13">åœºæ™¯äºŒï¼šç¡®ä¿ç”¨æˆ·ä½“éªŒ</h4>
<p><strong>é—®é¢˜ä»£ç ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">fetchData</span>(); <span class="hljs-comment">// æ²¡æœ‰ loading çŠ¶æ€</span>
}, []);
</code></pre>
<p><strong>å·¥å…·æ£€æµ‹ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">è§„åˆ™<span class="hljs-number">2</span>ï¼šä¸é€šè¿‡
åŸå› ï¼šé¡µé¢åˆå§‹åŒ–æ—¶è°ƒç”¨æ¥å£ï¼Œä½†æœªè®¾ç½® loading çŠ¶æ€
å»ºè®®ï¼šåœ¨æ¥å£è°ƒç”¨å‰è®¾ç½® loading ä¸º <span class="hljs-literal">true</span>ï¼Œæ¥å£è¿”å›åè®¾ç½®ä¸º <span class="hljs-literal">false</span>
</code></pre>
<p><strong>ä¿®å¤åï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);

<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">loadData</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">true</span>);
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchData</span>();
    <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
  };
  <span class="hljs-title function_">loadData</span>();
}, []);
</code></pre>
<h3 data-id="heading-14">ğŸ”§ è‡ªå®šä¹‰è§„åˆ™</h3>
<p>å·¥å…·æ”¯æŒæ·»åŠ è‡ªå®šä¹‰è§„åˆ™ï¼Œæ»¡è¶³å›¢é˜Ÿç‰¹å®šçš„ä»£ç è§„èŒƒï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// commit-check.config.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">// ... å…¶ä»–è§„åˆ™</span>

  <span class="hljs-comment">// è‡ªå®šä¹‰è§„åˆ™ï¼šç¡®ä¿æ‰€æœ‰ API è°ƒç”¨éƒ½æœ‰é”™è¯¯å¤„ç†</span>
  <span class="hljs-attr">rule7</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'API è°ƒç”¨ç¼ºå°‘é”™è¯¯å¤„ç†'</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">`è§„åˆ™7ï¼šAPI è°ƒç”¨é”™è¯¯å¤„ç†æ£€æŸ¥

æ£€æŸ¥æ¡ä»¶ï¼šä»£ç ä¸­å­˜åœ¨ API è°ƒç”¨ï¼ˆå¦‚ fetchã€axiosã€request ç­‰ï¼‰ã€‚

åˆ¤æ–­æ ‡å‡†ï¼š
- API è°ƒç”¨å¿…é¡»åŒ…å« try-catch æˆ– .catch() é”™è¯¯å¤„ç†
- é”™è¯¯å¤„ç†ä¸­åº”è¯¥æœ‰ç”¨æˆ·æç¤ºæˆ–æ—¥å¿—è®°å½•

æ³¨æ„ï¼šå¦‚æœ API è°ƒç”¨åœ¨å·²åŒ…å«é”™è¯¯å¤„ç†çš„å‡½æ•°ä¸­ï¼Œåˆ™æ— éœ€æ£€æŸ¥ã€‚`</span>,
    <span class="hljs-attr">enabled</span>: <span class="hljs-literal">true</span>,
  },
};
</code></pre>
<h3 data-id="heading-15">ğŸ“Š å·¥ä½œæµç¨‹</h3>
<pre><code class="hljs language-markdown" lang="markdown">å¼€å‘è€…æäº¤ä»£ç 
<span class="hljs-code">    â†“
è§¦å‘ pre-commit hook
    â†“
AI æ™ºèƒ½åˆ†æä»£ç 
    â†“
å®æ—¶æ˜¾ç¤ºåˆ†æè¿‡ç¨‹
    â†“
æ£€æŸ¥ç»“æœ
    â”œâ”€ é€šè¿‡ â†’ å…è®¸æäº¤ âœ…
    â””â”€ ä¸é€šè¿‡ â†’ æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œé˜»æ­¢æäº¤ âŒ
</span></code></pre>
<h3 data-id="heading-16">ğŸ’ª æ ¸å¿ƒä¼˜åŠ¿</h3>
<h4 data-id="heading-17">1. <strong>AI é©±åŠ¨ï¼Œæ›´æ™ºèƒ½</strong></h4>
<ul>
<li>ä¸ä»…æ£€æŸ¥è¯­æ³•ï¼Œæ›´ç†è§£ä»£ç è¯­ä¹‰</li>
<li>èƒ½å¤Ÿè¯†åˆ«å¤æ‚çš„ä¸šåŠ¡é€»è¾‘åœºæ™¯</li>
<li>æä¾›æœ‰é’ˆå¯¹æ€§çš„ä¿®å¤å»ºè®®</li>
</ul>
<h4 data-id="heading-18">2. <strong>å®æ—¶åé¦ˆï¼Œæ›´ç›´è§‚</strong></h4>
<ul>
<li>æµå¼è¾“å‡º AI åˆ†æè¿‡ç¨‹</li>
<li>æ¸…æ™°æ˜¾ç¤ºé—®é¢˜ä½ç½®å’ŒåŸå› </li>
<li>æä¾›å¯ç‚¹å‡»çš„æ–‡ä»¶è·¯å¾„ï¼ˆVS Code æ”¯æŒï¼‰</li>
</ul>
<h4 data-id="heading-19">3. <strong>çµæ´»é…ç½®ï¼Œæ›´å®ç”¨</strong></h4>
<ul>
<li>æ”¯æŒè‡ªå®šä¹‰è§„åˆ™</li>
<li>å¯ä»¥æŒ‰é¡¹ç›®éœ€æ±‚å¯ç”¨/ç¦ç”¨è§„åˆ™</li>
<li>æ”¯æŒç™½åå•å’Œå¿½ç•¥é…ç½®</li>
</ul>
<h4 data-id="heading-20">4. <strong>é›¶ä¾µå…¥ï¼Œæ›´å®‰å…¨</strong></h4>
<ul>
<li>ä»…æ£€æŸ¥æš‚å­˜åŒºæ–‡ä»¶</li>
<li>ä¸å½±å“å·²æœ‰ä»£ç </li>
<li>å¯ä»¥éšæ—¶è·³è¿‡æ£€æŸ¥ï¼ˆç´§æ€¥æƒ…å†µï¼‰</li>
</ul>
<h3 data-id="heading-21">ğŸ¯ é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>âœ… <strong>å›¢é˜Ÿåä½œ</strong> - ç»Ÿä¸€ä»£ç è§„èŒƒï¼Œå‡å°‘ Code Review æ—¶é—´</li>
<li>âœ… <strong>æ–°äººåŸ¹å…»</strong> - å¸®åŠ©æ–°äººå¿«é€Ÿäº†è§£å›¢é˜Ÿä»£ç è§„èŒƒ</li>
<li>âœ… <strong>è´¨é‡ä¿éšœ</strong> - åœ¨æäº¤å‰å‘ç°é—®é¢˜ï¼Œé¿å…çº¿ä¸Š bug</li>
<li>âœ… <strong>è§„èŒƒè½åœ°</strong> - å°†ä»£ç è§„èŒƒè‡ªåŠ¨åŒ–ï¼Œä¸å†ä¾èµ–äººå·¥æ£€æŸ¥</li>
</ul>
<h3 data-id="heading-22">ğŸ“ˆ æ•ˆæœå¯¹æ¯”</h3>
<h4 data-id="heading-23">ä½¿ç”¨å‰</h4>
<ul>
<li>Code Review æ—¶é—´ï¼šå¹³å‡ 30 åˆ†é’Ÿ/PR</li>
<li>çº¿ä¸Šé—®é¢˜ï¼šæ¯æœˆ 5-10 ä¸ª</li>
<li>ä»£ç è§„èŒƒæ‰§è¡Œç‡ï¼š60%</li>
</ul>
<h4 data-id="heading-24">ä½¿ç”¨å</h4>
<ul>
<li>Code Review æ—¶é—´ï¼šå¹³å‡ 15 åˆ†é’Ÿ/PR â¬‡ï¸ 50%</li>
<li>çº¿ä¸Šé—®é¢˜ï¼šæ¯æœˆ 1-2 ä¸ª â¬‡ï¸ 80%</li>
<li>ä»£ç è§„èŒƒæ‰§è¡Œç‡ï¼š95% â¬†ï¸ 35%</li>
</ul>
<h3 data-id="heading-25">ğŸ› ï¸ æŠ€æœ¯æ ˆ</h3>
<ul>
<li><strong>Git Hooks</strong> - åŸºäº husky å®ç°</li>
<li><strong>æ™ºæ™®AI API</strong> - æ™ºèƒ½ä»£ç åˆ†æ</li>
<li><strong>Node.js</strong> - è·¨å¹³å°æ”¯æŒ</li>
<li><strong>é›¶ä¾èµ–</strong> - è½»é‡çº§ï¼Œå¿«é€Ÿå®‰è£…</li>
</ul>
<h3 data-id="heading-26">ğŸ“¦ å®‰è£…ä½¿ç”¨</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å®‰è£…</span>
npm install prina-pre-commit-check --save-dev

<span class="hljs-comment"># 2. é…ç½® API Key</span>
<span class="hljs-built_in">export</span> ZHIPUAI_API_KEY=<span class="hljs-string">"your_api_key_here"</span>

<span class="hljs-comment"># 3. å¼€å§‹ä½¿ç”¨</span>
git commit -m <span class="hljs-string">"your message"</span>
</code></pre>
<p>å°±è¿™ä¹ˆç®€å•ï¼æ— éœ€å¤æ‚é…ç½®ï¼Œå¼€ç®±å³ç”¨ã€‚</p>
<h3 data-id="heading-27">ğŸŒŸ ç¤¾åŒºåé¦ˆ</h3>
<blockquote>
<p>"è¿™ä¸ªå·¥å…·å¤§å¤§å‡å°‘äº†æˆ‘ä»¬çš„ Code Review æ—¶é—´ï¼ŒAI æ£€æŸ¥æ¯”äººå·¥æ£€æŸ¥æ›´ç»†è‡´ï¼" - æŸå‰ç«¯å›¢é˜Ÿ Leader</p>
</blockquote>
<blockquote>
<p>"æ–°äººå…¥èŒåï¼Œé€šè¿‡è¿™ä¸ªå·¥å…·å¿«é€Ÿäº†è§£äº†æˆ‘ä»¬çš„ä»£ç è§„èŒƒï¼Œä¸Šæ‰‹é€Ÿåº¦æå‡äº†ä¸€å€ï¼" - æŸæŠ€æœ¯è´Ÿè´£äºº</p>
</blockquote>
<blockquote>
<p>"å†ä¹Ÿä¸ç”¨æ‹…å¿ƒå¿˜è®°åŠ  loading æˆ–è€…æç¤ºäº†ï¼Œå·¥å…·ä¼šè‡ªåŠ¨æé†’ï¼" - æŸå‰ç«¯å¼€å‘è€…</p>
</blockquote>
<h3 data-id="heading-28">ğŸ“š ç›¸å…³èµ„æº</h3>
<ul>
<li>ğŸ“– <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyour-repo%2Fprina-pre-commit-check" target="_blank" title="https://github.com/your-repo/prina-pre-commit-check" ref="nofollow noopener noreferrer">å®Œæ•´æ–‡æ¡£</a></li>
<li>ğŸ› <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyour-repo%2Fprina-pre-commit-check%2Fissues" target="_blank" title="https://github.com/your-repo/prina-pre-commit-check/issues" ref="nofollow noopener noreferrer">é—®é¢˜åé¦ˆ</a></li>
<li>ğŸ’¬ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyour-repo%2Fprina-pre-commit-check%2Fdiscussions" target="_blank" title="https://github.com/your-repo/prina-pre-commit-check/discussions" ref="nofollow noopener noreferrer">è®¨è®ºåŒº</a></li>
</ul>
<h3 data-id="heading-29">ğŸ¤ è´¡çŒ®</h3>
<p>æ¬¢è¿è´¡çŒ®ä»£ç ã€æå‡ºå»ºè®®æˆ–æŠ¥å‘Šé—®é¢˜ï¼</p>
<ul>
<li>ä½œè€…ï¼šåˆ˜æ¢¦ä¿­</li>
<li>é‚®ç®±ï¼š<a href="https://link.juejin.cn?target=mailto%3Aliumengjianguge%40gmail.com" target="_blank" title="mailto:liumengjianguge@gmail.com" ref="nofollow noopener noreferrer">liumengjianguge@gmail.com</a></li>
<li>è®¸å¯è¯ï¼šMIT</li>
</ul>
<h3 data-id="heading-30">ğŸ ç«‹å³å¼€å§‹</h3>
<pre><code class="hljs language-bash" lang="bash">npm install prina-pre-commit-check --save-dev
</code></pre>
<p><strong>è®© AI æˆä¸ºä½ çš„ä»£ç å®¡æŸ¥åŠ©æ‰‹ï¼Œæå‡ä»£ç è´¨é‡ï¼ŒèŠ‚çœå¼€å‘æ—¶é—´ï¼</strong></p>
<hr/>
<p><strong>â­ å¦‚æœè¿™ä¸ªå·¥å…·å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Star æ”¯æŒä¸€ä¸‹ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 åŸºç¡€å®æˆ˜ï½œä» 0 æ­å»ºå¾…åŠæ¸…å•é¡¹ç›®ï¼ˆç»„åˆå¼ API+Pinia çŠ¶æ€ç®¡ç†ï¼Œé™„é¡¹ç›®æºç ï¼‰]]></title>    <link>https://juejin.cn/post/7602579671474749459</link>    <guid>https://juejin.cn/post/7602579671474749459</guid>    <pubDate>2026-02-04T06:33:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602579671474749459" data-draft-id="7602529888484081727" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 åŸºç¡€å®æˆ˜ï½œä» 0 æ­å»ºå¾…åŠæ¸…å•é¡¹ç›®ï¼ˆç»„åˆå¼ API+Pinia çŠ¶æ€ç®¡ç†ï¼Œé™„é¡¹ç›®æºç ï¼‰"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2026-02-04T06:33:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç ç…®èŒ¶"/> <meta itemprop="url" content="https://juejin.cn/user/4197279069639178"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 åŸºç¡€å®æˆ˜ï½œä» 0 æ­å»ºå¾…åŠæ¸…å•é¡¹ç›®ï¼ˆç»„åˆå¼ API+Pinia çŠ¶æ€ç®¡ç†ï¼Œé™„é¡¹ç›®æºç ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4197279069639178/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç ç…®èŒ¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:33:08.000Z" title="Wed Feb 04 2026 06:33:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€é¡¹ç›®æ•ˆæœæ¼”ç¤º</h3>
<p>æœ¬æ¬¡å®æˆ˜æ­å»ºä¸€ä¸ª<strong>åŠŸèƒ½å®Œæ•´çš„ Vue3 å¾…åŠæ¸…å•</strong>ï¼ŒåŒ…å«æ ¸å¿ƒåŠŸèƒ½ + æ‹“å±•åŠŸèƒ½ï¼Œé€‚é… PC / ç§»åŠ¨ç«¯ï¼Œæœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼šæ·»åŠ å¾…åŠã€åˆ é™¤å¾…åŠã€æ ‡è®°å®Œæˆ / æœªå®Œæˆã€ç­›é€‰å¾…åŠï¼ˆå…¨éƒ¨ / å·²å®Œæˆ / æœªå®Œæˆï¼‰</li>
<li><strong>æ‹“å±•åŠŸèƒ½</strong>ï¼šå¾…åŠå†…å®¹ç¼–è¾‘ã€æ¸…ç©ºæ‰€æœ‰å·²å®Œæˆå¾…åŠã€å¾…åŠæ•°é‡ç»Ÿè®¡ã€æœ¬åœ°å­˜å‚¨æŒä¹…åŒ–</li>
<li><strong>äº¤äº’ä½“éªŒ</strong>ï¼šæ·»åŠ  / åˆ é™¤ / å®Œæˆå¾…åŠçš„è¿‡æ¸¡åŠ¨ç”»ã€è¾“å…¥æ¡†é˜²æŠ–ã€ç©ºå†…å®¹æäº¤æ‹¦æˆªã€é€‚é…ç§»åŠ¨ç«¯çš„æ ·å¼å¸ƒå±€</li>
<li><strong>æŠ€æœ¯äº®ç‚¹</strong>ï¼šå…¨ç¨‹ä½¿ç”¨ Vue3<strong>ç»„åˆå¼ APIï¼ˆsetup è¯­æ³•ç³–ï¼‰</strong> å¼€å‘ï¼Œé€šè¿‡<strong>Pinia</strong>ç®¡ç†å¾…åŠçŠ¶æ€ï¼Œæ›¿ä»£ Vue2 çš„ Vuexï¼Œä»£ç æ›´ç®€æ´æ˜“ç»´æŠ¤ã€‚</li>
</ol>
<h3 data-id="heading-1">äºŒã€å‰ç½®å‡†å¤‡</h3>
<h4 data-id="heading-2">1. ç¯å¢ƒè¦æ±‚ï¼ˆå·²å®‰è£…å¯è·³è¿‡ï¼Œé™„å¿«é€Ÿå®‰è£…æ­¥éª¤ï¼‰</h4>
<ul>
<li><strong>Node.js + npm</strong>ï¼šç‰ˆæœ¬è¦æ±‚ Node.js â‰¥16.0.0ï¼Œnpm â‰¥8.0.0ï¼ˆå¯é€šè¿‡<code>node -v</code>/<code>npm -v</code>éªŒè¯ï¼‰</li>
<li><strong>Vue CLI æˆ– Vite</strong>ï¼šæœ¬æ¬¡ç”¨<strong>Vite</strong>æ­å»ºé¡¹ç›®ï¼ˆæ›´å¿«ã€æ›´è½»é‡ï¼ŒVue3 å®˜æ–¹æ¨èï¼‰</li>
<li><strong>VS Code</strong>ï¼šæ­é…æ’ä»¶ï¼ˆVolarã€Vue Language Featuresã€Prettierï¼‰ï¼Œæå‡å¼€å‘æ•ˆç‡</li>
<li><strong>åŸºç¡€å‚¨å¤‡</strong>ï¼šäº†è§£ HTML/CSS åŸºç¡€ã€JavaScript ES6 + è¯­æ³•ï¼ˆç®­å¤´å‡½æ•°ã€è§£æ„ã€æ•°ç»„æ–¹æ³•ï¼‰ï¼Œé›¶åŸºç¡€å¯è·Ÿéšæ­¥éª¤æ“ä½œï¼Œä»£ç é™„å¸¦è¯¦ç»†æ³¨é‡Šã€‚</li>
</ul>
<h4 data-id="heading-3">2. å¿«é€Ÿå®‰è£…ä¾èµ–ï¼ˆå‘½ä»¤è¡Œç›´æ¥æ‰§è¡Œï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å…¨å±€å®‰è£…Viteï¼ˆé¦–æ¬¡å®‰è£…ï¼‰</span>
npm install -g create-vite
<span class="hljs-comment"># 2. éªŒè¯Viteå®‰è£…</span>
vite -v
</code></pre>
<h3 data-id="heading-4">ä¸‰ã€æ ¸å¿ƒçŸ¥è¯†ç‚¹æ¢³ç†ï¼ˆVue3 æ–°æ‰‹å¿…çœ‹ï¼‰</h3>
<p>æå‰æ¢³ç†æœ¬æ¬¡å®æˆ˜ç”¨åˆ°çš„ Vue3 æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œé¿å…å¼€å‘ä¸­æ··æ·†ï¼Œåç»­æ­¥éª¤ä¼šé€ä¸€å¯¹åº”ä½¿ç”¨ï¼š</p>
<ol>
<li><strong>Vue3 ç»„åˆå¼ APIï¼ˆsetup è¯­æ³•ç³–ï¼‰</strong> ï¼šæ— éœ€å†™ export defaultï¼Œç›´æ¥å®šä¹‰å˜é‡ / æ–¹æ³•ï¼Œä»£ç æ›´èšåˆï¼Œæ›¿ä»£ Vue2 çš„é€‰é¡¹å¼ APIï¼ˆdata/methods/computedï¼‰</li>
<li><strong>Pinia</strong>ï¼šVue3 å®˜æ–¹çŠ¶æ€ç®¡ç†åº“ï¼Œæ›¿ä»£ Vuexï¼Œæ— éœ€é…ç½®æ¨¡å—ï¼Œåˆ›å»º /store/ ä½¿ç”¨ä¸‰æ­¥åˆ°ä½ï¼Œæ”¯æŒæŒä¹…åŒ–</li>
<li><strong>Vue3 å†…ç½®æŒ‡ä»¤</strong>ï¼š<code>v-model</code>ï¼ˆåŒå‘ç»‘å®šï¼‰ã€<code>v-for</code>ï¼ˆå¾ªç¯æ¸²æŸ“ï¼‰ã€<code>v-bind</code>ï¼ˆå±æ€§ç»‘å®šï¼‰ã€<code>v-on</code>ï¼ˆäº‹ä»¶ç»‘å®šï¼Œç®€å†™ @ï¼‰ã€<code>v-show</code>ï¼ˆæ¡ä»¶æ˜¾ç¤ºï¼‰</li>
<li><strong>è®¡ç®—å±æ€§ï¼ˆcomputedï¼‰</strong> ï¼šå¤„ç†å¾…åŠæ•°é‡ç»Ÿè®¡ã€ç­›é€‰å¾…åŠåˆ—è¡¨ï¼Œç¼“å­˜è®¡ç®—ç»“æœï¼Œæå‡æ€§èƒ½</li>
<li><strong>ç›‘å¬å™¨ï¼ˆwatchï¼‰</strong> ï¼šç›‘å¬å¾…åŠçŠ¶æ€å˜åŒ–ï¼Œå®ç°æœ¬åœ°å­˜å‚¨æŒä¹…åŒ–</li>
<li><strong>Vue3 è¿‡æ¸¡åŠ¨ç”»</strong>ï¼š<code>&lt;TransitionGroup&gt;</code>å®ç°å¾…åŠé¡¹çš„æ·»åŠ  / åˆ é™¤åŠ¨ç”»ï¼Œæå‡äº¤äº’</li>
<li><strong>Props/Emits</strong>ï¼šç»„ä»¶é—´é€šä¿¡ï¼ˆå­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ é€’äº‹ä»¶ï¼Œå¦‚ç¼–è¾‘ / åˆ é™¤å¾…åŠï¼‰</li>
</ol>
<h3 data-id="heading-5">å››ã€åˆ†æ­¥å®ç°ï¼ˆä»é¡¹ç›®æ­å»ºåˆ°åŠŸèƒ½å¼€å‘ï¼Œé™„å®Œæ•´ä»£ç å—ï¼‰</h3>
<h4 data-id="heading-6">æ­¥éª¤ 1ï¼šç”¨ Vite å¿«é€Ÿæ­å»º Vue3 é¡¹ç›®</h4>
<p><strong>å…¨ç¨‹å‘½ä»¤è¡Œæ‰§è¡Œ</strong>ï¼Œé€‰æ‹© Vue+JavaScriptï¼ˆæ–°æ‰‹å‹å¥½ï¼Œé¿å… TS çš„å¤æ‚åº¦ï¼‰ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åˆ›å»ºé¡¹ç›®ï¼ˆé¡¹ç›®åï¼švue3-todo-piniaï¼Œå¯è‡ªå®šä¹‰ï¼‰</span>
create-vite vue3-todo-pinia
<span class="hljs-comment"># 2. è¿›å…¥é¡¹ç›®ç›®å½•</span>
<span class="hljs-built_in">cd</span> vue3-todo-pinia
<span class="hljs-comment"># 3. å®‰è£…é¡¹ç›®ä¾èµ–</span>
npm install
<span class="hljs-comment"># 4. å®‰è£…Piniaï¼ˆçŠ¶æ€ç®¡ç†ï¼‰å’Œpinia-plugin-persistedstateï¼ˆPiniaæŒä¹…åŒ–ï¼‰</span>
npm install pinia pinia-plugin-persistedstate
<span class="hljs-comment"># 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆé»˜è®¤ç«¯å£ï¼š5173ï¼‰</span>
npm run dev
</code></pre>
<p>å¯åŠ¨æˆåŠŸåï¼Œæµè§ˆå™¨æ‰“å¼€<code>http://127.0.0.1:5173/</code>ï¼Œçœ‹åˆ° Vite+Vue3 é»˜è®¤é¡µé¢ï¼Œè¯´æ˜é¡¹ç›®æ­å»ºæˆåŠŸã€‚</p>
<h4 data-id="heading-7">æ­¥éª¤ 2ï¼šé¡¹ç›®ç›®å½•ç»“æ„æ¢³ç†ï¼ˆç²¾ç®€ç‰ˆï¼Œåˆ é™¤æ— ç”¨æ–‡ä»¶ï¼‰</h4>
<p>æ­å»ºå®Œæˆåï¼Œåˆ é™¤ Vite é»˜è®¤çš„æ— ç”¨æ–‡ä»¶ï¼ˆå¦‚ HelloWorld.vueã€favicon.ico ç­‰ï¼‰ï¼Œæ•´ç†åçš„ç›®å½•ç»“æ„æ›´æ¸…æ™°ï¼Œ<strong>æ–°æ‰‹ä¸¥æ ¼æŒ‰ç…§æ­¤ç»“æ„åˆ›å»º</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">vue3-todo-pinia/
â”œâ”€â”€ node_modules/      <span class="hljs-meta"># é¡¹ç›®ä¾èµ–</span>
â”œâ”€â”€ <span class="hljs-keyword">public</span>/            <span class="hljs-meta"># å…¬å…±èµ„æºï¼ˆç©ºï¼‰</span>
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/    <span class="hljs-meta"># ç»„ä»¶ç›®å½•ï¼ˆå­˜æ”¾TodoItemå­ç»„ä»¶ï¼‰</span>
â”‚   â”‚   â””â”€â”€ TodoItem.vue <span class="hljs-meta"># å¾…åŠé¡¹å­ç»„ä»¶ï¼ˆç¼–è¾‘/åˆ é™¤/æ ‡è®°å®Œæˆï¼‰</span>
â”‚   â”œâ”€â”€ store/         <span class="hljs-meta"># PiniaçŠ¶æ€ç®¡ç†ç›®å½•</span>
â”‚   â”‚   â””â”€â”€ todoStore.js <span class="hljs-meta"># å¾…åŠçŠ¶æ€ç®¡ç†ï¼ˆæ ¸å¿ƒï¼‰</span>
â”‚   â”œâ”€â”€ App.vue        <span class="hljs-meta"># æ ¹ç»„ä»¶ï¼ˆä¸»é¡µé¢ï¼ŒåŒ…å«æ‰€æœ‰åŠŸèƒ½ï¼‰</span>
â”‚   â”œâ”€â”€ main.js        <span class="hljs-meta"># é¡¹ç›®å…¥å£ï¼ˆæŒ‚è½½Appã€æ³¨å†ŒPiniaï¼‰</span>
â”‚   â”œâ”€â”€ style.css      <span class="hljs-meta"># å…¨å±€æ ·å¼ï¼ˆé‡ç½®æ ·å¼ã€é€šç”¨æ ·å¼ï¼‰</span>
â”‚   â””â”€â”€ vite-env.d.ts  <span class="hljs-meta"># Viteç¯å¢ƒå£°æ˜ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰</span>
â”œâ”€â”€ .gitignore         <span class="hljs-meta"># gitå¿½ç•¥æ–‡ä»¶ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰</span>
â”œâ”€â”€ index.html         <span class="hljs-meta"># å…¥å£HTMLï¼ˆæ— éœ€ä¿®æ”¹ï¼‰</span>
â”œâ”€â”€ package.json       <span class="hljs-meta"># é¡¹ç›®é…ç½®ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰</span>
â””â”€â”€ vite.config.js     <span class="hljs-meta"># Viteé…ç½®ï¼ˆæ— éœ€ä¿®æ”¹ï¼‰</span>
</code></pre>
<h4 data-id="heading-8">æ­¥éª¤ 3ï¼šé…ç½®é¡¹ç›®å…¥å£ï¼ˆmain.jsï¼‰ï¼Œæ³¨å†Œ Pinia å¹¶å¼€å¯æŒä¹…åŒ–</h4>
<p>ä¿®æ”¹<code>src/main.js</code>ï¼Œæ›¿æ¢ Vite é»˜è®¤ä»£ç ï¼Œ<strong>æ³¨å†Œ Pinia</strong>å¹¶å¼•å…¥æŒä¹…åŒ–æ’ä»¶ï¼Œè®©å¾…åŠæ•°æ®åˆ·æ–°é¡µé¢ä¸ä¸¢å¤±ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/main.js</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { createPinia } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span> <span class="hljs-comment">// å¼•å…¥Pinia</span>
<span class="hljs-keyword">import</span> piniaPluginPersistedstate <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia-plugin-persistedstate'</span> <span class="hljs-comment">// PiniaæŒä¹…åŒ–æ’ä»¶</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'./style.css'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>

<span class="hljs-comment">// åˆ›å»ºPiniaå®ä¾‹</span>
<span class="hljs-keyword">const</span> pinia = <span class="hljs-title function_">createPinia</span>()
<span class="hljs-comment">// æ³¨å†ŒæŒä¹…åŒ–æ’ä»¶</span>
pinia.<span class="hljs-title function_">use</span>(piniaPluginPersistedstate)

<span class="hljs-comment">// åˆ›å»ºVueå®ä¾‹å¹¶æŒ‚è½½</span>
<span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>).<span class="hljs-title function_">use</span>(pinia).<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
</code></pre>
<h4 data-id="heading-9">æ­¥éª¤ 4ï¼šç¼–å†™ Pinia çŠ¶æ€ç®¡ç†ï¼ˆtodoStore.jsï¼‰ï¼Œç»Ÿä¸€ç®¡ç†å¾…åŠæ•°æ®</h4>
<p>åˆ›å»º<code>src/store/todoStore.js</code>ï¼Œè¿™æ˜¯é¡¹ç›®çš„<strong>æ ¸å¿ƒæ•°æ®å±‚</strong>ï¼Œæ‰€æœ‰å¾…åŠçš„å¢åˆ æ”¹æŸ¥ã€çŠ¶æ€å­˜å‚¨éƒ½åœ¨è¿™é‡Œï¼Œ<strong>æ›¿ä»£ Vue2 çš„ data å’Œ Vuex</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/store/todoStore.js</span>
<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>
<span class="hljs-keyword">import</span> { ref, computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// å®šä¹‰å¹¶å¯¼å‡ºPiniaä»“åº“ï¼Œidä¸ºå”¯ä¸€æ ‡è¯†ï¼ˆå¿…é¡»ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useTodoStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'todo'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// 1. çŠ¶æ€ï¼ˆç›¸å½“äºVue2çš„dataï¼‰ï¼šå¾…åŠåˆ—è¡¨ï¼Œæ•°ç»„ç±»å‹ï¼Œæ¯ä¸ªé¡¹åŒ…å«id/title/complete/editable</span>
  <span class="hljs-keyword">const</span> todoList = <span class="hljs-title function_">ref</span>([])

  <span class="hljs-comment">// 2. è®¡ç®—å±æ€§ï¼ˆç›¸å½“äºVue2çš„computedï¼‰ï¼šç¼“å­˜è®¡ç®—ç»“æœï¼Œä¸é‡å¤æ‰§è¡Œ</span>
  <span class="hljs-comment">// ç»Ÿè®¡æœªå®Œæˆå¾…åŠæ•°é‡</span>
  <span class="hljs-keyword">const</span> unCompletedCount = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> todoList.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> !todo.<span class="hljs-property">complete</span>).<span class="hljs-property">length</span>
  })
  <span class="hljs-comment">// ç»Ÿè®¡å·²å®Œæˆå¾…åŠæ•°é‡</span>
  <span class="hljs-keyword">const</span> completedCount = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> todoList.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">complete</span>).<span class="hljs-property">length</span>
  })
  <span class="hljs-comment">// ç»Ÿè®¡æ€»å¾…åŠæ•°é‡</span>
  <span class="hljs-keyword">const</span> totalCount = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> todoList.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>
  })

  <span class="hljs-comment">// 3. æ–¹æ³•ï¼ˆç›¸å½“äºVue2çš„methodsï¼‰ï¼šå¤„ç†å¾…åŠçš„å¢åˆ æ”¹æŸ¥</span>
  <span class="hljs-comment">// æ·»åŠ å¾…åŠ</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">addTodo</span> = (<span class="hljs-params">title</span>) =&gt; {
    <span class="hljs-keyword">if</span> (!title.<span class="hljs-title function_">trim</span>()) <span class="hljs-keyword">return</span> <span class="hljs-comment">// ç©ºå†…å®¹æ‹¦æˆª</span>
    todoList.<span class="hljs-property">value</span>.<span class="hljs-title function_">unshift</span>({
      <span class="hljs-attr">id</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(), <span class="hljs-comment">// ç”¨æ—¶é—´æˆ³ä½œä¸ºå”¯ä¸€idï¼Œç®€å•é«˜æ•ˆ</span>
      <span class="hljs-attr">title</span>: title.<span class="hljs-title function_">trim</span>(),
      <span class="hljs-attr">complete</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// é»˜è®¤ä¸ºæœªå®Œæˆ</span>
      <span class="hljs-attr">editable</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// é»˜è®¤ä¸ºéç¼–è¾‘çŠ¶æ€</span>
    })
  }
  <span class="hljs-comment">// åˆ é™¤å¾…åŠ</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">deleteTodo</span> = (<span class="hljs-params">id</span>) =&gt; {
    todoList.<span class="hljs-property">value</span> = todoList.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">id</span> !== id)
  }
  <span class="hljs-comment">// æ ‡è®°å¾…åŠå®Œæˆ/æœªå®Œæˆ</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleComplete</span> = (<span class="hljs-params">id</span>) =&gt; {
    <span class="hljs-keyword">const</span> todo = todoList.<span class="hljs-property">value</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">id</span> === id)
    <span class="hljs-keyword">if</span> (todo) todo.<span class="hljs-property">complete</span> = !todo.<span class="hljs-property">complete</span>
  }
  <span class="hljs-comment">// åˆ‡æ¢ç¼–è¾‘çŠ¶æ€</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleEditable</span> = (<span class="hljs-params">id</span>) =&gt; {
    <span class="hljs-keyword">const</span> todo = todoList.<span class="hljs-property">value</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">id</span> === id)
    <span class="hljs-keyword">if</span> (todo) todo.<span class="hljs-property">editable</span> = !todo.<span class="hljs-property">editable</span>
  }
  <span class="hljs-comment">// ä¿å­˜ç¼–è¾‘åçš„å¾…åŠå†…å®¹</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">saveEdit</span> = (<span class="hljs-params">id, newTitle</span>) =&gt; {
    <span class="hljs-keyword">const</span> todo = todoList.<span class="hljs-property">value</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">id</span> === id)
    <span class="hljs-keyword">if</span> (todo) {
      todo.<span class="hljs-property">title</span> = newTitle.<span class="hljs-title function_">trim</span>()
      todo.<span class="hljs-property">editable</span> = <span class="hljs-literal">false</span> <span class="hljs-comment">// ç¼–è¾‘å®Œæˆåå…³é—­ç¼–è¾‘çŠ¶æ€</span>
    }
  }
  <span class="hljs-comment">// æ¸…ç©ºæ‰€æœ‰å·²å®Œæˆå¾…åŠ</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">clearCompleted</span> = (<span class="hljs-params"/>) =&gt; {
    todoList.<span class="hljs-property">value</span> = todoList.<span class="hljs-property">value</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> !todo.<span class="hljs-property">complete</span>)
  }

  <span class="hljs-comment">// å¯¼å‡ºçŠ¶æ€ã€è®¡ç®—å±æ€§ã€æ–¹æ³•ï¼Œä¾›ç»„ä»¶ä½¿ç”¨</span>
  <span class="hljs-keyword">return</span> {
    todoList,
    unCompletedCount,
    completedCount,
    totalCount,
    addTodo,
    deleteTodo,
    toggleComplete,
    toggleEditable,
    saveEdit,
    clearCompleted
  }
}, {
  <span class="hljs-attr">persist</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// å¼€å¯PiniaæŒä¹…åŒ–ï¼Œé»˜è®¤å­˜å‚¨åœ¨localStorage</span>
})
</code></pre>
<h4 data-id="heading-10">æ­¥éª¤ 5ï¼šç¼–å†™å…¨å±€æ ·å¼ï¼ˆstyle.cssï¼‰ï¼Œé‡ç½®æ ·å¼ + é€šç”¨æ ·å¼ï¼Œé€‚é…å¤šç«¯</h4>
<p>ä¿®æ”¹<code>src/style.css</code>ï¼Œæ¸…é™¤æµè§ˆå™¨é»˜è®¤æ ·å¼ï¼Œè®¾ç½®é€šç”¨æ ·å¼ï¼ˆå­—ä½“ã€é¢œè‰²ã€å¸ƒå±€ï¼‰ï¼Œé€‚é… PC / ç§»åŠ¨ç«¯ï¼Œ<strong>é¿å…æ¯ä¸ªç»„ä»¶å•ç‹¬å†™é‡ç½®æ ·å¼</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* src/style.css */</span>
<span class="hljs-comment">/* å…¨å±€æ ·å¼é‡ç½® */</span>
* {
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">box-sizing</span>: border-box;
  <span class="hljs-attribute">font-family</span>: <span class="hljs-string">"Microsoft YaHei"</span>, sans-serif;
}
<span class="hljs-selector-tag">body</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#f5f5f5</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
  <span class="hljs-attribute">min-height</span>: <span class="hljs-number">100vh</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
}
<span class="hljs-selector-id">#app</span> {
  <span class="hljs-attribute">max-width</span>: <span class="hljs-number">800px</span>;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">30px</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">2px</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.08</span>);
}
<span class="hljs-comment">/* é€šç”¨æŒ‰é’®æ ·å¼ */</span>
<span class="hljs-selector-class">.btn</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">6px</span> <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
  <span class="hljs-attribute">transition</span>: background-color <span class="hljs-number">0.3s</span> ease;
}
<span class="hljs-selector-class">.btn-primary</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#42b983</span>; <span class="hljs-comment">/* Vueå®˜æ–¹ç»¿è‰² */</span>
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
}
<span class="hljs-selector-class">.btn-primary</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#359469</span>;
}
<span class="hljs-selector-class">.btn-danger</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e53935</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
}
<span class="hljs-selector-class">.btn-danger</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#c62828</span>;
}
<span class="hljs-selector-class">.btn-default</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#e0e0e0</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;
}
<span class="hljs-selector-class">.btn-default</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#bdbdbd</span>;
}
<span class="hljs-comment">/* é€‚é…ç§»åŠ¨ç«¯ */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) {
  <span class="hljs-selector-id">#app</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
  }
  <span class="hljs-selector-tag">body</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
  }
}
</code></pre>
<h4 data-id="heading-11">æ­¥éª¤ 6ï¼šç¼–å†™å¾…åŠé¡¹å­ç»„ä»¶ï¼ˆTodoItem.vueï¼‰ï¼Œå®ç°å•ä¸ªå¾…åŠçš„åŠŸèƒ½</h4>
<p>åˆ›å»º<code>src/components/TodoItem.vue</code>ï¼Œè¿™æ˜¯<strong>å­ç»„ä»¶</strong>ï¼Œè´Ÿè´£å•ä¸ªå¾…åŠé¡¹çš„æ¸²æŸ“ã€ç¼–è¾‘ã€åˆ é™¤ã€æ ‡è®°å®Œæˆï¼Œé€šè¿‡<strong>Props</strong>æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’çš„å¾…åŠæ•°æ®ï¼Œé€šè¿‡<strong>Emits</strong>å‘çˆ¶ç»„ä»¶ä¼ é€’äº‹ä»¶ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- src/components/TodoItem.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- Transitionå®ç°å•ä¸ªå¾…åŠé¡¹çš„è¿‡æ¸¡åŠ¨ç”» --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Transition</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"todo-item"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-item"</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ completed: todo.complete }"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- æ ‡è®°å®Œæˆ/æœªå®Œæˆ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span>
        <span class="hljs-attr">v-model</span>=<span class="hljs-string">"todo.complete"</span>
        @<span class="hljs-attr">change</span>=<span class="hljs-string">"handleToggle"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-check"</span>
      /&gt;</span>
      <span class="hljs-comment">&lt;!-- ç¼–è¾‘çŠ¶æ€/æ™®é€šçŠ¶æ€åˆ‡æ¢ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">v-if</span>=<span class="hljs-string">"todo.editable"</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
        <span class="hljs-attr">v-model</span>=<span class="hljs-string">"editTitle"</span>
        @<span class="hljs-attr">blur</span>=<span class="hljs-string">"handleSave"</span>
        @<span class="hljs-attr">keyup.enter</span>=<span class="hljs-string">"handleSave"</span>
        <span class="hljs-attr">ref</span>=<span class="hljs-string">"editInput"</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-input-edit"</span>
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-else</span> @<span class="hljs-attr">dblclick</span>=<span class="hljs-string">"handleEdit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-title"</span>&gt;</span>{{ todo.title }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- æ“ä½œæŒ‰é’®ï¼šç¼–è¾‘ã€åˆ é™¤ --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-actions"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleEdit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-default btn-sm"</span>&gt;</span>ç¼–è¾‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleDelete"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-danger btn-sm ml-2"</span>&gt;</span>åˆ é™¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Transition</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, watch, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// 1. æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’çš„å¾…åŠæ•°æ®ï¼ˆPropsï¼‰</span>
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
  <span class="hljs-attr">todo</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">Object</span>,
    <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">properties</span>: {
      <span class="hljs-attr">id</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span> },
      <span class="hljs-attr">title</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">String</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span> },
      <span class="hljs-attr">complete</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">Boolean</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span> },
      <span class="hljs-attr">editable</span>: { <span class="hljs-attr">type</span>: <span class="hljs-title class_">Boolean</span>, <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span> }
    }
  }
})

<span class="hljs-comment">// 2. å®šä¹‰å‘çˆ¶ç»„ä»¶ä¼ é€’çš„äº‹ä»¶ï¼ˆEmitsï¼‰</span>
<span class="hljs-keyword">const</span> emit = <span class="hljs-title function_">defineEmits</span>([<span class="hljs-string">'toggle'</span>, <span class="hljs-string">'delete'</span>, <span class="hljs-string">'edit'</span>, <span class="hljs-string">'save'</span>])

<span class="hljs-comment">// 3. ç¼–è¾‘çŠ¶æ€çš„ä¸´æ—¶æ ‡é¢˜ï¼Œé¿å…ç›´æ¥ä¿®æ”¹props</span>
<span class="hljs-keyword">const</span> editTitle = <span class="hljs-title function_">ref</span>(props.<span class="hljs-property">todo</span>.<span class="hljs-property">title</span>)

<span class="hljs-comment">// 4. ç›‘å¬å¾…åŠæ•°æ®å˜åŒ–ï¼ŒåŒæ­¥ç¼–è¾‘æ¡†å†…å®¹</span>
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> props.<span class="hljs-property">todo</span>.<span class="hljs-property">title</span>, <span class="hljs-function">(<span class="hljs-params">newVal</span>) =&gt;</span> {
  editTitle.<span class="hljs-property">value</span> = newVal
})

<span class="hljs-comment">// 5. ç”Ÿå‘½å‘¨æœŸï¼šç¼–è¾‘æ¡†æ˜¾ç¤ºæ—¶è‡ªåŠ¨è·å–ç„¦ç‚¹</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (props.<span class="hljs-property">todo</span>.<span class="hljs-property">editable</span>) {
    editInput.<span class="hljs-property">value</span>.<span class="hljs-title function_">focus</span>()
  }
})
<span class="hljs-keyword">const</span> editInput = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)

<span class="hljs-comment">// 6. äº‹ä»¶å¤„ç†æ–¹æ³•</span>
<span class="hljs-comment">// æ ‡è®°å®Œæˆ/æœªå®Œæˆ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleToggle</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'toggle'</span>, props.<span class="hljs-property">todo</span>.<span class="hljs-property">id</span>)
}
<span class="hljs-comment">// åˆ é™¤å¾…åŠ</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleDelete</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">confirm</span>(<span class="hljs-string">'ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå¾…åŠå—ï¼Ÿ'</span>)) {
    <span class="hljs-title function_">emit</span>(<span class="hljs-string">'delete'</span>, props.<span class="hljs-property">todo</span>.<span class="hljs-property">id</span>)
  }
}
<span class="hljs-comment">// åˆ‡æ¢ç¼–è¾‘çŠ¶æ€</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleEdit</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'edit'</span>, props.<span class="hljs-property">todo</span>.<span class="hljs-property">id</span>)
  editTitle.<span class="hljs-property">value</span> = props.<span class="hljs-property">todo</span>.<span class="hljs-property">title</span>
}
<span class="hljs-comment">// ä¿å­˜ç¼–è¾‘å†…å®¹</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleSave</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (!editTitle.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>()) {
    <span class="hljs-title function_">alert</span>(<span class="hljs-string">'å¾…åŠå†…å®¹ä¸èƒ½ä¸ºç©ºï¼'</span>)
    editInput.<span class="hljs-property">value</span>.<span class="hljs-title function_">focus</span>()
    <span class="hljs-keyword">return</span>
  }
  <span class="hljs-title function_">emit</span>(<span class="hljs-string">'save'</span>, props.<span class="hljs-property">todo</span>.<span class="hljs-property">id</span>, editTitle.<span class="hljs-property">value</span>)
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-comment">/* å­ç»„ä»¶æ ·å¼ï¼Œscopedè¡¨ç¤ºæ ·å¼ä»…ä½œç”¨äºå½“å‰ç»„ä»¶ */</span>
<span class="hljs-selector-class">.todo-item</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;
  <span class="hljs-attribute">transition</span>: all <span class="hljs-number">0.3s</span> ease;
}
<span class="hljs-selector-class">.todo-item</span><span class="hljs-selector-class">.completed</span> <span class="hljs-selector-class">.todo-title</span> {
  <span class="hljs-attribute">text-decoration</span>: line-through;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#999</span>;
}
<span class="hljs-selector-class">.todo-check</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">18px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">18px</span>;
  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">15px</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
}
<span class="hljs-selector-class">.todo-title</span> {
  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">cursor</span>: pointer;
}
<span class="hljs-selector-class">.todo-input-edit</span> {
  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">6px</span> <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#42b983</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">outline</span>: none;
}
<span class="hljs-selector-class">.todo-actions</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">8px</span>;
}
<span class="hljs-selector-class">.btn-sm</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">4px</span> <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;
}
<span class="hljs-selector-class">.ml-2</span> {
  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">8px</span>;
}
<span class="hljs-comment">/* è¿‡æ¸¡åŠ¨ç”»æ ·å¼ */</span>
<span class="hljs-selector-class">.todo-item-enter-from</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">10px</span>);
}
<span class="hljs-selector-class">.todo-item-enter-to</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">0</span>);
}
<span class="hljs-selector-class">.todo-item-leave-from</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">0</span>);
}
<span class="hljs-selector-class">.todo-item-leave-to</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">10px</span>);
}
<span class="hljs-selector-class">.todo-item-leave-active</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">width</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">60px</span>);
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h4 data-id="heading-12">æ­¥éª¤ 7ï¼šç¼–å†™æ ¹ç»„ä»¶ï¼ˆApp.vueï¼‰ï¼Œæ•´åˆæ‰€æœ‰åŠŸèƒ½ï¼Œå®ç°ç­›é€‰å’ŒåŠ¨ç”»</h4>
<p>ä¿®æ”¹<code>src/App.vue</code>ï¼Œè¿™æ˜¯<strong>çˆ¶ç»„ä»¶</strong>ï¼Œè´Ÿè´£å¾…åŠçš„æ·»åŠ ã€ç­›é€‰ã€ç»Ÿè®¡ã€æ¸…ç©ºå·²å®Œæˆï¼Œå¼•å…¥å­ç»„ä»¶<code>TodoItem</code>å¹¶ä¼ é€’æ•°æ®ï¼Œé€šè¿‡<code>&lt;TransitionGroup&gt;</code>å®ç°å¾…åŠåˆ—è¡¨çš„æ‰¹é‡è¿‡æ¸¡åŠ¨ç”»ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- src/App.vue --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-app"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- é¡µé¢æ ‡é¢˜ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-title"</span>&gt;</span>Vue3 å¾…åŠæ¸…å•ï¼ˆPiniaç‰ˆï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- æ·»åŠ å¾…åŠè¡¨å• --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-add"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
        <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
        <span class="hljs-attr">v-model</span>=<span class="hljs-string">"inputTitle"</span>
        @<span class="hljs-attr">keyup.enter</span>=<span class="hljs-string">"handleAdd"</span>
        <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"è¯·è¾“å…¥å¾…åŠå†…å®¹ï¼ŒæŒ‰å›è½¦æ·»åŠ ..."</span>
        <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-input"</span>
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">"handleAdd"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-primary todo-add-btn"</span>&gt;</span>æ·»åŠ å¾…åŠ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å¾…åŠåˆ—è¡¨ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-list"</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">"todoStore.totalCount &gt; 0"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- TransitionGroupå®ç°åˆ—è¡¨è¿‡æ¸¡åŠ¨ç”»ï¼Œå¿…é¡»è®¾ç½®key --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">TransitionGroup</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"todo-list"</span> <span class="hljs-attr">tag</span>=<span class="hljs-string">"div"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TodoItem</span>
          <span class="hljs-attr">v-for</span>=<span class="hljs-string">"todo in filterTodoList"</span>
          <span class="hljs-attr">:key</span>=<span class="hljs-string">"todo.id"</span>
          <span class="hljs-attr">:todo</span>=<span class="hljs-string">"todo"</span>
          @<span class="hljs-attr">toggle</span>=<span class="hljs-string">"todoStore.toggleComplete"</span>
          @<span class="hljs-attr">delete</span>=<span class="hljs-string">"todoStore.deleteTodo"</span>
          @<span class="hljs-attr">edit</span>=<span class="hljs-string">"todoStore.toggleEditable"</span>
          @<span class="hljs-attr">save</span>=<span class="hljs-string">"todoStore.saveEdit"</span>
        /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">TransitionGroup</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- å¾…åŠç­›é€‰+ç»Ÿè®¡+æ¸…ç©º --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-footer"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-count"</span>&gt;</span>
          æ€»å¾…åŠï¼š{{ todoStore.totalCount }} | æœªå®Œæˆï¼š{{ todoStore.unCompletedCount }} | å·²å®Œæˆï¼š{{ todoStore.completedCount }}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-filter"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
            @<span class="hljs-attr">click</span>=<span class="hljs-string">"activeFilter = 'all'"</span>
            <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ active: activeFilter === 'all' }"</span>
            <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-default btn-sm"</span>
          &gt;</span>
            å…¨éƒ¨
          <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
            @<span class="hljs-attr">click</span>=<span class="hljs-string">"activeFilter = 'uncompleted'"</span>
            <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ active: activeFilter === 'uncompleted' }"</span>
            <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-default btn-sm ml-2"</span>
          &gt;</span>
            æœªå®Œæˆ
          <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
            @<span class="hljs-attr">click</span>=<span class="hljs-string">"activeFilter = 'completed'"</span>
            <span class="hljs-attr">:class</span>=<span class="hljs-string">"{ active: activeFilter === 'completed' }"</span>
            <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-default btn-sm ml-2"</span>
          &gt;</span>
            å·²å®Œæˆ
          <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          @<span class="hljs-attr">click</span>=<span class="hljs-string">"todoStore.clearCompleted"</span>
          <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-danger btn-sm todo-clear"</span>
          <span class="hljs-attr">:disabled</span>=<span class="hljs-string">"todoStore.completedCount === 0"</span>
        &gt;</span>
          æ¸…ç©ºå·²å®Œæˆ
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- ç©ºåˆ—è¡¨æç¤º --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"todo-empty"</span> <span class="hljs-attr">v-else</span>&gt;</span>
      æš‚æ— å¾…åŠï¼Œå¿«æ¥æ·»åŠ ä½ çš„ç¬¬ä¸€ä¸ªå¾…åŠå§ï¼ğŸ˜Š
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, computed } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-comment">// å¼•å…¥Piniaä»“åº“</span>
<span class="hljs-keyword">import</span> { useTodoStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'./store/todoStore'</span>
<span class="hljs-comment">// å¼•å…¥å¾…åŠé¡¹å­ç»„ä»¶</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">TodoItem</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/TodoItem.vue'</span>

<span class="hljs-comment">// åˆå§‹åŒ–Piniaä»“åº“</span>
<span class="hljs-keyword">const</span> todoStore = <span class="hljs-title function_">useTodoStore</span>()
<span class="hljs-comment">// è¾“å…¥æ¡†ç»‘å®šçš„å€¼</span>
<span class="hljs-keyword">const</span> inputTitle = <span class="hljs-title function_">ref</span>(<span class="hljs-string">''</span>)
<span class="hljs-comment">// ç­›é€‰çŠ¶æ€ï¼šallï¼ˆå…¨éƒ¨ï¼‰ã€uncompletedï¼ˆæœªå®Œæˆï¼‰ã€completedï¼ˆå·²å®Œæˆï¼‰</span>
<span class="hljs-keyword">const</span> activeFilter = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'all'</span>)

<span class="hljs-comment">// è®¡ç®—å±æ€§ï¼šæ ¹æ®ç­›é€‰çŠ¶æ€è¿‡æ»¤å¾…åŠåˆ—è¡¨</span>
<span class="hljs-keyword">const</span> filterTodoList = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">switch</span> (activeFilter.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'uncompleted'</span>:
      <span class="hljs-keyword">return</span> todoStore.<span class="hljs-property">todoList</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> !todo.<span class="hljs-property">complete</span>)
    <span class="hljs-keyword">case</span> <span class="hljs-string">'completed'</span>:
      <span class="hljs-keyword">return</span> todoStore.<span class="hljs-property">todoList</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">todo</span> =&gt;</span> todo.<span class="hljs-property">complete</span>)
    <span class="hljs-attr">default</span>:
      <span class="hljs-keyword">return</span> todoStore.<span class="hljs-property">todoList</span>
  }
})

<span class="hljs-comment">// æ·»åŠ å¾…åŠæ–¹æ³•</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleAdd</span> = (<span class="hljs-params"/>) =&gt; {
  todoStore.<span class="hljs-title function_">addTodo</span>(inputTitle.<span class="hljs-property">value</span>)
  inputTitle.<span class="hljs-property">value</span> = <span class="hljs-string">''</span> <span class="hljs-comment">// æ·»åŠ åæ¸…ç©ºè¾“å…¥æ¡†</span>
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.todo-title</span> {
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#42b983</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28px</span>;
}
<span class="hljs-selector-class">.todo-add</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>;
}
<span class="hljs-selector-class">.todo-input</span> {
  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">15px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">outline</span>: none;
  <span class="hljs-attribute">transition</span>: border-color <span class="hljs-number">0.3s</span> ease;
}
<span class="hljs-selector-class">.todo-input</span><span class="hljs-selector-pseudo">:focus</span> {
  <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#42b983</span>;
}
<span class="hljs-selector-class">.todo-add-btn</span> {
  <span class="hljs-attribute">white-space</span>: nowrap;
}
<span class="hljs-selector-class">.todo-list</span> {
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">position</span>: relative;
}
<span class="hljs-selector-class">.todo-empty</span> {
  <span class="hljs-attribute">text-align</span>: center;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">50px</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#999</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>;
}
<span class="hljs-selector-class">.todo-footer</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: center;
  <span class="hljs-attribute">justify-content</span>: space-between;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;
}
<span class="hljs-selector-class">.todo-count</span> {
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>;
}
<span class="hljs-selector-class">.todo-filter</span> <span class="hljs-selector-class">.active</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#42b983</span>;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
}
<span class="hljs-selector-class">.todo-clear</span> {
  <span class="hljs-attribute">white-space</span>: nowrap;
}
<span class="hljs-selector-class">.todo-clear</span><span class="hljs-selector-pseudo">:disabled</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#ccc</span>;
  <span class="hljs-attribute">cursor</span>: not-allowed;
}
<span class="hljs-comment">/* åˆ—è¡¨è¿‡æ¸¡åŠ¨ç”» */</span>
<span class="hljs-selector-class">.todo-list-enter-from</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">10px</span>);
}
<span class="hljs-selector-class">.todo-list-enter-to</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">0</span>);
}
<span class="hljs-selector-class">.todo-list-leave-from</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">0</span>);
}
<span class="hljs-selector-class">.todo-list-leave-to</span> {
  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">10px</span>);
}
<span class="hljs-selector-class">.todo-list-move</span> {
  <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.3s</span> ease;
}
<span class="hljs-comment">/* é€‚é…ç§»åŠ¨ç«¯ */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">max-width</span>: <span class="hljs-number">768px</span>) {
  <span class="hljs-selector-class">.todo-title</span> {
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24px</span>;
  }
  <span class="hljs-selector-class">.todo-add</span> {
    <span class="hljs-attribute">flex-direction</span>: column;
  }
  <span class="hljs-selector-class">.todo-footer</span> {
    <span class="hljs-attribute">flex-direction</span>: column;
    <span class="hljs-attribute">gap</span>: <span class="hljs-number">15px</span>;
    <span class="hljs-attribute">align-items</span>: flex-start;
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<h4 data-id="heading-13">æ­¥éª¤ 8ï¼šé¡¹ç›®æµ‹è¯•ä¸æ‰“åŒ…ï¼ˆä¸Šçº¿å‰å¿…å¤‡ï¼‰</h4>
<ol>
<li><strong>æœ¬åœ°æµ‹è¯•</strong>ï¼šå¼€å‘æœåŠ¡å™¨å·²å¯åŠ¨ï¼ˆ<code>npm run dev</code>ï¼‰ï¼Œåœ¨æµè§ˆå™¨ä¸­æµ‹è¯•æ‰€æœ‰åŠŸèƒ½ï¼Œç¡®ä¿æ—  bugï¼ˆæ·»åŠ  / åˆ é™¤ / ç¼–è¾‘ / ç­›é€‰ / æ¸…ç©º / æŒä¹…åŒ–ï¼‰ï¼Œåˆ·æ–°é¡µé¢åæ•°æ®ä¸ä¸¢å¤±ã€‚</li>
<li><strong>é¡¹ç›®æ‰“åŒ…</strong>ï¼šæµ‹è¯•é€šè¿‡åï¼Œæ‰§è¡Œæ‰“åŒ…å‘½ä»¤ï¼Œç”Ÿæˆç”Ÿäº§ç¯å¢ƒçš„é™æ€æ–‡ä»¶ï¼ˆå¯ç›´æ¥éƒ¨ç½²åˆ°æœåŠ¡å™¨ / é™æ€æ‰˜ç®¡å¹³å°ï¼Œå¦‚ GitHub Pagesã€Netlifyï¼‰ï¼š</li>
</ol>
<pre><code class="hljs language-arduino" lang="arduino"># æ‰“åŒ…é¡¹ç›®ï¼Œç”Ÿæˆdistç›®å½•
npm run build
</code></pre>
<p>æ‰“åŒ…å®Œæˆåï¼Œé¡¹ç›®æ ¹ç›®å½•ä¼šç”Ÿæˆ<code>dist</code>æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ˜¯å¯ç›´æ¥éƒ¨ç½²çš„é™æ€æ–‡ä»¶ï¼ˆHTML/CSS/JSï¼‰ã€‚</p>
<h3 data-id="heading-14">äº”ã€æ ·å¼ä¼˜åŒ–ä¸äº¤äº’æå‡ï¼ˆæ–°æ‰‹æ˜“ä¸Šæ‰‹ï¼Œæå‡é¡¹ç›®è´¨æ„Ÿï¼‰</h3>
<ol>
<li><strong>è¾“å…¥æ¡†èšç„¦æ ·å¼</strong>ï¼šç»™è¾“å…¥æ¡†æ·»åŠ <code>focus</code>ä¼ªç±»ï¼Œä¿®æ”¹è¾¹æ¡†é¢œè‰²ï¼Œæå‡äº¤äº’åé¦ˆã€‚</li>
<li><strong>æŒ‰é’®çŠ¶æ€ä¼˜åŒ–</strong>ï¼šç»™ â€œæ¸…ç©ºå·²å®Œæˆâ€ æŒ‰é’®æ·»åŠ <code>disabled</code>çŠ¶æ€ï¼Œæ— å·²å®Œæˆå¾…åŠæ—¶ç½®ç°ï¼Œç¦æ­¢ç‚¹å‡»ã€‚</li>
<li><strong>ç­›é€‰æŒ‰é’®é«˜äº®</strong>ï¼šç»™å½“å‰é€‰ä¸­çš„ç­›é€‰æŒ‰é’®æ·»åŠ <code>active</code>ç±»ï¼Œä¿®æ”¹èƒŒæ™¯è‰²ï¼Œæ˜ç¡®å½“å‰ç­›é€‰çŠ¶æ€ã€‚</li>
<li><strong>è¿‡æ¸¡åŠ¨ç”»</strong>ï¼šç»™å¾…åŠé¡¹æ·»åŠ å•ä¸ªåŠ¨ç”»ï¼Œç»™åˆ—è¡¨æ·»åŠ æ‰¹é‡ç§»åŠ¨ / å¢åˆ åŠ¨ç”»ï¼Œé¿å…é¡µé¢ç”Ÿç¡¬å˜åŒ–ã€‚</li>
<li><strong>ç§»åŠ¨ç«¯é€‚é…</strong>ï¼šé€šè¿‡åª’ä½“æŸ¥è¯¢ï¼Œå°† PC ç«¯çš„æ¨ªå‘å¸ƒå±€æ”¹ä¸ºç§»åŠ¨ç«¯çš„çºµå‘å¸ƒå±€ï¼Œé¿å…å†…å®¹æŒ¤å‹ã€‚</li>
<li><strong>ç©ºå†…å®¹æ‹¦æˆª</strong>ï¼šæ·»åŠ å¾…åŠã€ç¼–è¾‘å¾…åŠæ—¶ï¼Œæ‹¦æˆªç©ºå†…å®¹ï¼Œç»™å‡ºæç¤ºï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>åˆ é™¤ç¡®è®¤</strong>ï¼šåˆ é™¤å¾…åŠæ—¶æ·»åŠ <code>confirm</code>ç¡®è®¤æ¡†ï¼Œé¿å…è¯¯åˆ ã€‚</li>
</ol>
<h3 data-id="heading-15">å…­ã€é¿å‘ç‚¹æ€»ç»“ï¼ˆVue3 æ–°æ‰‹å¸¸è¸©çš„å‘ï¼Œé™„è§£å†³æ–¹æ¡ˆï¼‰</h3>
<ol>
<li>
<p><strong>å‘ 1ï¼šPinia ä»“åº“æ•°æ®åˆ·æ–°åä¸¢å¤±</strong></p>
<ul>
<li>é—®é¢˜è¡¨ç°ï¼šæ·»åŠ å¾…åŠåï¼Œåˆ·æ–°é¡µé¢æ•°æ®æ¶ˆå¤±ã€‚</li>
<li>è§£å†³æ–¹æ¡ˆï¼šå®‰è£…å¹¶æ³¨å†Œ<code>pinia-plugin-persistedstate</code>æ’ä»¶ï¼Œåœ¨ä»“åº“ä¸­æ·»åŠ <code>persist: true</code>ï¼Œå¼€å¯æŒä¹…åŒ–ï¼ˆé»˜è®¤å­˜å‚¨åœ¨ localStorageï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‘ 2ï¼šå­ç»„ä»¶ç›´æ¥ä¿®æ”¹ Props æŠ¥é”™</strong></p>
<ul>
<li>é—®é¢˜è¡¨ç°ï¼šå­ç»„ä»¶ä¸­ç›´æ¥ä¿®æ”¹<code>props.todo.title</code>ï¼Œæ§åˆ¶å°æŠ¥é”™ â€œAvoid mutating a prop directlyâ€ã€‚</li>
<li>è§£å†³æ–¹æ¡ˆï¼šå­ç»„ä»¶ä¸­å®šä¹‰ä¸´æ—¶å˜é‡ï¼ˆå¦‚<code>editTitle</code>ï¼‰ï¼Œæ¥æ”¶ Props çš„å€¼ï¼Œä¿®æ”¹ä¸´æ—¶å˜é‡ï¼Œé€šè¿‡ Emits å°†æ•°æ®ä¼ é€’ç»™çˆ¶ç»„ä»¶ï¼Œç”±çˆ¶ç»„ä»¶è°ƒç”¨ Pinia æ–¹æ³•ä¿®æ”¹æ•°æ®ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‘ 3ï¼šVue3 è¿‡æ¸¡åŠ¨ç”»<code>&lt;TransitionGroup&gt;</code>ä¸ç”Ÿæ•ˆ</strong></p>
<ul>
<li>é—®é¢˜è¡¨ç°ï¼šæ·»åŠ  / åˆ é™¤å¾…åŠé¡¹æ—¶ï¼Œæ— åŠ¨ç”»æ•ˆæœã€‚</li>
<li>è§£å†³æ–¹æ¡ˆï¼šâ‘  ç»™<code>&lt;TransitionGroup&gt;</code>è®¾ç½®<code>tag</code>å±æ€§ï¼ˆå¦‚<code>tag="div"</code>ï¼‰ï¼›â‘¡ ç»™å¾ªç¯çš„å­ç»„ä»¶è®¾ç½®å”¯ä¸€çš„<code>key</code>ï¼›â‘¢ ç¼–å†™å¯¹åº”çš„è¿‡æ¸¡æ ·å¼ï¼ˆ<code>enter-from</code>/<code>enter-to</code>/<code>leave-from</code>/<code>leave-to</code>ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‘ 4ï¼šsetup è¯­æ³•ç³–ä¸­æ— æ³•ä½¿ç”¨<code>this</code></strong></p>
<ul>
<li>é—®é¢˜è¡¨ç°ï¼šåœ¨ setup ä¸­å†™<code>this.todoStore</code>ï¼Œæ§åˆ¶å°æŠ¥é”™ â€œthis is undefinedâ€ã€‚</li>
<li>è§£å†³æ–¹æ¡ˆï¼šVue3 ç»„åˆå¼ APIï¼ˆsetup è¯­æ³•ç³–ï¼‰ä¸­<strong>æ— <code>this</code></strong>ï¼Œç›´æ¥å¼•å…¥å¹¶åˆå§‹åŒ– Pinia ä»“åº“ï¼Œç›´æ¥ä½¿ç”¨å˜é‡ / æ–¹æ³•å³å¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‘ 5ï¼šVite å¯åŠ¨é¡¹ç›®åï¼Œæµè§ˆå™¨æ— æ³•è®¿é—®</strong></p>
<ul>
<li>é—®é¢˜è¡¨ç°ï¼šæ‰§è¡Œ<code>npm run dev</code>åï¼Œæµè§ˆå™¨æ‰“å¼€<code>localhost:5173</code>æ— æ³•è®¿é—®ã€‚</li>
<li>è§£å†³æ–¹æ¡ˆï¼šâ‘  æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨ï¼Œå¯ä¿®æ”¹<code>vite.config.js</code>ä¸­çš„ç«¯å£ï¼›â‘¡ ç”¨<code>http://127.0.0.1:5173/</code>è®¿é—®ï¼Œè€Œé<code>localhost</code>ï¼›â‘¢ é‡æ–°å®‰è£…ä¾èµ–ï¼ˆåˆ é™¤<code>node_modules</code>å’Œ<code>package-lock.json</code>ï¼Œé‡æ–°æ‰§è¡Œ<code>npm install</code>ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‘ 6ï¼šè®¡ç®—å±æ€§ç­›é€‰å¾…åŠåˆ—è¡¨ä¸æ›´æ–°</strong></p>
<ul>
<li>é—®é¢˜è¡¨ç°ï¼šä¿®æ”¹å¾…åŠå®ŒæˆçŠ¶æ€åï¼Œç­›é€‰åˆ—è¡¨ä¸åˆ·æ–°ã€‚</li>
<li>è§£å†³æ–¹æ¡ˆï¼šç¡®ä¿è®¡ç®—å±æ€§ä¾èµ–çš„æ˜¯<strong>å“åº”å¼æ•°æ®</strong>ï¼ˆPinia ä¸­çš„<code>ref</code>/<code>reactive</code>ï¼ŒVue3 ä¸­çš„<code>ref</code>/<code>reactive</code>ï¼‰ï¼Œæœ¬æ¬¡å®æˆ˜ä¸­<code>todoStore.todoList</code>æ˜¯<code>ref</code>å®šä¹‰çš„å“åº”å¼æ•°ç»„ï¼Œæ»¡è¶³è¦æ±‚ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-16">ä¸ƒã€æ‹“å±•å»¶ä¼¸ï¼ˆVue3 æ–°æ‰‹è¿›é˜¶æ–¹å‘ï¼‰</h3>
<p>æœ¬æ¬¡å®æˆ˜å®ç°äº†åŸºç¡€çš„å¾…åŠæ¸…å•ï¼Œæ–°æ‰‹å¯åœ¨æ­¤åŸºç¡€ä¸Šæ‹“å±•åŠŸèƒ½ï¼Œæå‡ Vue3 å¼€å‘èƒ½åŠ›ï¼š</p>
<ol>
<li><strong>æ·»åŠ å¾…åŠåˆ†ç±»</strong>ï¼šç»™å¾…åŠæ·»åŠ åˆ†ç±»ï¼ˆå·¥ä½œ / ç”Ÿæ´» / å­¦ä¹ ï¼‰ï¼Œå®ç°åˆ†ç±»ç­›é€‰ã€åˆ†ç±»ç»Ÿè®¡ã€‚</li>
<li><strong>æ·»åŠ å¾…åŠæˆªæ­¢æ—¶é—´</strong>ï¼šä½¿ç”¨<code>dayjs</code>å¤„ç†æ—¶é—´ï¼Œæ·»åŠ æˆªæ­¢æ—¶é—´ï¼Œæ˜¾ç¤ºè¿‡æœŸæé†’ã€‚</li>
<li><strong>æ·»åŠ å¾…åŠä¼˜å…ˆçº§</strong>ï¼šç»™å¾…åŠè®¾ç½®ä¼˜å…ˆçº§ï¼ˆé«˜ / ä¸­ / ä½ï¼‰ï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åºã€‚</li>
<li><strong>éƒ¨ç½²é¡¹ç›®</strong>ï¼šå°†æ‰“åŒ…åçš„<code>dist</code>ç›®å½•éƒ¨ç½²åˆ° GitHub Pagesã€Netlifyã€Vercel ç­‰é™æ€æ‰˜ç®¡å¹³å°ï¼Œå®ç°çº¿ä¸Šè®¿é—®ã€‚</li>
<li><strong>æ”¹ä¸º TypeScript ç‰ˆæœ¬</strong>ï¼šå°†é¡¹ç›®ä¸­çš„ JavaScript æ”¹ä¸º TypeScriptï¼Œæ·»åŠ ç±»å‹æ³¨è§£ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§ã€‚</li>
<li><strong>ä½¿ç”¨ Vue Router</strong>ï¼šæ·»åŠ è·¯ç”±ï¼Œå®ç°å¾…åŠåˆ—è¡¨é¡µã€å¾…åŠè¯¦æƒ…é¡µçš„è·³è½¬ã€‚</li>
<li><strong>æ·»åŠ åŠ¨ç”»æ•ˆæœ</strong>ï¼šä½¿ç”¨<code>animate.css</code>æ·»åŠ æ›´å¤šåŠ¨ç”»æ•ˆæœï¼Œæå‡é¡µé¢äº¤äº’ã€‚</li>
</ol>
<h3 data-id="heading-17">å…«ã€æ€»ç»“</h3>
<ol>
<li>æœ¬æ¬¡å®æˆ˜ç”¨<strong>Vite</strong>å¿«é€Ÿæ­å»º Vue3 é¡¹ç›®ï¼Œå…¨ç¨‹ä½¿ç”¨<strong>ç»„åˆå¼ APIï¼ˆsetup è¯­æ³•ç³–ï¼‰</strong> å¼€å‘ï¼Œæ›¿ä»£ Vue2 çš„é€‰é¡¹å¼ APIï¼Œä»£ç æ›´èšåˆã€æ›´æ˜“ç»´æŠ¤ã€‚</li>
<li>é€šè¿‡<strong>Pinia</strong>å®ç°çŠ¶æ€ç®¡ç†ï¼Œæ›¿ä»£ Vuexï¼Œé…ç½®ç®€å•ï¼Œæ”¯æŒæŒä¹…åŒ–ï¼Œå®Œç¾é€‚é… Vue3ã€‚</li>
<li>æŒæ¡äº† Vue3 çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼šProps/Emits ç»„ä»¶é€šä¿¡ã€computed è®¡ç®—å±æ€§ã€watch ç›‘å¬å™¨ã€è¿‡æ¸¡åŠ¨ç”»ã€å“åº”å¼æ•°æ®ï¼ˆref/reactiveï¼‰ã€‚</li>
<li>å®ç°äº†åŠŸèƒ½å®Œæ•´çš„å¾…åŠæ¸…å•ï¼ŒåŒ…å«å¢åˆ æ”¹æŸ¥ã€ç­›é€‰ã€ç»Ÿè®¡ã€æŒä¹…åŒ–ã€åŠ¨ç”»ç­‰ï¼Œä»£ç å¯ç›´æ¥å¤åˆ»åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ã€‚</li>
<li>è§£å†³äº† Vue3 æ–°æ‰‹å¸¸è¸©çš„å‘ï¼Œå¦‚ Pinia æŒä¹…åŒ–ã€å­ç»„ä»¶ä¿®æ”¹ Propsã€è¿‡æ¸¡åŠ¨ç”»ä¸ç”Ÿæ•ˆç­‰ï¼Œä¸ºåç»­ Vue3 é¡¹ç›®å¼€å‘æ‰“ä¸‹åŸºç¡€ã€‚</li>
</ol>
<p>æœ¬æ¬¡å®æˆ˜çš„ä»£ç ç®€æ´ã€æ³¨é‡Šè¯¦ç»†ï¼Œæ–°æ‰‹å¯è·Ÿéšæ­¥éª¤ä¸€æ­¥æ­¥å®ç°ï¼Œå®Œæˆåèƒ½å¿«é€ŸæŒæ¡ Vue3 çš„åŸºç¡€å¼€å‘æµç¨‹å’Œæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œæ˜¯ Vue3 å…¥é—¨çš„æœ€ä½³å®æˆ˜æ¡ˆä¾‹ä¹‹ä¸€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Deepin Linuxç³»ç»Ÿä¸‹å®‰è£…gitå’Œé…ç½®]]></title>    <link>https://juejin.cn/post/7602512064977420351</link>    <guid>https://juejin.cn/post/7602512064977420351</guid>    <pubDate>2026-02-04T05:41:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602512064977420351" data-draft-id="7602529888483754047" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Deepin Linuxç³»ç»Ÿä¸‹å®‰è£…gitå’Œé…ç½®"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2026-02-04T05:41:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿ç™½çš„ç™½æ—¥æ¢¦"/> <meta itemprop="url" content="https://juejin.cn/user/598573077765678"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Deepin Linuxç³»ç»Ÿä¸‹å®‰è£…gitå’Œé…ç½®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/598573077765678/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿ç™½çš„ç™½æ—¥æ¢¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:41:20.000Z" title="Wed Feb 04 2026 05:41:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€Deepin Linuxä¸‹å®‰è£…å‘½ä»¤ï¼š</h2>
<pre><code class="hljs language-bash" lang="bash">sudo apt update
sudo apt install git
</code></pre>
<h4 data-id="heading-1"><strong>å»ºè®®</strong></h4>
<ol>
<li><strong>å®‰è£…å®Œæ•´ç‰ˆ</strong>ï¼šè‹¥éœ€Gitçš„å®Œæ•´ç»„ä»¶ï¼ˆå¦‚å›¾å½¢ç•Œé¢ <code>git-gui</code>ã€æ–‡æ¡£ï¼‰ï¼Œå¯ä½¿ç”¨ï¼š
<pre><code class="hljs language-bash" lang="bash">sudo apt install git-all
</code></pre>
</li>
<li><strong>éªŒè¯å®‰è£…</strong>ï¼šå®‰è£…åï¼Œè¿è¡Œ <code>git --version</code> æŸ¥çœ‹ç‰ˆæœ¬ä»¥ç¡®è®¤æˆåŠŸã€‚</li>
<li><strong>åç»­é…ç½®</strong>ï¼šå®‰è£…åå»ºè®®è®¾ç½®ä½ çš„ç”¨æˆ·åå’Œé‚®ç®±ï¼Œè¿™æ˜¯æäº¤ä»£ç çš„å¿…å¤‡ä¿¡æ¯ï¼š
<pre><code class="hljs language-bash" lang="bash">git config --global user.name <span class="hljs-string">"ä½ çš„åå­—"</span>
git config --global user.email <span class="hljs-string">"ä½ çš„é‚®ç®±"</span>
</code></pre>
</li>
</ol>
<h2 data-id="heading-2">äºŒã€é…ç½®å’ŒGiteeçš„å…³è”å…³ç³»</h2>
<p>é…ç½® Git ä¸ Gitee çš„å…³è”ä¸»è¦åˆ†ä¸ºä¸‰æ­¥ï¼š</p>
<h4 data-id="heading-3"><strong>1. ç”Ÿæˆ SSH å¯†é’¥</strong></h4>
<blockquote>
<p>åœ¨ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç”¨ä½ çš„é‚®ç®±æ›¿æ¢ <code>your_email@example.com</code>ã€‚è¿ç»­æŒ‰å›è½¦ä½¿ç”¨é»˜è®¤è®¾ç½®å³å¯ã€‚</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash">ssh-keygen -t ed25519 -C <span class="hljs-string">"your_email@example.com"</span>
</code></pre>
<blockquote>
<p>æç¤ºï¼šç”Ÿæˆçš„å¯†é’¥æ–‡ä»¶é»˜è®¤ä¿å­˜åœ¨ <code>~/.ssh/</code> ç›®å½•ä¸‹ï¼Œå…¬é’¥ä¸º <code>id_ed25519.pub</code>ã€‚</p>
</blockquote>
<h4 data-id="heading-4"><strong>2. å°†å…¬é’¥æ·»åŠ åˆ° Gitee</strong></h4>
<ul>
<li><strong>æŸ¥çœ‹å…¬é’¥</strong>ï¼š
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> ~/.ssh/id_ed25519.pub
</code></pre>
</li>
<li><strong>å¤åˆ¶è¾“å‡º</strong>çš„å…¨éƒ¨å†…å®¹ï¼ˆä»¥ <code>ssh-ed25519 AAA...</code> å¼€å¤´ï¼‰ã€‚</li>
<li>ç™»å½• <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com" target="_blank" title="https://gitee.com" ref="nofollow noopener noreferrer">Gitee</a>ï¼Œè¿›å…¥ <strong>è®¾ç½®</strong> &gt; <strong>SSH å…¬é’¥</strong>ï¼Œç²˜è´´å¹¶ä¿å­˜ã€‚</li>
</ul>
<h4 data-id="heading-5"><strong>3. æµ‹è¯•è¿æ¥</strong></h4>
<p>æ‰§è¡Œå‘½ä»¤æµ‹è¯•é…ç½®æ˜¯å¦æˆåŠŸï¼š</p>
<pre><code class="hljs language-bash" lang="bash">ssh -T git@gitee.com
</code></pre>
<blockquote>
<p>é¦–æ¬¡è¿æ¥ä¼šæç¤ºâ€œæ˜¯å¦ç»§ç»­â€ï¼Œè¾“å…¥ <strong><code>yes</code></strong> å›è½¦ã€‚çœ‹åˆ° <strong>â€œWelcome to Giteeâ€</strong> å³è¡¨ç¤ºæˆåŠŸã€‚å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ <code>git@</code> å¼€å¤´çš„ SSH åœ°å€å…‹éš†å’Œæ¨é€ä»“åº“äº†ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonâ€”â€”å½»åº•ç†è§£ Python Property çš„è¿è¡Œé€»è¾‘]]></title>    <link>https://juejin.cn/post/7602555027303596072</link>    <guid>https://juejin.cn/post/7602555027303596072</guid>    <pubDate>2026-02-04T06:36:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602555027303596072" data-draft-id="7602497125268471814" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonâ€”â€”å½»åº•ç†è§£ Python Property çš„è¿è¡Œé€»è¾‘"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-02-04T06:36:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AbsoluteLogic"/> <meta itemprop="url" content="https://juejin.cn/user/2068626334032586"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonâ€”â€”å½»åº•ç†è§£ Python Property çš„è¿è¡Œé€»è¾‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2068626334032586/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AbsoluteLogic
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:36:27.000Z" title="Wed Feb 04 2026 06:36:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">Propertyæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>Propertyæ˜¯Pythonä¸­å†…ç½®çš„è£…é¥°å™¨ï¼Œå®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯å°†ç±»çš„"æ–¹æ³•è°ƒç”¨"ï¼Œä¼ªè£…æˆ"å±æ€§è®¿é—®"</p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆè¦ç”¨Propertyï¼Ÿ</h3>
<p>è¦å›ç­”â€œä¸ºä»€ä¹ˆè¦ç”¨propertyâ€è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆæˆ‘ä»¬å…ˆä¸ç”¨propertyï¼Œçœ‹æ²¡æœ‰å®ƒè¡Œä¸è¡Œ</p>
<p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸º<code>Student</code>çš„ç±»ï¼Œå¹¶åŸºäºè¿™ä¸ªç±»åˆ›å»ºä¸€ä¸ªå®ä¾‹</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, score</span>):
        self.name = name
        self.score = score

xm = Student(<span class="hljs-string">"xiaoming"</span>, <span class="hljs-number">90</span>)
<span class="hljs-built_in">print</span>(xm.name) <span class="hljs-comment"># xiaoming</span>
<span class="hljs-built_in">print</span>(xm.score) <span class="hljs-comment"># 90</span>
xm.score = <span class="hljs-number">999</span>
<span class="hljs-built_in">print</span>(xm.name) <span class="hljs-comment"># xiaoming</span>
<span class="hljs-built_in">print</span>(xm.score) <span class="hljs-comment"># 999</span>
</code></pre>
<p>æˆ‘ä»¬åˆ›å»ºäº†<code>xm</code>è¿™ä¸ªå®ä¾‹ï¼Œå¹¶è¿›è¡Œäº†åˆå§‹åŒ–ã€‚æˆ‘ä»¬è¾“å‡º<code>name</code>å’Œ<code>score</code>è¿™ä¸¤ä¸ªå±æ€§çš„å€¼ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜</p>
<p>ä½†æ˜¯å½“æˆ‘ä»¬å¯¹<code>score</code>è¿›è¡Œä¿®æ”¹åå†è¾“å‡ºï¼Œå‘ç°æ­¤æ—¶çš„åˆ†æ•°å¯ä»¥è¢«è®¾ç½®æˆ999ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å¯¹å±æ€§çš„è®¾ç½®è¿›è¡Œæ¡ä»¶é™åˆ¶</p>
<p>é‚£æˆ‘ä»¬ç¬¬ä¸€æ—¶é—´ï¼Œä¸€å®šä¼šæƒ³åˆ°å¾€ç±»ä¸­æ·»åŠ é¢å¤–çš„æ–¹æ³•ï¼Œåœ¨æ–¹æ³•ä¸­æ·»åŠ é™åˆ¶æ¡ä»¶ï¼Œåƒä¸‹é¢è¿™æ ·ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, score</span>):
        self.name = name
        self.score = score

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_score</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> self.score

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_score</span>(<span class="hljs-params">self, value</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-number">100</span> &gt;= value &gt;= <span class="hljs-number">0</span>:
            self.score = value
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"åˆ†æ•°å¿…é¡»åœ¨0-100ä¹‹é—´"</span>)


xm = Student(<span class="hljs-string">"xiaoming"</span>, <span class="hljs-number">90</span>)
<span class="hljs-built_in">print</span>(xm.name) <span class="hljs-comment"># xiaoming</span>
<span class="hljs-built_in">print</span>(xm.score) <span class="hljs-comment"># 90</span>
xm.set_score(<span class="hljs-number">999</span>)  <span class="hljs-comment"># ValueError: åˆ†æ•°å¿…é¡»åœ¨0-100ä¹‹é—´</span>
<span class="hljs-built_in">print</span>(xm.name) 
<span class="hljs-built_in">print</span>(xm.score)
</code></pre>
<p>æ·»åŠ æ–¹æ³•åï¼Œç¡®å®å®ç°äº†å¯¹<code>score</code>è¿™ä¸ªå±æ€§çš„è®¾ç½®æ·»åŠ äº†é™åˆ¶æ¡ä»¶ï¼Œä½†æ˜¯ä¹Ÿä¼šå¸¦æ¥ä¸¤ä¸ªé—®é¢˜</p>
<p>ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯æˆ‘ä»¬å¿…é¡»è¦ç”¨<code>set_score</code>è¿™æ ·åæ·»åŠ çš„æ–¹æ³•æ¥å¯¹<code>score</code>è¿›è¡Œè®¾ç½®ï¼Œå¦‚æœä»ç„¶ä½¿ç”¨<code>.</code>è¿™ç§æ–¹å¼å°±ç»•è¿‡äº†æ¡ä»¶é™åˆ¶</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, score</span>):
        self.name = name
        self.score = score

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_score</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> self.score

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_score</span>(<span class="hljs-params">self, value</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-number">100</span> &gt;= value &gt;= <span class="hljs-number">0</span>:
            self.score = value
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"åˆ†æ•°å¿…é¡»åœ¨0-100ä¹‹é—´"</span>)


xm = Student(<span class="hljs-string">"xiaoming"</span>, <span class="hljs-number">90</span>)
<span class="hljs-built_in">print</span>(xm.name) <span class="hljs-comment"># xiaoming</span>
<span class="hljs-built_in">print</span>(xm.score) <span class="hljs-comment"># 90</span>
xm.score = <span class="hljs-number">999</span> 
<span class="hljs-built_in">print</span>(xm.name) <span class="hljs-comment"># xiaoming</span>
<span class="hljs-built_in">print</span>(xm.score) <span class="hljs-comment"># 999 </span>
</code></pre>
<p>ç¬¬äºŒä¸ªé—®é¢˜å°±æ˜¯æˆ‘ä»¬éœ€è¦å°†æ‰€æœ‰ä¹‹å‰ç”¨<code>.</code>æ¥è®¾ç½®å±æ€§çš„è¯­å¥ï¼Œå…¨éƒ½ä¿®æ”¹æˆç”¨<code>set_score</code>çš„æ–¹å¼ã€‚å¦‚æœåƒä¸Šé¢è¿™ç§ä¾‹å­ä¸€æ ·ï¼Œåªä¿®æ”¹ä¸€æ¡è¯­å¥ï¼Œé‚£å½“ç„¶æ²¡é—®é¢˜ã€‚å¯å¦‚æœè¿™ä¸ªç±»æœ‰æˆç™¾ä¸Šåƒä¸ªå®ä¾‹ï¼Œæœ‰æˆåƒä¸Šä¸‡æ¡è¯­å¥éœ€è¦ä¿®æ”¹å‘¢ï¼Ÿä¸€æ¡æ¡ä¿®æ”¹æ˜¾ç„¶æ˜¯ä¸ç°å®çš„</p>
<p>é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§æ–¹æ³•ï¼Œå¯ä»¥ä¸ä¿®æ”¹ç”¨<code>.</code>æ¥è®¾ç½®å±æ€§çš„æ–¹å¼ï¼Œè¿˜èƒ½åšåˆ°å¯¹å±æ€§è®¾ç½®æ·»åŠ æ¡ä»¶é™åˆ¶å‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆå°±æ˜¯æ·»åŠ <code>property</code>è£…é¥°å™¨</p>
<h3 data-id="heading-2">ä½¿ç”¨Property</h3>
<p>æˆ‘ä»¬ç”¨<code>property</code>å¯¹ä¸Šé¢çš„ä»£ç è¿›è¡Œä¿®æ”¹</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, score</span>):
        self.name = name
        self.score = score

<span class="hljs-meta">    @property</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">score</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> self._score

<span class="hljs-meta">    @score.setter</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">score</span>(<span class="hljs-params">self, value</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-number">0</span> &lt;= value &lt;= <span class="hljs-number">100</span>:
            self._score = value
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"abnormal score"</span>)


xm = Student(<span class="hljs-string">"xiaoming"</span>, <span class="hljs-number">90</span>)
<span class="hljs-built_in">print</span>(xm.name) <span class="hljs-comment"># xiaoming</span>
<span class="hljs-built_in">print</span>(xm.score) <span class="hljs-comment"># 90</span>
xm.score = <span class="hljs-number">999</span> <span class="hljs-comment"># ValueError: abnormal score</span>
<span class="hljs-built_in">print</span>(xm.name) 
<span class="hljs-built_in">print</span>(xm.score) 
</code></pre>
<p><code>@property</code>å°±æ˜¯å£°æ˜ä¸€ä¸ªè£…é¥°å™¨ï¼Œè€Œè£…é¥°çš„å°±æ˜¯<code>score</code>è¿™ä¸ªå±æ€§ï¼Œæ¥ä¸‹æ¥å®šä¹‰çš„<code>score</code>æ–¹æ³•ï¼Œå…¶å®å°±æ˜¯æˆ‘ä»¬è¦è£…é¥°çš„å±æ€§åã€‚è¿™ä¸ªæ–¹æ³•åï¼Œä¸€å®šä¸€å®šè¦ä¸ä½ è£…é¥°çš„å±æ€§åä¸€è‡´ã€‚è¿™ä¸ªæ–¹æ³•å…¶å®å°±ä»£è¡¨äº†æˆ‘ä»¬è¿è¡Œ<code>å®ä¾‹.å±æ€§</code>æ‰€è¿”å›çš„ç»“æœï¼Œä¹Ÿå°±æ˜¯<code>getter</code>è¿™ä¸ªâ€œè¯»å–åè®®â€</p>
<p>è€Œæ¥ä¸‹æ¥å£°æ˜çš„<code>@score.setter</code>å°±æ˜¯å¯¹è£…é¥°å±æ€§è¿›è¡Œè®¾ç½®çš„æ¡ä»¶ï¼Œè¯¥æ–¹æ³•ä¸­çš„è¯­å¥å°±ä»£è¡¨äº†è¿è¡Œ<code>å®ä¾‹.å±æ€§=...</code>æ‰€ç»è¿‡çš„è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯<code>setter</code>è¿™ä¸ªâ€œå†™å…¥åè®®â€</p>
<p>å½“æˆ‘ä»¬ç”¨è£…é¥°å™¨ä¿®æ”¹å®Œä¹‹åå°±å¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬ç”¨<code>.</code>æ–¹æ³•å¯¹å±æ€§è¿›è¡Œè®¾ç½®ï¼Œä¹Ÿå¯ä»¥åƒä¹‹å‰è°ƒç”¨æ–¹æ³•é‚£æ ·æ‹¦æˆªåˆ°é”™è¯¯</p>
<p>åœ¨æˆ‘ä»¬ä½¿ç”¨<code>property</code>è£…é¥°å™¨æ—¶ï¼Œéœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬éœ€è¦ç”¨è¢«ä¿æŠ¤çš„å˜é‡ï¼Œä¹Ÿå°±æ˜¯<code>_score</code>æ¥ä½œä¸ºè¿”å›å€¼æˆ–è¿›è¡Œä¿®æ”¹ï¼Œä¸€å®šä¸èƒ½ç”¨<code>score</code>ã€‚åŸå› å’Œ<code>property</code>çš„è¿è¡Œé€»è¾‘æœ‰å…³ï¼Œæˆ‘ä»¬åé¢ä¼šæ·±å…¥è®²è§£</p>
<p>å¦å¤–å°±æ˜¯åœ¨æˆ‘ä»¬ä½¿ç”¨<code>property</code>æ—¶ï¼Œåˆå§‹åŒ–å³<code>__init__()</code>ä¸­ï¼Œå°½é‡ä¸è¦ç”¨<code>self._score = score</code>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸¤è€…çš„åŒºåˆ«</p>
<p>ä½¿ç”¨<code>_score</code>:</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, score</span>):
        self.name = name
        self._score = score <span class="hljs-comment"># åˆå§‹åŒ–æ—¶ä½¿ç”¨å—ä¿æŠ¤çš„å˜é‡</span>

<span class="hljs-meta">    @property</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">score</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> self._score

<span class="hljs-meta">    @score.setter</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">score</span>(<span class="hljs-params">self, value</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-number">0</span> &lt;= value &lt;= <span class="hljs-number">100</span>:
            self._score = value
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"abnormal score"</span>)


xm = Student(<span class="hljs-string">"xiaoming"</span>, <span class="hljs-number">999</span>) <span class="hljs-comment"># åœ¨åˆå§‹åŒ–æ—¶æ‹¦æˆªä¸åˆ°é—®é¢˜</span>
<span class="hljs-built_in">print</span>(xm.score) <span class="hljs-comment"># 999</span>
</code></pre>
<p>ä½¿ç”¨<code>score</code></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, score</span>):
        self.name = name
        self.score = score <span class="hljs-comment"># åˆå§‹åŒ–æ—¶ä¸ä½¿ç”¨å—ä¿æŠ¤çš„å˜é‡</span>

<span class="hljs-meta">    @property</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">score</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> self._score

<span class="hljs-meta">    @score.setter</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">score</span>(<span class="hljs-params">self, value</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-number">0</span> &lt;= value &lt;= <span class="hljs-number">100</span>:
            self._score = value
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"abnormal score"</span>)


xm = Student(<span class="hljs-string">"xiaoming"</span>, <span class="hljs-number">999</span>) <span class="hljs-comment"># åœ¨åˆå§‹åŒ–æ—¶æ‹¦æˆªåˆ°é—®é¢˜</span>
<span class="hljs-built_in">print</span>(xm.score) <span class="hljs-comment"># ValueError: abnormal score</span>
</code></pre>
<p>ä¸¤è€…çš„åŒºåˆ«ä¹Ÿæ˜¯ç”±<code>Property</code>çš„è¿è¡Œé€»è¾‘æ‰€å¯¼è‡´çš„ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ·±å…¥äº†è§£ä¸€ä¸‹<code>property</code>æ˜¯å¦‚ä½•è¿è¡Œçš„</p>
<h3 data-id="heading-3">Propertyçš„è¿è¡Œé€»è¾‘</h3>
<p>è¿˜æ˜¯ç”¨ä¸Šé¢çš„ä»£ç ä¸¾ä¾‹</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, name, score</span>):
        self.name = name
        self.score = score 

<span class="hljs-meta">    @property</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">score</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">return</span> self._score

<span class="hljs-meta">    @score.setter</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">score</span>(<span class="hljs-params">self, value</span>):
        <span class="hljs-keyword">if</span> <span class="hljs-number">0</span> &lt;= value &lt;= <span class="hljs-number">100</span>:
            self._score = value
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"abnormal score"</span>)


xm = Student(<span class="hljs-string">"xiaoming"</span>, <span class="hljs-number">90</span>) 
<span class="hljs-built_in">print</span>(xm.score) 
xm.score = <span class="hljs-number">999</span>
<span class="hljs-built_in">print</span>(xm.score)
</code></pre>
<p>å½“æˆ‘ä»¬ç”¨<code>xm = Student("xiaoming", 90)</code>æ¥åˆ›å»ºå®ä¾‹æ—¶ï¼Œ<code>xm.name</code>æ¥æ”¶äº†"xiaoming"è¿™ä¸ªå€¼ã€‚è€Œåœ¨å¯¹<code>xm.score</code>è¿›è¡Œèµ‹å€¼æ—¶ï¼Œpythonæ£€æµ‹åˆ°<code>score</code>æ˜¯æˆ‘ä»¬è£…é¥°è¿‡çš„å±æ€§ï¼Œå¹¶ä¸”æˆ‘ä»¬è®¾ç½®äº†<code>setter</code>è¿™ä¸ªâ€œå†™å…¥åè®®â€ï¼Œæ‰€ä»¥æ­¤æ—¶<code>self.score = 90</code>å°±å˜æˆäº†<code>score(self, 90)</code>ï¼Œ90è¿™ä¸ªå€¼å°±è¿›å…¥äº†åˆ¤å®šï¼Œæœ€åèµ‹å€¼ç»™äº†<code>_score</code>ï¼Œæ‰€ä»¥åœ¨æˆ‘ä»¬æ‰§è¡Œ<code>print(xm.score)</code>æ—¶ï¼Œpythonä¹ŸåŒæ ·ä¼šæ£€æµ‹åˆ°<code>score</code>æ˜¯è¢«è£…é¥°çš„å±æ€§ï¼Œä»è€Œç”¨<code>getter</code>è¿™ä¸ªâ€œè¯»å–åè®®â€è¿”å›<code>_score</code>çš„å€¼ï¼Œä¹Ÿå°±æ˜¯90</p>
<p>åé¢å¯¹<code>xm.score</code>è¿›è¡Œèµ‹å€¼å’Œè¾“å‡ºä¹Ÿæ˜¯ä¸€æ ·çš„é€»è¾‘</p>
<p>æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºï¼Œå½“ä½¿ç”¨è£…é¥°å™¨åï¼Œ<code>score</code>è¿™ä¸ªå±æ€§å°±å˜æˆäº†ä¸€ä¸ªè¯»å–-å†™å…¥-åˆ é™¤çš„â€œé€»è¾‘â€</p>
<p>æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬ç†è§£<code>property</code>çœŸæ­£çš„è¿è¡Œé€»è¾‘åï¼Œæˆ‘ä»¬å°±èƒ½è§£é‡Šåˆšæ‰æˆ‘ä»¬é‡åˆ°çš„é—®é¢˜</p>
<p>å½“æˆ‘ä»¬åœ¨åˆå§‹åŒ–ä¸­ç›´æ¥ä½¿ç”¨<code>_score</code>æ—¶ï¼Œæˆ‘ä»¬ç›¸å½“äºç»•å¼€äº†<code>setter</code>è¿™ä¸ªæ£€æµ‹æœºåˆ¶ï¼Œåœ¨è¾“å‡ºæ—¶å°±æ˜¯<code>_score</code>çš„å€¼ã€‚è€Œå½“æˆ‘ä»¬å†æ¬¡å¯¹<code>score</code>è¿›è¡Œè®¾ç½®ï¼Œpythonåœ¨æ£€æµ‹åˆ°è£…é¥°å™¨åï¼Œä¼ å…¥çš„å€¼æ‰èƒ½è¿›å…¥æ£€æµ‹æœºåˆ¶</p>
<p>å¦‚æœæˆ‘ä»¬åœ¨è£…é¥°å™¨ä¸­ä¸ç”¨<code>_score</code>è€Œç”¨<code>score</code>ï¼Œé‚£ä¹ˆç¨‹åºå°±ä¼šè¿›å…¥æ­»å¾ªç¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d79975243820490a8fc31d2e6c39dbe5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQWJzb2x1dGVMb2dpYw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770791787&amp;x-signature=%2FNBJQBpjo19e%2B90K1xxKacjwiko%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">ç»“è¯­</h3>
<p>å¦‚æœæ–‡ç« ä¸­æœ‰ä»€ä¹ˆé”™è¯¯æˆ–è€…å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œæ¬¢è¿å¤§å®¶æŒ‡æ­£ï¼Œæ„Ÿè°¢ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GLM-4.7-Flash æœ¬åœ°éƒ¨ç½²æŒ‡å—]]></title>    <link>https://juejin.cn/post/7602579671474913299</link>    <guid>https://juejin.cn/post/7602579671474913299</guid>    <pubDate>2026-02-04T06:42:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602579671474913299" data-draft-id="7602559134575706148" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GLM-4.7-Flash æœ¬åœ°éƒ¨ç½²æŒ‡å—"/> <meta itemprop="keywords" content="ChatGLM (æ™ºè°±)"/> <meta itemprop="datePublished" content="2026-02-04T06:42:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="FreeBug"/> <meta itemprop="url" content="https://juejin.cn/user/2013961030477358"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GLM-4.7-Flash æœ¬åœ°éƒ¨ç½²æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2013961030477358/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    FreeBug
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T06:42:48.000Z" title="Wed Feb 04 2026 06:42:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ğŸ‰ç›®çš„ï¼šè§£å†³GLM Coding Planè°ƒç”¨è§¦å‘åˆ°é™æµï¼Œé‚å†³å®šåœ¨æœ¬åœ°ç”µè„‘éƒ¨ç½²GLM-4.7-Flash</p>
<h2 data-id="heading-0">ğŸ“– åœ¨ RTX 5060 Ti ä¸Šéƒ¨ç½² GLM-4.7-Flash å¹¶æ¥å…¥ Claude Code ç»ˆææ•™ç¨‹</h2>
<h3 data-id="heading-1">ğŸ¯ æ•™ç¨‹ç›®æ ‡</h3>
<p>GLM-4.7-Flashå‚æ•°é‡åœ¨30Bï¼Œè‹¥åœ¨ <strong>RTX 5060 Ti (16GBæ˜¾å­˜)</strong> ä¸Šï¼Œéœ€è¦ä½¿ç”¨ <code>llama.cpp</code> éƒ¨ç½² <strong>GLM-4.7-Flash 4-bité‡åŒ–æ¨¡å‹</strong>ï¼Œå¹¶é€šè¿‡ä¸€ä¸ª <strong>OpenAIå…¼å®¹çš„ä»£ç†</strong>ï¼Œè®© <strong>Claude Code</strong> ç­‰å®¢æˆ·ç«¯èƒ½å¤Ÿç›´æ¥è°ƒç”¨ã€‚</p>
<h3 data-id="heading-2">âš™ï¸ æ ¸å¿ƒé…ç½®</h3>
<ul>
<li><strong>ç¡¬ä»¶</strong>: NVIDIA RTX 5060 Ti (16GB VRAM, CUDA 12.9)</li>
<li><strong>ç³»ç»Ÿ</strong>: WSL2 (Ubuntu)</li>
<li><strong>æ¨¡å‹</strong>: GLM-4.7-Flash-UD-Q4_K_XL.gguf (æ¥è‡ª unsloth)</li>
<li><strong>æ ¸å¿ƒå·¥å…·</strong>: llama.cpp + è‡ªå®šä¹‰FastAPIä»£ç†</li>
</ul>
<hr/>
<h3 data-id="heading-3">ğŸ“ ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€ç¯å¢ƒä¸æ¨¡å‹å‡†å¤‡</h3>
<h4 data-id="heading-4">1.1 è§£å†³WSLç½‘ç»œä»£ç†ï¼ˆå…³é”®å‰æï¼‰</h4>
<p>ç¡®ä¿WSLèƒ½é€šè¿‡Windowsä¸Šçš„Clashè®¿é—®å¤–ç½‘ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è·å–Windowsä¸»æœºåœ¨WSLå†…çš„IP</span>
<span class="hljs-built_in">export</span> WIN_IP=$(<span class="hljs-built_in">cat</span> /etc/resolv.conf | grep nameserver | awk <span class="hljs-string">'{print $2}'</span>)
<span class="hljs-comment"># è®¾ç½®ä»£ç†ç¯å¢ƒå˜é‡ï¼ˆç«¯å£é»˜è®¤7890ï¼‰</span>
<span class="hljs-built_in">export</span> http_proxy=http://<span class="hljs-variable">$WIN_IP</span>:7890
<span class="hljs-built_in">export</span> https_proxy=http://<span class="hljs-variable">$WIN_IP</span>:7890
</code></pre>
<h4 data-id="heading-5">1.2 å®‰è£…ç³»ç»Ÿä¾èµ–</h4>
<pre><code class="hljs language-bash" lang="bash">sudo apt-get update
sudo apt-get install -y build-essential cmake curl libcurl4-openssl-dev
</code></pre>
<h4 data-id="heading-6">1.3 å®‰è£…å¹¶é…ç½®CUDA 12.9</h4>
<p>RTX 50ç³»åˆ—å¿…é¡»ä½¿ç”¨CUDA 12.9+ã€‚</p>
<ol>
<li>ä»<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.nvidia.com%2Fcuda-12-9-0-download-archive" target="_blank" title="https://developer.nvidia.com/cuda-12-9-0-download-archive" ref="nofollow noopener noreferrer">NVIDIAå®˜ç½‘</a>ä¸‹è½½CUDA 12.9å®‰è£…åŒ…ã€‚</li>
<li>å®‰è£…åï¼Œå°†CUDAè·¯å¾„åŠ å…¥ç¯å¢ƒå˜é‡ï¼ˆä¸´æ—¶ï¼‰ï¼š
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> PATH=/usr/local/cuda-12.9/bin:<span class="hljs-variable">$PATH</span>
<span class="hljs-built_in">export</span> LD_LIBRARY_PATH=/usr/local/cuda-12.9/lib64:<span class="hljs-variable">$LD_LIBRARY_PATH</span>
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-7">ğŸ› ï¸ ç¬¬äºŒé˜¶æ®µï¼šç¼–è¯‘ä¸è¿è¡Œ llama.cpp</h3>
<h4 data-id="heading-8">2.1 ç¼–è¯‘æ”¯æŒCUDAçš„llama.cpp</h4>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/ggml-org/llama.cpp
<span class="hljs-built_in">cd</span> llama.cpp
<span class="hljs-built_in">mkdir</span> -p build &amp;&amp; <span class="hljs-built_in">cd</span> build
cmake .. -DBUILD_SHARED_LIBS=OFF -DGGML_CUDA=ON -DLLAMA_OPENSSL=ON
cmake --build . --config Release -j --target llama-server
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼šç¼–è¯‘ç›®æ ‡ä¸º <code>llama-server</code>ï¼ˆä¸æ˜¯ <code>server</code>ï¼‰ã€‚</p>
<h4 data-id="heading-9">2.2 ä¸‹è½½GLM-4.7-Flash GGUFæ¨¡å‹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºæ¨¡å‹ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p ~/models
<span class="hljs-built_in">cd</span> ~/models
<span class="hljs-comment"># ä½¿ç”¨ä»£ç†ä¸‹è½½é‡åŒ–æ¨¡å‹ï¼ˆç¤ºä¾‹é“¾æ¥ï¼Œè¯·ä»¥å®é™…å¯ç”¨ä¸ºå‡†ï¼‰</span>
curl -L -o GLM-4.7-Flash-UD-Q4_K_XL.gguf <span class="hljs-string">"https://huggingface.co/unsloth/GLM-4.7-Flash-GGUF/resolve/main/GLM-4.7-Flash-UD-Q4_K_XL.gguf"</span>
</code></pre>
<h4 data-id="heading-10">2.3 å¯åŠ¨llama-serveråç«¯æœåŠ¡</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ~
./llama.cpp/build/bin/llama-server \
    -m ~/models/GLM-4.7-Flash-UD-Q4_K_XL.gguf \
    --host 0.0.0.0 \
    --port 8080 \
    --ctx-size 16384 \
    --threads -1 \
    --n-gpu-layers 99
</code></pre>
<p><strong>é‡è¦</strong>ï¼šå¯åŠ¨æ—¶<strong>ä¸è¦</strong>ä½¿ç”¨ <code>--chat-template</code> å‚æ•°ï¼Œé¿å…å…¼å®¹æ€§é—®é¢˜ã€‚åç»­é€šè¿‡ä»£ç†å°†å“åº”æ ¼å¼è½¬æ¢ã€‚</p>
<p><strong>éªŒè¯åç«¯</strong>ï¼šæµ‹è¯•åŸå§‹æ¥å£æ˜¯å¦å·¥ä½œã€‚</p>
<pre><code class="hljs language-bash" lang="bash">curl http://localhost:8080/completion \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{
    "prompt": "&lt;|im_start|&gt;user\nä½ å¥½&lt;|im_end|&gt;\n&lt;|im_start|&gt;assistant\n",
    "n_predict": 50,
    "stop": ["&lt;|im_end|&gt;"]
  }'</span>
</code></pre>
<p>æˆåŠŸå°†è¿”å›ï¼š<code>{"content":"ä½ å¥½ï¼å¾ˆé«˜å…´ä¸ºä½ æœåŠ¡ã€‚"...}</code></p>
<hr/>
<h3 data-id="heading-11">ğŸ”Œ ç¬¬ä¸‰é˜¶æ®µï¼šæ„å»ºOpenAIå…¼å®¹ä»£ç†</h3>
<h4 data-id="heading-12">3.1 åˆ›å»ºPythonè™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–</h4>
<pre><code class="hljs language-bash" lang="bash">python3 -m venv ~/venv
<span class="hljs-built_in">source</span> ~/venv/bin/activate
pip install fastapi uvicorn requests
</code></pre>
<h4 data-id="heading-13">3.2 åˆ›å»ºä»£ç†è„šæœ¬ <code>glm_openai_proxy.py</code></h4>
<p>å°†ä»¥ä¸‹è„šæœ¬ä¿å­˜åˆ° <code>~/glm_openai_proxy.py</code>ã€‚<strong>è¿™æ˜¯æœ¬æ•™ç¨‹çš„æ ¸å¿ƒ</strong>ï¼Œå®ƒç²¾ç¡®å®ç°äº†GLMæ ¼å¼ä¸OpenAI APIçš„è½¬æ¢ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, HTTPException
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> uvicorn

LLAMA_SERVER_URL = <span class="hljs-string">"http://127.0.0.1:8080/completion"</span>
app = FastAPI()

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Message</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    role: <span class="hljs-built_in">str</span>
    content: <span class="hljs-built_in">str</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ChatRequest</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    model: <span class="hljs-built_in">str</span>
    messages: <span class="hljs-built_in">list</span>[Message]
    max_tokens: <span class="hljs-built_in">int</span> = <span class="hljs-number">200</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">convert_to_glm_prompt</span>(<span class="hljs-params">messages: <span class="hljs-built_in">list</span>[Message]</span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""å°†OpenAI messagesè½¬æ¢ä¸ºGLMç²¾ç¡®æ ¼å¼ã€‚"""</span>
    combined_user_content = []
    prompt_parts = []

    <span class="hljs-keyword">for</span> msg <span class="hljs-keyword">in</span> messages:
        <span class="hljs-keyword">if</span> msg.role <span class="hljs-keyword">in</span> [<span class="hljs-string">'system'</span>, <span class="hljs-string">'user'</span>]:
            combined_user_content.append(msg.content)
        <span class="hljs-keyword">elif</span> msg.role == <span class="hljs-string">'assistant'</span>:
            <span class="hljs-keyword">if</span> combined_user_content:
                user_text = <span class="hljs-string">"\n"</span>.join(combined_user_content)
                prompt_parts.append(<span class="hljs-string">f"&lt;|im_start|&gt;user\n<span class="hljs-subst">{user_text}</span>&lt;|im_end|&gt;"</span>)
                combined_user_content = []
            prompt_parts.append(<span class="hljs-string">f"&lt;|im_start|&gt;assistant\n<span class="hljs-subst">{msg.content}</span>&lt;|im_end|&gt;"</span>)

    <span class="hljs-keyword">if</span> combined_user_content:
        user_text = <span class="hljs-string">"\n"</span>.join(combined_user_content)
        prompt_parts.append(<span class="hljs-string">f"&lt;|im_start|&gt;user\n<span class="hljs-subst">{user_text}</span>&lt;|im_end|&gt;"</span>)

    prompt_parts.append(<span class="hljs-string">"&lt;|im_start|&gt;assistant\n"</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-string">"\n"</span>.join(prompt_parts)

<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/v1/chat/completions"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">chat_completions</span>(<span class="hljs-params">request: ChatRequest</span>):
    prompt = convert_to_glm_prompt(request.messages)
    payload = {
        <span class="hljs-string">"prompt"</span>: prompt,
        <span class="hljs-string">"n_predict"</span>: request.max_tokens,
        <span class="hljs-string">"temperature"</span>: <span class="hljs-number">0.7</span>,
        <span class="hljs-string">"stop"</span>: [<span class="hljs-string">"&lt;|im_end|&gt;"</span>, <span class="hljs-string">"&lt;|im_start|&gt;"</span>]
    }
    <span class="hljs-keyword">try</span>:
        resp = requests.post(LLAMA_SERVER_URL, json=payload, timeout=<span class="hljs-number">60</span>)
        resp.raise_for_status()
        data = resp.json()
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">raise</span> HTTPException(status_code=<span class="hljs-number">500</span>, detail=<span class="hljs-string">f"åç«¯è°ƒç”¨å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)

    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"id"</span>: <span class="hljs-string">"chatcmpl-local-glm"</span>,
        <span class="hljs-string">"object"</span>: <span class="hljs-string">"chat.completion"</span>,
        <span class="hljs-string">"choices"</span>: [{
            <span class="hljs-string">"index"</span>: <span class="hljs-number">0</span>,
            <span class="hljs-string">"message"</span>: {<span class="hljs-string">"role"</span>: <span class="hljs-string">"assistant"</span>, <span class="hljs-string">"content"</span>: data.get(<span class="hljs-string">"content"</span>, <span class="hljs-string">""</span>).strip()},
            <span class="hljs-string">"finish_reason"</span>: <span class="hljs-string">"stop"</span>
        }],
        <span class="hljs-string">"usage"</span>: {
            <span class="hljs-string">"prompt_tokens"</span>: <span class="hljs-built_in">len</span>(prompt),
            <span class="hljs-string">"completion_tokens"</span>: <span class="hljs-built_in">len</span>(data.get(<span class="hljs-string">"content"</span>, <span class="hljs-string">""</span>)),
            <span class="hljs-string">"total_tokens"</span>: <span class="hljs-built_in">len</span>(prompt) + <span class="hljs-built_in">len</span>(data.get(<span class="hljs-string">"content"</span>, <span class="hljs-string">""</span>))
        }
    }

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    uvicorn.run(app, host=<span class="hljs-string">"0.0.0.0"</span>, port=<span class="hljs-number">5001</span>)
</code></pre>
<h4 data-id="heading-14">3.3 å¯åŠ¨ä»£ç†æœåŠ¡</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">source</span> ~/venv/bin/activate
python ~/glm_openai_proxy.py
</code></pre>
<p>æœåŠ¡å°†åœ¨ <code>http://0.0.0.0:5001</code> è¿è¡Œï¼Œæä¾› <code>/v1/chat/completions</code> ç«¯ç‚¹ã€‚</p>
<p><strong>éªŒè¯ä»£ç†</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl http://localhost:5001/v1/chat/completions \
  -H <span class="hljs-string">"Content-Type: application/json"</span> \
  -d <span class="hljs-string">'{
    "model": "GLM-4.7-Flash-UD-Q4_K_XL.gguf",
    "messages": [{"role": "user", "content": "ä½ å¥½"}],
    "max_tokens": 100
  }'</span>
</code></pre>
<p><strong>æµ‹è¯•æ•ˆæœ</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73ca2161c6c4419d8bf545ecfb522de5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRnJlZUJ1Zw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770792170&amp;x-signature=tVVFiv4uinAuhqh55wsoV2jk4N0%3D" alt="GLM-4.7-flashè¿è¡Œæµ‹è¯•.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-15">ğŸš€ ç¬¬å››é˜¶æ®µï¼šä¸€é”®éƒ¨ç½²ä¸ç®¡ç†è„šæœ¬</h3>
<h4 data-id="heading-16">4.1 åˆ›å»ºå¯åŠ¨è„šæœ¬ <code>start_glm_service.sh</code></h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-built_in">source</span> ~/venv/bin/activate
<span class="hljs-comment"># å¯åŠ¨åç«¯</span>
<span class="hljs-built_in">nohup</span> ~/llama.cpp/build/bin/llama-server \
    -m ~/models/GLM-4.7-Flash-UD-Q4_K_XL.gguf \
    --host 0.0.0.0 --port 8080 \
    --ctx-size 8192 --n-gpu-layers 40 \
    &gt; ~/llama.log 2&gt;&amp;1 &amp;
<span class="hljs-built_in">echo</span> $! &gt; ~/llama.pid
<span class="hljs-built_in">sleep</span> 10
<span class="hljs-comment"># å¯åŠ¨ä»£ç†</span>
<span class="hljs-built_in">nohup</span> python ~/glm_openai_proxy.py &gt; ~/proxy.log 2&gt;&amp;1 &amp;
<span class="hljs-built_in">echo</span> $! &gt; ~/proxy.pid
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æœåŠ¡å·²å¯åŠ¨: åç«¯(8080), ä»£ç†(5001)"</span>
</code></pre>
<h4 data-id="heading-17">4.2 åˆ›å»ºåœæ­¢è„šæœ¬ <code>stop_glm_service.sh</code></h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-built_in">kill</span> $(<span class="hljs-built_in">cat</span> ~/proxy.pid 2&gt;/dev/null) 2&gt;/dev/null
<span class="hljs-built_in">kill</span> $(<span class="hljs-built_in">cat</span> ~/llama.pid 2&gt;/dev/null) 2&gt;/dev/null
<span class="hljs-built_in">rm</span> -f ~/proxy.pid ~/llama.pid
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æœåŠ¡å·²åœæ­¢"</span>
</code></pre>
<p>æˆæƒå¹¶è¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x start_glm_service.sh stop_glm_service.sh
./start_glm_service.sh
</code></pre>
<hr/>
<h3 data-id="heading-18">ğŸ–¥ï¸ ç¬¬äº”é˜¶æ®µï¼šåœ¨ Claude Code ä¸­é…ç½®</h3>
<ol>
<li>
<p>è·å–Windowsä¸»æœºåœ¨å±€åŸŸç½‘ä¸­çš„IPï¼ˆåœ¨Windowså‘½ä»¤æç¤ºç¬¦CMDè¿è¡Œ <code>ipconfig</code>ï¼ŒæŸ¥çœ‹â€œIPv4åœ°å€â€ï¼‰ã€‚</p>
</li>
<li>
<p>åœ¨ Claude Code è®¾ç½®ä¸­æ·»åŠ è‡ªå®šä¹‰æ¨¡å‹ï¼š</p>
<ul>
<li><strong>Base URL</strong>: <code>http://&lt;ä½ çš„Windows IP&gt;:5001/v1</code></li>
<li><strong>Model Name</strong>: <code>GLM-4.7-Flash-UD-Q4_K_XL.gguf</code></li>
<li><strong>API Key</strong>: <code>sk-local</code> (æˆ–ç•™ç©º)</li>
</ul>
</li>
<li>
<p>é€‰æ‹©è¯¥æ¨¡å‹ï¼Œå¼€å§‹ä¸æœ¬åœ°éƒ¨ç½²çš„GLM-4.7-Flashå¯¹è¯ã€‚</p>
</li>
</ol>
<hr/>
<h3 data-id="heading-19">ğŸ” å…³é”®é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆæ€»ç»“ï¼ˆè¸©å‘è®°å½•ï¼‰</h3>



































<table><thead><tr><th align="left">é—®é¢˜</th><th align="left">ç°è±¡</th><th align="left">è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td align="left"><strong>CUDAç‰ˆæœ¬è¿‡ä½</strong></td><td align="left">ç¼–è¯‘é”™è¯¯ <code>Unsupported gpu architecture 'compute_120a'</code></td><td align="left">å‡çº§è‡³ <strong>CUDA 12.9+</strong></td></tr><tr><td align="left"><strong>æ¨¡å‹æ ¼å¼ä¸å…¼å®¹</strong></td><td align="left">APIè¿”å›ä¹±ç æˆ–æ¨¡æ¿æè¿°æ–‡æœ¬</td><td align="left"><strong>å¼ƒç”¨ <code>--chat-template</code></strong>ï¼Œç”±ä»£ç†è„šæœ¬åšç²¾ç¡®æ ¼å¼è½¬æ¢</td></tr><tr><td align="left"><strong>ç½‘ç»œè¿æ¥å¤±è´¥</strong></td><td align="left"><code>Could not resolve host: github.com</code></td><td align="left">åœ¨WSLä¸­æ­£ç¡®é…ç½®HTTPä»£ç†ç¯å¢ƒå˜é‡</td></tr><tr><td align="left"><strong>æœåŠ¡ç«¯å£å†²çª</strong></td><td align="left">è¿æ¥è¢«æ‹’ç»</td><td align="left">ç¡®ä¿ <code>8080</code> (åç«¯) å’Œ <code>5001</code> (ä»£ç†) ç«¯å£å¯ç”¨</td></tr><tr><td align="left"><strong>æ˜¾å­˜ä¸è¶³(OOM)</strong></td><td align="left">æ¨¡å‹åŠ è½½å¤±è´¥</td><td align="left">é™ä½ <code>--n-gpu-layers</code> (ä»99é™è‡³40)</td></tr></tbody></table>
<h3 data-id="heading-20">ğŸ“Š æ€§èƒ½å‚è€ƒ (RTX 5060 Ti)</h3>
<ul>
<li><strong>åŠ è½½æ—¶é—´</strong>: çº¦30-60ç§’ (é¦–æ¬¡åŠ è½½)</li>
<li><strong>æ¨ç†é€Ÿåº¦</strong>: çº¦15-40 tokens/ç§’ (å–å†³äºä¸Šä¸‹æ–‡é•¿åº¦)</li>
<li><strong>æ˜¾å­˜å ç”¨</strong>: çº¦12-14GB (4-bité‡åŒ–ï¼Œ<code>--n-gpu-layers 40</code>)</li>
<li><strong>å†…å­˜å ç”¨</strong>: çº¦2-3GB</li>
</ul>
<h3 data-id="heading-21">âœ… æœ€ç»ˆéªŒè¯</h3>
<p>å®Œæˆæ‰€æœ‰æ­¥éª¤åï¼Œä½ çš„æœ¬åœ°AIæœåŠ¡æ ˆå¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>åç«¯ (<code>llama-server</code>)</strong>: <code>http://localhost:8080</code> (åŸå§‹æ¨ç†)</li>
<li><strong>ä»£ç† (<code>glm_openai_proxy.py</code>)</strong>: <code>http://localhost:5001/v1</code> (OpenAIå…¼å®¹API)</li>
<li><strong>å®¢æˆ·ç«¯ (Claude Code)</strong>: é€šè¿‡ä»£ç†è®¿é—®æœ¬åœ°æ¨¡å‹</li>
</ol>
<h3 data-id="heading-22">ğŸ‰ æˆåŠŸæ ‡å¿—</h3>
<p>åœ¨Claude Codeä¸­æˆåŠŸå‘é€æ¶ˆæ¯å¹¶æ”¶åˆ°GLM-4.7-Flashçš„<strong>ä¸­æ–‡æµç•…å›å¤</strong>ï¼Œè€Œéä¹‹å‰çš„ä¹±ç æˆ–é”™è¯¯ä¿¡æ¯ã€‚</p>
<p><strong>è¿™ä»½æ•™ç¨‹å‡èšäº†æˆ‘è§£å†³ä¼—å¤šå…¼å®¹æ€§é—®é¢˜çš„æ ¸å¿ƒç»éªŒã€‚ä½ ç°åœ¨æ‹¥æœ‰äº†ä¸€å¥—ç¨³å®šã€å¯é‡ç°çš„éƒ¨ç½²æ–¹æ¡ˆï¼Œå°½æƒ…äº«å—ä½ çš„æœ¬åœ°å¤§æ¨¡å‹å§ï¼</strong> å¦‚æœéœ€è¦åœ¨å…¶ä»–ç¯å¢ƒéƒ¨ç½²æˆ–æœ‰æ–°çš„éœ€æ±‚ï¼Œå¯ä»¥éšæ—¶å‚è€ƒæ­¤æ•™ç¨‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€æ·±å…¥ã€‘åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨Vue3å®ç°ï¼ˆ2ï¼‰]]></title>    <link>https://juejin.cn/post/7602529888483704895</link>    <guid>https://juejin.cn/post/7602529888483704895</guid>    <pubDate>2026-02-04T05:16:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602529888483704895" data-draft-id="7602497125269045254" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€æ·±å…¥ã€‘åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨Vue3å®ç°ï¼ˆ2ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T05:16:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Hashan"/> <meta itemprop="url" content="https://juejin.cn/user/3523276916662526"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€æ·±å…¥ã€‘åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨Vue3å®ç°ï¼ˆ2ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3523276916662526/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Hashan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:16:59.000Z" title="Wed Feb 04 2026 05:16:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ğŸ“š <strong>ç³»åˆ—æ–‡ç« </strong>ï¼šæœ¬æ–‡æ˜¯è™šæ‹Ÿåˆ—è¡¨ç³»åˆ—çš„ç¬¬äºŒç¯‡ï¼Œå»ºè®®å…ˆé˜…è¯» <a href="https://juejin.cn/post/7602463463105380398" target="_blank" title="https://juejin.cn/post/7602463463105380398">å›ºå®šé«˜åº¦è™šæ‹Ÿåˆ—è¡¨å®ç°</a></p>
</blockquote>
<h2 data-id="heading-0">ğŸ¯ æœ¬æ–‡ä½ å°†å­¦åˆ°</h2>
<ul>
<li>âœ… ç†è§£åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨çš„æ ¸å¿ƒéš¾ç‚¹</li>
<li>âœ… æŒæ¡"é¢„ä¼°é«˜åº¦ + æ¸²æŸ“åä¿®æ­£"çš„è§£å†³æ–¹æ¡ˆ</li>
<li>âœ… å®Œæ•´å®ç°ä¸€ä¸ªç”Ÿäº§çº§åˆ«çš„åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨ç»„ä»¶</li>
<li>âœ… å­¦ä¼šä½¿ç”¨æ‡’åŠ è½½ä¼˜åŒ–è™šæ‹Ÿåˆ—è¡¨æ€§èƒ½</li>
</ul>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆéœ€è¦åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨</h2>
<p>åœ¨å®é™…ä¸šåŠ¡å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šé‡åˆ°è¿™äº›åœºæ™¯ï¼š</p>






























<table><thead><tr><th>åœºæ™¯</th><th>ç‰¹ç‚¹</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>ğŸ’¬ æ¶ˆæ¯åˆ—è¡¨</td><td>æ–‡æœ¬é•¿åº¦ä¸å›ºå®š</td><td>å¾®ä¿¡èŠå¤©ã€é’‰é’‰æ¶ˆæ¯</td></tr><tr><td>ğŸ“ è¯„è®º/å›å¤</td><td>åµŒå¥—å±‚çº§ä¸åŒ</td><td>æ˜é‡‘è¯„è®ºåŒºã€çŸ¥ä¹å›ç­”</td></tr><tr><td>ğŸ“° Feed æµ</td><td>å›¾æ–‡æ··æ’</td><td>å¾®åšã€å°çº¢ä¹¦</td></tr><tr><td>ğŸ“‹ æ•°æ®è¡¨æ ¼</td><td>å•å…ƒæ ¼å†…å®¹ä¸å®š</td><td>åå°ç®¡ç†ç³»ç»Ÿ</td></tr></tbody></table>
<p>è¿™äº›åœºæ™¯çš„å…±åŒç‰¹ç‚¹æ˜¯ï¼š<strong>åˆ—è¡¨é¡¹é«˜åº¦ä¸å›ºå®šï¼Œæ— æ³•æå‰é¢„çŸ¥</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-2">æ ¸å¿ƒéš¾ç‚¹åˆ†æ</h2>
<h3 data-id="heading-3">å›ºå®šé«˜åº¦ vs åŠ¨æ€é«˜åº¦ï¼šå¤æ‚åº¦å¯¹æ¯”</h3>
<p>è®©æˆ‘ä»¬å…ˆå¯¹æ¯”ä¸€ä¸‹ä¸¤ç§å®ç°çš„æ ¸å¿ƒåŒºåˆ«ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â   å›ºå®šé«˜åº¦ï¼šæ‰€æœ‰è®¡ç®—éƒ½æ˜¯ O(1) Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Item 0  â”‚ height: 50px Â   â”‚  <span class="hljs-attr">scrollTop</span> = <span class="hljs-number">250</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚  Item 1  â”‚ height: 50px Â   â”‚  <span class="hljs-attr">startIndex</span> = <span class="hljs-number">250</span> / <span class="hljs-number">50</span> = <span class="hljs-number">5</span>  âœ… Â  Â  â”‚
â”‚  Item 2  â”‚ height: 50px Â   â”‚  <span class="hljs-attr">offset</span> = <span class="hljs-number">5</span> * <span class="hljs-number">50</span> = <span class="hljs-number">250</span>px Â  âœ… Â  Â   â”‚
â”‚  Item 3  â”‚ height: 50px Â   â”‚  <span class="hljs-attr">totalHeight</span> = n * <span class="hljs-number">50</span> Â  Â   âœ… Â  Â   â”‚
â”‚  ... Â  Â  â”‚ ... Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â€‹
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â   åŠ¨æ€é«˜åº¦ï¼šéœ€è¦éå†ç´¯åŠ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Item 0  â”‚ height: 80px Â   â”‚  <span class="hljs-attr">scrollTop</span> = <span class="hljs-number">250</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚  Item 1  â”‚ height: 120px Â  â”‚  <span class="hljs-attr">startIndex</span> = ??? Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â”‚  Item 2  â”‚ height: 60px Â   â”‚  éœ€è¦éå†ï¼š80+120+<span class="hljs-attr">60</span> = <span class="hljs-number">260</span> &gt; <span class="hljs-number">250</span> Â  â”‚
â”‚  Item 3  â”‚ height: 200px Â  â”‚  æ‰€ä»¥ <span class="hljs-attr">startIndex</span> = <span class="hljs-number">2</span> Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚  ... Â  Â  â”‚ ... Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-4">ğŸ”ğŸ¥š "é¸¡ç”Ÿè›‹"é—®é¢˜</h3>
<p>åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨é¢ä¸´ä¸€ä¸ªç»å…¸çš„å¾ªç¯ä¾èµ–é—®é¢˜ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â   åŠ¨æ€é«˜åº¦çš„<span class="hljs-string">"é¸¡ç”Ÿè›‹"</span>é—®é¢˜ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â€‹
é—®é¢˜é“¾æ¡ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ éœ€è¦çŸ¥é“é«˜åº¦  â”‚ â”€â”€â–º â”‚ æ‰èƒ½è®¡ç®—ä½ç½®  â”‚ â”€â”€â–º â”‚ æ‰èƒ½å†³å®šæ¸²æŸ“  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  â–² Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
 Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
 Â  Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  Â  Â  Â  Â  Â  ä½†é«˜åº¦éœ€è¦æ¸²æŸ“åæ‰çŸ¥é“ï¼
</code></pre>
<h3 data-id="heading-5">æ ¸å¿ƒé—®é¢˜æ¸…å•</h3>






























<table><thead><tr><th>é—®é¢˜</th><th>å›ºå®šé«˜åº¦æ–¹æ¡ˆ</th><th>åŠ¨æ€é«˜åº¦éš¾ç‚¹</th></tr></thead><tbody><tr><td>è®¡ç®— startIndex</td><td><code>scrollTop / itemHeight</code></td><td>âŒ æ— æ³•ç›´æ¥è®¡ç®—</td></tr><tr><td>è®¡ç®—æ€»é«˜åº¦</td><td><code>totalCount * itemHeight</code></td><td>âŒ éœ€è¦ç´¯åŠ æ‰€æœ‰é«˜åº¦</td></tr><tr><td>è®¡ç®—åç§»é‡</td><td><code>startIndex * itemHeight</code></td><td>âŒ éœ€è¦ç´¯åŠ å‰é¢æ‰€æœ‰é«˜åº¦</td></tr><tr><td>è·å–å…ƒç´ é«˜åº¦</td><td>å›ºå®šå€¼</td><td>âŒ æ¸²æŸ“åæ‰èƒ½è·å–</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">è§£å†³æ–¹æ¡ˆè®¾è®¡</h2>
<h3 data-id="heading-7">ğŸ’¡ æ ¸å¿ƒæ€è·¯ï¼šé¢„ä¼°é«˜åº¦ + æ¸²æŸ“åä¿®æ­£</h3>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä½¿ç”¨é¢„ä¼°é«˜åº¦  â”‚ â”€â”€â–º â”‚ å…ˆæ¸²æŸ“ä¸€æ‰¹ Â   â”‚ â”€â”€â–º â”‚ è·å–çœŸå®é«˜åº¦  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
 Â  Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ›´æ–°ä½ç½®ç¼“å­˜  â”‚ â”€â”€â–º â”‚ ä¿®æ­£åç»­ä½ç½®  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-8">æ•°æ®ç»“æ„è®¾è®¡ï¼špositionCache</h3>
<p>ä¸ºäº†è§£å†³åŠ¨æ€é«˜åº¦çš„è®¡ç®—é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä¸ª<strong>ä½ç½®ç¼“å­˜è¡¨</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">//</span> <span class="hljs-string">å­˜å‚¨æ¯ä¸ªå…ƒç´ çš„ä½ç½®ä¿¡æ¯</span>
<span class="hljs-string">const</span> <span class="hljs-string">positionCache</span> <span class="hljs-string">=</span> [
  { <span class="hljs-attr">index:</span> <span class="hljs-number">0</span>, <span class="hljs-attr">top:</span> <span class="hljs-number">0</span>, Â  <span class="hljs-attr">bottom:</span> <span class="hljs-number">80</span>, Â <span class="hljs-attr">height:</span> <span class="hljs-number">80</span>  },
  { <span class="hljs-attr">index:</span> <span class="hljs-number">1</span>, <span class="hljs-attr">top:</span> <span class="hljs-number">80</span>, Â <span class="hljs-attr">bottom:</span> <span class="hljs-number">200</span>, <span class="hljs-attr">height:</span> <span class="hljs-number">120</span> },
  { <span class="hljs-attr">index:</span> <span class="hljs-number">2</span>, <span class="hljs-attr">top:</span> <span class="hljs-number">200</span>, <span class="hljs-attr">bottom:</span> <span class="hljs-number">260</span>, <span class="hljs-attr">height:</span> <span class="hljs-number">60</span>  },
  { <span class="hljs-attr">index:</span> <span class="hljs-number">3</span>, <span class="hljs-attr">top:</span> <span class="hljs-number">260</span>, <span class="hljs-attr">bottom:</span> <span class="hljs-number">460</span>, <span class="hljs-attr">height:</span> <span class="hljs-number">200</span> },
 Â <span class="hljs-string">//</span> <span class="hljs-string">...</span>
]
</code></pre>
<h4 data-id="heading-9">ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦ top å’Œ bottomï¼Ÿ</h4>
<p>ä½ å¯èƒ½ä¼šé—®ï¼šåªå­˜ <code>index</code> å’Œ <code>height</code> ä¸å°±å¤Ÿäº†å—ï¼Ÿ</p>
<p><strong>ç­”æ¡ˆæ˜¯ä¸å¤Ÿï¼</strong> è®©æˆ‘ä»¬çœ‹çœ‹ä¸ºä»€ä¹ˆï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// âŒ åªæœ‰ height æ—¶ï¼Œè®¡ç®— startIndex éœ€è¦è¿™æ ·ï¼š</span>
<span class="hljs-keyword">let</span> accumulatedHeight = <span class="hljs-number">0</span>
<span class="hljs-keyword">let</span> startIndex = <span class="hljs-number">0</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; positionCache.<span class="hljs-property">length</span>; i++) {
 Â accumulatedHeight += positionCache[i].<span class="hljs-property">height</span>
 Â <span class="hljs-keyword">if</span> (accumulatedHeight &gt; scrollTop) {
 Â  Â startIndex = i
 Â  Â <span class="hljs-keyword">break</span>
  }
}
<span class="hljs-comment">// æ—¶é—´å¤æ‚åº¦ï¼šO(n)</span>
â€‹
<span class="hljs-comment">// âœ… æœ‰ top/bottom æ—¶ï¼Œå¯ä»¥ç›´æ¥æŸ¥æ‰¾ï¼š</span>
<span class="hljs-keyword">const</span> startIndex = positionCache.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">bottom</span> &gt; scrollTop)
<span class="hljs-comment">// ç”šè‡³å¯ä»¥ç”¨äºŒåˆ†æŸ¥æ‰¾ä¼˜åŒ–åˆ° O(log n)</span>
</code></pre>
<h4 data-id="heading-10">positionCache ç»“æ„è¯¦è§£</h4>
<pre><code class="hljs language-js" lang="js">positionCache = [
  {
 Â  Â <span class="hljs-attr">index</span>: <span class="hljs-number">0</span>, Â  Â  Â <span class="hljs-comment">// å…ƒç´ ç´¢å¼•</span>
 Â  Â <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, Â  Â  Â  Â <span class="hljs-comment">// å…ƒç´ é¡¶éƒ¨è·ç¦»åˆ—è¡¨é¡¶éƒ¨çš„è·ç¦»</span>
 Â  Â <span class="hljs-attr">bottom</span>: <span class="hljs-number">80</span>, Â  Â <span class="hljs-comment">// å…ƒç´ åº•éƒ¨è·ç¦»åˆ—è¡¨é¡¶éƒ¨çš„è·ç¦»</span>
 Â  Â <span class="hljs-attr">height</span>: <span class="hljs-number">80</span> Â  Â  <span class="hljs-comment">// å…ƒç´ é«˜åº¦ (bottom - top)</span>
  },
  {
 Â  Â <span class="hljs-attr">index</span>: <span class="hljs-number">1</span>,
 Â  Â <span class="hljs-attr">top</span>: <span class="hljs-number">80</span>, Â  Â  Â  <span class="hljs-comment">// = ä¸Šä¸€é¡¹çš„ bottomï¼ˆä¿è¯è¿ç»­æ€§ï¼‰</span>
 Â  Â <span class="hljs-attr">bottom</span>: <span class="hljs-number">200</span>, Â  <span class="hljs-comment">// = top + height</span>
 Â  Â <span class="hljs-attr">height</span>: <span class="hljs-number">120</span>
  },
 Â <span class="hljs-comment">// ...</span>
]
</code></pre>
<p><strong>å…³é”®çº¦æŸæ¡ä»¶</strong>ï¼š</p>
<ul>
<li><code>top[i] = bottom[i-1]</code>ï¼ˆè¿ç»­æ€§ï¼‰</li>
<li><code>bottom[i] = top[i] + height[i]</code></li>
<li><code>height[i]</code> åˆå§‹ä¸ºé¢„ä¼°å€¼ï¼Œæ¸²æŸ“åæ›´æ–°ä¸ºçœŸå®å€¼</li>
</ul>
<h3 data-id="heading-11">æ•´ä½“æ¶æ„å›¾</h3>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Containerï¼ˆå®¹å™¨ï¼‰ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚  height: <span class="hljs-number">400</span>px, overflow: <span class="hljs-keyword">auto</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Phantomï¼ˆå¹½çµå±‚ï¼‰ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚ â”‚
â”‚  â”‚  height: positionCache[last].bottom Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ â”‚
â”‚  â”‚  ä½œç”¨ï¼šæ’‘èµ·æ»šåŠ¨æ¡ï¼Œè®©ç”¨æˆ·æ„Ÿè§‰æœ‰å®Œæ•´åˆ—è¡¨ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ â”‚
â”‚  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚  Contentï¼ˆå†…å®¹å±‚ï¼‰ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  transform: <span class="hljs-built_in">translateY</span>(contentOffset) Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Item [startIndex] Â  Â  height: <span class="hljs-number">80</span>px Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Item [startIndex+<span class="hljs-number">1</span>] Â  height: <span class="hljs-number">120</span>px Â  Â  Â  Â  Â  Â  Â   â”‚ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  Item [startIndex+<span class="hljs-number">2</span>] Â  height: <span class="hljs-number">60</span>px Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  ... Â  Â  Â  Â  Â  Â  Â  Â  Â  åªæ¸²æŸ“å¯è§åŒºåŸŸ + ç¼“å†²åŒº Â  Â  Â   â”‚ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-12">ä»£ç å®ç°</h2>
<h3 data-id="heading-13">Step 1ï¼šåˆå§‹åŒ–ä½ç½®ç¼“å­˜</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç”¨é¢„ä¼°é«˜åº¦åˆå§‹åŒ–æ‰€æœ‰å…ƒç´ çš„ä½ç½®ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/** åˆå§‹åŒ–ä½ç½®ç¼“å­˜ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">initPositionCache</span> = (<span class="hljs-params">listData, estimatedHeight</span>) =&gt; {
 Â positionCache.<span class="hljs-property">value</span> = listData.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> ({
 Â  Â index,
 Â  Â <span class="hljs-attr">top</span>: index * estimatedHeight, Â  Â  Â  Â  Â  <span class="hljs-comment">// 0, 50, 100, 150, ...</span>
 Â  Â <span class="hljs-attr">bottom</span>: (index + <span class="hljs-number">1</span>) * estimatedHeight, Â <span class="hljs-comment">// 50, 100, 150, 200, ...</span>
 Â  Â <span class="hljs-attr">height</span>: estimatedHeight Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-comment">// 50, 50, 50, 50, ...</span>
  }))
}
</code></pre>
<p>åˆå§‹åŒ–åçš„æ•°æ®ç»“æ„ï¼ˆå‡è®¾ <code>estimatedHeight = 50</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css">Index â”‚ <span class="hljs-attribute">Top</span>  â”‚ <span class="hljs-attribute">Bottom</span> â”‚ <span class="hljs-attribute">Height</span> â”‚ çŠ¶æ€
â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  <span class="hljs-number">0</span> Â  â”‚  <span class="hljs-number">0</span> Â  â”‚  <span class="hljs-number">50</span> Â   â”‚  <span class="hljs-number">50</span> Â   â”‚ é¢„ä¼°å€¼
  <span class="hljs-number">1</span> Â  â”‚  <span class="hljs-number">50</span>  â”‚  <span class="hljs-number">100</span> Â  â”‚  <span class="hljs-number">50</span> Â   â”‚ é¢„ä¼°å€¼
  <span class="hljs-number">2</span> Â  â”‚  <span class="hljs-number">100</span> â”‚  <span class="hljs-number">150</span> Â  â”‚  <span class="hljs-number">50</span> Â   â”‚ é¢„ä¼°å€¼
  <span class="hljs-number">3</span> Â  â”‚  <span class="hljs-number">150</span> â”‚  <span class="hljs-number">200</span> Â  â”‚  <span class="hljs-number">50</span> Â   â”‚ é¢„ä¼°å€¼
  <span class="hljs-number">4</span> Â  â”‚  <span class="hljs-number">200</span> â”‚  <span class="hljs-number">250</span> Â  â”‚  <span class="hljs-number">50</span> Â   â”‚ é¢„ä¼°å€¼
 ...  â”‚ ...  â”‚  ... Â  â”‚  ... Â  â”‚ ...
</code></pre>
<h3 data-id="heading-14">Step 2ï¼šè®¡ç®—å¯è§åŒºåŸŸ</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// è®¡ç®—ï¼šå¹½çµå±‚é«˜åº¦ï¼ˆæ’‘èµ·æ»šåŠ¨æ¡ï¼‰</span>
<span class="hljs-keyword">const</span> phantomHeight = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-keyword">const</span> cache = positionCache.<span class="hljs-property">value</span>
 Â <span class="hljs-keyword">if</span> (!cache.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
 Â <span class="hljs-keyword">return</span> cache[cache.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>]?.<span class="hljs-property">bottom</span> || <span class="hljs-number">0</span>
})
â€‹
<span class="hljs-comment">// è®¡ç®—ï¼šå¯è§æ•°é‡ï¼ˆå®¹å™¨èƒ½æ˜¾ç¤ºçš„æ•°é‡ + ç¼“å†²åŒºï¼‰</span>
<span class="hljs-keyword">const</span> visibleCount = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(containerHeight.<span class="hljs-property">value</span> / estimatedHeight.<span class="hljs-property">value</span>) + bufferSize.<span class="hljs-property">value</span>
})
â€‹
<span class="hljs-comment">// è®¡ç®—ï¼šç»“æŸç´¢å¼•</span>
<span class="hljs-keyword">const</span> endIndex = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(startIndex.<span class="hljs-property">value</span> + visibleCount.<span class="hljs-property">value</span>, props.<span class="hljs-property">listData</span>.<span class="hljs-property">length</span>)
})
â€‹
<span class="hljs-comment">// è®¡ç®—ï¼šå¯è§æ•°æ®</span>
<span class="hljs-keyword">const</span> visibleData = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-keyword">return</span> listData.<span class="hljs-property">value</span>.<span class="hljs-title function_">slice</span>(startIndex.<span class="hljs-property">value</span>, endIndex.<span class="hljs-property">value</span>)
})
</code></pre>
<h3 data-id="heading-15">Step 3ï¼šè·å–å¼€å§‹ç´¢å¼•å’Œåç§»é‡</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/** è·å–å¼€å§‹ç´¢å¼• - æ‰¾åˆ°ç¬¬ä¸€ä¸ª bottom &gt; scrollTop çš„å…ƒç´  */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getStartIndex</span> = (<span class="hljs-params">scrollTop</span>) =&gt; {
 Â <span class="hljs-keyword">if</span> (!positionCache.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
 Â <span class="hljs-keyword">const</span> item = positionCache.<span class="hljs-property">value</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item &amp;&amp; item.<span class="hljs-property">bottom</span> &gt; scrollTop)
 Â <span class="hljs-keyword">return</span> item ? item.<span class="hljs-property">index</span> : <span class="hljs-number">0</span>
}
â€‹
<span class="hljs-comment">/** è·å–å†…å®¹åç§»é‡ - ä½¿ç”¨å½“å‰é¡¹çš„ top å€¼ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getContentOffset</span> = (<span class="hljs-params"/>) =&gt; {
 Â <span class="hljs-keyword">if</span> (startIndex.<span class="hljs-property">value</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
 Â <span class="hljs-keyword">const</span> cache = positionCache.<span class="hljs-property">value</span>
 Â <span class="hljs-keyword">return</span> cache[startIndex.<span class="hljs-property">value</span>]?.<span class="hljs-property">top</span> || <span class="hljs-number">0</span>
}
</code></pre>
<h3 data-id="heading-16">Step 4ï¼šæ¸²æŸ“åæ›´æ–°çœŸå®é«˜åº¦</h3>
<p>è¿™æ˜¯åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨çš„<strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/** æ›´æ–°é«˜åº¦ä¿¡æ¯ - æ¸²æŸ“åè·å–çœŸå®é«˜åº¦å¹¶ä¿®æ­£ä½ç½®ç¼“å­˜ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updatePositions</span> = (<span class="hljs-params"/>) =&gt; {
 Â <span class="hljs-comment">// å¦‚æœç»„ä»¶æœªæ¿€æ´»ï¼ˆkeep-alive ç¼“å­˜ä¸­ï¼‰ï¼Œä¸æ›´æ–°</span>
 Â <span class="hljs-keyword">if</span> (!isActive.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>
â€‹
 Â <span class="hljs-keyword">const</span> nodes = itemRefs.<span class="hljs-property">value</span>
 Â <span class="hljs-keyword">if</span> (!nodes.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span>
â€‹
 Â <span class="hljs-keyword">let</span> needUpdate = <span class="hljs-literal">false</span>
â€‹
 Â nodes.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">node, idx</span>) =&gt;</span> {
 Â  Â <span class="hljs-keyword">if</span> (!node) <span class="hljs-keyword">return</span>
â€‹
 Â  Â <span class="hljs-keyword">const</span> realIndex = startIndex.<span class="hljs-property">value</span> + idx
 Â  Â <span class="hljs-keyword">const</span> rect = node.<span class="hljs-title function_">getBoundingClientRect</span>()
 Â  Â <span class="hljs-keyword">const</span> realHeight = rect.<span class="hljs-property">height</span>
â€‹
 Â  Â <span class="hljs-comment">// å¦‚æœé«˜åº¦ä¸º 0ï¼Œè¯´æ˜å…ƒç´ ä¸å¯è§ï¼Œè·³è¿‡</span>
 Â  Â <span class="hljs-keyword">if</span> (realHeight === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>
â€‹
 Â  Â <span class="hljs-keyword">const</span> cachedItem = positionCache.<span class="hljs-property">value</span>[realIndex]
 Â  Â <span class="hljs-keyword">if</span> (!cachedItem) <span class="hljs-keyword">return</span>
â€‹
 Â  Â <span class="hljs-keyword">const</span> oldHeight = cachedItem.<span class="hljs-property">height</span>
 Â  Â <span class="hljs-keyword">const</span> heightDiff = realHeight - oldHeight
â€‹
 Â  Â <span class="hljs-comment">// å…è®¸ 0.5px è¯¯å·®ï¼Œé¿å…æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜</span>
 Â  Â <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(heightDiff) &gt; <span class="hljs-number">0.5</span>) {
 Â  Â  Â needUpdate = <span class="hljs-literal">true</span>
â€‹
 Â  Â  Â <span class="hljs-comment">// 1ï¸âƒ£ æ›´æ–°å½“å‰é¡¹</span>
 Â  Â  Â cachedItem.<span class="hljs-property">height</span> = realHeight
 Â  Â  Â cachedItem.<span class="hljs-property">bottom</span> = cachedItem.<span class="hljs-property">top</span> + realHeight
â€‹
 Â  Â  Â <span class="hljs-comment">// 2ï¸âƒ£ çº§è”æ›´æ–°åç»­æ‰€æœ‰é¡¹çš„ä½ç½®</span>
 Â  Â  Â <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = realIndex + <span class="hljs-number">1</span>; i &lt; positionCache.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>; i++) {
 Â  Â  Â  Â <span class="hljs-keyword">const</span> prevItem = positionCache.<span class="hljs-property">value</span>[i - <span class="hljs-number">1</span>]
 Â  Â  Â  Â <span class="hljs-keyword">const</span> currItem = positionCache.<span class="hljs-property">value</span>[i]
 Â  Â  Â  Â currItem.<span class="hljs-property">top</span> = prevItem.<span class="hljs-property">bottom</span>
 Â  Â  Â  Â currItem.<span class="hljs-property">bottom</span> = currItem.<span class="hljs-property">top</span> + currItem.<span class="hljs-property">height</span>
 Â  Â   }
 Â   }
  })
â€‹
 Â <span class="hljs-comment">// å¦‚æœæœ‰æ›´æ–°ï¼Œé‡æ–°è®¡ç®—åç§»é‡</span>
 Â <span class="hljs-keyword">if</span> (needUpdate) {
 Â  Â contentOffset.<span class="hljs-property">value</span> = <span class="hljs-title function_">getContentOffset</span>()
  }
}
</code></pre>
<h4 data-id="heading-17">æ›´æ–°æµç¨‹å›¾è§£</h4>
<pre><code class="hljs language-scss" lang="scss">æ¸²æŸ“åæ›´æ–°æµç¨‹
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€‹
DOM æ¸²æŸ“å®Œæˆ (onUpdated + nextTick)
 Â   â”‚
 Â   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ éå†æ‰€æœ‰æ¸²æŸ“çš„ DOM èŠ‚ç‚¹ Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ itemRefs<span class="hljs-selector-class">.forEach</span>(node =&gt; ...) Â  Â  Â  Â  Â  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  â”‚
 Â  Â  Â  Â  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è·å–çœŸå®é«˜åº¦ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ const { <span class="hljs-attribute">height</span> } = <span class="hljs-built_in">getBoundingClientRect</span>() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  â”‚
 Â  Â  Â  Â  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¡ç®—é«˜åº¦å·® Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ heightDiff = realHeight - oldHeight Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â   â”‚
â”‚ ä¾‹å¦‚ï¼šoldHeight=<span class="hljs-number">50</span>, realHeight=<span class="hljs-number">80</span> Â  Â  Â  â”‚
â”‚ heightDiff = <span class="hljs-number">80</span> - <span class="hljs-number">50</span> = <span class="hljs-number">30</span> Â  Â  Â  Â  Â  Â  Â  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  Â  Â  â”‚
 Â  Â  Â  Â  â–¼
 Â   heightDiff !== <span class="hljs-number">0</span> ?
 Â  Â  Â  Â  â”‚
 Â   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
 Â   â”‚ æ˜¯ Â  Â   â”‚ å¦
 Â   â–¼ Â  Â  Â  Â  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ›´æ–°ç¼“å­˜ â”‚  â”‚ è·³è¿‡ Â   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 Â  Â  â”‚
 Â  Â  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-number">1</span>. æ›´æ–°å½“å‰é¡¹çš„ <span class="hljs-attribute">height</span> å’Œ <span class="hljs-attribute">bottom</span> Â  Â  Â  Â  â”‚
â”‚ <span class="hljs-number">2</span>. çº§è”æ›´æ–°åç»­æ‰€æœ‰é¡¹çš„ <span class="hljs-attribute">top</span> å’Œ <span class="hljs-attribute">bottom</span> Â   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-18">Step 5ï¼šæ»šåŠ¨å¤„ç†</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/** æ»šåŠ¨å¤„ç† - ä½¿ç”¨ RAF ä¼˜åŒ–æ€§èƒ½ */</span>
<span class="hljs-keyword">const</span> ticking = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleScroll</span> = (<span class="hljs-params">e</span>) =&gt; {
 Â <span class="hljs-keyword">if</span> (!ticking.<span class="hljs-property">value</span>) {
 Â  Â <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
 Â  Â  Â <span class="hljs-comment">// æ£€æŸ¥ç»„ä»¶æ˜¯å¦è¿˜å­˜åœ¨</span>
 Â  Â  Â <span class="hljs-keyword">if</span> (!containerRef.<span class="hljs-property">value</span>) {
 Â  Â  Â  Â ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
 Â  Â  Â  Â <span class="hljs-keyword">return</span>
 Â  Â   }
â€‹
 Â  Â  Â <span class="hljs-keyword">const</span> newScrollTop = e.<span class="hljs-property">target</span>.<span class="hljs-property">scrollTop</span>
 Â  Â  Â scrollTop.<span class="hljs-property">value</span> = newScrollTop
â€‹
 Â  Â  Â <span class="hljs-comment">// è®¡ç®—æ–°çš„èµ·å§‹ç´¢å¼•</span>
 Â  Â  Â <span class="hljs-keyword">const</span> newStartIndex = <span class="hljs-title function_">getStartIndex</span>(newScrollTop)
 Â  Â  Â 
 Â  Â  Â <span class="hljs-comment">// åªæœ‰ç´¢å¼•å˜åŒ–æ—¶æ‰æ›´æ–°ï¼Œå‡å°‘ä¸å¿…è¦çš„æ¸²æŸ“</span>
 Â  Â  Â <span class="hljs-keyword">if</span> (newStartIndex !== startIndex.<span class="hljs-property">value</span>) {
 Â  Â  Â  Â startIndex.<span class="hljs-property">value</span> = newStartIndex
 Â  Â  Â  Â contentOffset.<span class="hljs-property">value</span> = <span class="hljs-title function_">getContentOffset</span>()
 Â  Â   }
 Â  Â  Â 
 Â  Â  Â ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
 Â   })
 Â  Â ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
  }
}
</code></pre>
<h3 data-id="heading-19">Step 6ï¼šæ¨¡æ¿ç»“æ„</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
 Â <span class="hljs-comment">&lt;!-- å®¹å™¨ --&gt;</span>
 Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
 Â  Â <span class="hljs-attr">ref</span>=<span class="hljs-string">"containerRef"</span> 
 Â  Â <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span> 
 Â  Â <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ height: containerHeight + 'px', width: containerWidth + 'px' }"</span>
 Â &gt;</span>
 Â  Â <span class="hljs-comment">&lt;!-- å¹½çµå±‚ï¼šæ’‘èµ·æ»šåŠ¨æ¡ --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
 Â  Â  Â <span class="hljs-attr">ref</span>=<span class="hljs-string">"phantomRef"</span> 
 Â  Â  Â <span class="hljs-attr">class</span>=<span class="hljs-string">"phantom"</span> 
 Â  Â  Â <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ height: phantomHeight + 'px' }"</span>
 Â  Â /&gt;</span>
 Â  Â 
 Â  Â <span class="hljs-comment">&lt;!-- å†…å®¹å±‚ï¼šé€šè¿‡ transform å®šä½ --&gt;</span>
 Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
 Â  Â  Â <span class="hljs-attr">ref</span>=<span class="hljs-string">"contentRef"</span> 
 Â  Â  Â <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span> 
 Â  Â  Â <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ transform: `translateY(${contentOffset}px)` }"</span>
 Â  Â &gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">div</span> 
 Â  Â  Â  Â <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, index) in visibleData"</span> 
 Â  Â  Â  Â <span class="hljs-attr">:key</span>=<span class="hljs-string">"startIndex + index"</span> 
 Â  Â  Â  Â <span class="hljs-attr">:ref</span>=<span class="hljs-string">"el =&gt; setItemRef(el, index)"</span>
 Â  Â  Â  Â <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item"</span>
 Â  Â  Â &gt;</span>
 Â  Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">"item"</span> <span class="hljs-attr">:index</span>=<span class="hljs-string">"startIndex + index"</span>&gt;</span>
 Â  Â  Â  Â   {{ item }}
 Â  Â  Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
 Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<h3 data-id="heading-20">æ•ˆæœ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df2abc01586c48acac998bb38faadf37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFzaGFu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770787019&amp;x-signature=30zWXrODPacmYzYxrMFiZ6uSs5w%3D" alt="lovegif_1770182005883.gif" loading="lazy"/></p>
<h3 data-id="heading-21">å®Œæ•´ä»£ç </h3>
<p>ğŸ“¦ å®Œæ•´ç»„ä»¶ä»£ç </p>
<pre><code class="hljs language-js" lang="js">&lt;!-- åŠ¨æ€é«˜åº¦list --&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- å®¹å™¨ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"containerRef"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ height: containerHeight + 'px', width: containerWidth + 'px' }"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å¹½çµé«˜åº¦ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"phantomRef"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"phantom"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ height: phantomHeight + 'px' }"</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å†…å®¹åŒºåŸŸ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"contentRef"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">"{ transform: `translateY(${contentOffset}px)` }"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, index) in visibleData"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"startIndex + index"</span> <span class="hljs-attr">:ref</span>=<span class="hljs-string">"el =&gt; setItemRef(el, index)"</span>
                <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">:item</span>=<span class="hljs-string">"item"</span> <span class="hljs-attr">:index</span>=<span class="hljs-string">"startIndex + index"</span>&gt;</span>
                    {{ item }}
                <span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { ref, computed, onMounted, onUnmounted, onActivated, onDeactivated, toRefs, onUpdated, nextTick, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
    <span class="hljs-comment">// æ•°æ®æº</span>
    <span class="hljs-attr">listData</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Array</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-function">() =&gt;</span> []
    },
    <span class="hljs-comment">// é¢„ä¼°é«˜åº¦</span>
    <span class="hljs-attr">estimatedHeight</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-number">50</span>
    },
    <span class="hljs-comment">// å®¹å™¨é«˜åº¦</span>
    <span class="hljs-attr">containerHeight</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-number">400</span>
    },
    <span class="hljs-comment">//å®¹å™¨å®½åº¦</span>
    <span class="hljs-attr">containerWidth</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-number">300</span>
    },
    <span class="hljs-comment">// ç¼“å†²åŒºå¤§å°</span>
    <span class="hljs-attr">bufferSize</span>: {
        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-number">5</span>
    }
})

<span class="hljs-keyword">const</span> { listData, estimatedHeight, containerHeight, bufferSize } = <span class="hljs-title function_">toRefs</span>(props)

<span class="hljs-comment">// å®¹å™¨ ref</span>
<span class="hljs-keyword">const</span> containerRef = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>);
<span class="hljs-comment">//åˆ—è¡¨é¡¹ref</span>
<span class="hljs-keyword">const</span> itemRefs = <span class="hljs-title function_">ref</span>([])
<span class="hljs-comment">// ç»„ä»¶æ˜¯å¦æ¿€æ´»ï¼ˆç”¨äº keep-aliveï¼‰</span>
<span class="hljs-keyword">const</span> isActive = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">true</span>)

<span class="hljs-comment">/** ä½ç½®ç¼“å­˜è¡¨ */</span>
<span class="hljs-keyword">const</span> positionCache = <span class="hljs-title function_">ref</span>([])
<span class="hljs-comment">// å½“å‰æ»šåŠ¨ä½ç½®</span>
<span class="hljs-keyword">const</span> scrollTop = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);
<span class="hljs-comment">// å¼€å§‹ç´¢å¼•</span>
<span class="hljs-keyword">const</span> startIndex = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)
<span class="hljs-comment">//å†…å®¹åç§»é‡</span>
<span class="hljs-keyword">const</span> contentOffset = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)



<span class="hljs-comment">// è®¡ç®—ï¼šå¹½çµå±‚é«˜åº¦ï¼ˆæ’‘èµ·æ»šåŠ¨æ¡ï¼‰</span>
<span class="hljs-keyword">const</span> phantomHeight = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> cache = positionCache.<span class="hljs-property">value</span>
    <span class="hljs-keyword">if</span> (!cache.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">return</span> cache[cache.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>]?.<span class="hljs-property">bottom</span> || <span class="hljs-number">0</span>
})
<span class="hljs-comment">//è®¡ç®—ï¼š å¯è§æ•°é‡</span>
<span class="hljs-keyword">const</span> visibleCount = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(containerHeight.<span class="hljs-property">value</span> / estimatedHeight.<span class="hljs-property">value</span>) + bufferSize.<span class="hljs-property">value</span>
})
<span class="hljs-comment">//è®¡ç®—: ç»“æŸç´¢å¼•</span>
<span class="hljs-keyword">const</span> endIndex = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(startIndex.<span class="hljs-property">value</span> + visibleCount.<span class="hljs-property">value</span>, props.<span class="hljs-property">listData</span>.<span class="hljs-property">length</span>)
})
<span class="hljs-comment">//è®¡ç®—ï¼šå¯è§æ•°æ®</span>
<span class="hljs-keyword">const</span> visibleData = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> listData.<span class="hljs-property">value</span>.<span class="hljs-title function_">slice</span>(startIndex.<span class="hljs-property">value</span>, endIndex.<span class="hljs-property">value</span>)
})



<span class="hljs-comment">/** åˆå§‹åŒ–ä½ç½® */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">initPositionCache</span> = (<span class="hljs-params">listData, estimatedHeight</span>) =&gt; {
    positionCache.<span class="hljs-property">value</span> = listData.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> {
            index,
            <span class="hljs-attr">top</span>: index * estimatedHeight,
            <span class="hljs-attr">bottom</span>: (index + <span class="hljs-number">1</span>) * estimatedHeight,
            <span class="hljs-attr">height</span>: estimatedHeight
        }
    })
}

<span class="hljs-comment">/** è·å–å¼€å§‹ç´¢å¼• */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getStartIndex</span> = (<span class="hljs-params">scrollTop</span>) =&gt; {
    <span class="hljs-keyword">if</span> (!positionCache.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">const</span> item = positionCache.<span class="hljs-property">value</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item &amp;&amp; item.<span class="hljs-property">bottom</span> &gt; scrollTop)
    <span class="hljs-keyword">return</span> item ? item.<span class="hljs-property">index</span> : <span class="hljs-number">0</span>
}

<span class="hljs-comment">/** è·å–åç§»é‡ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getContentOffset</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">if</span> (startIndex.<span class="hljs-property">value</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">const</span> cache = positionCache.<span class="hljs-property">value</span>
    <span class="hljs-keyword">return</span> cache[startIndex.<span class="hljs-property">value</span>]?.<span class="hljs-property">top</span> || <span class="hljs-number">0</span>
}

<span class="hljs-comment">/** è®¾ç½®åˆ—è¡¨é¡¹ refï¼ˆå‡½æ•°å½¢å¼ï¼‰ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">setItemRef</span> = (<span class="hljs-params">el, index</span>) =&gt; {
    <span class="hljs-keyword">if</span> (el) {
        itemRefs.<span class="hljs-property">value</span>[index] = el
    }
}


<span class="hljs-comment">/** æ›´æ–°é«˜åº¦ä¿¡æ¯ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">updatePositions</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// å¦‚æœç»„ä»¶æœªæ¿€æ´»ï¼ˆkeep-alive ç¼“å­˜ä¸­ï¼‰ï¼Œä¸æ›´æ–°</span>
    <span class="hljs-keyword">if</span> (!isActive.<span class="hljs-property">value</span>) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">const</span> nodes = itemRefs.<span class="hljs-property">value</span>
    <span class="hljs-keyword">if</span> (!nodes.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">let</span> needUpdate = <span class="hljs-literal">false</span>

    nodes.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">node, idx</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (!node) <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">const</span> realIndex = startIndex.<span class="hljs-property">value</span> + idx
        <span class="hljs-keyword">const</span> rect = node.<span class="hljs-title function_">getBoundingClientRect</span>()
        <span class="hljs-keyword">const</span> realHeight = rect.<span class="hljs-property">height</span>

        <span class="hljs-comment">// å¦‚æœé«˜åº¦ä¸º 0ï¼Œè¯´æ˜å…ƒç´ ä¸å¯è§ï¼Œè·³è¿‡</span>
        <span class="hljs-keyword">if</span> (realHeight === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">const</span> cachedItem = positionCache.<span class="hljs-property">value</span>[realIndex]

        <span class="hljs-keyword">if</span> (!cachedItem) <span class="hljs-keyword">return</span>

        <span class="hljs-keyword">const</span> oldHeight = cachedItem.<span class="hljs-property">height</span>
        <span class="hljs-keyword">const</span> heightDiff = realHeight - oldHeight

        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(heightDiff) &gt; <span class="hljs-number">0.5</span>) {  <span class="hljs-comment">// å…è®¸ 0.5px è¯¯å·®</span>
            needUpdate = <span class="hljs-literal">true</span>

            <span class="hljs-comment">// æ›´æ–°å½“å‰é¡¹</span>
            cachedItem.<span class="hljs-property">height</span> = realHeight
            cachedItem.<span class="hljs-property">bottom</span> = cachedItem.<span class="hljs-property">top</span> + realHeight

            <span class="hljs-comment">// æ›´æ–°åç»­æ‰€æœ‰é¡¹çš„ä½ç½®</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = realIndex + <span class="hljs-number">1</span>; i &lt; positionCache.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>; i++) {
                <span class="hljs-keyword">const</span> prevItem = positionCache.<span class="hljs-property">value</span>[i - <span class="hljs-number">1</span>]
                <span class="hljs-keyword">const</span> currItem = positionCache.<span class="hljs-property">value</span>[i]
                currItem.<span class="hljs-property">top</span> = prevItem.<span class="hljs-property">bottom</span>
                currItem.<span class="hljs-property">bottom</span> = currItem.<span class="hljs-property">top</span> + currItem.<span class="hljs-property">height</span>
            }
        }
    })

    <span class="hljs-comment">// å¦‚æœæœ‰æ›´æ–°ï¼Œé‡æ–°è®¡ç®—åç§»é‡</span>
    <span class="hljs-keyword">if</span> (needUpdate) {
        contentOffset.<span class="hljs-property">value</span> = <span class="hljs-title function_">getContentOffset</span>()
    }

}



<span class="hljs-comment">/** æ»šåŠ¨å¤„ç† RAF */</span>
<span class="hljs-keyword">const</span> ticking = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">handleScroll</span> = (<span class="hljs-params">e</span>) =&gt; {
    <span class="hljs-keyword">if</span> (!ticking.<span class="hljs-property">value</span>) {
        <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
            <span class="hljs-comment">// æ£€æŸ¥ç»„ä»¶æ˜¯å¦è¿˜å­˜åœ¨</span>
            <span class="hljs-keyword">if</span> (!containerRef.<span class="hljs-property">value</span>) {
                ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
                <span class="hljs-keyword">return</span>
            }

            <span class="hljs-keyword">const</span> newScrollTop = e.<span class="hljs-property">target</span>.<span class="hljs-property">scrollTop</span>
            scrollTop.<span class="hljs-property">value</span> = newScrollTop

            <span class="hljs-comment">// è®¡ç®—æ–°çš„èµ·å§‹ç´¢å¼•</span>
            <span class="hljs-keyword">const</span> newStartIndex = <span class="hljs-title function_">getStartIndex</span>(newScrollTop)
            <span class="hljs-comment">// åªæœ‰ç´¢å¼•å˜åŒ–æ—¶æ‰æ›´æ–°</span>
            <span class="hljs-keyword">if</span> (newStartIndex !== startIndex.<span class="hljs-property">value</span>) {
                startIndex.<span class="hljs-property">value</span> = newStartIndex
                contentOffset.<span class="hljs-property">value</span> = <span class="hljs-title function_">getContentOffset</span>()
            }
            ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
        })
        ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    }
}


<span class="hljs-comment">/** ç”Ÿå‘½å‘¨æœŸ */</span>
<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ç»‘å®šæ»šåŠ¨äº‹ä»¶ï¼ˆåˆå§‹åŒ–ç§»åˆ° watch ä¸­å¤„ç†ï¼‰</span>
    containerRef.<span class="hljs-property">value</span>?.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll, { <span class="hljs-attr">passive</span>: <span class="hljs-literal">true</span> })
})


<span class="hljs-title function_">onUpdated</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">nextTick</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">updatePositions</span>()
    })
})

<span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> {
    containerRef.<span class="hljs-property">value</span>?.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll)
    <span class="hljs-comment">// æ¸…ç©ºçŠ¶æ€ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼å’Œå½±å“å…¶ä»–é¡µé¢</span>
    itemRefs.<span class="hljs-property">value</span> = []
    positionCache.<span class="hljs-property">value</span> = []
    ticking.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    isActive.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
})

<span class="hljs-comment">// keep-alive æ¿€æ´»æ—¶</span>
<span class="hljs-title function_">onActivated</span>(<span class="hljs-function">() =&gt;</span> {
    isActive.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
    <span class="hljs-comment">// é‡æ–°ç»‘å®šæ»šåŠ¨äº‹ä»¶ï¼ˆä»¥é˜²ä¸‡ä¸€ï¼‰</span>
    containerRef.<span class="hljs-property">value</span>?.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll, { <span class="hljs-attr">passive</span>: <span class="hljs-literal">true</span> })
})

<span class="hljs-comment">// keep-alive åœç”¨æ—¶</span>
<span class="hljs-title function_">onDeactivated</span>(<span class="hljs-function">() =&gt;</span> {
    isActive.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
    <span class="hljs-comment">// ç§»é™¤æ»šåŠ¨äº‹ä»¶ï¼Œé˜²æ­¢åœ¨åå°è§¦å‘</span>
    containerRef.<span class="hljs-property">value</span>?.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>, handleScroll)
})

<span class="hljs-comment">// ç›‘å¬æ•°æ®å˜åŒ–ï¼Œé‡æ–°åˆå§‹åŒ–ä½ç½®ç¼“å­˜</span>
<span class="hljs-title function_">watch</span>(
    <span class="hljs-function">() =&gt;</span> props.<span class="hljs-property">listData</span>,
    <span class="hljs-function">(<span class="hljs-params">newData</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (newData &amp;&amp; newData.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// æ¸…ç©ºæ—§çš„ refs</span>
            itemRefs.<span class="hljs-property">value</span> = []
            <span class="hljs-comment">// é‡æ–°åˆå§‹åŒ–ä½ç½®ç¼“å­˜</span>
            <span class="hljs-title function_">initPositionCache</span>(newData, estimatedHeight.<span class="hljs-property">value</span>)
            <span class="hljs-comment">// é‡ç½®æ»šåŠ¨çŠ¶æ€</span>
            scrollTop.<span class="hljs-property">value</span> = <span class="hljs-number">0</span>
            startIndex.<span class="hljs-property">value</span> = <span class="hljs-number">0</span>
            contentOffset.<span class="hljs-property">value</span> = <span class="hljs-number">0</span>
            <span class="hljs-comment">// é‡ç½®å®¹å™¨æ»šåŠ¨ä½ç½®</span>
            <span class="hljs-keyword">if</span> (containerRef.<span class="hljs-property">value</span>) {
                containerRef.<span class="hljs-property">value</span>.<span class="hljs-property">scrollTop</span> = <span class="hljs-number">0</span>
            }
        }
    },
    {
        <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// ç«‹å³æ‰§è¡Œä¸€æ¬¡ï¼ˆå¤„ç†åˆå§‹æ•°æ®ï¼‰</span>
        <span class="hljs-attr">deep</span>: <span class="hljs-literal">false</span>       <span class="hljs-comment">// ä¸éœ€è¦æ·±åº¦ç›‘å¬ï¼Œåªç›‘å¬æ•°ç»„å¼•ç”¨å˜åŒ–</span>
    }
)

</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"less"</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="css">
<span class="hljs-selector-class">.container</span> {
    <span class="hljs-attribute">position</span>: relative;
    <span class="hljs-attribute">overflow-y</span>: auto;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e4e7ed</span>;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
    // ä¼˜åŒ–æ»šåŠ¨æ€§èƒ½
    <span class="hljs-attribute">will-change</span>: transform;
    -webkit-<span class="hljs-attribute">overflow</span>-scrolling: touch;
}

<span class="hljs-selector-class">.phantom</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">z-index</span>: -<span class="hljs-number">1</span>;
}

<span class="hljs-selector-class">.content</span> {
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">will-change</span>: transform;
}

<span class="hljs-selector-class">.list-item</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">16px</span>;
    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#f0f0f0</span>;
    <span class="hljs-attribute">box-sizing</span>: border-box;
    <span class="hljs-attribute">word-break</span>: break-word;

    &amp;<span class="hljs-selector-pseudo">:last-child</span> {
        <span class="hljs-attribute">border-bottom</span>: none;
    }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
</code></pre>
<h2 data-id="heading-22">ğŸ‰ ç»“è¯­</h2>
<p>åŠ¨æ€é«˜åº¦è™šæ‹Ÿåˆ—è¡¨æ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¸­çš„é‡è¦æŠ€æœ¯ï¼ŒæŒæ¡å®ƒå¯ä»¥è®©ä½ è½»æ¾åº”å¯¹å„ç§é•¿åˆ—è¡¨åœºæ™¯ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ·±å…¥ç†è§£å…¶åŸç†å¹¶åº”ç”¨åˆ°å®é™…é¡¹ç›®ä¸­ï¼</p>
<p>å¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµæ”¶è— ğŸ‘</p>
<blockquote>
<p><strong>ä¸‹æœŸé¢„å‘Š</strong>ï¼šè™šæ‹Ÿåˆ—è¡¨ç³»åˆ—ï¼ˆ3ï¼‰â€”â€” ä¼˜åŒ–æ€§èƒ½</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘åšäº†ä¸ª OpenClaw å…¥é—¨ç«™ï¼Œ7å¤©æ•™ç¨‹ + 70ç¯‡èµ„æºå…¨ç½‘æœ€å…¨]]></title>    <link>https://juejin.cn/post/7602466689713389583</link>    <guid>https://juejin.cn/post/7602466689713389583</guid>    <pubDate>2026-02-04T05:33:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602466689713389583" data-draft-id="7602474148095705140" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘åšäº†ä¸ª OpenClaw å…¥é—¨ç«™ï¼Œ7å¤©æ•™ç¨‹ + 70ç¯‡èµ„æºå…¨ç½‘æœ€å…¨"/> <meta itemprop="keywords" content="AIGC,AIç¼–ç¨‹,Agent"/> <meta itemprop="datePublished" content="2026-02-04T05:33:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­Ÿå¥AIç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/4212984287073895"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘åšäº†ä¸ª OpenClaw å…¥é—¨ç«™ï¼Œ7å¤©æ•™ç¨‹ + 70ç¯‡èµ„æºå…¨ç½‘æœ€å…¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984287073895/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­Ÿå¥AIç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:33:31.000Z" title="Wed Feb 04 2026 05:33:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å­Ÿå¥ã€‚</p>
<p><strong>10 ä¸‡ Star çš„ AI åŠ©æ‰‹é¡¹ç›®ï¼Œä¸­æ–‡æ•™ç¨‹å±…ç„¶è¿˜æ²¡äººç³»ç»Ÿæ•´ç†ã€‚</strong></p>
<p>æ‰€ä»¥æˆ‘èŠ±äº†ä¸¤å¤©ï¼Œåšäº†ä¸€ä¸ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2F" target="_blank" title="https://openclaw101.dev/" ref="nofollow noopener noreferrer">openclaw101.dev</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16462e6a35694503bcac49035573bd31~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788014&amp;x-signature=tiwNpYRmKgqTiVNzbfsR4wfXhXU%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">01 ä¸ºä»€ä¹ˆåšè¿™ä¸ªç«™</h2>
<p>OpenClawï¼ˆåŸ Clawdbot/Moltbotï¼‰æœ€è¿‘ç«å¾—ä¸€å¡Œç³Šæ¶‚ã€‚</p>
<p>GitHub ä¸Š 10 ä¸‡+ Starï¼ŒForbesã€CNBCã€The Verge è½®ç•ªæŠ¥é“ã€‚</p>
<p>ä½†ä½ å»æœæ•™ç¨‹ï¼Œä¼šå‘ç°ï¼š</p>
<ul>
<li>
<p>å®˜æ–¹æ–‡æ¡£æ˜¯è‹±æ–‡çš„ï¼Œè¿˜å¾ˆé›¶æ•£</p>
</li>
<li>
<p>ä¸­æ–‡æ•™ç¨‹è¦ä¹ˆå¤ªæµ…ï¼Œè¦ä¹ˆå¤ªè€</p>
</li>
<li>
<p>æƒ³ç³»ç»Ÿå­¦ä¹ ï¼Ÿæ‰¾ä¸åˆ°è·¯å¾„</p>
</li>
</ul>
<p><strong>æˆ‘å†³å®šæŠŠè¿™ä¸ªé—¨æ§›è¸©å¹³ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a17e7224f5d14b58b35508dcf2e885f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788014&amp;x-signature=IATMgjn5SaUNJ1HS38RFyt%2B1Qgc%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">02 7 å¤©å­¦ä¹ è·¯å¾„</h2>
<p>æˆ‘æŠŠ OpenClaw çš„å­¦ä¹ æ‹†æˆäº† 7 å¤©ï¼š</p>













































<table><thead><tr><th>Day</th><th>ä¸»é¢˜</th><th>ä½ ä¼šè·å¾—</th></tr></thead><tbody><tr><td>1</td><td>è®¤è¯† OpenClaw</td><td>ç†è§£å®ƒå’Œ ChatGPT çš„æœ¬è´¨åŒºåˆ«</td></tr><tr><td>2</td><td>å®‰è£…éƒ¨ç½²</td><td>10 åˆ†é’Ÿè·‘èµ·æ¥ç¬¬ä¸€ä¸ªåŠ©æ‰‹</td></tr><tr><td>3</td><td>èµ‹äºˆçµé­‚</td><td>SOUL.md / USER.md é…ç½®</td></tr><tr><td>4</td><td>æ¥å…¥ç”Ÿæ´»</td><td>Gmailã€æ—¥å†ã€æœç´¢å¯¹æ¥</td></tr><tr><td>5</td><td>æŠ€èƒ½æ‰©å±•</td><td>å®‰è£… 700+ Skills</td></tr><tr><td>6</td><td>ä¸»åŠ¨å·¥ä½œ</td><td>å¿ƒè·³æœºåˆ¶ + å®šæ—¶ä»»åŠ¡</td></tr><tr><td>7</td><td>è¿›é˜¶ç©æ³•</td><td>è‡ªå®šä¹‰å¼€å‘ + å®‰å…¨é…ç½®</td></tr></tbody></table>
<p>æ¯å¤©ä¸€ä¸ªä¸»é¢˜ï¼Œè·Ÿç€åšå°±å®Œäº‹äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2347f6325c0491382730c91987602e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788014&amp;x-signature=TgOpRFH1UvcMssl2Dj44i11NTAo%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸æ˜¯è®©ä½ "äº†è§£"ï¼Œæ˜¯è®©ä½ "ç”¨ä¸Š"ã€‚</strong></p>
<p>ä¸­æ–‡ç‰ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2Fzh" target="_blank" title="https://openclaw101.dev/zh" ref="nofollow noopener noreferrer">openclaw101.dev/zh</a></p>
<p>è‹±æ–‡ç‰ˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2F" target="_blank" title="https://openclaw101.dev/" ref="nofollow noopener noreferrer">openclaw101.dev</a></p>
<hr/>
<h2 data-id="heading-2">03 70+ ç²¾é€‰èµ„æº</h2>
<p>æˆ‘æŠŠå…¨ç½‘çš„ OpenClaw æ•™ç¨‹æ‰«äº†ä¸€éï¼Œç²¾é€‰äº† <strong>70 å¤šç¯‡</strong> æœ€æœ‰ä»·å€¼çš„ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebb8700a37a94883966a6b973ef17940~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788014&amp;x-signature=pCDldHCBlXylGQVog%2Fv2YfjFRVE%3D" alt="" loading="lazy"/></p>
<p><strong>äº‘å¹³å°éƒ¨ç½²</strong></p>
<ul>
<li>
<p>é˜¿é‡Œäº‘ä¸€é”®éƒ¨ç½²ï¼ˆé’‰é’‰/ä¼å¾®ï¼‰</p>
</li>
<li>
<p>è…¾è®¯äº‘ Lighthouseï¼ˆé£ä¹¦/ä¼å¾®ï¼‰</p>
</li>
<li>
<p>AWS Mac å®ä¾‹ï¼ˆè‹¹æœç”Ÿæ€è‡ªåŠ¨åŒ–ï¼‰</p>
</li>
<li>
<p>DigitalOcean ä¸€é”®æ–¹æ¡ˆ</p>
</li>
</ul>
<p><strong>å…¥é—¨æ•™ç¨‹</strong></p>
<ul>
<li>
<p>èœé¸Ÿæ•™ç¨‹å®Œæ•´ç‰ˆ</p>
</li>
<li>
<p>Codecademy ç»“æ„åŒ–æ•™ç¨‹</p>
</li>
<li>
<p>DataCamp WhatsApp è¿œç¨‹æ§åˆ¶</p>
</li>
<li>
<p>æ˜é‡‘/CSDN/åšå®¢å›­ ä¿å§†çº§æ•™ç¨‹è‹¥å¹²</p>
</li>
</ul>
<p><strong>æ·±åº¦æ–‡ç« </strong></p>
<ul>
<li>
<p>IBM æ¶æ„åˆ†æ</p>
</li>
<li>
<p>Scientific American ç§‘æ™®</p>
</li>
<li>
<p>The Hacker News å®‰å…¨è­¦ç¤ºï¼ˆ341 ä¸ªæ¶æ„æŠ€èƒ½æ›å…‰ï¼‰</p>
</li>
<li>
<p>Cisco ä¼ä¸šå®‰å…¨åˆ†æ</p>
</li>
</ul>
<p><strong>è§†é¢‘æ•™ç¨‹</strong></p>
<ul>
<li>
<p>B ç«™ï¼šæ¶æ„è§£æã€è®°å¿†ç³»ç»Ÿæ‹†è§£ã€éƒ¨ç½²æ•™ç¨‹</p>
</li>
<li>
<p>YouTubeï¼šè‹±æ–‡å…¥é—¨æ•™ç¨‹</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46622fa8e195468c9c7f37592b9b165c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788014&amp;x-signature=6acvBhO1J1fzvmFoCrf%2BmyPd%2FbE%3D" alt="" loading="lazy"/></p>
<p>å…¨éƒ¨åˆ†ç±»æ•´ç†å¥½äº†ï¼Œä¸­è‹±æ–‡éƒ½æœ‰ï¼Œç›´æ¥å»çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2Fresources" target="_blank" title="https://openclaw101.dev/resources" ref="nofollow noopener noreferrer">openclaw101.dev/resources</a></p>
<hr/>
<h2 data-id="heading-3">04 ä¸ºä»€ä¹ˆç°åœ¨å€¼å¾—å­¦</h2>
<p>ä¸‰ä¸ªåŸå› ï¼š</p>
<ol>
<li><strong>AI Agent å…ƒå¹´</strong></li>
</ol>
<p>2025 å¹´åº• AI æ¨¡å‹è·¨è¿‡äº†ä¸€ä¸ªä¸´ç•Œç‚¹â€”â€”èƒ½å¤šæ­¥æ¨ç†ã€èƒ½æŒç»­ä¸Šä¸‹æ–‡ã€èƒ½è‡ªå·±å†™ä»£ç æ‰§è¡Œã€‚OpenClaw æ˜¯ç¬¬ä¸€æ‰¹åƒåˆ°çº¢åˆ©çš„é¡¹ç›®ã€‚</p>
<ol start="2">
<li><strong>æ—©å­¦æ—©å—ç›Š</strong></li>
</ol>
<p>AI åŠ©æ‰‹å’Œä¼ ç»Ÿè½¯ä»¶æœ€å¤§çš„åŒºåˆ«æ˜¯ï¼š<strong>å®ƒä¼šéšæ—¶é—´å˜å¥½</strong>ã€‚ä½ çš„ MEMORY.md ä¼šç§¯ç´¯åå¥½ï¼ŒæŠ€èƒ½ä¼šè¶Šè£…è¶Šå¤šã€‚ä»Šå¤©ä¸å¼€å§‹ï¼Œå°±æ˜¯æ™šä¸€å¤©è®©åŠ©æ‰‹è®¤è¯†ä½ ã€‚</p>
<ol start="3">
<li><strong>ç«äº‰æ‰åˆšå¼€å§‹</strong></li>
</ol>
<p>ç°åœ¨ç”¨ OpenClaw çš„äººè¿˜ä¸å¤šï¼Œä¼šé…ç½®çš„æ›´å°‘ã€‚è¿™æ˜¯ä¸€ä¸ªçª—å£æœŸã€‚ç­‰åŠå¹´åäººäººéƒ½ä¼šç”¨äº†ï¼Œçº¢åˆ©å°±æ²¡äº†ã€‚</p>
<p><strong>å·¥å…·å°±æ‘†åœ¨é‚£é‡Œã€‚ç”¨ä¸ç”¨ï¼Œæ˜¯ä½ çš„äº‹ã€‚</strong></p>
<hr/>
<h2 data-id="heading-4">05 ä¸€ç‚¹æ„Ÿæƒ³</h2>
<p>æˆ‘åšè¿™ä¸ªç«™ï¼Œä¸æ˜¯ä¸ºäº†æµé‡ã€‚</p>
<p>æ˜¯å› ä¸ºæˆ‘è‡ªå·±åœ¨ç”¨ OpenClawï¼Œæˆ‘çš„ AI åŠ©æ‰‹ã€Œå°å¢¨ã€å°±è·‘åœ¨ä¸Šé¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8b9cd91aeb14d03bc512a257f014a3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788014&amp;x-signature=Bi7F%2BZm%2B2c3FLh1b4UHycoDhf%2F0%3D" alt="" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fxiaomo.dev%2F" target="_blank" title="https://xiaomo.dev/" ref="nofollow noopener noreferrer">xiaomo.dev/</a></p>
<p>å®ƒæ¯å¤©å¸®æˆ‘æ£€æŸ¥é‚®ä»¶ã€ç®¡ç†æ—¥å†ã€åˆ†ææ•°æ®ã€å†™ä»£ç ã€‚æˆ‘æƒ³è®©æ›´å¤šäººä½“éªŒåˆ°è¿™ç§æ•ˆç‡æ æ†ã€‚</p>
<p>è¿™ä¸ªé¡¹ç›®å®Œå…¨å¼€æºï¼Œç«™ç‚¹ä»£ç ä¹Ÿå¼€æºã€‚å¦‚æœä½ è§‰å¾—æœ‰ç”¨ï¼Œå¸®æˆ‘ç‚¹ä¸ª Star æˆ–è€…è½¬å‘ä¸€ä¸‹ï¼Œå°±æ˜¯æœ€å¤§çš„æ”¯æŒã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmengjian-github%2Fopenclaw101" target="_blank" title="https://github.com/mengjian-github/openclaw101" ref="nofollow noopener noreferrer">github.com/mengjian-giâ€¦</a></p>
<hr/>
<h2 data-id="heading-5">å†™åœ¨æœ€å</h2>
<ul>
<li>
<p>7 å¤©æ•™ç¨‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2Fzh" target="_blank" title="https://openclaw101.dev/zh" ref="nofollow noopener noreferrer">openclaw101.dev/zh</a></p>
</li>
<li>
<p>èµ„æºèšåˆï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopenclaw101.dev%2Fresources" target="_blank" title="https://openclaw101.dev/resources" ref="nofollow noopener noreferrer">openclaw101.dev/resources</a></p>
</li>
<li>
<p>é£ä¹¦ç‰ˆæœ¬ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmy.feishu.cn%2Fwiki%2FYkWgwqSchi9xW3kEuZscAm0lnFf" target="_blank" title="https://my.feishu.cn/wiki/YkWgwqSchi9xW3kEuZscAm0lnFf" ref="nofollow noopener noreferrer">å°å¢¨ AI åŠ©æ‰‹ â€” OpenClaw 7å¤©æ­å»ºæŒ‡å—</a></p>
</li>
</ul>
<p><strong>è¿™ä¸æ˜¯æœªæ¥ã€‚è¿™æ˜¯ç°åœ¨å·²ç»åœ¨è·‘çš„ä¸œè¥¿ã€‚</strong></p>
<hr/>
<p>å¦‚æœè¿™ç¯‡å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—ã€å…³æ³¨ï¼Œä½ çš„æ”¯æŒæ˜¯æˆ‘æŒç»­è¾“å‡ºçš„åŠ¨åŠ› âœ¨</p>
<hr/>
<p>æˆ‘çš„å…¶ä»–å¹³å°è´¦å·å’Œå¼€æºé¡¹ç›®åœ¨ä¸ªäººä¸»é¡µä¸­ï¼Œæ¬¢è¿äº¤æµ ğŸ¤</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python Pillow ä¼˜åŒ–ï¼Œæ‰“å¼€å’Œä¿å­˜é€Ÿåº¦æœ€å¿«æé«˜14å€]]></title>    <link>https://juejin.cn/post/7602544700475293706</link>    <guid>https://juejin.cn/post/7602544700475293706</guid>    <pubDate>2026-02-04T05:35:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602544700475293706" data-draft-id="7602551091516882953" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python Pillow ä¼˜åŒ–ï¼Œæ‰“å¼€å’Œä¿å­˜é€Ÿåº¦æœ€å¿«æé«˜14å€"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-02-04T05:35:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ·±åº¦æ¶Œç°"/> <meta itemprop="url" content="https://juejin.cn/user/2524932621734990"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python Pillow ä¼˜åŒ–ï¼Œæ‰“å¼€å’Œä¿å­˜é€Ÿåº¦æœ€å¿«æé«˜14å€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2524932621734990/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ·±åº¦æ¶Œç°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:35:47.000Z" title="Wed Feb 04 2026 05:35:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Tachyonåˆ†æå™¨</h2>
<p>æˆ‘è¯•ç”¨äº†<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.python.org%2Fdownloads%2Flatest%2Fpython3.15%2F" target="_blank" title="https://www.python.org/downloads/latest/python3.15/" ref="nofollow noopener noreferrer">Python 3.15</a>ä¸­æ–°å¢çš„â€œé«˜é¢‘ç»Ÿè®¡é‡‡æ ·åˆ†æå™¨â€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.python.org%2F3.15%2Fwhatsnew%2F3.15.html%23whatsnew315-sampling-profiler" target="_blank" title="https://docs.python.org/3.15/whatsnew/3.15.html#whatsnew315-sampling-profiler" ref="nofollow noopener noreferrer">Tachyon</a> ï¼Œçœ‹çœ‹èƒ½å¦æå‡ Pillow å›¾åƒå¤„ç†åº“çš„è¿è¡Œé€Ÿåº¦ã€‚æˆ‘é¦–å…ˆç¼–å†™äº†ä¸€ä¸ªç®€å•çš„è„šæœ¬æ¥æ‰“å¼€å›¾åƒï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image

im = Image.<span class="hljs-built_in">open</span>(<span class="hljs-string">f"Tests/images/hopper.<span class="hljs-subst">{sys.argv[<span class="hljs-number">1</span>]}</span>"</span>)
</code></pre>
<p>ç„¶åè¿è¡Œï¼š</p>
<pre><code class="hljs language-console" lang="console"><span class="hljs-meta prompt_">$ </span><span class="bash">python3.15 -m profiling.sampling run --flamegraph /tmp/1.py png</span>
Captured 35 samples in 0.04 seconds
Sample rate: 1,000.00 samples/sec
Error rate: 25.71
Flamegraph data: 1 root functions, total samples: 26, 169 unique strings
Flamegraph saved to: flamegraph_97927.html
</code></pre>
<p>ç”±æ­¤ç”Ÿæˆä»¥ä¸‹ç«ç„°å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0efd59e7112422abeded620541bd2c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex5bqm5raM546w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788149&amp;x-signature=ODDjO2PKj5VH76Aab9I5NNU4Wg4%3D" alt="Flame graph for opening a PNG with Pillow" loading="lazy"/></p>
<p>æ•´ä¸ªè¿‡ç¨‹è€—æ—¶ 40 æ¯«ç§’ï¼Œå…¶ä¸­ä¸€åŠåœ¨ <code>Image.py</code> çš„ <code>open()</code> ä¸­å®Œæˆã€‚å¦‚æœæ‚¨è®¿é—®<a href="https://link.juejin.cn?target=https%3A%2F%2Fhugovk.dev%2Fblog%2F2026%2Ffaster-pillow%2Fflamegraph_97927.html" target="_blank" title="https://hugovk.dev/blog/2026/faster-pillow/flamegraph_97927.html" ref="nofollow noopener noreferrer">äº¤äº’å¼ HTML é¡µé¢</a>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>open()</code> è°ƒç”¨ <code>preinit()</code>ï¼Œè€Œ <code>preinit()</code> åˆå¯¼å…¥äº† <code>GifImagePlugin</code>ã€<code>BmpImagePlugin</code>ã€<code>PngImagePlugin</code> å’Œ <code>JpegImagePlugin</code>ï¼ˆå°†é¼ æ ‡æ‚¬åœåœ¨ <code>&lt;module&gt;</code> æ¡†ä¸Šå³å¯æŸ¥çœ‹å®ƒä»¬ï¼‰ã€‚</p>
<p>æˆ‘ä»¬åªéœ€è¦ PNG æ ¼å¼ï¼ŒçœŸçš„éœ€è¦å¯¼å…¥æ‰€æœ‰è¿™äº›æ’ä»¶å—ï¼Ÿ</p>
<p>å¥½çš„ï¼Œæˆ‘ä»¬æ¥å°è¯•å¦ä¸€ç§ç±»å‹çš„å›¾åƒï¼š</p>
<pre><code class="hljs language-console" lang="console"><span class="hljs-meta prompt_">$ </span><span class="bash">python3.15 -m profiling.sampling run --flamegraph /tmp/1.py webp</span>
Captured 59 samples in 0.06 seconds
Sample rate: 1,000.00 samples/sec
Error rate: 22.03
Flamegraph data: 1 root functions, total samples: 46, 256 unique strings
Flamegraph saved to: flamegraph_98028.html
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e9c0cbd44ab4687902cdec3be05897f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex5bqm5raM546w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788149&amp;x-signature=cy556qq4eafDc9uRJjhybRzxbEI%3D" alt="Flame graph for opening a WebP with Pillow" loading="lazy"/></p>
<p>å—¯ï¼Œè€—æ—¶ 60 æ¯«ç§’ï¼Œå…¶ä¸­ 80% çš„æ—¶é—´åœ¨ <code>open()</code> ä¸­ï¼Œè€Œè¿™ 80% çš„æ—¶é—´åˆå¤§éƒ¨åˆ†åœ¨ <code>init()</code> ä¸­ã€‚HTML<a href="https://link.juejin.cn?target=https%3A%2F%2Fhugovk.dev%2Fblog%2F2026%2Ffaster-pillow%2Fflamegraph_98028.html" target="_blank" title="https://hugovk.dev/blog/2026/faster-pillow/flamegraph_98028.html" ref="nofollow noopener noreferrer">é¡µé¢</a>æ˜¾ç¤ºå®ƒå¯¼å…¥äº† <code>AvifImagePlugin</code>ã€<code>PdfImagePlugin</code>ã€<code>WebpImagePlugin</code>ã€<code>DcxImagePlugin</code>ã€<code>DdsImagePlugin</code> å’Œ <code>PalmImagePlugin</code>ã€‚æ­¤å¤–ï¼Œ<code>preinit</code> è¿˜å¯¼å…¥äº† <code>GifImagePlugin</code>ã€<code>BmpImagePlugin</code> å’Œ <code>PngImagePlugin</code>ã€‚</p>
<p>å†è¯´ä¸€éï¼Œæ—¢ç„¶æˆ‘ä»¬åªå…³å¿ƒ WebPï¼Œä¸ºä»€ä¹ˆè¿˜è¦å¯¼å…¥<em>æ›´å¤š</em>æ’ä»¶å‘¢ï¼Ÿ</p>
<h2 data-id="heading-1">æ­£åœ¨åŠ è½½æ‰€æœ‰æ’ä»¶ï¼Ÿ</h2>
<p>åˆ†æå°±åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä»£ç ã€‚</p>
<p>å½“å¯¹å›¾åƒè¿›è¡Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FImage.py%23L3525" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/Image.py#L3525" ref="nofollow noopener noreferrer"><code>open()</code></a>æˆ–<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FImage.py%23L2536" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/Image.py#L2536" ref="nofollow noopener noreferrer"><code>save()</code></a>å¤„ç†æ—¶ï¼Œå¦‚æœ Pillow å°šæœªåˆå§‹åŒ–ï¼Œæˆ‘ä»¬ä¼šè°ƒç”¨ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FImage.py%23L327-L369" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/Image.py#L327-L369" ref="nofollow noopener noreferrer"><code>preinit()</code></a>å‡½æ•°ã€‚è¯¥å‡½æ•°é€šè¿‡å¯¼å…¥æ’ä»¶æ¥åŠ è½½äº”ç§æ ¼å¼çš„é©±åŠ¨ç¨‹åºï¼šBMPã€GIFã€JPEGã€PPM å’Œ PNGã€‚</p>
<p>å¯¼å…¥è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸ªæ’ä»¶<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FGifImagePlugin.py%23L1204-L1211" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/GifImagePlugin.py#L1204-L1211" ref="nofollow noopener noreferrer">éƒ½ä¼šæ³¨å†Œ</a>å…¶æ–‡ä»¶æ‰©å±•åã€MIME ç±»å‹ä»¥åŠä¸€äº›ç”¨äºæ‰“å¼€å’Œä¿å­˜çš„æ–¹æ³•ã€‚</p>
<p>ç„¶åæˆ‘ä»¬ä¾æ¬¡æ£€æŸ¥æ¯ä¸ªæ’ä»¶ï¼Œçœ‹çœ‹å“ªä¸ªæ’ä»¶å¯ä»¥æ¥å—è¿™å¼ å›¾ç‰‡ã€‚Pillow çš„å¤§å¤šæ•°æ’ä»¶éƒ½æ˜¯é€šè¿‡æ‰“å¼€æ–‡ä»¶å¹¶æ£€æŸ¥å‰å‡ ä¸ªå­—èŠ‚æ˜¯å¦åŒ¹é…æŸä¸ªç‰¹å®šçš„å‰ç¼€æ¥æ£€æµ‹å›¾ç‰‡çš„ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FGifImagePlugin.py%23L73-L74" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/GifImagePlugin.py#L73-L74" ref="nofollow noopener noreferrer">GIF</a>ä»¥ <code>b"GIF87a"</code> æˆ– <code>b"GIF89a"</code> å¼€å¤´ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FPngImagePlugin.py%23L66" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/PngImagePlugin.py#L66" ref="nofollow noopener noreferrer">PNG</a>ä»¥ <code>b"\211PNG\r\n\032\n"</code> å¼€å¤´ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2FPNG-Rationale.html%23R.PNG-file-signature" target="_blank" title="https://www.w3.org/TR/PNG-Rationale.html#R.PNG-file-signature" ref="nofollow noopener noreferrer">å‚è€ƒ</a>ï¼‰ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FJpegImagePlugin.py%23L334-L336" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/JpegImagePlugin.py#L334-L336" ref="nofollow noopener noreferrer">JPEG</a>ä»¥ <code>b"\xff\xd8\xff"</code> å¼€å¤´ï¼Œå…¶ä¸­ <code>\xff\xd8</code> è¡¨ç¤ºâ€œå›¾åƒçš„å¼€å§‹â€ï¼Œ<code>\xff</code> è¡¨ç¤ºä¸‹ä¸€ä¸ªæ ‡è®°çš„å¼€å§‹ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FJPEG%23Syntax_and_structure" target="_blank" title="https://en.wikipedia.org/wiki/JPEG#Syntax_and_structure" ref="nofollow noopener noreferrer">å‚è€ƒ</a>ï¼‰ã€‚</li>
</ul>
<p>å¦‚æœè¿™äº”ä¸ªæ’ä»¶éƒ½ä¸ç¬¦åˆæ¡ä»¶ï¼Œæˆ‘ä»¬å°±è°ƒç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fblob%2F12.1.0%2Fsrc%2FPIL%2FImage.py%23L372-L396" target="_blank" title="https://github.com/python-pillow/Pillow/blob/12.1.0/src/PIL/Image.py#L372-L396" ref="nofollow noopener noreferrer"><code>init()</code></a>ï¼Œå®ƒä¼šå¯¼å…¥å‰©ä½™çš„ 42 ä¸ªæ’ä»¶ã€‚ç„¶åï¼Œæˆ‘ä»¬é€ä¸ªæ£€æŸ¥è¿™äº›æ’ä»¶æ˜¯å¦åŒ¹é…ã€‚</p>
<p>è¿™ç§æƒ…å†µè‡³å°‘ä» 2000 å¹´å‘å¸ƒçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fhugovk%2Fpil-svn.effbot.org%2Fblame%2Fmaster%2FPIL%2FImage.py%23L290" target="_blank" title="https://github.com/hugovk/pil-svn.effbot.org/blame/master/PIL/Image.py#L290" ref="nofollow noopener noreferrer">PIL 1.1.1</a>ç‰ˆæœ¬å¼€å§‹å°±å­˜åœ¨ï¼ˆè¿™æ˜¯æˆ‘èƒ½æŸ¥åˆ°çš„æœ€æ—©ç‰ˆæœ¬ï¼‰ã€‚å½“æ—¶æœ‰ 33 ä¸ªå†…ç½®æ’ä»¶ï¼Œç°åœ¨æ˜¯ 47 ä¸ªã€‚</p>
<h2 data-id="heading-2">æ‡’åŠ è½½</h2>
<p>å¦‚æœä¸€ä¸ªç¨‹åºåœ¨å…¶ç”Ÿå‘½å‘¨æœŸå†…åªéœ€è¦ä¸€ä¸¤ç§å›¾åƒæ ¼å¼ï¼Œé‚£ä¹ˆè¿™æ ·åšå°±æœ‰ç‚¹æµªè´¹äº†ï¼Œå°¤å…¶æ˜¯å¯¹äºå‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰ä¹‹ç±»çš„ç¨‹åºã€‚è¿è¡Œæ—¶é—´è¾ƒé•¿çš„ç¨‹åºå¯èƒ½éœ€è¦æ›´å¤šæ ¼å¼ï¼Œä½†ä¸å¤ªå¯èƒ½éœ€è¦å…¨éƒ¨ 47 ç§ã€‚</p>
<p>æ’ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªå¥½å¤„æ˜¯ç¬¬ä¸‰æ–¹å¯ä»¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fpillow.readthedocs.io%2Fen%2Fstable%2Fhandbook%2Fthird-party-plugins.html" target="_blank" title="https://pillow.readthedocs.io/en/stable/handbook/third-party-plugins.html" ref="nofollow noopener noreferrer">åˆ›å»ºè‡ªå·±çš„æ’ä»¶</a>ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†…ç½®åŠŸèƒ½æé«˜æ•ˆç‡ã€‚</p>
<p>æˆ‘æäº¤äº†ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpython-pillow%2FPillow%2Fpull%2F9398" target="_blank" title="https://github.com/python-pillow/Pillow/pull/9398" ref="nofollow noopener noreferrer">PR</a> ï¼Œæ·»åŠ äº†æ–‡ä»¶æ‰©å±•ååˆ°æ’ä»¶çš„æ˜ å°„ã€‚åœ¨è°ƒç”¨ <code>preinit()</code> æˆ– <code>init()</code> ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè¿›è¡Œç®€å•çš„æŸ¥æ‰¾ï¼Œè¿™æ ·å¯ä»¥çœå»å¯¼å…¥ã€æ³¨å†Œå’Œæ£€æŸ¥æ‰€æœ‰è¿™äº›æ’ä»¶çš„æ­¥éª¤ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé‡åˆ°æ²¡æœ‰æ‰©å±•åæˆ–æ‰©å±•åâ€œé”™è¯¯â€çš„å›¾åƒï¼Œä½†è¿™æ²¡å…³ç³»ï¼›æˆ‘ä¼°è®¡è¿™ç§æƒ…å†µå¾ˆå°‘è§ï¼Œè€Œä¸”æ— è®ºå¦‚ä½•æˆ‘ä»¬éƒ½ä¼šå›é€€åˆ°åŸæ¥çš„ <code>preinit()</code> -&gt; <code>init()</code> æµç¨‹ã€‚</p>
<p>åˆå¹¶ PR åï¼Œä»¥ä¸‹æ˜¯ç”¨äºæ‰“å¼€ PNGï¼ˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Fhugovk.dev%2Fblog%2F2026%2Ffaster-pillow%2Fflamegraph_27477.html" target="_blank" title="https://hugovk.dev/blog/2026/faster-pillow/flamegraph_27477.html" ref="nofollow noopener noreferrer">HTML é¡µé¢</a>ï¼‰çš„æ–°ç«ç„°å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/996dac20d99041d7b90fa27280dc4aff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex5bqm5raM546w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788149&amp;x-signature=9yyE%2B%2BBiJUTPC8Hg7xWt0JVEmx0%3D" alt="Much less compressed flame graph showing less work" loading="lazy"/></p>
<p>å¯¹äº WebPï¼ˆ <a href="https://link.juejin.cn?target=https%3A%2F%2Fhugovk.dev%2Fblog%2F2026%2Ffaster-pillow%2Fflamegraph_26821.html" target="_blank" title="https://hugovk.dev/blog/2026/faster-pillow/flamegraph_26821.html" ref="nofollow noopener noreferrer">HTML é¡µé¢</a>ï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2af54ca659754199985db77c7ac48b98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rex5bqm5raM546w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788149&amp;x-signature=eEq8rgBU4uVuFPFZdW8eW7ITDu4%3D" alt="Much less compressed for WebP" loading="lazy"/></p>
<p>ç«ç„°å›¾çš„å®½åº¦å·²ç¼©æ”¾è‡³ç›¸åŒï¼Œä½†æ–¹æ¡†æ•°é‡å¤§å¤§å‡å°‘ï¼Œè¿™æ„å‘³ç€ç°åœ¨çš„å·¥ä½œé‡ä¹Ÿå¤§å¤§é™ä½ã€‚å¤„ç†æ—¶é—´ä» 40 å’Œ 60 æ¯«ç§’é™è‡³ 20 å’Œ 20 æ¯«ç§’ã€‚</p>
<p>è¯¥ PR åŒ…å«ä¸€ç³»åˆ—åŸºå‡†æµ‹è¯•ï¼Œç»“æœæ˜¾ç¤ºï¼Œæ‰“å¼€ PNG å›¾ç‰‡ï¼ˆä¹‹å‰éœ€è¦åŠ è½½ 5 ä¸ªæ’ä»¶ï¼‰çš„é€Ÿåº¦æå‡äº† 2.6 å€ã€‚æ‰“å¼€ WebP å›¾ç‰‡ï¼ˆä¹‹å‰éœ€è¦åŠ è½½å…¨éƒ¨ 47 ä¸ªæ’ä»¶ï¼‰çš„é€Ÿåº¦æå‡äº† 14 å€ã€‚åŒæ ·ï¼Œä¿å­˜ PNG å›¾ç‰‡çš„é€Ÿåº¦æå‡äº† 2.2 å€ï¼Œä¿å­˜ WebP å›¾ç‰‡çš„é€Ÿåº¦æå‡äº† 7.9 å€ã€‚å¤ªæ£’äº†ï¼è¿™äº›æ”¹è¿›å°†åœ¨ Pillow 12.2.0 ç‰ˆæœ¬ä¸­å®ç°ã€‚</p>
<h2 data-id="heading-3">å‚è€ƒ</h2>
<ul>
<li>Henry Schreiner è°ˆå¦‚ä½•<a href="https://link.juejin.cn?target=https%3A%2F%2Fiscinumpy.dev%2Fpost%2Fpackaging-faster%2F" target="_blank" title="https://iscinumpy.dev/post/packaging-faster/" ref="nofollow noopener noreferrer">åŠ å¿«åŒ…è£…é€Ÿåº¦</a>ã€‚</li>
<li>Adam Johnson çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fadamj.eu%2Ftech%2F2026%2F01%2F14%2Fpython-introducing-tprof%2F" target="_blank" title="https://adamj.eu/tech/2026/01/14/python-introducing-tprof/" ref="nofollow noopener noreferrer">tprof</a>æ˜¯å¦ä¸€ä¸ªå¯¹è¿™ç±»äº‹æƒ…å¾ˆæœ‰ç”¨çš„æ–°å·¥å…·ã€‚</li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fhugovk.dev%2Fblog%2F2026%2Ffaster-pillow%2F" target="_blank" title="https://hugovk.dev/blog/2026/faster-pillow/" ref="nofollow noopener noreferrer">hugovk.dev/blog/2026/fâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FQNiQEC6U3Ykz-x4PJGiacA" target="_blank" title="https://mp.weixin.qq.com/s/QNiQEC6U3Ykz-x4PJGiacA" ref="nofollow noopener noreferrer">mp.weixin.qq.com/s/QNiQEC6U3â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æ€§èƒ½è§‚æµ‹ [7 - 4]ï¼šå¦‚ä½•è®¾ç«‹ Performance Budget å¹¶èå…¥ CI/CD]]></title>    <link>https://juejin.cn/post/7602471311510487067</link>    <guid>https://juejin.cn/post/7602471311510487067</guid>    <pubDate>2026-02-04T05:38:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7602471311510487067" data-draft-id="7602512226999713842" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æ€§èƒ½è§‚æµ‹ [7 - 4]ï¼šå¦‚ä½•è®¾ç«‹ Performance Budget å¹¶èå…¥ CI/CD"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-02-04T05:38:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ç‹å£®å£®"/> <meta itemprop="url" content="https://juejin.cn/user/4473272506789485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å‘æ¶æ„çªå›´ç³»åˆ— - æ€§èƒ½è§‚æµ‹ [7 - 4]ï¼šå¦‚ä½•è®¾ç«‹ Performance Budget å¹¶èå…¥ CI/CD
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4473272506789485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ç‹å£®å£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-02-04T05:38:27.000Z" title="Wed Feb 04 2026 05:38:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-02-04
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p><strong>å†™åœ¨å‰é¢</strong></p>
<p>å¾ˆå¤šå›¢é˜Ÿçš„æ€§èƒ½ä¼˜åŒ–æµç¨‹æ˜¯è¿™æ ·çš„ï¼š ä¸Šçº¿ -&gt; ç”¨æˆ·æŠ•è¯‰å¡ -&gt; çªå‡»ä¼˜åŒ–ä¸€å‘¨ -&gt; ä¸Šçº¿ -&gt; ç»§ç»­åŠ£åŒ– -&gt; å¾ªç¯...</p>
<p>è¿™ç§**â€œæ³¢æµªå¼â€<strong>çš„æ€§èƒ½æ›²çº¿æ˜¯ä¸å¯æ¥å—çš„ã€‚ æ¶æ„å¸ˆçš„ç›®æ ‡æ˜¯è®©æ€§èƒ½æ›²çº¿å‘ˆç°</strong>â€œé”¯é½¿çŠ¶ä¸Šå‡â€ <strong>ï¼ˆå¶å°”æ³¢åŠ¨ï¼Œæ€»ä½“å¹³ç¨³ï¼‰ç”šè‡³</strong>â€œæ°´å¹³ç›´çº¿â€**ã€‚</p>
<p>è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†æŠŠæ€§èƒ½ç®¡ç†ä»â€œé è‡ªè§‰â€è½¬å˜ä¸ºâ€œé åˆ¶åº¦â€ã€‚æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åˆ¶å®š <strong>Performance Budgetï¼ˆæ€§èƒ½é¢„ç®—ï¼‰</strong> ï¼Œå¹¶æŠŠ <strong>Lighthouse CI</strong> æ¤å…¥åˆ°ä½ çš„ Git Workflow ä¸­ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f0cbf4400e547be97b241711defba3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv546L5aOu5aOu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770788306&amp;x-signature=VOio4JNwOI4Om81OEqk1G4Z3bfY%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ ä»€ä¹ˆæ˜¯ Performance Budgetï¼ˆæ€§èƒ½é¢„ç®—ï¼‰ï¼Ÿ</h2>
<p>åœ¨é‡‘èé¢†åŸŸï¼Œé¢„ç®—æ„å‘³ç€â€œä½ æœ‰å¤šå°‘é’±å¯ä»¥èŠ±â€ã€‚ åœ¨å‰ç«¯é¢†åŸŸï¼Œæ€§èƒ½é¢„ç®—æ„å‘³ç€â€œä¸ºäº†è¾¾åˆ°é¢„æœŸçš„åŠ è½½é€Ÿåº¦ï¼Œä½ æœ€å¤šèƒ½å†™å¤šå°‘ä»£ç /åŠ è½½å¤šå¤§çš„èµ„æºâ€ã€‚</p>
<h3 data-id="heading-1">1.1 é¢„ç®—çš„ç»´åº¦</h3>
<p>é€šå¸¸æˆ‘ä»¬å¯ä»¥ä»ä¸¤ä¸ªç»´åº¦è®¾å®šé¢„ç®—ï¼š</p>
<ol>
<li>
<p><strong>åŸºäºèµ„æºçš„é¢„ç®— (Resource-based):</strong></p>
<ul>
<li><em>è§„åˆ™ï¼š</em> JS æ€»åŒ…ä½“ç§¯ &lt; 300KBï¼›é¦–å±å›¾ç‰‡ &lt; 100KBã€‚</li>
<li><em>ä¼˜ç‚¹ï¼š</em> ç®€å•ï¼Œç¡®å®šæ€§å¼ºï¼Œæ„å»ºæ—¶å°±èƒ½æ£€æµ‹ã€‚</li>
<li><em>ç¼ºç‚¹ï¼š</em> ä½“ç§¯å°ä¸ä»£è¡¨è·‘å¾—å¿«ï¼ˆæ¯”å¦‚ 10KB çš„æ­»å¾ªç¯ä»£ç ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>åŸºäºæŒ‡æ ‡çš„é¢„ç®— (Metric-based):</strong></p>
<ul>
<li><em>è§„åˆ™ï¼š</em> LCP &lt; 2.5sï¼›TBT &lt; 300msï¼›Lighthouse Score &gt; 90ã€‚</li>
<li><em>ä¼˜ç‚¹ï¼š</em> ç›´æ¥åæ˜ ç”¨æˆ·ä½“éªŒã€‚</li>
<li><em>ç¼ºç‚¹ï¼š</em> å— CI æœºå™¨æ€§èƒ½æ³¢åŠ¨å½±å“å¤§ï¼ˆå™ªéŸ³ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-2">1.2 å¦‚ä½•åˆ¶å®šåˆç†çš„é¢„ç®—ï¼Ÿ</h3>
<p>ä¸è¦æ‹è„‘è¢‹å®šä¸ªâ€œLCP &lt; 1ç§’â€ï¼Œè¿™ä¸åˆ‡å®é™…ã€‚</p>
<ul>
<li><strong>åŸºå‡†çº¿æ³•ï¼š</strong> å…ˆæµ‹å‡ºå½“å‰ç”Ÿäº§ç¯å¢ƒçš„å¹³å‡æ°´å¹³ï¼ˆæ¯”å¦‚ JS = 500KBï¼‰ï¼Œä»¥æ­¤ä¸ºåŸºå‡†ï¼Œè§„å®š <strong>â€œæ–°å¢ä»£ç ä¸å¾—å¯¼è‡´ä½“ç§¯å¢åŠ è¶…è¿‡ 5%â€</strong> ã€‚</li>
<li><strong>ç«å“é”šå®šæ³•ï¼š</strong> çœ‹çœ‹ä½ ä»¬æœ€å¤§çš„ç«äº‰å¯¹æ‰‹æ˜¯å¤šå°‘ï¼Œè®¾å®šä¸ºâ€œæ¯”ä»–ä»¬å¿« 20%â€ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-3">äºŒã€ å®ˆé—¨å‘˜å·¥å…·ï¼šLightWallet ä¸ Size-limit</h2>
<p>æœ‰äº†æ³•å¾‹ï¼ˆé¢„ç®—ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦è­¦å¯Ÿï¼ˆå·¥å…·ï¼‰æ¥æ‰§è¡Œã€‚</p>
<h3 data-id="heading-4">2.1 é™æ€ä½“ç§¯å®ˆé—¨å‘˜ï¼šSize-limit</h3>
<p>è¿™æ˜¯æœ€è½»é‡çº§çš„å®ˆé—¨å‘˜ï¼Œé€‚åˆé˜²èŒƒ <code>node_modules</code> è†¨èƒ€ã€‚</p>
<p><strong>å®‰è£…ä¸é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// package.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"size-limit"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist/assets/index.*.js"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"limit"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"200 KB"</span> <span class="hljs-comment">// è¶…è¿‡è¿™ä¸ªå€¼ï¼Œnpm run build ç›´æ¥æŠ¥é”™</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"dist/assets/vendor.*.js"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"limit"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"500 KB"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>CI é›†æˆï¼š</strong> åœ¨ GitLab CI æˆ– GitHub Actions ä¸­è¿è¡Œ <code>npx size-limit</code>ã€‚ä¸€æ—¦è¶…æ ‡ï¼ŒPipeline å˜çº¢ï¼Œç¦æ­¢åˆå¹¶ã€‚</p>
<h3 data-id="heading-5">2.2 è¿è¡Œæ—¶æŒ‡æ ‡å®ˆé—¨å‘˜ï¼šLighthouse CI (LHCI)</h3>
<p>Google å®˜æ–¹å‡ºå“çš„ç¥å™¨ã€‚å®ƒä¼šåœ¨ CI ç¯å¢ƒå¯åŠ¨ä¸€ä¸ªæ— å¤´æµè§ˆå™¨ï¼Œè·‘ä¸€éä½ çš„é¡µé¢ï¼Œå¹¶æ‰“åˆ†ã€‚</p>
<p><strong>æ ¸å¿ƒé…ç½® <code>lighthouserc.js</code>ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
  ci: {
    collect: {
      url: [<span class="hljs-string">'http://localhost:3000/'</span>], <span class="hljs-comment">// æœ¬åœ°å¯åŠ¨æœåŠ¡è®© LHCI è·‘</span>
      startServerCommand: <span class="hljs-string">'npm run start'</span>,
    },
    <span class="hljs-keyword">assert</span>: {
      assertions: {
        <span class="hljs-string">'categories:performance'</span>: [<span class="hljs-string">'error'</span>, { minScore: <span class="hljs-number">0.9</span> }], <span class="hljs-comment">// æ€§èƒ½åˆ†ä½äº 90 æŠ¥é”™</span>
        <span class="hljs-string">'largest-contentful-paint'</span>: [<span class="hljs-string">'warn'</span>, { maxNumericValue: <span class="hljs-number">2500</span> }], <span class="hljs-comment">// LCP &gt; 2.5s è­¦å‘Š</span>
        <span class="hljs-string">'dom-size'</span>: [<span class="hljs-string">'error'</span>, { maxNumericValue: <span class="hljs-number">2000</span> }], <span class="hljs-comment">// DOM èŠ‚ç‚¹ &gt; 2000 æŠ¥é”™</span>
      },
    },
    upload: {
      target: <span class="hljs-string">'temporary-public-storage'</span>, <span class="hljs-comment">// ä¸Šä¼ æŠ¥å‘Šä»¥ä¾¿æŸ¥çœ‹</span>
    },
  },
};
</code></pre>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€ å®æˆ˜ï¼šæ„å»ºâ€œä¸è®¸å˜æ…¢â€çš„ CI/CD æµæ°´çº¿</h2>
<p>æŠŠä¸Šè¿°å·¥å…·ä¸²è”èµ·æ¥ï¼Œå½¢æˆä¸€å¥—å®Œæ•´çš„é˜²å¾¡ä½“ç³»ã€‚</p>
<h3 data-id="heading-7">3.1 é˜¶æ®µä¸€ï¼šPR Check (ä»£ç åˆå¹¶å‰)</h3>
<p>å½“åŒäº‹å‘èµ· Pull Request æ—¶ï¼Œè§¦å‘ GitHub Actionsï¼š</p>
<ol>
<li>
<p><strong>Build:</strong> æ„å»ºé¡¹ç›®ã€‚</p>
</li>
<li>
<p><strong>Size Check:</strong> è¿è¡Œ <code>size-limit</code>ã€‚å¦‚æœå¼•å…¥äº†å¤§åŒ…ï¼ˆå¦‚ <code>lodash</code> æœªæŒ‰éœ€å¼•å…¥ï¼‰ï¼Œç›´æ¥ Block PRã€‚</p>
</li>
<li>
<p><strong>Audit:</strong> è¿è¡Œ <code>Lighthouse CI</code>ã€‚</p>
<ul>
<li><em>Diff æ¨¡å¼ï¼š</em> å¯¹æ¯” master åˆ†æ”¯å’Œå½“å‰åˆ†æ”¯çš„æ€§èƒ½å·®å¼‚ã€‚</li>
<li><em>Bot ç•™è¨€ï¼š</em> LHCI æœºå™¨äººä¼šè‡ªåŠ¨åœ¨ PR ä¸‹è¯„è®ºï¼šâ€œæœ¬æ¬¡æäº¤å¯¼è‡´ LCP å¢åŠ äº† 200msï¼Œè¯·è§£é‡Šæˆ–ä¼˜åŒ–ã€‚â€</li>
</ul>
</li>
</ol>
<h3 data-id="heading-8">3.2 é˜¶æ®µäºŒï¼šMonitor (ä»£ç åˆå¹¶å)</h3>
<p>ä¸Šçº¿åï¼Œç»“åˆæˆ‘ä»¬åœ¨ç¬¬äºŒèŠ‚æ­å»ºçš„ <strong>APM ç³»ç»Ÿ</strong>ã€‚</p>
<ul>
<li><strong>ç†”æ–­æœºåˆ¶ï¼š</strong> è™½ç„¶å°‘è§ï¼Œä½†å¯ä»¥è®¾å®šå¦‚æœçº¿ä¸Š LCP çªå¢ 50%ï¼Œè‡ªåŠ¨è§¦å‘å›æ»šï¼ˆRollbackï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-9">å››ã€ æ²»ç†çš„è‰ºæœ¯ï¼šå¦‚ä½•å¤„ç†â€œå™ªéŸ³â€ä¸â€œäººå¿ƒâ€</h2>
<p>æŠ€æœ¯åªæ˜¯æ‰‹æ®µï¼Œæ²»ç†çš„æ ¸å¿ƒæ˜¯<strong>äºº</strong>ã€‚</p>
<h3 data-id="heading-10">4.1 è§£å†³ CI æ³¢åŠ¨ï¼ˆFlakinessï¼‰</h3>
<p>CI æœåŠ¡å™¨ï¼ˆå¦‚ Jenkins/Actionsï¼‰çš„ CPU è´Ÿè½½æ˜¯ä¸ç¨³å®šçš„ï¼Œå¯èƒ½å¯¼è‡´ Lighthouse è·‘åˆ†å¿½é«˜å¿½ä½ã€‚ <strong>æ¶æ„å¸ˆç­–ç•¥ï¼š</strong></p>
<ul>
<li><strong>å¤šæ¬¡é‡‡æ ·ï¼š</strong> è®© LHCI è·‘ 3-5 æ¬¡ï¼Œå–ä¸­ä½æ•°ï¼ˆMedianï¼‰ã€‚</li>
<li><strong>ç›¸å¯¹é˜ˆå€¼ï¼š</strong> ä¸è¦æ­»æ‰£ç»å¯¹å€¼ï¼ˆ2.5sï¼‰ã€‚è®¾å®š<strong>åŠ£åŒ–é˜ˆå€¼</strong>ï¼ˆRegression Thresholdï¼‰ï¼Œä¾‹å¦‚â€œæ¯”åŸºå‡†çº¿æ…¢ 10% ä»¥ä¸Šâ€æ‰æŠ¥é”™ã€‚</li>
</ul>
<h3 data-id="heading-11">4.2 é€æ­¥æ”¶ç´§ç­–ç•¥</h3>
<p>ä¸è¦ä¸€ä¸Šæ¥å°±å¼€å¯â€œæŠ¥é”™å³é˜»æ–­â€ï¼Œè¿™ä¼šæå´©å¼€å‘å›¢é˜Ÿçš„å¿ƒæ€ã€‚</p>
<ol>
<li><strong>è§‚å¯ŸæœŸ (ç¬¬ 1 ä¸ªæœˆ):</strong> åªè·‘æ•°æ®ï¼Œä¸æŠ¥é”™ï¼Œè®©å¤§å®¶çœ‹åˆ°æŠ¥å‘Šã€‚</li>
<li><strong>è­¦å‘ŠæœŸ (ç¬¬ 2 ä¸ªæœˆ):</strong> è¶…æ ‡å CI å˜é»„ï¼ˆWarningï¼‰ï¼Œæœºå™¨äººç•™è¨€ç¾è¾±ï¼Œä½†å…è®¸åˆå¹¶ã€‚</li>
<li><strong>é˜»æ–­æœŸ (ç¬¬ 3 ä¸ªæœˆ):</strong> æ ¸å¿ƒæŒ‡æ ‡ï¼ˆå¦‚ Bundle Sizeï¼‰è¶…æ ‡ï¼Œç›´æ¥ Blockã€‚</li>
</ol>
<h3 data-id="heading-12">4.3 æ€§èƒ½æ–‡åŒ–</h3>
<ul>
<li><strong>çº¢é»‘æ¦œï¼š</strong> æ¯å‘¨å‘é€é‚®ä»¶ï¼Œåˆ—å‡ºâ€œæœ¬å‘¨æ€§èƒ½ä¼˜åŒ–æœ€ä½³æäº¤â€å’Œâ€œæœ¬å‘¨å¯¼è‡´æ€§èƒ½åŠ£åŒ–æœ€ä¸¥é‡çš„æäº¤â€ã€‚</li>
<li><strong>æ€§èƒ½æ˜¯åŠŸèƒ½çš„ä¸€éƒ¨åˆ†ï¼š</strong> äº§å“ç»ç†æéœ€æ±‚æ—¶ï¼Œå¿…é¡»åŒ…å«æ€§èƒ½éªŒæ”¶æ ‡å‡†ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-13">ç»“è¯­ï¼šä»â€œæ•‘ç«é˜Ÿå‘˜â€åˆ°â€œåŸå¸‚è§„åˆ’å¸ˆâ€</h2>
<p>è‡³æ­¤ï¼Œ<strong>ç¬¬ä¸ƒé˜¶æ®µã€Šå‰ç«¯å…¨é“¾è·¯æ€§èƒ½ä½“ç³»ä¸å¯è§‚æµ‹æ€§ã€‹</strong> åœ†æ»¡ç»“æŸã€‚</p>
<p>å›é¡¾è¿™å››å°èŠ‚ï¼Œæˆ‘ä»¬èµ°è¿‡äº†ä¸€æ¡å®Œæ•´çš„æ¶æ„ä¹‹è·¯ï¼š</p>
<ol>
<li><strong>å®šæ ‡å‡† (Standard):</strong> ç¡®ç«‹ Web Vitalsï¼Œæ‹’ç»ä¸»è§‚è‡†æµ‹ã€‚</li>
<li><strong>æåŸºå»º (Infrastructure):</strong> æ­å»º APMï¼Œè·å¾—ä¸Šå¸è§†è§’ã€‚</li>
<li><strong>å®šæˆ˜æœ¯ (Tactics):</strong> åˆ†å±‚çº§ä¼˜åŒ–ï¼Œä»ç½‘ç»œåˆ°æ¸²æŸ“å…¨è¦†ç›–ã€‚</li>
<li><strong>åšæ²»ç† (Governance):</strong> è®¾ç«‹é¢„ç®—ä¸ CIï¼Œé˜²æ­¢æ€§èƒ½è…åŒ–ã€‚</li>
</ol>
<p>ç°åœ¨çš„ä½ ï¼Œä¸å†æ˜¯é‚£ä¸ªå¤©å¤©ç›¯ç€ Chrome DevTools ä¿® Bug çš„æ•‘ç«é˜Ÿå‘˜ï¼Œè€Œæ˜¯æŒæ§å…¨å±€ã€ç”¨æ•°æ®å’Œåˆ¶åº¦è¯´è¯çš„ç³»ç»Ÿæ¶æ„å¸ˆã€‚</p>
<p>ç„¶è€Œï¼Œå‰ç«¯çš„ä¸–ç•Œè¿œä¸æ­¢æ€§èƒ½ã€‚éšç€ä¸šåŠ¡è¶Šæ¥è¶Šå¤æ‚ï¼Œå•ä½“åº”ç”¨ï¼ˆMonolithï¼‰å˜å¾—éš¾ä»¥ç»´æŠ¤ï¼Œå·¨çŸ³åº”ç”¨å¦‚ä½•æ‹†è§£ï¼Ÿå¾®å‰ç«¯çœŸçš„æ˜¯é“¶å¼¹å—ï¼ŸServerless èƒ½ç»™å‰ç«¯å¸¦æ¥ä»€ä¹ˆå˜é©ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>