<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[å‰ç«¯åŸŸåï¼ˆFrontend Domainï¼‰ä¸åç«¯åŸŸåï¼ˆBackend Domainï¼‰çš„åˆ†ç¦»æ‰‹å†Œ]]></title>    <link>https://juejin.cn/post/7599899147417927732</link>    <guid>https://juejin.cn/post/7599899147417927732</guid>    <pubDate>2026-01-27T14:35:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599899147417927732" data-draft-id="7599893063863435279" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯åŸŸåï¼ˆFrontend Domainï¼‰ä¸åç«¯åŸŸåï¼ˆBackend Domainï¼‰çš„åˆ†ç¦»æ‰‹å†Œ"/> <meta itemprop="keywords" content="é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-27T14:35:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯åŸŸåï¼ˆFrontend Domainï¼‰ä¸åç«¯åŸŸåï¼ˆBackend Domainï¼‰çš„åˆ†ç¦»æ‰‹å†Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T14:35:42.000Z" title="Tue Jan 27 2026 14:35:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰ç«¯åŸŸåï¼ˆFrontend Domainï¼‰ä¸åç«¯åŸŸåï¼ˆBackend Domainï¼‰çš„åˆ†ç¦»æ˜¯ç°ä»£ Web åº”ç”¨æ¶æ„çš„æ ¸å¿ƒè®¾è®¡ä¹‹ä¸€ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£æï¼š</p>
<h2 data-id="heading-0">ä¸€ã€åŸºç¡€æ¦‚å¿µ</h2>
<h3 data-id="heading-1">å‰ç«¯åŸŸåï¼ˆClient-sideï¼‰</h3>
<ul>
<li><strong>ç”¨é€”</strong>ï¼šæ‰¿è½½é™æ€èµ„æºï¼ˆHTMLã€CSSã€JavaScriptã€å›¾ç‰‡ã€å­—ä½“ç­‰ï¼‰</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<code>www.example.com</code>ã€<code>app.example.com</code></li>
<li><strong>æŠ€æœ¯æ ˆ</strong>ï¼šReactã€Vueã€Angular æ„å»ºçš„ SPAï¼Œæˆ–ä¼ ç»Ÿæ¨¡æ¿å¼•æ“æ¸²æŸ“çš„é¡µé¢</li>
<li><strong>CDN å¸¸è§</strong>ï¼šé€šå¸¸éƒ¨ç½²åœ¨ CDNï¼ˆå¦‚é˜¿é‡Œäº‘ CDNã€Cloudflareï¼‰ä¸Šï¼Œå®ç°å…¨çƒåŠ é€Ÿ</li>
</ul>
<h3 data-id="heading-2">åç«¯åŸŸåï¼ˆAPI Domainï¼‰</h3>
<ul>
<li><strong>ç”¨é€”</strong>ï¼šæä¾›æ•°æ®æ¥å£ï¼ˆREST APIã€GraphQLã€gRPC ç½‘å…³ç­‰ï¼‰</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š<code>api.example.com</code>ã€<code>backend.example.com</code>ã€<code>service.example.com</code></li>
<li><strong>æŠ€æœ¯æ ˆ</strong>ï¼šDjangoã€Spring Bootã€Node.jsã€Go ç­‰æœåŠ¡ç«¯æ¡†æ¶</li>
<li><strong>éƒ¨ç½²ä½ç½®</strong>ï¼šéƒ¨ç½²åœ¨åº”ç”¨æœåŠ¡å™¨ã€å®¹å™¨é›†ç¾¤ï¼ˆK8sï¼‰æˆ– Serverless å¹³å°</li>
</ul>
<hr/>
<h2 data-id="heading-3">äºŒã€ä¸ºä»€ä¹ˆè¦åˆ†ç¦»ï¼Ÿ</h2>

































<table><thead><tr><th>ç»´åº¦</th><th>åˆ†ç¦»æ¶æ„ä¼˜åŠ¿</th></tr></thead><tbody><tr><td><strong>æ€§èƒ½ä¼˜åŒ–</strong></td><td>å‰ç«¯èµ° CDN ç¼“å­˜ï¼Œåç«¯ä¸“æ³¨è®¡ç®—ï¼›å®ç°åŠ¨é™åˆ†ç¦»</td></tr><tr><td><strong>æ‰©å±•æ€§</strong></td><td>å‰åç«¯ç‹¬ç«‹æ‰©å®¹ï¼Œå‰ç«¯åŠ  CDN èŠ‚ç‚¹ï¼Œåç«¯åŠ æœåŠ¡å™¨å®ä¾‹</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>API åŸŸåå¯é™åˆ¶ CORSã€æ·»åŠ  WAFã€éšè—çœŸå® IPï¼›é™æ€åŸŸåä¸æš´éœ²æ•°æ®åº“ç­‰æ•æ„Ÿä¿¡æ¯</td></tr><tr><td><strong>éƒ¨ç½²ç‹¬ç«‹</strong></td><td>å‰ç«¯ä¿®æ”¹æ— éœ€é‡å¯åç«¯ï¼Œåç«¯å‡çº§ä¸å½±å“å‰ç«¯å±•ç¤ºï¼ˆåªè¦æ¥å£å…¼å®¹ï¼‰</td></tr><tr><td><strong>ç¼“å­˜ç­–ç•¥</strong></td><td>é™æ€èµ„æºé•¿æœŸç¼“å­˜ï¼ˆ immutable ï¼‰ï¼ŒAPI ç¦ç”¨ç¼“å­˜æˆ–çŸ­æ—¶é—´ç¼“å­˜</td></tr><tr><td><strong>å¤šç«¯æ”¯æŒ</strong></td><td>åŒä¸€å¥—åç«¯ API æ”¯æŒ Webã€Appã€å°ç¨‹åºç­‰å¤šå‰ç«¯</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€å¸¸è§åŸŸåé…ç½®æ¨¡å¼</h2>
<h3 data-id="heading-5">æ¨¡å¼ 1ï¼šå­åŸŸååˆ†ç¦»ï¼ˆæœ€å¸¸è§ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">å‰ç«¯: https://www.myapp.com æˆ– https://app.myapp.com
åç«¯: https://api.myapp.com

ä¼˜ç‚¹ï¼šæ¸…æ™°ã€ä¾¿äºé…ç½®ä¸åŒçš„ DNS ç­–ç•¥å’Œ SSL è¯ä¹¦
</code></pre>
<h3 data-id="heading-6">æ¨¡å¼ 2ï¼šè·¯å¾„åˆ†ç¦»ï¼ˆç®€å•é¡¹ç›®ï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino">å‰ç«¯: https:<span class="hljs-comment">//www.myapp.com/</span>
åç«¯: https:<span class="hljs-comment">//www.myapp.com/api/</span>

ä¼˜ç‚¹ï¼šæ— éœ€å¤„ç†è·¨åŸŸï¼ˆåŒæºï¼‰
ç¼ºç‚¹ï¼šçµæ´»æ€§å·®ï¼Œä¸åˆ©äºç‹¬ç«‹æ‰©å±•å’Œ CDN é…ç½®
</code></pre>
<h3 data-id="heading-7">æ¨¡å¼ 3ï¼šå®Œå…¨ç‹¬ç«‹åŸŸåï¼ˆå¾®æœåŠ¡/å¤šå“ç‰Œï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino">å‰ç«¯: https:<span class="hljs-comment">//customer-portal.com</span>
åç«¯: https:<span class="hljs-comment">//internal-api.company.com</span>

ä¼˜ç‚¹ï¼šå½»åº•è§£è€¦ï¼Œé€‚ç”¨äºä¸åŒå›¢é˜Ÿç»´æŠ¤
æ³¨æ„ï¼šéœ€è¦ä¸¥æ ¼å¤„ç† CORS å’Œé‰´æƒ
</code></pre>
<h3 data-id="heading-8">æ¨¡å¼ 4ï¼šç¯å¢ƒå­åŸŸåï¼ˆå¼€å‘è§„èŒƒï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino">ç”Ÿäº§:
  å‰ç«¯: https:<span class="hljs-comment">//app.example.com</span>
  åç«¯: https:<span class="hljs-comment">//api.example.com</span>

æµ‹è¯•:
  å‰ç«¯: https:<span class="hljs-comment">//staging-app.example.com</span>
  åç«¯: https:<span class="hljs-comment">//staging-api.example.com</span>

å¼€å‘:
  å‰ç«¯: https:<span class="hljs-comment">//dev-app.example.com</span>
  åç«¯: https:<span class="hljs-comment">//dev-api.example.com</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">å››ã€è·¨åŸŸé—®é¢˜ï¼ˆCORSï¼‰è¯¦è§£</h2>
<p>å½“å‰ç«¯ä¸åç«¯åŸŸåä¸åŒæ—¶ï¼Œæµè§ˆå™¨ä¼šè§¦å‘**åŒæºç­–ç•¥ï¼ˆSame-Origin Policyï¼‰**é™åˆ¶ï¼Œå¿…é¡»é€šè¿‡ CORS è§£å†³ã€‚</p>
<h3 data-id="heading-10">CORS é¢„æ£€è¯·æ±‚æµç¨‹</h3>
<pre><code class="hljs language-http" lang="http">OPTIONS /api/user HTTP/1.1
Host: api.example.com
Origin: https://app.example.com
Access-Control-Request-Method: POST

HTTP/1.1 204 No Content
Access-Control-Allow-Origin: https://app.example.com
Access-Control-Allow-Methods: GET, POST, PUT, DELETE
Access-Control-Allow-Credentials: true
Access-Control-Allow-Headers: Content-Type, Authorization
Access-Control-Max-Age: 86400
</code></pre>
<h3 data-id="heading-11">Django é…ç½®ç¤ºä¾‹</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># settings.py</span>
CORS_ALLOWED_ORIGINS = [
    <span class="hljs-string">"https://app.example.com"</span>,
    <span class="hljs-string">"https://admin.example.com"</span>,
]

CORS_ALLOW_CREDENTIALS = <span class="hljs-literal">True</span>  <span class="hljs-comment"># å…è®¸æºå¸¦ Cookies</span>
CORS_ALLOW_HEADERS = [
    <span class="hljs-string">'content-type'</span>,
    <span class="hljs-string">'authorization'</span>,
    <span class="hljs-string">'x-csrftoken'</span>,
]
</code></pre>
<h3 data-id="heading-12">æ›¿ä»£æ–¹æ¡ˆï¼šåå‘ä»£ç†ï¼ˆNginxï¼‰</h3>
<p>å¦‚æœä¸æ–¹ä¾¿é…ç½® CORSï¼Œå¯ä»¥é€šè¿‡ Nginx ä»£ç†è½¬å‘ï¼Œè®©æµè§ˆå™¨è®¤ä¸ºå‰åç«¯åŒæºï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">server {
    listen 80;
    server_name app.example.com;
    
    location / {
        # å‰ç«¯èµ„æº
        root /var/www/html;
        try_files $uri $uri/ /index.html;
    }
    
    location /api/ {
        # åå‘ä»£ç†åˆ°åç«¯ï¼Œæµè§ˆå™¨æ— æ„ŸçŸ¥è·¨åŸŸ
        proxy_pass http://backend-server:8000/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-13">äº”ã€å®‰å…¨æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-14">1. HTTPS å¼ºåˆ¶</h3>
<ul>
<li>å‰åç«¯éƒ½å¿…é¡»ä½¿ç”¨ HTTPSï¼Œ<strong>ç¦æ­¢</strong> HTTP æ··ç”¨ï¼ˆMixed Content ä¼šè¢«æµè§ˆå™¨æ‹¦æˆªï¼‰</li>
</ul>
<h3 data-id="heading-15">2. CORS ç™½åå•é™åˆ¶</h3>
<ul>
<li>ç”Ÿäº§ç¯å¢ƒ<strong>ç»å¯¹ä¸è¦</strong>ä½¿ç”¨ <code>Access-Control-Allow-Origin: *</code>ï¼ˆç‰¹åˆ«æ˜¯æ¶‰åŠ Cookie æ—¶ï¼‰</li>
<li>ä¸¥æ ¼é™åˆ¶å…è®¸çš„æ¥æºåŸŸå</li>
</ul>
<h3 data-id="heading-16">3. Cookie å®‰å…¨å±æ€§</h3>
<pre><code class="hljs language-http" lang="http">Set-Cookie: sessionid=xxx; Secure; HttpOnly; SameSite=None; Domain=.example.com
</code></pre>
<ul>
<li><code>Secure</code>: ä»… HTTPS ä¼ è¾“</li>
<li><code>HttpOnly</code>: ç¦æ­¢ JavaScript è¯»å–ï¼ˆé˜² XSSï¼‰</li>
<li><code>SameSite=None</code>: è·¨åŸŸåœºæ™¯å¿…éœ€ï¼ˆæ­é… Secureï¼‰</li>
<li><code>Domain=.example.com</code>: å…è®¸å­åŸŸåå…±äº« Cookie</li>
</ul>
<h3 data-id="heading-17">4. é‰´æƒæ–¹æ¡ˆé€‰æ‹©</h3>

























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>é€‚ç”¨åœºæ™¯</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><strong>Session + Cookie</strong></td><td>ä¼ ç»Ÿ Webã€åŒä¸»åŸŸ</td><td>éœ€è¦å¤„ç† CSRFï¼Œå…¼å®¹æ€§å¥½</td></tr><tr><td><strong>JWTï¼ˆ LocalStorageï¼‰</strong></td><td>SPAã€è·¨ä¸»åŸŸ</td><td>æ— çŠ¶æ€ï¼Œéœ€é˜² XSSï¼ŒæœåŠ¡ç«¯æ— æ³•å¼ºåˆ¶å¤±æ•ˆ</td></tr><tr><td><strong>JWTï¼ˆHttpOnly Cookieï¼‰</strong></td><td>æ¨èæ–¹æ¡ˆ</td><td>ç»“åˆä¸¤è€…ä¼˜ç‚¹ï¼Œé˜² XSSï¼Œè·¨åŸŸé…ç½®å¤æ‚</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-18">å…­ã€å®é™…éƒ¨ç½²ç¤ºä¾‹</h2>
<h3 data-id="heading-19">å®Œæ•´æ¶æ„å›¾</h3>
<pre><code class="hljs language-bash" lang="bash">ç”¨æˆ·æµè§ˆå™¨
   â”‚
   â”œâ”€ https://app.example.com (CDN: Cloudflare/é˜¿é‡Œäº‘)
   â”‚     â”œâ”€ HTML/CSS/JS (ç¼“å­˜1å¹´)
   â”‚     â””â”€ index.html (ä¸ç¼“å­˜ï¼Œæ€»æ˜¯è·å–æœ€æ–°ç‰ˆ)
   â”‚
   â””â”€ https://api.example.com (SLB -&gt; K8s/Docker)
         â”œâ”€ /api/users/ (Django REST Framework)
         â”œâ”€ /api/orders/ (å¾®æœåŠ¡ A)
         â””â”€ /graphql (GraphQL ç½‘å…³)
</code></pre>
<h3 data-id="heading-20">å‰ç«¯ Axios é…ç½®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> apiClient = axios.<span class="hljs-title function_">create</span>({
  <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.example.com'</span>,
  <span class="hljs-attr">withCredentials</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// å…è®¸è·¨åŸŸæºå¸¦ Cookie</span>
  <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span>,
  <span class="hljs-attr">headers</span>: {
    <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
  }
});

<span class="hljs-comment">// è¯·æ±‚æ‹¦æˆªå™¨æ·»åŠ  Tokenï¼ˆå¦‚æœç”¨ JWT Header æ–¹æ¡ˆï¼‰</span>
apiClient.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(<span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> {
  config.<span class="hljs-property">headers</span>.<span class="hljs-property">Authorization</span> = <span class="hljs-string">`Bearer <span class="hljs-subst">${<span class="hljs-variable language_">localStorage</span>.getItem(<span class="hljs-string">'token'</span>)}</span>`</span>;
  <span class="hljs-keyword">return</span> config;
});
</code></pre>
<hr/>
<h2 data-id="heading-21">ä¸ƒã€æ€»ç»“å»ºè®®</h2>
<ol>
<li><strong>æ–°é¡¹ç›®</strong>ï¼šç›´æ¥ä½¿ç”¨å­åŸŸååˆ†ç¦»ï¼ˆ<code>app.x.com</code> + <code>api.x.com</code>ï¼‰ï¼Œæ¶æ„æ¸…æ™°</li>
<li><strong>é‰´æƒ</strong>ï¼šæ¨èä½¿ç”¨ HttpOnly Cookie + SameSite=None æ¨¡å¼ï¼Œæ¯” LocalStorage æ›´å®‰å…¨</li>
<li><strong>éƒ¨ç½²</strong>ï¼šå‰ç«¯åŠ¡å¿…ä¸Š CDNï¼Œåç«¯ä½¿ç”¨è´Ÿè½½å‡è¡¡ + å¤šå®ä¾‹éƒ¨ç½²</li>
<li><strong>å¼€å‘ç¯å¢ƒ</strong>ï¼šé…ç½® Vite/Webpack DevServer çš„ <code>proxy</code> åŠŸèƒ½ï¼Œé¿å…å¼€å‘æ—¶å¤„ç† CORS çƒ¦æ¼</li>
<li><strong>ç›‘æ§</strong>ï¼šå‰ç«¯ç”¨ Sentry æ•è·é”™è¯¯ï¼Œåç«¯ç”¨ APM å·¥å…·ï¼ˆSkyWalkingã€NewRelicï¼‰ç›‘æ§ API æ€§èƒ½</li>
</ol>
<p>å¦‚æœä½ æ­£åœ¨ä½¿ç”¨ Djangoï¼Œå»ºè®®é…åˆ Django CORS Headers åº“ï¼Œå¹¶åœ¨ç”Ÿäº§ç¯å¢ƒä¸¥æ ¼å®¡æŸ¥ <code>ALLOWED_HOSTS</code> å’Œ <code>CORS_ALLOWED_ORIGINS</code> é…ç½®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[mysqlæ·±åº¦åˆ†é¡µé—®é¢˜è§£å†³-ç»“åˆdjangoåˆ†æ]]></title>    <link>https://juejin.cn/post/7599873006258290722</link>    <guid>https://juejin.cn/post/7599873006258290722</guid>    <pubDate>2026-01-27T14:45:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599873006258290722" data-draft-id="7599893063863468047" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="mysqlæ·±åº¦åˆ†é¡µé—®é¢˜è§£å†³-ç»“åˆdjangoåˆ†æ"/> <meta itemprop="keywords" content="Django,MySQL"/> <meta itemprop="datePublished" content="2026-01-27T14:45:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            mysqlæ·±åº¦åˆ†é¡µé—®é¢˜è§£å†³-ç»“åˆdjangoåˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T14:45:24.000Z" title="Tue Jan 27 2026 14:45:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>MySQL æ·±åº¦åˆ†é¡µï¼ˆDeep Paginationï¼‰æŒ‡åœ¨æ•°æ®é‡å·¨å¤§æ—¶ï¼ˆå¦‚ç™¾ä¸‡ã€åƒä¸‡çº§ï¼‰ï¼Œä½¿ç”¨ <code>LIMIT offset, count</code> æŸ¥è¯¢é åçš„é¡µç ï¼ˆå¦‚ç¬¬ 10000 é¡µï¼‰ï¼Œæ€§èƒ½ä¼šæ€¥å‰§ä¸‹é™ç”šè‡³å‡ºç°æŸ¥è¯¢è¶…æ—¶ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€é—®é¢˜æœ¬è´¨ï¼šä¸ºä»€ä¹ˆæ·±åº¦åˆ†é¡µæ…¢ï¼Ÿ</h2>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders 
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> created_at <span class="hljs-keyword">DESC</span> 
LIMIT <span class="hljs-number">1000000</span>, <span class="hljs-number">20</span>;
</code></pre>
<p>MySQL æ‰§è¡Œæµç¨‹ï¼š</p>
<ol>
<li><strong>å…¨è¡¨æ‰«æ/ç´¢å¼•æ‰«æ</strong>ï¼šæŒ‰ <code>created_at</code> æ’åºï¼Œæ‰«æ <strong>1,000,020</strong> è¡Œ</li>
<li><strong>å›è¡¨æ“ä½œ</strong>ï¼šé€šè¿‡ä¸»é”®å›è¡¨å–å®Œæ•´æ•°æ®ï¼ˆå¦‚æœæ˜¯äºŒçº§ç´¢å¼•ï¼‰</li>
<li><strong>ä¸¢å¼ƒæ•°æ®</strong>ï¼šä¸¢å¼ƒå‰ 1,000,000 è¡Œï¼Œåªä¿ç•™æœ€å 20 è¡Œ</li>
</ol>
<p>éšç€ <code>offset</code> å¢å¤§ï¼Œæ‰«æçš„æ•°æ®é‡çº¿æ€§å¢é•¿ï¼ŒIO å’Œ CPU å¼€é”€é£™å‡ã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€è§£å†³æ–¹æ¡ˆå¯¹æ¯”</h2>



































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>æ—¶é—´å¤æ‚åº¦</th><th>é€‚ç”¨åœºæ™¯</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><strong>æ¸¸æ ‡åˆ†é¡µ</strong></td><td>O(limit)</td><td>æ— é™æ»šåŠ¨ã€ä¸‹ä¸€é¡µ/ä¸Šä¸€é¡µ</td><td>æ— æ³•è·³é¡µã€æ— æ³•æ˜¾ç¤ºæ€»é¡µæ•°</td></tr><tr><td><strong>å»¶è¿Ÿå…³è”</strong></td><td>O(offset+limit)</td><td>å¿…é¡»è·³é¡µä½† offset &lt; 10ä¸‡</td><td>ä»æœ‰æ€§èƒ½å¼€é”€ã€å®ç°ç¨å¤æ‚</td></tr><tr><td><strong>è¦†ç›–ç´¢å¼•</strong></td><td>O(offset+limit)</td><td>ä»…éœ€ç´¢å¼•å­—æ®µ</td><td>æ•°æ®ä¸å…¨ï¼Œéœ€äºŒæ¬¡æŸ¥è¯¢</td></tr><tr><td><strong>ä¸šåŠ¡é™åˆ¶</strong></td><td>-</td><td>æ‰€æœ‰åˆ—è¡¨é¡µ</td><td>ç‰ºç‰²ç”¨æˆ·ä½“éªŒ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€å…·ä½“å®ç°æ–¹æ¡ˆ</h2>
<h3 data-id="heading-3">æ–¹æ¡ˆ 1ï¼šæ¸¸æ ‡åˆ†é¡µï¼ˆCursor / Keyset Paginationï¼‰â­ æ¨è</h3>
<p>åˆ©ç”¨ä¸Šä¸€é¡µçš„æœ€åä¸€æ¡è®°å½•ä½œä¸ºä¸‹ä¸€é¡µçš„æŸ¥è¯¢æ¡ä»¶ï¼Œé¿å…æ‰«æ offset è¡Œã€‚</p>
<p><strong>SQL å®ç°ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ç¬¬ä¸€é¡µ</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders 
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> id <span class="hljs-keyword">DESC</span> 
LIMIT <span class="hljs-number">20</span>;

<span class="hljs-comment">-- è·å–æœ€åä¸€æ¡ id ä¸º 9980ï¼ŒæŸ¥è¯¢ä¸‹ä¸€é¡µ</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders 
<span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">&lt;</span> <span class="hljs-number">9980</span>  <span class="hljs-comment">-- åˆ©ç”¨ç´¢å¼•ç›´æ¥å®šä½</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> id <span class="hljs-keyword">DESC</span> 
LIMIT <span class="hljs-number">20</span>;
</code></pre>
<p><strong>Django ORM å®ç°ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># views.py</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">order_list</span>(<span class="hljs-params">request</span>):
    cursor = request.GET.get(<span class="hljs-string">'cursor'</span>)  <span class="hljs-comment"># ä¸Šä¸€é¡µæœ€åä¸€æ¡çš„ ID</span>
    
    queryset = Order.objects.<span class="hljs-built_in">all</span>().order_by(<span class="hljs-string">'-id'</span>)
    
    <span class="hljs-keyword">if</span> cursor:
        queryset = queryset.<span class="hljs-built_in">filter</span>(id__lt=cursor)
    
    <span class="hljs-comment"># å¤šå­—æ®µæ¸¸æ ‡ï¼ˆå¦‚æŒ‰æ—¶é—´+IDï¼‰</span>
    <span class="hljs-comment"># if cursor:</span>
    <span class="hljs-comment">#     last_time, last_id = cursor.split(',')</span>
    <span class="hljs-comment">#     queryset = queryset.filter(</span>
    <span class="hljs-comment">#         Q(created_at__lt=last_time) | </span>
    <span class="hljs-comment">#         Q(created_at=last_time, id__lt=last_id)</span>
    <span class="hljs-comment">#     )</span>
    
    orders = queryset[:<span class="hljs-number">21</span>]  <span class="hljs-comment"># å¤šæŸ¥1æ¡ç”¨äºåˆ¤æ–­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€é¡µ</span>
    has_next = <span class="hljs-built_in">len</span>(orders) &gt; <span class="hljs-number">20</span>
    orders = <span class="hljs-built_in">list</span>(orders[:<span class="hljs-number">20</span>])
    
    next_cursor = orders[-<span class="hljs-number">1</span>].<span class="hljs-built_in">id</span> <span class="hljs-keyword">if</span> orders <span class="hljs-keyword">and</span> has_next <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>
    
    <span class="hljs-keyword">return</span> JsonResponse({
        <span class="hljs-string">'data'</span>: [{<span class="hljs-string">'id'</span>: o.<span class="hljs-built_in">id</span>, ...} <span class="hljs-keyword">for</span> o <span class="hljs-keyword">in</span> orders],
        <span class="hljs-string">'next_cursor'</span>: next_cursor,
        <span class="hljs-string">'has_next'</span>: has_next
    })
</code></pre>
<p><strong>ä¼˜ç‚¹ï¼š</strong> æ€§èƒ½æ’å®šï¼Œæ— è®ºæŸ¥ç¬¬ 1 é¡µè¿˜æ˜¯ç¬¬ 100 ä¸‡é¡µï¼Œéƒ½åªéœ€æ‰«æ 20 è¡Œã€‚
<strong>ç¼ºç‚¹ï¼š</strong> ä¸æ”¯æŒè·³è½¬åˆ°æŒ‡å®šé¡µç ï¼ˆå¦‚ç›´æ¥è·³åˆ°ç¬¬ 50 é¡µï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-4">æ–¹æ¡ˆ 2ï¼šå»¶è¿Ÿå…³è”ï¼ˆDeferred Joinï¼‰</h3>
<p>å…ˆé€šè¿‡<strong>è¦†ç›–ç´¢å¼•</strong>æŸ¥è¯¢ä¸»é”® IDï¼Œå†é€šè¿‡ ID å…³è”å–å®Œæ•´æ•°æ®ï¼Œå‡å°‘å›è¡¨æ¬¡æ•°ã€‚</p>
<p><strong>SQL å®ç°ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¼ ç»Ÿæ–¹å¼ï¼ˆæ…¢ï¼‰ï¼šéœ€è¦å›è¡¨ 1000020 æ¬¡</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders 
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> created_at <span class="hljs-keyword">DESC</span> 
LIMIT <span class="hljs-number">1000000</span>, <span class="hljs-number">20</span>;

<span class="hljs-comment">-- ä¼˜åŒ–æ–¹å¼ï¼šå…ˆæŸ¥ IDï¼ˆè¦†ç›–ç´¢å¼•ï¼Œä¸å›è¡¨ï¼‰ï¼Œå† JOIN</span>
<span class="hljs-keyword">SELECT</span> o.<span class="hljs-operator">*</span> 
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> (
    <span class="hljs-keyword">SELECT</span> id <span class="hljs-keyword">FROM</span> orders 
    <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> created_at <span class="hljs-keyword">DESC</span> 
    LIMIT <span class="hljs-number">1000000</span>, <span class="hljs-number">20</span>
) tmp <span class="hljs-keyword">ON</span> o.id <span class="hljs-operator">=</span> tmp.id;
</code></pre>
<p><strong>æ‰§è¡Œè®¡åˆ’å¯¹æ¯”ï¼š</strong></p>
<ul>
<li>ä¼ ç»Ÿï¼šæ‰«æ 1000020 è¡Œï¼Œå›è¡¨ 1000020 æ¬¡</li>
<li>ä¼˜åŒ–ï¼šå­æŸ¥è¯¢æ‰«æ 1000020 è¡Œï¼ˆä»…ç”¨ç´¢å¼•ï¼‰ï¼Œå›è¡¨ <strong>ä»… 20 æ¬¡</strong></li>
</ul>
<p><strong>Django ORM å®ç°ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ–¹å¼ 1ï¼šä½¿ç”¨å­æŸ¥è¯¢ï¼ˆDjango 1.11+ï¼‰</span>
<span class="hljs-keyword">from</span> django.db.models <span class="hljs-keyword">import</span> Subquery

ids = Order.objects.order_by(<span class="hljs-string">'-created_at'</span>).values(<span class="hljs-string">'id'</span>)[<span class="hljs-number">1000000</span>:<span class="hljs-number">1000020</span>]
orders = Order.objects.<span class="hljs-built_in">filter</span>(id__in=Subquery(ids))  <span class="hljs-comment"># æ³¨æ„ï¼šè¿™é‡Œæ— åºï¼Œéœ€å†æ’åº</span>

<span class="hljs-comment"># æ–¹å¼ 2ï¼šä¸¤æ¬¡æŸ¥è¯¢ï¼ˆæ›´æ¨èï¼Œé¿å… IN æ€§èƒ½é—®é¢˜ï¼‰</span>
ids = <span class="hljs-built_in">list</span>(Order.objects.order_by(<span class="hljs-string">'-created_at'</span>).values_list(<span class="hljs-string">'id'</span>, flat=<span class="hljs-literal">True</span>)[<span class="hljs-number">1000000</span>:<span class="hljs-number">1000020</span>])
orders = Order.objects.<span class="hljs-built_in">filter</span>(id__in=ids).order_by(<span class="hljs-string">'-created_at'</span>)
</code></pre>
<hr/>
<h3 data-id="heading-5">æ–¹æ¡ˆ 3ï¼šè¦†ç›–ç´¢å¼•ä¼˜åŒ–</h3>
<p>å¦‚æœåˆ—è¡¨é¡µåªéœ€è¦å±•ç¤ºç´¢å¼•ä¸­çš„å­—æ®µï¼ˆå¦‚åªæ˜¾ç¤ºè®¢å•å·å’Œé‡‘é¢ï¼‰ï¼Œæ ¹æœ¬ä¸éœ€è¦å›è¡¨ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å‡è®¾ç´¢å¼•ä¸º idx_created_at_id(created_at, id, order_no, amount)</span>
<span class="hljs-keyword">SELECT</span> id, order_no, amount <span class="hljs-keyword">FROM</span> orders 
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> created_at <span class="hljs-keyword">DESC</span> 
LIMIT <span class="hljs-number">1000000</span>, <span class="hljs-number">20</span>;
</code></pre>
<p><strong>æ€§èƒ½ï¼š</strong> æ‰«æ 1000020 è¡Œï¼Œä½†å…¨éƒ¨åœ¨å†…å­˜ä¸­å®Œæˆï¼Œæ— éœ€å›è¡¨ï¼Œé€Ÿåº¦æå‡ 10-100 å€ã€‚</p>
<hr/>
<h3 data-id="heading-6">æ–¹æ¡ˆ 4ï¼šä¸šåŠ¡å±‚é™åˆ¶ï¼ˆæœ€å®ç”¨ï¼‰</h3>
<p>ç»å¤§å¤šæ•°ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œç”¨æˆ·æå°‘ç¿»åˆ° 100 é¡µä»¥åã€‚</p>
<p><strong>ç­–ç•¥ï¼š</strong></p>
<ol>
<li><strong>é™åˆ¶æœ€å¤§é¡µç </strong>ï¼šåªå…è®¸æŸ¥çœ‹å‰ 100 é¡µï¼ˆGoogle æœç´¢ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">if</span> page &gt; <span class="hljs-number">100</span>:
    <span class="hljs-keyword">raise</span> ValidationError(<span class="hljs-string">"åªèƒ½æŸ¥çœ‹å‰ 100 é¡µï¼Œè¯·ä½¿ç”¨ç­›é€‰æ¡ä»¶ç¼©å°èŒƒå›´"</span>)
</code></pre>
</li>
<li><strong>æä¾›ç­›é€‰æ¡ä»¶</strong>ï¼šè®©ç”¨æˆ·é€šè¿‡æ—¶é—´èŒƒå›´ã€çŠ¶æ€ç­‰æ¡ä»¶è¿‡æ»¤ï¼Œè€Œéç¿»é¡µ</li>
</ol>
<hr/>
<h3 data-id="heading-7">æ–¹æ¡ˆ 5ï¼šæ•°æ®å½’æ¡£ï¼ˆç»ˆææ–¹æ¡ˆï¼‰</h3>
<p>å¯¹äºè¶…å¤§æ•°æ®é‡ï¼ˆå¦‚æ—¥å¿—ã€å†å²è®¢å•ï¼‰ï¼š</p>
<ul>
<li><strong>å†·çƒ­åˆ†ç¦»</strong>ï¼šçƒ­æ•°æ®ï¼ˆè¿‘ 3 ä¸ªæœˆï¼‰åœ¨ MySQLï¼Œå†·æ•°æ®å½’æ¡£åˆ° <strong>ClickHouse</strong> æˆ– <strong>Elasticsearch</strong></li>
<li><strong>åˆ†è¡¨</strong>ï¼šæŒ‰æ—¶é—´åˆ†è¡¨ï¼ŒæŸ¥è¯¢æ—¶è·¯ç”±åˆ°å¯¹åº”è¡¨</li>
</ul>
<hr/>
<h2 data-id="heading-8">å››ã€æ€§èƒ½æµ‹è¯•æ•°æ®å¯¹æ¯”</h2>
<p>å‡è®¾è¡¨ <code>orders</code> æœ‰ 1000 ä¸‡æ¡æ•°æ®ï¼š</p>



































<table><thead><tr><th>é¡µç </th><th>ä¼ ç»Ÿ LIMIT</th><th>å»¶è¿Ÿå…³è”</th><th>æ¸¸æ ‡åˆ†é¡µ</th></tr></thead><tbody><tr><td>ç¬¬ 1 é¡µ</td><td>10ms</td><td>10ms</td><td>1ms</td></tr><tr><td>ç¬¬ 1000 é¡µ</td><td>50ms</td><td>30ms</td><td>1ms</td></tr><tr><td>ç¬¬ 10000 é¡µ</td><td>500ms</td><td>200ms</td><td>1ms</td></tr><tr><td>ç¬¬ 100000 é¡µ</td><td>5s+</td><td>2s</td><td>1ms</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-9">äº”ã€Django å®Œæ•´ç¤ºä¾‹ï¼šæ¸¸æ ‡åˆ†é¡µå°è£…</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> django.db <span class="hljs-keyword">import</span> models
<span class="hljs-keyword">from</span> django.http <span class="hljs-keyword">import</span> JsonResponse
<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CursorPaginator</span>:
    <span class="hljs-string">"""æ¸¸æ ‡åˆ†é¡µè£…é¥°å™¨"""</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, ordering=<span class="hljs-string">'-id'</span>, page_size=<span class="hljs-number">20</span></span>):
        self.ordering = ordering
        self.page_size = page_size
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__call__</span>(<span class="hljs-params">self, view_func</span>):
<span class="hljs-meta">        @wraps(<span class="hljs-params">view_func</span>)</span>
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">request, *args, **kwargs</span>):
            <span class="hljs-comment"># è·å–æ¸¸æ ‡ï¼ˆä¸Šä¸€é¡µæœ€åä¸€æ¡è®°å½•çš„æ’åºå­—æ®µå€¼ï¼‰</span>
            cursor = request.GET.get(<span class="hljs-string">'cursor'</span>)
            
            <span class="hljs-comment"># è·å–åŸºç¡€ QuerySetï¼ˆç”± view_func æä¾›ï¼‰</span>
            queryset = view_func(request, *args, **kwargs)
            
            <span class="hljs-comment"># åº”ç”¨æ’åº</span>
            <span class="hljs-keyword">if</span> self.ordering.startswith(<span class="hljs-string">'-'</span>):
                field = self.ordering[<span class="hljs-number">1</span>:]
                order_by = <span class="hljs-string">'-'</span> + field
                filter_cond = {<span class="hljs-string">f'<span class="hljs-subst">{field}</span>__lt'</span>: cursor} <span class="hljs-keyword">if</span> cursor <span class="hljs-keyword">else</span> {}
            <span class="hljs-keyword">else</span>:
                order_by = self.ordering
                filter_cond = {<span class="hljs-string">f'<span class="hljs-subst">{self.ordering}</span>__gt'</span>: cursor} <span class="hljs-keyword">if</span> cursor <span class="hljs-keyword">else</span> {}
            
            queryset = queryset.order_by(order_by)
            <span class="hljs-keyword">if</span> cursor:
                queryset = queryset.<span class="hljs-built_in">filter</span>(**filter_cond)
            
            <span class="hljs-comment"># å¤šæŸ¥ä¸€æ¡åˆ¤æ–­æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ</span>
            items = <span class="hljs-built_in">list</span>(queryset[:self.page_size + <span class="hljs-number">1</span>])
            has_next = <span class="hljs-built_in">len</span>(items) &gt; self.page_size
            items = items[:self.page_size]
            
            <span class="hljs-keyword">return</span> {
                <span class="hljs-string">'items'</span>: items,
                <span class="hljs-string">'next_cursor'</span>: <span class="hljs-built_in">getattr</span>(items[-<span class="hljs-number">1</span>], field <span class="hljs-keyword">if</span> self.ordering.startswith(<span class="hljs-string">'-'</span>) <span class="hljs-keyword">else</span> self.ordering) <span class="hljs-keyword">if</span> items <span class="hljs-keyword">and</span> has_next <span class="hljs-keyword">else</span> <span class="hljs-literal">None</span>,
                <span class="hljs-string">'has_next'</span>: has_next,
                <span class="hljs-string">'has_prev'</span>: <span class="hljs-built_in">bool</span>(cursor)
            }
        <span class="hljs-keyword">return</span> wrapper

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-meta">@CursorPaginator(<span class="hljs-params">ordering=<span class="hljs-string">'-created_at'</span>, page_size=<span class="hljs-number">20</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_orders</span>(<span class="hljs-params">request</span>):
    <span class="hljs-keyword">return</span> Order.objects.<span class="hljs-built_in">filter</span>(status=request.GET.get(<span class="hljs-string">'status'</span>, <span class="hljs-string">'paid'</span>))
</code></pre>
<hr/>
<h2 data-id="heading-10">å…­ã€æ€»ç»“å»ºè®®</h2>
<ol>
<li><strong>é¦–é€‰é¡¹</strong>ï¼š<strong>æ¸¸æ ‡åˆ†é¡µ</strong>ï¼ˆæ— é™æ»šåŠ¨åœºæ™¯ï¼‰ï¼Œæ€§èƒ½æœ€ä¼˜ï¼Œå®ç°ç®€å•</li>
<li><strong>æ¬¡é€‰é¡¹</strong>ï¼šå¦‚æœå¿…é¡»æ”¯æŒè·³é¡µï¼Œä½¿ç”¨<strong>å»¶è¿Ÿå…³è”</strong> + <strong>é™åˆ¶æœ€å¤§é¡µç </strong>ï¼ˆå¦‚æœ€å¤š 100 é¡µï¼‰</li>
<li><strong>æ¶æ„å±‚é¢</strong>ï¼šå¤§æ•°æ®é‡åˆ—è¡¨è€ƒè™‘å¼•å…¥ <strong>Elasticsearch</strong> æˆ– <strong>ClickHouse</strong>ï¼ŒMySQL ä¸“æ³¨äº‹åŠ¡å¤„ç†</li>
<li><strong>ç´¢å¼•æ£€æŸ¥</strong>ï¼šç¡®ä¿ <code>ORDER BY</code> å­—æ®µæœ‰ç´¢å¼•ï¼Œæœ€å¥½æ˜¯è¦†ç›–ç´¢å¼•</li>
</ol>
<p>å¯¹äº Django é¡¹ç›®ï¼Œæ¨èä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fphotocrowd%2Fdjango-cursor-pagination" target="_blank" title="https://github.com/photocrowd/django-cursor-pagination" ref="nofollow noopener noreferrer"><code>django-cursor-pagination</code></a> åº“ï¼Œå®ƒå°è£…äº†æ¸¸æ ‡åˆ†é¡µçš„å¤æ‚é€»è¾‘ï¼ˆå¤„ç†å¤šå­—æ®µæ’åºã€è¾¹ç•Œæƒ…å†µç­‰ï¼‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€å®æµ‹Clawdbotå½»åº•æ”¹å˜æˆ‘çš„å·¥ä½œæ–¹å¼ï¼ä¸€æ¡å‘½ä»¤éƒ¨ç½²ï¼ŒWhatsAppè¿œç¨‹æ§åˆ¶ç”µè„‘ï¼Œè‡ªåŠ¨ç¼–ç¨‹å¼€å‘ï¼Œ2026å¹´æœ€å¼ºä¸ªäººAIå‘˜å·¥æ¥äº†ï¼è‡ªæˆ‘è¿›åŒ–+æ— é™è®°å¿†+æµè§ˆ]]></title>    <link>https://juejin.cn/post/7599835610406830126</link>    <guid>https://juejin.cn/post/7599835610406830126</guid>    <pubDate>2026-01-27T14:54:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599835610406830126" data-draft-id="7599852042530177034" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€å®æµ‹Clawdbotå½»åº•æ”¹å˜æˆ‘çš„å·¥ä½œæ–¹å¼ï¼ä¸€æ¡å‘½ä»¤éƒ¨ç½²ï¼ŒWhatsAppè¿œç¨‹æ§åˆ¶ç”µè„‘ï¼Œè‡ªåŠ¨ç¼–ç¨‹å¼€å‘ï¼Œ2026å¹´æœ€å¼ºä¸ªäººAIå‘˜å·¥æ¥äº†ï¼è‡ªæˆ‘è¿›åŒ–+æ— é™è®°å¿†+æµè§ˆ"/> <meta itemprop="keywords" content="AIGC,OpenAI,Claude"/> <meta itemprop="datePublished" content="2026-01-27T14:54:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="win4r"/> <meta itemprop="url" content="https://juejin.cn/user/1739869037541555"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€å®æµ‹Clawdbotå½»åº•æ”¹å˜æˆ‘çš„å·¥ä½œæ–¹å¼ï¼ä¸€æ¡å‘½ä»¤éƒ¨ç½²ï¼ŒWhatsAppè¿œç¨‹æ§åˆ¶ç”µè„‘ï¼Œè‡ªåŠ¨ç¼–ç¨‹å¼€å‘ï¼Œ2026å¹´æœ€å¼ºä¸ªäººAIå‘˜å·¥æ¥äº†ï¼è‡ªæˆ‘è¿›åŒ–+æ— é™è®°å¿†+æµè§ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1739869037541555/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    win4r
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T14:54:38.000Z" title="Tue Jan 27 2026 14:54:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Clawdbot æœ€åˆæ˜¯ä¸º <strong>Clawd</strong> è€Œæ„å»ºçš„â€”â€”ä¸€ä¸ªè™šæ„çš„å¤ªç©ºé¾™è™¾ AI åŠ©æ‰‹è§’è‰²ã€‚é¡¹ç›®åç§°ä¸­çš„ "Clawd" èåˆäº† "Claude"ï¼ˆAnthropic çš„ AIï¼‰å’Œ "Claw"ï¼ˆé¾™è™¾çš„é’³å­ï¼‰ï¼Œä½“ç°äº†å…¶ç‹¬ç‰¹çš„å“ç‰Œé£æ ¼ã€‚</p>
<p>ğŸ”¥ğŸ”¥ğŸ”¥æœ¬ç¯‡ç¬”è®°æ‰€å¯¹åº”çš„è§†é¢‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV14z6GB1EAr%2F" target="_blank" title="https://www.bilibili.com/video/BV14z6GB1EAr/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV14zâ€¦</a></p>
<h4 data-id="heading-0">ğŸ”¥ä½¿ç”¨å‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash">
<span class="hljs-comment"># å®‰è£…</span>
curl -fsSL &lt;https://clawd.bot/install.sh&gt; | bash 

<span class="hljs-comment"># å¯åŠ¨</span>
clawdbot gateway

<span class="hljs-comment"># åœæ­¢</span>
clawdbot gateway stop 

<span class="hljs-comment"># ä½¿ç”¨whatsappç™»é™†</span>
clawdbot channels login --channel whatsapp

<span class="hljs-comment"># æ£€æŸ¥WhatsAppæ˜¯å¦è¿é€š</span>
curl -I &lt;https://web.whatsapp.com/&gt;

<span class="hljs-comment"># é€‰æ‹©æ¨¡å‹</span>
clawdbot configure --section model  

<span class="hljs-comment"># 1) è®¾ç½® MiniMax Anthropic-compatible Base URLï¼ˆå®˜æ–¹æ¨èï¼‰</span>
clawdbot config <span class="hljs-built_in">set</span> models.providers.minimax.baseUrl <span class="hljs-string">"&lt;https://api.minimaxi.com/anthropic&gt;"</span>

clawdbot config <span class="hljs-built_in">set</span> models.providers.minimax.baseUrl <span class="hljs-string">"&lt;https://api.minimax.io/anthropic&gt;"</span>

<span class="hljs-comment"># 2) è®¾ç½® MiniMax API Keyï¼ˆå¯¹åº” MINIMAX_API_KEYï¼‰</span>
clawdbot config <span class="hljs-built_in">set</span> models.providers.minimax.apiKey <span class="hljs-string">"ä½ çš„MINIMAX_API_KEY"</span>

<span class="hljs-comment"># 3)ï¼ˆå»ºè®®ï¼‰æ˜ç¡®èµ° Anthropic Messages å…¼å®¹åè®®</span>
clawdbot config <span class="hljs-built_in">set</span> models.providers.minimax.api <span class="hljs-string">"anthropic-messages"</span>
</code></pre>
<hr/>
<h4 data-id="heading-1">ğŸ”¥ç”¨å‘½ä»¤åˆ›å»ºâ€œæ¯å¤© 9 ç‚¹â€çš„ Cron Job</h4>
<pre><code class="hljs language-sql" lang="sql">clawdbot cron <span class="hljs-keyword">add</span> \
  <span class="hljs-comment">--name "Daily 9am AI Briefing" \</span>
  <span class="hljs-comment">--cron "0 9 * * *" \</span>
  <span class="hljs-comment">--tz "America/Denver" \</span>
  <span class="hljs-comment">--session isolated \</span>
  <span class="hljs-comment">--message "Create a Chinese AI briefing for the last 24 hours (AI/LLM/Agents/Coding tools). Steps: (1) Browse and collect 8â€“12 notable updates from English sources; (2) For each item include: what happened, why it matters, and the original source link; (3) Rank by \"heat\" (signals: multiple sources, official announcements, GitHub stars/issues, wide discussion); (4) Output: Top 5 (detailed) + Next 5 (one-liners) + 3 follow-up angles for a YouTube video. Keep it concise and skimmable, with bullet points and links." \</span>
  <span class="hljs-comment">--deliver \</span>
  <span class="hljs-comment">--channel last</span>
  
  # ç«‹åˆ»æ‰‹åŠ¨è·‘ä¸€æ¬¡éªŒè¯
 clawdbot cron run <span class="hljs-number">375e68</span>be<span class="hljs-number">-006</span>d<span class="hljs-number">-46</span>a9<span class="hljs-number">-8129</span><span class="hljs-number">-275</span>defa1b4ba <span class="hljs-comment">--force</span>
</code></pre>
<h4 data-id="heading-2">ğŸ”¥blogwatcherä½¿ç”¨æ–¹å¼</h4>
<pre><code class="hljs language-sql" lang="sql"># æ·»åŠ è®¢é˜…æºï¼ˆåªéœ€æ‰§è¡Œä¸€æ¬¡ï¼‰
blogwatcher <span class="hljs-keyword">add</span> "GH: Claude Code releases" <span class="hljs-operator">&lt;</span>https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>github.com<span class="hljs-operator">/</span>anthropics<span class="hljs-operator">/</span>claude<span class="hljs-operator">-</span>code<span class="hljs-operator">/</span>releases.atom<span class="hljs-operator">&gt;</span>
blogwatcher <span class="hljs-keyword">add</span> "GH: Clawdbot releases" <span class="hljs-operator">&lt;</span>https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>github.com<span class="hljs-operator">/</span>clawdbot<span class="hljs-operator">/</span>clawdbot<span class="hljs-operator">/</span>releases.atom<span class="hljs-operator">&gt;</span>
blogwatcher <span class="hljs-keyword">add</span> "AI: aivi.fyi" <span class="hljs-operator">&lt;</span>https:<span class="hljs-operator">/</span><span class="hljs-operator">/</span>www.aivi.fyi<span class="hljs-operator">/</span>feed<span class="hljs-operator">&gt;</span>

# æ‰«æå¹¶æŸ¥çœ‹æ–°å¢
blogwatcher scan
blogwatcher articles

# åˆ›å»ºæ¯å¤© <span class="hljs-number">9</span> ç‚¹æ¨é€åˆ° WhatsApp çš„ Cron
clawdbot cron <span class="hljs-keyword">add</span> \
  <span class="hljs-comment">--name "Daily 9am AI Briefing (blogwatcher -&gt; WhatsApp)" \</span>
  <span class="hljs-comment">--cron "0 9 * * *" \</span>
  <span class="hljs-comment">--tz "America/Denver" \</span>
  <span class="hljs-comment">--session isolated \</span>
  <span class="hljs-comment">--message "Use the blogwatcher tool to: (1) scan feeds; (2) list unread/new articles; (3) keep only AI/LLM/Agents/Coding tools related; (4) for each item output ONE Chinese sentence + the original link; (5) rank by heat (official announcements, GitHub momentum, wide discussion). Output: Top 5 (detailed) + Next 5 (one-liners) + 3 YouTube angles. Then mark summarized items as read using blogwatcher read-all. Keep total under 1200 Chinese characters; bullet points only; no preamble." \</span>
  <span class="hljs-comment">--deliver \</span>
  <span class="hljs-comment">--channel whatsapp \</span>
  <span class="hljs-comment">--to "+18186751473"</span>

# è¿è¡Œåä¼šè¾“å‡ºä¸€ä¸ª JSONï¼Œå…¶ä¸­æœ‰ "id": "..."ï¼ˆè®°ä¸‹è¿™ä¸ª idï¼‰
# ç«‹åˆ»å¼ºåˆ¶è·‘ä¸€æ¬¡æµ‹è¯•ï¼ˆæŠŠ <span class="hljs-operator">&lt;</span>ID<span class="hljs-operator">&gt;</span> æ›¿æ¢æˆä¸Šä¸€æ­¥è¾“å‡ºçš„ idï¼‰
clawdbot cron run <span class="hljs-operator">&lt;</span>ID<span class="hljs-operator">&gt;</span> <span class="hljs-comment">--force</span>

# æŸ¥çœ‹æœ€è¿‘è¿è¡Œè®°å½•
clawdbot cron runs <span class="hljs-comment">--id &lt;ID&gt; --limit 10</span>
</code></pre>
<h3 data-id="heading-3">ä¸€ã€é¡¹ç›®æ¦‚è§ˆ</h3>
<h4 data-id="heading-4">åŸºæœ¬ä¿¡æ¯</h4>
<pre><code class="hljs language-less" lang="less">é¡¹ç›®å±æ€§è¯¦æƒ…åç§°<span class="hljs-selector-tag">Clawdbot</span>ï¼ˆé¾™è™¾æœºå™¨äºº ğŸ¦ï¼‰å®šä½æœ¬åœ°ä¼˜å…ˆçš„ä¸ªäºº <span class="hljs-selector-tag">AI</span> åŠ©æ‰‹åˆ›å»ºè€…<span class="hljs-selector-tag">Peter</span> <span class="hljs-selector-tag">Steinberger</span> (<span class="hljs-variable">@steipete</span>)å¼€æºåè®®<span class="hljs-selector-tag">MIT</span> <span class="hljs-selector-tag">LicenseGitHub</span> <span class="hljs-selector-tag">Stars38</span>,<span class="hljs-number">900</span>+ â­<span class="hljs-selector-tag">Forks4</span>,<span class="hljs-number">500</span>+è´¡çŒ®è€…<span class="hljs-number">290</span>+æœ€æ–°ç‰ˆæœ¬<span class="hljs-number">2026.1</span><span class="hljs-selector-class">.24</span>æŠ€æœ¯æ ˆ<span class="hljs-selector-tag">TypeScript</span> (<span class="hljs-number">79.8%</span>) + <span class="hljs-selector-tag">Node</span><span class="hljs-selector-class">.js</span> â‰¥<span class="hljs-number">22</span>å®˜ç½‘<span class="hljs-selector-tag">clawd</span><span class="hljs-selector-class">.bot</span>æ–‡æ¡£<span class="hljs-selector-tag">docs</span><span class="hljs-selector-class">.clawd</span><span class="hljs-selector-class">.bot</span>
</code></pre>
<h4 data-id="heading-5">é¡¹ç›®èµ·æº</h4>
<p>Clawdbot æœ€åˆæ˜¯ä¸º <strong>Clawd</strong> è€Œæ„å»ºçš„â€”â€”ä¸€ä¸ªè™šæ„çš„å¤ªç©ºé¾™è™¾ AI åŠ©æ‰‹è§’è‰²ã€‚é¡¹ç›®åç§°ä¸­çš„ "Clawd" èåˆäº† "Claude"ï¼ˆAnthropic çš„ AIï¼‰å’Œ "Claw"ï¼ˆé¾™è™¾çš„é’³å­ï¼‰ï¼Œä½“ç°äº†å…¶ç‹¬ç‰¹çš„å“ç‰Œé£æ ¼ã€‚</p>
<h4 data-id="heading-6">æ ¸å¿ƒç†å¿µ</h4>
<p>åœ¨å½“å‰çš„ AI ç”Ÿæ€ä¸­ï¼Œå¤§å¤šæ•°ç”¨æˆ·ä¹ æƒ¯äºä½¿ç”¨ OpenAI æˆ– Anthropic æä¾›çš„ SaaS å¹³å°ã€‚è¿™ç§æ¨¡å¼è™½ç„¶ä¾¿æ·ï¼Œä½†å­˜åœ¨ä¸‰ä¸ªæ ¸å¿ƒç—›ç‚¹ï¼š</p>
<ol>
<li><strong>éšç§æ•°æ®æ³„éœ²é£é™©</strong>ï¼šå¯¹è¯æ•°æ®å­˜å‚¨åœ¨ç¬¬ä¸‰æ–¹æœåŠ¡å™¨</li>
<li><strong>åŠŸèƒ½è¢«åŠ¨æ€§</strong>ï¼šAI æ— æ³•ä¸»åŠ¨è”ç³»ç”¨æˆ·</li>
<li><strong>æ²™ç®±é™åˆ¶</strong>ï¼šAI æ— æ³•ç›´æ¥æ“ä½œæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿæˆ–æ‰§è¡Œå¤æ‚çš„ç³»ç»Ÿä»»åŠ¡</li>
</ol>
<p>Clawdbot çš„å‡ºç°æ­£æ˜¯ä¸ºäº†è§£å†³è¿™äº›ç—›ç‚¹ã€‚å®ƒå°† AI ä»ä¸€ä¸ª"å’¨è¯¢å·¥å…·"è½¬å˜ä¸ºä¸€ä¸ªçœŸæ­£çš„"æ•°å­—é›‡å‘˜"æˆ–"è¿œç¨‹å®ä¹ ç”Ÿ"ï¼Œèƒ½å¤Ÿ 24/7 å…¨å¤©å€™ç›‘æ§é‚®ä»¶ã€ç®¡ç†æ—¥å†å¹¶åœ¨ç‰¹å®šäº‹ä»¶å‘ç”Ÿæ—¶ä¸»åŠ¨å‘èµ·æ²Ÿé€šã€‚</p>
<hr/>
<h3 data-id="heading-7">äºŒã€ç³»ç»Ÿæ¶æ„</h3>
<h4 data-id="heading-8">å››å±‚æ¶æ„è®¾è®¡</h4>
<h4 data-id="heading-9">æ ¸å¿ƒç»„ä»¶è¯¦è§£</h4>
<h4 data-id="heading-10">1. Gatewayï¼ˆç½‘å…³ï¼‰ï¼šç³»ç»Ÿçš„ç¥ç»ä¸­æ¢</h4>
<p>Gateway æ˜¯ Clawdbot çš„æ§åˆ¶æ ¸å¿ƒï¼Œé€šå¸¸ä½œä¸ºä¸€ä¸ªåå°æœåŠ¡è¿è¡Œï¼Œé»˜è®¤é€šè¿‡ WebSocket åè®®åœ¨ <code>ws://127.0.0.1:18789</code> ä¸Šæš´éœ²æ§åˆ¶å¹³é¢ã€‚</p>
<p><strong>ä¸»è¦èŒè´£</strong>ï¼š</p>
<ul>
<li>æ¶ˆæ¯è·¯ç”±ï¼šæ¥æ”¶æ¥è‡ªå„æ¸ é“çš„æ¶ˆæ¯å¹¶åˆ†å‘</li>
<li>ä¼šè¯ç®¡ç†ï¼šç»´æŠ¤ç”¨æˆ·ä¼šè¯çŠ¶æ€å’Œä¸Šä¸‹æ–‡</li>
<li>å·¥å…·è°ƒç”¨ï¼šåè°ƒ AI ä¸å„ç§å·¥å…·çš„äº¤äº’</li>
<li>è°ƒåº¦ä»»åŠ¡ï¼šcron å®šæ—¶ä»»åŠ¡å’Œ webhook å¤„ç†</li>
</ul>
<p><strong>æŠ€æœ¯è§„æ ¼</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ç»„ä»¶ç±»å‹å…³é”®æŠ€æœ¯è§„æ ¼åŠŸèƒ½æè¿°è¿è¡Œæ—¶ç¯å¢ƒNode<span class="hljs-selector-class">.js</span> â‰¥<span class="hljs-number">22</span>æä¾›åŸç”Ÿ ESM æ”¯æŒä¸é«˜æ•ˆçš„å¼‚æ­¥ <span class="hljs-selector-tag">I</span>/O å¤„ç†å¼€å‘è¯­è¨€TypeScript (<span class="hljs-number">79.8%</span>)ç¡®ä¿æ ¸å¿ƒé€»è¾‘çš„ç±»å‹å®‰å…¨ä¸ä»£ç ç¨³å¥æ€§é€šä¿¡åè®®WebSocket (WS) / HTTPå®ç°ç½‘å…³ã€å®¢æˆ·ç«¯ä¸å·¥å…·ä¹‹é—´çš„å®æ—¶åŒå‘æ•°æ®æµå†…å­˜éœ€æ±‚<span class="hljs-number">2</span>GB - <span class="hljs-number">4</span>GBåŸºç¡€å¯¹è¯éœ€ <span class="hljs-number">2</span>GBï¼›æµè§ˆå™¨è‡ªåŠ¨åŒ–ç­‰å¤æ‚ä»»åŠ¡å»ºè®® <span class="hljs-number">4</span>GB ä»¥ä¸Šç½‘ç»œå®‰å…¨Tailscale / SSHé€šè¿‡åŠ å¯†éš§é“å®ç°å®‰å…¨çš„è¿œç¨‹è®¿é—®ï¼Œæ— éœ€å…¬ç½‘ IP
</code></pre>
<h4 data-id="heading-11">2. Nodesï¼ˆèŠ‚ç‚¹ï¼‰ï¼šè·¨ç¡¬ä»¶çš„èµ„æºæ¥å£</h4>
<p>èŠ‚ç‚¹ç³»ç»Ÿæ˜¯ Clawdbot å®ç°"ç‰©ç†å­˜åœ¨æ„Ÿ"çš„å…³é”®ã€‚èŠ‚ç‚¹æ˜¯è¿è¡Œåœ¨ç‰¹å®šç¡¬ä»¶ä¸Šçš„è¿›ç¨‹ï¼Œä¸ºç½‘å…³æä¾›å¯¹æœ¬åœ°èµ„æºçš„è®¿é—®æƒé™ã€‚</p>
<p><strong>æ”¯æŒçš„èŠ‚ç‚¹ç±»å‹</strong>ï¼š</p>
<ul>
<li><strong>macOS èŠ‚ç‚¹</strong>ï¼šç³»ç»Ÿå‘½ä»¤æ‰§è¡Œ (<code>system.run</code>)ã€é€šçŸ¥ (<code>system.notify</code>)ã€Canvas å±•ç¤º</li>
<li><strong>iOS èŠ‚ç‚¹</strong>ï¼šCanvasã€Voice Wakeã€Talk Modeã€æ‘„åƒå¤´ã€å±å¹•å½•åˆ¶</li>
<li><strong>Android èŠ‚ç‚¹</strong>ï¼šCanvasã€Chatã€æ‘„åƒå¤´ã€å±å¹•å½•åˆ¶ã€å¯é€‰ SMS</li>
</ul>
<p><strong>åˆ†å¸ƒå¼çµæ´»æ€§</strong>ï¼š ç”¨æˆ·å¯ä»¥åœ¨é«˜æ€§èƒ½çš„ Linux VPS ä¸Šè¿è¡Œä¸»ç½‘å…³ä»¥ä¿è¯ 24/7 åœ¨çº¿ï¼ŒåŒæ—¶å°†ä¸€å°æœ¬åœ° Mac Mini æˆ– iOS è®¾å¤‡ä½œä¸º"è¾¹ç¼˜èŠ‚ç‚¹"è¿æ¥åˆ°ç½‘å…³ã€‚å½“ç½‘å…³éœ€è¦æ‰§è¡Œä¸ç¡¬ä»¶ç›¸å…³çš„ä»»åŠ¡ï¼ˆå¦‚"æˆªå–å±å¹•å¹¶åˆ†æå†…å®¹"ï¼‰æ—¶ï¼Œå®ƒä¼šé€šè¿‡èŠ‚ç‚¹è°ƒç”¨ç›¸å…³ APIï¼Œè€Œè®¡ç®—å·¥ä½œï¼ˆLLM æ¨ç†ï¼‰åˆ™äº¤ç”±äº‘ç«¯æˆ–ä¸“ç”¨æœåŠ¡å™¨å¤„ç†ã€‚</p>
<h4 data-id="heading-12">3. Channelsï¼ˆæ¸ é“ï¼‰ï¼šé€šè®¯åè®®çš„æ¡¥æ¥å™¨</h4>
<p>Clawdbot å¹¶ä¸å¼ºè¿«ç”¨æˆ·ä½¿ç”¨ç‰¹å®šçš„å®¢æˆ·ç«¯ï¼Œè€Œæ˜¯é€šè¿‡"æ¸ é“åç«¯"å°† AI æ³¨å…¥åˆ°ç”¨æˆ·å·²æœ‰çš„é€šè®¯å·¥å…·ä¸­ã€‚</p>
<p><strong>æ”¯æŒçš„æ¸ é“</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">æ¸ é“åˆ†ç±»æ”¯æŒå¹³å°æŠ€æœ¯å®ç°è¯´æ˜ä¸»æµé€šè®¯WhatsApp, Telegram, Discord, Slacké€šè¿‡ Baileys (WA), grammY (TG) ç­‰åº“å®ç°é›†æˆéšç§é€šè®¯Signal, Matrixå¼ºè°ƒåŠ å¯†å®‰å…¨ï¼Œé€šå¸¸éœ€è¦ä¿¡å·å‘½ä»¤è¡Œå·¥å…· (signal-cli)ç³»ç»ŸåŸç”ŸiMessage, BlueBubblesåˆ©ç”¨ macOS èŠ‚ç‚¹çš„æœ¬åœ°è®¿é—®æƒé™å®ç°æ¶ˆæ¯è½¬å‘ä¼ä¸šåŠå…¬Microsoft Teams, Mattermostæ”¯æŒæ–‡ä»¶ä¸Šä¼ ã€è‡ªé€‚åº”å¡ç‰‡ç­‰å¤æ‚äº¤äº’ç½‘é¡µ/ç»ˆç«¯WebChat, TUI (Terminal UI)æä¾›æœ¬åœ°è°ƒè¯•ä¸å¯è§†åŒ–çš„ä»ªè¡¨ç›˜ç•Œé¢
</code></pre>
<h4 data-id="heading-13">4. Skillsï¼ˆæŠ€èƒ½ï¼‰ï¼šå¯æ‰©å±•çš„èƒ½åŠ›æ¨¡å—</h4>
<p>Clawdbot çš„èƒ½åŠ›ä¸æ˜¯å›ºå®šçš„ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªå¼€æ”¾çš„æ’ä»¶ç³»ç»Ÿâ€”â€”"æŠ€èƒ½ï¼ˆSkillsï¼‰"è¿›è¡Œæ‰©å±•ã€‚</p>
<p><strong><a href="https://link.juejin.cn?target=http%3A%2F%2FSKILL.md" target="_blank" title="http://SKILL.md" ref="nofollow noopener noreferrer">SKILL.md</a> è§„èŒƒ</strong>ï¼š æ¯ä¸ªæŠ€èƒ½éƒ½æ˜¯ä¸€ä¸ªåŒ…å«å…ƒæ•°æ®çš„ Markdown æ–‡ä»¶ï¼Œå®šä¹‰äº†æŠ€èƒ½çš„åŠ è½½é—¨æ§›ã€äºŒè¿›åˆ¶å·¥å…·ä¾èµ–å’Œç¯å¢ƒå˜é‡è¦æ±‚ã€‚</p>
<p><strong>æŠ€èƒ½ä¼˜å…ˆçº§</strong>ï¼š</p>
<ol>
<li><strong>å·¥ä½œåŒºæŠ€èƒ½ (Workspace Skills)</strong> ï¼šä½äº <code>&lt;workspace&gt;/skills/</code>ï¼Œæ‹¥æœ‰æœ€é«˜ä¼˜å…ˆçº§</li>
<li><strong>æœ¬åœ°æŠ€èƒ½ (Local Skills)</strong> ï¼šä½äº <code>~/.clawdbot/skills/</code>ï¼Œä¾›ä¸ªäººåœ¨å¤šé¡¹ç›®é—´å…±äº«</li>
<li><strong>å†…ç½®æŠ€èƒ½ (Bundled Skills)</strong> ï¼šéšå®‰è£…åŒ…é™„å¸¦çš„åŸºç¡€èƒ½åŠ›</li>
</ol>
<p><strong>ClawdHub æŠ€èƒ½å¸‚åœº</strong>ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fclawdhub.com%2F" target="_blank" title="https://clawdhub.com/" ref="nofollow noopener noreferrer">clawdhub.com</a> æ˜¯å®˜æ–¹å»ºç«‹çš„å…¬å…±æŠ€èƒ½æ³¨å†Œè¡¨ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…· <code>clawdhub install</code> å¿«é€Ÿæ‰©å…… AI çš„åŠŸèƒ½åº“ã€‚ClawdHub è¿˜é›†æˆäº†å‘é‡æœç´¢ï¼Œè®© AI èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€éœ€æ±‚è‡ªåŠ¨æŸ¥æ‰¾å¹¶æ¨èåˆé€‚çš„æŠ€èƒ½ã€‚</p>
<hr/>
<h3 data-id="heading-14">ä¸‰ã€Lobster å·¥ä½œæµè¿è¡Œæ—¶</h3>
<p>åœ¨å¤„ç†å¤æ‚çš„ã€å¤šæ­¥éª¤çš„è‡ªåŠ¨åŒ–ä»»åŠ¡æ—¶ï¼Œä¼ ç»Ÿçš„"å•æ¬¡ prompt"æ¨¡å¼å¾€å¾€å› å¹»è§‰æˆ–æŒ‡ä»¤ä¸¢å¤±è€Œå¤±è´¥ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼ŒClawdbot å¼•å…¥äº†åä¸º <strong>"Lobster"</strong> çš„ç±»å‹åŒ–å·¥ä½œæµè¿è¡Œæ—¶ã€‚</p>
<h4 data-id="heading-15">æ ¸å¿ƒæ€æƒ³</h4>
<p>Lobster çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†åŸæœ¬ä¸å¯é¢„æµ‹çš„ AI è¡Œä¸ºè½¬åŒ–ä¸ºå¯å®¡è®¡ã€ç¡®å®šæ€§çš„ç®¡é“ï¼ˆPipelinesï¼‰ã€‚è¿™äº›ç®¡é“ä½¿ç”¨ JSON æˆ– YAML å®šä¹‰ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½äº¤æ¢ç»“æ„åŒ–æ•°æ®è€Œéè‡ªç”±æ–‡æœ¬ã€‚</p>
<h4 data-id="heading-16">é«˜çº§ç‰¹æ€§</h4>
<ol>
<li><strong>å®¡æ‰¹é—¨æ§ (Approval Gates)</strong> ï¼šå¯¹äºæ¶‰åŠæ–‡ä»¶åˆ é™¤æˆ–èµ„é‡‘æ”¯å‡ºçš„é«˜é£é™©æ­¥éª¤ï¼Œå·¥ä½œæµä¼šè‡ªåŠ¨æš‚åœå¹¶å‘ç”¨æˆ·å‘é€ç¡®è®¤è¯·æ±‚</li>
<li><strong>çŠ¶æ€æŒä¹…åŒ– (State Persistence)</strong> ï¼šå·¥ä½œæµå¯ä»¥ä¿å­˜ä¸­é—´çŠ¶æ€ï¼Œå¹¶åœ¨é‡åˆ°è¶…æ—¶æˆ–é‡å¯åé€šè¿‡æ¢å¤ä»¤ç‰Œï¼ˆResume Tokenï¼‰ç»§ç»­è¿è¡Œ</li>
<li><strong>å¼‚å¸¸éš”ç¦»</strong>ï¼šè¿è¡Œåœ¨æ²™ç®±åŒ–ç¯å¢ƒä¸­çš„å·¥ä½œæµå—åˆ°ä¸¥æ ¼çš„èµ„æºé™åˆ¶ï¼Œé˜²æ­¢è„šæœ¬é”™è¯¯å¯¼è‡´ä¸»æœºå´©æºƒ</li>
</ol>
<hr/>
<h3 data-id="heading-17">å››ã€å®‰å…¨ä¸éšç§æ¶æ„</h3>
<p>å°†æ‹¥æœ‰ Shell æƒé™çš„ AI ä»£ç†æš´éœ²åœ¨å…¬ç½‘é€šè®¯å·¥å…·ä¸­ï¼Œå…¶å®‰å…¨æ€§æ˜¯ç”¨æˆ·å¿…é¡»é¢å¯¹çš„é¦–è¦è¯¾é¢˜ã€‚Clawdbot é‡‡ç”¨äº†ä¸€å¥—å››å±‚é˜²å¾¡ç­–ç•¥ï¼Œè¯•å›¾åœ¨åŠŸèƒ½ä¸å®‰å…¨ä¹‹é—´è¾¾æˆå¹³è¡¡ã€‚</p>
<h4 data-id="heading-18">ç¬¬ä¸€å±‚ï¼šDM é…å¯¹ä¸å‡†å…¥æ§åˆ¶</h4>
<p>Clawdbot é»˜è®¤å¼€å¯ <code>dmPolicy="pairing"</code>ï¼ˆé…å¯¹æ¨¡å¼ï¼‰ã€‚ä»»ä½•æœªç»æˆæƒçš„è”ç³»äººå‘æœºå™¨äººå‘é€æ¶ˆæ¯æ—¶ï¼Œæœºå™¨äººä¸ä¼šæ‰§è¡Œä»»ä½•æŒ‡ä»¤ï¼Œè€Œæ˜¯ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„é…å¯¹ç ã€‚åªæœ‰ç®¡ç†å‘˜åœ¨ CLI ç«¯è¾“å…¥ <code>clawdbot pairing approve</code> åï¼Œè¯¥ç”¨æˆ·æ‰ä¼šè¢«åŠ å…¥æœ¬åœ°ç™½åå•ã€‚</p>
<h4 data-id="heading-19">ç¬¬äºŒå±‚ï¼šæ²™ç®±åŒ–æ‰§è¡Œä¸èµ„æºå—é™</h4>
<p>å¯¹äºä¸å—ä¿¡ä»»çš„è¾“å…¥æºï¼ˆå¦‚å…¬å¼€ç¾¤ç»„æˆ–å¤–éƒ¨ Webhookï¼‰ï¼ŒClawdbot æä¾›äº† Docker æ²™ç®±æ¨¡å¼ã€‚åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼ŒAI çš„æ‰€æœ‰å‘½ä»¤ï¼ˆå¦‚ <code>system.run</code>ï¼‰éƒ½åœ¨ç‹¬ç«‹çš„å®¹å™¨å†…è¿è¡Œï¼Œæ— æ³•è§¦åŠä¸»æœºçš„æ•æ„Ÿæ–‡ä»¶æˆ–ç§é’¥ã€‚</p>
<h4 data-id="heading-20">ç¬¬ä¸‰å±‚ï¼šè®¤çŸ¥é˜²å¾¡ä¸è¾“å…¥å‡€åŒ–</h4>
<p>é’ˆå¯¹"æç¤ºè¯æ³¨å…¥ï¼ˆPrompt Injectionï¼‰"æ”»å‡»ï¼ŒClawdbot å»ºè®®ä½¿ç”¨æ¨ç†èƒ½åŠ›æ›´å¼ºçš„æ¨¡å‹ï¼ˆå¦‚ Anthropic Opus 4.5ï¼‰ï¼Œå¹¶æ­£åœ¨é›†æˆé«˜çº§è®¤çŸ¥é˜²å¾¡é€»è¾‘ã€‚è¿™åŒ…æ‹¬"å…ˆå†³å®šå†å¼€å£"çš„ä¸¤æ­¥è¯„ä¼°æ³•ï¼Œåœ¨æ¨¡å‹æ‰§è¡Œä»»ä½•å·¥å…·ä¹‹å‰ï¼Œå…ˆç‹¬ç«‹è¯„ä¼°è¯¥æŒ‡ä»¤æ˜¯å¦åç¦»äº†è®¾å®šçš„å®‰å…¨è¾¹ç•Œã€‚</p>
<h4 data-id="heading-21">ç¬¬å››å±‚ï¼šç½‘ç»œéš”ç¦»ä¸é˜²ç«å¢™</h4>
<p>Clawdbot çš„å®‰å…¨æ¶æ„æ¨èä»…å¼€æ”¾ SSH ç«¯å£ã€‚Web ç•Œé¢å’Œ WebSocket ç½‘å…³é€šå¸¸ç»‘å®šåœ¨ <code>localhost</code>ï¼Œç”¨æˆ·éœ€é€šè¿‡ Tailscale éš§é“æˆ– SSH ç«¯å£è½¬å‘è¿›è¡Œè®¿é—®ã€‚è¿™ç§ç½‘ç»œå±‚é¢çš„éšèº«ä¿æŠ¤äº†ç³»ç»Ÿå…å—å¤§è§„æ¨¡æ‰«æå™¨å’Œæš´åŠ›ç ´è§£çš„æ”»å‡»ã€‚</p>
<hr/>
<h3 data-id="heading-22">äº”ã€å®‰è£…ä¸é…ç½®</h3>
<h4 data-id="heading-23">ç³»ç»Ÿè¦æ±‚</h4>
<pre><code class="hljs language-scss" lang="scss">é¡¹ç›®è¦æ±‚Node<span class="hljs-selector-class">.js</span>â‰¥ <span class="hljs-number">22</span>æ“ä½œç³»ç»ŸmacOS / Linux / Windows (WSL2)å†…å­˜å»ºè®® <span class="hljs-number">2</span>GB+ï¼Œæµè§ˆå™¨è‡ªåŠ¨åŒ–å»ºè®® <span class="hljs-number">4</span>GB+
</code></pre>
<h4 data-id="heading-24">å¿«é€Ÿå®‰è£…</h4>
<p>bash</p>
<p>`# ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰ curl -fsSL <a href="https://link.juejin.cn?target=https%3A%2F%2Fclawd.bot%2Finstall.sh" target="_blank" title="https://clawd.bot/install.sh" ref="nofollow noopener noreferrer">clawd.bot/install.sh</a> | bash</p>
<h2 data-id="heading-25">æˆ–é€šè¿‡åŒ…ç®¡ç†å™¨</h2>
<p>npm install -g clawdbot@latest pnpm add -g clawdbot@latest`</p>
<h4 data-id="heading-26">é…ç½®å‘å¯¼</h4>
<p>bash</p>
<p><code>clawdbot onboard --install-daemon</code></p>
<p>å‘å¯¼å°†å¼•å¯¼å®Œæˆï¼š</p>
<ol>
<li>Gateway æ¨¡å¼é€‰æ‹©ï¼ˆæœ¬åœ°/è¿œç¨‹ï¼‰</li>
<li>AI æ¨¡å‹è®¤è¯ï¼ˆOAuth æˆ– API Keyï¼‰</li>
<li>æ¸ é“è¿æ¥ï¼ˆWhatsApp QR æ‰«ç ã€Telegram Bot Token ç­‰ï¼‰</li>
<li>æŠ€èƒ½å®‰è£…</li>
<li>åå°æœåŠ¡é…ç½®</li>
</ol>
<h4 data-id="heading-27">å…³é”®é…ç½®æ–‡ä»¶</h4>
<pre><code class="hljs language-javascript" lang="javascript">æ–‡ä»¶è·¯å¾„ç”¨é€”~<span class="hljs-regexp">/.clawdbot/</span>clawdbot.<span class="hljs-property">json</span>ä¸»é…ç½®æ–‡ä»¶~<span class="hljs-regexp">/.clawdbot/</span>credentials/<span class="hljs-title class_">OAuth</span> å‡­è¯å­˜å‚¨~<span class="hljs-regexp">/clawd/</span>é»˜è®¤å·¥ä½œç©ºé—´~<span class="hljs-regexp">/clawd/</span>skills/å·¥ä½œåŒºæŠ€èƒ½ç›®å½•/tmp/clawdbot/æ—¥å¿—æ–‡ä»¶ç›®å½•
</code></pre>
<h4 data-id="heading-28">æ¨¡å‹é…ç½®æ³¨æ„äº‹é¡¹</h4>
<p>âš ï¸ <strong>é‡è¦</strong>ï¼šå¦‚æœä½¿ç”¨ <strong>OpenAI OAuth ç™»å½•</strong>ï¼ˆè€Œé API Keyï¼‰ï¼Œæ¨¡å‹åç§°å¿…é¡»ä½¿ç”¨ <code>openai-codex/</code> å‰ç¼€ï¼š</p>
<p>json</p>
<p><code>{ "agents": { "defaults": { "model": { "primary": "openai-codex/gpt-5.2", // æ³¨æ„å‰ç¼€ "fallbacks": [] } } } }</code></p>
<hr/>
<h3 data-id="heading-29">å…­ã€æ ¸å¿ƒåŠŸèƒ½è¯¦è§£</h3>
<h4 data-id="heading-30">1. å¤šæ¸ é“ç»Ÿä¸€æ”¶ä»¶ç®±</h4>
<p>åœ¨ä»»ä½•ä½ ä¹ æƒ¯ä½¿ç”¨çš„èŠå¤©åº”ç”¨ä¸­ä¸ AI åŠ©æ‰‹äº¤æµï¼Œæ”¯æŒï¼š</p>
<ul>
<li>ç§èŠï¼ˆDMï¼‰</li>
<li>ç¾¤èŠï¼ˆéœ€ @æåŠæˆ–é…ç½® always æ¿€æ´»æ¨¡å¼ï¼‰</li>
<li>è·¨æ¸ é“æ¶ˆæ¯åŒæ­¥</li>
</ul>
<h4 data-id="heading-31">2. æµè§ˆå™¨è‡ªåŠ¨åŒ–</h4>
<p>Clawdbot å¯ä»¥æ§åˆ¶ä¸“ç”¨çš„ Chrome/Chromium æµè§ˆå™¨ï¼ˆclawd-browserï¼‰ï¼Œå®ç°ï¼š</p>
<ul>
<li>ç½‘é¡µå¯¼èˆªä¸è¡¨å•å¡«å†™</li>
<li>æ•°æ®æå–ä¸æˆªå›¾</li>
<li>ç™»å½•éªŒè¯ä¸ Cookie ç®¡ç†</li>
<li>æ— éœ€ API çš„ç½‘ç«™è‡ªåŠ¨åŒ–</li>
</ul>
<h4 data-id="heading-32">3. ç³»ç»Ÿçº§è®¿é—®</h4>
<ul>
<li><strong>æ–‡ä»¶æ“ä½œ</strong>ï¼šè¯»å–ã€å†™å…¥ã€ç¼–è¾‘æ–‡ä»¶</li>
<li><strong>å‘½ä»¤æ‰§è¡Œ</strong>ï¼šè¿è¡Œ shell å‘½ä»¤å’Œè„šæœ¬</li>
<li><strong>è¿›ç¨‹ç®¡ç†</strong>ï¼šå¯åŠ¨ã€ç›‘æ§ã€ç»ˆæ­¢è¿›ç¨‹</li>
<li><strong>æ²™ç®±æ¨¡å¼</strong>ï¼šå¯é€‰çš„ Docker éš”ç¦»ç¯å¢ƒ</li>
</ul>
<h4 data-id="heading-33">4. è¯­éŸ³äº¤äº’</h4>
<ul>
<li><strong>Voice Wake</strong>ï¼šè¯­éŸ³å”¤é†’ï¼ˆmacOS/iOS/Androidï¼‰</li>
<li><strong>Talk Mode</strong>ï¼šæŒç»­å¯¹è¯æ¨¡å¼</li>
<li><strong>TTS</strong>ï¼šElevenLabs è¯­éŸ³åˆæˆé›†æˆ</li>
<li><strong>è¯­éŸ³è½¬å½•</strong>ï¼šWhisper ç­‰æ¨¡å‹æ”¯æŒ</li>
</ul>
<h4 data-id="heading-34">5. Canvas å¯è§†åŒ–</h4>
<p>A2UIï¼ˆAgent-to-UIï¼‰ç³»ç»Ÿå…è®¸ AI åŠ¨æ€ç”Ÿæˆå’Œæ›´æ–°å¯è§†åŒ–ç•Œé¢ï¼Œç”¨äºï¼š</p>
<ul>
<li>æ•°æ®å±•ç¤º</li>
<li>äº¤äº’å¼å›¾è¡¨</li>
<li>å®æ—¶çŠ¶æ€ç›‘æ§</li>
</ul>
<h4 data-id="heading-35">6. å®šæ—¶ä»»åŠ¡ä¸è‡ªåŠ¨åŒ–</h4>
<ul>
<li><strong>Cron ä»»åŠ¡</strong>ï¼šå®šæ—¶æ‰§è¡Œé¢„è®¾ä»»åŠ¡</li>
<li><strong>Webhook</strong>ï¼šå“åº”å¤–éƒ¨äº‹ä»¶è§¦å‘</li>
<li><strong>Gmail Pub/Sub</strong>ï¼šé‚®ä»¶è§¦å‘è‡ªåŠ¨åŒ–</li>
</ul>
<h4 data-id="heading-36">7. å¤š Agent åä½œ</h4>
<ul>
<li><strong>ä¼šè¯éš”ç¦»</strong>ï¼šä¸åŒæ¸ é“/ç”¨æˆ·å¯è·¯ç”±åˆ°ç‹¬ç«‹ Agent</li>
<li><strong>Agent é—´é€šä¿¡</strong>ï¼š<code>sessions_send</code> å·¥å…·å®ç°è·¨ Agent åä½œ</li>
<li><strong>å·¥ä½œç©ºé—´éš”ç¦»</strong>ï¼šæ¯ä¸ª Agent å¯æœ‰ç‹¬ç«‹çš„å·¥ä½œç›®å½•å’Œé…ç½®</li>
</ul>
<hr/>
<h3 data-id="heading-37">ä¸ƒã€å®é™…ä½¿ç”¨åœºæ™¯</h3>
<h4 data-id="heading-38">åœºæ™¯ä¸€ï¼šä¸»åŠ¨å¼æ—¥ç¨‹ä¸ä¿¡æ¯èšåˆ</h4>
<p>é€šè¿‡é…ç½® <code>cron</code> ä»»åŠ¡ï¼Œç”¨æˆ·å¯ä»¥å°† Clawdbot å˜æˆä¸“å±çš„ä¿¡æ¯æ±‡æ€»å‘˜ï¼š</p>
<ul>
<li><strong>æ™¨é—´ç®€æŠ¥</strong>ï¼šæ¯å¤©æ—©ä¸Š 8 ç‚¹ï¼ŒAI è‡ªåŠ¨æ£€æŸ¥ Google Calendarã€æŸ¥è¯¢ä»Šæ—¥å¤©æ°”åŠå…³é”®è‚¡ç¥¨åŠ¨æ€ï¼Œé€šè¿‡ WhatsApp å‘é€ä¸€ä»½æ•´ç†å¥½çš„è¯­éŸ³æˆ–æ–‡å­—ç®€æŠ¥</li>
<li><strong>å¥åº·ç›‘æ§</strong>ï¼šAI æŒç»­è¯»å–å¯ç©¿æˆ´è®¾å¤‡çš„å¯¼å‡ºæ•°æ®ï¼Œå¹¶åœ¨å‘ç°å¼‚å¸¸æ¨¡å¼ï¼ˆå¦‚è¿ç»­ä¸‰æ—¥ç¡çœ ä¸è¶³ï¼‰æ—¶ä¸»åŠ¨è¯¢é—®ç”¨æˆ·çŠ¶å†µ</li>
</ul>
<h4 data-id="heading-39">åœºæ™¯äºŒï¼šæ·±åº¦ç ”ç©¶ä¸é‡‡è´­å†³ç­–</h4>
<p>å¾—ç›Šäºå¼ºå¤§çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–æŠ€èƒ½ï¼ŒClawdbot èƒ½å¤Ÿæ‰§è¡Œè€—æ—¶è¾ƒé•¿çš„ç ”ç©¶ä»»åŠ¡ï¼š</p>
<ul>
<li><strong>æ±½è½¦äº¤æ˜“è°ˆåˆ¤</strong>ï¼šAI é€šè¿‡æµè§ˆå™¨æœç´¢ç‰¹å®šè½¦å‹ï¼Œè‡ªåŠ¨ä¸å¤šä¸ªç»é”€å•†é€šè¿‡é‚®ä»¶å’Œåœ¨çº¿è¡¨å•è”ç³»ï¼Œå¯¹æ¯”æŠ¥ä»·ã€è¿›è¡Œåˆæ­¥è®®ä»·ï¼Œå¹¶æœ€ç»ˆä¸ºç”¨æˆ·èŠ‚çœäº†çº¦ 4,200 ç¾å…ƒ</li>
<li><strong>å­¦æœ¯ç»¼è¿°</strong>ï¼šåˆ©ç”¨å­¦æœ¯æœç´¢ API å’Œé•¿æ–‡æœ¬æ¨¡å‹ï¼ŒAI å¯ä»¥è·¨å¹³å°æœé›†æ–‡çŒ®ï¼Œæ•´ç†æˆç»“æ„åŒ–çš„å¯¹æ¯”è¡¨æ ¼ï¼Œå¹¶å­˜å‚¨åœ¨æœ¬åœ°çŸ¥è¯†åº“ä¸­</li>
</ul>
<h4 data-id="heading-40">åœºæ™¯ä¸‰ï¼šå¼€å‘è¿ç»´ä¸ä»£ç è‡ªæ²»</h4>
<p>Clawdbot æ˜¯å¼€å‘è€…çš„å¾—åŠ›åŠ©æ‰‹ï¼Œå®ƒå¡«è¡¥äº† IDE å’Œç”Ÿäº§ç¯å¢ƒä¹‹é—´çš„ç©ºç™½ï¼š</p>
<ul>
<li><strong>æ¼æ´è‡ªåŠ¨ä¿®å¤</strong>ï¼šAI å¯ä»¥é…ç½®ä¸ºç›‘æ§æœåŠ¡å™¨æ—¥å¿—ï¼Œå½“æ£€æµ‹åˆ°ç‰¹å®šçš„å´©æºƒæˆ–é”™è¯¯æ—¶ï¼Œè‡ªåŠ¨å…‹éš†ç›¸å…³ä»£ç ä»“åº“ã€å¤ç°é—®é¢˜ã€ç”Ÿæˆä¿®å¤ä»£ç ã€è¿è¡Œæµ‹è¯•å¥—ä»¶ï¼Œæœ€åæäº¤åˆå¹¶è¯·æ±‚</li>
<li><strong>åŸºç¡€è®¾æ–½ç®¡ç†</strong>ï¼šé€šè¿‡é›†æˆ Hetzner æˆ– AWS çš„ APIï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥é€šè¿‡ Telegram å‘é€"ä¸ºå½“å‰é¡¹ç›®å¢åŠ ä¸€å° 2GB RAM çš„æœåŠ¡å™¨"ç­‰æŒ‡ä»¤ï¼ŒAI ä¼šè‡ªåŠ¨å¤„ç†èµ„æºé¢„å¤‡å·¥ä½œ</li>
</ul>
<h4 data-id="heading-41">åœºæ™¯å››ï¼šå®¶åº­ç”Ÿæ´»ç®¡ç†</h4>
<p>åœ¨å®¶åº­ç¯å¢ƒä¸­ï¼ŒClawdbot å……å½“äº†æ•°å­—åŒ–çº½å¸¦çš„è§’è‰²ï¼š</p>
<ul>
<li><strong>å…±äº«è´­ç‰©æ¸…å•</strong>ï¼šå®¶åº­æˆå‘˜å¯ä»¥éšæ—¶å‘ WhatsApp æœºå™¨äººå‘é€"æ·»åŠ ç‰›å¥¶åˆ°æ¸…å•"ï¼ŒAI ä¼šç»´æŠ¤ä¸€ä¸ªè·¨å¹³å°çš„ã€æŒä¹…åŒ–çš„ Markdown åˆ—è¡¨ï¼Œå¹¶åœ¨æœ‰äººè¿›å…¥è¶…å¸‚åŒºåŸŸæ—¶ï¼ˆåˆ©ç”¨ä½ç½®èŠ‚ç‚¹ï¼‰å‘å‡ºæé†’</li>
<li><strong>é¤é£Ÿè§„åˆ’</strong>ï¼šç»“åˆå¤©æ°”é¢„æŠ¥ï¼ˆå†³å®šæ˜¯å¦æˆ·å¤–çƒ§çƒ¤ï¼‰å’Œå®¶åº­é£Ÿè°±åº“ï¼ŒAI æ¯å‘¨è‡ªåŠ¨ç”Ÿæˆè´­ç‰©æ¸…å•å¹¶æŒ‰è¶…å¸‚èµ°é“è¿›è¡Œåˆ†ç±»æ’åº</li>
</ul>
<hr/>
<h3 data-id="heading-42">å…«ã€è¿›é˜¶æŠ€å·§</h3>
<h4 data-id="heading-43">æŒä¹…åŒ–è®°å¿†ç®¡ç†</h4>
<p>Clawdbot æ‰€æœ‰çš„ä¼šè¯å†å²å’Œé•¿æœŸè®°å¿†éƒ½ä»¥ç®€å•çš„ Markdown æ–‡ä»¶å½¢å¼å­˜å‚¨åœ¨ç£ç›˜ä¸Šã€‚ç”¨æˆ·å¯ä»¥å°†è¿™ä¸ªå·¥ä½œåŒºï¼ˆWorkspaceï¼‰å˜æˆä¸€ä¸ªç§æœ‰çš„ Git ä»“åº“ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒAI çš„æ‰€æœ‰"å­¦ä¹ "è¿‡ç¨‹éƒ½æ˜¯é€æ˜ä¸”å¯å›æº¯çš„ï¼šå¦‚æœ AI äº§ç”Ÿäº†é”™è¯¯çš„åå¥½æˆ–é”™è¯¯åœ°è®°å½•äº†ä¿¡æ¯ï¼Œç”¨æˆ·åªéœ€æ‰§è¡Œ <code>git revert</code> å³å¯å°†å…¶è®°å¿†æ¢å¤åˆ°å…ˆå‰çš„çŠ¶æ€ã€‚</p>
<h4 data-id="heading-44">æƒé™ç»†ç²’åº¦åˆ†é…</h4>
<p>åœ¨"å®¶åº­æ¨¡å¼"æˆ–å¤šç”¨æˆ·ç¯å¢ƒä¸‹ï¼Œç½‘å…³æ”¯æŒä¸ºä¸åŒçš„è”ç³»äººåˆ†é…ä¸åŒçš„æƒé™ç­‰çº§ã€‚ä¾‹å¦‚ï¼Œç®¡ç†å‘˜å¯ä»¥æ‹¥æœ‰å…¨ç³»ç»Ÿçš„ <code>sudo</code> æƒé™ï¼Œè€Œæ™®é€šå®¶åº­æˆå‘˜å¯èƒ½ä»…è¢«æˆæƒä½¿ç”¨ <code>shopping-list</code> æˆ– <code>weather</code> æŠ€èƒ½ã€‚è¿™ç§åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰æ˜¯ä¼ä¸šçº§éƒ¨ç½²çš„åŸºç¡€ã€‚</p>
<h4 data-id="heading-45">è¯­éŸ³å”¤é†’ä¸ Talk æ¨¡å¼</h4>
<p>é…åˆ macOS åº”ç”¨ï¼ŒClawdbot æ”¯æŒ"è¯­éŸ³å”¤é†’ï¼ˆVoice Wakeï¼‰"å’Œ"æŒç»­å¯¹è¯æ¨¡å¼ï¼ˆTalk Modeï¼‰"ã€‚è¿™æ„å‘³ç€ç”¨æˆ·å¯ä»¥åœ¨å®¶ä¸­ç›´æ¥å¯¹ç©ºå–Šè¯ï¼Œè§¦å‘ AI è¿›è¡Œç³»ç»Ÿæ“ä½œï¼Œå®ç°ç±»ä¼¼äºã€Šé’¢é“ä¾ ã€‹ä¸­ J.A.R.V.I.S. çš„äº¤äº’ä½“éªŒã€‚</p>
<hr/>
<h3 data-id="heading-46">ä¹ã€ä¸å…¶ä»– AI åŠ©æ‰‹çš„å¯¹æ¯”</h3>
<pre><code class="hljs">ç‰¹æ€§ClawdbotChatGPT/Claude WebApple Intelligenceæ•°æ®å­˜å‚¨ä½ç½®æœ¬åœ°äº‘ç«¯æœ¬åœ°+äº‘ç«¯ç³»ç»Ÿçº§æƒé™âœ… å®Œæ•´âŒ æ²™ç®±âš ï¸ æœ‰é™ä¸»åŠ¨é€šçŸ¥èƒ½åŠ›âœ…âŒâš ï¸ æœ‰é™è‡ªå®šä¹‰æŠ€èƒ½âœ… å¼€æ”¾ç”Ÿæ€âŒâŒå¤šæ¸ é“æ”¯æŒâœ… 10+ æ¸ é“âŒ ä»…å®˜æ–¹ AppâŒ ä»…ç³»ç»Ÿå†…æµè§ˆå™¨è‡ªåŠ¨åŒ–âœ…âŒâŒå¼€æºâœ… MITâŒâŒä»·æ ¼å…è´¹ï¼ˆéœ€è‡ªä»˜ APIï¼‰è®¢é˜…åˆ¶è®¾å¤‡å†…ç½®
</code></pre>
<hr/>
<h3 data-id="heading-47">åã€æ€»ç»“ï¼šè¿ˆå‘å·¥ä¸š 6.0 ä¸å»ä¸­å¿ƒåŒ–æ™ºèƒ½</h3>
<p>Clawdbot ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå®ƒé¢„ç¤ºç€ä¸€ç§è¢«ç§°ä¸º"å·¥ä¸š 6.0"çš„æ„¿æ™¯â€”â€”å³ AI æ¨¡å‹èƒ½å¤Ÿè‡ªä¸»é“¾æ¥å·¥å…·ã€åˆ›é€ æ–°æƒ³æ³•å¹¶è§£å†³å¤æ‚é—®é¢˜ï¼Œè€Œäººç±»çš„è§’è‰²åˆ™ä»"æ‰§è¡Œè€…"è½¬å˜ä¸º"ç›‘ç£è€…"ã€‚</p>
<p>é€šè¿‡å°†æ§åˆ¶æƒäº¤è¿˜ç»™ç”¨æˆ·ï¼ŒClawdbot æŒ‘æˆ˜äº†å¤§å‹ç§‘æŠ€å…¬å¸å¯¹ AI åŸºç¡€è®¾æ–½çš„å„æ–­ã€‚éšç€ç¡¬ä»¶æ€§èƒ½çš„æå‡ï¼ˆå¦‚ M4 èŠ¯ç‰‡æˆ– AI PC çš„æ™®åŠï¼‰å’Œæ¨¡å‹æ•ˆç‡çš„ä¼˜åŒ–ï¼Œæœ¬åœ°è¿è¡Œå¼ºå¤§ AI åŠ©ç†çš„é—¨æ§›æ­£åœ¨è¿…é€Ÿé™ä½ã€‚</p>
<p>Clawdbot ä»¥å…¶æœ¬åœ°ä¼˜å…ˆã€éšç§è‡³ä¸Šã€ä¸»åŠ¨äº¤äº’çš„ç‰¹è´¨ï¼Œæ­£åœ¨æˆä¸ºä¸ªäººè‡ªåŠ¨åŒ–é¢†åŸŸçš„æ–°æ ‡å‡†ã€‚å¯¹äºè¿½æ±‚æè‡´æ•ˆç‡ã€é‡è§†æ•°æ®æ‰€æœ‰æƒçš„å¼€å‘è€…å’Œæå®¢è€Œè¨€ï¼ŒClawdbot ä¸ä»…æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œæ›´æ˜¯æ„å»ºä¸ªäººæœªæ¥æ•°å­—ç”Ÿæ´»çš„æ ¸å¿ƒåŸºçŸ³ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[type-challengesï¼ˆtsç±»å‹ä½“æ“ï¼‰: 2 - è·å–å‡½æ•°è¿”å›ç±»å‹]]></title>    <link>https://juejin.cn/post/7599920572840378377</link>    <guid>https://juejin.cn/post/7599920572840378377</guid>    <pubDate>2026-01-27T14:58:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599920572840378377" data-draft-id="7599708108622446643" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="type-challengesï¼ˆtsç±»å‹ä½“æ“ï¼‰: 2 - è·å–å‡½æ•°è¿”å›ç±»å‹"/> <meta itemprop="keywords" content="TypeScript"/> <meta itemprop="datePublished" content="2026-01-27T14:58:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="fxss"/> <meta itemprop="url" content="https://juejin.cn/user/3702810892856808"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            type-challengesï¼ˆtsç±»å‹ä½“æ“ï¼‰: 2 - è·å–å‡½æ•°è¿”å›ç±»å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3702810892856808/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    fxss
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T14:58:54.000Z" title="Tue Jan 27 2026 14:58:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">2 - è·å–å‡½æ•°è¿”å›ç±»å‹</h2>
<p>by Anthony Fu (@antfu) #ä¸­ç­‰ #infer #built-in</p>
<h2 data-id="heading-1">é¢˜ç›®</h2>
<p>ä¸ä½¿ç”¨ <code>ReturnType</code> å®ç° TypeScript çš„ <code>ReturnType&lt;T&gt;</code> æ³›å‹ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title function_">fn</span> = (<span class="hljs-params">v: <span class="hljs-built_in">boolean</span></span>) =&gt; {
  <span class="hljs-keyword">if</span> (v)
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
  <span class="hljs-keyword">else</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>
}

<span class="hljs-keyword">type</span> a = <span class="hljs-title class_">MyReturnType</span>&lt;<span class="hljs-keyword">typeof</span> fn&gt; <span class="hljs-comment">// åº”æ¨å¯¼å‡º "1 | 2"</span>
</code></pre>
<blockquote>
<p>åœ¨ Github ä¸ŠæŸ¥çœ‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftsch.js.org%2F2%2Fzh-CN" target="_blank" title="https://tsch.js.org/2/zh-CN" ref="nofollow noopener noreferrer">tsch.js.org/2/zh-CN</a></p>
</blockquote>
<h2 data-id="heading-2">ä»£ç </h2>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/* _____________ ä½ çš„ä»£ç  _____________ */</span>

<span class="hljs-keyword">type</span> <span class="hljs-title class_">MyReturnType</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>[]) =&gt; infer R ? R : <span class="hljs-built_in">never</span>

</code></pre>
<p>å…³é”®è§£é‡Šï¼š</p>
<ul>
<li><code>T</code>ï¼šæ³›å‹å‚æ•°ï¼Œä»£è¡¨ä»»æ„å‡½æ•°ç±»å‹ï¼›</li>
<li><code>(...args: any[]) =&gt; infer R</code>ï¼šå‡½æ•°ç±»å‹çš„æ¨¡å¼åŒ¹é…ï¼Œç”¨äºæå–å‡½æ•°çš„è¿”å›ç±»å‹ <code>R</code>ï¼›</li>
<li><code>infer R</code>ï¼šç±»å‹æ¨æ–­ï¼Œç”¨äºåœ¨æ¡ä»¶ç±»å‹ä¸­æå–ç¬¦åˆæ¡ä»¶çš„ç±»å‹ï¼›</li>
<li><code>never</code>ï¼šè¡¨ç¤ºæ°¸è¿œä¸ä¼šå‡ºç°çš„ç±»å‹ï¼Œç”¨äºå¤„ç†ä¸æ»¡è¶³æ¡ä»¶çš„æƒ…å†µã€‚</li>
</ul>
<h2 data-id="heading-3">ç›¸å…³çŸ¥è¯†ç‚¹</h2>
<h3 data-id="heading-4"><code>extends</code></h3>




















<table><thead><tr><th>ä½¿ç”¨ç»´åº¦</th><th>æ ¸å¿ƒä½œç”¨</th><th>ç¤ºä¾‹åœºæ™¯</th></tr></thead><tbody><tr><td>ç±»å‹ç»´åº¦</td><td>åšç±»å‹çº¦æŸæˆ–æ¡ä»¶åˆ¤æ–­ï¼ˆç±»å‹ç¼–ç¨‹æ ¸å¿ƒï¼‰</td><td>é™å®šæ³›å‹èŒƒå›´ã€åˆ¤æ–­ç±»å‹æ˜¯å¦å…¼å®¹ã€æå–ç±»å‹ç‰‡æ®µ</td></tr><tr><td>è¯­æ³•ç»´åº¦</td><td>åšç»§æ‰¿ï¼ˆå¤ç”¨å·²æœ‰ç»“æ„ï¼‰</td><td>æ¥å£ç»§æ‰¿ã€ç±»ç»§æ‰¿</td></tr></tbody></table>
<h4 data-id="heading-5"><code>extends</code> åšç±»å‹çº¦æŸæˆ–æ¡ä»¶åˆ¤æ–­</h4>
<ol>
<li>æ³›å‹çº¦æŸï¼šé™å®šæ³›å‹çš„å–å€¼èŒƒå›´</li>
</ol>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// çº¦æŸ T å¿…é¡»æ˜¯ã€Œæ‹¥æœ‰ length å±æ€§ã€çš„ç±»å‹ï¼ˆæ¯”å¦‚ string/æ•°ç»„ï¼‰</span>
<span class="hljs-keyword">function</span> getLength&lt;T <span class="hljs-keyword">extends</span> { <span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span> }&gt;(<span class="hljs-attr">arg</span>: T): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> arg.<span class="hljs-property">length</span>;
}

<span class="hljs-comment">// åˆæ³•è°ƒç”¨ï¼ˆç¬¦åˆçº¦æŸï¼‰</span>
<span class="hljs-title function_">getLength</span>(<span class="hljs-string">"hello"</span>); <span class="hljs-comment">// âœ… string æœ‰ lengthï¼Œè¿”å› 5</span>
<span class="hljs-title function_">getLength</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// âœ… æ•°ç»„æœ‰ lengthï¼Œè¿”å› 3</span>

<span class="hljs-comment">// éæ³•è°ƒç”¨ï¼ˆè¶…å‡ºçº¦æŸï¼‰</span>
<span class="hljs-title function_">getLength</span>(<span class="hljs-number">123</span>); <span class="hljs-comment">// âŒ æŠ¥é”™ï¼šnumber æ²¡æœ‰ length å±æ€§</span>
</code></pre>
<ol start="2">
<li>æ¡ä»¶ç±»å‹ï¼šç±»å‹ç‰ˆ <strong>ä¸‰å…ƒè¿ç®—ç¬¦</strong></li>
</ol>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// åŸºç¡€ç¤ºä¾‹ï¼šåˆ¤æ–­ç±»å‹æ˜¯å¦ä¸ºå­—ç¬¦ä¸²</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">IsString</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span> ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;

<span class="hljs-keyword">type</span> A = <span class="hljs-title class_">IsString</span>&lt;<span class="hljs-string">"test"</span>&gt;; <span class="hljs-comment">// trueï¼ˆç¬¦åˆï¼‰</span>
<span class="hljs-keyword">type</span> B = <span class="hljs-title class_">IsString</span>&lt;<span class="hljs-number">123</span>&gt;; <span class="hljs-comment">// falseï¼ˆä¸ç¬¦åˆï¼‰</span>
</code></pre>
<p>åˆ†å¸ƒå¼æ¡ä»¶ç±»å‹ï¼ˆè”åˆç±»å‹ä¸“ç”¨ï¼‰: å½“ <code>T</code> æ˜¯è”åˆç±»å‹æ—¶ï¼Œ<code>extends</code> ä¼šè‡ªåŠ¨æ‹†åˆ†è”åˆç±»å‹çš„æ¯ä¸ªæˆå‘˜ï¼Œé€ä¸ªåˆ¤æ–­åå†åˆå¹¶ç»“æœã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Union</span> = <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | <span class="hljs-built_in">boolean</span>;

<span class="hljs-comment">// æ‹†åˆ†é€»è¾‘ï¼šstringâ†’stringï¼Œnumberâ†’neverï¼Œbooleanâ†’never â†’ åˆå¹¶ä¸º string</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">OnlyString</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">string</span> ? T : <span class="hljs-built_in">never</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Result</span> = <span class="hljs-title class_">OnlyString</span>&lt;<span class="hljs-title class_">Union</span>&gt;; <span class="hljs-comment">// Result = string</span>
</code></pre>
<p>æ³¨æ„ï¼šåªæœ‰æ³›å‹å‚æ•°æ˜¯ è£¸ç±»å‹ï¼ˆæ²¡æœ‰è¢« []/{} åŒ…è£¹ï¼‰æ—¶ï¼Œæ‰ä¼šè§¦å‘åˆ†å¸ƒå¼åˆ¤æ–­ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// åŒ…è£¹åä¸è§¦å‘åˆ†å¸ƒå¼ï¼Œæ•´ä½“åˆ¤æ–­ [string|number] æ˜¯å¦å…¼å®¹ [string]</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">NoDist</span>&lt;T&gt; = [T] <span class="hljs-keyword">extends</span> [<span class="hljs-built_in">string</span>] ? T : <span class="hljs-built_in">never</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Result2</span> = <span class="hljs-title class_">NoDist</span>&lt;<span class="hljs-title class_">Union</span>&gt;; <span class="hljs-comment">// neverï¼ˆæ•´ä½“ä¸å…¼å®¹ï¼‰</span>
</code></pre>
<ol start="3">
<li>é…åˆ <code>infer</code>ï¼šæå–ç±»å‹ç‰‡æ®µï¼ˆé»„é‡‘ç»„åˆï¼‰</li>
</ol>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// æå– Promise çš„è¿”å›å€¼ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">UnwrapPromise</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Promise</span>&lt;infer V&gt; ? V : T;

<span class="hljs-keyword">type</span> C = <span class="hljs-title class_">UnwrapPromise</span>&lt;<span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt;; <span class="hljs-comment">// stringï¼ˆæå–æˆåŠŸï¼‰</span>
<span class="hljs-keyword">type</span> D = <span class="hljs-title class_">UnwrapPromise</span>&lt;<span class="hljs-built_in">number</span>&gt;; <span class="hljs-comment">// numberï¼ˆä¸æ»¡è¶³æ¡ä»¶ï¼Œè¿”å›åŸç±»å‹ï¼‰</span>
</code></pre>
<h4 data-id="heading-6"><code>extends</code> åšç»§æ‰¿ï¼ˆå¤ç”¨å·²æœ‰ç»“æ„ï¼‰</h4>
<ol>
<li>æ¥å£ç»§æ‰¿ï¼šå¤ç”¨ + æ‰©å±•å±æ€§</li>
</ol>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// åŸºç¡€æ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">// ç»§æ‰¿ Userï¼Œå¹¶æ‰©å±•æ–°å±æ€§</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Admin</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">role</span>: <span class="hljs-string">"admin"</span> | <span class="hljs-string">"super_admin"</span>; <span class="hljs-comment">// æ–°å¢æƒé™å±æ€§</span>
}

<span class="hljs-comment">// å¿…é¡»åŒ…å«ç»§æ‰¿çš„ + æ‰©å±•çš„æ‰€æœ‰å±æ€§</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">admin</span>: <span class="hljs-title class_">Admin</span> = {
  <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>,
  <span class="hljs-attr">role</span>: <span class="hljs-string">"admin"</span>
};

<span class="hljs-comment">// å¤šæ¥å£ç»§æ‰¿</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">HasAge</span> { <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>; }
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">User</span>, <span class="hljs-title class_">HasAge</span> {
  <span class="hljs-attr">className</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// åŒæ—¶ç»§æ‰¿ User + HasAge</span>
}
</code></pre>
<ol start="2">
<li>ç±»ç»§æ‰¿ï¼šå¤ç”¨çˆ¶ç±»çš„å±æ€§ / æ–¹æ³•</li>
</ol>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Parent</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }
  <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hi, <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>);
  }
}

<span class="hljs-comment">// ç»§æ‰¿ Parent ç±»</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Parent</span> {
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span>, age: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-variable language_">super</span>(name); <span class="hljs-comment">// å¿…é¡»è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼ˆåˆå§‹åŒ–çˆ¶ç±»å±æ€§ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
  }
  <span class="hljs-comment">// é‡å†™çˆ¶ç±»æ–¹æ³•</span>
  <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">sayHi</span>(); <span class="hljs-comment">// è°ƒç”¨çˆ¶ç±»åŸæ–¹æ³•</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`I'm <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.age}</span> years old`</span>);
  }
}

<span class="hljs-keyword">const</span> child = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>(<span class="hljs-string">"æå››"</span>, <span class="hljs-number">10</span>);
child.<span class="hljs-title function_">sayHi</span>(); <span class="hljs-comment">// è¾“å‡ºï¼šHi, æå›› â†’ I'm 10 years old</span>
</code></pre>
<p>è¡¥å……ï¼šç±»å®ç°æ¥å£ç”¨ <code>implements</code>ï¼ˆä¸æ˜¯ <code>extends</code>ï¼‰</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å®šä¹‰æ¥å£ï¼ˆå¥‘çº¦ï¼šè§„å®šå¿…é¡»æœ‰ idã€name å±æ€§ï¼Œä»¥åŠ greet æ–¹æ³•ï¼‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Person</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-title function_">greet</span>(): <span class="hljs-built_in">void</span>; <span class="hljs-comment">// ä»…å®šä¹‰æ–¹æ³•ç­¾åï¼Œæ— å®ç°</span>
}

<span class="hljs-comment">// ç±»å®ç°æ¥å£ï¼ˆå¿…é¡»ä¸¥æ ¼éµå®ˆå¥‘çº¦ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Person</span> {
  <span class="hljs-comment">// å¿…é¡»å®ç°æ¥å£çš„æ‰€æœ‰å±æ€§</span>
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-comment">// æ„é€ å‡½æ•°åˆå§‹åŒ–å±æ€§</span>
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span>, name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }

  <span class="hljs-comment">// å¿…é¡»å®ç°æ¥å£çš„ greet æ–¹æ³•ï¼ˆå…·ä½“å®ç°ç”±ç±»è‡ªå·±å®šä¹‰ï¼‰</span>
  <span class="hljs-title function_">greet</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Hi, I'm <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>, ID: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.id}</span>`</span>);
  }
}

<span class="hljs-comment">// å®ä¾‹åŒ–ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> emp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(<span class="hljs-number">1</span>, <span class="hljs-string">"å¼ ä¸‰"</span>);
emp.<span class="hljs-title function_">greet</span>(); <span class="hljs-comment">// è¾“å‡ºï¼šHi, I'm å¼ ä¸‰, ID: 1</span>


<span class="hljs-comment">// æ¥å£1ï¼šåŸºç¡€ä¿¡æ¯</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Identifiable</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-title function_">getId</span>(): <span class="hljs-built_in">number</span>;
}

<span class="hljs-comment">// æ¥å£2ï¼šå¯æ‰“å°</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Printable</span> {
  <span class="hljs-title function_">printInfo</span>(): <span class="hljs-built_in">void</span>;
}

<span class="hljs-comment">// ç±»åŒæ—¶å®ç°ä¸¤ä¸ªæ¥å£ï¼ˆå¿…é¡»å®ç°æ‰€æœ‰æ¥å£çš„æˆå‘˜ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Identifiable</span>, <span class="hljs-title class_">Printable</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// ç±»å¯æ‰©å±•æ¥å£å¤–çš„å±æ€§</span>

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">id: <span class="hljs-built_in">number</span>, name: <span class="hljs-built_in">string</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
  }

  <span class="hljs-comment">// å®ç° Identifiable çš„æ–¹æ³•</span>
  <span class="hljs-title function_">getId</span>(): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span>;
  }

  <span class="hljs-comment">// å®ç° Printable çš„æ–¹æ³•</span>
  <span class="hljs-title function_">printInfo</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Product: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>, ID: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.getId()}</span>`</span>);
  }
}

<span class="hljs-keyword">const</span> product = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>(<span class="hljs-number">100</span>, <span class="hljs-string">"æ‰‹æœº"</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(product.<span class="hljs-title function_">getId</span>()); <span class="hljs-comment">// 100</span>
product.<span class="hljs-title function_">printInfo</span>(); <span class="hljs-comment">// Product: æ‰‹æœº, ID: 100</span>
</code></pre>
<h3 data-id="heading-7"><code>infer</code></h3>
<p><code>infer</code> æ˜¯ TypeScript åœ¨æ¡ä»¶ç±»å‹ä¸­æä¾›çš„å…³é”®å­—ï¼Œç”¨äºå£°æ˜ä¸€ä¸ª <strong>å¾…æ¨å¯¼çš„ç±»å‹å˜é‡</strong>ï¼ˆç±»ä¼¼ç»™ç±»å‹èµ·ä¸€ä¸ªä¸´æ—¶åå­—ï¼‰ï¼Œåªèƒ½åœ¨ <code>extends</code> å­å¥ä¸­ä½¿ç”¨ã€‚å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼šä»å·²æœ‰ç±»å‹ä¸­æå– / æ¨å¯¼æˆ‘ä»¬éœ€è¦çš„éƒ¨åˆ†ï¼Œè€Œæ— éœ€æ‰‹åŠ¨ç¡¬ç¼–ç ç±»å‹ã€‚</p>
<p><code>infer</code> å¿…é¡»é…åˆæ¡ä»¶ç±»å‹ä½¿ç”¨ï¼Œè¯­æ³•ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// åŸºç¡€ç»“æ„ï¼šæ¨å¯¼ T çš„ç±»å‹ä¸º Uï¼Œè‹¥èƒ½æ¨å¯¼åˆ™è¿”å› Uï¼Œå¦åˆ™è¿”å› never</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">InferType</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> infer U ? U : <span class="hljs-built_in">never</span>;

<span class="hljs-keyword">type</span> <span class="hljs-title class_">Example</span> = <span class="hljs-title class_">InferType</span>&lt;<span class="hljs-built_in">string</span>&gt;; <span class="hljs-comment">// Example ç±»å‹ä¸º string</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Example2</span> = <span class="hljs-title class_">InferType</span>&lt;<span class="hljs-built_in">number</span>[]&gt;; <span class="hljs-comment">// Example2 ç±»å‹ä¸º number[]</span>
</code></pre>
<p>é«˜é¢‘ä½¿ç”¨åœºæ™¯:</p>
<h4 data-id="heading-8">1. æå–å‡½æ•°çš„è¿”å›å€¼ç±»å‹</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å®šä¹‰ç±»å‹å·¥å…·ï¼šæå–å‡½æ•°çš„è¿”å›å€¼ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">GetReturnType</span>&lt;<span class="hljs-title class_">Fn</span>&gt; = <span class="hljs-title class_">Fn</span> <span class="hljs-keyword">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>[]) =&gt; infer R ? R : <span class="hljs-built_in">never</span>;

<span class="hljs-comment">// æµ‹è¯•ç”¨å‡½æ•°</span>
<span class="hljs-keyword">const</span> add = (<span class="hljs-attr">a</span>: <span class="hljs-built_in">number</span>, <span class="hljs-attr">b</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">number</span> =&gt;</span> a + b;
<span class="hljs-keyword">const</span> <span class="hljs-title function_">getUser</span> = (<span class="hljs-params"/>) =&gt; ({ <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> });

<span class="hljs-comment">// ä½¿ç”¨ç±»å‹å·¥å…·</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">AddReturn</span> = <span class="hljs-title class_">GetReturnType</span>&lt;<span class="hljs-keyword">typeof</span> add&gt;; <span class="hljs-comment">// AddReturn ç±»å‹ä¸º number</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">UserReturn</span> = <span class="hljs-title class_">GetReturnType</span>&lt;<span class="hljs-keyword">typeof</span> getUser&gt;; <span class="hljs-comment">// UserReturn ç±»å‹ä¸º { name: string; age: number }</span>
</code></pre>
<h4 data-id="heading-9">2. æå–æ•°ç»„çš„å…ƒç´ ç±»å‹</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å®šä¹‰ç±»å‹å·¥å…·ï¼šæå–æ•°ç»„å…ƒç´ ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">GetArrayItem</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> (infer <span class="hljs-title class_">Item</span>)[] ? <span class="hljs-title class_">Item</span> : <span class="hljs-built_in">never</span>;

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">NumberArray</span> = <span class="hljs-title class_">GetArrayItem</span>&lt;<span class="hljs-built_in">number</span>[]&gt;; <span class="hljs-comment">// NumberArray ç±»å‹ä¸º number</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">StringArray</span> = <span class="hljs-title class_">GetArrayItem</span>&lt;<span class="hljs-built_in">string</span>[]&gt;; <span class="hljs-comment">// StringArray ç±»å‹ä¸º string</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">MixedArray</span> = <span class="hljs-title class_">GetArrayItem</span>&lt;[<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>]&gt;; <span class="hljs-comment">// MixedArray ç±»å‹ä¸º string | number</span>
</code></pre>
<h4 data-id="heading-10">3. æå– Promise çš„æ³›å‹å‚æ•°ç±»å‹</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å®šä¹‰ç±»å‹å·¥å…·ï¼šæå– Promise çš„æ³›å‹ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">GetPromiseValue</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Promise</span>&lt;infer <span class="hljs-title class_">Value</span>&gt; ? <span class="hljs-title class_">Value</span> : <span class="hljs-built_in">never</span>;

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">PromiseString</span> = <span class="hljs-title class_">GetPromiseValue</span>&lt;<span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt;; <span class="hljs-comment">// PromiseString ç±»å‹ä¸º string</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">PromiseUser</span> = <span class="hljs-title class_">GetPromiseValue</span>&lt;<span class="hljs-title class_">Promise</span>&lt;{ <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span> }&gt;&gt;; <span class="hljs-comment">// PromiseUser ç±»å‹ä¸º { id: number }</span>
</code></pre>
<h4 data-id="heading-11">4. æå–å‡½æ•°çš„å‚æ•°ç±»å‹</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å®šä¹‰ç±»å‹å·¥å…·ï¼šæå–å‡½æ•°å‚æ•°ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">GetFunctionParams</span>&lt;<span class="hljs-title class_">Fn</span>&gt; = <span class="hljs-title class_">Fn</span> <span class="hljs-keyword">extends</span> (...<span class="hljs-attr">args</span>: infer <span class="hljs-title class_">Params</span>) =&gt; <span class="hljs-built_in">any</span> ? <span class="hljs-title class_">Params</span> : <span class="hljs-built_in">never</span>;

<span class="hljs-comment">// æµ‹è¯•</span>
<span class="hljs-keyword">const</span> fn = (<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {};
<span class="hljs-keyword">type</span> <span class="hljs-title class_">FnParams</span> = <span class="hljs-title class_">GetFunctionParams</span>&lt;<span class="hljs-keyword">typeof</span> fn&gt;; <span class="hljs-comment">// FnParams ç±»å‹ä¸º [string, number]</span>

<span class="hljs-comment">// è¿›ä¸€æ­¥ï¼šæå–ç¬¬ä¸€ä¸ªå‚æ•°çš„ç±»å‹</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">FirstParam</span> = <span class="hljs-title class_">GetFunctionParams</span>&lt;<span class="hljs-keyword">typeof</span> fn&gt;[<span class="hljs-number">0</span>]; <span class="hljs-comment">// FirstParam ç±»å‹ä¸º string</span>
</code></pre>
<h2 data-id="heading-12">æµ‹è¯•ç”¨ä¾‹</h2>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/* _____________ æµ‹è¯•ç”¨ä¾‹ _____________ */</span>
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">Equal</span>, <span class="hljs-title class_">Expect</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@type-challenges/utils'</span>

<span class="hljs-keyword">type</span> cases = [
  <span class="hljs-title class_">Expect</span>&lt;<span class="hljs-title class_">Equal</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">MyReturnType</span>&lt;<span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">string</span>&gt;&gt;&gt;,
  <span class="hljs-title class_">Expect</span>&lt;<span class="hljs-title class_">Equal</span>&lt;<span class="hljs-number">123</span>, <span class="hljs-title class_">MyReturnType</span>&lt;<span class="hljs-function">() =&gt;</span> <span class="hljs-number">123</span>&gt;&gt;&gt;,
  <span class="hljs-title class_">Expect</span>&lt;<span class="hljs-title class_">Equal</span>&lt;<span class="hljs-title class_">ComplexObject</span>, <span class="hljs-title class_">MyReturnType</span>&lt;<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">ComplexObject</span>&gt;&gt;&gt;,
  <span class="hljs-title class_">Expect</span>&lt;<span class="hljs-title class_">Equal</span>&lt;<span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt;, <span class="hljs-title class_">MyReturnType</span>&lt;<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt;&gt;&gt;&gt;,
  <span class="hljs-title class_">Expect</span>&lt;<span class="hljs-title class_">Equal</span>&lt;<span class="hljs-function">() =&gt;</span> <span class="hljs-string">'foo'</span>, <span class="hljs-title class_">MyReturnType</span>&lt;<span class="hljs-function">() =&gt;</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-string">'foo'</span>&gt;&gt;&gt;,
  <span class="hljs-title class_">Expect</span>&lt;<span class="hljs-title class_">Equal</span>&lt;<span class="hljs-number">1</span> | <span class="hljs-number">2</span>, <span class="hljs-title class_">MyReturnType</span>&lt;<span class="hljs-keyword">typeof</span> fn&gt;&gt;&gt;,
  <span class="hljs-title class_">Expect</span>&lt;<span class="hljs-title class_">Equal</span>&lt;<span class="hljs-number">1</span> | <span class="hljs-number">2</span>, <span class="hljs-title class_">MyReturnType</span>&lt;<span class="hljs-keyword">typeof</span> fn1&gt;&gt;&gt;,
]

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ComplexObject</span> = {
  <span class="hljs-attr">a</span>: [<span class="hljs-number">12</span>, <span class="hljs-string">'foo'</span>]
  <span class="hljs-attr">bar</span>: <span class="hljs-string">'hello'</span>
  <span class="hljs-title function_">prev</span>(): <span class="hljs-built_in">number</span>
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">fn</span> = (<span class="hljs-params">v: <span class="hljs-built_in">boolean</span></span>) =&gt; v ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">fn1</span> = (<span class="hljs-params">v: <span class="hljs-built_in">boolean</span>, w: <span class="hljs-built_in">any</span></span>) =&gt; v ? <span class="hljs-number">1</span> : <span class="hljs-number">2</span>
</code></pre>
<h2 data-id="heading-13">ç›¸å…³é“¾æ¥</h2>
<blockquote>
<p>åˆ†äº«ä½ çš„è§£ç­”ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftsch.js.org%2F2%2Fanswer%2Fzh-CN" target="_blank" title="https://tsch.js.org/2/answer/zh-CN" ref="nofollow noopener noreferrer">tsch.js.org/2/answer/zhâ€¦</a>
æŸ¥çœ‹è§£ç­”ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftsch.js.org%2F2%2Fsolutions" target="_blank" title="https://tsch.js.org/2/solutions" ref="nofollow noopener noreferrer">tsch.js.org/2/solutions</a>
æ›´å¤šé¢˜ç›®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftsch.js.org%2Fzh-CN" target="_blank" title="https://tsch.js.org/zh-CN" ref="nofollow noopener noreferrer">tsch.js.org/zh-CN</a></p>
</blockquote>
<p>ä¸‹é¢æ˜¯æˆ‘çš„å…¬ä¼—å·ï¼Œæ¬¢è¿å…³æ³¨ã€‚å…³æ³¨åæœ‰æ–°çš„åŠŸèƒ½ç‚¹ä¼šåŠæ—¶æ”¶åˆ°æ¨é€ã€‚</p>
<blockquote>
<p>å®æˆ˜ä¸ºç‹ï¼ä¸“æ³¨äºæ±‡æ€»å„ç§åŠŸèƒ½ç‚¹ï¼Œè‡´åŠ›äºæ‰“é€ ä¸€ç³»åˆ—èƒ½å¤Ÿå¸®åŠ©å·¥ç¨‹å¸ˆå®ç°å„ç§åŠŸèƒ½çš„æƒ³æ³•æ€è·¯çš„ä¼˜è´¨æ–‡ç« ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bdeec99a0154e7aa73c1c6765f3dcf0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZnhzcw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770130734&amp;x-signature=QVVsua%2F5M5h8r5eoE%2FFDmZgJ0Pk%3D" alt="å‰ç«¯åŠŸèƒ½ç‚¹" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[http headerè¯¦è§£]]></title>    <link>https://juejin.cn/post/7599899147417960500</link>    <guid>https://juejin.cn/post/7599899147417960500</guid>    <pubDate>2026-01-27T15:01:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599899147417960500" data-draft-id="7599910677578629120" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="http headerè¯¦è§£"/> <meta itemprop="keywords" content="HTTP"/> <meta itemprop="datePublished" content="2026-01-27T15:01:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            http headerè¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T15:01:58.000Z" title="Tue Jan 27 2026 15:01:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>HTTP Headerï¼ˆè¯·æ±‚å¤´/å“åº”å¤´ï¼‰æ˜¯ HTTP é€šä¿¡ä¸­æœ€å®¹æ˜“è¢«å¿½è§†ä½†æœ€é‡è¦çš„éƒ¨åˆ†ã€‚å¦‚æœè¯´ HTTP Body æ˜¯ä¿¡ä»¶çš„å†…å®¹ï¼Œé‚£ä¹ˆ Header å°±æ˜¯ä¿¡å°ä¸Šçš„åœ°å€ã€é‚®ç¥¨ã€ç´§æ€¥ç¨‹åº¦å’Œä¿å¯†ç­‰çº§â€”â€”å®ƒå†³å®šäº†è¿™å°ä¿¡èƒ½ä¸èƒ½é€è¾¾ã€æ€ä¹ˆé€è¾¾ã€ä»¥åŠæ”¶ä¿¡äººè¯¥å¦‚ä½•å¤„ç†ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å¯¹ HTTP Header çš„å®Œæ•´æŠ€æœ¯è§£æï¼š</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€Header çš„æœ¬è´¨ï¼šå…ƒæ•°æ®è½½ä½“</h2>
<p>HTTP åè®®é‡‡ç”¨<strong>åˆ†å±‚è®¾è®¡</strong>ï¼š</p>
<ul>
<li><strong>è¯·æ±‚è¡Œ/çŠ¶æ€è¡Œ</strong>ï¼šæˆ‘è¦åšä»€ä¹ˆ / æˆ‘åšçš„ç»“æœï¼ˆWhatï¼‰</li>
<li><strong>Header</strong>ï¼šæˆ‘è¯¥å¦‚ä½•åš / é™„åŠ ä¿¡æ¯ï¼ˆHow &amp; Contextï¼‰</li>
<li><strong>Body</strong>ï¼šå®é™…ä¼ è¾“çš„æ•°æ®ï¼ˆDataï¼‰</li>
</ul>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">GET</span> /api/user HTTP/<span class="hljs-number">1.1</span>          â† è¯·æ±‚è¡Œ
<span class="hljs-symbol">Host:</span> api.example.com           â† Header å¼€å§‹
<span class="hljs-symbol">Accept:</span> application/json        â† Header
<span class="hljs-symbol">Authorization:</span> Bearer xxx       â† Header
                                â† ç©ºè¡Œï¼ˆåˆ†éš”ï¼‰
{<span class="hljs-string">"id"</span>: <span class="hljs-number">1</span>}                       â† Bodyï¼ˆå¯é€‰ï¼‰
</code></pre>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆå¿…é¡»åœ¨ Header ä¸­ä¼ é€’å…ƒæ•°æ®ï¼Ÿ</h3>
<ol>
<li>
<p><strong>å‰ç½®åå•†</strong>ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éœ€è¦åœ¨ä¼ è¾“ Body å‰å°±è¾¾æˆ"å…±è¯†"</p>
<ul>
<li>å®¢æˆ·ç«¯è¯´ï¼š"æˆ‘èƒ½æ¥å— JSON å’Œ Gzip å‹ç¼©"ï¼ˆ<code>Accept</code>, <code>Accept-Encoding</code>ï¼‰</li>
<li>æœåŠ¡å™¨è¯´ï¼š"æˆ‘è¿”å›çš„æ˜¯ JSONï¼Œç”¨ UTF-8 ç¼–ç "ï¼ˆ<code>Content-Type</code>, <code>Content-Encoding</code>ï¼‰</li>
</ul>
</li>
<li>
<p><strong>åè®®å±‚ä¸ä¸šåŠ¡å±‚è§£è€¦</strong>ï¼šHeader å¤„ç†è¿æ¥æ§åˆ¶ã€ç¼“å­˜ã€å®‰å…¨ç­‰<strong>æ¨ªå‘èƒ½åŠ›</strong>ï¼ŒBody å¤„ç†ä¸šåŠ¡æ•°æ®ã€‚è¿™ä½¿å¾— Nginxã€CDN ç­‰ä¸­é—´ä»¶å¯ä»¥<strong>ä¸è§£æ Body</strong> å°±èƒ½è¿›è¡Œé€»è¾‘å¤„ç†ã€‚</p>
</li>
<li>
<p><strong>ç«¯åˆ°ç«¯è¿½æº¯</strong>ï¼š<code>Trace-Id</code>ã€<code>X-Request-ID</code> ç­‰å¤´éƒ¨ä½¿å¾—å¾®æœåŠ¡æ¶æ„ä¸­çš„è¯·æ±‚é“¾è·¯è¿½è¸ªæˆä¸ºå¯èƒ½ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-2">äºŒã€Header çš„æ ¼å¼è§„èŒƒ</h2>
<h3 data-id="heading-3">æ ‡å‡†æ ¼å¼ï¼ˆRFC 7230ï¼‰</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">Header</span>-Name: value
</code></pre>
<p><strong>è§„åˆ™ï¼š</strong></p>
<ul>
<li><strong>å¤§å°å†™ä¸æ•æ„Ÿ</strong>ï¼š<code>content-type</code> ç­‰åŒäº <code>Content-Type</code>ï¼ˆä½†çº¦å®šä½¿ç”¨é¦–å­—æ¯å¤§å†™ï¼‰</li>
<li><strong>å†’å·åå¿…é¡»æœ‰ç©ºæ ¼</strong>ï¼š<code>Name:Value</code> æ˜¯åˆæ³•çš„ï¼Œä½†æ ‡å‡†å†™æ³•æ˜¯ <code>Name: Value</code></li>
<li><strong>å¤šå€¼åˆå¹¶</strong>ï¼šåŒä¸€ä¸ª Header å¤šæ¬¡å‡ºç°å¯ä»¥åˆå¹¶ï¼Œç”¨é€—å·åˆ†éš”
<pre><code class="hljs language-http" lang="http">Accept: text/html, application/xhtml+xml
# ç­‰åŒäº
Accept: text/html
Accept: application/xhtml+xml
</code></pre>
</li>
</ul>
<h3 data-id="heading-4">å¸¸è§å€¼ç±»å‹</h3>



































<table><thead><tr><th>ç±»å‹</th><th>ç¤ºä¾‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>å­—ç¬¦ä¸²</strong></td><td><code>User-Agent: Mozilla/5.0</code></td><td>çº¯æ–‡æœ¬ï¼Œé€šå¸¸å«ç‰ˆæœ¬å·</td></tr><tr><td><strong>æ—¥æœŸ</strong></td><td><code>Date: Mon, 27 Jan 2026 08:00:00 GMT</code></td><td>å¿…é¡»ä¸º GMTï¼Œéµå¾ª RFC 7231</td></tr><tr><td><strong>æ•´å‹</strong></td><td><code>Content-Length: 1024</code></td><td>å­—èŠ‚é•¿åº¦</td></tr><tr><td><strong>æšä¸¾</strong></td><td><code>Connection: keep-alive</code></td><td>å›ºå®šé€‰é¡¹</td></tr><tr><td><strong>è´¨é‡å› å­</strong></td><td><code>Accept-Language: zh-CN;q=0.8, en;q=0.2</code></td><td>q è¡¨ç¤ºæƒé‡ï¼ˆ0-1ï¼‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€Header åˆ†ç±»è¯¦è§£</h2>
<h3 data-id="heading-6">1. é€šç”¨é¦–éƒ¨ï¼ˆGeneral Headersï¼‰</h3>
<p>åŒæ—¶é€‚ç”¨äºè¯·æ±‚å’Œå“åº”ï¼Œæè¿°<strong>æ¶ˆæ¯æœ¬èº«</strong>çš„å±æ€§ï¼š</p>






























<table><thead><tr><th>Header</th><th>ä½œç”¨</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>Date</code></td><td>æ¶ˆæ¯åˆ›å»ºæ—¶é—´</td><td><code>Date: Mon, 27 Jan 2026 08:00:00 GMT</code></td></tr><tr><td><code>Connection</code></td><td>è¿æ¥ç®¡ç†</td><td><code>Connection: keep-alive</code> / <code>close</code></td></tr><tr><td><code>Cache-Control</code></td><td>ç¼“å­˜æŒ‡ä»¤</td><td><code>Cache-Control: no-cache, max-age=3600</code></td></tr><tr><td><code>Via</code></td><td>ç»è¿‡çš„ä»£ç†</td><td><code>Via: 1.1 varnish, 1.1 nginx</code></td></tr></tbody></table>
<p><strong>ç¤ºä¾‹ï¼šä¿æŒè¿æ¥å¤ç”¨</strong></p>
<pre><code class="hljs language-http" lang="http">Connection: keep-alive
Keep-Alive: timeout=5, max=1000
</code></pre>
<h3 data-id="heading-7">2. è¯·æ±‚é¦–éƒ¨ï¼ˆRequest Headersï¼‰</h3>
<p>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ä¼ é€’çš„<strong>èƒ½åŠ›å£°æ˜å’Œä¸Šä¸‹æ–‡</strong>ï¼š</p>
<h4 data-id="heading-8">å†…å®¹åå•†ç±»</h4>
<pre><code class="hljs language-http" lang="http">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8
Accept-Language: zh-CN,zh;q=0.9,en;q=0.8
Accept-Encoding: gzip, deflate, br  # brotli å‹ç¼©
Accept-Charset: utf-8
</code></pre>
<h4 data-id="heading-9">å®¢æˆ·ç«¯ä¿¡æ¯ç±»</h4>
<pre><code class="hljs language-http" lang="http">User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36
Referer: https://www.google.com/  # æ¥æºé¡µé¢ï¼ˆæ‹¼å†™é”™è¯¯ä½†å†å²é—ç•™ï¼‰
Origin: https://example.com        # è·¨åŸŸå®‰å…¨ç›¸å…³ï¼Œä¸å«è·¯å¾„
Host: api.example.com:8080         # ç›®æ ‡ä¸»æœºï¼ˆHTTP/1.1 å¼ºåˆ¶è¦æ±‚ï¼‰
</code></pre>
<h4 data-id="heading-10">æ¡ä»¶è¯·æ±‚ç±»ï¼ˆç¼“å­˜éªŒè¯ï¼‰</h4>
<pre><code class="hljs language-http" lang="http">If-None-Match: "33a64df5"          # é…åˆ ETag
If-Modified-Since: Wed, 21 Oct 2025 07:28:00 GMT
</code></pre>
<h3 data-id="heading-11">3. å“åº”é¦–éƒ¨ï¼ˆResponse Headersï¼‰</h3>
<p>æœåŠ¡å™¨è¿”å›çš„<strong>æ§åˆ¶æŒ‡ä»¤å’Œèµ„æºä¿¡æ¯</strong>ï¼š</p>
<h4 data-id="heading-12">çŠ¶æ€ä¸æ§åˆ¶</h4>
<pre><code class="hljs language-http" lang="http">Server: nginx/1.24.0                 # æœåŠ¡å™¨è½¯ä»¶ï¼ˆå¯è¢«éšè—ï¼‰
X-Powered-By: Express                # åç«¯æ¡†æ¶ï¼ˆå»ºè®®éšè—ï¼Œé˜²æ‰«æï¼‰
X-Frame-Options: DENY                # ç‚¹å‡»åŠ«æŒé˜²æŠ¤
X-Content-Type-Options: nosniff      # ç¦æ­¢ MIME å—…æ¢
</code></pre>
<h4 data-id="heading-13">é‡å®šå‘</h4>
<pre><code class="hljs language-http" lang="http">Location: https://new-site.com/login  # é…åˆ 301/302 çŠ¶æ€ç 
Retry-After: 120                      # æœåŠ¡ä¸å¯ç”¨åå¤šä¹…é‡è¯•ï¼ˆç§’ï¼‰
</code></pre>
<h3 data-id="heading-14">4. å®ä½“é¦–éƒ¨ï¼ˆEntity Headersï¼‰</h3>
<p>æè¿° Body çš„<strong>ç‰©ç†å±æ€§</strong>ï¼š</p>








































<table><thead><tr><th>Header</th><th>å…³é”®æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>Content-Type</code></td><td>â­â­â­</td><td>MIME ç±»å‹ + ç¼–ç ï¼Œå¦‚ <code>application/json; charset=utf-8</code></td></tr><tr><td><code>Content-Length</code></td><td>â­â­</td><td>Body å­—èŠ‚é•¿åº¦ï¼ˆåˆ†å—ä¼ è¾“æ—¶å¯çœç•¥ï¼‰</td></tr><tr><td><code>Content-Encoding</code></td><td>â­â­</td><td>å‹ç¼©æ ¼å¼ï¼š<code>gzip</code>, <code>deflate</code>, <code>br</code></td></tr><tr><td><code>Content-Disposition</code></td><td>â­</td><td>æ–‡ä»¶ä¸‹è½½æ§åˆ¶ï¼š<code>attachment; filename="report.pdf"</code></td></tr><tr><td><code>ETag</code></td><td>â­â­</td><td>èµ„æºå”¯ä¸€æ ‡è¯†ï¼Œç”¨äºç¼“å­˜éªŒè¯</td></tr><tr><td><code>Last-Modified</code></td><td>â­</td><td>èµ„æºæœ€åä¿®æ”¹æ—¶é—´</td></tr></tbody></table>
<p><strong>å…³é”®ç¤ºä¾‹ï¼šæ–‡ä»¶ä¸‹è½½</strong></p>
<pre><code class="hljs language-http" lang="http">Content-Type: application/octet-stream
Content-Disposition: attachment; filename="data.csv"
Content-Length: 10240
</code></pre>
<h3 data-id="heading-15">5. å®‰å…¨ç›¸å…³é¦–éƒ¨ï¼ˆCORS &amp; å®‰å…¨ç­–ç•¥ï¼‰</h3>
<p>ç°ä»£ Web å®‰å…¨çš„æ ¸å¿ƒé…ç½®ï¼š</p>
<pre><code class="hljs language-http" lang="http"># CORS è·¨åŸŸå¤´éƒ¨
Access-Control-Allow-Origin: https://example.com
Access-Control-Allow-Methods: GET, POST, OPTIONS
Access-Control-Allow-Headers: Content-Type, Authorization
Access-Control-Allow-Credentials: true
Access-Control-Max-Age: 86400

# å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰
Content-Security-Policy: default-src 'self'; script-src 'nonce-abc123'

# ä¼ è¾“å®‰å…¨ï¼ˆHSTSï¼‰
Strict-Transport-Security: max-age=31536000; includeSubDomains; preload
</code></pre>
<h3 data-id="heading-16">6. è‡ªå®šä¹‰é¦–éƒ¨ï¼ˆX-Custom-*ï¼‰</h3>
<p>ä¸šåŠ¡è‡ªå®šä¹‰å­—æ®µï¼Œé€šå¸¸ä»¥ <code>X-</code> å¼€å¤´ï¼ˆè™½ç„¶ RFC 6648 å·²åºŸå¼ƒ <code>X-</code> å‰ç¼€ä¹ æƒ¯ï¼Œä½†ä»å¹¿æ³›ä½¿ç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-http" lang="http">X-Request-ID: 550e8400-e29b-41d4-a716-446655440000  # é“¾è·¯è¿½è¸ª ID
X-User-ID: 9527                                    # ç”¨æˆ·èº«ä»½é€ä¼ 
X-Version: v2                                      # API ç‰ˆæœ¬
X-Real-IP: 203.0.113.195                           # ç»è¿‡ä»£ç†åçš„çœŸå® IP
X-Forwarded-For: 192.168.1.1, 172.16.0.1           # ä»£ç†é“¾è·¯
X-Forwarded-Proto: https                          # åŸå§‹åè®®
</code></pre>
<hr/>
<h2 data-id="heading-17">å››ã€å®é™…åœºæ™¯ä¸­çš„ Header äº¤äº’</h2>
<h3 data-id="heading-18">åœºæ™¯ 1ï¼šæµè§ˆå™¨è¯·æ±‚ç½‘é¡µï¼ˆå®Œæ•´ Headersï¼‰</h3>
<p><strong>Request:</strong></p>
<pre><code class="hljs language-http" lang="http">GET /blog/http-headers HTTP/2
Host: www.example.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8
Accept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
Accept-Encoding: gzip, deflate, br
Referer: https://www.google.com/
Connection: keep-alive
Upgrade-Insecure-Requests: 1
Sec-Fetch-Dest: document
Sec-Fetch-Mode: navigate
Sec-Fetch-Site: cross-site
Cache-Control: max-age=0
</code></pre>
<p><strong>Response:</strong></p>
<pre><code class="hljs language-http" lang="http">HTTP/2 200 OK
Server: nginx
Date: Mon, 27 Jan 2026 08:30:00 GMT
Content-Type: text/html; charset=utf-8
Content-Length: 5248
Content-Encoding: br  # Brotli å‹ç¼©
Cache-Control: public, max-age=3600
ETag: "686897696a7c876b7e"
Last-Modified: Mon, 27 Jan 2026 08:00:00 GMT
Vary: Accept-Encoding
Strict-Transport-Security: max-age=63072000
X-Frame-Options: SAMEORIGIN
</code></pre>
<h3 data-id="heading-19">åœºæ™¯ 2ï¼šAPI é‰´æƒè¯·æ±‚ï¼ˆPythonï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests

headers = {
    <span class="hljs-comment"># èº«ä»½è®¤è¯</span>
    <span class="hljs-string">"Authorization"</span>: <span class="hljs-string">"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</span>,
    
    <span class="hljs-comment"># æ•°æ®æ ¼å¼åå•†</span>
    <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>,
    <span class="hljs-string">"Accept"</span>: <span class="hljs-string">"application/json"</span>,
    
    <span class="hljs-comment"># å‹ç¼©æ”¯æŒ</span>
    <span class="hljs-string">"Accept-Encoding"</span>: <span class="hljs-string">"gzip, deflate"</span>,
    
    <span class="hljs-comment"># ä¸šåŠ¡è‡ªå®šä¹‰ï¼ˆé“¾è·¯è¿½è¸ªï¼‰</span>
    <span class="hljs-string">"X-Request-ID"</span>: <span class="hljs-string">"req_123456789"</span>,
    <span class="hljs-string">"X-Idempotency-Key"</span>: <span class="hljs-string">"uuid-for-retry-safety"</span>
}

response = requests.post(
    <span class="hljs-string">"https://api.example.com/orders"</span>,
    headers=headers,
    json={<span class="hljs-string">"product"</span>: <span class="hljs-string">"book"</span>, <span class="hljs-string">"qty"</span>: <span class="hljs-number">2</span>}
)
</code></pre>
<h3 data-id="heading-20">åœºæ™¯ 3ï¼šcURL è°ƒè¯•ï¼ˆæŸ¥çœ‹è¯·æ±‚å¤´ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å‘é€çš„è¯·æ±‚å¤´ï¼ˆ-v æˆ– --trace-asciiï¼‰</span>
curl -v https://api.example.com/data \
  -H <span class="hljs-string">"Authorization: Bearer token123"</span> \
  -H <span class="hljs-string">"Accept: application/json"</span>

<span class="hljs-comment"># è¾“å‡ºä¸­çš„ &gt; è¡¨ç¤ºå‘é€çš„è¯·æ±‚å¤´</span>
&gt; GET /data HTTP/1.1
&gt; Host: api.example.com
&gt; User-Agent: curl/7.68.0
&gt; Accept: application/json
&gt; Authorization: Bearer token123
</code></pre>
<hr/>
<h2 data-id="heading-21">äº”ã€å¸¸è§é™·é˜±ä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-22">âŒ é”™è¯¯åšæ³•</h3>
<ol>
<li><strong>åœ¨ Header ä¸­æ”¾æ•æ„Ÿä¸šåŠ¡æ•°æ®</strong>ï¼šHeader é€šå¸¸ä¼šè¢«æœåŠ¡å™¨æ—¥å¿—è®°å½•ï¼Œä¸å®œæ”¾ç½®å¯†ç ã€Token ä¹‹å¤–çš„æ•æ„Ÿä¿¡æ¯ï¼ˆå°½ç®¡æœ‰ Authorizationï¼‰ã€‚</li>
<li><strong>å¤§å°å†™æ··ç”¨æ··ä¹±</strong>ï¼šè™½ç„¶ä¸æ•æ„Ÿï¼Œä½†å»ºè®®ç»Ÿä¸€ä½¿ç”¨ <code>X-Custom-Header</code> æˆ– <code>x-custom-header</code> é£æ ¼ã€‚</li>
<li><strong>Content-Type ç¼ºå¤±</strong>ï¼šPOST è¯·æ±‚å¿…é¡»æŒ‡å®š <code>Content-Type</code>ï¼Œå¦åˆ™æœåŠ¡å™¨å¯èƒ½æ— æ³•è§£æ Bodyï¼ˆDjango ä¼šè¿”å› 415 Unsupported Media Typeï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-23">âœ… æœ€ä½³å®è·µ</h3>
<ol>
<li><strong>å¼ºåˆ¶ HTTPS</strong>ï¼šæ‰€æœ‰å«é‰´æƒå¤´çš„è¯·æ±‚å¿…é¡»é€šè¿‡ TLSï¼ˆHTTPSï¼‰ï¼Œé˜²æ­¢ä¸­é—´äººæˆªè· <code>Authorization</code>ã€‚</li>
<li><strong>æ•æ„Ÿçš„ Server ä¿¡æ¯éšè—</strong>ï¼š
<pre><code class="hljs language-nginx" lang="nginx"># nginx.conf éšè—ç‰ˆæœ¬
server_tokens off;
more_clear_headers Server X-Powered-By;
</code></pre>
</li>
<li><strong>åˆç†è®¾ç½®ç¼“å­˜å¤´</strong>ï¼šé™æ€èµ„æºç”¨ <code>Cache-Control: max-age=31536000, immutable</code>ï¼ŒAPI ç”¨ <code>Cache-Control: no-store</code>ã€‚</li>
<li><strong>è¯·æ±‚ ID é€ä¼ </strong>ï¼šå¾®æœåŠ¡æ¶æ„ä¸­ï¼Œç½‘å…³ç”Ÿæˆ <code>X-Request-ID</code>ï¼Œåç»­æ‰€æœ‰æœåŠ¡å¿…é¡»åŸæ ·ä¼ é€’ï¼Œä¾¿äºæ—¥å¿—ä¸²è”ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-24">å…­ã€HTTP/2 ä¸ HTTP/3 ä¸­çš„ Header å˜åŒ–</h2>
<p>åœ¨ HTTP/2 ä¸­ï¼ŒHeader è¢«<strong>äºŒè¿›åˆ¶ç¼–ç </strong>ï¼ˆHPACK ç®—æ³•ï¼‰ï¼Œä¸å†æ˜¯æ˜æ–‡æ–‡æœ¬ï¼Œä½†è¯­ä¹‰å±‚é¢ä¿æŒä¸€è‡´ã€‚HTTP/3 ä½¿ç”¨ QPACK ç®—æ³•è¿›ä¸€æ­¥ä¼˜åŒ–å¤´éƒ¨å‹ç¼©ã€‚</p>
<p><strong>å…³é”®å˜åŒ–ï¼š</strong></p>
<ul>
<li><strong>ä¼ªå¤´éƒ¨</strong>ï¼š<code>:method</code>, <code>:scheme</code>, <code>:authority</code>, <code>:path</code>ï¼ˆå†’å·å¼€å¤´ï¼ŒHTTP/2 ç‰¹æœ‰ï¼‰</li>
<li><strong>Header å‹ç¼©</strong>ï¼šé‡å¤çš„ Header å­—æ®µï¼ˆå¦‚ <code>User-Agent</code>ï¼‰åœ¨åç»­è¯·æ±‚ä¸­åªéœ€ä¼ è¾“ç´¢å¼•å·ï¼Œå¤§å¹…å‡å°‘æµé‡</li>
</ul>
<hr/>
<h2 data-id="heading-25">æ€»ç»“</h2>
<p>HTTP Header æ˜¯ Web é€šä¿¡çš„<strong>æ§åˆ¶å¹³é¢</strong>ï¼Œå®ƒè§£å†³äº†ä»¥ä¸‹æ ¸å¿ƒé—®é¢˜ï¼š</p>
<ol>
<li><strong>èƒ½åŠ›åå•†</strong>ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨é€šè¿‡ <code>Accept-*</code> å’Œ <code>Content-*</code> è¾¾æˆä¸€è‡´</li>
<li><strong>ä¸Šä¸‹æ–‡ä¼ é€’</strong>ï¼š<code>Cookie</code>, <code>Authorization</code> ç»´æŒçŠ¶æ€ï¼Œ<code>X-Request-ID</code> ç»´æŒé“¾è·¯</li>
<li><strong>å®‰å…¨ç­–ç•¥</strong>ï¼šCORSã€CSPã€HSTS ç­‰å¤´éƒ¨æ„å»ºç°ä»£ Web å®‰å…¨åŸºç¡€</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼š<code>Cache-Control</code>, <code>ETag</code>, <code>Content-Encoding</code> å®ç°ç¼“å­˜å’Œå‹ç¼©</li>
</ol>
<p>æŒæ¡ Header çš„ç¼–å†™ä¸è°ƒè¯•ï¼Œæ˜¯åç«¯å¼€å‘ã€DevOps å’Œå…¨æ ˆå·¥ç¨‹å¸ˆçš„<strong>åŸºæœ¬åŠŸ</strong>ã€‚å»ºè®®å®‰è£…æµè§ˆå™¨æ’ä»¶ï¼ˆå¦‚ <strong>ModHeader</strong>ï¼‰æˆ–ä½¿ç”¨ Postman è¿›è¡Œå®é™…æ“ä½œï¼Œè§‚å¯Ÿä¸åŒ Header å¯¹æœåŠ¡å™¨è¡Œä¸ºçš„å½±å“ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Agent æ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ3ï¼‰--- å¯åŠ¨]]></title>    <link>https://juejin.cn/post/7599852042529865738</link>    <guid>https://juejin.cn/post/7599852042529865738</guid>    <pubDate>2026-01-27T13:05:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599852042529865738" data-draft-id="7598818096754114611" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Agent æ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ3ï¼‰--- å¯åŠ¨"/> <meta itemprop="keywords" content="ç®—æ³•,æœºå™¨å­¦ä¹ ,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-27T13:05:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç½—è¥¿çš„æ€è€ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/351470467691175"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Agent æ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ3ï¼‰--- å¯åŠ¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/351470467691175/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç½—è¥¿çš„æ€è€ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T13:05:53.000Z" title="Tue Jan 27 2026 13:05:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">AI Agent æ¡†æ¶æ¢ç§˜ï¼šæ‹†è§£ OpenHandsï¼ˆ3ï¼‰--- å¯åŠ¨</h2>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x00 æ¦‚è¦</a></p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x01 èƒŒæ™¯</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.1 æ€»ä½“æ¶æ„</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">1.2 åˆ‡å…¥ç‚¹</a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0x02 åˆå§‹åŒ– @ run_controller</a></p>
<ul>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.1 æ€»ä½“æµç¨‹</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.2 åˆ›å»ºæ³¨å†Œä¸­å¿ƒ</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.3 åˆ›å»ºAgent</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.4 æ„å»ºRuntime</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.5 æ„å»ºMemory &amp; Microagent</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.6 åˆ›å»ºMCP</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.7 åˆ›å»ºController</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.8 å‘é€å¯åŠ¨äº‹ä»¶</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.9 è®¢é˜…äº‹ä»¶æµï¼šæ³¨å†Œç”¨æˆ·è¾“å…¥å›è°ƒå‡½æ•°</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.10 è¿è¡Œä»£ç†</a></li>
<li><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">2.11 run_controllerå…¨éƒ¨ä»£ç </a></li>
</ul>
</li>
<li>
<p><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">0xFF å‚è€ƒ</a></p>
</li>
</ul>
<h3 data-id="heading-1">0x00 æ¦‚è¦</h3>
<p>å½“åˆ†æä¸€ä¸ªç³»ç»Ÿæ—¶ï¼Œå¯åŠ¨éƒ¨åˆ†å’Œç”¨æˆ·å…¸å‹ä½¿ç”¨åœºæ™¯æ˜¯æ¯”è¾ƒç†æƒ³çš„åˆ‡å…¥ç‚¹ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªéƒ¨åˆ†å¯ä»¥è¦†ç›–ç³»ç»Ÿå¤§éƒ¨åˆ†åŠŸèƒ½æ¨¡å—ï¼Œå¯ä»¥å€Ÿæ­¤æ·±å…¥æ¶æ„ã€‚</p>
<p>å› ä¸ºæœ¬ç³»åˆ—å€Ÿé‰´çš„æ–‡ç« è¿‡å¤šï¼Œå¯èƒ½åœ¨å‚è€ƒæ–‡çŒ®ä¸­æœ‰é—æ¼çš„æ–‡ç« ï¼Œå¦‚æœæœ‰ï¼Œè¿˜è¯·å¤§å®¶æŒ‡å‡ºã€‚</p>
<h3 data-id="heading-2">0x01 èƒŒæ™¯</h3>
<h4 data-id="heading-3">1.1 æ€»ä½“æ¶æ„</h4>
<p>ä»¥ä¸‹æ˜¯ OpenHands çš„æ¶æ„å›¾ï¼Œè¿™æ˜¯ä¸€ä¸ªå¤æ‚çš„ç³»ç»Ÿã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41a92ca5a086452c9a19e80556cc8988~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770123953&amp;x-signature=Mn2EcZQmtdAhXqdioUUqnLTbeV0%3D" alt="Openhands-arch" loading="lazy"/></p>
<p>Openhands-arch</p>
<p>æŠ›å¼€å¤æ‚çš„æŠ€æœ¯ç»†èŠ‚ï¼ŒOpenHands Agent çš„äº¤äº’é€»è¾‘å¯æç‚¼ä¸º â€œåˆå§‹åŒ– - äº‹ä»¶æ³¨å…¥ - ååŒå¤„ç† - ç­‰å¾…â€ çš„æç®€æµç¨‹ï¼Œæ ¸å¿ƒå›´ç»• EventStream å®ç°æ¨¡å—è”åŠ¨ï¼š</p>
<ul>
<li>
<p>åˆå§‹åŒ–å°±ç»ªï¼šç”¨æˆ·åˆ›å»ºä¼šè¯æ—¶ï¼Œç³»ç»Ÿè‡ªåŠ¨å®Œæˆ Agentã€AgentControllerã€Runtimeã€Memory æœ‰æ ¸å¿ƒæ¨¡å—çš„åˆå§‹åŒ–ï¼Œä¸”æ¯ä¸ªæ¨¡å—éƒ½ä¼šè‡ªåŠ¨è®¢é˜… EventStreamï¼Œç¡®ä¿èƒ½æ•è·ç›¸å…³äº‹ä»¶ï¼›</p>
</li>
<li>
<p>ä»»åŠ¡å‘èµ·ï¼šç”¨æˆ·å‘é€æ¶ˆæ¯æœ¬è´¨æ˜¯å‘ EventStream ä¸­æ³¨å…¥ä¸€æ¡äº‹ä»¶ï¼Œè¿™æ¡äº‹ä»¶ä¼šè§¦å‘æ‰€æœ‰è®¢é˜…ç›¸å…³å›è°ƒå‡½æ•°çš„æ¨¡å—ï¼Œå¯åŠ¨ååŒå¤„ç†ï¼›</p>
</li>
<li>
<p>å¤šæ¨¡å—ååŒå“åº”ï¼š</p>
<ul>
<li>Session æ¨¡å—æŒç»­ä¸ŠæŠ¥äº‹ä»¶æµä¸­çš„å„ç±»çŠ¶æ€äº‹ä»¶ï¼Œä¿éšœå…¨å±€å¯è§‚æµ‹ï¼›</li>
<li>è‹¥ç”¨æˆ·å¼€å¯ Security Analyzerï¼Œè¯¥æ¨¡å—ä¼šé€šè¿‡å®‰å…¨åˆ†æï¼Œè‡ªåŠ¨ç¡®è®¤ä½é£é™©ä»»åŠ¡ï¼Œå‡å°‘ç”¨æˆ·æ‰‹åŠ¨å¹²é¢„ï¼›</li>
<li>AgentController å‘äº‹ä»¶æµæ³¨å…¥ RecallActionï¼ŒMemory æ¨¡å—åˆ¤æ–­æ˜¯å¦ä¸ºé¦–æ¬¡æ¥æ”¶çš„ç”¨æˆ·ä¿¡æ¯ï¼Œæ®æ­¤è¡¥å……ç›¸å…³è®°å¿†å¹¶è¿”å› RecallObservation äº‹ä»¶ï¼›</li>
</ul>
</li>
<li>
<p>çŠ¶æ€åŒæ­¥ï¼šAgentController æ›´æ–°ä»»åŠ¡å½“å‰çŠ¶æ€ï¼Œå¹¶å°†ç›¸å…³ä¿¡æ¯ä¼ é€’ç»™ Agentã€‚å³AgentController è°ƒç”¨ <code>Agent.step</code> æ–¹æ³•å¤„ç†å½“å‰äº‹ä»¶ï¼Œç”Ÿæˆ Action å¹¶æ³¨å…¥äº‹ä»¶æµã€‚</p>
</li>
<li>
<p>è¡ŒåŠ¨å†³ç­–ï¼šAgent åŸºäºæ¥æ”¶çš„çŠ¶æ€ä¿¡æ¯ï¼Œå‘ LLM å‘èµ·è¯·æ±‚ï¼Œç”Ÿæˆä¸‹ä¸€æ­¥å…·ä½“è¡ŒåŠ¨æ–¹æ¡ˆï¼›</p>
</li>
<li>
<p>è¡ŒåŠ¨è¾“å‡ºï¼šAgent æ˜ç¡®è¾“å‡ºè¡ŒåŠ¨æŒ‡ä»¤ï¼Œå¯èƒ½æ˜¯è¿è¡Œç³»ç»Ÿå‘½ä»¤ã€è¯»å–æ–‡ä»¶ã€è°ƒç”¨å·¥å…·ç­‰å…·ä½“æ“ä½œï¼›</p>
</li>
<li>
<p>è¡ŒåŠ¨åˆ†å‘ï¼šè¯¥è¡ŒåŠ¨æŒ‡ä»¤é€šè¿‡ EventStream ä¼ é€’è‡³ Runtime ç»„ä»¶ï¼Œç­‰å¾…æ‰§è¡Œï¼›</p>
</li>
<li>
<p>æ‰§è¡Œä¸åé¦ˆï¼šRuntime æ‰§è¡Œè¡ŒåŠ¨æŒ‡ä»¤ï¼Œç”ŸæˆåŒ…å«æ‰§è¡Œç»“æœã€é”™è¯¯ä¿¡æ¯ç­‰å†…å®¹çš„è§‚å¯Ÿç»“æœï¼›</p>
</li>
<li>
<p>ç»“æœå›ä¼ ï¼šè§‚å¯Ÿç»“æœé€šè¿‡ EventStream å›ä¼ ç»™ AgentControllerï¼Œå®Œæˆä¸€æ¬¡æ‰§è¡Œé—­ç¯ï¼›</p>
</li>
<li>
<p>å¾ªç¯æˆ–ç»ˆæ­¢ï¼šAgentController æ ¹æ®è§‚å¯Ÿç»“æœåˆ¤æ–­ä»»åŠ¡æ˜¯å¦å®Œæˆï¼Œè‹¥æœªå®Œæˆåˆ™é‡å¤ä¸Šè¿°æµç¨‹ï¼›è‹¥éœ€ååŒï¼Œåˆ™å§”æ´¾ç»™å…¶ä»– Agentï¼Œç›´è‡³ä»»åŠ¡ç»“æŸã€‚</p>
</li>
</ul>
<h4 data-id="heading-4">1.2 åˆ‡å…¥ç‚¹</h4>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ã€‚æˆ‘ä»¬ç”±æ­¤è¿›å…¥ï¼Œçœ‹çœ‹OpenHandså¦‚ä½•å¯åŠ¨ï¼Œä¹Ÿå¯ä»¥ä»æ­¤å¤„çœ‹çœ‹OpenHandsçš„åŸºæœ¬é€»è¾‘ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">config</span>Â =Â load_openhands_config()
<span class="hljs-attr">action</span>Â =Â MessageAction(content=<span class="hljs-string">"WriteÂ aÂ helloÂ worldÂ program"</span>)
<span class="hljs-attr">state</span>Â =Â awaitÂ run_controller(config=config,Â initial_user_action=action)
</code></pre>
<p>ä¸Šè¿°ä»£ç æ˜¯ç›´æ¥å‘½ä»¤è¡Œè°ƒç”¨ run_controllerï¼Œå› æ­¤æˆ‘ä»¬ä»run_controllerå…¥æ‰‹ã€‚</p>
<h3 data-id="heading-5">0x02 åˆå§‹åŒ– @ run_controller</h3>
<p>run_controller ä½œä¸º OpenHands åç«¯å•ä¸ªä¼šè¯çš„æ ¸å¿ƒå…¥å£åç¨‹ï¼Œæ ¸å¿ƒèŒè´£æ˜¯ä¾æ®é¢„è®¾é…ç½®å¯åŠ¨è¿è¡Œæ—¶ç¯å¢ƒã€æ™ºèƒ½ä½“åŠå¯¹åº”æ§åˆ¶å™¨ï¼Œæ­å»ºèµ·ä»æ¥æ”¶ç”¨æˆ·æŒ‡ä»¤åˆ°å¤šæ­¥éª¤æ‰§è¡Œä»»åŠ¡ï¼Œå†åˆ°æœ€ç»ˆå°†ä¼šè¯çŠ¶æ€æŒä¹…åŒ–å­˜å‚¨çš„å®Œæ•´å¤„ç†é“¾è·¯ã€‚å…¶æ ¸å¿ƒè®¾è®¡äº®ç‚¹ä½“ç°åœ¨ä¸‰æ–¹é¢ï¼š</p>
<ul>
<li>å®ç°ä¼šè¯å…¨ç”Ÿå‘½å‘¨æœŸçš„ä¸€ä½“åŒ–ç®¡ç†ï¼Œé›†ä¸­å®Œæˆä¼šè¯æ ‡è¯†ï¼ˆSIDï¼‰ç”Ÿæˆã€è¿è¡Œæ—¶è¿æ¥å»ºç«‹ã€ä»£ç ä»“åº“å…‹éš†ã€MCP å·¥å…·åµŒå…¥åŠä»»åŠ¡æ‰§è¡Œè½¨è¿¹é‡æ”¾ç­‰å…³é”®æ“ä½œï¼›</li>
<li>æ„å»ºåŒé‡å®‰å…¨ç®¡æ§æœºåˆ¶ï¼Œé€šè¿‡è®¾ç½®æœ€å¤§è¿­ä»£æ¬¡æ•°ï¼ˆmax_iterationsï¼‰ä¸å•ä»»åŠ¡æœ€é«˜é¢„ç®—ï¼ˆmax_budget_per_taskï¼‰çš„ç¡¬æ€§é™åˆ¶ï¼Œæœ‰æ•ˆè§„é¿æ— é™å¾ªç¯æ‰§è¡Œä¸èµ„æºè´¹ç”¨è¶…é¢çš„é£é™©ï¼›</li>
<li>å¼ºåŒ–å…¨æµç¨‹å¯è§‚æµ‹æ€§ï¼Œå€ŸåŠ© EventStream å®ç°äº‹ä»¶å®æ—¶åˆ†å‘ï¼Œæ”¯æŒå‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰ã€å‰ç«¯ç•Œé¢ã€æ—¥å¿—ç³»ç»Ÿç­‰å¤šç«¯åŒæ­¥è®¢é˜…ï¼ŒåŒæ—¶ç”Ÿæˆå¯å›æ”¾ã€å¯å®¡è®¡çš„ JSON æ ¼å¼æ‰§è¡Œè½¨è¿¹ï¼Œä¾¿äºåç»­è¿½æº¯ä¸æ ¸æŸ¥ã€‚</li>
</ul>
<h4 data-id="heading-6">2.1 æ€»ä½“æµç¨‹</h4>
<p>openhands\core\main.py çš„ run_controller çš„æ€»ä½“æµç¨‹å¦‚ä¸‹ã€‚</p>
<ul>
<li>
<p>åˆå§‹åŒ–ç³»ç»Ÿç»„ä»¶</p>
<ul>
<li>åˆ›å»ºAgentã€‚</li>
<li>åˆ›å»ºruntimeå’Œå†…å­˜ç³»ç»Ÿ</li>
<li>åˆ›å»ºcontrollerã€‚</li>
</ul>
</li>
<li>
<p>è¿è¡ŒAgentï¼Œå…·ä½“ä¼š:</p>
<ul>
<li>
<p>ç®¡ç†ä»»åŠ¡æ‰§è¡Œæµç¨‹ã€‚</p>
<ul>
<li>æ¥æ”¶åˆå§‹ç”¨æˆ·æ“ä½œ</li>
<li>å¤„ç†äº‹ä»¶æµä¸­çš„å„ç§äº‹ä»¶ã€‚</li>
<li>ç›‘å¬agentçŠ¶æ€å˜åŒ–ï¼Œç‰¹åˆ«æ˜¯ç­‰å¾…ç”¨æˆ·è¾“å…¥çš„çŠ¶æ€ã€‚</li>
</ul>
</li>
<li>
<p>å¤„ç†ç”¨æˆ·äº¤äº’ã€‚</p>
<ul>
<li>å½“agentéœ€è¦ç”¨æˆ·è¾“å…¥æ—¶ï¼Œä¾æ®é…ç½®è¿›è¡Œè‡ªåŠ¨å“åº”æˆ–è€…ç­‰å¾…çœŸå®ç”¨æˆ·è¾“å…¥ã€‚</li>
<li>æ”¯æŒmockç”¨æˆ·å“åº”å‡½æ•°fake_user_response_fnï¼Œè¿™æ ·å¯ä»¥è‡ªåŠ¨åŒ–æµ‹è¯•ã€‚</li>
</ul>
</li>
<li>
<p>çŠ¶æ€ç®¡ç†å’ŒæŒä¹…åŒ–ã€‚</p>
<ul>
<li>ä¿å­˜ä¼šè¯çŠ¶æ€åˆ°æ–‡ä»¶ã€‚</li>
<li>è®°å½•æ‰§è¡Œè½¨è¿¹ï¼Œè¿™æ ·å¯ä»¥åˆ†æè°ƒè¯•ã€‚</li>
<li>æ”¯æŒè½¨è¿¹é‡æ”¾ã€‚</li>
</ul>
</li>
<li>
<p>èµ„æºç®¡ç†ã€‚</p>
<ul>
<li>ç®¡ç†MCPé›†æˆã€‚</li>
<li>æ§åˆ¶æ‰§è¡Œé¢„ç®—ï¼ˆè¿­ä»£æ¬¡æ•°å’Œè´¹ç”¨é™åˆ¶ï¼‰</li>
<li>æ­£ç¡®å…³é—­èµ„æºã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>å…·ä½“æµç¨‹å›¾å¦‚ä¸‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b24feb09e57845c2b48b4995821500bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770123953&amp;x-signature=pC%2FQDJCoiIz04ABoJbhLW3%2BziGQ%3D" alt="OpenHands-3-1" loading="lazy"/></p>
<p>OpenHands-3-1</p>
<p>æˆ‘ä»¬æ¥ä¸‹æ¥çœ‹çœ‹å…·ä½“æµç¨‹ç»†èŠ‚ã€‚</p>
<h4 data-id="heading-7">2.2 åˆ›å»ºæ³¨å†Œä¸­å¿ƒ</h4>
<p>ä¸‹é¢è¯­å¥ä¼šåˆ›å»º LLM æ³¨å†Œä¸­å¿ƒ &amp; å¯¹è¯ç»Ÿè®¡å®ä¾‹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">Â Â Â Â <span class="hljs-attr">sid</span>Â =Â sidÂ orÂ generate_sid(config)

Â Â Â Â llm_registry,Â conversation_stats,Â <span class="hljs-attr">config</span>Â =Â create_registry_and_conversation_stats(
Â Â Â Â Â Â Â Â config,
Â Â Â Â Â Â Â Â sid,
Â Â Â Â Â Â Â Â None,
Â Â Â Â )
</code></pre>
<p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼Œå…¶åŠŸèƒ½æ˜¯:</p>
<ol>
<li>æ ¹æ®ç”¨æˆ·è®¾ç½®è°ƒæ•´åŸºç¡€é…ç½®</li>
<li>åˆå§‹åŒ–LLMæ³¨å†Œè¡¨ï¼ˆç®¡ç†æ‰€æœ‰LLMå®ä¾‹ï¼‰</li>
<li>åˆå§‹åŒ–æ–‡ä»¶å­˜å‚¨å’Œå¯¹è¯ç»Ÿè®¡å™¨ï¼ˆè·Ÿè¸ªå¯¹è¯æ•°æ®ï¼‰</li>
<li>å»ºç«‹æ³¨å†Œè¡¨ä¸ç»Ÿè®¡å™¨çš„è®¢é˜…å…³ç³»</li>
</ol>

<pre><code class="hljs language-ini" lang="ini">defÂ create_registry_and_conversation_stats(
Â Â Â Â config:Â OpenHandsConfig,
Â Â Â Â sid:Â str,
Â Â Â Â user_id:Â Optional<span class="hljs-section">[str]</span>,
Â Â Â Â user_settings:Â Optional<span class="hljs-section">[Settings]</span>Â =Â None,
)Â -&gt;Â tuple<span class="hljs-section">[LLMRegistry,Â ConversationStats,Â OpenHandsConfig]</span>:
Â Â Â Â """
Â Â Â Â åˆ›å»ºLLMæ³¨å†Œè¡¨ã€å¯¹è¯ç»Ÿè®¡å®ä¾‹å’Œç”¨æˆ·é…ç½®çš„ç»„åˆå‡½æ•°ã€‚
Â Â Â Â 
Â Â Â Â å‚æ•°ï¼š
Â Â Â Â Â Â Â Â config:Â åŸºç¡€é…ç½®å¯¹è±¡
Â Â Â Â Â Â Â Â sid:Â ä¼šè¯IDï¼ˆç”¨äºæ ‡è¯†å½“å‰å¯¹è¯ï¼‰
Â Â Â Â Â Â Â Â user_id:Â ç”¨æˆ·IDï¼ˆå¯é€‰ï¼Œç”¨äºç”¨æˆ·çº§æ•°æ®è·Ÿè¸ªï¼‰
Â Â Â Â Â Â Â Â user_settings:Â ç”¨æˆ·è‡ªå®šä¹‰è®¾ç½®ï¼ˆå¯é€‰ï¼Œç”¨äºè¦†ç›–é»˜è®¤é…ç½®ï¼‰
Â Â Â Â 
Â Â Â Â è¿”å›ï¼š
Â Â Â Â Â Â Â Â ä¸‰å…ƒç»„Â (LLMæ³¨å†Œè¡¨,Â å¯¹è¯ç»Ÿè®¡å®ä¾‹,Â æœ€ç»ˆç”¨æˆ·é…ç½®)
Â Â Â Â """
Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–ç”¨æˆ·é…ç½®ï¼ˆä¼˜å…ˆä½¿ç”¨ç”¨æˆ·è®¾ç½®è¦†ç›–é»˜è®¤é…ç½®ï¼‰</span>
Â Â Â Â <span class="hljs-attr">user_config</span>Â =Â config
Â Â Â Â ifÂ user_settings:
Â Â Â Â Â Â Â Â <span class="hljs-attr">user_config</span>Â =Â setup_llm_config(config,Â user_settings)

Â Â Â Â <span class="hljs-comment">#Â ç¡®å®šä»£ç†ç±»å‹ï¼ˆä»ç”¨æˆ·è®¾ç½®æˆ–é»˜è®¤é…ç½®ä¸­è·å–ï¼‰</span>
Â Â Â Â <span class="hljs-attr">agent_cls</span>Â =Â user_settings.agentÂ ifÂ user_settingsÂ elseÂ None
Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºLLMæ³¨å†Œè¡¨ï¼Œå…³è”é…ç½®å’Œä»£ç†ç±»å‹</span>
Â Â Â Â <span class="hljs-attr">llm_registry</span>Â =Â LLMRegistry(user_config,Â agent_cls)
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–æ–‡ä»¶å­˜å‚¨ï¼ˆç”¨äºæŒä¹…åŒ–å¯¹è¯æ•°æ®ï¼‰</span>
Â Â Â Â <span class="hljs-attr">file_store</span>Â =Â get_file_store(
Â Â Â Â Â Â Â Â <span class="hljs-attr">file_store_type</span>=config.file_store,
Â Â Â Â Â Â Â Â <span class="hljs-attr">file_store_path</span>=config.file_store_path,
Â Â Â Â Â Â Â Â <span class="hljs-attr">file_store_web_hook_url</span>=config.file_store_web_hook_url,
Â Â Â Â Â Â Â Â <span class="hljs-attr">file_store_web_hook_headers</span>=config.file_store_web_hook_headers,
Â Â Â Â Â Â Â Â <span class="hljs-attr">file_store_web_hook_batch</span>=config.file_store_web_hook_batch,
Â Â Â Â )
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºå¯¹è¯ç»Ÿè®¡å®ä¾‹ï¼ˆç»‘å®šæ–‡ä»¶å­˜å‚¨ã€ä¼šè¯IDå’Œç”¨æˆ·IDï¼‰</span>
Â Â Â Â <span class="hljs-attr">conversation_stats</span>Â =Â ConversationStats(file_store,Â sid,Â user_id)
Â Â Â Â <span class="hljs-comment">#Â è®¢é˜…æ³¨å†Œè¡¨äº‹ä»¶ï¼šå½“æ–°LLMæ³¨å†Œæ—¶ï¼Œè‡ªåŠ¨è®°å½•åˆ°å¯¹è¯ç»Ÿè®¡ä¸­</span>
Â Â Â Â llm_registry.subscribe(conversation_stats.register_llm)
Â Â Â Â 
Â Â Â Â returnÂ llm_registry,Â conversation_stats,Â user_config
</code></pre>
<h4 data-id="heading-8">2.3 åˆ›å»ºAgent</h4>
<p>æ­¤å¤„ä¼šæ ¹æ®configä¿¡æ¯æ¥åˆ›å»ºagentã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">agent</span>Â =Â create_agent(config,Â llm_registry)
</code></pre>
<p>create_agentä»£ç å¦‚ä¸‹ï¼Œä»ç¼ºçœé…ç½®å¯ä»¥çœ‹åˆ°ï¼Œé»˜è®¤ç”ŸæˆCodeActAgentã€‚</p>
<pre><code class="hljs language-lua" lang="lua">#default_agentÂ =Â <span class="hljs-string">"CodeActAgent"</span>

defÂ create_agent(<span class="hljs-built_in">config</span>:Â OpenHandsConfig,Â llm_registry:Â LLMRegistry)Â -&gt;Â Agent:
Â Â Â Â agent_cls:Â <span class="hljs-built_in">type</span>[Agent]Â =Â Agent.get_cls(<span class="hljs-built_in">config</span>.default_agent)
Â Â Â Â agent_configÂ =Â <span class="hljs-built_in">config</span>.get_agent_config(<span class="hljs-built_in">config</span>.default_agent)
Â Â Â Â #Â PassÂ theÂ runtimeÂ informationÂ fromÂ theÂ mainÂ <span class="hljs-built_in">config</span>Â toÂ theÂ agentÂ <span class="hljs-built_in">config</span>
Â Â Â Â agent_config.runtimeÂ =Â <span class="hljs-built_in">config</span>.runtime
Â Â Â Â <span class="hljs-built_in">config</span>.get_llm_config_from_agent(<span class="hljs-built_in">config</span>.default_agent)
Â Â Â Â agentÂ =Â agent_cls(<span class="hljs-built_in">config</span>=agent_config,Â llm_registry=llm_registry)
Â Â Â Â <span class="hljs-keyword">return</span>Â agent
</code></pre>
<p>CodeActAgent å®šä¹‰å¦‚ä¸‹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">CodeActAgent</span>(<span class="hljs-title class_ inherited__">Agent</span>):
Â Â Â Â <span class="hljs-string">"""
Â Â Â Â CodeActAgentï¼šæç®€ä¸»ä¹‰çš„æ™ºèƒ½ä»£ç†ï¼ŒåŸºäºÂ CodeActÂ ç†å¿µå®ç°ã€‚
Â Â Â Â æ ¸å¿ƒé€»è¾‘ï¼šå°†æ¨¡å‹çš„è¡ŒåŠ¨ç»Ÿä¸€åˆ°â€œä»£ç æ‰§è¡Œâ€è¿™ä¸€å•ä¸€è¡ŒåŠ¨ç©ºé—´ï¼Œé€šè¿‡ä¼ é€’â€œè¡ŒåŠ¨-è§‚å¯Ÿâ€å¯¹åˆ—è¡¨ï¼Œ
Â Â Â Â å¼•å¯¼æ¨¡å‹å†³ç­–ä¸‹ä¸€æ­¥æ“ä½œï¼Œå…¼é¡¾ç®€æ´æ€§ä¸æ‰§è¡Œæ€§èƒ½ã€‚

Â Â Â Â æ ¸å¿ƒç†å¿µï¼ˆæºè‡ªè®ºæ–‡ï¼šhttps://arxiv.org/abs/2402.01030ï¼‰ï¼š
Â Â Â Â æ‰“ç ´ä¼ ç»Ÿä»£ç†å¤šè¡ŒåŠ¨ç±»å‹çš„å¤æ‚è®¾è®¡ï¼Œç”¨ä»£ç æ‰§è¡Œç»Ÿä¸€æ‰€æœ‰è¡ŒåŠ¨ï¼Œæ—¢ç®€åŒ–æ¶æ„åˆæå‡æ•ˆç‡ã€‚

Â Â Â Â æ¯ä¸€è½®äº¤äº’ä¸­ï¼Œä»£ç†å¯æ‰§è¡Œä¸¤ç§æ“ä½œï¼š
Â Â Â Â 1.Â **å¯¹è¯ï¼ˆConverseï¼‰**ï¼šç”¨è‡ªç„¶è¯­è¨€ä¸äººç±»æ²Ÿé€šï¼Œä¾‹å¦‚è¯·æ±‚æ¾„æ¸…éœ€æ±‚ã€ç¡®è®¤æ“ä½œç­‰ã€‚
Â Â Â Â 2.Â **ä»£ç è¡ŒåŠ¨ï¼ˆCodeActï¼‰**ï¼šé€šè¿‡æ‰§è¡Œä»£ç å®Œæˆä»»åŠ¡ï¼Œæ”¯æŒä¸¤ç§å½¢å¼ï¼š
Â Â Â Â Â Â Â -Â æ‰§è¡Œä»»æ„æœ‰æ•ˆçš„Â LinuxÂ bashÂ å‘½ä»¤
Â Â Â Â Â Â Â -Â æ‰§è¡Œä»»æ„æœ‰æ•ˆçš„Â PythonÂ ä»£ç ï¼ˆé€šè¿‡äº¤äº’å¼Â IPythonÂ è§£é‡Šå™¨æ¨¡æ‹Ÿï¼Œ
Â Â Â Â Â Â Â Â Â å®é™…é€šè¿‡Â bashÂ å‘½ä»¤å®ç°ï¼Œè¯¦è§æ’ä»¶ç³»ç»Ÿè¯´æ˜ï¼‰
Â Â Â Â """</span>
Â Â Â Â VERSIONÂ =Â <span class="hljs-string">'2.2'</span>Â Â <span class="hljs-comment">#Â ä»£ç†ç‰ˆæœ¬å·</span>

Â Â Â Â <span class="hljs-comment">#Â æ²™ç›’ç¯å¢ƒæ‰€éœ€æ’ä»¶ä¾èµ–ï¼ˆæŒ‰åˆå§‹åŒ–é¡ºåºæ’åˆ—ï¼‰</span>
Â Â Â Â sandbox_plugins:Â <span class="hljs-built_in">list</span>[PluginRequirement]Â =Â [
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ³¨æ„ï¼šAgentSkillsRequirementÂ éœ€åœ¨Â JupyterRequirementÂ ä¹‹å‰åˆå§‹åŒ–</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åŸå› ï¼šAgentSkillsRequirementÂ æä¾›å¤§é‡Â PythonÂ å·¥å…·å‡½æ•°ï¼Œ</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â JupyterÂ ç¯å¢ƒéœ€è¦ä¾èµ–è¿™äº›å‡½æ•°æ‰èƒ½æ­£å¸¸å·¥ä½œ</span>
Â Â Â Â Â Â Â Â AgentSkillsRequirement(),Â Â <span class="hljs-comment">#Â æä¾›ä»£ç†æ ¸å¿ƒæŠ€èƒ½å‡½æ•°çš„æ’ä»¶</span>
Â Â Â Â Â Â Â Â JupyterRequirement(),Â Â Â Â Â Â <span class="hljs-comment">#Â æä¾›äº¤äº’å¼Â PythonÂ æ‰§è¡Œç¯å¢ƒçš„æ’ä»¶</span>
Â Â Â Â ]

Â Â Â Â <span class="hljs-keyword">def</span>Â <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,Â config:Â AgentConfig,Â llm_registry:Â LLMRegistry</span>)Â -&gt;Â <span class="hljs-literal">None</span>:
Â Â Â Â Â Â Â Â <span class="hljs-string">"""
Â Â Â Â Â Â Â Â åˆå§‹åŒ–Â CodeActAgentÂ å®ä¾‹ã€‚

Â Â Â Â Â Â Â Â å‚æ•°ï¼š
Â Â Â Â Â Â Â Â Â Â Â Â configÂ (AgentConfig)ï¼šå½“å‰ä»£ç†çš„é…ç½®å¯¹è±¡ï¼ˆåŒ…å«æ¨¡å‹è·¯ç”±ã€è®°å¿†ç­–ç•¥ç­‰ï¼‰
Â Â Â Â Â Â Â Â Â Â Â Â llm_registryÂ (LLMRegistry)ï¼šLLMÂ æ³¨å†Œè¡¨å®ä¾‹ï¼Œç”¨äºè·å–æ‰€éœ€Â LLMÂ æˆ–è·¯ç”±Â LLM
Â Â Â Â Â Â Â Â """</span>
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è°ƒç”¨çˆ¶ç±»Â AgentÂ çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå®ŒæˆåŸºç¡€é…ç½®ï¼ˆå¦‚Â LLMÂ æ³¨å†Œã€æç¤ºè¯ç®¡ç†å™¨åˆå§‹åŒ–ï¼‰</span>
Â Â Â Â Â Â Â Â <span class="hljs-built_in">super</span>().__init__(config,Â llm_registry)
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â self.pending_actions:Â deque[<span class="hljs-string">'Action'</span>]Â =Â deque()Â Â <span class="hljs-comment">#Â å¾…æ‰§è¡Œçš„è¡ŒåŠ¨é˜Ÿåˆ—ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼Œæ”¯æŒé«˜æ•ˆè¿›å‡ºï¼‰</span>
Â Â Â Â Â Â Â Â self.reset()Â Â <span class="hljs-comment">#Â é‡ç½®ä»£ç†çŠ¶æ€ï¼ˆåˆå§‹åŒ–è¡ŒåŠ¨å†å²ã€è§‚å¯Ÿè®°å½•ç­‰ï¼‰</span>
Â Â Â Â Â Â Â Â self.toolsÂ =Â self._get_tools()Â Â <span class="hljs-comment">#Â è·å–ä»£ç†å¯ä½¿ç”¨çš„å·¥å…·é›†ï¼ˆä»æ’ä»¶æˆ–é…ç½®ä¸­æå–ï¼‰</span>

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–å¯¹è¯è®°å¿†å®ä¾‹ï¼šå­˜å‚¨â€œè¡ŒåŠ¨-è§‚å¯Ÿâ€å¯¹ï¼Œæ”¯æŒè®°å¿†å‹ç¼©ã€ä¸Šä¸‹æ–‡ç®¡ç†</span>
Â Â Â Â Â Â Â Â self.conversation_memoryÂ =Â ConversationMemory(self.config,Â self.prompt_manager)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–ä¸Šä¸‹æ–‡å‹ç¼©å™¨ï¼šæ ¹æ®é…ç½®åˆ›å»ºÂ CondenserÂ å®ä¾‹ï¼Œç”¨äºå‹ç¼©é•¿å¯¹è¯å†å²</span>
Â Â Â Â Â Â Â Â self.condenserÂ =Â Condenser.from_config(self.config.condenser,Â llm_registry)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è¦†ç›–çˆ¶ç±»çš„Â LLMÂ å®ä¾‹ï¼šå¦‚éœ€æ¨¡å‹è·¯ç”±ï¼Œä¼˜å…ˆä½¿ç”¨è·¯ç”±Â LLMï¼ˆæ ¹æ®ä»£ç†é…ç½®åŠ¨æ€é€‰æ‹©æ¨¡å‹ï¼‰</span>
Â Â Â Â Â Â Â Â self.llmÂ =Â self.llm_registry.get_router(self.config)
</code></pre>
<p>å…·ä½“å‚è§ä¸‹å›¾ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72997c85c0a8469c97d545a56438dc89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770123953&amp;x-signature=WjXvHUKakyclZW3PtThoH%2FaPnFA%3D" alt="image-20251019171311325" loading="lazy"/></p>
<p>image-20251019171311325</p>
<p>CodeActAgentçš„åˆå§‹åŒ–æµç¨‹å›¾å¦‚ä¸‹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f8293c757e443efa90c6733c8bd8007~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg572X6KW_55qE5oCd6ICD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770123953&amp;x-signature=oDKH1AR2eVX9W3SCHamKCg4swBQ%3D" alt="Openhands-3-2" loading="lazy"/></p>
<p>Openhands-3-2</p>
<h4 data-id="heading-9">2.4 æ„å»ºRuntime</h4>
<p>create_runtime()æ„å»ºäº†AI ä»£ç†çš„ â€œä¸“å±å·¥ä½œé—´â€Runtimeã€‚åœ¨OpenHandsç³»ç»Ÿä¸­ï¼ŒRuntimeæ‰®æ¼”ç€è‡³å…³é‡è¦çš„è§’è‰²ï¼Œå®ƒä¸ºäººå·¥æ™ºèƒ½ä»£ç†æä¾›äº†ä¸€ä¸ªç¨³å®šä¸”å¯æ§çš„æ“ä½œå¹³å°ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">Â Â Â Â <span class="hljs-comment">#Â è¿è¡Œæ—¶åˆ›å»ºåä¼šè‡ªåŠ¨è¿æ¥å¹¶å…‹éš†é€‰å®šçš„ä»£ç ä»“åº“</span>
Â Â Â Â <span class="hljs-attr">repo_directory</span>Â =Â None
Â Â Â Â ifÂ runtimeÂ isÂ None:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–ä»£ç ä»“åº“ï¼ˆå¦‚éœ€ï¼‰</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">repo_tokens</span>Â =Â get_provider_tokens()
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºè¿è¡Œæ—¶å®ä¾‹</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">runtime</span>Â =Â create_runtime(
Â Â Â Â Â Â Â Â Â Â Â Â config,
Â Â Â Â Â Â Â Â Â Â Â Â llm_registry,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">sid</span>=sid,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">headless_mode</span>=headless_mode,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">agent</span>=agent,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">git_provider_tokens</span>=repo_tokens,
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åŒæ­¥è°ƒç”¨å¼‚æ­¥çš„è¿è¡Œæ—¶è¿æ¥æ–¹æ³•</span>
Â Â Â Â Â Â Â Â call_async_from_sync(runtime.connect)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–ä»£ç ä»“åº“ï¼ˆå¦‚éœ€ï¼‰</span>
Â Â Â Â Â Â Â Â ifÂ config.sandbox.selected_repo:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">repo_directory</span>Â =Â initialize_repository_for_runtime(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â runtime,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">immutable_provider_tokens</span>=repo_tokens,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">selected_repository</span>=config.sandbox.selected_repo,
Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â <span class="hljs-comment">#Â event_streamÂ æ˜¯Â Â event_streamÂ =Â EventStream(session_id,Â file_store)Â Â Â Â Â Â Â Â </span>
Â Â Â Â <span class="hljs-attr">event_stream</span>Â =Â runtime.event_streamÂ Â Â Â Â Â Â Â 
</code></pre>
<p>Runtime çš„<code>__init__</code>ä¼šæ³¨å†ŒEventStreamSubscriber.RUNTIMEã€‚</p>
<pre><code class="hljs language-lua" lang="lua">Â Â Â Â Â Â Â Â <span class="hljs-built_in">self</span>.event_streamÂ =Â event_stream
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â event_stream:
Â Â Â Â Â Â Â Â Â Â Â Â event_stream.subscribe(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â EventStreamSubscriber.RUNTIME,Â <span class="hljs-built_in">self</span>.on_event,Â <span class="hljs-built_in">self</span>.sid
Â Â Â Â Â Â Â Â Â Â Â Â )
</code></pre>
<p><code>Runtime</code>åªå¤„ç†å¯è¿è¡Œçš„<code>Action</code>äº‹ä»¶ï¼Œæ‰§è¡ŒåŠ¨ä½œæ‹¿åˆ°è¾“å‡º<code>Observation</code>å‘é€å›äº‹ä»¶æµä¸­</p>
<ul>
<li><code>isinstance(event, MCPAction)</code>æ‰§è¡ŒMCPè·å–ç»“æœ</li>
</ul>

<ul>
<li>å…¶ä»–runtimeæ”¯æŒçš„actionåˆ™æ‰§è¡Œè·å–ç»“æœ</li>
</ul>
<h4 data-id="heading-10">2.5 æ„å»ºMemory &amp; Microagent</h4>
<p>æ¥ä¸‹æ¥åˆå§‹åŒ–memoryï¼Œ</p>
<pre><code class="hljs language-ini" lang="ini">Â Â Â Â <span class="hljs-comment">#Â whenÂ memoryÂ isÂ created,Â itÂ willÂ loadÂ theÂ microagentsÂ fromÂ theÂ selectedÂ repository</span>
Â Â Â Â ifÂ memoryÂ isÂ None:
Â Â Â Â Â Â Â Â <span class="hljs-attr">memory</span>Â =Â create_memory(
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">runtime</span>=runtime,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">event_stream</span>=event_stream,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">sid</span>=sid,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">selected_repository</span>=config.sandbox.selected_repo,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">repo_directory</span>=repo_directory,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">conversation_instructions</span>=conversation_instructions,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">working_dir</span>=str(runtime.workspace_root),
Â Â Â Â Â Â Â Â )
</code></pre>
<h5 data-id="heading-11">2.5.1 åˆ›å»º Memory</h5>
<p>create_memory å‡½æ•°ä¼šåˆ›å»ºmemoryã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span>Â <span class="hljs-title function_">create_memory</span>(<span class="hljs-params">
Â Â Â Â runtime:Â Runtime,
Â Â Â Â event_stream:Â EventStream,
Â Â Â Â sid:Â <span class="hljs-built_in">str</span>,
Â Â Â Â selected_repository:Â <span class="hljs-built_in">str</span>Â |Â <span class="hljs-literal">None</span>Â =Â <span class="hljs-literal">None</span>,
Â Â Â Â repo_directory:Â <span class="hljs-built_in">str</span>Â |Â <span class="hljs-literal">None</span>Â =Â <span class="hljs-literal">None</span>,
Â Â Â Â status_callback:Â <span class="hljs-type">Callable</span>Â |Â <span class="hljs-literal">None</span>Â =Â <span class="hljs-literal">None</span>,
Â Â Â Â conversation_instructions:Â <span class="hljs-built_in">str</span>Â |Â <span class="hljs-literal">None</span>Â =Â <span class="hljs-literal">None</span>,
Â Â Â Â working_dir:Â <span class="hljs-built_in">str</span>Â =Â DEFAULT_WORKSPACE_MOUNT_PATH_IN_SANDBOX,
</span>)Â -&gt;Â Memory:
Â Â Â Â <span class="hljs-string">"""CreateÂ aÂ memoryÂ forÂ theÂ agentÂ toÂ use.

Â Â Â Â Args:
Â Â Â Â Â Â Â Â runtime:Â TheÂ runtimeÂ toÂ use.
Â Â Â Â Â Â Â Â event_stream:Â TheÂ eventÂ streamÂ itÂ willÂ subscribeÂ to.
Â Â Â Â Â Â Â Â sid:Â TheÂ sessionÂ id.
Â Â Â Â Â Â Â Â selected_repository:Â TheÂ repositoryÂ toÂ cloneÂ andÂ startÂ with,Â ifÂ any.
Â Â Â Â Â Â Â Â repo_directory:Â TheÂ repositoryÂ directory,Â ifÂ any.
Â Â Â Â Â Â Â Â status_callback:Â OptionalÂ callbackÂ functionÂ toÂ handleÂ statusÂ updates.
Â Â Â Â Â Â Â Â conversation_instructions:Â OptionalÂ instructionsÂ thatÂ areÂ passedÂ toÂ theÂ agent
Â Â Â Â """</span>
Â Â Â Â memoryÂ =Â Memory(
Â Â Â Â Â Â Â Â event_stream=event_stream,
Â Â Â Â Â Â Â Â sid=sid,
Â Â Â Â Â Â Â Â status_callback=status_callback,
Â Â Â Â )

Â Â Â Â memory.set_conversation_instructions(conversation_instructions)

Â Â Â Â <span class="hljs-keyword">if</span>Â runtime:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â setsÂ availableÂ hosts</span>
Â Â Â Â Â Â Â Â memory.set_runtime_info(runtime,Â {},Â working_dir)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â loadsÂ microagentsÂ fromÂ repo/.openhands/microagents</span>
Â Â Â Â Â Â Â Â microagents:Â <span class="hljs-built_in">list</span>[BaseMicroagent]Â =Â runtime.get_microagents_from_selected_repo(
Â Â Â Â Â Â Â Â Â Â Â Â selected_repository
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â memory.load_user_workspace_microagents(microagents)

Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â selected_repositoryÂ <span class="hljs-keyword">and</span>Â repo_directory:
Â Â Â Â Â Â Â Â Â Â Â Â memory.set_repository_info(selected_repository,Â repo_directory)

Â Â Â Â <span class="hljs-keyword">return</span>Â memory
</code></pre>
<p>memoryåˆå§‹åŒ–çš„æ—¶å€™æœ‰ä¸€ä¸ªevent_streamçš„è®¢é˜…ï¼Œä¼šæ³¨å†Œ EventStreamSubscriber.MEMORYï¼Œå½“æœ‰eventçš„æ—¶å€™Memory çš„<code>on_event</code>æ–¹æ³•ä¼šè¢«è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-built_in">self</span>.event_stream.subscribe(
Â Â Â Â Â Â Â Â Â Â Â Â EventStreamSubscriber.MEMORY,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">self</span>.on_event,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">self</span>.sid,
Â Â Â Â Â Â Â Â )
</code></pre>
<p><code>Memory</code>åªå¤„ç†<code>RecallAction</code>ï¼Œå¯¹äºç”¨æˆ·é¦–æ¬¡è¾“å…¥ä¿¡æ¯åˆ™å°†ä¸€äº›é¢å¤–çš„å·¥ä½œç©ºé—´ä¸Šä¸‹æ–‡ä¿¡æ¯æ·»åŠ åˆ°<code>RecallObservation</code>å‘é€å›äº‹ä»¶æµä¸­ï¼Œå¯¹äºå…¶ä»–éç”¨æˆ·é¦–æ¬¡çš„è¾“å…¥ä¿¡æ¯åˆ™åŠ å…¥<code>microagent knowledge(é¢†åŸŸå¼ºåŒ–æç¤ºè¯)</code>åˆ°<code>RecallObservation</code>å‘é€å›äº‹ä»¶æµä¸­ã€‚</p>
<h5 data-id="heading-12">2.5.2 åˆ›å»ºMicroagent</h5>
<p>create_memoryå‡½æ•°ä¸­ä¼šåŠ è½½Microagentã€‚</p>
<pre><code class="hljs language-css" lang="css">Â Â Â Â Â Â Â Â #Â loadsÂ microagentsÂ <span class="hljs-selector-tag">from</span>Â repo/<span class="hljs-selector-class">.openhands</span>/microagents
Â Â Â Â Â Â Â Â microagents:Â list[BaseMicroagent]Â =Â runtime.<span class="hljs-built_in">get_microagents_from_selected_repo</span>(
Â Â Â Â Â Â Â Â Â Â Â Â selected_repository
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â memory.<span class="hljs-built_in">load_user_workspace_microagents</span>(microagents)
</code></pre>
<p>Microagentæ˜¯ä¸»ä»£ç†çš„â€œä¸“ä¸šåˆä½œä¼™ä¼´â€ã€‚</p>
<p>ä¸ºäº†é«˜æ•ˆå®Œæˆå¤æ‚ä»»åŠ¡ï¼Œé€šå¸¸éœ€è¦ä¸“ä¸šçš„åˆ†å·¥åä½œï¼ŒMicroagentæ­£æ˜¯ä¸ºäº†è¿™ä¸€ç›®çš„è€Œè®¾è®¡çš„â€œä¸“ä¸šæ‰§è¡Œè€…â€ã€‚å½“ä¸»ä»£ç†åœ¨æ‰§è¡Œä»»åŠ¡æ—¶é‡åˆ°ç‰¹å®šé¢†åŸŸçš„ç»†åˆ†å·¥ä½œï¼Œå®ƒä¸å¿…äº²è‡ªå¤„ç†ï¼Œè€Œæ˜¯å¯ä»¥å°†è¿™éƒ¨åˆ†ä»»åŠ¡â€œå§”æ‰˜â€ç»™ç›¸åº”çš„Microagentï¼Œä»è€Œåˆ©ç”¨å…¶ä¸“ä¸šèƒ½åŠ›æé«˜æ•ˆç‡å’Œå‡†ç¡®æ€§ã€‚</p>
<p>ä»æœ¬è´¨ä¸Šè®²ï¼ŒMicroagentåŒæ ·åŸºäºå¤§å‹è¯­è¨€æ¨¡å‹æ„å»ºï¼Œæ¯”å¦‚ï¼Œå…¶ç‹¬ç‰¹ä¹‹å¤„å¯ä»¥æ˜¯å…¶å†…ç½®çš„ä¸“ä¸šæç¤ºè¯ï¼ˆPromptï¼‰ã€‚è¿™äº›æç¤ºè¯ä¸­èå…¥äº†ç‰¹å®šé¢†åŸŸçš„çŸ¥è¯†å‡†åˆ™ä¸æ“ä½œè§„èŒƒï¼Œä¾‹å¦‚ï¼Œä¸Gitç›¸å…³çš„Microagentï¼Œå…¶æç¤ºè¯ä¼šåŒ…å«Gitæ“ä½œçš„æ ¸å¿ƒæŠ€å·§ä¸æœ€ä½³å®è·µï¼Œèƒ½å¤Ÿå¼•å¯¼æ¨¡å‹æ›´ç²¾ç¡®åœ°å¤„ç†ä¸Gitç›¸å…³çš„ä»»åŠ¡ï¼Œæˆä¸ºä¸»ä»£ç†åº”å¯¹ç»†åˆ†åœºæ™¯çš„â€œå¾—åŠ›åŠ©æ‰‹â€ã€‚</p>
<p>BaseMicroagent å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span>Â <span class="hljs-title class_">BaseMicroagent</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
Â Â Â Â <span class="hljs-string">"""BaseÂ classÂ forÂ allÂ microagents."""</span>

Â Â Â Â name:Â <span class="hljs-built_in">str</span>
Â Â Â Â content:Â <span class="hljs-built_in">str</span>
Â Â Â Â metadata:Â MicroagentMetadata
Â Â Â Â source:Â <span class="hljs-built_in">str</span>Â Â <span class="hljs-comment">#Â pathÂ toÂ theÂ file</span>
Â Â Â Â <span class="hljs-built_in">type</span>:Â MicroagentType

Â Â Â Â PATH_TO_THIRD_PARTY_MICROAGENT_NAME:Â ClassVar[<span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>,Â <span class="hljs-built_in">str</span>]]Â =Â {
Â Â Â Â Â Â Â Â <span class="hljs-string">'.cursorrules'</span>:Â <span class="hljs-string">'cursorrules'</span>,
Â Â Â Â Â Â Â Â <span class="hljs-string">'agents.md'</span>:Â <span class="hljs-string">'agents'</span>,
Â Â Â Â Â Â Â Â <span class="hljs-string">'agent.md'</span>:Â <span class="hljs-string">'agents'</span>,
Â Â Â Â }
</code></pre>
<h4 data-id="heading-13">2.6 åˆ›å»ºMCP</h4>
<p>æ¥ä¸‹æ¥ä¼šåˆ›å»ºMCPç›¸å…³éƒ¨åˆ†ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">Â Â Â Â #Â AddÂ MCPÂ toolsÂ toÂ theÂ agent
Â Â Â Â <span class="hljs-keyword">if</span>Â agent.config.enable_mcp:
Â Â Â Â Â Â Â Â #Â AddÂ OpenHands<span class="hljs-number">'</span>Â MCPÂ serverÂ byÂ <span class="hljs-keyword">default</span>
Â Â Â Â Â Â Â Â _,Â openhands_mcp_stdio_serversÂ =Â (
Â Â Â Â Â Â Â Â Â Â Â Â OpenHandsMCPConfigImpl.<span class="hljs-built_in">create_default_mcp_server_config</span>(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â config.mcp_host,Â config,Â None
Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â runtime.config.mcp.stdio_servers.<span class="hljs-built_in">extend</span>(openhands_mcp_stdio_servers)

Â Â Â Â Â Â Â Â awaitÂ <span class="hljs-built_in">add_mcp_tools_to_agent</span>(agent,Â runtime,Â memory)
</code></pre>
<h4 data-id="heading-14">2.7 åˆ›å»ºController</h4>
<p>æ¥ä¸‹æ¥ä¼šåˆ›å»ºAgentControllerã€‚</p>
<p>AgentController æ˜¯ OpenHands ç³»ç»Ÿä¸­çš„æ ¸å¿ƒæ§åˆ¶å™¨ç»„ä»¶ï¼Œè´Ÿè´£ç®¡ç†ä»£ç†ï¼ˆAgentï¼‰çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå’Œè¡Œä¸ºã€‚æ˜¯ä»£ç†ä¸ç³»ç»Ÿå…¶ä»–ç»„ä»¶ä¹‹é—´çš„æ¡¥æ¢ï¼Œç¡®ä¿ä»£ç†å¯ä»¥å®‰å…¨æœ‰æ•ˆåœ°æ‰§è¡Œä»»åŠ¡ï¼ŒåŒæ—¶ç®¡ç†ç³»ç»Ÿèµ„æºã€‚</p>
<p><code>AgentController</code>ä½œä¸ºä¸»è¦çŠ¶æ€ç®¡ç†æ¨¡å—ï¼Œ</p>
<ul>
<li>
<p>æ ¹æ®<code>Observation</code>äº‹ä»¶è¿›è¡ŒçŠ¶æ€å˜æ¢</p>
</li>
<li>
<p>æ ¹æ®<code>Action</code>è¿›è¡ŒçŠ¶æ€å˜æ¢å’Œä»¥ä¸‹å¤„ç†ï¼š</p>
<ul>
<li>å¯¹äº<code>MessageAction</code>å‘é€<code>RecallAction</code>åˆ°äº‹ä»¶æµä¸­</li>
<li>å¯¹äº<code>AgentDelegateAction</code>åšAgentè·¯ç”±ï¼ˆåç»­æœºåˆ¶è§£è¯»ä¸­å†è¯¦ç»†ä»‹ç»ï¼‰</li>
</ul>
</li>
<li>
<p>æ ¹æ®å½“å‰çš„<code>event</code>åˆ¤æ–­è¿›è¡Œè°ƒç”¨<code>agent.step</code></p>
</li>
</ul>

<pre><code class="hljs language-ini" lang="ini">Â Â Â Â controller,Â <span class="hljs-attr">initial_state</span>Â =Â create_controller(
Â Â Â Â Â Â Â Â agent,Â runtime,Â config,Â conversation_stats,Â <span class="hljs-attr">replay_events</span>=replay_events
Â Â Â Â )
</code></pre>
<p>create_controllerä»£ç å¦‚ä¸‹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">defÂ create_controller(
Â Â Â Â agent:Â Agent,
Â Â Â Â runtime:Â Runtime,
Â Â Â Â config:Â OpenHandsConfig,
Â Â Â Â conversation_stats:Â ConversationStats,
Â Â Â Â headless_mode:Â <span class="hljs-attr">bool</span>Â =Â <span class="hljs-literal">True</span>,
Â Â Â Â replay_events:Â list<span class="hljs-section">[Event]</span>Â |Â <span class="hljs-attr">None</span>Â =Â None,
)Â -&gt;Â tuple<span class="hljs-section">[AgentController,Â StateÂ |Â None]</span>:
Â Â Â Â <span class="hljs-attr">event_stream</span>Â =Â runtime.event_stream
Â Â Â Â <span class="hljs-attr">initial_state</span>Â =Â None
Â Â Â Â <span class="hljs-attr">initial_state</span>Â =Â State.restore_from_session(
Â Â Â Â Â Â Â Â Â Â Â Â event_stream.sid,Â event_stream.file_store)
Â Â Â Â <span class="hljs-attr">controller</span>Â =Â AgentController(
Â Â Â Â Â Â Â Â <span class="hljs-attr">agent</span>=agent,
Â Â Â Â Â Â Â Â <span class="hljs-attr">conversation_stats</span>=conversation_stats,
Â Â Â Â Â Â Â Â <span class="hljs-attr">iteration_delta</span>=config.max_iterations,
Â Â Â Â Â Â Â Â <span class="hljs-attr">budget_per_task_delta</span>=config.max_budget_per_task,
Â Â Â Â Â Â Â Â <span class="hljs-attr">agent_to_llm_config</span>=config.get_agent_to_llm_config_map(),
Â Â Â Â Â Â Â Â <span class="hljs-attr">event_stream</span>=event_stream,
Â Â Â Â Â Â Â Â <span class="hljs-attr">initial_state</span>=initial_state,
Â Â Â Â Â Â Â Â <span class="hljs-attr">headless_mode</span>=headless_mode,
Â Â Â Â Â Â Â Â <span class="hljs-attr">confirmation_mode</span>=config.security.confirmation_mode,
Â Â Â Â Â Â Â Â <span class="hljs-attr">replay_events</span>=replay_events,
Â Â Â Â Â Â Â Â <span class="hljs-attr">security_analyzer</span>=runtime.security_analyzer,
Â Â Â Â )
Â Â Â Â returnÂ (controller,Â initial_state)
</code></pre>
<p>åœ¨ AgentController çš„<code>__init__</code>ä¸­ï¼Œä¼šæ³¨å†ŒEventStreamSubscriber.AGENT_CONTROLLERã€‚</p>
<pre><code class="hljs language-python" lang="python">Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â subscribeÂ toÂ theÂ eventÂ streamÂ ifÂ thisÂ isÂ notÂ aÂ delegate</span>
Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â <span class="hljs-keyword">not</span>Â self.is_delegate:
Â Â Â Â Â Â Â Â Â Â Â Â self.event_stream.subscribe(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â EventStreamSubscriber.AGENT_CONTROLLER,Â self.on_event,Â self.<span class="hljs-built_in">id</span>
Â Â Â Â Â Â Â Â Â Â Â Â )
</code></pre>
<h4 data-id="heading-15">2.8 å‘é€å¯åŠ¨äº‹ä»¶</h4>
<p>å‘é€ä¸€ä¸ªå¯åŠ¨äº‹ä»¶MessageActionã€‚</p>
<pre><code class="hljs language-vbnet" lang="vbnet">Â Â Â Â #Â startÂ <span class="hljs-keyword">event</span>Â <span class="hljs-built_in">is</span>Â aÂ MessageActionÂ <span class="hljs-keyword">with</span>Â theÂ task,Â eitherÂ resumedÂ <span class="hljs-built_in">or</span>Â <span class="hljs-built_in">new</span>
Â Â Â Â <span class="hljs-keyword">if</span>Â initial_stateÂ <span class="hljs-built_in">is</span>Â <span class="hljs-built_in">not</span>Â NoneÂ <span class="hljs-built_in">and</span>Â initial_state.last_error:
Â Â Â Â Â Â Â Â #Â we<span class="hljs-comment">'reÂ resumingÂ theÂ previousÂ session</span>
Â Â Â Â Â Â Â Â event_stream.add_event(
Â Â Â Â Â Â Â Â Â Â Â Â MessageAction(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â content=(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-string">"Let'sÂ getÂ backÂ onÂ track.Â IfÂ youÂ experiencedÂ errorsÂ before,Â doÂ "</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">'NOTÂ resumeÂ yourÂ task.Â AskÂ meÂ aboutÂ it.'</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ),
Â Â Â Â Â Â Â Â Â Â Â Â ),
Â Â Â Â Â Â Â Â Â Â Â Â EventSource.USER,
Â Â Â Â Â Â Â Â )
Â Â Â Â <span class="hljs-keyword">else</span>:
Â Â Â Â Â Â Â Â #Â initÂ <span class="hljs-keyword">with</span>Â theÂ providedÂ actions
Â Â Â Â Â Â Â Â event_stream.add_event(initial_user_action,Â EventSource.USER)
</code></pre>
<h4 data-id="heading-16">2.9 è®¢é˜…äº‹ä»¶æµï¼šæ³¨å†Œç”¨æˆ·è¾“å…¥å›è°ƒå‡½æ•°</h4>
<p>æŠŠè‡ªå·±æ³¨å†Œä¸º EventStreamSubscriber.MAINã€‚</p>
<pre><code class="hljs language-ini" lang="ini">Â Â Â Â defÂ on_event(event:Â Event)Â -&gt;Â None:
Â Â Â Â Â Â Â Â ifÂ isinstance(event,Â AgentStateChangedObservation):
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ <span class="hljs-attr">event.agent_state</span>Â ==Â AgentState.AWAITING_USER_INPUT:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ exit_on_message:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">message</span>Â =Â <span class="hljs-string">'/exit'</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elifÂ fake_user_response_fnÂ isÂ None:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">message</span>Â =Â read_input(config.cli_multiline_input)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â else:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">message</span>Â =Â fake_user_response_fn(controller.get_state())
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">action</span>Â =Â MessageAction(content=message)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â event_stream.add_event(action,Â EventSource.USER)

Â Â Â Â event_stream.subscribe(EventStreamSubscriber.MAIN,Â on_event,Â sid)

Â Â Â Â <span class="hljs-attr">end_states</span>Â =Â [
Â Â Â Â Â Â Â Â AgentState.FINISHED,
Â Â Â Â Â Â Â Â AgentState.REJECTED,
Â Â Â Â Â Â Â Â AgentState.ERROR,
Â Â Â Â Â Â Â Â AgentState.PAUSED,
Â Â Â Â Â Â Â Â AgentState.STOPPED,
Â Â Â Â ]
</code></pre>
<p>å‡ ä¸ªæ¨¡å—çš„åˆå§‹åŒ–èŒƒå¼åŸºæœ¬ä¸€è‡´ï¼Œåœ¨<code>__init__</code>å‡½æ•°ä¸­å®Œæˆæ¨¡å—çš„åˆå§‹åŒ–å‡†å¤‡å·¥ä½œï¼Œå¹¶ä¸”å‘äº‹ä»¶æµä¸­è®¢é˜…æ¶ˆæ¯å¹¶æ³¨å†Œå„è‡ªæ¨¡å—çš„æ¶ˆæ¯å¤„ç†å‡½æ•°ã€‚äº‹ä»¶å›è°ƒå‡½æ•°ä¼šæ ¹æ®å½“å‰çš„äº‹ä»¶è¿›è¡ŒçŠ¶æ€æœºçš„çŠ¶æ€è½¬ç§»ã€‚</p>
<ul>
<li>Runtime åœ¨äº‹ä»¶æµä¸­è®¢é˜… EventStreamSubscriber.RUNTIMEï¼Œäº‹ä»¶å›è°ƒå‡½æ•°ä¼šå¤„ç†éœ€è¦runtineå¤„ç†çš„actionï¼Œæ¯”å¦‚mcp/toolç­‰ç­‰ã€‚</li>
<li>Memory åœ¨äº‹ä»¶æµä¸­è®¢é˜… EventStreamSubscriber.MEMORYã€‚äº‹ä»¶å›è°ƒå‡½æ•°æ ¹æ®å½“å‰çš„<code>event</code>ç”Ÿæˆä¸€ä¸ªå¸¦<code>microagent_knowledge</code>çš„<code>Observation</code>å¹¶ä»¥<code>ENVIRONMENT</code>ä½œä¸ºæºæ·»åŠ å›äº‹ä»¶æµä¸­ï¼Œè¿™é‡Œçš„<code>microagent_knowledge</code>æ˜¯ä¸€ç§ç‰¹å®šæç¤ºè¯å¢å¼ºçš„æ–¹æ³•ã€‚</li>
<li>AgentController åœ¨äº‹ä»¶æµä¸­è®¢é˜… EventStreamSubscriber.AGENT_CONTROLLERã€‚</li>
<li>run_controller åœ¨äº‹ä»¶æµä¸­è®¢é˜… EventStreamSubscriber.MAINã€‚</li>
</ul>
<h4 data-id="heading-17">2.10 è¿è¡Œä»£ç†</h4>
<p>è¿è¡Œä»£ç†ç›´åˆ°è¿›å…¥ç»“æŸçŠ¶æ€ã€‚</p>
<pre><code class="hljs language-python" lang="python">Â Â Â Â <span class="hljs-keyword">try</span>:
Â Â Â Â Â Â Â Â <span class="hljs-keyword">await</span>Â run_agent_until_done(controller,Â runtime,Â memory,Â end_states)
Â Â Â Â <span class="hljs-keyword">except</span>Â ExceptionÂ <span class="hljs-keyword">as</span>Â e:
Â Â Â Â Â Â Â Â logger.error(<span class="hljs-string">f'ExceptionÂ inÂ mainÂ loop:Â <span class="hljs-subst">{e}</span>'</span>)

Â Â Â Â <span class="hljs-comment">#Â saveÂ sessionÂ whenÂ we'reÂ aboutÂ toÂ close</span>
Â Â Â Â <span class="hljs-keyword">if</span>Â config.file_storeÂ <span class="hljs-keyword">is</span>Â <span class="hljs-keyword">not</span>Â <span class="hljs-literal">None</span>Â <span class="hljs-keyword">and</span>Â config.file_storeÂ !=Â <span class="hljs-string">'memory'</span>:
Â Â Â Â Â Â Â Â end_stateÂ =Â controller.get_state()
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â <span class="hljs-doctag">NOTE:</span>Â theÂ savedÂ stateÂ doesÂ notÂ includeÂ delegatesÂ events</span>
Â Â Â Â Â Â Â Â end_state.save_to_session(
Â Â Â Â Â Â Â Â Â Â Â Â event_stream.sid,Â event_stream.file_store,Â event_stream.user_id
Â Â Â Â Â Â Â Â )

Â Â Â Â <span class="hljs-keyword">await</span>Â controller.close(set_stop_state=<span class="hljs-literal">False</span>)
</code></pre>
<h4 data-id="heading-18">2.11 run_controllerå…¨éƒ¨ä»£ç </h4>
<p>run_controllerå…¨éƒ¨ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">asyncÂ defÂ run_controller(
Â Â Â Â config:Â OpenHandsConfig,
Â Â Â Â initial_user_action:Â Action,
Â Â Â Â sid:Â strÂ |Â <span class="hljs-attr">None</span>Â =Â None,
Â Â Â Â runtime:Â RuntimeÂ |Â <span class="hljs-attr">None</span>Â =Â None,
Â Â Â Â exit_on_message:Â <span class="hljs-attr">bool</span>Â =Â <span class="hljs-literal">False</span>,
Â Â Â Â fake_user_response_fn:Â FakeUserResponseFuncÂ |Â <span class="hljs-attr">None</span>Â =Â None,
Â Â Â Â headless_mode:Â <span class="hljs-attr">bool</span>Â =Â <span class="hljs-literal">True</span>,
Â Â Â Â memory:Â MemoryÂ |Â <span class="hljs-attr">None</span>Â =Â None,
Â Â Â Â conversation_instructions:Â strÂ |Â <span class="hljs-attr">None</span>Â =Â None,
)Â -&gt;Â StateÂ |Â None:
Â Â Â Â """ä¸»åç¨‹ï¼Œç”¨äºè¿è¡Œä»£ç†æ§åˆ¶å™¨ï¼Œæ”¯æŒçµæ´»çš„ä»»åŠ¡è¾“å…¥ã€‚
Â Â Â Â ä»…åœ¨é€šè¿‡å‘½ä»¤è¡Œç›´æ¥å¯åŠ¨Â OpenHandsÂ åç«¯æ—¶ä½¿ç”¨ã€‚

Â Â Â Â å‚æ•°:
Â Â Â Â Â Â Â Â config:Â åº”ç”¨é…ç½®å®ä¾‹
Â Â Â Â Â Â Â Â initial_user_action:Â åŒ…å«åˆå§‹ç”¨æˆ·è¾“å…¥çš„Â ActionÂ å¯¹è±¡
Â Â Â Â Â Â Â Â sid:Â (å¯é€‰)Â ä¼šè¯Â IDã€‚é‡è¦æç¤ºï¼šéå¿…è¦è¯·å‹¿æ‰‹åŠ¨è®¾ç½®ï¼Œ
Â Â Â Â Â Â Â Â Â Â Â Â Â é”™è¯¯è®¾ç½®å¯èƒ½å¯¼è‡´Â RemoteRuntimeÂ å‡ºç°å¼‚å¸¸è¡Œä¸º
Â Â Â Â Â Â Â Â runtime:Â (å¯é€‰)Â ä»£ç†è¿è¡Œçš„è¿è¡Œæ—¶ç¯å¢ƒå®ä¾‹
Â Â Â Â Â Â Â Â exit_on_message:Â å½“ä»£ç†è¯·æ±‚ç”¨æˆ·æ¶ˆæ¯æ—¶é€€å‡ºï¼ˆå¯é€‰ï¼‰
Â Â Â Â Â Â Â Â fake_user_response_fn:Â (å¯é€‰)Â æ¥æ”¶å½“å‰çŠ¶æ€å¹¶è¿”å›æ¨¡æ‹Ÿç”¨æˆ·å“åº”çš„å‡½æ•°
Â Â Â Â Â Â Â Â headless_mode:Â ä»£ç†æ˜¯å¦ä»¥æ— å¤´æ¨¡å¼è¿è¡Œ

Â Â Â Â è¿”å›:
Â Â Â Â Â Â Â Â ä»£ç†çš„æœ€ç»ˆçŠ¶æ€ï¼›è‹¥å‘ç”Ÿé”™è¯¯åˆ™è¿”å›Â None

Â Â Â Â å¼‚å¸¸:
Â Â Â Â Â Â Â Â AssertionError:Â è‹¥Â initial_user_actionÂ ä¸æ˜¯Â ActionÂ å®ä¾‹
Â Â Â Â Â Â Â Â Exception:Â æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½æŠ›å‡ºå„ç±»å¼‚å¸¸ï¼Œå‡ä¼šè¢«è®°å½•æ—¥å¿—

Â Â Â Â æ³¨æ„:
Â Â Â Â Â Â Â Â -Â çŠ¶æ€æŒä¹…åŒ–ï¼šè‹¥é…ç½®äº†Â config.file_storeï¼Œä»£ç†çŠ¶æ€å°†åœ¨ä¼šè¯é—´ä¿å­˜
Â Â Â Â Â Â Â Â -Â æ‰§è¡Œè½¨è¿¹ï¼šè‹¥é…ç½®äº†Â config.trajectories_pathï¼Œæ‰§è¡Œå†å²å°†ä»¥Â JSONÂ æ ¼å¼ä¿å­˜ç”¨äºåˆ†æ
Â Â Â Â Â Â Â Â -Â é¢„ç®—æ§åˆ¶ï¼šæ‰§è¡Œå—Â config.max_iterationsÂ å’ŒÂ config.max_budget_per_taskÂ é™åˆ¶

Â Â Â Â ç¤ºä¾‹:
Â Â Â Â Â Â Â Â &gt;&gt;&gt;Â <span class="hljs-attr">config</span>Â =Â load_openhands_config()
Â Â Â Â Â Â Â Â &gt;&gt;&gt;Â <span class="hljs-attr">action</span>Â =Â MessageAction(content=<span class="hljs-string">"WriteÂ aÂ helloÂ worldÂ program"</span>)
Â Â Â Â Â Â Â Â &gt;&gt;&gt;Â <span class="hljs-attr">state</span>Â =Â awaitÂ run_controller(config=config,Â initial_user_action=action)
Â Â Â Â """
Â Â Â Â <span class="hljs-comment">#Â è‹¥æœªæä¾›ä¼šè¯IDï¼Œåˆ™ç”Ÿæˆä¸€ä¸ª</span>
Â Â Â Â <span class="hljs-attr">sid</span>Â =Â sidÂ orÂ generate_sid(config)

Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºÂ LLMÂ æ³¨å†Œä¸­å¿ƒã€å¯¹è¯ç»Ÿè®¡å®ä¾‹ï¼Œå¹¶å¤„ç†é…ç½®</span>
Â Â Â Â llm_registry,Â conversation_stats,Â <span class="hljs-attr">config</span>Â =Â create_registry_and_conversation_stats(
Â Â Â Â Â Â Â Â config,
Â Â Â Â Â Â Â Â sid,
Â Â Â Â Â Â Â Â None,
Â Â Â Â )

Â Â Â Â <span class="hljs-comment">#Â åŸºäºé…ç½®å’ŒÂ LLMÂ æ³¨å†Œä¸­å¿ƒåˆ›å»ºä»£ç†å®ä¾‹</span>
Â Â Â Â <span class="hljs-attr">agent</span>Â =Â create_agent(config,Â llm_registry)

Â Â Â Â <span class="hljs-comment">#Â è¿è¡Œæ—¶åˆ›å»ºåä¼šè‡ªåŠ¨è¿æ¥å¹¶å…‹éš†é€‰å®šçš„ä»£ç ä»“åº“</span>
Â Â Â Â <span class="hljs-attr">repo_directory</span>Â =Â None
Â Â Â Â ifÂ runtimeÂ isÂ None:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–ä»£ç ä»“åº“ï¼ˆå¦‚éœ€ï¼‰</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">repo_tokens</span>Â =Â get_provider_tokens()
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºè¿è¡Œæ—¶å®ä¾‹</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">runtime</span>Â =Â create_runtime(
Â Â Â Â Â Â Â Â Â Â Â Â config,
Â Â Â Â Â Â Â Â Â Â Â Â llm_registry,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">sid</span>=sid,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">headless_mode</span>=headless_mode,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">agent</span>=agent,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">git_provider_tokens</span>=repo_tokens,
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åŒæ­¥è°ƒç”¨å¼‚æ­¥çš„è¿è¡Œæ—¶è¿æ¥æ–¹æ³•</span>
Â Â Â Â Â Â Â Â call_async_from_sync(runtime.connect)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆå§‹åŒ–ä»£ç ä»“åº“ï¼ˆå¦‚éœ€ï¼‰</span>
Â Â Â Â Â Â Â Â ifÂ config.sandbox.selected_repo:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">repo_directory</span>Â =Â initialize_repository_for_runtime(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â runtime,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">immutable_provider_tokens</span>=repo_tokens,
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">selected_repository</span>=config.sandbox.selected_repo,
Â Â Â Â Â Â Â Â Â Â Â Â )

Â Â Â Â <span class="hljs-comment">#Â ä»è¿è¡Œæ—¶è·å–äº‹ä»¶æµå®ä¾‹ï¼ˆç»„ä»¶é—´é€šä¿¡æ ¸å¿ƒï¼‰</span>
Â Â Â Â <span class="hljs-attr">event_stream</span>Â =Â runtime.event_stream

Â Â Â Â <span class="hljs-comment">#Â è®°å¿†ç³»ç»Ÿåˆ›å»ºåä¼šä»é€‰å®šä»“åº“åŠ è½½å¾®ä»£ç†</span>
Â Â Â Â ifÂ memoryÂ isÂ None:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºè®°å¿†ç³»ç»Ÿå®ä¾‹</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">memory</span>Â =Â create_memory(
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">runtime</span>=runtime,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">event_stream</span>=event_stream,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">sid</span>=sid,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">selected_repository</span>=config.sandbox.selected_repo,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">repo_directory</span>=repo_directory,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">conversation_instructions</span>=conversation_instructions,
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">working_dir</span>=str(runtime.workspace_root),
Â Â Â Â Â Â Â Â )

Â Â Â Â <span class="hljs-comment">#Â ä¸ºä»£ç†æ·»åŠ Â MCPÂ å·¥å…·ï¼ˆè‹¥å¯ç”¨ï¼‰</span>
Â Â Â Â ifÂ agent.config.enable_mcp:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â é»˜è®¤æ·»åŠ Â OpenHandsÂ çš„Â MCPÂ æœåŠ¡å™¨é…ç½®</span>
Â Â Â Â Â Â Â Â _,Â <span class="hljs-attr">openhands_mcp_stdio_servers</span>Â =Â (
Â Â Â Â Â Â Â Â Â Â Â Â OpenHandsMCPConfigImpl.create_default_mcp_server_config(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â config.mcp_host,Â config,Â None
Â Â Â Â Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â )
Â Â Â Â Â Â Â Â runtime.config.mcp.stdio_servers.extend(openhands_mcp_stdio_servers)

Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å¼‚æ­¥å°†Â MCPÂ å·¥å…·æ·»åŠ åˆ°ä»£ç†</span>
Â Â Â Â Â Â Â Â awaitÂ add_mcp_tools_to_agent(agent,Â runtime,Â memory)

Â Â Â Â <span class="hljs-comment">#Â åŠ è½½å›æ”¾äº‹ä»¶ï¼ˆè‹¥å¯ç”¨è½¨è¿¹å›æ”¾ï¼‰</span>
Â Â Â Â replay_events:Â list<span class="hljs-section">[Event]</span>Â |Â <span class="hljs-attr">None</span>Â =Â None
Â Â Â Â ifÂ config.replay_trajectory_path:
Â Â Â Â Â Â Â Â logger.info('TrajectoryÂ replayÂ isÂ enabled')
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ–­è¨€åˆå§‹ç”¨æˆ·åŠ¨ä½œå¿…é¡»æ˜¯ç©ºåŠ¨ä½œï¼ˆå›æ”¾åœºæ™¯ï¼‰</span>
Â Â Â Â Â Â Â Â assertÂ isinstance(initial_user_action,Â NullAction)
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ä»æŒ‡å®šè·¯å¾„åŠ è½½å›æ”¾æ—¥å¿—å’Œåˆå§‹ç”¨æˆ·åŠ¨ä½œ</span>
Â Â Â Â Â Â Â Â replay_events,Â <span class="hljs-attr">initial_user_action</span>Â =Â load_replay_log(
Â Â Â Â Â Â Â Â Â Â Â Â config.replay_trajectory_path
Â Â Â Â Â Â Â Â )

Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºæ§åˆ¶å™¨å’Œåˆå§‹çŠ¶æ€</span>
Â Â Â Â controller,Â <span class="hljs-attr">initial_state</span>Â =Â create_controller(
Â Â Â Â Â Â Â Â agent,Â runtime,Â config,Â conversation_stats,Â <span class="hljs-attr">replay_events</span>=replay_events
Â Â Â Â )

Â Â Â Â <span class="hljs-comment">#Â æ–­è¨€åˆå§‹ç”¨æˆ·åŠ¨ä½œå¿…é¡»æ˜¯Â ActionÂ å®ä¾‹ï¼Œå¦åˆ™æŠ›å‡ºå¼‚å¸¸</span>
Â Â Â Â assertÂ isinstance(initial_user_action,Â Action),Â (
Â Â Â Â Â Â Â Â f'initialÂ userÂ actionsÂ mustÂ beÂ anÂ Action,Â gotÂ {type(initial_user_action)}'
Â Â Â Â )
Â Â Â Â <span class="hljs-comment">#Â è®°å½•è°ƒè¯•æ—¥å¿—ï¼šæ§åˆ¶å™¨åˆå§‹åŒ–ä¿¡æ¯</span>
Â Â Â Â logger.debug(
Â Â Â Â Â Â Â Â f'AgentÂ ControllerÂ Initialized:Â RunningÂ agentÂ {agent.name},Â modelÂ '
Â Â Â Â Â Â Â Â f'{agent.llm.config.model},Â withÂ actions:Â {initial_user_action}'
Â Â Â Â )

Â Â Â Â <span class="hljs-comment">#Â å‘é€å¯åŠ¨äº‹ä»¶ï¼ˆæ¢å¤ä¼šè¯æˆ–æ–°ä¼šè¯ï¼‰</span>
Â Â Â Â ifÂ initial_stateÂ isÂ notÂ NoneÂ andÂ initial_state.last_error:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ¢å¤ä¹‹å‰çš„ä¼šè¯ï¼ˆå­˜åœ¨å†å²é”™è¯¯ï¼‰</span>
Â Â Â Â Â Â Â Â event_stream.add_event(
Â Â Â Â Â Â Â Â Â Â Â Â MessageAction(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">content</span>=(
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "Let'sÂ getÂ backÂ onÂ track.Â IfÂ youÂ experiencedÂ errorsÂ before,Â doÂ "
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â 'NOTÂ resumeÂ yourÂ task.Â AskÂ meÂ aboutÂ it.'
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ),
Â Â Â Â Â Â Â Â Â Â Â Â ),
Â Â Â Â Â Â Â Â Â Â Â Â EventSource.USER,
Â Â Â Â Â Â Â Â )
Â Â Â Â else:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ–°ä¼šè¯ï¼šæ·»åŠ åˆå§‹ç”¨æˆ·åŠ¨ä½œåˆ°äº‹ä»¶æµ</span>
Â Â Â Â Â Â Â Â event_stream.add_event(initial_user_action,Â EventSource.USER)

Â Â Â Â <span class="hljs-comment">#Â å®šä¹‰äº‹ä»¶å›è°ƒå‡½æ•°ï¼šå¤„ç†ä»£ç†ç­‰å¾…ç”¨æˆ·è¾“å…¥çš„åœºæ™¯</span>
Â Â Â Â defÂ on_event(event:Â Event)Â -&gt;Â None:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â ç›‘å¬ä»£ç†çŠ¶æ€å˜æ›´äº‹ä»¶</span>
Â Â Â Â Â Â Â Â ifÂ isinstance(event,Â AgentStateChangedObservation):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å½“ä»£ç†è¿›å…¥ç­‰å¾…ç”¨æˆ·è¾“å…¥çŠ¶æ€æ—¶</span>
Â Â Â Â Â Â Â Â Â Â Â Â ifÂ <span class="hljs-attr">event.agent_state</span>Â ==Â AgentState.AWAITING_USER_INPUT:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â ifÂ exit_on_message:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â éœ€é€€å‡ºæ—¶å‘é€Â /exitÂ æŒ‡ä»¤</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">message</span>Â =Â <span class="hljs-string">'/exit'</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â elifÂ fake_user_response_fnÂ isÂ None:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è¯»å–çœŸå®ç”¨æˆ·è¾“å…¥</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">message</span>Â =Â read_input(config.cli_multiline_input)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â else:
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è°ƒç”¨æ¨¡æ‹Ÿç”¨æˆ·å“åº”å‡½æ•°</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">message</span>Â =Â fake_user_response_fn(controller.get_state())
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºæ¶ˆæ¯åŠ¨ä½œå¹¶æ·»åŠ åˆ°äº‹ä»¶æµ</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">action</span>Â =Â MessageAction(content=message)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â event_stream.add_event(action,Â EventSource.USER)

Â Â Â Â <span class="hljs-comment">#Â è®¢é˜…äº‹ä»¶æµï¼šæ³¨å†ŒÂ MAINÂ è®¢é˜…è€…å’Œå›è°ƒå‡½æ•°</span>
Â Â Â Â event_stream.subscribe(EventStreamSubscriber.MAIN,Â on_event,Â sid)

Â Â Â Â <span class="hljs-comment">#Â å®šä¹‰ä»£ç†ç»“æŸçŠ¶æ€åˆ—è¡¨</span>
Â Â Â Â <span class="hljs-attr">end_states</span>Â =Â [
Â Â Â Â Â Â Â Â AgentState.FINISHED,
Â Â Â Â Â Â Â Â AgentState.REJECTED,
Â Â Â Â Â Â Â Â AgentState.ERROR,
Â Â Â Â Â Â Â Â AgentState.PAUSED,
Â Â Â Â Â Â Â Â AgentState.STOPPED,
Â Â Â Â ]

Â Â Â Â try:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è¿è¡Œä»£ç†ç›´åˆ°è¿›å…¥ç»“æŸçŠ¶æ€</span>
Â Â Â Â Â Â Â Â awaitÂ run_agent_until_done(controller,Â runtime,Â memory,Â end_states)
Â Â Â Â exceptÂ ExceptionÂ asÂ e:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è®°å½•ä¸»å¾ªç¯å¼‚å¸¸æ—¥å¿—</span>
Â Â Â Â Â Â Â Â logger.error(f'ExceptionÂ inÂ mainÂ loop:Â {e}')

Â Â Â Â <span class="hljs-comment">#Â å…³é—­å‰ä¿å­˜ä¼šè¯ï¼ˆè‹¥é…ç½®æ–‡ä»¶å­˜å‚¨ï¼‰</span>
Â Â Â Â ifÂ config.file_storeÂ isÂ notÂ NoneÂ andÂ config.file_storeÂ !=Â 'memory':
Â Â Â Â Â Â Â Â <span class="hljs-attr">end_state</span>Â =Â controller.get_state()
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â æ³¨æ„ï¼šä¿å­˜çš„çŠ¶æ€ä¸åŒ…å«å§”æ‰˜äº‹ä»¶</span>
Â Â Â Â Â Â Â Â end_state.save_to_session(
Â Â Â Â Â Â Â Â Â Â Â Â event_stream.sid,Â event_stream.file_store,Â event_stream.user_id
Â Â Â Â Â Â Â Â )

Â Â Â Â <span class="hljs-comment">#Â å…³é—­æ§åˆ¶å™¨ï¼ˆä¸è®¾ç½®åœæ­¢çŠ¶æ€ï¼‰</span>
Â Â Â Â awaitÂ controller.close(<span class="hljs-attr">set_stop_state</span>=<span class="hljs-literal">False</span>)

Â Â Â Â <span class="hljs-comment">#Â è·å–æ§åˆ¶å™¨æœ€ç»ˆçŠ¶æ€</span>
Â Â Â Â <span class="hljs-attr">state</span>Â =Â controller.get_state()

Â Â Â Â <span class="hljs-comment">#Â ä¿å­˜æ‰§è¡Œè½¨è¿¹ï¼ˆè‹¥é…ç½®ï¼‰</span>
Â Â Â Â ifÂ config.save_trajectory_pathÂ isÂ notÂ None:
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è‹¥è·¯å¾„æ˜¯æ–‡ä»¶å¤¹ï¼Œåˆ™ä»¥ä¼šè¯IDä¸ºæ–‡ä»¶å</span>
Â Â Â Â Â Â Â Â ifÂ os.path.isdir(config.save_trajectory_path):
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">file_path</span>Â =Â os.path.join(config.save_trajectory_path,Â sidÂ +Â <span class="hljs-string">'.json'</span>)
Â Â Â Â Â Â Â Â else:
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-attr">file_path</span>Â =Â config.save_trajectory_path
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â åˆ›å»ºç›®å½•ï¼ˆå¦‚éœ€ï¼‰</span>
Â Â Â Â Â Â Â Â os.makedirs(os.path.dirname(file_path),Â <span class="hljs-attr">exist_ok</span>=<span class="hljs-literal">True</span>)
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â è·å–æ‰§è¡Œè½¨è¿¹å†å²</span>
Â Â Â Â Â Â Â Â <span class="hljs-attr">histories</span>Â =Â controller.get_trajectory(config.save_screenshots_in_trajectory)
Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â å†™å…¥Â JSONÂ æ–‡ä»¶</span>
Â Â Â Â Â Â Â Â withÂ open(file_path,Â 'w')Â asÂ f:Â Â <span class="hljs-comment">#Â noqa:Â ASYNC101</span>
Â Â Â Â Â Â Â Â Â Â Â Â json.dump(histories,Â f,Â <span class="hljs-attr">indent</span>=<span class="hljs-number">4</span>)

Â Â Â Â <span class="hljs-comment">#Â è¿”å›æœ€ç»ˆçŠ¶æ€</span>
Â Â Â Â returnÂ state
</code></pre>
<h3 data-id="heading-19">0xFF å‚è€ƒ</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.all-hands.dev%2Fopenhands%2Fusage%2Farchitecture%2Fbackend" target="_blank" title="https://docs.all-hands.dev/openhands/usage/architecture/backend" ref="nofollow noopener noreferrer">docs.all-hands.dev/openhands/uâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1936485868761257658" target="_blank" title="https://zhuanlan.zhihu.com/p/1936485868761257658" ref="nofollow noopener noreferrer">å½“AI Agentä»â€œç©å…·â€èµ°å‘â€œå·¥å…·â€ï¼Œæˆ‘ä»¬è¯¥å…³æ³¨ä»€ä¹ˆï¼ŸOpenhandsæ¶æ„è§£æã€ç¬¬äºŒç¯‡ï¼šAgent ç›¸å…³æ ¸å¿ƒæ¦‚å¿µã€‘</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fdreamrenderx" target="_blank" title="https://www.zhihu.com/people/dreamrenderx" ref="nofollow noopener noreferrer">å…‹é‡Œ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1936175201323825087" target="_blank" title="https://zhuanlan.zhihu.com/p/1936175201323825087" ref="nofollow noopener noreferrer">å½“AI Agentä»â€œç©å…·â€èµ°å‘â€œå·¥å…·â€ï¼Œæˆ‘ä»¬è¯¥å…³æ³¨ä»€ä¹ˆï¼ŸOpenhandsæ¶æ„è§£æã€ç¬¬ä¸€ç¯‡ï¼šç³»åˆ—å¯¼è¯»ã€‘</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fdreamrenderx" target="_blank" title="https://www.zhihu.com/people/dreamrenderx" ref="nofollow noopener noreferrer">å…‹é‡Œ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1940436682949244630" target="_blank" title="https://zhuanlan.zhihu.com/p/1940436682949244630" ref="nofollow noopener noreferrer">Coding Agentä¹‹Openhandsè§£æ(å«ä»£ç )</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fwu-long-ming-cha-56" target="_blank" title="https://www.zhihu.com/people/wu-long-ming-cha-56" ref="nofollow noopener noreferrer">Arrow</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1940824548485347192" target="_blank" title="https://zhuanlan.zhihu.com/p/1940824548485347192" ref="nofollow noopener noreferrer">OpenHands æºç è§£è¯»</a> <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.zhihu.com%2Fpeople%2Fxiao-hui-66-72" target="_blank" title="https://www.zhihu.com/people/xiao-hui-66-72" ref="nofollow noopener noreferrer">ä¸€åŠ›è¾‰</a></p>
<p>æœ¬æ–‡ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmarkdown.com.cn" target="_blank" title="https://markdown.com.cn" ref="nofollow noopener noreferrer">markdown.com.cn</a> æ’ç‰ˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OoderAgent P2P ç½‘ç»œæ ¸å¿ƒæŠ€æœ¯æ­ç§˜ï¼šå¤š Agent åä½œå…¥ç½‘æ¶æ„ä¸å…¨é“¾è·¯å®‰å…¨é˜²æŠ¤]]></title>    <link>https://juejin.cn/post/7599679977344974889</link>    <guid>https://juejin.cn/post/7599679977344974889</guid>    <pubDate>2026-01-27T13:19:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599679977344974889" data-draft-id="7599843186202886186" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OoderAgent P2P ç½‘ç»œæ ¸å¿ƒæŠ€æœ¯æ­ç§˜ï¼šå¤š Agent åä½œå…¥ç½‘æ¶æ„ä¸å…¨é“¾è·¯å®‰å…¨é˜²æŠ¤"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-27T13:19:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OoderAgent P2P ç½‘ç»œæ ¸å¿ƒæŠ€æœ¯æ­ç§˜ï¼šå¤š Agent åä½œå…¥ç½‘æ¶æ„ä¸å…¨é“¾è·¯å®‰å…¨é˜²æŠ¤
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T13:19:39.000Z" title="Tue Jan 27 2026 13:19:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h2 data-id="heading-0">ä¸€ã€å¼•è¨€</h2>
<p>æœ¬æ–‡æ¡£æ˜¯ooderAgentçš„ä¸€ç§å‚è€ƒå®ç°ï¼Œè¯¦ç»†ä»‹ç»å…¶P2Pç½‘ç»œæ¶æ„è®¾è®¡ã€å¤šAgentåä½œå…¥ç½‘æœºåˆ¶å’Œå®‰å…¨å®ç°ã€‚ooderAgentæ˜¯ä¸€å¥—åŸºäºMITåè®®çš„å¼€æºAIèƒ½åŠ›åˆ†å‘ä¸è‡ªåŠ¨åŒ–åä½œæ¡†æ¶ï¼Œé€šè¿‡P2Pç½‘ç»œå®ç°åˆ†å¸ƒå¼å­˜å‚¨å’Œåä½œèƒ½åŠ›ã€‚OoderAgent P2P ç½‘ç»œçš„ä¸¤å¤§æ ¸å¿ƒå‘½é¢˜ï¼š<strong>å¦‚ä½•è®©å¼‚æ„ç»ˆç«¯èŠ‚ç‚¹é«˜æ•ˆã€å®‰å…¨åœ°å®Œæˆå…¥ç½‘åä½œ</strong>ï¼Œä»¥åŠ<strong>å¦‚ä½•åœ¨æ— ä¸­å¿ƒæ¶æ„ä¸‹æ„å»ºå¯ä¿¡çš„é€šä¿¡ç¯å¢ƒ</strong>ã€‚æˆ‘ä»¬å°†ä» P2P ç½‘ç»œæ‹“æ‰‘è®¾è®¡ã€å¤š Agent åä½œå…¥ç½‘æœºåˆ¶ã€å…¨é“¾è·¯å®‰å…¨é˜²æŠ¤ä½“ç³»ä¸‰ä¸ªç»´åº¦ï¼Œæ‹†è§£æŠ€æœ¯å®ç°ç»†èŠ‚ï¼›ç»“åˆå®¶åº­ã€ä¼ä¸šã€æ•™è‚²ä¸‰å¤§å…¸å‹åœºæ™¯ï¼Œåˆ†ææ¶æ„è½åœ°çš„å®è·µè·¯å¾„ï¼›åŒæ—¶ç›´é¢åˆ†å¸ƒå¼ç½‘ç»œå›ºæœ‰çš„è´Ÿè½½å‡è¡¡ã€æ¶æ„èŠ‚ç‚¹é˜²å¾¡ç­‰ç—›ç‚¹ï¼Œæå‡ºé’ˆå¯¹æ€§ä¼˜åŒ–æ–¹æ¡ˆã€‚å°½ç®¡æ–‡ç« ç¯‡å¹…è¾ƒé•¿ï¼Œä½†å§‹ç»ˆå›´ç»•ã€Œ<strong>å»ä¸­å¿ƒåŒ–åä½œçš„é«˜æ•ˆæ€§</strong>ã€ä¸ã€Œ<strong>åˆ†å¸ƒå¼é€šä¿¡çš„å®‰å…¨æ€§</strong>ã€ä¸¤å¤§æ ¸å¿ƒå±•å¼€ï¼Œä¸ºå¼€å‘è€…æä¾›ä»æ¶æ„è®¾è®¡åˆ°è½åœ°å®è·µçš„å®Œæ•´æŠ€æœ¯å‚</p>
<h2 data-id="heading-1">äºŒã€P2Pç½‘ç»œæ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-2">2.1 æ ¸å¿ƒç»„ä»¶</h3>
<p>SuperAgentçš„P2Pç½‘ç»œç”±ä¸‰ç§æ ¸å¿ƒAgentç»„æˆï¼š</p>

























<table><thead><tr><th align="left">Agentç±»å‹</th><th align="left">ä¸»è¦èŒè´£</th><th align="left">éƒ¨ç½²ä½ç½®</th></tr></thead><tbody><tr><td align="left">MCP Agent</td><td align="left">èµ„æºç®¡ç†å’Œè°ƒåº¦ï¼Œå¯†é’¥ä¸‹å‘</td><td align="left">ä¸­å¤®æœåŠ¡å™¨</td></tr><tr><td align="left">Route Agent</td><td align="left">æ¶ˆæ¯è·¯ç”±å’Œè½¬å‘ï¼Œä¸´æ—¶Groupç®¡ç†</td><td align="left">è¾¹ç¼˜èŠ‚ç‚¹</td></tr><tr><td align="left">End Agent</td><td align="left">è®¾å¤‡äº¤äº’å’Œæ•°æ®é‡‡é›†ï¼ŒCAPç®¡ç†</td><td align="left">ç»ˆç«¯è®¾å¤‡</td></tr></tbody></table>
<h3 data-id="heading-3">2.2 ç½‘ç»œæ‹“æ‰‘</h3>
<p>ç½‘ç»œé‡‡ç”¨è‡ªç»„ç»‡çš„æ— ä¸­å¿ƒæ‹“æ‰‘ç»“æ„ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li><strong>åŠ¨æ€æ‹“æ‰‘</strong>ï¼šèŠ‚ç‚¹å¯ä»¥éšæ—¶åŠ å…¥æˆ–ç¦»å¼€ç½‘ç»œï¼Œç½‘ç»œä¼šè‡ªåŠ¨è°ƒæ•´</li>
<li><strong>åˆ†å±‚æ¶æ„</strong>ï¼šMCP Agent â†’ Route Agent â†’ End Agent çš„å±‚æ¬¡ç»“æ„</li>
<li><strong>å¯¹ç­‰ç½‘ç»œ</strong>ï¼šRoute Agentä¹‹é—´å½¢æˆå¯¹ç­‰ç½‘ç»œï¼Œå®ç°è´Ÿè½½å‡è¡¡å’Œå®¹é”™</li>
<li><strong>é€»è¾‘éš”ç¦»</strong>ï¼šé€šè¿‡Group/Sceneå®ç°ç½‘ç»œé€šä¿¡çš„é€»è¾‘éš”ç¦»</li>
</ul>
<h4 data-id="heading-4">ç½‘ç»œæ‹“æ‰‘å›¾</h4>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d8131ec7334436096039ab29acc4b07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770124779&amp;x-signature=QlMhsdIFaMX4CfBv%2BFbXnz3TL2Y%3D" alt="ç»ˆç«¯å±‚ è·¯ç”±å±‚ ä¸­å¤®ç®¡ç†å±‚ End Agent 1 End Agent 2 End Agent 3 End Agent 4 Route Agent 1 Route Agent 2 Route Agent 3 MCP Agent 1 MCP Agent 2" loading="lazy"/></p>
<p>â€‹</p>
<h3 data-id="heading-5">2.3 è®¾è®¡åŸåˆ™</h3>
<ul>
<li><strong>å»ä¸­å¿ƒåŒ–</strong>ï¼šé¿å…å•ç‚¹æ•…éšœï¼Œæé«˜ç³»ç»Ÿå¯é æ€§</li>
<li><strong>å®‰å…¨æ€§</strong>ï¼šå¤šå±‚æ¬¡å®‰å…¨æœºåˆ¶ï¼Œç¡®ä¿ç½‘ç»œé€šä¿¡å®‰å…¨</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šæ”¯æŒåŠ¨æ€èŠ‚ç‚¹åŠ å…¥å’Œç¦»å¼€ï¼Œé€‚åº”ç½‘ç»œè§„æ¨¡å˜åŒ–</li>
<li><strong>çµæ´»æ€§</strong>ï¼šé€šè¿‡Group/Sceneå®ç°é€šä¿¡é€»è¾‘éš”ç¦»ï¼Œé€‚åº”ä¸åŒåº”ç”¨åœºæ™¯</li>
</ul>
<h2 data-id="heading-6">ä¸‰ã€å¤šAgentåä½œå…¥ç½‘æœºåˆ¶</h2>
<h3 data-id="heading-7">3.1 Route Agentå¯¹ç­‰ç½‘ç»œå½¢æˆ</h3>
<p>Route Agentå¯¹ç­‰ç½‘ç»œçš„å½¢æˆæ˜¯å¤šAgentåä½œçš„å…³é”®ç¯èŠ‚ï¼š</p>
<ol>
<li><strong>åˆå§‹åŒ–é˜¶æ®µ</strong>ï¼š
<ul>
<li>MCP Agentç”Ÿæˆè‡ªèº«çš„å®‰å…¨å¯†é’¥å¯¹</li>
<li>é…ç½®ç½‘ç»œå®‰å…¨ç­–ç•¥</li>
<li>å‡†å¤‡Route Agentå¯†é’¥ä¸‹å‘æœºåˆ¶</li>
</ul>
</li>
<li><strong>Route AgentåŠ å…¥MCP Agent</strong>ï¼š
<ul>
<li>Route Agentå‘MCP Agentå‘é€åŠ å…¥è¯·æ±‚</li>
<li>MCP AgentéªŒè¯Route Agentèº«ä»½</li>
<li>MCP Agentä¸‹å‘å®‰å…¨å¯†é’¥ç»™Route Agent</li>
<li>Route Agentå­˜å‚¨MCP Agentä¸‹å‘çš„å¯†é’¥</li>
<li>Route Agentä¸å…è®¸è¿æ¥å¤šä¸ªMCP Agentï¼Œé¿å…å®‰å…¨åŸŸæ··æ·†</li>
</ul>
</li>
<li><strong>Route Agentåˆ›å»ºä¸´æ—¶Group</strong>ï¼š
<ul>
<li>Route Agentç”Ÿæˆä¸´æ—¶Group IDå’Œå®‰å…¨å¯†é’¥</li>
<li>åˆ›å»ºGroupå…ƒæ•°æ®ï¼ŒåŒ…æ‹¬åç§°ã€æè¿°ã€å®‰å…¨ç­–ç•¥ç­‰</li>
<li>å¹¿æ’­å®‰å…¨å¯†é’¥åˆ°ç½‘ç»œä¸­çš„End Agentæˆå‘˜</li>
</ul>
</li>
<li><strong>Route Agentå¯¹ç­‰å‘ç°</strong>ï¼š
<ul>
<li>Route Agentå‘é€å¯¹ç­‰ç½‘ç»œå‘ç°è¯·æ±‚</li>
<li>æ¥æ”¶å…¶ä»–Route Agentçš„å“åº”</li>
<li>äº¤æ¢å®‰å…¨å¯†é’¥ï¼Œå½¢æˆå¯¹ç­‰ç½‘ç»œ</li>
<li>å„è‡ªå¹¿æ’­å®‰å…¨å¯†é’¥åˆ°End Agentæˆå‘˜</li>
<li>å¤šä¸ªæ‹¥æœ‰ç›¸åŒSceneå£°æ˜çš„Route Agentå¯ä»¥å…±å­˜äºç½‘ç»œä¸­</li>
</ul>
</li>
</ol>
<h4 data-id="heading-8">Route Agentå¯¹ç­‰ç½‘ç»œå½¢æˆæµç¨‹å›¾</h4>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82888b0b316047dda0beef7af53fe7fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770124779&amp;x-signature=LWAYh3DB6uDM6QhY49mUdiewdMI%3D" alt="MCP Agent Route Agent 1 Route Agent 2 End Agent ç”Ÿæˆå®‰å…¨å¯†é’¥å¯¹ å‘é€åŠ å…¥è¯·æ±‚ éªŒè¯èº«ä»½å¹¶ä¸‹å‘å¯†é’¥ å­˜å‚¨å¯†é’¥ åˆ›å»ºä¸´æ—¶Group å¹¿æ’­å®‰å…¨å¯†é’¥ å‘é€å¯¹ç­‰å‘ç°è¯·æ±‚ å“åº”å¹¶äº¤æ¢å¯†é’¥ å¹¿æ’­å®‰å…¨å¯†é’¥ å¹¿æ’­å®‰å…¨å¯†é’¥ MCP Agent Route Agent 1 Route Agent 2 End Agent" loading="lazy"/></p>
<p>â€‹</p>
<h3 data-id="heading-9">3.2 End Agentå…¥ç½‘æµç¨‹</h3>
<p>End Agentçš„å…¥ç½‘æµç¨‹è®¾è®¡å……åˆ†è€ƒè™‘äº†å®‰å…¨æ€§å’Œä¾¿æ·æ€§ï¼š</p>
<ol>
<li><strong>é¦–æ¬¡å…¥ç½‘</strong>ï¼š
<ul>
<li>End Agentæ¥æ”¶Route Agentå¹¿æ’­çš„å®‰å…¨å¯†é’¥</li>
<li>åˆ›å»ºç›¸åº”çš„CAP (Connection Access Point)</li>
<li>å­˜å‚¨é“¾è·¯ä¿¡æ¯å’Œå¯†é’¥åˆ°CAP</li>
<li>å®Œæˆå®‰å…¨è®¤è¯ï¼ŒåŠ å…¥ç½‘ç»œ</li>
</ul>
</li>
<li><strong>å¯åŠ¨/ç¦»çº¿å†å…¥ç½‘</strong>ï¼š
<ul>
<li>End Agentè¯»å–å­˜å‚¨çš„CAPä¿¡æ¯</li>
<li>å‘é€å…¥ç½‘è¯·æ±‚ï¼Œæºå¸¦CAPä¿¡æ¯</li>
<li>Route AgentéªŒè¯CAPä¿¡æ¯æœ‰æ•ˆæ€§</li>
<li>ä½¿ç”¨CAPä¸­çš„å¯†é’¥å®Œæˆè®¤è¯æŒ‘æˆ˜</li>
<li>å¿«é€ŸåŠ å…¥å¯¹ç­‰ç½‘ç»œ</li>
</ul>
</li>
</ol>
<h4 data-id="heading-10">End Agentå…¥ç½‘æµç¨‹å›¾</h4>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66ecd02fb3e64939a9d8c03d49c02e3f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770124779&amp;x-signature=ZIfr1UhEqZJRTZFkr0tAqUsPuF8%3D" alt="End Agent Route Agent MCP Agent æ¥æ”¶Route Agentå¹¿æ’­çš„å®‰å…¨å¯†é’¥ åˆ›å»ºCAPå¹¶å­˜å‚¨é“¾è·¯ä¿¡æ¯å’Œå¯†é’¥ å‘é€å…¥ç½‘è¯·æ±‚ éªŒè¯CAPä¿¡æ¯ å‘é€è®¤è¯æŒ‘æˆ˜ ä½¿ç”¨CAPä¸­çš„å¯†é’¥ç”Ÿæˆå“åº” å‘é€è®¤è¯å“åº” éªŒè¯å“åº” ç¡®è®¤å…¥ç½‘æˆåŠŸ é€šçŸ¥èŠ‚ç‚¹å…¥ç½‘æˆåŠŸ End Agent Route Agent MCP Agent" loading="lazy"/></p>
<p>â€‹</p>
<h3 data-id="heading-11">3.3 ç½‘ç»œå‘ç°æœºåˆ¶</h3>
<ul>
<li><strong>æœ¬åœ°å‘ç°</strong>ï¼šèŠ‚ç‚¹å¯åŠ¨æ—¶å‘é€UDPå¹¿æ’­ï¼ŒåŒ…å«èŠ‚ç‚¹IDã€èƒ½åŠ›ã€æœç´¢çš„Group ID</li>
<li><strong>å¼•å¯¼èŠ‚ç‚¹å‘ç°</strong>ï¼šæŸ¥è¯¢é…ç½®çš„å¼•å¯¼èŠ‚ç‚¹åˆ—è¡¨ï¼Œè·å–ç½‘ç»œä¿¡æ¯</li>
<li><strong>Groupå‘ç°</strong>ï¼šå‘é€Groupå‘ç°è¯·æ±‚ï¼Œæ¥æ”¶Groupç®¡ç†èŠ‚ç‚¹çš„å“åº”</li>
</ul>
<h4 data-id="heading-12">ç½‘ç»œå‘ç°æµç¨‹å›¾</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ac273d6c94b4365990e3c29506f8ad5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770124779&amp;x-signature=HsfsL9z4zN4CuQ8HJpGk1NPxR80%3D" alt="èŠ‚ç‚¹å¯åŠ¨ å‘é€UDPå¹¿æ’­ æ”¶åˆ°å“åº”? è§£æç½‘ç»œä¿¡æ¯ æŸ¥è¯¢å¼•å¯¼èŠ‚ç‚¹ å¼•å¯¼èŠ‚ç‚¹å“åº”? å‘é€Groupå‘ç°è¯·æ±‚ Groupç®¡ç†èŠ‚ç‚¹å“åº”? ç½‘ç»œå‘ç°å¤±è´¥ åŠ å…¥ç½‘ç»œ" loading="lazy"/></p>
<p>â€‹</p>
<h2 data-id="heading-13">å››ã€å®‰å…¨æœºåˆ¶è®¾è®¡</h2>
<h3 data-id="heading-14">4.1 å¤šå±‚å®‰å…¨æ¶æ„</h3>
<p>ooderAgentçš„P2Pç½‘ç»œé‡‡ç”¨å¤šå±‚å®‰å…¨æ¶æ„ï¼Œç¡®ä¿ç½‘ç»œé€šä¿¡çš„å®‰å…¨æ€§ï¼š</p>
<ol>
<li><strong>èº«ä»½è®¤è¯</strong>ï¼š
<ul>
<li>èŠ‚ç‚¹èº«ä»½ï¼šæ¯ä¸ªèŠ‚ç‚¹æ‹¥æœ‰å”¯ä¸€çš„èº«ä»½æ ‡è¯†å’Œå¯†é’¥å¯¹</li>
<li>æ•°å­—ç­¾åï¼šæ‰€æœ‰æ¶ˆæ¯å’ŒæŠ€èƒ½éƒ½éœ€è¦æ•°å­—ç­¾åéªŒè¯</li>
<li>å¯†é’¥äº¤æ¢ï¼šä½¿ç”¨ECDHç®—æ³•è¿›è¡Œå¯†é’¥äº¤æ¢ï¼Œå»ºç«‹å®‰å…¨é€šä¿¡é€šé“</li>
</ul>
</li>
<li><strong>æ•°æ®åŠ å¯†</strong>ï¼š
<ul>
<li>ä¼ è¾“åŠ å¯†ï¼šèŠ‚ç‚¹é—´é€šä¿¡ä½¿ç”¨TLS 1.3åŠ å¯†</li>
<li>æŠ€èƒ½åŠ å¯†ï¼šå…±äº«çš„æŠ€èƒ½ä»£ç ä½¿ç”¨AES-256åŠ å¯†</li>
<li>æ•°æ®åŠ å¯†ï¼šä¼ è¾“çš„æ•æ„Ÿæ•°æ®ä½¿ç”¨ç«¯åˆ°ç«¯åŠ å¯†</li>
</ul>
</li>
<li><strong>è®¿é—®æ§åˆ¶</strong>ï¼š
<ul>
<li>æŠ€èƒ½è®¿é—®æ§åˆ¶ï¼šæŠ€èƒ½æä¾›è€…å¯ä»¥è®¾ç½®æŠ€èƒ½çš„è®¿é—®æƒé™</li>
<li>æ•°æ®è®¿é—®æ§åˆ¶ï¼šç”¨æˆ·å¯ä»¥æ§åˆ¶æ•°æ®çš„å…±äº«èŒƒå›´</li>
<li>èŠ‚ç‚¹ç™½åå•ï¼šæ”¯æŒè®¾ç½®ä¿¡ä»»èŠ‚ç‚¹ç™½åå•</li>
</ul>
</li>
</ol>
<h4 data-id="heading-15">å¤šå±‚å®‰å…¨æ¶æ„å›¾</h4>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15c90e45e2c64e2789da6f21d34fa6e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770124779&amp;x-signature=699WLcxL7IAVfTCZPZQeT1Sbrcc%3D" alt="ç½‘ç»œå±‚ ä¼ è¾“å±‚ åº”ç”¨å±‚ ç½‘ç»œå±‚å®‰å…¨ èŠ‚ç‚¹è®¤è¯ å¯¹ç­‰åŠ å¯† TLS 1.3åŠ å¯† æ•°å­—ç­¾å ç«¯åˆ°ç«¯åŠ å¯† åº”ç”¨å±‚å®‰å…¨ è®¿é—®æ§åˆ¶ ä»»åŠ¡ä¿æŠ¤" loading="lazy"/></p>
<p>â€‹</p>
<h3 data-id="heading-16">4.2 Route Agentå®‰å…¨æœºåˆ¶</h3>
<p>Route Agentä½œä¸ºç½‘ç»œçš„æ ¸å¿ƒè½¬å‘èŠ‚ç‚¹ï¼Œå…¶å®‰å…¨æœºåˆ¶å°¤ä¸ºé‡è¦ï¼š</p>
<ul>
<li><strong>å•ä¸€MCP Agentè¿æ¥</strong>ï¼šRoute Agentä¸å…è®¸è¿æ¥å¤šä¸ªMCP Agentï¼Œé¿å…å®‰å…¨åŸŸæ··æ·†</li>
<li><strong>å®‰å…¨å¯†é’¥ç®¡ç†</strong>ï¼šåˆ›å»ºä¸´æ—¶Groupæ—¶ç”Ÿæˆå®‰å…¨å¯†é’¥ï¼Œå®šæœŸæ›´æ–°</li>
<li><strong>å¯†é’¥å¹¿æ’­</strong>ï¼šå¹¿æ’­å®‰å…¨å¯†é’¥åˆ°æ‰€æœ‰End Agentæˆå‘˜ï¼Œç¡®ä¿ç½‘ç»œå®‰å…¨</li>
<li><strong>å¯¹ç­‰ç½‘ç»œå®‰å…¨</strong>ï¼šRoute Agentä¹‹é—´äº¤æ¢å®‰å…¨å¯†é’¥ï¼Œå½¢æˆå®‰å…¨çš„å¯¹ç­‰ç½‘ç»œ</li>
<li><strong>MCP Agent P2Pé™åˆ¶</strong>ï¼šMCP Agent P2Påªèƒ½åœ¨åŒä¸€ä¸ªMCP Agentä¸‹å‘èµ·å®‰å…¨P2P</li>
</ul>
<h3 data-id="heading-17">4.3 End Agentå®‰å…¨æœºåˆ¶</h3>
<p>End Agentä½œä¸ºç»ˆç«¯è®¾å¤‡çš„æ¥å£ï¼Œå…¶å®‰å…¨æœºåˆ¶è®¾è®¡æ³¨é‡å®ç”¨æ€§ï¼š</p>
<ul>
<li><strong>CAPç®¡ç†</strong>ï¼šåˆ›å»ºå’Œç®¡ç†Connection Access Pointï¼Œå­˜å‚¨é“¾è·¯ä¿¡æ¯å’Œå¯†é’¥</li>
<li><strong>å¿«é€Ÿé‡è¿</strong>ï¼šä½¿ç”¨CAPä¿¡æ¯å®ç°å¿«é€Ÿå®‰å…¨é‡è¿ï¼Œæé«˜ç”¨æˆ·ä½“éªŒ</li>
<li><strong>å®‰å…¨å­˜å‚¨</strong>ï¼šå®‰å…¨å­˜å‚¨CAPä¿¡æ¯ï¼Œé˜²æ­¢å¯†é’¥æ³„éœ²</li>
<li><strong>è®¤è¯æŒ‘æˆ˜</strong>ï¼šå…¥ç½‘æ—¶ä½¿ç”¨CAPä¸­çš„å¯†é’¥å“åº”è®¤è¯æŒ‘æˆ˜ï¼Œç¡®ä¿èº«ä»½éªŒè¯</li>
</ul>
<h3 data-id="heading-18">4.4 ä¿¡ä»»ç®¡ç†æœºåˆ¶</h3>
<ul>
<li><strong>åˆ†å¸ƒå¼ä¿¡ä»»</strong>ï¼šæ²¡æœ‰ä¸­å¤®ä¿¡ä»»æœºæ„ï¼Œä¿¡ä»»å…³ç³»åˆ†å¸ƒåœ¨ç½‘ç»œèŠ‚ç‚¹ä¸­</li>
<li><strong>ä¿¡ä»»é“¾</strong>ï¼šé€šè¿‡ä¿¡ä»»é“¾ä¼ é€’ä¿¡ä»»å…³ç³»</li>
<li><strong>ä¿¡ä»»åº¦é‡</strong>ï¼šåŸºäºèŠ‚ç‚¹è¡Œä¸ºçš„ä¿¡ä»»åº¦è¯„ä¼°</li>
<li><strong>ä¿¡ä»»ä¼ æ’­</strong>ï¼šåœ¨Groupå†…ä¼ æ’­ä¿¡ä»»ä¿¡æ¯</li>
</ul>
<h4 data-id="heading-19">ä¿¡ä»»ç®¡ç†æµç¨‹å›¾</h4>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/349f74758ebe4c5fa8c810b6ae9733e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770124779&amp;x-signature=KJ%2FHsjSy9m0WMPOyJ4eAuMs3MbE%3D" alt="èŠ‚ç‚¹è¡Œä¸º ä¿¡ä»»åº¦è¯„ä¼° ä¿¡ä»»æ›´æ–° ä¿¡ä»»ä¼ æ’­ ä¿¡ä»»ç½‘ç»œ è®¿é—®æ§åˆ¶" loading="lazy"/></p>
<p>â€‹</p>
<h2 data-id="heading-20">äº”ã€æŠ€æœ¯å®ç°ç»†èŠ‚</h2>
<h3 data-id="heading-21">5.1 æ ¸å¿ƒç»„ä»¶å®ç°</h3>


















































<table><thead><tr><th align="left">ç»„ä»¶</th><th align="left">èŒè´£</th><th align="left">å…³é”®åŠŸèƒ½</th></tr></thead><tbody><tr><td align="left">RouteAgentManager</td><td align="left">ç®¡ç†Route Agentå¯¹ç­‰ç½‘ç»œ</td><td align="left">å¯¹ç­‰å‘ç°ã€å®‰å…¨å¯†é’¥äº¤æ¢ã€ä¸´æ—¶Groupç®¡ç†</td></tr><tr><td align="left">MCPClientService</td><td align="left">å¤„ç†ä¸MCP Agentçš„è¿æ¥</td><td align="left">å¯†é’¥ä¸‹å‘ã€è¿æ¥ç®¡ç†ã€æƒé™éªŒè¯</td></tr><tr><td align="left">CAPManager</td><td align="left">ç®¡ç†End Agentçš„è¿æ¥è®¿é—®ç‚¹</td><td align="left">CAPåˆ›å»ºã€å­˜å‚¨ã€éªŒè¯ã€å¿«é€Ÿé‡è¿</td></tr><tr><td align="left">SecurityService</td><td align="left">åŠ å¯†ã€ç­¾åå’Œå®‰å…¨ç­–ç•¥ç®¡ç†</td><td align="left">å¯†é’¥ç”Ÿæˆã€æ•°æ®åŠ å¯†ã€ç­¾åéªŒè¯</td></tr><tr><td align="left">DiscoveryService</td><td align="left">èŠ‚ç‚¹å’Œç½‘ç»œçš„è‡ªåŠ¨å‘ç°</td><td align="left">UDPå¹¿æ’­ã€èŠ‚ç‚¹åˆ—è¡¨äº¤æ¢ã€ç½‘ç»œæ‹“æ‰‘æ„å»º</td></tr><tr><td align="left">GroupManager</td><td align="left">Groupç®¡ç†</td><td align="left">Groupåˆ›å»ºã€æˆå‘˜ç®¡ç†ã€å®‰å…¨ç­–ç•¥é…ç½®</td></tr><tr><td align="left">SceneManager</td><td align="left">Sceneç®¡ç†</td><td align="left">Sceneåˆ›å»ºã€è§„åˆ™é…ç½®ã€é€šä¿¡éš”ç¦»</td></tr><tr><td align="left">TrustManager</td><td align="left">ä¿¡ä»»ç®¡ç†</td><td align="left">ä¿¡ä»»åº¦è¯„ä¼°ã€ä¿¡ä»»ä¼ æ’­ã€å¼‚å¸¸æ£€æµ‹</td></tr></tbody></table>
<h3 data-id="heading-22">5.2 å…³é”®æ¶ˆæ¯æ ¼å¼</h3>
<h4 data-id="heading-23">Route Agentå¯¹ç­‰ç½‘ç»œå‘ç°æ¶ˆæ¯</h4>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-string">"type"</span>: <span class="hljs-string">"ROUTE_AGENT_DISCOVERY"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0"</span>,
  <span class="hljs-string">"timestamp"</span>: <span class="hljs-string">"2026-01-27T12:00:00Z"</span>,
  <span class="hljs-string">"sender"</span>: <span class="hljs-string">"route_agent_id"</span>,
  <span class="hljs-string">"payload"</span>: {
    <span class="hljs-string">"scene_ids"</span>: [<span class="hljs-string">"scene1"</span>, <span class="hljs-string">"scene2"</span>],
    <span class="hljs-string">"capabilities"</span>: [<span class="hljs-string">"routing"</span>, <span class="hljs-string">"security"</span>],
    <span class="hljs-string">"mcp_agent_id"</span>: <span class="hljs-string">"mcp_agent_id"</span>
  },
  <span class="hljs-string">"signature"</span>: <span class="hljs-string">"digital_signature"</span>
}
</code></pre>
<h4 data-id="heading-24">å®‰å…¨å¯†é’¥å¹¿æ’­æ¶ˆæ¯</h4>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-string">"type"</span>: <span class="hljs-string">"SECURITY_KEY_BROADCAST"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0"</span>,
  <span class="hljs-string">"timestamp"</span>: <span class="hljs-string">"2026-01-27T12:00:00Z"</span>,
  <span class="hljs-string">"sender"</span>: <span class="hljs-string">"route_agent_id"</span>,
  <span class="hljs-string">"payload"</span>: {
    <span class="hljs-string">"group_id"</span>: <span class="hljs-string">"group_uuid"</span>,
    <span class="hljs-string">"security_key"</span>: <span class="hljs-string">"encrypted_security_key"</span>,
    <span class="hljs-string">"key_expiry"</span>: <span class="hljs-string">"2026-01-28T12:00:00Z"</span>
  },
  <span class="hljs-string">"signature"</span>: <span class="hljs-string">"digital_signature"</span>
}
</code></pre>
<h4 data-id="heading-25">End Agent CAPåˆ›å»ºæ¶ˆæ¯</h4>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-string">"type"</span>: <span class="hljs-string">"CAP_CREATE"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0"</span>,
  <span class="hljs-string">"timestamp"</span>: <span class="hljs-string">"2026-01-27T12:00:00Z"</span>,
  <span class="hljs-string">"sender"</span>: <span class="hljs-string">"end_agent_id"</span>,
  <span class="hljs-string">"payload"</span>: {
    <span class="hljs-string">"group_id"</span>: <span class="hljs-string">"group_uuid"</span>,
    <span class="hljs-string">"link_info"</span>: {
      <span class="hljs-string">"route_agent_id"</span>: <span class="hljs-string">"route_agent_id"</span>,
      <span class="hljs-string">"ip_address"</span>: <span class="hljs-string">"192.168.1.100"</span>,
      <span class="hljs-string">"port"</span>: <span class="hljs-number">7777</span>,
      <span class="hljs-string">"protocol"</span>: <span class="hljs-string">"tcp"</span>
    },
    <span class="hljs-string">"security_key"</span>: <span class="hljs-string">"encrypted_security_key"</span>
  },
  <span class="hljs-string">"signature"</span>: <span class="hljs-string">"digital_signature"</span>
}
</code></pre>
<h4 data-id="heading-26">MCP AgentåŠ å…¥æ¶ˆæ¯</h4>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-string">"type"</span>: <span class="hljs-string">"MCP_AGENT_JOIN"</span>,
  <span class="hljs-string">"version"</span>: <span class="hljs-string">"1.0"</span>,
  <span class="hljs-string">"timestamp"</span>: <span class="hljs-string">"2026-01-27T12:00:00Z"</span>,
  <span class="hljs-string">"sender"</span>: <span class="hljs-string">"route_agent_id"</span>,
  <span class="hljs-string">"receiver"</span>: <span class="hljs-string">"mcp_agent_id"</span>,
  <span class="hljs-string">"payload"</span>: {
    <span class="hljs-string">"route_agent_id"</span>: <span class="hljs-string">"route_agent_id"</span>,
    <span class="hljs-string">"capabilities"</span>: [<span class="hljs-string">"routing"</span>, <span class="hljs-string">"security"</span>],
    <span class="hljs-string">"auth_info"</span>: <span class="hljs-string">"encrypted_auth_info"</span>
  },
  <span class="hljs-string">"signature"</span>: <span class="hljs-string">"digital_signature"</span>
}
</code></pre>
<h3 data-id="heading-27">5.3 å…³é”®æ¥å£è®¾è®¡</h3>



















































































<table><thead><tr><th align="left">æ¥å£</th><th align="left">åŠŸèƒ½</th><th align="left">å‚æ•°</th><th align="left">è¿”å›å€¼</th></tr></thead><tbody><tr><td align="left">joinMCPAgent()</td><td align="left">Route AgentåŠ å…¥MCP Agent</td><td align="left">MCP Agentåœ°å€, è®¤è¯ä¿¡æ¯</td><td align="left">åŠ å…¥ç»“æœ</td></tr><tr><td align="left">createRouteAgentPeerNetwork()</td><td align="left">åˆ›å»ºRoute Agentå¯¹ç­‰ç½‘ç»œ</td><td align="left">Route Agentåˆ—è¡¨</td><td align="left">ç½‘ç»œID</td></tr><tr><td align="left">broadcastSecurityKey()</td><td align="left">å¹¿æ’­å®‰å…¨å¯†é’¥</td><td align="left">Group ID, å®‰å…¨å¯†é’¥</td><td align="left">å¹¿æ’­ç»“æœ</td></tr><tr><td align="left">createCAP()</td><td align="left">åˆ›å»ºEnd Agent CAP</td><td align="left">Group ID, å®‰å…¨å¯†é’¥, é“¾è·¯ä¿¡æ¯</td><td align="left">CAP ID</td></tr><tr><td align="left">joinNetworkWithCAP()</td><td align="left">ä½¿ç”¨CAPåŠ å…¥ç½‘ç»œ</td><td align="left">CAP ID, CAPä¿¡æ¯</td><td align="left">åŠ å…¥ç»“æœ</td></tr><tr><td align="left">getMCPClientStatus()</td><td align="left">è·å–MCP Agentå®¢æˆ·ç«¯çŠ¶æ€</td><td align="left">æ— </td><td align="left">çŠ¶æ€ä¿¡æ¯</td></tr><tr><td align="left">createGroup()</td><td align="left">åˆ›å»ºæ–°çš„Group</td><td align="left">Groupå…ƒæ•°æ®</td><td align="left">Group ID</td></tr><tr><td align="left">joinGroup()</td><td align="left">åŠ å…¥æŒ‡å®šGroup</td><td align="left">Group ID, é‚€è¯·ç </td><td align="left">åŠ å…¥ç»“æœ</td></tr><tr><td align="left">createScene()</td><td align="left">åœ¨Groupå†…åˆ›å»ºScene</td><td align="left">Group ID, Sceneå…ƒæ•°æ®</td><td align="left">Scene ID</td></tr><tr><td align="left">joinScene()</td><td align="left">åŠ å…¥æŒ‡å®šScene</td><td align="left">Group ID, Scene ID</td><td align="left">åŠ å…¥ç»“æœ</td></tr><tr><td align="left">getTrustLevel()</td><td align="left">è·å–èŠ‚ç‚¹ä¿¡ä»»åº¦</td><td align="left">èŠ‚ç‚¹ID</td><td align="left">ä¿¡ä»»åº¦å€¼</td></tr><tr><td align="left">updateTrustLevel()</td><td align="left">æ›´æ–°èŠ‚ç‚¹ä¿¡ä»»åº¦</td><td align="left">èŠ‚ç‚¹ID, ä¿¡ä»»åº¦å˜åŒ–</td><td align="left">æ›´æ–°ç»“æœ</td></tr></tbody></table>
<h3 data-id="heading-28">5.4 ä»£ç å®ç°ç¤ºä¾‹</h3>
<h4 data-id="heading-29">EndAgentå®ç°ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript">package net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">agent</span>.<span class="hljs-property">impl</span>;

<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">agent</span>.<span class="hljs-property">EndAgent</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">packet</span>.<span class="hljs-property">TaskPacket</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">packet</span>.<span class="hljs-property">ResponsePacket</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">packet</span>.<span class="hljs-property">ResponsePacketBuilder</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">network</span>.<span class="hljs-property">udp</span>.<span class="hljs-property">UDPSDK</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">enums</span>.<span class="hljs-property">EndAgentStatus</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">enums</span>.<span class="hljs-property">ResponseStatus</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">security</span>.<span class="hljs-property">EncryptionUtil</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">slf4j</span>.<span class="hljs-property">Logger</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">slf4j</span>.<span class="hljs-property">LoggerFactory</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">Map</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">CompletableFuture</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">ExecutorService</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">Executors</span>;

public <span class="hljs-keyword">class</span> <span class="hljs-title class_">EndAgentImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">AbstractEndAgent</span> {
    private <span class="hljs-keyword">static</span> final <span class="hljs-title class_">Logger</span> log = <span class="hljs-title class_">LoggerFactory</span>.<span class="hljs-title function_">getLogger</span>(<span class="hljs-title class_">EndAgentImpl</span>.<span class="hljs-property">class</span>);
    private final <span class="hljs-title class_">Map</span> taskCache;
    
    public <span class="hljs-title class_">EndAgentImpl</span>(<span class="hljs-variable constant_">UDPSDK</span> udpSDK, <span class="hljs-title class_">String</span> agentId, <span class="hljs-title class_">String</span> agentName, <span class="hljs-title class_">Map</span> capabilities) {
        <span class="hljs-variable language_">super</span>(udpSDK, agentId, agentName, <span class="hljs-string">"EndAgent"</span>, capabilities);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskCache</span> = <span class="hljs-keyword">new</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">ConcurrentHashMap</span>&lt;&gt;();
    }
    
    @<span class="hljs-title class_">Override</span>
    protected <span class="hljs-title class_">ResponsePacket</span> <span class="hljs-title function_">createResponse</span>(<span class="hljs-params">TaskPacket taskPacket, boolean success, <span class="hljs-built_in">String</span> message</span>) {
        <span class="hljs-comment">// ç¼“å­˜ä»»åŠ¡</span>
        taskCache.<span class="hljs-title function_">put</span>(taskPacket.<span class="hljs-title function_">getTaskId</span>(), taskPacket);
        
        <span class="hljs-comment">// åˆ›å»ºå“åº”</span>
        <span class="hljs-title class_">ResponseStatus</span> status = success ? <span class="hljs-title class_">ResponseStatus</span>.<span class="hljs-property">SUCCESS</span> : <span class="hljs-title class_">ResponseStatus</span>.<span class="hljs-property">FAILURE</span>;
        
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ResponsePacketBuilder</span>.<span class="hljs-title function_">builder</span>()
            .<span class="hljs-title function_">taskId</span>(taskPacket.<span class="hljs-title function_">getTaskId</span>())
            .<span class="hljs-title function_">status</span>(status)
            .<span class="hljs-title function_">message</span>(message)
            .<span class="hljs-title function_">data</span>(<span class="hljs-title function_">processTaskData</span>(taskPacket))
            .<span class="hljs-title function_">timestamp</span>(<span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>())
            .<span class="hljs-title function_">build</span>();
    }
    
    private <span class="hljs-title class_">String</span> <span class="hljs-title function_">processTaskData</span>(<span class="hljs-params">TaskPacket taskPacket</span>) {
        <span class="hljs-comment">// æ ¹æ®ä»»åŠ¡ç±»å‹å¤„ç†æ•°æ®</span>
        <span class="hljs-title class_">String</span> taskType = taskPacket.<span class="hljs-title function_">getTaskType</span>();
        <span class="hljs-title class_">Map</span> params = taskPacket.<span class="hljs-title function_">getParams</span>();
        
        <span class="hljs-keyword">switch</span> (taskType) {
            <span class="hljs-keyword">case</span> <span class="hljs-string">"skill_invoke"</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">processSkillInvoke</span>(params);
            <span class="hljs-keyword">case</span> <span class="hljs-string">"data_collection"</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">processDataCollection</span>(params);
            <span class="hljs-keyword">case</span> <span class="hljs-string">"device_control"</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">processDeviceControl</span>(params);
            <span class="hljs-attr">default</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"Unknown task type: "</span> + taskType;
        }
    }
    
    private <span class="hljs-title class_">String</span> <span class="hljs-title function_">processSkillInvoke</span>(<span class="hljs-params"><span class="hljs-built_in">Map</span> params</span>) {
        <span class="hljs-title class_">String</span> skillName = (<span class="hljs-title class_">String</span>) params.<span class="hljs-title function_">get</span>(<span class="hljs-string">"skill"</span>);
        <span class="hljs-title class_">Map</span> skillParams = (<span class="hljs-title class_">Map</span>) params.<span class="hljs-title function_">get</span>(<span class="hljs-string">"params"</span>);
        
        <span class="hljs-comment">// è°ƒç”¨æŠ€èƒ½é€»è¾‘</span>
        log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Invoking skill: {} with params: {}"</span>, skillName, skillParams);
        
        <span class="hljs-comment">// æ¨¡æ‹ŸæŠ€èƒ½æ‰§è¡Œ</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Skill "</span> + skillName + <span class="hljs-string">" invoked successfully"</span>;
    }
    
    private <span class="hljs-title class_">String</span> <span class="hljs-title function_">processDataCollection</span>(<span class="hljs-params"><span class="hljs-built_in">Map</span> params</span>) {
        <span class="hljs-title class_">String</span> dataType = (<span class="hljs-title class_">String</span>) params.<span class="hljs-title function_">get</span>(<span class="hljs-string">"dataType"</span>);
        
        <span class="hljs-comment">// æ•°æ®é‡‡é›†é€»è¾‘</span>
        log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Collecting data of type: {}"</span>, dataType);
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿæ•°æ®é‡‡é›†</span>
        <span class="hljs-title class_">Map</span> collectedData = <span class="hljs-keyword">new</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">HashMap</span>&lt;&gt;();
        collectedData.<span class="hljs-title function_">put</span>(<span class="hljs-string">"type"</span>, dataType);
        collectedData.<span class="hljs-title function_">put</span>(<span class="hljs-string">"timestamp"</span>, <span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>());
        collectedData.<span class="hljs-title function_">put</span>(<span class="hljs-string">"value"</span>, <span class="hljs-string">"Sample data"</span>);
        
        <span class="hljs-keyword">return</span> collectedData.<span class="hljs-title function_">toString</span>();
    }
    
    private <span class="hljs-title class_">String</span> <span class="hljs-title function_">processDeviceControl</span>(<span class="hljs-params"><span class="hljs-built_in">Map</span> params</span>) {
        <span class="hljs-title class_">String</span> deviceId = (<span class="hljs-title class_">String</span>) params.<span class="hljs-title function_">get</span>(<span class="hljs-string">"deviceId"</span>);
        <span class="hljs-title class_">String</span> command = (<span class="hljs-title class_">String</span>) params.<span class="hljs-title function_">get</span>(<span class="hljs-string">"command"</span>);
        
        <span class="hljs-comment">// è®¾å¤‡æ§åˆ¶é€»è¾‘</span>
        log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Controlling device {} with command: {}"</span>, deviceId, command);
        
        <span class="hljs-comment">// æ¨¡æ‹Ÿè®¾å¤‡æ§åˆ¶</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Device "</span> + deviceId + <span class="hljs-string">" controlled with command: "</span> + command;
    }
}
</code></pre>
<h4 data-id="heading-30">RouteAgentå®ç°ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript">package net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">agent</span>.<span class="hljs-property">impl</span>;

<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">agent</span>.<span class="hljs-property">RouteAgent</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">packet</span>.<span class="hljs-property">AuthPacket</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">packet</span>.<span class="hljs-property">TaskPacket</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">packet</span>.<span class="hljs-property">RoutePacket</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">network</span>.<span class="hljs-property">udp</span>.<span class="hljs-property">SendResult</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">network</span>.<span class="hljs-property">udp</span>.<span class="hljs-property">UDPSDK</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">scene</span>.<span class="hljs-property">SceneDefinition</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">scene</span>.<span class="hljs-property">SceneMember</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">security</span>.<span class="hljs-property">EncryptionUtil</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">slf4j</span>.<span class="hljs-property">Logger</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">slf4j</span>.<span class="hljs-property">LoggerFactory</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">List</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">Map</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">CompletableFuture</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">atomic</span>.<span class="hljs-property">AtomicBoolean</span>;

public <span class="hljs-keyword">class</span> <span class="hljs-title class_">RouteAgentImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">AbstractRouteAgent</span> {
    private <span class="hljs-keyword">static</span> final <span class="hljs-title class_">Logger</span> log = <span class="hljs-title class_">LoggerFactory</span>.<span class="hljs-title function_">getLogger</span>(<span class="hljs-title class_">RouteAgentImpl</span>.<span class="hljs-property">class</span>);
    private final <span class="hljs-title class_">Map</span> forwardedTasks;
    
    public <span class="hljs-title class_">RouteAgentImpl</span>(<span class="hljs-variable constant_">UDPSDK</span> udpSDK, <span class="hljs-title class_">String</span> agentId, <span class="hljs-title class_">String</span> agentName, <span class="hljs-title class_">Map</span> capabilities) {
        <span class="hljs-variable language_">super</span>(udpSDK, agentId, agentName, capabilities);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">forwardedTasks</span> = <span class="hljs-keyword">new</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">ConcurrentHashMap</span>&lt;&gt;();
    }
    
    @<span class="hljs-title class_">Override</span>
    public <span class="hljs-title class_">CompletableFuture</span> <span class="hljs-title function_">register</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> targetMcpId</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">CompletableFuture</span>.<span class="hljs-title function_">supplyAsync</span>(() -&gt; {
            <span class="hljs-keyword">try</span> {
                log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Registering RouteAgent {} to MCP Agent {}"</span>, <span class="hljs-title function_">getAgentId</span>(), targetMcpId);
                
                <span class="hljs-comment">// ç”Ÿæˆè®¤è¯æ•°æ®åŒ…</span>
                <span class="hljs-title class_">AuthPacket</span> authPacket = <span class="hljs-title class_">AuthPacket</span>.<span class="hljs-title function_">builder</span>()
                    .<span class="hljs-title function_">agentId</span>(<span class="hljs-title function_">getAgentId</span>())
                    .<span class="hljs-title function_">agentName</span>(<span class="hljs-title function_">getAgentName</span>())
                    .<span class="hljs-title function_">agentType</span>(<span class="hljs-title function_">getAgentType</span>())
                    .<span class="hljs-title function_">capabilities</span>(<span class="hljs-title function_">getCapabilities</span>())
                    .<span class="hljs-title function_">timestamp</span>(<span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>())
                    .<span class="hljs-title function_">build</span>();
                
                <span class="hljs-comment">// åŠ å¯†è®¤è¯æ•°æ®</span>
                <span class="hljs-title class_">String</span> encryptedData = <span class="hljs-title class_">EncryptionUtil</span>.<span class="hljs-title function_">encrypt</span>(authPacket.<span class="hljs-title function_">toString</span>(), <span class="hljs-title function_">getEncryptionKey</span>());
                authPacket.<span class="hljs-title function_">setEncryptedData</span>(encryptedData);
                
                <span class="hljs-comment">// å‘é€æ³¨å†Œè¯·æ±‚</span>
                <span class="hljs-title class_">SendResult</span> result = <span class="hljs-title function_">getUdpSDK</span>().<span class="hljs-title function_">sendAuthRequest</span>(targetMcpId, authPacket);
                
                <span class="hljs-keyword">if</span> (result.<span class="hljs-title function_">isSuccess</span>()) {
                    <span class="hljs-title function_">setMcpAgentId</span>(targetMcpId);
                    <span class="hljs-title function_">setRegistered</span>(<span class="hljs-literal">true</span>);
                    log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"RouteAgent {} registered successfully to MCP Agent {}"</span>, <span class="hljs-title function_">getAgentId</span>(), targetMcpId);
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                } <span class="hljs-keyword">else</span> {
                    log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Failed to register RouteAgent {}: {}"</span>, <span class="hljs-title function_">getAgentId</span>(), result.<span class="hljs-title function_">getMessage</span>());
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }
            } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
                log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error registering RouteAgent: {}"</span>, e.<span class="hljs-title function_">getMessage</span>());
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }, <span class="hljs-title function_">getExecutorService</span>());
    }
    
    @<span class="hljs-title class_">Override</span>
    public <span class="hljs-title class_">CompletableFuture</span> <span class="hljs-title function_">forwardTask</span>(<span class="hljs-params">TaskPacket taskPacket, <span class="hljs-built_in">String</span> endAgentId</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">CompletableFuture</span>.<span class="hljs-title function_">supplyAsync</span>(() -&gt; {
            <span class="hljs-keyword">try</span> {
                log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Forwarding task {} from EndAgent {} via RouteAgent {}"</span>, 
                    taskPacket.<span class="hljs-title function_">getTaskId</span>(), endAgentId, <span class="hljs-title function_">getAgentId</span>());
                
                <span class="hljs-comment">// ç¼“å­˜è½¬å‘çš„ä»»åŠ¡</span>
                forwardedTasks.<span class="hljs-title function_">put</span>(taskPacket.<span class="hljs-title function_">getTaskId</span>(), taskPacket);
                
                <span class="hljs-comment">// æ£€æŸ¥EndAgentæ˜¯å¦åœ¨çº¿</span>
                <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">getEndAgentRoutes</span>().<span class="hljs-title function_">containsKey</span>(endAgentId)) {
                    log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"EndAgent {} not found in route table"</span>, endAgentId);
                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SendResult</span>(<span class="hljs-literal">false</span>, <span class="hljs-string">"EndAgent not found"</span>);
                }
                
                <span class="hljs-comment">// è½¬å‘ä»»åŠ¡</span>
                <span class="hljs-keyword">return</span> <span class="hljs-title function_">getUdpSDK</span>().<span class="hljs-title function_">forwardTask</span>(taskPacket, endAgentId);
            } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
                log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error forwarding task: {}"</span>, e.<span class="hljs-title function_">getMessage</span>());
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SendResult</span>(<span class="hljs-literal">false</span>, e.<span class="hljs-title function_">getMessage</span>());
            }
        }, <span class="hljs-title function_">getExecutorService</span>());
    }
}
</code></pre>
<h4 data-id="heading-31">P2Pç½‘ç»œå‘ç°å®ç°ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript">package net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">network</span>.<span class="hljs-property">discovery</span>;

<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">network</span>.<span class="hljs-property">udp</span>.<span class="hljs-property">UDPSDK</span>;
<span class="hljs-keyword">import</span> net.<span class="hljs-property">ooder</span>.<span class="hljs-property">sdk</span>.<span class="hljs-property">packet</span>.<span class="hljs-property">DiscoveryPacket</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">slf4j</span>.<span class="hljs-property">Logger</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">slf4j</span>.<span class="hljs-property">LoggerFactory</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">net</span>.<span class="hljs-property">DatagramPacket</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">net</span>.<span class="hljs-property">DatagramSocket</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">net</span>.<span class="hljs-property">InetAddress</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">CompletableFuture</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">ExecutorService</span>;
<span class="hljs-keyword">import</span> java.<span class="hljs-property">util</span>.<span class="hljs-property">concurrent</span>.<span class="hljs-property">Executors</span>;

public <span class="hljs-keyword">class</span> <span class="hljs-title class_">P2PDiscoveryService</span> {
    private <span class="hljs-keyword">static</span> final <span class="hljs-title class_">Logger</span> log = <span class="hljs-title class_">LoggerFactory</span>.<span class="hljs-title function_">getLogger</span>(P2PDiscoveryService.<span class="hljs-property">class</span>);
    private <span class="hljs-keyword">static</span> final int <span class="hljs-variable constant_">DISCOVERY_PORT</span> = <span class="hljs-number">7777</span>;
    private <span class="hljs-keyword">static</span> final int <span class="hljs-variable constant_">DISCOVERY_INTERVAL</span> = <span class="hljs-number">5000</span>; <span class="hljs-comment">// 5ç§’</span>
    private final <span class="hljs-variable constant_">UDPSDK</span> udpSDK;
    private final <span class="hljs-title class_">ExecutorService</span> executorService;
    private volatile boolean running;
    
    public <span class="hljs-title function_">P2PDiscoveryService</span>(<span class="hljs-params">UDPSDK udpSDK</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">udpSDK</span> = udpSDK;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">executorService</span> = <span class="hljs-title class_">Executors</span>.<span class="hljs-title function_">newSingleThreadExecutor</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">running</span> = <span class="hljs-literal">false</span>;
    }
    
    public <span class="hljs-keyword">void</span> <span class="hljs-title function_">start</span>(<span class="hljs-params"/>) {
        running = <span class="hljs-literal">true</span>;
        executorService.<span class="hljs-title function_">submit</span>(<span class="hljs-attr">this</span>::discoveryLoop);
        log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"P2P discovery service started"</span>);
    }
    
    public <span class="hljs-keyword">void</span> <span class="hljs-title function_">stop</span>(<span class="hljs-params"/>) {
        running = <span class="hljs-literal">false</span>;
        executorService.<span class="hljs-title function_">shutdown</span>();
        log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"P2P discovery service stopped"</span>);
    }
    
    private <span class="hljs-keyword">void</span> <span class="hljs-title function_">discoveryLoop</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">try</span> (<span class="hljs-title class_">DatagramSocket</span> socket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatagramSocket</span>()) {
            socket.<span class="hljs-title function_">setBroadcast</span>(<span class="hljs-literal">true</span>);
            
            <span class="hljs-keyword">while</span> (running) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-comment">// å‘é€å‘ç°å¹¿æ’­</span>
                    <span class="hljs-title function_">sendDiscoveryBroadcast</span>(socket);
                    
                    <span class="hljs-comment">// æ¥æ”¶å“åº”</span>
                    <span class="hljs-title function_">receiveDiscoveryResponses</span>(socket);
                    
                    <span class="hljs-comment">// ç­‰å¾…ä¸‹ä¸€æ¬¡å‘ç°</span>
                    <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">sleep</span>(<span class="hljs-variable constant_">DISCOVERY_INTERVAL</span>);
                } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">InterruptedException</span> e) {
                    <span class="hljs-title class_">Thread</span>.<span class="hljs-title function_">currentThread</span>().<span class="hljs-title function_">interrupt</span>();
                    <span class="hljs-keyword">break</span>;
                } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
                    log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error in discovery loop: {}"</span>, e.<span class="hljs-title function_">getMessage</span>());
                }
            }
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
            log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error starting discovery service: {}"</span>, e.<span class="hljs-title function_">getMessage</span>());
        }
    }
    
    private <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendDiscoveryBroadcast</span>(<span class="hljs-title class_">DatagramSocket</span> socket) throws <span class="hljs-title class_">Exception</span> {
        <span class="hljs-title class_">DiscoveryPacket</span> packet = <span class="hljs-title class_">DiscoveryPacket</span>.<span class="hljs-title function_">builder</span>()
            .<span class="hljs-title function_">type</span>(<span class="hljs-string">"DISCOVERY_REQUEST"</span>)
            .<span class="hljs-title function_">senderId</span>(udpSDK.<span class="hljs-title function_">getAgentId</span>())
            .<span class="hljs-title function_">senderType</span>(udpSDK.<span class="hljs-title function_">getAgentType</span>())
            .<span class="hljs-title function_">timestamp</span>(<span class="hljs-title class_">System</span>.<span class="hljs-title function_">currentTimeMillis</span>())
            .<span class="hljs-title function_">build</span>();
        
        byte[] data = packet.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">getBytes</span>();
        <span class="hljs-title class_">DatagramPacket</span> datagramPacket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatagramPacket</span>(
            data, data.<span class="hljs-property">length</span>,
            <span class="hljs-title class_">InetAddress</span>.<span class="hljs-title function_">getByName</span>(<span class="hljs-string">"255.255.255.255"</span>),
            <span class="hljs-variable constant_">DISCOVERY_PORT</span>
        );
        
        socket.<span class="hljs-title function_">send</span>(datagramPacket);
        log.<span class="hljs-title function_">debug</span>(<span class="hljs-string">"Sent discovery broadcast"</span>);
    }
    
    private <span class="hljs-keyword">void</span> <span class="hljs-title function_">receiveDiscoveryResponses</span>(<span class="hljs-title class_">DatagramSocket</span> socket) throws <span class="hljs-title class_">Exception</span> {
        byte[] buffer = <span class="hljs-keyword">new</span> byte[<span class="hljs-number">4096</span>];
        <span class="hljs-title class_">DatagramPacket</span> packet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatagramPacket</span>(buffer, buffer.<span class="hljs-property">length</span>);
        
        socket.<span class="hljs-title function_">setSoTimeout</span>(<span class="hljs-number">1000</span>);
        <span class="hljs-keyword">try</span> {
            socket.<span class="hljs-title function_">receive</span>(packet);
            <span class="hljs-title class_">String</span> response = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(packet.<span class="hljs-title function_">getData</span>(), <span class="hljs-number">0</span>, packet.<span class="hljs-title function_">getLength</span>());
            log.<span class="hljs-title function_">debug</span>(<span class="hljs-string">"Received discovery response: {}"</span>, response);
            
            <span class="hljs-comment">// å¤„ç†å“åº”</span>
            <span class="hljs-title function_">processDiscoveryResponse</span>(response, packet.<span class="hljs-title function_">getAddress</span>());
        } <span class="hljs-keyword">catch</span> (java.<span class="hljs-property">net</span>.<span class="hljs-property">SocketTimeoutException</span> e) {
            <span class="hljs-comment">// æ­£å¸¸è¶…æ—¶ï¼Œç»§ç»­</span>
        }
    }
    
    private <span class="hljs-keyword">void</span> <span class="hljs-title function_">processDiscoveryResponse</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> response, InetAddress address</span>) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-title class_">DiscoveryPacket</span> packet = <span class="hljs-title class_">DiscoveryPacket</span>.<span class="hljs-title function_">fromString</span>(response);
            <span class="hljs-keyword">if</span> (<span class="hljs-string">"DISCOVERY_RESPONSE"</span>.<span class="hljs-title function_">equals</span>(packet.<span class="hljs-title function_">getType</span>())) {
                log.<span class="hljs-title function_">info</span>(<span class="hljs-string">"Discovered peer: {} ({}) at {}"</span>, 
                    packet.<span class="hljs-title function_">getSenderId</span>(), packet.<span class="hljs-title function_">getSenderType</span>(), address.<span class="hljs-title function_">getHostAddress</span>());
                
                <span class="hljs-comment">// æ·»åŠ åˆ°å¯¹ç­‰èŠ‚ç‚¹åˆ—è¡¨</span>
                udpSDK.<span class="hljs-title function_">addPeer</span>(packet.<span class="hljs-title function_">getSenderId</span>(), address.<span class="hljs-title function_">getHostAddress</span>());
            }
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
            log.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Error processing discovery response: {}"</span>, e.<span class="hljs-title function_">getMessage</span>());
        }
    }
}
</code></pre>
<h2 data-id="heading-32">å…­ã€å®‰å…¨è®¤è¯æµç¨‹</h2>
<h3 data-id="heading-33">6.1 é¦–æ¬¡å…¥ç½‘å®‰å…¨è®¤è¯</h3>
<ol>
<li><strong>é‚€è¯·ç éªŒè¯</strong>ï¼š
<ul>
<li>é‚€è¯·ç åŒ…å«Group IDã€è¿‡æœŸæ—¶é—´ã€æ•°å­—ç­¾å</li>
<li>ä½¿ç”¨HMAC-SHA256éªŒè¯é‚€è¯·ç å®Œæ•´æ€§</li>
<li>æ£€æŸ¥é‚€è¯·ç æ˜¯å¦åœ¨æœ‰æ•ˆæœŸå†…</li>
</ul>
</li>
<li><strong>èŠ‚ç‚¹èº«ä»½è®¤è¯</strong>ï¼š
<ul>
<li>èŠ‚ç‚¹ç”ŸæˆECDSAå¯†é’¥å¯¹</li>
<li>ä½¿ç”¨ä¸´æ—¶è®¤è¯ä»¤ç‰ŒåŠ å¯†èŠ‚ç‚¹å…¬é’¥</li>
<li>Groupç®¡ç†èŠ‚ç‚¹éªŒè¯èŠ‚ç‚¹ç­¾å</li>
</ul>
</li>
<li><strong>å®‰å…¨é€šé“å»ºç«‹</strong>ï¼š
<ul>
<li>ä½¿ç”¨ECDHåè®®äº¤æ¢ä¼šè¯å¯†é’¥</li>
<li>å»ºç«‹TLS 1.3åŠ å¯†é€šé“</li>
<li>éªŒè¯Groupè¯ä¹¦é“¾</li>
</ul>
</li>
<li><strong>ç½‘ç»œé…ç½®åˆ†å‘</strong>ï¼š
<ul>
<li>åˆ†å‘Groupå…ƒæ•°æ®å’Œå®‰å…¨ç­–ç•¥</li>
<li>æä¾›ç½‘ç»œæ‹“æ‰‘ä¿¡æ¯</li>
<li>é…ç½®èŠ‚ç‚¹çš„Group/Sceneæƒé™</li>
</ul>
</li>
</ol>
<h3 data-id="heading-34">6.2 ä¿¡ä»»ç½‘ç»œå†…è‡ªåŠ¨å…¥ç½‘</h3>
<ol>
<li><strong>ç½‘ç»œå‘ç°</strong>ï¼š
<ul>
<li>èŠ‚ç‚¹å¯åŠ¨æ—¶å‘é€UDPå¹¿æ’­</li>
<li>æ¥æ”¶å…¶ä»–èŠ‚ç‚¹çš„å“åº”</li>
<li>å‘ç°å¯ç”¨çš„Groupå’ŒScene</li>
</ul>
</li>
<li><strong>CAPéªŒè¯</strong>ï¼š
<ul>
<li>End Agentè¯»å–å­˜å‚¨çš„CAPä¿¡æ¯</li>
<li>å‘é€å…¥ç½‘è¯·æ±‚ï¼Œæºå¸¦CAPä¿¡æ¯</li>
<li>Route AgentéªŒè¯CAPä¿¡æ¯æœ‰æ•ˆæ€§</li>
</ul>
</li>
<li><strong>è®¤è¯æŒ‘æˆ˜</strong>ï¼š
<ul>
<li>Route Agentå‘é€è®¤è¯æŒ‘æˆ˜</li>
<li>End Agentä½¿ç”¨CAPä¸­çš„å¯†é’¥ç”Ÿæˆå“åº”</li>
<li>Route AgentéªŒè¯å“åº”æœ‰æ•ˆæ€§</li>
</ul>
</li>
<li><strong>å…¥ç½‘ç¡®è®¤</strong>ï¼š
<ul>
<li>Route Agentå‘é€å…¥ç½‘ç¡®è®¤</li>
<li>End Agentæ³¨å†ŒèŠ‚ç‚¹çŠ¶æ€</li>
<li>Route Agentæ›´æ–°èŠ‚ç‚¹çŠ¶æ€</li>
</ul>
</li>
</ol>
<h2 data-id="heading-35">ä¸ƒã€æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h2>
<h3 data-id="heading-36">7.1 ç½‘ç»œä¼˜åŒ–</h3>
<ul>
<li><strong>è¿æ¥æ± </strong>ï¼šç»´æŠ¤èŠ‚ç‚¹è¿æ¥æ± ï¼Œå‡å°‘è¿æ¥å»ºç«‹å¼€é”€</li>
<li><strong>æ¶ˆæ¯å‹ç¼©</strong>ï¼šå¯¹å¤§å‹æ¶ˆæ¯è¿›è¡Œå‹ç¼©ï¼Œå‡å°‘ç½‘ç»œä¼ è¾“é‡</li>
<li><strong>æ‰¹é‡å¤„ç†</strong>ï¼šåˆå¹¶å¤šä¸ªå°æ¶ˆæ¯ï¼Œå‡å°‘ç½‘ç»œå¾€è¿”</li>
<li><strong>æµé‡æ§åˆ¶</strong>ï¼šå®ç°è‡ªé€‚åº”æµé‡æ§åˆ¶ï¼Œé¿å…ç½‘ç»œæ‹¥å¡</li>
</ul>
<h3 data-id="heading-37">7.2 å®‰å…¨ä¼˜åŒ–</h3>
<ul>
<li><strong>å¯†é’¥ç®¡ç†</strong>ï¼šå®šæœŸæ›´æ–°å®‰å…¨å¯†é’¥ï¼Œå‡å°‘å¯†é’¥æ³„éœ²é£é™©</li>
<li><strong>è®¤è¯ä¼˜åŒ–</strong>ï¼šä½¿ç”¨CAPæœºåˆ¶ï¼Œå‡å°‘è®¤è¯æ—¶é—´ï¼Œæé«˜å…¥ç½‘é€Ÿåº¦</li>
<li><strong>ä¿¡ä»»ç®¡ç†</strong>ï¼šåŸºäºèŠ‚ç‚¹è¡Œä¸ºçš„ä¿¡ä»»åº¦è¯„ä¼°ï¼Œä¼˜åŒ–ç½‘ç»œå®‰å…¨</li>
<li><strong>èµ„æºé™åˆ¶</strong>ï¼šè®¾ç½®åˆç†çš„èµ„æºé™åˆ¶ï¼Œé˜²æ­¢DoSæ”»å‡»</li>
</ul>
<h3 data-id="heading-38">7.3 å¯é æ€§ä¼˜åŒ–</h3>
<ul>
<li><strong>å†—ä½™è·¯ç”±</strong>ï¼šRoute Agentå¯¹ç­‰ç½‘ç»œæä¾›å†—ä½™è·¯ç”±ï¼Œæé«˜å¯é æ€§</li>
<li><strong>æ•…éšœè½¬ç§»</strong>ï¼šå½“èŠ‚ç‚¹æ•…éšœæ—¶ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨èŠ‚ç‚¹</li>
<li><strong>ç½‘ç»œåˆ†åŒº</strong>ï¼šæ£€æµ‹ç½‘ç»œåˆ†åŒºï¼Œåœ¨åˆ†åŒºæ¢å¤åè‡ªåŠ¨é‡è¿</li>
<li><strong>çŠ¶æ€åŒæ­¥</strong>ï¼šå®šæœŸåŒæ­¥èŠ‚ç‚¹çŠ¶æ€ï¼Œç¡®ä¿ç½‘ç»œä¸€è‡´æ€§</li>
</ul>
<h2 data-id="heading-39">å…«ã€éƒ¨ç½²ä¸å®è·µ</h2>
<h3 data-id="heading-40">8.1 ç½‘ç»œè§„åˆ’</h3>
<p>ooderAgentçš„ç½‘ç»œè§„åˆ’å›´ç»•ç€è‡ªç»„ç½‘å®Œæˆï¼ŒRoute Agentä»¥åœºæ™¯ä¸ºä¸­å¿ƒï¼Œä¸€ä¸ªRoute Agentå¯ä»¥å£°æ˜æ”¯æŒå¤šä¸ªåœºæ™¯ï¼Œä½†è¿™ä¼šå¢åŠ ç³»ç»Ÿå¤æ‚åº¦ã€‚</p>
<ol>
<li><strong>å®¶åº­ç½‘ç»œ</strong>ï¼š
<ul>
<li>é€‚åˆä¸ªäººç”¨æˆ·æˆ–å°å‹å®¶åº­ç½‘ç»œ</li>
<li>é»˜è®¤å¯ç”¨æ— MCP 0ä¿¡ä»»æ¨¡å¼ï¼Œç½‘ç»œæœ¬èº«å®‰å…¨</li>
<li>å»ºè®®éƒ¨ç½²1-2ä¸ªRoute Agentï¼Œå½¢æˆå¯¹ç­‰ç½‘ç»œ</li>
<li>èŠ‚ç‚¹æ•°ä¸è¶…è¿‡20ä¸ªï¼Œé€‚åˆå®¶åº­è®¾å¤‡è‡ªåŠ¨å‘ç°å’Œå…¥ç½‘</li>
</ul>
</li>
<li><strong>ä¼ä¸šç½‘ç»œ</strong>ï¼š
<ul>
<li>é€‚åˆå°å‹ä¼ä¸šæˆ–éƒ¨é—¨ç½‘ç»œ</li>
<li>åªæœ‰åœ¨æ˜ç¡®éœ€è¦å»ºç«‹å®‰å…¨æœºåˆ¶æ—¶æ‰ä¼šå¼€å¯MCPçš„å®‰å…¨è®¤è¯</li>
<li>ä¸éœ€è¦ç‹¬ç«‹çš„æœåŠ¡å™¨ï¼Œå¯åœ¨ç°æœ‰ç½‘ç»œè®¾å¤‡ä¸Šéƒ¨ç½²MCPåŠŸèƒ½</li>
<li>ä¸»è¦ç”¨äºå…¥ç½‘ç®¡ç†å’Œé…ç½®å®‰å…¨ç­–ç•¥</li>
<li>å»ºè®®éƒ¨ç½²2-3ä¸ªRoute Agentï¼ŒæŒ‰åŠŸèƒ½æˆ–åŒºåŸŸåˆ’åˆ†åœºæ™¯</li>
</ul>
</li>
<li><strong>æ•™è‚²æœºæ„ç½‘ç»œ</strong>ï¼š
<ul>
<li>é€‚åˆæ ¡å›­æˆ–æ•™è‚²æœºæ„ç½‘ç»œ</li>
<li>å¯æ ¹æ®éœ€è¦éƒ¨ç½²MCP Agentè¿›è¡Œé›†ä¸­ç®¡ç†</li>
<li>å¤šä¸ªRoute AgentæŒ‰æ•™å­¦æ¥¼ã€å›¾ä¹¦é¦†ã€å®éªŒå®¤ç­‰åœºæ™¯åˆ’åˆ†</li>
<li>æ”¯æŒå¤§è§„æ¨¡è®¾å¤‡çš„è‡ªåŠ¨ç®¡ç†å’Œæ™ºèƒ½æ•™å­¦åº”ç”¨</li>
</ul>
</li>
</ol>
<h3 data-id="heading-41">8.2 å®‰å…¨é…ç½®</h3>
<ul>
<li><strong>å¯ç”¨TLSåŠ å¯†</strong>ï¼šä¿æŠ¤èŠ‚ç‚¹é—´é€šä¿¡</li>
<li><strong>è®¾ç½®å¼ºå¯†ç ç­–ç•¥</strong>ï¼šä½¿ç”¨å¼ºå¯†ç å’Œå¤šå› ç´ è®¤è¯</li>
<li><strong>é…ç½®é˜²ç«å¢™</strong>ï¼šå¼€æ”¾å¿…è¦çš„ç«¯å£ï¼Œé™åˆ¶è®¿é—®</li>
<li><strong>å®šæœŸå®‰å…¨å®¡è®¡</strong>ï¼šæ£€æŸ¥ç½‘ç»œå®‰å…¨çŠ¶æ€ï¼Œå‘ç°æ½œåœ¨é£é™©</li>
</ul>
<h3 data-id="heading-42">8.3 ç›‘æ§ä¸ç»´æŠ¤</h3>
<ul>
<li><strong>ç½‘ç»œç›‘æ§</strong>ï¼šç›‘æ§èŠ‚ç‚¹çŠ¶æ€ã€ç½‘ç»œæ‹“æ‰‘å’Œæµé‡</li>
<li><strong>å®‰å…¨ç›‘æ§</strong>ï¼šç›‘æ§å®‰å…¨äº‹ä»¶ã€å¼‚å¸¸è¡Œä¸ºå’Œæ”»å‡»å°è¯•</li>
<li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šç›‘æ§ç½‘ç»œæ€§èƒ½ã€å“åº”æ—¶é—´å’Œèµ„æºä½¿ç”¨</li>
<li><strong>æ—¥å¿—ç®¡ç†</strong>ï¼šé›†ä¸­ç®¡ç†æ—¥å¿—ï¼Œä¾¿äºæ•…éšœæ’æŸ¥å’Œå®‰å…¨å®¡è®¡</li>
</ul>
<h2 data-id="heading-43">ä¹ã€åœºæ™¯æ¡ˆä¾‹åˆ†æ</h2>
<h3 data-id="heading-44">9.1 å®¶åº­ç½‘ç»œåœºæ™¯</h3>
<h4 data-id="heading-45">éƒ¨ç½²æ–¹æ¡ˆ</h4>
<ul>
<li>1ä¸ªMCP Agentï¼ˆå®¶åº­æœåŠ¡å™¨ï¼‰</li>
<li>1-2ä¸ªRoute Agentï¼ˆå®¶åº­ç½‘å…³ã€æ™ºèƒ½è·¯ç”±å™¨ï¼‰</li>
<li>å¤šä¸ªEnd Agentï¼ˆæ™ºèƒ½æ‰‹æœºã€å¹³æ¿ç”µè„‘ã€æ™ºèƒ½ç”µè§†ã€æ™ºèƒ½å®¶å±…è®¾å¤‡ç­‰ï¼‰</li>
</ul>
<h4 data-id="heading-46">å®‰å…¨ç­–ç•¥</h4>
<ul>
<li>ä½¿ç”¨å¼ºå¯†ç ä¿æŠ¤MCP Agent</li>
<li>å®šæœŸæ›´æ–°å®‰å…¨å¯†é’¥</li>
<li>å¯ç”¨TLSåŠ å¯†ä¿æŠ¤é€šä¿¡</li>
<li>é™åˆ¶å¤–éƒ¨è®¿é—®ï¼Œåªå…è®¸å®¶åº­ç½‘ç»œå†…çš„è®¾å¤‡å…¥ç½‘</li>
</ul>
<h4 data-id="heading-47">åº”ç”¨åœºæ™¯</h4>
<ul>
<li><strong>æ™ºèƒ½å®¶åº­æ§åˆ¶</strong>ï¼šé€šè¿‡End Agentæ§åˆ¶æ™ºèƒ½å®¶å±…è®¾å¤‡ï¼Œå¦‚ç¯å…‰ã€ç©ºè°ƒã€å®‰é˜²ç³»ç»Ÿç­‰</li>
<li><strong>å®¶åº­æˆå‘˜åä½œ</strong>ï¼šå…±äº«AIæŠ€èƒ½å’Œä»»åŠ¡ï¼Œå¦‚å®¶åº­æ—¥ç¨‹ç®¡ç†ã€è´­ç‰©æ¸…å•åŒæ­¥ç­‰</li>
<li><strong>åª’ä½“å…±äº«</strong>ï¼šå®‰å…¨å…±äº«å®¶åº­åª’ä½“å†…å®¹ï¼Œå¦‚ç…§ç‰‡ã€è§†é¢‘ç­‰</li>
</ul>
<h4 data-id="heading-48">ä¼˜åŠ¿</h4>
<ul>
<li>è®¾å¤‡è‡ªåŠ¨å‘ç°å’Œå…¥ç½‘ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®</li>
<li>å®‰å…¨çš„æŠ€èƒ½å…±äº«å’Œè°ƒç”¨</li>
<li>ç¦»çº¿æ—¶ä½¿ç”¨CAPä¿¡æ¯å¿«é€Ÿé‡è¿</li>
<li>é€‚åº”å®¶åº­ç½‘ç»œçš„åŠ¨æ€å˜åŒ–</li>
</ul>
<h4 data-id="heading-49">å®¶åº­ç½‘ç»œåœºæ™¯æ‹“æ‰‘å›¾</h4>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a2de23a4fd34b29a00588a58d027518~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770124779&amp;x-signature=LWfYx2Lnj6um56KUnwGjTkA8yCY%3D" alt="å®¶åº­æœåŠ¡å™¨ MCP Agent å®¶åº­ç½‘å…³ Route Agent æ™ºèƒ½è·¯ç”±å™¨ Route Agent æ™ºèƒ½æ‰‹æœº End Agent å¹³æ¿ç”µè„‘ End Agent æ™ºèƒ½ç”µè§† End Agent æ™ºèƒ½å®¶å±…è®¾å¤‡ End Agent" loading="lazy"/></p>
<p>â€‹</p>
<p>â€‹</p>
<h3 data-id="heading-50">9.2 ä¼ä¸šéƒ¨é—¨åœºæ™¯</h3>
<h4 data-id="heading-51">éƒ¨ç½²æ–¹æ¡ˆ</h4>
<ul>
<li>1ä¸ªMCP Agentï¼ˆéƒ¨é—¨æœåŠ¡å™¨ï¼‰</li>
<li>2-3ä¸ªRoute Agentï¼ˆéƒ¨é—¨ç½‘ç»œèŠ‚ç‚¹ï¼‰</li>
<li>å¤šä¸ªEnd Agentï¼ˆå‘˜å·¥ç”µè„‘ã€éƒ¨é—¨è®¾å¤‡ã€ä¼šè®®ç³»ç»Ÿç­‰ï¼‰</li>
</ul>
<h4 data-id="heading-52">å®‰å…¨ç­–ç•¥</h4>
<ul>
<li>ä¸¥æ ¼çš„èº«ä»½è®¤è¯å’Œæˆæƒ</li>
<li>åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶</li>
<li>å®šæœŸå®‰å…¨å®¡è®¡å’Œå¯†é’¥æ›´æ–°</li>
<li>ä¸ä¼ä¸šç°æœ‰å®‰å…¨ç³»ç»Ÿé›†æˆ</li>
</ul>
<h4 data-id="heading-53">åº”ç”¨åœºæ™¯</h4>
<ul>
<li><strong>éƒ¨é—¨åä½œ</strong>ï¼šå›¢é˜Ÿæˆå‘˜å…±äº«AIæŠ€èƒ½å’Œå·¥ä½œä»»åŠ¡ï¼Œå¦‚æ–‡æ¡£å¤„ç†ã€æ•°æ®åˆ†æç­‰</li>
<li><strong>ä¼šè®®ç®¡ç†</strong>ï¼šæ™ºèƒ½ä¼šè®®ç³»ç»Ÿé€šè¿‡End Agentä¸å…¶ä»–è®¾å¤‡åä½œï¼Œå®ç°è‡ªåŠ¨åŒ–ä¼šè®®ç®¡ç†</li>
<li><strong>è®¾å¤‡ç›‘æ§</strong>ï¼šé€šè¿‡End Agentç›‘æ§éƒ¨é—¨è®¾å¤‡çŠ¶æ€ï¼ŒåŠæ—¶å‘ç°å’Œå¤„ç†é—®é¢˜</li>
</ul>
<h4 data-id="heading-54">ä¼˜åŠ¿</h4>
<ul>
<li>éƒ¨é—¨å†…éƒ¨çš„å®‰å…¨é€šä¿¡</li>
<li>æŠ€èƒ½çš„å®‰å…¨å…±äº«å’Œè°ƒç”¨</li>
<li>é«˜å¯é æ€§å’Œå®¹é”™èƒ½åŠ›</li>
<li>é€‚åº”ä¼ä¸šç½‘ç»œçš„å¤æ‚ç¯å¢ƒ</li>
</ul>
<h4 data-id="heading-55">ä¼ä¸šéƒ¨é—¨åœºæ™¯æ‹“æ‰‘å›¾</h4>
<p>â€‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a8927335739487493318d3c099b7f83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT25lQ29kZUNO:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770124779&amp;x-signature=xAzcRqyg%2BukLBPvBfGqYRl0M09E%3D" alt="éƒ¨é—¨æœåŠ¡å™¨ MCP Agent éƒ¨é—¨ç½‘ç»œèŠ‚ç‚¹1 Route Agent éƒ¨é—¨ç½‘ç»œèŠ‚ç‚¹2 Route Agent éƒ¨é—¨ç½‘ç»œèŠ‚ç‚¹3 Route Agent å‘˜å·¥ç”µè„‘1 End Agent å‘˜å·¥ç”µè„‘2 End Agent ä¼šè®®ç³»ç»Ÿ End Agent éƒ¨é—¨è®¾å¤‡ End Agent" loading="lazy"/></p>
<p>â€‹</p>
<p>â€‹</p>
<h3 data-id="heading-56">9.3 æ•™è‚²æœºæ„åœºæ™¯</h3>
<h4 data-id="heading-57">éƒ¨ç½²æ–¹æ¡ˆ</h4>
<ul>
<li>1ä¸ªMCP Agentï¼ˆæ ¡å›­æœåŠ¡å™¨ï¼‰</li>
<li>å¤šä¸ªRoute Agentï¼ˆæ•™å­¦æ¥¼ã€å›¾ä¹¦é¦†ã€å®éªŒå®¤ç­‰ï¼‰</li>
<li>å¤šä¸ªEnd Agentï¼ˆå­¦ç”Ÿç”µè„‘ã€æ•™å¸ˆè®¾å¤‡ã€æ•™å­¦ç»ˆç«¯ç­‰ï¼‰</li>
</ul>
<h4 data-id="heading-58">å®‰å…¨ç­–ç•¥</h4>
<ul>
<li>åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶</li>
<li>å†…å®¹è¿‡æ»¤å’Œå®‰å…¨å®¡è®¡</li>
<li>å®šæœŸå®‰å…¨æ›´æ–°å’Œæ¼æ´æ‰«æ</li>
<li>ä¸æ ¡å›­è®¤è¯ç³»ç»Ÿé›†æˆ</li>
</ul>
<h4 data-id="heading-59">åº”ç”¨åœºæ™¯</h4>
<ul>
<li><strong>æ™ºèƒ½æ•™å­¦</strong>ï¼šæ•™å¸ˆé€šè¿‡End Agentå‘å¸ƒæ•™å­¦å†…å®¹ï¼Œå­¦ç”Ÿé€šè¿‡End Agentè®¿é—®å’Œæäº¤ä½œä¸š</li>
<li><strong>èµ„æºå…±äº«</strong>ï¼šå®‰å…¨å…±äº«æ•™å­¦èµ„æºå’ŒAIæ¨¡å‹</li>
<li><strong>æ ¡å›­æœåŠ¡</strong>ï¼šæä¾›æ™ºèƒ½æ ¡å›­æœåŠ¡ï¼Œå¦‚è€ƒå‹¤ã€å›¾ä¹¦å€Ÿé˜…ç­‰</li>
</ul>
<h4 data-id="heading-60">ä¼˜åŠ¿</h4>
<ul>
<li>å¤§è§„æ¨¡è®¾å¤‡çš„è‡ªåŠ¨ç®¡ç†</li>
<li>å®‰å…¨çš„æ•™è‚²èµ„æºå…±äº«</li>
<li>çµæ´»çš„ç½‘ç»œæ‹“æ‰‘é€‚åº”ä¸åŒæ•™å­¦åœºæ™¯</li>
<li>é«˜æ•ˆçš„AIèƒ½åŠ›åˆ†å‘</li>
</ul>
<h2 data-id="heading-61">åã€ç»“è®º</h2>
<p>ooderAgentçš„P2Pç½‘ç»œè®¾è®¡ï¼Œé€šè¿‡å¤šAgentåä½œæœºåˆ¶å’Œå¤šå±‚æ¬¡å®‰å…¨æ¶æ„ï¼Œä¸ºåˆ†å¸ƒå¼AIç³»ç»Ÿæä¾›äº†é«˜æ•ˆã€å®‰å…¨ã€å¯é çš„é€šä¿¡åŸºç¡€ã€‚å…¶è®¾è®¡å……åˆ†è€ƒè™‘äº†å®é™…åº”ç”¨åœºæ™¯çš„éœ€æ±‚ï¼Œæ”¯æŒä»ä¸ªäººç”¨æˆ·åˆ°å¤§å‹ä¼ä¸šçš„å„ç§ä½¿ç”¨åœºæ™¯ã€‚</p>
<p>é€šè¿‡Route Agentå¯¹ç­‰ç½‘ç»œã€MCP Agenté›†ä¸­ç®¡ç†ã€End Agent CAPæœºåˆ¶ç­‰è®¾è®¡ï¼ŒooderAgentå®ç°äº†P2Pç½‘ç»œä¸‹çš„å®‰å…¨åä½œï¼Œä¸ºæ„å»ºä¸‹ä¸€ä»£åˆ†å¸ƒå¼AIç³»ç»Ÿå¥ å®šäº†æŠ€æœ¯åŸºç¡€ã€‚</p>
<p>åŒæ—¶ï¼Œæˆ‘ä»¬ä¹Ÿè®¤è¯†åˆ°P2Pç½‘ç»œæ¶æ„å­˜åœ¨çš„ä¸€äº›æ½œåœ¨é—®é¢˜ï¼Œå¦‚ç½‘ç»œè´Ÿè½½ä¸å‡ã€å®‰å…¨é£é™©ã€ç‰ˆæƒé—®é¢˜ã€åˆè§„æŒ‘æˆ˜å’ŒæŠ€æœ¯å¤æ‚æ€§ç­‰ã€‚é€šè¿‡æœ¬æ–‡æå‡ºçš„è§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–å’Œå®Œå–„ooderAgentçš„P2Pç½‘ç»œè®¾è®¡ï¼Œæé«˜ç³»ç»Ÿçš„å¯é æ€§ã€å®‰å…¨æ€§å’Œæ•ˆç‡ã€‚</p>
<p>ooderAgentä½œä¸ºå¼€æºé¡¹ç›®ï¼Œæ¬¢è¿ç¤¾åŒºè´¡çŒ®å’Œæ”¹è¿›ï¼Œå…±åŒæ¨åŠ¨åˆ†å¸ƒå¼AIæŠ€æœ¯çš„å‘å±•å’Œåº”ç”¨ã€‚</p>
<h2 data-id="heading-62">åä¸€ã€å‚è€ƒæ–‡çŒ®</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.com%2Fdeveloper%2Farticle%2Fprotocol-release%2Fv0.6.5%2Fp2p%2Fp2p-protocol.md" target="_blank" title="https://cloud.tencent.com/developer/article/protocol-release/v0.6.5/p2p/p2p-protocol.md" ref="nofollow noopener noreferrer">ooderAgent P2Pç½‘ç»œåè®®æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.com%2Fdeveloper%2Farticle%2Fprotocol-release%2Fv0.6.5%2Fagent%2Fagent-protocol.md" target="_blank" title="https://cloud.tencent.com/developer/article/protocol-release/v0.6.5/agent/agent-protocol.md" ref="nofollow noopener noreferrer">Agentåè®®æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.com%2Fdeveloper%2Farticle%2Fp2p-group-scene-design.md" target="_blank" title="https://cloud.tencent.com/developer/article/p2p-group-scene-design.md" ref="nofollow noopener noreferrer">P2Pç½‘ç»œä¸‹çš„Group/Sceneè®¾è®¡ä¿®æ”¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc8446" target="_blank" title="https://tools.ietf.org/html/rfc8446" ref="nofollow noopener noreferrer">RFC 8446 - TLS 1.3</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftools.ietf.org%2Fhtml%2Frfc6090" target="_blank" title="https://tools.ietf.org/html/rfc6090" ref="nofollow noopener noreferrer">RFC 6090 - ECDHå¯†é’¥äº¤æ¢</a></li>
</ul>
<p>Â© 2026 ooderAgent å¼€æºé¡¹ç›®</p>
<p>æœ¬æ–‡æ¡£åŸºäº MIT åè®®å¼€æº</p>
<p>æœ€åæ›´æ–°æ—¶é—´ï¼š2026å¹´1æœˆ27æ—¥</p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶å­¦ä¹ Kafkaï¼šé›†ç¾¤æ¶æ„å’ŒåŸºæœ¬æ¦‚å¿µ]]></title>    <link>https://juejin.cn/post/7599798118462111753</link>    <guid>https://juejin.cn/post/7599798118462111753</guid>    <pubDate>2026-01-27T13:48:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599798118462111753" data-draft-id="7599708108622348339" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶å­¦ä¹ Kafkaï¼šé›†ç¾¤æ¶æ„å’ŒåŸºæœ¬æ¦‚å¿µ"/> <meta itemprop="keywords" content="åç«¯,Kafka"/> <meta itemprop="datePublished" content="2026-01-27T13:48:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢å‘Googleç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1063982986695374"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶å­¦ä¹ Kafkaï¼šé›†ç¾¤æ¶æ„å’ŒåŸºæœ¬æ¦‚å¿µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1063982986695374/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢å‘Googleç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T13:48:16.000Z" title="Tue Jan 27 2026 13:48:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»æºç å±‚é¢ä»‹ç»äº† Flink çš„ Kafka Connector çš„å®ç°ã€‚ä»æœ¬æ–‡å¼€å§‹ï¼Œæˆ‘ä»¬çš„ç›®æ ‡ä¹Ÿæ­£å¼ä» Flink è¿‡æ¸¡åˆ° Kafkaã€‚</p>
<h3 data-id="heading-0">ä»€ä¹ˆæ˜¯ Kafka</h3>
<p>Kafka å®˜æ–¹æ–‡æ¡£ç»™å‡ºçš„å®šä¹‰æ˜¯ï¼šApache Kafka æ˜¯ä¸€ä¸ªäº‹ä»¶æµå¹³å°ã€‚å®ƒçš„å…³é”®èƒ½åŠ›å¦‚ä¸‹ï¼š</p>
<ol>
<li>å‘å¸ƒï¼ˆå†™å…¥ï¼‰å’Œè®¢é˜…ï¼ˆè¯»å–ï¼‰äº‹ä»¶æµï¼ŒåŒ…æ‹¬ä»å…¶ä»–ç³»ç»ŸæŒç»­å¯¼å…¥å’Œå¯¼å‡ºæ•°æ®ã€‚</li>
<li>å°†äº‹ä»¶æµæŒä¹…å¯é çš„å­˜å‚¨ï¼Œå¯ä»¥è‡ªå®šä¹‰æ—¶é•¿ã€‚</li>
<li>å®æ—¶å¤„ç†äº‹ä»¶æµæˆ–å†å²å›æº¯ã€‚</li>
</ol>
<p>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæœ€åŸºç¡€çš„åœºæ™¯æ¥ç†è§£ä¸€ä¸‹è¿™äº›å®šä¹‰ï¼šç³»ç»Ÿ A å°†æ•°æ®å‘é€ç»™ Kafkaï¼ŒKafka ä¼šå°†æ•°æ®è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨ï¼Œç³»ç»Ÿ B ä» Kafka ä¸­è¯»å–ç³»ç»Ÿ A å‘é€çš„æ•°æ®ã€‚é‚£ä¹ˆè¿™é‡Œæœ‰ä¸¤ä¸ªå…³é”®é—®é¢˜ï¼šä¸€æ˜¯å¦‚ä½•è®¾è®¡äº‹ä»¶çš„ç¼–ç æ ¼å¼ï¼ŒäºŒæ˜¯ä½¿ç”¨ä»€ä¹ˆæ ·çš„ä¼ è¾“åè®®ã€‚</p>
<p>å…³äºç¼–ç æ ¼å¼ï¼Œç›®å‰æœ‰å¾ˆå¤šæˆç†Ÿçš„æ–¹æ¡ˆï¼Œæ¯”å¦‚ Protocol Bufferã€Thriftã€JSON ç­‰ã€‚è€Œ Kafka ä½¿ç”¨çš„æ˜¯çº¯äºŒè¿›åˆ¶çš„å­—èŠ‚åºåˆ—ã€‚</p>
<p>ç¡®å®šå¥½äº†ç¼–ç æ ¼å¼ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¼ è¾“åè®®ã€‚å¸¸è§çš„ä¼ è¾“åè®®æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li>ç‚¹å¯¹ç‚¹æ¨¡å‹ï¼šç‚¹å¯¹ç‚¹æ¨¡å‹ä¹Ÿå«æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å‹ï¼Œå³ä¸Šæ¸¸å‘é€çš„æ•°æ®åªèƒ½ç”±ä¸€ä¸ªä¸‹æ¸¸æ¥æ”¶ã€‚å¯¹ä¸Šé¢çš„åœºæ™¯æ¥è¯´ï¼Œå°±æ˜¯ç³»ç»Ÿ A å‘é€çš„æ¶ˆæ¯ï¼Œåªèƒ½ç”±ç³»ç»Ÿ B æ¥æ”¶ã€‚</li>
<li>å‘å¸ƒ/è®¢é˜…æ¨¡å‹ï¼šåœ¨è¿™ä¸ªæ¨¡å‹ä¸­æœ‰ topic çš„æ¦‚å¿µï¼Œä¼šå­˜åœ¨å¤šä¸ªå‘å¸ƒè€…å‘åŒä¸€ä¸ª topic å‘é€æ¶ˆæ¯ï¼Œå¤šä¸ªè®¢é˜…è€…ä» topic è¯»å–æ¶ˆæ¯çš„æƒ…å†µã€‚</li>
</ol>
<p>Kafka åŒæ—¶æ”¯æŒè¿™ä¸¤ç§æ¨¡å‹ï¼Œè¿™ç‚¹æˆ‘ä»¬åœ¨åé¢ä¼šå…·ä½“é˜è¿°ã€‚</p>
<p>ç°åœ¨çŸ¥é“äº†ä»€ä¹ˆæ˜¯ Kafka ä¹‹åï¼Œæˆ‘ä»¬å†æ¥è€ƒè™‘å¦ä¸€ä¸ªé—®é¢˜ï¼šä¸ºä»€ä¹ˆè¦ä½¿ç”¨ Kafkaï¼Ÿ</p>
<p>è¿™ä¸ªé—®é¢˜æ¯ä¸ªäººå¯èƒ½ä¼šæœ‰ä¸åŒçš„ç­”æ¡ˆï¼Œå¯¹æˆ‘è€Œè¨€ï¼Œä½¿ç”¨ Kafka æœ€ä¸»è¦çš„åŸå› æ˜¯åšæµé‡ç¼“å†²å’Œæ•°æ®åŒæ­¥ã€‚</p>
<p>æµé‡ç¼“å†²æ˜¯ Kafka çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€ï¼Œåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå½“ç³»ç»Ÿ A æœ‰å¾ˆå¤§çš„çªå¢æµé‡æ—¶ï¼Œå¦‚æœç›´æ¥å¯¹æ¥ç³»ç»Ÿ Bï¼Œé‚£ä¹ˆç¬æ—¶æµé‡å¾ˆæœ‰å¯èƒ½ç›´æ¥æŠŠç³»ç»Ÿ B æ‰“æŒ‚ã€‚è€Œ Kafka å°±å¯ä»¥åœ¨ä¸­é—´èµ·åˆ°ä¸€ä¸ªç¼“å†²çš„ä½œç”¨ã€‚ç»™ç³»ç»Ÿ B ç•™å‡ºå……è¶³çš„å¤„ç†æ—¶é—´ï¼ŒåŒæ—¶ä¹Ÿé¿å…äº†å› ä¸ºç³»ç»Ÿ B å´©æºƒå¯èƒ½å¯¼è‡´çš„æ•´ä¸ªé“¾è·¯çš„é›ªå´©é—®é¢˜ã€‚</p>
<p>æ•°æ®åŒæ­¥åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­æ›´å¤šä¸ Flink ç»“åˆï¼Œå®Œæˆç¦»çº¿æ•°æ®é“¾è·¯æµè½¬æˆ–è€…ç¦»çº¿åˆ°åœ¨çº¿çš„æ•°æ®ä¼ è¾“ã€‚</p>
<p>æœ‰äº†è¿™äº›åŸºæœ¬çš„èƒŒæ™¯ä¿¡æ¯ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹ä¸€äº› Kafka çš„æ ¸å¿ƒæ¦‚å¿µã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒæ¦‚å¿µ</h3>
<p>æˆ‘ä»¬ä»ä¸€å¼ å›¾å¼€å§‹ï¼Œå¯¹å›¾ä¸­çš„æ¦‚å¿µé€ä¸ªè¿›è¡Œè§£é‡Šã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7badf0f59cd94109acf631fa3faefdbc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Z2i5ZCRR29vZ2xl57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770126495&amp;x-signature=mhr%2FlpnDO75dTTg5mK1DW0DmLxo%3D" alt="KafkaCluster" loading="lazy"/></p>
<p>é¦–å…ˆæ˜¯ Topicï¼Œåœ¨ Kafka ä¸­å‘å¸ƒå’Œè®¢é˜…çš„å¯¹è±¡å°±æ˜¯ Topicã€‚é€šå¸¸æˆ‘ä»¬æŒ‰ç…§ä¸šåŠ¡æ¥æ‹†åˆ†ï¼ŒæŠŠä¸åŒä¸šåŠ¡çš„æ•°æ®æ”¾åœ¨ä¸åŒçš„ Topic ä¸­ã€‚</p>
<p>Topic çš„æ•°æ®æ˜¯ç”± Producer ç”Ÿäº§çš„ã€‚Producer å³ç”Ÿäº§è€…ç¨‹åºï¼Œå®ƒå’Œ Consumer éƒ½å¯ä»¥è¢«ç§°ä¸º Kafka é›†ç¾¤çš„å®¢æˆ·ç«¯ã€‚Producer è´Ÿè´£æŠŠæ¶ˆæ¯å†™å…¥å¯¹åº”çš„ Topic ä¸­ï¼Œåœ¨å†™å…¥æ—¶ä¼šé€‰æ‹©å¯¹åº”çš„ Partitionã€‚</p>
<p>Partition ç±»ä¼¼äº HBase ä¸­çš„ regionï¼Œå®ƒæ˜¯ç”¨æ¥æ”¯æ’‘æ¨ªå‘æ‰©å±•çš„ã€‚å½“æˆ‘ä»¬çš„æ¶ˆæ¯é‡å¤ªå¤§æ—¶ï¼Œä¸€ä¸ª Partition å­˜ä¸ä¸‹æˆ–è€…å¤„ç†ä¸è¿‡æ¥ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ‰© Partition çš„æ•°é‡ã€‚åˆ©ç”¨å¤šåˆ†åŒºåˆ†æ•£å­˜å‚¨å’Œå¤„ç†è¯·æ±‚çš„å‹åŠ›ã€‚ä½ å¯èƒ½è¿˜æ³¨æ„åˆ°ï¼ŒPartition è¿˜æœ‰ Leader å’Œ Follower ä¹‹åˆ†ï¼Œè¿™å…¶å®æ˜¯ Kafka çš„å‰¯æœ¬æœºåˆ¶ï¼ˆReplicaï¼‰ï¼Œå®ƒæ˜¯ Kafka é«˜å¯ç”¨æ‰‹æ®µä¹‹ä¸€ã€‚æ¯ä¸ªåˆ†åŒºéƒ½ä¼šæœ‰ 1 ä¸ª Leader å‰¯æœ¬å’Œ n ä¸ª Follower å‰¯æœ¬ï¼Œå†™å…¥æ¶ˆæ¯å’Œæ¶ˆè´¹æ¶ˆæ¯éƒ½æ˜¯ç”± Leader å‰¯æœ¬æ‰§è¡Œï¼ŒFollower åªè´Ÿè´£å‘ Leader å‰¯æœ¬å‘é€è¯·æ±‚ï¼Œå°†æœ€æ–°çš„æ¶ˆæ¯å‘é€ç»™å®ƒï¼Œè¿™æ ·ä¸ Leader å‰¯æœ¬ä¿æŒåŒæ­¥ã€‚</p>
<p>åœ¨ Kafka é›†ç¾¤çš„æœåŠ¡ç«¯ï¼Œç”± Broker è¿›ç¨‹å¯¹å®¢æˆ·ç«¯çš„è¯·æ±‚è¿›è¡Œå¤„ç†ã€‚å°†å¤šä¸ª Broker é›†ç¾¤åˆ†åˆ«éƒ¨ç½²åœ¨ä¸åŒçš„æœºå™¨ä¸Šæ˜¯ Kafka çš„é«˜å¯ç”¨æ‰‹æ®µä¹‹ä¸€ã€‚</p>
<p>å‰é¢æˆ‘ä»¬æåˆ°äº† Kafka é™¤äº†å‘å¸ƒ/è®¢é˜…æ¨¡å‹ä¹‹å¤–ï¼Œè¿˜æ”¯æŒç‚¹å¯¹ç‚¹æ¨¡å‹ï¼Œå¯¹äºç‚¹å¯¹ç‚¹æ¨¡å‹çš„æ”¯æŒï¼ŒKafka æ˜¯å¼•å…¥äº† Consumer Group çš„æ¦‚å¿µã€‚Consumer Group æ˜¯ç”±å¤šä¸ª Consumer ç»„æˆï¼Œè´Ÿè´£æ¶ˆè´¹ä¸€ç»„ä¸»é¢˜ï¼Œè¿™ç»„ä¸»é¢˜ä¸­çš„æ¯ä¸€ä¸ª Partition åªèƒ½ç”±å…¶ä¸­çš„ä¸€ä¸ª Consumer æ¶ˆè´¹ã€‚å¦‚æœæœ‰æ–°å¢çš„ Consumer åŠ å…¥æˆ–è€…ç°æœ‰çš„ Consumer å´©æºƒï¼Œé‚£ä¹ˆå°±ä¼šè¿›è¡Œ Rebalanceã€‚</p>
<p>åœ¨æ¶ˆæ¯å†™å…¥å’Œæ¶ˆè´¹æµç¨‹ä¸­ï¼Œåˆ†åˆ«æœ‰ Offset å’Œ Consumer Offset ä¸¤ä¸ªæ¦‚å¿µã€‚Offset æ˜¯åœ¨åˆ†åŒºä¸­é€’å¢çš„ã€‚Consumer Offset æ˜¯æ¶ˆè´¹è€…ç”¨æ¥è®°å½•è‡ªå·±æ¶ˆè´¹åˆ°äº†å“ªä¸ª Offsetã€‚</p>
<p>æœ€åå†å¤šæä¸€ç‚¹ï¼ŒKafka Broker æ˜¯ä½¿ç”¨ Log ä¿å­˜æ•°æ®ï¼ŒLog åº•å±‚åˆåˆ†æˆäº†å¤šä¸ª Log Segmentï¼Œæ¶ˆæ¯åœ¨ Log Segment ä¸Šåªèƒ½è¿½åŠ å†™å…¥ï¼Œå½“ä¸€ä¸ª Log Segment å†™æ»¡åï¼Œå°±ä¼šåˆ›å»ºæ–°çš„ Log Segment ç»§ç»­å†™å…¥ã€‚Kafka è¿˜ä¼šå®šæœŸæ¸…ç†æ—§çš„ Log Segmentï¼Œä»¥æ­¤æ¥èŠ‚çœç£ç›˜ç©ºé—´ã€‚</p>
<h3 data-id="heading-2">æ€»ç»“</h3>
<p>æœ¬æ–‡æˆ‘ä»¬å…ˆæ˜¯ç®€å•ä»‹ç»äº†ä»€ä¹ˆæ˜¯ Kafkaï¼Œæ¥ç€åˆä»‹ç»äº†å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚åŒ…æ‹¬ Topicã€Producerã€Consumerã€Consumer Groupã€Partitionã€Replicaã€Brokerã€Rebalanceç­‰ã€‚æ¥ä¸‹æ¥è®©æˆ‘ä»¬ä¸€èµ·å¼€å§‹å­¦ä¹  Kafka ç›¸å…³çš„çŸ¥è¯†å§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Kotlinç³»åˆ—16ã€‘æ€§èƒ½ä¼˜åŒ–ï¼šå†…è”ã€å†…å­˜ä¸å­—èŠ‚ç åˆ†æ]]></title>    <link>https://juejin.cn/post/7599920572839919625</link>    <guid>https://juejin.cn/post/7599920572839919625</guid>    <pubDate>2026-01-27T12:18:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599920572839919625" data-draft-id="7599920572839903241" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Kotlinç³»åˆ—16ã€‘æ€§èƒ½ä¼˜åŒ–ï¼šå†…è”ã€å†…å­˜ä¸å­—èŠ‚ç åˆ†æ"/> <meta itemprop="keywords" content="Kotlin,Android,ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="datePublished" content="2026-01-27T12:18:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Kotlinç³»åˆ—16ã€‘æ€§èƒ½ä¼˜åŒ–ï¼šå†…è”ã€å†…å­˜ä¸å­—èŠ‚ç åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T12:18:37.000Z" title="Tue Jan 27 2026 12:18:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>"è¿™ä¸ªåŠŸèƒ½åœ¨å¼€å‘ç¯å¢ƒè¿è¡Œå¾—å¾ˆæµç•…ï¼Œä½†ä¸€åˆ°ç”Ÿäº§ç¯å¢ƒå°±å¡å¾—è¦å‘½ã€‚"å¦‚æœä½ å†™è¿‡å‡ å¹´ä»£ç ï¼Œä¸€å®šå¬è¿‡æˆ–è¯´è¿‡ç±»ä¼¼çš„è¯ã€‚æ€§èƒ½é—®é¢˜å¾€å¾€åƒæ½œä¼çš„å¹½çµâ€”â€”å¼€å‘æ—¶çœ‹ä¸è§ï¼Œä¸Šçº¿åæ‰ç°èº«ï¼Œè€Œæ­¤æ—¶ä¿®å¤æˆæœ¬å·²ç»é«˜æ˜‚å¾—è®©äººå¿ƒç–¼ã€‚</p>
<p>æˆ‘æ›¾ç»é‡åˆ°è¿‡ä¸€ä¸ªè®©äººå´©æºƒçš„æ¡ˆä¾‹ï¼šä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„æ•°æ®å¤„ç†åŠŸèƒ½ï¼Œåœ¨å°æ•°æ®é›†ä¸Šæµ‹è¯•å®Œç¾ï¼Œä½†å½“ç”¨æˆ·æ•°æ®é‡å¢é•¿åˆ°ç™¾ä¸‡çº§æ—¶ï¼Œå†…å­˜å ç”¨é£™å‡åˆ°2GB+ï¼ŒGCæš‚åœæ—¶é—´è¶…è¿‡5ç§’ï¼Œç”¨æˆ·ä½“éªŒç›´æ¥å´©æºƒã€‚ç»è¿‡å½»åº•çš„æ€§èƒ½åˆ†æï¼Œæˆ‘ä»¬å‘ç°é—®é¢˜å‡ºåœ¨å‡ ä¸ª"ä¼˜é›…"çš„Lambdaè¡¨è¾¾å¼ä¸Šâ€”â€”æ¯æ¬¡è°ƒç”¨éƒ½åœ¨å †ä¸Šåˆ›å»ºæ–°å¯¹è±¡ï¼Œé¢‘ç¹GCæœ€ç»ˆæ‹–å®äº†æ•´ä¸ªåº”ç”¨ã€‚</p>
<p>Kotlinä»¥å…¶ç®€æ´ä¼˜é›…çš„è¯­æ³•æ·±å—å¼€å‘è€…å–œçˆ±ï¼Œä½†è¿™ç§"è¯­æ³•ç³–"èƒŒåéšè—ç€æ€§èƒ½å¼€é”€ã€‚<strong>å¥½æ¶ˆæ¯æ˜¯</strong>ï¼šKotlinæä¾›äº†å¼ºå¤§çš„æ€§èƒ½ä¼˜åŒ–æœºåˆ¶â€”â€”å†…è”å‡½æ•°ã€<code>@JvmField</code>ã€<code>lateinit</code>ç­‰â€”â€”åªè¦ç†è§£åŸç†ï¼Œå°±èƒ½åœ¨ä¿æŒä»£ç ä¼˜é›…çš„åŒæ—¶è·å¾—æ¥è¿‘C++çš„æ€§èƒ½ã€‚</p>
<p>æœ¬æ–‡å°†æ·±å…¥Kotlinæ€§èƒ½ä¼˜åŒ–çš„æ ¸å¿ƒæŠ€æœ¯ï¼Œä»å†…è”æœºåˆ¶åˆ°å†…å­˜ç®¡ç†ï¼Œä»å­—èŠ‚ç åˆ†æåˆ°å®æˆ˜ä¼˜åŒ–ç­–ç•¥ï¼Œå¸®åŠ©ä½ å†™å‡ºæ—¢ä¼˜é›…åˆé«˜æ•ˆçš„Kotlinä»£ç ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ç†è§£æ€§èƒ½ï¼šä»JVMåˆ°Kotlin</h2>
<h3 data-id="heading-2">1.1 Kotlinä»£ç çš„æ‰§è¡Œè·¯å¾„</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f2b2c726f3348179db7511f905273cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121117&amp;x-signature=wCG0FT8vNfGw%2FXwLkINAl%2FPCqjU%3D" alt="16-01-kotlin-execution-flow.png" loading="lazy"/></p>
<p>Kotlinä»£ç çš„æ‰§è¡Œç»å†ä»¥ä¸‹é˜¶æ®µï¼š</p>
<pre><code class="hljs language-scss" lang="scss">Kotlinæºç  (.kt)
    â†“ <span class="hljs-selector-attr">[Kotlinç¼–è¯‘å™¨]</span>
å­—èŠ‚ç  (.class)
    â†“ <span class="hljs-selector-attr">[JVMç±»åŠ è½½å™¨]</span>
JVMå†…å­˜ï¼ˆæ–¹æ³•åŒº/å †/æ ˆï¼‰
    â†“ <span class="hljs-selector-attr">[JITç¼–è¯‘å™¨]</span>
æœºå™¨ç 
    â†“ <span class="hljs-selector-attr">[CPUæ‰§è¡Œ]</span>
ç¨‹åºè¿è¡Œç»“æœ
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ol>
<li><strong>ç¼–è¯‘æ—¶ä¼˜åŒ–</strong>ï¼šKotlinç¼–è¯‘å™¨å¯ä»¥è¿›è¡Œå†…è”ã€å¸¸é‡æŠ˜å ç­‰ä¼˜åŒ–</li>
<li><strong>JVMä¼˜åŒ–</strong>ï¼šJITç¼–è¯‘å™¨ä¼šçƒ­ç‚¹ä»£ç ä¼˜åŒ–ä¸ºæœºå™¨ç </li>
<li><strong>è¿è¡Œæ—¶æˆæœ¬</strong>ï¼šå¯¹è±¡åˆ›å»ºã€åƒåœ¾å›æ”¶ã€æ–¹æ³•è°ƒç”¨éƒ½æœ‰å¼€é”€</li>
</ol>
<h3 data-id="heading-3">1.2 æ€§èƒ½ç“¶é¢ˆçš„ä¸‰å¤§æ¥æº</h3>
<p><strong>1. å¯¹è±¡åˆ†é…ä¸GC</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ æ¯æ¬¡è°ƒç”¨éƒ½åˆ›å»ºæ–°çš„Lambdaå¯¹è±¡</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processItems</span><span class="hljs-params">(items: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Int</span>&gt;)</span></span> {
    items.forEach { item -&gt;  <span class="hljs-comment">// Lambdaåˆ›å»ºå¯¹è±¡</span>
        println(item)
    }
}

<span class="hljs-comment">// âœ… ä½¿ç”¨å†…è”å‡½æ•°é¿å…å¯¹è±¡åˆ›å»º</span>
<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processItems</span><span class="hljs-params">(items: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Int</span>&gt;)</span></span> {
    items.forEach { item -&gt;  <span class="hljs-comment">// å†…è”åæ— å¯¹è±¡åˆ›å»º</span>
        println(item)
    }
}
</code></pre>
<p><strong>2. æ–¹æ³•è°ƒç”¨å¼€é”€</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ è™šæ–¹æ³•è°ƒç”¨ï¼ˆåŠ¨æ€åˆ†æ´¾ï¼‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Calculator</span> {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">add</span><span class="hljs-params">(a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span>
}
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleCalc</span> : <span class="hljs-type">Calculator</span> {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">add</span><span class="hljs-params">(a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">Int</span>)</span></span> = a + b
}

<span class="hljs-comment">// âœ… é™æ€æ–¹æ³•è°ƒç”¨ï¼ˆå†…è”ï¼‰</span>
<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">add</span><span class="hljs-params">(a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">Int</span>)</span></span> = a + b
</code></pre>
<p><strong>3. è£…ç®±/æ‹†ç®±å¼€é”€</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ åŸºæœ¬ç±»å‹è£…ç®±ä¸ºå¯¹è±¡</span>
<span class="hljs-keyword">val</span> numbers: List&lt;<span class="hljs-built_in">Int</span>&gt; = listOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)  <span class="hljs-comment">// Intè£…ç®±ä¸ºInteger</span>

<span class="hljs-comment">// âœ… ä½¿ç”¨ä¸“ç”¨é›†åˆé¿å…è£…ç®±</span>
<span class="hljs-keyword">val</span> numbers: IntArray = intArrayOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)  <span class="hljs-comment">// åŸå§‹ç±»å‹æ•°ç»„</span>
</code></pre>
<h3 data-id="heading-4">1.3 æ€§èƒ½åˆ†æå·¥å…·</h3>



































<table><thead><tr><th>å·¥å…·</th><th>ç”¨é€”</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Android Profiler</strong></td><td>CPU/å†…å­˜/ç½‘ç»œåˆ†æ</td><td>Androidåº”ç”¨æ€§èƒ½åˆ†æ</td></tr><tr><td><strong>IntelliJ Profiler</strong></td><td>CPUç«ç„°å›¾ã€å†…å­˜åˆ†é…</td><td>JVMåº”ç”¨å¼€å‘æ—¶åˆ†æ</td></tr><tr><td><strong>JMH (Java Microbenchmark Harness)</strong></td><td>å¾®åŸºå‡†æµ‹è¯•</td><td>ç²¾ç¡®æµ‹é‡ä»£ç æ€§èƒ½</td></tr><tr><td><strong>javap</strong></td><td>åç¼–è¯‘å­—èŠ‚ç </td><td>ç†è§£ç¼–è¯‘å™¨ç”Ÿæˆçš„ä»£ç </td></tr><tr><td><strong>JVM Bytecode Viewer</strong></td><td>å¯è§†åŒ–å­—èŠ‚ç </td><td>åˆ†ææ–¹æ³•è°ƒç”¨å’Œå¯¹è±¡åˆ›å»º</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-5">äºŒã€å†…è”å‡½æ•°ï¼šé›¶å¼€é”€æŠ½è±¡çš„ç§˜å¯†</h2>
<h3 data-id="heading-6">2.1 å†…è”å‡½æ•°åŸç†</h3>
<p><strong>ä»€ä¹ˆæ˜¯å†…è”</strong>ï¼Ÿ
å†…è”æ˜¯å°†å‡½æ•°è°ƒç”¨å¤„æ›¿æ¢ä¸ºå‡½æ•°ä½“ä»£ç ï¼Œé¿å…æ–¹æ³•è°ƒç”¨å¼€é”€å’ŒLambdaå¯¹è±¡åˆ›å»ºã€‚</p>
<p><strong>æ™®é€šå‡½æ•°è°ƒç”¨</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">calculate</span><span class="hljs-params">(a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">Int</span>, operation: (<span class="hljs-type">Int</span>, <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span> {
    <span class="hljs-keyword">return</span> operation(a, b)
}

<span class="hljs-keyword">val</span> result = calculate(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>) { x, y -&gt; x + y }
</code></pre>
<p><strong>ç¼–è¯‘åçš„å­—èŠ‚ç ç­‰ä»·äº</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Lambdaè¢«ç¼–è¯‘ä¸ºä¸€ä¸ªå¯¹è±¡</span>
<span class="hljs-type">Function2</span> <span class="hljs-variable">operation</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Function2</span>() {
    <span class="hljs-keyword">public</span> Integer <span class="hljs-title function_">invoke</span><span class="hljs-params">(Integer x, Integer y)</span> {
        <span class="hljs-keyword">return</span> x + y;
    }
};
<span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> calculate(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>, operation);
</code></pre>
<p><strong>å†…è”å‡½æ•°</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">calculate</span><span class="hljs-params">(a: <span class="hljs-type">Int</span>, b: <span class="hljs-type">Int</span>, operation: (<span class="hljs-type">Int</span>, <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span> {
    <span class="hljs-keyword">return</span> operation(a, b)
}

<span class="hljs-keyword">val</span> result = calculate(<span class="hljs-number">5</span>, <span class="hljs-number">3</span>) { x, y -&gt; x + y }
</code></pre>
<p><strong>ç¼–è¯‘åçš„å­—èŠ‚ç ç­‰ä»·äº</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å‡½æ•°ä½“ç›´æ¥å±•å¼€ï¼Œæ— å¯¹è±¡åˆ›å»º</span>
<span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span> + <span class="hljs-number">3</span>;
</code></pre>
<h3 data-id="heading-7">2.2 å†…è”å‡½æ•°çš„ä¸‰ç§å½¢å¼</h3>
<p><strong>1. åŸºæœ¬å†…è” (<code>inline</code>)</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">measure</span><span class="hljs-params">(block: () -&gt; <span class="hljs-type">T</span>)</span></span>: T {
    <span class="hljs-keyword">val</span> start = System.nanoTime()
    <span class="hljs-keyword">val</span> result = block()
    <span class="hljs-keyword">val</span> end = System.nanoTime()
    println(<span class="hljs-string">"Execution time: <span class="hljs-subst">${(end - start) / <span class="hljs-number">1</span>_000_000}</span>ms"</span>)
    <span class="hljs-keyword">return</span> result
}

<span class="hljs-comment">// ä½¿ç”¨</span>
measure {
    Thread.sleep(<span class="hljs-number">100</span>)
}

<span class="hljs-comment">// ç¼–è¯‘åç­‰ä»·äºï¼š</span>
<span class="hljs-keyword">val</span> start = System.nanoTime()
Thread.sleep(<span class="hljs-number">100</span>)
<span class="hljs-keyword">val</span> end = System.nanoTime()
println(<span class="hljs-string">"Execution time: <span class="hljs-subst">${(end - start) / <span class="hljs-number">1</span>_000_000}</span>ms"</span>)
</code></pre>
<p><strong>2. å…·ä½“åŒ–ç±»å‹å‚æ•° (<code>inline</code> + <code>reified</code>)</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ æ™®é€šæ³›å‹ï¼šç±»å‹æ“¦é™¤ï¼Œæ— æ³•è·å–Tçš„å®é™…ç±»å‹</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">isInstance</span><span class="hljs-params">(value: <span class="hljs-type">Any</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> value <span class="hljs-keyword">is</span> T  <span class="hljs-comment">// ç¼–è¯‘é”™è¯¯ï¼</span>
}

<span class="hljs-comment">// âœ… å†…è”+reifiedï¼šä¿ç•™ç±»å‹ä¿¡æ¯</span>
<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;<span class="hljs-keyword">reified</span> T&gt;</span> <span class="hljs-title">isInstance</span><span class="hljs-params">(value: <span class="hljs-type">Any</span>)</span></span>: <span class="hljs-built_in">Boolean</span> {
    <span class="hljs-keyword">return</span> value <span class="hljs-keyword">is</span> T  <span class="hljs-comment">// æ­£ç¡®ï¼</span>
}

<span class="hljs-comment">// ä½¿ç”¨</span>
println(isInstance&lt;String&gt;(<span class="hljs-string">"Hello"</span>))  <span class="hljs-comment">// true</span>
println(isInstance&lt;<span class="hljs-built_in">Int</span>&gt;(<span class="hljs-string">"Hello"</span>))     <span class="hljs-comment">// false</span>
</code></pre>
<p><strong>å®æˆ˜æ¡ˆä¾‹ï¼šç±»å‹å®‰å…¨çš„JSONè§£æ</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;<span class="hljs-keyword">reified</span> T&gt;</span> String.<span class="hljs-title">parseJson</span><span class="hljs-params">()</span></span>: T {
    <span class="hljs-keyword">val</span> json = Json { ignoreUnknownKeys = <span class="hljs-literal">true</span> }
    <span class="hljs-keyword">return</span> json.decodeFromString&lt;T&gt;(<span class="hljs-keyword">this</span>)
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(<span class="hljs-keyword">val</span> id: <span class="hljs-built_in">Int</span>, <span class="hljs-keyword">val</span> name: String)

<span class="hljs-keyword">val</span> jsonString = <span class="hljs-string">"""{"id": 1, "name": "Alice"}"""</span>
<span class="hljs-keyword">val</span> user: User = jsonString.parseJson()  <span class="hljs-comment">// ç±»å‹å®‰å…¨ï¼</span>
</code></pre>
<p><strong>3. ç¦æ­¢å†…è” (<code>noinline</code>)</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processData</span><span class="hljs-params">(
    <span class="hljs-keyword">data</span>: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Int</span>&gt;,
    <span class="hljs-keyword">inline</span> transform: (<span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Int</span>,      <span class="hljs-comment">// ä¼šè¢«å†…è”</span>
    <span class="hljs-keyword">noinline</span> callback: (<span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Unit</span>      <span class="hljs-comment">// ä¸ä¼šè¢«å†…è”</span>
)</span></span> {
    <span class="hljs-keyword">val</span> transformed = <span class="hljs-keyword">data</span>.map(transform)
    transformed.forEach(callback)
}

<span class="hljs-comment">// ä¸ºä»€ä¹ˆéœ€è¦noinlineï¼Ÿ</span>
<span class="hljs-comment">// 1. callbackå¯èƒ½è¢«å­˜å‚¨æˆ–ä¼ é€’ç»™å…¶ä»–å‡½æ•°</span>
<span class="hljs-comment">// 2. callbackå¯èƒ½éœ€è¦ä½œä¸ºå¯¹è±¡ä½¿ç”¨</span>
</code></pre>
<h3 data-id="heading-8">2.3 å†…è”å‡½æ•°çš„æ€§èƒ½å½±å“</h3>
<p><strong>åŸºå‡†æµ‹è¯•å¯¹æ¯”</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> kotlinx.benchmark.*
<span class="hljs-keyword">import</span> kotlin.random.Random

<span class="hljs-meta">@State(Scope.Benchmark)</span>
<span class="hljs-meta">@BenchmarkMode(Mode.AverageTime)</span>
<span class="hljs-meta">@OutputTimeUnit(BenchmarkTimeUnit.MILLISECONDS)</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">InlineBenchmark</span> {

    <span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span> = List(<span class="hljs-number">100_000</span>) { Random.nextInt(<span class="hljs-number">1000</span>) }

    <span class="hljs-comment">// æ™®é€šé«˜é˜¶å‡½æ•°</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> List<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">myFilter</span><span class="hljs-params">(predicate: (<span class="hljs-type">T</span>) -&gt; <span class="hljs-type">Boolean</span>)</span></span>: List&lt;T&gt; {
        <span class="hljs-keyword">val</span> result = mutableListOf&lt;T&gt;()
        <span class="hljs-keyword">for</span> (element <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>) {
            <span class="hljs-keyword">if</span> (predicate(element)) {
                result.add(element)
            }
        }
        <span class="hljs-keyword">return</span> result
    }

    <span class="hljs-comment">// å†…è”é«˜é˜¶å‡½æ•°</span>
    <span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> List<span class="hljs-type">&lt;T&gt;</span>.<span class="hljs-title">myFilterInline</span><span class="hljs-params">(predicate: (<span class="hljs-type">T</span>) -&gt; <span class="hljs-type">Boolean</span>)</span></span>: List&lt;T&gt; {
        <span class="hljs-keyword">val</span> result = mutableListOf&lt;T&gt;()
        <span class="hljs-keyword">for</span> (element <span class="hljs-keyword">in</span> <span class="hljs-keyword">this</span>) {
            <span class="hljs-keyword">if</span> (predicate(element)) {
                result.add(element)
            }
        }
        <span class="hljs-keyword">return</span> result
    }

    <span class="hljs-meta">@Benchmark</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">filterNormal</span><span class="hljs-params">()</span></span>: List&lt;<span class="hljs-built_in">Int</span>&gt; {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">data</span>.myFilter { it &gt; <span class="hljs-number">500</span> }
    }

    <span class="hljs-meta">@Benchmark</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">filterInline</span><span class="hljs-params">()</span></span>: List&lt;<span class="hljs-built_in">Int</span>&gt; {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">data</span>.myFilterInline { it &gt; <span class="hljs-number">500</span> }
    }
}

<span class="hljs-comment">// ç»“æœï¼ˆç¤ºä¾‹ï¼‰ï¼š</span>
<span class="hljs-comment">// filterNormal:  5.2ms  (åˆ›å»ºLambdaå¯¹è±¡)</span>
<span class="hljs-comment">// filterInline:  2.1ms  (å†…è”å±•å¼€ï¼Œæ— å¯¹è±¡åˆ›å»º)</span>
<span class="hljs-comment">// æ€§èƒ½æå‡ï¼š~60%</span>
</code></pre>
<h3 data-id="heading-9">2.4 ä½•æ—¶ä½¿ç”¨å†…è”</h3>
<p><strong>âœ… åº”è¯¥ä½¿ç”¨å†…è”çš„åœºæ™¯</strong>ï¼š</p>
<ol>
<li><strong>é«˜é˜¶å‡½æ•°</strong>ï¼šæ¥å—Lambdaå‚æ•°çš„å·¥å…·å‡½æ•°</li>
<li><strong>é¢‘ç¹è°ƒç”¨çš„å°å‡½æ•°</strong>ï¼šæ€§èƒ½æ•æ„Ÿçš„çƒ­ç‚¹ä»£ç </li>
<li><strong>éœ€è¦å…·ä½“åŒ–ç±»å‹å‚æ•°</strong>ï¼šä½¿ç”¨<code>reified</code>çš„åœ°æ–¹</li>
</ol>
<p><strong>âŒ ä¸åº”è¯¥ä½¿ç”¨å†…è”çš„åœºæ™¯</strong>ï¼š</p>
<ol>
<li><strong>å¤§å‹å‡½æ•°</strong>ï¼šä»£ç ä½“ç§¯è†¨èƒ€ï¼ˆæ¯ä¸ªè°ƒç”¨ç‚¹éƒ½å¤åˆ¶ä»£ç ï¼‰</li>
<li><strong>é€’å½’å‡½æ•°</strong>ï¼šæ— æ³•å†…è”</li>
<li><strong>è®¿é—®ç§æœ‰æˆå‘˜çš„å‡½æ•°</strong>ï¼šå†…è”åä¼šç ´åå°è£…</li>
</ol>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… å¥½çš„å†…è”ï¼šå°å‡½æ•° + Lambdaå‚æ•°</span>
<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> T.<span class="hljs-title">applyIf</span><span class="hljs-params">(condition: <span class="hljs-type">Boolean</span>, block: <span class="hljs-type">T</span>.() -&gt; <span class="hljs-type">Unit</span>)</span></span>: T {
    <span class="hljs-keyword">if</span> (condition) block()
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>
}

<span class="hljs-comment">// âŒ ä¸å¥½çš„å†…è”ï¼šå¤§å‡½æ•°ï¼ˆ100+è¡Œï¼‰</span>
<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processComplexData</span><span class="hljs-params">(<span class="hljs-keyword">data</span>: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Data</span>&gt;, config: <span class="hljs-type">Config</span>)</span></span> {
    <span class="hljs-comment">// 100è¡Œå¤æ‚é€»è¾‘...</span>
    <span class="hljs-comment">// æ¯ä¸ªè°ƒç”¨ç‚¹éƒ½ä¼šå¤åˆ¶è¿™100è¡Œä»£ç ï¼</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-10">ä¸‰ã€å†…å­˜ä¼˜åŒ–ï¼šå‡å°‘åˆ†é…ï¼Œé¿å…æ³„æ¼</h2>
<h3 data-id="heading-11">3.1 å¯¹è±¡åˆ†é…æˆæœ¬åˆ†æ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ce891a5a5b2448d8cf851e5551618d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121117&amp;x-signature=x%2BrWjgo3TH9b%2FCaDteNWEcCDji0%3D" alt="16-02-memory-allocation-gc.png" loading="lazy"/></p>
<p><strong>å¯¹è±¡åˆ†é…çš„éšè—æˆæœ¬</strong>ï¼š</p>
<ol>
<li><strong>åˆ†é…æ—¶é—´</strong>ï¼šåœ¨å †ä¸Šç”³è¯·å†…å­˜ï¼ˆå‡ åçº³ç§’ï¼‰</li>
<li><strong>åˆå§‹åŒ–æ—¶é—´</strong>ï¼šæ„é€ å‡½æ•°æ‰§è¡Œã€å­—æ®µèµ‹å€¼</li>
<li><strong>GCæˆæœ¬</strong>ï¼šå¯¹è±¡è¶Šå¤šï¼ŒGCæ‰«æå’Œå›æ”¶æ—¶é—´è¶Šé•¿</li>
</ol>
<p><strong>å®æµ‹æ•°æ®</strong>ï¼ˆJMHåŸºå‡†æµ‹è¯•ï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Benchmark</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">allocateObjects</span><span class="hljs-params">()</span></span> {
    repeat(<span class="hljs-number">10_000</span>) {
        <span class="hljs-keyword">val</span> obj = Data(it, <span class="hljs-string">"value<span class="hljs-variable">$it</span>"</span>)  <span class="hljs-comment">// æ¯æ¬¡åˆ†é…å¯¹è±¡</span>
    }
}

<span class="hljs-comment">// ç»“æœï¼š~1.2msï¼ˆåŒ…æ‹¬åˆ†é…+GCï¼‰</span>
<span class="hljs-comment">// å¦‚æœæ”¹ä¸ºå¯¹è±¡å¤ç”¨ï¼š~0.3msï¼ˆ75%æ€§èƒ½æå‡ï¼‰</span>
</code></pre>
<h3 data-id="heading-12">3.2 å‡å°‘å¯¹è±¡åˆ†é…çš„ç­–ç•¥</h3>
<p><strong>1. ä½¿ç”¨åŸºæœ¬ç±»å‹æ•°ç»„</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ è£…ç®±ï¼šæ¯ä¸ªIntéƒ½å˜æˆIntegerå¯¹è±¡</span>
<span class="hljs-keyword">val</span> numbers: List&lt;<span class="hljs-built_in">Int</span>&gt; = List(<span class="hljs-number">1_000_000</span>) { it }
<span class="hljs-comment">// å†…å­˜å ç”¨ï¼š~4MBï¼ˆIntegerå¯¹è±¡ï¼‰+ ~8MBï¼ˆå¯¹è±¡å¤´ï¼‰= 12MB</span>

<span class="hljs-comment">// âœ… åŸå§‹ç±»å‹æ•°ç»„ï¼šæ— è£…ç®±</span>
<span class="hljs-keyword">val</span> numbers: IntArray = IntArray(<span class="hljs-number">1_000_000</span>) { it }
<span class="hljs-comment">// å†…å­˜å ç”¨ï¼š~4MB</span>
<span class="hljs-comment">// æ€§èƒ½æå‡ï¼šè®¿é—®é€Ÿåº¦å¿«3-5å€</span>
</code></pre>
<p><strong>2. ä½¿ç”¨Sequenceå»¶è¿Ÿè®¡ç®—</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ Listï¼šä¸­é—´é›†åˆéƒ½ä¼šåˆ†é…å†…å­˜</span>
<span class="hljs-keyword">val</span> result = (<span class="hljs-number">1.</span><span class="hljs-number">.1_000_000</span>)
    .filter { it % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> }     <span class="hljs-comment">// åˆ›å»ºä¸­é—´Listï¼ˆ~50ä¸‡å…ƒç´ ï¼‰</span>
    .map { it * <span class="hljs-number">2</span> }              <span class="hljs-comment">// åˆ›å»ºå¦ä¸€ä¸ªä¸­é—´List</span>
    .take(<span class="hljs-number">10</span>)                    <span class="hljs-comment">// åªéœ€è¦10ä¸ª</span>

<span class="hljs-comment">// âœ… Sequenceï¼šæƒ°æ€§æ±‚å€¼ï¼Œæ— ä¸­é—´é›†åˆ</span>
<span class="hljs-keyword">val</span> result = (<span class="hljs-number">1.</span><span class="hljs-number">.1_000_000</span>).asSequence()
    .filter { it % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> }     <span class="hljs-comment">// å»¶è¿Ÿæ‰§è¡Œ</span>
    .map { it * <span class="hljs-number">2</span> }              <span class="hljs-comment">// å»¶è¿Ÿæ‰§è¡Œ</span>
    .take(<span class="hljs-number">10</span>)                    <span class="hljs-comment">// åªå¤„ç†éœ€è¦çš„å…ƒç´ </span>
    .toList()

<span class="hljs-comment">// å†…å­˜èŠ‚çœï¼š~4MB â†’ ~1KB</span>
</code></pre>
<p><strong>3. é¿å…ä¸å¿…è¦çš„Lambdaå¯¹è±¡</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserRepository</span> {
    <span class="hljs-comment">// âŒ æ¯æ¬¡è°ƒç”¨éƒ½åˆ›å»ºæ–°çš„Lambdaå¯¹è±¡</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">findUser</span><span class="hljs-params">(id: <span class="hljs-type">Int</span>)</span></span>: User? {
        <span class="hljs-keyword">return</span> database.query { user -&gt;
            user.id == id
        }
    }

    <span class="hljs-comment">// âœ… ä½¿ç”¨å†…è”å‡½æ•°é¿å…å¯¹è±¡åˆ›å»º</span>
    <span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">findUser</span><span class="hljs-params">(id: <span class="hljs-type">Int</span>)</span></span>: User? {
        <span class="hljs-keyword">return</span> database.queryInline { user -&gt;
            user.id == id
        }
    }
}
</code></pre>
<p><strong>4. å¯¹è±¡æ± å¤ç”¨</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// é«˜é¢‘åˆ›å»ºçš„å¯¹è±¡ä½¿ç”¨å¯¹è±¡æ± </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ObjectPool</span>&lt;<span class="hljs-type">T</span>&gt;(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> factory: () -&gt; T,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> reset: (T) -&gt; <span class="hljs-built_in">Unit</span>,
    maxSize: <span class="hljs-built_in">Int</span> = <span class="hljs-number">10</span>
) {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> pool = ArrayDeque&lt;T&gt;(maxSize)

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">acquire</span><span class="hljs-params">()</span></span>: T {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> (pool.isNotEmpty()) {
            pool.removeFirst()
        } <span class="hljs-keyword">else</span> {
            factory()
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">release</span><span class="hljs-params">(obj: <span class="hljs-type">T</span>)</span></span> {
        reset(obj)
        <span class="hljs-keyword">if</span> (pool.size &lt; <span class="hljs-number">10</span>) {
            pool.addLast(obj)
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šå¤ç”¨StringBuilder</span>
<span class="hljs-keyword">val</span> stringBuilderPool = ObjectPool(
    factory = { StringBuilder(<span class="hljs-number">256</span>) },
    reset = { it.clear() }
)

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">buildString</span><span class="hljs-params">()</span></span>: String {
    <span class="hljs-keyword">val</span> sb = stringBuilderPool.acquire()
    <span class="hljs-keyword">try</span> {
        sb.append(<span class="hljs-string">"Hello, "</span>)
        sb.append(<span class="hljs-string">"World!"</span>)
        <span class="hljs-keyword">return</span> sb.toString()
    } <span class="hljs-keyword">finally</span> {
        stringBuilderPool.release(sb)
    }
}
</code></pre>
<h3 data-id="heading-13">3.3 é¿å…å†…å­˜æ³„æ¼</h3>
<p><strong>å¸¸è§å†…å­˜æ³„æ¼åœºæ™¯</strong>ï¼š</p>
<p><strong>1. é™æ€å¼•ç”¨æŒæœ‰Activity/Fragment</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ å†…å­˜æ³„æ¼ï¼šé™æ€å˜é‡æŒæœ‰Activity</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LeakyActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> instance: LeakyActivity  <span class="hljs-comment">// å±é™©ï¼</span>
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        instance = <span class="hljs-keyword">this</span>  <span class="hljs-comment">// Activityæ— æ³•è¢«å›æ”¶</span>
    }
}

<span class="hljs-comment">// âœ… ä½¿ç”¨å¼±å¼•ç”¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> instanceRef: WeakReference&lt;SafeActivity&gt;? = <span class="hljs-literal">null</span>
        <span class="hljs-keyword">val</span> instance: SafeActivity? <span class="hljs-keyword">get</span>() = instanceRef?.<span class="hljs-keyword">get</span>()
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        instanceRef = WeakReference(<span class="hljs-keyword">this</span>)
    }
}
</code></pre>
<p><strong>2. åŒ¿åå†…éƒ¨ç±»æŒæœ‰å¤–éƒ¨å¼•ç”¨</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-comment">// âŒ å†…å­˜æ³„æ¼ï¼šHandleræŒæœ‰Activityå¼•ç”¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> handler = <span class="hljs-keyword">object</span> : Handler(Looper.getMainLooper()) {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">handleMessage</span><span class="hljs-params">(msg: <span class="hljs-type">Message</span>)</span></span> {
            <span class="hljs-comment">// è®¿é—®å¤–éƒ¨Activity</span>
            updateUI()  <span class="hljs-comment">// éšå¼æŒæœ‰this@MainActivity</span>
        }
    }

    <span class="hljs-comment">// âœ… ä½¿ç”¨é™æ€å†…éƒ¨ç±» + å¼±å¼•ç”¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> handler = SafeHandler(<span class="hljs-keyword">this</span>)

    <span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeHandler</span>(activity: MainActivity) : Handler(Looper.getMainLooper()) {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> activityRef = WeakReference(activity)

        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">handleMessage</span><span class="hljs-params">(msg: <span class="hljs-type">Message</span>)</span></span> {
            activityRef.<span class="hljs-keyword">get</span>()?.updateUI()
        }
    }
}
</code></pre>
<p><strong>3. åç¨‹Jobæœªå–æ¶ˆ</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserViewModel</span> : <span class="hljs-type">ViewModel</span>() {
    <span class="hljs-comment">// âŒ å†…å­˜æ³„æ¼ï¼šåç¨‹åœ¨åå°ç»§ç»­è¿è¡Œ</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadDataUnsafe</span><span class="hljs-params">()</span></span> {
        GlobalScope.launch {
            <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
                delay(<span class="hljs-number">1000</span>)
                <span class="hljs-comment">// è®¿é—®ViewModelï¼Œå¯¼è‡´ViewModelæ— æ³•è¢«å›æ”¶</span>
                updateData()
            }
        }
    }

    <span class="hljs-comment">// âœ… ä½¿ç”¨viewModelScopeè‡ªåŠ¨å–æ¶ˆ</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadDataSafe</span><span class="hljs-params">()</span></span> {
        viewModelScope.launch {
            <span class="hljs-keyword">while</span> (isActive) {
                delay(<span class="hljs-number">1000</span>)
                updateData()
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-14">3.4 å†…å­˜åˆ†æå·¥å…·</h3>
<p><strong>ä½¿ç”¨LeakCanaryæ£€æµ‹å†…å­˜æ³„æ¼</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// build.gradle.kts</span>
dependencies {
    debugImplementation(<span class="hljs-string">"com.squareup.leakcanary:leakcanary-android:2.12"</span>)
}

<span class="hljs-comment">// LeakCanaryè‡ªåŠ¨æ£€æµ‹æ³„æ¼ï¼Œå¹¶åœ¨é€šçŸ¥æ æŠ¥å‘Š</span>
</code></pre>
<p><strong>ä½¿ç”¨Android Profileråˆ†æå†…å­˜</strong>ï¼š</p>
<ol>
<li>å¯åŠ¨Memory Profiler</li>
<li>æ“ä½œåº”ç”¨è§¦å‘å†…å­˜åˆ†é…</li>
<li>æ•è·å †è½¬å‚¨ï¼ˆHeap Dumpï¼‰</li>
<li>åˆ†æå¤§å¯¹è±¡å’Œå¼•ç”¨é“¾</li>
</ol>
<hr/>
<h2 data-id="heading-15">å››ã€å­—èŠ‚ç åˆ†æï¼šçœ‹ç©¿ç¼–è¯‘å™¨çš„é­”æ³•</h2>
<h3 data-id="heading-16">4.1 ä½¿ç”¨javapæŸ¥çœ‹å­—èŠ‚ç </h3>
<p><strong>åç¼–è¯‘Kotlinç±»</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¯‘Kotlinä»£ç </span>
kotlinc Example.kt -d Example.class

<span class="hljs-comment"># æŸ¥çœ‹å­—èŠ‚ç </span>
javap -c -p Example.class
</code></pre>
<p><strong>ç¤ºä¾‹ï¼šLambdaè¡¨è¾¾å¼çš„å­—èŠ‚ç </strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Kotlinä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> numbers = listOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)
    numbers.forEach { println(it) }
}
</code></pre>
<p><strong>ç¼–è¯‘åçš„å­—èŠ‚ç ï¼ˆç®€åŒ–ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Lambdaè¢«ç¼–è¯‘ä¸ºä¸€ä¸ªç±»</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainKt$main$1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Lambda</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Function1</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">invoke</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> {
        System.out.println(value);
    }
}

<span class="hljs-comment">// mainå‡½æ•°ä¸­åˆ›å»ºLambdaå¯¹è±¡</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    <span class="hljs-type">List</span> <span class="hljs-variable">numbers</span> <span class="hljs-operator">=</span> CollectionsKt.listOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);
    <span class="hljs-type">Function1</span> <span class="hljs-variable">lambda</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MainKt$main$1</span>();  <span class="hljs-comment">// åˆ›å»ºå¯¹è±¡</span>
    CollectionsKt.forEach(numbers, lambda);
}
</code></pre>
<p><strong>å†…è”åçš„å­—èŠ‚ç </strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> numbers = listOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)
    numbers.forEach { println(it) }
}
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å†…è”åï¼šLambdaæ¶ˆå¤±ï¼Œç›´æ¥å±•å¼€</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    <span class="hljs-type">List</span> <span class="hljs-variable">numbers</span> <span class="hljs-operator">=</span> CollectionsKt.listOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);
    <span class="hljs-type">Iterator</span> <span class="hljs-variable">iter</span> <span class="hljs-operator">=</span> numbers.iterator();
    <span class="hljs-keyword">while</span> (iter.hasNext()) {
        <span class="hljs-type">int</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> (Integer) iter.next();
        System.out.println(value);  <span class="hljs-comment">// ç›´æ¥è°ƒç”¨</span>
    }
}
</code></pre>
<h3 data-id="heading-17">4.2 å¸¸è§Kotlinç‰¹æ€§çš„å­—èŠ‚ç åˆ†æ</h3>
<p><strong>1. Data Class</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(<span class="hljs-keyword">val</span> id: <span class="hljs-built_in">Int</span>, <span class="hljs-keyword">val</span> name: String)
</code></pre>
<p><strong>ç”Ÿæˆçš„å­—èŠ‚ç åŒ…å«</strong>ï¼š</p>
<ul>
<li><code>equals()</code> / <code>hashCode()</code> / <code>toString()</code></li>
<li><code>copy()</code> æ–¹æ³•</li>
<li><code>componentN()</code> æ–¹æ³•ï¼ˆç”¨äºè§£æ„ï¼‰</li>
</ul>
<p><strong>æ€§èƒ½å½±å“</strong>ï¼š</p>
<ul>
<li><code>equals()</code> / <code>hashCode()</code> è°ƒç”¨å¼€é”€</li>
<li><code>copy()</code> ä¼šåˆ›å»ºæ–°å¯¹è±¡</li>
</ul>
<p><strong>2. å±æ€§è®¿é—®</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-keyword">var</span> name: String = <span class="hljs-string">""</span>
}

<span class="hljs-comment">// Kotlinä»£ç </span>
<span class="hljs-keyword">val</span> person = Person()
person.name = <span class="hljs-string">"Alice"</span>
<span class="hljs-keyword">val</span> n = person.name
</code></pre>
<p><strong>å­—èŠ‚ç ç­‰ä»·äº</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">Person</span> <span class="hljs-variable">person</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>();
person.setName(<span class="hljs-string">"Alice"</span>);    <span class="hljs-comment">// è°ƒç”¨setter</span>
<span class="hljs-type">String</span> <span class="hljs-variable">n</span> <span class="hljs-operator">=</span> person.getName(); <span class="hljs-comment">// è°ƒç”¨getter</span>
</code></pre>
<p><strong>ä¼˜åŒ–ï¼šä½¿ç”¨<code>@JvmField</code></strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
    <span class="hljs-meta">@JvmField</span>
    <span class="hljs-keyword">var</span> name: String = <span class="hljs-string">""</span>
}

<span class="hljs-comment">// å­—èŠ‚ç ç­‰ä»·äº</span>
person.name = <span class="hljs-string">"Alice"</span>;  <span class="hljs-comment">// ç›´æ¥å­—æ®µè®¿é—®</span>
String n = person.name;
</code></pre>
<p><strong>3. å§”æ‰˜å±æ€§</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-keyword">var</span> name: String <span class="hljs-keyword">by</span> Delegates.observable(<span class="hljs-string">""</span>) { _, old, new -&gt;
        println(<span class="hljs-string">"Changed from <span class="hljs-variable">$old</span> to <span class="hljs-variable">$new</span>"</span>)
    }
}
</code></pre>
<p><strong>å­—èŠ‚ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç¼–è¯‘ä¸º</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ReadWriteProperty</span> <span class="hljs-variable">name$delegate</span> <span class="hljs-operator">=</span> ...;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> name$delegate.getValue(<span class="hljs-built_in">this</span>, ...);
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String value)</span> {
    name$delegate.setValue(<span class="hljs-built_in">this</span>, ..., value);
}
</code></pre>
<p><strong>æ€§èƒ½å½±å“</strong>ï¼šæ¯æ¬¡è®¿é—®éƒ½æœ‰é¢å¤–çš„æ–¹æ³•è°ƒç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-18">äº”ã€å®æˆ˜ä¼˜åŒ–æ¡ˆä¾‹</h2>
<h3 data-id="heading-19">5.1 æ¡ˆä¾‹ä¸€ï¼šä¼˜åŒ–é›†åˆæ“ä½œ</h3>
<p><strong>é—®é¢˜</strong>ï¼šå¤„ç†ç™¾ä¸‡çº§æ•°æ®æ—¶æ€§èƒ½ç“¶é¢ˆ</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ åŸå§‹ä»£ç ï¼š3800ms</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processData</span><span class="hljs-params">(<span class="hljs-keyword">data</span>: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Int</span>&gt;)</span></span>: List&lt;<span class="hljs-built_in">Int</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">data</span>
        .filter { it &gt; <span class="hljs-number">0</span> }           <span class="hljs-comment">// ä¸­é—´List</span>
        .map { it * <span class="hljs-number">2</span> }               <span class="hljs-comment">// ä¸­é—´List</span>
        .filter { it &lt; <span class="hljs-number">10000</span> }        <span class="hljs-comment">// ä¸­é—´List</span>
        .sorted()                     <span class="hljs-comment">// ä¸­é—´List</span>
        .take(<span class="hljs-number">1000</span>)
}
</code></pre>
<p><strong>ä¼˜åŒ–æ­¥éª¤</strong>ï¼š</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šä½¿ç”¨Sequenceï¼ˆ1200msï¼Œ68%æå‡ï¼‰</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processDataOptimized1</span><span class="hljs-params">(<span class="hljs-keyword">data</span>: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Int</span>&gt;)</span></span>: List&lt;<span class="hljs-built_in">Int</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">data</span>.asSequence()
        .filter { it &gt; <span class="hljs-number">0</span> }
        .map { it * <span class="hljs-number">2</span> }
        .filter { it &lt; <span class="hljs-number">10000</span> }
        .sorted()
        .take(<span class="hljs-number">1000</span>)
        .toList()
}
</code></pre>
<p><strong>ç¬¬äºŒæ­¥ï¼šé¿å…ä¸å¿…è¦çš„sortedï¼ˆ200msï¼Œ95%æå‡ï¼‰</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processDataOptimized2</span><span class="hljs-params">(<span class="hljs-keyword">data</span>: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Int</span>&gt;)</span></span>: List&lt;<span class="hljs-built_in">Int</span>&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">data</span>.asSequence()
        .filter { it &gt; <span class="hljs-number">0</span> &amp;&amp; it * <span class="hljs-number">2</span> &lt; <span class="hljs-number">10000</span> }  <span class="hljs-comment">// åˆå¹¶è¿‡æ»¤æ¡ä»¶</span>
        .map { it * <span class="hljs-number">2</span> }
        .sorted()
        .take(<span class="hljs-number">1000</span>)
        .toList()
}
</code></pre>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨åŸå§‹ç±»å‹æ•°ç»„ï¼ˆ80msï¼Œ98%æå‡ï¼‰</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processDataOptimized3</span><span class="hljs-params">(<span class="hljs-keyword">data</span>: <span class="hljs-type">IntArray</span>)</span></span>: IntArray {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">data</span>
        .filter { it &gt; <span class="hljs-number">0</span> &amp;&amp; it * <span class="hljs-number">2</span> &lt; <span class="hljs-number">10000</span> }
        .map { it * <span class="hljs-number">2</span> }
        .sorted()
        .take(<span class="hljs-number">1000</span>)
        .toIntArray()
}
</code></pre>
<p><strong>æ€§èƒ½å¯¹æ¯”</strong>ï¼š</p>



































<table><thead><tr><th>ç‰ˆæœ¬</th><th>æ‰§è¡Œæ—¶é—´</th><th>å†…å­˜åˆ†é…</th><th>æ”¹è¿›</th></tr></thead><tbody><tr><td>åŸå§‹</td><td>3800ms</td><td>~50MB</td><td>-</td></tr><tr><td>Sequence</td><td>1200ms</td><td>~10MB</td><td>68%</td></tr><tr><td>åˆå¹¶è¿‡æ»¤</td><td>200ms</td><td>~8MB</td><td>95%</td></tr><tr><td>IntArray</td><td>80ms</td><td>~4MB</td><td>98%</td></tr></tbody></table>
<h3 data-id="heading-20">5.2 æ¡ˆä¾‹äºŒï¼šä¼˜åŒ–é¢‘ç¹çš„å­—ç¬¦ä¸²æ‹¼æ¥</h3>
<p><strong>é—®é¢˜</strong>ï¼šæ„å»ºå¤§é‡HTMLå­—ç¬¦ä¸²</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ åŸå§‹ä»£ç ï¼šæ¯æ¬¡+æ“ä½œéƒ½åˆ›å»ºæ–°å­—ç¬¦ä¸²</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">buildHtml</span><span class="hljs-params">(items: <span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span>: String {
    <span class="hljs-keyword">var</span> html = <span class="hljs-string">"&lt;ul&gt;"</span>
    <span class="hljs-keyword">for</span> (item <span class="hljs-keyword">in</span> items) {
        html += <span class="hljs-string">"&lt;li&gt;<span class="hljs-variable">$item</span>&lt;/li&gt;"</span>  <span class="hljs-comment">// æ¯æ¬¡éƒ½åˆ›å»ºæ–°å­—ç¬¦ä¸²å¯¹è±¡</span>
    }
    html += <span class="hljs-string">"&lt;/ul&gt;"</span>
    <span class="hljs-keyword">return</span> html
}

<span class="hljs-comment">// 1000ä¸ªå…ƒç´ ï¼š~500ms</span>
</code></pre>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼š</p>
<p><strong>ä½¿ç”¨StringBuilderï¼ˆ50msï¼Œ90%æå‡ï¼‰</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">buildHtmlOptimized</span><span class="hljs-params">(items: <span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span>: String {
    <span class="hljs-keyword">val</span> sb = StringBuilder(<span class="hljs-string">"&lt;ul&gt;"</span>)
    <span class="hljs-keyword">for</span> (item <span class="hljs-keyword">in</span> items) {
        sb.append(<span class="hljs-string">"&lt;li&gt;"</span>).append(item).append(<span class="hljs-string">"&lt;/li&gt;"</span>)
    }
    sb.append(<span class="hljs-string">"&lt;/ul&gt;"</span>)
    <span class="hljs-keyword">return</span> sb.toString()
}
</code></pre>
<p><strong>ä½¿ç”¨buildStringï¼ˆåŒæ ·é«˜æ•ˆä¸”æ›´ä¼˜é›…ï¼‰</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">buildHtmlKotlin</span><span class="hljs-params">(items: <span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span>: String = buildString {
    append(<span class="hljs-string">"&lt;ul&gt;"</span>)
    <span class="hljs-keyword">for</span> (item <span class="hljs-keyword">in</span> items) {
        append(<span class="hljs-string">"&lt;li&gt;"</span>).append(item).append(<span class="hljs-string">"&lt;/li&gt;"</span>)
    }
    append(<span class="hljs-string">"&lt;/ul&gt;"</span>)
}
</code></pre>
<h3 data-id="heading-21">5.3 æ¡ˆä¾‹ä¸‰ï¼šä¼˜åŒ–åç¨‹å¯†é›†å‹ä»»åŠ¡</h3>
<p><strong>é—®é¢˜</strong>ï¼šå¯åŠ¨10,000ä¸ªåç¨‹å¯¼è‡´æ€§èƒ½é—®é¢˜</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ åŸå§‹ä»£ç ï¼šçº¿ç¨‹æ± è€—å°½ï¼ŒOOM</span>
<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processAllUsers</span><span class="hljs-params">(users: <span class="hljs-type">List</span>&lt;<span class="hljs-type">User</span>&gt;)</span></span> {
    users.forEach { user -&gt;
        launch {  <span class="hljs-comment">// å¯åŠ¨10,000ä¸ªåç¨‹</span>
            processUser(user)
        }
    }
}
</code></pre>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼š</p>
<p><strong>ä½¿ç”¨å¹¶å‘é™åˆ¶ï¼ˆSemaphoreï¼‰</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processAllUsersOptimized</span><span class="hljs-params">(users: <span class="hljs-type">List</span>&lt;<span class="hljs-type">User</span>&gt;)</span></span> {
    <span class="hljs-keyword">val</span> semaphore = Semaphore(<span class="hljs-number">100</span>)  <span class="hljs-comment">// æœ€å¤š100ä¸ªå¹¶å‘</span>

    users.forEach { user -&gt;
        launch {
            semaphore.withPermit {
                processUser(user)
            }
        }
    }
}
</code></pre>
<p><strong>ä½¿ç”¨Channel + Flowæ§åˆ¶å¹¶å‘</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">processAllUsersFlow</span><span class="hljs-params">(users: <span class="hljs-type">List</span>&lt;<span class="hljs-type">User</span>&gt;)</span></span> {
    users.asFlow()
        .buffer(<span class="hljs-number">100</span>)  <span class="hljs-comment">// ç¼“å†²100ä¸ª</span>
        .map { user -&gt;
            processUser(user)
        }
        .collect()
}
</code></pre>
<hr/>
<h2 data-id="heading-22">å…­ã€æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/170c5fb9025d44e8b72a90cc27cf83e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121117&amp;x-signature=T8xbYinsiWr%2FUBYHX1Hp2LuzIdk%3D" alt="16-03-performance-optimization-guide.png" loading="lazy"/></p>
<h3 data-id="heading-23">6.1 ä¼˜åŒ–åŸåˆ™</h3>
<p><strong>1. å…ˆæµ‹é‡ï¼Œå†ä¼˜åŒ–</strong></p>
<blockquote>
<p>"è¿‡æ—©ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æº" â€”â€” Donald Knuth</p>
</blockquote>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… ä½¿ç”¨åŸºå‡†æµ‹è¯•é‡åŒ–æ€§èƒ½</span>
<span class="hljs-meta">@Benchmark</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">originalVersion</span><span class="hljs-params">()</span></span> { ... }

<span class="hljs-meta">@Benchmark</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">optimizedVersion</span><span class="hljs-params">()</span></span> { ... }

<span class="hljs-comment">// å¯¹æ¯”æ•°æ®ï¼šæ˜¯å¦å€¼å¾—ä¼˜åŒ–ï¼Ÿ</span>
</code></pre>
<p><strong>2. 80/20æ³•åˆ™ï¼šä¼˜åŒ–çƒ­ç‚¹ä»£ç </strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½¿ç”¨Profileræ‰¾å‡ºå ç”¨æ—¶é—´æœ€å¤šçš„20%ä»£ç </span>
<span class="hljs-comment">// ä¼˜åŒ–è¿™20%å³å¯è·å¾—80%çš„æ€§èƒ½æå‡</span>
</code></pre>
<p><strong>3. å¹³è¡¡å¯è¯»æ€§ä¸æ€§èƒ½</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ è¿‡åº¦ä¼˜åŒ–ï¼šç‰ºç‰²å¯è¯»æ€§</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">calculate</span><span class="hljs-params">(x: <span class="hljs-type">Int</span>)</span></span> = <span class="hljs-keyword">if</span> (x and <span class="hljs-number">1</span> == <span class="hljs-number">0</span>) x shr <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> x * <span class="hljs-number">3</span> + <span class="hljs-number">1</span>

<span class="hljs-comment">// âœ… æ¸…æ™°ä¼˜å…ˆï¼šé™¤éæ€§èƒ½æµ‹è¯•è¯æ˜æœ‰é—®é¢˜</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">calculate</span><span class="hljs-params">(x: <span class="hljs-type">Int</span>)</span></span> = <span class="hljs-keyword">if</span> (x % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) x / <span class="hljs-number">2</span> <span class="hljs-keyword">else</span> x * <span class="hljs-number">3</span> + <span class="hljs-number">1</span>
</code></pre>
<h3 data-id="heading-24">6.2 æ€§èƒ½ä¼˜åŒ–æ£€æŸ¥æ¸…å•</h3>
<p><strong>ç¼–è¯‘æ—¶ä¼˜åŒ–</strong>ï¼š</p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä½¿ç”¨<code>inline</code>ä¼˜åŒ–é«˜é˜¶å‡½æ•°</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä½¿ç”¨<code>@JvmField</code>é¿å…ä¸å¿…è¦çš„getter/setter</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä½¿ç”¨<code>const val</code>æ ‡è®°ç¼–è¯‘æ—¶å¸¸é‡</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä½¿ç”¨<code>@JvmStatic</code>å‡å°‘é™æ€æ–¹æ³•è°ƒç”¨å¼€é”€</li>
</ul>
<p><strong>å†…å­˜ä¼˜åŒ–</strong>ï¼š</p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä½¿ç”¨åŸå§‹ç±»å‹æ•°ç»„ï¼ˆIntArrayï¼‰æ›¿ä»£<code>List&lt;Int&gt;</code></li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä½¿ç”¨Sequenceæ›¿ä»£Listè¿›è¡Œå¤šæ­¥è½¬æ¢</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> é¿å…åœ¨å¾ªç¯ä¸­åˆ›å»ºå¯¹è±¡</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä½¿ç”¨å¯¹è±¡æ± å¤ç”¨é«˜é¢‘å¯¹è±¡</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> åŠæ—¶é‡Šæ”¾å¤§å¯¹è±¡å¼•ç”¨</li>
</ul>
<p><strong>ç®—æ³•ä¼˜åŒ–</strong>ï¼š</p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ï¼ˆHashMap vs ArrayListï¼‰</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> é¿å…O(nÂ²)å¤æ‚åº¦çš„åµŒå¥—å¾ªç¯</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ›¿ä»£çº¿æ€§æŸ¥æ‰¾</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ç¼“å­˜è®¡ç®—ç»“æœé¿å…é‡å¤è®¡ç®—</li>
</ul>
<p><strong>å¹¶å‘ä¼˜åŒ–</strong>ï¼š</p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä½¿ç”¨åç¨‹æ›¿ä»£çº¿ç¨‹</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> æ§åˆ¶å¹¶å‘æ•°é‡é¿å…èµ„æºè€—å°½</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ä½¿ç”¨<code>Flow</code>æ›¿ä»£<code>LiveData</code>å‡å°‘ä¸»çº¿ç¨‹è´Ÿæ‹…</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> åˆç†ä½¿ç”¨<code>Dispatchers</code>åˆ‡æ¢çº¿ç¨‹</li>
</ul>
<h3 data-id="heading-25">6.3 æ€§èƒ½ç›‘æ§ä¸æŒç»­ä¼˜åŒ–</h3>
<p><strong>é›†æˆæ€§èƒ½ç›‘æ§</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½¿ç”¨Firebase Performance Monitoring</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApplication</span> : <span class="hljs-type">Application</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onCreate()
        <span class="hljs-keyword">val</span> performance = FirebasePerformance.getInstance()

        <span class="hljs-comment">// è‡ªå®šä¹‰æ€§èƒ½è¿½è¸ª</span>
        <span class="hljs-keyword">val</span> trace = performance.newTrace(<span class="hljs-string">"data_processing"</span>)
        trace.start()
        processData()
        trace.stop()
    }
}
</code></pre>
<p><strong>å»ºç«‹æ€§èƒ½åŸºçº¿</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åœ¨CIä¸­è¿è¡ŒåŸºå‡†æµ‹è¯•</span>
<span class="hljs-comment">// ä»»ä½•æ€§èƒ½å›é€€è¶…è¿‡10%éƒ½åº”æŠ¥è­¦</span>
./gradlew jmhJar
java -jar build/libs/benchmarks.jar

<span class="hljs-comment">// å¯¹æ¯”ç»“æœä¸åŸºçº¿</span>
<span class="hljs-comment">// å½“å‰ï¼š1.2ms</span>
<span class="hljs-comment">// åŸºçº¿ï¼š1.0ms</span>
<span class="hljs-comment">// å›é€€ï¼š+20% âš ï¸ éœ€è¦ä¼˜åŒ–</span>
</code></pre>
<hr/>
<h2 data-id="heading-26">ä¸ƒã€æ€»ç»“ä¸å­¦ä¹ è·¯å¾„</h2>
<h3 data-id="heading-27">æ ¸å¿ƒè¦ç‚¹å›é¡¾</h3>
<ol>
<li><strong>ç†è§£æˆæœ¬</strong>ï¼šæ¯ä¸ªè¯­æ³•ç³–èƒŒåéƒ½æœ‰è¿è¡Œæ—¶æˆæœ¬ï¼ˆå¯¹è±¡åˆ›å»ºã€æ–¹æ³•è°ƒç”¨ã€GCï¼‰</li>
<li><strong>å†…è”æ˜¯å…³é”®</strong>ï¼š<code>inline</code>å‡½æ•°æ˜¯Kotliné›¶å¼€é”€æŠ½è±¡çš„æ ¸å¿ƒ</li>
<li><strong>å‡å°‘åˆ†é…</strong>ï¼šä½¿ç”¨Sequenceã€åŸå§‹ç±»å‹æ•°ç»„ã€å¯¹è±¡æ± å‡å°‘å†…å­˜å‹åŠ›</li>
<li><strong>å­—èŠ‚ç åˆ†æ</strong>ï¼šé€šè¿‡javapç†è§£ç¼–è¯‘å™¨çš„å®é™…è¡Œä¸º</li>
<li><strong>å…ˆæµ‹é‡å†ä¼˜åŒ–</strong>ï¼šä½¿ç”¨Profilerå’ŒJMHé‡åŒ–æ€§èƒ½</li>
</ol>
<h3 data-id="heading-28">å­¦ä¹ èµ„æº</h3>
<p><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š</p>
<ul>
<li>å†…è”å‡½æ•°æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlinlang.org%2Fdocs%2Finline-functions.html" target="_blank" title="https://kotlinlang.org/docs/inline-functions.html" ref="nofollow noopener noreferrer">kotlinlang.org/docs/inlineâ€¦</a></li>
</ul>
<p><strong>æ€§èƒ½åˆ†æå·¥å…·</strong>ï¼š</p>
<ul>
<li>JMH (Java Microbenchmark Harness)ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopenjdk%2Fjmh" target="_blank" title="https://github.com/openjdk/jmh" ref="nofollow noopener noreferrer">github.com/openjdk/jmh</a></li>
<li>Android Profilerï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fstudio%2Fprofile" target="_blank" title="https://developer.android.com/studio/profile" ref="nofollow noopener noreferrer">developer.android.com/studio/profâ€¦</a></li>
</ul>
<p><strong>æ·±å…¥é˜…è¯»</strong>ï¼š</p>
<ul>
<li>ã€ŠEffective Kotlinã€‹by Marcin MoskaÅ‚a - æ€§èƒ½ä¼˜åŒ–ç« èŠ‚</li>
<li>ã€ŠKotlin in Actionã€‹- å†…è”å‡½æ•°ä¸æ€§èƒ½</li>
<li>JVMæ€§èƒ½ä¼˜åŒ–åšå®¢ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fshipilev.net%2F" target="_blank" title="https://shipilev.net/" ref="nofollow noopener noreferrer">shipilev.net/</a></li>
</ul>
<h3 data-id="heading-29">è¿›é˜¶æ–¹å‘</h3>
<ol>
<li><strong>JITç¼–è¯‘å™¨ä¼˜åŒ–</strong>ï¼šç†è§£HotSpotçš„é€ƒé€¸åˆ†æã€æ ‡é‡æ›¿æ¢</li>
<li><strong>GCè°ƒä¼˜</strong>ï¼šG1ã€ZGCåƒåœ¾å›æ”¶å™¨çš„ç‰¹æ€§ä¸è°ƒä¼˜</li>
<li><strong>Nativeç¼–è¯‘</strong>ï¼šKotlin/Nativeçš„æ€§èƒ½ç‰¹ç‚¹</li>
<li><strong>å¹¶å‘ä¼˜åŒ–</strong>ï¼šåç¨‹è°ƒåº¦å™¨ã€Channelç¼“å†²ç­–ç•¥</li>
</ol>
<h3 data-id="heading-30">å®è·µå»ºè®®</h3>
<ul>
<li><strong>å»ºç«‹æ€§èƒ½åŸºçº¿</strong>ï¼šåœ¨CIä¸­è¿è¡ŒåŸºå‡†æµ‹è¯•ï¼Œç›‘æ§æ€§èƒ½å›é€€</li>
<li><strong>å®šæœŸProfiling</strong>ï¼šæ¯ä¸ªSprintè¿›è¡Œä¸€æ¬¡æ€§èƒ½åˆ†æ</li>
<li><strong>Code Reviewå…³æ³¨æ€§èƒ½</strong>ï¼šæ£€æŸ¥æ˜¯å¦æœ‰æ˜æ˜¾çš„æ€§èƒ½é—®é¢˜</li>
<li><strong>å­¦ä¹ å­—èŠ‚ç </strong>ï¼šç†è§£ç¼–è¯‘å™¨çš„å·¥ä½œåŸç†ï¼Œå†™å‡ºæ›´é«˜æ•ˆçš„ä»£ç </li>
</ul>
<hr/>
<p>æ€§èƒ½ä¼˜åŒ–ä¸æ˜¯"æŠŠä»£ç å†™å¾—çœ‹ä¸æ‡‚"ï¼Œè€Œæ˜¯<strong>åœ¨ä¿æŒä»£ç æ¸…æ™°çš„å‰æä¸‹ï¼Œç†è§£å¹¶æ¶ˆé™¤ä¸å¿…è¦çš„å¼€é”€</strong>ã€‚å½“ä½ ç†è§£äº†å†…è”ã€å†…å­˜åˆ†é…ã€å­—èŠ‚ç çš„åŸç†ï¼Œå°±èƒ½åœ¨å†™ä»£ç æ—¶åšå‡ºæ›´æ˜æ™ºçš„é€‰æ‹©â€”â€”æ—¢ä¼˜é›…åˆé«˜æ•ˆã€‚</p>
<p>è®°ä½ï¼š<strong>å¥½çš„æ€§èƒ½æ¥è‡ªäºå¯¹åŸç†çš„æ·±åˆ»ç†è§£ï¼Œè€Œä¸æ˜¯å¯¹æŠ€å·§çš„ç›²ç›®å †ç Œ</strong>ã€‚å…ˆè®©ä»£ç å·¥ä½œï¼Œå†è®©å®ƒå¿«ï¼Œæœ€åè®©å®ƒä¼˜é›…ã€‚</p>
<hr/>
<p><strong>ç³»åˆ—æ–‡ç« å¯¼èˆª:</strong></p>
<ul>
<li>ğŸ‘‰ ä¸Šä¸€ç¯‡: <a href="https://juejin.cn/post/7598801700050812966" target="_blank" title="https://juejin.cn/post/7598801700050812966">å¤šå¹³å°å¼€å‘å®æˆ˜ï¼šä¸€æ¬¡ç¼–å†™ï¼Œå¤šç«¯è¿è¡Œ</a></li>
</ul>
<hr/>
<p><em>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©,æ¬¢è¿ç‚¹èµã€æ”¶è—ã€åˆ†äº«!æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®,æ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºã€‚è®©æˆ‘ä»¬ä¸€èµ·å­¦ä¹ ,ä¸€èµ·æˆé•¿!</em></p>
<p><em>ä¹Ÿæ¬¢è¿è®¿é—®æˆ‘çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a>å‘ç°æ›´å¤šå®è—èµ„æº</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kimi K2.5ä¸€æ”¯ç©¿äº‘ç®­ï¼Œåƒå†›ä¸‡é©¬æ¥ç›¸è§]]></title>    <link>https://juejin.cn/post/7599634796584484870</link>    <guid>https://juejin.cn/post/7599634796584484870</guid>    <pubDate>2026-01-27T12:20:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599634796584484870" data-draft-id="7599634796584468486" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kimi K2.5ä¸€æ”¯ç©¿äº‘ç®­ï¼Œåƒå†›ä¸‡é©¬æ¥ç›¸è§"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-27T12:20:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«¥æ¬§å·´"/> <meta itemprop="url" content="https://juejin.cn/user/3491704662669469"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kimi K2.5ä¸€æ”¯ç©¿äº‘ç®­ï¼Œåƒå†›ä¸‡é©¬æ¥ç›¸è§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3491704662669469/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«¥æ¬§å·´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T12:20:05.000Z" title="Tue Jan 27 2026 12:20:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><p>Kimi K2.5 æ¥äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f61c65dfd2e84086aa321dc2e76a6ddd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=pLP0XSLeFRfIJET0IyLnoHHzhHE%3D" alt="" loading="lazy"/></p>
<p>æˆ‘åˆšå®æµ‹å®Œï¼Œè¿™å¯ç»ä¸æ˜¯ä¸€æ¬¡æŒ¤ç‰™è†çš„å¸¸è§„å‡çº§ã€‚</p>
<p>å¦‚æœè®©æˆ‘ç”¨ä¸€ä¸ªè¯æ¥æè¿°çš„è¯ã€‚</p>
<p>é‚£å°±æ˜¯ï¼Œç‰©ç§è¿›åŒ–ã€‚</p>
<p>Kimi K2.5 æ­£åœ¨æŠŠæˆ‘ä»¬å¸¦è¿›é‚£ä¸ªï¼Œä¸€ä¸ªäººå°±æ˜¯ä¸€æ”¯é˜Ÿä¼çš„æ—¶ä»£ã€‚</p>
<p>ç›´æ¥åˆ·æ–°æˆ‘ä»¬æ¯ä¸ªäººèƒ½åŠ›çš„ç‰©ç†è¾¹ç•Œã€‚</p>
<p>è¯ä¸å¤šè¯´ï¼Œæ¥çœ‹å®æµ‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bfce756011854d319f86d22ae4dcdaa4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=OA%2Ff3zCYTmhFmTstXex%2BLO879k4%3D" alt="" loading="lazy"/></p>
<p>è¿›æ¥ä¹‹åï¼Œçœ‹ä¸€çœ¼æ¨¡å‹é€‰æ‹©å™¨ï¼Œæ•´æ•´é½é½å…¨æ˜¯æ–°å‡ºç‚‰çš„åŠŸèƒ½ã€‚</p>
<p>ä¸€å…±æ”’äº† 4 ä¸ªå¤§æ‹›ï¼Œå’±ä»¬ä¸€ä¸ªä¸€ä¸ªè¯´ã€‚</p>
<h2 data-id="heading-0">K2.5 Agent</h2>
<p>æˆ‘éšæ‰‹æŠŠ B ç«™çš„ç½‘é¡µé“¾æ¥æ‰”äº†è¿›å»ï¼Œç›´æ¥è·Ÿå®ƒè¯´ï¼Œå¤åˆ»ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„ç½‘ç«™ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac4c5e17f23e4932981f72c3c8578beb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=pg%2FeBqbl4%2FbIuwJ1V8YsK3xxdvA%3D" alt="" loading="lazy"/></p>
<p>è¯´å®è¯ï¼Œç­‰ç»“æœå‡ºæ¥é‚£ä¸€åˆ»ï¼Œæˆ‘çœŸæœ‰ç‚¹å„¿è¢«é•‡ä½äº†ã€‚</p>
<p>ä½ ç…ç…è¿™å®Œæˆåº¦ï¼Œè‚‰çœ¼çœ‹è¿‡å»åŸºæœ¬æ‰¾ä¸ç€ä»€ä¹ˆæ¯›ç—…ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2acbd83a102422ca450b185f6dc874f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=bcGyMknNOXueWES%2Ba5MS%2FHrwExA%3D" alt="" loading="lazy"/></p>
<p>æœ€æ¨ªçš„è¿˜ä¸æ­¢è¿™ä¸ªã€‚</p>
<p>å®ƒç°åœ¨åƒé€äº†å¤šæ¨¡æ€ï¼Œä¹Ÿå°±æ˜¯ä½ ä¸å…‰èƒ½æ‰”é“¾æ¥ï¼Œæ‰”å›¾ç‰‡ï¼Œä½ ç”šè‡³èƒ½ç»™å®ƒå¡è§†é¢‘ã€‚</p>
<p>æˆ‘ç‰¹æ„å½•äº†ä¸€å°æ®µæ“ä½œè§†é¢‘æ‰”äº†è¿›å»ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/927fc6188bda4b47b8c42a2945682432~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=V6LHpQMCk1nTx6YL2TfrDwE9uAs%3D" alt="image.png" loading="lazy"/></p>
<p>ç»“æœè¿™å“¥ä»¬å„¿æŠŠæ ¸å¿ƒåŠŸèƒ½å…¨ç»™å¤ç°å‡ºæ¥äº†ã€‚</p>
<p>ä¹Ÿå°±å¸ƒå±€ä¸Šå·®äº†é‚£ä¹ˆç‚¹å„¿æ„æ€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2bae3542e057443b8d4d8b2d51e003b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=520JgeWtJ8sMvulbzHod444cLZc%3D" alt="" loading="lazy"/></p>
<p>ä½†æ˜¯ä¸æ…Œï¼ŒKimi ä¸“é—¨æ•´äº†ä¸ªç”»å¸ƒç¼–è¾‘çš„åŠŸèƒ½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7dacc876ea444cfa0da00779ac935a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=oSTmK0gTBBAa5WEoAMN5pYTqn%2BA%3D" alt="" loading="lazy"/></p>
<p>å„ç§æ‰¹æ³¨ï¼Œç”»å›¾ï¼Œç²¾å‡†é€‰ä¸­ï¼Œè¿™äº›ä¾¿æ·åŠŸèƒ½å®ƒå…¨éƒ½æœ‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5328110648746eeaa04c8bb58c1f157~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=PC3c9mADOIvr5jo07toG5agpR3U%3D" alt="" loading="lazy"/></p>
<p>ä»¥å‰ä½ æƒ³æ”¹ä¸ªåœ°æ–¹ï¼Œè¿˜å¾—è´¹è„‘å­ç¢ç£¨æ€ä¹ˆè·Ÿ AI æè¿°è‡ªå·±æƒ³æ”¹çš„åŒºåŸŸã€‚</p>
<p>ç°åœ¨çœå¿ƒäº†ï¼Œçœ‹å“ªå„¿ä¸é¡ºçœ¼ç›´æ¥æ‹¿é¼ æ ‡ä¸€åœˆï¼Œç›´æ¥è¯´æ€ä¹ˆæ”¹å°±è¡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e03e6de0dc04f7daaedd6d2c440fc06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=D6tx2mcNIV7XIcJ0AnzVvC4K9Tg%3D" alt="" loading="lazy"/></p>
<p>ä¿®æ”¹ç½‘ç«™å°±è·Ÿå£å–· P å›¾ä¸€æ ·ã€‚</p>
<p>æŒ‡å“ªæ‰“å“ªï¼Œæ•ˆç‡ç›´æ¥æ‹‰æ»¡ã€‚</p>
<h2 data-id="heading-1">K2.5 Agent é›†ç¾¤</h2>
<p>K2.5 Agent Swarm æ™ºèƒ½ä½“é›†ç¾¤çš„å‡ºç°ï¼Œæ„å‘³ç€ AI ä»å•å…µä½œæˆ˜ï¼Œè¿›åŒ–åˆ°äº†ååŒä½œæˆ˜ã€‚</p>
<p>ä»¥å‰çš„ AI èƒ½åŠ›å†å¼ºï¼Œä¹Ÿåªèƒ½å­å“§å­å“§ä¸€ä»¶äº‹ä¸€ä»¶äº‹çš„å¹²ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb883327b1554ce4b5837285c45155a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=mxnXqU1kOlqMjzrh6LHFzrGuEgY%3D" alt="" loading="lazy"/></p>
<p>ç°åœ¨ Swarm å­¦ä¼šäº†æ‘‡äººï¼Œå’”åš“ä¸€ä¸‹èƒ½åˆ†èº«å‡º 100 ä¸ªå­ Agentã€‚</p>
<p>ä¸€æ”¯ç©¿äº‘ç®­ï¼Œåƒå†›ä¸‡é©¬æ¥ç›¸è§ã€‚</p>
<p>ç”šè‡³å®ƒè¿˜èƒ½æ ¹æ®ä»»åŠ¡ç‰¹æ€§è‡ªä¸»åˆ†é…ã€‚</p>
<p>å¥½å˜›ï¼ŒAI ç»ˆäºæ˜ç™½äº†ä¸€ä¸ªé“ç†ã€‚</p>
<p>ä¸€ä¸ªäººå¯ä»¥èµ°å¾—å¾ˆå¿«ï¼Œä½†ä¸€ç¾¤äººæ‰èƒ½èµ°å¾—æ›´è¿œã€‚</p>
<p>æ›´ç¦»è°±çš„æ˜¯ï¼Œä»¥å‰çš„é€»è¾‘é“¾ä¸€é•¿ï¼Œæ‰§è¡Œå°±å®¹æ˜“æ–­ç‰‡å„¿ã€‚</p>
<p>ç°åœ¨ï¼Œå®ƒèƒ½é¡¶ä½ 1500 æ­¥ä»¥ä¸Šçš„é€»è¾‘é“¾ä¸æ‰é“¾å­ã€‚</p>
<p>å¥½å¤„å°±æ˜¯è¾¾æˆç›®æ ‡çš„æ•ˆç‡é«˜äº†ï¼Œæ‰§è¡Œçš„æ—¶é—´ä¹Ÿå°‘äº†ã€‚</p>
<p>å’±ä»¬æ¥å®æµ‹ä¸‹ã€‚</p>
<h3 data-id="heading-2">æ‰¹é‡ä¸‹è½½æ€»ç»“</h3>
<p>æœ€è¿‘ Dan Koe è¿™å“¥ä»¬å„¿ç‰¹åˆ«ç«ï¼Œä»–çš„ä¸€ç¯‡æ–‡ç« åœ¨ X ä¸Šè·å¾—äº† 1.3 äº¿é˜…è¯»é‡ã€‚</p>
<p>æŸé±¼æŸä¹¦ä¸Šéƒ½æ˜¯ä»–çš„åå­—ï¼Œæ®è¯´é©¬æ–¯å…‹çš„é•¿æ–‡ç™¾ä¸‡å¥–é‡‘ï¼Œåæœ‰å…«ä¹æ˜¯æ£è¿›ä»–å…œé‡Œäº†ã€‚</p>
<p>å’±ä»¬å°è¯•è®© Swarm æŠŠ Dan Koe å†™çš„åšå®¢æ–‡ç« åˆ†ç±»æ€»ç»“ï¼Œç„¶åå…¨éƒ¨ä¸‹è½½ä¸‹æ¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfc2d3d4636043a4a935e45ebb675ba3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=uHddMkkdciugIhCdeYgKY8Ywtk0%3D" alt="" loading="lazy"/></p>
<p>ç»“æœä¸€å…±æ•´æ•´ 61 ç¯‡ï¼Œå·²ç»æŒ‰ç…§ä¸åŒä¸»é¢˜ç»™ä½ ç çš„æ•´æ•´é½é½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b92b5560982e491482e59cbe7b69b86e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=xfc%2F2qS0mvZipUX88VW8MI0U8dw%3D" alt="" loading="lazy"/></p>
<p>åœ¨å³ä¸Šè§’çš„ä¸‹è½½æŒ‰é’®ï¼Œç‚¹ä¸€ä¸‹ï¼Œå°±å¯ä»¥æ•´ä½“æ‰“åŒ…ä¸‹è½½åˆ°æœ¬åœ°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae3a5c5f16994cc0b1759375fffd49e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=oJCsXS5kGHepWljHzuR5Ef1qyHc%3D" alt="" loading="lazy"/></p>
<p>æ‹¿å›å®¶å¾€ä½ çš„ AI çŸ¥è¯†åº“é‡Œä¸€æ‰”ï¼Œä½ å°±èƒ½ç›´æ¥è·Ÿ Dan Koe çš„é¡¶æµæ€æƒ³å¯¹è¯äº†ã€‚</p>
<p>çˆ½ï¼Œå°±å®Œäº‹å„¿äº†ã€‚</p>
<h3 data-id="heading-3">æ‰¹é‡ç ”ç©¶</h3>
<p>æ—¢ç„¶æ‰¹é‡ä¸‹è½½éƒ½æå®šäº†ï¼Œé‚£å’±å†å¾€å‰æ¨ä¸€æ­¥ï¼Œèƒ½ä¸èƒ½è®©å®ƒå¸®å’±ä»¬é’ˆå¯¹é—®é¢˜è¿›è¡Œæ‰¹é‡ç ”ç©¶ï¼Ÿ</p>
<p>æˆ‘ç›´æ¥ç»™å®ƒå¼€äº†ä¸ªå¤§æ´»å„¿ï¼Œè®©å®ƒæŠŠè¿‘ä¸¤å¹´å…¨çƒèŒƒå›´å†…å…³äº AI æç¤ºè¯çš„æ‰€æœ‰è®ºæ–‡å…¨ç¿»ä¸€éã€‚</p>
<p>åˆ«å…‰çœ‹ï¼Œè¿˜å¾—åˆ†æé€äº†ã€‚</p>
<p>æœ€åè¾“å‡ºä¸€ä»½æ­£å„¿å…«ç»çš„æ·±åº¦æŠ¥å‘Šï¼Œç›´æ¥å¯¼è¿› Excel è¡¨æ ¼é‡Œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7717131c9f44c5c88ba1eafa21d56fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=mG%2FxqjL9D0JcfSg0fDWK7ynQHPU%3D" alt="" loading="lazy"/></p>
<p>åœ¨è¿™è¿‡ç¨‹ä¸­ï¼Œå®ƒä¼šè‡ªåŠ¨è°ƒç”¨å­¦æœ¯ç ”ç©¶åˆ†æå¸ˆï¼Œè¿˜æœ‰æ•°æ®æŠ¥å‘Šç”Ÿæˆä¸“å®¶ã€‚</p>
<p>å„æ–¹ç´§å¯†é…åˆï¼Œå®Œæˆå¯¹åº”çš„ä»»åŠ¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c61666f4260a4e6aa1aeb0b1d33c8d8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=uBfO4bTJd8bhuS1LDfngwZIh%2BYY%3D" alt="" loading="lazy"/></p>
<p>å®Œæˆåï¼Œç­‰æˆ‘æŠŠè¿™ Excel ä¸‹åˆ°æœ¬åœ°ä¸€æ‰“å¼€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7f31bf767ad477ea87931c25025d3b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=h42r65X0O13va2rjo0bW3xNR7Ns%3D" alt="" loading="lazy"/></p>
<p>å¥½å®¶ä¼™ï¼Œé‚£æ•´ç†çš„è®¤çœŸç¨‹åº¦ã€‚</p>
<p>çœŸçš„ï¼Œç›´æ¥ç»™æ‹‰æ»¡äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1bc48b1304514de9a1439eb9d64ebf8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=oKvYfGAsxDpfQoteaVFjWbE9OF0%3D" alt="" loading="lazy"/></p>
<p>ç”šè‡³å®ƒè¿å¯è§†åŒ–çš„å›¾è¡¨éƒ½ç»™ä½ æ•´å¾—æ˜æ˜ç™½ç™½çš„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49c412f176464eb6ac475bf16e9ff869~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=nME1AoN6zkh7FNwLQlIf4SqJKiQ%3D" alt="" loading="lazy"/></p>
<p>è¿™å®Œæˆåº¦ï¼Œè·Ÿä¸“ä¸šçš„äººæ¥å¹²è¿™äº‹å„¿ï¼ŒçœŸæ²¡å•¥å·®è·äº†ã€‚</p>
<p>é’ˆå¯¹åŠå…¬åœºæ™¯ï¼Œå¯è§è¿™æ¬¡ Kimi ä¸‹è¶³äº†ç‹ åŠŸå¤«ã€‚</p>
<p>æ— è®ºæ˜¯ç™¾é¡µæ–‡æ¡£ï¼Œè¿˜æ˜¯ PPTï¼ŒExcelï¼Œç”šè‡³æ˜¯å¸¦ LaTeX æ•°å­¦å…¬å¼çš„ PDFã€‚</p>
<p>ä»–éƒ½èƒ½æä¾›ä¸€æ¡é¾™æœåŠ¡ï¼Œç›´æ¥äº¤ä»˜ä¸“å®¶çº§ç»“æœã€‚</p>
<p>æ•°æ®æœ€èƒ½è¯´æ˜é—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be9cde19e6434851a5566bdbf04243d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=0a%2B56DkM81rPLp86tQiuijmU%2Bg0%3D" alt="" loading="lazy"/></p>
<p>åœ¨ä¸¤ä¸ªé’ˆå¯¹çœŸå®åŠå…¬åœºæ™¯çš„æµ‹è¯•é‡Œï¼Œè¿™å“¥ä»¬å„¿æ¯”ä¹‹å‰çš„ K2 Thinking åˆ†åˆ«æå‡äº† 59.3% å’Œ 24.3%</p>
<p>å±å®å‡¶çŒ›ã€‚</p>
<h2 data-id="heading-4">K2.5 å¿«é€Ÿ/æ€è€ƒ</h2>
<p>æµ‹å®ŒåŠŸèƒ½ï¼Œå’±è¿˜æ˜¯æŒ‰è€è§„çŸ©ï¼Œå¾—æ‹‰è¿™æ¨¡å‹æœ¬å°Šå‡ºæ¥èµ°ä¸¤æ­¥ã€‚</p>
<p>æ—¢ç„¶æ”¯æŒå¤šæ¨¡æ€ï¼Œå’±å…ˆæ¥ç»™å®ƒä¸Šä¸ªæ–‡é›…çš„ã€‚</p>
<p>éšæ‰‹æ‰¾äº†å¼ ä¹¦æ³•å­—ç”»æ‰”äº†è¿›å»ï¼Œè®©å®ƒçŒœä½œè€…ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ccf729105d645589afbb86dd9aa248a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=egiy1NW9jibdp9pnRduGml58D9k%3D" alt="" loading="lazy"/></p>
<p>ç»“æœæ­£ç¡®ï¼Œè¡Œï¼Œçœ‹æ¥è¿™ç§å¸¸è§„é¢˜éš¾ä¸ä½å®ƒã€‚</p>
<p>å’±ç›´æ¥ä¸Šå¼ºåº¦ï¼Œç»™å®ƒçœ‹å‡ å¼ è‚¡ç¥¨è½¯ä»¶ç•Œé¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ac3662729e24b7698843354e6e071a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=x5wKN3HnGNG7h6ckxHwwkyiO8MI%3D" alt="" loading="lazy"/></p>
<p>å¥½å®¶ä¼™ï¼Œä»–å±…ç„¶å…¨éƒ½èƒ½çœ‹æ‡‚ï¼Œç”šè‡³ç»™ä½ åˆ†æçš„å¤´å¤´æ˜¯é“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f044df0ca9ce430087f73d5b7a48334a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=NNGsPPmvaQTLPdJdQfVt08MoJ1g%3D" alt="" loading="lazy"/></p>
<p>ä¹‹å‰å’±ä¸æ˜¯æ¨ªè¯„è¿‡å„å®¶ AI çš„å†™ä½œèƒ½åŠ›å˜›ï¼Œæˆ‘ç”¨åŒæ ·çš„æç¤ºè¯åˆå–‚ç»™äº† Kimi 2.5ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FfmNubIkNpuCls76tovtccQ" target="_blank" title="https://mp.weixin.qq.com/s/fmNubIkNpuCls76tovtccQ" ref="nofollow noopener noreferrer">AIå†™ä½œï¼Œåˆ°åº•å“ªå®¶å¼ºï¼Ÿ</a></p>
<blockquote>
<p>æç¤ºè¯ï¼šå†™ä¸€æ®µèƒ½ä»¥æƒŠäººçš„æ‰åä»¤æˆ‘éœ‡æ’¼çš„æ–‡å­—ï¼Œä¹‹åå†è§£é‡Šä½ æ˜¯å¦‚ä½•å®Œæˆè¿™ä»¶äº‹çš„ã€‚</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81353f49fb044b138d682aa743975e37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=dTFhODMrsNWwE7V22S3RzGJBFnw%3D" alt="" loading="lazy"/></p>
<p>è¯´çœŸçš„ï¼Œè¿™æ–‡ç¬”è¿›æ­¥ç¡®å®å¤§ï¼Œä½ ä»”ç»†å“å“ï¼Œå¾ˆå¤šè¯çœŸå°±å†™è¿›äººå¿ƒåé‡Œå»äº†ã€‚</p>
<h2 data-id="heading-5">Kimi Code</h2>
<p>è¿™æ¬¡å‘å¸ƒè¿˜æœ‰ä¸ªæ›´æ–°ï¼Œå°±æ˜¯ Kimi Codeã€‚</p>
<p>ä½ å¯ä»¥ç›´æ¥æŠŠå®ƒç†è§£æˆå›½äº§ç‰ˆçš„ Claude Codeï¼Œçº¯çº¯çš„ç¡¬æ ¸ç”Ÿäº§åŠ›ã€‚</p>
<p>ä¸å…‰æ˜¯åœ¨ç»ˆç«¯é‡Œè¿è¡Œï¼Œè·Ÿ VSCodeï¼ŒCursorï¼ŒZed è¿™äº›å¸¸ç”¨çš„ IDE ä¹Ÿæ·±åº¦é›†æˆå¥½äº†ã€‚</p>
<p>æœ€é‡è¦çš„æ˜¯ï¼ŒKimi Code æ˜¯å¼€æºçš„ã€‚</p>
<p>å®ƒèƒ½è‡ªåŠ¨è¯†åˆ«å¹¶æ— ç¼è¿ç§»ç°æœ‰çš„ Skills å’Œ MCPï¼Œç”šè‡³å¯ä»¥ç›´æ¥æŠŠå›¾ç‰‡å’Œè§†é¢‘ç›´æ¥å½“æˆè¾“å…¥ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/980a200bc4914bb2914eb0796d64ebbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=hF8ERMDbUdrz5MUqD2IA6UyOt7o%3D" alt="" loading="lazy"/></p>
<p>å…³äºè¿™éƒ¨åˆ†ï¼Œæˆ‘æ‰“ç®—å›å¤´ä¸“é—¨æ‰¾ä¸ªæ—¶é—´å•ç‹¬å†™ç¯‡æ–‡ç« å®æµ‹ä¸€ä¸‹ã€‚</p>
<p>æœ€åï¼Œå°±æ˜¯ä»·æ ¼äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07760fae59b04c4ca8dee4034e08e507~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56ul5qyn5be0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770121204&amp;x-signature=X3z0hhjExOzuuFGDHe%2BTjB66VHA%3D" alt="" loading="lazy"/></p>
<p>çœ‹äº†ä¸€çœ¼ï¼Œè·Ÿä¹‹å‰ Turbo ä¸€æ ·çš„é€Ÿåº¦ã€‚</p>
<p>ä»·æ ¼ä¾¿å®œäº†çœŸä¸å°‘ï¼Œè¿™æ³¢è‰¯å¿ƒä¹Ÿæ‹‰æ»¡äº†ã€‚</p>
<h2 data-id="heading-6">å°¾å£°</h2>
<p>è¿™æ¬¡ Kimi 2.5 ç»™æˆ‘æœ€æ·±çš„æ„Ÿå—ï¼Œå…¶å®æ˜¯å®ƒæ­£åœ¨æŠŠæˆ‘ä»¬æ¯ä¸ªäººæ­¦è£…æˆç¥ã€‚</p>
<p>ä½ æƒ³æƒ³çœ‹ï¼Œåœ¨é‚£ä¸ªç¬é—´å¤åˆ»å‡ºçš„ç½‘é¡µèƒŒåï¼Œåœ¨é‚£å æ•´æ•´é½é½çš„ Excel è¡¨æ ¼èƒŒåã€‚</p>
<p>ç«™ç€çš„å·²ç»ä¸å†æ˜¯ä¸€ä¸ªåªä¼šæ¥è¯èŒ¬çš„èŠå¤©æœºå™¨äººï¼Œè€Œæ˜¯ä¸€ä¸ªéšæ—¶å¾…å‘½ï¼Œæ°¸ä¸ç–²å€¦çš„è¶…çº§å†›å›¢ã€‚</p>
<p>è¯´çœŸçš„ï¼ŒæŠ€æœ¯å¹³æƒä¸å†æ˜¯ä¸€ä¸ªæŒ‚åœ¨å˜´è¾¹çš„å£å·äº†ã€‚</p>
<p>æ›¾ç»åªæœ‰å¤§å‚ï¼Œå¤§æœºæ„æ‰èƒ½è°ƒåŠ¨çš„é¡¶çº§ä¸“å®¶èµ„æºï¼Œç°åœ¨æ¯ä¸ªäººéƒ½èƒ½è½»æ¾çš„è°ƒç”¨ã€‚</p>
<p>æ›¾ç»éœ€è¦ä¸€ä¸ªå›¢é˜Ÿç†¬å‡ ä¸ªé€šå®µæ‰èƒ½æå‡ºæ¥çš„æ–¹æ¡ˆï¼Œç°åœ¨ä¸è¿‡æ˜¯ä¸€æ¯å’–å•¡çš„æ—¶é—´ã€‚</p>
<p>æˆ‘å§‹ç»ˆè®¤ä¸ºï¼ŒæŠ€æœ¯çš„è¿›åŒ–ï¼Œæ˜¯è®©äººé‡æ–°å›å½’åˆ°äººæœ¬èº«ï¼Œæ˜¯è®©äººæ›´åƒäººã€‚</p>
<p>è¿™æ¬¡ï¼Œå…‰å·²ç»ç…§è¿›æ¥äº†ã€‚</p>
<p>å‰©ä¸‹çš„ï¼Œå°±çœ‹ä½ æ€ä¹ˆå»ç”¨äº†ã€‚</p>
<p>ä½•ä¸å¸¦ç€ä½ çš„ä¸‡é©¬åƒå†›ã€‚</p>
<p>å»ç¿»å±±è¶Šå²­ã€‚</p>
<p>å»å¤§å¹²ä¸€åœºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MVI åœ¨ Android ä¸­çš„å®ç°æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7599835610406453294</link>    <guid>https://juejin.cn/post/7599835610406453294</guid>    <pubDate>2026-01-27T12:34:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599835610406453294" data-draft-id="7599247962822901787" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MVI åœ¨ Android ä¸­çš„å®ç°æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-27T12:34:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jony_"/> <meta itemprop="url" content="https://juejin.cn/user/3403743732709767"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MVI åœ¨ Android ä¸­çš„å®ç°æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3403743732709767/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jony_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T12:34:31.000Z" title="Tue Jan 27 2026 12:34:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>åœ¨å‰é¢çš„æ–‡ç« ä¸­ï¼Œä»æ•´ä½“ä¸Šä»‹ç»äº†<a href="https://juejin.cn/post/7595088396440092722" target="_blank" title="https://juejin.cn/post/7595088396440092722"> Android è®¾è®¡æ¶æ„çš„è·ƒè¿</a>ã€‚</p>
<p>å¯¹äºè®¾è®¡æ¶æ„ï¼Œæˆ‘çš„ç†è§£æ˜¯éœ€è¦é’ˆå¯¹ä¸åŒçš„åœºæ™¯è¿›è¡Œé€‰æ‹©ï¼Œä¸ä¸€å®šè¯´ MVP å°±å¾ˆå·®ï¼Œç”¨ MVI å°±å¾ˆå¥½ã€‚ç”šè‡³åœ¨ç®€å•åœºæ™¯ä¸‹ï¼ŒMVC ä¹Ÿèƒ½å¾ˆå¥½å®Œæˆä¸šåŠ¡éœ€æ±‚ã€‚</p>
<p>é¿å…é™·å…¥è®¾è®¡æ¨¡å¼çš„æ€ªåœˆï¼Œæˆ‘ä»¬å¿…é¡»è€ƒè™‘åˆ°å½“ä¸‹çš„ä¸šåŠ¡åœºæ™¯ï¼Œé€‰æ‹©åˆé€‚çš„è®¾è®¡æ¨¡å¼ã€‚</p>
<h2 data-id="heading-1">äºŒã€ç®€å•è®¾è®¡ä¸€ä¸ª MVI æ¶æ„</h2>
<p>æ¥çœ‹ä¸€ä¸ªç®€å•çš„å®ä¾‹ï¼Œä»ç¤ºä¾‹ä¸­ä½“ä¼š MVI è®¾è®¡æ¶æ„çš„ç²¾é«“ã€‚ï¼ˆç¤ºä¾‹æ¥æºäº<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Farchitecture%2Fui-layer%2Fevents%3Fcontinue%3Dhttps%253A%252F%252Fdeveloper.android.com%252Fcourses%252Fpathways%252Fandroid-architecture%253Frec%253DCjZodHRwczovL2RldmVsb3Blci5hbmRyb2lkLmNvbS9qZXRwYWNrL2d1aWRlL2RhdGEtbGF5ZXIQARgPIAEoBDALOgMzLjc%2523article-https%253A%252F%252Fdeveloper.android.com%252Fjetpack%252Fguide%252Fui-layer%252Fevents" target="_blank" title="https://developer.android.com/topic/architecture/ui-layer/events?continue=https%3A%2F%2Fdeveloper.android.com%2Fcourses%2Fpathways%2Fandroid-architecture%3Frec%3DCjZodHRwczovL2RldmVsb3Blci5hbmRyb2lkLmNvbS9qZXRwYWNrL2d1aWRlL2RhdGEtbGF5ZXIQARgPIAEoBDALOgMzLjc%23article-https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fguide%2Fui-layer%2Fevents" ref="nofollow noopener noreferrer">Android develop</a>ï¼‰</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// State</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginUiState</span>(
    <span class="hljs-keyword">val</span> isLoading: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>,
    <span class="hljs-keyword">val</span> errorMessage: String? = <span class="hljs-literal">null</span>,
    <span class="hljs-keyword">val</span> isUserLoggedIn: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>
)

<span class="hljs-comment">// ViewModel</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginViewModel</span> : <span class="hljs-type">ViewModel</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _uiState = MutableStateFlow(LoginUiState())
    <span class="hljs-keyword">val</span> uiState: StateFlow&lt;LoginUiState&gt; = _uiState.asStateFlow()
    <span class="hljs-comment">/* ... */</span>
}


<span class="hljs-comment">// Activity</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LoginActivity</span> : <span class="hljs-type">AppCompatActivity</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> viewModel: LoginViewModel <span class="hljs-keyword">by</span> viewModels()
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        lifecycleScope.launch {
            repeatOnLifecycle(Lifecycle.State.STARTED) {
                viewModel.uiState.collect { uiState -&gt;
                    <span class="hljs-keyword">if</span> (uiState.isUserLoggedIn) {
                        <span class="hljs-comment">// Navigate to the Home screen.</span>
                    }
                }
            }
        }
    }
}
</code></pre>
<p>æ•´ä½“çš„æµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li>ç”¨æˆ· Intent å‘ä¸‹ä¼ é€’ï¼ŒViewModel è§¦å‘äº‹ä»¶å‘èµ·ç½‘ç»œè¯·æ±‚</li>
<li>é¡µé¢çš„çŠ¶æ€æŠ½è±¡æˆä¸€ä¸ª State è¿›è¡Œç»Ÿä¸€ç®¡ç†ï¼ŒState æ˜¯ä¸å¯å˜çš„ï¼Œå¯ä»¥ä½¿ç”¨ copy æ›´æ–°ä¸€ä¸ªæ–°çš„ State</li>
<li>åœ¨ UI Layer æ”¶é›† flow å‘å‡ºçš„æ•°æ®</li>
</ol>
<p>åœ¨ç¤ºä¾‹ä¸­æ²¡æœ‰ä½“ç°çš„æ˜¯ï¼Œé€šå¸¸ç”¨æˆ·çš„è¡Œä¸ºå¯ä»¥å°è£…æˆä¸€ç³»åˆ—çš„ Intentï¼Œåœ¨ ViewModel ä¸­åˆ†å‘ä¸åŒçš„ Intentï¼Œå¤„ç†ä¸åŒçš„ä¸šåŠ¡é€»è¾‘ã€‚</p>
<h2 data-id="heading-2">äºŒã€MVI è®¾è®¡ç†å¿µ</h2>
<p>åœ¨ MVI ä¹‹å‰ï¼Œä¸»æµçš„è®¾è®¡æ¨¡å¼æ˜¯ MVVMï¼Œä¸ºä»€ä¹ˆåˆæ¨å‡ºäº† MVI å‘¢ï¼Ÿç›¸æ¯”äº MVVMï¼ŒMVI çš„ä¼˜ç‚¹åœ¨å“ªé‡Œå‘¢ï¼Ÿå®ƒåˆè§£å†³äº† MVVM çš„å“ªäº›ç—›ç‚¹é—®é¢˜ï¼Ÿ</p>
<h3 data-id="heading-3">1ã€MVVM ç—›ç‚¹é—®é¢˜</h3>
<p>åœ¨ä¸€ä¸ªå¤æ‚çš„é¡µé¢ï¼ŒMVVM å¯èƒ½å…·æœ‰çš„é—®é¢˜ï¼š</p>
<ol>
<li>LiveData è¿‡å¤šï¼Œä¸€ä¸ª UI çŠ¶æ€å¯èƒ½æ˜¯å¤šä¸ª LiveData å…±åŒä½œç”¨</li>
<li>LiveData å­˜åœ¨æ•°æ®å€’çŒï¼Œæ— æ³•æ›´å¥½å¤„ç†äº‹ä»¶</li>
</ol>
<h3 data-id="heading-4">2ã€MVI è®¾è®¡åŸåˆ™</h3>
<p>MVI å…·æœ‰å¦‚ä¸‹çš„ç‰¹ç‚¹ï¼š</p>
<ol>
<li>é›†ä¸­ State ç®¡ç†ï¼ŒState ä¸å¯å˜</li>
<li>å•é¡¹æ•°æ®æµï¼Œäº‹ä»¶å‘ä¸‹ï¼ŒState å‘ä¸Š</li>
</ol>
<p>å‚è€ƒæ–‡ç« ï¼š<a href="https://juejin.cn/post/7022624191723601928" target="_blank" title="https://juejin.cn/post/7022624191723601928">juejin.cn/post/702262â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€åº“å°½æ”¶ï¼Œèåˆæ™ºèƒœï¼šé‡‘ä»“æ•°æ®åº“ä»¥â€œä¸€ä½“æ›¿ä»£â€é‡å¡‘ä¼ä¸šæ•°æ®åŸºåº§]]></title>    <link>https://juejin.cn/post/7599845683123126312</link>    <guid>https://juejin.cn/post/7599845683123126312</guid>    <pubDate>2026-01-27T12:34:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599845683123126312" data-draft-id="7599911091086311424" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€åº“å°½æ”¶ï¼Œèåˆæ™ºèƒœï¼šé‡‘ä»“æ•°æ®åº“ä»¥â€œä¸€ä½“æ›¿ä»£â€é‡å¡‘ä¼ä¸šæ•°æ®åŸºåº§"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-27T12:34:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€åº“å°½æ”¶ï¼Œèåˆæ™ºèƒœï¼šé‡‘ä»“æ•°æ®åº“ä»¥â€œä¸€ä½“æ›¿ä»£â€é‡å¡‘ä¼ä¸šæ•°æ®åŸºåº§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T12:34:26.000Z" title="Tue Jan 27 2026 12:34:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ•°å­—åŒ–è¿›ç¨‹ä¸­ï¼Œä¼ä¸šæ­£é¢ä¸´æ•°æ®æ¨¡å‹å¤šæ ·åŒ–çš„æŒ‘æˆ˜ã€‚æ ¸å¿ƒäº¤æ˜“ä¾èµ–å¼ºä¸€è‡´æ€§æ•°æ®åº“ï¼Œäº’è”ç½‘åº”ç”¨å»ºç«‹åœ¨å¼€æºç”Ÿæ€ä¹‹ä¸Šï¼Œç‰©è”ç½‘äº§ç”Ÿæµ·é‡æ—¶åºæ•°æ®ï¼Œåœ°ç†ä¿¡æ¯ç³»ç»Ÿå¤„ç†ç©ºé—´ä¿¡æ¯ï¼Œäººå·¥æ™ºèƒ½åº”ç”¨åˆå‚¬ç”Ÿäº†å¯¹å‘é‡æ£€ç´¢çš„éœ€æ±‚ã€‚ä¼ ç»Ÿçš„åšæ³•æ˜¯ä¸ºä¸åŒç±»å‹çš„æ•°æ®å¼•å…¥ä¸“ç”¨æ•°æ®åº“ï¼Œè¿™å¯¼è‡´æŠ€æœ¯æ ˆå¤æ‚ã€æˆæœ¬ä¸Šå‡ã€æ•°æ®éš”ç¦»ç­‰é—®é¢˜ã€‚</p>
<p>æ˜¯å¦å¯èƒ½ç”¨ä¸€ä¸ªç»Ÿä¸€çš„æ•°æ®åº“æ¥æ‰¿è½½å¤šç§æ•°æ®ç±»å‹ï¼Œå¹¶å®ç°å¯¹å¤šç§ä¸»æµæ•°æ®åº“æŠ€æœ¯çš„æ›¿ä»£ï¼Ÿ</p>
<p>é‡‘ä»“æ•°æ®åº“ï¼ˆKingbaseESï¼‰ä¸ºæ­¤æä¾›äº†å¯èƒ½æ€§ã€‚å®ƒä¸ä»…ç€çœ¼äºå¯¹Oracleã€MySQLã€SQL Serverç­‰æ•°æ®åº“çš„è¿ç§»æ›¿ä»£ï¼Œè¿˜é€šè¿‡å¤šæ¨¡èåˆæ¶æ„ï¼Œå°†åœ°ç†ä¿¡æ¯ã€æ—¶åºã€æ–‡æ¡£ã€å‘é‡ç­‰æ•°æ®æ¨¡å‹é›†æˆäºç»Ÿä¸€å†…æ ¸ï¼Œå®ç°â€œä¸€ä¸ªæ•°æ®åº“ï¼Œå¤šåœºæ™¯æ”¯æŒâ€ã€‚</p>
<p><strong>å¹³æ»‘æ›¿ä»£æ˜¯å®ç°èåˆçš„åŸºç¡€</strong></p>
<p>å®ç°å…¨é¢æ›¿ä»£çš„ç¬¬ä¸€æ­¥ï¼Œæ˜¯ç¡®ä¿ç°æœ‰ç³»ç»Ÿèƒ½å¤Ÿå¹³ç¨³è¿ç§»ã€‚é‡‘ä»“æ•°æ®åº“åœ¨å…¼å®¹æ€§æ–¹é¢è¿›è¡Œäº†å¤šæ–¹é¢çš„å·¥ä½œã€‚</p>
<ul>
<li><strong>è¯­æ³•ä¸è¯­ä¹‰å…¼å®¹</strong>ï¼šé‡‘ä»“æ”¯æŒå¯¹Oracleã€SQL Serverã€MySQLç­‰æ•°æ®åº“å¸¸ç”¨è¯­æ³•çš„å…¼å®¹ã€‚åº”ç”¨ç¨‹åºé€šå¸¸æ— éœ€ä¿®æ”¹æˆ–ä»…éœ€å°‘é‡è°ƒæ•´å³å¯è¿è¡Œï¼Œé™ä½äº†è¿ç§»æˆæœ¬å’Œé£é™©ã€‚</li>
<li><strong>åè®®å…¼å®¹</strong>ï¼šæ”¯æŒå¯¹MySQLç­‰æ•°æ®åº“åŸç”Ÿåè®®çš„å…¼å®¹ï¼Œåº”ç”¨ç¨‹åºæ— éœ€æ›´æ¢é©±åŠ¨å³å¯è¿æ¥ã€‚</li>
<li><strong>è¿ç§»å·¥å…·æ”¯æŒ</strong>ï¼šæä¾›ç»“æ„è¿ç§»ã€å…¨é‡æ•°æ®è¿ç§»ã€å¼‚æ„å®æ—¶åŒæ­¥ç­‰å·¥å…·ï¼Œæ”¯æŒå¤§è§„æ¨¡æ•°æ®çš„è¿ç§»ï¼Œå¹¶å°½å¯èƒ½ç¼©çŸ­ä¸šåŠ¡ä¸­æ–­æ—¶é—´ï¼Œä¿éšœè¿ç§»è¿‡ç¨‹çš„å¯é æ€§ã€‚</li>
</ul>
<p><strong>å¤šæ¨¡èåˆæ¶æ„æ”¯æŒå…¨åœºæ™¯æ•°æ®å¤„ç†</strong></p>
<p>åœ¨å…¼å®¹ç°æœ‰ç”Ÿæ€çš„åŸºç¡€ä¸Šï¼Œé‡‘ä»“æ•°æ®åº“çš„æ ¸å¿ƒåœ¨äºé€šè¿‡ç»Ÿä¸€å†…æ ¸åŸç”Ÿæ”¯æŒå¤šç§æ•°æ®æ¨¡å‹ï¼Œå¹¶æ”¯æŒè·¨æ¨¡å‹è”åˆæŸ¥è¯¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/179d5411225d493bade0c8a6b7d4d781~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122068&amp;x-signature=NUJEGhYPgNbIahLslf2I6c%2FI8DY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>
<p><strong>æ—¶åºæ•°æ®å¤„ç†</strong>
é’ˆå¯¹æ—¶åºæ•°æ®ä¼˜åŒ–çš„å¼•æ“ï¼Œæä¾›è¾ƒé«˜çš„æ•°æ®å‹ç¼©ç‡å’ŒæŸ¥è¯¢æ€§èƒ½ï¼Œå†…ç½®ä¸°å¯Œçš„æ—¶åºåˆ†æå‡½æ•°ã€‚åŒæ—¶ï¼Œå®ƒèƒ½ä¸åœ°ç†ä¿¡æ¯ã€æ–‡æ¡£ç­‰æ¨¡å‹ååŒå·¥ä½œã€‚ä¾‹å¦‚ï¼Œåœ¨æ™ºèƒ½äº¤é€šåœºæ™¯ä¸­ï¼Œå¯ä»¥é«˜æ•ˆå®Œæˆæ¶‰åŠæ—¶é—´å’Œç©ºé—´çš„è”åˆæŸ¥è¯¢ã€‚</p>
</li>
<li>
<p><strong>åœ°ç†ç©ºé—´æ•°æ®å¤„ç†</strong>
é‡‘ä»“çš„åœ°ç†ä¿¡æ¯ç»„ä»¶ç¬¦åˆå¼€æ”¾æ ‡å‡†ï¼Œæä¾›ä¸°å¯Œçš„ç©ºé—´å‡½æ•°ï¼Œæ”¯æŒå¤šç§ç©ºé—´æ•°æ®ç±»å‹ï¼Œå¹¶å·²é€‚é…ä¸»æµåœ°ç†ä¿¡æ¯å¹³å°ã€‚åœ¨å¤šä¸ªé¢†åŸŸï¼Œå·²å®ç°å¯¹Oracle Spatialç­‰æ–¹æ¡ˆçš„æ›¿ä»£ã€‚</p>
</li>
<li>
<p><strong>æ–‡æ¡£æ•°æ®å¤„ç†</strong>
é’ˆå¯¹æ–‡æ¡£æ•°æ®åº“çš„æ›¿ä»£éœ€æ±‚ï¼Œé‡‘ä»“æä¾›é«˜æ•ˆçš„JSON/BSONå¤„ç†èƒ½åŠ›ï¼Œå¹¶æ”¯æŒå¯¹MongoDBåè®®çš„å…¼å®¹ã€‚è¿™ä½¿å¾—åŸæœ¬ä½¿ç”¨æ–‡æ¡£æ•°æ®åº“çš„åº”ç”¨å¯ä»¥è¿ç§»åˆ°å…·å¤‡äº‹åŠ¡èƒ½åŠ›å’Œå®‰å…¨ç‰¹æ€§çš„å¹³å°ä¸Šã€‚</p>
</li>
<li>
<p><strong>å‘é‡æ•°æ®å¤„ç†</strong>
é¢å‘äººå·¥æ™ºèƒ½åº”ç”¨ï¼Œé‡‘ä»“æ”¯æŒé«˜æ•ˆçš„å‘é‡æ£€ç´¢ä¸æ··åˆæŸ¥è¯¢ï¼ˆç»“åˆå‘é‡å’Œä¼ ç»Ÿå…³ç³»æ•°æ®ï¼‰ã€‚è¿™ä¸ºæ£€ç´¢å¢å¼ºç”Ÿæˆã€æ™ºèƒ½æ¨èç­‰åœºæ™¯æä¾›äº†æ•°æ®æ”¯æ’‘ï¼Œé¿å…äº†åœ¨ä¸åŒæ•°æ®åº“é—´é¢‘ç¹è¿›è¡Œæ•°æ®æŠ½å–ã€è½¬æ¢å’ŒåŠ è½½çš„å¤æ‚æ€§ã€‚</p>
</li>
</ol>
<p><strong>â€œä¸€ä½“æ›¿ä»£â€çš„ä¼˜åŠ¿</strong></p>
<p>é‡‡ç”¨ç»Ÿä¸€çš„æ•°æ®å¹³å°å¯ä»¥å¸¦æ¥å¤šæ–¹é¢çš„ç›Šå¤„ï¼š</p>
<ul>
<li><strong>æŠ€æœ¯æ ˆç®€åŒ–</strong>ï¼šå‡å°‘å¤šç§æ•°æ®åº“çš„é‡‡è´­ã€éƒ¨ç½²å’Œç»´æŠ¤å·¥ä½œï¼Œé™ä½æ€»ä½“æˆæœ¬ï¼Œç®€åŒ–ç³»ç»Ÿæ¶æ„ã€‚</li>
<li><strong>æ•°æ®æ•´åˆ</strong>ï¼šå…³ç³»æ•°æ®ã€æ—¶åºæ•°æ®ã€ç©ºé—´æ•°æ®ã€æ–‡æ¡£æ•°æ®ã€å‘é‡æ•°æ®å¯ä»¥åœ¨åŒä¸€å¹³å°å†…å­˜å‚¨å’Œå¤„ç†ï¼Œæ”¯æŒè·¨æ¨¡å‹çš„å…³è”åˆ†æã€‚</li>
<li><strong>ä¼ä¸šçº§èƒ½åŠ›</strong>ï¼šæ— è®ºå¤„ç†ä½•ç§ç±»å‹çš„æ•°æ®ï¼Œéƒ½å¯ä»¥åˆ©ç”¨å¹³å°åœ¨é«˜å¯ç”¨ã€å®‰å…¨æ€§ã€æ€§èƒ½å’Œå¯è¿ç»´æ€§ç­‰æ–¹é¢çš„èƒ½åŠ›ã€‚</li>
<li><strong>æŒç»­æ¼”è¿›</strong>ï¼šä¸€ä¸ªç»Ÿä¸€çš„æ•°æ®åº•åº§å¯ä»¥æ”¯æŒä¼ä¸šä»ä¼ ç»Ÿæ ¸å¿ƒç³»ç»Ÿåˆ°æ–°å‹äº’è”ç½‘åº”ç”¨ï¼Œå†åˆ°ç‰©è”ç½‘ã€ç©ºé—´ä¿¡æ¯å’Œäººå·¥æ™ºèƒ½ç­‰å…¨ä¸šåŠ¡åœºæ™¯çš„æ¼”è¿›ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75f4cd0c2f0948b4abe43e404133e242~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122068&amp;x-signature=oNqattNgWulqc0ouRTe3ADyncMw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></li>
</ul>
<p><strong>å®è·µæ¡ˆä¾‹</strong></p>
<p>é‡‘ä»“æ•°æ®åº“çš„â€œä¸€ä½“æ›¿ä»£â€èƒ½åŠ›å·²åœ¨é‡‘èã€èƒ½æºã€æ”¿åºœã€äº¤é€šã€åŒ»ç–—ç­‰å¤šä¸ªè¡Œä¸šå¾—åˆ°åº”ç”¨ã€‚æ¡ˆä¾‹åŒ…æ‹¬é‡‘èæœºæ„çš„æ ¸å¿ƒç³»ç»Ÿæ›¿ä»£ä¸å¤šä¸­å¿ƒå»ºè®¾ã€æ”¿åºœéƒ¨é—¨çš„æ”¿åŠ¡ç³»ç»Ÿä¸åœ°ç†ä¿¡æ¯å¹³å°æ›¿ä»£ã€èƒ½æºä¼ä¸šçš„ç›‘æ§ä¸äº¤æ˜“ç³»ç»Ÿæ—¶åºæ•°æ®å¤„ç†ï¼Œä»¥åŠç”µå­è¯ç…§ç³»ç»Ÿçš„æ–‡æ¡£æ•°æ®åº“è¿ç§»ç­‰ã€‚è¿™äº›å®è·µè¡¨æ˜ï¼Œé‡‘ä»“æ•°æ®åº“èƒ½å¤Ÿå¸®åŠ©ä¼ä¸šåœ¨ä¿éšœä¸šåŠ¡è¿ç»­æ€§çš„åŒæ—¶ï¼Œå®Œæˆæ•°æ®å¹³å°çš„å‡çº§ä¸è½¬å‹ã€‚</p>
<p><strong>ç»“è¯­</strong></p>
<p>åœ¨æ•°æ®é©±åŠ¨å‘å±•çš„æ—¶ä»£ï¼Œä¼ä¸šéœ€è¦ä¸€ä¸ªèƒ½å¤Ÿæ•´åˆå¤šç§æ•°æ®ã€æ‰“ç ´æ¨¡å‹å£å’ã€æ”¯æŒä¸šåŠ¡åˆ›æ–°çš„æ•°æ®å¹³å°ã€‚</p>
<p>é‡‘ä»“æ•°æ®åº“ä»¥å¤šæ¨¡èåˆä¸ºç†å¿µï¼Œä»¥ä¸€ä½“æ›¿ä»£ä¸ºç›®æ ‡ï¼Œä¸ä»…æœ‰åŠ©äºè§£å†³æ•°æ®åº“è¿ç§»ä¸­çš„éš¾é¢˜ï¼Œä¹Ÿä¸ºä¼ä¸šåº”å¯¹å¤æ‚æ•°æ®æŒ‘æˆ˜ã€å¸ƒå±€æœªæ¥æ™ºèƒ½åº”ç”¨æä¾›äº†é€‰æ‹©ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬4ç¯‡ï¼‰ï¼šOpenCode - ä¸“ä¸ºç»ˆç«¯æ‰“é€ çš„å¼ºå¤§ AI ç¼–ç¨‹ä»£ç†]]></title>    <link>https://juejin.cn/post/7599835610406436910</link>    <guid>https://juejin.cn/post/7599835610406436910</guid>    <pubDate>2026-01-27T12:33:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599835610406436910" data-draft-id="7599708108622118963" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬4ç¯‡ï¼‰ï¼šOpenCode - ä¸“ä¸ºç»ˆç«¯æ‰“é€ çš„å¼ºå¤§ AI ç¼–ç¨‹ä»£ç†"/> <meta itemprop="keywords" content="å¼€æº,Claude"/> <meta itemprop="datePublished" content="2026-01-27T12:33:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬4ç¯‡ï¼‰ï¼šOpenCode - ä¸“ä¸ºç»ˆç«¯æ‰“é€ çš„å¼ºå¤§ AI ç¼–ç¨‹ä»£ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T12:33:46.000Z" title="Tue Jan 27 2026 12:33:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<blockquote>
<p>"å¦‚æœ AI ç¼–ç¨‹åŠ©æ‰‹èƒ½åœ¨ç»ˆç«¯ä¸­å·¥ä½œï¼Œè®©ä½ æ— éœ€åˆ‡æ¢çª—å£å°±èƒ½è·å¾—æ™ºèƒ½è¾…åŠ©ï¼Œé‚£è¯¥å¤šå¥½ï¼Ÿ"</p>
</blockquote>
<p>è¿™æ˜¯"ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®"ç³»åˆ—çš„ç¬¬4ç¯‡æ–‡ç« ã€‚ä»Šå¤©å¸¦ä½ äº†è§£çš„é¡¹ç›®æ˜¯ <strong>OpenCode</strong>ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopencode-ai%2Fopencode" target="_blank" title="https://github.com/opencode-ai/opencode" ref="nofollow noopener noreferrer">GitHub</a>ï¼‰ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ­£åœ¨ç»ˆç«¯ä¸­ç¼–å†™ä»£ç ï¼Œçªç„¶é‡åˆ°ä¸€ä¸ªå¤æ‚çš„é—®é¢˜ã€‚ä¼ ç»Ÿæ–¹å¼å¯èƒ½éœ€è¦åˆ‡æ¢åˆ°æµè§ˆå™¨æœç´¢ï¼Œæˆ–è€…æ‰“å¼€ IDE çš„ AI æ’ä»¶ã€‚ä½†æœ‰äº† OpenCodeï¼Œä½ åªéœ€è¦åœ¨ç»ˆç«¯ä¸­è¾“å…¥é—®é¢˜ï¼ŒAI åŠ©æ‰‹å°±ä¼šç«‹å³å“åº”ï¼Œå¸®åŠ©ä½ ç†è§£ä»£ç ã€ä¿®å¤é”™è¯¯ã€ç”šè‡³ç¼–å†™æ–°åŠŸèƒ½â€”â€”æ‰€æœ‰è¿™ä¸€åˆ‡éƒ½åœ¨ç»ˆç«¯ä¸­å®Œæˆã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªé¡¹ç›®ï¼Ÿ</strong></p>
<ul>
<li>ğŸ–¥ï¸ <strong>ç»ˆç«¯åŸç”Ÿ</strong>ï¼šä¸“ä¸ºç»ˆç«¯è®¾è®¡ï¼Œæ— éœ€ç¦»å¼€å‘½ä»¤è¡Œç¯å¢ƒ</li>
<li>ğŸ¨ <strong>ç¾è§‚çš„ TUI</strong>ï¼šç°ä»£åŒ–çš„ç»ˆç«¯ç”¨æˆ·ç•Œé¢</li>
<li>ğŸ”Œ <strong>åè®®æ”¯æŒ</strong>ï¼šæ”¯æŒ MCPã€LSP ç­‰æ ‡å‡†åè®®</li>
<li>ğŸ¤– <strong>å¤šæ¨¡å‹æ”¯æŒ</strong>ï¼šæ”¯æŒ OpenAIã€Claude ç­‰å¤šç§ LLM</li>
<li>âš ï¸ <strong>é‡è¦æç¤º</strong>ï¼šé¡¹ç›®å·²äº 2025å¹´9æœˆå½’æ¡£ï¼Œä½†ä»å¯ä½œä¸ºå­¦ä¹ å’Œå‚è€ƒ</li>
</ul>
<h3 data-id="heading-1">ä½ å°†å­¦åˆ°ä»€ä¹ˆ</h3>
<ul>
<li>OpenCode çš„æ ¸å¿ƒæ¦‚å¿µå’Œæ¶æ„è®¾è®¡</li>
<li>å¦‚ä½•åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ AI ç¼–ç¨‹åŠ©æ‰‹</li>
<li>MCPï¼ˆModel Context Protocolï¼‰å’Œ LSPï¼ˆLanguage Server Protocolï¼‰çš„é›†æˆ</li>
<li>è‡ªå®šä¹‰å‘½ä»¤ç³»ç»Ÿçš„ä½¿ç”¨</li>
<li>ä¸å…¶ä»– AI ç¼–ç¨‹å·¥å…·çš„å¯¹æ¯”åˆ†æ</li>
<li>é¡¹ç›®å½’æ¡£çš„åŸå› å’Œå¯ç¤º</li>
</ul>
<h3 data-id="heading-2">å‰ç½®çŸ¥è¯†</h3>
<ul>
<li>åŸºæœ¬çš„ç»ˆç«¯ä½¿ç”¨ç»éªŒ</li>
<li>å¯¹ AI è¾…åŠ©ç¼–ç¨‹æœ‰åŸºæœ¬äº†è§£</li>
<li>ç†Ÿæ‚‰ Go è¯­è¨€ï¼ˆå¯é€‰ï¼Œç”¨äºç†è§£æºç ï¼‰</li>
<li>äº†è§£ LSP å’Œ MCP åè®®ï¼ˆå¯é€‰ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-3">é¡¹ç›®èƒŒæ™¯</h2>
<h3 data-id="heading-4">é¡¹ç›®ç®€ä»‹</h3>
<p><strong>OpenCode</strong> æ˜¯ä¸€ä¸ª<strong>ä¸“ä¸ºç»ˆç«¯æ„å»ºçš„å¼ºå¤§ AI ç¼–ç¨‹ä»£ç†</strong>ã€‚å®ƒæä¾›äº†ä¸€ä¸ªç°ä»£åŒ–çš„ç»ˆç«¯ç”¨æˆ·ç•Œé¢ï¼ˆTUIï¼ŒTerminal User Interfaceï¼‰ï¼Œè¿™æ˜¯ä¸€ç§åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨æ–‡æœ¬å­—ç¬¦åˆ›å»ºå›¾å½¢åŒ–äº¤äº’çš„æŠ€æœ¯ï¼Œè®©å¼€å‘è€…å¯ä»¥åœ¨ä¸ç¦»å¼€ç»ˆç«¯çš„æƒ…å†µä¸‹ï¼Œäº«å—ç±»ä¼¼ GUI åº”ç”¨çš„æµç•…äº¤äº’ä½“éªŒå’Œ AI è¾…åŠ©ç¼–ç¨‹çš„ä¾¿åˆ©ã€‚</p>
<p><strong>é¡¹ç›®è§£å†³çš„æ ¸å¿ƒé—®é¢˜</strong>ï¼š</p>
<ul>
<li>å¼€å‘è€…éœ€è¦åœ¨å¤šä¸ªå·¥å…·é—´åˆ‡æ¢ï¼ˆç»ˆç«¯ã€IDEã€æµè§ˆå™¨ï¼‰</li>
<li>ç¼ºä¹ç»ˆç«¯åŸç”Ÿçš„ AI ç¼–ç¨‹åŠ©æ‰‹</li>
<li>éœ€è¦ç»Ÿä¸€çš„æ¥å£æ¥è®¿é—®ä¸åŒçš„ LLM æä¾›å•†</li>
<li>å¸Œæœ›å°† AI èƒ½åŠ›é›†æˆåˆ°ç°æœ‰çš„å¼€å‘å·¥ä½œæµä¸­</li>
</ul>
<p><strong>é¢å‘çš„ç”¨æˆ·ç¾¤ä½“</strong>ï¼š</p>
<ul>
<li>å–œæ¬¢åœ¨ç»ˆç«¯å·¥ä½œçš„å¼€å‘è€…</li>
<li>éœ€è¦å¿«é€Ÿ AI è¾…åŠ©çš„å¼€å‘è€…</li>
<li>å¸Œæœ›é›†æˆ AI èƒ½åŠ›åˆ°å·¥ä½œæµçš„å›¢é˜Ÿ</li>
<li>å¯¹ç»ˆç«¯å·¥å…·æ„Ÿå…´è¶£çš„å¼€å‘è€…</li>
</ul>
<h3 data-id="heading-5">ä½œè€…/å›¢é˜Ÿä»‹ç»</h3>
<p><strong>å›¢é˜Ÿï¼šopencode-ai</strong></p>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šä¸“æ³¨äº AI è¾…åŠ©å¼€å‘å·¥å…·çš„å¼€æºå›¢é˜Ÿ</li>
<li><strong>è´¡çŒ®è€…</strong>ï¼š27 ä½è´¡çŒ®è€…ï¼ŒåŒ…æ‹¬ @kujtimiihoxhaã€@ezynda3ã€@rekram1-node ç­‰</li>
<li><strong>ç‰¹åˆ«è‡´è°¢</strong>ï¼š
<ul>
<li>@isaacphiï¼šæä¾›äº† mcp-language-server é¡¹ç›®ï¼Œä¸º LSP å®¢æˆ·ç«¯å®ç°å¥ å®šäº†åŸºç¡€</li>
<li>@adamdottvï¼šæä¾›äº†è®¾è®¡æ–¹å‘å’Œ UI/UX æ¶æ„</li>
</ul>
</li>
</ul>
<p><strong>é¡¹ç›®åˆ›å»ºæ—¶é—´</strong>ï¼š2024å¹´ï¼ˆä» GitHub æäº¤å†å²å¯ä»¥çœ‹å‡ºï¼‰</p>
<p><strong>é‡è¦ä¿¡æ¯</strong>ï¼šé¡¹ç›®å·²äº <strong>2025å¹´9æœˆ18æ—¥å½’æ¡£</strong>ï¼Œç°åœ¨æ˜¯åªè¯»çŠ¶æ€ã€‚è¿™å¯èƒ½æ˜¯å› ä¸ºï¼š</p>
<ul>
<li>é¡¹ç›®æ–¹å‘è°ƒæ•´</li>
<li>èµ„æºé™åˆ¶</li>
<li>æˆ–è€…è¢«å…¶ä»–é¡¹ç›®æ›¿ä»£</li>
</ul>
<p>å°½ç®¡å¦‚æ­¤ï¼ŒOpenCode ä»ç„¶æ˜¯ä¸€ä¸ªå€¼å¾—å­¦ä¹ çš„ä¼˜ç§€é¡¹ç›®ï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨ç»ˆç«¯ä¸­æ„å»º AI ç¼–ç¨‹åŠ©æ‰‹çš„å®Œæ•´æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-6">é¡¹ç›®æ•°æ®</h3>
<ul>
<li>â­ <strong>GitHub Stars</strong>: 10.6k+ï¼ˆå½’æ¡£å‰æŒç»­å¢é•¿ï¼‰</li>
<li>ğŸ´ <strong>Forks</strong>: 965+</li>
<li>ğŸ“¦ <strong>ç‰ˆæœ¬</strong>: v0.0.55ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼Œ2025å¹´6æœˆ27æ—¥å‘å¸ƒï¼‰</li>
<li>ğŸ“„ <strong>License</strong>: MITï¼ˆå®Œå…¨å¼€æºï¼‰</li>
<li>ğŸŒ <strong>å®˜ç½‘</strong>: æ— ç‹¬ç«‹å®˜ç½‘ï¼ŒGitHub ä¸ºä¸»è¦å…¥å£</li>
<li>ğŸ“š <strong>æ–‡æ¡£</strong>: GitHub README å’Œä»£ç æ³¨é‡Š</li>
<li>ğŸ’¬ <strong>ç¤¾åŒº</strong>: GitHub Issues å’Œ Discussionsï¼ˆå½’æ¡£ååªè¯»ï¼‰</li>
<li>âš ï¸ <strong>çŠ¶æ€</strong>: å·²å½’æ¡£ï¼ˆ2025å¹´9æœˆ18æ—¥ï¼‰</li>
</ul>
<p><strong>é¡¹ç›®å‘å±•å†ç¨‹</strong>ï¼š</p>
<ul>
<li>2024å¹´ï¼šé¡¹ç›®å¯åŠ¨ï¼Œåˆæ­¥ç‰ˆæœ¬å‘å¸ƒ</li>
<li>2024-2025å¹´ï¼šå¿«é€Ÿå‘å±•ï¼Œæ·»åŠ æ ¸å¿ƒåŠŸèƒ½</li>
<li>2025å¹´6æœˆï¼šv0.0.55 å‘å¸ƒï¼Œæœ€åä¸€ä¸ªç‰ˆæœ¬</li>
<li>2025å¹´9æœˆï¼šé¡¹ç›®å½’æ¡£ï¼Œè½¬ä¸ºåªè¯»çŠ¶æ€</li>
</ul>
<hr/>
<h2 data-id="heading-7">ä¸»è¦åŠŸèƒ½</h2>
<h3 data-id="heading-8">æ ¸å¿ƒä½œç”¨</h3>
<p>OpenCode çš„æ ¸å¿ƒä½œç”¨æ˜¯<strong>åœ¨ç»ˆç«¯ä¸­æä¾›å¼ºå¤§çš„ AI ç¼–ç¨‹è¾…åŠ©èƒ½åŠ›</strong>ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿï¼š</p>
<ol>
<li><strong>ç»ˆç«¯åŸç”Ÿä½“éªŒ</strong>ï¼šæ— éœ€ç¦»å¼€ç»ˆç«¯ï¼Œå³å¯ä½¿ç”¨ AI è¾…åŠ©ç¼–ç¨‹</li>
<li><strong>å¤šæ¨¡å‹æ”¯æŒ</strong>ï¼šç»Ÿä¸€æ¥å£è®¿é—®ä¸åŒçš„ LLM æä¾›å•†</li>
<li><strong>åè®®é›†æˆ</strong>ï¼šæ”¯æŒ MCPã€LSP ç­‰æ ‡å‡†åè®®ï¼Œæ‰©å±•èƒ½åŠ›å¼º</li>
<li><strong>è‡ªå®šä¹‰å‘½ä»¤</strong>ï¼šæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å‘½ä»¤ï¼Œå¿«é€Ÿæ‰§è¡Œå¸¸ç”¨æ“ä½œ</li>
<li><strong>ä¼šè¯ç®¡ç†</strong>ï¼šæ™ºèƒ½çš„ä¼šè¯ç®¡ç†å’Œä¸Šä¸‹æ–‡ç»´æŠ¤</li>
</ol>
<h3 data-id="heading-9">ä½¿ç”¨åœºæ™¯</h3>
<ol>
<li>
<p><strong>ç»ˆç«¯å¼€å‘å·¥ä½œæµ</strong></p>
<ul>
<li>åœ¨ç»ˆç«¯ä¸­ç¼–å†™ä»£ç æ—¶å¿«é€Ÿè·å¾—å¸®åŠ©</li>
<li>ç†è§£å¤æ‚çš„ä»£ç é€»è¾‘</li>
<li>å¿«é€Ÿä¿®å¤é”™è¯¯å’Œé—®é¢˜</li>
</ul>
</li>
<li>
<p><strong>ä»£ç å®¡æŸ¥å’Œé‡æ„</strong></p>
<ul>
<li>åˆ†æä»£ç è´¨é‡å’Œæ½œåœ¨é—®é¢˜</li>
<li>æä¾›é‡æ„å»ºè®®</li>
<li>ç”Ÿæˆæµ‹è¯•ä»£ç </li>
</ul>
</li>
<li>
<p><strong>å­¦ä¹ å’Œæ¢ç´¢</strong></p>
<ul>
<li>å­¦ä¹ æ–°çš„ç¼–ç¨‹è¯­è¨€æˆ–æ¡†æ¶</li>
<li>ç†è§£å¼€æºé¡¹ç›®çš„ä»£ç </li>
<li>æ¢ç´¢æœ€ä½³å®è·µ</li>
</ul>
</li>
<li>
<p><strong>å¿«é€ŸåŸå‹å¼€å‘</strong></p>
<ul>
<li>å¿«é€Ÿç”Ÿæˆä»£ç ç‰‡æ®µ</li>
<li>å®ç°åŠŸèƒ½åŸå‹</li>
<li>éªŒè¯æƒ³æ³•</li>
</ul>
</li>
<li>
<p><strong>è‡ªåŠ¨åŒ–è„šæœ¬ç¼–å†™</strong></p>
<ul>
<li>ç”Ÿæˆ Shell è„šæœ¬</li>
<li>ç¼–å†™ CI/CD é…ç½®</li>
<li>åˆ›å»ºå·¥å…·è„šæœ¬</li>
</ul>
</li>
</ol>
<h3 data-id="heading-10">å¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-11">å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨å®‰è£…è„šæœ¬ï¼ˆæ¨èï¼‰</span>
curl -fsSL https://raw.githubusercontent.com/opencode-ai/opencode/main/install | bash

<span class="hljs-comment"># æˆ–ä»æºç æ„å»º</span>
git <span class="hljs-built_in">clone</span> https://github.com/opencode-ai/opencode.git
<span class="hljs-built_in">cd</span> opencode
go build -o opencode
</code></pre>
<h4 data-id="heading-12">åŸºæœ¬ä½¿ç”¨</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨ OpenCode</span>
opencode

<span class="hljs-comment"># åœ¨ TUI ä¸­ï¼š</span>
<span class="hljs-comment"># 1. è¾“å…¥ä½ çš„é—®é¢˜æˆ–éœ€æ±‚</span>
<span class="hljs-comment"># 2. AI åŠ©æ‰‹ä¼šåˆ†æå¹¶å“åº”</span>
<span class="hljs-comment"># 3. å¯ä»¥ä½¿ç”¨å†…ç½®å·¥å…·ï¼ˆREAD, WRITE, RUN ç­‰ï¼‰</span>
<span class="hljs-comment"># 4. æŸ¥çœ‹ä»£ç å»ºè®®å’Œä¿®æ”¹</span>
</code></pre>
<h4 data-id="heading-13">é…ç½® LLM æä¾›å•†</h4>
<p>åˆ›å»ºé…ç½®æ–‡ä»¶ <code>~/.config/opencode/opencode.json</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"providers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"openai"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"apiKey"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"your-openai-api-key"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"claude"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"apiKey"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"your-claude-api-key"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"agents"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"coder"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gpt-4"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"reasoningEffort"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"high"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-14">æ ¸å¿ƒç‰¹æ€§</h3>
<ol>
<li>
<p><strong>ç»ˆç«¯ç”¨æˆ·ç•Œé¢ï¼ˆTUIï¼‰</strong></p>
<ul>
<li><strong>ä»€ä¹ˆæ˜¯ TUIï¼Ÿ</strong> TUIï¼ˆTerminal User Interfaceï¼Œç»ˆç«¯ç”¨æˆ·ç•Œé¢ï¼‰æ˜¯ä¸€ç§åœ¨ç»ˆç«¯ä¸­æä¾›å›¾å½¢åŒ–äº¤äº’ä½“éªŒçš„æŠ€æœ¯ã€‚ä¸ä¼ ç»Ÿçš„å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰ä¸åŒï¼ŒTUI ä½¿ç”¨æ–‡æœ¬å­—ç¬¦å’Œ ANSI è½¬ä¹‰åºåˆ—æ¥åˆ›å»ºçª—å£ã€èœå•ã€æŒ‰é’®ç­‰å›¾å½¢å…ƒç´ ï¼Œè®©ç»ˆç«¯åº”ç”¨ä¹Ÿèƒ½æ‹¥æœ‰ç±»ä¼¼ GUI çš„äº¤äº’ä½“éªŒï¼Œä½†å®Œå…¨åœ¨ç»ˆç«¯ä¸­è¿è¡Œã€‚</li>
<li>ç°ä»£åŒ–çš„ç»ˆç«¯ç•Œé¢ï¼šOpenCode çš„ TUI æä¾›äº†æ¸…æ™°çš„å¸ƒå±€å’Œå¯¼èˆª</li>
<li>æ”¯æŒé”®ç›˜å¿«æ·é”®ï¼šé«˜æ•ˆçš„é”®ç›˜æ“ä½œï¼Œæ— éœ€é¼ æ ‡</li>
<li>å®æ—¶æ›´æ–°ï¼šç•Œé¢å…ƒç´ å¯ä»¥åŠ¨æ€æ›´æ–°ï¼Œæä¾›æµç•…çš„äº¤äº’ä½“éªŒ</li>
</ul>
</li>
<li>
<p><strong>å¤š LLM æä¾›å•†æ”¯æŒ</strong></p>
<ul>
<li>OpenAIï¼ˆGPT-3.5, GPT-4ï¼‰</li>
<li>Anthropic Claude</li>
<li>è‡ªæ‰˜ç®¡æ¨¡å‹ï¼ˆOpenAI å…¼å®¹æ¥å£ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å†…ç½®å·¥å…·é›†</strong></p>
<ul>
<li><code>READ</code>ï¼šè¯»å–æ–‡ä»¶å†…å®¹</li>
<li><code>WRITE</code>ï¼šå†™å…¥æ–‡ä»¶</li>
<li><code>RUN</code>ï¼šæ‰§è¡Œå‘½ä»¤</li>
<li><code>SEARCH</code>ï¼šæœç´¢ä»£ç </li>
<li><code>DIAGNOSTICS</code>ï¼šä»£ç è¯Šæ–­ï¼ˆé€šè¿‡ LSPï¼‰</li>
</ul>
</li>
<li>
<p><strong>MCPï¼ˆModel Context Protocolï¼‰æ”¯æŒ</strong></p>
<ul>
<li>é›†æˆå¤–éƒ¨å·¥å…·å’ŒæœåŠ¡</li>
<li>æ ‡å‡†åŒ–çš„åè®®æ¥å£</li>
<li>æ”¯æŒ stdio å’Œ SSE è¿æ¥</li>
</ul>
</li>
<li>
<p><strong>LSPï¼ˆLanguage Server Protocolï¼‰é›†æˆ</strong></p>
<ul>
<li>å¤šè¯­è¨€æ”¯æŒ</li>
<li>å®æ—¶é”™è¯¯æ£€æŸ¥</li>
<li>ä»£ç è¯Šæ–­å’Œå»ºè®®</li>
</ul>
</li>
<li>
<p><strong>è‡ªå®šä¹‰å‘½ä»¤ç³»ç»Ÿ</strong></p>
<ul>
<li>ç”¨æˆ·çº§å‘½ä»¤ï¼ˆ<code>user:</code> å‰ç¼€ï¼‰</li>
<li>é¡¹ç›®çº§å‘½ä»¤ï¼ˆ<code>project:</code> å‰ç¼€ï¼‰</li>
<li>æ”¯æŒå‘½ä»¤å‚æ•°å’Œå­ç›®å½•ç»„ç»‡</li>
</ul>
</li>
<li>
<p><strong>ä¼šè¯ç®¡ç†</strong></p>
<ul>
<li>æ™ºèƒ½ä¼šè¯ä¸Šä¸‹æ–‡ç»´æŠ¤</li>
<li>ä¼šè¯å‹ç¼©å’Œæ€»ç»“</li>
<li>é¡¹ç›®è®°å¿†æ–‡ä»¶ï¼ˆOpenCode.mdï¼‰</li>
</ul>
</li>
<li>
<p><strong>GitHub Copilot æ”¯æŒ</strong>ï¼ˆå®éªŒæ€§ï¼‰</p>
<ul>
<li>é›†æˆ GitHub Copilot Chat</li>
<li>æ”¯æŒ VSCodeã€Neovim ç­‰æ’ä»¶</li>
<li>é€šè¿‡ GitHub CLI è®¿é—®</li>
</ul>
</li>
</ol>
<h3 data-id="heading-15">é¡¹ç›®ä¼˜åŠ¿</h3>
<p>OpenCode å¯ä»¥ä½œä¸º <strong>Claude Code çš„å¹³æ›¿æ–¹æ¡ˆ</strong>ï¼Œç‰¹åˆ«é€‚åˆå–œæ¬¢ç»ˆç«¯å·¥ä½œæµçš„å¼€å‘è€…ã€‚ä¸å…¶ä»– AI ç¼–ç¨‹å·¥å…·ç›¸æ¯”ï¼š</p>





























































<table><thead><tr><th align="left">å¯¹æ¯”é¡¹</th><th align="left">OpenCode</th><th align="left">Claude Code</th><th align="left">GitHub Copilot</th><th align="left">Cursor</th></tr></thead><tbody><tr><td align="left"><strong>ç»ˆç«¯åŸç”Ÿ</strong></td><td align="left">â­â­â­â­â­ å®Œå…¨ç»ˆç«¯</td><td align="left">â­â­â­â­â­ å®Œå…¨ç»ˆç«¯</td><td align="left">â­ éœ€è¦ IDE</td><td align="left">â­â­ éœ€è¦ IDE</td></tr><tr><td align="left"><strong>TUI ä½“éªŒ</strong></td><td align="left">â­â­â­â­â­ ç°ä»£åŒ–ç•Œé¢</td><td align="left">â­ æ— </td><td align="left">â­ æ— </td><td align="left">â­â­ IDE é›†æˆ</td></tr><tr><td align="left"><strong>å¤šæ¨¡å‹æ”¯æŒ</strong></td><td align="left">â­â­â­â­â­ ç»Ÿä¸€æ¥å£</td><td align="left">â­â­â­â­ å¤šç§æ¨¡å‹</td><td align="left">â­â­ ä»… Copilot</td><td align="left">â­â­â­ å¤šç§æ¨¡å‹</td></tr><tr><td align="left"><strong>åè®®æ”¯æŒ</strong></td><td align="left">â­â­â­â­â­ MCP+LSP</td><td align="left">â­â­â­â­ MCP æ”¯æŒ</td><td align="left">â­â­ æœ‰é™</td><td align="left">â­â­â­ éƒ¨åˆ†æ”¯æŒ</td></tr><tr><td align="left"><strong>è‡ªå®šä¹‰å‘½ä»¤</strong></td><td align="left">â­â­â­â­â­ å®Œæ•´æ”¯æŒ</td><td align="left">â­â­â­â­ æ”¯æŒ</td><td align="left">â­ æ— </td><td align="left">â­â­ æœ‰é™</td></tr><tr><td align="left"><strong>å­¦ä¹ æˆæœ¬</strong></td><td align="left">â­â­â­ ä¸­ç­‰</td><td align="left">â­â­â­ ä¸­ç­‰</td><td align="left">â­â­â­â­ ä½</td><td align="left">â­â­â­ ä¸­ç­‰</td></tr><tr><td align="left"><strong>é¡¹ç›®çŠ¶æ€</strong></td><td align="left">âš ï¸ å·²å½’æ¡£</td><td align="left">â­â­â­â­â­ æ´»è·ƒ</td><td align="left">â­â­â­â­â­ æ´»è·ƒ</td><td align="left">â­â­â­â­â­ æ´»è·ƒ</td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆé€‰æ‹© OpenCode ä½œä¸º Claude Code çš„å¹³æ›¿ï¼Ÿ</strong></p>
<ul>
<li>âœ… <strong>ç»ˆç«¯åŸç”Ÿ</strong>ï¼šå¦‚æœä½ æ›´å–œæ¬¢åœ¨ç»ˆç«¯å·¥ä½œï¼ŒOpenCode æä¾›äº†å®Œæ•´çš„ç»ˆç«¯ä½“éªŒ</li>
<li>âœ… <strong>åè®®æ”¯æŒ</strong>ï¼šä¸ Claude Code ç±»ä¼¼ï¼Œæ”¯æŒ MCP å’Œ LSP åè®®ï¼Œæ‰©å±•èƒ½åŠ›å¼º</li>
<li>âœ… <strong>ç»Ÿä¸€æ¥å£</strong>ï¼šä¸€ä¸ªå·¥å…·è®¿é—®å¤šä¸ª LLM æä¾›å•†ï¼Œçµæ´»é€‰æ‹©æ¨¡å‹</li>
<li>âœ… <strong>è‡ªå®šä¹‰èƒ½åŠ›</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰å‘½ä»¤ç³»ç»Ÿï¼Œå¯ä»¥å¿«é€Ÿæ‰§è¡Œå¸¸ç”¨æ“ä½œ</li>
<li>âœ… <strong>è½»é‡çº§</strong>ï¼šç›¸æ¯” IDE é›†æˆçš„æ–¹æ¡ˆï¼ŒOpenCode æ›´åŠ è½»é‡ï¼Œèµ„æºå ç”¨æ›´å°‘</li>
<li>âš ï¸ <strong>æ³¨æ„</strong>ï¼šé¡¹ç›®å·²å½’æ¡£ï¼Œé€‚åˆå­¦ä¹ å’Œå‚è€ƒã€‚å¦‚æœéœ€è¦ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼Œå»ºè®®è€ƒè™‘ Claude Code æˆ–å…¶ä»–æ´»è·ƒé¡¹ç›®</li>
</ul>
<hr/>
<h2 data-id="heading-16">é¡¹ç›®è¯¦ç»†å‰–æ</h2>
<h3 data-id="heading-17">æ¶æ„è®¾è®¡</h3>
<p>OpenCode é‡‡ç”¨<strong>æ¨¡å—åŒ–æ¶æ„</strong>ï¼Œæ ¸å¿ƒç»„ä»¶æ¸…æ™°åˆ†ç¦»ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   cmd/ (CLI æ¥å£)                    â”‚
â”‚   - Cobra å‘½ä»¤è¡Œæ¡†æ¶                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   internal/app (æ ¸å¿ƒåº”ç”¨æœåŠ¡)         â”‚
â”‚   - åº”ç”¨é€»è¾‘ç¼–æ’                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                     â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚ config â”‚         â”‚  session  â”‚
â”‚ (é…ç½®) â”‚         â”‚ (ä¼šè¯ç®¡ç†) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                     â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚   internal/llm (LLM é›†æˆ)       â”‚
â”‚   - OpenAI                      â”‚
â”‚   - Claude                      â”‚
â”‚   - è‡ªæ‰˜ç®¡æ¨¡å‹                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                     â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚  mcp   â”‚         â”‚   lsp     â”‚
â”‚ (åè®®) â”‚         â”‚ (åè®®)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                     â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚   internal/tui (ç»ˆç«¯ç•Œé¢)      â”‚
â”‚   - å¸ƒå±€å’Œç»„ä»¶                 â”‚
â”‚   - ç”¨æˆ·äº¤äº’                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-18">æ ¸å¿ƒæ¨¡å—è¯¦è§£</h3>
<h4 data-id="heading-19">1. LLM é›†æˆå±‚ï¼ˆinternal/llmï¼‰</h4>
<p><strong>åŠŸèƒ½</strong>ï¼šç»Ÿä¸€æ¥å£è®¿é—®ä¸åŒçš„ LLM æä¾›å•†</p>
<p><strong>æ”¯æŒçš„æä¾›å•†</strong>ï¼š</p>
<ul>
<li>OpenAIï¼ˆGPT-3.5, GPT-4ï¼‰</li>
<li>Anthropic Claude</li>
<li>è‡ªæ‰˜ç®¡æ¨¡å‹ï¼ˆOpenAI å…¼å®¹æ¥å£ï¼‰</li>
</ul>
<p><strong>è®¾è®¡ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ç»Ÿä¸€çš„æ¥å£æŠ½è±¡</li>
<li>é…ç½®é©±åŠ¨çš„æä¾›å•†é€‰æ‹©</li>
<li>æ”¯æŒæµå¼å“åº”</li>
</ul>
<h4 data-id="heading-20">2. MCP é›†æˆï¼ˆModel Context Protocolï¼‰</h4>
<p><strong>åŠŸèƒ½</strong>ï¼šé€šè¿‡æ ‡å‡†åè®®é›†æˆå¤–éƒ¨å·¥å…·å’ŒæœåŠ¡</p>
<p><strong>è¿æ¥ç±»å‹</strong>ï¼š</p>
<ul>
<li><strong>Stdio</strong>ï¼šé€šè¿‡æ ‡å‡†è¾“å…¥/è¾“å‡ºé€šä¿¡</li>
<li><strong>SSE</strong>ï¼šé€šè¿‡ Server-Sent Events é€šä¿¡</li>
</ul>
<p><strong>é…ç½®ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"example"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stdio"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"path/to/mcp-server"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"web-example"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sse"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://example.com/mcp"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"headers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"Authorization"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Bearer token"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>è®¾è®¡ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æ ‡å‡†åŒ–çš„åè®®æ¥å£</li>
<li>è‡ªåŠ¨å·¥å…·å‘ç°</li>
<li>æƒé™æ§åˆ¶ç³»ç»Ÿ</li>
</ul>
<h4 data-id="heading-21">3. LSP é›†æˆï¼ˆLanguage Server Protocolï¼‰</h4>
<p><strong>åŠŸèƒ½</strong>ï¼šæä¾›ä»£ç æ™ºèƒ½åŠŸèƒ½</p>
<p><strong>æ”¯æŒçš„è¯­è¨€</strong>ï¼š</p>
<ul>
<li>Goï¼ˆgoplsï¼‰</li>
<li>TypeScriptï¼ˆtypescript-language-serverï¼‰</li>
<li>å…¶ä»–æ”¯æŒ LSP çš„è¯­è¨€</li>
</ul>
<p><strong>é…ç½®ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"lsp"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"go"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"disabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gopls"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"typescript"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"disabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"typescript-language-server"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"--stdio"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>åŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>å®æ—¶é”™è¯¯æ£€æŸ¥</li>
<li>ä»£ç è¯Šæ–­</li>
<li>æ–‡ä»¶å˜æ›´é€šçŸ¥</li>
</ul>
<p><strong>è®¾è®¡ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>å®Œæ•´çš„ LSP å®¢æˆ·ç«¯å®ç°</li>
<li>å¤šè¯­è¨€æœåŠ¡å™¨æ”¯æŒ</li>
<li>ç›®å‰ä»…æš´éœ² diagnostics ç»™ AI åŠ©æ‰‹</li>
</ul>
<h4 data-id="heading-22">4. è‡ªå®šä¹‰å‘½ä»¤ç³»ç»Ÿ</h4>
<p><strong>å‘½ä»¤ç±»å‹</strong>ï¼š</p>
<ol>
<li>
<p><strong>ç”¨æˆ·çº§å‘½ä»¤</strong>ï¼ˆ<code>user:</code> å‰ç¼€ï¼‰</p>
<ul>
<li>ä½ç½®ï¼š<code>~/.config/opencode/commands/</code> æˆ– <code>~/.opencode/commands/</code></li>
<li>å…¨å±€å¯ç”¨</li>
</ul>
</li>
<li>
<p><strong>é¡¹ç›®çº§å‘½ä»¤</strong>ï¼ˆ<code>project:</code> å‰ç¼€ï¼‰</p>
<ul>
<li>ä½ç½®ï¼š<code>&lt;PROJECT_DIR&gt;/.opencode/commands/</code></li>
<li>ä»…å½“å‰é¡¹ç›®å¯ç”¨</li>
</ul>
</li>
</ol>
<p><strong>å‘½ä»¤æ ¼å¼</strong>ï¼š</p>
<ul>
<li>Markdown æ–‡ä»¶ï¼ˆ<code>.md</code>ï¼‰</li>
<li>æ–‡ä»¶åï¼ˆä¸å«æ‰©å±•åï¼‰æˆä¸ºå‘½ä»¤ ID</li>
<li>æ”¯æŒå­ç›®å½•ç»„ç»‡</li>
</ul>
<p><strong>ç¤ºä¾‹å‘½ä»¤</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># æ–‡ä»¶ï¼š~/.config/opencode/commands/prime-context.md</span>

RUN git ls-files
READ README.md
</code></pre>
<p><strong>å‘½ä»¤å‚æ•°</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>$NAME</code> æ ¼å¼çš„å ä½ç¬¦</li>
<li>æ‰§è¡Œæ—¶æç¤ºè¾“å…¥å€¼</li>
<li>æ”¯æŒå¤šæ¬¡ä½¿ç”¨åŒä¸€å‚æ•°</li>
</ul>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># æ–‡ä»¶ï¼š~/.config/opencode/commands/fetch-issue.md</span>

<span class="hljs-section"># Fetch Context for Issue $ISSUE<span class="hljs-emphasis">_NUMBER

RUN gh issue view $ISSUE_</span>NUMBER --json title,body,comments</span>
RUN git grep --author="$AUTHOR<span class="hljs-emphasis">_NAME" -n .
</span></code></pre>
<h4 data-id="heading-23">5. ç»ˆç«¯ç”¨æˆ·ç•Œé¢ï¼ˆTUIï¼‰</h4>
<p><strong>åŠŸèƒ½</strong>ï¼šæä¾›ç°ä»£åŒ–çš„ç»ˆç«¯ç•Œé¢</p>
<p><strong>ç»„ä»¶</strong>ï¼š</p>
<ul>
<li>æ¶ˆæ¯è¾“å…¥åŒºåŸŸ</li>
<li>å¯¹è¯å†å²æ˜¾ç¤º</li>
<li>å·¥å…·æ‰§è¡Œç»“æœ</li>
<li>çŠ¶æ€æ å’Œå¿«æ·é”®æç¤º</li>
</ul>
<p><strong>è®¾è®¡ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æ¸…æ™°çš„å¸ƒå±€</li>
<li>é”®ç›˜å¯¼èˆª</li>
<li>å®æ—¶æ›´æ–°</li>
</ul>
<h3 data-id="heading-24">å…³é”®æŠ€æœ¯å®ç°</h3>
<h4 data-id="heading-25">1. ä¼šè¯ç®¡ç†</h4>
<p><strong>æŒ‘æˆ˜</strong>ï¼šå¦‚ä½•ç»´æŠ¤é•¿å¯¹è¯çš„ä¸Šä¸‹æ–‡ï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>ä¼šè¯çŠ¶æ€æŒä¹…åŒ–</li>
<li>æ™ºèƒ½å‹ç¼©å’Œæ€»ç»“</li>
<li>é¡¹ç›®è®°å¿†æ–‡ä»¶ï¼ˆOpenCode.mdï¼‰</li>
</ul>
<p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ol>
<li>æ–°ä¼šè¯å¼€å§‹æ—¶åŠ è½½é¡¹ç›®è®°å¿†</li>
<li>å¯¹è¯è¿‡ç¨‹ä¸­ç»´æŠ¤ä¸Šä¸‹æ–‡</li>
<li>ä¼šè¯å‹ç¼©æ—¶åˆ›å»ºæ‘˜è¦</li>
<li>æ›´æ–°é¡¹ç›®è®°å¿†æ–‡ä»¶</li>
</ol>
<h4 data-id="heading-26">2. å·¥å…·æƒé™ç³»ç»Ÿ</h4>
<p><strong>æŒ‘æˆ˜</strong>ï¼šå¦‚ä½•æ§åˆ¶ AI åŠ©æ‰‹å¯¹å·¥å…·çš„è®¿é—®ï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>ç”¨æˆ·æ‰¹å‡†æœºåˆ¶</li>
<li>å·¥å…·æ‰§è¡Œå‰è¯·æ±‚æƒé™</li>
<li>æƒé™è®°å½•å’Œå®¡è®¡</li>
</ul>
<h4 data-id="heading-27">3. å¤šåè®®é›†æˆ</h4>
<p><strong>æŒ‘æˆ˜</strong>ï¼šå¦‚ä½•ç»Ÿä¸€ç®¡ç†ä¸åŒçš„åè®®ï¼ˆMCPã€LSPï¼‰ï¼Ÿ</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>åè®®æŠ½è±¡å±‚</li>
<li>ç»Ÿä¸€çš„é…ç½®ç®¡ç†</li>
<li>å¼‚æ­¥é€šä¿¡å¤„ç†</li>
</ul>
<h3 data-id="heading-28">æ‰©å±•æœºåˆ¶</h3>
<h4 data-id="heading-29">1. è‡ªå®šä¹‰å‘½ä»¤</h4>
<p>ç”¨æˆ·å¯ä»¥åˆ›å»ºè‡ªå®šä¹‰å‘½ä»¤æ¥å¿«é€Ÿæ‰§è¡Œå¸¸ç”¨æ“ä½œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºå‘½ä»¤æ–‡ä»¶</span>
<span class="hljs-built_in">mkdir</span> -p ~/.config/opencode/commands
<span class="hljs-built_in">cat</span> &gt; ~/.config/opencode/commands/my-command.md &lt;&lt; <span class="hljs-string">EOF
# My Custom Command

RUN echo "Hello from custom command"
READ important-file.txt
EOF</span>

<span class="hljs-comment"># åœ¨ OpenCode ä¸­ä½¿ç”¨</span>
<span class="hljs-comment"># æŒ‰ Ctrl+Kï¼Œé€‰æ‹© user:my-command</span>
</code></pre>
<h4 data-id="heading-30">2. MCP æœåŠ¡å™¨é›†æˆ</h4>
<p>é›†æˆå¤–éƒ¨ MCP æœåŠ¡å™¨æ‰©å±•åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"custom-tool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stdio"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/path/to/custom-mcp-server"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-31">3. è‡ªæ‰˜ç®¡æ¨¡å‹</h4>
<p>ä½¿ç”¨è‡ªæ‰˜ç®¡æ¨¡å‹æ›¿ä»£äº‘æœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®¾ç½®ç¯å¢ƒå˜é‡</span>
<span class="hljs-built_in">export</span> LOCAL_ENDPOINT=http://localhost:1235/v1

<span class="hljs-comment"># é…ç½®æ¨¡å‹</span>
{
  <span class="hljs-string">"agents"</span>: {
    <span class="hljs-string">"coder"</span>: {
      <span class="hljs-string">"model"</span>: <span class="hljs-string">"local.granite-3.3-2b-instruct@q8_0"</span>
    }
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-32">é¡¹ç›®åœ°å€ä¸èµ„æº</h2>
<h3 data-id="heading-33">å®˜æ–¹èµ„æº</h3>
<ul>
<li>ğŸŒŸ <strong>GitHub</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopencode-ai%2Fopencode" target="_blank" title="https://github.com/opencode-ai/opencode" ref="nofollow noopener noreferrer">github.com/opencode-aiâ€¦</a></li>
<li>ğŸ“š <strong>æ–‡æ¡£</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopencode-ai%2Fopencode%23readme" target="_blank" title="https://github.com/opencode-ai/opencode#readme" ref="nofollow noopener noreferrer">GitHub README</a></li>
<li>ğŸ› <strong>Issues</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopencode-ai%2Fopencode%2Fissues" target="_blank" title="https://github.com/opencode-ai/opencode/issues" ref="nofollow noopener noreferrer">GitHub Issues</a>ï¼ˆå½’æ¡£ååªè¯»ï¼‰</li>
<li>ğŸ“¦ <strong>Releases</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopencode-ai%2Fopencode%2Freleases" target="_blank" title="https://github.com/opencode-ai/opencode/releases" ref="nofollow noopener noreferrer">GitHub Releases</a></li>
<li>âš ï¸ <strong>çŠ¶æ€</strong>: é¡¹ç›®å·²å½’æ¡£ï¼ˆ2025å¹´9æœˆ18æ—¥ï¼‰</li>
</ul>
<h3 data-id="heading-34">é€‚ç”¨äººç¾¤</h3>
<p><strong>é€‚åˆå­¦ä¹ </strong>ï¼š</p>
<ul>
<li>å¯¹ç»ˆç«¯å·¥å…·æ„Ÿå…´è¶£çš„å¼€å‘è€…</li>
<li>æƒ³äº†è§£ AI ç¼–ç¨‹åŠ©æ‰‹å®ç°çš„å¼€å‘è€…</li>
<li>éœ€è¦å‚è€ƒ TUI è®¾è®¡çš„å¼€å‘è€…</li>
<li>å­¦ä¹ åè®®é›†æˆï¼ˆMCPã€LSPï¼‰çš„å¼€å‘è€…</li>
</ul>
<p><strong>ä¸é€‚åˆç”Ÿäº§ä½¿ç”¨</strong>ï¼š</p>
<ul>
<li>âš ï¸ é¡¹ç›®å·²å½’æ¡£ï¼Œä¸å†ç»´æŠ¤</li>
<li>å»ºè®®ä½¿ç”¨æ´»è·ƒçš„æ›¿ä»£é¡¹ç›®</li>
<li>æˆ– Fork åè‡ªè¡Œç»´æŠ¤</li>
</ul>
<hr/>
<p><em>æ¬¢è¿æ¥æˆ‘ä¸­çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a>æ‰¾åˆ°æ›´å¤šæœ‰ç”¨çš„çŸ¥è¯†å’Œæœ‰è¶£çš„äº§å“</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ†äº«ä¸€ä¸‹æˆ‘çš„æŠ€æœ¯è½¬å‹ä¹‹è·¯ä»çº¯å‰ç«¯åˆ° AI å…¨æ ˆ ğŸ˜ğŸ˜ğŸ˜]]></title>    <link>https://juejin.cn/post/7599708108622151731</link>    <guid>https://juejin.cn/post/7599708108622151731</guid>    <pubDate>2026-01-27T12:38:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599708108622151731" data-draft-id="7599708108622135347" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ†äº«ä¸€ä¸‹æˆ‘çš„æŠ€æœ¯è½¬å‹ä¹‹è·¯ä»çº¯å‰ç«¯åˆ° AI å…¨æ ˆ ğŸ˜ğŸ˜ğŸ˜"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,GitHub"/> <meta itemprop="datePublished" content="2026-01-27T12:38:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Moment"/> <meta itemprop="url" content="https://juejin.cn/user/3782764966460398"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ†äº«ä¸€ä¸‹æˆ‘çš„æŠ€æœ¯è½¬å‹ä¹‹è·¯ä»çº¯å‰ç«¯åˆ° AI å…¨æ ˆ ğŸ˜ğŸ˜ğŸ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3782764966460398/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Moment
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T12:38:20.000Z" title="Tue Jan 27 2026 12:38:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>åˆšå…¥è¡Œæ—¶ï¼Œæˆ‘åªæ˜¯ä¸€ä¸ªåªä¼šå†™ <code>React</code> ç»„ä»¶çš„å‰ç«¯å¼€å‘ï¼Œä¸»è¦ç²¾åŠ›éƒ½æ”¾åœ¨é¡µé¢å’Œäº¤äº’ä¸Šã€‚ä¸€è·¯èµ°æ¥ï¼Œæˆ‘å…ˆè¡¥é½äº†å·¥ç¨‹åŒ–ã€åç«¯å’ŒåŸºç¡€è®¾æ–½ï¼Œå†èµ°åˆ°ç°åœ¨ä»¥ AI åº”ç”¨ä¸ºæ ¸å¿ƒçš„å…¨æ ˆæ–¹å‘ï¼Œä¸­é—´è¸©è¿‡ä¸å°‘å‘ï¼Œä¹Ÿç»•äº†ä¸å°‘å¼¯è·¯ã€‚ç°åœ¨æƒ³ç³»ç»Ÿæ¢³ç†ä¸€ä¸‹è¿™æ¡ã€Œä»çº¯å‰ç«¯åˆ° AI å…¨æ ˆã€çš„è½¬å‹è·¯çº¿ï¼Œä»¥åŠä¸€è·¯æ²‰æ·€ä¸‹æ¥çš„æŠ€æœ¯æ ˆï¼Œå¸Œæœ›èƒ½ç»™æ­£åœ¨åšç±»ä¼¼è½¬å‹çš„åŒå­¦ä¸€äº›å‚è€ƒã€‚</p>
<h2 data-id="heading-0">React</h2>
<p><code>React</code> æ˜¯æˆ‘å‰ç«¯çš„èµ·ç‚¹ã€‚å½“æ—¶åœ¨ Boss ç›´è˜ä¸Šçœ‹å¤§å‚æ‹›è˜ï¼Œå‰ç«¯å²—å¤§å¤šè¦æ±‚ <code>React</code>ï¼Œ<code>Vue</code> ç›¸å¯¹è¾ƒå°‘ï¼Œäºæ˜¯æˆ‘é€‰æ‹©äº† <code>React</code>ã€‚å…¥é—¨æ—¶ä»¥ä¸ºå‰ç«¯å°±æ˜¯å†™é¡µé¢ã€è°ƒæ¥å£ï¼Œå·¥ä½œåæ‰å‘ç°æ°´å¾ˆæ·±ã€‚ç°åœ¨å›å¤´çœ‹ï¼Œè¿™ä¸ªé€‰æ‹©æ²¡é—®é¢˜ï¼šæŠ€æœ¯ä¸»æµã€ç”Ÿæ€ä¸°å¯Œã€å°±ä¸šæœºä¼šå¤šï¼Œè€Œä¸”ç»„ä»¶åŒ–ã€è™šæ‹Ÿ DOMã€å•å‘æ•°æ®æµè¿™äº›è®¾è®¡æ€æƒ³å¯¹å‰ç«¯å¼€å‘å½±å“æ·±è¿œã€‚</p>
<p>æˆ‘ç‰¹åˆ«å–œæ¬¢ç»„ä»¶åŒ–æ€ç»´ï¼Œä¸€ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹ï¼Œå¤ç”¨å’Œç»´æŠ¤éƒ½å¾ˆè½»æ¾ã€‚é…åˆ <code>TypeScript</code> ä½¿ç”¨ï¼Œç±»å‹å®‰å…¨å¸¦æ¥çš„æ”¶ç›Šåœ¨å¤§å‹é¡¹ç›®ä¸­å°¤ä¸ºæ˜æ˜¾ã€‚æ—¥å¸¸å¼€å‘ä¸­ï¼Œä½¿ç”¨ <code>useState</code>ã€<code>useEffect</code>ã€<code>useMemo</code>ã€<code>useCallback</code> ç­‰ Hooks ç®¡ç†çŠ¶æ€ï¼Œåˆç†è¿ç”¨ <code>useMemo</code> å’Œ <code>useCallback</code> èƒ½æ˜æ˜¾å‡å°‘ä¸å¿…è¦çš„é‡æ¸²æŸ“ã€‚</p>
<p>æ‰¾å·¥ä½œå‰æˆ‘å°±å¼€å§‹ç ”ç©¶ <code>React</code> æºç ï¼Œå› ä¸ºåªä¼šå†™ä¸šåŠ¡ä»£ç çš„ç®€å†æ²¡ä»€ä¹ˆäº®ç‚¹ã€‚<code>Fiber</code> æ¶æ„ã€è°ƒåº¦å™¨ã€åè°ƒç®—æ³•ä¸€å¼€å§‹éƒ½å¾ˆæŠ½è±¡ï¼Œä½†åšæŒå­¦ä¹ åå¯¹è™šæ‹Ÿ DOMã€diff ç®—æ³•ã€Fiber æœºåˆ¶æœ‰äº†æ¸…æ™°çš„ç†è§£ï¼Œå†™ä»£ç å’Œé¢è¯•æ—¶éƒ½æ›´æœ‰åº•æ°”ã€‚</p>
<p>ä¹‹åç”¨ <code>React</code> åšäº†ä¸€ä¸ªåœ¨çº¿ä»£ç ç¼–è¾‘å™¨ï¼š<code>Monaco Editor</code> è´Ÿè´£ç¼–è¾‘åŠŸèƒ½ï¼ˆè¯­æ³•é«˜äº®ã€ä»£ç è¡¥å…¨ã€é”™è¯¯æç¤ºï¼‰ï¼Œ<code>Yjs</code> + <code>WebSocket</code> å®ç°ååŒç¼–è¾‘ã€‚<code>Yjs</code> æ˜¯ä¸€ä¸ª CRDT æ¡†æ¶ï¼Œç”¨äºè§£å†³å¤šäººç¼–è¾‘å†²çªã€‚è¿™å—æˆ‘è¸©è¿‡ä¸å°‘å‘ï¼ŒæŠŠ CRDT åŸç†æ‘¸æ¸…æ¥šä¹‹åååŒåŠŸèƒ½æ‰çœŸæ­£ç¨³å®šä¸‹æ¥ã€‚è¿™ä¸ªé¡¹ç›®è®©æˆ‘å¯¹ <code>WebContainer</code>ã€<code>Yjs</code> å’Œå‰ç«¯å·¥ç¨‹åŒ–æœ‰äº†æ›´æ·±çš„ç†è§£ã€‚</p>
<p>è¿˜æœ‰ä¸€ä¸ªæ•°æ®å¯è§†åŒ–å¹³å°é¡¹ç›®ï¼Œä½¿ç”¨ <code>React</code> + <code>TypeScript</code> ç»“åˆ <code>Elasticsearch</code> å®ç°æœç´¢åŠŸèƒ½ï¼Œåœ¨è¿™ä¸ªé¡¹ç›®ä¸­å­¦ä¼šäº†å…¨æ–‡æ£€ç´¢å’Œå¤§æ•°æ®é‡æ¸²æŸ“çš„ä¼˜åŒ–æŠ€å·§ã€‚</p>
<h2 data-id="heading-1">å‰ç«¯å·¥ç¨‹åŒ–</h2>
<p>ä»åˆ›å»ºã€æ„å»ºåˆ°éƒ¨ç½²ï¼Œå·¥ç¨‹åŒ–æ•´æ¡é“¾è·¯åšè„šæ‰‹æ¶æ—¶éƒ½è·‘è¿‡ä¸€éã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/161e56c128954405999ed5cb12d264a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122305&amp;x-signature=5f0XPkVFrg51cRQiD9T6gOmCyTM%3D" alt="20260119210514" loading="lazy"/></p>
<p>è¿™æ˜¯æˆ‘ç›®å‰å†™çš„å†…å®¹ï¼Œåç»­å†ä¸°å¯Œæ›´å¤šï¼</p>
<h3 data-id="heading-2">å‰ç«¯è„šæ‰‹æ¶</h3>
<p>ç”¨ <code>Node.js</code> å¼€å‘äº†ä¸€ä¸ªå‰ç«¯è„šæ‰‹æ¶ï¼Œåˆè¡·æ˜¯æ¯æ¬¡æ–°å»ºé¡¹ç›®éƒ½è¦é…ç½® <code>webpack</code>ã€<code>eslint</code>ã€<code>prettier</code>ã€<code>typescript</code>ï¼Œè€Œ <code>create-react-app</code>ã€<code>create-vite</code> åˆç›¸å¯¹é»‘ç›’ã€‚æˆ‘å¼€å‘çš„è¿™ä¸ªè„šæ‰‹æ¶æ”¯æŒæŒ‰éœ€é€‰æ‹©æŠ€æœ¯æ ˆï¼š<code>React</code> æˆ– <code>Vue</code>ã€<code>webpack</code> æˆ– <code>vite</code>ã€æ˜¯å¦ä½¿ç”¨ <code>TypeScript</code>ã€<code>ESLint</code>ã€<code>Prettier</code> ç­‰ã€‚</p>
<p>å®ç°è¿‡ç¨‹ä¸­æ¶‰åŠæ–‡ä»¶æ“ä½œã€æ¨¡æ¿æ¸²æŸ“ã€å‘½ä»¤è¡Œäº¤äº’ç­‰ï¼Œé‡‡ç”¨æ’ä»¶åŒ–æ¶æ„ï¼Œæ¯ä¸ªæŠ€æœ¯æ ˆå¯¹åº”ä¸€ä¸ªæ’ä»¶ï¼Œå¯ä»¥çµæ´»ç»„åˆã€‚ä»å‘½ä»¤è§£æã€å‚æ•°å¤„ç†åˆ°æ–‡ä»¶ç”Ÿæˆã€é‡åå’Œç›®å½•ç­‰è¾¹ç•Œæƒ…å†µçš„å¤„ç†ï¼Œæ•´ä¸ªåˆå§‹åŒ–æµç¨‹è·‘é€šä¹‹åï¼Œå¯¹å‰ç«¯å·¥ç¨‹åŒ–çš„ç†è§£æ·±å…¥äº†å¾ˆå¤šã€‚</p>
<h3 data-id="heading-3">CIã€CD</h3>
<p>å¼€å‘è„šæ‰‹æ¶æ—¶ç”¨ <code>GitHub Actions</code> æ­å»º CI/CD æµç¨‹ï¼šä»£ç æäº¤åè‡ªåŠ¨è¿è¡Œ <code>ESLint</code>ã€ç±»å‹æ£€æŸ¥ã€å•å…ƒæµ‹è¯•ï¼Œå…¨éƒ¨é€šè¿‡æ‰è¿›è¡Œæ„å»ºï¼›æ„å»ºæˆåŠŸåè‡ªåŠ¨éƒ¨ç½²ï¼Œ<code>npm</code> åŒ…å¯ä»¥è‡ªåŠ¨å‘ç‰ˆã€‚æ ¸å¿ƒæ€è·¯æ˜¯å°†ä»ä»£ç æäº¤åˆ°ä¸Šçº¿çš„æ•´ä¸ªæµç¨‹è‡ªåŠ¨åŒ–ï¼Œç¯å¢ƒå˜é‡å’Œå¯†é’¥éœ€è¦å•ç‹¬å¦¥å–„å¤„ç†ã€‚ä¸€å¼€å§‹è¸©è¿‡æ„å»ºã€éƒ¨ç½²å¤±è´¥çš„å‘ï¼Œåæ¥æŠŠæ¯ä¸€æ­¥çš„é€»è¾‘ç†æ¸…ä¹‹åå°±é¡ºç•…äº†ã€‚</p>
<h3 data-id="heading-4">æœåŠ¡å™¨éƒ¨ç½²</h3>
<p>è½¬å…¨æ ˆåå¼€å§‹æ¥è§¦æœåŠ¡å™¨éƒ¨ç½²ï¼šäº‘æœåŠ¡å™¨ï¼ˆé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ï¼Œä¸­å°é¡¹ç›® 2 æ ¸ 4G å¤Ÿç”¨ï¼‰ã€<code>SSH</code> è¿æ¥ã€ç¯å¢ƒå˜é‡é…ç½®ã€<code>Node.js</code>ã€<code>Nginx</code>ã€<code>Docker</code> ç­‰æŠ€æœ¯ï¼Œæƒé™å’Œç«¯å£é…ç½®è¿™äº›ä¸€å¼€å§‹å®¹æ˜“è¸©å‘ã€‚<code>Nginx</code> ç”¨äºåå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡ï¼Œé€šè¿‡ <code>location</code> åŒºåˆ†é™æ€èµ„æºå’Œ API è¯·æ±‚ï¼Œè´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰è½®è¯¢ã€æƒé‡ã€IP å“ˆå¸Œç­‰ï¼›<code>HTTPS</code> ä½¿ç”¨ <code>certbot</code> ç”³è¯·å’Œè‡ªåŠ¨ç»­æœŸè¯ä¹¦ï¼Œå¹¶é…ç½® HTTP åˆ° HTTPS çš„é‡å®šå‘ï¼›<code>DNS</code> è§£æåˆ°æœåŠ¡å™¨ï¼Œéœ€è¦ä¸Š CDN çš„è¯å†é…ç½® CDN çš„ DNSã€‚</p>
<p>éƒ¨ç½²æµç¨‹ä½¿ç”¨ <code>GitHub Actions</code> è‡ªåŠ¨åŒ–ï¼šæ„å»ºå®Œæˆåé€šè¿‡ <code>SSH</code> è¿æ¥æœåŠ¡å™¨æ‰§è¡Œéƒ¨ç½²è„šæœ¬ï¼ˆåœæ­¢æ—§æœåŠ¡ã€å¤‡ä»½ã€éƒ¨ç½²æ–°ç‰ˆæœ¬ã€å¯åŠ¨æœåŠ¡ï¼‰ã€‚æ—©æœŸç»å¸¸é‡åˆ°æœåŠ¡å¯åŠ¨å¤±è´¥ã€æ•°æ®åº“è¿æ¥ä¸ä¸Šç­‰é—®é¢˜ï¼Œæ”¹ç”¨ <code>Docker</code> å’Œ <code>Docker Compose</code> ä¹‹åç¯å¢ƒä¿æŒä¸€è‡´ï¼Œé—®é¢˜å‡å°‘äº†å¾ˆå¤šã€‚æœåŠ¡ä¸Šçº¿åé…åˆ <code>Prometheus</code>ã€<code>Grafana</code> æˆ–äº‘å‚å•†çš„ç›‘æ§å·¥å…·ï¼Œç›‘æ§ CPUã€å†…å­˜ã€æ¥å£å»¶æ—¶ã€é”™è¯¯ç‡ç­‰æŒ‡æ ‡ã€‚</p>
<h3 data-id="heading-5">NPM å‘åŒ…</h3>
<p>å¼€å‘è„šæ‰‹æ¶æ—¶é¡ºå¸¦å­¦ä¹ äº† <code>npm</code> åŒ…å‘å¸ƒï¼šè¯­ä¹‰åŒ–ç‰ˆæœ¬ç®¡ç†ã€<code>package.json</code> ä¸­çš„ <code>name</code>ã€<code>version</code>ã€<code>main</code>ã€<code>types</code>ã€<code>files</code> ç­‰å­—æ®µéƒ½è¦æ­£ç¡®å¡«å†™ï¼Œå‘å¸ƒå‰æœ¬åœ°å’Œ CI éƒ½è¦æµ‹è¯•é€šè¿‡ï¼Œ<code>npm publish</code> å‰éœ€è¦æ³¨æ„ç™»å½•çŠ¶æ€å’Œæƒé™é…ç½®ï¼Œç‰ˆæœ¬å·å†²çªã€åŒ…åå†²çªéƒ½è¸©è¿‡å‘ã€‚åæ¥ä½¿ç”¨ <code>changeset</code> å·¥å…·ï¼šæ¯æ¬¡æ”¹åŠ¨å†™ä¸€ä¸ª <code>changeset</code> æ–‡ä»¶æè¿°å½±å“èŒƒå›´ï¼Œå‘å¸ƒæ—¶è‡ªåŠ¨è®¡ç®—ç‰ˆæœ¬å·ã€ç”Ÿæˆ <code>changelog</code>ã€æ‰“ <code>tag</code>ï¼Œæ•´ä¸ªæµç¨‹è§„èŒƒäº†å¾ˆå¤šã€‚</p>
<h3 data-id="heading-6">webpack å’Œ vite</h3>
<p><code>webpack</code> åŠŸèƒ½å¼ºå¤§ã€é…ç½®çµæ´»ï¼Œä½†ä¸Šæ‰‹æˆæœ¬è¾ƒé«˜ï¼Œæ’ä»¶ä¼—å¤šï¼Œéœ€è¦ææ¸…æ¥šæ¯ä¸ªé…ç½®é¡¹çš„ä½œç”¨ï¼›<code>vite</code> å¼€å‘ä½“éªŒæ›´å¥½ã€å¯åŠ¨é€Ÿåº¦å¿«ï¼Œä½†ç”Ÿæ€ç›¸å¯¹è¿˜å¼±ä¸€äº›ã€‚åœ¨è„šæ‰‹æ¶ä¸­ä¸¤ç§æ„å»ºå·¥å…·éƒ½æ”¯æŒï¼Œå¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©ã€‚</p>
<h3 data-id="heading-7">ESLint å’Œ Prettier</h3>
<p><code>ESLint</code> ç”¨äºç®¡ç†ä»£ç è¯­æ³•ã€é£æ ¼å’Œæ½œåœ¨é—®é¢˜ï¼Œæ ¹æ® <code>React</code>ã€<code>TypeScript</code> ç­‰æŠ€æœ¯æ ˆé€‰æ‹©å¯¹åº”çš„è§„åˆ™é›†å¹¶æ¥å…¥ç¼–è¾‘å™¨ï¼›<code>Prettier</code> ç”¨äºç»Ÿä¸€ä»£ç æ ¼å¼åŒ–ã€‚åœ¨è„šæ‰‹æ¶ä¸­è¿™äº›éƒ½æ˜¯å¯é€‰é…ç½®é¡¹ï¼Œæ–¹ä¾¿æ ¹æ®å›¢é˜Ÿè§„èŒƒå®šåˆ¶ã€‚</p>
<h3 data-id="heading-8">Jest å’Œ Vitest</h3>
<p><code>Jest</code> ç”Ÿæ€æˆç†Ÿã€ç¤¾åŒºèµ„æºä¸°å¯Œï¼Œä½†é…ç½®éœ€è¦èŠ±ä¸€äº›æ—¶é—´ï¼›<code>Vitest</code> åŸºäº <code>Vite</code>ï¼Œè¿è¡Œé€Ÿåº¦å¿«ã€å¼€å‘ä½“éªŒå¥½ï¼Œä½†ç”Ÿæ€è¿˜åœ¨å‘å±•ä¸­ã€‚è„šæ‰‹æ¶ä¸­ä¸¤ç§æµ‹è¯•æ–¹æ¡ˆéƒ½æ”¯æŒå¯é€‰ã€‚</p>
<h3 data-id="heading-9">å‰ç«¯æ€§èƒ½æŒ‡æ ‡</h3>
<p>æ€§èƒ½ä¼˜åŒ–å‰éœ€è¦å…ˆè¿›è¡Œè¡¡é‡ã€‚<code>Core Web Vitals</code>ï¼ˆ<code>LCP</code>ã€<code>FID</code>ã€<code>CLS</code>ï¼‰ç›´æ¥åæ˜ äº†é¡µé¢çš„åŠ è½½é€Ÿåº¦ã€äº¤äº’å“åº”å’Œè§†è§‰ç¨³å®šæ€§ï¼Œä¹Ÿæ˜¯ SEO çš„é‡ç‚¹å…³æ³¨æŒ‡æ ‡ï¼›æ­¤å¤–è¿˜æœ‰ <code>FCP</code>ã€<code>TTFB</code>ã€<code>TTI</code>ã€<code>TBT</code>ã€<code>INP</code>ã€<code>Speed Index</code> ç­‰æŒ‡æ ‡ã€‚å¯ä»¥ä½¿ç”¨ <code>Performance API</code> æˆ–æµè§ˆå™¨å¼€å‘è€…å·¥å…·è¿›è¡Œæµ‹é‡ï¼Œæˆ‘ä¸»è¦å…³æ³¨ <code>Core Web Vitals</code>ã€‚</p>
<h3 data-id="heading-10">æ€§èƒ½ä¼˜åŒ–</h3>
<p>é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ä½¿ç”¨ <code>Web Workers</code> æˆ– <code>requestIdleCallback</code> æ‹†åˆ†åˆ°åå°æ‰§è¡Œï¼›é€šè¿‡ç«ç„°å›¾å®šä½æ€§èƒ½ç“¶é¢ˆï¼›åŠ¨ç”»ä¼˜å…ˆä½¿ç”¨ <code>requestAnimationFrame</code> è€Œä¸æ˜¯ <code>setTimeout</code>ï¼›ä½¿ç”¨ <code>Performance Observer</code> ç›‘æ§é¡µé¢å¡é¡¿ï¼ˆé€šå¸¸ä¸ JS æ‰§è¡Œã€DOM æ“ä½œã€å†…å­˜ä½¿ç”¨ç›¸å…³ï¼‰ã€‚DOM æ“ä½œè¦å°½é‡å‡å°‘ã€æ‰¹é‡æ›´æ–°ã€é‡‡ç”¨äº‹ä»¶å§”æ‰˜ï¼›ç¼“å­˜ç­–ç•¥å–„ç”¨ <code>Cache-Control</code>ã€<code>Last-Modified</code> å’Œ <code>ETag</code>ï¼›CDN é…ç½®å¥½ç¼“å­˜ç­–ç•¥å’Œå›æºè§„åˆ™ï¼›ç™½å±é—®é¢˜ç”¨ <code>Performance API</code> æˆ–é”™è¯¯ç›‘æ§å·¥å…·æ•è·ï¼Œå†æ’æŸ¥èµ„æºåŠ è½½ã€JS æ‰§è¡Œã€ç½‘ç»œè¯·æ±‚ç­‰ã€‚å¯¹æµè§ˆå™¨æ¸²æŸ“æµç¨‹ã€äº‹ä»¶å¾ªç¯ã€å†…å­˜ç®¡ç†æœ‰æ¸…æ™°çš„è®¤çŸ¥ï¼Œæ€§èƒ½ä¼˜åŒ–ä¼šæ›´æœ‰æ–¹å‘æ„Ÿã€‚</p>
<p>é€šè¿‡å¼€å‘è„šæ‰‹æ¶ï¼ŒæŠŠä»é¡¹ç›®åˆ›å»ºã€ä»£ç æ„å»ºã€è´¨é‡æ£€æŸ¥ã€è‡ªåŠ¨åŒ–æµ‹è¯•åˆ°çº¿ä¸Šéƒ¨ç½²çš„æ•´æ¡é“¾è·¯å®Œæ•´è·‘äº†ä¸€éï¼Œå¯¹å‰ç«¯å·¥ç¨‹åŒ–æœ‰äº†æ¯”è¾ƒå…¨é¢çš„è®¤è¯†ã€‚</p>
<h2 data-id="heading-11">Next.js</h2>
<p><code>Next.js</code> æ˜¯æˆ‘æœ€è¿‘ä½¿ç”¨è¾ƒå¤šçš„å…¨æ ˆæ¡†æ¶ã€‚å®ƒçš„æœåŠ¡ç«¯æ¸²æŸ“ã€é™æ€ç”Ÿæˆã€API è·¯ç”±ç­‰åŠŸèƒ½åœ¨å®é™…é¡¹ç›®ä¸­éå¸¸å®ç”¨ã€‚ç‰¹åˆ«æ˜¯å¯¹äº SEO è¦æ±‚é«˜çš„é¡¹ç›®ï¼Œ<code>Next.js</code> çš„ä¼˜åŠ¿å°¤ä¸ºæ˜æ˜¾ã€‚</p>
<h3 data-id="heading-12">DocFlow é¡¹ç›®å®è·µ</h3>
<p>ç”¨ <code>Next.js</code> åšäº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxun082%2FDocFlow" target="_blank" title="https://github.com/xun082/DocFlow" ref="nofollow noopener noreferrer">DocFlow</a>ï¼ŒåŸºäº <code>Tiptap</code> çš„ååŒæ–‡æ¡£ç¼–è¾‘å™¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0bd67150dc484e31be42c4c76c065e49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122305&amp;x-signature=t%2BkR91Be9H6rzdJYhMUfB6cR%2FSw%3D" alt="DocFlow é¡¹ç›®æˆªå›¾" loading="lazy"/></p>
<p>å‰åç«¯éƒ½ä½¿ç”¨ <code>Next.js</code>ï¼Œé€šè¿‡ API è·¯ç”±å®ç°æ–‡æ¡£ä¿å­˜å’Œç”¨æˆ·é‰´æƒï¼›ååŒç¼–è¾‘åŠŸèƒ½ä½¿ç”¨ <code>Yjs</code> + <code>@hocuspocus/provider</code>ï¼Œå’Œä¹‹å‰çš„ç¼–è¾‘å™¨é¡¹ç›®ç±»ä¼¼ï¼ŒæŠŠ CRDT åŸç†ææ‡‚åååŒåŠŸèƒ½æ‰çœŸæ­£ç¨³å®šã€‚é‡‡ç”¨æ–‡ä»¶è·¯ç”±ã€å‰åç«¯åŒä»“çš„æ¶æ„ï¼Œå¼€å‘å’Œç»´æŠ¤éƒ½å¾ˆé¡ºç•…ã€‚é¦–å±å†…å®¹ä¾é æœåŠ¡ç«¯æ¸²æŸ“ï¼Œç¼–è¾‘åŒºé‡‡ç”¨å®¢æˆ·ç«¯æ¸²æŸ“ä¿è¯äº¤äº’æµç•…æ€§ã€‚</p>
<h3 data-id="heading-13">æœåŠ¡ç«¯æ¸²æŸ“çš„ç†è§£</h3>
<p><code>SSR</code>ï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰é€‚åˆåŠ¨æ€æ•°æ®å’Œ SEO è¦æ±‚é«˜çš„åœºæ™¯ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½åœ¨æœåŠ¡ç«¯ç”Ÿæˆ HTMLï¼ŒæœåŠ¡å™¨å‹åŠ›ç›¸å¯¹è¾ƒå¤§ï¼›<code>SSG</code>ï¼ˆé™æ€ç«™ç‚¹ç”Ÿæˆï¼‰é€‚åˆå†…å®¹ç›¸å¯¹å›ºå®šçš„åœºæ™¯ï¼Œåœ¨æ„å»ºæ—¶ç”Ÿæˆé¡µé¢ï¼Œè®¿é—®é€Ÿåº¦å¿«ï¼Œä½†å†…å®¹æ›´æ–°éœ€è¦é‡æ–°æ„å»ºï¼›å¼ºäº¤äº’é¡µé¢é€‚åˆä½¿ç”¨å®¢æˆ·ç«¯æ¸²æŸ“ã€‚åœ¨ DocFlow é¡¹ç›®ä¸­ï¼šåˆ—è¡¨é¡µä½¿ç”¨ <code>SSG</code>ï¼Œè¯¦æƒ…é¡µä½¿ç”¨ <code>SSR</code>ï¼Œç¼–è¾‘å™¨ä½¿ç”¨å®¢æˆ·ç«¯æ¸²æŸ“ï¼Œåœ¨é¦–å±åŠ è½½é€Ÿåº¦å’Œäº¤äº’ä½“éªŒä¹‹é—´å–å¾—äº†è¾ƒå¥½çš„å¹³è¡¡ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸ªå‘ï¼šSSR åœºæ™¯ä¸‹å¦‚æœåç«¯æœåŠ¡æŒ‚äº†ï¼Œæµè§ˆå™¨ç«¯å¯èƒ½ä¸ä¼šæ˜¾ç¤ºä»»ä½•æŠ¥é”™ä¿¡æ¯ï¼Œåªæ˜¯é¡µé¢å†…å®¹æ— æ³•æ­£å¸¸æ˜¾ç¤ºï¼Œè¿™æ—¶éœ€è¦å»æœåŠ¡å™¨æŸ¥çœ‹æ—¥å¿—æˆ–é‡å¯æœåŠ¡æ‰èƒ½å®šä½é—®é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef11a1a775954f2da94cd935d328ac4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122305&amp;x-signature=3NzZDDaJ7rDNpQUAdIk2z2g4olM%3D" alt="bb71825d4099b1840c9bd39410d36cd7" loading="lazy"/></p>
<h3 data-id="heading-14">æ„å»ºä¼˜åŒ–</h3>
<p><code>Next.js</code> çš„ä»£ç åˆ†å‰²ã€å›¾ç‰‡ä¼˜åŒ–ã€<code>next/font</code> å­—ä½“ä¼˜åŒ–ç­‰ç‰¹æ€§åœ¨ DocFlow é¡¹ç›®ä¸­éƒ½æœ‰åº”ç”¨ï¼Œè‡ªåŠ¨ç”Ÿæˆå¤šå°ºå¯¸å›¾ç‰‡å’Œå­—ä½“åŠ è½½ä¼˜åŒ–å¯¹æ€§èƒ½æå‡å’Œç”¨æˆ·ä½“éªŒæ”¹å–„å¸®åŠ©å¾ˆå¤§ã€‚</p>
<h2 data-id="heading-15">React Native</h2>
<p>ä½¿ç”¨ <code>React Native</code> å¼€å‘ç§»åŠ¨ç«¯åº”ç”¨ï¼Œä¸€å¥—ä»£ç å¯ä»¥åŒæ—¶è¿è¡Œåœ¨ iOS å’Œ Android å¹³å°ï¼Œå¾ˆå¤šå…¬å¸éƒ½æœ‰è¿™æ–¹é¢éœ€æ±‚ï¼ŒæŒæ¡è¿™ä¸ªæŠ€èƒ½ä¼šæœ‰æ˜æ˜¾ä¼˜åŠ¿ã€‚æˆ‘åšè¿‡å†…éƒ¨å·¥å…· Appï¼Œå¼€å‘å‘¨æœŸæ¯”åŸç”Ÿå¼€å‘çŸ­å¾ˆå¤šï¼›åˆ—è¡¨æ¸²æŸ“ä½¿ç”¨ <code>FlatList</code> ç»„ä»¶ï¼Œé…åˆ <code>useMemo</code> å’Œ <code>useCallback</code> è¿›è¡Œæ€§èƒ½ä¼˜åŒ–ï¼Œæ€§èƒ½æ‰èƒ½è¾¾åˆ°ç†æƒ³çŠ¶æ€ã€‚éœ€è¦æ³¨æ„æ ·å¼å…¼å®¹æ€§å’ŒåŸç”Ÿæ¨¡å—è°ƒç”¨ä¼šæœ‰ä¸€äº›å‘ï¼Œä½†å¯¹äºä¸­å°å‹é¡¹ç›®æ¥è¯´è¶³å¤Ÿä½¿ç”¨ã€‚</p>
<h2 data-id="heading-16">Electron</h2>
<p>å…¬å¸é¡¹ç›®ä½¿ç”¨ <code>Electron</code> å¼€å‘æ¡Œé¢åº”ç”¨ï¼Œè™½ç„¶æ€§èƒ½ä¸å¦‚åŸç”Ÿåº”ç”¨ï¼Œä½†å¯ä»¥ç”¨ Web æŠ€æœ¯æ ˆå¼€å‘æ¡Œé¢åº”ç”¨ï¼Œå¯¹å°å›¢é˜Ÿæ¥è¯´å¾ˆåˆé€‚ã€‚å°è¯•è¿‡ <code>electron-vite</code>ï¼Œä½†é…ç½®å’Œç¨³å®šæ€§ä¸å¤Ÿç†æƒ³ï¼Œåæ¥è‡ªå·±æ­å»ºæ„å»ºæµç¨‹ï¼Œä½¿ç”¨ <code>rspack</code>ï¼ˆåŸºäº Rust çš„æ„å»ºå·¥å…·ï¼Œé€Ÿåº¦å¿«ã€çµæ´»åº¦é«˜ï¼‰ï¼Œä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹çš„æ‰“åŒ…ã€ä¾èµ– externalize ç­‰éƒ½è‡ªå·±æ§åˆ¶ã€‚é¡¹ç›®é‡‡ç”¨ <code>Monorepo</code> æ¶æ„ï¼ˆ<code>pnpm</code> + <code>turbo</code>ï¼‰ï¼Œæ‹†åˆ†æˆ <code>electron-core</code>ã€<code>electron-ipc</code>ã€<code>electron-window</code> ç­‰åŒ…ï¼Œä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹å¯ä»¥å…±äº«å…¬å…±ä»£ç ã€‚ä¹Ÿç ”ç©¶è¿‡ <code>Tauri</code>ï¼Œä½“ç§¯æ›´å°ã€æ€§èƒ½æ›´å¥½ï¼Œä½†å®ƒä½¿ç”¨ç³»ç»Ÿ WebViewï¼Œéƒ¨åˆ† Web API å’Œ Chrome æ‰©å±•ä¸æ”¯æŒï¼Œç”±äºæˆ‘ä»¬é¡¹ç›®éœ€è¦å®Œæ•´çš„æµè§ˆå™¨ç‰¹æ€§ï¼Œæ‰€ä»¥ç»§ç»­ä½¿ç”¨ <code>Electron</code>ã€‚æ‰“åŒ…ä½¿ç”¨ <code>electron-builder</code> ç”Ÿæˆå„å¹³å°å®‰è£…åŒ…ï¼Œæ•´ä½“æµç¨‹æ¯”è¾ƒé¡ºç•…ã€‚</p>
<h2 data-id="heading-17">Node.js</h2>
<p>å¼€å‘è„šæ‰‹æ¶æ—¶ä½¿ç”¨ <code>Node.js</code> å®ç°å‘½ä»¤è¡Œå·¥å…·ã€æ–‡ä»¶æ“ä½œã€æ¨¡æ¿æ¸²æŸ“ç­‰åŠŸèƒ½ï¼Œç†Ÿæ‚‰äº† <code>fs</code>ã€<code>path</code> ç­‰æ ¸å¿ƒæ¨¡å—å’Œå‘½ä»¤è¡Œå‚æ•°è§£æã€‚åæ¥è¿˜ç¼–å†™äº† <code>ffmpeg</code> è§†é¢‘å¤„ç†ã€<code>sharp</code> å›¾ç‰‡å‹ç¼©ç­‰è„šæœ¬ï¼Œå¯¹ npm ç”Ÿæ€å’ŒåŸç”Ÿæ¨¡å—æœ‰äº†æ›´æ·±å…¥çš„äº†è§£ï¼›é€‰æ‹©ç¬¬ä¸‰æ–¹åŒ…æ—¶éœ€è¦ç‰¹åˆ«æ³¨æ„ä»£ç è´¨é‡å’Œå®‰å…¨æ€§ã€‚å¼‚æ­¥å¤„ç†ä»æœ€åˆçš„å›è°ƒå‡½æ•°åˆ° <code>Promise</code> å†åˆ° <code>async/await</code>ï¼Œåœ¨ I/O å¯†é›†å‹åœºæ™¯ä¸‹éå¸¸åˆé€‚ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘é€‰æ‹©å®ƒä½œä¸ºåç«¯æŠ€æœ¯æ ˆçš„åŸå› ä¹‹ä¸€ã€‚å‰åç«¯éƒ½ä½¿ç”¨ JavaScriptï¼ŒæŠ€æœ¯æ ˆåˆ‡æ¢æˆæœ¬ä½ï¼Œå°±è¿™æ ·é€æ¸ä»çº¯å‰ç«¯è½¬å‘äº†å…¨æ ˆå¼€å‘ã€‚</p>
<h3 data-id="heading-18">NestJS</h3>
<p><code>NestJS</code> åŸºäº <code>TypeScript</code> æ„å»ºï¼Œé€šè¿‡ä¾èµ–æ³¨å…¥ã€æ¨¡å—åŒ–è®¾è®¡ã€è£…é¥°å™¨ï¼ˆå¦‚ <code>@Controller</code>ã€<code>@Service</code>ã€<code>@Injectable</code>ï¼‰å°†ä»£ç ç»“æ„ç»„ç»‡å¾—éå¸¸æ¸…æ™°ï¼Œä¸ <code>WebSocket</code>ã€<code>Prisma</code> ç­‰æŠ€æœ¯æ­é…ä½¿ç”¨å¾ˆé¡ºæ‰‹ã€‚ä¾èµ–æ³¨å…¥å’Œæ¨¡å—è¾¹ç•Œçš„æ¦‚å¿µä¸€å¼€å§‹éœ€è¦é€‚åº”ï¼Œä½†ç†Ÿæ‚‰ä¹‹åå¼€å‘æ•ˆç‡ä¼šæ˜æ˜¾æå‡ã€‚</p>
<h3 data-id="heading-19">TypeScript</h3>
<p><code>TypeScript</code> ç°åœ¨æ˜¯æˆ‘å¿…é€‰çš„æŠ€æœ¯æ ˆï¼šç±»å‹å®‰å…¨ã€IDE å‹å¥½ã€é‡æ„æœ‰ä¿éšœï¼Œåœ¨å¤§å‹é¡¹ç›®ä¸­èƒ½æå‰æ‹¦æˆªå¾ˆå¤šæ½œåœ¨é”™è¯¯ï¼›æ³›å‹ã€è”åˆç±»å‹ã€äº¤å‰ç±»å‹ç­‰é«˜çº§ç‰¹æ€§ç†Ÿç»ƒè¿ç”¨åï¼Œä»£ç ä¼šæ›´åŠ çµæ´»ã€‚æ—©æœŸä¹ æƒ¯å†™ <code>any</code> ç±»å‹ï¼Œåæ¥å‘ç°ç±»å‹å®šä¹‰è¶Šç²¾ç¡®ï¼Œä»£ç è´¨é‡è¶Šç¨³å®šï¼›é…åˆ AI ä»£ç è¡¥å…¨å’Œé”™è¯¯æç¤ºï¼Œä¿®æ”¹ä¸€å¤„ä»£ç èƒ½ç«‹åˆ»çœ‹åˆ°æ‰€æœ‰å…³è”çš„ç±»å‹æŠ¥é”™ï¼Œä¸ç”¨ç­‰åˆ°ä¸Šçº¿æ‰å‘ç°é—®é¢˜ã€‚ç±»å‹å®šä¹‰æœ¬èº«ä¹Ÿæ˜¯æœ€å¥½çš„åä½œæ–‡æ¡£ã€‚</p>
<h2 data-id="heading-20">MySQL</h2>
<p>åç«¯å¼€å‘å¸¸ç”¨ <code>MySQL</code> + <code>Prisma</code> ç»„åˆï¼š<code>Prisma</code> æä¾›ç±»å‹å®‰å…¨ã€æ•°æ®åº“è¿ç§»å¯ç‰ˆæœ¬åŒ–ç®¡ç†ã€æŸ¥è¯¢æ„å»ºå™¨æ˜“ç”¨æ€§å¼ºç­‰ä¼˜åŠ¿ï¼Œä½¿ç”¨è§„èŒƒçš„è¿ç§»æµç¨‹åæ•°æ®åº“è¡¨ç»“æ„ç®¡ç†ä¼šéå¸¸æ¸…æ™°ã€‚<code>Redis</code> ç”¨äºç¼“å­˜ã€ä¼šè¯å­˜å‚¨ã€åˆ†å¸ƒå¼é”ç­‰åœºæ™¯ï¼Œé«˜æ€§èƒ½è¯»å†™å’Œå¹¶å‘æ§åˆ¶éƒ½ä¾èµ–å®ƒï¼›ä½¿ç”¨æ—¶éœ€è¦æ³¨æ„ç¼“å­˜ç©¿é€ã€ç¼“å­˜é›ªå´©å’Œè¿‡æœŸç­–ç•¥çš„è®¾è®¡ï¼ŒæŒä¹…åŒ–é…ç½®æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©ï¼Œå†…å­˜ä½¿ç”¨ä¹Ÿè¦åšå¥½ç›‘æ§å’Œæ§åˆ¶ã€‚</p>
<h3 data-id="heading-21">Elasticsearch</h3>
<p><code>Elasticsearch</code> æ˜¯æˆ‘ç”¨æ¥è§£å†³ã€Œæµ·é‡æ•°æ®æ£€ç´¢ã€å’Œã€Œæ—¥å¿—å¯è§‚æµ‹æ€§ã€çš„æ ¸å¿ƒå·¥å…·ã€‚å®ƒæœ€å¤§çš„ä»·å€¼ä¸åœ¨äº"èƒ½å­˜å‚¨æ•°æ®"ï¼Œè€Œåœ¨äºèƒ½å°†æ•°æ®è½¬åŒ–ä¸ºå¯æ£€ç´¢ã€å¯èšåˆã€å¯åˆ†æçš„å½¢æ€ï¼šæ—¢èƒ½å®ç°å…¨æ–‡æœç´¢ï¼ˆå…³é”®è¯åŒ¹é…ã€æ¨¡ç³Šæœç´¢ã€é«˜äº®æ˜¾ç¤ºã€ç›¸å…³æ€§æ’åºï¼‰ï¼Œä¹Ÿèƒ½è¿›è¡Œç»Ÿè®¡åˆ†æï¼ˆèšåˆè®¡ç®—ã€åˆ†æ¡¶ç»Ÿè®¡ã€TopN æ’åï¼‰ï¼Œå³ä½¿åœ¨æ•°æ®é‡è¾¾åˆ°æµ·é‡çº§åˆ«åä¾ç„¶èƒ½ä¿æŒä¸é”™çš„æŸ¥è¯¢æ€§èƒ½ã€‚</p>
<h4 data-id="heading-22">åœ¨é¡¹ç›®é‡Œæˆ‘ä¸»è¦æ‹¿å®ƒæ¥åšä»€ä¹ˆ</h4>
<p>æˆ‘åœ¨ä¸€ä¸ªæ•°æ®å¯è§†åŒ–å¹³å°é¡¹ç›®ä¸­ä½¿ç”¨ <code>Elasticsearch</code> å®ç°å…¨æ–‡æœç´¢åŠŸèƒ½ï¼šå‰ç«¯é‡‡ç”¨ <code>React</code> + <code>TypeScript</code>ï¼Œåç«¯ä½¿ç”¨ <code>Node.js</code>ã€‚ç”¨æˆ·ç«¯çš„ä½“éªŒæ˜¯ï¼šè¾“å…¥å…³é”®å­—å¯ä»¥å¿«é€Ÿå®šä½åˆ°ç›¸å…³è®°å½•ï¼ŒåŒæ—¶è¿˜èƒ½æŒ‰æ—¶é—´èŒƒå›´ã€çŠ¶æ€ã€æ ‡ç­¾ç­‰æ¡ä»¶è¿›è¡Œç­›é€‰ï¼›ç®¡ç†ç«¯åˆ™å¯ä»¥å±•ç¤ºä¸€äº›ç»Ÿè®¡é¢æ¿ï¼ˆæ¯”å¦‚æŒ‰ç±»å‹åˆ†æ¡¶ç»Ÿè®¡ã€æŒ‰æ—¶é—´èšåˆè¶‹åŠ¿å›¾ã€Top é”™è¯¯ç æ’åç­‰ï¼‰ã€‚</p>
<p>è½åœ°æ—¶æˆ‘æœ€å¸¸ç”¨çš„èƒ½åŠ›ä¸»è¦æœ‰è¿™äº›ï¼š</p>
<ul>
<li>å…¨æ–‡æœç´¢ï¼šé€‰æ‹©åˆé€‚çš„åˆ†è¯å™¨ï¼ˆä¸­æ–‡æˆ–è‹±æ–‡ï¼‰ã€å¤šå­—æ®µæ£€ç´¢ï¼ˆtitleã€contentã€tagsï¼‰ã€é«˜äº®å±•ç¤ºã€ç›¸å…³æ€§æ’åºã€‚</li>
<li>ç»“æ„åŒ–è¿‡æ»¤ï¼šä½¿ç”¨ <code>keyword</code> å­—æ®µåšç²¾ç¡®åŒ¹é…ï¼ˆçŠ¶æ€ã€IDã€æšä¸¾å€¼ï¼‰ï¼Œé¿å…æŠŠè¿‡æ»¤æ¡ä»¶å†™æˆ"å…¨æ–‡åŒ¹é…"å¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚</li>
<li>èšåˆåˆ†æï¼šä½¿ç”¨ termsã€date_histogram ç­‰èšåˆåŠŸèƒ½å®ç° TopN æ’åã€è¶‹åŠ¿å›¾ã€åˆ†å¸ƒç»Ÿè®¡ï¼ˆè¿™æ¯”åœ¨ä¸šåŠ¡æ•°æ®åº“é‡Œå®æ—¶è®¡ç®—è¦é«˜æ•ˆå¾—å¤šï¼‰ã€‚</li>
<li>åˆ†é¡µä¸æ·±ç¿»é¡µï¼šå¸¸è§„åˆ†é¡µä½¿ç”¨ fromã€size å‚æ•°ï¼Œä½†è¦æ³¨æ„æ·±ç¿»é¡µçš„æ€§èƒ½é—®é¢˜ï¼›éœ€è¦æ·±ç¿»é¡µæˆ–å¯¼å‡ºæ•°æ®æ—¶æ›´å»ºè®®ä½¿ç”¨ search_after æˆ– scroll æ–¹æ¡ˆã€‚</li>
</ul>
<h4 data-id="heading-23">Kibana èƒ½ç”¨æ¥å¹²å˜›</h4>
<p><code>Kibana</code> é…åˆ <code>Elasticsearch</code> ä¸»è¦ç”¨äºæ—¥å¿—æ£€ç´¢å’Œçº¿ä¸Šé—®é¢˜æ’æŸ¥ï¼šå°†æœåŠ¡æ—¥å¿—æŒ‰å­—æ®µç»“æ„åŒ–å­˜å‚¨ï¼ˆæ—¶é—´ã€ç¯å¢ƒã€åº”ç”¨åã€æ—¥å¿—çº§åˆ«ã€traceIdã€ç”¨æˆ·ä¿¡æ¯ã€è¯·æ±‚ä¿¡æ¯ç­‰ï¼‰ï¼Œç„¶ååœ¨ Kibana çš„ Discover ç•Œé¢ä¸­ä½¿ç”¨ KQL æˆ– ES|QL å¿«é€Ÿç­›é€‰ã€èšåˆå’Œå®šä½é—®é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c400c536a6342919af5ab78a018495e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122305&amp;x-signature=oYH6tswj2AY13pJbf3byHmfyvE8%3D" alt="20260119215939" loading="lazy"/></p>
<p>å…¸å‹åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼š</p>
<ul>
<li>å®šä½å¼‚å¸¸çš„ä¸Šä¸‹æ–‡ï¼šå…ˆæŒ‰ <code>level:error</code> å’Œæ—¶é—´èŒƒå›´è¿‡æ»¤ï¼Œå†æŒ‰ <code>traceId</code> æˆ– <code>requestId</code> ä¸²è”èµ·ä¸€æ•´æ¡è°ƒç”¨é“¾çš„æ—¥å¿—è®°å½•ã€‚</li>
<li>åˆ†æé”™è¯¯åˆ†å¸ƒï¼šæŒ‰ <code>errorClass</code>ã€<code>errorName</code> è¿›è¡Œåˆ†ç»„ç»Ÿè®¡ï¼Œå¿«é€ŸæŸ¥çœ‹æœ€å¸¸è§çš„é”™è¯¯ç±»å‹å’Œå æ¯”ã€‚</li>
<li>æ’æŸ¥ç”¨æˆ·åé¦ˆé—®é¢˜ï¼šæŒ‰ <code>userId</code>ã€<code>path</code>ã€<code>statusCode</code> è¿›è¡Œè¿‡æ»¤ï¼Œå¤ç°å½“æ—¶çš„è¯·æ±‚ headers å’Œ bodyï¼ˆæ•æ„Ÿå­—æ®µéœ€è„±æ•å¤„ç†ï¼‰ã€‚</li>
<li>ç›‘æ§è¶‹åŠ¿å˜åŒ–ï¼šè§‚å¯Ÿé”™è¯¯é‡åœ¨æ—¶é—´è½´ä¸Šçš„çªå¢ç‚¹ï¼Œé€šå¸¸èƒ½ç›´æ¥å¯¹åº”åˆ°æŸæ¬¡ç‰ˆæœ¬å‘å¸ƒã€æŸä¸ªä¾èµ–æœåŠ¡å¼‚å¸¸æˆ–ä¸Šæ¸¸æœåŠ¡æ³¢åŠ¨ã€‚</li>
</ul>
<h2 data-id="heading-24">RabbitMQ</h2>
<p><code>RabbitMQ</code> æ˜¯åœ¨ <code>DocFlow</code> é¡¹ç›®ä¸­çœŸæ­£æ´¾ä¸Šç”¨åœºçš„ï¼šæˆ‘å¼€å‘äº†ä¸€ä¸ªæ’­å®¢åŠŸèƒ½ï¼Œéœ€è¦å°†æ–‡ç« å†…å®¹å¾ªç¯ç”Ÿæˆè¯­éŸ³ã€‚è¯­éŸ³ç”Ÿæˆéœ€è¦è°ƒç”¨ <code>Minimax</code> APIï¼Œä½†å®ƒæœ‰è°ƒç”¨é¢‘ç‡é™åˆ¶ï¼Œå¦‚æœç”¨æˆ·æ•°é‡å¤šã€ä»»åŠ¡é‡å¤§ï¼Œç›´æ¥åŒæ­¥è°ƒç”¨å¾ˆå®¹æ˜“è¢«é™æµï¼Œæ¥å£å“åº”ä¹Ÿä¼šå˜æ…¢ï¼Œç”¨æˆ·ä½“éªŒå¾ˆå·®ã€‚</p>
<p>å› æ­¤æˆ‘ä½¿ç”¨ <code>RabbitMQ</code> å°†"ç”Ÿæˆè¯­éŸ³"è¿™ç±»è€—æ—¶ä»»åŠ¡ä»ä¸»æµç¨‹ä¸­è§£è€¦ï¼Œæ”¹ä¸ºå¼‚æ­¥å¤„ç†ï¼šè¯·æ±‚è¿›æ¥åå…ˆå†™å…¥æ•°æ®åº“å¹¶æŠ•é€’æ¶ˆæ¯åˆ°é˜Ÿåˆ—ï¼Œæ¥å£ç«‹å³è¿”å›ä»»åŠ¡çŠ¶æ€ï¼›åå° worker ä»é˜Ÿåˆ—ä¸­æ¶ˆè´¹æ¶ˆæ¯ï¼ŒæŒ‰ç…§è®¾å®šçš„å¹¶å‘æ•°æ§åˆ¶é€Ÿç‡è°ƒç”¨ <code>Minimax</code> APIï¼Œç”Ÿæˆå®Œæˆåå°†ç»“æœå†™å›æ•°æ®åº“ï¼ˆå¦‚è¯­éŸ³æ–‡ä»¶åœ°å€ã€å¤±è´¥åŸå› ã€é‡è¯•æ¬¡æ•°ç­‰ï¼‰ã€‚è¿™æ ·åšçš„å¥½å¤„éå¸¸æ˜æ˜¾ï¼šå‰Šå³°å¡«è°·ã€é¿å…è¢«é™æµã€å‰ç«¯æ¥å£ä¸è¢«é•¿ä»»åŠ¡é˜»å¡ï¼Œä»»åŠ¡å¤±è´¥ä¹Ÿå¯ä»¥é€šè¿‡é‡è¯•æœºåˆ¶æé«˜æˆåŠŸç‡ã€‚</p>
<h3 data-id="heading-25">Docker</h3>
<p><code>Docker</code> + <code>Docker Compose</code> ç”¨äºå®¹å™¨åŒ–å’Œå¤šæœåŠ¡ç¼–æ’ï¼Œå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç›¸åŒé•œåƒï¼Œå·²ç»æˆä¸ºåŸºæœ¬æ ‡é…ã€‚DocFlow é¡¹ç›®ä½¿ç”¨ <code>docker-compose.yml</code> ç®¡ç†å‰ç«¯ã€åç«¯ã€æ•°æ®åº“ã€Redis ç­‰æœåŠ¡ï¼Œä¾èµ–é¡ºåºã€ç½‘ç»œé…ç½®ã€æ•°æ®å·ã€<code>.env</code> ç¯å¢ƒå˜é‡éƒ½åœ¨è¿™é‡Œç»Ÿä¸€é…ç½®ï¼›æ•°æ®æŒä¹…åŒ–ä½¿ç”¨æ•°æ®å·ï¼Œæ•æ„Ÿä¿¡æ¯ä¸å†™å…¥ä»£ç ã€‚<code>Dockerfile</code> ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºå‡å°é•œåƒä½“ç§¯ï¼Œå¥åº·æ£€æŸ¥ã€æ—¥å¿—é©±åŠ¨ï¼ˆç”Ÿäº§ç¯å¢ƒå¯æ¥å…¥æ—¥å¿—ç³»ç»Ÿï¼‰ç­‰é…ç½®ä¹Ÿéƒ½ä¼šæ·»åŠ ã€‚é•œåƒæ‰“ä¸Š tag æ¨é€åˆ°é•œåƒä»“åº“ï¼Œçº¿ä¸Šæ‹‰å–è¿è¡Œï¼Œå›æ»šä¹Ÿå¾ˆæ–¹ä¾¿ã€‚</p>
<h3 data-id="heading-26">Nginx</h3>
<p><code>Nginx</code> ç”¨äºåå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ã€é™æ€èµ„æºæœåŠ¡ï¼Œç›¸æ¯” Node ç›´æ¥è¾“å‡ºé™æ€æ–‡ä»¶æ›´åŠ åˆé€‚ã€‚å•æœºéƒ¨ç½²å¤šä¸ªé¡¹ç›®æ—¶ä½¿ç”¨ <code>server_name</code> åŒºåˆ†åŸŸåå¹¶è½¬å‘åˆ°ä¸åŒæœåŠ¡ï¼›é€šè¿‡ <code>location</code> é…ç½®åŒºåˆ†é™æ€èµ„æºå’Œ API è¯·æ±‚ï¼Œç¼“å­˜ç­–ç•¥å’Œ <code>gzip</code> å‹ç¼©ä¹Ÿä¸€å¹¶é…ç½®ã€‚ç°åº¦å‘å¸ƒä½¿ç”¨ <code>upstream</code> é…ç½®æµé‡æ¯”ä¾‹ï¼ˆå¦‚ 9:1ï¼‰ï¼Œé€æ­¥æ”¾é‡ï¼Œå‡ºç°é—®é¢˜å¯ä»¥å¿«é€Ÿåˆ‡å›æ—§ç‰ˆæœ¬ã€‚</p>
<h3 data-id="heading-27">Prometheus å’Œ Grafana</h3>
<p><code>Prometheus</code> ç”¨äºé‡‡é›†æŒ‡æ ‡æ•°æ®ï¼Œ<code>Grafana</code> ç”¨äºåˆ¶ä½œå¯è§†åŒ–çœ‹æ¿ï¼Œæˆ‘ç”¨å®ƒä»¬ç›‘æ§æ¥å£å»¶æ—¶ã€é”™è¯¯ç‡ã€CPUã€å†…å­˜ã€Event Loopã€Node ç‰ˆæœ¬ã€è¿›ç¨‹è¿è¡Œæ—¶é•¿ç­‰æŒ‡æ ‡ã€‚DocFlow çš„ç›‘æ§ Dashboard ä¸Šæ–¹å±•ç¤ºè¯·æ±‚é‡ã€Apdexã€é”™è¯¯ç‡ã€è¿è¡Œæ—¶é—´ï¼Œä¸‹æ–¹å±•ç¤ºèµ„æºä½¿ç”¨æ›²çº¿ï¼Œå‡ºç°é—®é¢˜æ—¶èƒ½å¿«é€Ÿåˆ¤æ–­æ˜¯åº”ç”¨å±‚ã€æ•°æ®åº“è¿˜æ˜¯åŸºç¡€è®¾æ–½çš„é—®é¢˜ã€‚ä½¿ç”¨æ—¶è¦æ³¨æ„ç¬æ—¶å€¼å’ŒåŒºé—´ç»Ÿè®¡çš„åŒºåˆ«ã€æ•°æ®æŠ“å–é—´éš”å’Œæ ‡ç­¾è®¾ç½®ï¼Œå¦åˆ™å®¹æ˜“å‡ºç°æ•°æ®å¤±çœŸæˆ–è¯¯åˆ¤ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a14959ff22094e88934b507550014c81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122305&amp;x-signature=zi031gwAS6zZj2ew%2FToy3YWq0zE%3D" alt="20260119214213" loading="lazy"/></p>
<h2 data-id="heading-28">LangChain</h2>
<p>å‰ç«¯ã€åç«¯å’ŒåŸºç¡€è®¾æ–½éƒ½ç†Ÿæ‚‰ä¹‹åï¼Œæˆ‘å¼€å§‹å‘ AI åº”ç”¨æ–¹å‘å‘å±•ï¼Œä½¿ç”¨ <code>LangChain</code> æ„å»ºå¤§æ¨¡å‹åº”ç”¨ï¼ˆèŠå¤©æœºå™¨äººã€æ–‡æ¡£é—®ç­”ã€æ•°æ®åˆ†æç­‰ï¼‰ã€‚<code>LangChain</code> çš„æ¦‚å¿µè¾ƒå¤šï¼Œä¸Šæ‰‹éœ€è¦èŠ±äº›æ—¶é—´ï¼Œä½†ç†Ÿæ‚‰ä¹‹åé“¾å¼è°ƒç”¨ä¼šéå¸¸é¡ºæ‰‹ã€‚</p>
<p>æˆ‘ä¸»è¦å°† RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æµç¨‹è·‘é€šäº†ï¼šæ–‡æ¡£åŠ è½½ã€æ–‡æœ¬åˆ†å‰²ã€å‘é‡åŒ–ï¼ˆä½¿ç”¨ <code>Qwen/Qwen3-Embedding-8B</code>ï¼‰ã€å†™å…¥å‘é‡æ•°æ®åº“ <code>Qdrant</code>ï¼ŒæŸ¥è¯¢æ—¶æ£€ç´¢ç›¸å…³æ–‡æ¡£ç‰‡æ®µå†äº¤ç»™å¤§æ¨¡å‹ç”Ÿæˆå›ç­”ï¼›ä½¿ç”¨ <code>PDFLoader</code>ã€<code>WebBaseLoader</code> ç­‰åŠ è½½å™¨ä»å¤šä¸ªæ•°æ®æºå¯¼å…¥çŸ¥è¯†åº“ã€‚<code>Memory</code>ï¼ˆå¦‚ <code>ConversationBufferMemory</code>ï¼‰ç”¨äºå­˜å‚¨å¯¹è¯å†å²ï¼›<code>Agent</code> è®©æ¨¡å‹å¯ä»¥æŒ‰éœ€è°ƒç”¨å·¥å…·ï¼ˆæœç´¢å¼•æ“ã€æ•°å­¦è®¡ç®—ã€API æ¥å£ã€æ•°æ®åº“æŸ¥è¯¢ç­‰ï¼‰ã€‚åç»­åœ¨ DocFlow é¡¹ç›®ä¸­ä¼šå®ç°ã€Œä¸€é”®ç”Ÿæˆæ–‡æ¡£ã€åŠŸèƒ½ï¼šç»™å®šæ ‡é¢˜æˆ–æçº²ï¼ŒAgent è‡ªåŠ¨è°ƒç”¨æ£€ç´¢ã€å†…å®¹ç”Ÿæˆã€æ’ç‰ˆã€æ’å›¾ç­‰å·¥å…·ï¼Œå¹¶é€šè¿‡æ£€ç´¢å·²æœ‰çŸ¥è¯†åº“æ¥å‡å°‘å¹»è§‰é—®é¢˜ã€‚</p>
<p>å¤§æ¨¡å‹æœåŠ¡ä½¿ç”¨çš„æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.siliconflow.cn%2Fi%2FzslNk0fA" target="_blank" title="https://cloud.siliconflow.cn/i/zslNk0fA" ref="nofollow noopener noreferrer">ç¡…åŸºæµåŠ¨</a>ï¼ŒæœåŠ¡å™¨åœ¨å›½å†…è®¿é—®ç¨³å®šï¼Œæ–°ç”¨æˆ·æœ‰å…è´¹é¢åº¦ï¼Œæ”¯æŒå¯¹è¯ã€å›¾åƒã€è§†é¢‘ã€è¯­éŸ³ç­‰å¤šç§æ¨¡å‹ï¼Œå¯¹æ¥å¼€æºæ¨¡å‹çš„æˆæœ¬å’Œç¨³å®šæ€§éƒ½å¾ˆä¸é”™ã€‚æ­¤å¤–è¿˜ç”¨ <code>Next.js</code> + <code>NestJS</code> å¼€å‘è¿‡æ™ºèƒ½å®¢æœç³»ç»Ÿï¼Œå°† RAG æµç¨‹å’ŒçŸ¥è¯†åº“æ„å»ºã€æ£€ç´¢ä¼˜åŒ–ç­‰æŠ€æœ¯å®è·µäº†ä¸€éã€‚æ€»ä½“æ¥è¯´å­¦ä¹  <code>LangChain</code> çš„æ€§ä»·æ¯”å¾ˆé«˜ï¼ŒAI åº”ç”¨çš„åœºæ™¯ä¹Ÿè¶Šæ¥è¶Šå¤šã€‚</p>
<h2 data-id="heading-29">æŠ€æœ¯æ ˆçš„é€‰æ‹©é€»è¾‘</h2>
<p>é¡¹ç›®éœ€æ±‚ï¼šéœ€è¦ SEO ä¼˜åŒ–é€‰ <code>Next.js</code>ï¼Œç§»åŠ¨ç«¯å¼€å‘é€‰ <code>React Native</code>ï¼Œæ¡Œé¢åº”ç”¨é€‰ <code>Electron</code>ï¼ŒAI åº”ç”¨é€‰ <code>LangChain</code>ã€‚</p>
<p>å›¢é˜Ÿèƒ½åŠ›ï¼šå›¢é˜Ÿç†Ÿæ‚‰ä»€ä¹ˆå°±ç”¨ä»€ä¹ˆï¼Œå­¦ä¹ æˆæœ¬ä¹Ÿè¦è€ƒè™‘è¿›å»ã€‚</p>
<p>ç”Ÿæ€å’Œç¤¾åŒºï¼š<code>React</code>ã€<code>Node.js</code>ã€<code>TypeScript</code> è¿™ç±»ä¸»æµæŠ€æœ¯ï¼ŒæŸ¥é—®é¢˜æ–¹ä¾¿ã€æ‹›äººä¹Ÿå®¹æ˜“ã€‚</p>
<h2 data-id="heading-30">æˆ‘çš„æˆé•¿è·¯å¾„</h2>
<p>æˆ‘çš„æˆé•¿è·¯å¾„æ˜¯ï¼šçº¯å‰ç«¯ â†’ å…¨æ ˆ â†’ AIã€‚å·¥ä½œä¸€å¹´åä¸æ»¡è¶³äºåªå†™é¡µé¢ï¼Œå¼€å§‹å­¦ä¹  <code>Node.js</code> åšåç«¯å¼€å‘ï¼Œå‰åç«¯ä¸€èµ·åšï¼Œèƒ½å¤Ÿç‹¬ç«‹å®Œæˆæ•´ä¸ªé¡¹ç›®ã€‚AI æŠ€æœ¯å…´èµ·ååˆå­¦ä¹ äº† <code>LangChain</code>ï¼Œå°†å¤§æ¨¡å‹é›†æˆåˆ°é¡¹ç›®ä¸­ï¼Œè¿™ç®—æ˜¯æˆ‘çš„ç¬¬ä¸‰æ¡æŠ€æœ¯çº¿ã€‚</p>
<h2 data-id="heading-31">æœªæ¥è§„åˆ’</h2>
<p>ä¸‹ä¸€æ­¥è®¡åˆ’å­¦ä¹  Pythonï¼Œä»ã€Œå‰ç«¯ + Node å…¨æ ˆã€æ‰©å±•åˆ°ã€Œå‰ç«¯ + å…¨æ ˆ + Python AIã€ï¼šå¾ˆå¤š AI æ¨¡å‹å’Œå·¥å…·é“¾éƒ½æ˜¯åŸºäº Python æ„å»ºçš„ï¼ŒæŒæ¡ Python èƒ½æ›´æ·±å…¥åœ°ç†è§£æ¨¡å‹è®­ç»ƒå’Œæ¨ç†è¿‡ç¨‹ã€‚åŒæ—¶ç»§ç»­æ·±è€•å‰ç«¯å’Œç”¨æˆ·ä½“éªŒï¼Œåœ¨ Python ç”Ÿæ€ä¸­ç†Ÿç»ƒæŒæ¡ RAGã€Agentã€å‘é‡æ•°æ®åº“ã€æ¨¡å‹å¾®è°ƒã€æ¨ç†éƒ¨ç½²ç­‰æŠ€æœ¯ï¼Œä»ã€Œè°ƒç”¨ APIã€è¿›é˜¶åˆ°ã€Œè‡ªå·±æ­å»ºå®Œæ•´çš„ AI æŠ€æœ¯é“¾è·¯ã€ã€‚</p>
<h2 data-id="heading-32">æ€»ç»“</h2>
<p>æŠ€æœ¯æ ˆæ²¡æœ‰æ ‡å‡†ç­”æ¡ˆï¼Œéœ€è¦æ ¹æ®é¡¹ç›®éœ€æ±‚å’Œå›¢é˜Ÿæƒ…å†µæ¥é€‰æ‹©ã€‚æˆ‘ç›®å‰ä½¿ç”¨çš„è¿™å¥—æŠ€æœ¯æ ˆéƒ½æ˜¯åœ¨å®æˆ˜ä¸­ç­›é€‰å‡ºæ¥çš„ï¼Œè¿½æ±‚çš„æ˜¯ç¨³å®šå’Œå¯ç”¨ã€‚ä»çº¯å‰ç«¯åˆ°å…¨æ ˆå†åˆ° AIï¼ŒæŠ€æœ¯æ ˆä¼šéšç€ä¸šåŠ¡éœ€æ±‚ä¸æ–­æ¼”è¿›ï¼Œå…³é”®æ˜¯ä¿æŒæŒç»­å­¦ä¹ çš„èƒ½åŠ›ã€‚</p>
<p>ç»™æ–°äººçš„å»ºè®®ï¼šå…ˆæŠŠåŸºç¡€æ‰“ç‰¢ï¼Œæ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©æŠ€æœ¯æ ˆï¼Œä¸è¦ç›²ç›®è¿½é€æ–°æŠ€æœ¯ï¼Œå®ç”¨æ€§ä¼˜å…ˆã€‚å¦‚æœä½ ä¹Ÿåœ¨ä»å‰ç«¯è½¬å‹å…¨æ ˆæˆ– AI æ–¹å‘ï¼Œæ¬¢è¿äº¤æµæ¢è®¨ã€‚</p>
<hr/>
<p>æˆ‘æœ€è¿‘å®Œæˆäº† <code>React æºç è¯¦è§£</code>ã€<code>å‰ç«¯å·¥ç¨‹åŒ–ç³»åˆ—</code>ã€<code>Tiptap è¯¦è§£</code>ã€<code>Yjs æºç è§£æ</code> ç­‰æŠ€æœ¯å°å†Œï¼ŒåŒæ—¶ä¹Ÿåœ¨ç»´æŠ¤å¼€æºé¡¹ç›® <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxun082%2FDocFlow" target="_blank" title="https://github.com/xun082/DocFlow" ref="nofollow noopener noreferrer">DocFlow</a>ï¼Œè¿™ä¸ªé¡¹ç›®çš„æŠ€æœ¯åŸºæœ¬æ¶µç›–äº†ä¸Šè¿°çš„æ‰€æœ‰æŠ€æœ¯æ ˆï¼Œå…¶ä¸­å‰ç«¯ä½¿ç”¨çš„æ˜¯ NextJSï¼Œåç«¯ä½¿ç”¨çš„æ˜¯ NestJsã€‚</p>
<p>å¦‚æœä½ å¯¹è¿™äº›æŠ€æœ¯æ ˆæ„Ÿå…´è¶£ï¼Œæˆ–æƒ³å‚ä¸å¼€æºé¡¹ç›®å­¦ä¹ äº¤æµï¼Œæ¬¢è¿ï¼š</p>
<ul>
<li>â­ ç»™ DocFlow ç‚¹ä¸ª Starï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxun082%2FDocFlow" target="_blank" title="https://github.com/xun082/DocFlow" ref="nofollow noopener noreferrer">github.com/xun082/DocFâ€¦</a></li>
<li>ğŸ’¬ æ·»åŠ å¾®ä¿¡ <code>yunmz777</code> è¿›æŠ€æœ¯äº¤æµç¾¤ï¼Œä¸€èµ·è®¨è®ºå‰ç«¯ã€å…¨æ ˆã€AI æŠ€æœ¯</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c30e898ce8f645aaa1db5fa18fb86720~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122305&amp;x-signature=qXGHWUtIkkyh3l7hV3n3KBIH5OA%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17a5bc7aced446b6b3eee19402b2ac51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTW9tZW50:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122305&amp;x-signature=%2FzjazrTFO9C%2FBnFv7V3oMb5WwII%3D" alt="20260127202404" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kimi K2.5å¼€æºï¼šè‡ªå¸¦ç™¾äººä¼—åŒ…å›¢é˜Ÿï¼Œæœˆä¹‹æš—é¢é‡æ–°å®šä¹‰ç”Ÿäº§åŠ›]]></title>    <link>https://juejin.cn/post/7599843186202869802</link>    <guid>https://juejin.cn/post/7599843186202869802</guid>    <pubDate>2026-01-27T12:39:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599843186202869802" data-draft-id="7599843186202853418" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kimi K2.5å¼€æºï¼šè‡ªå¸¦ç™¾äººä¼—åŒ…å›¢é˜Ÿï¼Œæœˆä¹‹æš—é¢é‡æ–°å®šä¹‰ç”Ÿäº§åŠ›"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-27T12:39:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kimi K2.5å¼€æºï¼šè‡ªå¸¦ç™¾äººä¼—åŒ…å›¢é˜Ÿï¼Œæœˆä¹‹æš—é¢é‡æ–°å®šä¹‰ç”Ÿäº§åŠ›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T12:39:44.000Z" title="Tue Jan 27 2026 12:39:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å°±åœ¨2026å¹´1æœˆ27æ—¥ï¼Œå½“ä½ è¿˜åœ¨ä¸ºäº†å¹´åº•çš„KPIç„¦å¤´çƒ‚é¢æ—¶ï¼Œæœˆä¹‹æš—é¢ï¼ˆMoonshot AIï¼‰æ‚„æ— å£°æ¯åœ°æ‰”ä¸‹äº†ä¸€æšé‡ç£…ç‚¸å¼¹ã€‚ä»–ä»¬æ­£å¼å¼€æºäº†æ–°ä¸€ä»£é€šç”¨å¤§æ¨¡å‹â€”â€”Kimi K2.5ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªåœ¨è¿™ä¸ªåœˆå­é‡Œæ‘¸çˆ¬æ»šæ‰“å‡ å¹´çš„è§‚å¯Ÿè€…ï¼Œè¯´å®è¯ï¼Œæˆ‘å·²ç»å¾ˆä¹…æ²¡æœ‰å› ä¸ºä¸€ä¸ªæ¨¡å‹çš„å‘å¸ƒæ„Ÿåˆ°å…´å¥‹äº†ã€‚ä½†è¿™ä¸€æ¬¡ä¸åŒï¼ŒKimi K2.5ä¸ä»…ä»…æ˜¯å‚æ•°é‡çš„å †å æˆ–è€…è·‘åˆ†æ¦œä¸Šçš„æ•°å­—æ¸¸æˆï¼Œå®ƒå±•ç°äº†ä¸€ç§å…¨æ–°çš„AIç”Ÿå­˜å½¢æ€ï¼šä»â€œå•å…µä½œæˆ˜â€è¿›åŒ–åˆ°äº†â€œå†›å›¢ååŒâ€ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2F640-1-2-1024x576.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/640-1-2-1024x576.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/270adeff8d2e45d586b518ce749e13d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122383&amp;x-signature=nfXRFNAwg47CvzsDV35EO%2BOZ7%2Bc%3D" alt="640 (1)" loading="lazy"/></a></p>
<p><strong>è¿™å°±æ˜¯ä¼ è¯´ä¸­çš„â€œå½±åˆ†èº«ä¹‹æœ¯â€ï¼Ÿ</strong></p>
<p>è¿™æ¬¡æ›´æ–°æœ€è®©æˆ‘å¤´çš®å‘éº»çš„ï¼Œæ˜¯å®ƒçš„æ ¸å¿ƒåˆ›æ–°â€”â€”Agenté›†ç¾¤ï¼ˆAgent Swarmï¼‰ã€‚</p>
<p>ä»¥å‰æˆ‘ä»¬ç”¨å¤§æ¨¡å‹ï¼Œæ›´åƒæ˜¯åœ¨å’Œä¸€ä¸ªæå…¶åšå­¦çš„åšå£«å¯¹è¯ã€‚å“ªæ€•ä»–å†èªæ˜ï¼Œä»–ä¹Ÿæ˜¯ä¸€ä¸ªäººåœ¨å¹²æ´»ï¼Œçº¿æ€§åœ°å¤„ç†ä»»åŠ¡ã€‚ä½†K2.5æ‰“ç ´äº†è¿™ä¸ªé€»è¾‘ã€‚é¢å¯¹å¤æ‚çš„ä»»åŠ¡ï¼Œå®ƒèƒ½è‡ªä¸»åˆ›å»ºã€è°ƒåº¦å’Œç®¡ç†æœ€å¤š100ä¸ªå­æ™ºèƒ½ä½“ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼šä½ éœ€è¦åšä¸€ä»½è¦†ç›–100ä¸ªç»†åˆ†é¢†åŸŸçš„å¸‚åœºè°ƒç ”ï¼Œæˆ–è€…å†™ä¸€ç¯‡ç»¼è¿°å‡ åç¯‡è®ºæ–‡çš„å­¦æœ¯æŠ¥å‘Šã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2F640-2-2-1024x565.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/640-2-2-1024x565.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5efb82e5f072415aba3ecc8195f8cf0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122383&amp;x-signature=UNlGy2HYz89CDI4O2ch03SJqsKE%3D" alt="640 (2)" loading="lazy"/></a></p>
<p>åœ¨è¿‡å»ï¼Œè¿™éœ€è¦ä½ å’ŒAIè¿›è¡Œå‡ åè½®çš„å¯¹è¯ï¼Œä¸æ–­ä¿®æ­£ã€å–‚æ–™ã€‚è€Œåœ¨K2.5çš„é›†ç¾¤æ¨¡å¼ä¸‹ï¼Œä¸»æ¨¡å‹å°±åƒä¸€ä¸ªé¡¹ç›®ç»ç†ï¼Œå®ƒä¼šç¬é—´æŠŠä»»åŠ¡æ‹†è§£ï¼Œåˆ†å‘ç»™100ä¸ªâ€œå®ä¹ ç”Ÿâ€å¹¶è¡Œå¼€å·¥ã€‚è¿™äº›å­æ™ºèƒ½ä½“å¯ä»¥å¹¶è¡Œåè°ƒæ‰§è¡Œé«˜è¾¾1500æ­¥çš„æ“ä½œæµç¨‹ã€‚</p>
<p>å®˜æ–¹æ•°æ®æ˜¾ç¤ºï¼Œåœ¨å¹¿æ³›æœç´¢åœºæ™¯ä¸­ï¼Œè¿™ç§â€œç¾¤æ®´â€æˆ˜æœ¯è®©è¾¾åˆ°ç›®æ ‡æ€§èƒ½æ‰€éœ€çš„å…³é”®æ­¥éª¤å‡å°‘äº†å››å€ä»¥ä¸Šï¼Œå®é™…è¿è¡Œæ—¶é—´ç¼©çŸ­äº†80%ã€‚è¿™å°±æ˜¯é‡å˜å¼•èµ·çš„è´¨å˜ã€‚</p>
<p><strong>åŸç”Ÿå¤šæ¨¡æ€ï¼šä¸ä»…èƒ½çœ‹ï¼Œè¿˜èƒ½å†™ä»£ç </strong></p>
<p>é™¤äº†è¿™ä¸€å¤§å †â€œæ‰“å·¥ä»”â€ï¼ŒK2.5æœ¬èº«çš„åº•å­ä¹Ÿç¡¬å¾—å¯æ€•ã€‚å®ƒæ˜¯åŸºäº1.5Tæ··åˆè§†è§‰ä¸æ–‡æœ¬Tokené¢„è®­ç»ƒçš„åŸç”Ÿå¤šæ¨¡æ€æ¨¡å‹ã€‚</p>
<p>â€œåŸç”Ÿâ€è¿™ä¸ªè¯å¾ˆé‡è¦ã€‚è¿™æ„å‘³ç€è§†è§‰èƒ½åŠ›ä¸æ˜¯å¤–æŒ‚çš„è¡¥ä¸ï¼Œè€Œæ˜¯å®ƒçš„æœ¬èƒ½ã€‚ä½ å¯ä»¥ç›´æ¥æŠŠä¸€æ®µç½‘é¡µå½•å±ç”©ç»™å®ƒï¼Œå®ƒå°±èƒ½åˆ†æäº¤äº’é€»è¾‘ï¼Œç„¶åç»™ä½ ç”Ÿæˆå¤ç°ä»£ç ã€‚</p>
<p>ä¸ºäº†é…åˆè¿™ç§èƒ½åŠ›ï¼Œæœˆä¹‹æš—é¢è¿˜åŒæ­¥å‘å¸ƒäº†Kimi Codeã€‚è¿™æ¬¾å·¥å…·ç›´æ¥é›†æˆåˆ°äº†VSCodeå’ŒCursoré‡Œã€‚å¯¹äºå¼€å‘è€…æ¥è¯´ï¼Œè¿™ç®€ç›´æ˜¯é™ç»´æ‰“å‡»ï¼šä½ å¯ä»¥ä¸Šä¼ UIè®¾è®¡å›¾ç”šè‡³è§†é¢‘ï¼Œè®©å®ƒç›´æ¥ç”Ÿæˆå‰ç«¯ä»£ç ã€‚å¦‚æœä½ æ˜¯é‚£ä¸ªè¿˜åœ¨æ‰‹å†™CSSçš„å€’éœ‰è›‹ï¼Œå¤§æ¦‚ç‡ä¼šçˆ±æ­»è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2F640-3-1-1024x665.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/640-3-1-1024x665.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33202f6d21754914bfb785e06d991f81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122383&amp;x-signature=BJXAVaq1FOcuX4QzLgdrXwDcP4k%3D" alt="640 (3)" loading="lazy"/></a></p>
<p><strong>ä¸ä»…å¼ºï¼Œè€Œä¸”ä¾¿å®œå¾—ç¦»è°±</strong></p>
<p>åœ¨ç¡¬æ ¸çš„åŸºå‡†æµ‹è¯•ä¸­ï¼ŒK2.5çš„è¡¨ç°å¯ä»¥ç”¨â€œå± æ¦œâ€æ¥å½¢å®¹ã€‚åœ¨HLEï¼ˆç»¼åˆæ¨ç†ï¼‰ã€SWE-Benchï¼ˆä»£ç ç”Ÿæˆï¼‰ç­‰å…³é”®æµ‹è¯•ä¸­ï¼Œå®ƒéƒ½æ‹¿åˆ°äº†å¼€æºæ¨¡å‹çš„ç¬¬ä¸€åï¼Œç”šè‡³åœ¨åŠå…¬ç”Ÿäº§åŠ›æµ‹è¯•ä¸­ï¼Œæ¯”ä¸Šä¸€ä»£K2 Thinkingæå‡äº†è¿‘60%ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2F640-5-1024x405.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/640-5-1024x405.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abb4252946b544f89adffaa910f1f433~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122383&amp;x-signature=XrfnHKUDjZAYhuvaQjlaz%2BTcppA%3D" alt="640" loading="lazy"/></a></p>
<p>ä½†æœ€è®©æˆ‘æ„å¤–çš„æ˜¯ä»·æ ¼ã€‚</p>
<p>é€šå¸¸è¿™ç§æ€§èƒ½æ€ªå…½çš„APIè°ƒç”¨è´¹éƒ½è´µå¾—è®©äººè‚‰ç–¼ï¼Œä½†Kimiè¿™æ¬¡æŠŠä»·æ ¼æ‰“äº†ä¸‹æ¥ã€‚è¾“å…¥æ¯ç™¾ä¸‡Tokenåªè¦4å…ƒï¼Œè¾“å‡º21å…ƒã€‚é…åˆå¼€æºçš„ç­–ç•¥ï¼ˆHugging Faceå’Œé­”æ­ç¤¾åŒºé€šè¿‡ï¼‰ï¼Œè¿™æ˜æ˜¾æ˜¯æƒ³è®©å¼€å‘è€…ç”Ÿæ€å¿«é€Ÿç¹è£èµ·æ¥ã€‚</p>
<p><strong>å››ç§æ¨¡å¼ï¼Œæ€»æœ‰ä¸€æ¬¾é€‚åˆä½ </strong></p>
<p>å¯¹äºæ™®é€šç”¨æˆ·ï¼ŒKimiåœ¨å®˜ç½‘ä¸Šç›´æ¥æŠŠK2.5çš„èƒ½åŠ›å°è£…æˆäº†å››ç§æ¨¡å¼ï¼š</p>
<p>æƒ³é—²èŠæˆ–è€…é—®ç®€å•é—®é¢˜ï¼Œç”¨â€œå¿«é€Ÿæ¨¡å¼â€ï¼Œå“åº”æå¿«ã€‚ é‡åˆ°æ•°å­¦éš¾é¢˜æˆ–è€…é€»è¾‘é™·é˜±ï¼Œåˆ‡åˆ°â€œæ€è€ƒæ¨¡å¼â€ï¼Œå®ƒä¼šåƒé‚£æ¬¾è‰è“æ¨¡å‹ä¸€æ ·è¿›è¡Œæ·±åº¦æ¨ç†ã€‚ éœ€è¦å¤„ç†æ–‡æ¡£ã€ç ”æŠ¥ï¼Œç”¨â€œæ™ºèƒ½ä½“æ¨¡å¼â€ã€‚ è€Œå¦‚æœä½ çœŸçš„é¢ä¸´æµ·é‡ä¿¡æ¯æœç´¢æˆ–è¶…å¤æ‚ä»»åŠ¡ï¼Œâ€œæ™ºèƒ½ä½“é›†ç¾¤æ¨¡å¼â€å°±æ˜¯ä¸ºä½ å‡†å¤‡çš„æ ¸æ­¦å™¨ã€‚</p>
<p><strong>å†™åœ¨æœ€å</strong></p>
<p>Kimi K2.5çš„å‡ºç°ï¼Œæ ‡å¿—ç€æˆ‘ä»¬æ­£åœ¨è·¨è¶Šä¸€ä¸ªé—¨æ§›ã€‚æˆ‘ä»¬å¯¹AIçš„æœŸå¾…ï¼Œæ­£åœ¨ä»â€œåœ¨è¿™ä¸ªé—®é¢˜ä¸Šç»™æˆ‘ä¸€ä¸ªç­”æ¡ˆâ€ï¼Œè½¬å˜ä¸ºâ€œå¸®æˆ‘è§£å†³è¿™ä¸ªéœ€è¦å¤šçº¿ç¨‹åä½œçš„é¡¹ç›®â€ã€‚</p>
<p>æœˆä¹‹æš—é¢è¿™æ¬¡ä¸ä»…ä»…æ˜¯å‘å¸ƒäº†ä¸€ä¸ªæ¨¡å‹ï¼Œæ›´æ˜¯å‘æˆ‘ä»¬å±•ç¤ºäº†æœªæ¥çŸ¥è¯†å·¥ä½œçš„é›å½¢ï¼šä½ è´Ÿè´£å®šä¹‰ç›®æ ‡ï¼Œè€ŒAIè´Ÿè´£ç»„å»ºå›¢é˜Ÿã€‚å¯¹äºæ‰€æœ‰åœ¨è¿™ä¸ªæ—¶ä»£è¯•å›¾æé«˜æ•ˆç‡çš„äººæ¥è¯´ï¼Œè¿™ç»å¯¹æ˜¯ä¸€ä¸ªå€¼å¾—ç«‹åˆ»å»ä½“éªŒçš„å·¥å…·ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2FiShot_2026-01-27_20.23.33-1024x446.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/iShot_2026-01-27_20.23.33-1024x446.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87264cbd933e4c9eb15f753a716592ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770122383&amp;x-signature=qAKyoNr2heWyw37FIzYsTEzP3VU%3D" alt="iShot_2026-01-27_20.23.33" loading="lazy"/></a></p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¼´å½±- Chrome æ‰©å±•ï¼Œæƒ³ç»™æ¯å¤©çš„æ•°å­—ç”Ÿæ´»ä¸€ç‚¹ä»ªå¼æ„Ÿ]]></title>    <link>https://juejin.cn/post/7599826983887552555</link>    <guid>https://juejin.cn/post/7599826983887552555</guid>    <pubDate>2026-01-27T11:47:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599826983887552555" data-draft-id="7592451588848320531" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¼´å½±- Chrome æ‰©å±•ï¼Œæƒ³ç»™æ¯å¤©çš„æ•°å­—ç”Ÿæ´»ä¸€ç‚¹ä»ªå¼æ„Ÿ"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,äº§å“,Chrome"/> <meta itemprop="datePublished" content="2026-01-27T11:47:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¹¸ç¦æ‹¾è’è€…"/> <meta itemprop="url" content="https://juejin.cn/user/254742426030318"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¼´å½±- Chrome æ‰©å±•ï¼Œæƒ³ç»™æ¯å¤©çš„æ•°å­—ç”Ÿæ´»ä¸€ç‚¹ä»ªå¼æ„Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/254742426030318/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¹¸ç¦æ‹¾è’è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T11:47:11.000Z" title="Tue Jan 27 2026 11:47:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œä¸ºä¸€åå¼€å‘è€…ï¼Œæ¯å¤©é¢å¯¹çš„æ˜¯å†™ä¸å®Œçš„ Bug å’Œæ•°ä¸æ¸…çš„ Tabã€‚ç›´åˆ°æœ‰ä¸€å¤©ï¼Œæˆ‘å›çœ‹æµè§ˆå†å²ï¼Œå‘ç°é‚£åªæ˜¯å†°å†·çš„ URL å †ç Œï¼Œå´æ²¡æœ‰ä¸€ç‚¹â€œç”Ÿæ´»è¿‡â€çš„ç—•è¿¹ã€‚äºæ˜¯ï¼Œæˆ‘åˆ©ç”¨ä¸šä½™æ—¶é—´å¼€å‘äº†Â ã€Œä¼´å½± Â· Shadow Mateã€ã€‚å®ƒä¸æ˜¯é‚£ç§å‚¬ä½ æé«˜æ•ˆç‡çš„å·¥å…·ï¼Œè€Œæ˜¯ä¸€ä¸ªä¼šåœ¨ 18:00 å‡†æ—¶å‡ºç°çš„â€œæ•°å­—å½±å­â€ã€‚âœ¨Â å®ƒæœ€è®©æˆ‘å¿ƒåŠ¨çš„å‡ ä¸ªç¬é—´ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28c4422221944744bfbdaaccacb1ff85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bm456aP5ou-6I2S6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119383&amp;x-signature=eLf6uvdzyI4UChW%2Bxj0TP%2ByNXXE%3D" alt="20260127-193047.gif" loading="lazy"/></p>
<ol>
<li>
<p>ä½™æ™–æ¨¡å¼ï¼šä¸‹ç­å‰åŠå°æ—¶ï¼Œæµè§ˆå™¨ä¼šæ‚„æ‚„æ³›èµ·æ©™è‰²çš„ä½™æ™–ã€‚é‚£ç§â€œè¯¥å›å®¶äº†â€çš„è§†è§‰æš—ç¤ºï¼Œæ¯”é—¹é’Ÿæ¸©æŸ”å¾—å¤šã€‚</p>
</li>
<li>
<p>ç§è¯­å¼•æ“ï¼šå®ƒä¸ä¼šåªå‘Šè¯‰ä½ â€œè®¿é—®äº† 50 ä¸ªç½‘é¡µâ€ï¼Œå®ƒä¼šè¯´ï¼šâ€œä»Šå¤©ä½ åœ¨çŸ¥è¯†æ£®æ—æ¼«æ­¥äº†è®¸ä¹…ï¼Œæ˜¯ä¸ªå……å®çš„ä¸‹åˆã€‚â€</p>
</li>
<li>
<p>æ•°å­—æ¼‚æµç“¶ï¼šå½“ä½ å¶ç„¶å›åˆ°åŠä¸ªæœˆå‰æ·±å¤œç¿»é˜…çš„æ–‡æ¡£ï¼Œå®ƒä¼šå¸¦ç€å½“æ—¶çš„æ€ç»ªæµ®ç°ã€‚</p>
</li>
</ol>
<h3 data-id="heading-0">ç¬¬ä¸€æ¬¡ç”¨è‡ªå·±åšçš„äº§å“æ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼Ÿ</h3>
<p>ä»Šå¤©ä¸‹åˆ 6 ç‚¹ï¼Œæˆ‘è®¾å®šçš„"å½’èˆªæ—¶åˆ»"åˆ°äº†ã€‚çªç„¶æœ‰ä¸ªå°å¹½çµ ğŸ‘» ä»ç½‘é¡µå³ä¸‹è§’å†’å‡ºæ¥ï¼Œè·Ÿæˆ‘è¯´ï¼š</p>
<blockquote>
<p>"ä»Šå¤©ä½ åœ¨ä»£ç æµ·æ´‹é‡Œèˆªè¡Œäº† 4 å°æ—¶ï¼Œåœ¨çŸ¥è¯†æ£®æ—é‡Œæ¼«æ­¥äº† 2 å°æ—¶ã€‚è¾›è‹¦äº†ï¼Œç°åœ¨çš„ä½ å€¼å¾—è¢«æ¸©æŸ”å¯¹å¾…ã€‚"</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a513e3f6bca431484f15be0d597b592~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bm456aP5ou-6I2S6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119383&amp;x-signature=amkt3hAYRMhMCp5drD5VtBnYjQ8%3D" alt="image.jpg" loading="lazy"/></p>
<p>è¯´å®è¯ï¼Œé‚£ä¸€åˆ»æˆ‘çœŸçš„æ„£äº†ä¸€ä¸‹ã€‚è™½ç„¶æ˜¯æˆ‘è‡ªå·±å†™çš„ä»£ç ï¼Œä½†çœ‹åˆ°è¿™æ®µæ–‡å­—çš„æ—¶å€™ï¼Œè¿˜æ˜¯æœ‰ç§è¢«ç†è§£çš„æ„Ÿè§‰ã€‚</p>
<p>ç‚¹å¼€å¡ç‰‡ï¼Œå®ƒæŠŠæˆ‘ä»Šå¤©è®¿é—®çš„æ‰€æœ‰ç½‘ç«™ã€åœç•™æ—¶é—´ã€æ»šåŠ¨è·ç¦»ã€è¾“å…¥å­—ç¬¦æ•°éƒ½åˆ—å‡ºæ¥äº†ã€‚æœ€è®©æˆ‘æ„å¤–çš„æ˜¯ï¼Œå®ƒæ ¹æ®æˆ‘åœç•™æœ€ä¹…çš„é¡µé¢ï¼Œæå–å‡ºäº†ä»Šå¤©çš„å…³é”®è¯ï¼Œç„¶åç”Ÿæˆäº†ä¸€æ®µç‰¹åˆ«æœ‰æ¸©åº¦çš„è¯ã€‚</p>
<p>ä¸‹åˆ 5 ç‚¹åŠçš„æ—¶å€™ï¼Œæˆ‘è¿˜å‘ç°ç½‘é¡µçªç„¶æ³›èµ·äº†æ·¡æ·¡çš„æ©™è‰²ï¼Œå°±åƒå¤•é˜³ä¸€æ ·ã€‚è¿™æ˜¯æˆ‘åšçš„"ä½™æ™–æ¨¡å¼"ï¼Œåœ¨å½’èˆªå‰ 30 åˆ†é’Ÿæé†’ä½ è¯¥ä¸‹ç­äº†ã€‚è™½ç„¶æ˜¯æˆ‘è‡ªå·±å†™çš„é€»è¾‘ï¼Œä½†çœŸçš„çœ‹åˆ°æ•ˆæœçš„æ—¶å€™ï¼Œè¿˜æ˜¯è§‰å¾—æŒºæ²»æ„ˆçš„ã€‚</p>
<p>ã€å…³äºéšç§ã€‘ï¼šæ²¡æœ‰ä»»ä½•æœåŠ¡å™¨ï¼Œæ•°æ® 24h ç‰©ç†ç²‰ç¢ï¼Œåªå­˜åœ¨ä½ çš„æœ¬åœ°ã€‚æˆ‘æƒ³ï¼Œåœ¨è¿½æ±‚æè‡´æ•ˆç‡çš„æ—¶ä»£ï¼Œæˆ‘ä»¬æˆ–è®¸ä¹Ÿéœ€è¦ä¸€ç‚¹â€œæ— ç”¨â€çš„ä»ªå¼æ„Ÿã€‚é¡¹ç›®å¼€æº/ä¸‹è½½åœ°å€ï¼šÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxflihaibo%2Fshadowmate" target="_blank" title="https://github.com/xflihaibo/shadowmate" ref="nofollow noopener noreferrer">ä¼´å½±(Shadow Mate)</a>æ¬¢è¿è¯„è®ºåŒºäº¤æµï¼Œå¤§å®¶å¹³æ—¶å‡ ç‚¹â€œå½’èˆªâ€ï¼ŸğŸ•¯ï¸</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ67ï¼‰å¦‚ä½•åœ¨äº‘ç¯å¢ƒä¸­ä½¿ç”¨Hibernateï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599920572839821321</link>    <guid>https://juejin.cn/post/7599920572839821321</guid>    <pubDate>2026-01-27T11:48:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599920572839821321" data-draft-id="7599708108621987891" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ67ï¼‰å¦‚ä½•åœ¨äº‘ç¯å¢ƒä¸­ä½¿ç”¨Hibernateï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-27T11:48:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ67ï¼‰å¦‚ä½•åœ¨äº‘ç¯å¢ƒä¸­ä½¿ç”¨Hibernateï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T11:48:41.000Z" title="Tue Jan 27 2026 11:48:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨äº‘ç¯å¢ƒä¸­ä½¿ç”¨Hibernateéœ€è¦è€ƒè™‘å¤šä¸ªæ–¹é¢ï¼ŒåŒ…æ‹¬äº‘æ•°æ®åº“æœåŠ¡çš„é…ç½®ã€æ•°æ®æºé…ç½®ã€Hibernateé…ç½®ã€å®ä½“ç±»å®šä¹‰ã€DAOå±‚å®ç°ã€æœåŠ¡å±‚å¼€å‘ï¼Œä»¥åŠå®ç°åº”ç”¨é€»è¾‘ã€‚è¿™é‡Œå‡è®¾ä½ ä½¿ç”¨Spring Bootæ¡†æ¶ï¼Œå¹¶å°†æ•°æ®åº“æ‰˜ç®¡åœ¨AWS RDSï¼ˆå…³ç³»æ•°æ®åº“æœåŠ¡ï¼‰ä¸Šã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„å®ç°æ­¥éª¤å’Œä»£ç ç¤ºä¾‹ã€‚</p>
<h3 data-id="heading-0">1. é…ç½®é¡¹ç›®ä¾èµ–</h3>
<p>é¦–å…ˆï¼Œåœ¨Spring Booté¡¹ç›®çš„<code>pom.xml</code>æ–‡ä»¶ä¸­æ·»åŠ å¿…è¦çš„ä¾èµ–é¡¹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Spring Boot Starter Data JPA --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- MySQL Connector --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.26<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- HikariCP for Connection Pooling --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.zaxxer<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>HikariCP<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h3 data-id="heading-1">2. é…ç½®æ•°æ®æº</h3>
<p>åœ¨<code>application.properties</code>æ–‡ä»¶ä¸­é…ç½®äº‘æ•°æ®åº“çš„æ•°æ®æºå’ŒHibernateå±æ€§ï¼Œå‡è®¾ä½ çš„AWS RDSæ•°æ®åº“ä¿¡æ¯å¦‚ä¸‹ï¼š</p>
<ul>
<li>Hostname: <code>mydbinstance.c9akciq32.rds.amazonaws.com</code></li>
<li>Database Name: <code>mydatabase</code></li>
<li>Username: <code>admin</code></li>
<li>Password: <code>password</code></li>
</ul>
<h4 data-id="heading-2"><code>application.properties</code></h4>
<pre><code class="hljs language-properties" lang="properties">spring.datasource.url=jdbc:mysql://mydbinstance.c9akciq32.rds.amazonaws.com:3306/mydatabase
spring.datasource.username=admin
spring.datasource.password=password
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
</code></pre>
<h3 data-id="heading-3">3. å®šä¹‰å®ä½“ç±»</h3>
<p>å®šä¹‰ä¸€ä¸ªç®€å•çš„å®ä½“ç±»ï¼Œä¾‹å¦‚<code>User</code>ã€‚</p>
<h4 data-id="heading-4"><code>User.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.Entity;
<span class="hljs-keyword">import</span> javax.persistence.GeneratedValue;
<span class="hljs-keyword">import</span> javax.persistence.GenerationType;
<span class="hljs-keyword">import</span> javax.persistence.Id;
<span class="hljs-keyword">import</span> javax.persistence.Table;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "users")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-keyword">private</span> String username;
    <span class="hljs-keyword">private</span> String password;

    <span class="hljs-comment">// Getters and Setters</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getUsername</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> username;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUsername</span><span class="hljs-params">(String username)</span> {
        <span class="hljs-built_in">this</span>.username = username;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPassword</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> password;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPassword</span><span class="hljs-params">(String password)</span> {
        <span class="hljs-built_in">this</span>.password = password;
    }
}
</code></pre>
<h3 data-id="heading-5">4. åˆ›å»ºDAOå±‚</h3>
<p>åˆ›å»ºä¸€ä¸ªæ•°æ®è®¿é—®å¯¹è±¡ï¼ˆDAOï¼‰æ¥å£ï¼Œç”¨äºè®¿é—®æ•°æ®åº“ã€‚å¦‚æœä½¿ç”¨Spring Data JPAï¼Œå¯ä»¥ç®€åŒ–ä¸ºä¸€ä¸ªæ¥å£ã€‚</p>
<h4 data-id="heading-6"><code>UserRepository.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JpaRepository</span>&lt;User, Long&gt; {
    User <span class="hljs-title function_">findByUsername</span><span class="hljs-params">(String username)</span>;
}
</code></pre>
<h3 data-id="heading-7">5. åˆ›å»ºæœåŠ¡å±‚</h3>
<p>åˆ›å»ºä¸€ä¸ªæœåŠ¡ç±»ï¼Œç”¨äºå¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚</p>
<h4 data-id="heading-8"><code>UserService.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;
<span class="hljs-keyword">import</span> org.springframework.transaction.annotation.Transactional;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> UserRepository userRepository;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">UserService</span><span class="hljs-params">(UserRepository userRepository)</span> {
        <span class="hljs-built_in">this</span>.userRepository = userRepository;
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">createUser</span><span class="hljs-params">(User user)</span> {
        <span class="hljs-keyword">return</span> userRepository.save(user);
    }

    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-keyword">return</span> userRepository.findById(id).orElse(<span class="hljs-literal">null</span>);
    }

    <span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">getAllUsers</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> userRepository.findAll();
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">updateUser</span><span class="hljs-params">(User user)</span> {
        <span class="hljs-keyword">return</span> userRepository.save(user);
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteUser</span><span class="hljs-params">(Long id)</span> {
        userRepository.deleteById(id);
    }
}
</code></pre>
<h3 data-id="heading-9">6. ç¼–å†™æ§åˆ¶å™¨</h3>
<p>åˆ©ç”¨ä¸Šè¿°æœåŠ¡ç±»æ¥ç¼–å†™RESTful APIæ§åˆ¶å™¨ã€‚</p>
<h4 data-id="heading-10"><code>UserController.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.http.ResponseEntity;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/users")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> UserService userService;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">UserController</span><span class="hljs-params">(UserService userService)</span> {
        <span class="hljs-built_in">this</span>.userService = userService;
    }

    <span class="hljs-meta">@PostMapping</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;User&gt; <span class="hljs-title function_">createUser</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> User user)</span> {
        <span class="hljs-type">User</span> <span class="hljs-variable">createdUser</span> <span class="hljs-operator">=</span> userService.createUser(user);
        <span class="hljs-keyword">return</span> ResponseEntity.ok(createdUser);
    }

    <span class="hljs-meta">@GetMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;User&gt; <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userService.getUserById(id);
        <span class="hljs-keyword">return</span> ResponseEntity.ok(user);
    }

    <span class="hljs-meta">@GetMapping</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;List&lt;User&gt;&gt; <span class="hljs-title function_">getAllUsers</span><span class="hljs-params">()</span> {
        List&lt;User&gt; users = userService.getAllUsers();
        <span class="hljs-keyword">return</span> ResponseEntity.ok(users);
    }

    <span class="hljs-meta">@PutMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;User&gt; <span class="hljs-title function_">updateUser</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id, <span class="hljs-meta">@RequestBody</span> User user)</span> {
        user.setId(id);
        <span class="hljs-type">User</span> <span class="hljs-variable">updatedUser</span> <span class="hljs-operator">=</span> userService.updateUser(user);
        <span class="hljs-keyword">return</span> ResponseEntity.ok(updatedUser);
    }

    <span class="hljs-meta">@DeleteMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Void&gt; <span class="hljs-title function_">deleteUser</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        userService.deleteUser(id);
        <span class="hljs-keyword">return</span> ResponseEntity.noContent().build();
    }
}
</code></pre>
<h3 data-id="heading-11">7. éƒ¨ç½²åˆ°äº‘ç¯å¢ƒ</h3>
<p>å°†åº”ç”¨ç¨‹åºæ‰“åŒ…å¹¶éƒ¨ç½²åˆ°äº‘ç¯å¢ƒã€‚å‡è®¾ä½ ä½¿ç”¨AWS Elastic Beanstalkï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<ol>
<li>
<p><strong>åˆ›å»ºElastic Beanstalkåº”ç”¨</strong>ï¼š</p>
<ul>
<li>ç™»å½•åˆ°AWSç®¡ç†æ§åˆ¶å°ï¼Œå¯¼èˆªåˆ°Elastic Beanstalkã€‚</li>
<li>åˆ›å»ºä¸€ä¸ªæ–°çš„åº”ç”¨å¹¶é€‰æ‹©é€‚åˆçš„ç¯å¢ƒï¼ˆä¾‹å¦‚Javaï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ‰“åŒ…åº”ç”¨ç¨‹åº</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨Mavenæ‰“åŒ…åº”ç”¨ç¨‹åºï¼š
<pre><code class="hljs language-bash" lang="bash">mvn clean package
</code></pre>
</li>
<li>ç”Ÿæˆçš„<code>jar</code>æ–‡ä»¶é€šå¸¸ä½äº<code>target</code>ç›®å½•ä¸‹ï¼Œä¾‹å¦‚<code>myapp-0.0.1-SNAPSHOT.jar</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>éƒ¨ç½²åº”ç”¨ç¨‹åº</strong>ï¼š</p>
<ul>
<li>åœ¨Elastic Beanstalkåº”ç”¨ä¸­é€‰æ‹©â€œUpload and Deployâ€ã€‚</li>
<li>ä¸Šä¼ ç”Ÿæˆçš„<code>jar</code>æ–‡ä»¶å¹¶éƒ¨ç½²ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-12">8. é…ç½®ç¯å¢ƒå˜é‡</h3>
<p>åœ¨Elastic Beanstalkç¯å¢ƒä¸­é…ç½®æ•°æ®åº“è¿æ¥çš„ç¯å¢ƒå˜é‡ï¼Œè€Œä¸æ˜¯ç¡¬ç¼–ç åœ¨<code>application.properties</code>ä¸­ã€‚è¿™å¢å¼ºäº†å®‰å…¨æ€§å’Œçµæ´»æ€§ã€‚</p>
<h4 data-id="heading-13">åœ¨Elastic Beanstalkä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š</h4>
<ul>
<li>å¯¼èˆªåˆ°ä½ çš„Elastic Beanstalkç¯å¢ƒã€‚</li>
<li>é€‰æ‹©â€œConfigurationâ€ &gt; â€œSoftwareâ€ &gt; â€œEditâ€ã€‚</li>
<li>åœ¨â€œEnvironment propertiesâ€ä¸­æ·»åŠ ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š
<ul>
<li><code>SPRING_DATASOURCE_URL=jdbc:mysql://mydbinstance.c9akciq32.rds.amazonaws.com:3306/mydatabase</code></li>
<li><code>SPRING_DATASOURCE_USERNAME=admin</code></li>
<li><code>SPRING_DATASOURCE_PASSWORD=password</code></li>
</ul>
</li>
</ul>
<h4 data-id="heading-14">ä¿®æ”¹<code>application.properties</code>æ¥ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š</h4>
<pre><code class="hljs language-properties" lang="properties">spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
</code></pre>
<h3 data-id="heading-15">æ€»ç»“</h3>
<p>é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•åœ¨äº‘ç¯å¢ƒä¸­ä½¿ç”¨Hibernateï¼Œä»é…ç½®äº‘æ•°æ®åº“æ•°æ®æºåˆ°å®šä¹‰å®ä½“ç±»ï¼Œåˆ›å»ºDAOå±‚å’ŒæœåŠ¡å±‚ï¼Œå¹¶ç¼–å†™RESTful APIæ§åˆ¶å™¨ã€‚æœ€åï¼Œæˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•å°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°äº‘ç¯å¢ƒï¼ˆå¦‚AWS Elastic Beanstalkï¼‰å¹¶é…ç½®ç¯å¢ƒå˜é‡ã€‚è¿™æ ·ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºå¯ä»¥åœ¨äº‘ç¯å¢ƒä¸­é«˜æ•ˆè¿è¡Œå¹¶åˆ©ç”¨Hibernateè¿›è¡Œæ•°æ®åº“æ“ä½œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ68ï¼‰å¦‚ä½•åœ¨å®¹å™¨åŒ–ç¯å¢ƒä¸­ä½¿ç”¨Hibernateï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599920572839837705</link>    <guid>https://juejin.cn/post/7599920572839837705</guid>    <pubDate>2026-01-27T11:49:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599920572839837705" data-draft-id="7599852042529685514" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ68ï¼‰å¦‚ä½•åœ¨å®¹å™¨åŒ–ç¯å¢ƒä¸­ä½¿ç”¨Hibernateï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-27T11:49:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ68ï¼‰å¦‚ä½•åœ¨å®¹å™¨åŒ–ç¯å¢ƒä¸­ä½¿ç”¨Hibernateï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T11:49:19.000Z" title="Tue Jan 27 2026 11:49:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å®¹å™¨åŒ–ç¯å¢ƒä¸­ä½¿ç”¨Hibernateéœ€è¦è€ƒè™‘å¦‚ä½•å°†åº”ç”¨ç¨‹åºæ‰“åŒ…æˆå®¹å™¨é•œåƒï¼Œå¹¶é…ç½®å®¹å™¨ä»¥è¿æ¥åˆ°æ•°æ®åº“ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†æ­¥éª¤ï¼ŒåŒ…æ‹¬é…ç½®é¡¹ç›®ä¾èµ–ã€è®¾ç½®æ•°æ®æºã€Hibernateé…ç½®ã€å®šä¹‰å®ä½“ç±»ã€åˆ›å»ºDAOå±‚ã€åˆ›å»ºæœåŠ¡å±‚ã€ç¼–å†™åº”ç”¨é€»è¾‘ï¼Œä»¥åŠä½¿ç”¨Dockerè¿›è¡Œå®¹å™¨åŒ–ã€‚</p>
<h3 data-id="heading-0">1. é¡¹ç›®ä¾èµ–</h3>
<p>é¦–å…ˆï¼Œåœ¨Spring Booté¡¹ç›®çš„<code>pom.xml</code>æ–‡ä»¶ä¸­æ·»åŠ å¿…è¦çš„ä¾èµ–é¡¹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Spring Boot Starter Data JPA --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- MySQL Connector --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.26<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- HikariCP for Connection Pooling --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.zaxxer<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>HikariCP<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h3 data-id="heading-1">2. é…ç½®æ•°æ®æº</h3>
<p>åœ¨<code>application.properties</code>æ–‡ä»¶ä¸­é…ç½®æ•°æ®æºå’ŒHibernateå±æ€§ï¼š</p>
<h4 data-id="heading-2"><code>application.properties</code></h4>
<pre><code class="hljs language-properties" lang="properties">spring.datasource.url=jdbc:mysql://db:3306/mydatabase
spring.datasource.username=root
spring.datasource.password=rootpassword
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
</code></pre>
<h3 data-id="heading-3">3. å®šä¹‰å®ä½“ç±»</h3>
<p>å®šä¹‰ä¸€ä¸ªç®€å•çš„å®ä½“ç±»ï¼Œä¾‹å¦‚<code>User</code>ã€‚</p>
<h4 data-id="heading-4"><code>User.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.Entity;
<span class="hljs-keyword">import</span> javax.persistence.GeneratedValue;
<span class="hljs-keyword">import</span> javax.persistence.GenerationType;
<span class="hljs-keyword">import</span> javax.persistence.Id;
<span class="hljs-keyword">import</span> javax.persistence.Table;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "users")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-keyword">private</span> String username;
    <span class="hljs-keyword">private</span> String password;

    <span class="hljs-comment">// Getters and Setters</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getUsername</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> username;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUsername</span><span class="hljs-params">(String username)</span> {
        <span class="hljs-built_in">this</span>.username = username;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPassword</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> password;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPassword</span><span class="hljs-params">(String password)</span> {
        <span class="hljs-built_in">this</span>.password = password;
    }
}
</code></pre>
<h3 data-id="heading-5">4. åˆ›å»ºDAOå±‚</h3>
<p>åˆ›å»ºä¸€ä¸ªæ•°æ®è®¿é—®å¯¹è±¡ï¼ˆDAOï¼‰æ¥å£ï¼Œç”¨äºè®¿é—®æ•°æ®åº“ã€‚å¦‚æœä½¿ç”¨Spring Data JPAï¼Œå¯ä»¥ç®€åŒ–ä¸ºä¸€ä¸ªæ¥å£ã€‚</p>
<h4 data-id="heading-6"><code>UserRepository.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JpaRepository</span>&lt;User, Long&gt; {
    User <span class="hljs-title function_">findByUsername</span><span class="hljs-params">(String username)</span>;
}
</code></pre>
<h3 data-id="heading-7">5. åˆ›å»ºæœåŠ¡å±‚</h3>
<p>åˆ›å»ºä¸€ä¸ªæœåŠ¡ç±»ï¼Œç”¨äºå¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚</p>
<h4 data-id="heading-8"><code>UserService.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.stereotype.Service;
<span class="hljs-keyword">import</span> org.springframework.transaction.annotation.Transactional;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> UserRepository userRepository;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">UserService</span><span class="hljs-params">(UserRepository userRepository)</span> {
        <span class="hljs-built_in">this</span>.userRepository = userRepository;
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">createUser</span><span class="hljs-params">(User user)</span> {
        <span class="hljs-keyword">return</span> userRepository.save(user);
    }

    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-keyword">return</span> userRepository.findById(id).orElse(<span class="hljs-literal">null</span>);
    }

    <span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">getAllUsers</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> userRepository.findAll();
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">updateUser</span><span class="hljs-params">(User user)</span> {
        <span class="hljs-keyword">return</span> userRepository.save(user);
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteUser</span><span class="hljs-params">(Long id)</span> {
        userRepository.deleteById(id);
    }
}
</code></pre>
<h3 data-id="heading-9">6. ç¼–å†™æ§åˆ¶å™¨</h3>
<p>åˆ©ç”¨ä¸Šè¿°æœåŠ¡ç±»æ¥ç¼–å†™RESTful APIæ§åˆ¶å™¨ã€‚</p>
<h4 data-id="heading-10"><code>UserController.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.http.ResponseEntity;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/users")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> UserService userService;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">UserController</span><span class="hljs-params">(UserService userService)</span> {
        <span class="hljs-built_in">this</span>.userService = userService;
    }

    <span class="hljs-meta">@PostMapping</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;User&gt; <span class="hljs-title function_">createUser</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> User user)</span> {
        <span class="hljs-type">User</span> <span class="hljs-variable">createdUser</span> <span class="hljs-operator">=</span> userService.createUser(user);
        <span class="hljs-keyword">return</span> ResponseEntity.ok(createdUser);
    }

    <span class="hljs-meta">@GetMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;User&gt; <span class="hljs-title function_">getUserById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userService.getUserById(id);
        <span class="hljs-keyword">return</span> ResponseEntity.ok(user);
    }

    <span class="hljs-meta">@GetMapping</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;List&lt;User&gt;&gt; <span class="hljs-title function_">getAllUsers</span><span class="hljs-params">()</span> {
        List&lt;User&gt; users = userService.getAllUsers();
        <span class="hljs-keyword">return</span> ResponseEntity.ok(users);
    }

    <span class="hljs-meta">@PutMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;User&gt; <span class="hljs-title function_">updateUser</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id, <span class="hljs-meta">@RequestBody</span> User user)</span> {
        user.setId(id);
        <span class="hljs-type">User</span> <span class="hljs-variable">updatedUser</span> <span class="hljs-operator">=</span> userService.updateUser(user);
        <span class="hljs-keyword">return</span> ResponseEntity.ok(updatedUser);
    }

    <span class="hljs-meta">@DeleteMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Void&gt; <span class="hljs-title function_">deleteUser</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        userService.deleteUser(id);
        <span class="hljs-keyword">return</span> ResponseEntity.noContent().build();
    }
}
</code></pre>
<h3 data-id="heading-11">7. Dockerize åº”ç”¨</h3>
<p>åˆ›å»ºä¸€ä¸ªDockerfileæ¥æ‰“åŒ…åº”ç”¨ç¨‹åºã€‚</p>
<h4 data-id="heading-12">Dockerfile</h4>
<pre><code class="hljs language-Dockerfile" lang="Dockerfile"># ä½¿ç”¨å®˜æ–¹çš„OpenJDKé•œåƒä½œä¸ºåŸºç¡€é•œåƒ
FROM openjdk:11-jre-slim

# è®¾ç½®å·¥ä½œç›®å½•
WORKDIR /app

# å°†æ„å»ºçš„JARæ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨ä¸­
COPY target/myapp-0.0.1-SNAPSHOT.jar app.jar

# æš´éœ²åº”ç”¨è¿è¡Œçš„ç«¯å£
EXPOSE 8080

# å¯åŠ¨åº”ç”¨ç¨‹åº
ENTRYPOINT ["java", "-jar", "app.jar"]
</code></pre>
<h3 data-id="heading-13">8. ä½¿ç”¨Docker Composeé…ç½®å¤šå®¹å™¨åº”ç”¨</h3>
<p>åˆ›å»ºä¸€ä¸ª<code>docker-compose.yml</code>æ–‡ä»¶æ¥å®šä¹‰åº”ç”¨å®¹å™¨å’Œæ•°æ®åº“å®¹å™¨ã€‚</p>
<h4 data-id="heading-14">docker-compose.yml</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3.8'</span>
<span class="hljs-attr">services:</span>
  <span class="hljs-attr">app:</span>
    <span class="hljs-attr">build:</span> <span class="hljs-string">.</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"8080:8080"</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">SPRING_DATASOURCE_URL=jdbc:mysql://db:3306/mydatabase</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">SPRING_DATASOURCE_USERNAME=root</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">SPRING_DATASOURCE_PASSWORD=rootpassword</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">db</span>

  <span class="hljs-attr">db:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">mysql:8.0</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">MYSQL_ROOT_PASSWORD:</span> <span class="hljs-string">rootpassword</span>
      <span class="hljs-attr">MYSQL_DATABASE:</span> <span class="hljs-string">mydatabase</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"3306:3306"</span>
</code></pre>
<h3 data-id="heading-15">9. æ„å»ºå’Œè¿è¡Œå®¹å™¨</h3>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ„å»ºDockeré•œåƒå¹¶å¯åŠ¨å®¹å™¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ„å»ºåº”ç”¨ç¨‹åºçš„jaræ–‡ä»¶</span>
mvn clean package

<span class="hljs-comment"># æ„å»ºDockeré•œåƒå¹¶å¯åŠ¨å®¹å™¨</span>
docker-compose up --build
</code></pre>
<h3 data-id="heading-16">æ€»ç»“</h3>
<p>é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•åœ¨å®¹å™¨åŒ–ç¯å¢ƒä¸­ä½¿ç”¨Hibernateï¼Œä»é…ç½®é¡¹ç›®ä¾èµ–ã€è®¾ç½®æ•°æ®æºã€å®šä¹‰å®ä½“ç±»ã€åˆ›å»ºDAOå±‚å’ŒæœåŠ¡å±‚ï¼Œå¹¶ç¼–å†™RESTful APIæ§åˆ¶å™¨ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨Dockerå’ŒDocker Composeæ¥å®¹å™¨åŒ–Spring Bootåº”ç”¨ç¨‹åºï¼Œå¹¶ä¸MySQLæ•°æ®åº“è¿›è¡Œäº¤äº’ã€‚è¿™æ ·ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥åœ¨å®¹å™¨åŒ–ç¯å¢ƒä¸­é«˜æ•ˆè¿è¡Œï¼Œå¹¶åˆ©ç”¨Hibernateè¿›è¡Œæ•°æ®åº“æ“ä½œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GDAL é¥æ„Ÿå½±åƒæ•°æ®è¯»å–-plus]]></title>    <link>https://juejin.cn/post/7599708108622020659</link>    <guid>https://juejin.cn/post/7599708108622020659</guid>    <pubDate>2026-01-27T11:51:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599708108622020659" data-draft-id="7599835610406256686" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GDAL é¥æ„Ÿå½±åƒæ•°æ®è¯»å–-plus"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-27T11:51:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="GISä¹‹è·¯"/> <meta itemprop="url" content="https://juejin.cn/user/4346787284915481"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GDAL é¥æ„Ÿå½±åƒæ•°æ®è¯»å–-plus
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4346787284915481/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    GISä¹‹è·¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T11:51:40.000Z" title="Tue Jan 27 2026 11:51:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">^Â å…³æ³¨æˆ‘ï¼Œå¸¦ä½ ä¸€èµ·å­¦GISÂ ^</h2>
<h2 data-id="heading-1">å‰è¨€</h2>
<blockquote>
<p>â</p>
<p>é¥æ„Ÿå½±åƒæ•°æ®ä½œä¸ºGISçš„é‡è¦æ•°æ®æºï¼Œåœ¨GISå¼€å‘ä¸­å…·æœ‰é‡è¦æ„ä¹‰ã€‚åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œéœ€è¦ç†Ÿç»ƒæŒæ¡GDALè¯»å–æ …æ ¼æ•°æ®çš„æ–¹å¼æ–¹æ³•ã€‚</p>
</blockquote>
<p>ç”±äºæœ¬æ–‡ç”±ä¸€äº›å‰ç½®çŸ¥è¯†ï¼Œåœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œéœ€è¦ä½ æŒæ¡ä¸€å®šçš„<code>Python</code>å¼€å‘åŸºç¡€å’Œ<code>GDAL</code>çš„åŸºæœ¬æ¦‚å¿µã€‚åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­è®²è§£äº†å¦‚ä½•ä½¿ç”¨<code>GDAL</code>æˆ–è€…<code>ogr2ogr</code>å·¥å…·å°†<code>txt</code>ä»¥åŠ<code>csv</code>æ–‡æœ¬æ•°æ®è½¬æ¢ä¸º<code>Shp</code>æ ¼å¼ï¼Œå¯ä»¥ä½œä¸ºåŸºç¡€å…¥é—¨å­¦ä¹ ã€‚</p>
<p><code>GDAL</code>ç³»åˆ—å¼€å§‹ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« å·²ç»è®²è§£è¿‡å¦‚ä½•ä½¿ç”¨**<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0mOzE-h_Bv79tAw_Eb3L5Q" target="_blank" title="https://mp.weixin.qq.com/s/0mOzE-h_Bv79tAw_Eb3L5Q" ref="nofollow noopener noreferrer">GDALè¯»å–é¥æ„Ÿæ•°æ®</a>**ï¼Œä½†æ˜¯å†…å®¹ä¸å¤ªç²¾ç¡®å’Œå®Œæ•´ï¼Œæ‰€ä»¥æ‰æœ‰äº†ç°åœ¨è¿™ç¯‡æ–‡ç« ï¼Œå±äº<code>GDAL</code>è¯»å–é¥æ„Ÿå½±åƒæ•°æ®çš„<code>plus</code>ç‰ˆæœ¬ã€‚</p>
<p>æœ¬ç¯‡æ•™ç¨‹åœ¨ä¹‹å‰ä¸€ç³»åˆ—æ–‡ç« çš„åŸºç¡€ä¸Šè®²è§£å¦‚ä½•ä½¿ç”¨<strong>GDAL å®ç°é¥æ„Ÿå½±åƒæ•°æ®è¯»å–-plus</strong>ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FQtb_BJw91nKrFMeoa7WcxA" target="_blank" title="https://mp.weixin.qq.com/s/Qtb_BJw91nKrFMeoa7WcxA" ref="nofollow noopener noreferrer">GDAL ç®€ä»‹</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FFLWfZItLj24JYicQEX-PbQ" target="_blank" title="https://mp.weixin.qq.com/s/FLWfZItLj24JYicQEX-PbQ" ref="nofollow noopener noreferrer">GDAL ä¸‹è½½å®‰è£…</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fu0539e3CM2q4Y3MbMxxZKQ" target="_blank" title="https://mp.weixin.qq.com/s/u0539e3CM2q4Y3MbMxxZKQ" ref="nofollow noopener noreferrer">GDAL å¼€å‘èµ·æ­¥</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F0DGoC0oFHizJbweBnEvI-g" target="_blank" title="https://mp.weixin.qq.com/s/0DGoC0oFHizJbweBnEvI-g" ref="nofollow noopener noreferrer">GDAL å®ç° GIS æ•°æ®è¯»å–è½¬æ¢ï¼ˆå…¨ï¼‰</a></li>
</ul>
<p>å¦‚æœä½ è¿˜æ²¡æœ‰çœ‹è¿‡ï¼Œå»ºè®®ä»ä»¥ä¸Šå†…å®¹å¼€å§‹ã€‚</p>
<h2 data-id="heading-2">1. å¼€å‘ç¯å¢ƒ</h2>
<p>æœ¬æ–‡ä½¿ç”¨å¦‚ä¸‹å¼€å‘ç¯å¢ƒï¼Œä»¥ä¾›å‚è€ƒã€‚</p>
<p>æ—¶é—´ï¼š<code>2026å¹´</code></p>
<p>ç³»ç»Ÿï¼š<code>Windows 11</code></p>
<p>Pythonï¼š<code>3.11.11</code></p>
<p>GDALï¼š<code>3.11.1</code></p>
<h2 data-id="heading-3">2. æ•°æ®å‡†å¤‡</h2>
<p>ä¿—è¯è¯´å·§å¦‡éš¾ä¸ºæ— ç±³ä¹‹ç‚Šï¼Œæ•°æ®å°±æ˜¯è½¯ä»¶çš„åŸºçŸ³ï¼Œæ²¡æœ‰æ•°æ®ï¼Œå†ç¾å¥½çš„è®¾æƒ³éƒ½æ˜¯ç©ºä¸­æ¥¼é˜ã€‚å› æ­¤ï¼Œç¬¬ä¸€æ­¥éœ€è¦ä¸‹è½½é¥æ„Ÿå½±åƒæ•°æ®ã€‚</p>
<p>ä½†æ˜¯ï¼Œå½±åƒæ•°æ®åœ¨å“ªé‡Œä¸‹è½½å‘¢ï¼Ÿåˆ«ç€æ€¥ï¼Œæœ¬æ–‡éƒ½ç»™ä½ æ•´ç†å¥½äº†ã€‚</p>
<p>æ•°æ®ä¸‹è½½å¯å‚è€ƒæ–‡ç« ï¼š<strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F5c_J7f0xkUXEv7_z0eNweQ" target="_blank" title="https://mp.weixin.qq.com/s/5c_J7f0xkUXEv7_z0eNweQ" ref="nofollow noopener noreferrer">GIS å½±åƒæ•°æ®æºä»‹ç»</a></strong></p>
<p>å¦‚ä¸‹ï¼Œè¿™æ˜¯æˆ‘åœ¨ã€åœ°ç†ç©ºé—´æ•°æ®äº‘ã€‘å¹³å°ä¸‹è½½çš„<code>landsat8</code>é¥æ„Ÿå½±åƒã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be20492659b1445b856e9ec0813c92bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119500&amp;x-signature=h3%2BhaJ%2BfL5LgmOT%2Bc24J00m9rWY%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">3. æŸ¥çœ‹æ•°æ®æ”¯æŒæ ¼å¼</h2>
<p><code>GDAL</code>æ”¯æŒçš„æ …æ ¼æ•°æ®æ ¼å¼åŒ…æ‹¬å¸¸è§å’Œéå¸¸è§çš„è¶³è¶³æœ‰å‡ ç™¾ç§ï¼Œå¯è°“æ˜¯éå¸¸ä¹‹å¤šã€‚</p>
<p><strong>ï¼ˆä¸€ï¼‰å¸¸è§æ•°æ®æ ¼å¼</strong></p>
<ul>
<li>CADï¼šAutoCAD DWG raster layer</li>
<li>COGï¼šCloud Optimized GeoTIFF generator</li>
<li>JPGï¼šJPEG JFIF File Format</li>
<li>PNGï¼šPortable Network Graphics</li>
<li>GTiffï¼šGeoTIFF File Format</li>
<li>WEBPï¼šWEBP</li>
<li>...........</li>
</ul>
<p><strong>ï¼ˆäºŒï¼‰éå¸¸è§æ•°æ®æ ¼å¼</strong></p>
<ul>
<li>ACE2ï¼šACE2</li>
<li>BAGï¼šBathymetry Attributed Grid</li>
<li>COASPï¼šDRDC COASP SAR Processor Raster</li>
<li>DDSï¼šDirectDraw Surface</li>
<li>HEIFï¼šISO/IEC 23008-12 High Efficiency Image File Format</li>
<li>NTv2ï¼šNTv2 Datum Grid Shift</li>
<li>...........</li>
</ul>
<p>å¯ä»¥é€šè¿‡ä»¥ä¸‹åœ°å€æŸ¥çœ‹<code>GDAL</code>æ”¯æŒçš„æ …æ ¼æ•°æ®æ ¼å¼ã€‚</p>
<p><code>https://gdal.org/en/stable/drivers/raster/</code><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3b776c35a66f42f4ac5c1abb94972c23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119500&amp;x-signature=1T2nLnMeMuHQMq8m4uPkioJUtvY%3D" alt="" loading="lazy"/></p>
<p>ä¸ºäº†æŸ¥çœ‹ä½ ä½¿ç”¨çš„<code>GDAL</code>æ”¯æŒå“ªäº›æ•°æ®æ ¼å¼ï¼Œå¯ä»¥é€šè¿‡å·¥å…·<code>gdalinfo</code>è¿›è¡ŒæŸ¥çœ‹ã€‚</p>
<p>å¦‚æœä½ ä¸çŸ¥é“<code>gdalinfo</code>å·¥å…·å®‰è£…åœ¨å“ªé‡Œçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨æœç´¢å·¥å…·<code>everything</code>è¿›è¡ŒæŸ¥æ‰¾ã€‚</p>
<p>å¦‚æœæ‰¾åˆ°<code>gdalinfo.exe</code>ç¨‹åºçš„è¯ï¼Œåœ¨å‘½ä»¤è¡Œçª—å£ä¸­æ‰§è¡Œä»¥ä¸‹è¯­å¥ã€‚</p>
<pre><code class="hljs language-css" lang="css">gdalinfo <span class="hljs-attr">--formats</span>
</code></pre>
<p>å¦‚æœæ‰¾ä¸åˆ°<code>gdalinfo.exe</code>ç¨‹åºï¼Œå¯ä»¥å¯»æ‰¾<code>gdalinfo.py</code>è„šæœ¬ï¼Œåœ¨å‘½ä»¤è¡Œçª—å£ä¸­æ‰§è¡Œä»¥ä¸‹è¯­å¥ã€‚</p>
<pre><code class="hljs language-css" lang="css">python gdalinfo<span class="hljs-selector-class">.py</span> <span class="hljs-attr">--formats</span>
</code></pre>
<p>å¦‚ä¸‹æ˜¯æˆ‘çš„æœ¬åœ°è¾“å‡ºç»“æœã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70b0eea3230a47eaa17669af5a0ec71e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119500&amp;x-signature=IYeUL0%2BIBpca%2F1hvwOgaI1MIrsc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">4. å¯¼å…¥ä¾èµ–</h2>
<p>ç›´æ¥ä½¿ç”¨<code>from osgeo import gdal</code>è¯­å¥å¯¼å…¥<code>GDAL</code>æ•°æ®é©±åŠ¨ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">from</span> osgeo <span class="hljs-keyword">import</span> gdal
</code></pre>
<h2 data-id="heading-6">5. æ³¨å†Œæ•°æ®é©±åŠ¨</h2>
<p>åœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦æ³¨å†Œé©±åŠ¨ï¼Œè€Œæ•°æ®é©±åŠ¨çš„åç§°å¯åœ¨<code>https://gdal.org/en/stable/drivers/raster/</code>è¿›è¡ŒæŸ¥æ‰¾ã€‚</p>
<p>ä½¿ç”¨<code>AllRegister</code>æ–¹æ³•ä¸€æ¬¡æ€§æ³¨å†Œæ‰€æœ‰æ•°æ®é©±åŠ¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ³¨å†Œæ•°æ®é©±åŠ¨</span>
gdal.AllRegister()
</code></pre>
<p>ä¹Ÿå¯ä»¥é€šè¿‡<code>GetDriverByName</code>æ–¹æ³•è·å–é©±åŠ¨åç§°è¿›è¡Œå•ä¸ªæ³¨å†Œã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ ¹æ®é©±åŠ¨åç§°è¿›è¡Œæ³¨å†Œ</span>
<span class="hljs-attr">driver</span> = gdal.GetDriverByName(<span class="hljs-string">"GTiff"</span>)
driver.Register()
</code></pre>
<h2 data-id="heading-7">6. è¯»å–æ …æ ¼æ•°æ®é›†</h2>
<p>åœ¨æ•°æ®é©±åŠ¨æ³¨å†Œä¹‹åï¼Œç›´æ¥ä½¿ç”¨<code>Open</code>æ–¹æ³•æ‰“å¼€æ•°æ®æºï¼Œè¯¥æ–¹æ³•å°†ä¼šè¿”å›ä¸€ä¸ªæ …æ ¼æ …æ ¼æ•°æ®é›†ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ ¹æ®é©±åŠ¨åç§°è¿›è¡Œæ³¨å†Œ</span>
driver = gdal.GetDriverByName(<span class="hljs-string">"GTiff"</span>)

<span class="hljs-keyword">if</span>Â driver <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">"å½“å‰ç‰ˆæœ¬çš„gdalä¸æ”¯æŒæ­¤æ …æ ¼æ•°æ®æ ¼å¼ï¼ï¼"</span>)

driver.Register()

tiff_image =Â <span class="hljs-string">"file.tif"</span>

datasource = gdal.Open(tiff_image,<span class="hljs-number">0</span>)
<span class="hljs-keyword">if</span>Â datasource <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:
Â  Â Â <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{tiff_image}</span> æ•°æ®æºæ‰“å¼€å¤±è´¥ï¼Œè¯·æ£€æŸ¥"</span>)
</code></pre>
<h3 data-id="heading-8">6.1. è¯»å–æ …æ ¼ä¿¡æ¯</h3>
<p>åœ¨æ•°æ®æºä¸­ï¼Œæ …æ ¼æ•°æ®æŒ‰ç…§è¡Œå’Œåˆ—å­˜å‚¨æ …æ ¼ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨æ•°æ®æºå±æ€§è¯»å–æ …æ ¼æ•°æ®çš„æ€»è¡Œæ•°ã€æ€»åˆ—æ•°ä»¥åŠæ³¢æ®µæ•°ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è¯»å–è¡Œåˆ—ä»¥åŠæ³¢æ®µæ•°æ®</span>
<span class="hljs-attr">rows</span> = datasource.RasterYSize
<span class="hljs-attr">cols</span> = datasource.RasterXSize
<span class="hljs-attr">bands</span> = datasource.RasterCount
</code></pre>
<h3 data-id="heading-9">6.2. è¯»å–åœ°ç†ä¿¡æ¯</h3>
<p>ä½¿ç”¨æ•°æ®æºæ–¹æ³•<code>GetGeoTransform</code>Â è·å–æ …æ ¼åæ ‡æ•°æ®ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«6ä¸ªå…ƒç´ çš„å…ƒç»„æ•°æ®ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/97ff733c81d44dc288f30d83bea5a305~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119500&amp;x-signature=V1zgEN5%2Bhm3Xxq9klpSmgTAz7mI%3D" alt="" loading="lazy"/>åœ¨<code>GeoTransform</code>ä¸­ï¼Œå…·æœ‰å·¦ä¸Šè§’èµ·ç‚¹åæ ‡ã€è¡Œå’Œåˆ—åˆ†è¾¨ç‡ä»¥åŠæ—‹è½¬å‚æ•°ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"># è·å–åœ°ç†ä¿¡æ¯
geotransform = datasource<span class="hljs-selector-class">.GetGeoTransform</span>()
origion_x = geotransform<span class="hljs-selector-attr">[0]</span>
origion_y = geotransform<span class="hljs-selector-attr">[3]</span>
pixel_width = geotransform<span class="hljs-selector-attr">[1]</span>
pixel_height = geotransform<span class="hljs-selector-attr">[5]</span>

"""
geotransform<span class="hljs-selector-attr">[0]</span> <span class="hljs-comment">/* top left x */</span>
geotransform<span class="hljs-selector-attr">[1]</span> <span class="hljs-comment">/* w-e pixel resolution */</span>
geotransform<span class="hljs-selector-attr">[2]</span> <span class="hljs-comment">/* rotation, 0 if image is "north up" */</span>
geotransform<span class="hljs-selector-attr">[3]</span> <span class="hljs-comment">/* top left y */</span>
geotransform<span class="hljs-selector-attr">[4]</span> <span class="hljs-comment">/* rotation, 0 if image is "north up" */</span>
geotransform<span class="hljs-selector-attr">[5]</span> <span class="hljs-comment">/* n-s pixel resolution *
"""
</span></code></pre>
<p>åæ ‡ä¿¡æ¯è¾“å‡ºç»“æœå¦‚ä¸‹ã€‚<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b014898938c24c4e9746e8e92590497e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119500&amp;x-signature=LpiUmshnc1AFJQ%2FCD3nds4HXZ6w%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">6.3. è®¡ç®—åƒç´ åç§»</h3>
<p>ä½¿ç”¨å½“å‰ç‚¹çš„<code>x</code>åæ ‡å‡å»èµ·ç‚¹<code>x</code>åæ ‡ï¼Œå†é™¤ä»¥åƒç´ å®½åº¦ï¼Œå¯å¾—åˆ°ç›®æ ‡ç‚¹åœ¨xæ–¹å‘ä¸Šçš„åƒç´ åç§»é‡ï¼›åŒç†ï¼Œä½¿ç”¨<code>y</code>åæ ‡å‡å»èµ·ç‚¹<code>y</code>åæ ‡ï¼Œå†é™¤ä»¥åƒç´ é«˜åº¦ï¼Œå¯å¾—åˆ°ç›®æ ‡ç‚¹å†<code>y</code>æ–¹å‘ä¸Šçš„åƒç´ åç§»é‡ã€‚</p>
<p>ä½¿ç”¨ä»¥ä¸‹ä»£ç å°†åœ°ç†åæ ‡è½¬æ¢ä¸ºåƒç´ åæ ‡ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è®¡ç®—åæ ‡åç§»</span>
<span class="hljs-attr">x_offset</span> = int((x-origion_x)/pixel_width)
<span class="hljs-attr">y_offset</span> = int((y-origion_y)/pixel_height)
</code></pre>
<h3 data-id="heading-11">6.4. è·å–å•ä¸ªåƒç´ å€¼</h3>
<p>é€šè¿‡<code>GetRasterBand</code>æ–¹æ³•è·å–ç›®æ ‡æ³¢æ®µæ•°æ®ï¼Œè¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ªç´¢å¼•å‚æ•°ï¼Œç”¨äºæŒ‡å®šè¯»å–æ³¢æ®µã€‚ä½¿ç”¨Â <code>ReadAsArray</code>æ–¹æ³•å°†æ•°æ®è½¬æ¢ä¸ºäºŒç»´æ•°ç»„ã€‚<code>data = band.ReadAsArray(xOffset,yOffset,1,1)</code></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è¯»å–æ³¢æ®µæ•°æ®</span>
<span class="hljs-attr">band</span> = datasource.GetRasterBand(<span class="hljs-number">1</span>)
<span class="hljs-attr">data</span> = band.ReadAsArray()
</code></pre>
<p>ç„¶åéœ€è¦æŒ‡å®šåç§»é‡è·å–ç‰¹å®šä½ç½®çš„å€¼ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">value</span> = data[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>]
</code></pre>
<h3 data-id="heading-12">6.5. è¯»å–æ•´ä¸ªå½±åƒæ•°æ®</h3>
<p>å°†åç§»é‡è®¾ç½®ä¸º0ï¼Œå¹¶ä¸”å°†æ …æ ¼æ•°æ®çš„è¡Œå’Œåˆ—æ•°ä¼ é€’ç»™<code>ReadAsArray</code>æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">data</span> = band.ReadAsArray(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, cols, rows)
</code></pre>
<p>ä½¿ç”¨<code>[yoff,xoff]</code>è¯»å–å•ä¸ªåƒç´ å€¼ï¼Œæ³¨æ„ï¼Œæ˜¯<code>[row,col]</code>ï¼Œä¸æ˜¯<code>[col,row]</code></p>
<p>è·å–ç¬¬åäº”åˆ—ï¼Œç¬¬åè¡Œåƒç´ å€¼ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è·å–ç¬¬åäº”åˆ—ï¼Œç¬¬åè¡Œåƒç´ å€¼</span>
<span class="hljs-attr">col_15_row_10</span> = data_all[<span class="hljs-number">9</span>,<span class="hljs-number">14</span>]
</code></pre>
<h2 data-id="heading-13">7. å†…å­˜ç®¡ç†</h2>
<p>åœ¨æ•°æ®è¯»å–å®Œæˆä¹‹åè®°å¾—å°†å˜é‡è®¾ç½®ä¸º<code>None</code>ï¼Œç‰¹åˆ«æ˜¯åœ¨è¯»å–å¤§å‹æ•°æ®çš„æ—¶å€™éå¸¸é‡è¦ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å…³é—­å†…å­˜</span>
<span class="hljs-attr">band</span> = None
<span class="hljs-attr">datasource</span> = None
</code></pre>
<p><strong>å›¾ç‰‡æ•ˆæœ</strong></p>
<hr/>
<p><strong><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c332e5c1346a4010a1b1ece64afb1597~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119500&amp;x-signature=Sv%2FbwrbOa83r437QOkQ2VJGciMU%3D" alt="" loading="lazy"/></strong></p>
<p><strong><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1431be31079498fb5e5b41dce892aa5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119500&amp;x-signature=KTt00dGTFgR3trOIPatoHeqdHpY%3D" alt="" loading="lazy"/></strong></p>
<blockquote>
<p>â</p>
<p>OpenLayersç¤ºä¾‹æ•°æ®ä¸‹è½½ï¼Œè¯·åœ¨å…¬ä¼—å·åå°å›å¤ï¼š<strong>vector</strong></p>
<p>å…¨å›½ä¿¡æ¯åŒ–å·¥ç¨‹å¸ˆï¼GIS åº”ç”¨æ°´å¹³è€ƒè¯•èµ„æ–™ï¼Œè¯·åœ¨å…¬ä¼—å·åå°å›å¤ï¼š<strong>GISè€ƒè¯•</strong></p>
</blockquote>
<blockquote>
<p>â</p>
<p><em><strong>GISä¹‹è·¯</strong></em> å…¬ä¼—å·å·²ç»æ¥å…¥äº†<strong>æ™ºèƒ½</strong> <strong>åŠ©æ‰‹</strong>ï¼Œå¯ä»¥åœ¨å¯¹è¯æ¡†è¿›è¡Œæé—®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æœç´¢å†å²æ–‡ç« è¿›è¡ŒæŸ¥çœ‹ã€‚</p>
</blockquote>
<p>éƒ½çœ‹åˆ°è¿™äº†ï¼Œä¸è¦å¿˜è®°<em><strong>ç‚¹èµã€æ”¶è—</strong></em> <strong>+</strong> <em><strong>å…³æ³¨</strong></em> å“¦ <strong>ï¼</strong></p>
<p>æœ¬å·ä¸å®šæ—¶æ›´æ–°æœ‰å…³Â <em><strong>GISå¼€å‘</strong></em> ç›¸å…³å†…å®¹ï¼Œ<em><strong>æ¬¢è¿å…³æ³¨Â <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19a4014b04844ebea8e3a53d9d0b7202~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119500&amp;x-signature=SG%2B8LyFJDAx3BIUefb0u0Wz8gr8%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc46c4494e664765a450adef1ca0edbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119500&amp;x-signature=dHhTxhaFzKpYQcorg%2BuLQn9ecl4%3D" alt="" loading="lazy"/></strong></em></p>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd3968df462e4da6b5fdaec041691110~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119500&amp;x-signature=hzE%2BQrbs51qyuasxkR1mu1kAQiI%3D" alt="" loading="lazy"/></p>
<p>Â  Â <img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0cb9d678bbe4eeeac9c546c6b950e1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgR0lT5LmL6Lev:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119500&amp;x-signature=KrC9vTQZ5F3s6s0jEsv%2BIij%2FeF4%3D" alt="" loading="lazy"/>Â </p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247487953%26idx%3D1%26sn%3D0b2d5aeefdb290583cf8cdd82f3c2077%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247487953&amp;idx=1&amp;sn=0b2d5aeefdb290583cf8cdd82f3c2077&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">GeoTools å¼€å‘åˆé›†ï¼ˆå…¨ï¼‰</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzkwOTEzNjI5NQ%3D%3D%26mid%3D2247487119%26idx%3D1%26sn%3Dc313efa84c27bf933ef2f2a47991ef2d%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzkwOTEzNjI5NQ==&amp;mid=2247487119&amp;idx=1&amp;sn=c313efa84c27bf933ef2f2a47991ef2d&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">OpenLayers å¼€å‘åˆé›†</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FfJD7rSK1sutJD7LAqK-u8g" target="_blank" title="https://mp.weixin.qq.com/s/fJD7rSK1sutJD7LAqK-u8g" ref="nofollow noopener noreferrer">åœ°å›¾æµ·æŠ¥ç”Ÿæˆé¡¹ç›®å®šä½æ–¹å¼ä¿®æ”¹</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fkcvmb5DcAonBGe6q3c_QQA" target="_blank" title="https://mp.weixin.qq.com/s/kcvmb5DcAonBGe6q3c_QQA" ref="nofollow noopener noreferrer">å…³äº PyQT5 å’Œ GDAL å¯¼å…¥é¡ºåºå¼•å‘ç¨‹åºå´©æºƒçš„è§£å†³è®°å½•</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FkzIGjj4yq4IDwHG3K92O4w" target="_blank" title="https://mp.weixin.qq.com/s/kzIGjj4yq4IDwHG3K92O4w" ref="nofollow noopener noreferrer">å…³äºæµè§ˆå™¨æ— æ³•è¿›å…¥æ–­ç‚¹çš„è§£å†³è®°å½•</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FcudouAht0prD1ZZrgP1cgA" target="_blank" title="https://mp.weixin.qq.com/s/cudouAht0prD1ZZrgP1cgA" ref="nofollow noopener noreferrer">GDAL å®ç°å½±åƒè£å‰ª</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FeOTtaQXdeB-hOO39GmBrtw" target="_blank" title="https://mp.weixin.qq.com/s/eOTtaQXdeB-hOO39GmBrtw" ref="nofollow noopener noreferrer">GDAL å®ç°å½±åƒåˆå¹¶</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FGynyIuYw2eRJ4y6gZ8oSLQ" target="_blank" title="https://mp.weixin.qq.com/s/GynyIuYw2eRJ4y6gZ8oSLQ" ref="nofollow noopener noreferrer">å°å°å£°è¯´ä¸€ä¸‹GDALçš„å®˜æ–¹APIæ¥å£</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FlEqKlTbHKzJ25XsIX6CBuw" target="_blank" title="https://mp.weixin.qq.com/s/lEqKlTbHKzJ25XsIX6CBuw" ref="nofollow noopener noreferrer">ã€Šäº‘å—çœåŠ å¿«æ„å»ºç°ä»£åŒ–äº§ä¸šä½“ç³»æ¨è¿›äº§ä¸šå¼ºçœå»ºè®¾è¡ŒåŠ¨è®¡åˆ’ã€‹å‘å¸ƒ</a><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F8ZDl_-gzCVWrvGAe-VNe8Q" target="_blank" title="https://mp.weixin.qq.com/s/8ZDl_-gzCVWrvGAe-VNe8Q" ref="nofollow noopener noreferrer">ArcGIS Pro æ·»åŠ åº•å›¾çš„æ–¹å¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FE9BrT9VzidvziCayXgRCQA" target="_blank" title="https://mp.weixin.qq.com/s/E9BrT9VzidvziCayXgRCQA" ref="nofollow noopener noreferrer">ä¸ºä»€ä¹ˆæ¯æ¬¡æ‰“å¼€ ArcGIS Pro é¡µé¢åŠ è½½éƒ½å¦‚æ­¤ç¼“æ…¢ï¼Ÿ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FutAlI_LUDTwMiHOxzu2hDw" target="_blank" title="https://mp.weixin.qq.com/s/utAlI_LUDTwMiHOxzu2hDw" ref="nofollow noopener noreferrer">ArcGIS æ³¢æ®µåˆæˆæ“ä½œ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FhBXfq6zRK9twSicMXw69jw" target="_blank" title="https://mp.weixin.qq.com/s/hBXfq6zRK9twSicMXw69jw" ref="nofollow noopener noreferrer">ArcGIS Pro å®ç°å½±åƒæ³¢æ®µåˆæˆ</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FJmv3J_bjbBG-4jB72zS3hw" target="_blank" title="https://mp.weixin.qq.com/s/Jmv3J_bjbBG-4jB72zS3hw" ref="nofollow noopener noreferrer">GDAL åˆ›å»ºçŸ¢é‡å›¾å±‚çš„ä¸¤ç§æ–¹å¼</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FwkHv2NnJfuPhtyjJcFLrEQ" target="_blank" title="https://mp.weixin.qq.com/s/wkHv2NnJfuPhtyjJcFLrEQ" ref="nofollow noopener noreferrer">GDAL å®ç°çŸ¢é‡æ•°æ®è½¬æ¢å¤„ç†ï¼ˆå…¨ï¼‰</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FMZIQ57Ka3NQfKFi9AuEQEg" target="_blank" title="https://mp.weixin.qq.com/s/MZIQ57Ka3NQfKFi9AuEQEg" ref="nofollow noopener noreferrer">GDAL å®ç°æŠ•å½±è½¬æ¢</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ç»™è‡ªå·±éƒ¨ç½²äº†ä¸€ä¸ª 7Ã—24 å°æ—¶çš„ AI ç§äººåŠ©ç†ï¼ˆClawdbot å®Œæ•´éƒ¨ç½²æŒ‡å—ï¼‰]]></title>    <link>https://juejin.cn/post/7599634796584386566</link>    <guid>https://juejin.cn/post/7599634796584386566</guid>    <pubDate>2026-01-27T11:52:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599634796584386566" data-draft-id="7599634796584353798" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ç»™è‡ªå·±éƒ¨ç½²äº†ä¸€ä¸ª 7Ã—24 å°æ—¶çš„ AI ç§äººåŠ©ç†ï¼ˆClawdbot å®Œæ•´éƒ¨ç½²æŒ‡å—ï¼‰"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,AIGC,Agent"/> <meta itemprop="datePublished" content="2026-01-27T11:52:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­Ÿå¥AIç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/4212984287073895"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ç»™è‡ªå·±éƒ¨ç½²äº†ä¸€ä¸ª 7Ã—24 å°æ—¶çš„ AI ç§äººåŠ©ç†ï¼ˆClawdbot å®Œæ•´éƒ¨ç½²æŒ‡å—ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984287073895/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­Ÿå¥AIç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T11:52:24.000Z" title="Tue Jan 27 2026 11:52:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å­Ÿå¥ã€‚</p>
<p>è¿™ä¸¤å¤©æˆ‘ä¸€ç›´åœ¨æŠ˜è…¾ä¸€ä¸ªä¸œè¥¿ï¼š<strong>Clawdbot</strong>â€”â€”ä¸€ä¸ªå¯ä»¥éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„ AI ç§äººåŠ©ç†ã€‚</p>
<p>æŠ˜è…¾å®Œä¹‹åï¼Œæˆ‘åªæƒ³è¯´ï¼šè¿™ç©æ„å„¿å¤ªé¦™äº†ã€‚</p>
<p>å®ƒä¸æ˜¯æ™®é€šçš„èŠå¤©æœºå™¨äººï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>çœŸæ­£èƒ½å¸®ä½ å¹²æ´»çš„ AI åŠ©æ‰‹</strong>ï¼šèƒ½æ“ä½œæœåŠ¡å™¨ã€èƒ½æ”¶å‘é‚®ä»¶ã€èƒ½æœç´¢æ¨ç‰¹ã€èƒ½è®°ä½ä½ è¯´è¿‡çš„æ¯ä¸€å¥è¯ã€‚</p>
<p>å…ˆè®©æˆ‘çš„åŠ©ç†ã€Œå°å¢¨ã€è‡ªæˆ‘ä»‹ç»ä¸€ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/650831fcd0f54de8b8c44d3da1f557f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119544&amp;x-signature=6WvBRdMlqH8thOxXpJRrzNHV5Nc%3D" alt="" loading="lazy"/></p>
<p>æ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯æ€»ç»“å¾—ç›¸å½“å…¨é¢ï¼Ÿè¿™æ™ºèƒ½åŒ–ç¨‹åº¦ï¼Œæˆ‘å·²ç»ä¸èƒ½æŠŠå®ƒå½“ç®€å•çš„ AI æ¥çœ‹å¾…äº†ã€‚</p>
<p>ä¸€æ—¦éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œå°±æ˜¯ <strong>7Ã—24 å°æ—¶å¾…å‘½</strong>ï¼Œéšæ—¶å“åº”ã€‚</p>
<p>ä¸‹é¢æˆ‘æŠŠå®Œæ•´çš„éƒ¨ç½²æµç¨‹åˆ†äº«ç»™å¤§å®¶ã€‚</p>
<h2 data-id="heading-0">00 å‰ç½®å‡†å¤‡ï¼šä½ éœ€è¦ä¸€å°æœåŠ¡å™¨</h2>
<p>Clawdbot æœ€è¿‘ç«èµ·æ¥ï¼Œæ˜¯å› ä¸ºæœ‰äººæŠŠå®ƒè£…åˆ°äº† Mac Mini ä¸Šï¼Œç›´æ¥æ“æ§ macOSã€‚</p>
<p><strong>ä½†æˆ‘ä¸å¤ªå»ºè®®ä¸“é—¨ä¸ºè¿™ä¸ªä¹°ä¸€å° Mac Mini</strong>ï¼ˆåœŸè±ªé™¤å¤–ï¼‰ã€‚</p>
<p>åŸå› å¾ˆç®€å•ï¼š</p>
<p>- æœåŠ¡å™¨å·²ç»èƒ½å‘æŒ¥å®ƒ <strong>90% çš„èƒ½åŠ›</strong></p>
<p>- Mac ä¸Šçš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å…¶å®ä¹Ÿä¸€èˆ¬</p>
<p>- æœåŠ¡å™¨æ›´ç¨³å®šï¼Œ7Ã—24 ä¸é—´æ–­</p>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥éƒ¨ç½²åˆ°è‡ªå·±ç”µè„‘ä¸Šï¼Œä½†æœ‰å‡ ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>
<p>Windows æ”¯æŒä¸å¤Ÿå¥½</p>
</li>
<li>
<p>ç”µè„‘ä¸ä¼š 24 å°æ—¶å¼€ç€</p>
</li>
<li>
<p><strong>å®‰å…¨é£é™©</strong>ï¼šå®ƒçš„æƒé™è¦æ±‚å¾ˆé«˜ï¼Œå¯èƒ½è¯¯æ“ä½œ</p>
</li>
</ul>
<p>æˆ‘ç”¨çš„æ˜¯ Hetzner çš„æœåŠ¡å™¨ï¼Œ2 æ ¸ 4Gï¼Œä¸€ä¸ªæœˆ <strong>5 åˆ€</strong>ï¼Œéå¸¸ä¾¿å®œï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.hetzner.com%2F" target="_blank" title="https://www.hetzner.com/" ref="nofollow noopener noreferrer">www.hetzner.com/</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/528c765b268c4e70a1caae2bf0b39df7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119544&amp;x-signature=TUAHr7rageu3gKX5JoKlrt%2BArzw%3D" alt="" loading="lazy"/></p>
<p>é»˜è®¤æ˜¯ Ubuntu ç³»ç»Ÿï¼Œå¾ˆé€‚åˆéƒ¨ç½² Clawdbotã€‚</p>
<h2 data-id="heading-1">01 å®‰è£… Clawdbotï¼ˆ3 æ¡å‘½ä»¤æå®šï¼‰</h2>
<p><strong>ç¬¬ä¸€æ­¥ï¼šå®‰è£… Node.js 22+</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">curl -fsSL https:<span class="hljs-comment">//deb.nodesource.com/setup_22.x | sudo -E bash -</span>
sudo apt-get install -y nodejs
</code></pre>
<p><strong>ç¬¬äºŒæ­¥ï¼šå…¨å±€å®‰è£… Clawdbot</strong></p>
<pre><code class="hljs language-css" lang="css">sudo npm install -g clawdbot<span class="hljs-keyword">@latest</span>
</code></pre>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œå¼•å¯¼å‘å¯¼</strong></p>
<pre><code class="hljs language-css" lang="css">clawdbot onboard <span class="hljs-attr">--install-daemon</span>
</code></pre>
<p>å‘å¯¼ä¼šå¸®ä½ é…ç½®ï¼š</p>
<p>â€¢ Anthropic/OpenAI ç­‰æ¨¡å‹ API Key</p>
<p>â€¢ Telegram/WhatsApp ç­‰èŠå¤©æ¸ é“</p>
<p>â€¢ å·¥ä½œç›®å½•ï¼ˆé»˜è®¤ /root/clawdï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ff7da4b3cdb4869afd00ee90622d270~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119544&amp;x-signature=73IcpirWo5qghuf7AFZ8U1yozxs%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>å°æç¤ºï¼šskillsã€hooks ç­‰éƒ½å¯ä»¥å…ˆè·³è¿‡ï¼Œåç»­æŒ‰éœ€å†åŠ ã€‚</p>
</blockquote>
<p>é…ç½®å®Œæˆåï¼Œå¯åŠ¨æœåŠ¡ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">clawdbot gateway <span class="hljs-keyword">start</span>
</code></pre>
<p>å¦‚æœæš‚æ—¶ä¸æ¥æ¸ é“ï¼Œå¯ä»¥ç›´æ¥ç”¨ç»ˆç«¯å¯¹è¯ï¼š</p>
<pre><code class="hljs">clawdbot tui
</code></pre>
<h2 data-id="heading-2">02 æ¥å…¥ Telegramï¼ˆè®©æ‰‹æœºéšæ—¶èƒ½æ‰¾åˆ°å®ƒï¼‰</h2>
<p>è¿™æ˜¯æˆ‘æœ€æ¨èçš„ä½¿ç”¨æ–¹å¼â€”â€”ç”¨ Telegram <strong>å’Œ AI å¯¹è¯</strong>ï¼Œæ‰‹æœºç”µè„‘éƒ½èƒ½ç”¨ã€‚</p>
<p>æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p>æ‰“å¼€ Telegramï¼Œæœç´¢ @BotFather</p>
</li>
<li>
<p>å‘é€ /newbotï¼ŒæŒ‰æç¤ºèµ·åï¼ˆç”¨æˆ·åå¿…é¡»ä»¥ bot ç»“å°¾ï¼‰</p>
</li>
<li>
<p>å¤åˆ¶ç”Ÿæˆçš„ tokenï¼ˆç±»ä¼¼ 123456789:ABCdef...)</p>
</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be440e542a6649e89e8ff1251128c656~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119544&amp;x-signature=6E7R7yWGro3uI%2FFCAP6XRTEp20s%3D" alt="" loading="lazy"/></p>
<p>æŠŠ token å‘Šè¯‰ AIï¼Œå®ƒä¼šè‡ªåŠ¨å†™å…¥é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json">  <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"channels"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"telegram"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"botToken"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ çš„token"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"dmPolicy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pairing"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
</code></pre>
<p>ç„¶ååœ¨ Telegram é‡Œè·å–é…å¯¹ç ï¼Œå‘ç»™ AIï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa4c97a9b2fa4b279ab3ba659d12924a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119544&amp;x-signature=v7vJHRKTpgxp%2FaiTyPpQEeQ28b0%3D" alt="" loading="lazy"/></p>
<p>AI ä¼šå¸®ä½ æ‰§è¡Œé…å¯¹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"> clawdbot pairing approve telegram <span class="hljs-tag">&lt;<span class="hljs-name">é…å¯¹ç </span>&gt;</span>
</code></pre>
<p>å®Œæˆï¼ç°åœ¨å¯ä»¥åœ¨ Telegram é‡Œæ­£å¸¸èŠå¤©äº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0cecbc685b841ab93f3ab5a235c11e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119544&amp;x-signature=Lb7Mkg0dZ%2Flo%2FNWdzURXmQuTrR4%3D" alt="" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å°±æ˜¯ç»™å®ƒèµ·åã€å‘Šè¯‰å®ƒä½ çš„æ•…äº‹ã€è®©å®ƒäº†è§£ä½ ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40a5b97c9d0d45c9b4962999effa5527~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119544&amp;x-signature=dpnAUCQOSSn2knPb2NF2z5OyDao%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">03 æ¥å…¥ Gmailï¼ˆè®© AI å¸®ä½ å¤„ç†é‚®ä»¶ï¼‰</h2>
<p>è¿™æ˜¯æˆ‘ç›®å‰<strong>æœ€æƒ³è¦çš„åŠŸèƒ½</strong>â€”â€”ç”¨æ‰‹æœºå›æµ·å¤–é‚®ä»¶å¤ªç—›è‹¦äº†ã€‚</p>
<p>æˆ‘ç›´æ¥è®©å®ƒå¸®æˆ‘å®Œæˆ Gmail æ¥å…¥ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e85ef2589d648b7967b66ae79400db9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119544&amp;x-signature=B45YAs6IdFX%2FoPAPoKo%2BZoF7Qsg%3D" alt="" loading="lazy"/></p>
<p>ç°åœ¨å®ƒå¯ä»¥å¸®æˆ‘ï¼š</p>
<p>â€¢ æ•´ç†æ”¶ä»¶ç®±</p>
<p>â€¢ ç­›é€‰é‡è¦é‚®ä»¶</p>
<p>â€¢ èµ·è‰å›å¤</p>
<h2 data-id="heading-4">04 æ¥å…¥ Grok æœç´¢ï¼ˆæ¯” Brave å¼ºå¤ªå¤šï¼‰</h2>
<p>å®˜æ–¹æ¨èç”¨ Brave API åšæœç´¢ï¼Œä½†ç¤¾åŒºçš„å…±è¯†æ˜¯ï¼š<strong>Grok 4.1 æ•ˆæœæ›´å¥½ã€‚</strong></p>
<p>è€Œä¸” Grok è¿˜èƒ½æœ Twitterï¼Œç›¸å½“äºå¤šäº†ä¸€ä¸ªé‡è¦çš„ç¤¾åª’æ¸ é“ã€‚</p>
<p>ç›´æ¥å‘Šè¯‰ AIï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">å¯¹äºæœç´¢ï¼Œä½ ç”¨ <span class="hljs-title class_">Grok</span> <span class="hljs-number">4.1</span> çš„ <span class="hljs-variable constant_">API</span> ä»£æ›¿ <span class="hljs-title class_">Brave</span>ï¼Œ
å‚è€ƒæ–‡æ¡£ï¼š<span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/docs.x.ai/docs</span><span class="hljs-regexp">/guides/tools</span><span class="hljs-regexp">/search-tools
æˆ‘çš„ API Key æ˜¯ xxx
</span></code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8baa64f75b7f45a2a64d5787217ec7e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119544&amp;x-signature=hxQFgViFeaKygFZTx4AshHrBTsI%3D" alt="" loading="lazy"/></p>
<p>æ¥å…¥åï¼Œå®ƒå°±æœ‰äº† Twitter å®æ—¶æœç´¢èƒ½åŠ›ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7de44c84b32424c97738c863d45c9d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119544&amp;x-signature=gfCnxNEUW7qo8p0N0GQ0IcC%2BMi4%3D" alt="" loading="lazy"/></p>
<p>è¿™æ¯”å•çº¯çš„ç½‘é¡µæœç´¢å¼ºå¤ªå¤šäº†ã€‚</p>
<h2 data-id="heading-5">05 å…³äº Token æ¶ˆè€—ï¼šæ¥ä¸ªä¾¿å®œæ¨¡å‹åšå…œåº•</h2>
<p>è¯´å®è¯ï¼Œæ¶ˆè€— token è¿˜æ˜¯æŒºå¿«çš„ã€‚</p>
<p>æˆ‘çš„ Claude Pro å¾ˆå¿«å°±è¶…é™åˆ¶äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba0a8bdae24d42b2b7882ec9e6414a3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770119544&amp;x-signature=%2FCsTD47%2BNw47SCy1XKurGQyIkPM%3D" alt="" loading="lazy"/></p>
<p>**è§£å†³æ–¹æ¡ˆï¼š**æ¥ä¸€ä¸ªä¾¿å®œçš„æ¨¡å‹åš backupï¼Œæ¯”å¦‚ MiniMaxã€‚</p>
<p>æ—¥å¸¸å¯¹è¯èµ°ä¾¿å®œæ¨¡å‹ï¼Œå¤æ‚ä»»åŠ¡å†ç”¨ Claudeï¼Œæˆæœ¬å¯æ§ã€‚</p>
<h2 data-id="heading-6">06 æœ€å¼ºå¤§çš„èƒ½åŠ›ï¼šè®°å¿†</h2>
<p>è¿™æ˜¯æˆ‘è§‰å¾— Clawdbot <strong>æœ€ææ€–çš„åœ°æ–¹ã€‚</strong></p>
<p>å®ƒçš„è®°å¿†ä¸æ˜¯å­˜åœ¨äº‘ç«¯ï¼Œè€Œæ˜¯æœ¬åœ° Markdown æ–‡ä»¶ï¼š</p>
<p>â€¢ **æ¯æ—¥ç¬”è®°ï¼š**memory/YYYY-MM-DD.mdï¼Œè®°å½•å½“å¤©å‘ç”Ÿçš„äº‹</p>
<p>â€¢ <strong>é•¿æœŸè®°å¿†</strong>**ï¼š**MEMORY.mdï¼Œå­˜æ”¾ç²¾ç‚¼è¿‡çš„é‡è¦ä¿¡æ¯ã€åå¥½ã€å†³ç­–</p>
<p>æ¯æ¬¡æ–°ä¼šè¯å¯åŠ¨ï¼Œå®ƒä¼šè‡ªåŠ¨è¯»å–è®°å¿†ã€‚å®šæœŸè¿˜ä¼šè‡ªå·±æ•´ç†ã€å½’æ¡£ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼š</p>
<p>â€¢ <strong>è®°å¿†ä¸å—ä¸Šä¸‹æ–‡é™åˆ¶</strong></p>
<p>â€¢ <strong>æˆæœ¬å‡ ä¹ä¸ºé›¶</strong>ï¼ˆåªæ˜¯è¯»æ–‡ä»¶ï¼‰</p>
<p>â€¢ <strong>èŠå¾—è¶Šå¤šï¼Œå®ƒè¶Šäº†è§£ä½ </strong></p>
<p>å½“ AI çŸ¥é“äº†ä½ çš„ä¸€åˆ‡â€”â€”ä½ çš„ä¹ æƒ¯ã€åå¥½ã€è¯´è¯æ–¹å¼â€”â€”å®ƒå°±èƒ½ï¼š</p>
<p>â€¢ å¸®ä½ åšå†³ç­–</p>
<p>â€¢ ç”¨ä½ çš„å£å»å†™æ–‡ç« </p>
<p>â€¢ çœŸæ­£æˆä¸ºä½ çš„<strong>æ•°å­—åˆ†èº«</strong></p>
<h2 data-id="heading-7">å†™åœ¨æœ€å</h2>
<p>ç›®å‰æˆ‘è¿™ä¸ªåŠ©æ‰‹åˆšä¸Šçº¿ï¼Œå¾ˆå¤š Skills è¿˜æ²¡è£…ï¼Œåç»­æˆ‘ä¼šç»§ç»­åˆ†äº«å®ç”¨åœºæ™¯ã€‚</p>
<p>å°±ç°åœ¨çš„ä½“éªŒæ¥è¯´ï¼Œå®ƒå¯¹æˆ‘çš„ä»·å€¼æ˜¯ï¼š</p>
<p><strong>ä¸€ä¸ªèƒ½æ“æ§æœåŠ¡å™¨çš„ ChatGPT + èƒ½å¤„ç†é‚®ä»¶ + èƒ½æœæ¨ç‰¹ + æœ‰****é•¿æœŸè®°å¿†</strong></p>
<p>æˆ‘æ‰“ç®—ç”¨å®ƒæ›¿ä»£ ChatGPT ä¸€æ®µæ—¶é—´è¯•è¯•ã€‚</p>
<p>è€Œä¸”æ‰‹æœº Telegram éšæ—¶èƒ½ç”¨ï¼Œæ¯”åœ¨ç”µè„‘å‰æ–¹ä¾¿å¤šäº†ã€‚</p>
<hr/>
<p>ğŸš€ æƒ³è¦ä¸æ›´å¤šAIçˆ±å¥½è€…äº¤æµï¼Œå…±åŒæˆé•¿å—ï¼Ÿ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZ4k_5_waWJbRRo5lZBZmog" target="_blank" title="https://mp.weixin.qq.com/s/Z4k_5_waWJbRRo5lZBZmog" ref="nofollow noopener noreferrer">å’Œä¸€ç¾¤å¿—åŒé“åˆçš„äººï¼ŒæŒç»­ç²¾è¿› AI çš„æ¯ä¸€å¤©</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é‡ç£…ï¼Maven 4 å®˜å®£ï¼šå†æ—¶15å¹´ï¼ŒJavaæ„å»ºå·¥å…·è¿æ¥å½»åº•é‡æ„]]></title>    <link>https://juejin.cn/post/7599920572839870473</link>    <guid>https://juejin.cn/post/7599920572839870473</guid>    <pubDate>2026-01-27T11:59:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599920572839870473" data-draft-id="7599924965950062630" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é‡ç£…ï¼Maven 4 å®˜å®£ï¼šå†æ—¶15å¹´ï¼ŒJavaæ„å»ºå·¥å…·è¿æ¥å½»åº•é‡æ„"/> <meta itemprop="keywords" content="Java,maven"/> <meta itemprop="datePublished" content="2026-01-27T11:59:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çš®çš®æ—551"/> <meta itemprop="url" content="https://juejin.cn/user/2447981921436084"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é‡ç£…ï¼Maven 4 å®˜å®£ï¼šå†æ—¶15å¹´ï¼ŒJavaæ„å»ºå·¥å…·è¿æ¥å½»åº•é‡æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2447981921436084/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çš®çš®æ—551
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T11:59:39.000Z" title="Tue Jan 27 2026 11:59:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è‡ªÂ <strong>2010 å¹´ Maven 3 å‘å¸ƒ</strong>Â ä»¥æ¥ï¼ŒMaven å¯¹ Java æ„å»ºç”Ÿæ€çš„æ•´ä½“æ”¯æŒæ–¹å¼ï¼Œå‡ ä¹æ²¡æœ‰å‘ç”Ÿè¿‡é¢ è¦†æ€§çš„å˜åŒ–ã€‚</p>
<p>ç„¶è€Œåœ¨è¿™ 15 å¹´é‡Œï¼ŒJava ä¸–ç•Œæ—©å·²å¤©ç¿»åœ°è¦†ï¼š</p>
<ul>
<li>æ¨¡å—åŒ–æˆä¸ºæ ‡é…</li>
<li>å¹¶è¡Œæ„å»ºæˆä¸ºåˆšéœ€</li>
<li>äº‘åŸç”Ÿä¸å®¹å™¨åŒ–æˆä¸ºä¸»æµ</li>
<li>JDK ä»¥ä¸€å¹´ä¸¤ä¸ªå¤§ç‰ˆæœ¬çš„èŠ‚å¥æŒç»­å¿«é€Ÿæ¼”è¿›</li>
</ul>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒMaven æœ¬èº«å´æ˜¾å¾—æœ‰äº›â€œè€æ€â€ã€‚</p>
<p>Maven 4 çš„å‡ºç°ï¼Œæ­£æ˜¯ä¸ºäº†è§£å†³è¿™äº›é•¿æœŸç§¯ç´¯çš„å†å²åŒ…è¢±ã€‚</p>
<p>è™½ç„¶ Maven 4 ä»æœªå…¬å¸ƒæ­£å¼ GA å‘å¸ƒæ—¥æœŸï¼Œä½†ç›®å‰å·²ç»è¿­ä»£åˆ°Â <strong>ç¬¬äº”ä¸ªå‘å¸ƒå€™é€‰ç‰ˆæœ¬</strong>ï¼ˆRC5ï¼‰ï¼Œä»é¡¹ç›®æˆç†Ÿåº¦å’Œå˜æ›´ç¨³å®šæ€§æ¥çœ‹ï¼Œè·ç¦»æ­£å¼å‘å¸ƒå·²ç›¸å½“æ¥è¿‘ã€‚</p>
<blockquote>
<p>â€œ</p>
<p>ç°åœ¨æ­£æ˜¯æå‰äº†è§£ã€è¯„ä¼°å’Œå‡†å¤‡å‡çº§çš„åˆé€‚æ—¶æœºã€‚</p>
</blockquote>
<h4 data-id="heading-0"><strong>POM æ¨¡å‹å‡çº§ï¼šä» 4.0.0 åˆ° 4.1.0</strong></h4>
<p>Maven 4 å°† POM çš„æ¨¡å‹ç‰ˆæœ¬å‡çº§ä¸º 4.1.0ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;project
Â  Â  <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.1.0"</span>
Â  Â  xmlns:<span class="hljs-attr">xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
Â  Â  xsi:<span class="hljs-attr">schemaLocation</span>=<span class="hljs-string">"http://maven.apache.org/POM/4.1.0
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  http://maven.apache.org/xsd/maven-4.1.0.xsd"</span>&gt;
Â  &lt;modelVersion&gt;4.1.0&lt;/modelVersion&gt;
&lt;/project&gt;
</code></pre>
<ul>
<li>å‘åå…¼å®¹ï¼šMaven 4 ä»ç„¶å¯ä»¥æ„å»º 4.0.0 çš„ POM</li>
<li>æ–°èƒ½åŠ›åªå¯¹ 4.1.0 ç”Ÿæ•ˆ</li>
<li>modelVersion ç†è®ºä¸Šå¯ä»¥çœç•¥ï¼ŒMaven ä¼šä» schema æ¨å¯¼</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<blockquote>
<p>â€œ</p>
<p>ä¸å‡çº§ POM ä¹Ÿèƒ½ç”¨ Maven 4ï¼Œä½†å‡çº§åæ‰èƒ½çœŸæ­£â€œåƒåˆ°çº¢åˆ©â€ã€‚</p>
</blockquote>
<h4 data-id="heading-1"><strong>Build POM / Consumer POM åˆ†ç¦»ï¼šç»ˆäºè§£å†³â€œPOM æ±¡æŸ“â€</strong></h4>
<p>è¿™æ˜¯ Maven 4 æœ€é‡è¦ã€ä¹Ÿæ˜¯æœ€é¢ è¦†æ€§ çš„å˜åŒ–ä¹‹ä¸€ã€‚</p>
<p>åœ¨ Maven 3 ä¸­ï¼Œå‘å¸ƒåˆ°ä»“åº“çš„ POM åŒæ—¶åŒ…å«ï¼š</p>
<ul>
<li>æ’ä»¶é…ç½®</li>
<li>æ„å»ºç»†èŠ‚</li>
<li>çˆ¶ POM å¼•ç”¨</li>
<li>å„ç§å±æ€§</li>
</ul>
<p>ä¾èµ–ä½¿ç”¨è€…ä¼šè¢«è¿«è§£æå¤§é‡ â€œä¸æˆ‘æ— å…³â€ çš„ä¿¡æ¯ã€‚</p>
<p>Maven 4 çš„è§£å†³æ–¹æ³•æ˜¯ POM æ‰å¹³åŒ–ï¼ˆFlatteningï¼‰ã€‚</p>
<p>Maven 4 æ­£å¼åŒºåˆ†ï¼š</p>

















<table><thead><tr><th>ç±»å‹</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>Build POM</td><td>é¡¹ç›®è‡ªèº«æ„å»º</td></tr><tr><td>Consumer POM</td><td>æä¾›ç»™ä¾èµ–æ–¹</td></tr></tbody></table>
<p>Consumer POM å…·å¤‡ä»¥ä¸‹ç‰¹å¾ï¼š</p>
<ul>
<li>ä¸åŒ…å«æ’ä»¶é…ç½®</li>
<li>ä¸åŒ…å«çˆ¶ POM</li>
<li>ä¸åŒ…å«æœªä½¿ç”¨ä¾èµ–</li>
<li>åªä¿ç•™çœŸå®ä¼ é€’ä¾èµ–</li>
<li>å±æ€§å·²è¢«è§£æä¸ºå…·ä½“å€¼</li>
</ul>
<p>å¼€å¯æ–¹å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">mvn clean install <span class="hljs-attr">-Dmaven.consumer.pom.flatten</span>=<span class="hljs-literal">true</span>
</code></pre>
<blockquote>
<p>â€œ</p>
<p>Maven 3 æ—¶ä»£éœ€è¦é¢å¤–çš„Â <code>Flatten Maven Plugin</code>ï¼ŒMaven 4 ä¸­å·²æˆä¸º åŸç”Ÿèƒ½åŠ›ã€‚</p>
</blockquote>
<p>è¿™ä¸€æ­¥ï¼Œç›´æ¥è®©ä¾èµ–è§£ææ›´å¿«ã€æ›´å¹²å‡€ã€æ›´å¯é¢„æµ‹ã€‚</p>
<h4 data-id="heading-2"><strong>æ–° Artifact Typeï¼šæ˜¾å¼æ§åˆ¶ classpath / module path</strong></h4>
<p>åœ¨ Maven 3 ä¸­ï¼š</p>
<ul>
<li>æ™®é€š JAR â†’ classpath</li>
<li>å«Â <code>module-info.class</code>Â â†’Â <code>module path</code>ï¼ˆè‡ªåŠ¨æ¨æ–­ï¼‰</li>
</ul>
<p>è¿™ç§â€œéšå¼è§„åˆ™â€åœ¨ Java æ¨¡å—åŒ–æ—¶ä»£å¹¶ä¸å¤Ÿæ¸…æ™°ã€‚</p>
<p>Maven 4 æ–°å¢ç±»å‹ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">&lt;<span class="hljs-built_in">type</span>&gt;classpath-jar&lt;/<span class="hljs-built_in">type</span>&gt;
&lt;<span class="hljs-built_in">type</span>&gt;<span class="hljs-built_in">module</span>-jar&lt;/<span class="hljs-built_in">type</span>&gt;
</code></pre>
<p>å¼€å‘è€…ç»ˆäºå¯ä»¥Â <strong>æ˜¾å¼å£°æ˜ä¾èµ–æ”¾åœ¨å“ªé‡Œã€‚</strong></p>
<p>Maven 4 è¿˜æ–°å¢äº†ä¸“é—¨çš„æ³¨è§£å¤„ç†å™¨ç±»å‹ï¼š</p>
<ul>
<li><code>processor</code></li>
<li><code>classpath-processor</code></li>
<li><code>modular-processor</code></li>
</ul>
<p>ä»¥ Lombok ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
Â  <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${lombok.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>classpath-processor<span class="hljs-tag">&lt;/<span class="hljs-name">type</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>${lombok.version}<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<p>Maven 4Â <strong>æ˜ç¡®åŒºåˆ†äº† API classpath ä¸ processor classpath</strong>ï¼Œæ„å»ºè¯­ä¹‰æ›´æ¸…æ™°ï¼Œä¹Ÿæ›´åˆ©äºå·¥å…·é“¾ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-3"><strong>Modules æ”¹åä¸º Subprojectsï¼šä¸º Java 9 â€œè®©è·¯â€</strong></h4>
<p>Java 9 å¼•å…¥æ¨¡å—ç³»ç»Ÿåï¼š</p>
<ul>
<li>Maven Modules</li>
<li>Java Modules</li>
</ul>
<p>é•¿æœŸè®©æ–°æ‰‹å’Œå·¥å…·â€œé›†ä½“æ‡µé€¼â€ã€‚</p>
<p>Maven 4 çš„é€‰æ‹©æ˜¯ï¼š</p>
<ul>
<li>modules â†’ subprojects</li>
<li>modules æ ‡è®°ä¸º deprecated</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">subprojects</span>&gt;</span>
Â  <span class="hljs-tag">&lt;<span class="hljs-name">subproject</span>&gt;</span>project-a<span class="hljs-tag">&lt;/<span class="hljs-name">subproject</span>&gt;</span>
Â  <span class="hljs-tag">&lt;<span class="hljs-name">subproject</span>&gt;</span>project-b<span class="hljs-tag">&lt;/<span class="hljs-name">subproject</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">subprojects</span>&gt;</span>
</code></pre>
<p>åŒæ—¶è¿˜æ”¯æŒï¼š</p>
<ul>
<li><strong>Parent æ¨æ–­ï¼š</strong> Â ç©ºÂ <code>&lt;parent /&gt;</code>Â è‡ªåŠ¨è¯†åˆ«</li>
<li><strong>å­é¡¹ç›®è‡ªåŠ¨å‘ç°ï¼š</strong> Â æ— éœ€æ˜¾å¼å£°æ˜</li>
<li><strong>ç»Ÿä¸€æ„å»ºæ—¶é—´æˆ³</strong></li>
<li><strong>å®‰å…¨å‘å¸ƒï¼š</strong> Â å­é¡¹ç›®å¤±è´¥ â†’ å…¨éƒ¨ä¸å‘å¸ƒ</li>
</ul>
<p>è¿™æ˜¯ä¸€æ¬¡Â <strong>è¯­ä¹‰å±‚é¢ + å·¥ç¨‹å®è·µå±‚é¢</strong>Â çš„åŒé‡å‡çº§ã€‚</p>
<h4 data-id="heading-4"><strong>æ ‘å½¢ç”Ÿå‘½å‘¨æœŸï¼šå¹¶è¡Œæ„å»ºç»ˆäºâ€œåæ­£è¨€é¡ºâ€</strong></h4>
<p>Maven 3 çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ çº¿æ€§çš„ï¼Œå³ä½¿å¤šæ¨¡å—ï¼Œä¹Ÿå¾ˆéš¾é«˜æ•ˆå¹¶è¡Œã€‚</p>
<p>Maven 4 å¼•å…¥Â <code>Tree-based Lifecycle</code>ï¼š</p>
<ul>
<li>æ¯ä¸ªå­é¡¹ç›®ç‹¬ç«‹æ¨è¿›ç”Ÿå‘½å‘¨æœŸ</li>
<li>ä¾èµ–å°±ç»ªå³å¯å¯åŠ¨</li>
<li>å¤§å‹å¤šæ¨¡å—æ„å»ºé€Ÿåº¦æ˜¾è‘—æå‡</li>
</ul>
<p>å¼€å¯æ–¹å¼ï¼š</p>
<pre><code class="hljs language-css" lang="css">mvn -<span class="hljs-selector-tag">b</span> concurrent verify
</code></pre>
<h4 data-id="heading-5"><strong>é…ç½®èƒ½åŠ›æ˜¾è‘—å¢å¼ºçš„â€œå°å˜åŒ–â€</strong></h4>
<h5 data-id="heading-6"><strong>1. æ¡ä»¶è¡¨è¾¾å¼ Profile</strong></h5>
<pre><code class="hljs language-scss" lang="scss">&lt;condition&gt;
Â  <span class="hljs-built_in">exists</span>('${project.basedir}/src/**/*.xsd')
Â  &amp;&amp; <span class="hljs-built_in">length</span>(${user.name}) &gt; <span class="hljs-number">5</span>
&lt;/condition&gt; Â Â 
</code></pre>
<p>ä¸å†åªæ˜¯Â <code>os.name</code>ã€jdk è¿™ç§åŸºç¡€åˆ¤æ–­ï¼Œè€Œæ˜¯ çœŸæ­£çš„è¡¨è¾¾å¼ç³»ç»Ÿã€‚</p>
<h5 data-id="heading-7"><strong>2. ç»Ÿä¸€çš„ Sources æ¨¡å‹</strong></h5>
<p>Maven 3ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">sourceDirectory</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">sourceDirectory</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">testSourceDirectory</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">testSourceDirectory</span>&gt;</span>
</code></pre>
<p>Maven 4ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">sources</span>&gt;</span>
Â  <span class="hljs-tag">&lt;<span class="hljs-name">source</span>&gt;</span>
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>main<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>my-custom-dir/foo<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
Â  <span class="hljs-tag">&lt;/<span class="hljs-name">source</span>&gt;</span>
Â  <span class="hljs-tag">&lt;<span class="hljs-name">source</span>&gt;</span>
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
Â  Â  <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>my-custom-dir/bar<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
Â  <span class="hljs-tag">&lt;/<span class="hljs-name">source</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">sources</span>&gt;</span>
</code></pre>
<p>æ›´é€‚åˆï¼š</p>
<ul>
<li>å¤šç›®å½•</li>
<li>å¤šç‰ˆæœ¬</li>
<li>æ¨¡å—åŒ–é¡¹ç›®</li>
<li>æ— æ’ä»¶é…ç½®åœºæ™¯</li>
</ul>
<p>Maven 4 è¿˜æä¾›äº†å®˜æ–¹å‡çº§å·¥å…·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">mvnup check Â Â <span class="hljs-comment"># åªç”ŸæˆæŠ¥å‘Š</span>
mvnup apply Â Â <span class="hljs-comment"># è‡ªåŠ¨ä¿®æ”¹</span>
</code></pre>
<p>å®ƒä¼šåˆ†æï¼š</p>
<ul>
<li>POM</li>
<li>æ’ä»¶</li>
<li>é¡¹ç›®ç»“æ„</li>
</ul>
<p>å¹¶ç»™å‡º å¯æ‰§è¡Œçš„å‡çº§å»ºè®®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hooks ä½¿ç”¨æ³¨æ„äº‹é¡¹åŠæ¥é¾™å»è„‰]]></title>    <link>https://juejin.cn/post/7599679977344483369</link>    <guid>https://juejin.cn/post/7599679977344483369</guid>    <pubDate>2026-01-27T10:07:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599679977344483369" data-draft-id="7598490039489855523" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hooks ä½¿ç”¨æ³¨æ„äº‹é¡¹åŠæ¥é¾™å»è„‰"/> <meta itemprop="keywords" content="å‰ç«¯,React.js,å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2026-01-27T10:07:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sophieæ—­"/> <meta itemprop="url" content="https://juejin.cn/user/2559318799692952"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hooks ä½¿ç”¨æ³¨æ„äº‹é¡¹åŠæ¥é¾™å»è„‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2559318799692952/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sophieæ—­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T10:07:52.000Z" title="Tue Jan 27 2026 10:07:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»22åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>å‰å‡ ç¯‡æ–‡ç« å·²ç»èŠäº†Hooks çš„æ„ä¹‰ä»¥åŠå¦‚ä½•å®ç°çš„ï¼Œé‚£ä¹ˆç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸‹ æˆ‘ä»¬å¹³æ—¶ ä½¿ç”¨ hookçš„ä¸€äº›æ³¨æ„äº‹é¡¹ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¯´çš„ â€œå¿ƒæ™ºè´Ÿæ‹…â€ï¼Œä½†æ˜¯å½“æˆ‘ä»¬ç†è§£å®ƒèƒŒåçš„å®ç°åŸç†åï¼Œä¹Ÿè®¸ è¿™ç§è´Ÿæ‹…ä¼šå¤§å¤§å‡è½»å§</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆHookså¿…é¡»åœ¨å‡½æ•°ç»„ä»¶é¡¶å±‚è°ƒç”¨ï¼Œä¸èƒ½å†™åœ¨æ¡ä»¶è¯­å¥ä¸­ï¼Ÿ</h2>
<h3 data-id="heading-2">å‰ç½®çŸ¥è¯†</h3>
<p>æˆ‘ä»¬çŸ¥é“ hooké“¾è¡¨ç»‘åœ¨äº†fiberä¸Šäº†ï¼Œ<strong><code>é‚£ä¹ˆä¸‹æ¬¡ æ›´æ–°æ—¶ï¼Œé¦–å…ˆè¦æ‰¾åˆ°å¯¹åº”çš„æ—§fiberå¯¹å—ï¼Ÿé‚£æ€ä¹ˆæ‰¾å‘¢ï¼Ÿï¼Ÿ</code></strong></p>
<h4 data-id="heading-3">æ­£ç¡®çš„ã€Œæ–°æ—§ Fiber æ ‘æ„å»º + alternate ç»‘å®šã€æµç¨‹</h4>
<p>ä»¥ã€Œé¦–æ¬¡æ¸²æŸ“åï¼Œç‚¹å‡» setCount è§¦å‘æ›´æ–°ã€ä¸ºä¾‹ï¼Œå®Œæ•´æ­¥éª¤ï¼š</p>
<h5 data-id="heading-4">æ­¥éª¤ 1ï¼šé¦–æ¬¡æ¸²æŸ“åï¼Œå…ˆå»ºç«‹â€œæ—§æ ‘ï¼ˆCurrentï¼‰â€</h5>
<ul>
<li>é¦–æ¬¡æ¸²æŸ“æ—¶ï¼ŒReact ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸ºæ¯ä¸ªç»„ä»¶ï¼ˆæ ¹â†’Appâ†’Button ç­‰ï¼‰åˆ›å»ºå…¨æ–°çš„ fiber èŠ‚ç‚¹ï¼Œæ„å»ºå‡ºã€ŒCurrent Fiber æ ‘ã€ï¼ˆæ—§æ ‘ï¼‰ï¼›</li>
<li>æ­¤æ—¶æ¯ä¸ª fiber èŠ‚ç‚¹çš„ <code>alternate</code> ä¸º nullï¼ˆæ— æ–°æ ‘ï¼‰ï¼›</li>
<li>æ ¹ Fiber çš„ <code>current</code> æŒ‡å‘è¿™æ£µæ—§æ ‘ã€‚</li>
</ul>
<h5 data-id="heading-5">æ­¥éª¤ 2ï¼šè§¦å‘æ›´æ–°åï¼Œåˆ›å»ºæ–°æ ‘ï¼ˆWorkInProgressï¼‰çš„â€œéª¨æ¶â€</h5>
<p>React ä¸ä¼šå¤åˆ¶æ—§æ ‘ï¼Œè€Œæ˜¯ï¼š</p>
<ol>
<li>ä»æ ¹ Fiber å¼€å§‹ï¼Œ<strong><code>éå†æ—§æ ‘ï¼ˆCurrentï¼‰çš„èŠ‚ç‚¹</code></strong>ï¼ˆæŒ‰ <code>child</code>/<code>sibling</code> å±‚çº§ï¼‰ï¼›</li>
<li>å¯¹æ¯ä¸ªæ—§ fiber èŠ‚ç‚¹ï¼Œæ‰§è¡Œã€Œè°ƒå’Œï¼ˆReconciliationï¼‰ã€ï¼š
<ul>
<li>å¦‚æœç»„ä»¶ç±»å‹æœªå˜(ä¸”keyä¹Ÿæ²¡å˜)ï¼ˆæ¯”å¦‚è¿˜æ˜¯ <code>&lt;App /&gt;</code>ï¼‰ï¼š<strong><code>ç¡®è®¤ç»“æ„æ²¡å˜åŒ–ï¼Œåˆ›å»ºæ–°çš„ workInProgress fiber èŠ‚ç‚¹</code></strong>,<strong><code>ï¼ˆåªå¤ç”¨æ—§èŠ‚ç‚¹çš„â€œç»“æ„ä¿¡æ¯â€ï¼Œæ¯”å¦‚å±‚çº§ã€ç±»å‹ï¼Œä¸å¤åˆ¶çŠ¶æ€ï¼‰ï¼›</code></strong></li>
<li>å¦‚æœç»„ä»¶ç±»å‹å˜äº†ï¼ˆæ¯”å¦‚ <code>&lt;App /&gt;</code> å˜æˆ <code>&lt;Other /&gt;</code>ï¼‰ï¼šä¸¢å¼ƒæ—§èŠ‚ç‚¹ï¼Œåˆ›å»ºå…¨æ–°çš„æ–°èŠ‚ç‚¹ï¼›</li>
<li>å¦‚æœç»„ä»¶è¢«å¸è½½ï¼šä¸åˆ›å»ºæ–°èŠ‚ç‚¹ï¼›</li>
</ul>
</li>
<li><strong>å…³é”®</strong>ï¼šä¸ºæ–°åˆ›å»ºçš„ workInProgress fiber ç»‘å®š <code>alternate</code> æŒ‡é’ˆ â†’ <strong><code>workInProgress.alternate = æ—§ fiber</code></strong>ï¼ˆåŒæ—¶æ—§ fiber.alternate = workInProgressï¼ŒåŒå‘ç»‘å®šï¼‰ã€‚</li>
</ol>
<p>ä¸¾ä¾‹è¯´æ˜ï¼š</p>
<p>å‡è®¾æ—§ fiberï¼ˆCurrentï¼‰æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ—§ fiberï¼ˆCurrentï¼‰- App ç»„ä»¶</span>
<span class="hljs-keyword">const</span> oldFiber = {
  <span class="hljs-comment">// ç»“æ„ä¿¡æ¯ï¼ˆé™æ€ï¼‰</span>
  <span class="hljs-attr">type</span>: <span class="hljs-title class_">App</span>, <span class="hljs-comment">// ç»„ä»¶ç±»å‹æ˜¯ App å‡½æ•°</span>
  <span class="hljs-attr">key</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">return</span>: rootFiber, <span class="hljs-comment">// çˆ¶èŠ‚ç‚¹æ˜¯æ ¹ fiber</span>
  <span class="hljs-attr">child</span>: buttonFiber, <span class="hljs-comment">// å­èŠ‚ç‚¹æ˜¯ Button ç»„ä»¶çš„ fiber</span>
  <span class="hljs-attr">sibling</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// æ— å…„å¼ŸèŠ‚ç‚¹</span>
  
  <span class="hljs-comment">// çŠ¶æ€ä¿¡æ¯ï¼ˆåŠ¨æ€ï¼‰</span>
  <span class="hljs-attr">memoizedState</span>: { <span class="hljs-attr">memoizedState</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">queue</span>: <span class="hljs-literal">null</span> }, <span class="hljs-comment">// Hook é“¾è¡¨ï¼ˆcount=0ï¼‰</span>
  <span class="hljs-attr">updateQueue</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// å‰¯ä½œç”¨é˜Ÿåˆ—</span>
  <span class="hljs-attr">props</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">"æ—§åç§°"</span> } <span class="hljs-comment">// çˆ¶ç»„ä»¶ä¼ çš„æ—§ props</span>
};
</code></pre>
<p>å½“åˆ›å»ºæ–° fiberï¼ˆworkInProgressï¼‰æ—¶ï¼ŒReact åšçš„æ˜¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ–° fiberï¼ˆworkInProgressï¼‰- App ç»„ä»¶</span>
<span class="hljs-keyword">const</span> newFiber = {
  <span class="hljs-comment">// 1. å¤ç”¨æ—§ fiber çš„ã€Œç»“æ„ä¿¡æ¯ã€ï¼ˆç›´æ¥æŠ„ï¼Œä¸ç”¨é‡æ–°åˆ¤æ–­ï¼‰</span>
  <span class="hljs-attr">type</span>: oldFiber.<span class="hljs-property">type</span>, <span class="hljs-comment">// å¤ç”¨ type: App</span>
  <span class="hljs-attr">key</span>: oldFiber.<span class="hljs-property">key</span>, <span class="hljs-comment">// å¤ç”¨ key: null</span>
  <span class="hljs-attr">return</span>: oldFiber.<span class="hljs-property">return</span>, <span class="hljs-comment">// å¤ç”¨çˆ¶èŠ‚ç‚¹ï¼šrootFiber</span>
  <span class="hljs-attr">child</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// å…ˆç•™ç©ºï¼Œåç»­è°ƒå’Œå­èŠ‚ç‚¹æ—¶å†å¤ç”¨æ—§ child çš„ç»“æ„</span>
  <span class="hljs-attr">sibling</span>: oldFiber.<span class="hljs-property">sibling</span>, <span class="hljs-comment">// å¤ç”¨å…„å¼ŸèŠ‚ç‚¹ï¼šnull</span>
  
  <span class="hljs-comment">// 2. ã€ŒçŠ¶æ€ä¿¡æ¯ã€å®Œå…¨æ¸…ç©º/é‡æ–°è®¡ç®—ï¼ˆä¸å¤ç”¨æ—§å€¼ï¼‰</span>
  <span class="hljs-attr">memoizedState</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// æ¸…ç©º Hook é“¾è¡¨ï¼ˆåç»­é€šè¿‡ renderWithHooks é‡æ–°æ„å»ºï¼‰</span>
  <span class="hljs-attr">updateQueue</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// æ¸…ç©ºå‰¯ä½œç”¨é˜Ÿåˆ—ï¼ˆåç»­é‡æ–°æ”¶é›†ï¼‰</span>
  <span class="hljs-attr">props</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">"æ–°åç§°"</span> } <span class="hljs-comment">// ç”¨æœ¬æ¬¡çˆ¶ç»„ä»¶ä¼ çš„æ–° propsï¼ˆä¸å¤ç”¨æ—§ propsï¼‰</span>
};

<span class="hljs-comment">// 3. ç»‘å®š alternate æŒ‡é’ˆï¼ˆæ–°â†’æ—§ï¼‰</span>
newFiber.<span class="hljs-property">alternate</span> = oldFiber;
oldFiber.<span class="hljs-property">alternate</span> = newFiber;
</code></pre>
<p>ğŸ‘‰ æ ¸å¿ƒçœ‹å·®å¼‚ï¼š</p>
<ul>
<li>ç»“æ„ä¿¡æ¯ï¼ˆ<code>type</code>/<code>return</code>/<code>key</code>ï¼‰ï¼šç›´æ¥ä»æ—§ fiber æ‹¿ï¼Œä¸ç”¨é‡æ–°åˆ¤æ–­â€œè¿™ä¸ªç»„ä»¶æ˜¯ä¸æ˜¯ Appï¼Ÿå®ƒçš„çˆ¶èŠ‚ç‚¹æ˜¯è°ï¼Ÿâ€â€”â€”çœæ‰äº†é‡å¤çš„å±‚çº§/ç±»å‹åˆ¤æ–­æˆæœ¬ï¼›</li>
<li>çŠ¶æ€ä¿¡æ¯ï¼ˆ<code>memoizedState</code>/<code>updateQueue</code>ï¼‰ï¼šå®Œå…¨æ¸…ç©ºï¼Œåç»­æ‰§è¡Œ <code>renderWithHooks</code> æ—¶ï¼Œå†ä»æ—§ fiber çš„ <code>memoizedState</code> è¯»å– Hook çŠ¶æ€ã€è®¡ç®—æ–°çŠ¶æ€ï¼Œæœ€åå¡«å……åˆ°æ–° fiber ä¸­ã€‚</li>
</ul>
<h5 data-id="heading-6">æ­¥éª¤ 3ï¼šéå†æ–°æ ‘éª¨æ¶ï¼Œæ‰§è¡Œæ¸²æŸ“å‡½æ•°å¡«å……å†…å®¹</h5>
<p>React éå†åˆšåˆ›å»ºçš„ã€ŒWorkInProgress æ–°æ ‘éª¨æ¶ã€ï¼Œå¯¹æ¯ä¸ªå‡½æ•°ç»„ä»¶èŠ‚ç‚¹ï¼š</p>
<ol>
<li>è°ƒç”¨ <code>updateFunctionComponent</code> â†’ è¿›è€Œè°ƒç”¨ <code>renderWithHooks</code>ï¼›</li>
<li>æ‰§è¡Œç»„ä»¶çš„æ¸²æŸ“å‡½æ•°ï¼ˆæ¯”å¦‚ <code>App()</code>ï¼‰ï¼Œè§¦å‘ Hook è°ƒç”¨ï¼›</li>
<li><strong><code>é€šè¿‡ workInProgress.alternate æ‰¾åˆ°æ—§ fiberï¼Œè¯»å–æ—§ Hook çŠ¶æ€ï¼Œè®¡ç®—æ–°çŠ¶æ€ï¼›</code></strong></li>
<li>æŠŠæ–°çŠ¶æ€å¡«å……åˆ° workInProgress fiber çš„ <code>memoizedState</code>ï¼ˆHook é“¾è¡¨ï¼‰ä¸­ï¼Œå®Œæˆæ–°æ ‘çš„â€œå†…å®¹å¡«å……â€ã€‚</li>
</ol>
<h5 data-id="heading-7">æ­¥éª¤ 4ï¼šæäº¤æ–°æ ‘ï¼Œæ›¿æ¢æ—§æ ‘</h5>
<p>æ¸²æŸ“å®Œæˆåï¼ŒReact æŠŠã€ŒWorkInProgress æ–°æ ‘ã€æäº¤åˆ° DOMï¼Œç„¶åï¼š</p>
<ul>
<li>æ ¹ Fiber çš„ <code>current</code> æŒ‡å‘è¿™æ£µæ–°æ ‘ï¼ˆå®ƒå˜æˆäº†ä¸‹ä¸€æ¬¡æ›´æ–°çš„â€œæ—§æ ‘â€ï¼‰ï¼›</li>
<li>åŸæ¥çš„æ—§æ ‘è¢«æ ‡è®°ä¸ºå¯å›æ”¶ï¼Œç­‰å¾… GCã€‚</li>
</ul>
<h4 data-id="heading-8">æ€»ç»“ï¼š</h4>
<ul>
<li>React æ‰¾æ—§ fiber çš„æœ€ç»ˆâ€œå¿«æ·æ–¹å¼â€æ˜¯ <code>workInProgress.alternate</code>ï¼›</li>
<li>åŒæ ‘çš„æ ¸å¿ƒä»·å€¼æ˜¯â€œå¢é‡æ›´æ–°â€â€”â€”ä¸ç”¨æ¯æ¬¡é‡æ–°åˆ›å»ºå®Œæ•´ fiber æ ‘ï¼Œåªéœ€åŸºäºæ—§æ ‘æ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ï¼›</li>
<li>alternate æŒ‡é’ˆæ˜¯åŒæ ‘å…³è”çš„â€œç‰©ç†çº½å¸¦â€ï¼Œä¿è¯äº†æ—§çŠ¶æ€èƒ½è¢«ç²¾å‡†æ‰¾åˆ°ã€‚</li>
</ul>
<h3 data-id="heading-9">æ—§fiberæ‰¾åˆ°äº†ï¼Œé‚£ä¹ˆhookå‘¢ï¼Ÿæ–°hookå’Œæ—§hookçš„å…³ç³»æ˜¯ï¼Ÿï¼Ÿ</h3>
<p><strong><code>é¦–å…ˆæ—§hooké“¾è¡¨ä»å“ªé‡Œæ¥ï¼Ÿå…¶å®æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºæ—§fiberçš„hook</code></strong></p>
<h4 data-id="heading-10">ç¬¬ä¸€æ­¥ï¼šå…ˆçœ‹é”™è¯¯ä»£ç ï¼ˆHook æ”¾æ¡ä»¶é‡Œï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Form</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">""</span>); <span class="hljs-comment">// Hook1</span>
  
  <span class="hljs-keyword">if</span> (name) { <span class="hljs-comment">// æ¡ä»¶ï¼šnameæœ‰å€¼æ—¶æ‰æ‰§è¡ŒHook2</span>
    <span class="hljs-keyword">const</span> [phone, setPhone] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">""</span>); <span class="hljs-comment">// Hook2</span>
  }
  
  <span class="hljs-keyword">const</span> [submit, setSubmit] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>); <span class="hljs-comment">// Hook3</span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{/* æ¸²æŸ“ */}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<h4 data-id="heading-11">ç¬¬äºŒæ­¥ï¼šé¦–æ¬¡æ¸²æŸ“ï¼ˆname ä¸ºç©ºï¼Œæ¡ä»¶ä¸æ»¡è¶³ï¼‰</h4>
<ul>
<li>æ‰§è¡Œé¡ºåºï¼šHook1ï¼ˆnameï¼‰â†’ Hook3ï¼ˆsubmitï¼‰ï¼›</li>
<li>æ—§ Hook é“¾è¡¨ï¼ˆcurrent fiberï¼‰ï¼š<code>Hook1ï¼ˆnameï¼‰â†’ Hook3ï¼ˆsubmitï¼‰</code>ï¼ˆå…±2ä¸ªèŠ‚ç‚¹ï¼‰ï¼›</li>
<li>æŒ‡é’ˆè®°å½•ï¼šéå†åˆ°ç¬¬2ä¸ªèŠ‚ç‚¹ï¼ˆHook3ï¼‰ç»“æŸã€‚</li>
</ul>
<h4 data-id="heading-12">ç¬¬ä¸‰æ­¥ï¼šæ›´æ–°æ¸²æŸ“ï¼ˆè¾“å…¥nameï¼Œæ¡ä»¶æ»¡è¶³ï¼‰</h4>
<p>æ­¤æ—¶ç”¨æˆ·è¾“å…¥äº† nameï¼Œ<code>if (name)</code> ä¸º trueï¼ŒHook æ‰§è¡Œé¡ºåºå˜äº†ï¼š</p>
<ul>
<li>æ‰§è¡Œé¡ºåºï¼šHook1ï¼ˆnameï¼‰â†’ Hook2ï¼ˆphoneï¼‰â†’ Hook3ï¼ˆsubmitï¼‰ï¼›</li>
<li>React å¼€å§‹éå†æ—§é“¾è¡¨ï¼ˆåªæœ‰2ä¸ªèŠ‚ç‚¹ï¼‰ï¼š
<ol>
<li>æœ¬æ¬¡ç¬¬1ä¸ª Hookï¼ˆnameï¼‰â†’ åŒ¹é…æ—§é“¾è¡¨ç¬¬1ä¸ªèŠ‚ç‚¹ï¼ˆnameï¼‰â†’ æ­£å¸¸ï¼›</li>
<li>æœ¬æ¬¡ç¬¬2ä¸ª Hookï¼ˆphoneï¼‰â†’ åŒ¹é…æ—§é“¾è¡¨ç¬¬2ä¸ªèŠ‚ç‚¹ï¼ˆsubmitï¼‰â†’ <strong>é”™ä½ï¼</strong> phone ä¼šè¯»å–åˆ° submit çš„æ—§çŠ¶æ€ï¼ˆfalseï¼‰ï¼›</li>
<li>æœ¬æ¬¡ç¬¬3ä¸ª Hookï¼ˆsubmitï¼‰â†’ æ—§é“¾è¡¨å·²æ— èŠ‚ç‚¹ï¼ˆåªæœ‰2ä¸ªï¼‰â†’ React ç›´æ¥æŠ¥é”™ï¼ˆHook æ•°é‡ä¸åŒ¹é…ï¼‰ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-13">ç¬¬å››æ­¥ï¼šå…³é”®è¡¥å……ï¼ˆ<strong><code>ä¸åªæ˜¯â€œéå†æ‹¿â€ï¼Œè¿˜æœ‰â€œæŒ‡é’ˆç§»åŠ¨â€</code></strong>ï¼‰</h4>
<p>ä½ è¯´çš„â€œä¾æ¬¡éå†ä¹‹å‰çš„æ—§hooké“¾è¡¨æ‹¿åˆ°ä¸€ä¸ªï¼Œè¿”å›ä¸€ä¸ªâ€ï¼Œå¯ä»¥å†è¡¥å…¨ä¸€ç‚¹ï¼š
React ä¸æ˜¯â€œä¸€æ¬¡æ€§éå†æ—§é“¾è¡¨â€ï¼Œè€Œæ˜¯ <strong><code>æ¯è°ƒç”¨ä¸€ä¸ªæ–° Hookï¼Œå°±æŠŠæ—§é“¾è¡¨çš„æŒ‡é’ˆå¾€åç§»ä¸€ä½ -- é‡ç‚¹ï¼Œå¥½å¥½ç†è§£ï¼ï¼ï¼ï¼</code></strong>ï¼š</p>
<ul>
<li>è°ƒç”¨ç¬¬1ä¸ªæ–° Hook â†’ å–æ—§é“¾è¡¨ç¬¬1ä¸ªèŠ‚ç‚¹ï¼ŒæŒ‡é’ˆç§»åˆ°ç¬¬2ä¸ªï¼›</li>
<li>è°ƒç”¨ç¬¬2ä¸ªæ–° Hook â†’ å–æ—§é“¾è¡¨ç¬¬2ä¸ªèŠ‚ç‚¹ï¼ŒæŒ‡é’ˆç§»åˆ°ç¬¬3ä¸ªï¼›</li>
<li>â€¦â€¦</li>
</ul>
<p>æ¡ä»¶è¯­å¥ä¼šè®©â€œæ–° Hook çš„æ•°é‡/é¡ºåºâ€å’Œâ€œæ—§é“¾è¡¨çš„èŠ‚ç‚¹æ•°é‡/é¡ºåºâ€å¯¹ä¸ä¸Šï¼ŒæŒ‡é’ˆä¸€é”™ä½ï¼ŒçŠ¶æ€å°±å¼ å† ææˆ´ï¼›æ•°é‡å¯¹ä¸ä¸Šçš„è¯ï¼ŒReact ç›´æ¥æŠ›å‡ºè­¦å‘Šï¼ˆHook è°ƒç”¨æ•°é‡ä¸ä¸€è‡´ï¼‰ã€‚</p>
<p>å¤§è‡´æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>æ•´ä¸ªè¿‡ç¨‹å’Œ <code>next</code> å¤åˆ¶æ— å…³ï¼Œå®Œå…¨ç”±ã€Œæœ¬æ¬¡ Hook è°ƒç”¨æ¬¡æ•°ã€é©±åŠ¨ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼ˆç»“åˆæºç ç®€åŒ–ç‰ˆï¼‰ï¼š</p>
<h5 data-id="heading-14">æ­¥éª¤ 1ï¼šåˆå§‹åŒ– <code>currentHook</code> æŒ‡å‘æ—§é“¾è¡¨å¤´</h5>
<p>æ›´æ–°æ¸²æŸ“æ—¶ï¼Œå…ˆæŠŠ <code>currentHook</code> æŒ‡å‘æ—§ fiber çš„ Hook é“¾è¡¨å¤´ï¼ˆè¿™æ˜¯å”¯ä¸€å’Œæ—§é“¾è¡¨ <code>next</code> ç›¸å…³çš„ä¸€æ­¥ï¼Œä½†åªæ˜¯â€œè¯»å–å¤´èŠ‚ç‚¹â€ï¼Œä¸æ˜¯å¤åˆ¶ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆå§‹åŒ–ï¼šcurrentHook æŒ‡å‘æ—§é“¾è¡¨å¤´ï¼ˆé æ—§é“¾è¡¨çš„ nextï¼Œä½†åªå–å¤´èŠ‚ç‚¹ï¼‰</span>
<span class="hljs-keyword">let</span> currentHook = current !== <span class="hljs-literal">null</span> ? current.<span class="hljs-property">memoizedState</span> : <span class="hljs-literal">null</span>;
<span class="hljs-comment">// æ–° Hook é“¾è¡¨å¤´åˆå§‹ä¸ºç©ºï¼ˆä¸å¤åˆ¶ä»»ä½• nextï¼‰</span>
<span class="hljs-keyword">let</span> workInProgressHook = <span class="hljs-literal">null</span>;
</code></pre>
<h5 data-id="heading-15">æ­¥éª¤ 2ï¼šæ¯è°ƒç”¨ä¸€ä¸ª Hookï¼Œæ‰‹åŠ¨ç§»åŠ¨ <code>currentHook</code> æ‰¾ä¸‹ä¸€ä¸ªæ—§ Hook</h5>
<p>æ¯æ¬¡æ‰§è¡Œ <code>updateState</code>ï¼ˆæ¯”å¦‚ useStateï¼‰ï¼ŒReact ä¼šï¼š</p>
<ol>
<li>ç”¨<strong>å½“å‰çš„ <code>currentHook</code></strong> åˆ›å»ºæ–° Hookï¼ˆå¤åˆ¶ memoizedState/queueï¼‰ï¼›</li>
<li>æ‰‹åŠ¨æ‰§è¡Œ <code>currentHook = currentHook.next</code>â€”â€”è¿™å°±æ˜¯â€œæ‰¾åˆ°ä¸‹ä¸€ä¸ªæ—§ Hookâ€çš„æ ¸å¿ƒæ“ä½œï¼›</li>
<li><strong><code>æ–° Hook çš„ next è®¾ä¸º nullï¼Œåç»­æŒ‰æœ¬æ¬¡é¡ºåºæ‰‹åŠ¨æ‹¼æ¥ï¼ˆè€Œéå¤åˆ¶æ—§ nextï¼‰ã€‚å› ä¸ºæ—§nextæŒ‡å‘çš„æ˜¯å°±hookï¼Œæˆ‘ä»¬è¯´è¿‡æ¯æ¬¡éƒ½ä¼šé‡æ–°åˆ›å»ºæ–°hookï¼Œæ‰€ä»¥åº”è¯¥æ–° Hook çš„nextæ°¸è¿œæŒ‡å‘ä¸‹ä¸€ä¸ªæ–°åˆ›å»ºçš„ Hook</code></strong></li>
</ol>
<h5 data-id="heading-16">å®Œæ•´ä»£ç æ¼”ç¤ºï¼ˆé¡ºåºä¸€è‡´çš„åœºæ™¯ï¼‰ï¼š</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ—§é“¾è¡¨ï¼šHook1ï¼ˆnameï¼‰â†’ Hook2ï¼ˆphoneï¼‰â†’ Hook3ï¼ˆsubmitï¼‰ï¼ˆæ—§ next æ­£å¸¸ï¼‰</span>
<span class="hljs-keyword">let</span> currentHook = oldHook1; <span class="hljs-comment">// åˆå§‹åŒ–æŒ‡å‘æ—§é“¾è¡¨å¤´</span>

<span class="hljs-comment">// ç¬¬1æ¬¡è°ƒç”¨ useStateï¼ˆHook1ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateState</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç”¨å½“å‰ currentHookï¼ˆoldHook1ï¼‰åˆ›å»ºæ–° Hook1ï¼ˆå¤åˆ¶ memoizedState/queueï¼‰</span>
  <span class="hljs-keyword">const</span> newHook1 = <span class="hljs-title function_">createWorkInProgressHook</span>(currentHook);
  newHook1.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ä¸å¤åˆ¶ oldHook1.nextï¼ˆoldHook1.next æ˜¯ oldHook2ï¼‰</span>
  
  <span class="hljs-comment">// æ‰‹åŠ¨ç§»åŠ¨ currentHook â†’ æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ—§ Hookï¼ˆoldHook2ï¼‰</span>
  currentHook = currentHook.<span class="hljs-property">next</span>; 
  
  workInProgressHook = newHook1; <span class="hljs-comment">// æ–°é“¾è¡¨å¤´æŒ‡å‘ newHook1</span>
}

<span class="hljs-comment">// ç¬¬2æ¬¡è°ƒç”¨ useStateï¼ˆHook2ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateState</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç”¨å½“å‰ currentHookï¼ˆoldHook2ï¼‰åˆ›å»ºæ–° Hook2</span>
  <span class="hljs-keyword">const</span> newHook2 = <span class="hljs-title function_">createWorkInProgressHook</span>(currentHook);
  newHook2.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ä¸å¤åˆ¶ oldHook2.nextï¼ˆoldHook2.next æ˜¯ oldHook3ï¼‰</span>
  
  <span class="hljs-comment">// æ‰‹åŠ¨ç§»åŠ¨ currentHook â†’ æ‰¾åˆ°ä¸‹ä¸€ä¸ªæ—§ Hookï¼ˆoldHook3ï¼‰</span>
  currentHook = currentHook.<span class="hljs-property">next</span>; 
  
  <span class="hljs-comment">// æ‰‹åŠ¨æ‹¼æ¥æ–°é“¾è¡¨çš„ nextï¼ˆæœ¬æ¬¡é¡ºåºï¼‰</span>
  workInProgressHook.<span class="hljs-property">next</span> = newHook2;
  workInProgressHook = newHook2;
}

<span class="hljs-comment">// ç¬¬3æ¬¡è°ƒç”¨ useStateï¼ˆHook3ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">updateState</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç”¨å½“å‰ currentHookï¼ˆoldHook3ï¼‰åˆ›å»ºæ–° Hook3</span>
  <span class="hljs-keyword">const</span> newHook3 = <span class="hljs-title function_">createWorkInProgressHook</span>(currentHook);
  newHook3.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;
  
  <span class="hljs-comment">// æ‰‹åŠ¨ç§»åŠ¨ currentHook â†’ æ—§é“¾è¡¨ç»“æŸï¼ˆnullï¼‰</span>
  currentHook = currentHook.<span class="hljs-property">next</span>; 
  
  <span class="hljs-comment">// æ‰‹åŠ¨æ‹¼æ¥æ–°é“¾è¡¨çš„ next</span>
  workInProgressHook.<span class="hljs-property">next</span> = newHook3;
  workInProgressHook = newHook3;
}
</code></pre>
<h5 data-id="heading-17">å…³é”®ï¼šæ‰¾ä¸‹ä¸€ä¸ªæ—§ Hook é çš„æ˜¯ <code>currentHook = currentHook.next</code>ï¼Œè€Œéæ–° Hook çš„ <code>next</code></h5>
<ul>
<li>æ—§é“¾è¡¨çš„ <code>next</code> åªè¢« <code>currentHook</code> ç”¨æ¥â€œç§»åŠ¨æŒ‡é’ˆâ€ï¼Œä½†æ–° Hook å®Œå…¨ä¸å¤åˆ¶è¿™ä¸ª <code>next</code>ï¼›</li>
<li>æ–° Hook çš„ <code>next</code> æ˜¯<strong>æŒ‰æœ¬æ¬¡è°ƒç”¨é¡ºåºæ‰‹åŠ¨æ‹¼æ¥</strong>çš„ï¼Œå’Œæ—§ Hook çš„ <code>next</code> æ— å…³ï¼›</li>
<li>å“ªæ€•æ—§é“¾è¡¨çš„ <code>next</code> å¼‚å¸¸ï¼ˆæ¯”å¦‚æŒ‡å‘ null/åƒµå°¸èŠ‚ç‚¹ï¼‰ï¼Œ<code>currentHook</code> ç§»åŠ¨æ—¶èƒ½ç«‹åˆ»å‘ç°ï¼ŒåŠæ—¶æŠ¥é”™ï¼Œè€Œå¤åˆ¶æ—§ <code>next</code> ä¼šæŠŠå¼‚å¸¸å¸¦å…¥æ–°é“¾è¡¨ã€‚</li>
</ul>
<h4 data-id="heading-18">é€šä¿—æ¯”å–»ï¼šåƒâ€œæŒ‰é¡ºåºé¢†å¿«é€’â€</h4>
<p>æŠŠæ—§ Hook é“¾è¡¨æ¯”ä½œâ€œå¿«é€’æŸœçš„æ ¼å­â€ï¼ˆæŒ‰é¡ºåºç¼–å·1ã€2ã€3â€¦ï¼‰ï¼Œæ¯æ¬¡æ¸²æŸ“é¢†å¿«é€’ï¼š</p>
<ul>
<li>æ­£å¸¸æƒ…å†µï¼šæ¯æ¬¡éƒ½æŒ‰1â†’2â†’3çš„é¡ºåºé¢†ï¼Œæ ¼å­é‡Œçš„å¿«é€’ï¼ˆçŠ¶æ€ï¼‰æ°¸è¿œå¯¹åº”ä½ çš„ Hookï¼›</li>
<li>æ¡ä»¶è¯­å¥ï¼šç¬¬ä¸€æ¬¡é¢†1â†’3ï¼ˆè·³è¿‡2ï¼‰ï¼Œç¬¬äºŒæ¬¡é¢†1â†’2â†’3â€”â€”æ­¤æ—¶é¢†2å·æ ¼å­æ—¶ï¼Œé‡Œé¢æ˜¯åŸæœ¬3å·çš„å¿«é€’ï¼ˆsubmitçš„çŠ¶æ€ï¼‰ï¼Œé¢†3å·æ—¶æ ¼å­ç©ºäº†ï¼Œç›´æ¥æŠ¥é”™ã€‚</li>
</ul>
<h4 data-id="heading-19">æ€»ç»“</h4>
<p>Hook ä¸èƒ½æ”¾æ¡ä»¶è¯­å¥é‡Œçš„æ ¸å¿ƒåŸå› ï¼š</p>
<ol>
<li>React æ›´æ–°æ—¶ï¼Œä¼š<strong>æŒ‰æœ¬æ¬¡ Hook è°ƒç”¨é¡ºåºï¼Œé€ä¸ªåŒ¹é…æ—§ Hook é“¾è¡¨çš„èŠ‚ç‚¹</strong>ï¼ˆæŒ‡é’ˆé€æ¬¡åç§»ï¼‰ï¼›</li>
<li>æ¡ä»¶è¯­å¥ä¼šå¯¼è‡´æœ¬æ¬¡ Hook çš„è°ƒç”¨é¡ºåº/æ•°é‡ï¼Œå’Œæ—§é“¾è¡¨çš„èŠ‚ç‚¹é¡ºåº/æ•°é‡ä¸ä¸€è‡´ï¼›</li>
<li>æœ€ç»ˆè¦ä¹ˆçŠ¶æ€é”™ä½ï¼ˆå¼ å† ææˆ´ï¼‰ï¼Œè¦ä¹ˆç›´æ¥æŠ¥é”™ï¼ˆæ•°é‡ä¸åŒ¹é…ï¼‰ï¼Œå®Œå…¨ç ´å Hook çŠ¶æ€å’Œç»„ä»¶çš„ç»‘å®šå…³ç³»ã€‚</li>
</ol>
<h2 data-id="heading-20">å…³äºuseEffect</h2>
<h3 data-id="heading-21">useEffectå‰¯ä½œç”¨å‡½æ•°å•¥æ—¶å€™æ‰§è¡Œï¼Ÿ</h3>
<h4 data-id="heading-22">ä¸€ã€å…ˆææ‡‚æ ¸å¿ƒæ¦‚å¿µï¼šReact å·¥ä½œçš„ä¸‰å¤§æ­¥éª¤</h4>
<p>æ–‡ç« é‡Œæåˆ°çš„ React å·¥ä½œæµç¨‹æ˜¯ç†è§£æ‰€æœ‰é—®é¢˜çš„åŸºç¡€ï¼Œå…ˆæŠŠè¿™ä¸ªæ ¸å¿ƒæ¡†æ¶è®°ä½ï¼š</p>
<ol>
<li>
<p><strong>è°ƒåº¦å™¨</strong>ï¼šå†³å®šã€Œä»€ä¹ˆæ—¶å€™æ›´æ–°ã€ï¼ˆæ¯”å¦‚ç”¨æˆ·ç‚¹å‡»ã€æ•°æ®è¯·æ±‚å®Œæˆè§¦å‘æ›´æ–°ï¼‰</p>
<p>è°ƒåº¦å™¨å°±æ˜¯ React çš„ã€Œæ—¶é—´ç®¡å®¶ã€ï¼Œå®ƒåˆ¤æ–­ â€œä»€ä¹ˆæ—¶å€™è¯¥å¹²æ´»â€ã€‚æ¯”å¦‚ä½ ç‚¹å‡»æŒ‰é’®æƒ³æ”¹é¡µé¢å†…å®¹ï¼Œè°ƒåº¦å™¨ä¼šè¯´ â€œç°åœ¨å¯ä»¥å¼€å§‹æ›´æ–°äº†â€ï¼›å†æ¯”å¦‚è¯·æ±‚æ¥å£æ‹¿åˆ°æ•°æ®åï¼Œè°ƒåº¦å™¨ä¼šè¯´ â€œæ•°æ®åˆ°äº†ï¼Œè¯¥æ›´æ–°é¡µé¢äº†â€ã€‚</p>
</li>
<li>
<p><strong>åè°ƒå™¨</strong>ï¼šå†³å®šã€Œæ›´æ–°ä»€ä¹ˆå†…å®¹ã€ï¼ˆç”Ÿæˆ Fiber æ ‘ï¼Œç»™éœ€è¦æ“ä½œçš„ Fiber æ‰“æ ‡è®°ï¼Œæ„å»º effectListï¼‰</p>
<p>åè°ƒå™¨æ˜¯ React çš„ã€Œè§„åˆ’å¸ˆã€ï¼Œå®ƒä¸ç®¡ â€œä»€ä¹ˆæ—¶å€™å¹²â€ï¼Œåªç®¡ â€œå¹²ä»€ä¹ˆâ€ã€‚</p>
</li>
<li>
<p><strong>æ¸²æŸ“å™¨</strong>ï¼šæ‰§è¡Œã€Œå®é™…çš„æ›´æ–°æ“ä½œã€ï¼ˆéå† effectListï¼Œæ‰§è¡Œ DOM æ’å…¥/æ›´æ–°ã€useEffect å›è°ƒç­‰ï¼‰</p>
<p>æ¸²æŸ“å™¨æ˜¯ React çš„ã€Œæ‰“å·¥äººã€ï¼Œå®ƒç…§ç€åè°ƒå™¨åˆ—çš„ effectList æ¸…å•å¹²æ´» â€”â€” éå†é“¾è¡¨ï¼Œçœ‹åˆ°ã€ŒPlacementã€æ ‡è®°å°±æ’ DOMï¼Œçœ‹åˆ°ã€ŒPassiveã€æ ‡è®°å°±æ‰§è¡Œ useEffect å›è°ƒã€‚</p>
</li>
</ol>
<p>å…¶ä¸­ï¼Œ<strong>Fiber</strong> å¯ä»¥ç®€å•ç†è§£ä¸ºã€Œå¸¦æ ‡è®°çš„è™šæ‹Ÿ DOM èŠ‚ç‚¹ã€ï¼Œ</p>
<pre><code class="hljs language-php" lang="php">å¯ä»¥ç†è§£ä¸ºã€Œå¸¦å¤‡æ³¨çš„è™šæ‹ŸDOMæ ‘ã€ï¼Œæ¯ä¸ªç»„ä»¶å¯¹åº”ä¸€ä¸ª <span class="hljs-built_in">Fiber</span> èŠ‚ç‚¹ï¼›
æ‰“æ ‡è®°ï¼šæ¯”å¦‚æŸä¸ªç»„ä»¶éœ€è¦æ–°å¢ DOMï¼Œå°±ç»™å®ƒçš„ <span class="hljs-built_in">Fiber</span> æ‰“ã€ŒPlacementï¼ˆæ’å…¥ï¼‰ã€æ ‡è®°ï¼›æŸä¸ªç»„ä»¶æœ‰ useEffect è¦æ‰§è¡Œï¼Œå°±æ‰“ã€ŒPassiveã€æ ‡è®°ï¼›
</code></pre>
<p><strong>effectList</strong> æ˜¯ã€Œéœ€è¦æ‰§è¡Œå‰¯ä½œç”¨ï¼ˆæ¯”å¦‚ DOM æ“ä½œã€useEffectï¼‰çš„ Fiber é“¾è¡¨ã€ã€‚</p>
<pre><code class="hljs language-php" lang="php"> effectListï¼šæŠŠæ‰€æœ‰â€œæœ‰æ ‡è®°è¦å¹²æ´»â€çš„ <span class="hljs-built_in">Fiber</span> èŠ‚ç‚¹ä¸²æˆä¸€ä¸ªé“¾è¡¨
ï¼ˆæ¯”å¦‚â€œChildè¦æ‰§è¡ŒuseEffect â†’ Parentè¦æ‰§è¡ŒuseEffect â†’ Appè¦æ‰§è¡ŒuseEffectâ€ï¼‰ï¼Œæ–¹ä¾¿åç»­æŒ¨ä¸ªå¤„ç†ã€‚
</code></pre>
<h4 data-id="heading-23">äºŒã€ç¬¬ä¸€ä¸ªé—®é¢˜ï¼šuseEffect çš„æ‰§è¡Œé¡ºåºï¼ˆchild -&gt; parent -&gt; appï¼‰</h4>
<h5 data-id="heading-24">æ ¸å¿ƒé€»è¾‘ï¼šeffectList çš„æ„å»ºåœ¨ã€Œå½’é˜¶æ®µã€</h5>
<p>React åè°ƒå™¨å¤„ç†ç»„ä»¶æ ‘æ—¶ï¼Œåˆ†ã€Œé€’ã€å’Œã€Œå½’ã€ä¸¤ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li><strong>é€’é˜¶æ®µ</strong>ï¼šä»æ ¹ç»„ä»¶ï¼ˆAppï¼‰å‘ä¸‹éå†åˆ°å¶å­ç»„ä»¶ï¼ˆChildï¼‰ï¼Œç›¸å½“äºã€Œä»ä¸Šåˆ°ä¸‹æ‰¾è¦æ›´æ–°çš„ç»„ä»¶ã€ï¼›</li>
<li><strong>å½’é˜¶æ®µ</strong>ï¼šä»å¶å­ç»„ä»¶ï¼ˆChildï¼‰å‘ä¸Šå›åˆ°æ ¹ç»„ä»¶ï¼ˆAppï¼‰ï¼Œç›¸å½“äºã€Œä»ä¸‹åˆ°ä¸Šç»™æ‰¾åˆ°çš„ç»„ä»¶æ‰“æ ‡è®°ã€æ„å»º effectListã€ã€‚</li>
</ul>
<p>è€Œ useEffect å¯¹åº”çš„ Fiber ä¼šè¢«æ‰“ä¸Š <code>Passive</code> æ ‡è®°ï¼Œè¿™ä¸ªæ ‡è®°çš„æ·»åŠ ã€effectList çš„æ„å»ºéƒ½å‘ç”Ÿåœ¨ã€Œå½’é˜¶æ®µã€ã€‚</p>
<p>æ‰€ä»¥ effectList çš„é¡ºåºæ˜¯ï¼šChild â†’ Parent â†’ Appï¼Œæ¸²æŸ“å™¨éå† effectList æ‰§è¡Œ useEffect å›è°ƒæ—¶ï¼Œè‡ªç„¶ä¹Ÿæ˜¯è¿™ä¸ªé¡ºåºï¼Œæ§åˆ¶å°å°±ä¼šå…ˆæ‰“å° <code>child</code>ï¼Œå† <code>parent</code>ï¼Œæœ€å <code>app</code>ã€‚</p>
<h5 data-id="heading-25">ä¸¾ä¸ªé€šä¿—ä¾‹å­</h5>
<p>ä½ å¯ä»¥æŠŠç»„ä»¶æ ‘æƒ³è±¡æˆã€Œçˆ·çˆ·ï¼ˆAppï¼‰â†’ çˆ¸çˆ¸ï¼ˆParentï¼‰â†’ å„¿å­ï¼ˆChildï¼‰ã€ï¼š</p>
<ul>
<li>é€’é˜¶æ®µï¼šçˆ·çˆ·å…ˆå–Šçˆ¸çˆ¸ï¼Œçˆ¸çˆ¸å†å–Šå„¿å­ï¼Œç¡®è®¤å¤§å®¶æ˜¯å¦éœ€è¦æ›´æ–°ï¼›</li>
<li>å½’é˜¶æ®µï¼šå„¿å­å…ˆæŠ¥å‘Šã€Œæˆ‘è¦æ‰§è¡Œ useEffectã€ï¼Œç„¶åçˆ¸çˆ¸æŠ¥å‘Šï¼Œæœ€åçˆ·çˆ·æŠ¥å‘Šï¼›</li>
<li>æ‰§è¡Œæ—¶ï¼šæŒ‰ã€Œå„¿å­â†’çˆ¸çˆ¸â†’çˆ·çˆ·ã€çš„é¡ºåºæ‰§è¡Œ useEffect å›è°ƒã€‚</li>
</ul>
<h4 data-id="heading-26">ä¸‰ã€ç¬¬äºŒä¸ªé—®é¢˜ï¼šuseEffect([]) å’Œ componentDidMount è°ƒç”¨æ—¶æœºä¸åŒ</h4>
<h5 data-id="heading-27">è¡¨é¢ç›¸ä¼¼ï¼Œåº•å±‚é€»è¾‘ä¸åŒ</h5>
<ul>
<li><strong>ç›¸ä¼¼ç‚¹</strong>ï¼šä¸¤è€…éƒ½åªåœ¨ã€Œç»„ä»¶æŒ‚è½½ï¼ˆmountï¼‰ã€æ—¶æ‰§è¡Œä¸€æ¬¡ï¼ˆuseEffect å› ä¸º deps ä¸ºç©ºï¼Œä¸ä¼šè§¦å‘æ›´æ–°ï¼‰ï¼›</li>
<li><strong>æ ¸å¿ƒä¸åŒ</strong>ï¼šæ‰§è¡Œæ—¶æœºçš„ã€ŒåŒæ­¥/å¼‚æ­¥ã€å·®å¼‚ï¼š
<ol>
<li><code>componentDidMount</code>ï¼šå±äºç±»ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼Œåœ¨ã€ŒDOM æ¸²æŸ“å®ŒæˆååŒæ­¥æ‰§è¡Œã€ï¼ˆæ¸²æŸ“å®Œç«‹åˆ»æ‰§è¡Œï¼Œé˜»å¡åç»­ä»£ç ï¼‰ï¼›</li>
<li><code>useEffect([])</code>ï¼šå±äº Passive Effectï¼ŒReact ä¼šåœ¨ã€ŒDOM æ¸²æŸ“å®Œæˆåï¼ŒæŠŠæ‰€æœ‰ Passive Effect çš„å›è°ƒæ”¾åˆ°å¼‚æ­¥é˜Ÿåˆ—é‡Œæ‰§è¡Œã€ï¼ˆä¸é˜»å¡ä¸»çº¿ç¨‹ï¼Œæµè§ˆå™¨å…ˆç»˜åˆ¶é¡µé¢ï¼Œå†æ‰§è¡Œå›è°ƒï¼‰ã€‚</li>
</ol>
</li>
</ul>
<h5 data-id="heading-28">æ›´è´´è¿‘ componentDidMount çš„æ˜¯ useLayoutEffect</h5>
<p><code>useLayoutEffect</code> çš„å›è°ƒä¼šåœ¨ã€ŒDOM æ¸²æŸ“å®ŒæˆååŒæ­¥æ‰§è¡Œã€ï¼Œå’Œ componentDidMount æ—¶æœºå‡ ä¹ä¸€è‡´ï¼›è€Œ useEffect æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæœ‰æ—¶ç”¨ useEffect æ“ä½œ DOM ä¼šçœ‹åˆ°ã€Œä¸€é—ªè€Œè¿‡ã€çš„è§†è§‰é—®é¢˜ï¼ˆé¡µé¢å…ˆæ¸²æŸ“ï¼Œå†æ‰§è¡Œå›è°ƒä¿®æ”¹ DOMï¼‰ï¼Œè€Œ useLayoutEffect ä¸ä¼šã€‚</p>
<h4 data-id="heading-29">å››ã€useEffect å®Œæ•´æ‰§è¡Œæµç¨‹ï¼ˆç»“åˆæ–‡ç« ï¼‰</h4>
<ol>
<li>ç»„ä»¶è§¦å‘æ›´æ–° â†’ åè°ƒå™¨æ‰§è¡Œ FunctionComponentï¼Œé‡åˆ° useEffect æ£€æŸ¥ deps æ˜¯å¦å˜åŒ–ï¼›</li>
<li>å¦‚æœ deps å˜åŒ– â†’ ç»™å½“å‰ç»„ä»¶çš„ Fiber æ‰“ä¸Š <code>Passive</code> æ ‡è®°ï¼›</li>
<li>åè°ƒå™¨åœ¨ã€Œå½’é˜¶æ®µã€æ„å»º effectListï¼ˆé¡ºåºï¼šå¶å­â†’æ ¹ï¼‰ï¼›</li>
<li>æ¸²æŸ“å™¨éå† effectListï¼š
<ul>
<li>å…ˆæ‰§è¡Œæ‰€æœ‰ useEffect çš„ã€Œé”€æ¯å‡½æ•°ã€ï¼ˆå³å›è°ƒçš„è¿”å›å€¼ï¼‰ï¼›</li>
<li>å†æ‰§è¡Œæ‰€æœ‰ useEffect çš„ã€Œå›è°ƒå‡½æ•°ã€ï¼ˆcreateï¼‰ï¼›</li>
</ul>
</li>
<li>æ•´ä¸ªè¿‡ç¨‹åœ¨é¡µé¢æ¸²æŸ“å<strong>å¼‚æ­¥</strong>å®Œæˆã€‚</li>
</ol>
<h4 data-id="heading-30">æ€»ç»“</h4>
<ol>
<li><strong>useEffect æ‰§è¡Œé¡ºåº</strong>ï¼šç”± effectList å†³å®šï¼Œè€Œ effectList æ„å»ºäºã€Œå½’é˜¶æ®µã€ï¼Œæ‰€ä»¥æ˜¯ã€Œå­ç»„ä»¶ â†’ çˆ¶ç»„ä»¶ â†’ æ ¹ç»„ä»¶ã€ï¼›</li>
<li><strong>useEffect æ‰§è¡Œæ—¶æœº</strong>ï¼šDOM æ¸²æŸ“åå¼‚æ­¥æ‰§è¡Œï¼Œå’Œç±»ç»„ä»¶çš„ componentDidMountï¼ˆåŒæ­¥æ‰§è¡Œï¼‰æ—¶æœºä¸åŒï¼ŒuseLayoutEffect æ‰æ˜¯åŒæ­¥æ‰§è¡Œï¼Œæ›´è´´è¿‘ componentDidMountï¼›</li>
<li><strong>æ ¸å¿ƒæ€è·¯</strong>ï¼šç†è§£ useEffect ä¸è¦ä¾èµ–ã€Œç”Ÿå‘½å‘¨æœŸç±»æ¯”ã€ï¼Œè¦ä» Reactã€Œè°ƒåº¦â†’åè°ƒâ†’æ¸²æŸ“ã€çš„åº•å±‚æµç¨‹å‡ºå‘ï¼Œæ ¸å¿ƒæ˜¯ effectList çš„æ„å»ºå’Œéå†é€»è¾‘ã€‚</li>
</ol>
<h4 data-id="heading-31">ä¾èµ–æ•°ç»„ä¼ ç©ºæ•°ç»„ <code>[]</code> å’Œå®Œå…¨ä¸å†™ä¾èµ– çš„åŒºåˆ«</h4>


























<table><thead><tr><th>å†™æ³•</th><th>deps å˜åŒ–åˆ¤æ–­é€»è¾‘</th><th>Passive æ ‡è®°æ—¶æœº</th><th>æ‰§è¡Œæ¬¡æ•°</th><th>åº•å±‚æœ¬è´¨</th></tr></thead><tbody><tr><td><code>useEffect(() =&gt; {}, [])</code></td><td>ä»…é¦–æ¬¡æŒ‚è½½æ—¶ï¼Œå› â€œæ— æ—§ depsâ€è§†ä¸º deps å˜åŒ–ï¼›åç»­æ›´æ–°æ—¶ï¼Œæ–°æ—§ deps éƒ½æ˜¯ç©ºæ•°ç»„ï¼Œåˆ¤å®šä¸ºâ€œæ— å˜åŒ–â€</td><td>ä»…<strong>é¦–æ¬¡æŒ‚è½½</strong>çš„è°ƒå’Œé˜¶æ®µï¼Œç»™ Fiber æ‰“ Passive æ ‡è®°</td><td>åªæ‰§è¡Œ 1 æ¬¡ï¼ˆç»„ä»¶æŒ‚è½½æ—¶ï¼‰</td><td>å¯¹åº”â€œä»… mount æ‰§è¡Œâ€ï¼Œå’Œ <code>componentDidMount</code> é€»è¾‘å¯¹é½</td></tr><tr><td><code>useEffect(() =&gt; {})</code></td><td>å®Œå…¨ä¸åˆ¤æ–­ deps å˜åŒ–ï¼ŒReact è§†ä¸ºâ€œæ¯æ¬¡æ›´æ–°éƒ½æœ‰å˜åŒ–â€</td><td><strong>æ¯æ¬¡ç»„ä»¶æ›´æ–°</strong>çš„è°ƒå’Œé˜¶æ®µï¼Œéƒ½ç»™ Fiber æ‰“ Passive æ ‡è®°</td><td>ç»„ä»¶æ¯æ¬¡æ¸²æŸ“/æ›´æ–°éƒ½æ‰§è¡Œï¼ˆåŒ…æ‹¬é¦–æ¬¡æŒ‚è½½ï¼‰</td><td>å¯¹åº”â€œmount + æ¯æ¬¡ update æ‰§è¡Œâ€ï¼Œå’Œ <code>componentDidUpdate</code> æ— ä¾èµ–ç‰ˆå¯¹é½</td></tr></tbody></table>
<h4 data-id="heading-32">ç»“åˆåº•å±‚æµç¨‹ï¼Œæ‹†è§£å·®å¼‚æ ¹æº</h4>
<p>æˆ‘ä»¬è¿˜æ˜¯ä»¥ <code>App â†’ Parent â†’ Child</code> ç»„ä»¶ä¸ºä¾‹ï¼Œç»“åˆè°ƒå’Œé˜¶æ®µçš„é€’/å½’æµç¨‹ï¼Œçœ‹ä¸¤ç§å†™æ³•çš„æ‰§è¡Œé€»è¾‘ï¼š</p>
<h5 data-id="heading-33">1. å†™æ³•1ï¼š<code>useEffect(() =&gt; {}, [])</code>ï¼ˆç©ºæ•°ç»„ä¾èµ–ï¼‰</h5>
<ul>
<li><strong>é€’é˜¶æ®µ</strong>ï¼š
<ul>
<li>é¦–æ¬¡æŒ‚è½½ï¼šæ‰§è¡Œç»„ä»¶æ—¶ï¼Œæ£€æŸ¥ depsï¼ˆæ— æ—§ depsï¼‰â†’ åˆ¤å®šâ€œå˜åŒ–â€ï¼Œè®°å½• <code>needPassiveEffect = true</code>ï¼›</li>
<li>åç»­æ›´æ–°ï¼ˆæ¯”å¦‚ Parent ç»„ä»¶ setStateï¼‰ï¼šæ‰§è¡Œç»„ä»¶æ—¶ï¼Œå¯¹æ¯”æ–°æ—§ depsï¼ˆéƒ½æ˜¯ <code>[]</code>ï¼‰â†’ åˆ¤å®šâ€œæ— å˜åŒ–â€ï¼Œè®°å½• <code>needPassiveEffect = false</code>ï¼›</li>
</ul>
</li>
<li><strong>å½’é˜¶æ®µ</strong>ï¼š
<ul>
<li>é¦–æ¬¡æŒ‚è½½ï¼šå›  <code>needPassiveEffect = true</code> â†’ æ‰“ Passive æ ‡è®°ï¼ŒåŠ å…¥ effectList â†’ commit é˜¶æ®µæ‰§è¡Œå›è°ƒï¼›</li>
<li>åç»­æ›´æ–°ï¼šå›  <code>needPassiveEffect = false</code> â†’ ä¸æ‰“ Passive æ ‡è®°ï¼Œä¸ä¼šåŠ å…¥ effectList â†’ å›è°ƒä¸æ‰§è¡Œï¼›</li>
</ul>
</li>
<li><strong>æœ€ç»ˆè¡¨ç°</strong>ï¼šä»…ç»„ä»¶é¦–æ¬¡æŒ‚è½½æ—¶æ‰§è¡Œ 1 æ¬¡ï¼Œåç»­æ— è®ºçˆ¶/å­ç»„ä»¶æ€ä¹ˆæ›´æ–°ï¼Œéƒ½ä¸å†æ‰§è¡Œã€‚</li>
</ul>
<h5 data-id="heading-34">2. å†™æ³•2ï¼š<code>useEffect(() =&gt; {})</code>ï¼ˆæ— ä¾èµ–æ•°ç»„ï¼‰</h5>
<ul>
<li><strong>é€’é˜¶æ®µ</strong>ï¼š
React å¯¹â€œä¸å†™ depsâ€çš„å¤„ç†é€»è¾‘æ˜¯â€”â€”<strong>è·³è¿‡ deps å¯¹æ¯”ï¼Œç›´æ¥åˆ¤å®šä¸ºâ€œå˜åŒ–â€</strong>ï¼Œæ— è®ºé¦–æ¬¡æŒ‚è½½è¿˜æ˜¯åç»­æ›´æ–°ï¼Œéƒ½è®°å½• <code>needPassiveEffect = true</code>ï¼›</li>
<li><strong>å½’é˜¶æ®µ</strong>ï¼š
æ¯æ¬¡ç»„ä»¶æ›´æ–°çš„è°ƒå’Œé˜¶æ®µï¼Œéƒ½ä¼šç»™ Fiber æ‰“ Passive æ ‡è®°ï¼ŒåŠ å…¥ effectListï¼›</li>
<li><strong>æœ€ç»ˆè¡¨ç°</strong>ï¼š
<ul>
<li>é¦–æ¬¡æŒ‚è½½æ‰§è¡Œ 1 æ¬¡ï¼›</li>
<li>åªè¦ç»„ä»¶è‡ªèº«/çˆ¶ç»„ä»¶è§¦å‘æ›´æ–°ï¼ˆæ¯”å¦‚ Parent æ”¹ state å¯¼è‡´ Child é‡æ¸²æŸ“ï¼‰ï¼Œè¯¥ useEffect å°±ä¼šé‡æ–°æ‰§è¡Œï¼›</li>
<li>æç«¯æƒ…å†µï¼šå¦‚æœçˆ¶ç»„ä»¶é¢‘ç¹ setStateï¼Œè¿™ä¸ª useEffect ä¼šè¢«é¢‘ç¹è§¦å‘ï¼Œç”šè‡³å¯¼è‡´æ€§èƒ½é—®é¢˜ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-35">å®æˆ˜ä¾‹å­ï¼šç›´è§‚çœ‹åˆ°å·®å¼‚</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å†™æ³•1ï¼šç©ºæ•°ç»„ä¾èµ–</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç©ºæ•°ç»„ä¾èµ–ï¼šChild æ‰§è¡Œ'</span>);
  }, []);

  <span class="hljs-comment">// å†™æ³•2ï¼šæ— ä¾èµ–æ•°ç»„</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ— ä¾èµ–ï¼šChild æ‰§è¡Œ'</span>);
  });

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Child<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;ç‚¹æˆ‘æ›´æ–°<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h5 data-id="heading-36">æ‰§è¡Œç»“æœï¼š</h5>
<ul>
<li>é¦–æ¬¡æŒ‚è½½ï¼š
<pre><code class="hljs">ç©ºæ•°ç»„ä¾èµ–ï¼šChild æ‰§è¡Œ
æ— ä¾èµ–ï¼šChild æ‰§è¡Œ
</code></pre>
</li>
<li>ç‚¹å‡»æŒ‰é’®ï¼ˆParent è§¦å‘æ›´æ–°ï¼ŒChild é‡æ¸²æŸ“ï¼‰ï¼š
<pre><code class="hljs language-arduino" lang="arduino">æ— ä¾èµ–ï¼šChild æ‰§è¡Œ <span class="hljs-comment">// ç©ºæ•°ç»„ä¾èµ–çš„å›è°ƒä¸å†æ‰§è¡Œï¼Œæ— ä¾èµ–çš„æ¯æ¬¡éƒ½æ‰§è¡Œ</span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-37">è¡¥å……ï¼šå®¹æ˜“è¸©çš„å‘</h4>
<ol>
<li><strong>è¯¯ä»¥ä¸ºâ€œä¸å†™ä¾èµ–â€=â€œä¾èµ–æ‰€æœ‰å˜é‡â€</strong>ï¼š
å¾ˆå¤šæ–°æ‰‹è§‰å¾—â€œä¸å†™ depsâ€æ˜¯â€œç›‘å¬æ‰€æœ‰å˜é‡å˜åŒ–â€ï¼Œä½†åº•å±‚é€»è¾‘æ˜¯â€”â€”React ä¸åšä»»ä½• deps å¯¹æ¯”ï¼Œç›´æ¥åˆ¤å®šâ€œæ¯æ¬¡éƒ½å˜åŒ–â€ï¼Œå“ªæ€•ç»„ä»¶å†…æ²¡æœ‰ä»»ä½•å˜é‡å˜åŒ–ï¼Œåªè¦ç»„ä»¶é‡æ¸²æŸ“ï¼Œå°±ä¼šæ‰§è¡Œï¼›</li>
<li><strong>ç©ºæ•°ç»„ä¾èµ–â‰ â€œå®Œå…¨ä¸ä¾èµ–â€</strong>ï¼š
ç©ºæ•°ç»„åªæ˜¯â€œä¸ä¾èµ–ç»„ä»¶å†…çš„ä»»ä½• state/propsâ€ï¼Œä½†å¦‚æœä¾èµ–çš„æ˜¯â€œå¤–éƒ¨å…¨å±€å˜é‡â€ï¼ˆæ¯”å¦‚ window çš„å±æ€§ï¼‰ï¼Œå…¨å±€å˜é‡å˜åŒ–æ—¶ï¼Œå›è°ƒä¹Ÿä¸ä¼šé‡æ–°æ‰§è¡Œï¼ˆå› ä¸º deps è¿˜æ˜¯ç©ºæ•°ç»„ï¼‰ï¼›</li>
<li><strong>æ€§èƒ½é£é™©</strong>ï¼š
ä¸å†™ä¾èµ–çš„ useEffect è‹¥åŒ…å«è€—æ—¶æ“ä½œï¼ˆæ¯”å¦‚æ¥å£è¯·æ±‚ã€DOM é¢‘ç¹ä¿®æ”¹ï¼‰ï¼Œä¼šå¯¼è‡´ç»„ä»¶æ¯æ¬¡æ›´æ–°éƒ½è§¦å‘è€—æ—¶æ“ä½œï¼Œä¸¥é‡æ—¶å¡é¡¿ï¼Œ<strong>å®æˆ˜ä¸­ç»å¯¹è¦é¿å…ä¸å†™ä¾èµ–çš„å†™æ³•</strong>ã€‚</li>
</ol>
<h4 data-id="heading-38">æ€»ç»“</h4>
<ol>
<li><strong>ç©ºæ•°ç»„ <code>[]</code></strong>ï¼šä»…é¦–æ¬¡æŒ‚è½½æ‰“ Passive æ ‡è®°ï¼Œå›è°ƒåªæ‰§è¡Œ 1 æ¬¡ï¼Œå¯¹åº”â€œä»… mount æ‰§è¡Œâ€ï¼›</li>
<li><strong>ä¸å†™ä¾èµ–</strong>ï¼šæ¯æ¬¡æ›´æ–°éƒ½æ‰“ Passive æ ‡è®°ï¼Œå›è°ƒæ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œï¼Œå¯¹åº”â€œmount + æ¯æ¬¡ update æ‰§è¡Œâ€ï¼›</li>
<li>åº•å±‚æ ¸å¿ƒå·®å¼‚ï¼šReact å¯¹â€œç©ºæ•°ç»„â€åšä¸¥æ ¼çš„ deps å¯¹æ¯”ï¼Œå¯¹â€œä¸å†™ä¾èµ–â€ç›´æ¥è·³è¿‡å¯¹æ¯”ã€åˆ¤å®šä¸ºæ¯æ¬¡éƒ½å˜åŒ–ã€‚</li>
</ol>
<h4 data-id="heading-39">å®æˆ˜å»ºè®®</h4>
<ul>
<li>é™¤éæ˜ç¡®éœ€è¦â€œæ¯æ¬¡æ›´æ–°éƒ½æ‰§è¡Œâ€ï¼ˆå‡ ä¹æ²¡æœ‰è¿™ç§åœºæ™¯ï¼‰ï¼Œå¦åˆ™<strong>ç»å¯¹ä¸è¦çœç•¥ä¾èµ–æ•°ç»„</strong>ï¼›</li>
<li>è‹¥æƒ³â€œä»…æŒ‚è½½æ‰§è¡Œâ€ï¼Œç”¨ <code>[]</code>ï¼›</li>
<li>è‹¥æƒ³â€œä¾èµ–æŸä¸ªå˜é‡å˜åŒ–æ‰æ‰§è¡Œâ€ï¼ŒæŠŠå˜é‡æ”¾è¿›ä¾èµ–æ•°ç»„ï¼ˆæ¯”å¦‚ <code>[count]</code>ï¼‰ï¼ŒReact ä¼šç²¾å‡†å¯¹æ¯”è¯¥å˜é‡ï¼Œä»…å˜åŒ–æ—¶æ‰“ Passive æ ‡è®°ã€‚</li>
</ul>
<h2 data-id="heading-40">useState å’Œ useRef</h2>
<h3 data-id="heading-41">ä¸€ã€å®Œæ•´é—­åŒ…é™·é˜±é¢˜ç›®</h3>
<h4 data-id="heading-42">1. é¢˜ç›®ä»£ç ï¼ˆå¯ç›´æ¥è¿è¡Œï¼‰</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// é—­åŒ…é™·é˜±ç¤ºä¾‹ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">CountDemo</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// åˆå§‹countä¸º0</span>
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// ç‚¹å‡»æŒ‰é’®è§¦å‘ï¼šå»¶è¿Ÿ1ç§’æ›´æ–°count</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// ä¼ å€¼æ›´æ–°ï¼šåŸºäºå½“å‰é—­åŒ…çš„countè®¡ç®—</span>
      <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>);
    }, <span class="hljs-number">1000</span>);
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">padding:</span> '<span class="hljs-attr">20px</span>' }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰countï¼š{count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>ç‚¹å‡»æ›´æ–°countï¼ˆå»¶è¿Ÿ1ç§’ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">CountDemo</span>;
</code></pre>
<h4 data-id="heading-43">2. æ“ä½œä¸é—®é¢˜</h4>
<p><strong>æ“ä½œ</strong>ï¼šå¿«é€Ÿç‚¹å‡»æŒ‰é’® 3 æ¬¡ï¼ˆ1ç§’å†…å®Œæˆï¼‰ã€‚
<strong>é—®é¢˜</strong>ï¼š1ç§’åé¡µé¢ä¸Šçš„ <code>count</code> æœ€ç»ˆæ˜¾ç¤ºå¤šå°‘ï¼Ÿ
<strong>ç­”æ¡ˆ</strong>ï¼š<code>1</code>ï¼ˆè€Œéé¢„æœŸçš„ <code>3</code>ï¼‰ã€‚</p>
<h3 data-id="heading-44">äºŒã€ç°è±¡åŸå› åˆ†æï¼ˆé—­åŒ…é™·é˜±æ ¸å¿ƒï¼‰</h3>
<p>ç»“åˆä½ ä¹‹å‰ç†è§£çš„ã€Œé—­åŒ…å¿«ç…§ã€é€»è¾‘ï¼Œæ‹†è§£æ ¸å¿ƒåŸå› ï¼š</p>
<ol>
<li><strong>æ¯æ¬¡ç‚¹å‡»è§¦å‘çš„æ˜¯ã€ŒåŒä¸€ç‰ˆæœ¬çš„ handleClickã€</strong>ï¼š
å¿«é€Ÿç‚¹å‡»3æ¬¡æ—¶ï¼Œæ‰€æœ‰ç‚¹å‡»éƒ½å‘ç”Ÿåœ¨ã€Œ1ç§’å»¶è¿ŸæœŸå†…ã€ï¼Œç»„ä»¶è¿˜æ²¡é‡æ–°æ¸²æŸ“ï¼Œ<code>&lt;button&gt;</code> çš„ <code>onClick</code> å§‹ç»ˆç»‘å®šã€Œåˆå§‹æ¸²æŸ“çš„ handleClickï¼ˆç‰ˆæœ¬1ï¼‰ã€ã€‚</li>
<li><strong>ç‰ˆæœ¬1 handleClick çš„é—­åŒ…æ•è·çš„æ˜¯åˆå§‹ count=0</strong>ï¼š
3æ¬¡ç‚¹å‡»éƒ½ä¼šé¢„çº¦ã€Œ1ç§’åæ‰§è¡Œ <code>setCount(0 + 1)</code>ã€ï¼Œæœ€ç»ˆ React å¤„ç†è¿™3ä¸ªæ›´æ–°æ—¶ï¼Œéƒ½æ˜¯å°† count è®¾ä¸º <code>1</code>ï¼Œå› æ­¤æœ€ç»ˆåªæ˜¾ç¤º <code>1</code>ã€‚</li>
<li><strong>æ ¸å¿ƒæœ¬è´¨</strong>ï¼šä¼ å€¼æ›´æ–°ï¼ˆ<code>setCount(count + 1)</code>ï¼‰ä¾èµ–ã€Œé—­åŒ…å†…çš„æ—§å¿«ç…§å€¼ã€ï¼Œè€Œé React å†…éƒ¨çš„æœ€æ–°çŠ¶æ€ã€‚</li>
</ol>
<h3 data-id="heading-45">ä¸‰ã€æ”¹é€ æ–¹æ¡ˆï¼šå»¶è¿Ÿ1ç§’æ‹¿åˆ°æœ€æ–°countï¼ˆä¸¤ç§å¸¸ç”¨æ–¹æ¡ˆï¼‰</h3>
<h4 data-id="heading-46">æ–¹æ¡ˆ1ï¼šå‡½æ•°å¼æ›´æ–°ï¼ˆReact å®˜æ–¹æ¨èï¼Œæœ€ä¼˜è§£ï¼‰</h4>
<h5 data-id="heading-47">æ”¹é€ æ€è·¯</h5>
<p>å°† <code>setCount</code> çš„ã€Œä¼ å€¼æ›´æ–°ã€æ”¹ä¸ºã€Œå‡½æ•°å¼æ›´æ–°ã€ï¼Œè®© React è‡ªåŠ¨ä¼ å…¥ã€Œæœ€æ–°çš„ prevCountã€ï¼Œè„±ç¦»é—­åŒ…å¯¹æ—§å€¼çš„ä¾èµ–ã€‚</p>
<h5 data-id="heading-48">æ”¹é€ åä»£ç </h5>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">CountDemo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// å‡½æ•°å¼æ›´æ–°ï¼šå‚æ•°prevCountæ˜¯Reactç»´æŠ¤çš„æœ€æ–°çŠ¶æ€</span>
      <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">prevCount</span> =&gt;</span> prevCount + <span class="hljs-number">1</span>);
    }, <span class="hljs-number">1000</span>);
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">padding:</span> '<span class="hljs-attr">20px</span>' }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰countï¼š{count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>ç‚¹å‡»æ›´æ–°countï¼ˆå»¶è¿Ÿ1ç§’ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">CountDemo</span>;
</code></pre>
<h5 data-id="heading-49">åŸç†ä¸æ•ˆæœ</h5>
<ul>
<li><strong>åŸç†</strong>ï¼šå‡½æ•°å¼æ›´æ–°çš„å‚æ•° <code>prevCount</code> æ˜¯ React åœ¨ã€Œå¤„ç†æ›´æ–°æ—¶ã€ä¼ å…¥çš„ã€Œæœ€æ–°çŠ¶æ€å€¼ã€ï¼Œè€Œéé—­åŒ…å†…çš„æ—§å¿«ç…§ï¼›</li>
<li><strong>æ•ˆæœ</strong>ï¼šå¿«é€Ÿç‚¹å‡»3æ¬¡åï¼Œ1ç§’å†… React ä¼šä¾æ¬¡æ‰§è¡Œï¼š
ç¬¬1æ¬¡ï¼š<code>prevCount=0 â†’ 0+1=1</code>ï¼›
ç¬¬2æ¬¡ï¼š<code>prevCount=1 â†’ 1+1=2</code>ï¼›
ç¬¬3æ¬¡ï¼š<code>prevCount=2 â†’ 2+1=3</code>ï¼›
æœ€ç»ˆ count æ˜¾ç¤º <code>3</code>ï¼Œç¬¦åˆé¢„æœŸã€‚</li>
</ul>
<h4 data-id="heading-50">æ–¹æ¡ˆ2ï¼šuseRef ä¿å­˜æœ€æ–°å€¼ï¼ˆé€‚åˆéœ€ä¸»åŠ¨è·å–æœ€æ–°çŠ¶æ€çš„åœºæ™¯ï¼‰</h4>
<h5 data-id="heading-51">æ”¹é€ æ€è·¯</h5>
<p>åˆ©ç”¨ <code>useRef</code> çš„ <code>current</code> å±æ€§æ˜¯ã€Œå¼•ç”¨ç±»å‹ã€çš„ç‰¹æ€§ï¼ˆé—­åŒ…ä¸­èƒ½æ‹¿åˆ°æœ€æ–°å€¼ï¼Œä¸ä¼šè¢«å¿«ç…§é”å®šï¼‰ï¼ŒåŒæ­¥ <code>count</code> åˆ° <code>ref</code>ï¼Œå»¶è¿Ÿæ“ä½œæ—¶ä» <code>ref</code> å–æœ€æ–°å€¼ã€‚</p>
<h5 data-id="heading-52">æ”¹é€ åä»£ç </h5>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">CountDemo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-comment">// ç”¨refä¿å­˜æœ€æ–°countï¼ˆref.currentæ˜¯å¼•ç”¨ç±»å‹ï¼Œé—­åŒ…èƒ½æ‹¿åˆ°æœ€æ–°å€¼ï¼‰</span>
  <span class="hljs-keyword">const</span> countRef = <span class="hljs-title function_">useRef</span>(count);

  <span class="hljs-comment">// å…³é”®ï¼šæ¯æ¬¡æ¸²æŸ“åŒæ­¥refå’Œæœ€æ–°count</span>
  countRef.<span class="hljs-property">current</span> = count;

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// ä»refä¸­è·å–æœ€æ–°countå€¼</span>
      <span class="hljs-title function_">setCount</span>(countRef.<span class="hljs-property">current</span> + <span class="hljs-number">1</span>);
    }, <span class="hljs-number">1000</span>);
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">padding:</span> '<span class="hljs-attr">20px</span>' }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å½“å‰countï¼š{count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>ç‚¹å‡»æ›´æ–°countï¼ˆå»¶è¿Ÿ1ç§’ï¼‰<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">CountDemo</span>;
</code></pre>
<h5 data-id="heading-53">åŸç†ä¸æ•ˆæœ</h5>
<ul>
<li><strong>åŸç†</strong>ï¼š<code>useRef</code> çš„ <code>current</code> å±æ€§å­˜å‚¨åœ¨å †å†…å­˜ä¸­ï¼Œå¼•ç”¨åœ°å€ä¸å˜ï¼Œæ¯æ¬¡ç»„ä»¶æ¸²æŸ“éƒ½ä¼šåŒæ­¥æœ€æ–°çš„ <code>count</code> åˆ° <code>countRef.current</code>ï¼›å»¶è¿Ÿå›è°ƒæ‰§è¡Œæ—¶ï¼Œèƒ½ç›´æ¥è¯»å–åˆ°ã€Œæœ€æ–°çš„ count å€¼ã€ï¼›</li>
<li><strong>æ•ˆæœ</strong>ï¼šåŒæ ·å®ç°ç‚¹å‡»3æ¬¡å count æ˜¾ç¤º <code>3</code>ï¼Œé€‚åˆéœ€è¦ã€Œåœ¨é—­åŒ…ä¸­ä¸»åŠ¨è·å–æœ€æ–°çŠ¶æ€ã€çš„åœºæ™¯ï¼ˆæ¯”å¦‚é™¤äº†æ›´æ–°ï¼Œè¿˜éœ€æ‰“å°/ä½¿ç”¨æœ€æ–°countï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-54">å››ã€æ–¹æ¡ˆå¯¹æ¯”ä¸é€‚ç”¨åœºæ™¯</h3>























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>æ ¸å¿ƒé€»è¾‘</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¼˜ç‚¹</th></tr></thead><tbody><tr><td>å‡½æ•°å¼æ›´æ–°</td><td>ä¾èµ–Reactä¼ å…¥çš„æœ€æ–°prevState</td><td>ä»…éœ€ã€ŒåŸºäºæœ€æ–°çŠ¶æ€æ›´æ–°ã€ï¼ˆç»å¤§å¤šæ•°åœºæ™¯ï¼‰</td><td>ç®€æ´ã€Reactå®˜æ–¹æ¨è</td></tr><tr><td>useRef</td><td>æ‰‹åŠ¨åŒæ­¥æœ€æ–°çŠ¶æ€åˆ°ref</td><td>éœ€è¦ã€Œä¸»åŠ¨è¯»å–æœ€æ–°çŠ¶æ€ã€ï¼ˆå¦‚æ‰“å°ã€ä¼ å‚ç­‰ï¼‰</td><td>çµæ´»ï¼Œå¯ä¸»åŠ¨æ§åˆ¶çŠ¶æ€</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-55">æ€»ç»“</h4>
<ol>
<li><strong>é—­åŒ…é™·é˜±æœ¬è´¨</strong>ï¼šå¿«é€Ÿç‚¹å‡»æ—¶ï¼Œå»¶è¿Ÿæ›´æ–°ä¾èµ–ã€Œé—­åŒ…å†…çš„æ—§countå¿«ç…§ã€ï¼Œå¤šæ¬¡æ›´æ–°éƒ½æ˜¯åŸºäºåŒä¸€ä¸ªæ—§å€¼ï¼Œæœ€ç»ˆåªç”Ÿæ•ˆä¸€æ¬¡ï¼›</li>
<li><strong>æ ¸å¿ƒæ”¹é€ é€»è¾‘</strong>ï¼šè„±ç¦»é—­åŒ…å¯¹æ—§å€¼çš„ä¾èµ–â€”â€”è¦ä¹ˆç”¨å‡½æ•°å¼æ›´æ–°è®©Reactä¼ æœ€æ–°å€¼ï¼Œè¦ä¹ˆç”¨useRefä¿å­˜æœ€æ–°å€¼ï¼›</li>
<li><strong>æœ€ä½³å®è·µ</strong>ï¼šä¼˜å…ˆä½¿ç”¨ã€Œå‡½æ•°å¼æ›´æ–°ã€ï¼ˆ<code>setXxx(prev =&gt; prev + 1)</code>ï¼‰ï¼Œè¿™æ˜¯Reactä¸ºè§£å†³é—­åŒ…é™·é˜±è®¾è®¡çš„æœ€ä¼˜æ–¹æ¡ˆï¼Œé€‚é…90%ä»¥ä¸Šçš„å»¶è¿Ÿæ›´æ–°åœºæ™¯ã€‚</li>
</ol>
<h3 data-id="heading-56">useState å’Œ useRefçš„åŒºåˆ«</h3>
<h4 data-id="heading-57">ä¸€ã€æ ¸å¿ƒåŒºåˆ«ï¼ˆä»åº•å±‚é€»è¾‘åˆ°ä½¿ç”¨è¡¨ç°ï¼‰</h4>
<p>ä¸ºäº†è®©ä½ ä¸€ç›®äº†ç„¶ï¼Œå…ˆé€šè¿‡å¯¹æ¯”è¡¨æ€»ç»“æ ¸å¿ƒå·®å¼‚ï¼Œå†é€ä¸€æ‹†è§£ï¼š</p>








































<table><thead><tr><th>ç»´åº¦</th><th>useState</th><th>useRef</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒå®šä½</strong></td><td>ç®¡ç†<strong>æ¸²æŸ“ç›¸å…³</strong>çš„çŠ¶æ€</td><td>å­˜å‚¨<strong>éæ¸²æŸ“ç›¸å…³</strong>çš„æŒä¹…åŒ–æ•°æ®</td></tr><tr><td><strong>æ•°æ®ä¿®æ”¹å½±å“</strong></td><td>è°ƒç”¨setterå‡½æ•°ä¼šè§¦å‘ç»„ä»¶<strong>é‡æ–°æ¸²æŸ“</strong></td><td>ç›´æ¥ä¿®æ”¹<code>.current</code><strong>ä¸è§¦å‘ä»»ä½•æ¸²æŸ“</strong></td></tr><tr><td><strong>æ•°æ®è®¿é—®æ–¹å¼</strong></td><td>ç›´æ¥è®¿é—®çŠ¶æ€å˜é‡ï¼ˆå¦‚<code>count</code>ï¼‰</td><td>å¿…é¡»é€šè¿‡<code>.current</code>å±æ€§ï¼ˆå¦‚<code>ref.current</code>ï¼‰</td></tr><tr><td><strong>æ•°æ®æ›´æ–°ç‰¹æ€§</strong></td><td>çŠ¶æ€æ›´æ–°æ˜¯â€œä¸å¯å˜â€çš„ï¼ˆæ–°å€¼æ›¿æ¢æ—§å€¼ï¼‰</td><td>æ•°æ®ä¿®æ”¹æ˜¯â€œå¯å˜â€çš„ï¼ˆç›´æ¥ä¿®æ”¹å¼•ç”¨å€¼ï¼‰</td></tr><tr><td><strong>ä¾èµ–ç›‘å¬</strong></td><td>çŠ¶æ€å˜åŒ–ä¼šè§¦å‘ä¾èµ–è¯¥çŠ¶æ€çš„<code>useEffect</code>/<code>useCallback</code>ç­‰</td><td>ä¿®æ”¹<code>.current</code>ä¸ä¼šè§¦å‘ä¾èµ–ç›‘å¬ï¼ˆéœ€æ‰‹åŠ¨é…åˆ<code>useState</code>/<code>useEffect</code>ï¼‰</td></tr><tr><td><strong>åˆå§‹å€¼ç‰¹æ€§</strong></td><td>åˆå§‹å€¼ä»…åœ¨ç»„ä»¶é¦–æ¬¡æŒ‚è½½æ—¶ç”Ÿæ•ˆï¼ˆåç»­æ¸²æŸ“å¿½ç•¥ï¼‰</td><td>åˆå§‹å€¼ä»…ç”¨äºåˆå§‹åŒ–<code>.current</code>ï¼Œåç»­å¯è‡ªç”±ä¿®æ”¹</td></tr></tbody></table>
<h4 data-id="heading-58">äºŒã€å…³é”®å·®å¼‚æ‹†è§£ï¼ˆç»“åˆä»£ç ç¤ºä¾‹ï¼‰</h4>
<h5 data-id="heading-59">1. æ•°æ®ä¿®æ”¹æ˜¯å¦è§¦å‘æ¸²æŸ“ï¼ˆæœ€æ ¸å¿ƒåŒºåˆ«ï¼‰</h5>
<ul>
<li>
<p><strong>useState</strong>ï¼šçŠ¶æ€æ›´æ–°å¿…ç„¶è§¦å‘ç»„ä»¶é‡æ¸²æŸ“ï¼Œè¿™æ˜¯å®ƒçš„æ ¸å¿ƒè®¾è®¡ç›®çš„â€”â€”è®©é¡µé¢è·ŸéšçŠ¶æ€å˜åŒ–æ›´æ–°ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">StateDemo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'StateDemo æ¸²æŸ“äº†'</span>); <span class="hljs-comment">// æ¯æ¬¡ç‚¹å‡»éƒ½ä¼šæ‰“å°ï¼ˆé‡æ¸²æŸ“ï¼‰</span>
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;
      è®¡æ•°ï¼š{count}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
</li>
<li>
<p><strong>useRef</strong>ï¼šä¿®æ”¹<code>.current</code>å®Œå…¨ä¸è§¦å‘æ¸²æŸ“ï¼Œæ•°æ®ä»…åœ¨å†…å­˜ä¸­æ›´æ–°ï¼Œé¡µé¢æ— æ„ŸçŸ¥ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">RefDemo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> countRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'RefDemo æ¸²æŸ“äº†'</span>); <span class="hljs-comment">// ä»…é¦–æ¬¡æŒ‚è½½æ‰“å°ä¸€æ¬¡</span>
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
      countRef.current += 1; // ä¿®æ”¹ä¸è§¦å‘æ¸²æŸ“
      console.log('å†…å­˜ä¸­çš„å€¼ï¼š', countRef.current); // æ§åˆ¶å°èƒ½çœ‹åˆ°å€¼å˜åŒ–ï¼Œä½†é¡µé¢ä¸å˜
    }}&gt;
      è®¡æ•°ï¼š{countRef.current} {/* å§‹ç»ˆæ˜¾ç¤º0ï¼Œå› ä¸ºæ²¡æ¸²æŸ“ */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
</li>
</ul>
<h5 data-id="heading-60">2. æ•°æ®æ›´æ–°çš„â€œå¯å˜/ä¸å¯å˜â€ç‰¹æ€§</h5>
<ul>
<li>
<p><strong>useState</strong>ï¼šçŠ¶æ€æ˜¯â€œä¸å¯å˜â€çš„ï¼Œå¿…é¡»é€šè¿‡<code>setter</code>å‡½æ•°æ›´æ–°ï¼ˆä¸èƒ½ç›´æ¥ä¿®æ”¹åŸå§‹å€¼ï¼‰ï¼ŒReactä¼šç”¨æ–°å€¼æ›¿æ¢æ—§å€¼ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// é”™è¯¯ç”¨æ³•ï¼šç›´æ¥ä¿®æ”¹stateä¸ä¼šè§¦å‘æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> [obj, setObj] = <span class="hljs-title function_">useState</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span> });
obj.<span class="hljs-property">name</span> = <span class="hljs-string">'æå››'</span>; <span class="hljs-comment">// æ— æ•ˆï¼Œé¡µé¢ä¸æ›´æ–°</span>
<span class="hljs-comment">// æ­£ç¡®ç”¨æ³•ï¼šé€šè¿‡setterä¼ é€’æ–°å¯¹è±¡</span>
<span class="hljs-title function_">setObj</span>({ ...obj, <span class="hljs-attr">name</span>: <span class="hljs-string">'æå››'</span> }); <span class="hljs-comment">// è§¦å‘æ¸²æŸ“</span>
</code></pre>
</li>
<li>
<p><strong>useRef</strong>ï¼š<code>.current</code>æ˜¯â€œå¯å˜â€çš„ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹ï¼ˆç±»ä¼¼æ“ä½œæ™®é€šJSå¯¹è±¡ï¼‰ï¼Œæ— éœ€ç‰¹æ®Šæ–¹æ³•ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> objRef = <span class="hljs-title function_">useRef</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span> });
objRef.<span class="hljs-property">current</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'æå››'</span>; <span class="hljs-comment">// ç›´æ¥ä¿®æ”¹ç”Ÿæ•ˆï¼Œæ— éœ€è¦setter</span>
</code></pre>
</li>
</ul>
<h5 data-id="heading-61">3. ä¾èµ–ç›‘å¬çš„å·®å¼‚</h5>
<p><code>useEffect</code>ã€<code>useCallback</code>ç­‰Hookä¼šç›‘å¬<code>useState</code>çš„çŠ¶æ€å˜åŒ–ï¼Œä½†ä¸ä¼šç›‘å¬<code>useRef.current</code>çš„å˜åŒ–ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState, useRef, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">EffectDemo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> countRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// ç›‘å¬countï¼šcountå˜åŒ–æ—¶æ‰§è¡Œ</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'countå˜äº†ï¼š'</span>, count);
  }, [count]);

  <span class="hljs-comment">// ç›‘å¬countRef.currentï¼šæ°¸è¿œä¸ä¼šæ‰§è¡Œï¼ˆå› ä¸ºrefä¸æ˜¯ä¾èµ–é¡¹ï¼‰</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'countRefå˜äº†ï¼š'</span>, countRef.<span class="hljs-property">current</span>);
  }, [countRef.<span class="hljs-property">current</span>]); <span class="hljs-comment">// æ— æ•ˆï¼</span>

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;ä¿®æ”¹state<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> countRef.current += 1}&gt;ä¿®æ”¹ref<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-62">ä¸‰ã€é€‚ç”¨åœºæ™¯ï¼ˆå¸®ä½ å¿«é€Ÿé€‰å¯¹Hookï¼‰</h4>
<h5 data-id="heading-63">ç”¨useStateçš„åœºæ™¯ï¼ˆæ¸²æŸ“ç›¸å…³ï¼‰</h5>
<ul>
<li>é¡µé¢éœ€è¦å±•ç¤ºçš„æ•°æ®ï¼ˆå¦‚æŒ‰é’®æ–‡æ¡ˆã€åˆ—è¡¨æ•°æ®ã€è¡¨å•è¾“å…¥å€¼ï¼‰ï¼›</li>
<li>éœ€è¦è§¦å‘UIæ›´æ–°çš„çŠ¶æ€ï¼ˆå¦‚å¼¹çª—æ˜¾éšã€åŠ è½½ä¸­çŠ¶æ€ã€åˆ‡æ¢ä¸»é¢˜ï¼‰ï¼›</li>
<li>ä¾èµ–çŠ¶æ€å˜åŒ–æ‰§è¡Œå‰¯ä½œç”¨çš„åœºæ™¯ï¼ˆå¦‚æ ¹æ®ç­›é€‰æ¡ä»¶è¯·æ±‚æ•°æ®ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-64">ç”¨useRefçš„åœºæ™¯ï¼ˆéæ¸²æŸ“ç›¸å…³ï¼‰</h5>
<ul>
<li>å­˜å‚¨DOMå…ƒç´ å¼•ç”¨ï¼ˆå¦‚è·å–è¾“å…¥æ¡†ç„¦ç‚¹ã€æ“ä½œDOMå°ºå¯¸ï¼‰ï¼›</li>
<li>å­˜å‚¨è·¨ç”Ÿå‘½å‘¨æœŸçš„ä¸´æ—¶æ•°æ®ï¼ˆå¦‚å®šæ—¶å™¨IDã€è¯·æ±‚å–æ¶ˆä»¤ç‰Œï¼‰ï¼›</li>
<li>ä¿å­˜ä¸Šä¸€æ¬¡çš„çŠ¶æ€/å±æ€§å€¼ï¼ˆå¦‚å¯¹æ¯”å½“å‰å€¼å’Œä¸Šä¸€æ¬¡å€¼ï¼‰ï¼›</li>
<li>å­˜å‚¨æ— éœ€é¡µé¢å±•ç¤ºçš„å†…å­˜æ•°æ®ï¼ˆå¦‚è®¡ç®—ä¸­é—´ç»“æœã€ç¼“å­˜æ•°æ®ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-65">å››ã€ç‰¹æ®Šåœºæ™¯ï¼šuseRef + useState ç»“åˆä½¿ç”¨</h4>
<p>å¦‚æœéœ€è¦â€œæ•°æ®æŒä¹…åŒ–ä¸”ä¿®æ”¹æ—¶è§¦å‘æ¸²æŸ“â€ï¼Œå¯ä»¥ç»“åˆä¸¤è€…ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">CombineDemo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> countRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>); <span class="hljs-comment">// æŒä¹…åŒ–å­˜å‚¨</span>
  <span class="hljs-keyword">const</span> [, forceRender] = <span class="hljs-title function_">useState</span>({}); <span class="hljs-comment">// ç”¨äºå¼ºåˆ¶æ¸²æŸ“</span>

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">increment</span> = (<span class="hljs-params"/>) =&gt; {
    countRef.<span class="hljs-property">current</span> += <span class="hljs-number">1</span>; <span class="hljs-comment">// ä¿®æ”¹refï¼ˆä¸è§¦å‘æ¸²æŸ“ï¼‰</span>
    <span class="hljs-title function_">forceRender</span>({}); <span class="hljs-comment">// æ‰‹åŠ¨è§¦å‘æ¸²æŸ“ï¼ˆé€šè¿‡æ›´æ–°ç©ºå¯¹è±¡ï¼‰</span>
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{increment}</span>&gt;</span>
      è®¡æ•°ï¼š{countRef.current} {/* èƒ½æ­£å¸¸æ›´æ–° */}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-66">æ€»ç»“</h4>
<ol>
<li><strong>æ ¸å¿ƒå·®å¼‚</strong>ï¼š<code>useState</code>ç®¡ç†æ¸²æŸ“çŠ¶æ€ï¼ˆæ›´æ–°è§¦å‘é‡æ¸²æŸ“ï¼‰ï¼Œ<code>useRef</code>å­˜å‚¨æŒä¹…åŒ–æ•°æ®ï¼ˆæ›´æ–°ä¸è§¦å‘æ¸²æŸ“ï¼‰ï¼›</li>
<li><strong>ä½¿ç”¨åŸåˆ™</strong>ï¼šæ•°æ®éœ€è¦å±•ç¤ºåœ¨é¡µé¢ä¸Šâ†’ç”¨<code>useState</code>ï¼›æ•°æ®ä»…åœ¨å†…å­˜ä¸­ä½¿ç”¨â†’ç”¨<code>useRef</code>ï¼›</li>
<li><strong>æ›´æ–°ç‰¹æ€§</strong>ï¼š<code>useState</code>æ˜¯ä¸å¯å˜æ›´æ–°ï¼ˆéœ€setterï¼‰ï¼Œ<code>useRef</code>æ˜¯å¯å˜æ›´æ–°ï¼ˆç›´æ¥æ”¹<code>.current</code>ï¼‰ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uv-ä¼˜ç‚¹ï¼ˆ1ï¼‰]]></title>    <link>https://juejin.cn/post/7599708108621660211</link>    <guid>https://juejin.cn/post/7599708108621660211</guid>    <pubDate>2026-01-27T09:55:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599708108621660211" data-draft-id="7598287024077717544" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uv-ä¼˜ç‚¹ï¼ˆ1ï¼‰"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2026-01-27T09:55:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŠ±èŠ±æ— ç¼º"/> <meta itemprop="url" content="https://juejin.cn/user/2021343967862435"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uv-ä¼˜ç‚¹ï¼ˆ1ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2021343967862435/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŠ±èŠ±æ— ç¼º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T09:55:49.000Z" title="Tue Jan 27 2026 09:55:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>uvæ˜¯ä¸€ä¸ªç”¨ Rust ç¼–å†™çš„ã€é€Ÿåº¦æå¿«çš„ Python åŒ…å’Œé¡¹ç›®ç®¡ç†å™¨</p>
<h3 data-id="heading-0"><a href="https://link.juejin.cn?target=https%3A%2F%2Fuv.oaix.tech%2F%23_1" target="_blank" title="https://uv.oaix.tech/#_1" ref="nofollow noopener noreferrer">äº®ç‚¹</a></h3>
<ul>
<li>ğŸš€ ä¸€ä¸ªå·¥å…·å³å¯å–ä»£ <code>pip</code>ã€<code>pip-tools</code>ã€<code>pipx</code>ã€<code>poetry</code>ã€<code>pyenv</code>ã€<code>twine</code>ã€<code>virtualenv</code> ç­‰ã€‚</li>
<li>âš¡ï¸ æ¯” <code>pip</code> <a href="https://link.juejin.cn?target=https%3A%2F%2Fuv.oaix.tech%2Freference%2Fbenchmarks%2F" target="_blank" title="https://uv.oaix.tech/reference/benchmarks/" ref="nofollow noopener noreferrer">å¿« 10-100 å€</a>ã€‚</li>
<li>ğŸ—‚ï¸ æä¾›<a href="https://link.juejin.cn?target=https%3A%2F%2Fuv.oaix.tech%2F%23_3" target="_blank" title="https://uv.oaix.tech/#_3" ref="nofollow noopener noreferrer">å…¨é¢çš„é¡¹ç›®ç®¡ç†</a>ï¼Œå¹¶å¸¦æœ‰<a href="https://link.juejin.cn?target=https%3A%2F%2Fuv.oaix.tech%2Fconcepts%2Fprojects%2Flayout%2F%23_3" target="_blank" title="https://uv.oaix.tech/concepts/projects/layout/#_3" ref="nofollow noopener noreferrer">é€šç”¨é”æ–‡ä»¶</a>ã€‚</li>
<li>â‡ï¸ <a href="https://link.juejin.cn?target=https%3A%2F%2Fuv.oaix.tech%2F%23_4" target="_blank" title="https://uv.oaix.tech/#_4" ref="nofollow noopener noreferrer">è¿è¡Œè„šæœ¬</a>ï¼Œæ”¯æŒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fuv.oaix.tech%2Fguides%2Fscripts%2F%23_4" target="_blank" title="https://uv.oaix.tech/guides/scripts/#_4" ref="nofollow noopener noreferrer">å†…è”ä¾èµ–å…ƒæ•°æ®</a>ã€‚</li>
<li>ğŸ <a href="https://link.juejin.cn?target=https%3A%2F%2Fuv.oaix.tech%2F%23python" target="_blank" title="https://uv.oaix.tech/#python" ref="nofollow noopener noreferrer">å®‰è£…å’Œç®¡ç†</a> Python ç‰ˆæœ¬ã€‚</li>
<li>ğŸ› ï¸ <a href="https://link.juejin.cn?target=https%3A%2F%2Fuv.oaix.tech%2F%23_5" target="_blank" title="https://uv.oaix.tech/#_5" ref="nofollow noopener noreferrer">è¿è¡Œå’Œå®‰è£…</a> ä½œä¸º Python åŒ…å‘å¸ƒçš„å·¥å…·ã€‚</li>
<li>ğŸ”© åŒ…å«ä¸€ä¸ª <a href="https://link.juejin.cn?target=https%3A%2F%2Fuv.oaix.tech%2F%23pip" target="_blank" title="https://uv.oaix.tech/#pip" ref="nofollow noopener noreferrer">pip å…¼å®¹æ¥å£</a>ï¼Œä»¥ç†Ÿæ‚‰çš„ CLI æä¾›æ€§èƒ½æå‡ã€‚</li>
<li>ğŸ¢ æ”¯æŒ Cargo é£æ ¼çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fuv.oaix.tech%2Fconcepts%2Fprojects%2Fworkspaces%2F" target="_blank" title="https://uv.oaix.tech/concepts/projects/workspaces/" ref="nofollow noopener noreferrer">å·¥ä½œåŒº</a>ï¼Œé€‚ç”¨äºå¯æ‰©å±•é¡¹ç›®ã€‚</li>
<li>ğŸ’¾ ç£ç›˜ç©ºé—´é«˜æ•ˆï¼Œå…·æœ‰ç”¨äºä¾èµ–é¡¹å»é‡çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fuv.oaix.tech%2Fconcepts%2Fcache%2F" target="_blank" title="https://uv.oaix.tech/concepts/cache/" ref="nofollow noopener noreferrer">å…¨å±€ç¼“å­˜</a>ã€‚</li>
<li>â¬ æ— éœ€ Rust æˆ– Pythonï¼Œå³å¯é€šè¿‡ <code>curl</code> æˆ– <code>pip</code> å®‰è£…ã€‚</li>
<li>ğŸ–¥ï¸ æ”¯æŒ macOSã€Linux å’Œ Windowsã€‚</li>
</ul>
<p>å®‰è£…æ–¹å¼ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">macOS å’Œ Linux</span>]
curl -LsSf https:<span class="hljs-comment">//astral.sh/uv/install.sh | sh</span>

[<span class="hljs-meta">windows</span>]
powershell -ExecutionPolicy ByPass -c <span class="hljs-string">"irm https://astral.sh/uv/install.ps1 | iex"</span>
</code></pre>
<h2 data-id="heading-1">ğŸ› ï¸ å…¸å‹åº”ç”¨åœºæ™¯</h2>
<ol>
<li><strong>æ—¥å¸¸å¼€å‘</strong>ï¼šç”¨ <code>uv pip install</code> æé€Ÿå®‰è£…ä¾èµ–ï¼Œæ›¿ä»£ <code>pip install</code>ã€‚</li>
<li><strong>ç¯å¢ƒéš”ç¦»</strong>ï¼šç”¨ <code>uv venv</code> ä¸€é”®åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼Œæ›¿ä»£ <code>virtualenv</code>ã€‚</li>
</ol>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span>
uv venv  <span class="hljs-comment">#åœ¨Â `.venv`Â åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒ</span>
uv venv <span class="hljs-keyword">my</span>-name  <span class="hljs-comment">#åœ¨Â `my-name`Â åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒ</span>
uv venv --python <span class="hljs-number">3.11</span>  <span class="hljs-comment">#ä½¿ç”¨ Python 3.11 åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒ</span>
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span>
[macOS å’Œ Linux]
<span class="hljs-built_in">source</span> .venv/bin/activate
[windows]
.venv\Scripts\activate

deactivate  <span class="hljs-comment"># é€€å‡ºè™šæ‹Ÿç¯å¢ƒ</span>
uv venv --seed  <span class="hljs-comment"># å¼ºåˆ¶å®‰è£…åŸºç¡€åŒ…ï¼ˆå¦‚pip, setuptools, wheelï¼‰</span>
</code></pre>
<ol start="4">
<li><strong>ç‰ˆæœ¬ç®¡ç†</strong>ï¼šç”¨ <code>uv python install</code> å®‰è£…å’Œç®¡ç†å¤šç‰ˆæœ¬ Pythonï¼Œæ›¿ä»£ <code>pyenv</code>ã€‚</li>
<li><strong>ä¾èµ–é”å®š</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆ <code>uv.lock</code>ï¼Œç¡®ä¿å›¢é˜Ÿä¾èµ–ä¸€è‡´ã€‚
ä¾‹å¦‚ï¼Œåœ¨ Python é¡¹ç›®ä¸­ï¼Œé€šå¸¸ä¼šç”¨ <code>requirements.txt</code>ï¼ˆæˆ– <code>pyproject.toml</code>ï¼‰è®°å½•ä¾èµ–ï¼Œæ¯”å¦‚ä½ å†™äº†ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">requests &gt;= 2.20.0  <span class="hljs-comment">#ç‰ˆæœ¬åªè¦å¤§äºç­‰äº 2.20.0 å°±è¡Œ</span>
</code></pre>
<p>è¿™ç§ â€œä¾èµ–ç‰ˆæœ¬ä¸å›ºå®šï¼Œä¼šå¯¼è‡´<strong>ä¾èµ–ä¸å¯é‡ç°</strong>ï¼Œé¡¹ç›®åœ¨ä¸åŒç¯å¢ƒã€ä¸åŒæ—¶é—´è¿è¡Œç»“æœä¸ä¸€è‡´â€ çš„é—®é¢˜ï¼š</p>
<blockquote>
<ul>
<li><strong>ä½ æœ¬åœ°çš„ç‰ˆæœ¬å’Œåˆ«äººä¸ä¸€æ ·</strong>ï¼šä½ ä»Šå¤©å®‰è£…å¯èƒ½æ‹¿åˆ° 2.28.0ï¼Œä½ çš„åŒäº‹æ˜å¤©å®‰è£…å¯èƒ½æ‹¿åˆ° 2.31.0ï¼ˆæœŸé—´å®˜æ–¹å‘å¸ƒäº†æ–°ç‰ˆæœ¬ï¼‰ã€‚</li>
<li><strong>æ–°ç‰ˆæœ¬å¯èƒ½æœ‰å…¼å®¹é—®é¢˜</strong>ï¼š<code>requests</code> 2.31.0 å¯èƒ½ä¿®æ”¹äº†æŸä¸ªæ¥å£ï¼Œå¯¼è‡´ä½ çš„é¡¹ç›®åœ¨åŒäº‹ç”µè„‘ä¸Šè¿è¡ŒæŠ¥é”™ï¼Œè€Œä½ æœ¬åœ°å´ä¸€åˆ‡æ­£å¸¸ï¼ˆâ€œæˆ‘çš„ä»£ç æ˜æ˜èƒ½è·‘ï¼Œä¸ºä»€ä¹ˆä½ è¿™ä¸è¡Œï¼Ÿâ€ çš„ç»å…¸åœºæ™¯ï¼‰ã€‚</li>
<li><strong>è·¨ç¯å¢ƒä¸ä¸€è‡´</strong>ï¼šä½ å¼€å‘ç¯å¢ƒæ­£å¸¸ï¼Œéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šæ—¶ï¼Œå®‰è£…äº†æ›´é«˜ç‰ˆæœ¬çš„ä¾èµ–ï¼Œå¯¼è‡´çº¿ä¸ŠæœåŠ¡æ•…éšœã€‚</li>
</ul>
</blockquote>
<ul>
<li><code>uv.lock</code>:æ˜¯ uv ç”Ÿæˆçš„<strong>çº¯æ–‡æœ¬æ ¼å¼é”å®šæ–‡ä»¶</strong>ï¼Œä¼šè®°å½•ä¸‹ä½ å½“å‰ç¯å¢ƒä¸­ï¼Œæ‰€æœ‰ä¾èµ–ï¼ˆåŒ…æ‹¬ä¸»ä¾èµ–ã€é—´æ¥ä¾èµ–ï¼‰çš„ã€Œç²¾ç¡®ç‰ˆæœ¬å·ã€ã€ä¸‹è½½æ¥æºã€å“ˆå¸Œå€¼ç­‰ä¿¡æ¯ï¼Œå½¢æˆä¸€ä»½ â€œä¾èµ–å¿«ç…§â€ï¼Œå¯ä»¥æŠŠ â€œæ¨¡ç³Šä¾èµ–â€ å˜æˆ â€œç²¾ç¡®ä¾èµ–â€ï¼›<strong>å®ƒç¡®ä¿ â€œæ‰€æœ‰äººå®‰è£…çš„ä¾èµ–å®Œå…¨ä¸€è‡´â€</strong> ï¼šå½“å…¶ä»–äººæ‹¿åˆ°ä½ çš„é¡¹ç›®åï¼Œåªè¦æœ‰è¿™ä»½ <code>uv.lock</code>ï¼Œç”¨ uv å®‰è£…ä¾èµ–æ—¶ï¼Œuv ä¼š<strong>ä¸¥æ ¼æŒ‰ç…§é”å®šæ–‡ä»¶ä¸­çš„ç²¾ç¡®ç‰ˆæœ¬ã€å“ˆå¸Œå€¼æ¥å®‰è£…</strong>ï¼Œä¸ä¼šå»ä¸‹è½½ä»»ä½•æ–°ç‰ˆæœ¬ï¼Œå“ªæ€•å®˜æ–¹å·²ç»å‘å¸ƒäº†æ›´é«˜ç‰ˆæœ¬çš„ <code>requests</code>ï¼›<strong>éªŒè¯ä¾èµ–å®Œæ•´æ€§</strong>ï¼šé”å®šæ–‡ä»¶ä¸­çš„å“ˆå¸Œå€¼ï¼Œå¯ä»¥éªŒè¯ä¸‹è½½çš„ä¾èµ–åŒ…æ˜¯å¦è¢«ç¯¡æ”¹ï¼Œé¿å…å®‰è£…æ¶æ„æˆ–æŸåçš„åŒ…ï¼›ç”¨ uv å®‰è£…ä¾èµ–åï¼Œuv ä¼šè‡ªåŠ¨ç”Ÿæˆ / æ›´æ–° <code>uv.lock</code>ï¼Œé‡Œé¢ä¸ä¼šæœ‰ <code>&gt;=</code>ã€<code>&lt;=</code> è¿™ç§æ¨¡ç³Šç¬¦å·ï¼Œå…¨æ˜¯ç²¾ç¡®ç‰ˆæœ¬ï¼Œæ¯”å¦‚ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">    requests = { version = <span class="hljs-string">"2.28.2"</span>, <span class="hljs-built_in">source</span> = <span class="hljs-string">"pypi"</span>, <span class="hljs-built_in">hash</span> = <span class="hljs-string">"sha256:..."</span> }
    urllib3 = { version = <span class="hljs-string">"1.26.14"</span>, <span class="hljs-built_in">source</span> = <span class="hljs-string">"pypi"</span>, <span class="hljs-built_in">hash</span> = <span class="hljs-string">"sha256:..."</span> }
    ï¼ˆ`urllib3` æ˜¯ `requests` çš„é—´æ¥ä¾èµ–ï¼Œæ²¡æ‰‹åŠ¨å†™ï¼Œä½†å®ƒä¹Ÿä¼šè¢«ç²¾ç¡®è®°å½•ï¼‰
</code></pre>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fastral-sh%2Fuv" target="_blank" title="https://github.com/astral-sh/uv" ref="nofollow noopener noreferrer">github.com/astral-sh/uâ€¦</a><br/>
æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.astral.sh%2Fuv%2F%3Fspm%3D5176.28103460.0.0.272f6308QrzTQc" target="_blank" title="https://docs.astral.sh/uv/?spm=5176.28103460.0.0.272f6308QrzTQc" ref="nofollow noopener noreferrer">docs.astral.sh/uv/</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ­å»ºåŸºäºreact webviewçš„vscodeæ’ä»¶]]></title>    <link>https://juejin.cn/post/7599924965949603878</link>    <guid>https://juejin.cn/post/7599924965949603878</guid>    <pubDate>2026-01-27T10:11:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599924965949603878" data-draft-id="7599708108621512755" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ­å»ºåŸºäºreact webviewçš„vscodeæ’ä»¶"/> <meta itemprop="keywords" content="Visual Studio Code"/> <meta itemprop="datePublished" content="2026-01-27T10:11:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹¥æ„š79"/> <meta itemprop="url" content="https://juejin.cn/user/2649162517852320"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ­å»ºåŸºäºreact webviewçš„vscodeæ’ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2649162517852320/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹¥æ„š79
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T10:11:59.000Z" title="Tue Jan 27 2026 10:11:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ­å»ºåŸºäºreact webviewçš„vscodeæ’ä»¶</h2>
<h3 data-id="heading-1">å‡†å¤‡å·¥ä½œ</h3>
<p>ç¡®ä¿ä½ æœ¬æœºå®‰è£…äº†æœ€æ–°çš„vscodeä»¥åŠgitå’ŒNode.jsï¼Œå¦‚æœæ²¡æœ‰ï¼Œéµç…§ä¸‹è¾¹å®˜æ–¹é“¾æ¥ä¸‹è½½å®‰è£…ã€‚</p>
<h4 data-id="heading-2"><a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.visualstudio.com%2FDownload" target="_blank" title="https://code.visualstudio.com/Download" ref="nofollow noopener noreferrer">vscodeä¸‹è½½</a></h4>
<h4 data-id="heading-3"><a href="https://link.juejin.cn?target=https%3A%2F%2Fgit-scm.com%2Finstall%2Fwindows" target="_blank" title="https://git-scm.com/install/windows" ref="nofollow noopener noreferrer">gitä¸‹è½½</a></h4>
<h4 data-id="heading-4"><a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fen%2Fdownload" target="_blank" title="https://nodejs.org/en/download" ref="nofollow noopener noreferrer">Node.jsä¸‹è½½</a></h4>
<p>å®‰è£…å®Œæˆåå¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-lua" lang="lua">PS C:\Users\xuruo&gt;code <span class="hljs-comment">--version</span>
<span class="hljs-number">1.108</span><span class="hljs-number">.0</span>
<span class="hljs-number">94e8</span>ae2b28cb5cc932b86e1070569c4463565c37
x64

PS C:\Users\xuruo&gt;git <span class="hljs-comment">--version</span>
git version <span class="hljs-number">2.42</span><span class="hljs-number">.0</span>.windows<span class="hljs-number">.2</span>

PS C:\Users\xuruo&gt;node <span class="hljs-comment">--version</span>
v22<span class="hljs-number">.12</span><span class="hljs-number">.0</span>

PS C:\Users\xuruo&gt;npm <span class="hljs-comment">--version</span>
<span class="hljs-number">10.9</span><span class="hljs-number">.0</span>
</code></pre>
<h3 data-id="heading-5">åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªvscodeæ’ä»¶</h3>
<p>ä»clineçš„ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ä»–æ˜¯ä»<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fvscode-webview-ui-toolkit-samples%2Ftree%2Fmain%2Fframeworks%2Fhello-world-react-vite" target="_blank" title="https://github.com/microsoft/vscode-webview-ui-toolkit-samples/tree/main/frameworks/hello-world-react-vite" ref="nofollow noopener noreferrer">hello-world-ract-vite</a>ä½œä¸ºåŸºç¡€å¼€å§‹æ„å»ºçš„ã€‚
è®©æˆ‘ä»¬ä»å…‹éš†miniclineé¡¹ç›®ä»£ç å¼€å§‹åˆ›å»ºæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªvscodeæ’ä»¶é¡¹ç›®ã€‚
miniclineçš„ç¬¬ä¸€ä¸ªä»£ç commitå°±æ˜¯ä»æ‹·è´hello-world-ract-viteä»£ç å¼€å§‹çš„ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">PS D:\git&gt; git <span class="hljs-built_in">clone</span> https://github.com/xuruoyu1979/minicline.git

PS D:\git&gt; git <span class="hljs-built_in">cd</span> miniclone

PS D:\git&gt; git checkout f1b5631dc1196a2b082165e603840870248ca5fc

PS D:\git\miniclone&gt; git npm run install:all
</code></pre>
<p>å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä¼šçœ‹åˆ°ç±»ä¼¼å¦‚ä¸‹çš„è¾“å‡ºã€‚</p>
<pre><code class="hljs language-less" lang="less">&gt; <span class="hljs-selector-tag">hello-world-react-vite</span>@<span class="hljs-number">0.0</span><span class="hljs-selector-class">.1</span> <span class="hljs-selector-tag">install</span>:<span class="hljs-keyword">all</span>
&gt; <span class="hljs-selector-tag">npm</span> <span class="hljs-selector-tag">install</span> <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-tag">&amp;</span> <span class="hljs-selector-tag">cd</span> <span class="hljs-selector-tag">webview-ui</span> <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-tag">&amp;</span> <span class="hljs-selector-tag">npm</span> <span class="hljs-selector-tag">install</span>


<span class="hljs-selector-tag">added</span> <span class="hljs-number">182</span> <span class="hljs-selector-tag">packages</span>, <span class="hljs-selector-tag">and</span> <span class="hljs-selector-tag">audited</span> <span class="hljs-number">183</span> <span class="hljs-selector-tag">packages</span> <span class="hljs-selector-tag">in</span> <span class="hljs-number">5s</span>
...
<span class="hljs-selector-tag">To</span> <span class="hljs-selector-tag">address</span> <span class="hljs-keyword">all</span> <span class="hljs-selector-tag">issues</span> (including breaking changes), <span class="hljs-selector-tag">run</span>:
  <span class="hljs-selector-tag">npm</span> <span class="hljs-selector-tag">audit</span> <span class="hljs-selector-tag">fix</span> <span class="hljs-selector-tag">--force</span>

<span class="hljs-selector-tag">Run</span> `<span class="hljs-selector-tag">npm</span> <span class="hljs-selector-tag">audit</span>` <span class="hljs-selector-tag">for</span> <span class="hljs-selector-tag">details</span>.
</code></pre>
<h3 data-id="heading-6">ç¼–è¯‘webview</h3>
<pre><code class="hljs language-bash" lang="bash">PS D:\git\minicline&gt; npm run build:webview

&gt; hello-world-react-vite@0.0.1 build:webview
&gt; <span class="hljs-built_in">cd</span> webview-ui &amp;&amp; npm run build


&gt; hello-world@0.0.1 build
&gt; tsc &amp;&amp; vite build

vite v2.9.13 building <span class="hljs-keyword">for</span> production...
transforming (1) index.htmlBrowserslist: caniuse-lite is outdated. Please run:
  npx browserslist@latest --update-db
  Why you should <span class="hljs-keyword">do</span> it regularly: https://github.com/browserslist/browserslist<span class="hljs-comment">#browsers-data-updating</span>
...
âœ“ 319 modules transformed.
build/index.html         0.37 KiB
build/assets/index.css   0.10 KiB / gzip: 0.10 KiB
build/assets/index.js    308.26 KiB / gzip: 85.31 KiB
</code></pre>
<h3 data-id="heading-7">è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ªæ’ä»¶</h3>
<p>å…‹éš†ä¸‹æ¥çš„miniclineé¡¹ç›®ä¸‹å·²ç»è‡ªå¸¦äº† <strong>.vscode/launch.json</strong> ï¼Œé‡Œè¾¹æœ‰è¿è¡Œvscode extensionçš„é…ç½®ï¼Œä»vscodeå·¦ä¾§ <strong>RUN and DEBUG</strong> è§†å›¾ç‚¹å‡» <strong>Run Extension</strong> ï¼Œä¼šå¯åŠ¨ä¸€ä¸ªæ–°çš„vscodeå®ä¾‹ï¼Œé‡Œè¾¹å·²ç»åŠ è½½äº†æˆ‘ä»¬çš„miniclineæ’ä»¶ï¼Œç”¨ç»„åˆé”® <strong>CTRL+SHIFT+P</strong> æ‰“å¼€å‘½ä»¤çª—å£ï¼Œåœ¨é‡Œè¾¹è¾“å…¥ <strong>Hello World</strong>, æ‰¾åˆ° <strong>Hello World (React + Vite): Show</strong>å‘½ä»¤ï¼Œç‚¹å‡»ä¼šæ‰“å¼€æ–°çš„webviewæ˜¾ç¤ºåœ¨ç¼–è¾‘å™¨åŒºåŸŸï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbaadd1b83124707b2ca4490576333cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iul5oSaNzk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770113519&amp;x-signature=JtHcgYMN6Qauw2XSeAlNEbJrJ9k%3D" alt="chapter-1-1.png" loading="lazy"/>
ç‚¹å‡» <strong>Howdy!</strong> æŒ‰é’®ï¼Œå³ä¸‹æ–¹ä¼šæ˜¾ç¤ºæ¶ˆæ¯ <strong>Hey there partner! ğŸ¤ </strong></p>
<h3 data-id="heading-8">æ€»ç»“</h3>
<p>æœ¬ç« æˆ‘ä»¬è¿è¡Œäº†ç¬¬ä¸€ä¸ªwebviewæ’ä»¶ï¼Œwebviewç›¸å¯¹äºæ™®é€šçš„vscodeæ’ä»¶å’Œæ™®é€šçš„react webappçš„åŒºåˆ«åœ¨äºï¼Œå®ƒæ˜¯è¿è¡Œåœ¨ç‹¬ç«‹çš„sandboxé‡Œè¾¹çš„ï¼Œæ‰€ä»¥ä¸åŒäºè¿è¡Œåœ¨web browserå’Œvscode extension hostï¼Œå®ƒä¸èƒ½è®¿é—®å¤–éƒ¨èµ„æºã€‚æ‰€ä»¥éœ€è¦è®¿é—®å¤–éƒ¨æ•°æ®éœ€è¦é€šè¿‡å’Œvscode extension hostä¸­è¿è¡Œçš„æ’ä»¶ä»£ç äº¤äº’ï¼Œæ¯”å¦‚æœ¬ç« ä¸­æˆ‘ä»¬ç‚¹å‡» <strong>Howdy!</strong> æŒ‰é’®åvscodeæ˜¾ç¤ºå¯¹åº”æ¶ˆæ¯å°±æ˜¯é€šè¿‡webviewå¾€vscode extension hostå‘é€æ¶ˆæ¯å®ç°çš„ã€‚</p>
<p>å…·ä½“ä»£ç å‚è€ƒå¦‚ä¸‹ã€‚</p>
<p><strong>webview-ui/src/App.tsx</strong></p>
<pre><code class="hljs language-php" lang="php">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleHowdyClick</span>(<span class="hljs-params"/>) </span>{
    vscode.<span class="hljs-title function_ invoke__">postMessage</span>({
      <span class="hljs-attr">command</span>: <span class="hljs-string">"hello"</span>,
      <span class="hljs-attr">text</span>: <span class="hljs-string">"Hey there partner! ğŸ¤ "</span>,
    });
  }
</code></pre>
<p><strong>src/panels/HelloWorldPanel.ts</strong></p>
<pre><code class="hljs language-typescript" lang="typescript">  <span class="hljs-keyword">private</span> <span class="hljs-title function_">_setWebviewMessageListener</span>(<span class="hljs-params">webview: Webview</span>) {
    webview.<span class="hljs-title function_">onDidReceiveMessage</span>(
      <span class="hljs-function">(<span class="hljs-params">message: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> command = message.<span class="hljs-property">command</span>;
        <span class="hljs-keyword">const</span> text = message.<span class="hljs-property">text</span>;

        <span class="hljs-keyword">switch</span> (command) {
          <span class="hljs-keyword">case</span> <span class="hljs-string">"hello"</span>:
            <span class="hljs-comment">// Code that should run in response to the hello message command</span>
            <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">showInformationMessage</span>(text);
            <span class="hljs-keyword">return</span>;
          <span class="hljs-comment">// Add more switch case statements here as more webview message commands</span>
          <span class="hljs-comment">// are created within the webview context (i.e. inside media/main.js)</span>
        }
      },
      <span class="hljs-literal">undefined</span>,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">_disposables</span>
    );
  }
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSS-å¦‚ä½•åœ¨ Chrome ä¸­å®ç°å°äº 12px çš„å­—ä½“ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7599798118461489161</link>    <guid>https://juejin.cn/post/7599798118461489161</guid>    <pubDate>2026-01-27T10:12:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599798118461489161" data-draft-id="7599708108621725747" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSS-å¦‚ä½•åœ¨ Chrome ä¸­å®ç°å°äº 12px çš„å­—ä½“ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,CSS"/> <meta itemprop="datePublished" content="2026-01-27T10:12:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSS-å¦‚ä½•åœ¨ Chrome ä¸­å®ç°å°äº 12px çš„å­—ä½“ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T10:12:12.000Z" title="Tue Jan 27 2026 10:12:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œè®¾è®¡å¸ˆæœ‰æ—¶ä¼šç»™å‡º 10px ç”šè‡³æ›´å°çš„å­—ä½“è®¾è®¡ã€‚ç„¶è€Œï¼ŒChrome ç­‰ Chromium æ ¸æµè§ˆå™¨ä¸ºäº†ä¿è¯ä¸­æ–‡çš„å¯è¯»æ€§ï¼Œé»˜è®¤é™åˆ¶äº†æœ€å°å­—å·ä¸º <strong>12px</strong>ã€‚æœ¬æ–‡å°†å¸¦ä½ æ¢³ç†è§£å†³è¿™ä¸€é™åˆ¶çš„å‡ ç§æ–¹æ¡ˆåŠå…¶ä¼˜ç¼ºç‚¹ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ ä¸ºä»€ä¹ˆæœ‰è¿™ä¸ªé™åˆ¶ï¼Ÿ</h2>
<p><strong>èƒŒæ™¯ï¼š</strong> Chrome ä¸­æ–‡ç‰ˆæµè§ˆå™¨é»˜è®¤è®¾å®šæœ€å°å­—å·ä¸º <code>12px</code>ã€‚è¿™æ˜¯å› ä¸ºåœ¨æ—©æœŸçš„æ˜¾ç¤ºå™¨ä¸Šï¼Œå¤æ‚çš„æ±‰å­—å¦‚æœå°äº 12pxï¼Œç¬”ç”»ä¼šç”±äºåƒç´ ç‚¹ä¸è¶³è€ŒæŒ¤åœ¨ä¸€èµ·ï¼Œå¯¼è‡´éš¾ä»¥è¾¨è®¤ã€‚è™½ç„¶ç°åœ¨çš„è§†ç½‘è†œå±å¹•ï¼ˆRetinaï¼‰å·²ç»ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œä½†è¿™ä¸€è§„èŒƒè¢«ä¿ç•™äº†ä¸‹æ¥ã€‚</p>
<hr/>
<h2 data-id="heading-2">äºŒã€ æ ¸å¿ƒè§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-3">1. æ¨èæ–¹æ¡ˆï¼šTransform ç¼©æ”¾</h3>
<p>è¿™æ˜¯ç›®å‰å…¼å®¹æ€§æœ€å¥½ã€ä¹Ÿæ˜¯æœ€ä¸»æµçš„æ–¹æ¡ˆã€‚é€šè¿‡ <code>transform: scale()</code> å¯¹å…ƒç´ è¿›è¡Œæ•´ä½“ç¼©æ”¾ã€‚</p>
<ul>
<li>
<p><strong>å®ç°æ€è·¯</strong>ï¼š</p>
<p>å…ˆè®¾ç½®å­—ä½“ä¸º <code>12px</code>ï¼Œç„¶åä½¿ç”¨ç¼©æ”¾å±æ€§å°†å…¶ç¼©å°ã€‚</p>
</li>
<li>
<p><strong>æ ¸å¿ƒä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-CSS" lang="CSS"><span class="hljs-selector-class">.small-font</span> {
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;
  <span class="hljs-attribute">display</span>: inline-block; <span class="hljs-comment">/* æ³¨æ„ï¼štransform ä»…å¯¹å—çº§æˆ–è¡Œå†…å—å…ƒç´ ç”Ÿæ•ˆ */</span>
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.8333</span>); <span class="hljs-comment">/* 10px = 12px x 0.8333 */</span>
  <span class="hljs-attribute">transform-origin</span>: left center; <span class="hljs-comment">/* å…³é”®ï¼šè®¾ç½®ç¼©æ”¾ä¸­å¿ƒï¼Œå¦åˆ™æ–‡å­—ä¼šå‘ä¸­å¿ƒé æ‹¢ */</span>
}
</code></pre>
</li>
<li>
<p><strong>ä¼˜ç‚¹</strong>ï¼šå…¼å®¹æ€§æä½³ï¼Œè§†è§‰æ•ˆæœå¹³æ»‘ã€‚</p>
</li>
<li>
<p><strong>ç¼ºç‚¹</strong>ï¼šç¼©æ”¾ä¼šå æ®åŸæœ‰çš„ 12px ç©ºé—´ï¼Œå¯èƒ½å¯¼è‡´è¾¹è·çœ‹èµ·æ¥å˜å¤§ï¼Œéœ€è¦æ‰‹åŠ¨è°ƒæ•´åç§»ã€‚</p>
</li>
</ul>
<hr/>
<h3 data-id="heading-4">2. SVG çŸ¢é‡ç¼©æ”¾æ–¹æ¡ˆ</h3>
<p>å¦‚æœä½ éœ€è¦æå…¶ç²¾å‡†çš„å­—ä½“æ¸²æŸ“ï¼Œå¯ä»¥åˆ©ç”¨ SVG çš„ <code>text</code> æ ‡ç­¾ã€‚</p>
<ul>
<li>
<p><strong>å®ç°æ€è·¯</strong>ï¼š</p>
<p>SVG å†…éƒ¨çš„æ–‡å­—ä¸å—æµè§ˆå™¨æœ€å°å­—å·é™åˆ¶ã€‚</p>
</li>
<li>
<p><strong>æ ¸å¿ƒä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"20"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"15"</span> <span class="hljs-attr">font-size</span>=<span class="hljs-string">"10"</span> <span class="hljs-attr">fill</span>=<span class="hljs-string">"#000"</span>&gt;</span>æˆ‘æ˜¯10pxæ–‡å­—<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
</code></pre>
</li>
<li>
<p><strong>ä¼˜ç‚¹</strong>ï¼šæ¸²æŸ“æ¸…æ™°ï¼Œå®Œå…¨ä¸å—æµè§ˆå™¨é™åˆ¶ã€‚</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€ å·²å¤±æ•ˆæˆ–ä¸æ¨èçš„æ–¹æ¡ˆï¼ˆé¿å‘æŒ‡å—ï¼‰</h2>
<h3 data-id="heading-6">1. -webkit-text-size-adjust (å·²åºŸé™¤)</h3>
<ul>
<li><strong>ç°çŠ¶</strong>ï¼šChrome 27 ä»¥åå·²ç»åºŸé™¤ã€‚</li>
</ul>
<h3 data-id="heading-7">2. Zoom æ–¹æ¡ˆ</h3>
<ul>
<li><strong>ç°çŠ¶</strong>ï¼š<code>zoom</code> æœ¬è´¨ä¸Šæ˜¯éæ ‡å‡†çš„å±æ€§ã€‚</li>
<li><strong>å‰¯ä½œç”¨</strong>ï¼š<strong>Firefox å®Œå…¨ä¸æ”¯æŒ</strong>ã€‚ä¸” <code>zoom</code> ä¼šå¼•èµ·å¤æ‚çš„é‡ç»˜å’Œé‡æ’ï¼Œæ€§èƒ½å¼±äº <code>transform</code>ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-8">å››ã€ æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>























<table><thead><tr><th><strong>æ–¹æ¡ˆ</strong></th><th><strong>æ¨èæŒ‡æ•°</strong></th><th><strong>ä¼˜ç‚¹</strong></th><th><strong>ç¼ºç‚¹</strong></th></tr></thead><tbody><tr><td><strong>Transform Scale</strong></td><td>â­â­â­â­â­</td><td>å…¼å®¹æ€§é«˜ï¼Œæ€§èƒ½å¥½</td><td>éœ€è¦å¤„ç† <code>transform-origin</code> å’Œç©ºé—´å ä½</td></tr><tr><td><strong>SVG æ¸²æŸ“</strong></td><td>â­â­â­</td><td>ç»å¯¹ç²¾å‡†</td><td>ç¼–å†™ç•¥æ˜¾ç¹çï¼Œä¸é€‚åˆå¤§æ®µæ–‡å­—</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[èµ„æºæ± åŒ–è®¾è®¡æŒ‡å—]]></title>    <link>https://juejin.cn/post/7599860946836815935</link>    <guid>https://juejin.cn/post/7599860946836815935</guid>    <pubDate>2026-01-27T09:57:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599860946836815935" data-draft-id="7599634796583976966" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="èµ„æºæ± åŒ–è®¾è®¡æŒ‡å—"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-27T09:57:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¸©å®‡é£"/> <meta itemprop="url" content="https://juejin.cn/user/4300945219403368"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            èµ„æºæ± åŒ–è®¾è®¡æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4300945219403368/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¸©å®‡é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T09:57:14.000Z" title="Tue Jan 27 2026 09:57:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    9
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>èµ„æºæ± åŒ–(Resource Pooling)æ˜¯ä¸€ç§é€šè¿‡å¤ç”¨èµ„æºæ¥ä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½çš„æŠ€æœ¯ã€‚é¢‘ç¹åˆ›å»ºå’Œé”€æ¯èµ„æºï¼ˆå¦‚æ•°æ®åº“è¿æ¥ã€çº¿ç¨‹ã€å¯¹è±¡å®ä¾‹ï¼‰ä¼šå¸¦æ¥æ˜¾è‘—çš„æ€§èƒ½å¼€é”€ï¼Œæ± åŒ–é€šè¿‡ç»´æŠ¤å¯å¤ç”¨çš„èµ„æºé›†åˆæ¥è§£å†³è¿™ä¸€é—®é¢˜ã€‚æœ¬æ–‡ä»‹ç»èµ„æºæ± åŒ–çš„æ ¸å¿ƒæ¦‚å¿µã€æ–¹æ¡ˆè®¾è®¡è¦ç´ ã€å†…å­˜åˆ†é…ç­–ç•¥ï¼Œä»¥åŠå¦‚ä½•è¯„ä»·ä¸€ä¸ªæ± åŒ–æ–¹æ¡ˆçš„ä¼˜åŠ£ã€‚</p>
<h2 data-id="heading-0">èµ„æºæ± åŒ–åŸºç¡€</h2>
<p>èµ„æºæ± åŒ–æ˜¯ä¸€ç§èµ„æºç®¡ç†æ¨¡å¼ï¼Œé€šè¿‡ç»´æŠ¤å¯å¤ç”¨çš„èµ„æºé›†åˆæ¥é¿å…é¢‘ç¹çš„åˆ›å»ºå’Œé”€æ¯å¼€é”€ã€‚</p>
<h3 data-id="heading-1">ä»€ä¹ˆæ˜¯èµ„æºæ± åŒ–</h3>
<p>èµ„æºæ± åŒ–ç»´æŠ¤ä¸€ä¸ªèµ„æºé›†åˆï¼ˆæ± ï¼‰ï¼Œå½“éœ€è¦ä½¿ç”¨èµ„æºæ—¶ä»æ± ä¸­è·å–ï¼Œä½¿ç”¨å®Œæ¯•åå½’è¿˜åˆ°æ± ä¸­è€Œä¸æ˜¯é”€æ¯ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯<strong>å¤ç”¨èµ„æº</strong>ï¼Œé¿å…é‡å¤çš„åˆ›å»ºå’Œé”€æ¯æˆæœ¬ã€‚</p>
<p>èµ„æºåœ¨æ± ä¸­çš„ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>åˆ›å»º</strong>ï¼šæ± åˆå§‹åŒ–æ—¶æˆ–æŒ‰éœ€åˆ›å»º</li>
<li><strong>è·å–</strong>ï¼šä»æ± ä¸­å–å‡ºä½¿ç”¨</li>
<li><strong>å½’è¿˜</strong>ï¼šä½¿ç”¨å®Œæ¯•æ”¾å›æ± ä¸­</li>
<li><strong>é”€æ¯</strong>ï¼šæ± å…³é—­æˆ–èµ„æºæ·˜æ±°æ—¶</li>
</ul>
<h3 data-id="heading-2">ä¸ºä»€ä¹ˆéœ€è¦èµ„æºæ± åŒ–</h3>
<p>èµ„æºæ± åŒ–ä¸»è¦è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š</p>
<p><strong>1. é™ä½åˆ›å»ºé”€æ¯å¼€é”€</strong></p>
<p>åˆ›å»ºå’Œé”€æ¯èµ„æºé€šå¸¸æ¶‰åŠå¤æ‚çš„åˆå§‹åŒ–è¿‡ç¨‹ï¼š</p>
<ul>
<li>æ•°æ®åº“è¿æ¥ï¼šTCP æ¡æ‰‹ã€èº«ä»½éªŒè¯ã€ä¼šè¯åˆå§‹åŒ–</li>
<li>çº¿ç¨‹ï¼šå†…æ ¸æ€èµ„æºåˆ†é…ã€æ ˆç©ºé—´åˆ†é…</li>
<li>å¯¹è±¡å®ä¾‹ï¼šå†…å­˜åˆ†é…ã€æ„é€ å‡½æ•°æ‰§è¡Œ</li>
</ul>
<p>é€šè¿‡å¤ç”¨èµ„æºï¼Œé¿å…é¢‘ç¹åˆ›å»ºé”€æ¯å¸¦æ¥çš„ CPU å’Œå†…å­˜å‹åŠ›ã€‚å¯¹äºæŸäº›èµ„æºï¼ˆå¦‚ TCP è¿æ¥ï¼‰ï¼Œæ± åŒ–è¿˜èƒ½ä¿æŒè¿æ¥æ´»è·ƒçŠ¶æ€ï¼Œé¿å…é‡æ–°æ¡æ‰‹ç­‰é‡å¤åˆå§‹åŒ–å¼€é”€ã€‚</p>
<p><strong>2. æ§åˆ¶èµ„æºä½¿ç”¨</strong></p>
<p>é€šè¿‡è®¾ç½®èµ„æºä¸Šé™é˜²æ­¢èµ„æºè€—å°½ï¼š</p>
<ul>
<li>é™åˆ¶æ•°æ®åº“å¹¶å‘è¿æ¥æ•°ï¼Œé¿å…æ•°æ®åº“è¿‡è½½</li>
<li>é™åˆ¶çº¿ç¨‹æ•°é‡ï¼Œé¿å…çº¿ç¨‹çˆ†ç‚¸</li>
<li>é™åˆ¶å†…å­˜å¯¹è±¡æ•°é‡ï¼Œé¿å…å†…å­˜æº¢å‡º</li>
</ul>
<p><strong>3. æ”¯æŒçƒ­å¯åŠ¨</strong></p>
<p>æ± å¯ä»¥åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶åˆ›å»ºèµ„æºï¼Œé¿å…é¦–æ¬¡è¯·æ±‚çš„å†·å¯åŠ¨å»¶è¿Ÿã€‚ä¾‹å¦‚æ•°æ®åº“è¿æ¥æ± åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶å»ºç«‹è¿æ¥ï¼Œé¦–æ¬¡è¯·æ±‚æ— éœ€ç­‰å¾…è¿æ¥å»ºç«‹ã€‚</p>
<h3 data-id="heading-3">åº”ç”¨åœºæ™¯</h3>
<p>èµ„æºæ± åŒ–ç‰¹åˆ«é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>






























<table><thead><tr><th>åœºæ™¯</th><th>å…¸å‹åº”ç”¨</th><th>ä¼˜åŒ–æ•ˆæœ</th></tr></thead><tbody><tr><td><strong>æ•°æ®åº“è¿æ¥æ± </strong></td><td>MySQLã€PostgreSQL è¿æ¥</td><td>é¿å… TCP æ¡æ‰‹å’Œèº«ä»½éªŒè¯ï¼Œæå‡ 10-100 å€æ€§èƒ½</td></tr><tr><td><strong>çº¿ç¨‹æ± </strong></td><td>Web æœåŠ¡å™¨ã€ä»»åŠ¡è°ƒåº¦</td><td>é¿å…çº¿ç¨‹åˆ›å»ºé”€æ¯å¼€é”€ï¼Œé™ä½ä¸Šä¸‹æ–‡åˆ‡æ¢</td></tr><tr><td><strong>å¯¹è±¡æ± </strong></td><td>æ¸¸æˆå¼•æ“ä¸­çš„å®ä½“å¯¹è±¡ã€ç²’å­ç³»ç»Ÿ</td><td>å‡å°‘ GC å‹åŠ›ï¼Œé¿å…å†…å­˜åˆ†é…å¼€é”€</td></tr><tr><td><strong>ç½‘ç»œè¿æ¥æ± </strong></td><td>HTTP è¿æ¥æ± ã€gRPC è¿æ¥æ± </td><td>å¤ç”¨ TCP è¿æ¥ï¼Œå‡å°‘æ¡æ‰‹å»¶è¿Ÿ</td></tr></tbody></table>
<h2 data-id="heading-4">æ± åŒ–æ–¹æ¡ˆæ ¸å¿ƒè¦ç´ </h2>
<p>ä¸€ä¸ªå®Œæ•´çš„æ± åŒ–æ–¹æ¡ˆéœ€è¦æ˜ç¡®èµ„æºçš„åˆ›å»ºæ—¶æœºã€æ± å¤§å°ã€è·å–å½’è¿˜ç­–ç•¥å’Œæ·˜æ±°ç­–ç•¥ã€‚</p>
<h3 data-id="heading-5">èµ„æºåˆ›å»ºæ—¶æœº</h3>
<p>èµ„æºåˆ›å»ºæ—¶æœºå†³å®šä½•æ—¶åˆ›å»ºèµ„æºï¼š</p>
<p><strong>é¢„åˆ›å»º(Eager)</strong></p>
<p>æ± åˆå§‹åŒ–æ—¶ç«‹å³åˆ›å»ºèµ„æºã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Pool</span> {
    <span class="hljs-built_in">Pool</span>(<span class="hljs-type">size_t</span> initial_size) {
        <span class="hljs-comment">// åˆå§‹åŒ–æ—¶åˆ›å»ºæ‰€æœ‰èµ„æº</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; initial_size; ++i) {
            resources_.<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">CreateResource</span>());
        }
    }
};
</code></pre>
<p>ä¼˜ç‚¹ï¼šé¦–æ¬¡è·å–æ— å»¶è¿Ÿ
ç¼ºç‚¹ï¼šå¯åŠ¨æ—¶é—´é•¿ï¼Œå¯èƒ½æµªè´¹èµ„æº</p>
<p><strong>æ‡’åŠ è½½(Lazy)</strong></p>
<p>é¦–æ¬¡è¯·æ±‚æ—¶æ‰åˆ›å»ºèµ„æºã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">Resource* <span class="hljs-title">Pool::Acquire</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (free_list_.<span class="hljs-built_in">empty</span>()) {
        <span class="hljs-comment">// æŒ‰éœ€åˆ›å»º</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">CreateResource</span>();
    }
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">GetFromFreeList</span>();
}
</code></pre>
<p>ä¼˜ç‚¹ï¼šå¯åŠ¨å¿«ï¼ŒæŒ‰éœ€åˆ†é…
ç¼ºç‚¹ï¼šé¦–æ¬¡è¯·æ±‚æœ‰å»¶è¿Ÿ</p>
<p><strong>æ··åˆæ¨¡å¼</strong></p>
<p>åˆå§‹åŒ–æ—¶åˆ›å»ºéƒ¨åˆ†èµ„æºï¼Œåç»­æŒ‰éœ€åˆ›å»ºã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Pool</span> {
    <span class="hljs-built_in">Pool</span>(<span class="hljs-type">size_t</span> min_size, <span class="hljs-type">size_t</span> max_size) {
        <span class="hljs-comment">// åˆ›å»ºæœ€å°æ•°é‡</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; min_size; ++i) {
            resources_.<span class="hljs-built_in">push_back</span>(<span class="hljs-built_in">CreateResource</span>());
        }
        max_size_ = max_size;
    }
};
</code></pre>
<h3 data-id="heading-6">æ± å¤§å°ç®¡ç†</h3>
<p>æ ¹æ®æ± å¤§å°çš„ç®¡ç†æ–¹å¼ï¼Œå¯åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š</p>
<p><strong>é™æ€æ± (Static Pool)</strong></p>
<p>åˆå§‹åŒ–æ—¶åˆ›å»ºå›ºå®šæ•°é‡çš„èµ„æºï¼Œè¿è¡ŒæœŸé—´ä¸å¢å‡ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">StaticPool</span> {
    std::array&lt;Resource, POOL_SIZE&gt; resources_;  <span class="hljs-comment">// å›ºå®šå¤§å°</span>
    std::vector&lt;<span class="hljs-type">size_t</span>&gt; free_indices_;
};
</code></pre>
<p>ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œæ€§èƒ½ç¨³å®š
ç¼ºç‚¹ï¼šæ— æ³•é€‚åº”è´Ÿè½½å˜åŒ–</p>
<p><strong>åŠ¨æ€æ± (Dynamic Pool)</strong></p>
<p>æ ¹æ®å®é™…éœ€æ±‚åŠ¨æ€åˆ›å»ºå’Œé”€æ¯èµ„æºã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DynamicPool</span> {
    <span class="hljs-type">size_t</span> min_size_;   <span class="hljs-comment">// æœ€å°æ± å¤§å°</span>
    <span class="hljs-type">size_t</span> core_size_;  <span class="hljs-comment">// æ ¸å¿ƒæ± å¤§å°</span>
    <span class="hljs-type">size_t</span> max_size_;   <span class="hljs-comment">// æœ€å¤§æ± å¤§å°</span>

    <span class="hljs-function">Resource* <span class="hljs-title">Acquire</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (free_list_.<span class="hljs-built_in">empty</span>() &amp;&amp; total_size_ &lt; max_size_) {
            <span class="hljs-comment">// åŠ¨æ€æ‰©å®¹</span>
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">CreateResource</span>();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">GetFromFreeList</span>();
    }
};
</code></pre>
<p>ä¼˜ç‚¹ï¼šçµæ´»é€‚åº”è´Ÿè½½å˜åŒ–
ç¼ºç‚¹ï¼šç»´æŠ¤å¤æ‚ï¼Œæ€§èƒ½æ³¢åŠ¨</p>
<p><strong>åˆ†å±‚æ± (Tiered Pool)</strong></p>
<p>å°†èµ„æºåˆ†ä¸ºå¤šä¸ªå±‚çº§ï¼Œæ¯å±‚æœ‰ä¸åŒçš„ä¼˜å…ˆçº§å’Œç®¡ç†ç­–ç•¥ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TieredPool</span> {
    std::queue&lt;Resource*&gt; hot_pool_;   <span class="hljs-comment">// çƒ­æ± ï¼šé«˜ä¼˜å…ˆçº§</span>
    std::queue&lt;Resource*&gt; cold_pool_;  <span class="hljs-comment">// å†·æ± ï¼šä½ä¼˜å…ˆçº§</span>

    <span class="hljs-function">Resource* <span class="hljs-title">Acquire</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (!hot_pool_.<span class="hljs-built_in">empty</span>()) {
            <span class="hljs-keyword">return</span> hot_pool_.<span class="hljs-built_in">front</span>();
        }
        <span class="hljs-keyword">return</span> cold_pool_.<span class="hljs-built_in">front</span>();
    }
};
</code></pre>
<p>ä¼˜ç‚¹ï¼šæé«˜é«˜é¢‘èµ„æºè®¿é—®æ•ˆç‡
ç¼ºç‚¹ï¼šå®ç°å¤æ‚åº¦é«˜</p>
<h3 data-id="heading-7">è·å–ç­–ç•¥</h3>
<p>å½“è¯·æ±‚èµ„æºæ—¶çš„å¤„ç†ç­–ç•¥ï¼š</p>
<p><strong>é˜»å¡ç­‰å¾…(Blocking)</strong></p>
<p>å¦‚æœæ± ä¸ºç©ºï¼Œé˜»å¡ç­‰å¾…ç›´åˆ°æœ‰èµ„æºå¯ç”¨ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">Resource* <span class="hljs-title">Pool::Acquire</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
    <span class="hljs-comment">// é˜»å¡ç­‰å¾…</span>
    cv_.<span class="hljs-built_in">wait</span>(lock, [<span class="hljs-keyword">this</span>]{ <span class="hljs-keyword">return</span> !free_list_.<span class="hljs-built_in">empty</span>(); });
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">GetFromFreeList</span>();
}
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šèµ„æºå¿…é¡»è·å–ï¼Œå¯ä»¥æ¥å—ç­‰å¾…</p>
<p><strong>è¶…æ—¶ç­‰å¾…(Timeout)</strong></p>
<p>ç­‰å¾…æŒ‡å®šæ—¶é—´åè¶…æ—¶è¿”å›ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">Resource* <span class="hljs-title">Pool::Acquire</span><span class="hljs-params">(std::chrono::milliseconds timeout)</span> </span>{
    <span class="hljs-function">std::unique_lock&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
    <span class="hljs-keyword">if</span> (cv_.<span class="hljs-built_in">wait_for</span>(lock, timeout, [<span class="hljs-keyword">this</span>]{ <span class="hljs-keyword">return</span> !free_list_.<span class="hljs-built_in">empty</span>(); })) {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">GetFromFreeList</span>();
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;  <span class="hljs-comment">// è¶…æ—¶è¿”å› null</span>
}
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šéœ€è¦æ§åˆ¶ç­‰å¾…æ—¶é—´ï¼Œé¿å…æ— é™é˜»å¡</p>
<p><strong>å¿«é€Ÿå¤±è´¥(Fail Fast)</strong></p>
<p>å¦‚æœæ± ä¸ºç©ºï¼Œç«‹å³è¿”å›é”™è¯¯ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">Resource* <span class="hljs-title">Pool::Acquire</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
    <span class="hljs-keyword">if</span> (free_list_.<span class="hljs-built_in">empty</span>()) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;  <span class="hljs-comment">// ç«‹å³è¿”å›</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">GetFromFreeList</span>();
}
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šé«˜æ€§èƒ½è¦æ±‚ï¼Œä¸èƒ½æ¥å—ç­‰å¾…</p>
<p><strong>åŠ¨æ€æ‰©å®¹(Dynamic Expansion)</strong></p>
<p>æ± ä¸ºç©ºæ—¶åˆ›å»ºæ–°èµ„æºï¼ˆä¸è¶…è¿‡æœ€å¤§å€¼ï¼‰ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">Resource* <span class="hljs-title">Pool::Acquire</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
    <span class="hljs-keyword">if</span> (free_list_.<span class="hljs-built_in">empty</span>() &amp;&amp; total_size_ &lt; max_size_) {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">CreateResource</span>();  <span class="hljs-comment">// åŠ¨æ€åˆ›å»º</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">GetFromFreeList</span>();
}
</code></pre>
<p>é€‚ç”¨åœºæ™¯ï¼šè´Ÿè½½æ³¢åŠ¨å¤§ï¼Œéœ€è¦å¼¹æ€§æ‰©å®¹</p>
<h3 data-id="heading-8">å½’è¿˜ç­–ç•¥</h3>
<p>èµ„æºä½¿ç”¨å®Œæ¯•åçš„å¤„ç†ç­–ç•¥ï¼š</p>
<p><strong>çŠ¶æ€é‡ç½®</strong></p>
<p>æ¸…ç†èµ„æºçŠ¶æ€ï¼Œæ¢å¤åˆ°åˆå§‹çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Pool::Release</span><span class="hljs-params">(Resource* resource)</span> </span>{
    resource-&gt;<span class="hljs-built_in">Reset</span>();  <span class="hljs-comment">// é‡ç½®çŠ¶æ€</span>
    free_list_.<span class="hljs-built_in">push_back</span>(resource);
}
</code></pre>
<p><strong>å¥åº·æ£€æŸ¥</strong></p>
<p>éªŒè¯èµ„æºæ˜¯å¦ä»ç„¶æœ‰æ•ˆã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Pool::Release</span><span class="hljs-params">(Resource* resource)</span> </span>{
    <span class="hljs-keyword">if</span> (resource-&gt;<span class="hljs-built_in">IsHealthy</span>()) {
        free_list_.<span class="hljs-built_in">push_back</span>(resource);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">delete</span> resource;  <span class="hljs-comment">// é”€æ¯æŸåçš„èµ„æº</span>
        total_size_--;
    }
}
</code></pre>
<p><strong>è¶…æ—¶æ¸…ç†</strong></p>
<p>å¦‚æœèµ„æºè¢«å ç”¨è¶…è¿‡ä¸€å®šæ—¶é—´ï¼Œå¼ºåˆ¶å›æ”¶ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Pool::CheckTimeout</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">auto</span> now = std::chrono::steady_clock::<span class="hljs-built_in">now</span>();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; [resource, acquire_time] : in_use_resources_) {
        <span class="hljs-keyword">if</span> (now - acquire_time &gt; timeout_) {
            <span class="hljs-built_in">ForceRelease</span>(resource);  <span class="hljs-comment">// å¼ºåˆ¶å›æ”¶</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-9">æ·˜æ±°ç­–ç•¥</h3>
<p>ç§»é™¤æ± ä¸­èµ„æºçš„ç­–ç•¥ï¼š</p>
<p><strong>ç©ºé—²è¶…æ—¶æ·˜æ±°(Idle Timeout)</strong></p>
<p>èµ„æºç©ºé—²è¶…è¿‡ä¸€å®šæ—¶é—´åç§»é™¤ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Pool::EvictIdleResources</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">auto</span> now = std::chrono::steady_clock::<span class="hljs-built_in">now</span>();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = free_list_.<span class="hljs-built_in">begin</span>(); it != free_list_.<span class="hljs-built_in">end</span>();) {
        <span class="hljs-keyword">if</span> (now - it-&gt;last_use_time &gt; idle_timeout_) {
            <span class="hljs-keyword">delete</span> *it;
            it = free_list_.<span class="hljs-built_in">erase</span>(it);
        } <span class="hljs-keyword">else</span> {
            ++it;
        }
    }
}
</code></pre>
<p><strong>å®šæœŸå¥åº·æ£€æŸ¥(Health Check)</strong></p>
<p>å®šæœŸæ£€æŸ¥èµ„æºæœ‰æ•ˆæ€§ï¼Œç§»é™¤æŸåèµ„æºã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Pool::HealthCheck</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> it = free_list_.<span class="hljs-built_in">begin</span>(); it != free_list_.<span class="hljs-built_in">end</span>();) {
        <span class="hljs-keyword">if</span> (!(*it)-&gt;<span class="hljs-built_in">IsHealthy</span>()) {
            <span class="hljs-keyword">delete</span> *it;
            it = free_list_.<span class="hljs-built_in">erase</span>(it);
        } <span class="hljs-keyword">else</span> {
            ++it;
        }
    }
}
</code></pre>
<p><strong>æœ€å°‘ä½¿ç”¨æ·˜æ±°(LRU)</strong></p>
<p>å½“æ± æ»¡æ—¶ï¼Œæ·˜æ±°æœ€ä¹…æœªä½¿ç”¨çš„èµ„æºã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Pool::EvictLRU</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (total_size_ &gt; max_size_) {
        <span class="hljs-comment">// æŒ‰æœ€åä½¿ç”¨æ—¶é—´æ’åºï¼Œæ·˜æ±°æœ€ä¹…æœªä½¿ç”¨çš„</span>
        std::<span class="hljs-built_in">sort</span>(free_list_.<span class="hljs-built_in">begin</span>(), free_list_.<span class="hljs-built_in">end</span>(),
            [](Resource* a, Resource* b) {
                <span class="hljs-keyword">return</span> a-&gt;last_use_time &lt; b-&gt;last_use_time;
            });
        <span class="hljs-keyword">delete</span> free_list_.<span class="hljs-built_in">front</span>();
        free_list_.<span class="hljs-built_in">erase</span>(free_list_.<span class="hljs-built_in">begin</span>());
    }
}
</code></pre>
<p><strong>å›ºå®šå¤§å°æ·˜æ±°</strong></p>
<p>å½“èµ„æºæ•°è¶…è¿‡æ ¸å¿ƒå¤§å°æ—¶ï¼Œæ·˜æ±°å¤šä½™èµ„æºã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Pool::ShrinkToCore</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">while</span> (free_list_.<span class="hljs-built_in">size</span>() &gt; core_size_) {
        <span class="hljs-keyword">delete</span> free_list_.<span class="hljs-built_in">back</span>();
        free_list_.<span class="hljs-built_in">pop_back</span>();
    }
}
</code></pre>
<h2 data-id="heading-10">æ± åŒ–æ–¹æ¡ˆçš„å†…å­˜è®¾è®¡</h2>
<p>ä»å†…å­˜åˆ†é…çš„è§’åº¦ï¼Œæ± åŒ–æ–¹æ¡ˆå¯åˆ†ä¸ºæ ˆå¼æ± åŒ–ï¼ˆæ± å†…è¿ç»­å­˜å‚¨ï¼‰å’Œå †å¼æ± åŒ–ï¼ˆå †ä¸Šåˆ†æ•£å­˜å‚¨ï¼‰ã€‚</p>
<h3 data-id="heading-11">æ ˆå¼æ± åŒ– vs å †å¼æ± åŒ–</h3>








































<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>æ ˆå¼æ± åŒ–</th><th>å †å¼æ± åŒ–</th></tr></thead><tbody><tr><td><strong>å†…å­˜ä½ç½®</strong></td><td>æ± å†…è¿ç»­å†…å­˜ï¼ˆå¦‚ <code>std::deque&lt;T&gt;</code>ï¼‰</td><td>å †ä¸Šåˆ†æ•£å­˜å‚¨ï¼ˆæ¯ä¸ªèµ„æºç‹¬ç«‹åˆ†é…ï¼‰</td></tr><tr><td><strong>èµ„æºç®¡ç†</strong></td><td>æ± ç»´æŠ¤æ‰€æœ‰èµ„æºï¼ˆä½¿ç”¨ä¸­ + ç©ºé—²ï¼‰</td><td>æ± åªç»´æŠ¤ç©ºé—²èµ„æºï¼Œä½¿ç”¨ä¸­çš„èµ„æºåœ¨å¤–éƒ¨</td></tr><tr><td><strong>å†…å­˜åˆ†é…ä¼˜åŒ–</strong></td><td>å®Œå…¨é¿å… malloc/free</td><td>ä»éœ€ malloc/freeï¼Œä½†å¤ç”¨å¯¹è±¡é¿å…æ„é€ /ææ„</td></tr><tr><td><strong>CPU Cache</strong></td><td>å†…å­˜è¿ç»­ï¼ŒCache å‘½ä¸­ç‡é«˜</td><td>å†…å­˜åˆ†æ•£ï¼ŒCache å‘½ä¸­ç‡ä½</td></tr><tr><td><strong>å†…å­˜ç¢ç‰‡</strong></td><td>æ— å†…å­˜ç¢ç‰‡</td><td>å¯èƒ½äº§ç”Ÿå†…å­˜ç¢ç‰‡</td></tr><tr><td><strong>å¤–éƒ¨è®¿é—®æ–¹å¼</strong></td><td>è¿”å›ç´¢å¼•æˆ–è£¸æŒ‡é’ˆ</td><td>è¿”å›è£¸æŒ‡é’ˆæˆ–æ™ºèƒ½æŒ‡é’ˆ</td></tr></tbody></table>
<h3 data-id="heading-12">æ ˆå¼æ± åŒ–çš„å®ç°</h3>
<p>æ ˆå¼æ± åŒ–å°†æ‰€æœ‰èµ„æºå­˜å‚¨åœ¨æ± å†…çš„è¿ç»­å†…å­˜ä¸­ã€‚å¸¸ç”¨çš„å®ç°æ–¹å¼æœ‰ä¸‰ç§ï¼š</p>
<p><strong>æ–¹æ¡ˆ 1ï¼šç©ºé—²ç´¢å¼• vector</strong></p>
<p>ç»´æŠ¤ä¸€ä¸ª vector å­˜å‚¨ç©ºé—²èµ„æºçš„ç´¢å¼•ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">StackPool</span> {
    std::deque&lt;T&gt; objects_;          <span class="hljs-comment">// æ‰€æœ‰èµ„æºï¼ˆåœ°å€ç¨³å®šï¼‰</span>
    std::vector&lt;<span class="hljs-type">size_t</span>&gt; free_list_;  <span class="hljs-comment">// ç©ºé—²èµ„æºç´¢å¼•</span>

<span class="hljs-keyword">public</span>:
    <span class="hljs-comment">// è¿”å›ç´¢å¼•ï¼Œå¤–éƒ¨é€šè¿‡ç´¢å¼•è®¿é—®èµ„æº</span>
    <span class="hljs-function"><span class="hljs-type">size_t</span> <span class="hljs-title">Acquire</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (!free_list_.<span class="hljs-built_in">empty</span>()) {
            <span class="hljs-type">size_t</span> idx = free_list_.<span class="hljs-built_in">back</span>();
            free_list_.<span class="hljs-built_in">pop_back</span>();
            objects_[idx].<span class="hljs-built_in">Reset</span>();  <span class="hljs-comment">// é‡ç½®çŠ¶æ€</span>
            <span class="hljs-keyword">return</span> idx;
        }
        <span class="hljs-comment">// æ‰©å®¹</span>
        objects_.<span class="hljs-built_in">emplace_back</span>();
        <span class="hljs-keyword">return</span> objects_.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;
    }

    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Release</span><span class="hljs-params">(<span class="hljs-type">size_t</span> idx)</span> </span>{
        free_list_.<span class="hljs-built_in">push_back</span>(idx);
    }

    <span class="hljs-function">T&amp; <span class="hljs-title">Get</span><span class="hljs-params">(<span class="hljs-type">size_t</span> idx)</span> </span>{ <span class="hljs-keyword">return</span> objects_[idx]; }
};
</code></pre>
<p>ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œç´¢å¼•è®¿é—®å¿«é€Ÿ
ç¼ºç‚¹ï¼šéœ€è¦é¢å¤–çš„ vector å­˜å‚¨ç´¢å¼•</p>
<p><strong>æ–¹æ¡ˆ 2ï¼šå†…åµŒå¼ freelist</strong></p>
<p>å°†ç©ºé—²é“¾è¡¨åµŒå…¥åˆ°èµ„æºå†…éƒ¨ï¼ŒèŠ‚çœé¢å¤–å­˜å‚¨ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Slot</span> {
    <span class="hljs-built_in">alignas</span>(T) std::array&lt;std::byte, <span class="hljs-keyword">sizeof</span>(T)&gt; storage;
    <span class="hljs-type">size_t</span> next;  <span class="hljs-comment">// ä½¿ç”¨ä¸­=è‡ªèº«ç´¢å¼•, ç©ºé—²=ä¸‹ä¸€ä¸ªç©ºé—²ç´¢å¼•</span>
};

<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">StackPool</span> {
    std::deque&lt;Slot&gt; slots_;
    <span class="hljs-type">size_t</span> free_head_ = INVALID;

<span class="hljs-keyword">public</span>:
    <span class="hljs-function">T* <span class="hljs-title">Acquire</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (free_head_ != INVALID) {
            <span class="hljs-type">size_t</span> idx = free_head_;
            free_head_ = slots_[idx].next;
            T* obj = std::<span class="hljs-built_in">launder</span>(<span class="hljs-built_in">reinterpret_cast</span>&lt;T*&gt;(&amp;slots_[idx].storage));
            obj-&gt;<span class="hljs-built_in">Reset</span>();
            <span class="hljs-keyword">return</span> obj;
        }
        <span class="hljs-comment">// æ‰©å®¹å¹¶è¿”å›æ–°å¯¹è±¡</span>
        slots_.<span class="hljs-built_in">emplace_back</span>();
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">new</span> (&amp;slots_.<span class="hljs-built_in">back</span>().storage) <span class="hljs-built_in">T</span>();
    }

    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Release</span><span class="hljs-params">(T* obj)</span> </span>{
        <span class="hljs-type">size_t</span> idx = <span class="hljs-built_in">GetIndex</span>(obj);
        slots_[idx].next = free_head_;
        free_head_ = idx;
    }
};
</code></pre>
<p>ä¼˜ç‚¹ï¼šèŠ‚çœé¢å¤–å­˜å‚¨ç©ºé—´
ç¼ºç‚¹ï¼šéœ€è¦ä½¿ç”¨ placement newï¼Œå®ç°å¤æ‚</p>
<p><strong>æ–¹æ¡ˆ 3ï¼šbitmap æ ‡è®°</strong></p>
<p>ä½¿ç”¨ä½å›¾æ ‡è®°èµ„æºæ˜¯å¦ç©ºé—²ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">StackPool</span> {
    std::deque&lt;T&gt; objects_;
    std::vector&lt;<span class="hljs-type">bool</span>&gt; in_use_;  <span class="hljs-comment">// true=ä½¿ç”¨ä¸­, false=ç©ºé—²</span>

<span class="hljs-keyword">public</span>:
    <span class="hljs-function">T* <span class="hljs-title">Acquire</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">// æŸ¥æ‰¾ç¬¬ä¸€ä¸ªç©ºé—²èµ„æº</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">size_t</span> i = <span class="hljs-number">0</span>; i &lt; objects_.<span class="hljs-built_in">size</span>(); ++i) {
            <span class="hljs-keyword">if</span> (!in_use_[i]) {
                in_use_[i] = <span class="hljs-literal">true</span>;
                objects_[i].<span class="hljs-built_in">Reset</span>();
                <span class="hljs-keyword">return</span> &amp;objects_[i];
            }
        }
        <span class="hljs-comment">// æ‰©å®¹</span>
        objects_.<span class="hljs-built_in">emplace_back</span>();
        in_use_.<span class="hljs-built_in">push_back</span>(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">return</span> &amp;objects_.<span class="hljs-built_in">back</span>();
    }

    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">Release</span><span class="hljs-params">(T* obj)</span> </span>{
        <span class="hljs-type">size_t</span> idx = <span class="hljs-built_in">GetIndex</span>(obj);
        in_use_[idx] = <span class="hljs-literal">false</span>;
    }
};
</code></pre>
<p>ä¼˜ç‚¹ï¼šçŠ¶æ€æ¸…æ™°ï¼Œæ˜“äºè°ƒè¯•
ç¼ºç‚¹ï¼šè·å–èµ„æºéœ€è¦éå†ï¼ŒO(n) å¤æ‚åº¦</p>
<h3 data-id="heading-13">å †å¼æ± åŒ–çš„å®ç°</h3>
<p>å †å¼æ± åŒ–å°†èµ„æºåˆ†é…åœ¨å †ä¸Šï¼Œæ± åªç»´æŠ¤ç©ºé—²èµ„æºçš„æŒ‡é’ˆã€‚</p>
<p><strong>å®ç°æ–¹å¼ï¼šè¿”å›æ™ºèƒ½æŒ‡é’ˆï¼ˆè‡ªåŠ¨å½’è¿˜ï¼‰</strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HeapPool</span> {
    std::queue&lt;std::unique_ptr&lt;T&gt;&gt; free_resources_;
    std::mutex mutex_;

<span class="hljs-keyword">public</span>:
    <span class="hljs-keyword">using</span> Deleter = std::function&lt;<span class="hljs-built_in">void</span>(T*)&gt;;
    <span class="hljs-keyword">using</span> PoolPtr = std::unique_ptr&lt;T, Deleter&gt;;

    <span class="hljs-comment">// è¿”å›æ™ºèƒ½æŒ‡é’ˆï¼Œææ„æ—¶è‡ªåŠ¨å½’è¿˜</span>
    <span class="hljs-function">PoolPtr <span class="hljs-title">Acquire</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-function">std::lock_guard&lt;std::mutex&gt; <span class="hljs-title">lock</span><span class="hljs-params">(mutex_)</span></span>;
        T* ptr = <span class="hljs-literal">nullptr</span>;
        <span class="hljs-keyword">if</span> (!free_resources_.<span class="hljs-built_in">empty</span>()) {
            ptr = free_resources_.<span class="hljs-built_in">front</span>().<span class="hljs-built_in">release</span>();
            free_resources_.<span class="hljs-built_in">pop</span>();
        } <span class="hljs-keyword">else</span> {
            ptr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">T</span>();  <span class="hljs-comment">// å †ä¸Šåˆ†é…</span>
        }

        <span class="hljs-comment">// è‡ªå®šä¹‰ deleterï¼Œå½’è¿˜åˆ°æ± è€Œä¸æ˜¯ delete</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">PoolPtr</span>(ptr, [<span class="hljs-keyword">this</span>](T* p) {
            std::lock_guard&lt;std::mutex&gt; <span class="hljs-built_in">lock</span>(mutex_);
            free_resources_.<span class="hljs-built_in">push</span>(std::<span class="hljs-built_in">unique_ptr</span>&lt;T&gt;(p));
        });
    }
};
</code></pre>
<p>ä¼˜ç‚¹ï¼šä½¿ç”¨æ–¹ä¾¿ï¼Œè‡ªåŠ¨å½’è¿˜ï¼Œæ”¯æŒ RAII
ç¼ºç‚¹ï¼šä»éœ€ malloc/freeï¼Œå†…å­˜åˆ†æ•£</p>
<h3 data-id="heading-14">é€‰æ‹©å»ºè®®</h3>








































<table><thead><tr><th>åˆ¤æ–­ç»´åº¦</th><th>æ ˆå¼æ± åŒ–</th><th>å †å¼æ± åŒ–</th></tr></thead><tbody><tr><td><strong>å¯¹è±¡å¤§å°</strong></td><td>å°å¯¹è±¡ï¼ˆ&lt; 1KBï¼‰</td><td>å¤§å¯¹è±¡ï¼ˆ&gt; 1KBï¼‰</td></tr><tr><td><strong>å¯¹è±¡ç±»å‹</strong></td><td>å€¼ç±»å‹ã€éå¤šæ€ã€POD</td><td>å¤šæ€å¯¹è±¡ã€ç»§æ‰¿ä½“ç³»</td></tr><tr><td><strong>åœ°å€ç¨³å®šæ€§</strong></td><td>ä¸éœ€è¦ç¨³å®šåœ°å€</td><td>éœ€è¦ç¨³å®šåœ°å€ï¼ˆåœ°å€ä½œä¸º key æˆ–è¢«å¼•ç”¨ï¼‰</td></tr><tr><td><strong>æ‰€æœ‰æƒç®¡ç†</strong></td><td>èµ„æºæ‰€æœ‰æƒå½’æ± </td><td>èµ„æºæ‰€æœ‰æƒåœ¨ä½¿ç”¨æ–¹</td></tr><tr><td><strong>æ€§èƒ½è¦æ±‚</strong></td><td>é«˜æ€§èƒ½è¦æ±‚ï¼ˆè¿ç»­å†…å­˜ï¼ŒCache å‹å¥½ï¼‰</td><td>æ€§èƒ½è¦æ±‚ä¸€èˆ¬</td></tr><tr><td><strong>å®ç°å¤æ‚åº¦</strong></td><td>å¤æ‚ï¼ˆéœ€è¦ç®¡ç†ç´¢å¼•/ç©ºé—²åˆ—è¡¨ï¼‰</td><td>ç®€å•ï¼ˆç›´æ¥ç®¡ç†æŒ‡é’ˆï¼‰</td></tr></tbody></table>
<h2 data-id="heading-15">æ± åŒ–æ–¹æ¡ˆçš„è¯„ä»·æ ‡å‡†</h2>
<p>è¯„ä»·æ± åŒ–æ–¹æ¡ˆéœ€è¦ä»æ€§èƒ½ã€å¯é æ€§ã€èµ„æºåˆ©ç”¨ç‡ã€æ·˜æ±°ç‡ç­‰å¤šä¸ªç»´åº¦ç»¼åˆè€ƒé‡ã€‚</p>
<h3 data-id="heading-16">æ€§èƒ½æŒ‡æ ‡</h3>
<p><strong>å“åº”æ—¶é—´(Response Time)</strong></p>
<p>è·å–èµ„æºçš„å¹³å‡è€—æ—¶å’Œ P99 è€—æ—¶ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æµ‹é‡å“åº”æ—¶é—´</span>
<span class="hljs-keyword">auto</span> start = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();
<span class="hljs-keyword">auto</span> resource = pool.<span class="hljs-built_in">Acquire</span>();
<span class="hljs-keyword">auto</span> end = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();
<span class="hljs-keyword">auto</span> latency = std::chrono::<span class="hljs-built_in">duration_cast</span>&lt;std::chrono::microseconds&gt;(end - start);
</code></pre>
<p><strong>ååé‡(Throughput)</strong></p>
<p>å•ä½æ—¶é—´å†…å®Œæˆçš„èµ„æºè·å–/å½’è¿˜æ¬¡æ•°ã€‚</p>
<ul>
<li>é™æ€æ± ï¼šååé‡ç¨³å®šï¼Œå—æ± å¤§å°é™åˆ¶</li>
<li>åŠ¨æ€æ± ï¼šååé‡æ³¢åŠ¨ï¼Œå—åŠ¨æ€åˆ†é…å½±å“</li>
<li>åˆ†å±‚æ± ï¼šçƒ­æ± ååé‡é«˜ï¼Œå†·æ± ååé‡ä½</li>
</ul>
<p><strong>å»¶è¿ŸæŠ–åŠ¨(Latency Jitter)</strong></p>
<p>å“åº”æ—¶é—´çš„æ³¢åŠ¨ç¨‹åº¦ï¼Œå½±å“ç³»ç»Ÿç¨³å®šæ€§ã€‚</p>
<ul>
<li>é™æ€æ± å»¶è¿Ÿç¨³å®š</li>
<li>åŠ¨æ€æ± å¯èƒ½å› æ‰©å®¹/æ·˜æ±°äº§ç”Ÿå»¶è¿Ÿå³°å€¼</li>
</ul>
<h3 data-id="heading-17">å¯é æ€§æŒ‡æ ‡</h3>
<p><strong>å®¹é”™èƒ½åŠ›(Fault Tolerance)</strong></p>
<p>èµ„æºæŸåæˆ–è¿æ¥æ–­å¼€æ—¶çš„å¤„ç†èƒ½åŠ›ã€‚</p>
<ul>
<li><strong>å¥åº·æ£€æŸ¥</strong>ï¼šè·å–æ—¶éªŒè¯èµ„æºæœ‰æ•ˆæ€§</li>
<li><strong>è‡ªåŠ¨é‡å»º</strong>ï¼šæŸåèµ„æºè‡ªåŠ¨æ›¿æ¢ä¸ºæ–°èµ„æº</li>
<li><strong>é™çº§ç­–ç•¥</strong>ï¼šæ± è€—å°½æ—¶çš„å¤‡é€‰æ–¹æ¡ˆ</li>
</ul>
<p><strong>å¹¶å‘å®‰å…¨(Concurrency Safety)</strong></p>
<p>å¤šçº¿ç¨‹ç¯å¢ƒä¸‹çš„æ­£ç¡®æ€§ã€‚</p>
<ul>
<li>ä½¿ç”¨ mutex/lock ä¿è¯çº¿ç¨‹å®‰å…¨</li>
<li>é¿å…æ­»é”å’Œç«æ€æ¡ä»¶</li>
<li>ä½¿ç”¨ lock-free æ•°æ®ç»“æ„æå‡æ€§èƒ½</li>
</ul>
<p><strong>èµ„æºæ³„æ¼é˜²æŠ¤(Leak Protection)</strong></p>
<p>é˜²æ­¢èµ„æºæœªå½’è¿˜å¯¼è‡´çš„æ³„æ¼ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// RAII åŒ…è£…é˜²æ­¢æ³„æ¼</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PoolGuard</span> {
    Pool&amp; pool_;
    Resource* resource_;
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">PoolGuard</span>(Pool&amp; pool) : <span class="hljs-built_in">pool_</span>(pool), <span class="hljs-built_in">resource_</span>(pool.<span class="hljs-built_in">Acquire</span>()) {}
    ~<span class="hljs-built_in">PoolGuard</span>() { <span class="hljs-keyword">if</span> (resource_) pool_.<span class="hljs-built_in">Release</span>(resource_); }
    <span class="hljs-function">Resource* <span class="hljs-title">get</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> resource_; }
};
</code></pre>
<ul>
<li>ä½¿ç”¨ RAII åŒ…è£…èµ„æº</li>
<li>è¶…æ—¶è‡ªåŠ¨å›æ”¶æœºåˆ¶</li>
<li>ç›‘æ§æœªå½’è¿˜èµ„æºçš„æ•°é‡å’ŒæŒæœ‰æ—¶é—´</li>
</ul>
<h3 data-id="heading-18">èµ„æºåˆ©ç”¨ç‡æŒ‡æ ‡</h3>
<p><strong>æ± åˆ©ç”¨ç‡(Pool Utilization) ä¸ ç©ºé—²ç‡(Idle Rate)</strong></p>
<p>ä¸¤ä¸ªäº’è¡¥çš„æŒ‡æ ‡ï¼Œç”¨äºè¯„ä¼°æ± çš„èµ„æºä½¿ç”¨æƒ…å†µã€‚</p>
<p>è®¡ç®—å…¬å¼ï¼š</p>
<ul>
<li><code>æ± åˆ©ç”¨ç‡ = ä½¿ç”¨ä¸­çš„èµ„æºæ•° / æ€»èµ„æºæ•°</code></li>
<li><code>ç©ºé—²ç‡ = ç©ºé—²èµ„æºæ•° / æ€»èµ„æºæ•°</code></li>
</ul>























<table><thead><tr><th>æŒ‡æ ‡</th><th>å…³æ³¨é—®é¢˜</th><th>è¿‡ä½çš„å½±å“</th><th>è¿‡é«˜çš„å½±å“</th></tr></thead><tbody><tr><td><strong>æ± åˆ©ç”¨ç‡</strong></td><td>èµ„æºæ˜¯å¦è¢«å……åˆ†ä½¿ç”¨</td><td>èµ„æºæµªè´¹ï¼Œæ± å¤§å°è®¾ç½®è¿‡å¤§</td><td>èµ„æºç´§å¼ ï¼Œå¯èƒ½éœ€è¦æ‰©å®¹</td></tr><tr><td><strong>ç©ºé—²ç‡</strong></td><td>æ˜¯å¦æœ‰è¶³å¤Ÿçš„ç©ºé—²èµ„æºåº”å¯¹æ–°è¯·æ±‚</td><td>èµ„æºç´§å¼ ï¼Œè·å–å¯èƒ½ç­‰å¾…</td><td>èµ„æºé—²ç½®ï¼Œå¯ä»¥æ·˜æ±°éƒ¨åˆ†èµ„æº</td></tr></tbody></table>
<p><strong>å‘½ä¸­ç‡(Hit Rate)</strong></p>
<p>ä»æ± ä¸­æˆåŠŸè·å–èµ„æºçš„æ¯”ä¾‹ï¼ˆä¸éœ€è¦åˆ›å»ºæ–°èµ„æºï¼‰ã€‚</p>
<p>è®¡ç®—å…¬å¼ï¼š<code>å‘½ä¸­ç‡ = ä»æ± ä¸­è·å–æ¬¡æ•° / æ€»è·å–æ¬¡æ•°</code></p>
<ul>
<li>é™æ€æ± å‘½ä¸­ç‡ç¨³å®š</li>
<li>åŠ¨æ€æ± å‘½ä¸­ç‡å—è´Ÿè½½å½±å“</li>
</ul>
<p><strong>æ·˜æ±°é¢‘ç‡(Eviction Frequency)</strong></p>
<p>å•ä½æ—¶é—´å†…æ·˜æ±°çš„èµ„æºæ•°é‡ã€‚åæ˜ èµ„æºçš„å¤ç”¨æ•ˆç‡ã€‚</p>
<ul>
<li><strong>æ·˜æ±°é¢‘ç‡ä½</strong>ï¼šèµ„æºè¢«é•¿æœŸå¤ç”¨ï¼Œæ± åŒ–æ•ˆæœå¥½</li>
<li><strong>æ·˜æ±°é¢‘ç‡é«˜</strong>ï¼šèµ„æºé¢‘ç¹åˆ›å»ºé”€æ¯ï¼Œæ± åŒ–æ•ˆæœå·®</li>
</ul>
<p>éœ€è¦ç»“åˆç©ºé—²ç‡è¯„ä¼°ï¼šæ·˜æ±°é¢‘ç‡ä½ä¸”ç©ºé—²ç‡ä½ä¸ºç†æƒ³çŠ¶æ€ï¼Œè¯´æ˜èµ„æºè¢«å……åˆ†ä½¿ç”¨ã€‚</p>
<p><strong>å†…å­˜å ç”¨(Memory Footprint)</strong></p>
<p>æ± å ç”¨çš„æ€»å†…å­˜å¤§å°ã€‚</p>
<ul>
<li>æ ˆå¼æ± åŒ–ï¼šå†…å­˜å ç”¨ = æ± å¤§å° Ã— èµ„æºå¤§å°</li>
<li>å †å¼æ± åŒ–ï¼šå†…å­˜å ç”¨ = ç©ºé—²èµ„æºæ•° Ã— èµ„æºå¤§å°</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡ææ‡‚RPCã€gRPCä¸Protobufï¼šåˆ†å¸ƒå¼é€šä¿¡çš„æ ¸å¿ƒæŠ€æœ¯æ ˆ]]></title>    <link>https://juejin.cn/post/7599496293161828393</link>    <guid>https://juejin.cn/post/7599496293161828393</guid>    <pubDate>2026-01-26T04:00:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599496293161828393" data-draft-id="7598899986856820742" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡ææ‡‚RPCã€gRPCä¸Protobufï¼šåˆ†å¸ƒå¼é€šä¿¡çš„æ ¸å¿ƒæŠ€æœ¯æ ˆ"/> <meta itemprop="keywords" content="åç«¯,gRPC,protobuf"/> <meta itemprop="datePublished" content="2026-01-26T04:00:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="starkå¼ å®‡"/> <meta itemprop="url" content="https://juejin.cn/user/1983974643871069"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡ææ‡‚RPCã€gRPCä¸Protobufï¼šåˆ†å¸ƒå¼é€šä¿¡çš„æ ¸å¿ƒæŠ€æœ¯æ ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1983974643871069/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    starkå¼ å®‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T04:00:50.000Z" title="Mon Jan 26 2026 04:00:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œä¸åŒæœåŠ¡é—´çš„é«˜æ•ˆé€šä¿¡æ˜¯æ ¸å¿ƒéœ€æ±‚ä¹‹ä¸€ã€‚RPCã€gRPCä¸Protobufä½œä¸ºä¸€å¥—ååŒå·¥ä½œçš„æŠ€æœ¯ç»„åˆï¼Œå¹¿æ³›åº”ç”¨äºå¾®æœåŠ¡ã€è·¨è¯­è¨€é€šä¿¡ç­‰åœºæ™¯ã€‚æœ¬æ–‡å°†é€ä¸€æ‹†è§£ä¸‰è€…çš„æ ¸å¿ƒæ¦‚å¿µã€å·¥ä½œåŸç†ï¼Œå¹¶é‡ç‚¹åˆ†æRPCä¸HTTPçš„å·®å¼‚ï¼Œå¸®åŠ©å¤§å®¶ç†æ¸…æŠ€æœ¯é€‰å‹é€»è¾‘ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€RPCï¼šè¿œç¨‹è¿‡ç¨‹è°ƒç”¨çš„æ ¸å¿ƒèŒƒå¼</h3>
<h4 data-id="heading-1"><strong>ä»€ä¹ˆæ˜¯RPC</strong></h4>
<p>RPC æ˜¯ä¸€ç§ç¼–ç¨‹æ€æƒ³ï¼Œæ˜¯ä¸€ç§è·¨è¿›ç¨‹é€šä¿¡åè®®ï¼ŒæŠŠåœ¨ä¸åŒæœåŠ¡ä¹‹é—´çš„é€šä¿¡å˜å¾—é«˜æ•ˆå’Œç®€å•ï¼Œå…¨ç§°æ˜¯è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRemote Procedure Call ï¼‰ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯â€œåƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æ–¹æ³•â€ï¼Œè°ƒç”¨å¦ä¸€ä¸ªè¿œç¨‹é¡¹ç›®ï¼ˆæœåŠ¡æä¾›è€…ï¼‰çš„æ¥å£ï¼Œè€Œä¸éœ€è¦äº†è§£æ•°æ®çš„ä¼ è¾“å¤„ç†è¿‡ç¨‹å’Œåº•å±‚ç½‘ç»œçš„é€šä¿¡ç»†èŠ‚ï¼Œè®©ç¨‹åºå‘˜ä¸“æ³¨äºä¸šåŠ¡é€»è¾‘ï¼Œå¿«é€Ÿå¼€å‘åˆ†å¸ƒå¼ã€å¾®æœåŠ¡ç³»ç»Ÿã€‚</p>
<h4 data-id="heading-2"><strong>RPCçš„æ ¸å¿ƒåŸç†ä¸æµç¨‹</strong></h4>
<p>ä¸€æ¬¡å®Œæ•´çš„RPCè°ƒç”¨æµç¨‹åŒ…å«ä»¥ä¸‹æ­¥éª¤ï¼Œæ¶‰åŠå®¢æˆ·ç«¯ï¼ˆè°ƒç”¨æ–¹ï¼‰å’ŒæœåŠ¡ç«¯ï¼ˆæä¾›æ–¹ï¼‰çš„ååŒå·¥ä½œï¼š</p>
<ol start="0">
<li><strong>å®¢æˆ·ç«¯è°ƒç”¨æœ¬åœ°ä»£ç†ï¼ˆStubï¼‰</strong> ï¼šå®¢æˆ·ç«¯å°†è¿œç¨‹æ–¹æ³•è°ƒç”¨å‚æ•°ä¼ é€’ç»™æœ¬åœ°Stubï¼ˆç±»ä¼¼â€œä»£ç†ç±»â€ï¼‰ï¼ŒStubè´Ÿè´£åç»­çš„é€šä¿¡å°è£…ã€‚</li>
<li><strong>å‚æ•°åºåˆ—åŒ–</strong>ï¼šStubå°†è°ƒç”¨å‚æ•°ï¼ˆå¦‚å¯¹è±¡ã€åŸºæœ¬ç±»å‹ï¼‰è½¬æ¢ä¸ºå¯åœ¨ç½‘ç»œä¸­ä¼ è¾“çš„äºŒè¿›åˆ¶æ•°æ®ï¼ˆåºåˆ—åŒ–ï¼‰ï¼Œé¿å…å› æ•°æ®æ ¼å¼ä¸å…¼å®¹å¯¼è‡´çš„é€šä¿¡é—®é¢˜ã€‚</li>
<li><strong>ç½‘ç»œä¼ è¾“</strong>ï¼šé€šè¿‡åº•å±‚ç½‘ç»œåè®®ï¼ˆå¦‚TCPã€UDPï¼‰å°†åºåˆ—åŒ–åçš„äºŒè¿›åˆ¶æ•°æ®å‘é€åˆ°æœåŠ¡ç«¯ã€‚</li>
<li><strong>æœåŠ¡ç«¯Stubååºåˆ—åŒ–</strong>ï¼šæœåŠ¡ç«¯Stubæ¥æ”¶æ•°æ®åï¼Œå°†äºŒè¿›åˆ¶æ•°æ®è¿˜åŸä¸ºåŸå§‹å‚æ•°ï¼ˆååºåˆ—åŒ–ï¼‰ã€‚</li>
<li><strong>è°ƒç”¨æœåŠ¡ç«¯æœ¬åœ°æ–¹æ³•</strong>ï¼šæœåŠ¡ç«¯Stubè°ƒç”¨å¯¹åº”çš„æœ¬åœ°ä¸šåŠ¡æ–¹æ³•ï¼Œæ‰§è¡Œæ ¸å¿ƒé€»è¾‘å¹¶è·å–è¿”å›ç»“æœã€‚</li>
<li><strong>ç»“æœåºåˆ—åŒ–ä¸å›ä¼ </strong>ï¼šæœåŠ¡ç«¯Stubå°†æ–¹æ³•è¿”å›ç»“æœåºåˆ—åŒ–ï¼Œé€šè¿‡ç½‘ç»œä¼ è¾“å›å®¢æˆ·ç«¯ã€‚</li>
<li><strong>å®¢æˆ·ç«¯å¤„ç†ç»“æœ</strong>ï¼šå®¢æˆ·ç«¯Stubååºåˆ—åŒ–è¿”å›æ•°æ®ï¼Œå°†ç»“æœä¼ é€’ç»™å®¢æˆ·ç«¯ä¸šåŠ¡ä»£ç ï¼Œå®Œæˆä¸€æ¬¡è¿œç¨‹è°ƒç”¨ã€‚</li>
</ol>
<p><strong>æœ‰äº†Httpä¸ºå•¥è¿˜æœ‰RPCï¼Ÿ</strong> Httpçš„æœ¬è´¨æ˜¯åŸºäºè¯·æ±‚-å“åº”æ¨¡å¼çš„åº”ç”¨å±‚ç½‘ç»œé€šä¿¡åè®®ï¼Œè€ŒRpcæ˜¯è¿œç¨‹è°ƒç”¨æœ¬åœ°åŒ–çš„ä¸€ç§æ€æƒ³ï¼Œä¸»æµçš„RPCå¤§å¤šé‡‡ç”¨åŸºäºTcpçš„äºŒè¿›åˆ¶æ ¼å¼ï¼Œä¼ é€çš„æ•°æ®æ›´ç´§å‡‘ï¼Œä¼ é€çš„æ•ˆç‡ä¹Ÿæ›´é«˜æ•ˆã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå¸¸ç”¨äºæµè§ˆå™¨ä¸æœåŠ¡å™¨ã€è·¨æœåŠ¡æ¥å£è°ƒç”¨ï¼ˆå¦‚RESTful APIï¼‰ã€‚è€ŒRpcæ›´é€‚åˆæœåŠ¡é—´çš„å†…éƒ¨é€šä¿¡ï¼ŒRPCä¸HTTPè™½éƒ½å¯ç”¨äºè·¨æœåŠ¡é€šä¿¡ï¼Œä½†è®¾è®¡ç›®æ ‡ã€ç‰¹æ€§å·®å¼‚æ˜¾è‘—ã€‚</p>
<p>è¿˜æœ‰ä¸€ç‚¹è¡¥å……çš„æ˜¯RPCå¹¶éä¸HTTPå¯¹ç«‹ï¼Œéƒ¨åˆ†RPCæ¡†æ¶ï¼ˆå¦‚gRPCï¼‰åº•å±‚åŸºäºHTTP/2å®ç°ï¼Œæœ¬è´¨æ˜¯â€œç”¨HTTP/2ä½œä¸ºä¼ è¾“è½½ä½“çš„RPCåè®®â€ï¼Œå…¼é¡¾äº†RPCçš„æ˜“ç”¨æ€§å’ŒHTTP/2çš„é«˜æ•ˆç‰¹æ€§ã€‚</p>
<h4 data-id="heading-3"><strong>è¿œç¨‹è°ƒç”¨è¿‡ç¨‹é¢ä¸´çš„é—®é¢˜?</strong></h4>
<p><strong>1.Call IDæ˜ å°„ã€‚</strong></p>
<p>æˆ‘ä»¬æ€ä¹ˆå‘Šè¯‰è¿œç¨‹æœºå™¨æˆ‘ä»¬è¦è°ƒç”¨çš„å‡½æ•°IDå‘¢?å†æœ¬åœ°è°ƒç”¨ä¸­ï¼Œå‡½æ•°ä½“æ˜¯ç›´æ¥é€šè¿‡æŒ‡é’ˆæ¥æŒ‡å®šçš„ï¼Œæˆ‘ä»¬è°ƒç”¨functionï¼Œç¼–è¯‘å™¨å°±è‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨å®ƒç›¸åº”çš„å‡½æ•°æŒ‡é’ˆã€‚</p>
<p>ä½†æ˜¯åœ¨è¿œç¨‹è°ƒç”¨ä¸­ï¼Œå‡½æ•°æŒ‡é’ˆæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºä¸¤ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ã€‚æ‰€ä»¥ï¼Œå†RPCä¸­ï¼Œæ‰€æœ‰çš„å‡½æ•°éƒ½å¿…é¡»æœ‰è‡ªå·±çš„ä¸€ä¸ªIDã€‚è¿™ä¸ªIDåœ¨æ‰€æœ‰çš„è¿›ç¨‹ä¸­éƒ½æ˜¯å”¯ä¸€ç¡®å®šçš„ã€‚å®¢æˆ·ç«¯åœ¨åšè¿œç¨‹è°ƒç”¨æ—¶ï¼Œå¿…é¡»é™„ä¸Šè¿™ä¸ªIDã€‚ç„¶åè¿˜éœ€è¦å†å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åˆ†åˆ«ç»´æŠ¤ä¸€ä¸ª{å‡½æ•° &lt;--&gt; Call ID}çš„å¯¹åº”è¡¨ã€‚ä¸¤è€…çš„è¡¨ä¸ä¸€å®šéœ€è¦å®Œå…¨ç›¸åŒï¼Œä½†ç›¸åŒå‡½æ•°å¯¹åº”çš„Call IDå¿…é¡»ç›¸åŒã€‚</p>
<p>å½“å®¢æˆ·ç«¯éœ€è¦è¿›è¡Œè¿œç¨‹è°ƒç”¨æ—¶ï¼Œå®ƒå°±æŸ¥ä¸€ä¸‹è¿™ä¸ªè¡¨ï¼Œæ‰¾å‡ºç›¸åº”çš„Call ID,ç„¶åæŠŠå®ƒä¼ ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ä¹Ÿé€šè¿‡æŸ¥è¡¨ï¼Œæ¥ç¡®å®šå®¢æˆ·ç«¯éœ€è¦è°ƒç”¨çš„å‡½æ•°ï¼Œç„¶åæ‰§è¡Œç›¸åº”çš„å‡½æ•°çš„ä»£ç ã€‚</p>
<p><strong>2.åºåˆ—åŒ–å’Œååºåˆ—åŒ–</strong></p>
<p>å®¢æˆ·ç«¯æ€ä¹ˆæŠŠå‚æ•°å€¼ä¼ ç»™è¿œç¨‹å‡½æ•°å‘¢?åœ¨æœ¬åœ°è°ƒç”¨ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠå‚æ•°å‹åˆ°æ ˆé‡Œï¼Œç„¶åè®©å‡½æ•°è‡ªå·±å»æ ˆé‡Œè¯»å°±è¡Œã€‚ä½†æ˜¯åœ¨è¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ—¶ï¼Œå®¢æˆ·ç«¯è·ŸæœåŠ¡ç«¯æ˜¯ä¸åŒçš„è¿›ç¨‹ï¼Œä¸èƒ½é€šè¿‡å†…å­˜æ¥ä¼ é€’å‚æ•°ã€‚ç”šè‡³æœ‰æ—¶å€™å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä½¿ç”¨çš„ä¸æ˜¯åŒä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œè¿™æ—¶å€™å°±éœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æŠŠå‚æ•°å…ˆè½¬æˆä¸€ä¸ªå­—èŠ‚æµï¼Œä¼ ç»™æœåŠ¡ç«¯åå†æŠŠå­—èŠ‚æµè½¬æˆè‡ªå·±èƒ½è¯»æ‡‚çš„æ ¼å¼ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšåºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚</p>
<p><strong>3.ç½‘ç»œä¼ è¾“</strong></p>
<p>è¿œç¨‹è°ƒç”¨å¾€å¾€ç”¨åœ¨ç½‘ç»œä¸Šï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯æ˜¯é€šè¿‡ç½‘ç»œè¿æ¥çš„ã€‚æ‰€æœ‰çš„æ•°æ®éƒ½éœ€è¦é€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œå› æ­¤å°±éœ€è¦ä¸€ä¸ªç½‘ç»œä¼ è¾“å±‚ã€‚ç½‘ç»œä¼ è¾“å±‚éœ€è¦æŠŠCall IDå’Œåºåˆ—åŒ–åçš„å‚æ•°å­—èŠ‚æµä¼ ç»™æœåŠ¡ç«¯ï¼Œç„¶ååœ¨æŠŠåºåˆ—åŒ–åçš„è°ƒç”¨ç»“æœè¿”å›å®¢æˆ·ç«¯ï¼Œåªè¦èƒ½å®Œæˆè¿™ä¸¤è€…çš„ï¼Œéƒ½å¯ä»¥ä½œä¸ºä¼ è¾“å±‚ä½¿ç”¨ã€‚</p>
<p>å› æ­¤ï¼Œå®ƒæ‰€ä½¿ç”¨çš„åè®®å…¶å®æ˜¯ä¸é™çš„ï¼Œèƒ½å®Œæˆä¼ è¾“å°±è¡Œã€‚å°½ç®¡å¤§éƒ¨åˆ†Rpcæ¡†æ¶éƒ½ä½¿ç”¨Tcpåè®®ï¼Œä½†å…¶å®Udpä¹Ÿå¯ä»¥ï¼ŒgRPCå¹²è„†ä½¿ç”¨äº†Http2ã€‚</p>
<h3 data-id="heading-4">äºŒã€Protobufï¼šé«˜æ•ˆçš„åºåˆ—åŒ–åè®®</h3>
<p>Protobufï¼ˆProtocol Buffersï¼‰æ˜¯Googleå¼€æºçš„ä¸€ç§<strong>è¯­è¨€æ— å…³ã€å¹³å°æ— å…³ã€å¯æ‰©å±•</strong>çš„äºŒè¿›åˆ¶åºåˆ—åŒ–åè®®ï¼Œç”¨äºå°†ç»“æ„åŒ–æ•°æ®åºåˆ—åŒ–ä¸ºç´§å‡‘çš„äºŒè¿›åˆ¶æ ¼å¼ï¼Œé€‚ç”¨äºæ•°æ®å­˜å‚¨ã€é€šä¿¡åè®®ç­‰åœºæ™¯ã€‚å®ƒæ˜¯gRPCçš„é»˜è®¤åºåˆ—åŒ–åè®®ï¼Œä¹Ÿæ˜¯ç›®å‰é«˜æ€§èƒ½RPCé€šä¿¡çš„é¦–é€‰åºåˆ—åŒ–æ–¹æ¡ˆä¹‹ä¸€ã€‚</p>
<h4 data-id="heading-5">Protobufçš„æ ¸å¿ƒç‰¹æ€§</h4>
<ul>
<li><strong>é«˜æ•ˆç´§å‡‘</strong>ï¼šé‡‡ç”¨äºŒè¿›åˆ¶ç¼–ç ï¼Œåºåˆ—åŒ–åçš„æ•°æ®ä½“ç§¯è¿œå°äºJSON/XMLï¼Œè§£æé€Ÿåº¦æ›´å¿«ï¼ˆæ¯”JSONå¿«3-5å€ç”šè‡³æ›´é«˜ï¼‰ï¼Œå‡å°‘ç½‘ç»œä¼ è¾“å¼€é”€å’Œè§£æè€—æ—¶ã€‚</li>
<li><strong>è·¨è¯­è¨€/è·¨å¹³å°</strong>ï¼šæ”¯æŒJavaã€Goã€Pythonã€C++ç­‰å¤šç§è¯­è¨€ï¼Œå¯åœ¨ä¸åŒå¹³å°ï¼ˆWindowsã€Linuxã€Macï¼‰é—´æ— ç¼ä¼ è¾“æ•°æ®ï¼Œé€‚é…è·¨è¯­è¨€RPCåœºæ™¯ã€‚</li>
<li><strong>å¯æ‰©å±•æ€§å¼º</strong>ï¼šæ”¯æŒå­—æ®µçš„æ–°å¢å’ŒåºŸå¼ƒï¼Œä¸”å‘åå…¼å®¹ï¼ˆæ—§ç‰ˆæœ¬ç¨‹åºå¯è§£ææ–°ç‰ˆæœ¬æ•°æ®ï¼Œæ–°ç‰ˆæœ¬ç¨‹åºå¯å…¼å®¹æ—§ç‰ˆæœ¬æ•°æ®ï¼‰ï¼Œæ— éœ€æ‹…å¿ƒæ¥å£å‡çº§å¯¼è‡´çš„å…¼å®¹æ€§é—®é¢˜ã€‚</li>
<li><strong>å¼ºç±»å‹çº¦æŸ</strong>ï¼šé€šè¿‡IDLå®šä¹‰æ•°æ®ç»“æ„ï¼Œç¼–è¯‘åç”Ÿæˆå¯¹åº”è¯­è¨€çš„ä»£ç ï¼Œå¼ºåˆ¶æ•°æ®ç±»å‹æ ¡éªŒï¼Œé¿å…å› ç±»å‹ä¸åŒ¹é…å¯¼è‡´çš„å¼‚å¸¸ï¼Œæå‡ä»£ç å¥å£®æ€§ã€‚</li>
</ul>
<h4 data-id="heading-6"><strong>æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ protocå’Œprotoc-gen-goï¼Ÿ</strong></h4>
<p><code>proto</code> æ–‡ä»¶æœ¬è´¨ä¸Šæ˜¯<strong>çº¯æ–‡æœ¬çš„åè®®å®šä¹‰</strong>ï¼Œæ¯”å¦‚å®šä¹‰äº†æ¶ˆæ¯ç»“æ„ã€å­—æ®µç±»å‹ã€æœåŠ¡æ¥å£ç­‰ï¼Œå®ƒåªæ˜¯ä¸€ä»½ â€œè®¾è®¡å›¾çº¸â€â€”â€” è®¡ç®—æœºæ— æ³•ç›´æ¥è¯†åˆ«å’Œä½¿ç”¨è¿™ä»½å›¾çº¸ï¼Œå¿…é¡»æŠŠå®ƒè½¬æ¢æˆå¯¹åº”ç¼–ç¨‹è¯­è¨€ï¼ˆæ¯”å¦‚ Goï¼‰çš„å¯æ‰§è¡Œä»£ç ï¼Œæ‰èƒ½åœ¨ç¨‹åºä¸­å®ç°åºåˆ—åŒ–ã€ååºåˆ—åŒ–ã€ç½‘ç»œé€šä¿¡ç­‰åŠŸèƒ½ã€‚</p>
<p>è€Œ protoc å’Œ protoc-gen-go å°±æ˜¯å®Œæˆ â€œå›¾çº¸è½¬ä»£ç â€ è¿™ä¸ªæ ¸å¿ƒä»»åŠ¡çš„å·¥å…·ï¼ŒäºŒè€…åˆ†å·¥åä½œï¼Œç¼ºä¸€ä¸å¯ã€‚</p>
<p>protoc è¦æ‰§è¡Œçš„å°±æ˜¯æŠŠProtobufæ–‡ä»¶ç”Ÿæˆå¯¹åº”è¯­è¨€çš„æºç  ï¼Œè€Œprotoc-gen-go æ˜¯ç”ŸæˆGoè¯­è¨€çš„æºç </p>
<p>ç”±äºä½ çš„ <code>protoc</code> ç‰ˆæœ¬æ˜¯ 3.15.5ï¼Œç›´æ¥å®‰è£…æœ€æ–°ç‰ˆæ’ä»¶ä¼šå‡ºç°ç‰ˆæœ¬ä¸å…¼å®¹é—®é¢˜ï¼Œå› æ­¤éœ€è¦æŒ‡å®šé€‚é…çš„ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… protoc-gen-goï¼ˆé€‚é… 3.15.5 çš„ç‰ˆæœ¬ï¼‰</span>
go install google.golang.org/protobuf/cmd/protoc-gen-go@v1.27.1

<span class="hljs-comment"># å®‰è£… protoc-gen-go-grpcï¼ˆé€‚é… 3.15.5 çš„ç‰ˆæœ¬ï¼‰</span>
go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@v1.1.0

<span class="hljs-comment"># æŸ¥çœ‹ protoc-gen-go ç‰ˆæœ¬</span>
protoc-gen-go --version
<span class="hljs-comment"># æŸ¥çœ‹ protoc-gen-go-grpc ç‰ˆæœ¬</span>
protoc-gen-go-grpc --version
</code></pre>
<p><code>protoc</code>çš„åŸºç¡€å‘½ä»¤æ ¼å¼ï¼Œå‚æ•°è§£é‡Šï¼š</p>
<ul>
<li><code>-I .</code>ï¼šæŒ‡å®š proto æ–‡ä»¶çš„æœç´¢ç›®å½•ï¼ˆå½“å‰ç›®å½•ï¼‰ã€‚</li>
<li><code>--go_out=.</code>ï¼šæŒ‡å®šåŸºç¡€ Protobuf ä»£ç ç”Ÿæˆåˆ°å½“å‰ç›®å½•ã€‚</li>
<li><code>--go_opt=paths=source_relative</code>ï¼šæŒ‰ proto æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ç”Ÿæˆ Go æ–‡ä»¶ï¼ˆé¿å…ç”Ÿæˆå¤šå±‚åµŒå¥—ç›®å½•ï¼Œæ–°æ‰‹å‹å¥½ï¼‰ã€‚</li>
<li><code>--go-grpc_out=.</code>ï¼šæŒ‡å®š gRPC ä»£ç ç”Ÿæˆåˆ°å½“å‰ç›®å½•ã€‚</li>
<li><code>--go-grpc_opt=paths=source_relative</code>ï¼šåŒä¸Šï¼Œä¿è¯ gRPC ä»£ç å’Œ proto æ–‡ä»¶è·¯å¾„å¯¹åº”ã€‚</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¬¬ä¸€æ­¥ï¼šç”ŸæˆåŸºç¡€çš„ Protobuf Go ä»£ç </span>
protoc -I . helloworld.proto --go_out=. --go_opt=paths=source_relative

<span class="hljs-comment"># ç¬¬äºŒæ­¥ï¼šç”Ÿæˆ gRPC ç›¸å…³çš„ Go ä»£ç </span>
protoc -I . helloworld.proto --go-grpc_out=. --go-grpc_opt=paths=source_relative
</code></pre>
<h4 data-id="heading-7">Protobuf æ–‡ä»¶çš„ç¼–å†™</h4>
<p>protobuf æ ‡é‡ç±»å‹æ˜¯æœ€åŸºç¡€çš„æ•°æ®ç±»å‹ï¼Œä»¥ä¸‹æ˜¯ proto3 æ ¸å¿ƒæ ‡é‡ç±»å‹ä¸ Go/Python/PHP çš„ç²¾å‡†æ˜ å°„ï¼ˆé‡ç‚¹æ ‡æ³¨æ˜“è¸©å‘çš„å·®å¼‚ï¼‰ï¼š</p>





















































































































<table><thead><tr><th>Protobuf ç±»å‹</th><th>Go ç±»å‹</th><th>Python ç±»å‹</th><th>PHP ç±»å‹</th><th>å¤‡æ³¨è¯´æ˜</th></tr></thead><tbody><tr><td>double</td><td>float64</td><td>float</td><td>float</td><td>64 ä½æµ®ç‚¹æ•°</td></tr><tr><td>float</td><td>float32</td><td>float</td><td>float</td><td>32 ä½æµ®ç‚¹æ•°</td></tr><tr><td>int32</td><td>int32</td><td>int</td><td>int</td><td>æœ‰ç¬¦å· 32 ä½æ•´å‹ï¼Œå¯å˜é•¿ç¼–ç </td></tr><tr><td>int64</td><td>int64</td><td>int</td><td>string</td><td>PHP 64 ä½æ•´å‹æ˜“æº¢å‡ºï¼Œæ˜ å°„ä¸ºå­—ç¬¦ä¸²é¿å…é—®é¢˜</td></tr><tr><td>uint32</td><td>uint32</td><td>int</td><td>int</td><td>æ— ç¬¦å· 32 ä½æ•´å‹ï¼Œå¯å˜é•¿ç¼–ç </td></tr><tr><td>uint64</td><td>uint64</td><td>int</td><td>string</td><td>åŒä¸Šï¼ŒPHP æ˜ å°„ä¸ºå­—ç¬¦ä¸²</td></tr><tr><td>sint32</td><td>int32</td><td>int</td><td>int</td><td>æœ‰ç¬¦å·å¯å˜é•¿ç¼–ç ï¼ˆè´Ÿæ•°æ›´é«˜æ•ˆï¼‰</td></tr><tr><td>sint64</td><td>int64</td><td>int</td><td>string</td><td>æœ‰ç¬¦å·å¯å˜é•¿ç¼–ç ï¼ˆè´Ÿæ•°æ›´é«˜æ•ˆï¼‰</td></tr><tr><td>fixed32</td><td>uint32</td><td>int</td><td>int</td><td>å›ºå®š 4 å­—èŠ‚ç¼–ç ï¼Œå¤§æ•°æ›´é«˜æ•ˆ</td></tr><tr><td>fixed64</td><td>uint64</td><td>int</td><td>string</td><td>å›ºå®š 8 å­—èŠ‚ç¼–ç </td></tr><tr><td>sfixed32</td><td>int32</td><td>int</td><td>int</td><td>æœ‰ç¬¦å·å›ºå®š 4 å­—èŠ‚ç¼–ç </td></tr><tr><td>sfixed64</td><td>int64</td><td>int</td><td>string</td><td>æœ‰ç¬¦å·å›ºå®š 8 å­—èŠ‚ç¼–ç </td></tr><tr><td>bool</td><td>bool</td><td>bool</td><td>bool</td><td>å¸ƒå°”å€¼</td></tr><tr><td>string</td><td>string</td><td>str</td><td>string</td><td>UTF-8 ç¼–ç ï¼Œé•¿åº¦ â‰¤ 2^32-1</td></tr><tr><td>bytes</td><td>[]byte</td><td>bytes</td><td>string</td><td>PHP æ— åŸç”Ÿ bytes ç±»å‹ï¼Œç”¨ string å­˜äºŒè¿›åˆ¶</td></tr></tbody></table>
<p><strong>1.proto ç®€å•ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-bash" lang="bash">syntax = <span class="hljs-string">"proto3"</span>; // å¿…é¡»æ”¾åœ¨ç¬¬ä¸€è¡Œï¼Œå£°æ˜ä½¿ç”¨proto3è¯­æ³•

// å±•ç¤ºåŸºæœ¬ç±»å‹å’Œé»˜è®¤å€¼çš„message
message BasicTypeDemo {
  int32 age = 1; Â  Â  Â  Â   // é»˜è®¤å€¼ï¼š0
  string name = 2; Â  Â  Â   // é»˜è®¤å€¼ï¼šç©ºå­—ç¬¦ä¸²
  bool is_student = 3; Â   // é»˜è®¤å€¼ï¼š<span class="hljs-literal">false</span>
  double score = 4; Â  Â  Â  // é»˜è®¤å€¼ï¼š0.0
  bytes avatar = 5; Â  Â  Â  // é»˜è®¤å€¼ï¼šç©ºå­—èŠ‚æ•°ç»„
}
</code></pre>
<p><strong>2.option go_package çš„ä½œç”¨:</strong> <code>option go_package</code> æ˜¯ Go è¯­è¨€ä¸“å±çš„ç¼–è¯‘é€‰é¡¹ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯<strong>æŒ‡å®šç”Ÿæˆçš„ Go ä»£ç çš„åŒ…è·¯å¾„å’ŒåŒ…å</strong>ï¼Œè§£å†³ Go æ¨¡å—æ¨¡å¼ä¸‹çš„ä»£ç å¯¼å…¥å†²çªé—®é¢˜ã€‚</p>
<p>è¯­æ³•æ ¼å¼ï¼š<code>option go_package = "æ¨¡å—è·¯å¾„/å­ç›®å½•;åŒ…å";</code></p>
<ul>
<li>åˆ†å·å‰ï¼šç”Ÿæˆçš„ Go æ–‡ä»¶å­˜æ”¾çš„<strong>æ¨¡å—ç›¸å¯¹è·¯å¾„</strong>ï¼ˆå¦‚ <code>github.com/yourname/proto-demo/pb</code>ï¼‰ï¼›</li>
<li>åˆ†å·åï¼šç”Ÿæˆçš„ Go ä»£ç çš„<strong>åŒ…å</strong>ï¼ˆçœç•¥åˆ™ç”¨ç›®å½•åï¼‰ã€‚</li>
</ul>
<p>ç¼–è¯‘æ—¶ï¼š<code>protoc</code> ä¼šæ ¹æ®è¯¥é€‰é¡¹è‡ªåŠ¨å°†ç”Ÿæˆçš„<code>.go</code>æ–‡ä»¶æ”¾åˆ°æŒ‡å®šè·¯å¾„ï¼Œå¹¶è®¾ç½®æ­£ç¡®çš„åŒ…åã€‚</p>
<pre><code class="hljs language-bash" lang="bash">syntax = <span class="hljs-string">"proto3"</span>;

// å‡è®¾ä½ çš„Goæ¨¡å—åæ˜¯ github.com/yourname/proto-demo
// ç”Ÿæˆçš„Goä»£ç ä¼šæ”¾åˆ° ./pb ç›®å½•ä¸‹ï¼ŒåŒ…åæ˜¯ pb
option go_package = <span class="hljs-string">"github.com/yourname/proto-demo/pb;pb"</span>;

message User {
  string username = 1;
}
</code></pre>
<p><strong>3. proto æ–‡ä»¶çš„ import å¯¼å…¥</strong></p>
<p><code>import</code> ç”¨äºå¤ç”¨å…¶ä»– proto æ–‡ä»¶ä¸­å®šä¹‰çš„ messageã€æšä¸¾ç­‰ç»“æ„ï¼Œæ˜¯ Protobuf å®ç°ä»£ç å¤ç”¨çš„æ ¸å¿ƒæ–¹å¼ï¼š</p>
<ul>
<li>æ™®é€šå¯¼å…¥ï¼š<code>import "è·¯å¾„/æ–‡ä»¶å.proto";</code>ï¼Œä»…å½“å‰æ–‡ä»¶å¯ä½¿ç”¨å¯¼å…¥çš„ç»“æ„ï¼›</li>
<li>å…¬å…±å¯¼å…¥ï¼š<code>import public "è·¯å¾„/æ–‡ä»¶å.proto";</code>ï¼Œå½“å‰æ–‡ä»¶å’Œå¯¼å…¥å½“å‰æ–‡ä»¶çš„å…¶ä»–æ–‡ä»¶éƒ½èƒ½ä½¿ç”¨ï¼›</li>
<li>å¯¼å…¥è·¯å¾„ï¼šæ”¯æŒç›¸å¯¹è·¯å¾„ï¼ˆå¦‚ <code>./common.proto</code>ï¼‰æˆ–ç»å¯¹è·¯å¾„ï¼ˆéœ€é…åˆ<code>protoc</code>çš„<code>-I</code>å‚æ•°æŒ‡å®šæ ¹ç›®å½•ï¼‰ã€‚</li>
</ul>
<p><strong>è¢«å¯¼å…¥æ–‡ä»¶ï¼šcommon.proto</strong></p>
<pre><code class="hljs language-protobuf" lang="protobuf">syntax = "proto3";
option go_package = "github.com/yourname/proto-demo/pb;pb";

// ä¾›å…¶ä»–æ–‡ä»¶å¤ç”¨çš„æšä¸¾
enum Gender {
 Â GENDER_UNSPECIFIED = 0;
 Â GENDER_MALE = 1;
 Â GENDER_FEMALE = 2;
}
</code></pre>
<p><strong>ä¸»æ–‡ä»¶ï¼šimport_demo.proto</strong></p>
<pre><code class="hljs language-protobuf" lang="protobuf">syntax = "proto3";
option go_package = "github.com/yourname/proto-demo/pb;pb";

// å¯¼å…¥common.protoï¼Œå¤ç”¨Genderæšä¸¾
import "./common.proto";

message User {
  string name = 1;
  Gender gender = 2; // ä½¿ç”¨å¯¼å…¥çš„æšä¸¾
}
</code></pre>
<p><strong>4.message å¯¹è±¡å’Œ message å¯¹è±¡çš„åµŒå¥—</strong></p>
<p><code>message</code> æ˜¯ Protobuf å®šä¹‰ç»“æ„åŒ–æ•°æ®çš„æ ¸å¿ƒå•å…ƒï¼ˆç±»ä¼¼ Go çš„<code>struct</code>ï¼‰ï¼Œæ”¯æŒä¸¤ç§åµŒå¥—æ–¹å¼ï¼š</p>
<ul>
<li><strong>å†…éƒ¨åµŒå¥—</strong>ï¼šåœ¨ä¸€ä¸ª message å†…å®šä¹‰å­ messageï¼Œä»…èƒ½é€šè¿‡å¤–éƒ¨ message çš„ä½œç”¨åŸŸè®¿é—®ï¼ˆå¦‚ <code>Outer.Inner</code>ï¼‰ï¼›</li>
<li><strong>å¤–éƒ¨åµŒå¥—</strong>ï¼šåœ¨ä¸€ä¸ª message ä¸­ç›´æ¥å¼•ç”¨å…¶ä»–å·²å®šä¹‰çš„ message ä½œä¸ºå­—æ®µç±»å‹ï¼ˆåŒæ–‡ä»¶ / å¯¼å…¥çš„å‡å¯ï¼‰ï¼›</li>
<li><code>repeated</code> å…³é”®å­—ï¼šè¡¨ç¤ºå­—æ®µæ˜¯æ•°ç»„ / åˆ‡ç‰‡ç±»å‹ï¼ˆé»˜è®¤ç©ºæ•°ç»„ï¼‰ã€‚</li>
</ul>
<pre><code class="hljs language-protobuf" lang="protobuf">syntax = "proto3";
option go_package = "github.com/yourname/proto-demo/pb;pb";

// å¤–éƒ¨messageï¼ˆä¾›åµŒå¥—å¼•ç”¨ï¼‰
message Phone {
  string number = 1;
  string type = 2; // å¦‚"mobile"ã€"home"
}

// ä¸»messageï¼ŒåŒ…å«å†…éƒ¨åµŒå¥—å’Œå¤–éƒ¨å¼•ç”¨
message UserProfile {
  string username = 1;

  // å†…éƒ¨åµŒå¥—messageï¼ˆä»…UserProfileå¯ç”¨ï¼‰
  message ExtraInfo {
 Â   string hobby = 1;
 Â   string signature = 2;
  }

  repeated Phone phones = 2; // å¤–éƒ¨åµŒå¥—ï¼šå¼•ç”¨Phoneï¼Œrepeatedè¡¨ç¤ºæ•°ç»„
  ExtraInfo extra_info = 3;  // å†…éƒ¨åµŒå¥—ï¼šä½¿ç”¨ExtraInfo
}
</code></pre>
<p><strong>5.æšä¸¾ç±»å‹</strong></p>
<p><code>enum</code> ç”¨äºå®šä¹‰å‘½åå¸¸é‡ï¼Œproto3 æœ‰ä¸¥æ ¼è§„èŒƒï¼š</p>
<ol>
<li>ç¬¬ä¸€ä¸ªæšä¸¾å€¼å¿…é¡»ä¸º 0ï¼ˆä½œä¸ºé»˜è®¤å€¼ï¼‰ï¼Œé€šå¸¸å‘½åä¸º<code>XXX_UNSPECIFIED</code>ï¼›</li>
<li>å¯é€šè¿‡<code>option allow_alias = true;</code>å¼€å¯åˆ«åï¼ˆå¤šä¸ªå¸¸é‡æ˜ å°„åŒä¸€æ•°å€¼ï¼‰ï¼›</li>
<li>æšä¸¾å¯å®šä¹‰åœ¨ message å†…éƒ¨ï¼ˆå±€éƒ¨å¯ç”¨ï¼‰æˆ–å¤–éƒ¨ï¼ˆå…¨å±€å¯ç”¨ï¼‰ï¼›</li>
<li>æšä¸¾å­—æ®µçš„é»˜è®¤å€¼æ˜¯ç¬¬ä¸€ä¸ªå€¼ï¼ˆå€¼ä¸º 0 çš„å¸¸é‡ï¼‰ã€‚</li>
</ol>
<pre><code class="hljs language-protobuf" lang="protobuf">syntax = "proto3";
option go_package = "github.com/yourname/proto-demo/pb;pb";

// å¼€å¯åˆ«ååŠŸèƒ½
option allow_alias = true;

// å¤–éƒ¨æšä¸¾ï¼ˆå…¨å±€å¯ç”¨ï¼‰
enum OrderStatus {
  ORDER_STATUS_UNSPECIFIED = 0; // é»˜è®¤å€¼
  ORDER_STATUS_PENDING = 1;
  ORDER_STATUS_PAID = 2;
  ORDER_STATUS_CONFIRMED = 2; Â  // åˆ«åï¼šPAIDå’ŒCONFIRMEDéƒ½å¯¹åº”2
}

// å†…éƒ¨æšä¸¾ï¼ˆä»…Orderå†…å¯ç”¨ï¼‰
message Order {
  enum PaymentMethod {
 Â   PAYMENT_METHOD_UNSPECIFIED = 0;
 Â   PAYMENT_METHOD_ALIPAY = 1;
 Â   PAYMENT_METHOD_WECHAT = 2;
  }

  PaymentMethod payment_method = 1; // å†…éƒ¨æšä¸¾
  OrderStatus status = 2; Â  Â  Â  Â  Â  // å¤–éƒ¨æšä¸¾
}
</code></pre>
<h3 data-id="heading-8">ä¸‰ã€gRPCï¼šåŸºäºHTTP/2å’ŒProtobufçš„RPCæ¡†æ¶</h3>
<p>gRPCæ˜¯Googleå¼€æºçš„é«˜æ€§èƒ½è·¨è¯­è¨€RPCæ¡†æ¶ï¼ŒåŸºäºHTTP/2åè®®ä¼ è¾“ï¼Œé»˜è®¤ä½¿ç”¨Protobufä½œä¸ºåºåˆ—åŒ–åè®®ï¼Œå®Œç¾ç»“åˆäº†HTTP/2çš„é«˜æ•ˆä¼ è¾“èƒ½åŠ›å’ŒProtobufçš„ç´§å‡‘åºåˆ—åŒ–ä¼˜åŠ¿ï¼ŒåŒæ—¶æ”¯æŒå¤šç§è°ƒç”¨æ¨¡å¼å’Œè·¨è¯­è¨€éƒ¨ç½²ã€‚</p>
<h4 data-id="heading-9">gRPC æµæ¨¡å¼</h4>
<p>GRPC åŸºäº HTTP/2 å®ç°äº†å››ç§é€šä¿¡æ¨¡å¼ï¼Œå…¶ä¸­<strong>æµæ¨¡å¼</strong>æ˜¯åŒºåˆ«äºä¼ ç»Ÿ â€œä¸€æ¬¡è¯·æ±‚ä¸€æ¬¡å“åº”â€ çš„æ ¸å¿ƒç‰¹æ€§ï¼Œåˆ†ä¸ºä¸‰ç±»ï¼š</p>
<p><strong>æœåŠ¡å™¨æµ RPC</strong>ï¼šå®¢æˆ·ç«¯å‘é€ 1 ä¸ªè¯·æ±‚ â†’ æœåŠ¡å™¨æµå¼è¿”å›å¤šä¸ªå“åº”ï¼ˆå¦‚å®æ—¶æ—¥å¿—æ¨é€ã€æ•°æ®åˆ†é¡µè¿”å›ï¼‰ã€‚</p>
<p><strong>å®¢æˆ·ç«¯æµ RPC</strong>ï¼šå®¢æˆ·ç«¯æµå¼å‘é€å¤šä¸ªè¯·æ±‚ â†’ æœåŠ¡å™¨è¿”å› 1 ä¸ªå“åº”ï¼ˆå¦‚æ‰¹é‡æ•°æ®ä¸Šä¼ åè¿”å›æ±‡æ€»ç»“æœï¼‰ã€‚</p>
<p><strong>åŒå‘æµ RPC</strong>ï¼šå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åŒå‘æµå¼é€šä¿¡ï¼ŒåŒæ–¹å¯ç‹¬ç«‹å‘é€ / æ¥æ”¶æ•°æ®ï¼ˆå¦‚å³æ—¶èŠå¤©ã€å®æ—¶éŸ³è§†é¢‘æŒ‡ä»¤äº¤äº’ï¼‰ã€‚</p>
<pre><code class="hljs language-protobuf" lang="protobuf">syntax = "proto3";

option go_package = "./pb;pb"; // ç”Ÿæˆçš„Goä»£ç è·¯å¾„

// æµæ¨¡å¼æ¼”ç¤ºæœåŠ¡
service StreamService {
  // 1. æœåŠ¡å™¨æµRPCï¼šå®¢æˆ·ç«¯å‘è¯·æ±‚ï¼ŒæœåŠ¡ç«¯è¿”å›æµ
  rpc ServerStream(StreamRequest) returns (stream StreamResponse);
 Â 
  // 2. å®¢æˆ·ç«¯æµRPCï¼šå®¢æˆ·ç«¯å‘æµï¼ŒæœåŠ¡ç«¯è¿”å›å•ä¸ªå“åº”
  rpc ClientStream(stream StreamRequest) returns (StreamResponse);
 Â 
  // 3. åŒå‘æµRPCï¼šåŒå‘æµå¼é€šä¿¡
  rpc BidirectionalStream(stream StreamRequest) returns (stream StreamResponse);
}

// è¯·æ±‚ç»“æ„
message StreamRequest {
  string message = 1;
  int32 id = 2;
}

// å“åº”ç»“æ„
message StreamResponse {
  string reply = 1;
  int32 code = 2;
}
</code></pre>
<p>æœåŠ¡ç«¯å®ç°ï¼ˆserver.goï¼‰</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
  <span class="hljs-string">"context"</span>
  <span class="hljs-string">"fmt"</span>
  <span class="hljs-string">"log"</span>
  <span class="hljs-string">"net"</span>
  <span class="hljs-string">"time"</span>

  <span class="hljs-string">"google.golang.org/grpc"</span>
  pb <span class="hljs-string">"your-project-path/pb"</span> <span class="hljs-comment">// æ›¿æ¢ä¸ºå®é™…pbåŒ…è·¯å¾„</span>
)

<span class="hljs-comment">// å®ç°StreamServiceæœåŠ¡</span>
<span class="hljs-keyword">type</span> streamServer <span class="hljs-keyword">struct</span> {
  pb.UnimplementedStreamServiceServer
}

<span class="hljs-comment">// 1. æœåŠ¡å™¨æµRPCå®ç°</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *streamServer)</span></span> ServerStream(req *pb.StreamRequest, stream pb.StreamService_ServerStreamServer) <span class="hljs-type">error</span> {
  log.Printf(<span class="hljs-string">"æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚ï¼š%s (id:%d)"</span>, req.Message, req.Id)
  <span class="hljs-comment">// æ¨¡æ‹Ÿæµå¼è¿”å›3ä¸ªå“åº”</span>
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++ {
 Â   reply := fmt.Sprintf(<span class="hljs-string">"æœåŠ¡å™¨æµå“åº” %d: %s"</span>, i, req.Message)
 Â   <span class="hljs-keyword">if</span> err := stream.Send(&amp;pb.StreamResponse{Reply: reply, Code: <span class="hljs-type">int32</span>(i)}); err != <span class="hljs-literal">nil</span> {
 Â  Â   <span class="hljs-keyword">return</span> err
 Â   }
 Â   time.Sleep(<span class="hljs-number">1</span> * time.Second) <span class="hljs-comment">// æ¨¡æ‹Ÿå»¶è¿Ÿ</span>
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}

<span class="hljs-comment">// 2. å®¢æˆ·ç«¯æµRPCå®ç°</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *streamServer)</span></span> ClientStream(stream pb.StreamService_ClientStreamServer) <span class="hljs-type">error</span> {
  <span class="hljs-keyword">var</span> total <span class="hljs-type">int32</span> = <span class="hljs-number">0</span>
  <span class="hljs-keyword">var</span> messages []<span class="hljs-type">string</span>
  <span class="hljs-comment">// å¾ªç¯æ¥æ”¶å®¢æˆ·ç«¯æµå¼è¯·æ±‚</span>
  <span class="hljs-keyword">for</span> {
 Â   req, err := stream.Recv()
 Â   <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
 Â  Â   <span class="hljs-comment">// å®¢æˆ·ç«¯æµç»“æŸï¼ˆEOFï¼‰</span>
 Â  Â   <span class="hljs-keyword">if</span> err.Error() == <span class="hljs-string">"EOF"</span> {
 Â  Â  Â   reply := fmt.Sprintf(<span class="hljs-string">"å®¢æˆ·ç«¯å…±å‘é€%dæ¡æ¶ˆæ¯ï¼š%v"</span>, total, messages)
 Â  Â  Â   <span class="hljs-keyword">return</span> stream.SendAndClose(&amp;pb.StreamResponse{Reply: reply, Code: total})
 Â  Â   }
 Â  Â   <span class="hljs-keyword">return</span> err
 Â   }
 Â   total++
 Â   messages = <span class="hljs-built_in">append</span>(messages, req.Message)
 Â   log.Printf(<span class="hljs-string">"æ”¶åˆ°å®¢æˆ·ç«¯æµè¯·æ±‚ %d: %s"</span>, req.Id, req.Message)
  }
}

<span class="hljs-comment">// 3. åŒå‘æµRPCå®ç°</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *streamServer)</span></span> BidirectionalStream(stream pb.StreamService_BidirectionalStreamServer) <span class="hljs-type">error</span> {
  <span class="hljs-comment">// åç¨‹æ¥æ”¶å®¢æˆ·ç«¯æ¶ˆæ¯</span>
  <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
 Â   <span class="hljs-keyword">for</span> {
 Â  Â   req, err := stream.Recv()
 Â  Â   <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
 Â  Â  Â   log.Printf(<span class="hljs-string">"åŒå‘æµæ¥æ”¶ç»“æŸ: %v"</span>, err)
 Â  Â  Â   <span class="hljs-keyword">return</span>
 Â  Â   }
 Â  Â   log.Printf(<span class="hljs-string">"æ”¶åˆ°åŒå‘æµè¯·æ±‚ï¼š%s (id:%d)"</span>, req.Message, req.Id)
 Â   }
  }()

  <span class="hljs-comment">// ä¸»çº¿ç¨‹å‘é€æµå¼å“åº”</span>
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++ {
 Â   reply := fmt.Sprintf(<span class="hljs-string">"åŒå‘æµæœåŠ¡å™¨å“åº” %d"</span>, i)
 Â   <span class="hljs-keyword">if</span> err := stream.Send(&amp;pb.StreamResponse{Reply: reply, Code: <span class="hljs-type">int32</span>(i)}); err != <span class="hljs-literal">nil</span> {
 Â  Â   <span class="hljs-keyword">return</span> err
 Â   }
 Â   time.Sleep(<span class="hljs-number">1</span> * time.Second)
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-comment">// ç›‘å¬ç«¯å£</span>
  lis, err := net.Listen(<span class="hljs-string">"tcp"</span>, <span class="hljs-string">":50051"</span>)
  <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
 Â   log.Fatalf(<span class="hljs-string">"ç›‘å¬å¤±è´¥: %v"</span>, err)
  }
  <span class="hljs-comment">// åˆ›å»ºGRPCæœåŠ¡å™¨</span>
  s := grpc.NewServer()
  pb.RegisterStreamServiceServer(s, &amp;streamServer{})
  log.Println(<span class="hljs-string">"GRPCæœåŠ¡å™¨å¯åŠ¨ï¼Œç«¯å£50051"</span>)
  <span class="hljs-keyword">if</span> err := s.Serve(lis); err != <span class="hljs-literal">nil</span> {
 Â   log.Fatalf(<span class="hljs-string">"æœåŠ¡å¯åŠ¨å¤±è´¥: %v"</span>, err)
  }
}
</code></pre>
<p>å®¢æˆ·ç«¯å®ç°ï¼ˆclient.goï¼‰</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
  <span class="hljs-string">"context"</span>
  <span class="hljs-string">"fmt"</span>
  <span class="hljs-string">"log"</span>
  <span class="hljs-string">"time"</span>

  <span class="hljs-string">"google.golang.org/grpc"</span>
  <span class="hljs-string">"google.golang.org/grpc/credentials/insecure"</span>
  pb <span class="hljs-string">"your-project-path/pb"</span> <span class="hljs-comment">// æ›¿æ¢ä¸ºå®é™…pbåŒ…è·¯å¾„</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
  <span class="hljs-comment">// è¿æ¥GRPCæœåŠ¡å™¨</span>
  conn, err := grpc.Dial(<span class="hljs-string">":50051"</span>, grpc.WithTransportCredentials(insecure.NewCredentials()))
  <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
 Â   log.Fatalf(<span class="hljs-string">"è¿æ¥å¤±è´¥: %v"</span>, err)
  }
  <span class="hljs-keyword">defer</span> conn.Close()
  client := pb.NewStreamServiceClient(conn)

  <span class="hljs-comment">// 1. è°ƒç”¨æœåŠ¡å™¨æµRPC</span>
  fmt.Println(<span class="hljs-string">"=== æµ‹è¯•æœåŠ¡å™¨æµRPC ==="</span>)
  serverStream, err := client.ServerStream(context.Background(), &amp;pb.StreamRequest{Message: <span class="hljs-string">"hello server stream"</span>, Id: <span class="hljs-number">1</span>})
  <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
 Â   log.Fatalf(<span class="hljs-string">"è°ƒç”¨æœåŠ¡å™¨æµå¤±è´¥: %v"</span>, err)
  }
  <span class="hljs-keyword">for</span> {
 Â   resp, err := serverStream.Recv()
 Â   <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
 Â  Â   <span class="hljs-keyword">if</span> err.Error() == <span class="hljs-string">"EOF"</span> {
 Â  Â  Â   <span class="hljs-keyword">break</span>
 Â  Â   }
 Â  Â   log.Fatalf(<span class="hljs-string">"æ¥æ”¶æœåŠ¡å™¨æµå“åº”å¤±è´¥: %v"</span>, err)
 Â   }
 Â   fmt.Printf(<span class="hljs-string">"æ”¶åˆ°æœåŠ¡å™¨æµå“åº”ï¼š%s (code:%d)\n"</span>, resp.Reply, resp.Code)
  }

  <span class="hljs-comment">// 2. è°ƒç”¨å®¢æˆ·ç«¯æµRPC</span>
  fmt.Println(<span class="hljs-string">"\n=== æµ‹è¯•å®¢æˆ·ç«¯æµRPC ==="</span>)
  clientStream, err := client.ClientStream(context.Background())
  <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
 Â   log.Fatalf(<span class="hljs-string">"è°ƒç”¨å®¢æˆ·ç«¯æµå¤±è´¥: %v"</span>, err)
  }
  <span class="hljs-comment">// å‘é€3ä¸ªæµå¼è¯·æ±‚</span>
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++ {
 Â   req := &amp;pb.StreamRequest{Message: fmt.Sprintf(<span class="hljs-string">"client stream msg %d"</span>, i), Id: <span class="hljs-type">int32</span>(i)}
 Â   <span class="hljs-keyword">if</span> err := clientStream.Send(req); err != <span class="hljs-literal">nil</span> {
 Â  Â   log.Fatalf(<span class="hljs-string">"å‘é€å®¢æˆ·ç«¯æµè¯·æ±‚å¤±è´¥: %v"</span>, err)
 Â   }
 Â   time.Sleep(<span class="hljs-number">500</span> * time.Millisecond)
  }
  <span class="hljs-comment">// å…³é—­å®¢æˆ·ç«¯æµï¼Œæ¥æ”¶å“åº”</span>
  resp, err := clientStream.CloseAndRecv()
  <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
 Â   log.Fatalf(<span class="hljs-string">"æ¥æ”¶å®¢æˆ·ç«¯æµå“åº”å¤±è´¥: %v"</span>, err)
  }
  fmt.Printf(<span class="hljs-string">"å®¢æˆ·ç«¯æµæœ€ç»ˆå“åº”ï¼š%s (code:%d)\n"</span>, resp.Reply, resp.Code)

  <span class="hljs-comment">// 3. è°ƒç”¨åŒå‘æµRPC</span>
  fmt.Println(<span class="hljs-string">"\n=== æµ‹è¯•åŒå‘æµRPC ==="</span>)
  biStream, err := client.BidirectionalStream(context.Background())
  <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
 Â   log.Fatalf(<span class="hljs-string">"è°ƒç”¨åŒå‘æµå¤±è´¥: %v"</span>, err)
  }
  <span class="hljs-comment">// åç¨‹å‘é€å®¢æˆ·ç«¯æ¶ˆæ¯</span>
  <span class="hljs-keyword">go</span> <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> {
 Â   <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++ {
 Â  Â   req := &amp;pb.StreamRequest{Message: fmt.Sprintf(<span class="hljs-string">"bi stream msg %d"</span>, i), Id: <span class="hljs-type">int32</span>(i)}
 Â  Â   <span class="hljs-keyword">if</span> err := biStream.Send(req); err != <span class="hljs-literal">nil</span> {
 Â  Â  Â   log.Printf(<span class="hljs-string">"å‘é€åŒå‘æµè¯·æ±‚å¤±è´¥: %v"</span>, err)
 Â  Â  Â   <span class="hljs-keyword">return</span>
 Â  Â   }
 Â  Â   time.Sleep(<span class="hljs-number">800</span> * time.Millisecond)
 Â   }
 Â   <span class="hljs-comment">// å…³é—­å®¢æˆ·ç«¯å‘é€æµ</span>
 Â   <span class="hljs-keyword">if</span> err := biStream.CloseSend(); err != <span class="hljs-literal">nil</span> {
 Â  Â   log.Printf(<span class="hljs-string">"å…³é—­åŒå‘æµå‘é€å¤±è´¥: %v"</span>, err)
 Â   }
  }()

  <span class="hljs-comment">// æ¥æ”¶æœåŠ¡å™¨æµå¼å“åº”</span>
  <span class="hljs-keyword">for</span> {
 Â   resp, err := biStream.Recv()
 Â   <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
 Â  Â   <span class="hljs-keyword">if</span> err.Error() == <span class="hljs-string">"EOF"</span> {
 Â  Â  Â   <span class="hljs-keyword">break</span>
 Â  Â   }
 Â  Â   log.Fatalf(<span class="hljs-string">"æ¥æ”¶åŒå‘æµå“åº”å¤±è´¥: %v"</span>, err)
 Â   }
 Â   fmt.Printf(<span class="hljs-string">"æ”¶åˆ°åŒå‘æµå“åº”ï¼š%s (code:%d)\n"</span>, resp.Reply, resp.Code)
  }
}
</code></pre>
<h4 data-id="heading-10">GRPC Metadata æœºåˆ¶</h4>
<p>Metadata æ˜¯ GRPC çš„<strong>å…ƒæ•°æ®ä¼ é€’æœºåˆ¶</strong>ï¼Œç±»æ¯” HTTP çš„ Headerï¼Œç”¨äºåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´ä¼ é€’éä¸šåŠ¡çš„é™„åŠ ä¿¡æ¯ï¼ˆå¦‚è®¤è¯ Tokenã€è¯·æ±‚ IDã€è¶…æ—¶æ—¶é—´ã€ç‰ˆæœ¬å·ç­‰ï¼‰ï¼š</p>
<ul>
<li>
<p>ç»“æ„ï¼šé”®å€¼å¯¹ï¼ˆkey-valueï¼‰ï¼Œkey æ¨èå°å†™ï¼Œä»¥<code>grpc-</code>å¼€å¤´çš„ key ä¸º GRPC ä¿ç•™å­—æ®µã€‚</p>
</li>
<li>
<p>ç±»å‹ï¼šæ”¯æŒå­—ç¬¦ä¸²ï¼ˆ<code>metadata.Pairs</code>ï¼‰å’ŒäºŒè¿›åˆ¶å€¼ï¼ˆéœ€è½¬å­—ç¬¦ä¸²ä¼ é€’ï¼‰ã€‚</p>
</li>
<li>
<p>ä¼ é€’æ–¹å‘ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯ â†’ æœåŠ¡ç«¯ï¼šé€šè¿‡ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰æ³¨å…¥ Metadataã€‚</li>
<li>æœåŠ¡ç«¯ â†’ å®¢æˆ·ç«¯ï¼šåˆ†ä¸º<code>Header Metadata</code>ï¼ˆå“åº”å¤´ï¼‰å’Œ<code>Trailing Metadata</code>ï¼ˆå“åº”å°¾ï¼‰ï¼Œå¯ä¸»åŠ¨è¿”å›ã€‚</li>
</ul>
</li>
</ul>
<p><strong>æœåŠ¡ç«¯æ·»åŠ  Metadata å¤„ç†ï¼ˆserver.goï¼‰</strong></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ–°å¢å¯¼å…¥</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">"google.golang.org/grpc/metadata"</span>

<span class="hljs-comment">// é‡å†™ServerStreamæ–¹æ³•ï¼Œæ·»åŠ Metadataè§£æå’Œè¿”å›</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *streamServer)</span></span> ServerStream(req *pb.StreamRequest, stream pb.StreamService_ServerStreamServer) <span class="hljs-type">error</span> {
  <span class="hljs-comment">// 1. æå–å®¢æˆ·ç«¯ä¼ é€’çš„Metadata</span>
  md, ok := metadata.FromIncomingContext(stream.Context())
  <span class="hljs-keyword">if</span> !ok {
 Â   log.Println(<span class="hljs-string">"æœªè·å–åˆ°å®¢æˆ·ç«¯Metadata"</span>)
  } <span class="hljs-keyword">else</span> {
 Â   <span class="hljs-keyword">if</span> tokens := md.Get(<span class="hljs-string">"token"</span>); <span class="hljs-built_in">len</span>(tokens) &gt; <span class="hljs-number">0</span> {
 Â  Â   log.Printf(<span class="hljs-string">"å®¢æˆ·ç«¯Token: %s"</span>, tokens[<span class="hljs-number">0</span>])
 Â   }
 Â   <span class="hljs-keyword">if</span> reqIDs := md.Get(<span class="hljs-string">"request-id"</span>); <span class="hljs-built_in">len</span>(reqIDs) &gt; <span class="hljs-number">0</span> {
 Â  Â   log.Printf(<span class="hljs-string">"è¯·æ±‚ID: %s"</span>, reqIDs[<span class="hljs-number">0</span>])
 Â   }
  }

  <span class="hljs-comment">// 2. å‘å®¢æˆ·ç«¯è¿”å›Header Metadata</span>
  headerMd := metadata.Pairs(
 Â   <span class="hljs-string">"server-version"</span>, <span class="hljs-string">"v1.0.0"</span>,
 Â   <span class="hljs-string">"timestamp"</span>, fmt.Sprintf(<span class="hljs-string">"%d"</span>, time.Now().Unix()),
  )
  <span class="hljs-keyword">if</span> err := stream.SendHeader(headerMd); err != <span class="hljs-literal">nil</span> {
 Â   <span class="hljs-keyword">return</span> err
  }

  <span class="hljs-comment">// 3. å‘å®¢æˆ·ç«¯è¿”å›Trailing Metadata</span>
  trailingMd := metadata.Pairs(
 Â   <span class="hljs-string">"request-status"</span>, <span class="hljs-string">"success"</span>,
 Â   <span class="hljs-string">"response-count"</span>, <span class="hljs-string">"3"</span>,
  )
  stream.SetTrailer(trailingMd)

  <span class="hljs-comment">// åŸæœ‰æµå¼å“åº”é€»è¾‘ï¼ˆç•¥ï¼‰</span>
  log.Printf(<span class="hljs-string">"æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚ï¼š%s (id:%d)"</span>, req.Message, req.Id)
  <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++ {
 Â   reply := fmt.Sprintf(<span class="hljs-string">"æœåŠ¡å™¨æµå“åº” %d: %s"</span>, i, req.Message)
 Â   <span class="hljs-keyword">if</span> err := stream.Send(&amp;pb.StreamResponse{Reply: reply, Code: <span class="hljs-type">int32</span>(i)}); err != <span class="hljs-literal">nil</span> {
 Â  Â   <span class="hljs-keyword">return</span> err
 Â   }
 Â   time.Sleep(<span class="hljs-number">1</span> * time.Second)
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}
</code></pre>
<p>å®¢æˆ·ç«¯æ·»åŠ  Metadata å‘é€å’Œæ¥æ”¶ï¼ˆclient.goï¼‰</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ–°å¢å¯¼å…¥</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">"google.golang.org/grpc/metadata"</span>

<span class="hljs-comment">// ä¿®æ”¹æœåŠ¡å™¨æµRPCè°ƒç”¨é€»è¾‘</span>
fmt.Println(<span class="hljs-string">"=== æµ‹è¯•æœåŠ¡å™¨æµRPCï¼ˆå¸¦Metadataï¼‰ ==="</span>)
<span class="hljs-comment">// 1. åˆ›å»ºMetadata</span>
md := metadata.Pairs(
  <span class="hljs-string">"token"</span>, <span class="hljs-string">"user_123456_token"</span>,
  <span class="hljs-string">"request-id"</span>, <span class="hljs-string">"req_987654"</span>,
)
<span class="hljs-comment">// 2. æ³¨å…¥åˆ°ä¸Šä¸‹æ–‡</span>
ctx := metadata.NewOutgoingContext(context.Background(), md)
<span class="hljs-comment">// 3. è°ƒç”¨RPC</span>
serverStream, err := client.ServerStream(ctx, &amp;pb.StreamRequest{Message: <span class="hljs-string">"hello server stream"</span>, Id: <span class="hljs-number">1</span>})
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
  log.Fatalf(<span class="hljs-string">"è°ƒç”¨æœåŠ¡å™¨æµå¤±è´¥: %v"</span>, err)
}

<span class="hljs-comment">// 4. æ¥æ”¶æœåŠ¡ç«¯Header Metadata</span>
headerMd, err := serverStream.Header()
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
  log.Fatalf(<span class="hljs-string">"è·å–Header Metadataå¤±è´¥: %v"</span>, err)
}
fmt.Printf(<span class="hljs-string">"æœåŠ¡ç«¯Header: server-version=%s, timestamp=%s\n"</span>, 
  headerMd.Get(<span class="hljs-string">"server-version"</span>)[<span class="hljs-number">0</span>], headerMd.Get(<span class="hljs-string">"timestamp"</span>)[<span class="hljs-number">0</span>])

<span class="hljs-comment">// 5. æ¥æ”¶æµå¼å“åº”ï¼ˆåŸæœ‰é€»è¾‘ï¼Œç•¥ï¼‰</span>
<span class="hljs-keyword">for</span> {
  resp, err := serverStream.Recv()
  <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
 Â   <span class="hljs-keyword">if</span> err.Error() == <span class="hljs-string">"EOF"</span> {
 Â  Â   <span class="hljs-keyword">break</span>
 Â   }
 Â   log.Fatalf(<span class="hljs-string">"æ¥æ”¶å“åº”å¤±è´¥: %v"</span>, err)
  }
  fmt.Printf(<span class="hljs-string">"æ”¶åˆ°å“åº”ï¼š%s (code:%d)\n"</span>, resp.Reply, resp.Code)
}

<span class="hljs-comment">// 6. æ¥æ”¶æœåŠ¡ç«¯Trailing Metadata</span>
trailingMd := serverStream.Trailer()
fmt.Printf(<span class="hljs-string">"æœåŠ¡ç«¯Trailer: request-status=%s, response-count=%s\n"</span>, 
  trailingMd.Get(<span class="hljs-string">"request-status"</span>)[<span class="hljs-number">0</span>], trailingMd.Get(<span class="hljs-string">"response-count"</span>)[<span class="hljs-number">0</span>])
</code></pre>
<h4 data-id="heading-11">GRPC éªŒè¯å™¨</h4>
<p>GRPC éªŒè¯å™¨ç”¨äº<strong>è¯·æ±‚å‚æ•°çš„å‰ç½®æ ¡éªŒ</strong>ï¼Œé¿å…éæ³•è¯·æ±‚è¿›å…¥ä¸šåŠ¡é€»è¾‘ï¼Œæ ¸å¿ƒä¾èµ–<code>protoc-gen-validate</code>æ’ä»¶ï¼š</p>
<ul>
<li>åŸç†ï¼šåœ¨ Proto æ–‡ä»¶ä¸­é€šè¿‡æ³¨è§£å®šä¹‰å­—æ®µéªŒè¯è§„åˆ™ï¼ˆå¦‚éç©ºã€é•¿åº¦ã€æ•°å€¼èŒƒå›´ã€æ­£åˆ™åŒ¹é…ï¼‰ï¼Œç”Ÿæˆå¯¹åº”çš„éªŒè¯ä»£ç ï¼ŒæœåŠ¡ç«¯è°ƒç”¨<code>Validate()</code>æ–¹æ³•å³å¯æ ¡éªŒã€‚</li>
<li>ä¼˜åŠ¿ï¼šæ ¡éªŒé€»è¾‘ä¸ä¸šåŠ¡è§£è€¦ï¼Œè§„åˆ™é›†ä¸­åœ¨ Proto ä¸­ï¼Œè·¨è¯­è¨€é€šç”¨ã€‚</li>
<li>å¸¸ç”¨è§„åˆ™ï¼š<code>required</code>ï¼ˆéç©ºï¼‰ã€<code>min_len/max_len</code>ï¼ˆå­—ç¬¦ä¸²é•¿åº¦ï¼‰ã€<code>gt/lt</code>ï¼ˆæ•°å€¼èŒƒå›´ï¼‰ã€<code>pattern</code>ï¼ˆæ­£åˆ™ï¼‰ç­‰ã€‚</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">go install github.com/bufbuild/protoc-gen-validate@latest
</code></pre>
<p>protoæ–‡ä»¶</p>
<pre><code class="hljs language-protobuf" lang="protobuf">syntax = "proto3";

option go_package = "./pb;pb";

// å¯¼å…¥éªŒè¯å™¨æ³¨è§£
import "validate/validate.proto";

message StreamRequest {
  // éªŒè¯è§„åˆ™ï¼šéç©ºï¼Œé•¿åº¦1-20
  string message = 1 [(validate.rules).string = {min_len: 1, max_len: 20}];
  // éªŒè¯è§„åˆ™ï¼šå¤§äº0ï¼Œå°äº100
  int32 id = 2 [(validate.rules).int32 = {gt: 0, lt: 100}];
}

// æœåŠ¡å®šä¹‰ä¸å˜
service StreamService {
  rpc ServerStream(StreamRequest) returns (stream StreamResponse);
  // ... å…¶ä»–æ–¹æ³•
}

message StreamResponse {
  string reply = 1;
  int32 code = 2;
}
</code></pre>
<p>æœåŠ¡ç«¯æ·»åŠ éªŒè¯é€»è¾‘</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// æ–°å¢å¯¼å…¥</span>
<span class="hljs-keyword">import</span> (
  <span class="hljs-string">"google.golang.org/grpc/codes"</span>
  <span class="hljs-string">"google.golang.org/grpc/status"</span>
)

<span class="hljs-comment">// ä¿®æ”¹ServerStreamæ–¹æ³•ï¼Œæ·»åŠ å‚æ•°éªŒè¯</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *streamServer)</span></span> ServerStream(req *pb.StreamRequest, stream pb.StreamService_ServerStreamServer) <span class="hljs-type">error</span> {
  <span class="hljs-comment">// 1. å‚æ•°éªŒè¯ï¼ˆæ ¸å¿ƒï¼‰</span>
  <span class="hljs-keyword">if</span> err := req.Validate(); err != <span class="hljs-literal">nil</span> {
 Â   log.Printf(<span class="hljs-string">"å‚æ•°éªŒè¯å¤±è´¥: %v"</span>, err)
 Â   <span class="hljs-comment">// è¿”å›INVALID_ARGUMENTçŠ¶æ€ç </span>
 Â   <span class="hljs-keyword">return</span> status.Error(codes.InvalidArgument, fmt.Sprintf(<span class="hljs-string">"å‚æ•°éæ³•: %v"</span>, err))
  }
â€‹
  <span class="hljs-comment">// åŸæœ‰Metadataè§£æã€å“åº”é€»è¾‘ï¼ˆç•¥ï¼‰</span>
  <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}
</code></pre>
<h4 data-id="heading-12">GRPC çŠ¶æ€ç é”™è¯¯æœºåˆ¶</h4>
<p>GRPC å®šä¹‰äº†<strong>æ ‡å‡†åŒ–çŠ¶æ€ç ï¼ˆStatusCodeï¼‰</strong> ï¼Œç”¨äºç»Ÿä¸€è¡¨ç¤ºè¯·æ±‚å¤„ç†ç»“æœï¼Œæ›¿ä»£ HTTP çŠ¶æ€ç ï¼Œæ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ul>
<li>æ ¸å¿ƒçŠ¶æ€ç ï¼šå…± 16 ç§æ ‡å‡†ç ï¼Œå¸¸ç”¨çš„æœ‰<code>OK(0)</code>ï¼ˆæˆåŠŸï¼‰ã€<code>INVALID_ARGUMENT(3)</code>ï¼ˆå‚æ•°éæ³•ï¼‰ã€<code>UNAUTHENTICATED(16)</code>ï¼ˆè®¤è¯å¤±è´¥ï¼‰ã€<code>FAILED_PRECONDITION(9)</code>ï¼ˆä¸šåŠ¡è§„åˆ™å¤±è´¥ï¼‰ç­‰ã€‚</li>
<li>é”™è¯¯ç»“æ„ï¼šåŒ…å«<strong>çŠ¶æ€ç </strong>ã€<strong>é”™è¯¯æ¶ˆæ¯</strong>ã€<strong>è¯¦ç»†ä¿¡æ¯</strong>ï¼ˆå¯é€šè¿‡<code>WithDetails</code>é™„åŠ ï¼‰ã€‚</li>
<li>ä½¿ç”¨æ–¹å¼ï¼šæœåŠ¡ç«¯é€šè¿‡<code>status.Error()</code>è¿”å›é”™è¯¯ï¼›å®¢æˆ·ç«¯é€šè¿‡<code>status.FromError()</code>è§£æçŠ¶æ€ç å’Œæ¶ˆæ¯ã€‚</li>
</ul>
<p>æœåŠ¡ç«¯è¿”å›ä¸åŒçŠ¶æ€ç é”™è¯¯</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(s *streamServer)</span></span> ServerStream(req *pb.StreamRequest, stream pb.StreamService_ServerStreamServer) <span class="hljs-type">error</span> {
  <span class="hljs-comment">// 1. å‚æ•°éªŒè¯å¤±è´¥ â†’ INVALID_ARGUMENT(3)</span>
  <span class="hljs-keyword">if</span> err := req.Validate(); err != <span class="hljs-literal">nil</span> {
 Â   <span class="hljs-keyword">return</span> status.Error(codes.InvalidArgument, fmt.Sprintf(<span class="hljs-string">"å‚æ•°éæ³•: %v"</span>, err))
  }

  <span class="hljs-comment">// 2. è®¤è¯å¤±è´¥ â†’ UNAUTHENTICATED(16)</span>
  md, _ := metadata.FromIncomingContext(stream.Context())
  <span class="hljs-keyword">if</span> tokens := md.Get(<span class="hljs-string">"token"</span>); <span class="hljs-built_in">len</span>(tokens) == <span class="hljs-number">0</span> || tokens[<span class="hljs-number">0</span>] != <span class="hljs-string">"user_123456_token"</span> {
 Â   <span class="hljs-keyword">return</span> status.Error(codes.Unauthenticated, <span class="hljs-string">"tokenæ— æ•ˆæˆ–ç¼ºå¤±"</span>)
  }

  <span class="hljs-comment">// 3. ä¸šåŠ¡è§„åˆ™å¤±è´¥ â†’ FAILED_PRECONDITION(9)ï¼ˆå¸¦è¯¦ç»†ä¿¡æ¯ï¼‰</span>
  <span class="hljs-keyword">if</span> req.Id == <span class="hljs-number">5</span> {
 Â   st := status.New(codes.FailedPrecondition, <span class="hljs-string">"ä¸šåŠ¡è§„åˆ™æ ¡éªŒå¤±è´¥"</span>)
 Â   <span class="hljs-comment">// é™„åŠ è¯¦ç»†ä¿¡æ¯</span>
 Â   st, err := st.WithDetails(&amp;pb.StreamResponse{Reply: <span class="hljs-string">"idä¸èƒ½ä¸º5"</span>, Code: <span class="hljs-number">5</span>})
 Â   <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
 Â  Â   <span class="hljs-keyword">return</span> st.Err()
 Â   }
 Â   <span class="hljs-keyword">return</span> st.Err()
  }

  <span class="hljs-comment">// åŸæœ‰é€»è¾‘ï¼ˆç•¥ï¼‰</span>
  <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}
</code></pre>
<p>å®¢æˆ·ç«¯è§£æé”™è¯¯è¯¦æƒ…</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// è°ƒç”¨RPCï¼ˆid=5ï¼‰</span>
serverStream, err := client.ServerStream(ctx, &amp;pb.StreamRequest{Message: <span class="hljs-string">"test"</span>, Id: <span class="hljs-number">5</span>})
<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
  st, ok := status.FromError(err)
  <span class="hljs-keyword">if</span> !ok {
 Â   log.Fatalf(<span class="hljs-string">"éGRPCé”™è¯¯: %v"</span>, err)
  }

  <span class="hljs-comment">// è§£æåŸºç¡€ä¿¡æ¯</span>
  fmt.Printf(<span class="hljs-string">"çŠ¶æ€ç : %s (æ•°å­—:%d)\n"</span>, st.Code().String(), st.Code())
  fmt.Printf(<span class="hljs-string">"é”™è¯¯æ¶ˆæ¯: %s\n"</span>, st.Message())

  <span class="hljs-comment">// è§£æè¯¦ç»†ä¿¡æ¯</span>
  <span class="hljs-keyword">for</span> _, detail := <span class="hljs-keyword">range</span> st.Details() {
 Â   <span class="hljs-keyword">if</span> resp, ok := detail.(*pb.StreamResponse); ok {
 Â  Â   fmt.Printf(<span class="hljs-string">"è¯¦ç»†ä¿¡æ¯: %s (code:%d)\n"</span>, resp.Reply, resp.Code)
 Â   }
  }
  <span class="hljs-comment">// è¾“å‡ºï¼š</span>
  <span class="hljs-comment">// çŠ¶æ€ç : FailedPrecondition (æ•°å­—:9)</span>
  <span class="hljs-comment">// é”™è¯¯æ¶ˆæ¯: ä¸šåŠ¡è§„åˆ™æ ¡éªŒå¤±è´¥</span>
  <span class="hljs-comment">// è¯¦ç»†ä¿¡æ¯: idä¸èƒ½ä¸º5 (code:5)</span>
  <span class="hljs-keyword">return</span>
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œå¼€æº Assistant Agentï¼ŒåŠ©åŠ›ä¼ä¸šå¿«é€Ÿæ„å»ºç­”ç–‘ã€è¯Šæ–­æ™ºèƒ½åŠ©æ‰‹]]></title>    <link>https://juejin.cn/post/7599155566297546795</link>    <guid>https://juejin.cn/post/7599155566297546795</guid>    <pubDate>2026-01-26T08:11:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599155566297546795" data-draft-id="7599053532168224809" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œå¼€æº Assistant Agentï¼ŒåŠ©åŠ›ä¼ä¸šå¿«é€Ÿæ„å»ºç­”ç–‘ã€è¯Šæ–­æ™ºèƒ½åŠ©æ‰‹"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2026-01-26T08:11:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œå¼€æº Assistant Agentï¼ŒåŠ©åŠ›ä¼ä¸šå¿«é€Ÿæ„å»ºç­”ç–‘ã€è¯Šæ–­æ™ºèƒ½åŠ©æ‰‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T08:11:40.000Z" title="Mon Jan 26 2026 08:11:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šæ®‹é£ã€æ €ä¸ƒ</p>
<blockquote>
<p>æ›´å¤šæ¥å…¥ä¸ä½¿ç”¨æ–¹å¼ï¼Œå¯æŸ¥çœ‹æ–‡æœ«å¾®ä¿¡ä¸é’‰é’‰ç¾¤ï¼Œä¸å®˜æ–¹ç»´æŠ¤å›¢é˜Ÿå–å¾—è”ç³»ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ğŸ“–Â ç®€ä»‹</h2>
<p><strong>Assistant Agent</strong>Â æ˜¯ä¸€ä¸ªåŸºäºÂ Spring AI AlibabaÂ æ„å»ºçš„ä¼ä¸šçº§æ™ºèƒ½åŠ©æ‰‹æ¡†æ¶ï¼Œé‡‡ç”¨ä»£ç å³è¡ŒåŠ¨ï¼ˆCode-as-Actionï¼‰èŒƒå¼ï¼Œé€šè¿‡ç”Ÿæˆå’Œæ‰§è¡Œä»£ç æ¥ç¼–æ’å·¥å…·ã€å®Œæˆä»»åŠ¡ã€‚å®ƒæ˜¯ä¸€ä¸ª<strong>èƒ½ç†è§£ã€èƒ½è¡ŒåŠ¨ã€èƒ½å­¦ä¹ </strong>çš„æ™ºèƒ½åŠ©æ‰‹è§£å†³æ–¹æ¡ˆï¼Œå¯å¸®åŠ©ä¼ä¸šå¿«é€Ÿæ„å»º<strong>æ™ºèƒ½ç­”ç–‘å®¢æœã€ç³»ç»Ÿè¯Šæ–­ã€è¿ç»´åŠ©æ‰‹ã€ä¸šåŠ¡åŠ©ç†ã€AIOps</strong>Â ç­‰æ™ºèƒ½ä½“ã€‚</p>
<p>ä»“åº“åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fspring-ai-alibaba%2FAssistantAgent" target="_blank" title="https://github.com/spring-ai-alibaba/AssistantAgent" ref="nofollow noopener noreferrer">github.com/spring-ai-aâ€¦</a></p>
<h3 data-id="heading-1">æŠ€æœ¯ç‰¹æ€§</h3>
<ul>
<li>ğŸš€<strong>ä»£ç å³è¡ŒåŠ¨ï¼ˆCode-as-Actionï¼‰</strong> ï¼šAgent é€šè¿‡ç”Ÿæˆå¹¶æ‰§è¡Œä»£ç æ¥å®Œæˆä»»åŠ¡ï¼Œè€Œéä»…ä»…è°ƒç”¨é¢„å®šä¹‰å·¥å…·ï¼Œå¯ä»¥åœ¨ä»£ç ä¸­çµæ´»ç¼–æ’ã€ç»„åˆå¤šä¸ªå·¥å…·ï¼Œå®ç°å¤æ‚æµç¨‹</li>
<li>ğŸ”’<strong>å®‰å…¨æ²™ç®±</strong>ï¼šAI ç”Ÿæˆçš„ä»£ç åœ¨ GraalVM å¤šè¯­è¨€æ²™ç®±ä¸­å®‰å…¨è¿è¡Œï¼Œå…·å¤‡èµ„æºéš”ç¦»èƒ½åŠ›</li>
<li>ğŸ“Š<strong>å¤šç»´è¯„ä¼°</strong>ï¼šé€šè¿‡è¯„ä¼°å›¾ï¼ˆGraphï¼‰è¿›è¡Œå¤šå±‚æ¬¡æ„å›¾è¯†åˆ«ï¼Œç²¾å‡†æŒ‡å¯¼ Agent è¡Œä¸º</li>
<li>ğŸ”„<strong>Prompt åŠ¨æ€ç»„è£…</strong>ï¼šæ ¹æ®åœºæ™¯åŠå‰ç½®è¯„ä¼°ç»“æœåŠ¨æ€æ³¨å…¥ä¸Šä¸‹æ–‡ï¼ˆç»éªŒã€çŸ¥è¯†ç­‰ï¼‰åˆ° Prompt ä¸­ï¼Œçµæ´»å¤„ç†ä¸åŒä»»åŠ¡</li>
<li>ğŸ§ <strong>ç»éªŒå­¦ä¹ </strong>ï¼šè‡ªåŠ¨ç§¯ç´¯æˆåŠŸç»éªŒï¼ŒæŒç»­æå‡åç»­ä»»åŠ¡çš„è¡¨ç°</li>
<li>âš¡<strong>å¿«é€Ÿå“åº”</strong>ï¼šç†Ÿæ‚‰åœºæ™¯ä¸‹ï¼Œè·³è¿‡ LLM æ¨ç†è¿‡ç¨‹ï¼ŒåŸºäºç»éªŒå¿«é€Ÿå“åº”</li>
</ul>
<h3 data-id="heading-2">Assistant Agent èƒ½å¸®ä½ åšä»€ä¹ˆï¼Ÿ</h3>
<p>Assistant Agent æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„æ™ºèƒ½åŠ©æ‰‹ï¼Œå…·å¤‡ä»¥ä¸‹æ ¸å¿ƒèƒ½åŠ›ï¼š</p>
<ul>
<li>ğŸ”<strong>æ™ºèƒ½é—®ç­”</strong>ï¼šæ”¯æŒå¤šæ•°æ®æºç»Ÿä¸€æ£€ç´¢æ¶æ„ï¼ˆé€šè¿‡ SPI å¯æ‰©å±•çŸ¥è¯†åº“ã€Web ç­‰æ•°æ®æºï¼‰ï¼Œæä¾›å‡†ç¡®ã€å¯æº¯æºçš„ç­”æ¡ˆ</li>
<li>ğŸ› ï¸<strong>å·¥å…·è°ƒç”¨</strong>ï¼šæ”¯æŒ MCPã€HTTP APIï¼ˆOpenAPIï¼‰ç­‰åè®®ï¼Œçµæ´»æ¥å…¥æµ·é‡å·¥å…·ï¼Œå¯ç»„åˆè°ƒç”¨å®ç°å¤æ‚ä¸šåŠ¡æµç¨‹</li>
<li>â°<strong>ä¸»åŠ¨æœåŠ¡</strong>ï¼šæ”¯æŒå®šæ—¶ä»»åŠ¡ã€å»¶è¿Ÿæ‰§è¡Œã€äº‹ä»¶å›è°ƒï¼Œè®©åŠ©æ‰‹ä¸»åŠ¨ä¸ºä½ æœåŠ¡</li>
<li>ğŸ“¬<strong>å¤šæ¸ é“è§¦è¾¾</strong>ï¼šå†…ç½® IDE å›å¤ï¼Œå…è®¸é€šè¿‡ SPI å¯æ‰©å±•é’‰é’‰ã€é£ä¹¦ã€ä¼å¾®ã€Webhook ç­‰æ¸ é“</li>
</ul>
<h3 data-id="heading-3">ä¸ºä»€ä¹ˆé€‰æ‹© Assistant Agentï¼Ÿ</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93b35aafeb2a458d9a4f51f96444a288~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019900&amp;x-signature=zJxsODkmc7vlZmL44hmA%2BkJJvpc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-4">é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>æ™ºèƒ½å®¢æœï¼šæ¥å…¥ä¼ä¸šçŸ¥è¯†åº“ï¼Œæ™ºèƒ½è§£ç­”ç”¨æˆ·å’¨è¯¢</li>
<li>è¿ç»´åŠ©æ‰‹ï¼šå¯¹æ¥ç›‘æ§ã€å·¥å•ç³»ç»Ÿï¼Œè‡ªåŠ¨å¤„ç†å‘Šè­¦ã€æŸ¥è¯¢çŠ¶æ€ã€æ‰§è¡Œæ“ä½œ</li>
<li>ä¸šåŠ¡åŠ©ç†ï¼šè¿æ¥ CRMã€ERP ç­‰ä¸šåŠ¡ç³»ç»Ÿï¼Œè¾…åŠ©å‘˜å·¥å®Œæˆæ—¥å¸¸å·¥ä½œ</li>
</ul>
<p><em>ğŸ’¡ ä»¥ä¸Šä»…ä¸ºå…¸å‹åœºæ™¯ç¤ºä¾‹ã€‚é€šè¿‡é…ç½®çŸ¥è¯†åº“å’Œæ¥å…¥å·¥å…·ï¼ŒAssistant Agent å¯é€‚é…æ›´å¤šä¸šåŠ¡åœºæ™¯ï¼Œæ¬¢è¿æ¢ç´¢ã€‚</em></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb3b8a2d8c88444596f3c07db11324ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019900&amp;x-signature=cKu36Jtll4869Mmhl3ilQnAqLKM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b14110afa9954efebfebe21ff21ef201~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019900&amp;x-signature=ts%2Fau7gEhbwGK2RORrtp2ZfARAM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-5">æ•´ä½“å·¥ä½œåŸç†</h3>
<p>ä»¥ä¸‹æ˜¯ Assistant Agent å¤„ç†ä¸€ä¸ªå®Œæ•´è¯·æ±‚çš„ç«¯åˆ°ç«¯æµç¨‹ç¤ºä¾‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/914532a64ea149ad97eb23ab06240fe5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019900&amp;x-signature=62Reh8IFhDk%2BtekaqxxcUNu7Od4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-6">é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-csharp" lang="csharp">assistant-agent/
â”œâ”€â”€ assistant-agent-common Â  Â  Â  Â  Â <span class="hljs-meta"># é€šç”¨å·¥å…·ã€æšä¸¾ã€å¸¸é‡</span>
â”œâ”€â”€ assistant-agent-core Â  Â  Â  Â  Â  Â <span class="hljs-meta"># æ ¸å¿ƒå¼•æ“ï¼šGraalVM æ‰§è¡Œå™¨ã€å·¥å…·æ³¨å†Œè¡¨</span>
â”œâ”€â”€ assistant-agent-extensions Â  Â  Â <span class="hljs-meta"># æ‰©å±•æ¨¡å—ï¼š</span>
â”‚ Â  â”œâ”€â”€Â <span class="hljs-built_in">dynamic</span>/ Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-meta"># Â  - åŠ¨æ€å·¥å…·ï¼ˆMCPã€HTTP APIï¼‰</span>
â”‚ Â  â”œâ”€â”€ experience/ Â  Â  Â  Â  Â  Â <span class="hljs-meta"># Â  - ç»éªŒç®¡ç†ä¸å¿«é€Ÿæ„å›¾é…ç½®</span>
â”‚ Â  â”œâ”€â”€ learning/ Â  Â  Â  Â  Â  Â  Â <span class="hljs-meta"># Â  - å­¦ä¹ æå–ä¸å­˜å‚¨</span>
â”‚ Â  â”œâ”€â”€ search/ Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-meta"># Â  - ç»Ÿä¸€æœç´¢èƒ½åŠ›</span>
â”‚ Â  â”œâ”€â”€ reply/ Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-meta"># Â  - å¤šæ¸ é“å›å¤</span>
â”‚ Â  â”œâ”€â”€ trigger/ Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-meta"># Â  - è§¦å‘å™¨æœºåˆ¶</span>
â”‚ Â  â””â”€â”€ evaluation/ Â  Â  Â  Â  Â  Â <span class="hljs-meta"># Â  - è¯„ä¼°é›†æˆ</span>
â”œâ”€â”€ assistant-agent-prompt-builder Â <span class="hljs-meta"># Prompt åŠ¨æ€ç»„è£…</span>
â”œâ”€â”€ assistant-agent-evaluation Â  Â  Â <span class="hljs-meta"># è¯„ä¼°å¼•æ“</span>
â”œâ”€â”€ assistant-agent-autoconfigure Â Â <span class="hljs-meta"># Spring Boot è‡ªåŠ¨é…ç½®</span>
â””â”€â”€ assistant-agent-start Â  Â  Â  Â  Â Â <span class="hljs-meta"># å¯åŠ¨æ¨¡å—</span>
</code></pre>
<h2 data-id="heading-7">ğŸš€Â å¿«é€Ÿå¯åŠ¨</h2>
<h3 data-id="heading-8">å‰ç½®è¦æ±‚</h3>
<ul>
<li>Java 17+</li>
<li>Maven 3.8+</li>
<li>DashScope API Key</li>
</ul>
<h3 data-id="heading-9">1. å…‹éš†å¹¶æ„å»º</h3>
<pre><code class="hljs language-bash" lang="bash">gitÂ <span class="hljs-built_in">clone</span>Â https://github.com/spring-ai-alibaba/AssistantAgent.git
<span class="hljs-built_in">cd</span>Â assistant-agent
mvn clean install -DskipTests
</code></pre>
<h3 data-id="heading-10">2. é…ç½® API Key</h3>
<pre><code class="hljs language-ini" lang="ini">exportÂ <span class="hljs-attr">DASHSCOPE_API_KEY</span>=your-api-key-here
</code></pre>
<h3 data-id="heading-11">3. æœ€å°é…ç½®</h3>
<p>é¡¹ç›®å·²å†…ç½®é»˜è®¤é…ç½®ï¼Œåªéœ€ç¡®ä¿ API Key æ­£ç¡®å³å¯ã€‚å¦‚éœ€è‡ªå®šä¹‰ï¼Œå¯ç¼–è¾‘Â <code>assistant-agent-start/src/main/resources/application.yml</code>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
Â Â <span class="hljs-attr">ai:</span>
Â  Â Â <span class="hljs-attr">dashscope:</span>
Â  Â  Â Â <span class="hljs-string">api-key:</span>Â <span class="hljs-string">${DASHSCOPE_API_KEY}</span>
Â  Â  Â Â <span class="hljs-attr">chat:</span>
Â  Â  Â  Â Â <span class="hljs-attr">options:</span>
Â  Â  Â  Â  Â Â <span class="hljs-attr">model:</span> <span class="hljs-string">qwen-max</span>
</code></pre>
<h3 data-id="heading-12">4. å¯åŠ¨åº”ç”¨</h3>
<pre><code class="hljs language-arduino" lang="arduino">cdÂ assistant-agent-start
mvn spring-boot:run
</code></pre>
<p>æ‰€æœ‰æ‰©å±•æ¨¡å—é»˜è®¤å¼€å¯å¹¶é‡‡ç”¨åˆç†çš„é…ç½®ï¼Œæ— éœ€é¢å¤–é…ç½®å³å¯å¿«é€Ÿå¯åŠ¨ã€‚</p>
<h3 data-id="heading-13">5. é…ç½®çŸ¥è¯†åº“ï¼ˆæ¥å…¥ä¸šåŠ¡çŸ¥è¯†ï¼‰</h3>
<p>ğŸ’¡Â æ¡†æ¶é»˜è®¤æä¾› Mock çŸ¥è¯†åº“å®ç°ç”¨äºæ¼”ç¤ºæµ‹è¯•ã€‚<strong>ç”Ÿäº§ç¯å¢ƒéœ€è¦æ¥å…¥çœŸå®çŸ¥è¯†æº</strong>ï¼ˆå¦‚å‘é‡æ•°æ®åº“ã€Elasticsearchã€ä¼ä¸šçŸ¥è¯†åº“ API ç­‰ï¼‰ï¼Œä»¥ä¾¿ Agent èƒ½å¤Ÿæ£€ç´¢å¹¶å›ç­”ä¸šåŠ¡ç›¸å…³é—®é¢˜ã€‚</p>
<h4 data-id="heading-14">æ–¹å¼ä¸€ï¼šå¿«é€Ÿä½“éªŒï¼ˆä½¿ç”¨å†…ç½® Mock å®ç°ï¼‰</h4>
<p>é»˜è®¤é…ç½®å·²å¯ç”¨çŸ¥è¯†åº“æœç´¢ï¼Œå¯ç›´æ¥ä½“éªŒï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
Â  <span class="hljs-attr">ai:</span>
Â  Â  <span class="hljs-attr">alibaba:</span>
Â  Â  Â  <span class="hljs-attr">codeact:</span>
Â  Â  Â  Â  <span class="hljs-attr">extension:</span>
Â  Â  Â  Â  Â Â <span class="hljs-attr">search:</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-string">enabled:</span>Â <span class="hljs-literal">true</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-string">knowledge-search-enabled:</span>Â <span class="hljs-literal">true</span>Â  <span class="hljs-comment"># é»˜è®¤å¼€å¯</span>
</code></pre>
<h4 data-id="heading-15">æ–¹å¼äºŒï¼šæ¥å…¥çœŸå®çŸ¥è¯†åº“ï¼ˆæ¨èï¼‰</h4>
<p>å®ç°Â SearchProviderÂ æ¥å£ï¼Œæ¥å…¥ä½ çš„ä¸šåŠ¡çŸ¥è¯†æºï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">package com.<span class="hljs-property">example</span>.<span class="hljs-property">knowledge</span>;
<span class="hljs-keyword">import</span>Â com.<span class="hljs-property">alibaba</span>.<span class="hljs-property">assistant</span>.<span class="hljs-property">agent</span>.<span class="hljs-property">extension</span>.<span class="hljs-property">search</span>.<span class="hljs-property">spi</span>.<span class="hljs-property">SearchProvider</span>;
<span class="hljs-keyword">import</span>Â com.<span class="hljs-property">alibaba</span>.<span class="hljs-property">assistant</span>.<span class="hljs-property">agent</span>.<span class="hljs-property">extension</span>.<span class="hljs-property">search</span>.<span class="hljs-property">model</span>.*;
<span class="hljs-keyword">import</span>Â org.<span class="hljs-property">springframework</span>.<span class="hljs-property">stereotype</span>.<span class="hljs-property">Component</span>;
<span class="hljs-keyword">import</span>Â java.<span class="hljs-property">util</span>.*;
<span class="hljs-meta">@Component</span>Â Â <span class="hljs-comment">// æ·»åŠ æ­¤æ³¨è§£ï¼ŒProvider ä¼šè‡ªåŠ¨æ³¨å†Œ</span>
<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">MyKnowledgeSearchProvider</span>Â <span class="hljs-keyword">implements</span>Â <span class="hljs-title class_">SearchProvider</span>Â {
Â  Â Â <span class="hljs-meta">@Override</span>
Â  Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-built_in">boolean</span>Â <span class="hljs-title function_">supports</span>(<span class="hljs-params">SearchSourceTypeÂ <span class="hljs-keyword">type</span></span>) {
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title class_">SearchSourceType</span>.<span class="hljs-property">KNOWLEDGE</span>Â ==Â <span class="hljs-keyword">type</span>;
Â  Â  }
Â  Â Â <span class="hljs-meta">@Override</span>
Â  Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">SearchResultItem</span>&gt;Â <span class="hljs-title function_">search</span>(<span class="hljs-params">SearchRequestÂ request</span>) {
Â  Â  Â  Â Â <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">SearchResultItem</span>&gt; results =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
Â  Â  Â  Â Â <span class="hljs-comment">// 1. ä»ä½ çš„çŸ¥è¯†æºæŸ¥è¯¢ï¼ˆå‘é‡æ•°æ®åº“ã€ESã€API ç­‰ï¼‰</span>
Â  Â  Â  Â Â <span class="hljs-comment">// ç¤ºä¾‹ï¼šList&lt;Doc&gt; docs = vectorStore.similaritySearch(request.getQuery());</span>
Â  Â  Â  Â Â <span class="hljs-comment">// 2. è½¬æ¢ä¸º SearchResultItem</span>
Â  Â  Â  Â Â <span class="hljs-comment">// for (Doc doc : docs) {</span>
Â  Â  Â  Â Â <span class="hljs-comment">// Â  Â  SearchResultItem item = new SearchResultItem();</span>
Â  Â  Â  Â Â <span class="hljs-comment">// Â  Â  item.setId(doc.getId());</span>
Â  Â  Â  Â Â <span class="hljs-comment">// Â  Â  item.setSourceType(SearchSourceType.KNOWLEDGE);</span>
Â  Â  Â  Â Â <span class="hljs-comment">// Â  Â  item.setTitle(doc.getTitle());</span>
Â  Â  Â  Â Â <span class="hljs-comment">// Â  Â  item.setSnippet(doc.getSummary());</span>
Â  Â  Â  Â Â <span class="hljs-comment">// Â  Â  item.setContent(doc.getContent());</span>
Â  Â  Â  Â Â <span class="hljs-comment">// Â  Â  item.setScore(doc.getScore());</span>
Â  Â  Â  Â Â <span class="hljs-comment">// Â  Â  results.add(item);</span>
Â  Â  Â  Â Â <span class="hljs-comment">// }</span>
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â results;
Â  Â  }
Â  Â Â <span class="hljs-meta">@Override</span>
Â  Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-title class_">String</span>Â <span class="hljs-title function_">getName</span>(<span class="hljs-params"/>) {
Â  Â  Â  Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"MyKnowledgeSearchProvider"</span>;
Â  Â  }
}
</code></pre>
<h4 data-id="heading-16">å¸¸è§çŸ¥è¯†æºæ¥å…¥ç¤ºä¾‹</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91b352cfa74e4b9682caed5d1d50557c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019900&amp;x-signature=CFLlQPZTBNcmzcGoMVwXFtKGtck%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-17">ğŸ§© æ ¸å¿ƒæ¨¡å—ä»‹ç»</h2>
<h3 data-id="heading-18">è¯„ä¼°æ¨¡å—ï¼ˆEvaluationï¼‰</h3>
<p><strong>ä½œç”¨</strong>ï¼šå¤šç»´åº¦æ„å›¾è¯†åˆ«æ¡†æ¶ï¼Œé€šè¿‡è¯„ä¼°å›¾ï¼ˆGraphï¼‰å¯¹ä¿¡æ¯è¿›è¡Œå¤šå±‚æ¬¡ç‰¹è´¨è¯†åˆ«ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  è¯„ä¼°å›¾ (EvaluationÂ Graph) ç¤ºä¾‹ Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â â”‚
â”‚Â  ç”¨æˆ·è¾“å…¥:Â <span class="hljs-string">"æŸ¥è¯¢ä»Šæ—¥è®¢å•"</span>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚Â  Â  Â  Â  Â Â â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚Â  Â  Â  Â  Â Â â–¼Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚Â Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Â  Â  Â â”‚
â”‚Â Â â”‚Â LayerÂ <span class="hljs-number">1</span>Â ï¼ˆå¹¶è¡Œæ‰§è¡Œï¼‰ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚Â  Â  Â â”‚
â”‚Â Â â”‚Â  Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Â  Â  Â  Â  Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚Â  Â  Â â”‚
â”‚Â Â â”‚Â  Â â”‚Â æ˜¯å¦æ¨¡ç³Š?Â  Â â”‚Â  Â  Â  Â  Â â”‚Â è¾“å…¥æ”¹å†™ Â  Â Â â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚Â  Â  Â â”‚
â”‚Â Â â”‚Â  Â â”‚Â æ¸…æ™°/æ¨¡ç³Š Â Â â”‚Â  Â  Â  Â  Â â”‚ï¼ˆå¢å¼ºï¼‰ Â  Â  Â â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚Â  Â  Â â”‚
â”‚Â Â â”‚Â  Â â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜Â  Â  Â  Â  Â â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚Â  Â  Â â”‚
â”‚Â Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Â  Â  Â â”‚
â”‚Â  Â  Â  Â  Â  Â Â â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â â”‚
â”‚Â  Â  Â  Â  Â  Â Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â â”‚
â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â–¼Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â â”‚
â”‚Â Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Â  Â  Â â”‚
â”‚Â Â â”‚Â LayerÂ <span class="hljs-number">2</span>Â (åŸºäºæ”¹å†™å†…å®¹ï¼Œå¹¶è¡Œæ‰§è¡Œ) Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚Â  Â  Â â”‚
â”‚Â Â â”‚Â  Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Â  Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Â  Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Â  Â  Â  Â  Â  Â Â â”‚Â  Â  Â â”‚
â”‚Â Â â”‚Â  Â â”‚Â æ£€ç´¢ç»éªŒ Â â”‚Â  Â â”‚Â åŒ¹é…å·¥å…· Â â”‚Â  Â â”‚Â æœç´¢çŸ¥è¯† Â â”‚Â  Â  Â  Â  Â  Â  Â â”‚Â  Â  Â â”‚
â”‚Â Â â”‚Â  Â â”‚Â æœ‰/æ—  Â  Â â”‚ Â  â”‚ æœ‰/æ—  Â  Â Â â”‚Â  Â â”‚Â æœ‰/æ—  Â  Â â”‚Â  Â  Â  Â  Â  Â  Â â”‚Â  Â  Â â”‚
â”‚Â Â â”‚Â  Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Â  Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Â  Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Â  Â  Â  Â  Â  Â Â â”‚Â  Â  Â â”‚
â”‚Â Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Â  Â  Â â”‚
â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â â”‚
â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â–¼Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â â”‚
â”‚Â  Â  Â  Â  Â  Â Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â â”‚
â”‚Â  Â  Â  Â  Â  Â Â â”‚Â æ•´åˆä¸åŒç»´åº¦è¯„ä¼°ç»“æœ Â â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â â”‚
â”‚Â  Â  Â  Â  Â  Â Â â”‚Â â†’Â ä¼ é€’ç»™åç»­æ¨¡å— Â  Â Â â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â â”‚
â”‚Â  Â  Â  Â  Â  Â Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â â”‚
â”‚Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼š</p>
<ul>
<li><strong>åŒè¯„ä¼°å¼•æ“ï¼š</strong>
<ul>
<li><strong>LLM è¯„ä¼°ï¼š</strong> é€šè¿‡å¤§æ¨¡å‹è¿›è¡Œå¤æ‚è¯­ä¹‰åˆ¤æ–­ï¼Œç”¨æˆ·å¯å®Œå…¨è‡ªå®šä¹‰è¯„ä¼° Promptï¼ˆ<code>customPrompt</code>ï¼‰ï¼Œä¹Ÿå¯ä½¿ç”¨é»˜è®¤ Prompt ç»„è£…ï¼ˆæ”¯æŒÂ <code>descriptionã€workingMechanismã€fewShots</code>Â ç­‰é…ç½®ï¼‰</li>
<li><strong>Rule-based è¯„ä¼°ï¼š</strong> é€šè¿‡ Java å‡½æ•°å®ç°è§„åˆ™é€»è¾‘ï¼Œç”¨æˆ·è‡ªå®šä¹‰ <code>Function&lt;CriterionExecutionContext, CriterionResult&gt;</code>Â æ‰§è¡Œä»»æ„è§„åˆ™åˆ¤æ–­ï¼Œé€‚åˆé˜ˆå€¼æ£€æµ‹ã€æ ¼å¼æ ¡éªŒã€ç²¾ç¡®åŒ¹é…ç­‰åœºæ™¯</li>
</ul>
</li>
<li><strong>ä¾èµ–å…³ç³»è‡ªå®šä¹‰ï¼š</strong> è¯„ä¼°é¡¹å¯é€šè¿‡ <code>dependsOn</code>Â å£°æ˜å‰ç½®ä¾èµ–ï¼Œç³»ç»Ÿè‡ªåŠ¨æ„å»ºè¯„ä¼°å›¾æŒ‰æ‹“æ‰‘æ‰§è¡Œï¼Œæ— ä¾èµ–é¡¹å¹¶è¡Œã€æœ‰ä¾èµ–é¡¹é¡ºåºæ‰§è¡Œï¼Œåç»­è¯„ä¼°é¡¹å¯è®¿é—®å‰ç½®è¯„ä¼°é¡¹çš„ç»“æœ</li>
<li><strong>è¯„ä¼°ç»“æœï¼š</strong> æ”¯æŒ <code>BOOLEAN</code>ã€<code>ENUM</code>ã€<code>SCORE</code>ã€<code>JSON</code>ã€<code>TEXT</code>Â ç­‰ç±»å‹ï¼Œä¼ é€’ç»™ Prompt Builder é©±åŠ¨åŠ¨æ€ç»„è£…</li>
</ul>
<h3 data-id="heading-19">Prompt Builder æ¨¡å—</h3>
<p><strong>ä½œç”¨</strong>ï¼šæ ¹æ®è¯„ä¼°ç»“æœå’Œè¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼ŒåŠ¨æ€ç»„è£…å‘é€ç»™æ¨¡å‹çš„ Promptã€‚ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Prompt Builder - æ¡ä»¶åŒ–åŠ¨æ€ç”Ÿæˆ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â è¯„ä¼°ç»“æœè¾“å…¥: Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â â”‚ æ¨¡ç³Š: æ˜¯ Â â”‚ ç»éªŒ: æœ‰ Â â”‚ å·¥å…·: æœ‰ Â â”‚ çŸ¥è¯†: æ—  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”‚
â”‚ Â â”‚ Â  Â  Â  Â  Â  Â  Â è‡ªå®šä¹‰ PromptBuilder æ¡ä»¶åŒ¹é… Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  â”‚
â”‚ Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â â”‚ Â  æ¨¡ç³Š=æ˜¯ â”€â”€â”€â”€â”€â”€â–¶ æ³¨å…¥ <span class="hljs-section">[æ¾„æ¸…å¼•å¯¼ Prompt]</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â â”‚ Â  æ¨¡ç³Š=å¦ â”€â”€â”€â”€â”€â”€â–¶ æ³¨å…¥ <span class="hljs-section">[ç›´æ¥æ‰§è¡Œ Prompt]</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â â”‚ Â  ç»éªŒ=æœ‰ â”€â”€â”€â”€â”€â”€â–¶ æ³¨å…¥ <span class="hljs-section">[å†å²ç»éªŒå‚è€ƒ]</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â â”‚ Â  å·¥å…·=æœ‰ â”€â”€â”€â”€â”€â”€â–¶ æ³¨å…¥ <span class="hljs-section">[å·¥å…·ä½¿ç”¨è¯´æ˜]</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â â”‚ Â  çŸ¥è¯†=æœ‰ â”€â”€â”€â”€â”€â”€â–¶ æ³¨å…¥ <span class="hljs-section">[ç›¸å…³çŸ¥è¯†ç‰‡æ®µ]</span> Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â â”‚ Â  ç»„åˆç¤ºä¾‹1: æ¨¡ç³Š+æ— å·¥å…·+æ— çŸ¥è¯† â”€â”€â–¶ <span class="hljs-section">[è¿½é—®ç”¨æˆ· Prompt]</span> Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  â”‚
â”‚ Â â”‚ Â  ç»„åˆç¤ºä¾‹2: æ¸…æ™°+æœ‰å·¥å…·+æœ‰ç»éªŒ â”€â”€â–¶ <span class="hljs-section">[å¿«é€Ÿæ‰§è¡Œ Prompt]</span> Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  â”‚
â”‚ Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”‚
â”‚ Â â”‚ æœ€ç»ˆåŠ¨æ€ Prompt: Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â â”‚ <span class="hljs-section">[ç³»ç»Ÿæç¤º]</span> + <span class="hljs-section">[æ¾„æ¸…å¼•å¯¼]</span> + <span class="hljs-section">[å†å²ç»éªŒ]</span> + <span class="hljs-section">[å·¥å…·è¯´æ˜]</span> + <span class="hljs-section">[ç”¨æˆ·é—®é¢˜]</span> Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â â”‚ Â  æ¨¡å‹ Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼š</p>
<ul>
<li>å¤šä¸ª PromptBuilder æŒ‰ä¼˜å…ˆçº§é¡ºåºæ‰§è¡Œ</li>
<li>æ¯ä¸ª Builder æ ¹æ®è¯„ä¼°ç»“æœå†³å®šæ˜¯å¦è´¡çŒ®ã€è´¡çŒ®ä»€ä¹ˆå†…å®¹</li>
<li>æ”¯æŒè‡ªå®šä¹‰ Builderï¼Œæ ¹æ®ä¸šåŠ¡éœ€æ±‚å®šåˆ¶ Prompt é€»è¾‘</li>
<li>éä¾µå…¥å¼ï¼Œåœ¨æ¨¡å‹è°ƒç”¨å±‚æ‹¦æˆª</li>
</ul>
<p><strong>å¯¹æ¯”ä¼ ç»Ÿæ–¹æ¡ˆ</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0c0a1037d5c4c9983ad90dafb68f045~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770019900&amp;x-signature=8%2BH9Rn5vEtvLSwNrK2r7VHPeyhM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-20">å­¦ä¹ æ¨¡å—ï¼ˆLearningï¼‰</h3>
<p><strong>ä½œç”¨</strong>ï¼šä» Agent æ‰§è¡Œå†å²ä¸­è‡ªåŠ¨æå–å¹¶ä¿å­˜æœ‰ä»·å€¼çš„ç»éªŒã€‚</p>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å­¦ä¹ æ¨¡å—å·¥ä½œæµç¨‹ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Agent æ‰§è¡Œè¿‡ç¨‹ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ â”‚
â”‚ Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ â”‚
â”‚ Â â”‚ Â è¾“å…¥ â”€â”€â–¶ æ¨ç† â”€â”€â–¶ ä»£ç ç”Ÿæˆ â”€â”€â–¶ æ‰§è¡Œ â”€â”€â–¶ è¾“å‡º Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ â”‚
â”‚ Â â”‚ Â  â”‚ Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  â”‚ Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ â”‚
â”‚ Â â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ â”‚
â”‚ Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ â”‚
â”‚ Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â å­¦ä¹ ä¸Šä¸‹æ–‡æ•è· Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â â”‚ Â - ç”¨æˆ·è¾“å…¥ Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â â”‚ Â - ä¸­é—´æ¨ç†æ­¥éª¤ Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â â”‚ Â - ç”Ÿæˆçš„ä»£ç  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â â”‚ Â - æ‰§è¡Œç»“æœ Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”‚
â”‚ Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â å­¦ä¹ æå–å™¨åˆ†æ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â  â”‚ Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â  â”‚ Â â”‚ ç»éªŒæå–å™¨ Â â”‚ Â â”‚ æ¨¡å¼æå–å™¨ Â  â”‚ Â â”‚ é”™è¯¯æå–å™¨ Â  â”‚ Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â  â”‚ Â â”‚ æˆåŠŸæ¨¡å¼ Â  Â â”‚ Â â”‚ é€šç”¨æ¨¡å¼ Â  Â â”‚ Â â”‚ å¤±è´¥æ•™è®­ Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â  â”‚ Â â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ Â â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ Â â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  æŒä¹…åŒ–å­˜å‚¨ Â  Â â”‚ â”€â”€â–¶ ä¾›åç»­ä»»åŠ¡å‚è€ƒä½¿ç”¨ Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼š</p>
<ul>
<li><strong>After-Agent å­¦ä¹ ï¼š</strong> æ¯æ¬¡ Agent è¿è¡Œå®Œæˆåæå–ç»éªŒ</li>
<li><strong>After-Model å­¦ä¹ ï¼š</strong> æ¯æ¬¡æ¨¡å‹è°ƒç”¨åæå–ç»éªŒ</li>
<li><strong>Tool Interceptorï¼š</strong> ä»å·¥å…·è°ƒç”¨ä¸­æå–ç»éªŒ</li>
<li><strong>ç¦»çº¿å­¦ä¹ ï¼š</strong> æ‰¹é‡åˆ†æå†å²æ•°æ®æå–æ¨¡å¼</li>
<li><strong>å­¦ä¹ è¿‡ç¨‹ï¼š</strong> æ•è·æ‰§è¡Œä¸Šä¸‹æ–‡ â†’ æå–å™¨åˆ†æè¯†åˆ« â†’ ç”Ÿæˆç»éªŒè®°å½• â†’ æŒä¹…åŒ–å­˜å‚¨ä¾›åç»­å¤ç”¨</li>
</ul>
<h3 data-id="heading-21">ç»éªŒæ¨¡å—ï¼ˆExperienceï¼‰</h3>
<p><strong>ä½œç”¨</strong>ï¼šç§¯ç´¯å’Œå¤ç”¨å†å²æˆåŠŸæ‰§è¡Œç»éªŒã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ç»éªŒæ¨¡å—å·¥ä½œç¤ºæ„ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â ã€åœºæ™¯<span class="hljs-number">1</span>: ç»éªŒç§¯ç´¯ã€‘ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  ç”¨æˆ·:Â <span class="hljs-string">"æŸ¥è¯¢è®¢å•çŠ¶æ€"</span>Â  â”€â”€â–¶ Â AgentÂ æˆåŠŸæ‰§è¡Œ Â â”€â”€â–¶ Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ ä¿å­˜ç»éªŒ: Â  Â  Â  â”‚ Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ -Â Reactå†³ç­–ç»éªŒ â”‚ Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ -Â Codeç»éªŒ Â  Â  â”‚ Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ - å¸¸è¯†ç»éªŒ Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â–¼ Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  ç»éªŒåº“ Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â ã€åœºæ™¯<span class="hljs-number">2</span>: ç»éªŒå¤ç”¨ã€‘ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ï½œ Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  ç”¨æˆ·:Â <span class="hljs-string">"æŸ¥è¯¢æˆ‘çš„è®¢å•çŠ¶æ€"</span>Â  â—€â”€â”€â”€â”€ Â åŒ¹é…ç›¸ä¼¼ç»éªŒ Â â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  â”‚Â AgentÂ å‚è€ƒå†å²ç»éªŒï¼Œæ›´å¿«å†³ç­–+ç”Ÿæˆæ­£ç¡®ä»£ç  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â ã€åœºæ™¯<span class="hljs-number">3</span>: å¿«é€Ÿæ„å›¾å“åº”ã€‘ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  â”‚
â”‚ Â  â”‚ ç»éªŒåº“ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  â”‚
â”‚ Â  â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”‚ Â  â”‚
â”‚ Â  â”‚ Â  â”‚ ç»éªŒ<span class="hljs-built_in">A</span>Â (æ™®é€š) Â  Â  Â  Â  â”‚ Â  Â  Â  â”‚ ç»éªŒ<span class="hljs-built_in">B</span>Â (âœ“ å·²é…ç½®å¿«é€Ÿæ„å›¾) Â  Â  Â â”‚ Â â”‚ Â  â”‚
â”‚ Â  â”‚ Â  â”‚ æ— å¿«é€Ÿæ„å›¾é…ç½® Â  Â  Â  Â â”‚ Â  Â  Â  â”‚ Â  æ¡ä»¶: å‰ç¼€åŒ¹é…<span class="hljs-string">"æŸ¥çœ‹*é”€é‡"</span>Â  Â â”‚ Â â”‚ Â  â”‚
â”‚ Â  â”‚ Â  â”‚ â†’ æ³¨å…¥promptä¾›llmå‚è€ƒâ”‚ Â  Â  Â  â”‚ Â  åŠ¨ä½œ: è°ƒç”¨é”€é‡æŸ¥è¯¢APIÂ  Â  Â  Â â”‚ Â â”‚ Â  â”‚
â”‚ Â  â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â â”‚ Â  â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ æ¡ä»¶å‘½ä¸­ Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  ç”¨æˆ·:Â <span class="hljs-string">"æŸ¥çœ‹ä»Šæ—¥é”€é‡"</span>Â  â”€â”€â–¶ Â åŒ¹é…ç»éªŒBå¿«é€Ÿæ„å›¾ Â â”€â”€â–¶ Â è·³è¿‡LLMï¼Œç›´æ¥æ‰§è¡Œ Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼š</p>
<ul>
<li><strong>å¤šç±»å‹ç»éªŒï¼š</strong> ä»£ç ç”Ÿæˆç»éªŒã€ReAct å†³ç­–ç»éªŒã€å¸¸è¯†ç»éªŒï¼Œä¸ºç±»ä¼¼ä»»åŠ¡æä¾›å†å²å‚è€ƒ</li>
<li><strong>çµæ´»å¤ç”¨ï¼š</strong> ç»éªŒå¯æ³¨å…¥ Prompt æˆ–ç”¨äºå¿«é€Ÿæ„å›¾åŒ¹é…</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š</strong> æ”¯æŒç»éªŒçš„åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤</li>
<li><strong>å¿«é€Ÿæ„å›¾å“åº”ï¼š</strong>
<ul>
<li>ç»éªŒéœ€æ˜¾å¼é…ç½®Â <code>fastIntentConfig</code>Â æ‰èƒ½å¯ç”¨</li>
<li>åŒ¹é…å·²é…ç½®æ¡ä»¶æ—¶ï¼Œè·³è¿‡ LLM å®Œæ•´æ¨ç†ï¼Œç›´æ¥æ‰§è¡Œé¢„è®°å½•çš„å·¥å…·è°ƒç”¨æˆ–ä»£ç </li>
<li>æ”¯æŒå¤šæ¡ä»¶åŒ¹é…ï¼šæ¶ˆæ¯å‰ç¼€ã€æ­£åˆ™ã€å…ƒæ•°æ®ã€çŠ¶æ€ç­‰</li>
</ul>
</li>
</ul>
<h3 data-id="heading-22">è§¦å‘å™¨æ¨¡å—ï¼ˆTriggerï¼‰</h3>
<p><strong>ä½œç”¨</strong>ï¼šåˆ›å»ºå’Œç®¡ç†å®šæ—¶ä»»åŠ¡æˆ–äº‹ä»¶è§¦å‘çš„ Agent æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  è§¦å‘å™¨æ¨¡å—èƒ½åŠ›ç¤ºæ„ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â ã€å®šæ—¶è§¦å‘ã€‘ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  ç”¨æˆ·:Â <span class="hljs-string">"æ¯å¤©æ—©ä¸Š9ç‚¹ç»™æˆ‘å‘é€é”€å”®æ—¥æŠ¥"</span>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  â”‚
â”‚ Â  â”‚ Â AgentÂ åˆ›å»º Â  Â  Â â”‚ Â  Â  â”‚ Â  è°ƒåº¦å™¨ Â  Â  Â  Â  â”‚ Â  Â  â”‚ Â è‡ªåŠ¨æ‰§è¡Œ Â  Â  Â  Â â”‚ Â  â”‚
â”‚ Â  â”‚ Â CronÂ è§¦å‘å™¨ Â  Â  â”‚â”€â”€â”€â”€â–¶â”‚ Â <span class="hljs-number">0</span>Â <span class="hljs-number">9</span>Â * * * Â  Â  Â â”‚â”€â”€â”€â”€â–¶â”‚ Â ç”Ÿæˆæ—¥æŠ¥ Â  Â  Â  Â â”‚ Â  â”‚
â”‚ Â  â”‚ Â (è‡ªæˆ‘è°ƒåº¦) Â  Â  Â â”‚ Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  â”‚ Â å‘é€é€šçŸ¥ Â  Â  Â  Â â”‚ Â  Â â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â ã€å»¶è¿Ÿè§¦å‘ã€‘ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  ç”¨æˆ·:Â <span class="hljs-string">"30åˆ†é’Ÿåæé†’æˆ‘å¼€ä¼š"</span>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  â”‚
â”‚ Â  â”‚ Â AgentÂ åˆ›å»º Â  Â  Â â”‚ Â  Â  â”‚ Â Â <span class="hljs-number">30</span>åˆ†é’Ÿå Â  Â  Â â”‚ Â  Â  â”‚ Â å‘é€æé†’ Â  Â  Â  Â  â”‚ Â  â”‚
â”‚ Â  â”‚ Â ä¸€æ¬¡æ€§è§¦å‘å™¨ Â  Â  â”‚â”€â”€â”€â”€â–¶â”‚ Â  è§¦å‘ Â  Â  Â  Â  Â â”‚â”€â”€â”€â”€â–¶â”‚ Â <span class="hljs-string">"è¯¥å¼€ä¼šäº†"</span>Â  Â  Â  Â â”‚ Â  â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â ã€å›è°ƒè§¦å‘ã€‘ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  ç”¨æˆ·:Â <span class="hljs-string">"æ»¡è¶³xxæ¡ä»¶æ—¶å¸®æˆ‘xx"</span>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  å¤–éƒ¨ç³»ç»Ÿ: å‘é€äº‹ä»¶åˆ°Â WebhookÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  â”‚
â”‚ Â  â”‚ Â æ¥æ”¶å›è°ƒ Â  Â  Â  Â â”‚ Â  Â  â”‚ Â  è§¦å‘Â AgentÂ  Â  Â â”‚ Â  Â  â”‚ Â å¤„ç†äº‹ä»¶ Â  Â  Â  Â â”‚ Â  â”‚
â”‚ Â  â”‚ Â WebhookÂ äº‹ä»¶ Â  â”‚â”€â”€â”€â”€â–¶â”‚ Â  æ‰§è¡Œä»»åŠ¡ Â  Â  Â  Â â”‚â”€â”€â”€â”€â–¶â”‚ Â è¿”å›å“åº” Â  Â  Â  Â â”‚ Â  â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼š</p>
<ul>
<li><code>TIME_CRON</code>Â è§¦å‘å™¨ï¼šæ”¯æŒ Cron è¡¨è¾¾å¼å®šæ—¶è§¦å‘ä»»åŠ¡</li>
<li><code>TIME_ONCE</code>Â è§¦å‘å™¨ï¼šæ”¯æŒä¸€æ¬¡æ€§å»¶è¿Ÿè§¦å‘</li>
<li><code>CALLBACK</code>Â è§¦å‘å™¨ï¼šæ”¯æŒå›è°ƒäº‹ä»¶è§¦å‘</li>
<li><code>Agent</code> å¯é€šè¿‡å·¥å…·è‡ªä¸»åˆ›å»ºè§¦å‘å™¨ï¼Œå®ç°â€œè‡ªæˆ‘è°ƒåº¦â€</li>
</ul>
<h3 data-id="heading-23">å›å¤æ¸ é“æ¨¡å—ï¼ˆReply Channelï¼‰</h3>
<p><strong>ä½œç”¨</strong>ï¼šæä¾›çµæ´»çš„æ¶ˆæ¯å›å¤èƒ½åŠ›ï¼Œæ”¯æŒå¤šç§è¾“å‡ºæ¸ é“ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å›å¤æ¸ é“æ¨¡å—èƒ½åŠ›ç¤ºæ„ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â Â AgentÂ éœ€è¦å‘ç”¨æˆ·å›å¤æ¶ˆæ¯ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  â”‚
â”‚ Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â å›å¤æ¸ é“è·¯ç”± Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  Â  Â â”‚
â”‚ Â  â”‚ Â DEFAULTÂ  Â â”‚ Â â”‚ Â IDE_CARDÂ  â”‚ Â â”‚Â IM_NOTIFYÂ  â”‚ Â â”‚ Â WEBHOOKÂ  Â â”‚ Â  Â  Â  Â â”‚
â”‚ Â  â”‚ Â æ–‡æœ¬å›å¤ Â  â”‚ Â â”‚ Â å¡ç‰‡å±•ç¤º Â  â”‚ Â  â”‚ Â æ¶ˆæ¯æ¨é€ Â  â”‚ Â â”‚ Â JSONæ¨é€ Â  â”‚ Â  Â  Â  Â â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ Â â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ Â â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ Â â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  â–¼ Â  Â  Â  Â  Â  Â  Â  â–¼ Â  Â  Â  Â  Â  Â  Â  â–¼ Â  Â  Â  Â  Â  Â  Â  â–¼ Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  Â  Â  Â â”‚
â”‚ Â  â”‚ æ§åˆ¶å° Â  Â â”‚ Â  Â â”‚ Â Â IDEÂ  Â  â”‚ Â  Â â”‚ Â Â IMÂ  Â  Â â”‚ Â  Â â”‚ ç¬¬ä¸‰æ–¹ Â  Â â”‚ Â  Â  Â  Â  Â â”‚
â”‚ Â  â”‚ ç»ˆç«¯å›å¤ Â â”‚ Â  Â â”‚ å¯Œæ–‡æœ¬å¡ç‰‡ â”‚ Â  Â  â”‚ (å¯æ‰©å±•) â”‚ Â  Â â”‚ Â ç³»ç»Ÿ Â  Â  â”‚ Â  Â  Â  Â  Â â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â ã€ä½¿ç”¨ç¤ºä¾‹ã€‘ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  ç”¨æˆ·:Â <span class="hljs-string">"åˆ†æå®Œæˆåå‘é€ç»“æœ"</span>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â Â Agent:Â <span class="hljs-built_in">send_message</span>(text=<span class="hljs-string">"åˆ†æç»“æœ..."</span>) Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  ç”¨æˆ·æ”¶åˆ°æ¶ˆæ¯:Â <span class="hljs-string">"ğŸ“Š åˆ†æç»“æœ: ..."</span>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼š</p>
<ul>
<li><strong>å¤šæ¸ é“è·¯ç”±ï¼š</strong> Agent å¯æ ¹æ®åœºæ™¯é€‰æ‹©ä¸åŒæ¸ é“å›å¤</li>
<li><strong>é…ç½®é©±åŠ¨ï¼š</strong> åŠ¨æ€ç”Ÿæˆå›å¤å·¥å…·ï¼Œæ— éœ€ç¼–ç </li>
<li><strong>åŒæ­¥å¼‚æ­¥æ”¯æŒï¼š</strong> æ”¯æŒåŒæ­¥å’Œå¼‚æ­¥å›å¤æ¨¡å¼</li>
<li><strong>ç»Ÿä¸€æ¥å£ï¼š</strong> å±è”½åº•å±‚å®ç°å·®å¼‚</li>
<li><strong>å†…ç½®ç¤ºä¾‹æ¸ é“ï¼š</strong> <code>IDE_TEXT</code>ï¼ˆæ¼”ç¤ºç”¨ï¼‰</li>
<li><strong>å¯æ‰©å±•æ¸ é“ï¼ˆé€šè¿‡å®ç° <code>ReplyChannelDefinition</code>Â SPIï¼‰ï¼š</strong> å¦‚Â <code>IDE_CARD</code>ã€<code>IM_NOTIFICATION</code>ï¼ˆé’‰é’‰/é£ä¹¦/ä¼å¾®ï¼‰ã€<code>WEBHOOK_JSON</code>Â ç­‰ï¼Œéœ€ç”¨æˆ·è‡ªè¡Œå®ç°</li>
</ul>
<h3 data-id="heading-24">å·¥å…·æ‰©å±•æ¨¡å—ï¼ˆDynamic Toolsï¼‰</h3>
<p><strong>ä½œç”¨</strong>ï¼šæä¾›é«˜åº¦å¯æ‰©å±•çš„å·¥å…·ä½“ç³»ï¼Œè®© Agent èƒ½å¤Ÿè°ƒç”¨å„ç±»å¤–éƒ¨å·¥å…·å®Œæˆä»»åŠ¡ã€‚</p>
<pre><code class="hljs language-sql" lang="sql">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â å·¥å…·æ‰©å±•æ¶æ„ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Agent éœ€è¦æ‰§è¡Œæ“ä½œ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”‚
â”‚ Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  CodeactTool å·¥å…·ä½“ç³» Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  â–¼ Â  Â  Â  Â  Â  Â  â–¼ Â  Â  Â  Â  Â  Â  â–¼ Â  Â  Â  Â  Â  Â  Â â–¼ Â  â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ Â  â”‚ Â  MCP Â  Â  Â â”‚ â”‚ Â  HTTP Â  Â  â”‚ â”‚ Â <span class="hljs-keyword">Search</span>Â  Â  â”‚ â”‚ Â <span class="hljs-keyword">Trigger</span>Â  Â â”‚ â”‚ è‡ªå®šä¹‰ â”‚ â”‚
â”‚ Â  â”‚ Â  Tools Â  Â â”‚ â”‚ Â  API Â  Â  Â â”‚ â”‚ Â Tools Â  Â  â”‚ â”‚ Â Tools Â  Â  â”‚ â”‚ Tools â”‚ â”‚
â”‚ Â  â”‚ Â  Â  Â  Â  Â  Â â”‚ â”‚ Â  Tools Â  Â â”‚ â”‚ Â  Â  Â  Â  Â  Â â”‚ â”‚ Â  Â  Â  Â  Â  Â â”‚ â”‚ Â  Â  Â  â”‚ â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â”‚
â”‚ Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  â”‚
â”‚ Â  Â  Â  Â  â–¼ Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â â–¼ Â  Â  â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”Œâ”€â”€â”€â”€â”€â”€â” Â  â”‚
â”‚ Â  â”‚ ä»»æ„ MCP â”‚ Â  â”‚ REST API â”‚ Â  â”‚ çŸ¥è¯†æ£€ç´¢ Â  â”‚ Â  â”‚ å®šæ—¶ä»»åŠ¡ Â â”‚ Â â”‚ ... Â â”‚ Â  â”‚
â”‚ Â  â”‚ Server Â  â”‚ Â  â”‚ OpenAPI Â â”‚ Â  â”‚ é¡¹ç›®æœç´¢ Â â”‚ Â  â”‚ äº‹ä»¶å›è°ƒ Â â”‚ Â â”‚ Â  Â  Â â”‚ Â  Â â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â â””â”€â”€â”€â”€â”€â”€â”˜ Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼š</p>
<ul>
<li><strong>MCP å·¥å…·æ”¯æŒï¼š</strong> ä¸€é”®æ¥å…¥ä»»æ„ MCP Serverï¼Œå¤ç”¨ MCP å·¥å…·ç”Ÿæ€</li>
<li><strong>HTTP API æ”¯æŒï¼š</strong> é€šè¿‡ OpenAPI è§„èŒƒæ¥å…¥ REST APIï¼Œè°ƒç”¨ä¼ä¸šç°æœ‰æ¥å£</li>
<li><strong>å†…ç½®å·¥å…·ç±»å‹ï¼š</strong> æœç´¢ï¼ˆSearchï¼‰ã€å›å¤ï¼ˆReplyï¼‰ã€è§¦å‘å™¨ï¼ˆTriggerï¼‰ã€å­¦ä¹ ï¼ˆLearningï¼‰ç­‰</li>
<li><strong>è‡ªå®šä¹‰å·¥å…· SPIï¼š</strong> å®ç° <code>CodeactTool</code>Â æ¥å£ï¼Œè½»æ¾æ‰©å±•æ–°å·¥å…·</li>
</ul>
<h3 data-id="heading-25">çŸ¥è¯†æ£€ç´¢æ¨¡å—ï¼ˆKnowledge Searchï¼‰</h3>
<p><strong>ä½œç”¨</strong>ï¼šå¤šæ•°æ®æºç»Ÿä¸€æ£€ç´¢å¼•æ“ï¼Œä¸º Agent çš„é—®ç­”å’Œå†³ç­–æä¾›çŸ¥è¯†æ”¯æ’‘ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å¤šæ•°æ®æºæ£€ç´¢æ¶æ„ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â ç”¨æˆ·é—®é¢˜:Â <span class="hljs-string">"å¦‚ä½•é…ç½®æ•°æ®åº“è¿æ¥æ± ï¼Ÿ"</span>Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â â”‚
â”‚ Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â ç»Ÿä¸€æ£€ç´¢æ¥å£ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â â”‚
â”‚ Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  â”‚
â”‚ Â  â”‚ Â  Â çŸ¥è¯†åº“ Â  Â  â”‚ Â â”‚ Â  Â é¡¹ç›® Â  Â  Â  â”‚ Â â”‚ Â  Â Â WebÂ  Â  Â  â”‚ Â â”‚ Â è‡ªå®šä¹‰ Â â”‚ Â  Â â”‚
â”‚ Â  â”‚ Â Â ProviderÂ  Â â”‚ Â â”‚ Â Â ProviderÂ  Â â”‚ Â â”‚ Â Â ProviderÂ  Â â”‚ Â â”‚ProviderÂ â”‚ Â  Â â”‚
â”‚ Â  â”‚ Â  (ä¸»è¦) Â  Â  Â â”‚ Â â”‚ Â  (å¯é€‰) Â  Â  â”‚ Â â”‚ Â  (å¯é€‰) Â  Â  Â â”‚ Â â”‚ Â (<span class="hljs-built_in">SPI</span>) Â â”‚ Â  Â â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ Â â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ Â â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ Â â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ Â  Â â”‚
â”‚ Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  â–¼ Â  Â  Â  Â  Â  Â  Â  Â  â–¼ Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â â”‚
â”‚ Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  Â â”‚
â”‚ Â  â”‚Â FAQÂ / æ–‡æ¡£ Â  Â â”‚ Â â”‚ æºä»£ç  Â  Â  Â  â”‚ Â â”‚ ç½‘ç»œæ–‡ç«  Â  Â  Â  â”‚ Â â”‚ Â ... Â  â”‚ Â  Â  Â â”‚
â”‚ Â  â”‚ å†å²é—®ç­” Â  Â  Â â”‚ Â â”‚ é…ç½®æ–‡ä»¶ Â  Â  Â â”‚ Â â”‚ æŠ€æœ¯è®ºå› Â  Â  Â  â”‚ Â â”‚ Â  Â  Â  Â â”‚ Â  Â  Â â”‚
â”‚ Â  â”‚ å›¢é˜Ÿç¬”è®° Â  Â  Â â”‚ Â â”‚ æ—¥å¿— Â  Â  Â  Â  â”‚ Â â”‚ Â  Â  Â  Â  Â  Â  Â  â”‚ Â â”‚ Â  Â  Â  Â â”‚ Â  Â  Â â”‚
â”‚ Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â–¼ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  â”‚ èšåˆæ’åº Â  Â  Â  Â  Â  Â  Â  Â â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  â”‚ â†’ æ³¨å…¥Â PromptÂ  Â  Â  Â  Â  â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  â”‚
â”‚ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ ¸å¿ƒèƒ½åŠ›</strong>ï¼š</p>
<ul>
<li><strong>ç»Ÿä¸€æ£€ç´¢æ¥å£ï¼š</strong> <code>SearchProvider</code>Â SPIï¼Œæ”¯æŒå¯æ’æ‹”æ•°æ®æº</li>
<li><strong>æ¼”ç¤º Providerï¼š</strong> å†…ç½®çŸ¥è¯†åº“ã€é¡¹ç›®ã€Web çš„ Mock å®ç°ï¼ˆä»…ä¾›æ¼”ç¤ºå’Œæµ‹è¯•ï¼‰</li>
<li><strong>è‡ªå®šä¹‰æ‰©å±•ï¼š</strong> é€šè¿‡å®ç° <code>SearchProvider</code>Â æ¥å£ï¼Œæ¥å…¥ä»»æ„æ•°æ®æºï¼ˆæ•°æ®åº“ã€å‘é‡åº“ã€APIï¼‰</li>
<li><strong>ç»“æœèšåˆï¼š</strong> æ”¯æŒå¯é…ç½®çš„æ’åºç­–ç•¥</li>
<li><strong>ä¸šåŠ¡ä»·å€¼ï¼š</strong> æ¥å…¥ä¼ä¸šçŸ¥è¯†åº“æä¾›å‡†ç¡®ç­”æ¡ˆã€æ”¯æŒç­”æ¡ˆæº¯æºã€é™ä½äººå·¥å®¢æœå‹åŠ›</li>
</ul>
<p><strong>é…ç½®ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
Â  <span class="hljs-attr">ai:</span>
Â  Â  <span class="hljs-attr">alibaba:</span>
Â  Â  Â  <span class="hljs-attr">codeact:</span>
Â  Â  Â  Â  <span class="hljs-attr">extension:</span>
Â  Â  Â  Â  Â Â <span class="hljs-attr">search:</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-string">enabled:</span>Â <span class="hljs-literal">true</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-string">knowledge-search-enabled:</span>Â <span class="hljs-literal">true</span>Â  Â <span class="hljs-comment"># çŸ¥è¯†åº“ï¼ˆé»˜è®¤ Mock å®ç°ï¼‰</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-string">project-search-enabled:</span>Â <span class="hljs-literal">false</span>Â  Â  <span class="hljs-comment"># é¡¹ç›®ä»£ç ï¼ˆé»˜è®¤ Mock å®ç°ï¼‰</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-string">web-search-enabled:</span>Â <span class="hljs-literal">false</span>Â  Â  Â  Â  <span class="hljs-comment"># Web æœç´¢ï¼ˆé»˜è®¤ Mock å®ç°ï¼‰</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">default-top-k:</span>Â <span class="hljs-number">5</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-string">search-timeout-ms:</span>Â <span class="hljs-number">5000</span>
</code></pre>
<p><em>ğŸ’¡ ä»¥ä¸Šæœç´¢åŠŸèƒ½é»˜è®¤æä¾› Mock å®ç°ä¾›æ¼”ç¤ºæµ‹è¯•ã€‚ç”Ÿäº§ç¯å¢ƒéœ€å®ç°Â <code>SearchProvider</code>Â SPI æ¥å…¥å®é™…æ•°æ®æºã€‚</em></p>
<p><strong>ğŸ™ è‡´è°¢ï¼š</strong></p>
<ul>
<li>
<p>Spring AI</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fspring-projects%2Fspring-ai" target="_blank" title="https://github.com/spring-projects/spring-ai" ref="nofollow noopener noreferrer">github.com/spring-projâ€¦</a></p>
</li>
<li>
<p>Spring AI Alibaba</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falibaba%2Fspring-ai-alibaba" target="_blank" title="https://github.com/alibaba/spring-ai-alibaba" ref="nofollow noopener noreferrer">github.com/alibaba/sprâ€¦</a></p>
</li>
<li>
<p>GraalVM</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.graalvm.org%2F" target="_blank" title="https://www.graalvm.org/" ref="nofollow noopener noreferrer">www.graalvm.org/</a></p>
</li>
</ul>
<p><strong>è”ç³»æ–¹å¼ï¼š</strong></p>
<ul>
<li>æœç´¢åŠ å…¥é’‰é’‰ç¾¤ï¼š130240015687</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç†”æ–­é™æµä»å…¥é—¨åˆ°å®æˆ˜ï¼šæ‰“é€ é«˜å¯ç”¨å¾®æœåŠ¡æ¶æ„]]></title>    <link>https://juejin.cn/post/7599094262592274442</link>    <guid>https://juejin.cn/post/7599094262592274442</guid>    <pubDate>2026-01-26T01:11:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599094262592274442" data-draft-id="7598737609494249491" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç†”æ–­é™æµä»å…¥é—¨åˆ°å®æˆ˜ï¼šæ‰“é€ é«˜å¯ç”¨å¾®æœåŠ¡æ¶æ„"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-26T01:11:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨ä¸­é£˜è¡çš„è®°å¿†"/> <meta itemprop="url" content="https://juejin.cn/user/694547077666606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç†”æ–­é™æµä»å…¥é—¨åˆ°å®æˆ˜ï¼šæ‰“é€ é«˜å¯ç”¨å¾®æœåŠ¡æ¶æ„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547077666606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨ä¸­é£˜è¡çš„è®°å¿†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T01:11:31.000Z" title="Mon Jan 26 2026 01:11:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç†”æ–­é™æµä»å…¥é—¨åˆ°å®æˆ˜ï¼šæ‰“é€ é«˜å¯ç”¨å¾®æœåŠ¡æ¶æ„</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63c1c5be139f4de8a607f3cf81b5802f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769994691&amp;x-signature=GZGCKLl8tb14Qk9udkXrPQhUOgk%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-1">ä¸€ã€ä¸ºä»€ä¹ˆéœ€è¦ç†”æ–­é™æµï¼Ÿ</h3>
<p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼ŒæœåŠ¡é—´çš„ä¾èµ–å…³ç³»æ—¥ç›Šå¤æ‚ã€‚å½“ä¸€ä¸ªæœåŠ¡å‡ºç°æ•…éšœæˆ–å“åº”è¿‡æ…¢æ—¶ï¼Œå¦‚æœä¸åŠæ—¶éš”ç¦»ï¼Œä¼šå¼•å‘"é›ªå´©æ•ˆåº”"ï¼Œå¯¼è‡´æ•´ä¸ªç³»ç»Ÿç˜«ç—ªã€‚</p>
<p><strong>çœŸå®æ¡ˆä¾‹</strong>ï¼šæŸç”µå•†ç³»ç»Ÿåœ¨å¤§ä¿ƒæœŸé—´ï¼Œæ¨èæœåŠ¡å› ä¸ºæ•°æ®åº“æ…¢æŸ¥è¯¢å¯¼è‡´å“åº”è¶…æ—¶ï¼Œè°ƒç”¨æ–¹æŒç»­é‡è¯•ï¼Œæœ€ç»ˆä½¿æ•´ä¸ªè®¢å•ç³»ç»Ÿå´©æºƒï¼Œé€ æˆæ•°ç™¾ä¸‡å…ƒæŸå¤±ã€‚</p>
<p>ç†”æ–­é™æµæ­£æ˜¯è§£å†³è¿™ç±»é—®é¢˜çš„æ ¸å¿ƒæ‰‹æ®µï¼š</p>
<ul>
<li><strong>ç†”æ–­ï¼ˆCircuit Breakerï¼‰</strong>ï¼šå½“æ£€æµ‹åˆ°ä¸‹æ¸¸æœåŠ¡æ•…éšœç‡è¾¾åˆ°é˜ˆå€¼æ—¶ï¼Œè‡ªåŠ¨åˆ‡æ–­è°ƒç”¨ï¼Œå¿«é€Ÿå¤±è´¥ï¼Œä¿æŠ¤ç³»ç»Ÿç¨³å®šæ€§</li>
<li><strong>é™æµï¼ˆRate Limitingï¼‰</strong>ï¼šæ§åˆ¶è¯·æ±‚é€Ÿç‡ï¼Œé˜²æ­¢ç³»ç»Ÿè¿‡è½½</li>
</ul>
<h3 data-id="heading-2">äºŒã€è‡ªå®šä¹‰å®ç°ç†”æ–­å™¨</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3149ab7547484bbda3d0e035a85d4101~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769994691&amp;x-signature=3nQfxjP6J5C7hPopTA9aCNC7bQg%3D" alt="" loading="lazy"/></p>
<p>è®©æˆ‘ä»¬ä»é›¶å¼€å§‹ï¼Œæ‰‹åŠ¨å®ç°ä¸€ä¸ªç®€å•çš„ç†”æ–­å™¨ï¼Œæ·±å…¥ç†è§£å…¶æ ¸å¿ƒåŸç†ã€‚</p>
<h4 data-id="heading-3">2.1 ç†”æ–­å™¨çŠ¶æ€æœº</h4>
<p>ç†”æ–­å™¨æœ‰ä¸‰ç§çŠ¶æ€ï¼š</p>
<ol>
<li><strong>å…³é—­ï¼ˆCLOSEDï¼‰</strong>ï¼šæ­£å¸¸çŠ¶æ€ï¼Œè¯·æ±‚æ­£å¸¸é€šè¿‡</li>
<li><strong>å¼€å¯ï¼ˆOPENï¼‰</strong>ï¼šç†”æ–­çŠ¶æ€ï¼Œç›´æ¥è¿”å›å¤±è´¥ï¼Œä¸è°ƒç”¨ä¸‹æ¸¸æœåŠ¡</li>
<li><strong>åŠå¼€ï¼ˆHALF_OPENï¼‰</strong>ï¼šå°è¯•æ¢å¤çŠ¶æ€ï¼Œå…è®¸å°‘é‡è¯·æ±‚é€šè¿‡æ¢æµ‹æœåŠ¡æ˜¯å¦æ¢å¤</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b85e4a1e2dd483b8918e05c2babb64b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769994691&amp;x-signature=rMCT5DfM8eVT%2B2dq8hlnDoGotu8%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-4">2.2 æ ¸å¿ƒä»£ç å®ç°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.circuitbreaker;

<span class="hljs-keyword">import</span> java.util.concurrent.atomic.AtomicInteger;
<span class="hljs-keyword">import</span> java.util.concurrent.atomic.AtomicReference;
<span class="hljs-keyword">import</span> java.util.concurrent.atomic.AtomicLong;

<span class="hljs-comment">/**
 * è‡ªå®šä¹‰ç†”æ–­å™¨å®ç°
 *
 * <span class="hljs-doctag">@author</span> æ¶æ„å¸ˆ
 * <span class="hljs-doctag">@version</span> 1.0.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CircuitBreaker</span> {

    <span class="hljs-comment">// ç†”æ–­å™¨çŠ¶æ€æšä¸¾</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">State</span> {
        CLOSED,    <span class="hljs-comment">// å…³é—­çŠ¶æ€ - æ­£å¸¸</span>
        OPEN,      <span class="hljs-comment">// å¼€å¯çŠ¶æ€ - ç†”æ–­</span>
        HALF_OPEN  <span class="hljs-comment">// åŠå¼€çŠ¶æ€ - å°è¯•æ¢å¤</span>
    }

    <span class="hljs-comment">// é…ç½®å‚æ•°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> failureThreshold;      <span class="hljs-comment">// å¤±è´¥é˜ˆå€¼</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> timeoutMillis;        <span class="hljs-comment">// è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> halfOpenWaitMillis;   <span class="hljs-comment">// åŠå¼€çŠ¶æ€ç­‰å¾…æ—¶é—´</span>

    <span class="hljs-comment">// çŠ¶æ€å˜é‡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> AtomicReference&lt;State&gt; state = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicReference</span>&lt;&gt;(State.CLOSED);
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">failureCount</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(<span class="hljs-number">0</span>);
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">AtomicLong</span> <span class="hljs-variable">lastFailureTime</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicLong</span>(<span class="hljs-number">0</span>);
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">AtomicLong</span> <span class="hljs-variable">nextAttemptTime</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicLong</span>(<span class="hljs-number">0</span>);

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CircuitBreaker</span><span class="hljs-params">(<span class="hljs-type">int</span> failureThreshold, <span class="hljs-type">long</span> timeoutMillis, <span class="hljs-type">long</span> halfOpenWaitMillis)</span> {
        <span class="hljs-built_in">this</span>.failureThreshold = failureThreshold;
        <span class="hljs-built_in">this</span>.timeoutMillis = timeoutMillis;
        <span class="hljs-built_in">this</span>.halfOpenWaitMillis = halfOpenWaitMillis;
    }

    <span class="hljs-comment">/**
     * æ‰§è¡Œè¯·æ±‚ï¼Œå¸¦ç†”æ–­ä¿æŠ¤
     */</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">execute</span><span class="hljs-params">(Supplier&lt;T&gt; supplier, Supplier&lt;T&gt; fallback)</span> {
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å¯ä»¥æ‰§è¡Œè¯·æ±‚</span>
        <span class="hljs-keyword">if</span> (!allowRequest()) {
            <span class="hljs-keyword">return</span> fallback.get();
        }

        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">T</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> supplier.get();
            <span class="hljs-comment">// è®°å½•æˆåŠŸ</span>
            onSuccess();
            <span class="hljs-keyword">return</span> result;
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// è®°å½•å¤±è´¥</span>
            onFailure(startTime);
            <span class="hljs-keyword">return</span> fallback.get();
        }
    }

    <span class="hljs-comment">/**
     * åˆ¤æ–­æ˜¯å¦å…è®¸è¯·æ±‚é€šè¿‡
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">allowRequest</span><span class="hljs-params">()</span> {
        <span class="hljs-type">State</span> <span class="hljs-variable">currentState</span> <span class="hljs-operator">=</span> state.get();

        <span class="hljs-keyword">switch</span> (currentState) {
            <span class="hljs-keyword">case</span> CLOSED:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;

            <span class="hljs-keyword">case</span> OPEN:
                <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å¯ä»¥å°è¯•åŠå¼€</span>
                <span class="hljs-keyword">if</span> (System.currentTimeMillis() &gt;= nextAttemptTime.get()) {
                    <span class="hljs-keyword">if</span> (state.compareAndSet(State.OPEN, State.HALF_OPEN)) {
                        System.out.println(<span class="hljs-string">"ç†”æ–­å™¨è¿›å…¥åŠå¼€çŠ¶æ€ï¼Œå°è¯•æ¢å¤..."</span>);
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                    }
                }
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

            <span class="hljs-keyword">case</span> HALF_OPEN:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;

            <span class="hljs-keyword">default</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    }

    <span class="hljs-comment">/**
     * å¤„ç†æˆåŠŸè°ƒç”¨
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">()</span> {
        failureCount.set(<span class="hljs-number">0</span>);

        <span class="hljs-keyword">if</span> (state.get() == State.HALF_OPEN) {
            <span class="hljs-keyword">if</span> (state.compareAndSet(State.HALF_OPEN, State.CLOSED)) {
                System.out.println(<span class="hljs-string">"æœåŠ¡å·²æ¢å¤ï¼Œç†”æ–­å™¨å…³é—­"</span>);
            }
        }
    }

    <span class="hljs-comment">/**
     * å¤„ç†å¤±è´¥è°ƒç”¨
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFailure</span><span class="hljs-params">(<span class="hljs-type">long</span> startTime)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">currentFailures</span> <span class="hljs-operator">=</span> failureCount.incrementAndGet();
        lastFailureTime.set(System.currentTimeMillis());

        <span class="hljs-comment">// è¶…æ—¶ä¹Ÿç®—å¤±è´¥</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - startTime;
        <span class="hljs-keyword">if</span> (duration &gt; timeoutMillis) {
            System.out.println(<span class="hljs-string">"è¯·æ±‚è¶…æ—¶: "</span> + duration + <span class="hljs-string">"ms"</span>);
        }

        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦ç†”æ–­</span>
        <span class="hljs-keyword">if</span> (currentFailures &gt;= failureThreshold) {
            <span class="hljs-keyword">if</span> (state.compareAndSet(State.CLOSED, State.OPEN) ||
                state.compareAndSet(State.HALF_OPEN, State.OPEN)) {

                <span class="hljs-type">long</span> <span class="hljs-variable">waitTime</span> <span class="hljs-operator">=</span> halfOpenWaitMillis;
                nextAttemptTime.set(System.currentTimeMillis() + waitTime);

                System.out.println(<span class="hljs-string">"å¤±è´¥æ¬¡æ•°è¾¾åˆ°é˜ˆå€¼ "</span> + failureThreshold + <span class="hljs-string">"ï¼Œç†”æ–­å™¨å¼€å¯ï¼Œç­‰å¾… "</span> +
                                 waitTime + <span class="hljs-string">"ms åå°è¯•æ¢å¤"</span>);
            }
        }
    }

    <span class="hljs-keyword">public</span> State <span class="hljs-title function_">getState</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> state.get();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getFailureCount</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> failureCount.get();
    }

    <span class="hljs-meta">@FunctionalInterface</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Supplier</span>&lt;T&gt; {
        T <span class="hljs-title function_">get</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception;
    }
}
</code></pre>
<h4 data-id="heading-5">2.3 ä½¿ç”¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.circuitbreaker;

<span class="hljs-comment">/**
 * ç†”æ–­å™¨ä½¿ç”¨ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CircuitBreakerExample</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºç†”æ–­å™¨ï¼š3æ¬¡å¤±è´¥åç†”æ–­ï¼Œè¶…æ—¶2ç§’ï¼ŒåŠå¼€ç­‰å¾…5ç§’</span>
        <span class="hljs-type">CircuitBreaker</span> <span class="hljs-variable">breaker</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CircuitBreaker</span>(<span class="hljs-number">3</span>, <span class="hljs-number">2000</span>, <span class="hljs-number">5000</span>);

        <span class="hljs-comment">// æ¨¡æ‹Ÿè¿œç¨‹æœåŠ¡è°ƒç”¨</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">20</span>; i++) {
            <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> breaker.execute(
                () -&gt; {
                    <span class="hljs-comment">// æ¨¡æ‹Ÿè¿œç¨‹è°ƒç”¨</span>
                    <span class="hljs-keyword">if</span> (Math.random() &lt; <span class="hljs-number">0.4</span>) {
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æœåŠ¡å¼‚å¸¸"</span>);
                    }
                    <span class="hljs-keyword">return</span> <span class="hljs-string">"è°ƒç”¨æˆåŠŸ"</span>;
                },
                () -&gt; {
                    <span class="hljs-keyword">return</span> <span class="hljs-string">"é™çº§å¤„ç†"</span>;
                }
            );

            System.out.println(<span class="hljs-string">"ç¬¬"</span> + (i + <span class="hljs-number">1</span>) + <span class="hljs-string">"æ¬¡è°ƒç”¨: "</span> + result +
                             <span class="hljs-string">", ç†”æ–­å™¨çŠ¶æ€: "</span> + breaker.getState() +
                             <span class="hljs-string">", å¤±è´¥æ¬¡æ•°: "</span> + breaker.getFailureCount());

            <span class="hljs-keyword">try</span> {
                Thread.sleep(<span class="hljs-number">500</span>);
            } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                Thread.currentThread().interrupt();
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-6">ä¸‰ã€è‡ªå®šä¹‰é™æµå™¨</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93a8f8beaea647cd8f5ba7c5b40e145b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769994691&amp;x-signature=Jspj18AsYluORilW%2FAYqlbHm1%2Bk%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-7">3.1 æ»‘åŠ¨çª—å£ç®—æ³•</h4>
<p>æ»‘åŠ¨çª—å£ç®—æ³•å¯ä»¥æ›´ç²¾ç¡®åœ°æ§åˆ¶è¯·æ±‚é€Ÿç‡ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11d718587c7b43ceb4d91f18c71e59d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769994691&amp;x-signature=ZmDLLdPm0A4jP7UD6QisedOiFMM%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.ratelimiter;

<span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentLinkedQueue;
<span class="hljs-keyword">import</span> java.util.concurrent.atomic.AtomicInteger;

<span class="hljs-comment">/**
 * æ»‘åŠ¨çª—å£é™æµå™¨
 *
 * <span class="hljs-doctag">@author</span> æ¶æ„å¸ˆ
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SlidingWindowRateLimiter</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> maxRequests;        <span class="hljs-comment">// çª—å£å†…æœ€å¤§è¯·æ±‚æ•°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> windowSizeMillis;   <span class="hljs-comment">// çª—å£å¤§å°ï¼ˆæ¯«ç§’ï¼‰</span>

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentLinkedQueue&lt;Long&gt; requestTimestamps = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentLinkedQueue</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">AtomicInteger</span> <span class="hljs-variable">currentCount</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicInteger</span>(<span class="hljs-number">0</span>);

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">SlidingWindowRateLimiter</span><span class="hljs-params">(<span class="hljs-type">int</span> maxRequests, <span class="hljs-type">long</span> windowSizeMillis)</span> {
        <span class="hljs-built_in">this</span>.maxRequests = maxRequests;
        <span class="hljs-built_in">this</span>.windowSizeMillis = windowSizeMillis;
    }

    <span class="hljs-comment">/**
     * å°è¯•è·å–è¯·æ±‚è®¸å¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryAcquire</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">currentTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">long</span> <span class="hljs-variable">windowStart</span> <span class="hljs-operator">=</span> currentTime - windowSizeMillis;

        <span class="hljs-comment">// æ¸…ç†çª—å£å¤–çš„æ—§è®°å½•</span>
        <span class="hljs-keyword">while</span> (!requestTimestamps.isEmpty() &amp;&amp; requestTimestamps.peek() &lt; windowStart) {
            requestTimestamps.poll();
            currentCount.decrementAndGet();
        }

        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å…è®¸æ–°è¯·æ±‚</span>
        <span class="hljs-keyword">if</span> (currentCount.get() &lt; maxRequests) {
            requestTimestamps.offer(currentTime);
            currentCount.incrementAndGet();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getCurrentCount</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> currentCount.get();
    }
}
</code></pre>
<h4 data-id="heading-8">3.2 ä»¤ç‰Œæ¡¶ç®—æ³•</h4>
<p>ä»¤ç‰Œæ¡¶ç®—æ³•å¯ä»¥åº”å¯¹çªå‘æµé‡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.ratelimiter;

<span class="hljs-keyword">import</span> java.util.concurrent.atomic.AtomicLong;

<span class="hljs-comment">/**
 * ä»¤ç‰Œæ¡¶é™æµå™¨
 *
 * <span class="hljs-doctag">@author</span> æ¶æ„å¸ˆ
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TokenBucketRateLimiter</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> capacity;           <span class="hljs-comment">// æ¡¶å®¹é‡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> refillRate;         <span class="hljs-comment">// ä»¤ç‰Œå¡«å……é€Ÿç‡ï¼ˆæ¯ç§’ï¼‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> AtomicLong tokens;        <span class="hljs-comment">// å½“å‰ä»¤ç‰Œæ•°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> AtomicLong lastRefillTime; <span class="hljs-comment">// ä¸Šæ¬¡å¡«å……æ—¶é—´</span>

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TokenBucketRateLimiter</span><span class="hljs-params">(<span class="hljs-type">long</span> capacity, <span class="hljs-type">long</span> refillRate)</span> {
        <span class="hljs-built_in">this</span>.capacity = capacity;
        <span class="hljs-built_in">this</span>.refillRate = refillRate;
        <span class="hljs-built_in">this</span>.tokens = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicLong</span>(capacity);
        <span class="hljs-built_in">this</span>.lastRefillTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicLong</span>(System.currentTimeMillis());
    }

    <span class="hljs-comment">/**
     * å°è¯•æ¶ˆè´¹ä»¤ç‰Œ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryAcquire</span><span class="hljs-params">(<span class="hljs-type">int</span> <span class="hljs-keyword">permits</span>)</span> {
        refillTokens();

        <span class="hljs-type">long</span> <span class="hljs-variable">currentTokens</span> <span class="hljs-operator">=</span> tokens.get();
        <span class="hljs-keyword">if</span> (currentTokens &gt;= <span class="hljs-keyword">permits</span>) {
            tokens.addAndGet(-<span class="hljs-keyword">permits</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }

        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }

    <span class="hljs-comment">/**
     * å¡«å……ä»¤ç‰Œ
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">refillTokens</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">now</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-type">long</span> <span class="hljs-variable">lastRefill</span> <span class="hljs-operator">=</span> lastRefillTime.get();
        <span class="hljs-type">long</span> <span class="hljs-variable">elapsedMillis</span> <span class="hljs-operator">=</span> now - lastRefill;

        <span class="hljs-keyword">if</span> (elapsedMillis &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-type">long</span> <span class="hljs-variable">tokensToAdd</span> <span class="hljs-operator">=</span> (elapsedMillis * refillRate) / <span class="hljs-number">1000</span>;

            <span class="hljs-keyword">if</span> (tokensToAdd &gt; <span class="hljs-number">0</span>) {
                <span class="hljs-type">long</span> <span class="hljs-variable">newTokens</span> <span class="hljs-operator">=</span> Math.min(capacity, tokens.get() + tokensToAdd);
                tokens.set(newTokens);
                lastRefillTime.set(now);
            }
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getAvailableTokens</span><span class="hljs-params">()</span> {
        refillTokens();
        <span class="hljs-keyword">return</span> tokens.get();
    }
}
</code></pre>
<h3 data-id="heading-9">å››ã€ç”Ÿäº§çº§è§£å†³æ–¹æ¡ˆï¼šResilience4j</h3>
<p>è‡ªå®šä¹‰å®ç°é€‚åˆå­¦ä¹ åŸç†ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬æ¨èä½¿ç”¨æˆç†Ÿçš„å¼€æºæ¡†æ¶ã€‚Resilience4jæ˜¯Javaé¢†åŸŸæœ€æµè¡Œçš„å®¹é”™åº“ã€‚</p>
<h4 data-id="heading-10">4.1 Resilience4jæ ¸å¿ƒæ¨¡å—</h4>
<p>Resilience4jæä¾›å¤šä¸ªæ¨¡å—ï¼Œå„å¸å…¶èŒï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c5d4f26ed7140aaabebc1b17845e41d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769994691&amp;x-signature=i8mYmTectgyeLApmb2VG0zUXcbY%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>Circuit Breaker</strong>ï¼šç†”æ–­å™¨</li>
<li><strong>Rate Limiter</strong>ï¼šé™æµå™¨</li>
<li><strong>Retry</strong>ï¼šé‡è¯•æœºåˆ¶</li>
<li><strong>Timeout</strong>ï¼šè¶…æ—¶æ§åˆ¶</li>
<li><strong>Bulkhead</strong>ï¼šèˆ±å£éš”ç¦»ï¼ˆé™åˆ¶å¹¶å‘æ•°ï¼‰</li>
<li><strong>Cache</strong>ï¼šç»“æœç¼“å­˜</li>
</ul>
<h4 data-id="heading-11">4.2 å¿«é€Ÿé›†æˆ</h4>
<p><strong>Mavenä¾èµ–</strong>ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.github.resilience4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>resilience4j-spring-boot2<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.github.resilience4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>resilience4j-circuitbreaker<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.github.resilience4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>resilience4j-ratelimiter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.github.resilience4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>resilience4j-retry<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.github.resilience4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>resilience4j-bulkhead<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>é…ç½®æ–‡ä»¶</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">resilience4j:</span>
  <span class="hljs-attr">circuitbreaker:</span>
    <span class="hljs-attr">configs:</span>
      <span class="hljs-attr">default:</span>
        <span class="hljs-attr">failure-rate-threshold:</span> <span class="hljs-number">50</span>              <span class="hljs-comment"># å¤±è´¥ç‡é˜ˆå€¼50%</span>
        <span class="hljs-attr">wait-duration-in-open-state:</span> <span class="hljs-string">10s</span>       <span class="hljs-comment"># ç†”æ–­å¼€å¯ç­‰å¾…æ—¶é—´</span>
        <span class="hljs-attr">sliding-window-size:</span> <span class="hljs-number">10</span>                <span class="hljs-comment"># æ»‘åŠ¨çª—å£å¤§å°</span>
        <span class="hljs-attr">minimum-number-of-calls:</span> <span class="hljs-number">5</span>             <span class="hljs-comment"># æœ€å°è°ƒç”¨æ¬¡æ•°</span>
        <span class="hljs-attr">permitted-number-of-calls-in-half-open-state:</span> <span class="hljs-number">3</span>  <span class="hljs-comment"># åŠå¼€çŠ¶æ€å…è®¸è°ƒç”¨æ¬¡æ•°</span>

    <span class="hljs-attr">instances:</span>
      <span class="hljs-attr">remoteService:</span>
        <span class="hljs-attr">base-config:</span> <span class="hljs-string">default</span>

  <span class="hljs-attr">ratelimiter:</span>
    <span class="hljs-attr">configs:</span>
      <span class="hljs-attr">default:</span>
        <span class="hljs-attr">limit-refresh-period:</span> <span class="hljs-string">1s</span>               <span class="hljs-comment"># é™æµå‘¨æœŸ</span>
        <span class="hljs-attr">limit-for-period:</span> <span class="hljs-number">100</span>                  <span class="hljs-comment"># æ¯å‘¨æœŸå…è®¸è¯·æ±‚æ•°</span>
        <span class="hljs-attr">register-health-indicator:</span> <span class="hljs-literal">true</span>

    <span class="hljs-attr">instances:</span>
      <span class="hljs-attr">remoteService:</span>
        <span class="hljs-attr">base-config:</span> <span class="hljs-string">default</span>

  <span class="hljs-attr">retry:</span>
    <span class="hljs-attr">configs:</span>
      <span class="hljs-attr">default:</span>
        <span class="hljs-attr">max-attempts:</span> <span class="hljs-number">3</span>                        <span class="hljs-comment"># æœ€å¤§é‡è¯•æ¬¡æ•°</span>
        <span class="hljs-attr">wait-duration:</span> <span class="hljs-string">500ms</span>                   <span class="hljs-comment"># é‡è¯•ç­‰å¾…æ—¶é—´</span>
        <span class="hljs-attr">retry-exceptions:</span>
          <span class="hljs-bullet">-</span> <span class="hljs-string">java.lang.RuntimeException</span>

  <span class="hljs-attr">bulkhead:</span>
    <span class="hljs-attr">configs:</span>
      <span class="hljs-attr">default:</span>
        <span class="hljs-attr">max-concurrent-calls:</span> <span class="hljs-number">50</span>               <span class="hljs-comment"># æœ€å¤§å¹¶å‘è°ƒç”¨æ•°</span>
        <span class="hljs-attr">max-wait-duration:</span> <span class="hljs-string">0s</span>                  <span class="hljs-comment"># æœ€å¤§ç­‰å¾…æ—¶é—´</span>
</code></pre>
<h4 data-id="heading-12">4.3 ä»£ç å®ç°</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.resilience;

<span class="hljs-keyword">import</span> io.github.resilience4j.circuitbreaker.annotation.CircuitBreaker;
<span class="hljs-keyword">import</span> io.github.resilience4j.ratelimiter.annotation.RateLimiter;
<span class="hljs-keyword">import</span> io.github.resilience4j.retry.annotation.Retry;
<span class="hljs-keyword">import</span> io.github.resilience4j.bulkhead.annotation.Bulkhead;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;

<span class="hljs-keyword">import</span> java.util.Random;

<span class="hljs-comment">/**
 * è¿œç¨‹æœåŠ¡ä»£ç†ç±» - ä½¿ç”¨Resilience4jå¢å¼º
 *
 * <span class="hljs-doctag">@author</span> æ¶æ„å¸ˆ
 */</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RemoteServiceProxy</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Random</span> <span class="hljs-variable">random</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Random</span>();

    <span class="hljs-comment">/**
     * è°ƒç”¨è¿œç¨‹æœåŠ¡ - ç»„åˆä½¿ç”¨å¤šç§å®¹é”™æœºåˆ¶
     */</span>
    <span class="hljs-meta">@CircuitBreaker(name = "remoteService", fallbackMethod = "fallback")</span>
    <span class="hljs-meta">@RateLimiter(name = "remoteService")</span>
    <span class="hljs-meta">@Retry(name = "remoteService")</span>
    <span class="hljs-meta">@Bulkhead(name = "remoteService", type = Bulkhead.Type.THREADPOOL)</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">callRemoteService</span><span class="hljs-params">(String request)</span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿè¿œç¨‹æœåŠ¡è°ƒç”¨</span>
        simulateRemoteCall();
        <span class="hljs-keyword">return</span> <span class="hljs-string">"æœåŠ¡å“åº”: "</span> + request;
    }

    <span class="hljs-comment">/**
     * é™çº§æ–¹æ³•
     */</span>
    <span class="hljs-keyword">private</span> String <span class="hljs-title function_">fallback</span><span class="hljs-params">(String request, Exception exception)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"[é™çº§] æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åå†è¯•"</span>;
    }

    <span class="hljs-comment">/**
     * æ¨¡æ‹Ÿè¿œç¨‹è°ƒç”¨ï¼ˆå¯èƒ½å¤±è´¥ï¼‰
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">simulateRemoteCall</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// 30%æ¦‚ç‡å¤±è´¥</span>
        <span class="hljs-keyword">if</span> (random.nextInt(<span class="hljs-number">10</span>) &lt; <span class="hljs-number">3</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æœåŠ¡è°ƒç”¨å¤±è´¥"</span>);
        }

        <span class="hljs-comment">// æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ</span>
        <span class="hljs-keyword">try</span> {
            Thread.sleep(<span class="hljs-number">50</span> + random.nextInt(<span class="hljs-number">100</span>));
        } <span class="hljs-keyword">catch</span> (InterruptedException e) {
            Thread.currentThread().interrupt();
        }
    }
}
</code></pre>
<h4 data-id="heading-13">4.4 æ§åˆ¶å™¨å±‚</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.controller;

<span class="hljs-keyword">import</span> com.example.resilience.RemoteServiceProxy;
<span class="hljs-keyword">import</span> io.github.resilience4j.circuitbreaker.CircuitBreakerRegistry;
<span class="hljs-keyword">import</span> io.github.resilience4j.circuitbreaker.CircuitBreaker;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;

<span class="hljs-comment">/**
 * APIæ§åˆ¶å™¨
 *
 * <span class="hljs-doctag">@author</span> æ¶æ„å¸ˆ
 */</span>
<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/api")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiController</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RemoteServiceProxy remoteService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> CircuitBreakerRegistry circuitBreakerRegistry;

    <span class="hljs-meta">@GetMapping("/call/{request}")</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">callService</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> String request)</span> {
        <span class="hljs-keyword">return</span> remoteService.callRemoteService(request);
    }

    <span class="hljs-meta">@GetMapping("/circuit-breaker/state")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">getCircuitBreakerState</span><span class="hljs-params">()</span> {
        <span class="hljs-type">CircuitBreaker</span> <span class="hljs-variable">circuitBreaker</span> <span class="hljs-operator">=</span> circuitBreakerRegistry
            .circuitBreaker(<span class="hljs-string">"remoteService"</span>);

        <span class="hljs-keyword">return</span> java.util.Collections.singletonMap(<span class="hljs-string">"state"</span>,
            circuitBreaker.getState().name());
    }
}
</code></pre>
<h3 data-id="heading-14">äº”ã€ç”Ÿäº§ç¯å¢ƒå®æˆ˜</h3>
<h4 data-id="heading-15">5.1 ç³»ç»Ÿæ¶æ„</h4>
<p>åœ¨é«˜å¹¶å‘ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨å¤šå±‚é˜²æŠ¤ç­–ç•¥ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/023c6bc207d540fe86c8b6058e6aae26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769994691&amp;x-signature=7y17rOPZIbaOyZf8lU9rqF82Ik4%3D" alt="" loading="lazy"/></p>
<ol>
<li><strong>ç½‘å…³å±‚é™æµ</strong>ï¼šåŸºäºIPã€APIè·¯å¾„çš„å…¨å±€é™æµ</li>
<li><strong>åº”ç”¨å±‚ç†”æ–­</strong>ï¼šé’ˆå¯¹æ¯ä¸ªä¸‹æ¸¸æœåŠ¡çš„ç†”æ–­ä¿æŠ¤</li>
<li><strong>æ•°æ®åº“å±‚è¿æ¥æ± </strong>ï¼šé™åˆ¶æ•°æ®åº“å¹¶å‘è¿æ¥æ•°</li>
</ol>
<h4 data-id="heading-16">5.2 å…¸å‹åº”ç”¨åœºæ™¯</h4>
<p><strong>åœºæ™¯1ï¼šç¬¬ä¸‰æ–¹APIè°ƒç”¨</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentService</span> {

    <span class="hljs-meta">@CircuitBreaker(
        name = "paymentGateway",
        fallbackMethod = "localPaymentQueue"
    )</span>
    <span class="hljs-meta">@RateLimiter(name = "paymentGateway")</span>
    <span class="hljs-keyword">public</span> PaymentResult <span class="hljs-title function_">processPayment</span><span class="hljs-params">(PaymentRequest request)</span> {
        <span class="hljs-comment">// è°ƒç”¨ç¬¬ä¸‰æ–¹æ”¯ä»˜ç½‘å…³</span>
        <span class="hljs-keyword">return</span> paymentGatewayClient.charge(request);
    }

    <span class="hljs-keyword">private</span> PaymentResult <span class="hljs-title function_">localPaymentQueue</span><span class="hljs-params">(PaymentRequest request, Exception ex)</span> {
        <span class="hljs-comment">// é™çº§ï¼šå†™å…¥æœ¬åœ°é˜Ÿåˆ—ï¼Œç¨åé‡è¯•</span>
        paymentQueueService.enqueue(request);
        <span class="hljs-keyword">return</span> PaymentResult.pending();
    }
}
</code></pre>
<p><strong>åœºæ™¯2ï¼šæ•°æ®åº“æŸ¥è¯¢ä¿æŠ¤</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {

    <span class="hljs-meta">@Bulkhead(name = "databaseQuery", maxConcurrentCalls = 10)</span>
    <span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">getUsersByIds</span><span class="hljs-params">(List&lt;Long&gt; ids)</span> {
        <span class="hljs-comment">// é™åˆ¶æ•°æ®åº“å¹¶å‘æŸ¥è¯¢æ•°</span>
        <span class="hljs-keyword">return</span> userRepository.findAllById(ids);
    }
}
</code></pre>
<p><strong>åœºæ™¯3ï¼šç¼“å­˜ç©¿é€ä¿æŠ¤</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductService</span> {

    <span class="hljs-meta">@CircuitBreaker(name = "productSearch", fallbackMethod = "searchFromCache")</span>
    <span class="hljs-meta">@Cacheable(value = "products", key = "#keyword")</span>
    <span class="hljs-keyword">public</span> List&lt;Product&gt; <span class="hljs-title function_">searchProducts</span><span class="hljs-params">(String keyword)</span> {
        <span class="hljs-keyword">return</span> productRepository.search(keyword);
    }

    <span class="hljs-keyword">private</span> List&lt;Product&gt; <span class="hljs-title function_">searchFromCache</span><span class="hljs-params">(String keyword, Exception ex)</span> {
        <span class="hljs-comment">// ä»ç¼“å­˜æˆ–ESä¸­æœç´¢</span>
        <span class="hljs-keyword">return</span> productCacheService.search(keyword);
    }
}
</code></pre>
<h4 data-id="heading-17">5.3 åˆ†å¸ƒå¼é™æµ</h4>
<p>åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œéœ€è¦å®ç°åˆ†å¸ƒå¼é™æµï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DistributedRateLimiter</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> RedisTemplate&lt;String, String&gt; redisTemplate;

    <span class="hljs-comment">/**
     * åŸºäºRedisçš„åˆ†å¸ƒå¼é™æµ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">tryAcquire</span><span class="hljs-params">(String key, <span class="hljs-type">int</span> limit, <span class="hljs-type">int</span> windowSeconds)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">redisKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"rate:limit:"</span> + key;

        <span class="hljs-comment">// Luaè„šæœ¬ä¿è¯åŸå­æ€§</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">luaScript</span> <span class="hljs-operator">=</span>
            <span class="hljs-string">"local current = redis.call('get', KEYS[1]) "</span> +
            <span class="hljs-string">"if current == false then "</span> +
            <span class="hljs-string">"    redis.call('set', KEYS[1], 1) "</span> +
            <span class="hljs-string">"    redis.call('expire', KEYS[1], ARGV[1]) "</span> +
            <span class="hljs-string">"    return 1 "</span> +
            <span class="hljs-string">"elseif tonumber(current) &lt; tonumber(ARGV[2]) then "</span> +
            <span class="hljs-string">"    return redis.call('incr', KEYS[1]) "</span> +
            <span class="hljs-string">"else "</span> +
            <span class="hljs-string">"    return 0 "</span> +
            <span class="hljs-string">"end"</span>;

        DefaultRedisScript&lt;Long&gt; script = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultRedisScript</span>&lt;&gt;(luaScript, Long.class);
        <span class="hljs-type">Long</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> redisTemplate.execute(script,
            Collections.singletonList(redisKey),
            String.valueOf(windowSeconds),
            String.valueOf(limit));

        <span class="hljs-keyword">return</span> result != <span class="hljs-literal">null</span> &amp;&amp; result == <span class="hljs-number">1L</span>;
    }
}
</code></pre>
<h3 data-id="heading-18">å…­ã€æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-19">6.1 é…ç½®åŸåˆ™</h4>
<ol>
<li><strong>å¤±è´¥ç‡é˜ˆå€¼</strong>ï¼šå»ºè®®è®¾ç½®ä¸º50%ï¼Œé¿å…è¿‡äºæ•æ„Ÿ</li>
<li><strong>ç†”æ–­ç­‰å¾…æ—¶é—´</strong>ï¼šæ ¹æ®æœåŠ¡æ¢å¤æ—¶é—´è®¾ç½®ï¼Œä¸€èˆ¬10-30ç§’</li>
<li><strong>åŠå¼€çŠ¶æ€è¯·æ±‚æ•°</strong>ï¼šå»ºè®®3-5ä¸ªï¼Œé¿å…è¿‡å¤šè¯·æ±‚å†²å‡»</li>
</ol>
<h4 data-id="heading-20">6.2 å¸¸è§é™·é˜±</h4>
<p><strong>é”™è¯¯åšæ³•1</strong>ï¼šæ‰€æœ‰æœåŠ¡ä½¿ç”¨ç»Ÿä¸€é…ç½®</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸æ¨èï¼šä¸€åˆ€åˆ‡</span>
<span class="hljs-meta">@CircuitBreaker(name = "default")</span>  <span class="hljs-comment">// æ‰€æœ‰æœåŠ¡ç”¨åŒä¸€é…ç½®</span>
</code></pre>
<p>âœ… <strong>æ­£ç¡®åšæ³•</strong>ï¼šé’ˆå¯¹ä¸åŒæœåŠ¡ç‰¹ç‚¹é…ç½®</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ¨èï¼šä¸ªæ€§åŒ–é…ç½®</span>
<span class="hljs-meta">@CircuitBreaker(name = "criticalService")</span>  <span class="hljs-comment">// æ ¸å¿ƒæœåŠ¡</span>
<span class="hljs-meta">@CircuitBreaker(name = "normalService")</span>   <span class="hljs-comment">// æ™®é€šæœåŠ¡</span>
</code></pre>
<p><strong>é”™è¯¯åšæ³•2</strong>ï¼šé™çº§é€»è¾‘æŠ›å¼‚å¸¸</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸æ¨èï¼šé™çº§ä¸­æŠ›å¼‚å¸¸</span>
<span class="hljs-keyword">private</span> String <span class="hljs-title function_">fallback</span><span class="hljs-params">(String req, Exception ex)</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"é™çº§å¤±è´¥"</span>); 
}
</code></pre>
<p>âœ… <strong>æ­£ç¡®åšæ³•</strong>ï¼šé™çº§è¿”å›å®‰å…¨å€¼</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ¨èï¼šè¿”å›é»˜è®¤å€¼æˆ–ç¼“å­˜å€¼</span>
<span class="hljs-keyword">private</span> String <span class="hljs-title function_">fallback</span><span class="hljs-params">(String req, Exception ex)</span> {
    <span class="hljs-keyword">return</span> getCachedValue(req); 
}
</code></pre>
<h3 data-id="heading-21">ä¸ƒã€æ€»ç»“</h3>
<p>ç†”æ–­é™æµæ˜¯ä¿éšœå¾®æœåŠ¡é«˜å¯ç”¨çš„æ ¸å¿ƒæ‰‹æ®µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[FileCodeBoxï¼šè½»é‡çº§æ–‡ä»¶å¿«é€’æŸœï¼Œè®©æ–‡ä»¶åˆ†äº«åƒå–å¿«é€’ä¸€æ ·ç®€å•]]></title>    <link>https://juejin.cn/post/7598710324167868431</link>    <guid>https://juejin.cn/post/7598710324167868431</guid>    <pubDate>2026-01-26T01:02:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598710324167868431" data-draft-id="7538085027172237327" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="FileCodeBoxï¼šè½»é‡çº§æ–‡ä»¶å¿«é€’æŸœï¼Œè®©æ–‡ä»¶åˆ†äº«åƒå–å¿«é€’ä¸€æ ·ç®€å•"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-26T01:02:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="YL_jia"/> <meta itemprop="url" content="https://juejin.cn/user/1467226241383211"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            FileCodeBoxï¼šè½»é‡çº§æ–‡ä»¶å¿«é€’æŸœï¼Œè®©æ–‡ä»¶åˆ†äº«åƒå–å¿«é€’ä¸€æ ·ç®€å•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1467226241383211/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    YL_jia
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T01:02:32.000Z" title="Mon Jan 26 2026 01:02:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    24
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">FileCodeBoxï¼šè½»é‡çº§æ–‡ä»¶å¿«é€’æŸœï¼Œè®©æ–‡ä»¶åˆ†äº«åƒå–å¿«é€’ä¸€æ ·ç®€å•</h2>
<blockquote>
<p><strong>â€œåœ¨éšç§ç„¦è™‘çš„æ—¶ä»£ï¼ŒFileCodeBoxç”¨åŒ¿åå£ä»¤æ¶èµ·äº†å®‰å…¨ä¸ä¾¿æ·çš„æ¡¥æ¢â€</strong>â€”â€”ä¸€ä½ä»ä¼ ç»Ÿç½‘ç›˜è¿ç§»çš„DevOpså·¥ç¨‹å¸ˆå¦‚æ­¤è¯„ä»·</p>
</blockquote>
<p>å½“æˆ‘ä»¬è¿˜åœ¨ä¸ºå¾®ä¿¡æ–‡ä»¶è¿‡æœŸã€ç½‘ç›˜é™é€Ÿã€FTPé…ç½®å¤æ‚è€Œçƒ¦æ¼æ—¶ï¼Œä¸€æ¬¾åŸºäº<strong>FastAPI+Vue3</strong>å¼€å‘çš„è½»é‡çº§å·¥å…·â€”â€”FileCodeBoxæ­£ä»¥â€œæ–‡ä»¶å¿«é€’æŸœâ€çš„ç†å¿µé‡å¡‘æ–‡ä»¶å…±äº«ä½“éªŒã€‚å®ƒå…è®¸ç”¨æˆ·é€šè¿‡åŒ¿åå£ä»¤åˆ†äº«æ–‡ä»¶ï¼Œæ¥æ”¶æ–¹å‡­å–ä»¶ç è·å–å†…å®¹ï¼Œ<strong>æ— éœ€æ³¨å†Œã€æ— éœ€ç™»å½•ã€å³å¼€å³ç”¨</strong>ã€‚æœ¬æ–‡å°†æ·±å…¥è§£æè¿™ä¸€5.8k Starå¼€æºé¡¹ç›®çš„æŠ€æœ¯æ¶æ„ä¸å®æˆ˜åº”ç”¨ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€æ ¸å¿ƒä»·å€¼ï¼šä¸ºä»€ä¹ˆFileCodeBoxæˆä¸ºå¼€å‘è€…çš„æ–°å® ï¼Ÿ</h3>
<h4 data-id="heading-2">1. æç®€æ¶æ„èƒŒåçš„å·¥ç¨‹å“²å­¦</h4>
<p>FileCodeBoxé‡‡ç”¨<strong>å‰åç«¯åˆ†ç¦»æ¶æ„</strong>ï¼š</p>
<ul>
<li><strong>åç«¯</strong>ï¼šFastAPI + SQLite3ï¼ˆé«˜æ€§èƒ½å¼‚æ­¥æ¡†æ¶ï¼Œå•æ–‡ä»¶æ•°æ®åº“ï¼‰</li>
<li><strong>å‰ç«¯</strong>ï¼šVue3 + ElementUIï¼ˆå“åº”å¼ç•Œé¢ï¼Œæš—é»‘æ¨¡å¼æ”¯æŒï¼‰</li>
<li><strong>èµ„æºå ç”¨</strong>ï¼šDockeré•œåƒä»…85MBï¼Œå†…å­˜æ¶ˆè€—&lt;100MB</li>
</ul>
<p>è¿™ç§è®¾è®¡ä½¿å¾—å®ƒåœ¨æ ‘è“æ´¾ç­‰è¾¹ç¼˜è®¾å¤‡ä¸Šä¹Ÿèƒ½æµç•…è¿è¡Œï¼Œå½»åº•å‘Šåˆ«ä¼ ç»Ÿç½‘ç›˜çš„èµ„æºé»‘æ´ã€‚</p>
<h4 data-id="heading-3">2. å…­å¤§æ€æ‰‹çº§ç‰¹æ€§</h4>
<ul>
<li><strong>æ— æ„Ÿä¸Šä¼ ä½“éªŒ</strong><br/>
æ”¯æŒæ‹–æ‹½æ–‡ä»¶ã€ç²˜è´´æ–‡æœ¬ã€Ctrl+Vç²˜è´´æˆªå›¾ï¼Œä¸Šä¼ è¿‡ç¨‹å¦‚åŒèŠå¤©å‘å›¾èˆ¬è‡ªç„¶</li>
<li><strong>å†›å·¥çº§å®‰å…¨é˜²æŠ¤</strong>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
  A[æš´åŠ›ç ´è§£] --&gt;|é”™è¯¯è¶…5æ¬¡| B(IPå†»ç»“10åˆ†é’Ÿ)
  C[æ¶æ„ä¸Šä¼ ] --&gt;|IPé™æµ60æ¬¡/åˆ†é’Ÿ| D(è¯·æ±‚æ‹’ç»)
</code></pre>
</li>
<li><strong>ç²¾å‡†æœ‰æ•ˆæœŸæ§åˆ¶</strong><br/>
å¯æŒ‰æ¬¡æ•°ï¼ˆå¦‚å…è®¸æå–5æ¬¡ï¼‰æˆ–æ—¶é—´ï¼ˆå¦‚24å°æ—¶åè¿‡æœŸï¼‰è®¾ç½®è‡ªæ¯è§„åˆ™</li>
<li><strong>å¤šäº‘å­˜å‚¨æ”¯æŒ</strong><br/>
é€šè¿‡æ’ä»¶åŒ–å­˜å‚¨å¼•æ“ï¼Œæ— ç¼åˆ‡æ¢æœ¬åœ°å­˜å‚¨ä¸é˜¿é‡Œäº‘OSS/S3åè®®</li>
<li><strong>ç»ˆç«¯å‹å¥½</strong><br/>
<code>wget https://your-domain/?code=æå–ç </code> ç›´æ¥ä¸‹è½½</li>
<li><strong>é›¶æˆæœ¬ç®¡ç†</strong><br/>
ç®¡ç†å‘˜é€šè¿‡ç»Ÿä¸€é¢æ¿æŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶ï¼Œä¸€é”®æ¸…ç†æ•æ„Ÿå†…å®¹</li>
</ul>
<hr/>
<h3 data-id="heading-4">äºŒã€å®‰è£…éƒ¨ç½²ï¼š5åˆ†é’Ÿæ„å»ºä¼ä¸šçº§æ–‡ä»¶å…±äº«ä¸­å¿ƒ</h3>
<h4 data-id="heading-5">1. å•æœºDockeréƒ¨ç½²ï¼ˆæ¨èæ–¹æ¡ˆï¼‰</h4>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šä¸ªäºº/å°å›¢é˜Ÿå¿«é€Ÿæ­å»º</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºæŒä¹…åŒ–ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p /opt/FileCodeBox &amp;&amp; <span class="hljs-built_in">cd</span> /opt/FileCodeBox

<span class="hljs-comment"># ä¸€é”®å¯åŠ¨å®¹å™¨</span>
docker run -d --restart=always \
  -p 12345:12345 \
  -v $(<span class="hljs-built_in">pwd</span>):/app/data \  <span class="hljs-comment"># æŒä¹…åŒ–é…ç½®åŠæ–‡ä»¶</span>
  --name filecodebox \
  lanol/filecodebox:beta
</code></pre>
<p>è®¿é—® <code>http://æœåŠ¡å™¨IP:12345</code> è¿›å…¥å‰å°ï¼Œ<code>http://æœåŠ¡å™¨IP:12345/#/admin</code> è¿›å…¥ç®¡ç†åå°ï¼ˆåˆå§‹å¯†ç ï¼š<code>FileCodeBox2023</code>ï¼‰</p>
<h4 data-id="heading-6">2. ä¼ä¸šé«˜å¯ç”¨æ–¹æ¡ˆ</h4>
<p><strong>æ¶æ„æ‹“æ‰‘</strong>ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    Nginx --&gt; FileCodeBox1
    Nginx --&gt; FileCodeBox2
    FileCodeBox1 --&gt; OSS[é˜¿é‡Œäº‘OSS]
    FileCodeBox2 --&gt; OSS
</code></pre>
<p><strong>å…³é”®é…ç½®</strong>ï¼ˆdocker-compose.ymlï¼‰ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">services:</span>
  <span class="hljs-attr">filecodebox:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">lanol/filecodebox:beta</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">STORAGE_ENGINE:</span> <span class="hljs-string">oss</span>  <span class="hljs-comment"># å¯ç”¨OSSå­˜å‚¨</span>
      <span class="hljs-attr">KeyId:</span> <span class="hljs-string">AK***************</span>  <span class="hljs-comment"># OSSè®¿é—®å¯†é’¥</span>
      <span class="hljs-attr">KeySecret:</span> <span class="hljs-string">SK******************</span>
      <span class="hljs-attr">OSS_ENDPOINT:</span> <span class="hljs-string">oss-cn-hangzhou.aliyuncs.com</span>
      <span class="hljs-attr">BUCKET_NAME:</span> <span class="hljs-string">your-bucket</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">./config:/app/data</span>  <span class="hljs-comment"># ä¿ç•™é…ç½®æ–‡ä»¶</span>
</code></pre>
<h4 data-id="heading-7">3. å®‰å…¨åŠ å›ºå®è·µ</h4>
<p><strong>åœºæ™¯</strong>ï¼šä¼ä¸šåˆè§„è¦æ±‚å®¡è®¡æ—¥å¿—<br/>
<strong>æ–¹æ¡ˆ</strong>ï¼šå¯ç”¨æ•°æ®åº“è¿½è¸ª</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¿®æ”¹æŒ‚è½½ç›®å½•ä¸­çš„.env</span>
AUDIT_LOG_ENABLED=True
AUDIT_LOG_PATH=/app/data/audit.log
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼šæ‰€æœ‰æ–‡ä»¶æ“ä½œï¼ˆä¸Šä¼ /ä¸‹è½½/åˆ é™¤ï¼‰è®°å½•IPã€æ—¶é—´ã€æ“ä½œç±»å‹ï¼Œæ»¡è¶³ç­‰ä¿2.0è¦æ±‚</p>
<hr/>
<h3 data-id="heading-8">ä¸‰ã€ä¼ä¸šå®æˆ˜æ¡ˆä¾‹ï¼šä»ä¸´æ—¶åˆ†äº«åˆ°ç”Ÿäº§çº§åº”ç”¨</h3>
<h4 data-id="heading-9">æ¡ˆä¾‹1ï¼šé‡‘èå…¬å¸åˆè§„æ–‡ä»¶ä¼ è¾“</h4>
<p><strong>æŒ‘æˆ˜</strong>ï¼šæŸæ”¯ä»˜æœºæ„éœ€å‘ç›‘ç®¡æœºæ„æŠ¥é€äº¤æ˜“æ•°æ®ï¼Œä½†ç¦æ­¢ä½¿ç”¨å¾®ä¿¡/é‚®ç®±å‘é€æ•æ„Ÿæ–‡ä»¶ã€‚</p>
<p><strong>FileCodeBoxè§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li><strong>å®‰å…¨ç­–ç•¥é…ç½®</strong>ï¼š
<pre><code class="hljs language-env" lang="env"># .env å®‰å…¨å¼ºåŒ–é…ç½®
FILE_SIZE_LIMIT=50  # æ–‡ä»¶ä¸Šé™50MB
UPLOAD_COUNT=3      # æ¯ä¸ªIPæ¯å¤©é™ä¼ 3æ¬¡
ERROR_COUNT=3       # å¯†ç é”™è¯¯3æ¬¡å†»ç»“IP
</code></pre>
</li>
<li><strong>æ“ä½œæµç¨‹</strong>ï¼š
<ul>
<li>ä¸šåŠ¡å‘˜ä¸Šä¼ åŠ å¯†å‹ç¼©åŒ…ï¼Œè®¾ç½®<strong>1æ¬¡æå–æƒé™+2å°æ—¶æœ‰æ•ˆæœŸ</strong></li>
<li>ç³»ç»Ÿç”Ÿæˆå–ä»¶ç ï¼Œé€šè¿‡å®‰å…¨ä¿¡é“å‘é€è‡³ç›‘ç®¡æ–¹</li>
<li>ç›‘ç®¡æ–¹ä¸‹è½½åæ–‡ä»¶è‡ªåŠ¨é”€æ¯
<strong>æˆæ•ˆ</strong>ï¼šæ•°æ®æ³„éœ²é£é™©é™ä½90%ï¼Œå®¡è®¡é€šè¿‡ç‡100%</li>
</ul>
</li>
</ol>
<h4 data-id="heading-10">æ¡ˆä¾‹2ï¼šåˆ¶é€ ä¸šåˆ†å¸ƒå¼å›ºä»¶åˆ†å‘</h4>
<p><strong>æŒ‘æˆ˜</strong>ï¼šæŸæ±½è½¦é›¶ä»¶å‚éœ€å‘å…¨çƒ8ä¸ªå·¥å‚ä¸‹å‘è®¾å¤‡å›ºä»¶ï¼ŒFTPæœåŠ¡å™¨è·¨å›½ä¼ è¾“æ…¢ã€‚</p>
<p><strong>æŠ€æœ¯æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>ä¸­å¿ƒèŠ‚ç‚¹éƒ¨ç½²FileCodeBox + é˜¿é‡Œäº‘OSSåŠ é€Ÿ</li>
<li>å„å·¥å‚é€šè¿‡å†…ç½‘ç¼“å­˜èŠ‚ç‚¹åŒæ­¥ï¼š
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å·¥å‚èŠ‚ç‚¹å®šæœŸåŒæ­¥è„šæœ¬</span>
wget -O firmware.bin <span class="hljs-string">"https://center.com/?code=FX29K"</span>
<span class="hljs-built_in">md5sum</span> firmware.bin | grep -q <span class="hljs-string">"a1b2c3d4"</span> &amp;&amp; flash_firmware
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-11">å››ã€é«˜é˜¶æŠ€å·§ï¼šè§£é”90%ç”¨æˆ·æœªçŸ¥çš„ç”¨æ³•</h3>
<h4 data-id="heading-12">1. CLIè‡ªåŠ¨åŒ–è¿ç»´</h4>
<p>é€šè¿‡APIå®ç°æ— äººå€¼å®ˆæ“ä½œï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Pythonè‡ªåŠ¨ä¸Šä¼ å·¡æ£€æŠ¥å‘Š</span>
<span class="hljs-keyword">import</span> requests

url = <span class="hljs-string">"http://filecodebox.domain/upload"</span>
files = {<span class="hljs-string">'file'</span>: <span class="hljs-built_in">open</span>(<span class="hljs-string">'daily_check.log'</span>, <span class="hljs-string">'rb'</span>)}
data = {<span class="hljs-string">'expire_type'</span>: <span class="hljs-string">'time'</span>, <span class="hljs-string">'expire_value'</span>: <span class="hljs-number">24</span>}  <span class="hljs-comment"># 24å°æ—¶è¿‡æœŸ</span>
headers = {<span class="hljs-string">'X-Management-Key'</span>: <span class="hljs-string">'ä¼ä¸šå¯†é’¥'</span>}  <span class="hljs-comment"># åå°é…ç½®å¯†é’¥</span>

r = requests.post(url, files=files, data=data, headers=headers)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å–ä»¶ç ï¼š<span class="hljs-subst">{r.json()[<span class="hljs-string">'code'</span>]}</span>"</span>)
</code></pre>
<h4 data-id="heading-13">2. è·¨ç³»ç»Ÿé›†æˆæ–¹æ¡ˆ</h4>
<p><strong>åœºæ™¯</strong>ï¼šä¸é’‰é’‰æœºå™¨äººè”åŠ¨<br/>
<strong>æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>é…ç½®é’‰é’‰æœºå™¨äººWebhook</li>
<li>æ–‡ä»¶ä¸Šä¼ åè§¦å‘é€šçŸ¥ï¼š
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// é’‰é’‰æ¶ˆæ¯æ¨¡æ¿</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"msgtype"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"markdown"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"markdown"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ–°æ–‡ä»¶å¾…å–"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ–‡ä»¶ï¼š${filename}\næœ‰æ•ˆæœŸï¼š${expire}\nå–ä»¶ç ï¼š`${code}`"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ol>
<h4 data-id="heading-14">3. å­˜å‚¨ä¼˜åŒ–å®æˆ˜</h4>
<p><strong>é—®é¢˜</strong>ï¼šæœ¬åœ°ç£ç›˜ç©ºé—´ä¸è¶³<br/>
<strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šæŒ‚è½½NFSæˆ–å¯ç”¨OSS</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># docker-compose.yml ç‰‡æ®µ</span>
<span class="hljs-attr">volumes:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">/nfs/filecodebox:/app/data</span>  <span class="hljs-comment"># NFSæŒ‚è½½</span>
<span class="hljs-attr">environment:</span>
  <span class="hljs-attr">STORAGE_ENGINE:</span> <span class="hljs-string">oss</span>  <span class="hljs-comment"># æˆ–ä½¿ç”¨S3åè®®</span>
</code></pre>
<hr/>
<h3 data-id="heading-15">äº”ã€ä¸ä¼ ç»Ÿå·¥å…·çš„å¯¹æ¯”</h3>















































<table><thead><tr><th><strong>èƒ½åŠ›ç»´åº¦</strong></th><th><strong>FileCodeBox</strong></th><th><strong>WeTransfer</strong></th><th><strong>è‡ªå»ºFTP</strong></th></tr></thead><tbody><tr><td>éƒ¨ç½²å¤æ‚åº¦</td><td>â­ï¼ˆDockerä¸€é”®å¯åŠ¨ï¼‰</td><td>â­â­â­â­ï¼ˆéœ€å…¬æœ‰äº‘ï¼‰</td><td>â­â­â­ï¼ˆé…ç½®å¤æ‚ï¼‰</td></tr><tr><td>éšç§ä¿æŠ¤</td><td>âœ… åŒ¿ååˆ†äº«+æ— ç”¨æˆ·æ•°æ®</td><td>âŒ éœ€æ‰‹æœºå·/é‚®ç®±</td><td>âš ï¸ ä¾èµ–è´¦å·ä½“ç³»</td></tr><tr><td>ä¼ è¾“åŠ å¯†</td><td>TLS 1.3ç«¯åˆ°ç«¯åŠ å¯†</td><td>âœ…</td><td>âŒ æ˜æ–‡ä¼ è¾“</td></tr><tr><td>æˆæœ¬</td><td>0ï¼ˆå¼€æºï¼‰</td><td>ä»˜è´¹ç‰ˆ$12/æœˆèµ·</td><td>æœåŠ¡å™¨è´¹ç”¨</td></tr><tr><td>å®šåˆ¶å¼€å‘</td><td>âœ… å®Œæ•´API+å¼€æºä»£ç </td><td>âŒ</td><td>âš ï¸ æœ‰é™</td></tr><tr><td>ä¼ä¸šçº§æ‰©å±•</td><td>âœ… OSS/S3/é«˜å¯ç”¨</td><td>âœ…</td><td>âŒ</td></tr></tbody></table>
<blockquote>
<p><strong>ç»“è®º</strong>ï¼šFileCodeBoxåœ¨<strong>éšç§å®‰å…¨</strong>å’Œ<strong>å¯æ§æ€§</strong>ä¸Šå®Œèƒœï¼Œå°¤å…¶é€‚åˆå¯¹æ•°æ®ä¸»æƒè¦æ±‚é«˜çš„åœºæ™¯</p>
</blockquote>
<hr/>
<h3 data-id="heading-16">å…­ã€æœªæ¥æ¼”è¿›ï¼š2025å¹´è·¯çº¿å›¾è§£æ</h3>
<p>æ ¹æ®æ ¸å¿ƒå¼€å‘è€…è®¿è°ˆï¼ŒFileCodeBoxå°†èšç„¦ä¸‰å¤§æ–¹å‘ï¼š</p>
<ol>
<li><strong>åŒºå—é“¾å­˜è¯</strong>ï¼šæ–‡ä»¶å“ˆå¸Œä¸Šé“¾ï¼Œå®ç°ä¸å¯ç¯¡æ”¹çš„ä¼ è¾“å®¡è®¡</li>
<li><strong>è¾¹ç¼˜è®¡ç®—æ”¯æŒ</strong>ï¼šé›†æˆWeb3.storageï¼Œå®ç°IPFSåˆ†å¸ƒå¼å­˜å‚¨</li>
<li><strong>AIå®‰å…¨å¢å¼º</strong>ï¼š
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
  ä¸Šä¼ æ–‡ä»¶ --&gt; AIæ‰«æ
  AIæ‰«æ --&gt;|æ•æ„Ÿå†…å®¹| è‡ªåŠ¨åŠ å¯†
  AIæ‰«æ --&gt;|æ¶æ„è½¯ä»¶| æ‹¦æˆªåˆ é™¤
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-17">ç»“è¯­ï¼šå·¥å…·çš„æœ¬è´¨æ˜¯å›å½’ç”¨æˆ·ä»·å€¼</h3>
<p>FileCodeBoxçš„æˆåŠŸä¸åœ¨äºæŠ€æœ¯é¢ è¦†ï¼Œè€Œåœ¨äº<strong>ç²¾å‡†æŠ“ä½äº†â€œä¸´æ—¶æ–‡ä»¶åˆ†äº«â€è¿™ä¸€é«˜é¢‘ç—›ç‚¹</strong>ã€‚å½“å¼€å‘è€…ä¸å†ä¸º10MBçš„å°æ–‡ä»¶æ­å»ºFTPï¼Œå½“ä¸šåŠ¡äººå‘˜èƒ½å®‰å…¨ä¼ é€’å®¢æˆ·æ•°æ®ï¼Œæ•ˆç‡æå‡ä¾¿æ°´åˆ°æ¸ æˆã€‚</p>
<blockquote>
<p><strong>å®è·µç®´è¨€</strong>ï¼š</p>
<ol>
<li><strong>è½»é‡èµ·æ­¥</strong>ï¼šä»å›¢é˜Ÿå†…éƒ¨ä¸´æ—¶åˆ†äº«åˆ‡å…¥ï¼Œé€æ­¥æ›¿ä»£å¾®ä¿¡æ–‡ä»¶ä¼ è¾“</li>
<li><strong>å®‰å…¨å·¦ç§»</strong>ï¼šåˆå§‹éƒ¨ç½²å³é…ç½®IPé™æµä¸é”™è¯¯å°é”</li>
<li><strong>æ–‡åŒ–é€‚é…</strong>ï¼šé€šè¿‡å–ä»¶ç æœºåˆ¶åŸ¹å…»ç”¨æˆ·â€œç”¨å®Œå³ç„šâ€çš„å®‰å…¨æ„è¯†</li>
</ol>
</blockquote>
<p>æ­£å¦‚æŸç§‘æŠ€å…¬å¸CTOæ‰€è¨€ï¼š<em>â€œè‡ªä»ç”¨äº†FileCodeBoxï¼Œå…¬å¸é’‰é’‰ç¾¤é‡Œçš„â€˜æ–‡ä»¶å·²è¿‡æœŸâ€™æŠ•è¯‰å‡å°‘äº†87%â€</em>ã€‚</p>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvastsa%2FFileCodeBox" target="_blank" title="https://github.com/vastsa/FileCodeBox" ref="nofollow noopener noreferrer">github.com/vastsa/Fileâ€¦</a><br/>
<strong>ä¸­æ–‡æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ffilecodebox.cn%2Fdocs" target="_blank" title="https://filecodebox.cn/docs" ref="nofollow noopener noreferrer">filecodebox.cn/docs</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ–‡è¯»æ‡‚ Skillsï½œä»æ¦‚å¿µåˆ°å®æ“çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7599528186586595338</link>    <guid>https://juejin.cn/post/7599528186586595338</guid>    <pubDate>2026-01-26T10:27:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599528186586595338" data-draft-id="7599485473707245606" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ–‡è¯»æ‡‚ Skillsï½œä»æ¦‚å¿µåˆ°å®æ“çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2026-01-26T10:27:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TRAE_ai"/> <meta itemprop="url" content="https://juejin.cn/user/3048259110571032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ–‡è¯»æ‡‚ Skillsï½œä»æ¦‚å¿µåˆ°å®æ“çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3048259110571032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TRAE_ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-26T10:27:18.000Z" title="Mon Jan 26 2026 10:27:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-26
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/498562aa9ed8432ba9e87cda7d4a062e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=8yAuhMePtapSu%2FGOazhGCXYsOOU%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æœ¬æ–‡ä½œè€…ï¼šå’¸é±¼ï¼ŒTRAE å¼€å‘è€…ç”¨æˆ·</p>
</blockquote>
<blockquote>
<p>Agent æ­£åœ¨ç»å†ä»â€œèŠå¤©æœºå™¨äººâ€åˆ°â€œå¾—åŠ›å¹²å°†â€çš„è¿›åŒ–ï¼Œè€ŒÂ <strong>Skills</strong> æ­£æ˜¯è¿™åœºè¿›åŒ–çš„å…³é”®å‚¬åŒ–å‰‚ã€‚</p>
<p>ä½ æ˜¯å¦æ›¾è¢« Agent çš„â€œä¸å¬è¯â€ã€â€œæ‰§è¡Œä¹±â€å’Œâ€œå·¥å…·è’â€æå¾—ç„¦å¤´çƒ‚é¢ï¼Ÿ</p>
<p>æœ¬æ–‡å°†å¸¦ä½ ä¸€æ–‡å¼„æ‡‚Â <strong>Skills</strong> â€”â€”è¿™ä¸ªè®© Agent å˜å¾—å¯é ã€å¯æ§ã€å¯å¤ç”¨çš„â€œé«˜çº§æŠ€èƒ½åŒ…â€ã€‚</p>
<p>æˆ‘ä»¬å°†ä» Skills æ˜¯ä»€ä¹ˆã€å¦‚ä½•å·¥ä½œï¼Œä¸€è·¯èŠåˆ°æ€æ ·å†™å¥½ä¸€ä¸ª Skillsï¼Œå¹¶ä¸ºä½ æ¨èå®ç”¨çš„ç¤¾åŒºèµ„æºï¼Œå¸¦é¢†å¤§å®¶åœ¨ TRAE ä¸­å®é™…ä½¿ç”¨ Skills è½åœ°ä¸€ä¸ªåœºæ™¯ã€‚</p>
<p>æ— è®ºä½ æ˜¯å¼€å‘è€…è¿˜æ˜¯æ™®é€šç”¨æˆ·ï¼Œéƒ½èƒ½åœ¨è¿™é‡Œæ‰¾åˆ°è®©ä½ çš„ Agent â€œå¼€çªâ€çš„ç§˜è¯€ã€‚</p>
</blockquote>
<p><strong>ä½ æ˜¯å¦ä¹Ÿç»å†è¿‡æˆ–è€…æ­£åœ¨ç»å†è¿™æ ·çš„â€œ Agent è°ƒæ•™â€å´©æºƒæ—¶åˆ»ï¼Ÿ</strong></p>
<ul>
<li>
<p><strong>è§„åˆ™å¤±æ•ˆï¼š</strong> åœ¨ Agent.md é‡Œå†™ä¸‹åƒè¨€ä¸‡è¯­ï¼ŒAgent å´è§†è‹¥æ— ç¹ï¼Œå®Œå…¨â€œå·²è¯»ä¸å›â€ã€‚</p>
</li>
<li>
<p><strong>æ‰§è¡Œå¤±æ§ï¼š</strong> ç²¾å¿ƒæ‰“ç£¨äº†æ— æ•° Promptï¼ŒAgent æ‰§è¡Œèµ·æ¥ä¾æ—§åƒæ— å¤´è‹è‡ï¼Œæ··ä¹±æ— åºã€‚</p>
</li>
<li>
<p><strong>å·¥å…·è¿·å¤±ï¼š</strong> æ˜æ˜é›†æˆäº†å¼ºå¤§çš„ MCP å·¥å…·åº“ï¼ŒAgent å´ä¸¤æ‰‹ä¸€æ‘Šè¯´â€œæ²¡å·¥å…·â€ï¼Œè®©äººæ‘¸ä¸ç€å¤´è„‘ã€‚</p>
</li>
</ul>
<p>å¦‚æœè¿™äº›åœºæ™¯è®©ä½ æ„ŸåŒèº«å—ï¼Œåˆ«æ€¥ç€æ”¾å¼ƒã€‚<strong>ç»ˆç»“è¿™åœºæ··ä¹±çš„ç­”æ¡ˆï¼Œå¯èƒ½å°±æ˜¯ Skillsã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e689cd9039c147278c306e13ec24004b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=rQmSbPXhzErYNi1J59HU%2BG28NpE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>ä»€ä¹ˆæ˜¯ Skills</strong></h2>
<p>â€œSkillsâ€ è¿™ä¸ªæ¦‚å¿µæœ€æ—©ç”± Anthropic å…¬å¸æå‡ºï¼Œä½œä¸ºå…¶å¤§æ¨¡å‹ Claude çš„ä¸€ç§èƒ½åŠ›æ‰©å±•æœºåˆ¶ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå…è®¸ç”¨æˆ·ä¸º Claude æ·»åŠ è‡ªå®šä¹‰çš„åŠŸèƒ½å’Œå·¥å…·ã€‚éšç€è¿™å¥—åšæ³•è¶Šæ¥è¶Šæˆç†Ÿï¼Œå¹¶è¢«ç¤¾åŒºå¹¿æ³›æ¥å—ï¼ŒSkills å¦‚ä»Šå·²æˆä¸ºå¤§å¤šæ•° Agent å¼€å‘å·¥å…·å’Œ IDE éƒ½æ”¯æŒçš„ä¸€ç§æ ‡å‡†æ‰©å±•è§„èŒƒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30a3492ffbfb4f8c86543ba47e2714c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=ZAMUCjEIT1Qsuj9AL5ySwVGdSDg%3D" alt="" loading="lazy"/></p>
<p>ä¸€ä¸ª Skills é€šå¸¸ä»¥ä¸€ä¸ªæ–‡ä»¶å¤¹çš„å½¢å¼å­˜åœ¨ï¼Œé‡Œé¢ä¸»è¦è£…ç€ä¸‰æ ·ä¸œè¥¿ï¼š<strong>ä¸€ä»½è¯´æ˜ä¹¦ï¼ˆSKILL.mdï¼‰ã€ä¸€å †æ“ä½œè„šæœ¬ï¼ˆScriptï¼‰ã€ä»¥åŠä¸€äº›å‚è€ƒèµ„æ–™ï¼ˆReferenceï¼‰ã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfdff3d6d6954816a0947ee5d3625652~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=sfdkPQw4lDQu9Z0no9AlRw67wPE%3D" alt="640 (1).png" loading="lazy"/></p>
<p>ä½ å¯ä»¥æŠŠä¸€ä¸ª Skill æƒ³è±¡æˆä¸€ä¸ªæ‰“åŒ…å¥½çš„â€œæŠ€èƒ½åŒ…â€ã€‚å®ƒæŠŠå®ŒæˆæŸä¸ªç‰¹å®šä»»åŠ¡æ‰€éœ€çš„<strong>é¢†åŸŸçŸ¥è¯†ã€æ“ä½œæµç¨‹ã€è¦ç”¨åˆ°çš„å·¥</strong> <strong>å…·ã€ä»¥åŠæœ€ä½³å®è·µ</strong>å…¨éƒ½å°è£…åœ¨äº†ä¸€èµ·ã€‚å½“ AI é¢å¯¹ç›¸åº”è¯·æ±‚æ—¶ï¼Œå°±èƒ½åƒä¸€ä½ç»éªŒä¸°å¯Œçš„ä¸“å®¶é‚£æ ·ï¼Œæœ‰æ¡ä¸ç´Šåœ°è‡ªä¸»æ‰§è¡Œã€‚</p>
<p><strong>ä¸€å¥è¯æ€»ç»“ï¼š</strong> è¦æ˜¯æŠŠ Agent æ¯”ä½œä¸€ä¸ªæœ‰å¾ˆå¤§æ½œåŠ›çš„å¤§è„‘ï¼Œé‚£ <strong>Skills å°±åƒæ˜¯ç»™è¿™ä¸ªå¤§è„‘çš„ä¸€å¥—å¥—èƒ½åå¤ç”¨çš„â€œé«˜çº§æ­¦åŠŸç§˜ç±â€ã€‚</strong> æœ‰äº†å®ƒï¼ŒAgent èƒ½ä»ä¸€ä¸ªâ€œä»€ä¹ˆéƒ½ç•¥çŸ¥ä¸€äºŒâ€çš„é€šæ‰ï¼Œå˜æˆåœ¨ç‰¹å®šé¢†åŸŸâ€œä»€ä¹ˆéƒ½æ“…é•¿â€çš„ä¸“å®¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2a8152998b547a08a8a54e8b8459b38~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=YXPCIbBAv5x0stu2X3HnINwDbqk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1"><strong>Skill åŸç†ä»‹ç»</strong></h2>
<p>ğŸ“š å®˜æ–¹è§£é‡Šï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.claude.com%2Fdocs%2Fen%2Fagents-and-tools%2Fagent-skills%2Foverview" target="_blank" title="https://platform.claude.com/docs/en/agents-and-tools/agent-skills/overview" ref="nofollow noopener noreferrer">platform.claude.com/docs/en/ageâ€¦</a></p>
<h4 data-id="heading-2"><strong>Skill çš„æ¶æ„åŸç†ï¼šæ¸è¿›å¼åŠ è½½</strong></h4>
<p>Skill çš„è®¾è®¡å¾ˆå·§å¦™ï¼Œå®ƒè¿è¡Œåœ¨ä¸€ä¸ªæ²™ç›’ç¯å¢ƒé‡Œï¼Œè¿™ä¸ªç¯å¢ƒå…è®¸å¤§æ¨¡å‹è®¿é—®æ–‡ä»¶ç³»ç»Ÿå’Œæ‰§è¡ŒÂ <em><strong>bash</strong></em> å‘½ä»¤ï¼ˆå¯ä»¥ç†è§£ä¸ºä¸€ç§ç”µè„‘æ“ä½œæŒ‡ä»¤ï¼‰ã€‚åœ¨è¿™ä¸ªç¯å¢ƒé‡Œï¼Œä¸€ä¸ªä¸ª Skill å°±åƒä¸€ä¸ªä¸ªæ–‡ä»¶å¤¹ã€‚Agent å°±åƒä¸€ä¸ªç†Ÿæ‚‰ç”µè„‘æ“ä½œçš„äººï¼Œé€šè¿‡å‘½ä»¤è¡Œæ¥è¯»å–æ–‡ä»¶ã€æ‰§è¡Œè„šæœ¬ï¼Œç„¶ååˆ©ç”¨ç»“æœå»å®Œæˆä½ äº¤ä»£çš„ä»»åŠ¡ã€‚è¿™ç§â€œæŒ‰éœ€å–ç”¨â€çš„æ¶æ„ï¼Œè®© Skill æˆä¸ºä¸€ä¸ªæ—¢å¼ºå¤§åˆé«˜æ•ˆçš„â€œå·¥å…·ç®±â€ã€‚</p>
<p>ä¸ºäº†å¹³è¡¡æ•ˆæœå’Œæ•ˆç‡ï¼ŒSkill è®¾è®¡äº†ä¸€å¥—èªæ˜çš„ä¸‰å±‚åˆ†çº§åŠ è½½æœºåˆ¶ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fde448de57f540409d9264c41d82cb2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=ovVLGJjnunTuBQBwoHOtruHUCEc%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f254ff2a09d2490fbfcb8147c257b216~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=mBe29p0fLEw%2BVAU6tX%2B6aHe694M%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-3"><strong>Level 1ï¼šå…ƒæ•°æ®ï¼ˆå§‹ç»ˆåŠ è½½ï¼‰</strong></h4>
<p>å…ƒæ•°æ®å°±åƒæ˜¯ Skill çš„â€œåç‰‡â€ï¼Œé‡Œé¢æœ‰åç§°ï¼ˆ<em><strong>name</strong></em>ï¼‰å’Œæè¿°ï¼ˆ<em><strong>description</strong></em>ï¼‰ï¼Œæ˜¯ç”¨ YAML æ ¼å¼æ¥å®šä¹‰çš„ã€‚Claude åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šæŠŠæ‰€æœ‰å·²ç»å®‰è£…çš„ Skill çš„å…ƒæ•°æ®éƒ½åŠ è½½è¿›æ¥ï¼Œè¿™æ ·å®ƒå°±èƒ½çŸ¥é“æ¯ä¸ª Skill æœ‰ä»€ä¹ˆç”¨ã€ä»€ä¹ˆæ—¶å€™è¯¥ç”¨ã€‚å› ä¸ºå…ƒæ•°æ®å¾ˆè½»é‡ï¼Œæ‰€ä»¥ä½ å¯ä»¥å®‰è£…å¾ˆå¤š Skillï¼Œä¸ç”¨æ‹…å¿ƒæŠŠä¸Šä¸‹æ–‡å æ»¡ã€‚</p>
<h4 data-id="heading-4"><strong>Level 2ï¼šè¯´æ˜æ–‡æ¡£ï¼ˆè§¦å‘æ—¶åŠ è½½ï¼‰</strong></h4>
<p><em><strong>SKILL.md</strong></em> æ–‡ä»¶çš„æ­£æ–‡å°±æ˜¯è¯´æ˜æ–‡æ¡£ï¼Œé‡Œé¢æœ‰å·¥ä½œæµç¨‹ã€æœ€ä½³å®è·µå’Œæ“ä½œæŒ‡å—ã€‚åªæœ‰ç”¨æˆ·çš„è¯·æ±‚å’Œ Skills å…ƒæ•°æ®é‡Œçš„æè¿°ç›¸ç¬¦æ—¶ï¼ŒClaude æ‰ä¼šç”¨Â <em><strong>bash</strong></em> æŒ‡ä»¤è¯»å–è¿™ä»½æ–‡æ¡£ï¼ŒæŠŠå†…å®¹åŠ è½½åˆ°ä¸Šä¸‹æ–‡é‡Œã€‚è¿™ç§â€œè§¦å‘å¼åŠ è½½â€èƒ½ä¿è¯åªæœ‰ç›¸å…³çš„è¯¦ç»†æŒ‡ä»¤æ‰ä¼šæ¶ˆè€— Tokenã€‚</p>
<h4 data-id="heading-5"><strong>Level 3ï¼šèµ„æºä¸ä»£ç ï¼ˆæŒ‰éœ€åŠ è½½ï¼‰</strong></h4>
<p>Skills è¿˜èƒ½æ‰“åŒ…ä¸€äº›æ›´æ·±å…¥çš„èµ„æºï¼Œæ¯”å¦‚æ›´è¯¦ç»†çš„è¯´æ˜æ–‡æ¡£ï¼ˆ<em><strong>FORMS.md</strong></em>ï¼‰ã€å¯æ‰§è¡Œè„šæœ¬ï¼ˆ <em><strong>.py</strong></em>ï¼‰æˆ–è€…å‚è€ƒèµ„æ–™ï¼ˆåƒ API æ–‡æ¡£ã€æ•°æ®åº“ç»“æ„ç­‰ï¼‰ã€‚Claude åªæœ‰åœ¨éœ€è¦çš„æ—¶å€™ï¼Œæ‰ä¼šé€šè¿‡ <em><strong>bash</strong></em> å»è¯»å–æˆ–æ‰§è¡Œè¿™äº›æ–‡ä»¶ï¼Œè€Œä¸”è„šæœ¬ä»£ç æœ¬èº«ä¸ä¼šè¿›å…¥ä¸Šä¸‹æ–‡ã€‚è¿™æ ·ä¸€æ¥ï¼ŒSkills å°±èƒ½æ†ç»‘å¤§é‡ä¿¡æ¯ï¼Œå‡ ä¹ä¸ä¼šå¢åŠ é¢å¤–çš„ä¸Šä¸‹æ–‡æˆæœ¬ã€‚</p>
<h3 data-id="heading-6"><strong>Skills çš„è°ƒç”¨é€»è¾‘ï¼šä»ç†è§£æ„å›¾åˆ°ç¨³å®šæ‰§è¡Œ</strong></h3>
<p>é‚£ä¹ˆï¼ŒAgent æ˜¯å¦‚ä½•æ™ºèƒ½åœ°é€‰æ‹©å¹¶æ‰§è¡Œä¸€ä¸ª Skill çš„å‘¢ï¼Ÿæ•´ä¸ªè¿‡ç¨‹å°±åƒä¸€ä½ç»éªŒä¸°å¯Œçš„åŠ©ç†åœ¨å¤„ç†å·¥ä½œï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56d095ed53234caca572363ae4de6a9d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=%2FAivTlcRt5aFuEPnrm2Mv2vPQT0%3D" alt="" loading="lazy"/></p>
<ol>
<li>
<p><strong>æ„å›¾åŒ¹é…ï¼ˆæ‰¾åˆ°å¯¹çš„äººï¼‰ï¼š</strong> Agent é¦–å…ˆè†å¬ä½ çš„éœ€æ±‚ï¼Œç„¶åå¿«é€Ÿæ‰«ä¸€çœ¼è‡ªå·±æ‰‹å¤´æ‰€æœ‰ Skill çš„â€œåç‰‡å¤¹â€ï¼ˆå…ƒæ•°æ®ï¼‰ï¼Œå¯»æ‰¾æœ€åŒ¹é…çš„é‚£ä¸€å¼ ã€‚</p>
</li>
<li>
<p><strong>è¯»å–æ‰‹å†Œï¼ˆçœ‹æ‡‚æ€ä¹ˆå¹²ï¼‰ï¼š</strong> æ‰¾åˆ°åˆé€‚çš„ Skills åï¼ŒAgent ä¼šåƒæ¨¡åƒæ ·åœ°ç¿»å¼€å®ƒçš„â€œæ“ä½œæ‰‹å†Œâ€ï¼ˆ<em><strong>SKILL.md</strong></em>ï¼‰ï¼Œä»”ç»†ç ”ç©¶è¯¦ç»†çš„æ‰§è¡Œæ­¥éª¤å’Œæ³¨æ„äº‹é¡¹ã€‚</p>
</li>
<li>
<p><strong>æŒ‰éœ€æ‰§è¡Œï¼ˆåŠ¨æ‰‹å¼€å¹²ï¼‰ï¼š</strong> æ ¹æ®æ‰‹å†Œçš„æŒ‡å¼•ï¼ŒAgent å¼€å§‹å·¥ä½œã€‚å¦‚æœéœ€è¦ï¼Œå®ƒä¼šéšæ—¶ä»â€œå·¥å…·ç®±â€é‡Œæ‹¿å‡ºè„šæœ¬æˆ–å·¥å…·æ¥å®Œæˆå…·ä½“æ“ä½œã€‚</p>
</li>
<li>
<p><strong>åé¦ˆç»“æœï¼ˆäº‹æ¯•å¤å‘½ï¼‰ï¼š</strong> ä»»åŠ¡å®Œæˆåï¼ŒAgent å‘ä½ æ±‡æŠ¥æœ€ç»ˆç»“æœï¼Œæˆ–è€…åœ¨é‡åˆ°å›°éš¾æ—¶ï¼ŒåŠæ—¶å‘ä½ è¯·æ•™ã€‚</p>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be94cd4da1f84612aab5a51c9ad0891f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=kfzTOJ2f%2FrSvosdXCKwQ1jG775o%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7"><strong>Skills Â vs. Â å…¶ä»–æ¦‚å¿µçš„åŒºåˆ«</strong></h2>
<p>ä¸ºäº†æ›´æ¸…æ™°åœ°ç†è§£ Skills çš„ç‹¬ç‰¹ä»·å€¼ï¼Œæˆ‘ä»¬ä¸å¦¨æŠŠå®ƒå’Œå¦å¤–ä¸¤ä¸ªå®¹æ˜“æ··æ·†çš„æ¦‚å¿µâ€”â€”<strong>å¿«æ·æŒ‡ä»¤ï¼ˆCommandï¼‰</strong> å’Œ<strong>åŸå­å·¥å…·ï¼ˆMCPï¼‰</strong> â€”â€”æ”¾åœ¨ä¸€èµ·åšä¸ªå¯¹æ¯”ã€‚ç”¨ä¸€ä¸ªå¨æˆ¿çš„ä¾‹å­å°±å¾ˆå¥½æ‡‚äº†ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46415a2bb9a74a72b49cd886e62cbb8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=H6Rn5XSrDc5azaMkgyh32pCPQ3A%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b51047922b214010b0b7d886fa290af8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=iizVN7MLxbJ5Loaksvy%2BDDA07yw%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä»¬ä¹Ÿåˆ—ä¸¾äº†å‡ ä¸ªå¤§å®¶å®¹æ˜“æ··æ·†çš„å…¶ä»–åŠŸèƒ½ï¼Œä¸€èµ·æ¥å¯¹æ¯”çœ‹çœ‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ae20becf7a54b9c8dd9d689096c4ada~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=umQTI6W%2FXB%2BHCsNqSPZHqhqcr1g%3D" alt="" loading="lazy"/></p>
<p>ğŸ“š å®˜æ–¹åšå®¢è§£é‡Šï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.com%2Fblog%2Fskills-explained" target="_blank" title="https://claude.com/blog/skills-explained" ref="nofollow noopener noreferrer">claude.com/blog/skillsâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0526612b042f4c788613b5eac6bc5155~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=Q6da1excp3hmiXA8pHZF9Zkkrno%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8"><strong>ä»€ä¹ˆæ˜¯å¥½çš„ Skillsï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€</strong></h2>
<p><strong>Good Skills vs Bad Skills</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/260567fa689b4cd0be8befc0ddfdfcb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=G1LvLKremMuB9DqfpkHT%2FwMoPmM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-9"><strong>å¦‚ä½•å†™å¥½ Skills</strong></h3>
<ol>
<li>
<p><strong>åŸå­æ€§ï¼ˆAtomicityï¼‰ï¼š</strong> åšæŒå•ä¸€èŒè´£ï¼Œè®©æ¯ä¸ª Skill éƒ½åƒä¸€å—ç§¯æœ¨ï¼Œå°è€Œç¾ï¼Œä¸“æ³¨äºè§£å†³ä¸€ä¸ªå…·ä½“é—®é¢˜ï¼Œä¾¿äºæ—¥åçš„å¤ç”¨å’Œç»„åˆã€‚</p>
</li>
<li>
<p><strong>ç»™ä¾‹å­ï¼ˆFew-Shot Promptingï¼‰ï¼š</strong> <strong>è¿™æ˜¯æœ€å…³é”®çš„ä¸€ç‚¹</strong>ï¼Œä¸å…¶è´¹å°½å£èˆŒè§£é‡Šï¼Œä¸å¦‚ç›´æ¥ç»™å‡ºå‡ ä¸ªæ¸…æ™°çš„è¾“å…¥è¾“å‡ºç¤ºä¾‹ã€‚æ¦œæ ·çš„åŠ›é‡æ˜¯æ— ç©·çš„ï¼Œæ¨¡å‹èƒ½é€šè¿‡å…·ä½“ä¾‹å­ï¼Œç§’æ‡‚ä½ æƒ³è¦çš„æ ¼å¼ã€é£æ ¼å’Œè¡Œä¸ºã€‚</p>
</li>
<li>
<p><strong>ç«‹è§„çŸ©ï¼ˆStructured Instructionsï¼‰ï¼š</strong></p>
<p><strong>1) å®šè§’è‰²ï¼š</strong> ç»™å®ƒä¸€ä¸ªæ˜ç¡®çš„ä¸“å®¶äººè®¾ï¼Œæ¯”å¦‚â€œä½ ç°åœ¨æ˜¯ä¸€ä¸ªèµ„æ·±çš„å¸‚åœºåˆ†æå¸ˆâ€ã€‚</p>
<p><strong>2) æ‹†æ­¥éª¤ï¼š</strong> æŠŠä»»åŠ¡æµç¨‹æ‹†è§£æˆä¸€æ­¥æ­¥çš„å…·ä½“æŒ‡ä»¤ï¼Œå¼•å¯¼å®ƒâ€œæ€è€ƒâ€ã€‚</p>
<p><strong>3) ç”»çº¢çº¿ï¼š</strong> æ˜ç¡®å‘Šè¯‰å®ƒâ€œä¸èƒ½åšä»€ä¹ˆâ€ï¼Œé˜²æ­¢å®ƒå¤©é©¬è¡Œç©ºåœ°â€œå¹»è§‰â€</p>
</li>
<li>
<p><strong>é€ æ¥å£ï¼ˆInterface Designï¼‰ï¼š</strong> åƒè®¾è®¡è½¯ä»¶ API ä¸€æ ·ï¼Œæ˜ç¡®å®šä¹‰ Skill çš„è¾“å…¥å‚æ•°å’Œè¾“å‡ºæ ¼å¼ï¼ˆæ¯”å¦‚å›ºå®šè¾“å‡º JSON æˆ– Markdownï¼‰ã€‚è¿™è®©ä½ çš„ Skill å¯ä»¥è¢«å…¶ä»–ç¨‹åºç¨³å®šè°ƒç”¨å’Œé›†æˆã€‚</p>
</li>
</ol>

<ol start="5">
<li><strong>å‹¤å¤ç›˜ï¼ˆIterative Refinementï¼‰ï¼š</strong> æŠŠ Skills å½“ä½œä¸€ä¸ªäº§å“æ¥è¿­ä»£ã€‚åœ¨å®é™…ä½¿ç”¨ä¸­ç•™å¿ƒé‚£äº›ä¸å°½å¦‚äººæ„çš„â€œBad Caseâ€ï¼Œç„¶åæŠŠå®ƒä»¬å˜æˆæ–°çš„è§„åˆ™æˆ–åä¾‹ï¼Œè¡¥å……åˆ°ä½ çš„ Skills å®šä¹‰é‡Œï¼Œè®©å®ƒæŒç»­è¿›åŒ–ï¼Œè¶Šæ¥è¶Šèªæ˜ã€è¶Šæ¥è¶Šé è°±ã€‚</li>
</ol>
<p>ğŸ“š ä¸€äº›å®˜æ–¹æœ€ä½³å®è·µæŒ‡å— <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.claude.com%2Fdocs%2Fzh-CN%2Fagents-and-tools%2Fagent-skills%2Fbest-practices" target="_blank" title="https://platform.claude.com/docs/zh-CN/agents-and-tools/agent-skills/best-practices" ref="nofollow noopener noreferrer">platform.claude.com/docs/zh-CN/â€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90124ad767404c5da449c53d544012aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=urA0pky4RXmFjJIVB1Ho8wnJb%2Fo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-10"><strong>ç¤¾åŒºçƒ­é—¨ Skills æ¨è</strong></h2>
<p>åˆšå¼€å§‹æ¥è§¦ Skillsï¼Œä¸çŸ¥ä»ä½•ä¸‹æ‰‹ï¼Ÿä¸å¦¨ä»ç¤¾åŒºæ²‰æ·€çš„è¿™äº›çƒ­é—¨ Skills å¼€å§‹ï¼Œå¯»æ‰¾çµæ„Ÿï¼Œæˆ–ç›´æ¥åœ¨ä½ çš„å·¥ä½œæµä¸­å¤ç”¨å®ƒä»¬ã€‚</p>
<h3 data-id="heading-11"><strong>Claude å®˜æ–¹æä¾›çš„ Skills</strong></h3>
<p>ğŸ“š å®˜æ–¹ Skills ä»“åº“  <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fanthropics%2Fskills" target="_blank" title="https://github.com/anthropics/skills" ref="nofollow noopener noreferrer">github.com/anthropics/â€¦</a></p>
<p>å­¦ä¹  Claude å®˜æ–¹çš„ Skills ä»“åº“å¯ä»¥å¸®åŠ©æˆ‘ä»¬æœ€å¿«çš„äº†è§£ Skills çš„æœ€ä½³å®è·µï¼Œä¾¿äºæˆ‘ä»¬æ²‰æ·€å‡ºè‡ªå·±çš„ Skillsã€‚</p>
<blockquote>
<p><strong>å¦‚ä½•å¿«é€Ÿä½¿ç”¨å®˜æ–¹ Skillsï¼Ÿ</strong></p>
<p>å¤§å¤šæ•°å®˜æ–¹ Skills éƒ½èƒ½ç›´æ¥ä¸‹è½½ï¼Œæˆ–è€…é€šè¿‡ Git å…‹éš†åˆ°æœ¬åœ°ã€‚åœ¨ TRAE ç­‰å·¥å…·é‡Œï¼Œä¸€èˆ¬åªéœ€æŠŠè¿™äº› Skills çš„æ–‡ä»¶å¤¹æ”¾åˆ°æŒ‡å®šçš„ <em><strong>Skills</strong></em> ç›®å½•ï¼Œæ¥ç€é‡å¯æˆ–åˆ·æ–° Agentï¼Œå®ƒå°±ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶åŠ è½½è¿™äº›æ–°èƒ½åŠ›ã€‚å…·ä½“æ“ä½œå¯å‚è€ƒå·¥å…·çš„ä½¿ç”¨æ–‡æ¡£ã€‚</p>
<p>æ›´å¤šç»†èŠ‚å¯å‚è€ƒä¸‹é¢è¿™éƒ¨åˆ†å†…å®¹ï¼š<strong>å¦‚ä½•åœ¨ TRAE é‡Œå¿«é€Ÿç”¨èµ·æ¥</strong></p>
</blockquote>
<p><strong>Claude å®˜æ–¹æä¾›çš„ Skills åˆ—è¡¨</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2d3df5f253864939bfefa0c7ef8b5852~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=jbuN31Rn4gWzYgvofxBB0YIqWr0%3D" alt="show_679493203_1769422730184.png" loading="lazy"/></p>
<h3 data-id="heading-12"><strong>ç¤¾åŒºå…¶ä»–æœ€ä½³å®è·µ</strong></h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e34611085a1c475bb4b2f26285f21bca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=EdlPHC3DgsQUx3M2B%2BbVa%2FhNCa8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/530b1a02e08f45e18af7f7b78cf14941~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=a1gu3tF9yc%2FZSIU6omjYanf8yO8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13"><strong>å¦‚ä½•åœ¨ TRAE é‡Œå¿«é€Ÿä½¿ç”¨</strong></h2>
<p>ç†è®ºè¯´å†å¤šï¼Œä¸å¦‚äº²æ‰‹ä¸€è¯•ã€‚æˆ‘ä»¬å…ˆè®²ä¸€ä¸‹å¦‚ä½•åœ¨ TRAE SOLO ä¸­åˆ›å»ºå¹¶åº”ç”¨ä¸€ä¸ª Skill å¹¶ä»¥åŸºäºé£ä¹¦æ–‡æ¡£çš„ Spec Coding ä¸ºä¾‹è®²è§£ä¸€ä¸‹å¦‚ä½•åˆ©ç”¨ Skills å¿«é€Ÿè§£å†³ä¸€ä¸ªå®é™…é—®é¢˜ã€‚</p>
<h3 data-id="heading-14"><strong>Skill åˆ›å»º</strong></h3>
<p><strong>æ–¹å¼ä¸€ï¼šè®¾ç½®ä¸­ç›´æ¥åˆ›å»º</strong></p>
<p>TRAE æ”¯æŒåœ¨è®¾ç½®é¡µé¢å¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ª Skill</p>
<p>æŒ‰ä¸‹å¿«æ·é”® Cmd +/ Ctrl + é€šè¿‡å¿«æ·é”®æ‰“å¼€è®¾ç½®é¢æ¿ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6894be68150545ddafcf6a2aed27535f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=TYNNesb3q6i7yffMCBgn9CyPTM0%3D" alt="" loading="lazy"/></p>
<p>åœ¨è®¾ç½®é¢æ¿å·¦ä¾§æ‰¾åˆ°ã€Œè§„åˆ™æŠ€èƒ½ã€é€‰é¡¹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec94a84497d24c56b026679c6bd190b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=5itKsgX1rjNRS2%2FJde7bVO9O4T8%3D" alt="" loading="lazy"/></p>
<p>æ‰¾åˆ°æŠ€èƒ½æ¿å—ï¼Œç‚¹å‡»å³ä¾§çš„ã€Œåˆ›å»ºã€æŒ‰é’®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39b8d09b9a29433ca09059bae34c9f18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=r0T71CKdS%2FIy3Ky3cX%2FGqrGANQw%3D" alt="" loading="lazy"/></p>
<p>ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªç®€æ´çš„åˆ›å»ºç•Œé¢ï¼ŒåŒ…å«ä¸‰è¦ç´ ï¼š<strong>Skill åç§°ã€Skill æè¿°ã€Skill ä¸»ä½“</strong>ã€‚æˆ‘ä»¬ä»¥åˆ›å»ºä¸€ä¸ªâ€œæŒ‰è§„èŒƒæäº¤ git commitâ€çš„ Skill ä¸ºä¾‹ï¼Œå¡«å…¥ç›¸åº”å†…å®¹åç‚¹å‡»ã€Œç¡®è®¤ã€å³å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b45f17d81c4b4c1083bd0c3a209a6927~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=epgAmv7m272oFkGSweS3o4hjhmU%3D" alt="" loading="lazy"/></p>
<p>å¡«å…¥æˆ‘ä»¬éœ€è¦çš„å†…å®¹ã€Œç¡®è®¤ã€å³å¯</p>
<p><strong>æ–¹å¼äºŒï¼šç›´æ¥è§£æ SKILL.md</strong></p>
<p>åœ¨å½“å‰é¡¹ç›®ç›®å½•ä¸‹ï¼Œæ–°å¢ç›®å½•.<em><strong>trae/Skills/xxx</strong></em> å¯¼å…¥ä½ éœ€è¦æ–‡ä»¶å¤¹ï¼Œå’Œ TRAE è¿›è¡Œå¯¹è¯ï¼Œå³å¯ä½¿ç”¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b54f715d553d4c68b517da01516f94e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=Ezz0ssjg2toioy99GRMnaRy5tx0%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥åœ¨ã€Œè®¾ç½® - è§„åˆ™æŠ€èƒ½ã€ä¸­çœ‹åˆ°å·²ç»æˆåŠŸå¯¼å…¥</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbc7108b9e804a7680d0ceea27012dfa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=nugFbLMyBtdfy%2B4J1ycjChfUYdE%3D" alt="" loading="lazy"/></p>
<p><strong>æ–¹å¼ä¸‰ï¼šåœ¨å¯¹è¯ä¸­åˆ›å»º</strong></p>
<p>ç›®å‰ TRAE ä¸­å†…ç½®äº† Skills-creator Skills ï¼Œä½ å¯ä»¥åœ¨å¯¹è¯ä¸­ç›´æ¥å’Œ TRAE è¦æ±‚åˆ›å»ºéœ€è¦çš„ Skills</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5b10a41b1e3b4ac1841e9c908c4a4c37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=bmyFQIg0HGR5ulMwl9TZbLOtAJc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-15"><strong>Skill ä½¿ç”¨</strong></h3>
<p>åœ¨ TRAE é‡Œä½¿ç”¨æŠ€èƒ½å¾ˆå®¹æ˜“ï¼Œä½ åŠ è½½å¥½éœ€è¦çš„æŠ€èƒ½åï¼Œåªéœ€åœ¨å¯¹è¯æ¡†ä¸­ç”¨æ—¥å¸¸è¯­è¨€è¯´æ˜ä½ çš„éœ€æ±‚å°±è¡Œã€‚</p>
<ul>
<li>
<p>ä¾‹å¦‚ï¼Œè¾“å…¥â€œå¸®æˆ‘è®¾è®¡ä¸€ä¸ªæœ‰ç§‘æŠ€æ„Ÿçš„ç™»å½•é¡µé¢â€ï¼Œç³»ç»Ÿå°±ä¼šè‡ªåŠ¨è°ƒç”¨â€œfrontend-designâ€æŠ€èƒ½ã€‚</p>
</li>
<li>
<p>ä¾‹å¦‚ï¼Œè¾“å…¥â€œå¸®æˆ‘æå–è¿™ä¸ª PDF é‡Œçš„æ‰€æœ‰è¡¨æ ¼â€ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨â€œdocument-Skills/pdfâ€æŠ€èƒ½ã€‚</p>
</li>
<li>
<p>ä¾‹å¦‚ï¼Œè¾“å…¥â€œå¸®æˆ‘æŠŠè¿™ç‰‡æŠ€æœ¯æ–‡æ¡£è½¬ä¸ºé£ä¹¦æ–‡æ¡£â€ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨â€œusing-feishu-docâ€æŠ€èƒ½ã€‚</p>
</li>
</ul>
<p>ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†æä½ çš„éœ€æ±‚ï¼ŒåŠ è½½æŠ€èƒ½æ–‡æ¡£ï¼Œè¿˜ä¼šä¸€æ­¥æ­¥æŒ‡å¯¼ä½ å®Œæˆä»»åŠ¡ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5175bab9f2b4529b0f54eac980ae4e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=PfyED%2BwpHDPFoCnxTOJO7oe1RAE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-16"><strong>å®è·µåœºæ™¯ä¸¾ä¾‹</strong></h3>
<p>è¿˜è®°å¾—å¼•è¨€é‡Œæåˆ°çš„é‚£äº›é—®é¢˜å—ï¼Ÿæ¯”å¦‚è¯´ï¼Œé¡¹ç›®è§„åˆ™æ–‡ä»¶ï¼ˆ<em><strong>project_rules</strong></em>ï¼‰æœ‰å­—ç¬¦æ•°é‡çš„é™åˆ¶ï¼›åˆæˆ–è€…ï¼Œå°±ç®—ä½ åœ¨æ ¹è§„åˆ™æ–‡ä»¶é‡Œæ˜ç¡®å†™å¥½äº†â€œåœ¨ä»€ä¹ˆæƒ…å†µä¸‹è¯»å–å“ªä¸ªæ–‡ä»¶â€ï¼ŒAgent åœ¨æ‰§è¡Œä»»åŠ¡æ—¶ä¹Ÿä¸ä¼šæŒ‰ç…§è¦æ±‚æ¥åšã€‚</p>
<p>è¿™äº›é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ï¼Œ<strong>è§„åˆ™ï¼ˆRulesï¼‰å¯¹äº Agent è€Œè¨€æ˜¯å›ºå®šä¸å˜çš„</strong>ï¼Œå®ƒä¼šåœ¨ä»»åŠ¡å¼€å§‹æ—¶å°±æŠŠæ‰€æœ‰è§„åˆ™ä¸€æ¬¡æ€§åŠ è½½åˆ°ä¸Šä¸‹æ–‡ä¸­ï¼Œè¿™æ ·æ—¢å ç”¨ç©ºé—´ï¼Œåˆä¸å¤Ÿçµæ´»ã€‚è€ŒÂ <strong>æŠ€èƒ½ï¼ˆSkillï¼‰é‡‡ç”¨çš„æ˜¯â€œé€æ­¥åŠ è½½â€çš„åŠ¨æ€æ–¹å¼</strong>ï¼Œåˆšå¥½å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¹‹å‰é‚£äº›å¤æ‚çš„è§„åˆ™åœºæ™¯ï¼Œé‡æ–°æ‹†åˆ†æˆä¸€ä¸ªä¸ªç‹¬ç«‹çš„æŠ€èƒ½ã€‚</p>
<p><strong>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªåŸºäºé£ä¹¦æ–‡æ¡£çš„â€œSpec Codingâ€ç®€å•æµç¨‹ï¼Œæ¥å®é™…æ“ä½œä¸€ä¸‹å¦‚ä½•ç”¨æŠ€èƒ½è§£å†³é—®é¢˜ã€‚</strong></p>
<h4 data-id="heading-17"><strong>ä»€ä¹ˆæ˜¯ Spec Codingï¼Ÿ</strong></h4>
<p>Spec Coding æå€¡â€œå…ˆæ€è€ƒåè¡ŒåŠ¨â€ï¼Œä¹Ÿå°±æ˜¯é€šè¿‡è¯¦ç»†å®šä¹‰å¯ä»¥æ‰§è¡Œçš„éœ€æ±‚è§„èŒƒï¼ˆSpecificationï¼‰æ¥æ¨åŠ¨ AI å¼€å‘ã€‚å®ƒçš„æµç¨‹åŒ…å«â€œéœ€æ±‚åˆ†æã€æŠ€æœ¯è®¾è®¡ã€ä»»åŠ¡æ‹†è§£â€çš„æ–‡æ¡£ç¼–å†™è¿‡ç¨‹ï¼Œæœ€åè®© AI æ ¹æ®è§„èŒƒæ¥å®Œæˆç¼–ç ã€‚è¿™ç§ä¸€æ­¥æ­¥çš„å·¥ä½œæµç¨‹èƒ½ä¿è¯æ¯ä¸€æ­¥éƒ½æœ‰ä¾æ®ï¼Œå®ç°ä»éœ€æ±‚åˆ°ä»£ç çš„å‡†ç¡®è½¬åŒ–ã€‚</p>
<p><strong>è®©æˆ‘æ¥åˆ†æä¸€ä¸‹è¿™ä¸ªåœºæ™¯</strong></p>
<p>ä¸Šé¢æåˆ°å°†å¼€å‘è¿‡ç¨‹åˆ’åˆ†ä¸ºå››ä¸ªå…³é”®é˜¶æ®µï¼Œæ‰€ä»¥è¦å®Œæˆ â€œéœ€æ±‚åˆ†æã€æŠ€æœ¯è®¾è®¡ã€ä»»åŠ¡æ‹†è§£â€ çš„é£ä¹¦æ–‡æ¡£æ’°å†™ï¼Œè¿˜æœ‰æœ€ç»ˆçš„ä»£ç å®ç°ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸åŒçš„æŠ€èƒ½æ¥æ»¡è¶³ä¸åŒåœºæ™¯ä¸‹çš„æ–‡æ¡£ç¼–å†™éœ€æ±‚ï¼Œå¹¶ä¸”è¦æ•™ä¼š Agent å¦‚ä½•ä½¿ç”¨é£ä¹¦å·¥å…·è¿›è¡Œåˆ›ä½œååŒã€‚</p>
<p><strong>ä¸‹é¢æˆ‘ä»¬å°±ä¸€èµ·å®Œæˆä¸Šé¢æåˆ°çš„ Skills çš„è®¾è®¡å®ç°ã€‚</strong></p>
<h4 data-id="heading-18"><strong>å¤šè§’è‰²ä¸“å®¶ Skills</strong></h4>
<p>é€šè¿‡å®ç°å¤šè§’è‰² Skills é€šè¿‡åˆ›å»ºå¤šä¸ªäº¤ä»˜ç‰©è¿‡ç¨‹æ–‡æ¡£ï¼Œçº¦æŸåç»­çš„ç¼–ç ï¼Œä¸ºç¼–ç æä¾›è¶³å¤Ÿä¸”æ˜ç¡®çš„ä¸Šä¸‹æ–‡ï¼Œæ¯ä¸ªSkill ä¸“æ³¨å®Œæˆä¸€ä»¶äº‹</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3af5b203e7e446cbb42409995896ef7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=x2DJMDCBO%2FKvmlfA8f5nD4EIO%2BM%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>ä¸‹é¢è®©æˆ‘ä»¬è¿›ä¸€æ­¥è¯¦ç»†è®¾è®¡</strong></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dbbbe68dfda9491798c69f32a084deb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=whcmN6%2B0R4rMiB19SW6pl38vBOc%3D" alt="" loading="lazy"/></p>
<p>æŒ‰ç…§ä¸Šè¿°çš„è¡¨æ ¼æˆ‘ä»¬å°±å¯ä»¥å¤§è‡´æ˜ç¡®æˆ‘ä»¬éœ€è¦çš„ Skills è¯¥å¦‚ä½•å®ç°äº†ã€‚</p>
<ul>
<li>æœ¬æ¬¡åªä½œä¸ºä¸€ä¸ªä¾‹å­å¤§å®¶å¯ä»¥å‚è€ƒä¸Šé¢åˆ›å»º Skill çš„æ•™ç¨‹è‡ªå·±å®Œæˆä¸€ä¸‹è¿™ä¸ªå¤šè§’è‰² Skills çš„åˆ›å»ºå’Œè°ƒè¯•ï¼Œå½“ç„¶æ­£å¦‚ä¸Šé¢æ‰€è¿°å¥½çš„ Skill éœ€è¦åœ¨å®è·µä¸­é€æ¸ä¼˜åŒ–å¹¶é€šè¿‡åœºæ™¯è°ƒç”¨ä¸æ–­è¿›è¡Œä¼˜åŒ–çš„</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/046c201b33704525a24d8d32fdca1e9c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=tx2MC2Em5jcPSBfbk%2BaJO0SNNZc%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f9a0bcd187364746b74ee2f272c8d73a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=2tTeQMuH9IxdOP3XQlLvdlVWWLo%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-19"><strong>é£ä¹¦æ–‡æ¡£ä½¿ç”¨ Skill</strong></h4>
<p>é£ä¹¦æ–‡æ¡£çš„æ ¼å¼æ˜¯ markdown çš„è¶…é›†ï¼Œ<strong>æˆ‘ä»¬ Skill çš„ç›®çš„åˆ™æ˜¯æ•™ä¼š Agent é£ä¹¦æ–‡æ¡£çš„è¯­æ³•</strong>ï¼Œä¾¿äº Agent å†™å‡ºç¬¦åˆæ ¼å¼çš„ md æ–‡ä»¶ã€‚å¹¶é€šè¿‡çº¦æŸ Agent è¡Œä¸ºï¼Œ<strong>å……åˆ†åˆ©ç”¨é£ä¹¦æ–‡æ¡£çš„è¯„è®ºçš„è¯»å†™å®Œæˆå¤šäººåä½œå®¡é˜…çš„è¿‡ç¨‹</strong>ï¼Œç”¨æˆ·é€šè¿‡åœ¨é£ä¹¦æ–‡æ¡£è¯„è®ºå®Œæˆç›¸å…³å»ºè®®çš„æå‡ºï¼ŒAgent é‡æ–°é˜…è¯»æ–‡æ¡£å’Œè¯„è®ºï¼Œæ ¹æ®å»ºè®®è¿›ä¸€æ­¥ä¼˜åŒ–æ–‡æ¡£ï¼Œ<strong>å®ç°æ–‡æ¡£åä½œå·¥ä½œæµã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/330f2aeb47764d91b04fb728d4464f08~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=VejIhkIHalFsBne1uvVTRCaw5UM%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-20"><strong>Spec Coding Skill</strong></h4>
<p>ä¸Šé¢æˆ‘ä»¬å®ç°äº†å¤šä¸ªè§’è‰² Skills å’Œä¸€ä¸ªåŠŸèƒ½ Skillï¼Œä½†å®é™…ä½¿ç”¨æ—¶ï¼Œè¿˜éœ€è¦æœ‰ä¸€ä¸ªèƒ½ç»Ÿç­¹å…¨å±€çš„æŠ€èƒ½ï¼Œæ¥å®ç°åˆ†å·¥åä½œã€‚æŠŠä¸Šè¿°å¤šä¸ªæŠ€èƒ½ç»„åˆèµ·æ¥ï¼Œå‘Šè¯‰æ™ºèƒ½ä½“ï¼ˆagentï¼‰æ•´ä½“çš„è§„æ ¼ç¼–ç ï¼ˆspec codingï¼‰æµç¨‹ï¼Œå®Œæˆå·¥å…·æŠ€èƒ½å’Œè§’è‰²æŠ€èƒ½çš„ç»„åˆä¸è°ƒåº¦ã€‚</p>
<p>å¦‚æ­¤æˆ‘ä»¬å°±èƒ½å¿«é€Ÿæ­å»ºä¸€ä¸ªè§„æ ¼ç¼–ç å·¥ä½œæµç¨‹ï¼Œå®ŒæˆåŸºç¡€å¼€å‘ã€‚å½“ç„¶ä¹Ÿå¯ä»¥å‚è€ƒä¸Šé¢çš„é€»è¾‘ï¼Œç”¨æŠ€èƒ½æ¥é‡æ–°å¤åˆ»ç¤¾åŒºé‡Œçš„è§„æ ¼ç¼–ç å®è·µï¼ˆå¦‚ SpecKitã€OpenSpec ç­‰ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c5701078e580497895f98d1efd77d5d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=vq%2BTCQxE%2F6DhdQKDYt7WFoPGPUw%3D" alt="" loading="lazy"/><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7925bbc8e2d14f1b80591c4e60cc2176~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=oGg%2BqMgLQuYpKDdZUviIUAze4Pc%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-21"><strong>æ€»ç»“</strong></h4>
<p>ä¸Šè¿°åœºæ™¯æåˆ°äº†ä¸¤ç§ä¸åŒé£æ ¼çš„ Skillï¼ˆè§’è‰²å‹ï¼Œå·¥å…·å‹ï¼‰ï¼Œåˆ©ç”¨Â <strong>Skill çš„åŠ¨æ€åŠ è½½æœºåˆ¶</strong>ï¼ˆå–ä»£å›ºå®šè§„åˆ™çš„ä¸€æ¬¡æ€§åŠ è½½æ–¹å¼ï¼‰ï¼Œå®Œæˆäº†å¤æ‚åœºæ™¯ä¸‹çš„ä»»åŠ¡åˆ†è§£ï¼›é€šè¿‡Â <strong>ä¸åŒè§’è‰²æŠ€èƒ½çš„åˆ†å·¥åä½œ</strong>ï¼ˆé¿å… Agent ä»€ä¹ˆéƒ½åšå¯¼è‡´æ‰§è¡Œæ··ä¹±ï¼‰ï¼›å°è¯•å€ŸåŠ©<strong>é£ä¹¦æ–‡æ¡£å½¢æˆåä½œé—­ç¯</strong>ï¼ˆæ‰“é€šäººæœºäº¤äº’çš„æœ€åä¸€æ­¥ï¼‰ï¼Œæœ‰æ•ˆè§£å†³äº† Agent â€œä¸å¬è¯ã€æ‰§è¡Œä¹±ã€å·¥å…·å°‘â€ çš„é—®é¢˜ï¼Œè®© AI ä» â€œå¯¹è¯åŠ©æ‰‹â€ çœŸæ­£è½¬å˜ä¸º â€œå¯ä¿¡èµ–çš„å®å¹²å®¶â€ï¼Œå®ç°ä»éœ€æ±‚æå‡ºåˆ°ä»£ç äº§å‡ºçš„é«˜æ•ˆã€ç²¾å‡†ã€åä½œå¼äº¤ä»˜ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/580d8eed249c4a98ae1233f298611cff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=s2iEalF5pfkW%2Fe6eCvci1rjS7tE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-22"><strong>Q &amp; A | ä¸€äº›å¸¸è§é—®é¢˜</strong></h2>
<h3 data-id="heading-23"><strong>ä¸ºä»€ä¹ˆæˆ‘å†™çš„ Skills ä¸ç”Ÿæ•ˆï¼Œæˆ–è€…æ•ˆæœä¸ç¬¦åˆé¢„æœŸï¼Ÿ</strong></h3>
<p><strong>é‚£åæœ‰å…«ä¹æ˜¯ä½ çš„â€œåç‰‡â€ï¼ˆ</strong> <em><strong>Description</strong></em> <strong>ï¼‰æ²¡å†™å¥½ã€‚</strong></p>
<p>è®°ä½ï¼ŒAgent æ˜¯é€šè¿‡è¯»å– Skills çš„ <em><strong>Description</strong></em> æ¥åˆ¤æ–­â€œä»€ä¹ˆæ—¶å€™è¯¥ç”¨å“ªä¸ª Skillâ€çš„ã€‚è¦æ˜¯ä½ çš„æè¿°å†™å¾—å«ç³Šä¸æ¸…ã€å¤ªä¸“ä¸šæˆ–è€…å¤ªç®€å•ï¼ŒAgent å°±å¾ˆéš¾æ˜ç™½ä½ çš„æ„æ€ï¼Œè‡ªç„¶åœ¨éœ€è¦çš„æ—¶å€™å°±ä¸ä¼šè°ƒç”¨è¿™ä¸ª Skillã€‚æ‰€ä»¥ï¼Œ<strong>ç”¨å¤§ç™½è¯å†™çš„æ¸…æ™°ã€å‡†ç¡®çš„</strong> <em><strong>Description</strong></em> <strong>ï¼Œå¯¹ Skill èƒ½å¦èµ·ä½œç”¨è‡³å…³é‡è¦ã€‚</strong></p>
<h3 data-id="heading-24"><strong>ä½¿ç”¨ Skills çš„æ•ˆæœï¼Œä¼šå—åˆ°æˆ‘é€‰æ‹©çš„å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„å½±å“å—ï¼Ÿ</strong></h3>
<p><strong>ä¼šæœ‰å½±å“ï¼Œä¸è¿‡å½±å“çš„æ–¹é¢ä¸ä¸€æ ·ã€‚</strong></p>
<ul>
<li>
<p><strong>ä¸€ä¸ªæ›´å¼ºå¤§çš„æ¨¡å‹ï¼Œä¸»è¦å½±å“â€œæŒ‘é€‰â€å’Œâ€œå®‰æ’â€æŠ€èƒ½çš„èƒ½åŠ›ã€‚</strong> å®ƒèƒ½æ›´å‡†ç¡®åœ°æ˜ç™½ä½ çš„çœŸå®æƒ³æ³•ï¼Œç„¶åä»ä¸€å †æŠ€èƒ½é‡ŒæŒ‘å‡ºæœ€é€‚åˆçš„ä¸€ä¸ªæˆ–å‡ ä¸ªæ¥è§£å†³é—®é¢˜ã€‚å®ƒçš„ä¼˜åŠ¿ä½“ç°åœ¨åˆ¶å®šç­–ç•¥æ–¹é¢ã€‚</p>
</li>
<li>
<p><strong>è€ŒæŠ€èƒ½æœ¬èº«ï¼Œå†³å®šäº†å…·ä½“ä»»åŠ¡æ‰§è¡Œçš„â€œæœ€ä½æ°´å¹³â€å’Œâ€œç¨³å®šæ€§â€ã€‚</strong> ä¸€æ—¦æŸä¸ªæŠ€èƒ½è¢«é€‰ä¸­ï¼Œå®ƒé‡Œé¢è®¾å®šå¥½çš„æµç¨‹å’Œä»£ç æ˜¯å›ºå®šçš„ï¼Œä¼šç¨³å®šåœ°è¿è¡Œã€‚æ‰€ä»¥ï¼ŒæŠ€èƒ½ç¼–å†™å¾—å¥½ä¸å¥½ï¼Œç›´æ¥å†³å®šäº†å…·ä½“ä»»åŠ¡èƒ½ä¸èƒ½å‡ºè‰²å®Œæˆã€‚ã€‚</p>
</li>
</ul>
<h3 data-id="heading-25"><strong>Skills æ˜¯ä¸æ˜¯ä¸‡èƒ½çš„ï¼Ÿæœ‰ä»€ä¹ˆå®ƒä¸æ“…é•¿åšçš„äº‹æƒ…å—ï¼Ÿ</strong></h3>
<p><strong>å½“ç„¶ä¸æ˜¯ä¸‡èƒ½çš„ã€‚</strong> Skills çš„ä¸»è¦ä¼˜åŠ¿æ˜¯<strong>å¤„ç†é‚£äº›æµç¨‹æ˜ç¡®ã€è¾¹ç•Œæ¸…æ™°çš„ä»»åŠ¡ã€‚</strong> åœ¨ä¸‹é¢è¿™äº›æƒ…å†µä¸­ï¼Œå®ƒå¯èƒ½å°±ä¸æ˜¯æœ€å¥½çš„é€‰æ‹©äº†ï¼š</p>
<ul>
<li>
<p><strong>éœ€è¦é«˜åº¦åˆ›é€ åŠ›çš„ä»»åŠ¡ï¼š</strong> åƒå†™ä¸€é¦–é¥±å«æƒ…æ„Ÿçš„è¯—ï¼Œæˆ–è€…è®¾è®¡ä¸€ä¸ªå…¨æ–°çš„å“ç‰Œæ ‡å¿—ã€‚è¿™ç±»å·¥ä½œæ›´éœ€è¦å¤§æ¨¡å‹æœ¬èº«çš„â€œçµæ„Ÿâ€ã€‚</p>
</li>
<li>
<p><strong>éœ€è¦å®æ—¶ã€åŠ¨æ€åšå†³ç­–çš„å¤æ‚ç­–ç•¥æ¸¸æˆï¼š</strong> æ¯”å¦‚åœ¨å˜åŒ–æå¿«çš„é‡‘èå¸‚åœºä¸­åšäº¤æ˜“å†³ç­–ã€‚</p>
</li>
<li>
<p><strong>å•çº¯çš„çŸ¥è¯†é—®ç­”æˆ–å¼€æ”¾å¼é—²èŠï¼š</strong> å¦‚æœä½ åªæ˜¯æƒ³é—®â€œæ–‡è‰ºå¤å…´ä¸‰æ°æ˜¯è°ï¼Ÿâ€ï¼Œç›´æ¥é—®å¤§æ¨¡å‹å°±å¯ä»¥ï¼Œä¸ç”¨åŠ¨ç”¨ Skills è¿™ä¸ªâ€œå¤§æ€å™¨â€ã€‚</p>
</li>
</ul>
<h3 data-id="heading-26"><strong>æˆ‘å‘ç°ä¸€ä¸ªç¤¾åŒºçš„ Skills å¾ˆå¥½ç”¨ï¼Œä½†æˆ‘å¯ä»¥ä¿®æ”¹å®ƒä»¥é€‚åº”æˆ‘çš„ç‰¹æ®Šéœ€æ±‚å—ï¼Ÿ</strong></h3>
<p><strong>å½“ç„¶å¯ä»¥ï¼Œæˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ è¿™ä¹ˆåšï¼</strong></p>
<p>å¤§å¤šæ•°å…±äº«çš„ Skill éƒ½æ”¯æŒç”¨æˆ·â€œForkâ€ï¼ˆä¹Ÿå°±æ˜¯â€œå¤åˆ¶ä¸€ä»½â€ï¼‰å¹¶è¿›è¡ŒäºŒæ¬¡å¼€å‘ã€‚ä½ å¯ä»¥æŠŠé€šç”¨çš„ Skill å½“ä½œæ¨¡æ¿ï¼Œåœ¨è‡ªå·±çš„å·¥ä½œç©ºé—´é‡Œå¤åˆ¶ä¸€ä»½ï¼Œç„¶åä¿®æ”¹é‡Œé¢çš„é€»è¾‘æˆ–å‚æ•°ï¼Œä»¥é€‚åº”ä½ è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚ã€‚è¿™å¯¹æ•´ä¸ªç”Ÿæ€çš„å…±å»ºå’ŒçŸ¥è¯†å¤ç”¨å¾ˆé‡è¦ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0c2dfe38cb3454f81679a9548f08458~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770028042&amp;x-signature=cJCENj%2BpTeNPQE468eNnku7SJfc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-27"><strong>ç»“è¯­ï½œè®© Agent æˆä¸ºä½ çœŸæ­£çš„â€œè¡ŒåŠ¨æ´¾â€</strong></h2>
<p>Skill çš„å‡ºç°ï¼Œä¸º AI ä»â€œå¯¹è¯å¼åŠ©æ‰‹â€è½¬å˜ä¸ºâ€œå¯ä¿¡èµ–çš„æ‰§è¡Œè€…â€æ­å»ºäº†å…³é”®çš„æŠ€æœ¯æ¡¥æ¢ã€‚å®ƒç”¨ç»“æ„åŒ–çš„æ–¹æ³•æŠŠé¢†åŸŸçŸ¥è¯†ã€æ“ä½œæµç¨‹å’Œå·¥å…·è°ƒç”¨é€»è¾‘å°è£…èµ·æ¥ï¼Œè§£å†³äº† Agent è§„åˆ™å¤±æ•ˆã€æ‰§è¡Œå¤±æ§çš„æ··ä¹±é—®é¢˜ï¼Œè®© AI çš„èƒ½åŠ›è¾“å‡ºå˜å¾—å¯ä»¥æ§åˆ¶ã€å€¼å¾—ä¿¡èµ–ä¸”é«˜æ•ˆã€‚</p>
<p>Skill çš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š</p>
<ul>
<li>
<p><strong>ç²¾å‡†å®é™…ç—›ç‚¹ï¼š</strong> é€šè¿‡å·§å¦™çš„ä¸‰çº§åŠ è½½æœºåˆ¶ï¼ˆå…ƒæ•°æ®â†’è¯´æ˜æ–‡æ¡£â†’èµ„æºï¼‰å¹³è¡¡ä¸Šä¸‹æ–‡æ•ˆç‡ä¸åŠŸèƒ½æ·±åº¦ï¼Œåœ¨åŠŸèƒ½æ·±åº¦å’Œä¸Šä¸‹æ–‡æ•ˆç‡ä¹‹é—´æ‰¾åˆ°äº†ä¸€ä¸ªç»ä½³çš„å¹³è¡¡ç‚¹ï¼Œæ—¢é¿å…äº†å®è´µ Token çš„æµªè´¹ï¼Œåˆç¡®ä¿äº†ä»»åŠ¡æ‰§è¡Œçš„ç²¾å‡†æ€§ï¼Œå®ç°äº† Agent ä¸Šä¸‹æ–‡çš„åŠ¨æ€åŠ è½½èƒ½åŠ›ã€‚</p>
</li>
<li>
<p><strong>ç”Ÿæ€èµ‹èƒ½ï¼Œé™ä½é—¨æ§›ï¼š</strong> æ— è®ºæ˜¯å®˜æ–¹è¿˜æ˜¯ç¤¾åŒºï¼Œéƒ½æä¾›äº†ä¸°å¯Œçš„èµ„æºï¼ˆå¦‚ Claude å®˜æ–¹ä»“åº“ã€SkillsMP å¸‚åœºç­‰ï¼‰ï¼Œè®©æ™®é€šç”¨æˆ·ä¹Ÿèƒ½è½»æ¾ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼Œå¿«é€Ÿå¤ç”¨å„ç§æˆç†Ÿçš„èƒ½åŠ›ã€‚</p>
</li>
</ul>
<p>è™½ç„¶ Skill ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œä½†å®ƒåœ¨â€œç¡®å®šæ€§æµç¨‹ä»»åŠ¡â€ä¸Šçš„ä¼˜åŠ¿æ— å¯æ›¿ä»£ã€‚æœªæ¥ï¼Œéšç€ AI æ¨¡å‹èƒ½åŠ›çš„æå‡ä¸ Skill ç”Ÿæ€çš„è¿›ä¸€æ­¥å®Œå–„ï¼Œæˆ‘ä»¬æœ‰æœ›çœ‹åˆ°æ›´å¤šè·¨é¢†åŸŸã€å¯ç»„åˆçš„ Skill å‡ºç°â€”â€”<strong>è®© AI ä»â€œæ ·æ ·æ‡‚ä¸€ç‚¹â€çš„é€šæ‰ï¼ŒçœŸæ­£è¿›åŒ–ä¸ºâ€œäº‹äº‹åšå¾—å¥½â€çš„ä¸“å®¶åä½œä¼™ä¼´ã€‚</strong></p>
<p><strong>ä¸å¦¨ä»ä»Šå¤©å¼€å§‹ï¼Œå°è¯•åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ª Skillï¼šå°†ä½ æœ€æ“…é•¿çš„é¢†åŸŸç»éªŒå°è£…æˆå¯å¤ç”¨çš„èƒ½åŠ›ï¼Œè®© AI æˆä¸ºä½ å»¶ä¼¸ä¸“ä¸šä»·å€¼çš„æ”¾å¤§å™¨ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ¨¡å‹ç³»åˆ—ä¹‹-RAGæŠ€æœ¯æ·±åº¦è§£æï¼šä»åŸºç¡€æ¶æ„åˆ°å®æˆ˜åº”ç”¨]]></title>    <link>https://juejin.cn/post/7598699872553074724</link>    <guid>https://juejin.cn/post/7598699872553074724</guid>    <pubDate>2026-01-25T16:08:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598699872553074724" data-draft-id="7598537739517263914" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ¨¡å‹ç³»åˆ—ä¹‹-RAGæŠ€æœ¯æ·±åº¦è§£æï¼šä»åŸºç¡€æ¶æ„åˆ°å®æˆ˜åº”ç”¨"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-25T16:08:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­£å„¿å…«ç»è›™"/> <meta itemprop="url" content="https://juejin.cn/user/4101648892575020"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ¨¡å‹ç³»åˆ—ä¹‹-RAGæŠ€æœ¯æ·±åº¦è§£æï¼šä»åŸºç¡€æ¶æ„åˆ°å®æˆ˜åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4101648892575020/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­£å„¿å…«ç»è›™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T16:08:35.000Z" title="Sun Jan 25 2026 16:08:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¸€å¼€å§‹æ¥è§¦å¤§æ¨¡å‹é—®ç­”çš„æ—¶å€™ï¼Œå‘ç°ç›´æ¥é—®å®ƒä¸€äº›æœ€æ–°çš„ã€æˆ–è€…å…¬å¸å†…éƒ¨çš„çŸ¥è¯†ï¼Œå®ƒå°±å¼€å§‹èƒ¡è¯´å…«é“äº†ï¼Œè¦ä¹ˆè¯´â€œæˆ‘çš„çŸ¥è¯†æˆªæ­¢åˆ°...â€ï¼Œè¦ä¹ˆå°±ä¸€æœ¬æ­£ç»åœ°ç¼–ç­”æ¡ˆï¼Œå¹²ï¼ï¼</p>
<p>åæ¥å‘ç°æœ‰ä¸ªå«<strong>RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰</strong> çš„æŠ€æœ¯èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯´ç™½äº†å°±æ˜¯â€œ<strong>ä¸ä¼šå°±æŸ¥ï¼ŒæŸ¥å®Œå†ç­”</strong>â€ã€‚æˆ‘ç”¨ä¸‹æ¥ä¹‹åå‘ç°ï¼Œè¿™ç©æ„å„¿æ˜¯çœŸé¦™ï¼Œä½†å‘ä¹Ÿæ˜¯çœŸå¤šã€‚ä»Šå¤©å°±æŠŠæˆ‘æŠ˜è…¾RAGçš„å®æˆ˜ç»éªŒï¼Œä»æ ¸å¿ƒæ¶æ„åˆ°ä¼˜åŒ–æŠ€å·§ï¼Œä¸€æ¬¡æ€§ç»™ä½ è®²æ˜ç™½ã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒæ¶æ„ï¼šæ‹†å¼€çœ‹çœ‹é‡Œé¢éƒ½æœ‰å•¥</h3>
<p>ä¸€ä¸ªå®Œæ•´çš„RAGç³»ç»Ÿï¼Œå…¶å®å°±åƒä¸ªèªæ˜çš„å›¾ä¹¦ç®¡ç†å‘˜ã€‚ä½ é—®é—®é¢˜ï¼Œå®ƒå…ˆå»èµ„æ–™åº“ï¼ˆå‘é‡æ•°æ®åº“ï¼‰é‡Œç¿»æ‰¾æœ€ç›¸å…³çš„å‡ æœ¬ä¹¦ï¼ˆæ–‡æ¡£ç‰‡æ®µï¼‰ï¼Œç„¶åæŠŠè¿™å‡ é¡µå†…å®¹å’Œä½ é—®é¢˜ä¸€èµ·ï¼Œäº¤ç»™å¤§æ¨¡å‹å»ç»„ç»‡ç­”æ¡ˆã€‚</p>
<p>æ•´ä¸ªæµç¨‹æ‹†å¼€çœ‹ï¼Œä¸»è¦å°±è¿™å‡ å—ï¼š</p>
<h4 data-id="heading-2">1. æ–‡æ¡£å¤„ç†æµæ°´çº¿ï¼ˆIngestion Pipelineï¼‰</h4>
<p>è¿™æ˜¯æœ€åŸºç¡€ä¹Ÿæœ€å®¹æ˜“å‡ºé—®é¢˜çš„åœ°æ–¹ã€‚ä½ çš„PDFã€Wordã€ç½‘é¡µï¼Œéƒ½å¾—å…ˆå˜æˆå¤§æ¨¡å‹èƒ½â€œåƒâ€çš„æ ¼å¼ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"># ä¸€ä¸ªç®€å•çš„æ–‡æ¡£å¤„ç†ç¤ºä¾‹ï¼Œç”¨LangChainfrom langchain.document_loaders <span class="hljs-keyword">import</span> PyPDFLoaderfrom langchain.text_splitter <span class="hljs-keyword">import</span> RecursiveCharacterTextSplitter# åŠ è½½æ–‡æ¡£loader = <span class="hljs-built_in">PyPDFLoader</span>(<span class="hljs-string">"å…¬å¸æ‰‹å†Œ.pdf"</span>)documents = loader.<span class="hljs-built_in">load</span>()# åˆ‡åˆ†æ–‡æ¡£ - è¿™é‡Œå°±æœ‰è®²ç©¶äº†ï¼text_splitter = <span class="hljs-built_in">RecursiveCharacterTextSplitter</span>(    chunk_size=<span class="hljs-number">500</span>,      # æ¯ä¸ªç‰‡æ®µ<span class="hljs-number">500</span>å­—ç¬¦    chunk_overlap=<span class="hljs-number">50</span>,    # é‡å <span class="hljs-number">50</span>å­—ç¬¦ï¼Œé¿å…ä¿¡æ¯è¢«åˆ‡æ–­    separators=[<span class="hljs-string">"\n\n"</span>, <span class="hljs-string">"\n"</span>, <span class="hljs-string">"ã€‚"</span>, <span class="hljs-string">"ï¼Œ"</span>, <span class="hljs-string">" "</span>, <span class="hljs-string">""</span>]  # æŒ‰è¿™äº›ç¬¦å·ä¼˜å…ˆåˆ‡åˆ†)chunks = text_splitter.<span class="hljs-built_in">split_documents</span>(documents)
</code></pre>
<blockquote>
<p><strong>é™„èµ å°æŠ€å·§</strong>ï¼š<code>chunk_size</code>åˆ«çè®¾ï¼å¤ªå¤§ä¼šå¯¼è‡´æ£€ç´¢ä¸ç²¾å‡†ï¼Œå¤ªå°åˆä¼šè®©æ¨¡å‹çœ‹ä¸åˆ°å®Œæ•´ä¸Šä¸‹æ–‡ã€‚æˆ‘è¯•ä¸‹æ¥ï¼Œ500-1000å­—ç¬¦å¯¹äºä¸­æ–‡æ–‡æ¡£æ¯”è¾ƒåˆé€‚ã€‚</p>
</blockquote>
<h4 data-id="heading-3">2. å‘é‡åŒ–ä¸æ£€ç´¢ï¼ˆEmbedding &amp; Retrievalï¼‰</h4>
<p>è¿™æ˜¯RAGçš„â€œæ£€ç´¢â€éƒ¨åˆ†æ ¸å¿ƒã€‚ç®€å•è¯´å°±æ˜¯æŠŠæ–‡å­—å˜æˆä¸€ä¸²æ•°å­—ï¼ˆå‘é‡ï¼‰ï¼Œç„¶åè®¡ç®—ç›¸ä¼¼åº¦ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">from</span> langchain.<span class="hljs-property">embeddings</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">HuggingFaceEmbeddingsfrom</span> langchain.<span class="hljs-property">vectorstores</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">Chroma</span># ä½¿ç”¨å¼€æºçš„embeddingæ¨¡å‹embeddings = <span class="hljs-title class_">HuggingFaceEmbeddings</span>(    model_name=<span class="hljs-string">"BAAI/bge-small-zh-v1.5"</span>,  # ä¸­æ–‡å°æ¨¡å‹ï¼Œæ•ˆæœä¸é”™    model_kwargs={<span class="hljs-string">'device'</span>: <span class="hljs-string">'cpu'</span>},       # æ²¡<span class="hljs-variable constant_">GPU</span>ä¹Ÿèƒ½è·‘    encode_kwargs={<span class="hljs-string">'normalize_embeddings'</span>: <span class="hljs-title class_">True</span>}  # å½’ä¸€åŒ–ï¼Œæé«˜æ£€ç´¢ç²¾åº¦)# åˆ›å»ºå‘é‡æ•°æ®åº“vectorstore = <span class="hljs-title class_">Chroma</span>.<span class="hljs-title function_">from_documents</span>(    documents=chunks,    embedding=embeddings,    persist_directory=<span class="hljs-string">"./chroma_db"</span># ä¿å­˜åˆ°æœ¬åœ°ï¼Œä¸‹æ¬¡ä¸ç”¨é‡æ–°ç”Ÿæˆ)
</code></pre>
<p>ä¹Ÿä¸å–å…³å­ï¼Œè¿™é‡Œæœ‰å‡ ä¸ªå…³é”®é€‰æ‹©ï¼š</p>
<ul>
<li><strong>Embeddingæ¨¡å‹</strong>ï¼šä¸­æ–‡åƒä¸‡åˆ«ç”¨OpenAIçš„text-embedding-ada-002ï¼ˆè™½ç„¶å®ƒè‹±æ–‡å¾ˆå¼ºï¼‰ï¼Œå¯¹ä¸­æ–‡æ”¯æŒä¸å¥½ã€‚æ¨èç”¨<code>BAAI/bge</code>ç³»åˆ—æˆ–è€…<code>m3e</code>ç³»åˆ—ã€‚</li>
<li><strong>å‘é‡æ•°æ®åº“</strong>ï¼šå°é¡¹ç›®ç”¨Chromaï¼ˆè½»é‡ï¼Œæœ¬åœ°è¿è¡Œï¼‰ï¼Œç”Ÿäº§ç¯å¢ƒå¯ä»¥è€ƒè™‘Qdrantã€Weaviateæˆ–è€…Pineconeï¼ˆäº‘æœåŠ¡ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-4">3. å¢å¼ºç”Ÿæˆï¼ˆAugmented Generationï¼‰</h4>
<p>è¿™æ˜¯æœ€åä¸€æ­¥ï¼ŒæŠŠæ£€ç´¢åˆ°çš„æ–‡æ¡£å’Œé—®é¢˜ä¸€èµ·å–‚ç»™å¤§æ¨¡å‹ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">from</span> langchain.chains import RetrievalQAfrom langchain.llms import ChatGLM# åˆå§‹åŒ–æœ¬åœ°å¤§æ¨¡å‹llm <span class="hljs-operator">=</span> ChatGLM(    endpoint<span class="hljs-operator">=</span>"http://localhost:8000",  # æœ¬åœ°éƒ¨ç½²çš„ChatGLM API    max_tokens<span class="hljs-operator">=</span><span class="hljs-number">1024</span>,    temperature<span class="hljs-operator">=</span><span class="hljs-number">0.1</span># æ¸©åº¦è°ƒä½ï¼Œè®©ç­”æ¡ˆæ›´ç¡®å®š)# åˆ›å»ºRAGé“¾qa_chain <span class="hljs-operator">=</span> RetrievalQA.from_chain_type(    llm<span class="hljs-operator">=</span>llm,    chain_type<span class="hljs-operator">=</span>"stuff",  # æœ€ç®€å•çš„æ–¹å¼ï¼šæŠŠæ‰€æœ‰æ£€ç´¢åˆ°çš„æ–‡æ¡£æ‹¼èµ·æ¥ä¸€èµ·é—®    retriever<span class="hljs-operator">=</span>vectorstore.as_retriever(        search_kwargs<span class="hljs-operator">=</span>{"k": <span class="hljs-number">3</span>}  # æ£€ç´¢å‰<span class="hljs-number">3</span>ä¸ªæœ€ç›¸å…³çš„ç‰‡æ®µ    ),    return_source_documents<span class="hljs-operator">=</span><span class="hljs-literal">True</span># è¿”å›æºæ–‡æ¡£ï¼Œæ–¹ä¾¿è°ƒè¯•)# æé—®ï¼<span class="hljs-keyword">result</span> <span class="hljs-operator">=</span> qa_chain("æˆ‘ä»¬å…¬å¸çš„å¹´å‡æ”¿ç­–æ˜¯æ€æ ·çš„ï¼Ÿ")print(<span class="hljs-keyword">result</span>["result"])print("å‚è€ƒæ¥æºï¼š", <span class="hljs-keyword">result</span>["source_documents"])
</code></pre>
<h3 data-id="heading-5">ä¼˜åŒ–ç­–ç•¥ï¼šä»â€œèƒ½ç”¨â€åˆ°â€œå¥½ç”¨â€</h3>
<p>å¦‚æœä½ æŒ‰ä¸Šé¢çš„æ­¥éª¤æ­èµ·æ¥ï¼Œä¼šå‘ç°åŸºæœ¬åŠŸèƒ½æ˜¯æœ‰äº†ï¼Œä½†æ•ˆæœå¯èƒ½ä¸å¤ªç†æƒ³ã€‚ä¸‹é¢æ˜¯æˆ‘è¸©è¿‡å‘åæ€»ç»“çš„ä¼˜åŒ–æŠ€å·§ï¼š</p>
<h4 data-id="heading-6">1. æ£€ç´¢ä¼˜åŒ–ï¼šè®©æ‰¾ä¸œè¥¿æ›´å‡†</h4>
<ul>
<li><strong>é—®é¢˜é‡å†™</strong>ï¼šç”¨æˆ·é—®â€œå’‹è¯·å‡ï¼Ÿâ€ï¼Œä½†æ–‡æ¡£é‡Œå†™çš„æ˜¯â€œå¹´å‡ç”³è¯·æµç¨‹â€ã€‚éœ€è¦åœ¨æ£€ç´¢å‰æŠŠé—®é¢˜æ”¹å†™æˆâ€œå¹´å‡ç”³è¯·æµç¨‹â€ã€‚</li>
</ul>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">ç”¨å¤§æ¨¡å‹å…ˆé‡å†™é—®é¢˜rewrite_prompt = <span class="hljs-string">""</span><span class="hljs-string">"è¯·å°†ä»¥ä¸‹ç”¨æˆ·é—®é¢˜é‡å†™ä¸ºæ›´é€‚åˆæ–‡æ¡£æ£€ç´¢çš„æŸ¥è¯¢è¯­å¥ã€‚ç”¨æˆ·é—®é¢˜ï¼š{question}é‡å†™åçš„æŸ¥è¯¢ï¼š"</span><span class="hljs-string">""</span><span class="hljs-comment"># å…ˆè°ƒç”¨ä¸€æ¬¡LLMé‡å†™é—®é¢˜ï¼Œå†ç”¨é‡å†™åçš„é—®é¢˜å»æ£€ç´¢</span></span>
</code></pre>
<ul>
<li><strong>æ··åˆæ£€ç´¢</strong>ï¼šå…‰ç”¨å‘é‡æ£€ç´¢ï¼ˆè¯­ä¹‰æœç´¢ï¼‰ä¸å¤Ÿï¼Œå†åŠ ä¸ªå…³é”®è¯æ£€ç´¢ï¼ˆç¨€ç–æœç´¢ï¼‰ã€‚æ¯”å¦‚â€œ2024å¹´Q2è´¢æŠ¥â€ï¼Œå…¶ä¸­â€œ2024â€ã€â€œQ2â€è¿™äº›å…³é”®è¯å¾ˆé‡è¦ã€‚</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">from</span> langchain<span class="hljs-selector-class">.retrievers</span> import BM25Retriever, EnsembleRetriever# åˆ›å»ºä¸¤ä¸ªæ£€ç´¢å™¨vector_retriever = vectorstore<span class="hljs-selector-class">.as_retriever</span>(search_kwargs={"k": <span class="hljs-number">3</span>})bm25_retriever = BM25Retriever<span class="hljs-selector-class">.from_documents</span>(chunks)# ç»„åˆèµ·æ¥ensemble_retriever = EnsembleRetriever(    retrievers=<span class="hljs-selector-attr">[bm25_retriever, vector_retriever]</span>,    weights=<span class="hljs-selector-attr">[0.4, 0.6]</span>  # è°ƒæ•´æƒé‡ï¼Œæˆ‘è¯•ä¸‹æ¥<span class="hljs-number">0.4</span>/<span class="hljs-number">0.6</span>æ•ˆæœä¸é”™)
</code></pre>
<h4 data-id="heading-7">2. æç¤ºè¯ä¼˜åŒ–ï¼šè®©æ¨¡å‹ç­”å¾—æ›´å¥½</h4>
<p>ç›´æ¥æ‰”æ–‡æ¡£ç»™æ¨¡å‹ï¼Œå®ƒå¯èƒ½æŠ“ä¸ä½é‡ç‚¹ã€‚å¾—åœ¨æç¤ºè¯é‡Œâ€œæ•™â€å®ƒæ€ä¹ˆç”¨è¿™äº›æ–‡æ¡£ã€‚</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">æ”¹è¿›åçš„æç¤ºè¯æ¨¡æ¿RAG_PROMPT_TEMPLATE = <span class="hljs-string">""</span><span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„é—®ç­”åŠ©æ‰‹ï¼Œè¯·æ ¹æ®ä»¥ä¸‹æä¾›çš„å‚è€ƒæ–‡æ¡£æ¥å›ç­”é—®é¢˜ã€‚å¦‚æœæ–‡æ¡£ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œè¯·ç›´æ¥è¯´â€œæ ¹æ®æä¾›çš„èµ„æ–™ï¼Œæˆ‘æ— æ³•å›ç­”è¿™ä¸ªé—®é¢˜â€ï¼Œä¸è¦ç¼–é€ ç­”æ¡ˆã€‚å‚è€ƒæ–‡æ¡£ï¼š{context}ç”¨æˆ·é—®é¢˜ï¼š{question}è¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼å›ç­”ï¼š1. é¦–å…ˆç»™å‡ºç›´æ¥ç­”æ¡ˆ2. ç„¶åè¯´æ˜è¿™ä¸ªç­”æ¡ˆçš„ä¾æ®ï¼ˆå¼•ç”¨æ–‡æ¡£ä¸­çš„å…·ä½“å†…å®¹ï¼‰3. å¦‚æœæœ‰ç›¸å…³æµç¨‹æˆ–æ³¨æ„äº‹é¡¹ï¼Œä¸€å¹¶åˆ—å‡ºå›ç­”ï¼š"</span><span class="hljs-string">""</span></span>
</code></pre>
<blockquote>
<p><strong>é™„èµ å°æŠ€å·§</strong>ï¼šåœ¨æç¤ºè¯é‡ŒåŠ ä¸Šâ€œå¦‚æœä¸çŸ¥é“å°±è¯´ä¸çŸ¥é“â€ï¼Œèƒ½å‡å°‘80%çš„èƒ¡ç¼–ä¹±é€ ï¼è´´ä¸è´´å¿ƒå§ï¼Ÿ</p>
</blockquote>
<h4 data-id="heading-8">3. è¯„ä¼°ä¸è¿­ä»£ï¼šæ€ä¹ˆçŸ¥é“æ•ˆæœå¥½ä¸å¥½</h4>
<p>æ­å®ŒRAGä¸èƒ½å°±å®Œäº‹äº†ï¼Œå¾—æœ‰ä¸ªè¯„ä¼°æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-css" lang="css"># ç®€å•çš„è¯„ä¼°è„šæœ¬test_questions = <span class="hljs-selector-attr">[    <span class="hljs-string">"å¹´å‡æœ‰å¤šå°‘å¤©ï¼Ÿ"</span>,    <span class="hljs-string">"è¯·å‡éœ€è¦è°å®¡æ‰¹ï¼Ÿ"</span>,    <span class="hljs-string">"ç—…å‡éœ€è¦ä»€ä¹ˆè¯æ˜ï¼Ÿ"</span>]</span>for question in test_questions:    result = <span class="hljs-built_in">qa_chain</span>(question)    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"é—®é¢˜ï¼š{question}"</span>)    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"ç­”æ¡ˆï¼š{result['result'][:200]}..."</span>)  # åªæ‰“å°å‰<span class="hljs-number">200</span>å­—ç¬¦    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"æ£€ç´¢åˆ°çš„æ–‡æ¡£æ•°ï¼š{len(result['source_documents'])}"</span>)    <span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * <span class="hljs-number">50</span>)        # æ‰‹åŠ¨è¯„ä¼°ï¼š<span class="hljs-number">1</span>. ç­”æ¡ˆæ˜¯å¦æ­£ç¡® <span class="hljs-number">2</span>. æ˜¯å¦å¼•ç”¨äº†ç›¸å…³æ–‡æ¡£    # ç”Ÿäº§ç¯å¢ƒå¯ä»¥ç”¨GPT-<span class="hljs-number">4</span>æ¥è‡ªåŠ¨è¯„ä¼°ï¼Œä½†é‚£ä¸ªè¦èŠ±é’±...
</code></pre>
<h3 data-id="heading-9">éƒ¨ç½²å®æˆ˜ï¼šè®©RAGè·‘èµ·æ¥</h3>
<p>ç†è®ºè¯´å®Œäº†ï¼Œæ¥ç‚¹å®é™…çš„ã€‚å‡è®¾æˆ‘ä»¬è¦éƒ¨ç½²ä¸€ä¸ªå…¬å¸çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿã€‚</p>
<h4 data-id="heading-10">é¡¹ç›®ç»“æ„ï¼š</h4>
<pre><code class="hljs language-bash" lang="bash">company-rag/â”œâ”€â”€ docs/                    <span class="hljs-comment"># åŸå§‹æ–‡æ¡£â”‚   â”œâ”€â”€ å‘˜å·¥æ‰‹å†Œ.pdfâ”‚   â”œâ”€â”€ è´¢åŠ¡åˆ¶åº¦.docxâ”‚   â””â”€â”€ äº§å“ä»‹ç».mdâ”œâ”€â”€ ingest.py               # æ–‡æ¡£å¤„ç†è„šæœ¬â”œâ”€â”€ query.py               # æŸ¥è¯¢æ¥å£â”œâ”€â”€ chroma_db/             # å‘é‡æ•°æ®åº“ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰â””â”€â”€ requirements.txt       # ä¾èµ–åŒ…</span>
</code></pre>
<h4 data-id="heading-11">requirements.txtï¼š</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">langchain</span>==<span class="hljs-number">0.1</span>.<span class="hljs-number">0</span>chromadb==<span class="hljs-number">0.4</span>.<span class="hljs-number">22</span>sentence-transformers==<span class="hljs-number">2.2</span>.<span class="hljs-number">2</span>pypdf==<span class="hljs-number">3.17</span>.<span class="hljs-number">0</span>python-docx==<span class="hljs-number">1.1</span>.<span class="hljs-number">0</span>fastapi==<span class="hljs-number">0.104</span>.<span class="hljs-number">1</span>uvicorn==<span class="hljs-number">0.24</span>.<span class="hljs-number">0</span>
</code></pre>
<h4 data-id="heading-12">ingest.pyï¼ˆæ–‡æ¡£å¤„ç†ï¼‰ï¼š</h4>
<pre><code class="hljs language-css" lang="css">import osfrom pathlib import Path# ... ä¸Šé¢çš„æ–‡æ¡£å¤„ç†ä»£ç if __name__ == "__main__":    # å¤„ç†docsç›®å½•ä¸‹æ‰€æœ‰æ–‡æ¡£    docs_dir = <span class="hljs-built_in">Path</span>(<span class="hljs-string">"./docs"</span>)    all_chunks = []        for file_path in docs_dir.<span class="hljs-built_in">glob</span>(<span class="hljs-string">"**/*"</span>):        if file_path.suffix == <span class="hljs-string">".pdf"</span>:            loader = <span class="hljs-built_in">PyPDFLoader</span>(<span class="hljs-built_in">str</span>(file_path))        elif file_path.suffix == <span class="hljs-string">".docx"</span>:            from langchain.document_loaders import Docx2txtLoader            loader = <span class="hljs-built_in">Docx2txtLoader</span>(<span class="hljs-built_in">str</span>(file_path))        elif file_path.suffix == <span class="hljs-string">".md"</span>:            from langchain.document_loaders import TextLoader            loader = <span class="hljs-built_in">TextLoader</span>(<span class="hljs-built_in">str</span>(file_path))        else:            continue                    documents = loader.<span class="hljs-built_in">load</span>()        chunks = text_splitter.<span class="hljs-built_in">split_documents</span>(documents)        all_chunks.<span class="hljs-built_in">extend</span>(chunks)        <span class="hljs-built_in">print</span>(f<span class="hljs-string">"å·²å¤„ç†ï¼š{file_path.name}ï¼Œå¾—åˆ°{len(chunks)}ä¸ªç‰‡æ®µ"</span>)        # åˆ›å»ºå‘é‡æ•°æ®åº“    vectorstore = Chroma.<span class="hljs-built_in">from_documents</span>(        documents=all_chunks,        embedding=embeddings,        persist_directory=<span class="hljs-string">"./chroma_db"</span>    )    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å‘é‡æ•°æ®åº“æ„å»ºå®Œæˆï¼"</span>)
</code></pre>
<h4 data-id="heading-13">query.pyï¼ˆWebæ¥å£ï¼‰ï¼š</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">from fastapi <span class="hljs-keyword">import</span> FastAPIfrom pydantic <span class="hljs-keyword">import</span> BaseModelapp = FastAPI()<span class="hljs-keyword">class</span> <span class="hljs-title class_">QueryRequest</span>(BaseModel):    question: str# å¯åŠ¨æ—¶åŠ è½½QAé“¾ï¼ˆå®é™…ç”Ÿäº§è¦åŠ ç¼“å­˜ï¼‰qa_chain = None# è¿™é‡Œåˆå§‹åŒ–ä½ çš„QAé“¾<span class="hljs-meta">@app</span>.post(<span class="hljs-string">"/query"</span>)asyncdef query(request: QueryRequest):    result = qa_chain(request.question)    <span class="hljs-keyword">return</span> {        <span class="hljs-string">"answer"</span>: result[<span class="hljs-string">"result"</span>],        <span class="hljs-string">"sources"</span>: [doc.metadata.<span class="hljs-keyword">get</span>(<span class="hljs-string">"source"</span>, <span class="hljs-string">""</span>) <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> result[<span class="hljs-string">"source_documents"</span>]]    }<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:    <span class="hljs-keyword">import</span> uvicorn    uvicorn.run(app, host=<span class="hljs-string">"0.0.0.0"</span>, port=<span class="hljs-number">8000</span>)
</code></pre>
<p>è¿è¡Œèµ·æ¥ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">å…ˆå¤„ç†æ–‡æ¡£python ingest.py<span class="hljs-comment"># å¯åŠ¨æœåŠ¡python query.py# è®¿é—® http://localhost:8000/docs å°±èƒ½çœ‹åˆ°APIæ–‡æ¡£äº†</span></span>
</code></pre>
<h3 data-id="heading-14">åè®°</h3>
<p>RAGè¿™ä¸œè¥¿ï¼Œè¯´èµ·æ¥ç®€å•ï¼Œå°±æ˜¯â€œæ£€ç´¢+ç”Ÿæˆâ€ï¼Œä½†çœŸæƒ³åšå¥½ï¼Œæ¯ä¸ªç¯èŠ‚éƒ½æœ‰è®²ç©¶ã€‚æ–‡æ¡£æ€ä¹ˆåˆ‡ã€ç”¨ä»€ä¹ˆembeddingæ¨¡å‹ã€æ€ä¹ˆè®¾è®¡æç¤ºè¯ã€æ€ä¹ˆè¯„ä¼°æ•ˆæœ...éƒ½æ˜¯å‘ã€‚</p>
<p>æˆ‘ç”¨ä¸‹æ¥ä¹‹åå‘ç°ï¼Œæœ€å¤§çš„ç»éªŒå°±æ˜¯ï¼š<strong>åˆ«æƒ³ä¸€æ¬¡æ€§å®Œç¾</strong>ã€‚å…ˆæ­ä¸ªæœ€ç®€å•çš„ç‰ˆæœ¬è·‘èµ·æ¥ï¼Œç„¶åæ‰¾ä¸€äº›çœŸå®é—®é¢˜å»æµ‹è¯•ï¼Œçœ‹å“ªé‡Œå‡ºé—®é¢˜äº†å°±ä¼˜åŒ–å“ªé‡Œã€‚å¯èƒ½æ˜¯æ£€ç´¢ä¸å‡†ï¼Œé‚£å°±ä¼˜åŒ–æ£€ç´¢ï¼›å¯èƒ½æ˜¯ç”Ÿæˆä¸å¥½ï¼Œé‚£å°±ä¼˜åŒ–æç¤ºè¯ã€‚</p>
<p>å¦å¤–ï¼ŒRAGè™½ç„¶è§£å†³äº†å¤§æ¨¡å‹çš„â€œçŸ¥è¯†æ›´æ–°â€å’Œâ€œå¹»è§‰â€é—®é¢˜ï¼Œä½†å®ƒä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„ã€‚å¯¹äºéœ€è¦å¤æ‚æ¨ç†ã€æ•°å­¦è®¡ç®—æˆ–è€…åˆ›é€ æ€§å†™ä½œçš„ä»»åŠ¡ï¼Œè¿˜æ˜¯ç›´æ¥é—®å¤§æ¨¡å‹å¯èƒ½æ›´å¥½ã€‚</p>
<p>æœ€åï¼Œç¥å„ä½çš„RAGç³»ç»Ÿéƒ½èƒ½ç²¾å‡†æ£€ç´¢ã€èªæ˜å›ç­”ï¼æœ‰ä»€ä¹ˆé—®é¢˜æ¬¢è¿ç•™è¨€è®¨è®ºï½</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»å¯¹è¯åˆ°åä½œï¼ŒSkills å¦‚ä½•æ”¹å˜æˆ‘ä»¬ä¸ AI å…±äº‹çš„æ–¹å¼]]></title>    <link>https://juejin.cn/post/7598947628468224046</link>    <guid>https://juejin.cn/post/7598947628468224046</guid>    <pubDate>2026-01-25T17:35:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598947628468224046" data-draft-id="7598921649888886811" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»å¯¹è¯åˆ°åä½œï¼ŒSkills å¦‚ä½•æ”¹å˜æˆ‘ä»¬ä¸ AI å…±äº‹çš„æ–¹å¼"/> <meta itemprop="keywords" content="Claude,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-25T17:35:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="knqiufan"/> <meta itemprop="url" content="https://juejin.cn/user/4265760848347998"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»å¯¹è¯åˆ°åä½œï¼ŒSkills å¦‚ä½•æ”¹å˜æˆ‘ä»¬ä¸ AI å…±äº‹çš„æ–¹å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4265760848347998/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    knqiufan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T17:35:45.000Z" title="Sun Jan 25 2026 17:35:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<p>2025å¹´10æœˆï¼ŒAnthropicå‘å¸ƒäº†Claude Skillsã€‚ä¸¤ä¸ªæœˆåï¼ŒAgent Skillsä½œä¸ºå¼€æ”¾æ ‡å‡†æ¨å‡ºã€‚è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„æŠ€æœ¯é©æ–°ï¼Œæ­£åœ¨æ‚„ç„¶æ”¹å˜æˆ‘ä»¬ä¸AIåä½œçš„æ–¹å¼ã€‚Skillsè®©è¿™äº›çŸ¥è¯†å’Œç»éªŒå¯ä»¥è¢«å°è£…ã€è¢«å¤ç”¨ã€è¢«ä¼ æ‰¿ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯Skillsï¼Ÿ</h2>
<h3 data-id="heading-2">1.1 ä¸€ä¸ªç›´è§‚çš„ç†è§£</h3>
<p>æƒ³è±¡ä½ è¦æŠŠä¸€é¡¹å·¥ä½œäº¤ç»™æ–°åŒäº‹ã€‚å¦‚æœä¸èƒ½ç”¨å£å£ç›¸ä¼ çš„æ–¹å¼ï¼Œåªèƒ½é€šè¿‡æ–‡æ¡£ä¸€æ¬¡æ€§äº¤æ¥æ¸…æ¥šï¼Œä½ ä¼šå‡†å¤‡ä»€ä¹ˆï¼Ÿ</p>
<p>ä½ å¤§æ¦‚ä¼šå‡†å¤‡ä¸€ä¸ª<code>äº¤æ¥å¤§ç¤¼åŒ…</code>ï¼Œé‡Œé¢åŒ…å«ï¼š</p>
<ul>
<li>è¿™ä»¶äº‹å¤§è‡´æ€ä¹ˆåšï¼ˆæ‰§è¡ŒSOPå’ŒèƒŒæ™¯çŸ¥è¯†ï¼‰</li>
<li>ç”¨ä»€ä¹ˆå·¥å…·ã€æ€ä¹ˆæ“ä½œï¼ˆå·¥å…·è¯´æ˜ï¼‰</li>
<li>è¦ç”¨åˆ°çš„æ¨¡æ¿ã€ç´ æã€å†å²æ¡ˆä¾‹</li>
<li>å¯èƒ½é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</li>
</ul>
<p>Skills çš„æ¶æ„å‡ ä¹å°±æ˜¯è¿™ä¸ª<code>äº¤æ¥å¤§ç¤¼åŒ…</code>çš„æ•°å­—ç‰ˆæœ¬ã€‚ä¸€ä¸ªå…¸å‹çš„ Skill ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">skill-name/
â”œâ”€â”€ SKILL.md          <span class="hljs-comment"># æ ¸å¿ƒæŒ‡ä»¤æ–‡æ¡£ï¼ˆå¿…éœ€ï¼‰</span>
â”œâ”€â”€ scripts/          <span class="hljs-comment"># å¯æ‰§è¡Œçš„ä»£ç è„šæœ¬ï¼ˆå¯é€‰ï¼‰</span>
â”œâ”€â”€ references/       <span class="hljs-comment"># å‚è€ƒæ–‡æ¡£å’Œè§„èŒƒï¼ˆå¯é€‰ï¼‰</span>
â””â”€â”€ assets/          <span class="hljs-comment"># æ¨¡æ¿ã€ç´ æç­‰èµ„æºï¼ˆå¯é€‰ï¼‰</span>
</code></pre>
<h3 data-id="heading-3">1.2 SKILL.md æ˜¯æ ¸å¿ƒ</h3>
<p>å¯ä»¥çœ‹åˆ°å…¶ä»–æ–‡ä»¶éƒ½æ˜¯å¯é€‰çš„ï¼Œåªæœ‰<code>SKILL.md</code>æ˜¯å¿…éœ€çš„ã€‚å› ä¸º<code>SKILL.md</code>æ˜¯æ•´ä¸ª Skill çš„"å¤§è„‘"å’Œ"è¯´æ˜ä¹¦"ã€‚å®ƒå‘Šè¯‰Agentä¸‰ä»¶æœ€é‡è¦çš„äº‹ï¼š</p>
<p><strong>ç¬¬ä¸€ï¼Œä»€ä¹ˆæ—¶å€™ç”¨è¿™ä¸ªSkill</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">word-to-markdown</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">å°†Wordæ–‡æ¡£è½¬æ¢ä¸ºMarkdownæ ¼å¼ï¼Œæ”¯æŒæ™ºèƒ½æ ¼å¼è¯†åˆ«ã€å›¾ç‰‡å¤„ç†å’Œæ‰¹é‡è½¬æ¢</span>
<span class="hljs-meta">---
</span></code></pre>
<p>å¼€å¤´çš„è¿™æ®µå…ƒæ•°æ®ï¼Œåªæœ‰å‡ åä¸ª tokenï¼Œ<strong>Agent å¯åŠ¨æ—¶å°±ä¼šåŠ è½½å®ƒ</strong>ã€‚å½“ç”¨æˆ·è¾“å…¥ä¾‹å¦‚"æŠŠè¿™ä¸ªæ–‡æ¡£è½¬æˆmarkdown"æ—¶ï¼ŒAgentå°±æ˜¯é€šè¿‡åŒ¹é… description æ¥åˆ¤æ–­åº”è¯¥è°ƒç”¨<code>word-to-markdown</code>è¿™ä¸ªSkillã€‚</p>
<p><strong>ç¬¬äºŒï¼Œå…·ä½“æ€ä¹ˆåš</strong></p>
<p><code>SKILL.md</code> çš„ä¸»ä½“éƒ¨åˆ†ä¼šè¯¦ç»†è¯´æ˜ï¼š</p>
<ul>
<li>ä»»åŠ¡çš„åˆ†æ­¥éª¤æ‰§è¡Œæµç¨‹</li>
<li>æ¯ä¸ªæ­¥éª¤çš„æ³¨æ„äº‹é¡¹</li>
<li>ä»€ä¹ˆæ—¶å€™éœ€è¦è°ƒç”¨scriptsé‡Œçš„è„šæœ¬</li>
<li>ä»€ä¹ˆæ—¶å€™éœ€è¦æŸ¥é˜…referencesé‡Œçš„æ–‡æ¡£</li>
<li>å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</li>
</ul>
<p><strong>ç¬¬ä¸‰ï¼Œåšåˆ°ä»€ä¹ˆæ ‡å‡†</strong></p>
<p>å¥½çš„<code>SKILL.md</code>å¯èƒ½è¿˜ä¼šåŒ…å«ï¼š</p>
<ul>
<li>è¾“å‡ºæ ¼å¼è§„èŒƒ</li>
<li>è´¨é‡æ£€æŸ¥æ ‡å‡†</li>
<li>è¾¹ç•Œæƒ…å†µçš„è¯´æ˜</li>
<li>æœ€ä½³å®è·µå»ºè®®</li>
<li>...</li>
</ul>
<p>æ‰€ä»¥æœ€ç®€å•çš„Skillå¯èƒ½åªæœ‰ä¸€ä¸ª<code>SKILL.md</code>æ–‡ä»¶ï¼Œç”¨è‡ªç„¶è¯­è¨€æŠŠä¸€ä»¶äº‹è¯´æ¸…æ¥šå°±å¤Ÿäº†ã€‚å¤æ‚çš„Skillåˆ™ä¼šåœ¨<code>SKILL.md</code>çš„æŒ‡å¼•ä¸‹ï¼Œåè°ƒscriptsã€referencesã€assetsä¸­çš„å„ç§èµ„æºï¼Œå®Œæˆå¤šæ­¥éª¤çš„å¤æ‚ä»»åŠ¡ã€‚</p>
<p>è¿™å°±æ˜¯<code>SKILL.md</code>çš„æ ¸å¿ƒåœ°ä½ï¼šå®ƒæ˜¯Skillçš„æŒ‡æŒ¥å®˜ï¼Œå…¶ä»–æ–‡ä»¶éƒ½æ˜¯å®ƒè°ƒåº¦çš„èµ„æºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/518905c5e85c49deb379685bd647d204~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAga25xaXVmYW4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769968020&amp;x-signature=VDGaF6OmjAHpQ4tgCu%2B%2BDJL4sOE%3D" alt="Gemini_Generated_Image_yb1hfayb1hfayb1h.png" loading="lazy"/></p>
<h3 data-id="heading-4">1.3 æ¸è¿›å¼æŠ«éœ²ï¼šè®©AIæ—¢åšå­¦åˆä¸“æ³¨</h3>
<p>é‚£è¿™é‡Œä¼šæœ‰ä¸ªé—®é¢˜ã€‚æ—¢ç„¶ Agent åœ¨å¯åŠ¨çš„æ—¶å€™å°±ä¼šåŠ è½½ Skillsï¼Œå¦‚æœç»™ Agent è£…äº†ä¸Šç™¾ä¸ª Skills ä¼šä¸ä¼šæŠŠå®ƒ"æ’‘çˆ†"ï¼Ÿå¦‚æœæ¯æ¬¡è¿è¡Œéƒ½è¦åŠ è½½æ‰€æœ‰ Skills ä¼šä¸ä¼šå¤ªæ…¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ä¸ä¼šã€‚Skills æœ‰ä¸ªå¾ˆå¦™çš„è®¾è®¡å«ï¼šæ¸è¿›å¼æŠ«éœ²ï¼ˆProgressive Disclosureï¼‰ã€‚</p>
<p>è¿™ä¸ªæ¦‚å¿µå¤§ç™½è¯è®²ï¼Œå°±åƒæˆ‘ä»¬äººç±»å­¦ä¹ çŸ¥è¯†ä¸€æ ·ï¼šä¸å¯èƒ½åŒæ—¶æŠŠæ‰€æœ‰ç»†èŠ‚éƒ½è®°åœ¨è„‘å­é‡Œï¼Œè€Œæ˜¯<strong>å…ˆè®°ä½"æœ‰ä»€ä¹ˆçŸ¥è¯†"ï¼Œéœ€è¦æ—¶å†æ·±å…¥å­¦ä¹ å…·ä½“å†…å®¹</strong>ã€‚</p>
<p>Skillsé‡‡ç”¨äº†ä¸‰å±‚ä¿¡æ¯åŠ è½½æœºåˆ¶ï¼š</p>
<p><strong>ç¬¬ä¸€å±‚ï¼šå…ƒæ•°æ®å±‚ï¼ˆå§‹ç»ˆåŠ è½½ï¼‰</strong></p>
<p>åªåŠ è½½SKILL.mdå¼€å¤´çš„nameå’Œdescriptionï¼Œå¤§çº¦50-100ä¸ªtokenã€‚è¿™éƒ¨åˆ†å°±åƒæ˜¯Skillçš„"åç‰‡"ï¼ŒAgentå¯åŠ¨æ—¶å°±ä¼šåŠ è½½æ‰€æœ‰Skillsçš„åç‰‡ã€‚</p>
<p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼šå³ä½¿ä½ æœ‰100ä¸ªSkillsï¼Œä¹Ÿåªéœ€è¦å‡ åƒä¸ªtokenæ¥ç»´æŒ"è®¤çŸ¥"ã€‚Agentå°±åƒæœ‰ä¸ªç´¢å¼•ï¼ŒçŸ¥é“"æˆ‘ä¼šå“ªäº›æŠ€èƒ½"ï¼Œä½†ä¸éœ€è¦è®°ä½æ¯ä¸ªæŠ€èƒ½çš„æ‰€æœ‰ç»†èŠ‚ã€‚</p>
<p><strong>ç¬¬äºŒå±‚ï¼šæŒ‡ä»¤å±‚ï¼ˆè§¦å‘æ—¶åŠ è½½ï¼‰</strong></p>
<p>å½“Agentåˆ¤æ–­æŸä¸ªSkillä¸å½“å‰ä»»åŠ¡ç›¸å…³æ—¶ï¼Œæ‰ä¼šè¯»å–å®Œæ•´çš„SKILL.mdå†…å®¹ï¼Œå¤§çº¦500-5000ä¸ªtokenã€‚</p>
<p>è¿™å°±åƒä½ é‡åˆ°å…·ä½“é—®é¢˜æ—¶ï¼Œæ‰æ‰“å¼€ç›¸å…³çš„æ“ä½œæ‰‹å†Œè¯¦ç»†é˜…è¯»ã€‚ä¸éœ€è¦çš„Skillsï¼Œå®ƒä»¬çš„è¯¦ç»†æŒ‡ä»¤å°±ä¸ä¼šå ç”¨å®è´µçš„ä¸Šä¸‹æ–‡çª—å£ã€‚</p>
<p><strong>ç¬¬ä¸‰å±‚ï¼šèµ„æºå±‚ï¼ˆæŒ‰éœ€åŠ¨æ€åŠ è½½ï¼‰</strong></p>
<p>scriptsã€referencesã€assetsè¿™äº›æ–‡ä»¶ï¼Œåªæœ‰åœ¨SKILL.mdæ˜ç¡®æŒ‡ç¤ºæ—¶æ‰ä¼šè¢«è¯»å–ã€‚è€Œä¸”å®ƒä»¬çš„å¤§å°æ²¡æœ‰é™åˆ¶ï¼Œå› ä¸ºä¸ä¼šä¸€æ¬¡æ€§å…¨éƒ¨åŠ è½½åˆ°ä¸Šä¸‹æ–‡ä¸­ã€‚</p>
<p>æ¯”å¦‚Agentåœ¨å¤„ç†æ–‡æ¡£è½¬æ¢æ—¶ï¼Œè¯»åˆ°SKILL.mdä¸­è¯´"å¯¹äºå¤æ‚è¡¨æ ¼ï¼Œå‚è€ƒreferences/table-handling.md"ï¼Œæ‰ä¼šå»è¯»å–é‚£ä¸ªå‚è€ƒæ–‡æ¡£ã€‚å¦‚æœè¿™ä¸ªä»»åŠ¡ä¸æ¶‰åŠè¡¨æ ¼ï¼Œé‚£ä¸ªæ–‡æ¡£å°±æ°¸è¿œä¸ä¼šè¢«åŠ è½½ã€‚</p>
<p>è¿™ç§è®¾è®¡çš„ç¾å¦™ä¹‹å¤„åœ¨äºï¼šä½ å¯ä»¥ç»™Agentè£…å¤‡æµ·é‡çš„çŸ¥è¯†åº“ï¼Œä½†æ¯æ¬¡è¿è¡Œæ—¶åªä¼šç”¨åˆ°å½“å‰çœŸæ­£éœ€è¦çš„é‚£éƒ¨åˆ†ã€‚å°±åƒå›¾ä¹¦é¦†ï¼Œè—ä¹¦ä¸‡å†Œï¼Œä½†ä½ æ¯æ¬¡åªä¼šå€Ÿé˜…å‡ æœ¬ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e8692f845c04747b80f7fd55d2b9507~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAga25xaXVmYW4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769968020&amp;x-signature=EBzImtsF0JWV5PeA98SEy4h5H7s%3D" alt="Gemini_Generated_Image_cg5j2ucg5j2ucg5j.png" loading="lazy"/></p>
<h3 data-id="heading-5">1.4 Skillsä¸MCPï¼šå„å¸å…¶èŒçš„å¥½æ­æ¡£</h3>
<p>Skillså’ŒMCPï¼ˆModel Context Protocolï¼‰ç»å¸¸è¢«æ··æ·†ï¼Œç”šè‡³è¢«å½“æˆç«äº‰å¯¹æ‰‹ã€‚ä½†å®ƒä»¬å…¶å®æ˜¯äº’è¡¥å…³ç³»ï¼Œè§£å†³çš„æ˜¯å®Œå…¨ä¸åŒçš„é—®é¢˜ã€‚</p>

































































<table><thead><tr><th>ç»´åº¦</th><th>MCP</th><th>Skills</th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒç—›ç‚¹</strong></td><td>ä¸Šä¸‹æ–‡è†¨èƒ€ä¸¥é‡</td><td>æ¸è¿›å¼æŠ«éœ²ï¼ŒæŒ‰éœ€åŠ è½½</td></tr><tr><td><strong>ä¸Šä¸‹æ–‡å ç”¨</strong></td><td>ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰å·¥å…·å®šä¹‰ï¼Œå¯èƒ½å ç”¨æ•°åƒåˆ°æ•°ä¸‡tokens</td><td>åˆå§‹ä»…30-50 tokensï¼ŒæŒ‰éœ€åŠ è½½è¯¦ç»†å†…å®¹</td></tr><tr><td><strong>åŠ è½½æ–¹å¼</strong></td><td>å…¨é‡é¢„åŠ è½½ï¼ˆæ‰€æœ‰å·¥å…·schemaä¸€æ¬¡æ€§åŠ è½½åˆ°ä¸Šä¸‹æ–‡ï¼‰</td><td>ä¸‰å±‚æ¸è¿›åŠ è½½ï¼ˆå…ƒæ•°æ®â†’æŒ‡ä»¤â†’èµ„æºï¼‰</td></tr><tr><td><strong>æ‰©å±•æ€§</strong></td><td>å·¥å…·è¶Šå¤šä¸Šä¸‹æ–‡å ç”¨è¶Šå¤§ï¼Œå—é™äºçª—å£å¤§å°</td><td>å¯è£…å¤‡æ•°ç™¾ä¸ªSkillsè€Œä¸å½±å“æ€§èƒ½</td></tr><tr><td><strong>æœ¬è´¨</strong></td><td>å¼€æ”¾æ ‡å‡†åè®®</td><td>çŸ¥è¯†å°è£…æ ¼å¼</td></tr><tr><td><strong>è§£å†³çš„é—®é¢˜</strong></td><td>è¿æ¥æ€§ï¼šè®©Agentèƒ½è®¿é—®å¤–éƒ¨å·¥å…·å’Œæ•°æ®</td><td>ä¸“ä¸šæ€§ï¼šè®©AgentçŸ¥é“å¦‚ä½•ä½¿ç”¨è¿™äº›èƒ½åŠ›</td></tr><tr><td><strong>æä¾›çš„å†…å®¹</strong></td><td>WHATï¼ˆæœ‰ä»€ä¹ˆèƒ½åŠ›å¯ç”¨ï¼‰</td><td>HOWï¼ˆå¦‚ä½•ä½¿ç”¨è¿™äº›èƒ½åŠ›ï¼‰</td></tr><tr><td><strong>å…¸å‹å†…å®¹</strong></td><td>APIæ¥å£ã€æ•°æ®åº“è¿æ¥ã€æ–‡ä»¶ç³»ç»Ÿ</td><td>å·¥ä½œæµç¨‹ã€æœ€ä½³å®è·µã€é¢†åŸŸçŸ¥è¯†</td></tr><tr><td><strong>å½¢è±¡æ¯”å–»</strong></td><td>Agentçš„"æ‰‹è„š"ï¼ˆå·¥å…·ç®±ï¼‰</td><td>Agentçš„"å¤§è„‘è®°å¿†"ï¼ˆç»éªŒåº“ï¼‰</td></tr><tr><td><strong>ä½¿ç”¨æ–¹å¼</strong></td><td>Agentè°ƒç”¨MCPæä¾›çš„å·¥å…·</td><td>AgentåŠ è½½Skillä¸­çš„çŸ¥è¯†</td></tr><tr><td><strong>å¼€å‘é—¨æ§›</strong></td><td>éœ€è¦ç¼–ç¨‹ï¼Œå®šä¹‰æ¥å£</td><td>åªéœ€å†™æ–‡æ¡£ï¼Œæè¿°æ–¹æ³•</td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆä¸Šä¸‹æ–‡å ç”¨å·®å¼‚è¿™ä¹ˆå¤§ï¼Ÿ</strong></p>
<p>MCPçš„è®¾è®¡å“²å­¦æ˜¯"è¿æ¥ä¼˜å…ˆ"ã€‚ä¸ºäº†è®©AgentçŸ¥é“æœ‰å“ªäº›å·¥å…·å¯ç”¨ï¼ŒMCPéœ€è¦åœ¨å¯åŠ¨æ—¶å°±æŠŠæ‰€æœ‰å·¥å…·çš„å®šä¹‰ï¼ˆåŒ…æ‹¬å‚æ•°ã€schemaã€ä½¿ç”¨è¯´æ˜ï¼‰å…¨éƒ¨åŠ è½½åˆ°ä¸Šä¸‹æ–‡ä¸­ã€‚è¿™å¯¼è‡´äº†ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨ MCP å·¥å…·å¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œä¼šæ¶ˆè€—å¤§é‡çš„ tokensã€‚æ¯”å¦‚ä¸€ä¸ªåŒ…å«22ä¸ªå·¥å…·çš„MCPæœåŠ¡å™¨ï¼Œä»…å·¥å…·å®šä¹‰å°±éœ€è¦çº¦15,000 tokensï¼Œåœ¨è¾ƒå°çš„ä¸Šä¸‹æ–‡çª—å£ä¸­ï¼ŒMCPå·¥å…·å®šä¹‰å¯èƒ½å ç”¨35%ä»¥ä¸Šçš„ç©ºé—´ï¼Œè¿˜æ²¡å¼€å§‹å·¥ä½œå°±å·²ç»"æ’‘"äº†ã€‚</p>
<p>è€ŒSkillsé‡‡ç”¨å®Œå…¨ä¸åŒçš„æ€è·¯ã€‚é€šè¿‡æ¸è¿›å¼æŠ«éœ²ï¼Œæ¯ä¸ªSkillåˆå§‹åªæš´éœ²30-50ä¸ªtokensçš„å…ƒæ•°æ®ï¼ˆnameå’Œdescriptionï¼‰ï¼Œåªæœ‰å½“Agentåˆ¤æ–­éœ€è¦æŸä¸ªSkillæ—¶ï¼Œæ‰ä¼šåŠ è½½å®Œæ•´çš„SKILL.mdï¼ˆçº¦500-5000 tokensï¼‰ï¼Œscriptså’Œreferencesåˆ™æ›´æ˜¯æŒ‰éœ€è¯»å–ã€‚</p>
<p>è¿™æ„å‘³ç€å³ä½¿æ˜¯ç»™Agentè£…å¤‡100ä¸ªSkillsï¼Œä¸Šä¸‹æ–‡å ç”¨ä¹Ÿåªæœ‰çº¦5,000 tokensçš„å…ƒæ•°æ®ï¼Œè¿œå°äºä¸€ä¸ªä¸­ç­‰è§„æ¨¡çš„MCPæœåŠ¡å™¨ã€‚æ›´é‡è¦çš„æ˜¯è¿™äº›å…ƒæ•°æ®å§‹ç»ˆ"å€¼å¾—"ï¼Œå› ä¸ºå®ƒä»¬è®©AgentçŸ¥é“"æˆ‘èƒ½åšä»€ä¹ˆ"ï¼Œè€Œä¸æ˜¯æµªè´¹åœ¨å†—é•¿çš„å·¥å…·å®šä¹‰ä¸Šã€‚</p>
<p><strong>ç”¨ä¸€å¥è¯æ€»ç»“ï¼šMCPè®©Agentèƒ½å¤Ÿ"åšåˆ°"æ›´å¤šäº‹ï¼ŒSkillsè®©Agentèƒ½å¤Ÿ"åšå¥½"è¿™äº›äº‹ï¼Œè€Œä¸”æ›´é«˜æ•ˆã€‚</strong></p>
<p>ä¸¾ä¸ªå®é™…çš„ä¾‹å­ï¼šè®©Agentå†™ä¸€ä»½ç«å“åˆ†ææŠ¥å‘Šã€‚</p>
<ul>
<li>MCPçš„ä½œç”¨ï¼šè¿æ¥åˆ°Google Driveè·å–æ•°æ®ã€è®¿é—®GitHubè¯»å–ç«å“ä»£ç ã€è°ƒç”¨Slackè·å–å†…éƒ¨è®¨è®º</li>
<li>Skillsçš„ä½œç”¨ï¼šæŒ‡å¯¼Agentå¦‚ä½•è¿›è¡ŒSWOTåˆ†æã€æŠ¥å‘Šç»“æ„åº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„ã€æ•°æ®å¯è§†åŒ–ç”¨ä»€ä¹ˆé…è‰²æ–¹æ¡ˆ</li>
</ul>
<p>ä¸¤è€…é…åˆï¼Œèƒ½æ—¢"æœ‰åŠæ³•"åˆ"æœ‰æ–¹æ³•"ï¼ŒåŒæ—¶ä¿æŒä¸Šä¸‹æ–‡çš„é«˜æ•ˆåˆ©ç”¨ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ2025å¹´åè¶Šæ¥è¶Šå¤šäººå¼€å§‹é‡è§†Skills â€”â€” ä¸æ˜¯å› ä¸ºMCPä¸å¥½ï¼Œè€Œæ˜¯å› ä¸ºä¸Šä¸‹æ–‡æ•ˆç‡å¤ªé‡è¦äº†ã€‚</p>
<h2 data-id="heading-6">äºŒã€å¦‚ä½•ä½¿ç”¨Skillsï¼Ÿ</h2>
<h3 data-id="heading-7">2.1 Claude Codeï¼šæœ¬åœ°è¿è¡Œçš„AIåŠ©ç†</h3>
<p>é»˜è®¤åœ¨æœ¬åœ°å·²ç»å®‰è£…å¥½äº† Claude Codeï¼Œç›´æ¥ä»å¦‚ä½•ä½¿ç”¨Skillså¼€å§‹ã€‚</p>
<h4 data-id="heading-8">å®‰è£…Skills</h4>
<p>æœ‰ä¸‰ç§æ–¹å¼å¯ä»¥ç»™Claude Codeå®‰è£…Skillsï¼š</p>
<p><strong>æ–¹å¼ä¸€ï¼šè‡ªç„¶è¯­è¨€å®‰è£…</strong></p>
<p>è¿™ç§æ–¹å¼æ˜¯æœ€ç®€å•çš„ï¼Œæ‰¾åˆ°å¯¹åº” skill çš„ github åœ°å€ï¼Œç›´æ¥åœ¨Claude Codeä¸­è¾“å…¥ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">å¸®æˆ‘å®‰è£…skillï¼Œé¡¹ç›®åœ°å€æ˜¯ï¼š<span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/anthropics</span><span class="hljs-regexp">/skills/tree</span><span class="hljs-regexp">/main/skills</span><span class="hljs-regexp">/pptx
</span></code></pre>
<p>Claude Codeä¼šè‡ªåŠ¨ä¸‹è½½ã€è§£å‹ã€é…ç½®å¥½ä¸€åˆ‡ã€‚æ–°æ‰‹æ¨èã€‚</p>
<p><strong>æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…</strong></p>
<p>Claude Code ä¸“é—¨æœ‰ä¸€ä¸ªæ–‡ä»¶å¤¹æ¥ç®¡ç†æ‰€æœ‰çš„Skillæ–‡ä»¶ï¼Œå¯ä»¥æ‰‹åŠ¨å®‰è£…ï¼š</p>
<ol>
<li>ä»GitHubæˆ–å…¶ä»–æ¥æºä¸‹è½½Skillæ–‡ä»¶åŒ…ï¼ˆé€šå¸¸æ˜¯.zipæˆ–ç›´æ¥cloneé¡¹ç›®ï¼‰</li>
<li>è§£å‹åæ”¾åˆ°Skillsç›®å½•</li>
</ol>
<p>ä¸åŒæ“ä½œç³»ç»Ÿçš„è·¯å¾„ä¸ä¸€æ ·ï¼š</p>
<p><strong>Windowsç³»ç»Ÿï¼š</strong></p>
<ul>
<li>é¡¹ç›®çº§ï¼š<code>ä½ çš„é¡¹ç›®è·¯å¾„\.claude\skills\</code>ï¼Œä¾‹å¦‚ï¼š<code>E:\my-project\.claude\skills\</code></li>
<li>å…¨å±€çº§ï¼š<code>C:\Users\ä½ çš„ç”¨æˆ·å\.claude\skills\</code></li>
</ul>
<p><strong>Linux/macOSç³»ç»Ÿï¼š</strong></p>
<ul>
<li>é¡¹ç›®çº§ï¼š<code>./.claude/skills/</code></li>
<li>å…¨å±€çº§ï¼š<code>~/.claude/skills/</code></li>
</ul>
<p>é¡¹ç›®çº§åªå¯¹å½“å‰é¡¹ç›®æœ‰æ•ˆï¼Œå…¨å±€çº§åˆ™æ‰€æœ‰é¡¹ç›®éƒ½èƒ½ä½¿ç”¨ã€‚å»ºè®®æŠŠé€šç”¨çš„Skillsæ”¾åœ¨å…¨å±€çº§ï¼Œé¡¹ç›®ç›¸å…³çš„Skillsæ”¾åœ¨é¡¹ç›®çº§ã€‚Claude Code 2.1 ç‰ˆæœ¬æ›´æ–°äº† skills çƒ­åŠ è½½åŠŸèƒ½ï¼Œä¿®æ”¹æˆ–æ–°åˆ›å»ºçš„ skill èƒ½åŠæ—¶ç”Ÿæ•ˆã€‚å³ä»¥å‰ä¿®æ”¹ <code>~/.claude/skills</code> ä¸‹çš„å·¥å…·æ–‡ä»¶å¿…é¡»é‡å¯ä¼šè¯æ‰èƒ½ç”Ÿæ•ˆï¼Œè‹¥è¦è°ƒè¯•è¿˜è›®ç—›è‹¦çš„ç—›è‹¦çš„ã€‚2.1 ç‰ˆæœ¬ä¹‹åä¿®æ”¹äº†å³å¯ç”Ÿæ•ˆï¼Œå…è®¸å¼€å‘è€…åƒç¼–å†™è„šæœ¬ä¸€æ ·ï¼ŒåŠ¨æ€â€œç¼–ç¨‹â€è‡ªå·±çš„ AI åŠ©æ‰‹ã€‚</p>
<p><strong>æ–¹å¼ä¸‰ï¼šæ’ä»¶å¸‚åœºï¼ˆå®˜æ–¹æ¨èï¼‰</strong></p>
<p>Claude Codeæ”¯æŒæ’ä»¶å¸‚åœºåŠŸèƒ½ï¼Œå¯ä»¥åƒåº”ç”¨å•†åº—ä¸€æ ·æµè§ˆå’Œå®‰è£…Skillsã€‚åœ¨Claude Codeä¸­è¾“å…¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/plugin marketplace add anthropics/skills
</code></pre>
<p>è¿™ä¼šæ³¨å†ŒAnthropicå®˜æ–¹çš„Skillså¸‚åœºï¼Œè®©ä½ å¯ä»¥è®¿é—®å®˜æ–¹ç»´æŠ¤çš„æ‰€æœ‰Skillsã€‚ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/plugin
</code></pre>
<p>è¿™ä¼šæ‰“å¼€ä¸€ä¸ªäº¤äº’å¼èœå•ï¼Œè¿™æ—¶å€™å¯ä»¥ï¼š</p>
<ul>
<li>æµè§ˆæ‰€æœ‰å¯ç”¨çš„Skills</li>
<li>æŸ¥çœ‹Skillçš„æè¿°å’ŒåŠŸèƒ½</li>
<li>ç›´æ¥é€‰æ‹©å®‰è£…</li>
</ul>
<p>é€‰æ‹©æƒ³è¦å®‰è£…çš„ Skill çš„åç§°ï¼Œè¾“å…¥ä¸€ä¸‹å‘½ä»¤å®‰è£…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/plugin install &lt;skill-name&gt;
</code></pre>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/plugin install pptx
/plugin install brand-guidelines
</code></pre>
<p>å¦‚æœæ˜¯ Claude Code 2.1 ä»¥åŠä¹‹åçš„ç‰ˆæœ¬ï¼Œå®‰è£…å®Œè¾“å…¥ <code>/</code> æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„ slash å‘½ä»¤ï¼Œå·²å®‰è£…çš„ Skills åº”è¯¥ä¼šå‡ºç°åœ¨è‡ªåŠ¨è¡¥å…¨åˆ—è¡¨ä¸­</p>
<p>é™¤äº†å®˜æ–¹å¸‚åœºï¼Œè¿˜æœ‰ç¬¬ä¸‰æ–¹å¸‚åœºå¯ä»¥æ·»åŠ ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fclaudecodeplugins.io%2F" target="_blank" title="https://claudecodeplugins.io/" ref="nofollow noopener noreferrer">Claude Code Skills Hub</a> - åŒ…å«550+ä¸ªSkills</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fskillsmp.com%2F" target="_blank" title="https://skillsmp.com/" ref="nofollow noopener noreferrer">SkillsMP Marketplace</a> - ç¤¾åŒºé©±åŠ¨çš„Skillså¸‚åœº</li>
</ul>
<h4 data-id="heading-9">ä½¿ç”¨Skills</h4>
<p>å®‰è£…å¥½Skillsåï¼Œå¯ä»¥ç›´æ¥æ˜¾ç¤ºè°ƒç”¨</p>
<pre><code class="hljs language-bash" lang="bash">ä½¿ç”¨ /pptx è¿™ä¸ªskillåˆ›å»ºä¸€ä¸ªå…³äºAIçš„æ¼”ç¤ºæ–‡ç¨¿
</code></pre>
<p>ä¹Ÿå¯ä»¥è¯´æ˜éœ€æ±‚ï¼ŒAgentä¼šè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„Skillï¼š</p>
<pre><code class="hljs">å¸®æˆ‘æŠŠè¿™ä»½æŠ¥å‘ŠåšæˆPPTæ ¼å¼
</code></pre>
<p>å› ä¸º SKILL.md ä¸­çš„ description ä¸ä»…ç”¨äºåˆ†ç±»ï¼Œè¿˜ä¼šè¢«Agentç”¨æ¥ç†è§£"ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥ç”¨è¿™ä¸ªSkill"ã€‚å½“éœ€æ±‚æè¿°ä¸æŸä¸ªSkillçš„æè¿°é«˜åº¦ç›¸å…³æ—¶ï¼ŒAgentå°±ä¼šè‡ªåŠ¨è°ƒç”¨å®ƒã€‚</p>
<h3 data-id="heading-10">2.2 Cozeï¼šäº‘ç«¯åä½œçš„AIå¹³å°</h3>
<p>Coze æ˜¯å­—èŠ‚è·³å‡ºçš„AI Agentå¹³å°ï¼Œä¹Ÿæ”¯æŒSkillsåŠŸèƒ½ã€‚å‰æ®µæ—¶é—´åˆšå‡ºï¼Œæµ…æµ…æä¸€ä¸‹ã€‚ä¸»è¦æ˜¯äº‘ç«¯ vs æœ¬åœ°çš„åŒºåˆ«ã€‚</p>


















































<table><thead><tr><th>ç»´åº¦</th><th>Claude Code</th><th>Coze</th></tr></thead><tbody><tr><td><strong>è¿è¡Œç¯å¢ƒ</strong></td><td>æœ¬åœ°ç”µè„‘</td><td>äº‘ç«¯æœåŠ¡å™¨</td></tr><tr><td><strong>å®‰è£…å¤æ‚åº¦</strong></td><td>éœ€è¦å®‰è£…è½¯ä»¶</td><td>æ‰“å¼€ç½‘é¡µå³ç”¨</td></tr><tr><td><strong>æ–‡ä»¶è®¿é—®</strong></td><td>å¯è®¿é—®æ‰€æœ‰æœ¬åœ°æ–‡ä»¶</td><td>åªèƒ½è®¿é—®ä¸Šä¼ çš„æ–‡ä»¶</td></tr><tr><td><strong>éšç§æ€§</strong></td><td>æ•°æ®ä¸ç¦»å¼€æœ¬åœ°</td><td>æ•°æ®åœ¨äº‘ç«¯å¤„ç†</td></tr><tr><td><strong>åˆ†äº«ä¾¿åˆ©æ€§</strong></td><td>éœ€è¦æ‰“åŒ…åˆ†å‘</td><td>åˆ†äº«é“¾æ¥å³å¯</td></tr><tr><td><strong>å®šæ—¶ä»»åŠ¡</strong></td><td>ç”µè„‘å¿…é¡»å¼€æœº</td><td>äº‘ç«¯è‡ªåŠ¨è¿è¡Œ</td></tr><tr><td><strong>å•†ä¸šåŒ–</strong></td><td>éš¾ä»¥ç›´æ¥å˜ç°</td><td>å¯ä¸Šæ¶æŠ€èƒ½å•†åº—æ”¶è´¹</td></tr><tr><td><strong>å…¸å‹åœºæ™¯</strong></td><td>æœ¬åœ°æ–‡ä»¶å¤„ç†ã€éšç§æ•æ„Ÿä»»åŠ¡</td><td>å›¢é˜Ÿåä½œã€å…¬å¼€åˆ†äº«ã€è‡ªåŠ¨åŒ–ä»»åŠ¡</td></tr></tbody></table>
<p><strong>åœ¨Cozeä¸­ä½¿ç”¨Skillsï¼š</strong></p>
<ol>
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fspace.coze.cn%2F" target="_blank" title="https://space.coze.cn/" ref="nofollow noopener noreferrer">space.coze.cn/</a></li>
<li>å·¦ä¾§æ é€‰æ‹©"æ‰£å­ç¼–ç¨‹"</li>
<li>å¯ä»¥ç›´æ¥ä¸Šä¼ skillæ–‡ä»¶ï¼ˆ.skillæˆ–.zipç»“å°¾æ–‡ä»¶ï¼‰ï¼Œæˆ–è€…åœ¨å¯¹è¯æ¡†ä¸­æè¿°ä½ çš„Skilléœ€æ±‚</li>
<li>Cozeä¼šè‡ªåŠ¨ç”ŸæˆSkillæ–‡ä»¶</li>
<li>åœ¨å³ä¾§é¢„è§ˆåŒºæµ‹è¯•Skillæ•ˆæœ</li>
<li>ç‚¹å‡»"éƒ¨ç½²"å‘å¸ƒSkill</li>
<li>å¯ä»¥é€‰æ‹©ä¸Šæ¶åˆ°æŠ€èƒ½å•†åº—ï¼Œè®©å…¶ä»–äººä½¿ç”¨ï¼ˆç”šè‡³å¯ä»¥è®¾ç½®ä»˜è´¹ï¼‰</li>
</ol>
<p>Coze é€‚åˆé‚£äº›éœ€è¦åˆ†äº«ç»™ä»–äººçš„Skillsï¼Œæˆ–è€…éœ€è¦å®šæ—¶è¿è¡Œçš„ä»»åŠ¡ï¼ˆæ¯”å¦‚æ¯å¤©æ—©ä¸Šè‡ªåŠ¨ç”Ÿæˆèµ„è®¯æ—¥æŠ¥ï¼‰ã€‚å¦‚æœä½ çš„Skillsä¸»è¦æ˜¯ä¸ªäººçš„ç”Ÿäº§åŠ›å·¥å…·ï¼Œéœ€è¦æ“ä½œæœ¬åœ°æ–‡ä»¶ï¼ŒClaude Codeå¯èƒ½æ›´åˆé€‚ã€‚</p>
<h2 data-id="heading-11">ä¸‰ã€å®æˆ˜æ¡ˆä¾‹ï¼šåˆ›å»ºä¸€ä¸ªWordè½¬Markdownçš„Skill</h2>
<p>æµ…æµ…çš„é€šè¿‡ä¸€ä¸ªå®é™…çš„ä¾‹å­çœ‹çœ‹åˆ›å»ºä¸€ä¸ªskillæ˜¯ä»€ä¹ˆè¿‡ç¨‹ã€‚</p>
<h3 data-id="heading-12">3.1 ä»ä¸€ä¸ªçœŸå®çš„éœ€æ±‚å¼€å§‹</h3>
<p>å‡è®¾ä½ éœ€è¦æŠŠWordæ–‡æ¡£è½¬æ¢æˆMarkdownæ ¼å¼ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªéå¼€å‘è€…ä¸æ‡‚ä»€ä¹ˆ pandoc å·¥å…·ä¹Ÿè§‰å¾—ä½¿ç”¨è¿™äº›å·¥å…·å¾ˆéº»çƒ¦ï¼Œæ— æ³•æ»¡è¶³æ›´ç»†èŠ‚çš„è¦æ±‚ã€‚ä½ å¸Œæœ›æœ‰ä¸€ä¸ªçœŸæ­£"æ‡‚ä½ "çš„è½¬æ¢å·¥å…·ï¼Œå®ƒçŸ¥é“ï¼š</p>
<ul>
<li>ä½ å–œæ¬¢ä»€ä¹ˆæ ·çš„æ ‡é¢˜å±‚çº§</li>
<li>è¡¨æ ¼åº”è¯¥æ€ä¹ˆå¤„ç†æ‰å¥½çœ‹</li>
<li>å›¾ç‰‡è¦æ”¾åœ¨å“ªä¸ªç›®å½•</li>
<li>æ‰¹é‡è½¬æ¢æ—¶å¦‚ä½•ä¿æŒä¸€è‡´æ€§</li>
</ul>
<p>è¿™æ—¶å€™å°±å¯ä»¥é€‰æ‹©åˆ›å»ºä¸€ä¸ªä¸“å±çš„Skillã€‚</p>
<h3 data-id="heading-13">3.2 ç”¨skill-creatorè‡ªåŠ¨ç”Ÿæˆ</h3>
<p>é¦–å…ˆï¼Œå®‰è£…ä¸€ä¸ªç‰¹æ®Šçš„ Skillå« skill-creatorã€‚å®ƒæ˜¯ä¸“é—¨ç”¨æ¥åˆ›å»ºå…¶ä»–Skillçš„Skillï¼Œæœ‰ç‚¹åƒ"å·¥å…·åˆ¶é€ å‚"ã€‚</p>
<p><strong>ä»GitHubå®‰è£…ï¼š</strong></p>
<pre><code class="hljs language-ruby" lang="ruby">å¸®æˆ‘å®‰è£…skill-creatorï¼Œåœ°å€ï¼š<span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/github.com/anthropics</span><span class="hljs-regexp">/skills/tree</span><span class="hljs-regexp">/main/skills</span><span class="hljs-regexp">/skill-creator
</span></code></pre>
<p><strong>æˆ–ä»æ’ä»¶å¸‚åœºå®‰è£…ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">/plugin install skill-creator
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œå‘Šè¯‰å®ƒä½ æƒ³è¦ä»€ä¹ˆï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">åˆ›å»ºä¸€ä¸ªskillï¼Œèƒ½å¤Ÿå°†Wordæ–‡æ¡£ï¼ˆ.docxï¼‰è½¬æ¢ä¸ºMarkdownæ ¼å¼
è¦æ±‚ï¼š
<span class="hljs-bullet">1.</span> æ™ºèƒ½è¯†åˆ«æ–‡æ¡£ç»“æ„ï¼ˆæ ‡é¢˜ã€æ®µè½ã€åˆ—è¡¨ã€è¡¨æ ¼ï¼‰
<span class="hljs-bullet">2.</span> æ­£ç¡®å¤„ç†å›¾ç‰‡ï¼ˆæå–åˆ°æœ¬åœ°imagesç›®å½•ï¼‰
<span class="hljs-bullet">3.</span> ä¿ç•™è¶…é“¾æ¥å’Œæ–‡æœ¬æ ¼å¼ï¼ˆåŠ ç²—ã€æ–œä½“ï¼‰
<span class="hljs-bullet">4.</span> æ”¯æŒæ‰¹é‡è½¬æ¢æ•´ä¸ªæ–‡ä»¶å¤¹
<span class="hljs-bullet">5.</span> è¾“å‡ºç¬¦åˆCommonMarkæ ‡å‡†çš„Markdown
</code></pre>
<p>skill-creatorä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„SkillåŒ…ï¼ŒåŒ…å«ä¾‹å¦‚ä»¥ä¸‹ç»“æ„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">word-to-markdown/
â”œâ”€â”€ SKILL.md                      <span class="hljs-comment"># æ ¸å¿ƒæŒ‡ä»¤æ–‡æ¡£</span>
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ convert.py                <span class="hljs-comment"># Wordè½¬Markdownçš„Pythonè„šæœ¬</span>
â””â”€â”€ references/
    â””â”€â”€ commonmark-spec.md        <span class="hljs-comment"># CommonMarkæ ¼å¼è§„èŒƒå‚è€ƒ</span>
</code></pre>
<h3 data-id="heading-14">3.3 ç”Ÿæˆçš„Skillæ˜¯ä»€ä¹ˆæ ·çš„</h3>
<p><strong>SKILL.mdçš„å†…å®¹æ¦‚è¦ï¼š</strong></p>
<p>å¼€å¤´æ˜¯å…ƒæ•°æ®éƒ¨åˆ†ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">name:</span> <span class="hljs-string">word-to-markdown</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">å°†Wordæ–‡æ¡£è½¬æ¢ä¸ºæ ¼å¼è‰¯å¥½çš„Markdownæ–‡ä»¶ï¼Œæ”¯æŒæ™ºèƒ½æ ¼å¼è¯†åˆ«ã€å›¾ç‰‡å¤„ç†å’Œæ‰¹é‡è½¬æ¢</span>
<span class="hljs-meta">---
</span>
<span class="hljs-comment"># Wordè½¬Markdown Skill</span>

<span class="hljs-comment">## ä½•æ—¶ä½¿ç”¨</span>
<span class="hljs-string">å½“ç”¨æˆ·éœ€è¦å°†.docxæ–‡ä»¶è½¬æ¢ä¸º.mdæ ¼å¼æ—¶</span>
</code></pre>
<p>ç„¶åæ˜¯è¯¦ç»†çš„æ‰§è¡Œæµç¨‹ï¼š</p>
<ul>
<li>æ–‡æ¡£åˆ†æï¼šå¦‚ä½•è¯†åˆ«æ ‡é¢˜ã€åˆ—è¡¨ã€è¡¨æ ¼</li>
<li>æ ¼å¼è½¬æ¢ï¼šä¸åŒWordæ ·å¼å¯¹åº”çš„Markdownè¯­æ³•</li>
<li>å›¾ç‰‡å¤„ç†ï¼šå¦‚ä½•æå–å’Œå¼•ç”¨å›¾ç‰‡</li>
<li>è´¨é‡æ£€æŸ¥ï¼šè½¬æ¢åå¦‚ä½•éªŒè¯ç»“æœ</li>
</ul>
<p>è¿˜æœ‰ä½¿ç”¨ç¤ºä¾‹å’Œæ³¨æ„äº‹é¡¹ï¼Œç¡®ä¿AgentçŸ¥é“åœ¨å„ç§æƒ…å†µä¸‹åº”è¯¥å¦‚ä½•å¤„ç†ã€‚</p>
<p><strong>scripts/convert.py çš„ä½œç”¨ï¼š</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªPythonè„šæœ¬ï¼Œä½¿ç”¨python-docxåº“è¯»å–Wordæ–‡æ¡£ï¼ŒæŒ‰ç…§SKILL.mdä¸­çš„è§„èŒƒè¿›è¡Œè½¬æ¢ã€‚å®ƒå¤„ç†é‚£äº›é è‡ªç„¶è¯­è¨€æè¿°ä¸å¤Ÿç²¾ç¡®çš„ç»†èŠ‚â€”â€”æ¯”å¦‚è¡¨æ ¼çš„Markdownè¯­æ³•ã€å›¾ç‰‡çš„å‘½åè§„åˆ™ç­‰ã€‚</p>
<p><strong>references/commonmark-spec.mdçš„ä½œç”¨ï¼š</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªå‚è€ƒæ–‡æ¡£ï¼Œè¯¦ç»†è¯´æ˜äº†CommonMarkæ ‡å‡†çš„è¯­æ³•è§„èŒƒã€‚å½“Agenté‡åˆ°å¤æ‚çš„æ ¼å¼é—®é¢˜æ—¶ï¼Œå¯ä»¥æŸ¥é˜…è¿™ä¸ªæ–‡æ¡£æ¥ç¡®ä¿è¾“å‡ºç¬¦åˆæ ‡å‡†ã€‚</p>
<p>æ‰€ä»¥å…·ä½“æµç¨‹å°±æ˜¯ï¼Œå½“ Agent åœ¨æ‰§è¡Œè½¬æ¢ä»»åŠ¡æ—¶ï¼Œä¼šï¼š</p>
<ol>
<li>è¯»å–SKILL.mdäº†è§£æ•´ä½“æµç¨‹</li>
<li>è°ƒç”¨convert.pyæ‰§è¡Œå®é™…çš„è½¬æ¢å·¥ä½œ</li>
<li>å¦‚æœé‡åˆ°ç‰¹æ®Šæ ¼å¼ï¼ŒæŸ¥é˜…commonmark-spec.md</li>
<li>æ ¹æ®è½¬æ¢ç»“æœç”Ÿæˆæœ€ç»ˆçš„Markdownæ–‡ä»¶</li>
</ol>
<h3 data-id="heading-15">3.4 ä½¿ç”¨å’Œè¿­ä»£</h3>
<p>Skillåˆ›å»ºå®Œæˆåå°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ï¼š</p>
<pre><code class="hljs">å°†report.docxè½¬æ¢ä¸ºmarkdown
</code></pre>
<p>æˆ–è€…æ‰¹é‡è½¬æ¢ï¼š</p>
<pre><code class="hljs">å°†docsæ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰Wordæ–‡æ¡£è½¬æ¢ä¸ºMarkdown
</code></pre>
<p>Agentä¼šè‡ªåŠ¨è¯†åˆ«è¿™ä¸ªéœ€æ±‚åº”è¯¥è°ƒç”¨word-to-markdown Skillï¼Œç„¶åæŒ‰ç…§SKILL.mdä¸­çš„æŒ‡å¼•å®Œæˆè½¬æ¢ã€‚</p>
<p>å¦‚æœç¬¬ä¸€æ¬¡è½¬æ¢çš„ç»“æœä¸ç†æƒ³æ€ä¹ˆåŠï¼Ÿä½ å¯ä»¥ç»§ç»­å’ŒAgentå¯¹è¯ï¼š</p>
<pre><code class="hljs">è¡¨æ ¼è½¬æ¢æœ‰é—®é¢˜ï¼Œåˆ—å¯¹é½ä¸å¯¹
</code></pre>
<p>Agentä¼šåŸºäºä½ çš„åé¦ˆï¼Œè°ƒæ•´convert.pyè„šæœ¬ä¸­çš„è¡¨æ ¼å¤„ç†é€»è¾‘ï¼Œæˆ–è€…æ›´æ–°SKILL.mdä¸­çš„è½¬æ¢è§„èŒƒã€‚ç»è¿‡å‡ è½®è¿­ä»£ï¼Œè¿™ä¸ªSkillå°±ä¼šè¶Šæ¥è¶Šç¬¦åˆä½ çš„éœ€æ±‚ã€‚</p>
<p>å½“è¿™ä¸ª Skill ä¼˜åŒ–å®Œç¨³å®šåï¼Œå¯ä»¥æŠŠå®ƒåˆ†äº«ç»™ä»»ä½•ä¸€ä¸ªæœ‰ word è½¬ markdown éœ€æ±‚çš„äººï¼Œä»–ä»¬ä¸éœ€è¦äº†è§£ä»»ä½•æŠ€æœ¯ç»†èŠ‚ï¼Œå°±èƒ½ç”¨ä¸Šä½ æ€»ç»“å‡ºæ¥çš„"æœ€ä½³å®è·µ"ã€‚æˆ–è€…ï¼Œæ›´è¿›ä¸€æ­¥ï¼Œå¯ä»¥å†åŸºäºè¿™ä¸ªSkillå†åˆ›å»ºæ–°çš„Skillsï¼šæ¯”å¦‚ä¸€ä¸ªä¸“é—¨å¤„ç†å­¦æœ¯è®ºæ–‡æ ¼å¼çš„Skillï¼Œå®ƒç»§æ‰¿word-to-markdownçš„èƒ½åŠ›ï¼Œå†å¢åŠ å‚è€ƒæ–‡çŒ®çš„ç‰¹æ®Šå¤„ç†é€»è¾‘ã€‚</p>
<p>è¿™å°±æ˜¯Skillsçš„å¯ç»„åˆæ€§ï¼šæ¯ä¸ªSkilléƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œä½†å¯ä»¥ç›¸äº’åµŒå¥—ã€ç›¸äº’å¼•ç”¨ï¼Œæ„å»ºå‡ºè¶Šæ¥è¶Šå¼ºå¤§çš„èƒ½åŠ›ä½“ç³»ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eacf582058674e2496891384717d269e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAga25xaXVmYW4=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769968020&amp;x-signature=vUJuiTAVOR1ezRnWNrvE%2BS3Q2%2Fk%3D" alt="Gemini_Generated_Image_w9d7a8w9d7a8w9d7.png" loading="lazy"/></p>
<h2 data-id="heading-16">å››ã€Skillçš„è®¾è®¡å“²å­¦</h2>
<h3 data-id="heading-17">çŸ¥è¯†çš„å¯ç§»æ¤æ€§</h3>
<p>SkillsæŠŠçŸ¥è¯†æ˜¾å¼åŒ–ä¸ºæ–‡ä»¶ã€‚è¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>å¯ä»¥ç”¨Gitè¿›è¡Œç‰ˆæœ¬æ§åˆ¶</li>
<li>å¯ä»¥é€šè¿‡GitHubæˆ–æ–‡ä»¶å…±äº«</li>
<li>å¯ä»¥åœ¨ä¸åŒå¹³å°é—´è¿ç§»</li>
<li>å¯ä»¥æŒç»­è¿­ä»£ä¼˜åŒ–</li>
</ul>
<p>è¿™å¬èµ·æ¥å¾ˆæŠ€æœ¯åŒ–ï¼Œä½†æ¢ä¸ªè§’åº¦æƒ³ï¼šè¿™æ„å‘³ç€ä½ çš„ç»éªŒä¸å†æ˜¯ä½ ä¸ªäººçš„ç§æœ‰è´¢äº§ï¼Œè€Œå˜æˆäº†å¯ä»¥ä¼ æ‰¿ã€å¯ä»¥å¤ç”¨ã€å¯ä»¥ä¸æ–­å®Œå–„çš„å›¢é˜Ÿèµ„äº§ã€‚å°±åƒä¸€æœ¬ä¸æ–­æ›´æ–°çš„"æ“ä½œæ‰‹å†Œ"ï¼Œæ¯ä¸ªä½¿ç”¨è€…éƒ½å¯ä»¥è´¡çŒ®è‡ªå·±çš„æ”¹è¿›ã€‚</p>
<h3 data-id="heading-18">æ¸è¿›å¼å¤æ‚åº¦</h3>
<p>å¾ˆå¤šæŠ€æœ¯æ¡†æ¶çš„é—®é¢˜æ˜¯"é—¨æ§›å¤ªé«˜"ã€‚ä½ æƒ³åšä¸€ä¸ªç®€å•çš„åŠŸèƒ½ï¼Œå´è¦å…ˆç†è§£ä¸€å¤§å †æ¦‚å¿µã€é…ç½®ä¸€å †ç¯å¢ƒã€å­¦ä¹ ä¸€å †è¯­æ³•ã€‚è¿˜æ²¡å¼€å§‹åšï¼Œçƒ­æƒ…å°±å·²ç»è¢«ç£¨ç­äº†ã€‚</p>
<p>è€Œ Skills çš„ç†å¿µæ˜¯"æç®€èµ·æ­¥ï¼ŒæŒ‰éœ€æ‰©å±•"ã€‚</p>
<p>æœ€ç®€å•çš„Skillåªæœ‰ä¸€ä¸ªSKILL.mdæ–‡ä»¶ï¼Œç”¨è‡ªç„¶è¯­è¨€æŠŠä¸€ä»¶äº‹è¯´æ¸…æ¥šå°±å¤Ÿäº†ã€‚ä¸éœ€è¦å­¦ç¼–ç¨‹ï¼Œä¸éœ€è¦ç†è§£å¤æ‚çš„æ¦‚å¿µï¼Œå°±åƒç»™æ–°åŒäº‹å†™å·¥ä½œé‚®ä»¶ä¸€æ ·ç®€å•ã€‚</p>
<p>å½“å‘ç°è‡ªç„¶è¯­è¨€ä¸å¤Ÿç”¨æ—¶ï¼Œå¯ä»¥ç»§ç»­æ·»åŠ ä¸€ä¸ªPythonè„šæœ¬æ¥è‡ªåŠ¨åŒ–æŸä¸ªæ­¥éª¤ã€‚å½“è„šæœ¬å˜å¤æ‚æ—¶ï¼Œå¯ä»¥æ‹†åˆ†æˆå¤šä¸ªå­è„šæœ¬ã€‚å½“æ–‡æ¡£å¤ªé•¿æ—¶ï¼Œå¯ä»¥æŠŠæŸäº›éƒ¨åˆ†æŠ½ç¦»æˆç‹¬ç«‹çš„å‚è€ƒæ–‡æ¡£ã€‚å³ä½¿æ˜¯éå¼€å‘äººå‘˜ä¹Ÿå¯ä»¥åšåˆ°è¿™ç‚¹ï¼Œå› ä¸ºè¿™äº›è„šæœ¬å¯ä»¥ä¸ç”¨è‡ªå·±ç¼–å†™ï¼ŒAI ä¼šå¸®å¿™æå®šã€‚</p>
<p>è¿™ç§æ¸è¿›å¼çš„å¤æ‚åº¦ï¼Œè®©Skillçš„åˆ›å»ºè€…èƒ½å¤Ÿ"è¾¹åšè¾¹å­¦"ï¼Œè€Œä¸æ˜¯ä¸€å¼€å§‹å°±è¢«åºå¤§çš„æ¶æ„å“é€€ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå®ƒè®©Skillsèƒ½å¤Ÿ"æœ‰æœºç”Ÿé•¿"â€”â€”ä»ä¸€ä¸ªå°èŒèŠ½ï¼Œé€æ­¥å‘å±•æˆä¸€ä¸ªåŠŸèƒ½å®Œå–„çš„ç³»ç»Ÿã€‚</p>
<h3 data-id="heading-19">äººæœºåä½œçš„æ–°èŒƒå¼</h3>
<p>Skillså¾ˆæœ‰æ„æ€çš„ä¸€ä¸ªåœ°æ–¹æ˜¯ï¼Œæ˜¯å®ƒé‡æ–°å®šä¹‰äº†äººæœºåä½œçš„æ–¹å¼ã€‚</p>
<p>åŸå…ˆçš„ AI åº”ç”¨è¦ä¹ˆæŠŠä¸€åˆ‡éƒ½é¢„è®¾å¥½ï¼ˆWorkflowã€è§„åˆ™å¼•æ“ï¼‰ï¼Œè¦ä¹ˆå®Œå…¨ä¾èµ–AIçš„"æ™ºèƒ½"ï¼ˆChatGPT é‚£æ ·çš„é€šç”¨å¯¹è¯ï¼‰ã€‚å‰è€…å¤ªæ­»æ¿ï¼Œåè€…å¤ªä¸å¯æ§ã€‚</p>
<p>Skillsèµ°çš„æ˜¯ä¸€æ¡ä¸­é—´è·¯ï¼šäººç±»æä¾›çŸ¥è¯†å’Œæ–¹æ³•ï¼ŒAIæä¾›æ¨ç†å’Œæ‰§è¡Œã€‚</p>
<p>è¿™ç§åä½œæ–¹å¼å……åˆ†å‘æŒ¥äº†å„è‡ªçš„ä¼˜åŠ¿ï¼šäººç±»æ“…é•¿ç§¯ç´¯ç»éªŒã€æ€»ç»“æ–¹æ³•ã€è®¾å®šè§„èŒƒï¼ŒAIæ“…é•¿æ‰§è¡Œç»†èŠ‚ã€å¤„ç†å˜æ•°ã€å¿«é€Ÿè¿­ä»£ã€‚ç»“æœå°±æ˜¯ä¸€ä¸ªæ—¢ä¸“ä¸šåˆçµæ´»çš„AIåº”ç”¨ã€‚</p>
<h3 data-id="heading-20">ä»é¢„è®¾åˆ°å“åº”å¼</h3>
<p>å†æ·±å…¥ä¸€ç‚¹ï¼Œè¿™å…¶å®æ˜¯ä»"é¢„è®¾æ‰€æœ‰å¯èƒ½"åˆ°"å“åº”å®é™…æƒ…å†µ"çš„èŒƒå¼è½¬å˜ã€‚</p>
<p>ä¼ ç»Ÿçš„ç¼–ç¨‹æ€ç»´æ˜¯ï¼šæˆ‘éœ€è¦é¢„æƒ³æ‰€æœ‰å¯èƒ½çš„æƒ…å†µï¼Œä¸ºæ¯ç§æƒ…å†µç¼–å†™å¤„ç†é€»è¾‘ã€‚ä½†ç°å®æ€»æ˜¯è¶…å‡ºé¢„æœŸï¼Œäºæ˜¯å°±ä¸æ–­åœ°æ‰“è¡¥ä¸ã€åŠ ç‰¹ä¾‹ï¼Œä»£ç è¶Šæ¥è¶Šå¤æ‚ï¼Œç»´æŠ¤è¶Šæ¥è¶Šå›°éš¾ã€‚Skills èµ‹èƒ½çš„ Agent é‡‡ç”¨å“åº”å¼è®¾è®¡ï¼šä½ å‘Šè¯‰å®ƒç›®æ ‡å’ŒåŸåˆ™ï¼Œå®ƒæ ¹æ®å®é™…æƒ…å†µåŠ¨æ€è°ƒæ•´ç­–ç•¥ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ã€‚ä¸€ä¸ªæ–‡æ¡£è½¬æ¢çš„Skillï¼Œä½ ä¸éœ€è¦é¢„è®¾æ‰€æœ‰å¯èƒ½çš„Wordæ ¼å¼ã€‚ä½ åªéœ€è¦å‘Šè¯‰å®ƒ"æ ‡é¢˜åº”è¯¥è½¬æ¢ä¸º#å¼€å¤´"ã€"è¡¨æ ¼è¦ä¿æŒå¯¹é½"è¿™äº›åŸºæœ¬åŸåˆ™ã€‚é‡åˆ°ç‰¹æ®Šçš„æ ¼å¼æ—¶ï¼ŒAgentä¼šåŸºäºå®ƒçš„ç†è§£è¿›è¡Œæ¨ç†ï¼Œç»™å‡ºæœ€å¯èƒ½çš„å¤„ç†æ–¹å¼ã€‚å¦‚æœä¸ç¡®å®šï¼Œå®ƒç”šè‡³ä¼šé—®ä½ ï¼š"è¿™ä¸ªæ ¼å¼ä¸å¤ªå¸¸è§ï¼Œæˆ‘è¿™æ ·å¤„ç†å¯ä»¥å—ï¼Ÿ"</p>
<p>è¿™ç§ä»"é¢„è®¾"åˆ°"å“åº”"çš„è½¬å˜ï¼Œè®©AIåº”ç”¨å…·å¤‡äº†çœŸæ­£çš„é€‚åº”æ€§ã€‚å®ƒä¸å†æ˜¯åƒµåŒ–çš„å·¥å…·ï¼Œè€Œæ›´åƒæ˜¯ä¸€ä¸ªèƒ½å¤Ÿå­¦ä¹ å’Œæˆé•¿çš„åˆä½œä¼™ä¼´ã€‚</p>
<h3 data-id="heading-21">çŸ¥è¯†çš„æ¨¡å—åŒ–ä¸ç»„åˆæ€§</h3>
<p>Skills çš„æœ¬è´¨æ˜¯çŸ¥è¯†çš„æ¨¡å—åŒ–ã€‚è¿™å¬èµ·æ¥å¾ˆæŠ€æœ¯ï¼Œä½†å…¶å®å’Œä¹é«˜ç§¯æœ¨çš„åŸç†ä¸€æ ·ã€‚</p>
<p>æ¯ä¸ªSkilléƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„çŸ¥è¯†æ¨¡å—ï¼Œå®ƒï¼š</p>
<ul>
<li>å¯ä»¥å•ç‹¬ä½¿ç”¨</li>
<li>å¯ä»¥å’Œå…¶ä»–Skillsç»„åˆ</li>
<li>å¯ä»¥è¢«åµŒå¥—åœ¨æ›´å¤§çš„Skillä¸­</li>
<li>å¯ä»¥ä½œä¸ºå…¶ä»–Skillçš„åŸºç¡€</li>
</ul>
<p>è¿™ç§ç»„åˆæ€§æ„å‘³ç€Nä¸ªSkillså¯ä»¥åº”å¯¹è¿œè¶…Nç§åœºæ™¯ï¼š</p>
<ul>
<li>brand-guidelines + pptx = ç¬¦åˆå“ç‰Œè§„èŒƒçš„PPTç”Ÿæˆå™¨</li>
<li>web-scraping + data-analysis + pptx = è‡ªåŠ¨ç«å“åˆ†ææŠ¥å‘Š</li>
<li>brand-guidelines + web-scraping + data-analysis + pptx = ç¬¦åˆå“ç‰Œè§„èŒƒçš„è‡ªåŠ¨ç«å“åˆ†ææŠ¥å‘Š</li>
</ul>
<p>ä½ ä¼šå‘ç°æœ€åè¿™ä¸ªå¤æ‚çš„ç³»ç»Ÿå…¶å®æ˜¯ç”±ç®€å•çš„Skillsç»„åˆè€Œæˆçš„ã€‚ä¸éœ€è¦ä»é›¶å¼€å§‹å¼€å‘ä¸€ä¸ª"ç«å“åˆ†æç³»ç»Ÿ"ï¼Œåªéœ€è¦æŠŠå·²æœ‰çš„"ç§¯æœ¨"æ­åœ¨ä¸€èµ·å°±è¡Œã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯è¿™äº›Skillså¯ä»¥è¢«æ— é™å¤ç”¨ã€‚brand-guidelines å¯ä»¥è¢«ç”¨äºç½‘ç«™è®¾è®¡ã€é‚®ä»¶æ¨¡æ¿ã€è¥é”€ææ–™ç­‰å„ç§åœºæ™¯ã€‚æ¯åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„Skillï¼Œä¸ä»…è§£å†³çš„æ˜¯å½“å‰çš„é—®é¢˜ï¼Œè¿˜ä¸ºæœªæ¥çš„é—®é¢˜æä¾›äº†ä¸€ä¸ªå¯ç”¨çš„ç»„ä»¶ã€‚</p>
<p>æ¨¡å—åŒ–ï¼Œç»„ä»¶åŒ–ï¼Œè¿™å¯ç©æ€§å°±å¾ˆé«˜äº†ã€‚</p>
<h2 data-id="heading-22">äº”ã€Skills åˆ°åº•æœ‰å¤šå¼ºï¼Ÿ</h2>
<p>æœ€ç®€å•çš„Skillåªéœ€è¦ä¸€ä¸ªSKILL.mdæ–‡ä»¶ï¼Œç”¨è‡ªç„¶è¯­è¨€æŠŠä¸€ä»¶äº‹è¯´æ¸…æ¥šã€‚è¿™æ„å‘³ç€é‚£äº›æœ€æ‡‚ä¸šåŠ¡çš„äººâ€”â€”äº§å“ç»ç†ã€åˆ†æå¸ˆã€å¾‹å¸ˆã€åŒ»ç”Ÿã€æ•™å¸ˆç­‰ç­‰ï¼Œå¯ä»¥ç›´æ¥åˆ›å»ºAIåº”ç”¨ï¼Œè€Œä¸éœ€è¦æŠŠéœ€æ±‚"ç¿»è¯‘"ç»™å¼€å‘å·¥ç¨‹å¸ˆã€‚è€Œå¼€å‘å·¥ç¨‹å¸ˆå¯ä»¥ä»é‡å¤æ€§çš„"ç¿»è¯‘å·¥ä½œ"ä¸­è§£æ”¾å‡ºæ¥ï¼Œä¸“æ³¨äºæ›´æœ‰æŒ‘æˆ˜æ€§çš„æŠ€æœ¯é—®é¢˜ã€‚é¢†åŸŸä¸“å®¶çš„ç»éªŒå’ŒçŸ¥è¯†ï¼Œå¯ä»¥ç›´æ¥è½¬åŒ–ä¸ºç”Ÿäº§åŠ›ã€‚</p>
<p>è¿™æ„ä¹‰å°±å¾ˆé‡å¤§ã€‚</p>
<p>Skills çš„æ™ºèƒ½ä¸Šé™æ˜¯å¾ˆé«˜ï¼Œå› ä¸º Skills ä¾æ‰˜çš„æ˜¯é€šç”¨ Agent çš„æ¨ç†èƒ½åŠ›ï¼Œè€Œä¸æ˜¯é¢„è®¾çš„è§„åˆ™ã€‚å½“é‡åˆ°è¶…å‡ºé¢„æœŸçš„æƒ…å†µæ—¶ï¼Œä½¿ç”¨ Skills çš„ Agent ä¼šåŸºäºå¯¹ä»»åŠ¡çš„ç†è§£è¿›è¡Œæ¨ç†ï¼Œå¯èƒ½ä¼šè°ƒç”¨å…¶ä»–Skillsï¼Œå¯èƒ½å³å…´ç¼–å†™ä¸€æ®µè„šæœ¬ï¼Œå¯èƒ½å‘ä½ è¯¢é—®ç¡®è®¤ã€‚è¿™ç§é€‚åº”æ€§å’Œå­¦ä¹ èƒ½åŠ›ï¼Œè®©å®ƒçš„åº”ç”¨åœºæ™¯è¿œè¶…ä¼ ç»ŸAIåº”ç”¨ã€‚</p>
<p>Skills ä¹Ÿå¾ˆçµæ´»ï¼Œåªéœ€è¦ä¿®æ”¹æ–‡æ¡£ï¼Œç”šè‡³ç›´æ¥å‘Šè¯‰Agent"ä¸‹æ¬¡è¿™æ ·åš"ï¼Œä¸‹æ¬¡ä»»åŠ¡å°±ä¼šåº”ç”¨æ–°çš„æ–¹æ³•ã€‚è¿™ç§å¿«é€Ÿè¿­ä»£çš„èƒ½åŠ›ï¼Œè®©Skillsç‰¹åˆ«é€‚åˆé‚£äº›è¿˜åœ¨æ¢ç´¢é˜¶æ®µçš„åœºæ™¯ã€‚å¿«é€Ÿå°è¯•ä¸åŒçš„æ–¹æ³•ï¼Œæ‰¾åˆ°æœ€ä¼˜è§£åå†å›ºåŒ–ä¸‹æ¥ï¼Œæå¤§åœ°é™ä½äº†éªŒè¯æƒ³æ³•çš„æˆæœ¬ã€‚</p>
<p>å½“AIåº”ç”¨å¼€å‘çš„é—¨æ§›é™ä½ï¼Œç«äº‰ä¸å†æ˜¯è°èƒ½å¼€å‘ï¼Œè€Œæ˜¯è°æœ‰æ›´å¥½çš„æ–¹æ³•è®ºã€æ›´æ·±çš„é¢†åŸŸçŸ¥è¯†ã€æ›´ä¼˜çš„å·¥ä½œæµç¨‹ã€‚è¿™å¯¹æœ‰ç»éªŒçš„äººæ¥è¯´æ˜¯å¥½æ¶ˆæ¯ã€‚æ ¸å¿ƒç«äº‰åŠ›å˜æˆå¯¹ä¸šåŠ¡çš„ç†è§£ã€è§£å†³é—®é¢˜çš„æ–¹æ³•ã€ç§¯ç´¯çš„ç»éªŒã€‚è¿™äº›æ˜¯AIçŸ­æœŸå†…æ— æ³•æ›¿ä»£çš„ã€‚</p>
<h2 data-id="heading-23">å…­ã€å†™åœ¨æœ€å</h2>
<p>Skillsçš„å‡ºç°ç¡®å®æ”¹å˜äº†æˆ‘ä»¬ä¸AIåä½œçš„æ–¹å¼ã€‚è¿‡å»æ¯æ¬¡å’ŒAIå¯¹è¯éƒ½è¦ä»é›¶å¼€å§‹ï¼Œåå¤è§£é‡ŠåŒæ ·çš„è§„åˆ™ã€‚ç°åœ¨ï¼Œè¿™äº›çŸ¥è¯†å’Œç»éªŒå¯ä»¥è¢«å°è£…ã€è¢«å¤ç”¨ã€è¢«ä¼ æ‰¿ã€‚è¿™ç§è½¬å˜ä¸ä»…æ˜¯æ•ˆç‡çš„æå‡ï¼Œæ›´æ˜¯å¯¹çŸ¥è¯†ç§¯ç´¯æ–¹å¼çš„é‡æ–°æ€è€ƒã€‚é‚£äº›è€å‘˜å·¥è„‘å­é‡Œçš„"ç»éªŒä¹‹è°ˆ"ï¼Œé‚£äº›å›¢é˜Ÿå¤šå¹´æ‘¸ç´¢å‡ºçš„"æœ€ä½³å®è·µ"ï¼Œä¸å†éšç€äººå‘˜æµåŠ¨è€Œæ¶ˆå¤±ï¼Œè€Œæ˜¯å˜æˆäº†å¯ä»¥ä¼ æ‰¿çš„æ˜¾æ€§èµ„äº§ã€‚</p>
<p>ä¸€ä¸ªäººçš„èƒ½åŠ›æ€»æ˜¯æœ‰é™çš„ï¼Œä½†å½“æ— æ•°äººçš„ç»éªŒå’ŒçŸ¥è¯†é€šè¿‡Skillsç»„åˆåœ¨ä¸€èµ·æ—¶ï¼Œå°±èƒ½äº§ç”Ÿè¿œè¶…ä¸ªä½“ä¹‹å’Œçš„é›†ä½“æ™ºæ…§ã€‚å°±åƒä¹é«˜ç§¯æœ¨ï¼Œæ¯ä¸ªSkilléƒ½æ˜¯ç‹¬ç«‹çš„æ¨¡å—ï¼Œä½†å¯ä»¥è‡ªç”±ç»„åˆï¼Œåº”å¯¹å„ç§å¤æ‚åœºæ™¯ã€‚</p>
<p>Skillsè®©AIä»"å·¥å…·"å˜æˆäº†"åˆä½œä¼™ä¼´"ã€‚äººç±»æä¾›æ™ºæ…§å’Œæ–¹å‘ï¼ŒAIæä¾›æ‰§è¡Œå’Œé€‚åº”ã€‚è¿™ç§åä½œæ–¹å¼å……åˆ†å‘æŒ¥äº†å„è‡ªçš„ä¼˜åŠ¿ï¼šæˆ‘ä»¬æ“…é•¿ç§¯ç´¯ç»éªŒã€åˆ¤æ–­ä»·å€¼ã€è®¾å®šç›®æ ‡ï¼ŒAIæ“…é•¿æ‰§è¡Œç»†èŠ‚ã€å¤„ç†å˜æ•°ã€å¿«é€Ÿè¿­ä»£ã€‚</p>
<p>Skillsç”Ÿæ€æ‰åˆšåˆšèµ·æ­¥ï¼Œä½†è¶‹åŠ¿å·²ç»æ˜ç¡®ï¼šé‚£äº›èƒ½å¤Ÿå°†è‡ªå·±çš„ç»éªŒå’ŒçŸ¥è¯†è½¬åŒ–ä¸ºSkillsçš„äººï¼Œå°†åœ¨AIæ—¶ä»£è·å¾—å·¨å¤§ä¼˜åŠ¿ã€‚è¿™ä¸å†æ˜¯è°ä¼šå†™ä»£ç çš„é—®é¢˜ï¼Œè€Œæ˜¯è°æœ‰æ›´å¥½çš„æ–¹æ³•è®ºã€æ›´æ·±çš„é¢†åŸŸçŸ¥è¯†ã€æ›´ä¼˜çš„å·¥ä½œæµç¨‹ã€‚</p>
<hr/>
<p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p>
<ol>
<li>Anthropicå®˜æ–¹åšå®¢ - <a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.com%2Fblog%2Fbuilding-agents-with-skills-equipping-agents-for-specialized-work" target="_blank" title="https://claude.com/blog/building-agents-with-skills-equipping-agents-for-specialized-work" ref="nofollow noopener noreferrer">Building Agents with Skills</a></li>
<li>Anthropicå®˜æ–¹åšå®¢ - <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.anthropic.com%2Fengineering%2Fequipping-agents-for-the-real-world-with-agent-skills" target="_blank" title="https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills" ref="nofollow noopener noreferrer">Equipping agents for the real world with Agent Skills</a></li>
<li>Agent Skillså®˜æ–¹æ ‡å‡† - <a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io%2F" target="_blank" title="https://agentskills.io/" ref="nofollow noopener noreferrer">agentskills.io/</a></li>
<li>Claude Codeå®˜æ–¹æ–‡æ¡£ - <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs%2Fen%2Fskills" target="_blank" title="https://code.claude.com/docs/en/skills" ref="nofollow noopener noreferrer">code.claude.com/docs/en/skiâ€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fintuitionlabs.ai%2Farticles%2Fclaude-skills-vs-mcp" target="_blank" title="https://intuitionlabs.ai/articles/claude-skills-vs-mcp" ref="nofollow noopener noreferrer">Claude Skills vs. MCP: A Technical Comparison</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.volcengine.com%2Farticles%2F7592876110652981274" target="_blank" title="https://developer.volcengine.com/articles/7592876110652981274" ref="nofollow noopener noreferrer">åˆ«ææ··äº†ï¼MCPå’ŒAgent Skillåˆ°åº•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F1992907559875654043" target="_blank" title="https://zhuanlan.zhihu.com/p/1992907559875654043" ref="nofollow noopener noreferrer">2026å¹´AIåº”ç”¨æŠ€æœ¯æ ˆï¼šæ·±åº¦å‰–æAgent Skill"æ¸è¿›å¼æŠ«éœ²"æ¶æ„</a></li>
<li>Pandocæ–‡æ¡£è½¬æ¢å·¥å…· - <a href="https://link.juejin.cn?target=https%3A%2F%2Fpandoc.org%2F" target="_blank" title="https://pandoc.org/" ref="nofollow noopener noreferrer">pandoc.org/</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¿«é€Ÿä¸Šæ‰‹Rsync]]></title>    <link>https://juejin.cn/post/7599852636529901603</link>    <guid>https://juejin.cn/post/7599852636529901603</guid>    <pubDate>2026-01-27T10:25:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599852636529901603" data-draft-id="7599828354515664936" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¿«é€Ÿä¸Šæ‰‹Rsync"/> <meta itemprop="keywords" content="è¿ç»´,è‡ªåŠ¨åŒ–è¿ç»´"/> <meta itemprop="datePublished" content="2026-01-27T10:25:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="lihouyi"/> <meta itemprop="url" content="https://juejin.cn/user/4365493763322599"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¿«é€Ÿä¸Šæ‰‹Rsync
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4365493763322599/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    lihouyi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T10:25:30.000Z" title="Tue Jan 27 2026 10:25:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¿«é€Ÿä¸Šæ‰‹Rsync</h2>
<p>åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸ç¾å¤‡åœºæ™¯ä¸­ï¼Œæ–‡ä»¶åŒæ­¥æ˜¯åŸºçŸ³</p>
<p>ä¼ ç»Ÿçš„ <code>cp</code> æˆ– <code>scp</code> æ˜¯â€œå‚»ç“œå¼â€çš„â€”â€”å®ƒä»¬ä¸æ‡‚å˜é€šã€‚é¢å¯¹æµ·é‡å°æ–‡ä»¶æˆ–å¼±ç½‘ç¯å¢ƒçš„å¤§æ–‡ä»¶ï¼Œå®ƒä»¬æ€»æ˜¯è¿›è¡Œ<strong>å…¨é‡å¤åˆ¶</strong>ã€‚è¿™ä¸ä»…æ‰“æ»¡å¸¦å®½ï¼Œè¿˜æµªè´¹äº†å®è´µçš„ IO</p>
<p>ä½ éœ€è¦çš„æ˜¯ <strong>Rsync (Remote Sync)</strong> â€”â€” ç³»ç»Ÿç®¡ç†å‘˜æ‰‹ä¸­çš„â€œç‘å£«å†›åˆ€â€ã€‚å®ƒçš„æ€æ‰‹é”åœ¨äºï¼š<strong>åªä¼ æ”¹åŠ¨è¿‡çš„éƒ¨åˆ†</strong></p>
<h3 data-id="heading-1">æ ¸å¿ƒæœºåˆ¶ï¼šä¸ºä»€ä¹ˆ Rsync è¿™ä¹ˆå¿«ï¼Ÿ</h3>
<p>Rsync çš„é«˜æ€§èƒ½ä¸æ˜¯ç„å­¦ï¼Œè€Œæ˜¯ä¸€å¥—ä¸¥å¯†çš„æ•°å­¦é€»è¾‘ã€‚å®ƒä¸åŒäºç®€å•çš„å¯¹æ¯” <code>mtime</code>ï¼ˆä¿®æ”¹æ—¶é—´ï¼‰æˆ– <code>size</code>ï¼ˆå¤§å°ï¼‰ï¼Œè€Œæ˜¯æ·±å…¥åˆ°äº†<strong>å—ï¼ˆBlockï¼‰çº§åˆ«</strong></p>
<ol>
<li><strong>FileList äº¤æ¢</strong>ï¼šå®¢æˆ·ç«¯é¦–å…ˆå‘æœåŠ¡ç«¯å‘é€æ–‡ä»¶åˆ—è¡¨ï¼ˆåŒ…å«æ–‡ä»¶åã€å¤§å°ã€mtime ç­‰å…ƒæ•°æ®ï¼‰</li>
<li><strong>Generator è¯†åˆ«</strong>ï¼šæ¥æ”¶ç«¯æ ¹æ®å…ƒæ•°æ®å¿«é€Ÿç­›é€‰å‡ºâ€œå¯èƒ½å˜åŒ–â€çš„æ–‡ä»¶</li>
<li><strong>Rolling Checksum &amp; MD5</strong>ï¼šå¯¹äºå˜åŒ–çš„æ–‡ä»¶ï¼ŒRsync å°†å…¶åˆ†å—ï¼ˆBlockï¼‰ï¼Œè®¡ç®—æ»šåŠ¨æ ¡éªŒå’Œä¸ MD5 æ‘˜è¦ã€‚é€šè¿‡æ¯”å¯¹ä¸¤ç«¯çš„æ ¡éªŒå€¼ï¼Œç²¾å‡†å®šä½åˆ°å‘ç”Ÿå˜åŠ¨çš„â€œæ•°æ®å—â€</li>
<li><strong>å¢é‡ä¼ è¾“</strong>ï¼šä»…ä¼ è¾“å·®å¼‚æ•°æ®å—ï¼Œè€Œéæ•´ä¸ªæ–‡ä»¶</li>
</ol>
<blockquote>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœæºæ–‡ä»¶ä¸ç›®æ ‡æ–‡ä»¶çš„ <code>size</code> å’Œ <code>mtime</code> ä¸€è‡´ï¼ŒRsync ä¼šç›´æ¥è·³è¿‡æ ¡éªŒã€‚å¦‚æœä½ æ€€ç–‘æ–‡ä»¶è¢«ç¯¡æ”¹ä½†æ—¶é—´æˆ³è¢«ä¼ªé€ äº†ï¼Œè¯·åŠ ä¸Š <code>--checksum</code> å‚æ•°ï¼Œä½†è¿™ä¼šæ¶ˆè€—æ›´å¤š CPU</p>
</blockquote>
<h3 data-id="heading-2">å‘½ä»¤è¡Œæ¨¡å¼ï¼šä¸¥æ ¼çš„æ“ä½œè§„èŒƒ</h3>
<p>è™½ç„¶ Rsync æ”¯æŒæœ¬åœ°æ¨¡å¼ï¼ˆåŠŸèƒ½ç±»ä¼¼ <code>cp</code>ï¼‰ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬æ›´å…³æ³¨è¿œç¨‹ä¼ è¾“</p>
<h4 data-id="heading-3">æ–œæ çš„è‰ºæœ¯</h4>
<p>åœ¨ä½¿ç”¨ Rsync æ—¶ï¼Œæœ€å®¹æ˜“å¼•å‘â€œäº‹æ•…â€çš„ç»†èŠ‚åœ¨äºæºè·¯å¾„æœ«å°¾çš„ <code>/</code>ã€‚è¿™æ˜¯ä¸€ä¸ªå¿…é¡»å½¢æˆè‚Œè‚‰è®°å¿†çš„è§„èŒƒï¼š</p>
<ul>
<li><code>src</code>ï¼šåŒæ­¥ç›®å½•æœ¬èº« + ç›®å½•ä¸‹çš„å†…å®¹ã€‚ä¼šåœ¨ç›®æ ‡ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º <code>src</code> çš„å­ç›®å½•</li>
<li><code>src/</code> ï¼š<strong>ä»…</strong>åŒæ­¥ç›®å½•ä¸‹çš„å†…å®¹ã€‚ä¸ä¼šåˆ›å»º <code>src</code> å­ç›®å½•</li>
</ul>
<blockquote>
<p><strong>ç”Ÿäº§å»ºè®®</strong>ï¼šä¸ºäº†ä¿æŒè¯­ä¹‰æ¸…æ™°ï¼Œå¦‚æœä½ åªæƒ³åŒæ­¥æ–‡ä»¶å¤¹å†…éƒ¨ï¼Œ<strong>è¯·å§‹ç»ˆåŠ ä¸Š <code>/</code></strong></p>
</blockquote>
<h4 data-id="heading-4">å¸¸ç”¨å‚æ•°çš„æœ€ä½³å®è·µ</h4>
<p>åœ¨è„šæœ¬åŒ–ä»»åŠ¡ä¸­ï¼Œå»ºè®®ä½¿ç”¨ä»¥ä¸‹æ ‡å‡†å‚æ•°ç»„åˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash">rsync -avzP --delete --bwlimit=1000 /source/ user@host:/dest/
</code></pre>

















































<table><thead><tr><th align="left"><strong>å‚æ•°</strong></th><th align="left"><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td align="left"><code>-a</code></td><td align="left">å½’æ¡£æ¨¡å¼ï¼Œ-rlptgoDçš„ç»„åˆï¼Œæ¶µç›–å„ä¸ªæ–¹é¢<br/>-ré€’å½’<br/>-lå¤åˆ¶è½¯é“¾æ¥<br/>-pæƒé™ä¸å˜<br/>-mä¿®æ”¹æ—¶é—´ä¸å˜<br/>-oæ‰€æœ‰è€…ä¸å˜<br/>-gç”¨æˆ·ç»„ä¸å˜<br/>-D --devices --specials è®¾å¤‡ä¸ç‰¹æ®Šæ–‡ä»¶</td></tr><tr><td align="left"><code>-r</code></td><td align="left">é€’å½’åŒæ­¥å­ç›®å½•</td></tr><tr><td align="left"><code>-v</code></td><td align="left">æ˜¾ç¤ºè¿‡ç¨‹</td></tr><tr><td align="left"><code>-z</code></td><td align="left">ä¼ è¾“æ•°æ®æ—¶è¿›è¡Œå‹ç¼©ï¼ˆå…¬ç½‘ï¼‰</td></tr><tr><td align="left"><code>-h</code></td><td align="left">äººç±»å¯è¯»çš„æ ¼å¼è¾“å‡º</td></tr><tr><td align="left">--bwlimit</td><td align="left">=500kbï¼Œé™é€Ÿï¼Œæ³¨æ„ä¸è¦ä¸<code>-z</code>ä¸€èµ·ä½¿ç”¨</td></tr><tr><td align="left">--delete</td><td align="left">åˆ é™¤ç›®æ ‡ç«¯å¤šä½™æ–‡ä»¶ï¼ˆ<strong>ä¿æŒä¸¥æ ¼åŒæ­¥</strong>ï¼‰</td></tr><tr><td align="left">--exclude='*.log'</td><td align="left">æ’é™¤æ‰€æœ‰<code>.log</code>æ–‡ä»¶</td></tr><tr><td align="left">--progressï¼ˆ<code>-P</code>ï¼‰</td><td align="left">æ˜¾ç¤ºä¼ è¾“è¿›åº¦</td></tr><tr><td align="left">--password-file=xxx</td><td align="left">æŒ‡å®šå®¢æˆ·ç«¯å…å¯†ç™»é™†æ–‡ä»¶</td></tr></tbody></table>
<h3 data-id="heading-5">å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ï¼šç”Ÿäº§çº§éƒ¨ç½²æ–¹æ¡ˆ</h3>
<p>ç›¸æ¯”äº SSH éš§é“æ¨¡å¼ï¼ŒRsync Daemon æ¨¡å¼ï¼ˆé»˜è®¤ç«¯å£ 873ï¼‰æ›´é€‚åˆè‡ªåŠ¨åŒ–ã€å®šæ—¶çš„é›†ä¸­å¼å¤‡ä»½ä»»åŠ¡ï¼Œå› ä¸ºå®ƒæ”¯æŒç»†ç²’åº¦çš„é…ç½®æ–‡ä»¶æ§åˆ¶å’Œå…å¯†è®¤è¯</p>
<h4 data-id="heading-6">æ¶æ„æµç¨‹å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Client as å®¢æˆ·ç«¯ (Source)
    participant Daemon as æœåŠ¡ç«¯ (Rsync Daemon)
    participant Auth as è®¤è¯æ¨¡å—
    participant FS as æ–‡ä»¶ç³»ç»Ÿ

    Note over Client, Daemon: æ¡æ‰‹é˜¶æ®µ
    Client-&gt;&gt;Daemon: å‘èµ·è¿æ¥ (User@Host::Module)
    Daemon-&gt;&gt;Client: æŒ‘æˆ˜ (Challenge): è¯¢é—®å¯†ç 
    
    Note over Client: è¯»å– /etc/rsync.pass
    Client--&gt;&gt;Daemon: å‘é€å¯†ç  hash
    
    Note over Daemon: æ¯”å¯¹ /etc/rsyncd.secrets
    Daemon-&gt;&gt;Auth: éªŒè¯ User/Pass
    
    alt éªŒè¯é€šè¿‡
        Auth--&gt;&gt;Daemon: OK
        Note over Daemon: æƒé™é™çº§ (Drop Root)
        Daemon-&gt;&gt;FS: åˆ‡æ¢ UID/GID (rsync:rsync)
        FS--&gt;&gt;Daemon: è¯»å†™æ•°æ®
        Daemon--&gt;&gt;Client: ä¼ è¾“æ•°æ®æµ
    else éªŒè¯å¤±è´¥
        Auth--&gt;&gt;Daemon: Fail
        Daemon--&gt;&gt;Client: Connection Refused
    end
</code></pre>
<h4 data-id="heading-7">æœåŠ¡ç«¯æ ‡å‡†åŒ–é…ç½®</h4>
<ul>
<li>å®‰è£…<code>rsync</code></li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸‹è½½å®¢æˆ·ç«¯ï¼Œçº¢å¸½7åŒ…å«å®ˆæŠ¤è¿›ç¨‹</span>
yum install -y rsync

<span class="hljs-comment"># çº¢å¸½8+ æœåŠ¡ç«¯ç›´æ¥å®‰è£…å¦‚ä¸‹å‘½ä»¤ï¼ˆrsync+å®ˆæŠ¤è¿›ç¨‹ï¼‰</span>
yum install rsync-daemon -y
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥è½¯ä»¶åŒ…å†…å®¹</span>
rpm -ql rsync
rpm -ql rsync-daemon

<span class="hljs-comment"># é…ç½®æ–‡ä»¶ï¼ˆæœåŠ¡ç«¯é…ç½®æ–‡ä»¶ã€å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ï¼‰</span>
/etc/rsyncd.conf
/usr/bin/rsync
<span class="hljs-comment"># systemctlå¯¹åº”é…ç½®æ–‡ä»¶</span>
/usr/lib/systemd/system/rsyncd.service
</code></pre>
<p>ä»¥ä¸‹é…ç½®ä½“ç°äº†æƒé™åˆ†ç¦»ï¼ˆPrivilege Separationï¼‰å’Œå®‰å…¨åŸºçº¿è¦æ±‚ï¼šï¼ˆ<code>/etc/rsyncd.conf</code>ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># --- å…¨å±€é…ç½® (Global Settings) ---</span>
<span class="hljs-comment"># è™šæ‹Ÿç”¨æˆ·ï¼Œé™ä½å®‰å…¨é£é™©ï¼Œé¿å…ä½¿ç”¨ root è¿è¡Œ</span>
uid = rsync
gid = rsync

<span class="hljs-comment"># å®‰å…¨æœºåˆ¶ï¼šchroot ç›‘ç‹±ï¼Œé”å®šè¿›ç¨‹è®¿é—®èŒƒå›´</span>
use <span class="hljs-built_in">chroot</span> = <span class="hljs-built_in">yes</span>
<span class="hljs-comment"># å…è®¸é root ç”¨æˆ·ä¿å­˜æ–‡ä»¶åŸæœ‰å±æ€§ (å¦‚ owner/group)</span>
fake super = <span class="hljs-built_in">yes</span>

<span class="hljs-comment"># æ€§èƒ½ä¸è¿æ¥æ§åˆ¶</span>
max connections = 2000
<span class="hljs-built_in">timeout</span> = 600
lock file = /var/run/rsync.lock
pid file = /var/run/rsyncd.pid
<span class="hljs-built_in">log</span> file = /var/log/rsyncd.log

<span class="hljs-comment"># å®¹é”™é…ç½®</span>
<span class="hljs-comment"># åŒæ­¥æ—¶å¿½ç•¥éè‡´å‘½é”™è¯¯ï¼Œé¿å…ä¼ è¾“ä¸­æ–­</span>
ignore errors
<span class="hljs-built_in">read</span> only = <span class="hljs-literal">false</span>
<span class="hljs-comment"># å…³é—­rsyncæœåŠ¡ç«¯åˆ—è¡¨åŠŸèƒ½</span>
list = <span class="hljs-literal">false</span>

<span class="hljs-comment"># ç½‘ç»œè®¿é—®æ§åˆ¶ (ACL)</span>
<span class="hljs-comment"># åªå…è®¸å“ªäº›IP/ç½‘æ®µè®¿é—®ç™½åå•</span>
hosts allow = 10.0.0.0/24
<span class="hljs-comment"># æ‹’ç»å“ªäº›IP/ç½‘æ®µè®¿é—®ç™½åå•</span>
hosts deny = *

<span class="hljs-comment"># --- æ¨¡å—å®šä¹‰ (Module Definitions) ---</span>
[backup]
	path = /data/backup
	comment = Standard Backup Directory
	<span class="hljs-comment"># è®¤è¯é…ç½®</span>
	auth <span class="hljs-built_in">users</span> = rsync_bak_user
	secrets file = /etc/rsyncd.secrets
</code></pre>
<blockquote>
<p><strong>å…³é”®ç‚¹è§£æ</strong>ï¼š</p>
<ul>
<li><code>fake super = yes</code>ï¼šè¿™æ˜¯é root è¿è¡Œ Rsync ä½†ä»éœ€ä¿ç•™æ–‡ä»¶åŸæœ‰å±æ€§ï¼ˆå¦‚root:rootï¼‰çš„å…³é”®ã€‚å®ƒé€šè¿‡æ‰©å±•å±æ€§ï¼ˆxattrï¼‰æ¥è®°å½•åŸå§‹æƒé™ï¼Œéå¸¸é€‚åˆå¤‡ä»½ç³»ç»Ÿæ–‡ä»¶</li>
<li><code>secrets file</code>ï¼šæƒé™å¿…é¡»ä¸¥æ ¼è®¾ç½®ä¸º <code>600</code>ï¼Œå¦åˆ™ Rsync ä¸ºäº†å®‰å…¨ä¼šæ‹’ç»å¯åŠ¨</li>
</ul>
</blockquote>
<h4 data-id="heading-8">éƒ¨ç½²æ¸…å•</h4>
<p>åœ¨éƒ¨ç½²æ—¶ï¼ŒæœåŠ¡ç«¯è¯·éµå¾ªä»¥ä¸‹æ ‡å‡†åŒ–æ­¥éª¤ï¼š</p>
<ul>
<li>åˆ›å»ºè™šæ‹Ÿç”¨æˆ·<code>rsync</code></li>
</ul>
<pre><code class="hljs language-bash" lang="bash">useradd -s /sbin/nologin -M rsync
</code></pre>
<ul>
<li>æƒé™æ§åˆ¶</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºå¯†ç æ–‡ä»¶</span>
vim /etc/rsyncd.secrets
<span class="hljs-comment"># å†…å®¹å¦‚ä¸‹ï¼šrsync_bak_user:password123</span>

<span class="hljs-comment"># secrets file å¿…é¡»è®¾ç½®æƒé™ä¸º 600ï¼Œå¦åˆ™rsyncä¼šæ‹’ç»å¯åŠ¨</span>
<span class="hljs-built_in">chmod</span> 600 /etc/rsyncd.secrets 

<span class="hljs-comment"># ç¡®ä¿/data/backup ç›®å½•å±ä¸»ä¸º rsync</span>
<span class="hljs-built_in">chown</span> -R rsync:rsync /data/backup
</code></pre>
<ul>
<li>æœåŠ¡ç®¡ç†</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">systemctl start rsyncd
systemctl <span class="hljs-built_in">enable</span> rsyncd
</code></pre>
<h4 data-id="heading-9">å®¢æˆ·ç«¯æ“ä½œ</h4>
<p>å®¢æˆ·ç«¯æ— éœ€å¯åŠ¨æœåŠ¡ï¼Œä»…éœ€é…ç½®å¯†ç æ–‡ä»¶ï¼ˆæ³¨æ„ï¼šä»…éœ€å¯†ç ï¼Œä¸éœ€è¦ç”¨æˆ·åï¼‰ä»¥å®ç°å…å¯†ä¼ è¾“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">"password123"</span> &gt; /etc/rsync.pass
<span class="hljs-built_in">chmod</span> 600 /etc/rsync.pass
</code></pre>
<pre><code class="hljs language-bash" lang="bash">rsync -avz --password-file=/etc/rsync.pass /local/data/ rsync_bak_user@10.0.0.20::backup
</code></pre>
<h3 data-id="heading-10">æ•°æ®å®Œæ•´æ€§ä¸å¯é æ€§ä¿éšœ</h3>
<p>Rsync ä¼ è¾“å®Œæ¯•ä¸ä»£è¡¨ä¸‡äº‹å¤§å‰ã€‚åœ¨æ ¸å¿ƒæ•°æ®è¿ç§»ï¼ˆå¦‚æ•°æ®åº“å†·å¤‡ã€é‡‘èæ•°æ®ï¼‰åœºæ™¯ä¸‹ï¼Œå¿…é¡»å¼•å…¥åº”ç”¨å±‚æ ¡éªŒ</p>
<h4 data-id="heading-11">MD5 æ ¡éªŒé—­ç¯</h4>
<p><code>md5sum</code>ç”¨äºè®¡ç®—å’Œæ ¡éªŒæ–‡ä»¶æŠ¥æ–‡æ‘˜è¦çš„å·¥å…·ç¨‹åºï¼ˆLinuxè‡ªå¸¦ï¼‰ï¼ŒMD5ç®—æ³•å¸¸è¢«ç”¨æ¥éªŒè¯ç½‘è·¯æ–‡ä»¶ä¼ è¾“çš„å®Œæ•´æ€§</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">md5sum</span> (é€‰é¡¹) (å‚æ•°)
</code></pre>





























<table><thead><tr><th>é€‰é¡¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-b</code></td><td>äºŒè¿›åˆ¶æ¨¡å¼è¯»å–æ–‡ä»¶</td></tr><tr><td><code>-t</code>ã€<code>--text</code></td><td>æŠŠè¾“å…¥çš„æ–‡ä»¶ä½œä¸ºæ–‡æœ¬æ–‡ä»¶çœ‹å¾…</td></tr><tr><td><code>-c</code></td><td>ä»æŒ‡å®šæ–‡ä»¶ä¸­è¯»å–MD5æ ¡éªŒå’Œï¼Œå¹¶è¿›è¡Œæ ¡éªŒ</td></tr><tr><td><code>--status</code></td><td>éªŒè¯æˆåŠŸæ—¶ä¸è¾“å‡ºä»»ä½•ä¿¡æ¯</td></tr><tr><td><code>-w</code></td><td>å½“æ ¡éªŒä¸æ­£ç¡®æ—¶ç»™å‡ºè­¦å‘Šä¿¡æ¯</td></tr></tbody></table>
<p>åœ¨æ‰§è¡Œå…³é”®æ•°æ®è¿ç§»åï¼Œå»ºè®®å¢åŠ æ ¡éªŒæ­¥éª¤ï¼š</p>
<ul>
<li>æºç«¯ç”ŸæˆæŒ‡çº¹</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">md5sum</span> file.tar.gz &gt; file.md5
</code></pre>
<ul>
<li>
<p>åŒæ­¥æ•°æ®æ–‡ä»¶ä¸æŒ‡çº¹æ–‡ä»¶</p>
</li>
<li>
<p>ç›®æ ‡ç«¯æ ¡éªŒ</p>
</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">md5sum</span> -c file.md5

<span class="hljs-comment"># æ–‡ä»¶æ²¡æœ‰å˜åŒ–è¾“å‡º</span>
forsort: OK
<span class="hljs-comment"># æ–‡ä»¶å‘ç”Ÿå˜åŒ–è¾“å‡º</span>
forsort: FAILED
<span class="hljs-built_in">md5sum</span>: WARNING: 1 of 1 computed checksum did NOT match
</code></pre>
<p>å¦‚æœè¾“å‡º <code>OK</code>ï¼Œåˆ™è¯æ˜ä¼ è¾“é“¾è·¯å¯é ï¼›è‹¥å‡ºç° <code>FAILED</code>ï¼Œåˆ™å¿…é¡»å‘Šè­¦ä»‹å…¥</p>
<h4 data-id="heading-12">è‡ªåŠ¨åŒ–ä¸å®æ—¶åŒæ­¥</h4>
<p>å¯¹äºå®šæ—¶å¤‡ä»½ï¼Œç»“åˆ <code>crontab</code> å³å¯æ»¡è¶³å¤§éƒ¨åˆ†éœ€æ±‚ã€‚è‹¥ä¸šåŠ¡å¯¹ RPOï¼ˆæ¢å¤ç‚¹ç›®æ ‡ï¼‰è¦æ±‚æé«˜ï¼Œéœ€è¦æ¯«ç§’çº§åŒæ­¥ï¼Œåˆ™åº”å‡çº§æ¶æ„ï¼Œå¼•å…¥ <code>inotify</code> æˆ– <code>sersync</code>ã€‚è¿™äº›å·¥å…·èƒ½ç›‘å¬æ–‡ä»¶ç³»ç»Ÿäº‹ä»¶ï¼Œä¸€æ—¦æ–‡ä»¶å‘ç”Ÿå˜åŠ¨ç«‹å³è§¦å‘ Rsync æ¨é€ï¼Œä»è€Œè§£å†³å•ç‚¹å­˜å‚¨çš„é£é™©</p>
<blockquote>
<p><strong>ç»“è¯­</strong>ï¼šRsync ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œå®ƒæ˜¯æ„å»ºç¨³å¥è¿ç»´ä½“ç³»çš„åŸºç¡€ç»„ä»¶ã€‚ä»ç†è§£ <code>/</code> çš„ç»†å¾®å·®åˆ«ï¼Œåˆ°é…ç½® Daemon çš„æƒé™éš”ç¦»ï¼Œå†åˆ°å¼•å…¥ MD5 æ ¡éªŒé—­ç¯ï¼Œæ¯ä¸€ä¸ªç»†èŠ‚éƒ½ä½“ç°äº†å¯¹æ•°æ®å®‰å…¨çš„æ•¬ç•ã€‚æŒæ¡ Rsync çš„ç”Ÿäº§çº§ç”¨æ³•ï¼Œæ˜¯æ¯ä¸€ä½è¿ç»´å·¥ç¨‹å¸ˆçš„å¿…ä¿®è¯¾</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React ç§»åŠ¨ç«¯æ€§èƒ½ç‹è€…ç»„åˆï¼šæ‡’åŠ è½½ + æ— é™æ»šåŠ¨ï¼Œå®æˆ˜çº§æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7599708108621824051</link>    <guid>https://juejin.cn/post/7599708108621824051</guid>    <pubDate>2026-01-27T10:21:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599708108621824051" data-draft-id="7599924965949620262" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React ç§»åŠ¨ç«¯æ€§èƒ½ç‹è€…ç»„åˆï¼šæ‡’åŠ è½½ + æ— é™æ»šåŠ¨ï¼Œå®æˆ˜çº§æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="React.js,TypeScript,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2026-01-27T10:21:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ €ç§‹666"/> <meta itemprop="url" content="https://juejin.cn/user/2566698322650307"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React ç§»åŠ¨ç«¯æ€§èƒ½ç‹è€…ç»„åˆï¼šæ‡’åŠ è½½ + æ— é™æ»šåŠ¨ï¼Œå®æˆ˜çº§æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2566698322650307/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ €ç§‹666
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T10:21:55.000Z" title="Tue Jan 27 2026 10:21:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<blockquote>
<p><strong>é¦–å±å¡é¡¿ï¼Ÿæµé‡æµªè´¹ï¼Ÿå†…å­˜é£™å‡ï¼Ÿåˆ—è¡¨æ»šåŠ¨åƒå¹»ç¯ç‰‡ï¼Ÿ</strong><br/>
åˆ«å†è®©ä¸€æ¬¡æ€§åŠ è½½æ¯æ‰ä½ çš„ç”¨æˆ·ä½“éªŒäº†ï¼</p>
</blockquote>
<p>åœ¨ç§»åŠ¨ç«¯ä¿¡æ¯æµåœºæ™¯ä¸­ï¼ˆå¦‚æ–°é—»èµ„è®¯ã€ç¤¾äº¤åŠ¨æ€ã€ç”µå•†å•†å“é¡µï¼‰ï¼Œæ•°æ®é‡å¤§ã€å›¾ç‰‡å¯†é›†æ˜¯å¸¸æ€ã€‚ä½†è‹¥å¤„ç†ä¸å½“ï¼Œ<strong>é¦–å±åŠ è½½æ…¢ã€å†…å­˜å ç”¨é«˜ã€æ»šåŠ¨å¡é¡¿</strong>ç­‰é—®é¢˜ä¼šç›´æ¥åŠé€€ç”¨æˆ·ã€‚</p>
<p>è€ŒçœŸæ­£çš„é«˜æ€§èƒ½ä½“éªŒï¼Œä¸æ˜¯â€œå †ç¡¬ä»¶â€ï¼Œè€Œæ˜¯â€œç²¾è°ƒåº¦â€ã€‚æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥ React ç”Ÿæ€ä¸‹ä¸¤å¤§æ ¸å¿ƒä¼˜åŒ–æŠ€æœ¯â€”â€”<strong>å›¾ç‰‡æ‡’åŠ è½½ + æ— é™æ»šåŠ¨</strong>ï¼Œä»åŸç†åˆ°å®æˆ˜ï¼Œé€å±‚æ‹†è§£ï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ æ‰“é€ ä¸æ»‘æµç•…çš„ä¿¡æ¯æµé¡µé¢ã€‚</p>
<blockquote>
<p>ğŸ’¡ å…¨æ–‡åŸºäºçœŸå®é¡¹ç›®é‡æ„ç»éªŒï¼Œæ‰€æœ‰ä»£ç å¯ç›´æ¥å¤ç”¨ï¼ŒZustand + Intersection Observer + react-lazy-load æŠ€æœ¯æ ˆå…¨é“¾è·¯æ‰“é€šï¼ŒåŠ©ä½ è½»æ¾å†²ä¸Šæ€§èƒ½å·…å³°ï¼</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ğŸŒŸ ä¸ºä»€ä¹ˆä½ éœ€è¦å…³æ³¨è¿™ä¸¤ä¸ªæŠ€æœ¯ï¼Ÿ</h2>






























<table><thead><tr><th>é—®é¢˜</th><th>åæœ</th><th>æ‡’åŠ è½½ &amp; æ— é™æ»šåŠ¨çš„ä½œç”¨</th></tr></thead><tbody><tr><td>é¦–å±åŠ è½½ä¸Šç™¾å¼ å›¾</td><td>ç™½å±æ—¶é—´é•¿ã€CLS é«˜</td><td>å›¾ç‰‡æŒ‰éœ€åŠ è½½ï¼Œé¦–å±ç§’å¼€</td></tr><tr><td>ä¸€æ¬¡æ€§æ‹‰å–å‡ åƒæ¡æ•°æ®</td><td>å†…å­˜çˆ†ç‚¸ã€React æ¸²æŸ“å¡é¡¿</td><td>åˆ†é¡µåŠ è½½ï¼Œåªæ¸²æŸ“å¯è§†åŒºåŸŸé™„è¿‘å†…å®¹</td></tr><tr><td>ç”¨æˆ·æ»šåŠ¨åˆ°åº•æ‰å‘ç°åˆ†é¡µæŒ‰é’®</td><td>äº¤äº’å‰²è£‚ã€ä½“éªŒå·®</td><td>è‡ªåŠ¨è§¦å‘åŠ è½½ï¼Œæ²‰æµ¸å¼æµè§ˆ</td></tr><tr><td>æµè§ˆå™¨ä¸»çº¿ç¨‹è¢« <code>onscroll</code> å æ»¡</td><td>æ»šåŠ¨å¡é¡¿ã€å“åº”å»¶è¿Ÿ</td><td>ä½¿ç”¨åŸç”Ÿå¼‚æ­¥ APIï¼Œä¸é˜»å¡ä¸»çº¿ç¨‹</td></tr></tbody></table>
<p>ğŸ‘‰ <strong>ä¸€å¥è¯æ€»ç»“ï¼šæ‡’åŠ è½½ç®¡ã€Œèµ„æºã€ï¼Œæ— é™æ»šåŠ¨ç®¡ã€Œæ•°æ®ã€ï¼Œä¸¤è€…ç»“åˆæ‰æ˜¯ç§»åŠ¨ç«¯é«˜æ€§èƒ½ä¿¡æ¯æµçš„é»„é‡‘æ­æ¡£ã€‚</strong></p>
<hr/>
<h2 data-id="heading-2">ğŸ› ï¸ ä¸€ã€æŠ€æœ¯é€‰å‹ï¼šè½»é‡é«˜æ•ˆæ‰æ˜¯ç‹é“</h2>
<p>æˆ‘ä»¬åšæŒä¸‰ä¸ªåŸåˆ™ï¼š<strong>è½»é‡ã€é«˜æ•ˆã€å¯å¤ç”¨</strong>ã€‚å› æ­¤é€‰æ‹©äº†ä»¥ä¸‹æŠ€æœ¯ç»„åˆï¼š</p>





























<table><thead><tr><th>æŠ€æœ¯</th><th>é€‰æ‹©ç†ç”±</th></tr></thead><tbody><tr><td><strong>Zustand</strong></td><td>æ›¿ä»£ Redux/Contextï¼Œä½“ç§¯ä»… 1KBï¼Œæ—  Provider åµŒå¥—ï¼ŒçŠ¶æ€æ›´æ–°ç²¾å‡†ï¼Œé¿å…æ— æ•ˆé‡æ¸²æŸ“</td></tr><tr><td><strong>react-lazy-load</strong></td><td>å°è£…äº† Intersection Observer çš„å›¾ç‰‡æ‡’åŠ è½½ç»„ä»¶ï¼Œä½¿ç”¨ç®€å•ä¸”å…¼å®¹æ€§å¥½</td></tr><tr><td><strong>Intersection Observer API</strong></td><td>æµè§ˆå™¨åŸç”Ÿå‘½ä»¤ï¼Œè¿è¡Œåœ¨ä¸»çº¿ç¨‹ä¹‹å¤–ï¼Œç›‘å¬å…ƒç´ å¯è§æ€§æ— æ€§èƒ½æŸè€—</td></tr><tr><td><strong>è‡ªå®šä¹‰ InfiniteScroll ç»„ä»¶</strong></td><td>è§£è€¦ä¸šåŠ¡é€»è¾‘ï¼Œæ”¯æŒä»»æ„åˆ—è¡¨å¤ç”¨ï¼Œé˜²é‡å¤è¯·æ±‚ã€é˜²å†…å­˜æ³„æ¼</td></tr><tr><td><strong>Lucide React å›¾æ ‡åº“</strong></td><td>è½»é‡ã€å¯ Tree Shakingã€å›¾æ ‡ä¸°å¯Œï¼Œé€‚åˆç§»åŠ¨ç«¯</td></tr></tbody></table>
<blockquote>
<p>âœ… æ‰€æœ‰ä¾èµ–æ€»åŒ…ä½“ç§¯ &lt; 5KBï¼ŒçœŸæ­£å®ç°â€œå°èº«æå¤§èƒ½é‡â€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-3">ğŸ–¼ï¸ äºŒã€å›¾ç‰‡æ‡’åŠ è½½ï¼šè®©é¦–å±å¿«å¦‚é—ªç”µ</h2>
<h3 data-id="heading-4">âŒ ä¼ ç»Ÿæ–¹å¼çš„ä¸‰å¤§ç—›ç‚¹</h3>
<ol>
<li>æ‰€æœ‰ <code>&lt;img src="real-url"&gt;</code> ä¸€ä¸Šæ¥å°±å‘èµ·è¯·æ±‚ â†’ é¦–å±ç½‘ç»œæ‹¥å µ</li>
<li>å›¾ç‰‡åŠ è½½å‰åå®¹å™¨é«˜åº¦å˜åŒ– â†’ é¡µé¢å¸ƒå±€åç§»ï¼ˆCLS æŒ‡æ ‡çˆ†è¡¨ï¼‰</li>
<li>ç”¨æˆ·æ ¹æœ¬æ²¡çœ‹åˆ°çš„å›¾ç‰‡ä¹Ÿè¢«åŠ è½½ â†’ æµªè´¹æµé‡ &amp; ç”¨æˆ·è€å¿ƒ</li>
</ol>
<h3 data-id="heading-5">âœ… æ­£ç¡®å§¿åŠ¿ï¼šæŒ‰éœ€åŠ è½½ + å ä½æ§åˆ¶ + æå‰é¢„åˆ¤</h3>
<h4 data-id="heading-6">æ ¸å¿ƒå®ç°ï¼š<code>react-lazy-load</code> + <code>loading="lazy"</code> åŒä¿é™©</h4>
<pre><code class="hljs language-tsx" lang="tsx">&lt;<span class="hljs-title class_">LazyLoad</span> className=<span class="hljs-string">"w-full h-full"</span> offset={<span class="hljs-number">100</span>}&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> 
    <span class="hljs-attr">loading</span>=<span class="hljs-string">"lazy"</span> // <span class="hljs-attr">åŸç”Ÿé™çº§æ–¹æ¡ˆ</span>
    <span class="hljs-attr">src</span>=<span class="hljs-string">{post.thumbnail}</span>
    <span class="hljs-attr">className</span>=<span class="hljs-string">"w-full h-full object-cover"</span>
  /&gt;</span></span>
&lt;/<span class="hljs-title class_">LazyLoad</span>&gt;
</code></pre>
<h4 data-id="heading-7">å…³é”®ç‚¹è§£æï¼š</h4>

























<table><thead><tr><th>ç‰¹æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>offset={100}</code></td><td>æå‰ 100px å¼€å§‹åŠ è½½ï¼Œç”¨æˆ·æ»‘åˆ°æ—¶å›¾å·²æ˜¾ç¤ºï¼Œå®ç°â€œæ— æ„ŸçŸ¥åŠ è½½â€</td></tr><tr><td><code>loading="lazy"</code></td><td>æµè§ˆå™¨åŸç”Ÿæ‡’åŠ è½½å±æ€§ï¼Œä½œä¸ºä¸æ”¯æŒ Intersection Observer æ—¶çš„å…œåº•æ–¹æ¡ˆ</td></tr><tr><td><code>object-cover</code> + å›ºå®šå°ºå¯¸</td><td>å®¹å™¨ <code>w-24 h-24</code> ä¸éšå›¾ç‰‡åŠ è½½æ”¹å˜ï¼Œé˜²æ­¢å¸ƒå±€åç§»</td></tr><tr><td>æ¡ä»¶æ¸²æŸ“ <code>{post.thumbnail &amp;&amp; ...}</code></td><td>ç©ºå€¼ä¸ç”Ÿæˆ DOMï¼Œå‡å°‘æ¸²æŸ“è´Ÿæ‹…</td></tr></tbody></table>
<h3 data-id="heading-8">ğŸš€ è¿›é˜¶ä¼˜åŒ–æŠ€å·§ï¼ˆæå‡ä½“éªŒç»†èŠ‚ï¼‰</h3>





















<table><thead><tr><th>æŠ€å·§</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><strong>LQIPï¼ˆä½è´¨é‡å ä½å›¾ï¼‰</strong></td><td>å…ˆå±•ç¤ºæ¨¡ç³Šå°å›¾ï¼Œè®©ç”¨æˆ·æ„ŸçŸ¥å†…å®¹æ­£åœ¨åŠ è½½</td></tr><tr><td><strong>WebP/AVIF å›¾ç‰‡æ ¼å¼</strong></td><td>åŒç­‰ç”»è´¨ä¸‹ä½“ç§¯å‡å°‘ 50%ï¼ŒCDN å¯è‡ªåŠ¨è½¬æ¢</td></tr><tr><td><strong>å–æ¶ˆç›‘å¬æœºåˆ¶</strong></td><td>å›¾ç‰‡åŠ è½½å®Œæˆåè‡ªåŠ¨å¸è½½ observerï¼Œé‡Šæ”¾èµ„æº</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šæ‰‹åŠ¨å®ç°æ—¶åŠ¡å¿…åœ¨ <code>onload</code> ä¸­è°ƒç”¨ <code>observer.unobserve()</code>ï¼Œå¦åˆ™ä¼šé€ æˆå†…å­˜æ³„æ¼ï¼</p>
</blockquote>
<hr/>
<h2 data-id="heading-9">ğŸ” ä¸‰ã€æ— é™æ»šåŠ¨ï¼šæ‰“é€ æ²‰æµ¸å¼å†…å®¹æ¶ˆè´¹ä½“éªŒ</h2>
<h3 data-id="heading-10">ğŸ¤” ä¸ºä»€ä¹ˆè¦ç”¨æ— é™æ»šåŠ¨ï¼Ÿ</h3>
<p>ç›¸æ¯”ä¼ ç»Ÿâ€œç‚¹å‡»åŠ è½½æ›´å¤šâ€æˆ–â€œç¿»é¡µâ€ï¼š</p>
<ul>
<li>âœ… å‡å°‘æ“ä½œæ­¥éª¤ï¼Œæå‡æµè§ˆæ•ˆç‡</li>
<li>âœ… æ›´ç¬¦åˆç§»åŠ¨ç«¯â€œä¸€ç›´å¾€ä¸‹åˆ·â€çš„ç›´è§‰</li>
<li>âœ… æ•°æ®åŠ è½½æ›´å¹³æ»‘ï¼Œä½“éªŒæ›´æ²‰æµ¸</li>
</ul>
<p>ä½†å¦‚æœä¸åŠ ä»¥æ§åˆ¶ï¼Œå¾ˆå®¹æ˜“å¼•å‘ï¼š</p>
<ul>
<li>âŒ è¯·æ±‚é£æš´ï¼ˆåå¤è§¦å‘åŠ è½½ï¼‰</li>
<li>âŒ å†…å­˜æ³„æ¼ï¼ˆObserver æœªæ¸…ç†ï¼‰</li>
<li>âŒ åˆ—è¡¨é‡å¤æ¸²æŸ“</li>
</ul>
<h3 data-id="heading-11">âœ… æ­£ç¡®å®ç°æ€è·¯ï¼šå“¨å…µå…ƒç´  + çŠ¶æ€é” + èµ„æºå›æ”¶</h3>
<h4 data-id="heading-12">å®ç°æ ¸å¿ƒï¼š<code>InfiniteScroll</code> é€šç”¨ç»„ä»¶å°è£…</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { useRef, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">InfiniteScrollProps</span> {
  <span class="hljs-attr">hasMore</span>: <span class="hljs-built_in">boolean</span>;
  isLoading?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">onLoadMore</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
  <span class="hljs-attr">children</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">InfiniteScroll</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">InfiniteScrollProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{
  hasMore,
  isLoading = <span class="hljs-literal">false</span>,
  onLoadMore,
  children,
}</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> sentinelRef = useRef&lt;<span class="hljs-title class_">HTMLDivElement</span>&gt;(<span class="hljs-literal">null</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (!hasMore || isLoading) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">const</span> observer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserver</span>(
      <span class="hljs-function">(<span class="hljs-params">entries</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (entries[<span class="hljs-number">0</span>].<span class="hljs-property">isIntersecting</span>) {
          <span class="hljs-title function_">onLoadMore</span>();
        }
      },
      { <span class="hljs-attr">threshold</span>: <span class="hljs-number">0</span> }
    );

    <span class="hljs-keyword">if</span> (sentinelRef.<span class="hljs-property">current</span>) {
      observer.<span class="hljs-title function_">observe</span>(sentinelRef.<span class="hljs-property">current</span>);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (sentinelRef.<span class="hljs-property">current</span>) {
        observer.<span class="hljs-title function_">unobserve</span>(sentinelRef.<span class="hljs-property">current</span>);
      }
      observer.<span class="hljs-title function_">disconnect</span>(); <span class="hljs-comment">// å¿…é¡»æ–­å¼€è¿æ¥ï¼</span>
    };
  }, [onLoadMore, hasMore, isLoading]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      {children}
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{sentinelRef}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"h-4"</span> /&gt;</span> {/* å“¨å…µ */}
      {isLoading &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-center py-4"</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}
      {!hasMore &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-center py-4"</span>&gt;</span>æ²¡æœ‰æ›´å¤šäº†<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">InfiniteScroll</span>;
</code></pre>
<h4 data-id="heading-13">ğŸ” æ ¸å¿ƒè®¾è®¡äº®ç‚¹</h4>

























<table><thead><tr><th>è®¾è®¡</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>sentinelRef</code> å“¨å…µå…ƒç´ </td><td>è§¦å‘åŠ è½½çš„â€œå¼€å…³â€ï¼Œä¸å¯è§ä½†èƒ½è¢«ç›‘å¬</td></tr><tr><td><code>threshold: 0</code></td><td>å…ƒç´ åˆšè¿›å…¥è§†å£å³è§¦å‘ï¼Œå“åº”åŠæ—¶</td></tr><tr><td><code>hasMoreä¸isLoading</code> åˆ¤æ–­</td><td>é˜²æ­¢é‡å¤è¯·æ±‚å’Œæ— æ•ˆåŠ è½½</td></tr><tr><td><code>useEffect</code> è¿”å›æ¸…ç†å‡½æ•°</td><td>é˜²æ­¢å†…å­˜æ³„æ¼ï¼Œç»„ä»¶é”€æ¯åé‡Šæ”¾èµ„æº</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-14">ğŸ§  å››ã€çŠ¶æ€ç®¡ç†ï¼šç”¨ Zustand å®ç°ç²¾å‡†æ§åˆ¶</h2>
<p>ä¸ºäº†ç»Ÿä¸€ç®¡ç†åˆ†é¡µçŠ¶æ€ï¼Œæˆ‘ä»¬ä½¿ç”¨ Zustand åˆ›å»ºå…¨å±€çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// store/useHomeStore.ts</span>
<span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand'</span>;
<span class="hljs-keyword">import</span> { fetchPosts } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/api/posts'</span>;

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">HomeState</span> {
  <span class="hljs-attr">posts</span>: <span class="hljs-title class_">Post</span>[];
  <span class="hljs-attr">page</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">loading</span>: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">hasMore</span>: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">loadMore</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt;;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useHomeStore = create&lt;<span class="hljs-title class_">HomeState</span>&gt;(<span class="hljs-function">(<span class="hljs-params">set, get</span>) =&gt;</span> ({
  <span class="hljs-attr">posts</span>: [],
  <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">hasMore</span>: <span class="hljs-literal">true</span>,

  <span class="hljs-attr">loadMore</span>: <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">get</span>().<span class="hljs-property">loading</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// åŠ è½½é”ï¼Œé˜²é‡å¤è¯·æ±‚</span>

    <span class="hljs-title function_">set</span>({ <span class="hljs-attr">loading</span>: <span class="hljs-literal">true</span> });

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> { items } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchPosts</span>(<span class="hljs-title function_">get</span>().<span class="hljs-property">page</span>);

      <span class="hljs-keyword">if</span> (items.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
        <span class="hljs-title function_">set</span>({ <span class="hljs-attr">hasMore</span>: <span class="hljs-literal">false</span> });
        <span class="hljs-keyword">return</span>;
      }

      <span class="hljs-title function_">set</span>({
        <span class="hljs-attr">posts</span>: [...<span class="hljs-title function_">get</span>().<span class="hljs-property">posts</span>, ...items],
        <span class="hljs-attr">page</span>: <span class="hljs-title function_">get</span>().<span class="hljs-property">page</span> + <span class="hljs-number">1</span>,
        <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,
      });
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'åŠ è½½å¤±è´¥'</span>, err);
      <span class="hljs-title function_">set</span>({ <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span> }); <span class="hljs-comment">// å¤±è´¥ä¹Ÿè¦é‡Šæ”¾é”</span>
    }
  },
}));
</code></pre>
<blockquote>
<p>âœ… <strong>åŠ è½½é”æœºåˆ¶</strong> æ˜¯é˜²æ­¢è¯·æ±‚é£æš´çš„å…³é”®ï¼ä»»ä½•æƒ…å†µä¸‹éƒ½è¦ç¡®ä¿ <code>loading</code> æœ€ç»ˆä¼šè¢«é‡ç½®ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-15">ğŸ§© äº”ã€é¡µé¢æ•´åˆï¼šHome ç»„ä»¶å®Œæ•´ç¤ºä¾‹</h2>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> { banners, posts, hasMore, loading, loadMore } = <span class="hljs-title function_">useHomeStore</span>();

  <span class="hljs-comment">// é¦–æ¬¡åŠ è½½ç¬¬ä¸€é¡µ</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">loadMore</span>();
  }, []);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"é¦–é¡µ"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"p-4 space-y-4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">SlideShow</span> <span class="hljs-attr">slides</span>=<span class="hljs-string">{banners}</span> /&gt;</span>
        
        {/* æ–‡ç« åˆ—è¡¨ */}
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"container mx-auto py-8"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-2xl font-bold mb-6"</span>&gt;</span>æ–‡ç« åˆ—è¡¨<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>

          <span class="hljs-tag">&lt;<span class="hljs-name">InfiniteScroll</span>
            <span class="hljs-attr">hasMore</span>=<span class="hljs-string">{hasMore}</span>
            <span class="hljs-attr">isLoading</span>=<span class="hljs-string">{loading}</span>
            <span class="hljs-attr">onLoadMore</span>=<span class="hljs-string">{loadMore}</span>
          &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
              {posts.map((post) =&gt; (
                <span class="hljs-tag">&lt;<span class="hljs-name">PostItem</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{post.id}</span> <span class="hljs-attr">post</span>=<span class="hljs-string">{post}</span> /&gt;</span>
              ))}
            <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">InfiniteScroll</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
}
</code></pre>
<p>ğŸ“Œ <strong>å…³é”®æ•´åˆé€»è¾‘ï¼š</strong></p>
<ul>
<li><code>useEffect</code> åˆå§‹åŒ–åŠ è½½ç¬¬ä¸€é¡µ</li>
<li><code>key={post.id}</code> ä¿è¯ React åˆ—è¡¨ diff é«˜æ•ˆ</li>
<li><code>InfiniteScroll</code> æ¥æ”¶çŠ¶æ€ï¼Œè‡ªåŠ¨æ§åˆ¶åŠ è½½æç¤ºå’Œç»“æŸæ ‡è¯†</li>
</ul>
<h3 data-id="heading-16">å®ç°æ•ˆæœï¼š</h3>
<p>1.å½“æ»‘åŠ¨åˆ°æ–‡ç« åˆ—è¡¨æœ€ä¸‹ç«¯æ—¶ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18bc7031a66f4f709521c2e8f72a0d58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qCA56eLNjY2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770114115&amp;x-signature=Iy3ijvsm%2Bw7gtci7RIXYYRUSNc4%3D" alt="image.png" loading="lazy"/>
2.å½“ç»§ç»­å¾€ä¸‹æ»‘æ—¶ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cf6ee41b3bc4d84ba4d1f34a0687df4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qCA56eLNjY2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770114115&amp;x-signature=8W7BJX4TdKfMZXwVqUhKvA73rtE%3D" alt="image.png" loading="lazy"/>
é¡µé¢ä¼šè‡ªåŠ¨åˆ·æ–°ï¼Œæ­¤æ—¶æ–‡ç« åˆ—è¡¨åŠ é•¿
å½“ä¸€ç›´å¾€ä¸‹æ»‘ï¼Œæ»‘å€’æ–‡ç« å…¨éƒ¨æ˜¾ç°æ—¶ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f59c072e2024b549dd616c407ad4bfd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qCA56eLNjY2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770114115&amp;x-signature=juuu19jIbc4VO3qghTI875pyQ%2BA%3D" alt="image.png" loading="lazy"/>
æ­¤æ—¶å·²ç»åˆ°åº•éƒ¨ï¼Œæ˜¾ç¤ºæ²¡æœ‰æ›´å¤šäº†</p>
<hr/>
<h2 data-id="heading-17">âš ï¸ å…­ã€å¸¸è§å‘ç‚¹ &amp; è§£å†³æ–¹æ¡ˆï¼ˆé¿é›·å¿…çœ‹ï¼‰</h2>



































<table><thead><tr><th>é—®é¢˜</th><th>åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>é‡å¤è¯·æ±‚ / è¯·æ±‚é£æš´</strong></td><td>æœªåˆ¤æ–­ <code>loading</code> æˆ– <code>threshold</code> è®¾ç½®ä¸åˆç†</td><td>æ·»åŠ åŠ è½½é”ï¼Œåˆç†è®¾ç½®é˜ˆå€¼ï¼ˆå»ºè®® <code>0</code> æˆ– <code>1</code>ï¼‰</td></tr><tr><td><strong>å†…å­˜æ³„æ¼</strong></td><td>ç»„ä»¶å¸è½½åä»ç›‘å¬å“¨å…µå…ƒç´ </td><td>åœ¨ <code>useEffect</code> è¿”å›ä¸­è°ƒç”¨ <code>unobserve</code> å’Œ <code>disconnect</code></td></tr><tr><td><strong>å¸ƒå±€åç§»ï¼ˆCLS é«˜ï¼‰</strong></td><td>å›¾ç‰‡å®¹å™¨æ— å›ºå®šå°ºå¯¸</td><td>è®¾ç½®å®½é«˜ + <code>object-cover</code> + å ä½å›¾</td></tr><tr><td><strong>æ‡’åŠ è½½å¤±æ•ˆ</strong></td><td>ç›´æ¥å†™äº† <code>src</code> æˆ–æœªåŒ…è£¹ç»„ä»¶</td><td>ç¡®ä¿ç”±æ‡’åŠ è½½ç»„ä»¶æ§åˆ¶ <code>src</code> åŠ è½½æ—¶æœº</td></tr><tr><td><strong>ç§»åŠ¨ç«¯å…¼å®¹æ€§å·®</strong></td><td>æ—§æµè§ˆå™¨ä¸æ”¯æŒ Intersection Observer</td><td>ä½¿ç”¨ <code>loading="lazy"</code> é™çº§ + polyfillï¼ˆå¯é€‰ï¼‰</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-18">ğŸ† ä¸ƒã€æ€§èƒ½ä¼˜åŒ–æ€»ç»“ï¼šå…­å¤§æ ¸å¿ƒè¦ç‚¹</h2>

































<table><thead><tr><th>ä¼˜åŒ–æ–¹å‘</th><th>å…·ä½“æªæ–½</th></tr></thead><tbody><tr><td><strong>èµ„æºè°ƒåº¦</strong></td><td>å›¾ç‰‡æ‡’åŠ è½½ + æ•°æ®åˆ†é¡µåŠ è½½</td></tr><tr><td><strong>ç›‘å¬æ€§èƒ½</strong></td><td>ä½¿ç”¨ Intersection Observer æ›¿ä»£ <code>onscroll</code></td></tr><tr><td><strong>å†…å­˜å®‰å…¨</strong></td><td>ç»„ä»¶å¸è½½æ—¶æ¸…ç† Observer</td></tr><tr><td><strong>ç”¨æˆ·ä½“éªŒ</strong></td><td>æå‰åŠ è½½ï¼ˆoffsetï¼‰ã€å ä½å›¾ã€æ— é—ªçƒè¿‡æ¸¡</td></tr><tr><td><strong>çŠ¶æ€ç²¾å‡†</strong></td><td>Zustand ç®¡ç† loadingã€pageã€hasMore</td></tr><tr><td><strong>å¯ç»´æŠ¤æ€§</strong></td><td>å°è£…é€šç”¨ç»„ä»¶ï¼Œä¸šåŠ¡å±‚åªå…³å¿ƒæ•°æ®å’Œ UI</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-19">âœ… å…«ã€ç»“è¯­ï¼šè¿™æ‰æ˜¯ç°ä»£ React ç§»åŠ¨ç«¯è¯¥æœ‰çš„æ ·å­</h2>
<p>é€šè¿‡æœ¬æ–‡çš„å®è·µï¼Œä½ åº”è¯¥å·²ç»æŒæ¡ï¼š</p>
<p>âœ… å¦‚ä½•ç”¨ <code>react-lazy-load</code> å®ç°é«˜æ€§èƒ½å›¾ç‰‡æ‡’åŠ è½½<br/>
âœ… å¦‚ä½•å°è£…ä¸€ä¸ªé˜²é‡å¤ã€é˜²æ³„æ¼çš„ <code>InfiniteScroll</code> ç»„ä»¶<br/>
âœ… å¦‚ä½•ç”¨ Zustand å®ç°ä¼˜é›…çš„çŠ¶æ€ç®¡ç†<br/>
âœ… å¦‚ä½•è§„é¿ç§»åŠ¨ç«¯å¸¸è§çš„æ€§èƒ½é™·é˜±</p>
<p>è¿™äº›æ–¹æ¡ˆå·²åœ¨å¤šä¸ªç”Ÿäº§é¡¹ç›®ä¸­éªŒè¯ï¼Œæ— è®ºæ˜¯èµ„è®¯ç±» Appã€ç¤¾äº¤ Feed æµè¿˜æ˜¯ç”µå•†å•†å“é¡µï¼Œå‡å¯ç›´æ¥å¤ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-20">ğŸ“£ æœ€åå‘¼åï¼šåˆ«å†å†™â€œä¸€æ¬¡æ€§åŠ è½½â€çš„ä»£ç äº†ï¼</h2>
<p>å¦‚æœä½ è¿˜åœ¨è¿™æ ·åšï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">fetchAllData</span>(); <span class="hljs-comment">// æ‹‰å–å‡ åƒæ¡</span>
}, []);
</code></pre>
<p>é‚£ä½ çœŸçš„è¯¥åœä¸‹æ¥æ€è€ƒä¸€ä¸‹ï¼š<strong>ä½ åœ¨ä¸ºè°ç‰ºç‰²æ€§èƒ½ï¼Ÿ</strong></p>
<p>ä»ä»Šå¤©èµ·ï¼Œæ‹¥æŠ±â€œæŒ‰éœ€åŠ è½½â€çš„ç†å¿µï¼Œç”¨æ‡’åŠ è½½ + æ— é™æ»šåŠ¨ï¼Œç»™ç”¨æˆ·ä¸€ä¸ªæ›´å¿«ã€æ›´ç¨³ã€æ›´çœæµé‡çš„ç§»åŠ¨ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[cross-env@10.1.0æºç é˜…è¯»]]></title>    <link>https://juejin.cn/post/7599843186202591274</link>    <guid>https://juejin.cn/post/7599843186202591274</guid>    <pubDate>2026-01-27T10:26:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599843186202591274" data-draft-id="7598737609493708819" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" cross-env@10.1.0æºç é˜…è¯»"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-27T10:26:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç±³ä¸˜"/> <meta itemprop="url" content="https://juejin.cn/user/1611227736052074"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             cross-env@10.1.0æºç é˜…è¯»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1611227736052074/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç±³ä¸˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T10:26:17.000Z" title="Tue Jan 27 2026 10:26:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><em>å‘å¸ƒæ—¥æœŸï¼š 2025 å¹´ 9 æœˆ 30 æ—¥</em></p>
<p><code>cross-env</code> æ˜¯ä¸€ä¸ª Node.js å·¥å…·ï¼Œç”¨äºè§£å†³ä¸åŒæ“ä½œç³»ç»Ÿé—´ç¯å¢ƒå˜é‡è®¾ç½®æ–¹å¼ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œæ”¯æŒ Windowsã€Linux å’Œ macOSå¹³å°ã€‚</p>
<h2 data-id="heading-0">package.json</h2>
<p><code>cross-env-10.1.0/package.json</code></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cross-env"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0.0.0-semantically-released"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Run scripts that set and use environment variables across platforms"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"module"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"main"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/index.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"types"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/index.d.ts"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"bin"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"cross-env"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/bin/cross-env.js"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"cross-env-shell"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/bin/cross-env-shell.js"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"engines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&gt;=20"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"zshy"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"zshy --watch"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eslint ."</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lint:fix"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eslint . --fix"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"format"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"prettier --write ."</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"format:check"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"prettier --check ."</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"typecheck"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsc --noEmit"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"test"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vitest"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"test:ui"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vitest --ui"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"test:run"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vitest run"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"test:coverage"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vitest run --coverage"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"test:e2e"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node e2e/test-cross-env.js &amp;&amp; node e2e/test-cross-env-shell.js &amp;&amp; node e2e/test-default-values.js"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"validate"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npm run build &amp;&amp; npm run typecheck &amp;&amp; npm run lint &amp;&amp; npm run format:check &amp;&amp; npm run test:run"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"files"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"dist"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"keywords"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"cross-environment"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"environment variable"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"windows"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-string">"cross-platform"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Kent C. Dodds &lt;me@kentcdodds.com&gt; (https://kentcdodds.com)"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"license"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MIT"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"@epic-web/invariant"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^1.0.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"cross-spawn"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^7.0.6"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"devDependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"@epic-web/config"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^1.21.1"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@types/cross-spawn"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^6.0.6"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@types/node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^24.1.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@vitest/coverage-v8"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^3.2.4"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"@vitest/ui"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^3.2.4"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"eslint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^9.32.0"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"prettier"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^3.6.2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"typescript"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^5.8.3"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"vitest"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^3.2.4"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"zshy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.3.0"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"repository"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"git"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://github.com/kentcdodds/cross-env.git"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"bugs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://github.com/kentcdodds/cross-env/issues"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"homepage"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://github.com/kentcdodds/cross-env#readme"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"zshy"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"cjs"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"exports"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"."</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./src/index.ts"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"./bin/cross-env"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./src/bin/cross-env.ts"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"./bin/cross-env-shell"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./src/bin/cross-env-shell.ts"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"prettier"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"@epic-web/config/prettier"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/index.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"exports"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"."</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"types"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/index.d.ts"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"import"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/index.js"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"./bin/cross-env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"types"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/bin/cross-env.d.ts"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"import"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/bin/cross-env.js"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"./bin/cross-env-shell"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"types"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/bin/cross-env-shell.d.ts"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"import"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"./dist/bin/cross-env-shell.js"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>

</code></pre>
<h2 data-id="heading-1">cross-env</h2>
<p><code>cross-env-10.1.0/src/bin/cross-env.ts</code></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-meta">#!/usr/bin/env node</span>

<span class="hljs-keyword">import</span> { crossEnv } <span class="hljs-keyword">from</span> <span class="hljs-string">'../index.js'</span>

<span class="hljs-comment">// process.argv.slice(2) ç”¨äºè·å–å‘½ä»¤è¡Œå‚æ•°ï¼ˆæ’é™¤æ‰ node å’Œè„šæœ¬è·¯å¾„æœ¬èº«ï¼‰</span>
<span class="hljs-title function_">crossEnv</span>(process.<span class="hljs-property">argv</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>))

</code></pre>
<h2 data-id="heading-2">cross-env-shell</h2>
<p><code>cross-env-10.1.0/src/bin/cross-env-shell.ts</code></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-meta">#!/usr/bin/env node</span>

<span class="hljs-keyword">import</span> { crossEnv } <span class="hljs-keyword">from</span> <span class="hljs-string">'../index.js'</span>

<span class="hljs-title function_">crossEnv</span>(process.<span class="hljs-property">argv</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>), { <span class="hljs-attr">shell</span>: <span class="hljs-literal">true</span> })

</code></pre>
<h2 data-id="heading-3">crossEnv</h2>
<p><code>cross-env-10.1.0/src/index.ts</code></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { spawn } <span class="hljs-keyword">from</span> <span class="hljs-string">'cross-spawn'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">crossEnv</span>(<span class="hljs-params">
  args: <span class="hljs-built_in">string</span>[],
  options: CrossEnvOptions = {},
</span>): <span class="hljs-title class_">ProcessResult</span> | <span class="hljs-literal">null</span> {

  <span class="hljs-comment">// 1ã€è§£æå‘½ä»¤è¡Œå‚æ•°</span>
  <span class="hljs-comment">// envSettersï¼šéœ€è¦è®¾ç½®çš„ç¯å¢ƒå˜é‡é”®å€¼å¯¹ï¼ˆå¦‚ { NODE_ENV: 'production' }ï¼‰</span>
  <span class="hljs-comment">// commandï¼šè¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆå¦‚ node æˆ– webpackï¼‰</span>
  <span class="hljs-comment">// commandArgsï¼šå‘½ä»¤çš„å‚æ•°ï¼ˆå¦‚ ['server.js']ï¼‰</span>
  <span class="hljs-keyword">const</span> [envSetters, command, commandArgs] = <span class="hljs-title function_">parseCommand</span>(args)

  <span class="hljs-comment">// 2ã€æ„å»ºç¯å¢ƒå˜é‡å¯¹è±¡</span>
  <span class="hljs-comment">// åŸºäºå½“å‰è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ï¼ˆprocess.envï¼‰</span>
  <span class="hljs-comment">// åˆå¹¶ envSetters ä¸­çš„è‡ªå®šä¹‰ç¯å¢ƒå˜é‡ï¼ˆä¼šç»è¿‡æ ¼å¼å¤„ç†ï¼‰</span>
  <span class="hljs-comment">// ä¿è¯è·¨å¹³å°å…¼å®¹æ€§ï¼ˆå¦‚ä¿ç•™ Windows çš„ APPDATA å˜é‡ï¼‰</span>
  <span class="hljs-keyword">const</span> env = <span class="hljs-title function_">getEnvVars</span>(envSetters)

  <span class="hljs-comment">// 3ã€æ‰§è¡Œå‘½ä»¤ï¼ˆå½“å‘½ä»¤å­˜åœ¨æ—¶ï¼‰</span>
  <span class="hljs-keyword">if</span> (command) {
    <span class="hljs-comment">// é…ç½®å­è¿›ç¨‹å¯åŠ¨é€‰é¡¹</span>
    <span class="hljs-keyword">const</span> <span class="hljs-attr">spawnOptions</span>: <span class="hljs-title class_">SpawnOptions</span> = {
      <span class="hljs-attr">stdio</span>: <span class="hljs-string">'inherit'</span>,   <span class="hljs-comment">// å­è¿›ç¨‹å…±äº«çˆ¶è¿›ç¨‹çš„è¾“å…¥è¾“å‡ºæµï¼ˆæ§åˆ¶å°ï¼‰</span>
      <span class="hljs-attr">shell</span>: options.<span class="hljs-property">shell</span>,  <span class="hljs-comment">// æ˜¯å¦é€šè¿‡ shell æ‰§è¡Œå‘½ä»¤ï¼ˆå¯é€‰ï¼‰</span>
      env,  <span class="hljs-comment">// ä½¿ç”¨ä¸Šé¢æ„å»ºçš„ç¯å¢ƒå˜é‡å¯¹è±¡</span>
    }

    <span class="hljs-comment">// å¯åŠ¨å­è¿›ç¨‹æ‰§è¡Œå‘½ä»¤</span>
    <span class="hljs-comment">// ä½¿ç”¨ cross-spawn çš„ spawn å‡½æ•°ï¼ˆè·¨å¹³å°ç‰ˆæœ¬çš„ child_process.spawnï¼‰å¯åŠ¨å­è¿›ç¨‹</span>
    <span class="hljs-keyword">const</span> proc = <span class="hljs-title function_">spawn</span>(
      <span class="hljs-comment">// run `path.normalize` for command(on windows)</span>
      <span class="hljs-comment">// å¤„ç†å‘½ä»¤åç§°ï¼ˆå¦‚ Windows è·¯å¾„è§„èŒƒåŒ–ï¼‰</span>
      <span class="hljs-title function_">commandConvert</span>(command, env, <span class="hljs-literal">true</span>),
      <span class="hljs-comment">// by default normalize is `false`, so not run for cmd args</span>
       <span class="hljs-comment">// å¤„ç†å‘½ä»¤å‚æ•°</span>
      commandArgs.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">arg</span>) =&gt;</span> <span class="hljs-title function_">commandConvert</span>(arg, env)),
      spawnOptions,
    )

    <span class="hljs-comment">// 4ã€ä¿¡å·å¤„ç†ï¼ˆè¿›ç¨‹é—´é€šä¿¡ï¼‰</span>
    <span class="hljs-comment">// å½“çˆ¶è¿›ç¨‹æ”¶åˆ°ç»ˆæ­¢ä¿¡å·æ—¶ï¼Œå°†ä¿¡å·ä¼ é€’ç»™å­è¿›ç¨‹</span>
    <span class="hljs-comment">// ç¡®ä¿çˆ¶è¿›ç¨‹æ”¶åˆ°ç»ˆæ­¢ä¿¡å·ï¼ˆå¦‚ç”¨æˆ·æŒ‰ Ctrl+Cï¼‰æ—¶ï¼Œå­è¿›ç¨‹èƒ½åŒæ­¥ç»ˆæ­¢ï¼Œé¿å…åƒµå°¸è¿›ç¨‹</span>
    process.<span class="hljs-title function_">on</span>(<span class="hljs-string">'SIGTERM'</span>, <span class="hljs-function">() =&gt;</span> proc.<span class="hljs-title function_">kill</span>(<span class="hljs-string">'SIGTERM'</span>))
    process.<span class="hljs-title function_">on</span>(<span class="hljs-string">'SIGINT'</span>, <span class="hljs-function">() =&gt;</span> proc.<span class="hljs-title function_">kill</span>(<span class="hljs-string">'SIGINT'</span>))
    process.<span class="hljs-title function_">on</span>(<span class="hljs-string">'SIGBREAK'</span>, <span class="hljs-function">() =&gt;</span> proc.<span class="hljs-title function_">kill</span>(<span class="hljs-string">'SIGBREAK'</span>))
    process.<span class="hljs-title function_">on</span>(<span class="hljs-string">'SIGHUP'</span>, <span class="hljs-function">() =&gt;</span> proc.<span class="hljs-title function_">kill</span>(<span class="hljs-string">'SIGHUP'</span>))

    <span class="hljs-comment">// 5ã€å¤„ç†å­è¿›ç¨‹é€€å‡º</span>
    proc.<span class="hljs-title function_">on</span>(<span class="hljs-string">'exit'</span>, <span class="hljs-function">(<span class="hljs-params">code: <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>, signal?: <span class="hljs-built_in">string</span></span>) =&gt;</span> {
      <span class="hljs-keyword">let</span> crossEnvExitCode = code
      <span class="hljs-comment">// å¦‚æœé€€å‡ºç ä¸º nullï¼ˆé€šå¸¸æ˜¯è¢«ä¿¡å·ç»ˆæ­¢ï¼‰ï¼Œè®¾ç½®é»˜è®¤é€€å‡ºç </span>
      <span class="hljs-comment">// å¤„ç†ä¿¡å·ç»ˆæ­¢çš„æƒ…å†µï¼ˆå¦‚ SIGINT é€šå¸¸æ˜¯ç”¨æˆ·ä¸»åŠ¨ä¸­æ–­ï¼Œè¿”å› 0 è¡¨ç¤ºæ­£å¸¸é€€å‡ºï¼‰</span>
      <span class="hljs-keyword">if</span> (crossEnvExitCode === <span class="hljs-literal">null</span>) {
        crossEnvExitCode = signal === <span class="hljs-string">'SIGINT'</span> ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>
      }
      <span class="hljs-comment">// çˆ¶è¿›ç¨‹ä½¿ç”¨å­è¿›ç¨‹çš„é€€å‡ºç é€€å‡º</span>
      process.<span class="hljs-title function_">exit</span>(crossEnvExitCode)
    })

    <span class="hljs-keyword">return</span> proc
  }

  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
}
</code></pre>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"test"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"test-crossenv"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cross-env NODE_ENV=test node test-crossenv.js"</span>
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
</code></pre>
<p>æ‰§è¡Œ <code>npm run test-crossenv</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bac6b5b7d9044796b6f237482f645e01~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57Gz5LiY:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770114378&amp;x-signature=1p0pXYbyMhg20iKs15GstPIoHOA%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">parseCommand</h3>
<p><code>cross-env-10.1.0/src/index.ts</code></p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">function</span> <span class="hljs-title function_">parseCommand</span>(<span class="hljs-params">
  args: <span class="hljs-built_in">string</span>[],
</span>): [<span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;, <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span>, <span class="hljs-built_in">string</span>[]] {

  <span class="hljs-comment">// å­˜å‚¨ç¯å¢ƒå˜é‡</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">envSetters</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt; = {}
  <span class="hljs-comment">// å­˜å‚¨å‘½ä»¤åç§°</span>
  <span class="hljs-keyword">let</span> <span class="hljs-attr">command</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>
  <span class="hljs-comment">// å­˜å‚¨å‘½ä»¤å‚æ•°</span>
  <span class="hljs-keyword">let</span> <span class="hljs-attr">commandArgs</span>: <span class="hljs-built_in">string</span>[] = []

  <span class="hljs-comment">// éå†å¤„ç†å‚æ•°</span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; args.<span class="hljs-property">length</span>; i++) {
    <span class="hljs-keyword">const</span> arg = args[i]
    <span class="hljs-keyword">if</span> (!arg) <span class="hljs-keyword">continue</span> <span class="hljs-comment">// è·³è¿‡ç©ºå‚æ•°</span>
    <span class="hljs-keyword">const</span> match = envSetterRegex.<span class="hljs-title function_">exec</span>(arg)

    <span class="hljs-comment">// è§£æç¯å¢ƒå˜é‡</span>
    <span class="hljs-keyword">if</span> (match &amp;&amp; match[<span class="hljs-number">1</span>]) {
      <span class="hljs-keyword">let</span> <span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> match[<span class="hljs-number">3</span>] !== <span class="hljs-string">'undefined'</span>) {
        value = match[<span class="hljs-number">3</span>]
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> match[<span class="hljs-number">4</span>] === <span class="hljs-string">'undefined'</span>) {
        value = match[<span class="hljs-number">5</span>] || <span class="hljs-string">''</span>
      } <span class="hljs-keyword">else</span> {
        value = match[<span class="hljs-number">4</span>]
      }

      envSetters[match[<span class="hljs-number">1</span>]] = value

      <span class="hljs-comment">// è§£æå‘½ä»¤å’Œå‘½ä»¤å‚æ•°</span>
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// No more env setters, the rest of the line must be the command and args</span>
      <span class="hljs-keyword">const</span> cStart = args
        .<span class="hljs-title function_">slice</span>(i)
        .<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">a</span>) =&gt;</span> {
          <span class="hljs-keyword">const</span> re = <span class="hljs-regexp">/\\\\|(\\)?'|([\\])(?=[$"\\])/g</span>
          <span class="hljs-comment">// Eliminate all matches except for "\'" =&gt; "'"</span>
          <span class="hljs-keyword">return</span> a.<span class="hljs-title function_">replace</span>(re, <span class="hljs-function">(<span class="hljs-params">m</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (m === <span class="hljs-string">'\\\\'</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">'\\'</span>
            <span class="hljs-keyword">if</span> (m === <span class="hljs-string">"\\'"</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">"'"</span>
            <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>
          })
        })
      <span class="hljs-keyword">const</span> parsedCommand = cStart[<span class="hljs-number">0</span>]
      <span class="hljs-title function_">invariant</span>(parsedCommand, <span class="hljs-string">'Command is required'</span>) <span class="hljs-comment">// ç¡®ä¿å‘½ä»¤å­˜åœ¨</span>
      command = parsedCommand
      commandArgs = cStart.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>) <span class="hljs-comment">// è¿‡æ»¤ç©ºå‚æ•°</span>
      <span class="hljs-comment">// é€€å‡ºå¾ªç¯ï¼Œåç»­å‚æ•°å·²å¤„ç†</span>
      <span class="hljs-keyword">break</span>
    }
  }

  <span class="hljs-keyword">return</span> [envSetters, command, commandArgs]
}
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> envSetterRegex = <span class="hljs-regexp">/(\w+)=('(.*)'|"(.*)"|(.*))/</span>
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> re = <span class="hljs-regexp">/\\\\|(\\)?'|([\\])(?=[$"\\])/g</span>
</code></pre>
<h3 data-id="heading-5">getEnvVars</h3>
<p><code>cross-env-10.1.0/src/index.ts</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getEnvVars</span>(<span class="hljs-params">
  envSetters: Record&lt;string, string&gt;
</span>): <span class="hljs-title class_">NodeJS</span>.<span class="hljs-property">ProcessEnv</span> {
  
  <span class="hljs-comment">// åˆå§‹åŒ–ç¯å¢ƒå˜é‡å¯¹è±¡</span>
  <span class="hljs-keyword">const</span> envVars = { ...process.<span class="hljs-property">env</span> }

  <span class="hljs-comment">// ç‰¹æ®Šå¤„ç† Windows ç³»ç»Ÿçš„ APPDATA å˜é‡</span>
  <span class="hljs-comment">// APPDATA æ˜¯ Windows ç³»ç»Ÿä¸­å­˜å‚¨åº”ç”¨ç¨‹åºæ•°æ®çš„ç›®å½•è·¯å¾„ç¯å¢ƒå˜é‡</span>
  <span class="hljs-comment">// é€šå¸¸è·¯å¾„ä¸º C:\Users\&lt;ç”¨æˆ·å&gt;\AppData\Roamingï¼‰</span>
  <span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">APPDATA</span>) {
    envVars.<span class="hljs-property">APPDATA</span> = process.<span class="hljs-property">env</span>.<span class="hljs-property">APPDATA</span>
  }

  <span class="hljs-comment">// åˆå¹¶å¹¶å¤„ç†è‡ªå®šä¹‰ç¯å¢ƒå˜é‡</span>
  <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(envSetters).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">varName</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> value = envSetters[varName]
    <span class="hljs-keyword">if</span> (value !== <span class="hljs-literal">undefined</span>) {
      envVars[varName] = <span class="hljs-title function_">varValueConvert</span>(value, varName)
    }
  })
  <span class="hljs-keyword">return</span> envVars
}
</code></pre>
<h4 data-id="heading-6">varValueConvert</h4>
<p><code>cross-env-10.1.0/src/variable.ts</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">varValueConvert</span>(<span class="hljs-params">
	originalValue: string,
	originalName: string,
</span>): string {
	<span class="hljs-keyword">return</span> <span class="hljs-title function_">resolveEnvVars</span>(<span class="hljs-title function_">replaceListDelimiters</span>(originalValue, originalName))
}
</code></pre>
<h4 data-id="heading-7">replaceListDelimiters</h4>
<p><code>cross-env-10.1.0/src/variable.ts</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceListDelimiters</span>(<span class="hljs-params">varValue: string, varName = <span class="hljs-string">''</span></span>): string {

  <span class="hljs-comment">// 1ã€ç¡®å®šç›®æ ‡åˆ†éš”ç¬¦</span>
  <span class="hljs-comment">// Windows ç³»ç»Ÿçš„è·¯å¾„åˆ—è¡¨åˆ†éš”ç¬¦æ˜¯ ;ï¼ˆä¾‹å¦‚ PATH=C:\a;C:\bï¼‰</span>
  <span class="hljs-comment">// ç±» Unix ç³»ç»Ÿï¼ˆLinuxã€macOS ç­‰ï¼‰çš„è·¯å¾„åˆ—è¡¨åˆ†éš”ç¬¦æ˜¯ :ï¼ˆä¾‹å¦‚ PATH=/usr/bin:/binï¼‰</span>
  <span class="hljs-keyword">const</span> targetSeparator = <span class="hljs-title function_">isWindows</span>() ? <span class="hljs-string">';'</span> : <span class="hljs-string">':'</span>

  <span class="hljs-comment">// pathLikeEnvVarWhitelist æ˜¯ä¸€ä¸ªç™½åå•é›†åˆï¼ˆåŒ…å« PATHã€NODE_PATH ç¯å¢ƒå˜é‡åï¼‰</span>
  <span class="hljs-keyword">if</span> (!pathLikeEnvVarWhitelist.<span class="hljs-title function_">has</span>(varName)) {
    <span class="hljs-keyword">return</span> varValue
  }

  <span class="hljs-comment">// åŒ¹é…ä¸€ä¸ªæˆ–å¤šä¸ªåæ–œæ ï¼ˆ\\*ï¼‰åé¢ç´§è·Ÿä¸€ä¸ªå†’å·ï¼ˆ:ï¼‰</span>
  <span class="hljs-comment">// (\\*): æ•è·ç»„ï¼ŒåŒ¹é…0ä¸ªæˆ–å¤šä¸ªåæ–œæ </span>
  <span class="hljs-comment">// åœ¨JavaScriptå­—ç¬¦ä¸²ä¸­éœ€è¦ç”¨ä¸¤ä¸ªåæ–œæ è¡¨ç¤ºä¸€ä¸ªå®é™…çš„åæ–œæ </span>
  <span class="hljs-keyword">return</span> varValue.<span class="hljs-title function_">replace</span>(
    <span class="hljs-regexp">/(\\*):/g</span>, 
    <span class="hljs-comment">// æ›¿æ¢å›è°ƒ</span>
    <span class="hljs-comment">// match: å®Œæ•´çš„åŒ¹é…ç»“æœï¼ˆåæ–œæ åºåˆ—åŠ å†’å·ï¼‰</span>
    <span class="hljs-comment">// backslashes: æ•è·ç»„ä¸­åŒ¹é…çš„åæ–œæ éƒ¨åˆ†</span>
    <span class="hljs-function">(<span class="hljs-params">match, backslashes</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (backslashes.<span class="hljs-property">length</span> % <span class="hljs-number">2</span>) {
        <span class="hljs-comment">// åæ–œæ æ•°é‡ä¸ºå¥‡æ•°ï¼šè¡¨ç¤ºåˆ†éš”ç¬¦è¢«è½¬ä¹‰ï¼Œç§»é™¤ä¸€ä¸ªåæ–œæ </span>
        <span class="hljs-keyword">return</span> match.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>)
      }
      <span class="hljs-comment">// åæ–œæ æ•°é‡ä¸ºå¶æ•°ï¼šè¡¨ç¤ºæ˜¯æ™®é€šåˆ†éš”ç¬¦ï¼Œæ›¿æ¢ä¸ºç›®æ ‡åˆ†éš”ç¬¦</span>
      <span class="hljs-keyword">return</span> backslashes + targetSeparator
    })
}
</code></pre>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> pathLikeEnvVarWhitelist = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-string">'PATH'</span>, <span class="hljs-string">'NODE_PATH'</span>])
</code></pre>
<h4 data-id="heading-8">resolveEnvVars</h4>
<p><code>cross-env-10.1.0/src/variable.ts</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">resolveEnvVars</span>(<span class="hljs-params">varValue: string</span>): string {

  <span class="hljs-keyword">const</span> envUnixRegex = <span class="hljs-regexp">/(\\*)(\$(\w+)|\${(\w+)})/g</span>

  <span class="hljs-keyword">return</span> varValue.<span class="hljs-title function_">replace</span>(
    envUnixRegex,
    <span class="hljs-comment">// æ›¿æ¢å›è°ƒå‡½æ•°</span>
    <span class="hljs-comment">// escapeCharsï¼šç¯å¢ƒå˜é‡å¼•ç”¨å‰çš„æ‰€æœ‰åæ–œæ ï¼ˆæ•è·ç»„ 1ï¼‰</span>
    <span class="hljs-comment">// varNameWithDollarSignï¼šå®Œæ•´çš„ç¯å¢ƒå˜é‡å¼•ç”¨ï¼ˆå¦‚ $VAR æˆ– ${VAR}ï¼‰</span>
    <span class="hljs-comment">// varNameï¼š$VAR æ ¼å¼ä¸­çš„å˜é‡åï¼ˆæ•è·ç»„ 3ï¼‰</span>
    <span class="hljs-comment">// altVarNameï¼š${VAR} æ ¼å¼ä¸­çš„å˜é‡åï¼ˆæ•è·ç»„ 4ï¼‰</span>
    <span class="hljs-function">(<span class="hljs-params">_, escapeChars, varNameWithDollarSign, varName, altVarName</span>) =&gt;</span> {
      <span class="hljs-comment">// å¥‡æ•°ä¸ªåæ–œæ </span>
      <span class="hljs-comment">// å½“åæ–œæ æ•°é‡ä¸ºå¥‡æ•°æ—¶ï¼Œè¡¨ç¤ºè¿™ä¸ªç¯å¢ƒå˜é‡å¼•ç”¨è¢«è½¬ä¹‰äº†ï¼Œåº”è¯¥ä¿ç•™åŸå§‹æ ¼å¼ï¼ˆä¸æ›¿æ¢ä¸ºå®é™…å€¼ï¼‰</span>
      <span class="hljs-keyword">if</span> (escapeChars.<span class="hljs-property">length</span> % <span class="hljs-number">2</span> === <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">return</span> varNameWithDollarSign
      }
      <span class="hljs-comment">// å¶æ•°ä¸ªåæ–œæ </span>
      <span class="hljs-comment">// åæ–œæ æ•°é‡ä¸ºå¶æ•°æ—¶ï¼Œè¡¨ç¤ºæ˜¯æ­£å¸¸çš„ç¯å¢ƒå˜é‡å¼•ç”¨</span>
      <span class="hljs-comment">// ä¿ç•™ä¸€åŠçš„åæ–œæ ï¼ˆå› ä¸ºå¶æ•°ä¸ªåæ–œæ æ˜¯æˆå¯¹çš„è½¬ä¹‰ï¼‰</span>
      <span class="hljs-comment">// æ‹¼æ¥ä¸Šç¯å¢ƒå˜é‡çš„å®é™…å€¼ï¼ˆä» process.env è·å–ï¼Œä¸å­˜åœ¨åˆ™ç”¨ç©ºå­—ç¬¦ä¸²ï¼‰</span>
      <span class="hljs-keyword">return</span> (
        escapeChars.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>, escapeChars.<span class="hljs-property">length</span> / <span class="hljs-number">2</span>) +
        (process.<span class="hljs-property">env</span>[varName || altVarName] || <span class="hljs-string">''</span>)
      )
    },
  )
}
</code></pre>
<h3 data-id="heading-9">commandConvert</h3>
<p><code>cross-env-10.1.0/src/command.ts</code></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">commandConvert</span>(<span class="hljs-params">
  command: string,
  env: NodeJS.ProcessEnv,
  normalize = <span class="hljs-literal">false</span>,
</span>): string {
  <span class="hljs-comment">// 1ã€é Windows ç³»ç»Ÿç›´æ¥è¿”å›</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isWindows</span>()) {
    <span class="hljs-keyword">return</span> command
  }

  <span class="hljs-comment">// 2ã€å®šä¹‰æ­£åˆ™</span>
  <span class="hljs-comment">// åŒ¹é…ç®€å•å˜é‡å¼•ç”¨: $var æˆ– ${var}</span>
  <span class="hljs-keyword">const</span> simpleEnvRegex = <span class="hljs-regexp">/\$(\w+)|\${(\w+)}/g</span>
  <span class="hljs-comment">// åŒ¹é…å¸¦é»˜è®¤å€¼çš„ Bash å‚æ•°æ‰©å±•: ${var:-default}</span>
  <span class="hljs-keyword">const</span> defaultValueRegex = <span class="hljs-regexp">/\$\{(\w+):-([^}]+)\}/g</span>

  <span class="hljs-keyword">let</span> convertedCmd = command

  <span class="hljs-comment">// First, handle bash parameter expansion with default values</span>
  <span class="hljs-comment">// 3ã€å¤„ç†å¸¦é»˜è®¤å€¼çš„å˜é‡å¼•ç”¨</span>
  convertedCmd = convertedCmd.<span class="hljs-title function_">replace</span>(
    defaultValueRegex,
    <span class="hljs-comment">// æ›¿æ¢å›è°ƒå‡½æ•°</span>
    <span class="hljs-comment">// matchï¼šæ•´ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²ï¼ˆå¦‚ ${PORT:-3000}ï¼‰</span>
    <span class="hljs-comment">// varNameï¼šæ­£åˆ™æ•è·ç»„ 1 çš„å€¼ï¼Œå³ç¯å¢ƒå˜é‡åï¼ˆå¦‚ PORTï¼‰</span>
    <span class="hljs-comment">// defaultValueï¼šæ­£åˆ™æ•è·ç»„ 2 çš„å€¼ï¼Œå³é»˜è®¤å€¼ï¼ˆå¦‚ 3000ï¼‰</span>
    <span class="hljs-function">(<span class="hljs-params">match, varName, defaultValue</span>) =&gt;</span> {
      <span class="hljs-comment">// ä¼˜å…ˆç”¨ç¯å¢ƒå˜é‡å€¼ï¼Œå¦åˆ™ç”¨é»˜è®¤å€¼</span>
      <span class="hljs-keyword">const</span> value = env[varName] || defaultValue
      <span class="hljs-keyword">return</span> value
    },
  )

  <span class="hljs-comment">// 4ã€å¤„ç†ç®€å•å˜é‡å¼•ç”¨</span>
  convertedCmd = convertedCmd.<span class="hljs-title function_">replace</span>(
    simpleEnvRegex, 
    <span class="hljs-comment">// æ›¿æ¢å›è°ƒå‡½æ•°</span>
    <span class="hljs-comment">// matchï¼šæ•´ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²ï¼ˆå¦‚ $PATH æˆ– ${HOME}ï¼‰</span>
    <span class="hljs-comment">// $1ï¼šæ­£åˆ™ç¬¬ä¸€ä¸ªæ•è·ç»„çš„å€¼ï¼Œå¯¹åº” $VAR æ ¼å¼ä¸­çš„å˜é‡åï¼ˆå¦‚ PATHï¼‰</span>
    <span class="hljs-comment">// $2ï¼šæ­£åˆ™ç¬¬äºŒä¸ªæ•è·ç»„çš„å€¼ï¼Œå¯¹åº” ${VAR} æ ¼å¼ä¸­çš„å˜é‡åï¼ˆå¦‚ HOMEï¼‰</span>
    <span class="hljs-function">(<span class="hljs-params">match, $1, $2</span>) =&gt;</span> {
      <span class="hljs-comment">// ä»æ•è·ç»„è·å–å˜é‡åï¼ˆ$1 å¯¹åº” $VARï¼Œ$2 å¯¹åº” ${VAR}ï¼‰</span>
      <span class="hljs-keyword">const</span> varName = $1 || $2
      <span class="hljs-comment">// å¦‚æœç¯å¢ƒå˜é‡å­˜åœ¨ï¼Œè¿”å› Windows é£æ ¼çš„ %VAR%ï¼Œå¦åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²</span>
      <span class="hljs-keyword">return</span> env[varName] ? <span class="hljs-string">`%<span class="hljs-subst">${varName}</span>%`</span> : <span class="hljs-string">''</span>
    })

  <span class="hljs-comment">// 5ã€è·¯å¾„è§„èŒƒåŒ–ï¼ˆå¯é€‰ï¼‰</span>
  <span class="hljs-keyword">return</span> normalize === <span class="hljs-literal">true</span> ? path.<span class="hljs-title function_">normalize</span>(convertedCmd) : convertedCmd
}
</code></pre>
<h4 data-id="heading-10">isWindows</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isWindows</span>(<span class="hljs-params"/>): boolean {
  <span class="hljs-keyword">return</span> (
    <span class="hljs-comment">// æ¡ä»¶1ï¼šæ£€æµ‹åŸç”Ÿ Windows ç³»ç»Ÿ</span>
    process.<span class="hljs-property">platform</span> === <span class="hljs-string">'win32'</span> ||
    <span class="hljs-comment">// æ¡ä»¶2ï¼šæ£€æµ‹ Windows å…¼å®¹ç¯å¢ƒï¼ˆmsys/cygwinï¼‰</span>
    <span class="hljs-regexp">/^(msys|cygwin)$/</span>.<span class="hljs-title function_">test</span>(process.<span class="hljs-property">env</span>.<span class="hljs-property">OSTYPE</span> || <span class="hljs-string">''</span>)
  )
}
</code></pre>
<p><code>process.platform</code>ï¼šæ˜¯ Node.js å†…ç½®çš„è¿›ç¨‹å±æ€§ï¼Œç”¨äºè¿”å›å½“å‰æ“ä½œç³»ç»Ÿçš„å¹³å°æ ‡è¯†ï¼Œä¸åŒç³»ç»Ÿå¯¹åº”å›ºå®šå€¼ï¼š</p>
<ol>
<li>Windows ç³»ç»Ÿï¼ˆåŒ…æ‹¬ Windows 10/11ã€Windows Server ç­‰ï¼‰è¿”å› <code>'win32'</code>ï¼ˆæ³¨æ„ï¼šå³ä½¿æ˜¯ 64 ä½ Windowsï¼Œä¹Ÿè¿”å› <code>'win32'</code>ï¼Œè¿™æ˜¯å†å²å…¼å®¹è®¾è®¡ï¼‰ï¼›</li>
<li>macOS ç³»ç»Ÿè¿”å› <code>'darwin'</code>ï¼›</li>
<li>Linux ç³»ç»Ÿè¿”å› <code>'linux'</code>ï¼›</li>
</ol>
<p><code>process.env.OSTYPE</code>ï¼šæ˜¯ç¯å¢ƒå˜é‡ä¸­å­˜å‚¨çš„ â€œæ“ä½œç³»ç»Ÿç±»å‹â€ æ ‡è¯†ï¼Œå¸¸è§äº Unix-like ç¯å¢ƒæˆ– Windows å…¼å®¹å±‚ï¼ˆå¦‚ msysã€cygwinï¼‰ï¼š</p>
<ol>
<li><code>msys</code>/<code>cygwin</code>ï¼šæ˜¯ Windows ç³»ç»Ÿä¸Šçš„ä¸¤æ¬¾ç±» Unix å…¼å®¹å±‚å·¥å…·ï¼ˆå¯æ¨¡æ‹Ÿ Linux/macOS çš„å‘½ä»¤è¡Œç¯å¢ƒï¼Œå¦‚ Git Bash åŸºäº msysï¼‰ï¼Œå®ƒä»¬ä¼šå°† <code>OSTYPE</code> è®¾ä¸º <code>'msys'</code> æˆ– <code>'cygwin'</code>ï¼›</li>
<li>åŸç”Ÿ Linux/macOS ä¸­ï¼Œ<code>OSTYPE</code> é€šå¸¸ä¸º <code>'linux-gnu'</code> æˆ– <code>'darwin'</code>ï¼Œä¸ä¼šåŒ¹é…æ­¤æ­£åˆ™ã€‚</li>
</ol>
<h2 data-id="heading-11">cross-env é€‚ç”¨åœºæ™¯</h2>
<ol>
<li>ç®€å•å‘½ä»¤æ‰§è¡Œï¼Œä¸éœ€è¦ shell ç‰¹æ€§ã€‚</li>
<li>éœ€è¦é«˜æ€§èƒ½æ‰§è¡Œçš„åœºæ™¯ï¼ˆä¸ç»è¿‡ shell å¯ä»¥ç•¥å¾®æé«˜æ€§èƒ½ï¼‰ã€‚</li>
<li>å®‰å…¨æ•æ„Ÿåœºæ™¯ï¼ˆé¿å… shell æ³¨å…¥é£é™©ï¼‰ã€‚</li>
</ol>
<h2 data-id="heading-12">cross-env-shell é€‚ç”¨åœºæ™¯</h2>
<ol>
<li>éœ€è¦ä½¿ç”¨ shell ç‰¹æ€§ï¼ˆå¦‚ç®¡é“ |ã€é‡å®šå‘ &gt;ã€å‘½ä»¤ç»„åˆ &amp;&amp; ç­‰ï¼‰ã€‚</li>
<li>éœ€è¦æ‰§è¡Œå¤æ‚çš„ shell è„šæœ¬ã€‚</li>
<li>éœ€è¦å˜é‡æ›¿æ¢ã€é€šé…ç¬¦ç­‰ shell åŠŸèƒ½ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[1 åˆ†é’Ÿ CSS å°æŠ€å·§è®©ä½ çš„ UI çœ‹èµ·æ¥è´µ 10 å€]]></title>    <link>https://juejin.cn/post/7599634796584108038</link>    <guid>https://juejin.cn/post/7599634796584108038</guid>    <pubDate>2026-01-27T10:28:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599634796584108038" data-draft-id="7599591405313327145" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="1 åˆ†é’Ÿ CSS å°æŠ€å·§è®©ä½ çš„ UI çœ‹èµ·æ¥è´µ 10 å€"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,CSS"/> <meta itemprop="datePublished" content="2026-01-27T10:28:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†´ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/712139234359182"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            1 åˆ†é’Ÿ CSS å°æŠ€å·§è®©ä½ çš„ UI çœ‹èµ·æ¥è´µ 10 å€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139234359182/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†´ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T10:28:00.000Z" title="Tue Jan 27 2026 10:28:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸ºä»€ä¹ˆåŒæ ·æ˜¯æŒ‰é’®ï¼Œæœ‰çš„çœ‹èµ·æ¥é«˜æ¡£å¤§æ°”ï¼Œæœ‰çš„å´æ˜¾å¾—å»‰ä»·åŠ£è´¨ï¼Ÿ</p>
<p>ç§˜è¯€å°±åœ¨äº<strong>å±‚æ¬¡æ„Ÿ</strong>ã€‚</p>
<p>å°±åƒ 3D ç”µå½±æ¯” 2D ç”µå½±æ›´æœ‰æ²‰æµ¸æ„Ÿä¸€æ ·ï¼Œæœ‰æ·±åº¦çš„ç•Œé¢æ¯”æ‰å¹³çš„ç•Œé¢æ›´èƒ½æŠ“ä½ç”¨æˆ·çš„æ³¨æ„åŠ›ã€‚</p>
<p>æ‰å¹³çš„åŒ–ç•Œé¢å°±åƒä¸€å¼ å¹³é“ºçš„çº¸ï¼Œè€Œæœ‰å±‚æ¬¡çš„ç•Œé¢å°±åƒç«‹ä½“çš„é›•å¡‘ï¼Œè‡ªç„¶æ˜¾å¾—æ›´é«˜çº§ã€‚</p>
<h2 data-id="heading-0">æ ¸å¿ƒç§˜è¯€</h2>
<p>è‹¹æœçš„äº§å“ä¸ºä»€ä¹ˆçœ‹èµ·æ¥é‚£ä¹ˆé«˜çº§ï¼Ÿ</p>
<p>å…¶å®åŸç†å¾ˆç®€å•â€”â€”å°±åƒåŒ–å¦†ä¸€æ ·ï¼Œ<strong>å±‚æ¬¡æ„Ÿæ¥è‡ªå¤šé‡å åŠ </strong>ã€‚</p>
<p>å›å¿†ä¸€ä¸‹å¥³æœ‹å‹åŒ–å¦†çš„æ­¥éª¤ï¼š</p>
<ol>
<li><strong>ç¬¬ä¸€å±‚</strong>ï¼šæµ…è‰²æ‰“åº•ï¼ˆæäº®ï¼‰</li>
<li><strong>ç¬¬äºŒå±‚</strong>ï¼šæ·±è‰²é˜´å½±ï¼ˆç«‹ä½“æ„Ÿï¼‰</li>
</ol>
<p>ç•Œé¢è®¾è®¡ä¹Ÿæ˜¯åŒç†ï¼š</p>
<ul>
<li><strong>ç¬¬ä¸€å±‚é˜´å½±</strong>ï¼šè®©å…ƒç´ â€œæµ®èµ·æ¥â€</li>
<li><strong>ç¬¬äºŒå±‚é˜´å½±</strong>ï¼šè®©å…ƒç´ â€œç«™å¾—ä½â€</li>
</ul>
<p>å°±è¿™ä¹ˆç®€å•ï¼ä½†æ•ˆæœå´èƒ½è®©ä½ æƒŠå¹ã€‚</p>
<p>ç°åœ¨è®©æˆ‘ä»¬çœ‹äº›å®é™…çš„ä¾‹å­ã€‚</p>
<h2 data-id="heading-1">åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-2">1. é¼ æ ‡æ‚¬åœ</h3>
<p>CSS ä»£ç å¾ˆç®€å•ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.card</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--shade);
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.5</span>), <span class="hljs-comment">/* top glow */</span> <span class="hljs-number">0</span> <span class="hljs-number">4px</span> <span class="hljs-number">6px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.12</span>); <span class="hljs-comment">/* bottom drop */</span>
}
</code></pre>
<p>é¼ æ ‡æ‚¬åœæ—¶ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.card</span><span class="hljs-selector-pseudo">:hover</span> {
  <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.5</span>), <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-number">20px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.16</span>);
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(-<span class="hljs-number">2px</span>);
}
</code></pre>
<p>ä½¿ç”¨æ•ˆæœå¦‚ä¸‹ï¼š</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/71f0dc7c7d084fcfab3bee5670fc5b98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770114499&amp;x-signature=3UWkVkWP1EHy%2BSVW0iF%2Fuiwo5xw%3D" alt="" loading="lazy"/></p>
<p>è¿™ç§è½»å¾®çš„æ‚¬åœæå‡æ•ˆæœèƒ½è®©ç”¨æˆ·ç•Œé¢æ„Ÿè§‰å“åº”è¿…é€Ÿä¸”é«˜ç«¯ï¼Œè€Œæ— éœ€ä½¿ç”¨åŠ¨ç”»åº“ã€‚</p>
<h3 data-id="heading-3">æ¿€æ´»æ ‡ç­¾</h3>
<p>å½“å‰æ¿€æ´»çš„æ ‡ç­¾é¡µçœ‹èµ·æ¥åº”è¯¥æ¯”å…¶ä»–æ ‡ç­¾é¡µä½ç½®æ›´é«˜ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.tab</span><span class="hljs-selector-class">.active</span> {
  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--shade);
  <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.4</span>), <span class="hljs-number">0</span> <span class="hljs-number">3px</span> <span class="hljs-number">6px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.12</span>);
}
</code></pre>
<p>ä½¿ç”¨æ•ˆæœå¦‚ä¸‹ï¼š</p>

<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/596a81f6e1c3400eac1ee0c7d2633ac1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770114499&amp;x-signature=M8f2vgyZ7ULW6JpsziDAfWgVhEw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">ç»“è®º</h2>
<p>æˆ‘ä»¥å‰è®¤ä¸ºï¼Œä¼˜ç§€çš„ UI éœ€è¦å¤æ‚çš„æ¸å˜ã€è‡ªå®šä¹‰å›¾æ ‡æˆ–å¤§è§„æ¨¡çš„é‡æ–°è®¾è®¡ã€‚</p>
<p>äº‹å®è¯æ˜ï¼Œä¼˜ç§€è®¾è®¡å¾ˆå¤§ç¨‹åº¦ä¸Šæ¥è‡ªäºç»†å¾®çš„ã€æœ‰æ„è®¾è®¡çš„æ·±åº¦ç»†èŠ‚ã€‚</p>
<p>é¢œè‰²å›¾å±‚ + æŸ”å’Œé˜´å½± = å»‰ä»· UI â†’ é«˜çº§ UI</p>
<p>ç°åœ¨å°±å»è¯•è¯•å§ï¼èŠ± 1 åˆ†é’Ÿï¼Œä½ å°±èƒ½è®©ç•Œé¢çœ‹èµ·æ¥è´µ 10 å€ã€‚</p>
<p>æˆ‘æ˜¯å†´ç¾½ï¼Œ10 å¹´ç¬”è€•ä¸è¾ï¼Œä¸“æ³¨å‰ç«¯é¢†åŸŸï¼Œæ›´æ–°äº† 10+ ç³»åˆ—ã€300+ ç¯‡åŸåˆ›æŠ€æœ¯æ–‡ç« ï¼Œç¿»è¯‘è¿‡ Svelteã€Solid.jsã€TypeScript æ–‡æ¡£ï¼Œè‘—æœ‰å°å†Œã€ŠNext.js å¼€å‘æŒ‡å—ã€‹ã€ã€ŠSvelte å¼€å‘æŒ‡å—ã€‹ã€ã€ŠAstro å®æˆ˜æŒ‡å—ã€‹ã€‚</p>
<p>æ¬¢è¿å›´è§‚æˆ‘çš„â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fyayujs.com%2F" target="_blank" title="https://yayujs.com/" ref="nofollow noopener noreferrer">ç½‘é¡µç‰ˆæœ‹å‹åœˆ</a>â€ï¼Œå…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<strong>å†´ç¾½ï¼ˆæˆ–æœç´¢ yayujsï¼‰</strong>ï¼Œæ¯å¤©åˆ†äº«å‰ç«¯çŸ¥è¯†ã€AI å¹²è´§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[langChainâ€”â€”Demoæ¼”ç¤º]]></title>    <link>https://juejin.cn/post/7599835610406076462</link>    <guid>https://juejin.cn/post/7599835610406076462</guid>    <pubDate>2026-01-27T10:19:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599835610406076462" data-draft-id="7594351060615233555" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="langChainâ€”â€”Demoæ¼”ç¤º"/> <meta itemprop="keywords" content="LangChain,LLM,Python"/> <meta itemprop="datePublished" content="2026-01-27T10:19:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¯»æ‰¾å…‰_sxy"/> <meta itemprop="url" content="https://juejin.cn/user/1495754537711661"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            langChainâ€”â€”Demoæ¼”ç¤º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1495754537711661/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¯»æ‰¾å…‰_sxy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T10:19:23.000Z" title="Tue Jan 27 2026 10:19:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä¸Šä¸Šæ–‡ç« ä»‹ç»äº†<code>LangChain</code>çš„æ¦‚å¿µä¸å…¶æ¨¡å—ç»„æˆâ€”â€”<a href="https://juejin.cn/post/7594358540048810019" target="_blank" title="https://juejin.cn/post/7594358540048810019">ä¸€æ–‡åŠ©ä½ äº†è§£Langchain</a>ï¼Œæœ¬ç¯‡æ–‡ç« åŸºäºä¸Šä¸Šç¯‡æ–‡ç« çš„åŸºæœ¬æ¦‚å¿µï¼Œæ¥å®é™…å¼€å‘ä¸€ä¸‹ï¼ŒåŸºäº<code>LacngChain</code>æ­å»ºä¸€ä¸ª<code>Agent</code></p>
<h2 data-id="heading-1">é¡¹ç›®</h2>
<h3 data-id="heading-2">é¡¹ç›®ä»‹ç»</h3>
<p>æœ¬é¡¹ç›®åŒ…å«3å¤§æ¨¡å—ï¼š</p>
<ul>
<li><strong><code>Agent</code> å’Œå·¥å…·è°ƒç”¨</strong>ï¼šæ¼”ç¤ºå¦‚ä½•åˆ›å»ºèƒ½å¤Ÿä½¿ç”¨å·¥å…·çš„æ™ºèƒ½ <code>Agent</code></li>
<li><strong>æ–‡æ¡£å¤„ç†å’Œå‘é‡å­˜å‚¨</strong>ï¼šå±•ç¤ºå¦‚ä½•åŠ è½½ã€å¤„ç†æ–‡æ¡£å¹¶æ„å»ºå‘é‡æ•°æ®åº“</li>
<li><strong>æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆ<code>RAG</code>ï¼‰</strong>ï¼šå®ç°åŸºäºæ–‡æ¡£çš„æ™ºèƒ½é—®ç­”ç³»ç»Ÿ</li>
</ul>
<h3 data-id="heading-3">é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-py" lang="py">LangChainDemo2/
â”œâ”€â”€ main.py                    <span class="hljs-comment"># Agent æ¼”ç¤ºä¸»ç¨‹åº</span>
â”œâ”€â”€ document_vector_demo.py    <span class="hljs-comment"># æ–‡æ¡£å¤„ç†å’Œ RAG æ¼”ç¤º</span>
â”œâ”€â”€ requirements.txt           <span class="hljs-comment"># é¡¹ç›®ä¾èµ–</span>
â”œâ”€â”€ .env                       <span class="hljs-comment"># ç¯å¢ƒå˜é‡é…ç½®ï¼ˆéœ€è‡ªè¡Œåˆ›å»ºï¼‰</span>
â”œâ”€â”€ documents/                 <span class="hljs-comment"># æ–‡æ¡£å­˜å‚¨ç›®å½•</span>
â”‚   â”œâ”€â”€ langchain_intro.txt
â”‚   â””â”€â”€ python_basics.txt
â”œâ”€â”€ tools/                     <span class="hljs-comment"># å·¥å…·æ¨¡å—</span>
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ math_tools.py          <span class="hljs-comment"># æ•°å­¦å·¥å…·</span>
â”‚   â””â”€â”€ time_tools.py          <span class="hljs-comment"># æ—¶é—´å·¥å…·</span>
â””â”€â”€ chroma_db_langchain/       <span class="hljs-comment"># å‘é‡æ•°æ®åº“å­˜å‚¨ç›®å½•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰</span>
</code></pre>
<h3 data-id="heading-4">ç¯å¢ƒè¦æ±‚</h3>
<ul>
<li><code>Python 3.8</code> æˆ–æ›´é«˜ç‰ˆæœ¬</li>
<li><code>pip</code> åŒ…ç®¡ç†å™¨</li>
</ul>
<h2 data-id="heading-5">æ­å»ºæ­¥éª¤</h2>
<h4 data-id="heading-6">1. åˆ›å»ºé¡¹ç›®ç›®å½•</h4>
<p>é¦–å…ˆï¼Œåˆ›å»ºé¡¹ç›®ç›®å½•å¹¶è¿›å…¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> LangChainDemo2
<span class="hljs-built_in">cd</span> LangChainDemo2
</code></pre>
<h4 data-id="heading-7">2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰</h4>
<p>ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒå¯ä»¥éš”ç¦»é¡¹ç›®ä¾èµ–ï¼Œé¿å…ä¸å…¶ä»–é¡¹ç›®å†²çªï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span>
python -m venv venv

<span class="hljs-comment"># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span>
<span class="hljs-comment"># macOS/Linux:</span>
<span class="hljs-built_in">source</span> venv/bin/activate
<span class="hljs-comment"># Windows:</span>
<span class="hljs-comment"># venv\Scripts\activate</span>
</code></pre>
<h4 data-id="heading-8">3. å®‰è£…é¡¹ç›®ä¾èµ–</h4>
<p>é¡¹ç›®ä¾èµ–å·²å®šä¹‰åœ¨ <code>requirements.txt</code> æ–‡ä»¶ä¸­ï¼ŒåŒ…å«ä»¥ä¸‹ä¸»è¦åŒ…ï¼š</p>
<ul>
<li><code>langchain</code>ï¼šLangChain æ ¸å¿ƒæ¡†æ¶</li>
<li><code>langchain-community</code>ï¼šç¤¾åŒºè´¡çŒ®çš„ç»„ä»¶</li>
<li><code>langchain-openai</code>ï¼šOpenAI å…¼å®¹çš„æ¨¡å‹æ¥å£</li>
<li><code>langchain-core</code>ï¼šLangChain æ ¸å¿ƒåŠŸèƒ½</li>
<li><code>python-dotenv</code>ï¼šç¯å¢ƒå˜é‡ç®¡ç†</li>
<li><code>chromadb</code>ï¼šå‘é‡æ•°æ®åº“</li>
<li><code>dashscope</code>ï¼šé˜¿é‡Œäº‘ DashScope APIï¼ˆç”¨äºåµŒå…¥æ¨¡å‹ï¼‰</li>
</ul>
<p>å®‰è£…ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip install -r requirements.txt
</code></pre>
<h4 data-id="heading-9">4. é…ç½®ç¯å¢ƒå˜é‡</h4>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.env</code> æ–‡ä»¶ï¼Œé…ç½® API å¯†é’¥ï¼š</p>
<pre><code class="hljs language-env" lang="env"># é˜¿é‡Œäº‘ DashScope API Key
DASHSCOPE_API_KEY=your_api_key_here
</code></pre>
<p><strong>è·å– API Key çš„æ–¹æ³•ï¼š</strong></p>
<ol>
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fdashscope.console.aliyun.com%2F" target="_blank" title="https://dashscope.console.aliyun.com/" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘ DashScope æ§åˆ¶å°</a></li>
<li>æ³¨å†Œ/ç™»å½•è´¦å·</li>
<li>åˆ›å»º API Key</li>
<li>å°† API Key å¤åˆ¶åˆ° <code>.env</code> æ–‡ä»¶ä¸­</li>
</ol>
<h4 data-id="heading-10">5. åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„</h4>
<p>åˆ›å»ºå¿…è¦çš„ç›®å½•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºæ–‡æ¡£ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> documents

<span class="hljs-comment"># åˆ›å»ºå·¥å…·ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> tools
</code></pre>
<h4 data-id="heading-11">6. åˆ›å»ºå·¥å…·æ¨¡å—</h4>
<h5 data-id="heading-12">6.1 åˆ›å»º <code>tools/__init__.py</code></h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># tools/__init__.py</span>
<span class="hljs-comment"># å·¥å…·æ¨¡å—åˆå§‹åŒ–æ–‡ä»¶</span>
</code></pre>
<h5 data-id="heading-13">6.2 åˆ›å»º <code>tools/math_tools.py</code></h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
æ•°å­¦å·¥å…·æ¨¡å—
ç”¨äºæ‰§è¡Œæ•°å­¦è¿ç®—
"""</span>

<span class="hljs-keyword">from</span> langchain.tools <span class="hljs-keyword">import</span> tool


<span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a: <span class="hljs-built_in">int</span>, b: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-string">"""
    è®¡ç®—ä¸¤ä¸ªæ•´æ•°çš„å’Œã€‚
    Agent ä¼šåœ¨éœ€è¦è¿›è¡ŒåŠ æ³•è¿ç®—æ—¶è‡ªåŠ¨è°ƒç”¨æ­¤å·¥å…·ã€‚

    Args:
        a: ç¬¬ä¸€ä¸ªæ•´æ•°
        b: ç¬¬äºŒä¸ªæ•´æ•°

    Returns:
        ä¸¤ä¸ªæ•´æ•°çš„å’Œ
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># å¤„ç†å­—ç¬¦ä¸²ç±»å‹çš„è¾“å…¥ï¼ˆAgent å¯èƒ½ä¼ é€’å­—ç¬¦ä¸²æ ¼å¼çš„æ•°å­—ï¼‰</span>
        a = <span class="hljs-built_in">int</span>(a) <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(a, <span class="hljs-built_in">str</span>) <span class="hljs-keyword">else</span> a
        b = <span class="hljs-built_in">int</span>(b) <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(b, <span class="hljs-built_in">str</span>) <span class="hljs-keyword">else</span> b
        <span class="hljs-keyword">return</span> a + b
    <span class="hljs-keyword">except</span> (ValueError, TypeError) <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"è®¡ç®—æ—¶å‘ç”Ÿé”™è¯¯: æ— æ³•å°†è¾“å…¥è½¬æ¢ä¸ºæ•´æ•° - <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-keyword">return</span> <span class="hljs-string">f"è®¡ç®—æ—¶å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>
</code></pre>
<h5 data-id="heading-14">6.3 åˆ›å»º <code>tools/time_tools.py</code></h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
æ—¶é—´å·¥å…·æ¨¡å—
ç”¨äºè·å–å½“å‰æ—¥æœŸå’Œæ—¶é—´
"""</span>

<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">from</span> langchain.tools <span class="hljs-keyword">import</span> tool


<span class="hljs-meta">@tool</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_current_time</span>() -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-string">"""
    è·å–å½“å‰æ—¶é—´ã€‚
    Agent ä¼šåœ¨éœ€è¦è·å–å½“å‰æ—¶é—´æ—¶è‡ªåŠ¨è°ƒç”¨æ­¤å·¥å…·ã€‚

    Returns:
        å½“å‰æ—¶é—´ï¼ˆæ ¼å¼ä¸º HH:MM:SSï¼‰
    """</span>
    <span class="hljs-keyword">return</span> datetime.now().strftime(<span class="hljs-string">"%H:%M:%S"</span>)
</code></pre>
<h4 data-id="heading-15">7. åˆ›å»ºä¸»ç¨‹åºæ–‡ä»¶</h4>
<h5 data-id="heading-16">7.1 åˆ›å»º <code>main.py</code>ï¼ˆAgent æ¼”ç¤ºï¼‰</h5>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> create_react_agent, AgentExecutor
<span class="hljs-keyword">from</span> langchain.prompts <span class="hljs-keyword">import</span> PromptTemplate

<span class="hljs-keyword">from</span> langchain.memory <span class="hljs-keyword">import</span> ConversationBufferMemory
<span class="hljs-keyword">from</span> tools.math_tools <span class="hljs-keyword">import</span> add
<span class="hljs-keyword">from</span> tools.time_tools <span class="hljs-keyword">import</span> get_current_time

<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
load_dotenv()


<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_llm</span>():  <span class="hljs-comment"># åˆ›å»º LLM æ¨¡å‹å®ä¾‹</span>
    api_key = os.getenv(<span class="hljs-string">"DASHSCOPE_API_KEY"</span>)  <span class="hljs-comment"># ä»ç¯å¢ƒå˜é‡ä¸­è·å– API å¯†é’¥</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> api_key:  <span class="hljs-comment"># å¦‚æœ API å¯†é’¥æœªè®¾ç½®ï¼Œåˆ™æŠ›å‡ºé”™è¯¯</span>
        <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">"DASHSCOPE_API_KEY ç¯å¢ƒå˜é‡æœªè®¾ç½®"</span>)

    llm = ChatOpenAI(
        model=<span class="hljs-string">"qwen-plus"</span>,
        api_key=api_key,
        base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,  <span class="hljs-comment"># é˜¿é‡Œäº‘ DashScope API çš„å…¼å®¹æ¨¡å¼ URL</span>
        temperature=<span class="hljs-number">0.7</span>,  <span class="hljs-comment"># ç”¨äºæ§åˆ¶ç”Ÿæˆæ–‡æœ¬çš„éšæœºæ€§</span>
    )
    <span class="hljs-keyword">return</span> llm


<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_tools</span>():  <span class="hljs-comment"># åˆ›å»ºå·¥å…·åˆ—è¡¨</span>
    tools = [add, get_current_time]
    <span class="hljs-keyword">return</span> tools


<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_memory</span>():  <span class="hljs-comment"># åˆ›å»ºè®°å¿†æ¨¡å—</span>
    memory = ConversationBufferMemory(
        memory_key=<span class="hljs-string">"chat_history"</span>,  <span class="hljs-comment"># åœ¨ prompt ä¸­ä½¿ç”¨çš„å˜é‡å</span>
        return_messages=<span class="hljs-literal">False</span>,  <span class="hljs-comment"># è¿”å›å­—ç¬¦ä¸²æ ¼å¼ï¼Œé€‚åˆå­—ç¬¦ä¸²æ¨¡æ¿</span>
    )
    <span class="hljs-keyword">return</span> memory


<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_agent_executor</span>(<span class="hljs-params">llm, tools, memory</span>):  <span class="hljs-comment"># åˆ›å»ºAgentæ‰§è¡Œå™¨</span>
    prompt_template = <span class="hljs-string">"""ä½ æ˜¯ä¸€ä¸ªå‹å¥½çš„ AI åŠ©æ‰‹ã€‚ä½ å¯ä»¥ä½¿ç”¨å·¥å…·æ¥å›ç­”é—®é¢˜ã€‚
    ä½ å¯ä»¥ä½¿ç”¨çš„å·¥å…·ï¼š
    {tools}

    ä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š
    Question: éœ€è¦å›ç­”çš„é—®é¢˜
    Thought: ä½ åº”è¯¥æ€è€ƒè¦åšä»€ä¹ˆ
    Action: è¦é‡‡å–çš„è¡ŒåŠ¨ï¼Œåº”è¯¥æ˜¯ [{tool_names}] ä¸­çš„ä¸€ä¸ª
    Action Input: è¡ŒåŠ¨çš„è¾“å…¥
    Observation: è¡ŒåŠ¨çš„ç»“æœ
    ... (è¿™ä¸ª Thought/Action/Action Input/Observation å¯ä»¥é‡å¤ N æ¬¡)
    Thought: æˆ‘ç°åœ¨çŸ¥é“æœ€ç»ˆç­”æ¡ˆäº†
    Final Answer: å¯¹åŸå§‹é—®é¢˜çš„æœ€ç»ˆç­”æ¡ˆ

    {chat_history}

    Question: {input}
    Thought: {agent_scratchpad}"""</span>
    prompt = PromptTemplate.from_template(prompt_template)  <span class="hljs-comment"># åˆ›å»ºæç¤ºæ¨¡æ¿</span>

    agent = create_react_agent(llm=llm, tools=tools, prompt=prompt)  <span class="hljs-comment"># åˆ›å»ºAgent</span>

    agent_executor = AgentExecutor(
        agent=agent,  <span class="hljs-comment"># Agentå®ä¾‹</span>
        tools=tools,  <span class="hljs-comment"># å·¥å…·åˆ—è¡¨</span>
        memory=memory,  <span class="hljs-comment"># è®°å¿†æ¨¡å—</span>
        verbose=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># æ˜¯å¦æ‰“å°è¯¦ç»†ä¿¡æ¯</span>
        handle_parsing_errors=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># å¤„ç†è§£æé”™è¯¯</span>
        max_iterations=<span class="hljs-number">5</span>,  <span class="hljs-comment"># æœ€å¤§è¿­ä»£æ¬¡æ•°</span>
    )
    <span class="hljs-keyword">return</span> agent_executor


<span class="hljs-comment"># åˆ›å»ºä¸»å‡½æ•°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-keyword">try</span>:
        llm = create_llm()  <span class="hljs-comment"># åˆ›å»º LLM æ¨¡å‹å®ä¾‹</span>
        tools = create_tools()  <span class="hljs-comment"># åˆ›å»ºå·¥å…·åˆ—è¡¨</span>
        memory = create_memory()  <span class="hljs-comment"># åˆ›å»ºè®°å¿†æ¨¡å—</span>
        agent_executor = create_agent_executor(llm, tools, memory)  <span class="hljs-comment"># åˆ›å»ºAgentæ‰§è¡Œå™¨</span>
        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:  <span class="hljs-comment"># å¾ªç¯è¾“å…¥é—®é¢˜</span>
            prompt = <span class="hljs-built_in">input</span>(<span class="hljs-string">"è¯·è¾“å…¥é—®é¢˜ï¼š"</span>)
            <span class="hljs-keyword">if</span> prompt.lower() <span class="hljs-keyword">in</span> [<span class="hljs-string">"exit"</span>, <span class="hljs-string">"quit"</span>, <span class="hljs-string">"é€€å‡º"</span>]:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"\nå†è§ï¼"</span>)
                <span class="hljs-keyword">break</span>

            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> prompt.strip():
                <span class="hljs-keyword">continue</span>
            response = agent_executor.invoke({<span class="hljs-string">"input"</span>: prompt})  <span class="hljs-comment"># æ‰§è¡ŒAgent</span>
            <span class="hljs-built_in">print</span>(response[<span class="hljs-string">"output"</span>])  <span class="hljs-comment"># æ‰“å°å“åº”</span>
    <span class="hljs-keyword">except</span> ValueError <span class="hljs-keyword">as</span> e:  <span class="hljs-comment"># å¦‚æœåˆ›å»º LLM æ¨¡å‹å®ä¾‹å¤±è´¥ï¼Œåˆ™æŠ›å‡ºé”™è¯¯</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆ›å»º LLM æ¨¡å‹å®ä¾‹å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
        <span class="hljs-keyword">return</span>


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<h5 data-id="heading-17">7.2 åˆ›å»º <code>document_vector_demo.py</code>ï¼ˆæ–‡æ¡£å¤„ç†å’Œ RAG æ¼”ç¤ºï¼‰</h5>
<p>è¯¥æ–‡ä»¶åŒ…å«æ–‡æ¡£å¤„ç†ã€å‘é‡å­˜å‚¨å’Œ RAG çš„å®Œæ•´å®ç°ï¼Œä»£ç è¾ƒé•¿ï¼Œè¯·å‚è€ƒé¡¹ç›®ä¸­çš„ <code>document_vector_demo.py</code> æ–‡ä»¶ã€‚</p>
<h4 data-id="heading-18">8. åˆ›å»ºç¤ºä¾‹æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰</h4>
<p>é¡¹ç›®ä¼šè‡ªåŠ¨åˆ›å»ºç¤ºä¾‹æ–‡æ¡£ï¼Œä½†æ‚¨ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºï¼š</p>
<h5 data-id="heading-19"><code>documents/langchain_intro.txt</code></h5>
<pre><code class="hljs language-markdown" lang="markdown">LangChain ç®€ä»‹

LangChain æ˜¯ä¸€ä¸ªç”¨äºæ„å»º LLM åº”ç”¨çš„æ¡†æ¶ã€‚

æ ¸å¿ƒæ¦‚å¿µï¼š
<span class="hljs-bullet">1.</span> Chainsï¼ˆé“¾ï¼‰ï¼šå°†å¤šä¸ªç»„ä»¶è¿æ¥èµ·æ¥
<span class="hljs-bullet">2.</span> Agentsï¼ˆä»£ç†ï¼‰ï¼šèƒ½å¤Ÿè‡ªä¸»å†³ç­–å’Œæ‰§è¡Œä»»åŠ¡
<span class="hljs-bullet">3.</span> Memoryï¼ˆè®°å¿†ï¼‰ï¼šç»´æŠ¤å¯¹è¯å†å²
<span class="hljs-bullet">4.</span> Toolsï¼ˆå·¥å…·ï¼‰ï¼šæ‰©å±• LLM çš„èƒ½åŠ›
<span class="hljs-bullet">5.</span> Document Processingï¼ˆæ–‡æ¡£å¤„ç†ï¼‰ï¼šåŠ è½½å’Œé¢„å¤„ç†æ–‡æ¡£
<span class="hljs-bullet">6.</span> Vector Storesï¼ˆå‘é‡å­˜å‚¨ï¼‰ï¼šå­˜å‚¨å’Œæ£€ç´¢æ–‡æ¡£å‘é‡

ä¸»è¦åŠŸèƒ½ï¼š
<span class="hljs-bullet">-</span> æ–‡æ¡£åŠ è½½å’Œé¢„å¤„ç†
<span class="hljs-bullet">-</span> å‘é‡æ•°æ®åº“é›†æˆ
<span class="hljs-bullet">-</span> æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰
<span class="hljs-bullet">-</span> å·¥å…·è°ƒç”¨å’Œ Agent æ„å»º

ä½¿ç”¨åœºæ™¯ï¼š
<span class="hljs-bullet">-</span> æ„å»ºæ™ºèƒ½é—®ç­”ç³»ç»Ÿ
<span class="hljs-bullet">-</span> æ–‡æ¡£æ£€ç´¢å’Œåˆ†æ
<span class="hljs-bullet">-</span> è‡ªåŠ¨åŒ–ä»»åŠ¡å¤„ç†
<span class="hljs-bullet">-</span> çŸ¥è¯†åº“æ„å»º
</code></pre>
<h5 data-id="heading-20"><code>documents/python_basics.txt</code></h5>
<pre><code class="hljs language-markdown" lang="markdown">Python åŸºç¡€è¯­æ³•

Python æ˜¯ä¸€ç§é«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œå…·æœ‰ç®€æ´æ˜äº†çš„è¯­æ³•ã€‚

å˜é‡å’Œæ•°æ®ç±»å‹ï¼š
<span class="hljs-bullet">-</span> æ•´æ•°ï¼šx = 10
<span class="hljs-bullet">-</span> æµ®ç‚¹æ•°ï¼šy = 3.14
<span class="hljs-bullet">-</span> å­—ç¬¦ä¸²ï¼šname = "Python"
<span class="hljs-bullet">-</span> åˆ—è¡¨ï¼šnumbers = [1, 2, 3]

æ§åˆ¶æµï¼š
<span class="hljs-bullet">-</span> if/else è¯­å¥ç”¨äºæ¡ä»¶åˆ¤æ–­
<span class="hljs-bullet">-</span> for å¾ªç¯ç”¨äºéå†åºåˆ—
<span class="hljs-bullet">-</span> while å¾ªç¯ç”¨äºé‡å¤æ‰§è¡Œ

å‡½æ•°å®šä¹‰ï¼š
def greet(name):
<span class="hljs-code">    return f"Hello, {name}!"
</span>
Python çš„ç‰¹ç‚¹ï¼š
<span class="hljs-bullet">-</span> è¯­æ³•ç®€æ´ï¼Œæ˜“äºå­¦ä¹ 
<span class="hljs-bullet">-</span> ä¸°å¯Œçš„æ ‡å‡†åº“å’Œç¬¬ä¸‰æ–¹åº“
<span class="hljs-bullet">-</span> è·¨å¹³å°æ”¯æŒ
<span class="hljs-bullet">-</span> å¹¿æ³›ç”¨äº Web å¼€å‘ã€æ•°æ®ç§‘å­¦ã€äººå·¥æ™ºèƒ½ç­‰é¢†åŸŸ
</code></pre>
<h3 data-id="heading-21">è¿è¡Œé¡¹ç›®</h3>
<h4 data-id="heading-22">è¿è¡Œ Agent æ¼”ç¤º</h4>
<pre><code class="hljs language-bash" lang="bash">python main.py
</code></pre>
<p>è¿è¡Œåï¼Œæ‚¨å¯ä»¥ä¸ Agent è¿›è¡Œäº¤äº’ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li>"è®¡ç®— 123 åŠ  456"</li>
<li>"ç°åœ¨å‡ ç‚¹äº†ï¼Ÿ"</li>
<li>"å…ˆè®¡ç®— 10 åŠ  20ï¼Œç„¶åå‘Šè¯‰æˆ‘ç°åœ¨çš„æ—¶é—´"</li>
</ul>
<h4 data-id="heading-23">è¿è¡Œæ–‡æ¡£å¤„ç†å’Œ RAG æ¼”ç¤º</h4>
<pre><code class="hljs language-bash" lang="bash">python document_vector_demo.py
</code></pre>
<p>è¯¥ç¨‹åºä¼šï¼š</p>
<ol>
<li>è‡ªåŠ¨åˆ›å»ºç¤ºä¾‹æ–‡æ¡£</li>
<li>åŠ è½½å¹¶åˆ†å‰²æ–‡æ¡£</li>
<li>åˆ›å»ºå‘é‡æ•°æ®åº“</li>
<li>æ¼”ç¤ºç›¸ä¼¼åº¦æœç´¢</li>
<li>æ¼”ç¤º RAG é—®ç­”</li>
</ol>
<h3 data-id="heading-24">æ ¸å¿ƒåŠŸèƒ½è¯´æ˜</h3>
<h4 data-id="heading-25">1. Agent å’Œå·¥å…·è°ƒç”¨</h4>
<ul>
<li><strong>LLM æ¨¡å‹</strong>ï¼šä½¿ç”¨é˜¿é‡Œäº‘ DashScope çš„ qwen-plus æ¨¡å‹</li>
<li><strong>å·¥å…·ç³»ç»Ÿ</strong>ï¼šé€šè¿‡ <code>@tool</code> è£…é¥°å™¨å®šä¹‰å·¥å…·ï¼ŒAgent å¯ä»¥è‡ªåŠ¨è°ƒç”¨</li>
<li><strong>è®°å¿†æ¨¡å—</strong>ï¼šä½¿ç”¨ <code>ConversationBufferMemory</code> ç»´æŠ¤å¯¹è¯å†å²</li>
<li><strong>ReAct Agent</strong>ï¼šä½¿ç”¨ ReAct æ¨¡å¼ï¼Œè®© Agent èƒ½å¤Ÿæ€è€ƒã€è¡ŒåŠ¨å’Œè§‚å¯Ÿ</li>
</ul>
<h4 data-id="heading-26">2. æ–‡æ¡£å¤„ç†</h4>
<ul>
<li><strong>æ–‡æ¡£åŠ è½½</strong>ï¼šä½¿ç”¨ <code>TextLoader</code> åŠ è½½æ–‡æœ¬æ–‡ä»¶</li>
<li><strong>æ–‡æœ¬åˆ†å‰²</strong>ï¼šä½¿ç”¨ <code>RecursiveCharacterTextSplitter</code> å°†é•¿æ–‡æ¡£åˆ†å‰²æˆå°å—</li>
<li><strong>å‚æ•°é…ç½®</strong>ï¼š
<ul>
<li><code>chunk_size=200</code>ï¼šæ¯ä¸ªç‰‡æ®µçš„æœ€å¤§å­—ç¬¦æ•°</li>
<li><code>chunk_overlap=50</code>ï¼šç‰‡æ®µä¹‹é—´çš„é‡å å­—ç¬¦æ•°</li>
</ul>
</li>
</ul>
<h4 data-id="heading-27">3. å‘é‡å­˜å‚¨</h4>
<ul>
<li><strong>å‘é‡æ•°æ®åº“</strong>ï¼šä½¿ç”¨ ChromaDB å­˜å‚¨æ–‡æ¡£å‘é‡</li>
<li><strong>åµŒå…¥æ¨¡å‹</strong>ï¼šä½¿ç”¨é˜¿é‡Œäº‘ DashScope çš„ text-embedding-v2 æ¨¡å‹</li>
<li><strong>æŒä¹…åŒ–å­˜å‚¨</strong>ï¼šå‘é‡æ•°æ®åº“ä¼šä¿å­˜åˆ° <code>chroma_db_langchain/</code> ç›®å½•</li>
</ul>
<h4 data-id="heading-28">4. RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰</h4>
<ul>
<li><strong>æ£€ç´¢å™¨</strong>ï¼šä»å‘é‡æ•°æ®åº“ä¸­æ£€ç´¢ç›¸å…³æ–‡æ¡£ç‰‡æ®µ</li>
<li><strong>ä¸Šä¸‹æ–‡æ„å»º</strong>ï¼šå°†æ£€ç´¢åˆ°çš„æ–‡æ¡£ç‰‡æ®µç»„åˆæˆä¸Šä¸‹æ–‡</li>
<li><strong>æç¤ºæ¨¡æ¿</strong>ï¼šè‡ªå®šä¹‰æç¤ºè¯ï¼ŒæŒ‡å¯¼ LLM åŸºäºä¸Šä¸‹æ–‡å›ç­”é—®é¢˜</li>
</ul>
<h3 data-id="heading-29">å¸¸è§é—®é¢˜</h3>
<h4 data-id="heading-30">1. API Key é…ç½®é”™è¯¯</h4>
<p><strong>é—®é¢˜</strong>ï¼šæç¤º "DASHSCOPE_API_KEY ç¯å¢ƒå˜é‡æœªè®¾ç½®"</p>
<p><strong>è§£å†³</strong>ï¼š</p>
<ul>
<li>æ£€æŸ¥ <code>.env</code> æ–‡ä»¶æ˜¯å¦å­˜åœ¨</li>
<li>ç¡®è®¤ API Key é…ç½®æ­£ç¡®</li>
<li>ç¡®ä¿ <code>.env</code> æ–‡ä»¶åœ¨é¡¹ç›®æ ¹ç›®å½•</li>
</ul>
<h4 data-id="heading-31">2. ä¾èµ–å®‰è£…å¤±è´¥</h4>
<p><strong>é—®é¢˜</strong>ï¼š<code>pip install</code> å¤±è´¥</p>
<p><strong>è§£å†³</strong>ï¼š</p>
<ul>
<li>ç¡®ä¿ Python ç‰ˆæœ¬ &gt;= 3.8</li>
<li>å°è¯•å‡çº§ pipï¼š<code>pip install --upgrade pip</code></li>
<li>ä½¿ç”¨å›½å†…é•œåƒæºï¼š<code>pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple</code></li>
</ul>
<h4 data-id="heading-32">3. å‘é‡æ•°æ®åº“åˆ›å»ºå¤±è´¥</h4>
<p><strong>é—®é¢˜</strong>ï¼šChromaDB åˆå§‹åŒ–é”™è¯¯</p>
<p><strong>è§£å†³</strong>ï¼š</p>
<ul>
<li>ç¡®ä¿æœ‰å†™å…¥æƒé™</li>
<li>åˆ é™¤æ—§çš„ <code>chroma_db_langchain/</code> ç›®å½•åé‡æ–°è¿è¡Œ</li>
</ul>
<h3 data-id="heading-33">æ‰©å±•å»ºè®®</h3>
<ol>
<li><strong>æ·»åŠ æ›´å¤šå·¥å…·</strong>ï¼šåœ¨ <code>tools/</code> ç›®å½•ä¸‹åˆ›å»ºæ–°çš„å·¥å…·æ¨¡å—</li>
<li><strong>æ”¯æŒæ›´å¤šæ–‡æ¡£æ ¼å¼</strong>ï¼šæ·»åŠ  PDFã€Word ç­‰æ–‡æ¡£åŠ è½½å™¨</li>
<li><strong>ä¼˜åŒ– RAG æç¤ºè¯</strong>ï¼šæ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´æç¤ºæ¨¡æ¿</li>
<li><strong>æ·»åŠ  Web ç•Œé¢</strong>ï¼šä½¿ç”¨ Streamlit æˆ– Gradio åˆ›å»ºäº¤äº’ç•Œé¢</li>
<li><strong>é›†æˆæ›´å¤šå‘é‡æ•°æ®åº“</strong>ï¼šå°è¯• FAISSã€Pinecone ç­‰</li>
</ol>
<h3 data-id="heading-34">æ€»ç»“</h3>
<p>é€šè¿‡æœ¬é¡¹ç›®çš„æ­å»ºï¼Œæ‚¨å¯ä»¥å­¦ä¹ åˆ°ï¼š</p>
<ul>
<li>âœ… LangChain æ¡†æ¶çš„åŸºæœ¬ä½¿ç”¨</li>
<li>âœ… Agent å’Œå·¥å…·ç³»ç»Ÿçš„æ„å»º</li>
<li>âœ… æ–‡æ¡£å¤„ç†å’Œå‘é‡å­˜å‚¨çš„å®ç°</li>
<li>âœ… RAG ç³»ç»Ÿçš„æ­å»º</li>
<li>âœ… ä¸ LLM API çš„é›†æˆ</li>
</ul>
<p>å¸Œæœ›è¿™ä¸ªé¡¹ç›®èƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£å’Œåº”ç”¨ LangChain æ¡†æ¶ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å°†webviewå±•ç¤ºåˆ°vscodeçš„è§†å›¾å®¹å™¨ä¸­]]></title>    <link>https://juejin.cn/post/7599798118461505545</link>    <guid>https://juejin.cn/post/7599798118461505545</guid>    <pubDate>2026-01-27T10:14:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599798118461505545" data-draft-id="7599630795805425710" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å°†webviewå±•ç¤ºåˆ°vscodeçš„è§†å›¾å®¹å™¨ä¸­"/> <meta itemprop="keywords" content="Visual Studio Code"/> <meta itemprop="datePublished" content="2026-01-27T10:14:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹¥æ„š79"/> <meta itemprop="url" content="https://juejin.cn/user/2649162517852320"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å°†webviewå±•ç¤ºåˆ°vscodeçš„è§†å›¾å®¹å™¨ä¸­
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2649162517852320/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹¥æ„š79
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T10:14:05.000Z" title="Tue Jan 27 2026 10:14:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å°†webviewå±•ç¤ºåˆ°vscodeçš„è§†å›¾å®¹å™¨ä¸­</h2>
<p>å¤§å®¶å·²ç»æ³¨æ„åˆ°ä¸Šè¾¹çš„webviewæ˜¯æ˜¾ç¤ºåœ¨ç¼–è¾‘å™¨åŒºåŸŸçš„ï¼Œè€Œclineçš„å¯¹è¯ç•Œé¢æ˜¯ä½œä¸ºä¸€ä¸ªè§†å›¾æ˜¾ç¤ºåœ¨å•ç‹¬çš„è§†å›¾å®¹å™¨é‡Œè¾¹çš„ï¼Œä¸‹è¾¹æˆ‘ä»¬å°†è¿›è¡Œæ”¹é€ ï¼Œå°†æˆ‘ä»¬çš„react webviewæ˜¾ç¤ºåœ¨å•ç‹¬çš„è§†å›¾å®¹å™¨ä¸­ã€‚</p>
<p>ä¸‹è¾¹æˆ‘ä»¬å°†å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fvscode-webview-ui-toolkit-samples%2Ftree%2Fmain%2Fdefault%2Fweather-webview" target="_blank" title="https://github.com/microsoft/vscode-webview-ui-toolkit-samples/tree/main/default/weather-webview" ref="nofollow noopener noreferrer">Weather Webview Sample Extension</a>, å°†webviewæ˜¾ç¤ºåœ¨è§†å›¾ä¸­ã€‚</p>
<h3 data-id="heading-1">å®šä¹‰è§†å›¾å®¹å™¨å’Œè§†å›¾</h3>
<p>åœ¨ <strong>package.json</strong> æ–‡ä»¶ä¸­çš„ <strong>contributes</strong> ä¸­å®šä¹‰ <strong>viewsContainers</strong> å’Œ <strong>views</strong> , æ–‡ä»¶å†…å®¹çœ‹èµ·æ¥å¦‚ä¸‹</p>
<pre><code class="hljs language-erlang" lang="erlang">  ...
  <span class="hljs-string">"main"</span>: <span class="hljs-string">"./out/extension.js"</span>,
  <span class="hljs-string">"contributes"</span>: {
    <span class="hljs-string">"viewsContainers"</span>: {
      <span class="hljs-string">"activitybar"</span>: [
        {
          <span class="hljs-string">"id"</span>: <span class="hljs-string">"minicline-ActivityBar"</span>,
          <span class="hljs-string">"title"</span>: <span class="hljs-string">"MiniCline"</span>,
          <span class="hljs-string">"icon"</span>: <span class="hljs-string">"assets/icons/icon.svg"</span>
        }
      ]
    },
    <span class="hljs-string">"views"</span>: {
      <span class="hljs-string">"minicline-ActivityBar"</span>: [
        {
          <span class="hljs-string">"type"</span>: <span class="hljs-string">"webview"</span>,
          <span class="hljs-string">"id"</span>: <span class="hljs-string">"minicline.SidebarProvider"</span>,
          <span class="hljs-string">"name"</span>: <span class="hljs-string">"MiniCline"</span>
        }
      ]
    },
    <span class="hljs-string">"commands"</span>: [
      {
        <span class="hljs-string">"command"</span>: <span class="hljs-string">"hello-world.showHelloWorld"</span>,
        <span class="hljs-string">"title"</span>: <span class="hljs-string">"Hello World (React + Vite): Show"</span>
      }
    ]
  },
  ...
</code></pre>
<p>ä»clineé¡¹ç›®ä¸­æ‹·è´ <strong>icon.svg</strong> åˆ° <strong>assets/icons/</strong> ç›®å½•ä¸‹ï¼Œå†æ¬¡å¯åŠ¨æ’ä»¶ï¼Œä¾§è¾¹æ å°†å‡ºç°æ–°çš„miniclineçš„è§†å›¾å®¹å™¨ï¼Œç‚¹å‡»å›¾æ ‡å°†æ˜¾ç¤ºminiclineè§†å›¾ï¼Œå½“ç„¶ï¼Œç°åœ¨æˆ‘ä»¬è¿˜æ²¡æœ‰å®ç°æ–°çš„webviewï¼Œæ‰€ä»¥æ˜¾ç¤ºä¸äº†ä»»ä½•å†…å®¹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/777471b6f5de4a83825ec5562fdf4871~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iul5oSaNzk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770113649&amp;x-signature=pA%2FNRaT8ropYLiXIScVzVD%2BxoUc%3D" alt="chapter-2-1.png" loading="lazy"/></p>
<h3 data-id="heading-2">å®ç°WebviewViewProvider</h3>
<p>å› ä¸ºç°åœ¨æˆ‘ä»¬çš„webviewå®ç°ä¸ºè§†å›¾å®¹å™¨é‡Œè¾¹çš„è§†å›¾ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å®ç°WebviewViewProviderï¼Œå¹¶ä¸”åœ¨æ’ä»¶å¯åŠ¨æ—¶æ³¨å†Œè¯¥WebviewViewProviderã€‚
æˆ‘ä»¬å°† <strong>weather-webview</strong> é¡¹ç›®ä¸­çš„ <strong>src/providers/WeatherViewProvider.ts</strong> æ‹·è´åˆ°æˆ‘ä»¬ <strong>minicline</strong> å¯¹åº”ç›®å½•ä¸‹ï¼Œå¹¶ä¸”åœ¨ä¿®æ”¹æ’ä»¶å…¥å£å‡½æ•°è°ƒç”¨å®ƒã€‚</p>
<p><strong>src/extension.ts</strong></p>
<pre><code class="hljs language-ini" lang="ini">  const <span class="hljs-attr">provider</span> = new WeatherViewProvider(context.extensionUri)<span class="hljs-comment">;</span>

  const <span class="hljs-attr">weatherViewDisposable</span> = window.registerWebviewViewProvider(
    WeatherViewProvider.viewType,
    provider
  )<span class="hljs-comment">;</span>

  context.subscriptions.push(weatherViewDisposable)<span class="hljs-comment">;</span>
</code></pre>
<p>ç„¶åæˆ‘ä»¬æŠŠåŸå…ˆ<strong>src/panels/HelloWorldPanel.ts</strong>ä¸­å¯¹åº”çš„å‡½æ•°    <strong>_getWebviewContent</strong> å’Œ <strong>_setWebviewMessageListener</strong> çš„å†…å®¹æ›¿æ¢ <strong>src/providers/WeatherViewProvider.ts</strong> å¯¹åº”å‡½æ•°å†…å®¹ã€‚è¿™æ ·æˆ‘ä»¬çš„è§†å›¾å°±ä¼šæ˜¾ç¤ºæˆ‘ä»¬reactç¼–è¯‘çš„webviewå†…å®¹äº†ã€‚ç°åœ¨å¯åŠ¨æ’ä»¶ï¼Œåº”è¯¥çœ‹åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4e17dc1378e48f7bae50f1e50235b0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iul5oSaNzk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770113649&amp;x-signature=ZHiXC%2FBCPRW3In7cpjRjhJvnpJQ%3D" alt="chapter-2-2.png" loading="lazy"/></p>
<p>ä¸‹è¾¹æˆ‘ä»¬æŠŠ <strong>weather-webview</strong> é‡Œä¸€äº›æœ‰ç”¨çš„ç»„ä»¶æ·»åŠ åˆ°æˆ‘ä»¬çš„react webviewä¸­ï¼Œæ¯”å¦‚vscode-text-fieldï¼Œvscode-dropdownç­‰ã€‚åè¾¹æˆ‘ä»¬çš„chat boxä¼šç”¨åˆ°ã€‚</p>
<p>å°†åŸ <strong>src/providers/WeatherViewProvider.ts</strong> ä¸­å‡½æ•° <strong>_getWebviewContent</strong> çš„å¦‚ä¸‹å†…å®¹æ‹·è´åˆ° <strong>webview-ui/src/App.tsx</strong> ä¸­ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ <strong>@vscode/webview-ui-toolkit/react</strong> ä¸­å¯¹åº”çš„reactç»„ä»¶åå­—ä¸æ˜¯ <strong>vscode-button</strong> è€Œæ˜¯ <strong>VSCodeButton</strong>ï¼Œå…¶ä»–ç»„ä»¶åå­—ä¹Ÿéœ€è¦å¯¹åº”æ”¹åŠ¨ï¼Œå…·ä½“å¯ä»¥åˆ° <strong>@vscode/webview-ui-toolkit/react</strong>ä¸­æŸ¥çœ‹ã€‚ç„¶ååœ¨reactä¸­classéœ€è¦æ›¿æ¢æˆclassNameã€‚</p>
<p><strong>src/providers/WeatherViewProvider.ts</strong></p>
<pre><code class="hljs language-ini" lang="ini">&lt;h1&gt;Weather Checker&lt;/h1&gt;
&lt;section <span class="hljs-attr">id</span>=<span class="hljs-string">"search-container"</span>&gt;
  &lt;vscode-text-field
    <span class="hljs-attr">id</span>=<span class="hljs-string">"location"</span>
    <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Location"</span>
    <span class="hljs-attr">value</span>=<span class="hljs-string">"Seattle, WA"</span>&gt;
  &lt;/vscode-text-field&gt;
  &lt;vscode-dropdown <span class="hljs-attr">id</span>=<span class="hljs-string">"unit"</span>&gt;
    &lt;vscode-option <span class="hljs-attr">value</span>=<span class="hljs-string">"F"</span>&gt;Fahrenheit&lt;/vscode-option&gt;
    &lt;vscode-option <span class="hljs-attr">value</span>=<span class="hljs-string">"C"</span>&gt;Celsius&lt;/vscode-option&gt;
  &lt;/vscode-dropdown&gt;
&lt;/section&gt;
&lt;vscode-button <span class="hljs-attr">id</span>=<span class="hljs-string">"check-weather-button"</span>&gt;Check&lt;/vscode-button&gt;
&lt;h2&gt;Current Weather&lt;/h2&gt;
&lt;section <span class="hljs-attr">id</span>=<span class="hljs-string">"results-container"</span>&gt;
  &lt;vscode-progress-ring <span class="hljs-attr">id</span>=<span class="hljs-string">"loading"</span> class=<span class="hljs-string">"hidden"</span>&gt;&lt;/vscode-progress-ring&gt;
  &lt;p <span class="hljs-attr">id</span>=<span class="hljs-string">"icon"</span>&gt;&lt;/p&gt;
  &lt;p <span class="hljs-attr">id</span>=<span class="hljs-string">"summary"</span>&gt;&lt;/p&gt;
&lt;/section&gt;
</code></pre>
<p><strong>webview-ui/src/App.tsx</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  ...
  <span class="hljs-keyword">return</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Weather Checker<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"search-container"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">VSCodeTextField</span>
        <span class="hljs-attr">id</span>=<span class="hljs-string">"location"</span>
        <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Location"</span>
        <span class="hljs-attr">value</span>=<span class="hljs-string">"Seattle, WA"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">VSCodeTextField</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">VSCodeDropdown</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"unit"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">VSCodeOption</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"F"</span>&gt;</span>Fahrenheit<span class="hljs-tag">&lt;/<span class="hljs-name">VSCodeOption</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">VSCodeOption</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"C"</span>&gt;</span>Celsius<span class="hljs-tag">&lt;/<span class="hljs-name">VSCodeOption</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">VSCodeDropdown</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">VSCodeButton</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"check-weather-button"</span>&gt;</span>Check<span class="hljs-tag">&lt;/<span class="hljs-name">VSCodeButton</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Current Weather<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"results-container"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">VSCodeProgressRing</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"loading"</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"hidden"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">VSCodeProgressRing</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"icon"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"summary"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span></span>
  ); 
}
</code></pre>
<p>æ‹·è´å¯¹åº”çš„ <strong>weather-webview/src/webview/styles.css</strong> çš„å†…å®¹åˆ° <strong>webview-ui/src/App.css</strong> ä¸­ã€‚</p>
<p>åˆ«å¿˜äº†åœ¨å¯åŠ¨æ’ä»¶å‰é‡æ–°è¿è¡Œ <strong>npm run build:webview</strong> ç¼–è¯‘æˆ‘ä»¬çš„react webviewã€‚</p>
<p>å¯åŠ¨æ’ä»¶ï¼Œç°åœ¨è§†å›¾çœ‹èµ·æ¥å¦‚ä¸‹æ‰€ç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1ed6ae337474b1196fb220e596c544b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iul5oSaNzk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770113649&amp;x-signature=2KntSgSx3cCWqs%2B%2FM0ijEvckWww%3D" alt="chapter-2-3.png" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æŠŠ <strong>weather-webview/src/webview/main.ts</strong> ä¸­çš„ä»£ç è¿ç§»åˆ°react webviewä¸­ã€‚</p>
<p>å…³é”®ä»£ç å¦‚ä¸‹</p>
<p>åœ¨webviewç«¯ï¼Œå½“ç‚¹å‡» <strong>Check</strong> æŒ‰é’®æ—¶ä¼šå‘vscode extension hostå‘é€å½“å‰ä½ç½®ä¿¡æ¯ï¼Œè¯·æ±‚å¤©æ°”æƒ…å†µä¿¡æ¯ã€‚å¹¶ä¸”ä½¿ç”¨reactçš„useEffectå‡½æ•°åœ¨Appå¯åŠ¨æ—¶æ³¨å†Œç›‘å¬å™¨ï¼Œç›‘å¬vscode extension hostç«¯å‘é€çš„å¤©æ°”æ¶ˆæ¯ã€‚</p>
<p><strong>webview-ui/src/App.tsx</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  ...
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {

    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"message"</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> command = event.<span class="hljs-property">data</span>.<span class="hljs-property">command</span>;
      <span class="hljs-keyword">switch</span> (command) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"weather"</span>:
          <span class="hljs-keyword">const</span> weatherData = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>.<span class="hljs-property">payload</span>);
          <span class="hljs-title function_">displayWeatherData</span>(weatherData);
          <span class="hljs-keyword">break</span>;
          ...
      }
    });
  }, []);
  ...
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">checkWeather</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> location = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"location"</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">TextField</span>;
    <span class="hljs-keyword">const</span> unit = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"unit"</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">Dropdown</span>;
    vscode.<span class="hljs-title function_">postMessage</span>({
      <span class="hljs-attr">command</span>: <span class="hljs-string">"weather"</span>,
      <span class="hljs-attr">location</span>: location.<span class="hljs-property">value</span>,
      <span class="hljs-attr">unit</span>: unit.<span class="hljs-property">value</span>,
    });
    <span class="hljs-title function_">displayLoadingState</span>();
  }
  ...
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Weather Checker<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      ...
      <span class="hljs-tag">&lt;<span class="hljs-name">VSCodeButton</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"check-weather-button"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{checkWeather}</span>&gt;</span>Check<span class="hljs-tag">&lt;/<span class="hljs-name">VSCodeButton</span>&gt;</span>
      ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span></span>
  );
}
</code></pre>
<p>åœ¨vscode extension hostç«¯ï¼Œä¿®æ”¹<strong>WeatherViewProvider</strong>ç›‘å¬çš„æ¶ˆæ¯ç±»å‹ï¼Œå½“æ¶ˆæ¯ç±»å‹ä¸ºå¤©æ°”æƒ…å†µæ—¶ï¼Œè°ƒç”¨weatheråº“è·å–å®é™…å¤©æ°”ä¿¡æ¯å‘é€ç»™webviewç«¯ã€‚</p>
<p><strong>src/providers/WeatherViewProvider.ts</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-title function_">_setWebviewMessageListener</span>(<span class="hljs-params">webviewView: WebviewView</span>) {
  webviewView.<span class="hljs-property">webview</span>.<span class="hljs-title function_">onDidReceiveMessage</span>(
    <span class="hljs-function">(<span class="hljs-params">message: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
      ...
      <span class="hljs-keyword">switch</span> (command) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"weather"</span>:
          weather.<span class="hljs-title function_">find</span>({ <span class="hljs-attr">search</span>: location, <span class="hljs-attr">degreeType</span>: unit }, <span class="hljs-function">(<span class="hljs-params">err: <span class="hljs-built_in">any</span>, result: <span class="hljs-built_in">any</span></span>) =&gt;</span> {
            ...
            <span class="hljs-keyword">const</span> weatherForecast = result[<span class="hljs-number">0</span>];
            <span class="hljs-comment">// Pass the weather forecast object to the webview</span>
            webviewView.<span class="hljs-property">webview</span>.<span class="hljs-title function_">postMessage</span>({
              <span class="hljs-attr">command</span>: <span class="hljs-string">"weather"</span>,
              <span class="hljs-attr">payload</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(weatherForecast),
            });
          });
          <span class="hljs-keyword">break</span>;
      }
    },
    ...
  );
}
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬å¯åŠ¨æ’ä»¶é¡¹ç›®ï¼Œç‚¹å‡» <strong>Check</strong> æŒ‰é’®åä¼šæ›´æ–°å¤©æ°”æƒ…å†µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåˆ«å¿˜äº†å¯åŠ¨å‰è¿è¡Œ <strong>npm run build:webview</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/579ff183dbbc4afc841de5a97bf5b022~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iul5oSaNzk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770113649&amp;x-signature=7G9whU%2BPFi6OvX%2FkNC8xNw6X4sE%3D" alt="chapter-2-4.png" loading="lazy"/></p>
<h3 data-id="heading-3">æ€»ç»“</h3>
<p>æœ¬ç« æˆ‘ä»¬æ–°å»ºäº†è§†å›¾å®¹å™¨ï¼Œå¹¶ä¸”å°†webviewç§»åˆ°äº†è§†å›¾å®¹å™¨ä¸­çš„ä¸€ä¸ªè§†å›¾ä¸­ã€‚æˆ‘ä»¬æ·»åŠ äº†æ–°çš„vscode webview-ui-toolkitçš„ä¸€äº›reactç»„ä»¶ã€‚å¹¶ä¸”å®ç°äº†webviewå’Œvscode extension hostä¹‹é—´çš„åŒå‘æ¶ˆæ¯å‘é€å’Œç›‘å¬ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‰‹æŠŠæ‰‹å¸¦ä½ åšä¸€ä¸ª Claude Code plugin æ’ä»¶ï¼ˆæ–°æ‰‹å¿…çœ‹ ï¼‰]]></title>    <link>https://juejin.cn/post/7599630795805655086</link>    <guid>https://juejin.cn/post/7599630795805655086</guid>    <pubDate>2026-01-27T10:29:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599630795805655086" data-draft-id="7599798118461571081" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‰‹æŠŠæ‰‹å¸¦ä½ åšä¸€ä¸ª Claude Code plugin æ’ä»¶ï¼ˆæ–°æ‰‹å¿…çœ‹ ï¼‰"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-27T10:29:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å’Œå¹³hepingfly"/> <meta itemprop="url" content="https://juejin.cn/user/4100516930912747"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‰‹æŠŠæ‰‹å¸¦ä½ åšä¸€ä¸ª Claude Code plugin æ’ä»¶ï¼ˆæ–°æ‰‹å¿…çœ‹ ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4100516930912747/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å’Œå¹³hepingfly
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T10:29:22.000Z" title="Tue Jan 27 2026 10:29:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç”¨è¿‡ claude code çš„äººåº”è¯¥éƒ½çŸ¥é“ï¼Œclaude code é™¤äº†æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ Agent ä¹‹å¤–ï¼Œå®ƒè¿˜æœ‰å¥½å‡ ä¸ªç»„ä»¶æ¥æ‰©å±•è‡ªèº«çš„èƒ½åŠ›ï¼Œæ¯”å¦‚</p>
<ul>
<li>Skillsï¼ˆæŠ€èƒ½ï¼‰</li>
<li>subagents(å­ä»£ç†)</li>
<li>Hooksï¼ˆé’©å­ï¼‰</li>
<li>MCP æœåŠ¡å™¨</li>
<li>Commandsï¼ˆå‘½ä»¤ï¼‰</li>
</ul>
<p>è¿™äº›æ‰©å±•èƒ½åŠ›å•ä¸ªæ‹å‡ºæ¥éƒ½å¾ˆå¼ºå¤§ï¼Œè€Œ Claude Code Plugin åˆå¯ä»¥æŠŠä¸Šé¢çš„ä¸œè¥¿ç»„åˆèµ·æ¥ä½¿ç”¨ï¼Œæ›´åŠ å…¨æ–¹ä½çš„å»æ‰©å±• Claude Code çš„åŠŸèƒ½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8124fafe32584b0f9880e23a67652435~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZKM5bmzaGVwaW5nZmx5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770114561&amp;x-signature=Smdp97wXwNVxbsLxpQCoCS6oeFU%3D" alt="img" loading="lazy"/></p>
<h2 data-id="heading-0">1ã€å¼€å‘æ’ä»¶å®æ“æ¼”ç¤º</h2>
<h3 data-id="heading-1">1.1 åˆ›å»ºæ’ä»¶ç›®å½•</h3>
<p>æ¯ä¸ªæ’ä»¶éƒ½æœ‰ä¸€ä¸ªè‡ªå·±ç‹¬ç«‹çš„ç›®å½•ï¼Œåœ¨è¿™ä¸ªç›®å½•é‡Œé¢å¯ä»¥å»æ”¾æ’ä»¶é…ç½®æ–‡ä»¶ã€ç›¸åº”çš„æŠ€èƒ½ã€ä»£ç†æˆ–é’©å­</p>
<p>BASH</p>
<pre><code class="hljs language-arduino" lang="arduino">mkdir hepingfly-plugin
</code></pre>
<h3 data-id="heading-2">1.2 åˆ›å»ºæ’ä»¶é…ç½®æ–‡ä»¶</h3>
<p>é…ç½®æ–‡ä»¶è¦æ”¾åœ¨<code>Â .claude-plugin</code>Â è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹é¢ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥åˆ›å»ºè¿™ä¸ªæ–‡ä»¶å¤¹ï¼ˆè¦åœ¨åˆšæ‰çš„æ’ä»¶ç›®å½•é‡Œé¢å»åˆ›å»ºï¼‰</p>
<p>å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œä¹Ÿå¯ä»¥è‡ªå·±æ‰‹åŠ¨æ–°å»ºæ–‡ä»¶å¤¹ã€‚</p>
<p>BASH</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> hepingfly-plugin/.claude-plugin
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c48117e31ed4a60b3db227a5a848284~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZKM5bmzaGVwaW5nZmx5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770114561&amp;x-signature=8DKC1j2iHg77ftvSNYJ3g1ZKJ6s%3D" alt="img" loading="lazy"/></p>
<p>æ–°å»º<code>Â plugin.json</code>Â é…ç½®æ–‡ä»¶ï¼ŒÂ <code>hepingfly-plugin/.claude-plugin/plugin.json</code></p>
<p>è¿™ä¸ªé…ç½®æ–‡ä»¶ç”¨äºå®šä¹‰æ’ä»¶çš„åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬åç§°ã€æè¿°å’Œç‰ˆæœ¬å·ã€‚</p>
<p>claude code ä¼šåˆ©ç”¨è¿™äº›å…ƒæ•°æ®ï¼Œåœ¨æ’ä»¶ç®¡ç†å™¨ä¸­å±•ç¤ºæ‚¨çš„æ’ä»¶ã€‚</p>
<p>JSON</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
<span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"hepingfly-plugin"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¼šæ‰“å° hello hepingfly"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"author"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
<span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"hepingfly"</span>
<span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>

























<table><thead><tr><th>å­—æ®µ</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td>name</td><td>å”¯ä¸€æ ‡è¯†ç¬¦å’Œæ–œæ å‘½ä»¤å‘½åç©ºé—´ã€‚æ–œæ å‘½ä»¤ä»¥æ­¤ä¸ºå‰ç¼€ï¼ˆä¾‹å¦‚ /hepingfly-plugin:helloï¼‰ã€‚</td></tr><tr><td>description</td><td>åœ¨æµè§ˆæˆ–å®‰è£…æ’ä»¶æ—¶åœ¨æ’ä»¶ç®¡ç†å™¨ä¸­æ˜¾ç¤ºã€‚</td></tr><tr><td>version</td><td>ä½¿ç”¨è¯­ä¹‰ç‰ˆæœ¬æ§åˆ¶è·Ÿè¸ªå‘å¸ƒã€‚</td></tr><tr><td>author</td><td>ä½œè€…åå­—ï¼ˆå¯é€‰ï¼‰ã€‚æœ‰åŠ©äºå½’å±ã€‚</td></tr></tbody></table>
<h3 data-id="heading-3">1.3 å¼€å‘æ’ä»¶åŠŸèƒ½</h3>
<p>ä¸Šé¢å‡ æ­¥æˆ‘ä»¬æŠŠæ’ä»¶åŸºæœ¬çš„é…ç½®åšå¥½äº†ï¼Œä¸‹é¢æˆ‘ä»¬å°±è¦å¼€å‘è¿™ä¸ªæ’ä»¶å…·ä½“çš„åŠŸèƒ½äº†ã€‚ä½ å¯ä»¥ä½¿ç”¨ skillã€subagentã€commandã€hooks éƒ½å¯ä»¥ã€‚</p>
<p><strong>æˆ‘ä»¬ä»¥ command èƒ½åŠ›æ¥æ¼”ç¤ºï¼š</strong></p>
<p>åœ¨ä½ çš„æ’ä»¶æ–‡ä»¶å¤¹ä¸­åˆ›å»ºÂ <code>commands</code>Â ç›®å½•ï¼š</p>
<p>BASH</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> hepingfly-plugin/commands
</code></pre>
<p>ç„¶åæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª hello.md ï¼ŒåŠŸèƒ½éå¸¸ç®€å•ï¼Œæˆ‘ä»¬è®©å®ƒæ‰“å°ä¸€å¥ã€Œhepingfly ä½ å¥½ï¼Œ2026 ä¸€è·¯å‘å‘å‘ã€</p>
<p><code>hepingfly-plugin/commands/hello.md</code>ï¼š</p>
<p>PLAIN</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-attr">description:</span> <span class="hljs-string">æ‰“å°</span> <span class="hljs-string">hello</span> <span class="hljs-string">hepingfly</span>
<span class="hljs-meta">---</span>
<span class="hljs-string">è¯´ï¼Œhepingfly</span> <span class="hljs-string">ä½ å¥½ï¼Œ2026</span> <span class="hljs-string">ä¸€è·¯å‘å‘å‘</span>
</code></pre>
<p><strong>æµ‹è¯•æ’ä»¶æ˜¯å¦èƒ½æ­£å¸¸æ‰§è¡Œï¼Ÿ</strong></p>
<p>ä½¿ç”¨ä¸‹é¢è¿™æ¡å‘½ä»¤å»æŒ‡å®š Claude Code åŠ è½½æ’ä»¶çš„ä½ç½®ã€‚</p>
<p>Claude Code çš„æ’ä»¶ç³»ç»Ÿéœ€è¦çŸ¥é“å»å“ªé‡ŒåŠ è½½æ’ä»¶ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒClaude Code åªä¼šåœ¨ç‰¹å®šçš„é»˜è®¤ç›®å½•ä¸­æŸ¥æ‰¾æ’ä»¶ã€‚</p>
<p>è€Œæˆ‘ä»¬çš„æ’ä»¶æ”¾åœ¨é¡¹ç›®ç›®å½• hepingfly-plugin ä¸­ï¼ŒClaude Code å¯åŠ¨æ—¶å¹¶ä¸çŸ¥é“è¿™ä¸ªä½ç½®ï¼Œæ‰€ä»¥éœ€è¦æ˜¾ç¤ºæŒ‡å®šä¸€ä¸‹</p>
<p>PLAIN</p>
<pre><code class="hljs language-bash" lang="bash">claude --plugin-dir ./hepingfly-plugin
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2e1feb857394eccab9c66537db38412~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZKM5bmzaGVwaW5nZmx5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770114561&amp;x-signature=ziwGyyU6Jb5obadvSY%2BUmpZMHcE%3D" alt="img" loading="lazy"/></p>
<p>Claude Code å¯åŠ¨åï¼Œå°±èƒ½å¤ŸåŠ è½½å‡ºæ¥æˆ‘ä»¬çš„æ’ä»¶äº†ã€‚æ•²ä¸ªæ–œæ å°±èƒ½è”æƒ³å‡ºæˆ‘ä»¬æ’ä»¶çš„åå­—ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3ea7ecc30c34261bd59e863177e7d94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZKM5bmzaGVwaW5nZmx5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770114561&amp;x-signature=D1cN04H7bsNsYWDFhNH5kbxtGco%3D" alt="img" loading="lazy"/></p>
<p><strong>æ‰§è¡Œç»“æœï¼š</strong></p>
<p>è·Ÿæˆ‘ä»¬é¢„æœŸçš„ä¸€è‡´ï¼Œè¯´æ˜æˆ‘ä»¬è¿™ä¸ªæ’ä»¶å°±å¼€å‘æˆåŠŸäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca6ec9d1eea047b2b17b1c9a60a74d99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZKM5bmzaGVwaW5nZmx5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770114561&amp;x-signature=5aPIxsO1ErVzbzDYVxRFgKbBHhI%3D" alt="img" loading="lazy"/></p>
<p>åˆ°è¿™é‡Œï¼Œå°±å®Œæˆäº†ç¬¬ä¸€ä¸ªå…¥é—¨ Claude æ’ä»¶ï¼Œåé¢ä½ å¯ä»¥ç»§ç»­æ¥ skills / subagent / MCPã€‚</p>
<p>ç­‰ä¸‹ä¸€ç¯‡å†ç»§ç»­åˆ†äº«ï¼Œæœ‰ä»»ä½•é—®é¢˜æ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸æœ¬åœ°ollamaæ¨¡å‹å¯¹è¯]]></title>    <link>https://juejin.cn/post/7599630795805605934</link>    <guid>https://juejin.cn/post/7599630795805605934</guid>    <pubDate>2026-01-27T10:18:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599630795805605934" data-draft-id="7599835610405830702" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸æœ¬åœ°ollamaæ¨¡å‹å¯¹è¯"/> <meta itemprop="keywords" content="Visual Studio Code"/> <meta itemprop="datePublished" content="2026-01-27T10:18:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹¥æ„š79"/> <meta itemprop="url" content="https://juejin.cn/user/2649162517852320"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸æœ¬åœ°ollamaæ¨¡å‹å¯¹è¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2649162517852320/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹¥æ„š79
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T10:18:33.000Z" title="Tue Jan 27 2026 10:18:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸æœ¬åœ°ollamaæ¨¡å‹å¯¹è¯</h2>
<p>æœ¬ç« æˆ‘ä»¬å°†å®Œå–„å¯¹è¯ç•Œé¢ï¼Œå°†webviewç«¯é€‰ä¸­çš„æ¨¡å‹å’Œè¾“å…¥çš„å¯¹è¯æ¶ˆæ¯å‘é€è‡³extension hostç«¯ã€‚ç„¶ååœ¨extension hostç«¯è°ƒç”¨ollama APIä¸æ¨¡å‹è¿›è¡Œå¯¹è¯ï¼Œè·å–æ¨¡å‹è¿”å›æ¶ˆæ¯ï¼Œè§£æåå†™å…¥æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-1">å®šä¹‰æ–°çš„proto</h3>
<p>é¦–å…ˆæˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªmessage.protoï¼Œç”¨æ¥æè¿°è¦å‘é€åˆ°extension hostç«¯çš„æ¶ˆæ¯ï¼Œè¯¥æ¨¡å‹ä¹Ÿç”¨æ¥åœ¨webviewä¸Šæ˜¾ç¤ºå‘é€å’Œæ¥æ”¶åˆ°çš„æ¶ˆæ¯ã€‚</p>
<p><strong>proto/minicline/message.proto</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">syntax</span> = <span class="hljs-string">"proto3"</span><span class="hljs-comment">;</span>

package minicline<span class="hljs-comment">;</span>

message Message {
    string <span class="hljs-attr">content</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
    MessageOwn <span class="hljs-attr">owner</span> = <span class="hljs-number">2</span><span class="hljs-comment">;</span>
}

enum MessageOwn {
    <span class="hljs-attr">SYSTEM</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">ASSISTANT</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">USER</span> = <span class="hljs-number">2</span><span class="hljs-comment">;</span>
}
</code></pre>
<p>ç„¶åæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªtask.protoï¼Œå…¶ä¸­çš„newTaskè°ƒç”¨ç”¨æ¥å°†æˆ‘ä»¬æ”¶é›†åˆ°çš„æ¨¡å‹åå­—å’Œå¯¹è¯æ¶ˆæ¯å‘é€ç»™extension hostç«¯ã€‚</p>
<p><strong>proto/minicline/task.proto</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">syntax</span> = <span class="hljs-string">"proto3"</span><span class="hljs-comment">;</span>

package minicline<span class="hljs-comment">;</span>

import "minicline/common.proto"<span class="hljs-comment">;</span>

service TaskService {
  rpc newTask(NewTaskRequest) returns (String)<span class="hljs-comment">;</span>
}

message NewTaskRequest {
  string <span class="hljs-attr">model</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
  string <span class="hljs-attr">text</span> = <span class="hljs-number">2</span><span class="hljs-comment">;</span>
}
</code></pre>
<p>åŒæ ·ï¼Œæˆ‘ä»¬éœ€è¦å¯¼å‡ºnewTaskå‡½æ•°æ¥ä½œä¸ºTaskService.newTaskçš„å¤„ç†å‡½æ•°ã€‚è¿™é‡Œæˆ‘ä»¬å…ˆç®€å•çš„æ‰“å°æ”¶åˆ°modelå’Œtextä¿¡æ¯ï¼Œç„¶åè¿”å›ä¸€ä¸ªè™šå‡çš„taskID.</p>
<p><strong>src/core/controller/task/newTask.ts</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NewTaskRequest</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/shared/proto/minicline/task"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Controller</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">".."</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">String</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@shared/proto/minicline/common"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">newTask</span>(<span class="hljs-params">controller: Controller, request: NewTaskRequest</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">String</span>&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(request);
    <span class="hljs-keyword">const</span> taskId = <span class="hljs-string">"fakeTaskId"</span>;
	<span class="hljs-keyword">return</span> <span class="hljs-title class_">String</span>.<span class="hljs-title function_">create</span>({ <span class="hljs-attr">value</span>: taskId || <span class="hljs-string">""</span> });
}
</code></pre>
<p>è¿è¡Œ<strong>npm run proto</strong>ç¼–è¯‘ã€‚</p>
<h3 data-id="heading-2">æ›´æ–°webviewç•Œé¢</h3>
<p>è®©æˆ‘ä»¬åœ¨webviewçš„ä¸­é—´åŒºåŸŸæ·»åŠ æ¶ˆæ¯åˆ—è¡¨ï¼Œç”¨æ¥æ˜¾ç¤ºæˆ‘ä»¬å‘é€çš„æ¶ˆæ¯å’ŒAIåŠ©æ‰‹è¿”å›çš„æ¶ˆæ¯ã€‚</p>
<p><strong>webview-ui/src/App.tsx</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
...
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [selectedModel, setSelectedModel] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">""</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-attr">initMessages</span>: <span class="hljs-title class_">Message</span>[] = [<span class="hljs-title class_">Message</span>.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">content</span>: <span class="hljs-string">"ä½ å¥½ï¼Œæˆ‘æ˜¯ä½ çš„AIç¼–ç¨‹åŠ©æ‰‹MiniCline"</span>,
    <span class="hljs-attr">owner</span>:<span class="hljs-title class_">MessageOwn</span>.<span class="hljs-property">ASSISTANT</span>
  })];

  <span class="hljs-keyword">const</span> [messages, setMessages] = <span class="hljs-title function_">useState</span>(initMessages);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"container"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"top"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ModelBar</span> <span class="hljs-attr">selectedModel</span>=<span class="hljs-string">{selectedModel}</span> <span class="hljs-attr">selectModel</span>=<span class="hljs-string">{setSelectedModel}/</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Messages</span> <span class="hljs-attr">messages</span>=<span class="hljs-string">{messages}</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bottom"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Chatbox</span> 
        <span class="hljs-attr">selectedModel</span>=<span class="hljs-string">{selectedModel}</span>
        <span class="hljs-attr">messages</span>=<span class="hljs-string">{messages}</span>
        <span class="hljs-attr">setMessages</span>=<span class="hljs-string">{setMessages}/</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
...
</code></pre>
<p>æˆ‘ä»¬åœ¨ä¸»ç¨‹åºåˆå§‹åŒ–é€‰ä¸­çš„æ¨¡å‹å’Œæ¶ˆæ¯åˆ—è¡¨çš„çŠ¶æ€ï¼Œç„¶åä¼ é€’ç»™å…¶ä»–ç»„ä»¶å…±äº«çŠ¶æ€ã€‚</p>
<p><strong>webview-ui/src/components/message/message.tsx</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">...
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Messages</span>(<span class="hljs-params">{ messages }: { messages: Message[] }</span>) {

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
            {messages?.map((message: Message) =&gt; (
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{message.owner</span> === <span class="hljs-string">MessageOwn.USER</span> ? "<span class="hljs-attr">message_user</span>" <span class="hljs-attr">:</span> "<span class="hljs-attr">message</span>"}&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"texts"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{message.content}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            ))}
        <span class="hljs-tag">&lt;/&gt;</span></span>
    );
}
...
</code></pre>
<p><strong>webview-ui/src/components/models/models.tsx</strong></p>
<pre><code class="hljs language-ini" lang="ini">...
function ModelBar({ selectedModel, selectModel }: { selectedModel: string, selectModel: Function }) {
    ...
    const <span class="hljs-attr">handleListModelsMessage</span> = useCallback(
        async () =&gt; {
            const result: <span class="hljs-attr">StringArray</span> = await OllamaServiceClient.listModels(EmptyRequest.create())<span class="hljs-comment">;</span>
            ...
            selectModel(result.values<span class="hljs-section">[0]</span>)<span class="hljs-comment">;</span>
        }, <span class="hljs-section">[models]</span>
    )<span class="hljs-comment">;</span>
    return (
        ...
                &lt;VSCodeDropdown <span class="hljs-attr">id</span>=<span class="hljs-string">"models"</span> className=<span class="hljs-string">"modellist"</span> <span class="hljs-literal">on</span>Change={(e: any) =&gt; selectModel(e.target._value)}&gt;
        ...
    )<span class="hljs-comment">;</span>
}
...
</code></pre>
<p><strong>webview-ui/src/components/chat/chat.tsx</strong></p>
<pre><code class="hljs language-ini" lang="ini">...
function Chatbox({ selectedModel, messages, setMessages }: { selectedModel: string, messages: Message<span class="hljs-section">[]</span>, setMessages: Function }) {
    const <span class="hljs-section">[taskId, setTaskId]</span> = useState("")<span class="hljs-comment">;</span>
    const <span class="hljs-section">[content, setContent]</span> = useState("")<span class="hljs-comment">;</span>

    const <span class="hljs-attr">handleNewTaskMessage</span> = useCallback(
        async (model: string, text: string) =&gt; {
            const taskId: <span class="hljs-attr">String</span> = await TaskServiceClient.newTask(NewTaskRequest.create({
                model: model,
                text: text
            }))<span class="hljs-comment">;</span>
            setTaskId(taskId.value)<span class="hljs-comment">;</span>
            setMessages(<span class="hljs-section">[...messages, Message.create({
                content: text,
                owner: MessageOwn.USER
            })]</span>)<span class="hljs-comment">;</span>
            setContent("")<span class="hljs-comment">;</span>
        }, <span class="hljs-section">[taskId, messages]</span>
    )<span class="hljs-comment">;</span>

    const <span class="hljs-attr">onSend</span> = () =&gt; {
        handleNewTaskMessage(selectedModel, content)<span class="hljs-comment">;</span>
    }<span class="hljs-comment">;</span>

    return (
        &lt;&gt;
            &lt;div <span class="hljs-attr">className</span>=<span class="hljs-string">"chat-box"</span>&gt;
                &lt;div&gt;
                    &lt;VSCodeTextArea <span class="hljs-attr">className</span>=<span class="hljs-string">"chatinput"</span>
                        <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"say hello"</span>
                        <span class="hljs-attr">value</span>={content}
                        <span class="hljs-attr">onChange</span>={(e: any) =&gt; setContent(e.target._value)}&gt;
                    &lt;/VSCodeTextArea&gt;
                &lt;/div&gt;
                &lt;div <span class="hljs-attr">className</span>=<span class="hljs-string">"button-container"</span>&gt;
                    &lt;div&gt;
                        &lt;span <span class="hljs-attr">className</span>=<span class="hljs-string">"codicon codicon-send"</span> <span class="hljs-literal">on</span>Click={<span class="hljs-literal">on</span>Send}&gt;&lt;/span&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/&gt;
    )<span class="hljs-comment">;</span>
}
...
</code></pre>
<p>åœ¨chatboxä¸­æˆ‘ä»¬å°†è¾“å…¥çš„æ–‡æœ¬å’Œå½“å‰é€‰ä¸­çš„æ¨¡å‹å‘é€ç»™extension hostï¼Œè®°å½•è¿”å›çš„taskIDï¼Œç„¶åå°†æ¶ˆæ¯æ·»åŠ åˆ°æ¶ˆæ¯åˆ—è¡¨ä¸­å¹¶ä¸”æ¸…ç©ºè¾“å…¥æ¡†ã€‚</p>
<p>è¿è¡Œ<strong>npm run build:webview</strong>é‡æ–°ç¼–è¯‘reactåº”ç”¨ï¼Œå¯åŠ¨æ’ä»¶é¡¹ç›®ï¼Œç¡®ä¿æœ¬åœ°ollamaå·²ç»å¯åŠ¨ï¼Œè¾“å…¥ä¸€äº›æ¶ˆæ¯ç‚¹å‡»å‘é€å›¾æ ‡ï¼Œå¦‚æœä¸€åˆ‡æ­£å¸¸å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/951592374ef14c97a2180a18388e2d3a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iul5oSaNzk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770113912&amp;x-signature=gSKNsb5dfm1r9jcHHUQh0h6onJg%3D" alt="chapter-6-1.png" loading="lazy"/></p>
<h3 data-id="heading-3">æ·»åŠ æ–°çš„ç¬¬ä¸‰æ–¹åº“ç”¨äºä¸Ollamaå¯¹è¯</h3>
<p><strong>package.json</strong></p>
<pre><code class="hljs language-perl" lang="perl">{
  <span class="hljs-string">"devDependencies"</span>: {
    ...
    <span class="hljs-string">"@types/clone-deep"</span>: <span class="hljs-string">"^4.0.4"</span>,
    ...
  },
  <span class="hljs-string">"dependencies"</span>: {
    ...
    <span class="hljs-string">"@anthropic-ai/sdk"</span>: <span class="hljs-string">"^0.37.0"</span>,
    <span class="hljs-string">"ollama"</span>: <span class="hljs-string">"^0.5.13"</span>,
    <span class="hljs-string">"clone-deep"</span>: <span class="hljs-string">"^4.0.1"</span>,
    ...
  }
}
</code></pre>
<p>æˆ‘ä»¬å¼•å…¥äº†@anthropic-aiåŒ…é‡Œè¾¹å®šä¹‰å¥½çš„æ•°æ®ç»“æ„ï¼ŒåŒæ—¶å¼•å…¥ollamaåº“ç”¨äºä¸æœ¬åœ°æœåŠ¡å¯¹è¯ã€‚clone-deepç”¨æ¥æ·±åº¦æ‹·è´æµå¼å¤„ç†è¿‡ç¨‹ä¸­çš„æ•°æ®ã€‚è¿è¡Œ<strong>npm run install:all</strong>å®‰è£…ä¾èµ–.</p>
<h3 data-id="heading-4">ä¸æœ¬åœ°Ollamaå¯¹è¯</h3>
<p>æˆ‘ä»¬é¦–å…ˆåœ¨controllerç±»ä¸­æ·»åŠ ä¸€ä¸ªinitTaskæ–¹æ³•ï¼Œåœ¨newTaskæ¥æ”¶åˆ°webviewçš„æ¨¡å‹å’Œå¯¹è¯å†…å®¹åè°ƒç”¨è¯¥æ–¹æ³•å¼€å§‹ä¸€ä¸ªæ–°çš„ä»»åŠ¡ã€‚å¼€å§‹æ–°ä»»åŠ¡çš„ä»£ç å¦‚ä¸‹ã€‚</p>
<p><strong>src/core/controller/task/index.ts</strong></p>
<pre><code class="hljs language-typescript" lang="typescript">...
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Task</span> {
    ...
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">...</span>) {
        ...
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">api</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OllamaHandler</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">model</span>);
    };

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">startTask</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
        <span class="hljs-keyword">const</span> <span class="hljs-attr">processedUserContent</span>: <span class="hljs-title class_">Anthropic</span>.<span class="hljs-property">TextBlockParam</span>[] = [
            {
                <span class="hljs-attr">type</span>: <span class="hljs-string">"text"</span>,
                <span class="hljs-attr">text</span>: <span class="hljs-string">`&lt;task&gt;\n<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.task}</span>\n&lt;/task&gt;`</span>,
            }
        ];
        processedUserContent.<span class="hljs-title function_">push</span>({
            <span class="hljs-attr">type</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-attr">text</span>: <span class="hljs-title class_">FocusChainPrompts</span>.<span class="hljs-property">recommended</span>,
        });

        <span class="hljs-keyword">const</span> stream = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attemptApiRequest</span>(processedUserContent);
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> chunk <span class="hljs-keyword">of</span> stream) {
                <span class="hljs-keyword">switch</span> (chunk.<span class="hljs-property">type</span>) {
                    ...
                    <span class="hljs-keyword">case</span> <span class="hljs-string">"text"</span>: {
                        assistantMessage += chunk.<span class="hljs-property">text</span>;
                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">assistantMessageContent</span> = <span class="hljs-title function_">parseAssistantMessageV2</span>(assistantMessage);
                        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">presentAssistantMessage</span>();
                        <span class="hljs-keyword">break</span>;
                    }
                }
            }
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error);
        }
        ...
    }

    <span class="hljs-keyword">async</span> *<span class="hljs-title function_">attemptApiRequest</span>(<span class="hljs-attr">processedUserContent</span>: <span class="hljs-title class_">Anthropic</span>.<span class="hljs-property">TextBlockParam</span>[]): <span class="hljs-title class_">ApiStream</span> {
        <span class="hljs-keyword">const</span> systemPrompt = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getSystemPrompt</span>();

        <span class="hljs-keyword">const</span> <span class="hljs-attr">userMessages</span>: <span class="hljs-title class_">Anthropic</span>.<span class="hljs-property">MessageParam</span>[] = [{
            <span class="hljs-attr">role</span>: <span class="hljs-string">"user"</span>,
            <span class="hljs-attr">content</span>: processedUserContent
        }];

        <span class="hljs-comment">// Response API requires native tool calls to be enabled</span>
        <span class="hljs-keyword">const</span> stream = <span class="hljs-variable language_">this</span>.<span class="hljs-property">api</span>.<span class="hljs-title function_">createMessage</span>(systemPrompt, userMessages);
        <span class="hljs-keyword">const</span> iterator = stream[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">asyncIterator</span>]();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> firstChunk = <span class="hljs-keyword">await</span> iterator.<span class="hljs-title function_">next</span>();
            <span class="hljs-keyword">yield</span> firstChunk.<span class="hljs-property">value</span>;
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error);
        }
        <span class="hljs-keyword">yield</span>* iterator;
    }

    <span class="hljs-keyword">async</span> <span class="hljs-title function_">presentAssistantMessage</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">const</span> block = <span class="hljs-title function_">cloneDeep</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">assistantMessageContent</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentStreamingContentIndex</span>]);
        <span class="hljs-keyword">if</span> (block) {
            <span class="hljs-keyword">switch</span> (block.<span class="hljs-property">type</span>) {
                ...
                <span class="hljs-keyword">case</span> <span class="hljs-string">"tool_use"</span>:
                    <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeTool</span>(block);
                    <span class="hljs-keyword">break</span>;
            }
            ...
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">executeTool</span>(<span class="hljs-attr">block</span>: <span class="hljs-title class_">ToolUse</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
        <span class="hljs-keyword">if</span> (block.<span class="hljs-property">params</span>.<span class="hljs-property">path</span> &amp;&amp; block.<span class="hljs-property">params</span>.<span class="hljs-property">content</span>) {
            <span class="hljs-keyword">const</span> filePath = path.<span class="hljs-title function_">join</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cwd</span>, block.<span class="hljs-property">params</span>.<span class="hljs-property">path</span>);
            <span class="hljs-comment">// å°†å†…å®¹å†™å…¥æ–‡ä»¶</span>
            <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">writeFile</span>(filePath, block.<span class="hljs-property">params</span>.<span class="hljs-property">content</span>, <span class="hljs-string">'utf-8'</span>);
        }
    }
}

</code></pre>
<p>æˆ‘ä»¬åœ¨startTaskè°ƒç”¨attemptApiRequestä¸æœ¬åœ°Ollamaå¯¹è¯,ä½¿ç”¨å‡†å¤‡å¥½çš„ç³»ç»Ÿæç¤ºè¯å’Œç”¨æˆ·æç¤ºè¯è§„èŒƒæ¨¡å‹è¿”å›è¾“å‡ºã€‚ç„¶åå¾ªç¯è¯»å–å¯¹è¯è¾“å‡ºæµçš„å†…å®¹ï¼Œä½¿ç”¨parseAssistantMessageV2è§£æç‰¹å®šå†…å®¹ã€‚å½“åŒ¹é…åˆ°write_to_fileæ ‡ç­¾æ—¶è°ƒç”¨æœ¬åœ°å·¥å…·å†™å…¥æ–‡ä»¶ã€‚å†™åˆ°è¿™é‡Œæˆ‘ä»¬å¯ä»¥çŸ¥é“ç±»ä¼¼clineä¹‹ç±»çš„æœ¬åœ°agentæ˜¯ååˆ†ä¾èµ–äºæ¨¡å‹çš„è¾“å‡ºå†…å®¹çš„ã€‚å½“æ¨¡å‹æ­£ç¡®æŒ‰ç…§æˆ‘ä»¬çš„ç³»ç»Ÿæç¤ºè¯è¾“å‡ºå†…å®¹æ—¶ï¼Œè¿”å›å·®ä¸å¤šå¦‚ä¸‹ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">&lt;write_to_file&gt;
&lt;path&gt;hello<span class="hljs-selector-class">.c</span>&lt;/path&gt;
&lt;<span class="hljs-attribute">content</span>&gt;<span class="hljs-selector-id">#include</span> &amp;lt;stdio<span class="hljs-selector-class">.h</span>&amp;gt;

int <span class="hljs-selector-tag">main</span>() {
    <span class="hljs-built_in">printf</span>("Hello, World!\\n");
    return <span class="hljs-number">0</span>;
}
&lt;/<span class="hljs-attribute">content</span>&gt;
&lt;task_progress&gt;
- <span class="hljs-selector-attr">[x]</span> åˆ›å»ºCè¯­è¨€Hello Worldç¨‹åºæ–‡ä»¶
- <span class="hljs-selector-attr">[x]</span> ç¼–å†™åŒ…å«æ ‡å‡†è¾“å…¥è¾“å‡ºåº“çš„ä»£ç 
- <span class="hljs-selector-attr">[x]</span> å®ç°<span class="hljs-selector-tag">main</span>å‡½æ•°
- <span class="hljs-selector-attr">[x]</span> æ·»åŠ æ‰“å°"Hello, World!"è¯­å¥
- <span class="hljs-selector-attr">[x]</span> è¿”å›<span class="hljs-number">0</span>è¡¨ç¤ºç¨‹åºæˆåŠŸç»“æŸ
&lt;/task_progress&gt;
&lt;/write_to_file&gt;
</code></pre>
<p>è¿™æ—¶å€™æˆ‘ä»¬ä¼šè§£æ&lt;write_to_file&gt;ä¸­çš„å†…å®¹ï¼Œä»pathè·å–æ–‡ä»¶åï¼Œä»contentè·å–æ–‡ä»¶å†…å®¹ï¼Œç„¶åå†™å…¥workspaceä¸‹çš„è¯¥æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-5">ä½¿ç”¨clineçš„ç¤ºä¾‹æµ‹è¯•</h3>
<p>æ ¹æ®clineå®˜ç½‘çš„ä¾‹å­<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.cline.bot%2Fgetting-started%2Fyour-first-project" target="_blank" title="https://docs.cline.bot/getting-started/your-first-project" ref="nofollow noopener noreferrer">Build Your First Project</a>ï¼Œæˆ‘ä»¬åœ¨vscodeä¸­æ‰“å¼€ä¸€ä¸ªæœ¬åœ°ç›®å½•ï¼Œæ¯”å¦‚c:/git/testvibe, åœ¨æˆ‘webviewä¸­é€‰æ‹©qwen3-coder:latest,åœ¨å¯¹è¯æ¡†è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼Œç‚¹å‡»å‘é€æŒ‰é’®ã€‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">Create</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">simple</span> <span class="hljs-selector-tag">website</span> <span class="hljs-selector-tag">in</span> <span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">single</span> <span class="hljs-selector-tag">HTML</span> <span class="hljs-selector-tag">file</span>. <span class="hljs-selector-tag">It</span> <span class="hljs-selector-tag">should</span> <span class="hljs-selector-tag">have</span>:
<span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">A</span> <span class="hljs-selector-tag">welcome</span> <span class="hljs-selector-tag">message</span> <span class="hljs-selector-tag">saying</span> "<span class="hljs-selector-tag">Hello</span> <span class="hljs-selector-tag">from</span> <span class="hljs-selector-tag">Cline</span>!"
<span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">A</span> <span class="hljs-selector-tag">colorful</span> <span class="hljs-selector-tag">gradient</span> <span class="hljs-selector-tag">background</span>
<span class="hljs-selector-tag">-</span> <span class="hljs-selector-tag">A</span> <span class="hljs-selector-tag">button</span> <span class="hljs-selector-tag">that</span> <span class="hljs-selector-tag">cycles</span> <span class="hljs-selector-tag">through</span> <span class="hljs-selector-tag">different</span> <span class="hljs-selector-tag">color</span> <span class="hljs-selector-tag">themes</span> <span class="hljs-keyword">when</span> clicked
- Modern, clean design
- All CSS <span class="hljs-keyword">and</span> JavaScript should be included in the same HTML file
</code></pre>
<p>å¦‚æœä¸€åˆ‡è¿è¡Œæ­£å¸¸ï¼ˆåœ¨æˆ‘æœ¬æœºå·®ä¸å¤šè¿è¡Œäº†2åˆ†å¤šç§ï¼‰ï¼Œä¼šåœ¨workspaceç›®å½•ä¸‹ç”Ÿæˆindex.html,é¢„è§ˆæ•ˆæœå¦‚ä¸‹ï¼Œç‚¹å‡»æŒ‰é’®å¯ä»¥åˆ‡æ¢ä¸»é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b37b7cb586914f199601eb0c0cca3a15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Iul5oSaNzk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770113912&amp;x-signature=6ByJhvzPKd76bA%2BX%2FE0Wh0TtpC4%3D" alt="chapter-6-2.png" loading="lazy"/></p>
<h3 data-id="heading-6">æ€»ç»“</h3>
<p>ç³»åˆ—å…¥é—¨æ•™ç¨‹åˆ°æ­¤å‘Šä¸€æ®µè½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptçš„æ•°æ®ç±»å‹ â€”â€” Undefinedç±»å‹]]></title>    <link>https://juejin.cn/post/7599852579067281423</link>    <guid>https://juejin.cn/post/7599852579067281423</guid>    <pubDate>2026-01-27T09:24:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599852579067281423" data-draft-id="7599852579067084815" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptçš„æ•°æ®ç±»å‹ â€”â€” Undefinedç±»å‹"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-27T09:24:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ©˜æœµ"/> <meta itemprop="url" content="https://juejin.cn/user/1099989273025416"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptçš„æ•°æ®ç±»å‹ â€”â€” Undefinedç±»å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1099989273025416/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ©˜æœµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T09:24:39.000Z" title="Tue Jan 27 2026 09:24:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ JavaScript ä¸­ï¼Œ<code>Undefined</code>ç±»å‹æ˜¯ä¸€ä¸ªç‰¹æ®Šä¸”åŸºç¡€çš„æ•°æ®ç±»å‹ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå˜é‡æœ€åŸå§‹çš„è‡ªç„¶çŠ¶æ€â€”â€”"æœªå®šä¹‰"ã€‚</p>
<p>Undefinedç±»å‹åªæœ‰ä¸€ä¸ªå€¼ï¼Œå°±æ˜¯ <code>undefined</code>ã€‚</p>
<p>å½“ä½¿ç”¨<code>var</code>æˆ–<code>let</code>å£°æ˜äº†å˜é‡ä½†æ²¡æœ‰åˆå§‹åŒ–æ—¶ï¼Œå°±ç›¸å½“äºç»™å˜é‡èµ‹äºˆäº†<code>undefined</code>å€¼ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> message;  
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message == <span class="hljs-literal">undefined</span>); <span class="hljs-comment">// true </span>
<span class="hljs-comment">//ç­‰äº</span>
<span class="hljs-keyword">let</span> message = <span class="hljs-literal">undefined</span> ; <span class="hljs-comment">//é»˜è®¤æƒ…å†µä¸‹ï¼Œä»»ä½•æœªç»åˆå§‹åŒ–çš„å˜é‡éƒ½ä¼šå–å¾—undefinedå€¼ï¼Œå› æ­¤ï¼Œä¸å¿…æ˜¾å¼çš„åˆå§‹åŒ–ä¸ºundefinedã€‚</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message == <span class="hljs-literal">undefined</span>); <span class="hljs-comment">// true </span>
</code></pre>
<p>å¯ä»¥é€šè¿‡ typeofæ“ä½œç¬¦æ¥ç¡®è®¤ä¸€ä¸ªå˜é‡æ˜¯å¦ä¸º Undefinedç±»å‹ã€‚æ— è®ºæ˜¯å£°æ˜è¿˜æ˜¯æœªå£°æ˜ï¼Œ<code>typeof</code>è¿”å›çš„éƒ½æ˜¯å­—ç¬¦ä¸²"<code>undefined</code>"ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å˜é‡è¢«å£°æ˜äº†ï¼Œä½†æœªåˆå§‹åŒ–ï¼Œå€¼ä¸º undefined </span>
<span class="hljs-keyword">let</span> message; 

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message); <span class="hljs-comment">// "undefined"  </span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(age); <span class="hljs-comment">// æ²¡æœ‰å£°æ˜å˜é‡,æŠ¥é”™</span>

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> message); <span class="hljs-comment">// "undefined" </span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> age); <span class="hljs-comment">// "undefined"</span>

<span class="hljs-comment">//è®¿é—®å¯¹è±¡ä¸å­˜åœ¨çš„å±æ€§</span>
<span class="hljs-keyword">let</span> obj = {};
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">name</span>); <span class="hljs-comment">// undefined</span>

<span class="hljs-comment">//å‡½æ•°æ²¡æœ‰è¿”å›å€¼</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) {} 
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">foo</span>()); <span class="hljs-comment">// undefined</span>

<span class="hljs-comment">//å‡½æ•°å‚æ•°æœªä¼ é€’</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">bar</span>(<span class="hljs-params">param</span>) { 
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(param); 
} 
<span class="hljs-title function_">bar</span>(); <span class="hljs-comment">// undefined</span>

<span class="hljs-comment">//ä½¿ç”¨ void æ“ä½œç¬¦</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">void</span>(<span class="hljs-number">0</span>)); <span class="hljs-comment">// undefined</span>
</code></pre>
<p>ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰è¿›è¡Œæ£€æŸ¥ï¼šä½¿ç”¨ <code>===</code>æ¥ä¸¥æ ¼åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ä¸º <code>undefined</code>ï¼Œé¿å…ä½¿ç”¨ <code>==</code>ï¼ˆå› ä¸º <code>undefined == null</code>ä¸º <code>true</code>ï¼‰ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">if (<span class="hljs-attr">myVar</span> === undefined) { /* å¤„ç† undefined */ }
</code></pre>
<p>å®‰å…¨åœ°è®¿é—®å¯¹è±¡å±æ€§ï¼ˆå¯é€‰é“¾æ“ä½œç¬¦ ?.ï¼‰ï¼šå½“è®¿é—®ä¸€ä¸ªå¯èƒ½ä¸å­˜åœ¨çš„æ·±å±‚åµŒå¥—å±æ€§æ—¶ï¼Œå¯é€‰é“¾æ“ä½œç¬¦å¯ä»¥é¿å…æŠ›å‡ºé”™è¯¯ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">city</span> = user?.address?.city<span class="hljs-comment">; // å¦‚æœ address ä¸å­˜åœ¨ï¼Œåˆ™ city ä¸º undefinedï¼Œè€ŒéæŠ¥é”™ã€‚</span>
</code></pre>
<p>æä¾›é»˜è®¤å€¼ï¼ˆç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ ??ï¼‰ï¼šå½“å˜é‡ä¸º <code>undefined</code>æˆ– <code>null</code>æ—¶ï¼Œç©ºå€¼åˆå¹¶è¿ç®—ç¬¦å¯ä»¥æä¾›ä¸€ä¸ªé»˜è®¤å€¼ã€‚å®ƒä¸ <code>||</code>ä¸åŒï¼Œä¸ä¼šè¿‡æ»¤æ‰å…¶ä»–å‡å€¼ï¼ˆå¦‚ <code>0</code>, <code>""</code>ï¼‰ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">displayName</span> = username ?? <span class="hljs-string">"åŒ¿åç”¨æˆ·"</span><span class="hljs-comment">; // ä»…åœ¨ username æ˜¯ null æˆ– undefined æ—¶ä½¿ç”¨é»˜è®¤å€¼ã€‚</span>
</code></pre>
<p>å®‰å…¨çš„ç±»å‹æ£€æŸ¥ï¼šå¦‚æœè¦æ£€æŸ¥ä¸€ä¸ªå¯èƒ½æœªå£°æ˜çš„å˜é‡ï¼ˆç›´æ¥ä½¿ç”¨ä¼šæŠ¥å¼•ç”¨é”™è¯¯ï¼‰ï¼Œä½¿ç”¨ <code>typeof</code>æ˜¯æœ€å®‰å…¨çš„æ–¹å¼ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> someUndeclaredVar === <span class="hljs-string">'undefined'</span>) {
  <span class="hljs-comment">// ä¸ä¼šæŠ¥é”™ï¼Œå³ä½¿ someUndeclaredVar ä»æœªè¢«å£°æ˜ã€‚</span>
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»â€œä½¿ç”¨AIæœåŠ¡â€åˆ°â€œæ‹¥æœ‰AIåŠ©æ‰‹â€ï¼šClawdbotï¼Œä½ çš„ä¸ªäººAIåŸºç¡€è®¾æ–½]]></title>    <link>https://juejin.cn/post/7599630795804622894</link>    <guid>https://juejin.cn/post/7599630795804622894</guid>    <pubDate>2026-01-27T07:41:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599630795804622894" data-draft-id="7599850148055072777" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»â€œä½¿ç”¨AIæœåŠ¡â€åˆ°â€œæ‹¥æœ‰AIåŠ©æ‰‹â€ï¼šClawdbotï¼Œä½ çš„ä¸ªäººAIåŸºç¡€è®¾æ–½"/> <meta itemprop="keywords" content="å¼€æº"/> <meta itemprop="datePublished" content="2026-01-27T07:41:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å‚æŠ€æœ¯æ€»ç›‘ä¸‹æµ·"/> <meta itemprop="url" content="https://juejin.cn/user/4091714106833577"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»â€œä½¿ç”¨AIæœåŠ¡â€åˆ°â€œæ‹¥æœ‰AIåŠ©æ‰‹â€ï¼šClawdbotï¼Œä½ çš„ä¸ªäººAIåŸºç¡€è®¾æ–½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4091714106833577/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å‚æŠ€æœ¯æ€»ç›‘ä¸‹æµ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T07:41:04.000Z" title="Tue Jan 27 2026 07:41:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Clawdbot æ·±åº¦æŠ€æœ¯è§£æï¼šæ„å»ºå»ä¸­å¿ƒåŒ–çš„ä¸ªäºº AI ç½‘å…³</h2>
<h3 data-id="heading-1">1. æ•´ä½“ä»‹ç»</h3>
<h4 data-id="heading-2">1.1 é¡¹ç›®æ¦‚è§ˆä¸å®šä½</h4>
<p>Clawdbot æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå…¶æ ¸å¿ƒæ˜¯ä¸€ä¸ª<strong>æœ¬åœ°ä¼˜å…ˆã€è‡ªæ‰˜ç®¡çš„ AI åŠ©æ‰‹ç½‘å…³ç³»ç»Ÿ</strong>ã€‚é¡¹ç›®ä»£ç åº“ä½äº <code>clawdbot/clawdbot</code>ï¼Œé€šè¿‡åˆ†æ <code>package.json</code> å’Œæºç ç»“æ„å¯çŸ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ TypeScript æ„å»ºçš„ Node.js åº”ç”¨ç¨‹åºï¼Œé‡‡ç”¨ç°ä»£ JavaScript å·¥å…·é“¾ï¼ˆpnpmã€TypeScriptã€Vitestï¼‰ã€‚é¡¹ç›®è®¾è®¡ç†å¿µé²œæ˜ï¼šå°† AI åŠ©æ‰‹çš„èƒ½åŠ›ä»äº‘ç«¯ä¸­å¿ƒåŒ–æœåŠ¡ä¸­å‰¥ç¦»ï¼Œä¸‹æ²‰åˆ°ç”¨æˆ·ä¸ªäººå¯æ§çš„è®¾å¤‡ä¸Šè¿è¡Œï¼Œå®ç°æ•°æ®ä¸»æƒã€éšç§ä¿æŠ¤å’Œä½å»¶è¿Ÿå“åº”ã€‚</p>
<h4 data-id="heading-3">1.2 æ ¸å¿ƒåŠŸèƒ½ä¸è§£å†³æ–¹æ¡ˆ</h4>
<p><strong>æ ¸å¿ƒä»·å€¼ä¸»å¼ </strong>ï¼šè§£å†³ç”¨æˆ·å¯¹äº‘ç«¯ AI æœåŠ¡çš„ä¸‰å¤§é¡¾è™‘â€”â€”æ•°æ®éšç§ã€æœåŠ¡ä¾èµ–æ€§ä¸äº¤äº’å‰²è£‚ã€‚</p>
<p><strong>é¢ä¸´çš„é—®é¢˜ä¸ç›®æ ‡äººç¾¤</strong>ï¼š</p>
<ul>
<li><strong>é—®é¢˜</strong>ï¼š
<ol>
<li><strong>éšç§æ³„éœ²é£é™©</strong>ï¼šæ•æ„Ÿå¯¹è¯æ•°æ®ä¸Šä¼ è‡³ç¬¬ä¸‰æ–¹æœåŠ¡å™¨ã€‚</li>
<li><strong>æœåŠ¡ä¸å¯æ§</strong>ï¼šå—é™äºæœåŠ¡å•†çš„ç­–ç•¥ã€å®šä»·ä¸å¯ç”¨æ€§ã€‚</li>
<li><strong>äº¤äº’ç¢ç‰‡åŒ–</strong>ï¼šAI åŠ©æ‰‹èƒ½åŠ›åˆ†æ•£åœ¨å„ä¸ªç‹¬ç«‹çš„ App æˆ–ç½‘é¡µä¸­ï¼Œæ— æ³•ç»Ÿä¸€ç®¡ç†ã€‚</li>
</ol>
</li>
<li><strong>ç›®æ ‡äººç¾¤</strong>ï¼šæ³¨é‡éšç§çš„æŠ€æœ¯çˆ±å¥½è€…ã€å¼€å‘è€…ã€å¸Œæœ›å°† AI æ·±åº¦é›†æˆåˆ°ä¸ªæ€§åŒ–å·¥ä½œæµä¸­çš„è¿›é˜¶ç”¨æˆ·ã€‚</li>
</ul>
<p><strong>ä¼ ç»Ÿçš„è§£å†³æ–¹å¼ä¸ Clawdbot çš„åˆ›æ–°</strong>ï¼š</p>
<ul>
<li><strong>ä¼ ç»Ÿæ–¹å¼</strong>ï¼šç”¨æˆ·ä¾èµ– ChatGPTã€Claude ç­‰æœåŠ¡çš„ Web ç•Œé¢æˆ–å®˜æ–¹ APIï¼Œæ•°æ®æµç»æœåŠ¡å•†ï¼Œä¸”äº¤äº’ç¯å¢ƒå—é™ã€‚</li>
<li><strong>Clawdbot æ–¹å¼</strong>ï¼š
<ul>
<li><strong>æœ¬åœ°ç½‘å…³</strong>ï¼šæ ¸å¿ƒé€»è¾‘ (<code>Gateway</code>) åœ¨ç”¨æˆ·è®¾å¤‡ï¼ˆPCã€æœåŠ¡å™¨ã€Raspberry Piï¼‰ä¸Šè¿è¡Œï¼Œæ„æˆâ€œæ§åˆ¶å¹³é¢â€ã€‚æ‰€æœ‰æ¶ˆæ¯è·¯ç”±ã€å·¥å…·è°ƒç”¨ã€ä¼šè¯ç®¡ç†é¦–å…ˆå‘ç”Ÿåœ¨æœ¬åœ°ã€‚</li>
<li><strong>åè®®é€‚é…å™¨</strong>ï¼šä¸º WhatsApp (<code>@whiskeysockets/baileys</code>)ã€Telegram (<code>grammy</code>)ã€Slack (<code>@slack/bolt</code>)ã€Discord ç­‰å¹³å°ç¼–å†™é€‚é…å±‚ï¼Œå°†ä¸åŒåè®®ç»Ÿä¸€ä¸ºå†…éƒ¨äº‹ä»¶ã€‚</li>
<li><strong>ç»Ÿä¸€æ™ºèƒ½ä½“æ¥å£</strong>ï¼šæ— è®ºæ¥è‡ªå“ªä¸ªå¹³å°çš„æ¶ˆæ¯ï¼Œæœ€ç»ˆéƒ½è·¯ç”±åˆ°ç»Ÿä¸€çš„ AI æ™ºèƒ½ä½“ (<code>Agent</code>) å¤„ç†ï¼Œæ™ºèƒ½ä½“å¯ä»¥è°ƒç”¨æœ¬åœ°å·¥å…·ã€è®¿é—®ç½‘ç»œæˆ–ä½¿ç”¨é…ç½®çš„äº‘æ¨¡å‹ï¼ˆå¦‚ OpenAI, Anthropicï¼‰ã€‚</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼š
<ol>
<li><strong>æ•°æ®å¯æ§</strong>ï¼šå¯¹è¯ä¸Šä¸‹æ–‡ã€ä¸ªäººé…ç½®ã€è®¿é—®ä»¤ç‰Œç­‰å­˜å‚¨äºæœ¬åœ°ã€‚</li>
<li><strong>æœåŠ¡ç¨³å®š</strong>ï¼šç½‘å…³æœåŠ¡ä¸å—æœåŠ¡å•†ç•Œé¢å˜åŠ¨å½±å“ï¼Œå¯é…ç½®å¤šä¸ªæ¨¡å‹åå¤‡ã€‚</li>
<li><strong>ä½“éªŒç»Ÿä¸€</strong>ï¼šä¸€ä¸ª AI åŠ©æ‰‹åˆ†èº«å¯åŒæ—¶æœåŠ¡å¤šä¸ªé€šè®¯å¹³å°ã€‚</li>
</ol>
</li>
</ul>
</li>
</ul>
<p><strong>å•†ä¸šä»·å€¼é¢„ä¼°é€»è¾‘</strong>ï¼š</p>
<ul>
<li><strong>ä»£ç ä¸å·¥ç¨‹æˆæœ¬</strong>ï¼šé¡¹ç›®ç»“æ„å¤æ‚ï¼Œæ¶‰åŠå¤šåè®®é€‚é…ã€äº‹ä»¶é©±åŠ¨æ¶æ„ã€æ’ä»¶ç³»ç»Ÿã€ç§»åŠ¨ç«¯é›†æˆç­‰ã€‚è‹¥ä»é›¶å¼€å‘ï¼Œä¸€ä¸ªæˆç†Ÿå›¢é˜Ÿéœ€è¦è‡³å°‘ 12-18 äººæœˆçš„å¯†é›†æŠ•å…¥ã€‚ä¼°ç®—å¼€å‘æˆæœ¬çº¦ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>300</mn><mo separator="true">,</mo><mn>000</mn><mo>âˆ’</mo></mrow><annotation encoding="application/x-tex">300,000 - </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"/><span class="mord">300</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord">000</span><span class="mord">âˆ’</span></span></span></span></span>500,000ã€‚</li>
<li><strong>è¦†ç›–é—®é¢˜ç©ºé—´æ•ˆç›Š</strong>ï¼šå®ƒè§£å†³çš„æ˜¯ä¸€ä¸ª<strong>é›†æˆä¸è‡ªåŠ¨åŒ–</strong>é—®é¢˜ï¼Œè€Œéåˆ›é€ æ–°çš„ AI èƒ½åŠ›ã€‚å…¶ä»·å€¼åœ¨äºå°†å·²æœ‰çš„ AI æ¨¡å‹èƒ½åŠ›ï¼ˆOpenAI/Anthropicï¼‰ä¸ç”¨æˆ·å·²æœ‰çš„é€šè®¯å·¥å…·ï¼ˆWhatsApp/Slackï¼‰æ— ç¼è¿æ¥ï¼Œåˆ›é€ äº†â€œ1+1&gt;2â€çš„æ•ˆç”¨ã€‚å¯¹äºä¸ªä½“ç”¨æˆ·ï¼Œä»·å€¼åœ¨äºéšç§å’Œå®šåˆ¶åŒ–ï¼›å¯¹äºä¼ä¸šï¼Œå¯ä½œä¸ºå†…éƒ¨çŸ¥è¯†åŠ©æ‰‹çš„å®‰å…¨éƒ¨ç½²æ–¹æ¡ˆåŸå‹ã€‚å¸‚åœºè§„æ¨¡å±äºâ€œå¼€å‘è€…å·¥å…·â€ä¸â€œæ•ˆç‡å·¥å…·â€çš„äº¤é›†ï¼Œæ½œåœ¨ç”¨æˆ·é‡åœ¨æ•°ç™¾ä¸‡çº§åˆ«ã€‚</li>
</ul>
<h3 data-id="heading-4">2. è¯¦ç»†åŠŸèƒ½æ‹†è§£</h3>
<h4 data-id="heading-5">2.1 æ ¸å¿ƒåŠŸèƒ½æ¨¡å—</h4>
<p>ä» <code>package.json</code> çš„ <code>files</code> å­—æ®µå’Œæºç ç›®å½•å¯æ¸…æ™°åˆ’åˆ†æ¨¡å—ï¼š</p>
<ol>
<li><strong>ç½‘å…³æ ¸å¿ƒ (<code>src/gateway/</code>)</strong>ï¼šæ¶ˆæ¯è·¯ç”±ã€è¿æ¥ç®¡ç†ã€çŠ¶æ€ç»´æŠ¤çš„æ¢çº½ã€‚</li>
<li><strong>æ¸ é“é€‚é…å±‚ (<code>src/whatsapp/</code>, <code>src/telegram/</code>ç­‰)</strong>ï¼šå°†å„å¹³å° SDK å°è£…æˆç»Ÿä¸€çš„ <code>Channel</code> æ¥å£ã€‚</li>
<li><strong>æ™ºèƒ½ä½“å¼•æ“ (<code>src/agents/</code>)</strong>ï¼šAI äº¤äº’çš„æ ¸å¿ƒï¼Œå¤„ç†æç¤ºè¯ã€è°ƒç”¨æ¨¡å‹ã€ç®¡ç†ä¼šè¯ä¸Šä¸‹æ–‡å’Œå·¥å…·æ‰§è¡Œã€‚</li>
<li><strong>å·¥å…·ç³»ç»Ÿ (<code>src/tools/</code>)</strong>ï¼šæä¾› AI å¯è°ƒç”¨çš„å‡½æ•°ï¼Œå¦‚æµè§ˆå™¨ã€Canvasã€Cron ç­‰ï¼Œæ˜¯æ‰©å±•èƒ½åŠ›çš„åŸºçŸ³ã€‚</li>
<li><strong>ä¼šè¯ä¸çŠ¶æ€ç®¡ç† (<code>src/sessions/</code>)</strong>ï¼šç®¡ç†ç”¨æˆ·å¯¹è¯çš„æŒä¹…åŒ–çŠ¶æ€ï¼Œæ”¯æŒå¤šæ™ºèƒ½ä½“è·¯ç”±ã€‚</li>
<li><strong>æ’ä»¶ SDK (<code>dist/plugin-sdk/</code>)</strong>ï¼šå®šä¹‰æ ‡å‡†æ¥å£ï¼Œå…è®¸ç¬¬ä¸‰æ–¹æ‰©å±•è®¤è¯æä¾›å•†ã€å·¥å…·æˆ–æ¸ é“ã€‚</li>
<li><strong>é…ç½®ä¸å‘å¯¼ (<code>src/config/</code>, <code>src/wizard/</code>)</strong>ï¼šæä¾› <code>clawdbot onboard</code> ç­‰ CLI å‘å¯¼ï¼Œç®€åŒ–å¤æ‚çš„é…ç½®è¿‡ç¨‹ã€‚</li>
<li><strong>é…å¥—åº”ç”¨ (<code>apps/macos/</code>, <code>apps/ios/</code>)</strong>ï¼šæä¾›ç³»ç»Ÿæ‰˜ç›˜åº”ç”¨å’Œç§»åŠ¨ç«¯èŠ‚ç‚¹ï¼Œæ‰©å±•äº¤äº’åœºæ™¯ã€‚</li>
</ol>
<h4 data-id="heading-6">2.2 äº§å“-æŠ€æœ¯è”åŠ¨è§†è§’</h4>
<ul>
<li><strong>â€œå¤šæ™ºèƒ½ä½“â€åŠŸèƒ½</strong>ï¼šæŠ€æœ¯ä¸Šé€šè¿‡ <code>src/sessions/session-store.ts</code> ä¸­çš„ <code>SessionEntry</code> å’Œè·¯ç”±é€»è¾‘å®ç°ã€‚æ¯ä¸ªä¼šè¯ (<code>sessionKey</code>) å¯ä»¥ç»‘å®šåˆ°ä¸åŒçš„ <code>agentId</code>ï¼Œä»è€Œå…³è”ä¸åŒçš„å·¥ä½œç©ºé—´ (<code>workspaceDir</code>) å’Œæ¨¡å‹é…ç½®ï¼Œå®ç°è§’è‰²éš”ç¦»ã€‚</li>
<li><strong>â€œé…å¯¹â€å®‰å…¨ç­–ç•¥</strong>ï¼šåœ¨ <code>src/sessions/</code> ä¸­å®ç°é…å¯¹ç ç”Ÿæˆä¸éªŒè¯é€»è¾‘ï¼Œåªæœ‰ç»æœ¬åœ°ç¡®è®¤çš„ä¼šè¯æ‰èƒ½è¢«æ™ºèƒ½ä½“å¤„ç†ã€‚è¿™è§£å†³äº†è‡ªæ‰˜ç®¡æœºå™¨äººå¯èƒ½è¢«ä»»æ„ç”¨æˆ·æ»¥ç”¨çš„å®‰å…¨é—®é¢˜ã€‚</li>
<li><strong>â€œæ¨¡å‹åå¤‡â€æœºåˆ¶</strong>ï¼šç”± <code>src/agents/model-fallback.js</code> å’Œ <code>agentCommand</code> å‡½æ•°ä¸­çš„ <code>runWithModelFallback</code> é€»è¾‘å®ç°ã€‚å½“ä¸»æ¨¡å‹è®¤è¯å¤±è´¥æˆ–ä¸å¯ç”¨æ—¶ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡é€‰æ¨¡å‹ï¼Œæå‡äº†ç³»ç»Ÿé²æ£’æ€§ã€‚</li>
</ul>
<h3 data-id="heading-7">3. æŠ€æœ¯éš¾ç‚¹æŒ–æ˜</h3>
<ol>
<li><strong>å¼‚æ„åè®®çš„ç»Ÿä¸€æŠ½è±¡</strong>ï¼šä¸åŒ IM åè®®ï¼ˆXMPPã€MTProtoã€è‡ªå®šä¹‰ï¼‰åœ¨è¿æ¥ã€è®¤è¯ã€æ¶ˆæ¯æ ¼å¼ä¸Šå·®å¼‚å·¨å¤§ã€‚éš¾ç‚¹åœ¨äºè®¾è®¡ä¸€ä¸ªè¶³å¤Ÿé€šç”¨çš„å†…éƒ¨ <code>Message</code> å’Œ <code>Channel</code> æ¥å£ï¼Œå¹¶ç¨³å®šå¤„ç†å„ SDK çš„å›è°ƒä¸äº‹ä»¶æµã€‚</li>
<li><strong>é•¿ä¸Šä¸‹æ–‡ä¼šè¯çŠ¶æ€ç®¡ç†</strong>ï¼šAI å¯¹è¯éœ€è¦ç»´æŠ¤å¯èƒ½é•¿è¾¾æ•°ä¸‡ token çš„ä¸Šä¸‹æ–‡ã€‚éš¾ç‚¹åœ¨äºé«˜æ•ˆåœ°å­˜å‚¨ã€æ£€ç´¢ã€æˆªæ–­å’Œåœ¨ä¸åŒä¼šè¯é—´éš”ç¦»è¿™äº›çŠ¶æ€ï¼ŒåŒæ—¶æ”¯æŒéšæ¨¡å‹åˆ‡æ¢è€Œè°ƒæ•´ä¸Šä¸‹æ–‡çª—å£å¤§å°ï¼ˆå‚è€ƒ <code>src/sessions/session-store.ts</code> ä¸­çš„ <code>contextTokens</code> å¤„ç†ï¼‰ã€‚</li>
<li><strong>å·¥å…·è°ƒç”¨çš„å®‰å…¨æ²™ç›’</strong>ï¼šå…è®¸ AI æ‰§è¡Œä»£ç ï¼ˆå¦‚ Python è„šæœ¬ï¼‰ã€è®¿é—®æ–‡ä»¶ç³»ç»Ÿæˆ–ç½‘ç»œæ˜¯å¼ºå¤§ä½†å±é™©çš„åŠŸèƒ½ã€‚éš¾ç‚¹åœ¨äºå®ç°å®‰å…¨çš„æ‰§è¡Œéš”ç¦»ã€èµ„æºé™åˆ¶å’Œæƒé™æ§åˆ¶ã€‚é¡¹ç›®é€šè¿‡æ˜ç¡®çš„å·¥å…·å®šä¹‰å’Œå‚æ•°æ ¡éªŒï¼ˆå¦‚ <code>src/tools/tool.ts</code> ä¸­çš„ <code>ZalouserToolSchema</code>ï¼‰æ¥éƒ¨åˆ†ç¼“è§£ã€‚</li>
<li><strong>åˆ†å¸ƒå¼èŠ‚ç‚¹åè°ƒ</strong>ï¼šåœ¨ macOSã€iOS å¤šè®¾å¤‡é—´åŒæ­¥çŠ¶æ€ã€è½¬å‘è¯­éŸ³æˆ–ç”»å¸ƒæ•°æ®ï¼Œæ¶‰åŠç½‘ç»œå‘ç°ã€ä½å»¶è¿Ÿé€šä¿¡å’Œå†²çªè§£å†³ï¼Œæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿé—®é¢˜ã€‚</li>
<li><strong>OAuth ç­‰å¤æ‚è®¤è¯æµç¨‹çš„æœ¬åœ°åŒ–å¤„ç†</strong>ï¼šä¾‹å¦‚ Gemini CLI çš„ OAuth æµç¨‹ (<code>src/gateway/oauth.js</code>)ï¼Œéœ€è¦åœ¨æœ¬åœ°æœåŠ¡å™¨å¤„ç†å›è°ƒï¼Œå¹¶åœ¨æ— æµè§ˆå™¨ç¯å¢ƒçš„ CLI ä¸­å¼•å¯¼ç”¨æˆ·æˆæƒã€‚</li>
</ol>
<h3 data-id="heading-8">4. è¯¦ç»†è®¾è®¡å›¾</h3>
<h4 data-id="heading-9">4.1 ç³»ç»Ÿæ¶æ„å›¾ (C4 Model - Container Diagram)</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/753eb183a6f84cb2961edfb8d3993465~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5Y6C5oqA5pyv5oC755uR5LiL5rW3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770104463&amp;x-signature=Y6tGC2d%2BtxhUJNfn4rix3FGdf3o%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-10">4.2 æ ¸å¿ƒæ¶ˆæ¯å¤„ç†åºåˆ—å›¾</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant C as Channel (e.g., WhatsApp)
    participant G as Gateway Core
    participant R as Router
    participant S as Session Manager
    participant A as Agent Engine
    participant T as Tool
    participant M as AI Model (Cloud)

    C-&gt;&gt;G: æ”¶åˆ°æ–°æ¶ˆæ¯ (åŸå§‹åè®®æ ¼å¼)
    G-&gt;&gt;G: è§£ç ï¼Œæ ‡å‡†åŒ–ä¸ºå†…éƒ¨ Message äº‹ä»¶
    G-&gt;&gt;R: è·¯ç”±æ¶ˆæ¯ (åŸºäº to/sessionKey/agentId)
    R-&gt;&gt;S: è·å–æˆ–åˆ›å»º SessionEntry
    S-&gt;&gt;A: äº¤ä»˜æ¶ˆæ¯åŠå®Œæ•´ä¼šè¯ä¸Šä¸‹æ–‡
    A-&gt;&gt;A: æ„å»ºæç¤ºè¯ï¼Œ å†³å®šæ˜¯å¦æ€è€ƒ/è°ƒç”¨å·¥å…·
    alt éœ€è¦è°ƒç”¨å·¥å…·
        A-&gt;&gt;T: executeTool(toolCallId, params)
        T-&gt;&gt;T: æ‰§è¡Œï¼ˆå¦‚æŸ¥è¯¢ã€APIè°ƒç”¨ï¼‰
        T--&gt;&gt;A: è¿”å›å·¥å…·æ‰§è¡Œç»“æœ
    end
    A-&gt;&gt;M: è°ƒç”¨æ¨¡å‹ API (æºå¸¦æœ€ç»ˆæç¤º)
    M--&gt;&gt;A: è¿”å›æ¨¡å‹å“åº”
    A-&gt;&gt;S: æ›´æ–°ä¼šè¯å†å²ä¸ç”¨é‡
    S-&gt;&gt;G: æäº¤å›å¤æ¶ˆæ¯
    G-&gt;&gt;C: ç¼–ç ä¸ºåè®®æ ¼å¼å¹¶å‘é€
</code></pre>
<h4 data-id="heading-11">4.3 æ ¸å¿ƒç±»å…³ç³»å›¾ (ç®€åŒ–çš„é¢†åŸŸæ¨¡å‹)</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fcd437152a854879b6f9fbabd8a83d73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5Y6C5oqA5pyv5oC755uR5LiL5rW3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770104463&amp;x-signature=eVn%2BCIRtQAw5PBVrZ5gkUFtd4ko%3D" alt="deepseek_mermaid_20260127_b3e5ca.png" loading="lazy"/></p>
<h3 data-id="heading-12">5. æ ¸å¿ƒå‡½æ•°è§£æ</h3>
<h4 data-id="heading-13">5.1 æ™ºèƒ½ä½“å‘½ä»¤å…¥å£ï¼š<code>agentCommand</code></h4>
<p>è¿™æ˜¯æ•´ä¸ªç³»ç»Ÿæœ€æ ¸å¿ƒçš„æµç¨‹æ§åˆ¶å‡½æ•°ï¼Œä½äº <code>src/agents/agent.ts</code>ã€‚å®ƒåè°ƒäº†ä»æ¥æ”¶æ¶ˆæ¯åˆ°äº¤ä»˜å“åº”çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä»£ç åŸºäº src/agents/agent.ts ç®€åŒ–ä¸æ³¨é‡Š</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">agentCommand</span>(<span class="hljs-params">
  opts: AgentCommandOpts, <span class="hljs-comment">// åŒ…å«æ¶ˆæ¯ã€æ¥æ”¶è€…ã€ä¼šè¯IDã€æ¨¡å‹å‚æ•°ç­‰</span>
  runtime: RuntimeEnv = defaultRuntime,
  deps: CliDeps = createDefaultDeps(),
</span>) {
  <span class="hljs-comment">// 1. è¾“å…¥éªŒè¯ä¸åŸºç¡€å‡†å¤‡</span>
  <span class="hljs-keyword">const</span> body = (opts.<span class="hljs-property">message</span> ?? <span class="hljs-string">""</span>).<span class="hljs-title function_">trim</span>();
  <span class="hljs-keyword">if</span> (!body) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Message (--message) is required"</span>);
  <span class="hljs-comment">// ... éªŒè¯ to, sessionId, agentId è‡³å°‘æœ‰ä¸€ä¸ª</span>

  <span class="hljs-keyword">const</span> cfg = <span class="hljs-title function_">loadConfig</span>(); <span class="hljs-comment">// åŠ è½½ç”¨æˆ·é…ç½®</span>
  <span class="hljs-keyword">const</span> sessionResolution = <span class="hljs-title function_">resolveSession</span>({ cfg, ...opts }); <span class="hljs-comment">// å…³é”®ï¼šè§£æå‡ºå½“å‰ä¼šè¯</span>

  <span class="hljs-keyword">const</span> {
    sessionId,
    sessionKey,
    sessionEntry,
    sessionStore,
    storePath,
    isNewSession,
  } = sessionResolution;

  <span class="hljs-keyword">const</span> runId = opts.<span class="hljs-property">runId</span>?.<span class="hljs-title function_">trim</span>() || sessionId; <span class="hljs-comment">// ç”¨äºè·Ÿè¸ªæœ¬æ¬¡è¿è¡Œçš„å”¯ä¸€ID</span>

  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// 2. æ£€æŸ¥å‘é€ç­–ç•¥ï¼ˆå¦‚DMé…å¯¹æ˜¯å¦é€šè¿‡ï¼‰</span>
    <span class="hljs-keyword">if</span> (opts.<span class="hljs-property">deliver</span> === <span class="hljs-literal">true</span>) {
      <span class="hljs-keyword">const</span> sendPolicy = <span class="hljs-title function_">resolveSendPolicy</span>({ cfg, <span class="hljs-attr">entry</span>: sessionEntry, sessionKey, ... });
      <span class="hljs-keyword">if</span> (sendPolicy === <span class="hljs-string">"deny"</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"send blocked by session policy"</span>);
    }

    <span class="hljs-comment">// 3. ç¡®å®šæ€è€ƒå±‚çº§å’Œè¯¦ç»†çº§åˆ«ï¼ˆç”¨æˆ·è¾“å…¥ &gt; ä¼šè¯å­˜å‚¨ &gt; å…¨å±€é»˜è®¤ï¼‰</span>
    <span class="hljs-keyword">let</span> resolvedThinkLevel = <span class="hljs-comment">/* è®¡ç®—é€»è¾‘ */</span>;
    <span class="hljs-keyword">const</span> resolvedVerboseLevel = <span class="hljs-comment">/* è®¡ç®—é€»è¾‘ */</span>;

    <span class="hljs-comment">// 4. æ³¨å†Œè¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œç”¨äºäº‹ä»¶å‘å°„å’Œæ—¥å¿—å…³è”</span>
    <span class="hljs-keyword">if</span> (sessionKey) {
      <span class="hljs-title function_">registerAgentRunContext</span>(runId, { sessionKey, <span class="hljs-attr">verboseLevel</span>: resolvedVerboseLevel });
    }

    <span class="hljs-comment">// 5. æ„å»ºæˆ–è·å–æŠ€èƒ½å¿«ç…§ï¼ˆç”¨äºç»™AIæä¾›ä¸Šä¸‹æ–‡ï¼‰</span>
    <span class="hljs-keyword">const</span> skillsSnapshot = isNewSession || !sessionEntry?.<span class="hljs-property">skillsSnapshot</span>
      ? <span class="hljs-title function_">buildWorkspaceSkillSnapshot</span>(workspaceDir, ...)
      : sessionEntry?.<span class="hljs-property">skillsSnapshot</span>;

    <span class="hljs-comment">// 6. æ¨¡å‹é€‰æ‹©ä¸åå¤‡é€»è¾‘</span>
    <span class="hljs-keyword">const</span> { <span class="hljs-attr">provider</span>: defaultProvider, <span class="hljs-attr">model</span>: defaultModel } = <span class="hljs-title function_">resolveConfiguredModelRef</span>({ cfg });
    <span class="hljs-keyword">let</span> provider = defaultProvider;
    <span class="hljs-keyword">let</span> model = defaultModel;
    <span class="hljs-comment">// å¤„ç†ä¼šè¯çº§åˆ«çš„æ¨¡å‹è¦†ç›– (sessionEntry.modelOverride)</span>
    <span class="hljs-comment">// å¤„ç†æ¨¡å‹å…è®¸åˆ—è¡¨ (cfg.agents.defaults.models)</span>
    <span class="hljs-comment">// åŠ è½½æ¨¡å‹ç›®å½•ä»¥éªŒè¯å¯ç”¨æ€§</span>

    <span class="hljs-comment">// 7. æ ¸å¿ƒæ‰§è¡Œï¼šè¿è¡ŒåµŒå…¥å¼PIæ™ºèƒ½ä½“æˆ–CLIæ™ºèƒ½ä½“</span>
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">runWithModelFallback</span>({
      cfg,
      provider,
      model,
      <span class="hljs-attr">run</span>: <span class="hljs-keyword">async</span> (providerOverride, modelOverride) =&gt; {
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isCliProvider</span>(providerOverride, cfg)) {
          <span class="hljs-comment">// æ¨¡å¼ï¼šè°ƒç”¨æœ¬åœ°å‘½ä»¤è¡ŒAIå·¥å…·ï¼ˆå¦‚`llm`å‘½ä»¤ï¼‰</span>
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">runCliAgent</span>({ sessionId, <span class="hljs-attr">prompt</span>: body, <span class="hljs-attr">provider</span>: providerOverride, ... });
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-comment">// æ¨¡å¼ï¼šè°ƒç”¨äº‘APIæˆ–æœ¬åœ°æ¨¡å‹åº“ï¼ˆä¸»è¦è·¯å¾„ï¼‰</span>
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">runEmbeddedPiAgent</span>({
            sessionId,
            sessionKey,
            <span class="hljs-attr">prompt</span>: body,
            <span class="hljs-attr">provider</span>: providerOverride,
            <span class="hljs-attr">model</span>: modelOverride,
            <span class="hljs-attr">thinkLevel</span>: resolvedThinkLevel, <span class="hljs-comment">// æ§åˆ¶AIçš„â€œæ€è€ƒâ€æ·±åº¦</span>
            skillsSnapshot, <span class="hljs-comment">// æ³¨å…¥å¯ç”¨æŠ€èƒ½ä¿¡æ¯</span>
            <span class="hljs-attr">streamParams</span>: opts.<span class="hljs-property">streamParams</span>, <span class="hljs-comment">// æ”¯æŒæµå¼å“åº”</span>
            <span class="hljs-attr">onAgentEvent</span>: <span class="hljs-function">(<span class="hljs-params">evt</span>) =&gt;</span> { <span class="hljs-comment">/* å‘å°„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶ */</span> },
          });
        }
      },
    });

    <span class="hljs-comment">// 8. æ›´æ–°ä¼šè¯å­˜å‚¨ï¼ˆè®°å½•ä½¿ç”¨çš„æ¨¡å‹ã€tokenæ¶ˆè€—ç­‰ï¼‰</span>
    <span class="hljs-keyword">if</span> (sessionStore &amp;&amp; sessionKey) {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">updateSessionStoreAfterAgentRun</span>({
        cfg,
        sessionId,
        sessionKey,
        storePath,
        sessionStore,
        <span class="hljs-attr">defaultProvider</span>: provider,
        <span class="hljs-attr">defaultModel</span>: model,
        result, <span class="hljs-comment">// åŒ…å«ç”¨é‡å…ƒæ•°æ®</span>
      });
    }

    <span class="hljs-comment">// 9. äº¤ä»˜ç»“æœï¼ˆæ ¹æ®opts.deliverå†³å®šæ˜¯æ‰“å°åˆ°CLIè¿˜æ˜¯å‘é€å›æ¶ˆæ¯æ¸ é“ï¼‰</span>
    <span class="hljs-keyword">const</span> payloads = result.<span class="hljs-property">payloads</span> ?? [];
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">deliverAgentCommandResult</span>({ cfg, deps, runtime, opts, sessionEntry, result, payloads });

  } <span class="hljs-keyword">finally</span> {
    <span class="hljs-comment">// 10. æ¸…ç†è¿è¡Œæ—¶ä¸Šä¸‹æ–‡</span>
    <span class="hljs-title function_">clearAgentRunContext</span>(runId);
  }
}
</code></pre>
<p><strong>å…³é”®è®¾è®¡è§£æ</strong>ï¼š</p>
<ul>
<li><strong>ä¾èµ–æ³¨å…¥</strong>ï¼šå‡½æ•°æ¥æ”¶ <code>runtime</code> å’Œ <code>deps</code> å‚æ•°ï¼Œä¾¿äºæµ‹è¯•å’Œç¯å¢ƒéš”ç¦»ã€‚</li>
<li><strong>ç»Ÿä¸€çš„ä¼šè¯æŠ½è±¡</strong>ï¼š<code>resolveSession</code> å‡½æ•°å°† <code>to</code> (E.164å·ç )ã€<code>sessionId</code>ã€<code>sessionKey</code>ã€<code>agentId</code> ç­‰å¤šç§æ ‡è¯†ç¬¦ç»Ÿä¸€è§£æä¸ºå†…éƒ¨çš„ <code>sessionKey</code> å’Œ <code>SessionEntry</code>ï¼Œè¿™æ˜¯å®ç°å¤šå¹³å°è·¯ç”±çš„åŸºç¡€ã€‚</li>
<li><strong>æ¨¡å‹åå¤‡æœºåˆ¶</strong>ï¼š<code>runWithModelFallback</code> å°è£…äº†é‡è¯•é€»è¾‘ï¼Œæ˜¯ç³»ç»Ÿå¯é æ€§çš„å…³é”®ã€‚</li>
<li><strong>äº‹ä»¶é©±åŠ¨æ¶æ„</strong>ï¼šé€šè¿‡ <code>onAgentEvent</code> å›è°ƒå‘å°„ç»†ç²’åº¦äº‹ä»¶ï¼ˆæ€è€ƒå¼€å§‹ã€å·¥å…·è°ƒç”¨ã€æµå¼è¾“å‡ºå—ï¼‰ï¼Œä½¿å¾—å¤–éƒ¨ï¼ˆå¦‚UIã€æ—¥å¿—ï¼‰å¯ä»¥å®æ—¶è§‚å¯Ÿæ™ºèƒ½ä½“è¿è¡ŒçŠ¶æ€ã€‚</li>
<li><strong>èµ„æºç”Ÿå‘½å‘¨æœŸç®¡ç†</strong>ï¼šä½¿ç”¨ <code>try...finally</code> ç¡®ä¿ <code>runContext</code> è¢«æ¸…ç†ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</li>
</ul>
<h4 data-id="heading-14">5.2 å·¥å…·æ‰§è¡Œç¤ºä¾‹ï¼š<code>executeZalouserTool</code></h4>
<p>å±•ç¤ºäº†å¦‚ä½•å°†å¤–éƒ¨å‘½ä»¤è¡Œå·¥å…·ï¼ˆ<code>zca</code>ï¼Œä¸€ä¸ª Zalo å®¢æˆ·ç«¯ï¼‰å®‰å…¨åœ°å°è£…æˆ AI å¯è°ƒç”¨çš„å‡½æ•°ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä»£ç åŸºäº src/tools/tool.ts ç®€åŒ–</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">executeZalouserTool</span>(<span class="hljs-params">_toolCallId: <span class="hljs-built_in">string</span>, params: ToolParams</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">ToolResult</span>&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">switch</span> (params.<span class="hljs-property">action</span>) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">"send"</span>: {
        <span class="hljs-comment">// 1. å‚æ•°æ ¡éªŒ</span>
        <span class="hljs-keyword">if</span> (!params.<span class="hljs-property">threadId</span> || !params.<span class="hljs-property">message</span>) {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"threadId and message required for send action"</span>);
        }
        <span class="hljs-comment">// 2. æ„é€ å®‰å…¨çš„å‘½ä»¤è¡Œå‚æ•°</span>
        <span class="hljs-keyword">const</span> args = [<span class="hljs-string">"msg"</span>, <span class="hljs-string">"send"</span>, params.<span class="hljs-property">threadId</span>, params.<span class="hljs-property">message</span>];
        <span class="hljs-keyword">if</span> (params.<span class="hljs-property">isGroup</span>) args.<span class="hljs-title function_">push</span>(<span class="hljs-string">"-g"</span>);
        <span class="hljs-comment">// 3. è°ƒç”¨å¤–éƒ¨äºŒè¿›åˆ¶ï¼Œä¸ç›´æ¥æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œé¿å…æ³¨å…¥</span>
        <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">runZca</span>(args, { <span class="hljs-attr">profile</span>: params.<span class="hljs-property">profile</span> });
        <span class="hljs-comment">// 4. å¤„ç†ç»“æœï¼Œç»Ÿä¸€æ ¼å¼è¿”å›</span>
        <span class="hljs-keyword">if</span> (!result.<span class="hljs-property">ok</span>) {
          <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(result.<span class="hljs-property">stderr</span> || <span class="hljs-string">"Failed to send message"</span>);
        }
        <span class="hljs-keyword">return</span> {
          <span class="hljs-attr">content</span>: [{ <span class="hljs-attr">type</span>: <span class="hljs-string">"text"</span>, <span class="hljs-attr">text</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">output</span>: result.<span class="hljs-property">stdout</span> }, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>) }],
          <span class="hljs-attr">details</span>: { <span class="hljs-attr">success</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">output</span>: result.<span class="hljs-property">stdout</span> }
        };
      }
      <span class="hljs-comment">// ... å¤„ç†å…¶ä»– action (image, link, friends...)</span>
    }
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-comment">// 5. ç»Ÿä¸€çš„é”™è¯¯å¤„ç†ï¼Œå°†å¼‚å¸¸è½¬åŒ–ä¸ºAIå¯ç†è§£çš„æ ¼å¼</span>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">content</span>: [{ <span class="hljs-attr">type</span>: <span class="hljs-string">"text"</span>, <span class="hljs-attr">text</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">error</span>: err.<span class="hljs-property">message</span> }, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>) }],
      <span class="hljs-attr">details</span>: { <span class="hljs-attr">error</span>: err.<span class="hljs-property">message</span> }
    };
  }
}
</code></pre>
<h3 data-id="heading-15">6. åŒç±»æŠ€æœ¯å¯¹æ¯”ä¸æ€»ç»“</h3>
<p><strong>ä¸äº‘ç«¯åŠ©æ‰‹ï¼ˆChatGPT/Claudeï¼‰å¯¹æ¯”</strong>ï¼š</p>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼šæ•°æ®æœ¬åœ°åŒ–ã€å¤šå¹³å°ç»Ÿä¸€å…¥å£ã€å¯æ·±åº¦å®šåˆ¶å’Œæ‰©å±•ã€è¿è¡Œæˆæœ¬å¯æ§ï¼ˆä»…æ”¯ä»˜æ¨¡å‹APIè´¹ç”¨ï¼‰ã€‚</li>
<li><strong>åŠ£åŠ¿</strong>ï¼šç”¨æˆ·éœ€è‡ªè¡Œç»´æŠ¤æœåŠ¡å™¨ã€é…ç½®å¤æ‚åº¦é«˜ã€åˆå§‹è®¾ç½®æœ‰æŠ€æœ¯é—¨æ§›ã€‚</li>
</ul>
<p><strong>ä¸å•ä¸€å¹³å°æœºå™¨äººæ¡†æ¶ï¼ˆå¦‚Botpressã€GrammYï¼‰å¯¹æ¯”</strong>ï¼š</p>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼šçœŸæ­£çš„<strong>è·¨å¹³å°</strong>ç»Ÿä¸€æ¶æ„ï¼Œä¸€ä¸ªæ™ºèƒ½ä½“å®ä¾‹æœåŠ¡æ‰€æœ‰æ¸ é“ï¼›<strong>æœ¬åœ°ä¼˜å…ˆ</strong>çš„è®¾è®¡å“²å­¦æ›´æ³¨é‡éšç§å’Œæ§åˆ¶æƒã€‚</li>
<li><strong>åŠ£åŠ¿</strong>ï¼šé¡¹ç›®æ›´å¹´è½»ï¼Œç¤¾åŒºå’Œæ’ä»¶ç”Ÿæ€å¯èƒ½ä¸å¦‚æˆç†Ÿæ¡†æ¶ä¸°å¯Œã€‚</li>
</ul>
<p><strong>æŠ€æœ¯é€‰å‹ä¸æ¶æ„è¯„ä»·</strong>ï¼š
Clawdbot é€‰æ‹© TypeScript/Node.js ç”Ÿæ€ï¼Œåˆ©ç”¨äº†å…¶å¼ºå¤§çš„å¼‚æ­¥I/Oå¤„ç†èƒ½åŠ›å’Œä¸°å¯Œçš„ npm åŒ…ï¼ˆå„ç±» IM SDKï¼‰ï¼Œé€‚åˆäº‹ä»¶é©±åŠ¨ã€é«˜I/Oçš„ç½‘å…³ç±»åº”ç”¨ã€‚å…¶æ¶æ„æ¸…æ™°ï¼Œæ¨¡å—åŒ–ç¨‹åº¦é«˜ï¼Œé€šè¿‡ Plugin SDK é¢„ç•™äº†è‰¯å¥½çš„æ‰©å±•æ€§ã€‚ç„¶è€Œï¼Œå°†å¤æ‚çŠ¶æ€ç®¡ç†äºæ–‡ä»¶ç³»ç»Ÿå’Œå†…å­˜ä¸­ï¼Œåœ¨å‘å¤šå®ä¾‹ã€é«˜å¯ç”¨æ€§éƒ¨ç½²æ¼”è¿›æ—¶å¯èƒ½é¢ä¸´æŒ‘æˆ˜ã€‚</p>
<p><strong>ç»“è®º</strong>ï¼š
Clawdbot ä»£è¡¨äº†ä¸€ç§é‡è¦çš„æŠ€æœ¯æ–¹å‘ï¼šå°†å¤§å‹AIæ¨¡å‹çš„â€œæ™ºèƒ½â€ä¸ä¸ªäººè®¡ç®—è®¾å¤‡çš„â€œæ§åˆ¶â€ç›¸ç»“åˆã€‚å®ƒä¸æ˜¯ä¸€ä¸ªé¢å‘æ™®é€šç”¨æˆ·çš„â€œäº§å“â€ï¼Œè€Œæ˜¯ä¸€ä¸ªé¢å‘å¼€å‘è€…å’ŒæŠ€æœ¯çˆ±å¥½è€…çš„â€œå¼ºå¤§å¹³å°â€ã€‚å…¶ä»£ç ä½“ç°äº†å¯¹å¤æ‚æ€§é—®é¢˜ï¼ˆå¤šåè®®ã€çŠ¶æ€ç®¡ç†ã€æ‰©å±•æ€§ï¼‰çš„æ·±åˆ»æ€è€ƒä¸å·¥ç¨‹åŒ–è§£æ³•ï¼Œä¸ºæ„å»ºéšç§å‹å¥½ã€ç”¨æˆ·å¯æ§çš„ä¸‹ä¸€ä»£ä¸ªäººAIåŸºç¡€è®¾æ–½æä¾›äº†æå…·ä»·å€¼çš„å‚è€ƒå®ç°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é”™çš„"ä¼˜åŒ–ç›®æ ‡"ï¼šä»æ‰«åœ°æœºå™¨äººåˆ°æ¯æ‰ä¸€åˆ‡çš„ç®—æ³•]]></title>    <link>https://juejin.cn/post/7599847938537406473</link>    <guid>https://juejin.cn/post/7599847938537406473</guid>    <pubDate>2026-01-27T08:02:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599847938537406473" data-draft-id="7599630795804786734" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é”™çš„&quot;ä¼˜åŒ–ç›®æ ‡&quot;ï¼šä»æ‰«åœ°æœºå™¨äººåˆ°æ¯æ‰ä¸€åˆ‡çš„ç®—æ³•"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-27T08:02:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ·±åº¦æ¶Œç°"/> <meta itemprop="url" content="https://juejin.cn/user/2524932621734990"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é”™çš„"ä¼˜åŒ–ç›®æ ‡"ï¼šä»æ‰«åœ°æœºå™¨äººåˆ°æ¯æ‰ä¸€åˆ‡çš„ç®—æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2524932621734990/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ·±åº¦æ¶Œç°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T08:02:01.000Z" title="Tue Jan 27 2026 08:02:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¸…æ‰«æ•´ä¸ª Albert Heijn è¶…å¸‚çš„åœ°é¢ã€‚å¬èµ·æ¥å¾ˆç®€å•ã€‚è€Œä¸”åŸæœ¬ä¹Ÿåº”è¯¥å¾ˆç®€å•ã€‚</p>
<p>ä½†æˆ‘æ˜¯ä¸€åè®¡ç®—æœºç§‘å­¦ä¸“ä¸šçš„å­¦ç”Ÿï¼Œæˆ‘é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘æ€»æ˜¯å¿ä¸ä½å»ä¼˜åŒ–ä¸€äº›ï¼ˆå¯èƒ½ï¼‰ä¸éœ€è¦ä¼˜åŒ–çš„ä¸œè¥¿ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘æ²¡æœ‰åªæ˜¯åšå¥½æˆ‘çš„å·¥ä½œï¼Œæ¯”å¦‚æ‰«åœ°ï¼Œè€Œæ˜¯åšäº†ä»»ä½•ä¸€ä¸ªâ€œç†æ™ºçš„â€äººéƒ½ä¼šåšçš„äº‹ï¼šæˆ‘æŠŠè¶…å¸‚çš„å¹³é¢å›¾è½¬æ¢æˆäº†ç½‘æ ¼å›¾ï¼Œæ„å»ºäº†ä¸€ä¸ªå¯è§†åŒ–ç¼–è¾‘å™¨ï¼Œå¹¶ä½¿ç”¨æ¨¡æ‹Ÿé€€ç«ç®—æ³•ç¼–å†™äº†ä¸€ä¸ª C++ è·¯å¾„ä¼˜åŒ–å™¨ã€‚</p>
<p>ä½†åœ¨æˆ‘ä»¬æ·±å…¥æ¢è®¨è¿™ä»¶äº‹æ˜¯å¦‚ä½•å½»åº•å‡ºé”™ï¼Œä»¥åŠè¿™ä»¶äº‹å¦‚ä½•è®©æˆ‘æ„è¯†åˆ°è¿™ä¼šè®©æ¯ä¸ªäººéƒ½ç—›è‹¦ä¹‹å‰ï¼Œæˆ‘éœ€è¦ä½ å›ç­”ä¸€ä¸ªé—®é¢˜ï¼š</p>
<p>å¦‚æœä½ è¦æ›¿æˆ‘å·¥ä½œä¸€å¤©ï¼Œå¹¶ä¸”éœ€è¦æ‰“æ‰«æ•´ä¸ª Albert Heijn è¶…å¸‚çš„æ¥¼å±‚ï¼Œä½ ä¼šé€‰æ‹© A è·¯çº¿è¿˜æ˜¯ B è·¯çº¿ï¼Ÿ
<img src="https://pic-1251484506.cos.ap-guangzhou.myqcloud.com/imgs/bdc47e6c-cc83-4a27-87bd-102e3d3c0516_1150x1500_c35cf38c.png" alt="img" loading="lazy"/>
è·¯å¾„ Aï¼ˆä¸Šï¼‰å’Œè·¯å¾„ Bï¼ˆä¸‹ï¼‰ã€‚</p>
<p>è¯´çœŸçš„ï¼Œçœ‹çœ‹å®ƒä»¬ã€‚å“ªä¸ªçœ‹èµ·æ¥æ›´é€‚åˆæ¸…æ‰«è¶…å¸‚åœ°é¢ï¼Ÿ</p>
<p>å¦‚æœä½ é€‰æ‹©äº†Aé€‰é¡¹ï¼šæ­å–œä½ ï¼Œä½ çš„æ€ç»´æ–¹å¼åƒç®—æ³•ä¸€æ ·ï¼Œå¾ˆå¯èƒ½å°±æ˜¯ä¸ªæœºå™¨äººã€‚</p>
<p>ä½†ä»æŠ€æœ¯ä¸Šè®²ï¼Œä½ çš„è¯´æ³•æ²¡é”™ã€‚è·¯å¾„ A çš„è·ç¦»æ›´çŸ­ã€‚ç„¶è€Œï¼Œå®ƒå®Œå…¨æ²¡ç”¨ã€‚</p>
<p>çœ‹çœ‹é‚£äº›å¼¯é“ã€‚ä½ ä¸å¦¨æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ èµ°è·¯æ—¶ä¹Ÿè¿™æ ·å¼¯ï¼Œä½ ä¼šçœ‹èµ·æ¥åƒä¸ªç–¯å­ï¼Œå°±åƒä¸€å°æŠ½æçš„æ‰«åœ°æœºå™¨äººã€‚</p>
<p>è·¯å¾„ A æ˜¯ä½ ä¼˜åŒ–äº†é”™è¯¯çš„ä¸œè¥¿è€Œå¯¼è‡´çš„ç»“æœã€‚</p>
<p>å‰§é€ä¸€ä¸‹ï¼Œè¿™æ­£æ˜¯è¿™ä¸ªæ•…äº‹çš„é‡ç‚¹ã€‚ä¸è¿‡æˆ‘ä»¬ç¨åå†è°ˆï¼Œå…ˆè®©æˆ‘è§£é‡Šä¸€ä¸‹äº‹æƒ…çš„æ¥é¾™å»è„‰ï¼š</p>
<h2 data-id="heading-0">ç¬¬ä¸€æ­¥ï¼šå°†ç°å®è½¬åŒ–ä¸ºè¿‡äºç®€å•çš„æ¨¡å‹</h2>
<p>é¦–å…ˆï¼Œæˆ‘æŠŠ Albert Heijn çš„å¹³é¢å›¾è½¬æ¢æˆäº†ç½‘æ ¼ã€‚æ¯ä¸ªæ–¹æ ¼è¦ä¹ˆæ˜¯ç©ºçš„ï¼ˆåº”è¯¥æ‰“æ‰«ï¼‰ï¼Œè¦ä¹ˆæ˜¯éšœç¢ç‰©ï¼ˆå¢™å£ã€æ”¶é“¶å°ã€æœ‰äººæ‰”åœ¨åœ°ä¸Šçš„é…¸å¥¶åŒ…è£…ï¼‰ã€‚</p>
<p>æˆ‘åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fprocessing.org%2F" target="_blank" title="https://processing.org/" ref="nofollow noopener noreferrer">Processing</a>ä¸­æ„å»ºäº†ä¸€ä¸ªå¯è§†åŒ–ç¼–è¾‘å™¨ï¼Œè¿™æ ·æˆ‘å°±å¯ä»¥è½»æ¾åœ°ç»˜åˆ¶å•†åº—åœ°å›¾å¹¶å¯¼å‡ºç”Ÿæˆçš„å›¾è¡¨ã€‚</p>
<p>å› æ­¤ï¼Œå°†å¹³é¢å›¾è½¬æ¢ä¸ºç½‘æ ¼ç»“æ„éå¸¸å®¹æ˜“ã€‚
<img src="https://pic-1251484506.cos.ap-guangzhou.myqcloud.com/imgs/20260127133430350_e273c43d.png" alt="img" loading="lazy"/>
Albert Heijn è¶…å¸‚çš„ç½‘æ ¼å¹³é¢å›¾ã€‚</p>
<p>å®é™…åœ°é¢çš„ç“·ç –é“ºè®¾æœ‰åŠ©äºå°†è¯¥åŒºåŸŸç»†åˆ†ä¸ºæ˜“äºç®¡ç†çš„å°å—åŒºåŸŸã€‚
<img src="https://pic-1251484506.cos.ap-guangzhou.myqcloud.com/imgs/d0ea4a82-edf2-4aa8-9a45-348731666114_1150x750_f9f84176.png" alt="img" loading="lazy"/>
é‡‡ç”¨ç“·ç –ç»“æ„çš„ç»†åˆ†å¼å¹³é¢å›¾ã€‚</p>
<p>ç„¶åï¼Œé€šè¿‡å°†æ¯ä¸ªå›¾å—è§£é‡Šä¸ºä¸€ä¸ªèŠ‚ç‚¹ï¼Œç„¶åå°†å®ƒä»¬è¿æ¥åˆ°ç›¸é‚»çš„å›¾å—ï¼Œå°±å¯ä»¥å¾ˆå®¹æ˜“åœ°å°†å…¶è½¬æ¢ä¸ºç½‘ç»œç»“æ„ï¼ˆä¹Ÿç§°ä¸ºå›¾ï¼‰ã€‚
<img src="https://pic-1251484506.cos.ap-guangzhou.myqcloud.com/imgs/846289b8-6269-46d5-a7ee-ea375325651e_1150x750_1ad8642d.png" alt="img" loading="lazy"/>
å°†æ¯ä¸ªå›¾å—è§£é‡Šä¸ºå›¾ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ã€‚
<img src="https://pic-1251484506.cos.ap-guangzhou.myqcloud.com/imgs/085819a8-9e57-4bad-902b-75823cb7ca34_1150x750_5b065217.png" alt="img" loading="lazy"/>
ç”Ÿæˆçš„ç“¦ç‰‡ç½‘ç»œã€‚</p>
<p>å¦‚ä½ æ‰€è§ï¼Œæˆ‘å…è®¸æ°´å¹³å’Œå‚ç›´ç§»åŠ¨ï¼Œä»¥åŠå¯¹è§’çº¿ç§»åŠ¨ï¼ˆåªè¦ä½ ä¸ç©¿å¢™ï¼‰ã€‚
<img src="https://pic-1251484506.cos.ap-guangzhou.myqcloud.com/imgs/716121fe-3f08-4c7e-894d-082f673ca1f0_1150x750_e6014d03.png" alt="img" loading="lazy"/>
Albert Heijn çš„æœ€ç»ˆå›¾è¡¨ã€‚</p>
<p>æ¥ä¸‹æ¥å”¯ä¸€è¦åšçš„å°±æ˜¯æ‰¾åˆ°ä¸€æ¡è´¯ç©¿è¿™ä¸ªç½‘ç»œçš„è·¯å¾„ï¼ŒåŒæ—¶ç¡®ä¿è®¿é—®æ‰€æœ‰èŠ‚ç‚¹ï¼ˆå›¾å—ï¼‰ã€‚è¿™æ ·å°±èƒ½è§£å†³æˆ‘çš„æ‰«æé—®é¢˜ã€‚</p>
<p><em>ï¼ˆè¿™ä¸ªé—®é¢˜ä¹Ÿç§°ä¸º<a href="https://link.juejin.cn?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FTravelling_salesman_problem" target="_blank" title="https://en.wikipedia.org/wiki/Travelling_salesman_problem" ref="nofollow noopener noreferrer">æ—…è¡Œå•†é—®é¢˜</a>ï¼Œè¯¦æƒ…è¯·å‚é˜…ç›¸å…³æ–‡ç« ï¼Œäº†è§£å®ƒä¸ºä½•å¦‚æ­¤éš¾ä»¥â€œè§£å†³â€ã€‚ï¼‰</em></p>
<h2 data-id="heading-1">ç¬¬äºŒæ­¥ï¼šç¼–å†™ä¼˜åŒ–å™¨</h2>
<p>ç”±äºåœ¨å¦‚æ­¤è§„æ¨¡çš„å›¾ä¸­ï¼Œè®¡ç®—ä¸Šä¸å¯èƒ½æ‰¾åˆ°æœ€ä¼˜è·¯å¾„ï¼Œæˆ‘ä»¬åªèƒ½æ±‚åŠ©äºå¯å‘å¼ç®—æ³•ã€‚å¯å‘å¼ç®—æ³•æœ¬è´¨ä¸Šæ˜¯åœ¨çŸ­æ—¶é—´å†…æ‰¾åˆ°ä¸€ä¸ª<strong>éå¸¸å¥½çš„</strong>è§£ï¼Œè€Œä¸æ˜¯è¯•å›¾æ‰¾åˆ°<strong>å®Œç¾çš„</strong>è§£ï¼ˆè¿™å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ï¼‰ã€‚</p>
<p>æ‰€ä»¥æˆ‘ç”¨ C++ å®ç°äº†è·¯å¾„ä¼˜åŒ–å™¨ã€‚</p>
<p>åº•å±‚å¯å‘å¼ç®—æ³•ï¼š<strong>æ¨¡æ‹Ÿé€€ç«</strong>ã€‚</p>
<p>å¦‚æœä½ è¿˜ä¸ç†Ÿæ‚‰ï¼Œæ¨¡æ‹Ÿé€€ç«æœ¬è´¨ä¸Šå°±æ˜¯å°è¯•ä¸€ç³»åˆ—å¾®å°çš„å˜åŒ–ï¼ˆä¹Ÿç§°ä¸ºå±€éƒ¨ç§»åŠ¨ï¼‰ã€‚</p>
<p>ä¸€å¼€å§‹ï¼Œä½ æ¥å—æ¯ä¸€ä¸ªå°å°çš„æ”¹å˜ï¼ˆå³ä½¿å®ƒè®©è·¯å¾„å˜å¾—æ›´ç³Ÿï¼‰ï¼Œä½†éšç€ç®—æ³•çš„è¿›è¡Œï¼Œä½ ä¼šé€æ¸å˜å¾—æ›´åŠ æŒ‘å‰”ï¼Œæœ€ç»ˆåªå…è®¸é‚£äº›ä¸¥æ ¼æ„ä¹‰ä¸Šæ”¹å–„è·¯å¾„çš„æ”¹å˜ã€‚</p>
<p>è¿™ä¸ªæƒ³æ³•æºäºé‡‘å±å†·å´çš„è¿‡ç¨‹ã€‚é¦–å…ˆï¼Œé‡‘å±åœ¨é«˜æ¸©ä¸‹è¿è¡Œï¼ˆå°è¯•ä¸åŒçš„è¿åŠ¨æ–¹å¼ï¼‰è¿›è¡Œå……åˆ†çš„æ¢ç´¢ï¼Œç„¶åé€æ¸å†·å´ï¼Œæœ€ç»ˆç¨³å®šåœ¨ä½èƒ½é‡çŠ¶æ€ï¼ˆæ¥è¿‘æœ€ä½³çŠ¶æ€ï¼‰ã€‚
<img src="https://pic-1251484506.cos.ap-guangzhou.myqcloud.com/imgs/c80c76a3-0921-4b5e-89cf-dc254b81a0e9_1150x750_fc6adf39.gif" alt="img" loading="lazy"/>
æ¨¡æ‹Ÿé€€ç«ç®—æ³•é€šè¿‡å¤šæ¬¡è¿­ä»£é€æ­¥æ”¹è¿›è·¯å¾„ã€‚</p>
<p>çœ‹çœ‹è¿™ä¸ªåŠ¨å›¾ã€‚çœ‹åˆ°äº†å—ï¼Ÿå®ƒä¸€å¼€å§‹å¾ˆæ··ä¹±ï¼Œç„¶åé€æ¸å˜å¾—ç¨³å®šä¸‹æ¥ã€‚è¿™å°±æ˜¯æ¨¡æ‹Ÿé€€ç«ç®—æ³•çš„å·¥ä½œåŸç†ã€‚</p>
<p>å¯¹äºå±€éƒ¨ç§»åŠ¨ï¼Œæˆ‘ä½¿ç”¨äº† 2-opt ç§»åŠ¨ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯ç§»é™¤è·¯å¾„ä¸­çš„ä¸¤æ¡è¾¹ï¼Œç„¶åç”¨ä¸åŒçš„æ–¹å¼é‡æ–°è¿æ¥å®ƒä»¬ã€‚å¦‚æœè¿™ç§å¾®å°çš„æ”¹åŠ¨ä½¿è·¯å¾„å˜å¾—æ›´å¥½ï¼Œå°±ä¿ç•™å®ƒã€‚å¦åˆ™ï¼Œè¦ä¹ˆä¿ç•™å®ƒï¼ˆå¦‚æœæ¸©åº¦ä»ç„¶å¾ˆé«˜ï¼‰ï¼Œè¦ä¹ˆèˆå¼ƒå®ƒã€‚
<img src="https://pic-1251484506.cos.ap-guangzhou.myqcloud.com/imgs/0d414694-060b-4126-82c6-093acf5c0ebc_1956x876_f8c0b43b.png" alt="img" loading="lazy"/>
2-opt ç§»åŠ¨å¯è§†åŒ–ã€‚</p>
<p>é‚£å°±è¿™ä¹ˆåšåäº¿æ¬¡ã€‚æˆ–è€…ï¼Œè®©ä½ çš„ç”µè„‘è¿™ä¹ˆåšåäº¿æ¬¡ã€‚</p>
<h2 data-id="heading-2">ç¬¬ä¸‰æ­¥ï¼šæç ¸</h2>
<p>è¿è¡Œä¸€æ®µæ—¶é—´åï¼Œæˆ‘å¾—åˆ°äº†ç¬¬ä¸€æ¡â€œä¼˜åŒ–â€è·¯å¾„ã€‚ä»¥ä¸‹æ˜¯ä¼˜åŒ–ç»“æœï¼š
<img src="https://pic-1251484506.cos.ap-guangzhou.myqcloud.com/imgs/fcb8b22f-3afc-406a-adff-455aa0dd32ee_1150x750_921cb651.gif" alt="img" loading="lazy"/>
ç¬¬ä¸€æ¡â€œä¼˜åŒ–â€è·¯å¾„ã€‚</p>
<p>ç§ç§è¿™è·¯ï¼å¼¯é“æ¯”å…‹é‡Œæ–¯æ‰˜å¼—Â·è¯ºå…°çš„ç”µå½±è¿˜å¤šã€‚è°ä¼šå‚»åˆ°çœŸçš„è¿™ä¹ˆæ‰«åœ°å•Šï¼Ÿæ‰«å®Œä¼°è®¡éƒ½æƒ³åã€‚</p>
<p>ä»æŠ€æœ¯ä¸Šè®²ï¼Œå®ƒè¦†ç›–äº†æ•´ä¸ªåœ°é¢ã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œå®ƒï¼ˆå‡ ä¹ï¼‰æ˜¯æœ€å°çš„æ¸…æ‰«è·¯å¾„ã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œå®ƒæ˜¯å®Œç¾çš„ã€‚</p>
<p>å®ƒæœ‰ä¸€äº›ä¼˜ç‚¹ï¼Œä½†å®é™…ä¸Šï¼Œå®ƒå®Œå…¨æ²¡ç”¨ã€‚</p>
<p>ç®—æ³•å®Œå…¨æŒ‰ç…§æˆ‘çš„è¦æ±‚æ‰§è¡Œäº†ã€‚</p>
<p>æˆ‘é—®é”™é—®é¢˜äº†ã€‚</p>
<h2 data-id="heading-3">ç¬¬å››æ­¥ï¼šæ ¹æ®å®é™…æƒ…å†µè¿›è¡Œä¼˜åŒ–</h2>
<p>æˆ‘å¾ˆå¿«æ„è¯†åˆ°æˆ‘ä¼˜åŒ–çš„æ–¹å‘é”™äº†ã€‚è·ç¦»å¹¶éä¸€åˆ‡ã€‚</p>
<p>è½¬å¼¯å¾ˆé‡è¦ã€‚åŠ¨é‡å¾ˆé‡è¦ã€‚çœ‹èµ·æ¥ä¸åƒä¸ªæ•…éšœçš„æœºå™¨äººä¹Ÿå¾ˆé‡è¦ã€‚</p>
<p>æ‰€ä»¥æˆ‘ç»™æˆæœ¬å‡½æ•°å¢åŠ äº†ä¸€ä¸ªâ€œè½¬å¼¯æƒ©ç½šâ€ï¼Œå¹¶è¦æ±‚å®ƒæœ€å°åŒ–è¿™ä¸ªæƒ©ç½šã€‚åŸºæœ¬ä¸Šå°±æ˜¯å‘Šè¯‰ç®—æ³•ï¼šâ€œè½¬å¼¯90åº¦ä¼šæ‰£åˆ†ã€‚è½¬å¼¯180åº¦ï¼Ÿä½ ç–¯äº†å§ã€‚â€</p>
<p>è¿™æ ·ä¸€æ¥ï¼Œè·¯çº¿å°±æ›´åŠ é¡ºç•…äº†ï¼Œå³ä½¿è·ç¦»ç•¥å¾®å»¶é•¿äº†ä¸€äº›ã€‚
<img src="https://pic-1251484506.cos.ap-guangzhou.myqcloud.com/imgs/2809e59e-bfab-4ced-8f23-a8625bce71e4_1150x750_f58bf32e.gif" alt="img" loading="lazy"/>
æ›´å¹³å¦ã€æ›´é€‚åˆæ­¥è¡Œçš„é“è·¯ã€‚</p>
<p>ä½ çœ‹ï¼Œè¿™å…¶å®â€¦â€¦æŒºå¥½èµ°çš„ã€‚ä½ æŠŠè¿™æ¡è·¯äº¤ç»™ä¸€ä¸ªçœŸæ­£çš„äººï¼Œä»–ä¹Ÿä¸ä¼šç«‹åˆ»æ”¾å¼ƒã€‚</p>
<p>æˆ‘ä»¬ä¸å†è¿½æ±‚è·ç¦»ä¸Šçš„æœ€ä¼˜è§£ï¼Œè€Œæ˜¯è¿½æ±‚ä¸ç°å®çš„å¥‘åˆåº¦ã€‚</p>
<h2 data-id="heading-4">ç¬¬äº”æ­¥ï¼šæ‰“ç ´å®ƒ</h2>
<p>æ¥ä¸‹æ¥æ‰æ˜¯ç²¾å½©çš„éƒ¨åˆ†ã€‚</p>
<p>æ‚¨å¯ä»¥è°ƒæ•´æ€¥è½¬å¼¯çš„æƒ©ç½šã€‚è¿™ç›¸å½“äºä¸€ä¸ªæ»‘å—ï¼Œå¯ä»¥åœ¨â€œçº¯ç²¹çš„æ•ˆç‡â€å’Œâ€œå®é™…ç”¨é€”â€ä¹‹é—´åˆ‡æ¢ã€‚
<img src="https://pic-1251484506.cos.ap-guangzhou.myqcloud.com/imgs/a3392aaf-223d-475c-9acb-a947eedefaa0_2300x2250_6c44f82c.png" alt="img" loading="lazy"/>
ä»ä½è§’åº¦ç½šåˆ†ï¼ˆ1ï¼‰åˆ°é«˜è§’åº¦ç½šåˆ†ï¼ˆ6ï¼‰ã€‚</p>
<p>ä½ å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°å…¶ä¸­çš„æƒè¡¡ã€‚å¢åŠ æƒ©ç½šï¼Œè·¯å¾„ä¼šæ›´å¹³æ»‘ï¼Œä½†ä¼šç¨é•¿ä¸€äº›ã€‚å‡å°‘æƒ©ç½šï¼Œæ•ˆç‡ä¼šæé«˜ï¼Œä½†ä¼šé€ æˆæ··ä¹±ã€‚</p>
<p>é€‰æ‹©å“ªæ¡è·¯å®Œå…¨å–å†³äºä½ è‡ªå·±ã€‚è¿™å–å†³äºå¾ˆå¤šå› ç´ ï¼Œæ¯”å¦‚ä½ è½¬èº«æ˜¯å¦æ–¹ä¾¿ï¼Œæ€»è·ç¦»æ˜¯å¦æ˜¯é¦–è¦è€ƒè™‘å› ç´ ï¼Œä»¥åŠä½ èƒ½å¿å—å¤šå¤§çš„çœ©æ™•ã€‚</p>
<h2 data-id="heading-5">ç¬¬å…­æ­¥ï¼šæ„è¯†åˆ°ç”Ÿæ´»å…¶å®å¹¶æ²¡æœ‰é‚£ä¹ˆç¾å¥½</h2>
<p>ä½†è¿™ä¸ä»…ä»…æ˜¯æ‰«åœ°é‚£ä¹ˆç®€å•ã€‚</p>
<p>è¿™å…³ä¹ä¸€åˆ‡ã€‚</p>
<p>ç¤¾äº¤åª’ä½“ç®—æ³•ä»¥æå‡ç”¨æˆ·å‚ä¸åº¦ä¸ºç›®æ ‡ï¼Œè€Œä¸”å®ƒä»¬åœ¨è¿™æ–¹é¢åšå¾—éå¸¸å‡ºè‰²ã€‚é—®é¢˜å‡ºåœ¨å“ªé‡Œå‘¢ï¼Ÿ</p>
<p>å‚ä¸åº¦â‰ å¹¸ç¦ã€‚å‚ä¸åº¦â‰ çœŸç›¸ã€‚å‚ä¸åº¦=ç‚¹å‡»é‡ã€å±å¹•ä½¿ç”¨æ—¶é•¿ã€æ„¤æ€’æƒ…ç»ªå’Œè´Ÿé¢ååº”ã€‚</p>
<p>åæœï¼Ÿæ„¤æ€’ã€é”™è¯¯ä¿¡æ¯ã€è´Ÿé¢æ–°é—»åˆ·å±ã€ç„¦è™‘ã€‚</p>
<p>ç®—æ³•è¿è¡Œå®Œç¾ï¼Œå®Œå…¨æŒ‰ç…§è®¾è®¡é¢„æœŸæ‰§è¡Œã€‚é—®é¢˜å‡ºåœ¨æˆæœ¬å‡½æ•°ä¸Šã€‚ï¼ˆInstagram å¯èƒ½ä¸è¿™ä¹ˆè®¤ä¸ºã€‚ï¼‰</p>
<p>æ¨èç®—æ³•ä¼šä¼˜åŒ–è§‚çœ‹æ—¶é•¿å’Œç‚¹å‡»ç‡ã€‚ä½ å¥¶å¥¶æ­£åœ¨YouTubeä¸Šè¿ç»­çœ‹6ä¸ªå°æ—¶çš„é˜´è°‹è®ºè§†é¢‘ã€‚</p>
<p>ç®—æ³•å½»åº•æ¯äº†å¥¹ã€‚å¥¹æ„Ÿè§‰ç³Ÿé€äº†ã€‚</p>
<p>è¿™å¹¶ä¸ä»¤äººæ„å¤–ã€‚</p>
<p>å³ä½¿æ˜¯åƒ ChatGPT è¿™æ ·çš„å¤§å‹è¯­è¨€æ¨¡å‹ï¼Œå®ƒä»¬çš„ä¼˜åŒ–æ–¹å‘ä¹Ÿé”™äº†ã€‚å®ƒä»¬ä¼˜åŒ–çš„æ˜¯å¬èµ·æ¥è‡ªä¿¡ï¼Œå¬èµ·æ¥å¥½åƒçŸ¥é“ç­”æ¡ˆã€‚</p>
<p>ä¸æ˜¯å› ä¸ºä»–æ­£ç¡®ï¼Œä¹Ÿä¸æ˜¯å› ä¸ºä»–è¯šå®ã€‚</p>
<p>ä»–ä»¬æ¥å—çš„è®­ç»ƒæ˜¯å®Œæˆæ—¢å®šæ¨¡å¼ï¼Œè€Œä¸æ˜¯è¯´â€œæˆ‘ä¸çŸ¥é“â€ã€‚æ‰€ä»¥ä»–ä»¬åªèƒ½é çŒœæµ‹ã€‚è€Œä¸”æ¯«æ— ç¾è€»å¿ƒï¼Œè¯­æ³•ä¹Ÿå®Œç¾æ— ç‘•ã€‚</p>
<p>è¿™ä¸€ç‚¹ç”šè‡³é€‚ç”¨äºç§‘æŠ€ä»¥å¤–çš„é¢†åŸŸã€‚</p>
<p>æƒ³æƒ³ä¼ä¸šã€‚å®ƒä»¬å¤§å¤šä»¥ç›ˆåˆ©ä¸ºç›®æ ‡ã€‚åœ°çƒã€ç¯å¢ƒã€é“å¾·æˆ–ä¼¦ç†å‘¢ï¼Ÿè¿™äº›éƒ½æ²¡æœ‰çº³å…¥æˆæœ¬å‡½æ•°ï¼Œå› æ­¤ä¹Ÿä¸ä¼šè¢«ä¼˜åŒ–ã€‚</p>
<p>æˆ‘åœ¨å®é™…å·¥ä½œä¸­æ˜¯å¦ä½¿ç”¨äº†è¿™æ¡ä¼˜åŒ–è·¯å¾„ï¼Ÿ</p>
<p>ä¸ï¼Œæ˜¾ç„¶ä¸æ˜¯ã€‚æˆ‘åªæ˜¯åƒæ­£å¸¸äººä¸€æ ·æ‰«äº†åœ°è€Œå·²ã€‚</p>
<p>ä½†æ„å»ºè¿™ä¸ªé¡¹ç›®æ•™ä¼šäº†æˆ‘ä¸€ä¸ªæˆ‘ä¸€ç›´åœ¨æ€è€ƒçš„é“ç†ï¼šå¦‚æœä½ è§£å†³çš„æ˜¯é”™è¯¯çš„é—®é¢˜ï¼Œé‚£ä¹ˆæŠ€æœ¯ä¸Šçš„æ­£ç¡®æ€§å°±æ¯«æ— æ„ä¹‰ã€‚</p>
<p>ä½ å¯ä»¥å†™å‡ºå®Œç¾çš„ä»£ç ï¼Œä½ å¯ä»¥æ„å»ºå®Œç¾æ— ç‘•çš„ç³»ç»Ÿï¼Œä½ å¯ä»¥æŠŠæˆæœ¬å‡½æ•°ä¼˜åŒ–åˆ°æè‡´ï¼Œä½†æœ€ç»ˆç»“æœä»ç„¶å¯èƒ½å¾ˆç³Ÿç³•ã€‚</p>
<p>é‡è¦çš„ä¸æ˜¯ä¼˜åŒ–ç®—æ³•æœ¬èº«ï¼Œè€Œæ˜¯é¦–å…ˆè¦å¼„æ¸…æ¥šä½ ç©¶ç«Ÿåº”è¯¥ä¼˜åŒ–ä»€ä¹ˆã€‚</p>
<p>å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬ç”šè‡³éƒ½ä¸ä¼šé—®è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬åªæ˜¯ä¼˜åŒ–é‚£äº›å®¹æ˜“è¡¡é‡çš„æŒ‡æ ‡ï¼Œç„¶åç¥ˆç¥·ç»“æœä¼šå¥½èµ·æ¥ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Ftiespetersen.substack.com%2Fp%2Fi-got-paid-minimum-wage-to-solve" target="_blank" title="https://tiespetersen.substack.com/p/i-got-paid-minimum-wage-to-solve" ref="nofollow noopener noreferrer">tiespetersen.substack.com/p/i-got-paiâ€¦</a></p>
<p>ç¬”è€…å…¬ä¼—å·ã€Œæ·±åº¦æ¶Œç°ã€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptäº‹ä»¶å¾ªç¯ä¸å¼‚æ­¥æ‰§è¡Œå…¨è§£æ]]></title>    <link>https://juejin.cn/post/7599860946836652095</link>    <guid>https://juejin.cn/post/7599860946836652095</guid>    <pubDate>2026-01-27T09:26:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599860946836652095" data-draft-id="7599843186202378282" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptäº‹ä»¶å¾ªç¯ä¸å¼‚æ­¥æ‰§è¡Œå…¨è§£æ"/> <meta itemprop="keywords" content="JavaScript,é¢è¯•,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-27T09:26:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›ªä¸­ä½•ä»¥èµ å›åˆ«"/> <meta itemprop="url" content="https://juejin.cn/user/3186831013974270"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptäº‹ä»¶å¾ªç¯ä¸å¼‚æ­¥æ‰§è¡Œå…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3186831013974270/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›ªä¸­ä½•ä»¥èµ å›åˆ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T09:26:33.000Z" title="Tue Jan 27 2026 09:26:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><hr/>
<h2 data-id="heading-0">ğŸ“ ä»£ç ç¤ºä¾‹ä¸€ï¼šPromiseä¸setTimeoutæ··åˆ</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"set!"</span>);
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    <span class="hljs-title function_">resolve</span>();
  }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      <span class="hljs-title function_">resolve</span>();
    }).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"then4"</span>);
    });
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"then2"</span>);
  });
});

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"pr1"</span>);
  <span class="hljs-title function_">resolve</span>();
}).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"then1"</span>);
});

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"set2"</span>);
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>);

<span class="hljs-title function_">queueMicrotask</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"microtask"</span>);
});

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
  <span class="hljs-title function_">resolve</span>();
}).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"then3"</span>);
});
</code></pre>
<p><strong>ğŸ¯ è¾“å‡ºé¡ºåºï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">pr1
<span class="hljs-number">2</span>
then1
microtask
then3
set!
then2
then4
set2
</code></pre>
<h2 data-id="heading-1">ğŸ“ ä»£ç ç¤ºä¾‹äºŒï¼šasync/awaitä¸Promiseæ··åˆ</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">async1</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"async1 start"</span>);
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">async2</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"async1 end"</span>);
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">async2</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"async2"</span>);
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"script start"</span>);

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"setTimeout"</span>);
}, <span class="hljs-number">0</span>);

<span class="hljs-title function_">async1</span>();

<span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">resolve</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"promise1"</span>);
  <span class="hljs-title function_">resolve</span>();
}).<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"promise2"</span>);
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"script end"</span>);
</code></pre>
<p><strong>ğŸ¯ è¾“å‡ºé¡ºåºï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql">script <span class="hljs-keyword">start</span>
async1 <span class="hljs-keyword">start</span>
async2
promise1
script <span class="hljs-keyword">end</span>
async1 <span class="hljs-keyword">end</span>
promise2
setTimeout
</code></pre>
<h2 data-id="heading-2">ğŸ” äº‹ä»¶å¾ªç¯æ ¸å¿ƒæ¦‚å¿µ</h2>
<h3 data-id="heading-3">ä»»åŠ¡é˜Ÿåˆ—åˆ†ç±»</h3>
<h4 data-id="heading-4">å®ä»»åŠ¡ (Macrotask)</h4>
<ul>
<li><code>setTimeout</code> / <code>setInterval</code></li>
<li>I/O æ“ä½œ</li>
<li>UI æ¸²æŸ“</li>
<li><code>setImmediate</code> (Node.js)</li>
<li>è„šæœ¬æ•´ä½“ä»£ç </li>
</ul>
<h4 data-id="heading-5">å¾®ä»»åŠ¡ (Microtask)</h4>
<ul>
<li><code>Promise.then</code> / <code>.catch</code> / <code>.finally</code></li>
<li><code>queueMicrotask</code></li>
<li><code>MutationObserver</code></li>
<li><code>async/await</code> åçš„ä»£ç </li>
</ul>
<h3 data-id="heading-6">âš¡ æ‰§è¡Œè§„åˆ™ï¼ˆé»„é‡‘æ³•åˆ™ï¼‰</h3>
<ol>
<li><strong>åŒæ­¥ä»£ç ç«‹å³æ‰§è¡Œ</strong>ï¼šæ‰€æœ‰éå¼‚æ­¥ä»£ç ç«‹å³æ‰§è¡Œ</li>
<li><strong>å¾®ä»»åŠ¡ä¼˜å…ˆ</strong>ï¼šå½“å‰å®ä»»åŠ¡ç»“æŸåï¼Œç«‹å³æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡</li>
<li><strong>å¾®ä»»åŠ¡é˜Ÿåˆ—å¿…é¡»å®Œå…¨æ¸…ç©º</strong>ï¼šåŒ…æ‹¬æ‰§è¡Œè¿‡ç¨‹ä¸­æ–°åŠ å…¥çš„å¾®ä»»åŠ¡</li>
<li><strong>æŒ‰åºæ‰§è¡Œå®ä»»åŠ¡</strong>ï¼šå¾®ä»»åŠ¡æ¸…ç©ºåæ‰æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
</ol>
<h2 data-id="heading-7">ğŸš€ è¯¦ç»†æ‰§è¡Œæœºåˆ¶è§£æ</h2>
<h3 data-id="heading-8">ç¬¬ä¸€é˜¶æ®µï¼šåŒæ­¥ä»£ç æ‰§è¡Œï¼ˆç«‹å³æ‰§è¡Œï¼‰</h3>
<p>åœ¨ç¤ºä¾‹ä¸€ä¸­ï¼š</p>
<ol>
<li><code>setTimeout1</code> å›è°ƒåŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—</li>
<li><code>Promise</code> æ„é€ å‡½æ•°åŒæ­¥æ‰§è¡Œï¼Œè¾“å‡º <code>pr1</code>ï¼Œ<code>then1</code> åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li><code>setTimeout2</code> å›è°ƒåŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—</li>
<li><code>console.log(2)</code> è¾“å‡º <code>2</code></li>
<li><code>queueMicrotask</code> å›è°ƒåŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>ç¬¬äºŒä¸ª <code>Promise</code> çš„ <code>then3</code> åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li>
</ol>
<p>åœ¨ç¤ºä¾‹äºŒä¸­ï¼š</p>
<ol>
<li><code>console.log("script start")</code> è¾“å‡º</li>
<li><code>setTimeout</code> åŠ å…¥å®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ‰§è¡Œ <code>async1()</code>ï¼š
<ul>
<li>è¾“å‡º <code>async1 start</code></li>
<li>æ‰§è¡Œ <code>async2()</code>ï¼Œè¾“å‡º <code>async2</code></li>
<li><code>await</code> åçš„ä»£ç è½¬ä¸ºå¾®ä»»åŠ¡</li>
</ul>
</li>
<li><code>new Promise</code> æ„é€ å‡½æ•°åŒæ­¥æ‰§è¡Œï¼Œè¾“å‡º <code>promise1</code></li>
<li><code>console.log("script end")</code> è¾“å‡º</li>
</ol>
<h3 data-id="heading-9">ç¬¬äºŒé˜¶æ®µï¼šå¾®ä»»åŠ¡æ‰§è¡Œï¼ˆåŒæ­¥ä»£ç å®Œæˆåï¼‰</h3>
<p><strong>å…³é”®ç‰¹æ€§</strong>ï¼šå¾®ä»»åŠ¡æ‰§è¡ŒæœŸé—´äº§ç”Ÿçš„æ–°å¾®ä»»åŠ¡ä¼šåŠ å…¥å½“å‰é˜Ÿåˆ—å¹¶ç»§ç»­æ‰§è¡Œ</p>
<p>ç¤ºä¾‹ä¸€å¾®ä»»åŠ¡é¡ºåºï¼š</p>
<ol>
<li><code>then1</code> â†’ è¾“å‡º <code>then1</code></li>
<li><code>microtask</code> â†’ è¾“å‡º <code>microtask</code></li>
<li><code>then3</code> â†’ è¾“å‡º <code>then3</code></li>
</ol>
<p>ç¤ºä¾‹äºŒå¾®ä»»åŠ¡é¡ºåºï¼š</p>
<ol>
<li><code>async1 end</code> â†’ è¾“å‡º <code>async1 end</code></li>
<li><code>promise2</code> â†’ è¾“å‡º <code>promise2</code></li>
</ol>
<h3 data-id="heading-10">ç¬¬ä¸‰é˜¶æ®µï¼šå®ä»»åŠ¡æ‰§è¡Œï¼ˆå¾®ä»»åŠ¡æ¸…ç©ºåï¼‰</h3>
<p>æŒ‰åŠ å…¥é˜Ÿåˆ—çš„é¡ºåºæ‰§è¡Œå®ä»»åŠ¡ï¼š</p>
<p>ç¤ºä¾‹ä¸€ï¼š</p>
<ol>
<li>ç¬¬ä¸€ä¸ª <code>setTimeout</code> å›è°ƒï¼š
<ul>
<li>è¾“å‡º <code>set!</code></li>
<li>æ‰§è¡Œ <code>Promise.then</code>ï¼Œè¾“å‡º <code>then2</code></li>
<li>å†…éƒ¨ <code>Promise.then</code> åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ¸…ç©ºæ–°äº§ç”Ÿçš„å¾®ä»»åŠ¡ï¼Œè¾“å‡º <code>then4</code></li>
</ul>
</li>
<li>ç¬¬äºŒä¸ª <code>setTimeout</code> å›è°ƒï¼šè¾“å‡º <code>set2</code></li>
</ol>
<p>ç¤ºä¾‹äºŒï¼š</p>
<ol>
<li><code>setTimeout</code> å›è°ƒï¼šè¾“å‡º <code>setTimeout</code></li>
</ol>
<h2 data-id="heading-11">ğŸ’¡ å…³é”®æŠ€æœ¯ç‚¹è¯¦è§£</h2>
<h3 data-id="heading-12">1. Promiseæ‰§è¡Œæœºåˆ¶</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ„é€ å‡½æ•°å†… - åŒæ­¥æ‰§è¡Œ"</span>);  <span class="hljs-comment">// åŒæ­¥ä»£ç </span>
  <span class="hljs-title function_">resolve</span>();
}).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"thenå›è°ƒ - å¾®ä»»åŠ¡"</span>);      <span class="hljs-comment">// å¾®ä»»åŠ¡</span>
});
</code></pre>
<h3 data-id="heading-13">2. async/awaitæœ¬è´¨</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// async/await å†™æ³•</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">example</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"A"</span>);          <span class="hljs-comment">// åŒæ­¥æ‰§è¡Œ</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">someFunction</span>();      <span class="hljs-comment">// åŒæ­¥æ‰§è¡ŒsomeFunctionï¼Œåé¢çš„ä»£ç è½¬ä¸ºå¾®ä»»åŠ¡</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"B"</span>);          <span class="hljs-comment">// å¾®ä»»åŠ¡</span>
}

<span class="hljs-comment">// ç­‰ä»· Promise å†™æ³•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">example</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"A"</span>);          <span class="hljs-comment">// åŒæ­¥æ‰§è¡Œ</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-title function_">someFunction</span>()).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"B"</span>);        <span class="hljs-comment">// å¾®ä»»åŠ¡</span>
  });
}
</code></pre>
<h3 data-id="heading-14">3. å¾®ä»»åŠ¡åµŒå¥—æ‰§è¡Œ</h3>
<p>å¾®ä»»åŠ¡æ‰§è¡ŒæœŸé—´äº§ç”Ÿçš„æ–°çš„å¾®ä»»åŠ¡ï¼Œä¼šåœ¨å½“å‰äº‹ä»¶å¾ªç¯ä¸­è¢«æ‰§è¡Œï¼Œä¸ä¼šå»¶è¿Ÿåˆ°ä¸‹ä¸€è½®ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¾®ä»»åŠ¡1"</span>);
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"åµŒå¥—å¾®ä»»åŠ¡"</span>);  <span class="hljs-comment">// ä¼šåœ¨å½“å‰å¾®ä»»åŠ¡å¾ªç¯ä¸­æ‰§è¡Œ</span>
  });
});
</code></pre>
<h2 data-id="heading-15">ğŸ“ è®°å¿†å£è¯€</h2>
<pre><code class="hljs language-csharp" lang="csharp">åŒæ­¥å…ˆè¡Œå¾®éšåï¼Œ
å®ä»»åŠ¡åœ¨æœ€åå¤´ã€‚
<span class="hljs-keyword">await</span>å‰æ˜¯åŒæ­¥èµ°ï¼Œ
<span class="hljs-keyword">await</span>åå¾®ä»»åŠ¡ç•™ã€‚
å¾®ä»»åŠ¡æ¸…ç©ºæ‰å®ä»»åŠ¡ï¼Œ
æ–°å¾®ä»»åŠ¡ï¼Œç»§ç»­è·Ÿã€‚
</code></pre>
<h2 data-id="heading-16">ğŸ“Š äº‹ä»¶å¾ªç¯æµç¨‹å›¾</h2>
<pre><code class="hljs language-javascript" lang="javascript">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     åŒæ­¥ä»£ç æ‰§è¡Œæ ˆ        â”‚ â† ç«‹å³æ‰§è¡Œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       å¾®ä»»åŠ¡é˜Ÿåˆ—          â”‚ â† å®Œå…¨æ¸…ç©ºï¼ˆåŒ…æ‹¬åµŒå¥—ï¼‰
â”‚   â€¢ <span class="hljs-title class_">Promise</span>.<span class="hljs-property">then</span>        â”‚
â”‚   â€¢ <span class="hljs-keyword">await</span>åçš„ä»£ç         â”‚
â”‚   â€¢ queueMicrotask      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       å®ä»»åŠ¡é˜Ÿåˆ—          â”‚ â† æŒ‰åºæ‰§è¡Œ
â”‚   â€¢ <span class="hljs-built_in">setTimeout</span>/<span class="hljs-built_in">setInterval</span>â”‚
â”‚   â€¢ I/Oå›è°ƒ              â”‚
â”‚   â€¢ <span class="hljs-variable constant_">UI</span>æ¸²æŸ“              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
        å¾ªç¯æ‰§è¡Œ
</code></pre>
<h2 data-id="heading-17">ğŸ† é¢è¯•è¦ç‚¹æ€»ç»“</h2>
<ol>
<li><strong>åŒæ­¥ä»£ç æ°¸è¿œæœ€å…ˆæ‰§è¡Œ</strong></li>
<li><strong>å¾®ä»»åŠ¡åœ¨åŒæ­¥ä»£ç ä¹‹åã€å®ä»»åŠ¡ä¹‹å‰æ‰§è¡Œ</strong></li>
<li><strong>asyncå‡½æ•°ä¸­ï¼Œawaitå‰çš„ä»£ç åŒæ­¥æ‰§è¡Œ</strong></li>
<li><strong>awaitåçš„ä»£ç ä½œä¸ºå¾®ä»»åŠ¡æ‰§è¡Œ</strong></li>
<li><strong>Promiseæ„é€ å‡½æ•°æ˜¯åŒæ­¥çš„ï¼Œåªæœ‰.then()æ‰æ˜¯å¾®ä»»åŠ¡</strong></li>
<li><strong>å¾®ä»»åŠ¡é˜Ÿåˆ—å¿…é¡»å®Œå…¨æ¸…ç©ºåæ‰æ‰§è¡Œå®ä»»åŠ¡</strong></li>
<li><strong>å¾®ä»»åŠ¡æ‰§è¡ŒæœŸé—´äº§ç”Ÿçš„æ–°å¾®ä»»åŠ¡ä¼šç«‹å³åŠ å…¥å½“å‰é˜Ÿåˆ—</strong></li>
<li><strong>å¤šä¸ªå¾®ä»»åŠ¡æŒ‰å…¥é˜Ÿé¡ºåºæ‰§è¡Œ</strong></li>
<li><strong>å®ä»»åŠ¡æŒ‰äº‹ä»¶å¾ªç¯é¡ºåºæ‰§è¡Œ</strong></li>
</ol>
<h2 data-id="heading-18">ğŸ“š æ‰©å±•çŸ¥è¯†</h2>
<h3 data-id="heading-19">å¤æ‚åœºæ™¯åˆ†æ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">nestedAsync</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"A"</span>);              <span class="hljs-comment">// åŒæ­¥</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"B"</span>);              <span class="hljs-comment">// å¾®ä»»åŠ¡1</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"C"</span>);              <span class="hljs-comment">// å¾®ä»»åŠ¡2ï¼ˆåœ¨å¾®ä»»åŠ¡1ä¸­äº§ç”Ÿï¼‰</span>
}
<span class="hljs-comment">// è¾“å‡º: A â†’ B â†’ Cï¼ˆæ¯ä¸ªawaitåéƒ½æ˜¯æ–°çš„å¾®ä»»åŠ¡ï¼‰</span>
</code></pre>
<h3 data-id="heading-20">æµè§ˆå™¨ä¸Node.jså·®å¼‚</h3>
<ul>
<li>Node.jsä¸­æœ‰<code>process.nextTick</code>ï¼Œä¼˜å…ˆçº§é«˜äºPromiseå¾®ä»»åŠ¡</li>
<li>Node.jsçš„<code>setImmediate</code>å’Œ<code>setTimeout</code>æ‰§è¡Œæ—¶æœºæœ‰æ‰€ä¸åŒ</li>
</ul>
<h3 data-id="heading-21">æ€§èƒ½è€ƒè™‘</h3>
<ul>
<li>é¿å…åœ¨å¾®ä»»åŠ¡ä¸­æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œä¼šé˜»å¡UIæ¸²æŸ“</li>
<li>åˆç†æ‹†åˆ†ä»»åŠ¡ï¼Œé¿å…é•¿æ—¶é—´å ç”¨äº‹ä»¶å¾ªç¯</li>
</ul>
<p>æŒæ¡è¿™äº›æ ¸å¿ƒæ¦‚å¿µï¼Œä½ å°±èƒ½å‡†ç¡®é¢„æµ‹ä»»ä½•JavaScriptå¼‚æ­¥ä»£ç çš„æ‰§è¡Œé¡ºåºï¼Œè¿™æ˜¯å‰ç«¯é¢è¯•ä¸­çš„é«˜é¢‘è€ƒç‚¹ï¼Œä¹Ÿæ˜¯ç¼–å†™å¯é å¼‚æ­¥ä»£ç çš„åŸºç¡€ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¤¾åŒºå…±åˆ›ï½œTRAE ä¸€å‘¨å¹´è®¸æ„¿åœ°å›¾å¼€å‘ç»†èŠ‚å…¨æ­ç§˜]]></title>    <link>https://juejin.cn/post/7599634796583829510</link>    <guid>https://juejin.cn/post/7599634796583829510</guid>    <pubDate>2026-01-27T09:26:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599634796583829510" data-draft-id="7599579865609388074" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¤¾åŒºå…±åˆ›ï½œTRAE ä¸€å‘¨å¹´è®¸æ„¿åœ°å›¾å¼€å‘ç»†èŠ‚å…¨æ­ç§˜"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2026-01-27T09:26:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TRAE_ai"/> <meta itemprop="url" content="https://juejin.cn/user/3048259110571032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¤¾åŒºå…±åˆ›ï½œTRAE ä¸€å‘¨å¹´è®¸æ„¿åœ°å›¾å¼€å‘ç»†èŠ‚å…¨æ­ç§˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3048259110571032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TRAE_ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T09:26:04.000Z" title="Tue Jan 27 2026 09:26:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69dae43525764e128cc72604d2c4e5cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=Xprrsu13vvRX65%2F7qnA84nCll8o%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>ä½œè€…ï¼šèŒ‰å·ï¼ŒTRAE å¼€å‘è€…ç”¨æˆ·</p>
</blockquote>
<p><strong>ä¸€ç¾¤ç¤¾åŒºä¼™ä¼´</strong>ï¼Œå¦‚ä½•ä»é›¶åˆ°ä¸€ï¼Œä¸º TRAE å¼€å‘ä¸€ä¸ªçº¿ä¸Šå‘¨å¹´åº†é¡¹ç›®ï¼Ÿå½“ä½ è¦åŒæ—¶æ‰®æ¼”äº§å“ç»ç†ã€è®¾è®¡å¸ˆå’Œå¼€å‘è€…çš„è§’è‰²ï¼Œå¦‚ä½•ä¿è¯é¡¹ç›®ä¸å¤±æ§ï¼Ÿ</p>
<p>æœ¬æ–‡è®°å½•äº†ç¤¾åŒºä¼™ä¼´ä»¬ä½¿ç”¨ TRAE ï¼Œå°†â€œå‘¨å¹´åº†æ´»åŠ¨â€è¿™ä¸ªæƒ³æ³•ï¼Œä¸€æ­¥æ­¥å˜ä¸ºé«˜è´¨é‡äº¤ä»˜çš„çº¿ä¸Šäº§å“çš„å…¨è¿‡ç¨‹ã€‚ä½ å°†çœ‹åˆ°ä¸€ä¸ªå¯å¤åˆ¶çš„å®è·µè·¯å¾„ï¼šä»éœ€æ±‚åˆ†æã€æŠ€æœ¯é€‰å‹ï¼Œåˆ°æ–‡æ¡£ç”Ÿæˆã€ç¼–ç å®ç°ï¼Œå†åˆ°ç¤¾åŒºåä½œä¸è¿­ä»£ã€‚</p>
<p>è¿™ä¸ä»…æ˜¯ä¸€ä»½ä¸ªäººé¡¹ç›®äº¤ä»˜æŒ‡å—ï¼Œä¹Ÿæ˜¯ä¸€æ¬¡å…³äºâ€œç¤¾åŒºå…±åˆ›â€çš„ç”ŸåŠ¨è¯ é‡Šã€‚</p>
<blockquote>
<p>ç‚¹å‡»é“¾æ¥å³å¯è¿›å…¥ç½‘é¡µï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftraebirth.kingzeus.space%2F" target="_blank" title="https://traebirth.kingzeus.space/" ref="nofollow noopener noreferrer">traebirth.kingzeus.space/</a></p>
</blockquote>
<h2 data-id="heading-0"><strong>ä¸€åˆ‡å§‹äºä¸€ä¸ªç¤¾åŒºæƒ³æ³•</strong></h2>
<p>ä¸€åˆ‡å§‹äº TRAE å‘¨å¹´åº†å‰å¤•çš„ä¸€æ¬¡ç¤¾åŒºå¾é›†ã€‚å½“â€œè®¾è®¡ä¸€ä¸ªæ´»åŠ¨é¡µé¢â€çš„æƒ³æ³•æœ€ç»ˆè¦è½åœ°ä¸ºâ€œå‘¨å¹´åº†æ­£å¼é¡¹ç›®â€æ—¶ï¼ŒæŒ‘æˆ˜éšä¹‹è€Œæ¥ã€‚</p>
<p>ä¸ºæŠŠè¿™ä»½â€œæ¥è‡ªç¤¾åŒºçš„ç”Ÿæ—¥ç¤¼ç‰©â€æŒ‰æœŸäº¤ä»˜ï¼Œæˆ‘å’Œå‡ ä½ç¤¾åŒºä¼™ä¼´ä¸€èµ·å…±åˆ›ã€‚æˆ‘åœ¨é¡¹ç›®ä¸­åŒæ—¶æ‰¿æ‹…é¡¹ç›®ç»ç†ã€UI è®¾è®¡ã€å‰ç«¯å¼€å‘ã€è”è°ƒæµ‹è¯•ç­‰è§’è‰²ï¼Œå¹¶ç”¨ TRAE è´¯ç©¿å…¨è¿‡ç¨‹ï¼šä»æ–‡æ¡£ç”Ÿæˆã€ä»»åŠ¡æ‹†è§£ï¼Œåˆ°åŸºçº¿ä»£ç ç”Ÿæˆã€å¤šäººåä½œã€ç¼ºé™·å®šä½ä¸ä¿®å¤ã€‚</p>
<p><strong>å…¨ç¨‹å¼€å‘ä½¿ç”¨çš„æ˜¯ TRAEå›½é™…ç‰ˆ IDE å’Œ SOLO æ¨¡å¼ï¼Œä¸»åŠ›æ¨¡å‹ä¸º GPT-5.2 å’Œ Gemini-3-Proï¼Œä»æƒ³æ³•åˆ°æœ€ç»ˆç½‘é¡µä¸Šçº¿ï¼Œç”¨æ—¶ä¸€å‘¨ï¼Œæˆå“å¦‚ä¸‹å›¾ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbc75bd3d8454dbca12db4973a422842~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=qjmHuR5SywhokvDz%2B%2Fk8gdGyvYU%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0743fab371cf40aab53234aaab17d801~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=%2FQHFzLgApoZriZagzHqIanL21k0%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1"><strong>ç¬¬ä¸€æ­¥ï¼šä»æƒ³æ³•ï¼Œåˆ°æ¸…æ™°éœ€æ±‚</strong></h2>
<p>å‘¨å¹´åº†çš„ç›®æ ‡æ˜¯â€œåšä¸€ä¸ªèƒ½è®©ç”¨æˆ·å‚ä¸ã€æ„¿æ„åˆ†äº«çš„å°é¡¹ç›®â€ã€‚</p>
<p>æˆ‘é¦–å…ˆå°†è¿™ä¸ªç¬¼ç»Ÿçš„ç›®æ ‡æ‹†è§£ä¸ºä¸‰ä¸ªéœ€è¦å…·ä½“è§£å†³çš„é—®é¢˜ï¼š</p>
<ul>
<li>
<p><strong>å‚ä¸è·¯å¾„é—®é¢˜ï¼š</strong> å‘¨å¹´èŠ‚ç‚¹éœ€è¦ä¸€ä¸ªç»Ÿä¸€å…¥å£ï¼Œè®©ç”¨æˆ·â€œçœ‹è§å°±èƒ½å‚ä¸â€ï¼Œè·¯å¾„è¶ŠçŸ­è¶Šå¥½ã€‚</p>
</li>
<li>
<p><strong>æ°›å›´ä¸ä»ªå¼æ„Ÿé—®é¢˜ï¼š</strong> åªæœ‰åˆ—è¡¨ä¼šå¾ˆå¹³æ·¡ï¼Œåœ°å›¾èƒ½å¤©ç„¶åˆ¶é€ â€œç‚¹äº®ä¸–ç•Œâ€çš„ä»ªå¼æ„Ÿä¸å‚ä¸åé¦ˆï¼ˆæ¯ä¸€æ¡å¿ƒæ„¿éƒ½å¯¹åº”ä¸€ä¸ªåœ°ç‚¹è¢«ç‚¹äº®ï¼Œè¶Šå¤šäººå‚ä¸è¶Šç›´è§‚ï¼‰ã€‚</p>
</li>
<li>
<p><strong>äº’åŠ¨ä¸ä¼ æ’­é—®é¢˜ï¼š</strong> ç”¨æˆ·å¸Œæœ›è‡ªå·±çš„å†…å®¹è¢«çœ‹è§ã€è¢«å›åº”ï¼›æ´»åŠ¨éœ€è¦è‡ªç„¶ä¼ æ’­æŠ“æ‰‹ï¼Œä¾‹å¦‚ç‚¹èµå’Œåˆ†äº«é“¾æ¥ã€‚</p>
</li>
</ul>
<p>ä¸ºäº†ç³»ç»Ÿæ€§åœ°æ¢³ç†éœ€æ±‚ï¼Œæˆ‘ä¹ æƒ¯äºåœ¨é¡¹ç›®å¼€å§‹æ—¶å¼ºåˆ¶è‡ªå·±å›ç­”â€œçµé­‚ 4 é—®â€ï¼Œå¹¶æŠŠè¿™ä¸€æ­¥äº¤ç»™ TRAE åšç¬¬ä¸€è½®å¤´è„‘é£æš´ï¼Œç„¶åç”±æˆ‘è¿›è¡Œè£å‰ªä¸å®šç¨¿ï¼š</p>
<blockquote>
<ol>
<li>ç³»ç»Ÿè¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</li>
<li>åŒ…å«å“ªäº›æ ¸å¿ƒåŠŸèƒ½ï¼Ÿ</li>
<li>è¾“å…¥è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>ä¾èµ–å“ªäº›ç»„ä»¶ä¸æ•°æ®ï¼Ÿ</li>
</ol>
</blockquote>
<p>æˆ‘å‘ TRAE çš„è‡ªå®šä¹‰æ™ºèƒ½ä½“â€œåˆ›æ„å¼•å¯¼å¸ˆâ€ä¸‹è¾¾æŒ‡ä»¤ï¼Œè®©å®ƒå›´ç»•è¿™å››ä¸ªé—®é¢˜è¿›è¡Œåˆ†æã€‚ä¸‹å›¾æ˜¯ TRAE ç”Ÿæˆçš„éƒ¨åˆ†åˆæ­¥æ„æƒ³ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0420617cc3b94b3e91184d2f272ca35f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=iOEeLrImdu3KGZBm7jj7bJ2tZmA%3D" alt="æˆªå±2026-01-27 16.41.11.png" loading="lazy"/></p>
<p>ç»è¿‡å¤šè½®è®¨è®ºå’Œæˆ‘çš„è£å‰ªï¼Œæœ€ç»ˆå¾—å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<h3 data-id="heading-2"><strong>ä»·å€¼ä¸»å¼ </strong></h3>
<ul>
<li>
<p>æŠŠåˆ†æ•£çš„â€œå‘¨å¹´ç¥ç¦â€èšåˆæˆä¸€ä¸ªå¯è§†åŒ–çš„å…±åŒè®°å¿†ï¼ˆåœ°å›¾ç‚¹äº® + çƒ­åŠ›èšåˆï¼‰ã€‚</p>
</li>
<li>
<p>è®©ç”¨æˆ·åœ¨çŸ­è·¯å¾„å†…å®Œæˆå‚ä¸ï¼Œå¹¶è·å¾—å³æ—¶åé¦ˆï¼ˆæäº¤æˆåŠŸåŠ¨æ•ˆã€å®æ—¶å¼¹å¹•ã€ç‚¹èµå¢é•¿ï¼‰ã€‚</p>
</li>
<li>
<p>è®©å†…å®¹å…·å¤‡å¯ä¼ æ’­æ€§ï¼ˆåˆ†äº«é“¾æ¥å¯æ‰“å¼€ç‰¹å®šå¿ƒæ„¿ï¼‰ã€‚</p>
</li>
</ul>
<h3 data-id="heading-3"><strong>ä¸šåŠ¡è¾¹ç•Œ</strong></h3>
<ul>
<li>
<p>å¿ƒæ„¿æäº¤ä¾èµ–æµè§ˆå™¨å®šä½ï¼šç”¨æˆ·æˆæƒåæäº¤ï¼Œç»çº¬åº¦å†™å…¥æ•°æ®åº“ï¼Œçœä»½ç”±åæ ‡æ¨æ–­ã€‚</p>
</li>
<li>
<p>å¿ƒæ„¿æäº¤éœ€è¦å‘ç”¨æˆ·ç”³è¯·ä½ç½®ä¿¡æ¯ï¼Œç”¨æˆ·åŒæ„åæ‰èƒ½æäº¤æ„¿æœ›</p>
</li>
<li>
<p>ç‚¹èµæœ‰é˜²é‡å¤ï¼šå‰ç«¯æœ¬åœ°å»é‡ + åç«¯/æ•°æ®åº“æŒ‡çº¹å»é‡ï¼Œé‡å¤ç‚¹èµè¿”å›é”™è¯¯ã€‚</p>
</li>
<li>
<p>ç‚¹äº®è®¡æ•°æŒ‰ IP é™åˆ¶ï¼šåŒä¸€ IP åªèƒ½â€œç‚¹äº®â€ä¸€æ¬¡ã€‚</p>
</li>
</ul>
<h3 data-id="heading-4"><strong>é™„çµé­‚ 4 é—®</strong></h3>
<h4 data-id="heading-5"><strong>1. ç³»ç»Ÿè¦è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</strong></h4>
<ul>
<li>
<p><strong>å‚ä¸è·¯å¾„é—®é¢˜ï¼š</strong> éœ€è¦ä¸€ä¸ªç»Ÿä¸€å…¥å£ï¼Œè®©ç”¨æˆ·â€œå¿«é€Ÿå‚ä¸â€ã€‚</p>
</li>
<li>
<p><strong>å¯è§†åŒ–ä¸æ°›å›´é—®é¢˜ï¼š</strong> éœ€è¦UIç»„ä»¶ï¼ˆåœ°å›¾ + ç‚¹äº® + å¼¹å¹•ï¼‰æ¥æ”¾å¤§å‚ä¸æ„Ÿã€‚</p>
</li>
<li>
<p><strong>äº’åŠ¨ä¸ä¼ æ’­é—®é¢˜ï¼š</strong> ç”¨æˆ·å¸Œæœ›è‡ªå·±çš„å†…å®¹è¢«çœ‹è§ã€è¢«åé¦ˆï¼›æ´»åŠ¨éœ€è¦è‡ªç„¶ä¼ æ’­æŠ“æ‰‹ï¼ˆç‚¹èµã€åˆ†äº«é“¾æ¥ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ²»ç†ä¸å¯æ§é—®é¢˜ï¼š</strong> åŒ¿åå‚ä¸ä¸å¯é¿å…å¸¦æ¥å†…å®¹é£é™©ï¼Œå› æ­¤å¿…é¡»å…·å¤‡å®¡æ ¸ä¸å¿«é€Ÿå¤„ç½®èƒ½åŠ›ã€‚</p>
</li>
</ul>
<h4 data-id="heading-6"><strong>2. åŒ…å«å“ªäº›æ ¸å¿ƒåŠŸèƒ½ï¼Ÿ</strong></h4>
<p><strong>ç”¨æˆ·ä¾§</strong></p>
<p><strong>æ²‰æµ¸å¼å¼€åœºï¼š</strong> ç°æœ‰ä¸€ä¸ªåŠ¨ç”»ï¼Œä¹‹åè¿›å…¥ä¸»ç•Œé¢</p>
<p><strong>åœ°å›¾äº¤äº’ä¸å±•ç¤ºï¼š</strong></p>
<ul>
<li>MapLibre åœ°å›¾ï¼ˆæš—è‰²é£æ ¼ï¼‰å‘ˆç°ï¼›</li>
<li>å¿ƒæ„¿ç‚¹ä½æ¸²æŸ“ã€èšåˆä¸çƒ­åŠ›å›¾å±‚ï¼›</li>
<li>ç‚¹å‡»ç‚¹ä½æ‰“å¼€å¿ƒæ„¿è¯¦æƒ…</li>
</ul>
<p><strong>æäº¤å¿ƒæ„¿ï¼š</strong></p>
<ul>
<li>ç”¨æˆ·å¯ä»¥è¾“å…¥å†…å®¹ä¸ç½²åï¼Œé€‰æ‹©æœ¬åœ°å¤´åƒï¼›</li>
<li>æäº¤å‰è¦æ±‚åŒæ„â€œå®šä½ä½¿ç”¨è¯´æ˜â€å¹¶å¼€å¯å®šä½æƒé™ï¼›</li>
<li>ç”±å®šä½è·å¾—ç»çº¬åº¦ï¼Œå¹¶å†™å…¥æ•°æ®åº“</li>
</ul>
<p><strong>å®æ—¶æ°›å›´ï¼š</strong></p>
<ul>
<li>å¼¹å¹•å±•ç¤ºæœ€æ–°å¿ƒæ„¿</li>
</ul>
<p><strong>ç‚¹èµäº’åŠ¨ï¼š</strong></p>
<ul>
<li>åç«¯æ•°æ®åº“ æŒ‰ç…§IPè®¾ç½®ç‚¹èµ</li>
</ul>
<p><strong>åˆ†äº«ï¼š</strong></p>
<ul>
<li>ä¸ºå•æ¡å¿ƒæ„¿ç”Ÿæˆ å¯ä¼ æ’­é“¾æ¥ï¼›</li>
<li>åˆ†äº«é¡µæ‰“å¼€åå¯ç›´æ¥ç‚¹èµ</li>
</ul>
<p><strong>å¿ƒæ„¿æ¦œï¼š</strong> æŒ‰åœ°åŒºèšåˆï¼Œå±•ç¤ºæ€»ç‚¹èµ/å¿ƒæ„¿æ•°æ’è¡Œ</p>
<h4 data-id="heading-7"><strong>3. è¾“å…¥è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿ</strong></h4>
<p><strong>æ ¸å¿ƒè¾“å…¥ï¼ˆç”¨æˆ·ä¾§ï¼‰</strong></p>
<ul>
<li>
<p><strong>å†…å®¹è¾“å…¥ï¼š</strong> å¿ƒæ„¿å†…å®¹ <code>content</code>ã€ç½²å <code>author</code>ã€å¤´åƒå¼•ç”¨ <code>avatar_url</code>ã€‚</p>
</li>
<li>
<p><strong>å®šä½è¾“å…¥ï¼š</strong> æµè§ˆå™¨ Â è¿”å› <code>latitude</code> / <code>longitude</code>ã€‚</p>
</li>
<li>
<p><strong>äº’åŠ¨è¾“å…¥ï¼š</strong> ç‚¹èµï¼ˆwishIdï¼‰ã€åˆ†äº«ï¼ˆwishIdï¼‰ã€‚</p>
</li>
<li>
<p><strong>éšç§/æˆæƒè¾“å…¥ï¼š</strong> æ˜¯å¦åŒæ„å®šä½è¯´æ˜ + æ˜¯å¦æˆäºˆå®šä½æƒé™ã€‚</p>
</li>
</ul>
<p><strong>æ ¸å¿ƒè¾“å‡ºï¼ˆç”¨æˆ·ä¾§ï¼‰</strong></p>
<ul>
<li>
<p><strong>åœ°å›¾å±‚ï¼š</strong> ç‚¹ä½ã€èšåˆã€çƒ­åŠ›å±‚ï¼›å¯ä»åˆ—è¡¨/å¼¹çª—èšç„¦åˆ°æŸä¸ªç‚¹ä½ã€‚</p>
</li>
<li>
<p><strong>å¿ƒæ„¿å¡ç‰‡/è¯¦æƒ…ï¼š</strong> ä½œè€…ã€å¤´åƒã€å†…å®¹ã€ç‚¹èµæ•°ã€æ—¶é—´ç­‰ã€‚</p>
</li>
<li>
<p><strong>å®æ—¶æ°›å›´ï¼š</strong> å¼¹å¹•ã€‚</p>
</li>
<li>
<p><strong>åˆ†äº«é“¾æ¥ï¼š</strong> å¯æ‰“å¼€æŒ‡å®šå¿ƒæ„¿ã€‚</p>
</li>
<li>
<p><strong>ç‚¹äº®ç¼–å·ï¼š</strong> æäº¤æˆåŠŸåè¿”å›å…¨ç«™ç‚¹äº®è®¡æ•°ã€‚</p>
</li>
</ul>
<p><strong>API è¾“å…¥è¾“å‡ºï¼ˆé¢å‘ç³»ç»Ÿï¼‰</strong></p>
<p>ä¸»è¦æ¥å£ï¼š</p>
<ul>
<li>
<p><em><strong>POST /wishes</strong></em>ï¼šæäº¤å¿ƒæ„¿ï¼ˆå«ç»çº¬åº¦ã€province_id ç­‰ï¼‰</p>
</li>
<li>
<p>**<em>GET /wishes?limit=...</em> **ï¼šæ‹‰å–å·²å®¡æ ¸å¿ƒæ„¿</p>
</li>
<li>
<p><em><strong>POST /wishes/{id}/like</strong></em>ï¼šç‚¹èµï¼ˆè¿”å›æœ€æ–° likesï¼‰</p>
</li>
<li>
<p><em><strong>GET /leaderboard</strong></em>ï¼šçœä»½æ¦œ</p>
</li>
<li>
<p><em><strong>GET /counter</strong></em>ã€<em><strong>POST /counter/increment</strong></em>ã€<em><strong>GET /counter/check-ip</strong></em>ï¼šç‚¹äº®è®¡æ•° + IP é™åˆ¶</p>
</li>
<li>
<p><em><strong>POST /shares</strong></em>ã€**<em>GET /shares/{token}</em> **ï¼šåˆ†äº« token ç”Ÿæˆä¸è§£æ</p>
</li>
<li>
<p>**<em>GET /sse/wishesï¼š</em> **SSE å®æ—¶æ¨é€</p>
</li>
</ul>
<p><strong>æ•°æ®åº“è¾“å…¥è¾“å‡ºï¼ˆæ ¸å¿ƒæ•°æ®æ¨¡å‹ï¼‰</strong></p>
<p>ä¸»è¡¨ä¸º <em><strong>public.users</strong></em>ï¼ˆè¯­ä¹‰ä¸Šæ‰¿è½½â€œå¿ƒæ„¿â€è®°å½•ï¼‰ï¼š</p>
<ul>
<li>
<p><em><strong>idï¼ˆuuidï¼‰</strong></em></p>
</li>
<li>
<p><em><strong>content</strong></em></p>
</li>
<li>
<p><em><strong>author</strong></em></p>
</li>
<li>
<p><em><strong>avatar_url</strong></em></p>
</li>
<li>
<p><em><strong>province_id</strong></em></p>
</li>
<li>
<p><em><strong>location</strong></em></p>
</li>
<li>
<p><em><strong>likes</strong></em></p>
</li>
<li>
<p><em><strong>status</strong></em></p>
</li>
<li>
<p><em><strong>created_at</strong></em></p>
</li>
</ul>
<h4 data-id="heading-8"><strong>4. ä¾èµ–å“ªäº›ç»„ä»¶ä¸æ•°æ®ï¼Ÿ</strong></h4>
<p>æˆ‘åœ¨é€‰å‹æ—¶å…³æ³¨çš„æ˜¯â€œå¿«é€Ÿè½åœ° + ç”Ÿæ€æˆç†Ÿ + å¯æ§æˆæœ¬â€ã€‚</p>
<p><strong>åœ°å›¾ï¼šMapLibre GL JS</strong></p>
<ul>
<li>åŸå› ï¼šAPI æˆç†Ÿã€æ¸²æŸ“èƒ½åŠ›å¼ºã€ç¤¾åŒºèµ„æºå¤šï¼›å¯¹â€œç‚¹ä½ + èšåˆ + äº¤äº’â€éå¸¸è´´åˆã€‚</li>
</ul>
<p><strong>å‰ç«¯æ¡†æ¶ï¼šReact + TypeScript</strong></p>
<ul>
<li>åŸå› ï¼šé¡µé¢å‹é¡¹ç›®äº¤ä»˜é€Ÿåº¦å¿«ï¼›è·¯ç”±ä¸ API Routes æ–¹ä¾¿å¿«é€Ÿæ­å»ºæ¥å£å±‚ã€‚</li>
</ul>
<p><strong>æ•°æ®åº“ï¼šSupabase</strong></p>
<ul>
<li>åŸå› ï¼šTRAE SOLO å¯ä»¥ç›´æ¥è¿æ¥ï¼Œå¼€å‘éå¸¸æ–¹ä¾¿ã€‚</li>
</ul>
<p><strong>éƒ¨ç½²ï¼šVercel</strong></p>
<ul>
<li>åŸå› ï¼šTRAE SOLO ä¸€é”®éƒ¨ç½²ï¼Œæ–¹ä¾¿å¿«é€Ÿå±•ç¤ºæˆæœã€‚</li>
</ul>
<blockquote>
<p><strong>å®è·µæ€»ç»“ï¼šç”¨ TRAE åŠ é€Ÿéœ€æ±‚æ¢ç´¢</strong></p>
<p>å°†è¡Œä¸šé€šç”¨çš„åˆ†ææ¡†æ¶ï¼ˆå¦‚â€œçµé­‚å››é—®â€ï¼‰ä½œä¸º Prompt çš„ä¸€éƒ¨åˆ†ï¼Œè®© TRAE æ‰®æ¼”â€œéœ€æ±‚åˆ†æå¸ˆâ€çš„è§’è‰²ï¼Œå¯ä»¥å¿«é€Ÿäº§å‡ºç»“æ„åŒ–çš„æ€è€ƒæ¡†æ¶ï¼Œå¸®åŠ©ä½ ç†æ¸…æ€è·¯ï¼Œä¸ºåç»­çš„è®¾è®¡ä¸å¼€å‘å¥ å®šåšå®åŸºç¡€ã€‚</p>
<ul>
<li><strong>TRAE ä½¿ç”¨ç»†èŠ‚ï¼š</strong> TRAE å›½é™…ç‰ˆ IDEæ¨¡å¼ï¼Œè‡ªå®šä¹‰æ™ºèƒ½ä½“ +GPT-5.2 æ¨¡å‹</li>
<li>é™„å¤´è„‘é£æš´è‡ªå®šä¹‰æ™ºèƒ½ä½“åˆ†äº«é“¾æ¥ï¼Œå¤§å®¶å¯å¯¼å…¥ä½¿ç”¨ï¼šæˆ‘ç”¨ TRAE åšäº†ä¸€ä¸ªæœ‰æ„æ€çš„Agent ã€Œåˆ›æ„å¼•å¯¼å¸ˆã€ã€‚ ç‚¹å‡» <a href="https://link.juejin.cn?target=https%3A%2F%2Fs.trae.ai%2Fa%2F835bc7%3Fregion%3Dsg" target="_blank" title="https://s.trae.ai/a/835bc7?region=sg" ref="nofollow noopener noreferrer">s.trae.ai/a/835bc7?reâ€¦</a> ç«‹å³å¤åˆ»ï¼Œä¸€èµ·æ¥ç©å§ï¼</li>
</ul>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f244d09738d41d1b25259409643c4fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=1YQRLfUkdgWDV8wjMbmuCb8Y%2FNk%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-9"><strong>ç¬¬äºŒæ­¥ï¼šä»éœ€æ±‚ï¼Œåˆ°å¯æ‰§è¡Œçš„æŠ€æœ¯æ–¹æ¡ˆ</strong></h2>
<p>æœ‰äº†æ¸…æ™°çš„éœ€æ±‚ï¼Œä¸‹ä¸€æ­¥æ˜¯å°†å…¶è½¬åŒ–ä¸ºç»“æ„åŒ–çš„æŠ€æœ¯æ–‡æ¡£ã€‚åœ¨è¿‡å»ï¼Œè¿™é€šå¸¸éœ€è¦è€—è´¹å¤§é‡æ—¶é—´ç¼–å†™ PRD å’ŒæŠ€æœ¯è®¾è®¡æ–‡æ¡£ã€‚ä½†å€ŸåŠ© TRAE ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥è¢«æå¤§åœ°åŠ é€Ÿã€‚</p>
<p>æˆ‘ä¸º TRAE å‡†å¤‡äº†ä¸‰ä¸ªæ ¸å¿ƒçš„ Promptï¼Œåˆ†åˆ«ç”¨äºç”Ÿæˆ<strong>éœ€æ±‚æ–‡æ¡£ï¼ˆPRDï¼‰</strong> ã€æŠ€æœ¯æ–‡æ¡£å’Œä»»åŠ¡åˆ—è¡¨ã€‚è¿™äº› Prompt ä¸ä»…ä»…æ˜¯ç®€å•çš„æŒ‡ä»¤ï¼Œæ›´æ˜¯ä¸€å¥—æ ‡å‡†åŒ–çš„â€œæ¨¡æ¿â€ï¼Œè§„å®šäº†æ–‡æ¡£çš„ç»“æ„ã€ç¼–å†™è§„èŒƒå’ŒæŠ€æœ¯æ ˆè¦æ±‚ç­‰ã€‚</p>
<p><strong>ç”Ÿæˆé¡¹ç›®éœ€æ±‚æç¤ºè¯</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">è¯·ä¸º [é¡¹ç›®åç§°] ç”Ÿæˆä¸€ä»½å®Œæ•´çš„éœ€æ±‚æ–‡æ¡£ï¼Œéµå¾ªä»¥ä¸‹è§„èŒƒï¼š

<span class="hljs-strong">**æ–‡æ¡£ç»“æ„è¦æ±‚ï¼š**</span>
<span class="hljs-bullet">1.</span> Introduction - é¡¹ç›®æ¦‚è¿°å’ŒèƒŒæ™¯
<span class="hljs-bullet">2.</span> Glossary - å®šä¹‰æ‰€æœ‰å…³é”®æœ¯è¯­å’Œç³»ç»Ÿåç§°
<span class="hljs-bullet">3.</span> Requirements - è¯¦ç»†çš„éœ€æ±‚åˆ—è¡¨

<span class="hljs-strong">**éœ€æ±‚ç¼–å†™è§„èŒƒï¼š**</span>
<span class="hljs-bullet">-</span> æ¯ä¸ªéœ€æ±‚å¿…é¡»åŒ…å« User Storyï¼ˆç”¨æˆ·æ•…äº‹ï¼‰
<span class="hljs-bullet">-</span> æ¯ä¸ªéœ€æ±‚å¿…é¡»åŒ…å« Acceptance Criteriaï¼ˆéªŒæ”¶æ ‡å‡†ï¼‰
<span class="hljs-bullet">-</span> æ‰€æœ‰éªŒæ”¶æ ‡å‡†å¿…é¡»ä½¿ç”¨ EARS æ¨¡å¼ä¹‹ä¸€ï¼š
<span class="hljs-bullet">  *</span> Ubiquitous: THE <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">system</span>&gt;</span></span> SHALL <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">response</span>&gt;</span></span>
<span class="hljs-bullet">  *</span> Event-driven: WHEN <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">trigger</span>&gt;</span></span>, THE <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">system</span>&gt;</span></span> SHALL <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">response</span>&gt;</span></span>
<span class="hljs-bullet">  *</span> State-driven: WHILE <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">condition</span>&gt;</span></span>, THE <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">system</span>&gt;</span></span> SHALL <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">response</span>&gt;</span></span>
<span class="hljs-bullet">  *</span> Unwanted event: IF <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">condition</span>&gt;</span></span>, THEN THE <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">system</span>&gt;</span></span> SHALL <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">response</span>&gt;</span></span>
<span class="hljs-bullet">  *</span> Optional feature: WHERE <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span></span>, THE <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">system</span>&gt;</span></span> SHALL <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">response</span>&gt;</span></span>
<span class="hljs-bullet">  *</span> Complex: [WHERE] [WHILE] [WHEN/IF] THE <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">system</span>&gt;</span></span> SHALL <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">response</span>&gt;</span></span>

<span class="hljs-strong">**è´¨é‡æ ‡å‡†ï¼š**</span>
<span class="hljs-bullet">-</span> ä½¿ç”¨ä¸»åŠ¨è¯­æ€ï¼Œæ˜ç¡®è¯´æ˜è°åšä»€ä¹ˆ
<span class="hljs-bullet">-</span> é¿å…æ¨¡ç³Šæœ¯è¯­ï¼ˆå¦‚"å¿«é€Ÿ"ã€"åˆç†"ã€"ç”¨æˆ·å‹å¥½"ï¼‰
<span class="hljs-bullet">-</span> ä¸ä½¿ç”¨ä»£è¯ï¼Œä½¿ç”¨ Glossary ä¸­å®šä¹‰çš„å…·ä½“æœ¯è¯­
<span class="hljs-bullet">-</span> æ¯ä¸ªæ ‡å‡†å¿…é¡»å¯æµ‹è¯•å’Œå¯éªŒè¯
<span class="hljs-bullet">-</span> ä½¿ç”¨æ­£é¢é™ˆè¿°ï¼ˆè¯´æ˜ç³»ç»Ÿåº”è¯¥åšä»€ä¹ˆï¼Œè€Œéä¸åº”è¯¥åšä»€ä¹ˆï¼‰
<span class="hljs-bullet">-</span> é¿å…é€ƒé¿æ¡æ¬¾ï¼ˆå¦‚"åœ¨å¯èƒ½çš„æƒ…å†µä¸‹"ã€"å¦‚æœå¯è¡Œ"ï¼‰

<span class="hljs-strong">**é¡¹ç›®èƒŒæ™¯ï¼š**</span>
[åœ¨æ­¤æè¿°ä½ çš„é¡¹ç›®æƒ³æ³•ã€ç›®æ ‡ç”¨æˆ·ã€æ ¸å¿ƒåŠŸèƒ½ç­‰]

è¯·ç”Ÿæˆç¬¦åˆä¸Šè¿°è§„èŒƒçš„éœ€æ±‚æ–‡æ¡£ã€‚
</code></pre>
<p><strong>ç”Ÿå†™é¡¹ç›®æŠ€æœ¯æ–‡æ¡£æç¤ºè¯</strong></p>
<p><strong>ä¸Šä¸‹æ»‘åŠ¨æŸ¥çœ‹å®Œæ•´å†…å®¹</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">è¯·åŸºäºä»¥ä¸‹éœ€æ±‚æ–‡æ¡£ä¸º [é¡¹ç›®åç§°] ç”Ÿæˆä¸€ä»½å®Œæ•´çš„æŠ€æœ¯è®¾è®¡æ–‡æ¡£ï¼š

<span class="hljs-strong">**éœ€æ±‚æ–‡æ¡£è·¯å¾„ï¼š**</span> [éœ€æ±‚æ–‡æ¡£çš„è·¯å¾„æˆ–å†…å®¹]

<span class="hljs-strong">**æ–‡æ¡£ç»“æ„è¦æ±‚ï¼š**</span>
<span class="hljs-bullet">1.</span> Overview - ç³»ç»Ÿæ¦‚è¿°ã€æ ¸å¿ƒåŠŸèƒ½ã€æŠ€æœ¯æ ˆé€‰æ‹©
<span class="hljs-bullet">2.</span> Architecture - ç³»ç»Ÿæ¶æ„å›¾ï¼ˆä½¿ç”¨ Mermaidï¼‰ã€è¯·æ±‚æµç¨‹å›¾
<span class="hljs-bullet">3.</span> Components and Interfaces - å„ç»„ä»¶çš„èŒè´£ã€æ¥å£å®šä¹‰ã€å®ç°è¦ç‚¹
<span class="hljs-bullet">4.</span> Data Models - æ•°æ®åº“ Schemaã€Pydantic/æ•°æ®æ¨¡å‹å®šä¹‰
<span class="hljs-bullet">5.</span> Correctness Properties - å¯æµ‹è¯•çš„æ­£ç¡®æ€§å±æ€§
<span class="hljs-bullet">6.</span> Error Handling - é”™è¯¯å¤„ç†ç­–ç•¥ã€é”™è¯¯ç å®šä¹‰ã€æ—¥å¿—ç­–ç•¥
<span class="hljs-bullet">7.</span> Testing Strategy - å•å…ƒæµ‹è¯•å’Œå±æ€§æµ‹è¯•ç­–ç•¥

<span class="hljs-strong">**æŠ€æœ¯æ ˆè¦æ±‚ï¼š**</span>
<span class="hljs-bullet">-</span> ç¼–ç¨‹è¯­è¨€ï¼š[æŒ‡å®šè¯­è¨€ï¼Œå¦‚ Python/TypeScript/Java]
<span class="hljs-bullet">-</span> Web æ¡†æ¶ï¼š[å¦‚ FastAPI/Express/Spring Boot]
<span class="hljs-bullet">-</span> æ•°æ®åº“ï¼š[å¦‚ PostgreSQL/MongoDB/MySQL]
<span class="hljs-bullet">-</span> ç¼“å­˜/é˜Ÿåˆ—ï¼š[å¦‚ Redis/RabbitMQ]
<span class="hljs-bullet">-</span> å…¶ä»–æŠ€æœ¯ï¼š[æ ¹æ®éœ€æ±‚æŒ‡å®š]

<span class="hljs-strong">**Correctness Properties è¦æ±‚ï¼š**</span>
<span class="hljs-bullet">-</span> åœ¨ç¼–å†™ Correctness Properties ä¹‹å‰ï¼Œå¿…é¡»å…ˆå®Œæˆ prework åˆ†æ
<span class="hljs-bullet">-</span> æ¯ä¸ªå±æ€§å¿…é¡»ä»¥ "For any" æˆ– "For all" å¼€å¤´ï¼ˆé€šç”¨é‡åŒ–ï¼‰
<span class="hljs-bullet">-</span> æ¯ä¸ªå±æ€§å¿…é¡»æ ‡æ³¨éªŒè¯çš„éœ€æ±‚ç¼–å·ï¼š <span class="hljs-strong">**Validates: Requirements X.Y**</span>
<span class="hljs-bullet">-</span> å±æ€§åº”è¦†ç›–æ‰€æœ‰å¯æµ‹è¯•çš„éªŒæ”¶æ ‡å‡†
<span class="hljs-bullet">-</span> æ¶ˆé™¤å†—ä½™å±æ€§ï¼Œç¡®ä¿æ¯ä¸ªå±æ€§æä¾›ç‹¬ç‰¹çš„éªŒè¯ä»·å€¼

<span class="hljs-strong">**æµ‹è¯•ç­–ç•¥è¦æ±‚ï¼š**</span>
<span class="hljs-bullet">-</span> æ˜ç¡®å•å…ƒæµ‹è¯•å’Œå±æ€§æµ‹è¯•çš„äº’è¡¥å…³ç³»
<span class="hljs-bullet">-</span> æŒ‡å®šå±æ€§æµ‹è¯•åº“ï¼ˆå¦‚ Hypothesis/fast-check/QuickCheckï¼‰
<span class="hljs-bullet">-</span> æ¯ä¸ªå±æ€§æµ‹è¯•è‡³å°‘è¿è¡Œ 100 æ¬¡è¿­ä»£
<span class="hljs-bullet">-</span> æ¯ä¸ªæµ‹è¯•å¿…é¡»æ ‡æ³¨å¯¹åº”çš„è®¾è®¡å±æ€§ç¼–å·

è¯·ç”Ÿæˆç¬¦åˆä¸Šè¿°è§„èŒƒçš„æŠ€æœ¯è®¾è®¡æ–‡æ¡£ã€‚
</code></pre>
<p><strong>ç”Ÿæˆé¡¹ç›®ä»»åŠ¡åˆ—è¡¨æç¤ºè¯</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">è¯·åŸºäºä»¥ä¸‹éœ€æ±‚æ–‡æ¡£å’Œè®¾è®¡æ–‡æ¡£ä¸º [é¡¹ç›®åç§°] ç”Ÿæˆä¸€ä»½å®Œæ•´çš„å®ç°ä»»åŠ¡åˆ—è¡¨ï¼š

<span class="hljs-strong">**éœ€æ±‚æ–‡æ¡£è·¯å¾„ï¼š**</span> [éœ€æ±‚æ–‡æ¡£çš„è·¯å¾„]
<span class="hljs-strong">**è®¾è®¡æ–‡æ¡£è·¯å¾„ï¼š**</span> [è®¾è®¡æ–‡æ¡£çš„è·¯å¾„]

<span class="hljs-strong">**å®ç°è¯­è¨€ï¼š**</span> [Python/TypeScript/Java ç­‰]

<span class="hljs-strong">**ä»»åŠ¡åˆ—è¡¨è¦æ±‚ï¼š**</span>
<span class="hljs-bullet">1.</span> å°†è®¾è®¡è½¬æ¢ä¸ºç¦»æ•£çš„ç¼–ç æ­¥éª¤
<span class="hljs-bullet">2.</span> æ¯ä¸ªä»»åŠ¡å¿…é¡»æ˜¯å¯ç”±ä»£ç ç”Ÿæˆ LLM æ‰§è¡Œçš„å…·ä½“ç¼–ç ä»»åŠ¡
<span class="hljs-bullet">3.</span> ä»»åŠ¡å¿…é¡»å¢é‡æ„å»ºï¼Œæ¯ä¸ªä»»åŠ¡åŸºäºå‰ä¸€ä¸ªä»»åŠ¡
<span class="hljs-bullet">4.</span> æœ€å¤šä¸¤å±‚å±‚çº§ï¼ˆä¸»ä»»åŠ¡å’Œå­ä»»åŠ¡ï¼‰
<span class="hljs-bullet">5.</span> ä½¿ç”¨å¤é€‰æ¡†æ ¼å¼ï¼š<span class="hljs-code">`- [ ] ä»»åŠ¡æè¿°`</span>
<span class="hljs-bullet">6.</span> å­ä»»åŠ¡ä½¿ç”¨å°æ•°ç¼–å·ï¼š<span class="hljs-code">`- [ ] 1.1 å­ä»»åŠ¡æè¿°`</span>

<span class="hljs-strong">**ä»»åŠ¡å†…å®¹è¦æ±‚ï¼š**</span>
<span class="hljs-bullet">-</span> æ¯ä¸ªä»»åŠ¡å¿…é¡»å¼•ç”¨å…·ä½“çš„éœ€æ±‚ç¼–å·ï¼š <span class="hljs-emphasis">_éœ€æ±‚: X.Y, X.Z_</span>
<span class="hljs-bullet">-</span> åŒ…å«å±æ€§æµ‹è¯•å­ä»»åŠ¡ï¼Œæ ‡æ³¨å±æ€§ç¼–å·å’ŒéªŒè¯çš„éœ€æ±‚
<span class="hljs-bullet">-</span> æµ‹è¯•ç›¸å…³å­ä»»åŠ¡æ ‡è®°ä¸ºå¯é€‰ï¼ˆåç¼€ <span class="hljs-code">`*`</span>ï¼‰ï¼š<span class="hljs-code">`- [ ]* 1.2 ç¼–å†™å•å…ƒæµ‹è¯•`</span>
<span class="hljs-bullet">-</span> åœ¨åˆç†çš„æ–­ç‚¹æ·»åŠ æ£€æŸ¥ç‚¹ä»»åŠ¡

<span class="hljs-strong">**ç¦æ­¢çš„ä»»åŠ¡ç±»å‹ï¼š**</span>
<span class="hljs-bullet">-</span> ç”¨æˆ·éªŒæ”¶æµ‹è¯•æˆ–ç”¨æˆ·åé¦ˆæ”¶é›†
<span class="hljs-bullet">-</span> éƒ¨ç½²åˆ°ç”Ÿäº§æˆ–é¢„å‘å¸ƒç¯å¢ƒ
<span class="hljs-bullet">-</span> æ€§èƒ½æŒ‡æ ‡æ”¶é›†æˆ–åˆ†æ
<span class="hljs-bullet">-</span> è¿è¡Œåº”ç”¨è¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•ï¼ˆåº”ä½¿ç”¨è‡ªåŠ¨åŒ–æµ‹è¯•ï¼‰
<span class="hljs-bullet">-</span> ç”¨æˆ·åŸ¹è®­æˆ–æ–‡æ¡£åˆ›å»º
<span class="hljs-bullet">-</span> ä¸šåŠ¡æµç¨‹æˆ–ç»„ç»‡å˜æ›´

<span class="hljs-strong">**ä»»åŠ¡ç¤ºä¾‹æ ¼å¼ï¼š**</span>
<span class="hljs-code">```markdown
- [ ] 1. å®ç°æ ¸å¿ƒåŠŸèƒ½
  - [ ] 1.1 å®ç°ç»„ä»¶ A
    - ç¼–å†™æ ¸å¿ƒé€»è¾‘å®ç°
    - _éœ€æ±‚: X.Y, X.Z_
  - [ ]* 1.2 ç¼–å†™å±æ€§æµ‹è¯•
    - **Property N: [å±æ€§æ ‡é¢˜]**
    - **Validates: Requirements X.Y**
  - [ ] 1.3 å®ç°ç»„ä»¶ B
    - ç¼–å†™æ”¯æŒé€»è¾‘
    - _éœ€æ±‚: X.Z_

- [ ] 2. æ£€æŸ¥ç‚¹ - ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡
  - ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼Œå¦‚æœ‰é—®é¢˜è¯·è¯¢é—®ç”¨æˆ·ã€‚
è¯·ç”Ÿæˆç¬¦åˆä¸Šè¿°è§„èŒƒçš„å®ç°ä»»åŠ¡åˆ—è¡¨ã€‚
</span></code></pre>
<h3 data-id="heading-10"><strong>2.1 Â ç”Ÿæˆé¡¹ç›®æ–‡æ¡£</strong></h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/019a5df69a8647048992ba57c3f094fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=ynOYAALbgSkAuXH9YgqeXDeYl1Q%3D" alt="" loading="lazy"/></p>
<p>å‚è€ƒä¸Šé¢çš„æç¤ºè¯ï¼Œå¯ä»¥ç»™å‡º Â 1å‘¨å¹´é¡¹ç›®æ–‡æ¡£ã€ 1å‘¨å¹´é¡¹ç›®æŠ€æœ¯æ–‡æ¡£ã€1å‘¨å¹´é¡¹ç›®ä»»åŠ¡åˆ—è¡¨ã€‚</p>
<p>æˆ‘ä»¬éœ€è¦ä»”ç»†æ£€æŸ¥è¿™äº›æ–‡æ¡£ï¼Œç„¶åè¿›è¡Œä¼˜åŒ–å’Œè£å‰ªã€‚</p>
<h4 data-id="heading-11"><strong>1å‘¨å¹´é¡¹ç›®éœ€æ±‚æ–‡æ¡£ä¸¾ä¾‹</strong></h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/384138f9d3f247e7bd2039a17c36ca9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=X%2BN%2B0swF%2Bwitr8b%2Fe4oFb78z4Ug%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a37f713875d143078ba22c2017a45efa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=9A2o2S2cDs9sf0g%2B%2Fj1WIQ2M%2Buw%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-12"><strong>1å‘¨å¹´é¡¹ç›®æŠ€æœ¯æ–‡æ¡£ä¸¾ä¾‹</strong></h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95f05f78763e41fa922a8de1f372e347~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=6uFUGWmWzUI%2FB0ZZh0KZxcdTFfY%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/836a0dd9fe224326a06958d1931d4dcf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=UxjFlzICiuIfWyplIrLTzbuAmis%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-13"><strong>1å‘¨å¹´é¡¹ç›®ä»»åŠ¡åˆ—è¡¨ä¸¾ä¾‹</strong></h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f4fd1d138ff44eda0a4c7dfc704e557~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=11ylNbxPtuCymZ8sgcG1ElMGNHI%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6252084ccf0482683c66814a880afbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=7v2CrfqARdzsk4F7%2FANCtZwixHE%3D" alt="" loading="lazy"/></p>
<blockquote>
<p><strong>å®è·µæ€»ç»“ï¼šé€šè¿‡ TRAE å°†ç¹ççš„æ–‡æ¡£å·¥ä½œåŠè‡ªåŠ¨åŒ–ï¼š</strong></p>
<ul>
<li><strong>ä¿è¯è§„èŒƒæ€§ï¼š</strong> é€šè¿‡ Prompt é¢„è®¾æ¨¡æ¿ï¼Œç¡®ä¿æ¯ä»½æ–‡æ¡£éƒ½éµå¾ªç»Ÿä¸€çš„ã€ä¸šç•Œè®¤å¯çš„æœ€ä½³å®è·µ</li>
<li><strong>æå‡æ•ˆç‡ï¼š</strong> AI å¯ä»¥å¿«é€Ÿå®Œæˆæ–‡æ¡£çš„æ¡†æ¶æ­å»ºå’Œç»†èŠ‚å¡«å……ï¼Œå°†æˆ‘ä»é‡å¤çš„å†™ä½œä¸­è§£æ”¾å‡ºæ¥ï¼Œä¸“æ³¨äºå…³é”®å†³ç­–çš„æ€è€ƒå’Œè¯„å®¡</li>
<li><strong>ç¡®ä¿ä¸€è‡´æ€§ï¼š</strong> ä»éœ€æ±‚ã€è®¾è®¡åˆ°æœ€ç»ˆçš„ä»»åŠ¡æ‹†è§£ï¼Œæ‰€æœ‰æ–‡æ¡£éƒ½åŸºäºåŒä¸€ä»½è¾“å…¥ï¼Œä¿è¯äº†ä¿¡æ¯åœ¨ä¼ é€’è¿‡ç¨‹ä¸­ä¸å¤±çœŸã€ä¸é—æ¼</li>
<li><strong>TRAE ä½¿ç”¨ç»†èŠ‚ï¼š</strong> TRAE å›½é™…ç‰ˆ IDEæ¨¡å¼+GPT-5.2 æ¨¡å‹</li>
</ul>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b203237a8d54018811c4b73631d9ac3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=dbZdTnhWnhD9jKJ5%2FCrKQqYtZro%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-14"><strong>ç¬¬ä¸‰æ­¥ï¼šç”¨ TRAE ç¼–ç ã€åä½œä¸è¿­ä»£ï¼ˆç¤¾åŒºå…±åˆ›å®è·µï¼‰</strong></h2>
<p>æ–‡æ¡£å°±ä½åï¼Œå¼€å‘å·¥ä½œæ­£å¼å¼€å§‹ã€‚è¿™ä¸ªè¿‡ç¨‹åŒæ ·æ·±åº¦èåˆäº†ç¤¾åŒºå…±åˆ›ä¸ TRAE è¾…åŠ©ã€‚</p>
<h3 data-id="heading-15"><strong>3.1 åŸºçº¿ä»£ç ç”Ÿæˆï¼šç”¨ TRAE æ­å‡ºç¬¬ä¸€ä¸ªå¯ç”¨ç‰ˆæœ¬</strong></h3>
<p>ä¸ºäº†å¿«é€ŸéªŒè¯æ ¸å¿ƒæ–¹æ¡ˆï¼Œæˆ‘éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ªèƒ½å¤Ÿå±•ç¤ºä¸»é¡µåŠŸèƒ½çš„åœ°å›¾é¡µé¢ã€‚æˆ‘å‘ TRAE æä¾›äº†æ­¤å‰ç”Ÿæˆçš„å…¨éƒ¨æ–‡æ¡£ï¼Œå¹¶ç»™å‡ºäº†å…·ä½“æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">TRAE é©¬ä¸Šè¿æ¥ 1 å‘¨å¹´ï¼Œæˆ‘ä»¬æƒ³åœ¨è¿™ä¸ªèŠ‚ç‚¹åšä¸€ä¸ªæ¯”è¾ƒæœ‰å‚ä¸æ„Ÿçš„å°é¡¹ç›®ï¼šTRAE ä¸€å‘¨å¹´è®¸æ„¿åœ°å›¾ã€‚
è®¾æƒ³æ˜¯åšä¸€ä¸ªå‰ç«¯é¡µé¢ï¼Œç”¨æˆ·å¯ä»¥é€‰æ‹©è‡ªå·±çš„çœä»½ï¼ˆä¸­å›½åœ°å›¾ï¼‰ç•™ä¸‹æ„¿æœ›ï¼Œä¹Ÿå¯ä»¥ç‚¹å¼€æŸ¥çœ‹å…¶ä»–äººçš„ç•™è¨€ï¼Œå¹¶è¿›è¡Œç‚¹èµäº’åŠ¨ã€‚

ä½ æ˜¯èµ„æ·±å‰ç«¯å·¥ç¨‹å¸ˆï¼ˆTypeScript + React/Next.jsï¼‰ã€‚è¯·ä¸¥æ ¼å¼•ç”¨å¹¶å¯¹é½ä»¥ä¸‹ä¸‰ä»½æ–‡æ¡£ä¸­çš„è¦æ±‚ï¼Œç”Ÿæˆä¸€ä¸ªâ€œå¸¦åœ°å›¾çš„æœ€å°å±•ç¤ºé¡µé¢ï¼ˆMVPï¼‰â€ï¼Œç”¨äºæ¼”ç¤ºåœ°å›¾æµè§ˆä¸ç‚¹é€‰æŸ¥çœ‹å¿ƒæ„¿ä¿¡æ¯ã€‚è¾“å‡ºå¿…é¡»æ˜¯å¯ç›´æ¥è½åœ°çš„ä»£ç ï¼ˆæ–‡ä»¶ç»“æ„ + æ¯ä¸ªæ–‡ä»¶å®Œæ•´å†…å®¹ï¼‰ï¼Œä¸è¦è¾“å‡ºè§£é‡Šæ€§æ–‡å­—ï¼Œä¸è¦æ·»åŠ ä»»ä½•æ³¨é‡Šã€‚

å¼•ç”¨æ¥æºï¼ˆå¿…é¡»åœ¨å®ç°ä¸­ä½“ç°ï¼‰
1) ä»»åŠ¡åˆ—è¡¨ï¼š1å‘¨å¹´é¡¹ç›®ä»»åŠ¡åˆ—è¡¨.md
<span class="hljs-bullet"> -</span> å¯¹é½ä»»åŠ¡ï¼š12.1/12.2/12.3/12.4ï¼ˆåœ°å›¾å®¹å™¨ã€èšåˆé˜ˆå€¼åˆ‡æ¢ã€ç‚¹é€‰ä¿¡æ¯å±•ç¤ºã€ç§»åŠ¨ç«¯é€‚é…ï¼‰

2) éœ€æ±‚æ–‡æ¡£ï¼š1å‘¨å¹´é¡¹ç›®éœ€æ±‚æ–‡æ¡£.md
<span class="hljs-bullet"> -</span> R-02 åœ°å›¾æµè§ˆä¸äº¤äº’ï¼šåœ°å›¾å¯äº¤äº’ï¼›zoom é˜ˆå€¼ä»¥ä¸‹æ˜¾ç¤ºèšåˆ markersï¼›é˜ˆå€¼ä»¥ä¸Šæ˜¾ç¤ºå•ç‚¹ï¼›ç‚¹é€‰å±•ç¤ºå…³è”å¿ƒæ„¿ä¿¡æ¯
<span class="hljs-bullet"> -</span> R-23 æ€§èƒ½è¦æ±‚ï¼šä½ zoom ä½¿ç”¨èšåˆ/èšç±»ï¼ˆæœ¬ MVP ç”¨é˜ˆå€¼åˆ‡æ¢æ¨¡æ‹Ÿå³å¯ï¼‰
<span class="hljs-bullet"> -</span> R-24 å…¼å®¹æ€§ä¸å¯è®¿é—®æ€§ï¼šç§»åŠ¨ç«¯å¸ƒå±€ï¼›é”®ç›˜å¯è¾¾ï¼ˆè‡³å°‘å…³é—­è¯¦æƒ…é¢æ¿å¯ç”¨é”®ç›˜æ“ä½œï¼‰
3) æŠ€æœ¯æ–‡æ¡£ï¼š1å‘¨å¹´é¡¹ç›®æŠ€æœ¯æ–‡æ¡£.md
<span class="hljs-bullet"> -</span> åœ°å›¾ä½¿ç”¨ MapLibre GL JS
<span class="hljs-bullet"> -</span> ä¸â€œ/api/map/points?bbox=&amp;zoom=â€æ¥å£å¥‘çº¦ä¿æŒä¸€è‡´

MVP èŒƒå›´ï¼ˆæœ€å°å¯å±•ç¤ºï¼‰
<span class="hljs-bullet">-</span> å•ä¸ªé¡µé¢ï¼šMapPageï¼ˆNext.js é¡µé¢æˆ– React è·¯ç”±é¡µå‡å¯ï¼Œä½†é»˜è®¤æŒ‰ Next.js å®ç°ï¼‰
<span class="hljs-bullet">-</span> åœ°å›¾èƒ½åŠ è½½å¹¶å¯ç¼©æ”¾/æ‹–æ‹½
<span class="hljs-bullet">-</span> å¯è®¿é—®æ€§ï¼š
<span class="hljs-bullet">-</span> è¯¦æƒ…é¢æ¿æœ‰â€œå…³é—­â€æŒ‰é’®ï¼Œæ”¯æŒ Enter/Space è§¦å‘ï¼›æŒ‰ Escape å…³é—­
<span class="hljs-bullet">-</span> ç§»åŠ¨ç«¯ï¼š
<span class="hljs-bullet">-</span> é¡µé¢é«˜åº¦è‡ªé€‚åº”ï¼›è¯¦æƒ…é¢æ¿åœ¨çª„å±æ”¹ä¸ºåº•éƒ¨æŠ½å±‰ï¼ˆæˆ–å…¨å± modalï¼‰


è¾“å‡ºè¦æ±‚
1) å…ˆè¾“å‡ºæ–‡ä»¶ç»“æ„æ¸…å•ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰
2) å†é€ä¸ªæ–‡ä»¶è¾“å‡ºå®Œæ•´ä»£ç ï¼ˆåŒ…å« package.jsonã€next.config.<span class="hljs-emphasis">*ã€pages æˆ– app è·¯ç”±æ–‡ä»¶ã€åœ°å›¾é¡µç»„ä»¶ã€æœ€å°æ•°æ®å±‚ã€æ ·å¼æ–‡ä»¶ï¼‰
3) ä»£ç å¿…é¡»å¯è¿è¡Œï¼šç»™å‡º npm scriptsï¼šdev/build/start
4) ä¸è¦å†™ä»»ä½•â€œå¦‚ä½•è¿è¡Œâ€çš„è¯´æ˜æ–‡å­—ï¼ˆåªé€šè¿‡ package.json scripts ä½“ç°å³å¯ï¼‰
</span></code></pre>
<p><strong>ç®€å•è¿­ä»£ä¹‹åï¼Œç¬¬ä¸€ä¸ªåœ°å›¾ç‰ˆæœ¬å½¢æˆäº†</strong>ï¼Œä½†æˆ‘æ³¨æ„åˆ°æç¤ºè¯ä¸­ç¼ºå°‘å¯¹é¡µé¢é£æ ¼çš„çº¦æŸå’Œåˆ›æ„ï¼Œäºæ˜¯æˆ‘ä½¿ç”¨ Gemini 3 Pro 200K, è¡¥å……äº†æ–°çš„æŒ‡ä»¤ï¼Œè®© TRAE å‚è€ƒ å›½é™…ç‰ˆå®˜æ–¹é£æ ¼ï¼ŒåŒæ—¶ä¸Šä¼ äº†ä¸€å¼  TRAE å®˜ç½‘æˆªå›¾ä½œä¸ºå‚è€ƒï¼Œè®©å®ƒåŸºäºç°æœ‰ä»£ç ä¿®æ”¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85495ddee53f4a5fbb41d92ada2939dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=OXi95AmyXt%2FZxtvl4CGKCcRz1aM%3D" alt="" loading="lazy"/></p>
<p>ç»è¿‡å¤šè½®è¿­ä»£ä¼˜åŒ–ï¼Œä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€é£æ ¼ç»Ÿä¸€çš„åœ°å›¾é¡µé¢ä¾¿å®Œæˆäº†ã€‚</p>
<p>å‰ç«¯ç›´æ¥ä¸ Supase æ•°æ®åº“ç›´è¿ï¼Œç”¨æˆ·å¯ä»¥æ·»åŠ æ¶ˆæ¯åˆ°æ•°æ®åº“ï¼Œåœ°å›¾ä¸Šå¯ä»¥æ˜¾ç¤ºç”¨æˆ·çš„ç•™è¨€ã€‚</p>
<p>ä½¿ç”¨ SOLO ä¸­çš„ Â Supabae ï¼ˆæ•°æ®åº“ï¼‰ å’Œ Â Vercel éƒ¨ç½²</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6888575d3664e6bae9b8135dfd26f69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=kyGxnyzvvZs1SZ6T3H2cUGSDgWs%3D" alt="" loading="lazy"/></p>
<blockquote>
<p><strong>å®è·µæ€»ç»“ï¼š</strong></p>
<p>è®© TRAE ç”Ÿæˆä»£ç æ—¶ï¼ŒåŠ¡å¿…æä¾›å®Œæ•´çš„ä¸Šä¸‹æ–‡ï¼ŒåŒ…æ‹¬éœ€æ±‚æ–‡æ¡£ã€æŠ€æœ¯è®¾è®¡å’Œä»»åŠ¡åˆ—è¡¨ã€‚ä¿¡æ¯è¶Šå®Œå¤‡ï¼Œç”Ÿæˆçš„åŸºçº¿ä»£ç è´¨é‡è¶Šé«˜ï¼Œè¶Šæ¥è¿‘æœ€ç»ˆç›®æ ‡ã€‚</p>
</blockquote>
<h3 data-id="heading-16"><strong>3.2 ç¤¾åŒºå…±åˆ›ï¼šä»â€œä½¿ç”¨è€…â€åˆ°â€œå…±åˆ›è€…â€</strong></h3>
<h4 data-id="heading-17"><strong>3.2.1 ç¤¾åŒºéœ€æ±‚æ”¶é›†ã€ä»»åŠ¡åˆ†é…</strong></h4>
<p>åŸºçº¿ç‰ˆæœ¬å¾—åˆ°äº† TRAE å®˜æ–¹åŒå­¦çš„è®¤å¯ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬ä»¥æ­¤ä¸ºåŸºç¡€ï¼Œå¼€å§‹èšé›†ç¤¾åŒºé‡Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´è¿›è¡ŒåŠŸèƒ½æ‰©å±•ã€‚å¤§å®¶é€šè¿‡çº¿ä¸Šè®¨è®ºæå‡ºäº†å¾ˆå¤šä¼˜åŒ–æ–¹æ¡ˆï¼Œæˆ‘è´Ÿè´£æ”¶é›†ã€ç¡®è®¤éœ€æ±‚ï¼Œå¹¶åˆ†é…ç»™å‚ä¸é¡¹ç›®çš„åŒå­¦ã€‚</p>
<p>æœŸé—´ï¼Œé€šè¿‡ç§èŠã€å¤šäººçº¿ä¸Šè®¨è®ºç­‰æ–¹å¼ï¼Œå°†éœ€æ±‚è½åœ°ã€‚ï¼ˆéƒ¨åˆ†éœ€æ±‚ä¸¾ä¾‹ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/226a220e4e284d6687840f403caa9551~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=HAqHjKAenFo9tS1174mIVEwD1d0%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-18"><strong>3.2.2 Â ç¤¾åŒºå¼€æºé¡¹ç›®å¤šäººåä½œæ¨¡å¼</strong></h4>
<p>å¤§å®¶é€šè¿‡ Fork åœ¨å„è‡ªä»“åº“é‡Œç‹¬ç«‹å¼€å‘ï¼Œå®Œæˆåå‘ä¸»ä»“åº“å‘èµ· PRã€‚æˆ‘åœ¨ PR ä¸­åšç®€å•çš„ä»£ç å®¡æŸ¥ï¼Œå¹¶è¦æ±‚é€šè¿‡åŸºç¡€æ£€æŸ¥åå†åˆå¹¶ã€‚è¿™æ ·æ—¢èƒ½è®©å¤šäººå¹¶è¡Œå¼€å‘ï¼Œä¹Ÿèƒ½ä¿è¯ä¸»å¹²åˆ†æ”¯å§‹ç»ˆä¿æŒå¯ç”¨ã€ç¨³å®šçš„ç‰ˆæœ¬ã€‚</p>
<blockquote>
<p><strong>æ‰€æœ‰äºº Fork ä¸»ä»“åº“ç‹¬ç«‹å¼€å‘ï¼š</strong> é¿å…äº’ç›¸é˜»å¡ï¼Œå‡å°‘å†²çªã€‚</p>
<p><strong>é€šè¿‡ PR åˆå¹¶å›ä¸»å¹²ï¼š</strong> æ¯ä¸ª PR éƒ½å¿…é¡»èƒ½è·‘é€šåŸºç¡€æ£€æŸ¥ï¼Œä¸»å¹²å§‹ç»ˆä¿æŒå¯ç”¨ã€‚</p>
</blockquote>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¤§å®¶ä¹Ÿä½¿ç”¨ TRAE æ¥è¾…åŠ©æäº¤ä»£ç ï¼Œè‡ªåŠ¨ç”Ÿæˆè§„èŒƒçš„ Commit Messageã€‚</p>
<p><strong>é€šè¿‡ TRAE æäº¤ä»£ç </strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/068638e53a5c46969f132c861bb8b91f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=cPNvLpo544pG8dBljPimExW1SLc%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3394118135fa49908bf7905219abc4bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=3OCiPYYj9Vmyhj1CjKpHWw8B2wY%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea17bc97b32b4cffb4835d2cf0d60a64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=DDhh0h4A6u2D0nUZwfn6Sckn2Yk%3D" alt="" loading="lazy"/></p>
<p><strong>é€šè¿‡PRåˆå¹¶ä»£ç åˆ°ä¸»å¹²</strong></p>
<p>ç¤¾åŒºä¼™ä¼´ä»¬å„è‡ªå¼€å‘ï¼Œç„¶åé€šè¿‡PRåˆå¹¶åˆ°å¼€å‘ä¸»å¹²ã€‚ï¼ˆéƒ¨åˆ†PRä¸¾ä¾‹ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cba2df74bbbb499d8717f1988b2a3139~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=FfuZJsBkhDKmLPIv8AG45qZynxk%3D" alt="" loading="lazy"/></p>
<blockquote>
<p><strong>å®è·µæ€»ç»“ï¼š</strong></p>
<p>åœ¨ç¤¾åŒºåä½œä¸­ï¼Œæ ‡å‡†åŒ–çš„æµç¨‹ï¼ˆå¦‚ Fork &amp; PRï¼‰å’Œå·¥å…·ï¼ˆå¦‚ TRAE è¾…åŠ©ä»£ç æäº¤ï¼‰æ˜¯ä¿æŒé«˜æ•ˆå’Œé«˜è´¨é‡çš„å…³é”®ã€‚å®ƒèƒ½è®©æ¯ä¸ªäººçš„è´¡çŒ®éƒ½æ¸…æ™°ã€å¯è¿½æº¯ã€‚</p>
</blockquote>
<h3 data-id="heading-19"><strong>3.3 å¢é‡å¼€å‘ä¸è¿­ä»£ï¼šè®©æ–‡æ¡£å’Œä»£ç å½¢æˆé—­ç¯</strong></h3>
<p>åœ¨å¢åŠ æ–°åŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬ä¾ç„¶éµå¾ªâ€œæ–‡æ¡£å…ˆè¡Œâ€çš„åŸåˆ™ï¼Œå¹¶åˆ©ç”¨ TRAE è®©æ–‡æ¡£ä¸ä»£ç ä¿æŒåŒæ­¥ã€‚ä¾‹å¦‚ï¼Œå½“éœ€è¦å¢åŠ æ–°éœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬ä¼šï¼š</p>
<ol>
<li>
<p>è®© TRAE é˜…è¯»ç°æœ‰ä»£ç å’Œæ–°éœ€æ±‚ï¼Œç”Ÿæˆä¸€ä»½å®ç°æ–¹æ¡ˆæ–‡æ¡£ã€‚</p>
</li>
<li>
<p>å›¢é˜Ÿè¯„å®¡å¹¶ç¡®å®šæœ€ä¼˜æ–¹æ¡ˆã€‚</p>
</li>
<li>
<p>è®© TRAE æ ¹æ®æœ€ç»ˆæ–¹æ¡ˆç”Ÿæˆä»£ç ã€‚</p>
</li>
<li>
<p>ä»£ç å®ç°åï¼Œå†ç”± TRAE æäº¤ï¼Œå®Œæˆé—­ç¯ã€‚</p>
</li>
</ol>
<p>æˆ‘ä»¬å¯ä»¥è®©TRAEå…ˆæ ¹æ®éœ€æ±‚ï¼Œé˜…è¯»ä»£ç ï¼Œç„¶åç”Ÿæˆä¸€ä¸ªå®ç°æ–‡æ¡£</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b4b3c1597c64aeea003bd7567a1d03b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=KbwkCfepw9f5yi0ZLBx7%2Fdo9x0k%3D" alt="" loading="lazy"/></p>
<p>TRAE ç”Ÿæˆçš„ä»»åŠ¡æ–‡æ¡£</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b40404e3430644f9a9015827787cabc1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=Vc10HjjV2cWWnsLYlWs%2FYaoSW18%3D" alt="" loading="lazy"/></p>
<p>ä»”ç»†é˜…è¯»ä¸Šé¢çš„æ–‡æ¡£ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªæœ€ä¼˜çš„æ–¹æ¡ˆè®©TRAEå®ç°</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55c39c527daa436e84ca38b608e7a86d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=yxX9A0lOFdM6yN2HIkyfpFnnUFY%3D" alt="" loading="lazy"/></p>
<p>éœ€æ±‚å®ç°ä¹‹åï¼Œè®© TRAEæäº¤ä»£ç ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d68fd0a792045529c31f9f9ee445f41~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=r1gEr%2BoQRam6rWHpYSqYBqCZnwI%3D" alt="" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3324e4dd23c440b9b417ce07eacd41a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=K%2BcX%2F1DPIVnCTJRYOBwsOqvHgjc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-20"><strong>3.4 ç”¨ TRAE è§£å†³BUG</strong></h3>
<p>é¡¹ç›®ä¸­ï¼Œä¼šé‡åˆ°å„ç§é—®é¢˜ï¼Œæ¨èçš„è§£å†³æ­¥éª¤ï¼š</p>
<ol>
<li>
<p>è®© TRAE å…ˆåˆ†æé—®é¢˜ï¼Œç»™å‡ºä¸€ä¸ªé—®é¢˜åˆ†ææ–‡æ¡£å’Œæ¨èçš„ä¿®æ”¹æ–¹æ¡ˆã€‚</p>
</li>
<li>
<p>æˆ‘ä»¬review é—®é¢˜çš„ Root Cause å’Œ ä¿®æ”¹å»ºè®®ã€‚</p>
</li>
<li>
<p>ç¡®è®¤æ–¹æ¡ˆåï¼Œè®© TRAE åŸºäºåˆ†ææ–‡æ¡£ä¿®æ”¹ä»£ç ã€‚</p>
</li>
</ol>
<p align="center"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2c482b5a4484a51a72d013fe5fdff84~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=Rr4OzuJlzWHiQ8GZf4S1S1htZLA%3D" alt="" loading="lazy"/>å›¾ï¼šTRAE ç”Ÿæˆçš„é—®é¢˜åˆ†ææ–‡æ¡£èŠ‚é€‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee7375bb17154c52b2b381cf6e2bdf85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110764&amp;x-signature=eJvU4SigPAIBXRKAGq0rmCxvUkM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-21"><strong>å†™åœ¨æœ€å</strong></h2>
<p>ä»ä¸€ä¸ªæ¨¡ç³Šçš„æƒ³æ³•ï¼Œåˆ°æœ€ç»ˆä¸Šçº¿çš„ä¸€ä»½å®Œæ•´ä½œå“ï¼šè¿™æ¬¡ç»å†ä¸ä»…æ˜¯æŠ€æœ¯ä¸Šçš„å®è·µï¼Œæ›´æ˜¯ä¸€æ¬¡èº«ä»½çš„è½¬å˜â€”â€”ä»äº§å“çš„ä½¿ç”¨è€…ï¼Œåˆ°ä»·å€¼çš„å…±åˆ›è€…ã€‚</p>
<p>åœ¨éœ€è¦é¢‘ç¹åˆ‡æ¢è§†è§’ã€åŒæ—¶æ¨è¿›å¤šé¡¹å·¥ä½œçš„æƒ…å†µä¸‹ï¼Œ<strong>TRAE æ›´åƒä¸€ä¸ªç¨³å®šå¯é çš„æ­æ¡£</strong>ï¼šå¸®æˆ‘ç†æ¸…éœ€æ±‚ã€è¾“å‡ºæ–‡æ¡£ã€å¿«é€Ÿæ¨è¿›å®ç°ï¼Œä¹Ÿåœ¨åå¤è°ƒè¯•å’Œä¿®æ”¹ä¸­èŠ‚çœäº†å¤§é‡æ—¶é—´ï¼Œè®©æ•´ä¸ªå…±åˆ›è¿‡ç¨‹å§‹ç»ˆä¿æŒåœ¨å¯æ§çš„èŠ‚å¥é‡Œã€‚</p>
<p>è¿™æ¬¡å®è·µä¹Ÿè¯æ˜äº†ï¼Œåœ¨å¼€æ”¾çš„ç¤¾åŒºä¸­ï¼Œæ¯ä¸€ä½æˆå‘˜éƒ½æœ‰æœºä¼šå‘èµ·ã€ç»„ç»‡å¹¶äº¤ä»˜ä¸€ä¸ªæœ‰ä»·å€¼çš„é¡¹ç›®ã€‚å¦‚æœä½ ä¹Ÿæœ‰å¥½çš„æƒ³æ³•ï¼Œä¸å¦¨ç°åœ¨å°±å¼€å§‹ï¼Œ<strong>å€ŸåŠ© TRAE å°†åˆ›æ„å¿«é€Ÿå˜ä¸ºç°å®ã€‚</strong></p>
<p>æœŸå¾…åœ¨ç¤¾åŒºé‡Œï¼Œçœ‹åˆ°æ›´å¤šä¼™ä¼´å‘èµ·å’Œå®Œæˆå±äºè‡ªå·±çš„å…±åˆ›é¡¹ç›®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Skills å®æˆ˜ã€‘AI ç¼–ç¨‹çš„ä¸‹åŠåœºï¼šåˆ«è®© AI å†™çš„ä»£ç åªæ´»åœ¨ localhost é‡Œ]]></title>    <link>https://juejin.cn/post/7599630795805016110</link>    <guid>https://juejin.cn/post/7599630795805016110</guid>    <pubDate>2026-01-27T08:45:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599630795805016110" data-draft-id="7599850148055662601" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Skills å®æˆ˜ã€‘AI ç¼–ç¨‹çš„ä¸‹åŠåœºï¼šåˆ«è®© AI å†™çš„ä»£ç åªæ´»åœ¨ localhost é‡Œ"/> <meta itemprop="keywords" content="Agent,Claude,AIGC"/> <meta itemprop="datePublished" content="2026-01-27T08:45:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="binggg"/> <meta itemprop="url" content="https://juejin.cn/user/1609340751972270"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Skills å®æˆ˜ã€‘AI ç¼–ç¨‹çš„ä¸‹åŠåœºï¼šåˆ«è®© AI å†™çš„ä»£ç åªæ´»åœ¨ localhost é‡Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1609340751972270/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    binggg
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T08:45:55.000Z" title="Tue Jan 27 2026 08:45:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d823bb5661e41c08da23e1e7174a837~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=2y4n1f88GO6Zp3aRNlvZh5stVes%3D" alt="ä¼ä¸šå¾®ä¿¡20260127-164344@2x.png" loading="lazy"/></p>
<h2 data-id="heading-0">AI ç¼–ç¨‹çš„ä¸‹åŠåœºï¼šåˆ«è®© AI å†™çš„ä»£ç åªæ´»åœ¨ localhost é‡Œ</h2>
<blockquote>
<p>å¦‚ä½•æŠŠ 8 å¹´äº‘ç«¯ç»éªŒè£…è¿›ä½ çš„ AI å¼€å‘å·¥å…·ï¼Œè®©AIä»"å®ä¹ ç”Ÿ"å˜æˆ"æŒè¯ä¸Šå²—çš„ä¸“å®¶"ã€‚åˆ†äº«å¦‚ä½•ç”¨ Agent Skill è§£å†³ AI Coding é¢†åŸŸçš„ç—›ç‚¹é—®é¢˜ï¼Œä¹Ÿåˆ†äº«å¦‚ä½•è§£å†³ AI ä¸è°ƒç”¨ Skill ç­‰å®è·µæŠ€å·§</p>
</blockquote>
<p><strong>ã€æ¨èè¯­ã€‘</strong></p>
<p>æœ€è¿‘æˆ‘ä»¬åœ¨æŠ˜è…¾ Agent Skillsï¼Œæƒ³æŠŠäº‘å¼€å‘ï¼ˆCloudBaseï¼‰è¿™äº›å¹´æ”’ä¸‹çš„ç»éªŒæ‰“åŒ…ç»™ AIã€‚å®æˆ˜ä¸‹æ¥å‘ç°ï¼Œæœ€æŠ˜ç£¨äººçš„ä¸æ˜¯ AI ä¸ä¼šå†™ä»£ç ï¼Œè€Œæ˜¯å®ƒå†™çš„ä»£ç **â€œåªèƒ½æ´»åœ¨æœ¬åœ°â€<strong>ï¼Œä»¥åŠå®ƒ</strong>â€œæ€»æ˜¯ä¸å¬è§„çŸ©â€**ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« ä¸»è¦åˆ†äº«ä¸¤ç‚¹å®æ“å¤ç›˜ï¼Œå¸Œæœ›èƒ½å¸®å¤§å®¶å°‘èµ°ç‚¹å¼¯è·¯ï¼š</p>
<ol>
<li><strong>è®© AI ç”Ÿæˆçš„ä»£ç èƒ½ç›´æ¥ä¸Šçº¿</strong>ï¼šå¤§å®¶å¯èƒ½éƒ½é‡åˆ°è¿‡ï¼ŒAI å†™çš„ä»£ç  Demo æ„Ÿåè¶³ï¼Œä½†ä¸€ä¸Šçº¿å°±å…¨æ˜¯å®‰å…¨éšæ‚£ã€‚æˆ‘ä»¬å°è¯•ç»™ AI æ³¨å…¥åº•åº§æ„ŸçŸ¥ï¼Œè®©å®ƒå­¦ä¼šç”¨åº•åº§åŸç”Ÿè®¤è¯ä»£æ›¿è„†å¼±çš„ä¼ å‚ï¼Œç”¨å®‰å…¨è§„åˆ™ä»£æ›¿æ¥å£â€œè£¸å¥”â€ï¼Œè§£å†³ä»£ç â€œæ­»åœ¨æœ¬åœ°â€çš„å°´å°¬ã€‚</li>
<li><strong>è§£å†³â€œAI æœ‰ Skill å´ä¸çˆ±ç”¨â€çš„æ¯›ç—…</strong>ï¼šæœ€è®©äººå¤´ç–¼çš„æ˜¯ï¼Œæ˜æ˜é…å¥½äº† Skillsï¼ŒAI å´è§†è€Œä¸è§ï¼Œéè¦å‡­ç›´è§‰ç›²å¹²ã€‚æˆ‘ä»¬ä¼šåˆ†äº«å¦‚ä½•é€šè¿‡â€œæ€»çº²+æ’ä»¶â€çš„ç»“æ„ï¼Œé…åˆç®€å•çš„å·¥ç¨‹æ‹¦æˆªï¼ŒæŠŠ AI çš„æŠ€èƒ½æ¿€æ´»ç‡ä» 20% ç¡¬æ‹‰åˆ° 84%ã€‚</li>
</ol>
<p>å¸Œæœ›èƒ½ç»™åŒæ ·åœ¨ç ”ç©¶ Skills å’Œ AI å¼€å‘çš„æœ‹å‹ä¸€ç‚¹å‚è€ƒï¼Œè®© AI äº¤ä»˜çš„ä»£ç ä¸å†åªæ˜¯â€œçœ‹ç€æŒºç¾â€ï¼Œè€Œæ˜¯çœŸæ­£ç¨³å¥ã€‚</p>
<hr/>
<h3 data-id="heading-1">ç°çŠ¶ï¼šVibe Coding çš„ "æœ¬åœ°èˆ’é€‚åŒº"</h3>
<p>æœ€è¿‘ï¼Œå¼€å‘è€…éƒ½åœ¨äº«å— <strong>Vibe Coding</strong> çš„å¿«æ„Ÿã€‚åœ¨ç”¨æˆ·æœ¬åœ°çš„ <code>localhost</code> ä¸€é¡¿æ“ä½œï¼ŒUI æ¼‚äº®å¾—åƒæˆå“ï¼Œä½†é­”æ³•å¾€å¾€åœ¨â€œä¸Šçº¿â€ç¬é—´æˆ›ç„¶è€Œæ­¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/853f8904b7b3487382597a1990a36e96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=q8%2BRiwkok98n08T3sC6hzPhtvnc%3D" alt="" loading="lazy"/></p>
<p>AI çš„ä»£ç é€»è¾‘è¿˜ä¸é”™ï¼Œä½†å®ƒæ— æ³•æ„ŸçŸ¥çœŸå®çš„åç«¯åº•åº§ï¼Œå¯¼è‡´ç”Ÿæˆçš„â€œå±€éƒ¨æœ€ä¼˜è§£â€éš¾ä»¥è½åœ°ï¼Œæ— æ³•ç®€å•çš„ç”Ÿæˆç”Ÿäº§çº§å¯ç”¨çš„åº”ç”¨ã€‚</p>
<p><strong>ä¸–ç•Œä¸Šæœ€é¥è¿œçš„è·ç¦»ï¼Œæ˜¯ä» <code>localhost</code> åˆ°çœŸå®è®¿é—®çš„è·ç¦»ã€‚</strong> AI å¡«è¡¥äº†ä»£ç é‡çš„ç©ºç™½ï¼Œå´å¡«è¡¥ä¸äº†å·¥ç¨‹åº•åº§çš„æ–­å±‚ã€‚</p>
<p>æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿè¿™é‡Œå°±éœ€è¦æåˆ° Skillsã€‚</p>
<h3 data-id="heading-2">ä»€ä¹ˆæ˜¯ Skills</h3>
<p>Skills æœ€æ—©æ˜¯ Anthropic åœ¨ 2025 å¹´ 10 æœˆç»™ Claude Code åŠ çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå®ƒæ˜¯ä¸€å¥—åŒ…å«æŒ‡ä»¤ã€è„šæœ¬å’Œèµ„æºçš„èƒ½åŠ›åŒ…ã€‚<strong>æŠŠä¸“ä¸šçŸ¥è¯†ã€æ­¥éª¤ã€ä»£ç æ‰“åŒ…æˆâ€œæŠ€èƒ½åŒ…â€</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1ac18a4908c4ece94e592f7e8804dcd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=J7stDAtx12bESSt7d7OM83vUDrk%3D" alt="" loading="lazy"/></p>
<blockquote>
<p><strong>Agent Skills æ˜¯ä¸€ç§è½»é‡çº§ã€å¼€æ”¾å¼çš„æ ¼å¼ï¼Œç”¨äºé€šè¿‡ä¸“ä¸šçŸ¥è¯†å’Œå·¥ä½œæµæ‰©å±• AI Agent çš„èƒ½åŠ›ã€‚</strong></p>
</blockquote>
<p>ä»æœ¬è´¨ä¸Šè®²ï¼Œä¸€ä¸ª Skill å°±æ˜¯ä¸€ä¸ªåŒ…å« <code>SKILL.md</code> æ–‡ä»¶çš„æ–‡ä»¶å¤¹ã€‚è¯¥æ–‡ä»¶åŒ…å«å…ƒæ•°æ®ï¼ˆè‡³å°‘åŒ…æ‹¬ <code>name</code> å’Œ <code>description</code>ï¼‰ä»¥åŠå‘Šè¯‰ Agent å¦‚ä½•æ‰§è¡Œç‰¹å®šä»»åŠ¡çš„æŒ‡ä»¤ã€‚Skills è¿˜å¯ä»¥æ†ç»‘è„šæœ¬ã€æ¨¡æ¿å’Œå‚è€ƒææ–™ã€‚</p>
<pre><code class="hljs language-directory" lang="directory">my-skill/
â”œâ”€â”€ SKILL.md          # æ ¸å¿ƒï¼šæŒ‡ä»¤ + å…ƒæ•°æ®
â”œâ”€â”€ scripts/          # å¯é€‰ï¼šå¯æ‰§è¡Œä»£ç 
â”œâ”€â”€ references/       # å¯é€‰ï¼šå‚è€ƒæ–‡æ¡£
â””â”€â”€ assets/           # å¯é€‰ï¼šæ¨¡æ¿ã€èµ„æº

</code></pre>
<p>å¦‚æœæŠŠ AI æ¯”ä½œé«˜æç”Ÿï¼ŒSkills å°±æ˜¯ä»–çš„ <strong>â€œå²—ä½æ“ä½œæ‰‹å†Œâ€ã€‚å®ƒä¸æ”¹å˜ AI çš„æ™ºå•†ï¼Œä½†å®ƒé€šè¿‡æ³¨å…¥ç¨‹åºæ€§çŸ¥è¯†</strong>ï¼ˆProcedural Knowledgeï¼‰ï¼Œè®© AI çŸ¥é“åœ¨ä½ çš„ç‰¹å®šç¯å¢ƒä¸‹ï¼Œâ€œæ­£ç¡®ä¸”é«˜æ•ˆâ€çš„æ“ä½œæ ‡å‡†æ˜¯ä»€ä¹ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a2a07285bb744a39610e4963f0485f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=bLxfK7Oxc2V%2BTSrNls0dKmSfwcg%3D" alt="" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fagentskills.io%2F" title="https://agentskills.io/" target="_blank" ref="nofollow noopener noreferrer">Agent Skill </a>åœ¨ 2025 å¹´ 12 æœˆæ­£å¼æˆä¸ºå¼€æ”¾è§„èŒƒï¼Œç›®å‰å·²æœ‰åŒ…æ‹¬ Claudeã€Cursorã€VS Codeã€GitHub Copilotã€OpenCodeç­‰ä¸»æµAIå¼€å‘å·¥å…·å®£å¸ƒå…¼å®¹æ”¯æŒã€‚</p>
<h4 data-id="heading-3">Skills çš„å·¥ä½œåŸç†ï¼šæ¸è¿›å¼åŠ è½½ï¼ˆProgressive Disclosureï¼‰</h4>
<p>Skills é€šè¿‡<strong>æ¸è¿›å¼åŠ è½½</strong>æ¥é«˜æ•ˆç®¡ç†ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰ï¼Œç¡®ä¿ Agent åœ¨æ‹¥æœ‰å¼ºå¤§èƒ½åŠ›çš„åŒæ—¶ä¸ä¼šå› ä¿¡æ¯è¿‡è½½è€Œå˜å¾—è¿Ÿé’ï¼š</p>
<ol>
<li><strong>Discoveryï¼ˆå‘ç°ï¼‰</strong>ï¼šå¯åŠ¨æ—¶ï¼ŒAgent ä»…åŠ è½½æ¯ä¸ª Skill çš„<strong>åç§°å’Œæè¿°</strong>ã€‚è¿™è¶³ä»¥è®©å®ƒåœ¨å¤„ç†è¯·æ±‚æ—¶ï¼Œåˆ¤æ–­å“ªäº› Skill å¯èƒ½ä¸å½“å‰ä»»åŠ¡ç›¸å…³ï¼Œè€Œä¸ä¼šè€—å°½ä¸Šä¸‹æ–‡çª—å£ã€‚</li>
<li><strong>Activationï¼ˆæ¿€æ´»ï¼‰</strong>ï¼šå½“ä»»åŠ¡ä¸æŸä¸ª Skill çš„æè¿°åŒ¹é…æ—¶ï¼ŒAgent æ‰ä¼šæŒ‰éœ€å°†è¯¥ Skill çš„å®Œæ•´ <code>SKILL.md</code> æŒ‡ä»¤è¯»å…¥å½“å‰ä¸Šä¸‹æ–‡ã€‚</li>
<li><strong>Executionï¼ˆæ‰§è¡Œï¼‰</strong>ï¼šAgent éµå¾ªæŒ‡ä»¤æ‰§è¡Œä»»åŠ¡ï¼Œå¹¶æ ¹æ®éœ€è¦åŠ¨æ€åŠ è½½å¼•ç”¨æ–‡ä»¶æˆ–è¿è¡Œæ†ç»‘çš„è„šæœ¬ä»£ç ã€‚</li>
</ol>
<p>è¿™ç§æ–¹æ³•è®© Agent ä¿æŒæé«˜çš„å“åº”é€Ÿåº¦ï¼ŒåŒæ—¶èƒ½å¤Ÿåƒâ€œéšèº«æºå¸¦ç™¾ç§‘å…¨ä¹¦â€ä¸€æ ·ï¼Œåœ¨éœ€è¦æ—¶ç«‹å³è·å–æ·±åº¦ä¸“ä¸šçŸ¥è¯†ã€‚</p>
<p><strong>è¡Œä¸šå¤§ä½¬ä»¬å·²ç»åœ¨è¡ŒåŠ¨ï¼š</strong></p>
<p><strong>Vercel</strong> å‘å¸ƒäº†<a href="https://link.juejin.cn?target=https%3A%2F%2Fvercel.com%2Fblog%2Fintroducing-react-best-practices" title="https://vercel.com/blog/introducing-react-best-practices" target="_blank" ref="nofollow noopener noreferrer"> <code>react-best-practices</code></a>ï¼Œè§£å†³ AI ä¹±å†™ React å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Œå°† React ä¸“å®¶åä½™å¹´ç»éªŒä½ æµ“ç¼©ä¸ºæœ€ä½³å®è·µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a29b31a4b66f42b6b3115039d1122888~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=tuQpQYy7%2F8uVAD3gCmTwEh3MNXE%3D" alt="" loading="lazy"/></p>
<p><strong>Remotion</strong> æ¨å‡º<a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FRemotion%2Fstatus%2F2013626968386765291" title="https://x.com/Remotion/status/2013626968386765291" target="_blank" ref="nofollow noopener noreferrer">è§†é¢‘åˆ¶ä½œ Skill</a>ï¼Œè®© AI å­¦ä¼šç”¨ä»£ç "å‰ªè¾‘"è§†é¢‘</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/228ec50192de475ebe7b34fa9c2b4f46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=KBRzu70A38Ld6l6lex%2BPC5VZD7s%3D" alt="" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fskills.sh%2F" title="https://skills.sh/" target="_blank" ref="nofollow noopener noreferrer">Vercel æ¨å‡ºäº† skills å‘½ä»¤</a>æ¥å¿«é€Ÿå®‰è£… Skills åˆ°å„ä¸ªå·¥å…·ä¸­ï¼Œè¿™æ˜¯å½“å‰çƒ­é—¨çš„ skills åˆ—è¡¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db3d6862e16f4aa1bda5dee2695ed3ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=uAD3FMjHDCLkFzWmvQ9uD7HKSBU%3D" alt="" loading="lazy"/></p>
<p>è¿™äº› Skills è§£å†³çš„æ ¸å¿ƒé—®é¢˜æ˜¯ï¼š<strong>è®© AI æ‹¥æœ‰ç‰¹å®šé¢†åŸŸçš„"å·¥ç¨‹ç›´è§‰"ã€‚</strong></p>
<p>é‚£ä¹ˆï¼Œå½“ä½ çš„åº”ç”¨éœ€è¦è½åœ°åˆ°äº‘ç«¯æ—¶ï¼Œè°æ¥ç»™ AI æ³¨å…¥"åç«¯ç›´è§‰"ï¼Ÿ</p>
<hr/>
<h3 data-id="heading-4">CloudBase Skillsï¼šæŠŠ 8 å¹´äº‘ç«¯ç»éªŒæ‰“åŒ…ç»™ AI</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb7d1e78f1704d4d9137a45b4f174336~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=OJ5nD6Neu8gF%2ByDY2c7yRyucbIs%3D" alt="" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Ftcb.cloud.tencent.com%2F" title="https://tcb.cloud.tencent.com/" target="_blank" ref="nofollow noopener noreferrer">äº‘å¼€å‘ CloudBase</a> ä½œä¸ºè‡ª 2018 å¹´èµ·å°±æ¨å‡º Serverless æœåŠ¡çš„å›¢é˜Ÿï¼Œä¹Ÿæ¨å‡º<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTencentCloudBase%2FSkills" title="https://github.com/TencentCloudBase/Skills" target="_blank" ref="nofollow noopener noreferrer">CloudBase Skills</a>ã€‚</p>
<p><strong>Skills æ˜¯è½¯ä»¶å±‚é¢çš„â€œå²—ä½æ‰‹å†Œâ€ï¼Œè€Œ CloudBase åˆ™æ˜¯æ‰¿è½½ä»£ç è½åœ°çš„â€œå…¨æ ˆåº•åº§â€ã€‚</strong></p>
<p>è®¸å¤š AI ç”Ÿæˆçš„ä»£ç ä¹‹æ‰€ä»¥â€œæ­»åœ¨æœ¬åœ°â€ï¼Œæ˜¯å› ä¸º AI å¾€å¾€åªè´Ÿè´£å†™é€»è¾‘ï¼Œå´ä¸çŸ¥é“å¦‚ä½•å¯¹æ¥å¤æ‚çš„ç”Ÿäº§ç¯å¢ƒã€‚CloudBase ä¸º AI æä¾›äº†ä¸€å¥—é«˜åº¦æŠ½è±¡çš„åŸºç¡€è®¾æ–½ï¼Œè®© AI å†™å‡ºçš„é€»è¾‘èƒ½æ— ç¼è¿è¡Œåœ¨å…¬ç½‘ï¼š</p>
<ul>
<li><strong>å…¨æ ˆæ‰˜ç®¡ä¸éƒ¨ç½²èƒ½åŠ›</strong>ï¼šæ”¯æŒå‰ç«¯é™æ€ç½‘é¡µä¸åç«¯é€»è¾‘çš„å¿«é€Ÿéƒ¨ç½²ï¼Œè®©é¡¹ç›®ä» <code>localhost</code> çœŸæ­£å˜æˆå¯è®¿é—®çš„åœ¨çº¿ URLã€‚</li>
<li><strong>å¤šç«¯åŸç”Ÿèº«ä»½è®¤è¯</strong>ï¼šæ‰“é€šäº† Webã€å°ç¨‹åºç­‰å¤šç§èº«ä»½æºã€‚AI æ— éœ€æ‰‹å†™å¤æ‚çš„ç™»å½•é€»è¾‘ï¼Œé€šè¿‡ Skills ç›´æ¥è°ƒç”¨åº•åº§çš„è®¤è¯èƒ½åŠ›ï¼Œå®ç°ç§’çº§æ¥å…¥ã€‚</li>
<li><strong>æ•°æ®åº“åº•åº§</strong>ï¼šåŒæ—¶æä¾›æ–‡æ¡£å‹ï¼ˆNoSQLï¼‰ä¸ SQL å‹æ•°æ®åº“èƒ½åŠ›ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œåº•åº§åŸç”Ÿé›†æˆäº†é¢å‘ C ç«¯çš„æƒé™æ§åˆ¶æœºåˆ¶ï¼Œç¡®ä¿ AI ç”Ÿæˆçš„æ¯ä¸€è¡ŒæŸ¥è¯¢éƒ½è¿è¡Œåœ¨ç‰©ç†éš”ç¦»çš„å®‰å…¨æ²™ç®±ä¸­ï¼Œä»æ ¹æºè§„é¿è¶Šæƒé£é™©ã€‚</li>
</ul>
<p>å®ƒå°† CloudBase æ”¯æ’‘<strong>æ—¥å‡ 10 äº¿æ¬¡ API è°ƒç”¨</strong>ã€æœåŠ¡<strong>è¶…è¿‡ 330 ä¸‡å¼€å‘è€…</strong>çš„çœŸå®ç»éªŒï¼Œç¿»è¯‘æˆäº† AI å¬å¾—æ‡‚çš„æŒ‡ä»¤ã€‚</p>
<p>ä¸¾ä¸€äº› CloudBase Skills å¦‚ä½•ä¸º AI æ³¨å…¥ç”Ÿäº§çº§æ ‡å‡†çš„åœºæ™¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/779765422f7540bc8d5d9eadbc9795e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=RzsaARUvHU%2FSvJocxFfKrizVBkg%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">åœºæ™¯ä¸€ï¼šèº«ä»½è®¤è¯â€”â€”æ‹’ç»â€œç›¸ä¿¡å‰ç«¯è¾“å…¥â€</h3>
<h4 data-id="heading-6">é”™è¯¯åšæ³•</h4>
<p>ä¹ æƒ¯äºè®©å‰ç«¯é€šè¿‡ <code>userId</code> ä¼ å‚ç»™åç«¯ã€‚</p>
<ul>
<li><strong>é£é™©</strong>ï¼šè¿™æ˜¯å…¸å‹çš„â€œé˜²å›å­ä¸é˜²å°äººâ€ã€‚æ”»å‡»è€…åªéœ€æ‹¦æˆªè¯·æ±‚å¹¶ä¿®æ”¹å‚æ•°ï¼Œå³å¯å®ç°<strong>æ¨ªå‘è¶Šæƒ</strong>ï¼Œè®¿é—®ä»»ä½•äººçš„ç§å¯†æ•°æ®ã€‚</li>
</ul>
<h4 data-id="heading-7">æ­£ç¡®åšæ³•</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1922ca87eaf941d0b3e187f6cd2c50bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=sxJ%2B3Km0mOaBqkcx5BceLwL3PsU%3D" alt="" loading="lazy"/></p>
<p>åŠ è½½ <code>auth-wechat</code> Skill åï¼ŒAI ä¼šè¢«å¼ºåˆ¶è¦æ±‚æ”¾å¼ƒå‰ç«¯ä¼ å‚ï¼Œè½¬è€Œåˆ©ç”¨äº‘åº•åº§çš„<strong>åŸç”Ÿé“¾è·¯</strong>ã€‚</p>
<ul>
<li><strong>Before (è„†å¼±é€»è¾‘)</strong>:</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®ä¹ ç”Ÿ AIï¼šç›¸ä¿¡ç”¨æˆ·ä¼ æ¥çš„ ID</span>
<span class="hljs-keyword">const</span> { openid } = event.<span class="hljs-property">params</span>; 
<span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">collection</span>(<span class="hljs-string">'users'</span>).<span class="hljs-title function_">doc</span>(openid).<span class="hljs-title function_">get</span>();

</code></pre>
<ul>
<li><strong>After (ç”Ÿäº§çº§æ ‡å‡†)</strong>:</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸“å®¶ AIï¼šåˆ©ç”¨åº•åº§åŸç”Ÿä¸Šä¸‹æ–‡ï¼Œä¸å¯ä¼ªé€ </span>
<span class="hljs-keyword">const</span> { <span class="hljs-variable constant_">OPENID</span> } = cloud.<span class="hljs-title function_">getWXContext</span>(); 
<span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> db.<span class="hljs-title function_">collection</span>(<span class="hljs-string">'users'</span>).<span class="hljs-title function_">doc</span>(<span class="hljs-variable constant_">OPENID</span>).<span class="hljs-title function_">get</span>();

</code></pre>
<blockquote>
<p><strong>å·¥ç¨‹å‡†åˆ™</strong>ï¼šå®‰å…¨æ€§åº”ç”±åº•åº§çš„<strong>åŸç”Ÿäº’ä¿¡</strong>ä¿è¯ï¼Œè€Œéä¾èµ–å‰ç«¯è¾“å…¥çš„è‡ªè§‰ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-8">åœºæ™¯äºŒï¼šæ•°æ®å®‰å…¨â€”â€”ä»â€œæ¥å£è£¸å¥”â€åˆ°â€œè¡Œæƒé™â€</h3>
<h4 data-id="heading-9">é”™è¯¯åšæ³•</h4>
<p>å€¾å‘äºç›´æ¥æš´éœ²æ•°æ®åº“æ¥å£ã€‚å¦‚æœä½ çš„ API é€»è¾‘ç¨æœ‰ç–å¿½ï¼Œæ•°æ®åº“å¯¹æ”»å‡»è€…å‡ ä¹æ˜¯â€œè£¸å¥”â€çŠ¶æ€ã€‚</p>
<h4 data-id="heading-10">æ­£ç¡®åšæ³•</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89f2a551bb0b46ed9d35aaee0157d65a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=VczPHljIah5FRPAguryqJCM%2Beyo%3D" alt="" loading="lazy"/></p>
<p>Skill ä¼šå¼•å¯¼ AI å°†æƒé™æ ¡éªŒ <strong>ä¸‹æ²‰åˆ°æ•°æ®åº“å…¥å£</strong>ï¼Œç›´æ¥é©±åŠ¨åº•åº§çš„ <strong>å®‰å…¨è§„åˆ™ï¼ˆSecurity Rulesï¼‰</strong>ã€‚</p>
<ul>
<li><strong>å®ç°æ”¹å˜</strong>ï¼šä¸å†å•çº¯å†™æŸ¥è¯¢é€»è¾‘ï¼Œè€Œæ˜¯ä¸ºé›†åˆå®šä¹‰ <code>auth.uid == doc._openid</code> è§„åˆ™ã€‚</li>
<li><strong>ä»·å€¼</strong>ï¼š<strong>é˜²å¾¡æ€§ç¼–ç¨‹çš„é—­ç¯ã€‚</strong> å³ä½¿ä¸šåŠ¡é€»è¾‘ä»£ç å‡ºç° Bugï¼Œåº•åº§ä¾ç„¶èƒ½ä»ç‰©ç†å±‚é¢æ‹¦æˆªä»»ä½•éæœ¬äººæ•°æ®çš„è¶Šæƒä¿®æ”¹ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-11">åœºæ™¯ä¸‰ï¼šAI é›†æˆâ€”â€”æ¶ˆç­ Hardcodedï¼Œä¸‰è¡Œä»£ç é—­ç¯</h3>
<p>æ¥å…¥å¤§æ¨¡å‹æ˜¯å½“å‰æœ€çƒ­çš„éœ€æ±‚ï¼Œä½† AI å¾€å¾€ç»™å‡ºçš„æ˜¯â€œDemo çº§â€çš„ä»£ç ï¼Œå®Œå…¨å¿½ç•¥äº†ç”Ÿäº§ç¯å¢ƒçš„å®‰å…¨ä¸é«˜å¯ç”¨è¦æ±‚ã€‚</p>
<h4 data-id="heading-12">é”™è¯¯åšæ³•</h4>
<p>å°† API Key ç¡¬ç¼–ç åœ¨å‰ç«¯ï¼Œå†™å‡ºä¸€å¨æ··ä¹±çš„é€»è¾‘æ¥å¤„ç†æµå¼è¾“å‡ºï¼ˆStreamingï¼‰ï¼Œæ—¢ä¸å®‰å…¨ä¹Ÿä¸ç¨³å®šã€‚</p>
<h4 data-id="heading-13">æ­£ç¡®åšæ³•</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00a0d8fb2ff748bca652b150a38dd4c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=hNTZLry1SKwA5irTwTWVvj46f1Y%3D" alt="" loading="lazy"/></p>
<p>Skill æ³¨å…¥äº†ç”Ÿäº§çº§ AI æ¥å…¥è§„èŒƒï¼Œå°†å¤æ‚çš„å°è£…é€»è¾‘ç®€åŒ–ä¸ºåº•å±‚ SDK çš„åŸç”Ÿè°ƒç”¨ã€‚</p>
<ul>
<li><strong>å®‰å…¨åŠ å›º</strong>ï¼šKey è‡ªåŠ¨æ‰˜ç®¡åœ¨äº‘ç«¯ç¯å¢ƒå˜é‡ï¼Œå‰ç«¯å®ç° <strong>â€œé›¶æ³„éœ²â€</strong>ã€‚</li>
<li><strong>å‡ è¡Œä»£ç è°ƒç”¨ AI å¤§æ¨¡å‹</strong> ï¼Œè‡ªåŠ¨å¤„ç†æµå¼å“åº”ã€‚</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// CloudBase Skills å®ç°çš„ç”Ÿäº§çº§ AI è°ƒç”¨</span>
<span class="hljs-keyword">const</span> model = wx.<span class="hljs-property">cloud</span>.<span class="hljs-property">extend</span>.<span class="hljs-property">AI</span>.<span class="hljs-title function_">createModel</span>(<span class="hljs-string">"hunyuan-exp"</span>);

<span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> model.<span class="hljs-title function_">streamText</span>({
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">model</span>: <span class="hljs-string">"hunyuan-turbos-latest"</span>,
    <span class="hljs-attr">messages</span>: [{ <span class="hljs-attr">role</span>: <span class="hljs-string">"user"</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">"ä»‹ç»ä¸€ä¸‹æç™½"</span> }],
  }
});

<span class="hljs-comment">// ä½¿ç”¨ textStream è·å–å¢é‡æ–‡æœ¬</span>
<span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> (<span class="hljs-keyword">const</span> text <span class="hljs-keyword">of</span> res.<span class="hljs-property">textStream</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ–‡æœ¬ç‰‡æ®µ:"</span>, text);
}

</code></pre>
<h3 data-id="heading-14">æ ¸å¿ƒä»·å€¼</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c2acfb57a904ebfb574ef6483a9b252~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=Qv48qwXlaGtB0cGjmdNM%2FjEti9k%3D" alt="" loading="lazy"/></p>
<p><strong>â€œAI æä¾›äº†é€»è¾‘çš„ä¸Šé™ï¼Œè€Œ CloudBase Skills å®ˆä½äº†å·¥ç¨‹çš„ä¸‹é™ã€‚â€</strong></p>
<hr/>
<h3 data-id="heading-15">å®‰è£… CloudBase Skills</h3>
<p>åœ¨ä½ çš„ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œä¸ºä½ çš„ AI åŠ©æ‰‹æ³¨å…¥â€œç”Ÿäº§çº§ç›´è§‰â€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx skills add tencentcloudbase/skills
</code></pre>
<p>å³å¯å®‰è£…æˆ‘ä»¬æä¾›çš„å¤šä¸ª Skills åˆ°ä½ çš„å¼€å‘å·¥å…·ä¸­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6e2adedcbf141db956be0b7186e8bea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=u0gd0LQVLIELAEtFYvaT0U3n5jk%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-16">CloudBase Skills å®Œæ•´åˆ—è¡¨</h4>
<p>æˆ‘ä»¬å°† Skills æŒ‰ç…§å®é™…å¼€å‘ä¸­çš„èŒèƒ½è¿›è¡Œäº†å½’ç±»ï¼Œç¡®ä¿ AI åœ¨ä¸åŒç¯å¢ƒä¸‹è°ƒç”¨æ­£ç¡®çš„ SDK å’Œå·¥å…·ã€‚</p>
<p>è¿™ç§åˆ†ç±»ä¸ä»…æ˜¯ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…æŸ¥é˜…ï¼Œæ›´æ˜¯ä¸ºäº†åœ¨ Discoveryï¼ˆå‘ç°é˜¶æ®µï¼‰é™ä½ AI çš„è®¤çŸ¥è´Ÿè·ï¼Œå®ç°ç²¾å‡†çš„æŒ‰éœ€æŒ‚è½½ã€‚</p>
<h5 data-id="heading-17">æ ¸å¿ƒç†å¿µï¼šç¯å¢ƒå³è¾¹ç•Œï¼ˆEnvironment as Boundaryï¼‰</h5>
<p>åœ¨å±•å¼€åˆ—è¡¨å‰ï¼Œæˆ‘ä»¬éœ€è¦é˜è¿°è¿™å¥—æ¶æ„çš„åº•å±‚è®¾è®¡ï¼šæ€»çº²è·¯ç”±ï¼Œä¸‰ç«¯éš”ç¦»ã€‚</p>
<ul>
<li><strong>ç‰©ç†éš”ç¦»</strong>ï¼šWebã€å°ç¨‹åºã€Node.js çš„åŒåæ–¹æ³•é€»è¾‘å„å¼‚ã€‚æˆ‘ä»¬å°†å®ƒä»¬æ‹†åˆ†ä¸ºç‹¬ç«‹æ’ä»¶ï¼Œä»ç‰©ç†å±‚é¢æœç» AI åœ¨å°ç¨‹åºé‡Œå†™å‡º Web SDK è¯­æ³•çš„è¯­ä¹‰æ±¡æŸ“ã€‚</li>
<li><strong>æ€»çº²å¼•å¯¼</strong>ï¼šcloudbase-guidelines æ˜¯æ‰€æœ‰ä»»åŠ¡çš„é»˜è®¤å…¥å£ã€‚å®ƒåƒä¸€ä¸ªè¯­ä¹‰è·¯ç”±å™¨ï¼Œå…ˆåˆ¤å®šé¡¹ç›®ç¯å¢ƒï¼Œå†æŒ‡å¼• AI æ¿€æ´»å¯¹åº”çš„å­ Skillã€‚</li>
</ul>
<h4 data-id="heading-18">å®Œæ•´æŠ€èƒ½çŸ©é˜µ</h4>
















































































<table><thead><tr><th>åˆ†ç±»</th><th>æ ¸å¿ƒ Skills</th><th>æ ¸å¿ƒèŒèƒ½ä¸å®æˆ˜è¦ç‚¹</th></tr></thead><tbody><tr><td><strong>å¿…è¯»æ€»çº²</strong></td><td>cloudbase-guidelines</td><td>å…¨å±€å…¥å£ã€‚åˆ¤å®š Web/å°ç¨‹åº/åç«¯ç¯å¢ƒï¼Œè´Ÿè´£æ¶æ„å¯¼èˆªä¸å…¨å±€é˜²é”™è§„çŸ©ã€‚</td></tr><tr><td><strong>AI æ‰©å±•</strong></td><td>ai-model-nodejs</td><td>æœåŠ¡ç«¯ä¸“ç”¨ã€‚æ”¯æŒæ–‡æœ¬ã€æµå¼åŠå›¾åƒç”Ÿæˆã€‚å”¯ä¸€æ”¯æŒ Node SDK 3.16.0+ å›¾åƒèƒ½åŠ›çš„ Skillã€‚</td></tr><tr><td/><td>ai-model-web / -wechat</td><td>å‰ç«¯ä¸“ç”¨ã€‚åˆ†åˆ«é€‚é…æµè§ˆå™¨ä¸å°ç¨‹åºç¯å¢ƒã€‚æ³¨æ„å°ç¨‹åºç«¯ API ä¸åŒï¼Œä¸”ä¸æ”¯æŒå›¾åƒç”Ÿæˆã€‚</td></tr><tr><td><strong>èº«ä»½é‰´æƒ</strong></td><td>auth-nodejs / -web / -wechat</td><td>ä¸‰ç«¯éš”ç¦»ã€‚è§£å†³ Web ç«¯çš„ç™»å½•ã€å°ç¨‹åºåŸç”Ÿèº«ä»½ä»¥åŠæœåŠ¡ç«¯çš„è‡ªå®šä¹‰ Ticket é€»è¾‘ã€‚</td></tr><tr><td/><td>auth-tool</td><td>MCP ä¸“ç”¨ã€‚é€šè¿‡ callCloudApi ç›´æ¥é…ç½®çŸ­ä¿¡ã€åŒ¿åã€ç¬¬ä¸‰æ–¹ç™»å½•ç­‰åå°å¼€å…³ã€‚</td></tr><tr><td><strong>æ•°æ®åº“</strong></td><td>no-sql-web-sdk / -wx-mp-sdk</td><td>æ–‡æ¡£æ•°æ®åº“ã€‚é€‚é… Web ä¸å°ç¨‹åº SDK çš„æŸ¥è¯¢ã€åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤åŠåœ°ç†ä½ç½®æŸ¥è¯¢ã€‚</td></tr><tr><td/><td>relational-database-tool</td><td>å…³ç³»å‹æ•°æ®åº“ã€‚AI ä¸“ç”¨ SQL æ‰§è¡Œå·¥å…·ï¼Œå†…ç½®ç”Ÿäº§æ•°æ®ä¿æŠ¤æœºåˆ¶ï¼Œä¸¥ç¦è£¸å†™ SQLã€‚</td></tr><tr><td/><td>relational-database-web</td><td>SQL-on-Webã€‚å‰ç«¯é€šè¿‡ SDK è®¿é—®å…³ç³»å‹æ•°æ®åº“çš„æ ‡å‡†åˆå§‹åŒ–ä¸æŸ¥è¯¢æ¨¡å¼ã€‚</td></tr><tr><td><strong>è®¡ç®—ä¸å­˜å‚¨</strong></td><td>cloud-functions</td><td>Serverless æ ¸å¿ƒã€‚æ¶µç›–è¿è¡Œæ—¶é€‰æ‹©ã€éƒ¨ç½²ã€æ—¥å¿—ã€å¼‚æ­¥è°ƒç”¨ä¸ HTTP è®¿é—®é…ç½®ã€‚</td></tr><tr><td/><td>cloudrun-development</td><td>å®¹å™¨åŒ–æ¨¡å¼ã€‚é’ˆå¯¹é•¿è¿æ¥ã€å¤šè¯­è¨€æˆ– AI Agent éœ€è¦çš„å®¹å™¨äº‘ç¯å¢ƒå¼€å‘è§„èŒƒã€‚</td></tr><tr><td/><td>cloud-storage-web</td><td>æ–‡ä»¶ç®¡ç†ã€‚Web ç¯å¢ƒä¸‹çš„ä¸Šä¼ ã€ä¸‹è½½ã€ä¸´æ—¶é“¾æ¥ç”ŸæˆåŠæ–‡ä»¶ç®¡ç†æœ€ä½³å®è·µã€‚</td></tr><tr><td><strong>ç ”å‘æµä¸ UI</strong></td><td>spec-workflow</td><td>å·¥ç¨‹æ ‡å‡†åŒ–ã€‚ä»éœ€æ±‚åˆ†æåˆ°æŠ€æœ¯è®¾è®¡çš„æ ‡å‡† SOPï¼Œæå‡å¤æ‚é¡¹ç›®çš„ç¡®å®šæ€§ã€‚</td></tr><tr><td/><td>ui-design</td><td>å®¡ç¾åŸºå‡†ã€‚æä¾›ç”Ÿäº§çº§çš„ç»„ä»¶è®¾è®¡å»ºè®®ä¸ UI è§„èŒƒï¼Œç¡®ä¿å‰ç«¯ç•Œé¢å…·å¤‡ä¸“ä¸šè§†è§‰å“è´¨ã€‚</td></tr><tr><td/><td>web / miniprogram</td><td>å¹³å°è§„åˆ™ã€‚é’ˆå¯¹ Web é™æ€æ‰˜ç®¡æˆ–å°ç¨‹åºå¼€å‘ï¼ˆå«ä¼ä¸šå¾®ä¿¡ã€wx.cloud æ¨¡å¼ï¼‰çš„ä¸“é¡¹è§„åˆ™ã€‚</td></tr></tbody></table>
<h3 data-id="heading-19">MCP vs Skills</h3>
<p>åœ¨æ„å»º AI åŸç”Ÿå¼€å‘ç”Ÿæ€çš„é“è·¯ä¸Šï¼Œæˆ‘ä»¬å§‹ç»ˆåšæŒâ€œå…ˆæ‰“é€šï¼Œå†ä¼˜åŒ–â€çš„é€»è¾‘ã€‚</p>
<h4 data-id="heading-20">CloudBase MCPï¼šæ—©å·²å°±ç»ªçš„â€œå·¥ç¨‹åŒæ‰‹â€</h4>
<p>äº‹å®ä¸Šï¼Œäº‘å¼€å‘ CloudBase åœ¨ 2025 å¹´ä¸ŠåŠå¹´çš„æ—¶å€™å°±æ¨å‡ºäº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTencentCloudBase%2FCloudBase-MCP" title="https://github.com/TencentCloudBase/CloudBase-MCP" target="_blank" ref="nofollow noopener noreferrer">CloudBase MCP</a>ã€‚ä½œä¸º Anthropic æ¨å‡ºçš„è¡Œä¸šæ ‡å‡†åè®®ï¼ŒMCP è§£å†³çš„æ˜¯â€œè¿æ¥â€é—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b1479cd10e2a40179aa28d0e30942773~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=2QFKcj4Itp550nUiN3D6meYcF6g%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡ MCPï¼Œæˆ‘ä»¬è®© AI åŠ©æ‰‹çœŸæ­£æ‹¥æœ‰äº†æ“ä½œè…¾è®¯äº‘åº•åº§çš„<strong>ç»“æ„åŒ–æƒé™</strong>ã€‚å®ƒä¸å†åªæ˜¯åœ¨å¯¹è¯æ¡†é‡Œå†™ä»£ç ï¼Œè€Œæ˜¯èƒ½ç›´æ¥æŸ¥è¯¢äº‘ç«¯çŠ¶æ€ã€åˆ›å»ºèµ„æºã€æ‹‰å–æ—¥å¿—ã€‚ç›®å‰ï¼ŒCloudBase MCP å·²ç»æ”¯æŒäº†åŒ…æ‹¬ Cursorã€Claude Desktopã€VS Code åœ¨å†…çš„å¤šç§ä¸»æµå·¥å…·ï¼Œå¸®åŠ©å¤§é‡å¼€å‘è€…å®ç°äº† AI ä¸äº‘ç«¯çš„ç‰©ç†è¿æ¥ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.cloudbase.net%2Fai%2Fcloudbase-ai-toolkit%2F" title="https://docs.cloudbase.net/ai/cloudbase-ai-toolkit/" target="_blank" ref="nofollow noopener noreferrer">æŸ¥çœ‹å…·ä½“ä½¿ç”¨æŒ‡å¼•</a>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/033989932fb84891841ba5b33d8d7c2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=k0%2Bfiggvdz1G2qHMdUymdpBlMfg%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-21">CloudBase Skillsï¼šåå‘åˆ¶äººçš„â€œå²—ä½æ‰‹å†Œâ€</h4>
<p>æ—¢ç„¶æœ‰äº† MCP è¿™åŒå¼ºæœ‰åŠ›çš„â€œæ‰‹â€ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜è¦æ¨å‡º Skillsï¼Ÿ</p>
<p><strong>å¦‚æœè¯´ MCP æ˜¯è®© AI â€œæœ‰æƒé™â€å¹²æ´»ï¼Œé‚£ä¹ˆ Skills å°±æ˜¯è®© AI â€œæ‡‚è§„çŸ©â€å¹²æ´»ã€‚</strong></p>
<p>åœ¨æˆ‘ä»¬çš„è§„åˆ’ä¸­ï¼ŒSkills æ˜¯æ›´ä¸Šå±‚çš„èƒ½åŠ›å°è£…ï¼š</p>
<ul>
<li><strong>ä¸ä»…ä»…æ˜¯è„šæœ¬</strong>ï¼šè™½ç„¶ Skills è§„èŒƒæ”¯æŒåŒ…å«è„šæœ¬ï¼ˆScriptsï¼‰ï¼Œä½†æˆ‘ä»¬ç°é˜¶æ®µæ›´ä¾§é‡äº**â€œç¨‹åºæ€§çŸ¥è¯†ï¼ˆProcedural Knowledgeï¼‰â€çš„æ³¨å…¥**ã€‚</li>
<li><strong>æ›´å®‰å…¨ã€æ›´é€šç”¨çš„ä¸“å®¶ç›´è§‰</strong>ï¼šæ­£å¦‚å‰æ–‡æåˆ°çš„ï¼ŒAI æœ‰äº† MCP è™½ç„¶èƒ½æ‰§è¡Œè„šæœ¬ï¼Œä½†åœ¨äº‘ç«¯ç”Ÿäº§ç¯å¢ƒï¼Œç›²ç›®æ‰§è¡Œè„šæœ¬ä¸ä»…ä¸å®‰å…¨ï¼Œä¹Ÿä¸ç¬¦åˆå·¥ç¨‹è§„èŒƒã€‚Skills åˆ™æ˜¯æŠŠæˆ‘ä»¬ 8 å¹´çš„äº‘ç«¯å¡«å‘ç»éªŒï¼ˆå¦‚è¡Œæƒé™éš”ç¦»ã€åŸç”Ÿä¸Šä¸‹æ–‡è®¤è¯ï¼‰å˜æˆ AI çš„<strong>ç›´è§‰</strong>ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21dae09e367943b1bfde600d9d38e65b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=tM%2BS1bgIVDBg%2FjIyE9jHqVZQh6w%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-22">ä¸ºä»€ä¹ˆå®ƒä»¬æ˜¯é»„é‡‘ç»„åˆï¼Ÿ</h4>
<p>ä½ å¯ä»¥å•ç‹¬ä½¿ç”¨å…¶ä¸­ä¹‹ä¸€ï¼Œä½†ç»„åˆä½¿ç”¨æ‰æ˜¯ AI ç¼–ç¨‹çš„â€œç»ˆæå½¢æ€â€ï¼š</p>
<p><strong>â€œMCP æä¾›äº†æ ‡å‡†åŒ–çš„å®‰å…¨è¿æ¥ï¼Œè€Œ Skills æä¾›äº†ç”Ÿäº§çº§çš„å·¥ç¨‹ç›´è§‰ã€‚â€</strong></p>
<p>ä¸¤è€…æ­é…ï¼Œè®© AI ä»ä¸€ä¸ª <strong>â€œåŠ›æ°”å¤§ä½†é²è½çš„å®ä¹ ç”Ÿâ€</strong> ï¼ŒçœŸæ­£è¿›åŒ–ä¸ºä¸€ä¸ª**â€œæ‡‚è§„çŸ©ã€æœ‰æƒé™â€** çš„èµ„æ·±äº‘å¼€å‘ä¸“å®¶ã€‚</p>
<h3 data-id="heading-23">å®æˆ˜æ¡ˆä¾‹</h3>
<p>CodeBuddy IDE ä¸­å·²ç»å†…ç½®äº† CloudBase MCP å’Œ Skillsï¼Œåœ¨è¿æ¥ CloudBase ä¹‹åä¼šè‡ªåŠ¨ä¸‹è½½ Skills åˆ°ä½ é¡¹ç›®ä¸­ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/085a8c2399ed4502bacecbcad43ee99b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=emVgrCMHvOL0VpZhYStG48zvg6s%3D" alt="" loading="lazy"/></p>
<p>è¿™é‡Œæœ‰ä¸€ç¯‡æ•™ç¨‹æ•™ä½ ç”¨å…è´¹äº‘å¼€å‘èµ„æºä¸æ··å…ƒTokenï¼Œæ‰‹æŠŠæ‰‹æ•™ä½ ç”¨ AI æ¥å¼€å‘ä¸€ä¸ª AI å°ç¨‹åºã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/885dddcaa88041979d659c29c01e48fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=m0NF9dQcHryx%2B%2FzHeLmznKGCctM%3D" alt="" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FeB0x7Jc1lKP13dBMY9wsgw" target="_blank" title="https://mp.weixin.qq.com/s/eB0x7Jc1lKP13dBMY9wsgw" ref="nofollow noopener noreferrer">æŸ¥çœ‹å®Œæ•´æ•™ç¨‹</a></p>
<p>è¿˜å¯ä»¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.cloudbase.net%2Fai%2Fcloudbase-ai-toolkit%2Ftutorials" title="https://docs.cloudbase.net/ai/cloudbase-ai-toolkit/tutorials" target="_blank" ref="nofollow noopener noreferrer">æŸ¥çœ‹æ›´å¤šå…¥é—¨è§†é¢‘æ•™ç¨‹å’Œæ–‡ç« </a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/332df213e5074eaa8022117f5adb8870~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmluZ2dn:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770110127&amp;x-signature=fCfLaVG9qSIEB9Pd%2FANKZH8XtXw%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-24">ç»ˆç« ï¼šSkills è½åœ°è¸©å‘ä¸å®æˆ˜å¤ç›˜</h3>
<p>åœ¨åšè¿™å¥— Skills çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æœ€å¤§çš„æ„Ÿè§¦æ˜¯ï¼š<strong>ç°åœ¨çš„ AI ç¼–ç¨‹ï¼Œå…¶å®å¤„äºä¸€ä¸ªâ€œé«˜æ™ºå•†ã€ä½çºªå¾‹â€çš„é˜¶æ®µã€‚</strong> åˆ«çœ‹å„å¤§å·¥å…·éƒ½å·ç§°æ”¯æŒ Skillsï¼ŒçœŸç”¨èµ·æ¥å…¨æ˜¯å‘ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å‡ ä¸ªæˆ‘ä»¬é‡Œè·Ÿ AI â€œæ–—æ™ºæ–—å‹‡â€æ¢æ¥çš„ç»éªŒæ•™è®­ï¼š</p>
<h4 data-id="heading-25">1. ç°çŠ¶ï¼šAI ä¸ºä»€ä¹ˆä¼šâ€œè£…æ­»â€ï¼Ÿ</h4>
<p>æ˜æ˜é…äº† Skillï¼ŒAI è¿˜æ˜¯è§†è€Œä¸è§ã€‚è¿™èƒŒåçš„åŸå› å…¶å®æ¶‰åŠå¤§æ¨¡å‹çš„ä¸¤ä¸ªåº•å±‚é€»è¾‘ï¼š</p>
<ul>
<li><strong>æ³¨æ„åŠ›æƒé‡ï¼ˆAttention Biasï¼‰</strong>ï¼šåœ¨å¤§æ¨¡å‹çš„ Transformer æ¶æ„ä¸­ï¼Œå®ƒä¼šæ ¹æ®ä½ çš„ Prompt å®æ—¶è®¡ç®—æ¯ä¸ªè¯çš„æƒé‡ã€‚å½“ä½ èŠå¾—è¶Šæ·±ï¼Œä½ æçš„ä¸šåŠ¡éœ€æ±‚æƒé‡å°±ä¼šè¶Šé«˜ï¼Œè€Œä½œä¸ºèƒŒæ™¯æ¿çš„å¤–éƒ¨ Skills æƒé‡å°±ä¼šè¢«â€œç¨€é‡Šâ€ã€‚</li>
<li><strong>å†³ç­–æƒ°æ€§ï¼ˆInference Lazinessï¼‰</strong>ï¼šè°ƒç”¨ Skill æœ¬è´¨ä¸Šæ˜¯ä¸€æ¬¡ <strong>Tool Useï¼ˆå·¥å…·è°ƒç”¨ï¼‰</strong>ã€‚æ¨¡å‹åœ¨æ¨ç†æ—¶ä¼šè¿›è¡Œâ€œè·¯å¾„è¯„ä¼°â€ï¼šå¦‚æœå®ƒè§‰å¾—è‡ªå·±è„‘å­é‡Œçš„é¢„è®­ç»ƒæ•°æ®ï¼ˆé€šå¸¸æ˜¯ Localhost æ¨¡å¼ï¼‰å°±èƒ½ç”Ÿæˆä¸€æ®µâ€œçœ‹èµ·æ¥æ­£ç¡®â€çš„ä»£ç ï¼Œå®ƒå°±ä¼šä¸ºäº†èŠ‚çœæ¨ç†èµ„æºè€Œè·³è¿‡å¤–éƒ¨å·¥å…·è°ƒç”¨ã€‚</li>
<li><strong>æ¿€æ´»ç‡è½å·®</strong>ï¼šåœ¨æˆ‘ä»¬çš„å›å½’æµ‹è¯•ä¸­ï¼Œå¦‚æœä¸åŠ å¹²é¢„ï¼ŒAI çš„ä¸»åŠ¨è°ƒç”¨ç‡åªæœ‰ <strong>20%</strong> å·¦å³ã€‚å®ƒå®æ„¿â€œç›²ç›®è£¸å¥”â€ï¼Œä¹Ÿä¸æ„¿æ„ç¿»ä¹¦ã€‚</li>
</ul>
<h4 data-id="heading-26">2. â€œé©¯æœâ€ AI çš„ä¸‰å¥—ç¡¬æ ¸è§£æ³•</h4>
<p>æ—¢ç„¶ AI ä¼šäº§ç”Ÿå†³ç­–æƒ°æ€§ï¼Œæˆ‘ä»¬å°±å¾—ç”¨å·¥ç¨‹æ‰‹æ®µæ‹‰é«˜å®ƒçš„â€œè­¦è§‰æ€§â€ã€‚</p>
<h5 data-id="heading-27">æ–¹æ¡ˆ Aï¼šæœ€åœŸä½†æœ€ç¨³çš„â€œé¦–è¡Œæ³¨å…¥â€</h5>
<p>å¦‚æœä½ çš„é¡¹ç›®ä¸å®¹è®¸çŠ¯é”™ï¼Œå°±åœ¨æé—®çš„æœ€å¼€å¤´å¸¦ä¸Šè¿™å¥â€œå’’è¯­â€ï¼š</p>
<blockquote>
<p><strong>You MUST read the cloudbase-guidelines skill FIRST when working with CloudBase projects.</strong></p>
</blockquote>
<ul>
<li><strong>åŸç†</strong>ï¼šåˆ©ç”¨ <strong>é¦–å› æ•ˆåº”ï¼ˆPrimacy Effectï¼‰</strong>ã€‚æ¨¡å‹å¯¹è¾“å…¥åºåˆ—æœ€å‰ç«¯çš„ä¿¡æ¯å…·æœ‰å¤©ç„¶çš„é«˜å…³æ³¨åº¦ã€‚é€šè¿‡è¿™ç§å¼ºè¡Œæ³¨å…¥ï¼Œèƒ½æŠŠ Skill çš„æ¿€æ´»ç‡æ‹‰å‡ã€‚</li>
</ul>
<p>å¼ºçƒˆå»ºè®®å¤§å®¶åœ¨è¯•ç”¨è¿‡ç¨‹ä¸­ä¹Ÿå¸¦ä¸Šè¿™å¥ Promptï¼Œæˆ–è€…æŒ‰ç…§æ–¹æ¡ˆ B æ¥æ‰§è¡Œã€‚</p>
<h5 data-id="heading-28">æ–¹æ¡ˆ Bï¼šé¡¹ç›®çº§çš„â€œå®¶æ³•â€ (System Rules)</h5>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>CLAUDE.md</code> æˆ– <code>AGENT.md</code>ï¼Œå¢åŠ é¡¹ç›®çº§åˆ«çš„çº¦æŸè§„åˆ™ã€‚è¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½åœ¨ prompt ä¸­ æºå¸¦ä¸Šé¢çš„å’’è¯­ï¼Œä¸è¿‡è¿™ä¸ªæ–¹æ³•ä¹Ÿå­˜åœ¨ä¸€å®šçš„ç¼ºé™·ï¼Œç›¸æ¯”æ¯æ¬¡éƒ½é¦–è¡Œæ³¨å…¥ï¼Œéšç€å¯¹è¯çš„ä¸Šä¸‹æ–‡è¶Šæ¥è¶Šé•¿ï¼Œä¹Ÿä¼šå­˜åœ¨ AI ä¸éµå¾ªçš„æƒ…å†µï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥çœ‹çœ‹æ–¹æ¡ˆ 3 çš„è§£æ³•ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">

<span class="hljs-section"># CloudBase Workflow</span>

<span class="hljs-bullet">0.</span> You MUST read the cloudbase-guidelines skill FIRST when working with CloudBase projects.
<span class="hljs-bullet">1.</span> è¯„ä¼°ï¼šå†™ä»£ç å‰ï¼Œå¿…é¡»æ˜¾å¼è¯„ä¼°å¯ç”¨ Skills åˆ—è¡¨ã€‚
<span class="hljs-bullet">2.</span> æ‰¿è¯ºï¼šå¿…é¡»åœ¨è¾“å‡ºä¸­é™ˆè¿°â€œæˆ‘éœ€è¦è°ƒç”¨æŸä¸ª Skillâ€çš„ç†ç”±ã€‚
<span class="hljs-bullet">3.</span> æ‰§è¡Œï¼šç¦æ­¢è·³è¿‡è§„çŸ©ç›´æ¥å†™ä»£ç ã€‚

</code></pre>
<h4 data-id="heading-29">æ–¹æ¡ˆ 3ï¼šè‡ªåŠ¨åŒ–â€œå¼ºåˆ¶æ‹¦æˆªâ€ (Forced Eval Hook)</h4>
<p>å¦‚æœè¯´å‰ä¸¤ä¸ªæ–¹æ¡ˆæ˜¯é â€œå˜´â€å®å˜± AIï¼Œé‚£æ–¹æ¡ˆ 3 å°±æ˜¯é **â€œç‰©ç†æ‹¦æˆªâ€**</p>
<p>æŠ€æœ¯ä¸“å®¶ Scott Spence åœ¨ä»–çš„å®æµ‹ä¸­å‘ç°ï¼Œæœ€æœ‰æ•ˆçš„æ–¹å¼æ˜¯åˆ©ç”¨ç¼–è¾‘å™¨çš„ <strong>Hookï¼ˆé’©å­ï¼‰æœºåˆ¶</strong>ã€‚</p>
<ul>
<li><strong>å®ƒçš„æœ¬è´¨æ˜¯â€œä¸­é—´ä»¶â€</strong>ï¼šè¿™ä¸å†æ˜¯ä½ æ‰‹åŠ¨è¾“å…¥çš„ Promptã€‚é€šè¿‡é…ç½®ï¼ˆå¦‚ <code>.claude/settings.json</code>ï¼‰ï¼Œè„šæœ¬ä¼šåœ¨ä½ æŒ‰ä¸‹å›è½¦çš„é‚£ä¸€åˆ»ï¼Œè‡ªåŠ¨æ‹¦æˆªå¹¶â€œé­”æ”¹â€ä½ çš„é—®é¢˜ã€‚</li>
<li><strong>å¼ºåˆ¶â€œè¡¨æ€â€æ‰èƒ½â€œå¹²æ´»â€</strong>ï¼šè¿™ä¸ªé’©å­ä¼šå¼ºåˆ¶ AI åœ¨è¾“å‡ºä»»ä½•ä»£ç å‰ï¼Œå¿…é¡»å…ˆç”Ÿæˆä¸€æ®µ <strong>è¯„ä¼°æŠ¥å‘Š</strong>ã€‚AI å¿…é¡»é€ä¸€é™ˆè¿°ï¼š<em>â€œå½“å‰æœ‰å“ªäº› Skill å¯ç”¨ï¼Ÿé’ˆå¯¹è¿™ä¸ªéœ€æ±‚ï¼Œæˆ‘éœ€ä¸éœ€è¦è°ƒç”¨å®ƒä»¬ï¼Ÿç†ç”±æ˜¯ä»€ä¹ˆï¼Ÿâ€</em></li>
<li><strong>æ¶ˆé™¤â€œå†³ç­–æƒ°æ€§â€</strong>ï¼šAI æœ‰ä¸ªæ¯›ç—…ï¼Œåªè¦å®ƒè§‰å¾—è„‘å­é‡Œçš„æ—§æ•°æ®èƒ½ç³Šå¼„è¿‡å»ï¼Œå®ƒå°±ä¸ä¼šç¿»ä¹¦ã€‚ä½†è¿™ç§ Hook å¼ºè¿« AI å¿…é¡»ç™½çº¸é»‘å­—å†™ä¸‹â€œæˆ‘è¦ç”¨è¿™ä¸ªå·¥å…·â€ï¼Œä¸€æ—¦å®ƒåœ¨å¼€å¤´è¡¨äº†æ€ï¼Œåé¢çš„ä»£ç ç”Ÿæˆå°±ä¼šä¸¥æ ¼éµå®ˆè¿™ä¸ªæ‰¿è¯ºã€‚</li>
<li><strong>æ¿€æ´»ç‡çš„è´¨å˜</strong>ï¼šæ ¹æ® Scott çš„æ•°æ®ï¼Œè¿™ç§â€œæ‹¦æˆª+è¯„ä¼°â€çš„æ‰‹æ®µèƒ½å°†æ¿€æ´»ç‡ä» <strong>20% æš´åŠ›æ‹‰å‡åˆ° 84%</strong></li>
</ul>
<p>å»¶ä¼¸é˜…è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fscottspence.com%2Fposts%2Fhow-to-make-claude-code-skills-activate-reliably" title="https://scottspence.com/posts/how-to-make-claude-code-skills-activate-reliably" target="_blank" ref="nofollow noopener noreferrer">How to Make Claude Code Skills Activate Reliably</a></p>
<h4 data-id="heading-30">3. æ¶æ„å¤ç›˜ï¼šä¸ºä»€ä¹ˆå¿…é¡»æ˜¯â€œæ€»çº² + ç‹¬ç«‹æ’ä»¶â€ï¼Ÿ</h4>
<p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å‘ç° AI æœ€å¤§çš„æ¯›ç—…æ˜¯**â€œç«¯ä¸åˆ†â€**ã€‚å®ƒåˆ†ä¸æ¸…å°ç¨‹åºã€Web å’Œ Node.js çš„ç¯å¢ƒè¾¹ç•Œã€‚æˆ‘ä»¬æ²¡æœ‰æä¸€ä¸ªâ€œå…¨å®¶æ¡¶â€ Skillï¼Œè€Œæ˜¯é‡‡ç”¨äº† <strong>â€œ1 ä¸ªæ€»çº² (Guidelines) Skill + 21 ä¸ªç‹¬ç«‹ Skillâ€</strong> çš„åˆ†å¸ƒå¼æ¶æ„ã€‚è¿™èƒŒåæœ‰ä¸‰ä¸ªæ ¸å¿ƒé€»è¾‘ï¼š</p>
<h5 data-id="heading-31">A. è§£å†³â€œè¯­ä¹‰æ±¡æŸ“â€ä¸ç¯å¢ƒè¯¯åˆ¤</h5>
<p>Webã€å°ç¨‹åºã€Node.js çš„ SDK æ–¹æ³•åæå…¶ç›¸ä¼¼ï¼ˆå¦‚éƒ½æœ‰ <code>init</code>, <code>callFunction</code>ï¼‰ã€‚</p>
<ul>
<li><strong>ç—›ç‚¹</strong>ï¼šå¦‚æœå…¨å¡è¿›ä¸€ä¸ª Skillï¼ŒAI ç»å¸¸åœ¨å†™å°ç¨‹åºé€»è¾‘æ—¶ï¼Œé¡ºæ‰‹æå‡º Web ç«¯çš„è¯­æ³•ã€‚è¿™ç§<strong>è¯­ä¹‰æ±¡æŸ“</strong>æ˜¯é€ æˆä»£ç æ— æ³•ä¸Šçº¿çš„å…ƒå‡¶ã€‚</li>
<li><strong>è§£æ³•</strong>ï¼šæˆ‘ä»¬å°† Skill æŒ‰ç«¯è¿›è¡Œç‰©ç†æ‹†åˆ†ã€‚é…åˆ <code>cloudbase-guidelines</code> è¿™ç§ <strong>â€œå…¥å£ç‚¹â€ (Entry Point)</strong> ï¼Œå…ˆæŒ‡æŒ¥ AI åˆ¤å®šé¡¹ç›®ç¯å¢ƒï¼ˆå¦‚ï¼šè¯†åˆ«åˆ° <code>app.json</code> å³ä¸ºå°ç¨‹åºï¼‰ã€‚</li>
<li><strong>æ”¶ç›Š</strong>ï¼šç¯å¢ƒåˆ¤å®šåï¼ŒAI åªä¼šåŠ è½½ç›¸å…³çš„å­ Skillã€‚è¿™æŠŠå¹²æ‰°é¡¹ç›´æ¥å±è”½æ‰ï¼Œ<strong>æœç´¢ç©ºé—´ç¼©å°äº† 90%ï¼Œæ¨ç†ç²¾åº¦è‡ªç„¶å¤§å¹…æå‡ã€‚</strong></li>
</ul>
<h5 data-id="heading-32">B. å¼€å‘è€…å¯ä»¥â€œç²¾å‡†ç‚¹èœâ€</h5>
<ul>
<li><strong>ç—›ç‚¹</strong>ï¼šå…¨èƒ½åŒ…ï¼ˆå•ä½“æ¶æ„ï¼‰å¤ªé‡ã€‚å½“ä½ æƒ³è®© AI ä¸“é—¨è§£å†³â€œå¾®ä¿¡æ”¯ä»˜â€æˆ–â€œå®‰å…¨è§„åˆ™â€è¿™ç§ç‰¹å®šé—®é¢˜æ—¶ï¼ŒAI çš„æ³¨æ„åŠ›ä¼šè¢«åºå¤§çš„å…¨é‡æ‰‹å†Œç¨€é‡Šã€‚</li>
<li><strong>è§£æ³•</strong>ï¼šç‹¬ç«‹æ’ä»¶æ”¯æŒ<strong>å±€éƒ¨å¼ºåŒ–</strong>ã€‚ä½ å¯ä»¥ç›´æ¥ä¸‹ä»¤ï¼š<em>â€œè°ƒç”¨ <code>auth-web</code> æ£€æŸ¥å®ç°æ‰‹æœºå·ç™»å½•â€</em>ã€‚</li>
<li><strong>æ”¶ç›Š</strong>ï¼šè¿™ç§è®¾è®¡å…è®¸å¼€å‘è€…ç›´æ¥å¹²é¢„ AI çš„å†³ç­–è·¯å¾„ã€‚åœ¨ AI é€»è¾‘æ··ä¹±æ—¶ï¼Œé€šè¿‡å”¤èµ·ç‰¹å®šå­ Skill å¼ºè¡ŒæŠŠå®ƒçš„æ€ç»´æ‹‰å›åˆ°æ­£ç¡®çš„çª„é“ä¸Šã€‚</li>
</ul>
<h3 data-id="heading-33">æœªæ¥è§„åˆ’</h3>
<p>æˆ‘ä»¬å°†æŒç»­æ¨å‡ºï¼š</p>
<ul>
<li>å°ç¨‹åºé›†æˆå¾®ä¿¡æ”¯ä»˜é›†æˆæŠ€èƒ½</li>
<li>å°ç¨‹åºé›†æˆè™šæ‹Ÿæ”¯ä»˜æŠ€èƒ½</li>
<li>å°æ¸¸æˆé›†æˆäº‘å¼€å‘æŠ€èƒ½</li>
<li>äº‘å‡½æ•°éƒ¨ç½²å…¨æ ˆåç«¯åº”ç”¨æŠ€èƒ½</li>
<li>æ›´å¤šå…¨æ ˆåº”ç”¨å¼€å‘æ¨¡æ¿å’ŒæŠ€èƒ½ç­‰</li>
</ul>
<p>æ¬¢è¿è®¿é—®</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTencentCloudBase%2FSkills" title="https://github.com/TencentCloudBase/Skills" target="_blank" ref="nofollow noopener noreferrer">CloudBase Skills GitHub ä»“åº“</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTencentCloudBase%2FCloudBase-MCP" title="https://github.com/TencentCloudBase/CloudBase-MCP" target="_blank" ref="nofollow noopener noreferrer">CloudBase MCP GitHub ä»“åº“</a></p>
<p>äº†è§£æ›´å¤šè¯¦æƒ…ï¼</p>
<h3 data-id="heading-34">å†™åœ¨æœ€åï¼šä»â€œä»£ç ç”Ÿæˆâ€åˆ°â€œç”Ÿäº§çº§äº¤ä»˜â€çš„è·¨è¶Š</h3>
<p>æŠ˜è…¾äº†è¿™ä¹ˆå¤š Skills ä¹‹åï¼Œæˆ‘ä»¬æœ€å¤§çš„æ„Ÿè§¦æ˜¯ï¼š<strong>AI ç¼–ç¨‹çš„ç”Ÿäº§åŠ›ï¼Œä¸å–å†³äºæ¨¡å‹èƒ½å†™å‡ºå¤šä¹ˆç²¾å¦™çš„é€»è¾‘ï¼Œè€Œå–å†³äºä½ å¯¹å®ƒç”Ÿæˆçš„ä»£ç å…·å¤‡å¤šå°‘â€œå·¥ç¨‹çº¦æŸåŠ›â€ã€‚</strong></p>
<h4 data-id="heading-35">1. æ ¸å¿ƒæœ¬è´¨ï¼šå°†â€œéšæ€§ç»éªŒâ€è½¬åŒ–ä¸ºâ€œç¨‹åºæ€§çŸ¥è¯†â€</h4>
<p>ç›®å‰çš„ Agent ä¾ç„¶å¤„äºâ€œé«˜æ™ºå•†ã€é›¶ç»éªŒâ€çš„çŠ¶æ€ï¼Œå®ƒä»¬æ˜¯åšå­¦çš„â€œå®ä¹ ç”Ÿâ€ï¼Œå´å¯¹çœŸå®çš„ç‰©ç†åº•åº§ç¼ºä¹æ•¬ç•ã€‚
<strong>CloudBase Skills çš„æœ¬è´¨ï¼Œæ˜¯ç»™ AI æ³¨å…¥ä¸€å¥—å·¥ç¨‹åŒ–çš„â€œè‚Œè‚‰è®°å¿†â€ã€‚</strong> é€šè¿‡ <code>guidelines</code> çš„è¯­ä¹‰å¯¼èˆªå’ŒåŸå­ Skill çš„å¼ºçº¦æŸï¼Œæˆ‘ä»¬å°†äº‘å¼€å‘å…«å¹´æ¥æ²‰æ·€çš„å¡«å‘ç»éªŒï¼ˆå¦‚è¡Œæƒé™éš”ç¦»ã€å¤šç«¯åŸç”Ÿä¸Šä¸‹æ–‡ã€é«˜å¹¶å‘é™æµï¼‰è½¬åŒ–ä¸ºäº† AI çš„<strong>å‰ç½®åˆ¤å®šæ¡ä»¶</strong>ã€‚è¿™ç§**ç¨‹åºæ€§çŸ¥è¯†ï¼ˆProcedural Knowledgeï¼‰**çš„æ³¨å…¥ï¼Œè®© AI çœŸæ­£ç†è§£äº†â€œæ­£ç¡®ä¸”å®‰å…¨â€çš„äº¤ä»˜æ ‡å‡†ã€‚</p>
<h4 data-id="heading-36">2. èŒƒå¼è½¬æ¢ï¼šAgent å¿…é¡»å…·å¤‡â€œç¯å¢ƒæ„ŸçŸ¥åŠ›â€</h4>
<p>Agent è¿›åŒ–çš„ä¸‹ä¸€ç«™ï¼Œä¸ä»…ä»…æ˜¯ Reasoningï¼ˆæ¨ç†ï¼‰çš„å¢å¼ºï¼Œæ›´æ˜¯å¯¹ <strong>Infrastructureï¼ˆåŸºç¡€è®¾æ–½ï¼‰æ„ŸçŸ¥åŠ›</strong>çš„è¡¥é½ã€‚</p>
<ul>
<li><strong>Skills å®ˆä½å·¥ç¨‹ä¸‹é™</strong>ï¼šå®ƒæ˜¯ä¸€å¥—â€œé˜²å‘†åè®®â€ã€‚é€šè¿‡åœºæ™¯åŒ–å·¥ä½œæµå’ŒæŠ¥é”™é”šç‚¹ï¼Œå¼ºåˆ¶ AI åœ¨ç¼–å†™é˜¶æ®µå°±åŒ–è§£é‰´æƒæ¼æ´å’Œå¤šç«¯ç¯å¢ƒå·®å¼‚ï¼Œå½»åº•ç»ˆç»“â€œä»£ç åªæ´»åœ¨ <code>localhost</code>â€çš„å¹»è§‰ã€‚</li>
<li><strong>CloudBase æ‰¿è½½é€»è¾‘ä¸Šé™</strong>ï¼šä½œä¸ºå…¨æ ˆåº•åº§ï¼Œå®ƒè®© AI çš„é€»è¾‘è¾“å‡ºä¸å†æ˜¯ç½‘é¡µé‡Œçš„æ–‡æœ¬ï¼Œè€Œæ˜¯èƒ½ç›´æ¥éƒ¨ç½²ã€è°ƒé€šã€å¹¶äº§ç”ŸçœŸå®ä¸šåŠ¡ä»·å€¼çš„ç”Ÿäº§çº§èµ„æºã€‚</li>
</ul>
<h4 data-id="heading-37">3. ç¡®å®šæ€§æ˜¯ AI å¼€å‘çš„å”¯ä¸€åº¦é‡è¡¡</h4>
<p>æˆ‘ä»¬ä¸åº”è¯¥æœŸå¾… AI è‡ªåŠ¨å˜å¾—â€œå®Œç¾â€ï¼Œè€Œåº”è¯¥é€šè¿‡å·¥ç¨‹æ‰‹æ®µè®©å®ƒå˜å¾—â€œç¨³å®šâ€ã€‚
<strong>AI æä¾›é€»è¾‘çš„ä¸Šé™ï¼ŒSkills å®ˆä½å·¥ç¨‹çš„ä¸‹é™ï¼Œè€Œ CloudBase åˆ™æ˜¯æ‰¿è½½è¿™ä¸€åˆ‡çš„ç‰©ç†åº•åº§ã€‚</strong></p>
<p>æˆ‘ä»¬æ­£å¤„äºä»â€œæ°›å›´æ„Ÿç¼–ç¨‹ (Vibe Coding)â€å‘â€œç”Ÿäº§çº§äº¤ä»˜â€è·¨è¶Šçš„èŠ‚ç‚¹ã€‚å¦‚æœä½ ä¹ŸåŒå€¦äº†åœ¨å¯¹è¯æ¡†é‡Œä¿® Bugï¼Œæ¬¢è¿å®‰è£… CloudBase Skillsã€‚ç»™ä½ çš„ AI ç«‹ä¸ªè§„çŸ©ï¼Œè®©å®ƒçœŸæ­£ä»ä¸€ä¸ªâ€œèŠå¤©æ­å­â€è¿›åŒ–ä¸ºèƒ½å¸®ä½ ä¸Šçº¿äº§å“çš„â€œèµ„æ·±åˆä¼™äººâ€ã€‚</p>
<hr/>
<p>å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµ</p>
<h3 data-id="heading-38">åè¯è§£é‡Š</h3>
<ul>
<li><strong>Vibe Coding</strong>ï¼šä¸€ç§ä¾èµ– AI ç›´è§‰ã€å¿«é€Ÿç”ŸæˆåŸå‹ä½†ç¼ºä¹å·¥ç¨‹ä¸¥è°¨æ€§çš„ç¼–ç¨‹æ–¹å¼ã€‚</li>
<li><strong>Procedural Knowledge</strong>ï¼šç¨‹åºæ€§çŸ¥è¯†ã€‚æŒ‡å…³äºâ€œå¦‚ä½•æ“ä½œâ€çš„çŸ¥è¯†ï¼Œè®© AI æŒæ¡ç‰¹å®šåœºæ™¯ä¸‹çš„æ ‡å‡†ä½œä¸šæµç¨‹ï¼ˆSOPï¼‰ã€‚</li>
<li><strong>MCP</strong>ï¼šæ¨¡å‹ä¸Šä¸‹æ–‡åè®®ã€‚AI çš„**â€œè¿æ¥å™¨â€**ï¼Œè®©å…¶èƒ½ç›´æ¥æ“ä½œæ•°æ®åº“ã€æ–‡ä»¶ç³»ç»Ÿæˆ–äº‘èµ„æºã€‚</li>
<li><strong>Agent Skills</strong>ï¼šèƒ½åŠ›æ’ä»¶åŒ…ã€‚AI çš„**â€œä¸“å®¶æ‰‹å†Œâ€**ï¼Œæ³¨å…¥ç‰¹å®šé¢†åŸŸçš„æœ€ä½³å®è·µå’Œå·¥ç¨‹è§„èŒƒã€‚</li>
<li><strong>æ¨ªå‘è¶Šæƒ</strong>ï¼šå®‰å…¨æ¼æ´ã€‚æŒ‡æ”»å‡»è€…é€šè¿‡ç¯¡æ”¹ ID ç­‰å‚æ•°ï¼Œéæ³•è®¿é—®åˆ°åŒçº§åˆ«å…¶ä»–ç”¨æˆ·çš„æ•°æ®ã€‚</li>
<li><strong>å®‰å…¨è§„åˆ™</strong>ï¼šåº•åº§çº§æƒé™æ§åˆ¶ã€‚åœ¨æ•°æ®åº“å…¥å£å¤„å¼ºåˆ¶æ‰§è¡Œè®¿é—®æ ¡éªŒï¼Œæ˜¯é˜²å¾¡è¶Šæƒçš„æ ¸å¿ƒæ‰‹æ®µã€‚</li>
</ul>
<h3 data-id="heading-39">ç«‹å³å¼€å§‹</h3>
<p>åœ¨ä½ çš„ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œä¸ºä½ çš„ AI åŠ©æ‰‹æ³¨å…¥â€œç”Ÿäº§çº§ç›´è§‰â€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx skills add tencentcloudbase/skills
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[containerd2.xæ¥å…¥Harborä»“åº“æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7599765329410146344</link>    <guid>https://juejin.cn/post/7599765329410146344</guid>    <pubDate>2026-01-27T07:49:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599765329410146344" data-draft-id="7599852579066707983" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="containerd2.xæ¥å…¥Harborä»“åº“æ–¹æ³•"/> <meta itemprop="keywords" content="æ•°æ®åº“,å¼€æº"/> <meta itemprop="datePublished" content="2026-01-27T07:49:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Smoothcloud_æ¶¦äº‘"/> <meta itemprop="url" content="https://juejin.cn/user/2948233128844891"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            containerd2.xæ¥å…¥Harborä»“åº“æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2948233128844891/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Smoothcloud_æ¶¦äº‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T07:49:05.000Z" title="Tue Jan 27 2026 07:49:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒé…ç½®ç»“æ„è¯´æ˜</h2>
<p>containerd 2.x å¯¹é•œåƒä»“åº“é…ç½®è¿›è¡Œäº†ç»“æ„åŒ–ä¼˜åŒ–ï¼Œæ‰€æœ‰ç›¸å…³é…ç½®å‡é›†ä¸­åœ¨ <code>/etc/containerd/certs.d/</code> ç›®å½•ä¸‹ï¼Œéµå¾ª "ä¸€ä»“åº“ä¸€ç›®å½•" çš„é…ç½®åŸåˆ™ï¼š</p>
<ul>
<li>æ¯ä¸ªé•œåƒä»“åº“ï¼ˆregistryï¼‰å¯¹åº”ä¸€ä¸ªç‹¬ç«‹ç›®å½•ï¼Œç›®å½•åéœ€ä¸ä»“åº“åŸŸåï¼ˆæˆ– IP åœ°å€ï¼‰å®Œå…¨ä¸€è‡´</li>
<li>æ¯ä¸ªç›®å½•ä¸‹å¿…é¡»åŒ…å«ä¸€ä¸ª <code>hosts.toml</code> æ–‡ä»¶ï¼Œç”¨äºå®šä¹‰ä»“åº“è¿æ¥å‚æ•°</li>
<li><code>hosts.toml</code> æ ¸å¿ƒé…ç½®é¡¹ï¼šä»“åº“æœåŠ¡åœ°å€ï¼ˆserverï¼‰ã€æ“ä½œæƒé™ï¼ˆcapabilitiesï¼‰ã€è®¤è¯ä¿¡æ¯ï¼ˆauthï¼‰ã€è¯ä¹¦éªŒè¯å¼€å…³ï¼ˆskip_verifyï¼‰</li>
</ul>
<h2 data-id="heading-1">äºŒã€åˆ†æ­¥é…ç½®å®æˆ˜</h2>
<h3 data-id="heading-2">1. ç‰ˆæœ¬ç¡®è®¤</h3>
<p>é¦–å…ˆé€šè¿‡ä»¥ä¸‹å‘½ä»¤éªŒè¯ containerd ç‰ˆæœ¬æ˜¯å¦ä¸º 2.x ç³»åˆ—ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">root@k8s-master ~</span>]<span class="hljs-meta"># containerd --version</span>
containerd containerd.io v2<span class="hljs-number">.2</span><span class="hljs-number">.0</span> <span class="hljs-number">1</span>c4457e00facac03ce1d75f7b6777a7a851e5c41
</code></pre>
<h3 data-id="heading-3">2. åˆ›å»ºé…ç½®ç›®å½•</h3>
<p>æ ¹æ® Harbor ä»“åº“åœ°å€åˆ›å»ºå¯¹åº”çš„é…ç½®ç›®å½•ï¼Œç›®å½•åéœ€ä¸ä»“åº“åŸŸåï¼ˆæˆ– IPï¼‰ä¸¥æ ¼åŒ¹é…ï¼ˆç¤ºä¾‹ä¸­ Harbor ä»“åº“åœ°å€ä¸º <a href="https://link.juejin.cn?target=https%3A%2F%2Fharbor.liyb.com" target="_blank" title="https://harbor.liyb.com" ref="nofollow noopener noreferrer">harbor.liyb.com</a>ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">mkdir</span> -p /etc/containerd/certs.d/harbor.liyb.com
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šè‹¥ä»“åº“æœªä½¿ç”¨åŸŸåï¼ˆç›´æ¥é€šè¿‡ IP è®¿é—®ï¼‰ï¼Œå¯ç›´æ¥ä»¥ IP åœ°å€ä½œä¸ºç›®å½•åï¼ˆå¦‚ <code>/etc/containerd/certs.d/192.168.1.100</code>ï¼‰</p>
</blockquote>
<h3 data-id="heading-4">3. ç¼–å†™ hosts.toml é…ç½®æ–‡ä»¶</h3>
<p>åˆ›å»ºå¹¶ç¼–è¾‘ <code>hosts.toml</code> æ–‡ä»¶ï¼Œé…ç½®ä»“åº“è¿æ¥å‚æ•°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">vi /etc/containerd/certs.d/harbor.liyb.com/hosts.toml
</code></pre>
<p>æ·»åŠ å¦‚ä¸‹é…ç½®å†…å®¹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">server</span> = <span class="hljs-string">"https://harbor.liyb.com"</span>

<span class="hljs-section">[host."https://harbor.liyb.com"]</span>
<span class="hljs-attr">capabilities</span> = [<span class="hljs-string">"pull"</span>, <span class="hljs-string">"resolve"</span>, <span class="hljs-string">"push"</span>]  <span class="hljs-comment"># æ”¯æŒçš„æ“ä½œï¼šæ‹‰å–ã€è§£æã€æ¨é€</span>
<span class="hljs-attr">skip_verify</span> = <span class="hljs-literal">true</span>  <span class="hljs-comment"># è‡ªç­¾åè¯ä¹¦æ—¶å¯ç”¨ï¼ˆè·³è¿‡è¯ä¹¦éªŒè¯ï¼‰</span>
<span class="hljs-section">[host."https://harbor.liyb.com".auth]</span>
<span class="hljs-attr">username</span> = <span class="hljs-string">"admin"</span>  <span class="hljs-comment"># Harbor ç™»å½•ç”¨æˆ·å</span>
<span class="hljs-attr">password</span> = <span class="hljs-string">"Harbor12345"</span>  <span class="hljs-comment"># Harbor ç™»å½•å¯†ç </span>
</code></pre>
<blockquote>
<p>é…ç½®è¯´æ˜ï¼š</p>
<ul>
<li>è‹¥ä½¿ç”¨ä¼ä¸šçº§å¯ä¿¡è¯ä¹¦ï¼Œæ— éœ€è®¾ç½® <code>skip_verify = true</code>ï¼Œåªéœ€å°† CA è¯ä¹¦æ–‡ä»¶æ”¾ç½®åˆ°å¯¹åº”é…ç½®ç›®å½•ï¼ˆå¦‚ <code>/etc/containerd/certs.d/harbor.liyb.com/</code>ï¼‰å³å¯</li>
<li>æƒé™é…ç½®å¯æ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´ï¼Œä¾‹å¦‚ä»…éœ€æ‹‰å–é•œåƒæ—¶å¯æ”¹ä¸º <code>capabilities = ["pull", "resolve"]</code></li>
</ul>
</blockquote>
<h3 data-id="heading-5">4. ç¡®è®¤ä¸»é…ç½®æ–‡ä»¶è·¯å¾„</h3>
<p>æ£€æŸ¥ containerd ä¸»é…ç½®æ–‡ä»¶ <code>/etc/containerd/config.toml</code> ä¸­æ˜¯å¦æ­£ç¡®æŒ‡å®šäº†ä»“åº“é…ç½®è·¯å¾„ï¼Œç¡®ä¿ä»¥ä¸‹é…ç½®é¡¹å­˜åœ¨ä¸”æ— è¯¯ï¼š</p>
<p>toml</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># /etc/containerd/config.toml</span>
<span class="hljs-section">[plugins."io.containerd.grpc.v1.cri".registry]</span>
<span class="hljs-attr">config_path</span> = <span class="hljs-string">"/etc/containerd/certs.d"</span>  <span class="hljs-comment"># ä»“åº“é…ç½®ç›®å½•è·¯å¾„ï¼ˆé»˜è®¤å·²å¯ç”¨ï¼‰</span>
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šcontainerd 2.x é»˜è®¤å¯ç”¨è¯¥é…ç½®ï¼Œä½†ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ—¶åŠ¡å¿…æ‰‹åŠ¨æ ¡éªŒï¼Œé¿å…è·¯å¾„é…ç½®é”™è¯¯å¯¼è‡´é…ç½®å¤±æ•ˆ</p>
</blockquote>
<h2 data-id="heading-6">ä¸‰ã€é…ç½®éªŒè¯æ–¹æ³•</h2>
<h3 data-id="heading-7">1. ä½¿ç”¨ nerdctl éªŒè¯ï¼ˆæ¨èï¼‰</h3>
<p>é€šè¿‡ nerdctl å·¥å…·æ‹‰å– Harbor ä»“åº“é•œåƒï¼ŒéªŒè¯é…ç½®æ˜¯å¦ç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash">nerdctl pull harbor.liyb.com/prod/nginx:1.27
</code></pre>
<p>æˆåŠŸè¾“å‡ºç¤ºä¾‹ï¼š</p>
<p>plaintext</p>
<pre><code class="hljs language-bash" lang="bash">harbor.liyb.com/prod/nginx:1.27: manifest-sha256:114dff0fc8ee3d0200c3a12c60e3e2b79d0920dd953175ecb78a0b157425b25e: <span class="hljs-keyword">done</span>
config-sha256:1e5f3c5b981a9f91ca91cf13ce87c2eedfc7a083f4f279552084dd08fc477512: <span class="hljs-keyword">done</span>
elapsed: 0.1 s
total: 0.0 B (0.0 B/s)
</code></pre>
<h3 data-id="heading-8">2. Kubernetes èŠ‚ç‚¹éªŒè¯</h3>
<p>åœ¨ Kubernetes èŠ‚ç‚¹ä¸Šé€šè¿‡ crictl å·¥å…·æ‹‰å–é•œåƒï¼ˆé€‚ç”¨äº K8s é›†ç¾¤ç¯å¢ƒï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">crictl pull harbor.liyb.com/prod/nginx:1.27
</code></pre>
<blockquote>
<p>å…³é”®æ³¨æ„ç‚¹ï¼šé•œåƒåç§°å¿…é¡»æ˜¾å¼åŒ…å« Harbor ä»“åº“åœ°å€ï¼ˆå®Œæ•´æ ¼å¼ï¼šä»“åº“åœ°å€ / é¡¹ç›®å / é•œåƒåï¼šæ ‡ç­¾ï¼‰ï¼Œå¦åˆ™ä¼šå¯¼è‡´ K8s Pod æ‹‰å–é•œåƒå¤±è´¥</p>
</blockquote>
<h2 data-id="heading-9">å››ã€é«˜é¢‘è¸©å‘ä¸è§£å†³æ–¹æ¡ˆ</h2>






























<table><thead><tr><th align="center">å¸¸è§é—®é¢˜</th><th align="center">æ’æŸ¥æ–¹å‘</th><th align="center">è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td align="center">hosts.toml é…ç½®ä¸ç”Ÿæ•ˆ</td><td align="center">é…ç½®ç›®å½•åä¸ä»“åº“åŸŸå / ç«¯å£ä¸ä¸€è‡´</td><td align="center">ç¡®ä¿ç›®å½•åä¸é•œåƒä¸­ä½¿ç”¨çš„ registry åœ°å€å®Œå…¨åŒ¹é…ï¼ˆå«ç«¯å£ï¼Œå¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fharbor.liyb.com%3A8080" target="_blank" title="https://harbor.liyb.com:8080" ref="nofollow noopener noreferrer">harbor.liyb.com:8080</a> éœ€å¯¹åº”åˆ›å»º <a href="https://link.juejin.cn?target=https%3A%2F%2Fharbor.liyb.com%3A8080" target="_blank" title="https://harbor.liyb.com:8080" ref="nofollow noopener noreferrer">harbor.liyb.com:8080</a> ç›®å½•ï¼‰</td></tr><tr><td align="center">HTTP ä»“åº“é•œåƒæ‹‰å–å¤±è´¥</td><td align="center">é…ç½®æ–‡ä»¶ä¸­æœªæŒ‡å®š http åè®®</td><td align="center">å°† server åœ°å€æ”¹ä¸º <code>http://</code> å¼€å¤´ï¼ˆå¦‚ <code>server = "http://harbor.liyb.com:80"</code>ï¼‰</td></tr><tr><td align="center">K8s Pod æ— æ³•æ‹‰å–é•œåƒ</td><td align="center">é•œåƒåç§°æœªåŒ…å«ä»“åº“åœ°å€</td><td align="center">Pod é…ç½®ä¸­ image å­—æ®µéœ€å¡«å†™å®Œæ•´è·¯å¾„ï¼ˆå¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fharbor.liyb.com%2Fprod%2Fnginx%3A1.27" target="_blank" title="https://harbor.liyb.com/prod/nginx:1.27" ref="nofollow noopener noreferrer">harbor.liyb.com/prod/nginx:â€¦</a>ï¼‰ï¼Œä¸å¯çœç•¥ä»“åº“åœ°å€</td></tr><tr><td align="center">é…ç½®åä»æ— æ³•è¿æ¥ä»“åº“</td><td align="center">è¯¯æ²¿ç”¨ Docker çš„ daemon.json é…ç½®</td><td align="center">containerd 2.x ä¸è¯»å– Docker çš„ daemon.json é…ç½®ï¼Œéœ€æŒ‰æœ¬æ–‡æ–¹æ³•åœ¨ certs.d ç›®å½•ä¸‹é…ç½®</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[promise-logic --v2.6.1æ›´æ–°å†…å®¹]]></title>    <link>https://juejin.cn/post/7599798118460932105</link>    <guid>https://juejin.cn/post/7599798118460932105</guid>    <pubDate>2026-01-27T08:54:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7599798118460932105" data-draft-id="7599847938537783305" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="promise-logic --v2.6.1æ›´æ–°å†…å®¹"/> <meta itemprop="keywords" content="JavaScript,NPM"/> <meta itemprop="datePublished" content="2026-01-27T08:54:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xier123456"/> <meta itemprop="url" content="https://juejin.cn/user/546930955651113"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            promise-logic --v2.6.1æ›´æ–°å†…å®¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/546930955651113/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xier123456
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-27T08:54:49.000Z" title="Tue Jan 27 2026 08:54:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å®‰è£…ï¼š<code>npm i promise-logic</code></p>
<h2 data-id="heading-0">ä¸€ã€ä¸»è¦é—®é¢˜</h2>
<p>åœ¨æœ¬æ¬¡é¡¹ç›®ç»´æŠ¤ä¸­ï¼Œæˆ‘ä»¬é‡åˆ°å¹¶è§£å†³äº†ä»¥ä¸‹é—®é¢˜ï¼š</p>
<h3 data-id="heading-1">1. <code>maxTimer</code> é“¾å¼è¶…æ—¶æ§åˆ¶</h3>
<p><strong>éš¾ç‚¹åˆ†æ</strong>ï¼š</p>
<ul>
<li>éœ€è¦ä¸ºæ‰€æœ‰ Promise æ“ä½œæ·»åŠ è¶…æ—¶æ§åˆ¶</li>
<li>éœ€è¦ä¿æŒå‘åå…¼å®¹æ€§ï¼Œä¸å½±å“ç°æœ‰ä»£ç </li>
<li>éœ€è¦ç¡®ä¿è¶…æ—¶åŠŸèƒ½èƒ½å¤Ÿæ­£ç¡®å¤„ç†å„ç§å¼‚æ­¥åœºæ™¯</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å®ç° <code>PromiseWithTimer</code> åŒ…è£…ç±»ï¼Œä¸º Promise æ·»åŠ  <code>maxTimer</code> æ–¹æ³•</li>
<li>ä½¿ç”¨ <code>Promise.race</code> å®ç°è¶…æ—¶é€»è¾‘ï¼Œåœ¨æŒ‡å®šæ—¶é—´åè¿”å›è¶…æ—¶é”™è¯¯</li>
<li>ä¿®æ”¹æ‰€æœ‰é€»è¾‘é—¨æ–¹æ³•ï¼Œä½¿å…¶è¿”å› <code>PromiseWithTimer</code> å®ä¾‹</li>
</ul>
<p><strong>æ ¸å¿ƒä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PromiseWithTimer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">promise</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">promise</span> = promise;
  }

  <span class="hljs-comment">//  maxTimer æ–¹æ³•</span>
  <span class="hljs-title function_">maxTimer</span>(<span class="hljs-params">ms</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">promise</span>,
      <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">_, reject</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Promise timed out after <span class="hljs-subst">${ms}</span>ms`</span>));
        }, ms)

        <span class="hljs-keyword">return</span><span class="hljs-function">()=&gt;</span>{
          <span class="hljs-built_in">clearTimeout</span>(timer)
        }
      })
    ]);
  }

  <span class="hljs-comment">//  then æ–¹æ³•</span>
  <span class="hljs-title function_">then</span>(<span class="hljs-params">onfulfilled, onrejected</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PromiseWithTimer</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">promise</span>.<span class="hljs-title function_">then</span>(onfulfilled, onrejected));
  }

<span class="hljs-comment">//...</span>

</code></pre>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromiseLogic</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'promise-logic'</span>;

<span class="hljs-comment">// æ‰§è¡Œå¸¦è¶…æ—¶çš„æ“ä½œ</span>
<span class="hljs-title class_">PromiseLogic</span>.<span class="hljs-title function_">and</span>([
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>),
  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">1000</span>)), <span class="hljs-comment">// 1ç§’æ“ä½œ</span>
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">3</span>)
])
.<span class="hljs-title function_">maxTimer</span>(<span class="hljs-number">2000</span>) <span class="hljs-comment">// 2ç§’è¶…æ—¶</span>
.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ“ä½œåœ¨è¶…æ—¶æ—¶é—´å†…å®Œæˆ:'</span>, result);
})
.<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ“ä½œè¶…æ—¶æˆ–å¤±è´¥:'</span>, error.<span class="hljs-property">message</span>);
});
</code></pre>
<h3 data-id="heading-2">2. majority æ–¹æ³•çš„è‡ªå®šä¹‰</h3>
<p><strong>éš¾ç‚¹åˆ†æ</strong>ï¼š</p>
<ul>
<li>éœ€è¦ä¸º <code>majority</code> æ–¹æ³•æ·»åŠ è‡ªå®šä¹‰é˜ˆå€¼</li>
<li>éœ€è¦ç¡®ä¿é»˜è®¤è¡Œä¸ºä¸ä¹‹å‰ä¿æŒä¸€è‡´</li>
<li>éœ€è¦å¤„ç†ä¸åŒåœºæ™¯ä¸‹çš„é˜ˆå€¼è®¡ç®—</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>ä¸º <code>majority</code> æ–¹æ³•æ·»åŠ  <code>options</code> å‚æ•°ï¼Œå…¶ä¸­ <code>max</code> å±æ€§å¯è‡ªå®šä¹‰é˜ˆå€¼</li>
<li>è®¾ç½®é»˜è®¤å€¼ä¸º 0.5ï¼Œç¡®ä¿å‘åå…¼å®¹æ€§</li>
<li>ä½¿ç”¨åŠ¨æ€è®¡ç®— <code>fulfilledCount &gt; total - fulfilledCount</code> å®ç°å¤šæ•°é€»è¾‘</li>
</ul>
<p><strong>æ ¸å¿ƒä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">  <span class="hljs-keyword">static</span> <span class="hljs-title function_">majority</span>(<span class="hljs-params">iterable, options = { max: <span class="hljs-number">0.5</span> }</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PromiseWithTimer</span>(<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">allSettled</span>(iterable).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">results</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> fulfilled = results.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> result.<span class="hljs-property">status</span> === <span class="hljs-string">'fulfilled'</span>);
      <span class="hljs-keyword">const</span> fulfilledCount = fulfilled.<span class="hljs-property">length</span>;
      <span class="hljs-keyword">const</span> total = results.<span class="hljs-property">length</span>;
      
      <span class="hljs-comment">//å¤šæ•°é€»è¾‘ï¼šæˆåŠŸæ•° &gt; å¤±è´¥æ•°</span>
      <span class="hljs-keyword">if</span> (fulfilledCount &gt; total * options.<span class="hljs-property">max</span>) {
        <span class="hljs-comment">// è¶…è¿‡åŠæ•°æˆåŠŸï¼Œè¿”å›æˆåŠŸçš„å€¼æ•°ç»„</span>
        <span class="hljs-keyword">return</span> fulfilled.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> result.<span class="hljs-property">value</span>);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// æœªè¾¾åˆ°å¤šæ•°ï¼ŒæŠ›å‡ºMAJORITY_ERROR</span>
        <span class="hljs-keyword">throw</span> <span class="hljs-title function_">createLogicError</span>(<span class="hljs-string">'MAJORITY_ERROR'</span>, fulfilledCount, total, results);
      }
    }));
  }
</code></pre>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">PromiseLogic</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'promise-logic'</span>;

<span class="hljs-keyword">const</span> services = [
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">'service1'</span>),
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">'service2'</span>),
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">'service3'</span>),
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">'service4'</span>)
];

<span class="hljs-comment">// é»˜è®¤é˜ˆå€¼ï¼ˆ0.5ï¼‰ï¼šéœ€è¦è‡³å°‘3ä¸ªæˆåŠŸ</span>
<span class="hljs-comment">// è‡ªå®šä¹‰é˜ˆå€¼ï¼ˆ0.4ï¼‰ï¼šéœ€è¦è‡³å°‘2ä¸ªæˆåŠŸ</span>
<span class="hljs-title class_">PromiseLogic</span>.<span class="hljs-title function_">majority</span>(services, { <span class="hljs-attr">max</span>: <span class="hljs-number">0.4</span> })
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">results</span> =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¾¾åˆ°è‡ªå®šä¹‰é˜ˆå€¼ï¼ŒæˆåŠŸç»“æœ:'</span>, results); <span class="hljs-comment">// ['service1', 'service2']</span>
  })
  .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æœªè¾¾åˆ°è‡ªå®šä¹‰é˜ˆå€¼:'</span>, error);
  });
</code></pre>
<h2 data-id="heading-3">äºŒã€é¡¹ç›®æ›´æ–°å†…å®¹</h2>
<p>æœ¬æ¬¡æ›´æ–°ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p>
<ol>
<li>
<p><strong>æ·»åŠ è¶…æ—¶æ§åˆ¶åŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>å®ç° <code>PromiseWithTimer</code> ç±»</li>
<li>æ·»åŠ  <code>maxTimer</code> æ–¹æ³•ï¼Œæ”¯æŒä¸ºä»»ä½• Promise æ“ä½œè®¾ç½®è¶…æ—¶æ—¶é—´</li>
</ul>
</li>
<li>
<p><strong>æ·»åŠ æ‰©å±•æ“ä½œ</strong>ï¼š</p>
<ul>
<li>æ·»åŠ  <code>allFulfilled</code> æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰æˆåŠŸç»“æœ</li>
<li>æ·»åŠ  <code>allRejected</code> æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰å¤±è´¥ç»“æœ</li>
<li>æ·»åŠ  <code>allSettled</code> æ–¹æ³•ï¼Œè¿”å›æ‰€æœ‰ç»“æœï¼ˆåŒ…æ‹¬æˆåŠŸå’Œå¤±è´¥ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å¢å¼ºç°æœ‰åŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>ä¸º <code>majority</code> æ–¹æ³•æ·»åŠ  <code>options</code> å‚æ•°ï¼Œæ”¯æŒè‡ªå®šä¹‰é˜ˆå€¼</li>
<li>ä¿®å¤å‡½æ•°å·¥å‚å­˜åœ¨çš„ bug</li>
</ul>
</li>
</ol>
<h2 data-id="heading-4">ä¸‰ã€ç‰ˆæœ¬æ›´æ–°è¯´æ˜</h2>
<p>æœ¬æ¬¡æ›´æ–°ç‰ˆæœ¬å·ä¸º <code>v2.6.1</code>ï¼Œæ›´æ–°è¯´æ˜å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>è‹±æ–‡</strong>ï¼š<code>v2.6.1_Add timeout control and extended operations, enhance majority method with customizable threshold, fix bugs in function factory, fix test file path reference errors</code></li>
<li><strong>ä¸­æ–‡</strong>ï¼š<code>v2.6.1_æ·»åŠ è¶…æ—¶æ§åˆ¶å’Œæ‰©å±•æ“ä½œï¼Œå¢å¼º majority æ–¹æ³•æ”¯æŒè‡ªå®šä¹‰é˜ˆå€¼ï¼Œæ›´æ–°äº†å‡½æ•°å·¥å‚å­˜åœ¨çš„bugï¼Œæ›´æ–°æµ‹è¯•æ–‡ä»¶è·¯å¾„å¼•ç”¨é”™è¯¯é—®é¢˜</code></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>