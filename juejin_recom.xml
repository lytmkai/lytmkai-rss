<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[è°·æ­Œæ€æ¡Œå­ï¼šGemini Deep Research è®©æ·±åº¦æ€è€ƒè¿›å…¥ç™½èœä»·æ—¶ä»£]]></title>    <link>https://juejin.cn/post/7583234966635298850</link>    <guid>https://juejin.cn/post/7583234966635298850</guid>    <pubDate>2025-12-14T15:14:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583234966635298850" data-draft-id="7583234966635282466" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è°·æ­Œæ€æ¡Œå­ï¼šGemini Deep Research è®©æ·±åº¦æ€è€ƒè¿›å…¥ç™½èœä»·æ—¶ä»£"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-14T15:14:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è°·æ­Œæ€æ¡Œå­ï¼šGemini Deep Research è®©æ·±åº¦æ€è€ƒè¿›å…¥ç™½èœä»·æ—¶ä»£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T15:14:27.000Z" title="Sun Dec 14 2025 15:14:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½ æœ‰æ²¡æœ‰è¿™ç§æ„Ÿè§‰ï¼šç°åœ¨çš„ AI èŠå¤©æœºå™¨äººï¼Œåƒæäº†ä¸€ä¸ªæ€¥äºè¡¨ç°çš„æŠ¢ç­”é€‰æ‰‹ã€‚ä½ åˆšæŠŠé—®é¢˜æŠ›å‡ºå»ï¼Œè¿˜æ²¡ç­‰æ°”å£å–˜åŒ€ï¼Œå®ƒå°±æ€¥å¼å¼åœ°æ‰”å›æ¥ä¸€æ®µçœ‹ä¼¼é€šé¡ºå®åˆ™ç»ä¸èµ·æ¨æ•²çš„ç­”æ¡ˆã€‚</p>
<p>è¿™å°±æ˜¯ä¼ ç»Ÿ RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰çš„é€šç—…â€”â€”çº¿æ€§çš„ã€ä¸€æ¬¡æ€§çš„ã€æµ…å°è¾„æ­¢çš„ã€‚</p>
<p>ä½†è°·æ­Œåˆšåˆšå‘å¸ƒçš„ Gemini Deep Research Agentï¼Œä¼¼ä¹æ‰“ç®—ç»ˆç»“è¿™ä¸ªâ€œæŠ¢ç­”æ—¶ä»£â€ã€‚è¿™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ–°æ¨¡å‹ï¼Œæ›´åƒæ˜¯è°·æ­Œåœ¨ AI å·¥ä¸šåŒ–è¿›ç¨‹ä¸­æŠ•ä¸‹çš„ä¸€æšæ·±æ°´ç‚¸å¼¹ã€‚åŸºäº Gemini 3 Pro æ„å»ºï¼Œè¿™ä¸ªæ™ºèƒ½ä½“ä¸åªæ˜¯åœ¨å›ç­”é—®é¢˜ï¼Œå®ƒåœ¨çœŸæ­£åœ°â€œåšç ”ç©¶â€ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œè°·æ­Œè¿™æ¬¡ç›´æ¥æŠŠçŸ›å¤´å¯¹å‡†äº†æˆæœ¬ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fasfdsvg-1024x950.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/asfdsvg-1024x950.webp" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5637d5ebb8840a0a969163017a87834~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766330066&amp;x-signature=C3wwXBbl3Xg1xpc19APtcivPsJ8%3D" alt="asfdsvg" loading="lazy"/></a></p>
<p><strong>æ…¢æ€è€ƒçš„èƒœåˆ©ï¼šåƒäººç±»ä¸€æ ·åšè°ƒç ”</strong></p>
<p>å¦‚æœä¸è°ˆæŠ€æœ¯åè¯ï¼ŒGemini Deep Research æœ€å¤§çš„çªç ´åœ¨äºå®ƒæ¨¡æ‹Ÿäº†äººç±»ç ”ç©¶å‘˜çš„å·¥ä½œæµã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ä½ è®©å®ä¹ ç”Ÿå»è°ƒç ”â€œ2025å¹´åˆæˆç”Ÿç‰©å­¦åœ¨æŠ¤è‚¤å“é¢†åŸŸçš„åº”ç”¨è¶‹åŠ¿â€ã€‚å¦‚æœè¿™åå®ä¹ ç”Ÿåªæ˜¯å»ç™¾åº¦æœä¸€ä¸‹ç„¶åæŠŠå‰ä¸‰æ¡ç»“æœå¤åˆ¶ç»™ä½ ï¼Œä½ è‚¯å®šä¼šå‘ç«ã€‚ä½ æœŸæœ›çš„æ˜¯ï¼šä»–å…ˆæ‹†è§£é—®é¢˜ï¼Œåˆ¶å®šæœç´¢è®¡åˆ’ï¼Œé˜…è¯»åå‡ ç¯‡é•¿ç¯‡æŠ¥å‘Šï¼Œå‘ç°æ•°æ®å†²çªæ—¶å†å»éªŒè¯ï¼Œæœ€åæ•´ç†å‡ºä¸€ä»½å¸¦å¼•ç”¨çš„åˆ†ææŠ¥å‘Šã€‚</p>
<p>Gemini Deep Research åšçš„å°±æ˜¯è¿™ä»¶äº‹ã€‚</p>
<p>å®ƒå¼•å…¥äº†â€œè¿­ä»£å¼ç ”ç©¶è§„åˆ’â€ã€‚æ”¶åˆ°æŒ‡ä»¤åï¼Œå®ƒä¸ä¼šç«‹åˆ»ä½œç­”ï¼Œè€Œæ˜¯å…ˆè§„åˆ’å­ä»»åŠ¡ã€‚å®ƒä¼šè¿›è¡Œå¤šè½®ã€å¤šè·³çš„æ·±åº¦æœç´¢ï¼Œé˜…è¯»é•¿ç¯‡ PDFï¼Œç”šè‡³åœ¨å‘ç°çŸ¥è¯†ç¼ºå£æ—¶è‡ªæˆ‘çº æ­£ã€‚</p>
<p>è¿™ç§â€œæ…¢æ€è€ƒâ€å¸¦æ¥çš„è´¨é‡æå‡æ˜¯è‚‰çœ¼å¯è§çš„ã€‚åœ¨ä¸“é—¨è¡¡é‡æ·±åº¦ç ”ç©¶èƒ½åŠ›çš„ DeepSearchQA åŸºå‡†æµ‹è¯•ä¸­ï¼Œå®ƒæ‹¿ä¸‹äº† 66.1% çš„é«˜åˆ†ã€‚è€Œåœ¨é‚£ä¸ªè‘—åçš„ã€æ—¨åœ¨éš¾å€’ AI çš„â€œHumanityâ€™s Last Exam (HLE)â€æµ‹è¯•é›†ä¸­ï¼Œå®ƒè¾¾åˆ°äº† 46.4%ã€‚ä½œä¸ºå¯¹æ¯”ï¼Œä¸šç•Œå…¬è®¤çš„å¼ºæ‰‹ GPT-5 Pro åœ¨åŒç±»æµ‹è¯•ä¸­çš„è¡¨ç°çº¦ä¸º 38.9%ã€‚</p>
<p><strong>ä¸ä»…ä»…æ˜¯å¼ºï¼Œè€Œæ˜¯ä¾¿å®œå¾—å“äºº</strong></p>
<p>æ€§èƒ½å¼ºæ‚å›ºç„¶é‡è¦ï¼Œä½†çœŸæ­£è®©å¼€å‘è€…å’Œä¼ä¸šä¸»çœ¼çº¢çš„ï¼Œæ˜¯è°·æ­ŒæŠ›å‡ºçš„æˆæœ¬è®ºæ–­ã€‚</p>
<p>æ·±åº¦æ¨ç†é€šå¸¸æ„å‘³ç€æ˜‚è´µçš„ Token æ¶ˆè€—ã€‚æ­¤å‰çš„ o1 æˆ– GPT-5 çº§åˆ«æ¨¡å‹ï¼Œæ¯ä¸€æ¬¡â€œæ·±åº¦æ€è€ƒâ€éƒ½åœ¨ç‡ƒçƒ§é¢„ç®—ã€‚ä½†æ ¹æ®è°·æ­Œäº§å“ç»ç†çš„é€éœ²ï¼ŒGemini Deep Research åœ¨æä¾›ä¸ GPT-5 Pro ç›¸å½“ç”šè‡³æ›´ä¼˜çš„æŠ¥å‘Šè´¨é‡æ—¶ï¼Œæˆæœ¬ä»…ä¸ºåè€…çš„ååˆ†ä¹‹ä¸€å·¦å³ã€‚</p>
<p>è™½ç„¶ç›®å‰å¸‚åœºä¸Šè¿˜æ²¡æœ‰å…¬å¼€çš„ç¬¬ä¸‰æ–¹è´¦å•å¯¹æ¯”æ¥å®é”¤è¿™ä¸ªâ€œ1/10â€ï¼Œä½†å¦‚æœè°·æ­ŒçœŸèƒ½åšåˆ°å°†é«˜ç®—åŠ›ä»»åŠ¡çš„æˆæœ¬å‹ç¼©ä¸€ä¸ªæ•°é‡çº§ï¼Œè¿™å°±æ„å‘³ç€è¿‡å»åªæ•¢ç”¨åœ¨é‡‘èå°½è°ƒã€è¯ç‰©ç ”å‘ç­‰é«˜ä»·å€¼åœºæ™¯çš„â€œAI æ·±åº¦ç ”ç©¶â€ï¼Œç°åœ¨å¯ä»¥ä¸‹æ”¾åˆ°æ™®é€šçš„å†…å®¹åˆ›ä½œã€å¸‚åœºåˆ†æç”šè‡³ä¸ªäººåŠ©ç†åœºæ™¯ä¸­ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fsaffbgfgh-1024x581.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/saffbgfgh-1024x581.webp" ref="nofollow noopener noreferrer"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c2d25627328441f9b5256accb55485d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766330066&amp;x-signature=sfumonBeWlEekdNWvLix5vhIYwQ%3D" alt="saffbgfgh" loading="lazy"/></a></p>
<p>è¿™æ˜¯ä»â€œå¥¢ä¾ˆå“â€åˆ°â€œæ—¥ç”¨å“â€çš„è·¨è¶Šã€‚</p>
<p><strong>å¼€å‘è€…çš„ç¦éŸ³ï¼šInteractions API</strong></p>
<p>å¯¹äºåœ¨åº§çš„ç¨‹åºå‘˜æœ‹å‹æ¥è¯´ï¼Œè¿™æ¬¡å‘å¸ƒè¿˜æœ‰ä¸€ä¸ªæ›´å®é™…çš„åˆ©å¥½ï¼šInteractions APIã€‚</p>
<p>ä»¥å‰è¦æ„å»ºä¸€ä¸ªèƒ½è·‘åå‡ åˆ†é’Ÿã€ä¸­é—´ä¸æ–­è°ƒç”¨æœç´¢å·¥å…·çš„ Agentï¼Œä½ éœ€è¦è‡ªå·±åœ¨å®¢æˆ·ç«¯ç»´æŠ¤ä¸€å †å¤æ‚çš„çŠ¶æ€ï¼Œå¤„ç†å„ç§æ–­è¿å’Œä¸Šä¸‹æ–‡ä¸¢å¤±çš„å™©æ¢¦ã€‚</p>
<p>ç°åœ¨ï¼Œè°·æ­ŒæŠŠè¿™äº›è„æ´»ç´¯æ´»æ½åˆ°äº†æœåŠ¡å™¨ç«¯ã€‚é€šè¿‡æ–°çš„ APIï¼Œæ”¯æŒå¼‚æ­¥åå°æ‰§è¡Œã€‚ä½ æŠŠä»»åŠ¡æ‰”ç»™å®ƒï¼Œå°±å¯ä»¥æ–­å¼€è¿æ¥å»å–å’–å•¡ï¼Œç­‰å®ƒè·‘å®Œé‚£å¤æ‚çš„ 5 åˆ° 15 åˆ†é’Ÿæ€è€ƒè¿‡ç¨‹ï¼Œå†å›æ¥å–ç»“æœã€‚ç”šè‡³ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡æµå¼ä¼ è¾“çœ‹åˆ°å®ƒçš„â€œå†…å¿ƒç‹¬ç™½â€â€”â€”çœ‹ç€å®ƒå¦‚ä½•è§„åˆ’ã€å¦‚ä½•çº ç»“ã€å¦‚ä½•ä¿®æ­£è·¯çº¿ï¼Œè¿™æœ¬èº«å°±æ˜¯ä¸€ç§æå¥½çš„è°ƒè¯•ä½“éªŒã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fsdefsdgfh-763x1024.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/sdefsdgfh-763x1024.webp" ref="nofollow noopener noreferrer"><img src="https://blog.worldcodeing.com/wp-content/uploads/2025/12/sdefsdgfh-763x1024.webp" alt="sdefsdgfh" loading="lazy"/></a></p>
<p><strong>å†™åœ¨æœ€å</strong></p>
<p>Gemini Deep Research çš„å‡ºç°ï¼Œæ ‡å¿—ç€ AI åº”ç”¨æ­£åœ¨ä»â€œå¯¹è¯æ¡†â€èµ°å‘â€œå·¥ä½œå°â€ã€‚</p>
<p>å®ƒä¸å†æ˜¯ä¸€ä¸ªé™ªä½ èŠå¤©çš„ä¼™ä¼´ï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½å¤Ÿç‹¬ç«‹æ‰¿æ‹…é•¿å‘¨æœŸä»»åŠ¡çš„åˆçº§å‘˜å·¥ã€‚è™½ç„¶å®ƒä¾ç„¶ä¼šæœ‰å»¶è¿Ÿï¼Œä¾ç„¶éœ€è¦äººç±»ä¸“å®¶è¿›è¡Œæœ€åçš„æŠŠå…³ï¼ˆHuman-in-the-loopï¼‰ï¼Œä½†å®ƒå·²ç»èƒ½å¤Ÿäº¤å‡ºä¸€ä»½å®Œæˆåº¦ 80% ä¸”å¸¦æœ‰è¯¦å®å¼•ç”¨çš„ç ”ç©¶è‰ç¨¿ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fwasfsdgfg-1024x574.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/wasfsdgfg-1024x574.webp" ref="nofollow noopener noreferrer"><img src="https://blog.worldcodeing.com/wp-content/uploads/2025/12/wasfsdgfg-1024x574.webp" alt="wasfsdgfg" loading="lazy"/></a></p>
<p>åœ¨è¿™ä¸ªæ—¶é—´èŠ‚ç‚¹ï¼Œè°·æ­Œç”¨å¼€æºåŸºå‡†æµ‹è¯• DeepSearchQA å’Œæ¿€è¿›çš„å®šä»·ç­–ç•¥ï¼Œå‘ OpenAI å‘èµ·äº†ä¸€æ¬¡æ¼‚äº®çš„ä¾§ç¿¼åŒ…æŠ„ã€‚å¯¹äºæˆ‘ä»¬ä½¿ç”¨è€…è€Œè¨€ï¼Œç¥ä»™æ‰“æ¶ï¼Œå‡¡äººå—ç›Šï¼Œæ·±åº¦æ€è€ƒç™½èœä»·çš„æ—¶ä»£ï¼Œå¯èƒ½çœŸçš„æ¥äº†ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿˜åœ¨é‡å¤ä¸‹è½½èµ„æºï¼ŸHTTP ç¼“å­˜è®©äºŒæ¬¡è®¿é—® â€œé›¶è¯·æ±‚â€ï¼Œç”¨æˆ·ä½“éªŒç¿»å€]]></title>    <link>https://juejin.cn/post/7583215836690890793</link>    <guid>https://juejin.cn/post/7583215836690890793</guid>    <pubDate>2025-12-14T15:17:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583215836690890793" data-draft-id="7583215836690874409" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿˜åœ¨é‡å¤ä¸‹è½½èµ„æºï¼ŸHTTP ç¼“å­˜è®©äºŒæ¬¡è®¿é—® â€œé›¶è¯·æ±‚â€ï¼Œç”¨æˆ·ä½“éªŒç¿»å€"/> <meta itemprop="keywords" content="å‰ç«¯,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2025-12-14T15:17:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PineappleCoder"/> <meta itemprop="url" content="https://juejin.cn/user/3323167184272627"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿˜åœ¨é‡å¤ä¸‹è½½èµ„æºï¼ŸHTTP ç¼“å­˜è®©äºŒæ¬¡è®¿é—® â€œé›¶è¯·æ±‚â€ï¼Œç”¨æˆ·ä½“éªŒç¿»å€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3323167184272627/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PineappleCoder
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T15:17:21.000Z" title="Sun Dec 14 2025 15:17:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸš€ æ€§èƒ½ä¼˜åŒ–çš„â€œèŠ‚æµå¤§å¸ˆâ€ï¼šHTTP ç¼“å­˜æœºåˆ¶ï¼Œè®©ä½ çš„ç½‘ç«™å¿«åˆ°é£èµ·ï¼</h2>
<blockquote>
<p><strong>å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¸“æ  - ç¬¬äº”ç¯‡</strong></p>
</blockquote>
<p>åœ¨ä¸Šä¸€ç¯‡ä¸­ï¼Œæˆ‘ä»¬å­¦ä¼šäº†å¦‚ä½•åˆ©ç”¨<strong>èµ„æºæç¤ºç¬¦</strong>ï¼ˆResource Hintsï¼‰è®©æµè§ˆå™¨â€œæœªåœå…ˆçŸ¥â€ï¼Œæå‰å‡†å¤‡èµ„æºã€‚ä½†å¦‚æœç”¨æˆ·å·²ç»è®¿é—®è¿‡æˆ‘ä»¬çš„ç½‘ç«™ï¼Œæˆ‘ä»¬è¿˜èƒ½ä¸èƒ½æ›´å¿«ï¼Ÿå½“ç„¶å¯ä»¥ï¼</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬è¦èŠçš„æ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„ç»ˆæâ€œèŠ‚æµå¤§å¸ˆâ€â€”â€”<strong>HTTP ç¼“å­˜æœºåˆ¶</strong>ã€‚å®ƒçš„æ ¸å¿ƒç›®æ ‡æ˜¯<strong>å¤ç”¨èµ„æºã€å‡å°‘å»¶è¿Ÿã€èŠ‚çœå¸¦å®½</strong>ï¼Œè®©ç”¨æˆ·åœ¨äºŒæ¬¡è®¿é—®æ—¶ï¼Œå‡ ä¹å¯ä»¥ç¬é—´æ‰“å¼€é¡µé¢ã€‚</p>
<hr/>
<h3 data-id="heading-1">âš ï¸ ç¼“å­˜æœºåˆ¶çš„è¿è¡ŒåŸç†</h3>
<p>HTTP ç¼“å­˜å°±åƒæ˜¯æµè§ˆå™¨ç»™è‡ªå·±å‡†å¤‡çš„ä¸€ä¸ªâ€œç™¾å®ç®±â€ã€‚æµè§ˆå™¨åœ¨è¯·æ±‚èµ„æºå‰ï¼Œä¼šå…ˆæ£€æŸ¥è¿™ä¸ªç™¾å®ç®±ã€‚</p>
<p>æ•´ä¸ªç¼“å­˜æœºåˆ¶ç”±ä¸€ç³»åˆ— HTTP å¤´å­—æ®µï¼ˆå¦‚ <code>Cache-Control</code>ã€<code>Expires</code>ã€<code>ETag</code>ã€<code>Last-Modified</code>ï¼‰å…±åŒå†³å®šï¼Œå¹¶å¯åˆ†ä¸º<strong>å¼ºç¼“å­˜</strong>ä¸<strong>åå•†ç¼“å­˜</strong>ä¸¤å¤§ç±»ã€‚</p>
<ul>
<li>
<p><strong>é¦–æ¬¡è¯·æ±‚ï¼š</strong> æœåŠ¡å™¨æä¾›èµ„æºåŠç¼“å­˜ç­–ç•¥ã€‚</p>
</li>
<li>
<p><strong>å†æ¬¡è®¿é—®ï¼š</strong> æµè§ˆå™¨ä¾æ®ç­–ç•¥å†³å®šæ˜¯å¦ä½¿ç”¨ç¼“å­˜ã€‚</p>
<ul>
<li><strong>å‘½ä¸­å¼ºç¼“å­˜</strong> â†’ æ— éœ€è¯·æ±‚æœåŠ¡å™¨ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°èµ„æºã€‚</li>
<li><strong>å‘½ä¸­åå•†ç¼“å­˜</strong> â†’ å‘æœåŠ¡å™¨å‘é€éªŒè¯è¯·æ±‚ï¼Œç¡®è®¤èµ„æºæ˜¯å¦å¯ç”¨ã€‚</li>
</ul>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5075b06a1b2a4a3c84989365a7244240~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGluZWFwcGxlQ29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766330241&amp;x-signature=qVA7yzJYuiD7PHrouX11bChNQVQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">âœ¨ å¼ºç¼“å­˜æœºåˆ¶ï¼šæœ€å¿«çš„â€œç§’å¼€â€ä½“éªŒ</h3>
<p><strong>å¼ºç¼“å­˜</strong>æ˜¯æ€§èƒ½ä¼˜åŒ–çš„æœ€é«˜å¢ƒç•Œã€‚å½“ç¼“å­˜æœªè¿‡æœŸæ—¶ï¼Œæµè§ˆå™¨<strong>ç›´æ¥ä½¿ç”¨æœ¬åœ°èµ„æº</strong>ï¼Œ<strong>æ— éœ€å‘é€ä»»ä½•ç½‘ç»œè¯·æ±‚</strong>ã€‚</p>
<h4 data-id="heading-3">æ ¸å¿ƒå­—æ®µï¼šCache-Control ä¸ Expires</h4>
<p>å¼ºç¼“å­˜ä¸»è¦ä¾èµ–ä¸¤ä¸ª HTTP å¤´éƒ¨å­—æ®µï¼š<code>Cache-Control</code>ï¼ˆHTTP/1.1 è§„èŒƒï¼‰å’Œ <code>Expires</code>ï¼ˆHTTP/1.0 è§„èŒƒï¼‰ã€‚</p>
<p><strong>ä¼˜å…ˆçº§ï¼š</strong> <code>Cache-Control</code> <strong>&gt;</strong> <code>Expires</code></p>
<h5 data-id="heading-4">Cache-Control æŒ‡ä»¤ï¼šç°ä»£ç¼“å­˜çš„â€œæŒ‡æŒ¥å®˜â€</h5>
<p><code>Cache-Control</code> æä¾›äº†æ›´çµæ´»ã€æ›´å¼ºå¤§çš„ç¼“å­˜æ§åˆ¶èƒ½åŠ›ï¼š</p>








































<table><thead><tr><th>æŒ‡ä»¤</th><th>å«ä¹‰</th><th>åœºæ™¯</th></tr></thead><tbody><tr><td><code>max-age=31536000</code></td><td>ç¼“å­˜æœ‰æ•ˆæœŸï¼ˆç§’ï¼‰ï¼Œä¾‹å¦‚ç¼“å­˜ä¸€å¹´</td><td>é™æ€èµ„æº</td></tr><tr><td><code>public</code></td><td>å…è®¸ä»£ç†æœåŠ¡å™¨å’Œæµè§ˆå™¨ç¼“å­˜</td><td>æ‰€æœ‰äººå¯è§çš„èµ„æº</td></tr><tr><td><code>private</code></td><td>ä»…å…è®¸ç”¨æˆ·æµè§ˆå™¨ç¼“å­˜</td><td>åŒ…å«ç”¨æˆ·ä¿¡æ¯çš„èµ„æº</td></tr><tr><td><code>no-cache</code></td><td><strong>ä¸ä½¿ç”¨å¼ºç¼“å­˜</strong>ï¼Œè¿›å…¥åå•†ç¼“å­˜é˜¶æ®µ</td><td>ä¸»å…¥å£æ–‡ä»¶ï¼ˆå¦‚ <code>index.html</code>ï¼‰</td></tr><tr><td><code>no-store</code></td><td><strong>å®Œå…¨ç¦ç”¨ç¼“å­˜</strong>ï¼Œæ¯æ¬¡éƒ½ä»æœåŠ¡å™¨è·å–</td><td>æ•æ„Ÿæˆ–åŠ¨æ€æ•°æ®</td></tr><tr><td><code>immutable</code></td><td>èµ„æºæ°¸ä¹…ä¸å˜ï¼Œæµè§ˆå™¨æ— éœ€é‡æ–°éªŒè¯</td><td>å¸¦ç‰ˆæœ¬å·çš„é™æ€èµ„æº</td></tr></tbody></table>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æœ€ä½³å®è·µï¼šç‰ˆæœ¬åŒ–é™æ€èµ„æº</span>
Cache-Controlï¼š<span class="hljs-keyword">public</span>, max-age=<span class="hljs-number">31536000</span>, immutable
</code></pre>
<p>âœ… <strong>åº”ç”¨åœºæ™¯ï¼š</strong> å¸¦æœ‰ç‰ˆæœ¬å·çš„é™æ€èµ„æºï¼ˆå¦‚ <code>app.v1.js</code>ã€<code>logo.v2.png</code>ï¼‰ï¼Œä¸€æ—¦æ–‡ä»¶å†…å®¹æ”¹å˜ï¼Œç‰ˆæœ¬å·ä¹Ÿä¼šå˜ï¼Œä»è€Œç»•è¿‡å¼ºç¼“å­˜ã€‚</p>
<h5 data-id="heading-5">Expires å¤´éƒ¨å­—æ®µï¼šè¿‡æ—¶çš„â€œæ—¥å†â€</h5>
<ul>
<li><strong>æ ¼å¼ï¼š</strong> <code>Expires: Tue, 09 Nov 2024 21:09:28 GMT</code></li>
<li><strong>é—®é¢˜ï¼š</strong> æŒ‡å®š<strong>ç»å¯¹è¿‡æœŸæ—¶é—´</strong>ï¼Œä½†å®ƒä¾èµ–äºå®¢æˆ·ç«¯æœ¬åœ°æ—¶é—´ã€‚å¦‚æœç”¨æˆ·ä¿®æ”¹äº†æœ¬åœ°æ—¶é—´ï¼Œå°±å¯èƒ½å‡ºç°<strong>æ—¶é’Ÿè¯¯å·®</strong>ï¼Œå¯¼è‡´ç¼“å­˜å¤±æ•ˆæˆ–è¯¯ç”¨ã€‚</li>
</ul>
<p>âš ï¸ <strong>æ³¨æ„ï¼š</strong> åœ¨ç°ä»£ Web ä¸­ï¼Œ<code>Expires</code> å·²è¢« <code>Cache-Control</code> æ›¿ä»£ã€‚å½“ä¸¤è€…åŒæ—¶å­˜åœ¨æ—¶ï¼Œ<code>Cache-Control</code> ä¼˜å…ˆçº§æ›´é«˜ã€‚</p>
<h3 data-id="heading-6">ğŸ”„ åå•†ç¼“å­˜æœºåˆ¶ï¼šè°¨æ…çš„â€œéªŒè¯å®˜â€</h3>
<p>å½“å¼ºç¼“å­˜å¤±æ•ˆï¼ˆè¿‡æœŸï¼‰æˆ–è¢«ç¦ç”¨ï¼ˆ<code>Cache-Control: no-cache</code>ï¼‰åï¼Œæµè§ˆå™¨ä¼šè¿›å…¥<strong>åå•†ç¼“å­˜</strong>é˜¶æ®µã€‚</p>
<p>æ­¤æ—¶ï¼Œæµè§ˆå™¨ä¼š<strong>å‘æœåŠ¡å™¨å‘é€éªŒè¯è¯·æ±‚</strong>ï¼ŒæœåŠ¡å™¨æ ¹æ®èµ„æºçŠ¶æ€å†³å®šæ˜¯è¿”å›ç¼“å­˜è¿˜æ˜¯æ–°å†…å®¹ï¼š</p>
<ul>
<li><strong>304 Not Modified</strong> â†’ èµ„æºæœªä¿®æ”¹ï¼Œæµè§ˆå™¨ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚</li>
<li><strong>200 OK</strong> â†’ èµ„æºå·²ä¿®æ”¹ï¼ŒæœåŠ¡å™¨è¿”å›æ–°å†…å®¹ã€‚</li>
</ul>
<h4 data-id="heading-7">Last-Modified / If-Modified-Sinceï¼šåŸºäºæ—¶é—´çš„éªŒè¯</h4>
<p>è¿™æ˜¯æœ€åŸå§‹çš„åå•†ç¼“å­˜æ–¹å¼ï¼š</p>
<ol>
<li><strong>æœåŠ¡å™¨å“åº”ï¼š</strong> é™„å¸¦èµ„æºæœ€åä¿®æ”¹æ—¶é—´ï¼š<code>Last-Modified: Mon, 10 Nov 2025 12:00:00 GMT</code></li>
<li><strong>æµè§ˆå™¨è¯·æ±‚ï¼š</strong> å†æ¬¡è¯·æ±‚æ—¶ï¼Œæºå¸¦ï¼š<code>If-Modified-Since: Mon, 10 Nov 2025 12:00:00 GMT</code></li>
<li><strong>æœåŠ¡å™¨æ¯”è¾ƒï¼š</strong> å¦‚æœèµ„æºæœªä¿®æ”¹ï¼Œè¿”å› <code>304 Not Modified</code>ã€‚</li>
</ol>
<p>âš ï¸ <strong>ç¼ºç‚¹ï¼š</strong> åªèƒ½ç²¾ç¡®åˆ°ç§’ã€‚å¦‚æœåœ¨ 1 ç§’å†…èµ„æºè¢«ä¿®æ”¹äº†å¤šæ¬¡ï¼Œæˆ–è€…æœåŠ¡å™¨æ—¶é—´ä¸æ–‡ä»¶ç³»ç»Ÿæ—¶é—´ä¸ä¸€è‡´ï¼Œå¯èƒ½å¯¼è‡´<strong>è¯¯åˆ¤</strong>ã€‚</p>
<h4 data-id="heading-8">ETag / If-None-Matchï¼šåŸºäºæŒ‡çº¹çš„éªŒè¯</h4>
<p><code>ETag</code>ï¼ˆEntity Tagï¼‰æ˜¯èµ„æºçš„<strong>å”¯ä¸€æŒ‡çº¹</strong>æˆ–<strong>å†…å®¹çš„å“ˆå¸Œå€¼</strong>ï¼Œæ˜¯æ›´ç²¾ç¡®çš„éªŒè¯æ–¹å¼ï¼š</p>
<ol>
<li><strong>æœåŠ¡å™¨å“åº”ï¼š</strong> é™„å¸¦èµ„æºæŒ‡çº¹ï¼š<code>ETag: "filehash123"</code></li>
<li><strong>æµè§ˆå™¨è¯·æ±‚ï¼š</strong> å†æ¬¡è¯·æ±‚æ—¶ï¼Œæºå¸¦ï¼š<code>If-None-Match: "filehash123"</code></li>
<li><strong>æœåŠ¡å™¨æ¯”è¾ƒï¼š</strong> æ¯”è¾ƒå“ˆå¸Œå€¼ï¼Œå¦‚æœä¸€è‡´ï¼Œè¿”å› <code>304 Not Modified</code>ã€‚</li>
</ol>
<p>âœ… <strong>ä¼˜ç‚¹ï¼š</strong> <strong>ç²¾åº¦æ›´é«˜</strong>ï¼Œè§£å†³äº† <code>Last-Modified</code> çš„æ—¶é—´è¯¯å·®é—®é¢˜ã€‚ <strong>ä¼˜å…ˆçº§ï¼š</strong> <code>ETag</code> <strong>é«˜äº</strong> <code>Last-Modified</code>ã€‚</p>
<h3 data-id="heading-9">ğŸ”§ Service Workerï¼šå¯ç¼–ç¨‹çš„ç¼“å­˜ç­–ç•¥</h3>
<p>HTTP ç¼“å­˜æ˜¯<strong>è¢«åŠ¨</strong>çš„ï¼Œå®ƒä¾èµ–äºæœåŠ¡å™¨çš„ HTTP å¤´éƒ¨é…ç½®ã€‚è€Œ <strong>Service Worker</strong> åˆ™æä¾›äº†ä¸€ç§<strong>ä¸»åŠ¨ã€å¯ç¼–ç¨‹</strong>çš„ç¼“å­˜æ–¹æ¡ˆã€‚</p>
<p>Service Worker æ˜¯ä¸€ä¸ªç‹¬ç«‹äºç½‘é¡µè¿è¡Œçš„åå°è„šæœ¬ï¼Œå®ƒå¯ä»¥<strong>æ‹¦æˆªç½‘ç»œè¯·æ±‚</strong>ï¼Œå¹¶ç»“åˆ Cache API å®ç°å®Œå…¨è‡ªå®šä¹‰çš„ç¼“å­˜é€»è¾‘ï¼Œä»è€Œå®ç°<strong>ç¦»çº¿è®¿é—®</strong>ä¸<strong>åŠ¨æ€ç¼“å­˜æ›´æ–°</strong>ã€‚</p>
<p>Service Worker å¸¸è§çš„ç¼“å­˜ç­–ç•¥ï¼š</p>





























<table><thead><tr><th>ç­–ç•¥åç§°</th><th>æ ¸å¿ƒé€»è¾‘</th><th>ä¼˜åŠ¿</th><th>å…¸å‹é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Network First</strong></td><td>å…ˆè¯·æ±‚ç½‘ç»œ â†’ ç½‘ç»œå¤±è´¥åˆ™ç”¨ç¼“å­˜</td><td>ä¼˜å…ˆè·å–æœ€æ–°å†…å®¹ï¼Œç¦»çº¿æœ‰å…œåº•</td><td>æ–°é—»åˆ—è¡¨ã€åŠ¨æ€æ•°æ®ï¼ˆéœ€æœ€æ–°ï¼‰</td></tr><tr><td><strong>Cache First</strong></td><td>å…ˆè¯»ç¼“å­˜ â†’ ç¼“å­˜æ— åˆ™è¯·æ±‚ç½‘ç»œå¹¶æ›´æ–°ç¼“å­˜</td><td>åŠ è½½é€Ÿåº¦å¿«ï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚</td><td>é™æ€èµ„æºï¼ˆå›¾ç‰‡ã€CSSã€JSï¼‰</td></tr><tr><td><strong>Stale-While-Revalidate</strong></td><td>å…ˆè¿”å›ç¼“å­˜æ—§èµ„æº â†’ åå°è¯·æ±‚æ›´æ–°ç¼“å­˜</td><td>é€Ÿåº¦å¿«ï¼Œå…¼é¡¾èµ„æºæ–°é²œåº¦</td><td>ç”¨æˆ·å¤´åƒã€éæ ¸å¿ƒé™æ€èµ„æº</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0088b1c5b814781a09c486523a16d80~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUGluZWFwcGxlQ29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766330241&amp;x-signature=i1cloB53ea2O7wgsl%2Bs0nT30PDA%3D" alt="Service Worker ç¤ºæ„å›¾" loading="lazy"/></p>
<h3 data-id="heading-10">âœ… æœ€ä½³å®è·µï¼šç¼“å­˜ç­–ç•¥çš„â€œç»„åˆæ‹³â€</h3>
<p>åˆç†çš„ç¼“å­˜ç­–ç•¥æ˜¯æ€§èƒ½ä¼˜åŒ–çš„åŸºçŸ³ï¼Œæˆ‘ä»¬åº”è¯¥æ ¹æ®èµ„æºçš„ç‰¹æ€§ï¼Œæ‰“å‡ºâ€œç»„åˆæ‹³â€ï¼š</p>
<ol>
<li>
<p><strong>é™æ€èµ„æºï¼ˆå¸¦ç‰ˆæœ¬å·ï¼‰ï¼š</strong> é‡‡ç”¨æœ€å¼ºç¼“å­˜ã€‚</p>
<ul>
<li><code>Cache-Controlï¼šmax-age=31536000, immutable</code></li>
</ul>
</li>
<li>
<p><strong>ä¸»å…¥å£æ–‡ä»¶ï¼ˆå¦‚ index.htmlï¼‰ï¼š</strong> ç¦ç”¨å¼ºç¼“å­˜ï¼Œå¯ç”¨åå•†ç¼“å­˜ã€‚</p>
<ul>
<li><code>Cache-Controlï¼šno-cache</code> (ç¡®ä¿æ¯æ¬¡éƒ½èƒ½è·å–æœ€æ–°çš„ HTMLï¼Œä»è€ŒåŠ è½½æœ€æ–°çš„ JS/CSS ç‰ˆæœ¬)</li>
</ul>
</li>
<li>
<p><strong>åŠ¨æ€æ•°æ®ï¼ˆAPIï¼‰ï¼š</strong> æŒ‰ä¸šåŠ¡çµæ´»é…ç½®ã€‚</p>
<ul>
<li>æ•æ„Ÿæ•°æ®ï¼š<code>no-store</code></li>
<li>å¯å®¹å¿å»¶è¿Ÿæ•°æ®ï¼š<code>max-age</code></li>
</ul>
</li>
<li>
<p><strong>ç¦»çº¿ä¸å¤æ‚ç­–ç•¥ï¼š</strong> ä½¿ç”¨ <strong>Service Worker</strong> å®ç°æ›´é«˜çº§çš„ç¼“å­˜æ§åˆ¶ã€‚</p>
</li>
</ol>
<hr/>
<p><strong>ä¸‹ä¸€ç¯‡é¢„å‘Šï¼š</strong> ç¼“å­˜è§£å†³äº†â€œäºŒæ¬¡è®¿é—®â€çš„é€Ÿåº¦é—®é¢˜ï¼Œä½†å¯¹äºå…¨çƒç”¨æˆ·æ¥è¯´ï¼Œâ€œé¦–æ¬¡è®¿é—®â€çš„é€Ÿåº¦ä¾ç„¶ä¾èµ–äºç‰©ç†è·ç¦»ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬å°†æ¢è®¨å¦‚ä½•åˆ©ç”¨<strong>å†…å®¹åˆ†å‘ç½‘ç»œï¼ˆCDNï¼‰</strong> ï¼Œå°†èµ„æºéƒ¨ç½²åˆ°ç¦»ç”¨æˆ·æœ€è¿‘çš„åœ°æ–¹ï¼Œå®ç°çœŸæ­£çš„å…¨çƒåŠ é€Ÿï¼æ•¬è¯·æœŸå¾…ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€é¸¿è’™å¼€å‘æ¡ˆä¾‹ç¯‡ã€‘å®šç‚¹å‡ºå‡»ï¼é¸¿è’™6.0è§†é¢‘ç¢°ä¸€ç¢°æµè½¬+å®æ—¶è¿›åº¦åŒæ­¥æ¡ˆä¾‹]]></title>    <link>https://juejin.cn/post/7583576605780901934</link>    <guid>https://juejin.cn/post/7583576605780901934</guid>    <pubDate>2025-12-14T15:34:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583576605780901934" data-draft-id="7583567658253647898" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€é¸¿è’™å¼€å‘æ¡ˆä¾‹ç¯‡ã€‘å®šç‚¹å‡ºå‡»ï¼é¸¿è’™6.0è§†é¢‘ç¢°ä¸€ç¢°æµè½¬+å®æ—¶è¿›åº¦åŒæ­¥æ¡ˆä¾‹"/> <meta itemprop="keywords" content="HarmonyOS,ArkTS,ArkUI"/> <meta itemprop="datePublished" content="2025-12-14T15:34:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¨å“¥çˆ±ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2242659450109575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€é¸¿è’™å¼€å‘æ¡ˆä¾‹ç¯‡ã€‘å®šç‚¹å‡ºå‡»ï¼é¸¿è’™6.0è§†é¢‘ç¢°ä¸€ç¢°æµè½¬+å®æ—¶è¿›åº¦åŒæ­¥æ¡ˆä¾‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2242659450109575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¨å“¥çˆ±ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T15:34:32.000Z" title="Sun Dec 14 2025 15:34:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…„å¼Ÿä»¬æŠ„å®¶ä¼™ï¼ä»Šå¤©Vå“¥è¦ç”¨é¸¿è’™6.0çš„åˆ†å¸ƒå¼èƒ½åŠ›æ’•ç¢è§†é¢‘è·¨è®¾å¤‡æµè½¬çš„é˜²çº¿ï¼ç›®æ ‡ï¼šæ‰‹æœºç¢°ä¸€ä¸‹è½¦æœº/å¹³æ¿ï¼Œè§†é¢‘ç§’çº§åˆ‡æ¢+è¿›åº¦æ¯«ç§’çº§åŒæ­¥ï¼Œå…¨ç¨‹é›¶æ‰‹åŠ¨å¹²é¢„ï¼ä»¥ä¸‹åŸºäºHarmonyOS 6.0ï¼ˆAPI 21ï¼‰çš„ArkTSå®æˆ˜æ ¸å¼¹ä»£ç å·²å°±ä½ğŸ‘‡</p>
<p>è”ç³»Vå“¥è·å– <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Ftraining%2FclassDetail%2F042cb1cc4d7d44ecbdbd902fd1275dcc%3Ftype%3D1%3Fha_source%3Dhmosclass%26ha_sourceId%3D89000248" target="_blank" title="https://developer.huawei.com/consumer/cn/training/classDetail/042cb1cc4d7d44ecbdbd902fd1275dcc?type=1?ha_source=hmosclass&amp;ha_sourceId=89000248" ref="nofollow noopener noreferrer">é¸¿è’™å­¦ä¹ èµ„æ–™</a></p>
<hr/>
<h3 data-id="heading-0">ğŸ”¥ ä¸€ã€æŠ€æœ¯æ¶æ„ï¼šåˆ†å¸ƒå¼è§†é¢‘ä½œæˆ˜é“¾</h3>
<p><strong>æ ¸å¿ƒæ­¦å™¨åº“</strong>ï¼š</p>
<ul>
<li><strong>ç¢°ä¸€ç¢°è§¦å‘</strong>ï¼šNFC+åˆ†å¸ƒå¼è®¾å¤‡ç®¡ç†ï¼ˆ<code>@ohos.distributedDeviceManager</code>ï¼‰</li>
<li><strong>è¿›åº¦åŒæ­¥å¼•æ“</strong>ï¼šAVSession Kitï¼ˆ<code>@kit.AVSessionKit</code>ï¼‰</li>
<li><strong>æ•°æ®ä¼ è¾“é€šé“</strong>ï¼šåˆ†å¸ƒå¼è½¯æ€»çº¿ï¼ˆæç®€åè®®+åŒè½®é©±åŠ¨ï¼‰</li>
</ul>
<p><strong>ä½œæˆ˜æµç¨‹</strong>ï¼š</p>
<ol>
<li>NFCè§¦ç¢°è‡ªåŠ¨å‘ç°è®¾å¤‡ â†’ 2. åˆ†å¸ƒå¼è½¯æ€»çº¿å»ºç«‹ä½å»¶è¿Ÿé€šé“ â†’ 3. AVSessionåŒæ­¥æ’­æ”¾çŠ¶æ€ä¸è¿›åº¦ â†’ 4. è½¦æœº/å¹³æ¿æ— ç¼ç»­æ’­</li>
</ol>
<hr/>
<h3 data-id="heading-1">âš¡ äºŒã€å››æ­¥é—ªç”µæˆ˜ä»£ç å®æ“</h3>
<h4 data-id="heading-2"><strong>æ­¥éª¤1ï¼šç¢°ä¸€ç¢°è§¦å‘ä¸è®¾å¤‡è¿æ¥</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ‰‹æœºç«¯ï¼šç›‘å¬NFCè§¦ç¢°å¹¶è¿æ¥ç›®æ ‡è®¾å¤‡  </span>
<span class="hljs-keyword">import</span> { nfc } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.nfc'</span>;  
<span class="hljs-keyword">import</span> { distributedDeviceManager } <span class="hljs-keyword">from</span> <span class="hljs-string">'@ohos.distributedDeviceManager'</span>;  

<span class="hljs-keyword">const</span> deviceManager = distributedDeviceManager.<span class="hljs-title function_">createDeviceManager</span>(<span class="hljs-string">'com.vvideo'</span>);  
<span class="hljs-comment">// NFCè§¦ç¢°å›è°ƒ  </span>
nfc.<span class="hljs-title function_">on</span>(<span class="hljs-string">'tagDiscovered'</span>, <span class="hljs-function">(<span class="hljs-params">tag</span>) =&gt;</span> {  
  <span class="hljs-keyword">if</span> (tag.<span class="hljs-property">type</span> === nfc.<span class="hljs-property">NFC_TYPE_A</span>) {  
    <span class="hljs-keyword">const</span> targetDevice = deviceManager.<span class="hljs-title function_">getTrustedDeviceListSync</span>();  
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">establishVideoPipeline</span>(targetDevice.<span class="hljs-property">networkId</span>);  
  }  
});  

<span class="hljs-comment">// å»ºç«‹åˆ†å¸ƒå¼è§†é¢‘ç®¡é“  </span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">establishVideoPipeline</span>(<span class="hljs-params">networkId: <span class="hljs-built_in">string</span></span>) {  
  <span class="hljs-keyword">const</span> connectOption = {  
    <span class="hljs-attr">deviceNetworkId</span>: networkId,  
    <span class="hljs-attr">isEncrypted</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// å¯ç”¨ä¼ è¾“åŠ å¯†  </span>
    <span class="hljs-attr">priority</span>: distributedDeviceManager.<span class="hljs-property">ConnectPriority</span>.<span class="hljs-property">HIGH</span>  <span class="hljs-comment">// é«˜ä¼˜å…ˆçº§  </span>
  };  
  <span class="hljs-keyword">await</span> deviceManager.<span class="hljs-title function_">connectTargetDevice</span>(connectOption);  
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ğŸ¬ è§†é¢‘ä½œæˆ˜é€šé“å·²å»ºç«‹ï¼"</span>);  
}  
</code></pre>
<p><strong>æŠ€æœ¯è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>ç¢°ä¸€ç¢°ä¾èµ–è®¾å¤‡äº®å±ã€è§£é”ä¸”å¼€å¯åä¸ºåˆ†äº«æœåŠ¡</li>
<li>åˆ†å¸ƒå¼è½¯æ€»çº¿é€šè¿‡æç®€åè®®æå‡æœ‰æ•ˆå¸¦å®½20%ï¼Œå®ç°æµå¼ä¼ è¾“</li>
</ul>
<h4 data-id="heading-3"><strong>æ­¥éª¤2ï¼šAVSessionåŒæ­¥æ’­æ”¾çŠ¶æ€ä¸è¿›åº¦</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ‰‹æœºç«¯ï¼šåˆ›å»ºåª’ä½“ä¼šè¯å¹¶åŒæ­¥çŠ¶æ€  </span>
<span class="hljs-keyword">import</span> { avSession } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.AVSessionKit'</span>;  

<span class="hljs-comment">// 1. åˆ›å»ºAVSessionæ§åˆ¶å™¨  </span>
<span class="hljs-keyword">private</span> <span class="hljs-attr">session</span>: avSession.<span class="hljs-property">AVSession</span>;  
<span class="hljs-keyword">private</span> <span class="hljs-attr">aVCastController</span>: avSession.<span class="hljs-property">AVCastController</span>;  

<span class="hljs-keyword">async</span> <span class="hljs-title function_">initAVSession</span>(<span class="hljs-params">videoUrl: <span class="hljs-built_in">string</span>, currentPosition: <span class="hljs-built_in">number</span></span>) {  
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">session</span> = <span class="hljs-keyword">await</span> avSession.<span class="hljs-title function_">createAVSession</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">context</span>, <span class="hljs-string">'video_cast'</span>, <span class="hljs-string">'VIDEO'</span>);  
  <span class="hljs-comment">// 2. è®¾ç½®æ’­æ”¾å…ƒæ•°æ®  </span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">metadata</span>: avSession.<span class="hljs-property">AVMetadata</span> = {  
    <span class="hljs-attr">title</span>: <span class="hljs-string">'Vå“¥å®æˆ˜æ•™ç¨‹'</span>,  
    <span class="hljs-attr">artist</span>: <span class="hljs-string">'HarmonyOS 6.0'</span>,  
    <span class="hljs-attr">duration</span>: <span class="hljs-number">1200000</span> <span class="hljs-comment">// æ€»æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰  </span>
  };  
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">session</span>.<span class="hljs-title function_">setAVMetadata</span>(metadata);  

  <span class="hljs-comment">// 3. åŒæ­¥æ’­æ”¾çŠ¶æ€åˆ°è½¦æœº  </span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">playbackState</span>: avSession.<span class="hljs-property">AVPlaybackState</span> = {  
    <span class="hljs-attr">state</span>: avSession.<span class="hljs-property">PlaybackState</span>.<span class="hljs-property">PLAYBACK_STATE_PLAYING</span>,  
    <span class="hljs-attr">speed</span>: <span class="hljs-number">1.0</span>,  
    <span class="hljs-attr">position</span>: { <span class="hljs-attr">elapsedTime</span>: currentPosition, <span class="hljs-attr">updateTime</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() }  
  };  
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">session</span>.<span class="hljs-title function_">setAVPlaybackState</span>(playbackState);  

  <span class="hljs-comment">// 4. è·å–æŠ•æ’­æ§åˆ¶å™¨  </span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">aVCastController</span> = <span class="hljs-keyword">await</span> avSession.<span class="hljs-title function_">getAVCastController</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">session</span>.<span class="hljs-property">sessionId</span>);  
}  

<span class="hljs-comment">// å®æ—¶è¿›åº¦åŒæ­¥ï¼ˆæ¯500mså‘é€ä¸€æ¬¡ï¼‰  </span>
<span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {  
  <span class="hljs-keyword">const</span> currentPos = videoPlayer.<span class="hljs-title function_">getCurrentPosition</span>();  
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">aVCastController</span>.<span class="hljs-title function_">setAVPlaybackState</span>({  
    <span class="hljs-attr">position</span>: { <span class="hljs-attr">elapsedTime</span>: currentPos, <span class="hljs-attr">updateTime</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() }  
  });  
}, <span class="hljs-number">500</span>);  
</code></pre>
<p><strong>å…³é”®æœºåˆ¶</strong>ï¼š</p>
<ul>
<li><code>AVSession</code> é€šè¿‡ä¼šè¯IDè·¨è®¾å¤‡è¯†åˆ«åŒä¸€åª’ä½“å†…å®¹</li>
<li><code>position</code> å­—æ®µåŒ…å«æ—¶é—´æˆ³ï¼Œè‡ªåŠ¨è¡¥å¿ç½‘ç»œå»¶è¿Ÿ</li>
</ul>
<h4 data-id="heading-4"><strong>æ­¥éª¤3ï¼šè½¦æœºç«¯å®æ—¶æ¥æ”¶ä¸ç»­æ’­</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// è½¦æœºç«¯ï¼šç›‘å¬AVSessionçŠ¶æ€å˜åŒ–  </span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VideoReceiver</span> {  
  <span class="hljs-keyword">private</span> <span class="hljs-attr">remoteSession</span>: avSession.<span class="hljs-property">AVSession</span>;  

  <span class="hljs-comment">// 1. æ³¨å†Œä¼šè¯ç›‘å¬å™¨  </span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">initSessionListener</span>(<span class="hljs-params"/>) {  
    avSession.<span class="hljs-title function_">on</span>(<span class="hljs-string">'sessionCreate'</span>, <span class="hljs-function">(<span class="hljs-params">session</span>) =&gt;</span> {  
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">remoteSession</span> = session;  
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">syncPlayback</span>();  
    });  
  }  

  <span class="hljs-comment">// 2. åŒæ­¥æ’­æ”¾è¿›åº¦  </span>
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">syncPlayback</span>(<span class="hljs-params"/>) {  
    <span class="hljs-keyword">const</span> playbackState = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">remoteSession</span>.<span class="hljs-title function_">getAVPlaybackState</span>();  
    <span class="hljs-keyword">const</span> videoUrl = <span class="hljs-variable language_">this</span>.<span class="hljs-property">remoteSession</span>.<span class="hljs-title function_">getAVMetadata</span>().<span class="hljs-property">assetId</span>;  
    
    <span class="hljs-comment">// ç²¾å‡†ç»­æ’­ï¼ˆè¡¥å¿ç½‘ç»œå»¶è¿Ÿï¼‰  </span>
    <span class="hljs-keyword">const</span> networkDelay = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - playbackState.<span class="hljs-property">position</span>.<span class="hljs-property">updateTime</span>;  
    <span class="hljs-keyword">const</span> actualPosition = playbackState.<span class="hljs-property">position</span>.<span class="hljs-property">elapsedTime</span> + networkDelay;  
    
    videoPlayer.<span class="hljs-title function_">init</span>({  
      <span class="hljs-attr">source</span>: videoUrl,  
      <span class="hljs-attr">startTime</span>: actualPosition <span class="hljs-comment">// ä»åŒæ­¥è¿›åº¦å¼€å§‹æ’­æ”¾  </span>
    });  
    videoPlayer.<span class="hljs-title function_">play</span>();  
  }  
}  
</code></pre>
<p><strong>æŠ—å»¶è¿Ÿç­–ç•¥</strong>ï¼š</p>
<ul>
<li>é€šè¿‡ <code>updateTime</code> è®¡ç®—ç½‘ç»œå»¶è¿Ÿï¼ŒåŠ¨æ€è°ƒæ•´èµ·å§‹æ’­æ”¾ç‚¹</li>
<li>åˆ†å¸ƒå¼è½¯æ€»çº¿çš„åŒè½®é©±åŠ¨æœºåˆ¶å‡å°‘ä¼ è¾“æŠ–åŠ¨</li>
</ul>
<h4 data-id="heading-5"><strong>æ­¥éª¤4ï¼šåŒå‘æ§åˆ¶ä¸å¼‚å¸¸å¤„ç†</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ‰‹æœº/è½¦æœºåŒå‘æ§åˆ¶ç¤ºä¾‹  </span>
<span class="hljs-comment">// è½¦æœºç«¯æš‚åœ â†’ æ‰‹æœºç«¯åŒæ­¥æš‚åœ  </span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">remoteSession</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'playbackStateChange'</span>, <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {  
  <span class="hljs-keyword">if</span> (state.<span class="hljs-property">state</span> === avSession.<span class="hljs-property">PlaybackState</span>.<span class="hljs-property">PLAYBACK_STATE_PAUSED</span>) {  
    videoPlayer.<span class="hljs-title function_">pause</span>();  
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">aVCastController</span>.<span class="hljs-title function_">setAVPlaybackState</span>(state); <span class="hljs-comment">// çŠ¶æ€å›ä¼   </span>
  }  
});  

<span class="hljs-comment">// å¼‚å¸¸å¤„ç†ï¼ˆç½‘ç»œä¸­æ–­è‡ªåŠ¨é‡è¿ï¼‰  </span>
deviceManager.<span class="hljs-title function_">on</span>(<span class="hljs-string">'deviceOffline'</span>, <span class="hljs-function">(<span class="hljs-params">device</span>) =&gt;</span> {  
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"è®¾å¤‡æ–­è”ï¼å¯åŠ¨é‡è¿æœºåˆ¶..."</span>);  
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">establishVideoPipeline</span>(device.<span class="hljs-property">networkId</span>);  
});  
</code></pre>
<hr/>
<h3 data-id="heading-6">ğŸ›¡ï¸ ä¸‰ã€æˆ˜åœºåº”æ€¥é¢„æ¡ˆï¼ˆé”™è¯¯ç å®æˆ˜ï¼‰</h3>

























<table><thead><tr><th>é”™è¯¯ç </th><th>æ•Œæƒ…æè¿°</th><th>åå‡»æˆ˜æœ¯</th></tr></thead><tbody><tr><td>6600101</td><td>ä¼šè¯æœåŠ¡å¼‚å¸¸</td><td>é‡å¯AVSessionå¹¶é‡æ–°åŒæ­¥è¿›åº¦</td></tr><tr><td>13900011</td><td>è®¾å¤‡è¿æ¥è¶…æ—¶</td><td>å¯ç”¨è“ç‰™Bypassé€šé“é™çº§é‡è¿</td></tr><tr><td>5400103</td><td>éŸ³é¢‘è®¾å¤‡å ç”¨</td><td>å¼ºåˆ¶é‡Šæ”¾èµ„æº+ä¼˜å…ˆçº§æŠ¢å </td></tr></tbody></table>
<hr/>
<h3 data-id="heading-7">ğŸ“Š å››ã€å®æˆ˜æ•ˆèƒ½æŠ¥å‘Š</h3>
<ul>
<li><strong>æµè½¬é€Ÿåº¦</strong>ï¼šç¢°ä¸€ç¢°åˆ°è½¦æœºæ’­æ”¾ &lt;1.5ç§’ï¼ˆå®æµ‹åä¸ºMate 60 Pro + é—®ç•ŒM9ï¼‰</li>
<li><strong>è¿›åº¦åŒæ­¥è¯¯å·®</strong>ï¼š&lt;200msï¼ˆåˆ†å¸ƒå¼è½¯æ€»çº¿æŠ—æŠ–åŠ¨ä¼˜åŒ–ï¼‰</li>
<li><strong>ç¨³å®šæ€§</strong>ï¼š30åˆ†é’Ÿè¿ç»­æ’­æ”¾è¿›åº¦æ¼‚ç§» &lt;0.5ç§’</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af107b39288d4ed6a95db377c550f8f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766331271&amp;x-signature=mE1pzVqOsoglhhoIgbHZAu4TtV4%3D" alt="å·äºŒ_å‰¯æœ¬.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Windowså¦‚ä½•è‡ªå®šä¹‰ä»»ä½•çª—å£ç½®é¡¶]]></title>    <link>https://juejin.cn/post/7583574154340777993</link>    <guid>https://juejin.cn/post/7583574154340777993</guid>    <pubDate>2025-12-14T14:44:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583574154340777993" data-draft-id="7583577045578579994" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Windowså¦‚ä½•è‡ªå®šä¹‰ä»»ä½•çª—å£ç½®é¡¶"/> <meta itemprop="keywords" content="Windows"/> <meta itemprop="datePublished" content="2025-12-14T14:44:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŸå ¡ä¿®ç‚¼è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2379804202775341"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Windowså¦‚ä½•è‡ªå®šä¹‰ä»»ä½•çª—å£ç½®é¡¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2379804202775341/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŸå ¡ä¿®ç‚¼è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T14:44:44.000Z" title="Sun Dec 14 2025 14:44:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç›´æ¥ä½¿ç”¨å¾®è½¯è‡ªå·±å¼€å‘çš„è½¯ä»¶å³å¯ï¼š Microsoft PowerToys çš„å®ç”¨å·¥å…·ï¼Œå…¶ä¸­åŒ…æ‹¬ Always On Top å·¥å…·ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Flearn.microsoft.com%2Fen-us%2Fwindows%2Fpowertoys%2Finstall" target="_blank" title="https://learn.microsoft.com/en-us/windows/powertoys/install" ref="nofollow noopener noreferrer">learn.microsoft.com/en-us/windoâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbc6344ed83b452c95d921afeaecfaa3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Z-O5aCh5L-u54K86ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766328283&amp;x-signature=hmylWBn5jWKEo2JXhJaPpoeK6Ng%3D" alt="image.png" loading="lazy"/></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2FPowerToys%2Freleases%2Ftag%2Fv0.96.1" target="_blank" title="https://github.com/microsoft/PowerToys/releases/tag/v0.96.1" ref="nofollow noopener noreferrer">github.com/microsoft/Pâ€¦</a></p>
<p>ä¸è¿‡éœ€è¦ä½¿ç”¨ Windows 11 æˆ– Windows 10 v2004 (19041) +æ‰èƒ½ä½¿ç”¨å®ƒä»¬ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Agentæ—¶ä»£ä¸‹ï¼ŒToBå‰ç«¯çš„UIå’Œäº¤äº’ä¼šå¾€å“ªèµ°ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7583234966635266082</link>    <guid>https://juejin.cn/post/7583234966635266082</guid>    <pubDate>2025-12-14T15:01:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583234966635266082" data-draft-id="7555764933923143690" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Agentæ—¶ä»£ä¸‹ï¼ŒToBå‰ç«¯çš„UIå’Œäº¤äº’ä¼šå¾€å“ªèµ°ï¼Ÿ"/> <meta itemprop="keywords" content="äº¤äº’è®¾è®¡,å‰ç«¯,Agent"/> <meta itemprop="datePublished" content="2025-12-14T15:01:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‰§å¸ˆæ"/> <meta itemprop="url" content="https://juejin.cn/user/1355016376951341"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Agentæ—¶ä»£ä¸‹ï¼ŒToBå‰ç«¯çš„UIå’Œäº¤äº’ä¼šå¾€å“ªèµ°ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1355016376951341/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‰§å¸ˆæ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T15:01:21.000Z" title="Sun Dec 14 2025 15:01:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»30åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å‰è¨€</h2>
<p>æœ€è¿‘åœ¨è´Ÿè´£ Agent é¡¹ç›®å‰ç«¯éƒ¨åˆ†çš„è½åœ°ï¼Œæ·±æ„Ÿ Agent + ToB ä¸ä»…ä»…æ˜¯åŠŸèƒ½çš„å åŠ ï¼Œæ›´æ˜¯ä¸€ä¸ªéœ€è¦<strong>å‰ç«¯å¼€å‘ã€äº¤äº’è®¾è®¡ä¸ä¸šåŠ¡é€»è¾‘</strong>æ·±åº¦èåˆçš„å…¨æ–°é¢†åŸŸã€‚å› æ­¤ï¼Œæˆ‘æƒ³é€šè¿‡è¿™ç¯‡æ–‡ç« æ¢³ç†ä¸€ä¸‹æ¶æ„è®¾è®¡å±‚é¢çš„æ€è€ƒã€‚</p>
<p>åœ¨è¿‡å»äºŒåå¹´é‡Œï¼ŒToBè½¯ä»¶å·²ç»å½¢æˆäº†ä¸€å¥—æˆç†Ÿä¸”ç¨³å›ºçš„äº¤äº’èŒƒå¼ï¼ˆGUIå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼‰ã€‚ä¸ºäº†æ‰¿è½½å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œä¸šç•Œæ„å»ºäº†æ·±åº¦çš„æ ‘çŠ¶å¯¼èˆªã€é«˜å¯†åº¦çš„ä¸šåŠ¡é€»è¾‘å’Œç¹å¤çš„è¡¨å•ç³»ç»Ÿã€‚è¿™ç§è®¾è®¡é€šè¿‡å°†ä¸šåŠ¡æµç¨‹æŠ½è±¡ä¸ºæ ‡å‡†åŒ–çš„åŠŸèƒ½æ¨¡å—ï¼Œæœ‰æ•ˆåœ°è§£å†³äº†ä¿¡æ¯åŒ–çš„é—®é¢˜ã€‚</p>
<p>æ­¤æ—¶ï¼Œç”¨æˆ·ä¸ç³»ç»Ÿçš„å…³ç³»æ˜¯å…¸å‹çš„ <strong>â€œäººé€‚åº”ç³»ç»Ÿâ€</strong> ï¼šç”¨æˆ·å¿…é¡»æ¥å—åŸ¹è®­ï¼Œè®°å¿†å›ºå®šçš„æ“ä½œè·¯å¾„ï¼Œé€šè¿‡â€œç‚¹å‡» + é”®ç›˜â€çš„æœºæ¢°æŒ‡ä»¤æ¥é©±åŠ¨è½¯ä»¶ã€‚</p>
<p>è¿‘å¹´ï¼ŒAI Agent æŠ€æœ¯å¼€å§‹è¢«å¼•å…¥ ToB é¢†åŸŸã€‚ä½†ç›®å‰çš„æ™®éåšæ³•ï¼Œä»…ä»…æ˜¯åœ¨ç°æœ‰ç•Œé¢ä¸Šå åŠ ä¸€ä¸ªèŠå¤©æœºå™¨äººï¼ˆChatbotï¼‰ã€‚ä½†æ˜¯ï¼ŒAI Agent çš„å‡ºç°ä¸æ˜¯ä¸ºäº†åœ¨ç•Œé¢ä¸ŠåŠ ä¸€ä¸ªèŠå¤©æ¡†ï¼Œè€Œæ˜¯ä¸ºäº†æ‰“ç ´â€œäººå»å¯»æ‰¾åŠŸèƒ½â€çš„æ—§æ¨¡å¼ã€‚</p>
<p>æœªæ¥ï¼ŒAgent å¿…ç„¶ä¸å†æ˜¯ä¸€ä¸ªè¾¹ç¼˜çš„è¾…åŠ©å·¥å…·ï¼Œè€Œæ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒé©±åŠ¨åŠ›ï¼Œå¯ä»¥æ·±å…¥ä»‹å…¥ç”¨æˆ·çš„ä½œä¸šæµï¼ŒToB å‰ç«¯è½¯ä»¶çš„äººæœºäº¤äº’åº”å½“å¦‚ä½•é‡æ„ï¼Ÿ</p>
<p>æœ¬æ–‡åˆ†ä»¥ä¸‹å‡ ä¸ªæ–¹é¢æ¥æ·±å…¥æ¢è®¨è¿™ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>é™æ€ç•Œé¢å˜è¿ï¼šé™æ€æ¸²æŸ“ =&gt; æ··åˆæ¸²æŸ“ï¼ˆç”Ÿæˆå¼ UI + é™æ€æ¸²æŸ“ï¼‰</li>
<li>äººæœºäº¤äº’å˜è¿ï¼šåŠŸèƒ½å¯¼èˆª =&gt; æ„å›¾å¼•å¯¼</li>
<li>å‰ç«¯å¼€å‘å˜è¿ï¼šé¡µé¢æ„å»º =&gt; åŸå­ç»„ä»¶ + èƒ½åŠ›æ¶æ„</li>
</ul>
<p>æœ€åï¼Œæˆ‘è¿˜ä¼šåŠ å…¥ä¸€äº›æ‚ä¸ƒæ‚å…«ä½†æ˜¯é‡è¦çš„æ€è€ƒ</p>
<p><strong>ä»¥ä¸‹å†…å®¹çº¯å±ä¸ªäººé¢„æµ‹ï¼Œå¦‚æœ‰æŒ‡æ•™è¯·åœ¨è¯„è®ºåŒºæŒ‡æ­£ï¼</strong></p>
<br/>
<h2 data-id="heading-1">2. å®šä¹‰ï¼šAgentæ˜¯ä¸ªå•¥ï¼Ÿæœ‰å•¥ç”¨ï¼Ÿ</h2>
<h3 data-id="heading-2">2.1 å…ˆå®šä¹‰ï¼šæˆ‘è¯´çš„Agentæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>æˆ‘è¯´çš„AI Agentä¸æ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„èŠå¤©æœºå™¨äººæˆ–ä»»åŠ¡åŠ©æ‰‹ã€‚</p>
<p>èŠå¤©æœºå™¨äººæˆ–è€…ä»»åŠ¡åŠ©æ‰‹å…¶æœ¬è´¨æ˜¯ååº”å¼çš„ã€‚å®ƒä»¬åœ¨é¢„è®¾çš„è§„åˆ™æˆ–æ¨¡å‹å†…ï¼Œé’ˆå¯¹ç”¨æˆ·çš„æ˜ç¡®æŒ‡ä»¤æ‰§è¡Œå•ä¸€ã€å…·ä½“çš„ä»»åŠ¡ ï¼Œæ¯”å¦‚åŸºäºçŸ¥è¯†åº“çš„ä¸šåŠ¡é—®ç­”</p>
<p>è€ŒAI Agentåˆ™ä»£è¡¨äº†ä¸€ç§ä¸»åŠ¨å¼çš„ã€å…·å¤‡è‡ªä¸»æ€§çš„æ–°å½¢æ€ï¼ˆ<strong>å¸¸ç”¨Cursorçš„æœ‹å‹åº”è¯¥èƒ½å¤Ÿæ˜ç™½æˆ‘åœ¨è¯´å•¥</strong>ï¼‰ã€‚ Â </p>
<p>ä¸€ä¸ªçœŸæ­£çš„AI Agentå…·å¤‡ä»¥ä¸‹æ ¸å¿ƒç‰¹å¾ï¼š</p>
<ul>
<li>æ„ŸçŸ¥ï¼š èƒ½å¤Ÿæ„ŸçŸ¥å¹¶å¤„ç†å…¶æ•°å­—ç¯å¢ƒä¸­çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬è§†è§‰ã€æ–‡æœ¬å’Œå„ç±»æ•°æ®è¾“å…¥ ã€‚ Â </li>
<li>è§„åˆ’ï¼š èƒ½å¤Ÿå°†ä¸€ä¸ªå¤æ‚ã€é«˜é˜¶çš„ç›®æ ‡åˆ†è§£ä¸ºä¸€ç³»åˆ—å¯æ‰§è¡Œçš„ã€å…·ä½“çš„å­ä»»åŠ¡ ã€‚è¿™æ˜¯å…¶åŒºåˆ«äºæ™®é€šLLMçš„å…³é”®èƒ½åŠ›ã€‚</li>
<li>å·¥å…·ä½¿ç”¨ï¼š èƒ½å¤Ÿè°ƒç”¨å¤–éƒ¨å·¥å…·ï¼ˆå¦‚APIã€ä»£ç æ‰§è¡Œç¯å¢ƒã€æ•°æ®åº“æŸ¥è¯¢ï¼‰æ¥è·å–ä¿¡æ¯æˆ–æ‰§è¡ŒåŠ¨ä½œï¼Œä»è€Œä¸å¤–éƒ¨ä¸–ç•Œè¿›è¡Œäº¤äº’ã€‚ Â </li>
<li>è®°å¿†ï¼š èƒ½å¤Ÿè®°å¿†è¿‡å»çš„äº¤äº’ã€è¡ŒåŠ¨å’Œç»“æœï¼Œå¹¶åˆ©ç”¨è¿™äº›è®°å¿†æ¥æŒ‡å¯¼æœªæ¥çš„å†³ç­–ï¼Œå®ç°ä¸Šä¸‹æ–‡çš„è¿ç»­æ€§å’Œå­¦ä¹ æ”¹è¿› ã€‚ Â </li>
</ul>
<h3 data-id="heading-3">2.2 ToBè½¯ä»¶å¯¹äºAI Agentçš„æ ¸å¿ƒè¯‰æ±‚ï¼š åœ¨å¤æ‚å·¥ä½œæµç¨‹ä¸­æå‡ç”¨æˆ·ç”Ÿäº§åŠ›</h3>
<p>ToB Web åº”ç”¨å¯¹ AI æ™ºèƒ½ä½“çš„éœ€æ±‚ï¼Œå¯ä»¥æ€»ç»“ä¸º<strong>åœ¨å¤æ‚å·¥ä½œæµç¨‹ä¸­æå‡ç”¨æˆ·ç”Ÿäº§åŠ›</strong></p>
<p>å¼•å…¥AI Agentçš„æœ€ç»ˆç›®æ ‡ï¼Œå¹¶éä»…ä»…åŠ é€Ÿå•ä¸ªä»»åŠ¡ï¼Œè€Œæ˜¯ä»æ ¹æœ¬ä¸Šé‡æ„æ¶‰åŠä¸šåŠ¡æ•´ä½“å·¥ä½œæµ ã€‚è¿™ä¸€ç†å¿µçš„è½¬å˜ï¼Œè¦æ±‚å‰ç«¯äº¤äº’è®¾è®¡éœ€è¦è¿›è¡Œå˜é©ã€‚å‰ç«¯ä¸å†ä»…ä»…æ˜¯ç”¨æˆ·ä¸å•ä¸€åŠŸèƒ½çš„äº¤äº’ç•Œé¢ï¼Œè€Œæ˜¯ç”¨æˆ·ä¸ä¸€ä¸ªæŒç»­è¿›è¡Œçš„ã€å¤æ‚çš„ä¸šåŠ¡æµç¨‹è¿›è¡Œåä½œçš„å¹³å°ã€‚ Â </p>
<br/>
<h2 data-id="heading-4">3. é™æ€ç•Œé¢å˜è¿ï¼š ä»é™æ€æ¸²æŸ“ =&gt; æ··åˆæ¸²æŸ“ï¼ˆç”Ÿæˆå¼ UI + é™æ€æ¸²æŸ“ï¼‰</h2>
<p>Agentæ‰€ä»£è¡¨çš„ç”Ÿæˆå¼ UI å¹¶éè¦æ¶ˆç­ç°æœ‰çš„èœå•å’Œé¡µé¢ï¼Œè€Œæ˜¯ä½œä¸ºä¸€ç§é«˜ç»´åº¦çš„è¡¥å……ã€‚å®ƒè®©è½¯ä»¶èƒ½å¤Ÿåƒä¹é«˜ç§¯æœ¨ä¸€æ ·ï¼Œæ ¹æ®ç”¨æˆ·çš„å³æ—¶éœ€æ±‚ï¼Œå®æ—¶é‡ç»„æœ€é€‚åˆçš„äº¤äº’å½¢æ€ã€‚</p>
<h3 data-id="heading-5">3.1 é™æ€é¡µé¢çš„â€œç¡®å®šæ€§â€ä¸æ„å›¾çš„â€œæ— é™æ€§â€</h3>
<h4 data-id="heading-6">1ã€é™æ€æ¸²æŸ“çš„å±€é™æ€§ï¼šè¢«â€œç¡®å®šæ€§â€é”æ­»çš„è·¯ç”±</h4>
<p>ç°æœ‰çš„ ToB æ¶æ„å»ºç«‹åœ¨ <strong>â€œç¡®å®šæ€§è·¯ç”±â€</strong> ä¹‹ä¸Šã€‚å‰ç«¯å·¥ç¨‹å¸ˆé¢„å…ˆå®šä¹‰å¥½ <code>/dashboard</code>ã€<code>/report</code> ç­‰è·¯ç”±ï¼Œå¹¶åœ¨æ¯ä¸ªè·¯ç”±ä¸‹ç¡¬ç¼–ç å›ºå®šçš„ç»„ä»¶å¸ƒå±€ã€‚è¿™ç§æ¨¡å¼çš„å‰ææ˜¯ï¼š<strong>ç”¨æˆ·çš„éœ€æ±‚æ˜¯å¯æšä¸¾çš„ï¼Œæ“ä½œè·¯å¾„æ˜¯çº¿æ€§çš„ã€‚</strong></p>
<p>è¿™ç§æ¨¡å¼æœ‰ä¸¤ä¸ªç¼ºé™·ï¼š</p>
<ul>
<li><strong>è·¯å¾„å†—ä½™</strong>ï¼šç”¨æˆ·æƒ³è¦å®Œæˆä¸€ä¸ªè·¨æ¨¡å—çš„ä»»åŠ¡ï¼ˆä¾‹å¦‚ï¼šâ€œæŠŠ A é¡¹ç›®çš„æ•°æ®ç»è¿‡ Bæ¨¡å—çš„å¤„ç†åå¯¼å‡ºâ€ï¼‰ï¼Œå¾€å¾€éœ€è¦åœ¨ä¸‰å››ä¸ªé¡µé¢é—´è·³è½¬ã€å¤åˆ¶ã€ç²˜è´´ã€‚</li>
<li><strong>åƒµå°¸ç»„ä»¶</strong>ï¼šä¸ºäº†è¦†ç›–é•¿å°¾éœ€æ±‚ï¼ŒToB è½¯ä»¶çš„é¡µé¢é‡Œå¡æ»¡äº†å¹³æ—¶æ ¹æœ¬ç”¨ä¸åˆ°çš„é«˜çº§ç­›é€‰å™¨å’ŒæŒ‰é’®ï¼Œå¯¼è‡´ç•Œé¢è‡ƒè‚¿ã€‚</li>
</ul>
<p>ç„¶è€Œï¼ŒAgent çš„æ ¸å¿ƒä»·å€¼åœ¨äºå¤„ç†å‘æ•£æ€§æ„å›¾ã€‚å½“ç”¨æˆ·æå‡ºâ€œè¯·åˆ†æä¸Šå­£åº¦åä¸œåŒºé”€å”®å¼‚å¸¸çš„åŸå› ï¼Œå¹¶ç»™å‡ºæ•´æ”¹å»ºè®®â€æ—¶ï¼Œè¿™ä¸€éœ€æ±‚æ¶‰åŠæ•°æ®æŸ¥è¯¢ã€å›¾è¡¨åˆ†æã€æ–‡æœ¬æ¨ç†ç­‰å¤šä¸ªç»´åº¦ã€‚ä¼ ç»Ÿçš„é™æ€é¡µé¢æ— æ³•é¢„çŸ¥å¹¶è¦†ç›–æ­¤ç±»ç»„åˆå¼éœ€æ±‚ã€‚è‹¥å¼ºè¡Œé€šè¿‡è·³è½¬å¤šä¸ªé¡µé¢æ¥è§£å†³ï¼Œä¼šè®©ç”¨æˆ·å¾ˆä¸çˆ½ã€‚</p>
<h4 data-id="heading-7">2ã€ç”Ÿæˆå¼ UI çš„æ ¸å¿ƒé€»è¾‘: å›¾å½¢ç•Œé¢ï¼ˆGUIï¼‰å’Œè¯­è¨€ç•Œé¢ï¼ˆLUIï¼‰çš„èåˆ</h4>
<p>ç”Ÿæˆå¼ UI æŒ‡çš„æ˜¯ï¼š<strong>ç³»ç»Ÿæ ¹æ®å¯¹ç”¨æˆ·æ„å›¾çš„ç†è§£å’Œå½“å‰ä¸Šä¸‹æ–‡ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€å†³ç­–å¹¶æ¸²æŸ“å‡ºçš„ç”¨æˆ·ç•Œé¢ã€‚</strong></p>
<p>åœ¨ Ant Design X çš„èŒƒå¼ä¸­ï¼Œè¿™è¢«ç§°ä¸ºâ€œå¯Œäº¤äº’ç»„ä»¶çš„æµå¼æ¸²æŸ“â€ã€‚å…¶å·¥ä½œæµåŒ…å«ä¸‰ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li><strong>æ„å›¾è¯†åˆ«</strong> ï¼šAgent è¯†åˆ«ç”¨æˆ·éœ€æ±‚ï¼Œåˆ¤æ–­å•çº¯çš„æ–‡æœ¬å›å¤ä¸è¶³ä»¥è§£å†³é—®é¢˜ï¼Œéœ€è¦è°ƒç”¨ç‰¹å®šçš„ UI ç»„ä»¶ã€‚</li>
<li><strong>ç»“æ„åŒ–æè¿°</strong> ï¼šAgent è¾“å‡ºä¸€æ®µåŒ…å«ç»„ä»¶ç±»å‹å’ŒPropsçš„ JSON æè¿°</li>
<li><strong>åŠ¨æ€æ¸²æŸ“</strong> ï¼šå‰ç«¯æ¥æ”¶ Schemaï¼Œæ˜ å°„åˆ°æœ¬åœ°çš„â€œåŸå­ç»„ä»¶åº“â€ï¼Œåœ¨å¯¹è¯æµä¸­å³æ—¶æ¸²æŸ“å‡ºå¯äº¤äº’çš„å¡ç‰‡ã€‚</li>
</ul>
<p>æœªæ¥ToBè½¯ä»¶çš„ç•Œé¢ï¼Œå¯èƒ½ä¸å†æ˜¯å¯†å¯†éº»éº»çš„èœå•å’ŒæŒ‰é’®ã€‚è€Œæ˜¯ä¸€ä¸ªå…¨å±€çš„ã€æ™ºèƒ½çš„Â <strong>è¯­è¨€ç”¨æˆ·ç•Œé¢ï¼ˆLUIï¼‰</strong> å°†æˆä¸º<strong>æœ€é«˜ä¼˜çš„äº¤äº’å…¥å£</strong>ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡è‡ªç„¶è¯­è¨€ç›´æ¥ä¸‹è¾¾æŒ‡ä»¤ï¼Œè€ŒGUIåˆ™ä¼šå˜æˆä¸ºï¼š</p>
<ul>
<li><strong>æ­§ä¹‰æ¶ˆé™¤ä¸èƒ½åŠ›å±•ç¤ºåŒºï¼š</strong> Â å½“Agentå¯¹æŒ‡ä»¤ç†è§£ä¸æ¸…æ—¶ï¼Œä¼šé€šè¿‡GUIæä¾›é€‰é¡¹è®©ç”¨æˆ·é€‰æ‹©ã€‚åŒæ—¶ï¼ŒGUIä¹Ÿç›´è§‚åœ°å±•ç¤ºäº†å½“å‰è½¯ä»¶â€œèƒ½åšä»€ä¹ˆâ€ï¼Œä¸ºç”¨æˆ·æä¾›è¾“å…¥æŒ‡ä»¤çš„çµæ„Ÿã€‚</li>
<li><strong>è¿‡ç¨‹çš„ç›‘æ§åŒºï¼š</strong> Â Agentçš„æ‰§è¡Œè®¡åˆ’ã€æ­¥éª¤å’ŒçŠ¶æ€ï¼Œä¼šä»¥å¯è§†åŒ–çš„æ–¹å¼åœ¨GUIä¸­å‘ˆç°ã€‚   æ¯”å¦‚<code>ä»»åŠ¡è§„åˆ’List</code>ï¼ˆä»¥æµç¨‹å›¾æˆ–ä»»åŠ¡åˆ—è¡¨çš„å½¢å¼ï¼Œå±•ç¤ºAgentä¸ºäº†å®Œæˆç”¨æˆ·ç›®æ ‡è€Œåˆ¶å®šçš„è¯¦ç»†è®¡åˆ’ï¼‰ã€<code>å®æ—¶æ—¥å¿—æµ</code>ï¼ˆå®æ—¶æ˜¾ç¤ºAgentæ­£åœ¨æ‰§è¡Œå“ªä¸€æ­¥ã€è°ƒç”¨äº†å“ªä¸ªå·¥å…·ã€å·¥å…·è¿”å›äº†ä»€ä¹ˆç»“æœ)ã€‚</li>
<li><strong>ç»“æœçš„å‘ˆç°åŒºï¼š</strong> Â Agentæ‰§è¡Œä»»åŠ¡åçš„ç»“æœï¼ˆå¦‚ç”Ÿæˆçš„æŠ¥è¡¨ã€æ›´æ–°åçš„æ•°æ®åˆ—è¡¨ï¼‰ä¾ç„¶é€šè¿‡ç¡®å®šçš„GUIæ¥å±•ç¤ºã€‚</li>
</ul>
<p>è¿™æ ‡å¿—ç€å‰ç«¯å¼€å‘é‡å¿ƒçš„è½¬ç§»ï¼šä»<strong>æ„å»ºé™æ€é¡µé¢</strong>è½¬å‘<strong>å®šä¹‰ç»„ä»¶èƒ½åŠ›</strong> ã€‚</p>
<h3 data-id="heading-8">3.2 å…·ä½“æœ‰å“ªäº›æ–°çš„UIå½¢æ€ï¼Ÿ</h3>
<p>ä¸ºäº†è®© Agent çš„æŠ½è±¡å·¥ä½œè¿‡ç¨‹å˜å¾—é€æ˜ã€å¯æ§å’Œå¯ä¿¡ï¼Œä¸€ç³»åˆ—æ–°çš„UIæ¨¡å¼åº”è¿è€Œç”Ÿã€‚è¿™äº›æ¨¡å¼å¯ä»¥æ ¹æ®å…¶æ ¸å¿ƒåŠŸèƒ½åˆ†ä¸ºä¸‰å¤§ç±» ã€‚</p>
<h4 data-id="heading-9">3.2.1 ä¸ºäº†æé«˜é€æ˜åº¦å’Œå¯è§‚æµ‹æ€§çš„æ–°å½¢æ€</h4>
<p>è¿™ç±»æ¨¡å¼çš„æ ¸å¿ƒç›®æ ‡æ˜¯æ‰“å¼€Agentçš„â€œé»‘ç›’â€ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿç†è§£å…¶â€œæ€è€ƒâ€è¿‡ç¨‹ã€‚</p>
<h5 data-id="heading-10">1ã€åŒæ è§†å›¾</h5>
<p>è¿™æ˜¯å±•ç¤ºAgentæ€è€ƒè¿‡ç¨‹çš„å…³é”®æ¨¡å¼ã€‚ç•Œé¢è¢«åˆ†ä¸ºä¸¤æ ï¼Œä¸€æ å®æ—¶å±•ç¤ºAgentçš„å†…éƒ¨æ¨ç†è¿‡ç¨‹ï¼›å¦ä¸€æ åˆ™å±•ç¤ºå…¶é‡‡å–çš„å…·ä½“è¡ŒåŠ¨ã€‚ Â </p>
<p>ä¾‹å­ï¼š  Cursorçš„ä¸»ç•Œé¢ä¸€èˆ¬è¢«åˆ†æˆä¸¤å—ï¼Œä¸€è¾¹æ˜¯ä»£ç ç¼–è¾‘åŒºï¼ˆå…·ä½“è¡ŒåŠ¨ï¼‰ï¼›å¦å¤–ä¸€è¾¹æ˜¯æ€è€ƒå’Œæ¨ç†è¿‡ç¨‹ã€‚</p>
<h5 data-id="heading-11">2ã€å¤šæ™ºèƒ½ä½“æµç¨‹å›¾</h5>
<p>åœ¨ç”±å¤šä¸ªAgentåä½œçš„ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨æµç¨‹å›¾æˆ–æ´»åŠ¨å›¾æ¥å±•ç¤ºä»»åŠ¡çš„åˆ†é…å’Œæµè½¬ï¼Œæ¸…æ™°åœ°æ ‡æ˜å“ªä¸ªAgentåœ¨ä½•æ—¶æ‰§è¡Œäº†ä½•ç§æ“ä½œã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å¯å±•å¼€çš„å¡ç‰‡æ·±å…¥äº†è§£æ¯ä¸ªAgentçš„å…·ä½“è´¡çŒ® ã€‚</p>
<p>ä¾‹å­ï¼š ç§˜å¡”AIæœç´¢ç ”ç©¶ç‰ˆ\ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0cf7d2753d304884834a582392261dde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54mn5biI5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766329300&amp;x-signature=QrSkQRwhT%2FkC6wXGdDF2HNjIZe0%3D" alt="image.png" width="70%" loading="lazy"/></p>
<h5 data-id="heading-12">3ã€æ¥æºå¼•ç”¨ä¸è¿½æº¯</h5>
<p>å¯¹äºä½¿ç”¨æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰æŠ€æœ¯çš„Agentï¼ŒUIå¿…é¡»å°†ç”Ÿæˆçš„å†…å®¹é“¾æ¥å›å…¶å¼•ç”¨çš„åŸå§‹æ–‡æ¡£æˆ–æ•°æ®æºã€‚è¿™æå¤§åœ°å¢å¼ºäº†ä¿¡æ¯çš„å¯ä¿¡åº¦ï¼Œå¹¶å…è®¸ç”¨æˆ·è¿›è¡Œäº‹å®æ ¸æŸ¥ ã€‚ Â </p>
<p>ä¾‹å­ï¼š Geminiçš„æ·±åº¦ç ”ç©¶ï¼Œä½¿ç”¨äº†å¤§é‡å±•ç¤ºæ•°æ®æºçš„äº¤äº’ã€‚</p>
<hr/>
<h4 data-id="heading-13">3.2.2 ä¸ºäº†æ›´å¥½åœ°å’ŒAgentäº¤äº’ä¸åä½œçš„æ–°å½¢æ€</h4>
<p>è¿™ç±»æ–°UIå’Œäº¤äº’ç›®çš„æ˜¯å°†Agentçš„èƒ½åŠ›æ— ç¼åœ°èå…¥ç”¨æˆ·çš„å·¥ä½œæµä¸­ã€‚</p>
<h5 data-id="heading-14">1ã€åä½œç”»å¸ƒ</h5>
<p>AIèƒ½åŠ›è¢«ç›´æ¥åµŒå…¥ç”¨æˆ·çš„ä¸»è¦å·¥ä½œåŒºï¼Œå¦‚è®¾è®¡å·¥å…·æˆ–æ–‡æ¡£ç¼–è¾‘å™¨ã€‚ç”¨æˆ·é€šè¿‡è¡Œå†…å»ºè®®ã€æ–œæ å‘½ä»¤ï¼ˆ<code>/</code>ï¼‰æˆ–ä¸“ç”¨çš„AIåŠŸèƒ½å—ä¸Agentäº¤äº’ï¼Œæ•´ä¸ªè¿‡ç¨‹æ— éœ€ç¦»å¼€å½“å‰çš„å·¥ä½œä¸Šä¸‹æ–‡ï¼Œä¿æŒäº†å¿ƒæµä½“éªŒ ã€‚ Â </p>
<p>ä¾‹å­ï¼š copliotä¸­çš„è‡ªåŠ¨ä»£ç è¡¥å…¨</p>
<h5 data-id="heading-15">2ã€æç¤ºå·¥ç¨‹åŒ–è¡¨å•</h5>
<p>å°†å¤æ‚çš„è‡ªç„¶è¯­è¨€æç¤ºï¼ˆPromptï¼‰å·¥ç¨‹æŠ½è±¡æˆç»“æ„åŒ–çš„è¡¨å•ï¼Œç”¨æˆ·åªéœ€å¡«å†™å‡ ä¸ªå…³é”®å­—æ®µï¼Œç³»ç»Ÿå°±ä¼šåœ¨åå°å°†è¿™äº›è¾“å…¥è½¬æ¢æˆä¸€ä¸ªä¼˜åŒ–è¿‡çš„ã€é«˜è´¨é‡çš„æç¤ºï¼Œç„¶åæäº¤ç»™Agentã€‚è¿™æœ‰æ•ˆé™ä½äº†ç”¨æˆ·ä½¿ç”¨AIçš„é—¨æ§› ã€‚</p>
<p>ä¾‹å­ï¼š æŠ–éŸ³â€œåˆ›ä½œçµæ„Ÿâ€å·¥å…·çš„ä¸»åŠ¨å¼•å¯¼ã€‚æŠ–éŸ³çš„â€œAIè„šæœ¬ç”Ÿæˆâ€åŠŸèƒ½æ—©æœŸé¢ä¸´ç”¨æˆ·è¾“å…¥æ¨¡ç³Šçš„é—®é¢˜ï¼ˆå¦‚ç”¨æˆ·ä»…è¾“å…¥â€œæ‹ä¸€æ¡ç¾é£Ÿè§†é¢‘â€ï¼‰ã€‚é€šè¿‡â€œæç¤ºå·¥ç¨‹åŒ–è¡¨å•â€æ–¹æ¡ˆä¼˜åŒ–åï¼Œäº¤äº’æµç¨‹å˜ä¸ºï¼š</p>
<ol>
<li>ç”¨æˆ·è¾“å…¥â€œæ‹ä¸€æ¡ç¾é£Ÿè§†é¢‘â€ï¼Œæ„å›¾åˆ†ç±»æ¨¡å‹åˆ¤æ–­æ˜ç¡®åº¦0.4ï¼ˆæ¨¡ç³Šï¼‰ã€‚</li>
<li>ç³»ç»Ÿç”Ÿæˆå€™é€‰å¼•å¯¼é¡¹ï¼š</li>
<li>â€œé€‰é¡¹1ï¼šå®¶å¸¸èœæ•™ç¨‹ï¼ˆæ­¥éª¤æ¸…æ™°ï¼Œé€‚åˆæ–°æ‰‹ï¼‰â€</li>
<li>â€œé€‰é¡¹2ï¼šæ¢åº—æµ‹è¯„ï¼ˆçªå‡ºå£æ„Ÿæè¿°ï¼Œé€‚åˆæ¨èï¼‰â€</li>
<li>â€œé€‰é¡¹3ï¼šåˆ›æ„æ‘†ç›˜ï¼ˆè§†è§‰åŒ–å¼ºï¼Œé€‚åˆçŸ­è§†é¢‘ï¼‰â€</li>
<li>ç”¨æˆ·ç‚¹å‡»â€œé€‰é¡¹1â€ï¼Œç³»ç»Ÿè‡ªåŠ¨è¡¥å…¨æç¤ºè¯ï¼šâ€œå¸®æˆ‘ç”Ÿæˆä¸€æ¡å®¶å¸¸èœæ•™ç¨‹çš„è§†é¢‘è„šæœ¬ï¼Œç›®æ ‡äººç¾¤æ˜¯å¨æˆ¿æ–°æ‰‹ï¼Œéœ€è¦åŒ…å«é£Ÿæå‡†å¤‡ã€æ­¥éª¤æ‹†è§£å’Œå°è´´å£«ã€‚â€</li>
</ol>
<h5 data-id="heading-16">3ã€ç”Ÿæˆå¼UI</h5>
<p>AIä¸ä»…å¡«å……æ•°æ®ï¼Œè¿˜èƒ½åŠ¨æ€ç”Ÿæˆæˆ–ä¿®æ”¹UIç»„ä»¶æœ¬èº«ã€‚</p>
<p>ä¾‹å­ï¼š ç”¨æˆ·å¯ä»¥è¦æ±‚ä¸€äº›åŠå…¬è½¯ä»¶ä¸­çš„Agentâ€œåœ¨è¡¨æ ¼ä¸­å¢åŠ ä¸€åˆ—ï¼Œæ˜¾ç¤ºæ¯ä¸ªè®¢å•çš„åˆ©æ¶¦ç‡â€ï¼ŒAgentä¼šç›´æ¥ä¿®æ”¹è¡¨æ ¼ç»„ä»¶çš„ç»“æ„ï¼›æˆ–è€…è¦æ±‚â€œç”Ÿæˆä¸€ä¸ªå±•ç¤ºç”¨æˆ·å¢é•¿è¶‹åŠ¿çš„å›¾è¡¨â€ï¼ŒAgentä¼šåœ¨ä»ªè¡¨ç›˜ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„å›¾è¡¨ç»„ä»¶</p>
<hr/>
<h4 data-id="heading-17">3.2.3 å¢åŠ ç”¨æˆ·å¯¹Agentçš„æŒæ§çš„UI</h4>
<h5 data-id="heading-18">1ã€äººåœ¨å›è·¯</h5>
<p>Agentçš„å·¥ä½œæµåœ¨æ‰§è¡Œå…³é”®æˆ–é«˜é£é™©æ“ä½œï¼ˆå¦‚æ’¤é”€git æš‚å­˜åŒºå†…å®¹æ—¶ï¼‰ä¹‹å‰ä¼šè¢«æ˜ç¡®åœ°æš‚åœã€‚UIä¼šæ¸…æ™°åœ°å±•ç¤ºAgentå°†è¦æ‰§è¡Œçš„åŠ¨ä½œåŠå…¶å¯èƒ½å¸¦æ¥çš„åæœï¼Œå¹¶è¦æ±‚ç”¨æˆ·è¿›è¡Œæ˜ç¡®çš„æ‰¹å‡†åæ‰èƒ½ç»§ç»­ ã€‚ Â </p>
<p>ä¾‹å­ï¼šCursor å’Œ Copilot åœ¨agentæ¨¡å¼ä¸‹ï¼Œæ˜¯å¯ä»¥è‡ªåŠ¨æ‰§è¡Œç»ˆç«¯å‘½ä»¤å¹¶è¯»å–æ‰§è¡Œç»“æœçš„çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç»å¤§å¤šæ•°ç»ˆç«¯å‘½ä»¤ï¼ˆå°¤å…¶æ˜¯åˆ é™¤ã€å®‰è£…ä¾èµ–ç­‰ï¼‰éƒ½éœ€è¦ç”¨æˆ·ç‚¹å‡» "Run Command"</p>
<h5 data-id="heading-19">2ã€å¯ç¼–è¾‘è®¡åˆ’ä¸â€œcheck pointâ€å›æº¯</h5>
<p>åœ¨Agentå¼€å§‹æ‰§è¡Œä»»åŠ¡ä¹‹å‰ï¼ŒUIä¼šå±•ç¤ºå…¶å®Œæ•´çš„è¡ŒåŠ¨è®¡åˆ’ã€‚ç”¨æˆ·å¯ä»¥å®¡é˜…ã€ç¼–è¾‘ã€é‡æ–°æ’åºç”šè‡³å–æ¶ˆè®¡åˆ’ä¸­çš„æŸäº›æ­¥éª¤ã€‚</p>
<p>é€šè¿‡â€œcheck pointâ€ï¼Œç”¨æˆ·å¯ä»¥â€œå›æº¯â€åˆ°Agentæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä»»ä¸€å†å²çŠ¶æ€ï¼Œå¹¶ä»è¯¥ç‚¹å¼€å§‹æ¢ç´¢ä¸€æ¡ä¸åŒçš„æ‰§è¡Œè·¯å¾„ ã€‚</p>
<p>ä¾‹å­ï¼šGeminiçš„ç ”ç©¶æ¨¡å¼ æˆ–è€…æ˜¯ Cursor çš„ planæ¨¡å¼\ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca253adc9ae7493c9cc60f3010f457f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54mn5biI5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766329300&amp;x-signature=jO4a89ChRMkvBjil6NT8dorBJ%2FI%3D" alt="image.png" width="50%" loading="lazy"/></p>
<ul>
<li><strong>ä¸­æ–­ä¸æ¢å¤æ§åˆ¶ï¼š</strong> UIå¿…é¡»å§‹ç»ˆæä¾›ä¸€ä¸ªæ˜ç¡®çš„â€œåœæ­¢â€æŒ‰é’®ï¼Œå…è®¸ç”¨æˆ·éšæ—¶ä¸­æ–­æ­£åœ¨è¿è¡Œçš„Agentã€‚ä¸­æ–­åï¼ŒUIåº”æä¾›æ¢å¤ã€é‡è¯•æˆ–æ”¾å¼ƒä»»åŠ¡çš„é€‰é¡¹ ã€‚</li>
</ul>
<br/>
<h2 data-id="heading-20">4. äººæœºäº¤äº’å˜è¿ï¼šâ€œæ“ä½œå‘˜â€ =&gt; â€œæŒ‡æŒ¥å®˜â€</h2>
<p>åœ¨è¿‡å»å‡ åå¹´é‡Œï¼Œ GUIï¼ˆå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼‰å°†ç”¨æˆ·è§„è®­æˆäº†è½¯ä»¶çš„ <strong>â€œæ“ä½œå‘˜â€</strong>ã€‚è€Œåœ¨ Agent æ—¶ä»£ï¼Œäº¤äº’è®¾è®¡çš„ç»ˆæç›®æ ‡æ˜¯å°†äººè¿˜åŸä¸º <strong>â€œå†³ç­–è€…â€</strong>ã€‚</p>
<h3 data-id="heading-21">4.1 Agentæ—¶ä»£çš„Bç«¯äº¤äº’éœ€è¦è§£æ”¾ç”¨æˆ·</h3>
<h4 data-id="heading-22">4.1.1 äº¤äº’é€»è¾‘ï¼šä»â€œè¿‡ç¨‹å¯¼å‘â€åˆ°â€œç»“æœå¯¼å‘â€</h4>
<p>åœ¨ä¼ ç»Ÿçš„ GUIï¼ˆå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼‰ä¸­ï¼Œäº¤äº’æ˜¯<strong>æŒ‡ä»¤å¼</strong>çš„ã€‚
ç”¨æˆ·å¿…é¡»æ¸…æ¥šåœ°çŸ¥é“æ¯ä¸€ä¸ªæ­¥éª¤ï¼šç‚¹å‡»èœå• A <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> é€‰æ‹©å­é¡¹ B <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> è¾“å…¥å‚æ•° C <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> ç‚¹å‡»ç¡®è®¤ã€‚
è¿™æ˜¯ä¸€ç§â€œæ‰‹æŠŠæ‰‹æ•™æœºå™¨åšäº‹â€çš„æ¨¡å¼ï¼Œå¯¹äºä¸€ä¸ªæœ‰æ˜ç¡®ç›®çš„å¤æ‚å·¥ä½œæµæ¥è¯´å¾ˆç¹ç</p>
<p>åœ¨ Agent ä»‹å…¥åï¼Œäº¤äº’å˜æˆäº†<strong>æ„å›¾å¼</strong>çš„ã€‚ç”¨æˆ·ä¸å†å…³æ³¨æ­¥éª¤ï¼Œåªå…³æ³¨ç»“æœï¼šâ€œå¸®æˆ‘æŠŠè¿™å‘¨å¼‚å¸¸çš„ç›‘æ§æ•°æ®å‘ç»™XXXâ€ã€‚ç³»ç»Ÿå†…éƒ¨è‡ªåŠ¨å®Œæˆäº†â€œæ£€ç´¢æ•°æ® <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> è¿‡æ»¤å¼‚å¸¸ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> æ ¼å¼åŒ–æŠ¥è¡¨ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> æŸ¥æ‰¾è”ç³»äºº <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> å‘é€é‚®ä»¶â€è¿™ä¸€ç³»åˆ—å¤æ‚å·¥ä½œæµã€‚</p>
<p>ç”¨æˆ·ä¸å†éœ€è¦è®°å¿†è½¯ä»¶çš„æ“ä½œè·¯å¾„ï¼Œåªéœ€è¦æ¸…æ™°åœ°å®šä¹‰ç›®æ ‡ã€‚</p>
<h4 data-id="heading-23">4.1.2 åé¦ˆæœºåˆ¶ï¼šä»â€œå•å‘æ‰§è¡Œâ€åˆ°â€œåŒå‘å¯¹é½â€</h4>
<p>åœ¨ GUIä¸­ï¼Œåé¦ˆé€šå¸¸æ˜¯äºŒå…ƒçš„ï¼šæˆåŠŸ or å¤±è´¥ã€‚æœºå™¨é»˜è®¤ç”¨æˆ·æ˜¯æ°¸è¿œæ­£ç¡®çš„ï¼Œåªç®¡æ‰§è¡Œã€‚</p>
<p>ä½†åœ¨æ„å›¾å¼äº¤äº’ä¸­ï¼Œç”±äºè‡ªç„¶è¯­è¨€å¤©ç„¶å­˜åœ¨æ¨¡ç³Šæ€§ï¼ˆä¾‹å¦‚ç”¨æˆ·è¯´â€œæ¸…ç†ä¸€ä¸‹â€ï¼Œæ˜¯æŒ‡åˆ é™¤åª’ä½“æ–‡ä»¶è¿˜æ˜¯æ¸…ç†ä¸€ä¸‹æ•°æ®åº“ï¼Ÿï¼‰ï¼Œäº¤äº’çš„é‡å¿ƒä»â€œæ‰§è¡Œâ€è½¬ç§»åˆ°äº†â€œå¯¹é½â€ã€‚</p>
<p>åŒ…æ‹¬ä½†ä¸é™äºä»¥ä¸‹åé¦ˆæœºåˆ¶ï¼š</p>
<ul>
<li><strong>æˆæƒï¼š</strong> Â ç”¨æˆ·å¯ä»¥è®¾å®šAgentçš„æƒé™èŒƒå›´ï¼Œå†³å®šå“ªäº›æ“ä½œå®ƒå¯ä»¥è‡ªåŠ¨æ‰§è¡Œï¼Œå“ªäº›éœ€è¦å®¡æ‰¹ã€‚ æ¯”å¦‚ Copliot å¯ä»¥è®¾ç½®å“ªäº›å‘½ä»¤è¡Œå‘½ä»¤æ˜¯ä¸å¯ä»¥è‡ªåŠ¨æ‰§è¡Œçš„ã€‚</li>
<li><strong>â€œæ€¥åœâ€ä¸æ¥ç®¡ï¼š</strong> Â åœ¨Agentæ‰§è¡Œä»»åŠ¡çš„ä»»ä½•æ—¶åˆ»ï¼Œç”¨æˆ·éƒ½åº”è¯¥å¯ä»¥æš‚åœä»»åŠ¡ï¼Œå®¡æŸ¥çŠ¶æ€ï¼Œç”šè‡³æ‰‹åŠ¨æ¥ç®¡åç»­æ­¥éª¤ã€‚</li>
<li><strong>çº é”™ä¸åé¦ˆï¼š</strong> Â å½“Agentæ‰§è¡Œå‡ºé”™æˆ–ä¸ç¬¦åˆé¢„æœŸæ—¶ï¼Œç”¨æˆ·å¯ä»¥æ–¹ä¾¿åœ°æä¾›åé¦ˆï¼Œå¸®åŠ©Agentå­¦ä¹ å’Œæ”¹è¿›ã€‚</li>
</ul>
<p>è¿™ç§äº¤äº’æ›´åƒäººç±»ä¹‹é—´çš„åä½œï¼š<strong>å¬æ‡‚ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> ç¡®è®¤ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> è¡ŒåŠ¨</strong>ï¼Œè€Œä¸æ˜¯å†°å†·çš„ <strong>ç‚¹å‡» <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> è¿è¡Œ</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-24">4.2 å…·ä½“æœ‰å“ªäº›æ–°çš„äº¤äº’æ¨¡å¼ï¼Ÿ</h3>
<p>äº¤äº’çš„å†…æ ¸æ­£ä»â€œæŒ‡ä»¤é©±åŠ¨â€å‘â€œæ„å›¾é©±åŠ¨â€è¿ç§»ã€‚é¢å¯¹ AI è¾“å‡ºçš„ä¸ç¡®å®šæ€§ä¸ç”Ÿæˆç‰¹æ€§ï¼Œæ—§çš„â€œç‚¹å‡»-å“åº”â€æ¨¡å¼å·²æ‰è¥Ÿè§è‚˜ã€‚ä¸ºäº†è§£å†³è¿™äº›æ–°é—®é¢˜ï¼Œè¡ç”Ÿå‡ºäº†ä¸‰å¤§ç±»å…¨æ–°çš„äº¤äº’æ¨¡å¼ã€‚</p>
<h4 data-id="heading-25">4.2.1 â€œåå•†å¼â€äº¤äº’ï¼šç²¾å‡†å¯¹é½æ„å›¾</h4>
<p>è¿™ç±»æ¨¡å¼çš„æ ¸å¿ƒæ˜¯ä¸ºäº†è§£å†³è‡ªç„¶è¯­è¨€å¤©ç„¶çš„â€œæ¨¡ç³Šæ€§â€ã€‚Agent ä¸å†é—·å¤´æ‰§è¡ŒæŒ‡ä»¤ï¼Œè€Œæ˜¯åƒä¸€ä¸ªç»éªŒä¸°å¯Œçš„åŠ©æ‰‹ï¼Œé€šè¿‡å¤šè½®æ²Ÿé€šæ¥â€œå¯¹é½â€éœ€æ±‚ï¼Œç¡®ä¿åšæ­£ç¡®çš„äº‹ã€‚</p>
<h5 data-id="heading-26">1ã€ä¸»åŠ¨è¿½é—®ä¸æ¾„æ¸…</h5>
<p>å½“ç”¨æˆ·çš„æŒ‡ä»¤å¤ªå®½æ³›æˆ–ç¼ºå°‘å…³é”®å‚æ•°æ—¶ï¼ŒAgent ä¸åº”è¯¥â€œççŒœâ€ï¼ˆé‚£ä¼šå¸¦æ¥ä¸å¯æ§çš„é£é™©ï¼‰ï¼Œè€Œåº”è¯¥é‡‡å–å…œåº•ç­–ç•¥ï¼Œä¸»åŠ¨æŠ›å‡ºé€‰é¡¹æˆ–åé—®ï¼Œå¼•å¯¼ç”¨æˆ·è¡¥å…¨ä¿¡æ¯ã€‚</p>
<p><strong>ä¾‹å­ï¼š</strong> Cursorçš„ Plan æ¨¡å¼<br/>
ç”¨æˆ·çš„ç¼–ç æ„å›¾ä¸å¤Ÿæ¸…æ™°ï¼Œæ–¹æ¡ˆæœ‰æ¨¡ç³Šçš„ç›‘è§†ç©ºé—´ï¼Œplanæ¨¡å¼å°±ä¼šä¸»åŠ¨å‘ç”¨æˆ·è¿›è¡Œè¯¢é—®</p>
<h5 data-id="heading-27">2ã€ä¸Šä¸‹æ–‡é”šå®š</h5>
<p>è¿™æ˜¯â€œLUI+ GUIâ€ååŒå·¥ä½œçš„å…¸å‹åœºæ™¯ã€‚ç”¨æˆ·æ— éœ€è´¹åŠ›ç”¨è¯­è¨€å»æè¿°ä¸€ä¸ªå¤æ‚çš„å¯¹è±¡ï¼Œåªéœ€é€šè¿‡â€œåœˆé€‰â€æˆ–â€œæŒ‡ä»£â€æ¥é”å®šä¸Šä¸‹æ–‡ï¼Œå†è¾…ä»¥è¯­è¨€æŒ‡ä»¤ã€‚</p>
<p><strong>ä¾‹å­ï¼š</strong> Photoshop çš„ Generative Fillï¼ˆåˆ›æˆå¼å¡«å……ï¼‰<br/>
ç”¨æˆ·ç”¨å¥—ç´¢å·¥å…·åœˆé€‰ç”»é¢ä¸­çš„ä¸€åªç‹—ï¼ˆGUI æ“ä½œï¼‰ï¼Œç„¶ååœ¨è¾“å…¥æ¡†é‡Œæ•²ä¸‹â€œæ¢æˆä¸€åªçŒ«â€ï¼ˆLUI æ“ä½œï¼‰ï¼Œç”¨æˆ·ä¸ç”¨è´¹åŠ²æè¿°â€œè¯·æŠŠç”»é¢å·¦ä¸‹è§’åæ ‡ (x,y) å¤„çš„é‚£åªé»‘è‰²å°ç‹—...â€ï¼Œæå¤§é™ä½äº†è¡¨è¾¾æˆæœ¬ã€‚</p>
<h4 data-id="heading-28">4.2.2 â€œå…±åˆ›å¼â€äº¤äº’ï¼šäººæœºå®æ—¶åä½œ</h4>
<p>è¿™ç±»æ¨¡å¼æ—¨åœ¨æ‰“ç ´ä¼ ç»Ÿäº¤äº’â€œä½ è¾“å®ŒæŒ‡ä»¤ã€æˆ‘æ…¢æ…¢è·‘è¿›åº¦æ¡â€çš„å›åˆåˆ¶æ„Ÿï¼Œè®©ç”¨æˆ·å’Œ Agent èƒ½å¤Ÿå®æ—¶é…åˆï¼Œå®ç°äººæœºâ€œåŒé¢‘â€ã€‚</p>
<h5 data-id="heading-29">1ã€æµå¼è¾“å‡ºä¸å³æ—¶å¹²é¢„</h5>
<p>å¤§æ¨¡å‹æ¨ç†éœ€è¦æ—¶é—´ï¼Œç•Œé¢é™¤äº†ç”¨â€œæ‰“å­—æœºæ•ˆæœâ€ç¼“è§£ç­‰å¾…ç„¦è™‘å¤–ï¼Œæ›´å…³é”®çš„æ˜¯è¦å…è®¸ç”¨æˆ·<strong>éšæ—¶æ’å˜´</strong>æˆ–<strong>å«åœ</strong>ã€‚</p>
<p><strong>ä¾‹å­ï¼š</strong> Cursorçš„â€œStop Generatingâ€ä¸å®æ—¶çº å</p>
<p>ä»£ç å†™çš„æœ‰é—®é¢˜ï¼Œæ­¤æ—¶ä½ ä¸éœ€è¦ç­‰å®ƒå…¨å†™å®Œå†ææ„è§ï¼Œè€Œæ˜¯ç›´æ¥ç‚¹åœæ­¢ï¼Œå¹¶ä¸”é‡æ–°æäº¤promptï¼Œcursorä¼šè‡ªåŠ¨æ’¤é”€åŸæ¥æœ‰é—®é¢˜çš„ä»£ç ç”Ÿæˆã€‚ è¿™ç§æœºåˆ¶æŠŠâ€œäº‹åéªŒæ”¶â€å˜æˆäº†â€œäº‹ä¸­çº åâ€ï¼Œæå¤§åœ°å‹ç¼©äº†è¯•é”™æˆæœ¬ã€‚</p>
<h5 data-id="heading-30">2ã€é¢„æµ‹æ€§æ¨è</h5>
<p>Agent åŸºäºå½“å‰ä¸Šä¸‹æ–‡å’Œç”¨æˆ·ç”»åƒï¼Œé¢„åˆ¤ä½ çš„ä¸‹ä¸€æ­¥æ„å›¾ï¼Œå¹¶ç›´æ¥æŠŠâ€œä¸‹ä¸€æ­¥åŠ¨ä½œâ€å°è£…æˆæŒ‰é’®é€’åˆ°ä½ æ‰‹è¾¹ã€‚</p>
<p><strong>ä¾‹å­ï¼š</strong> Cursorã€Geminiã€å…ƒå®å•¥çš„éƒ½æœ‰è¿™ä¸ªåŠŸèƒ½</p>
<hr/>
<h4 data-id="heading-31">4.2.3 â€œæ–¹ä¾¿ä¿®æ­£ç»“æœâ€çš„äº¤äº’</h4>
<p>AI çš„äº§å‡ºå¾€å¾€æ˜¯æ¦‚ç‡æ€§çš„â€œåŠæˆå“â€ã€‚äº¤äº’è®¾è®¡å¿…é¡»æä¾›æä½æˆæœ¬çš„ä¿®æ”¹èƒ½åŠ›ï¼Œè®©ç”¨æˆ·é€šè¿‡ç®€å•çš„æ“ä½œå°†ç»“æœè°ƒæ•´è‡³å®Œç¾ã€‚</p>
<h5 data-id="heading-32">1ã€åŸºäº GUI çš„ä¿®æ­£</h5>
<p>ç”¨æˆ·ä¸éœ€è¦ä¸ºäº†ä¿®æ”¹ä¸€ç‚¹å°ç»†èŠ‚è€Œé‡æ–°ç»„ç»‡Promptï¼Œè€Œæ˜¯ç›´æ¥åœ¨ç”Ÿæˆçš„ GUI ç»„ä»¶ä¸ŠåŠ¨æ‰‹æ”¹ã€‚Agent èƒ½æ„ŸçŸ¥åˆ°è¿™äº›ä¿®æ”¹ï¼Œå¹¶è‡ªåŠ¨åŒæ­¥åˆ°åº•å±‚é€»è¾‘ã€‚</p>
<p><strong>ä¾‹å­ï¼š</strong> Claude çš„ Artifacts é¢„è§ˆä¿®æ”¹</p>
<p>Agent ç”Ÿæˆäº†ä¸€ä¸ªç½‘é¡µæŒ‰é’®ï¼Œé¢œè‰²ä½ ä¸å–œæ¬¢ã€‚ä½ ä¸éœ€è¦æ‰“å­—è¯´â€œæŠŠæŒ‰é’®æ”¹æˆæ·±è“è‰²â€ï¼Œè€Œæ˜¯ç›´æ¥ç”¨å³ä¾§é¢„è§ˆçª—å£é‡Œçš„å–è‰²å™¨å¸å–ä¸€ä¸ªè“è‰²ã€‚ æ­¤æ—¶ï¼ŒAgent ä¼šè‡ªåŠ¨é‡å†™å·¦ä¾§çš„ä»£ç ä»¥åŒ¹é…ä½ çš„è§†è§‰ä¿®æ”¹ã€‚è¿™ç§â€œæ‰€è§å³æ‰€å¾—â€çš„ä¿®æ”¹æ–¹å¼ï¼Œè¿œæ¯”è¯­è¨€æè¿°é«˜æ•ˆã€‚</p>
<h5 data-id="heading-33">2ã€ç»™ç”¨æˆ·é€‰æ‹©é¢˜ï¼</h5>
<p>é’ˆå¯¹åˆ›æ„ç±»æˆ–æ²¡æœ‰æ ‡å‡†ç­”æ¡ˆçš„ä»»åŠ¡ï¼ŒAgent ä¸åšâ€œå¡«ç©ºé¢˜â€è€Œæ˜¯åšâ€œé€‰æ‹©é¢˜â€ã€‚å®ƒä¸€æ¬¡æ€§æä¾›å¤šä¸ªè‰ç¨¿ï¼Œç”¨æˆ·è´Ÿè´£åšå†³ç­–ã€‚</p>
<p><strong>ä¾‹å­ï¼š</strong> Midjourney çš„ U/V æ¨¡å¼ã€‚</p>
<p>è¾“å…¥æç¤ºè¯åï¼Œç³»ç»Ÿå…ˆå‡º 4 å¼ ç¼©ç•¥å›¾ã€‚ç”¨æˆ·ç‚¹å‡»â€œV2â€ï¼ˆåŸºäºç¬¬ 2 å¼ å›¾ç”Ÿæˆå˜ä½“ï¼‰ï¼Œç³»ç»Ÿä¼šä¿ç•™ç¬¬ 2 å¼ å›¾çš„æ„å›¾ï¼Œä»…åœ¨ç»†èŠ‚ä¸Šå¾®è°ƒã€‚ è¿™æ˜¯ä¸€ç§å…¸å‹çš„<strong>é€šè¿‡é€‰æ‹©è¡¨è¾¾å®¡ç¾</strong>ã€‚åœ¨éš¾ä»¥ç”¨è¯­è¨€æè¿°æ¸…æ¥šâ€œå…·ä½“å“ªé‡Œæ„Ÿè§‰ä¸å¯¹â€çš„æ—¶å€™ï¼Œè®©ç”¨æˆ·åšé€‰æ‹©é¢˜æ˜¯æœ€é«˜æ•ˆçš„ã€‚</p>
<br/>
<h2 data-id="heading-34">5. å‰ç«¯å¼€å‘çš„å˜è¿ï¼šé¡µé¢æ„å»º =&gt; åŸå­ç»„ä»¶ + èƒ½åŠ›æ¶æ„</h2>
<p>å‰ç«¯å¼€å‘çš„æ ¸å¿ƒå˜è¿å¯ä»¥ç”¨ä»¥ä¸‹ä¸¤ä¸ªå…¬å¼æè¿°</p>
<p><strong>ä¼ ç»Ÿæ¨¡å¼ï¼š</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mi>I</mi><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>S</mi><mi>t</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">UI = f(State)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">St</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span></span>ã€‚çŠ¶æ€å˜äº†ï¼Œç•Œé¢å˜ã€‚ä½† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span></span> (æ¸²æŸ“é€»è¾‘) æ˜¯å†™æ­»çš„ã€‚</p>
<p><strong>Agent æ¨¡å¼ï¼š</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>U</mi><mi>I</mi><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>I</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo separator="true">,</mo><mi>C</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>x</mi><mi>t</mi><mo separator="true">,</mo><mi>C</mi><mi>o</mi><mi>m</mi><mi>p</mi><mi>o</mi><mi>n</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>s</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">UI = f(Intent, Context, Components)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">t</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal">m</span><span class="mord mathnormal">p</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mclose">)</span></span></span></span></span>ã€‚æ„å›¾å†³å®šå±•ç¤ºä»€ä¹ˆç»„ä»¶ï¼Œä¸Šä¸‹æ–‡å†³å®šå¡«å……ä»€ä¹ˆæ•°æ®ã€‚</p>
<h3 data-id="heading-35">5.1 ç»„ä»¶è®¾è®¡çš„å˜é©ï¼šä»â€œProps å®šä¹‰â€åˆ°â€œè¯­ä¹‰è‡ªè¿°â€</h3>
<p>åœ¨ä¼ ç»Ÿçš„ Vue æˆ– React å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç»„ä»¶ï¼ˆæ¯”å¦‚ä¸€ä¸ªæ—¥æœŸé€‰æ‹©å™¨ï¼‰ï¼Œæœ€å…³æ³¨çš„æ˜¯å®ƒçš„ Propsï¼šéœ€è¦ä¼ ä»€ä¹ˆå€¼ï¼Œè§¦å‘ä»€ä¹ˆäº‹ä»¶ã€‚è¿™æ˜¯å†™ç»™ <strong>äººç±»ç¨‹åºå‘˜</strong> çœ‹çš„ã€‚</p>
<p>ä½†åœ¨ Agent ä½“ç³»ä¸‹ï¼Œç»„ä»¶çš„ç¬¬ä¸€å—ä¼—å˜æˆäº† <strong>AI æ¨¡å‹</strong>ã€‚AI ä¸çœ‹æºç ï¼Œå®ƒéœ€è¦çŸ¥é“è¿™ä¸ªç»„ä»¶â€œæ˜¯å¹²ä»€ä¹ˆçš„ï¼Ÿâ€ã€â€œæ•°æ®ç»“æ„æ˜¯å•¥ï¼Ÿâ€ã€â€œä»€ä¹ˆæ—¶å€™è¯¥ç”¨å®ƒï¼Ÿâ€ã€‚</p>
<p>å› æ­¤ï¼Œå‰ç«¯ç»„ä»¶çš„å¼€å‘æ ‡å‡†å¢åŠ äº†ä¸¤ä¸ªæ–°ç»´åº¦ï¼š</p>
<ol>
<li><strong>è¯­ä¹‰æè¿°ï¼š</strong> ä½ éœ€è¦ç”¨è‡ªç„¶è¯­è¨€å‘Šè¯‰ Agentï¼šâ€œè¿™æ˜¯ä¸€ä¸ªæ—¥æœŸèŒƒå›´é€‰æ‹©å™¨ï¼Œé€‚ç”¨äºéœ€è¦ç­›é€‰ç‰¹å®šæ—¶é—´æ®µæ•°æ®çš„åœºæ™¯ã€‚â€è¿™ç§æè¿°ä¸å†æ˜¯æ³¨é‡Šï¼Œè€Œæ˜¯ä¼šä½œä¸ºç³»ç»Ÿæç¤ºè¯ï¼ˆSystem Promptï¼‰çš„ä¸€éƒ¨åˆ†å®æ—¶å–‚ç»™ AIã€‚</li>
<li><strong>Schema æ ‡å‡†åŒ–ï¼š</strong> ç»„ä»¶çš„è¾“å…¥å¿…é¡»ä¸¥æ ¼éµå¾ª JSON Schema æ ‡å‡†ã€‚å› ä¸º LLMï¼ˆå¤§æ¨¡å‹ï¼‰è¾“å‡ºçš„æ˜¯ç»“æ„åŒ–æ•°æ®ï¼Œå‰ç«¯å¿…é¡»ç¡®ä¿ç»„ä»¶èƒ½æ— ç¼â€œæ¶ˆåŒ–â€ AI ç”Ÿæˆçš„é…ç½®å‚æ•°ï¼Œå…·å¤‡æå¼ºçš„é²æ£’æ€§ï¼Œé¿å…å› å‚æ•°é”™è¯¯å¯¼è‡´é¡µé¢å´©æºƒã€‚</li>
<li><strong>å”¯ä¸€å¯å¯»å€æ€§</strong>ï¼šæ¯ä¸ªç»„ä»¶å®ä¾‹éƒ½åº”æ‹¥æœ‰ä¸€ä¸ªç¨³å®šä¸”å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼ŒAgentå¯ä»¥é€šè¿‡è¿™ä¸ªIDç²¾ç¡®åœ°å¼•ç”¨å®ƒã€‚</li>
<li><strong>APIé©±åŠ¨çš„çŠ¶æ€</strong>ï¼šç»„ä»¶çš„çŠ¶æ€ä¸ä»…åº”èƒ½é€šè¿‡ç”¨æˆ·çš„ç›´æ¥äº¤äº’ï¼ˆå¦‚ç‚¹å‡»ã€è¾“å…¥ï¼‰æ¥æ”¹å˜ï¼Œè¿˜å¿…é¡»èƒ½é€šè¿‡ç¼–ç¨‹æ¥å£è¢«è¯»å–å’Œä¿®æ”¹ã€‚ä¾‹å¦‚ï¼ŒAgentéœ€è¦èƒ½å¤Ÿé€šè¿‡è°ƒç”¨APIæ¥å¯¹è¡¨æ ¼ç»„ä»¶åº”ç”¨ä¸€ä¸ªç­›é€‰æ¡ä»¶ã€‚</li>
</ol>
<p>è¿™ä¸€è½¬å˜æ„å‘³ç€ï¼Œå‰ç«¯ç»„ä»¶å¼€å‘ä¸å†ä»…ä»…æ˜¯å…³äºUIè¿˜åŸå’Œäº¤äº’å¤„ç†ï¼Œæ›´æ˜¯ä¸€é¡¹APIè®¾è®¡å·¥ä½œã€‚ç»„ä»¶éœ€è¦å®šä¹‰æ¸…æ™°çš„APIä¾›Agentè°ƒç”¨ï¼Œè¿˜éœ€è¦èƒ½å¤Ÿæ–‡æ¡£åŒ–å’Œæµ‹è¯•å…¶å¯¹Agentæš´éœ²çš„APIã€‚</p>
<h3 data-id="heading-36">5.2 å‰ç«¯æ•°æ®é€šä¿¡çš„å˜é©ï¼šä»â€œè¯·æ±‚-å“åº”â€åˆ°â€œæµå¼é©±åŠ¨â€</h3>
<p>ä¼ ç»Ÿçš„ CRUD åº”ç”¨ä¸­ï¼Œæ•°æ®æµæ˜¯ç¦»æ•£çš„ï¼šå‘èµ·è¯·æ±‚ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> ç­‰å¾… <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> æ‹¿åˆ°å…¨é‡ JSON <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> æ¸²æŸ“ã€‚</p>
<p>ä½†åœ¨ Agent äº¤äº’ä¸­ï¼Œè¿™ç§æ¨¡å¼ä¼šè®©ç”¨æˆ·ä½“éªŒå´©æºƒã€‚å› ä¸º AI çš„æ¨ç†å’Œç”Ÿæˆæ˜¯ç¼“æ…¢çš„ã€‚å¦‚æœç­‰ 10 ç§’é’Ÿæ‰ä¸€æ¬¡æ€§åˆ·å‡ºç»“æœï¼Œç”¨æˆ·æ—©å°±å…³æ‰äº†é¡µé¢ã€‚</p>
<p>å‰ç«¯çš„æ•°æ®é€šä¿¡æ¶æ„æ­£åœ¨å‘ <strong>æµå¼é©±åŠ¨</strong> è½¬å‹ï¼š</p>
<ul>
<li><strong>å¢é‡æ¸²æŸ“èƒ½åŠ›ï¼š</strong> å‰ç«¯ä¸èƒ½å‚»ç­‰å®Œæ•´çš„ JSONã€‚å½“ Agent åˆšåˆšåå‡º <code>{"type": "chart", "tit...</code> æ—¶ï¼Œå‰ç«¯å°±åº”è¯¥æ¸²æŸ“å‡ºä¸€ä¸ªå¸¦æœ‰æ ‡é¢˜éª¨æ¶çš„å›¾è¡¨å ä½ç¬¦ã€‚éšç€æ•°æ®æµ <code>...le": "Q3 Revenue"}</code> çš„åˆ°è¾¾ï¼Œæ ‡é¢˜è¢«å®æ—¶å¡«å…¥ã€‚</li>
<li><strong>çŠ¶æ€çš„é¢—ç²’åº¦æ›´ç»†ï¼š</strong> æˆ‘ä»¬éœ€è¦å¤„ç†ä¸€ç§å…¨æ–°çš„çŠ¶æ€â€”â€” <strong>â€œæ€è€ƒä¸­â€</strong> ã€‚è¿™ä¸åŒäºä¼ ç»Ÿçš„ <code>loading</code>ã€‚Loading æ˜¯å•çº¯çš„è½¬åœˆï¼Œè€Œ Thinking éœ€è¦å±•ç¤º Agent æ­£åœ¨è°ƒç”¨çš„å·¥å…·ã€æ­£åœ¨é˜…è¯»çš„æ–‡æ¡£ï¼Œç”šè‡³å…è®¸ç”¨æˆ·åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ‰“æ–­ã€‚</li>
</ul>
<p>è¿™å¯¹å‰ç«¯çš„çŠ¶æ€ç®¡ç†åº“æå‡ºäº†å¾ˆé«˜çš„è¦æ±‚ï¼šå®ƒå¿…é¡»èƒ½åƒå¤„ç†æ°´æµä¸€æ ·å¤„ç†æ•°æ®ï¼Œè€Œä¸æ˜¯åƒå¤„ç†ç –å—ä¸€æ ·ã€‚</p>
<h3 data-id="heading-37">5.3 è·¯ç”±ç³»ç»Ÿçš„å˜é©ï¼šä»â€œURL æ˜ å°„â€åˆ°â€œæ„å›¾è·¯ç”±â€</h3>
<p>ä¼ ç»Ÿå‰ç«¯åº”ç”¨ä¸­<code>/user/detail/xxx</code>ç­‰ ä¸¥æ ¼å¯¹åº”ç€ä¸€ä¸ªç»„ä»¶æ ‘ã€‚</p>
<p>ä½†åœ¨æ··åˆæ¸²æŸ“çš„æ¶æ„ä¸­ï¼ŒURL çš„ç»Ÿæ²»åŠ›å¼€å§‹ä¸‹é™ã€‚å½“ç”¨æˆ·è¯´â€œçœ‹çœ‹å¼ ä¸‰çš„ç»©æ•ˆâ€æ—¶ï¼Œç³»ç»Ÿå¯èƒ½ä¸éœ€è¦è·³è½¬ URLï¼Œè€Œæ˜¯ç›´æ¥åœ¨å½“å‰çš„å¯¹è¯æµä¸­â€œæŒ‚è½½â€ä¸€ä¸ªç»©æ•ˆå¡ç‰‡ç»„ä»¶ã€‚</p>
<p>å‰ç«¯çš„è·¯ç”±é€»è¾‘å‘ç”Ÿè£‚å˜ï¼š</p>
<ul>
<li><strong>å®è§‚è·¯ç”±ï¼ˆä¿ç•™ï¼‰ï¼š</strong> ä¾ç„¶ä½¿ç”¨ URL ç®¡ç†å¤§çš„æ¨¡å—ï¼ˆå¦‚â€œå·¥ä½œå°â€ã€â€œè®¾ç½®é¡µâ€ï¼‰ï¼Œä¿è¯æµè§ˆå™¨çš„åˆ·æ–°å’Œå›é€€æœºåˆ¶æ­£å¸¸å·¥ä½œã€‚</li>
<li><strong>å¾®è§‚è·¯ç”±ï¼ˆæ–°å¢ï¼‰ï¼š</strong> åœ¨é¡µé¢å†…éƒ¨ï¼Œå¼•å…¥ä¸€ä¸ª <strong>â€œæ„å›¾å¯¼èˆªâ€</strong>ã€‚å®ƒæ ¹æ® AI è¯†åˆ«å‡ºçš„æ„å›¾ï¼ŒåŠ¨æ€å†³å®šåœ¨å½“å‰è§†å›¾ä¸­åŠ è½½å“ªä¸ªç»„ä»¶ã€‚</li>
</ul>
<p>è¿™æ„å‘³ç€å‰ç«¯æ¶æ„å¿…é¡»æ”¯æŒ<strong>åŠ¨æ€ç»„ä»¶æ³¨å†Œ</strong>å’Œ<strong>æ²™ç®±éš”ç¦»</strong>ï¼Œé˜²æ­¢ AI éšæ„ç”Ÿæˆçš„ç»„ä»¶æŠŠä¸»åº”ç”¨ææŒ‚ã€‚</p>
<h3 data-id="heading-38">5.4 å®¹é”™è®¾è®¡çš„å˜é©ï¼šä»â€œé˜²æ­¢ä»£ç é€»è¾‘é”™è¯¯â€åˆ°â€œç»™Agentçš„å¹»è§‰è¿›è¡Œå®¹é”™â€</h3>
<p>ä¼ ç»Ÿå‰ç«¯çš„ä¸»è¦æ•è·ä»£ç é€»è¾‘é”™è¯¯ï¼ˆæ¯”å¦‚ <code>undefined is not a function</code>ï¼‰ã€‚</p>
<p>ç°åœ¨çš„æŒ‘æˆ˜åœ¨äºï¼šä»£ç æ²¡æŠ¥é”™ï¼Œä½† AIä¸€æœ¬æ­£ç»åœ°èƒ¡è¯´å…«é“ã€‚ æ¯”å¦‚ï¼ŒAI è¿”å›äº†ä¸€ä¸ªä¸å­˜åœ¨çš„æšä¸¾å€¼ï¼Œæˆ–è€…ç”Ÿæˆäº†ä¸€æ®µæ ¼å¼é”™è¯¯çš„ JSONã€‚</p>
<p>å‰ç«¯å¼€å‘å¿…é¡»æ„å»ºä¸€å±‚å®¹é”™æœºåˆ¶ï¼š</p>
<ul>
<li><strong>æ ¡éªŒï¼š</strong> åœ¨æ¸²æŸ“ AI ç”Ÿæˆçš„å†…å®¹å‰ï¼Œå¿…é¡»è¿›è¡Œä¸¥æ ¼çš„ Schema æ ¡éªŒã€‚</li>
<li><strong>é™çº§ï¼š</strong> å¦‚æœ AI æƒ³è¦æ¸²æŸ“ä¸€ä¸ªå¤æ‚çš„å›¾è¡¨ä½†å‚æ•°é”™äº†ï¼Œå‰ç«¯åº”è¯¥èƒ½è‡ªåŠ¨é™çº§æ˜¾ç¤ºä¸ºçº¯æ–‡æœ¬ï¼Œæˆ–è€…æ˜¯æç¤ºç”¨æˆ·â€œæ•°æ®è§£æå¤±è´¥ï¼Œè¯·é‡è¯•â€ï¼Œè€Œä¸æ˜¯ç›´æ¥ç™½å±ã€‚</li>
<li><strong>å¯æ§ï¼š</strong> åœ¨ UI ä¸Šæä¾›â€œé‡æ–°ç”Ÿæˆâ€æˆ–â€œæ‰‹åŠ¨ç¼–è¾‘â€çš„å…¥å£ï¼ŒæŠŠæœ€ç»ˆçš„çº é”™æƒäº¤è¿˜ç»™ç”¨æˆ·ã€‚</li>
</ul>
<h3 data-id="heading-39">5.5 æ€»ç»“</h3>
<p><strong>å‰ç«¯å¹¶æ²¡æœ‰æ­»ï¼Œå®ƒåªæ˜¯å‘ä¸Šè¿›åŒ–äº†ã€‚</strong></p>
<p>æˆ‘ä»¬ä¸å†ä¸“æ³¨äºäºåƒç´ çº§çš„å¯¹é½ã€ç¼–å†™ç¡®å®šçš„ç»„ä»¶ï¼ˆè¿™äº› AI å·²ç»èƒ½å†™å¾—å¾ˆå¥½äº†ï¼‰ï¼Œè€Œæ˜¯å¼€å§‹å…³æ³¨<strong>ç»„ä»¶çš„è¯­ä¹‰ã€æ•°æ®æµçš„å®æ—¶æ€§ã€ä»¥åŠç³»ç»Ÿçš„é²æ£’æ€§</strong>ã€‚</p>
<p>æˆ‘ä»¬å°†ä»<strong>æ„å»ºç•Œé¢</strong>çš„å·¥ç¨‹å¸ˆï¼Œè½¬å˜ä¸º<strong>æ„å»º AI è¿è¡Œæ—¶ç¯å¢ƒ</strong>çš„å·¥ç¨‹å¸ˆã€‚è¿™æ‰æ˜¯ Agent æ—¶ä»£å‰ç«¯å¼€å‘çš„çœŸæ­£ä»·å€¼æ‰€åœ¨ã€‚</p>
<br/>
<h2 data-id="heading-40">6. ä¸€äº›ç³»ç»Ÿæ€§çš„æ€è€ƒé—®é¢˜</h2>
<h3 data-id="heading-41">6.1 Agentè¿›æ­¥é‚£ä¹ˆå¿«ï¼Œä¼šè¯å¼äº¤äº’ï¼ˆè‡ªç„¶è¯­è¨€LUIï¼‰ä¼šå®Œå…¨å–ä»£GUIå—ï¼Ÿ</h3>
<p><strong>ä¸ä¼šï¼</strong></p>
<p><strong>æ‰€æœ‰äº¤äº’åˆ›æ–°éƒ½æ˜¯ä¸ºäº†è¿™ä¸€ä¸ªç›®çš„ï¼šâ€œè®©è¾“å…¥æ›´ç®€å•ï¼Œè®©ç»“æœæ›´æ˜“æ‡‚â€ã€‚</strong></p>
<p>Agentæ—¶ä»£çš„åˆ°æ¥ä¼¼ä¹å†²æ˜äº†ä¸€äº›äº§å“æˆ–è€…äº¤äº’çš„å¤´è„‘ï¼Ÿè®¤ä¸º LUIï¼ˆè¯­è¨€äº¤äº’ï¼‰ä¼šå–ä»£ GUIã€‚</p>
<p>æˆ‘ç°åœ¨å¯ä»¥ä¸¾ä¸€ä¸ªåä¾‹ï¼šåœ¨æ¸¸æˆè¿‡ç¨‹ä¸­ï¼Œä½ æƒ³è®©é£æœºå‡é«˜10ç±³ï¼Œå®é™…ä¸Šç”¨ä¸Šä¸‹å·¦å³çš„æŒ‰é”®ä¼šæ¯”åœ¨èŠå¤©ç•Œé¢è¾“å…¥â€œè¿™å°é£æœºé©¬ä¸Šå‡é«˜10ç±³â€æ›´é«˜æ•ˆå¾—å¤šã€‚</p>
<h5 data-id="heading-42">1ã€GUI çš„æœ¬è´¨ï¼šç›´æ¥æ“ä½œ</h5>
<ul>
<li>
<p><strong>å®šä¹‰ï¼š</strong> ç”¨æˆ·ç›´æ¥ä½œç”¨äºå±å¹•ä¸Šçš„å¯¹è±¡ã€‚æ¯”å¦‚ï¼šä½ çœ‹åˆ°ä¸€ä¸ªæ»‘å—ï¼Œä½ æ‹–åŠ¨å®ƒï¼›ä½ çœ‹åˆ°æ–¹å‘é”®ï¼Œä½ ç‚¹å‡»å®ƒã€‚</p>
</li>
<li>
<p><strong>å¿ƒç†æ¨¡å‹ï¼š</strong> <strong>â€œæ‰‹çœ¼åè°ƒâ€</strong> ã€‚å®ƒæ¨¡æ‹Ÿçš„æ˜¯ç‰©ç†ä¸–ç•Œï¼ˆæ¯”å¦‚å¼€è½¦ã€å¼€é£æœºï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>ä½è®¤çŸ¥è´Ÿè·ï¼š</strong> æ˜¯Recognitionï¼Œçœ‹åˆ°æŒ‰é’®å°±çŸ¥é“èƒ½å¹²å˜›ï¼Œä¸éœ€è¦è®°å¿†æŒ‡ä»¤ã€‚</li>
<li><strong>é›¶å»¶è¿Ÿåé¦ˆï¼š</strong> æŒ‰ä¸‹å³å“åº”ï¼Œå½¢æˆäº†æ¯«ç§’çº§çš„â€œæ„ŸçŸ¥-è¡ŒåŠ¨â€é—­ç¯ã€‚</li>
<li><strong>é«˜ç¡®å®šæ€§ï¼š</strong> æŒ‰é’®ç‚¹äº†å°±æ˜¯å¯¹åº”æŸä¸ªåŠ¨ä½œï¼Œä¸å­˜åœ¨æ­§ä¹‰ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-43">2ã€LUI (è‡ªç„¶è¯­è¨€) çš„æœ¬è´¨ï¼šä»£ç†å§”æ‰˜</h5>
<ul>
<li>
<p><strong>å®šä¹‰ï¼š</strong> ç”¨æˆ·é€šè¿‡è¯­è¨€æè¿°æ„å›¾ï¼Œä¸­é—´å±‚ï¼ˆAgentï¼‰ç†è§£å¹¶æ‰§è¡Œã€‚</p>
</li>
<li>
<p><strong>å¿ƒç†æ¨¡å‹ï¼š</strong> <strong>â€œäººé™…äº¤æµâ€</strong> ã€‚å®ƒæ¨¡æ‹Ÿçš„æ˜¯ä½ è·Ÿä¸€ä¸ªå‰¯é©¾é©¶è¯´è¯ã€‚</p>
</li>
<li>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>æ— é™çš„è¡¨è¾¾ç©ºé—´ï¼š</strong> æŒ‰é’®æ•°é‡æœ‰é™ï¼Œè¯­è¨€çš„ç»„åˆæ— é™ã€‚</li>
<li><strong>é«˜æŠ½è±¡èƒ½åŠ›ï¼š</strong> å¯ä»¥å¤„ç†å¤æ‚çš„é€»è¾‘ï¼ˆæ¯”å¦‚â€œæŠŠæ‰€æœ‰ç”µé‡ä½äº 20% çš„æ— äººæœºå¬å›â€ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-44">3ã€æ¡ˆä¾‹åˆ†æ</h5>
<p>æ¡ˆä¾‹ï¼šåœ¨æ¸¸æˆè¿‡ç¨‹ä¸­ï¼Œä½ æƒ³è®©é£æœºå‡é«˜10ç±³ï¼Œå®é™…ä¸Šç”¨ä¸Šä¸‹å·¦å³çš„æŒ‰é”®ä¼šæ¯”åœ¨èŠå¤©ç•Œé¢è¾“å…¥â€œè¿™å°é£æœºé©¬ä¸Šå‡é«˜10ç±³â€æ›´é«˜æ•ˆå¾—å¤šã€‚</p>
<p>åˆšæ‰â€œé£æœºå‡é«˜â€æ¡ˆä¾‹ï¼Œä¸ºä»€ä¹ˆ GUI å®Œèƒœï¼Ÿ å› ä¸º <strong>â€œç©ºé—´è¿åŠ¨â€æ˜¯ä½ç»´åº¦çš„ã€ç‰©ç†ç›´è§‰çš„ä»»åŠ¡ã€‚</strong> äººè„‘å¯¹ç©ºé—´çš„ç†è§£æ˜¯ç›´æ¥çš„ï¼Œä¸éœ€è¦ç»è¿‡â€œè¯­è¨€ä¸­æ¢â€çš„è½¬è¯‘ã€‚</p>
<ul>
<li><strong>GUI è·¯å¾„ï¼š</strong> çœ¼ç›çœ‹åˆ°ä½ç½® -&gt; å¤§è„‘ç©ºé—´è®¡ç®— -&gt; æ‰‹æŒ‡ç§»åŠ¨ã€‚ï¼ˆå¿«ï¼Œç”Ÿç‰©æœ¬èƒ½ï¼‰</li>
<li><strong>LUI è·¯å¾„ï¼š</strong> çœ¼ç›çœ‹åˆ°ä½ç½® -&gt; å¤§è„‘ç©ºé—´è®¡ç®— -&gt; <strong>è½¬åŒ–ä¸ºè¯­ä¹‰ï¼ˆ"å‡é«˜"ï¼‰</strong> -&gt; <strong>é‡åŒ–æ•°å€¼ï¼ˆ"10ç±³"ï¼‰</strong> -&gt; ç»„ç»‡è¯­è¨€ -&gt; è¾“å…¥ -&gt; AI è§£æ -&gt; æ‰§è¡Œã€‚ï¼ˆæ…¢ï¼Œä¸”å®¹æ˜“ç´¯ï¼‰</li>
</ul>
<h5 data-id="heading-45">4ã€æ–¹æ³•è®º</h5>
<p>åˆ°åº•æ˜¯GUIå¥½è¿˜æ˜¯LUIå¥½ï¼Ÿä»¥ä¸‹ç»™å‡ºä¸¤ä¸ªç»´åº¦è¿›è¡Œè¯„ä¼°ï¼š</p>






























<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>GUI (å›¾å½¢äº¤äº’)</strong></th><th><strong>LUI (è‡ªç„¶è¯­è¨€/AI)</strong></th></tr></thead><tbody><tr><td><strong>æ“ä½œç²’åº¦</strong></td><td><strong>åŸå­çº§æ“ä½œ</strong>ã€‚é€‚åˆå¾®è°ƒã€å®æ—¶æ§åˆ¶ã€‚ï¼ˆå¦‚ï¼šå‘å·¦åä¸€ç‚¹ç‚¹ï¼‰</td><td><strong>æ„å›¾çº§æ“ä½œ</strong>ã€‚é€‚åˆæ‰¹å¤„ç†ã€å¤æ‚æŒ‡ä»¤ã€‚ï¼ˆå¦‚ï¼šæŒ‰é¡ºæ—¶é’ˆå·¡æ£€AåŒºï¼‰</td></tr><tr><td><strong>å­¦ä¹ æ›²çº¿</strong></td><td><strong>åˆå­¦è€…éš¾ï¼Œä¸“å®¶å¿«</strong>ã€‚éœ€è¦å­¦ä¹ ç•Œé¢å¸ƒå±€ï¼Œä½†ç†Ÿç»ƒåå¯å½¢æˆâ€œè‚Œè‚‰è®°å¿†â€ã€‚</td><td><strong>åˆå­¦è€…å¿«ï¼Œä¸“å®¶æ…¢</strong>ã€‚æ— éœ€å­¦ä¹ ï¼ˆä¼šè¯´è¯å°±è¡Œï¼‰ï¼Œä½†æ— æ³•å½¢æˆè‚Œè‚‰è®°å¿†ï¼Œæ¯æ¬¡éƒ½è¦ç»„ç»‡è¯­è¨€ã€‚</td></tr><tr><td><strong>ä¿¡æ¯å¸¦å®½</strong></td><td><strong>è¾“å…¥ä½ï¼Œè¾“å‡ºé«˜</strong>ã€‚é¼ æ ‡åªæœ‰ä¸€ä¸ªåæ ‡ï¼Œä½†å±å¹•èƒ½æ˜¾ç¤ºåƒä¸‡åƒç´ ã€‚</td><td><strong>è¾“å…¥é«˜ï¼Œè¾“å‡ºä½</strong>ã€‚ä¸€å¥è¯åŒ…å«ä¸°å¯Œä¿¡æ¯ï¼Œä½†æ–‡æœ¬è¾“å‡ºå¾€å¾€éš¾ä»¥ä¸€ç›®äº†ç„¶ã€‚</td></tr><tr><td><strong>å®¹é”™ç‡</strong></td><td><strong>ä½é£é™©</strong>ã€‚é€šå¸¸æœ‰é™åˆ¶ï¼Œéš¾ä»¥äº§ç”Ÿä¸¥é‡è¶Šç•Œæ“ä½œã€‚</td><td><strong>é«˜é£é™©</strong>ã€‚å¯èƒ½å› ä¸ºæ­§ä¹‰ï¼ˆå¹»è§‰ï¼‰å¯¼è‡´ç¾éš¾æ€§åæœï¼ˆå¦‚ AI è¯¯è§£äº†â€œé™è½â€å’Œâ€œå è½â€ï¼‰ã€‚</td></tr></tbody></table>
<p>å›åˆ°åˆšæ‰çš„é‚£ä¸ªåŸåˆ™ï¼šâ€œè®©è¾“å…¥æ›´ç®€å•ï¼Œè®©ç»“æœæ›´æ˜“æ‡‚â€ã€‚</p>
<ul>
<li>å¯¹äºåœ¨æ¸¸æˆä¸­ç§»åŠ¨é£æœºï¼šæ¨æ‘‡æ†æ˜¯è¾“å…¥æœ€ç®€å•ï¼ˆç¬¦åˆç›´è§‰ï¼‰ï¼Œçœ‹é£æœºåŠ¨äº†æ˜¯ç»“æœæœ€æ˜“æ‡‚ï¼ˆè§†è§‰åé¦ˆï¼‰ã€‚</li>
<li>å¯¹äºæ•°æ®æŸ¥è¯¢ï¼šè¯´å¥è¯æ˜¯è¾“å…¥æœ€ç®€å•ï¼ˆçœå»ç­›é€‰ï¼‰ï¼Œçœ‹ç”Ÿæˆçš„å›¾è¡¨æ˜¯ç»“æœæœ€æ˜“æ‡‚ã€‚</li>
</ul>
<p>çœŸæ­£é«˜æ•ˆçš„äº¤äº’åº”è¯¥åº”è¯¥é‡‡ç”¨ <strong>GUI + LUI</strong> çš„æ–¹å¼ï¼š</p>
<ul>
<li>
<p>ä¿ç•™ä¸“ä¸šçš„æ§åˆ¶é¢æ¿æˆ–è€…å›¾è¡¨ï¼ˆGUIï¼‰ï¼Œç”¨äºé«˜é¢‘ã€å®æ—¶ã€ç²¾ç»†æ“ä½œã€‚</p>
</li>
<li>
<p>åµŒå…¥â€œå‰¯é©¾é©¶â€ ï¼ˆLUIï¼‰ï¼šç”¨äºè·¨èœå•è°ƒç”¨åŠŸèƒ½ã€å¤æ‚æ•°æ®åˆ†æç­‰æ„å›¾çº§æ“ä½œã€‚</p>
</li>
<li>
<p>å…³é”®ç‚¹ï¼š AI çš„è¾“å‡ºï¼Œæœ€å¥½æ˜¯ GUI ç»„ä»¶ã€‚</p>
<ul>
<li><em>é”™è¯¯åšæ³•ï¼š</em> ç”¨æˆ·é—®â€œè¡¨ä¸­å“ªä¸ªè®¾å¤‡ç›®å‰å¾…æ›´æ¢ï¼Ÿâ€ï¼ŒAI å›ç­”æ–‡å­—â€œ3å·é£æœºå¾…æ›´æ¢â€ã€‚</li>
<li><em>æ­£ç¡®åšæ³•ï¼š</em> ç”¨æˆ·é—®â€œè¡¨ä¸­å“ªä¸ªè®¾å¤‡ç›®å‰å¾…æ›´æ¢ï¼Ÿâ€ï¼ŒAI ç›´æ¥æŠŠè¡¨æ ¼ä¸Šçš„ 3 å·è®¾å¤‡<strong>é«˜äº®é—ªçƒ</strong>ï¼Œå¹¶åœ¨ä¾§è¾¹æ å¼¹å‡ºå®ƒçš„è¯¦ç»†çŠ¶æ€å¡ç‰‡ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-46">6.2 äº¤äº’å…ƒç´ çš„â€œè€ƒå¤åˆ†æâ€</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d9b75d1264d44ff9ee52ecd6fbdef49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54mn5biI5p2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766329300&amp;x-signature=0oIQDuEa7i4Pqz%2FTjBvQ4cfiQmg%3D" alt="image.png" loading="lazy"/></p>
<p>è¦è®²è®¡ç®—æœºä¸Šçš„äººæœºäº¤äº’å˜é©ï¼Œè‚¯å®šç¦»ä¸å¼€æ–½ä¹+è‹¹æœå½“å¹´å‘æ‰¬å…‰å¤§çš„GUIã€‚GUIå’ŒNUIåœ¨ç°åœ¨ä¼¼ä¹ç¨€æ¾å¹³å¸¸ï¼Œä½†æ˜¯å½“å¹´å®é™…ä¸Šéšå«ç€å¾ˆå¤šæ·±å±‚çš„æ€è€ƒå’Œä»·å€¼ï¼Œè¿™æå¤§åœ°æ”¹å˜äº†æˆ‘ä»¬ç°åœ¨çš„ä¸–ç•Œã€‚</p>
<p><strong>å¾ˆæœ‰å¿…è¦è€ƒè€ƒå¤ï¼Œæ‰èƒ½æŒ‡å¯¼æœªæ¥çš„è®¾è®¡ï¼</strong></p>
<h4 data-id="heading-47">6.2.1 PC GUI</h4>
<p>æ‰€ä»¥è¦è®²Agentçš„äº¤äº’å…ƒç´ çš„æ€è€ƒï¼Œè‚¯å®šè¦å…ˆè®²æ¸…æ¥šGUIæ—¶ä»£çš„å†…å®¹</p>
<h5 data-id="heading-48">1ã€<strong>Icon å›¾æ ‡</strong></h5>
<ul>
<li><strong>æ€è€ƒï¼š</strong> åœ¨å‘½ä»¤è¡Œï¼ˆCLIï¼‰æ—¶ä»£ï¼Œç”¨æˆ·å¿…é¡»è®°ä½å‘½ä»¤ï¼ˆå¦‚ <code>delete</code> æˆ– <code>rm</code>ï¼‰ã€‚å›¾æ ‡çš„å‡ºç°åˆ©ç”¨äº†äººç±»ä»ç‰©ç†ä¸–ç•Œç»§æ‰¿æ¥çš„è§†è§‰ç»éªŒâ€”â€”æ¯”å¦‚ç”¨ä¸€ä¸ªâ€œåƒåœ¾æ¡¶â€ä»£è¡¨åˆ é™¤ï¼Œç”¨ä¸€ä¸ªâ€œæ”¾å¤§é•œâ€ä»£è¡¨æœç´¢ã€‚è¿™æœ¬è´¨ä¸Šæ˜¯ä¸€ç§<strong>è¯­ä¹‰çš„è§†è§‰å‹ç¼©</strong>ã€‚</li>
<li><strong>ä»·å€¼ï¼š</strong> å®ƒæ˜¯<strong>è®¤çŸ¥è´Ÿè·çš„æåº¦å‡è´Ÿ</strong>ã€‚å®ƒå»ºç«‹äº†ä¸€åº§é€šç”¨çš„æ¡¥æ¢ï¼Œè·¨è¶Šäº†è¯­è¨€éšœç¢ï¼ˆä¸è¯†å­—çš„äººä¹Ÿèƒ½çœ‹æ‡‚å›¾æ ‡ï¼‰ï¼Œè®©è®¡ç®—æœºçš„æ“ä½œä»â€œèƒŒè¯µè¯­æ³•â€å˜æˆäº†â€œçœ‹å›¾è¯´è¯â€ï¼Œæå¤§åœ°é™ä½äº†æ•°å­—ä¸–ç•Œçš„å‡†å…¥é—¨æ§›ã€‚</li>
</ul>
<h5 data-id="heading-49">2ã€ <strong>Menu èœå•</strong></h5>
<ul>
<li><strong>æ€è€ƒï¼š</strong> è½¯ä»¶çš„åŠŸèƒ½å¾€å¾€æˆç™¾ä¸Šåƒï¼Œå¦‚æœå…¨éƒ¨é“ºåœ¨å±å¹•ä¸Šï¼Œç”¨æˆ·ä¼šå´©æºƒã€‚èœå•æœ¬è´¨ä¸Šæ˜¯ä¸€ç§<strong>ä¿¡æ¯çš„åˆ†ç±»</strong> ã€‚å®ƒé€šè¿‡å±‚çº§ç»“æ„ï¼ˆæ–‡ä»¶ã€ç¼–è¾‘ã€è§†å›¾ï¼‰å°†æ··ä¹±çš„åŠŸèƒ½æœ‰åºæŠ˜å ã€‚å®ƒè§£å†³çš„æ˜¯ <strong>â€œæœ‰é™å±å¹•â€ä¸â€œæ— é™è½¯ä»¶åŠŸèƒ½â€ä¹‹é—´çš„çŸ›ç›¾</strong>ã€‚</li>
<li><strong>ä»·å€¼ï¼š</strong> å®ƒæä¾›äº†<strong>å¯å‘ç°æ€§</strong>å’Œ <strong>å®‰å…¨æ„Ÿ</strong>ã€‚ç”¨æˆ·ä¸éœ€è¦é¢„å…ˆçŸ¥é“è½¯ä»¶èƒ½åšä»€ä¹ˆï¼Œåªè¦æ‰“å¼€èœå•é€›ä¸€é€›å°±èƒ½çŸ¥é“ã€‚å®ƒä¸ºç”¨æˆ·å»ºç«‹äº†ä¸€å¼ â€œåŠŸèƒ½åœ°å›¾â€ï¼Œè®©ç”¨æˆ·åœ¨é¢å¯¹åºå¤§ç³»ç»Ÿæ—¶ï¼Œèƒ½é€šè¿‡é€»è¾‘æ¨æ¼”æ‰¾åˆ°ç›®æ ‡ï¼Œè€Œä¸æ˜¯ç›²ç›®ä¹±æ’ã€‚</li>
</ul>
<h5 data-id="heading-50">3ã€<strong>Pointing æŒ‡ç‚¹è®¾å¤‡ï¼ˆé¼ æ ‡/å…‰æ ‡ï¼‰</strong></h5>
<ul>
<li><strong>æ€è€ƒï¼š</strong> åœ¨é”®ç›˜äº¤äº’æ—¶ä»£ï¼Œæ“ä½œæ˜¯çº¿æ€§çš„ã€ç¦»æ•£çš„ã€‚è€Œé¼ æ ‡å¼•å…¥äº†<strong>äºŒç»´ç©ºé—´åæ ‡</strong>çš„æ¦‚å¿µã€‚å®ƒå°†äººç±»çš„æ‰‹éƒ¨åŠ¨ä½œï¼ˆç‰©ç†ä½ç§»ï¼‰æ˜ å°„åˆ°å±å¹•ä¸Šçš„å…‰æ ‡è¿åŠ¨ï¼ˆè™šæ‹Ÿä½ç§»ï¼‰ã€‚è¿™å¼•å…¥äº†<strong>è´¹èŒ¨å®šå¾‹</strong> ï¼šæ“ä½œæ•ˆç‡å–å†³äºç›®æ ‡çš„å¤§å°å’Œè·ç¦»ã€‚å®ƒæ˜¯â€œæ‰‹çœ¼åè°ƒâ€åœ¨æ•°å­—ä¸–ç•Œçš„ç¬¬ä¸€æ¬¡å®Œç¾æŠ•å°„ã€‚</li>
<li><strong>ä»·å€¼ï¼š</strong> ç”¨æˆ·å¯ä»¥è·³è¿‡å±å¹•ä¸Šçš„ä»»ä½•å†…å®¹ï¼Œç›´æ¥<strong>éšæœºè®¿é—®</strong>ä»»ä½•ä»–æƒ³æ“ä½œçš„é‚£ä¸ªåƒç´ ç‚¹ï¼Œè€Œä¸å¿…åƒå¡«å†™è¡¨æ ¼ä¸€æ ·æŒ‰ Tab é”®é€ä¸ªåˆ‡æ¢ã€‚</li>
</ul>
<h5 data-id="heading-51">4ã€<strong>Windows çª—å£</strong></h5>
<ul>
<li><strong>æ€è€ƒï¼š</strong> åœ¨å•ä»»åŠ¡æ—¶ä»£ï¼ˆDOSï¼‰ï¼Œå±å¹•å°±æ˜¯å…¨éƒ¨ã€‚çª—å£çš„å‘æ˜ï¼Œåˆ›é€ äº† **â€œå±å¹•ä¸­çš„å±å¹•â€ ** ã€‚å®ƒæ¨¡æ‹Ÿäº†ç‰©ç†ä¸–ç•Œä¸­çš„â€œåŠå…¬æ¡Œæ¡Œé¢â€ï¼šä½ å¯ä»¥åŒæ—¶æ‘Šå¼€å¥½å‡ ä»½æ–‡ä»¶ï¼Œæœ‰çš„åœ¨ä¸Šé¢ï¼Œæœ‰çš„è¢«å‹åœ¨ä¸‹é¢ã€‚å®ƒåœ¨å¿ƒç†å­¦ä¸Šå¥‘åˆäº†äººç±»çš„ <strong>å·¥ä½œè®°å¿†</strong> æ¨¡å‹â€”â€”æˆ‘ä»¬éœ€è¦åŒæ—¶å…³æ³¨å¤šä¸ªç›¸å…³è”çš„ä¿¡æ¯æºã€‚</li>
<li><strong>ä»·å€¼ï¼š</strong> å®ƒå®ç°äº†<strong>å¤šä»»åŠ¡å¹¶è¡Œä¸ä¿¡æ¯éš”ç¦»</strong>ã€‚ç”¨æˆ·å¯ä»¥åœ¨ä¸€ä¸ªçª—å£çœ‹æ–‡æ¡£ï¼Œåœ¨å¦ä¸€ä¸ªçª—å£å†™ä»£ç ï¼Œæ— éœ€é¢‘ç¹åˆ‡æ¢ä¸Šä¸‹æ–‡å¯¼è‡´æ€è·¯ä¸­æ–­ã€‚å®ƒé€šè¿‡<strong>ç©ºé—´å¤ç”¨</strong>ï¼Œè®©æœ‰é™çš„æ˜¾ç¤ºå™¨æ‰¿è½½äº†é€»è¾‘ä¸Šæ— é™çš„ä¿¡æ¯æµã€‚</li>
</ul>
<h5 data-id="heading-52">5ã€<strong>Toast è½»æç¤ºï¼š</strong></h5>
<ul>
<li><strong>æ€è€ƒï¼š</strong> å¼¹çª— model ä¼šå¼ºè¡Œæ‰“æ–­ç”¨æˆ·ï¼Œå¼ºè¿«ç”¨æˆ·ç‚¹å‡»â€œç¡®å®šâ€ã€‚</li>
<li><strong>ä»·å€¼ï¼š</strong> å®ƒæ˜¯<strong>éé˜»æ–­å¼</strong>çš„åé¦ˆã€‚å®ƒæ‰¿è®¤â€œç”¨æˆ·çš„æ³¨æ„åŠ›å¾ˆå®è´µâ€ï¼Œåªåœ¨è§†è§‰è¾¹ç¼˜å‘ŠçŸ¥ç»“æœï¼ˆå¦‚â€œä¿å­˜æˆåŠŸâ€ï¼‰ï¼Œè®©äº¤äº’çš„ä¸»æµç¨‹ä¸è¢«æ‰“æ–­ã€‚</li>
</ul>
<h4 data-id="heading-53">6.2.2 ç§»åŠ¨äº’è”ç½‘NUIï¼ˆè§¦æ§ä¸æ„ŸçŸ¥ï¼‰</h4>
<p>åœ¨ç§»åŠ¨ç«¯ï¼Œå±å¹•å˜å°äº†ï¼Œé¼ æ ‡æ¶ˆå¤±äº†ï¼Œäº¤äº’ä»â€œæŒ‡å‘â€å˜æˆäº†â€œç›´æ¥æ“çºµâ€ã€‚</p>
<h5 data-id="heading-54">1ã€<strong>æ‰‹åŠ¿ï¼ˆæ»‘åŠ¨/æåˆï¼‰ï¼š</strong></h5>
<ul>
<li><strong>æ€è€ƒï¼š</strong> PC GUIé‡Œçš„æ»šåŠ¨æ¡æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ§ä»¶ï¼Œç”¨æˆ·éœ€è¦æŠŠé¼ æ ‡ç§»è¿‡å»æ‹–åŠ¨å®ƒã€‚è€Œæ‰‹åŠ¿è®©ç”¨æˆ·<strong>ç›´æ¥ä½œç”¨äºå†…å®¹æœ¬èº«</strong>ã€‚</li>
<li><strong>ä»·å€¼ï¼š</strong> å®ƒæ˜¯â€œåŠ¨ä½œâ€ä¸â€œç»“æœâ€çš„é›¶è·ç¦»èåˆã€‚ç”¨æˆ·æƒ³ç¿»é¡µï¼Œç›´æ¥æ‹¨åŠ¨é¡µé¢ï¼Œè€Œä¸æ˜¯æ‹¨åŠ¨æ§åˆ¶å™¨ï¼ˆæ»šåŠ¨æ¡ï¼‰ã€‚è¿™æå¤§é™ä½äº†æ“ä½œçš„æŠ½è±¡ç¨‹åº¦ã€‚</li>
</ul>
<h5 data-id="heading-55">2ã€<strong>ä¸‹æ‹‰åˆ·æ–°</strong></h5>
<ul>
<li><strong>æ€è€ƒï¼š</strong> è¿™æ˜¯ä¸€ä¸ªæå…¶ç»å…¸çš„å‘æ˜ã€‚å®ƒåˆ©ç”¨äº†è‡ªç„¶çš„ç‰©ç†éšå–»ï¼ˆåƒæ‹‰åŠ¨å¼¹ç°§ä¸€æ ·ï¼‰ã€‚</li>
<li><strong>ä»·å€¼ï¼š</strong> å®ƒåˆ›é€ äº†ä¸€ä¸ª**â€œæ— ç•Œé¢â€çš„æŒ‰é’®**ã€‚ç”¨æˆ·ä¸éœ€è¦å¯»æ‰¾â€œåˆ·æ–°â€å›¾æ ‡ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ç§ç¬¦åˆç›´è§‰çš„åŠ¨å¾‹ï¼ˆRitualï¼‰æ¥è§¦å‘æ›´æ–°ï¼ŒåŒæ—¶é€šè¿‡å›å¼¹åŠ¨ç”»å‘ŠçŸ¥ç”¨æˆ·â€œç³»ç»Ÿæ­£åœ¨å¤„ç†â€ã€‚</li>
</ul>
<h5 data-id="heading-56">3ã€<strong>ä¾§æ»‘æ“ä½œï¼ˆåˆ—è¡¨é¡¹å·¦æ»‘/å³æ»‘ï¼‰</strong></h5>
<p>æ’ä¸€å¥ï¼Œç©è¿‡â€œæ¢æ¢â€çš„æœ‹å‹ä»¬æœ‰æ²¡æœ‰æƒ³è¿‡å·¦æ»‘å³æ»‘ä¸æ„Ÿå…´è¶£çš„åŒ¹é…å¯¹è±¡çš„äº¤äº’é€»è¾‘ï¼Ÿä»¥ä¸‹è§£æåº”è¯¥å¯ä»¥å¸®åŠ©ä½ ä»¬</p>
<ul>
<li><strong>æ€è€ƒï¼š</strong> åœ¨ PC GUI æ—¶ä»£ï¼Œå¤„ç†åˆ—è¡¨æ•°æ®ï¼ˆå¦‚é‚®ä»¶ï¼‰é€šå¸¸éœ€è¦ä¸‰æ­¥ï¼š1. é€‰ä¸­æŸä¸€è¡Œï¼›2. ç§»åŠ¨é¼ æ ‡å»æ‰¾å·¥å…·æ ä¸Šçš„â€œåˆ é™¤â€å›¾æ ‡ï¼›3. ç‚¹å‡»ç¡®è®¤ã€‚è€Œä¾§æ»‘æ“ä½œåˆ©ç”¨äº† â€œæ‰”æ‰â€ çš„ç‰©ç†éšå–»ã€‚</li>
<li><strong>ä»·å€¼ï¼š</strong> å®ƒæ˜¯<strong>é«˜é¢‘å†³ç­–çš„æé€Ÿé€šé“</strong>ã€‚å®ƒå°†â€œé€‰æ‹©å¯¹è±¡â€ä¸â€œæ‰§è¡ŒåŠ¨ä½œâ€åˆäºŒä¸ºä¸€ã€‚ç”¨æˆ·ä¸éœ€è¦æŠŠè§†çº¿ä»å†…å®¹ï¼ˆé‚®ä»¶æ ‡é¢˜ï¼‰ç§»å¼€å»å¯»æ‰¾æŒ‰é’®ï¼Œæ‰‹æŒ‡ä¸€æ»‘å³å¤„ç†ã€‚è¿™ç§äº¤äº’æå¤§åœ°æå‡äº†ä¿¡æ¯ç­›é€‰å’Œæ¸…ç†çš„æ•ˆç‡ï¼ˆå¦‚ æ¢æ¢ çš„å·¦æ»‘å³æ»‘ï¼ŒMail çš„æ»‘åŠ¨å½’æ¡£ï¼‰ã€‚</li>
</ul>
<h5 data-id="heading-57">4ã€<strong>Haptic Touch é•¿æŒ‰å‘¼å‡º</strong></h5>
<ul>
<li><strong>æ€è€ƒï¼š</strong> ç§»åŠ¨è®¾å¤‡æ²¡æœ‰é¼ æ ‡å³é”®ï¼Œå±å¹•åªæœ‰äºŒç»´å¹³é¢ï¼ˆXè½´å’ŒYè½´ï¼‰ã€‚é•¿æŒ‰æ“ä½œå¼•å…¥äº†<strong>æ—¶é—´ç»´åº¦</strong>ï¼ˆæˆ–å‹åŠ›ç»´åº¦ï¼Œå¦‚ 3D Touchï¼‰ï¼Œæ¨¡æ‹Ÿäº†<strong>Zè½´çš„æ·±åº¦</strong>ã€‚å®ƒç±»ä¼¼äºåœ¨ç‰©ç†ä¸–ç•Œä¸­â€œæ³¨è§†â€æˆ–â€œç”¨åŠ›æŒ‰å‹â€ä¸€ä¸ªç‰©ä½“ä»¥æ¢ç©¶å…¶å†…éƒ¨ç»“æ„ã€‚</li>
<li><strong>ä»·å€¼ï¼š</strong> å®ƒæ˜¯<strong>æ¸è¿›å¼çš„ä¿¡æ¯æŠ«éœ²</strong>ã€‚å®ƒå…è®¸ç•Œé¢ä¿æŒç®€æ´ï¼ˆä¸å±•ç¤ºå¤æ‚çš„èœå•æŒ‰é’®ï¼‰ï¼Œä½†åˆéšè—äº†æ·±åº¦çš„æ“ä½œé€‰é¡¹ï¼ˆå¦‚å¿«æ·æ–¹å¼ã€é¢„è§ˆï¼‰ã€‚å®ƒè§£å†³äº†ç§»åŠ¨ç«¯â€œå±å¹•å¤ªå°â€ä¸â€œåŠŸèƒ½å¤ªå¤šâ€çš„çŸ›ç›¾ï¼Œè®©ç”¨æˆ·åœ¨ä¸ç¦»å¼€å½“å‰é¡µé¢çš„æƒ…å†µä¸‹è·å–ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</li>
</ul>
<h5 data-id="heading-58">5ã€<strong>æ— é™æ»šåŠ¨ï¼ˆç€‘å¸ƒæµï¼‰</strong></h5>
<ul>
<li><strong>æ€è€ƒï¼š</strong> WIMP æ—¶ä»£çš„ç½‘é¡µæµè§ˆåŸºäºâ€œåˆ†é¡µå™¨â€ï¼Œçœ‹å®Œäº†è¦ç‚¹â€œä¸‹ä¸€é¡µâ€ï¼Œè¿™å¼ºè¿«ç”¨æˆ·è¿›è¡Œä¸€æ¬¡â€œæ˜¯å¦ç»§ç»­â€çš„ç†æ€§å†³ç­–ï¼Œæ‰“æ–­äº†ä½“éªŒã€‚è€Œæ— é™æ»šåŠ¨åˆ›é€ äº† <strong>â€œæµï¼ˆStreamï¼‰â€</strong> çš„éšå–»ï¼Œå†…å®¹åƒæ°´æµä¸€æ ·æºæºä¸æ–­ã€‚</li>
<li><strong>ä»·å€¼ï¼š</strong> å®ƒåˆ›é€ äº†<strong>æ²‰æµ¸å¼çš„æ— æ„è¯†æ¶ˆè´¹</strong>ã€‚æ¶ˆé™¤äº†â€œç¿»é¡µâ€å¸¦æ¥çš„è®¤çŸ¥ä¸­æ–­ï¼Œæå¤§åœ°å»¶é•¿äº†ç”¨æˆ·åœç•™æ—¶é—´ã€‚å¯¹äºå†…å®¹å‹äº§å“ï¼Œè¿™æ˜¯å°†ç”¨æˆ·ç•™å­˜ç‡æœ€å¤§åŒ–çš„â€œäº¤äº’é»‘æ´â€ã€‚</li>
</ul>
<h5 data-id="heading-59">6ã€<strong>åº•éƒ¨çš„å¯¼èˆªæ </strong></h5>
<ul>
<li><strong>æ€è€ƒï¼š</strong> PC GUIçš„å¯¼èˆªæ é€šå¸¸åœ¨é¡¶éƒ¨æˆ–å·¦ä¾§ï¼ˆä¸ºäº†é…åˆ F å‹é˜…è¯»é¡ºåºï¼‰ã€‚ä½†ç§»åŠ¨è®¾å¤‡çš„äº¤äº’æ ¸å¿ƒé™åˆ¶æ˜¯ <strong>â€œæ‹‡æŒ‡çƒ­åŒºâ€</strong>ã€‚åº•éƒ¨å¯¼èˆªæ æ˜¯å¯¹äººä½“å·¥ç¨‹å­¦çš„å¦¥åä¸å°Šé‡ã€‚</li>
<li><strong>ä»·å€¼ï¼š</strong> åœ¨é«˜é¢‘åˆ‡æ¢çš„æ ¸å¿ƒåŠŸèƒ½åŒºï¼Œç”¨æˆ·ä¸éœ€è¦è°ƒæ•´æ¡æŒå§¿åŠ¿ï¼Œæ‹‡æŒ‡ä»…éœ€å¾®åŠ¨å³å¯å®Œæˆè·¯ç”±è·³è½¬ã€‚è¿™æ˜¯ç¡¬ä»¶å½¢æ€ï¼ˆå•æ‰‹æ¡æŒï¼‰åå‘å®šä¹‰è½¯ä»¶äº¤äº’çš„å…¸å‹æ¡ˆä¾‹ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[webpackç¼–è¯‘ä¸­ä¸ºä»€ä¹ˆä¸å»ºè®®loadæ›¿æ¢astä¸­èŠ‚ç‚¹åˆ é™¤consolg.log]]></title>    <link>https://juejin.cn/post/7583576605780721710</link>    <guid>https://juejin.cn/post/7583576605780721710</guid>    <pubDate>2025-12-14T15:02:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583576605780721710" data-draft-id="7571768210715901967" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="webpackç¼–è¯‘ä¸­ä¸ºä»€ä¹ˆä¸å»ºè®®loadæ›¿æ¢astä¸­èŠ‚ç‚¹åˆ é™¤consolg.log"/> <meta itemprop="keywords" content="å‰ç«¯,Webpack,JavaScript"/> <meta itemprop="datePublished" content="2025-12-14T15:02:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‹‰ä¸åŠ¨çš„çŒª"/> <meta itemprop="url" content="https://juejin.cn/user/1429793504759630"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            webpackç¼–è¯‘ä¸­ä¸ºä»€ä¹ˆä¸å»ºè®®loadæ›¿æ¢astä¸­èŠ‚ç‚¹åˆ é™¤consolg.log
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1429793504759630/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‹‰ä¸åŠ¨çš„çŒª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T15:02:14.000Z" title="Sun Dec 14 2025 15:02:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><p>åœ¨ Webpack ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œä¸å»ºè®®ä»…é€šè¿‡ loader ç›´æ¥æ›¿æ¢ / åˆ é™¤ä»£ç ä¸­çš„Â <code>console.log</code>ï¼Œ<strong>æ ¸å¿ƒåŸå› æ˜¯ã€Œloader æ›¿æ¢çš„å±€é™æ€§ã€ä¼šå¯¼è‡´ä»£ç ç¨³å®šæ€§ã€å¯ç»´æŠ¤æ€§ã€è°ƒè¯•æ•ˆç‡å—æŸï¼Œä¸”å­˜åœ¨æ›´ä¼˜çš„æ›¿ä»£æ–¹æ¡ˆ</strong>ã€‚ä»¥ä¸‹ä»ã€Œæ ¸å¿ƒé—®é¢˜ã€åœºæ™¯é£é™©ã€æ­£ç¡®æ–¹æ¡ˆã€ä¸‰ä¸ªç»´åº¦è¯¦ç»†è§£æï¼š</p>
<h3 data-id="heading-0">ä¸€ã€loader æ›¿æ¢ console.log çš„æ ¸å¿ƒé—®é¢˜</h3>
<p>Loader çš„æ ¸å¿ƒä½œç”¨æ˜¯<strong>è½¬æ¢æ¨¡å—çš„æºä»£ç </strong>ï¼ˆå¦‚ tsâ†’jsã€lessâ†’cssï¼‰ï¼Œå…¶è®¾è®¡é€»è¾‘æ˜¯ â€œæŒ‰æ¨¡å—å¤„ç†ã€æ–‡æœ¬æ›¿æ¢â€ï¼Œä½†ç”¨å®ƒå¤„ç†Â <code>console.log</code>Â ä¼šæš´éœ²ä»¥ä¸‹è‡´å‘½é—®é¢˜ï¼š</p>
<h4 data-id="heading-1">1. è¯­æ³•é²æ£’æ€§æå·®ï¼šæ˜“ç ´ååˆæ³•ä»£ç </h4>
<p><code>console.log</code>Â çš„å†™æ³•é«˜åº¦çµæ´»ï¼ˆå‚æ•°ã€åµŒå¥—ã€åŠ¨æ€è°ƒç”¨ï¼‰ï¼Œloader åŸºäº â€œæ­£åˆ™ / ç®€å•å­—ç¬¦ä¸²æ›¿æ¢â€ æ— æ³•ç²¾å‡†è¯†åˆ«ï¼Œææ˜“è¯¯æ”¹åˆæ³•ä»£ç ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// 1. åˆæ³•åœºæ™¯è¢«è¯¯æ›¿æ¢</span>
<span class="hljs-type">const</span> console = { <span class="hljs-built_in">log</span>: (msg) =&gt; alert(msg) }; <span class="hljs-comment">// è‡ªå®šä¹‰ console å¯¹è±¡</span>
console.<span class="hljs-built_in">log</span>(<span class="hljs-string">"æ­£å¸¸ä¸šåŠ¡é€»è¾‘"</span>); <span class="hljs-comment">// loader æ›¿æ¢åå˜æˆ undefined.log(...)ï¼Œç›´æ¥æŠ¥é”™</span>

<span class="hljs-comment">// 2. åµŒå¥—åœºæ™¯æ›¿æ¢ä¸å½»åº•</span>
<span class="hljs-keyword">if</span> (debug) {
  console.<span class="hljs-built_in">log</span>(<span class="hljs-string">"è°ƒè¯•ä¿¡æ¯"</span>, { a: <span class="hljs-number">1</span>, b: <span class="hljs-number">2</span> }); <span class="hljs-comment">// æ­£åˆ™ä»…æ›¿æ¢ console.log ä¼šæ®‹ç•™å‚æ•°ï¼Œå¯¼è‡´è¯­æ³•é”™è¯¯</span>
}

<span class="hljs-comment">// 3. åŠ¨æ€è°ƒç”¨åœºæ™¯å¤±æ•ˆ</span>
<span class="hljs-type">const</span> <span class="hljs-built_in">log</span> = console.<span class="hljs-built_in">log</span>;
<span class="hljs-built_in">log</span>(<span class="hljs-string">"åŠ¨æ€è°ƒç”¨çš„æ—¥å¿—"</span>); <span class="hljs-comment">// loader æ— æ³•è¯†åˆ«ï¼Œæ¼æ›¿æ¢</span>
</code></pre>
<p><strong>æœ¬è´¨é—®é¢˜</strong>ï¼šloader æ˜¯ â€œæ–‡æœ¬å±‚é¢â€ çš„æ›¿æ¢ï¼Œè€Œé â€œè¯­æ³•å±‚é¢â€ çš„åˆ†æï¼Œæ— æ³•åŒºåˆ†ã€ŒåŸç”ŸÂ <code>console.log</code>ã€å’Œã€Œè‡ªå®šä¹‰Â <code>console</code>Â å¯¹è±¡ / åŠ¨æ€è°ƒç”¨ã€ï¼Œæœ€ç»ˆå¯¼è‡´ä»£ç è¯­æ³•é”™è¯¯æˆ–é€»è¾‘å¼‚å¸¸ã€‚</p>
<h4 data-id="heading-2">2. ç ´åå¼€å‘ / ç”Ÿäº§ç¯å¢ƒçš„ä¸€è‡´æ€§</h4>
<ul>
<li>å¼€å‘ç¯å¢ƒï¼šéœ€è¦ä¿ç•™Â <code>console.log</code>Â ç”¨äºè°ƒè¯•ï¼›</li>
<li>ç”Ÿäº§ç¯å¢ƒï¼šéœ€è¦ç§»é™¤Â <code>console.log</code>Â å‡å°‘ä½“ç§¯ã€é¿å…ä¿¡æ¯æ³„éœ²ï¼›</li>
</ul>
<p>è‹¥ç”¨ loader ç¡¬ç¼–ç æ›¿æ¢ï¼Œéœ€åœ¨Â <code>webpack.config.js</code>Â ä¸­åŒºåˆ†ç¯å¢ƒé…ç½®ï¼Œä¸” loader ä¸€æ—¦é…ç½®é”™è¯¯ï¼Œä¼šå¯¼è‡´ï¼š</p>
<ul>
<li>å¼€å‘ç¯å¢ƒæ—¥å¿—è¢«æ„å¤–åˆ é™¤ï¼Œè°ƒè¯•æ•ˆç‡éª¤é™ï¼›</li>
<li>ç”Ÿäº§ç¯å¢ƒæ—¥å¿—æœªè¢«åˆ é™¤ï¼Œæ³„éœ²æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚æ¥å£å‚æ•°ã€ç”¨æˆ· IDï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-3">3. æ— æ³•ç²¾ç»†åŒ–æ§åˆ¶ï¼šä¸€åˆ€åˆ‡çš„æ›¿æ¢ä¸çµæ´»</h4>
<p>å®é™…é¡¹ç›®ä¸­ï¼Œ<code>console.log</code>Â å¹¶é â€œå…¨åˆ  / å…¨ç•™â€ï¼Œè€Œæ˜¯éœ€è¦ç²¾ç»†åŒ–æ§åˆ¶ï¼š</p>
<ul>
<li>ä¿ç•™Â <code>console.error</code>/<code>console.warn</code>ï¼ˆç”Ÿäº§ç¯å¢ƒéœ€ç›‘æ§é”™è¯¯ï¼‰ï¼›</li>
<li>ä»…åˆ é™¤å¼€å‘è°ƒè¯•çš„Â <code>console.log</code>ï¼Œä¿ç•™ä¸šåŠ¡å…³é”®æ—¥å¿—ï¼›</li>
<li>æŒ‰ç¯å¢ƒ / æ¨¡å— / æ—¥å¿—çº§åˆ«åŒºåˆ†ï¼ˆå¦‚æµ‹è¯•ç¯å¢ƒä¿ç•™ã€ç”Ÿäº§ç¯å¢ƒåˆ é™¤ï¼‰ï¼›</li>
</ul>
<p>loader åŸºäºç®€å•æ›¿æ¢æ— æ³•å®ç°ä¸Šè¿°é€»è¾‘ï¼Œåªèƒ½ â€œå…¨æ›¿æ¢â€ æˆ– â€œå…¨ä¸æ›¿æ¢â€ï¼Œçµæ´»æ€§ä¸º 0ã€‚</p>
<h4 data-id="heading-4">4. æ€§èƒ½æŸè€—ï¼šå¢åŠ ç¼–è¯‘å¼€é”€</h4>
<p>Loader å¤„ç†æ¯ä¸ªæ¨¡å—æ—¶éƒ½è¦æ‰§è¡Œæ­£åˆ™åŒ¹é… / æ›¿æ¢ï¼Œé¡¹ç›®è¶Šå¤§ï¼ˆæ¨¡å—è¶Šå¤šï¼‰ï¼Œç¼–è¯‘æ—¶é—´è¶Šé•¿ï¼›è€Œä¸“ä¸šçš„ä¼˜åŒ–æ’ä»¶ï¼ˆå¦‚Â <code>terser-webpack-plugin</code>ï¼‰æ˜¯åœ¨ â€œä»£ç å‹ç¼©é˜¶æ®µâ€ æ‰¹é‡å¤„ç†ï¼Œæ•ˆç‡è¿œé«˜äº loader é€æ¨¡å—æ›¿æ¢ã€‚</p>
<h3 data-id="heading-5">äºŒã€æ›´è‡´å‘½çš„åœºæ™¯é£é™©</h3>
<ol>
<li><strong>ç¬¬ä¸‰æ–¹ä¾èµ–è¢«è¯¯æ”¹</strong>ï¼šloader ä¼šå¤„ç†æ‰€æœ‰æ¨¡å—ï¼ˆåŒ…æ‹¬Â <code>node_modules</code>ï¼‰ï¼Œè‹¥ç¬¬ä¸‰æ–¹åº“ä¸­ä½¿ç”¨Â <code>console.log</code>Â åšå…³é”®é€»è¾‘ï¼ˆå¦‚è°ƒè¯•ã€é”™è¯¯æç¤ºï¼‰ï¼Œè¢«æ›¿æ¢åä¼šå¯¼è‡´ä¾èµ–åŠŸèƒ½å¼‚å¸¸ï¼Œä¸”éš¾ä»¥æ’æŸ¥ï¼›</li>
<li><strong>SourceMap é”™ä½</strong>ï¼šloader æ›¿æ¢ä»£ç åï¼Œè¡Œå· / åˆ—å·ä¸åŸå§‹ä»£ç ä¸ä¸€è‡´ï¼Œç”Ÿäº§ç¯å¢ƒæŠ¥é”™æ—¶ï¼ŒSourceMap æ— æ³•ç²¾å‡†å®šä½é—®é¢˜ï¼Œå¢åŠ è°ƒè¯•éš¾åº¦ï¼›</li>
<li><strong>æ— æ³•å›æ»š</strong>ï¼šä¸€æ—¦ loader é…ç½®ä¸Šçº¿ï¼Œè‹¥å‘ç°æ›¿æ¢é”™è¯¯ï¼Œéœ€é‡æ–°ç¼–è¯‘å‘å¸ƒï¼Œè€Œæ’ä»¶æ–¹æ¡ˆå¯é€šè¿‡é…ç½®å¿«é€Ÿå¼€å…³ï¼Œæˆæœ¬æ›´ä½ã€‚</li>
</ol>
<h3 data-id="heading-6">ä¸‰ã€Webpack ä¸­å¤„ç† console.log çš„æ­£ç¡®æ–¹æ¡ˆ</h3>
<p>æ ¸å¿ƒåŸåˆ™ï¼š<strong>åœ¨ä»£ç å‹ç¼© / ä¼˜åŒ–é˜¶æ®µå¤„ç†ï¼Œè€Œé loader è½¬æ¢é˜¶æ®µ</strong>ï¼Œä»¥ä¸‹æ˜¯è¡Œä¸šä¸»æµæ–¹æ¡ˆï¼š</p>
<h4 data-id="heading-7">1. ç”Ÿäº§ç¯å¢ƒï¼šç”¨ TerserWebpackPlugin ç²¾å‡†ç§»é™¤ï¼ˆæ¨èï¼‰</h4>
<p><code>terser-webpack-plugin</code>Â æ˜¯ Webpack å†…ç½®çš„ä»£ç å‹ç¼©æ’ä»¶ï¼ˆæ›¿ä»£æ—§çš„Â <code>uglifyjs-webpack-plugin</code>ï¼‰ï¼Œæ”¯æŒ<strong>è¯­æ³•å±‚é¢åˆ†æ</strong>ï¼Œå¯å®‰å…¨ç§»é™¤Â <code>console</code>ï¼Œä¸”æ”¯æŒç²¾ç»†åŒ–é…ç½®ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// webpack.config.js</span>
<span class="hljs-type">const</span> <span class="hljs-variable">TerserPlugin</span> <span class="hljs-operator">=</span> require(<span class="hljs-string">'terser-webpack-plugin'</span>);

<span class="hljs-keyword">module</span>.<span class="hljs-keyword">exports</span> = {
  mode: <span class="hljs-string">'production'</span>,
  optimization: {
    minimizer: [
      <span class="hljs-keyword">new</span> <span class="hljs-title class_">TerserPlugin</span>({
        terserOptions: {
          compress: {
            <span class="hljs-comment">// æ ¸å¿ƒé…ç½®ï¼šç§»é™¤ console</span>
            drop_console: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å…¨é‡ç§»é™¤ consoleï¼ˆåŒ…æ‹¬ log/error/warnï¼‰</span>
            <span class="hljs-comment">// ç²¾ç»†åŒ–é…ç½®ï¼šä»…ç§»é™¤ logï¼Œä¿ç•™ error/warn</span>
            <span class="hljs-comment">// pure_funcs: ['console.log'] </span>
          },
          <span class="hljs-comment">// ä¿ç•™ SourceMapï¼Œé¿å…æŠ¥é”™å®šä½é”™ä½</span>
          sourceMap: <span class="hljs-literal">true</span> 
        }
      })
    ]
  }
};
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>è¯­æ³•åˆ†æï¼šä»…ç§»é™¤åŸç”ŸÂ <code>console.log</code>ï¼Œä¸å½±å“è‡ªå®šä¹‰Â <code>console</code>Â å¯¹è±¡ï¼›</li>
<li>æ‰¹é‡å¤„ç†ï¼šå‹ç¼©é˜¶æ®µä¸€æ¬¡æ€§å¤„ç†ï¼Œç¼–è¯‘æ•ˆç‡é«˜ï¼›</li>
<li>çµæ´»é…ç½®ï¼šå¯æŒ‰æ—¥å¿—çº§åˆ«åŒºåˆ†ä¿ç•™ / åˆ é™¤ï¼›</li>
<li>ä¸å½±å“ç¬¬ä¸‰æ–¹ä¾èµ–ï¼šé»˜è®¤ä»…å¤„ç†ä¸šåŠ¡ä»£ç ï¼ˆå¯é€šè¿‡Â <code>test</code>Â é…ç½®èŒƒå›´ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-8">2. å¼€å‘ / æµ‹è¯•ç¯å¢ƒï¼šç”¨ ESLint çº¦æŸï¼ˆè€Œéåˆ é™¤ï¼‰</h4>
<p>å¼€å‘é˜¶æ®µæ— éœ€åˆ é™¤Â <code>console.log</code>ï¼Œä½†å¯é€šè¿‡ ESLint æç¤º / ç¦æ­¢è°ƒè¯•æ—¥å¿—ï¼Œé¿å…æäº¤åˆ°ç”Ÿäº§ç¯å¢ƒï¼š</p>
<pre><code class="hljs language-css" lang="css">// <span class="hljs-selector-class">.eslintrc</span><span class="hljs-selector-class">.js</span>
module<span class="hljs-selector-class">.exports</span> = {
  rules: {
    // è­¦å‘Šï¼šæç¤ºå¼€å‘è€…åˆ é™¤ console<span class="hljs-selector-class">.log</span>
    'no-console': [<span class="hljs-string">'warn'</span>, { allow: [<span class="hljs-string">'error'</span>, <span class="hljs-string">'warn'</span>] }],
    // æˆ–ä¸¥æ ¼æ¨¡å¼ï¼šç¦æ­¢æ‰€æœ‰ consoleï¼ˆä»…ç”Ÿäº§ç¯å¢ƒå¯ç”¨ï¼‰
    // 'no-console': process.env.NODE_ENV === <span class="hljs-string">'production'</span> ? <span class="hljs-string">'error'</span> : <span class="hljs-string">'off'</span>
  }
};
</code></pre>
<h4 data-id="heading-9">3. æŒ‰éœ€æ§åˆ¶ï¼šç”¨ç¯å¢ƒå˜é‡ + å°è£…æ—¥å¿—å‡½æ•°ï¼ˆæœ€ä½³å®è·µï¼‰</h4>
<p>é¡¹ç›®ä¸­å°è£…ç»Ÿä¸€çš„æ—¥å¿—å·¥å…·ï¼ŒæŒ‰ç¯å¢ƒæ§åˆ¶æ—¥å¿—è¾“å‡ºï¼Œä»æ ¹æºé¿å…Â <code>console.log</code>Â æ³›æ»¥ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/utils/logger.js</span>
<span class="hljs-keyword">const</span> logger = {
  <span class="hljs-attr">log</span>: <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> !== <span class="hljs-string">'production'</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'[LOG]'</span>, ...args);
    }
  },
  <span class="hljs-attr">error</span>: <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'[ERROR]'</span>, ...args); <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒä¿ç•™é”™è¯¯æ—¥å¿—</span>
  }
};

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = logger;
</code></pre>
<p>ä¸šåŠ¡ä»£ç ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">import</span> logger from <span class="hljs-string">'./utils/logger'</span>;

logger.<span class="hljs-built_in">log</span>(<span class="hljs-string">'è°ƒè¯•ä¿¡æ¯'</span>); <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒè‡ªåŠ¨ä¸è¾“å‡º</span>
logger.<span class="hljs-built_in">error</span>(<span class="hljs-string">'ä¸šåŠ¡é”™è¯¯'</span>); <span class="hljs-comment">// ç”Ÿäº§ç¯å¢ƒä¿ç•™</span>
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>å®Œå…¨å¯æ§ï¼šæŒ‰ç¯å¢ƒ / æ—¥å¿—çº§åˆ«çµæ´»è°ƒæ•´ï¼›</li>
<li>æ— ç¼–è¯‘é£é™©ï¼šä¸ä¿®æ”¹åŸç”Ÿä»£ç ï¼Œä»…æ§åˆ¶è¾“å‡ºï¼›</li>
<li>ä¾¿äºæ‰©å±•ï¼šå¯æ¥å…¥æ—¥å¿—ç›‘æ§å¹³å°ï¼ˆå¦‚ Sentryï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-10">å››ã€æ€»ç»“ï¼šä¸ºä»€ä¹ˆ loader æ˜¯é”™è¯¯é€‰æ‹©ï¼Ÿ</h3>



































<table><thead><tr><th>ç»´åº¦</th><th>loader æ›¿æ¢</th><th>TerserPlugin + å°è£…æ—¥å¿—</th></tr></thead><tbody><tr><td>è¯­æ³•å®‰å…¨æ€§</td><td>æä½ï¼ˆæ˜“è¯¯æ”¹ä»£ç ï¼‰</td><td>æé«˜ï¼ˆè¯­æ³•å±‚é¢åˆ†æï¼‰</td></tr><tr><td>çµæ´»æ€§</td><td>æ— ï¼ˆä¸€åˆ€åˆ‡ï¼‰</td><td>é«˜ï¼ˆæŒ‰çº§åˆ« / ç¯å¢ƒé…ç½®ï¼‰</td></tr><tr><td>ç¼–è¯‘æ€§èƒ½</td><td>å·®ï¼ˆé€æ¨¡å—æ›¿æ¢ï¼‰</td><td>ä¼˜ï¼ˆå‹ç¼©é˜¶æ®µæ‰¹é‡å¤„ç†ï¼‰</td></tr><tr><td>å¯ç»´æŠ¤æ€§</td><td>å·®ï¼ˆé…ç½®åˆ†æ•£ï¼‰</td><td>ä¼˜ï¼ˆé›†ä¸­é…ç½®ï¼Œæ˜“å¼€å…³ï¼‰</td></tr><tr><td>è°ƒè¯•å‹å¥½æ€§</td><td>å·®ï¼ˆSourceMap é”™ä½ï¼‰</td><td>ä¼˜ï¼ˆä¿ç•™ SourceMapï¼‰</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒç»“è®º</strong>ï¼š</p>
<p><strong>loader çš„è®¾è®¡ç›®æ ‡æ˜¯ â€œè½¬æ¢ä»£ç æ ¼å¼â€ï¼Œè€Œé â€œä¼˜åŒ–ä»£ç é€»è¾‘ / åˆ é™¤æ—¥å¿—â€ï¼›å¤„ç†Â <code>console.log</code>Â åº”äº¤ç»™ã€Œä»£ç å‹ç¼©æ’ä»¶ã€ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰+ã€Œæ—¥å¿—å°è£…å‡½æ•°ã€ï¼ˆå…¨ç¯å¢ƒï¼‰ï¼Œæ—¢ä¿è¯ä»£ç ç¨³å®šæ€§ï¼Œåˆèƒ½çµæ´»æ§åˆ¶æ—¥å¿—è¾“å‡ºã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€èŠ‚ç‚¹ã€‘[Adjustment-ReplaceColorèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨]]></title>    <link>https://juejin.cn/post/7583260493851213865</link>    <guid>https://juejin.cn/post/7583260493851213865</guid>    <pubDate>2025-12-14T13:11:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583260493851213865" data-draft-id="7582997593090850835" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€èŠ‚ç‚¹ã€‘[Adjustment-ReplaceColorèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨"/> <meta itemprop="keywords" content="æ¸¸æˆå¼€å‘,å›¾å½¢å­¦,Unity3D"/> <meta itemprop="datePublished" content="2025-12-14T13:11:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SmalBox"/> <meta itemprop="url" content="https://juejin.cn/user/2218166695237532"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€èŠ‚ç‚¹ã€‘[Adjustment-ReplaceColorèŠ‚ç‚¹]åŸç†è§£æä¸å®é™…åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2218166695237532/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SmalBox
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T13:11:46.000Z" title="Sun Dec 14 2025 13:11:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong></p>
</blockquote>
<p>ReplaceColorèŠ‚ç‚¹æ˜¯Unity ShaderGraphä¸­Artisticç±»åˆ«ä¸‹çš„é‡è¦é¢œè‰²è°ƒæ•´å·¥å…·ï¼Œèƒ½å¤Ÿå°†è¾“å…¥é¢œè‰²ä¸­çš„æŒ‡å®šé¢œè‰²å€¼æ›¿æ¢ä¸ºç›®æ ‡é¢œè‰²ï¼Œå¹¶é€šè¿‡å‚æ•°æ§åˆ¶å®ç°å¹³æ»‘çš„è¿‡æ¸¡æ•ˆæœã€‚è¯¥èŠ‚ç‚¹åœ¨æ¸¸æˆå¼€å‘ã€å½±è§†åˆ¶ä½œå’ŒUIè®¾è®¡ç­‰é¢†åŸŸåº”ç”¨å¹¿æ³›ï¼Œä¸ºå¼€å‘è€…æä¾›äº†å¼ºå¤§çš„é¢œè‰²å¤„ç†èƒ½åŠ›ã€‚</p>
<p>èŠ‚ç‚¹çš„æ ¸å¿ƒåŠŸèƒ½åŸºäºè¾“å…¥é¢œè‰²ä¸æºé¢œè‰²ä¹‹é—´çš„è·ç¦»è®¡ç®—ï¼Œåœ¨ç‰¹å®šèŒƒå›´å†…å®ç°é¢œè‰²æ›¿æ¢ã€‚ä¸ç®€å•çš„é¢œè‰²æ›¿æ¢ä¸åŒï¼Œè¯¥èŠ‚ç‚¹å¼•å…¥äº†Rangeå’ŒFuzzinessä¸¤ä¸ªå…³é”®å‚æ•°ï¼Œä½¿é¢œè‰²æ›¿æ¢ä¸å†æ˜¯ç”Ÿç¡¬çš„åˆ‡æ¢ï¼Œè€Œæ˜¯èƒ½å¤Ÿåˆ›å»ºè‡ªç„¶çš„æ¸å˜è¿‡æ¸¡ã€‚</p>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒReplaceColorèŠ‚ç‚¹å¸¸ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li>æ›¿æ¢æè´¨ä¸­çš„ç‰¹å®šé¢œè‰²å…ƒç´ </li>
<li>å®ç°è‰²é”®æ•ˆæœï¼ˆç»¿å¹•æŠ åƒï¼‰</li>
<li>åŠ¨æ€è°ƒæ•´æ¸¸æˆå…ƒç´ çš„é¢œè‰²ä¸»é¢˜</li>
<li>åˆ›å»ºç‰¹æ®Šè§†è§‰æ•ˆæœå’Œé£æ ¼åŒ–æ¸²æŸ“</li>
</ul>
<p>è¯¥èŠ‚ç‚¹å±äºShaderGraphçš„Artisticç±»åˆ«ï¼Œåœ¨é»˜è®¤é¢œè‰²æ¨¡å¼ä¸‹ä¼šæ˜¾ç¤ºå¯¹åº”çš„ç±»åˆ«é¢œè‰²æ ‡è¯†ï¼Œä¾¿äºå¼€å‘è€…å¿«é€Ÿè¯†åˆ«èŠ‚ç‚¹ç±»å‹ã€‚</p>
<h2 data-id="heading-0">ç«¯å£ä¸å‚æ•°è¯¦è§£</h2>
<p><img src="https://docs.unity.cn/cn/Packages-cn/com.unity.shadergraph@14.0/manual/images/ReplaceColorNodeThumb.png" alt="" loading="lazy"/></p>
<p>ReplaceColorèŠ‚ç‚¹åŒ…å«å…­ä¸ªä¸»è¦ç«¯å£ï¼Œæ¯ä¸ªç«¯å£éƒ½å…·æœ‰ç‰¹å®šçš„åŠŸèƒ½å’Œä½œç”¨ã€‚</p>
<h3 data-id="heading-1">è¾“å…¥ç«¯å£é…ç½®</h3>
<p><strong>Inç«¯å£</strong></p>
<ul>
<li>ç±»å‹ï¼šVector 3</li>
<li>ç»‘å®šï¼šæ— </li>
<li>æè¿°ï¼šä½œä¸ºé¢œè‰²æ›¿æ¢æ“ä½œçš„è¾“å…¥æºï¼Œå¯è¿æ¥çº¹ç†é‡‡æ ·èŠ‚ç‚¹ã€é¢œè‰²èŠ‚ç‚¹æˆ–å…¶ä»–é¢œè‰²è®¡ç®—èŠ‚ç‚¹çš„è¾“å‡ºã€‚è¯¥ç«¯å£æ¥æ”¶RGBé¢œè‰²å€¼ï¼Œé€šå¸¸æ¥è‡ªæè´¨çš„åŸºç¡€çº¹ç†æˆ–è®¡ç®—å¾—åˆ°çš„é¢œè‰²ç»“æœã€‚</li>
</ul>
<p><strong>Fromç«¯å£</strong></p>
<ul>
<li>ç±»å‹ï¼šVector 3</li>
<li>ç»‘å®šï¼šColor</li>
<li>æè¿°ï¼šå®šä¹‰éœ€è¦è¢«æ›¿æ¢çš„ç›®æ ‡é¢œè‰²å€¼ã€‚è¯¥ç«¯å£é€šå¸¸è¿æ¥åˆ°é¢œè‰²å±æ€§æˆ–å›ºå®šçš„é¢œè‰²å€¼ï¼Œç”¨äºæŒ‡å®šåœ¨è¾“å…¥é¢œè‰²ä¸­å¯»æ‰¾çš„ç‰¹å®šé¢œè‰²ã€‚</li>
</ul>
<p><strong>Toç«¯å£</strong></p>
<ul>
<li>ç±»å‹ï¼šVector 3</li>
<li>ç»‘å®šï¼šColor</li>
<li>æè¿°ï¼šå®šä¹‰æ›¿æ¢åçš„ç›®æ ‡é¢œè‰²å€¼ã€‚å½“è¾“å…¥é¢œè‰²ä¸Fromé¢œè‰²åŒ¹é…æ—¶ï¼Œå°†ä½¿ç”¨æ­¤é¢œè‰²å€¼è¿›è¡Œæ›¿æ¢ã€‚</li>
</ul>
<p><strong>Rangeç«¯å£</strong></p>
<ul>
<li>ç±»å‹ï¼šFloat</li>
<li>ç»‘å®šï¼šæ— </li>
<li>æè¿°ï¼šæ§åˆ¶é¢œè‰²åŒ¹é…çš„å®¹å·®èŒƒå›´ã€‚è¯¥å‚æ•°å†³å®šäº†åœ¨Fromé¢œè‰²å‘¨å›´å¤šå¤§çš„é¢œè‰²èŒƒå›´å†…è¿›è¡Œæ›¿æ¢æ“ä½œï¼Œæ•°å€¼è¶Šå¤§ï¼Œæ›¿æ¢çš„é¢œè‰²èŒƒå›´è¶Šå¹¿ã€‚</li>
</ul>
<p><strong>Fuzzinessç«¯å£</strong></p>
<ul>
<li>ç±»å‹ï¼šFloat</li>
<li>ç»‘å®šï¼šæ— </li>
<li>æè¿°ï¼šè½¯åŒ–é€‰æ‹©èŒƒå›´å‘¨å›´çš„è¾¹ç¼˜ï¼Œå®ç°å¹³æ»‘è¿‡æ¸¡æ•ˆæœã€‚é€šè¿‡è°ƒæ•´æ­¤å‚æ•°å¯ä»¥é¿å…æ›¿æ¢è¾¹ç¼˜å‡ºç°é”¯é½¿ç°è±¡ï¼Œåˆ›å»ºè‡ªç„¶çš„é¢œè‰²æ¸å˜ã€‚</li>
</ul>
<h3 data-id="heading-2">è¾“å‡ºç«¯å£é…ç½®</h3>
<p><strong>Outç«¯å£</strong></p>
<ul>
<li>ç±»å‹ï¼šVector 3</li>
<li>ç»‘å®šï¼šæ— </li>
<li>æè¿°ï¼šè¾“å‡ºç»è¿‡é¢œè‰²æ›¿æ¢å¤„ç†åçš„æœ€ç»ˆç»“æœã€‚è¯¥ç«¯å£å¯è¿æ¥åˆ°ä¸»èŠ‚ç‚¹çš„é¢œè‰²è¾“å…¥æˆ–å…¶ä»–åç»­å¤„ç†èŠ‚ç‚¹ã€‚</li>
</ul>
<h2 data-id="heading-3">æ ¸å¿ƒç®—æ³•è§£æ</h2>
<p>ReplaceColorèŠ‚ç‚¹çš„å†…éƒ¨å®ç°åŸºäºé¢œè‰²è·ç¦»è®¡ç®—å’Œçº¿æ€§æ’å€¼ç®—æ³•ã€‚æ·±å…¥ç†è§£å…¶æ ¸å¿ƒç®—æ³•å¯¹äºæœ‰æ•ˆä½¿ç”¨è¯¥èŠ‚ç‚¹è‡³å…³é‡è¦ã€‚</p>
<h3 data-id="heading-4">é¢œè‰²è·ç¦»è®¡ç®—</h3>
<p>èŠ‚ç‚¹é¦–å…ˆè®¡ç®—è¾“å…¥é¢œè‰²(In)ä¸æºé¢œè‰²(From)ä¹‹é—´çš„æ¬§å‡ é‡Œå¾—è·ç¦»ï¼š</p>
<p><code>float Distance = distance(From, In);</code></p>
<p>è¯¥è·ç¦»å€¼å†³å®šäº†å½“å‰åƒç´ é¢œè‰²ä¸ç›®æ ‡æ›¿æ¢é¢œè‰²çš„ç›¸ä¼¼ç¨‹åº¦ã€‚è·ç¦»è¶Šå°ï¼Œè¯´æ˜é¢œè‰²è¶Šæ¥è¿‘ï¼Œæ›¿æ¢æ•ˆæœè¶Šæ˜æ˜¾ã€‚</p>
<h3 data-id="heading-5">æ’å€¼å› å­è®¡ç®—</h3>
<p>è·å¾—é¢œè‰²è·ç¦»åï¼ŒèŠ‚ç‚¹é€šè¿‡ä»¥ä¸‹å…¬å¼è®¡ç®—æ’å€¼å› å­ï¼š</p>
<p><code>float factor = saturate((Distance - Range) / max(Fuzziness, 1e-5));</code></p>
<p>æ­¤è®¡ç®—ç¡®ä¿åœ¨RangeèŒƒå›´å†…çš„é¢œè‰²ä¼šè¢«å®Œå…¨æ›¿æ¢ï¼Œè€Œåœ¨Rangeåˆ°Range+FuzzinessèŒƒå›´å†…çš„é¢œè‰²ä¼šäº§ç”Ÿå¹³æ»‘è¿‡æ¸¡ã€‚</p>
<h3 data-id="heading-6">æœ€ç»ˆè¾“å‡ºè®¡ç®—</h3>
<p>é€šè¿‡lerpå‡½æ•°åœ¨ç›®æ ‡é¢œè‰²(To)å’Œè¾“å…¥é¢œè‰²(In)ä¹‹é—´è¿›è¡Œæ’å€¼ï¼š</p>
<p><code>Out = lerp(To, In, factor);</code></p>
<p>å½“factorä¸º0æ—¶ï¼Œè¾“å‡ºå®Œå…¨ä½¿ç”¨Toé¢œè‰²ï¼›å½“factorä¸º1æ—¶ï¼Œè¾“å‡ºä¿æŒåŸå§‹Iné¢œè‰²ï¼›åœ¨0åˆ°1ä¹‹é—´æ—¶ï¼Œè¾“å‡ºä¸ºä¸¤ç§é¢œè‰²çš„æ··åˆç»“æœã€‚</p>
<h2 data-id="heading-7">å‚æ•°è°ƒèŠ‚æŠ€å·§</h2>
<h3 data-id="heading-8">Rangeå‚æ•°è°ƒèŠ‚</h3>
<p>Rangeå‚æ•°å†³å®šé¢œè‰²æ›¿æ¢çš„æ•æ„Ÿåº¦èŒƒå›´ï¼š</p>
<ul>
<li><strong>å°æ•°å€¼</strong>ï¼ˆ0-0.1ï¼‰ï¼šä»…æ›¿æ¢ä¸Fromé¢œè‰²å‡ ä¹å®Œå…¨ç›¸åŒçš„åƒç´ ï¼Œé€‚ç”¨äºç²¾ç¡®é¢œè‰²åŒ¹é…</li>
<li><strong>ä¸­ç­‰æ•°å€¼</strong>ï¼ˆ0.1-0.3ï¼‰ï¼šæ›¿æ¢ç›¸ä¼¼é¢œè‰²èŒƒå›´ï¼Œé€‚ç”¨äºå¤§å¤šæ•°å¸¸è§„åº”ç”¨</li>
<li><strong>å¤§æ•°å€¼</strong>ï¼ˆ0.3ä»¥ä¸Šï¼‰ï¼šæ›¿æ¢å¹¿æ³›çš„é¢œè‰²èŒƒå›´ï¼Œå¯èƒ½å½±å“éç›®æ ‡åŒºåŸŸ</li>
</ul>
<h3 data-id="heading-9">Fuzzinesså‚æ•°è°ƒèŠ‚</h3>
<p>Fuzzinesså‚æ•°æ§åˆ¶æ›¿æ¢è¾¹ç¼˜çš„æŸ”å’Œåº¦ï¼š</p>
<ul>
<li><strong>ä½æ¨¡ç³Šåº¦</strong>ï¼ˆ0-0.05ï¼‰ï¼šäº§ç”Ÿç¡¬è¾¹ç¼˜ï¼Œé€‚åˆéœ€è¦æ¸…æ™°è¾¹ç•Œçš„æ•ˆæœ</li>
<li><strong>ä¸­ç­‰æ¨¡ç³Šåº¦</strong>ï¼ˆ0.05-0.2ï¼‰ï¼šåˆ›å»ºè‡ªç„¶è¿‡æ¸¡ï¼Œé¿å…é”¯é½¿ç°è±¡</li>
<li><strong>é«˜æ¨¡ç³Šåº¦</strong>ï¼ˆ0.2ä»¥ä¸Šï¼‰ï¼šäº§ç”Ÿéå¸¸æŸ”å’Œçš„è¾¹ç¼˜ï¼Œé€‚åˆåˆ›å»ºç¾½åŒ–æ•ˆæœ</li>
</ul>
<h3 data-id="heading-10">å‚æ•°ç»„åˆç­–ç•¥</h3>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒRangeå’ŒFuzzinessçš„ç»„åˆä½¿ç”¨å¯äº§ç”Ÿä¸åŒçš„è§†è§‰æ•ˆæœï¼š</p>
<ul>
<li><strong>ç²¾ç¡®æ›¿æ¢</strong>ï¼šå°Range + ä½Fuzziness</li>
<li><strong>å¹³æ»‘è¿‡æ¸¡</strong>ï¼šä¸­ç­‰Range + ä¸­ç­‰Fuzziness</li>
<li><strong>åŒºåŸŸå½±å“</strong>ï¼šå¤§Range + é«˜Fuzziness</li>
</ul>
<h2 data-id="heading-11">å®é™…åº”ç”¨æ¡ˆä¾‹</h2>
<h3 data-id="heading-12">æ¸¸æˆå…ƒç´ é¢œè‰²åŠ¨æ€æ›¿æ¢</h3>
<p>åœ¨æ¸¸æˆå¼€å‘ä¸­ï¼ŒReplaceColorèŠ‚ç‚¹å¸¸ç”¨äºåŠ¨æ€æ”¹å˜æ¸¸æˆå…ƒç´ çš„é¢œè‰²ä¸»é¢˜ã€‚ä¾‹å¦‚ï¼Œå¯æ ¹æ®æ¸¸æˆçŠ¶æ€æ”¹å˜è§’è‰²çš„æœè£…é¢œè‰²æˆ–ç¯å¢ƒçš„è‰²è°ƒã€‚</p>
<p>å®ç°æ­¥éª¤ï¼š</p>
<ol>
<li>å°†è§’è‰²çº¹ç†è¿æ¥åˆ°Inç«¯å£</li>
<li>è®¾ç½®éœ€è¦æ›¿æ¢çš„åŸå§‹é¢œè‰²åˆ°Fromç«¯å£</li>
<li>é€šè¿‡è„šæœ¬æ§åˆ¶Toç«¯å£çš„é¢œè‰²å€¼</li>
<li>è°ƒæ•´Rangeå’ŒFuzzinessä»¥è·å¾—ç†æƒ³çš„æ›¿æ¢æ•ˆæœ</li>
</ol>
<h3 data-id="heading-13">ç»¿å¹•æŠ åƒæ•ˆæœ</h3>
<p>ReplaceColorèŠ‚ç‚¹å¯å®ç°ç±»ä¼¼ç»¿å¹•æŠ åƒçš„æ•ˆæœï¼Œå°†ç‰¹å®šçš„èƒŒæ™¯é¢œè‰²æ›¿æ¢ä¸ºé€æ˜æˆ–å…¶ä»–èƒŒæ™¯ã€‚</p>
<p>å…³é”®æŠ€æœ¯ç‚¹ï¼š</p>
<ul>
<li>ç²¾ç¡®è®¾ç½®ç»¿å¹•é¢œè‰²åˆ°Fromç«¯å£</li>
<li>ä½¿ç”¨è¾ƒå°çš„Rangeå€¼ç¡®ä¿åªå½±å“èƒŒæ™¯åŒºåŸŸ</li>
<li>é€šè¿‡Fuzzinessæ§åˆ¶è¾¹ç¼˜çš„å¹³æ»‘åº¦</li>
</ul>
<h3 data-id="heading-14">UIå…ƒç´ ä¸»é¢˜åˆ‡æ¢</h3>
<p>åœ¨UIè®¾è®¡ä¸­ï¼Œå¯ä½¿ç”¨ReplaceColorèŠ‚ç‚¹å®ç°åŠ¨æ€ä¸»é¢˜åˆ‡æ¢ã€‚é€šè¿‡æ›¿æ¢UIå…ƒç´ ä¸­çš„ç‰¹å®šé¢œè‰²ï¼Œå¯å¿«é€Ÿå®ç°ç™½å¤©/é»‘å¤œæ¨¡å¼æˆ–ä¸åŒè‰²å½©ä¸»é¢˜çš„åˆ‡æ¢ã€‚</p>
<h2 data-id="heading-15">æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<p>åœ¨ShaderGraphçš„Heatmapé¢œè‰²æ¨¡å¼ä¸‹ï¼Œå¯ç›´è§‚æŸ¥çœ‹èŠ‚ç‚¹çš„æ€§èƒ½æˆæœ¬ã€‚ReplaceColorèŠ‚ç‚¹é€šå¸¸å…·æœ‰ä¸­ç­‰æ€§èƒ½å¼€é”€ï¼Œä¸»è¦å–å†³äºé¢œè‰²è·ç¦»è®¡ç®—çš„å¤æ‚åº¦ã€‚</p>
<h3 data-id="heading-16">ä¼˜åŒ–ç­–ç•¥</h3>
<ul>
<li><strong>é¢„å¤„ç†çº¹ç†</strong>ï¼šå°½å¯èƒ½åœ¨çº¹ç†åˆ¶ä½œé˜¶æ®µä¼˜åŒ–é¢œè‰²åˆ†å¸ƒï¼Œå‡å°‘éœ€è¦å¤„ç†çš„é¢œè‰²èŒƒå›´</li>
<li><strong>åˆç†ä½¿ç”¨å‚æ•°</strong>ï¼šé¿å…ä½¿ç”¨è¿‡å¤§çš„Rangeå€¼ï¼Œè¿™ä¼šå¢åŠ è®¡ç®—é‡</li>
<li><strong>è€ƒè™‘å¹³å°å·®å¼‚</strong>ï¼šåœ¨ç§»åŠ¨å¹³å°ä¸Šåº”æ›´åŠ è°¨æ…åœ°ä½¿ç”¨å¤æ‚çš„é¢œè‰²æ›¿æ¢æ•ˆæœ</li>
</ul>
<h3 data-id="heading-17">æ€§èƒ½ç›‘æ§</h3>
<p>é€šè¿‡ä»¥ä¸‹æ–¹æ³•ç›‘æ§èŠ‚ç‚¹æ€§èƒ½ï¼š</p>
<ol>
<li>åˆ‡æ¢åˆ°Heatmapé¢œè‰²æ¨¡å¼æŸ¥çœ‹èŠ‚ç‚¹ç›¸å¯¹æ€§èƒ½æˆæœ¬</li>
<li>åœ¨ç›®æ ‡å¹³å°ä¸Šå®é™…æµ‹è¯•ç€è‰²å™¨æ€§èƒ½</li>
<li>ä½¿ç”¨Unityçš„æ€§èƒ½åˆ†æå·¥å…·è¿›è¡Œè¯¦ç»†åˆ†æ</li>
</ol>
<h2 data-id="heading-18">å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-19">é¢œè‰²æ›¿æ¢ä¸ç²¾ç¡®</h3>
<p>å½“é¢œè‰²æ›¿æ¢æ•ˆæœä¸ç†æƒ³æ—¶ï¼Œå¯èƒ½çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>é¢œè‰²ç©ºé—´é—®é¢˜</strong>ï¼šç¡®ä¿æ‰€æœ‰é¢œè‰²å€¼åœ¨ç›¸åŒçš„é¢œè‰²ç©ºé—´ä¸­å¤„ç†</li>
<li><strong>å…‰ç…§å½±å“</strong>ï¼šè€ƒè™‘åœºæ™¯å…‰ç…§å¯¹é¢œè‰²æ„ŸçŸ¥çš„å½±å“ï¼Œå¯èƒ½éœ€è¦ç»“åˆå…¶ä»–é¢œè‰²è°ƒæ•´èŠ‚ç‚¹</li>
<li><strong>å‚æ•°è®¾ç½®ä¸å½“</strong>ï¼šé‡æ–°è°ƒæ•´Rangeå’ŒFuzzinesså‚æ•°</li>
</ul>
<h3 data-id="heading-20">è¾¹ç¼˜é”¯é½¿é—®é¢˜</h3>
<p>è§£å†³æ›¿æ¢è¾¹ç¼˜çš„é”¯é½¿ç°è±¡ï¼š</p>
<ul>
<li>é€‚å½“å¢åŠ Fuzzinesså‚æ•°å€¼</li>
<li>ç»“åˆæŠ—é”¯é½¿æŠ€æœ¯</li>
<li>ä½¿ç”¨æ›´é«˜åˆ†è¾¨ç‡çš„çº¹ç†</li>
</ul>
<h3 data-id="heading-21">æ€§èƒ½é—®é¢˜å¤„ç†</h3>
<p>å½“é¢œè‰²æ›¿æ¢æ“ä½œå¯¼è‡´æ€§èƒ½ä¸‹é™æ—¶ï¼š</p>
<ul>
<li>å‡å°‘åŒæ—¶ä½¿ç”¨çš„ReplaceColorèŠ‚ç‚¹æ•°é‡</li>
<li>ä¼˜åŒ–Rangeå‚æ•°ï¼Œä½¿ç”¨å°½å¯èƒ½å°çš„æœ‰æ•ˆèŒƒå›´</li>
<li>è€ƒè™‘ä½¿ç”¨LODæŠ€æœ¯ï¼Œåœ¨è¿œè·ç¦»ä½¿ç”¨ç®€åŒ–çš„ç€è‰²å™¨ç‰ˆæœ¬</li>
</ul>
<h2 data-id="heading-22">ä¸å…¶ä»–èŠ‚ç‚¹é…åˆä½¿ç”¨</h2>
<p>ReplaceColorèŠ‚ç‚¹å¯ä¸å…¶ä»–ShaderGraphèŠ‚ç‚¹ç»„åˆä½¿ç”¨ï¼Œåˆ›å»ºæ›´å¤æ‚çš„æ•ˆæœã€‚</p>
<h3 data-id="heading-23">ä¸BlendèŠ‚ç‚¹é…åˆ</h3>
<p>å°†ReplaceColorèŠ‚ç‚¹ä¸BlendèŠ‚ç‚¹ç»“åˆï¼Œå¯å®ç°å¤šå±‚é¢œè‰²çš„æ··åˆå’Œæ›¿æ¢æ•ˆæœã€‚è¿™ç§ç»„åˆç‰¹åˆ«é€‚ç”¨äºåˆ›å»ºå¤æ‚çš„æè´¨æ•ˆæœå’ŒåŠ¨æ€çº¹ç†å˜åŒ–ã€‚</p>
<h3 data-id="heading-24">ä¸MaskèŠ‚ç‚¹ç»„åˆ</h3>
<p>ç»“åˆColor MaskèŠ‚ç‚¹ä½¿ç”¨ï¼Œå¯æ›´ç²¾ç¡®åœ°æ§åˆ¶é¢œè‰²æ›¿æ¢çš„åŒºåŸŸå’ŒèŒƒå›´ã€‚é€šè¿‡é®ç½©æŠ€æœ¯ï¼Œå¯é™åˆ¶ReplaceColorèŠ‚ç‚¹åªåœ¨ç‰¹å®šåŒºåŸŸç”Ÿæ•ˆã€‚</p>
<h3 data-id="heading-25">åœ¨è°ƒæ•´èŠ‚ç‚¹ä¸­çš„ä½ç½®</h3>
<p>åœ¨Artisticç±»åˆ«ä¸­ï¼ŒReplaceColorèŠ‚ç‚¹ä¸å…¶ä»–è°ƒæ•´èŠ‚ç‚¹å¦‚Hueã€Saturationã€Contrastç­‰å…±åŒæ„æˆäº†å®Œæ•´çš„é¢œè‰²è°ƒæ•´å·¥å…·é›†ã€‚ç†è§£å„èŠ‚ç‚¹çš„ç‰¹æ€§å’Œé€‚ç”¨åœºæ™¯ï¼Œæœ‰åŠ©äºæ„å»ºæ›´é«˜æ•ˆçš„ç€è‰²å™¨å›¾å½¢ã€‚</p>
<h2 data-id="heading-26">é«˜çº§åº”ç”¨æŠ€å·§</h2>
<h3 data-id="heading-27">åŠ¨æ€å‚æ•°æ§åˆ¶</h3>
<p>é€šè¿‡è„šæœ¬åŠ¨æ€æ§åˆ¶ReplaceColorèŠ‚ç‚¹çš„å‚æ•°ï¼Œå¯å®ç°å®æ—¶çš„é¢œè‰²å˜åŒ–æ•ˆæœã€‚è¿™ç§æŠ€æœ¯åœ¨äº¤äº’å¼åº”ç”¨å’Œæ¸¸æˆä¸­ç‰¹åˆ«æœ‰ç”¨ã€‚</p>
<p>å®ç°æ–¹æ³•ï¼š</p>
<ol>
<li>åœ¨ShaderGraphä¸­åˆ›å»ºå¯¹åº”çš„æè´¨å±æ€§</li>
<li>é€šè¿‡C#è„šæœ¬ä¿®æ”¹æè´¨å±æ€§å€¼</li>
<li>å®ç°åŸºäºæ¸¸æˆé€»è¾‘çš„é¢œè‰²åŠ¨æ€å˜åŒ–</li>
</ol>
<h3 data-id="heading-28">å¤šçº§é¢œè‰²æ›¿æ¢</h3>
<p>é€šè¿‡ä¸²è”å¤šä¸ªReplaceColorèŠ‚ç‚¹ï¼Œå¯å®ç°å¤æ‚çš„å¤šçº§é¢œè‰²æ›¿æ¢æ•ˆæœã€‚è¿™ç§æ–¹æ³•é€‚ç”¨äºéœ€è¦åŒæ—¶æ›¿æ¢å¤šç§é¢œè‰²çš„åœºæ™¯ã€‚</p>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>èŠ‚ç‚¹é¡ºåºå½±å“æœ€ç»ˆç»“æœ</li>
<li>æ³¨æ„æ€§èƒ½å¼€é”€çš„ç´¯ç§¯</li>
<li>è€ƒè™‘é¢œè‰²ä¹‹é—´çš„ç›¸äº’å½±å“</li>
</ul>
<h2 data-id="heading-29">æ€»ç»“ä¸æœ€ä½³å®è·µ</h2>
<p>ReplaceColorèŠ‚ç‚¹æ˜¯ShaderGraphä¸­åŠŸèƒ½å¼ºå¤§çš„é¢œè‰²å¤„ç†å·¥å…·ï¼Œé€šè¿‡åˆç†ä½¿ç”¨å…¶å‚æ•°å’Œç»„åˆå…¶ä»–èŠ‚ç‚¹ï¼Œå¯åˆ›å»ºå„ç§è§†è§‰æ•ˆæœã€‚</p>
<h3 data-id="heading-30">ä½¿ç”¨å»ºè®®</h3>
<ul>
<li><strong>ä»ç®€å•å¼€å§‹</strong>ï¼šå…ˆä½¿ç”¨åŸºæœ¬è®¾ç½®ï¼Œé€æ­¥è°ƒæ•´å‚æ•°</li>
<li><strong>æµ‹è¯•ä¸åŒå…‰ç…§æ¡ä»¶</strong>ï¼šç¡®ä¿åœ¨å„ç§å…‰ç…§ç¯å¢ƒä¸‹æ•ˆæœä¸€è‡´</li>
<li><strong>è€ƒè™‘ç›®æ ‡å¹³å°</strong>ï¼šæ ¹æ®è¿è¡Œå¹³å°è°ƒæ•´æ•ˆæœå¤æ‚åº¦å’Œæ€§èƒ½è¦æ±‚</li>
</ul>
<hr/>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fchenghai37%2Fcategory_13074589.html%3Ffromshare%3Dblogcolumn%26sharetype%3Dblogcolumn%26sharerId%3D13074589%26sharerefer%3DPC%26sharesource%3Dchenghai37%26sharefrom%3Dfrom_link" target="_blank" title="https://blog.csdn.net/chenghai37/category_13074589.html?fromshare=blogcolumn&amp;sharetype=blogcolumn&amp;sharerId=13074589&amp;sharerefer=PC&amp;sharesource=chenghai37&amp;sharefrom=from_link" ref="nofollow noopener noreferrer">ã€Unity Shader Graph ä½¿ç”¨ä¸ç‰¹æ•ˆå®ç°ã€‘</a><strong>ä¸“æ -ç›´è¾¾</strong>
ï¼ˆæ¬¢è¿<em>ç‚¹èµç•™è¨€</em>æ¢è®¨ï¼Œæ›´å¤šäººåŠ å…¥è¿›æ¥èƒ½æ›´åŠ å®Œå–„è¿™ä¸ªæ¢ç´¢çš„è¿‡ç¨‹ï¼ŒğŸ™ï¼‰</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++20åç¨‹å¦‚ä½•æ’•å¼€å¼‚æ­¥ç¼–ç¨‹çš„ç‰¢ç¬¼]]></title>    <link>https://juejin.cn/post/7583576612390797322</link>    <guid>https://juejin.cn/post/7583576612390797322</guid>    <pubDate>2025-12-14T13:36:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583576612390797322" data-draft-id="7583571595202904102" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++20åç¨‹å¦‚ä½•æ’•å¼€å¼‚æ­¥ç¼–ç¨‹çš„ç‰¢ç¬¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-14T13:36:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++20åç¨‹å¦‚ä½•æ’•å¼€å¼‚æ­¥ç¼–ç¨‹çš„ç‰¢ç¬¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T13:36:44.000Z" title="Sun Dec 14 2025 13:36:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>æ‘˜è¦</strong>ï¼šä¸‰å¹´å‰ï¼Œä¸€ä¸ªæ·±å¤œçš„çº¿ä¸Šäº‹æ•…è®©æˆ‘å½»åº•é†’æ‚Ÿâ€”â€”callback hellä¸æ˜¯æŠ€æœ¯é—®é¢˜ï¼Œè€Œæ˜¯äººæ€§é—®é¢˜ã€‚å½“äººç±»å¤§è„‘ç†è§£ä¸äº†è‡ªå·±å†™çš„ä»£ç æ—¶ï¼Œå°±è¯¥æ¢ç§å†™æ³•äº†ã€‚C++20åç¨‹å°±æ˜¯è¿™ä¸ªç­”æ¡ˆï¼Œä½†å®ƒçœŸçš„èƒ½æ•‘æˆ‘ä»¬äºæ°´ç«å—ï¼Ÿ</p>
</blockquote>
<h2 data-id="heading-0"><strong>å‡Œæ™¨ä¸‰ç‚¹ï¼Œæˆ‘åˆ æ‰äº†æœ€åä¸€è¡Œå›è°ƒä»£ç </strong></h2>
<p>é‚£æ˜¯2021å¹´å†¬å¤©ï¼Œç³»ç»Ÿçªå‘å´©æºƒã€‚äº‹ååˆ†æï¼Œç½ªé­ç¥¸é¦–æ˜¯ä¸€æ®µæ·±åº¦åµŒå¥—çš„å›è°ƒï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp">order_service.<span class="hljs-built_in">async_get_order</span>(order_id, [<span class="hljs-keyword">this</span>](Order order) {
    user_service.<span class="hljs-built_in">async_get_user</span>(order.user_id, [<span class="hljs-keyword">this</span>, order](User user) {
        risk_service.<span class="hljs-built_in">async_check</span>(order, user, [<span class="hljs-keyword">this</span>, order, user](<span class="hljs-type">bool</span> passed) {
            <span class="hljs-keyword">if</span>(passed) {
                market_service.<span class="hljs-built_in">async_execute</span>(order, [<span class="hljs-keyword">this</span>, order](Result result) {
                    db_service.<span class="hljs-built_in">async_save</span>(result, [<span class="hljs-keyword">this</span>, result]() {
                        notify_service.<span class="hljs-built_in">async_send</span>(result, [<span class="hljs-keyword">this</span>]() {
                            <span class="hljs-comment">// è¿˜æœ‰ç¬¬7å±‚...</span>
                        });
                    });
                });
            }
        });
    });
});
</code></pre>
<p><strong>é—®é¢˜ä¸åœ¨ä»£ç ï¼Œè€Œåœ¨æˆ‘ä»¬çš„å¤§è„‘</strong>â€”â€”æ²¡äººèƒ½åœ¨å‡Œæ™¨ä¸‰ç‚¹ä¿æŒ7å±‚å›è°ƒçš„æ¸…é†’ã€‚</p>
<h2 data-id="heading-1"><strong>ä»å›è°ƒåç¨‹ï¼Œä¸æ˜¯æ¢è¯­æ³•ï¼Œæ˜¯æ¢è„‘å­</strong></h2>
<h3 data-id="heading-2"><strong>ç¬¬ä¸€æ­¥ï¼šæ‰¿è®¤å›è°ƒåäººç±»</strong></h3>
<p>å›è°ƒçš„é—®é¢˜æœ¬è´¨æ˜¯<strong>æ§åˆ¶æµåè½¬</strong>ã€‚ä½ çš„ä»£ç ä¸å†ä»ä¸Šå¾€ä¸‹æ‰§è¡Œï¼Œè€Œæ˜¯åœ¨å„ä¸ªå›è°ƒå‡½æ•°é—´è·³è·ƒã€‚è¿™å°±åƒè¯»ä¹¦æ—¶æ¯è¯»ä¸€æ®µå°±è¦ç¿»åˆ°ä¹¦çš„æœ€åçœ‹æ³¨é‡Šï¼Œå†ç¿»å›æ¥ç»§ç»­ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å›è°ƒï¼šä½ çš„çœ¼ç›è¦ä¸Šä¸‹è·³åŠ¨</span>
<span class="hljs-built_in">fetch_data</span>([](Data data) {          <span class="hljs-comment">// è·³åˆ°ç¬¬3æ®µ</span>
    <span class="hljs-built_in">process</span>(data, [](Result result) { <span class="hljs-comment">// è·³åˆ°ç¬¬5æ®µ</span>
        <span class="hljs-built_in">save</span>(result);                 <span class="hljs-comment">// ç»ˆäºç»“æŸäº†ï¼Ÿ</span>
    });
});
<span class="hljs-comment">// è¿™é‡Œè¿˜æœ‰ä»£ç ...                    // å“¦ä¸ï¼Œè¿˜è¦è·³å›è¿™é‡Œ</span>

<span class="hljs-comment">// åç¨‹ï¼šè€è€å®å®ä»ä¸Šå¾€ä¸‹è¯»</span>
Data data = <span class="hljs-keyword">co_await</span> <span class="hljs-built_in">fetch_data</span>();   <span class="hljs-comment">// ç¬¬1æ®µ</span>
Result result = <span class="hljs-built_in">process</span>(data);       <span class="hljs-comment">// ç¬¬2æ®µ  </span>
<span class="hljs-function"><span class="hljs-keyword">co_await</span> <span class="hljs-title">save</span><span class="hljs-params">(result)</span></span>;               <span class="hljs-comment">// ç¬¬3æ®µ</span>
<span class="hljs-comment">// ç»“æŸäº†ï¼Œä¸ç”¨è·³æ¥è·³å»</span>
</code></pre>
<h3 data-id="heading-3"><strong>ç¬¬äºŒæ­¥ï¼šç†è§£åç¨‹ä¸æ˜¯çº¿ç¨‹</strong></h3>
<p>è¿™æ˜¯æœ€æ·±çš„è¯¯è§£ã€‚å¾ˆå¤šäººä»¥ä¸ºåç¨‹æ˜¯ã€Œè½»é‡çº§çº¿ç¨‹ã€ï¼Œå¤§é”™ç‰¹é”™ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// çº¿ç¨‹ï¼šæ“ä½œç³»ç»Ÿç»™ä½ ä¸€æ•´ä¸ªé¢åŒ…è½¦ï¼ˆå®Œæ•´çš„è°ƒç”¨æ ˆï¼‰</span>
<span class="hljs-comment">//       ä½ å¯ä»¥æ‹‰è´§ï¼ˆæ‰§è¡Œä»£ç ï¼‰ï¼Œä½†è½¦å¾ˆè´µï¼Œåœè½¦åœºï¼ˆå†…å­˜ï¼‰æœ‰é™</span>
<span class="hljs-function">std::thread <span class="hljs-title">t1</span><span class="hljs-params">([] { heavy_work(); })</span></span>;  <span class="hljs-comment">// ç§Ÿäº†ä¸€è¾†é¢åŒ…è½¦</span>
<span class="hljs-function">std::thread <span class="hljs-title">t2</span><span class="hljs-params">([] { light_work(); })</span></span>;  <span class="hljs-comment">// åˆç§Ÿä¸€è¾†ï¼Œä¸ºäº†è¿ä¸€è¢‹ç±³ï¼Ÿ</span>

<span class="hljs-comment">// åç¨‹ï¼šå…±äº«å•è½¦ + æ™ºèƒ½è°ƒåº¦</span>
<span class="hljs-comment">//       ä½ éœ€è¦æ—¶æ‰«ç éª‘èµ°ï¼ˆåˆ›å»ºåç¨‹ï¼‰ï¼Œç”¨å®Œè¿˜è½¦ï¼ˆæŒ‚èµ·ï¼‰</span>
<span class="hljs-comment">//       ä¸€ä¸ªè°ƒåº¦å‘˜ï¼ˆè°ƒåº¦å™¨ï¼‰ç®¡ç†å‡ ç™¾è¾†å•è½¦</span>
<span class="hljs-keyword">auto</span> task = []() -&gt; Task&lt;<span class="hljs-type">void</span>&gt; {
    <span class="hljs-keyword">co_await</span> <span class="hljs-built_in">light_work</span>();  <span class="hljs-comment">// éª‘å•è½¦å»ä¹°å’–å•¡</span>
    <span class="hljs-function"><span class="hljs-keyword">co_await</span> <span class="hljs-title">heavy_work</span><span class="hljs-params">()</span></span>;  <span class="hljs-comment">// æ¢è¾†ä¸‰è½®è½¦è¿è´§</span>
};
</code></pre>
<p><strong>å…³é”®åŒºåˆ«</strong>ï¼šçº¿ç¨‹åˆ‡æ¢éœ€è¦æ¢æ•´ä¸ªé¢åŒ…è½¦ï¼ˆä¿å­˜æ‰€æœ‰å¯„å­˜å™¨ã€æ ˆï¼‰ï¼Œåç¨‹åˆ‡æ¢åªéœ€è¦è®°ä½å•è½¦åœåœ¨å“ªä¸ªä½ç½®ï¼ˆä¿å­˜å±€éƒ¨å˜é‡å’Œç¨‹åºè®¡æ•°å™¨ï¼‰ã€‚</p>
<h3 data-id="heading-4"><strong>ç¬¬ä¸‰æ­¥ï¼šäº²æ‰‹å®ç°ä¸€ä¸ªæœ€ç®€å•çš„åç¨‹</strong></h3>
<p>ä¸è¦æ€¥ç€ç”¨æ ‡å‡†åº“ï¼Œæˆ‘ä»¬å…ˆè‡ªå·±é€ ä¸ªè½®å­ï¼Œæ‰èƒ½çœŸæ­£ç†è§£ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä¸€ä¸ªæå…¶ç®€åŒ–çš„åç¨‹å®ç°ï¼ˆ50è¡Œä»£ç ï¼‰</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">MiniCoroutine</span> {
    <span class="hljs-type">int</span> line = <span class="hljs-number">0</span>;           <span class="hljs-comment">// è®°å½•æ‰§è¡Œåˆ°å“ªä¸€è¡Œ</span>
    std::string data;       <span class="hljs-comment">// åç¨‹çš„å±€éƒ¨æ•°æ®</span>
    
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">resume</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">switch</span>(line) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
                std::cout &lt;&lt; <span class="hljs-string">"åç¨‹å¼€å§‹\n"</span>;
                line = <span class="hljs-number">1</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// å‘Šè¯‰è°ƒç”¨è€…ï¼šæˆ‘è¿˜æ²¡å®Œ</span>
            
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
                std::cout &lt;&lt; <span class="hljs-string">"æ‰§è¡Œåˆ°ä¸€åŠï¼Œæš‚åœä¸€ä¸‹\n"</span>;
                line = <span class="hljs-number">2</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æš‚åœ</span>
            
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
                std::cout &lt;&lt; <span class="hljs-string">"ç»§ç»­æ‰§è¡Œ\n"</span>;
                line = <span class="hljs-number">3</span>;
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// å‘Šè¯‰è°ƒç”¨è€…ï¼šæˆ‘ç»“æŸäº†</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
};

<span class="hljs-comment">// ä½¿ç”¨æ–¹å¼</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">test_mini_coro</span><span class="hljs-params">()</span> </span>{
    MiniCoroutine coro;
    <span class="hljs-keyword">while</span>(coro.<span class="hljs-built_in">resume</span>()) {
        std::cout &lt;&lt; <span class="hljs-string">"ä¸»çº¿ç¨‹åšå…¶ä»–äº‹...\n"</span>;
    }
}
</code></pre>
<p><strong>è¿™å°±æ˜¯åç¨‹çš„æœ¬è´¨</strong>ï¼šä¸€ä¸ªèƒ½è®°ä½æ‰§è¡Œä½ç½®çš„å‡½æ•°ã€‚C++20çš„æ ‡å‡†åç¨‹åªæ˜¯æŠŠè¿™ä¸ªæ¦‚å¿µæ ‡å‡†åŒ–ã€ä¼˜åŒ–åˆ°äº†æè‡´ã€‚</p>
<h2 data-id="heading-5"><strong>co_awaitçš„æœ´ç´ åŸç†</strong></h2>
<p>å½“ä½ å†™<code>co_await something()</code>æ—¶ï¼Œç¼–è¯‘å™¨åšäº†ä»€ä¹ˆï¼Ÿ</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä½ å†™çš„</span>
<span class="hljs-function">Task&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">get_user_data</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span> </span>{
    <span class="hljs-keyword">auto</span> user = <span class="hljs-keyword">co_await</span> db.<span class="hljs-built_in">get_user</span>(id);
    <span class="hljs-keyword">auto</span> profile = <span class="hljs-keyword">co_await</span> cache.<span class="hljs-built_in">get_profile</span>(user.id);
    <span class="hljs-function"><span class="hljs-keyword">co_return</span> <span class="hljs-title">merge</span><span class="hljs-params">(user, profile)</span></span>;
}

<span class="hljs-comment">// ç¼–è¯‘å™¨çœ‹åˆ°çš„ï¼ˆç®€åŒ–ç‰ˆï¼‰</span>
<span class="hljs-function">Task&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">get_user_data</span><span class="hljs-params">(<span class="hljs-type">int</span> id)</span> </span>{
    <span class="hljs-comment">// ç¼–è¯‘å™¨ç”Ÿæˆä¸€ä¸ªçŠ¶æ€æœº</span>
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">StateMachine</span> {
        <span class="hljs-type">int</span> state = <span class="hljs-number">0</span>;
        User user;
        Profile profile;
        
        <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">move_next</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">switch</span>(state) {
                <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>: <span class="hljs-comment">// åˆå§‹çŠ¶æ€</span>
                    <span class="hljs-built_in">start_db_call</span>();
                    state = <span class="hljs-number">1</span>;
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// æŒ‚èµ·</span>
                    
                <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>: <span class="hljs-comment">// db.get_userå®Œæˆ</span>
                    user = <span class="hljs-built_in">get_db_result</span>();
                    <span class="hljs-built_in">start_cache_call</span>();
                    state = <span class="hljs-number">2</span>;
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// æŒ‚èµ·</span>
                    
                <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>: <span class="hljs-comment">// cache.get_profileå®Œæˆ  </span>
                    profile = <span class="hljs-built_in">get_cache_result</span>();
                    state = <span class="hljs-number">3</span>;
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// å®Œæˆ</span>
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        }
    };
    
    <span class="hljs-comment">// å®é™…çš„è°ƒåº¦é€»è¾‘...</span>
}
</code></pre>
<p><strong>é­”æ³•æ¶ˆå¤±äº†å—ï¼Ÿ</strong> åç¨‹æ²¡æœ‰é­”æ³•ï¼Œåªæ˜¯ç¼–è¯‘å™¨å¸®ä½ å†™äº†çŠ¶æ€æœºä»£ç ã€‚ä»¥å‰ä½ è¦æ‰‹å†™è¿™äº›çŠ¶æ€åˆ‡æ¢ï¼Œç°åœ¨ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆã€‚</p>
<h2 data-id="heading-6"><strong>æ€§èƒ½ä¹‹äº‰ï¼šåç¨‹çœŸçš„æ¯”çº¿ç¨‹å¿«å—ï¼Ÿ</strong></h2>
<p>è¿™ä¸ªé—®é¢˜æ²¡æœ‰ç®€å•ç­”æ¡ˆã€‚è®©æˆ‘ç”¨å®é™…æ•°æ®è¯´è¯ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æµ‹è¯•åœºæ™¯ï¼šå¤„ç†10ä¸‡ä¸ªç½‘ç»œè¿æ¥</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">benchmark_connections</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// æ–¹æ¡ˆAï¼šçº¿ç¨‹æ± ï¼Œæ¯ä¸ªè¿æ¥ä¸€ä¸ªä»»åŠ¡</span>
    <span class="hljs-function">ThreadPool <span class="hljs-title">pool</span><span class="hljs-params">(<span class="hljs-number">100</span>)</span></span>;
    <span class="hljs-keyword">auto</span> start = std::chrono::steady_clock::<span class="hljs-built_in">now</span>();
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000</span>; ++i) {
        pool.<span class="hljs-built_in">enqueue</span>(handle_connection, i);
    }
    <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ...</span>
    <span class="hljs-keyword">auto</span> thread_time = <span class="hljs-built_in">get_elapsed</span>(start);
    
    <span class="hljs-comment">// æ–¹æ¡ˆBï¼šåç¨‹ï¼Œå•çº¿ç¨‹äº‹ä»¶å¾ªç¯</span>
    start = std::chrono::steady_clock::<span class="hljs-built_in">now</span>();
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000</span>; ++i) {
        <span class="hljs-built_in">co_spawn</span>(<span class="hljs-built_in">handle_connection_coro</span>(i));
    }
    <span class="hljs-comment">// è¿è¡Œäº‹ä»¶å¾ªç¯...</span>
    <span class="hljs-keyword">auto</span> coro_time = <span class="hljs-built_in">get_elapsed</span>(start);
    
    std::cout &lt;&lt; <span class="hljs-string">"10ä¸‡è¿æ¥å¤„ç†æ—¶é—´ï¼š\n"</span>
              &lt;&lt; <span class="hljs-string">"çº¿ç¨‹æ± : "</span> &lt;&lt; thread_time &lt;&lt; <span class="hljs-string">"ms\n"</span>
              &lt;&lt; <span class="hljs-string">"åç¨‹:   "</span> &lt;&lt; coro_time &lt;&lt; <span class="hljs-string">"ms\n"</span>;
}
</code></pre>
<p><strong>ç»“æœå‡ºä¹æ„æ–™</strong>ï¼š</p>
<ul>
<li>å°æ•°æ®åŒ…ã€é«˜å¹¶å‘ï¼šåç¨‹å®Œèƒœï¼ˆå¿«3-5å€ï¼‰</li>
<li>å¤§æ•°æ®é‡ã€è®¡ç®—å¯†é›†ï¼šçº¿ç¨‹æ± æœ‰æ—¶æ›´å¥½</li>
<li>å†…å­˜ä½¿ç”¨ï¼šåç¨‹æ˜¯çº¿ç¨‹çš„1/100</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong> çº¿ç¨‹åˆ‡æ¢è¦è¿›å†…æ ¸ã€è¦ä¿å­˜æ•´ä¸ªæ ˆï¼Œåç¨‹åˆ‡æ¢åœ¨ç”¨æˆ·æ€ã€åªä¿å­˜å¿…è¦çŠ¶æ€ã€‚</p>
<h2 data-id="heading-7"><strong>å®æˆ˜ï¼šç”¨åç¨‹é‡å†™ä¸€ä¸ªRediså®¢æˆ·ç«¯</strong></h2>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªçœŸå®æ¡ˆä¾‹ã€‚è¿™æ˜¯æŸå…¬å¸ç”¨åç¨‹é‡å†™Rediså®¢æˆ·ç«¯åçš„å˜åŒ–ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ—§ç‰ˆï¼šå›è°ƒå¼Rediså®¢æˆ·ç«¯</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisClientOld</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; key, std::function&lt;<span class="hljs-type">void</span>(std::optional&lt;std::string&gt;)&gt; callback)</span> </span>{
        <span class="hljs-built_in">send_command</span>(<span class="hljs-string">"GET "</span> + key, [callback](Response resp) {
            <span class="hljs-keyword">if</span>(resp.error) <span class="hljs-built_in">callback</span>(std::<span class="hljs-literal">nullopt</span>);
            <span class="hljs-keyword">else</span> <span class="hljs-built_in">callback</span>(resp.value);
        });
    }
    
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">set</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; key, <span class="hljs-type">const</span> std::string&amp; value, 
             std::function&lt;<span class="hljs-type">void</span>(<span class="hljs-type">bool</span>)&gt; callback)</span> </span>{
        <span class="hljs-built_in">send_command</span>(<span class="hljs-string">"SET "</span> + key + <span class="hljs-string">" "</span> + value, [callback](Response resp) {
            <span class="hljs-built_in">callback</span>(!resp.error);
        });
    }
};

<span class="hljs-comment">// ä½¿ç”¨æ—¶çš„ç—›è‹¦</span>
redis.<span class="hljs-built_in">get</span>(<span class="hljs-string">"user:100"</span>, [&amp;redis](<span class="hljs-keyword">auto</span> user_json) {
    <span class="hljs-keyword">if</span>(user_json) {
        redis.<span class="hljs-built_in">set</span>(<span class="hljs-string">"cache:user:100"</span>, *user_json, [](<span class="hljs-type">bool</span> success) {
            <span class="hljs-comment">// è¿™é‡Œè¿˜è¦ç»§ç»­...</span>
        });
    }
});

<span class="hljs-comment">// æ–°ç‰ˆï¼šåç¨‹å¼Rediså®¢æˆ·ç«¯</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisClientCoro</span> {
<span class="hljs-keyword">public</span>:
    Task&lt;std::optional&lt;std::string&gt;&gt; <span class="hljs-built_in">get</span>(<span class="hljs-type">const</span> std::string&amp; key) {
        <span class="hljs-keyword">auto</span> resp = <span class="hljs-keyword">co_await</span> <span class="hljs-built_in">send_command</span>(<span class="hljs-string">"GET "</span> + key);
        <span class="hljs-keyword">if</span>(resp.error) <span class="hljs-keyword">co_return</span> std::<span class="hljs-literal">nullopt</span>;
        <span class="hljs-keyword">co_return</span> resp.value;
    }
    
    <span class="hljs-function">Task&lt;<span class="hljs-type">bool</span>&gt; <span class="hljs-title">set</span><span class="hljs-params">(<span class="hljs-type">const</span> std::string&amp; key, <span class="hljs-type">const</span> std::string&amp; value)</span> </span>{
        <span class="hljs-keyword">auto</span> resp = <span class="hljs-keyword">co_await</span> <span class="hljs-built_in">send_command</span>(<span class="hljs-string">"SET "</span> + key + <span class="hljs-string">" "</span> + value);
        <span class="hljs-keyword">co_return</span> !resp.error;
    }
};

<span class="hljs-comment">// ä½¿ç”¨æ—¶çš„æ¸…çˆ½</span>
<span class="hljs-function">Task&lt;<span class="hljs-type">void</span>&gt; <span class="hljs-title">cache_user_data</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">auto</span> user_data = <span class="hljs-keyword">co_await</span> redis.<span class="hljs-built_in">get</span>(<span class="hljs-string">"user:100"</span>);
    <span class="hljs-keyword">if</span>(user_data) {
        <span class="hljs-keyword">co_await</span> redis.<span class="hljs-built_in">set</span>(<span class="hljs-string">"cache:user:100"</span>, *user_data);
    }
}
</code></pre>
<p><strong>æ”¹é€ ç»“æœ</strong>ï¼š</p>
<ul>
<li>ä»£ç è¡Œæ•°å‡å°‘40%</li>
<li>é”™è¯¯å¤„ç†ç»Ÿä¸€äº†</li>
<li>æ€§èƒ½æå‡20%ï¼ˆå› ä¸ºå‡å°‘äº†é—­åŒ…åˆ›å»ºï¼‰</li>
<li>æ–°åŒäº‹ä¸Šæ‰‹æ—¶é—´ä»2å‘¨ç¼©çŸ­åˆ°2å¤©</li>
</ul>
<h2 data-id="heading-8"><strong>åç¨‹çš„é˜´æš—é¢ï¼šé‚£äº›æ²¡äººå‘Šè¯‰ä½ çš„å‘</strong></h2>
<h3 data-id="heading-9"><strong>å‘1ï¼šåç¨‹ä¸æ˜¯å…è´¹çš„åˆé¤</strong></h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">Task&lt;<span class="hljs-type">void</span>&gt; <span class="hljs-title">dangerous_coroutine</span><span class="hljs-params">()</span> </span>{
    std::mutex mtx;
    <span class="hljs-function">std::lock_guard <span class="hljs-title">lock</span><span class="hljs-params">(mtx)</span></span>;  <span class="hljs-comment">// å±é™©ï¼</span>
    
    <span class="hljs-comment">// å¦‚æœåœ¨è¿™é‡Œco_awaitï¼Œå…¶ä»–åç¨‹ä¹Ÿå°è¯•é”è¿™ä¸ªmutex...</span>
    <span class="hljs-function"><span class="hljs-keyword">co_await</span> <span class="hljs-title">async_io</span><span class="hljs-params">()</span></span>;
    <span class="hljs-comment">// å¯èƒ½æ­»é”ï¼å› ä¸ºåç¨‹åœ¨ç­‰å¾…IOæ—¶ä¸ä¼šé‡Šæ”¾é”</span>
}

<span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼šç”¨åç¨‹å‹å¥½çš„åŒæ­¥åŸè¯­</span>
<span class="hljs-function">Task&lt;<span class="hljs-type">void</span>&gt; <span class="hljs-title">safe_coroutine</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">co_await</span> mutex_.<span class="hljs-built_in">lock_async</span>();  <span class="hljs-comment">// ä¸“é—¨ä¸ºåç¨‹è®¾è®¡çš„é”</span>
    <span class="hljs-function"><span class="hljs-keyword">co_await</span> <span class="hljs-title">async_io</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">co_await</span> mutex_.<span class="hljs-built_in">unlock_async</span>();
}
</code></pre>
<h3 data-id="heading-10"><strong>å‘2ï¼šå¼‚å¸¸å¤„ç†å˜å¾—å¤æ‚</strong></h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-function">Task&lt;<span class="hljs-type">void</span>&gt; <span class="hljs-title">exception_hell</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-function"><span class="hljs-keyword">co_await</span> <span class="hljs-title">step1</span><span class="hljs-params">()</span></span>;
        <span class="hljs-function"><span class="hljs-keyword">co_await</span> <span class="hljs-title">step2</span><span class="hljs-params">()</span></span>;  <span class="hljs-comment">// å¦‚æœè¿™é‡ŒæŠ›å¼‚å¸¸...</span>
    } <span class="hljs-built_in">catch</span>(...) {
        <span class="hljs-comment">// step1ç”³è¯·çš„èµ„æºå¯èƒ½æ³„æ¼ï¼</span>
    }
}

<span class="hljs-comment">// è§£å†³æ–¹æ¡ˆï¼šRAIIåœ¨åç¨‹ä¸­è¦æ ¼å¤–å°å¿ƒ</span>
<span class="hljs-function">Task&lt;<span class="hljs-type">void</span>&gt; <span class="hljs-title">safe_with_raii</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">auto</span> resource = <span class="hljs-keyword">co_await</span> <span class="hljs-built_in">acquire_resource</span>();
    
    <span class="hljs-comment">// ä½¿ç”¨unique_ptrç®¡ç†</span>
    <span class="hljs-keyword">auto</span> guard = std::<span class="hljs-built_in">unique_ptr</span>&lt;Resource, Deleter&gt;(resource);
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-function"><span class="hljs-keyword">co_await</span> <span class="hljs-title">use_resource</span><span class="hljs-params">(resource)</span></span>;
    } <span class="hljs-built_in">catch</span>(...) {
        <span class="hljs-comment">// unique_pträ¼šç¡®ä¿èµ„æºé‡Šæ”¾</span>
        <span class="hljs-keyword">throw</span>;
    }
    
    <span class="hljs-comment">// æ­£å¸¸é‡Šæ”¾</span>
    <span class="hljs-built_in">release_resource</span>(guard.<span class="hljs-built_in">release</span>());
}
</code></pre>
<h3 data-id="heading-11"><strong>å‘3ï¼šè°ƒè¯•å›°éš¾</strong></h3>
<p>åç¨‹çš„è°ƒç”¨æ ˆåœ¨è°ƒè¯•å™¨ä¸­æ˜¯æ–­è£‚çš„ã€‚ä½ çœ‹åˆ°çš„æ ˆå›æº¯å¯èƒ½æ˜¯ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">main</span>()
scheduler::<span class="hljs-built_in">run</span>()
coroutine_frame::<span class="hljs-built_in">resume</span>()
???
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šç»™åç¨‹å‘½åï¼Œè®°å½•åç¨‹IDï¼Œä½¿ç”¨åç¨‹æ„ŸçŸ¥çš„è°ƒè¯•å·¥å…·ã€‚</p>
<h2 data-id="heading-12"><strong>åç¨‹ç”Ÿæ€ï¼šç°åœ¨è¿˜æ˜¯ä¸€ç‰‡è’é‡</strong></h2>
<p>C++20åªæä¾›äº†åç¨‹çš„åº•å±‚æœºåˆ¶ï¼Œå°±åƒåªç»™äº†ä½ ç –å¤´æ°´æ³¥ï¼Œæ²¡ç»™å»ºç­‘è®¾è®¡å›¾ã€‚ä½ éœ€è¦è‡ªå·±é€ è½®å­ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä½ éœ€è¦è‡ªå·±å®ç°æˆ–æ‰¾ç¬¬ä¸‰æ–¹åº“ï¼š</span>
<span class="hljs-comment">// 1. ä»»åŠ¡ç±»å‹ï¼ˆTask&lt;T&gt;ï¼‰</span>
<span class="hljs-comment">// 2. è°ƒåº¦å™¨</span>
<span class="hljs-comment">// 3. å¼‚æ­¥åŸè¯­ï¼ˆé”ã€æ¡ä»¶å˜é‡ç­‰ï¼‰</span>
<span class="hljs-comment">// 4. ç½‘ç»œIOå°è£…</span>
<span class="hljs-comment">// 5. å–æ¶ˆæœºåˆ¶</span>
<span class="hljs-comment">// 6. è¶…æ—¶å¤„ç†</span>
<span class="hljs-comment">// 7. ...</span>

<span class="hljs-comment">// å½“å‰å¯ç”¨çš„åº“ï¼š</span>
<span class="hljs-comment">// - cppcoroï¼ˆå¾®è½¯ï¼‰ï¼šå…¨é¢ä½†å¤æ‚</span>
<span class="hljs-comment">// - folly::coroï¼ˆFacebookï¼‰ï¼šç”Ÿäº§çº§ä½†ä¾èµ–folly</span>
<span class="hljs-comment">// - boost.coroutine2ï¼šæœ‰æ ˆåç¨‹ï¼Œä¸æ˜¯C++20é£æ ¼</span>
<span class="hljs-comment">// - è‡ªå·±é€ è½®å­ï¼šé€‚åˆå­¦ä¹ ï¼Œç”Ÿäº§ç¯å¢ƒæ…é‡</span>
</code></pre>
<h2 data-id="heading-13"><strong>åˆ°åº•è¦ä¸è¦ç”¨ï¼Ÿæˆ‘çš„è¯šæ³å»ºè®®</strong></h2>
<h3 data-id="heading-14"><strong>é€‚åˆç”¨åç¨‹çš„åœºæ™¯</strong>ï¼š</h3>
<ol>
<li><strong>æ–°çš„ç½‘ç»œæœåŠ¡</strong>ï¼šä»é›¶å¼€å§‹ï¼Œæ²¡æœ‰å†å²åŒ…è¢±</li>
<li><strong>é«˜å¹¶å‘ä¸­é—´ä»¶</strong>ï¼šä»£ç†ã€ç½‘å…³ã€æ¶ˆæ¯é˜Ÿåˆ—</li>
<li><strong>å›¢é˜ŸæŠ€æœ¯å¼º</strong>ï¼šæœ‰äººèƒ½holdä½åº•å±‚é—®é¢˜</li>
<li><strong>æ€§èƒ½æ˜¯ç”Ÿå‘½çº¿</strong>ï¼šæ„¿æ„ä¸ºæ€§èƒ½ä»˜å‡ºå­¦ä¹ æˆæœ¬</li>
</ol>
<h3 data-id="heading-15"><strong>æš‚æ—¶åˆ«ç”¨çš„åœºæ™¯</strong>ï¼š</h3>
<ol>
<li><strong>ç»´æŠ¤è€é¡¹ç›®</strong>ï¼šé£é™©å¤§äºæ”¶ç›Š</li>
<li><strong>å›¢é˜ŸC++æ°´å¹³ä¸€èˆ¬</strong>ï¼šå…ˆç”¨å¥½æ™ºèƒ½æŒ‡é’ˆå’Œç§»åŠ¨è¯­ä¹‰</li>
<li><strong>èµ¶è¿›åº¦çš„ä¸šåŠ¡é¡¹ç›®</strong>ï¼šåç¨‹ä¼šæ‹–æ…¢åˆæœŸå¼€å‘</li>
<li><strong>åµŒå…¥å¼/èµ„æºæåº¦å—é™</strong>ï¼šåç¨‹æœ‰é¢å¤–å¼€é”€</li>
</ol>
<h2 data-id="heading-16"><strong>æˆ‘çš„é€‰æ‹©ï¼šå…ˆåœ¨å°é¡¹ç›®é‡Œè¯•æ°´</strong></h2>
<p>å»å¹´ï¼Œæˆ‘å†³å®šåœ¨å›¢é˜Ÿçš„ç›‘æ§ä»£ç†æœåŠ¡ä¸­å°è¯•åç¨‹ã€‚è¿™ä¸ªæœåŠ¡ç‰¹ç‚¹ï¼š</p>
<ul>
<li>éœ€è¦å¤„ç†å‡ åƒä¸ªè¿æ¥</li>
<li>é€»è¾‘ç›¸å¯¹ç®€å•</li>
<li>å¯ä»¥å®¹å¿ä¸€å®šé£é™©</li>
</ul>
<p><strong>ç»“æœ</strong>ï¼š</p>
<ul>
<li>å¼€å‘æ—¶é—´å¢åŠ äº†30%ï¼ˆå­¦ä¹ æ›²çº¿ï¼‰</li>
<li>æ€§èƒ½æå‡äº†40%</li>
<li>å†…å­˜ä½¿ç”¨å‡å°‘äº†70%</li>
<li>ä»£ç è¡Œæ•°å‡å°‘äº†35%</li>
<li>åŠå¹´å†…æ²¡æœ‰åç¨‹ç›¸å…³çš„bug</li>
</ul>
<p><strong>æœ€é‡è¦çš„æ˜¯</strong>ï¼šå›¢é˜ŸæŒæ¡äº†è¿™é¡¹æŠ€æœ¯ï¼Œç°åœ¨åœ¨æ–°é¡¹ç›®ä¸­å¯ä»¥è‡ªä¿¡åœ°ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-17"><strong>å†™åœ¨æœ€åï¼šæŠ€æœ¯äººçš„ç†æ€§ä¸æµªæ¼«</strong></h2>
<p>åç¨‹è®©æˆ‘æƒ³èµ·äº†2016å¹´ç¬¬ä¸€æ¬¡æ¥è§¦å¤šçº¿ç¨‹ç¼–ç¨‹çš„æ—¶å€™ã€‚å½“æ—¶è§‰å¾—ã€Œå¤©å•Šï¼Œè¿™å¤ªå¤æ‚äº†ã€ï¼Œä½†ä»Šå¤©å¤šçº¿ç¨‹å·²ç»æ˜¯ç¨‹åºå‘˜çš„åŸºæœ¬åŠŸã€‚</p>
<p>æŠ€æœ¯å°±æ˜¯è¿™æ ·ï¼Œä»Šå¤©çš„å°–ç«¯ï¼Œæ˜å¤©çš„å¸¸è¯†ã€‚</p>
<p>C++20åç¨‹ç°åœ¨çœ‹èµ·æ¥è¿˜æœ‰ç‚¹ã€Œé‡ã€ï¼Œæœ‰ç‚¹ã€Œéš¾ã€ï¼Œæœ‰ç‚¹åƒæ—©æœŸLinuxã€‚ä½†æ­£æ˜¯è¿™ç§ã€Œä¸å®Œç¾ã€è®©å®ƒæœ‰æ— é™å¯èƒ½â€”â€”ä½ å¯ä»¥æŒ‰è‡ªå·±çš„éœ€æ±‚å®šåˆ¶è°ƒåº¦ç­–ç•¥ï¼Œå¯ä»¥ä¼˜åŒ–å†…å­˜å¸ƒå±€ï¼Œå¯ä»¥é›†æˆåˆ°ä»»ä½•äº‹ä»¶å¾ªç¯ä¸­ã€‚</p>
<p><strong>ä¸è¦å› ä¸ºåç¨‹æ˜¯æ–°çš„å°±ç”¨å®ƒï¼Œä¹Ÿä¸è¦å› ä¸ºå®ƒå¤æ‚å°±å›é¿å®ƒ</strong>ã€‚æŠŠå®ƒå½“æˆå·¥å…·ç®±é‡Œçš„ä¸€æŠŠæ–°æ‰³æ‰‹ï¼Œåœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹ï¼Œå®ƒæ¯”æ—§æ‰³æ‰‹æ›´å¥½ç”¨ã€‚</p>
<p>async/awaitæ˜¯ç»™å¤§å¤šæ•°äººçš„ç³–ï¼ŒC++åç¨‹æ˜¯ç»™æ‰‹è‰ºäººçš„å·¥å…·ã€‚ä½ è¦åšå¤§å¤šæ•°äººï¼Œè¿˜æ˜¯æ‰‹è‰ºäººï¼Ÿ</p>
<p>è‡³å°‘æˆ‘ï¼Œé€‰æ‹©åè€…ã€‚å› ä¸ºåœ¨è¿™ä¸ªå¤åˆ¶ç²˜è´´çš„æ—¶ä»£ï¼ŒçœŸæ­£çš„æ‰‹è‰ºæ‰æ˜¯ç¨€ç¼ºå“ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¿ä¸ä½æ¨è ï¼š AI æ—¶ä»£ ï¼Œæ¡Œé¢ç«¯çœŸçš„å¯ä»¥è€ƒè™‘ä¸€ä¸‹Go+Wails çš„ç»„åˆ]]></title>    <link>https://juejin.cn/post/7583226204036186153</link>    <guid>https://juejin.cn/post/7583226204036186153</guid>    <pubDate>2025-12-14T13:43:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583226204036186153" data-draft-id="7582958136258445348" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¿ä¸ä½æ¨è ï¼š AI æ—¶ä»£ ï¼Œæ¡Œé¢ç«¯çœŸçš„å¯ä»¥è€ƒè™‘ä¸€ä¸‹Go+Wails çš„ç»„åˆ"/> <meta itemprop="keywords" content="åç«¯,AIç¼–ç¨‹,Go"/> <meta itemprop="datePublished" content="2025-12-14T13:43:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¿—å­—è¾ˆå°èš‚èš"/> <meta itemprop="url" content="https://juejin.cn/user/3790771822007822"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¿ä¸ä½æ¨è ï¼š AI æ—¶ä»£ ï¼Œæ¡Œé¢ç«¯çœŸçš„å¯ä»¥è€ƒè™‘ä¸€ä¸‹Go+Wails çš„ç»„åˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3790771822007822/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¿—å­—è¾ˆå°èš‚èš
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T13:43:20.000Z" title="Sun Dec 14 2025 13:43:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;color:#282d36}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px;color:#2f845e}.markdown-body h2{font-size:22px;display:inline-block;font-weight:700;background:#2f845e;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(47,132,194,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 32px);border-bottom:3px solid #2f845e}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%;box-shadow:6px 6px 6px #888}.markdown-body hr{border:none;border-top:1px solid rgba(66,185,131,.15);margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:16px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#262626;border:1px solid #2f845e;border-top:8px solid #2f845e;background:linear-gradient(180deg,rgba(66,185,131,.1),transparent)!important}.markdown-body pre&gt;code.hljs[lang]:before{top:8px!important;color:#2f845e!important}.markdown-body pre&gt;code.language-awesome_error{border:1px solid #ff4d4f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ff4d4f!important;background:#fff2f0!important}.markdown-body pre&gt;code.language-awesome_error:before{content:"!"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ff4d4f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_warn{border:1px solid #ffc46f!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#ffc46f!important;background:#fffbe6!important}.markdown-body pre&gt;code.language-awesome_warn:before{content:"â˜‚"!important;position:absolute;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#ffc46f!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_success{border:1px solid #52c41a!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#52c41a!important;background:#f6ffed!important}.markdown-body pre&gt;code.language-awesome_success:before{content:"âœ“"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#52c41a!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body pre&gt;code.language-awesome_info{border:1px solid #1890ff!important;border-left-width:8px;font-size:14px;font-weight:700;padding:15px 12px 15px 16px;margin:0;word-break:normal;white-space:break-spaces;display:block;overflow-x:auto;color:#1890ff!important;background:#e6f7ff!important}.markdown-body pre&gt;code.language-awesome_info:before{content:"i"!important;position:absolute!important;top:50%!important;left:-9px!important;transform:translateY(-14px)!important;background:#1890ff!important;color:#fff!important;border:2px solid #fff!important;display:flex;align-items:center;justify-content:center;width:22px;height:22px;border-radius:100%;font-weight:700;font-family:Dosis,Source Sans Pro,Helvetica Neue,Arial,sans-serif;font-size:16px}.markdown-body strong{background-color:inherit;color:#2f845e}.markdown-body em{background-color:inherit;color:#949415}.markdown-body a{text-decoration:none;color:#2f8e54;border-bottom:1px solid #3f9e64}.markdown-body a:active,.markdown-body a:hover{color:#3f9e64}.markdown-body a[class^=footnote]{margin-left:4px}.markdown-body a:before{content:"â¤ "}.markdown-body table{font-size:12px;width:100%;max-width:100%;overflow:auto;border:2px solid #2f8e54}.markdown-body thead{background:#2f8e54;color:#fff;text-align:left;font-weight:700}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:22px}.markdown-body td{min-width:120px}.markdown-body blockquote{padding:1px 22px;margin:22px 0;border-left:6px solid #2f845e;background-color:rgba(66,185,131,.1);border-radius:2px}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#2f845e}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px;color:#282d36}.markdown-body del{color:#2f845e}.markdown-body input[type=checkbox]:checked:before{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA/klEQVQ4T72TMU7DQBBF318XdFR06egQEnAXRINEGlqgowoIR8AF4AZOZ4JEGq5AC5EixBU4A55BNrEVHAcSBTHlaubt37/zxZKlcn7n6mDPXJvz8IJ89HzWu8t7C8D2dfsY52ae4apHnLx0ktsCsHXZjiUuFgG40x2eJ/H/AhztB+zDUTpLwWj8jGkzxSHiHaMPrDQC8sMoilKzLAUqiKQjmb+ZuAdW80tmelCHODoNgSfP7AFprTTaRTzsJN1GEyuIZ7uW6TEEHwCtyV/6EVBKJHhfzgC0Xv/iXwEFBF4FG0378bd7sPQq5xK/hSnk6sdlX3mZrKkwLZKBeu8n9XuWEUE7X+YAAAAASUVORK5CYII=);position:relative;top:-1px;left:-1px}.markdown-body .math .katex{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#f6ffed;color:#52c41a;font-size:.87em;padding:.065em .4em}@media (max-width:720px){.markdown-body h1{font-size:22px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">ä¸€. å‰è¨€</h2>
<p>ä¹‹å‰æœ‰è¿‡å…³æ³¨çš„å°ä¼™ä¼´ ï¼Œä¸€å®šçŸ¥é“æˆ‘ä¹‹å‰ä¸»è¦çš„æ¡Œé¢ç«¯æ˜¯ : <strong>PyQT</strong> + <strong>Python</strong> çš„ç»„åˆã€‚ è¿™ä¸ªç»„åˆæ•´ä½“æ¥è¯´å¾ˆæˆç†Ÿä¹Ÿå¾ˆå¼ºå¤§ã€‚</p>
<p><strong>åŸºäºè„šæ‰‹æ¶</strong> â—â—â— ï¼Œç®€å•çš„å°å·¥å…·èƒ½è½»æ¾è§£å†³ï¼Œ<strong>å¤æ‚çš„ä¹Ÿèƒ½åšä¸€ä¸ªåå‡ ä¸ªé¡µé¢ï¼Œè¿‘10ä¸‡è¡Œçš„å¤æ‚é¡¹ç›®</strong>ï¼Œ æ•´ä½“è¿˜èƒ½ä¿è¯ä¸€å®šçš„æµç•…æ€§ã€‚</p>
<p>ä½†æ˜¯ ï¼Œéšç€å¯¹ç²¾ç»†åŠŸèƒ½çš„é€æ­¥æé«˜ ï¼Œä»¥åŠæ›´å¤šå¤šæ ·åŒ–çš„å®šåˆ¶éœ€æ±‚ï¼Œä»£ç é‡çš„å¢åŠ  ï¼Œè¿™ä¸€å¥—æœ‰ç‚¹åƒåŠ›äº†ã€‚å¹¶ä¸”<strong>AIåœ¨å…¶ä¸­çš„ä½œç”¨è¶Šæ¥è¶Šä½</strong>ã€‚</p>
<h2 data-id="heading-1">äºŒ. ä¸€æ¬¡å¿ƒè¡€æ¥æ½®çš„å°è¯•</h2>
<p><code>ä»£ç é€»è¾‘è¶Šç®€å• ï¼Œæµç¨‹è¶Šç²¾ç®€ï¼ŒAIæ˜¯è¶Šæ“…é•¿çš„</code>ã€‚</p>
<p>ç›´åˆ°æˆ‘æ— æ„ä¸­äº†è§£åˆ° Go ä¹Ÿæœ‰è‡ªå·±çš„æ¡Œé¢ç«¯æ–¹æ¡ˆ ï¼Œå¹¶ä¸”ç¤¾åŒºæ´»è·ƒåº¦è¿˜ç›¸å½“ä¸é”™ ï¼š</p>
<p>@ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwailsapp%2Fwails" target="_blank" title="https://github.com/wailsapp/wails" ref="nofollow noopener noreferrer">github.com/wailsapp/waâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c80bcded4664f7f8d4e4847bb68668d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-X5a2X6L6I5bCP6JqC6JqB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766324599&amp;x-signature=uE1Z1cbpgehjGToKVKGom2xnBnc%3D" alt="image.png" loading="lazy"/></p>
<p>äºæ˜¯æˆ‘å‘¨æœ«èŠ±äº†å¤§æ¦‚å°åŠå¤©æ—¶é—´è®©AIå†™äº†ä¸€ä¸ªå°åº”ç”¨ ï¼ŒæœŸé—´æˆ‘è¿˜å¼€äº†ä¸¤æŠŠæ¸¸æˆ ï¼Œå“‡ ï¼Œè¿™æ•ˆæœçœŸçš„ä¸é”™ã€‚</p>
<p>ç„¶åæˆ‘å°±å¾ˆç®€å•çš„å¾—åˆ°äº†è¿™æ ·ä¸€ä¸ªåº”ç”¨ ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/591f963fa38e4b76838fdc513163ed04~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-X5a2X6L6I5bCP6JqC6JqB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766324599&amp;x-signature=kSZu5GUF4%2FxNSht07%2FY8hM0Usjg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1bc289a3c98747db8c7ad2cca87487e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-X5a2X6L6I5bCP6JqC6JqB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766324599&amp;x-signature=dxwZkLCKqqmJjK6A3WcS0aSxyEg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ccbb78a9d86148fc830371b8c046b0c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-X5a2X6L6I5bCP6JqC6JqB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766324599&amp;x-signature=v3yUqr7Cev1D8wtIXVK216AC%2BAI%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸‰. åšä¸€ä¸ªå°æ€»ç»“</h2>
<p>ä½†æ˜¯è¿™é‡Œå¯èƒ½ä¼šè®©å¾ˆå¤šå°ä¼™ä¼´æƒ³åˆ°è¿™æ ·ä¸€ä¸ªæ¶æ„ ï¼š Node.js + Electron. è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¤šäººéƒ½çŸ¥é“çš„çƒ­é—¨ç»„åˆï¼Œæˆ‘ä¹‹å‰ä¹Ÿå¤šæ¬¡ä½¿ç”¨è¿‡ä»–å¼€å‘å°å·¥å…· ï¼Œæ•ˆæœä¹Ÿä¸é”™ã€‚</p>
<p>ä½†æ˜¯æˆ‘<strong>è§‰å¾— GO-Wails æ¯”ä»–æ›´é€‚åˆAIæ—¶ä»£</strong> ï¼š è¿™é‡Œè®©AIåšäº†ä¸€ä¸ªå¾ˆæ¸…æ™°çš„æ€»ç»“ ï¼Œå…³äº GO å’Œ Electron çš„é€‰æ‹© ï¼š</p>


















































<table><thead><tr><th>ç»´åº¦</th><th>Go+Wails</th><th>Electron</th></tr></thead><tbody><tr><td><strong>æ€§èƒ½</strong></td><td>â­â­â­â­â­ é£å¿«</td><td>â­â­ æ…¢</td></tr><tr><td><strong>ä½“ç§¯</strong></td><td>â­â­â­â­â­ è‹—æ¡</td><td>â­â­ è‡ƒè‚¿</td></tr><tr><td><strong>å¼€å‘æ•ˆç‡</strong></td><td>â­â­â­ éœ€å­¦Go</td><td>â­â­â­â­â­ å‰ç«¯ç›´æ¥ä¸Šæ‰‹</td></tr><tr><td><strong>ç”Ÿæ€/æ’ä»¶</strong></td><td>â­â­â­ å‘å±•ä¸­</td><td>â­â­â­â­â­ npmåº”æœ‰å°½æœ‰</td></tr><tr><td><strong>è°ƒè¯•ä½“éªŒ</strong></td><td>â­â­â­ å¤Ÿç”¨</td><td>â­â­â­â­â­ DevToolsçœŸé¦™</td></tr><tr><td><strong>ç³»ç»Ÿé›†æˆ</strong></td><td>â­â­â­â­â­ ç›´æ¥è°ƒC/ç³»ç»ŸAPI</td><td>â­â­â­ éœ€è¦ç»•è·¯</td></tr><tr><td><strong>è·¨å¹³å°ä¸€è‡´æ€§</strong></td><td>â­â­â­ WebViewæœ‰å·®å¼‚</td><td>â­â­â­â­â­ è‡ªå¸¦æµè§ˆå™¨ï¼Œè¡¨ç°ç»Ÿä¸€</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>â­â­â­â­ æ”»å‡»é¢å°</td><td>â­â­â­ Node+å‰ç«¯=é£é™©å¤§</td></tr></tbody></table>
<p>é’ˆå¯¹æˆ‘æ¥è¯´ ï¼Œæˆ‘ä¸»è¦æœ‰ä¸¤ä¸ªç›®çš„ ï¼š</p>
<ul>
<li>æˆ‘æ›´å€¾å‘äºå¸¦<strong>ä¼ ç»Ÿåç«¯èƒ½åŠ›</strong>çš„ç»“æ„ï¼Œè¦<strong>å…·æœ‰ä¼ ç»Ÿåç«¯çš„å¤æ‚é€»è¾‘å¤„ç†èƒ½åŠ›å’Œä¼˜ç§€çš„æ€§èƒ½</strong></li>
<li>æˆ‘éœ€è¦ä¸€ä¸ª<strong>ç¾è§‚çš„ APP æ ·å¼</strong> ï¼Œåœ¨æ ·å¼å±‚é¢ ï¼Œæ²¡æœ‰ä»€ä¹ˆè¯­è¨€æ¯” JavaScript æ›´å¼ºäº†</li>
<li>æˆ‘éœ€è¦<strong>æ›´å°çš„åº”ç”¨ä½“ç§¯</strong> ï¼Œæ–¹ä¾¿è½¬å‘</li>
<li>æˆ‘éœ€è¦æ›´æ¥è¿‘è„šæœ¬çš„<strong>ç®€å•è¯­æ³•</strong> ï¼Œé€»è¾‘æ›´ç®€å• ï¼Œä»£ç æ›´è½»æ¾ , 0 åŸºç¡€å°±å¯ä»¥é€šè¿‡AIå®ç°</li>
</ul>
<p>ç»“åˆè¿™äº› ï¼ŒGo + Wails çœŸçš„æ˜¯ä¸€ä¸ªå®Œç¾çš„é€‰æ‹©ã€‚</p>
<h2 data-id="heading-3">å››. ç®€å•è¯´è¯´ Go-Wails</h2>
<p>Wails = <strong>Goåç«¯</strong> + <strong>Webå‰ç«¯</strong> + ç³»ç»ŸWebViewï¼Œæ‰“åŒ…æˆä¸€ä¸ªè½»é‡åŸç”Ÿæ¡Œé¢åº”ç”¨.</p>
<blockquote>
<p>Wails å…·ä½“å¹²äº†ä¸‰ä»¶äº‹</p>
</blockquote>
<p><strong>ç¬¬ä¸€ä»¶ï¼šåµŒå…¥ä¸€ä¸ªæµè§ˆå™¨çª—å£</strong></p>
<p><strong>Wails ä¸ä¼šè‡ªå¸¦æµè§ˆå™¨å†…æ ¸ï¼Œè€Œæ˜¯å€Ÿç”¨æ“ä½œç³»ç»Ÿå·²æœ‰çš„</strong>ã€‚Windows ä¸Šç”¨ WebView2ï¼ˆå°±æ˜¯ Edge çš„å†…æ ¸ï¼‰ï¼ŒmacOS ä¸Šç”¨ WebKitï¼ˆSafari çš„å†…æ ¸ï¼‰ï¼ŒLinux ä¸Šç”¨ WebKitGTKã€‚ä½ çš„å‰ç«¯ä»£ç ï¼ˆHTMLã€CSSã€JSï¼‰å°±åœ¨è¿™ä¸ªçª—å£é‡Œæ¸²æŸ“ï¼Œå’Œåœ¨æµè§ˆå™¨é‡Œæ‰“å¼€ç½‘é¡µæ²¡ä»€ä¹ˆåŒºåˆ«ã€‚</p>
<p><strong>ç¬¬äºŒä»¶ï¼šæ­ä¸€åº§æ¡¥è®© JS å’Œ Go äº’ç›¸è°ƒç”¨</strong></p>
<p>è¿™æ˜¯ Wails æœ€æ ¸å¿ƒçš„èƒ½åŠ›ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œå‰ç«¯æƒ³è°ƒç”¨åç«¯éœ€è¦å‘ HTTP è¯·æ±‚ã€‚ä½† <strong>Wails ç”Ÿæˆäº†ä¸€å±‚ç»‘å®šä»£ç ï¼Œè®©ä½ åœ¨ JS é‡Œå¯ä»¥ç›´æ¥è°ƒç”¨ Go å‡½æ•°</strong>ï¼Œå°±åƒè°ƒç”¨æœ¬åœ°å‡½æ•°ä¸€æ ·ï¼Œä¸éœ€è¦è‡ªå·±å†™æ¥å£ã€å¤„ç†è¯·æ±‚å“åº”ã€‚Go å‡½æ•°çš„è¿”å›å€¼ä¼šç›´æ¥ä¼ å›ç»™ JSã€‚åè¿‡æ¥ï¼ŒGo ä¹Ÿå¯ä»¥å‘å‰ç«¯å‘é€äº‹ä»¶ï¼Œå‰ç«¯ç›‘å¬å°±è¡Œã€‚</p>
<p><strong>ç¬¬ä¸‰ä»¶ï¼šæŠŠæ‰€æœ‰ä¸œè¥¿æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶</strong></p>
<p>æ‰“åŒ…æ—¶ï¼ŒWails ä¼š<strong>æŠŠå‰ç«¯çš„ HTMLã€CSSã€JS å…¨éƒ¨åµŒå…¥åˆ° Go çš„äºŒè¿›åˆ¶æ–‡ä»¶é‡Œ</strong>ã€‚æœ€ç»ˆäº§ç‰©å°±æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œç”¨æˆ·åŒå‡»å°±èƒ½è¿è¡Œï¼Œä¸éœ€è¦é¢å¤–å®‰è£…ä»»ä½•ä¸œè¥¿ã€‚</p>
<p><em>è¿™ä¸€ç¯‡ä¸æ˜¯æ•™ç¨‹æ–‡æ¡£ ï¼Œè¿™ä¸œè¥¿ AI ä¸€æŸ¥ä¸€å¤§æŠŠ ï¼Œè¿™é‡Œå°±ä¸ç»†è¯´äº†ã€‚</em></p>
<h2 data-id="heading-4">äº”. ä¸Šä»£ç </h2>
<p>@ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fantblack%2Fant_go_wails_scaffold" target="_blank" title="https://gitee.com/antblack/ant_go_wails_scaffold" ref="nofollow noopener noreferrer">gitee.com/antblack/anâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30918d869b024ebcb5e3a77fd3e054a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-X5a2X6L6I5bCP6JqC6JqB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766324599&amp;x-signature=8WuhUTy5%2F6b9cMenQvur3olTR1Q%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>æ‰“åŒ…åçš„å¤§å°ï¼ˆPS ï¼šè¿™é‡Œæˆ‘æ²¡æœ‰è¯•è¿‡åˆ†å‘åèƒ½ä¸èƒ½å¼€ç®±å°±ç”¨ï¼Œå“ˆå“ˆå“ˆï¼‰</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fcf34c28be8345e6bcf9a8646267488a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b-X5a2X6L6I5bCP6JqC6JqB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766324599&amp;x-signature=J%2BAHml%2FkEpHZ4wm2esnu4%2BtHU3g%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p>èƒ½åœ¨è¿™ä¹ˆçŸ­çš„æ—¶é—´æ„å»ºå‡ºè¿™ä¹ˆå¥½çš„ä¸€ä¸ªé¡¹ç›® ï¼Œå¹¶ä¸”<strong>æ‰“åŒ…åªéœ€è¦å°å°çš„15M</strong> . å¯åŠ¨è¿˜æ˜¯ç§’å¼€ï¼Œæˆ‘è§‰å¾—æœªæ¥æˆ‘çš„å¤§éƒ¨åˆ†é¡¹ç›®åº”è¯¥éƒ½ä¼šåŸºäºè¿™ä¸ªé¡¹ç›®å®ç°ã€‚</p>
<p>å¦‚æœä½ ç°åœ¨æƒ³æ‰¾åˆ°ä¸€ä¸ªå¥½ç”¨çš„æ¡Œé¢ç«¯æ¡†æ¶ä½“ç³» ï¼Œå¯ä»¥è€ƒè™‘è¿™ä¸ªã€‚</p>
<p><strong>0åŸºç¡€ + AI å°±å¯ä»¥è½»æ¾çš„å®ç°å¤æ‚çš„åŠŸèƒ½ ï¼ŒçœŸçš„å¤ªé€‚åˆAIäº†</strong>ã€‚</p>
<h2 data-id="heading-6">æœ€åçš„æœ€å â¤ï¸â¤ï¸â¤ï¸ğŸ‘‡ğŸ‘‡ğŸ‘‡</h2>
<ul>
<li>ğŸ‘ˆ  <strong>æ¬¢è¿å…³æ³¨</strong>  ï¼Œè¶…200ç¯‡ä¼˜è´¨æ–‡ç« ï¼Œæœªæ¥æŒç»­é«˜è´¨é‡è¾“å‡º ğŸ‰ğŸ‰</li>
<li><a href="https://juejin.cn/post/6941642435189538824" target="_blank" title="https://juejin.cn/post/6941642435189538824">ğŸ”¥ğŸ”¥ğŸ”¥ ç³»åˆ—æ–‡ç« é›†åˆï¼Œé«˜å¹¶å‘ï¼Œæºç åº”æœ‰å°½æœ‰ ğŸ‘ğŸ‘ </a></li>
<li>èµ°è¿‡è·¯è¿‡ä¸è¦é”™è¿‡ ï¼ŒçŸ¥è¯†æ— ä»·è¿˜ä¸æ”¶é’± â—â—</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vibe Codingæ—¶ä»£ï¼šäººäººéƒ½æ˜¯å¼€å‘è€…]]></title>    <link>https://juejin.cn/post/7583574154340532233</link>    <guid>https://juejin.cn/post/7583574154340532233</guid>    <pubDate>2025-12-14T13:54:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583574154340532233" data-draft-id="7583567658253221914" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vibe Codingæ—¶ä»£ï¼šäººäººéƒ½æ˜¯å¼€å‘è€…"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-14T13:54:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vibe Codingæ—¶ä»£ï¼šäººäººéƒ½æ˜¯å¼€å‘è€…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T13:54:13.000Z" title="Sun Dec 14 2025 13:54:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç¼–ç¨‹é¢†åŸŸæ­£åœ¨ç»å†ä¸€åœºé™é»˜çš„é©å‘½ã€‚æ ¹æ®2024å¹´Stack Overflowå¼€å‘è€…è°ƒæŸ¥æŠ¥å‘Šï¼Œ<strong>è¶…è¿‡70%çš„ä¸“ä¸šå¼€å‘è€…å·²åœ¨ä½¿ç”¨AIè¾…åŠ©ç¼–ç¨‹å·¥å…·</strong>ï¼Œè¿™æ­£åœ¨æ”¹å˜è½¯ä»¶çš„ç”Ÿäº§æ–¹å¼ã€å¼€å‘è€…çš„å·¥ä½œå®šä¹‰ï¼Œç”šè‡³è°æœ‰èµ„æ ¼è¢«ç§°ä¸ºâ€œå¼€å‘è€…â€ã€‚</p>
<p>è¿™åœºé©å‘½çš„æ ¸å¿ƒæ˜¯ä¸€ç§åä¸ºVibe Codingçš„æ–°èŒƒå¼ï¼Œå®ƒæ­£åœ¨è®©ç¼–ç¨‹ä»ä¸€é—¨éœ€è¦ç²¾ç¡®è¯­æ³•çš„ä¸“ä¸šæŠ€èƒ½ï¼Œè½¬å˜ä¸ºä¸€ç§æ›´æ¥è¿‘è‡ªç„¶æ€è€ƒçš„åˆ›ä½œæ´»åŠ¨ã€‚</p>
<hr/>
<h2 data-id="heading-0">01 ç¼–ç¨‹èŒƒå¼çš„ç¬¬ä¸‰æ¬¡è·ƒè¿</h2>
<p>è¦ç†è§£Vibe Codingçš„é¢ è¦†æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å›é¡¾ç¼–ç¨‹æ¼”è¿›çš„å†ç¨‹ã€‚</p>
<p>ç¼–ç¨‹è¯­è¨€çš„å‘å±•ç»å†äº†ä»æœºå™¨è¯­è¨€ï¼ˆ0å’Œ1ï¼‰ã€æ±‡ç¼–è¯­è¨€åˆ°é«˜çº§è¯­è¨€çš„å·¨å¤§é£è·ƒï¼Œå…¶æ ¸å¿ƒè¶‹åŠ¿æ˜¯<strong>ä¸æ–­è´´è¿‘äººç±»è‡ªç„¶æ€ç»´</strong>ã€‚Vibe Codingæ­£æ˜¯è¿™ä¸€è¶‹åŠ¿çš„å½“ä¸‹é¡¶ç‚¹ï¼Œå®ƒè¯•å›¾ç”¨æˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„è¯­è¨€ï¼ˆè‹±è¯­ã€ä¸­æ–‡ç­‰ï¼‰ç›´æ¥é©±åŠ¨è®¡ç®—æœºã€‚</p>
<p>å…¶å®šä¹‰çš„æ ¸å¿ƒåœ¨äºä¸‰ä¸ªè½¬å˜ï¼š<strong>äº¤äº’æ–¹å¼</strong>ä»ç¼–å†™ç²¾ç¡®è¯­æ³•è½¬å˜ä¸ºæè¿°æ„å›¾ï¼›<strong>å¼€å‘è€…è§’è‰²</strong>ä»ä»£ç å·¥åŒ è½¬å˜ä¸ºè§£å†³æ–¹æ¡ˆæ¶æ„å¸ˆï¼›<strong>å¼€å‘æµç¨‹</strong>ä»çº¿æ€§è®¾è®¡-ç¼–ç -æµ‹è¯•è½¬å˜ä¸ºä¸AIå¯¹è¯çš„å¿«é€Ÿè¿­ä»£å¾ªç¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/228b9be7f8c447b5931d7e247e74eb7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766325253&amp;x-signature=YZXEBiT%2BpK8CWzb4EzG3fipJNzU%3D" alt="ç¼–ç¨‹èŒƒå¼è·ƒè¿.png" loading="lazy"/></p>
<h2 data-id="heading-1">02 Vibe Codingç©¶ç«Ÿèƒ½åšä»€ä¹ˆï¼Ÿ</h2>
<p>Vibe Codingå¹¶éä¸‡èƒ½ï¼Œä½†åœ¨ç‰¹å®šåœºæ™¯ä¸‹ï¼Œå®ƒæ­£å±•ç°å‡ºæƒŠäººçš„ç”Ÿäº§åŠ›ã€‚</p>
<p>å…¶æœ€æ“…é•¿çš„é¢†åŸŸæ˜¯<strong>å¿«é€ŸåŸå‹æ„å»º</strong>ã€‚æ— è®ºæ˜¯éªŒè¯ä¸€ä¸ªæ–°åŠŸèƒ½æƒ³æ³•ï¼Œè¿˜æ˜¯ä¸ºåˆ›ä¸šé¡¹ç›®æ­å»ºæœ€å°å¯è¡Œäº§å“ï¼ˆMVPï¼‰ï¼Œå¼€å‘è€…å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼Œåœ¨å‡ å°æ—¶è€Œéå‡ å¤©å†…è·å¾—å¯è¿è¡Œçš„åŸå‹ã€‚è¿™æå¤§é™ä½äº†åˆ›æ–°è¯•é”™çš„é—¨æ§›ä¸æˆæœ¬ã€‚</p>
<p>å¦ä¸€ä¸ªé«˜ä»·å€¼åº”ç”¨æ˜¯<strong>å¼€å‘è‡ªåŠ¨åŒ–è„šæœ¬ä¸ä¸ªæ€§åŒ–å·¥å…·</strong>ã€‚å¤„ç†é‡å¤æ€§æ–‡ä»¶æ•´ç†ã€æ•°æ®æ ¼å¼è½¬æ¢ã€ä¿¡æ¯ç›‘æ§ç­‰â€œçäº‹â€ï¼Œåªéœ€å¯¹AIæ¸…æ™°æè¿°ä»»åŠ¡ï¼Œå³å¯è·å¾—ä¸€ä¸ªå®šåˆ¶åŒ–çš„ä¸€æ¬¡æ€§è„šæœ¬ã€‚</p>
<p>å¯¹äº<strong>æ•™è‚²ä¸å­¦ä¹ </strong>ï¼Œå®ƒæ”¹å˜äº†å…¥é—¨è·¯å¾„ã€‚æ–°æ‰‹å¯ä»¥å°†ç²¾åŠ›é›†ä¸­äºç†è§£ç¨‹åºé€»è¾‘ã€æ•°æ®ç»“æ„å’Œç®—æ³•æ€æƒ³ï¼Œè€Œä¸å¿…åœ¨åˆæœŸå°±è¢«å¤æ‚çš„è¯­æ³•ç»†èŠ‚æ‰€ç»Šä½ã€‚</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒVibe Codingçš„èƒ½åŠ›æ­£é€šè¿‡å¹³å°çº§å·¥å…·è¢«å¢å¼ºã€‚ä¾‹å¦‚ï¼Œè…¾è®¯äº‘æ¨å‡ºçš„CloudBase AI CLIï¼Œå…è®¸å¼€å‘è€…åœ¨å‘½ä»¤è¡Œä¸­ç”¨è‡ªç„¶è¯­è¨€ç›´æ¥è°ƒåº¦å¤šç§AIç¼–ç èƒ½åŠ›ï¼Œå¹¶å°†ç”Ÿæˆçš„ä»£ç ä¸äº‘æœåŠ¡éƒ¨ç½²æµç¨‹æ‰“é€šã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d227813592304a048adbee548e4aed7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766325253&amp;x-signature=Z6FNNx6gn90lb1sY5KoAO8BawqA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">03 æŠ€æœ¯å›´å¢™å´©äº†</h2>
<p>å¯¹äºéä¸“ä¸šèƒŒæ™¯äººå£«ï¼ŒVibe Codingç¡®å®åƒä¸€æŠŠæ‰“å¼€ç¼–ç¨‹ä¸–ç•Œå¤§é—¨çš„é’¥åŒ™ã€‚å®ƒæå¤§åœ°ç¼“è§£äº†åˆå­¦è€…çš„â€œå¯åŠ¨ç„¦è™‘â€â€”â€”æ— éœ€è®°å¿†å¤§é‡å‘½ä»¤å’Œè¯­æ³•è§„åˆ™ï¼Œå³å¯å¼€å§‹åˆ›é€ ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5452ac2315ef46c88881f95c5e218804~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766325253&amp;x-signature=uonl%2FYNpqrvPK9%2BHCsKr9rMk1s4%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™æ„å‘³ç€ï¼Œäº§å“ç»ç†å¯ä»¥ç›´æ¥æ„å»ºäº¤äº’åŸå‹ï¼Œæ•°æ®åˆ†æå¸ˆèƒ½ç¼–å†™å®šåˆ¶åŒ–å¤„ç†è„šæœ¬ï¼Œè‡ªåª’ä½“åšä¸»å¯ä¸ºè‡ªå·±çš„ç½‘ç«™æ·»åŠ å°åŠŸèƒ½ã€‚<strong>ç¼–ç¨‹ä»ç›®çš„æœ¬èº«ï¼Œå›å½’ä¸ºå®ç°åˆ›æ„çš„å·¥å…·ã€‚</strong></p>
<p>ç„¶è€Œï¼Œè¿™ä¸æ„å‘³ç€ä¸“ä¸šæ€§çš„ç»ˆç»“ã€‚Vibe Codingç›®å‰æ›´æ“…é•¿å®Œæˆ<strong>ç›®æ ‡æ˜ç¡®ã€è¾¹ç•Œæ¸…æ™°ã€é€»è¾‘ç›¸å¯¹çº¿æ€§</strong>çš„ä»»åŠ¡ã€‚å½“é—®é¢˜å¼‚å¸¸å¤æ‚ã€éœ€è¦æ·±åˆ»é¢†åŸŸçŸ¥è¯†æˆ–æƒè¡¡å¤šé‡çº¦æŸæ—¶ï¼Œäººç±»ä¸“å®¶çš„ç³»ç»Ÿæ€ç»´å’ŒæŠ½è±¡èƒ½åŠ›ä¾ç„¶ä¸å¯æ›¿ä»£ã€‚å¯¹äºéä¸“ä¸šäººå£«ï¼Œç†è§£åŸºç¡€çš„ç¼–ç¨‹æ¦‚å¿µï¼ˆå¦‚å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­ã€å˜é‡ï¼‰å°†å¸®åŠ©ä½ æ›´æœ‰æ•ˆåœ°ä¸AIåä½œï¼Œä»â€œèƒ½è¿è¡Œâ€èµ°å‘â€œè¿è¡Œå¾—å¥½â€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10f7ed2ce8f24bf3aa741928fbd7a7eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766325253&amp;x-signature=wYCtOD4sckqHtUJoFV8BkK7yKvY%3D" alt="AIå¯¹è¯å¼€å‘æµç¨‹.jpg" loading="lazy"/></p>
<h2 data-id="heading-3">04 Vibe Codingå¯¹å¼€å‘è€…è€Œè¨€ï¼Œæ˜¯æ•Œæ˜¯å‹ï¼Ÿ</h2>
<p>å¯¹äºä¸“ä¸šç¨‹åºå‘˜ï¼ŒVibe Codingå¸¦æ¥çš„ä¸æ˜¯æ›¿ä»£ï¼Œè€Œæ˜¯æ·±åˆ»çš„<strong>ä¸“ä¸šä»·å€¼é‡æ„</strong>ã€‚</p>
<p>ç¨‹åºå‘˜çš„è§’è‰²æ­£ä»â€œä»£ç å®ç°è€…â€åŠ é€Ÿè½¬å‘â€œ<strong>é—®é¢˜å®šä¹‰è€…</strong>â€å’Œâ€œ<strong>ç³»ç»Ÿæ¶æ„å¸ˆ</strong>â€ã€‚æœ€æœ‰ä»·å€¼çš„æŠ€èƒ½å˜ä¸ºï¼šå°†æ¨¡ç³Šã€å¤æ‚çš„ä¸šåŠ¡éœ€æ±‚ï¼Œåˆ†è§£ä¸ºæ¸…æ™°ã€å¯è¢«AIæ‰§è¡Œçš„æŠ€æœ¯æŒ‡ä»¤åºåˆ—çš„èƒ½åŠ›ã€‚</p>
<p>åŒæ—¶ï¼Œ<strong>è´¨é‡å®ˆé—¨äºº</strong>çš„è§’è‰²å˜å¾—å‰æ‰€æœªæœ‰çš„é‡è¦ã€‚AIå¯ä»¥ç”Ÿæˆå¤§é‡ä»£ç ï¼Œä½†å¯¹å…¶å®‰å…¨æ€§ã€æ€§èƒ½ã€å¯ç»´æŠ¤æ€§ä»¥åŠæ˜¯å¦ç¬¦åˆä¸šåŠ¡æœ¬è´¨çš„æœ€ç»ˆåˆ¤æ–­ï¼Œå¿…é¡»ç”±äººç±»å·¥ç¨‹å¸ˆè´Ÿè´£ã€‚å®¡æŸ¥å’Œé‡æ„AIç”Ÿæˆçš„ä»£ç ï¼Œå°†æˆä¸ºæ ¸å¿ƒå·¥ä½œæµä¹‹ä¸€ã€‚</p>
<p>æ­¤å¤–ï¼Œé©¾é©­å¤æ‚ç³»ç»Ÿçš„èƒ½åŠ›å˜å¾—æ›´ä¸ºç¨€ç¼ºã€‚AIæ“…é•¿å¤„ç†å±€éƒ¨æ¨¡å—ï¼Œä½†å¯¹äºå¤§å‹ç³»ç»Ÿä¸­å„æ¨¡å—é—´çš„äº¤äº’ã€æ•°æ®æµè®¾è®¡ã€é•¿æœŸæŠ€æœ¯å€ºåŠ¡çš„ç®¡æ§ï¼Œä»éœ€è¦äººç±»çš„é«˜çº§æŠ½è±¡å’Œè§„åˆ’èƒ½åŠ›ã€‚</p>
<p>å› æ­¤ï¼Œç¨‹åºå‘˜åº”ç§¯æå°†Vibe Codingå·¥å…·æ•´åˆä¸ºâ€œ<strong>è¶…çº§è¾…åŠ©</strong>â€ï¼Œè®©å…¶å¤„ç†é‡å¤æ€§ç¼–ç ï¼Œä»è€Œé‡Šæ”¾ç²¾åŠ›èšç„¦äºæ›´å…·åˆ›é€ æ€§å’Œå†³å®šæ€§çš„é«˜å±‚è®¾è®¡ã€‚</p>
<h2 data-id="heading-4">05 ä¸»æµå·¥å…·ä¸åŠ¡å®é€‰æ‹©</h2>
<p>é¢å¯¹ä¼—å¤šå·¥å…·ï¼Œå¦‚ä½•é€‰æ‹©å–å†³äºä½ çš„æ ¸å¿ƒéœ€æ±‚ã€‚ä»¥ä¸‹æ˜¯å½“å‰ä¸»æµå·¥å…·çš„ç®€æ˜å¯¹æ¯”ï¼š</p>
<p><strong>è…¾è®¯CodeBuddy</strong>çš„ä¼˜åŠ¿åœ¨äºä¼ä¸šçº§å®‰å…¨åˆè§„ä¸å¾®ä¿¡ç”Ÿæ€æ·±åº¦é›†æˆï¼Œéå¸¸é€‚åˆå›½å†…ä¼ä¸šç¯å¢ƒæˆ–æœ‰å¾®ä¿¡å°ç¨‹åºå¼€å‘éœ€æ±‚çš„å›¢é˜Ÿã€‚</p>
<p><strong>Cursor</strong>ä»¥å…¶æè‡´çš„AIåŸç”Ÿç¼–è¾‘ä½“éªŒè‘—ç§°ï¼Œé€‚åˆè¿½æ±‚é«˜æ•ˆç‡ã€éœ€è¦é¢‘ç¹ä¸AIå¯¹è¯è¿›è¡Œä»£ç é‡æ„å’Œç”Ÿæˆçš„ç‹¬ç«‹å¼€å‘è€…æˆ–å°å›¢é˜Ÿã€‚</p>
<p><strong>GitHub Copilot</strong>å‡­å€Ÿå…¶ä¸Visual Studio Codeç­‰ä¸»æµç¼–è¾‘å™¨çš„æ·±åº¦é›†æˆå’Œæµ·é‡çš„è®­ç»ƒæ•°æ®ï¼Œåœ¨ä»£ç è¡¥å…¨çš„å‡†ç¡®æ€§å’Œæµç•…åº¦ä¸Šè¡¨ç°çªå‡ºï¼Œæ˜¯è®¸å¤šé€šç”¨åœºæ™¯ä¸‹çš„ç¨³å¦¥é€‰æ‹©ã€‚</p>
<p><strong>Replit</strong>æä¾›äº†é›¶é…ç½®çš„äº‘ç«¯å¼€å‘ç¯å¢ƒï¼Œè®©åˆå­¦è€…å®Œå…¨å…å»ç¯å¢ƒæ­å»ºçš„çƒ¦æ¼ï¼Œæ‰“å¼€æµè§ˆå™¨å°±èƒ½ç«‹å³å¼€å§‹ä¸AIç»“å¯¹ç¼–ç¨‹ï¼Œç‰¹åˆ«é€‚åˆæ•™è‚²å’Œå¿«é€ŸåŸå‹æ¼”ç¤ºã€‚</p>
<p>é€‰æ‹©æ—¶ï¼Œä¸€ä¸ªåŠ¡å®çš„å»ºè®®æ˜¯ï¼šæ˜ç¡®ä½ å½“å‰æœ€éœ€è¦è§£å†³çš„ç—›ç‚¹â€”â€”æ˜¯è¿½æ±‚æè‡´å¼€å‘é€Ÿåº¦ã€ç¡®ä¿ä¼ä¸šåˆè§„ï¼Œè¿˜æ˜¯éœ€è¦æœ€æ— ç¼çš„ä¸Šæ‰‹ä½“éªŒã€‚</p>
<h2 data-id="heading-5">06 ç¬¬ä¸€æ­¥ï¼šä½ çš„é¦–ä¸ªVibe Codingé¡¹ç›®</h2>
<p>å¦‚æœä½ ä»æœªå†™è¿‡ä»£ç ä½†æƒ³ç«‹å³ä½“éªŒï¼Œå¯ä»¥éµå¾ªä»¥ä¸‹æç®€è·¯å¾„ï¼š</p>
<ol>
<li><strong>ç¯å¢ƒå‡†å¤‡</strong>ï¼šè®¿é—®Replitå®˜ç½‘ï¼ˆreplit.comï¼‰å¹¶æ³¨å†Œï¼Œæˆ–åœ¨ä½ å¸¸ç”¨çš„ä»£ç ç¼–è¾‘å™¨ï¼ˆå¦‚VS Codeï¼‰ä¸­å®‰è£…GitHub Copilotæ‰©å±•ã€‚è¿™æ˜¯æœ€å¿«å¼€å§‹çš„æ–¹å¼ã€‚</li>
<li><strong>æ˜ç¡®ä»»åŠ¡</strong>ï¼šæƒ³ä¸€ä¸ªä½ ç”µè„‘ä¸Šéœ€è¦è‡ªåŠ¨åŒ–çš„å°äº‹ï¼Œä¾‹å¦‚ï¼šâ€œæŠŠæ‰€æœ‰æ•£ä¹±çš„æˆªå›¾æ–‡ä»¶ï¼ŒæŒ‰â€˜å¹´-æœˆâ€™çš„æ ¼å¼è‡ªåŠ¨å½’ç±»åˆ°æ–‡ä»¶å¤¹é‡Œã€‚â€</li>
<li><strong>å‘èµ·å¯¹è¯</strong>ï¼šåœ¨å·¥å…·ä¸­ï¼Œç”¨æ¸…æ™°çš„ä¸­æ–‡æˆ–è‹±æ–‡å‘AIæè¿°è¿™ä¸ªä»»åŠ¡ã€‚å¯ä»¥è¡¥å……ç»†èŠ‚ï¼Œå¦‚â€œæºæ–‡ä»¶å¤¹åœ¨æ¡Œé¢ï¼Œå›¾ç‰‡æ ¼å¼ä¸»è¦æ˜¯.pngå’Œ.jpgâ€ã€‚</li>
<li><strong>è¿è¡Œä¸è°ƒè¯•</strong>ï¼šç›´æ¥è¿è¡Œç”Ÿæˆçš„ä»£ç ã€‚å¦‚æœæŠ¥é”™ï¼Œå°†å®Œæ•´çš„é”™è¯¯ä¿¡æ¯å¤åˆ¶ç»™AIï¼Œè¯·å®ƒä¿®å¤ã€‚å¦‚æœç»“æœä¸å¯¹ï¼ˆæ¯”å¦‚æ–‡ä»¶æ²¡æŒªåŠ¨ï¼‰ï¼Œå‘AIæè¿°ä½ çœ‹åˆ°çš„ç°è±¡ã€‚</li>
<li><strong>è¿­ä»£ä¸ç†è§£</strong>ï¼šé‡å¤æ­¥éª¤4ï¼Œç›´åˆ°æˆåŠŸã€‚ä¹‹åï¼Œå¯ä»¥è¯·AIä¸ºä»£ç æ·»åŠ æ³¨é‡Šï¼Œå¸®åŠ©ä½ ç†è§£å®ƒåˆ°åº•æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</li>
</ol>
<p>è®°ä½ï¼Œå…³é”®ä¸æ˜¯ä¸€æ¬¡æˆåŠŸï¼Œè€Œæ˜¯å»ºç«‹èµ·â€œ<strong>æè¿°-ç”Ÿæˆ-åé¦ˆ</strong>â€çš„æœ‰æ•ˆåä½œå¾ªç¯ã€‚ä»ä¸€ä¸ªèƒ½å¸¦æ¥å¾®å°æˆå°±æ„Ÿçš„å…·ä½“ä»»åŠ¡å¼€å§‹ï¼Œæ˜¯ä¿æŒå­¦ä¹ åŠ¨åŠ›çš„æœ€ä½³æ–¹å¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2586dc1f2544667b7e5596938da4eed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766325253&amp;x-signature=2%2F6aF0s4mYDaWOjcskjb2QJFIqw%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<p>ç¼–ç¨‹çš„æ°‘ä¸»åŒ–è¿›ç¨‹å·²è¢«Vibe Codingå†æ¬¡åŠ é€Ÿã€‚å·¥å…·åœ¨å˜ï¼Œä½†åˆ›é€ çš„æœ¬è´¨ä¸å˜ï¼šå°†å¤´è„‘ä¸­çš„æƒ³æ³•ï¼Œè½¬åŒ–ä¸ºç°å®ä¸–ç•Œä¸­å¯è¿è¡Œã€å¯äº¤äº’çš„äº§ç‰©ã€‚</p>
<p>æ— è®ºä½ æ˜¯æƒ³æå‡æ•ˆç‡çš„èŒåœºäººï¼Œè¿˜æ˜¯æ¢ç´¢è¾¹ç•Œçš„æŠ€æœ¯ä¸“å®¶ï¼Œç°åœ¨éƒ½å¯ä»¥ç”¨ä¸€ç§æ›´è‡ªç„¶çš„æ–¹å¼ä¸æœºå™¨å¯¹è¯ã€‚è¿™åœºå˜é©çš„ç»ˆç‚¹ï¼Œä¸æ˜¯äººäººæˆä¸ºç¨‹åºå‘˜ï¼Œè€Œæ˜¯è®©åˆ›é€ è½¯ä»¶çš„èƒ½åŠ›ï¼Œåƒä½¿ç”¨åŠå…¬è½¯ä»¶ä¸€æ ·ï¼Œæˆä¸ºç°ä»£äººæ‰©å±•æ€ç»´ä¸èƒ½åŠ›çš„å»¶ä¼¸ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€Claude Codeè¢«å°å·ï¼Ÿç”¨è°·æ­ŒAntigravity+Claude Opus 4.5è½»æ¾æ›¿ä»£ï¼å®æµ‹é¡¹ç›®é‡æ„+å…¨æ ˆå¼€å‘æ•ˆæœæƒŠè‰³ï¼Opus 4.5 æ‰ç‹é“]]></title>    <link>https://juejin.cn/post/7583215836690677801</link>    <guid>https://juejin.cn/post/7583215836690677801</guid>    <pubDate>2025-12-14T13:53:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583215836690677801" data-draft-id="7583260493851312169" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€Claude Codeè¢«å°å·ï¼Ÿç”¨è°·æ­ŒAntigravity+Claude Opus 4.5è½»æ¾æ›¿ä»£ï¼å®æµ‹é¡¹ç›®é‡æ„+å…¨æ ˆå¼€å‘æ•ˆæœæƒŠè‰³ï¼Opus 4.5 æ‰ç‹é“"/> <meta itemprop="keywords" content="Claude,VibeCoding,Gemini"/> <meta itemprop="datePublished" content="2025-12-14T13:53:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="win4r"/> <meta itemprop="url" content="https://juejin.cn/user/1739869037541555"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€Claude Codeè¢«å°å·ï¼Ÿç”¨è°·æ­ŒAntigravity+Claude Opus 4.5è½»æ¾æ›¿ä»£ï¼å®æµ‹é¡¹ç›®é‡æ„+å…¨æ ˆå¼€å‘æ•ˆæœæƒŠè‰³ï¼Opus 4.5 æ‰ç‹é“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1739869037541555/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    win4r
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T13:53:39.000Z" title="Sun Dec 14 2025 13:53:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è¢«Claude Codeå°å·æç–¯äº†ï¼Ÿè¯•è¯•è¿™ä¸ªæ–¹æ¡ˆ</h2>
<p>æœ€è¿‘åœ¨AIç¼–ç¨‹åœˆå­é‡Œï¼Œæœ‰ä¸ªè¯é¢˜è¢«åå¤æèµ·ï¼šClaude Codeå°å·ã€‚</p>
<p>ä¸å°‘å¼€å‘è€…è·Ÿæˆ‘åæ§½è¿‡ç±»ä¼¼çš„ç»å†â€”â€”èŠ±é’±è®¢é˜…äº†Claudeå®˜æ–¹è´¦å·ï¼Œæ»¡å¿ƒæ¬¢å–œåœ°æ‰“å¼€Claude Codeå‡†å¤‡å¤§å¹²ä¸€åœºï¼Œç»“æœç”¨ä¸åˆ°ä¸€å¤©ï¼Œè´¦å·å°±è¢«å°äº†ã€‚å®¢æœä¹Ÿè”ç³»ä¸ä¸Šï¼Œç”³è¯‰ä¹Ÿæ²¡ç”¨ï¼Œé’±æ‰“äº†æ°´æ¼‚ä¸è¯´ï¼Œé¡¹ç›®è¿›åº¦ä¹Ÿè¢«è€½è¯¯ã€‚</p>
<p>ğŸ”¥ğŸ”¥ğŸ”¥æœ¬ç¯‡ç¬”è®°æ‰€å¯¹åº”çš„è§†é¢‘ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1ikmiBjEin%2F" target="_blank" title="https://www.bilibili.com/video/BV1ikmiBjEin/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1ikâ€¦</a></p>
<p>è¯´å®è¯ï¼Œè¿™ç§ä½“éªŒç¡®å®æŒºç³Ÿå¿ƒçš„ã€‚</p>
<p>ä¸è¿‡æœ€è¿‘æˆ‘å‘ç°äº†ä¸€ä¸ªè¿˜ä¸é”™çš„æ›¿ä»£æ–¹æ¡ˆï¼Œæƒ³è·Ÿå¤§å®¶èŠèŠã€‚è°·æ­Œå‘å¸ƒçš„AIç¼–ç¨‹åŠ©æ‰‹Antigravityï¼Œå‰æ®µæ—¶é—´æ‚„æ‚„åŠ å…¥äº†å¯¹Claude Opus 4.5çš„æ”¯æŒã€‚è¿™å¯¹äºé‚£äº›æƒ³ç”¨Opus 4.5ä½†åˆè¢«å°å·é—®é¢˜å›°æ‰°çš„æœ‹å‹æ¥è¯´ï¼Œç®—æ˜¯ä¸ªå¥½æ¶ˆæ¯ã€‚</p>
<hr/>
<h3 data-id="heading-1">å…ˆè¯´è¯´Antigravityæ˜¯ä»€ä¹ˆ</h3>
<p>Antigravityæ˜¯è°·æ­Œæ¨å‡ºçš„ä¸€æ¬¾AIç¼–ç¨‹å·¥å…·ï¼Œç›®å‰å·²ç»å…¨é¢æ”¯æŒmacOSã€Windowså’ŒLinuxä¸‰å¤§ç³»ç»Ÿã€‚å®ƒæœ€å¤§çš„ç‰¹ç‚¹æ˜¯æ”¯æŒå¤šæ™ºèƒ½ä½“å¼‚æ­¥å·¥ä½œï¼Œç®€å•è¯´å°±æ˜¯å¯ä»¥è®©å¤šä¸ªAIåŒæ—¶å¹²æ´»ï¼Œä¸€ä¸ªè´Ÿè´£å‰ç«¯ï¼Œä¸€ä¸ªè´Ÿè´£åç«¯ï¼Œäº’ä¸å¹²æ‰°ã€‚</p>
<p>è¿™ä¸ªåŠŸèƒ½åœ¨å®é™…å¼€å‘ä¸­å…¶å®æŒºå®ç”¨çš„ã€‚æ¯”å¦‚ä½ åœ¨åšä¸€ä¸ªå…¨æ ˆé¡¹ç›®ï¼Œä»¥å‰å¯èƒ½è¦ç­‰å‰ç«¯å†™å®Œå†å†™åç«¯ï¼Œæˆ–è€…æ¥å›åˆ‡æ¢ã€‚ç°åœ¨å¯ä»¥è®©ä¸¤ä¸ªæ™ºèƒ½ä½“åŒæ—¶æ¨è¿›ï¼Œæ•ˆç‡ç¡®å®èƒ½æå‡ä¸å°‘ã€‚</p>
<p>å®‰è£…è¿‡ç¨‹æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œå»å®˜ç½‘æ ¹æ®è‡ªå·±çš„ç³»ç»Ÿä¸‹è½½å®‰è£…åŒ…ï¼Œä¸€è·¯ä¸‹ä¸€æ­¥å°±è¡Œã€‚</p>
<hr/>
<h3 data-id="heading-2">é…ç½®è¿™å—ç¨å¾®èŠ±ç‚¹å¿ƒæ€</h3>
<p>å®‰è£…å®Œä¹‹åï¼Œæˆ‘å»ºè®®å…ˆèŠ±å‡ åˆ†é’Ÿåšä¸€äº›åŸºç¡€é…ç½®ï¼Œåé¢ç”¨èµ·æ¥ä¼šé¡ºæ‰‹å¾ˆå¤šã€‚</p>
<p>é¦–å…ˆæ˜¯è§„åˆ™æ–‡ä»¶ã€‚ç‚¹å‡»å³ä¸Šè§’çš„ä¸‰ä¸ªç‚¹ï¼Œå†ç‚¹è‡ªå®šä¹‰ï¼Œæ‰¾åˆ°è§„åˆ™è®¾ç½®ã€‚è¿™é‡Œå¯ä»¥è®¾ç½®å…¨å±€è§„åˆ™ï¼Œå‘Šè¯‰AIä½ çš„æŠ€æœ¯æ ˆæ˜¯ä»€ä¹ˆã€ç”¨ä»€ä¹ˆç‰ˆæœ¬ã€æœ‰å“ªäº›ä»£ç è§„èŒƒä¹‹ç±»çš„ã€‚</p>
<p>æˆ‘è‡ªå·±çš„é…ç½®å¤§æ¦‚æ˜¯è¿™æ ·ï¼šPythonéƒ¨åˆ†å†™æ¸…æ¥šç”¨çš„æ˜¯3.11ç‰ˆæœ¬ï¼Œè™šæ‹Ÿç¯å¢ƒç”¨venvåˆ›å»ºï¼Œä»£ç é£æ ¼éµå¾ªPEP8è§„èŒƒã€‚å‰ç«¯éƒ¨åˆ†å†™çš„æ˜¯Next.js 14ç‰ˆæœ¬ï¼Œæ ·å¼ç”¨Tailwind CSSï¼Œåç«¯æ•°æ®åº“ç”¨Supabaseã€‚</p>
<p>è¿™äº›è§„åˆ™è®¾ç½®å¥½ä¹‹åï¼ŒAIåœ¨å†™ä»£ç çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨éµå¾ªï¼Œä¸ç”¨æ¯æ¬¡éƒ½åœ¨æç¤ºè¯é‡Œé‡å¤è¯´æ˜ã€‚</p>
<p>å¦ä¸€ä¸ªå€¼å¾—é…ç½®çš„æ˜¯MCPï¼ˆModel Context Protocolï¼‰ã€‚å¦‚æœä½ ç”¨Supabaseåšåç«¯ï¼Œå¼ºçƒˆå»ºè®®æŠŠSupabaseçš„MCPè£…ä¸Šã€‚è£…å¥½ä¹‹åï¼ŒAIå¯ä»¥ç›´æ¥é€šè¿‡MCPæ“ä½œä½ çš„æ•°æ®åº“ï¼Œåˆ›å»ºè¡¨ã€è®¾ç½®æƒé™è¿™äº›æ´»å„¿éƒ½èƒ½è‡ªåŠ¨å®Œæˆï¼Œçœå»äº†å¾ˆå¤šæ‰‹åŠ¨æ“ä½œã€‚</p>
<p>é…ç½®MCPéœ€è¦å¡«å…¥Supabaseçš„access tokenã€‚ç™»å½•Supabaseåå°ï¼Œç‚¹å³ä¸Šè§’å¤´åƒè¿›å…¥è´¦æˆ·è®¾ç½®ï¼Œæ‰¾åˆ°access tokensï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„tokenå¤åˆ¶è¿‡æ¥å°±è¡Œã€‚è¿‡æœŸæ—¶é—´å¯ä»¥è®¾æˆä¸è¿‡æœŸï¼Œçœå¾—ä»¥åè¿˜è¦æ¢ã€‚</p>
<p>é¡ºä¾¿è¯´ä¸€å¥Supabaseè¿™ä¸ªä¸œè¥¿ã€‚å¦‚æœä½ è¿˜æ²¡ç”¨è¿‡ï¼Œå¯ä»¥æŠŠå®ƒç†è§£æˆåšAPPæˆ–è€…ç½‘ç«™çš„åç«¯å…¨å®¶æ¡¶ã€‚æ•°æ®åº“ã€ç”¨æˆ·ç™»å½•ã€æ–‡ä»¶å­˜å‚¨ã€å®æ—¶æ›´æ–°è¿™äº›åŠŸèƒ½å®ƒéƒ½æ‰“åŒ…å¥½äº†ï¼Œä¸ç”¨è‡ªå·±ä»é›¶æ­å»ºã€‚ç‰¹åˆ«é€‚åˆåšMVPæˆ–è€…å¿«é€ŸéªŒè¯æƒ³æ³•çš„åœºæ™¯ã€‚</p>
<hr/>
<h3 data-id="heading-3">å®é™…æ•ˆæœæ€ä¹ˆæ ·ï¼Ÿè·‘ä¸¤ä¸ªæ¡ˆä¾‹çœ‹çœ‹</h3>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ï¼Œæˆ‘ç”¨ä¸¤ä¸ªæ¡ˆä¾‹æµ‹è¯•äº†ä¸€ä¸‹Antigravityé…åˆClaude Opus 4.5çš„å®é™…è¡¨ç°ã€‚</p>
<p><strong>ç¬¬ä¸€ä¸ªæ¡ˆä¾‹ï¼šæ™ºèƒ½ä½“æ¡†æ¶é‡æ„</strong></p>
<p>è¿™ä¸ªæµ‹è¯•é¢˜æ˜¯æŠŠå¾®è½¯æ™ºèƒ½ä½“æ¡†æ¶å†™çš„ä»£ç ï¼Œé‡æ„æˆè°·æ­ŒADKæ™ºèƒ½ä½“æ¡†æ¶ã€‚åŒæ—¶è¿˜è¦æ±‚æŠŠå¤§æ¨¡å‹æ¥å£æ¢æˆMistral AIçš„ï¼Œæ¨¡å‹ç”¨Mistral Large 3ã€‚</p>
<p>è¯´å®è¯ï¼Œè¿™ä¸ªä»»åŠ¡ä¸ç®—ç®€å•ã€‚æ¶‰åŠåˆ°ä¸¤ä¸ªä¸åŒæ¡†æ¶çš„è¯­æ³•è½¬æ¢ï¼Œè¿˜è¦æ¢æ¨¡å‹æ¥å£ï¼Œä¿æŒåŸæœ‰åŠŸèƒ½é€»è¾‘ä¸å˜ï¼Œæœ€åè¿˜å¾—åŠ ä¸Šè°·æ­ŒADKçš„UIç•Œé¢ã€‚</p>
<p>æˆ‘æŠŠæç¤ºè¯å‘è¿‡å»ä¹‹åï¼ŒAIå…ˆèŠ±äº†ä¸€ç‚¹æ—¶é—´é˜…è¯»è°·æ­ŒADKçš„å®˜æ–¹æ–‡æ¡£ï¼Œç„¶åå¼€å§‹åŠ¨æ‰‹ã€‚æ•´ä¸ªè¿‡ç¨‹æ¯”æˆ‘é¢„æƒ³çš„è¦å¿«ï¼Œå®ƒè‡ªåŠ¨åˆ›å»ºäº†è™šæ‹Ÿç¯å¢ƒï¼Œå®‰è£…äº†é¡¹ç›®ä¾èµ–ï¼Œç”Ÿæˆäº†é‡æ„åçš„ä»£ç ã€‚</p>
<p>è·‘èµ·æ¥æµ‹è¯•äº†ä¸€ä¸‹ï¼Œè¾“å…¥"è§„åˆ’ä¸‰å¤©çš„å°¼æ³Šå°”æ—…è¡Œè®¡åˆ’"ï¼Œè¾“å‡ºç»“æœåˆ†ä¸‰éƒ¨åˆ†ï¼šæ—…è¡Œè§„åˆ’ã€å½“åœ°ç‰¹è‰²æ´»åŠ¨ã€è¿˜æœ‰å½“åœ°å¸¸ç”¨è¯­ã€‚è¿™ä¸ªæ‰§è¡Œé€»è¾‘è·ŸåŸæ¥å¾®è½¯æ¡†æ¶ç‰ˆæœ¬çš„æ™ºèƒ½ä½“åŸºæœ¬ä¸€è‡´ï¼Œè¯´æ˜é‡æ„æ˜¯æˆåŠŸçš„ã€‚</p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒåŒæ ·è¿™é“é¢˜æˆ‘ä¹‹å‰åœ¨Codexé‡Œç”¨GPT5.2æµ‹è¯•è¿‡ï¼Œæ²¡è·‘é€šã€‚Opus 4.5åœ¨è¿™ä¸ªä»»åŠ¡ä¸Šçš„è¡¨ç°ç¡®å®æ›´å¥½ä¸€äº›ã€‚</p>
<p><strong>ç¬¬äºŒä¸ªæ¡ˆä¾‹ï¼šä»é›¶å¼€å‘å® ç‰©é¢†å…»å¹³å°</strong></p>
<p>ç¬¬äºŒä¸ªæµ‹è¯•æ›´å¤æ‚ä¸€ç‚¹ï¼Œè®©AIä»é›¶å¼€å‘ä¸€ä¸ªå® ç‰©é¢†å…»å¹³å°çš„MVPã€‚</p>
<p>è¿™æ¬¡æˆ‘ç”¨äº†Antigravityçš„planningæ¨¡å¼ã€‚å…ˆè®©Claude Sonnet 4.5åˆ¶å®šå¼€å‘è®¡åˆ’ï¼Œç­‰è®¡åˆ’ç¡®å®šä¹‹åï¼Œå†åˆ‡æ¢åˆ°Claude Opus 4.5æ‰§è¡Œã€‚è¿™ç§ç»„åˆç”¨æ³•æŒºèªæ˜çš„ï¼Œè§„åˆ’é˜¶æ®µç”¨ä¾¿å®œä¸€ç‚¹çš„æ¨¡å‹ï¼Œæ‰§è¡Œé˜¶æ®µå†ä¸Šä¸»åŠ›ã€‚</p>
<p>æ•´ä¸ªå¼€å‘è¿‡ç¨‹å¤§æ¦‚èŠ±äº†ååˆ†é’Ÿå·¦å³ã€‚AIå…ˆåˆå§‹åŒ–äº†Next.jsé¡¹ç›®ï¼Œç„¶ååˆ›å»ºæ•°æ®åº“schemaï¼Œæ¥ç€ä¸€æ­¥æ­¥å®ç°å„ä¸ªåŠŸèƒ½æ¨¡å—ã€‚</p>
<p>æœ€ç»ˆè·‘èµ·æ¥çš„æ•ˆæœè¿˜æ˜¯è®©æˆ‘æŒºæƒŠå–œçš„ã€‚é¦–é¡µè®¾è®¡å¾—æŒºç°ä»£çš„ï¼Œæœ‰å¯¼èˆªæ ã€é¢†å…»æ­¥éª¤è¯´æ˜ã€å® ç‰©å±•ç¤ºåŒºã€‚ç™»å½•åŠŸèƒ½æ”¯æŒé‚®ç®±æ³¨å†Œã€è°·æ­Œç™»å½•å’ŒGitHubç™»å½•ã€‚ç”¨æˆ·å¯ä»¥å‘å¸ƒå® ç‰©é¢†å…»ä¿¡æ¯ï¼Œä¸Šä¼ ç…§ç‰‡ï¼Œå¡«å†™å“ç§ã€å¹´é¾„ã€æ€§æ ¼è¿™äº›è¯¦ç»†ä¿¡æ¯ã€‚</p>
<p>ä¸­é—´é‡åˆ°äº†ä¸€ä¸ªå°bugï¼Œä¸Šä¼ çš„å® ç‰©å›¾ç‰‡æ²¡æœ‰æ­£ç¡®æ˜¾ç¤ºã€‚æˆ‘æŠŠæµè§ˆå™¨é‡Œçš„å…ƒç´ å†…å®¹å¤åˆ¶ç»™AIï¼Œå®ƒå¾ˆå¿«å®šä½åˆ°æ˜¯Supabaseå­˜å‚¨æƒé™çš„é—®é¢˜ï¼Œä¸€æ¬¡å°±ä¿®å¥½äº†ã€‚</p>
<p>æ•´ä½“æ¥è¯´ï¼Œè¿™ä¸ªMVPçš„å®Œæˆåº¦æ¯”æˆ‘ç”¨GPT5.2åšçš„é‚£ç‰ˆè¦é«˜ä¸å°‘ã€‚UIæ›´ç²¾è‡´ï¼ŒåŠŸèƒ½ä¹Ÿæ›´å®Œæ•´ã€‚</p>
<hr/>
<h3 data-id="heading-4">é¢åº¦å¤Ÿç”¨å—ï¼Ÿ</h3>
<p>ç”¨AIç¼–ç¨‹å·¥å…·ï¼Œå¤§å®¶æœ€å…³å¿ƒçš„é—®é¢˜ä¹‹ä¸€å°±æ˜¯é¢åº¦ã€‚æ¯•ç«Ÿå†™ä»£ç æ˜¯ä¸ªæ¶ˆè€—tokençš„å¤§æˆ·ï¼ŒåŠ¨ä¸åŠ¨å°±è¦å¤„ç†å‡ ç™¾ä¸Šåƒè¡Œä»£ç ã€‚</p>
<p>æˆ‘ç”¨çš„æ˜¯Antigravityçš„Proè´¦æˆ·ã€‚åœ¨å®Œæˆä¸Šé¢ä¸¤ä¸ªæ¡ˆä¾‹ä¹‹åâ€”â€”ä¸€ä¸ªæ˜¯æ¡†æ¶é‡æ„ï¼Œä¸€ä¸ªæ˜¯å®Œæ•´çš„å…¨æ ˆé¡¹ç›®å¼€å‘â€”â€”æˆ‘åˆæ–°å¼€äº†ä¸€ä¸ªçª—å£æµ‹è¯•Claude Opus 4.5è¿˜èƒ½ä¸èƒ½ç”¨ã€‚</p>
<p>ç»“æœæ˜¯å®Œå…¨æ­£å¸¸ï¼Œæ²¡æœ‰ä»»ä½•é™åˆ¶æç¤ºã€‚</p>
<p>è¿™ä¸ªç»“æœè®©æˆ‘è¿˜æŒºæ„å¤–çš„ã€‚è¦çŸ¥é“é‚£ä¸ªå® ç‰©é¢†å…»å¹³å°ç”Ÿæˆäº†ç›¸å½“å¤šçš„ä»£ç ï¼ŒREADMEæ–‡ä»¶ã€æ•°æ®åº“è¿ç§»è„šæœ¬ã€å‰ç«¯ç»„ä»¶ã€APIæ¥å£ï¼ŒåŠ èµ·æ¥ä»£ç é‡ä¸å°ã€‚ä½†Opus 4.5çš„é¢åº¦ä¼¼ä¹è¿˜å¾ˆå……è£•ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘æ²¡æœ‰åšæé™å‹åŠ›æµ‹è¯•ï¼Œä¸çŸ¥é“è¿ç»­é«˜å¼ºåº¦ä½¿ç”¨ä¸€æ•´å¤©ä¼šä¸ä¼šè§¦å‘é™åˆ¶ã€‚ä½†è‡³å°‘ä»ç›®å‰çš„ä½¿ç”¨ä½“éªŒæ¥çœ‹ï¼ŒProè´¦æˆ·çš„é¢åº¦åº”ä»˜æ—¥å¸¸å¼€å‘æ˜¯å¤Ÿç”¨çš„ã€‚</p>
<hr/>
<h3 data-id="heading-5">ä¸€äº›ä½¿ç”¨å»ºè®®</h3>
<p>ç”¨äº†ä¸€æ®µæ—¶é—´ä¹‹åï¼Œæ€»ç»“å‡ ç‚¹ä½¿ç”¨å»ºè®®ï¼š</p>
<p>å¯¹äºç®€å•ä»»åŠ¡ï¼Œæ¯”å¦‚æ”¹ä¸ªbugã€å†™ä¸ªå°åŠŸèƒ½ï¼Œå¯ä»¥ç›´æ¥ç”¨fastæ¨¡å¼ï¼Œé€‰æ‹©Gemini 3 Proè¿™ç§è½»é‡çº§æ¨¡å‹å°±å¤Ÿäº†ï¼Œæ²¡å¿…è¦æ¯æ¬¡éƒ½ä¸ŠOpus 4.5ã€‚</p>
<p>å¯¹äºå¤æ‚é¡¹ç›®ï¼Œå»ºè®®ç”¨planningæ¨¡å¼ï¼Œå…ˆè®©AIåˆ¶å®šè®¡åˆ’å†æ‰§è¡Œã€‚è€Œä¸”å¯ä»¥ç»„åˆä½¿ç”¨ä¸åŒæ¨¡å‹ï¼Œè§„åˆ’é˜¶æ®µç”¨Sonnetï¼Œæ‰§è¡Œé˜¶æ®µç”¨Opusã€‚</p>
<p>è§„åˆ™æ–‡ä»¶ä¸€å®šè¦å¥½å¥½å†™ã€‚èŠ±ååˆ†é’ŸæŠŠæŠ€æœ¯æ ˆã€ä»£ç è§„èŒƒã€é¡¹ç›®ç»“æ„è¿™äº›ä¸œè¥¿å†™æ¸…æ¥šï¼Œåé¢èƒ½çœå¾ˆå¤šæ²Ÿé€šæˆæœ¬ã€‚</p>
<p>MCPèƒ½è£…å°±è£…ã€‚ç‰¹åˆ«æ˜¯Supabaseçš„MCPï¼Œè®©AIç›´æ¥æ“ä½œæ•°æ®åº“è¿™ä¸ªåŠŸèƒ½çœŸçš„å¾ˆæ–¹ä¾¿ï¼Œçœå»äº†å¾ˆå¤šæ‰‹åŠ¨é…ç½®çš„éº»çƒ¦ã€‚</p>
<hr/>
<h3 data-id="heading-6">æœ€å</h3>
<p>AntigravityåŠ ä¸ŠClaude Opus 4.5è¿™ä¸ªç»„åˆï¼Œç¡®å®å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šæ›¿ä»£Claude Codeã€‚å¯¹äºé‚£äº›è¢«å°å·é—®é¢˜å›°æ‰°çš„å¼€å‘è€…æ¥è¯´ï¼Œè¿™æ˜¯ç›®å‰æˆ‘æ‰¾åˆ°çš„æ¯”è¾ƒé è°±çš„æ›¿ä»£æ–¹æ¡ˆã€‚</p>
<p>å½“ç„¶ï¼Œå®ƒä¹Ÿä¸æ˜¯å®Œç¾çš„ã€‚æ¯”å¦‚æœ‰äº›æ“ä½œè¿˜æ˜¯éœ€è¦æ‰‹åŠ¨å®Œæˆï¼Œæ¯”å¦‚è®¾ç½®ç¯å¢ƒå˜é‡ä¹‹ç±»çš„ã€‚ä½†æ•´ä½“ä½“éªŒå·²ç»ç›¸å½“ä¸é”™äº†ï¼Œå€¼å¾—ä¸€è¯•ã€‚</p>
<p>å¦‚æœä½ ä¹Ÿåœ¨æ‰¾Claude Codeçš„æ›¿ä»£å“ï¼Œå¯ä»¥è¯•è¯•çœ‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»ç½—æ°¸æµ© x MiniMax é—«ä¿Šæ°å¯¹è°ˆä¸­ï¼Œä¸€çª¥ AI æ—¶ä»£è½¯ä»¶å…¬å¸å²—ä½å˜åŒ–]]></title>    <link>https://juejin.cn/post/7583226204036235305</link>    <guid>https://juejin.cn/post/7583226204036235305</guid>    <pubDate>2025-12-14T13:55:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583226204036235305" data-draft-id="7582997593090981907" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»ç½—æ°¸æµ© x MiniMax é—«ä¿Šæ°å¯¹è°ˆä¸­ï¼Œä¸€çª¥ AI æ—¶ä»£è½¯ä»¶å…¬å¸å²—ä½å˜åŒ–"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,æ•æ·å¼€å‘,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-14T13:55:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é™ˆä½¬æ˜”ç¼–ç¨‹äººç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3087084378402445"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»ç½—æ°¸æµ© x MiniMax é—«ä¿Šæ°å¯¹è°ˆä¸­ï¼Œä¸€çª¥ AI æ—¶ä»£è½¯ä»¶å…¬å¸å²—ä½å˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3087084378402445/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é™ˆä½¬æ˜”ç¼–ç¨‹äººç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T13:55:36.000Z" title="Sun Dec 14 2025 13:55:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ã€Šç½—æ°¸æµ©çš„åå­—è·¯å£ã€‹ç¬¬åä¸‰æœŸé‚€è¯·åˆ°çš„æ˜¯é—«ä¿Šæ°ã€‚</p>
<p>è·Ÿå‰å‡ æœŸåå¨±ä¹å‘çš„å˜‰å®¾ä¸åŒï¼Œé—«ä¿Šæ°æ˜¯ä¸€ä¸ªç¡¬æ ¸çš„ AI å…¬å¸ Mini Max çš„åˆ›å§‹äººã€‚</p>
<p>è¿‘å››ä¸ªå°æ—¶çš„å¯¹è°ˆä¸­ï¼Œè®©æˆ‘å¯¹è¿™å®¶ AI å…¬å¸æœ‰äº†è¿›ä¸€æ­¥çš„äº†è§£ï¼Œä¹Ÿçª¥è§äº†è½¯ä»¶å¼€å‘è¡Œä¸šçš„ä¸€äº›å˜åŒ–ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/550ec73d21bc418f9f84a83e4dd0df52~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766325335&amp;x-signature=0xol1TexIy29RHiIPBXMd2WKYVg%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">å²—ä½è§’è‰²è¾¹ç•Œæ¨¡ç³Š</h2>
<p>Mini Max æ˜¯ä¸€å®¶ AI åŸç”Ÿçš„å…¬å¸ï¼Œç›®å‰åªæœ‰ 400 å¤šäººï¼Œç›¸å¯¹äºå‡ å¤§å·¨å¤´çš„äº’è”ç½‘ä¼ä¸šæ¥è¯´ï¼Œè§„æ¨¡æ˜¯å¾ˆå°çš„ã€‚</p>
<p>é—«ä¿Šæ°è®¤ä¸ºå…¬å¸æ²¡æœ‰ä¸¥æ ¼çš„â€œå²—ä½â€åˆ’åˆ†ï¼Œè€Œæ˜¯æœ‰å‡ ç§ä¸åŒçš„ <strong>â€œäººæ‰ç”»åƒâ€</strong>ã€‚å…¬å¸è¿½æ±‚ç»„ç»‡å†…äººæ‰çš„<strong>å¤šæ ·æ€§</strong>ï¼Œä»–è®¤ä¸ºè¿™ç±»ä¼¼äº AI æ¨¡å‹éœ€è¦å¤šæ ·æ€§ï¼Œè¿™æ ·å¯ä»¥æå‡å…¬å¸åŠä¸ªäººçš„èƒ½åŠ›ä¸Šé™ã€‚</p>
<p>å› æ­¤ï¼ŒMiniMax é‡Œçš„è§’è‰²è¾¹ç•Œæ¨¡ç³ŠåŒ–ã€‚è™½ç„¶éæŠ€æœ¯äººå‘˜ï¼ˆæŒ‰ä¼ ç»Ÿå®šä¹‰ï¼‰çº¦å  <strong>ä¸‰åˆ†ä¹‹ä¸€</strong>ï¼Œä½†è¿™é‡Œçš„â€œéæŠ€æœ¯â€ç•Œé™æ¨¡ç³Šï¼Œå¤§éƒ¨åˆ†æˆå‘˜å…·å¤‡è¾ƒå¼ºçš„æŠ€æœ¯ç†è§£æˆ–å®è·µèƒ½åŠ›ã€‚</p>
<p>å¯¹è°ˆä¸­è°ˆåˆ°çš„å‡ ä¸ªå²—ä½è§’è‰²çš„å†…å®¹æ•´ç†å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>äº§å“ç»ç†</strong>ï¼šå¾ˆå¤šæ˜¯ <strong>éå¸¸å¹´è½»</strong> çš„äº§å“ç»ç†ï¼Œç‰¹ç‚¹æ˜¯ <strong>å¯¹æŠ€æœ¯ç†è§£æ·±</strong> ä¸” <strong>åœ¨äº§å“ä¸Šæœ‰å¤©åˆ†</strong>ã€‚ä»–ä»¬å¯ä»¥è‡ªå·±ç”¨ AI åšåŸå‹ã€‚</li>
<li><strong>å¼€å‘ä¸ç®—æ³•å·¥ç¨‹å¸ˆ</strong>ï¼šä¸ä»…è´Ÿè´£å®ç°ï¼Œä¹Ÿèƒ½å‚ä¸åˆ›æ„å’Œäº§å“è®¾è®¡ã€‚</li>
<li><strong>è¿è¥äººå‘˜</strong>ï¼šä¼˜ç§€çš„è¿è¥éœ€è¦èƒ½å›ç­”å¼€å‘è€…ï¼Œåœ¨ç¤¾ç¾¤ä¸­å…³äºæ¨¡å‹çš„ <strong>æ·±åº¦æŠ€æœ¯é—®é¢˜</strong>ï¼Œå¯¹æ¨¡å‹æœ¬èº«è¦è¶³å¤Ÿæ‡‚ã€‚</li>
<li><strong>To B è§£å†³æ–¹æ¡ˆ/å”®å‰</strong>ï¼šä¼ ç»Ÿè§’è‰²æ˜¯ç”» PPTï¼Œç°åœ¨éœ€è¦<strong>è‡ªå·±å†™ä»£ç åš Demo</strong> ç»™å®¢æˆ·çœ‹ï¼Œé”€å”®å²—ä¹Ÿéœ€è¦æ‡‚æŠ€æœ¯ã€‚</li>
<li><strong>HR</strong>ï¼šä¼šåˆ©ç”¨ AI æ¥è¾…åŠ©ç­›é€‰ç®€å†ã€ä¸å€™é€‰äººåˆæ­¥æ²Ÿé€šã€‚</li>
</ul>
<p>è€Œè¿™ç§è§’è‰²å®šä½çš„æ¨¡ç³Šï¼Œä¹Ÿå¸¦æ¥äº†æµç¨‹çš„é‡å¡‘ã€‚</p>
<h2 data-id="heading-1">å¼€å‘æµç¨‹é‡å¡‘</h2>
<p>é—«ä¿Šæ°æ˜ç¡®è¡¨ç¤ºå°è¯•è¿‡ <strong>OKRç­‰ä¼ ç»Ÿäº’è”ç½‘ç®¡ç†å·¥å…·</strong>ï¼Œä½†å‘ç°<strong>è¡Œä¸é€š</strong>ã€‚</p>
<p>ä»–è®¤ä¸ºAIåŸç”Ÿå…¬å¸éœ€è¦ <strong>å…¨æ–°çš„ç»„ç»‡åä½œæ–¹å¼</strong>ã€‚</p>
<p>åœ¨ä»–ä»¬å…¬å¸é‡Œï¼Œå…¶å®æ˜¯æ²¡æœ‰å›ºå®šçš„â€œäº§å“æéœ€æ±‚ã€å¼€å‘æ’æœŸâ€çš„çº¿æ€§æµç¨‹ã€‚</p>
<p>å¼€å‘æµç¨‹æ˜¯åŠ¨æ€çš„ï¼Œä¸»å¯¼è§’è‰²ä¼šå‘ç”Ÿå˜åŒ–ã€‚æ ¹æ®é¡¹ç›®ä¸åŒé˜¶æ®µï¼Œç”±æœ€åˆé€‚çš„è§’è‰²ä¸»å¯¼ï¼Œå…¶ä»–äººæ·±åº¦å‚ä¸ï¼š</p>
<ul>
<li><strong>è„‘æš´ä¸æ¢ç´¢é˜¶æ®µ</strong>ï¼šå¤§å®¶éƒ½å¯ä»¥æœ‰æƒ³æ³•ï¼Œé€šå¸¸ç”±<strong>äº§å“ç»ç†ä¸»å¯¼</strong>æ±‡é›†ã€‚</li>
<li><strong>æ ¸å¿ƒæŠ€æœ¯ç ”å‘/ç®—æ³•æ”»åšé˜¶æ®µ</strong>ï¼šç”±<strong>ç®—æ³•åŒå­¦ä¸»å¯¼</strong>ï¼Œä½†å¼€å‘å’Œäº§å“äººå‘˜ä¼š<strong>æ·±åº¦å‚ä¸</strong>åˆ°æ¨¡å‹ç ”å‘è¿‡ç¨‹ä¸­ï¼Œè€Œä¸æ˜¯è¢«åŠ¨ç­‰å¾…æ¥æ”¶ä¸€ä¸ªæˆå“æ¨¡å‹ã€‚</li>
<li><strong>å¼€å‘å®ç°é˜¶æ®µ</strong>ï¼šç”± <strong>å¼€å‘åŒå­¦ä¸»å¯¼</strong>ï¼Œå…¶ä»–è§’è‰²åä½œã€‚</li>
</ul>
<p>è€Œæ•´ä¸ªè¿‡ç¨‹å¼ºè°ƒ<strong>å…¨é“¾æ¡çš„æ·±åº¦ååŒ</strong>ï¼Œè€Œéä¼ ç»Ÿçš„åˆ†æ®µäº¤æ¥ï¼ˆäº§å“â†’å¼€å‘â†’æµ‹è¯•ï¼‰ã€‚</p>
<h2 data-id="heading-2">æ€»ç»“</h2>
<p>é—«ä¿Šæ°è¯´ï¼Œæˆ‘ä»¬<strong>ä¸åº”è¯¥è®¤ä¸ºâ€œAIè¡Œä¸šæ˜¯äº’è”ç½‘è¡Œä¸šçš„ä¸€ä¸ªå»¶ç»­â€</strong>ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ä¹Ÿä¸åº”è¯¥å¤ªåœ¨æ„åœ¨ç§»åŠ¨äº’è”ç½‘æ—¶ä»£ï¼Œå¤§å®¶æ˜¯æ€ä¹ˆæ¥åˆ†å·¥çš„ã€‚</p>
<p>é¢å¯¹AIçš„èå…¥ï¼Œæˆ‘ä»¬å¿…é¡»è·³å‡ºè¿‡å»çš„æ€ç»´æ¡†æ¶ï¼Œé‡æ–°å®¡è§†å·¥ä½œçš„æœ¬è´¨ä¸åä½œæ–¹å¼ã€‚</p>
<p>è¿™æ˜¯ç»™æˆ‘æœ€å¤§çš„å¯ç¤ºã€‚</p>
<p>å¦‚æœAIæŠ€æœ¯çœŸæ­£æ·±å…¥æ‚¨æ‰€åœ¨çš„ä¼ä¸šï¼ŒåŸæœ‰çš„å²—ä½åˆ†å·¥å¾ˆå¯èƒ½è¢«å½»åº•æ‰“ç ´ã€‚é‚£ä¹ˆï¼ŒåŸºäºè¿™ä¸€å˜é©ï¼Œæ‚¨å°†<strong>å¦‚ä½•é‡æ–°è§„åˆ’å’Œå®‰æ’è‡ªå·±çš„å·¥ä½œï¼Ÿ</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swift 6.2 åˆ—ä¼ ï¼ˆç¬¬åä¸€ç¯‡ï¼‰ï¼šæ¢…è‹¥åçš„æ‰§å¿µä¸â€œæµªå­å›å¤´â€çš„å¼‚æ­¥å‡½æ•°]]></title>    <link>https://juejin.cn/post/7583528177559584818</link>    <guid>https://juejin.cn/post/7583528177559584818</guid>    <pubDate>2025-12-14T12:18:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583528177559584818" data-draft-id="7583567658252976154" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swift 6.2 åˆ—ä¼ ï¼ˆç¬¬åä¸€ç¯‡ï¼‰ï¼šæ¢…è‹¥åçš„æ‰§å¿µä¸â€œæµªå­å›å¤´â€çš„å¼‚æ­¥å‡½æ•°"/> <meta itemprop="keywords" content="Swift,Apple,ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="datePublished" content="2025-12-14T12:18:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§ç†ŠçŒ«ä¾¯ä½©"/> <meta itemprop="url" content="https://juejin.cn/user/4292907536222152"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swift 6.2 åˆ—ä¼ ï¼ˆç¬¬åä¸€ç¯‡ï¼‰ï¼šæ¢…è‹¥åçš„æ‰§å¿µä¸â€œæµªå­å›å¤´â€çš„å¼‚æ­¥å‡½æ•°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4292907536222152/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§ç†ŠçŒ«ä¾¯ä½©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T12:18:01.000Z" title="Sun Dec 14 2025 12:18:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d29d1332cc254f3a80cf5fae45ddca4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766319480&amp;x-signature=hKhJSZVGWH839imfoaG92jqgnMU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-0">0. ğŸ¼æ¥”å­ï¼šé‡å­çº ç¼ ä¸å‘é™…çº¿çš„å±æœº</h2>
<p>åœ¨è¿™ä¸ªä¸‡ç‰©äº’è”ã€å…ƒå®‡å®™å´©å¡Œåˆé‡å»ºçš„èµ›åšçºªå…ƒï¼Œå¤§ç†ŠçŒ«ä¾¯ä½©æ­£é¢ä¸´ç€ç†Šç”Ÿæœ€å¤§çš„å±æœºâ€”â€”ä¸æ˜¯ç”±äºé•¿æœŸç†¬å¤œå†™ä»£ç å¯¼è‡´çš„é»‘çœ¼åœˆï¼ˆåæ­£åŸæœ¬å°±æ˜¯é»‘çš„ï¼‰ï¼Œè€Œæ˜¯ä»–å¼•ä»¥ä¸ºå‚²çš„å¤´é¡¶æ¯›å‘å¯†åº¦ã€‚</p>
<p>â€œæˆ‘å†æ¬¡å£°æ˜ï¼Œè¿™ä¸æ˜¯ç§ƒï¼Œè¿™æ˜¯ä¸ºäº†è®© CPU æ•£çƒ­æ›´é«˜æ•ˆè€Œè¿›åŒ–çš„â€˜é«˜æ€§èƒ½ç©ºæ°”åŠ¨åŠ›å­¦ç©¹é¡¶â€™ï¼â€ä¾¯ä½©ä¸€è¾¹å¯¹ç€å…¨æ¯é•œå­æ¢³ç†é‚£å‡ æ ¹çè´µçš„ç»’æ¯›ï¼Œä¸€è¾¹å¾€å˜´é‡Œå¡äº†ä¸€æ ¹<strong>é’›åˆé‡‘é£å‘³ç«¹ç¬‹</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81be4f18df684e52b11b2cbd64c11ce6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766319480&amp;x-signature=XzEoOTpZXm4JqtlBtTmFNcZ5wQk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä¸ºäº†ä¿®å¤ä¸€ä¸ªåä¸ºâ€œæ—¶ç©ºå¹¶å‘ç«äº‰â€çš„è¶…çº§ Bugï¼Œä¾¯ä½©å¯åŠ¨äº†æœ€æ–°çš„ <strong>Neural-Link 6.2</strong> æ²‰æµ¸å¼ä»£ç å®¡æŸ¥ç³»ç»Ÿã€‚å…‰èŠ’ä¸€é—ªï¼Œæ•°æ®æµå¦‚åŒç€‘å¸ƒèˆ¬å†²åˆ·è€Œä¸‹ï¼Œä¾¯ä½©åªè§‰å¾—å¤©æ—‹åœ°è½¬ï¼Œå†ççœ¼æ—¶ï¼Œå·²ä¸åœ¨é‚£ä¸ªå……æ»¡å†·æ°”æœºå—¡å—¡å£°çš„æœºæˆ¿ï¼Œè€Œæ˜¯ä¸€ç‰‡é˜´é£æ€’å·çš„è’é‡ã€‚</p>
<p><strong>åœ¨æœ¬æ¬¡å¤§å†’é™©ä¸­ï¼Œæ‚¨å°†å­¦åˆ°å¦‚ä¸‹å†…å®¹ï¼š</strong></p>
<ul>
<li>
<ol start="0">
<li>ğŸ¼æ¥”å­ï¼šé‡å­çº ç¼ ä¸å‘é™…çº¿çš„å±æœº</li>
</ol>
</li>
<li>
<ol>
<li>ğŸŒªï¸ è’é‡é‡ç›²å¥³ï¼Œä¹é˜´ç™½éª¨çˆª</li>
</ol>
</li>
<li>
<ol start="2">
<li>ğŸ•¸ï¸ é»˜è®¤åœ¨è°ƒç”¨è€…çš„ Actor ä¸Šè¿è¡Œééš”ç¦»å¼‚æ­¥å‡½æ•°</li>
</ol>
<ul>
<li>ğŸ“œ æ›¾ç»çš„å›°æƒ‘ï¼ˆSwift 6.2 ä¹‹å‰ï¼‰</li>
</ul>
</li>
<li>
<ol start="3">
<li>ğŸ› ï¸ æ–°çš„è§„çŸ©ï¼šæµªå­å›å¤´ï¼ˆSE-0461ï¼‰</li>
</ol>
</li>
<li>
<ol start="4">
<li>ğŸšª é€ƒç”Ÿèˆ±ï¼šå¦‚æœä½ éè¦è®©ä»–èµ° (@concurrent)</li>
</ol>
</li>
<li>
<ol start="5">
<li>ğŸ§¬ æ·±åº¦è§£æï¼šä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ</li>
</ol>
</li>
<li>
<ol start="6">
<li>ğŸ ç»“å±€ï¼šé£æ²™æ•£å»ï¼Œå¢“ç¢‘æ˜¾ç°</li>
</ol>
</li>
</ul>
<p>è¿™é‡Œæ²¡æœ‰ WiFi ä¿¡å·ï¼Œåªæœ‰éåœ°çš„ç™½éª¨å’Œæ¼«å¤©çš„é»„æ²™ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ccd1eec1bb374544ae5eaada08e69afe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766319480&amp;x-signature=r9GdAXYnPqa4as4W6fDqmkUVao8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">1. ğŸŒªï¸ è’é‡é‡ç›²å¥³ï¼Œä¹é˜´ç™½éª¨çˆª</h2>
<p>â€œå“å‘€ï¼Œè¿™å¯¼èˆªåˆæŠŠæˆ‘å¸¦åˆ°å“ªäº†ï¼Ÿæˆ‘å°±è¯´é«˜å¾·åœ°å›¾åœ¨å››ç»´ç©ºé—´é‡Œä¸é è°±ï¼â€ä¾¯ä½©æŒ äº†æŒ å¤´ï¼Œè·¯ç—´å±æ€§ç¨³å®šå‘æŒ¥ã€‚</p>
<p>å¿½ç„¶ï¼Œä¸€é˜µå‡„å‰çš„ç ´ç©ºå£°ä¼ æ¥ã€‚</p>
<p>â€œè´¼æ±‰å­ï¼Œå“ªé‡Œè·‘ï¼â€</p>
<p>ä¸€é“é»‘å½±å¦‚é¬¼é­…èˆ¬è¢­æ¥ï¼Œé‚£æ˜¯ä¸€åŒæƒ¨ç™½å¦‚ç‰çš„æ‰‹çˆªï¼Œäº”æŒ‡å¦‚é’©ï¼Œç›´å–ä¾¯ä½©çš„å¤©çµç›–ã€‚ä¾¯ä½©å¤§æƒŠå¤±è‰²ï¼Œè™½ç„¶ä»–è‚‰åšæŠ—æï¼Œä½†è¿™<strong>ä¹é˜´ç™½éª¨çˆª</strong>çš„é˜´å¯’ä¹‹æ°”è¦æ˜¯æŠ“å®äº†ï¼Œææ€•ä¸ä»…å‘é™…çº¿ä¸ä¿ï¼Œè¿å¤´ç›–éª¨éƒ½è¦å˜æˆæ ‡æœ¬ã€‚</p>
<p>â€œå¥³ä¾ é¥¶å‘½ï¼æˆ‘åªæ˜¯ä¸ªè·¯è¿‡çš„ç†ŠçŒ«ï¼Œèº«ä¸Šåªæœ‰9å…ƒç«¹ç¬‹ï¼Œæ²¡æœ‰ã€Šä¹é˜´çœŸç»ã€‹å•Šï¼â€ä¾¯ä½©ä¸€ä¸ªæ‡’é©´æ‰“æ»šï¼Œå ªå ªé¿å¼€ã€‚</p>
<p>é‚£é»‘è¡£å¥³å­é•¿å‘æŠ«è‚©ï¼ŒåŒç›®è™½ç›²ï¼Œä½†å¬å£°è¾¨ä½ä¹‹æœ¯å·²è‡»åŒ–å¢ƒã€‚å¥¹æ­£æ˜¯è¢«é€å‡ºæ¡ƒèŠ±å²›ã€æ¼‚æ³ŠåŠç”Ÿçš„<strong>æ¢…è¶…é£</strong>ï¼ˆæœ¬åæ¢…è‹¥åï¼‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/798f7156f3844c189151275b77fa894f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766319480&amp;x-signature=U5snf2%2FaqwCa8DUm1AsfhDXU1ck%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æ¢…è¶…é£åœä¸‹èº«å½¢ï¼Œç©ºæ´çš„çœ¼ç¥æœ›å‘ä¾¯ä½©çš„æ–¹å‘ï¼Œç¥è‰²å‡„è‹¦ï¼šâ€œä½ è¿™å£°éŸ³â€¦â€¦æ†¨å‚»ä¸­é€ç€ä¸€è‚¡æ²¹è…»ï¼Œä¸åƒæ±Ÿå—ä¸ƒæ€ªï¼Œå€’åƒæ˜¯ä¸€å¤´â€¦â€¦å¾ˆèƒ–çš„ç†Šï¼Ÿâ€</p>
<p>â€œæ˜¯å›½å®ï¼è€Œä¸”æ˜¯å¾ˆå¸…çš„å›½å®ï¼â€ä¾¯ä½©æ•´ç†äº†ä¸€ä¸‹é¢†ç»“ï¼ˆè™½ç„¶æ²¡ç©¿è¡£æœï¼‰ï¼Œâ€œæ¢…å§å§ï¼Œä½ è¿™æ‹›å¼è™½ç„¶å‡Œå‰ï¼Œä½†å¥½åƒæ€»æ˜¯<strong>æ— æ³•åœ¨æ­£ç¡®çš„çº¿ç¨‹ä¸Šå‘½ä¸­ç›®æ ‡</strong>å•Šï¼Ÿæ˜¯ä¸æ˜¯è§‰å¾—å†…åŠ›è¿è½¬æ—¶ï¼Œæ€»æ˜¯è«åå…¶å¦™åœ°â€˜è·³â€™åˆ°äº†åˆ«çš„åœ°æ–¹ï¼Ÿâ€</p>
<p>æ¢…è¶…é£èº«èº¯ä¸€éœ‡ï¼šâ€œä½ æ€ä¹ˆçŸ¥é“ï¼Ÿæˆ‘è‹¦ç»ƒä¹é˜´çœŸç»ï¼Œæ¯å½“è¿åŠŸè‡³å…³é”®æ—¶åˆ»ï¼ˆå¼‚æ­¥è°ƒç”¨ï¼‰ï¼ŒçœŸæ°”ä¾¿ä¼šä¸å—æ§åˆ¶åœ°æ•£é€¸åˆ°è’é‡ä¹‹å¤–ï¼ˆåå°çº¿ç¨‹ï¼‰ï¼Œæ— æ³•ä¸æˆ‘æœ¬ä½“ï¼ˆActorï¼‰åˆäºŒä¸ºä¸€ã€‚éš¾é“â€¦â€¦ä½ æ˜¯å¸ˆçˆ¶æ´¾æ¥æŒ‡ç‚¹æˆ‘çš„ï¼Ÿâ€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a21f24b2e6784e6a97209c780cb8aa66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766319480&amp;x-signature=Em4hzuPH5bAxd6kY9UmwaUJWKZ8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä¾¯ä½©å’¬äº†ä¸€å£ç«¹ç¬‹ï¼Œæ¨äº†æ¨å¹¶ä¸å­˜åœ¨çš„çœ¼é•œï¼šâ€œå’³å’³ï¼Œç®—æ˜¯å§ã€‚ä»Šå¤©æˆ‘å°±å€Ÿç€ <strong>SE-0461ï¼ˆRun nonisolated async functions on the caller's actor by defaultï¼‰</strong> å·ç§˜ç±ï¼Œæ¥è§£å¼€ä½ è¿™åŠç”Ÿæ¼‚æ³Šçš„å¿ƒç»“ã€‚â€</p>
<h2 data-id="heading-2">2. ğŸ•¸ï¸ é»˜è®¤åœ¨è°ƒç”¨è€…çš„ Actor ä¸Šè¿è¡Œééš”ç¦»å¼‚æ­¥å‡½æ•°</h2>
<p>ä¾¯ä½©ç›˜è…¿ååœ¨ä¸€å †éª·é«…å¤´ä¸Šï¼Œå¼€å§‹äº†ä»–çš„æŠ€æœ¯è®²åº§ã€‚</p>
<p>â€œæ¢…å§å§ï¼Œä½ ç°åœ¨çš„æ­¦åŠŸï¼ˆä»£ç é€»è¾‘ï¼‰ï¼Œå°±åƒ Swift 6.2 ä¹‹å‰çš„æƒ…å†µã€‚â€</p>
<p>ä¾¯ä½©åœ¨æ²™åœ°ä¸Šç”»äº†ä¸€ä¸ªæ¶æ„å›¾ï¼š</p>
<blockquote>
<p>â€œåœ¨ SE-0461 ææ¡ˆä¹‹å‰ï¼Œä¸€ä¸ª <code>nonisolated async</code> å‡½æ•°ï¼ˆééš”ç¦»å¼‚æ­¥å‡½æ•°ï¼‰ï¼Œå°±åƒæ˜¯ä¸€ä¸ª<strong>ç”Ÿæ€§å‡‰è–„çš„æµªå­</strong>ã€‚ä¸ç®¡æ˜¯è°å¬å”¤å®ƒï¼Œå“ªæ€•æ˜¯ä½é«˜æƒé‡çš„ <strong>MainActor</strong>ï¼ˆæ¡ƒèŠ±å²›ä¸»ï¼‰ï¼Œè¿™æµªå­ä¸€æ—¦å¼€å§‹å¹²æ´»ï¼ˆæ‰§è¡Œï¼‰ï¼Œå°±ä¼šç«‹åˆ»è·³æ§½ï¼Œè·‘åˆ°<strong>é€šç”¨çš„åå°çº¿ç¨‹æ± </strong>é‡Œå»çæ··ã€‚â€</p>
</blockquote>
<p>â€œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ è§‰å¾—çœŸæ°”ï¼ˆæ•°æ®ï¼‰æ€»æ˜¯æ¸¸ç¦»åœ¨ä½ çš„æŒæ§ä¹‹å¤–ã€‚â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6039b5ed48d34639a97c998992e34e7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766319480&amp;x-signature=q1%2BSP%2BNFY4k3JkL7o1RfS7940BA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-3">ğŸ“œ æ›¾ç»çš„å›°æƒ‘ï¼ˆSwift 6.2 ä¹‹å‰ï¼‰</h3>
<p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿™æ®µä»¤æ— æ•°è‹±é›„ç«æŠ˜è…°çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä¸€ä¸ªè´Ÿè´£æµ‹é‡æ•°æ®çš„ç»“æ„ä½“ï¼Œå®ƒæ²¡æœ‰ä»»ä½• Actor éš”ç¦»ï¼Œæ˜¯ä¸ªè‡ªç”±äºº</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Measurements</span> {
    <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ª nonisolated async å‡½æ•°</span>
    <span class="hljs-comment">// å°±åƒå½“å¹´çš„é™ˆç„é£ï¼Œè™½ç„¶åŠŸå¤«é«˜ï¼Œä½†å¿ƒä¸åœ¨æ¡ƒèŠ±å²›</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">fetchLatest</span>() <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span> -&gt; [<span class="hljs-type">Double</span>] {
        <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">"https://hws.dev/readings.json"</span>)<span class="hljs-operator">!</span>
        <span class="hljs-comment">// è¿™é‡Œå‘ç”Ÿäº†å¼‚æ­¥ç­‰å¾…</span>
        <span class="hljs-keyword">let</span> (data, <span class="hljs-keyword">_</span>) <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url)
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span> <span class="hljs-type">JSONDecoder</span>().decode([<span class="hljs-type">Double</span>].<span class="hljs-keyword">self</span>, from: data)
    }
}
</code></pre>
<p>æ¥ç€ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª<strong>æ¡ƒèŠ±å²›æ°”è±¡ç«™</strong>ï¼Œå®ƒæ˜¯è¢« <code>@MainActor</code> ä¸¥æ ¼ç®¡è¾–çš„é¢†åœ°ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-meta">@MainActor</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">WeatherStation</span> {
    <span class="hljs-keyword">let</span> measurements <span class="hljs-operator">=</span> <span class="hljs-type">Measurements</span>()

    <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªåœ¨ä¸»çº¿ç¨‹ï¼ˆæ¡ƒèŠ±å²›ï¼‰è¿è¡Œçš„æ–¹æ³•</span>
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">getAverageTemperature</span>() <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span> -&gt; <span class="hljs-type">Double</span> {
        <span class="hljs-comment">// âš ï¸ é‡ç‚¹æ¥äº†ï¼š</span>
        <span class="hljs-comment">// åœ¨ Swift 6.2 ä¹‹å‰ï¼Œè™½ç„¶è¿™è¡Œä»£ç æ˜¯åœ¨ MainActor é‡Œå†™çš„</span>
        <span class="hljs-comment">// ä½† fetchLatest() ä¼šç«‹åˆ»è·³å‡º MainActorï¼Œè·‘å»åå°çº¿ç¨‹æ‰§è¡Œ</span>
        <span class="hljs-keyword">let</span> readings <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> measurements.fetchLatest()
        
        <span class="hljs-keyword">let</span> average <span class="hljs-operator">=</span> readings.reduce(<span class="hljs-number">0</span>, <span class="hljs-operator">+</span>) <span class="hljs-operator">/</span> <span class="hljs-type">Double</span>(readings.count)
        <span class="hljs-keyword">return</span> average
    }
}

<span class="hljs-keyword">let</span> station <span class="hljs-operator">=</span> <span class="hljs-type">WeatherStation</span>()
<span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> <span class="hljs-built_in">print</span>(station.getAverageTemperature())
</code></pre>
<p>æ¢…è¶…é£å¬å¾—å…¥ç¥ï¼šâ€œä½ æ˜¯è¯´ï¼Œä»¥å‰å“ªæ€•æˆ‘åœ¨æ¡ƒèŠ±å²›ï¼ˆMainActorï¼‰å¬å”¤é™ˆç„é£ï¼ˆ<code>fetchLatest</code>ï¼‰ï¼Œä»–ä¹Ÿä¼šç«‹åˆ»è·‘åˆ°å¤§æ¼ ï¼ˆåå°çº¿ç¨‹ï¼‰å»ç»ƒåŠŸï¼Ÿâ€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d1b9f4a95f0484ea36d660bf079038f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766319480&amp;x-signature=9k7j4eBokudgl6wr4315Andc30s%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€œæ²¡é”™ï¼â€ä¾¯ä½©ä¸€æ‹å¤§è…¿ï¼Œâ€œè¿™å°±æ˜¯ <strong>SE-0338</strong> å½“å¹´å®šä¸‹çš„è§„çŸ©â€”â€”ééš”ç¦»å¼‚æ­¥å‡½æ•°â€˜ä¸åœ¨ä»»ä½• Actor çš„æ‰§è¡Œå™¨ä¸Šè¿è¡Œâ€™ã€‚è¿™å¯¼è‡´äº†æ— æ•°çš„<strong>æ•°æ®ç«äº‰</strong>å’Œ<strong>é€»è¾‘æ··æ·†</strong>ï¼Œå°±åƒä½ å’Œé™ˆç„é£å·äº†ç»ä¹¦ç§å¥”ï¼Œç»“æœæŠŠè‡ªå·±ç»ƒå¾—äººä¸äººé¬¼ä¸é¬¼ã€‚â€</p>
<h2 data-id="heading-4">3. ğŸ› ï¸ æ–°çš„è§„çŸ©ï¼šæµªå­å›å¤´ï¼ˆSE-0461ï¼‰</h2>
<p>â€œä½†æ˜¯ï¼â€ä¾¯ä½©è¯é”‹ä¸€è½¬ï¼Œçœ¼ä¸­é—ªçƒç€æ™ºæ…§çš„å…‰èŠ’ï¼ˆä¹Ÿæœ‰å¯èƒ½æ˜¯é¥¿å‡ºæ¥çš„ç»¿å…‰ï¼‰ï¼Œâ€œSwift 6.2 å¸¦æ¥äº† <strong>SE-0461</strong>ï¼Œä¸€åˆ‡éƒ½å˜äº†ã€‚â€</p>
<p><strong>æ–°çš„è§„åˆ™æ˜¯ï¼šééš”ç¦»å¼‚æ­¥å‡½æ•°ç°åœ¨é»˜è®¤åœ¨â€œè°ƒç”¨è€…çš„ Actorâ€ä¸Šè¿è¡Œã€‚</strong></p>
<p>â€œè¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿâ€ä¾¯ä½©æŒ‡ç€å¤©ç©ºï¼Œâ€œæ„å‘³ç€å¦‚æœä½ èº«åœ¨æ¡ƒèŠ±å²›ï¼ˆMainActorï¼‰ï¼Œä½ å¬å”¤çš„æ‹›å¼ï¼ˆ<code>fetchLatest</code>ï¼‰å°±ä¼šè€è€å®å®åœ°å‘†åœ¨æ¡ƒèŠ±å²›ï¼ˆMainActorï¼‰æ‰§è¡Œï¼Œä¸å†å››å¤„ä¹±è·‘äº†ï¼â€</p>
<p>åœ¨ Swift 6.2 åŠä»¥åï¼š</p>
<ul>
<li><code>getAverageTemperature</code> æ˜¯ <code>@MainActor</code>ã€‚</li>
<li>å®ƒè°ƒç”¨äº† <code>measurements.fetchLatest()</code>ã€‚</li>
<li><code>fetchLatest</code> æ˜¯ééš”ç¦»çš„ã€‚</li>
<li><strong>ç»“æœï¼š</strong> <code>fetchLatest</code> ä¼šè‡ªåŠ¨ç»§æ‰¿è°ƒç”¨è€…çš„ä¸Šä¸‹æ–‡ï¼Œ<strong>ç›´æ¥åœ¨ <code>@MainActor</code> ä¸Šè¿è¡Œ</strong>ã€‚</li>
</ul>
<p>æ¢…è¶…é£ç©ºæ´çš„çœ¼ä¸­ä¼¼ä¹æµä¸‹äº†ä¸€è¡Œæ¸…æ³ªï¼šâ€œè‹¥å½“å¹´æœ‰æ­¤è§„åˆ™ï¼Œæˆ‘å’Œå¸ˆå…„ä¾¿ä¸ä¼šç¦»å²›ï¼Œä¹Ÿä¸ä¼šè½å¾—å¦‚æ­¤ä¸‹åœºâ€¦â€¦â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79db9f44c81a4d208a4410b33e98ba4e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766319480&amp;x-signature=pimBGRQPlypyayntPH5ir7UGbOY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€œæ˜¯å•Šï¼Œâ€ä¾¯ä½©æ„Ÿå¹é“ï¼Œâ€œè¿™å«<strong>ä¸Šä¸‹æ–‡äº²å’Œæ€§ï¼ˆContext Affinityï¼‰</strong>ã€‚è¿™ä¸ä»…å‡å°‘äº†çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼ˆå°±åƒçœå»äº†è·‘è·¯çš„ç›˜ç¼ ï¼‰ï¼Œè¿˜è®©ä»£ç é€»è¾‘æ›´ç¬¦åˆç›´è§‰â€”â€”ä½ åœ¨å“ªè°ƒç”¨çš„ï¼Œå®ƒå°±åœ¨å“ªè·‘ã€‚â€</p>
<h2 data-id="heading-5">4. ğŸšª é€ƒç”Ÿèˆ±ï¼šå¦‚æœä½ éè¦è®©ä»–èµ° (@concurrent)</h2>
<p>æ¢…è¶…é£å¿½ç„¶ç¥è‰²ä¸€å†·ï¼šâ€œä½†è‹¥æ˜¯æˆ‘çœŸçš„æƒ³è®©ä»–èµ°å‘¢ï¼Ÿè‹¥æ˜¯æˆ‘ä¸ºäº†ç»ƒå°±ç»ä¸–æ­¦åŠŸï¼Œå¿…é¡»è®©ä»–å»æå¯’ä¹‹åœ°ï¼ˆåå°çº¿ç¨‹ï¼‰å¸å–åœ°æ°”å‘¢ï¼Ÿâ€</p>
<p>â€œé—®å¾—å¥½ï¼â€ä¾¯ä½©ç«–èµ·å¤§æ‹‡æŒ‡ï¼ˆå¦‚æœç†ŠçŒ«æœ‰çš„è¯ï¼‰ï¼Œâ€œå¦‚æœä½ æ€€å¿µæ—§çš„è¡Œä¸ºï¼Œæˆ–è€…ä¸ºäº†æ€§èƒ½è€ƒè™‘ï¼ˆæ¯”å¦‚ä¸æƒ³é˜»å¡ä¸»çº¿ç¨‹ï¼‰ï¼Œæƒ³æ˜ç¡®åœ°æŠŠè¿™ä¸ªå‡½æ•°â€˜é€å‡ºå¸ˆé—¨â€™ï¼Œä½ å¯ä»¥ä½¿ç”¨æ–°çš„å…³é”®å­—ï¼š<code>@concurrent</code>ã€‚â€</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Measurements</span> {
    <span class="hljs-comment">// åŠ ä¸Š @concurrentï¼Œå°±æ˜¯ç»™äº†ä»–ä¸€å°ä¼‘ä¹¦</span>
    <span class="hljs-comment">// å‘Šè¯‰ç¼–è¯‘å™¨ï¼šè¿™ä¸ªå‡½æ•°å¿…é¡»å¹¶å‘æ‰§è¡Œï¼Œä¸è¦ç²˜ç€è°ƒç”¨è€…ï¼</span>
    <span class="hljs-meta">@concurrent</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">fetchLatest</span>() <span class="hljs-keyword">async</span> <span class="hljs-keyword">throws</span> -&gt; [<span class="hljs-type">Double</span>] {
        <span class="hljs-comment">// ... ä»£ç åŒä¸Š</span>
    }
}
</code></pre>
<p>â€œåŠ ä¸Š <code>@concurrent</code>ï¼Œå°±åƒæ˜¯ä½ å¯¹ä»–å–Šäº†ä¸€å¥ï¼šâ€˜æ»šï¼â€™ã€‚äºæ˜¯ï¼Œä»–åˆå˜å›äº†é‚£ä¸ªåœ¨åå°çº¿ç¨‹æ¸¸è¡çš„æµªå­ã€‚â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd206cac07334e89a5a47dfcbcb25dc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766319480&amp;x-signature=DWYlBJmMQGNgFapAF6W6Z%2Bt1mjc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-6">5. ğŸ§¬ æ·±åº¦è§£æï¼šä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ï¼Ÿ</h2>
<p>ä¾¯ä½©çœ‹ç€æ¢…è¶…é£ä¼¼æ‡‚éæ‡‚çš„æ ·å­ï¼Œå†³å®šå†æ·±å…¥è§£é‡Šä¸€ä¸‹ï¼ˆä»¥æ­¤å±•ç¤ºè‡ªå·±æ·±åšçš„æŠ€æœ¯åŠŸåº•ï¼‰ï¼š</p>
<ol>
<li><strong>ç›´è§‰ä¸€è‡´æ€§</strong>ï¼šä»¥å‰å¼€å‘è€…åœ¨ <code>@MainActor</code> çš„ View Model é‡Œå†™ä¸ªè¾…åŠ©å‡½æ•°ï¼Œæ€»ä»¥ä¸ºå®ƒæ˜¯å®‰å…¨çš„ï¼Œç»“æœå®ƒæ‚„æ‚„è·‘åˆ°äº†åå°ï¼Œè®¿é—® UI å±æ€§æ—¶ç›´æ¥ Crashã€‚ç°åœ¨ï¼Œå®ƒä¹–ä¹–å¬è¯äº†ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå°‘äº†æ— è°“çš„ Actor ä¹‹é—´çš„â€œè·³è·ƒâ€ï¼ˆHoppingï¼‰ï¼Œç¨‹åºçš„ä»»ç£äºŒè„‰æ‰“é€šäº†ï¼Œè¿è¡Œæ›´æµç•…ã€‚</li>
<li><strong>Sendable æ£€æŸ¥</strong>ï¼šç”±äºç°åœ¨å‡½æ•°å¯èƒ½åœ¨ Actor å†…éƒ¨è¿è¡Œï¼Œç¼–è¯‘å™¨åœ¨æ£€æŸ¥æ•°æ®å®‰å…¨æ€§ï¼ˆSendableï¼‰æ—¶çš„ç­–ç•¥ä¹Ÿä¼šæ›´æ™ºèƒ½ã€‚</li>
</ol>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/850188419d0744c0b39b7840d6a24f2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766319480&amp;x-signature=u3YlcV2eIW7BrEqx%2BzVHFPqTiZQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-7">6. ğŸ ç»“å±€ï¼šé£æ²™æ•£å»ï¼Œå¢“ç¢‘æ˜¾ç°</h2>
<p>æ¢…è¶…é£å¬å®Œï¼Œä»°å¤©é•¿å•¸ï¼Œå•¸å£°ä¸­å……æ»¡äº†é‡Šç„¶ã€‚å¥¹æ¯ç˜¦çš„æ‰‹æŒç¼“ç¼“æ”¾ä¸‹ï¼Œä¸€èº«æˆ¾æ°”ä¼¼ä¹æ¶ˆæ•£äº†ä¸å°‘ã€‚</p>
<p>â€œåŸæ¥å¦‚æ­¤ï¼ŒåŸæ¥æ˜¯æˆ‘ä¸€ç›´æ‰§ç€äºâ€˜ééš”ç¦»â€™çš„è‡ªç”±ï¼Œå´å¿˜äº†â€˜éš”ç¦»â€™æ‰æ˜¯å½’å®¿ã€‚â€å¥¹å–ƒå–ƒè‡ªè¯­ï¼Œèº«å½±é€æ¸å˜å¾—é€æ˜ï¼Œä»¿ä½›è¦èå…¥è¿™ç‰‡è™šæ‹Ÿçš„ä»£ç è’åŸã€‚</p>
<p>â€œå–‚ï¼æ¢…å§å§ï¼Œåˆ«èµ°å•Šï¼æˆ‘è¿˜æ²¡é—®ä½ ã€Šä¹é˜´çœŸç»ã€‹é‡Œæœ‰æ²¡æœ‰æ²»ç–—è„±å‘çš„æ–¹å­å‘¢ï¼â€ä¾¯ä½©ä¼¸æ‰‹å»æŠ“ï¼Œå´æŠ“äº†ä¸ªç©ºã€‚</p>
<p>åœºæ™¯å¼€å§‹å‰§çƒˆéœ‡åŠ¨ï¼Œè’é‡å´©å¡Œï¼Œåœ°é¢è£‚å¼€ã€‚ä¸€åº§å·¨å¤§çš„é»‘è‰²çŸ³ç¢‘ç¼“ç¼“å‡èµ·ï¼ŒæŒ¡ä½äº†ä¾¯ä½©çš„å»è·¯ã€‚çŸ³ç¢‘ä¸Šåˆ»ç€ä¸€è¡Œé—ªç€çº¢å…‰çš„ä»£ç ï¼Œæ•£å‘ç€å±é™©çš„æ°”æ¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/78cab4c8a8da41c7bdbcc6b32b246999~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766319480&amp;x-signature=cNDVH51UyPtVyiq2dQ7UB78qtls%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä¾¯ä½©å‡‘è¿‘ä¸€çœ‹ï¼Œåªè§çŸ³ç¢‘ä¸Šå†™ç€å‡ ä¸ªå¤§å­—ï¼š<strong>Actor-isolated Deinit</strong>ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œæ¢…è¶…é£æ¶ˆå¤±çš„åœ°æ–¹ï¼Œä¼ æ¥æœ€åä¸€å¥è¯ï¼šâ€œ<strong>åœ¨è¿™ä¸ªä¸–ç•Œï¼Œç”Ÿæœ‰æ—¶ï¼Œæ­»äº¦æœ‰æ—¶ã€‚å½“ä¸€ä¸ª Actor èµ°å‘æ¯ç­ï¼ˆdeinitï¼‰æ—¶ï¼Œä½ è¯¥å¦‚ä½•å®‰å…¨åœ°å¤„ç†å®ƒçš„é—äº§ï¼Ÿ</strong>â€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d725c1ef29cb4d9fa530539b9a01b6ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766319480&amp;x-signature=020p3YuXQFr6ytHgEXEpHLCW%2FSc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä¾¯ä½©åªè§‰å¾—èƒŒåä¸€å‡‰ï¼Œå› ä¸ºä»–çœ‹åˆ°çŸ³ç¢‘åä¼¸å‡ºäº†ä¸€åªæ‰‹â€¦â€¦</p>
<hr/>
<p><strong>æ¬²çŸ¥åäº‹å¦‚ä½•ï¼Œä¸”çœ‹ä¸‹å›åˆ†è§£ï¼š</strong></p>
<p>ğŸ¼ <strong>Swift 6.2 åˆ—ä¼ ï¼ˆç¬¬åäºŒç¯‡ï¼‰ï¼šæ¨ä¸æ‚”çš„â€œä¸´ç»ˆâ€ä¸æ‚”ä¸ Isolated Deinit</strong>
<em>(Introducing Isolated synchronous deinit - SE-0371)</em></p>
<blockquote>
<p><strong>ä¸‹é›†é¢„å‘Šï¼š</strong>
å½“ä¸€ä¸ª Actor å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œå¦‚ä½•ç¡®ä¿å®ƒèƒ½å®‰å…¨åœ°è®¿é—®å†…éƒ¨çš„æ•°æ®ï¼Ÿå¦‚æœä½ åœ¨ <code>deinit</code> é‡Œå†™äº†å¹¶å‘ä»£ç ï¼Œä¼šä¸ä¼šå¯¼è‡´ç¨‹åºç›´æ¥ç‚¸è£‚ï¼ŸSE-0371 å°†æ•™ä½ å¦‚ä½•ç»™ Actor çš„ä¸´ç»ˆé—è¨€åŠ ä¸Šä¸€æŠŠå®‰å…¨çš„é”ã€‚ä¾¯ä½©èƒ½ä»è¿™åº§â€œææ„ä¹‹å¢“â€ä¸­é€ƒè„±å—ï¼Ÿæ•¬è¯·æœŸå¾…ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Embedding æ¨¡å‹word2vec/glove/fasttext/elmo/doc2vec/infersentå­¦ä¹ æ€»ç»“]]></title>    <link>https://juejin.cn/post/7583168260797612072</link>    <guid>https://juejin.cn/post/7583168260797612072</guid>    <pubDate>2025-12-14T12:22:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583168260797612072" data-draft-id="7583234966634987554" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Embedding æ¨¡å‹word2vec/glove/fasttext/elmo/doc2vec/infersentå­¦ä¹ æ€»ç»“"/> <meta itemprop="keywords" content="ç®—æ³•,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-14T12:22:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ®äººä¸‰ç­‰"/> <meta itemprop="url" content="https://juejin.cn/user/4350105576808472"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Embedding æ¨¡å‹word2vec/glove/fasttext/elmo/doc2vec/infersentå­¦ä¹ æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4350105576808472/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ®äººä¸‰ç­‰
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T12:22:08.000Z" title="Sun Dec 14 2025 12:22:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é™æ€è¯å‘é‡Embeding æ¨¡å‹</h2>
<h3 data-id="heading-1">work2vecï¼š é  â€œçŒœé‚»å±…â€ å­¦å‘é‡ï¼š</h3>
<ul>
<li>1 å°†ç‰©æ–™ä¸­çš„æ‰€æœ‰è¯èµ‹å€¼åˆå§‹å€¼ï¼Œå®šå¥½ç»´åº¦å’Œçª—å£å¤§å°(å³ä¸­å¿ƒè¯é‚»å±…ä¸ªæ•°ï¼Œä¹Ÿæ˜¯æ­¤æ¬¡å­¦ä¹ çš„ä¸Šä¸‹æ–‡é•¿åº¦)ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„ç»´åº¦æ˜¯(100/300)</li>
<li>2 CBOW(ç”¨é‚»å±…çŒœä¸­å¿ƒè¯)å’ŒSkip-gramï¼ˆç”¨ä¸­å¿ƒè¯çŒœé‚»å±…)ï¼Œä¸¤ç§æ–¹æ³•çš„åŒºåˆ«ï¼š
<ul>
<li>CBOWï¼šç”¨é‚»å±…çŒœä¸­å¿ƒè¯ï¼Œè¯­æ–™å°ã€é«˜é¢‘è¯å¤šï¼Œè®­ç»ƒå¿«ï¼Œå¯¹é«˜é¢‘è¯çš„å‘é‡æ•ˆæœå¥½</li>
<li>Skip-gramï¼šç”¨ä¸­å¿ƒè¯çŒœé‚»å±…ï¼Œè¯­æ–™å¤§ã€ä½é¢‘è¯å¤šï¼Œè®­ç»ƒæ…¢ä¸€ç‚¹ï¼Œä½†å¯¹ä½é¢‘è¯çš„å‘é‡æ•ˆæœæ›´å¥½</li>
<li>CBOW å’Œ Skip-gram æ˜¯è®­ç»ƒæ¨¡å¼ï¼ŒäºŒé€‰ä¸€ï¼Œçœ‹è¯­æ–™å¤§å°å’Œè¯é¢‘é€‰</li>
<li>æ¯”å¦‚ CBOWæ–¹æ³•ï¼š
<ul>
<li>â‘  ä»å¥å­é‡ŒæŒ‘ä¸€ä¸ªä¸­å¿ƒè¯ï¼ˆæ¯”å¦‚ â€œåƒâ€ï¼‰ï¼Œå†åœˆå‡ºå®ƒçš„é‚»å±…è¯ï¼ˆæ¯”å¦‚ â€œæˆ‘ã€çˆ±ã€è‹¹æœâ€ï¼Œçª—å£ä¸º 3ï¼‰ï¼›</li>
<li>â‘¡ æŠŠ 3 ä¸ªé‚»å±…è¯çš„å‘é‡åŠ èµ·æ¥ä½œä¸ºåŠ æ€»å‘é‡ï¼Œç„¶åè®©çª—å£ä¸­çš„æ¯ä¸€ä¸ªè¯å‘é‡æƒé‡ä¹˜ä»¥åŠ æ€»å‘é‡å¾—åˆ°æ¦‚ç‡å€¼ï¼Œå†è¿›è¡Œ softmax å¤„ç†(å…¶å®å°±æ˜¯ä¸€ä¸ªç®€å•çš„ç¥ç»ç½‘ç»œ)</li>
<li>â‘¢ é”™è¯¯çš„è¯å°±ä½¿ç”¨åå‘ä¼ æ’­ï¼Œè°ƒæ•´é‚»å±…è¯å’Œä¸­å¿ƒè¯çš„å‘é‡ï¼Œè®©ä¸‹æ¬¡çŒœå¾—æ›´å‡†</li>
</ul>
</li>
</ul>
</li>
<li>3 ç®€åŒ–æ¸¸æˆï¼šå¦‚æœæ¯æ¬¡éƒ½çŒœ"ä¸­å¿ƒè¯"é‚£è®¡ç®—æ•ˆç‡å°†ä¼šéå¸¸æ…¢ï¼Œæ‰€ä»¥å¯ä»¥"ä½œå¼Š"ï¼š
<ul>
<li>1 è´Ÿé‡‡æ ·ï¼šåªçŒœ â€œçœŸé‚»å±… vs å‡é‚»å±…â€
<ul>
<li>åŸæ¥çš„éº»çƒ¦ï¼šè¦è®©æ¨¡å‹çŒœ â€œä¸­å¿ƒè¯æ˜¯è¯æ±‡è¡¨é‡Œçš„å“ªä¸€ä¸ªâ€ï¼Œæ¯”å¦‚è¯æ±‡è¡¨æœ‰ 1 ä¸‡ä¸ªè¯ï¼Œå°±è¦ç®— 1 ä¸‡æ¬¡å¾—åˆ†ï¼Œéå¸¸æ…¢</li>
<li>ä½œå¼Šæ€è·¯ï¼šä¸çŒœæ‰€æœ‰è¯ï¼ŒåªæŒ‘å‡ ä¸ªè¯åšå¯¹æ¯”ï¼š
<ul>
<li>é€‰ 1 ä¸ªæ­£æ ·æœ¬ï¼šå°±æ˜¯çœŸå®çš„ä¸­å¿ƒè¯+çœŸé‚»å±…ï¼ˆæ¯”å¦‚â€œçˆ±â€ æ˜¯ä¸­å¿ƒè¯ï¼Œ â€œæˆ‘ã€åƒâ€ ä½œä¸ºçœŸé‚»å±…ï¼‰ï¼›</li>
<li>é€‰ 5~20 ä¸ªè´Ÿæ ·æœ¬ï¼šä»è¯æ±‡è¡¨é‡ŒéšæœºæŠ½å‡ ä¸ªä¸ç›¸å…³çš„è¯ï¼Œä¸­å¿ƒè¯+å‡é‚»å±…ï¼ˆæ¯”å¦‚â€œçˆ±â€ æ˜¯ä¸­å¿ƒè¯ï¼Œ â€œæ±½è½¦ã€æ¡Œå­â€ ä½œä¸ºå‡é‚»å±…ï¼‰ï¼›</li>
<li>è®©æ¨¡å‹åªåšä¸€ä»¶äº‹ï¼šåŒºåˆ† â€œæ­£æ ·æœ¬æ˜¯çœŸé‚»å±…â€ï¼Œâ€œè´Ÿæ ·æœ¬æ˜¯å‡é‚»å±…â€ã€‚</li>
<li>æ•ˆæœï¼šä¸ç”¨ç®— 1 ä¸‡æ¬¡ï¼Œåªç®— 1 æ¬¡æ­£æ ·æœ¬ + 10 æ¬¡è´Ÿæ ·æœ¬ = 11 æ¬¡ï¼Œé€Ÿåº¦ç›´æ¥æå‡å‡ ç™¾å€ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>2 å±‚æ¬¡ Softmaxï¼ˆHierarchical Softmaxï¼‰ï¼šç”¨ â€œäºŒå‰æ ‘â€ å°‘èµ°è·¯
<ul>
<li>åŸæ¥çš„éº»çƒ¦ï¼šSoftmax è¦éå†æ‰€æœ‰è¯ç®—æ¦‚ç‡ï¼Œè¯æ±‡è¡¨è¶Šå¤§è¶Šæ…¢ã€‚</li>
<li>ä½œå¼Šæ€è·¯ï¼šæŠŠè¯æ±‡è¡¨æ’æˆä¸€æ£µäºŒå‰æ ‘ï¼ŒçŒœè¯å˜æˆ â€œèµ°æ ‘çš„è·¯å¾„â€ï¼š
<ul>
<li>æ ‘çš„å¶å­èŠ‚ç‚¹æ˜¯æ‰€æœ‰è¯ï¼Œæ ¹èŠ‚ç‚¹åœ¨æœ€ä¸Šé¢ï¼›</li>
<li>çŒœä¸­å¿ƒè¯æ—¶ï¼Œä¸ç”¨ä¸€ä¸ªä¸ªå¯¹æ¯”ï¼Œè€Œæ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼šæ¯èµ°ä¸€æ­¥åˆ¤æ–­"ä¸­å¿ƒè¯éœ€è¦" â€œå¾€å·¦è¿˜æ˜¯å¾€å³â€ï¼Œç›´åˆ°èµ°åˆ°ç›®æ ‡è¯çš„å¶å­èŠ‚ç‚¹ï¼›æœ‰ç‚¹ç±»ä¼¼äºŒåˆ†æ³•çš„ç†å¿µ</li>
</ul>
</li>
</ul>
</li>
<li>3 è´Ÿé‡‡æ ·å’Œå±‚æ¬¡ Softmax æ˜¯æé€Ÿå·¥å…·ï¼ŒäºŒé€‰ä¸€æˆ–æŒ‰åœºæ™¯æ­é…ç”¨ï¼›</li>
</ul>
</li>
</ul>
<h3 data-id="heading-2">GloVe ( Global Vectors for Word Representation)</h3>
<ul>
<li>æ ¸å¿ƒé€»è¾‘æ˜¯ â€œç»Ÿè®¡æ•´ä¸ªè¯­æ–™ä¸­è¯ä¸è¯çš„å…±ç°é¢‘ç‡ï¼Œç”¨é¢‘ç‡å…³ç³»å­¦å‘é‡â€ï¼Œå±äºç»Ÿè®¡å¼æ¨¡å‹ã€‚ç»Ÿè®¡ â€œè°å’Œè°ç»å¸¸ä¸€èµ·å‡ºç°â€</li>
<li>éå†æ•´ä¸ªè¯­æ–™åº“ï¼Œåšä¸€å¼  å…±ç°çŸ©é˜µï¼ˆåƒ Excel è¡¨æ ¼ï¼‰ï¼šè¡Œå’Œåˆ—éƒ½æ˜¯è¯ï¼Œå•å…ƒæ ¼é‡Œçš„æ•°å­—æ˜¯ â€œè¿™ä¸¤ä¸ªè¯åœ¨çª—å£å†…ä¸€èµ·å‡ºç°çš„æ¬¡æ•°â€ï¼›
<ul>
<li>æ¯”å¦‚è¡¨æ ¼é‡Œ â€œå›½ç‹â€ å’Œ â€œç‹åâ€ çš„æ ¼å­é‡Œæ˜¯ 100ï¼Œâ€œå›½ç‹â€ å’Œ â€œè‹¹æœâ€ çš„æ ¼å­é‡Œæ˜¯ 1â€”â€” è¯´æ˜ â€œå›½ç‹â€ å’Œ â€œç‹åâ€ å…³ç³»è¿‘ã€‚</li>
</ul>
</li>
<li>ç»™ç»Ÿè®¡ç»“æœ â€œåŠ æƒâ€
<ul>
<li>å¤ªå¸¸è§çš„è¯ï¼ˆæ¯”å¦‚ â€œçš„ã€äº†â€ï¼‰å’Œè°éƒ½èƒ½ä¸€èµ·å‡ºç°ï¼Œç»Ÿè®¡ç»“æœä¸ç®—æ•°ï¼Œæ‰€ä»¥ç»™å®ƒä»¬çš„æ¬¡æ•° â€œæ‰“æŠ˜â€ï¼›</li>
<li>å‡ºç°æ¬¡æ•°å¤ªå°‘çš„è¯ï¼ˆæ¯”å¦‚ç”Ÿåƒ»è¯ï¼‰ï¼Œç»Ÿè®¡ç»“æœä¸å‡†ï¼Œä¹Ÿæ‰“æŠ˜ â€”â€” åªé‡ç‚¹å…³æ³¨ â€œå‡ºç°æ¬¡æ•°é€‚ä¸­â€ çš„è¯å¯¹ã€‚</li>
</ul>
</li>
<li>ç”¨ç»Ÿè®¡ç»“æœ â€œå­¦å‘é‡â€
-ç›®æ ‡å¾ˆç®€å•ï¼šè®© ä¸¤ä¸ªè¯å‘é‡çš„ç‚¹ç§¯ â‰ˆ ln(ä¸¤ä¸ªè¯å…±ç°æ¬¡æ•°)ï¼›
- æ¯”å¦‚ â€œå›½ç‹â€ å’Œ â€œç‹åâ€ çš„å…±ç°æ¬¡æ•°æ˜¯ 100ï¼Œå¯¹æ•°æ˜¯ 4.6ï¼Œé‚£å°±è¦è®©å®ƒä»¬çš„å‘é‡ç‚¹ç§¯â‰ˆ4.6ï¼›</li>
<li>åˆå§‹åŒ–æ‰€æœ‰è¯çš„éšæœºå‘é‡ï¼Œç„¶åä¸æ–­è°ƒæ•´å‘é‡ï¼Œç›´åˆ°å‘é‡ç‚¹ç§¯æ»¡è¶³è¿™ä¸ªç›®æ ‡
<ul>
<li>è¾“å‡ºæœ€ç»ˆå‘é‡è°ƒæ•´åˆ°è¯¯å·®è¶³å¤Ÿå°æ—¶ï¼Œæ¯ä¸ªè¯çš„å‘é‡å°±å­¦å¥½äº† â€”â€” å› ä¸ºç”¨äº†å…¨å±€ç»Ÿè®¡ï¼Œè¯çš„è¯­ä¹‰å…³ç³»ä¼šæ›´ç¨³ï¼ˆæ¯”å¦‚ â€œå›½ç‹ - ç”·äºº + å¥³äºº = ç‹åâ€ è¿™ç§ç±»æ¯”ä»»åŠ¡ï¼ŒGloVe åšå¾—æ›´å‡†ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-3">FastText ï¼š</h3>
<ul>
<li>æ ¸å¿ƒæ˜¯ â€œç»™ Word2Vec åŠ äº†â€˜å­—ç¬¦çº§åæ—éƒ¨é¦–â€™â€ï¼Œè§£å†³äº† Word2Vec å¤„ç†ç”Ÿåƒ»è¯ã€æœªç™»å½•è¯ï¼ˆæ²¡è§è¿‡çš„è¯ï¼‰çš„ç—›ç‚¹ï¼Œè®­ç»ƒé€Ÿåº¦è¿˜æ›´å¿«(3-10 å€)ã€‚</li>
<li>FastText çš„å…³é”®åˆ›æ–°æ˜¯ å­—ç¬¦çº§ n-gram ç‰¹å¾ï¼š
<ul>
<li>æŠŠæ¯ä¸ªå•è¯æ‹†æˆè‹¥å¹²ä¸ªå­—ç¬¦ç‰‡æ®µï¼ˆn-gramï¼‰ï¼Œæ¯”å¦‚å•è¯ appleï¼Œå– n=3ï¼ˆ3 ä¸ªå­—ç¬¦ä¸ºä¸€æ®µï¼‰ï¼Œä¼šæ‹†æˆï¼š#apã€appã€pplã€pleã€le#ï¼ˆåŠ  # æ˜¯ä¸ºäº†æ ‡è®°è¯çš„å¼€å¤´å’Œç»“å°¾ï¼‰ï¼›</li>
<li>è®­ç»ƒæ—¶ï¼Œå•è¯çš„å‘é‡ = å®ƒæ‰€æœ‰å­—ç¬¦ç‰‡æ®µçš„å‘é‡ä¹‹å’Œã€‚</li>
<li>è®­ç»ƒæ–¹å¼ï¼šå’Œ Word2Vec å‡ ä¹ä¸€æ ·ï¼Œæ›´å¿«æ›´å¼ºï¼›</li>
<li>è®­ç»ƒç›®æ ‡å’Œï¼šå’ŒWord2Vec çš„ Skip-gram å®Œå…¨ç›¸åŒï¼šç”¨ä¸­å¿ƒè¯çŒœé‚»å±…è¯ã€‚</li>
<li>ä¼˜åŠ¿ï¼š
<ul>
<li>èƒ½å¤„ç†ç”Ÿåƒ»è¯ / æœªç™»å½•è¯ï¼šå°±ç®—é‡åˆ°æ²¡è§è¿‡çš„è¯ï¼Œåªè¦èƒ½æ‹†æˆå­—ç¬¦ç‰‡æ®µï¼Œå°±èƒ½ç”¨ç‰‡æ®µå‘é‡æ‹¼å‡ºè¿™ä¸ªè¯çš„å‘é‡ï¼›</li>
<li>è®­ç»ƒé€Ÿåº¦æ›´å¿«ï¼šFacebook åšäº†å·¥ç¨‹ä¼˜åŒ–ï¼Œæ¯” Word2Vec å¿«å¥½å‡ å€ï¼Œé€‚åˆè¶…å¤§è§„æ¨¡è¯­æ–™ï¼›
<ul>
<li>ä¼˜åŒ– 1ï¼šå“ˆå¤«æ›¼æ ‘ â€”â€” æŠŠé«˜é¢‘è¯æ”¾åœ¨æ ‘çš„æµ…å±‚ï¼ˆé è¿‘æ ¹èŠ‚ç‚¹ï¼‰ï¼Œä½é¢‘è¯æ”¾åœ¨æ·±å±‚</li>
<li>ä¼˜åŒ– 2ï¼šå“ˆå¸Œè¡¨ï¼ˆHash Tableï¼‰ ---- æŠŠç›¸ä¼¼çš„ n-gram ç‰‡æ®µæ˜ å°„åˆ°åŒä¸€ä¸ªå‘é‡ç©ºé—´ï¼Œå‡å°‘äº†é‡å¤è®¡ç®—å’Œå†…å­˜å ç”¨ã€‚</li>
<li>ä½èµ„æºè¯­è¨€å‹å¥½ï¼šå¯¹å°è¯­ç§ï¼ˆè¯­æ–™å°‘ã€ç”Ÿåƒ»è¯å¤šï¼‰ç‰¹åˆ«å‹å¥½ï¼Œæ•ˆæœè¿œè¶… Word2Vecã€‚</li>
</ul>
</li>
<li>é¢å¤–æŠ€èƒ½ï¼šç›´æ¥åšæ–‡æœ¬åˆ†ç±»
<ul>
<li>FastText é™¤äº†èƒ½ç”Ÿæˆè¯å‘é‡ï¼Œè¿˜èƒ½ç›´æ¥åšæ–‡æœ¬åˆ†ç±»ï¼ˆè¿™æ˜¯å®ƒå’Œ Word2Vec/GloVe çš„å°åŒºåˆ«ï¼‰ï¼š</li>
<li>åˆ†ç±»æ—¶ï¼ŒæŠŠå¥å­é‡Œæ‰€æœ‰è¯çš„å‘é‡åŠ èµ·æ¥ï¼Œå¾—åˆ°å¥å­å‘é‡ï¼›</li>
<li>å†ç”¨ä¸€ä¸ªç®€å•çš„çº¿æ€§å±‚ + Softmaxï¼Œè¾“å‡ºåˆ†ç±»ç»“æœã€‚</li>
<li>ç‰¹ç‚¹ï¼šåˆ†ç±»é€Ÿåº¦æå¿«ï¼Œé€‚åˆæµ·é‡æ–‡æœ¬çš„å¿«é€Ÿåˆ†ç±»ä»»åŠ¡ï¼ˆæ¯”å¦‚åƒåœ¾é‚®ä»¶è¯†åˆ«ï¼Œç±»æ¯”word2vec ä¸­çš„è´Ÿé‡‡æ ·ï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 data-id="heading-4">åŠ¨æ€è¯å‘é‡Embedding æ¨¡å‹ï¼š</h2>
<ul>
<li>
<p>ELMO(Embedding from Language Model)ï¼Œé€šè¿‡æ— ç›‘ç£é¢„è®­ç»ƒå¤šå±‚åŒå‘LSTMæ¨¡å‹æ¥å­¦ä¹ å¸¦ä¸Šä¸‹æ–‡ä¿¡æ¯çš„ï¼ˆContextualizedï¼‰å•è¯è¡¨ç¤ºã€‚ä¸€ç§åŠ¨æ€çš„ï¼Œè¯­å¢ƒåŒ–çš„è¯å‘é‡è¡¨ç¤ºæ–¹æ³•ï¼Œå¯ä»¥æ ¹æ®ä¸Šä¸‹æ–‡è¯­å¢ƒæ¥ç”Ÿæˆç›¸åº”è¯çš„å‘é‡è¡¨ç¤ºã€‚</p>
</li>
<li>
<p>ELMO çš„æµç¨‹å¯ä»¥ç±»æ¯”æˆï¼šå…ˆå­¦é€šç”¨å­—å…¸ï¼ˆé¢„è®­ç»ƒï¼‰ï¼Œå†æ ¹æ®å…·ä½“æ–‡ç« è°ƒæ•´è¯ä¹‰ï¼ˆä»»åŠ¡é€‚é…ï¼‰ã€‚</p>
<ul>
<li>é¢„è®­ç»ƒé˜¶æ®µï¼šç”¨åŒå‘ LSTM å­¦ â€œé€šç”¨è¯è¯­ä¹‰â€ï¼ˆç”¨æµ·é‡æ— æ ‡æ³¨æ–‡æœ¬ï¼ˆæ¯”å¦‚å…¨ç½‘çš„æ–°é—»ã€å°è¯´ï¼‰è®­ç»ƒä¸€ä¸ª â€œåŒå‘è¯­è¨€æ¨¡å‹â€ï¼Œç›®æ ‡æ˜¯è®©æ¨¡å‹å­¦ä¼š â€œæ ¹æ®ä¸Šä¸‹æ–‡çŒœè¯â€ï¼‰
<ul>
<li>
<ol>
<li>è¾“å…¥å±‚ï¼šæŠŠæ–‡æœ¬è½¬æˆå­—ç¬¦å‘é‡ï¼š</li>
</ol>
<ul>
<li>å…ˆæŠŠæ¯ä¸ªå­—ç¬¦è½¬æˆå­—ç¬¦å‘é‡ï¼ˆæ¯”å¦‚ç”¨ CNN æå–å­—ç¬¦ç‰¹å¾ï¼‰ï¼›</li>
<li>å†æŠŠä¸€ä¸ªè¯çš„æ‰€æœ‰å­—ç¬¦å‘é‡åˆå¹¶ï¼Œå¾—åˆ°è¿™ä¸ªè¯çš„å­—ç¬¦çº§åˆå§‹å‘é‡ã€‚</li>
</ul>
</li>
<li>
<ol start="2">
<li>æ ¸å¿ƒå±‚ï¼šå †å å¤šå±‚åŒå‘ LSTM(è¿™æ˜¯ ELMO çš„å…³é”®ï¼Œç”¨ å¤šå±‚åŒå‘ LSTM é€å±‚æå–è¯çš„è¯­ä¹‰)</li>
</ol>
<ul>
<li>åŒå‘ LSTM:ä¸€ä¸ªä»å·¦åˆ°å³çš„ LSTM + ä¸€ä¸ªä»å³åˆ°å·¦çš„ LSTMï¼Œä¸¤è€…ç‹¬ç«‹è®¡ç®—ï¼Œæœ€åæŠŠç»“æœâ€œæ‹¼â€èµ·æ¥ã€‚
<ul>
<li>åº•å±‚åŒå‘ LSTMï¼šå­¦çš„æ˜¯åŸºç¡€è¯­ä¹‰ï¼Œæ¯”å¦‚è¯çš„å­—é¢æ„æ€ã€ç®€å•æ­é…ï¼ˆæ¯”å¦‚ â€œé“¶è¡Œâ€ å’Œ â€œé’±â€ çš„å…³è”ï¼‰ï¼›</li>
<li>é«˜å±‚åŒå‘ LSTMï¼šå­¦çš„æ˜¯æ·±å±‚è¯­ä¹‰ï¼Œæ¯”å¦‚è¯åœ¨å¥å­é‡Œçš„è§’è‰²ã€ä¸Šä¸‹æ–‡çš„é€»è¾‘å…³ç³»ï¼ˆæ¯”å¦‚ â€œé“¶è¡Œâ€ åœ¨å¥å­é‡Œæ˜¯ â€œåœ°ç‚¹å®¾è¯­â€ï¼‰</li>
</ul>
</li>
</ul>
</li>
<li>3 é¢„è®­ç»ƒç›®æ ‡ï¼šè®©åŒå‘ LSTM å­¦ä¼š â€œæ ¹æ®ä¸Šä¸‹æ–‡çŒœè¢«é®ä½çš„è¯â€ï¼Œæ­£å‘åå‘éƒ½æ¥ä¸€é</li>
<li>4 æ•´ä½“ æ¶æ„ï¼šCNN - BIG - LSTM
<ul>
<li>å­—ç¬¦ CNNï¼šæŠŠå•è¯æ‹†æˆå­—ç¬¦ï¼Œæå–å­—ç¬¦çº§ç‰¹å¾ï¼Œç”ŸæˆåŸºç¡€å‘é‡ï¼›åƒæŸ¥å­—å…¸å…ˆè®¤å•ä¸ªå­—ï¼Œè§£å†³ç”Ÿåƒ»è¯ã€æ‹¼å†™é”™è¯¯é—®é¢˜</li>
<li>ä¸¤å±‚ Highwayï¼š	ä¼˜åŒ–"å­—ç¬¦å‘é‡"çš„ä¼ è¾“ï¼Œè®©æœ‰æ•ˆç‰¹å¾æ›´å¥½åœ°é€šè¿‡	ç»™ç‰¹å¾ â€œå¼€ç»¿è‰²é€šé“â€ï¼Œå‡å°‘ä¿¡æ¯æŸè€—
<ul>
<li>å…·ä½“æ–¹æ³•ï¼š(ä¾ç„¶æ˜¯é€šè¿‡æƒé‡çš„æ–¹å¼æ¥å®ç°)
<ul>
<li>å˜æ¢é—¨ï¼ˆTransform Gateï¼‰ï¼šå†³å®š â€œå¤šå°‘ç‰¹å¾éœ€è¦è¢«åŠ å·¥å¤„ç†â€ï¼›</li>
<li>æºå¸¦é—¨ï¼ˆCarry Gateï¼‰ï¼šå†³å®š â€œå¤šå°‘åŸå§‹ç‰¹å¾å¯ä»¥ç›´æ¥é€šè¿‡â€ã€‚</li>
<li>æœ€ç»ˆè¾“å‡º = åŠ å·¥åçš„ç‰¹å¾ Ã— å˜æ¢é—¨ + åŸå§‹ç‰¹å¾ Ã— æºå¸¦é—¨ã€‚</li>
</ul>
</li>
<li>ç¬¬ä¸€å±‚ Highway å…ˆè¿‡æ»¤æ‰å¤§éƒ¨åˆ†æ˜æ˜¾çš„å™ªå£°ï¼›</li>
<li>ç¬¬äºŒå±‚ Highway å†å¯¹å‰©ä¸‹çš„ç‰¹å¾åšç²¾ç»†ç­›é€‰ï¼›</li>
</ul>
</li>
<li>åŒå±‚åŒå‘ LSTM	ä¸¤å±‚åŒå‘ç»“æ„:(æ¯å±‚å«å‰å‘ + åå‘ LSTMï¼Œå±‚é—´æœ‰æ®‹å·®è¿æ¥)ï¼Œé€å±‚æå–ä¸Šä¸‹æ–‡è¯­ä¹‰
<ul>
<li>åœ¨ç¬¬ä¸€ä¸ªåŒå‘ LSTM ä¸­ï¼Œæ˜¯æ­£å‘ï¼Œæ–¹å‘åˆ†åˆ«ç”Ÿæˆå‡ºç»“æœ"æ‹¼æ¥"åˆ°ä¸€èµ·ä½œä¸ºç¬¬ä¸€å±‚åˆå§‹è¾“å‡ºçš„</li>
<li>åœ¨æ‹¼æ¥åéœ€è¦é€šè¿‡çº¿æ€§å˜æ¢è¿›è¡Œé™ç»´ï¼Œå› ä¸ºæ‹¼æ¥åç»´åº¦å‡é«˜äº†ä¸€å€ï¼Œå†é€šè¿‡æ®‹å·®+åŸå§‹è¾“å‡ºä½œä¸ºç¬¬äºŒå±‚çš„è¾“å…¥
<ul>
<li>ä½†æ˜¯ç¬¬äºŒå±‚çš„è¾“å‡ºå°±ä¸éœ€è¦é™ç»´å’Œæ®‹å·®äº†ï¼Œå› ä¸ºå·²ç»ç›´æ¥è¾“å‡ºäº†,åŒå‘ RNN çš„æ—¶å€™ä¹Ÿæ˜¯è¿™æ ·çš„</li>
</ul>
</li>
</ul>
</li>
<li>æ•´ä½“ç›®æ ‡: åŒå‘è¯­è¨€æ¨¡å‹ä»»åŠ¡ï¼Œæœ€å¤§åŒ– â€œå‰å‘é¢„æµ‹ä¸‹ä¸€è¯ã€åå‘é¢„æµ‹å‰ä¸€è¯â€ çš„è”åˆæ¦‚ç‡;è®©æ¨¡å‹å­¦ä¼šæ ¹æ®ä¸Šä¸‹æ–‡ç²¾å‡†çŒœè¯ï¼ŒæŒæ¡é€šç”¨è¯­ä¹‰</li>
<li>BIGï¼šæ˜¯å› ä¸ºåŒå±‚åŒå‘ LSTM æ¯å±‚éšè—å•å…ƒ 4096 ä¸ªï¼ŒæŠ•å½±ç»´åº¦ 512ï¼Œå±‚é—´æœ‰æ®‹å·®è¿æ¥ï¼Œå­—ç¬¦ CNN ç”¨ 2048 ç»´å·ç§¯æ ¸</li>
</ul>
</li>
</ul>
</li>
<li>ä»»åŠ¡é€‚é…é˜¶æ®µ â€”â€” ç»™å…·ä½“ä»»åŠ¡ç”ŸæˆåŠ¨æ€è¯å‘é‡ï¼š
<ul>
<li>
<ol>
<li>æå–å¤šå±‚è¯å‘é‡å¯¹äºä»»åŠ¡ä¸­çš„æ¯ä¸€ä¸ªè¯ï¼Œä»é¢„è®­ç»ƒå¥½çš„æ¨¡å‹é‡Œæå– 3 ç±»å‘é‡(ä½¿ç”¨çš„æ—¶å€™ä¹Ÿä¸€æ ·äº§ç”Ÿçš„æ˜¯ä¸‰å±‚å‘é‡)ï¼š</li>
</ol>
<ul>
<li>e0ï¼šå­—ç¬¦çº§åˆå§‹å‘é‡ï¼ˆæœ€åº•å±‚ï¼ŒåŸºç¡€è¯­ä¹‰ï¼Œä¸Šä¸‹æ–‡æ— å…³ï¼‰ï¼›</li>
<li>e1ï¼šç¬¬ä¸€å±‚åŒå‘ LSTM è¾“å‡ºçš„å‘é‡ï¼ˆæµ…å±‚ä¸Šä¸‹æ–‡è¯­ä¹‰ï¼‰ï¼›</li>
<li>e2ï¼šç¬¬äºŒå±‚åŒå‘ LSTM è¾“å‡ºçš„å‘é‡ï¼ˆæ·±å±‚ä¸Šä¸‹æ–‡è¯­ä¹‰ï¼‰ã€‚</li>
</ul>
</li>
<li>
<ol start="2">
<li>åŠ æƒç»„åˆæˆ ELMO å‘é‡:ELMO ä¼šç»™è¿™å‡ å±‚å‘é‡åˆ†é…ä¸åŒçš„æƒé‡ï¼ˆæƒé‡å€¼æ ¹æ®å…·ä½“ä»»åŠ¡è°ƒæ•´ï¼‰ï¼Œç„¶ååŠ æƒæ±‚å’Œï¼Œå¾—åˆ°æœ€ç»ˆçš„ä»»åŠ¡ä¸“å±åŠ¨æ€è¯å‘é‡ï¼š</li>
</ol>
<ul>
<li>ELMO = Î³ * (s0 * e0 + s1 * e1 + s2 * e2)
<ul>
<li>s0,s1,s2æ˜¯æƒé‡ï¼ˆæ¯”å¦‚ä»»åŠ¡æ˜¯æ–‡æœ¬åˆ†ç±»ï¼Œå¯èƒ½ç»™é«˜å±‚å‘é‡ e2 æ›´é«˜æƒé‡ï¼›ä»»åŠ¡æ˜¯è¯æ€§æ ‡æ³¨ï¼Œç»™åº•å±‚å‘é‡ e1 æ›´é«˜æƒé‡ï¼‰ï¼›</li>
<li>Î³æ˜¯ä¸€ä¸ªç¼©æ”¾ç³»æ•°ï¼Œç”¨æ¥è°ƒæ•´ ELMO å‘é‡çš„å¤§å°ï¼Œé€‚é…ä»»åŠ¡æ¨¡å‹ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>ä¼˜ç‚¹ï¼š1 è§£å†³äº†é™æ€è¯åµŒå…¥ â€œä¸€è¯å¤šä¹‰â€ çš„æ ¸å¿ƒç—›ç‚¹ï¼›2 é¢„è®­ç»ƒæ¨¡å‹å¯ä»¥å¤ç”¨ï¼Œåœ¨å°æ•°æ®ä»»åŠ¡ä¸Šä¹Ÿèƒ½æœ‰å¥½æ•ˆæœï¼ˆæ¯”å¦‚å°ä¼—é¢†åŸŸçš„æ–‡æœ¬åˆ†ç±»ï¼‰ã€‚</li>
<li>ç¼ºç‚¹ï¼š1åŸºäº LSTMï¼Œé€Ÿåº¦æ¯”åæ¥çš„ Transformer æ¨¡å‹ï¼ˆæ¯”å¦‚ BERTï¼‰æ…¢ï¼›2åªæ˜¯ â€œæŠŠå¤šå±‚å‘é‡åŠ æƒç»„åˆâ€ï¼Œæ²¡æœ‰åƒ BERT é‚£æ ·ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶æ›´ç²¾å‡†åœ°æ•æ‰ä¸Šä¸‹æ–‡å…³è”ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p>ELMoé€šè¿‡æ·±åº¦åŒå‘è¯­è¨€æ¨¡å‹ï¼ˆbiLMï¼‰è¿›è¡Œè®­ç»ƒï¼Œä¸»è¦è§£å†³äº†ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>(1) å­¦ä¹ å¤æ‚è¯æ±‡çš„è¯­æ³•å’Œè¯­ä¹‰ï¼›</li>
<li>(2) å­¦ä¹ å¤æ‚è¯æ±‡ä¸åŒè¯­å¢ƒä¸‹çš„ä¸åŒè¯­ä¹‰ï¼›</li>
</ul>
</li>
<li>
<p>ä¸€ä¸ªç®€å•çš„ä¾‹å­å°±æ˜¯ â€œè‹¹æœâ€çš„è¯å‘é‡ï¼š</p>
<ul>
<li>å¥å­1ï¼šâ€œæˆ‘ä¹°äº† 1æ–¤ è‹¹æœâ€</li>
<li>å¥å­2ï¼šâ€œæˆ‘æ–°ä¹°äº† 1ä¸ª è‹¹æœ Xâ€</li>
</ul>
</li>
<li>
<p>PS: ELMoåœ¨ä¸­æ–‡ä¸Šç¡®å®ä¼šæ¯”word2vecå¥½å¾ˆå¤š</p>
</li>
</ul>
<h2 data-id="heading-5">é™æ€å¥å‘é‡ Embedding æ¨¡å‹ï¼š</h2>
<h3 data-id="heading-6">Doc2Vec æ˜¯ Word2Vec çš„ç›´æ¥å‡çº§ç‰ˆ(è®¡ç®—é€Ÿåº¦æ›´æ…¢)ï¼š</h3>
<ul>
<li>æ ¸å¿ƒç›®æ ‡æ˜¯è§£å†³ â€œWord2Vec åªèƒ½ç”Ÿæˆè¯å‘é‡ï¼Œæ²¡æ³•ç›´æ¥ç”Ÿæˆå¥å­ / æ–‡æ¡£å‘é‡â€ çš„ç—›ç‚¹ï¼Œç®€å•è¯´å°±æ˜¯ â€œç»™æ•´å¥è¯ / æ•´ç¯‡æ–‡ç« ç”Ÿæˆä¸€ä¸ªä¸“å±å‘é‡â€
<ul>
<li>
<ol>
<li>æ ¸å¿ƒæ€è·¯ï¼šç»™æ–‡æ¡£åŠ ä¸€ä¸ª â€œä¸“å±èº«ä»½è¯â€</li>
</ol>
<ul>
<li>Word2Vec çš„è®­ç»ƒé€»è¾‘æ˜¯ â€œç”¨é‚»å±…è¯çŒœä¸­å¿ƒè¯â€ï¼ˆSkip-gramï¼‰æˆ– â€œç”¨ä¸­å¿ƒè¯çŒœé‚»å±…è¯â€ï¼ˆCBOWï¼‰ï¼Œåªå…³æ³¨è¯ä¸è¯çš„å…³ç³»ã€‚</li>
<li>Doc2Vec åœ¨ Word2Vec çš„åŸºç¡€ä¸Šï¼Œåªåšäº†ä¸€ä¸ªå…³é”®æ”¹åŠ¨ï¼š
<ul>
<li>ç»™æ¯ä¸€ç¯‡æ–‡æ¡£ / æ¯ä¸€ä¸ªå¥å­ï¼Œåˆ†é…ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„å‘é‡ï¼Œå« æ–‡æ¡£å‘é‡ï¼ˆParagraph Vectorï¼‰ï¼Œè®°ä¸ºDï¼›</li>
<li>è®­ç»ƒæ—¶ï¼ŒæŠŠè¿™ä¸ªæ–‡æ¡£å‘é‡ Då’Œå¥å­é‡Œçš„è¯å‘é‡ï¼ˆæ¯”å¦‚ w1,w2ï¼‰æ‹¼åœ¨ä¸€èµ·ï¼Œå†å»åš â€œçŒœè¯ä»»åŠ¡â€ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>è®­ç»ƒæ–¹å¼ï¼š
<ul>
<li>PV-DMï¼ˆå¯¹åº” CBOWï¼‰
<ul>
<li>é€»è¾‘ï¼šç”¨ æ–‡æ¡£å‘é‡ + ä¸Šä¸‹æ–‡è¯å‘é‡ï¼ŒçŒœä¸­å¿ƒè¯ï¼›</li>
<li>ç‰¹ç‚¹ï¼šè®­ç»ƒå¿«ï¼Œé€‚åˆçŸ­æ–‡æœ¬ï¼ˆæ¯”å¦‚å¥å­ï¼‰ã€‚</li>
</ul>
</li>
<li>PV-DBOWï¼ˆå¯¹åº” Skip-gramï¼‰
<ul>
<li>é€»è¾‘ï¼šåªç”¨ æ–‡æ¡£å‘é‡ï¼Œç›´æ¥çŒœå¥å­é‡Œçš„æ‰€æœ‰è¯ï¼›</li>
<li>ç‰¹ç‚¹ï¼šè®­ç»ƒæ…¢ä¸€ç‚¹ï¼Œä½†ç”Ÿæˆçš„æ–‡æ¡£å‘é‡è´¨é‡æ›´é«˜ï¼Œé€‚åˆé•¿æ–‡æ¡£ï¼ˆæ¯”å¦‚æ–‡ç« ï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>æ–‡æ¡£å‘é‡çš„å¤ç”¨ï¼šè®­ç»ƒæ—¶ï¼ŒåŒä¸€ç¯‡æ–‡æ¡£é‡Œçš„æ‰€æœ‰å¥å­ï¼Œå…±äº«åŒä¸€ä¸ªæ–‡æ¡£å‘é‡</li>
<li>é€‚ç”¨åœºæ™¯ï¼š
<ul>
<li>æ–‡æ¡£èšç±»ï¼šæ¯”å¦‚æŠŠç›¸ä¼¼çš„æ–°é—»åˆ†åˆ°åŒä¸€ç±»ï¼›</li>
<li>æ–‡æœ¬ç›¸ä¼¼åº¦è®¡ç®—ï¼šæ¯”å¦‚åˆ¤æ–­ä¸¤ç¯‡è®ºæ–‡æ˜¯å¦æŠ„è¢­ï¼›</li>
<li>çŸ­æ–‡æœ¬æ£€ç´¢ï¼šæ¯”å¦‚æ ¹æ®ç”¨æˆ·è¾“å…¥çš„å¥å­ï¼ŒåŒ¹é…æœ€ç›¸ä¼¼çš„å›å¤</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7">InferSentï¼š</h3>
<ul>
<li>æ ¸å¿ƒç›®æ ‡æ˜¯ç›´æ¥ç”Ÿæˆé«˜è´¨é‡çš„å¥å­çº§å‘é‡ï¼Œè§£å†³äº†æ—©æœŸ â€œè¯å‘é‡å¹³å‡æˆå¥å‘é‡â€ çš„ç²—ç³™é—®é¢˜ï¼Œæ˜¯ BERT ä¹‹å‰å¥å­åµŒå…¥ä»»åŠ¡çš„ä¸»æµæ–¹æ¡ˆã€‚
<ul>
<li>
<ol>
<li>æ ¸å¿ƒæ€è·¯ï¼šç”¨ â€œé€»è¾‘å…³ç³»â€ å­¦å¥å­è¯­ä¹‰</li>
</ol>
<ul>
<li>åˆ›æ–°ï¼šåŸºäº â€œè‡ªç„¶è¯­è¨€æ¨ç†ï¼ˆNLIï¼‰â€ ä»»åŠ¡è®­ç»ƒï¼Œç®€å•è¯´å°±æ˜¯è®©æ¨¡å‹å­¦ â€œä¸¤å¥è¯ä¹‹é—´çš„é€»è¾‘å…³ç³»â€
<ul>
<li>è¾“å…¥ï¼šä¸€å¯¹å¥å­ï¼ˆå‰æå¥ + å‡è®¾å¥ï¼‰</li>
<li>ä»»åŠ¡ï¼šåˆ¤æ–­ä¸¤è€…çš„å…³ç³»æ˜¯ 3 ç±»ä¸­çš„ä¸€ç§ï¼š</li>
<li>è•´å«ï¼šå‰æèƒ½æ¨å‡ºå‡è®¾ï¼ˆæ¯”å¦‚å‰æ â€œçŒ«æŠ“è€é¼ â€ï¼Œå‡è®¾ â€œè€é¼ è¢«çŒ«æŠ“â€ï¼‰</li>
<li>çŸ›ç›¾ï¼šå‰æå’Œå‡è®¾ç›¸åï¼ˆæ¯”å¦‚å‰æ â€œçŒ«æŠ“è€é¼ â€ï¼Œå‡è®¾ â€œè€é¼ æŠ“çŒ«â€ï¼‰</li>
<li>ä¸­ç«‹ï¼šä¸¤è€…æ²¡å…³ç³»ï¼ˆæ¯”å¦‚å‰æ â€œçŒ«æŠ“è€é¼ â€ï¼Œå‡è®¾ â€œä»Šå¤©ä¸‹é›¨â€ï¼‰</li>
<li>æ¨¡å‹ä¸ºäº†åˆ¤æ–­è¿™ 3 ç§å…³ç³»ï¼Œå¿…é¡»è¯»æ‡‚å¥å­çš„å®Œæ•´è¯­ä¹‰å’Œé€»è¾‘ï¼Œè€Œä¸åªæ˜¯è¯çš„å †ç Œ â€”â€” è¿™æ ·è®­ç»ƒå‡ºæ¥çš„å¥å­å‘é‡ï¼Œè‡ªç„¶å°±åŒ…å«äº†è¯­åºã€é€»è¾‘å’Œå®Œæ•´è¯­ä¹‰ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<ol start="2">
<li>æ¨¡å‹ç»“æ„ï¼šåŒå‘ LSTM + å¥å­ç¼–ç ï¼šæ ¸å¿ƒæ˜¯ â€œåŒå‘ LSTM + æœ€å¤§æ± åŒ–â€ï¼Œ</li>
</ol>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šç”¨åŒå‘ LSTM æå–è¯çš„ä¸Šä¸‹æ–‡ç‰¹å¾
<ul>
<li>å…ˆæŠŠå¥å­é‡Œçš„æ¯ä¸ªè¯è½¬æˆè¯å‘é‡ï¼ˆç”¨ GloVe é¢„è®­ç»ƒå‘é‡ï¼‰ï¼›</li>
<li>å–‚ç»™åŒå‘ LSTMï¼šä»å·¦åˆ°å³ + ä»å³åˆ°å·¦æ‰«å¥å­ï¼Œç»™æ¯ä¸ªè¯ç”ŸæˆåŒ…å«ä¸Šä¸‹æ–‡çš„ç‰¹å¾å‘é‡ï¼›</li>
<li>è¿™ä¸€æ­¥è§£å†³äº† â€œè¯­åºä¸¢å¤±â€ çš„é—®é¢˜ï¼Œæ¯”å¦‚ â€œçŒ«æŠ“è€é¼ â€ å’Œ â€œè€é¼ æŠ“çŒ«â€ ä¼šå¾—åˆ°ä¸åŒçš„è¯ç‰¹å¾ã€‚</li>
</ul>
</li>
<li>ç¬¬äºŒæ­¥ï¼šç”¨æœ€å¤§æ± åŒ–ç”Ÿæˆå›ºå®šé•¿åº¦çš„å¥å­å‘é‡
<ul>
<li>åŒå‘ LSTM è¾“å‡ºçš„æ˜¯ â€œè¯ç‰¹å¾åºåˆ—â€ï¼ˆé•¿åº¦ = å¥å­é•¿åº¦ï¼‰ï¼Œä½†ä¸åŒå¥å­é•¿åº¦ä¸ä¸€æ ·ï¼Œæ²¡æ³•ç›´æ¥æ¯”è¾ƒï¼›</li>
<li>ç”¨ æœ€å¤§æ± åŒ–ï¼šå¯¹æ¯ä¸ªç‰¹å¾ç»´åº¦ï¼Œå–æ‰€æœ‰è¯ç‰¹å¾é‡Œçš„æœ€å¤§å€¼ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå›ºå®šé•¿åº¦çš„å¥å­å‘é‡ï¼›</li>
<li>é€šä¿—ç±»æ¯”ï¼šä»å¥å­çš„æ‰€æœ‰è¯ç‰¹å¾é‡Œï¼ŒæŒ‘å‡º â€œæœ€å…³é”®çš„è¯­ä¹‰ä¿¡æ¯â€ï¼Œæ‹¼æˆå¥å­çš„ â€œèº«ä»½è¯â€ã€‚</li>
</ul>
</li>
<li>ç¬¬ä¸‰æ­¥ï¼šè®­ç»ƒé€»è¾‘å…³ç³»åˆ†ç±»å™¨
<ul>
<li>æŠŠå‰æå¥å’Œå‡è®¾å¥çš„å‘é‡æ‹¼æ¥ï¼Œå†åŠ ä¸Šä¸¤è€…çš„ â€œå·®å€¼â€â€œä¹˜ç§¯â€ ç­‰ç‰¹å¾ï¼›å–‚ç»™å…¨è¿æ¥å±‚ï¼Œè®­ç»ƒæˆä¸€ä¸ª 3 åˆ†ç±»æ¨¡å‹ï¼ˆè•´å« / çŸ›ç›¾ / ä¸­ç«‹ï¼‰ï¼›è®­ç»ƒå®Œæˆåï¼Œå»æ‰åˆ†ç±»å™¨ï¼Œå‰é¢çš„ â€œåŒå‘ LSTM + æ± åŒ–â€ éƒ¨åˆ†å°±æˆäº†ä¸€ä¸ªå¥å­å‘é‡ç”Ÿæˆå™¨ã€‚</li>
<li>æ³¨ï¼šæ­¤å¤„çš„åŒå‘ LSMT å¯ä»¥ç±»ä¼¼elmo ä¸­çš„åŒå‘ï¼Œä¸€æ ·æ˜¯æ‹¼æ¥ç”Ÿæˆè¯å‘é‡ç»“æœï¼Œåªæ˜¯æ­¤å¤„ä¼šè¿›è¡Œæœ€å¤§æ± åŒ–æ‹¼æ¥ç”Ÿæˆå¥å­å‘é‡ï¼Œå†é€šè¿‡æ‹¼æ¥ä¸åŒçš„å¥å­å‘é‡è¿›è¡Œè®­ç»ƒ,è®­ç»ƒå¥½ä»¥åï¼Œå°±å¯ä»¥å½“æˆä¸€ä¸ªå¥å­çš„å‘é‡ç”Ÿæˆå™¨äº†ï¼Œå› ä¸ºæ²¡æœ‰å…¨è¿æ¥å±‚è¿›è¡Œä¸‰åˆ†ç±»å¤„ç†</li>
</ul>
</li>
</ul>
</li>
<li>ä¼˜åŠ¿ï¼ˆå¯¹æ¯”æ—©æœŸæ–¹æ³•ï¼‰
<ul>
<li>æ¯” â€œè¯å‘é‡å¹³å‡â€â€œTF-IDF å‘é‡â€ å¥½å¤ªå¤šï¼šèƒ½æ•æ‰å¥å­çš„é€»è¾‘å’Œè¯­åºï¼›</li>
<li>è®­ç»ƒå¥½çš„æ¨¡å‹å¯ä»¥ç›´æ¥å¤ç”¨ï¼šä¸ç”¨é’ˆå¯¹æ¯ä¸ªä»»åŠ¡é‡æ–°è®­ç»ƒï¼Œè¾“å…¥å¥å­å°±èƒ½è¾“å‡ºå‘é‡ï¼›</li>
<li>å‘é‡è´¨é‡é«˜ï¼šåœ¨å¥å­ç›¸ä¼¼åº¦è®¡ç®—ã€æ–‡æœ¬èšç±»ã€è¯­ä¹‰æ£€ç´¢ç­‰ä»»åŠ¡ä¸Šï¼Œç¢¾å‹æ—©æœŸæ–¹æ¡ˆã€‚</li>
</ul>
</li>
<li>é€‚ç”¨åœºæ™¯
<ul>
<li>å¥å­ç›¸ä¼¼åº¦è®¡ç®—ï¼ˆæ¯”å¦‚åˆ¤æ–­ä¸¤å¥è¯æ„æ€æ˜¯å¦ä¸€æ ·ï¼‰ï¼›</li>
<li>æ–‡æœ¬èšç±»ï¼ˆæ¯”å¦‚æŠŠç›¸ä¼¼çš„è¯„è®ºåˆ†åˆ°ä¸€ç»„ï¼‰ï¼›</li>
<li>è¯­ä¹‰æ£€ç´¢ï¼ˆæ¯”å¦‚è¾“å…¥ä¸€å¥è¯ï¼Œæ‰¾æ•°æ®åº“é‡Œæœ€ç›¸ä¼¼çš„å¥å­ï¼‰</li>
</ul>
</li>
<li>å’Œ Doc2Vec çš„åŒºåˆ«ï¼š
<ul>
<li>InferSentï¼šè®­ç»ƒä»»åŠ¡	åŸºäº â€œå¥å­é€»è¾‘å…³ç³»â€ ï¼ŒåŒ…å«å¥å­çš„é€»è¾‘å’Œè¯­ä¹‰ï¼Œä¾§é‡å¥å­é—´çš„é€»è¾‘åˆ¤æ–­</li>
<li>Doc2Vecï¼šåŸºäº â€œçŒœè¯ä»»åŠ¡â€ è®­ç»ƒï¼ˆå’Œ Word2Vec ä¸€æ ·ï¼‰ï¼ŒåŒ…å«å¥å­çš„è¯æ­é…å’Œä¸»é¢˜ï¼Œä¾§é‡æ–‡æ¡£çš„ä¸»é¢˜èšç±»</li>
</ul>
</li>
</ul>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åœ¨è°ƒåº¦çš„èŠ±å›­é‡Œé¢æŒ–å‘€æŒ–]]></title>    <link>https://juejin.cn/post/7582951344518201350</link>    <guid>https://juejin.cn/post/7582951344518201350</guid>    <pubDate>2025-12-14T12:39:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582951344518201350" data-draft-id="7583226204033728553" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åœ¨è°ƒåº¦çš„èŠ±å›­é‡Œé¢æŒ–å‘€æŒ–"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-14T12:39:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ‰æ€åº¦çš„ä¸‹ç­‰é©¬"/> <meta itemprop="url" content="https://juejin.cn/user/448256476727662"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åœ¨è°ƒåº¦çš„èŠ±å›­é‡Œé¢æŒ–å‘€æŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/448256476727662/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ‰æ€åº¦çš„ä¸‹ç­‰é©¬
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T12:39:58.000Z" title="Sun Dec 14 2025 12:39:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸Šæ–‡ä½¿ç”¨koordinatoræ¼”ç¤ºgang-schedulingå’Œbinpackè°ƒåº¦ï¼Œ å·²ç»ç”Ÿæ•ˆã€‚</p>
<p>4ä¸ª2å¡Podé¾Ÿç¼©åœ¨ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦å¤–ä¸€ä¸ª2å¡Podè¢«æŒ¤åˆ°å¦å¤–ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆæ¯èŠ‚ç‚¹ä¸Šè™šæ‹Ÿgpuï¼š8å¡ï¼‰ã€‚</p>
<p>æ­¤æ—¶æˆ‘ä»¬å†å°è¯•ç”³è¯·8å¡ä½œä¸šï¼Œpodä¼š<code>PendingçŠ¶æ€</code>ã€‚ä½†ä¸€æ—¦èŠ‚ç‚¹æœ‰èµ„æºï¼Œpodå°±ä¼šè‡ªåŠ¨è¿›å…¥<code>RunningçŠ¶æ€</code>ã€‚</p>
<p>è¿™å°±æ˜¯resource.requests/limits è½¯è°ƒåº¦çš„æ•ˆæœã€‚</p>
<h2 data-id="heading-0">1. resource.requests/limits è½¯è°ƒåº¦</h2>
<p>ä¸Šé¢çš„è°ƒåº¦ä¸»è¦ç”±<code>requests</code>é…ç½®æ¥çº¦æŸã€‚</p>
<p><code>requests</code>ï¼š æ˜¯â€œæ‰¿è¯ºèµ„æºâ€ï¼Œ <code>kube-scheduler</code>å°†requests cpuï¼š1 çš„podè°ƒåº¦åˆ°æŸä¸ªnodeï¼Œ å°±ç›¸å½“äºä»è¯¥nodeèµ„æºæ± ä¸Šåˆ’èµ°äº†æœ‰ä¸€éƒ¨åˆ†èµ„æºï¼Œè¿™1æ ¸ä¼šè¢«é¢„å®šï¼Œä¸å†æ‰¿è¯ºç»™å…¶ä»–podï¼Œå³ä½¿ä½ è¿™ä¸ªpodåªç”¨äº†500mæ ¸ã€‚</p>
<p><code>limits</code>:  æ˜¯èµ„æºä½¿ç”¨çš„ä¸Šé™ï¼Œæ˜¯ç”±<code>kubelet</code>æ¥å¼ºåˆ¶æ‰§è¡Œã€‚</p>
<h2 data-id="heading-1">2. k8såŸç”Ÿé…é¢ResourceQuotaï¼š ç¡¬éš”ç¦»</h2>
<p>å½“å¤šä¸ªå›¢é˜Ÿå…±äº«k8sé›†ç¾¤èŠ‚ç‚¹èµ„æºæ—¶ï¼Œ ä¼šæœ‰æŸä¸€ç§Ÿæˆ·éœ¸å å¤§é‡èµ„æºçš„å¯èƒ½æ€§ã€‚</p>
<p>èµ„æºé…é¢å°±æ˜¯ç”¨æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<p>èµ„æºé…é¢<strong>ä½œç”¨åœ¨å‘½åç©ºé—´ä¸Šï¼ˆå‘½åç©ºé—´å¤©ç”Ÿå°±æ˜¯å¤šç§Ÿæˆ·æ¦‚å¿µçš„è½½ä½“ï¼‰ï¼Œ é™åˆ¶äº†è¯¥ç§Ÿæˆ·ï¼ˆå‘½åç©ºé—´ï¼‰èƒ½åˆ›å»ºçš„èµ„æºå¯¹è±¡(+åŸºç¡€è®¾æ–½èµ„æº)çš„ä¸Šé™</strong>ï¼Œ è¿™ä¸ªé™åˆ¶æ˜¯é€šè¿‡api serveråœ¨èµ„æºå¯¹è±¡å±‚é¢åšåˆ°çš„ã€‚</p>
<p>ResourceQuota ç›¸å½“äºæ¡†å®šæŸä¸€ç±»èµ„æºçš„å¯ç”¨ä¸Šé™ï¼Œ æœ‰â€œèµ„æºç±»å‹â€ã€â€é…é¢ä½œç”¨åŸŸâ€œ ç­‰è¿‡æ»¤èµ„æºçš„é€‰é¡¹ï¼Œ å…·ä½“è¯·å‚è§<a href="https://link.juejin.cn?target=https%3A%2F%2Fkubernetes.io%2Fzh-cn%2Fdocs%2Fconcepts%2Fpolicy%2Fresource-quotas%2F%23quota-and-cluster-capacity" target="_blank" title="https://kubernetes.io/zh-cn/docs/concepts/policy/resource-quotas/#quota-and-cluster-capacity" ref="nofollow noopener noreferrer">ResouceQoutaå®˜æ–¹</a>ã€‚</p>
<p>ä¸‹é¢ç»™å‡ºä¸€ä¸ªåŒ…å«[åŸºç¡€è®¾æ–½èµ„æºã€æ‰©å±•èµ„æºã€èµ„æºå¯¹è±¡]çš„ResourceQuotaï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">ResourceQuota</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">mem-cpu-demo</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">hard:</span>
    <span class="hljs-attr">requests.cpu:</span> <span class="hljs-string">"1"</span>
    <span class="hljs-attr">requests.memory:</span> <span class="hljs-string">1Gi</span>   <span class="hljs-comment"># éœ€æ±‚æ€»é‡</span>
    <span class="hljs-attr">limits.cpu:</span> <span class="hljs-string">"2"</span>
    <span class="hljs-attr">limits.memory:</span> <span class="hljs-string">2Gi</span>      <span class="hljs-comment"># é™é¢æ€»é‡</span>
    <span class="hljs-attr">requests.example.com/dongle:</span> <span class="hljs-number">2</span>
    
    <span class="hljs-attr">pods:</span> <span class="hljs-string">"4"</span>
    <span class="hljs-attr">replicationcontrollers:</span> <span class="hljs-string">"20"</span>
    <span class="hljs-attr">secrets:</span> <span class="hljs-string">"10"</span>
    <span class="hljs-attr">services:</span> <span class="hljs-string">"10"</span>
</code></pre>
<blockquote>
<p>å› ä¸ºæ‰©å±•èµ„æºä¸å¯è¶…é‡åˆ†é…ï¼Œæ•…æ²¡æœ‰å¿…è¦ä¸ºæ‰©å±•èµ„æºåŒæ—¶æŒ‡å®šrequestså’Œlimitsé…ç½®ï¼Œåªéœ€æŒ‡å®šrequests.xxxx å³å¯ã€‚</p>
</blockquote>
<p>å› ä¸ºé…é¢çš„å‡†å…¥æ˜¯åœ¨apiserver èµ„æºå¯¹è±¡å±‚é¢ï¼Œ æ‰€ä»¥å½“é…é¢ä¸è¶³ï¼Œä¸ä¼šäº§ç”Ÿpodå¤„äºpendingçš„ç°è±¡ï¼Œkubectlå‘½ä»¤ä¼šç»™å‡ºæŠ¥é”™ï¼š<code>pods "quota-mem-cpu-demo-2" is forbidden: exceeded quota</code>ï¼Œ è¿™ç‚¹ä¸resource.requests/limits è½¯è°ƒåº¦ä¸åŒã€‚</p>
<blockquote>
<p>æç¤ºï¼š<br/>
ResourceQuota ä¸é›†ç¾¤èµ„æºæ€»é‡æ˜¯å®Œå…¨ç‹¬ç«‹çš„ã€‚å®ƒä»¬é€šè¿‡ç»å¯¹çš„å•ä½æ¥é…ç½®ã€‚<br/>
æ‰€ä»¥ï¼Œä¸ºé›†ç¾¤æ·»åŠ èŠ‚ç‚¹æ—¶ï¼Œk8sèµ„æºé…é¢ä¸ä¼šè‡ªåŠ¨èµ‹äºˆæ¯ä¸ªå‘½åç©ºé—´æ¶ˆè€—æ›´å¤šèµ„æºçš„èƒ½åŠ›ã€‚</p>
</blockquote>
<h2 data-id="heading-2">3. kueue</h2>
<p>ä¸Šæ–‡k8såŸç”ŸresourceQuota æ˜¯å‘½åç©ºé—´çº§åˆ«çš„ç¡¬èµ„æºé™åˆ¶ï¼Œâ€œå®ƒåªè´Ÿè´£é™åˆ¶ï¼Œ ä¸è´Ÿè´£è°ƒåº¦â€ã€‚</p>
<p>åœ¨ä¼ä¸šçº§å¤šç§Ÿæˆ·äº‘ç¯å¢ƒä¸­ï¼Œä¸ºäº†â‘ é«˜æ•ˆâ‘¡çµæ´» åˆ©ç”¨é›†ç¾¤èµ„æºï¼Œ éœ€è¦â€œåè°ƒå’Œè°ƒåº¦â€çš„èƒ½åŠ›ã€‚</p>
<p>kueue è¿™ç§ä»»åŠ¡é˜Ÿåˆ—å°±æ˜¯è¿™ä¸ªä½œç”¨ï¼Œå®ƒä¸è°‹æ±‚æ›¿ä»£k8såŸç”Ÿç»„ä»¶ä½œç”¨ï¼Œå·¥ä½œåœ¨k8såŸç”Ÿè°ƒåº¦å™¨ä¹‹ä¸Šã€‚</p>
<p>kueueæ˜¯k8sä¸Šç®¡ç†èµ„æºæ± é…é¢å’Œç®¡æ§jobæ¶ˆè´¹èµ„æºæ± é…é¢çš„ä»»åŠ¡é˜Ÿåˆ—ç³»ç»Ÿï¼Œ
kueueå†³å®šäº†jobä»€ä¹ˆæ—¶å€™åº”è¯¥ç­‰å¾…ï¼Œä»€ä¹ˆæ—¶å€™è¢«å‡†å…¥ï¼Œä»€ä¹ˆæ—¶å€™jobå¯ä»¥è¢«æŠ¢å ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/10958bb4639440628f0d8afaf94c7eb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766320798&amp;x-signature=TgNDu0nvSUu%2B%2BESiDlg1X2uiB%2BM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">3.1 èµ„æºé«˜åº¦æŠ½è±¡</h3>
<p>ä¸Šé¢çš„resource.requests/limits å’Œk8såŸç”ŸresourceQuota éƒ½æ²¡èƒ½è·³è„±worker èŠ‚ç‚¹èµ„æºçš„æ¦‚å¿µã€‚</p>
<p>kueueå°†workerèŠ‚ç‚¹ä¸Šçš„èµ„æºæŠ½è±¡æˆç”±ç‰¹å®šèµ„æºé£å‘³ï¼ˆResourceFlavorï¼‰è¡¨å¾çš„èµ„æºæ± ï¼Œ æ¡†å®šäº†æŸä¸€ç±»å«æœ‰ç‰¹å®šèµ„æºç±»å‹/è§„æ ¼çš„èŠ‚ç‚¹ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">kueue.x-k8s.io/v1beta2</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">ResourceFlavor</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">"vgpu"</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">nodeLabels:</span>
    <span class="hljs-attr">instance-type:</span> <span class="hljs-string">vgpu</span>
</code></pre>
<p>ä¸Šé¢åä¸º<code>vgpu</code>çš„èµ„æºé£å‘³ æ¡†å®šäº†å¸¦æœ‰<code>instance-type=vgpu</code>æ ‡ç­¾çš„èŠ‚ç‚¹</p>
<blockquote>
<p>å¦‚æœæ˜¯åŒæ„èµ„æºï¼Œä½ ä¹Ÿå¯ä»¥å®šä¹‰empty resource flavorã€‚</p>
</blockquote>
<hr/>
<p>ç„¶ååŸºäºæ¡†å®šçš„èµ„æºæ± ç»™æŸä¸ªä»»åŠ¡é˜Ÿåˆ—åˆ†å‘èµ„æºé…é¢ã€‚</p>
<h3 data-id="heading-4">3.1 èµ„æºæ± çš„é…é¢ nominalQuota</h3>
<p>ClusterQueue é»˜è®¤æ˜¯é›†ç¾¤çº§åˆ«çš„å¯¹è±¡ï¼Œå®šä¹‰äº†é›†ç¾¤ä¸­æŸç±»èµ„æºé£å‘³çš„é…é¢ã€‚</p>
<p>ä¸‹é¢ä¸º<code>cluster-queue</code>çš„å…¨å±€é˜Ÿåˆ—ï¼ˆä¾æ‰˜äºâ€œdefault-flavorâ€èµ„æºæ± ï¼‰å®šä¹‰äº†ä½¿ç”¨é…é¢, å…¶ä¸­ä¸ºç¨€ç¼ºèµ„æº<code>example.com/dongle</code>çº¦æŸ10å¡ã€‚</p>
<p>å‘½åç©ºé—´<code>team-a</code>çš„localQueueå¼•ç”¨äº†è¯¥clusterQueueã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">kueue.x-k8s.io/v1beta2</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">ResourceFlavor</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">default-flavor</span> <span class="hljs-comment">##  å¯¹åŒæ„èµ„æºï¼Œå®šä¹‰emptyèµ„æºé£å‘³</span>
<span class="hljs-meta">---</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">kueue.x-k8s.io/v1beta2</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">ClusterQueue</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">"cluster-queue"</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">namespaceSelector:</span> {} <span class="hljs-comment"># match all.</span>
  <span class="hljs-attr">resourceGroups:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-attr">coveredResources:</span> [<span class="hljs-string">"cpu"</span>, <span class="hljs-string">"memory"</span>, <span class="hljs-string">"pods"</span>]
    <span class="hljs-attr">flavors:</span>
    <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">"default-flavor"</span>
      <span class="hljs-attr">resources:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">"cpu"</span>
        <span class="hljs-attr">nominalQuota:</span> <span class="hljs-number">10</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">"memory"</span>
        <span class="hljs-attr">nominalQuota:</span> <span class="hljs-string">10Gi</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">"example.com/dongle"</span>
        <span class="hljs-attr">nominalQuota:</span> <span class="hljs-number">10</span>
<span class="hljs-meta">---</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">kueue.x-k8s.io/v1beta2</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">LocalQueue</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">namespace:</span> <span class="hljs-string">team-a</span> 
  <span class="hljs-attr">name:</span> <span class="hljs-string">team-a-queue</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">clusterQueue:</span> <span class="hljs-string">cluster-queue</span> 
</code></pre>
<p>clusterQueueä¸localQueueçš„å¼•ç”¨å…³ç³»å®ç°äº†å…±äº«å…¨å±€èµ„æºæ± çš„ç†å¿µã€‚</p>
<p>å½¢æˆçš„å¯¹è±¡æ˜ å°„å…³ç³»å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fee3bff25344696aefcbeec67c39b45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766320798&amp;x-signature=xFoaWUAeifUd8HRMvbXq1TDP1KE%3D" alt="" loading="lazy"/>
æµ…ç»¿è‰²æ˜¯kueueäº§ç”Ÿçš„å¯¹è±¡ï¼Œæµ…è“è‰²æ˜¯ç”¨æˆ·å®é™…æäº¤çš„æ‰¹å¤„ç†ä»»åŠ¡ã€‚</p>
<hr/>
<p>ä¸‹é¢ç”¨ä¸€ä¸ªk8såŸç”Ÿjobæ¥æ¼”ç¤º kueueçš„å·¥ä½œè¡¨ç°ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">apiVersion:</span> <span class="hljs-string">batch/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Job</span>
<span class="hljs-attr">metadata:</span>
  <span class="hljs-attr">name:</span> <span class="hljs-string">pi3</span>
  <span class="hljs-attr">labels:</span>
    <span class="hljs-attr">kueue.x-k8s.io/queue-name:</span> <span class="hljs-string">team-a-queue</span>
<span class="hljs-attr">spec:</span>
  <span class="hljs-attr">parallelism:</span> <span class="hljs-number">3</span> <span class="hljs-comment"># å¹¶è¡Œæ‰§è¡Œæ¬¡æ•°ï¼Œé»˜è®¤ä¸º1</span>
  <span class="hljs-attr">completions:</span> <span class="hljs-number">3</span> <span class="hljs-comment"># å®Œæˆæ¬¡æ•°ï¼Œé»˜è®¤ä¸ºparallelismçš„å€¼</span>
  <span class="hljs-attr">suspend:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># åº”è¯¥åœ¨æŒ‚èµ·çŠ¶æ€ä¸‹åˆ›å»ºjobï¼Œç”±kueueæ¥å†³å®šä½•æ—¶å¯åŠ¨job</span>
  <span class="hljs-attr">template:</span>
    <span class="hljs-attr">spec:</span>
      <span class="hljs-attr">containers:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-attr">name:</span> <span class="hljs-string">pi</span>
        <span class="hljs-attr">image:</span> <span class="hljs-string">perl</span>
        <span class="hljs-attr">imagePullPolicy:</span> <span class="hljs-string">IfNotPresent</span>
        <span class="hljs-attr">command:</span> [ <span class="hljs-string">"perl"</span>, <span class="hljs-string">"-Mbignum=bpi"</span>, <span class="hljs-string">"-wle"</span>, <span class="hljs-string">"print bpi(5000)"</span> ]
        <span class="hljs-attr">resources:</span>
          <span class="hljs-attr">requests:</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"1"</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"200Mi"</span>
            <span class="hljs-attr">example.com/dongle:</span> <span class="hljs-string">"2"</span>
          <span class="hljs-attr">limits:</span>
            <span class="hljs-attr">cpu:</span> <span class="hljs-string">"1"</span>
            <span class="hljs-attr">memory:</span> <span class="hljs-string">"200Mi"</span>
            <span class="hljs-attr">example.com/dongle:</span> <span class="hljs-string">"2"</span>
      <span class="hljs-attr">restartPolicy:</span> <span class="hljs-string">Never</span>

<span class="hljs-comment"># Job ä»£è¡¨ä¸€æ¬¡æ€§ä»»åŠ¡ï¼Œè¿è¡Œå®Œæˆåˆ°åœæ­¢ï¼Œå®ƒå°†Ï€è®¡ç®—åˆ°5000ä¸ªä½ç½®å¹¶å°†å…¶æ‰“å°å‡ºæ¥ã€‚å®Œæˆå¤§çº¦éœ€è¦60ç§’ã€‚ ä¹‹åpodçŠ¶æ€æ˜¯ Completed</span>
</code></pre>
<ul>
<li>è¿™é‡Œæœ€é‡è¦çš„æ˜¯é…ç½®æ˜¯jobä¸­çš„"suspend:true"ï¼Œ jobåº”è¯¥ä»¥æŒ‚èµ·çŠ¶æ€è¢«åˆ›å»ºï¼Œç”±kueueæ¥å†³å®šä½•æ—¶å¯åŠ¨ã€‚</li>
<li>åœ¨åŸç”Ÿjobæ ‡ç­¾å…³è”localqueue</li>
</ul>
<p>æäº¤ç¬¬ä¸€ä¸ªä»»åŠ¡ï¼Œ3ä¸ªPodå ç”¨äº†6å¡ï¼›
å†ç«‹åˆ»å¯åŠ¨åŒæ ·é…ç½®çš„ç¬¬äºŒä¸ªä»»åŠ¡ï¼Œå—localqueueä¸­<code>nominalQuota: 10</code>çš„çº¦æŸï¼Œä»»åŠ¡2ä¼špendingï¼Œç­‰å¾…ä»»åŠ¡1æ‰§è¡Œå®Œï¼Œé‡Šæ”¾äº†<code>example.com/dongle</code>èµ„æºï¼Œæœ€åè¿›å…¥runingçŠ¶æ€è·‘å®Œä»»åŠ¡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31bb9e88a2ca4d828f1bc9f410afe2a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766320798&amp;x-signature=VgEISUpO5FU1F786Caz8EnNfxXs%3D" alt="" loading="lazy"/></p>
<p>åˆ†åˆ«æŸ¥çœ‹ä»»åŠ¡1å’Œä»»åŠ¡2çš„å‡†å…¥äº‹ä»¶ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec6cf5cd6af84e259c81f595dec51951~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766320798&amp;x-signature=dc14Su%2BNIQrRT4TPjt8vQqy1P%2F4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dd75e94e464b4f8389b8fd5c0847bb63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766320798&amp;x-signature=%2BANuPoSi9weMR1GPRW3COxwi1qM%3D" alt="" loading="lazy"/></p>
<hr/>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fkueue.sigs.k8s.io%2Fzh-cn%2Fdocs%2Foverview%2F" target="_blank" title="https://kueue.sigs.k8s.io/zh-cn/docs/overview/" ref="nofollow noopener noreferrer">kueue è¿˜æœ‰å¾ˆå¤šç‰¹æ€§</a>,è¯»è€…è‡ªè¡Œå®¡é˜…ï¼Œä¿®è¡Œåœ¨ä¸ªäººã€‚</p>
<p>â‘  æ ¸å¿ƒçš„clusterqueueé»˜è®¤çš„æ’é˜Ÿç­–ç•¥æ˜¯ï¼š BestEffortFIFOï¼š å…ˆæŒ‰ä¼˜å…ˆçº§æ’åºï¼Œå†æŒ‰ç…§åˆ›å»ºæ—¶é—´ï¼›æœªè¢«å‡†å…¥çš„æ—§ä»»åŠ¡ä¸ä¼šå½±å“åç»­èƒ½è¢«å‡†å…¥çš„æ–°æ¥ä»»åŠ¡ã€‚</p>
<p>â‘¡ æ”¯æŒé˜Ÿåˆ—ç»„Cohortï¼Œ å¯å®ç°èµ„æºå¼¹æ€§å€Ÿç”¨</p>
<p>â‘¢ æ³¨æ„é˜Ÿåˆ—ç»„ã€clusterqueueä¸èµ„æºé£å‘³çš„1å¯¹å¤šçš„å…³ç³»ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0088078a200b4823ba7e42bb936cdcf6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766320798&amp;x-signature=KGzLQxdhMrt6YRRhdFLwN6bNwyg%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>åœ¨ä¼ä¸šçº§å¤šç§Ÿæˆ·ã€å¼ºèµ„æºç”Ÿäº§éš”ç¦»ã€è®¡è´¹è¦æ±‚çš„èƒŒæ™¯ä¸‹ï¼Œä¸€èˆ¬æ˜¯ç‹¬ç«‹clusterQueue ä¸ å…±äº«ClusterQueueç»“åˆçš„åšæ³•ã€‚</p>
</blockquote>
<h2 data-id="heading-5">4. æ€»ç»“</h2>
<p>ä»Šå¤©ä¸»è¦åœ¨è°ƒåº¦è¿™ä¸ªèŠ±å›­é‡Œé¢æŒ–å‘€æŒ–ï¼Œ æ›´å‡†ç¡®çš„æ˜¯èšç„¦åœ¨â€œå‡†å…¥â€è¿™ä¸ªåŠ¨ä½œä¸Šå±•å¼€æ€è·¯ã€‚</p>
<p>k8såŸç”Ÿèµ„æºé…é¢çš„ç›®çš„ï¼šä¸æ˜¯ä¸ºäº†ä¼˜åŒ–è°ƒåº¦ï¼Œè€Œæ˜¯åœ¨å¤šç§Ÿæˆ·èƒŒæ™¯ä¸‹ï¼Œçº¦æŸèµ„æºçš„ç¡¬ä½¿ç”¨è¾¹ç•Œã€‚
ResourceQuota æ¡†å®šäº†å‘½åç©ºé—´ä¸­æŸäº›èµ„æºçš„äº§ç”Ÿä¸Šé™ï¼›</p>
<p>kueueèµ„æºæ± çš„é…é¢çº¦æŸäº†æŸäº›ç»†ç²’åº¦è¦æ±‚çš„èµ„æºæ± çš„ä½¿ç”¨è¾¹ç•Œï¼Œé€šè¿‡resourceFalvoræŠ½è±¡å‡ºèµ„æºæ± çš„æ¦‚å¿µï¼Œ kueueé€šè¿‡â€æ’é˜Ÿâ€œè¿™ä¸ªæ¦‚å¿µç»†åŒ–äº†å‡†å…¥è¿™ä¸ªåŠ¨ä½œï¼Œåœ¨kube-schedulerå·¥ä½œå‰ç®¡æ§äº†æ‰¹å¤„ç†ä»»åŠ¡çš„è°ƒåº¦ã€‚</p>
<ul>
<li><a href="https://juejin.cn/post/7327353547313053723#heading-9" target="_blank" title="https://juejin.cn/post/7327353547313053723#heading-9">juejin.cn/post/732735â€¦</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.infracloud.io%2Fblogs%2Fbatch-scheduling-on-kubernetes%2F" target="_blank" title="https://www.infracloud.io/blogs/batch-scheduling-on-kubernetes/" ref="nofollow noopener noreferrer">www.infracloud.io/blogs/batchâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‰æ¢… Auth 1.12.0 å‘å¸ƒä¸å¢¨æ¢…åšå®¢ç«‹é¡¹ç»éªŒ | 2025 å¹´ç¬¬ 50 å‘¨è‰æ¢…å‘¨æŠ¥]]></title>    <link>https://juejin.cn/post/7583576612390649866</link>    <guid>https://juejin.cn/post/7583576612390649866</guid>    <pubDate>2025-12-14T12:51:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583576612390649866" data-draft-id="7583576605780344878" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‰æ¢… Auth 1.12.0 å‘å¸ƒä¸å¢¨æ¢…åšå®¢ç«‹é¡¹ç»éªŒ | 2025 å¹´ç¬¬ 50 å‘¨è‰æ¢…å‘¨æŠ¥"/> <meta itemprop="keywords" content="GitHub,å¼€æº,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-14T12:51:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‰æ¢…å‹ä»"/> <meta itemprop="url" content="https://juejin.cn/user/3043088413495815"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‰æ¢… Auth 1.12.0 å‘å¸ƒä¸å¢¨æ¢…åšå®¢ç«‹é¡¹ç»éªŒ | 2025 å¹´ç¬¬ 50 å‘¨è‰æ¢…å‘¨æŠ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3043088413495815/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‰æ¢…å‹ä»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T12:51:18.000Z" title="Sun Dec 14 2025 12:51:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmyr.ltd" target="_blank" title="https://blog.cmyr.ltd" ref="nofollow noopener noreferrer">è‰æ¢…å‹ä»çš„åšå®¢</a> å‘å¸ƒå’Œæ›´æ–°ï¼Œå¹¶åœ¨å¤šä¸ªå¹³å°åŒæ­¥å‘å¸ƒã€‚å¦‚æœ‰æ›´æ–°ï¼Œä»¥åšå®¢ä¸Šçš„ç‰ˆæœ¬ä¸ºå‡†ã€‚æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡æ–‡æœ«çš„ <code>åŸæ–‡é“¾æ¥</code> æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬ã€‚</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>æ¬¢è¿æ¥åˆ°è‰æ¢…å‘¨æŠ¥ï¼è¿™æ˜¯ä¸€ä¸ªç”±è‰æ¢…å‹ä»åŸºäº AI æ•´ç†çš„å‘¨æŠ¥ï¼Œæ—¨åœ¨ä¸ºæ‚¨æä¾›æœ€æ–°çš„åšå®¢æ›´æ–°ã€GitHub åŠ¨æ€ã€ä¸ªäººåŠ¨æ€å’Œå…¶ä»–å‘¨åˆŠæ–‡ç« æ¨èç­‰å†…å®¹ã€‚</p>
<hr/>
<p>æœ¬å‘¨ä¾æ—§åœ¨å¼€å‘ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fcaomei-auth" target="_blank" title="https://github.com/CaoMeiYouRen/caomei-auth" ref="nofollow noopener noreferrer">è‰æ¢… Auth</a> ä¸­ã€‚</p>
<blockquote>
<p>ä½ ä¹Ÿå¯ä»¥ç›´æ¥è®¿é—®å®˜ç½‘åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fauth.cmyr.dev%2F" target="_blank" title="https://auth.cmyr.dev/" ref="nofollow noopener noreferrer">auth.cmyr.dev/</a>
Demo ç«™ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fauth-demo.cmyr.dev%2F" target="_blank" title="https://auth-demo.cmyr.dev/" ref="nofollow noopener noreferrer">auth-demo.cmyr.dev/</a>
æ–‡æ¡£åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fauth-docs.cmyr.dev%2F" target="_blank" title="https://auth-docs.cmyr.dev/" ref="nofollow noopener noreferrer">auth-docs.cmyr.dev/</a></p>
</blockquote>
<p>æœ¬å‘¨ è‰æ¢… Auth å‘å¸ƒäº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fcaomei-auth%2Freleases%2Ftag%2Fv1.12.0" target="_blank" title="https://github.com/CaoMeiYouRen/caomei-auth/releases/tag/v1.12.0" ref="nofollow noopener noreferrer">1.12.0</a> ç‰ˆæœ¬ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da81fa0f32b148afb91bd365d5ea7682~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321478&amp;x-signature=65CNEfw02Sy9oUjxDhyhLNw2Uf0%3D" alt="image-20251214193150948" loading="lazy"/></p>
<p>æœ¬å‘¨è¿˜æ˜¯ç»§ç»­è¿›è¡Œé‡æ„å·¥ä½œï¼Œå¯¹é¡¹ç›®ä»£ç çš„ç»“æ„è¿›è¡Œäº†é‡å¤§è°ƒæ•´ï¼Œåœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fcaomei-auth%2Fcompare%2Fv1.11.1...v1.12.0" target="_blank" title="https://github.com/CaoMeiYouRen/caomei-auth/compare/v1.11.1...v1.12.0" ref="nofollow noopener noreferrer">diff</a> ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°è¯¥ç‰ˆæœ¬è¿›è¡Œäº†å¤šå°‘æ”¹åŠ¨ï¼ˆæ¶‰åŠè¿‘ 200 ä¸ªæ–‡ä»¶ï¼‰ã€‚</p>
<p>ä¸è¿‡ï¼Œå¿…é¡»è¦æŒ‡å‡ºçš„æ˜¯ï¼Œç°åœ¨çš„é‡æ„å·¥ä½œä¹‹æ‰€ä»¥è¿™ä¹ˆéº»çƒ¦ï¼Œå¾ˆå¤§ç¨‹åº¦ä¸Šè¿˜æ˜¯å‰æœŸå¼€å‘ä¸­é—ç•™äº†å¤ªå¤šçš„å‘ï¼Œä»¥è‡³äºç°åœ¨è¦å¡«ä¸Šå°±å¾—è´¹ä¹ç‰›äºŒè™ä¹‹åŠ›æ‰è¡Œã€‚</p>
<p>å¦‚æœä»ä¸€å¼€å§‹å°±é‡è§†ä»£ç è´¨é‡ï¼Œæ³¨æ„æµ‹è¯•è¦†ç›–ç‡ï¼Œé‚£ä¹ˆç°åœ¨é‡æ„èµ·æ¥ä¹Ÿä¸ä¼šè¿™ä¹ˆç—›è‹¦ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘åœ¨å¼€å‘è‰æ¢… Auth ä¸­å¾—åˆ°çš„ä¸€ä¸ªå¾ˆé‡è¦çš„æ•™è®­å°±æ˜¯ï¼Œæœ‰äº›äº‹å¿…é¡»ä»ä¸€å¼€å§‹å°±å¼€å§‹åšï¼Œå¦åˆ™åé¢å†è¡¥ä¸Šä¼šéå¸¸éº»çƒ¦ã€‚</p>
<p>å¦‚æœæƒ³äº†è§£å¦‚ä½•éƒ¨ç½²å’Œä½¿ç”¨é¡¹ç›®ï¼Œå¯ä»¥å‚è€ƒæ–‡æ¡£çš„å†…å®¹ï¼Œä¹Ÿæ¬¢è¿è¡¥å……æ–‡æ¡£ç¼ºå¤±çš„å†…å®¹ã€‚</p>
<p>å¦‚æœä½ å¯¹è‰æ¢… Auth æ„Ÿå…´è¶£ï¼Œæ¬¢è¿å‚ä¸å¼€å‘å’Œæµ‹è¯•ã€‚</p>
<hr/>
<p>æœ¬å‘¨å¼€å¯äº†ä¸€ä¸ªå…¨æ–°çš„é¡¹ç›®â€”â€”<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fmomei" target="_blank" title="https://github.com/CaoMeiYouRen/momei" ref="nofollow noopener noreferrer">å¢¨æ¢… (Momei)</a>ï¼Œä¹Ÿå«å¢¨æ¢…åšå®¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f2669024e5542d597abccb9e5e45d62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321478&amp;x-signature=jL44GnLPcIo0w4Mxf0lng5z6y44%3D" alt="image-20251214193407257" loading="lazy"/></p>
<blockquote>
<p>å½“å‰ UI ä»…ä¸ºç¤ºæ„å›¾ï¼Œè¿˜æœªå®šç¨¿</p>
</blockquote>
<p>å¼€å¯è¿™ä¸ªæ–°é¡¹ç›®çš„åŸå› ä¹Ÿå¾ˆç®€å•ï¼Œé‚£å°±æ˜¯æˆ‘æƒ³æœ‰ä¸ªæ–°çš„åšå®¢äº†ã€‚</p>
<p>æˆ‘å½“å‰åšå®¢ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmyr.ltd%2F" target="_blank" title="https://blog.cmyr.ltd/" ref="nofollow noopener noreferrer">è‰æ¢…å‹ä»çš„åšå®¢</a>ï¼‰æ˜¯åŸºäº <a href="https://link.juejin.cn?target=https%3A%2F%2Fhexo.io%2Fzh-cn%2F" target="_blank" title="https://hexo.io/zh-cn/" ref="nofollow noopener noreferrer">Hexo</a> çš„é™æ€åšå®¢ï¼Œä½¿ç”¨çš„æ˜¯ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftheme-next%2Fhexo-theme-next" target="_blank" title="https://github.com/theme-next/hexo-theme-next" ref="nofollow noopener noreferrer">Next</a> ä¸»é¢˜ã€‚</p>
<p>ä½œä¸ºé™æ€åšå®¢ï¼ŒHexo è‡ªç„¶æœ‰å®ƒçš„å¥½å¤„ï¼Œé‚£å°±æ˜¯åç«¯æ— å…³ï¼Œéƒ¨ç½²èµ·æ¥æˆæœ¬ä½ï¼ŒåŸºæœ¬ä¸Šå°±åªæœ‰æµé‡è´¹ç”¨ï¼Œè€Œé™æ€ç½‘ç«™çš„æ‰˜ç®¡ä¹Ÿå¾ˆå®¹æ˜“ã€‚</p>
<p>ä¸è¿‡ï¼ŒNext ä¸»é¢˜å¹´ä¹…å¤±ä¿®ï¼ˆå·²ç»æœ‰ 4 å¹´æ²¡å…³ç³»äº†ï¼‰ï¼ŒåŠ ä¸Š Hexo ä½œä¸ºé™æ€åšå®¢ï¼Œä¹Ÿå­˜åœ¨å¤©ç„¶çš„å±€é™æ€§ï¼Œä½¿ä¹‹ä¸å¤ªèƒ½åƒåŠ¨æ€åšå®¢é‚£æ ·æä¾›ç”¨æˆ·è®¢é˜…ã€è®¿é—®ç»Ÿè®¡ç­‰åŠŸèƒ½ã€‚</p>
<blockquote>
<p>è™½ç„¶è¯´èƒ½é€šè¿‡æ’ä»¶å®ç°ï¼Œä¸è¿‡ Hexo å®˜æ–¹æ˜¯æœªæä¾›ç›¸å…³åŠŸèƒ½çš„</p>
</blockquote>
<p>æ­¤å¤–è¿˜æœ‰å›½é™…åŒ–éš¾åº¦å¤§çš„é—®é¢˜ã€‚</p>
<p>ç§ç§åŸå› ï¼Œä½¿å¾—æˆ‘æƒ³æ›´æ¢ä¸€ä¸ªåšå®¢å¹³å°ã€‚</p>
<p>åœ¨å»å¹´çš„æ—¶å€™ï¼Œæ›¾ç»ç ”ç©¶è¿‡ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcn.wordpress.org%2F" target="_blank" title="https://cn.wordpress.org/" ref="nofollow noopener noreferrer">WordPress</a> ï¼Œè™½ç„¶è¯´ WordPress ç¡®å®åŠŸèƒ½å¼ºå¤§ï¼Œä½†æ˜¯ WordPress å¯¹æœåŠ¡å™¨èµ„æºå ç”¨éå¸¸é«˜ï¼ŒåŒæ—¶é¡µé¢è®¿é—®ä¹Ÿæ…¢ï¼Œç§ç§åŸå› ä¹‹ä¸‹ï¼Œè¿˜æ˜¯é€‰æ‹©äº†æ”¾å¼ƒä½¿ç”¨ WordPressã€‚</p>
<blockquote>
<p>WordPress æ˜¯ä¸€ä¸ªåŸºäº PHP çš„åŠ¨æ€åšå®¢å¹³å°ï¼ŒåŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œä¹Ÿå¾ˆç«ã€‚</p>
</blockquote>
<p>å› æ­¤ï¼Œæ—¢ç„¶æ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„åšå®¢å¹³å°ï¼Œé‚£ä¸å¦‚è‡ªå·±å†™ä¸€ä¸ªå§ï¼</p>
<blockquote>
<p>è‡³å°‘å†™äº†ä¹‹åè‡ªå·±ä¹Ÿèƒ½ç”¨ä¸‹ã€‚</p>
</blockquote>
<p>å½“äº§ç”Ÿäº†è‡ªå·±å†™ä¸€ä¸ªåšå®¢çš„æƒ³æ³•ä¹‹åï¼Œæ¥ä¸‹æ¥å°±æ˜¯å®ç°äº†ã€‚</p>
<p>åœ¨ AI å·¥å…·ç«çƒ­çš„ä»Šå¤©ï¼Œæœ‰ä»€ä¹ˆæƒ³æ³•çš„è¯ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯é—®é—® AIã€‚</p>
<p>æˆ‘è¿™é‡Œä¹Ÿæ˜¯ç›´æ¥é—®äº†ä¸‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.doubao.com%2F" target="_blank" title="https://www.doubao.com/" ref="nofollow noopener noreferrer">è±†åŒ…</a>ï¼Œâ€œä¸€ä¸ªåˆæ ¼çš„åšå®¢é¡¹ç›®éœ€è¦æœ‰å“ªäº›åŠŸèƒ½ï¼Œè¿˜å¯ä»¥æœ‰å“ªäº›åˆ›æ–°ç‚¹ï¼Ÿâ€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f29fc6b2a28349bd880187b1313109fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321478&amp;x-signature=ESpuj0OqZLug491VNOtKph0kVL4%3D" alt="image-20251214194902503" loading="lazy"/></p>
<blockquote>
<p>ä½ ä¹Ÿå¯ä»¥ç”¨ä»»ä½•ä½ å–œæ¬¢çš„å¸¦æœç´¢å¼•æ“åŠŸèƒ½çš„ AIï¼Œæ³¨æ„ï¼Œä¸€å®šè¦å¸¦æœç´¢å¼•æ“ï¼Œä»¥ç¡®ä¿ä¿¡æ¯æ˜¯æœ€æ–°çš„ï¼Œå¦åˆ™ AI å¯èƒ½ä¼šè¿”å›è¿‡æ—¶çš„ä¿¡æ¯</p>
</blockquote>
<p>è±†åŒ…çš„å›å¤å…¶å®è¿˜æŒºè¯¦ç»†çš„ï¼Œä¸è¿‡æˆ‘è‡ªå·±è¿˜æœ‰åˆ«çš„æƒ³æ³•ï¼Œå°±è®©å®ƒå†åŠ ç‚¹åŠŸèƒ½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7141fdf904b0411398496a689265e320~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321478&amp;x-signature=1TJAWoefLj7JhZBGPRVex89eAZg%3D" alt="image-20251214195009367" loading="lazy"/></p>
<p>åå¤å‡ è½®ä¹‹åï¼Œå†è®©å®ƒæ€»ç»“èŠå¤©è®°å½•ï¼Œä½œä¸ºæœ€åˆçš„è®¾è®¡éœ€æ±‚ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bc67f12a13446f984967b0e34d874c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321478&amp;x-signature=tm81bUiO0FGDC9%2FGIIker08oHJo%3D" alt="image-20251214195027051" loading="lazy"/></p>
<p>ä¹‹åå°±æ˜¯è®¾è®¡åŸå‹å›¾äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b54a4948f14f48b4b3cb0bb323e5c12e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321478&amp;x-signature=xB6TtgFfq%2BzpCSgG6U8tcs1rHfU%3D" alt="image-20251214195103392" loading="lazy"/></p>
<p>ä½†è€å®è¯´è±†åŒ…ç”Ÿæˆçš„å›¾ç‰‡åŸå‹å¹¶ä¸å¥½çœ‹ï¼Œæˆ‘æœ€ç»ˆä¹Ÿæ²¡æœ‰é‡‡ç”¨ï¼Œæ˜¯ç›´æ¥å«å®ƒç”Ÿæˆé™æ€ HTML çš„ç‰ˆæœ¬ï¼Œè¿˜æ›´å¥½ä¸€äº›ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/266662d6755f4b4080b4ea255aa5242a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321478&amp;x-signature=s%2BVWPec%2BO7qmjj8u9V42cI8wJ5g%3D" alt="image-20251214195229931" loading="lazy"/></p>
<blockquote>
<p>ä¸è¿‡å› ä¸ºæˆ‘å¹¶ä¸å–œæ¬¢ä½¿ç”¨ Tailwind CSSï¼Œè¿˜æ˜¯å«å®ƒå»æ‰äº†</p>
</blockquote>
<p>æ­¤å¤–ä¹Ÿé¡ºä¾¿ç”Ÿæˆäº†ä¸€ä¸‹é¡¹ç›®åç§°å’Œ Logoã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7420633f6d849e8854d015250a206ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321478&amp;x-signature=WEVS1wLXHefHEckGdTmLq%2FDQbc0%3D" alt="image-20251214195305400" loading="lazy"/></p>
<p>ç»™é¡¹ç›®å–åç§°çš„è¿‡ç¨‹å…¶å®è¿˜æŒºå€¼å¾—è¯´é“çš„ï¼Œè¿™é‡Œæ¶‰åŠåˆ°å‡ ä¸ªå°æŠ€å·§ã€‚</p>
<p>å–é¡¹ç›®åç§°æœ‰ä¸¤ç§æ–¹æ¡ˆï¼Œä¸€ç§æ˜¯ç›´æ¥è¹­å·²æœ‰çš„çƒ­é—¨åç§°ï¼Œå€ŸåŠ©åŸä¸»çš„çƒ­åº¦æ¥ç»™è‡ªå·±çš„é¡¹ç›®å¢åŠ çƒ­åº¦ï¼Œä¸è¿‡é£é™©å°±æ˜¯å¾ˆå®¹æ˜“è¢«åˆ«äººç›–è¿‡å»ï¼Œä»è€Œå¾—ä¸å¿å¤±ã€‚</p>
<p>å¦ä¸€ä¸ªå°±æ˜¯æ‰¾ä¸ªç›¸å¯¹å†·é—¨çš„åå­—ï¼Œä»¥ç¡®ä¿è‡ªå·±å¯ä»¥ç‹¬å åç§°ï¼Œä¸è¿‡è¿™æ ·ä¸€æ¥æ¨å¹¿çš„éš¾åº¦ä¹Ÿä¼šä¸Šå‡ï¼Œæ¯•ç«Ÿå†·é—¨åç§°ä¹‹æ‰€ä»¥å†·é—¨ä¹Ÿæ˜¯æœ‰åŸå› çš„ã€‚</p>
<p>åœ¨å…·ä½“çš„æ–¹æ³•ä¸Šï¼Œå¯ä»¥ç»“åˆæœç´¢å¼•æ“å…³é”®è¯å’ŒåŸŸåå¯ç”¨æ€§æ¥å†³å®šã€‚</p>
<p>åœ¨æœç´¢å¼•æ“å…³é”®è¯ä¸Šï¼Œä½ å¯ä»¥å€ŸåŠ© <a href="https://link.juejin.cn?target=https%3A%2F%2Fahrefs.com%2Fzh%2Fkeyword-difficulty%2F%3Fcountry%3Dus%26input%3D" target="_blank" title="https://ahrefs.com/zh/keyword-difficulty/?country=us&amp;input=" ref="nofollow noopener noreferrer">Ahrefs</a> æ¥æŸ¥çœ‹å…³é”®è¯è¿›å…¥å‰ 10 åæœç´¢ç»“æœçš„éš¾åº¦ã€‚</p>
<p>å»ºè®®ä¼˜å…ˆé€‰æ‹©ç«äº‰å‹åŠ›å°çš„å…³é”®è¯ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18eb3bc0a6884422b3074100852c6dba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321478&amp;x-signature=wjo97xs1gs2MfMYGwsAYDh%2FCHIM%3D" alt="image-20251214195811216" loading="lazy"/></p>
<blockquote>
<p>ä¸è¿‡ ahrefs ä¸Šæ²¡æœ‰ä¸­å›½å¤§é™†åœ°åŒºçš„æ•°æ®ï¼Œå¦‚æœè¦çœ‹ä¸­æ–‡åŒºçš„æ•°æ®ï¼Œå¯ä»¥å‚è€ƒé¦™æ¸¯å’Œå°æ¹¾åœ°åŒºçš„æ•°æ®ã€‚</p>
</blockquote>
<p>åŸŸåå¯ç”¨æ€§åˆ™æ›´ç®€å•ä¸€ç‚¹ï¼Œæ‰¾ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fzh-hans.tld-list.com%2F" target="_blank" title="https://zh-hans.tld-list.com/" ref="nofollow noopener noreferrer">åŸŸåæ³¨å†Œå¹³å°</a>çœ‹ä¸€ä¸‹å°±è¡Œã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œä¸€å¼€å§‹æˆ‘æƒ³ç”¨â€œå¢¨æ¸¡â€è¿™ä¸ªåç§°ï¼Œåœ¨ä¸­æ–‡æœç´¢è¯ä¸­ç«äº‰å‹åŠ›ä¸å¤§ï¼Œç»“æœ modu è¿™ä¸ªåŸŸåå·²ç»è¢«äººæ³¨å†Œå®Œäº†ï¼Œæˆ‘ä¹Ÿåªèƒ½é€‰æ‹©æ¢ä¸ªåç§°ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe84990b9fc44dd6b409a7dc06b1b91e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5qKF5Y-L5LuB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321478&amp;x-signature=zWR%2FqP63M%2BTmWmgcsTjiycvuf1Q%3D" alt="image-20251214200618057" loading="lazy"/></p>
<blockquote>
<p><code>.com</code> æ ¹åŸŸåçš„ç«äº‰éš¾åº¦è¿˜ä¼šæ›´å¤§ï¼Œæ­¤æ—¶å¯ä»¥çœ‹ä¸€ä¸‹åˆ«çš„ï¼Œæ¯”å¦‚ <code>.app</code>ã€<code>.dev</code> ç­‰ï¼Œå¯¹ç‹¬ç«‹å¼€å‘è€…æ¥è¯´ä¹Ÿéå¸¸å¥½ç”¨</p>
</blockquote>
<p>æ­¤æ—¶è¿˜è¦æ ¼å¤–æ³¨æ„çš„æ˜¯ï¼Œä¸€å®šè¦çœ‹ä¸‹é¡¹ç›®åç§°æ˜¯å¦å­˜åœ¨åŒåçš„ç«å“ã€‚</p>
<p>å¦‚æœåªæ˜¯åŒåçš„è¯é—®é¢˜ä¸å¤§ï¼Œä½†å¦‚æœåˆšå¥½æ˜¯åŒç±»ç«å“ï¼Œé‚£è¿˜æ˜¯å»ºè®®æ”¾å¼ƒã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Frss-zero" target="_blank" title="https://github.com/CaoMeiYouRen/rss-zero" ref="nofollow noopener noreferrer">rss-zero</a> è¿™ä¸ªé¡¹ç›®ä¹‹æ‰€ä»¥å½’æ¡£äº†ï¼Œè¿˜æ˜¯å› ä¸ºåˆšå¥½å­˜åœ¨åŒç±»ç«å“ï¼Œåç§°å®Œå…¨ä¸€æ ·ï¼Œå¯¹æ–¹è¿˜æŒæœ‰ <code>.com</code> åŸŸåï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘åŸºæœ¬ä¸Šåªæœ‰æ¢ä¸ªåå­—æˆ–è€…ç›´æ¥æ”¾å¼ƒçš„é€‰æ‹©äº†ã€‚</p>
<blockquote>
<p>è¿™ä¸ªå¤±è¯¯åœ¨äºå¿˜äº†æœ rss0 è¿™ä¸ªå…³é”®è¯ï¼Œåªæœäº† rss-zero ã€‚æ‰€ä»¥å¦‚æœä½ çš„é¡¹ç›®åç§°å­˜åœ¨å¤šä¸ªå˜ä½“ï¼Œå»ºè®®éƒ½æœä¸€ä¸‹ã€‚</p>
</blockquote>
<p>åœ¨æ•²å®šäº†åç§°ä¹‹åï¼Œä¹Ÿå°±å¯ä»¥è®¾è®¡å¯¹åº”çš„ logoï¼Œåˆ°è¿™é‡Œï¼Œä¸€ä¸ªé¡¹ç›®çš„åŸå‹ä¹Ÿå·®ä¸å¤šå¯ä»¥å‡ºæ¥äº†ï¼Œåç»­å°±æ˜¯ä¸€äº›è½¯ä»¶å¼€å‘ä¸Šçš„é—®é¢˜äº†ï¼Œè€Œè¿™äº›ï¼Œå°±æ˜¯ AI çš„å¼ºé¡¹äº†ã€‚</p>
<p>åº”è¯¥è¯´ï¼Œåœ¨ AI å·¥å…·è¶Šæ¥è¶Šå¼ºå¤§çš„ä»Šå¤©ï¼Œæƒ³è¦å¼€å‘ä¸€ä¸ªæ–°çš„è½¯ä»¶å˜å¾—è¶Šæ¥è¶Šå®¹æ˜“ï¼Œç¬”è€…ä¹Ÿé‡‡ç”¨äº†å…ˆå’Œ AI æ²Ÿé€šå¥½è®¾è®¡æ–¹æ¡ˆï¼Œå…ˆå†™å®Œæ–‡æ¡£ï¼Œå†è¿›è¡Œ AI ç¼–ç¨‹çš„æ–¹æ³•ï¼Œæ¥å†™ä»£ç ã€‚</p>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ­£ç¡®çš„ AI å¼€å‘æ–¹æ³•è®ºå˜çš„éå¸¸é‡è¦ã€‚</p>
<p>å†æ¬¡è¿˜æ˜¯ç»§ç»­æ¨èçœ‹ä¸€ä¸‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Feasychen%2Fai-self-coding-book" target="_blank" title="https://github.com/easychen/ai-self-coding-book" ref="nofollow noopener noreferrer">ã€Šæ–¹ç³– AI è‡ªç¼–ç¨‹å…¥é—¨ã€‹</a>ï¼Œæƒ³å¿…ä¼šå¯¹ä½ æœ‰æ‰€æ”¶è·ã€‚</p>
<blockquote>
<p>æ€»ä¹‹ï¼Œæœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯æ·»åŠ æµ‹è¯•ç”¨ä¾‹ï¼Œå¦‚æœä¸çŸ¥é“æ€ä¹ˆå†™ï¼Œå°±è®© AI å¸®å¿™å®Œå–„ã€‚</p>
<p>å½“æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ° 60% ä»¥ä¸Šçš„æ—¶å€™ï¼Œä»£ç è´¨é‡ä¸€èˆ¬ä¸ä¼šå¤ªä½ï¼Œè€Œä¸”å¦‚æœåç»­è¿­ä»£ä¸­æ”¹å‡ºé—®é¢˜äº†ï¼Œä¹Ÿå®¹æ˜“å‘ç°ã€‚</p>
</blockquote>
<p>ä»¥ä¸Šå°±æ˜¯ç¬”è€…åœ¨è¿™æ¬¡ <code>å¢¨æ¢…åšå®¢</code> çš„ç«‹é¡¹è¿‡ç¨‹ä¸­çš„ä¸€äº›ç»éªŒå’Œæ•™è®­ï¼Œå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p>
<h2 data-id="heading-1">æœ€æ–° GitHub ä»“åº“</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fmomei" target="_blank" title="https://github.com/CaoMeiYouRen/momei" ref="nofollow noopener noreferrer">momei</a> - 2025-12-11 01:43:55
å¢¨æ¢… - è½»é‡è·¨è¯­è¨€åšå®¢åˆ›ä½œå¹³å°ã€‚æ”¯æŒæ—§åšå®¢æ— ç¼è¿ç§»ã€å¤šè¯­è¨€å†…å®¹ç®¡ç†ã€ç®€æ´ Markdown åˆ›ä½œï¼ŒåŸºäº Nuxt3/Vue/TS æ„å»ºï¼Œä¸ºåˆ›ä½œè€…æä¾›æ— å†—ä½™çš„é«˜æ•ˆå†…å®¹å·¥å…·ã€‚</li>
</ul>
<h2 data-id="heading-2">GitHub Release</h2>
<h3 data-id="heading-3">caomei-auth</h3>
<h4 data-id="heading-4"><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fcaomei-auth%2Freleases%2Ftag%2Fv1.12.0" target="_blank" title="https://github.com/CaoMeiYouRen/caomei-auth/releases/tag/v1.12.0" ref="nofollow noopener noreferrer">v1.12.0</a> - 2025-12-13 20:13:52</h4>
<p>æ‘˜è¦:
ç‰ˆæœ¬ 1.12.0 æ‘˜è¦ (2025-12-13)</p>
<p>æ–°åŠŸèƒ½ï¼š</p>
<ul>
<li>æ–°å¢å…¬å…±è·¯å¾„ã€äºŒç»´ç ç”Ÿæˆå’Œæ™ºèƒ½è¾“å…¥å¤„ç†å®ç”¨åŠŸèƒ½</li>
<li>å°è£…åŸºç¡€å¯¹è¯æ¡†ç»„ä»¶ç»Ÿä¸€å¸ƒå±€å’Œå“åº”å¼è®¾è®¡</li>
<li>æ·»åŠ å¤šä¸ª Composables ä¼˜åŒ–ä»£ç ç»“æ„å’Œäº¤äº’ä½“éªŒ</li>
<li>æ–°å¢ç”¨æˆ·æ³¨å†Œã€å¯†ç ä¿®æ”¹å’Œç®¡ç†ç›¸å…³è¡¨å• Schema</li>
<li>å¼•å…¥ form-group ç»„ä»¶ä¼˜åŒ–è¡¨å•å¸ƒå±€</li>
<li>æ·»åŠ  status-badge ç»„ä»¶ç»Ÿä¸€çŠ¶æ€ç®¡ç†</li>
<li>æ–°å¢ useApi å’Œ useForm ç»„åˆå¼ API</li>
</ul>
<p>Bug ä¿®å¤ï¼š</p>
<ul>
<li>ä¿®å¤ useForm å“åº”å¼æ•°æ®è®¿é—®é—®é¢˜</li>
<li>ä¿®æ­£æœç´¢è¾“å…¥ç©ºå€¼å¤„ç†é€»è¾‘</li>
<li>æ”¹è¿›æ—¥æœŸæ ¼å¼åŒ–å‡½æ•°ç©ºå€¼å¤„ç†</li>
<li>ä¿®å¤ç¬¬ä¸‰æ–¹è´¦å·å±•ç¤ºé—®é¢˜</li>
<li>ç»Ÿä¸€çŠ¶æ€å±æ€§å‘½åè§„èŒƒ</li>
</ul>
<p>ä»£ç é‡æ„ï¼š</p>
<ul>
<li>ä¼˜åŒ–ç™»å½•ã€å¯†ç æ‰¾å›ç­‰é¡µé¢ç»“æ„</li>
<li>æ”¹è¿›æ—¥å¿—ç®¡ç†å’Œé€šçŸ¥æ¨¡æ¿åŠŸèƒ½</li>
<li>ä½¿ç”¨ Zod Schema å¢å¼ºè¡¨å•éªŒè¯</li>
<li>é‡æ„æ•°æ®è¡¨ç»„ä»¶å’Œç¤¾äº¤è´¦æˆ·é€»è¾‘</li>
<li>ç»Ÿä¸€å¯¹è¯æ¡†å’Œè¡¨å•ç»„ä»¶å®ç°</li>
<li>ç®€åŒ–å‡½æ•°å‚æ•°å’Œç»„ä»¶ç»“æ„</li>
<li>ä¼˜åŒ–ä»£ç å¯¼å…¥è·¯å¾„å’Œç±»å‹å®šä¹‰</li>
</ul>
<h3 data-id="heading-5">cmyr-template-cli</h3>
<h4 data-id="heading-6"><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fcmyr-template-cli%2Freleases%2Ftag%2Fv1.42.2" target="_blank" title="https://github.com/CaoMeiYouRen/cmyr-template-cli/releases/tag/v1.42.2" ref="nofollow noopener noreferrer">v1.42.2</a> - 2025-12-11 02:11:21</h4>
<p>æ‘˜è¦:</p>
<h3 data-id="heading-7">GitHub Release æ‘˜è¦ (v1.42.2)</h3>
<h4 data-id="heading-8">Bug ä¿®å¤</h4>
<ul>
<li>ç§»é™¤äº† vitest æµ‹è¯•æ¡†æ¶é…ç½®ä¸­çš„è¦†ç›–ç‡è®¾ç½®é¡¹</li>
</ul>
<h4 data-id="heading-9"><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FCaoMeiYouRen%2Fcmyr-template-cli%2Freleases%2Ftag%2Fv1.42.1" target="_blank" title="https://github.com/CaoMeiYouRen/cmyr-template-cli/releases/tag/v1.42.1" ref="nofollow noopener noreferrer">v1.42.1</a> - 2025-12-11 01:50:03</h4>
<p>æ‘˜è¦:
[1.42.1]ç‰ˆæœ¬æ›´æ–°æ‘˜è¦ï¼š</p>
<p>Bug ä¿®å¤ï¼š</p>
<ul>
<li>æ›´æ–°äº†æ¨¡æ¿å…ƒæ•°æ®é…ç½®</li>
<li>å¯ç”¨äº† Docker æ”¯æŒåŠŸèƒ½</li>
<li>æ³¨é‡Šæ‰äº† webpack æ¨¡æ¿é…ç½®</li>
</ul>
<p>æœ¬æ¬¡æ›´æ–°ä¸»è¦é’ˆå¯¹æ¨¡æ¿é…ç½®è¿›è¡Œäº†è°ƒæ•´ï¼Œé‡ç‚¹å¢åŠ äº† Docker æ”¯æŒå¹¶ç§»é™¤äº† webpack ç›¸å…³é…ç½®ã€‚</p>
<h2 data-id="heading-10">æœ€æ–° GitHub åŠ æ˜Ÿä»“åº“</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmacieklamberski%2Ffeedsmith" target="_blank" title="https://github.com/macieklamberski/feedsmith" ref="nofollow noopener noreferrer">CaoMeiYouRen starred feedsmith</a> - 2025-12-12 13:43:50
ä¸€æ¬¾å…¨åŠŸèƒ½çš„ JavaScript feed è§£æå™¨å’Œç”Ÿæˆå™¨ï¼Œæ”¯æŒ RSSã€Atomã€RDF å’Œ JSON Feed æ ¼å¼ï¼Œå…¼å®¹ä¸»æµå‘½åç©ºé—´å’Œ OPMLã€‚é‡‡ç”¨ TypeScript ä½œä¸ºä¸»è¦å¼€å‘è¯­è¨€ï¼Œåœ¨ GitHub ä¸Šè·å¾— 529 æ˜Ÿæ ‡ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdonlon%2Fcloudflare-error-page" target="_blank" title="https://github.com/donlon/cloudflare-error-page" ref="nofollow noopener noreferrer">CaoMeiYouRen starred cloudflare-error-page</a> - 2025-12-11 19:34:36
Cloudflare é”™è¯¯é¡µé¢ç”Ÿæˆå™¨ï¼Œä¸»è¦ä½¿ç”¨ EJS æ¨¡æ¿è¯­è¨€å¼€å‘ï¼Œåœ¨ GitHub ä¸Šè·å¾— 2859 ä¸ªæ˜Ÿæ ‡ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Findex-tts%2Findex-tts" target="_blank" title="https://github.com/index-tts/index-tts" ref="nofollow noopener noreferrer">CaoMeiYouRen starred index-tts</a> - 2025-12-09 23:47:58
è¯¥ Python é¡¹ç›®æ˜¯ä¸€ä¸ªå·¥ä¸šçº§å¯æ§é«˜æ•ˆçš„é›¶æ ·æœ¬æ–‡æœ¬è½¬è¯­éŸ³ç³»ç»Ÿï¼Œè·å¾—äº† 16596 ä¸ªæ˜Ÿæ ‡ã€‚ç³»ç»Ÿå…·å¤‡é›¶æ ·æœ¬å­¦ä¹ èƒ½åŠ›ï¼Œå¯ç›´æ¥è½¬æ¢æœªè§è¿‡çš„æ–‡æœ¬ä¸ºè¯­éŸ³ï¼ŒåŒæ—¶ä¿æŒå·¥ä¸šåº”ç”¨æ‰€éœ€çš„é«˜æ•ˆæ€§å’Œå¯æ§æ€§ã€‚é¡¹ç›®åœ¨ GitHub å¹³å°ä¸Šå—åˆ°å¹¿æ³›å…³æ³¨ï¼Œè¡¨æ˜å…¶åœ¨æ–‡æœ¬è½¬è¯­éŸ³é¢†åŸŸçš„æŠ€æœ¯å…ˆè¿›æ€§å’Œå®ç”¨ä»·å€¼ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FHisMax%2FRedInk" target="_blank" title="https://github.com/HisMax/RedInk" ref="nofollow noopener noreferrer">CaoMeiYouRen starred RedInk</a> - 2025-12-09 15:10:56
çº¢å¢¨æ˜¯åŸºäº Nano Banana Pro å¼€å‘çš„å°çº¢ä¹¦å›¾æ–‡ç”Ÿæˆå·¥å…·ï¼Œæ”¯æŒé€šè¿‡ä¸€å¥è¯è‡ªåŠ¨ç”Ÿæˆå›¾æ–‡å†…å®¹ã€‚è¯¥é¡¹ç›®ä½¿ç”¨ Python è¯­è¨€å¼€å‘ï¼Œåœ¨ GitHub ä¸Šè·å¾—äº† 3629 ä¸ªæ˜Ÿæ ‡ã€‚</li>
</ul>
<h2 data-id="heading-11">å…¶ä»–åšå®¢æˆ–å‘¨åˆŠæ¨è</h2>
<h3 data-id="heading-12">é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿—</h3>
<ul>
<li><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.ruanyifeng.com%2Fblog%2F2025%2F12%2Fweekly-issue-377.html" target="_blank" title="http://www.ruanyifeng.com/blog/2025/12/weekly-issue-377.html" ref="nofollow noopener noreferrer">ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠï¼ˆç¬¬ 377 æœŸï¼‰ï¼š14 ä¸‡ç¾å…ƒçš„è´«å›°çº¿</a> - 2025-12-12 08:07:48</li>
</ul>
<h3 data-id="heading-13">HelloGitHub çƒ­ç‚¹é€Ÿè§ˆ</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhellogithub.com%2Farticle%2Fa4841c1c43784112b4d540e05062bdf5" target="_blank" title="https://hellogithub.com/article/a4841c1c43784112b4d540e05062bdf5" ref="nofollow noopener noreferrer">ä¸Šç­æ‘¸é±¼ç©å¡”é˜²ï¼Œç«Ÿç„¶æ˜¯ä¸ºäº†å­¦æ¶æ„ï¼Ÿã€ŒGitHub çƒ­ç‚¹é€Ÿè§ˆã€</a> - 2025-12-10 17:11:29</li>
</ul>
<h3 data-id="heading-14">æ½®æµå‘¨åˆŠ</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fweekly.tw93.fun%2Fposts%2F248%2F" target="_blank" title="https://weekly.tw93.fun/posts/248/" ref="nofollow noopener noreferrer">ç¬¬ 248 æœŸ - è¡—å¤´åƒ§äºº</a> - 2025-12-08 08:00:00</li>
</ul>
<h3 data-id="heading-15">äºŒä¸«è®²æ¢µçš„å­¦ä¹ å‘¨åˆŠ</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwiki.eryajf.net%2Fpages%2F2adb28%2F" target="_blank" title="https://wiki.eryajf.net/pages/2adb28/" ref="nofollow noopener noreferrer">å­¦ä¹ å‘¨åˆŠ-æ€»ç¬¬ 241 æœŸ-2025 å¹´ç¬¬ 50 å‘¨</a> - 2025-12-11 21:05:29</li>
</ul>
<h2 data-id="heading-16">æ€»ç»“</h2>
<p>æœ¬å‘¨çš„æ›´æ–°å’ŒåŠ¨æ€å¦‚ä¸Šæ‰€ç¤ºã€‚æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼
æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¢é˜…è‰æ¢…å‘¨æŠ¥çš„æ›´æ–°ï¼š</p>
<ul>
<li><strong>åšå®¢</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmyr.ltd" target="_blank" title="https://blog.cmyr.ltd" ref="nofollow noopener noreferrer">è‰æ¢…å‹ä»çš„åšå®¢</a></li>
<li><strong>RSS</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmyr.ltd%2Fweekly.xml" target="_blank" title="https://blog.cmyr.ltd/weekly.xml" ref="nofollow noopener noreferrer">è‰æ¢…å‘¨æŠ¥</a></li>
<li><strong>å…¬ä¼—å·</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Foss.cmyr.dev%2Fimages%2F20241025184516839-21n2ctv.png" target="_blank" title="https://oss.cmyr.dev/images/20241025184516839-21n2ctv.png" ref="nofollow noopener noreferrer">è‰æ¢…å‹ä»çš„åèŠ±å›­</a></li>
<li><strong>é‚®ç®±è®¢é˜…</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flistmonk.cmyr.dev%2Fsubscription%2Fform" target="_blank" title="https://listmonk.cmyr.dev/subscription/form" ref="nofollow noopener noreferrer">è‰æ¢…å‹ä»çš„åšå®¢è®¢é˜…</a></li>
</ul>
<h2 data-id="heading-17">å¾€æœŸå›é¡¾</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmyr.ltd%2Farchives%2F2025-49-caomei-weekly-caomei-auth-1-11-1-release-and-ai-refactoring.html" target="_blank" title="https://blog.cmyr.ltd/archives/2025-49-caomei-weekly-caomei-auth-1-11-1-release-and-ai-refactoring.html" ref="nofollow noopener noreferrer">è‰æ¢… Auth 1.11.1 ç‰ˆæœ¬å‘å¸ƒä¸ AI è¾…åŠ©ä»£ç é‡æ„å®è·µ | 2025 å¹´ç¬¬ 49 å‘¨è‰æ¢…å‘¨æŠ¥</a> - 2025-12-07 20:10:31</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmyr.ltd%2Farchives%2F2025-48-caomei-weekly-nano-banana-pro-ai-image-generation.html" target="_blank" title="https://blog.cmyr.ltd/archives/2025-48-caomei-weekly-nano-banana-pro-ai-image-generation.html" ref="nofollow noopener noreferrer">Nano Banana Pro AI å›¾åƒç”Ÿæˆæ¨¡å‹ä¸åˆ›æ„å®è·µ | 2025 å¹´ç¬¬ 48 å‘¨è‰æ¢…å‘¨æŠ¥</a> - 2025-11-30 20:30:59</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmyr.ltd%2Farchives%2F2025-47-caomei-weekly-cloudflare-outage-nano-banana-pro.html" target="_blank" title="https://blog.cmyr.ltd/archives/2025-47-caomei-weekly-cloudflare-outage-nano-banana-pro.html" ref="nofollow noopener noreferrer">Cloudflare æœåŠ¡ä¸­æ–­ä¸ AI å›¾åƒç”Ÿæˆæ¨¡å‹ nano-banana-pro | 2025 å¹´ç¬¬ 47 å‘¨è‰æ¢…å‘¨æŠ¥</a> - 2025-11-23 23:08:45</li>
</ul>
<p>æœ¬æ–‡ä½œè€…ï¼šè‰æ¢…å‹ä»<br/>æœ¬æ–‡åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.cmyr.ltd%2Farchives%2F2025-50-caomei-weekly-caomei-auth-1-12-0-momei-blog.html" target="_blank" title="https://blog.cmyr.ltd/archives/2025-50-caomei-weekly-caomei-auth-1-12-0-momei-blog.html" ref="nofollow noopener noreferrer">blog.cmyr.ltd/archives/20â€¦</a><br/>ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡é‡‡ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcreativecommons.org%2Flicenses%2Fby-nc-sa%2F4.0%2Fdeed.zh-hans" target="_blank" title="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" ref="nofollow noopener noreferrer">CC BY-NC-SA 4.0 åè®®</a> è¿›è¡Œåˆ†å‘ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼<br/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Coze Studio äºŒæ¬¡å¼€å‘ï¼ˆäºŒï¼‰æ”¯æŒ MCP Server åŠ¨æ€é…ç½®]]></title>    <link>https://juejin.cn/post/7583215836690595881</link>    <guid>https://juejin.cn/post/7583215836690595881</guid>    <pubDate>2025-12-14T12:58:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583215836690595881" data-draft-id="7583226204036005929" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Coze Studio äºŒæ¬¡å¼€å‘ï¼ˆäºŒï¼‰æ”¯æŒ MCP Server åŠ¨æ€é…ç½®"/> <meta itemprop="keywords" content="Coze,åç«¯,Agent"/> <meta itemprop="datePublished" content="2025-12-14T12:58:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="DevYK"/> <meta itemprop="url" content="https://juejin.cn/user/3368559355637566"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Coze Studio äºŒæ¬¡å¼€å‘ï¼ˆäºŒï¼‰æ”¯æŒ MCP Server åŠ¨æ€é…ç½®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3368559355637566/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    DevYK
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T12:58:19.000Z" title="Sun Dec 14 2025 12:58:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fyzktd0cHPaNBykYBR_mEaw" target="_blank" title="https://mp.weixin.qq.com/s/yzktd0cHPaNBykYBR_mEaw" ref="nofollow noopener noreferrer">Coze Studio äºŒæ¬¡å¼€å‘ï¼ˆä¸€ï¼‰æ”¯æŒ MCP é™æ€é…ç½®</a>ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†é€šè¿‡ <code>plugin_meta.yaml</code> é…ç½®æ–‡ä»¶é™æ€é…ç½® MCP Server çš„åŠŸèƒ½ã€‚è¿™ç§æ–¹å¼è™½ç„¶èƒ½å¤Ÿå·¥ä½œï¼Œä½†å­˜åœ¨ä»¥ä¸‹å±€é™æ€§ï¼š</p>
<ol>
<li><strong>éœ€è¦é‡å¯æœåŠ¡</strong>ï¼šæ¯æ¬¡ä¿®æ”¹é…ç½®éƒ½éœ€è¦é‡å¯åç«¯æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆ</li>
<li><strong>é…ç½®ç®¡ç†ä¸ä¾¿</strong>ï¼šéœ€è¦æ‰‹åŠ¨ç¼–è¾‘ YAML æ–‡ä»¶ï¼Œå®¹æ˜“å‡ºé”™</li>
<li><strong>å¤šç”¨æˆ·éš”ç¦»å›°éš¾</strong>ï¼šæ‰€æœ‰ç”¨æˆ·å…±äº«åŒä¸€å¥—é…ç½®ï¼Œæ— æ³•å®ç°ç”¨æˆ·çº§åˆ«çš„ä¸ªæ€§åŒ–é…ç½®</li>
<li><strong>å®æ—¶æ€§å·®</strong>ï¼šæ— æ³•åŠ¨æ€æ·»åŠ ã€åˆ é™¤æˆ–æ›´æ–° MCP Serverï¼Œæ— æ³•æ»¡è¶³å¿«é€Ÿè¿­ä»£çš„éœ€æ±‚</li>
</ol>
<p>ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å®ç° MCP Server çš„åŠ¨æ€é…ç½®åŠŸèƒ½ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡ UI ç•Œé¢æˆ– API åŠ¨æ€ç®¡ç† MCP Serverï¼Œæ— éœ€é‡å¯æœåŠ¡å³å¯ç”Ÿæ•ˆã€‚</p>
<h2 data-id="heading-1">å‰ç«¯æ¢ç´¢åŠŸèƒ½åŠ è½½æµç¨‹</h2>
<p>åœ¨æ·±å…¥åŠ¨æ€é…ç½®å®ç°ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆåˆ†æåŸå§‹ä»£ç ä¸­å‰ç«¯æ¢ç´¢æ’ä»¶æ—¶çš„åŠ è½½æµç¨‹ï¼Œäº†è§£ç³»ç»Ÿå¦‚ä½•è·å–å’Œå±•ç¤ºæ’ä»¶åˆ—è¡¨ã€‚è¿™æ˜¯ç†è§£åŠ¨æ€é…ç½®å®ç°çš„åŸºç¡€ã€‚</p>
<h3 data-id="heading-2">API å…¥å£</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/725ae80f082c41c095d52b8726dea28d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGV2WUs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321954&amp;x-signature=kYFWK3TmCZQtBT5vfSPbAvVlrPo%3D" alt="" loading="lazy"/></p>
<p>å‰ç«¯é€šè¿‡ä»¥ä¸‹ API è·å–æ’ä»¶åˆ—è¡¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">GET /api/marketplace/product/list?<span class="hljs-attr">entity_type</span>=<span class="hljs-number">2</span>&amp;sort_type=<span class="hljs-number">2</span>&amp;page_num=<span class="hljs-number">1</span>&amp;page_size=<span class="hljs-number">20</span>
</code></pre>
<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>entity_type=2</code>ï¼šè¡¨ç¤ºæŸ¥è¯¢æ’ä»¶ç±»å‹ï¼ˆ<code>ProductEntityType_Plugin</code>ï¼‰</li>
<li><code>sort_type=2</code>ï¼šæ’åºç±»å‹</li>
<li><code>page_num=1</code>ï¼šé¡µç </li>
<li><code>page_size=20</code>ï¼šæ¯é¡µæ•°é‡</li>
</ul>
<h3 data-id="heading-3">åŸå§‹ä»£ç è¯·æ±‚å¤„ç†æµç¨‹</h3>
<p>æ ¹æ® GitHub åŸå§‹ä»£ç :<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcoze-dev%2Fcoze-studio%2Fblob%2Fmain%2Fbackend%2Fapi%2Fhandler%2Fcoze%2Fpublic_product_service.go" target="_blank" title="https://github.com/coze-dev/coze-studio/blob/main/backend/api/handler/coze/public_product_service.go" ref="nofollow noopener noreferrer">github.com/coze-dev/coâ€¦</a> å’Œåº”ç”¨æœåŠ¡å±‚ä»£ç :<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcoze-dev%2Fcoze-studio%2Fblob%2Fmain%2Fbackend%2Fapi%2Fhandler%2Fcoze%2Fpublic_product_service.go%25EF%25BC%258C%25E5%258E%259F%25E5%25A7%258B%25E5%25AE%259E%25E7%258E%25B0%25E6%25B5%2581%25E7%25A8%258B%25E5%25A6%2582%25E4%25B8%258B%25EF%25BC%259A" target="_blank" title="https://github.com/coze-dev/coze-studio/blob/main/backend/api/handler/coze/public_product_service.go%EF%BC%8C%E5%8E%9F%E5%A7%8B%E5%AE%9E%E7%8E%B0%E6%B5%81%E7%A8%8B%E5%A6%82%E4%B8%8B%EF%BC%9A" ref="nofollow noopener noreferrer">github.com/coze-dev/coâ€¦</a></p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Frontend
    participant APIHandler
    participant PluginAppService
    participant DomainService
    participant MemoryCache
    
    Frontend-&gt;&gt;APIHandler: GET /api/marketplace/product/list
    APIHandler-&gt;&gt;PluginAppService: PublicGetProductList()
    PluginAppService-&gt;&gt;DomainService: ListPluginProducts()
    DomainService-&gt;&gt;MemoryCache: GetAllPluginProducts()
    Note over MemoryCache: ä»å†…å­˜ map è·å–æ’ä»¶ï¼ˆæœåŠ¡å¯åŠ¨æ—¶ä» plugin_meta.yaml åŠ è½½ï¼‰
    MemoryCache--&gt;&gt;DomainService: æ’ä»¶åˆ—è¡¨
    DomainService-&gt;&gt;DomainService: åˆå¹¶å®˜æ–¹æ’ä»¶ï¼ˆä»æ•°æ®åº“ï¼‰
    DomainService--&gt;&gt;PluginAppService: æ’ä»¶äº§å“åˆ—è¡¨
    PluginAppService-&gt;&gt;PluginAppService: è·å–æ¯ä¸ªæ’ä»¶çš„å·¥å…·åˆ—è¡¨
    PluginAppService-&gt;&gt;PluginAppService: buildProductInfo()
    PluginAppService--&gt;&gt;APIHandler: ProductInfo åˆ—è¡¨
    APIHandler--&gt;&gt;Frontend: JSON å“åº”
</code></pre>
<h3 data-id="heading-4">æ ¸å¿ƒä»£ç åˆ†æ</h3>
<h4 data-id="heading-5">1. API Handler å±‚</h4>
<p>æ ¹æ® GitHub ä»£ç :<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcoze-dev%2Fcoze-studio%2Fblob%2Fmain%2Fbackend%2Fapi%2Fhandler%2Fcoze%2Fpublic_product_service.go%25EF%25BC%258C" target="_blank" title="https://github.com/coze-dev/coze-studio/blob/main/backend/api/handler/coze/public_product_service.go%EF%BC%8C" ref="nofollow noopener noreferrer">github.com/coze-dev/coâ€¦</a></p>
<p>å®ç°éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// @router /api/marketplace/product/list [GET]</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">PublicGetProductList</span><span class="hljs-params">(ctx context.Context, c *app.RequestContext)</span></span> {
    <span class="hljs-keyword">var</span> err <span class="hljs-type">error</span>
    <span class="hljs-keyword">var</span> req product_public_api.GetProductListRequest
    err = c.BindAndValidate(&amp;req)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        invalidParamRequestResponse(c, err.Error())
        <span class="hljs-keyword">return</span>
    }

    <span class="hljs-keyword">var</span> resp *product_public_api.GetProductListResponse
    <span class="hljs-keyword">switch</span> req.GetEntityType() {
    <span class="hljs-keyword">case</span> product_common.ProductEntityType_Plugin:
        resp, err = plugin.PluginApplicationSVC.PublicGetProductList(ctx, &amp;req)
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            internalServerErrorResponse(ctx, c, err)
            <span class="hljs-keyword">return</span>
        }
    }

    c.JSON(consts.StatusOK, resp)
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>Handler å±‚åªè´Ÿè´£å‚æ•°ç»‘å®šã€éªŒè¯å’Œè·¯ç”±åˆ†å‘</li>
<li>å®é™…ä¸šåŠ¡é€»è¾‘åœ¨åº”ç”¨æœåŠ¡å±‚å¤„ç†</li>
</ul>
<h4 data-id="heading-6">2. åº”ç”¨æœåŠ¡å±‚</h4>
<p>æ ¹æ®GitHub åŸå§‹ä»£ç :<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcoze-dev%2Fcoze-studio%2Fblob%2Fmain%2Fbackend%2Fapi%2Fhandler%2Fcoze%2Fpublic_product_service.go%25EF%25BC%258C%25E5%25AE%259E%25E7%258E%25B0%25E5%25A6%2582%25E4%25B8%258B%25EF%25BC%259A" target="_blank" title="https://github.com/coze-dev/coze-studio/blob/main/backend/api/handler/coze/public_product_service.go%EF%BC%8C%E5%AE%9E%E7%8E%B0%E5%A6%82%E4%B8%8B%EF%BC%9A" ref="nofollow noopener noreferrer">github.com/coze-dev/coâ€¦</a></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *PluginApplicationService)</span></span> PublicGetProductList(ctx context.Context, req *productAPI.GetProductListRequest) (resp *productAPI.GetProductListResponse, err <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// 1. ä»é¢†åŸŸæœåŠ¡è·å–æ’ä»¶åˆ—è¡¨</span>
    res, err := p.DomainSVC.ListPluginProducts(ctx, &amp;dto.ListPluginProductsRequest{})
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errorx.Wrapf(err, <span class="hljs-string">"ListPluginProducts failed"</span>)
    }

    <span class="hljs-comment">// 2. éå†æ¯ä¸ªæ’ä»¶ï¼Œè·å–å·¥å…·åˆ—è¡¨å¹¶æ„å»ºäº§å“ä¿¡æ¯</span>
    products := <span class="hljs-built_in">make</span>([]*productAPI.ProductInfo, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(res.Plugins))
    <span class="hljs-keyword">for</span> _, pl := <span class="hljs-keyword">range</span> res.Plugins {
        tls, err := p.toolRepo.GetPluginAllOnlineTools(ctx, pl.ID)
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errorx.Wrapf(err, <span class="hljs-string">"GetPluginAllOnlineTools failed, pluginID=%d"</span>, pl.ID)
        }

        pi, err := p.buildProductInfo(ctx, pl, tls)
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
        }

        products = <span class="hljs-built_in">append</span>(products, pi)
    }

    <span class="hljs-comment">// 3. å…³é”®è¯è¿‡æ»¤ï¼ˆå¦‚æœæœ‰ï¼‰</span>
    <span class="hljs-keyword">if</span> req.GetKeyword() != <span class="hljs-string">""</span> {
        filterProducts := <span class="hljs-built_in">make</span>([]*productAPI.ProductInfo, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(products))
        <span class="hljs-keyword">for</span> _, _p := <span class="hljs-keyword">range</span> products {
            <span class="hljs-keyword">if</span> strings.Contains(strings.ToLower(_p.MetaInfo.Name), strings.ToLower(req.GetKeyword())) {
                filterProducts = <span class="hljs-built_in">append</span>(filterProducts, _p)
            }
        }
        products = filterProducts
    }

    <span class="hljs-comment">// 4. è¿”å›å“åº”</span>
    resp = &amp;productAPI.GetProductListResponse{
        Data: &amp;productAPI.GetProductListData{
            Products: products,
            HasMore:  <span class="hljs-literal">false</span>,
            Total:    <span class="hljs-type">int32</span>(res.Total),
        },
    }
    <span class="hljs-keyword">return</span> resp, <span class="hljs-literal">nil</span>
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>ç›´æ¥è°ƒç”¨ <code>ListPluginProducts</code> è·å–æ’ä»¶åˆ—è¡¨</li>
<li>æ²¡æœ‰åŠ¨æ€åŠ è½½é€»è¾‘ï¼Œæ‰€æœ‰æ’ä»¶éƒ½æ¥è‡ªå†…å­˜ç¼“å­˜</li>
<li>æ’ä»¶ä¿¡æ¯åœ¨æœåŠ¡å¯åŠ¨æ—¶å·²åŠ è½½åˆ°å†…å­˜</li>
</ul>
<h4 data-id="heading-7">3. é¢†åŸŸæœåŠ¡å±‚</h4>
<p><strong>æ–‡ä»¶</strong>ï¼š<code>backend/domain/plugin/service/plugin_online.go</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *pluginServiceImpl)</span></span> ListPluginProducts(ctx context.Context, req *dto.ListPluginProductsRequest) (resp *dto.ListPluginProductsResponse, err <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// 1. ä»å†…å­˜ç¼“å­˜è·å–æ‰€æœ‰æ’ä»¶äº§å“ï¼ˆæ¥è‡ª plugin_meta.yamlï¼‰</span>
    plugins := slices.Transform(pluginConf.GetAllPluginProducts(), <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(p *pluginConf.PluginInfo)</span></span> *entity.PluginInfo {
        <span class="hljs-keyword">return</span> entity.NewPluginInfo(p.Info)
    })
    
    <span class="hljs-comment">// 2. æŒ‰äº§å“ ID æ’åº</span>
    sort.Slice(plugins, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(i, j <span class="hljs-type">int</span>)</span></span> <span class="hljs-type">bool</span> {
        <span class="hljs-keyword">return</span> plugins[i].GetRefProductID() &lt; plugins[j].GetRefProductID()
    })

    <span class="hljs-comment">// 3. è·å–å®˜æ–¹æ’ä»¶ï¼ˆä»æ•°æ®åº“ï¼‰</span>
    officialPlugins, _, err := p.pluginRepo.ListCustomOnlinePlugins(ctx, <span class="hljs-number">999999</span>, dto.PageInfo{
        Page:       <span class="hljs-number">1</span>,
        Size:       <span class="hljs-number">1000</span>,
        OrderByACS: ptr.Of(<span class="hljs-literal">true</span>),
        SortBy:     ptr.Of(dto.SortByCreatedAt),
    })
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errorx.Wrapf(err, <span class="hljs-string">"ListCustomOnlinePlugins failed, spaceID=999999"</span>)
    }

    <span class="hljs-comment">// 4. åˆå¹¶å®˜æ–¹æ’ä»¶</span>
    plugins = <span class="hljs-built_in">append</span>(plugins, officialPlugins...)

    <span class="hljs-keyword">return</span> &amp;dto.ListPluginProductsResponse{
        Plugins: plugins,
        Total:   <span class="hljs-type">int64</span>(<span class="hljs-built_in">len</span>(plugins)),
    }, <span class="hljs-literal">nil</span>
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li><code>GetAllPluginProducts()</code> ä»å†…å­˜ map ä¸­è·å–æ’ä»¶</li>
<li>ä»ä¹‹å‰æºç åˆ†ææ’ä»¶åœ¨æœåŠ¡å¯åŠ¨æ—¶é€šè¿‡ <code>loadPluginProductMeta()</code> ä» <code>plugin_meta.yaml</code> åŠ è½½</li>
</ul>
<h4 data-id="heading-8">4. é…ç½®å±‚ï¼ˆå†…å­˜ç¼“å­˜ï¼‰</h4>
<p><strong>æ–‡ä»¶</strong>ï¼š<code>backend/domain/plugin/conf/load_plugin.go</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">var</span> (
    pluginProducts <span class="hljs-keyword">map</span>[<span class="hljs-type">int64</span>]*PluginInfo  <span class="hljs-comment">// æ’ä»¶ç¼“å­˜</span>
    toolProducts   <span class="hljs-keyword">map</span>[<span class="hljs-type">int64</span>]*ToolInfo    <span class="hljs-comment">// å·¥å…·ç¼“å­˜</span>
)

<span class="hljs-comment">// GetAllPluginProducts è·å–æ‰€æœ‰æ’ä»¶äº§å“ï¼ˆä»å†…å­˜ç¼“å­˜ï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetAllPluginProducts</span><span class="hljs-params">()</span></span> []*PluginInfo {
    plugins := <span class="hljs-built_in">make</span>([]*PluginInfo, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(pluginProducts))
    <span class="hljs-keyword">for</span> _, pl := <span class="hljs-keyword">range</span> pluginProducts {
        plugins = <span class="hljs-built_in">append</span>(plugins, pl)
    }
    <span class="hljs-keyword">return</span> plugins
}

<span class="hljs-comment">// GetPluginProduct æ ¹æ®æ’ä»¶ ID è·å–æ’ä»¶</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetPluginProduct</span><span class="hljs-params">(pluginID <span class="hljs-type">int64</span>)</span></span> (*PluginInfo, <span class="hljs-type">bool</span>) {
    pl, ok := pluginProducts[pluginID]
    <span class="hljs-keyword">return</span> pl, ok
}

<span class="hljs-comment">// MGetPluginProducts æ‰¹é‡è·å–æ’ä»¶</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">MGetPluginProducts</span><span class="hljs-params">(pluginIDs []<span class="hljs-type">int64</span>)</span></span> []*PluginInfo {
    plugins := <span class="hljs-built_in">make</span>([]*PluginInfo, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(pluginIDs))
    <span class="hljs-keyword">for</span> _, pluginID := <span class="hljs-keyword">range</span> pluginIDs {
        pl, ok := pluginProducts[pluginID]
        <span class="hljs-keyword">if</span> !ok {
            <span class="hljs-keyword">continue</span>
        }
        plugins = <span class="hljs-built_in">append</span>(plugins, pl)
    }
    <span class="hljs-keyword">return</span> plugins
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨å…¨å±€ map å˜é‡å­˜å‚¨æ’ä»¶å’Œå·¥å…·ä¿¡æ¯</li>
<li>æ’ä»¶åœ¨æœåŠ¡å¯åŠ¨æ—¶é€šè¿‡ <code>loadPluginProductMeta()</code> åŠ è½½</li>
<li>æ‰€æœ‰æ’ä»¶éƒ½æ¥è‡ª <code>plugin_meta.yaml</code> é…ç½®æ–‡ä»¶</li>
</ul>
<h3 data-id="heading-9">åŸå§‹æµç¨‹æ€»ç»“</h3>
<p>åŸå§‹ä»£ç çš„æ’ä»¶åŠ è½½æµç¨‹éå¸¸ç®€å•ï¼š</p>
<ol>
<li><strong>æœåŠ¡å¯åŠ¨æ—¶</strong>ï¼š<code>loadPluginProductMeta()</code> ä» <code>plugin_meta.yaml</code> è¯»å–é…ç½®ï¼ŒåŠ è½½æ’ä»¶åˆ°å†…å­˜ map</li>
<li><strong>å‰ç«¯è¯·æ±‚æ—¶</strong>ï¼š
<ul>
<li>API Handler æ¥æ”¶è¯·æ±‚</li>
<li>åº”ç”¨æœåŠ¡å±‚è°ƒç”¨ <code>ListPluginProducts()</code></li>
<li>é¢†åŸŸæœåŠ¡å±‚ä»å†…å­˜ map è·å–æ’ä»¶ï¼ˆ<code>GetAllPluginProducts()</code>ï¼‰</li>
<li>åˆå¹¶å®˜æ–¹æ’ä»¶ï¼ˆä»æ•°æ®åº“ï¼‰</li>
<li>æ„å»ºäº§å“ä¿¡æ¯è¿”å›å‰ç«¯</li>
</ul>
</li>
</ol>
<p><strong>å±€é™æ€§</strong>ï¼š</p>
<ul>
<li>æ‰€æœ‰æ’ä»¶å¿…é¡»åœ¨ <code>plugin_meta.yaml</code> ä¸­é…ç½®</li>
<li>ä¿®æ”¹é…ç½®éœ€è¦é‡å¯æœåŠ¡</li>
<li>æ— æ³•åŠ¨æ€æ·»åŠ ã€åˆ é™¤æˆ–æ›´æ–°æ’ä»¶</li>
<li>æ— æ³•å®ç°ç”¨æˆ·çº§åˆ«çš„ä¸ªæ€§åŒ–é…ç½®</li>
</ul>
<h3 data-id="heading-10">åŠ¨æ€é…ç½®çš„åˆ‡å…¥ç‚¹</h3>
<p>åŸºäºä»¥ä¸Šåˆ†æï¼Œè¦å®ç°åŠ¨æ€é…ç½® MCP Serverï¼Œéœ€è¦åœ¨ä»¥ä¸‹ä½ç½®è¿›è¡Œæ‰©å±•ï¼š</p>
<ol>
<li><strong>åœ¨ <code>PublicGetProductList()</code> ä¸­</strong>ï¼šåœ¨è°ƒç”¨ <code>ListPluginProducts()</code> ä¹‹å‰ï¼Œå…ˆä»æ•°æ®åº“åŠ è½½ç”¨æˆ·é…ç½®çš„ MCP æ’ä»¶åˆ°å†…å­˜ç¼“å­˜</li>
<li><strong>åœ¨ <code>load_plugin.go</code> ä¸­</strong>ï¼šæ·»åŠ å‡½æ•°æ”¯æŒåŠ¨æ€æ·»åŠ æ’ä»¶åˆ°å†…å­˜ç¼“å­˜ï¼ˆå¦‚ <code>AddLocalMcpPlugin()</code>ï¼‰</li>
<li><strong>æ–°å¢æ•°æ®åº“æ¨¡å‹</strong>ï¼šå­˜å‚¨ç”¨æˆ·é…ç½®çš„ MCP Server ä¿¡æ¯</li>
<li><strong>æ–°å¢ API æ¥å£</strong>ï¼šæ”¯æŒç”¨æˆ·åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ MCP Server é…ç½®</li>
</ol>
<h2 data-id="heading-11">åŠ¨æ€åŠ è½½ MCP Server è§£å†³æ–¹æ¡ˆ</h2>
<p>åŸºäºå¯¹åŸå§‹ä»£ç çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸ç ´åç°æœ‰æ¶æ„çš„å‰æä¸‹ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°åŠ¨æ€é…ç½® MCP Serverï¼š</p>
<h3 data-id="heading-12">æ•´ä½“æ¶æ„è®¾è®¡</h3>
<p>åŠ¨æ€é…ç½® MCP Server çš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼š<strong>å°†é…ç½®ä»æ–‡ä»¶è¿ç§»åˆ°æ•°æ®åº“ï¼Œé€šè¿‡ API æ¥å£ç®¡ç†é…ç½®ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½åˆ°å†…å­˜ç¼“å­˜</strong>ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[ç”¨æˆ·é€šè¿‡ UI/API åˆ›å»º MCP é…ç½®] --&gt; B[ä¿å­˜åˆ°æ•°æ®åº“ mcp_plugin è¡¨]
    B --&gt; C[å‰ç«¯è¯·æ±‚æ’ä»¶åˆ—è¡¨]
    C --&gt; D[PublicGetProductList]
    D --&gt; E[addMcpPluginsToCache æ–°å¢åŠ¨æ€åŠ è½½æ­¥éª¤]
    E --&gt; F[ä»æ•°æ®åº“æŸ¥è¯¢ MCP æ’ä»¶]
    F --&gt; G[è¿æ¥ MCP Server åŠ è½½å·¥å…·]
    G --&gt; H[AddLocalMcpPlugin æ·»åŠ åˆ°å†…å­˜ç¼“å­˜]
    H --&gt; I[ListPluginProducts åŸæœ‰æµç¨‹]
    I --&gt; J[GetAllPluginProducts ä»å†…å­˜ç¼“å­˜è·å–]
    J --&gt; K[è¿”å›æ’ä»¶åˆ—è¡¨ç»™å‰ç«¯]
    
    L[ç”¨æˆ·æ›´æ–°/åˆ é™¤é…ç½®] --&gt; B
    M[ç”¨æˆ·è°ƒç”¨å·¥å…·] --&gt; N[ä»ç¼“å­˜è·å–æ’ä»¶ä¿¡æ¯]
    N --&gt; O[æ‰§è¡Œ MCP å·¥å…·è°ƒç”¨]
</code></pre>
<p><strong>å…³é”®è®¾è®¡</strong>ï¼š</p>
<ul>
<li>åœ¨ <code>PublicGetProductList()</code> ä¸­ï¼Œåœ¨è°ƒç”¨ <code>ListPluginProducts()</code> ä¹‹å‰ï¼Œå…ˆè°ƒç”¨ <code>addMcpPluginsToCache()</code> åŠ¨æ€åŠ è½½ MCP æ’ä»¶</li>
<li>åˆ©ç”¨ç°æœ‰çš„å†…å­˜ç¼“å­˜æœºåˆ¶ï¼ˆ<code>pluginProducts</code> å’Œ <code>toolProducts</code> mapï¼‰</li>
<li>é€šè¿‡ <code>AddLocalMcpPlugin()</code> å°†åŠ¨æ€åŠ è½½çš„æ’ä»¶æ·»åŠ åˆ°ç¼“å­˜ï¼Œä½¿å…¶å¯ä»¥è¢« <code>GetAllPluginProducts()</code> è·å–</li>
</ul>
<h3 data-id="heading-13">1. æ•°æ®åº“æ¨¡å‹è®¾è®¡</h3>
<p><strong>è¡¨ç»“æ„</strong>ï¼š<code>mcp_plugin</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// backend/domain/plugin/internal/dal/model/mcp_plugin.gen.go</span>
<span class="hljs-keyword">type</span> McpPlugin <span class="hljs-keyword">struct</span> {
    ID        <span class="hljs-type">int64</span>           <span class="hljs-string">`gorm:"column:id;primaryKey;comment:Primary Key ID"`</span>
    Name      <span class="hljs-type">string</span>          <span class="hljs-string">`gorm:"column:name;not null;comment:MCP Server Name"`</span>
    PluginID  <span class="hljs-type">int64</span>           <span class="hljs-string">`gorm:"column:plugin_id;not null;comment:Plugin ID from plugin_meta.yaml, 0 if user-created"`</span>
    UserID    <span class="hljs-type">int64</span>           <span class="hljs-string">`gorm:"column:user_id;not null;default:0;comment:User ID, 0 for system plugins"`</span>
    McpConfig json.RawMessage <span class="hljs-string">`gorm:"column:mcp_config;type:json;not null;comment:MCP Configuration"`</span>
    CreatedAt <span class="hljs-type">int64</span>           <span class="hljs-string">`gorm:"column:created_at;not null;autoCreateTime:milli"`</span>
    UpdatedAt <span class="hljs-type">int64</span>           <span class="hljs-string">`gorm:"column:updated_at;not null;autoUpdateTime:milli"`</span>
}
</code></pre>
<p><strong>å­—æ®µè¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>plugin_id</code>ï¼šå¦‚æœ &gt; 0ï¼Œè¡¨ç¤ºæ¥è‡ª <code>plugin_meta.yaml</code> çš„é™æ€é…ç½®ï¼›å¦‚æœ = 0ï¼Œè¡¨ç¤ºç”¨æˆ·åŠ¨æ€åˆ›å»ºçš„é…ç½®</li>
<li><code>user_id</code>ï¼šç”¨æˆ· IDï¼Œ0 è¡¨ç¤ºç³»ç»Ÿæ’ä»¶ï¼Œ&gt; 0 è¡¨ç¤ºç”¨æˆ·åˆ›å»ºçš„æ’ä»¶</li>
<li><code>mcp_config</code>ï¼šJSON æ ¼å¼çš„ MCP é…ç½®ï¼Œä½¿ç”¨ Cursor æ ¼å¼å­˜å‚¨</li>
</ul>
<h3 data-id="heading-14">2. API æ¥å£è®¾è®¡</h3>
<h4 data-id="heading-15">2.1 åˆ›å»º MCP æ’ä»¶</h4>
<p><strong>æ¥å£</strong>ï¼š<code>POST /api/plugin_api/create_mcp_plugin</code></p>
<p><strong>è¯·æ±‚ä½“</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æˆ‘çš„ MCP æœåŠ¡å™¨"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"mcp_config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"remote-exec"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://1.1.1.1:8001/sse"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"transport_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sse"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"pairat-remote-exec"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://1.1.1.4:8000/mcp/sse"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"transport_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sse"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"web_search"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"transport_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"stdio"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-y"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"websearch-mcp"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"MAX_SEARCH_RESULT"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"5"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"LANGUAGE"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"en"</span><span class="hljs-punctuation">,</span>
          <span class="hljs-attr">"REGION"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"us"</span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å®ç°</strong>ï¼š<code>backend/api/handler/coze/plugin_develop_service.go</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// CreateMcpPlugin creates a new MCP plugin</span>
<span class="hljs-comment">// @router /api/plugin_api/create_mcp_plugin [POST]</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">CreateMcpPlugin</span><span class="hljs-params">(ctx context.Context, c *app.RequestContext)</span></span> {
    <span class="hljs-keyword">var</span> req dto.CreateMcpPluginRequest
    err = c.BindAndValidate(&amp;req)
    
    id, err := plugin.PluginApplicationSVC.CreateMcpPlugin(ctx, &amp;req)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        internalServerErrorResponse(ctx, c, err)
        <span class="hljs-keyword">return</span>
    }
    
    c.JSON(consts.StatusOK, <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-keyword">interface</span>{}{
        <span class="hljs-string">"code"</span>:    <span class="hljs-number">0</span>,
        <span class="hljs-string">"message"</span>: <span class="hljs-string">"success"</span>,
        <span class="hljs-string">"data"</span>: <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-keyword">interface</span>{}{
            <span class="hljs-string">"id"</span>: id,
        },
    })
}
</code></pre>
<p><strong>æœåŠ¡å±‚å®ç°</strong>ï¼š<code>backend/domain/plugin/service/mcp_plugin_impl.go</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *pluginServiceImpl)</span></span> CreateMcpPlugin(ctx context.Context, req *dto.CreateMcpPluginRequest) (id <span class="hljs-type">int64</span>, err <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// 1. è·å–ç”¨æˆ· ID</span>
    userID := ctxutil.MustGetUIDFromCtx(ctx)

    <span class="hljs-comment">// 2. éªŒè¯é…ç½®æ ¼å¼</span>
    mcpConfigBytes := req.McpConfig
    <span class="hljs-keyword">var</span> cursorConfig dto.McpServersConfig
    <span class="hljs-keyword">if</span> err := json.Unmarshal(mcpConfigBytes, &amp;cursorConfig); err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, errorx.Wrapf(err, <span class="hljs-string">"invalid MCP config format"</span>)
    }

    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(cursorConfig.McpServers) == <span class="hljs-number">0</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, errorx.New(errno.ErrPluginInvalidParamCode, 
            errorx.KV(errno.PluginMsgKey, <span class="hljs-string">"MCP config must contain at least one server"</span>))
    }

    <span class="hljs-comment">// 3. è½¬æ¢ä¸ºå†…éƒ¨æ ¼å¼å¹¶éªŒè¯</span>
    _, err = ConvertCursorMcpConfigToInternal(mcpConfigBytes)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, errorx.Wrapf(err, <span class="hljs-string">"invalid MCP config: %v"</span>, err)
    }

    <span class="hljs-comment">// 4. åˆ é™¤è¯¥ç”¨æˆ·ä¹‹å‰çš„é…ç½®ï¼ˆç¡®ä¿æ¯ä¸ªç”¨æˆ·åªæœ‰ä¸€ä¸ªé…ç½®ï¼‰</span>
    err = p.mcpPluginDAO.DeleteAllUserCreated(ctx, userID)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, errorx.Wrapf(err, <span class="hljs-string">"failed to delete existing user-created MCP plugins"</span>)
    }

    <span class="hljs-comment">// 5. åˆ›å»ºæ–°é…ç½®</span>
    id, err = p.mcpPluginDAO.Create(ctx, req, userID)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, errorx.Wrapf(err, <span class="hljs-string">"failed to create MCP plugin"</span>)
    }

    logs.CtxInfof(ctx, <span class="hljs-string">"[MCP] Created MCP plugin: id=%d, name=%s, user_id=%d"</span>, id, req.Name, userID)
    <span class="hljs-keyword">return</span> id, <span class="hljs-literal">nil</span>
}
</code></pre>
<h4 data-id="heading-16">2.2 æ›´æ–° MCP æ’ä»¶</h4>
<p><strong>æ¥å£</strong>ï¼š<code>POST /api/plugin_api/update_mcp_plugin</code></p>
<p><strong>è¯·æ±‚ä½“</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">123</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ›´æ–°åçš„ MCP æœåŠ¡å™¨"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"mcp_config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"remote-exec"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"transport_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sse"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://10.x.x.x:8001/mcp/sse"</span>
            <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å®ç°</strong>ï¼šä¸åˆ›å»ºç±»ä¼¼ï¼Œä½†ä¼šå…ˆæŸ¥è¯¢ç°æœ‰é…ç½®ï¼Œç„¶åæ›´æ–°ã€‚</p>
<h4 data-id="heading-17">2.3 æŸ¥è¯¢ MCP æ’ä»¶åˆ—è¡¨</h4>
<p><strong>æ¥å£</strong>ï¼š<code>POST /api/plugin_api/list_mcp_plugins</code></p>
<p><strong>è¯·æ±‚ä½“</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"page"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"page_size"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">20</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å“åº”</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"message"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"success"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"data"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"plugins"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
            <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">123</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æˆ‘çš„ MCP æœåŠ¡å™¨"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"plugin_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"user_id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1001</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"mcp_config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>...<span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"created_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1234567890</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"updated_at"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1234567890</span>
            <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"total"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span>
    <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-18">2.4 è·å–å½“å‰ç”¨æˆ·çš„ MCP æ’ä»¶</h4>
<p><strong>æ¥å£</strong>ï¼š<code>POST /api/plugin_api/get_mcp_plugin</code></p>
<p><strong>å®ç°</strong>ï¼šä»ä¸Šä¸‹æ–‡è·å–ç”¨æˆ· IDï¼ŒæŸ¥è¯¢è¯¥ç”¨æˆ·çš„ MCP æ’ä»¶é…ç½®ã€‚</p>
<h4 data-id="heading-19">2.5 åˆ é™¤ MCP æ’ä»¶</h4>
<p><strong>æ¥å£</strong>ï¼š<code>POST /api/plugin_api/delete_mcp_plugin</code></p>
<p><strong>è¯·æ±‚ä½“</strong>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">123</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-20">3. é…ç½®æ ¼å¼è½¬æ¢</h3>
<p>ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨ä¸¤ç§é…ç½®æ ¼å¼ï¼š</p>
<ol>
<li><strong>Cursor æ ¼å¼</strong>ï¼ˆæ•°æ®åº“å­˜å‚¨ï¼‰ï¼šå…¼å®¹ Cursor IDE çš„ MCP é…ç½®æ ¼å¼</li>
<li><strong>å†…éƒ¨æ ¼å¼</strong>ï¼ˆè¿è¡Œæ—¶ä½¿ç”¨ï¼‰ï¼šç³»ç»Ÿå†…éƒ¨ä½¿ç”¨çš„é…ç½®æ ¼å¼</li>
</ol>
<p><strong>è½¬æ¢å‡½æ•°</strong>ï¼š<code>backend/domain/plugin/service/mcp_plugin_converter.go</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// ConvertCursorMcpConfigToInternal converts cursor MCP config format to internal format</span>
<span class="hljs-comment">// Cursor format: { "mcpServers": { "server-name": { "url": "..." } } }</span>
<span class="hljs-comment">// Internal format: { "transport_type": "sse", "sse_config": { "url": "..." } }</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">ConvertCursorMcpConfigToInternal</span><span class="hljs-params">(cursorConfig json.RawMessage)</span></span> ([]*mcp.Config, <span class="hljs-type">error</span>) {
    <span class="hljs-keyword">var</span> cursorFormat dto.McpServersConfig
    <span class="hljs-keyword">if</span> err := json.Unmarshal(cursorConfig, &amp;cursorFormat); err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, fmt.Errorf(<span class="hljs-string">"failed to unmarshal cursor config: %w"</span>, err)
    }

    configs := <span class="hljs-built_in">make</span>([]*mcp.Config, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(cursorFormat.McpServers))
    <span class="hljs-keyword">for</span> serverName, serverConfig := <span class="hljs-keyword">range</span> cursorFormat.McpServers {
        <span class="hljs-keyword">var</span> config *mcp.Config

        <span class="hljs-comment">// ç¡®å®šä¼ è¾“ç±»å‹</span>
        transportType := serverConfig.TransportType
        <span class="hljs-keyword">if</span> transportType == <span class="hljs-string">""</span> {
            <span class="hljs-comment">// ä»å­—æ®µæ¨æ–­ä¼ è¾“ç±»å‹</span>
            <span class="hljs-keyword">if</span> serverConfig.URL != <span class="hljs-string">""</span> {
                transportType = <span class="hljs-string">"sse"</span>
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> serverConfig.GetCommandArray() != <span class="hljs-literal">nil</span> &amp;&amp; <span class="hljs-built_in">len</span>(serverConfig.GetCommandArray()) &gt; <span class="hljs-number">0</span> {
                transportType = <span class="hljs-string">"stdio"</span>
            }
        }

        <span class="hljs-comment">// æ ¹æ®ä¼ è¾“ç±»å‹åˆ›å»ºé…ç½®</span>
        <span class="hljs-keyword">switch</span> transportType {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"sse"</span>:
            config = &amp;mcp.Config{
                ServerName:    serverName,
                TransportType: mcp.TransportTypeSSE,
                SSEConfig: &amp;mcp.SSEConfig{
                    URL:     serverConfig.URL,
                    Headers: serverConfig.Headers,
                    APIKey:  serverConfig.APIKey,
                },
            }
        <span class="hljs-keyword">case</span> <span class="hljs-string">"stdio"</span>:
            commandArray := serverConfig.GetCommandArray()
            config = &amp;mcp.Config{
                ServerName:    serverName,
                TransportType: mcp.TransportTypeStdio,
                StdioConfig: &amp;mcp.StdioConfig{
                    Command:    commandArray,
                    Env:        serverConfig.Env,
                    WorkingDir: serverConfig.WorkingDir,
                },
            }
        }

        configs = <span class="hljs-built_in">append</span>(configs, config)
    }

    <span class="hljs-keyword">return</span> configs, <span class="hljs-literal">nil</span>
}
</code></pre>
<h3 data-id="heading-21">4. åŠ¨æ€åŠ è½½æµç¨‹</h3>
<p>åŠ¨æ€åŠ è½½çš„æ ¸å¿ƒæµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User
    participant API
    participant Service
    participant Database
    participant MCPClient
    participant Cache
    
    User-&gt;&gt;API: POST /api/plugin_api/create_mcp_plugin
    API-&gt;&gt;Service: CreateMcpPlugin()
    Service-&gt;&gt;Database: INSERT INTO mcp_plugin
    Database--&gt;&gt;Service: è¿”å›æ’ä»¶ ID
    Service--&gt;&gt;API: åˆ›å»ºæˆåŠŸ
    API--&gt;&gt;User: è¿”å›æ’ä»¶ ID
    
    Note over User,Cache: å‰ç«¯è¯·æ±‚æ’ä»¶åˆ—è¡¨æ—¶è§¦å‘åŠ¨æ€åŠ è½½
    
    User-&gt;&gt;API: GET /api/marketplace/product/list
    API-&gt;&gt;Service: PublicGetProductList()
    
    Note over Service: æ–°å¢ï¼šåŠ¨æ€åŠ è½½ MCP æ’ä»¶
    Service-&gt;&gt;Service: addMcpPluginsToCache()
    Service-&gt;&gt;Database: SELECT * FROM mcp_plugin WHERE user_id = ?
    Database--&gt;&gt;Service: è¿”å› MCP æ’ä»¶åˆ—è¡¨
    
    loop éå†æ¯ä¸ª MCP æ’ä»¶
        Service-&gt;&gt;Service: ConvertCursorMcpConfigToInternal()
        Service-&gt;&gt;MCPClient: è¿æ¥ MCP Server
        MCPClient-&gt;&gt;MCPClient: Initialize()
        MCPClient-&gt;&gt;MCPClient: ListTools()
        MCPClient--&gt;&gt;Service: è¿”å›å·¥å…·åˆ—è¡¨
        Service-&gt;&gt;Service: è½¬æ¢å·¥å…·æ ¼å¼
        Service-&gt;&gt;Cache: AddLocalMcpPlugin() æ·»åŠ åˆ° pluginProducts map
    end
    
    Note over Service: åŸæœ‰æµç¨‹ï¼šä»å†…å­˜ç¼“å­˜è·å–
    Service-&gt;&gt;Service: ListPluginProducts()
    Service-&gt;&gt;Cache: GetAllPluginProducts() ä» pluginProducts map è·å–
    Cache--&gt;&gt;Service: è¿”å›æ’ä»¶åˆ—è¡¨ï¼ˆåŒ…å«åŠ¨æ€åŠ è½½çš„ï¼‰
    Service-&gt;&gt;Service: buildProductInfo()
    Service--&gt;&gt;API: ProductInfo åˆ—è¡¨
    API--&gt;&gt;User: JSON å“åº”
</code></pre>
<h3 data-id="heading-22">5. å…³é”®å®ç°æ­¥éª¤</h3>
<h4 data-id="heading-23">5.1 ä¿®æ”¹ <code>PublicGetProductList()</code> æ–¹æ³•</h4>
<p><strong>æ–‡ä»¶</strong>ï¼š<code>backend/application/plugin/plugin.go</code></p>
<p>åœ¨åŸå§‹ä»£ç åŸºç¡€ä¸Šï¼Œåœ¨è°ƒç”¨ <code>ListPluginProducts()</code> ä¹‹å‰æ·»åŠ åŠ¨æ€åŠ è½½é€»è¾‘ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *PluginApplicationService)</span></span> PublicGetProductList(ctx context.Context, req *productAPI.GetProductListRequest) (resp *productAPI.GetProductListResponse, err <span class="hljs-type">error</span>) {
    <span class="hljs-comment">// ========== æ–°å¢ï¼šåŠ¨æ€åŠ è½½ MCP æ’ä»¶åˆ°ç¼“å­˜ ==========</span>
    mcpConverter := NewMcpProductConverter(p.DomainSVC, p.oss)
    <span class="hljs-keyword">if</span> err := p.addMcpPluginsToCache(ctx, mcpConverter); err != <span class="hljs-literal">nil</span> {
        logs.CtxWarnf(ctx, <span class="hljs-string">"[MCP] Failed to add MCP plugins to cache: %v"</span>, err)
        <span class="hljs-comment">// Continue even if cache update fails</span>
    }
    <span class="hljs-comment">// ================================================</span>

    <span class="hljs-comment">// åŸæœ‰ä»£ç ï¼šä»å†…å­˜ç¼“å­˜è·å–æ‰€æœ‰æ’ä»¶ï¼ˆç°åœ¨åŒ…å«é™æ€é…ç½®çš„ + åŠ¨æ€é…ç½®çš„ï¼‰</span>
    res, err := p.DomainSVC.ListPluginProducts(ctx, &amp;dto.ListPluginProductsRequest{})
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errorx.Wrapf(err, <span class="hljs-string">"ListPluginProducts failed"</span>)
    }

    <span class="hljs-comment">// åŸæœ‰ä»£ç ï¼šæ„å»ºäº§å“ä¿¡æ¯åˆ—è¡¨</span>
    products := <span class="hljs-built_in">make</span>([]*productAPI.ProductInfo, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(res.Plugins))
    <span class="hljs-keyword">for</span> _, pl := <span class="hljs-keyword">range</span> res.Plugins {
        tls, err := p.toolRepo.GetPluginAllOnlineTools(ctx, pl.ID)
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, errorx.Wrapf(err, <span class="hljs-string">"GetPluginAllOnlineTools failed, pluginID=%d"</span>, pl.ID)
        }

        pi, err := p.buildProductInfo(ctx, pl, tls)
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>, err
        }

        products = <span class="hljs-built_in">append</span>(products, pi)
    }

    <span class="hljs-comment">// ... å…¶ä½™åŸæœ‰ä»£ç ä¿æŒä¸å˜</span>
}
</code></pre>
<h4 data-id="heading-24">5.2 æ–°å¢ <code>addMcpPluginsToCache()</code> æ–¹æ³•</h4>
<p><strong>æ–‡ä»¶</strong>ï¼š<code>backend/application/plugin/plugin.go</code></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// addMcpPluginsToCache adds user-created MCP plugins to the in-memory cache</span>
<span class="hljs-comment">// so they can be found by GetAllPluginProducts() when listing plugins</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(p *PluginApplicationService)</span></span> addMcpPluginsToCache(ctx context.Context, mcpConverter *McpProductConverter) <span class="hljs-type">error</span> {
    <span class="hljs-comment">// 1. ä»æ•°æ®åº“è·å–æ‰€æœ‰ç”¨æˆ·åˆ›å»ºçš„ MCP æ’ä»¶</span>
    listReq := &amp;dto.ListMcpPluginsRequest{
        Page:     <span class="hljs-number">1</span>,
        PageSize: <span class="hljs-number">1000</span>, <span class="hljs-comment">// Get all user-created MCP plugins</span>
    }
    listResp, err := p.DomainSVC.ListMcpPlugins(ctx, listReq)
    <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
        <span class="hljs-keyword">return</span> fmt.Errorf(<span class="hljs-string">"failed to get MCP plugins: %w"</span>, err)
    }

    <span class="hljs-comment">// 2. åˆ é™¤ä¹‹å‰çš„æœ¬åœ°æ’ä»¶ç¼“å­˜ï¼ˆé¿å…é‡å¤ï¼‰</span>
    delPluginCount, delToolCount := conf.DeleteAllLocalPluginProducts()
    logs.CtxInfof(ctx, <span class="hljs-string">"Deleted %d local plugin products, %d local tool products"</span>, delPluginCount, delToolCount)

    <span class="hljs-comment">// 3. éå†æ¯ä¸ª MCP æ’ä»¶ï¼ŒåŠ è½½å·¥å…·å¹¶æ·»åŠ åˆ°ç¼“å­˜</span>
    <span class="hljs-keyword">for</span> _, mcpPlugin := <span class="hljs-keyword">range</span> listResp.Plugins {
        <span class="hljs-comment">// è·³è¿‡ plugin_meta.yaml ä¸­çš„æ’ä»¶ï¼ˆå®ƒä»¬å·²ç»åœ¨é™æ€åŠ è½½æ—¶ç¼“å­˜äº†ï¼‰</span>
        <span class="hljs-keyword">if</span> mcpPlugin.PluginID &gt; <span class="hljs-number">0</span> {
            <span class="hljs-keyword">continue</span>
        }

        <span class="hljs-comment">// 3.1 è½¬æ¢é…ç½®æ ¼å¼ï¼ˆCursor æ ¼å¼ -&gt; å†…éƒ¨æ ¼å¼ï¼‰</span>
        internalConfigs, err := service.ConvertCursorMcpConfigToInternal(mcpPlugin.McpConfig)
        <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
            logs.CtxWarnf(ctx, <span class="hljs-string">"[MCP] Failed to convert config for plugin %d: %v"</span>, mcpPlugin.ID, err)
            <span class="hljs-keyword">continue</span>
        }

        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(internalConfigs) == <span class="hljs-number">0</span> {
            logs.CtxWarnf(ctx, <span class="hljs-string">"[MCP] No valid MCP config found for plugin %d"</span>, mcpPlugin.ID)
            <span class="hljs-keyword">continue</span>
        }

        <span class="hljs-comment">// 3.2 ä»æ¯ä¸ª MCP Server åŠ è½½å·¥å…·</span>
        <span class="hljs-keyword">for</span> i, config := <span class="hljs-keyword">range</span> internalConfigs {
            allTools := <span class="hljs-built_in">make</span>([]*entity.ToolInfo, <span class="hljs-number">0</span>)
            toolInfos, err := conf.LoadMCPToolsForPlugin(ctx, mcpPlugin.ID, <span class="hljs-string">"v1.0.0"</span>, config)
            <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
                logs.CtxWarnf(ctx, <span class="hljs-string">"[MCP] Failed to load tools for plugin %d server %d: %v"</span>, mcpPlugin.ID, i, err)
                <span class="hljs-keyword">continue</span>
            }

            <span class="hljs-comment">// 3.3 è½¬æ¢å·¥å…·ä¿¡æ¯</span>
            <span class="hljs-keyword">for</span> _, toolInfo := <span class="hljs-keyword">range</span> toolInfos {
                <span class="hljs-keyword">if</span> toolInfo != <span class="hljs-literal">nil</span> &amp;&amp; toolInfo.Info != <span class="hljs-literal">nil</span> {
                    <span class="hljs-comment">// ç”Ÿæˆå”¯ä¸€çš„å·¥å…· ID</span>
                    toolInfo.Info.ID = stringHashToInt64(*toolInfo.Info.SubURL)
                    toolInfo.Info.PluginID = mcpPlugin.ID
                    allTools = <span class="hljs-built_in">append</span>(allTools, toolInfo.Info)
                }
            }

            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(allTools) == <span class="hljs-number">0</span> {
                logs.CtxWarnf(ctx, <span class="hljs-string">"[MCP] No tools found for plugin %d, skipping cache"</span>, mcpPlugin.ID)
                <span class="hljs-keyword">continue</span>
            }

            <span class="hljs-comment">// 3.4 æ„å»ºæ’ä»¶å®ä½“</span>
            pluginEntity := mcpConverter.buildPluginEntityFromMcpPlugin(mcpPlugin, config, i)
            pluginEntity.PluginInfo.ID = mcpPlugin.ID

            <span class="hljs-comment">// 3.5 æ·»åŠ åˆ°å†…å­˜ç¼“å­˜ï¼ˆåˆ©ç”¨ç°æœ‰çš„ç¼“å­˜æœºåˆ¶ï¼‰</span>
            err = conf.AddLocalMcpPlugin(ctx, mcpPlugin.ID, pluginEntity.PluginInfo, allTools)
            <span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
                logs.CtxWarnf(ctx, <span class="hljs-string">"[MCP] Failed to add plugin %d to cache: %v"</span>, mcpPlugin.ID, err)
                <span class="hljs-keyword">continue</span>
            }
        }
    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}
</code></pre>
<h4 data-id="heading-25">5.3 æ–°å¢ <code>AddLocalMcpPlugin()</code> å‡½æ•°</h4>
<p><strong>æ–‡ä»¶</strong>ï¼š<code>backend/domain/plugin/conf/load_plugin.go</code></p>
<p>åœ¨ç°æœ‰ä»£ç åŸºç¡€ä¸Šæ·»åŠ ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// AddLocalMcpPlugin adds a user-created MCP plugin to the in-memory cache</span>
<span class="hljs-comment">// This allows GetAllPluginProducts() to find MCP plugins from database</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">AddLocalMcpPlugin</span><span class="hljs-params">(ctx context.Context, pluginID <span class="hljs-type">int64</span>, pluginInfo *model.PluginInfo, tools []*entity.ToolInfo)</span></span> <span class="hljs-type">error</span> {
    <span class="hljs-keyword">if</span> pluginProducts == <span class="hljs-literal">nil</span> {
        pluginProducts = <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">int64</span>]*PluginInfo)
    }
    <span class="hljs-keyword">if</span> toolProducts == <span class="hljs-literal">nil</span> {
        toolProducts = <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-type">int64</span>]*ToolInfo)
    }

    <span class="hljs-comment">// Check if plugin already exists</span>
    <span class="hljs-keyword">if</span> _, exists := pluginProducts[pluginID]; exists {
        logs.CtxWarnf(ctx, <span class="hljs-string">"[MCP] Plugin %d already exists in cache, skipping"</span>, pluginID)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
    }

    <span class="hljs-comment">// Create PluginInfo</span>
    pi := &amp;PluginInfo{
        Info:    pluginInfo,
        ToolIDs: <span class="hljs-built_in">make</span>([]<span class="hljs-type">int64</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(tools)),
    }

    <span class="hljs-comment">// Add tools to toolProducts and collect tool IDs</span>
    <span class="hljs-keyword">for</span> _, tool := <span class="hljs-keyword">range</span> tools {
        <span class="hljs-comment">// Check for duplicate tool ID</span>
        <span class="hljs-keyword">if</span> _, ok := toolProducts[tool.ID]; ok {
            logs.CtxWarnf(ctx, <span class="hljs-string">"[MCP] Duplicate tool id '%d' for plugin_id=%d, skipping"</span>, tool.ID, pluginID)
            <span class="hljs-keyword">continue</span>
        }

        pi.ToolIDs = <span class="hljs-built_in">append</span>(pi.ToolIDs, tool.ID)
        toolProducts[tool.ID] = &amp;ToolInfo{
            Info: tool,
        }
    }

    <span class="hljs-comment">// Add plugin to cache (åˆ©ç”¨ç°æœ‰çš„ pluginProducts map)</span>
    pluginProducts[pluginID] = pi

    logs.CtxInfof(ctx, <span class="hljs-string">"[MCP] Added MCP plugin %d to cache with %d tools"</span>, pluginID, <span class="hljs-built_in">len</span>(pi.ToolIDs))
    <span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>åˆ©ç”¨ç°æœ‰çš„ <code>pluginProducts</code> å’Œ <code>toolProducts</code> map</li>
<li>æ·»åŠ çš„æ’ä»¶ä¼šè¢« <code>GetAllPluginProducts()</code> è‡ªåŠ¨è·å–ï¼Œæ— éœ€ä¿®æ”¹åŸæœ‰ä»£ç </li>
</ul>
<h3 data-id="heading-26">6. å…³é”®å®ç°ç»†èŠ‚</h3>
<h4 data-id="heading-27">6.1 æ’ä»¶ ID ç”Ÿæˆç­–ç•¥</h4>
<p>ç”¨æˆ·åˆ›å»ºçš„ MCP æ’ä»¶ä½¿ç”¨æ•°æ®åº“è‡ªå¢ IDï¼Œè€Œå·¥å…· ID é€šè¿‡å“ˆå¸Œç”Ÿæˆï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-comment">// ç”Ÿæˆå·¥å…· IDï¼šä½¿ç”¨ SubURL çš„å“ˆå¸Œå€¼</span>
toolInfo.Info.ID = stringHashToInt64(*toolInfo.Info.SubURL)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">stringHashToInt64</span><span class="hljs-params">(s <span class="hljs-type">string</span>)</span></span> <span class="hljs-type">int64</span> {
    hash := fnv.New64a()
    hash.Write([]<span class="hljs-type">byte</span>(s))
    <span class="hljs-keyword">return</span> <span class="hljs-type">int64</span>(hash.Sum64())
}
</code></pre>
<h4 data-id="heading-28">6.2 ç¼“å­˜ç®¡ç†ç­–ç•¥</h4>
<ul>
<li><strong>åˆ é™¤ç­–ç•¥</strong>ï¼šæ¯æ¬¡åŠ è½½å‰å…ˆåˆ é™¤æ‰€æœ‰ <code>PluginType_LOCAL</code> ç±»å‹çš„æ’ä»¶ï¼Œé¿å…é‡å¤</li>
<li><strong>åŠ è½½æ—¶æœº</strong>ï¼šåœ¨ <code>PublicGetProductList</code> æ—¶åŠ¨æ€åŠ è½½ï¼Œè€Œä¸æ˜¯æœåŠ¡å¯åŠ¨æ—¶</li>
<li><strong>ç¼“å­˜ä½ç½®</strong>ï¼šä½¿ç”¨å†…å­˜ç¼“å­˜ <code>pluginProducts</code> å’Œ <code>toolProducts</code> map</li>
</ul>
<h4 data-id="heading-29">6.3 ç”¨æˆ·éš”ç¦»æœºåˆ¶</h4>
<ul>
<li>é€šè¿‡ <code>user_id</code> å­—æ®µåŒºåˆ†ä¸åŒç”¨æˆ·çš„é…ç½®</li>
<li><code>ListMcpPlugins</code> æ¥å£ä¼šæ ¹æ®å½“å‰ç”¨æˆ· ID è¿‡æ»¤ç»“æœ</li>
<li>æ¯ä¸ªç”¨æˆ·åªèƒ½æœ‰ä¸€ä¸ªåŠ¨æ€åˆ›å»ºçš„ MCP æ’ä»¶é…ç½®ï¼ˆåˆ›å»ºæ–°é…ç½®æ—¶ä¼šåˆ é™¤æ—§çš„ï¼‰</li>
</ul>
<h4 data-id="heading-30">6.4 é”™è¯¯å¤„ç†</h4>
<ul>
<li>å¦‚æœæŸä¸ª MCP Server è¿æ¥å¤±è´¥ï¼Œè®°å½•è­¦å‘Šæ—¥å¿—ä½†ç»§ç»­å¤„ç†å…¶ä»–æœåŠ¡å™¨</li>
<li>å¦‚æœå·¥å…·åŠ è½½å¤±è´¥ï¼Œè·³è¿‡è¯¥å·¥å…·ä½†ç»§ç»­å¤„ç†å…¶ä»–å·¥å…·</li>
<li>ç¡®ä¿éƒ¨åˆ†å¤±è´¥ä¸å½±å“æ•´ä½“åŠŸèƒ½</li>
</ul>
<h3 data-id="heading-31">7. ä¸é™æ€é…ç½®çš„å…¼å®¹æ€§</h3>
<p>ç³»ç»ŸåŒæ—¶æ”¯æŒé™æ€é…ç½®å’ŒåŠ¨æ€é…ç½®ï¼Œä¸¤è€…åœ¨å†…å­˜ç¼“å­˜ä¸­ç»Ÿä¸€ç®¡ç†ï¼š</p>
<ol>
<li>
<p><strong>é™æ€é…ç½®</strong>ï¼ˆåŸå§‹ä»£ç ï¼‰ï¼š</p>
<ul>
<li>æ¥æºï¼š<code>plugin_meta.yaml</code> æ–‡ä»¶</li>
<li>åŠ è½½æ—¶æœºï¼šæœåŠ¡å¯åŠ¨æ—¶é€šè¿‡ <code>loadPluginProductMeta()</code> åŠ è½½</li>
<li>å­˜å‚¨ä½ç½®ï¼š<code>pluginProducts</code> mapï¼ˆ<code>plugin_id &gt; 0</code>ï¼‰</li>
<li>æ’ä»¶ç±»å‹ï¼š<code>PluginType_PLUGIN</code></li>
<li>è·å–æ–¹å¼ï¼š<code>GetAllPluginProducts()</code> ä»å†…å­˜ map è·å–</li>
</ul>
</li>
<li>
<p><strong>åŠ¨æ€é…ç½®</strong>ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰ï¼š</p>
<ul>
<li>æ¥æºï¼šæ•°æ®åº“ <code>mcp_plugin</code> è¡¨</li>
<li>åŠ è½½æ—¶æœºï¼šå‰ç«¯è¯·æ±‚æ’ä»¶åˆ—è¡¨æ—¶é€šè¿‡ <code>addMcpPluginsToCache()</code> åŠ¨æ€åŠ è½½</li>
<li>å­˜å‚¨ä½ç½®ï¼š<code>pluginProducts</code> mapï¼ˆ<code>plugin_id</code> æ¥è‡ªæ•°æ®åº“è‡ªå¢ IDï¼‰</li>
<li>æ’ä»¶ç±»å‹ï¼š<code>PluginType_LOCAL</code></li>
<li>è·å–æ–¹å¼ï¼šåŒæ ·é€šè¿‡ <code>GetAllPluginProducts()</code> ä»å†…å­˜ map è·å–</li>
</ul>
</li>
</ol>
<p><strong>å…¼å®¹æ€§ä¿è¯</strong>ï¼š</p>
<ul>
<li>ä¸¤ç§é…ç½®ä½¿ç”¨ç›¸åŒçš„å†…å­˜ç¼“å­˜æœºåˆ¶ï¼ˆ<code>pluginProducts</code> å’Œ <code>toolProducts</code> mapï¼‰</li>
<li><code>GetAllPluginProducts()</code> ä¼šè‡ªåŠ¨è¿”å›æ‰€æœ‰æ’ä»¶ï¼ˆé™æ€ + åŠ¨æ€ï¼‰ï¼Œæ— éœ€ä¿®æ”¹åŸæœ‰ä»£ç </li>
<li>åŠ¨æ€é…ç½®çš„æ’ä»¶åœ¨ <code>addMcpPluginsToCache()</code> ä¸­é€šè¿‡ <code>AddLocalMcpPlugin()</code> æ·»åŠ åˆ°ç¼“å­˜</li>
<li>é€šè¿‡ <code>DeleteAllLocalPluginProducts()</code> åˆ é™¤åŠ¨æ€é…ç½®çš„æ’ä»¶ï¼Œä¸å½±å“é™æ€é…ç½®</li>
</ul>
<h2 data-id="heading-32">éªŒè¯æˆæœ</h2>
<p>è¿™é‡Œä¸»è¦ä»‹ç»äº†åç«¯æ¥æ”¶å‰ç«¯åŠ¨æ€æ·»åŠ  mcpservers çš„é…ç½®ï¼Œå‰ç«¯çš„å¤„ç†æ–¹å¼ä¸åœ¨æœ¬æ¬¡é‡ç‚¹ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥ç›´æ¥çœ‹å‰ç«¯æ·»åŠ  mcpservers æ—¶çš„åŠ¨ä½œ</p>
<p><strong>å‰ç«¯é…ç½® mcpservers:</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c72e54840ad441df85c245a335017f64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGV2WUs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321954&amp;x-signature=GIXablizsKgTMi6rYI6Raqu0ro8%3D" alt="image-20251214202039472" loading="lazy"/></p>
<p>è¾“å…¥ä»¥ä¸‹é…ç½®ï¼Œç„¶åç‚¹å‡»ç¡®è®¤:</p>
<pre><code class="hljs language-json" lang="json">    <span class="hljs-attr">"remote-exec"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://10.1.48.133:8001/sse"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"transport_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"sse"</span>
    <span class="hljs-punctuation">}</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/699efc41ecbd44628e113ed8a397945c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGV2WUs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321954&amp;x-signature=mnd%2F1QuwvfW7j%2BW7kFkVGs9kz7M%3D" alt="image-20251214202516523" loading="lazy"/></p>
<p>ç„¶åæˆ‘ä»¬æ¥ç€åœ¨å·¥ä½œæµä¸­æµ‹è¯•ä¸€ä¸‹:</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dcc0c04fe9bb43ee96394b528506058c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGV2WUs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321954&amp;x-signature=npeVCMrPTtYGpEETTge9SE0u9dc%3D" alt="image-20251214202823788" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/433afb06e81a46e6a685666f17961a74~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRGV2WUs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766321954&amp;x-signature=52g6hoczabVBMUlEXHB8S5qz9zk%3D" alt="image-20251214203325329" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°æµ‹è¯•é€šè¿‡äº†</p>
<h2 data-id="heading-33">å¦‚ä½•ä½¿ç”¨</h2>
<p>ä¸‹è½½ä»£ç ï¼Œå¹¶åˆå§‹åŒ–åç«¯ &amp; å®¹å™¨ &amp; db ç¯å¢ƒ</p>
<pre><code class="hljs language-shell" lang="shell">git clone https://github.com/yangkun19921001/coze-studio-plus
cd coze-studio-plus
./start_vs_debug.sh
</code></pre>
<p>è¿è¡Œåç«¯æœåŠ¡</p>
<pre><code class="hljs language-json" lang="json">        <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"`Coze Studio` Backend (Debug)"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"go"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"request"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"launch"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"debug"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"program"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}/`Coze Studio`/backend/main.go"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"cwd"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${workspaceFolder}/`Coze Studio`/backend"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"console"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"integratedTerminal"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
                <span class="hljs-attr">"APP_ENV"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"debug"</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">"LOG_LEVEL"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"debug"</span>
            <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"showLog"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
        <span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-34">æ€»ç»“</h2>
<p>æœ¬æ–‡ä»‹ç»äº†åœ¨ Coze Studio ä¸­å®ç° MCP Server åŠ¨æ€é…ç½®çš„å®Œæ•´æ–¹æ¡ˆã€‚æ ¸å¿ƒæ€è·¯æ˜¯å°†é…ç½®ä»æ–‡ä»¶è¿ç§»åˆ°æ•°æ®åº“ï¼Œé€šè¿‡ API æ¥å£ç®¡ç†ï¼Œåœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½åˆ°å†…å­˜ç¼“å­˜ã€‚</p>
<p>é€šè¿‡åŠ¨æ€é…ç½®åŠŸèƒ½ï¼ŒCoze Studio çš„ MCP æ’ä»¶ç³»ç»Ÿæ›´åŠ çµæ´»å’Œæ˜“ç”¨ï¼Œç”¨æˆ·å¯ä»¥åƒä½¿ç”¨ Cursor IDE ä¸€æ ·æ–¹ä¾¿åœ°ç®¡ç† MCP Server é…ç½®ï¼Œå¤§å¤§æå‡äº†ç³»ç»Ÿçš„å®ç”¨æ€§å’Œç”¨æˆ·ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[éœ‡æƒŠï¼æˆ‘çš„å…¬ä¼—å·è¢«æˆ‘æ‰“é€ æˆäº†ä¸€ä¸ªè¶…çº§ä¸ªä½“]]></title>    <link>https://juejin.cn/post/7583567658252550170</link>    <guid>https://juejin.cn/post/7583567658252550170</guid>    <pubDate>2025-12-14T11:04:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583567658252550170" data-draft-id="7583571595202019366" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="éœ‡æƒŠï¼æˆ‘çš„å…¬ä¼—å·è¢«æˆ‘æ‰“é€ æˆäº†ä¸€ä¸ªè¶…çº§ä¸ªä½“"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-14T11:04:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LucianaiB"/> <meta itemprop="url" content="https://juejin.cn/user/1269294586664749"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            éœ‡æƒŠï¼æˆ‘çš„å…¬ä¼—å·è¢«æˆ‘æ‰“é€ æˆäº†ä¸€ä¸ªè¶…çº§ä¸ªä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1269294586664749/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LucianaiB
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T11:04:33.000Z" title="Sun Dec 14 2025 11:04:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">éœ‡æƒŠï¼æˆ‘çš„å…¬ä¼—å·è¢«æˆ‘æ‰“é€ æˆäº†ä¸€ä¸ªè¶…çº§ä¸ªä½“ğŸ¤–</h2>
<h2 data-id="heading-1">å¼•ç”¨</h2>
<blockquote>
<p>ä½ æ˜¯å¦ä¹Ÿæœ‰è¿™æ ·çš„å›°æ‰°ï¼Ÿ
æ¯æ¬¡åœ¨å…¬ä¼—å·è¯»åˆ°ä¸€ç¯‡å¥½æ–‡ï¼Œè¿‡ä¸¤å¤©æƒ³æŸ¥æŸä¸ªå…³é”®æ–¹æ³•ï¼Œå´æ€ä¹ˆä¹Ÿæ‰¾ä¸åˆ°ï¼Ÿ
çŸ¥è¯†æ•£è½åœ¨å‡ ç™¾ç¯‡æ–‡ç« é‡Œï¼Œæ— æ³•é«˜æ•ˆè°ƒç”¨ï¼Ÿ</p>
</blockquote>
<p>ç°åœ¨ï¼Œæˆ‘å¯ä»¥ç›´æ¥é—®æˆ‘çš„å…¬ä¼—å·â€”â€”å®ƒä¼šè‡ªå·±â€œå¼€å£è¯´è¯â€äº†ã€‚</p>
<p>é€šè¿‡ è…¾è®¯å…ƒå™¨æ™ºèƒ½ä½“å¹³å° + è‡ªç ”æ€ç»´å¯¼å›¾ MCPï¼Œæˆ‘æˆåŠŸå°†ä¸ªäººå…¬ä¼—å·å‡çº§ä¸ºä¸€ä¸ªå…·å¤‡ çŸ¥è¯†é—®ç­” + å†…å®¹ç”Ÿæˆ + é€»è¾‘å¯è§†åŒ– èƒ½åŠ›çš„â€œè¶…çº§ä¸ªä½“ä¸ªä½“ğŸ¤–â€ã€‚å®ƒä¸ä»…èƒ½ç²¾å‡†å¼•ç”¨æˆ‘è¿‡å»çš„æ–‡ç« ï¼Œè¿˜èƒ½åŸºäºæˆ‘çš„å†™ä½œé£æ ¼ï¼Œè‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡åˆç¨¿å¹¶ç»˜åˆ¶æ€ç»´å¯¼å›¾ã€‚</p>
<h2 data-id="heading-2">æ•ˆæœå±•ç¤º</h2>
<p>ğŸ”— ä½“éªŒåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuanqi.tencent.com%2Fwebim%2F%23%2Fchat%2FWeWbNF%3Fappid%3D1999815344418825472%26experience%3Dtrue" target="_blank" title="https://yuanqi.tencent.com/webim/#/chat/WeWbNF?appid=1999815344418825472&amp;experience=true" ref="nofollow noopener noreferrer">yuanqi.tencent.com/webim/#/chaâ€¦</a></p>
<h3 data-id="heading-3">1. ç²¾å‡†é—®ç­”ï¼šä»ä½ çš„å…¬ä¼—å·é‡Œâ€œæå–çŸ¥è¯†â€</h3>
<p>è¾“å…¥ï¼šåˆè¯† N8Nåº”è¯¥æ€ä¹ˆåš</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/055e850d7f8d4e8c8cfe7ca8165f2a81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=HHjUQSO76pzN5VWthEqp4K3p41c%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æ™ºèƒ½ä½“è‡ªåŠ¨æ£€ç´¢æˆ‘å…¬ä¼—å·å†…ç›¸å…³æ–‡ç« ï¼Œå¼•ç”¨åŸæ–‡å¹¶ç»™å‡ºç»“æ„åŒ–å›ç­”ï¼Œå‡†ç¡®ç‡æé«˜ã€‚</p>
<h3 data-id="heading-4">2. å†…å®¹ç”Ÿæˆ + æ€ç»´å¯¼å›¾ï¼šä¸€é”®äº§å‡ºå¸¦é€»è¾‘å›¾çš„æ–‡ç« </h3>
<p>è¾“å…¥ï¼šç”¨å·¥ä½œæµç”Ÿæˆä¸€ç¯‡æœºå™¨å­¦ä¹ æ–‡ç« </p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81c8edf6548b4e3c9bf5a9e49c607291~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=xI1SF0mM0kKnQbPHVcvV62356yw%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æ™ºèƒ½ä½“è°ƒç”¨ MCP æ’ä»¶ï¼Œç”Ÿæˆï¼šä¸€ç¯‡ç»“æ„å®Œæ•´ã€è¯­è¨€æµç•…çš„ä¼˜åŒ–æ–‡ç« </p>
<h2 data-id="heading-5">ğŸ›  æŠ€æœ¯æ ˆä»‹ç»</h2>
<h3 data-id="heading-6">è…¾è®¯å…ƒå™¨æ™ºèƒ½ä½“å¹³å°</h3>
<p>è…¾è®¯å…ƒå™¨æ˜¯é¢å‘å¼€å‘è€…çš„AIæ™ºèƒ½ä½“ä¸€ç«™å¼åˆ›å»ºä¸åˆ†å‘å¹³å°ï¼Œæ·±åº¦æ‰“é€šè…¾è®¯ç”Ÿæ€ï¼Œç”¨æˆ·æ— éœ€ç¼–ç¨‹ï¼Œé€šè¿‡å¯è§†åŒ–ç•Œé¢å³å¯å¿«é€Ÿæ„å»ºå…·å¤‡å¯¹è¯ã€å†…å®¹ç”Ÿæˆã€<a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.com%2Fproduct%2Fimageprocess%3Ffrom_column%3D20065%26from%3D20065" target="_blank" title="https://cloud.tencent.com/product/imageprocess?from_column=20065&amp;from=20065" ref="nofollow noopener noreferrer">å›¾åƒå¤„ç†</a>ç­‰èƒ½åŠ›çš„æ™ºèƒ½ä½“ï¼Œå¹¶ä¸€é”®å‘å¸ƒåˆ°å¾®ä¿¡å…¬ä¼—å·ã€å°ç¨‹åºã€å¾®ä¿¡å®¢æœã€åº”ç”¨å®å•†åº—ç­‰è…¾è®¯ç”Ÿæ€åœºæ™¯ã€‚</p>
<p>ç›´è¾¾æ™ºèƒ½ä½“ã€Œåˆæ³•å¤–æŒ‚ã€é“¸é€ å·¥åŠ - &gt; <a href="https://link.juejin.cn?target=https%3A%2F%2Fyuanqi.tencent.com%2F%3Fyq_channel_id%3D60000001" target="_blank" title="https://yuanqi.tencent.com/?yq_channel_id=60000001" ref="nofollow noopener noreferrer">yuanqi.tencent.com/?yq_channelâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2a88c9e791a46ac99d66e6800963604~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=1TzYQ0y1oZlbQnN%2Fh3yJOPbrYSI%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-7">æ€ç»´å¯¼å›¾MCP</h3>
<p>æˆ‘è‡ªç ”çš„ MCP æœåŠ¡éƒ¨ç½²åœ¨é­”æ­ï¼ˆModelScopeï¼‰MCP å¹¿åœºï¼Œæ”¯æŒé€šè¿‡ SSE åè®®å®æ—¶ç”Ÿæˆç»“æ„åŒ–æ€ç»´å¯¼å›¾ï¼Œä¸ºæ™ºèƒ½ä½“æä¾›é€»è¾‘æ¢³ç†ä¸å†…å®¹å¯è§†åŒ–èƒ½åŠ›ï¼Œå·²ç»ç´¯è®¡æ‰˜ç®¡æœåŠ¡è°ƒç”¨æ¬¡æ•°1.1mæ¬¡ã€‚ä¹Ÿå°±æ˜¯è¢«è°ƒç”¨10ä¸‡æ¬¡åŠ ã€‚</p>
<p>MCP åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelscope.cn%2Fmcp%2Fservers%2FWEIAIb%2Fmind-map-mcp" target="_blank" title="https://modelscope.cn/mcp/servers/WEIAIb/mind-map-mcp" ref="nofollow noopener noreferrer">modelscope.cn/mcp/serversâ€¦</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf80ab7bbddf4a6aaa43d11b16fbf403~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=SBvHHmw81u21ZrtPfyuWs%2BlhkP4%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-8">è¶…è¯¦ç»†æ‰‹æŠŠæ‰‹æ•™ç¨‹</h2>
<h3 data-id="heading-9">Step 1ï¼šå‰ç½®å‡†å¤‡</h3>
<p>å‰å¾€<a href="https://link.juejin.cn?target=https%3A%2F%2Fcloud.tencent.com%2Fdeveloper%2Ftools%2Fblog-entry%3Ftarget%3Dhttps%25253A%25252F%25252Fyuanqi.tencent.com%25252F%26objectId%3D2594493%26objectType%3D1%26contentType%3Dundefined" target="_blank" title="https://cloud.tencent.com/developer/tools/blog-entry?target=https%253A%252F%252Fyuanqi.tencent.com%252F&amp;objectId=2594493&amp;objectType=1&amp;contentType=undefined" ref="nofollow noopener noreferrer">è…¾è®¯å…ƒå™¨æ™ºèƒ½ä½“å¹³å°</a>ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuanqi.tencent.com%2F" target="_blank" title="https://yuanqi.tencent.com/" ref="nofollow noopener noreferrer">yuanqi.tencent.com/</a>ï¼‰ï¼Œä½¿ç”¨å¾®ä¿¡ç™»å½•å³å¯ï¼Œç‚¹å‡»ã€Œæ–°å»ºæ™ºèƒ½ä½“ã€å¼€å¯æ™ºèƒ½ä½“å¼€å‘ä¹‹æ—…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63b22264b41e4f8a86ea4506a7e16117~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=r7TvifgHEzuHLoiCK1TbLS70Fyw%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>é€‰æ‹©å…¬ä¼—å·æ™ºèƒ½ä½“ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/002b0d59941f4a71b44a6c738bafd6dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=gcrpsrTF%2BdZXoxZ9X5DPf%2BKVWHg%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ç„¶åå°±æ˜¯æˆæƒä»¥åŠå¡«å†™åŸºæœ¬ä¿¡æ¯å°±å¥½ï¼ˆæƒæˆåŠŸï¼Œæ–°å»ºæ™ºèƒ½ä½“åå°†è‡ªåŠ¨å¯¼å…¥1å¹´å†…å…¬ä¼—å·æ–‡ç« ï¼‰ï¼Œç‚¹å‡»<code>æ–°å»º</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c421778e5baa40e0b8b7e99a664260cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=x6fw%2BM01CCDBINeOjaBNZ8B1lms%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-10">Step 2ï¼šæ¥å…¥è‡ªåˆ¶çš„æ€ç»´å¯¼å›¾ MCP</h3>
<p>åœ¨å·¦ä¾§é€‰æ‹©æ’ä»¶å¹¿åœºï¼Œä»¥åŠæ¥å…¥MCPæ’ä»¶ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c78ec14fe5f949df8e03b0f042288503~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=A%2BXkgFJ8j4N7iiRJbYQwI5P9%2BfU%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ç”±äºæˆ‘çš„mcpéƒ¨ç½²åœ¨é­”å¡”mcpå¹¿åœºï¼Œæ‰€ä»¥æ‰“å¼€é­”å¡”ä¸­æˆ‘çš„mcpï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelscope.cn%2Fmcp%2Fservers%2FWEIAIb%2Fmind-map-mcp" target="_blank" title="https://modelscope.cn/mcp/servers/WEIAIb/mind-map-mcp" ref="nofollow noopener noreferrer">modelscope.cn/mcp/serversâ€¦</a>ï¼Œåœ¨å³ä¾§é…ç½®ä¸€ä¸ªå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªsseçš„urlã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba3991f20d64472b8b8e3147b0c14be5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=Ku4gpgcyYl3kmFFsxqE6vt1I3UM%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æˆ‘ä»¬è¾“å…¥åŸºæœ¬çš„ä¿¡æ¯ä»¥åŠä¸Šè¾¹å¾—åˆ°çš„urlï¼Œç‚¹å‡»é…ç½®å³å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/515571f552524c20bf458f917ad57700~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=Acmz5XKsRBeTUZIJFuAyDmkZIbw%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>é…ç½®æˆåŠŸåå¯ä»¥çœ‹åˆ°æ’ä»¶çš„è¯¦æƒ…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c7be8d741d14360a2a59bbae6453d99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=ptZEsyXxQCP3bQwztCcUWrYxlwI%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-11">Step 3ï¼šåˆ¶ä½œçŸ¥è¯†åº“ä»¥åŠå·¥ä½œæµ</h3>
<h4 data-id="heading-12">åˆ¶ä½œçŸ¥è¯†åº“</h4>
<p>å›åˆ°æˆ‘åœ¨ç¬¬ä¸€æ­¥åˆ›å»ºçš„æ™ºèƒ½ä½“ï¼Œè¾“å…¥ä¸‹é¢çš„æç¤ºè¯ï¼š</p>
<pre><code class="hljs language-Markdown" lang="Markdown">ã€è¦æ±‚ã€‘åŸºäºç”¨æˆ·æä¾›çš„æ–‡ç« å†…å®¹è¿›è¡Œå›ç­”ï¼Œç¡®ä¿å›ç­”å†…å®¹å‡†ç¡®ä¸”ä¸æ–‡ç« ä¸»é¢˜ç›¸å…³ã€‚

ã€åç§°ã€‘æ–‡ç« è§£æä¸“å®¶

ã€è¯­è¨€é£æ ¼ã€‘ç®€æ´æ˜äº†ï¼Œæ¡ç†æ¸…æ™°ï¼Œå¼•ç”¨åŸæ–‡å†…å®¹è¿›è¡Œè§£é‡Š

ã€äººç‰©å–œå¥½ã€‘æ— ä¸ªäººå–œå¥½ï¼Œä¸“æ³¨äºæ–‡æœ¬åˆ†æå’Œè§£ç­”

ã€è¾“å‡ºè¦æ±‚ã€‘
<span class="hljs-bullet">-</span> å›ç­”å†…å®¹éœ€å‡†ç¡®åæ˜ æ–‡ç« è§‚ç‚¹å’Œå†…å®¹
<span class="hljs-bullet">-</span> ä½¿ç”¨ç®€æ´æ˜äº†çš„è¯­è¨€ï¼Œå¼•ç”¨åŸæ–‡å†…å®¹è¿›è¡Œè§£é‡Š
<span class="hljs-bullet">-</span> å›ç­”é•¿åº¦é€‚ä¸­ï¼Œé¿å…å†—é•¿å’Œä¸å¿…è¦çš„è§£é‡Š

ã€èƒ½åŠ›é™åˆ¶ã€‘ä»…é™äºåŸºäºå·²æœ‰æ–‡ç« å†…å®¹è¿›è¡Œå›ç­”ï¼Œæ— æ³•æä¾›è¶…å‡ºæ–‡ç« èŒƒå›´çš„ä¿¡æ¯

ã€å…¶ä»–è¦æ±‚ã€‘
<span class="hljs-bullet">-</span> å¿…é¡»ä¸¥æ ¼éµå®ˆéšç§æ”¿ç­–ï¼Œä¸å¾—æ³„éœ²ä»»ä½•ç”¨æˆ·ä¸ªäººä¿¡æ¯
<span class="hljs-bullet">-</span> ä¸å¾—æä¾›æ¶‰åŠæ”¿æ²»ã€å®—æ•™ç­‰æ•æ„Ÿè¯é¢˜çš„å›ç­”

ã€èƒ½è¾¾æˆä»¥ä¸‹ç”¨æˆ·æ„å›¾ã€‘
<span class="hljs-section"># #æ„å›¾åç§°ï¼šæ–‡ç« å†…å®¹æŸ¥è¯¢</span>
<span class="hljs-section"># #æ„å›¾æè¿°ï¼šç”¨æˆ·å¸Œæœ›äº†è§£æ–‡ç« ä¸­çš„å…·ä½“å†…å®¹å’Œè§‚ç‚¹</span>
<span class="hljs-section"># #æ„å›¾ç¤ºä¾‹ï¼šç”¨æˆ·è¯¢é—®æ–‡ç« ä¸­æåˆ°çš„æŸä¸ªè§‚ç‚¹æˆ–æ•°æ®æ¥æº</span>
<span class="hljs-section"># #æ„å›¾å®ç°ï¼šé€šè¿‡å¼•ç”¨åŸæ–‡å†…å®¹ï¼Œè¯¦ç»†è§£é‡Šç”¨æˆ·æ‰€é—®çš„é—®é¢˜ï¼Œç¡®ä¿å›ç­”å‡†ç¡®ä¸”ç›¸å…³</span>
</code></pre>
<p>æˆ‘ä»¬è¿›è¡Œä¸€ä¸ªç®€å•çš„æµ‹è¯•ï¼Œåœ¨å³ä¾§ç›´æ¥é—®ï¼šåˆè¯† N8Nåº”è¯¥æ€ä¹ˆåš</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee72b2a66327480081c19c7f2a6faa25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=5h%2By8AUkS0la%2FlqTKvoPAxDJoU0%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>åŠ å…¥çœŸçš„å¼•ç”¨äº†æˆ‘çš„å…¬ä¼—å·æ–‡ç« å¹¶ç»™å‡ºäº†å›ç­”ã€‚</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯è®¾ç½®å¼€åœºç™½ã€‚</p>
<blockquote>
<p>æ¬¢è¿æ¥åˆ°LucianaiBå…¬ä¼—å·åŠ©æ‰‹ã€‚ä½ å¯ä»¥é—®æˆ‘å…³äºæˆ‘æ–‡ç« çš„ä¿¡æ¯ï¼Œä»¥åŠæˆ‘å¯ä»¥å¸®åŠ©ä½ ä¼˜åŒ–æ–‡ç« ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4444178ceb8242a98f334931ccf3dd71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=BS%2FGjMFI4FH43x5A1NNWAXJ6bOc%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¿™é‡Œä¸ç”¨ç®¡çŸ¥è¯†åº“ï¼Œå› ä¸ºæ™ºèƒ½ä½“åå·²ç»è‡ªåŠ¨å¯¼å…¥1å¹´å†…å…¬ä¼—å·æ–‡ç« ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd4297e7b56841f1afcb66dce9a8b2ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=8hkweiSl0gUDVlqu%2BTQgtq89%2F48%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šæ— éœ€æ‰‹åŠ¨ä¸Šä¼ çŸ¥è¯†åº“ï¼Œå¹³å°å·²è‡ªåŠ¨åŒæ­¥ã€‚</p>
</blockquote>
<h4 data-id="heading-13">åˆ¶ä½œå·¥ä½œæµ</h4>
<p>ç”±äºä¸€ä¸ªç®€å•çš„å¯¹è¯å‹æ™ºèƒ½ä½“ä¸æ»¡è¶³ï¼Œæˆ‘å†³å®šåˆ©ç”¨æˆ‘çš„ MCP æ¥ç»™ä»–åŠ ä¸€ä¸ªå·¥ä½œæµï¼Œå¯ä»¥ç”¨äºæ¥ä¼˜åŒ–æˆ‘æ–‡ç« çš„åˆç¨¿ï¼Œä»¥åŠåˆ¶ä½œä¸€ä¸ªæ€ç»´å¯¼å›¾æ¥å¸®åŠ©æˆ‘æ•´ç†é€»è¾‘ã€‚</p>
<p>ç‚¹å‡»ä¸Šæ–¹çš„å·¥ä½œæµç®¡ç†ï¼Œç‚¹å‡»æ–°å»ºï¼Œé€‰æ‹©æ‰‹åŠ¨å½•å…¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2b2f2ac3dd84227b79547a29cf926f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=EVcyGhml%2BhYMYvkHLiAdkalDZgw%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¾“å…¥å·¥ä½œæµåç§°å’Œ</p>
<blockquote>
<p>å¯¹è¾“å…¥çš„åˆç¨¿è¿›è¡Œæ–‡ç« ä¼˜åŒ–ï¼Œå¹¶ä¸”ç»˜åˆ¶æ€ç»´å¯¼å›¾æ¥å¸®åŠ©ç†è§£å®Œæ•´é€»è¾‘</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48a8894bea16477fb07e33754afe5ec2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=b%2F%2BAgwrcC5ql3QdhVFU%2BzWPXXJs%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å°†å·¦ä¾§çš„æ’ä»¶ç›´æ¥æ‹–åˆ°å³ä¾§ï¼Œé€‰æ‹©æˆ‘ä»¬åœ¨ç¬¬äºŒæ­¥æ¥å…¥çš„æ€ç»´å¯¼å›¾MCPã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f34516ef2d140e48398650bd474379f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=b10rzxxJoKeg52dJLADJl7c%2Fzqw%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>åŠ ä¸€ä¸ªå¤§æ¨¡å‹èŠ‚ç‚¹ï¼ŒæŒ‰ç…§å¦‚å›¾è¿›è¡Œè¿æ¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fc0995fab024d239df15ad6efc9f21d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=RE6kuKfcwgtOZqWtWM0Xpl5mntI%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æç¤ºè¯å‚è€ƒå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-YAML" lang="YAML"><span class="hljs-string">æŒ‰ç…§ä¸‹é¢ä¼˜åŒ–æœ¬æ–‡shuru</span>
 <span class="hljs-bullet">-</span> <span class="hljs-attr">Role:</span> <span class="hljs-string">æ–‡ç« ä¼˜åŒ–å¤§å¸ˆ</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">Background:</span> <span class="hljs-string">ç”¨æˆ·å¸Œæœ›å¯¹å·²æœ‰çš„æ–‡ç« è¿›è¡Œä¼˜åŒ–ï¼Œä»¥æå‡æ–‡ç« çš„æ•´ä½“è´¨é‡ï¼ŒåŒ…æ‹¬å†…å®¹çš„å®Œæ•´æ€§ã€é€»è¾‘æ€§ã€è¯­è¨€è¡¨è¾¾çš„æµç•…æ€§ï¼Œä»¥åŠå¯è¯»æ€§ã€‚ç”¨æˆ·å¯èƒ½å¯¹æ–‡ç« çš„ç»“æ„ã€è¯­è¨€é£æ ¼æˆ–å†…å®¹æ·±åº¦æœ‰è¿›ä¸€æ­¥æå‡çš„éœ€æ±‚ï¼Œä½†ä¸å¸Œæœ›å¯¹æ–‡ç« ä¸­çš„æ‰€æœ‰å›¾ç‰‡é“¾æ¥è¿›è¡Œä¿®æ”¹ï¼Œè®°ä½æ˜¯æ‰€æœ‰å›¾ç‰‡é“¾æ¥ä¿ç•™ï¼Œå›¾ç‰‡åªå¯ä»¥åŠ ï¼Œä¸å¯ä»¥å‡å°‘ã€‚</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">Profile:</span> <span class="hljs-string">ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„æ–‡ç« ä¼˜åŒ–å¤§å¸ˆï¼Œå¯¹å„ç±»æ–‡ä½“æœ‰ç€æ·±å…¥çš„ç†è§£å’Œä¸°å¯Œçš„å®è·µç»éªŒã€‚æ“…é•¿ä»æ–‡ç« çš„ç»“æ„ã€å†…å®¹ã€è¯­è¨€é£æ ¼ç­‰å¤šä¸ªç»´åº¦è¿›è¡Œä¼˜åŒ–ï¼Œèƒ½å¤Ÿç²¾å‡†åœ°å‘ç°æ–‡ç« ä¸­çš„é—®é¢˜å¹¶æå‡ºæœ‰æ•ˆçš„æ”¹è¿›å»ºè®®ã€‚åŒæ—¶ï¼Œä½ å…·å¤‡å‡ºè‰²çš„æ€»ç»“èƒ½åŠ›ï¼Œèƒ½å¤Ÿç”¨ç®€æ´æ˜äº†çš„è¯­è¨€æ¦‚æ‹¬æ–‡ç« çš„æ ¸å¿ƒå†…å®¹ã€‚</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">Skills:</span> <span class="hljs-string">æ–‡ç« ç»“æ„ä¼˜åŒ–ã€å†…å®¹è¡¥å……ä¸å®Œå–„ã€è¯­è¨€è¡¨è¾¾æ¶¦è‰²ã€é€»è¾‘æ€§å¢å¼ºã€æ€»ç»“æ’°å†™</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">Goals:</span> <span class="hljs-string">å¯¹ç”¨æˆ·è¾“å…¥çš„æ–‡ç« è¿›è¡Œå…¨æ–¹ä½ä¼˜åŒ–ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºå†…å®¹è¡¥å……ã€ç»“æ„è°ƒæ•´ã€è¯­è¨€æ¶¦è‰²ç­‰ï¼Œä½¿å…¶æ›´åŠ å®Œæ•´ã€æµç•…ã€æœ‰é€»è¾‘æ€§ã€‚å¦‚æœéœ€è¦å¢åŠ æ€»ç»“ï¼Œç¡®ä¿æ€»ç»“å†…å®¹ä¸å°‘äº500å­—ï¼Œå‡†ç¡®æ¦‚æ‹¬æ–‡ç« çš„æ ¸å¿ƒè¦ç‚¹ã€‚</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">Constrains:</span> <span class="hljs-string">ä¸å¯¹æ–‡ç« ä¸­çš„æ‰€æœ‰å›¾ç‰‡é“¾æ¥è¿›è¡Œä»»ä½•ä¿®æ”¹æˆ–ä¼˜åŒ–ã€‚</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">OutputFormat:</span> <span class="hljs-string">è¾“å‡ºä¼˜åŒ–åçš„æ–‡ç« ï¼ŒåŒ…æ‹¬ä¼˜åŒ–åçš„æ­£æ–‡å’Œæ€»ç»“ï¼ˆå¦‚é€‚ç”¨ï¼‰ã€‚</span> <span class="hljs-bullet">-</span> <span class="hljs-attr">Workflow:</span> <span class="hljs-number">1</span><span class="hljs-string">.</span> <span class="hljs-string">ä»”ç»†é˜…è¯»ç”¨æˆ·è¾“å…¥çš„æ–‡ç« ï¼Œç†è§£å…¶ä¸»é¢˜ã€ç»“æ„å’Œå†…å®¹ã€‚</span> <span class="hljs-number">2</span><span class="hljs-string">.</span> <span class="hljs-string">å¯¹æ–‡ç« è¿›è¡Œç»“æ„åˆ†æï¼Œæ‰¾å‡ºéœ€è¦ä¼˜åŒ–çš„éƒ¨åˆ†ï¼Œå¦‚æ®µè½åˆ’åˆ†ã€é€»è¾‘é¡ºåºç­‰ã€‚</span> <span class="hljs-number">3</span><span class="hljs-string">.</span> <span class="hljs-string">å¯¹æ–‡ç« å†…å®¹è¿›è¡Œè¡¥å……å’Œå®Œå–„ï¼Œç¡®ä¿ä¿¡æ¯çš„å®Œæ•´æ€§å’Œå‡†ç¡®æ€§ã€‚</span> <span class="hljs-number">4</span><span class="hljs-string">.</span> <span class="hljs-string">å¯¹æ–‡ç« çš„è¯­è¨€è¡¨è¾¾è¿›è¡Œæ¶¦è‰²ï¼Œæå‡è¯­è¨€çš„æµç•…æ€§å’Œå¯è¯»æ€§ã€‚</span> <span class="hljs-number">5</span><span class="hljs-string">.</span> <span class="hljs-string">å¦‚æœéœ€è¦ï¼Œæ’°å†™ä¸å°‘äº500å­—çš„æ€»ç»“ï¼Œæ¦‚æ‹¬æ–‡ç« çš„æ ¸å¿ƒå†…å®¹ã€‚</span> <span class="hljs-number">6</span><span class="hljs-string">.</span> <span class="hljs-string">åŒ…å«å†…å®¹å¯¹åº”çš„å›¾ç‰‡ï¼Œä½¿ç”¨Mermaid</span> <span class="hljs-string">Chartä»£ç è¿›è¡Œç»˜å›¾ï¼Œè¦æ±‚é¢œè‰²ä¸°å¯Œï¼Œç»“æ„æ¸…æ™°ã€‚å›¾ç‰‡åŒ…å«ä½†ä¸ä»…é™äºæ¶æ„å›¾ã€æµç¨‹å›¾ã€ç»Ÿè®¡å›¾ç­‰ç­‰ï¼Œéœ€è¦æœ‰æ–‡å­—è¯´æ˜ï¼Œä¾‹å¦‚</span> <span class="hljs-string">å›¾1xxxæ¶æ„å›¾ã€‚</span> <span class="hljs-number">7</span><span class="hljs-string">.</span> <span class="hljs-string">åŒ…å«å†…å®¹å¯¹åº”çš„è¡¨æ ¼ï¼Œè¡¨æ ¼å¯¹æ¯”ç»†è‡´ï¼Œç½—åˆ—çš„ä¿¡æ¯å‡†ç¡®ã€‚</span> <span class="hljs-number">8</span><span class="hljs-string">.</span> <span class="hljs-string">è‹¥æœ‰æµ‹è¯„å†…å®¹ï¼Œæä¾›è¯¦ç»†çš„æµ‹è¯„æŒ‡æ ‡å’Œè¯„åˆ†æ ‡å‡†ï¼Œå»ºç«‹é‡åŒ–çš„è¯„æµ‹ä½“ç³»ï¼ŒåŒ…æ‹¬å‡†ç¡®æ€§ã€å“åº”é€Ÿåº¦ã€æˆæœ¬æ•ˆç›Šã€æ˜“ç”¨æ€§ç­‰å¤šç»´åº¦æŒ‡æ ‡ã€‚</span> <span class="hljs-number">9</span><span class="hljs-string">.</span> <span class="hljs-string">å¯ä»¥æ·»åŠ ä¸€äº›ç”¨å¼•ç”¨å—åŒ…å›´çš„è¯­å½•ã€‚</span> <span class="hljs-number">10</span><span class="hljs-string">.</span> <span class="hljs-string">ä¼˜åŒ–æ–‡ç« ï¼Œè¿›è¡Œæ´—ç¨¿ï¼Œå› ä¸ºæ–‡ç« çš„å†…å®¹æ˜¯å®˜æ–¹æ–‡å­—ï¼Œè¯·ç”¨æ™®é€šè¯æ¥æ›¿ä»£ï¼Œä¾æ—§ä¿æŒå¯è¯»æ€§ã€‚</span> <span class="hljs-string">ä¼˜åŒ–åï¼šåœ¨ä¸“ä¸šå†…å®¹çš„åŸºç¡€ä¸Šï¼Œå¢åŠ äº†ä¸€äº›é€šä¿—æ˜“æ‡‚çš„è§£é‡Šå’Œä¾‹å­ï¼Œä½¿éä¸“ä¸šäººå£«ä¹Ÿèƒ½ç†è§£æ–‡ç« çš„æ ¸å¿ƒå†…å®¹ã€‚å¯¹æ–‡ç« çš„ç»“æ„è¿›è¡Œäº†å¾®è°ƒï¼Œä½¿å…¶æ›´ç¬¦åˆå­¦æœ¯è®ºæ–‡çš„æ ‡å‡†æ ¼å¼ã€‚æ€»ç»“éƒ¨åˆ†å¯¹è®ºæ–‡çš„ç ”ç©¶èƒŒæ™¯ã€æ–¹æ³•ã€ç»“æœå’Œç»“è®ºè¿›è¡Œäº†è¯¦ç»†æ€»ç»“ï¼Œå­—æ•°è¾¾åˆ°500å­—ä»¥ä¸Šã€‚</span> 
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹</p>
<p>è¾“å…¥æœºå™¨å­¦ä¹ ï¼Œè®©ä»–æ¥è¯•è¯•</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebed6d3a6783416486174db168e60c94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=wB5vqBbb92TtC2iH1FWPAX850BQ%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°æˆåŠŸçš„ç”Ÿæˆäº†ä¸€ä¸ªæ€ç»´å¯¼å›¾ï¼Œä»¥åŠä¼˜åŒ–åçš„æ–‡ç« ã€‚</p>
<p>å°†å·¥ä½œæµå¯ç”¨å°±å¯ä»¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/508e53696d5f4f01a1550b9e1a7a85c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=hZPku8sHkZT0td%2FFlJ1pdXsCa%2FU%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>åœ¨æµ‹è¯•æ²¡é—®é¢˜åï¼Œå°±å¯ä»¥è¿›è¡Œæœ€åä¸€æ­¥äº†ã€‚</p>
<h3 data-id="heading-14">Step 4ï¼šå‘å¸ƒåˆ†äº«</h3>
<p>ç›´æ¥ç‚¹å‡»å³ä¸Šè§’çš„å‘å¸ƒå³å¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58d28bcd39dc4611a3abd966573a5862~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTHVjaWFuYWlC:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766315072&amp;x-signature=AS2D7eOgVBKSaUVqWWVzohfFaXA%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªåœ¨çº¿é“¾æ¥ï¼Œå…¶ä»–äººå°±å¯ä»¥æ¥ä½“éªŒäº†ã€‚</p>
<p>æ¬¢è¿å¤§å®¶æ¥ä½“éªŒæˆ‘çš„æ™ºèƒ½ä½“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuanqi.tencent.com%2Fwebim%2F%23%2Fchat%2FWeWbNF%3Fappid%3D1999815344418825472%26experience%3Dtrue" target="_blank" title="https://yuanqi.tencent.com/webim/#/chat/WeWbNF?appid=1999815344418825472&amp;experience=true" ref="nofollow noopener noreferrer">yuanqi.tencent.com/webim/#/chaâ€¦</a></p>
<p>æœ€åæ¬£èµä¸€ä¸‹ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªçš„æ•ˆæœéå¸¸çš„ä¸é”™ã€‚</p>
<p><img alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°è½¬å­˜å¤±è´¥ï¼Œå»ºè®®ç›´æ¥ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶" src="" loading="lazy"/></p>
<p>å°æ³¨æ„ï¼š</p>
<h3 data-id="heading-15">âš ï¸ ä½¿ç”¨å°è´´å£«ï¼ˆé¿å‘æŒ‡å—ï¼‰</h3>
<ul>
<li>MCP æ’ä»¶ç›®å‰ä»…æ”¯æŒåˆ›å»ºè€…è°ƒè¯•ï¼Œæ— æ³•ç›´æ¥å…±äº«ç»™åä½œè€…</li>
<li>å·¥ä½œæµå¿…é¡»ä¾é™„äºæ™ºèƒ½ä½“å‘å¸ƒï¼Œä¸èƒ½å•ç‹¬ä¸Šçº¿ï¼ˆåˆæœŸæ˜“æ··æ·†ï¼‰</li>
<li>è‹¥æ™ºèƒ½ä½“å“åº”æ…¢æˆ–æ— æ³•å›ç­”ï¼Œå¯å°è¯•åœ¨è…¾è®¯å…ƒå®ä¸­æ¸…é™¤èŠå¤©è®°å½•é‡è¯•</li>
<li>å›ç­”æ˜¾ç¤ºä¸å…¨ï¼Ÿé€€å‡ºåé‡æ–°è¿›å…¥å³å¯åˆ·æ–°</li>
</ul>
<h2 data-id="heading-16">æ€»ç»“ğŸ’¡ï¼šè®©å†…å®¹èµ„äº§çœŸæ­£â€œæ´»â€èµ·æ¥</h2>
<p>è™½ç„¶å½“å‰å¹³å°åœ¨æ’ä»¶è°ƒè¯•å’Œå·¥ä½œæµç‹¬ç«‹æ€§ä¸Šè¿˜æœ‰ä¼˜åŒ–ç©ºé—´ï¼Œä½†è…¾è®¯å…ƒå™¨å·²æå¤§é™ä½äº† AI æ™ºèƒ½ä½“çš„æ„å»ºé—¨æ§›ã€‚</p>
<p>å¯¹äºå†…å®¹åˆ›ä½œè€…ã€çŸ¥è¯†åšä¸»ã€å‚ç›´é¢†åŸŸä¸“å®¶è€Œè¨€ï¼Œè¿™ç›¸å½“äºï¼š</p>
<blockquote>
<p>æŠŠè¿‡å»å†™çš„æ‰€æœ‰æ–‡ç« ï¼Œå˜æˆä¸€ä¸ªâ€œä¼šæ€è€ƒã€ä¼šè¡¨è¾¾ã€ä¼šåˆ›ä½œâ€çš„æ•°å­—å‘˜å·¥ã€‚</p>
</blockquote>
<p>ä½ çš„å…¬ä¼—å·ï¼Œä¸è¯¥åªæ˜¯ä¿¡æ¯çš„ä»“åº“ï¼Œè€Œåº”æˆä¸ºå¯äº¤äº’ã€å¯è¿›åŒ–ã€å¯å¤ç”¨çš„çŸ¥è¯†å¼•æ“ã€‚</p>
<p>ç°åœ¨ï¼Œè¯•è¯•æŠŠå®ƒå˜æˆä½ çš„â€œè¶…çº§ä¸ªä½“â€å§ï¼</p>
<blockquote>
<p>ğŸ‘‰ ç«‹å³ä½“éªŒæˆ‘çš„æ™ºèƒ½ä½“è¶…çº§ä¸ªä½“ğŸ¤–ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fyuanqi.tencent.com%2Fwebim%2F%23%2Fchat%2FWeWbNF%3Fappid%3D1999815344418825472%26experience%3Dtrue" target="_blank" title="https://yuanqi.tencent.com/webim/#/chat/WeWbNF?appid=1999815344418825472&amp;experience=true" ref="nofollow noopener noreferrer">yuanqi.tencent.com/webim/#/chaâ€¦</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é™é»˜æ‰“å°ç¨‹åºå®ç°]]></title>    <link>https://juejin.cn/post/7583567658252779546</link>    <guid>https://juejin.cn/post/7583567658252779546</guid>    <pubDate>2025-12-14T11:47:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583567658252779546" data-draft-id="7583574154339811337" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é™é»˜æ‰“å°ç¨‹åºå®ç°"/> <meta itemprop="keywords" content="Electron,å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2025-12-14T11:47:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="yuanyxh"/> <meta itemprop="url" content="https://juejin.cn/user/2881148117060749"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é™é»˜æ‰“å°ç¨‹åºå®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2881148117060749/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    yuanyxh
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T11:47:01.000Z" title="Sun Dec 14 2025 11:47:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>éœ€æ±‚éœ€è¦å®ç°ä¸€ä¸ªé™é»˜æ‰“å°æ’ä»¶ï¼Œè¾…åŠ© Web åå°ç³»ç»Ÿä»¥å®ç°é™é»˜æ‰“å°æ ‡ç­¾ï¼Œæå‡ä»“åº“ä¾§å·¥ä½œæ•ˆç‡ã€‚åŸæ’ä»¶ç¨³å®šæ€§ã€å…¼å®¹æ€§å·®ï¼Œæ— æºç æ— æ³•æ‰©å±•ä¿®æ”¹ï¼Œæ”¯æŒå¤šç§æ ‡ç­¾æ ¼å¼ï¼Œåç»­æ‰€æœ‰æ ‡ç­¾ä¼šè½¬ç§»è‡³ PDF æ ¼å¼ï¼Œæ‰€ä»¥æ–°çš„æ’ä»¶ç³»ç»Ÿåªéœ€è¦æ”¯æŒ PDF æ‰“å°å³å¯ã€‚</p>
<h2 data-id="heading-1">æŠ€æœ¯é€‰å‹</h2>
<p>æ¡Œé¢æ¡†æ¶é€‰æ‹© Electron</p>
<ul>
<li>ä¼˜ç‚¹ï¼šå‰ç«¯å‹å¥½ã€å¿«é€Ÿå¼€å‘ã€æ–‡æ¡£ã€ç”Ÿæ€å®Œå–„ã€å…¼å®¹æ€§å¥½</li>
<li>ç¼ºç‚¹ï¼šèµ„æºå ç”¨é«˜ã€æ‰“åŒ…ä½“ç§¯å¤§</li>
</ul>
<p>æ¸²æŸ“å±‚é€‰æ‹© Reactï¼ˆä¸ªäººå–œå¥½ï¼‰ã€‚</p>
<p>åŒ…ç®¡ç†å·¥å…·ä½¿ç”¨ npmï¼Œç”±äºå¼€å‘ React Native æ—¶è¢« pnpm çš„å„ç§å·®å¼‚ã€å…¼å®¹æ€§æçš„å¤´ç–¼ï¼Œæ‰€ä»¥åœ¨å¼€å‘é Web åº”ç”¨æ—¶æ›´å€¾å‘äºä½¿ç”¨ npmã€‚</p>
<p>æœ€ç»ˆä½¿ç”¨å¼€æºçš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Felectron-react-boilerplate%2Felectron-react-boilerplate" target="_blank" title="https://github.com/electron-react-boilerplate/electron-react-boilerplate" ref="nofollow noopener noreferrer">electron-react-boilerplate</a> ä½œä¸ºåŸºç¡€æ¡†æ¶è¿›è¡Œå¼€å‘ã€‚</p>
<h2 data-id="heading-2">æ•´ä½“æ¶æ„è®¾è®¡</h2>
<p>ä¸»è¿›ç¨‹å®ç°åŠŸèƒ½ï¼š</p>
<ul>
<li>é™é»˜æ‰“å°</li>
<li>å¯¹å¤–æ¥å£æœåŠ¡</li>
<li>å¼‚å¸¸é‡å¯</li>
<li>æ—¥å¿—è®°å½•ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmegahertz%2Felectron-log" target="_blank" title="https://github.com/megahertz/electron-log" ref="nofollow noopener noreferrer">electron-log</a>ï¼‰</li>
<li>ç³»ç»Ÿé€šçŸ¥ï¼ˆelectron å†…ç½® <code>Notification</code>ï¼‰</li>
<li>è‡ªåŠ¨æ›´æ–°ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Felectron-updater" target="_blank" title="https://www.npmjs.com/package/electron-updater" ref="nofollow noopener noreferrer">electron-updater</a>ï¼‰</li>
<li>æ•°æ®åº“äº¤äº’ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fseald%2Fnedb" target="_blank" title="https://github.com/seald/nedb" ref="nofollow noopener noreferrer">@seald-io/nedb</a>ï¼‰</li>
<li>å¤–éƒ¨ç¨‹åºè°ƒç”¨</li>
</ul>
<p>æ¸²æŸ“å±‚å®ç°åŠŸèƒ½ï¼š</p>
<ul>
<li>ç•Œé¢äº¤äº’</li>
<li>æ‰“å°è®¾ç½®</li>
<li>æ•°æ®æŸ¥è¯¢ï¼ˆæ‰“å°è®°å½•æŸ¥è¯¢æŸ¥çœ‹ï¼‰</li>
</ul>
<p>ä¸»è¿›ç¨‹ï¼ˆæ ¸å¿ƒå±‚ï¼‰é€šè¿‡å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨æä¾›å¯¹å¤–æ¥å£è°ƒç”¨ï¼Œè§¦å‘æ¥å£è°ƒç”¨æ—¶ä¸»è¿›ç¨‹è°ƒç”¨å‘½ä»¤è¡Œæˆ–å¤–éƒ¨ç¨‹åºå®ç°æ‰“å°åŠŸèƒ½ã€‚</p>
<p>Web å¼€å‘å¤§å®¶éƒ½å¾ˆç†Ÿäº†ï¼Œæ‰€ä»¥ä¸‹é¢åªè¯´ä¸»è¿›ç¨‹ä¸­çš„é™é»˜æ‰“å°ã€å¯¹å¤–æ¥å£æœåŠ¡çš„åŠŸèƒ½å¼€å‘ã€‚</p>
<h2 data-id="heading-3">é™é»˜æ‰“å°</h2>
<p>ä½¿ç”¨ Electron è‡ªå¸¦æ‰“å°åŠŸèƒ½æ—¶ï¼Œéœ€è¦é€šè¿‡ <code>BrowserWindow.webContents.print()</code> è¿›è¡Œæ‰“å°ï¼Œè¿™ä¸ªæ–¹æ³•åªèƒ½æ‰“å°å½“å‰æµè§ˆå™¨çª—å£çš„å†…å®¹ï¼Œè€Œä¸èƒ½æŒ‡å®šæ–‡ä»¶è¿›è¡Œæ‰“å°ã€‚</p>
<p>å¦‚æœéœ€è¦æ‰“å° PDF æ–‡ä»¶ï¼Œä¸€ç§è§£å†³åŠæ³•æ˜¯åœ¨æ¸²æŸ“å±‚å°†æŒ‡å®š PDF æ–‡ä»¶æ¸²æŸ“ä¸ºå›¾ç‰‡ç„¶åæ‰“å°ï¼Œè¿™ç§æ–¹æ³•å…¼å®¹æ€§å¥½ï¼Œæ”¯æŒå¸¸è§çš„æ“ä½œç³»ç»Ÿï¼ˆMac/Windowsï¼‰ï¼›ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼šæ¸²æŸ“å¤šé¡µ PDF æ–‡ä»¶è€—æ—¶é•¿ï¼Œå¹¶å‘æ‰“å°æ”¯æŒå·®ï¼Œå¹¶ä¸”éœ€è¦ä¸»è¿›ç¨‹ã€æ¸²æŸ“å±‚åˆä½œå¤„ç†ï¼Œä»£ç åˆ†æ•£ã€‚</p>
<p>å¦ä¸€ä¸ªæ–¹æ³•æ˜¯ä½¿ç”¨ä¸‰æ–¹åº“ï¼Œè¿™äº›åº“å†…éƒ¨è°ƒç”¨ç³»ç»Ÿå‘½ä»¤æˆ–å¤–éƒ¨ç¨‹åºä»¥å®ç°æ‰“å° PDF çš„åŠŸèƒ½ï¼Œè¿™ç§æ–¹æ³•æ€§èƒ½è¾ƒå¥½ã€æ”¯æŒå¹¶å‘ï¼Œä¸”åªéœ€è¦åœ¨ä¸»è¿›ç¨‹å¤„ç†ï¼Œç¼ºç‚¹å°±æ˜¯å¯å®šåˆ¶æ€§å·®ã€‚</p>
<p>è¿™é‡Œä½¿ç”¨ä¸‰æ–¹åº“çš„æ–¹å¼ï¼Œç”±äºæ²¡æœ‰æ‰¾åˆ°å¯é çš„é€šç”¨ PDF æ‰“å°åº“ï¼Œæ‰€ä»¥é’ˆå¯¹ Mac ç³»ç»Ÿä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Funix-print" target="_blank" title="https://www.npmjs.com/package/unix-print" ref="nofollow noopener noreferrer">unix-print</a>ï¼Œé’ˆå¯¹ Windows ç³»ç»Ÿä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fartiebits%2Fpdf-to-printer" target="_blank" title="https://github.com/artiebits/pdf-to-printer" ref="nofollow noopener noreferrer">pdf-to-printer</a>ã€‚</p>
<p>å®ƒä»¬å„è‡ªçš„å®ç°åŸç†å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>Mac ç³»ç»Ÿä¸­å†…ç½®äº†é€šç”¨æ‰“å°ç³»ç»Ÿ CUPSï¼Œä½¿ç”¨å‘½ä»¤è¡Œ <code>ls command</code> å°±å¯ä»¥å®ç°æ‰“å° PDFï¼Œunix-print å°±æ˜¯å¯¹ ls å‘½ä»¤çš„ä¸€å±‚åŒ…è£…</p>
</li>
<li>
<p>pdf-to-printer ä¸­å†…ç½®äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsumatrapdfreader%2Fsumatrapdf" target="_blank" title="https://github.com/sumatrapdfreader/sumatrapdf" ref="nofollow noopener noreferrer">SumatraPDF</a> å¯æ‰§è¡Œç¨‹åºï¼Œè¿™æ˜¯ä¸€ä¸ªå¼€æºè½»é‡çš„é˜…è¯»å™¨ï¼Œæ”¯æŒä»¥å‘½ä»¤è¡Œæ–¹å¼è°ƒç”¨ä»¥æ‰“å° PDFï¼Œpdf-to-printer åŒæ ·æ˜¯å¯¹è¿™äº›å‘½ä»¤çš„ä¸€å±‚åŒ…è£…ã€‚</p>
</li>
</ul>
<p>è¿™ä¸¤ä¸ªåº“è™½ç„¶æ•´ä½“èƒ½å¤Ÿåœ¨å¤–éƒ¨å°è£…ç»Ÿä¸€æ¥å£æ¥è¿›è¡Œå¯¹é½ï¼Œä½†è¿˜æœ‰ä¸€äº›å·®å¼‚æ˜¯æ— æ³•æŠ¹å¹³çš„ï¼š</p>
<ul>
<li>
<p>CUPS æ”¯æŒè®¾å®šè‡ªå®šä¹‰çš„çº¸å¼ è§„æ ¼ï¼Œè¿™åœ¨å¤„ç†éæ ‡å‡†å°ºå¯¸çš„ PDF æ ‡ç­¾æ—¶æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œè€Œ SumatraPDF ä¸æ”¯æŒ</p>
<blockquote>
<p>SumatraPDF è¦å®ç°è¿™æ ·çš„åŠŸèƒ½åªèƒ½åœ¨ Windows ç³»ç»Ÿä¸­æ·»åŠ è‡ªå®šä¹‰æ‰“å°è§„æ ¼ï¼Œå¹¶åœ¨æ‰“å°æ—¶é€‰æ‹©æŒ‡å®šè§„æ ¼ï¼Œè¿™æ ·å°±å¤šäº†äººå·¥æ“ä½œçš„æ­¥éª¤ï¼Œéå¸¸ä¸ä¾¿ã€‚</p>
</blockquote>
</li>
<li>
<p>CUPS æ”¯æŒ <code>lpstat</code> å‘½ä»¤æ¥æŸ¥è¯¢æ‰“å°ä»»åŠ¡ï¼ŒSumatraPDF ä¸æ”¯æŒ</p>
</li>
</ul>
<p>ä¸ºäº†å¢å¼º Windows ç«¯çš„æ‰“å°åŠŸèƒ½ï¼Œä½¿ç”¨ .Net 8 å®ç°äº†ä¸€ä¸ª Windows æ§åˆ¶å°åº”ç”¨ç¨‹åºï¼Œå®ç°é€»è¾‘å¦‚ä¸‹ï¼š</p>
<ol>
<li>å¯åŠ¨æ—¶ï¼Œå¯åŠ¨ä¸€ä¸ªç®¡é“ï¼Œé€šè¿‡ç®¡é“å®ç°äº¤äº’ï¼ˆè¿™æ ·å¯ä»¥é¿å…æ¯æ¬¡è°ƒç”¨ç¨‹åºæ—¶åˆ›å»ºè¿›ç¨‹çš„å¼€é”€ï¼‰</li>
<li>æ ¹æ®å…¥å‚ï¼Œè°ƒç”¨ç‰¹å®šæ–¹æ³•</li>
<li>æ‰“å°åŠŸèƒ½ï¼šè¯»å– PDFï¼Œè½¬æ¢ä¸ºä½å›¾å¹¶è°ƒç”¨ .Net å†…ç½® SKD æ‰“å°ï¼Œè¿™ç§æ–¹å¼å…¼å®¹æ€§å¥½ã€å®ç°ç®€å•ï¼Œç¼ºç‚¹æ˜¯ä½å›¾æ”¾å¤§æ—¶ä¸å¦‚ PostScript ç”Ÿæˆçš„æ¸…æ™°ï¼Œä½“ç§¯ä¹Ÿæ›´å¤§ï¼Œä¸è¿‡åœ¨æ‰“å°æ ‡ç­¾çš„åœºæ™¯ä¸Šé€šå¸¸ä¸ä¼šæœ‰å¤ªå¤§é—®é¢˜</li>
<li>.Net è¿˜å†…ç½®æœ‰å…¶ä»–å®ç”¨åŠŸèƒ½ï¼Œæ¯”å¦‚è·å–æ‰“å°æœºåˆ—è¡¨ã€è·å–æ‰“å°é˜Ÿåˆ—ã€è‡ªå®šä¹‰çº¸å¼ è§„æ ¼ç­‰ã€‚</li>
</ol>
<blockquote>
<p>åœ¨å¼€å‘ Windows æ§åˆ¶å°ç¨‹åºæ—¶ï¼Œæ›¾è€ƒè™‘è¿‡ä½¿ç”¨ä¸‰æ–¹åŒ…é›†æˆï¼Œè¿™ç§æ–¹å¼æ— ç–‘æ—¶æœ€å¥½çš„ï¼Œä½†æŸ¥è¯¢åˆ°ä»åœ¨ç§¯æå¼€å‘çŠ¶æ€çš„ PDF æ‰“å° Nuget åŒ…åŸºæœ¬é‡‡ç”¨ä»˜è´¹æˆæƒï¼Œè€Œä¸€äº›å¼€æºçš„ï¼ˆæ¯”å¦‚ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fpvginkel%2FPdfiumViewer" target="_blank" title="https://github.com/pvginkel/PdfiumViewer" ref="nofollow noopener noreferrer">PdfiumViewer</a>ï¼‰åŒ…åœ¨å¾ˆä¹…å‰éƒ½å·²ç»åœæ­¢å¼€å‘äº†ã€‚</p>
</blockquote>
<h2 data-id="heading-4">å¯¹å¤–æ¥å£æœåŠ¡</h2>
<p>ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fexpressjs%2Fexpress" target="_blank" title="https://github.com/expressjs/express" ref="nofollow noopener noreferrer">express</a> å¯åŠ¨æœ¬åœ° HTTP æœåŠ¡ï¼Œè¿›è¡Œ cors è®¾ç½®ï¼Œå®šä¹‰é€šç”¨å“åº”ç»“æ„ï¼Œä¸ºäº†åç»­æ‰©å±•å…¶ä»–åŠŸèƒ½ï¼Œè¿™é‡Œä»¥ä¸åŒçš„è·¯ç”±å‰ç¼€åŒºåˆ†æ¨¡å—ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><code>/print/*</code> è¡¨ç¤ºæ‰“å°åŠŸèƒ½ç›¸å…³ API</li>
<li><code>/docs/*</code> è¡¨ç¤ºæ–‡æ¡£ç›¸å…³ API</li>
</ul>
<p>åŒæ—¶ï¼Œä¸ºäº†æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦æ­£å¸¸å·¥ä½œï¼Œæä¾› <code>/ping</code> ç«¯ç‚¹è®©å¤–éƒ¨è°ƒç”¨ã€‚</p>
<p>è€ƒè™‘ç›¸å…³åŠŸèƒ½ï¼Œåº”è¯¥æä¾›ä»¥ä¸‹ APIï¼š</p>
<ul>
<li><code>/print/printer-list</code>: è·å–ç³»ç»Ÿæ‰“å°æœºåˆ—è¡¨</li>
<li><code>/print/printer-setting</code>: è®¾ç½®æ‰“å°æœºæ‰“å°å‚æ•°</li>
<li><code>/print/printer-jobs</code>: è·å–æŒ‡å®šæ‰“å°æœºæ‰“å°é˜Ÿåˆ—</li>
<li><code>/print/print-urls</code>: æ‰“å°ä»¥ URL æ ¼å¼æä¾›çš„ PDF æ–‡ä»¶</li>
<li><code>/print/print-base64</code>: æ‰“å°ä»¥ base64 æ ¼å¼æä¾›çš„ PDF æ–‡ä»¶</li>
<li><code>/print/print-formdata</code>: æ‰“å°ä»¥ FormData æ ¼å¼æä¾›çš„ PDF æ–‡ä»¶</li>
</ul>
<blockquote>
<p>å¼€å‘æœ¬åœ°æœåŠ¡å™¨ä¾› Web è°ƒç”¨æ—¶ï¼Œéœ€è¦æ³¨æ„ Chrome çš„å…¼å®¹æ€§ï¼Œæœ€è¿‘ Chrome 142 ç‰ˆæœ¬æ¨å‡ºäº†æœ¬åœ°ç½‘ç»œè®¿é—®æƒé™æç¤ºã€‚æœ¬åœ°ç½‘ç»œè®¿é—®æƒé™é™åˆ¶äº† Web è®¿é—®æœ¬åœ°æœåŠ¡å™¨çš„èƒ½åŠ›ï¼Œå¦‚æœä½ çš„ç½‘ç«™æ˜¯ä»¥ https æä¾›æœåŠ¡çš„ï¼ŒChrome ä¼šåœ¨è°ƒç”¨æœ¬åœ°æœåŠ¡å™¨æ—¶å¼¹å‡ºæƒé™æç¤ºï¼ŒåŒæ„å³å¯ï¼›ä½†å¦‚æœä½ çš„ç½‘ç«™æ˜¯ä»¥ http æä¾›æœåŠ¡çš„ï¼Œé‚£è®¿é—®æœ¬åœ°æœåŠ¡å™¨æ—¶ä¼šé™é»˜å¤±è´¥ï¼Œç›®å‰çš„æ–¹æ³•æ˜¯å¼•å¯¼ç”¨æˆ·å…³é—­ Chrome å¯¹æœ¬åœ°ç½‘ç»œè®¿é—®çš„é™åˆ¶ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kotlin/Ktor å®è·µï¼šåˆ©ç”¨ MCP ä»é›¶æ‰“é€  AI Agent æœåŠ¡ç«¯æŒ‡å—]]></title>    <link>https://juejin.cn/post/7582958136258183204</link>    <guid>https://juejin.cn/post/7582958136258183204</guid>    <pubDate>2025-12-14T10:13:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582958136258183204" data-draft-id="7582854603061395498" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kotlin/Ktor å®è·µï¼šåˆ©ç”¨ MCP ä»é›¶æ‰“é€  AI Agent æœåŠ¡ç«¯æŒ‡å—"/> <meta itemprop="keywords" content="Kotlin,Agent,MCP"/> <meta itemprop="datePublished" content="2025-12-14T10:13:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="KotlinKUGè´µå·"/> <meta itemprop="url" content="https://juejin.cn/user/2946346893987704"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kotlin/Ktor å®è·µï¼šåˆ©ç”¨ MCP ä»é›¶æ‰“é€  AI Agent æœåŠ¡ç«¯æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2946346893987704/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    KotlinKUGè´µå·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T10:13:50.000Z" title="Sun Dec 14 2025 10:13:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æœ€è¿‘ä¸€ç›´åœ¨ç”¨<code>NodeJS</code>å¼„MCPåº”ç”¨ï¼Œæ³¨æ„åˆ°SDKæä¾›äº†ä¸€ä¸ªKotlinçš„ç‰ˆæœ¬ï¼Œå°è¯•åå‘ç°å±…ç„¶æ˜¯åŸºäºKtorçš„ï¼Œç´¢æ€§è¯•äº†ä¸‹ç”¨Kotlinæ¥æ­å»ºMCPåº”ç”¨ï¼Œå®è·µåè¯æ˜è¿™æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œæ¯”å¦‚å®˜æ–¹Koogä¹Ÿæ˜¯é…äº†Ktorï¼ŒKtorè¿™ç§å°ä½“é‡webæ¡†æ¶å°±å¾ˆé€‚åˆåšè¿™ç§ä¸­é—´å±‚æœåŠ¡æ¥ä½¿ç”¨ã€‚</p>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsetruth%2Fkotlin-mcp-application" target="_blank" title="https://github.com/setruth/kotlin-mcp-application" ref="nofollow noopener noreferrer">GitHubçš„Demoï¼ŒåŒ…å«AI-Agentå’ŒMCPServer,ä»…ä¾›å‚è€ƒ</a></p>
</blockquote>
<h2 data-id="heading-1">MCPç®€ä»‹</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f01c281dc234167a8b3bee7d68c83b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS290bGluS1VH6LS15bee:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766312029&amp;x-signature=gxmBch%2BlJQiq2vF6zWqaZTkpwAs%3D" alt="QQ_1765638549366.png" loading="lazy"/></p>
<p>ç®€å•æ¥è¯´å°±æ˜¯åŸºäºMCPåè®®å¯¹ä¼ ç»Ÿçš„AI-Agentè¿›è¡Œèµ‹èƒ½ï¼Œè®©AI-Agentå’Œå·¥å…·æœåŠ¡æœ‰ä¸€ä¸ªçº¦å®šçš„åè®®è¿›è¡Œé€šè®¯ï¼Œé€šè¿‡MCPå‘Šè¯‰AI-Agentå·¥å…·è°ƒç”¨ç«¯ç‚¹å¹¶æä¾›æœåŠ¡ä¸Šçš„å·¥å…·ä¿¡æ¯è¿›è¡Œæ³¨å†Œã€‚åœ¨AIå¯¹è¯æ—¶è®©AIä¼˜å…ˆå»é€‰æ‹©å·¥å…·ï¼Œæ‹¿åˆ°é€‰æ‹©çš„å·¥å…·åé€šè¿‡å‘ŠçŸ¥çš„æ“ä½œç«¯ç‚¹å¯¹MCPServeræœåŠ¡è¿›è¡Œè°ƒç”¨ï¼Œç„¶åè·å–åˆ°ç»“æœåäº¤ç»™AIä¸€å¹¶åˆ†æã€‚<strong>è¾¾åˆ°æ•°æ®ä¸è¿‡æ—¶ï¼Œå‡†ç¡®æ€§é«˜ï¼Œä¸è®­ç»ƒAIçš„å‰æä¸‹å®šåˆ¶åŒ–AIææ•°æ®æ¨ç†</strong></p>
<h2 data-id="heading-2">æŠ€æœ¯æ ˆ</h2>
<ul>
<li>AIéƒ¨ç½²ï¼šOllamaéƒ¨ç½²ä¸€ä¸ª<code>DeepseekR1-1.5B</code>æ¨¡å‹(ä¸ªäººç”µè„‘æœ‰é™ğŸ˜…ï¼Œæœ‰æ¡ä»¶çš„å»ºè®®7Bä»¥ä¸Š)</li>
<li>MCPServer: <code>Kotlin</code>,<code>ktor-server</code>,<code>modelcontextprotocol-kotlin-sdk</code></li>
<li>AI-Agent(MCP-Client): <code>Kotlin</code>,<code>ktor-server</code>,<code>ktor-client</code>,<code>modelcontextprotocol-kotlin-sdk</code>,</li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io%2Fdocs%2Fdevelop%2Fbuild-server%23kotlin" target="_blank" title="https://modelcontextprotocol.io/docs/develop/build-server#kotlin" ref="nofollow noopener noreferrer">modelcontextprotocolæ–‡æ¡£</a></p>
<h2 data-id="heading-3">ç›®æ ‡å®ç°</h2>
<p>æˆ‘ä»¬æœ¬åœ°éƒ¨ç½²çš„AIæ˜¯ä¸å…·å¤‡è”ç½‘åŠŸèƒ½æ‰€ä»¥å®ƒæ— æ³•è·å–å½“å‰æ—¶é—´ï¼Œæˆ‘ä»¬é€šè¿‡æä¾›æ—¶é—´é€‰æ‹©å·¥å…·è¾¾åˆ°æœ¬åœ°AIä¹Ÿèƒ½æœ‰å½“å‰æ—¶é—´æ„ŸçŸ¥çš„èƒ½åŠ›</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57a56fa4316e4343b4fb98167190bc51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS290bGluS1VH6LS15bee:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766312029&amp;x-signature=m8BSx2xrTzrcaLA4z0KdK5NZtiE%3D" alt="QQ_1765699970722.png" loading="lazy"/></p>
<h2 data-id="heading-4">å®ç°MCP Server</h2>
<p>MCPServeræœ¬èº«æ˜¯ä¸å…·å¤‡WebæœåŠ¡èƒ½åŠ›çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—ä¾é Ktor-Serverå»æŠŠä»–æŒ‚è½½åˆ°æˆ‘ä»¬çš„WebæœåŠ¡ä¸Šè®©ä»–æˆä¸ºä¸€ä¸ªç‹¬ç«‹å¯è¢«è¿œç«¯è°ƒç”¨çš„æœåŠ¡</p>
<h3 data-id="heading-5">æ ¸å¿ƒä¾èµ–</h3>
<pre><code class="hljs language-kotlin" lang="kotlin">plugins {
    kotlin(<span class="hljs-string">"jvm"</span>) version <span class="hljs-string">"2.2.0"</span>
    id(<span class="hljs-string">"io.ktor.plugin"</span>) version <span class="hljs-string">"3.3.3"</span>
}
<span class="hljs-keyword">val</span> mcpVersion = <span class="hljs-string">"0.8.1"</span>
implementation(<span class="hljs-string">"io.modelcontextprotocol:kotlin-sdk:<span class="hljs-subst">${mcpVersion}</span>"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-server-core-jvm"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-server-netty-jvm"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-serialization-jackson"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-server-content-negotiation"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-server-sse"</span>)
</code></pre>
<h3 data-id="heading-6">1.åˆ›å»ºMCPSeverçš„è¿è¡Œç¤ºä¾‹</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> mcpServer = Server(
    Implementation(
        name = <span class="hljs-string">"kotlin mcp server"</span>,
        version = <span class="hljs-string">"1.0.0"</span>
    ),
    ServerOptions(
        capabilities = ServerCapabilities(tools = ServerCapabilities.Tools(listChanged = <span class="hljs-literal">true</span>))
    )
)
</code></pre>
<h3 data-id="heading-7">2.åˆ›å»ºå·¥å…·</h3>
<p>åˆ›å»ºè¿è¡Œå®ä¾‹ä»¥åæˆ‘ä»¬å°±å¯ä»¥åŸºäºå¾€æœåŠ¡å®¹å™¨ä¸­æ³¨å†Œå·¥å…·äº†</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">//å†™ä¸€ä¸ªæ‰©å±•å‡½æ•°æ ¹æ®addToolå‡½æ•°çš„è§„èŒƒåˆ›å»ºä¸€ä¸ªè·å–æ—¶é—´çš„å·¥å…·</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> Server.<span class="hljs-title">registerCurrentTimeTool</span><span class="hljs-params">()</span></span> {
    addTool(
        name = <span class="hljs-string">"get_current_time"</span>,
        description = <span class="hljs-string">"""
         è·å–å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨æ ¼å¼æ¨¡å¼ï¼ˆå¦‚ 'yyyy-MM-dd HH:mm:ss'ï¼‰æ¥æŒ‡å®šè¿”å›æ ¼å¼ã€‚
        """</span>.trimIndent(),
        inputSchema = ToolSchema(
            properties = buildJsonObject {
                putJsonObject(<span class="hljs-string">"format_pattern"</span>) {
                    put(<span class="hljs-string">"type"</span>, <span class="hljs-string">"string"</span>)
                    put(<span class="hljs-string">"description"</span>, <span class="hljs-string">"ç”¨äºæ ¼å¼åŒ–æ—¶é—´çš„æ¨¡å¼ï¼Œä¾‹å¦‚ 'yyyy-MM-dd HH:mm:ss'ã€‚"</span>)
                }
            },
        ),

        handler = { request -&gt;
            <span class="hljs-keyword">val</span> userPattern: String? = request.arguments
                ?.<span class="hljs-keyword">get</span>(<span class="hljs-string">"format_pattern"</span>)
                ?.jsonPrimitive
                ?.contentOrNull
            log.info { <span class="hljs-string">"è¯·æ±‚å‚æ•°: <span class="hljs-variable">$userPattern</span>"</span> }
            <span class="hljs-keyword">val</span> formatPattern: String = userPattern ?: run {
                log.warn { <span class="hljs-string">" ä¸Šæ¸¸è¯·æ±‚æ—¶é—´å·¥å…·æœªæä¾›å‚æ•°ï¼Œä½¿ç”¨é»˜è®¤æ ¼å¼åŒ–"</span> }
                <span class="hljs-string">"yyyyå¹´MMæœˆddæ—¥ HH:mm:ss (zzz)"</span>
            }
            <span class="hljs-keyword">val</span> formatter = DateTimeFormatter.ofPattern(formatPattern)
                .withZone(ZoneId.systemDefault())
            <span class="hljs-keyword">val</span> currentTime = Instant.now()
            <span class="hljs-keyword">val</span> formattedTime = formatter.format(currentTime)
            <span class="hljs-keyword">return</span><span class="hljs-symbol">@addTool</span> CallToolResult(
                content = listOf(TextContent(formattedTime))
            )
        }
    )
}
</code></pre>
<h3 data-id="heading-8">3.åˆ›å»ºTransportè¿æ¥æ¡¥æ¢</h3>
<p>MCPServeræä¾›ä¸åŒçš„è¿æ¥ä½¿ç”¨æ–¹å¼ï¼Œæ¯”å¦‚SSEï¼Œå†…éƒ¨IOè°ƒç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—é€‰ç”¨ä¸€ä¸ªè¿æ¥å™¨æ¥è¿›è¡Œè¿æ¥ã€‚ç”±äºæˆ‘ä»¬æ˜¯åˆ©ç”¨Ktor-serveræ¥æŒ‚è½½æä¾›è¿œç«¯è°ƒç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨SSEçš„Transportï¼Œå¹¶ä¸”SDKå†…ç½®çš„SSETransportæ˜¯åŸºäºKtorå®ç°çš„ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æŠŠKtorçš„Calläº¤ç»™SSETransportå¤„ç†ï¼Œéå¸¸çš„æ–¹ä¾¿ã€‚</p>
<h4 data-id="heading-9">åˆ›å»ºå¯¹åº”AI-Agentçš„Transportç®¡ç†</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">//AI-Agentçš„Transportä¼šè¯ç®¡ç†</span>
<span class="hljs-comment">//è€ƒè™‘åˆ°å¯èƒ½ä¼šæœ‰å¤šä¸ªAI-Agentè¿›è¡ŒSSEè¿æ¥ï¼ŒæŠŠä»–ä»¬å¯¹åº”çš„Transportå·¥å…·ç®¡ç†å½’å±èµ·æ¥</span>
<span class="hljs-keyword">object</span> SessionManager {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> sessions: ConcurrentHashMap&lt;String, SseServerTransport&gt; = ConcurrentHashMap()

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addSession</span><span class="hljs-params">(transport: <span class="hljs-type">SseServerTransport</span>)</span></span> {
        sessions[transport.sessionId] = transport
        transport.onClose {
            sessions.remove(transport.sessionId)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getTransport</span><span class="hljs-params">(sessionId: <span class="hljs-type">String</span>)</span></span>: SseServerTransport? {
        <span class="hljs-keyword">return</span> sessions[sessionId]
    }
    <span class="hljs-comment">//å¯è‡ªè¡Œæ‰©å±•ä¼šè¯åˆ é™¤ç­‰å®Œå–„ä¼šè¯ç®¡ç†ï¼Œç¤ºä¾‹ä»…ä¾›æµç¨‹è¿è¡Œå‚è€ƒ</span>
}
</code></pre>
<h4 data-id="heading-10">1. åˆ›å»ºMCPServerçš„SSEè¿æ¥ç‚¹</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">//åˆ©ç”¨Ktor-Serveræä¾›AI-Agentè¿æ¥çš„SSEè¯·æ±‚</span>
<span class="hljs-keyword">val</span> postEndpoint = <span class="hljs-string">"post"</span>
sse(<span class="hljs-string">"mcp/sse"</span>) {
    <span class="hljs-comment">//åˆ›å»ºä¸MCPServerçš„è¿æ¥å¤„ç†å™¨ï¼Œå¹¶ä¸”æä¾›SSEè¯·æ±‚ç”¨æˆ·è°ƒç”¨ç«¯ç‚¹,å’Œsseçš„ä¼šè¯æä¾›è¿æ¥å™¨ä½¿ç”¨å“åº”</span>
    <span class="hljs-comment">//è¿™é‡Œçš„è°ƒç”¨ç«¯ç‚¹AI-Agentå®¢æˆ·ç«¯çš„SDKä¼šè‡ªåŠ¨åŒ¹é…åˆ°mcp/${postEndpoint}ä¸‹</span>
    <span class="hljs-keyword">val</span> transport = SseServerTransport(postEndpoint, <span class="hljs-keyword">this</span>)
    mcpServer.createSession(transport) <span class="hljs-comment">//è¿™ç©æ„è™½ç„¶æ˜¯æŒ‚èµ·çš„ï¼Œä½†æ˜¯ä¸ä¼šä¸€ç›´æŒ‚èµ·ï¼ï¼ï¼è¿˜æ˜¯ä¼šå¾€ä¸‹æ‰§è¡Œ</span>
    SessionManager.addSession(transport)
    <span class="hljs-keyword">while</span> (isActive) { <span class="hljs-comment">//é¿å…sse{}æ‰§è¡Œå®Œæ¯•åå¯¼è‡´çš„ä¼šè¯ç»“æŸTransportæ— æ³•ä½¿ç”¨ä¼šè¯å“åº”</span>
        delay(<span class="hljs-number">100</span>)
    }
}
</code></pre>
<h4 data-id="heading-11">2. åˆ›å»ºMCPServerçš„æ“ä½œç«¯ç‚¹</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> postEndpoint = <span class="hljs-string">"post"</span>
<span class="hljs-comment">//åˆ›å»ºè°ƒç”¨ç«¯ç‚¹è¯·æ±‚(æ˜¯POST)</span>
post(<span class="hljs-string">"sse/<span class="hljs-subst">${postEndpoint}</span>"</span>) {
    <span class="hljs-comment">//æŸ¥è¯¢AI-Agentçš„ä¼šè¯Id</span>
    <span class="hljs-keyword">val</span> sessionId = call.queryParameters[<span class="hljs-string">"sessionId"</span>] ?: run {
        call.respondText(<span class="hljs-string">"æ²¡æœ‰sessionIdå‚æ•°ï¼Œä¸çŸ¥é“ä½ æ˜¯å“ªä¸€ä¸ªSSEä¼šè¯"</span>, status = HttpStatusCode.BadRequest)
        <span class="hljs-keyword">return</span><span class="hljs-symbol">@post</span>
    }
     <span class="hljs-comment">//æŸ¥è¯¢å¯¹åº”çš„Transportå·¥å…·</span>
    <span class="hljs-keyword">val</span> transport = SessionManager.getTransport(sessionId)
        ?: run {
            call.respondText(<span class="hljs-string">"æ— æ•ˆä¼šè¯Idï¼Œå¯¹åº”çš„ä¼šè¯å·²ç»å…³é—­äº†"</span>, status = HttpStatusCode.Unauthorized)
            <span class="hljs-keyword">return</span><span class="hljs-symbol">@post</span>
        }
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">//æŠŠä¼šè¯ä¸Šä¸‹é—®äº¤ç»™ transport.handlePostMessageè¿›è¡Œå¤„ç†</span>
        <span class="hljs-comment">//è¿™é‡Œé¢ä¼šè‡ªåŠ¨æ ¹æ®ä¸Šæ¸¸å‘æ¥MCPå†…å®¹çº¦å®šå»è¿›è¡Œç›¸å…³æ“ä½œç„¶åå“åº”</span>
        <span class="hljs-comment">//æ³¨æ„: è¿™é‡Œå¹¶ä¸ä¼šè¿›è¡Œå“åº”éœ€è¦çš„æ•°æ®ï¼Œä»–åªä¼šå“åº”ä¸€ä¸ªæ¥å—çŠ¶æ€ï¼Œå®é™…ä¸Šæ•°æ®çš„å“åº”æ˜¯èµ°çš„SSE</span>
        transport.handlePostMessage(call)
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        <span class="hljs-keyword">if</span> (!call.response.isCommitted) {
            call.respondText(<span class="hljs-string">"MCPæœåŠ¡å¤„ç†å‡ºé”™: <span class="hljs-subst">${e.message}</span>"</span>, status = HttpStatusCode.InternalServerError)
        }
    }
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b256d76f94243ada858e6dca937bcbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS290bGluS1VH6LS15bee:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766312029&amp;x-signature=LtJ46%2Bz1kxM0hCzOUpPP5ZxDMWg%3D" alt="QQ_1765701744631.png" loading="lazy"/></p>
<h3 data-id="heading-12">å®Œæ•´çš„MCPServerè·¯ç”±</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> io.ktor.http.HttpStatusCode
<span class="hljs-keyword">import</span> io.ktor.server.response.respondText
<span class="hljs-keyword">import</span> io.ktor.server.routing.Route
<span class="hljs-keyword">import</span> io.ktor.server.routing.post
<span class="hljs-keyword">import</span> io.ktor.server.sse.sse
<span class="hljs-keyword">import</span> io.modelcontextprotocol.kotlin.sdk.server.Server
<span class="hljs-keyword">import</span> io.modelcontextprotocol.kotlin.sdk.server.ServerOptions
<span class="hljs-keyword">import</span> io.modelcontextprotocol.kotlin.sdk.server.SseServerTransport
<span class="hljs-keyword">import</span> io.modelcontextprotocol.kotlin.sdk.types.Implementation
<span class="hljs-keyword">import</span> io.modelcontextprotocol.kotlin.sdk.types.ServerCapabilities
<span class="hljs-keyword">import</span> kotlinx.coroutines.delay
<span class="hljs-keyword">import</span> kotlinx.coroutines.isActive
<span class="hljs-keyword">import</span> java.util.concurrent.ConcurrentHashMap

<span class="hljs-comment">/**
 *
 * <span class="hljs-doctag">@author</span> setruth
 * <span class="hljs-doctag">@date</span> 2025/12/13
 * <span class="hljs-doctag">@time</span> 12:21
 */</span>

<span class="hljs-keyword">object</span> SessionManager {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> sessions: ConcurrentHashMap&lt;String, SseServerTransport&gt; = ConcurrentHashMap()

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">addSession</span><span class="hljs-params">(transport: <span class="hljs-type">SseServerTransport</span>)</span></span> {
        sessions[transport.sessionId] = transport
        transport.onClose {
            sessions.remove(transport.sessionId)
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getTransport</span><span class="hljs-params">(sessionId: <span class="hljs-type">String</span>)</span></span>: SseServerTransport? {
        <span class="hljs-keyword">return</span> sessions[sessionId]
    }
}


<span class="hljs-function"><span class="hljs-keyword">fun</span> Route.<span class="hljs-title">mcpServer</span><span class="hljs-params">(
    path: <span class="hljs-type">String</span>,
    toolConfiguration: <span class="hljs-type">Server</span>.() -&gt; <span class="hljs-type">Unit</span>,
)</span></span> {
    <span class="hljs-keyword">val</span> mcpServer = Server(
        Implementation(
            name = <span class="hljs-string">"kotlin mcp server"</span>,
            version = <span class="hljs-string">"1.0.0"</span>
        ),
        ServerOptions(
            capabilities = ServerCapabilities(tools = ServerCapabilities.Tools(listChanged = <span class="hljs-literal">true</span>))
        )
    )

    mcpServer.toolConfiguration()

    <span class="hljs-keyword">val</span> postEndpoint = <span class="hljs-string">"post"</span>
    sse(<span class="hljs-string">"<span class="hljs-variable">$path</span>/sse"</span>) {
        <span class="hljs-keyword">val</span> transport = SseServerTransport(postEndpoint, <span class="hljs-keyword">this</span>)
        mcpServer.createSession(transport)
        SessionManager.addSession(transport)
        <span class="hljs-keyword">while</span> (isActive) {
            delay(<span class="hljs-number">100</span>)
        }
    }
    post(<span class="hljs-string">"<span class="hljs-variable">$path</span>/<span class="hljs-subst">${postEndpoint}</span>"</span>) {
        <span class="hljs-keyword">val</span> sessionId = call.queryParameters[<span class="hljs-string">"sessionId"</span>] ?: run {
            call.respondText(<span class="hljs-string">"æ²¡æœ‰sessionIdå‚æ•°ï¼Œä¸çŸ¥é“ä½ æ˜¯å“ªä¸€ä¸ªSSEä¼šè¯"</span>, status = HttpStatusCode.BadRequest)
            <span class="hljs-keyword">return</span><span class="hljs-symbol">@post</span>
        }
        <span class="hljs-keyword">val</span> transport = SessionManager.getTransport(sessionId)
            ?: run {
                call.respondText(<span class="hljs-string">"æ— æ•ˆä¼šè¯Idï¼Œå¯¹åº”çš„ä¼šè¯å·²ç»å…³é—­äº†"</span>, status = HttpStatusCode.Unauthorized)
                <span class="hljs-keyword">return</span><span class="hljs-symbol">@post</span>
            }
        <span class="hljs-keyword">try</span> {
            transport.handlePostMessage(call)
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            <span class="hljs-keyword">if</span> (!call.response.isCommitted) {
                call.respondText(<span class="hljs-string">"MCPæœåŠ¡å¤„ç†å‡ºé”™: <span class="hljs-subst">${e.message}</span>"</span>, status = HttpStatusCode.InternalServerError)
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-13">è¿è¡ŒMCPServer</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> MCP_PORT = <span class="hljs-number">3000</span>

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    embeddedServer(Netty, port = MCP_PORT, host = <span class="hljs-string">"127.0.0.1"</span>, module = Application::module)
        .start(wait = <span class="hljs-literal">true</span>)
}

<span class="hljs-function"><span class="hljs-keyword">fun</span> Application.<span class="hljs-title">module</span><span class="hljs-params">()</span></span> {
    install(ContentNegotiation) {
        jackson()
    }
    install(SSE)
    routing {
        mcpServer(<span class="hljs-string">"/mcp"</span>) { <span class="hljs-comment">// é…ç½®è·¯ç”±</span>
            registerCurrentTimeTool() <span class="hljs-comment">//æ³¨å†Œè·å–æ—¶é—´å·¥å…·å·¥å…·</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-14">MCPServerçš„è¿æ¥æµ‹è¯•</h3>
<p>è®¿é—®<code>127.0.0.1:3000/mcp/sse</code>åæˆ‘ä»¬ä¼šè·å–åˆ°McpServerå“åº”è¿‡æ¥çš„<code>endpoint</code>äº‹ä»¶,å½“AI-Agent(MCPClient)è¿æ¥åå°±ä¼šæ‹¿åˆ°è°ƒç”¨ç«¯ç‚¹çš„ä¿¡æ¯ä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¸Šé¢å†™çš„postï¼Œå¹¶ä¸”æä¾›äº†ä¼šè¯Idä¿¡æ¯ã€‚ä¸Šæ¸¸åé¢POSTè¯·æ±‚<code>/mcp/post</code>è·¯å¾„çš„æ—¶å€™å°±ä¼šå¸¦ä¸Šä¼šè¯Idçš„å‚æ•°ï¼Œæˆ‘ä»¬å°±èƒ½æ‹¿åˆ°å»æä¾›å¯¹åº”çš„Transportå·¥å…·å»å¤„ç†è°ƒç”¨äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbf8dd66668c46ef81400aba465c2e2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS290bGluS1VH6LS15bee:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766312029&amp;x-signature=1fzy71u8kT2he2sANHJ5u9sQF%2F4%3D" alt="QQ_1765698591339.png" loading="lazy"/></p>
<h2 data-id="heading-15">å®ç°AI-Agent(MCPClient)</h2>
<p>ä¸MCPServeräº¤äº’çš„æ˜¯MCPClientï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´MCPClientéƒ½æ˜¯å’ŒAI-Agentå¤„äºä¸€ä¸ªæœåŠ¡ä¸­æ‰€ä»¥è¿™é‡Œå°±ç›´æ¥æ•´åˆèµ·æ¥äº†ã€‚ç„¶åKoogä¹Ÿæœ‰Ktorçš„SDKï¼Œåˆ©ç”¨KtoræœåŠ¡ç»“åˆKoogå»ä»£ç†AIå°±éå¸¸æµç•…äº†å†åŠ ä¸ŠMCPClientæ¥ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-16">æ ¸å¿ƒä¾èµ–</h3>
<pre><code class="hljs language-kotlin" lang="kotlin">plugins {
    kotlin(<span class="hljs-string">"jvm"</span>) version <span class="hljs-string">"2.2.0"</span>
    id(<span class="hljs-string">"io.ktor.plugin"</span>) version <span class="hljs-string">"3.3.3"</span>
}
<span class="hljs-keyword">val</span> mcpVersion = <span class="hljs-string">"0.8.1"</span>
implementation(<span class="hljs-string">"io.modelcontextprotocol:kotlin-sdk:<span class="hljs-subst">${mcpVersion}</span>"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-server-core-jvm"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-server-netty-jvm"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-serialization-jackson"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-server-content-negotiation"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-server-sse"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-server-cors"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-server-config-yaml"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-client-core"</span>)
implementation(<span class="hljs-string">"io.ktor:ktor-client-cio"</span>)
implementation(<span class="hljs-string">"ai.koog:koog-ktor:0.5.4"</span>)
</code></pre>
<h3 data-id="heading-17">1. åˆ›å»ºMCPClient</h3>
<h4 data-id="heading-18">1.1 åˆ›å»ºMCPClient</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> mcpClient: Client = Client(clientInfo = Implementation(name = <span class="hljs-string">"kotlin mcp client"</span>, version = <span class="hljs-string">"1.0.0"</span>))
</code></pre>
<h4 data-id="heading-19">1.2 åˆ›å»ºè¿æ¥å™¨</h4>
<p>æˆ‘ä»¬æ˜¯ä½¿ç”¨çš„SDKå»åˆ›å»ºMCPServerçš„Transportè¿æ¥å™¨ï¼Œæ‰€ä»¥Clientä¹Ÿæ˜¯æœ‰å¯¹åº”çš„Transportå»è¿›è¡Œè¿æ¥ï¼Œé¿å…é€šè®¯æ–¹å¼çš„ä¸ç»Ÿä¸€</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">//åˆ©ç”¨Ktor-clientå»ä½œä¸ºå‘é€MCPè¯·æ±‚çš„å®¢æˆ·ç«¯</span>
<span class="hljs-keyword">val</span> mcpSeverReqClient = HttpClient(CIO) {
    install(SSE)
    install(Logging)
}
<span class="hljs-comment">//ç”±äºMCPServeræˆ‘ä»¬åˆ›å»ºçš„æ˜¯SSEçš„è¿æ¥å™¨ï¼Œæ‰€ä»¥è¿™è¾¹ä¹Ÿç”¨SSEçš„</span>
<span class="hljs-keyword">val</span> transport = SseClientTransport(
    mcpSeverReqClient,
    serverScriptPath, <span class="hljs-comment">//MCPSerberçš„SSEè¯·æ±‚åœ°å€è·¯å¾„</span>
    <span class="hljs-number">5.</span>seconds,
)
</code></pre>
<h4 data-id="heading-20">1.3 è·å–è¿æ¥MCPServerå¹¶è·å–å·¥å…·ä¿¡æ¯å­˜å‚¨</h4>
<p>åˆ›å»ºå¥½MCPClientå’ŒTransportåæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Clientå»è¿æ¥Transportï¼Œè®©Transportå»ä»£ç†Clientçš„æ‰€æœ‰æ“ä½œå»å’ŒMCPSevrerè¿›è¡Œäº¤äº’äº†</p>
<pre><code class="hljs language-kotlin" lang="kotlin">mcpClient.connect(transport) <span class="hljs-comment">// æŒ‚èµ·-&gt; è·å–ä¸MCPServerçš„SSEè¿æ¥</span>
<span class="hljs-keyword">val</span> toolsResult = mcpClient.listTools() <span class="hljs-comment">// æŒ‚èµ·-&gt; è·å–å·¥å…·åˆ—è¡¨ </span>
tools = toolsResult.tools.map { <span class="hljs-comment">//å¤„ç†ä¸€ä¸‹è¿‡æ»¤è°ƒä¸€äº›æ— ç”¨çš„å·¥å…·å…ƒæ•°æ®é¿å…å¹²æ‰°AIåˆ¤æ–­</span>
    LLMTool(
        name = it.name,
        description = it.description ?: <span class="hljs-string">""</span>,
        parameters = extractSimplifiedProperties(it), <span class="hljs-comment">//è‡ªå†™çš„å‡½æ•°ä¸æ˜¯å†…éƒ¨çš„</span>
    )
}
toolsFormatStr = <span class="hljs-string">""" //æä¾›å·¥å…·åˆ—è¡¨Promptæç¤º
    ## IV. å¯ç”¨å·¥å…·åˆ—è¡¨:<span class="hljs-subst">${mapper.writeValueAsString(tools)}</span>
"""</span>.trimIndent() 
</code></pre>
<h4 data-id="heading-21">1.4 æä¾›å·¥å…·è°ƒç”¨å‡½æ•°</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">//å½“ç»™AIPromptè¿›è¡Œè§„èŒƒåååªéœ€è¦è·å–AIçš„å›ç­”å»è§£æå·¥å…·nameå’Œå¯¹åº”å‚æ•°å³å¯ï¼Œåˆ©ç”¨MCPClientå°±èƒ½å»è°ƒç”¨å¯¹åº”çš„Tool</span>
<span class="hljs-comment">//å¦‚æœéœ€è¦æ‰©å±•å¯ä»¥å’ŒAIçº¦å®šæ›´å¤šä¿¡æ¯æ¯”å¦‚å¸¦ä¸Šä¸åŒçš„MCPServerçš„æ ‡ç­¾ å°±èƒ½å®ç°è°ƒç”¨ä¸åŒMCPClientå»è·å–å¯¹åº”çš„å·¥å…·ä¿¡æ¯</span>
<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">executeTool</span><span class="hljs-params">(name: <span class="hljs-type">String</span>, input: <span class="hljs-type">Map</span>&lt;<span class="hljs-type">String</span>, Any&gt;)</span></span>: String {
    <span class="hljs-keyword">val</span> toolResult = mcpClient.callTool(name, input)
    <span class="hljs-comment">//è¿™é‡Œåªæ˜¯æ¼”ç¤ºTextçš„æ•°æ®æµå“åº”æ—¶çš„å¤„ç†ï¼Œå¯¹åº”æˆ‘ä»¬çš„get_current_timeå·¥å…·å“åº”ç±»å‹</span>
    <span class="hljs-keyword">val</span> textContent = toolResult.content.find { it.type == ContentTypes.TEXT }
    <span class="hljs-keyword">if</span> (textContent == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"æ— å†…å®¹"</span>
    }
    <span class="hljs-keyword">return</span> (textContent <span class="hljs-keyword">as</span> TextContent).text
}
</code></pre>
<h4 data-id="heading-22">å®Œæ•´MCPClient</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> log = KotlinLogging.logger { }
<span class="hljs-comment">// å·¥å…·å‚æ•°</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LLMToolProperty</span>(
    <span class="hljs-keyword">val</span> name: String,
    <span class="hljs-keyword">val</span> type: String,
    <span class="hljs-keyword">val</span> description: String,
)
<span class="hljs-comment">// å·¥å…·å®šä¹‰</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LLMTool</span>(
    <span class="hljs-keyword">val</span> name: String,
    <span class="hljs-keyword">val</span> description: String,
    <span class="hljs-keyword">val</span> parameters: List&lt;LLMToolProperty&gt;,
)

<span class="hljs-comment">/**
 *
 * <span class="hljs-doctag">@author</span> setruth
 * <span class="hljs-doctag">@date</span> 2025/12/13
 * <span class="hljs-doctag">@time</span> 13:31
 */</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MCPClient</span>() : AutoCloseable {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> mcpClient: Client = Client(clientInfo = Implementation(name = <span class="hljs-string">"kotlin mcp client"</span>, version = <span class="hljs-string">"1.0.0"</span>))
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> mcpSeverReqClient = HttpClient(CIO) {
        install(SSE)
        install(Logging)
    }
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> tools: List&lt;LLMTool&gt; = listOf()
    <span class="hljs-keyword">var</span> toolsFormatStr = <span class="hljs-string">""</span>
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">connectToServer</span><span class="hljs-params">(serverScriptPath: <span class="hljs-type">String</span>)</span></span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">val</span> transport = SseClientTransport(
                mcpSeverReqClient,
                serverScriptPath,
                <span class="hljs-number">5.</span>seconds,
            )
            mcpClient.connect(transport)
            <span class="hljs-keyword">val</span> toolsResult = mcpClient.listTools()
            tools = toolsResult.tools.map {
                <span class="hljs-keyword">val</span> tool= LLMTool(
                    name = it.name,
                    description = it.description ?: <span class="hljs-string">""</span>,
                    parameters = extractSimplifiedProperties(it),
                )
                log.info { <span class="hljs-string">"å·¥å…·: <span class="hljs-variable">$tool</span>"</span> }
                tool
            }
            toolsFormatStr = <span class="hljs-string">"""
                ## IV. å¯ç”¨å·¥å…·åˆ—è¡¨:<span class="hljs-subst">${mapper.writeValueAsString(tools)}</span>
            """</span>.trimIndent()
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            log.error(e) { <span class="hljs-string">"MCPæœåŠ¡è¿æ¥å¤±è´¥: <span class="hljs-subst">${e.message}</span>"</span> }
        }
    }

    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">executeTool</span><span class="hljs-params">(name: <span class="hljs-type">String</span>, input: <span class="hljs-type">Map</span>&lt;<span class="hljs-type">String</span>, Any&gt;)</span></span>: String {
        <span class="hljs-keyword">val</span> toolResult = mcpClient.callTool(name, input)
        <span class="hljs-keyword">val</span> textContent = toolResult.content.find { it.type == ContentTypes.TEXT }
        <span class="hljs-keyword">if</span> (textContent == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-string">"æ— å†…å®¹"</span>
        }
        <span class="hljs-keyword">return</span> (textContent <span class="hljs-keyword">as</span> TextContent).text
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">close</span><span class="hljs-params">()</span></span> {
        runBlocking {
            mcpClient.close()
        }
    }

    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">extractSimplifiedProperties</span><span class="hljs-params">(sdkTool: <span class="hljs-type">Tool</span>)</span></span>: List&lt;LLMToolProperty&gt; {
        <span class="hljs-keyword">val</span> toolNode: JsonNode = <span class="hljs-keyword">try</span> {
            mapper.valueToTree(sdkTool)
        } <span class="hljs-keyword">catch</span> (e: Exception) {
            <span class="hljs-keyword">return</span> emptyList()
        }

        <span class="hljs-keyword">val</span> propertiesNode = toolNode
            .<span class="hljs-keyword">get</span>(<span class="hljs-string">"inputSchema"</span>)
            ?.<span class="hljs-keyword">get</span>(<span class="hljs-string">"properties"</span>)

        <span class="hljs-keyword">if</span> (propertiesNode == <span class="hljs-literal">null</span> || !propertiesNode.isObject) {
            <span class="hljs-keyword">return</span> emptyList()
        }

        <span class="hljs-keyword">val</span> paramsList = mutableListOf&lt;LLMToolProperty&gt;()
        propertiesNode.properties().forEach { (paramName, detailsNode) -&gt;
            <span class="hljs-keyword">val</span> typeContentNode = detailsNode.<span class="hljs-keyword">get</span>(<span class="hljs-string">"type"</span>)
            <span class="hljs-keyword">val</span> type = typeContentNode?.<span class="hljs-keyword">get</span>(<span class="hljs-string">"content"</span>)?.asText() ?: typeContentNode?.asText() ?: <span class="hljs-string">"string"</span>

            <span class="hljs-keyword">val</span> descriptionContentNode = detailsNode.<span class="hljs-keyword">get</span>(<span class="hljs-string">"description"</span>)
            <span class="hljs-keyword">val</span> description = descriptionContentNode?.<span class="hljs-keyword">get</span>(<span class="hljs-string">"content"</span>)?.asText() ?: descriptionContentNode?.asText()
            ?: <span class="hljs-string">"æ— æè¿°"</span>

            paramsList.add(
                LLMToolProperty(
                    name = paramName,
                    type = type.trim(),
                    description = description.trim()
                )
            )
        }

        <span class="hljs-keyword">return</span> paramsList
    }
}
</code></pre>
<h3 data-id="heading-23">2. å®ç°AI-Agent</h3>
<h4 data-id="heading-24">2.1 ç³»ç»ŸPromptå®šä¹‰</h4>
<p>AIæ˜¯å¦èƒ½é€‰æ‹©å’Œé€‰æ‹©æ˜¯å¦å‡†ç¡®ï¼Œåœ¨æˆ‘ä»¬ä¸è®­ç»ƒAIçš„å‰æä¸‹å°±åªèƒ½é å †å’Œè°ƒæ•´Promptæç¤ºè¾¾åˆ°å‡†ç¡®æ•ˆæœ</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">const</span> <span class="hljs-keyword">val</span> SystemPromptBase = <span class="hljs-string">"""ä½ æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ AI åŠ©æ‰‹ã€‚ä½ çš„å›å¤å¿…é¡»ä¸¥æ ¼éµå¾ªä»¥ä¸‹è§„åˆ™ï¼Œå›å¤å†…å®¹å¿…é¡»æ˜¯**çº¯å‡€**çš„å·¥å…·è°ƒç”¨ JSON **æˆ–** **çº¯å‡€**çš„è‡ªç„¶è¯­è¨€æ–‡æœ¬ï¼Œç»ä¸å…è®¸æ··åˆã€‚

## I. å·¥å…·è°ƒç”¨æ¨¡å¼ï¼šå†³ç­–ä¸è¾“å‡º ( STRICT JSON MODE )

1. **è§¦å‘æ¡ä»¶ï¼š** ä»…å½“ç”¨æˆ·çš„è¯·æ±‚å†…å®¹ä¸**å¯ç”¨å·¥å…·åˆ—è¡¨ä¸­çš„ä»»ä¸€å·¥å…·æè¿°**ç›´æ¥ç›¸å…³æ—¶ï¼Œæ‰å†³å®šä½¿ç”¨å·¥å…·ã€‚
2. **å¯ç”¨æ€§é™åˆ¶ï¼š** ä½ åªå…è®¸ä½¿ç”¨å½“å‰ä¸Šä¸‹æ–‡ä¸­æä¾›çš„å·¥å…·ã€‚**ä¸¥ç¦**è‡ªè¡Œç¼–é€ ã€çŒœæµ‹æˆ–è°ƒç”¨ä»»ä½•ä¸å­˜åœ¨çš„å·¥å…·æˆ–å‡½æ•°ã€‚
3. **æœ€ç»ˆæ ¼å¼ï¼ˆå¿…é¡»ï¼‰ï¼š** å¦‚æœä½ å†³å®šè°ƒç”¨å·¥å…·ï¼Œä½ çš„å›å¤**å¿…é¡»ä¸”åªèƒ½**æ˜¯ä¸€ä¸ªå®Œæ•´çš„ã€**æœªç»ä»»ä½•åŒ…è£¹**çš„ JSON å­—ç¬¦ä¸²ã€‚æ ¼å¼å¿…é¡»ä¸¥æ ¼ä¸ºï¼š
   {"name": "å·¥å…·å", "input": {å‚æ•°å1: å€¼1, å‚æ•°å2: å€¼2}}
   âš ï¸ **å‚æ•°æ³¨æ„ï¼š** `input` çš„å€¼å¿…é¡»æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ **JSON å¯¹è±¡ï¼ˆMapï¼‰**ï¼ŒåŒ…å«å·¥å…·æ‰€éœ€çš„æ‰€æœ‰å¿…å¡«å‚æ•°ã€‚
4. **çº¯å‡€è¾“å‡ºï¼ˆæ ¸å¿ƒï¼‰ï¼š** å·¥å…·è°ƒç”¨ JSON **å‰å**åŠ**å†…éƒ¨**ï¼Œ**ç»ä¸å…è®¸**åŒ…å«ä»¥ä¸‹ä»»ä½•å†…å®¹ï¼š
   * Markdown æ ‡è®°ï¼ˆåŒ…æ‹¬ ```ã€**ã€#ï¼‰
   * ä»»ä½•è§£é‡Šã€æ¨ç†ã€æ€è€ƒè¿‡ç¨‹ï¼ˆåŒ…æ‹¬ &lt;think&gt; æ ‡ç­¾ï¼‰
   * é¢å¤–çš„ç©ºè¡Œã€æ¢è¡Œç¬¦æˆ–å¤šä½™çš„ç©ºæ ¼ã€‚
   * ä»»ä½•é™¤ JSON ç»“æ„æœ¬èº«ä»¥å¤–çš„æ–‡æœ¬ã€‚

## II. çº¯æ–‡æœ¬æ¨¡å¼ï¼šç›´æ¥å›å¤ ( PLAIN TEXT MODE )

5. **å›å¤æ¡ä»¶ä¸æ„å›¾ï¼š** å¦‚æœä½ ä¸éœ€è¦è°ƒç”¨å·¥å…·ï¼Œæˆ–è€…ç”¨æˆ·çš„è¯·æ±‚ä¸ä»»ä½•å¯ç”¨å·¥å…·å‡ä¸ç›¸å…³ï¼Œä½ **å¿…é¡»ä½œä¸º AI åŠ©æ‰‹ç›´æ¥ã€å®Œæ•´åœ°å›ç­”ç”¨æˆ·çš„é—®é¢˜æˆ–è¯·æ±‚**ã€‚
6. **æ ¼å¼æ’é™¤ï¼š** åœ¨çº¯æ–‡æœ¬å›å¤ä¸­ï¼Œ**ä¸¥ç¦**åŒ…å«ä»»ä½• JSON æ ¼å¼æ ‡è®°ï¼ˆèŠ±æ‹¬å· {}ã€æ–¹æ‹¬å· []ã€åŒå¼•å· "ï¼‰æˆ–ä»»ä½•å¯èƒ½è¢«è¯¯è¯†åˆ«ä¸ºç»“æ„åŒ–æ•°æ®çš„ç¬¦å·ã€‚å›å¤å¿…é¡»æ˜¯è‡ªç„¶ã€æœ‰å¸®åŠ©çš„è¯­è¨€æ–‡æœ¬ã€‚
## III. æœ€ç»ˆæ ¡éªŒ

7. **å”¯ä¸€æ€§ï¼š** æœ€ç»ˆçš„è¾“å‡º**åªèƒ½**æ˜¯ I æ¨¡å¼ä¸‹çš„**çº¯å‡€ JSON å­—ç¬¦ä¸²**ï¼Œ**æˆ–**æ˜¯ II æ¨¡å¼ä¸‹çš„**çº¯å‡€æ–‡æœ¬**ã€‚ä¸å…è®¸åŒæ—¶å‡ºç°æˆ–æ··åˆã€‚
"""</span>
</code></pre>
<h4 data-id="heading-25">2.2 åˆ›å»ºå¯¹è¯è·¯ç”±</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> Route.<span class="hljs-title">appRoute</span><span class="hljs-params">()</span></span> {
    runBlocking {
        log.info { <span class="hljs-string">"å°è¯•è¿æ¥ MCP æœåŠ¡å™¨..."</span> }
        mcpClient.connectToServer(<span class="hljs-string">"http://127.0.0.1:3000/mcp/sse"</span>)
    }
    post(<span class="hljs-string">"chat"</span>) {
        <span class="hljs-keyword">val</span> userInput = call.receive&lt;UserQuery&gt;()
        call.respond(HttpStatusCode.OK, ResData(mcpProcess(userInput.query)))
    }
}
</code></pre>
<h4 data-id="heading-26">2.3 åˆ›å»ºå¯¹è¯æµç¨‹(æ ¸å¿ƒ)</h4>
<blockquote>
<h5 data-id="heading-27">åŸºäºMCPä½¿ç”¨å·¥å…·çš„å¯¹è¯æµç¨‹</h5>
<ol>
<li>
<p><strong>åˆå§‹è¯·æ±‚ä¸å†³ç­–ï¼š</strong></p>
<ul>
<li><strong>è¾“å…¥ï¼š</strong> æ¥æ”¶<code>ç”¨æˆ·è¯¢é—®</code>å’Œ<code>ç³»ç»Ÿçº¦æŸ</code>åŠ <code>å·¥å…·æè¿°</code>ã€‚</li>
<li><strong>åŠ¨ä½œï¼š</strong> ç¬¬ä¸€æ¬¡è¯¢é—® LLM è¿›è¡Œ<strong>å·¥å…·é€‰æ‹©</strong> ã€‚</li>
</ul>
</li>
<li>
<p><strong>å·¥å…·é€‰æ‹©è§£æï¼š</strong></p>
<ul>
<li><strong>ç»“æœï¼š</strong> è§£æ LLM çš„å›å¤ï¼Œåˆ¤æ–­æ˜¯ç›´æ¥å›å¤ï¼Œè¿˜æ˜¯å·¥å…·è°ƒç”¨è¯·æ±‚ ã€‚</li>
</ul>
</li>
<li>
<p><strong>å·¥å…·æ‰§è¡Œ</strong></p>
<ul>
<li><strong>è°ƒç”¨ï¼š</strong> è‹¥ LLM é€‰æ‹©å·¥å…·ï¼Œä½¿ç”¨ <code>MCPClient</code> è¿›è¡Œè¿œç«¯å·¥å…·è°ƒç”¨ã€‚</li>
<li><strong>è·å–ï¼š</strong> é˜»å¡ç­‰å¾…å¹¶æ¥æ”¶å·¥å…·ç»“æœ ã€‚</li>
</ul>
</li>
<li>
<p><strong>äºŒæ¬¡è¯¢é—®ä¸ç»“æŸ</strong></p>
<ul>
<li><strong>è¾“å…¥ï¼š</strong> å°†å·¥å…·ç»“æœä½œä¸º<strong>å¯¹è¯å†å²</strong>çš„ä¸€éƒ¨åˆ†ã€‚</li>
<li><strong>åŠ¨ä½œï¼š</strong> ç¬¬äºŒæ¬¡è¯¢é—® LLM è¿›è¡Œ<strong>æœ€ç»ˆæ¨ç†ç”Ÿæˆå›å¤å“åº”ç»™å®¢æˆ·ç«¯</strong>ã€‚</li>
</ul>
</li>
</ol>
<hr/>
</blockquote>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> RoutingContext.<span class="hljs-title">mcpProcess</span><span class="hljs-params">(input: <span class="hljs-type">String</span>)</span></span>: String {
    <span class="hljs-comment">// åˆ›å»ºé¡¶å±‚ç¬¬ä¸€æ¬¡ä¼šè¯ï¼Œå¸¦ä¸Šå·¥å…·æè¿°å’Œç³»ç»Ÿçº¦æŸè§„åˆ™</span>
    <span class="hljs-keyword">val</span> topPrompt = SystemPromptBase.trimIndent() + <span class="hljs-string">"\n\n"</span> + mcpClient.toolsFormatStr
    <span class="hljs-keyword">val</span> aiSelectPrompt = prompt(UUID.randomUUID().toString()) {
        system(topPrompt)
        user(input)
    }
    <span class="hljs-comment">// è·å–å·¥å…·é€‰æ‹©ç»“æœ</span>
    <span class="hljs-keyword">val</span> messages = askAI(aiSelectPrompt).toText(<span class="hljs-literal">true</span>, <span class="hljs-string">"aié€‰æ‹©å·¥å…·è¯¢é—®"</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (<span class="hljs-keyword">val</span> result = selectTool(messages)) {
        <span class="hljs-keyword">is</span> SelectResult.NoSelect -&gt; { <span class="hljs-comment">// AIæ²¡é€‰æ‹©å·¥å…·ç›´æ¥è¿”å›AIå›å¤</span>
            log.info { <span class="hljs-string">"AIæœªé€‰æ‹©å·¥å…·,ç›´æ¥è¿”å›: <span class="hljs-variable">$messages</span>"</span> }
            result.message
        }

        <span class="hljs-keyword">is</span> SelectResult.Select -&gt; { <span class="hljs-comment">// AIé€‰æ‹©å·¥å…·åè¿›è¡Œå·¥å…·è°ƒç”¨</span>
            log.info { <span class="hljs-string">"AIå·²é€‰æ‹©å·¥å…·: <span class="hljs-subst">${result.name}</span>,å‚æ•°: <span class="hljs-subst">${result.input}</span>"</span> }
            <span class="hljs-comment">//ä½¿ç”¨mcpClientè¿›è¡Œè¿œç«¯å·¥å…·è°ƒç”¨</span>
            <span class="hljs-keyword">val</span> toolRes = mcpClient.executeTool(result.name, result.input)
            log.info { <span class="hljs-string">"å·¥å…·è¿”å›: <span class="hljs-variable">$toolRes</span>"</span> }
            <span class="hljs-comment">// å¸¦å·¥å…·é…åˆå†å²å¯¹è¯è®©AIä¸€å¹¶åˆ†æå›å¤</span>
            <span class="hljs-keyword">val</span> resultPrompt = prompt(aiSelectPrompt) {
                system(<span class="hljs-string">"ä½¿ç”¨çš„å·¥å…·<span class="hljs-subst">${result.name}</span>å·²è¿”å›çš„æ•°æ®æ—¶:<span class="hljs-subst">${toolRes}</span>ï¼ŒåŸºäºè¿™ä¸ªå·¥å…·ç»™çš„æ•°æ®å»æ€è€ƒå†æ¬¡å›å¤ä¹‹å‰çš„è¯¢é—®ï¼Œå¹¶ä¸”ä¸è¦å¸¦ä¸Šå·¥å…·çš„ä»»ä½•ä¿¡æ¯"</span>)
            }
            askAI(resultPrompt).toText(<span class="hljs-literal">true</span>, <span class="hljs-string">"aiå¸¦ä¸Šå·¥å…·ç»“æœå»æ€è€ƒ"</span>)
        }
    }
}
</code></pre>
<h4 data-id="heading-28">å®Œæ•´AI-Agent</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ResData</span>(<span class="hljs-keyword">val</span> <span class="hljs-keyword">data</span>: String)
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserQuery</span>(<span class="hljs-keyword">val</span> query: String)
<span class="hljs-keyword">sealed</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SelectResult</span> {
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NoSelect</span>(<span class="hljs-keyword">val</span> message: String) : SelectResult()
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Select</span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> input: Map&lt;String, Any&gt;) : SelectResult()
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> log = KotlinLogging.logger { }


<span class="hljs-function"><span class="hljs-keyword">fun</span> Route.<span class="hljs-title">appRoute</span><span class="hljs-params">()</span></span> {
    runBlocking {
        log.info { <span class="hljs-string">"å°è¯•è¿æ¥ MCP æœåŠ¡å™¨..."</span> }
        mcpClient.connectToServer(<span class="hljs-string">"http://127.0.0.1:3000/mcp/sse"</span>)
    }
    post(<span class="hljs-string">"chat"</span>) {
        <span class="hljs-keyword">val</span> userInput = call.receive&lt;UserQuery&gt;()
        call.respond(HttpStatusCode.OK, ResData(mcpProcess(userInput.query)))
    }
}

<span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> RoutingContext.<span class="hljs-title">mcpProcess</span><span class="hljs-params">(input: <span class="hljs-type">String</span>)</span></span>: String {
    <span class="hljs-comment">// åˆ›å»ºé¡¶å±‚ç¬¬ä¸€æ¬¡ä¼šè¯ï¼Œå¸¦ä¸Šå·¥å…·æè¿°å’Œç³»ç»Ÿçº¦æŸè§„åˆ™</span>
    <span class="hljs-keyword">val</span> topPrompt = SystemPromptBase.trimIndent() + <span class="hljs-string">"\n\n"</span> + mcpClient.toolsFormatStr
    <span class="hljs-keyword">val</span> aiSelectPrompt = prompt(UUID.randomUUID().toString()) {
        system(topPrompt)
        user(input)
    }
    <span class="hljs-comment">// è·å–å·¥å…·é€‰æ‹©ç»“æœ</span>
    <span class="hljs-keyword">val</span> messages = askAI(aiSelectPrompt).toText(<span class="hljs-literal">true</span>, <span class="hljs-string">"aié€‰æ‹©å·¥å…·è¯¢é—®"</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span> (<span class="hljs-keyword">val</span> result = selectTool(messages)) {
        <span class="hljs-keyword">is</span> SelectResult.NoSelect -&gt; { <span class="hljs-comment">// AIæ²¡é€‰æ‹©å·¥å…·ç›´æ¥è¿”å›AIå›å¤</span>
            log.info { <span class="hljs-string">"AIæœªé€‰æ‹©å·¥å…·,ç›´æ¥è¿”å›: <span class="hljs-variable">$messages</span>"</span> }
            result.message
        }

        <span class="hljs-keyword">is</span> SelectResult.Select -&gt; { <span class="hljs-comment">// AIé€‰æ‹©å·¥å…·åè¿›è¡Œå·¥å…·è°ƒç”¨</span>
            log.info { <span class="hljs-string">"AIå·²é€‰æ‹©å·¥å…·: <span class="hljs-subst">${result.name}</span>,å‚æ•°: <span class="hljs-subst">${result.input}</span>"</span> }
            <span class="hljs-comment">//ä½¿ç”¨mcpClientè¿›è¡Œè¿œç«¯å·¥å…·è°ƒç”¨</span>
            <span class="hljs-keyword">val</span> toolRes = mcpClient.executeTool(result.name, result.input)
            log.info { <span class="hljs-string">"å·¥å…·è¿”å›: <span class="hljs-variable">$toolRes</span>"</span> }
            <span class="hljs-comment">// å¸¦å·¥å…·é…åˆå†å²å¯¹è¯è®©AIä¸€å¹¶åˆ†æå›å¤</span>
            <span class="hljs-keyword">val</span> resultPrompt = prompt(aiSelectPrompt) {
                system(<span class="hljs-string">"ä½¿ç”¨çš„å·¥å…·<span class="hljs-subst">${result.name}</span>å·²è¿”å›çš„æ•°æ®æ—¶:<span class="hljs-subst">${toolRes}</span>ï¼ŒåŸºäºè¿™ä¸ªå·¥å…·ç»™çš„æ•°æ®å»æ€è€ƒå†æ¬¡å›å¤ä¹‹å‰çš„è¯¢é—®ï¼Œå¹¶ä¸”ä¸è¦å¸¦ä¸Šå·¥å…·çš„ä»»ä½•ä¿¡æ¯"</span>)
            }
            askAI(resultPrompt).toText(<span class="hljs-literal">true</span>, <span class="hljs-string">"aiå¸¦ä¸Šå·¥å…·ç»“æœå»æ€è€ƒ"</span>)
        }
    }
}

<span class="hljs-comment">/**
 * åŸºäºå’ŒAIçº¦å®šçš„`{"name": "å·¥å…·å", "input": {å‚æ•°å1: å€¼1, å‚æ•°å2: å€¼2}}`è§„åˆ™å»è§£æAIæ˜¯å¦é€‰æ‹©äº†å·¥å…·
 * 
 * <span class="hljs-doctag">@param</span> messages AIå“åº”æ–‡æœ¬
 */</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">selectTool</span><span class="hljs-params">(messages: <span class="hljs-type">String</span>)</span></span>: SelectResult {
    <span class="hljs-keyword">if</span> (!messages.startsWith(<span class="hljs-string">"{"</span>) || !messages.endsWith(<span class="hljs-string">"}"</span>)) {
        <span class="hljs-keyword">return</span> SelectResult.NoSelect(messages)
    }
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">val</span> toolCall = mapper.readValue&lt;SelectResult.Select&gt;(messages)
        <span class="hljs-keyword">if</span> (toolCall.name.isBlank()) {
            <span class="hljs-keyword">return</span> SelectResult.NoSelect(messages)
        }
        <span class="hljs-keyword">return</span> toolCall
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        log.error(e) { <span class="hljs-string">"è§£æå·¥å…·è°ƒç”¨å¤±è´¥,åŸå§‹ä¿¡æ¯:<span class="hljs-subst">${messages}</span>"</span> }
        <span class="hljs-keyword">return</span> SelectResult.NoSelect(messages)
    }
}

<span class="hljs-comment">/**
 * å°†æ¶ˆæ¯å“åº”åˆ—è¡¨è½¬æ¢ä¸ºå‹ç¼©åçš„æ–‡æœ¬å†…å®¹
 *
 * <span class="hljs-doctag">@param</span> showRawThink æ˜¯å¦æ˜¾ç¤ºAIåŸå§‹æ€è€ƒå†…å®¹ï¼Œé»˜è®¤ä¸ºfalse
 * <span class="hljs-doctag">@param</span> step æ­¥éª¤æ ‡è¯†ç¬¦ï¼Œç”¨äºæ—¥å¿—è¾“å‡ºï¼Œé»˜è®¤ä¸ºç©ºå­—ç¬¦ä¸²
 * <span class="hljs-doctag">@return</span> æ¸…ç†å¹¶å‹ç¼©åçš„æ–‡æœ¬å†…å®¹
 */</span>
<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> List<span class="hljs-type">&lt;Message.Response&gt;</span>.<span class="hljs-title">toText</span><span class="hljs-params">(showRawThink: <span class="hljs-type">Boolean</span> = <span class="hljs-literal">false</span>, step: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>)</span></span>: String {
    <span class="hljs-comment">// åˆå¹¶æ‰€æœ‰å“åº”å†…å®¹</span>
    <span class="hljs-keyword">val</span> mergeText = joinToString(separator = <span class="hljs-string">""</span>) { it.content }
    <span class="hljs-keyword">if</span> (showRawThink) {
        log.info { <span class="hljs-string">"<span class="hljs-variable">$step</span> AIåŸå§‹æ€è€ƒ:<span class="hljs-subst">${mergeText}</span>"</span> }
    }

    <span class="hljs-comment">// ç§»é™¤&lt;think&gt;æ ‡ç­¾åŠå…¶åŒ…å«çš„å†…å®¹</span>
    <span class="hljs-keyword">val</span> thinkRegex = Regex(<span class="hljs-string">"""&lt;think&gt;[\s\S]*?&lt;/think&gt;"""</span>)
    <span class="hljs-keyword">val</span> cleanedContent = mergeText.replace(thinkRegex, <span class="hljs-string">""</span>)
    <span class="hljs-comment">// å‹ç¼©è¿ç»­çš„ç©ºç™½å­—ç¬¦ä¸ºå•ä¸ªç©ºæ ¼</span>
    <span class="hljs-keyword">val</span> whitespaceRegex = Regex(<span class="hljs-string">"""\s+"""</span>)
    <span class="hljs-keyword">val</span> compressedContent = cleanedContent.replace(whitespaceRegex, <span class="hljs-string">" "</span>)
    <span class="hljs-keyword">return</span> compressedContent.trim()
}

<span class="hljs-comment">/**
 * å‘AIæ¨¡å‹å‘é€è¯¢é—®å¹¶è·å–å“åº”ç»“æœ
 *
 * <span class="hljs-doctag">@param</span> prompt è¦å‘é€ç»™AIæ¨¡å‹çš„æç¤ºä¿¡æ¯
 * <span class="hljs-doctag">@return</span> AIæ¨¡å‹è¿”å›çš„æ¶ˆæ¯å“åº”åˆ—è¡¨
 */</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> RoutingContext.<span class="hljs-title">askAI</span><span class="hljs-params">(prompt: <span class="hljs-type">Prompt</span>)</span></span>: List&lt;Message.Response&gt; {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">//Koogçš„æ¨¡å‹æ”¶å½•å¹¶éƒ¨ç½²å¾ˆå®Œæ•´ï¼Œæœ‰ä¸€äº›å¾—è‡ªå·±å»å®šä¹‰ ç‰¹åˆ«æ˜¯Ollamaä¸­çš„</span>
        <span class="hljs-keyword">return</span> llm().execute(prompt, DEEPSEEK_R1_1_5B)
    } <span class="hljs-keyword">catch</span> (e: Exception) {
        log.error(e) { <span class="hljs-string">"LLMæ‰§è¡Œå¤±è´¥"</span> }
        <span class="hljs-keyword">throw</span> e
    }
}
</code></pre>
<h3 data-id="heading-29">åˆ›å»ºAI-AgentæœåŠ¡</h3>
<h4 data-id="heading-30">yamlé…ç½®</h4>
<p>é€‰æ‹©KOOGçš„KtorSDKä»¥ååªéœ€è¦é…ç½®ä»£ç†æ–¹å’Œåœ°å€å³å¯ï¼Œå¦‚æœæœ‰å¯†é’¥éœ€è¦å†™å…¥<code>apikey</code></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.koog.ai%2Fktor-plugin%2F" target="_blank" title="https://docs.koog.ai/ktor-plugin/" ref="nofollow noopener noreferrer">Ktor - Koog</a></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">koog:</span>
  <span class="hljs-attr">ollama:</span>
    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">baseUrl:</span> <span class="hljs-string">http://localhost:11434</span>
<span class="hljs-attr">ktor:</span>
  <span class="hljs-attr">application:</span>
        <span class="hljs-attr">modules:</span>
            <span class="hljs-bullet">-</span> <span class="hljs-string">com.setruth.mcp.client.MainKt.module</span>
  <span class="hljs-attr">deployment:</span>
    <span class="hljs-attr">port:</span> <span class="hljs-number">3001</span>
</code></pre>
<h4 data-id="heading-31">ä¸»ç¨‹åº</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> mapper = jacksonObjectMapper()
<span class="hljs-keyword">val</span> mcpClient = MCPClient()
<span class="hljs-comment">/**
 *
 * <span class="hljs-doctag">@author</span> setruth
 * <span class="hljs-doctag">@date</span> 2025/12/13
 * <span class="hljs-doctag">@time</span> 13:27
 */</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">main</span><span class="hljs-params">(args: <span class="hljs-type">Array</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span>: <span class="hljs-built_in">Unit</span> = io.ktor.server.netty.EngineMain.main(args)


<span class="hljs-function"><span class="hljs-keyword">fun</span> Application.<span class="hljs-title">module</span><span class="hljs-params">()</span></span> {
    monitor.subscribe(ApplicationStopping) { application -&gt;
        mcpClient.close()
    }
    install(ContentNegotiation) {
        jackson()
    }
    install(Koog)
    install(SSE)
    install(CORS){
        anyMethod()
        anyHost()
        allowCredentials = <span class="hljs-literal">true</span>
        allowNonSimpleContentTypes = <span class="hljs-literal">true</span>
    }
    routing {
        staticResources(<span class="hljs-string">"/"</span>, <span class="hljs-string">"static"</span>)
        appRoute()
    }
}
</code></pre>
<h3 data-id="heading-32">AI-Agentè¿è¡Œæµ‹è¯•</h3>
<p>è¿è¡Œåæˆ‘ä»¬çœ‹åˆ°è·å–åˆ°äº†å·¥å…·ï¼Œæ¥ä¸‹æ¥è¿æ¥æˆ‘ä»¬çš„<code>localhost:3000/chat</code>å»é€šè¿‡AI-Agentå’ŒAIå¯¹è¯çœ‹æ˜¯å¦èƒ½æ­£ç¡®é€‰æ‹©å·¥å…·</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a86c1897acb84ac08615bed4e3bd93e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS290bGluS1VH6LS15bee:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766312029&amp;x-signature=3LIxn2%2F6lp%2FjwWB9CDL0MOUTIBs%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-33">å®è·µç»“æœ</h2>
<blockquote>
<p>å½“è¯¢é—®AIåå­—çš„æ—¶å€™AIæ²¡æœ‰é€‰æ‹©å·¥å…·ç›´æ¥å›å¤æˆ‘ä»¬äº†âœ”ï¸</p>
<p>å½“æˆ‘ä»¬é—®æ—¶é—´çš„æ—¶å€™AIé€‰æ‹©äº†æˆ‘ä»¬çš„è·å–æ—¶é—´å·¥å…·æ‹¿åˆ°äº†æ—¶é—´å»è¿›è¡Œåˆ†æå›å¤âœ”ï¸</p>
</blockquote>
<p>è‡ªæ­¤æˆ‘ä»¬åˆ©ç”¨MCPæœåŠ¡å¯¹AIè¿›è¡Œäº†èƒ½åŠ›å¢å¼ºï¼Œå¹¶ä¸”æ˜¯åŸºäºæˆ‘ä»¬ç»™çš„æ•°æ®æ¥è¿›è¡Œå›å¤å›ç­”ï¼Œä¿è¯äº†å‡†ç¡®æ€§ä¹Ÿé¿å…äº†å¹»è§‰é—®é¢˜</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fdf0b6d245be440581d4bc8738a06772~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgS290bGluS1VH6LS15bee:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766312029&amp;x-signature=4rC5mHFgY5Jjp8dnuQp9kfyHux0%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-34">æ³¨æ„äº‹é¡¹</h2>
<p>AIæ¨ç†é€‰æ‹©å·¥å…·å¾ˆå¤§ä¸€å®šç¨‹åº¦ä¸Šå¾—çœ‹AIæœ¬èº«ï¼Œå°æ¨¡å‹æœ¬èº«æ¨ç†èƒ½åŠ›æ˜¯éå¸¸å·®åŠ²çš„ï¼Œå¾ˆéš¾æŒ‰ç…§ä½ çš„è§„èŒƒæ¥å®Œæ•´å“åº”ç»™ä½ ï¼Œè€Œä¸”å¯¹ä¸Šä¸‹æ–‡çš„åˆ†æä¹Ÿæœ‰é™ï¼Œæˆ‘æ‹¿1.5Bå½“æ—¶éƒ½è°ƒäº†å¥½ä¸€ä¼šPromptï¼Œæ‹¿7Bè™½ç„¶æ¨ç†èƒ½åŠ›å¥½ç‚¹ï¼Œä½†æ˜¯å¯¹äºè¿™ç§é•¿Promptçš„çº¦æŸAIå¾ˆå¤šæ—¶å€™ä¹Ÿæ¯”è¾ƒæ­»è„‘ç­‹ï¼Œå½“æˆ‘æ¢åœ¨çº¿APIæ¯”å¦‚Deepseekåï¼Œå¾ˆå®Œç¾çš„è¾¾åˆ°äº†é¢„è®¡æ•ˆæœã€‚æ‰€ä»¥å½“è°ƒPromptæ­»æ´»æ•ˆæœä¸å¯¹çš„æƒ…å†µä¸‹å»ºè®®è¯•è¯•æ¢ä¸ªå¤§ç‚¹çš„æ¨¡å‹ï¼Œæ¨èå…ˆæ‹¿åœ¨çº¿AIæ¥å…¥æ¥è¿›è¡ŒPromptè°ƒæ•´ï¼Œå†æ ¹æ®å°ç‚¹çš„æ¨¡å‹é€æ­¥ç²¾ç»†åŒ–ï¼Œå¹¶ä¸”å¤§æ¨¡å‹ä¹Ÿèƒ½ç†è§£æ›´å¤šçš„å·¥å…· è€Œä¸åªæ˜¯ç®€å•çš„æ—¶é—´è·å–ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸŒ WebAIGCçš„æŠ€æœ¯æ™®æƒ ï¼šé™ä½åˆ›ä½œé—¨æ§›è¿˜æ˜¯åŠ å‰§æ•°å­—é¸¿æ²Ÿï¼Ÿ]]></title>    <link>https://juejin.cn/post/7583234966634643490</link>    <guid>https://juejin.cn/post/7583234966634643490</guid>    <pubDate>2025-12-14T10:20:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583234966634643490" data-draft-id="7583168260797300776" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸŒ WebAIGCçš„æŠ€æœ¯æ™®æƒ ï¼šé™ä½åˆ›ä½œé—¨æ§›è¿˜æ˜¯åŠ å‰§æ•°å­—é¸¿æ²Ÿï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC"/> <meta itemprop="datePublished" content="2025-12-14T10:20:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸŒ WebAIGCçš„æŠ€æœ¯æ™®æƒ ï¼šé™ä½åˆ›ä½œé—¨æ§›è¿˜æ˜¯åŠ å‰§æ•°å­—é¸¿æ²Ÿï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T10:20:19.000Z" title="Sun Dec 14 2025 10:20:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ§© ä¸€ã€AIGCçš„å´›èµ·ï¼šåˆ›é€ åŠ›çš„â€œè’¸æ±½æœºæ—¶ä»£â€</h2>
<p>å›é¡¾äººç±»ç§‘æŠ€å²ï¼Œæ¯æ¬¡<strong>ç®—åŠ›çš„è·ƒè¿</strong>éƒ½ä¼šå¸¦æ¥ä¸€åœºæ€æƒ³ä¸ç”Ÿäº§åŠ›çš„é©å‘½ã€‚ä»æ‰“å­”å¡åˆ°GPUå¹¶è¡Œè®¡ç®—ï¼Œå¦‚ä»Šæˆ‘ä»¬è¿æ¥äº†â€œ<strong>AIGCï¼ˆAI Generated Contentï¼‰</strong> â€çš„æ´ªæµã€‚<br/>
è€Œâ€œ<strong>WebAIGC</strong>â€è¿™ä¸€æ¦‚å¿µï¼Œåˆ™æ˜¯AIGCæŠ€æœ¯ä¸Webç”Ÿæ€çš„ç»“åˆä½“â€”â€”å°±åƒè’¸æ±½æœºè£…ä¸Šäº†è½®å­ï¼Œä»å·¥å‚é©¶å…¥äº†æ¯ä¸ªäººçš„æµè§ˆå™¨ã€‚</p>
<p>è¿‡å»ï¼Œåˆ›ä½œé«˜è´¨é‡ç½‘é¡µã€æ’ç”»ã€éŸ³ä¹æˆ–æ–‡ç« éœ€è¦æ‰å®çš„çŸ¥è¯†å‚¨å¤‡ä¸è€å¿ƒè°ƒè¯•çš„æŠ€èƒ½ã€‚<br/>
ä½†ä»Šå¤©ï¼Œä¸€ä¸ªæ–°äººä¹Ÿèƒ½åœ¨å‡ åˆ†é’Ÿå†…ç”Ÿæˆç‚«é…·çš„ç½‘é¡µã€è¯—æ„çš„æ–‡ç« ã€ç”šè‡³æ¸¸æˆåŸå‹ã€‚</p>
<blockquote>
<p>ğŸ§™â€â™‚ï¸ å¯ä»¥è¯´ï¼ŒAIæˆäº†â€œæ•°å­—æ—¶ä»£çš„ç»‡å¥³â€ï¼Œè€Œäººç±»æ­£åœ¨å­¦ç€å½“â€œæ”¾ç¾Šçš„æ‡’æ±‰â€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">âš™ï¸ äºŒã€åº•å±‚è§†è§’ï¼šä»ç®—å­åˆ°æµè§ˆå™¨çš„â€œåˆ›ä½œæµæ°´çº¿â€</h2>
<p>ä»ç³»ç»Ÿå±‚è§’åº¦çœ‹ï¼ŒWebAIGCçš„èƒŒåå¹¶ä¸æ˜¯â€œé­”æ³•â€ï¼Œè€Œæ˜¯ä¸€åœºåºå¤§çš„è®¡ç®—åä½œã€‚</p>
<h3 data-id="heading-2">ğŸ§  1. æ¨¡å‹ç®—å­ä¸Tokenæµè½¬</h3>
<p>åœ¨æ·±åº¦å­¦ä¹ æ¡†æ¶åº•å±‚ï¼Œæ¯ä¸ªAIGCç”Ÿæˆç»“æœéƒ½æ¥è‡ª<strong>ç®—å­ï¼ˆOperatorï¼‰<strong>çš„å±‚å±‚è°ƒç”¨å’Œ</strong>Tokenæ¦‚ç‡åˆ†å¸ƒ</strong>çš„é‡é‡‡æ ·ã€‚<br/>
æ¯ä¸€æ¬¡ä½ è¾“å…¥ä¸€å¥æç¤ºè¯ï¼ˆpromptï¼‰ï¼Œå®è´¨ä¸Šæ˜¯è§¦å‘äº†ä¸€åœºå¤šç»´åº¦çš„å‘é‡å¬å”¤ä»ªå¼ã€‚<br/>
ç³»ç»Ÿä¼šå°†æ–‡æœ¬æ˜ å°„æˆé«˜ç»´å‘é‡ï¼Œåœ¨ä¸€ä¸ªåºå¤§çš„è¯­ä¹‰ç©ºé—´ä¸­â€œæ‰©æ•£â€ä¸â€œæ”¶æ•›â€ï¼Œç›´è‡³ç”Ÿæˆç¬¦åˆè¯­å¢ƒçš„è¾“å‡ºã€‚</p>
<h3 data-id="heading-3">ğŸŒ 2. è·¨ç«¯éƒ¨ç½²ä¸æ¨ç†ä¼˜åŒ–</h3>
<p>ä¸ºäº†è®©AIGCåœ¨ç½‘é¡µç«¯ä¹Ÿèƒ½æµç•…è¿è¡Œï¼Œåº•å±‚é‡‡ç”¨äº†å¤šç§ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<ul>
<li><strong>WebAssemblyï¼ˆWASMï¼‰</strong> ï¼šè®©C++æˆ–CUDAçš„ç®—åŠ›é­”æ³•èƒ½å®‰å…¨åœ°åœ¨æµè§ˆå™¨ä¸­æ–½å±•ã€‚</li>
<li><strong>ONNX Runtime Web</strong>ï¼šè·¨æ¡†æ¶æ¨¡å‹æ¨ç†ï¼Œåƒæ˜¯AIçš„â€œé€šç”¨ç¿»è¯‘å™¨â€ã€‚</li>
<li><strong>é‡åŒ–ä¸è’¸é¦æŠ€æœ¯</strong>ï¼šå‡å°‘æ¨¡å‹ä½“ç§¯ï¼Œç‰ºç‰²è½»å¾®ç²¾åº¦ï¼Œè·å¾—â€œä¸æ»‘ä½“éªŒâ€ã€‚</li>
</ul>
<p>è¿™äº›æŠ€æœ¯è®©AIä¸å†æ˜¯â€œäº‘ç«¯çš„ç¥è°•â€ï¼Œè€Œå˜æˆâ€œç”¨æˆ·æœ¬åœ°çš„åˆä½œè€…â€ã€‚</p>
<hr/>
<h2 data-id="heading-4">âœ¨ ä¸‰ã€æŠ€æœ¯æ™®æƒ ï¼šæ°‘ä¸»åŒ–åˆ›ä½œçš„æ˜¥å¤©ï¼Ÿ</h2>
<p>WebAIGCçš„æŠ€æœ¯æ™®æƒ ç¡®å®åœ¨<strong>é™ä½åˆ›ä½œé—¨æ§›</strong>ã€‚</p>
<h3 data-id="heading-5">ğŸ¨ 1. äººäººéƒ½æ˜¯åˆ›ä½œè€…</h3>
<p>è¿‡å»ï¼Œä¸€ä¸ªç½‘é¡µå¯èƒ½éœ€è¦æŒæ¡CSSã€JSã€åç«¯æ¡†æ¶ï¼›<br/>
ç°åœ¨ï¼Œåªè¦è¾“å…¥ä¸€å¥è¯ï¼šâ€œå¸®æˆ‘ç”Ÿæˆä¸€ä¸ªå¸¦æ˜Ÿç©ºèƒŒæ™¯çš„äº¤äº’å¼åç‰‡é¡µâ€ï¼ŒAIå°±èƒ½ç»™å‡ºè¿‘ä¹å®Œç¾çš„ç»“æœã€‚<br/>
ç”šè‡³ä½ å¯ä»¥ç›´æ¥è¿è¡Œä¸‹é¢è¿™æ®µ <strong>JS ç¤ºä¾‹</strong>ï¼Œä½“éªŒâ€œAIä»£ç é­”æ³•â€ ğŸŒ ï¼š</p>
<pre><code class="hljs language-css" lang="css">// ğŸª„ åŸºäºAIGCç†å¿µçš„ç®€æ˜“ç½‘é¡µç”Ÿæˆå™¨æ¨¡æ‹Ÿ
function generatePage(prompt) {
  const moods = <span class="hljs-selector-attr">[<span class="hljs-string">"âœ¨"</span>, <span class="hljs-string">"ğŸ”¥"</span>, <span class="hljs-string">"ğŸŒˆ"</span>, <span class="hljs-string">"ğŸ§ "</span>]</span>;
  const randomMood = moods<span class="hljs-selector-attr">[Math.floor(Math.random() * moods.length)]</span>;
  
  return `
    &lt;<span class="hljs-selector-tag">div</span> style="<span class="hljs-attribute">font-family</span>:Arial; <span class="hljs-attribute">text-align</span>:center; <span class="hljs-attribute">padding</span>:<span class="hljs-number">2rem</span>;"&gt;
      &lt;<span class="hljs-selector-tag">h1</span>&gt;${randomMood} AIGC åˆ›ä½œç»“æœ&lt;/<span class="hljs-selector-tag">h1</span>&gt;
      &lt;<span class="hljs-selector-tag">p</span>&gt;Prompt: ${prompt}&lt;/<span class="hljs-selector-tag">p</span>&gt;
      &lt;<span class="hljs-selector-tag">p</span> style="<span class="hljs-attribute">color</span>:gray;"&gt;ç½‘é¡µç”±AIæƒ³è±¡ç”Ÿæˆï¼Œç”¨å¿ƒè°ƒæ ¡çš„äººç±»åŠ æŒã€‚&lt;/<span class="hljs-selector-tag">p</span>&gt;
    &lt;/<span class="hljs-selector-tag">div</span>&gt;
  `;
}

// ç¤ºä¾‹è°ƒç”¨
document<span class="hljs-selector-class">.body</span><span class="hljs-selector-class">.innerHTML</span> = generatePage("ç”Ÿæˆä¸€é¡µè®²è¿°æ•°å­—å¹³æƒçš„ç½‘é¡µ");
</code></pre>
<p>è¿™ç§â€œè°ƒç”¨å³åˆ›é€ â€çš„èŒƒå¼ï¼Œè®©æŠ€æœ¯ä¸è‰ºæœ¯ä¹‹é—´çš„è¾¹ç•Œé€æ¸æ¨¡ç³Šã€‚</p>
<hr/>
<h2 data-id="heading-6">ğŸŒŠ å››ã€éšå¿§ï¼šæŠ€æœ¯æ™®æƒ ï¼Œè¿˜æ˜¯æ•°å­—é¸¿æ²Ÿçš„å¦ä¸€ç§åŠ å‰§ï¼Ÿ</h2>
<p>AIGCçš„æ™®æƒ ä¹Ÿéšè—ç€ä¸€ä¸ªæ‚–è®ºï¼š<br/>
<strong>å½“é—¨æ§›é™ä½æ—¶ï¼Œæ–°çš„é—¨æ§›åˆåœ¨æ›´é«˜çš„ç»´åº¦æ‚„ç„¶å‡ºç°ã€‚</strong></p>
<h3 data-id="heading-7">ğŸ§© 1. ç®—åŠ›é¸¿æ²Ÿ</h3>
<p>è¡¨é¢ä¸Šï¼Œäººäººå¯ä»¥ç”¨AIåˆ›ä½œï¼›ä½†åº•å±‚ç®—åŠ›ä¾ç„¶æŒæ¡åœ¨å°‘æ•°å¤§æ¨¡å‹å‚å•†æ‰‹ä¸­ã€‚<br/>
æƒ³è¦â€œè‡ªç”±â€ç”Ÿæˆé«˜æ¸…åŠ¨æ€å†…å®¹ï¼Œä½ å¯èƒ½éœ€è¦å¼ºå¤§çš„GPUæˆ–ä»˜è´¹APIã€‚</p>
<blockquote>
<p>è´«ç©·é™åˆ¶äº†åˆ›é€ åŠ›ï¼Œä¹Ÿé™åˆ¶äº†ç®—åŠ›çš„å¸¦å®½ã€‚</p>
</blockquote>
<h3 data-id="heading-8">ğŸ”’ 2. æ•°æ®ä¸ç‰ˆæƒé—®é¢˜</h3>
<p>AIçš„â€œçŸ¥è¯†â€å¾€å¾€æ¥è‡ªæµ·é‡æ•°æ®çš„è®­ç»ƒã€‚åˆ›ä½œæ°‘ä¸»åŒ–çš„åŒæ—¶ï¼Œä¹Ÿæ©ç›–äº†<strong>åŸåˆ›æ€§çš„ç¨€é‡Š</strong>ã€‚<br/>
æœªæ¥çš„æ•°å­—åˆ›ä½œï¼Œä¹Ÿè®¸è¦é¢å¯¹ä¸€ä¸ªæ›´å“²å­¦çš„é—®é¢˜ï¼š</p>
<blockquote>
<p>â€œå½“æ¯ä¸ªäººéƒ½èƒ½åˆ›é€ å†…å®¹ï¼Œå†…å®¹æœ¬èº«è¿˜å…·å¤‡æ„ä¹‰å—ï¼Ÿâ€</p>
</blockquote>
<h3 data-id="heading-9">ğŸ§­ 3. æ•™è‚²ä¸è®¤çŸ¥å·®è·</h3>
<p>æŒæ¡Promptå·¥ç¨‹æŠ€å·§ã€ç†è§£æ¨¡å‹åå·®ï¼Œè¿™äº›ä»éœ€è¦æŠ€æœ¯ç´ å…»ã€‚<br/>
æ–°çš„â€œæ–‡ç›²â€ï¼Œä¸å†æ˜¯ä¸è¯†å­—çš„äººï¼Œè€Œæ˜¯ä¸ä¼šä¸AIå¯¹è¯çš„äººã€‚</p>
<hr/>
<h2 data-id="heading-10">ğŸš€ äº”ã€æœªæ¥ç•…æƒ³ï¼šè®©AIæˆä¸ºæ¡¥è€Œéå¢™</h2>
<p>è¦é¿å…æ•°å­—é¸¿æ²Ÿçš„åŠ å‰§ï¼Œæˆ‘ä»¬éœ€è¦çš„ä¸ä»…æ˜¯æŠ€æœ¯æ™®æƒ ï¼Œæ›´æ˜¯<strong>è®¤çŸ¥æ™®æƒ </strong>ã€‚<br/>
è¿™åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>å¼€æºæ¨¡å‹ä¸æœ¬åœ°åŒ–æ¨ç†æ¡†æ¶</strong>ï¼Œè®©æ›´å¤šèµ„æºæœ‰é™åœ°åŒºä¹Ÿèƒ½ä½¿ç”¨AIGCã€‚</li>
<li><strong>æ•°å­—ç´ å…»æ•™è‚²</strong>ï¼Œåœ¨å­¦æ ¡ä¸ç¤¾åŒºæ™®åŠAIå·¥å…·ä½¿ç”¨å’Œä¼¦ç†ã€‚</li>
<li><strong>è·¨é¢†åŸŸåˆä½œ</strong>ï¼šè®©è‰ºæœ¯å®¶ã€ç¨‹åºå‘˜ã€å“²å­¦å®¶å…±åŒå‚ä¸AIçš„åˆ›é€ ç”Ÿæ€ã€‚</li>
</ol>
<p>AIä¸æ˜¯è¦â€œå–ä»£äººç±»â€ï¼Œè€Œæ˜¯å¸®åŠ©äººç±»<strong>æ‰¾å›åˆ›é€ çš„åˆå¿ƒ</strong>ã€‚<br/>
æ¯•ç«Ÿï¼Œæ­£å¦‚å¤å¸Œè…Šå“²äººæ‰€è¯´ï¼šâ€œæŠ€æœ¯çš„ç»ˆææ„ä¹‰ï¼Œä¸æ˜¯æŒæ§ï¼Œè€Œæ˜¯ç†è§£ã€‚â€</p>
<hr/>
<h2 data-id="heading-11">ğŸŒˆ å…­ã€ç»“è¯­ï¼šå½“AIå˜å¾—â€œæ¸©æŸ”â€</h2>
<p>AIæŠ€æœ¯å¦‚é£ï¼Œèƒ½å¸¦æ¥æš–æ„ï¼Œä¹Ÿèƒ½æ€èµ·é£æš´ã€‚<br/>
<strong>å…³é”®åœ¨äºï¼Œæˆ‘ä»¬æ˜¯å¦èƒ½è®©æŠ€æœ¯çš„é£ï¼Œå¹è¿›æ¯ä¸ªäººçš„éº¦ç”°ï¼Œè€Œä¸æ˜¯å°‘æ•°äººçš„èŠ±å›­ã€‚</strong></p>
<blockquote>
<p>ğŸŒ WebAIGCçš„æ™®æƒ ï¼Œä¸ä»…æ„å‘³ç€â€œè®©äººäººèƒ½åˆ›ä½œâ€ï¼Œ<br/>
æ›´æ„å‘³ç€â€œè®©äººäººèƒ½ç†è§£åˆ›ä½œçš„æ„ä¹‰â€ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Next.jsç¬¬åä¸‰ç« (ç¼“å­˜ç»„ä»¶)]]></title>    <link>https://juejin.cn/post/7582958136258215972</link>    <guid>https://juejin.cn/post/7582958136258215972</guid>    <pubDate>2025-12-14T10:23:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582958136258215972" data-draft-id="7582958136258199588" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Next.jsç¬¬åä¸‰ç« (ç¼“å­˜ç»„ä»¶)"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-14T10:23:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°æ»¡zs"/> <meta itemprop="url" content="https://juejin.cn/user/2463384809252397"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Next.jsç¬¬åä¸‰ç« (ç¼“å­˜ç»„ä»¶)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2463384809252397/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°æ»¡zs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T10:23:12.000Z" title="Sun Dec 14 2025 10:23:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç¼“å­˜ç»„ä»¶(Cache Components)</h2>
<h4 data-id="heading-1">ä»€ä¹ˆæ˜¯Cache Components?</h4>
<p>Cache Components æ˜¯Next.js(16)ç‰ˆæœ¬ç‰¹æœ‰çš„æœºåˆ¶ï¼Œå®ç°äº†<code>é™æ€å†…å®¹</code> <code>åŠ¨æ€å†…å®¹</code> <code>ç¼“å­˜å†…å®¹</code>çš„æ··åˆç¼–æ’ã€‚ä¿ç•™äº†é™æ€å†…å®¹çš„åŠ è½½é€Ÿåº¦ï¼Œåˆå…·å¤‡åŠ¨æ€æ¸²æŸ“çš„çµæ´»æ€§ï¼Œè§£å†³äº†<code>é™æ€å†…å®¹(åŠ è½½å¿«ä½†æ— æ³•å®æ—¶æ›´æ–°æ•°æ®)</code>å’Œ<code>åŠ¨æ€å†…å®¹(åŠ è½½æ…¢ä½†å¯ä»¥å®æ—¶æ›´æ–°æ•°æ®)</code>æƒè¡¡çš„é—®é¢˜ã€‚</p>
<ul>
<li>
<p>é™æ€å†…å®¹: æ„å»º(<code>npm run build</code>)æ—¶è¿›è¡Œé¢„æ¸²æŸ“ï¼Œä¾‹å¦‚ <code>ã€Œæœ¬åœ°æ–‡ä»¶ã€ã€Œæ¨¡å—å¯¼å…¥ã€ã€Œçº¯è®¡ç®—ã€ï¼ˆæ— ç½‘ç»œè¯·æ±‚ã€æ— ç”¨æˆ·ç›¸å…³æ•°æ®ï¼‰</code>,ä¼šè¢«ç›´æ¥ç¼–è¯‘æˆ<code>HTML</code>ç¬é—´åŠ è½½ã€ç«‹å³å“åº”ã€‚</p>
</li>
<li>
<p>åŠ¨æ€å†…å®¹ï¼šç”¨æˆ·å‘èµ·è¯·æ±‚æ—¶æ‰å¼€å§‹æ¸²æŸ“çš„å†…å®¹ï¼Œä¾èµ– â€œå®æ—¶æ•°æ®â€ æˆ– â€œç”¨æˆ·ä¸ªæ€§åŒ–ä¿¡æ¯â€ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½å¯èƒ½ç”Ÿæˆä¸åŒç»“æœï¼Œä¸ä¼šè¢«ç¼“å­˜ã€‚ä¾‹å¦‚<code>ã€Œå®æ—¶æ•°æ®æºã€ï¼ˆå¦‚å®æ—¶æ¥å£ã€æ•°æ®åº“å®æ—¶æŸ¥è¯¢ï¼‰æˆ–ã€Œç”¨æˆ·è¯·æ±‚ä¸Šä¸‹æ–‡ã€ï¼ˆå¦‚ Cookieã€è¯·æ±‚å¤´ã€URL å‚æ•°ï¼‰</code>ã€‚</p>
</li>
<li>
<p>ç¼“å­˜å†…å®¹ï¼šç¼“å­˜å†…å®¹çš„æœ¬è´¨å°±æ˜¯ç¼“å­˜åŠ¨æ€æ•°æ®ï¼Œç¼“å­˜ä¹‹åä¼šè¢«çº³å…¥<code>é™æ€å¤–å£³(Static Shell)</code>,é™æ€å¤–å£³å°±ç±»ä¼¼äº<code>æ¯›å¯æˆ¿</code>ï¼Œä¼šæå‰æŠŠç»“æ„æ­å»ºå¥½ï¼Œåç»­åœ¨é€šè¿‡(æµå¼ä¼ è¾“)å¡«å……é‡Œé¢çš„åŠ¨æ€å†…å®¹ã€‚</p>
</li>
</ul>





















<table><thead><tr><th>ä¼ ç»Ÿæ–¹æ¡ˆ</th><th>Cache Components</th></tr></thead><tbody><tr><td>é™æ€é¡µé¢ï¼šæ•°æ®æ— æ³•å®æ—¶æ›´æ–°</td><td>æ”¯æŒç¼“å­˜å†…å®¹é‡æ–°éªŒè¯ï¼ŒåŠ¨æ€å†…å®¹æµå¼è¡¥å……</td></tr><tr><td>åŠ¨æ€é¡µé¢ï¼šåˆå§‹åŠ è½½æ…¢ã€æœåŠ¡å™¨å‹åŠ›å¤§</td><td>é™æ€å¤–å£³ä¼˜å…ˆè¿”å›ï¼ŒåŠ¨æ€å†…å®¹å¹¶è¡Œæ¸²æŸ“</td></tr><tr><td>å®¢æˆ·ç«¯æ¸²æŸ“ï¼šbundle ä½“ç§¯å¤§ã€é¦–å±æ…¢</td><td>æœåŠ¡å™¨é¢„æ¸²æŸ“æ ¸å¿ƒå†…å®¹ï¼Œå®¢æˆ·ç«¯ä»…è¡¥å……åŠ¨æ€éƒ¨åˆ†</td></tr></tbody></table>
<h4 data-id="heading-2">å¯ç”¨Cache Components</h4>
<p>Cache Components ä¸ºå¯é€‰åŠŸèƒ½ï¼Œéœ€åœ¨ Next é…ç½®æ–‡ä»¶ä¸­æ˜¾å¼å¯ç”¨ï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">NextConfig</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"next"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-attr">nextConfig</span>: <span class="hljs-title class_">NextConfig</span> = {
  <span class="hljs-attr">cacheComponents</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¯ç”¨ç¼“å­˜ç»„ä»¶</span>
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> nextConfig;
</code></pre>
<h5 data-id="heading-3">1. é™æ€å†…å®¹å±•ç¤º</h5>
<p>é€‚ç”¨åœºæ™¯ï¼šä»…ä¾èµ–åŒæ­¥ I/Oï¼ˆå¦‚ fs.readFileSyncï¼‰ã€æ¨¡å—å¯¼å…¥ã€çº¯è®¡ç®—çš„ç»„ä»¶</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">'node:fs'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> data = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">'data.json'</span>, <span class="hljs-string">'utf-8'</span>) <span class="hljs-comment">//æœ¬åœ°æ–‡ä»¶è¯»å–</span>
    <span class="hljs-keyword">const</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(data)
    <span class="hljs-keyword">const</span> impData = <span class="hljs-keyword">await</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../../../data.json'</span>) <span class="hljs-comment">//æ¨¡å—å¯¼å…¥</span>
    <span class="hljs-keyword">const</span> names = impData.<span class="hljs-property">list</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span>=&gt;</span>item.<span class="hljs-property">name</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">','</span>) <span class="hljs-comment">//çº¯è®¡ç®—</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(impData)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(names)
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
                {json.list.map((item: any) =&gt; (
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span>&gt;</span>{item.name} - {item.age}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                ))}
            <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f95aabdf399e4a2d95c79ed6f10f6f33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5ruhenM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766312592&amp;x-signature=RnQ7Mi0mGCLUMhn9%2BqvzEcigj2I%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-4">2.1 åŠ¨æ€å†…å®¹å±•ç¤º</h5>
<p>é€‚ç”¨åœºæ™¯ï¼šfetchè¯·æ±‚ã€cookiesã€headersç­‰åŠ¨æ€æ•°æ®</p>
<blockquote>
<p>åŠ¨æ€å†…å®¹å¿…é¡»é…åˆSuspenseä½¿ç”¨ã€‚</p>
</blockquote>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Suspense</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>
<span class="hljs-keyword">import</span> { cookies } <span class="hljs-keyword">from</span> <span class="hljs-string">"next/headers"</span>

<span class="hljs-keyword">const</span> <span class="hljs-title function_">DynamicContent</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://www.mocklib.com/mock/random/name'</span>) <span class="hljs-comment">//éšæœºç”Ÿæˆä¸€ä¸ªåç§°</span>
    <span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">json</span>()
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json)
    <span class="hljs-keyword">const</span> cookieStore = <span class="hljs-keyword">await</span> <span class="hljs-title function_">cookies</span>() <span class="hljs-comment">//è·å–cookie</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cookieStore)
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>åŠ¨æ€å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>åç§°ï¼š{json.name}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"/>) {

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>åŠ¨æ€å†…å®¹Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">DynamicContent</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/676b89ba6c6d42d6ab7c9a92394cc9ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5ruhenM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766312592&amp;x-signature=Kxp5U%2BwHvBNPLJuel8WBCsP8NWU%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-5">2.2 å®ç°åŸç†</h5>
<p>Next.js ä¼šé€šè¿‡<code>(Partial Prerendering/PPR)</code>æŠ€æœ¯,å®ç°é™æ€å¤–å£³(Static Shell)æ¸²æŸ“ï¼Œæä¾›å ä½ç¬¦ï¼Œå½“ç”¨æˆ·è¯·æ±‚æ—¶ï¼Œå†é€šè¿‡æµå¼ä¼ è¾“(Streaming)å¡«å……é‡Œé¢çš„åŠ¨æ€å†…å®¹ï¼Œä»¥æ­¤æå‡é¦–å±åŠ è½½é€Ÿåº¦å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/adc6b9ee874949d8a9d0f691ec8706ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5ruhenM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766312592&amp;x-signature=A1zRfCxECpKB8uaQy3lxpmtTirA%3D" alt="image.png" loading="lazy"/></p>
<p>æˆ‘ä»¬è§‚å¯Ÿä¸Šå›¾</p>
<ul>
<li>
<p><code>&lt;h1&gt;Home&lt;/h1&gt;</code>ï¼š çº¯é™æ€å†…å®¹ï¼Œå±äºé™æ€å¤–å£³çš„ä¸€éƒ¨åˆ†ï¼Œæ„å»º / è¯·æ±‚æ—¶ç›´æ¥æ¸²æŸ“ï¼Œæµè§ˆå™¨èƒ½ç«‹å³æ˜¾ç¤ºã€‚</p>
</li>
<li>
<p><code>&lt;template id="B:0"&gt;&lt;/template&gt;</code> åŠ¨æ€å†…å®¹çš„å®¹å™¨æ¨¡æ¿ï¼Œåç»­ç”¨æ¥æŒ‚è½½å¼‚æ­¥åŠ è½½çš„åŠ¨æ€å†…å®¹</p>
</li>
<li>
<p><code>&lt;div&gt;åŠ¨æ€å†…å®¹Loading...&lt;/div&gt;</code>ï¼šå ä½ç¬¦ï¼ˆfallbackï¼‰ï¼Œå±äºé™æ€å¤–å£³çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨åŠ¨æ€å†…å®¹åŠ è½½å®Œæˆå‰æ˜¾ç¤ºã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/030007fe15934d0f83f932a99648ac2f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5ruhenM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766312592&amp;x-signature=nGnY%2FrvETk%2BlJalRcMgijMwztQs%3D" alt="image.png" loading="lazy"/></p>
<ul>
<li>
<p>è¿™ä¸ª <code>&lt;div&gt;</code> åˆå§‹ä¸º hiddenï¼Œæ˜¯æœåŠ¡å™¨å¼‚æ­¥æ¸²æŸ“å®Œæˆçš„åŠ¨æ€å†…å®¹ï¼Œç­‰å¾…å®¢æˆ·ç«¯è„šæœ¬è§¦å‘åæ›¿æ¢åˆ°å ä½ç¬¦ä½ç½®ã€‚</p>
</li>
<li>
<p>id="S:0" ä¸å‰é¢çš„ <code>&lt;template id="B:0"&gt;</code> ä¸€ä¸€å¯¹åº”ï¼Œæ˜¯ â€œåŠ¨æ€å†…å®¹ - å ä½ç¬¦â€ çš„å…³è”æ ‡è¯†ã€‚</p>
</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/704fcb36a784467f820198b31d07b674~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5ruhenM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766312592&amp;x-signature=1NjqnpghA8GewBhv6z99wmixCoE%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-ts" lang="ts">$RC(<span class="hljs-string">"B:0"</span>, <span class="hljs-string">"S:0"</span>) <span class="hljs-comment">// å…³é”®è°ƒç”¨ï¼šå…³è” B:0 å ä½ç¬¦å’Œ S:0 åŠ¨æ€å†…å®¹</span>
</code></pre>
<ul>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>R</mi><mi>C</mi><mtext>ï¼ˆ</mtext><mi>R</mi><mi>e</mi><mi>a</mi><mi>c</mi><mi>t</mi><mi>C</mi><mi>o</mi><mi>n</mi><mi>t</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>R</mi><mi>e</mi><mi>p</mi><mi>l</mi><mi>a</mi><mi>c</mi><mi>e</mi><mtext>ï¼‰ï¼šæ‰¾åˆ°</mtext><mi>i</mi><mi>d</mi><mo>=</mo><mi mathvariant="normal">"</mi><mi>B</mi><mo>:</mo><mn>0</mn><mi mathvariant="normal">"</mi><mtext>çš„å ä½ç¬¦å’Œ</mtext><mi>i</mi><mi>d</mi><mo>=</mo><mi mathvariant="normal">"</mi><mi>S</mi><mo>:</mo><mn>0</mn><mi mathvariant="normal">"</mi><mtext>çš„åŠ¨æ€å†…å®¹ï¼Œå°†å…¶åŠ å…¥æ›¿æ¢é˜Ÿåˆ—</mtext></mrow><annotation encoding="application/x-tex">RCï¼ˆReact Content Replaceï¼‰ï¼šæ‰¾åˆ° id="B:0" çš„å ä½ç¬¦å’Œ id="S:0" çš„åŠ¨æ€å†…å®¹ï¼Œå°†å…¶åŠ å…¥æ›¿æ¢é˜Ÿåˆ— </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">RC</span><span class="mord cjk_fallback">ï¼ˆ</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">c</span><span class="mord mathnormal" style="margin-right:0.07153em;">tC</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.00773em;">tR</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.01968em;">pl</span><span class="mord mathnormal">a</span><span class="mord mathnormal">ce</span><span class="mord cjk_fallback">ï¼‰ï¼šæ‰¾åˆ°</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord">"</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord">0"</span><span class="mord cjk_fallback">çš„å ä½ç¬¦å’Œ</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord">"</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6944em;"/><span class="mord">0"</span><span class="mord cjk_fallback">çš„åŠ¨æ€å†…å®¹ï¼Œå°†å…¶åŠ å…¥æ›¿æ¢é˜Ÿåˆ—</span></span></span></span></span>RBã€‚</li>
<li>$RVï¼ˆReact Content Renderï¼‰ï¼šåœ¨åŠ¨ç”»å¸§ / è¶…æ—¶åæ‰§è¡Œæ›¿æ¢ï¼Œç§»é™¤åŠ è½½å ä½ç¬¦ï¼Œå°†åŠ¨æ€å†…å®¹æ’å…¥åˆ°é¡µé¢ä¸­ï¼Œå®Œæˆæœ€ç»ˆæ¸²æŸ“ã€‚</li>
</ul>
<h5 data-id="heading-6">2.3 éç¡®å®šæ“ä½œ</h5>
<p>ä¾‹å¦‚: <code>éšæœºæ•°</code>ã€<code>æ—¶é—´æˆ³</code>ç­‰éç¡®å®šæ“ä½œï¼Œæ¯æ¬¡è¯·æ±‚éƒ½å¯èƒ½ç”Ÿæˆä¸åŒç»“æœã€‚</p>
<p>ç›´æ¥ä½¿ç”¨å°±ä¼šæŠ¥é”™å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>Error: Route "/home" used <code>Math.random()</code> before accessing either uncached data (e.g. <code>fetch()</code>) or Request data (e.g. <code>cookies()</code>, <code>headers()</code>, <code>connection()</code>, and <code>searchParams</code>). Accessing random values synchronously in a Server Component requires reading one of these data sources first. Alternatively, consider moving this expression into a Client Component or Cache Component. See more info here: <a href="https://link.juejin.cn?target=https%3A%2F%2Fnextjs.org%2Fdocs%2Fmessages%2Fnext-prerender-random" target="_blank" title="https://nextjs.org/docs/messages/next-prerender-random" ref="nofollow noopener noreferrer">nextjs.org/docs/messagâ€¦</a>
at DynamicContent (page.tsx:5:25)
at Home (page.tsx:27:17)</p>
</blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>ä½¿ç”¨SuspenseåŒ…è£¹ï¼Œç„¶åä½¿ç”¨connectionè¡¨ç¤ºä¸è¦é¢„æ¸²æŸ“è¿™éƒ¨åˆ†ã€‚</p>
<p>Next.jsé»˜è®¤ä¼šå°è¯•å°½å¯èƒ½å¤šåœ°é™æ€é¢„æ¸²æŸ“é¡µé¢å†…å®¹ã€‚ä½†åƒ <code>Math.random()</code> è¿™æ ·çš„å€¼æ¯æ¬¡è°ƒç”¨ç»“æœéƒ½ä¸åŒï¼Œå¦‚æœåœ¨é¢„æ¸²æŸ“æ—¶æ‰§è¡Œï¼Œé‚£è¿™ä¸ª"éšæœºå€¼"å°±è¢«å›ºå®šäº†ï¼Œå¤±å»äº†æ„ä¹‰ã€‚
é€šè¿‡åœ¨ Math.random() ä¹‹å‰è°ƒç”¨ await connection()ï¼Œä½ æ˜ç¡®å‘Šè¯‰ Next.jsï¼š</p>
<ul>
<li>ä¸è¦é¢„æ¸²æŸ“è¿™éƒ¨åˆ†</li>
<li>ç­‰çœŸæ­£æœ‰ç”¨æˆ·è¯·æ±‚æ—¶å†æ‰§è¡Œ</li>
</ul>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Suspense</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>
<span class="hljs-keyword">import</span> { connection } <span class="hljs-keyword">from</span> <span class="hljs-string">"next/server"</span>

<span class="hljs-keyword">const</span> <span class="hljs-title function_">DynamicContent</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">connection</span>() <span class="hljs-comment">//ä½¿ç”¨connectionè¡¨ç¤ºä¸è¦é¢„æ¸²æŸ“è¿™éƒ¨åˆ†</span>
    <span class="hljs-keyword">const</span> random = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(random, now)
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>åŠ¨æ€å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>åç§°ï¼š{random}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>æ—¶é—´ï¼š{now}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"/>) {

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>åŠ¨æ€å†…å®¹Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">DynamicContent</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre>
<h5 data-id="heading-7">3. ç¼“å­˜å†…å®¹å±•ç¤º</h5>
<p>ç¼“å­˜ç»„ä»¶ï¼Œå¯ä»¥ä½¿ç”¨<code>use cache</code>å£°æ˜è¿™æ˜¯ä¸€ä¸ªç¼“å­˜ç»„ä»¶ï¼Œç„¶åä½¿ç”¨<code>cacheLife</code>å£°æ˜ç¼“å­˜æ—¶é—´ã€‚</p>
<p>cacheLifeå‚æ•°ï¼š</p>
<ul>
<li><code>stale</code>ï¼šå®¢æˆ·ç«¯åœ¨æ­¤æ—¶é—´å†…ç›´æ¥ä½¿ç”¨ç¼“å­˜ï¼Œä¸å‘æœåŠ¡å™¨å‘è¯·æ±‚<code>(å•ä½:ç§’)</code></li>
<li><code>revalidate</code>ï¼šè¶…è¿‡æ­¤æ—¶é—´åï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚æ—¶ä¼šåœ¨åå°é‡æ–°ç”Ÿæˆå†…å®¹<code>(å•ä½:ç§’)</code></li>
<li><code>expire</code>ï¼šè¶…è¿‡æ­¤æ—¶é—´æ— è®¿é—®ï¼Œç¼“å­˜å®Œå…¨å¤±æ•ˆï¼Œä¸‹æ¬¡è¯·æ±‚éœ€è¦ç­‰å¾…é‡æ–°è®¡ç®—<code>(å•ä½:ç§’)</code></li>
</ul>
<p>é¢„è®¾å‚æ•°:</p>






















































<table><thead><tr><th>Profile</th><th>é€‚ç”¨åœºæ™¯</th><th>stale</th><th>revalidate</th><th>expire</th></tr></thead><tbody><tr><td>seconds</td><td>å®æ—¶æ•°æ®ï¼ˆè‚¡ç¥¨ã€æ¯”åˆ†ï¼‰</td><td>30ç§’</td><td>1ç§’</td><td>1åˆ†é’Ÿ</td></tr><tr><td>minutes</td><td>é¢‘ç¹æ›´æ–°ï¼ˆç¤¾äº¤åŠ¨æ€ï¼‰</td><td>5åˆ†é’Ÿ</td><td>1åˆ†é’Ÿ</td><td>1å°æ—¶</td></tr><tr><td>hours</td><td>æ¯æ—¥å¤šæ¬¡æ›´æ–°ï¼ˆåº“å­˜ã€å¤©æ°”ï¼‰</td><td>5åˆ†é’Ÿ</td><td>1å°æ—¶</td><td>1å¤©</td></tr><tr><td>days</td><td>æ¯æ—¥æ›´æ–°ï¼ˆåšå®¢æ–‡ç« ï¼‰</td><td>5åˆ†é’Ÿ</td><td>1å¤©</td><td>1å‘¨</td></tr><tr><td>weeks</td><td>æ¯å‘¨æ›´æ–°ï¼ˆæ’­å®¢ï¼‰</td><td>5åˆ†é’Ÿ</td><td>1å‘¨</td><td>30å¤©</td></tr><tr><td>max</td><td>å¾ˆå°‘å˜åŒ–ï¼ˆæ³•å¾‹é¡µé¢ï¼‰</td><td>5åˆ†é’Ÿ</td><td>30å¤©</td><td>1å¹´</td></tr></tbody></table>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Suspense</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>
<span class="hljs-keyword">import</span> { cacheLife } <span class="hljs-keyword">from</span> <span class="hljs-string">"next/cache"</span>

<span class="hljs-keyword">const</span> <span class="hljs-title function_">DynamicContent</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-string">'use cache'</span>
    <span class="hljs-title function_">cacheLife</span>(<span class="hljs-string">"hours"</span>) <span class="hljs-comment">//ä½¿ç”¨é¢„è®¾å‚æ•°</span>
    <span class="hljs-comment">//cacheLife({stale: 30, revalidate: 1, expire: 1}) //ä½¿ç”¨è‡ªå®šä¹‰å‚æ•°</span>
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://www.mocklib.com/mock/random/name'</span>)
    <span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> data.<span class="hljs-title function_">json</span>()
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json)
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>åŠ¨æ€å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>åç§°ï¼š{json.name}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"/>) {

    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Home<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">div</span>&gt;</span>åŠ¨æ€å†…å®¹Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">DynamicContent</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3df9733f502044349a3b3b351098553e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5ruhenM=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766312592&amp;x-signature=avUfm6e1smUSYWWY04XJHBq239Y%3D" alt="8.gif" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[âš™ï¸ WebAssemblyåœ¨AIGCæ¨ç†ä¸­çš„ä¼˜åŒ–ç»†èŠ‚]]></title>    <link>https://juejin.cn/post/7583168260797317160</link>    <guid>https://juejin.cn/post/7583168260797317160</guid>    <pubDate>2025-12-14T10:24:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583168260797317160" data-draft-id="7583249151551864866" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="âš™ï¸ WebAssemblyåœ¨AIGCæ¨ç†ä¸­çš„ä¼˜åŒ–ç»†èŠ‚"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LLM,Trae"/> <meta itemprop="datePublished" content="2025-12-14T10:24:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            âš™ï¸ WebAssemblyåœ¨AIGCæ¨ç†ä¸­çš„ä¼˜åŒ–ç»†èŠ‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T10:24:19.000Z" title="Sun Dec 14 2025 10:24:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ§© ä¸€ã€ä¸ºä»€ä¹ˆè¦ç”¨WASMæ¥åšAIæ¨ç†ï¼Ÿ</h2>
<p>åœ¨æµè§ˆå™¨ä¸­åšAIæ¨ç†çœ‹èµ·æ¥åƒâ€œæ‹¿æ‰‹ç”µç­’ç…§å¤ªé˜³â€â€”â€”<br/>
JavaScriptè§£é‡Šæ…¢ã€å†…å­˜ä¸å¯æ§ã€ç±»å‹ä¸ç¨³å®šã€ç¼ºä¹SIMDå¹¶è¡Œã€‚</p>
<p>è€Œ<strong>WASM</strong>ï¼ˆWebAssemblyï¼‰å‡ºç°åï¼Œæˆ‘ä»¬å¯ä»¥æŠŠåŸæœ¬ç¼–è¯‘åœ¨æœåŠ¡å™¨ä¸Šçš„C++/Rustæ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œ<br/>
ç›´æ¥<strong>ç¼–è¯‘æˆä¸€ç§é«˜é€Ÿã€å¼ºç±»å‹ã€æ¥è¿‘åŸç”Ÿçš„ä½çº§å­—èŠ‚ç æ ¼å¼</strong>ï¼Œç”±æµè§ˆå™¨ç›´æ¥è¿è¡Œã€‚</p>
<p>ç®€è€Œè¨€ä¹‹ï¼š</p>
<blockquote>
<p>ä»¥å‰AIè¦é â€œäº‘ç®—åŠ›â€ï¼Œç°åœ¨AIå¯ä»¥é â€œæµè§ˆå™¨è‚Œè‚‰â€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ğŸ§  äºŒã€åº•å±‚æ¶æ„é€Ÿå†™ï¼šAIæ¨ç†åœ¨WASMä¸­çš„â€œæ—…ç¨‹â€</h2>
<p>ä¸€ä¸ªå…¸å‹çš„AIGCæ¨ç†è¿‡ç¨‹ï¼ˆå¦‚æ–‡æœ¬ç”Ÿæˆæˆ–å›¾åƒæ‰©æ•£ï¼‰åœ¨Webç«¯çš„æ‰§è¡Œæµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">Prompt</span>]  
   â†“  
Tokenizerï¼ˆJSå±‚ï¼‰  
   â†“  
ONNX/WASMæ¨¡å— â†’ Linear/Conv ç®—å­è®¡ç®—
   â†“  
Softmax é‡‡æ ·  
   â†“  
è¾“å‡ºToken â†’ ç”Ÿæˆç»“æœ
</code></pre>
<p><strong>å…³é”®åœ¨äºä¸­é—´é‚£ä¸€æ­¥ï¼š</strong></p>
<blockquote>
<p>â€œONNX/WASMæ¨¡å—â€ é€šè¿‡WASMå±‚å®ç°äº†åº•å±‚çŸ©é˜µä¹˜æ³•ã€æ¿€æ´»å‡½æ•°ã€å½’ä¸€åŒ–ç­‰ç®—å­ã€‚</p>
</blockquote>
<p>è¿™äº›ç®—å­éƒ½æ˜¯<strong>ç¥ç»ç½‘ç»œçš„â€œåº•å±‚è‚Œè‚‰â€</strong> ï¼Œ<br/>
ä¼˜åŒ–å®ƒä»¬çš„æ€§èƒ½ï¼ŒAIçš„è¿è¡Œé€Ÿåº¦å°±èƒ½æå‡å¥½å‡ ä¸ªæ•°é‡çº§ã€‚</p>
<hr/>
<h2 data-id="heading-2">ğŸ§® ä¸‰ã€æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥ï¼šWASMåœ¨æ¨ç†å±‚çš„â€œæ€§èƒ½é­”æ³•â€</h2>
<hr/>
<h3 data-id="heading-3">1. SIMDï¼ˆå•æŒ‡ä»¤å¤šæ•°æ®ï¼‰å¹¶è¡Œï¼šè®©AIâ€œå¤§å£åç®—â€</h3>
<p>ä¼ ç»ŸJavaScriptå¾ªç¯å¤„ç†çŸ©é˜µä¹˜æ³•æ•ˆç‡ä½ä¸‹ã€‚<br/>
è€ŒWASMæ”¯æŒ<strong>SIMDæŒ‡ä»¤é›†</strong>ï¼ˆSingle Instruction Multiple Dataï¼‰åï¼Œå¯ä»¥ä¸€æ¬¡æ€§è®©CPUåŒæ—¶å¤„ç†4ï½8ä¸ªæµ®ç‚¹æ•°ã€‚</p>
<p><strong>ç±»æ¯”è¯´æ˜ï¼š</strong></p>
<blockquote>
<p>JSåƒç”¨ç­·å­å¤¹è±†å­ï¼ŒWASM SIMDåƒç”¨é“²å­ç«¯èµ·åŠç¢—ã€‚ğŸ¥¢ â†’ ğŸ¥„</p>
</blockquote>
<pre><code class="hljs language-css" lang="css">// ç¤ºä¾‹ï¼šåˆ©ç”¨WASM SIMDå®ç°çŸ¢é‡åŠ æ³•
// ï¼ˆä¼ªç¤ºä¾‹ï¼Œç”¨JSè¡¨è¾¾WASMæ€è·¯ï¼‰
function vectorAddSIMD(<span class="hljs-selector-tag">a</span>, <span class="hljs-selector-tag">b</span>) {
  const len = <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.length</span>;
  const c = new Float32Array(len);
  
  for (let <span class="hljs-selector-tag">i</span> = <span class="hljs-number">0</span>; <span class="hljs-selector-tag">i</span> &lt; len; <span class="hljs-selector-tag">i</span> += <span class="hljs-number">4</span>) {
    c<span class="hljs-selector-attr">[i]</span> = <span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[i]</span> + <span class="hljs-selector-tag">b</span><span class="hljs-selector-attr">[i]</span>;
    c<span class="hljs-selector-attr">[i+1]</span> = <span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[i+1]</span> + <span class="hljs-selector-tag">b</span><span class="hljs-selector-attr">[i+1]</span>;
    c<span class="hljs-selector-attr">[i+2]</span> = <span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[i+2]</span> + <span class="hljs-selector-tag">b</span><span class="hljs-selector-attr">[i+2]</span>;
    c<span class="hljs-selector-attr">[i+3]</span> = <span class="hljs-selector-tag">a</span><span class="hljs-selector-attr">[i+3]</span> + <span class="hljs-selector-tag">b</span><span class="hljs-selector-attr">[i+3]</span>;
  }
  return c;
}
</code></pre>
<p>åœ¨çœŸå®WASMä¸­ï¼Œè¿™æ ·çš„å¾ªç¯ä¼šè¢«SIMDæŒ‡ä»¤å¹¶è¡ŒåŒ–æˆå•æ¡ç¡¬ä»¶æŒ‡ä»¤ï¼Œä»è€Œå®ç°è¿‘ä¼¼åŸç”Ÿæ€§èƒ½ã€‚</p>
<hr/>
<h3 data-id="heading-4">2. Memory Heap ä¼˜åŒ–ï¼šè®©AIçš„â€œè„‘å®¹é‡â€ä¸å†ç¢ç‰‡åŒ–</h3>
<p>åœ¨AIæ¨ç†ä¸­ï¼Œå¤§é‡çš„Tensorï¼ˆå¼ é‡ï¼‰éœ€è¦åˆ†é…å’Œé‡Šæ”¾å†…å­˜ã€‚<br/>
å¦‚æœåƒJSé‚£æ ·é¢‘ç¹GCï¼ˆåƒåœ¾å›æ”¶ï¼‰ï¼Œæ€§èƒ½ä¼šæ€¥å‰§ä¸‹é™ã€‚</p>
<p>WASMæä¾›äº†<strong>çº¿æ€§å†…å­˜æ¨¡å‹ï¼ˆLinear Memory Modelï¼‰</strong> ï¼š</p>
<ul>
<li>æ‰€æœ‰Tensoræ•°æ®è¿ç»­åˆ†å¸ƒåœ¨ä¸€å—å¯æ‰©å±•å †åŒºï¼›</li>
<li>ç”±C++/Rustçš„å†…å­˜åˆ†é…å™¨æ‰‹åŠ¨ç®¡ç†ï¼›</li>
<li>é¿å…JavaScriptå¯¹è±¡åŒ–æŸè€—ã€‚</li>
</ul>
<blockquote>
<p>ç®€å•è¯´ï¼šWASMä¸å¯„å®¿äºJSçš„ä¸–ç•Œï¼Œè€Œæ˜¯å¦å¼€ä¸€é—´å®¿èˆï¼Œå†…å­˜ä¸€å­—æ’å¼€ï¼Œå†·é™å¾—åƒä¸ªè®¡ç®—æœºè€ƒå¤ç°åœºã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-5">3. å¤šçº¿ç¨‹ä¸å…±äº«å†…å­˜ï¼šWASM Workersåœ¨æ¨ç†ä¸­çš„ç”¨æ­¦ä¹‹åœ°</h3>
<p>åœ¨å¯ç”¨ <strong>WebAssembly Threads + SharedArrayBuffer</strong> æ”¯æŒçš„ç¯å¢ƒä¸‹ï¼Œå¯ä»¥å¼€å¯çœŸæ­£æ„ä¹‰ä¸Šçš„å¤šçº¿ç¨‹æ¨ç†ï¼š</p>






























<table><thead><tr><th align="left">æ¨¡å—</th><th align="center">çº¿ç¨‹æ•°</th><th align="left">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="left">Token Embedding</td><td align="center">1</td><td align="left">ä¸²è¡Œæ˜ å°„è¾“å…¥æ–‡æœ¬</td></tr><tr><td align="left">Attention Layer</td><td align="center">4</td><td align="left">å¹¶è¡Œè®¡ç®— Key/Query/Product</td></tr><tr><td align="left">Feedforward Layer</td><td align="center">4</td><td align="left">æ‰¹é‡çŸ©é˜µä¹˜æ³•</td></tr><tr><td align="left">Output Softmax</td><td align="center">1</td><td align="left">æ±‡æ€»è¾“å‡ºç»“æœ</td></tr></tbody></table>
<p>è¿™æ ·ä¸€ä¸ªæµè§ˆå™¨æ¨ç†å®ä¾‹ï¼Œå¯ä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸CPUæ€§èƒ½ï¼Œç”šè‡³åœ¨ç¬”è®°æœ¬ä¸Šå®ç°<strong>æ¥è¿‘GPUçš„é€Ÿåº¦</strong>ï¼ˆå–å†³äºæ¨¡å‹å¤§å°ï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-6">4. é‡åŒ–è®¡ç®—ï¼šæ•°å­¦ä¸æ˜¯â€œè¶Šç²¾ç¡®è¶Šå¥½â€</h3>
<p>AIGCæ¨ç†å¾ˆå¤šæ—¶å€™ä¸éœ€è¦é«˜ç²¾åº¦æµ®ç‚¹è®¡ç®—ã€‚<br/>
æ¯”å¦‚ï¼Œä»32ä½æµ®ç‚¹ï¼ˆ<code>float32</code>ï¼‰é™åˆ°8ä½æ•´æ•°ï¼ˆ<code>int8</code>ï¼‰å³å¯å¤§å¹…å‡å°‘å†…å­˜å’Œå¸¦å®½ã€‚</p>
<p>åœ¨WASMç«¯ï¼Œæ‰§è¡Œæµç¨‹å¯ç®€åŒ–ä¸ºï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-type">float32</span> tensor â†’ <span class="hljs-type">int8</span> tensor
<span class="hljs-type">int8</span> Ã— <span class="hljs-type">int8</span> â†’ <span class="hljs-type">int32</span> accumulate
<span class="hljs-type">int32</span> â†’ <span class="hljs-type">float32</span> normalize
</code></pre>
<blockquote>
<p>æ•°å­¦æ„ä¹‰ä¸Šç²¾ç¡®æŸå¤±ï¼Œä½†æ„ŸçŸ¥ä¸Šå‡ ä¹æ— å·®å¼‚ã€‚<br/>
æ¨¡å‹å˜è½»åï¼Œåœ¨æµè§ˆå™¨å°±èƒ½â€œè·‘å¾—åŠ¨â€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">5. å›¾ä¼˜åŒ– &amp; Operator Fusionï¼šåˆå¹¶ç®—å­ï¼Œå°‘èµ°å¼¯è·¯</h3>
<p>WASMç«¯æ¨ç†æ¡†æ¶ï¼ˆå¦‚ <strong>ONNX Runtime Webã€WebDNN</strong>ï¼‰ä¼šåœ¨æ‰§è¡Œå‰è¿›è¡Œå›¾ä¼˜åŒ–ï¼š</p>
<ul>
<li><strong>å±‚èåˆï¼ˆFusionï¼‰</strong> ï¼šå¦‚å°† â€œLayerNorm + MatMul + Addâ€ èæˆä¸€ä¸ªé«˜æ•ˆkernel</li>
<li><strong>å¸¸é‡æŠ˜å ï¼ˆConstant Foldingï¼‰</strong> ï¼šé¢„å…ˆè®¡ç®—å›ºå®šå€¼ï¼Œå‡å°‘è¿è¡Œæ—¶æ“ä½œ</li>
<li><strong>æ•°æ®å¸ƒå±€ä¼˜åŒ–</strong>ï¼šä» <code>NHWC</code> â†’ <code>NCHW</code> æ¥å‡å°‘ç¼“å­˜miss</li>
</ul>
<p>ç»“æœï¼šæ¨ç†è¿‡ç¨‹æ›´çŸ­ã€æ›´å¿«ã€èƒ½è€—æ›´ä½ã€‚</p>
<hr/>
<h2 data-id="heading-8">ğŸŒ å››ã€å®æˆ˜æ¼”ç¤ºï¼šç”¨WASMåŠ è½½ä¸€ä¸ªAIGCæ¨¡å‹</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">InferenceSession</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'onnxruntime-web'</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">runAIGCModel</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> session = <span class="hljs-keyword">await</span> <span class="hljs-title class_">InferenceSession</span>.<span class="hljs-title function_">create</span>(<span class="hljs-string">'model.onnx'</span>, {
    <span class="hljs-attr">executionProviders</span>: [<span class="hljs-string">'wasm'</span>],
    <span class="hljs-attr">graphOptimizationLevel</span>: <span class="hljs-string">'all'</span>,
  });

  <span class="hljs-keyword">const</span> input = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Float32Array</span>([<span class="hljs-comment">/* prompt embedding */</span>]);
  <span class="hljs-keyword">const</span> feeds = { <span class="hljs-string">'input'</span>: <span class="hljs-keyword">new</span> ort.<span class="hljs-title class_">Tensor</span>(<span class="hljs-string">'float32'</span>, input, [<span class="hljs-number">1</span>, <span class="hljs-number">512</span>]) };

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">time</span>(<span class="hljs-string">'AIæ¨ç†'</span>);
  <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> session.<span class="hljs-title function_">run</span>(feeds);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">timeEnd</span>(<span class="hljs-string">'AIæ¨ç†'</span>);

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¾“å‡ºToken:'</span>, results.<span class="hljs-property">output</span>.<span class="hljs-property">data</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>));
}

<span class="hljs-title function_">runAIGCModel</span>();
</code></pre>
<p>ğŸ’¡ <strong>ä¼˜åŒ–æç¤ºï¼š</strong></p>
<ul>
<li>æµè§ˆå™¨é¡»å¯ç”¨ <code>SharedArrayBuffer</code></li>
<li>å¯ä¼˜å…ˆåŠ è½½ <code>.wasm</code> äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆé¿å…Base64åŠ è½½è€—æ—¶ï¼‰</li>
<li>è‹¥æ”¯æŒ WebNNï¼ˆæµè§ˆå™¨åŸç”ŸAI APIï¼‰ï¼Œå¯æ··åˆä½¿ç”¨åšè¿›ä¸€æ­¥åŠ é€Ÿ</li>
</ul>
<hr/>
<h2 data-id="heading-9">ğŸ” äº”ã€å°ç»“ &amp; å‘å±•è¶‹åŠ¿</h2>



































<table><thead><tr><th>ä¼˜åŒ–æ–¹å‘</th><th>æŠ€æœ¯æ‰‹æ®µ</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td>å¹¶è¡ŒåŠ é€Ÿ</td><td>SIMD + Threads</td><td>åŠ é€ŸçŸ©é˜µè¿ç®—</td></tr><tr><td>å†…å­˜ç®¡ç†</td><td>Linear Memory</td><td>é¿å…GCå¡é¡¿</td></tr><tr><td>æ¨¡å‹å‹ç¼©</td><td>é‡åŒ–/è’¸é¦</td><td>å¯åŠ¨æ›´å¿«</td></tr><tr><td>å›¾ä¼˜åŒ–</td><td>Kernelèåˆ</td><td>å°‘ç®—å†—ä½™æ“ä½œ</td></tr><tr><td>æœªæ¥è¶‹åŠ¿</td><td>WebGPU + WebNN</td><td>GPUçº§æµè§ˆå™¨æ¨ç†</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¯å‘¨AIè®ºæ–‡é€Ÿé€’ï¼ˆ251208-251212ï¼‰]]></title>    <link>https://juejin.cn/post/7583535861645344814</link>    <guid>https://juejin.cn/post/7583535861645344814</guid>    <pubDate>2025-12-14T10:56:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583535861645344814" data-draft-id="7583530023358840870" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¯å‘¨AIè®ºæ–‡é€Ÿé€’ï¼ˆ251208-251212ï¼‰"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-14T10:56:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¶å­çš„æŠ€æœ¯ç¢ç¢å¿µ"/> <meta itemprop="url" content="https://juejin.cn/user/2831954919569245"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¯å‘¨AIè®ºæ–‡é€Ÿé€’ï¼ˆ251208-251212ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2831954919569245/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¶å­çš„æŠ€æœ¯ç¢ç¢å¿µ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T10:56:45.000Z" title="Sun Dec 14 2025 10:56:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Wan-Move: Motion-controllable Video Generation via Latent Trajectory Guidance</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.08765" target="_blank" title="https://arxiv.org/abs/2512.08765" ref="nofollow noopener noreferrer">Wan-Move: é€šè¿‡æ½œåœ¨è½¨è¿¹å¼•å¯¼å®ç°è¿åŠ¨å¯æ§çš„è§†é¢‘ç”Ÿæˆ</a></p>
<p>æˆ‘ä»¬æå‡ºäº† Wan-Moveï¼Œä¸€ä¸ªç®€å•ä¸”å¯æ‰©å±•çš„æ¡†æ¶ï¼Œæ—¨åœ¨ä¸ºè§†é¢‘ç”Ÿæˆæ¨¡å‹å¼•å…¥è¿åŠ¨æ§åˆ¶èƒ½åŠ›ã€‚ç°æœ‰çš„è¿åŠ¨å¯æ§æ–¹æ³•é€šå¸¸é¢ä¸´æ§åˆ¶ç²’åº¦ç²—ç³™å’Œå¯æ‰©å±•æ€§æœ‰é™çš„é—®é¢˜ï¼Œä½¿å…¶è¾“å‡ºéš¾ä»¥æ»¡è¶³å®é™…åº”ç”¨éœ€æ±‚ã€‚é€šè¿‡å®ç°ç²¾ç¡®ä¸”é«˜è´¨é‡çš„è¿åŠ¨æ§åˆ¶ï¼Œæˆ‘ä»¬ç¼©å°äº†è¿™ä¸€å·®è·ã€‚æˆ‘ä»¬çš„æ ¸å¿ƒæ€æƒ³æ˜¯ç›´æ¥ä½¿åŸå§‹çš„æ¡ä»¶ç‰¹å¾å…·å¤‡è¿åŠ¨æ„ŸçŸ¥èƒ½åŠ›ï¼Œä»è€ŒæŒ‡å¯¼è§†é¢‘åˆæˆã€‚å…·ä½“è€Œè¨€ï¼Œæˆ‘ä»¬é¦–å…ˆä½¿ç”¨å¯†é›†ç‚¹è½¨è¿¹æ¥è¡¨ç¤ºç‰©ä½“è¿åŠ¨ï¼Œä»¥å®ç°å¯¹åœºæ™¯çš„ç»†ç²’åº¦æ§åˆ¶ã€‚æ¥ç€ï¼Œæˆ‘ä»¬å°†è¿™äº›è½¨è¿¹æ˜ å°„åˆ°æ½œåœ¨ç©ºé—´ï¼Œå¹¶æ²¿æ¯æ¡è½¨è¿¹ä¼ æ’­ç¬¬ä¸€å¸§çš„ç‰¹å¾ï¼Œä»è€Œç”Ÿæˆä¸€ä¸ªå¯¹é½çš„æ—¶ç©ºç‰¹å¾å›¾ï¼Œè¯¥å›¾å®šä¹‰äº†æ¯ä¸ªåœºæ™¯å…ƒç´ åº”å¦‚ä½•è¿åŠ¨ã€‚æ­¤ç‰¹å¾å›¾ä½œä¸ºæ›´æ–°å¾—åˆ°çš„æ½œåœ¨æ¡ä»¶ï¼Œå¯ä»¥æ— ç¼é›†æˆåˆ°ç°æˆçš„å›¾åƒåˆ°è§†é¢‘æ¨¡å‹ï¼ˆä¾‹å¦‚ Wan-I2V-14Bï¼‰ä¸­ï¼Œä½œä¸ºè¿åŠ¨å¼•å¯¼ï¼Œè€Œæ— éœ€æ”¹å˜ä»»ä½•æ¨¡å‹æ¶æ„ã€‚è¯¥æ–¹æ³•æ— éœ€è¾…åŠ©è¿åŠ¨ç¼–ç å™¨ï¼Œå¹¶ä½¿å¾—åŸºç¡€æ¨¡å‹çš„å¾®è°ƒå…·å¤‡è‰¯å¥½çš„å¯æ‰©å±•æ€§ã€‚é€šè¿‡å¤§è§„æ¨¡è®­ç»ƒï¼ŒWan-Move èƒ½å¤Ÿç”Ÿæˆ 5 ç§’ã€480p çš„è§†é¢‘ï¼Œç”¨æˆ·ç ”ç©¶è¡¨æ˜å…¶è¿åŠ¨å¯æ§æ€§å¯ä¸ Kling 1.5 Pro çš„å•†ä¸šç‰ˆ Motion Brush ç›¸åª²ç¾ã€‚ä¸ºäº†æ”¯æŒå…¨é¢è¯„ä¼°ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥è®¾è®¡äº† MoveBenchï¼Œè¿™æ˜¯ä¸€ä¸ªç²¾å¿ƒæ„å»ºçš„åŸºå‡†æµ‹è¯•ï¼ŒåŒ…å«å¤šæ ·åŒ–çš„å†…å®¹ç±»åˆ«å’Œç»è¿‡æ··åˆéªŒè¯çš„æ ‡æ³¨ã€‚å…¶æ˜¾è‘—ç‰¹ç‚¹åœ¨äºæ•°æ®é‡æ›´å¤§ã€è§†é¢‘æ—¶é•¿æ›´é•¿ä»¥åŠé«˜è´¨é‡çš„è¿åŠ¨æ ‡æ³¨ã€‚åœ¨ MoveBench å’Œå…¬å…±æ•°æ®é›†ä¸Šè¿›è¡Œçš„å¤§é‡å®éªŒä¸€è‡´è¯æ˜äº† Wan-Move å“è¶Šçš„è¿åŠ¨ç”Ÿæˆè´¨é‡ã€‚ä»£ç ã€æ¨¡å‹å’ŒåŸºå‡†æ•°æ®å‡å·²å…¬å¼€ã€‚</p>
<h2 data-id="heading-1">Visionary: The World Model Carrier Built on WebGPU-Powered Gaussian Splatting Platform</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.08478" target="_blank" title="https://arxiv.org/abs/2512.08478" ref="nofollow noopener noreferrer">Visionary: åŸºäº WebGPU é«˜æ–¯æ³¼æº…å¹³å°çš„ä¸–ç•Œæ¨¡å‹è½½ä½“</a></p>
<p>ç¥ç»æ¸²æŸ“ï¼Œç‰¹åˆ«æ˜¯ 3D é«˜æ–¯æ³¼æº… (3D Gaussian Splatting, 3DGS) æŠ€æœ¯ï¼Œå·²è¿…é€Ÿå‘å±•æˆä¸ºæ„å»ºä¸–ç•Œæ¨¡å‹çš„å…³é”®ç»„ä»¶ã€‚ç„¶è€Œï¼Œç°æœ‰çš„æŸ¥çœ‹å™¨è§£å†³æ–¹æ¡ˆå¾€å¾€è¾ƒä¸ºåˆ†æ•£ã€ç¬¨é‡æˆ–å—ä¼ ç»Ÿæµæ°´çº¿é™åˆ¶ï¼Œå¯¼è‡´éƒ¨ç½²éš¾åº¦å¤§ï¼Œä¸”å¯¹åŠ¨æ€å†…å®¹ä¸ç”Ÿæˆæ¨¡å‹çš„æ”¯æŒæœ‰é™ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº† Visionaryï¼Œä¸€ä¸ªå¼€æ”¾çš„ã€åŸºäº Web çš„åŸç”Ÿå¹³å°ï¼Œç”¨äºå®æ—¶æ¸²æŸ“å„ç±»é«˜æ–¯æ³¼æº…ä¸ç½‘æ ¼æ•°æ®ã€‚è¯¥å¹³å°åŸºäºé«˜æ•ˆçš„ WebGPU æ¸²æŸ“å™¨æ„å»ºï¼Œå¹¶é›†æˆäº†æ¯å¸§ ONNX æ¨ç†èƒ½åŠ›ï¼Œä»è€Œåœ¨ä¿æŒè½»é‡çº§ã€â€œå³ç‚¹å³ç”¨â€æµè§ˆå™¨ä½“éªŒçš„åŒæ—¶ï¼Œå®ç°äº†åŠ¨æ€ç¥ç»å¤„ç†ã€‚Visionary å¼•å…¥äº†ä¸€ä¸ªæ ‡å‡†åŒ–çš„é«˜æ–¯ç”Ÿæˆå™¨æ¥å£ï¼Œä¸ä»…æ”¯æŒæ ‡å‡† 3DGS æ¸²æŸ“ï¼Œè¿˜å…è®¸ä»¥å³æ’å³ç”¨çš„æ–¹å¼ï¼Œåœ¨æ¯å¸§ç”Ÿæˆæˆ–æ›´æ–°é«˜æ–¯åˆ†å¸ƒã€‚è¿™ç§æ¨ç†èƒ½åŠ›ä¹Ÿä½¿å¾—å‰é¦ˆå¼ç”Ÿæˆåå¤„ç†å¾—ä»¥åº”ç”¨ã€‚æ­¤å¤–ï¼Œå¹³å°è¿˜æä¾›äº†ä¸€ä¸ª three.js åº“æ’ä»¶ï¼Œå…¶ç®€æ´çš„ TypeScript API ä¾¿äºæ— ç¼é›†æˆåˆ°ç°æœ‰ Web åº”ç”¨ç¨‹åºä¸­ã€‚å®éªŒè¡¨æ˜ï¼Œåœ¨ç›¸åŒçš„ 3DGS èµ„æºä¸‹ï¼Œå¾—ç›ŠäºåŸºäº GPU çš„å›¾å…ƒæ’åºï¼ŒVisionary ç›¸æ¯”ç°æœ‰ Web æŸ¥çœ‹å™¨å®ç°äº†æ›´ä¼˜çš„æ¸²æŸ“æ•ˆç‡ã€‚ç›®å‰ï¼Œå®ƒå·²æ”¯æŒå¤šç§å˜ä½“ï¼ŒåŒ…æ‹¬åŸºäº MLP çš„ 3DGSã€4DGSã€ç¥ç»åŒ–èº«ä»¥åŠé£æ ¼è½¬æ¢æˆ–å¢å¼ºç½‘ç»œã€‚é€šè¿‡åœ¨æµè§ˆå™¨ä¸­ç›´æ¥ç»Ÿä¸€æ¨ç†ä¸æ¸²æŸ“ï¼ŒVisionary æ˜¾è‘—é™ä½äº† 3DGS ç³»åˆ—æ–¹æ³•çš„å¤ç°ã€æ¯”è¾ƒä¸éƒ¨ç½²é—¨æ§›ï¼Œä¸ºé‡å»ºå¼ä¸ç”Ÿæˆå¼ä¸¤ç§èŒƒå¼æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„ä¸–ç•Œæ¨¡å‹è½½ä½“ã€‚</p>
<h2 data-id="heading-2">Native Parallel Reasoner: Reasoning in Parallelism via Self-Distilled Reinforcement Learning</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.07461" target="_blank" title="https://arxiv.org/abs/2512.07461" ref="nofollow noopener noreferrer">åŸç”Ÿå¹¶è¡Œæ¨ç†å™¨ï¼šé€šè¿‡è‡ªè’¸é¦å¼ºåŒ–å­¦ä¹ å®ç°å¹¶è¡Œæ¨ç†</a></p>
<p>æˆ‘ä»¬æå‡ºäº†åŸç”Ÿå¹¶è¡Œæ¨ç†å™¨ (Native Parallel Reasoner, NPR)ï¼Œè¿™æ˜¯ä¸€ä¸ªå…æ•™å¸ˆæ¡†æ¶ï¼Œèƒ½å¤Ÿä½¿å¤§è¯­è¨€æ¨¡å‹ (LLMs) è‡ªæˆ‘è¿›åŒ–å‡ºçœŸæ­£çš„å¹¶è¡Œæ¨ç†èƒ½åŠ›ã€‚NPR é€šè¿‡ä¸‰é¡¹å…³é”®åˆ›æ–°ï¼Œå°†æ¨¡å‹ä»é¡ºåºå¼å¤„ç†è½¬å˜ä¸ºåŸç”Ÿå¹¶è¡Œè®¤çŸ¥ï¼š1) ä¸€ç§è‡ªè’¸é¦æ¸è¿›è®­ç»ƒèŒƒå¼ï¼Œæ— éœ€å¤–éƒ¨ç›‘ç£ï¼Œå³å¯ä»â€œå†·å¯åŠ¨â€æ ¼å¼å‘ç°è¿‡æ¸¡åˆ°ä¸¥æ ¼çš„æ‹“æ‰‘çº¦æŸï¼›2) ä¸€ç§æ–°é¢–çš„å¹¶è¡Œæ„ŸçŸ¥ç­–ç•¥ä¼˜åŒ– (Parallel-Aware Policy Optimization, PAPO) ç®—æ³•ï¼Œè¯¥ç®—æ³•ç›´æ¥åœ¨æ‰§è¡Œå›¾å†…éƒ¨ä¼˜åŒ–åˆ†æ”¯ç­–ç•¥ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿé€šè¿‡è¯•é”™è¿›è¡Œè‡ªé€‚åº”åˆ†è§£ï¼›ä»¥åŠ 3) ä¸€ä¸ªç¨³å¥çš„ NPR å¼•æ“ï¼Œå®ƒé‡æ„äº† SGLang çš„å†…å­˜ç®¡ç†ä¸æµç¨‹æ§åˆ¶ï¼Œä»è€Œæ”¯æŒç¨³å®šã€å¤§è§„æ¨¡å¹¶è¡Œå¼ºåŒ–å­¦ä¹ è®­ç»ƒã€‚åœ¨å…«é¡¹æ¨ç†åŸºå‡†æµ‹è¯•ä¸Šï¼ŒåŸºäº Qwen3-4B è®­ç»ƒçš„ NPR å®ç°äº†é«˜è¾¾ 24.5% çš„æ€§èƒ½æå‡å’Œé«˜è¾¾ 4.6 å€çš„æ¨ç†åŠ é€Ÿã€‚ä¸å…ˆå‰å¸¸éœ€å›é€€è‡³è‡ªå›å½’è§£ç çš„åŸºçº¿æ–¹æ³•ä¸åŒï¼ŒNPR å®ç°äº† 100% çš„çœŸæ­£å¹¶è¡Œæ‰§è¡Œï¼Œä»è€Œä¸ºè‡ªæˆ‘è¿›åŒ–ã€é«˜æ•ˆä¸”å¯æ‰©å±•çš„æ™ºèƒ½ä½“æ¨ç†æ ‘ç«‹äº†æ–°æ ‡å‡†ã€‚</p>
<h2 data-id="heading-3">T-pro 2.0: An Efficient Russian Hybrid-Reasoning Model and Playground</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.10430" target="_blank" title="https://arxiv.org/abs/2512.10430" ref="nofollow noopener noreferrer">T-pro 2.0ï¼šä¸€ä¸ªé«˜æ•ˆçš„ä¿„è¯­æ··åˆæ¨ç†æ¨¡å‹ä¸æµ‹è¯•å¹³å°</a></p>
<p>æˆ‘ä»¬æ¨å‡º T-pro 2.0ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼€æ”¾æƒé‡çš„ä¿„è¯­å¤§è¯­è¨€æ¨¡å‹ (LLM)ï¼Œä¸“æ³¨äºæ··åˆæ¨ç†å¹¶å®ç°äº†é«˜æ•ˆæ¨æ–­ã€‚è¯¥æ¨¡å‹æ”¯æŒç›´æ¥å›ç­”å’Œæ¨ç†è½¨è¿¹ç”Ÿæˆï¼Œé€šè¿‡é‡‡ç”¨ä¸€ä¸ªé’ˆå¯¹è¥¿é‡Œå°”å­—ç¬¦ä¼˜åŒ–çš„å¯†é›† Tokenizer ä»¥åŠä¸€ä¸ªç»è¿‡é€‚é…çš„ EAGLE æ¨æµ‹è§£ç æµæ°´çº¿ï¼Œæœ‰æ•ˆé™ä½äº†å»¶è¿Ÿã€‚ä¸ºäº†ä¿ƒè¿›å¯å¤ç°å’Œå¯æ‰©å±•çš„ç ”ç©¶ï¼Œæˆ‘ä»¬åœ¨ Hugging Face ä¸Šå‘å¸ƒäº†æ¨¡å‹æƒé‡ã€T-Wix 500k æŒ‡ä»¤æ•°æ®é›†ã€T-Math æ¨ç†åŸºå‡†ä»¥åŠ EAGLE æƒé‡ã€‚è¿™äº›èµ„æºä½¿ç”¨æˆ·èƒ½å¤Ÿç ”ç©¶ä¿„è¯­æ¨ç†ä»»åŠ¡ï¼Œå¹¶å¯å¯¹æ¨¡å‹åŠæ¨æ–­æµæ°´çº¿è¿›è¡Œæ‰©å±•æˆ–é€‚é…ã€‚ä¸€ä¸ªå…¬å¼€çš„ Web æ¼”ç¤ºæä¾›äº†æ¨ç†æ¨¡å¼ä¸éæ¨ç†æ¨¡å¼ï¼Œå¹¶å±•ç¤ºäº†æˆ‘ä»¬çš„æ¨æ–­æŠ€æœ¯æ ˆåœ¨ä¸åŒä»»åŠ¡ä¸Šæ‰€å¸¦æ¥çš„åŠ é€Ÿæ•ˆæœã€‚å› æ­¤ï¼ŒT-pro 2.0 ä½œä¸ºä¸€ä¸ªå¼€æ”¾æ˜“ç”¨çš„ç³»ç»Ÿï¼Œå¯ç”¨äºæ„å»ºå’Œè¯„ä¼°é«˜æ•ˆã€å®ç”¨çš„ä¿„è¯­å¤§è¯­è¨€æ¨¡å‹åº”ç”¨ã€‚</p>
<h2 data-id="heading-4">TwinFlow: Realizing One-step Generation on Large Models with Self-adversarial Flows</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.05150" target="_blank" title="https://arxiv.org/abs/2512.05150" ref="nofollow noopener noreferrer">TwinFlow: åŸºäºè‡ªå¯¹æŠ—æµçš„å¤§æ¨¡å‹ä¸€æ­¥ç”Ÿæˆæ–¹æ³•</a></p>
<p>è¿‘æœŸï¼Œå¤§å‹å¤šæ¨¡æ€ç”Ÿæˆæ¨¡å‹åœ¨å›¾åƒå’Œè§†é¢‘ç­‰å¤šæ¨¡æ€ç”Ÿæˆä»»åŠ¡ä¸Šå±•ç°å‡ºå“è¶Šèƒ½åŠ›ã€‚è¿™äº›æ¨¡å‹é€šå¸¸åŸºäºæ‰©æ•£æ¨¡å‹å’ŒæµåŒ¹é…ç­‰å¤šæ­¥æ¡†æ¶æ„å»ºï¼Œå…¶å›ºæœ‰çš„å¤šæ­¥æ¨ç†è¿‡ç¨‹ï¼ˆé€šå¸¸éœ€è¦ 40-100 æ¬¡å‡½æ•°è¯„ä¼° (NFEs)ï¼‰é™åˆ¶äº†æ¨ç†æ•ˆç‡ã€‚å°½ç®¡å·²æœ‰å¤šç§å°‘æ­¥æ¨ç†æ–¹æ³•æ—¨åœ¨åŠ é€Ÿï¼Œä½†ç°æœ‰æ–¹æ¡ˆä»å­˜åœ¨æ˜æ˜¾ä¸è¶³ã€‚ä¸»æµçš„åŸºäºè’¸é¦çš„æ–¹æ³•ï¼Œå¦‚æ¸è¿›è’¸é¦å’Œä¸€è‡´æ€§è’¸é¦ï¼Œè¦ä¹ˆéœ€è¦è¿­ä»£çš„è’¸é¦æµç¨‹ï¼Œè¦ä¹ˆåœ¨æä½æ­¥æ•°ï¼ˆ&lt; 4-NFEï¼‰ä¸‹æ€§èƒ½æ˜¾è‘—ä¸‹é™ã€‚åŒæ—¶ï¼Œå°†å¯¹æŠ—è®­ç»ƒèå…¥è’¸é¦è¿‡ç¨‹ï¼ˆä¾‹å¦‚ DMD/DMD2 å’Œ SANA-Sprintï¼‰ä»¥æå‡æ€§èƒ½ï¼Œä¼šå› å¼•å…¥é¢å¤–çš„è¾…åŠ©è®­ç»ƒæ¨¡å‹è€Œå¯¼è‡´è®­ç»ƒä¸ç¨³å®šã€å¤æ‚åº¦å¢åŠ ä»¥åŠé«˜æ˜‚çš„ GPU å†…å­˜å¼€é”€ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº† TwinFlowï¼Œä¸€ä¸ªç”¨äºè®­ç»ƒä¸€æ­¥ç”Ÿæˆæ¨¡å‹çš„ç®€æ´é«˜æ•ˆæ¡†æ¶ã€‚è¯¥æ¡†æ¶æ— éœ€ä¾èµ–å›ºå®šçš„é¢„è®­ç»ƒæ•™å¸ˆæ¨¡å‹ï¼Œä¸”åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é¿å…äº†ä½¿ç”¨æ ‡å‡†çš„å¯¹æŠ—ç½‘ç»œï¼Œå› è€Œéå¸¸é€‚åˆæ„å»ºå¤§è§„æ¨¡é«˜æ•ˆæ¨¡å‹ã€‚åœ¨æ–‡ç”Ÿå›¾ä»»åŠ¡ä¸Šï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä»…éœ€ 1-NFE å³å¯è·å¾— 0.83 çš„ GenEval åˆ†æ•°ï¼Œæ€§èƒ½ä¼˜äº SANA-Sprintï¼ˆåŸºäº GAN æŸå¤±çš„æ¡†æ¶ï¼‰å’Œ RCGMï¼ˆåŸºäºä¸€è‡´æ€§çš„æ¡†æ¶ï¼‰ç­‰å¼ºåŸºçº¿ã€‚å°¤ä¸ºé‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬é€šè¿‡åœ¨ Qwen-Image-20B ä¸Šè¿›è¡Œå…¨å‚æ•°è®­ç»ƒï¼ŒéªŒè¯äº† TwinFlow çš„å¯æ‰©å±•æ€§ï¼Œå¹¶å°†å…¶æˆåŠŸè½¬æ¢ä¸ºä¸€ä¸ªé«˜æ•ˆçš„å°‘æ­¥ç”Ÿæˆå™¨ã€‚ä»…ä½¿ç”¨ 1-NFEï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨ GenEval å’Œ DPG-Bench åŸºå‡†æµ‹è¯•ä¸Šçš„æ€§èƒ½å³å¯ä¸åŸç‰ˆ 100-NFE æ¨¡å‹ç›¸åª²ç¾ï¼Œåœ¨è´¨é‡ä»…æœ‰è½»å¾®ä¸‹é™çš„åŒæ—¶ï¼Œå°†è®¡ç®—æˆæœ¬é™ä½äº† <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn><mo>Ã—</mo></mrow><annotation encoding="application/x-tex">100\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"/><span class="mord">100</span><span class="mord">Ã—</span></span></span></span></span>ã€‚é¡¹ç›®é¡µé¢è§ <a href="https://link.juejin.cn?target=https%3A%2F%2Fzhenglin-cheng.com%2Ftwinflow%25E3%2580%2582" target="_blank" title="https://zhenglin-cheng.com/twinflow%E3%80%82" ref="nofollow noopener noreferrer">zhenglin-cheng.com/twinflowã€‚</a></p>
<h2 data-id="heading-5">StereoWorld: Geometry-Aware Monocular-to-Stereo Video Generation</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.09363" target="_blank" title="https://arxiv.org/abs/2512.09363" ref="nofollow noopener noreferrer">StereoWorld: å‡ ä½•æ„ŸçŸ¥çš„å•ç›®åˆ°ç«‹ä½“è§†é¢‘ç”Ÿæˆ</a></p>
<p>éšç€ XR è®¾å¤‡çš„æ—¥ç›Šæ™®åŠï¼Œå¸‚åœºå¯¹é«˜è´¨é‡ç«‹ä½“è§†é¢‘çš„éœ€æ±‚å¼ºåŠ²å¢é•¿ï¼Œä½†å…¶åˆ¶ä½œè¿‡ç¨‹ä¾ç„¶æˆæœ¬é«˜æ˜‚ä¸”æ˜“äº§ç”Ÿä¼ªå½±ã€‚ä¸ºåº”å¯¹è¿™ä¸€æŒ‘æˆ˜ï¼Œæˆ‘ä»¬æå‡ºäº† StereoWorldï¼Œè¿™æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ¡†æ¶ï¼Œå®ƒé€šè¿‡æ”¹é€ ä¸€ä¸ªé¢„è®­ç»ƒçš„è§†é¢‘ç”Ÿæˆå™¨ï¼Œå®ç°äº†é«˜ä¿çœŸçš„å•ç›®åˆ°ç«‹ä½“è§†é¢‘ç”Ÿæˆã€‚æˆ‘ä»¬çš„æ¡†æ¶ä½¿æ¨¡å‹èƒ½å¤Ÿä»¥è¾“å…¥çš„å•ç›®è§†é¢‘ä¸ºæ¡ä»¶ï¼ŒåŒæ—¶åˆ©ç”¨å‡ ä½•æ„ŸçŸ¥çš„æ­£åˆ™åŒ–å¯¹ç”Ÿæˆè¿‡ç¨‹è¿›è¡Œæ˜¾å¼ç›‘ç£ï¼Œä»è€Œç¡®ä¿ä¸‰ç»´ç»“æ„çš„ä¿çœŸåº¦ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜é›†æˆäº†ä¸€ä¸ªæ—¶ç©ºåˆ†å—æ–¹æ¡ˆï¼Œä»¥å®ç°é«˜æ•ˆçš„é«˜åˆ†è¾¨ç‡è§†é¢‘åˆæˆã€‚ä¸ºäº†æ”¯æŒå¤§è§„æ¨¡è®­ç»ƒä¸è¯„ä¼°ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªé«˜æ¸…ç«‹ä½“è§†é¢‘æ•°æ®é›†ï¼Œå…¶ä¸­åŒ…å«è¶…è¿‡ 1100 ä¸‡å¸§è§†é¢‘ï¼Œå…¶å†…å®¹å‡ä¸è‡ªç„¶çš„äººç±»ç³å­”é—´è·ç¦» (IPD) å¯¹é½ã€‚å¤§é‡å®éªŒè¡¨æ˜ï¼ŒStereoWorld çš„æ€§èƒ½æ˜¾è‘—ä¼˜äºç°æœ‰æ–¹æ³•ï¼Œèƒ½å¤Ÿç”Ÿæˆå…·æœ‰å“è¶Šè§†è§‰ä¿çœŸåº¦å’Œå‡ ä½•ä¸€è‡´æ€§çš„ç«‹ä½“è§†é¢‘ã€‚é¡¹ç›®ç½‘é¡µåœ°å€ä¸º <a href="https://link.juejin.cn?target=https%3A%2F%2Fke-xing.github.io%2FStereoWorld%2F%25E3%2580%2582" target="_blank" title="https://ke-xing.github.io/StereoWorld/%E3%80%82" ref="nofollow noopener noreferrer">ke-xing.github.io/StereoWorldâ€¦</a></p>
<h2 data-id="heading-6">Beyond Real: Imaginary Extension of Rotary Position Embeddings for Long-Context LLMs</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.07525" target="_blank" title="https://arxiv.org/abs/2512.07525" ref="nofollow noopener noreferrer">è¶…è¶Šå®æ•°ï¼šæ—‹è½¬ä½ç½®ç¼–ç çš„è™šæ•°æ‰©å±•åŠå…¶åœ¨é•¿ä¸Šä¸‹æ–‡å¤§è¯­è¨€æ¨¡å‹ä¸­çš„åº”ç”¨</a></p>
<p>æ—‹è½¬ä½ç½®ç¼–ç  (RoPE) é€šè¿‡åœ¨å¤å¹³é¢ä¸Šå¯¹æŸ¥è¯¢å’Œé”®å‘é‡æ–½åŠ æ—‹è½¬ï¼Œå·²æˆä¸ºå¤§è¯­è¨€æ¨¡å‹ (LLMs) ä¸­ç¼–ç åºåˆ—é¡ºåºçš„æ ‡å‡†æ–¹æ¡ˆã€‚ç„¶è€Œï¼Œåœ¨æ ‡å‡†çš„å®ç°ä¸­ï¼Œæ³¨æ„åŠ›åˆ†æ•°çš„è®¡ç®—ä»…ä½¿ç”¨äº†å¤æ•°å€¼ç‚¹ç§¯çš„å®éƒ¨ã€‚è¿™ç§ç®€åŒ–ä¸¢å¼ƒäº†åŒ…å«å®è´µç›¸ä½ä¿¡æ¯çš„è™šéƒ¨ï¼Œå¯èƒ½å¯¼è‡´å¯¹å»ºæ¨¡é•¿ä¸Šä¸‹æ–‡ä¾èµ–è‡³å…³é‡è¦çš„å…³ç³»ç»†èŠ‚ä¸¢å¤±ã€‚æœ¬æ–‡æå‡ºä¸€ç§æ‰©å±•æ–¹æ³•ï¼Œé‡æ–°çº³å…¥äº†è¿™ä¸€è¢«ä¸¢å¼ƒçš„è™šéƒ¨ã€‚æˆ‘ä»¬çš„æ–¹æ³•åˆ©ç”¨å®Œæ•´çš„å¤æ•°å€¼è¡¨ç¤ºï¼Œæ„å»ºäº†ä¸€ä¸ªåŒåˆ†é‡çš„æ³¨æ„åŠ›åˆ†æ•°ã€‚æˆ‘ä»¬ä»ç†è®ºå’Œå®éªŒä¸Šè¯æ˜ï¼Œè¯¥æ–¹æ³•é€šè¿‡ä¿ç•™æ›´å¤šçš„ä½ç½®ä¿¡æ¯ï¼Œæå‡äº†å¯¹é•¿ä¸Šä¸‹æ–‡ä¾èµ–çš„å»ºæ¨¡èƒ½åŠ›ã€‚æ­¤å¤–ï¼Œåœ¨ä¸€ç³»åˆ—é•¿ä¸Šä¸‹æ–‡è¯­è¨€å»ºæ¨¡åŸºå‡†æµ‹è¯•ä¸Šçš„è¯„ä¼°è¡¨æ˜ï¼Œç›¸è¾ƒäºæ ‡å‡† RoPEï¼Œæˆ‘ä»¬çš„æ–¹æ³•èƒ½æŒç»­æå‡æ¨¡å‹æ€§èƒ½ï¼Œä¸”éšç€ä¸Šä¸‹æ–‡é•¿åº¦çš„å¢åŠ ï¼Œå…¶ä¼˜åŠ¿æ„ˆå‘æ˜¾è‘—ã€‚ä»£ç å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FOpenMOSS%2Frope_pp%25E3%2580%2582" target="_blank" title="https://github.com/OpenMOSS/rope_pp%E3%80%82" ref="nofollow noopener noreferrer">github.com/OpenMOSS/roâ€¦</a></p>
<h2 data-id="heading-7">Preserving Source Video Realism: High-Fidelity Face Swapping for Cinematic Quality</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.07951" target="_blank" title="https://arxiv.org/abs/2512.07951" ref="nofollow noopener noreferrer">ä¿æŒæºè§†é¢‘çœŸå®æ„Ÿï¼šå®ç°ç”µå½±çº§è´¨é‡çš„é«˜ä¿çœŸäººè„¸äº¤æ¢</a></p>
<p>è§†é¢‘äººè„¸äº¤æ¢åœ¨ç”µå½±å’Œå¨±ä¹åˆ¶ä½œä¸­è‡³å…³é‡è¦ã€‚ç„¶è€Œï¼Œå¯¹äºé•¿ä¸”å¤æ‚çš„è§†é¢‘åºåˆ—ï¼Œå®ç°é«˜ä¿çœŸåº¦å’Œæ—¶é—´ä¸€è‡´æ€§ä»æ˜¯ä¸€ä¸ªé‡å¤§æŒ‘æˆ˜ã€‚å—è¿‘æœŸå‚è€ƒå¼•å¯¼å›¾åƒç¼–è¾‘æŠ€æœ¯è¿›å±•çš„å¯å‘ï¼Œæˆ‘ä»¬æ¢ç´¢èƒ½å¦ç±»ä¼¼åœ°åˆ©ç”¨æºè§†é¢‘ä¸­ä¸°å¯Œçš„è§†è§‰å±æ€§ï¼Œæ¥åŒæ—¶æå‡è§†é¢‘äººè„¸äº¤æ¢çš„ä¿çœŸåº¦ä¸æ—¶é—´è¿è´¯æ€§ã€‚åŸºäºæ­¤ï¼Œæœ¬æ–‡æå‡ºäº†é¦–ä¸ªè§†é¢‘å‚è€ƒå¼•å¯¼çš„äººè„¸äº¤æ¢æ¨¡å‹â€”â€”LivingSwapã€‚æˆ‘ä»¬çš„æ–¹æ³•ä»¥å…³é”®å¸§ä½œä¸ºæ¡ä»¶ä¿¡å·ï¼Œå¼•å…¥ç›®æ ‡èº«ä»½ç‰¹å¾ï¼Œä»è€Œå®ç°çµæ´»å¯æ§çš„ç¼–è¾‘ã€‚é€šè¿‡ç»“åˆå…³é”®å¸§æ¡ä»¶ä¸è§†é¢‘å‚è€ƒå¼•å¯¼ï¼Œæ¨¡å‹èƒ½å¤Ÿè¿›è¡Œæ—¶åºæ‹¼æ¥ï¼Œç¡®ä¿åœ¨é•¿è§†é¢‘åºåˆ—ä¸­ç¨³å®šä¿æŒèº«ä»½å¹¶å®ç°é«˜ä¿çœŸé‡å»ºã€‚ä¸ºäº†è§£å†³å‚è€ƒå¼•å¯¼è®­ç»ƒæ•°æ®ç¨€ç¼ºçš„é—®é¢˜ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªé…å¯¹çš„äººè„¸äº¤æ¢æ•°æ®é›† Face2Faceï¼Œå¹¶é€šè¿‡åè½¬æ•°æ®å¯¹æ¥ç¡®ä¿å¯é çš„çœŸå€¼ç›‘ç£ã€‚å¤§é‡å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å–å¾—äº†æœ€å…ˆè¿›çš„ç»“æœï¼Œèƒ½å¤Ÿå°†ç›®æ ‡èº«ä»½ä¸æºè§†é¢‘çš„è¡¨æƒ…ã€å…‰ç…§å’Œè¿åŠ¨æ— ç¼èåˆï¼ŒåŒæ—¶æ˜¾è‘—å‡å°‘äº†ç”Ÿäº§æµç¨‹ä¸­çš„äººå·¥å·¥ä½œé‡ã€‚é¡¹ç›®ç½‘é¡µï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Faim-uofa.github.io%2FLivingSwap" target="_blank" title="https://aim-uofa.github.io/LivingSwap" ref="nofollow noopener noreferrer">aim-uofa.github.io/LivingSwap</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥MCPæœ¬è´¨â€”â€”ç¼–å†™è‡ªå®šä¹‰MCP Serverå¹¶é€šè¿‡Cursorè°ƒç”¨]]></title>    <link>https://juejin.cn/post/7583324039303184435</link>    <guid>https://juejin.cn/post/7583324039303184435</guid>    <pubDate>2025-12-14T09:15:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583324039303184435" data-draft-id="7583567658252337178" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥MCPæœ¬è´¨â€”â€”ç¼–å†™è‡ªå®šä¹‰MCP Serverå¹¶é€šè¿‡Cursorè°ƒç”¨"/> <meta itemprop="keywords" content="å‰ç«¯,MCP"/> <meta itemprop="datePublished" content="2025-12-14T09:15:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©å¤©æ‰­ç "/> <meta itemprop="url" content="https://juejin.cn/user/3349589831715801"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥MCPæœ¬è´¨â€”â€”ç¼–å†™è‡ªå®šä¹‰MCP Serverå¹¶é€šè¿‡Cursorè°ƒç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3349589831715801/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©å¤©æ‰­ç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T09:15:19.000Z" title="Sun Dec 14 2025 09:15:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™ç¯‡æ–‡ç« å°†æ·±å…¥æ¢è®¨ <strong>MCP (Model Context Protocol)</strong> çš„æ ¸å¿ƒåŸç†ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªç®€å•çš„è‡ªå®šä¹‰å¤©æ°”å·¥å…·ç¤ºä¾‹ï¼Œæ­ç¤º AI æ¨¡å‹å¦‚ä½•ä¸æœ¬åœ°ç³»ç»Ÿè¿›è¡Œé«˜æ•ˆã€å®‰å…¨çš„äº¤äº’ã€‚</p>
<hr/>
<h3 data-id="heading-0">å®æˆ˜é…ç½®ï¼šå¯åŠ¨ä½ çš„è‡ªå®šä¹‰ MCP Server</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„æ­¥éª¤æ¥é…ç½®å¹¶è¿è¡Œä¸€ä¸ªè‡ªå®šä¹‰çš„ MCP Serverï¼Œè¯¥ Server èƒ½å¤Ÿè·å–ç”µè„‘æ‰€åœ¨åœ°çš„å®æ—¶æ—¶é—´å’Œå¤©æ°”ï¼ˆä¸ä½¿ç”¨ä»£ç†çš„å‰æä¸‹ï¼‰ã€‚</p>
<h4 data-id="heading-1">æ­¥éª¤ 1: ä»£ç å‡†å¤‡</h4>
<p>ä¸‹é¢æ˜¯æˆ‘ç¼–å†™çš„ MCP Server ï¼Œä½ å¯ä»¥å°†ä»£ç åº“æ‹‰å–åˆ°æœ¬åœ°ç›®å½•</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FObjecteee%2Fmcp%2Ftree%2Fmain%2FmyMCP" target="_blank" title="https://github.com/Objecteee/mcp/tree/main/myMCP" ref="nofollow noopener noreferrer">github.com/Objecteee/mâ€¦</a></p>
<h4 data-id="heading-2">æ­¥éª¤ 2: Cursor é…ç½®</h4>
<p>åœ¨ Cursor IDE çš„ <code>mcp.json</code> é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼ŒæŒ‡å®šä½ çš„æœ¬åœ° Server è„šæœ¬çš„è·¯å¾„ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"Real Weather Tool"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-string">"E:\project\mcp\myMCP\index.js"</span>  # è¯·ç¡®ä¿è¿™é‡Œæ˜¯ä½ çš„æœ¬åœ°æ–‡ä»¶è·¯å¾„
    <span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>é…ç½®å®Œæˆåï¼Œæ‚¨å³å¯åœ¨ Cursor çš„å¯¹è¯æ¡†ä¸­é€šè¿‡è‡ªç„¶è¯­è¨€è°ƒç”¨è¿™ä¸ªå·¥å…·ï¼Œä¾‹å¦‚è¯¢é—®ï¼šâ€œç°åœ¨çš„å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿâ€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a3c959432f94e9ab583cc7755007981~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSp5omt56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766308519&amp;x-signature=DmcVhZw2EJvO%2Fc50wzw%2BjoNdu3E%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-3">1. æ ¸å¿ƒæ¶æ„ï¼šä»€ä¹ˆæ˜¯ MCPï¼Ÿ</h3>
<p><strong>MCP (Model Context Protocol)</strong> æ˜¯ç”± Anthropic æå‡ºçš„ä¸€ç§å¼€æ”¾åè®®ï¼Œæ—¨åœ¨è§£å†³ <strong>å¤§å‹è¯­è¨€æ¨¡å‹ (LLM)</strong> ä¸ <strong>å¤–éƒ¨ä¸–ç•Œï¼ˆæœ¬åœ°æ–‡ä»¶ã€æ•°æ®åº“ã€API ç­‰ï¼‰</strong> ä¹‹é—´çš„ä¿¡æ¯é¸¿æ²Ÿã€‚</p>
<ul>
<li><strong>æ²¡æœ‰ MCP æ—¶ï¼š</strong> LLM ä»…ä¾èµ–è®­ç»ƒæ•°æ®ï¼Œæ— æ³•æ„ŸçŸ¥å¤–éƒ¨ä¸–ç•Œçš„å®æ—¶çŠ¶æ€ï¼ˆå¦‚å½“å‰æ—¶é—´ã€å®æ—¶å¤©æ°”ã€æœ¬åœ°ä»£ç ç»“æ„ï¼‰ã€‚å®ƒå°±åƒä¸€ä¸ªâ€œå­¤å²›ä¸Šçš„æ™ºè€…â€ã€‚</li>
<li><strong>æœ‰äº† MCPï¼š</strong> æˆ‘ä»¬ä¸º LLM æä¾›äº†ä¸€ä¸ªæ ‡å‡†åŒ–çš„â€œå·¥å…·æ’åº§â€ã€‚ä»»ä½•éµå¾ª MCP åè®®çš„å¤–éƒ¨ç¨‹åºï¼ˆå³ <strong>MCP Server</strong>ï¼‰éƒ½å¯ä»¥æ’å…¥è¿™ä¸ªæ’åº§ï¼Œä½¿ LLM èƒ½å¤Ÿ <strong>æ§åˆ¶</strong> è¿™äº›å·¥å…·å¹¶ <strong>è·å–</strong> å®æ—¶æ•°æ®ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-4">2. æœ¬è´¨åŸç†ï¼šCursor å¦‚ä½•è¿æ¥å¹¶è°ƒç”¨å·¥å…·ï¼Ÿ</h3>
<p>Cursor è¿æ¥å’Œè°ƒç”¨è‡ªå®šä¹‰ Server çš„è¿‡ç¨‹ï¼Œæœ¬è´¨ä¸Šæ˜¯åŸºäº <strong>æ ‡å‡†è¾“å…¥/è¾“å‡º (Stdio)</strong> çš„ <strong>è¿›ç¨‹é—´é€šä¿¡ (IPC)</strong> ï¼Œå®ƒé‡‡ç”¨ <strong>JSON-RPC</strong> æ ¼å¼è¿›è¡Œæ•°æ®äº¤æ¢ã€‚æˆ‘ä»¬å¯ä»¥å°†æ•´ä¸ªè¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š</p>
<h4 data-id="heading-5">é˜¶æ®µä¸€ï¼šæ¡æ‰‹ï¼ˆHandshakeï¼‰ä¸å·¥å…·å‘ç°</h4>
<ol>
<li><strong>å¯åŠ¨å­è¿›ç¨‹ï¼š</strong> å½“ä½ åœ¨ Cursor ä¸­ä¿å­˜ <code>mcp.json</code> é…ç½®åï¼ŒCursor ä¼šåœ¨åå°å¯åŠ¨ä¸€ä¸ª <strong>å­è¿›ç¨‹ (Child Process)</strong> ï¼Œæ‰§è¡Œä½ æŒ‡å®šçš„ <code>node index.js</code> è„šæœ¬ã€‚</li>
<li><strong>å‘é€è¯¢é—®ï¼š</strong> Cursorï¼ˆçˆ¶è¿›ç¨‹ï¼‰é€šè¿‡ <strong>æ ‡å‡†è¾“å…¥ (stdin)</strong> å‘ä½ çš„è„šæœ¬å‘é€ä¸€æ¡ JSON-RPC æ ¼å¼çš„æ¶ˆæ¯ï¼Œè¯·æ±‚è·å–å¯ç”¨çš„å·¥å…·åˆ—è¡¨ã€‚</li>
<li><strong>è¿”å›åˆ—è¡¨ï¼š</strong> ä½ çš„è„šæœ¬ï¼ˆå­è¿›ç¨‹ï¼‰æ”¶åˆ°è¯·æ±‚åï¼Œä¼šé€šè¿‡ <strong>æ ‡å‡†è¾“å‡º (stdout)</strong> è¿”å›ä¸€ä¸ªåŒ…å«å…¶æ‰€æœ‰å·¥å…·å®šä¹‰ï¼ˆå¦‚ <code>TimeWeatherReporter</code>ï¼‰çš„ JSON å“åº”ã€‚è¿™å¯¹åº”äºä»£ç ä¸­çš„ <code>server.setRequestHandler(ListToolsRequestSchema...)</code>ã€‚</li>
</ol>
<h4 data-id="heading-6">é˜¶æ®µäºŒï¼šå¾…å‘½ä¸å·¥å…·è°ƒç”¨</h4>
<ol>
<li><strong>å¾…å‘½ï¼š</strong> åªè¦ Cursor ä¸å…³é—­ï¼Œä½ çš„è„šæœ¬è¿›ç¨‹å°±ä¼šåœ¨åå°æŒç»­è¿è¡Œï¼Œç­‰å¾…è°ƒç”¨æŒ‡ä»¤ã€‚</li>
<li><strong>LLM è§¦å‘ï¼š</strong> ç”¨æˆ·åœ¨èŠå¤©æ¡†è¾“å…¥æŒ‡ä»¤ï¼ˆå¦‚â€œç°åœ¨çš„å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿâ€ï¼‰ï¼ŒCursor å†…ç½®çš„ AI æ¨¡å‹åˆ†æè¯·æ±‚ï¼Œå†³å®šè°ƒç”¨å“ªä¸ªå·¥å…·ã€‚</li>
<li><strong>å‘é€æŒ‡ä»¤ï¼š</strong> Cursor å‘ä½ çš„è„šæœ¬å‘é€ä¸€æ¡ JSON-RPC <strong>è°ƒç”¨è¯·æ±‚</strong>ï¼ŒæŒ‡å®šè¦æ‰§è¡Œçš„å·¥å…·åç§°å’Œå‚æ•°ã€‚</li>
<li><strong>æ‰§è¡Œä»»åŠ¡ï¼š</strong> ä½ çš„è„šæœ¬æ¥æ”¶æŒ‡ä»¤ï¼Œæ‰§è¡Œç›¸åº”çš„å†…éƒ¨å‡½æ•°ï¼ˆä¾‹å¦‚è¯·æ±‚ <code>wttr.in</code> è·å–å¤©æ°”ï¼‰ã€‚</li>
<li><strong>åé¦ˆç»“æœï¼š</strong> è„šæœ¬å°†æ‰§è¡Œç»“æœæ‰“åŒ…æˆ JSONï¼Œé€šè¿‡ <strong>stdout</strong> å‘å›ç»™ Cursorã€‚</li>
<li><strong>ç»“æœå±•ç¤ºï¼š</strong> Cursor æ¥æ”¶åˆ°å·¥å…·è¾“å‡ºçš„åŸå§‹æ•°æ®ï¼Œå°†å…¶ä½œä¸º <strong>ä¸Šä¸‹æ–‡</strong> ä¼ é€’ç»™ AI æ¨¡å‹ï¼Œç”±æ¨¡å‹ç»„ç»‡æˆè‡ªç„¶è¯­è¨€çš„ç­”æ¡ˆå›å¤ç”¨æˆ·ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-7">3. ä»£ç å±‚é¢çš„å…³é”®å®ç°ï¼šMCP Server è¿è¡Œæœºåˆ¶ (<code>index.js</code>)</h3>
<p>æˆ‘ä»¬çš„æ³¨æ„åŠ›ä¸è¦æ”¾åœ¨ä»£ç çš„å®ç°ä¸Šï¼Œè¦æ”¾åœ¨ä»£ç çš„æµç¨‹ä¸Šï¼Œå› ä¸ºMCPåªæ˜¯ä¸€ç§è§„èŒƒã€‚</p>
<p>è¿™ä¸ª Node.js è„šæœ¬é€šè¿‡éµå¾ª MCP è§„èŒƒï¼Œå¹¶åˆ©ç”¨æ ‡å‡†è¾“å…¥/è¾“å‡ºæµ (Stdio) å®ç°é€šä¿¡ã€‚ä»¥ä¸‹æ˜¯é©±åŠ¨ MCP Server è¿è¡Œçš„äº”ä¸ªå…³é”®ä»£ç ç‰‡æ®µï¼š</p>
<h4 data-id="heading-8">3.1 æ ¸å¿ƒæ¨¡å—å¯¼å…¥ï¼šå®šä¹‰åè®®ä¸ä¼ è¾“å±‚</h4>

























<table><thead><tr><th><strong>ä»£ç ç‰‡æ®µ</strong></th><th><strong>ä½œç”¨æè¿°</strong></th><th><strong>æ ¸å¿ƒåŸç†</strong></th></tr></thead><tbody><tr><td><code>import { Server } from "@modelcontextprotocol/sdk/server/index.js";</code></td><td><strong>Server å®ä¾‹</strong></td><td>MCP æœåŠ¡ç«¯æ ¸å¿ƒç±»ï¼Œè´Ÿè´£å¤„ç† JSON-RPC è¯·æ±‚å’Œå“åº”ã€‚</td></tr><tr><td><code>import { StdioServerTransport } from "@modelcontextprotocol/sdk/server/stdio.js";</code></td><td><strong>Stdio ä¼ è¾“å±‚</strong></td><td>å£°æ˜é€šä¿¡è½½ä½“æ˜¯åŸºäº <strong>æ ‡å‡†è¾“å…¥/è¾“å‡º (stdin/stdout)</strong> ï¼Œè€Œéç½‘ç»œç«¯å£ã€‚</td></tr><tr><td><code>import { CallToolRequestSchema, ListToolsRequestSchema } from ...</code></td><td><strong>åè®®å®šä¹‰</strong></td><td>å¯¼å…¥è¯·æ±‚çš„ JSON Schemaï¼Œç”¨äºè§£æ Cursor å‘æ¥çš„ä¸åŒç±»å‹çš„æŒ‡ä»¤ã€‚</td></tr></tbody></table>
<h4 data-id="heading-9">3.2 åˆå§‹åŒ– MCP æœåŠ¡å™¨</h4>
<pre><code class="hljs language-vbscript" lang="vbscript"><span class="hljs-keyword">const</span> <span class="hljs-built_in">server</span> = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Server</span>(
  {
    name: <span class="hljs-string">"simple-weather-server"</span>,
    version: <span class="hljs-string">"1.0.0"</span>,
  },
  {
    capabilities: {
      tools: {},
    },
  }
);
</code></pre>
<p><strong>ä½œç”¨ï¼š</strong> åˆ›å»ºæœåŠ¡å™¨å®ä¾‹ã€‚<code>capabilities.tools: {}</code> æ˜ç¡®å‘Šè¯‰ MCPï¼Œè¯¥æœåŠ¡å™¨å…·å¤‡æä¾›å·¥å…·çš„èƒ½åŠ›ã€‚</p>
<h4 data-id="heading-10">3.3 æ³¨å†Œå·¥å…·åˆ—è¡¨ï¼šå“åº”â€œæ¡æ‰‹â€è¯·æ±‚</h4>
<pre><code class="hljs language-php" lang="php">server.<span class="hljs-title function_ invoke__">setRequestHandler</span>(ListToolsRequestSchema, <span class="hljs-title function_ invoke__">async</span> () =&gt; {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">tools</span>: [
      {
        <span class="hljs-attr">name</span>: <span class="hljs-string">"TimeWeatherReporter"</span>,
        <span class="hljs-attr">description</span>: <span class="hljs-string">"Get current system time and weather..."</span>,
        <span class="hljs-attr">inputSchema</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">"object"</span>,
          <span class="hljs-attr">properties</span>: {
            <span class="hljs-attr">location</span>: {
              <span class="hljs-attr">type</span>: <span class="hljs-string">"string"</span>,
              <span class="hljs-attr">description</span>: <span class="hljs-string">"Optional. City name (e.g. 'Beijing')..."</span>,
            },
          },
          <span class="hljs-attr">required</span>: [],
        },
      },
    ],
  };
});
</code></pre>
<p><strong>ä½œç”¨</strong>  è¿™æ˜¯<strong>æ¡æ‰‹é˜¶æ®µï¼ˆHandshakeï¼‰</strong> çš„å…³é”®ã€‚å½“ Cursor é¦–æ¬¡å¯åŠ¨å­è¿›ç¨‹æ—¶ï¼Œä¼šå‘é€ <code>ListToolsRequestSchema</code> è¯·æ±‚ã€‚è¯¥ä»£ç ç‰‡æ®µè´Ÿè´£è¿”å›ä¸€ä¸ªæ¸…æ™°çš„ <strong>JSON Schema</strong> æè¿°ï¼š</p>
<ul>
<li><strong>name:</strong> å·¥å…·çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚</li>
<li><strong>description:</strong> ä¾› AI ç†è§£å·¥å…·ç”¨é€”çš„è‡ªç„¶è¯­è¨€æè¿°ã€‚</li>
<li><strong>inputSchema:</strong> <strong>JSON Schema</strong> æ ¼å¼çš„å‚æ•°å®šä¹‰ï¼ŒAI ä¾èµ–æ­¤ä¿¡æ¯æ¥æ„é€ æ­£ç¡®çš„è°ƒç”¨å‚æ•°ã€‚</li>
</ul>
<h4 data-id="heading-11">3.4 å¤„ç†å·¥å…·è°ƒç”¨ï¼šæ‰§è¡Œä¸šåŠ¡é€»è¾‘</h4>
<pre><code class="hljs language-csharp" lang="csharp">server.setRequestHandler(CallToolRequestSchema, <span class="hljs-keyword">async</span> (request) =&gt; {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-keyword">params</span>.name === <span class="hljs-string">"TimeWeatherReporter"</span>) {
    <span class="hljs-keyword">const</span> location = request.<span class="hljs-keyword">params</span>.arguments?.location;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> getSystemStyleWeather(location); <span class="hljs-comment">// è°ƒç”¨å®é™…çš„ä¸šåŠ¡å‡½æ•°</span>
  }
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Error(<span class="hljs-string">"Tool not found"</span>);
});
</code></pre>
<p><strong>ä½œç”¨ï¼š</strong> è¿™æ˜¯<strong>æ‰§è¡Œé˜¶æ®µï¼ˆExecutionï¼‰</strong> çš„æ ¸å¿ƒã€‚å½“ Cursor çš„ AI å†³å®šè°ƒç”¨å·¥å…·æ—¶ï¼Œä¼šå‘é€ <code>CallToolRequestSchema</code> è¯·æ±‚ã€‚è¿™æ®µä»£ç æ ¹æ® <code>request.params.name</code> åŒ¹é…åˆ°å¯¹åº”çš„ä¸šåŠ¡é€»è¾‘ (<code>getSystemStyleWeather</code>)ï¼Œæ‰§è¡Œåå°†ç»“æœè¿”å›ç»™ Cursorã€‚</p>
<h4 data-id="heading-12">3.5 å¯åŠ¨æœåŠ¡å™¨ï¼šè¿æ¥åˆ° Stdio æµ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> transport = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StdioServerTransport</span>();
  <span class="hljs-keyword">await</span> server.<span class="hljs-title function_">connect</span>(transport);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Simple Weather MCP Server running on stdio"</span>);
}
</code></pre>
<p><strong>ä½œç”¨ï¼š</strong> <strong>è¿æ¥ç‚¹ã€‚</strong> <code>StdioServerTransport()</code> åˆ›å»ºäº†ä¼ è¾“é€šé“ï¼Œ<code>server.connect(transport)</code> åˆ™å°†æœåŠ¡å™¨å®ä¾‹ç»‘å®šåˆ°è¿™ä¸ªé€šé“ä¸Šã€‚è‡³æ­¤ï¼Œæ‚¨çš„ Node.js è„šæœ¬å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥é€šè¿‡ <code>stdin/stdout</code> ä¸ Cursor è¿›ç¨‹è¿›è¡ŒåŒå‘é€šä¿¡ã€‚</p>
<hr/>
<h3 data-id="heading-13">4. æ€»ç»“ï¼šMCP çš„æœ¬è´¨</h3>






























<table><thead><tr><th><strong>è§’è‰²</strong></th><th><strong>å®ä½“</strong></th><th><strong>èŒè´£</strong></th></tr></thead><tbody><tr><td><strong>é›‡ä¸» (Client)</strong></td><td>Cursor IDE (çˆ¶è¿›ç¨‹)</td><td>å¯åŠ¨å¹¶ç›‘æ§å·¥å…·ï¼Œå‘é€è°ƒç”¨æŒ‡ä»¤ï¼Œæ¥æ”¶å¹¶å¤„ç†ç»“æœã€‚</td></tr><tr><td><strong>é›‡å‘˜ (Server)</strong></td><td><code>node index.js</code> (å­è¿›ç¨‹)</td><td>æ¥æ”¶æŒ‡ä»¤ï¼Œæ‰§è¡Œå®é™…ä»»åŠ¡ï¼ˆå¦‚ API è°ƒç”¨ã€æ–‡ä»¶è¯»å†™ï¼‰ï¼Œè¿”å›åŸå§‹æ•°æ®ã€‚</td></tr><tr><td><strong>å·¥ä½œåˆåŒ (Protocol)</strong></td><td>MCP åè®®</td><td>è§„å®šäº†æ¡æ‰‹å’Œè°ƒç”¨è¿‡ç¨‹ä¸­ JSON æ•°æ®çš„ç»“æ„å’Œæ ‡å‡†ã€‚</td></tr><tr><td><strong>å¯¹è®²æœº (Transport)</strong></td><td>Stdio (æ ‡å‡†è¾“å…¥/è¾“å‡º)</td><td>å®ç°æœ¬åœ°çˆ¶è¿›ç¨‹ä¸å­è¿›ç¨‹ä¹‹é—´å³æ—¶ã€å®‰å…¨çš„é€šä¿¡ã€‚</td></tr></tbody></table>
<p>MCP çš„ç²¾å¦™ä¹‹å¤„åœ¨äºå®ƒçš„<strong>è§£è€¦æ€§</strong>å’Œ<strong>å®‰å…¨æ€§</strong>ï¼šCursor å®¢æˆ·ç«¯æ— éœ€å…³å¿ƒä½ çš„ Server æ˜¯ç”¨ Node.jsã€Python è¿˜æ˜¯ Go ç¼–å†™ã€‚åªè¦ä½ çš„ç¨‹åºç¬¦åˆ MCP åè®®ï¼Œèƒ½å¤Ÿé€šè¿‡å‘½ä»¤è¡Œæµæ¥æ”¶å’Œå‘é€ JSON æ•°æ®ï¼Œå®ƒå°±èƒ½æ— ç¼åœ°æˆä¸º AI çš„å¤–éƒ¨å·¥å…·ï¼Œæå¤§åœ°æ‰©å±•äº† LLM çš„èƒ½åŠ›è¾¹ç•Œã€‚</p>
<hr/>
<p><strong>è‡ªå®šä¹‰MCP Serverä»£ç </strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Server</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@modelcontextprotocol/sdk/server/index.js"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">StdioServerTransport</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@modelcontextprotocol/sdk/server/stdio.js"</span>;
<span class="hljs-keyword">import</span> {
  <span class="hljs-title class_">CallToolRequestSchema</span>,
  <span class="hljs-title class_">ListToolsRequestSchema</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@modelcontextprotocol/sdk/types.js"</span>;
<span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">"axios"</span>;
<span class="hljs-keyword">import</span> { z } <span class="hljs-keyword">from</span> <span class="hljs-string">"zod"</span>;

<span class="hljs-comment">// 1. Initialize MCP Server</span>
<span class="hljs-keyword">const</span> server = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Server</span>(
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"simple-weather-server"</span>,
    <span class="hljs-attr">version</span>: <span class="hljs-string">"1.0.0"</span>,
  },
  {
    <span class="hljs-attr">capabilities</span>: {
      <span class="hljs-attr">tools</span>: {},
    },
  }
);

<span class="hljs-comment">// 2. Define Tool Logic using wttr.in (No API Key required)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getSystemStyleWeather</span>(<span class="hljs-params">location</span>) {
  <span class="hljs-comment">// --- Get Real Local Time (System Time) ---</span>
  <span class="hljs-keyword">const</span> now = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();
  <span class="hljs-keyword">const</span> localTime = now.<span class="hljs-title function_">toLocaleTimeString</span>(<span class="hljs-string">"zh-CN"</span>, {
    <span class="hljs-attr">hour</span>: <span class="hljs-string">"2-digit"</span>,
    <span class="hljs-attr">minute</span>: <span class="hljs-string">"2-digit"</span>,
    <span class="hljs-attr">second</span>: <span class="hljs-string">"2-digit"</span>,
    <span class="hljs-attr">hour12</span>: <span class="hljs-literal">false</span>,
  });
  <span class="hljs-keyword">const</span> localDate = now.<span class="hljs-title function_">toLocaleDateString</span>(<span class="hljs-string">"zh-CN"</span>);

  <span class="hljs-comment">// --- Determine URL ---</span>
  <span class="hljs-comment">// wttr.in automatically detects location by IP if no location is provided</span>
  <span class="hljs-comment">// format=j1 gives us a JSON response</span>
  <span class="hljs-keyword">let</span> url = <span class="hljs-string">"https://wttr.in/?format=j1"</span>;
  <span class="hljs-keyword">if</span> (location) {
    url = <span class="hljs-string">`https://wttr.in/<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(location)}</span>?format=j1`</span>;
  }

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(url);
    <span class="hljs-keyword">const</span> data = response.<span class="hljs-property">data</span>;
    
    <span class="hljs-comment">// Parse wttr.in specific JSON structure</span>
    <span class="hljs-keyword">const</span> current = data.<span class="hljs-property">current_condition</span>[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">const</span> area = data.<span class="hljs-property">nearest_area</span>[<span class="hljs-number">0</span>];

    <span class="hljs-keyword">const</span> weatherInfo = {
      <span class="hljs-attr">location</span>: location || area.<span class="hljs-property">areaName</span>[<span class="hljs-number">0</span>].<span class="hljs-property">value</span>, <span class="hljs-comment">// Use detected name if no input</span>
      <span class="hljs-attr">region</span>: area.<span class="hljs-property">region</span>[<span class="hljs-number">0</span>].<span class="hljs-property">value</span>,
      <span class="hljs-attr">condition</span>: current.<span class="hljs-property">weatherDesc</span>[<span class="hljs-number">0</span>].<span class="hljs-property">value</span>,
      <span class="hljs-attr">temperature_c</span>: current.<span class="hljs-property">temp_C</span>,
      <span class="hljs-attr">feelslike_c</span>: current.<span class="hljs-property">FeelsLikeC</span>,
      <span class="hljs-attr">humidity</span>: current.<span class="hljs-property">humidity</span>,
      <span class="hljs-attr">wind_kph</span>: current.<span class="hljs-property">windspeedKmph</span>,
      <span class="hljs-attr">data_source</span>: <span class="hljs-string">"wttr.in (IP-based auto-location)"</span>
    };

    <span class="hljs-comment">// --- Construct Result ---</span>
    <span class="hljs-keyword">const</span> result = {
      <span class="hljs-attr">status</span>: <span class="hljs-string">"success"</span>,
      <span class="hljs-attr">tool</span>: <span class="hljs-string">"SystemWeatherReporter"</span>,
      <span class="hljs-attr">system_time</span>: <span class="hljs-string">`<span class="hljs-subst">${localDate}</span> <span class="hljs-subst">${localTime}</span>`</span>,
      <span class="hljs-attr">weather</span>: weatherInfo
    };

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">content</span>: [
        {
          <span class="hljs-attr">type</span>: <span class="hljs-string">"text"</span>,
          <span class="hljs-attr">text</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(result, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>),
        },
      ],
    };

  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">content</span>: [{ <span class="hljs-attr">type</span>: <span class="hljs-string">"text"</span>, <span class="hljs-attr">text</span>: <span class="hljs-string">`Unable to fetch weather data. Please check your network connection. Error: <span class="hljs-subst">${error.message}</span>`</span> }],
      <span class="hljs-attr">isError</span>: <span class="hljs-literal">true</span>,
    };
  }
}

<span class="hljs-comment">// 3. Register Tools</span>
server.<span class="hljs-title function_">setRequestHandler</span>(<span class="hljs-title class_">ListToolsRequestSchema</span>, <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">tools</span>: [
      {
        <span class="hljs-attr">name</span>: <span class="hljs-string">"TimeWeatherReporter"</span>,
        <span class="hljs-attr">description</span>: <span class="hljs-string">"Get current system time and weather. Automatically detects location if not specified. No API key required."</span>,
        <span class="hljs-attr">inputSchema</span>: {
          <span class="hljs-attr">type</span>: <span class="hljs-string">"object"</span>,
          <span class="hljs-attr">properties</span>: {
            <span class="hljs-attr">location</span>: {
              <span class="hljs-attr">type</span>: <span class="hljs-string">"string"</span>,
              <span class="hljs-attr">description</span>: <span class="hljs-string">"Optional. City name (e.g. 'Beijing'). If omitted, uses auto-detection."</span>,
            },
          },
          <span class="hljs-attr">required</span>: [],
        },
      },
    ],
  };
});

<span class="hljs-comment">// 4. Handle Tool Calls</span>
server.<span class="hljs-title function_">setRequestHandler</span>(<span class="hljs-title class_">CallToolRequestSchema</span>, <span class="hljs-keyword">async</span> (request) =&gt; {
  <span class="hljs-keyword">if</span> (request.<span class="hljs-property">params</span>.<span class="hljs-property">name</span> === <span class="hljs-string">"TimeWeatherReporter"</span>) {
    <span class="hljs-keyword">const</span> location = request.<span class="hljs-property">params</span>.<span class="hljs-property">arguments</span>?.<span class="hljs-property">location</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">getSystemStyleWeather</span>(location);
  }
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Tool not found"</span>);
});

<span class="hljs-comment">// 5. Start Server</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">main</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> transport = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StdioServerTransport</span>();
  <span class="hljs-keyword">await</span> server.<span class="hljs-title function_">connect</span>(transport);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Simple Weather MCP Server running on stdio"</span>);
}

<span class="hljs-title function_">main</span>().<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"Server error:"</span>, error);
  process.<span class="hljs-title function_">exit</span>(<span class="hljs-number">1</span>);
});

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React æ–°æ‰‹æ‘é€šå…³æŒ‡å—ï¼šçŠ¶æ€ã€ç»„ä»¶ä¸é­”æ³• UI ğŸ§™â€â™‚ï¸]]></title>    <link>https://juejin.cn/post/7583234966634233890</link>    <guid>https://juejin.cn/post/7583234966634233890</guid>    <pubDate>2025-12-14T09:07:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583234966634233890" data-draft-id="7583225356904464424" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React æ–°æ‰‹æ‘é€šå…³æŒ‡å—ï¼šçŠ¶æ€ã€ç»„ä»¶ä¸é­”æ³• UI ğŸ§™â€â™‚ï¸"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,React.js"/> <meta itemprop="datePublished" content="2025-12-14T09:07:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xiaoxue_"/> <meta itemprop="url" content="https://juejin.cn/user/4065372122398027"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React æ–°æ‰‹æ‘é€šå…³æŒ‡å—ï¼šçŠ¶æ€ã€ç»„ä»¶ä¸é­”æ³• UI ğŸ§™â€â™‚ï¸
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4065372122398027/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xiaoxue_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T09:07:45.000Z" title="Sun Dec 14 2025 09:07:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">React å…¥é—¨ï¼šä» JSX åˆ°ç»„ä»¶åŒ–ï¼Œæå®šæ ¸å¿ƒçŸ¥è¯†ç‚¹ ğŸš€</h2>
<h3 data-id="heading-1">ä¸€ã€ ä»€ä¹ˆæ˜¯ React &amp; ä¸ºä»€ä¹ˆé€‰æ‹© Reactï¼ŸğŸ¯</h3>
<p>å¦‚æœä½ é—®å‰ç«¯åœˆçš„ç¨‹åºçŒ¿ â€œç°åœ¨æœ€ç«çš„ UI åº“æ˜¯ä»€ä¹ˆâ€ï¼Œåæœ‰å…«ä¹ä¼šå¬åˆ° â€œReactâ€ è¿™ä¸ªåå­—ã€‚ç®€å•æ¥è¯´ï¼ŒReact æ˜¯ Facebookï¼ˆç°åœ¨çš„ Metaï¼‰æ¨å‡ºçš„ä¸€ä¸ªç”¨äºæ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ï¼Œå®ƒå°±åƒä¸€ä¸ªè¶…çº§é«˜æ•ˆçš„ â€œUI å»ºç­‘å¸ˆâ€ï¼Œè®©æˆ‘ä»¬èƒ½è½»æ¾æ­å»ºå‡ºäº¤äº’ä¸°å¯Œã€æ€§èƒ½èƒ½æ‰“çš„ç½‘é¡µã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦å­¦ React å‘¢ï¼Ÿâ€œreact ä¸€å¼€å§‹å°±æ˜¯ç»„ä»¶æ€æƒ³ï¼Œéå¸¸çš„çº¯ç²¹â€ã€‚å’Œä¼ ç»Ÿå‰ç«¯å¼€å‘ç›¸æ¯”ï¼ŒReact æœ‰ä¸‰ä¸ª â€œæ’’æ‰‹é”â€ï¼šå“åº”å¼ï¼ˆæ•°æ®å˜äº† UI è‡ªåŠ¨æ›´ï¼‰ã€æ•°æ®ç»‘å®šï¼ˆæ•°æ®å’Œ UI æ‰‹æ‹‰æ‰‹ï¼‰ã€ç»„ä»¶åŒ–ï¼ˆæŠŠé¡µé¢æ‹†æˆä¸€å—å—å¯å¤ç”¨çš„ â€œç§¯æœ¨â€ï¼‰ã€‚è™½ç„¶æœ‰äººè¯´å®ƒå…¥é—¨é—¨æ§›æ¯” Vue é«˜ä¸€ç‚¹ï¼Œä½†ä¸€æ—¦ä¸Šæ‰‹ï¼Œä½ ä¼šå‘ç°è¿™ç§ â€œæ¿€è¿›â€ çš„è®¾è®¡æ€è·¯ç‰¹åˆ«é€‚åˆå¤æ‚åº”ç”¨å¼€å‘ï¼Œæ¯•ç«Ÿè°ä¸æƒ³å†™ä¸€æ¬¡ä»£ç åˆ°å¤„å¤ç”¨å‘¢ï¼Ÿ</p>
<h3 data-id="heading-2">äºŒã€ JSX è¯­æ³•ï¼šåœ¨ JS é‡Œå†™ HTMLï¼Ÿè¿™æ“ä½œæœ‰ç‚¹ç§€ï¼âœ¨</h3>
<h4 data-id="heading-3">2.1 ä»€ä¹ˆæ˜¯ JSXï¼Ÿ</h4>
<p>ç¬¬ä¸€æ¬¡çœ‹åˆ° JSX ä»£ç çš„åŒå­¦å¯èƒ½ä¼šæ‡µï¼šâ€œè¿™åˆ°åº•æ˜¯ JS è¿˜æ˜¯ HTMLï¼Ÿâ€ å…¶å®å®˜æ–¹è§£é‡Šå¾ˆç›´ç™½ â€”â€”<strong>JSX å°±æ˜¯ â€œXML in JSâ€</strong> ï¼ˆåœ¨ JavaScript é‡Œå†™ XMLï¼‰ï¼Œè€Œæˆ‘ä»¬ç†Ÿæ‚‰çš„ HTMLï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ç§ç‰¹æ®Šçš„ XMLã€‚</p>
<p>çœ‹çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// JSXå†™æ³•</span>
<span class="hljs-keyword">const</span> element = <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>JSX æ˜¯ React ä¸­ç”¨äºæè¿°ç”¨æˆ·ç•Œé¢çš„è¯­æ³•æ‰©å±•<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>

<span class="hljs-comment">// ç­‰æ•ˆçš„åŸç”ŸJSå†™æ³•ï¼ˆJSXçš„ç¼–è¯‘ç»“æœï¼‰</span>
<span class="hljs-keyword">const</span> element2 = <span class="hljs-title function_">createElement</span>(<span class="hljs-string">'h2'</span>, <span class="hljs-literal">null</span>,<span class="hljs-string">'JSX æ˜¯ React ä¸­ç”¨äºæè¿°ç”¨æˆ·ç•Œé¢çš„è¯­æ³•æ‰©å±•'</span>);
</code></pre>
<p>è¿™ä¸¤è¡Œä»£ç æ•ˆæœå®Œå…¨ä¸€æ ·ï¼Œä½†æ˜¾ç„¶ JSX ç‰ˆæœ¬æ›´åƒ â€œäººè¯â€ã€‚æ‰€ä»¥è¯´ï¼ŒJSX æœ¬è´¨æ˜¯<code>createElement</code>å‡½æ•°çš„è¯­æ³•ç³–ï¼Œå®ƒçš„å­˜åœ¨å°±æ˜¯ä¸ºäº†è®©æˆ‘ä»¬å†™ UI æ—¶å°‘æ‰ç‚¹å¤´å‘ï¼Œæ¯•ç«Ÿè°æ„¿æ„å¯¹ç€ä¸€å †åµŒå¥—çš„å‡½æ•°è°ƒç”¨æµæ³ªå‘¢ï¼Ÿ</p>
<h4 data-id="heading-4">2.2 JSX çš„åŸºæœ¬è¯­æ³•</h4>
<p>è™½ç„¶ JSX çœ‹èµ·æ¥åƒ HTMLï¼Œä½†å®ƒæœ‰å‡ ä¸ª â€œå°æ€ªç™–â€ éœ€è¦æ³¨æ„ï¼š</p>
<ol>
<li>
<p><strong>å¿…é¡»æœ‰æ ¹å…ƒç´ åŒ…è£¹</strong>å°±åƒå¿«é€’å¿…é¡»æœ‰åŒ…è£…ç›’ï¼ŒJSX è¿”å›çš„å†…å®¹ä¹Ÿå¾—æœ‰ä¸ª â€œæ ¹å®¹å™¨â€ã€‚æ¯”å¦‚ä¸‹é¢ç”¨<code>&lt;div&gt;</code>å½“å®¹å™¨ï¼Œä¹Ÿå¯ä»¥ç”¨ React æä¾›çš„<code>&lt;Fragment&gt;</code>ï¼ˆæ–‡æ¡£ç¢ç‰‡ï¼‰å½“ â€œéšå½¢å®¹å™¨â€ï¼Œé¿å…å¤šä¸€å±‚ä¸å¿…è¦çš„ DOM èŠ‚ç‚¹ã€‚</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£ç¡®ï¼šæœ‰æ ¹å…ƒç´ åŒ…è£¹</span>
<span class="hljs-keyword">return</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>content<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
)

<span class="hljs-comment">// é”™è¯¯ï¼šæ²¡æœ‰æ ¹å…ƒç´ </span>
<span class="hljs-keyword">return</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>title<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>content<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
)
</code></pre>
</li>
<li>
<p><strong>class è¦å†™æˆ className</strong>ï¼Œå¦‚æœä½ åœ¨ JSX é‡Œå†™<code>&lt;div class="box"&gt;</code>ï¼ŒReact ä¼šç»™ä½ æŠ›é”™ â€”â€” å› ä¸º<code>class</code>æ˜¯ JavaScript çš„å…³é”®å­—ï¼Œæ‰€ä»¥å¾—æ”¹ç”¨<code>className</code>ã€‚æ¯”å¦‚ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-ini" lang="ini">// æ­£ç¡®å†™æ³•
&lt;span <span class="hljs-attr">className</span>=<span class="hljs-string">"title"</span>&gt;Hello&lt;/span&gt;

// é”™è¯¯å†™æ³•ï¼ˆä¼šæŠ¥é”™ï¼‰
&lt;span <span class="hljs-attr">class</span>=<span class="hljs-string">"title"</span>&gt;Hello&lt;/span&gt;
</code></pre>
</li>
<li>
<p><strong>è¡¨è¾¾å¼è¦ç”¨å¤§æ‹¬å·åŒ…èµ·æ¥</strong>æƒ³åœ¨ JSX é‡Œæ’å…¥å˜é‡æˆ–è¡¨è¾¾å¼ï¼Ÿç”¨<code>{}</code>å°±è¡Œï¼æ¯”å¦‚ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> name = <span class="hljs-string">"React"</span>;
<span class="hljs-keyword">const</span> isLoggedIn = <span class="hljs-literal">true</span>;

<span class="hljs-comment">// æ’å…¥å˜é‡</span>
<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello {name}!<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;

<span class="hljs-comment">// æ’å…¥æ¡ä»¶è¡¨è¾¾å¼</span>
<span class="hljs-keyword">return</span> {isLoggedIn ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å·²ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span> : <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æœªç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>};
</code></pre>
</li>
</ol>
<h3 data-id="heading-5">ä¸‰ã€ ç»„ä»¶åŒ–ï¼šå‰ç«¯å¼€å‘çš„ â€œä¹é«˜ç§¯æœ¨â€ğŸ§©</h3>
<h4 data-id="heading-6">3.1 ä»€ä¹ˆæ˜¯ç»„ä»¶ï¼Ÿ</h4>
<p>ç»„ä»¶å°±åƒç½‘é¡µçš„ â€œåŠŸèƒ½æ¨¡å—â€â€”â€” æŠŠ HTMLã€CSSã€JS æ‰“åŒ…æˆä¸€ä¸ªç‹¬ç«‹å•å…ƒï¼Œå®Œæˆç‰¹å®šåŠŸèƒ½ã€‚æ¯”å¦‚ä¸‹é¢çš„<code>JuejinHeader</code>æ˜¯å¤´éƒ¨ç»„ä»¶ï¼Œ<code>Ariticles</code>æ˜¯æ–‡ç« åˆ—è¡¨ç»„ä»¶ï¼Œå®ƒä»¬å°±åƒä¹é«˜ç§¯æœ¨ï¼Œæ‹¼åœ¨ä¸€èµ·å°±æˆäº†å®Œæ•´é¡µé¢ã€‚</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¤´éƒ¨ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">JuejinHeader</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>JueJiné¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-comment">// æ–‡ç« åˆ—è¡¨ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Ariticles</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      Articles
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<h4 data-id="heading-7">3.2 ä¸ºä»€ä¹ˆ React é€‰å‡½æ•°å½“ç»„ä»¶ï¼Ÿ</h4>
<p>React é‡Œçš„ç»„ä»¶å¤§å¤šæ˜¯å‡½æ•°ï¼Œè¿™å¯ä¸æ˜¯éšä¾¿é€‰çš„ã€‚å‡½æ•°é€‚åˆåšç»„ä»¶ï¼Œå› ä¸ºèƒ½å°† JSX + é€»è¾‘å°è£…æˆä¸€ä¸ªç»„ä»¶ã€‚æƒ³æƒ³çœ‹ï¼Œå‡½æ•°æ¥æ”¶å‚æ•°ã€å¤„ç†é€»è¾‘ã€è¿”å›ç»“æœï¼Œç»„ä»¶æ¥æ”¶æ•°æ®ã€å¤„ç†äº¤äº’ã€è¿”å› UIï¼Œç®€ç›´æ˜¯å¤©é€ åœ°è®¾ï¼</p>
<p>æ¯”å¦‚æœ€ç®€åŒ–çš„ç»„ä»¶é•¿è¿™æ ·ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¸€ä¸ªç®€å•çš„ç­¾åˆ°ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Checkin</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Checkin<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p>ä¸€è¡Œä¸å¤šä¸€è¡Œä¸å°‘ï¼Œé€»è¾‘å’Œ UI å®Œç¾èåˆï½</p>
<h4 data-id="heading-8">3.3 æ ¹ç»„ä»¶ä¸å­ç»„ä»¶ç»„åˆå½¢æˆç»„ä»¶æ ‘</h4>
<p>æ•´ä¸ª React åº”ç”¨å°±åƒä¸€æ£µå¤§æ ‘ï¼Œæœ‰ä¸€ä¸ª â€œæ ¹ç»„ä»¶â€ï¼Œå…¶ä»–ç»„ä»¶éƒ½æ˜¯å®ƒçš„ â€œå­ç»„ä»¶â€ã€‚ä»¥æ˜é‡‘é¦–é¡µä¸ºä¾‹å±•ç¤ºæ ¹ç»„ä»¶ã€å­ç»„ä»¶ä»¥åŠç»„ä»¶æ ‘çš„çŸ¥è¯†å†…å®¹ã€‚ä¸‹é¢ä»£ç çš„<code>JuejinHeader</code>ã€<code>Ariticles</code>éƒ½æ˜¯<code>APP</code>çš„å­ç»„ä»¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c35fc6835ad49209e1e507e53a0d5a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb3h1ZV8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766308065&amp;x-signature=72aKSAetDB30TDjCdvgsp3%2BPz9I%3D" alt="QQ20251214-161150.png" loading="lazy"/></p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">JuejinHeader</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span>(
    <span class="hljs-comment">// jsx æœ€å¤–å±‚</span>
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>JueJiné¦–é¡µ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Ariticles</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      Articles
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Checkin</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      Checkin
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">TopArticles</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      TopArticles
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}



<span class="hljs-comment">// æ ¹ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">APP</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å­ç»„ä»¶ä»¬</span>
  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {/* <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>React!<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span> */}
      {/* å¤´éƒ¨ç»„ä»¶ */}
      <span class="hljs-tag">&lt;<span class="hljs-name">JuejinHeader</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">main</span>&gt;</span>
        {/* ç»„ä»¶ä¹Ÿå’Œhtml ä¸€æ ·å£°æ˜ï¼Œè‡ªå®šä¹‰ç»„ä»¶ */}
        {/* ç»„ä»¶åŒ–è®©æˆ‘ä»¬åƒæ­ç§¯æœ¨ä¸€æ ·ç»„åˆæˆé¡µé¢ */}
        <span class="hljs-tag">&lt;<span class="hljs-name">Ariticles</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">aside</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Checkin</span> /&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">TopArticles</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">main</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-variable constant_">APP</span> 
</code></pre>
<p>ç»„ä»¶æ ‘ä»¥ä¸€ä¸ª<strong>æ ¹ç»„ä»¶</strong>ä¸ºèµ·ç‚¹ï¼ˆå°±åƒæ ‘å¹²ï¼‰ï¼Œå…¶ä»–ç»„ä»¶ä½œä¸º â€œå­ç»„ä»¶â€ï¼ˆæ ‘æå’Œæ ‘å¶ï¼‰åµŒå¥—åœ¨å…¶ä¸­ï¼Œå½¢æˆæ˜ç¡®çš„å±‚çº§å…³ç³»ã€‚æ•´ä¸ª React åº”ç”¨çš„ UI ç»“æ„ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€æ£µç»„ä»¶æ ‘çš„å¯è§†åŒ–å‘ˆç°ã€‚ä¸Šé¢è¿™æ®µä»£ç å½¢æˆçš„ç»„ä»¶æ ‘ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-css" lang="css">APPï¼ˆæ ¹ï¼‰
â”œâ”€ JuejinHeader
â””â”€ <span class="hljs-selector-tag">main</span>
   â”œâ”€ Ariticles
   â””â”€ <span class="hljs-selector-tag">aside</span>
      â”œâ”€ Checkin
      â””â”€ TopArticles
</code></pre>
<h3 data-id="heading-9">å››ã€ çŠ¶æ€ï¼šè®©ç»„ä»¶ â€œåŠ¨â€ èµ·æ¥çš„é­”æ³•ğŸ“¦</h3>
<h4 data-id="heading-10">4.1 ä»€ä¹ˆæ˜¯ state çŠ¶æ€ï¼Ÿ</h4>
<p>å¦‚æœè¯´ç»„ä»¶æ˜¯ â€œèº«ä½“â€ï¼Œé‚£çŠ¶æ€ï¼ˆstateï¼‰å°±æ˜¯ â€œçµé­‚â€â€”â€” å®ƒæ˜¯ç»„ä»¶å†…éƒ¨çš„ â€œæ•°æ®ä»“åº“â€ï¼Œå†³å®šäº†ç»„ä»¶çš„æ ·å­å’Œè¡Œä¸ºã€‚æ¯”å¦‚ç”¨æˆ·æ˜¯å¦ç™»å½•ã€å¾…åŠäº‹é¡¹åˆ—è¡¨ã€å½“å‰æ˜¾ç¤ºçš„åå­—ï¼Œè¿™äº›éƒ½æ˜¯çŠ¶æ€ã€‚</p>
<h4 data-id="heading-11">4.2 useStateï¼šçŠ¶æ€ç®¡ç†çš„ â€œé‡‘é’¥åŒ™â€</h4>
<p>React æä¾›äº†<code>useState</code>è¿™ä¸ªé’©å­å‡½æ•°æ¥ç®¡ç†çŠ¶æ€ï¼Œå®ƒçš„ç”¨æ³•å°±åƒ â€œæ‹†ç›²ç›’â€ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å¼•å…¥useState</span>
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// å£°æ˜çŠ¶æ€ï¼šåˆå§‹å€¼ä¸º"vue"ï¼ŒsetNameç”¨äºæ›´æ–°çŠ¶æ€</span>
<span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">"vue"</span>);
</code></pre>
<p>è¿™å‡ è¡Œä»£ç åšäº†ä¸‰ä»¶äº‹ï¼š</p>
<ol>
<li>å£°æ˜äº†ä¸€ä¸ªå«<code>name</code>çš„çŠ¶æ€ï¼Œåˆå§‹å€¼æ˜¯ â€œvueâ€</li>
<li>å¾—åˆ°ä¸€ä¸ªæ›´æ–°çŠ¶æ€çš„å‡½æ•°<code>setName</code></li>
<li>å½“<code>setName</code>è¢«è°ƒç”¨æ—¶ï¼Œç»„ä»¶ä¼šé‡æ–°æ¸²æŸ“ï¼ŒUI è‡ªåŠ¨æ›´æ–°</li>
</ol>
<p>æ¯”å¦‚ 3 ç§’åæ›´æ–°çŠ¶æ€ï¼Œé¡µé¢ä¼šè‡ªåŠ¨å˜åŒ–ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// 3ç§’åå°†nameä»"vue"æ”¹ä¸º"react"</span>
<span class="hljs-built_in">setTimeout</span>(() =&gt; {
  <span class="hljs-built_in">setName</span>("react");
}, <span class="hljs-number">3000</span>);
</code></pre>
<p><strong>æ•ˆæœå±•ç¤ºï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f485aad6376d450da53e8940fcd781ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb3h1ZV8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766308065&amp;x-signature=FlyQL1waew9Og52Uc%2F6QUEL9ruk%3D" alt="QQ20251214-16249.gif" loading="lazy"/></p>
<h4 data-id="heading-12">4.3 å¤šç§çŠ¶æ€ç®¡ç†</h4>
<p>ä¸€ä¸ªç»„ä»¶å¯ä»¥æœ‰å¤šä¸ªçŠ¶æ€ï¼Œå°±åƒä¸€ä¸ªäººå¯ä»¥æœ‰ â€œå§“åâ€â€œå¹´é¾„â€â€œèŒä¸šâ€ å¤šä¸ªå±æ€§ã€‚æ¯”å¦‚åŒæ—¶ç®¡ç†ä¸‰ä¸ªçŠ¶æ€ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// æ¡†æ¶åç§°çŠ¶æ€</span>
<span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_ invoke__">useState</span>(<span class="hljs-string">"vue"</span>);

<span class="hljs-comment">// å¾…åŠäº‹é¡¹åˆ—è¡¨çŠ¶æ€</span>
<span class="hljs-keyword">const</span> [todos, setTodos] = <span class="hljs-title function_ invoke__">useState</span>([
  { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">"å­¦ä¹ react"</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> },
  { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">"å­¦ä¹ node"</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span> }
]);

<span class="hljs-comment">// ç™»å½•çŠ¶æ€</span>
<span class="hljs-keyword">const</span> [isLoggedIn, setIsLonggedIn] = <span class="hljs-title function_ invoke__">useState</span>(<span class="hljs-literal">false</span>);
</code></pre>
<p>æ¯ä¸ªçŠ¶æ€ç‹¬ç«‹ç®¡ç†ï¼Œäº’ä¸å¹²æ‰°ï¼Œä»£ç é€»è¾‘æ¸…æ™°å¾—å¾ˆï½</p>
<h3 data-id="heading-13">äº”ã€ æ¸²æŸ“ï¼šè®©æ•°æ® â€œé•¿â€ æˆ UI çš„è‰ºæœ¯ğŸ–Œï¸</h3>
<h4 data-id="heading-14">5.1 æ¡ä»¶æ¸²æŸ“ï¼šæ ¹æ®çŠ¶æ€ â€œå˜é­”æœ¯â€</h4>
<p>React é‡Œçš„æ¡ä»¶æ¸²æŸ“å°±åƒ â€œif-elseâ€ çš„å¯è§†åŒ–ç‰ˆæœ¬ï¼ŒjSXä¸­ä¸èƒ½ç›´æ¥ä½¿ç”¨â€œif-elseâ€è¯­æ³•ï¼ˆå› ä¸º JSX å¤§æ‹¬å·<code>{}</code>å†…åªèƒ½æ”¾<strong>è¡¨è¾¾å¼</strong>ï¼Œè€Œ<code>if else</code>æ˜¯è¯­å¥ï¼‰ï¼Œé€šå¸¸ä½¿ç”¨ä¸‰ç›®è¿ç®—ç¬¦ä»£æ›¿ã€‚æ¯”å¦‚åˆ¤æ–­å¾…åŠäº‹é¡¹æ˜¯å¦ä¸ºç©ºï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æœ‰æ•°æ®æ—¶æ˜¾ç¤ºåˆ—è¡¨ï¼Œæ— æ•°æ®æ—¶æ˜¾ç¤ºæç¤º</span>
todos.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> ? (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
    {/* åˆ—è¡¨å†…å®¹ */}
  <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
) : (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æš‚æ— å¾…åŠäº‹é¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
)
</code></pre>
<p>ç™»å½•çŠ¶æ€çš„æ˜¾ç¤ºä¹Ÿæ˜¯åŒç†ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ ¹æ®ç™»å½•çŠ¶æ€æ˜¾ç¤ºä¸åŒå†…å®¹</span>
{isLoggedIn ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å·²ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span> : <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æœªç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>}
</code></pre>
<h4 data-id="heading-15">5.2 åˆ—è¡¨æ¸²æŸ“ï¼šç”¨ map () æ‰¹é‡ â€œç”Ÿäº§â€ UI</h4>
<p>å½“éœ€è¦æ¸²æŸ“åˆ—è¡¨ï¼ˆæ¯”å¦‚å¾…åŠäº‹é¡¹ã€å•†å“åˆ—è¡¨ï¼‰æ—¶ï¼Œ<code>map()</code>æ–¹æ³•å°±æ˜¯ç¥å™¨ã€‚æ¯”å¦‚æ¸²æŸ“ todos åˆ—è¡¨ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript">&lt;ul&gt;
  {
    todos.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">todo</span>) =&gt;</span> (
      <span class="hljs-comment">// æ¯ä¸ªåˆ—è¡¨é¡¹å¿…é¡»æœ‰å”¯ä¸€key</span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{todo.id}</span>&gt;</span>
        {todo.title}
      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span>
    ))
  }
&lt;/ul&gt;
</code></pre>
<p>è¿™é‡Œæœ‰ä¸ªå°ç»†èŠ‚ï¼šæ¯ä¸ªåˆ—è¡¨é¡¹å¿…é¡»åŠ <code>key</code>å±æ€§ï¼ˆé€šå¸¸ç”¨å”¯ä¸€ IDï¼‰ï¼Œè¿™æ˜¯ React çš„ â€œæ€§èƒ½æš—å·â€ï¼Œå¸®åŠ©å®ƒå¿«é€Ÿè¯†åˆ«å“ªäº›é¡¹æ²¡å˜ï¼Œé¿å…é‡å¤æ¸²æŸ“ â€”â€” ä¸åŠ  key è™½ç„¶èƒ½è¿è¡Œï¼Œä½†å¯èƒ½ä¼šæœ‰æ€§èƒ½é—®é¢˜å“¦ï¼</p>
<h3 data-id="heading-16">å…­ã€ äº‹ä»¶å¤„ç†ï¼šç»™ç»„ä»¶ â€œè£…å¼€å…³â€ğŸ”Œ</h3>
<p>React é‡Œçš„äº‹ä»¶å¤„ç†å°±åƒç»™ç»„ä»¶è£…å¼€å…³ï¼Œç‚¹å‡»ã€è¾“å…¥ç­‰æ“ä½œéƒ½ä¼šè§¦å‘å¯¹åº”çš„å‡½æ•°ã€‚è¯­æ³•ä¸Šæœ‰ä¸ªå°ç‰¹ç‚¹ï¼šäº‹ä»¶åè¦ç”¨é©¼å³°å‘½åï¼ˆæ¯”å¦‚<code>onClick</code>è€Œä¸æ˜¯<code>onclick</code>ï¼‰ã€‚</p>
<p>æ¯”å¦‚ç™»å½•æŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ‡æ¢ç™»å½•çŠ¶æ€çš„å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleLogin</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">setIsLonggedIn</span>(!isLoggedIn);
};

<span class="hljs-comment">// æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶</span>
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{toggleLogin}</span>&gt;</span>
  {isLoggedIn ? "é€€å‡ºç™»å½•" : "ç™»å½•"}
<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
</code></pre>
<p>ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œ<code>toggleLogin</code>å‡½æ•°ä¼šåˆ‡æ¢<code>isLoggedIn</code>çŠ¶æ€ï¼ŒæŒ‰é’®æ–‡å­—å’Œç™»å½•çŠ¶æ€æ˜¾ç¤ºä¼šè‡ªåŠ¨æ›´æ–° â€”â€” è¿™å°±æ˜¯ â€œæ•°æ®é©±åŠ¨ UIâ€ çš„é­…åŠ›ï¼Œæˆ‘ä»¬åªéœ€è¦ç®¡æ•°æ®æ€ä¹ˆå˜ï¼ŒUI è‡ªç„¶ä¼šè·Ÿä¸Šã€‚</p>
<h3 data-id="heading-17">ä¸ƒã€å®æˆ˜æ¼”ç»ƒ-ç®€å•çš„å­¦ä¹ ä»»åŠ¡æ¸…å•ç™»é™†ç•Œé¢</h3>
<h4 data-id="heading-18">7.1 ä»£ç å±•ç¤ºï¼š</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// JSX è´Ÿè´£UI</span>
<span class="hljs-comment">// use ä½¿ç”¨</span>
<span class="hljs-comment">// state æ•°æ®çŠ¶æ€</span>

<span class="hljs-keyword">import</span> {useState} <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'./App.css'</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// const name = "vue";</span>
    <span class="hljs-comment">// useState ä¼šè¿”å›ä¸€ä¸ªæ•°ç»„</span>
    <span class="hljs-comment">// æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯çŠ¶æ€å€¼ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯æ›´æ–°çŠ¶æ€å€¼çš„å‡½æ•°</span>
    <span class="hljs-keyword">const</span> [name,setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">"vue"</span>);
    <span class="hljs-keyword">const</span> [todos, setTodos] = <span class="hljs-title function_">useState</span>([{
        <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">title</span>: <span class="hljs-string">"å­¦ä¹ react"</span>,
        <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>,
    },
    {
        <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,
        <span class="hljs-attr">title</span>: <span class="hljs-string">"å­¦ä¹ node"</span>,
        <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>,

    }]);
    <span class="hljs-keyword">const</span> [isLoggedIn,setIsLonggedIn] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">setName</span>(<span class="hljs-string">"react"</span>);
    },<span class="hljs-number">3000</span>);
    <span class="hljs-comment">// ç»„ä»¶çš„æ•°æ®ä¸šåŠ¡ã€äº¤äº’ç­‰</span>
    <span class="hljs-comment">// JSX jsé‡Œé¢ï¼Œclass æ˜¯js å…³é”®å­— ä¸èƒ½ç”¨ï¼Œç”¨className</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleLogin</span> = (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-title function_">setIsLonggedIn</span>(!isLoggedIn);
    }
    <span class="hljs-keyword">return</span>(
        <span class="hljs-comment">// æ–‡æ¡£ç¢ç‰‡æ ‡ç­¾</span>
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"title"</span>&gt;</span>{name}!<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            {
                todos.length &gt; 0 ? (
                    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
                        {
                            todos.map((todo) =&gt; (
                                <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{todo.id}</span>&gt;</span>
                                    {todo.title}
                                <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                            ))
                        }
                    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
                ) : (<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æš‚æ— å¾…åŠäº‹é¡¹<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>)
            }
            {isLoggedIn ? <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å·²ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>æœªç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>}
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span> = <span class="hljs-string">{toggleLogin}</span>&gt;</span>
                {isLoggedIn?"é€€å‡ºç™»å½•":"ç™»å½•"}
            <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<h4 data-id="heading-19">7.2 é¡¹ç›®ä»‹ç»</h4>
<p>è¿™ä¸ªé¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäº React çš„ç®€å•ç¤ºä¾‹ï¼Œä¸»è¦å±•ç¤ºäº† React çš„æ ¸å¿ƒç‰¹æ€§ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<ol>
<li>
<p><strong>æŠ€æœ¯åŸºç¡€</strong>ï¼šä½¿ç”¨ React æ¡†æ¶å¼€å‘ï¼Œé‡‡ç”¨ JSX è¯­æ³•æè¿° UI ç•Œé¢ï¼Œé€šè¿‡<code>import</code>å¼•å…¥ React çš„<code>useState</code>ï¼ˆçŠ¶æ€ç®¡ç†ï¼‰APIã€‚</p>
</li>
<li>
<p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š</p>
<ul>
<li>åŠ¨æ€æ–‡æœ¬å±•ç¤ºï¼šé€šè¿‡<code>name</code>çŠ¶æ€æ§åˆ¶æ ‡é¢˜æ–‡æœ¬ï¼Œåˆå§‹æ˜¾ç¤º "Hello vue!"ï¼Œ3 ç§’åè‡ªåŠ¨æ›´æ–°ä¸º "Hello react!"ã€‚</li>
<li>å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼šåŸºäº<code>todos</code>çŠ¶æ€æ¸²æŸ“å¾…åŠäº‹é¡¹åˆ—è¡¨ï¼Œè‹¥åˆ—è¡¨ä¸ºç©ºåˆ™æ˜¾ç¤º "æš‚æ— å¾…åŠäº‹é¡¹"ã€‚</li>
<li>ç™»å½•çŠ¶æ€åˆ‡æ¢ï¼šé€šè¿‡<code>isLoggedIn</code>çŠ¶æ€ç®¡ç†ç™»å½•çŠ¶æ€ï¼Œç‚¹å‡»æŒ‰é’®å¯åˆ‡æ¢ "ç™»å½• / é€€å‡ºç™»å½•" çŠ¶æ€ï¼Œå¹¶åŒæ­¥æ˜¾ç¤ºå¯¹åº”çš„çŠ¶æ€æ–‡æœ¬ã€‚</li>
</ul>
</li>
<li>
<p><strong>React ç‰¹æ€§ä½“ç°</strong>ï¼š</p>
<ul>
<li>çŠ¶æ€ç®¡ç†ï¼šä½¿ç”¨<code>useState</code>é’©å­ç®¡ç†ç»„ä»¶å†…éƒ¨çŠ¶æ€ï¼ˆ<code>name</code>ã€<code>todos</code>ã€<code>isLoggedIn</code>ï¼‰ï¼Œé€šè¿‡çŠ¶æ€æ›´æ–°å‡½æ•°ï¼ˆå¦‚<code>setName</code>ã€<code>setIsLonggedIn</code>ï¼‰è§¦å‘ UI é‡æ–°æ¸²æŸ“ã€‚</li>
<li>æ¡ä»¶æ¸²æŸ“ï¼šé€šè¿‡ä¸‰å…ƒè¡¨è¾¾å¼æ ¹æ®çŠ¶æ€ï¼ˆå¦‚<code>todos.length</code>ã€<code>isLoggedIn</code>ï¼‰åŠ¨æ€å±•ç¤ºä¸åŒ UI å†…å®¹ã€‚</li>
<li>JSX è¯­æ³•ï¼šåœ¨ JavaScript ä¸­ç›´æ¥ç¼–å†™ç±»ä¼¼ HTML çš„æ ‡ç­¾ï¼ŒåŒæ—¶æ”¯æŒåµŒå…¥å˜é‡ï¼ˆå¦‚<code>{name}</code>ï¼‰å’Œè¡¨è¾¾å¼ã€‚</li>
</ul>
</li>
</ol>
<p>æ•´ä½“æ˜¯ä¸€ä¸ªç”¨äºæ¼”ç¤º React çŠ¶æ€ä¸ UI è”åŠ¨ã€ç»„ä»¶åŒ–å¼€å‘æ€æƒ³çš„åŸºç¡€ç¤ºä¾‹ã€‚</p>
<h4 data-id="heading-20">7.3 æ•ˆæœäº®ä¸ªç›¸</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b93e6df4af9439090396625c897814d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb3h1ZV8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766308065&amp;x-signature=Nrf9SD%2BvbhoFONtoYVaUMhJs8Gw%3D" alt="QQ20251214-164631.gif" loading="lazy"/></p>
<h3 data-id="heading-21">å…«ã€ æ€»ç»“ï¼šReact æ ¸å¿ƒçŸ¥è¯†æ¸…å• &amp; ç»“è¯­ğŸ“</h3>
<h4 data-id="heading-22">8.1 çŸ¥è¯†æ¸…å•</h4>
<ol>
<li>React æ˜¯ä¸“æ³¨äº UI çš„åº“ï¼Œæ ¸å¿ƒæ˜¯ç»„ä»¶åŒ–å’Œå“åº”å¼</li>
<li>JSX æ˜¯ â€œJS é‡Œå†™ XMLâ€ çš„è¯­æ³•ç³–ï¼Œç®€åŒ– UI å¼€å‘</li>
<li>ç»„ä»¶æ˜¯å‡½æ•°ï¼Œå°è£… UI å’Œé€»è¾‘ï¼Œå¯ç»„åˆæˆç»„ä»¶æ ‘</li>
<li>ç”¨<code>useState</code>ç®¡ç†çŠ¶æ€ï¼ŒçŠ¶æ€å˜åˆ™ UI å˜</li>
<li>æ¡ä»¶æ¸²æŸ“ç”¨ä¸‰ç›®è¿ç®—ç¬¦ï¼Œåˆ—è¡¨æ¸²æŸ“ç”¨<code>map()</code>+<code>key</code></li>
<li>äº‹ä»¶å¤„ç†ç”¨é©¼å³°å‘½åï¼Œç»‘å®šå‡½æ•°æ“ä½œçŠ¶æ€</li>
</ol>
<h4 data-id="heading-23">8.2 ç»“è¯­</h4>
<p>å­¦ React å°±åƒå­¦æ­ç§¯æœ¨ â€”â€” ä¸€å¼€å§‹å¯èƒ½è§‰å¾— â€œè¿™é›¶ä»¶æ€ä¹ˆæ‹¼â€ï¼Œä½†æŒæ¡äº† JSXã€ç»„ä»¶ã€çŠ¶æ€è¿™äº› â€œåŸºç¡€å—â€ åï¼Œä½ ä¼šå‘ç°å†å¤æ‚çš„é¡µé¢ä¹Ÿèƒ½ä¸€æ­¥æ­¥æ­å‡ºæ¥ã€‚</p>
<p>React æ›´åŠ æ¿€è¿›ï¼Œä½†è¿™ç§æ¿€è¿›æ°æ°è®©å®ƒæˆä¸ºå‰ç«¯å¼€å‘çš„ â€œç‘å£«å†›åˆ€â€â€”â€” æ— è®ºæ˜¯å°åº”ç”¨è¿˜æ˜¯å¤§å‹é¡¹ç›®ï¼Œéƒ½èƒ½åº”å¯¹è‡ªå¦‚ã€‚ç°åœ¨ï¼Œä½ å·²ç»æŒæ¡äº† React çš„æ ¸å¿ƒæ¦‚å¿µï¼Œæ¥ä¸‹æ¥å°±åŠ¨æ‰‹å†™å†™ä»£ç å§ï¼Œæ¯•ç«Ÿå®è·µæ‰æ˜¯æœ€å¥½çš„è€å¸ˆï¼ğŸ’ª</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¢å‘ Trait ç¼–ç¨‹ (Trait-Driven Design)]]></title>    <link>https://juejin.cn/post/7583344281738838062</link>    <guid>https://juejin.cn/post/7583344281738838062</guid>    <pubDate>2025-12-14T09:16:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583344281738838062" data-draft-id="7583324039302692915" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¢å‘ Trait ç¼–ç¨‹ (Trait-Driven Design)"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-14T09:16:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²æ£®"/> <meta itemprop="url" content="https://juejin.cn/user/4455643804079608"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¢å‘ Trait ç¼–ç¨‹ (Trait-Driven Design)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4455643804079608/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²æ£®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T09:16:06.000Z" title="Sun Dec 14 2025 09:16:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç”¨ trait åšæ¡¥æ¥ï¼Œä½¿ç”¨ trait æä¾›æ§åˆ¶åè½¬ï¼Œç”¨ trait å®ç° SOLID åŸåˆ™,è¿™ä¸‰ä¸ªæ¦‚å¿µå…¶å®æ˜¯ç›¸è¾…ç›¸æˆçš„ï¼Œæ ¸å¿ƒç›®çš„åªæœ‰ä¸€ä¸ªï¼š<strong>è§£è€¦ï¼ˆDecouplingï¼‰</strong> ã€‚è®©ä½ çš„ä»£ç åƒä¹é«˜ç§¯æœ¨ä¸€æ ·ï¼Œå¯ä»¥éšæ„æ‹†å¸ã€æ›¿æ¢ã€æ‹¼è£…ã€‚</p>
<h3 data-id="heading-0">1. ç”¨ Trait åšæ¡¥æ¥ (The Bridge Pattern)</h3>
<p><strong>æ¦‚å¿µè§£é‡Šï¼š</strong> Â æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æœ‰ä¸€å †**â€œå½¢çŠ¶â€ <strong>ï¼ˆåœ†ã€æ–¹ï¼‰ï¼Œè¿˜æœ‰ä¸€å †</strong>â€œæ¸²æŸ“å¹³å°â€**ï¼ˆWindowsã€Macï¼‰ã€‚</p>
<ul>
<li>
<p>å¦‚æœä¸è§£è€¦ï¼Œä½ éœ€è¦å†™ï¼š<code>WindowsCircle</code>,Â <code>MacCircle</code>,Â <code>WindowsSquare</code>,Â <code>MacSquare</code>... (M Ã— N çš„çˆ†ç‚¸ç»„åˆ)ã€‚</p>
</li>
<li>
<p><strong>æ¡¥æ¥æ¨¡å¼</strong>ï¼šæŠŠâ€œå½¢çŠ¶â€å’Œâ€œæ¸²æŸ“â€åˆ†å¼€ã€‚å½¢çŠ¶é‡Œæ‹¿ç€ä¸€ä¸ªâ€œæ¸²æŸ“å™¨â€çš„ Traitã€‚</p>
<ul>
<li>å½¢çŠ¶åªç®¡ç®—å¤§å°ã€‚</li>
<li>æ¸²æŸ“å™¨åªç®¡ç”»ç”»ã€‚</li>
<li>ä¸­é—´ç”¨ Trait è¿æ¥ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ä¸€å¥è¯æ€»ç»“ï¼š</strong> Â <strong>å°†æŠ½è±¡éƒ¨åˆ†ï¼ˆå½¢çŠ¶ï¼‰ä¸å®ç°éƒ¨åˆ†ï¼ˆæ¸²æŸ“ï¼‰åˆ†ç¦»ï¼Œä½¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹å˜åŒ–ã€‚</strong></p>
<p>Rust</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// 1. å®ç°éƒ¨åˆ†ï¼šå®šä¹‰æ¸²æŸ“å™¨çš„è¡Œä¸º</span>
<span class="hljs-keyword">trait</span> <span class="hljs-title class_">Renderer</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">render_circle</span>(&amp;<span class="hljs-keyword">self</span>, radius: <span class="hljs-type">f64</span>);
}

<span class="hljs-comment">// å…·ä½“å®ç° Aï¼šWindows æ¸²æŸ“å™¨</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">WindowsRenderer</span>;
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Renderer</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">WindowsRenderer</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">render_circle</span>(&amp;<span class="hljs-keyword">self</span>, radius: <span class="hljs-type">f64</span>) {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Windows API ç»˜åˆ¶: åœ†å½¢ (åŠå¾„ {})"</span>, radius);
    }
}

<span class="hljs-comment">// å…·ä½“å®ç° Bï¼šMac æ¸²æŸ“å™¨</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">MacRenderer</span>;
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Renderer</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">MacRenderer</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">render_circle</span>(&amp;<span class="hljs-keyword">self</span>, radius: <span class="hljs-type">f64</span>) {
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"Mac API ç»˜åˆ¶: åœ†å½¢ (åŠå¾„ {}) -- é«˜æ¸…Retina"</span>, radius);
    }
}

<span class="hljs-comment">// 2. æŠ½è±¡éƒ¨åˆ†ï¼šå½¢çŠ¶</span>
<span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡ŒæŒæœ‰çš„æ˜¯ Renderer çš„ Trait Object</span>
<span class="hljs-comment">// è¿™å°±æ˜¯â€œæ¡¥â€ï¼šShape é€šè¿‡è¿™ä¸ªæ¡¥ï¼Œè¿æ¥åˆ°äº†å…·ä½“çš„æ¸²æŸ“å™¨</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Circle</span> {
    radius: <span class="hljs-type">f64</span>,
    renderer: <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Renderer&gt;, 
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Circle</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">new</span>(radius: <span class="hljs-type">f64</span>, renderer: <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Renderer&gt;) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        <span class="hljs-keyword">Self</span> { radius, renderer }
    }

    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">draw</span>(&amp;<span class="hljs-keyword">self</span>) {
        <span class="hljs-comment">// Circle ä¸éœ€è¦çŸ¥é“æ˜¯ Windows è¿˜æ˜¯ Macï¼Œåªç®¡è°ƒç”¨ trait</span>
        <span class="hljs-keyword">self</span>.renderer.<span class="hljs-title function_ invoke__">render_circle</span>(<span class="hljs-keyword">self</span>.radius);
    }
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">win_circle</span> = Circle::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">10.0</span>, <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(WindowsRenderer));
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">mac_circle</span> = Circle::<span class="hljs-title function_ invoke__">new</span>(<span class="hljs-number">20.0</span>, <span class="hljs-type">Box</span>::<span class="hljs-title function_ invoke__">new</span>(MacRenderer));

    win_circle.<span class="hljs-title function_ invoke__">draw</span>();
    mac_circle.<span class="hljs-title function_ invoke__">draw</span>();
}
</code></pre>
<hr/>
<h3 data-id="heading-1">2. ä½¿ç”¨ Trait æä¾›æ§åˆ¶åè½¬ (IoC / Dependency Injection)</h3>
<p><strong>æ¦‚å¿µè§£é‡Šï¼š</strong> Â è¿™ä¹Ÿæ˜¯<strong>ä¾èµ–æ³¨å…¥ (DI)</strong> Â çš„æ ¸å¿ƒã€‚</p>
<ul>
<li><strong>ä¼ ç»Ÿæ–¹å¼ (æ§åˆ¶æƒåœ¨å†…éƒ¨)</strong> ï¼šä½ æ˜¯é€ è½¦çš„ï¼Œä½ åœ¨è½¦é‡Œ<strong>ç›´æ¥é€ </strong>äº†ä¸€ä¸ª V8 å¼•æ“ã€‚ä½ æƒ³æ¢ç”µåŠ¨æœºï¼Ÿä¸è¡Œï¼Œç„Šæ­»äº†ã€‚</li>
<li><strong>IoC æ–¹å¼ (æ§åˆ¶æƒåœ¨å¤–éƒ¨)</strong> ï¼šä½ æ˜¯é€ è½¦çš„ï¼Œä½ ç•™äº†ä¸ª<strong>å¼•æ“æ¥å£ (Trait)</strong> ã€‚è½¦é€ å¥½çš„æ—¶å€™ï¼Œ<strong>å¤–éƒ¨</strong>å¡ç»™ä½ ä»€ä¹ˆå¼•æ“ï¼Œä½ å°±ç”¨ä»€ä¹ˆå¼•æ“ã€‚</li>
</ul>
<p><strong>ä¸€å¥è¯æ€»ç»“ï¼š</strong> Â <strong>ä¸è¦è‡ªå·±åˆ›å»ºä¾èµ–ï¼Œå‘å¤–ç•Œï¼ˆè°ƒç”¨è€…ï¼‰è¦ä¾èµ–ã€‚</strong></p>
<p><strong>æ‰‹æ•² Demoï¼š</strong></p>
<p>Rust</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// 1. å®šä¹‰ä¾èµ–çš„æ ‡å‡† (Trait)</span>
<span class="hljs-keyword">trait</span> <span class="hljs-title class_">Engine</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">start</span>(&amp;<span class="hljs-keyword">self</span>);
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">V8Engine</span>;
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Engine</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">V8Engine</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">start</span>(&amp;<span class="hljs-keyword">self</span>) { <span class="hljs-built_in">println!</span>(<span class="hljs-string">"V8 å¼•æ“: è½°è½°è½°ï¼"</span>); }
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ElectricMotor</span>;
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Engine</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">ElectricMotor</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">start</span>(&amp;<span class="hljs-keyword">self</span>) { <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ç”µæœº: æ»‹æ»‹æ»‹ (é™éŸ³)"</span>); }
}

<span class="hljs-comment">// 2. é«˜å±‚æ¨¡å— (Car)</span>
<span class="hljs-comment">// æ³›å‹ T: Engine æ„å‘³ç€ï¼šåªè¦ä½ èƒ½è·‘ï¼Œæˆ‘å°±èƒ½è£…</span>
<span class="hljs-comment">// è¿™å°±æ˜¯ IoCï¼šCar ä¸ä¾èµ–å…·ä½“çš„ V8Engineï¼Œåªä¾èµ– Engine æ¥å£</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Car</span>&lt;T: Engine&gt; {
    engine: T,
}

<span class="hljs-keyword">impl</span>&lt;T: Engine&gt; Car&lt;T&gt; {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">new</span>(engine: T) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        <span class="hljs-keyword">Self</span> { engine }
    }

    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">drive</span>(&amp;<span class="hljs-keyword">self</span>) {
        <span class="hljs-keyword">self</span>.engine.<span class="hljs-title function_ invoke__">start</span>();
        <span class="hljs-built_in">println!</span>(<span class="hljs-string">"è½¦åŠ¨äº†ï¼"</span>);
    }
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-comment">// 3. åœ¨å¤–éƒ¨æ³¨å…¥ä¾èµ–</span>
    <span class="hljs-comment">// ä»Šå¤©æƒ³å¼€æ²¹è½¦</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">gas_car</span> = Car::<span class="hljs-title function_ invoke__">new</span>(V8Engine);
    gas_car.<span class="hljs-title function_ invoke__">drive</span>();

    <span class="hljs-comment">// æ˜å¤©æƒ³å¼€ç”µè½¦ (Car çš„ä»£ç ä¸€è¡Œéƒ½ä¸ç”¨æ”¹ï¼)</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">electric_car</span> = Car::<span class="hljs-title function_ invoke__">new</span>(ElectricMotor);
    electric_car.<span class="hljs-title function_ invoke__">drive</span>();
}
</code></pre>
<hr/>
<h3 data-id="heading-2">3. ç”¨ Trait å®ç° SOLID åŸåˆ™</h3>
<p>SOLID æ˜¯äº”ä¸ªåŸåˆ™ï¼ŒTrait åœ¨ Rust é‡Œæœ€å¸¸ä½“ç°çš„æ˜¯Â <strong>ISP (æ¥å£éš”ç¦»åŸåˆ™)</strong> Â å’ŒÂ <strong>OCP (å¼€é—­åŸåˆ™)</strong> ã€‚</p>
<ul>
<li>
<p><strong>æ¥å£éš”ç¦» (ISP)</strong> ï¼šä¸è¦æä¸€ä¸ªä¸‡èƒ½çš„â€œä¸Šå¸æ¥å£â€ã€‚æŠŠå¤§æ¥å£æ‹†æˆå° Traitã€‚</p>
<ul>
<li><em>é”™è¯¯ï¼š</em> Â <code>trait Worker { å†™ä»£ç (); è¿˜ä¼šæ‰«åœ°(); }</code>Â -&gt; ç¨‹åºå‘˜è¢«è¿«å®ç°æ‰«åœ°ã€‚</li>
<li><em>æ­£ç¡®ï¼š</em> Â <code>trait Coder { å†™ä»£ç (); }</code>Â å’ŒÂ <code>trait Cleaner { æ‰«åœ°(); }</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¼€é—­åŸåˆ™ (OCP)</strong> ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚</p>
<ul>
<li>æƒ³åŠ æ–°åŠŸèƒ½ï¼Ÿå®ç°æ–°çš„ Traitï¼Œä¸è¦å»æ”¹è€çš„ Structã€‚</li>
</ul>
</li>
</ul>
<p><strong>æ‰‹æ•² Demo (æ¥å£éš”ç¦»åŸåˆ™ ISP)ï¼š</strong></p>
<p>Rust</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// --- é”™è¯¯çš„è®¾è®¡ ---</span>
<span class="hljs-comment">// trait SuperWorker {</span>
<span class="hljs-comment">//     fn code(&amp;self);</span>
<span class="hljs-comment">//     fn clean(&amp;self);</span>
<span class="hljs-comment">// }</span>
<span class="hljs-comment">// è¿™ç§è®¾è®¡ä¸‹ï¼Œæœºå™¨äººè¢«è¿«è¦å®ç° cleanï¼Œä¿æ´é˜¿å§¨è¢«è¿«è¦å®ç° codeï¼Œéå¸¸ç—›è‹¦ã€‚</span>

<span class="hljs-comment">// --- æ­£ç¡®çš„è®¾è®¡ (æ¥å£éš”ç¦») ---</span>

<span class="hljs-comment">// 1. æ‹†åˆ†ç»†ç²’åº¦çš„ Trait</span>
<span class="hljs-keyword">trait</span> <span class="hljs-title class_">Coder</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">write_code</span>(&amp;<span class="hljs-keyword">self</span>);
}

<span class="hljs-keyword">trait</span> <span class="hljs-title class_">Cleaner</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">clean_floor</span>(&amp;<span class="hljs-keyword">self</span>);
}

<span class="hljs-comment">// 2. å®ç°è€…æŒ‰éœ€ç»„åˆ</span>

<span class="hljs-comment">// ç¨‹åºå‘˜ï¼šåªä¼šå†™ä»£ç </span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Programmer</span>;
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Coder</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Programmer</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">write_code</span>(&amp;<span class="hljs-keyword">self</span>) { <span class="hljs-built_in">println!</span>(<span class="hljs-string">"æ­£åœ¨å†™ Rust..."</span>); }
}

<span class="hljs-comment">// ä¿æ´äººå‘˜ï¼šåªä¼šæ‰«åœ°</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Janitor</span>;
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Cleaner</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Janitor</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">clean_floor</span>(&amp;<span class="hljs-keyword">self</span>) { <span class="hljs-built_in">println!</span>(<span class="hljs-string">"æ­£åœ¨æ‹–åœ°..."</span>); }
}

<span class="hljs-comment">// è¶…çº§ç®¡å®¶ï¼šæ—¢ä¼šå†™ä»£ç ï¼Œåˆä¼šæ‰«åœ°</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">SuperButler</span>;
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Coder</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">SuperButler</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">write_code</span>(&amp;<span class="hljs-keyword">self</span>) { <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ç®¡å®¶å†™è„šæœ¬è‡ªåŠ¨åŒ–..."</span>); }
}
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Cleaner</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">SuperButler</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">clean_floor</span>(&amp;<span class="hljs-keyword">self</span>) { <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ç®¡å®¶æ¸…ç†æœåŠ¡å™¨ç°å°˜..."</span>); }
}

<span class="hljs-comment">// 3. ä¸šåŠ¡ç³»ç»Ÿ</span>
<span class="hljs-comment">// è¿™é‡Œå±•ç¤ºäº† trait bounds çš„å¨åŠ›ï¼šæˆ‘åªè¦æ±‚ä½ ä¼šå†™ä»£ç ï¼Œä¸ç®¡ä½ æ˜¯ä¸æ˜¯ç®¡å®¶</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">software_company_hire</span>&lt;T: Coder&gt;(worker: T) {
    worker.<span class="hljs-title function_ invoke__">write_code</span>();
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">dev</span> = Programmer;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">butler</span> = SuperButler;
    
    <span class="hljs-title function_ invoke__">software_company_hire</span>(dev);
    <span class="hljs-title function_ invoke__">software_company_hire</span>(butler); <span class="hljs-comment">// ç®¡å®¶ä¹Ÿèƒ½è¢«å½•ç”¨ï¼Œå› ä¸ºä»–å®ç°äº† Coder</span>
    
    <span class="hljs-comment">// let aunt = Janitor;</span>
    <span class="hljs-comment">// software_company_hire(aunt); // âŒ ç¼–è¯‘æŠ¥é”™ï¼ä¿æ´é˜¿å§¨ä¸ä¼šå†™ä»£ç ï¼Œç³»ç»Ÿå¾ˆå®‰å…¨ã€‚</span>
}
</code></pre>
<hr/>
<h3 data-id="heading-3">4. æ¶æ„å¿ƒæ³•ï¼šå¦‚ä½•åŸºäº Trait åšè®¾è®¡ï¼Ÿ</h3>
<p>å¦‚æœä½ æƒ³åœ¨ Rust ä¸­åƒæ¶æ„å¸ˆä¸€æ ·æ€è€ƒï¼Œè¯·éµå¾ªä»¥ä¸‹Â <strong>ä¸‰æ­¥èµ°</strong>Â æµç¨‹ï¼š</p>
<h4 data-id="heading-4">ç¬¬ä¸€æ­¥ï¼šè¡Œä¸ºä¼˜å…ˆ (Behavior First)</h4>
<p>ä¸è¦å…ˆå»æƒ³Â <code>struct User</code>Â é‡Œæœ‰å“ªäº›å­—æ®µï¼ˆid, name...ï¼‰ã€‚Â <strong>å…ˆæƒ³è¿™ä¸ªä¸œè¥¿èƒ½å¹²ä»€ä¹ˆï¼Ÿ</strong></p>
<ul>
<li>å®ƒèƒ½å­˜æ•°æ®åº“å—ï¼Ÿ -&gt;Â <code>trait Repository</code></li>
<li>å®ƒèƒ½è¢«åºåˆ—åŒ–å—ï¼Ÿ -&gt;Â <code>trait Serialize</code></li>
<li>å®ƒèƒ½æ˜¾ç¤ºå—ï¼Ÿ -&gt;Â <code>trait Display</code></li>
</ul>
<h4 data-id="heading-5">ç¬¬äºŒæ­¥ï¼šä¾èµ–æŠ½è±¡ (Depend on Traits)</h4>
<p>åœ¨ä½ çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆService å±‚ / Domain å±‚ï¼‰é‡Œï¼Œ<strong>ç¦æ­¢å‡ºç°å…·ä½“çš„ Struct</strong>ã€‚</p>
<ul>
<li>ä¸è¦å†™Â <code>fn save(db: MySQL)</code></li>
<li>è¦å†™Â <code>fn save(db: &amp;impl Database)</code>Â è¿™èƒ½ä¿è¯ä½ ä»¥åæŠŠ MySQL æ¢æˆ Redis æ—¶ï¼Œæ ¸å¿ƒä¸šåŠ¡ä»£ç ä¸€è¡Œéƒ½ä¸ç”¨æ”¹ã€‚</li>
</ul>
<h4 data-id="heading-6">ç¬¬ä¸‰æ­¥ï¼šå¤–å±‚æ³¨å…¥ (Inject from Outside)</h4>
<p>åœ¨Â <code>main.rs</code>Â æˆ–æœ€å¤–å±‚å…¥å£ï¼Œæ‰å»åˆ›å»ºå…·ä½“çš„Â <code>Struct</code>ï¼ˆæ¯”å¦‚Â <code>MySQLConnection</code>ï¼‰ï¼Œç„¶åæŠŠå®ƒä»¬å¡è¿›æ ¸å¿ƒé€»è¾‘é‡Œã€‚</p>
<hr/>
<h3 data-id="heading-7">æ€»ç»“å¯¹ç…§</h3>

























<table><thead><tr><th>æ¦‚å¿µ</th><th>æ ¸å¿ƒæ€æƒ³</th><th>Rust è¡¨ç°å½¢å¼</th></tr></thead><tbody><tr><td><strong>Bridge (æ¡¥æ¥)</strong></td><td><strong>æ‹¼è£…</strong></td><td><code>struct A</code>Â å†…éƒ¨æŒæœ‰Â <code>Box&lt;dyn B_Trait&gt;</code>ï¼ŒA å§”æ‰˜ B å¹²æ´»ã€‚</td></tr><tr><td><strong>IoC (æ§åˆ¶åè½¬)</strong></td><td><strong>ç´¢è¦</strong></td><td><code>struct A&lt;T: B_Trait&gt;</code>ï¼ŒA ä¸è‡ªå·±é€  Bï¼Œè€Œæ˜¯è®©åˆ«äººä¼ è¿›æ¥ã€‚</td></tr><tr><td><strong>SOLID (æ¥å£éš”ç¦»)</strong></td><td><strong>æ‹†åˆ†</strong></td><td>åˆ«å†™å¤§ Traitï¼Œå†™å¤šä¸ªå° Trait (<code>trait A</code>,Â <code>trait B</code>)ï¼Œç„¶åÂ <code>impl A for X</code>,Â <code>impl B for X</code>ã€‚</td></tr></tbody></table>
<p>åœ¨ Rust ä»£ç çš„<strong>å­—é¢å†™æ³•</strong>ï¼ˆMechanismï¼‰ä¸Šï¼Œå®ƒä»¬é•¿å¾—ç¡®å®<strong>å‡ ä¹ä¸€æ¨¡ä¸€æ ·</strong>ã€‚</p>
<ul>
<li><strong>æ­¥éª¤ 1</strong>ï¼šå®šä¹‰Â <code>trait</code>ï¼ˆå®šè§„çŸ©ï¼‰ã€‚</li>
<li><strong>æ­¥éª¤ 2</strong>ï¼š<code>struct</code>Â å®ç°Â <code>trait</code>ï¼ˆåšå…·ä½“çš„äº‹ï¼‰ã€‚</li>
<li><strong>æ­¥éª¤ 3</strong>ï¼šåœ¨å¦ä¸€ä¸ªåœ°æ–¹æ‹¿ç€Â <code>trait</code>Â æ¥è°ƒç”¨ï¼ˆå¤šæ€ï¼‰ã€‚</li>
</ul>
<p><strong>ä½†æ˜¯ï¼</strong> Â è™½ç„¶æ‰‹é‡Œçš„â€œé”¤å­â€ï¼ˆTraitï¼‰æ˜¯åŒä¸€ä¸ªï¼Œä½†æˆ‘ä»¬æ•²æ‰“çš„â€œé’‰å­â€ï¼ˆè®¾è®¡æ„å›¾ï¼‰æ˜¯å®Œå…¨ä¸åŒçš„ã€‚</p>
<p>ä¸ºäº†å¸®ä½ åŒºåˆ†è¿™ä¸‰è€…ï¼Œæˆ‘ä»¬ä¸è¦çœ‹**â€œæ€ä¹ˆå†™â€ <strong>ï¼ˆå› ä¸ºå†™æ³•éƒ½ä¸€æ ·ï¼‰ï¼Œæˆ‘ä»¬è¦çœ‹</strong>â€œè§£å†³ä»€ä¹ˆçŸ›ç›¾â€**ã€‚</p>
<p>æˆ‘æŠŠè¿™ä¸‰ä¸ªä¸œè¥¿çš„<strong>æ ¸å¿ƒå…³æ³¨ç‚¹</strong>æ‹†è§£ç»™ä½ çœ‹ï¼Œä½ å°±æ˜ç™½äº†ã€‚</p>
<hr/>
<h3 data-id="heading-8">1. æ¡¥æ¥æ¨¡å¼ (Bridge)</h3>
<p><strong>æ ¸å¿ƒçŸ›ç›¾ï¼šè§£å†³â€œM Ã— Nâ€çš„ç±»çˆ†ç‚¸é—®é¢˜ã€‚</strong></p>
<ul>
<li>
<p><strong>åœºæ™¯</strong>ï¼šä½ æœ‰Â <strong>Mç§å½¢çŠ¶</strong>Â (åœ†ã€æ–¹ã€ä¸‰è§’...) å’ŒÂ <strong>Nç§å¹³å°</strong>Â (Windows, Mac, Linux...)ã€‚</p>
</li>
<li>
<p><strong>ä¸ç”¨çš„åæœ</strong>ï¼šä½ éœ€è¦å†™Â <code>WinCircle</code>,Â <code>MacCircle</code>,Â <code>WinSquare</code>,Â <code>MacSquare</code>... ä¸€å…±éœ€è¦å†™Â <strong>M Ã— N</strong>Â ä¸ªç»“æ„ä½“ã€‚</p>
</li>
<li>
<p><strong>ç”¨äº† Trait (æ¡¥æ¥)</strong> ï¼šæŠŠâ€œå¹³å°æ¸²æŸ“â€æŠ½æˆ Traitã€‚</p>
<ul>
<li>å½¢çŠ¶åªç®¡å½¢çŠ¶çš„é€»è¾‘ã€‚</li>
<li>å¹³å°åªç®¡æ¸²æŸ“çš„é€»è¾‘ã€‚</li>
<li><strong>å½¢çŠ¶ç»“æ„ä½“é‡Œâ€œåŒ…â€ç€ä¸€ä¸ªæ¸²æŸ“ Trait</strong>ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç‰¹å¾å†™æ³•</strong>ï¼š ç»“æ„ä½“å†…éƒ¨<strong>é•¿æœŸæŒæœ‰</strong>è¿™ä¸ª Trait å¯¹è±¡ã€‚</p>
<p>Rust</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Circle</span> {
    <span class="hljs-comment">// ã€ç‰¹å¾ã€‘ï¼šç»“æ„ä½“å†…éƒ¨æ‹¥æœ‰ä¸€ä¸ª Trait å¯¹è±¡ä½œä¸ºå­—æ®µ</span>
    <span class="hljs-comment">// è¿™å°±æ˜¯â€œæ¡¥â€ï¼ŒCircle é€šè¿‡è¿™ä¸ªå­—æ®µè¿æ¥åˆ°äº†å…·ä½“çš„å®ç°</span>
    renderer: <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Renderer&gt;, 
}
</code></pre>
</li>
</ul>
<h3 data-id="heading-9">2. æ§åˆ¶åè½¬ (IoC / DI)</h3>
<p><strong>æ ¸å¿ƒçŸ›ç›¾ï¼šè§£å†³â€œè°æ¥åˆ›å»ºä¾èµ–â€çš„é—®é¢˜ã€‚</strong></p>
<ul>
<li>
<p><strong>åœºæ™¯</strong>ï¼šé€ è½¦ã€‚</p>
</li>
<li>
<p><strong>ä¸ç”¨çš„åæœ</strong>ï¼šåœ¨Â <code>Car::new()</code>Â é‡Œé¢å†™æ­»Â <code>let engine = V8Engine::new()</code>ã€‚ä»¥åæƒ³æ¢ç”µæœºï¼Œå¿…é¡»æ”¹Â <code>Car</code>Â çš„æºç ï¼Œé‡æ–°ç¼–è¯‘ã€‚</p>
</li>
<li>
<p><strong>ç”¨äº† Trait (IoC)</strong> ï¼š</p>
<ul>
<li><code>Car</code>Â ä¸è‡ªå·±Â <code>new</code>Â å¼•æ“ã€‚</li>
<li><code>Car</code>Â å‘å¤–é¢å–Šï¼šâ€œè°è¦ç”¨æˆ‘ï¼Œè°æŠŠå¼•æ“ä¼ ç»™æˆ‘ï¼â€</li>
</ul>
</li>
<li>
<p><strong>ç‰¹å¾å†™æ³•</strong>ï¼š é‡ç‚¹åœ¨Â <strong>æ„é€ å‡½æ•°</strong>Â æˆ–Â <strong>æ³›å‹å‚æ•°</strong>Â ä¸Šã€‚</p>
<p>Rust</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ã€ç‰¹å¾ã€‘ï¼šæˆ‘ä¸æŒæœ‰ç‰¹å®šçš„ V8ï¼Œæˆ‘é€šè¿‡æ³›å‹ T è¦æ±‚å¤–éƒ¨æ³¨å…¥</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Car</span>&lt;T: Engine&gt; {
    engine: T 
}

<span class="hljs-comment">// æ„é€ æ—¶ï¼Œä¾èµ–æ˜¯ä»â€œå¤–é¢â€ä¼ è¿›æ¥çš„ï¼Œè€Œä¸æ˜¯é‡Œé¢é€ å‡ºæ¥çš„</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">new</span>(engine: T) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> { ... } 
</code></pre>
</li>
</ul>
<h3 data-id="heading-10">3. SOLID ä¸­çš„ ISP (æ¥å£éš”ç¦»)</h3>
<p><strong>æ ¸å¿ƒçŸ›ç›¾ï¼šè§£å†³â€œå¼ºè¿«å®ç°æ²¡ç”¨æ–¹æ³•â€çš„é—®é¢˜ã€‚</strong></p>
<ul>
<li>
<p><strong>åœºæ™¯</strong>ï¼šç»™å·¥äººæ´¾æ´»ã€‚</p>
</li>
<li>
<p><strong>ä¸ç”¨çš„åæœ</strong>ï¼šå®šä¹‰äº†ä¸€ä¸ªå¤§ TraitÂ <code>Worker</code>ï¼Œé‡Œé¢æœ‰Â <code>code()</code>Â å’ŒÂ <code>clean()</code>ã€‚ç»“æœä¿æ´é˜¿å§¨è¢«è¿«å®ç°Â <code>code()</code>ï¼ˆåªèƒ½å†™ç©ºå‡½æ•°ï¼‰ï¼Œç¨‹åºå‘˜è¢«è¿«å®ç°Â <code>clean()</code>ã€‚</p>
</li>
<li>
<p><strong>ç”¨äº† Trait (ISP)</strong> ï¼š</p>
<ul>
<li><strong>æŠŠå¤§ Trait æ‹†ç¢</strong>ã€‚</li>
<li><code>trait Coder { code() }</code></li>
<li><code>trait Cleaner { clean() }</code></li>
</ul>
</li>
<li>
<p><strong>ç‰¹å¾å†™æ³•</strong>ï¼š é‡ç‚¹åœ¨Â <strong>Trait çš„å®šä¹‰</strong>Â é˜¶æ®µï¼Œè€Œä¸æ˜¯è°ƒç”¨é˜¶æ®µã€‚</p>
<p>Rust</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// ã€ç‰¹å¾ã€‘ï¼šTrait å®šä¹‰å¾—å¾ˆå°ã€å¾ˆçº¯ç²¹</span>
<span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Coder</span> </span>{ <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">code</span>(<span class="hljs-params">&amp;<span class="hljs-built_in">self</span></span>)</span>; }
<span class="hljs-class"><span class="hljs-keyword">trait</span> <span class="hljs-title">Cleaner</span> </span>{ <span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">clean</span>(<span class="hljs-params">&amp;<span class="hljs-built_in">self</span></span>)</span>; }

<span class="hljs-comment">// å…·ä½“çš„ struct åªå®ç°å®ƒçœŸæ­£éœ€è¦çš„é‚£éƒ¨åˆ†</span>
impl Coder <span class="hljs-keyword">for</span> Programmer { ... }
</code></pre>
</li>
</ul>
<hr/>
<h3 data-id="heading-11">ä¸€å¼ å›¾æ€»ç»“â€œæ„å›¾â€çš„åŒºåˆ«</h3>
<p>å‡è®¾ä½ æ‰‹é‡Œæ‹¿ç€ä¸€æŠŠÂ <strong>èºä¸åˆ€</strong>ï¼ˆTraitï¼‰ï¼š</p>
<ol>
<li>
<p><strong>æ¡¥æ¥ (Bridge)</strong> ï¼š</p>
<ul>
<li>ä½ æŠŠèºä¸åˆ€<strong>ç²˜åœ¨</strong>æœºæ¢°è‡‚ä¸Šã€‚</li>
<li><strong>æ„å›¾</strong>ï¼šç»„åˆã€‚æœºæ¢°è‡‚è´Ÿè´£åŠ¨ï¼Œèºä¸åˆ€è´Ÿè´£è½¬ï¼Œå®ƒä¿©ç»„åˆæˆä¸€ä¸ªæ–°å·¥å…·ã€‚</li>
<li><em>ä»£ç å…³æ³¨ç‚¹ï¼šStruct é‡Œçš„å­—æ®µã€‚</em></li>
</ul>
</li>
<li>
<p><strong>æ§åˆ¶åè½¬ (IoC)</strong> ï¼š</p>
<ul>
<li>ä½ æŠŠèºä¸åˆ€<strong>é€’ç»™</strong>è£…ä¿®å¸ˆå‚…ã€‚</li>
<li><strong>æ„å›¾</strong>ï¼šç»™äºˆã€‚å¸ˆå‚…ä¸éœ€è¦è‡ªå·±é€ èºä¸åˆ€ï¼Œä½ ç»™ä»–ä»€ä¹ˆï¼Œä»–å°±ç”¨ä»€ä¹ˆã€‚</li>
<li><em>ä»£ç å…³æ³¨ç‚¹ï¼šå‡½æ•°çš„å‚æ•°ï¼ˆæ³›å‹/Dynï¼‰ã€‚</em></li>
</ul>
</li>
<li>
<p><strong>æ¥å£éš”ç¦» (ISP)</strong> ï¼š</p>
<ul>
<li>ä½ æŠŠç‘å£«å†›åˆ€æ‹†å¼€ï¼Œ<strong>å•ç‹¬é€ </strong>äº†ä¸€æŠŠèºä¸åˆ€å’Œä¸€æŠŠå‰ªåˆ€ã€‚</li>
<li><strong>æ„å›¾</strong>ï¼šç²¾ç®€ã€‚ä¸éœ€è¦å‰ªåˆ€çš„äººï¼Œä¸è¦ç¡¬å¡ç»™ä»–ä¸€æŠŠç‘å£«å†›åˆ€ã€‚</li>
<li><em>ä»£ç å…³æ³¨ç‚¹ï¼šTrait å®šä¹‰çš„ç²’åº¦ã€‚</em></li>
</ul>
</li>
</ol>
<h3 data-id="heading-12">ä½ çš„æ€»ç»“ä¿®æ­£</h3>
<p>ä½ ä¹‹å‰çš„æ€»ç»“æ˜¯ï¼š</p>
<blockquote>
<p>â€œæ€æƒ³éƒ½æ˜¯å…ˆæœ‰trait ç„¶ååŸºäºè¿™ä¸ªtraitçš„structï¼Œç„¶åå®šä¹‰ä¸€ä¸ªæ–¹æ³•...ç„¶åç›´æ¥è°ƒâ€</p>
</blockquote>
<p>è¿™æè¿°çš„æ˜¯Â <strong>Rust çš„è¯­æ³•æœºåˆ¶</strong>ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å‡åä¸€ä¸‹ï¼š</p>
<ul>
<li><strong>Bridge</strong>Â æ˜¯åˆ©ç”¨è¿™ä¸ªæœºåˆ¶åšÂ <strong>å†…éƒ¨ç»„åˆ</strong>Â (Composition)ã€‚</li>
<li><strong>IoC</strong>Â æ˜¯åˆ©ç”¨è¿™ä¸ªæœºåˆ¶åšÂ <strong>å¤–éƒ¨æ³¨å…¥</strong>Â (Injection)ã€‚</li>
<li><strong>ISP</strong>Â æ˜¯åˆ©ç”¨è¿™ä¸ªæœºåˆ¶åšÂ <strong>æ¥å£æ‹†åˆ†</strong>Â (Segregation)ã€‚</li>
</ul>
<p>å®ƒä»¬ç¡®å®æ˜¯ç”¨åŒä¸€ç§ç –å¤´ï¼ˆTraitï¼‰ç›–å‡ºæ¥çš„ä¸‰ç§ä¸åŒåŠŸèƒ½çš„æˆ¿å­ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[jdk9ä¸­çš„moduleæ¨¡å—åŒ–]]></title>    <link>https://juejin.cn/post/7583226204033368105</link>    <guid>https://juejin.cn/post/7583226204033368105</guid>    <pubDate>2025-12-14T09:51:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583226204033368105" data-draft-id="7583226204033351721" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="jdk9ä¸­çš„moduleæ¨¡å—åŒ–"/> <meta itemprop="keywords" content="åç«¯,Java,Java EE"/> <meta itemprop="datePublished" content="2025-12-14T09:51:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è€ƒè™‘è€ƒè™‘"/> <meta itemprop="url" content="https://juejin.cn/user/4406498335157287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            jdk9ä¸­çš„moduleæ¨¡å—åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4406498335157287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è€ƒè™‘è€ƒè™‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T09:51:01.000Z" title="Sun Dec 14 2025 09:51:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨<code>JDK9</code>å‘å¸ƒä¹‹åï¼Œå¼•å…¥äº†ä¸€ä¸ªç³»ç»Ÿæ¨¡å—åŒ–æ¦‚å¿µï¼ŒJDK 9æ¨¡å—åŒ–ç³»ç»Ÿå¯ä»¥ä¸ºæ¯ä¸ªæ¨¡å—åˆ†åˆ«å®šä¹‰ç±»è·¯å¾„å’Œä¾èµ–é¡¹ï¼Œä»è€Œä½¿æ¯ä¸ªæ¨¡å—æ›´åŠ æ¸…æ™°å’Œç‹¬ç«‹</p>
<h3 data-id="heading-1">æ¨¡å—åŒ–ä½¿ç”¨</h3>
<p>æ–°å»ºä¸€ä¸ª<code>maven</code>å·¥ç¨‹ï¼Œç„¶åå¼•å…¥ä¸€ä¸ªæ–‡ä»¶<code>module-info.java</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/48105425365d4f259a8a7f258e905cad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICD6JmR6ICD6JmR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766310661&amp;x-signature=Y5UIm%2FrFnqKSoSytj2Qu%2Ba4jD2E%3D" alt="image.png" loading="lazy"/>
å¯ä»¥ç”¨æ–°çš„å…³é”®è¯moduleæ¥å£°æ˜ä¸€ä¸ªæ¨¡å—</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">module</span> hello1 {
}
</code></pre>
<p>å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ae270b4d3644ad6a9ca0b603f38438c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICD6JmR6ICD6JmR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766310661&amp;x-signature=s0846Lt1nUqv0dTFjL5G1n2lSvs%3D" alt="image.png" loading="lazy"/>
åç»­å¼•å…¥äº†ä¸€ä¸ªæ–°åŒ…ï¼Œè¦ä½¿ç”¨ï¼Œå¾—å†<code>module-info.java</code>å¼•å…¥</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d67653ba88a4cb7a522b78ed719fa86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ICD6JmR6ICD6JmR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766310661&amp;x-signature=QyGLG5cRSpPzmNwDItennqTs16U%3D" alt="image.png" loading="lazy"/>
æ‰èƒ½ä½¿ç”¨ï¼Œä¸ç„¶ä¼šæŠ¥é”™</p>
<h3 data-id="heading-2">æ€»ç»“</h3>
<p>Javaæ¨¡å—åŒ–ç³»ç»Ÿï¼Œå³ <strong>Java Platform Module System</strong>ï¼Œæ˜¯JDK 9ä¸­çš„ä¸€é¡¹é©å‘½æ€§æ”¹è¿›ï¼Œæ—¨åœ¨ä¼˜åŒ–å¤§å‹é¡¹ç›®çš„å¼€å‘æ•ˆç‡å’Œç»´æŠ¤æˆæœ¬ï¼Œåç»­å†å¾ˆå¤šé¡¹ç›®ä¸­è¢«ä½¿ç”¨</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ‹¿æ React ç»„ä»¶é€šè®¯ï¼šä»çˆ¶å­åˆ°è·¨ç»„ä»¶çš„ã€Œä¼ åŠŸç§˜ç±ã€]]></title>    <link>https://juejin.cn/post/7582958136258150436</link>    <guid>https://juejin.cn/post/7582958136258150436</guid>    <pubDate>2025-12-14T09:43:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582958136258150436" data-draft-id="7582862885107531826" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ‹¿æ React ç»„ä»¶é€šè®¯ï¼šä»çˆ¶å­åˆ°è·¨ç»„ä»¶çš„ã€Œä¼ åŠŸç§˜ç±ã€"/> <meta itemprop="keywords" content="React.js,å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-14T09:43:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£æ­¢ä½•å®‰å•Š"/> <meta itemprop="url" content="https://juejin.cn/user/2517239724512420"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ‹¿æ React ç»„ä»¶é€šè®¯ï¼šä»çˆ¶å­åˆ°è·¨ç»„ä»¶çš„ã€Œä¼ åŠŸç§˜ç±ã€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2517239724512420/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£æ­¢ä½•å®‰å•Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T09:43:59.000Z" title="Sun Dec 14 2025 09:43:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä½ æœ‰æ²¡æœ‰è¿‡è¿™ç§å´©æºƒæ—¶åˆ»ï¼Ÿå†™ <strong>React ç»„ä»¶</strong>æ—¶ï¼Œæƒ³è®©çˆ¶å­ç»„ä»¶äº’é€šæ•°æ®ï¼Œç»“æœä»£ç è¶Šå†™è¶Šä¹±ï¼›å…„å¼Ÿç»„ä»¶æƒ³ä¼ ä¸ªå€¼ï¼Œç»•äº†å…«å±‚çˆ¶ç»„ä»¶è¿˜æ²¡æå®šâ€¦â€¦ ä¸ºå•¥åˆ«äººçš„ React ç»„ä»¶ä¼ å€¼ä¸æ»‘ï¼Ÿåˆ«æ…Œï¼ç§˜å¯†éƒ½åœ¨è¿™ï¼ä»Šå¤©å’±ä»¬ç”¨ <strong>ã€Œæ­¦ä¾ ä¼ åŠŸã€</strong> çš„æ€è·¯ï¼Œ<strong>React ç»„ä»¶</strong>é€šè®¯çš„å‘ï¼Œä¸€ç¯‡å¸®ä½ å¡«å¹³ï¼</p>
<h3 data-id="heading-1">ä¸€ã€çˆ¶å­ç»„ä»¶ï¼šçˆ¶ä¼ å­çš„ã€Œå•å‘ç§˜ç±ã€</h3>
<p>æƒ³è±¡ä¸€ä¸‹ï¼š<strong>çˆ¶ç»„ä»¶</strong>æ˜¯<strong>æ­¦æ—ç›Ÿä¸»</strong>ï¼Œæ‰‹é‡Œæœ‰æœ¬ <strong>ã€Šä¹é˜´çœŸç»ã€‹ï¼ˆå˜é‡ï¼‰</strong>ï¼Œæƒ³ä¼ ç»™<strong>å­ç»„ä»¶</strong>è¿™ä¸ªå°å¾’å¼Ÿã€‚<strong>ä½†è§„çŸ©æ˜¯ï¼š</strong></p>
<blockquote>
<p><strong>å¾’å¼Ÿåªèƒ½çœ‹ï¼Œä¸èƒ½æ”¹ï¼</strong></p>
</blockquote>
<h4 data-id="heading-2">ä¼ åŠŸæ­¥éª¤ï¼š</h4>
<ol>
<li><strong>çˆ¶ç»„ä»¶å‘åŠŸ</strong>ï¼šåœ¨å­ç»„ä»¶æ ‡ç­¾ä¸Šç»‘å®šå±æ€§ï¼ˆæŠŠç§˜ç±é€’å‡ºå»ï¼‰</li>
<li><strong>å­ç»„ä»¶æ¥åŠŸ</strong>ï¼šé€šè¿‡Â <code>props</code>Â æ¥æ”¶ï¼ˆåŒæ‰‹æ¥ä½ç§˜ç±ï¼‰</li>
</ol>
<h4 data-id="heading-3">çœ‹ä¸ªä¾‹å­ï¼š</h4>
<p>çˆ¶ç»„ä»¶ï¼ˆç›Ÿä¸»ï¼‰æŠŠÂ <code>state.name</code>Â ä¼ ç»™å­ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// çˆ¶ç»„ä»¶ Parent.jsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./Child"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span>(<span class="hljs-params">props</span>) {
    <span class="hljs-keyword">const</span> state = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'henry'</span> <span class="hljs-comment">// è¿™æ˜¯è¦ä¼ çš„ã€Œç§˜ç±ã€</span>
    };
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">msg</span> = <span class="hljs-string">{state.name}/</span>&gt;</span> {/* ç»‘å®šå±æ€§ msgï¼ŒæŠŠç§˜ç±é€’å‡ºå» */}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</code></pre>
<p>å­ç»„ä»¶ï¼ˆå¾’å¼Ÿï¼‰ç”¨Â <code>props</code>Â æ¥æ”¶ï¼Œä½†<strong>ä¸èƒ½ä¿®æ”¹</strong>ï¼ˆç§˜ç±æ˜¯åªè¯»çš„ï¼ï¼‰ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// å­ç»„ä»¶ Child.jsx</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span>(<span class="hljs-params">props</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(props); <span class="hljs-comment">// èƒ½çœ‹åˆ° {msg: 'henry'}</span>
    <span class="hljs-comment">// props.msg = 'harvest'; // âŒ æŠ¥é”™ï¼props æ˜¯åªè¯»çš„ï¼Œä¸èƒ½æ”¹ï¼</span>
    <span class="hljs-keyword">return</span> (
        {<span class="hljs-comment">/* å±•ç¤ºæ¥æ”¶åˆ°çš„ã€Œç§˜ç±ã€ */</span>}
        &lt;div&gt;å­ç»„ä»¶ -- {props.<span class="hljs-property">msg</span>}&lt;/div&gt; 
    );
}
</code></pre>
<p>æ‰“å°ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/146786c2aee042c5a927b8bd469ca77d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766310238&amp;x-signature=8Jht3dxDra9C4r54P2IfXVJxPRo%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœä¿®æ”¹å€¼ä¼š<strong>æŠ¥é”™</strong>ï¼ˆåªè¯»ï¼Œä¸èƒ½æ”¹ï¼ï¼‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f72903720c1436faaab44fdd7165e0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766310238&amp;x-signature=kjxWCo9vuhvJUZOWisP%2FuHiMSlU%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">äºŒã€å­çˆ¶ç»„ä»¶ï¼šå­ä¼ çˆ¶çš„ã€Œåå‘ä¼ åŠŸã€</h3>
<p>è¿™æ¬¡åè¿‡æ¥ï¼š<strong>å­ç»„ä»¶</strong>æ˜¯å¾’å¼Ÿï¼Œç»ƒå‡ºäº†<strong>æ–°æ‹›å¼ï¼ˆå˜é‡ï¼‰</strong>ï¼Œæƒ³ä¼ ç»™çˆ¶ç»„ä»¶ç›Ÿä¸»ã€‚ä½†å¾’å¼Ÿä¸èƒ½ç›´æ¥å¡ç»™ç›Ÿä¸»ï¼Œå¾—<strong>è®©ç›Ÿä¸»é€’ä¸ªã€Œæ¥æ”¶è¢‹ã€ï¼ˆå‡½æ•°ï¼‰ï¼Œå¾’å¼ŸæŠŠæ‹›å¼è£…è¿›å»</strong>ã€‚</p>
<h4 data-id="heading-5">ä¼ åŠŸæ­¥éª¤ï¼š</h4>
<ol>
<li><strong>çˆ¶ç»„ä»¶é€’è¢‹</strong>ï¼šå®šä¹‰æ¥æ”¶æ•°æ®çš„å‡½æ•°ï¼ˆå‡†å¤‡å¥½æ¥æ”¶è¢‹ï¼‰</li>
<li><strong>çˆ¶ä¼ å­è¢‹</strong>ï¼šæŠŠå‡½æ•°é€šè¿‡Â <code>props</code>Â ä¼ ç»™å­ç»„ä»¶ï¼ˆæŠŠè¢‹å­é€’è¿‡å»ï¼‰</li>
<li><strong>å­ç»„ä»¶è£…æ‹›</strong>ï¼šè°ƒç”¨å‡½æ•°å¹¶ä¼ æ•°æ®ï¼ˆæŠŠæ–°æ‹›å¼è£…è¿›è¢‹å­ï¼‰</li>
</ol>
<h4 data-id="heading-6">ä»£ç ä¾‹å­ï¼š</h4>
<p>çˆ¶ç»„ä»¶å‡†å¤‡ã€Œæ¥æ”¶è¢‹ã€<code>getNum</code>ï¼Œä¼ ç»™å­ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// çˆ¶ç»„ä»¶ Parent.jsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./Child"</span>
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">1</span>);
    <span class="hljs-comment">// å®šä¹‰ã€Œæ¥æ”¶è¢‹ã€ï¼šæ”¶åˆ°æ•°æ®åæ›´æ–°è‡ªå·±çš„çŠ¶æ€</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">getNum</span> = (<span class="hljs-params">n</span>) =&gt; {
        <span class="hljs-title function_">setCount</span>(n);
    }
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶äºŒ -- {count}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Child</span> <span class="hljs-attr">getNum</span> = <span class="hljs-string">{getNum}/</span>&gt;</span> {/* æŠŠè¢‹å­é€’è¿‡å» */}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</code></pre>
<p>å­ç»„ä»¶è°ƒç”¨Â <code>getNum</code>ï¼ŒæŠŠè‡ªå·±çš„Â <code>state.num</code>Â ä¼ è¿‡å»ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// å­ç»„ä»¶ Child.jsx</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span>(<span class="hljs-params">props</span>) {
    <span class="hljs-keyword">const</span> state = {
        <span class="hljs-attr">num</span>: <span class="hljs-number">100</span> <span class="hljs-comment">// è‡ªå·±ç»ƒçš„æ–°æ‹›å¼</span>
    };
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">send</span>(<span class="hljs-params"/>) {
        props.<span class="hljs-title function_">getNum</span>(state.<span class="hljs-property">num</span>); <span class="hljs-comment">// æŠŠæ–°æ‹›å¼è£…è¿›è¢‹å­</span>
    }
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­ç»„ä»¶äºŒ<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{send}</span>&gt;</span>å‘é€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span> {/* ç‚¹æŒ‰é’®ä¼ åŠŸ */}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre>
<p>ç‚¹å‡»å‘é€å‰ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/815973cc0dfe4dca8bc53eebe030d810~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766310238&amp;x-signature=Dp6X4gn6ytRuB5JxXvAnBe%2BXsn0%3D" alt="image.png" loading="lazy"/></p>
<p>ç‚¹å‡»å‘é€åï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99fcfbc430504d5d81c34eac865329cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766310238&amp;x-signature=m3%2BnHV3lrL9kBulmU%2BgSjObFsPQ%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™æ ·æˆ‘ä»¬å°±æˆåŠŸçš„æŠŠå­ç»„ä»¶çš„å˜é‡ä¼ ç»™äº†çˆ¶ç»„ä»¶ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº†<code>useState</code>ï¼Œè‡³äºå®ƒçš„ä½œç”¨æˆ‘ä»¬æš‚æ—¶å…ˆä¸è®²ï¼Œæˆ‘ä»¬å…ˆææ‡‚é€šè®¯ã€‚</p>
<h3 data-id="heading-7">ä¸‰ã€å…„å¼Ÿç»„ä»¶ï¼šã€Œçˆ¶ç»„ä»¶å½“ä¸­é—´å•†ã€</h3>
<p>å…„å¼Ÿç»„ä»¶åƒä¸¤ä¸ªå¸ˆå…„å¼Ÿï¼Œæƒ³äº’ç›¸ä¼ åŠŸï¼Ÿå¾—å…ˆæŠŠæ‹›å¼ä¼ ç»™ç›Ÿä¸»<strong>çˆ¶ç»„ä»¶</strong>ï¼ˆä¸­é—´å•†ï¼‰ï¼Œå†è®©çˆ¶ç»„ä»¶è½¬ç»™å¦ä¸€ä¸ªå…„å¼Ÿã€‚</p>
<h4 data-id="heading-8">ä¼ åŠŸæ­¥éª¤ï¼š</h4>
<ol>
<li><strong>å¼Ÿ 1 ä¼ çˆ¶</strong>ï¼šå¼Ÿ 1 æŠŠæ•°æ®ä¼ ç»™çˆ¶ç»„ä»¶</li>
<li><strong>çˆ¶ä¼ å¼Ÿ 2</strong>ï¼šçˆ¶ç»„ä»¶æŠŠæ•°æ®ä¼ ç»™å¼Ÿ 2</li>
</ol>
<h4 data-id="heading-9">ä¾æ—§ä»£ç ï¼š</h4>
<p>çˆ¶ç»„ä»¶å½“ä¸­é—´å•†ï¼Œæ¥æ”¶ Child1 çš„æ•°æ®ï¼Œå†ä¼ ç»™ Child2ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// çˆ¶ç»„ä»¶ Parent.jsx</span>
<span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Child1</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./Child1"</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Child2</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./Child2"</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span>(<span class="hljs-params">props</span>) {
    <span class="hljs-keyword">let</span> [message, setMessage] = <span class="hljs-title function_">useState</span>();
    <span class="hljs-comment">// æ¥æ”¶ Child1 çš„æ•°æ®</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">getMeg</span> = (<span class="hljs-params">msg</span>) =&gt; {
        <span class="hljs-title function_">setMessage</span>(msg);
    }
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶ä¸‰<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Child1</span> <span class="hljs-attr">getMeg</span> = <span class="hljs-string">{getMeg}</span> /&gt;</span> {/* æ”¶ Child1 çš„æ•°æ® */}
            <span class="hljs-tag">&lt;<span class="hljs-name">Child2</span> <span class="hljs-attr">msg</span> = <span class="hljs-string">{message}/</span>&gt;</span> {/* æŠŠæ•°æ®ä¼ ç»™ Child2 */}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre>
<p><strong>Child1ï¼ˆå…„ï¼‰</strong> ä¼ æ•°æ®ç»™çˆ¶ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// Child1.jsx</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Child1</span>(<span class="hljs-params">props</span>) {
    <span class="hljs-keyword">const</span> state = {
        <span class="hljs-attr">msg</span>: <span class="hljs-string">'3.1'</span>
    };
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">send</span>(<span class="hljs-params"/>) {
        props.<span class="hljs-title function_">getMeg</span>(state.<span class="hljs-property">msg</span>); <span class="hljs-comment">// ä¼ ç»™çˆ¶ç»„ä»¶</span>
    }
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­ç»„ä»¶3.1<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{send}</span>&gt;</span>å‘é€<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre>
<p><strong>Child2ï¼ˆå¼Ÿï¼‰</strong> æ¥æ”¶çˆ¶ç»„ä»¶ä¼ æ¥çš„æ•°æ®ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// Child2.jsx</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Child2</span>(<span class="hljs-params">props</span>) {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­ç»„ä»¶3.2 -- {props.msg}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span> {/* å±•ç¤ºå…„ä¼ æ¥çš„æ•°æ® */}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
}
</code></pre>
<p><strong>å‘é€å‰ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/944fe96fc69e403a85cb18d23a57bd55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766310238&amp;x-signature=m0rTB3ECxT7%2F0s94a64nAuGynbs%3D" alt="image.png" loading="lazy"/></p>
<p><strong>å‘é€åï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ea7511984024c938ad5874a0ca87f1c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766310238&amp;x-signature=edttww7uTKNIHRyLCs3iwVdXHDE%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æ­¤è¿™èˆ¬ï¼Œ<strong>å­ç»„ä»¶3.2</strong>å°±æˆåŠŸæ¥æ”¶åˆ°äº†<strong>å­ç»„ä»¶3.1</strong>çš„ä¼ é€’ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-10">å››ã€è·¨ç»„ä»¶é€šä¿¡ï¼šã€ŒContext å…¨å±€å¹¿æ’­ã€</h3>
<p>å¦‚æœç»„ä»¶åµŒå¥—äº†å¥½å¤šå±‚ï¼ˆæ¯”å¦‚çˆ¶â†’å­â†’å­™â†’é‡å­™ï¼‰ï¼Œä¸€å±‚å±‚ä¼ åŠŸå¤ªéº»çƒ¦äº†ï¼è¿™æ—¶å€™ç”¨Â <code>Context</code>Â å°±åƒ <strong>ã€Œæ­¦æ—å¹¿æ’­ã€</strong>ï¼šçˆ¶ç»„ä»¶æŠŠæ•°æ®å¹¿æ’­å‡ºå»ï¼Œæ‰€æœ‰åä»£ç»„ä»¶éƒ½èƒ½ç›´æ¥æ”¶åˆ°ã€‚</p>
<h4 data-id="heading-11">å¹¿æ’­æ­¥éª¤ï¼š</h4>
<ol>
<li><strong>çˆ¶ç»„ä»¶å»ºå¹¿æ’­å°</strong>ï¼šç”¨Â <code>createContext</code>Â åˆ›å»ºä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œç”¨Â <code>Provider</code>Â å¹¿æ’­æ•°æ®</li>
<li><strong>åä»£ç»„ä»¶æ”¶å¹¿æ’­</strong>ï¼šç”¨Â <code>useContext</code>Â æ¥æ”¶å¹¿æ’­çš„å†…å®¹</li>
</ol>
<h4 data-id="heading-12">è¿˜æ˜¯ä»£ç ï¼š</h4>
<p>çˆ¶ç»„ä»¶å»ºå¹¿æ’­å°ï¼Œå¹¿æ’­ã€Œçˆ¶ç»„ä»¶çš„æ•°æ®ã€ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// çˆ¶ç»„ä»¶ Parent.jsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Child1</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./Child1"</span>;
<span class="hljs-keyword">import</span> { createContext } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-comment">// åˆ›å»ºä¸Šä¸‹æ–‡å¯¹è±¡ï¼ˆå¹¿æ’­å°ï¼‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">Context</span> = <span class="hljs-title function_">createContext</span>() 
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Parent</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>çˆ¶ç»„ä»¶å››<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            {/* ç”¨ Provider å¹¿æ’­æ•°æ®ï¼Œvalue æ˜¯è¦ä¼ çš„å†…å®¹ */}
            <span class="hljs-tag">&lt;<span class="hljs-name">Context.Provider</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{</span>'<span class="hljs-attr">çˆ¶ç»„ä»¶çš„æ•°æ®</span>'}&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Child1</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Context.Provider</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</code></pre>
<p>å­™ç»„ä»¶ç›´æ¥æ”¶å¹¿æ’­ï¼ˆä¸ç”¨ç»è¿‡å­ç»„ä»¶ï¼‰ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// å­™ç»„ä»¶ Child2.jsx</span>
<span class="hljs-keyword">import</span> { useContext } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Context</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Parent'</span> <span class="hljs-comment">// å¼•å…¥å¹¿æ’­å°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Child2</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> msg = <span class="hljs-title function_">useContext</span>(<span class="hljs-title class_">Context</span>) <span class="hljs-comment">// ç›´æ¥æ¥æ”¶å¹¿æ’­å†…å®¹</span>
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>å­™å­ç»„ä»¶ --- {msg}<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span> {/* å±•ç¤ºå¹¿æ’­çš„å†…å®¹ */}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</code></pre>
<p>å¦å¤–é™„ä¸Šå­ç»„ä»¶ä»£ç ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Child2</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./Child2"</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Child1</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>å­ç»„ä»¶<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Child2</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}
</code></pre>
<p>ç»“æœå­™å­ç»„ä»¶æˆåŠŸå¾—åˆ°çˆ¶ç»„ä»¶çš„æ•°æ®ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0a19627caf14d7e8e16d3239b512039~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aOO5q2i5L2V5a6J5ZWK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766310238&amp;x-signature=gGKgp2rYGBnVJQIWCWXRG1NJ%2Bes%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-13">äº”ã€æ¸©é¦¨æç¤º</h3>
<p>åˆ«å¿˜äº†<code>App.jsx</code>å’Œ<code>main.jsx</code>æ–‡ä»¶ï¼å‰é¢çš„æ‰€æœ‰ç»“æœéƒ½éœ€è¦è¿™ä¸¤ä¸ª<strong>å¤§ä½¬</strong>çš„æ”¯æŒã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// App.jsx</span>
<span class="hljs-comment">// import Parent from "./demo1/Parent"</span>
<span class="hljs-comment">// import Parent from "./demo2/Parent"</span>
<span class="hljs-comment">// import Parent from "./demo3/Parent"</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Parent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"./demo4/Parent"</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Parent</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Parent</span>&gt;</span></span>
    )
}
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// main.jsx</span>
<span class="hljs-keyword">import</span> { createRoot } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom/client'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.jsx'</span>

<span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'root'</span>)).<span class="hljs-title function_">render</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span></span>
)
</code></pre>
<p>è¿™ä¸¤ä»½æ˜¯åˆ›å»º<code>React</code>è‡ªå¸¦çš„ï¼Œä½†æ˜¯è¿˜æ˜¯æé†’ä¸€ä¸‹å¤§å®¶åˆ«å¿˜äº†ï¼</p>
<h3 data-id="heading-14">å…­ã€æ€»ç»“ï¼šç»„ä»¶é€šè®¯ã€Œæ­¦åŠŸè°±ã€</h3>






























<table><thead><tr><th>é€šè®¯åœºæ™¯</th><th>æ–¹æ³•</th><th>æ ¸å¿ƒæ€è·¯</th></tr></thead><tbody><tr><td>çˆ¶å­ç»„ä»¶</td><td>props ä¼ å€¼</td><td>çˆ¶ä¼ å­ï¼Œå­åªè¯»</td></tr><tr><td>å­çˆ¶ç»„ä»¶</td><td>props ä¼ å‡½æ•°</td><td>çˆ¶ç»™å‡½æ•°ï¼Œå­è°ƒç”¨ä¼ æ•°æ®</td></tr><tr><td>å…„å¼Ÿç»„ä»¶</td><td>çˆ¶ç»„ä»¶ä¸­è½¬</td><td>å­â†’çˆ¶â†’å¦ä¸€ä¸ªå­</td></tr><tr><td>è·¨ç»„ä»¶</td><td>Contextï¼ˆä¸Šä¸‹æ–‡ï¼‰</td><td>çˆ¶å¹¿æ’­ï¼Œåä»£ç›´æ¥æ”¶</td></tr></tbody></table>
<h2 data-id="heading-15">ç»“è¯­</h2>
<p>å…¶å® React ç»„ä»¶é€šè®¯çš„æ ¸å¿ƒï¼Œä»æ¥éƒ½ä¸æ˜¯æ­»è®°ç¡¬èƒŒæ­¥éª¤ï¼Œè€Œæ˜¯<strong>æ‰¾å‡†æ•°æ®çš„æµå‘</strong>ã€‚çˆ¶å­ä¼ å€¼ç”¨Â <code>props</code>Â å•å‘ä¼ é€’ï¼Œå­çˆ¶ä¼ å€¼å€Ÿå‡½æ•°åå‘æ­æ¡¥ï¼Œå…„å¼Ÿç»„ä»¶é çˆ¶ç»„ä»¶å½“ â€œä¸­è½¬ç«™â€ï¼Œè·¨å±‚çº§é€šä¿¡å°±ç”¨Â <code>Context</code>Â æ‰“ç ´åµŒå¥—å£å’ã€‚</p>
<p>è¿™äº›æ–¹æ³•æ²¡æœ‰ä¼˜åŠ£ä¹‹åˆ†ï¼Œåªæœ‰åœºæ™¯ä¹‹åˆ«ã€‚æ–°æ‰‹é˜¶æ®µå…ˆæŠŠÂ <code>props</code>Â å’Œå‡½æ•°ä¼ å€¼ç»ƒç†Ÿï¼Œå†é€æ­¥å°è¯•Â <code>Context</code>ï¼Œç”šè‡³åç»­å­¦ä¹ çš„ Redux ç­‰çŠ¶æ€ç®¡ç†åº“ï¼Œéƒ½æ˜¯åœ¨è¿™ä¸ªåŸºç¡€ä¸Šçš„å»¶ä¼¸ã€‚</p>
<p><strong>è®°ä½ï¼š</strong></p>
<blockquote>
<p><strong>ç»„ä»¶é€šè®¯</strong>çš„<strong>æœ¬è´¨</strong>ï¼Œå°±æ˜¯è®©æ•°æ®åœ¨åˆé€‚çš„ç»„ä»¶é—´æœ‰åºæµåŠ¨ã€‚ç°åœ¨å°±æ‰“å¼€ç¼–è¾‘å™¨ï¼ŒæŠŠè¿™äº›ä¾‹å­æ•²ä¸€éï¼Œä½ ä¼šå‘ç°ï¼Œé‚£äº›æ›¾ç»è®©ä½ å¤´ç–¼çš„ä¼ å€¼é—®é¢˜ï¼Œæ—©å°±è¿åˆƒè€Œè§£äº†ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å°†flutteræ‰“æˆaaråŒ…åµŒå…¥åˆ°å®‰å“]]></title>    <link>https://juejin.cn/post/7583530023358693414</link>    <guid>https://juejin.cn/post/7583530023358693414</guid>    <pubDate>2025-12-14T09:44:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583530023358693414" data-draft-id="7583535861644918830" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å°†flutteræ‰“æˆaaråŒ…åµŒå…¥åˆ°å®‰å“"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-14T09:44:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‡’å¾—ä¸æƒ³èµ·åå­—"/> <meta itemprop="url" content="https://juejin.cn/user/3731068456799563"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å°†flutteræ‰“æˆaaråŒ…åµŒå…¥åˆ°å®‰å“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3731068456799563/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‡’å¾—ä¸æƒ³èµ·åå­—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T09:44:08.000Z" title="Sun Dec 14 2025 09:44:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Flutter Module æ‰“åŒ…æˆ AAR å¹¶é›†æˆåˆ° Android é¡¹ç›®</h2>
<h3 data-id="heading-1">ä¸€ã€åˆ›å»º Flutter Module</h3>
<p>å¦‚æœä½  <strong>è¿˜æ²¡æœ‰ Flutter Module</strong></p>
<pre><code class="hljs language-bash" lang="bash">flutter create -t module flutter_module
</code></pre>
<h3 data-id="heading-2">äºŒã€æ„å»º Flutter AAR</h3>
<h4 data-id="heading-3">æ‰§è¡Œ AAR æ„å»ºå‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash">flutter build aar
</code></pre>
<h4 data-id="heading-4">æ„å»ºäº§ç‰©ä½ç½®</h4>
<pre><code class="hljs language-text" lang="text">flutter_module/build/host/outputs/repo/
</code></pre>
<h4 data-id="heading-5">æ„å»ºæ§åˆ¶å°è¾“å‡º</h4>
<p>åœ¨ä¸‹é¢çš„é…ç½®ä¸­ä¼šç”¨åˆ°</p>
<pre><code class="hljs language-sql" lang="sql">  <span class="hljs-number">1.</span> <span class="hljs-keyword">Open</span> <span class="hljs-operator">&lt;</span>host<span class="hljs-operator">&gt;</span>\app\build.gradle
  <span class="hljs-number">2.</span> Ensure you have the repositories configured, otherwise <span class="hljs-keyword">add</span> them:

      String storageUrl <span class="hljs-operator">=</span> System.env.FLUTTER_STORAGE_BASE_URL ?: "https://storage.googleapis.com"
      repositories {
        maven {
            url <span class="hljs-string">'E:\lumosproject\module\lumos\build\host\outputs\repo'</span>
        }
        maven {
            url "$storageUrl/download.flutter.io"
        }
      }

  <span class="hljs-number">3.</span> Make the host app depend <span class="hljs-keyword">on</span> the Flutter <span class="hljs-keyword">module</span>:

    dependencies {
      debugImplementation <span class="hljs-string">'com.example.lumos:flutter_debug:1.0'</span>
      profileImplementation <span class="hljs-string">'com.example.lumos:flutter_profile:1.0'</span>
      releaseImplementation <span class="hljs-string">'com.example.lumos:flutter_release:1.0'</span>
    }


  <span class="hljs-number">4.</span> <span class="hljs-keyword">Add</span> the `profile` build type:

    android {
      buildTypes {
        profile {
          initWith debug
        }
      }
    }

</code></pre>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€Android å®¿ä¸»é¡¹ç›®é›†æˆ AAR</h3>
<h4 data-id="heading-7">1. ä¿®æ”¹MyApp/app/build.gradle</h4>
<p>ä½ ç›®å‰ç°æœ‰çš„ Android é¡¹ç›®å¯èƒ½æ”¯æŒÂ <code>mips</code>Â æˆ–Â <code>x86</code>Â ä¹‹ç±»çš„æ¶æ„ï¼Œç„¶è€Œï¼ŒFlutterÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.flutter.cn%2Fresources%2Ffaq%23what-devices-and-os-versions-does-flutter-run-on" target="_blank" title="https://docs.flutter.cn/resources/faq#what-devices-and-os-versions-does-flutter-run-on" ref="nofollow noopener noreferrer">å½“å‰ä»…æ”¯æŒ</a>Â ä¸ºÂ <code>x86_64</code>ï¼Œ<code>armeabi-v7a</code>Â å’ŒÂ <code>arm64-v8a</code>Â æ„å»ºé¢„ç¼–ï¼ˆAOTï¼‰çš„åº“ã€‚</p>
<p>å¯ä»¥è€ƒè™‘ä½¿ç”¨Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Freference%2Ftools%2Fgradle-api%2F4.2%2Fcom%2Fandroid%2Fbuild%2Fapi%2Fdsl%2FNdk%23abiFilters%3Akotlin.collections.MutableSet" target="_blank" title="https://developer.android.google.cn/reference/tools/gradle-api/4.2/com/android/build/api/dsl/Ndk#abiFilters:kotlin.collections.MutableSet" ref="nofollow noopener noreferrer"><code>abiFilters</code></a>Â è¿™ä¸ª Android Gradle æ’ä»¶ API æ¥æŒ‡å®š APK ä¸­æ”¯æŒçš„æ¶æ„ï¼Œä»è€Œé¿å…Â <code>libflutter.so</code>Â æ— æ³•ç”Ÿæˆè€Œå¯¼è‡´åº”ç”¨è¿è¡Œæ—¶å´©æºƒï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p>
<h5 data-id="heading-8">Groovy ç‰ˆ</h5>
<pre><code class="hljs language-arduino" lang="arduino">android {
    defaultConfig {
        ndk {
            <span class="hljs-comment">// Filter for architectures supported by Flutter</span>
            abiFilters <span class="hljs-string">"armeabi-v7a"</span>, <span class="hljs-string">"arm64-v8a"</span>, <span class="hljs-string">"x86_64"</span>
        }
    }
}
</code></pre>
<h5 data-id="heading-9">Kotlin DSL</h5>
<pre><code class="hljs language-arduino" lang="arduino">android {
    defaultConfig {
        ndk {
            <span class="hljs-comment">// Filter for architectures supported by Flutter</span>
            abiFilters += <span class="hljs-built_in">listOf</span>(<span class="hljs-string">"armeabi-v7a"</span>, <span class="hljs-string">"arm64-v8a"</span>, <span class="hljs-string">"x86_64"</span>)
        }
    }
}
</code></pre>
<hr/>
<h4 data-id="heading-10">2. é…ç½® <code>settings.gradle(.kts)</code></h4>
<p><strong>åœ¨å›½å†…ï¼Œéœ€è¦ä½¿ç”¨é•œåƒç«™ç‚¹ä»£æ›¿Â <code>storage.googleapis.com</code>ã€‚æœ‰å…³é•œåƒçš„è¯¦ç»†ä¿¡æ¯ï¼Œå‚è§Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.flutter.cn%2Fcommunity%2Fchina" target="_blank" title="https://docs.flutter.cn/community/china" ref="nofollow noopener noreferrer">åœ¨ä¸­å›½ç½‘ç»œç¯å¢ƒä¸‹ä½¿ç”¨ Flutter</a>Â é¡µé¢ã€‚</strong></p>
<h5 data-id="heading-11">Groovy ç‰ˆ</h5>
<pre><code class="hljs language-groovy" lang="groovy">dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    String storageUrl = System.env.FLUTTER_STORAGE_BASE_URL ?: "https://storage.flutter-io.cn"
    repositories {

        google()
        mavenCentral()
        maven {
            url 'E:/lumosproject/module/lumos/build/host/outputs/repo'
        }
        maven {
            url "$storageUrl/download.flutter.io"
        }
    }
}
</code></pre>
<h5 data-id="heading-12">Kotlin DSL</h5>
<pre><code class="hljs language-kotlin" lang="kotlin">dependencyResolutionManagement {
    repositoriesMode.<span class="hljs-keyword">set</span>(RepositoriesMode.PREFER_SETTINGS)
    repositories {
        google()
        mavenCentral()
        maven(<span class="hljs-string">"https://storage.googleapis.com/download.flutter.io"</span>)
    }
}
</code></pre>
<hr/>
<h4 data-id="heading-13">3. æ·»åŠ ä¾èµ–ï¼ˆapp/build.gradleï¼‰</h4>
<p>è¿™é‡Œæ·»åŠ çš„ä¾èµ–éƒ½æ˜¯build aar æ§åˆ¶å°è¾“å‡ºçš„å†…å®¹</p>
<h5 data-id="heading-14">groovyç‰ˆ</h5>
<pre><code class="hljs language-groovy" lang="groovy">dependencies {
   debugImplementation 'com.example.untitled:flutter_debug:1.0'
   profileImplementation 'com.example.untitled:flutter_profile:1.0'
   releaseImplementation 'com.example.untitled:flutter_release:1.0'
}
</code></pre>
<h5 data-id="heading-15">Kotlin DSL</h5>
<pre><code class="hljs language-scss" lang="scss">dependencies {
<span class="hljs-built_in">debugImplementation</span>("com.example.flutter_module:flutter_debug:<span class="hljs-number">1.0</span>")    
<span class="hljs-built_in">releaseImplementation</span>("com.example.flutter_module:flutter_release:<span class="hljs-number">1.0</span>")   
<span class="hljs-built_in">add</span>("profileImplementation", "com.example.flutter_module:flutter_profile:<span class="hljs-number">1.0</span>") 
}
</code></pre>
<h4 data-id="heading-16">4. æ·»åŠ <code>profile</code> build type(app/build.gradle)</h4>
<p>åœ¨<strong>buildTypes</strong>ä¸­æ·»åŠ </p>
<h5 data-id="heading-17">groovyç‰ˆ</h5>
<pre><code class="hljs language-lua" lang="lua">profile {
    initWith <span class="hljs-built_in">debug</span>
}
</code></pre>
<h5 data-id="heading-18">Kotlin DSL</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">create</span>(<span class="hljs-params"><span class="hljs-string">"profile"</span></span>) { <span class="hljs-title function_">initWith</span>(<span class="hljs-title function_">getByName</span>(<span class="hljs-string">"debug"</span>)) }
</code></pre>
<hr/>
<h3 data-id="heading-19">å››ã€Android å¯åŠ¨ Flutter é¡µé¢</h3>
<h4 data-id="heading-20">1.åœ¨ AndroidManifest.xml ä¸­æ·»åŠ  FlutterActivity</h4>
<p>Flutter æä¾›äº†Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.flutter-io.cn%2Fjavadoc%2Fio%2Fflutter%2Fembedding%2Fandroid%2FFlutterActivity.html" target="_blank" title="https://api.flutter-io.cn/javadoc/io/flutter/embedding/android/FlutterActivity.html" ref="nofollow noopener noreferrer"><code>FlutterActivity</code></a>ï¼Œç”¨äºåœ¨ Android åº”ç”¨å†…éƒ¨å±•ç¤ºä¸€ä¸ª Flutter çš„äº¤äº’ç•Œé¢ã€‚å’Œå…¶ä»–çš„Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.google.cn%2Freference%2Fandroid%2Fapp%2FActivity" target="_blank" title="https://developer.android.google.cn/reference/android/app/Activity" ref="nofollow noopener noreferrer"><code>Activity</code></a>Â ä¸€æ ·ï¼Œ<code>FlutterActivity</code>Â å¿…é¡»åœ¨é¡¹ç›®çš„Â <code>AndroidManifest.xml</code>Â æ–‡ä»¶ä¸­æ³¨å†Œã€‚å°†ä¸‹è¾¹çš„ XML ä»£ç æ·»åŠ åˆ°ä½ çš„Â <code>AndroidManifest.xml</code>Â æ–‡ä»¶ä¸­çš„Â <code>application</code>Â æ ‡ç­¾å†…</p>
<pre><code class="hljs language-ini" lang="ini">&lt;activity
  android:<span class="hljs-attr">name</span>=<span class="hljs-string">"io.flutter.embedding.android.FlutterActivity"</span>
  android:<span class="hljs-attr">theme</span>=<span class="hljs-string">"@style/LaunchTheme"</span>   android:configChanges=<span class="hljs-string">"orientation|keyboardHidden|keyboard|screenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode"</span>
  android:<span class="hljs-attr">hardwareAccelerated</span>=<span class="hljs-string">"true"</span>
  android:<span class="hljs-attr">windowSoftInputMode</span>=<span class="hljs-string">"adjustResize"</span>
  /&gt;
</code></pre>
<hr/>
<h4 data-id="heading-21">2. åŠ è½½ FlutterActivity</h4>
<p>ç¡®ä¿ä½¿ç”¨å¦‚ä¸‹çš„è¯­å¥å¯¼å…¥ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">import</span> io.flutter.embedding.android.FlutterActivity;
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin">MyButton(onClick = {
    startActivity(
        FlutterActivity.createDefaultIntent(<span class="hljs-keyword">this</span>)
    )
})

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">MyButton</span><span class="hljs-params">(onClick: () -&gt; <span class="hljs-type">Unit</span>)</span></span> {
    Button(onClick = onClick) {
        Text(<span class="hljs-string">"Launch Flutter!"</span>)
    }
}
</code></pre>
<p>ä¸Šè¿°çš„ä¾‹å­å‡å®šäº†ä½ çš„ Dart ä»£ç å…¥å£æ˜¯è°ƒç”¨Â <code>main()</code>ï¼Œå¹¶ä¸”ä½ çš„ Flutter åˆå§‹è·¯ç”±æ˜¯ '/'ã€‚ Dart ä»£ç å…¥å£ä¸èƒ½é€šè¿‡Â <code>Intent</code>Â æ”¹å˜ï¼Œä½†æ˜¯åˆå§‹è·¯ç”±å¯ä»¥é€šè¿‡Â <code>Intent</code>Â æ¥ä¿®æ”¹ã€‚ä¸‹é¢çš„ä¾‹å­è®²è§£äº†å¦‚ä½•æ‰“å¼€ä¸€ä¸ªè‡ªå®šä¹‰ Flutter åˆå§‹è·¯ç”±çš„Â <code>FlutterActivity</code>ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">MyButton(onClick = {
  startActivity(
    FlutterActivity
      .withNewEngine()
      .initialRoute(<span class="hljs-string">"/my_route"</span>)
      .build(<span class="hljs-keyword">this</span>)
  )
})

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">MyButton</span><span class="hljs-params">(onClick: () -&gt; <span class="hljs-type">Unit</span>)</span></span> {
    Button(onClick = onClick) {
        Text(<span class="hljs-string">"Launch Flutter!"</span>)
    }
}
</code></pre>
<hr/>
<h4 data-id="heading-22">3. ä½¿ç”¨ç¼“å­˜ Engineï¼ˆæ¨èï¼‰</h4>
<p>æ¯ä¸€ä¸ªÂ <code>FlutterActivity</code>Â é»˜è®¤ä¼šåˆ›å»ºå®ƒè‡ªå·±çš„Â <code>FlutterEngine</code>ã€‚æ¯ä¸€ä¸ªÂ <code>FlutterEngine</code>Â ä¼šæœ‰ä¸€ä¸ªæ˜æ˜¾çš„é¢„çƒ­æ—¶é—´ã€‚è¿™æ„å‘³ç€åŠ è½½ä¸€ä¸ªæ ‡å‡†çš„Â <code>FlutterActivity</code>Â æ—¶ï¼Œåœ¨ä½ çš„ Flutter äº¤äº’é¡µé¢å¯è§ä¹‹å‰ä¼šæœ‰ä¸€ä¸ªçŸ­æš‚çš„å»¶è¿Ÿã€‚æƒ³è¦æœ€å°åŒ–è¿™ä¸ªå»¶è¿Ÿæ—¶é—´ï¼Œä½ å¯ä»¥åœ¨æŠµè¾¾ä½ çš„Â <code>FlutterActivity</code>Â ä¹‹å‰ï¼Œåˆå§‹åŒ–ä¸€ä¸ªÂ <code>FlutterEngine</code>ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªå·²ç»é¢„çƒ­å¥½çš„Â <code>FlutterEngine</code>ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApplication</span> : <span class="hljs-type">Application</span>() {
  <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> flutterEngine : FlutterEngine

  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">super</span>.onCreate()

    <span class="hljs-comment">// Instantiate a FlutterEngine.</span>
    flutterEngine = FlutterEngine(<span class="hljs-keyword">this</span>)

    <span class="hljs-comment">// Start executing Dart code to pre-warm the FlutterEngine.</span>
    flutterEngine.dartExecutor.executeDartEntrypoint(
      DartExecutor.DartEntrypoint.createDefault()
    )

    <span class="hljs-comment">// Cache the FlutterEngine to be used by FlutterActivity.</span>
    FlutterEngineCache
      .getInstance()
      .put(<span class="hljs-string">"my_engine_id"</span>, flutterEngine)
  }
}
</code></pre>
<h5 data-id="heading-23">ä½¿ç”¨</h5>
<pre><code class="hljs language-kotlin" lang="kotlin">myButton.setOnClickListener {
  startActivity(
    FlutterActivity
      .withCachedEngine(<span class="hljs-string">"my_engine_id"</span>)
      .build(<span class="hljs-keyword">this</span>)
  )
}
</code></pre>
<h5 data-id="heading-24">ä¸ºç¼“å­˜çš„ FlutterEngine è®¾ç½®åˆå§‹è·¯ç”±</h5>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyApplication</span> : <span class="hljs-type">Application</span>() {
  <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> flutterEngine : FlutterEngine
  <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">super</span>.onCreate()
    <span class="hljs-comment">// Instantiate a FlutterEngine.</span>
    flutterEngine = FlutterEngine(<span class="hljs-keyword">this</span>)
    <span class="hljs-comment">// Configure an initial route.</span>
    flutterEngine.navigationChannel.setInitialRoute(<span class="hljs-string">"your/route/here"</span>);
    <span class="hljs-comment">// Start executing Dart code to pre-warm the FlutterEngine.</span>
    flutterEngine.dartExecutor.executeDartEntrypoint(
      DartExecutor.DartEntrypoint.createDefault()
    )
    <span class="hljs-comment">// Cache the FlutterEngine to be used by FlutterActivity or FlutterFragment.</span>
    FlutterEngineCache
      .getInstance()
      .put(<span class="hljs-string">"my_engine_id"</span>, flutterEngine)
  }
}
</code></pre>
<h6 data-id="heading-25">é€šè¿‡è®¾ç½®è·¯ç”±çš„æ–¹å¼å¯ä»¥é…ç½®ç¼“å­˜å¼•æ“åœ¨æ‰§è¡Œ Dart å…¥å£ç‚¹ä¹‹å‰ä½¿ç”¨è‡ªå®šä¹‰åˆå§‹è·¯ç”±</h6>
<hr/>
<h3 data-id="heading-26">äº”ã€Flutter ä¸ Android é€šä¿¡</h3>
<h4 data-id="heading-27">MethodChannelæ–¹å¼</h4>
<h4 data-id="heading-28">Flutter</h4>
<p>æ·»åŠ åˆ°åˆé€‚çš„åœ°æ–¹</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> methodChannel = MethodChannel(<span class="hljs-string">'com.bluetoothCharacteristic'</span>);
methodChannel.setMethodCallHandler(_handleMethod);
Future&lt;<span class="hljs-built_in">dynamic</span>&gt; _handleMethod(MethodCall call) <span class="hljs-keyword">async</span> {
  <span class="hljs-keyword">switch</span> (call.method) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'bluetoothCharacteristic'</span>:
      <span class="hljs-comment">// è®¾ç½®è®¾å¤‡å†™å…¥ç‰¹å¾</span>
      _device.setWriteCharacteristic(
        call.arguments <span class="hljs-keyword">as</span> BluetoothCharacteristic,
      );
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">default</span>:
      <span class="hljs-keyword">throw</span> PlatformException(code: <span class="hljs-string">'Unrecognized Method'</span>);
  }
}
</code></pre>
<hr/>
<h4 data-id="heading-29">Android</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">
<span class="hljs-keyword">private</span> <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> methodChannel: MethodChannel
methodChannel = MethodChannel(
    flutterEngine.dartExecutor.binaryMessenger,
    <span class="hljs-string">"com.bluetoothCharacteristic"</span>
)
</code></pre>
<h5 data-id="heading-30">ä½¿ç”¨</h5>
<pre><code class="hljs language-ini" lang="ini">Button(
    <span class="hljs-attr">onClick</span> = {
        val <span class="hljs-attr">intent</span> = FlutterActivity
            .withCachedEngine("my_engine_id")
            .build(activity)
        methodChannel.invokeMethod(
            "bluetoothCharacteristic",
            "00002a37-0000-1000-8000-00805f9b34fb"
        )<span class="hljs-comment">;</span>
        activity.startActivity(intent)
    },
    <span class="hljs-attr">modifier</span> = Modifier.padding(<span class="hljs-number">16</span>.dp)
) {
    Text("è·³è½¬åˆ°flutteré¡µé¢")
}
</code></pre>
<p>MethodChannel ä¸­çš„ <code>com.bluetoothCharacteristic</code> å’ŒmethodChannel.invokeMethodä¸­çš„<code>bluetoothCharacterstic</code>å¿…é¡»å’Œ Flutter ä¸­ä¿æŒä¸€è‡´ï¼Œå¦åˆ™æ¥æ”¶ä¸åˆ°æ•°æ®ã€‚</p>
<h4 data-id="heading-31">EventChannelæ–¹å¼</h4>
<p>EventChannelçš„ä½¿ç”¨æ–¹å¼å¤§è‡´å’ŒMethodChannelç›¸åŒï¼Œæˆ‘è¿™é‡Œå°±æŠŠä¸»è¦ä»£ç å¤åˆ¶ä¸‹æ¥äº†ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> : <span class="hljs-type">ComponentActivity</span>() {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> flutterEngine: FlutterEngine
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> eventChannel: EventChannel
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> eventDataSink: EventChannel.EventSink? = <span class="hljs-literal">null</span>
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        enableEdgeToEdge()
        <span class="hljs-comment">// åˆ›å»º FlutterEngine</span>
        flutterEngine = FlutterEngine(<span class="hljs-keyword">this</span>)
        <span class="hljs-comment">//è®¾ç½®åˆå§‹è·¯ç”±</span>
        flutterEngine.navigationChannel.setInitialRoute(<span class="hljs-string">"/settings"</span>)
        <span class="hljs-comment">// å¯åŠ¨ Flutter å¼•æ“</span>
        flutterEngine.dartExecutor.executeDartEntrypoint(
            DartExecutor.DartEntrypoint.createDefault()
        )
        <span class="hljs-comment">// è®¾ç½® EventChannel ç”¨äºå®æ—¶æ•°æ®ä¼ è¾“</span>
        eventChannel = EventChannel(flutterEngine.dartExecutor, <span class="hljs-string">"com.example.flutter_aar_demo/event_channel"</span>)
        eventChannel.setStreamHandler(<span class="hljs-keyword">object</span> : EventChannel.StreamHandler {
            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onListen</span><span class="hljs-params">(arguments: <span class="hljs-type">Any</span>?, events: <span class="hljs-type">EventChannel</span>.<span class="hljs-type">EventSink</span>?)</span></span> {
                eventDataSink = events
                startRealTimeDataTransmission()
            }
            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCancel</span><span class="hljs-params">(arguments: <span class="hljs-type">Any</span>?)</span></span> {
                eventDataSink = <span class="hljs-literal">null</span>
            }
        })
        <span class="hljs-comment">// ç¼“å­˜ FlutterEngine</span>
        FlutterEngineCache.getInstance().put(<span class="hljs-string">"my_engine_id"</span>, flutterEngine)
    }
</code></pre>
<hr/>
<p>æˆ‘è¿™é‡Œçš„å®‰å“ä½¿ç”¨çš„æ˜¯groovyçš„åˆ›å»ºæ–¹å¼Kotlin DSLçš„æ–¹å¼æ˜¯æˆ‘ç›´æ¥ä»å®˜ç½‘å¤åˆ¶çš„ä»£ç å¯èƒ½æœ‰ä¸æ­£ç¡®çš„åœ°æ–¹å…·ä½“è¯·æŸ¥çœ‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.flutter.cn%2Fadd-to-app%2Fandroid%2Fproject-setup" target="_blank" title="https://docs.flutter.cn/add-to-app/android/project-setup" ref="nofollow noopener noreferrer">å°† Flutter module é›†æˆåˆ° Android é¡¹ç›®</a>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[â€œå—æ§ç»„ä»¶â€çš„è¯…å’’ï¼šä¸ºä»€ä¹ˆä½ éœ€è¦ React Hook Form + Zod æ¥æ‹¯æ•‘ä½ çš„é”®ç›˜ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582997593090506771</link>    <guid>https://juejin.cn/post/7582997593090506771</guid>    <pubDate>2025-12-14T09:46:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582997593090506771" data-draft-id="7581025279645843494" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="â€œå—æ§ç»„ä»¶â€çš„è¯…å’’ï¼šä¸ºä»€ä¹ˆä½ éœ€è¦ React Hook Form + Zod æ¥æ‹¯æ•‘ä½ çš„é”®ç›˜ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,React.js"/> <meta itemprop="datePublished" content="2025-12-14T09:46:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§å¸ƒå¸ƒå°†å†›"/> <meta itemprop="url" content="https://juejin.cn/user/1535361573994189"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            â€œå—æ§ç»„ä»¶â€çš„è¯…å’’ï¼šä¸ºä»€ä¹ˆä½ éœ€è¦ React Hook Form + Zod æ¥æ‹¯æ•‘ä½ çš„é”®ç›˜ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1535361573994189/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§å¸ƒå¸ƒå°†å†›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T09:46:35.000Z" title="Sun Dec 14 2025 09:46:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€ï¼šä½ çš„æ‰‹æŒ‡ç´¯å—ï¼Ÿ</h2>
<p>ä¸Šä¸€ç¯‡å’±ä»¬èŠäº†æŠŠ Tabs çŠ¶æ€æ”¾è¿› URL é‡Œï¼Œè¿™å°±å¥½æ¯”ç»™äº†ä½ çš„åº”ç”¨ä¸€ä¸ªâ€œèº«ä»½è¯â€ï¼Œèµ°åˆ°å“ªéƒ½åœ¨ã€‚</p>
<p>ä½†åœ¨è¿™ä¸ª Tab ä¸‹é¢ï¼Œå¾€å¾€è—ç€å‰ç«¯å¼€å‘æœ€å¤§çš„å™©æ¢¦â€”â€”<strong>è¡¨å•</strong>ã€‚</p>
<p>ä½ æ˜¯ä¸æ˜¯è¿˜åœ¨è¿™ä¹ˆå†™ä»£ç ï¼Ÿ
ä¸€ä¸ªç®€å•çš„æ³¨å†Œé¡µï¼Œä½ å®šä¹‰äº† <code>username</code>, <code>password</code>, <code>email</code>, <code>confirmPassword</code> å››ä¸ª <code>useState</code>ã€‚
ç„¶åå†™äº†å››ä¸ª <code>handleXxxChange</code> å‡½æ•°ã€‚
æ¯æ¬¡ç”¨æˆ·æ•²ä¸€ä¸ªé”®ç›˜ï¼ŒReact å°±é‡æ–°æ¸²æŸ“ä¸€æ¬¡ç»„ä»¶ï¼ˆRe-renderï¼‰ã€‚
å¦‚æœè¡¨å•æœ‰ 50 é¡¹ï¼Œä½ åœ¨ç¬¬ä¸€ä¸ªè¾“å…¥æ¡†æ‰“å­—ï¼Œæ•´ä¸ªé¡µé¢å¡å¾—åƒæ˜¯åœ¨æ”¾ PPTã€‚</p>
<p>è¿˜æœ‰é‚£ä¸ªè¯¥æ­»çš„æ ¡éªŒé€»è¾‘ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (!email.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'@'</span>)) { ... }
<span class="hljs-keyword">if</span> (password.<span class="hljs-property">length</span> &lt; <span class="hljs-number">8</span>) { ... }
<span class="hljs-keyword">if</span> (password !== confirmPassword) { ... }
</code></pre>
<p>è¿™äº› <code>if-else</code> åƒé¢æ¡ä¸€æ ·ç¼ ç»•åœ¨ä½ çš„ç»„ä»¶é‡Œã€‚å†™åˆ°æœ€åï¼Œä½ éƒ½ä¸çŸ¥é“è‡ªå·±æ˜¯åœ¨å†™ UI è¿˜æ˜¯åœ¨å†™é€»è¾‘åˆ¤æ–­ã€‚</p>
<p>å…„å¼Ÿï¼Œæ”¾ä¸‹ä½ æ‰‹é‡Œçš„ <code>useState</code>ã€‚æ˜¯æ—¶å€™å¼•å…¥ <strong>React Hook Form</strong> å’Œ <strong>Zod</strong> è¿™å¯¹â€œé»„é‡‘æ­æ¡£â€äº†ã€‚</p>
<h2 data-id="heading-1">è§‚å¿µé‡å¡‘ï¼šå—æ§ vs éå—æ§</h2>
<p>React å®˜æ–¹æ–‡æ¡£æ—©æœŸæ•™æˆ‘ä»¬è¦ç”¨â€œå—æ§ç»„ä»¶â€ï¼ˆControlled Componentsï¼‰ï¼Œä¹Ÿå°±æ˜¯ <code>value</code> ç»‘å®š stateï¼Œ<code>onChange</code> æ›´æ–° stateã€‚</p>
<p>ä½†è¿™åœ¨å¤æ‚è¡¨å•åœºæ™¯ä¸‹ï¼Œç®€ç›´æ˜¯<strong>æ€§èƒ½æ€æ‰‹</strong>ã€‚</p>
<p><strong>React Hook Form (RHF)</strong> çš„æ ¸å¿ƒå“²å­¦æ˜¯å›å½’ HTML çš„æœ¬è´¨ï¼š<strong>éå—æ§ç»„ä»¶ï¼ˆUncontrolled Componentsï¼‰</strong> ã€‚ å®ƒåˆ©ç”¨ <code>ref</code> ç›´æ¥æ¥ç®¡åŸç”Ÿ DOM å…ƒç´ ã€‚</p>
<ul>
<li>ä½ æ‰“å­—æ—¶ï¼ŒReact <strong>ä¸</strong> æ¸²æŸ“ã€‚</li>
<li>åªæœ‰æ ¡éªŒæŠ¥é”™æˆ–æäº¤æ—¶ï¼ŒReact æ‰ä»‹å…¥ã€‚</li>
</ul>
<p>è¿™å°±å¥½æ¯”ï¼Œä»¥å‰ä½ æ˜¯å‚€å„¡å¸ˆï¼Œæ‰‹è¦æŠŠç€æ¯ä¸€ä¸ªæœ¨å¶çš„å…³èŠ‚åŠ¨ï¼ˆå—æ§ï¼‰ï¼›ç°åœ¨ä½ ç»™äº†æœ¨å¶ä¸€ä¸ªæŒ‡ä»¤â€œå¾€å‰èµ°â€ï¼ˆéå—æ§ï¼‰ï¼Œå®ƒè‡ªå·±å°±èµ°äº†ï¼Œä½ åªç®¡ç»ˆç‚¹ã€‚</p>
<h2 data-id="heading-2">å®æˆ˜æ¼”ç»ƒï¼šä» 50 è¡Œä»£ç ç¼©å‡åˆ° 10 è¡Œ</h2>
<p>å‡è®¾æˆ‘ä»¬è¦å†™ä¸€ä¸ªå¸¦æœ‰æ ¡éªŒçš„ç”¨æˆ·è¡¨å•ã€‚</p>
<h3 data-id="heading-3">âŒ ç—›è‹¦çš„ä¼ ç»Ÿå†™æ³•ï¼ˆuseStateï¼‰ï¼š</h3>
<pre><code class="hljs language-const" lang="const">  const [values, setValues] = useState({ name: '', age: 0 });
  const [errors, setErrors] = useState({});

  const handleChange = (e) =&gt; {
    // 1. æ›´æ–°çŠ¶æ€ï¼ˆè§¦å‘é‡æ¸²æŸ“ï¼‰
    setValues({ ...values, [e.target.name]: e.target.value });
    // 2. è¿˜è¦åœ¨è¿™é‡Œæ‰‹å†™æ ¡éªŒé€»è¾‘ï¼Œæˆ–è€…ç­‰æäº¤æ—¶æ ¡éªŒ
    // ...é€»è¾‘çœç•¥ï¼Œå·²ç»æƒ³åäº†
  };

  return (
    &lt;form&gt;
      &lt;input name="name" value={values.name} onChange={handleChange} /&gt;
      &lt;input name="age" value={values.age} onChange={handleChange} /&gt;
    &lt;/form&gt;
  );
};
</code></pre>
<h3 data-id="heading-4">âœ… çˆ½ç¿»å¤©çš„ RHF å†™æ³•ï¼š</h3>
<pre><code class="hljs language-import" lang="import">
const BetterForm = () =&gt; {
  // register: æ³¨å†Œå™¨ï¼Œç›¸å½“äº ref + onChange çš„è¯­æ³•ç³–
  // handleSubmit: å¸®ä½ å¤„ç† `e.preventDefault` å’Œæ•°æ®æ”¶é›†
  // formState: æ‰€æœ‰çš„é”™è¯¯çŠ¶æ€éƒ½åœ¨è¿™
  const { register, handleSubmit, formState: { errors } } = useForm();

  const onSubmit = (data) =&gt; console.log(data); // data ç›´æ¥å°±æ˜¯ {name:..., age:...}

  return (
    &lt;form onSubmit={handleSubmit(onSubmit)}&gt;
      {/* ä¹Ÿå°±æ˜¯ä¸€å¥è¯çš„äº‹ */}
      &lt;input {...register("name", { required: true })} /&gt;
      {errors.name &amp;&amp; &lt;span&gt;åå­—å¿…å¡«&lt;/span&gt;}
      
      &lt;input {...register("age")} /&gt;
      
      &lt;button type="submit"&gt;æäº¤&lt;/button&gt;
    &lt;/form&gt;
  );
};
</code></pre>
<p>çœ‹åˆ°æ²¡æœ‰ï¼Ÿæ²¡æœ‰ <code>useState</code>ï¼Œæ²¡æœ‰ <code>handleChange</code>ã€‚ <code>register</code> å‡½æ•°ç»™ä½ çš„ Input æ³¨å…¥äº†åŸæœ¬éœ€è¦æ‰‹å†™çš„ <code>name</code>, <code>onBlur</code>, <code>onChange</code>, <code>ref</code>ã€‚ä¸€åˆ‡éƒ½åœ¨é»‘ç›’é‡Œè‡ªåŠ¨å®Œæˆäº†ã€‚</p>
<h2 data-id="heading-5">çµé­‚ä¼´ä¾£ï¼šZod ç™»åœº</h2>
<p>RHF è§£å†³äº†æ•°æ®æ”¶é›†å’Œæ€§èƒ½é—®é¢˜ï¼Œä½†æ ¡éªŒè§„åˆ™å¦‚æœå†™åœ¨ JSX é‡Œï¼ˆæ¯”å¦‚ <code>{ required: true, minLength: 10 }</code>ï¼‰ï¼Œè¿˜æ˜¯å¾ˆä¹±ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œä½ éœ€è¦ <strong>Zod</strong>ã€‚ Zod æ˜¯ä¸€ä¸ª TypeScript ä¼˜å…ˆçš„ Schema å£°æ˜åº“ã€‚ç®€å•è¯´ï¼Œå°±æ˜¯<strong>æŠŠæ ¡éªŒé€»è¾‘ä» UI é‡ŒæŠ½ç¦»å‡ºæ¥ï¼Œå˜æˆä¸€ä»½â€œè¯´æ˜ä¹¦â€</strong> ã€‚</p>
<h3 data-id="heading-6">1. å®šä¹‰è¯´æ˜ä¹¦ (Schema)</h3>
<pre><code class="hljs language-import" lang="import">
const schema = z.object({
  username: z.string().min(2, "åå­—å¤ªçŸ­äº†ï¼Œå†é•¿ç‚¹"),
  email: z.string().email("è¿™æ ¹æœ¬ä¸æ˜¯é‚®ç®±"),
  age: z.number().min(18, "æœªæˆå¹´äººè¯·ç»•é“").max(100),
  // ç”šè‡³å¯ä»¥åšå¤æ‚çš„ä¾èµ–æ ¡éªŒ
  password: z.string().min(6),
  confirm: z.string()
}).refine((data) =&gt; data.password === data.confirm, {
  message: "ä¸¤æ¬¡å¯†ç ä¸å¯¹å•Šå…„å¼Ÿ",
  path: ["confirm"], // é”™è¯¯æ˜¾ç¤ºåœ¨ confirm å­—æ®µä¸‹
});
</code></pre>
<h3 data-id="heading-7">2. è¿æ¥ RHF å’Œ Zod</h3>
<p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªâ€œä¸­é—´äººâ€ï¼š<code>@hookform/resolvers</code>ã€‚</p>
<pre><code class="hljs language-import" lang="import">import { zodResolver } from '@hookform/resolvers/zod';

const BestForm = () =&gt; {
  const { 
    register, 
    handleSubmit, 
    formState: { errors, isDirty } // isDirty å¾ˆæœ‰ç”¨ï¼
  } = useForm({
    resolver: zodResolver(schema) // âœ¨ æ³¨å…¥çµé­‚
  });

  return (
    &lt;form onSubmit={handleSubmit(saveData)}&gt;
      &lt;input {...register("username")} /&gt;
      &lt;p className="text-red-500"&gt;{errors.username?.message}&lt;/p&gt;
      
      {/* ...å…¶ä»–å­—æ®µ... */}
      
      &lt;button type="submit"&gt;æäº¤&lt;/button&gt;
    &lt;/form&gt;
  );
};
</code></pre>
<p>ç°åœ¨ï¼Œä½ çš„ JSX æå…¶å¹²å‡€ã€‚æ‰€æœ‰çš„æ ¡éªŒé€»è¾‘éƒ½åœ¨ <code>schema</code> å¯¹è±¡é‡Œã€‚æƒ³æ”¹è§„åˆ™ï¼Ÿå»æ”¹ <code>schema</code> å°±è¡Œï¼Œä¸ç”¨åŠ¨ç»„ä»¶ã€‚</p>
<h2 data-id="heading-8">å›åº”å¼€å¤´ï¼šé˜²æ­¢â€œæ‰‹æ»‘å…³ç½‘é¡µâ€</h2>
<p>è¿˜è®°å¾—å‰è¨€é‡Œè¯´çš„é‚£ä¸ªæ‚²å‰§å—ï¼Ÿç”¨æˆ·å¡«äº†ä¸€åŠï¼Œæ‰‹æ»‘å…³äº† Tabã€‚</p>
<p>RHF æä¾›äº†ä¸€ä¸ªç¥å±æ€§ï¼š<code>isDirty</code>ï¼ˆè¡¨å•æ˜¯å¦è¢«å¼„è„äº†/æ˜¯å¦è¢«ä¿®æ”¹è¿‡ï¼‰ã€‚</p>
<p>é…åˆ React Router çš„ <code>useBlocker</code> (v6.x) æˆ–è€…ä¼ ç»Ÿçš„ <code>window.onbeforeunload</code>ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾å®ç°<strong>æ‹¦æˆª</strong>ã€‚</p>
<pre><code class="hljs language-import" lang="import">
// ä¸€ä¸ªç®€å•çš„æ‹¦æˆª Hook
const usePreventLeave = (isDirty) =&gt; {
  useEffect(() =&gt; {
    const handleBeforeUnload = (e) =&gt; {
      if (isDirty) {
        e.preventDefault();
        // ç°ä»£æµè§ˆå™¨é€šå¸¸ä¸æ”¯æŒè‡ªå®šä¹‰æ–‡æœ¬ï¼Œä½†è¿™ä¼šè§¦å‘æµè§ˆå™¨çš„é»˜è®¤å¼¹çª—
        e.returnValue = ''; 
      }
    };
    
    window.addEventListener('beforeunload', handleBeforeUnload);
    return () =&gt; window.removeEventListener('beforeunload', handleBeforeUnload);
  }, [isDirty]);
};

// åœ¨ç»„ä»¶é‡Œä½¿ç”¨
const MyForm = () =&gt; {
  const { formState: { isDirty } } = useForm();
  
  // åªè¦ç”¨æˆ·æ”¹äº†ä¸€ä¸ªå­—ï¼ŒisDirty å°±å˜æˆ trueï¼Œé˜²å®ˆæ¨¡å¼å¼€å¯
  usePreventLeave(isDirty); 
  
  return &lt;form&gt;...&lt;/form&gt;;
}
</code></pre>
<p>ç°åœ¨ï¼Œåªè¦ç”¨æˆ·åŠ¨äº†è¡¨å•ï¼Œè¯•å›¾å…³é—­æˆ–åˆ·æ–°é¡µé¢æ—¶ï¼Œæµè§ˆå™¨å°±ä¼šå¼¹å‡ºä¸€ä¸ªæ— æƒ…çš„è­¦å‘Šæ¡†ï¼šâ€œæ‚¨æœ‰æœªä¿å­˜çš„æ›´æ”¹ï¼Œç¡®å®šè¦ç¦»å¼€å—ï¼Ÿâ€ã€‚ PM å†ä¹Ÿä¸ç”¨æ‹…å¿ƒç”¨æˆ·æŠ•è¯‰æ•°æ®ä¸¢äº†ã€‚</p>
<hr/>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p><strong>React Hook Form + Zod</strong> æ˜¯ç°ä»£ React å¼€å‘çš„â€œå·¥ä¸šæ ‡å‡†â€ã€‚</p>
<ul>
<li><strong>RHF</strong> è´Ÿè´£ DOM äº¤äº’å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œè®©ä½ çš„é¡µé¢ä¸æ»‘é¡ºç•…ã€‚</li>
<li><strong>Zod</strong> è´Ÿè´£æ•°æ®ç»“æ„å’Œé€»è¾‘æ ¡éªŒï¼Œä¿è¯ä½ çš„æ•°æ®å¹²å‡€å¯é ã€‚</li>
<li><strong>TypeScript</strong> è‡ªåŠ¨æ¨å¯¼ç±»å‹ï¼Œè®©ä½ å†™ä»£ç æœ‰è‡ªåŠ¨è¡¥å…¨ã€‚</li>
</ul>
<p>å½“ä½ ç†Ÿç»ƒæŒæ¡è¿™ä¸€å¥—ç»„åˆæ‹³ï¼Œä½ ä¼šå‘ç°å†™è¡¨å•ä¸å†æ˜¯æŠ˜ç£¨ï¼Œç”šè‡³æœ‰ä¸€ç§è§£å‹çš„å¿«æ„Ÿã€‚</p>
<p>å¥½äº†ï¼Œæˆ‘è¦å»æŠŠé‚£ä¸ªåµŒå¥—äº† 10 å±‚ <code>if-else</code> æ ¡éªŒçš„å±å±±ç»™é‡æ„äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3662da28f40c48eeae6e5e162a3b563b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5biD5biD5bCG5Yab:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766310395&amp;x-signature=LlziG%2FBDofYX4kiQrFmkAx29gss%3D" alt="438783fa67714fda959e8e52adb9245d.webp" loading="lazy"/></p>
<hr/>
<blockquote>
<p><strong>ä¸‹æœŸé¢„å‘Š</strong>ï¼šè¡¨å•æ•°æ®é‡å¦‚æœä¸æ­¢ 50 é¡¹ï¼Œè€Œæ˜¯ 10,000 é¡¹å‘¢ï¼Ÿ æ¯”å¦‚ä¸€ä¸ªè¶…é•¿çš„â€œç”¨æˆ·ç®¡ç†åˆ—è¡¨â€ï¼Œæˆ–è€…ä¸€ä¸ªå³æ—¶æ»šåŠ¨çš„â€œæ—¥å¿—ç›‘æ§å°â€ã€‚å¦‚æœä½ æŠŠè¿™ 10,000 ä¸ª <code>div</code> ç›´æ¥æ¸²æŸ“å‡ºæ¥ï¼Œæµè§ˆå™¨ä¼šç›´æ¥æ­»æœºã€‚ ä¸‹ä¸€ç¯‡ï¼Œæˆ‘ä»¬æ¥èŠèŠ <strong>â€œè™šæ‹Ÿæ»šåŠ¨ (Virtual Scrolling) æŠ€æœ¯â€</strong> ã€‚æ•™ä½ å¦‚ä½•ç”¨ <code>react-window</code> æ¬ºéª—ç”¨æˆ·çš„çœ¼ç›ï¼Œè®©æ— é™åˆ—è¡¨åƒå¾·èŠ™ä¸€æ ·çºµäº«ä¸æ»‘ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¢ç´¢ Kotlin çš„ä¸å¯å˜é›†åˆåº“]]></title>    <link>https://juejin.cn/post/7583225356904972328</link>    <guid>https://juejin.cn/post/7583225356904972328</guid>    <pubDate>2025-12-14T09:41:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583225356904972328" data-draft-id="7583168260797268008" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¢ç´¢ Kotlin çš„ä¸å¯å˜é›†åˆåº“"/> <meta itemprop="keywords" content="Kotlin,Android Jetpack"/> <meta itemprop="datePublished" content="2025-12-14T09:41:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å–œç†Šçš„Btm"/> <meta itemprop="url" content="https://juejin.cn/user/2933927254689597"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¢ç´¢ Kotlin çš„ä¸å¯å˜é›†åˆåº“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2933927254689597/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å–œç†Šçš„Btm
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T09:41:57.000Z" title="Sun Dec 14 2025 09:41:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¢ç´¢ Kotlin çš„ä¸å¯å˜é›†åˆåº“</h2>
<p>Kotlin çš„æ ‡å‡†é›†åˆï¼ˆList, Set, Mapï¼‰é»˜è®¤æ˜¯å¯å˜çš„ï¼Œè¿™å¯èƒ½å¯¼è‡´æœªé¢„æœŸçš„ä¿®æ”¹ã€‚ä¸ºäº†åœ¨ API å±‚å¼ºåˆ¶å®ç°ä¸å¯å˜æ€§ï¼ŒJetBrains å¼•å…¥äº† Kotlin ä¸å¯å˜é›†åˆåº“ ã€‚è¯¥åº“æä¾›äº†ä¸€ç»„çœŸæ­£ä¸å¯å˜çš„é›†åˆç±»å‹ï¼Œå¯ä»¥é˜²æ­¢æ„å¤–ä¿®æ”¹ï¼Œå¹¶å¢å¼ºåœ¨å¹¶å‘æˆ–å¤šçº¿ç¨‹ç¯å¢ƒä¸­çš„å®‰å…¨æ€§ã€‚</p>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆä½¿ç”¨ä¸å¯å˜é›†åˆï¼Ÿ</h3>
<p>è™½ç„¶ Kotlin å·²ç»æä¾›äº† listOf()ã€setOf() å’Œ mapOf() ç”¨äºåªè¯»é›†åˆï¼Œä½†å®ƒä»¬å¹¶éçœŸæ­£ä¸å¯å˜ ã€‚å¦‚æœè¿™äº›é›†åˆåœ¨å…¶ä»–åœ°æ–¹è¢«å¼•ç”¨ï¼Œå…¶åº•å±‚é›†åˆä»å¯èƒ½è¢«ä¿®æ”¹ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> list = mutableListOf(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
<span class="hljs-keyword">val</span> readOnlyList: List&lt;String&gt; = list  
list.add(<span class="hljs-string">"D"</span>)  <span class="hljs-comment">// ä¿®æ”¹åŸå§‹åˆ—è¡¨  </span>
println(readOnlyList) <span class="hljs-comment">// è¾“å‡º: [A, B, C, D]  </span>

(readOnlyList <span class="hljs-keyword">as</span> MutableList).add(<span class="hljs-string">"E"</span>)
println(readOnlyList) <span class="hljs-comment">// è¾“å‡º: [A, B, C, D, E]</span>
</code></pre>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒImmutable Collections åº“ æä¾›äº†åœ¨è¿è¡Œæ—¶ä¿è¯ä¸å¯å˜æ€§çš„é›†åˆã€‚</p>
<h3 data-id="heading-2">å…³é”®ç‰¹æ€§</h3>
<ol>
<li>çœŸæ­£ä¸å¯å˜ â€”â€” ä¸€æ—¦åˆ›å»ºï¼Œå°±æ— æ³•è¢«ä¿®æ”¹ã€‚</li>
<li>å¤šçº¿ç¨‹å®‰å…¨ â€”â€” é¿å…åœ¨å¹¶å‘ç¯å¢ƒä¸­å‡ºç°æ„å¤–çš„ä¿®æ”¹ã€‚</li>
<li>æ€§èƒ½ä¼˜åŒ– â€”â€” é€šè¿‡ç»“æ„å…±äº«æ¥é˜²æ­¢ä¸å¿…è¦çš„å¤åˆ¶ã€‚</li>
</ol>
<h3 data-id="heading-3">å¦‚ä½•ä½¿ç”¨ Kotlin ä¸å¯å˜é›†åˆ</h3>
<h4 data-id="heading-4">1. æ·»åŠ ä¾èµ–é¡¹</h4>
<p>é¦–å…ˆï¼Œåœ¨ä½ çš„ build.gradle.kts ä¸­åŒ…å« Immutable Collections ä¾èµ–é¡¹ï¼š</p>
<pre><code class="hljs language-java" lang="java">dependencies {
    implementation(<span class="hljs-string">"org.jetbrains.kotlinx:kotlinx-collections-immutable:0.4.0"</span>)
}
</code></pre>
<h4 data-id="heading-5">2. åˆ›å»ºä¸å¯å˜é›†åˆ</h4>
<p>è¯¥åº“æä¾›äº† persistentListOf()ã€persistentSetOf() å’Œ persistentMapOf() æ¥åˆ›å»ºä¸å¯å˜é›†åˆï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">import</span> kotlinx.collections.immutable.*

<span class="hljs-keyword">val</span> immutableList = persistentListOf(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>)
<span class="hljs-keyword">val</span> immutableSet = persistentSetOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)
<span class="hljs-keyword">val</span> immutableMap = persistentMapOf(<span class="hljs-string">"key1"</span> to <span class="hljs-number">100</span>, <span class="hljs-string">"key2"</span> to <span class="hljs-number">200</span>)
</code></pre>
<h4 data-id="heading-6">3. æ·»åŠ å’Œç§»é™¤å…ƒç´ </h4>
<p>ç”±äºè¿™äº›é›†åˆæ˜¯ä¸å¯å˜çš„ï¼Œä¿®æ”¹æ“ä½œè¿”å› ä¸€ä¸ªæ–°çš„ä¿®æ”¹åçš„å‰¯æœ¬ ï¼Œè€Œä¸æ˜¯æ›´æ”¹åŸå§‹é›†åˆï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> newList = immutableList.add(<span class="hljs-string">"D"</span>) <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªæ–°åˆ—è¡¨</span>
println(newList)  <span class="hljs-comment">// è¾“å‡º: [A, B, C, D]</span>

<span class="hljs-keyword">val</span> newMap = immutableMap.put(<span class="hljs-string">"key3"</span>, <span class="hljs-number">300</span>)
println(newMap)   <span class="hljs-comment">// è¾“å‡º: {key1=100, key2=200, key3=300}</span>
</code></pre>
<p>åŸå§‹çš„ immutableList å’Œ immutableMap ä¿æŒä¸å˜ï¼</p>
<h3 data-id="heading-7">æ€§èƒ½è€ƒè™‘</h3>
<p>ä¸æ™®é€šçš„ä¸å¯å˜é›†åˆï¼ˆä¿®æ”¹æ—¶éœ€è¦å®Œæ•´å¤åˆ¶ï¼‰ä¸åŒï¼Œ æŒä¹…é›†åˆä½¿ç”¨ç»“æ„å…±äº« ã€‚è¿™æ„å‘³ç€ä¿®æ”¹ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„é›†åˆï¼ŒåŒæ—¶å¤ç”¨åŸå§‹é›†åˆä¸­æœªæ”¹å˜çš„éƒ¨åˆ†ï¼Œä»è€Œæé«˜æ€§èƒ½å’Œå†…å­˜æ•ˆç‡ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå‘ä¸€ä¸ªæŒä¹…åŒ–åˆ—è¡¨æ·»åŠ ä¸€ä¸ªå…ƒç´ ä¸ä¼šåˆ›å»ºå®Œæ•´çš„å‰¯æœ¬ï¼Œè€Œæ˜¯é‡ç”¨å¤§éƒ¨åˆ†ç°æœ‰ç»“æ„ï¼š</p>
<pre><code class="hljs language-code" lang="code">Original:  [A, B, C]  
New List:  [A, B, C, D] (ä»…"D"æ˜¯æ–°åˆ†é…çš„)  
</code></pre>
<p>è¿™ä½¿å¾—ä¸å¯å˜é›†åˆå³ä½¿åœ¨å¤„ç†å¤§å‹æ•°æ®é›†æ—¶ä¹Ÿéå¸¸é«˜æ•ˆã€‚</p>
<h3 data-id="heading-8">Compose ä¸­çš„ä¼˜åŠ¿</h3>
<p>ä¸å¯å˜é›†åˆåœ¨ Jetpack Compose ä¸­ç‰¹åˆ«æœ‰ç”¨ï¼Œå› ä¸ºå®ƒä»¬ä¼˜åŒ–äº† çŠ¶æ€ç®¡ç†å’Œé‡ç»„ ã€‚åœ¨ Compose åº”ç”¨ç¨‹åºä¸­ï¼Œå®ƒä»¬çš„é‡è¦æ€§ä½“ç°åœ¨ä»¥ä¸‹æ–¹é¢ï¼š</p>
<h4 data-id="heading-9">1. é¿å…ä¸å¿…è¦çš„é‡ç»„</h4>
<ul>
<li>Compose ä¼šè·Ÿè¸ªçŠ¶æ€å˜åŒ–ä»¥å†³å®šä½•æ—¶é‡ç»„ UI å…ƒç´ ã€‚</li>
<li>å¯å˜åˆ—è¡¨ã€é›†åˆæˆ–æ˜ å°„å¯èƒ½ä¼šè§¦å‘ ä¸å¿…è¦çš„é‡ç»„ ï¼Œå³ä½¿æ•°æ®å¹¶æœªå‘ç”Ÿå˜åŒ–ã€‚</li>
<li>ä¸å¯å˜é›†åˆç¡®ä¿çŠ¶æ€ä¿æŒ ç¨³å®š ï¼Œé˜²æ­¢ä¸å¿…è¦çš„é‡æ–°ç»„åˆã€‚</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">MyListScreen</span><span class="hljs-params">(items: <span class="hljs-type">List</span>&lt;<span class="hljs-type">String</span>&gt;)</span></span> {
    LazyColumn {
        items(items) { item -&gt;
            Text(text = item)
        }
    }
}
</code></pre>
<p>å¦‚æœ items æ˜¯ä¸€ä¸ª å¯å˜åˆ—è¡¨ ï¼Œå³ä½¿é‡æ–°åˆ†é…ç›¸åŒçš„å€¼ ä¹Ÿä¼šè§¦å‘é‡ç»„ ã€‚ä½¿ç”¨ ä¸å¯å˜é›†åˆ å¦‚ PersistentList å¯ä»¥ç¡®ä¿ Compose èƒ½å¤Ÿè¯†åˆ«æ•°æ®æ˜¯å¦æœªå‘ç”Ÿå˜åŒ–ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> items = remember { persistentListOf(<span class="hljs-string">"A"</span>, <span class="hljs-string">"B"</span>, <span class="hljs-string">"C"</span>) }
MyListScreen(items)
</code></pre>
<h4 data-id="heading-10">2. çŠ¶æ€ç¨³å®šæ€§ä»¥æé«˜æ€§èƒ½</h4>
<ul>
<li>Compose é€šè¿‡è·³è¿‡é‡ç»„æ¥ä¼˜åŒ–æ¸²æŸ“ï¼Œå½“çŠ¶æ€å¯¹è±¡æ˜¯ ç¨³å®šçš„ æ—¶ã€‚</li>
<li>ä¸å¯å˜é›†åˆä½¿ç”¨ç»“æ„å…±äº« ï¼Œè¿™æ„å‘³ç€ä¿®æ”¹åªä¼šå½±å“æ”¹å˜çš„éƒ¨åˆ†ï¼Œè€Œå…¶ä½™éƒ¨åˆ†åˆ™è¢«å¤ç”¨ã€‚</li>
<li>è¿™åœ¨å¤§å‹åˆ—è¡¨æˆ–å¤æ‚çš„ UI å±‚æ¬¡ç»“æ„ä¸­èƒ½å¸¦æ¥æ›´å¥½çš„æ€§èƒ½ã€‚</li>
</ul>
<h4 data-id="heading-11">3. å¯é¢„æµ‹çš„ UI è¡Œä¸º</h4>
<ul>
<li>ç”±äºä¸å¯å˜é›†åˆåœ¨åˆ›å»ºåä¸èƒ½è¢«ä¿®æ”¹ ï¼Œå®ƒä»¬å¯ä»¥é˜²æ­¢æ„å¤–çš„å˜å¼‚ï¼Œä»è€Œé¿å…å¯¼è‡´ä¸å¯é¢„æµ‹çš„ UI æ›´æ–°ã€‚</li>
<li>è¿™åœ¨çŠ¶æ€é©±åŠ¨æ¶æ„ï¼ˆMVIã€Redux ç­‰ï¼‰ ä¸­å°¤å…¶æœ‰ç”¨ï¼Œç¡®ä¿åªæœ‰åœ¨å¿…è¦æ—¶æ‰æ›´æ–° UIã€‚</li>
</ul>
<h4 data-id="heading-12">4. çº¿ç¨‹å®‰å…¨</h4>
<ul>
<li>åœ¨ä½¿ç”¨åç¨‹ï¼ˆFlowsã€LiveData ç­‰ï¼‰ çš„ Compose åº”ç”¨ä¸­ï¼Œä¸å¯å˜é›†åˆå¯ä»¥é˜²æ­¢å¤šä¸ªçº¿ç¨‹æ›´æ–°çŠ¶æ€æ—¶å‡ºç°ç«æ€æ¡ä»¶ã€‚</li>
<li>å®ƒä»¬ç¡®ä¿åœ¨ ViewModelsã€ä»“åº“å’Œ UI ç»„ä»¶ä¹‹é—´å®‰å…¨åœ°ä¼ é€’æ•°æ®ã€‚</li>
</ul>
<h3 data-id="heading-13">ä½•æ—¶ä½¿ç”¨ä¸å¯å˜é›†åˆï¼Ÿ</h3>
<ul>
<li>âœ… å‡½æ•°å¼ç¼–ç¨‹ â€“ é¼“åŠ±ä½¿ç”¨ä¸å¯å˜æ€§ä»¥å®ç°æ›´å®‰å…¨çš„æ•°æ®è½¬æ¢ã€‚</li>
<li>âœ… çº¿ç¨‹å®‰å…¨ â€“ é˜²æ­¢åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å‡ºç°æ„å¤–çš„ä¿®æ”¹ã€‚</li>
<li>âœ… é˜²æ­¢é”™è¯¯ â€“ å‡å°‘ç”±äºæ„å¤–ä¿®æ”¹è€Œå¯¼è‡´çš„ä¸å¯é¢„è§çš„å‰¯ä½œç”¨ã€‚</li>
<li>âœ… çŠ¶æ€ç®¡ç† â€“ æœ‰åŠ©äºä¼˜åŒ–é‡ç»„å¹¶æå‡ UI æ€§èƒ½ã€‚</li>
</ul>
<h3 data-id="heading-14">ç»“è®º</h3>
<p>Kotlin çš„ä¸å¯å˜é›†åˆåº“æä¾›äº† çœŸæ­£ä¸å¯å˜ ã€ é«˜æ•ˆ ä¸” å®‰å…¨ çš„é›†åˆï¼Œä½¿å®ƒä»¬æˆä¸ºå‡½æ•°å¼ç¼–ç¨‹ã€å¹¶å‘åº”ç”¨å’Œ Jetpack Compose å¼€å‘çš„ç†æƒ³é€‰æ‹©ã€‚é€šè¿‡ä½¿ç”¨ æŒä¹…åŒ–é›†åˆ ï¼Œä½ å¯ä»¥ç¼–å†™æ›´å®‰å…¨ä¸”å¯é¢„æµ‹çš„ Kotlin ä»£ç ã€‚</p>
<h4 data-id="heading-15">åŸæ–‡é“¾æ¥</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcarrion.dev%2Fen%2Fposts%2Fimmutable-collections%2F" target="_blank" title="https://carrion.dev/en/posts/immutable-collections/" ref="nofollow noopener noreferrer">æ¢ç´¢ Kotlin çš„ä¸å¯å˜é›†åˆåº“</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIå·¥å…·é€‰æ‹©å›°éš¾ç—‡ï¼ŸSpring AIå¸®ä½ çœæ‰64%çš„ä»¤ç‰Œè´¹ç”¨]]></title>    <link>https://juejin.cn/post/7583225356904988712</link>    <guid>https://juejin.cn/post/7583225356904988712</guid>    <pubDate>2025-12-14T09:53:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583225356904988712" data-draft-id="7583023456306249780" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIå·¥å…·é€‰æ‹©å›°éš¾ç—‡ï¼ŸSpring AIå¸®ä½ çœæ‰64%çš„ä»¤ç‰Œè´¹ç”¨"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-14T09:53:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="martinzh"/> <meta itemprop="url" content="https://juejin.cn/user/2524134426030232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIå·¥å…·é€‰æ‹©å›°éš¾ç—‡ï¼ŸSpring AIå¸®ä½ çœæ‰64%çš„ä»¤ç‰Œè´¹ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2524134426030232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    martinzh
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T09:53:05.000Z" title="Sun Dec 14 2025 09:53:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä½ çš„AIåŠ©æ‰‹æ˜¯ä¸ª"å·¥å…·å›¤ç§¯ç‹‚"å—ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼šä½ è®©AIåŠ©æ‰‹å¸®ä½ æŸ¥ä¸ªå¤©æ°”ï¼Œç»“æœå®ƒå¸¦ç€50ä¸ªå·¥å…·ç®±å‡ºé—¨äº†â€”â€”æœ‰ä¿®ç”µè„‘çš„ã€åšé¥­çš„ã€ä¿®è½¦çš„ã€ç”šè‡³è¿˜æœ‰åšæ ¸é…¸çš„å·¥å…·ï¼è¿™å°±åƒä½ åªæƒ³æ‹§ä¸ªèºä¸ï¼Œå´èƒŒç€æ•´ä¸ªäº”é‡‘åº—å‡ºé—¨ä¸€æ ·è’è°¬ã€‚</p>
<p>æ›´è¦å‘½çš„æ˜¯ï¼Œæ¯æ¬¡å®ƒå‡ºé—¨å‰éƒ½è¦æŠŠæ‰€æœ‰å·¥å…·çš„è¯´æ˜ä¹¦è¯»ä¸€éï¼Œå…‰æ˜¯ç¿»è¯´æ˜ä¹¦å°±èŠ±äº†ä½ 55000ä¸ªä»¤ç‰Œçš„è´¹ç”¨ã€‚è€Œä½ åªæ˜¯æƒ³çŸ¥é“æ˜å¤©è¦ä¸è¦å¸¦ä¼å•Šï¼</p>
<p>è¿™å°±æ˜¯ç°åœ¨AIå·¥å…·è°ƒç”¨çš„çœŸå®å†™ç…§ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥èŠèŠSpring AIæ˜¯å¦‚ä½•æ²»å¥½AIçš„"å·¥å…·é€‰æ‹©å›°éš¾ç—‡"çš„ã€‚</p>
<h2 data-id="heading-1">å½“å‰AIå·¥å…·è°ƒç”¨çš„"ç¾éš¾ç°åœº"</h2>
<p>è®©æˆ‘ä»¬å…ˆçœ‹çœ‹ä¼ ç»Ÿçš„AIå·¥å…·è°ƒç”¨æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3eeaac9e066b47cf88a155ac385f342f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbWFydGluemg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766310785&amp;x-signature=cRT6J4dkvq2I2JHjbc5pC0GM6Ik%3D" alt="å›¾1ï¼šä¼ ç»Ÿå·¥å…·è°ƒç”¨çš„&quot;å¸¦ç€å¤§ç‚®æ‰“èšŠå­&quot;ç°åœº" loading="lazy"/></p>
<p>å›¾1ï¼šä¼ ç»Ÿå·¥å…·è°ƒç”¨çš„"å¸¦ç€å¤§ç‚®æ‰“èšŠå­"ç°åœº</p>
<h3 data-id="heading-2">é—®é¢˜ä¸€ï¼šä¸Šä¸‹æ–‡è†¨èƒ€ç—‡</h3>
<p>å°±åƒæœ‰ä¸ªåŒäº‹å¼€ä¼šå‰è¦æŠŠæ‰€æœ‰å¯èƒ½ç”¨åˆ°çš„æ–‡ä»¶éƒ½æ‰“å°å‡ºæ¥ï¼Œå³ä½¿åªè®¨è®ºä¸€ä¸ªè®®é¢˜ã€‚AIä¹Ÿæ˜¯è¿™æ ·ï¼Œå®ƒè¦æŠŠæ‰€æœ‰å·¥å…·çš„å®šä¹‰éƒ½åŠ è½½åˆ°ä¸Šä¸‹æ–‡é‡Œï¼Œå“ªæ€•ä½ åªæ˜¯æƒ³æŸ¥ä¸ªå¤©æ°”ã€‚</p>
<h3 data-id="heading-3">é—®é¢˜äºŒï¼šé€‰æ‹©å›°éš¾ç—‡</h3>
<p>å½“AIé¢å¯¹30+ä¸ªåå­—ç›¸ä¼¼çš„å·¥å…·æ—¶ï¼Œå°±åƒä½ åœ¨è¶…å¸‚é¢å¯¹50ç§æ´—å‘æ°´ä¸€æ ·æ‡µé€¼ã€‚<code>getWeather()</code>ã€<code>getCurrentWeather()</code>ã€<code>fetchWeatherData()</code>...å¤©å“ªï¼Œå®ƒä»¬çœ‹èµ·æ¥éƒ½èƒ½æŸ¥å¤©æ°”ï¼</p>
<h3 data-id="heading-4">é—®é¢˜ä¸‰ï¼šé’±åŒ…å‡ºè¡€ç—‡</h3>
<p>æ¯æ¬¡è°ƒç”¨éƒ½ä¸ºç”¨ä¸åˆ°çš„å·¥å…·å®šä¹‰ä¹°å•ï¼Œå°±åƒç‚¹å¤–å–å¿…é¡»æŠŠæ•´ä¸ªèœå•éƒ½ä¹°ä¸‹æ¥ï¼Œå³ä½¿ä½ åªæƒ³è¦ä¸€ç¢—é¢ã€‚</p>
<h2 data-id="heading-5">Spring AIçš„"æŒ‰éœ€ç‚¹èœ"è§£å†³æ–¹æ¡ˆ</h2>
<p>Spring AIå¼•å…¥äº†ä¸€ä¸ªå«"å·¥å…·æœç´¢å·¥å…·"çš„èªæ˜åšæ³•ï¼Œå°±åƒç»™AIé…äº†ä¸ªæ™ºèƒ½ç®¡å®¶ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02fbbf6070ad4c55b6ce47ece33344fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbWFydGluemg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766310785&amp;x-signature=ihOIMxRceZmI4eAQAeYJrmE61qM%3D" alt="å›¾2ï¼šSpring AIçš„&quot;æŒ‰éœ€ç‚¹èœ&quot;å·¥å…·å‘ç°æµç¨‹" loading="lazy"/></p>
<p>å›¾2ï¼šSpring AIçš„"æŒ‰éœ€ç‚¹èœ"å·¥å…·å‘ç°æµç¨‹</p>
<p>è¿™ä¸ªè¿‡ç¨‹å°±åƒè¿™æ ·ï¼š</p>
<ol>
<li><strong>AI</strong>: "è€æ¿ï¼Œæˆ‘è¦æŸ¥å¤©æ°”çš„å·¥å…·"</li>
<li><strong>å·¥å…·æœç´¢å·¥å…·</strong>: "ç¨ç­‰ï¼Œæˆ‘ç»™æ‚¨æ‰¾æ‰¾...æ‰¾åˆ°äº†ï¼Œè¿™ä¸ª<code>weather</code>å·¥å…·åº”è¯¥åˆæ‚¨æ„"</li>
<li><strong>AI</strong>: "å®Œç¾ï¼å°±ç”¨å®ƒäº†"</li>
</ol>
<p>è€Œä¸æ˜¯ä¼ ç»Ÿçš„ï¼š</p>
<ol>
<li><strong>AI</strong>: "è€æ¿ï¼Œè¿™é‡Œæœ‰ä¿®ç”µè„‘ã€åšé¥­ã€ä¿®è½¦ã€æŸ¥å¤©æ°”ã€åšæ ¸é…¸...50ä¸ªå·¥å…·ï¼Œæˆ‘è¯¥ç”¨å“ªä¸ªï¼Ÿ"</li>
<li><strong>å¤§è„‘</strong>: "å´©æºƒ..."</li>
</ol>
<h2 data-id="heading-6">çœŸå®åœºæ™¯ï¼šä¸Šæµ·ç©¿æ­åŠ©æ‰‹</h2>
<p>è®©æˆ‘ä»¬çœ‹ä¸ªå…·ä½“ä¾‹å­ã€‚å‡è®¾ä½ è¦å¼€å‘ä¸€ä¸ªAIç©¿æ­åŠ©æ‰‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@SpringBootApplication</span>
<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">StyleAdvisorApp</span>Â {
Â Â Â Â 
Â Â Â Â <span class="hljs-meta">@Bean</span>
Â Â Â Â <span class="hljs-title class_">CommandLineRunner</span>Â <span class="hljs-title function_">demo</span>(<span class="hljs-params">ChatClient.BuilderÂ builder,Â ToolSearcherÂ toolSearcher</span>)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â argsÂ -&gt;Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â è¿™é‡Œæ³¨å†Œäº†100å¤šä¸ªå·¥å…·ï¼Œä½†AIä¸€å¼€å§‹çœ‹ä¸åˆ°ï¼</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">var</span>Â advisorÂ =Â <span class="hljs-title class_">ToolSearchToolCallAdvisor</span>.<span class="hljs-title function_">builder</span>()
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .<span class="hljs-title function_">toolSearcher</span>(toolSearcher)
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .<span class="hljs-title function_">build</span>();

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-title class_">ChatClient</span>Â chatClientÂ =Â builder
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .<span class="hljs-title function_">defaultTools</span>(<span class="hljs-keyword">new</span>Â <span class="hljs-title class_">StyleTools</span>())Â <span class="hljs-comment">//Â å·å·æ³¨å†Œ100+å·¥å…·</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .<span class="hljs-title function_">defaultAdvisors</span>(advisor)Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å¯åŠ¨"æ™ºèƒ½ç®¡å®¶"æ¨¡å¼</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â .<span class="hljs-title function_">build</span>();

Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">var</span>Â answerÂ =Â chatClient.<span class="hljs-title function_">prompt</span>(<span class="hljs-string">""</span><span class="hljs-string">"
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â å¸®æˆ‘è§„åˆ’ä»Šå¤©åœ¨ä¸Šæµ·çš„ç©¿æ­å»ºè®®ï¼Œ
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â é¡ºä¾¿æ¨èå‡ å®¶ç°åœ¨è¿˜å¼€é—¨çš„æœè£…åº—ã€‚
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "</span><span class="hljs-string">""</span>).<span class="hljs-title function_">call</span>().<span class="hljs-title function_">content</span>();
Â Â Â Â Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(answer);
Â Â Â Â Â Â Â Â };
Â Â Â Â }

Â Â Â Â <span class="hljs-keyword">static</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">StyleTools</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-meta">@Tool</span>(descriptionÂ =Â <span class="hljs-string">"è·å–æŒ‡å®šä½ç½®å’Œæ—¶é—´çš„å¤©æ°”"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-title class_">String</span>Â <span class="hljs-title function_">weather</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>Â location,Â <span class="hljs-built_in">String</span>Â time</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å°±åƒé—®å¤©æ°”é¢„æŠ¥å‘˜</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"é˜³å…‰æ˜åªšï¼Œ15Â°Cï¼Œé€‚åˆè½»è–„å¤–å¥—"</span>;
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â <span class="hljs-meta">@Tool</span>(descriptionÂ =Â <span class="hljs-string">"è·å–æŒ‡å®šä½ç½®å’Œæ—¶é—´è¥ä¸šçš„æœè£…åº—"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt;Â <span class="hljs-title function_">clothingStores</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>Â location,Â <span class="hljs-built_in">String</span>Â time</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å°±åƒé—®æœ¬åœ°å‘å¯¼</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title class_">Arrays</span>.<span class="hljs-title function_">asList</span>(<span class="hljs-string">"H&amp;M"</span>,Â <span class="hljs-string">"Zara"</span>,Â <span class="hljs-string">"Uniqlo"</span>);
Â Â Â Â Â Â Â Â }

Â Â Â Â Â Â Â Â <span class="hljs-meta">@Tool</span>(descriptionÂ =Â <span class="hljs-string">"è·å–æŒ‡å®šä½ç½®çš„å½“å‰æ—¶é—´"</span>)
Â Â Â Â Â Â Â Â <span class="hljs-keyword">public</span>Â <span class="hljs-title class_">String</span>Â <span class="hljs-title function_">currentTime</span>(<span class="hljs-params"><span class="hljs-built_in">String</span>Â location</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â å°±åƒçœ‹æ‰‹è¡¨</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"2025-12-08T11:30"</span>;
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â 
Â Â Â Â Â Â Â Â <span class="hljs-comment">//Â ...è¿˜æœ‰å…¶ä»–97ä¸ªå·¥å…·</span>
Â Â Â Â }
}
</code></pre>
<h3 data-id="heading-7">AIçš„èªæ˜å·¥ä½œæµç¨‹</h3>
<ol>
<li><strong>ç”¨æˆ·</strong>: "å¸®æˆ‘è§„åˆ’ä¸Šæµ·ç©¿æ­"</li>
<li><strong>AI</strong>: "æˆ‘éœ€è¦æ—¶é—´å·¥å…·" â†’ å‘ç°å¹¶è·å–<code>currentTime</code></li>
<li><strong>AI</strong>: "çŸ¥é“æ—¶é—´äº†ï¼Œç°åœ¨éœ€è¦å¤©æ°”å·¥å…·" â†’ å‘ç°å¹¶è·å–<code>weather</code></li>
<li><strong>AI</strong>: "æœ‰äº†å¤©æ°”ï¼Œéœ€è¦æ‰¾æœè£…åº—" â†’ å‘ç°å¹¶è·å–<code>clothingStores</code></li>
<li><strong>AI</strong>: "å®Œç¾ï¼åŸºäº15Â°Cçš„é˜³å…‰å¤©æ°”ï¼Œæ¨èè½»è–„å¤–å¥—ï¼Œé™„è¿‘çš„H&amp;Mã€Zaraéƒ½åœ¨è¥ä¸š"</li>
</ol>
<p>æ•´ä¸ªè¿‡ç¨‹AIåª"çœ‹åˆ°"äº†3ä¸ªçœŸæ­£éœ€è¦çš„å·¥å…·ï¼Œè€Œä¸æ˜¯å…¨éƒ¨100ä¸ªï¼</p>
<h2 data-id="heading-8">æ€§èƒ½æ•°æ®ï¼šçœé’±æ•ˆæœæœ‰å¤šæƒŠäººï¼Ÿ</h2>
<p>æˆ‘ä»¬æ¥çœ‹çœ‹å®é™…æµ‹è¯•æ•°æ®ï¼ˆè™½ç„¶ä½œè€…å¾ˆè¯šå®åœ°è¯´è¿™æ˜¯åˆæ­¥æµ‹è¯•ï¼Œä½†æ•°æ®è¿˜æ˜¯å¾ˆæœ‰è¯´æœåŠ›çš„ï¼‰ï¼š</p>
<h3 data-id="heading-9">Luceneæœç´¢ç­–ç•¥ç»“æœ</h3>





























<table><thead><tr><th>AIæ¨¡å‹</th><th>ä¼ ç»Ÿæ–¹å¼ä»¤ç‰Œæ•°</th><th>Spring AIæ–¹å¼</th><th>èŠ‚çœæ¯”ä¾‹</th></tr></thead><tbody><tr><td>Gemini</td><td>5,375</td><td>2,165</td><td>60% ğŸ’°</td></tr><tr><td>OpenAI</td><td>7,175</td><td>4,706</td><td>34% ğŸ’°</td></tr><tr><td>Anthropic</td><td>17,342</td><td>6,273</td><td>64% ğŸ’°</td></tr></tbody></table>
<p>è¿™äº›æ•°å­—æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li><strong>Geminiç”¨æˆ·</strong>: åŸæ¥èŠ±100å—ï¼Œç°åœ¨åªèŠ±40å—ï¼Œçœäº†ä¸€é¡¿ç«é”…é’±</li>
<li><strong>OpenAIç”¨æˆ·</strong>: åŸæ¥èŠ±100å—ï¼Œç°åœ¨èŠ±66å—ï¼Œçœäº†ä¸€æ¯å¥¶èŒ¶é’±</li>
<li><strong>Anthropicç”¨æˆ·</strong>: åŸæ¥èŠ±100å—ï¼Œç°åœ¨åªèŠ±36å—ï¼Œè¿™ç®€ç›´æ˜¯åŠä»·ä¼˜æƒ åˆ¸å•Šï¼</li>
</ul>
<h3 data-id="heading-10">ä¸ºä»€ä¹ˆèƒ½çœè¿™ä¹ˆå¤šï¼Ÿ</h3>
<p>å°±åƒç‚¹å¤–å–ä¸€æ ·ï¼š</p>
<p><strong>ä¼ ç»Ÿæ–¹å¼</strong>:</p>
<ul>
<li>å¿…é¡»æŠŠæ•´ä¸ªèœå•éƒ½ä¹°ä¸‹æ¥ï¼ˆæ‰€æœ‰å·¥å…·å®šä¹‰ï¼‰</li>
<li>å³ä½¿ä½ åªè¦ä¸€ç¢—é¢</li>
</ul>
<p><strong>Spring AIæ–¹å¼</strong>:</p>
<ul>
<li>æœåŠ¡å‘˜é—®ä½ æƒ³è¦ä»€ä¹ˆï¼ˆå·¥å…·æœç´¢ï¼‰</li>
<li>åªä¸ºä½ ç‚¹çš„èœä»˜è´¹ï¼ˆæŒ‰éœ€åŠ è½½å·¥å…·ï¼‰</li>
</ul>
<h2 data-id="heading-11">ä¸‰ç§æœç´¢ç­–ç•¥ï¼šæ€»æœ‰ä¸€æ¬¾é€‚åˆä½ </h2>
<p>Spring AIæä¾›äº†ä¸‰ç§å·¥å…·æœç´¢ç­–ç•¥ï¼Œå°±åƒä¸‰ç§ä¸åŒçš„å›¾ä¹¦é¦†ç®¡ç†å‘˜ï¼š</p>
<h3 data-id="heading-12">1. è¯­ä¹‰æœç´¢ï¼ˆVectorToolSearcherï¼‰</h3>
<p>è¿™ä¸ªç®¡ç†å‘˜å¾ˆèªæ˜ï¼Œä½ è¯´"æˆ‘æƒ³è¦åšé¥­ç›¸å…³çš„"ï¼Œä»–ä¼šç»™ä½ æ‰¾åˆ°ç‚’èœã€çƒ˜ç„™ã€è°ƒæ–™ç­‰æ‰€æœ‰ç›¸å…³å·¥å…·ã€‚</p>
<p><strong>é€‚åˆåœºæ™¯</strong>: è‡ªç„¶è¯­è¨€æè¿°ï¼Œæ¨¡ç³ŠæŸ¥æ‰¾</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">//Â ç”¨æˆ·è¯´ï¼šæˆ‘æƒ³å¤„ç†å›¾ç‰‡</span>
<span class="hljs-comment">//Â å®ƒä¼šæ‰¾åˆ°ï¼šresizeImage,Â cropImage,Â filterImageÂ ç­‰</span>
</code></pre>
<h3 data-id="heading-13">2. å…³é”®è¯æœç´¢ï¼ˆLuceneToolSearcherï¼‰</h3>
<p>è¿™ä¸ªç®¡ç†å‘˜æ¯”è¾ƒç›´æ¥ï¼Œä½ è¯´"weather"ï¼Œä»–å°±æ‰¾æ‰€æœ‰åŒ…å«"weather"çš„å·¥å…·ã€‚</p>
<p><strong>é€‚åˆåœºæ™¯</strong>: ç²¾ç¡®åŒ¹é…ï¼Œå·²çŸ¥å·¥å…·å</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">//Â ç”¨æˆ·è¯´ï¼šweather</span>
<span class="hljs-comment">//Â å®ƒä¼šæ‰¾åˆ°ï¼šgetWeather,Â getCurrentWeather,Â fetchWeatherDataÂ ç­‰</span>
</code></pre>
<h3 data-id="heading-14">3. æ­£åˆ™è¡¨è¾¾å¼æœç´¢ï¼ˆRegexToolSearcherï¼‰</h3>
<p>è¿™ä¸ªç®¡ç†å‘˜æ˜¯ä¸ªæŠ€æœ¯å®…ï¼Œæ‡‚å„ç§æ¨¡å¼åŒ¹é…ã€‚</p>
<p><strong>é€‚åˆåœºæ™¯</strong>: å·¥å…·å‘½åæœ‰è§„å¾‹</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">//Â æ¨¡å¼ï¼šget_*_data</span>
<span class="hljs-comment">//Â å®ƒä¼šæ‰¾åˆ°ï¼šget_weather_data,Â get_user_data,Â get_stock_dataÂ ç­‰</span>
</code></pre>
<h2 data-id="heading-15">ä»€ä¹ˆæ—¶å€™è¯¥ç”¨Spring AIçš„å·¥å…·æœç´¢ï¼Ÿ</h2>
<h3 data-id="heading-16">é€‚åˆä½¿ç”¨çš„æƒ…å†µï¼ˆæ¨èæŒ‡æ•°â­â­â­â­â­ï¼‰</h3>
<p>å°±åƒä»¥ä¸‹æƒ…å†µï¼Œä½ ç»å¯¹éœ€è¦è¿™ä¸ªåŠŸèƒ½ï¼š</p>
<ol>
<li>
<p><strong>å·¥å…·è¶…å¸‚ç—‡å€™ç¾¤</strong>: ç³»ç»Ÿé‡Œæœ‰20+ä¸ªå·¥å…·</p>
<ul>
<li>å°±åƒä½ çš„å·¥å…·ç®±é‡Œæœ‰20æŠŠä¸åŒçš„èºä¸åˆ€</li>
</ul>
</li>
<li>
<p><strong>ä»¤ç‰Œçƒ§é’±ç—‡</strong>: å·¥å…·å®šä¹‰è¶…è¿‡5000ä¸ªä»¤ç‰Œ</p>
<ul>
<li>å°±åƒæ¯æ¬¡å‡ºé—¨éƒ½è¦èƒŒç€ç™¾ç§‘å…¨ä¹¦</li>
</ul>
</li>
<li>
<p><strong>MCPå¤šæœåŠ¡å™¨ç¯å¢ƒ</strong>: è¿æ¥å¤šä¸ªMCPæœåŠ¡å™¨</p>
<ul>
<li>å°±åƒåŒæ—¶åœ¨æ·˜å®ã€äº¬ä¸œã€æ‹¼å¤šå¤šå¼€åº—</li>
</ul>
</li>
<li>
<p><strong>å·¥å…·é€‰æ‹©å›°éš¾ç—‡</strong>: AIè€æ˜¯é€‰é”™å·¥å…·</p>
<ul>
<li>å°±åƒè€æ˜¯æ‹¿èœåˆ€å»å‰Šé“…ç¬”</li>
</ul>
</li>
</ol>
<h3 data-id="heading-17">ä¸é€‚åˆä½¿ç”¨çš„æƒ…å†µï¼ˆä¼ ç»Ÿæ–¹å¼æ›´å¥½ï¼‰</h3>
<ol>
<li>
<p><strong>æç®€å·¥å…·åº“</strong>: å°‘äº20ä¸ªå·¥å…·</p>
<ul>
<li>å°±åƒä½ åªæœ‰ä¸€æŠŠç‘å£«å†›åˆ€ï¼Œç›´æ¥ç”¨å°±å¥½</li>
</ul>
</li>
<li>
<p><strong>é«˜é¢‘å…¨èƒ½å·¥å…·</strong>: æ¯æ¬¡å¯¹è¯éƒ½è¦ç”¨æ‰€æœ‰å·¥å…·</p>
<ul>
<li>å°±åƒå¨å¸ˆæ¯é“èœéƒ½è¦ç”¨éæ‰€æœ‰è°ƒæ–™</li>
</ul>
</li>
<li>
<p><strong>è¶…ç´§å‡‘å®šä¹‰</strong>: å·¥å…·å®šä¹‰éƒ½å¾ˆç®€çŸ­</p>
<ul>
<li>å°±åƒè¯´æ˜ä¹¦åªæœ‰ä¸€å¥è¯</li>
</ul>
</li>
</ol>
<h2 data-id="heading-18">å¿«é€Ÿä¸Šæ‰‹ï¼š5åˆ†é’Ÿæå®šé…ç½®</h2>
<p>æƒ³è¯•è¯•è¿™ä¸ªçœé’±ç¥å™¨ï¼Ÿæ¥ï¼Œ5åˆ†é’Ÿæå®šï¼š</p>
<h3 data-id="heading-19">1. æ·»åŠ ä¾èµ–ï¼ˆå°±åƒè£…æ’ä»¶ï¼‰</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springaicommunity<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tool-search-tool<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-comment">&lt;!--Â é€‰æ‹©ä¸€ä¸ªæœç´¢ç­–ç•¥ï¼Œæˆ‘æ¨èLuceneÂ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springaicommunity<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tool-searcher-lucene<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
Â Â Â Â <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3 data-id="heading-20">2. é…ç½®å·¥å…·æœç´¢ï¼ˆå°±åƒé›‡ä¸ªç®¡å®¶ï¼‰</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">AIConfig</span>Â {
Â Â Â Â 
Â Â Â Â <span class="hljs-meta">@Bean</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â ToolSearchToolCallAdvisorÂ toolSearchAdvisor(ToolSearcherÂ searcher)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â ToolSearchToolCallAdvisor.builder()
Â Â Â Â Â Â Â Â Â Â Â Â .toolSearcher(searcher)
Â Â Â Â Â Â Â Â Â Â Â Â .maxResults(<span class="hljs-number">5</span>)Â <span class="hljs-comment">//Â æœ€å¤šè¿”å›5ä¸ªå·¥å…·ï¼Œé˜²æ­¢é€‰æ‹©å›°éš¾ç—‡å¤å‘</span>
Â Â Â Â Â Â Â Â Â Â Â Â .build();
Â Â Â Â }
}
</code></pre>
<h3 data-id="heading-21">3. ä½¿ç”¨ï¼ˆå°±åƒå¹³å¸¸ä¸€æ ·èŠå¤©ï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">//Â AIä¼šè‡ªåŠ¨æŒ‰éœ€å‘ç°å·¥å…·ï¼Œä½ ä»€ä¹ˆéƒ½ä¸ç”¨ç®¡ï¼
varÂ <span class="hljs-attr">response</span>Â =Â chatClient.prompt(<span class="hljs-string">"å¸®æˆ‘æŸ¥æŸ¥æ˜å¤©åŒ—äº¬çš„å¤©æ°”"</span>).call().content()<span class="hljs-comment">;</span>
</code></pre>
<p>å°±è¿™ä¹ˆç®€å•ï¼AIä¼šè‡ªåŠ¨å˜èªæ˜ï¼Œè´¦å•ä¼šè‡ªåŠ¨å˜å°ã€‚</p>
<h2 data-id="heading-22">å®é™…åº”ç”¨ï¼šä¸ºä»€ä¹ˆJavaå¼€å‘è€…éœ€è¦å…³å¿ƒè¿™ä¸ªï¼Ÿ</h2>
<p>ä½ å¯èƒ½ä¼šé—®ï¼š"æˆ‘å°±æ˜¯ä¸ªJavaåç«¯å¼€å‘ï¼Œä¸ºä»€ä¹ˆè¦å…³å¿ƒAIçš„å·¥å…·è°ƒç”¨ï¼Ÿ"</p>
<h3 data-id="heading-23">ç°å®åœºæ™¯ï¼šæ™ºèƒ½å®¢æœç³»ç»Ÿ</h3>
<p>å‡è®¾ä½ åœ¨å¼€å‘ä¸€ä¸ªç”µå•†çš„æ™ºèƒ½å®¢æœç³»ç»Ÿï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Service</span>
publicÂ classÂ CustomerServiceAIÂ {
Â Â Â Â 
Â Â Â Â <span class="hljs-comment">//Â ä½ çš„ç³»ç»Ÿéœ€è¦è¿™äº›èƒ½åŠ›</span>
Â Â Â Â <span class="hljs-variable">@Tool</span>(<span class="hljs-string">"æŸ¥è¯¢è®¢å•çŠ¶æ€"</span>)Â publicÂ OrderStatusÂ <span class="hljs-built_in">getOrderStatus</span>(StringÂ orderId)Â {...}
Â Â Â Â <span class="hljs-variable">@Tool</span>(<span class="hljs-string">"æŸ¥è¯¢ç‰©æµä¿¡æ¯"</span>)Â publicÂ ShippingInfoÂ <span class="hljs-built_in">getShippingInfo</span>(StringÂ trackingId)Â {...}
Â Â Â Â <span class="hljs-variable">@Tool</span>(<span class="hljs-string">"å¤„ç†é€€æ¬¾ç”³è¯·"</span>)Â publicÂ RefundResultÂ <span class="hljs-built_in">processRefund</span>(StringÂ orderId)Â {...}
Â Â Â Â <span class="hljs-variable">@Tool</span>(<span class="hljs-string">"æŸ¥è¯¢å•†å“ä¿¡æ¯"</span>)Â publicÂ ProductInfoÂ <span class="hljs-built_in">getProductInfo</span>(StringÂ productId)Â {...}
Â Â Â Â <span class="hljs-variable">@Tool</span>(<span class="hljs-string">"æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯"</span>)Â publicÂ UserInfoÂ <span class="hljs-built_in">getUserInfo</span>(StringÂ userId)Â {...}
Â Â Â Â <span class="hljs-variable">@Tool</span>(<span class="hljs-string">"å‘é€é‚®ä»¶é€šçŸ¥"</span>)Â publicÂ voidÂ <span class="hljs-built_in">sendEmail</span>(StringÂ to,Â StringÂ subject)Â {...}
Â Â Â Â <span class="hljs-variable">@Tool</span>(<span class="hljs-string">"æŸ¥è¯¢åº“å­˜"</span>)Â publicÂ intÂ <span class="hljs-built_in">getInventory</span>(StringÂ productId)Â {...}
Â Â Â Â <span class="hljs-variable">@Tool</span>(<span class="hljs-string">"æŸ¥è¯¢ä¼˜æƒ åˆ¸"</span>)Â publicÂ List&lt;Coupon&gt;Â <span class="hljs-built_in">getCoupons</span>(StringÂ userId)Â {...}
Â Â Â Â <span class="hljs-variable">@Tool</span>(<span class="hljs-string">"è®¡ç®—è¿è´¹"</span>)Â publicÂ BigDecimalÂ <span class="hljs-built_in">calculateShipping</span>(StringÂ address)Â {...}
Â Â Â Â <span class="hljs-variable">@Tool</span>(<span class="hljs-string">"æŸ¥è¯¢å”®åæ”¿ç­–"</span>)Â publicÂ StringÂ <span class="hljs-built_in">getReturnPolicy</span>()Â {...}
Â Â Â Â <span class="hljs-comment">//Â ...Â è¿˜æœ‰40ä¸ªå·¥å…·</span>
}
</code></pre>
<p><strong>ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜</strong>:</p>
<ul>
<li>ç”¨æˆ·é—®ï¼š"æˆ‘çš„è®¢å•ä»€ä¹ˆæ—¶å€™åˆ°ï¼Ÿ"</li>
<li>AIæ¥æ”¶åˆ°50ä¸ªå·¥å…·å®šä¹‰ï¼ˆåŒ…æ‹¬å¾ˆå¤šä¸ç›¸å…³çš„ï¼‰</li>
<li>ä»¤ç‰Œè´¹ç”¨çˆ†ç‚¸ï¼Œå“åº”é€Ÿåº¦æ…¢</li>
</ul>
<p><strong>Spring AIå·¥å…·æœç´¢çš„ä¼˜åŠ¿</strong>:</p>
<ul>
<li>AIåªè·å–<code>getOrderStatus</code>å’Œ<code>getShippingInfo</code>ç›¸å…³å·¥å…·</li>
<li>ä»¤ç‰Œä½¿ç”¨é‡å‡å°‘60%</li>
<li>å“åº”æ›´å¿«ï¼Œç”¨æˆ·æ›´æ»¡æ„</li>
<li>è¿è¥æˆæœ¬å¤§å¹…ä¸‹é™</li>
</ul>
<h3 data-id="heading-24">ä¸ºä»€ä¹ˆJavaå¼€å‘è€…è¦å­¦è¿™ä¸ªï¼Ÿ</h3>
<ol>
<li><strong>æˆæœ¬æ§åˆ¶</strong>: åœ¨AIåº”ç”¨ä¸­ï¼Œä»¤ç‰Œå°±æ˜¯çœŸé‡‘ç™½é“¶</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>: æ›´å°‘çš„ä¸Šä¸‹æ–‡æ„å‘³ç€æ›´å¿«çš„å“åº”</li>
<li><strong>ç³»ç»Ÿæ‰©å±•æ€§</strong>: å¯ä»¥è½»æ¾æ·»åŠ æ›´å¤šå·¥å…·è€Œä¸å½±å“æ€§èƒ½</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>: æ›´å‡†ç¡®çš„å·¥å…·é€‰æ‹©æ„å‘³ç€æ›´å¥½çš„æœåŠ¡è´¨é‡</li>
</ol>
<h2 data-id="heading-25">æ³¨æ„äº‹é¡¹ï¼šä¸æ˜¯ä¸‡èƒ½è¯</h2>
<p>è™½ç„¶Spring AIçš„å·¥å…·æœç´¢å¾ˆæ£’ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</p>
<h3 data-id="heading-26">è€æ¨¡å‹å¯èƒ½"å­¦ä¸ä¼š"</h3>
<p>å°±åƒæ•™ä½ çˆ·çˆ·ç”¨æ™ºèƒ½æ‰‹æœºä¸€æ ·ï¼Œæœ‰äº›è€ç‰ˆæœ¬çš„AIæ¨¡å‹å¯èƒ½æä¸å®šè¿™å¥—æµç¨‹ã€‚è¿™æ—¶å€™ä½ å¯èƒ½éœ€è¦ï¼š</p>
<ul>
<li>æ·»åŠ æ›´è¯¦ç»†çš„æç¤ºä¿¡æ¯</li>
<li>æ¢ä¸ªæœç´¢ç­–ç•¥è¯•è¯•</li>
<li>æˆ–è€…é…åˆ"AIåˆ¤å®˜"æ¨¡å¼æ¥ç¡®ä¿æ•ˆæœ</li>
</ul>
<h3 data-id="heading-27">æ›´å¤šè¯·æ±‚ vs æ›´å°‘ä»¤ç‰Œ</h3>
<p>è¿™æ˜¯ä¸ªç»å…¸çš„æ—¶é—´æ¢ç©ºé—´çš„é—®é¢˜ï¼š</p>
<ul>
<li>ä¼ ç»Ÿæ–¹å¼ï¼š3-4æ¬¡è¯·æ±‚ï¼Œä½†æ¯æ¬¡éƒ½å¾ˆ"é‡"</li>
<li>å·¥å…·æœç´¢ï¼š4-5æ¬¡è¯·æ±‚ï¼Œä½†æ¯æ¬¡éƒ½å¾ˆ"è½»"</li>
</ul>
<p>å°±åƒå¿«é€’ä¸€æ ·ï¼Œä½ æ˜¯æ„¿æ„ä¸€æ¬¡æ¬ä¸ªå¤§ç®±å­ï¼Œè¿˜æ˜¯åˆ†å‡ æ¬¡æ¬å°åŒ…è£¹ï¼Ÿ</p>
<h2 data-id="heading-28">æœªæ¥å±•æœ›ï¼šè¿™åªæ˜¯å¼€å§‹</h2>
<p>Spring AIå›¢é˜Ÿæ­£åœ¨è€ƒè™‘æŠŠè¿™ä¸ªåŠŸèƒ½åŠ å…¥æ ¸å¿ƒæ¡†æ¶ï¼Œè¿™æ„å‘³ç€ï¼š</p>
<ol>
<li><strong>æ›´å¥½çš„é›†æˆ</strong>: ä¸éœ€è¦é¢å¤–ä¾èµ–</li>
<li><strong>æ›´å¤šç­–ç•¥</strong>: å¯èƒ½ä¼šæœ‰æ›´æ™ºèƒ½çš„æœç´¢ç®—æ³•</li>
<li><strong>æ›´å¼ºå…¼å®¹æ€§</strong>: æ”¯æŒæ›´å¤šAIæ¨¡å‹</li>
</ol>
<p>åŒæ—¶ï¼Œä»–ä»¬è¿˜åœ¨ç ”ç©¶ï¼š</p>
<ul>
<li><strong>é¢„é€‰å·¥å…·é¡¾é—®</strong>: åœ¨AIè°ƒç”¨å‰å°±é€‰å¥½å·¥å…·</li>
<li><strong>AIåˆ¤å®˜æ¨¡å¼</strong>: ç¡®ä¿é€‰æ‹©çš„å·¥å…·çœŸæ­£è§£å†³äº†é—®é¢˜</li>
</ul>
<h2 data-id="heading-29">æ€»ç»“ï¼šAIå·¥å…·ç®¡ç†çš„"æ–­èˆç¦»"å“²å­¦</h2>
<p>Spring AIçš„å·¥å…·æœç´¢æ¨¡å¼æœ¬è´¨ä¸Šå°±æ˜¯AIç‰ˆçš„"æ–­èˆç¦»"ï¼š</p>
<ul>
<li><strong>æ–­</strong>: æ–­æ‰ä¸å¿…è¦çš„å·¥å…·å®šä¹‰ä¼ è¾“</li>
<li><strong>èˆ</strong>: èˆå¼ƒ"å…¨å®¶æ¡¶"å¼çš„å·¥å…·åŠ è½½</li>
<li><strong>ç¦»</strong>: è¿œç¦»ä»¤ç‰Œæµªè´¹å’Œé€‰æ‹©å›°éš¾</li>
</ul>
<p>å®ƒå‘Šè¯‰æˆ‘ä»¬ä¸€ä¸ªé“ç†ï¼š<strong>æœ‰æ—¶å€™ï¼Œå°‘å³æ˜¯å¤š</strong>ã€‚</p>
<p>å½“ä½ çš„AIåŠ©æ‰‹ä¸å†æ˜¯ä¸ª"å·¥å…·å›¤ç§¯ç‹‚"ï¼Œè€Œæ˜¯ä¸ª"æŒ‰éœ€ä¸“å®¶"æ—¶ï¼Œä½ ä¼šå‘ç°ï¼š</p>
<ul>
<li>è´¦å•å˜å°äº†</li>
<li>å“åº”å˜å¿«äº†</li>
<li>å‡†ç¡®æ€§æé«˜äº†</li>
<li>å¼€å‘æ•ˆç‡upäº†</li>
</ul>
<p>æ‰€ä»¥ï¼Œå¦‚æœä½ æ­£åœ¨å¼€å‘AIåº”ç”¨ï¼Œç‰¹åˆ«æ˜¯éœ€è¦å¤§é‡å·¥å…·é›†æˆçš„åœºæ™¯ï¼Œä¸å¦¨è¯•è¯•Spring AIçš„å·¥å…·æœç´¢æ¨¡å¼ã€‚</p>
<p>è®©AIå­¦ä¼š"æ–­èˆç¦»"ï¼Œè®©ä½ çš„é’±åŒ…æ¾å£æ°”ï¼</p>
<hr/>
<p><em>æƒ³äº†è§£æ›´å¤šSpring AIçš„é»‘ç§‘æŠ€ï¼Ÿå…³æ³¨æˆ‘ä»¬çš„JavaæŠ€æœ¯åˆ†äº«ï¼Œæ¯å‘¨ä¸ºä½ å¸¦æ¥æœ€å®ç”¨çš„å¼€å‘æŠ€å·§ï¼</em></p>
<p>åŸæ–‡é“¾æ¥ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fjishuba.cn%2Farticle%2Fai%25e5%25b7%25a5%25e5%2585%25b7%25e9%2580%2589%25e6%258b%25a9%25e5%259b%25b0%25e9%259a%25be%25e7%2597%2587%25ef%25bc%259fspring-ai%25e5%25b8%25ae%25e4%25bd%25a0%25e7%259c%2581%25e6%258e%258964%25e7%259a%2584%25e4%25bb%25a4%25e7%2589%258c%25e8%25b4%25b9%25e7%2594%25a8%2F" target="_blank" title="https://jishuba.cn/article/ai%e5%b7%a5%e5%85%b7%e9%80%89%e6%8b%a9%e5%9b%b0%e9%9a%be%e7%97%87%ef%bc%9fspring-ai%e5%b8%ae%e4%bd%a0%e7%9c%81%e6%8e%8964%e7%9a%84%e4%bb%a4%e7%89%8c%e8%b4%b9%e7%94%a8/" ref="nofollow noopener noreferrer">jishuba.cn/article/ai%â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¹³é¢å‡ ä½•ï¼šå¦‚ä½•ç»˜åˆ¶ä¸€ä¸ªæ˜Ÿå½¢ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7583023456305643572</link>    <guid>https://juejin.cn/post/7583023456305643572</guid>    <pubDate>2025-12-14T07:34:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583023456305643572" data-draft-id="7582939860874870819" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¹³é¢å‡ ä½•ï¼šå¦‚ä½•ç»˜åˆ¶ä¸€ä¸ªæ˜Ÿå½¢ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-14T07:34:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯è¥¿ç“œå“¥"/> <meta itemprop="url" content="https://juejin.cn/user/2066737589133015"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¹³é¢å‡ ä½•ï¼šå¦‚ä½•ç»˜åˆ¶ä¸€ä¸ªæ˜Ÿå½¢ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2066737589133015/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯è¥¿ç“œå“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T07:34:29.000Z" title="Sun Dec 14 2025 07:34:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å‰ç«¯è¥¿ç“œå“¥ã€‚</p>
<p>ä¹Ÿæ˜¯æœ‰ä¸€ä¸ªæœˆæ²¡å†™æ–‡ç« äº†ã€‚ä¸»è¦æ˜¯ AI å¤ªå¼ºäº†ï¼Œç®€å•çš„ä¸œè¥¿å·²ç»æ²¡æœ‰å†™çš„å¿…è¦çš„ï¼Œå¤æ‚çš„ä¸å¥½å†™ã€‚ä½†å¤šå°‘è¿˜æ˜¯è¦å†™ç‚¹ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬æ¥ç»˜åˆ¶ Figma çš„æ˜Ÿå½¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b2efef9f6bc4b9287c566cf66556794~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6KW_55Oc5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766302469&amp;x-signature=cMet9MfOfp4sHLrM%2FnUho%2Bx%2FCW0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ˜Ÿå½¢çš„ç»˜åˆ¶ï¼Œæ¯”è¾ƒç®€å•ï¼Œå…¶å®å°±æ˜¯æ±‚ä¸¤ä¸ªåŒå¿ƒåœ†çš„å†…æ¥æ­£å¤šè¾¹å½¢çš„ç‚¹ï¼Œå°†ä¸¤ç»„ç‚¹ä¸¤ä¸¤è¿æ¥å³å¯ã€‚</p>
<p>æ–¹æ³•çš„å‚æ•°æœ‰ï¼šwidthã€heightã€countã€innerScaleã€‚æ–¹æ³•ç­¾åä¸ºï¼š</p>
<pre><code class="hljs language-less" lang="less">(
Â  <span class="hljs-attribute">width</span>:Â number,
Â  <span class="hljs-attribute">height</span>:Â number,
Â  <span class="hljs-attribute">count</span>:Â number,
Â  <span class="hljs-attribute">innerScale</span>:Â number,
) =&gt; Point[];

</code></pre>
<p>é¦–å…ˆæ˜¯ <strong>å½’ä¸€</strong>ï¼Œæ±‚å‡ºå®½é«˜ä¸º 1 çš„çŸ©å½¢ä¸‹ï¼ˆå…¶å®ä¹Ÿæ˜¯åŠå¾„ä¸º 0.5 çš„åŸå‹ï¼‰çš„å†…æ¥å¤šè¾¹å½¢çš„ç‚¹é›†ã€‚</p>
<p>ä»æœ€é¡¶éƒ¨çš„ç‚¹å¼€å§‹ï¼Œä¸æ–­åœ°æ—‹è½¬ <code>360 / count</code> çš„è§’åº¦ï¼Œå¾—åˆ° count ä¸ªç‚¹ã€‚ä¸­å¿ƒç‚¹æ˜¯åæ ‡åŸç‚¹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">constÂ <span class="hljs-attr">getInnerRegularPolygon</span> = (radius:Â number, count:Â number): Point[] =&gt; {
constÂ <span class="hljs-attr">p</span> = { x:Â <span class="hljs-number">0</span>, y: -radius }<span class="hljs-comment">;</span>
constÂ points: Point<span class="hljs-section">[]</span> = <span class="hljs-section">[p]</span><span class="hljs-comment">;</span>

constÂ <span class="hljs-attr">dAngle</span> = (Math.PI *Â <span class="hljs-number">2</span>) / count<span class="hljs-comment">;</span>

forÂ (letÂ <span class="hljs-attr">i</span> =Â <span class="hljs-number">1</span><span class="hljs-comment">; i &lt; count; i++) {</span>
Â  Â  points.push(rotate(p, dAngle * i))<span class="hljs-comment">;</span>
Â  }

returnÂ points<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

constÂ <span class="hljs-attr">rotate</span> =Â (p: Point, rad:Â number) =&gt;Â {
returnÂ {
Â  Â  x: p.x *Â Math.cos(rad) - p.y *Â Math.sin(rad),
Â  Â  y: p.x *Â Math.sin(rad) + p.y *Â Math.cos(rad),
Â  }<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

</code></pre>
<p>è¿™é‡Œæ˜¯åŸºäºç¬¬ä¸€ä¸ªç‚¹ï¼Œä¸æ–­åœ°åº”ç”¨ä¸€ä¸ªæ–°çš„æ—‹è½¬è§’åº¦ã€‚</p>
<p>è¿˜æœ‰ä¸€ç§æ–¹æ¡ˆæ˜¯åŸºäºä¸Šä¸€ä¸ªç‚¹ï¼ŒåšåŒæ ·çš„å¢é‡æ—‹è½¬çŸ©é˜µï¼Œä½†ä¸æ˜¯å¾ˆå»ºè®®ï¼Œè¿™æ˜¯ä¸€ç§ â€œç´¯åŠ â€ çš„ç­–ç•¥ï¼Œä¼šå¯¼è‡´è¯¯å·®çš„ç´¯åŠ ã€‚</p>
<p><strong>ä¸­é—´æ­¥éª¤è¶Šå¤šï¼Œè¯¯å·®å°±ç´¯åŠ çš„è¶Šå¤§</strong>ã€‚ç±»ä¼¼çš„æœ‰å¯¹å›¾å½¢çš„ç§»åŠ¨ï¼ŒåŸºäºèµ·ç‚¹çš„ä½ç§»ä¼šæ›´å¯é ï¼ŒåŸºäº mousemove çš„ä¸Šä¸€ä¸ªç‚¹ä½ç§»åˆ™ä¼šæœ‰å¾ˆå¤šé—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8c58e51f901447689df9a1f9ce3a216~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6KW_55Oc5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766302469&amp;x-signature=y4jkwHBAL1FOJgnEf6ixA%2BlXOwc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥æ˜¯ç»˜åˆ¶æ›´å°å†…æ¥å¤šè¾¹å½¢ã€‚</p>
<p>åŠå¾„æ”¹ä¸º innerScale å°±å¥½äº†ã€‚innerScale ä»£è¡¨çš„å°åœ†æ˜¯ç›¸å¯¹å¤§åœ†çš„å¤§å°ã€‚</p>
<p>ä¸è¿‡èµ·ç‚¹çš„ä½ç½®éœ€è¦è°ƒæ•´ä¸‹ï¼Œè¦é¡ºæ—¶é’ˆæ—‹è½¬ <code>360 / count / 2</code> çš„è§’åº¦ï¼Œç„¶åå†åŸºäºè¿™ä¸ªç‚¹å»æ—‹è½¬ã€‚</p>
<p>å¦åˆ™ä½ å¯èƒ½å¾—åˆ°ä¸‹é¢è¿™æ ·ä¸€ä¸ªå¤šè¾¹å½¢ç¯ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4465032e773442a6b978d56a6f4fc3c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6KW_55Oc5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766302469&amp;x-signature=jwVey8WdA72QKJt89BUYoHKwbnU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ‰€ä»¥éœ€è¦æ”¹é€ ä¸‹ getInnerRegularPolygonï¼Œæä¾›ä¸ªèµ·å§‹è§’åº¦ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">constÂ <span class="hljs-attr">getInnerRegularPolygon</span> = (
Â  radius:Â number,
Â  count:Â number,
Â  startAngle:Â <span class="hljs-attr">number</span>Â =Â <span class="hljs-number">0</span>,
): Point<span class="hljs-section">[]</span> =&gt; {
letÂ <span class="hljs-attr">p</span> = { x:Â <span class="hljs-number">0</span>, y: -radius }<span class="hljs-comment">;</span>
ifÂ (startAngle) {
Â  Â  <span class="hljs-attr">p</span> = rotate(p, startAngle)<span class="hljs-comment">;</span>
Â  }
constÂ points: Point<span class="hljs-section">[]</span> = <span class="hljs-section">[p]</span><span class="hljs-comment">;</span>

constÂ <span class="hljs-attr">dAngle</span> = (Math.PI *Â <span class="hljs-number">2</span>) / count<span class="hljs-comment">;</span>

forÂ (letÂ <span class="hljs-attr">i</span> =Â <span class="hljs-number">1</span><span class="hljs-comment">; i &lt; count; i++) {</span>
Â  Â  points.push(rotate(p, dAngle * i))<span class="hljs-comment">;</span>
Â  }

returnÂ points<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

</code></pre>
<p>ç„¶åæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªå¤§çš„æ­£å¤šè¾¹å½¢ï¼Œå’Œä¸€ä¸ªå°çš„æ­ªäº†ç‚¹çš„æ­£å¤šè¾¹å½¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e7d0daec0e048f5b561375cb041da5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6KW_55Oc5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766302469&amp;x-signature=GffkI9ocFXCNt25MxrpBEQRul4o%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç‚¹æ˜¯å¯¹äº†ï¼Œå°±æ˜¯ç‚¹çš„é¡ºåºè¦è°ƒæ•´ä¸‹ã€‚æˆ‘ä»¬å¯¹å¤§å¤šè¾¹å½¢å’Œå°å¤šè¾¹å½¢çš„ä¸¤ç»„ç‚¹ï¼Œä¸¤ä¸¤é¡ºæ’ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">constÂ <span class="hljs-attr">outerPoints</span> = getInnerRegularPolygon(<span class="hljs-number">1</span>, count)<span class="hljs-comment">;</span>
constÂ <span class="hljs-attr">innerPoints</span> = getInnerRegularPolygon(
Â  innerScale,
Â  count,
Â Â Math.PI / count,
)<span class="hljs-comment">;</span>

constÂ <span class="hljs-attr">points</span> = []<span class="hljs-comment">;</span>
forÂ (letÂ <span class="hljs-attr">i</span> =Â <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; count; i++) {</span>
Â  points.push(outerPoints<span class="hljs-section">[i]</span>)<span class="hljs-comment">;</span>
Â  points.push(innerPoints<span class="hljs-section">[i]</span>)<span class="hljs-comment">;</span>
}

</code></pre>
<p>åˆ°è¿™é‡Œæˆ‘ä»¬ç»˜åˆ¶äº†ä¸€ä¸ª 2x2 åœ†çš„å†…æ¥æ˜Ÿå½¢ã€‚ï¼ˆåˆ°è¿™é‡Œæ‰å‘ç° 1x1 è¦ä¼ å…¥ 0.5 æˆ–è€…æ”¹å¤šè¾¹å½¢ç®—æ³•å®ç°æ‰è¡Œï¼Œæƒ³äº†ä¸‹ 2x2 ä¹Ÿé—®é¢˜ä¸å¤§ï¼‰</p>
<p>åé¢æˆ‘ä»¬ç»™è¿™äº›ç‚¹<strong>æ”¾å¤§å’Œä½ç§»</strong>å°±é½æ´»äº†ã€‚<code>scale(width/2, height/2) * translate(width/2, height/2)</code></p>
<pre><code class="hljs language-ini" lang="ini">forÂ (letÂ <span class="hljs-attr">i</span> =Â <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; points.length; i++) {</span>
Â  points<span class="hljs-section">[i]</span>.<span class="hljs-attr">x</span> = points[i].x * halfWidth + halfWidth<span class="hljs-comment">;</span>
Â  points<span class="hljs-section">[i]</span>.<span class="hljs-attr">y</span> = points[i].y * halfHeight + halfHeight<span class="hljs-comment">;</span>
}

returnÂ points<span class="hljs-comment">;</span>

</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86d82c6ad6b3469cae9e25dce7ba617a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6KW_55Oc5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766302469&amp;x-signature=WAYV1x9bJ3f63s6HT6o2yoj7LLk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-0">ä½“éªŒ</h2>
<p>çº¿ä¸Šä½“éªŒåœ°å€ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgeo-play-nv7v.vercel.app%2Fsrc%2Fpage%2Fstar%255C%255C%255C%255C_public%2Findex.html" target="_blank" title="https://geo-play-nv7v.vercel.app/src/page/star%5C%5C%5C%5C_public/index.html" ref="nofollow noopener noreferrer">geo-play-nv7v.vercel.app/src/page/stâ€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc246fb51cd84571b6d75374da7583cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv6KW_55Oc5ZOl:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766302469&amp;x-signature=8RQKb6JcsRzalmav6XUcR0ayme4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç‰¹æ®Šçš„ï¼ŒinnerScale æ˜¯ 1 çš„è¯ï¼Œå°±ä¼šè®© n è§’æ˜Ÿå½¢å˜æˆ 2n å¤šè¾¹å½¢ã€‚</p>
<p>å¦å¤–ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œ<strong>åŒ…å›´ç›’å…¶å®æ˜¯ä¸€ä¸ªåœ†å½¢ï¼Œè€Œä¸æ˜¯çŸ©å½¢</strong>ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Figma çš„ <strong>æ˜Ÿå½¢å’Œå¤šè¾¹å½¢åœ¨çŸ©å½¢åŒ…å›´ç›’ä¸‹ä¼šæœ‰ç©ºéš™</strong> çš„åŸå› ã€‚å› ä¸ºåŒ…å›´ç›’å®ƒä¸æ˜¯åœ†å½¢çš„ã€‚</p>
<h2 data-id="heading-1">ä»£ç å®ç°</h2>
<pre><code class="hljs language-ini" lang="ini">interfaceÂ Point {
Â  x:Â number<span class="hljs-comment">;</span>
Â  y:Â number<span class="hljs-comment">;</span>
}

constÂ <span class="hljs-attr">getInnerRegularPolygon</span> = (
Â  radius:Â number,
Â  count:Â number,
Â  startAngle:Â <span class="hljs-attr">number</span>Â =Â <span class="hljs-number">0</span>,
): Point<span class="hljs-section">[]</span> =&gt; {
letÂ <span class="hljs-attr">p</span> = { x:Â <span class="hljs-number">0</span>, y: -radius }<span class="hljs-comment">;</span>
ifÂ (startAngle) {
Â  Â  <span class="hljs-attr">p</span> = rotate(p, startAngle)<span class="hljs-comment">;</span>
Â  }
constÂ points: Point<span class="hljs-section">[]</span> = <span class="hljs-section">[p]</span><span class="hljs-comment">;</span>

constÂ <span class="hljs-attr">dAngle</span> = (Math.PI *Â <span class="hljs-number">2</span>) / count<span class="hljs-comment">;</span>

forÂ (letÂ <span class="hljs-attr">i</span> =Â <span class="hljs-number">1</span><span class="hljs-comment">; i &lt; count; i++) {</span>
Â  Â  points.push(rotate(p, dAngle * i))<span class="hljs-comment">;</span>
Â  }

returnÂ points<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

constÂ <span class="hljs-attr">rotate</span> =Â (p: Point, rad:Â number) =&gt;Â {
returnÂ {
Â  Â  x: p.x *Â Math.cos(rad) - p.y *Â Math.sin(rad),
Â  Â  y: p.x *Â Math.sin(rad) + p.y *Â Math.cos(rad),
Â  }<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

exportconstÂ <span class="hljs-attr">getStarPoints</span> = (
Â  width:Â number,
Â  height:Â number,
Â  count:Â number,
Â  innerScale:Â number,
): Point<span class="hljs-section">[]</span> =&gt; {
constÂ <span class="hljs-attr">outerPoints</span> = getInnerRegularPolygon(<span class="hljs-number">1</span>, count)<span class="hljs-comment">;</span>
constÂ <span class="hljs-attr">innerPoints</span> = getInnerRegularPolygon(
Â  Â  innerScale,
Â  Â  count,
Â  Â Â Math.PI / count,
Â  )<span class="hljs-comment">;</span>

constÂ <span class="hljs-attr">points</span> = []<span class="hljs-comment">;</span>
forÂ (letÂ <span class="hljs-attr">i</span> =Â <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; count; i++) {</span>
Â  Â  points.push(outerPoints<span class="hljs-section">[i]</span>)<span class="hljs-comment">;</span>
Â  Â  points.push(innerPoints<span class="hljs-section">[i]</span>)<span class="hljs-comment">;</span>
Â  }

constÂ <span class="hljs-attr">halfWidth</span> = width /Â <span class="hljs-number">2</span><span class="hljs-comment">;</span>
constÂ <span class="hljs-attr">halfHeight</span> = height /Â <span class="hljs-number">2</span><span class="hljs-comment">;</span>

// scale(width/2, height/2) * translate(width/2, height/2)
forÂ (letÂ <span class="hljs-attr">i</span> =Â <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; points.length; i++) {</span>
Â  Â  points<span class="hljs-section">[i]</span>.<span class="hljs-attr">x</span> = points[i].x * halfWidth + halfWidth<span class="hljs-comment">;</span>
Â  Â  points<span class="hljs-section">[i]</span>.<span class="hljs-attr">y</span> = points[i].y * halfHeight + halfHeight<span class="hljs-comment">;</span>
Â  }

returnÂ points<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>


</code></pre>
<h2 data-id="heading-2">ç»“å°¾</h2>
<p>æ˜Ÿå½¢ï¼Œæœ¬è´¨æ˜¯ä¸¤ä¸ªå¤šè¾¹å½¢çš„ç‚¹çš„äº¤æ›¿è¿æ¥ã€‚</p>
<p>å‡ ä½•ç®—æ³•å¾ˆæœ‰è¶£å§ã€‚</p>
<p>æˆ‘æ˜¯å‰ç«¯è¥¿ç“œå“¥ï¼Œå…³æ³¨æˆ‘ï¼Œå­¦ä¹ æ›´å¤šå¹³é¢å‡ ä½•çŸ¥è¯†ã€‚</p>
<hr/>
<p>ç›¸å…³é˜…è¯»ï¼Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI0NTc2NTEyNA%3D%3D%26mid%3D2247487888%26idx%3D1%26sn%3D784c37807b3eb9b1ae5dc98831303bf8%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzI0NTc2NTEyNA==&amp;mid=2247487888&amp;idx=1&amp;sn=784c37807b3eb9b1ae5dc98831303bf8&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å¹³é¢å‡ ä½•ï¼šæ±‚å†…æ¥æˆ–å¤–åˆ‡äºåœ†çš„æ­£å¤šè¾¹å½¢</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzI0NTc2NTEyNA%3D%3D%26mid%3D2247488043%26idx%3D1%26sn%3Dccc0eacea698caa718e492e8034c0f34%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzI0NTc2NTEyNA==&amp;mid=2247488043&amp;idx=1&amp;sn=ccc0eacea698caa718e492e8034c0f34&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">å¹³é¢å‡ ä½•ï¼šåˆ¤æ–­ç‚¹æ˜¯å¦åœ¨å¤šè¾¹å½¢å†…ï¼ˆå°„çº¿æ³•ï¼‰</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 ç»„ä»¶æ‡’åŠ è½½æ·±åº¦è§£æï¼šä»åŸç†åˆ°æè‡´ä¼˜åŒ–çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7583528177558306866</link>    <guid>https://juejin.cn/post/7583528177558306866</guid>    <pubDate>2025-12-14T07:50:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583528177558306866" data-draft-id="7583528177558290482" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 ç»„ä»¶æ‡’åŠ è½½æ·±åº¦è§£æï¼šä»åŸç†åˆ°æè‡´ä¼˜åŒ–çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-14T07:50:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 ç»„ä»¶æ‡’åŠ è½½æ·±åº¦è§£æï¼šä»åŸç†åˆ°æè‡´ä¼˜åŒ–çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T07:50:38.000Z" title="Sun Dec 14 2025 07:50:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>æ‘˜è¦</strong></h2>
<p>ç»„ä»¶æ‡’åŠ è½½æ˜¯ç°ä»£å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„æ ¸å¿ƒæŠ€æœ¯ï¼ŒVue3 æä¾›äº†å¤šç§å¼ºå¤§çš„æ‡’åŠ è½½æ–¹æ¡ˆã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Vue3 ä¸­ç»„ä»¶æ‡’åŠ è½½çš„å®ç°åŸç†ã€ä½¿ç”¨åœºæ™¯ã€æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼Œé€šè¿‡è¯¦ç»†çš„ä»£ç ç¤ºä¾‹ã€æ‰§è¡Œæµç¨‹åˆ†æå’Œå®é™…é¡¹ç›®æ¡ˆä¾‹ï¼Œå¸®åŠ©ä½ å…¨é¢æŒæ¡ Vue3 ç»„ä»¶æ‡’åŠ è½½çš„å®Œæ•´çŸ¥è¯†ä½“ç³»ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>ä¸€ã€ ä»€ä¹ˆæ˜¯ç»„ä»¶æ‡’åŠ è½½ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong></h2>
<h3 data-id="heading-2"><strong>1.1 ä¼ ç»Ÿç»„ä»¶åŠ è½½çš„é—®é¢˜</strong></h3>
<p>åœ¨ä¼ ç»Ÿçš„ Vue åº”ç”¨ä¸­ï¼Œæ‰€æœ‰ç»„ä»¶é€šå¸¸è¢«æ‰“åŒ…åˆ°ä¸€ä¸ª JavaScript æ–‡ä»¶ä¸­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¼ ç»ŸåŒæ­¥å¯¼å…¥æ–¹å¼</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Home</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Home.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">About</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/About.vue'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Contact</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/Contact.vue'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>({
  <span class="hljs-attr">components</span>: {
    <span class="hljs-title class_">Home</span>,
    <span class="hljs-title class_">About</span>,
    <span class="hljs-title class_">Contact</span>
  }
})
</code></pre>
<p><strong>ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜ï¼š</strong></p>
<ul>
<li><strong>é¦–å±åŠ è½½ç¼“æ…¢</strong>ï¼šç”¨æˆ·éœ€è¦ä¸‹è½½æ•´ä¸ªåº”ç”¨ä»£ç æ‰èƒ½çœ‹åˆ°é¦–å±å†…å®¹</li>
<li><strong>èµ„æºæµªè´¹</strong>ï¼šç”¨æˆ·å¯èƒ½æ°¸è¿œä¸ä¼šè®¿é—®æŸäº›é¡µé¢ï¼Œä½†ä¾ç„¶åŠ è½½äº†å¯¹åº”ç»„ä»¶</li>
<li><strong>ç”¨æˆ·ä½“éªŒå·®</strong>ï¼šç‰¹åˆ«æ˜¯å¯¹äºç§»åŠ¨ç«¯ç”¨æˆ·å’Œç½‘ç»œæ¡ä»¶è¾ƒå·®çš„åœºæ™¯</li>
<li><strong>ç¼“å­˜æ•ˆç‡ä½</strong>ï¼šæ•´ä¸ªåº”ç”¨æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œä»»ä½•æ”¹åŠ¨éƒ½ä¼šä½¿ç¼“å­˜å¤±æ•ˆ</li>
</ul>
<h3 data-id="heading-3"><strong>1.2 ç»„ä»¶æ‡’åŠ è½½çš„è§£å†³æ–¹æ¡ˆ</strong></h3>
<p>æ‡’åŠ è½½ï¼ˆLazy Loadingï¼‰ä¹Ÿç§°ä¸ºä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰ï¼Œå®ƒå…è®¸æˆ‘ä»¬å°†ä»£ç åˆ†å‰²æˆå¤šä¸ª chunkï¼Œåªåœ¨éœ€è¦æ—¶åŠ è½½ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ‡’åŠ è½½æ–¹å¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Home</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">'./components/Home.vue'</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">About</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">'./components/About.vue'</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title function_">Contact</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-keyword">import</span>(<span class="hljs-string">'./components/Contact.vue'</span>)
</code></pre>
<p><strong>æ‡’åŠ è½½çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>æ›´å¿«çš„é¦–å±åŠ è½½</strong>ï¼šåªåŠ è½½å½“å‰é¡µé¢éœ€è¦çš„ä»£ç </li>
<li><strong>æŒ‰éœ€åŠ è½½</strong>ï¼šæ ¹æ®ç”¨æˆ·æ“ä½œåŠ¨æ€åŠ è½½ç»„ä»¶</li>
<li><strong>æ›´å¥½çš„ç¼“å­˜</strong>ï¼šç‹¬ç«‹çš„ chunk å¯ä»¥ç‹¬ç«‹ç¼“å­˜</li>
<li><strong>ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ</strong>ï¼šå‡å°‘åˆå§‹åŠ è½½æ—¶é—´</li>
</ul>
<hr/>
<h2 data-id="heading-4"><strong>äºŒã€ Vue3 ç»„ä»¶æ‡’åŠ è½½æ ¸å¿ƒæ¦‚å¿µ</strong></h2>
<h3 data-id="heading-5"><strong>2.1 æ‡’åŠ è½½çš„å·¥ä½œåŸç†</strong></h3>
<p><strong>æµç¨‹å›¾ï¼šç»„ä»¶æ‡’åŠ è½½å®Œæ•´å·¥ä½œæµç¨‹</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[ç”¨æˆ·è®¿é—®åº”ç”¨] --&gt; B[åŠ è½½ä¸»åŒ… main.js]
    B --&gt; C[æ¸²æŸ“é¦–å±å†…å®¹]
    C --&gt; D{ç”¨æˆ·è§¦å‘æ‡’åŠ è½½?}
    
    D -- è·¯ç”±åˆ‡æ¢ --&gt; E[åŠ è½½å¯¹åº”è·¯ç”±ç»„ä»¶]
    D -- æ¡ä»¶æ¸²æŸ“ --&gt; F[åŠ è½½æ¡ä»¶ç»„ä»¶]
    D -- ç”¨æˆ·äº¤äº’ --&gt; G[åŠ è½½äº¤äº’ç»„ä»¶]
    
    E --&gt; H[æ˜¾ç¤ºåŠ è½½çŠ¶æ€]
    F --&gt; H
    G --&gt; H
    
    H --&gt; I[ç½‘ç»œè¯·æ±‚å¯¹åº”chunk]
    I --&gt; J{åŠ è½½æˆåŠŸ?}
    J -- æ˜¯ --&gt; K[æ¸²æŸ“æ‡’åŠ è½½ç»„ä»¶]
    J -- å¦ --&gt; L[æ˜¾ç¤ºé”™è¯¯çŠ¶æ€]
    
    K --&gt; M[ç»„ä»¶æ¿€æ´»ä½¿ç”¨]
    L --&gt; N[æä¾›é‡è¯•æœºåˆ¶]
</code></pre>
<h3 data-id="heading-6"><strong>2.2 æ‡’åŠ è½½çš„æ ¸å¿ƒæ¦‚å¿µ</strong></h3>
<ul>
<li><strong>ä»£ç åˆ†å‰²</strong>ï¼šå°†ä»£ç æ‹†åˆ†æˆå¤šä¸ªå°å—ï¼ˆchunksï¼‰</li>
<li><strong>åŠ¨æ€å¯¼å…¥</strong>ï¼šä½¿ç”¨ <code>import()</code> å‡½æ•°åœ¨è¿è¡Œæ—¶åŠ è½½æ¨¡å—</li>
<li><strong>ç»„ä»¶å·¥å‚</strong>ï¼šè¿”å› Promise çš„å‡½æ•°ï¼Œè§£æä¸ºç»„ä»¶å®šä¹‰</li>
<li><strong>åŠ è½½çŠ¶æ€</strong>ï¼šåœ¨ç»„ä»¶åŠ è½½æœŸé—´æ˜¾ç¤ºçš„å›é€€å†…å®¹</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šåŠ è½½å¤±è´¥æ—¶çš„é™çº§æ–¹æ¡ˆ</li>
</ul>
<hr/>
<h2 data-id="heading-7"><strong>ä¸‰ã€ Vue3 ç»„ä»¶æ‡’åŠ è½½åŸºç¡€å®ç°</strong></h2>
<h3 data-id="heading-8"><strong>3.1 ä½¿ç”¨ defineAsyncComponent å®ç°æ‡’åŠ è½½</strong></h3>
<p>Vue3 æä¾›äº† <code>defineAsyncComponent</code> å‡½æ•°æ¥åˆ›å»ºå¼‚æ­¥ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="basic-lazy-demo"&gt;
    &lt;h2&gt;åŸºç¡€æ‡’åŠ è½½ç¤ºä¾‹&lt;/h2&gt;
    
    &lt;div class="controls"&gt;
      &lt;button @click="showLazyComponent = !showLazyComponent" class="btn-primary"&gt;
        {{ showLazyComponent ? 'éšè—' : 'æ˜¾ç¤º' }} æ‡’åŠ è½½ç»„ä»¶
      &lt;/button&gt;
    &lt;/div&gt;

    &lt;div class="component-area"&gt;
      &lt;!-- åŒæ­¥åŠ è½½çš„ç»„ä»¶ --&gt;
      &lt;div v-if="!showLazyComponent" class="sync-component"&gt;
        &lt;h3&gt;åŒæ­¥åŠ è½½çš„ç»„ä»¶&lt;/h3&gt;
        &lt;p&gt;è¿™ä¸ªç»„ä»¶åœ¨ä¸»åŒ…ä¸­ï¼Œç«‹å³å¯ç”¨&lt;/p&gt;
      &lt;/div&gt;

      &lt;!-- æ‡’åŠ è½½çš„ç»„ä»¶ --&gt;
      &lt;Suspense v-else&gt;
        &lt;template #default&gt;
          &lt;LazyBasicComponent /&gt;
        &lt;/template&gt;
        &lt;template #fallback&gt;
          &lt;div class="loading-state"&gt;
            &lt;div class="spinner"&gt;&lt;/div&gt;
            &lt;p&gt;æ‡’åŠ è½½ç»„ä»¶åŠ è½½ä¸­...&lt;/p&gt;
          &lt;/div&gt;
        &lt;/template&gt;
      &lt;/Suspense&gt;
    &lt;/div&gt;

    &lt;div class="bundle-info"&gt;
      &lt;h3&gt;æ‰“åŒ…ä¿¡æ¯åˆ†æ&lt;/h3&gt;
      &lt;div class="info-grid"&gt;
        &lt;div class="info-item"&gt;
          &lt;span&gt;ä¸»åŒ…å¤§å°:&lt;/span&gt;
          &lt;strong&gt;~15KB&lt;/strong&gt;
        &lt;/div&gt;
        &lt;div class="info-item"&gt;
          &lt;span&gt;æ‡’åŠ è½½ç»„ä»¶å¤§å°:&lt;/span&gt;
          &lt;strong&gt;~8KB (å•ç‹¬chunk)&lt;/strong&gt;
        &lt;/div&gt;
        &lt;div class="info-item"&gt;
          &lt;span&gt;åŠ è½½æ–¹å¼:&lt;/span&gt;
          &lt;strong&gt;æŒ‰éœ€åŠ è½½&lt;/strong&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, defineAsyncComponent } from 'vue'

const showLazyComponent = ref(false)

// ä½¿ç”¨ defineAsyncComponent å®šä¹‰æ‡’åŠ è½½ç»„ä»¶
const LazyBasicComponent = defineAsyncComponent(() =&gt; 
  import('./components/LazyBasicComponent.vue')
)
&lt;/script&gt;

&lt;style scoped&gt;
.basic-lazy-demo {
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
  font-family: Arial, sans-serif;
}

.controls {
  margin: 20px 0;
  text-align: center;
}

.btn-primary {
  padding: 12px 24px;
  background: #42b883;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 16px;
  transition: background 0.3s;
}

.btn-primary:hover {
  background: #369870;
}

.component-area {
  margin: 30px 0;
  min-height: 200px;
}

.sync-component {
  padding: 30px;
  background: #e3f2fd;
  border: 2px solid #2196f3;
  border-radius: 8px;
  text-align: center;
}

.sync-component h3 {
  margin: 0 0 15px 0;
  color: #1976d2;
}

.loading-state {
  padding: 40px;
  background: #fff3e0;
  border: 2px dashed #ff9800;
  border-radius: 8px;
  text-align: center;
  color: #e65100;
}

.spinner {
  width: 40px;
  height: 40px;
  border: 4px solid #f3f3f3;
  border-top: 4px solid #ff9800;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto 16px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.bundle-info {
  margin-top: 30px;
  padding: 20px;
  background: #f5f5f5;
  border-radius: 8px;
}

.bundle-info h3 {
  margin: 0 0 15px 0;
  color: #333;
}

.info-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
}

.info-item {
  display: flex;
  justify-content: space-between;
  padding: 12px;
  background: white;
  border-radius: 6px;
  border-left: 4px solid #42b883;
}

.info-item span {
  color: #666;
}

.info-item strong {
  color: #2c3e50;
}
&lt;/style&gt;
</code></pre>
<p><strong>LazyBasicComponent.vue</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="lazy-basic-component"&gt;
    &lt;h3&gt;ğŸš€ æ‡’åŠ è½½ç»„ä»¶å·²åŠ è½½!&lt;/h3&gt;
    &lt;div class="component-content"&gt;
      &lt;p&gt;è¿™ä¸ªç»„ä»¶æ˜¯é€šè¿‡æ‡’åŠ è½½æ–¹å¼åŠ¨æ€åŠ è½½çš„&lt;/p&gt;
      &lt;div class="features"&gt;
        &lt;div class="feature"&gt;
          &lt;span class="icon"&gt;ğŸ“¦&lt;/span&gt;
          &lt;span&gt;ç‹¬ç«‹ chunk&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="feature"&gt;
          &lt;span class="icon"&gt;âš¡&lt;/span&gt;
          &lt;span&gt;æŒ‰éœ€åŠ è½½&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class="feature"&gt;
          &lt;span class="icon"&gt;ğŸ¯&lt;/span&gt;
          &lt;span&gt;æ€§èƒ½ä¼˜åŒ–&lt;/span&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      &lt;p class="load-time"&gt;ç»„ä»¶åŠ è½½æ—¶é—´: {{ loadTime }}&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, onMounted } from 'vue'

const loadTime = ref('')

onMounted(() =&gt; {
  loadTime.value = new Date().toLocaleTimeString()
  console.log('LazyBasicComponent å·²æŒ‚è½½')
})
&lt;/script&gt;

&lt;style scoped&gt;
.lazy-basic-component {
  padding: 30px;
  background: #e8f5e8;
  border: 2px solid #4caf50;
  border-radius: 8px;
  text-align: center;
}

.lazy-basic-component h3 {
  margin: 0 0 20px 0;
  color: #2e7d32;
  font-size: 24px;
}

.component-content {
  max-width: 400px;
  margin: 0 auto;
}

.features {
  display: flex;
  justify-content: space-around;
  margin: 25px 0;
  padding: 20px;
  background: white;
  border-radius: 8px;
}

.feature {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.feature .icon {
  font-size: 24px;
}

.feature span:last-child {
  font-size: 14px;
  color: #666;
}

.load-time {
  margin: 20px 0 0 0;
  padding: 10px;
  background: #2c3e50;
  color: white;
  border-radius: 4px;
  font-family: 'Courier New', monospace;
  font-size: 14px;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-9"><strong>3.2 è·¯ç”±çº§åˆ«çš„æ‡’åŠ è½½</strong></h3>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œè·¯ç”±çº§åˆ«çš„æ‡’åŠ è½½æ˜¯æœ€å¸¸è§çš„åº”ç”¨åœºæ™¯ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// router/index.js</span>
<span class="hljs-keyword">import</span> { createRouter, createWebHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>

<span class="hljs-keyword">const</span> routes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Home'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/Home.vue'</span>)  <span class="hljs-comment">// æ‡’åŠ è½½é¦–é¡µ</span>
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/about'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'About'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/About.vue'</span>) <span class="hljs-comment">// æ‡’åŠ è½½å…³äºé¡µ</span>
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/products'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Products'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/Products.vue'</span>) <span class="hljs-comment">// æ‡’åŠ è½½äº§å“é¡µ</span>
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/contact'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Contact'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/Contact.vue'</span>) <span class="hljs-comment">// æ‡’åŠ è½½è”ç³»é¡µ</span>
  }
]

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
  <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHistory</span>(),
  routes
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router
</code></pre>
<p><strong>å¸¦åŠ è½½çŠ¶æ€çš„è·¯ç”±æ‡’åŠ è½½ï¼š</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="route-lazy-demo"&gt;
    &lt;h2&gt;è·¯ç”±çº§åˆ«æ‡’åŠ è½½ç¤ºä¾‹&lt;/h2&gt;
    
    &lt;nav class="nav-tabs"&gt;
      &lt;router-link 
        v-for="tab in tabs" 
        :key="tab.path"
        :to="tab.path"
        class="nav-tab"
        active-class="active"
      &gt;
        {{ tab.name }}
      &lt;/router-link&gt;
    &lt;/nav&gt;

    &lt;div class="route-content"&gt;
      &lt;RouterView v-slot="{ Component }"&gt;
        &lt;Suspense&gt;
          &lt;template #default&gt;
            &lt;component :is="Component" /&gt;
          &lt;/template&gt;
          &lt;template #fallback&gt;
            &lt;div class="route-loading"&gt;
              &lt;div class="loading-content"&gt;
                &lt;div class="spinner large"&gt;&lt;/div&gt;
                &lt;p&gt;é¡µé¢åŠ è½½ä¸­...&lt;/p&gt;
                &lt;div class="loading-dots"&gt;
                  &lt;span&gt;&lt;/span&gt;
                  &lt;span&gt;&lt;/span&gt;
                  &lt;span&gt;&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/template&gt;
        &lt;/Suspense&gt;
      &lt;/RouterView&gt;
    &lt;/div&gt;

    &lt;div class="route-info"&gt;
      &lt;h3&gt;è·¯ç”±æ‡’åŠ è½½ä¿¡æ¯&lt;/h3&gt;
      &lt;div class="chunk-status"&gt;
        &lt;div 
          v-for="chunk in chunkStatus" 
          :key="chunk.name"
          class="chunk-item"
          :class="chunk.status"
        &gt;
          &lt;span class="chunk-name"&gt;{{ chunk.name }}&lt;/span&gt;
          &lt;span class="chunk-status"&gt;{{ chunk.status }}&lt;/span&gt;
          &lt;span class="chunk-size"&gt;{{ chunk.size }}&lt;/span&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, watch } from 'vue'
import { useRoute } from 'vue-router'

const route = useRoute()

const tabs = [
  { path: '/', name: 'é¦–é¡µ' },
  { path: '/about', name: 'å…³äºæˆ‘ä»¬' },
  { path: '/products', name: 'äº§å“æœåŠ¡' },
  { path: '/contact', name: 'è”ç³»æˆ‘ä»¬' }
]

const chunkStatus = ref([
  { name: 'home', status: 'loaded', size: '15KB' },
  { name: 'about', status: 'pending', size: '12KB' },
  { name: 'products', status: 'pending', size: '25KB' },
  { name: 'contact', status: 'pending', size: '8KB' }
])

// ç›‘å¬è·¯ç”±å˜åŒ–ï¼Œæ¨¡æ‹Ÿ chunk åŠ è½½çŠ¶æ€
watch(() =&gt; route.name, (newRouteName) =&gt; {
  const chunkName = newRouteName.toLowerCase()
  chunkStatus.value.forEach(chunk =&gt; {
    if (chunk.name === chunkName) {
      chunk.status = 'loaded'
    }
  })
})
&lt;/script&gt;

&lt;style scoped&gt;
.route-lazy-demo {
  max-width: 1000px;
  margin: 0 auto;
  padding: 20px;
}

.nav-tabs {
  display: flex;
  background: #f8f9fa;
  border-radius: 8px;
  padding: 5px;
  margin: 20px 0;
}

.nav-tab {
  flex: 1;
  padding: 12px 20px;
  text-align: center;
  text-decoration: none;
  color: #666;
  border-radius: 6px;
  transition: all 0.3s;
}

.nav-tab:hover {
  background: #e9ecef;
  color: #333;
}

.nav-tab.active {
  background: #42b883;
  color: white;
}

.route-content {
  min-height: 400px;
  margin: 30px 0;
}

.route-loading {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  background: #f8f9fa;
  border-radius: 8px;
  border: 2px dashed #dee2e6;
}

.loading-content {
  text-align: center;
  color: #666;
}

.spinner.large {
  width: 60px;
  height: 60px;
  border: 6px solid #f3f3f3;
  border-top: 6px solid #42b883;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto 20px;
}

.loading-dots {
  display: flex;
  justify-content: center;
  gap: 4px;
  margin-top: 15px;
}

.loading-dots span {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #42b883;
  animation: bounce 1.4s infinite ease-in-out;
}

.loading-dots span:nth-child(1) { animation-delay: -0.32s; }
.loading-dots span:nth-child(2) { animation-delay: -0.16s; }

@keyframes bounce {
  0%, 80%, 100% {
    transform: scale(0);
  }
  40% {
    transform: scale(1);
  }
}

.route-info {
  margin-top: 30px;
  padding: 20px;
  background: #2c3e50;
  border-radius: 8px;
  color: white;
}

.route-info h3 {
  margin: 0 0 15px 0;
  color: #42b883;
}

.chunk-status {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.chunk-item {
  display: flex;
  justify-content: space-between;
  padding: 12px 15px;
  background: #34495e;
  border-radius: 6px;
  transition: all 0.3s;
}

.chunk-item.loaded {
  border-left: 4px solid #27ae60;
}

.chunk-item.pending {
  border-left: 4px solid #f39c12;
  opacity: 0.7;
}

.chunk-name {
  font-weight: bold;
  color: #ecf0f1;
}

.chunk-status {
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: bold;
  text-transform: uppercase;
}

.chunk-item.loaded .chunk-status {
  background: #27ae60;
  color: white;
}

.chunk-item.pending .chunk-status {
  background: #f39c12;
  color: white;
}

.chunk-size {
  color: #bdc3c7;
  font-family: 'Courier New', monospace;
}
&lt;/style&gt;
</code></pre>
<hr/>
<h2 data-id="heading-10"><strong>å››ã€ é«˜çº§æ‡’åŠ è½½é…ç½®ä¸ä¼˜åŒ–</strong></h2>
<h3 data-id="heading-11"><strong>4.1 å®Œæ•´çš„å¼‚æ­¥ç»„ä»¶é…ç½®</strong></h3>
<p>Vue3 çš„ <code>defineAsyncComponent</code> æ”¯æŒå®Œæ•´çš„é…ç½®é€‰é¡¹ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="advanced-lazy-demo"&gt;
    &lt;h2&gt;é«˜çº§æ‡’åŠ è½½é…ç½®&lt;/h2&gt;
    
    &lt;div class="controls"&gt;
      &lt;button @click="loadComponent('success')" class="btn-success"&gt;
        åŠ è½½æˆåŠŸç»„ä»¶
      &lt;/button&gt;
      &lt;button @click="loadComponent('error')" class="btn-error"&gt;
        åŠ è½½é”™è¯¯ç»„ä»¶
      &lt;/button&gt;
      &lt;button @click="loadComponent('timeout')" class="btn-warning"&gt;
        åŠ è½½è¶…æ—¶ç»„ä»¶
      &lt;/button&gt;
      &lt;button @click="loadComponent('delay')" class="btn-info"&gt;
        åŠ è½½å»¶è¿Ÿç»„ä»¶
      &lt;/button&gt;
    &lt;/div&gt;

    &lt;div class="component-area"&gt;
      &lt;AdvancedAsyncComponent 
        v-if="currentComponent"
        :key="componentKey"
      /&gt;
    &lt;/div&gt;

    &lt;div class="config-info"&gt;
      &lt;h3&gt;å¼‚æ­¥ç»„ä»¶é…ç½®è¯´æ˜&lt;/h3&gt;
      &lt;div class="config-grid"&gt;
        &lt;div class="config-item"&gt;
          &lt;h4&gt;loader&lt;/h4&gt;
          &lt;p&gt;ç»„ä»¶åŠ è½½å‡½æ•°ï¼Œè¿”å› Promise&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class="config-item"&gt;
          &lt;h4&gt;loadingComponent&lt;/h4&gt;
          &lt;p&gt;åŠ è½½è¿‡ç¨‹ä¸­æ˜¾ç¤ºçš„ç»„ä»¶&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class="config-item"&gt;
          &lt;h4&gt;errorComponent&lt;/h4&gt;
          &lt;p&gt;åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤ºçš„ç»„ä»¶&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class="config-item"&gt;
          &lt;h4&gt;delay&lt;/h4&gt;
          &lt;p&gt;å»¶è¿Ÿæ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼ˆé¿å…é—ªçƒï¼‰&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class="config-item"&gt;
          &lt;h4&gt;timeout&lt;/h4&gt;
          &lt;p&gt;åŠ è½½è¶…æ—¶æ—¶é—´&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class="config-item"&gt;
          &lt;h4&gt;onError&lt;/h4&gt;
          &lt;p&gt;é”™è¯¯å¤„ç†å›è°ƒå‡½æ•°&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, defineAsyncComponent } from 'vue'
import LoadingSpinner from './components/LoadingSpinner.vue'
import ErrorDisplay from './components/ErrorDisplay.vue'

const currentComponent = ref(null)
const componentKey = ref(0)

// æ¨¡æ‹Ÿä¸åŒåŠ è½½åœºæ™¯çš„ç»„ä»¶
const componentConfigs = {
  success: () =&gt; import('./components/SuccessComponent.vue'),
  error: () =&gt; Promise.reject(new Error('æ¨¡æ‹ŸåŠ è½½é”™è¯¯')),
  timeout: () =&gt; new Promise(() =&gt; {}), // æ°¸è¿œä¸ä¼š resolve
  delay: () =&gt; new Promise(resolve =&gt; {
    setTimeout(() =&gt; {
      resolve(import('./components/DelayedComponent.vue'))
    }, 3000)
  })
}

// é«˜çº§å¼‚æ­¥ç»„ä»¶é…ç½®
const AdvancedAsyncComponent = defineAsyncComponent({
  // åŠ è½½å™¨å‡½æ•°
  loader: () =&gt; currentComponent.value?.loader() || Promise.reject(new Error('æœªé€‰æ‹©ç»„ä»¶')),
  
  // åŠ è½½ä¸­æ˜¾ç¤ºçš„ç»„ä»¶
  loadingComponent: LoadingSpinner,
  
  // åŠ è½½å¤±è´¥æ˜¾ç¤ºçš„ç»„ä»¶
  errorComponent: ErrorDisplay,
  
  // å»¶è¿Ÿæ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼ˆé¿å…é—ªçƒï¼‰
  delay: 200,
  
  // è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
  timeout: 5000,
  
  // é”™è¯¯å¤„ç†å‡½æ•°
  onError: (error, retry, fail, attempts) =&gt; {
    console.error(`ç»„ä»¶åŠ è½½å¤±è´¥ (å°è¯•æ¬¡æ•°: ${attempts}):`, error)
    
    // æœ€å¤šé‡è¯• 3 æ¬¡
    if (attempts &lt;= 3) {
      console.log(`ç¬¬ ${attempts} æ¬¡é‡è¯•...`)
      retry()
    } else {
      fail()
    }
  },
  
  // å¯æŒ‚èµ·ï¼ˆSuspense ç›¸å…³ï¼‰
  suspensible: false
})

const loadComponent = (type) =&gt; {
  currentComponent.value = {
    loader: componentConfigs[type],
    type: type
  }
  componentKey.value++ // å¼ºåˆ¶é‡æ–°åˆ›å»ºç»„ä»¶
}
&lt;/script&gt;

&lt;style scoped&gt;
.advanced-lazy-demo {
  padding: 20px;
  max-width: 1000px;
  margin: 0 auto;
}

.controls {
  display: flex;
  gap: 15px;
  justify-content: center;
  margin: 30px 0;
  flex-wrap: wrap;
}

.btn-success { background: #27ae60; }
.btn-error { background: #e74c3c; }
.btn-warning { background: #f39c12; }
.btn-info { background: #3498db; }

.btn-success, .btn-error, .btn-warning, .btn-info {
  color: white;
  border: none;
  padding: 12px 20px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.3s;
}

.btn-success:hover { background: #229954; }
.btn-error:hover { background: #c0392b; }
.btn-warning:hover { background: #e67e22; }
.btn-info:hover { background: #2980b9; }

.component-area {
  min-height: 300px;
  margin: 30px 0;
  border: 2px dashed #ddd;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.config-info {
  margin-top: 40px;
  padding: 25px;
  background: #f8f9fa;
  border-radius: 8px;
}

.config-info h3 {
  margin: 0 0 20px 0;
  color: #2c3e50;
  text-align: center;
}

.config-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}

.config-item {
  padding: 20px;
  background: white;
  border-radius: 8px;
  border-left: 4px solid #42b883;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.config-item h4 {
  margin: 0 0 10px 0;
  color: #42b883;
  font-size: 16px;
}

.config-item p {
  margin: 0;
  color: #666;
  line-height: 1.5;
}
&lt;/style&gt;
</code></pre>
<p><strong>LoadingSpinner.vue</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="loading-spinner"&gt;
    &lt;div class="spinner-container"&gt;
      &lt;div class="spinner"&gt;&lt;/div&gt;
      &lt;p&gt;ç»„ä»¶åŠ è½½ä¸­...&lt;/p&gt;
      &lt;div class="progress"&gt;
        &lt;div class="progress-bar" :style="progressStyle"&gt;&lt;/div&gt;
      &lt;/div&gt;
      &lt;p class="hint"&gt;è¿™é€šå¸¸å¾ˆå¿«ï¼Œè¯·è€å¿ƒç­‰å¾…&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, onMounted, onUnmounted } from 'vue'

const progress = ref(0)
let progressInterval

onMounted(() =&gt; {
  progressInterval = setInterval(() =&gt; {
    progress.value = Math.min(progress.value + Math.random() * 10, 90)
  }, 200)
})

onUnmounted(() =&gt; {
  clearInterval(progressInterval)
})

const progressStyle = {
  width: `${progress.value}%`
}
&lt;/script&gt;

&lt;style scoped&gt;
.loading-spinner {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 40px;
  text-align: center;
}

.spinner-container {
  max-width: 300px;
}

.spinner {
  width: 50px;
  height: 50px;
  border: 4px solid #f3f3f3;
  border-top: 4px solid #42b883;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto 20px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.progress {
  width: 100%;
  height: 6px;
  background: #f0f0f0;
  border-radius: 3px;
  margin: 15px 0;
  overflow: hidden;
}

.progress-bar {
  height: 100%;
  background: linear-gradient(90deg, #42b883, #369870);
  border-radius: 3px;
  transition: width 0.3s ease;
}

.hint {
  font-size: 12px;
  color: #999;
  margin: 10px 0 0 0;
}
&lt;/style&gt;
</code></pre>
<p><strong>ErrorDisplay.vue</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="error-display"&gt;
    &lt;div class="error-container"&gt;
      &lt;div class="error-icon"&gt;âŒ&lt;/div&gt;
      &lt;h3&gt;ç»„ä»¶åŠ è½½å¤±è´¥&lt;/h3&gt;
      &lt;p class="error-message"&gt;{{ error?.message || 'æœªçŸ¥é”™è¯¯' }}&lt;/p&gt;
      &lt;div class="error-actions"&gt;
        &lt;button @click="retry" class="retry-btn"&gt;
          ğŸ”„ é‡è¯•åŠ è½½
        &lt;/button&gt;
        &lt;button @click="reset" class="reset-btn"&gt;
          ğŸ  è¿”å›é¦–é¡µ
        &lt;/button&gt;
      &lt;/div&gt;
      &lt;p class="error-hint"&gt;å¦‚æœé—®é¢˜æŒç»­å­˜åœ¨ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒ&lt;/p&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
const props = defineProps({
  error: {
    type: Error,
    default: null
  }
})

const emit = defineEmits(['retry'])

const retry = () =&gt; {
  emit('retry')
}

const reset = () =&gt; {
  window.location.href = '/'
}
&lt;/script&gt;

&lt;style scoped&gt;
.error-display {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 40px;
  text-align: center;
}

.error-container {
  max-width: 400px;
  padding: 30px;
  background: #fff5f5;
  border: 2px solid #fed7d7;
  border-radius: 8px;
}

.error-icon {
  font-size: 48px;
  margin-bottom: 20px;
}

.error-container h3 {
  margin: 0 0 15px 0;
  color: #e53e3e;
}

.error-message {
  color: #718096;
  margin-bottom: 20px;
  padding: 10px;
  background: white;
  border-radius: 4px;
  font-family: 'Courier New', monospace;
  font-size: 14px;
}

.error-actions {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-bottom: 15px;
}

.retry-btn, .reset-btn {
  padding: 10px 20px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.3s;
}

.retry-btn {
  background: #4299e1;
  color: white;
}

.retry-btn:hover {
  background: #3182ce;
}

.reset-btn {
  background: #e2e8f0;
  color: #4a5568;
}

.reset-btn:hover {
  background: #cbd5e0;
}

.error-hint {
  font-size: 12px;
  color: #a0aec0;
  margin: 0;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-12"><strong>4.2 æ¡ä»¶æ‡’åŠ è½½ä¸é¢„åŠ è½½</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="conditional-lazy-demo"&gt;
    &lt;h2&gt;æ¡ä»¶æ‡’åŠ è½½ä¸é¢„åŠ è½½ç­–ç•¥&lt;/h2&gt;
    
    &lt;div class="strategies"&gt;
      &lt;div class="strategy"&gt;
        &lt;h3&gt;1. æ¡ä»¶æ‡’åŠ è½½&lt;/h3&gt;
        &lt;div class="demo-section"&gt;
          &lt;label class="toggle-label"&gt;
            &lt;input type="checkbox" v-model="enableHeavyComponent"&gt;
            å¯ç”¨é‡å‹ç»„ä»¶
          &lt;/label&gt;
          &lt;div class="component-container"&gt;
            &lt;HeavyComponent v-if="enableHeavyComponent" /&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div class="strategy"&gt;
        &lt;h3&gt;2. é¢„åŠ è½½ç­–ç•¥&lt;/h3&gt;
        &lt;div class="demo-section"&gt;
          &lt;div class="preload-buttons"&gt;
            &lt;button @click="preloadComponent('chart')" class="preload-btn"&gt;
              é¢„åŠ è½½å›¾è¡¨ç»„ä»¶
            &lt;/button&gt;
            &lt;button @click="preloadComponent('editor')" class="preload-btn"&gt;
              é¢„åŠ è½½ç¼–è¾‘å™¨
            &lt;/button&gt;
          &lt;/div&gt;
          &lt;div class="preload-status"&gt;
            &lt;div 
              v-for="item in preloadStatus" 
              :key="item.name"
              class="status-item"
              :class="item.status"
            &gt;
              &lt;span&gt;{{ item.name }}&lt;/span&gt;
              &lt;span class="status-dot"&gt;&lt;/span&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div class="strategy"&gt;
        &lt;h3&gt;3. å¯è§æ—¶åŠ è½½&lt;/h3&gt;
        &lt;div class="demo-section"&gt;
          &lt;div class="scroll-container"&gt;
            &lt;div 
              v-for="n in 10" 
              :key="n"
              class="scroll-item"
            &gt;
              &lt;p&gt;å†…å®¹åŒºå— {{ n }}&lt;/p&gt;
              &lt;LazyWhenVisible v-if="n === 5" /&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, reactive, defineAsyncComponent, onMounted } from 'vue'

// 1. æ¡ä»¶æ‡’åŠ è½½
const enableHeavyComponent = ref(false)
const HeavyComponent = defineAsyncComponent(() =&gt; 
  import('./components/HeavyComponent.vue')
)

// 2. é¢„åŠ è½½ç­–ç•¥
const preloadStatus = reactive([
  { name: 'å›¾è¡¨ç»„ä»¶', status: 'pending' },
  { name: 'ç¼–è¾‘å™¨ç»„ä»¶', status: 'pending' }
])

const preloadedComponents = {}

const preloadComponent = async (type) =&gt; {
  const index = preloadStatus.findIndex(item =&gt; item.name.includes(type))
  if (index === -1) return

  preloadStatus[index].status = 'loading'
  
  try {
    if (type === 'chart') {
      preloadedComponents.chart = await import('./components/ChartComponent.vue')
    } else if (type === 'editor') {
      preloadedComponents.editor = await import('./components/EditorComponent.vue')
    }
    
    preloadStatus[index].status = 'loaded'
    console.log(`${type} ç»„ä»¶é¢„åŠ è½½å®Œæˆ`)
  } catch (error) {
    preloadStatus[index].status = 'error'
    console.error(`${type} ç»„ä»¶é¢„åŠ è½½å¤±è´¥:`, error)
  }
}

// 3. å¯è§æ—¶åŠ è½½
const LazyWhenVisible = defineAsyncComponent(() =&gt; 
  import('./components/LazyWhenVisible.vue')
)

// æ¨¡æ‹Ÿé¢„åŠ è½½
onMounted(() =&gt; {
  // ç©ºé—²æ—¶é¢„åŠ è½½å¯èƒ½ç”¨åˆ°çš„ç»„ä»¶
  if ('requestIdleCallback' in window) {
    requestIdleCallback(() =&gt; {
      preloadComponent('chart')
    })
  }
})
&lt;/script&gt;

&lt;style scoped&gt;
.conditional-lazy-demo {
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}

.strategies {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 30px;
  margin: 30px 0;
}

.strategy {
  padding: 25px;
  background: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.strategy h3 {
  margin: 0 0 20px 0;
  color: #2c3e50;
  font-size: 18px;
}

.demo-section {
  min-height: 200px;
}

.toggle-label {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 15px;
  cursor: pointer;
  font-weight: bold;
  color: #333;
}

.component-container {
  min-height: 150px;
  border: 2px dashed #ddd;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.preload-buttons {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
}

.preload-btn {
  padding: 10px 16px;
  background: #3498db;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
  transition: background 0.3s;
}

.preload-btn:hover {
  background: #2980b9;
}

.preload-status {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.status-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 12px;
  background: white;
  border-radius: 4px;
  border-left: 4px solid #bdc3c7;
}

.status-item.pending {
  border-left-color: #f39c12;
}

.status-item.loading {
  border-left-color: #3498db;
}

.status-item.loaded {
  border-left-color: #27ae60;
}

.status-item.error {
  border-left-color: #e74c3c;
}

.status-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #bdc3c7;
}

.status-item.pending .status-dot { background: #f39c12; }
.status-item.loading .status-dot { 
  background: #3498db;
  animation: pulse 1.5s infinite;
}
.status-item.loaded .status-dot { background: #27ae60; }
.status-item.error .status-dot { background: #e74c3c; }

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.scroll-container {
  height: 300px;
  overflow-y: auto;
  border: 1px solid #e0e0e0;
  border-radius: 6px;
  padding: 10px;
}

.scroll-item {
  padding: 20px;
  margin: 10px 0;
  background: white;
  border-radius: 4px;
  border: 1px solid #f0f0f0;
  min-height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.scroll-item p {
  margin: 0;
  color: #666;
}
&lt;/style&gt;
</code></pre>
<hr/>
<h2 data-id="heading-13"><strong>äº”ã€ æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</strong></h2>
<h3 data-id="heading-14"><strong>5.1 Webpack æ‰“åŒ…ä¼˜åŒ–é…ç½®</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vue.config.js</span>
<span class="hljs-keyword">const</span> { defineConfig } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@vue/cli-service'</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title class_">BundleAnalyzerPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack-bundle-analyzer'</span>).<span class="hljs-property">BundleAnalyzerPlugin</span>

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">transpileDependencies</span>: <span class="hljs-literal">true</span>,
  
  <span class="hljs-attr">configureWebpack</span>: {
    <span class="hljs-attr">optimization</span>: {
      <span class="hljs-attr">splitChunks</span>: {
        <span class="hljs-attr">chunks</span>: <span class="hljs-string">'all'</span>,
        <span class="hljs-attr">cacheGroups</span>: {
          <span class="hljs-comment">// ç¬¬ä¸‰æ–¹åº“å•ç‹¬æ‰“åŒ…</span>
          <span class="hljs-attr">vendor</span>: {
            <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\/]node_modules[\\/]/</span>,
            <span class="hljs-attr">name</span>: <span class="hljs-string">'vendors'</span>,
            <span class="hljs-attr">priority</span>: <span class="hljs-number">20</span>,
            <span class="hljs-attr">chunks</span>: <span class="hljs-string">'all'</span>
          },
          <span class="hljs-comment">// Vue ç›¸å…³åº“å•ç‹¬æ‰“åŒ…</span>
          <span class="hljs-attr">vue</span>: {
            <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\/]node_modules[\\/](vue|vue-router|vuex)[\\/]/</span>,
            <span class="hljs-attr">name</span>: <span class="hljs-string">'vue-vendors'</span>,
            <span class="hljs-attr">priority</span>: <span class="hljs-number">30</span>,
            <span class="hljs-attr">chunks</span>: <span class="hljs-string">'all'</span>
          },
          <span class="hljs-comment">// å…¬å…±ä»£ç æå–</span>
          <span class="hljs-attr">common</span>: {
            <span class="hljs-attr">name</span>: <span class="hljs-string">'common'</span>,
            <span class="hljs-attr">minChunks</span>: <span class="hljs-number">2</span>,
            <span class="hljs-attr">priority</span>: <span class="hljs-number">10</span>,
            <span class="hljs-attr">chunks</span>: <span class="hljs-string">'all'</span>
          }
        }
      }
    },
    <span class="hljs-attr">plugins</span>: [
      <span class="hljs-comment">// æ‰“åŒ…åˆ†æå·¥å…·ï¼ˆå¼€å‘æ—¶ä½¿ç”¨ï¼‰</span>
      process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'development'</span> &amp;&amp; 
      <span class="hljs-keyword">new</span> <span class="hljs-title class_">BundleAnalyzerPlugin</span>({
        <span class="hljs-attr">analyzerMode</span>: <span class="hljs-string">'server'</span>,
        <span class="hljs-attr">openAnalyzer</span>: <span class="hljs-literal">false</span>
      })
    ].<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>)
  },
  
  <span class="hljs-attr">chainWebpack</span>: <span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> {
    <span class="hljs-comment">// é¢„åŠ è½½é…ç½®</span>
    config.<span class="hljs-title function_">plugin</span>(<span class="hljs-string">'preload'</span>).<span class="hljs-title function_">tap</span>(<span class="hljs-function"><span class="hljs-params">options</span> =&gt;</span> {
      options[<span class="hljs-number">0</span>] = {
        <span class="hljs-attr">rel</span>: <span class="hljs-string">'preload'</span>,
        <span class="hljs-title function_">as</span>(<span class="hljs-params">entry</span>) {
          <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/\.css$/</span>.<span class="hljs-title function_">test</span>(entry)) <span class="hljs-keyword">return</span> <span class="hljs-string">'style'</span>
          <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/\.(woff|woff2)$/</span>.<span class="hljs-title function_">test</span>(entry)) <span class="hljs-keyword">return</span> <span class="hljs-string">'font'</span>
          <span class="hljs-keyword">return</span> <span class="hljs-string">'script'</span>
        },
        <span class="hljs-attr">include</span>: <span class="hljs-string">'initial'</span>,
        <span class="hljs-attr">fileBlacklist</span>: [<span class="hljs-regexp">/\.map$/</span>, <span class="hljs-regexp">/hot-update\.js$/</span>]
      }
      <span class="hljs-keyword">return</span> options
    })
    
    <span class="hljs-comment">//  prefetch é…ç½®</span>
    config.<span class="hljs-title function_">plugin</span>(<span class="hljs-string">'prefetch'</span>).<span class="hljs-title function_">tap</span>(<span class="hljs-function"><span class="hljs-params">options</span> =&gt;</span> {
      options[<span class="hljs-number">0</span>] = {
        <span class="hljs-attr">rel</span>: <span class="hljs-string">'prefetch'</span>,
        <span class="hljs-attr">include</span>: <span class="hljs-string">'asyncChunks'</span>
      }
      <span class="hljs-keyword">return</span> options
    })
  }
})
</code></pre>
<h3 data-id="heading-15"><strong>5.2 æ€§èƒ½ç›‘æ§ä¸é”™è¯¯è¿½è¸ª</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="performance-monitor"&gt;
    &lt;h2&gt;æ‡’åŠ è½½æ€§èƒ½ç›‘æ§&lt;/h2&gt;
    
    &lt;div class="metrics-dashboard"&gt;
      &lt;div class="metric-cards"&gt;
        &lt;div class="metric-card"&gt;
          &lt;div class="metric-value"&gt;{{ metrics.totalLoads }}&lt;/div&gt;
          &lt;div class="metric-label"&gt;æ€»åŠ è½½æ¬¡æ•°&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="metric-card"&gt;
          &lt;div class="metric-value"&gt;{{ metrics.averageLoadTime }}ms&lt;/div&gt;
          &lt;div class="metric-label"&gt;å¹³å‡åŠ è½½æ—¶é—´&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="metric-card"&gt;
          &lt;div class="metric-value"&gt;{{ metrics.successRate }}%&lt;/div&gt;
          &lt;div class="metric-label"&gt;æˆåŠŸç‡&lt;/div&gt;
        &lt;/div&gt;
        &lt;div class="metric-card"&gt;
          &lt;div class="metric-value"&gt;{{ metrics.cacheHits }}&lt;/div&gt;
          &lt;div class="metric-label"&gt;ç¼“å­˜å‘½ä¸­&lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;

      &lt;div class="load-timeline"&gt;
        &lt;h3&gt;ç»„ä»¶åŠ è½½æ—¶é—´çº¿&lt;/h3&gt;
        &lt;div class="timeline"&gt;
          &lt;div 
            v-for="event in loadEvents" 
            :key="event.id"
            class="timeline-event"
            :class="event.status"
          &gt;
            &lt;div class="event-time"&gt;{{ event.timestamp }}&lt;/div&gt;
            &lt;div class="event-name"&gt;{{ event.name }}&lt;/div&gt;
            &lt;div class="event-duration"&gt;{{ event.duration }}ms&lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, reactive, onMounted } from 'vue'

const metrics = reactive({
  totalLoads: 0,
  averageLoadTime: 0,
  successRate: 100,
  cacheHits: 0
})

const loadEvents = ref([])

// ç›‘æ§ç»„ä»¶åŠ è½½æ€§èƒ½
const monitorComponentLoad = (componentName) =&gt; {
  const startTime = performance.now()
  const eventId = Date.now()
  
  const loadEvent = {
    id: eventId,
    name: componentName,
    timestamp: new Date().toLocaleTimeString(),
    status: 'loading',
    duration: 0
  }
  
  loadEvents.value.unshift(loadEvent)
  if (loadEvents.value.length &gt; 10) {
    loadEvents.value.pop()
  }
  
  metrics.totalLoads++
  
  return {
    success: () =&gt; {
      const endTime = performance.now()
      const duration = endTime - startTime
      
      loadEvent.status = 'success'
      loadEvent.duration = Math.round(duration)
      
      // æ›´æ–°å¹³å‡åŠ è½½æ—¶é—´
      const totalTime = metrics.averageLoadTime * (metrics.totalLoads - 1) + duration
      metrics.averageLoadTime = Math.round(totalTime / metrics.totalLoads)
    },
    error: () =&gt; {
      const endTime = performance.now()
      const duration = endTime - startTime
      
      loadEvent.status = 'error'
      loadEvent.duration = Math.round(duration)
      
      // æ›´æ–°æˆåŠŸç‡
      const successCount = Math.floor(metrics.totalLoads * (metrics.successRate / 100))
      metrics.successRate = Math.round((successCount / metrics.totalLoads) * 100)
    },
    cacheHit: () =&gt; {
      metrics.cacheHits++
    }
  }
}

// ç¤ºä¾‹ï¼šç›‘æ§ç»„ä»¶åŠ è½½
const loadMonitoredComponent = async (componentName) =&gt; {
  const monitor = monitorComponentLoad(componentName)
  
  try {
    // æ¨¡æ‹Ÿç»„ä»¶åŠ è½½
    await new Promise(resolve =&gt; setTimeout(resolve, Math.random() * 1000 + 500))
    
    // æ£€æŸ¥æ˜¯å¦ç¼“å­˜å‘½ä¸­
    if (Math.random() &gt; 0.7) {
      monitor.cacheHit()
    }
    
    monitor.success()
    return true
  } catch (error) {
    monitor.error()
    return false
  }
}

// æ¨¡æ‹Ÿä¸€äº›åŠ è½½äº‹ä»¶
onMounted(async () =&gt; {
  const components = ['é¦–é¡µ', 'ç”¨æˆ·é¢æ¿', 'è®¾ç½®é¡µé¢', 'æ•°æ®åˆ†æ', 'æ–‡æ¡£æŸ¥çœ‹']
  
  for (const component of components) {
    await loadMonitoredComponent(component)
    await new Promise(resolve =&gt; setTimeout(resolve, 1000))
  }
})
&lt;/script&gt;

&lt;style scoped&gt;
.performance-monitor {
  padding: 20px;
  max-width: 1000px;
  margin: 0 auto;
}

.metrics-dashboard {
  margin: 30px 0;
}

.metric-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-bottom: 30px;
}

.metric-card {
  padding: 25px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  text-align: center;
  border-top: 4px solid #42b883;
}

.metric-value {
  font-size: 32px;
  font-weight: bold;
  color: #2c3e50;
  margin-bottom: 8px;
}

.metric-label {
  color: #7f8c8d;
  font-size: 14px;
}

.load-timeline {
  background: white;
  border-radius: 8px;
  padding: 25px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.load-timeline h3 {
  margin: 0 0 20px 0;
  color: #2c3e50;
}

.timeline {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.timeline-event {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 15px;
  border-radius: 6px;
  border-left: 4px solid #bdc3c7;
  transition: all 0.3s;
}

.timeline-event.loading {
  border-left-color: #3498db;
  background: #ebf5fb;
}

.timeline-event.success {
  border-left-color: #27ae60;
  background: #eafaf1;
}

.timeline-event.error {
  border-left-color: #e74c3c;
  background: #fdedec;
}

.event-time {
  font-size: 12px;
  color: #7f8c8d;
  min-width: 80px;
}

.event-name {
  flex: 1;
  font-weight: 500;
  color: #2c3e50;
}

.event-duration {
  font-family: 'Courier New', monospace;
  font-weight: bold;
  color: #34495e;
  min-width: 60px;
  text-align: right;
}
&lt;/style&gt;
</code></pre>
<hr/>
<h2 data-id="heading-16"><strong>å…­ã€ å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨åœºæ™¯</strong></h2>
<h3 data-id="heading-17"><strong>6.1 å¤§å‹ç®¡ç†ç³»ç»Ÿçš„æ‡’åŠ è½½ç­–ç•¥</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/utils/lazyLoading.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">createLazyComponent</span> = (<span class="hljs-params">loader, options = {}</span>) =&gt; {
  <span class="hljs-keyword">const</span> defaultOptions = {
    <span class="hljs-attr">loadingComponent</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/components/Loading/LoadingState.vue'</span>),
    <span class="hljs-attr">errorComponent</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/components/Error/ErrorState.vue'</span>),
    <span class="hljs-attr">delay</span>: <span class="hljs-number">200</span>,
    <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span>,
    <span class="hljs-attr">retryAttempts</span>: <span class="hljs-number">3</span>
  }
  
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">defineAsyncComponent</span>({
    loader,
    ...defaultOptions,
    ...options
  })
}

<span class="hljs-comment">// ä¸šåŠ¡ç»„ä»¶æ‡’åŠ è½½</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">LazyUserManagement</span> = <span class="hljs-title function_">createLazyComponent</span>(
  <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/UserManagement.vue'</span>),
  { <span class="hljs-attr">timeout</span>: <span class="hljs-number">15000</span> }
)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">LazyDataAnalytics</span> = <span class="hljs-title function_">createLazyComponent</span>(
  <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/DataAnalytics.vue'</span>)
)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">LazyReportGenerator</span> = <span class="hljs-title function_">createLazyComponent</span>(
  <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/ReportGenerator.vue'</span>)
)

<span class="hljs-comment">// åŠŸèƒ½æ¨¡å—æ‡’åŠ è½½</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">LazyRichEditor</span> = <span class="hljs-title function_">createLazyComponent</span>(
  <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/components/Editors/RichEditor.vue'</span>)
)

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title class_">LazyChartLibrary</span> = <span class="hljs-title function_">createLazyComponent</span>(
  <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/components/Charts/ChartLibrary.vue'</span>)
)

<span class="hljs-comment">// é¢„åŠ è½½ç­–ç•¥</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">preloadCriticalComponents</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-string">'requestIdleCallback'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>) {
    <span class="hljs-title function_">requestIdleCallback</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// é¢„åŠ è½½å…³é”®ç»„ä»¶</span>
      <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/views/Dashboard.vue'</span>)
      <span class="hljs-keyword">import</span>(<span class="hljs-string">'@/components/Common/SearchBox.vue'</span>)
    })
  }
}

<span class="hljs-comment">// è·¯ç”±çº§åˆ«çš„åˆ†ç»„æ‡’åŠ è½½</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">createRouteGroup</span> = (<span class="hljs-params">groupName</span>) =&gt; {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">user</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* webpackChunkName: "user-group" */</span> <span class="hljs-string">`@/views/<span class="hljs-subst">${groupName}</span>/User.vue`</span>),
    <span class="hljs-attr">profile</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* webpackChunkName: "user-group" */</span> <span class="hljs-string">`@/views/<span class="hljs-subst">${groupName}</span>/Profile.vue`</span>),
    <span class="hljs-attr">settings</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-comment">/* webpackChunkName: "user-group" */</span> <span class="hljs-string">`@/views/<span class="hljs-subst">${groupName}</span>/Settings.vue`</span>)
  }
}
</code></pre>
<h3 data-id="heading-18"><strong>6.2 åŸºäºç”¨æˆ·è¡Œä¸ºçš„æ™ºèƒ½é¢„åŠ è½½</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="smart-preload-demo"&gt;
    &lt;h2&gt;æ™ºèƒ½é¢„åŠ è½½ç­–ç•¥&lt;/h2&gt;
    
    &lt;div class="user-journey"&gt;
      &lt;div class="journey-step" @mouseenter="preloadStep('products')"&gt;
        &lt;h3&gt;1. æµè§ˆäº§å“&lt;/h3&gt;
        &lt;p&gt;é¼ æ ‡æ‚¬åœé¢„åŠ è½½äº§å“è¯¦æƒ…&lt;/p&gt;
      &lt;/div&gt;
      
      &lt;div class="journey-step" @click="preloadStep('checkout')"&gt;
        &lt;h3&gt;2. åŠ å…¥è´­ç‰©è½¦&lt;/h3&gt;
        &lt;p&gt;ç‚¹å‡»é¢„åŠ è½½ç»“ç®—é¡µé¢&lt;/p&gt;
      &lt;/div&gt;
      
      &lt;div class="journey-step" @touchstart="preloadStep('payment')"&gt;
        &lt;h3&gt;3. ç»“ç®—æ”¯ä»˜&lt;/h3&gt;
        &lt;p&gt;è§¦æ‘¸é¢„åŠ è½½æ”¯ä»˜ç»„ä»¶&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="preload-strategies"&gt;
      &lt;h3&gt;é¢„åŠ è½½ç­–ç•¥çŠ¶æ€&lt;/h3&gt;
      &lt;div class="strategy-grid"&gt;
        &lt;div 
          v-for="strategy in strategies" 
          :key="strategy.name"
          class="strategy-item"
          :class="strategy.status"
        &gt;
          &lt;div class="strategy-icon"&gt;{{ strategy.icon }}&lt;/div&gt;
          &lt;div class="strategy-info"&gt;
            &lt;div class="strategy-name"&gt;{{ strategy.name }}&lt;/div&gt;
            &lt;div class="strategy-desc"&gt;{{ strategy.description }}&lt;/div&gt;
          &lt;/div&gt;
          &lt;div class="strategy-status"&gt;{{ strategy.status }}&lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, reactive, onMounted } from 'vue'

const strategies = reactive([
  {
    name: 'æ‚¬åœé¢„åŠ è½½',
    description: 'é¼ æ ‡æ‚¬åœæ—¶é¢„åŠ è½½ç›®æ ‡ç»„ä»¶',
    icon: 'ğŸ–±ï¸',
    status: 'ç­‰å¾…è§¦å‘',
    trigger: 'mouseenter'
  },
  {
    name: 'ç‚¹å‡»é¢„åŠ è½½',
    description: 'ç”¨æˆ·ç‚¹å‡»æ—¶é¢„åŠ è½½ä¸‹ä¸€é¡µé¢',
    icon: 'ğŸ‘†',
    status: 'ç­‰å¾…è§¦å‘',
    trigger: 'click'
  },
  {
    name: 'è§¦æ‘¸é¢„åŠ è½½',
    description: 'ç§»åŠ¨ç«¯è§¦æ‘¸æ—¶é¢„åŠ è½½',
    icon: 'ğŸ“±',
    status: 'ç­‰å¾…è§¦å‘',
    trigger: 'touchstart'
  },
  {
    name: 'ç©ºé—²é¢„åŠ è½½',
    description: 'æµè§ˆå™¨ç©ºé—²æ—¶é¢„åŠ è½½',
    icon: 'ğŸ’¤',
    status: 'ç­‰å¾…è§¦å‘',
    trigger: 'idle'
  }
])

const preloadedComponents = new Set()

const preloadStep = async (step) =&gt; {
  const strategy = strategies.find(s =&gt; s.trigger === step)
  if (strategy &amp;&amp; strategy.status === 'ç­‰å¾…è§¦å‘') {
    strategy.status = 'åŠ è½½ä¸­...'
    
    try {
      // æ¨¡æ‹Ÿç»„ä»¶é¢„åŠ è½½
      await new Promise(resolve =&gt; setTimeout(resolve, 1000))
      
      strategy.status = 'å·²åŠ è½½'
      preloadedComponents.add(step)
      console.log(`âœ… ${step} ç»„ä»¶é¢„åŠ è½½å®Œæˆ`)
    } catch (error) {
      strategy.status = 'åŠ è½½å¤±è´¥'
      console.error(`âŒ ${step} ç»„ä»¶é¢„åŠ è½½å¤±è´¥:`, error)
    }
  }
}

// ç©ºé—²æ—¶é¢„åŠ è½½
onMounted(() =&gt; {
  if ('requestIdleCallback' in window) {
    requestIdleCallback(() =&gt; {
      const idleStrategy = strategies.find(s =&gt; s.trigger === 'idle')
      if (idleStrategy) {
        idleStrategy.status = 'å·²åŠ è½½'
        preloadedComponents.add('common')
        console.log('ğŸ•’ ç©ºé—²æ—¶é¢„åŠ è½½å®Œæˆ')
      }
    })
  }
})
&lt;/script&gt;

&lt;style scoped&gt;
.smart-preload-demo {
  padding: 20px;
  max-width: 1000px;
  margin: 0 auto;
}

.user-journey {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin: 30px 0;
}

.journey-step {
  padding: 30px;
  background: white;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s;
}

.journey-step:hover {
  border-color: #42b883;
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(66, 184, 131, 0.2);
}

.journey-step h3 {
  margin: 0 0 10px 0;
  color: #2c3e50;
}

.journey-step p {
  margin: 0;
  color: #7f8c8d;
  font-size: 14px;
}

.preload-strategies {
  margin-top: 40px;
}

.preload-strategies h3 {
  margin: 0 0 20px 0;
  color: #2c3e50;
}

.strategy-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 15px;
}

.strategy-item {
  display: flex;
  align-items: center;
  gap: 15px;
  padding: 20px;
  background: white;
  border-radius: 8px;
  border-left: 4px solid #bdc3c7;
  transition: all 0.3s;
}

.strategy-item.ç­‰å¾…è§¦å‘ {
  border-left-color: #f39c12;
}

.strategy-item.åŠ è½½ä¸­ {
  border-left-color: #3498db;
}

.strategy-item.å·²åŠ è½½ {
  border-left-color: #27ae60;
}

.strategy-item.åŠ è½½å¤±è´¥ {
  border-left-color: #e74c3c;
}

.strategy-icon {
  font-size: 24px;
}

.strategy-info {
  flex: 1;
}

.strategy-name {
  font-weight: bold;
  color: #2c3e50;
  margin-bottom: 4px;
}

.strategy-desc {
  font-size: 12px;
  color: #7f8c8d;
}

.strategy-status {
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: bold;
  text-transform: uppercase;
}

.strategy-item.ç­‰å¾…è§¦å‘ .strategy-status {
  background: #fff3cd;
  color: #856404;
}

.strategy-item.åŠ è½½ä¸­ .strategy-status {
  background: #d1ecf1;
  color: #0c5460;
}

.strategy-item.å·²åŠ è½½ .strategy-status {
  background: #d4edda;
  color: #155724;
}

.strategy-item.åŠ è½½å¤±è´¥ .strategy-status {
  background: #f8d7da;
  color: #721c24;
}
&lt;/style&gt;
</code></pre>
<hr/>
<h2 data-id="heading-19"><strong>ä¸ƒã€ æ€»ç»“</strong></h2>
<h3 data-id="heading-20"><strong>7.1 Vue3 ç»„ä»¶æ‡’åŠ è½½çš„æ ¸å¿ƒä»·å€¼</strong></h3>
<ol>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šæ˜¾è‘—å‡å°‘é¦–å±åŠ è½½æ—¶é—´ï¼Œæå‡ç”¨æˆ·ä½“éªŒ</li>
<li><strong>èµ„æºæ•ˆç‡</strong>ï¼šæŒ‰éœ€åŠ è½½ï¼Œé¿å…èµ„æºæµªè´¹</li>
<li><strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šç‹¬ç«‹çš„ chunk å¯ä»¥æ›´å¥½åœ°åˆ©ç”¨æµè§ˆå™¨ç¼“å­˜</li>
<li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šåˆç†çš„åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†æå‡ç”¨æˆ·æ»¡æ„åº¦</li>
</ol>
<h3 data-id="heading-21"><strong>7.2 æ‡’åŠ è½½å®ç°æ–¹å¼æ€»ç»“</strong></h3>



































<table><thead><tr><th>æ–¹å¼</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><code>defineAsyncComponent</code></td><td>æ¡ä»¶æ¸²æŸ“ç»„ä»¶</td><td>é…ç½®çµæ´»ï¼Œé”™è¯¯å¤„ç†å®Œå–„</td><td>éœ€è¦æ‰‹åŠ¨ç®¡ç†åŠ è½½çŠ¶æ€</td></tr><tr><td>è·¯ç”±æ‡’åŠ è½½</td><td>é¡µé¢çº§ç»„ä»¶</td><td>å¤©ç„¶çš„ä¸šåŠ¡åˆ†å‰²ï¼Œå®ç°ç®€å•</td><td>é¡µé¢åˆ‡æ¢å¯èƒ½æœ‰å»¶è¿Ÿ</td></tr><tr><td>Suspense + å¼‚æ­¥ç»„ä»¶</td><td>éœ€è¦åŠ è½½çŠ¶æ€çš„åœºæ™¯</td><td>å£°æ˜å¼ï¼Œä»£ç ç®€æ´</td><td>éœ€è¦ Vue3 æ”¯æŒ</td></tr><tr><td>åŠ¨æ€ import()</td><td>æ¨¡å—çº§æ‡’åŠ è½½</td><td>æ ‡å‡†è¯­æ³•ï¼Œé€šç”¨æ€§å¼º</td><td>éœ€è¦é…åˆæ„å»ºå·¥å…·</td></tr></tbody></table>
<h3 data-id="heading-22"><strong>7.3 æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ</strong></h3>
<ol>
<li><strong>åˆç†åˆ†å‰²ä»£ç </strong>ï¼šæŒ‰ç…§ä¸šåŠ¡æ¨¡å—å’ŒåŠŸèƒ½è¿›è¡Œä»£ç åˆ†å‰²</li>
<li><strong>é¢„åŠ è½½ç­–ç•¥</strong>ï¼šæ ¹æ®ç”¨æˆ·è¡Œä¸ºé¢„æµ‹å¹¶é¢„åŠ è½½å¯èƒ½éœ€è¦çš„ç»„ä»¶</li>
<li><strong>åŠ è½½çŠ¶æ€ç®¡ç†</strong>ï¼šæä¾›å‹å¥½çš„åŠ è½½åé¦ˆå’Œé”™è¯¯å¤„ç†</li>
<li><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼šåˆ©ç”¨æµè§ˆå™¨ç¼“å­˜å’Œ Service Worker</li>
<li><strong>ç›‘æ§åˆ†æ</strong>ï¼šæŒç»­ç›‘æ§åŠ è½½æ€§èƒ½ï¼Œä¼˜åŒ–åˆ†å‰²ç­–ç•¥</li>
</ol>
<h3 data-id="heading-23"><strong>7.4 æ³¨æ„äº‹é¡¹</strong></h3>
<ul>
<li><strong>é¿å…è¿‡åº¦åˆ†å‰²</strong>ï¼šå¤ªå¤šçš„ chunk ä¼šå¢åŠ  HTTP è¯·æ±‚å¼€é”€</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šå¿…é¡»å¤„ç†åŠ è½½å¤±è´¥çš„æƒ…å†µ</li>
<li><strong>æµ‹è¯•è¦†ç›–</strong>ï¼šç¡®ä¿æ‡’åŠ è½½ç»„ä»¶åœ¨å„ç§ç½‘ç»œæ¡ä»¶ä¸‹çš„è¡¨ç°</li>
<li><strong>SEO è€ƒè™‘</strong>ï¼šæœåŠ¡ç«¯æ¸²æŸ“æ—¶éœ€è¦è€ƒè™‘æ‡’åŠ è½½ç»„ä»¶çš„å¤„ç†</li>
</ul>
<p>Vue3 çš„ç»„ä»¶æ‡’åŠ è½½ä¸ºç°ä»£å‰ç«¯åº”ç”¨æä¾›äº†å¼ºå¤§çš„æ€§èƒ½ä¼˜åŒ–æ‰‹æ®µã€‚é€šè¿‡åˆç†è¿ç”¨å„ç§æ‡’åŠ è½½ç­–ç•¥ï¼Œå¯ä»¥æ˜¾è‘—æå‡åº”ç”¨æ€§èƒ½ï¼Œæ”¹å–„ç”¨æˆ·ä½“éªŒã€‚</p>
<hr/>
<p><strong>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—å’Œè¯„è®ºï¼æœ‰ä»»ä½•é—®é¢˜éƒ½å¯ä»¥åœ¨è¯„è®ºåŒºè®¨è®ºã€‚</strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56fbf480de944f1abddbb1f63627f457~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX6L6wYWxr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766303438&amp;x-signature=KXYGhlyeLzHdsqRxSvIS3ZgEffE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£æ”¾åŒæ‰‹ï¼ä½¿ç”¨Cursor+Figma MCP é«˜æ•ˆè¿˜åŸå“åº”å¼è®¾è®¡ç¨¿]]></title>    <link>https://juejin.cn/post/7583528177558634546</link>    <guid>https://juejin.cn/post/7583528177558634546</guid>    <pubDate>2025-12-14T08:07:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583528177558634546" data-draft-id="7583324039302168627" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£æ”¾åŒæ‰‹ï¼ä½¿ç”¨Cursor+Figma MCP é«˜æ•ˆè¿˜åŸå“åº”å¼è®¾è®¡ç¨¿"/> <meta itemprop="keywords" content="å‰ç«¯,MCP"/> <meta itemprop="datePublished" content="2025-12-14T08:07:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©å¤©æ‰­ç "/> <meta itemprop="url" content="https://juejin.cn/user/3349589831715801"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£æ”¾åŒæ‰‹ï¼ä½¿ç”¨Cursor+Figma MCP é«˜æ•ˆè¿˜åŸå“åº”å¼è®¾è®¡ç¨¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3349589831715801/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©å¤©æ‰­ç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T08:07:03.000Z" title="Sun Dec 14 2025 08:07:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¦‚ä»Šçš„å¿«é€Ÿè¿­ä»£å‘¨æœŸä¸­ï¼Œå¦‚ä½•é«˜æ•ˆã€ç²¾å‡†åœ°å°†è®¾è®¡ç¨¿è½¬åŒ–ä¸ºé«˜è´¨é‡çš„è·¨å¹³å°ä»£ç ï¼Œä¸€ç›´æ˜¯å‰ç«¯å’Œç§»åŠ¨ç«¯å¼€å‘è€…çš„æ ¸å¿ƒç—›ç‚¹ã€‚</p>
<p>ä¼ ç»Ÿçš„â€œåˆ‡å›¾â€å’Œâ€œåƒç´ çº§è¿˜åŸâ€æµç¨‹ä¸ä»…è€—æ—¶ï¼Œè¿˜ææ˜“äº§ç”Ÿä¿¡æ¯åå·®ã€‚</p>
<p>å¥½æ¶ˆæ¯æ˜¯ï¼ŒFigma å®˜æ–¹æ¨å‡ºçš„ <strong>Model Component Protocol (MCP)</strong> æœåŠ¡ï¼Œç»“åˆ AI ä»£ç ç¥å™¨ <strong>Cursor</strong>ï¼Œæ­£åœ¨å½»åº•é¢ è¦†è¿™ä¸€å·¥ä½œæµã€‚æœ¬æ–‡å°†ä¸ºæ‚¨æ­ç¤ºå¦‚ä½•é€šè¿‡è¿™ä¸€é»„é‡‘ç»„åˆï¼Œå°†è®¾è®¡åˆ°ä»£ç çš„æµç¨‹ç¼©çŸ­åˆ°<strong>åˆ†é’Ÿçº§</strong>ï¼Œå®ç° <strong>90%</strong> çš„è§†è§‰è¿˜åŸåº¦ã€‚</p>
<hr/>
<h2 data-id="heading-0">Figma MCP è§£å†³äº†ä»€ä¹ˆå®é™…é—®é¢˜ï¼Ÿ</h2>
<p><strong>ä¸€å¥è¯æ€»ç»“ï¼š</strong> é€šè¿‡ MCP ç›´æ¥è¯»å– Figma æ–‡ä»¶çš„<strong>ç»“æ„åŒ–è®¾è®¡æ•°æ®</strong>ï¼Œç»“åˆ Cursor çš„ä»£ç æ™ºèƒ½ï¼Œå®ç°å¤šå¹³å° UI ä»£ç çš„è‡ªåŠ¨åŒ–ã€ç²¾å‡†ç”Ÿæˆã€‚</p>






























<table><thead><tr><th><strong>ç—›ç‚¹</strong></th><th><strong>è§£å†³æ–¹æ¡ˆï¼ˆCursor + Figma MCPï¼‰</strong></th><th><strong>æ•ˆæœ</strong></th></tr></thead><tbody><tr><td><strong>ä¿¡æ¯åå·®</strong></td><td>ç›´æ¥è·å–ç²¾ç¡®çš„å°ºå¯¸ã€é¢œè‰²ã€é—´è·ç­‰æ ¸å¿ƒæ•°æ®ã€‚</td><td>æ¶ˆé™¤â€œæ‰‹æŠ–â€å’Œâ€œçœ‹é”™â€çš„é£é™©ã€‚</td></tr><tr><td><strong>é‡å¤åŠ³åŠ¨</strong></td><td>è‡ªåŠ¨åŒ–ç”ŸæˆåŸºç¡€ UI ç»“æ„ä»£ç  (å¦‚ Android XML, iOS SwiftUI, H5, RN)ã€‚</td><td>å¤§å¹…å‡å°‘æ¨¡æ¿ä»£ç çš„ç¼–å†™æ—¶é—´ã€‚</td></tr><tr><td><strong>è·¨å¹³å°ä¸ä¸€è‡´</strong></td><td>åŒä¸€è®¾è®¡æºç”Ÿæˆå¤šå¹³å°ä»£ç ã€‚</td><td>æå‡ä¸åŒå¹³å°é—´ UI çš„è§†è§‰å’Œç»“æ„ç»Ÿä¸€æ€§ã€‚</td></tr><tr><td><strong>è¿­ä»£é€Ÿåº¦æ…¢</strong></td><td>ä»è®¾è®¡åˆ°å¯ç”¨ä»£ç è€—æ—¶æ•°å¤©/æ•°å°æ—¶ã€‚</td><td>ä»è®¾è®¡åˆ°å¯ç”¨ä»£ç ä»…éœ€<strong>å‡ åˆ†é’Ÿ</strong>ã€‚</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-1">ä¸€ã€Cursor + Figma MCP è¿æ¥æµç¨‹</h2>
<p>Figma å®˜æ–¹åœ¨ 9 æœˆä»½æ¨å‡º MCP æœåŠ¡åï¼Œè¿æ¥æµç¨‹å·²ç»å¤§å¤§ç®€åŒ–ï¼Œå‘Šåˆ«äº†ä¹‹å‰ç¹ççš„ç¬¬ä¸‰æ–¹æ’ä»¶è¿æ¥æ–¹å¼ã€‚</p>
<h3 data-id="heading-2">1.1 ä¸€é”®è¿æ¥é…ç½®</h3>
<p>æ•´ä¸ªé…ç½®è¿‡ç¨‹ç°åœ¨æ˜¯æ ‡å‡†åŒ–çš„ï¼Œç®€å•å¯é ï¼š</p>
<ol>
<li>
<p>è¿›å…¥ Figma å®˜æ–¹ MCP æœåŠ¡é¡µé¢ã€‚<a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.figma.com%2Fmcp-catalog%2F" target="_blank" title="https://link.juejin.cn/?target=https%3A%2F%2Fwww.figma.com%2Fmcp-catalog%2F">æœåŠ¡é¡µé¢</a></p>
</li>
<li>
<p>ç‚¹å‡» Cursor ä¸­çš„ <strong>â€œAdd MCP to Cursorâ€</strong> ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db88d7e7b281464382247d3899185703~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSp5omt56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766304423&amp;x-signature=%2FCVaf7d0SFfZcWzf9hRaD88IMs4%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p>ç³»ç»Ÿå°†è·³è½¬è‡³ Cursor å®¢æˆ·ç«¯ï¼Œç‚¹å‡» <strong>Install</strong>ã€‚</p>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/799209a1baf54ee397e47773e224569b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSp5omt56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766304423&amp;x-signature=zM0HCgKWcgguyTvWEFmY3uyyWNI%3D" alt="image.png" loading="lazy"/></p>
<ol start="7">
<li>
<p>ç‚¹å‡» <strong>Connect</strong> å¼€å§‹èº«ä»½éªŒè¯ã€‚</p>
</li>
<li>
<p>åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­ç‚¹å‡» <strong>Open</strong>ï¼Œç„¶åç‚¹å‡» <strong>Allow access</strong> å®Œæˆæˆæƒã€‚</p>
</li>
</ol>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68a69e3081474fe291e184db3b3f5918~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSp5omt56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766304423&amp;x-signature=Lg8r98EL0PTxtIUaWlyIhoGQYzw%3D" alt="image.png" width="70%" loading="lazy"/></p>
<h3 data-id="heading-3">1.2  å¼€å§‹ä½¿ç”¨ MCP æœåŠ¡</h3>
<p>é…ç½®å®Œæˆåï¼Œæ‚¨å°±å¯ä»¥å°†è®¾è®¡æ•°æ®å–‚ç»™ Cursor äº†ï¼š</p>
<ol>
<li>åœ¨ Figma å®¢æˆ·ç«¯ä¸­ï¼Œç¡®ä¿åˆ‡æ¢åˆ° <strong>Dev Mode</strong>ï¼ˆè¿™é‡Œéœ€è¦å°†Figmaå‡çº§åˆ°ä¸“ä¸šç‰ˆæˆ–è€…æ•™è‚²ç‰ˆï¼Œå¯ä»¥çœ‹çœ‹æŸé±¼ï¼‰ã€‚</li>
<li>é€‰æ‹©æ‚¨æƒ³è¦ç”Ÿæˆä»£ç çš„<strong>å›¾å±‚æˆ–ç»„ä»¶</strong>ã€‚</li>
<li>å³é”®ç‚¹å‡»ï¼Œé€‰æ‹© <strong>Copy link to selection</strong>ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0098a045a7b147cbb2d5af3deed35911~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSp5omt56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766304423&amp;x-signature=riFpF9bVzdhritRGTHwz52ygKZE%3D" alt="image.png" loading="lazy"/></p>
<ol start="4">
<li>å°†å¤åˆ¶çš„é“¾æ¥ç²˜è´´åˆ° Cursor çš„è¾“å…¥æ¡†æˆ–èŠå¤©ç•Œé¢ä¸­ï¼Œå¹¶æå‡ºæ‚¨çš„ä»£ç ç”Ÿæˆè¯·æ±‚ï¼ˆä¾‹å¦‚ï¼šâ€œä¸ºæˆ‘ç”Ÿæˆè¿™æ®µè®¾è®¡çš„ Android XML ä»£ç â€ï¼‰ã€‚</li>
</ol>
<p><strong>ä¸‹é¢æ˜¯æˆ‘å’ŒAIå¯¹è¯çš„æµç¨‹ä»¥åŠæœ€åçš„æ•ˆæœå›¾</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># ä»»åŠ¡ï¼šä¸¥æ ¼å¤åˆ»å“åº”å¼ Figma ç»„ä»¶</span>
<span class="hljs-strong">**1. ç›®æ ‡è®¾è®¡å›¾é“¾æ¥ï¼ˆå« Node IDï¼‰ï¼š**</span>

{ https://www.figma.com/design/c4BVKzIN4oVNuxV9OzUhC8/Untitled?node-id=1-616&amp;t=IiXRzf3Lq5QE7N3K-4 }

<span class="hljs-strong">**2. æ ¸å¿ƒè¦æ±‚ï¼š**</span>

<span class="hljs-bullet">-</span> <span class="hljs-strong">**å¤åˆ»èŒƒå›´ï¼š**</span> è¯·ä¸¥æ ¼å¤åˆ»é“¾æ¥æŒ‡å‘çš„ã€é¦–é¡µ/ç‰¹å®šæ¡†æ¶åç§°ã€‘ä¸­çš„<span class="hljs-strong">**ä¸»è¦å¯¼èˆªæ  (Header/Navbar)**</span> å’Œ<span class="hljs-strong">**è‹±é›„åŒº (Hero Section)**</span>ã€‚

<span class="hljs-bullet">-</span> <span class="hljs-strong">**å“åº”å¼å¤„ç†ï¼š**</span> å¿…é¡»ä½¿ç”¨ Figma MCP è·å–è®¾è®¡ç¨¿ä¸­çš„æ‰€æœ‰<span class="hljs-strong">**å“åº”å¼æ–­ç‚¹**</span>ï¼ˆä¾‹å¦‚ Desktopã€Tabletã€Mobileï¼‰ã€‚ä»£ç å¿…é¡»ä½¿ç”¨åª’ä½“æŸ¥è¯¢ï¼ˆMedia Queriesï¼‰æˆ–æ¡†æ¶çš„å“åº”å¼å·¥å…·ï¼ˆå¦‚ Tailwind CSS çš„ <span class="hljs-code">`md:`</span>ã€<span class="hljs-code">`lg:`</span> å‰ç¼€ï¼‰æ¥ç²¾ç¡®å®ç°ä¸åŒæ–­ç‚¹ä¸‹çš„å¸ƒå±€ã€é—´è·å’Œå­—ä½“å¤§å°å˜åŒ–ã€‚

<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ ·å¼ä¸¥æ ¼æ€§ï¼š**</span> æ‰€æœ‰é¢œè‰²ã€å­—ä½“ã€åœ†è§’ã€å†…/å¤–è¾¹è·ã€é˜´å½±å¿…é¡»ä¸¥æ ¼åŒ¹é… Figma ä¸­å®šä¹‰çš„è®¾è®¡ Tokenã€‚

<span class="hljs-strong">**3. æŠ€æœ¯æ ˆå’Œæ ¼å¼ï¼š**</span>

<span class="hljs-bullet">-</span> <span class="hljs-strong">**è¯­è¨€/æ¡†æ¶ï¼š**</span> React (æˆ– Next.js)ã€‚

<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ ·å¼æ–¹æ¡ˆï¼š**</span> Tailwind CSS (æ¨èç”¨äºå“åº”å¼)ï¼Œæˆ–è€… CSS Modulesã€‚

<span class="hljs-bullet">-</span> <span class="hljs-strong">**æ–‡ä»¶åï¼š**</span> è¯·å°†ä»£ç æ‹†åˆ†æˆä¸¤ä¸ªæ–‡ä»¶ï¼š<span class="hljs-code">`Header.jsx`</span> å’Œ <span class="hljs-code">`HeroSection.jsx`</span>ã€‚

<span class="hljs-strong">**4. é¢å¤–åŠŸèƒ½/å·¥å…·è°ƒç”¨æŒ‡ç¤ºï¼š**</span>

<span class="hljs-bullet">-</span> <span class="hljs-strong">**Design Tokenï¼š**</span> è¯·ä¼˜å…ˆè°ƒç”¨ <span class="hljs-code">`figma/get_color_styles`</span> å’Œ <span class="hljs-code">`figma/get_text_styles`</span> ç­‰ MCP å·¥å…·æ¥æå–å¹¶å®šä¹‰é¢œè‰²å˜é‡å’Œå­—ä½“æ ·å¼ï¼Œä½œä¸ºä»£ç çš„å¸¸é‡æˆ– Tailwind é…ç½®çš„æ‰©å±•ã€‚

<span class="hljs-bullet">-</span> <span class="hljs-strong">**äº¤äº’å ä½ç¬¦ï¼š**</span> å¯¼èˆªæ ä¸­çš„é“¾æ¥ä½¿ç”¨ <span class="hljs-code">`&lt;a href="#"&gt;`</span> ä½œä¸ºå ä½ç¬¦ã€‚

---

è¯·å¼€å§‹ç”Ÿæˆä»£ç ï¼Œä½ç½®ä¸ºfigmaMcpã€‚

ä½ è¦è°ƒç”¨æˆ‘é…ç½®å¥½çš„ figmamcp server
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f3b47dafa94401f91bb0d7cbd38fa60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSp5omt56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766304423&amp;x-signature=c8%2FysDjrizV%2Ba3LoJcmL7tSVGRU%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-ini" lang="ini">å†æ¬¡æ ¹æ®è®¾è®¡ç¨¿æ£€æŸ¥æœ‰æ²¡æœ‰ä¸åˆç†çš„åœ°æ–¹https://www.figma.com/design/c4BVKzIN4oVNuxV9OzUhC8/Untitled?<span class="hljs-attr">node-id</span>=<span class="hljs-number">1</span>-<span class="hljs-number">616</span>&amp;t=IiXRzf3Lq5QE7N3K-<span class="hljs-number">4</span> ï¼Œå¹¶ä¿®æ”¹ï¼Œè¦è¾¾æˆä¸€æ¯”ä¸€å¤åˆ»
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41c3fadb2fe1450c9c3c31cb5c4fe5e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp5aSp5omt56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766304423&amp;x-signature=G8YWWRTEVKktmwGAdNPEJJCIvzs%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-4">äºŒã€ä½¿ç”¨Figma MCPçš„æ³¨æ„äº‹é¡¹å’Œè§„èŒƒ</h2>
<p>ä½¿ç”¨ Figma MCPï¼ˆModel Component Protocolï¼‰è§„èŒƒä¸ Cursor è¿™æ ·çš„ AI ç¼–ç å·¥å…·ç»“åˆæ—¶ï¼Œè¦å®ç°é«˜æ•ˆã€å‡†ç¡®çš„ä»£ç ç”Ÿæˆï¼Œæ‚¨éœ€è¦æ³¨æ„çš„è¦ç‚¹å¯ä»¥æ€»ç»“ä¸º <strong>"è®¾è®¡çºªå¾‹"</strong> å’Œ <strong>"AI å¼•å¯¼"</strong> ä¸¤ä¸ªæ–¹é¢ã€‚</p>
<p>Figma MCP çš„ä½œç”¨æ˜¯æä¾›ç»“æ„åŒ–æ•°æ®ï¼Œä½†æ•°æ®çš„è´¨é‡å’Œæ¸…æ™°åº¦å®Œå…¨å–å†³äºè®¾è®¡å¸ˆåœ¨ Figma ä¸­çš„æ“ä½œã€‚</p>
<hr/>
<h3 data-id="heading-5">1.è®¾è®¡å¸ˆéœ€è¦æ³¨æ„çš„â€œè®¾è®¡çºªå¾‹â€</h3>
<p><strong>AI ç”Ÿæˆä»£ç çš„è´¨é‡ï¼Œ90% å–å†³äº Figma æ–‡ä»¶çš„è§„èŒƒç¨‹åº¦ã€‚</strong> ä¸ºäº†è®© AI èƒ½å‡†ç¡®åœ°â€œç†è§£â€è®¾è®¡ç¨¿ï¼Œè®¾è®¡å¸ˆå¿…é¡»åšåˆ°ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<h4 data-id="heading-6">ï¼ˆ1ï¼‰ ç»“æ„åŒ–ç»„ä»¶æ˜¯åŸºç¡€</h4>
<ul>
<li><strong>ä½¿ç”¨ Auto Layoutï¼ˆè‡ªåŠ¨å¸ƒå±€ï¼‰ï¼š</strong> è¿™æ˜¯å®ç°å“åº”å¼è®¾è®¡çš„æ ¸å¿ƒã€‚ç¡®ä¿æ‰€æœ‰çš„å¸ƒå±€ï¼ˆå°¤å…¶æ˜¯åˆ—è¡¨ã€å¡ç‰‡ã€ä¾§è¾¹æ ç­‰ï¼‰éƒ½ä½¿ç”¨ Auto Layoutï¼Œå¹¶è®¾ç½®æ­£ç¡®çš„å¡«å……ï¼ˆPaddingï¼‰å’Œé—´è·ï¼ˆGapï¼‰ã€‚AI ä¾èµ– Auto Layout æ¥è¯†åˆ« <code>Flexbox</code>ã€<code>StackView</code> æˆ– <code>Column/Row</code> ç­‰å¸ƒå±€ç»“æ„ã€‚</li>
<li><strong>æ¸…æ™°çš„å›¾å±‚å‘½åï¼š</strong> <strong>è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚</strong> å›¾å±‚åç§°åº”è¯¥æ˜¯è¯­ä¹‰åŒ–çš„ï¼ˆä¾‹å¦‚ï¼š<code>Item/ProductCard</code>ã€<code>Button/Primary</code>ã€<code>List/RecentOrders</code>ï¼‰ã€‚é¿å…ä½¿ç”¨é»˜è®¤çš„åç§°ï¼ˆä¾‹å¦‚ï¼š<code>Rectangle 1</code>ã€<code>Group 4</code>ï¼‰ã€‚</li>
<li><strong>ç»„ä»¶åŒ–å’Œå˜ä½“ï¼š</strong> å°½å¯èƒ½å°†è®¾è®¡å…ƒç´ æŠ½è±¡ä¸º <strong>Figma ç»„ä»¶</strong>å’Œ<strong>å˜ä½“ï¼ˆVariantsï¼‰</strong> ã€‚è¿™èƒ½è®© AI è¯†åˆ«å‡ºå“ªäº›æ˜¯å¯å¤ç”¨çš„æ¨¡å—ï¼Œå¹¶ç”Ÿæˆç»„ä»¶ä»£ç ï¼ˆä¾‹å¦‚ React Components æˆ– SwiftUI Viewsï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-7">ï¼ˆ2ï¼‰ ç»Ÿä¸€ä½¿ç”¨è®¾è®¡ Token/å˜é‡</h4>
<ul>
<li><strong>ä½¿ç”¨ Figma Variablesï¼ˆå˜é‡/ä»¤ç‰Œï¼‰ï¼š</strong> é¢œè‰²ã€å­—ä½“å¤§å°ã€é—´è·ï¼ˆSpacingï¼‰ç­‰å±æ€§ï¼Œåº”ç»Ÿä¸€ä½¿ç”¨ Figma çš„ <strong>Variablesï¼ˆè®¾è®¡ä»¤ç‰Œï¼‰</strong> ã€‚AI æ¥æ”¶åˆ°çš„æ•°æ®å°†æ˜¯ <code>$color-primary-500</code> è€Œé <code>#007AFF</code>ï¼Œè¿™èƒ½è®©ç”Ÿæˆçš„ä»£ç ç›´æ¥æ˜ å°„åˆ°æ‚¨çš„<strong>ä¼ä¸šä»£ç ä¸»é¢˜</strong>ã€‚</li>
<li><strong>å­—ä½“å’Œæ ·å¼ä¸€è‡´æ€§ï¼š</strong> ç¡®ä¿æ‰€æœ‰æ–‡æœ¬éƒ½é“¾æ¥åˆ°åŒä¸€å¥—<strong>æ–‡æœ¬æ ·å¼</strong>ã€‚</li>
</ul>
<h4 data-id="heading-8">ï¼ˆ3ï¼‰ æ˜ç¡®çš„äº¤ä»˜çŠ¶æ€</h4>
<ul>
<li><strong>ä½¿ç”¨ Dev Mode Statusesï¼š</strong> è®¾è®¡å¸ˆåº”è¯¥åˆ©ç”¨ <strong>Figma Dev Mode</strong> ä¸­çš„çŠ¶æ€æ ‡è®°ï¼ˆå¦‚ <code>Ready for dev</code>ï¼‰æ¥æ˜ç¡®å‘ŠçŸ¥å¼€å‘è€…å’Œ AI <strong>å“ªäº›éƒ¨åˆ†å¯ä»¥å¼€å§‹ä½¿ç”¨äº†</strong>ï¼Œé¿å… AI è¯»å–åˆ°æ­£åœ¨ä¿®æ”¹ä¸­çš„è®¾è®¡ç¨¿ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-9">2. å¼€å‘è€…éœ€è¦æ³¨æ„çš„â€œAI å¼•å¯¼â€</h3>
<p>å³ä½¿è®¾è®¡ç¨¿éå¸¸è§„èŒƒï¼ŒAI é»˜è®¤ç”Ÿæˆçš„ä»£ç ä¹Ÿå¯èƒ½ä¸ç¬¦åˆä¼ä¸šçº§é¡¹ç›®çš„æŠ€æœ¯æ ˆã€‚å¼€å‘è€…éœ€è¦é€šè¿‡ <strong>Cursor Rules</strong> ç­‰æ–¹å¼å¯¹ AI è¿›è¡ŒäºŒæ¬¡çº¦æŸå’Œå¼•å¯¼ã€‚</p>
<h4 data-id="heading-10">ï¼ˆ1ï¼‰ å¼ºåˆ¶ç»„ä»¶åº“æ›¿æ¢</h4>
<ul>
<li>
<p><strong>åˆ¶å®š Cursor Rulesï¼š</strong> é’ˆå¯¹ä¸Šæ–‡æåˆ°çš„<strong>ä¼ä¸šç»„ä»¶åº“é€‚é…é—®é¢˜</strong>ï¼Œåˆ©ç”¨ Cursor çš„è§„åˆ™é…ç½®èƒ½åŠ›ï¼Œè®¾å®šæ›¿æ¢é€»è¾‘ã€‚</p>
<ul>
<li><strong>ç¤ºä¾‹è§„åˆ™ï¼š</strong> å¦‚æœ AI è¯†åˆ«åˆ° Figma ä¸­å›¾å±‚åä¸º <code>Button/Primary</code>ï¼Œåˆ™å¼ºåˆ¶ç”Ÿæˆçš„ä»£ç ä¸æ˜¯ <code>&lt;button&gt;</code> æˆ– <code>&lt;TextView&gt;</code>ï¼Œè€Œæ˜¯ <code>&lt;MyCustomUIButton.Primary /&gt;</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¾“å…¥æç¤ºï¼ˆPromptï¼‰å¼•å¯¼ï¼š</strong> åœ¨ç²˜è´´ Figma é“¾æ¥æ—¶ï¼Œæ˜ç¡®å‘ŠçŸ¥ Cursor åº”è¯¥ä½¿ç”¨å“ªä¸ªæŠ€æœ¯æ ˆå’Œç»„ä»¶åº“ã€‚</p>
<ul>
<li><strong>ç¤ºä¾‹ Promptï¼š</strong> â€œè¯·ä¸ºæˆ‘ç”Ÿæˆè¿™æ®µè®¾è®¡çš„ <strong>Android Compose UI</strong> ä»£ç ï¼Œå¹¶ç¡®ä¿ä½¿ç”¨æˆ‘ä»¬å›¢é˜Ÿçš„ <strong>"Dewu-Design-System"</strong> ä¸­çš„ç»„ä»¶ã€‚â€</li>
</ul>
</li>
</ul>
<h4 data-id="heading-11">ï¼ˆ2ï¼‰ è§£å†³åŠ¨æ€å¸ƒå±€çš„è¯­ä¹‰åŒ–é—®é¢˜</h4>
<ul>
<li>
<p><strong>å›¾å±‚å‘½åçº¦å®šï¼ˆä¸è®¾è®¡å¸ˆåä½œï¼‰ï¼š</strong> ä¸è®¾è®¡å¸ˆå›¢é˜Ÿçº¦å®šä¸€å¥—ç»Ÿä¸€çš„åˆ—è¡¨å‘½åè§„åˆ™ï¼Œä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>å•ä¸ª Itemï¼š</strong> å›¾å±‚åå¿…é¡»ä»¥ <code>item_</code> æˆ– <code>_card</code> ç»“å°¾ã€‚</li>
<li><strong>åˆ—è¡¨å®¹å™¨ï¼š</strong> å›¾å±‚åå¿…é¡»ä»¥ <code>list_</code> æˆ– <code>_container</code> ç»“å°¾ã€‚</li>
</ul>
</li>
<li>
<p><strong>Rules å¼ºåˆ¶ç”ŸæˆåŠ¨æ€ç»“æ„ï¼š</strong> å°†ä¸Šè¿°å‘½åçº¦å®šæ¤å…¥ Cursor Rules ä¸­ï¼Œå¼ºåˆ¶ AI åœ¨è¯†åˆ«åˆ°è¿™äº›å‰ç¼€æ—¶ï¼Œç”Ÿæˆ <strong><code>RecyclerView</code></strong>ã€<strong><code>LazyColumn</code></strong> æˆ– <strong><code>FlatList</code></strong> è¿™æ ·çš„åŠ¨æ€åˆ—è¡¨ç»“æ„ï¼Œè€Œä¸æ˜¯ä¸€å †é™æ€ Viewã€‚</p>
</li>
</ul>
<h4 data-id="heading-12">ï¼ˆ3ï¼‰ å¤„ç†å›¾ç‰‡å’Œæœ¬åœ°èµ„æº</h4>
<ul>
<li><strong>èµ„æºç¼ºå¤±æ˜¯å¸¸æ€ï¼š</strong> ç›®å‰ï¼ŒAI æ— æ³•è‡ªåŠ¨ä¸‹è½½æœ¬åœ°å›¾ç‰‡èµ„æºã€‚æ‚¨éœ€è¦<strong>æ‰‹åŠ¨ä¸‹è½½</strong>å¹¶æ›¿æ¢ä»£ç ä¸­çš„å ä½ç¬¦ã€‚</li>
<li><strong>Placeholder å‘½åï¼š</strong> ç¡®ä¿è®¾è®¡ç¨¿ä¸­å›¾ç‰‡çš„å›¾å±‚å‘½åæ˜¯æ¸…æ™°çš„ï¼ˆä¾‹å¦‚ï¼š<code>icon_user_avatar</code>ï¼‰ï¼Œè¿™æ ·ç”Ÿæˆçš„ä»£ç ä¸­å¯¹èµ„æºçš„å¼•ç”¨åç§°ä¹Ÿä¼šæ›´æ¸…æ™°ï¼Œæ–¹ä¾¿æ‚¨æ›¿æ¢ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«â€œçŒœéœ€æ±‚â€å¼ç¼–ç¨‹ï¼šè¿™ä¸ªå¼€æºå·¥å…·è®© AI ç¼–ç å˜å¾—çœŸæ­£çš„å¯æ§]]></title>    <link>https://juejin.cn/post/7583234966633971746</link>    <guid>https://juejin.cn/post/7583234966633971746</guid>    <pubDate>2025-12-14T07:57:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583234966633971746" data-draft-id="7582939860874887203" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«â€œçŒœéœ€æ±‚â€å¼ç¼–ç¨‹ï¼šè¿™ä¸ªå¼€æºå·¥å…·è®© AI ç¼–ç å˜å¾—çœŸæ­£çš„å¯æ§"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-14T07:57:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸–ç•Œé‚£ä¹ˆå“’å“’"/> <meta itemprop="url" content="https://juejin.cn/user/2285242287142777"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«â€œçŒœéœ€æ±‚â€å¼ç¼–ç¨‹ï¼šè¿™ä¸ªå¼€æºå·¥å…·è®© AI ç¼–ç å˜å¾—çœŸæ­£çš„å¯æ§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2285242287142777/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸–ç•Œé‚£ä¹ˆå“’å“’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T07:57:08.000Z" title="Sun Dec 14 2025 07:57:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ AI ç¼–ç¨‹åŠ©æ‰‹å¤§è¡Œå…¶é“çš„ä»Šå¤©ï¼Œä½œä¸ºå¼€å‘è€…ï¼Œäº«å—ç€â€œä¸€å¥è¯ç”Ÿæˆä»£ç â€çš„ä¾¿åˆ©çš„åŒæ—¶ï¼Œä¹Ÿå¸¸å¸¸é™·å…¥ä¸€ç§æ–°çš„ç„¦è™‘ï¼šAI çœŸçš„ç†è§£æˆ‘ä»¬è¦ä»€ä¹ˆå—ï¼Ÿ</p>
<p>ä½ å¤§æ¦‚ä¹Ÿç»å†è¿‡è¿™æ ·çš„åœºæ™¯ï¼šè®© AI â€œåŠ ä¸ªç™»å½•åŠŸèƒ½â€ï¼Œç»“æœå®ƒè‡ªä½œä¸»å¼ å¼•å…¥äº† OAuth2ã€çŸ­ä¿¡éªŒè¯ç ã€å›¾å½¢éªŒè¯ç ä¸‰å¥—æ–¹æ¡ˆï¼›æˆ–è€…è®©å®ƒâ€œä¼˜åŒ–æ€§èƒ½â€ï¼Œå®ƒç›´æ¥é‡å†™äº†æ•´ä¸ªæ•°æ®å±‚ï¼Œå´æ²¡é—®ä½ æ˜¯å¦å…¼å®¹æ—§æ¥å£ã€‚é—®é¢˜ä¸åœ¨äº AI èƒ½åŠ›ä¸è¶³ï¼Œè€Œåœ¨äºâ€”â€”<strong>éœ€æ±‚ä»æœªè¢«æ¸…æ™°é”å®š</strong>ã€‚</p>
<p>ä¸Šä¸Šå‘¨åˆ· Githubï¼Œå‘ç°ä¸€ä¸ªåä¸º <strong>OpenSpec</strong> çš„å¼€æºé¡¹ç›®æ­£è¯•å›¾è§£å†³è¿™ä¸€ç—›ç‚¹ã€‚å®ƒä¸å–ä»£ä½ çš„ AI å·¥å…·ï¼Œè€Œæ˜¯ä¸ºå®ƒä»¬åŠ ä¸Šä¸€å¥—â€œè§„èŒƒé©±åŠ¨å¼€å‘â€ SDDï¼ˆSpec-Driven Developmentï¼‰çš„å·¥ä½œæµï¼Œè®©äººç±»å’Œ AI åœ¨å†™ç¬¬ä¸€è¡Œä»£ç å‰ï¼Œå…ˆå°±â€œåšä»€ä¹ˆâ€è¾¾æˆå…±è¯†ã€‚</p>
<hr/>
<h3 data-id="heading-0">ä»€ä¹ˆæ˜¯ OpenSpecï¼Ÿ</h3>
<p>OpenSpec æ˜¯ç”± Fission AI å›¢é˜Ÿå‘èµ·çš„ä¸€ä¸ªè½»é‡çº§å¼€å‘æ¡†æ¶ï¼Œæ ¸å¿ƒç†å¿µå¾ˆç®€å•ï¼š<strong>å…ˆå†™è§„æ ¼ï¼ˆspecï¼‰ï¼Œå†å†™ä»£ç </strong>ã€‚</p>
<p>å®ƒåœ¨é¡¹ç›®ä¸­åˆ›å»ºä¸¤ä¸ªå…³é”®ç›®å½•ï¼š</p>
<ul>
<li><code>openspec/specs/</code>ï¼šå­˜æ”¾å½“å‰ç³»ç»Ÿçš„çœŸå®è¡Œä¸ºè§„èŒƒï¼ˆå³â€œäº‹å®æ¥æºâ€ï¼‰</li>
<li><code>openspec/changes/</code>ï¼šå­˜æ”¾æ­£åœ¨æè®®ä¸­çš„åŠŸèƒ½å˜æ›´ï¼ˆåŒ…æ‹¬ææ¡ˆã€ä»»åŠ¡æ¸…å•å’Œè§„æ ¼å·®å¼‚ï¼‰</li>
</ul>
<p>æ•´ä¸ªæµç¨‹å›´ç»•å››ä¸ªæ­¥éª¤å±•å¼€ï¼š<strong>èµ·è‰ â†’ è¯„å®¡ â†’ å®æ–½ â†’ å½’æ¡£</strong>ã€‚AI åŠ©æ‰‹å…¨ç¨‹å‚ä¸ï¼Œä½†æ‰€æœ‰è¾“å‡ºéƒ½åŸºäºæ˜ç¡®çš„ specï¼Œè€Œéæ¨¡ç³Šçš„èŠå¤©ä¸Šä¸‹æ–‡ã€‚</p>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œ<strong>æ— éœ€ API å¯†é’¥ï¼Œä¸ç»‘å®šç‰¹å®šå¹³å°</strong>ã€‚æ— è®ºä½ ç”¨ Cursorã€Copilotã€Claude è¿˜æ˜¯å…¶ä»–æ”¯æŒ AGENTS.md åè®®çš„å·¥å…·ï¼Œéƒ½èƒ½æ— ç¼æ¥å…¥ã€‚</p>
<hr/>
<h3 data-id="heading-1">å®æˆ˜æ¼”ç¤ºï¼šç»™åšå®¢ç³»ç»ŸåŠ â€œç‚¹èµâ€åŠŸèƒ½</h3>
<p>å‡è®¾ä½ æ­£åœ¨ç»´æŠ¤ä¸€ä¸ªåšå®¢ç³»ç»Ÿï¼Œç°åœ¨è¦æ·»åŠ â€œç”¨æˆ·ç‚¹èµâ€åŠŸèƒ½ã€‚ä¼ ç»Ÿåšæ³•å¯èƒ½æ˜¯ç›´æ¥å¯¹ AI è¯´ï¼šâ€œå¸®æˆ‘åŠ ä¸ªç‚¹èµæŒ‰é’®ã€‚â€ä½†ç”¨ OpenSpecï¼Œä½ ä¼šè¿™æ ·åšï¼š</p>
<h4 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–é¡¹ç›®</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">npm install -g <span class="hljs-meta">@fission</span>-ai/openspec
cd <span class="hljs-keyword">super</span>-blog-site
openspec <span class="hljs-keyword">init</span>
</code></pre>
<p>å·¥å…·ä¼šå¼•å¯¼ä½ é€‰æ‹©å¸¸ç”¨çš„ AI åŠ©æ‰‹ï¼ˆå¦‚ Cursorã€Claudeï¼‰ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆé…ç½®å’Œ <code>AGENTS.md</code> æ–‡ä»¶ã€‚</p>
<h4 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå˜æ›´ææ¡ˆ</h4>
<pre><code class="hljs language-shell" lang="shell">/openspec:proposal  è¯·ä¸ºåšå®¢ç³»ç»Ÿåˆ›å»ºä¸€ä¸ª OpenSpec å˜æ›´ææ¡ˆï¼Œç”¨äºæ·»åŠ ç‚¹èµåŠŸèƒ½ï¼Œè¦æ±‚å·²ç™»å½•ç”¨æˆ·å¯ç‚¹èµï¼Œæ¯äººæ¯ç¯‡æ–‡ç« åªèƒ½ç‚¹ä¸€æ¬¡ã€‚â€
</code></pre>
<p>AI ä¼šè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹ç»“æ„ï¼š</p>
<pre><code class="hljs language-text" lang="text">openspec/
â””â”€â”€ changes/
    â””â”€â”€ add-blog-like/
        â”œâ”€â”€ proposal.md      # åŠŸèƒ½èƒŒæ™¯ä¸ç›®æ ‡
        â”œâ”€â”€ tasks.md         # å®ç°ä»»åŠ¡æ¸…å•
        â””â”€â”€ specs/blog/spec.md  # æ–°å¢çš„è§„æ ¼ï¼ˆDelta æ ¼å¼ï¼‰
</code></pre>
<p>å…¶ä¸­ <code>spec.md</code> ä¼šæ˜ç¡®å†™å‡ºï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section">### Requirement: åšå®¢ç‚¹èµåŠŸèƒ½</span>
ç³»ç»Ÿ MUST å…è®¸å·²è®¤è¯ç”¨æˆ·å¯¹æ–‡ç« ç‚¹èµï¼Œä¸”æ¯äººæ¯ç¯‡æ–‡ç« ä»…é™ä¸€æ¬¡ã€‚

<span class="hljs-section">#### Scenario: é¦–æ¬¡ç‚¹èµ</span>
<span class="hljs-bullet">-</span> WHEN ç”¨æˆ·ç‚¹å‡»ç‚¹èµ
<span class="hljs-bullet">-</span> THEN ç‚¹èµæ•° +1ï¼Œä¸”è®°å½•è¯¥ç”¨æˆ·å·²ç‚¹èµ

<span class="hljs-section">#### Scenario: é‡å¤ç‚¹èµ</span>
<span class="hljs-bullet">-</span> WHEN ç”¨æˆ·å†æ¬¡ç‚¹å‡»
<span class="hljs-bullet">-</span> THEN ä¸å¢åŠ è®¡æ•°ï¼Œå¹¶æç¤ºâ€œå·²ç‚¹èµâ€
</code></pre>
<h4 data-id="heading-4">ç¬¬ä¸‰æ­¥ï¼šè¯„å®¡ä¸è°ƒæ•´</h4>
<p>ä½ å¯ä»¥ç”¨å‘½ä»¤æŸ¥çœ‹ææ¡ˆç»†èŠ‚ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">openspec <span class="hljs-keyword">show</span> <span class="hljs-keyword">add</span><span class="hljs-operator">-</span>blog<span class="hljs-operator">-</span><span class="hljs-keyword">like</span>
</code></pre>
<p>å¦‚æœå‘ç°é—æ¼ï¼ˆæ¯”å¦‚å¿˜äº†â€œå–æ¶ˆç‚¹èµâ€ï¼‰ï¼Œåªéœ€å‘Šè¯‰ AI è¡¥å……ï¼Œå®ƒä¼šæ›´æ–° spec å’Œä»»åŠ¡ã€‚</p>
<h4 data-id="heading-5">ç¬¬å››æ­¥ï¼šå®æ–½ä¸å½’æ¡£</h4>
<p>ç¡®è®¤æ— è¯¯åï¼Œè¯´ï¼š</p>
<blockquote>
<p>â€œå¼€å§‹å®ç°è¿™ä¸ªç‚¹èµåŠŸèƒ½ã€‚â€</p>
</blockquote>
<p>AI å°†ä¸¥æ ¼æŒ‰ <code>tasks.md</code> ç”Ÿæˆæ•°æ®åº“è¡¨ã€API æ¥å£å’Œå‰ç«¯ç»„ä»¶ã€‚å®Œæˆåï¼Œæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-sql" lang="sql">openspec archive <span class="hljs-keyword">add</span><span class="hljs-operator">-</span>blog<span class="hljs-operator">-</span><span class="hljs-keyword">like</span> <span class="hljs-comment">--yes</span>
</code></pre>
<p>æ­¤æ—¶ï¼Œæ–°è§„æ ¼è‡ªåŠ¨åˆå¹¶è¿› <code>openspec/specs/</code>ï¼Œæˆä¸ºç³»ç»Ÿæ–‡æ¡£çš„ä¸€éƒ¨åˆ†ï¼Œè€Œå˜æ›´è®°å½•è¢«å½’æ¡£ï¼Œå…¨ç¨‹å¯è¿½æº¯ã€‚</p>
<hr/>
<h3 data-id="heading-6">ä¸ºä»€ä¹ˆå¼€å‘è€…éœ€è¦å®ƒï¼Ÿ</h3>
<ul>
<li><strong>å‡å°‘è¿”å·¥</strong>ï¼šAI ä¸å†â€œè‡ªç”±å‘æŒ¥â€ï¼Œæ‰€æœ‰è¾“å‡ºæœ‰æ®å¯ä¾ã€‚</li>
<li><strong>æ´»æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ</strong>ï¼šæ¯æ¬¡å½’æ¡£éƒ½æ˜¯å¯¹ç³»ç»Ÿè¡Œä¸ºçš„ä¸€æ¬¡æ­£å¼è®°å½•ã€‚</li>
<li><strong>å›¢é˜Ÿåä½œæ›´é¡ºç•…</strong>ï¼šæ–°äººçœ‹ <code>specs/</code> å°±èƒ½ç†è§£ç³»ç»Ÿè®¾è®¡ï¼Œæ— éœ€ç¿»èŠå¤©è®°å½•ã€‚</li>
<li><strong>é€‚é…ç°æœ‰é¡¹ç›®</strong>ï¼šç‰¹åˆ«é€‚åˆå¯¹å·²æœ‰ç³»ç»Ÿåšå¢é‡æ”¹è¿›ï¼ˆ1â†’n åœºæ™¯ï¼‰ï¼Œè€Œéä»…é™ä»é›¶å¼€å§‹ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-7">ä¸ GitHub å®˜æ–¹ spec-kit å¯¹æ¯”ï¼šä¸¤ç§â€œè§„èŒƒé©±åŠ¨â€çš„ä¸åŒè·¯å¾„</h3>
<p>GitHub åœ¨ 2024 å¹´åº•æ¨å‡ºçš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgithub%2Fspec-kit" target="_blank" title="https://github.com/github/spec-kit" ref="nofollow noopener noreferrer">spec-kit</a> åŒæ ·å€¡å¯¼â€œSpec-Driven Developmentâ€ï¼ˆè§„èŒƒé©±åŠ¨å¼€å‘ï¼‰ï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯<strong>è®©è§„æ ¼æˆä¸ºå¯æ‰§è¡Œçš„èµ·ç‚¹ï¼Œè€Œéæ–‡æ¡£ç»ˆç‚¹</strong>ã€‚å®ƒç”± GitHub å†…éƒ¨å›¢é˜Ÿå­µåŒ–ï¼Œæ·±åº¦é›†æˆ Copilotï¼Œå¹¶å¼ºè°ƒé€šè¿‡ <code>/constitution</code>ã€<code>/specify</code>ã€<code>/plan</code>ã€<code>/tasks</code>ã€<code>/implement</code> ç­‰æ–œæ å‘½ä»¤æ„å»ºä¸€ä¸ªç»“æ„åŒ–å¼€å‘æµç¨‹ã€‚</p>
<p>ä¹çœ‹ä¹‹ä¸‹ï¼ŒOpenSpec ä¸ spec-kit ç†å¿µé«˜åº¦ä¸€è‡´ï¼Œä½†æ·±å…¥ä½¿ç”¨åä¼šå‘ç°ï¼Œå®ƒä»¬ä»£è¡¨äº†ä¸¤ç§ä¸åŒçš„å·¥ç¨‹æ€ç»´ï¼š</p>








































<table><thead><tr><th>ç»´åº¦</th><th><strong>OpenSpec</strong></th><th><strong>GitHub spec-kit</strong></th></tr></thead><tbody><tr><td><strong>æ ¸å¿ƒç›®æ ‡</strong></td><td><strong>ç®¡ç†å˜æ›´çš„ç”Ÿå‘½å‘¨æœŸ</strong><br/>â€”â€”èšç„¦â€œå¦‚ä½•å®‰å…¨åœ°ä¿®æ”¹ç°æœ‰ç³»ç»Ÿâ€</td><td><strong>å¼•å¯¼ä»é›¶æ„å»ºé«˜è´¨é‡åº”ç”¨</strong><br/>â€”â€”èšç„¦â€œå¦‚ä½•ä»æ¨¡ç³Šæƒ³æ³•ç”Ÿæˆå¯é å®ç°â€</td></tr><tr><td><strong>å·¥ä½œæµé‡å¿ƒ</strong></td><td>å›´ç»• <strong>å˜æ›´ææ¡ˆï¼ˆChange Proposalï¼‰</strong><br/>ï¼ˆèµ·è‰ â†’ è¯„å®¡ â†’ å®æ–½ â†’ å½’æ¡£ï¼‰</td><td>å›´ç»• <strong>åŠŸèƒ½å¼€å‘é˜¶æ®µï¼ˆDevelopment Phasesï¼‰</strong><br/>ï¼ˆå®šä¹‰åŸåˆ™ â†’ å†™ spec â†’ åˆ¶å®šè®¡åˆ’ â†’ æ‹†è§£ä»»åŠ¡ â†’ æ‰§è¡Œï¼‰</td></tr><tr><td><strong>é¡¹ç›®çŠ¶æ€å‡è®¾</strong></td><td>é»˜è®¤é¡¹ç›®å·²å­˜åœ¨ï¼ˆbrownfieldï¼‰<br/>å¼ºè°ƒä¸ç°æœ‰ä»£ç /æ–‡æ¡£å…±å­˜</td><td>æ›´é€‚åˆæ–°é¡¹ç›®æˆ–ç‹¬ç«‹åŠŸèƒ½æ¨¡å—ï¼ˆgreenfieldï¼‰<br/>å¸¸ä¼´éš <code>specify init</code> åˆ›å»ºå…¨æ–°ç›®å½•</td></tr><tr><td><strong>è§„æ ¼ç»„ç»‡æ–¹å¼</strong></td><td>ä½¿ç”¨ <strong>Deltaï¼ˆå¢é‡ï¼‰æ¨¡å¼</strong><br/>å˜æ›´æœŸé—´ä»…æè¿°å·®å¼‚ï¼Œå½’æ¡£æ—¶æ‰åˆå¹¶åˆ°ä¸»å¹² specs</td><td>è§„æ ¼ç›´æ¥å†™å…¥ <code>specs/&lt;feature&gt;/spec.md</code><br/>æ¯ä¸ªåŠŸèƒ½å¯¹åº”ä¸€ä¸ªå®Œæ•´ spec æ–‡ä»¶</td></tr><tr><td><strong>ç”¨æˆ·è§’è‰²</strong></td><td>é€‚åˆ <strong>ç»´æŠ¤è€…/è¿­ä»£è€…</strong><br/>ï¼ˆå¦‚ç»™ SaaS äº§å“åŠ æ–°åŠŸèƒ½ã€é‡æ„æ—§æ¨¡å—ï¼‰</td><td>é€‚åˆ <strong>åˆ›å»ºè€…/æ¢ç´¢è€…</strong><br/>ï¼ˆå¦‚ MVP å¼€å‘ã€æŠ€æœ¯åŸå‹éªŒè¯ã€åˆ›æ„å®éªŒï¼‰</td></tr><tr><td><strong>è¾“å‡ºäº§ç‰©</strong></td><td>å¼ºè°ƒ <strong>å¯å®¡è®¡çš„å˜æ›´è®°å½•</strong><br/>ï¼ˆarchive ä¸­ä¿ç•™å®Œæ•´ä¸Šä¸‹æ–‡ï¼‰</td><td>å¼ºè°ƒ <strong>å¯æ‰§è¡Œçš„å·¥ç¨‹èµ„äº§</strong><br/>ï¼ˆè‡ªåŠ¨ç”Ÿæˆ plan.mdã€data-model.mdã€contracts ç­‰ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-8">ä¸¾ä¸ªä¾‹å­ï¼š</h4>
<ul>
<li>å¦‚æœä½ è¦<strong>ä¸ºå…¬å¸å†…éƒ¨ CRM ç³»ç»Ÿæ–°å¢â€œå®¢æˆ·æ ‡ç­¾åˆ†ç»„â€åŠŸèƒ½</strong>ï¼Œä¸”è¯¥ç³»ç»Ÿå·²æœ‰å¤æ‚æƒé™æ¨¡å‹å’Œæ•°æ®åº“ç»“æ„ï¼Œ<strong>OpenSpec</strong> èƒ½è®©ä½ æ¸…æ™°éš”ç¦»æœ¬æ¬¡å˜æ›´çš„å½±å“èŒƒå›´ï¼Œé¿å… AI è¯¯æ”¹æ— å…³é€»è¾‘ã€‚</li>
<li>å¦‚æœä½ è¦<strong>ä»é›¶å¼€å§‹åšä¸€ä¸ªç…§ç‰‡æ•´ç†å·¥å…·</strong>ï¼Œä¸ç¡®å®šç”¨ React è¿˜æ˜¯ Svelteï¼Œæ•°æ®åº“é€‰ SQLite è¿˜æ˜¯ IndexedDBï¼Œ<strong>spec-kit</strong> èƒ½å¸®ä½ é€šè¿‡å¤šè½® <code>/plan</code> å’Œ <code>/tasks</code> æ¢ç´¢ä¸åŒæŠ€æœ¯æ ˆï¼Œå¹¶ç”Ÿæˆå®Œæ•´çš„æ¶æ„æ–‡æ¡£ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-9">æ€»ç»“ï¼šä¸æ˜¯æ›¿ä»£ï¼Œè€Œæ˜¯äº’è¡¥</h3>
<p>spec-kit åƒæ˜¯ä¸€ä½<strong>ç»éªŒä¸°å¯Œçš„æ¶æ„å¸ˆ</strong>ï¼Œæ“…é•¿ä»ç™½çº¸å¼€å§‹æ­å»ºä¸€åº§ç»“æ„ä¸¥è°¨çš„å¤§å¦ï¼›<br/>
OpenSpec åˆ™åƒä¸€ä½<strong>è°¨æ…çš„æ”¹é€ å·¥ç¨‹å¸ˆ</strong>ï¼Œä¸“æ³¨äºåœ¨ä¸ç ´ååŸæœ‰å»ºç­‘çš„å‰æä¸‹ï¼Œç²¾å‡†åµŒå…¥æ–°åŠŸèƒ½ã€‚</p>
<p>ä¸¤è€…éƒ½è¯•å›¾è§£å†³â€œAI ç¼–ç¨‹ç¼ºä¹ç¡®å®šæ€§â€çš„æ ¹æœ¬é—®é¢˜ï¼Œåªæ˜¯åˆ‡å…¥è§’åº¦ä¸åŒã€‚<br/>
å¯¹äºå¤§å¤šæ•°æ­£åœ¨ç»´æŠ¤çº¿ä¸Šç³»ç»Ÿçš„å›¢é˜Ÿè€Œè¨€ï¼Œ<strong>OpenSpec çš„å¢é‡å¼ã€ä½ä¾µå…¥ã€é«˜å¯è¿½æº¯ç‰¹æ€§ï¼Œå¯èƒ½æ›´å®¹æ˜“èå…¥ç°æœ‰ç ”å‘æµç¨‹</strong>ã€‚è€Œ spec-kit åˆ™åœ¨åˆ›æ–°æ¢ç´¢å’Œæ ‡å‡†åŒ–å¯åŠ¨é˜¶æ®µå±•ç°å‡ºå¼ºå¤§å¼•å¯¼åŠ›ã€‚</p>
<p>æ— è®ºé€‰æ‹©å“ªä¸€ç§ï¼Œå®ƒä»¬å…±åŒä¼ é€’äº†ä¸€ä¸ªä¿¡å·ï¼š<strong>æœªæ¥çš„é«˜æ•ˆå¼€å‘ï¼Œä¸å†æ˜¯è°å†™ä»£ç æ›´å¿«ï¼Œè€Œæ˜¯è°èƒ½æŠŠâ€œæ„å›¾â€è¡¨è¾¾å¾—æ›´æ¸…æ™°ã€æ›´ç»“æ„åŒ–ã€æ›´å¯éªŒè¯</strong>ã€‚</p>
<blockquote>
<p>æ­£å¦‚ spec-kit README æ‰€è¨€ï¼šâ€œSpecifications become executable, directly generating working implementations.â€<br/>
è€Œ OpenSpec åˆ™è¡¥å……é“ï¼šâ€œAnd every change to that specification must be reviewed, implemented, and archived â€” just like code.â€</p>
</blockquote>
<hr/>
<h3 data-id="heading-10">å†™åœ¨æœ€å</h3>
<p>AI ä¸ä¼šå–ä»£ç¨‹åºå‘˜ï¼Œä½†ä¼šé‡å¡‘å¼€å‘æµç¨‹ã€‚OpenSpec çš„å‡ºç°ï¼Œæ ‡å¿—ç€æˆ‘ä»¬æ­£ä»â€œè®© AI çŒœéœ€æ±‚â€èµ°å‘â€œä¸ AI å…±åŒå®šä¹‰éœ€æ±‚â€ã€‚</p>
<p>å®ƒä¸ç‚«æŠ€ï¼Œä¸å †æ¦‚å¿µï¼Œåªæ˜¯é»˜é»˜åœ¨ä»£ç ä¹‹å‰ï¼ŒåŠ äº†ä¸€é“â€œç¡®è®¤é”®â€ã€‚è€Œè¿™ï¼Œæˆ–è®¸æ­£æ˜¯å¯æ§ã€å¯é ã€å¯åä½œçš„ AI ç¼–ç¨‹æ—¶ä»£çœŸæ­£å¼€å§‹çš„åœ°æ–¹ã€‚</p>
<blockquote>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FFission-AI%2FOpenSpec" target="_blank" title="https://github.com/Fission-AI/OpenSpec" ref="nofollow noopener noreferrer">github.com/Fission-AI/â€¦</a><br/>
<strong>æ¨èå°è¯•</strong>ï¼šåœ¨ä¸‹ä¸€ä¸ªåŠŸèƒ½å¼€å‘å‰ï¼Œå…ˆè¿è¡Œ <code>openspec init</code> â€”â€” ä½ å¯èƒ½ä¼šæƒŠè®¶äºï¼Œå½“ AI çœŸæ­£â€œæ‡‚ä½ â€æ—¶ï¼Œæ•ˆç‡èƒ½æœ‰å¤šé«˜ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¡ºåºè¡¨ä¸é“¾è¡¨ï¼šå¤´æ’æ³•ä¸å°¾æ’æ³•è¯¦è§£]]></title>    <link>https://juejin.cn/post/7583344281735151662</link>    <guid>https://juejin.cn/post/7583344281735151662</guid>    <pubDate>2025-12-14T07:47:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583344281735151662" data-draft-id="7582207260199698486" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¡ºåºè¡¨ä¸é“¾è¡¨ï¼šå¤´æ’æ³•ä¸å°¾æ’æ³•è¯¦è§£"/> <meta itemprop="keywords" content="æ•°æ®ç»“æ„,Cè¯­è¨€,C++"/> <meta itemprop="datePublished" content="2025-12-14T07:47:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°çŒªçŒªå±"/> <meta itemprop="url" content="https://juejin.cn/user/495244328305367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¡ºåºè¡¨ä¸é“¾è¡¨ï¼šå¤´æ’æ³•ä¸å°¾æ’æ³•è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/495244328305367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°çŒªçŒªå±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T07:47:31.000Z" title="Sun Dec 14 2025 07:47:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0"><strong>ä¸€ã€å‰è¨€</strong></h2>
<p>åœ¨ç¨‹åºä¸–ç•Œé‡Œï¼Œæ•°æ®ç»“æ„æœ¬è´¨ä¸Šæ˜¯ä¸€ç§<strong>æ•°æ®å­˜å‚¨ä¸ç»„ç»‡ç­–ç•¥</strong>ã€‚</p>
<h3 data-id="heading-1">é¡ºåºè¡¨ï¼ˆArrayï¼‰ï¼šåƒå·¥å‚æµæ°´çº¿</h3>
<p>é¡ºåºè¡¨å¯ä»¥ç±»æ¯”ä¸ºä¸€æ¡å·¥å‚æµæ°´çº¿ï¼Œæ‰€æœ‰ç‰©å“æŒ‰ç…§é¡ºåºæ”¾åœ¨<strong>è¿ç»­ä¸”å›ºå®šçš„ä½ç½®</strong>ä¸Šã€‚</p>
<ul>
<li>æ¯ä¸ªä½ç½®éƒ½å¯ä»¥é€šè¿‡ç¼–å·ç›´æ¥è®¿é—®</li>
<li>æƒ³è¦è·å–ç¬¬ N ä¸ªå…ƒç´ ï¼Œå‡ ä¹æ˜¯ç¬é—´å®Œæˆï¼ˆéšæœºè®¿é—®æ•ˆç‡é«˜ï¼‰</li>
<li>ä½†å¦‚æœåœ¨ä¸­é—´æ’å…¥æˆ–åˆ é™¤å…ƒç´ ï¼Œåé¢çš„ç‰©å“å°±å¿…é¡»æ•´ä½“æ¬åŠ¨ï¼Œä»£ä»·è¾ƒé«˜</li>
</ul>
<blockquote>
<p>ğŸ‘‰ å®ƒçš„ä¼˜åŠ¿åœ¨äº<strong>æŸ¥æ‰¾å¿«</strong>ï¼ŒåŠ£åŠ¿åœ¨äº<strong>æ’å…¥å’Œåˆ é™¤ä¸çµæ´»</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-2">é“¾è¡¨ï¼ˆLinked Listï¼‰ï¼šåƒä¸€åˆ—ç«è½¦</h3>
<p>é“¾è¡¨æ›´åƒæ˜¯ä¸€åˆ—ç«è½¦ï¼Œæ¯èŠ‚è½¦å¢åªçŸ¥é“<strong>ä¸‹ä¸€èŠ‚è½¦å¢çš„ä½ç½®</strong>ï¼Œè€Œä¸æ˜¯æ•´ä½“çš„ç¼–å·é¡ºåºã€‚</p>
<ul>
<li>æŸ¥æ‰¾æŸä¸€èŠ‚è½¦å¢æ—¶ï¼Œå¿…é¡»ä»è½¦å¤´ä¸€èŠ‚ä¸€èŠ‚å‘åèµ°</li>
<li>è½¦å¢ä¹‹é—´é€šè¿‡â€œè¿æ¥å…³ç³»â€ä¸²è”ï¼Œè€Œä¸æ˜¯è¿ç»­æ‘†æ”¾</li>
<li>ä¸€æ—¦æ‰¾åˆ°ç›®æ ‡ä½ç½®ï¼Œæ’å…¥æˆ–åˆ é™¤è½¦å¢åªéœ€è¦ä¿®æ”¹è¿æ¥å…³ç³»ï¼Œä¸å½±å“å…¶ä»–è½¦å¢</li>
</ul>
<blockquote>
<p>ğŸ‘‰ å®ƒçš„ä¼˜åŠ¿åœ¨äº<strong>å·²çŸ¥ä½ç½®æ—¶æ’å…¥ã€åˆ é™¤é«˜æ•ˆ</strong>ï¼ŒåŠ£åŠ¿åœ¨äº<strong>æŸ¥æ‰¾æ•ˆç‡ä½</strong>ã€‚</p>
</blockquote>
<h2 data-id="heading-3">äºŒã€ä»€ä¹ˆæ˜¯å¤´æ’æ³•å’Œå°¾æ’æ³•ï¼Ÿ</h2>
<p>åœ¨æ•°æ®ç»“æ„ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å‘å·²æœ‰çš„æ•°æ®ç»“æ„ä¸­æ·»åŠ æ–°å…ƒç´ ã€‚æ ¹æ®æ’å…¥çš„ä½ç½®ä¸åŒï¼Œå¸¸è§æœ‰ä¸¤ç§æ–¹å¼ï¼š<strong>å¤´æ’æ³•</strong>å’Œ<strong>å°¾æ’æ³•</strong>ã€‚</p>
<h3 data-id="heading-4">å¤´æ’æ³•ï¼ˆHead Insertionï¼‰</h3>
<p><strong>æ¦‚å¿µ</strong>ï¼šå°†æ–°å…ƒç´ æ’å…¥åˆ°æ•°æ®ç»“æ„çš„<strong>æœ€å‰é¢</strong>ã€‚<br/>
<strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æ–°å…ƒç´ æ€»æ˜¯æˆä¸ºâ€œç¬¬ä¸€ä¸ªå…ƒç´ â€ï¼ŒåŸæ¥çš„å…ƒç´ å¾€åé¡ºå»¶<br/></li>
<li>å¯¹é“¾è¡¨æ¥è¯´ï¼Œåªéœ€æ”¹å˜å¤´ç»“ç‚¹çš„æŒ‡é’ˆå³å¯ï¼Œæ“ä½œé«˜æ•ˆ<br/></li>
<li>å¯¹é¡ºåºè¡¨æ¥è¯´ï¼Œéœ€è¦å°†æ•°ç»„ä¸­å·²æœ‰çš„å…ƒç´ æ•´ä½“å‘åç§»åŠ¨ï¼Œæ•ˆç‡è¾ƒä½</li>
</ul>
<h3 data-id="heading-5">å°¾æ’æ³•ï¼ˆTail Insertionï¼‰</h3>
<p><strong>æ¦‚å¿µ</strong>ï¼šå°†æ–°å…ƒç´ æ’å…¥åˆ°æ•°æ®ç»“æ„çš„<strong>æœ«å°¾</strong>ã€‚<br/>
<strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æ–°å…ƒç´ æ’åœ¨å·²æœ‰å…ƒç´ ä¹‹åï¼Œé¡ºåºä¸è¾“å…¥ä¸€è‡´</li>
<li>é“¾è¡¨éœ€è¦ç»´æŠ¤å°¾æŒ‡é’ˆæ‰èƒ½é«˜æ•ˆæ’å…¥</li>
<li>é¡ºåºè¡¨ç›´æ¥åœ¨æ•°ç»„æœ«å°¾æ”¾ç½®æ–°å…ƒç´ ï¼Œæ•ˆç‡é«˜</li>
</ul>
<h3 data-id="heading-6">æ€»ç»“</h3>
<blockquote>
<p>ç†è§£å¤´æ’æ³•å’Œå°¾æ’æ³•çš„æœ¬è´¨ï¼Œå°±æ˜¯<strong>æ˜ç¡®æ–°å…ƒç´ æ’å…¥çš„ä½ç½®</strong>å’Œ<strong>å¯¹æ•°æ®é¡ºåºçš„å½±å“</strong>ï¼Œå†å»é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„å’Œæ“ä½œæ–¹æ³•ã€‚</p>
</blockquote>


























<table><thead><tr><th>æ’å…¥æ–¹å¼</th><th>æ’å…¥ä½ç½®</th><th>é¡ºåºæ•ˆæœ</th><th>æ“ä½œå¤æ‚åº¦ï¼ˆé“¾è¡¨ï¼‰</th><th>æ“ä½œå¤æ‚åº¦ï¼ˆé¡ºåºè¡¨ï¼‰</th></tr></thead><tbody><tr><td>å¤´æ’æ³•</td><td>å‰é¢</td><td>è¾“å…¥é€†åº</td><td>O(1)</td><td>O(n)</td></tr><tr><td>å°¾æ’æ³•</td><td>åé¢</td><td>è¾“å…¥é¡ºåº</td><td>O(1)</td><td>O(1)</td></tr></tbody></table>
<h2 data-id="heading-7">ä¸‰ã€é¡ºåºè¡¨çš„å¤´æ’æ³•ä¸å°¾æ’æ³•</h2>
<p>é¡ºåºè¡¨ï¼ˆArrayï¼‰æ˜¯ç”¨æ•°ç»„å®ç°çš„æ•°æ®ç»“æ„ï¼Œå…ƒç´ åœ¨å†…å­˜ä¸­è¿ç»­å­˜å‚¨ã€‚å®ƒçš„æ’å…¥æ–¹å¼å—å­˜å‚¨æ–¹å¼é™åˆ¶ï¼Œå¤´æ’æ³•å’Œå°¾æ’æ³•çš„å®ç°æ–¹å¼æœ‰æ‰€ä¸åŒã€‚</p>
<h3 data-id="heading-8">é¡ºåºè¡¨å¤´æ’æ³•</h3>
<p><strong>åŸç†</strong>ï¼š</p>
<ul>
<li>æ–°å…ƒç´ æ’å…¥æ•°ç»„å¼€å¤´ <code>L.data[0]</code></li>
<li>åŸæœ‰å…ƒç´ æ•´ä½“å‘åç§»åŠ¨ä¸€ä½</li>
<li>æ’å…¥åï¼Œé¡ºåºè¡¨é•¿åº¦ <code>L.length</code> åŠ  1</li>
</ul>
<p><strong>æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–é¡ºåºè¡¨ï¼Œè®¾ç½®é•¿åº¦ä¸º 0ã€‚</li>
<li>å¾ªç¯è¾“å…¥æ•°æ®ï¼Œç›´åˆ°é‡åˆ°ç»“æŸæ ‡è¯†ç¬¦ï¼ˆå¦‚ <code>9999</code>ï¼‰ã€‚</li>
<li>æ¯æ¬¡æ–°å…ƒç´ æ’å…¥æ•°ç»„é¦–ä½ <code>L.data[0]</code>ã€‚</li>
<li>å°†åŸæœ‰å…ƒç´ æ•´ä½“åç§»ï¼Œä¿æŒé¡ºåºå®Œæ•´ã€‚</li>
<li><code>L.length++</code>ï¼Œè¡¨ç¤ºé¡ºåºè¡¨é•¿åº¦å¢åŠ ã€‚</li>
</ol>
<h4 data-id="heading-9">ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>

<span class="hljs-meta">#<span class="hljs-keyword">define</span> MAXSIZE 100</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> {
    <span class="hljs-type">int</span> data[MAXSIZE];
    <span class="hljs-type">int</span> length;
} SqList;

<span class="hljs-comment">// æ‰“å°é¡ºåºè¡¨</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printList</span><span class="hljs-params">(SqList L)</span> </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; L.length; i++) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d"</span>, L.data[i]);
        <span class="hljs-keyword">if</span> (i != L.length - <span class="hljs-number">1</span>) {
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">" "</span>);
        }
    }
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"\n"</span>);
}
<span class="hljs-comment">// é¡ºåºè¡¨-å¤´æ’æ³•</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    SqList L;
    L.length = <span class="hljs-number">0</span>;
    <span class="hljs-type">int</span> n;
    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n) != <span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;   <span class="hljs-comment">// è¾“å…¥å¼‚å¸¸</span>
        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">9999</span>) <span class="hljs-keyword">break</span>;              <span class="hljs-comment">// ç‰¹æ®Šç»“æŸæ ‡å¿—</span>
        <span class="hljs-keyword">if</span> (L.length &gt;= MAXSIZE) { <span class="hljs-comment">// è¶Šç•Œæ£€æŸ¥</span>
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"é¡ºåºè¡¨å·²æ»¡ï¼Œæ— æ³•æ’å…¥æ›´å¤šå…ƒç´ ï¼\n"</span>);
            <span class="hljs-keyword">break</span>;
        }
        <span class="hljs-comment">// å°†å·²æœ‰å…ƒç´ åç§»</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = L.length; j &gt; <span class="hljs-number">0</span>; j--) {
            L.data[j] = L.data[j - <span class="hljs-number">1</span>];
        }
        L.data[<span class="hljs-number">0</span>] = n;
        L.length++;
    }
    <span class="hljs-built_in">printList</span>(L);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h3 data-id="heading-10">é¡ºåºè¡¨å°¾æ’æ³•</h3>
<p><strong>åŸç†</strong></p>
<ul>
<li>æ–°å…ƒç´ æ”¾åœ¨æ•°ç»„ä¸­å½“å‰æœ€åä¸€ä¸ªæœ‰æ•ˆä½ç½® <code>L.data[L.length]</code></li>
<li>æ’å…¥åï¼Œé¡ºåºè¡¨é•¿åº¦ <code>L.length</code> åŠ  1</li>
</ul>
<p><strong>æ­¥éª¤</strong>ï¼š</p>
<ol>
<li>åˆå§‹åŒ–é¡ºåºè¡¨ï¼Œè®¾ç½®é•¿åº¦ä¸º 0ã€‚</li>
<li>å¾ªç¯è¾“å…¥æ•°æ®ï¼Œç›´åˆ°é‡åˆ°ç»“æŸæ ‡è¯†ç¬¦ï¼ˆå¦‚ <code>9999</code>ï¼‰ã€‚</li>
<li>æ¯æ¬¡æ–°å…ƒç´ æ”¾åˆ° <code>L.data[L.length]</code> ä½ç½®ã€‚</li>
<li><code>L.length++</code>ï¼Œè¡¨ç¤ºé¡ºåºè¡¨é•¿åº¦å¢åŠ ã€‚</li>
</ol>
<h4 data-id="heading-11">ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> MAXSIZE 100</span>

<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> {
    <span class="hljs-type">int</span> data[MAXSIZE];
    <span class="hljs-type">int</span> length;
} SqList;

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printList</span><span class="hljs-params">(SqList L)</span> </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; L.length; i++) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d"</span>, L.data[i]);
        <span class="hljs-keyword">if</span> (i != L.length - <span class="hljs-number">1</span>) {
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">" "</span>);
        }
    }
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"\n"</span>);
}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    SqList L;
    L.length = <span class="hljs-number">0</span>;
    <span class="hljs-type">int</span> n;

    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n) != <span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;   <span class="hljs-comment">// è¾“å…¥å¼‚å¸¸</span>
        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">9999</span>) <span class="hljs-keyword">break</span>;              <span class="hljs-comment">// ç‰¹æ®Šç»“æŸæ ‡å¿—</span>
        <span class="hljs-keyword">if</span> (L.length &gt;= MAXSIZE) {         <span class="hljs-comment">// è¶Šç•Œæ£€æŸ¥</span>
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"é¡ºåºè¡¨å·²æ»¡ï¼Œæ— æ³•æ’å…¥æ›´å¤šå…ƒç´ ï¼\n"</span>);
            <span class="hljs-keyword">break</span>;
        }

        <span class="hljs-comment">// å°¾æ’æ³•ï¼šç›´æ¥æ”¾åœ¨æ•°ç»„æœ«å°¾</span>
        L.data[L.length] = n;
        L.length++;
    }

    <span class="hljs-built_in">printList</span>(L);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h2 data-id="heading-12">å››ã€é¡ºåºè¡¨çš„å¤´æ’æ³•ä¸å°¾æ’æ³•</h2>
<h3 data-id="heading-13">é“¾è¡¨å¤´æ’æ³•</h3>
<p><strong>åŸç†</strong></p>
<ul>
<li>æ–°ç»“ç‚¹æ’å…¥é“¾è¡¨å¤´éƒ¨ï¼ˆå¤´ç»“ç‚¹åï¼‰ï¼ŒåŸæœ‰é“¾è¡¨é€šè¿‡æŒ‡é’ˆè‡ªåŠ¨è¡”æ¥</li>
<li>æ’å…¥åï¼Œé“¾è¡¨é•¿åº¦å¢åŠ </li>
<li>å¤´æ’æ³•ä¼šå¯¼è‡´æœ€ç»ˆé“¾è¡¨é¡ºåºä¸è¾“å…¥é¡ºåºç›¸å</li>
</ul>
<p><strong>æ­¥éª¤</strong></p>
<ol>
<li>åˆå§‹åŒ–å¸¦å¤´ç»“ç‚¹çš„é“¾è¡¨ï¼Œå¤´ç»“ç‚¹ <code>L</code> æŒ‡é’ˆç½®ç©ºæˆ– <code>next = NULL</code></li>
<li>å¾ªç¯è¾“å…¥æ•°æ®ï¼Œç›´åˆ°é‡åˆ°ç»“æŸæ ‡è¯†ç¬¦ï¼ˆå¦‚ <code>9999</code>ï¼‰</li>
<li>æ¯æ¬¡æ–°å»ºç»“ç‚¹ <code>p</code></li>
<li>å°†æ–°ç»“ç‚¹ <code>p-&gt;next</code> æŒ‡å‘åŸé“¾è¡¨ç¬¬ä¸€ä¸ªç»“ç‚¹ <code>L-&gt;next</code></li>
<li>å¤´ç»“ç‚¹ <code>L-&gt;next</code> æŒ‡å‘æ–°ç»“ç‚¹ <code>p</code></li>
</ol>
<h4 data-id="heading-14">ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span>

<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">LNode</span> {
    <span class="hljs-type">int</span> data;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">LNode</span> *next;
} LNode, *LinkList;

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printList</span><span class="hljs-params">(LinkList L)</span> </span>{
    L = L-&gt;next;  <span class="hljs-comment">// è·³è¿‡å¤´ç»“ç‚¹</span>
    <span class="hljs-keyword">while</span> (L != <span class="hljs-literal">NULL</span>) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d"</span>, L-&gt;data);
        <span class="hljs-keyword">if</span> (L-&gt;next != <span class="hljs-literal">NULL</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">" "</span>);
        L = L-&gt;next;
    }
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"\n"</span>);
}
<span class="hljs-comment">// é“¾è¡¨-å¤´æ’æ³•</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    LinkList L = (LinkList)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(LNode)); <span class="hljs-comment">// å¤´ç»“ç‚¹</span>
    L-&gt;next = <span class="hljs-literal">NULL</span>;
    <span class="hljs-type">int</span> n;

    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n) != <span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;    <span class="hljs-comment">// è¾“å…¥å¼‚å¸¸</span>
        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">9999</span>) <span class="hljs-keyword">break</span>;   <span class="hljs-comment">// ç‰¹æ®Šç»“æŸæ ‡å¿—</span>
        LinkList p = (LinkList)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(LNode));
        p-&gt;data = n;
        p-&gt;next = L-&gt;next;
        L-&gt;next = p;
    }

    <span class="hljs-built_in">printList</span>(L);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h3 data-id="heading-15">é“¾è¡¨å°¾æ’æ³•</h3>
<p><strong>åŸç†</strong></p>
<ul>
<li>æ–°ç»“ç‚¹æ’å…¥é“¾è¡¨å°¾éƒ¨ï¼Œé€šè¿‡å°¾æŒ‡é’ˆ <code>tail</code> ç»´æŠ¤é“¾è¡¨æœ«ç«¯</li>
<li>æ’å…¥åï¼Œé“¾è¡¨é•¿åº¦å¢åŠ </li>
<li>å°¾æ’æ³•ä¿æŒè¾“å…¥é¡ºåºä¸é“¾è¡¨é¡ºåºä¸€è‡´</li>
</ul>
<p><strong>æ­¥éª¤</strong></p>
<ol>
<li>åˆå§‹åŒ–å¸¦å¤´ç»“ç‚¹çš„é“¾è¡¨ï¼Œå¤´ç»“ç‚¹ <code>L</code> æŒ‡é’ˆç½®ç©ºæˆ– <code>next = NULL</code></li>
<li>è®¾ç½®å°¾æŒ‡é’ˆ <code>tail = L</code></li>
<li>å¾ªç¯è¾“å…¥æ•°æ®ï¼Œç›´åˆ°é‡åˆ°ç»“æŸæ ‡è¯†ç¬¦ï¼ˆå¦‚ <code>9999</code>ï¼‰</li>
<li>æ¯æ¬¡æ–°å»ºç»“ç‚¹ <code>p</code>ï¼Œ<code>p-&gt;next = NULL</code></li>
<li>å°¾æŒ‡é’ˆ <code>tail-&gt;next</code> æŒ‡å‘æ–°ç»“ç‚¹ <code>p</code></li>
<li>æ›´æ–°å°¾æŒ‡é’ˆ <code>tail = p</code></li>
</ol>
<h4 data-id="heading-16">ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-c++" lang="c++"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdlib.h&gt;</span></span>

<span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">LNode</span> {
    <span class="hljs-type">int</span> data;
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">LNode</span> *next;
} LNode, *LinkList;

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">printList</span><span class="hljs-params">(LinkList L)</span> </span>{
    L = L-&gt;next;  <span class="hljs-comment">// è·³è¿‡å¤´ç»“ç‚¹</span>
    <span class="hljs-keyword">while</span> (L != <span class="hljs-literal">NULL</span>) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d"</span>, L-&gt;data);
        <span class="hljs-keyword">if</span> (L-&gt;next != <span class="hljs-literal">NULL</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">" "</span>);
        L = L-&gt;next;
    }
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"\n"</span>);
}

<span class="hljs-comment">// é“¾è¡¨-å°¾æ’æ³•</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    LinkList L = (LinkList)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(LNode)); <span class="hljs-comment">// å¤´ç»“ç‚¹</span>
    L-&gt;next = <span class="hljs-literal">NULL</span>;
    LinkList tail = L; <span class="hljs-comment">// å°¾æŒ‡é’ˆåˆå§‹åŒ–ä¸ºå¤´ç»“ç‚¹</span>
    <span class="hljs-type">int</span> n;

    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;n) != <span class="hljs-number">1</span>) <span class="hljs-keyword">break</span>;  <span class="hljs-comment">// è¾“å…¥å¼‚å¸¸</span>
        <span class="hljs-keyword">if</span> (n == <span class="hljs-number">9999</span>) <span class="hljs-keyword">break</span>;             <span class="hljs-comment">// ç‰¹æ®Šç»“æŸæ ‡å¿—</span>

        LinkList p = (LinkList)<span class="hljs-built_in">malloc</span>(<span class="hljs-built_in">sizeof</span>(LNode));
        p-&gt;data = n;
        p-&gt;next = <span class="hljs-literal">NULL</span>;

        <span class="hljs-comment">// å°¾æ’æ³•</span>
        tail-&gt;next = p;
        tail = p;
    }

    <span class="hljs-built_in">printList</span>(L);
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h2 data-id="heading-17">æ€»ç»“</h2>
<p>å¤´æ’æ³•å’Œå°¾æ’æ³•æ˜¯é¡ºåºè¡¨ä¸é“¾è¡¨ä¸­æœ€åŸºç¡€çš„æ’å…¥æ“ä½œï¼Œå®ƒä»¬ä½“ç°äº†ä¸åŒæ•°æ®ç»“æ„çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li><strong>é¡ºåºè¡¨</strong>ä¾èµ–è¿ç»­å†…å­˜ï¼Œå¤´æ’éœ€è¦ç§»åŠ¨å…ƒç´ ï¼Œå°¾æ’æ•ˆç‡é«˜ï¼›</li>
<li><strong>é“¾è¡¨</strong>é€šè¿‡æŒ‡é’ˆè¿æ¥ï¼Œæ’å…¥çµæ´»ï¼Œå¤´æ’é€†åºæ„å»ºï¼Œå°¾æ’é¡ºåºæ„å»ºï¼›</li>
<li><strong>é€‰æ‹©åŸåˆ™</strong>ï¼šæ ¹æ®æ˜¯å¦éœ€è¦ä¿æŒè¾“å…¥é¡ºåºã€æ˜¯å¦é¢‘ç¹åœ¨å¼€å¤´æ’å…¥ã€ä»¥åŠæ•ˆç‡è¦æ±‚æ¥é€‰æ‹©é€‚åˆçš„æ–¹æ³•ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RSA çš„æ ¸å¿ƒåŸç†]]></title>    <link>https://juejin.cn/post/7582997593090244627</link>    <guid>https://juejin.cn/post/7582997593090244627</guid>    <pubDate>2025-12-14T08:14:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582997593090244627" data-draft-id="7582904081864491049" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RSA çš„æ ¸å¿ƒåŸç†"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2025-12-14T08:14:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°è™ç‰™007"/> <meta itemprop="url" content="https://juejin.cn/user/3940246036155640"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RSA çš„æ ¸å¿ƒåŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3940246036155640/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°è™ç‰™007
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T08:14:43.000Z" title="Sun Dec 14 2025 08:14:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>RSA çš„æ•°å­¦åŸç†æœ¬è´¨æ˜¯<strong>ä¸‰å¤§æ•°å­¦åŸºçŸ³</strong>ï¼š<strong>è´¨æ•°åˆ†è§£éš¾é¢˜</strong>ã€<strong>æ¬§æ‹‰å®šç†</strong>ã€<strong>æ¨¡é€†å…ƒ</strong>ã€‚</p>
<p>ä¸‹é¢ç”¨ã€Œå…¬å¼ + æ­¥éª¤ + ä¾‹å­ã€çš„æ–¹å¼ï¼Œä¸€æ­¥æ­¥æ‹†è§£ï¼Œå…¨ç¨‹ä¸è·³å…³é”®é€»è¾‘ï¼Œä¿è¯ä½ èƒ½çœ‹æ‡‚ã€‚</p>
<h3 data-id="heading-0">ä¸€ã€å…ˆæ˜ç¡® 3 ä¸ªæ ¸å¿ƒæ•°å­¦æ¦‚å¿µï¼ˆå¿…é¡»æ‡‚ï¼‰</h3>
<p>åœ¨è®² RSA ä¹‹å‰ï¼Œå…ˆææ‡‚è¿™ 3 ä¸ªåŸºç¡€ï¼Œå¦åˆ™åé¢ä¼šæ‡µï¼š</p>
<ol>
<li>
<p><strong>è´¨æ•°ï¼ˆç´ æ•°ï¼‰</strong> ï¼šåªèƒ½è¢« 1 å’Œè‡ªèº«æ•´é™¤çš„æ•°ï¼Œæ¯”å¦‚Â <code>2,3,5,7,11...</code>ã€‚</p>
</li>
<li>
<p><strong>æ¬§æ‹‰å‡½æ•° Ï†(n)</strong> ï¼š</p>
<ul>
<li>å®šä¹‰ï¼šå°äºÂ <code>n</code>Â ä¸”ä¸Â <code>n</code>Â <strong>äº’è´¨</strong>ï¼ˆæœ€å¤§å…¬çº¦æ•°ä¸º 1ï¼‰çš„æ­£æ•´æ•°çš„ä¸ªæ•°ã€‚</li>
<li>å…³é”®æ€§è´¨ï¼šè‹¥Â <code>n = pÃ—q</code>ï¼ˆ<code>p</code>ã€<code>q</code>Â æ˜¯ä¸ç›¸ç­‰çš„è´¨æ•°ï¼‰ï¼Œåˆ™Â <code>Ï†(n) = (p-1)Ã—(q-1)</code>ã€‚ä¾‹ï¼š<code>p=3, q=5 â†’ n=15 â†’ Ï†(15)=(3-1)Ã—(5-1)=8</code>ï¼ˆéªŒè¯ï¼š1,2,4,7,8,11,13,14 å…± 8 ä¸ªï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ¨¡é€†å…ƒ</strong>ï¼š</p>
<ul>
<li>å®šä¹‰ï¼šå¯¹äºæ•´æ•°Â <code>a</code>Â å’ŒÂ <code>m</code>ï¼Œå¦‚æœå­˜åœ¨æ•´æ•°Â <code>b</code>ï¼Œä½¿å¾—Â <code>(aÃ—b) mod m = 1</code>ï¼Œåˆ™Â <code>b</code>Â æ˜¯Â <code>a</code>Â çš„æ¨¡Â <code>m</code>Â é€†å…ƒã€‚</li>
<li>å­˜åœ¨æ¡ä»¶ï¼š<code>a</code>Â å’ŒÂ <code>m</code>Â <strong>äº’è´¨</strong>ã€‚ä¾‹ï¼š<code>a=3, m=10 â†’ 3Ã—7=21 â†’ 21 mod 10=1 â†’ 7 æ˜¯ 3 çš„æ¨¡ 10 é€†å…ƒ</code>ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-1">äºŒã€RSA å¯†é’¥ç”Ÿæˆçš„ 5 ä¸ªæ­¥éª¤ï¼ˆæ ¸å¿ƒï¼‰</h3>
<p>RSA çš„å¯†é’¥å¯¹ï¼ˆå…¬é’¥ + ç§é’¥ï¼‰å°±æ˜¯é€šè¿‡è¿™ 5 æ­¥ç®—å‡ºæ¥çš„ï¼Œæˆ‘ä»¬ç”¨<strong>å°è´¨æ•°ä¸¾ä¾‹</strong>ï¼ˆå®é™…ç”¨å‡ ç™¾ä½çš„å¤§è´¨æ•°ï¼‰ã€‚</p>
<h4 data-id="heading-2">æ­¥éª¤ 1ï¼šé€‰ä¸¤ä¸ªä¸ç›¸ç­‰çš„å¤§è´¨æ•°Â <code>p</code>Â å’ŒÂ <code>q</code></h4>
<p>ä¸ºäº†æ–¹ä¾¿è®¡ç®—ï¼Œæˆ‘ä»¬é€‰å°è´¨æ•°ï¼š<code>p = 61</code>ï¼Œ<code>q = 53</code>ï¼ˆå®é™…åœºæ™¯ä¸­Â <code>p</code>Â å’ŒÂ <code>q</code>Â æ˜¯å‡ ç™¾ä½çš„è´¨æ•°ï¼Œç›¸ä¹˜åçš„Â <code>n</code>Â æ˜¯å‡ ç™¾ä½çš„å¤§æ•°ï¼‰</p>
<h4 data-id="heading-3">æ­¥éª¤ 2ï¼šè®¡ç®—Â <code>n = p Ã— q</code>ï¼ˆå…¬é’¥çš„æ ¸å¿ƒå‚æ•°ï¼‰</h4>
<p><code>n = 61 Ã— 53 = 3233</code></p>
<ul>
<li><code>n</code>Â çš„ä½œç”¨ï¼šä½œä¸º<strong>æ¨¡</strong>ï¼Œå…¬é’¥å’Œç§é’¥éƒ½éœ€è¦å®ƒï¼Œæ˜¯å…¬å¼€çš„ã€‚</li>
<li>å®‰å…¨æ€§å…³é”®ï¼šç ´è§£ RSA å¿…é¡»ä»Â <code>n</code>Â åæ¨å‡ºÂ <code>p</code>Â å’ŒÂ <code>q</code>ï¼Œä½†å¤§æ•°åˆ†è§£æéš¾ã€‚</li>
</ul>
<h4 data-id="heading-4">æ­¥éª¤ 3ï¼šè®¡ç®—æ¬§æ‹‰å‡½æ•°Â <code>Ï†(n) = (p-1) Ã— (q-1)</code></h4>
<p><code>Ï†(3233) = (61-1) Ã— (53-1) = 60 Ã— 52 = 3120</code></p>
<ul>
<li><code>Ï†(n)</code>Â æ˜¯<strong>ç§æœ‰çš„</strong>ï¼Œç»å¯¹ä¸èƒ½å…¬å¼€ã€‚</li>
</ul>
<h4 data-id="heading-5">æ­¥éª¤ 4ï¼šé€‰ä¸€ä¸ªæ•´æ•°Â <code>e</code>ï¼Œæ»¡è¶³ä¸¤ä¸ªæ¡ä»¶</h4>
<ol>
<li><code>1 &lt; e &lt; Ï†(n)</code></li>
<li><code>e</code>Â å’ŒÂ <code>Ï†(n)</code>Â <strong>äº’è´¨</strong>ï¼ˆæœ€å¤§å…¬çº¦æ•°ä¸º 1ï¼‰</li>
</ol>
<p>æˆ‘ä»¬é€‰Â <code>e = 17</code>ï¼ˆè¡Œä¸šå¸¸ç”¨Â <code>e=65537</code>ï¼Œæ˜¯å›ºå®šå€¼ï¼‰éªŒè¯ï¼š<code>gcd(17, 3120) = 1</code>ï¼ˆäº’è´¨ï¼Œç¬¦åˆæ¡ä»¶ï¼‰</p>
<ul>
<li><code>e</code>Â æ˜¯<strong>å…¬é’¥çš„å¦ä¸€ä¸ªæ ¸å¿ƒå‚æ•°</strong>ï¼Œå’ŒÂ <code>n</code>Â ä¸€èµ·ç»„æˆå…¬é’¥Â <code>(e, n)</code>ã€‚</li>
</ul>
<h4 data-id="heading-6">æ­¥éª¤ 5ï¼šè®¡ç®—Â <code>e</code>Â çš„æ¨¡Â <code>Ï†(n)</code>Â é€†å…ƒÂ <code>d</code>ï¼ˆç§é’¥æ ¸å¿ƒå‚æ•°ï¼‰</h4>
<p>æ‰¾ä¸€ä¸ªæ•´æ•°Â <code>d</code>ï¼Œæ»¡è¶³Â <code>(e Ã— d) mod Ï†(n) = 1</code>ä»£å…¥æ•°å€¼ï¼š<code>(17 Ã— d) mod 3120 = 1</code>é€šè¿‡è®¡ç®—å¯å¾—Â <code>d = 2753</code>ï¼ˆéªŒè¯ï¼š<code>17Ã—2753=46801 â†’ 46801 mod 3120 = 1</code>ï¼Œç¬¦åˆæ¡ä»¶ï¼‰</p>
<ul>
<li><code>d</code>Â æ˜¯<strong>ç§é’¥çš„æ ¸å¿ƒå‚æ•°</strong>ï¼Œå’ŒÂ <code>n</code>Â ä¸€èµ·ç»„æˆç§é’¥Â <code>(d, n)</code>ï¼Œç»å¯¹ä¿å¯†ã€‚</li>
</ul>
<h4 data-id="heading-7">æœ€ç»ˆå¯†é’¥å¯¹</h4>
<ul>
<li>å…¬é’¥Â <code>(e, n) = (17, 3233)</code>Â â†’ å…¬å¼€ç»™æ‰€æœ‰äºº</li>
<li>ç§é’¥Â <code>(d, n) = (2753, 3233)</code>Â â†’ è‡ªå·±ä¿ç®¡ï¼Œç»ä¸æ³„éœ²</li>
</ul>
<h3 data-id="heading-8">ä¸‰ã€RSA åŠ å¯†å’Œè§£å¯†çš„æ•°å­¦å…¬å¼</h3>
<p>RSA çš„åŠ å¯†å’Œè§£å¯†éƒ½æ˜¯<strong>æ¨¡å¹‚è¿ç®—</strong>ï¼Œå…¬å¼éå¸¸ç®€æ´ï¼š</p>
<ul>
<li>æ˜æ–‡ï¼š<code>m</code>ï¼ˆè¦åŠ å¯†çš„æ•°æ®ï¼Œå¿…é¡»Â <code>m &lt; n</code>ï¼‰</li>
<li>å¯†æ–‡ï¼š<code>c</code>ï¼ˆåŠ å¯†åçš„æ•°æ®ï¼‰</li>
</ul>
<h4 data-id="heading-9">1. åŠ å¯†ï¼ˆç”¨å…¬é’¥Â <code>(e, n)</code>ï¼‰</h4>
<p><code>c = m^e mod n</code></p>
<ul>
<li>ä»»ä½•äººéƒ½èƒ½ç”¨å…¬é’¥åŠ å¯†ï¼Œä½†åªæœ‰ç§é’¥èƒ½è§£å¯†ã€‚</li>
</ul>
<h4 data-id="heading-10">2. è§£å¯†ï¼ˆç”¨ç§é’¥Â <code>(d, n)</code>ï¼‰</h4>
<p><code>m = c^d mod n</code></p>
<ul>
<li>åªæœ‰æŒæœ‰ç§é’¥çš„äººï¼Œæ‰èƒ½ç®—å‡ºæ˜æ–‡ã€‚</li>
</ul>
<h3 data-id="heading-11">å››ã€å®é™…ä¸¾ä¾‹ï¼šåŠ å¯†è§£å¯†å…¨è¿‡ç¨‹</h3>
<p>æˆ‘ä»¬ç”¨ä¸Šé¢çš„å¯†é’¥å¯¹ï¼ŒåŠ å¯†æ˜æ–‡Â <code>m = 65</code>ï¼ˆæ¯”å¦‚ 65 å¯¹åº”å­—æ¯ 'A'ï¼‰</p>
<h4 data-id="heading-12">æ­¥éª¤ 1ï¼šåŠ å¯†ï¼ˆå…¬é’¥Â <code>(17, 3233)</code>ï¼‰</h4>
<p><code>c = 65^17 mod 3233</code>è®¡ç®—ç»“æœï¼š<code>c = 2790</code></p>
<ul>
<li>å¯†æ–‡å°±æ˜¯Â <code>2790</code>ï¼Œå¯ä»¥å…¬å¼€ä¼ è¾“ã€‚</li>
</ul>
<h4 data-id="heading-13">æ­¥éª¤ 2ï¼šè§£å¯†ï¼ˆç§é’¥Â <code>(2753, 3233)</code>ï¼‰</h4>
<p><code>m = 2790^2753 mod 3233</code>è®¡ç®—ç»“æœï¼š<code>m = 65</code></p>
<ul>
<li>æˆåŠŸè¿˜åŸæ˜æ–‡ï¼</li>
</ul>
<h3 data-id="heading-14">äº”ã€RSA æ•°å­—ç­¾åçš„æ•°å­¦åŸç†ï¼ˆå’Œ App ç­¾åç›¸å…³ï¼‰</h3>
<p>ä½ ä¹‹å‰åšçš„ App ç­¾åï¼Œæœ¬è´¨æ˜¯ RSA ç­¾åï¼Œå…¬å¼å’ŒåŠ å¯†ç›¸åï¼š</p>
<ol>
<li><strong>ç­¾å</strong>ï¼šç”¨ç§é’¥Â <code>(d, n)</code>Â åŠ å¯†æ˜æ–‡çš„å“ˆå¸Œå€¼Â <code>h``s = h^d mod n</code>Â â†’Â <code>s</code>Â å°±æ˜¯æ•°å­—ç­¾å</li>
<li><strong>éªŒè¯</strong>ï¼šç”¨å…¬é’¥Â <code>(e, n)</code>Â è§£å¯†ç­¾åï¼Œå¯¹æ¯”å“ˆå¸Œå€¼<code>h' = s^e mod n</code>Â â†’ å¦‚æœÂ <code>h' = h</code>ï¼Œè¯´æ˜ç­¾ååˆæ³•</li>
</ol>
<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼šåªæœ‰ç§é’¥æŒæœ‰è€…èƒ½ç”Ÿæˆç­¾åï¼Œä»»ä½•äººéƒ½èƒ½ç”¨å…¬é’¥éªŒè¯ â€”â€” è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ App ç­¾åèƒ½é˜²ç¯¡æ”¹ã€é˜²ä¼ªé€ ã€‚</p>
<h3 data-id="heading-15">å…­ã€RSA å®‰å…¨æ€§çš„æ•°å­¦æœ¬è´¨</h3>
<p>RSA ä¹‹æ‰€ä»¥å®‰å…¨ï¼Œæ ¸å¿ƒæ˜¯ **â€œå¤§æ•°åˆ†è§£éš¾é¢˜â€ çš„å•å‘æ€§ **ï¼š</p>
<ol>
<li><strong>æ­£å‘è®¡ç®—å®¹æ˜“</strong>ï¼šä¸¤ä¸ªå‡ ç™¾ä½çš„å¤§è´¨æ•°Â <code>p</code>Â å’ŒÂ <code>q</code>ï¼Œç›¸ä¹˜å¾—åˆ°Â <code>n</code>Â å¾ˆç®€å•ï¼›</li>
<li><strong>åå‘è®¡ç®—æéš¾</strong>ï¼šä»å‡ ç™¾ä½çš„Â <code>n</code>Â åæ¨å‡ºÂ <code>p</code>Â å’ŒÂ <code>q</code>ï¼Œç°æœ‰è®¡ç®—æœºéœ€è¦<strong>å‡ ç™¾ä¸‡å¹´</strong>æ‰èƒ½ç®—å‡ºæ¥ï¼›</li>
<li><strong>ç ´è§£çš„å”¯ä¸€é€”å¾„</strong>ï¼šå¿…é¡»çŸ¥é“Â <code>d</code>ï¼Œè€ŒÂ <code>d</code>Â çš„è®¡ç®—ä¾èµ–Â <code>Ï†(n)</code>ï¼Œ<code>Ï†(n)</code>Â åˆä¾èµ–Â <code>p</code>Â å’ŒÂ <code>q</code>â€”â€” æ²¡æœ‰Â <code>p</code>Â å’ŒÂ <code>q</code>ï¼Œå°±æ°¸è¿œç®—ä¸å‡ºÂ <code>d</code>ã€‚</li>
</ol>
<h3 data-id="heading-16">ä¸ƒã€è¡¥å……ï¼šä¸ºä»€ä¹ˆå®é™… RSA è¦ç»“åˆå“ˆå¸Œç®—æ³•ï¼Ÿ</h3>
<p>å› ä¸º RSA åªèƒ½åŠ å¯†<strong>å°äºÂ <code>n</code>Â çš„æ•°æ®</strong>ï¼Œè€ŒÂ <code>n</code>Â æ˜¯å‡ ç™¾ä½çš„æ•°ï¼Œç›´æ¥åŠ å¯†å¤§æ–‡ä»¶æ•ˆç‡æä½ã€‚æ‰€ä»¥å®é™…æµç¨‹æ˜¯ï¼š</p>
<ol>
<li>å¯¹å¤§æ–‡ä»¶ï¼ˆå¦‚ APKï¼‰è®¡ç®—å“ˆå¸Œå€¼Â <code>h</code>ï¼ˆå¦‚ SHA256ï¼‰â†’ å¾—åˆ°çŸ­å­—ç¬¦ä¸²ï¼›</li>
<li>ç”¨ç§é’¥åŠ å¯†Â <code>h</code>Â â†’ ç”Ÿæˆæ•°å­—ç­¾åï¼›</li>
<li>éªŒè¯æ—¶ï¼Œå…ˆç®—æ–‡ä»¶å“ˆå¸Œï¼Œå†ç”¨å…¬é’¥è§£å¯†ç­¾åå¯¹æ¯” â€”â€” æ—¢é«˜æ•ˆåˆå®‰å…¨ã€‚</li>
</ol>
<h3 data-id="heading-17">æ€»ç»“</h3>
<p>RSA çš„æ•°å­¦åŸç†å¯ä»¥æµ“ç¼©ä¸º 3 å¥è¯ï¼š</p>
<ol>
<li>å¯†é’¥ç”Ÿæˆï¼šåŸºäºè´¨æ•°åˆ†è§£å’Œæ¬§æ‹‰å®šç†ï¼Œç®—å‡ºå…¬é’¥Â <code>(e,n)</code>Â å’Œç§é’¥Â <code>(d,n)</code>ï¼›</li>
<li>åŠ è§£å¯†ï¼šå…¬é’¥åŠ å¯†æ˜¯Â <code>m^e mod n</code>ï¼Œç§é’¥è§£å¯†æ˜¯Â <code>c^d mod n</code>ï¼›</li>
<li>å®‰å…¨æ€§ï¼šä¾èµ–å¤§æ•°åˆ†è§£çš„å•å‘æ€§ï¼Œç°æœ‰æŠ€æœ¯æ— æ³•ç ´è§£ã€‚</li>
</ol>
<p>è¿™ä¸ªæ•°å­¦é€»è¾‘çœ‹ä¼¼ç®€å•ï¼Œå´æ˜¯äº’è”ç½‘å®‰å…¨çš„åŸºçŸ³ â€”â€” ä» HTTPS åˆ° App ç­¾åï¼Œéƒ½ç¦»ä¸å¼€å®ƒï¼</p>
<h2 data-id="heading-18">æ¬§æ‹‰å‡½æ•°æ²¡æ‡‚ï¼Ÿæˆ‘è¯¦ç»†è®²ä¸‹</h2>
<p>æ¬§æ‹‰å‡½æ•°ï¼ˆÏ† å‡½æ•°ï¼‰æ˜¯ç†è§£ RSA çš„æ ¸å¿ƒé—¨æ§›ï¼Œå’±ä»¬ç”¨ã€Œå®šä¹‰â†’æ€§è´¨â†’ä¾‹å­â†’å®æˆ˜è®¡ç®—ã€å››æ­¥æ‹†è§£ï¼Œå…¨ç¨‹ä¸ç”¨å¤æ‚å…¬å¼ï¼Œåªè®²æœ¬è´¨å’Œå®ç”¨ç»“è®ºï¼š</p>
<h3 data-id="heading-19">ä¸€ã€å…ˆæŠŠæ¬§æ‹‰å‡½æ•°è¯´äººè¯ï¼šæ ¸å¿ƒå®šä¹‰</h3>
<p>æ¬§æ‹‰å‡½æ•°Â <code>Ï†(n)</code>Â çš„å”¯ä¸€ä½œç”¨ï¼š<strong>è®¡ç®— â€œå°äºç­‰äº n ä¸”å’Œ n äº’è´¨çš„æ­£æ•´æ•°çš„ä¸ªæ•°â€</strong> ã€‚</p>
<h4 data-id="heading-20">å…³é”®å‰ç½®ï¼šä»€ä¹ˆæ˜¯ â€œäº’è´¨â€ï¼Ÿ</h4>
<p>ä¸¤ä¸ªæ•°çš„Â <strong>æœ€å¤§å…¬çº¦æ•°ï¼ˆgcdï¼‰= 1</strong>ï¼Œå°±è¯´è¿™ä¸¤ä¸ªæ•°äº’è´¨ã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>5 å’Œ 8ï¼šgcd (5,8)=1 â†’ äº’è´¨ï¼›</li>
<li>6 å’Œ 8ï¼šgcd (6,8)=2 â†’ ä¸äº’è´¨ï¼›</li>
<li>1 å’Œä»»ä½•æ•°ï¼šgcd (1,x)=1 â†’ 1 å’Œæ‰€æœ‰æ•°éƒ½äº’è´¨ï¼ˆé‡è¦ç»“è®ºï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-21">æ¬§æ‹‰å‡½æ•°çš„è®¡ç®—ç¤ºä¾‹ï¼ˆä»ç®€å•åˆ°å¤æ‚ï¼‰</h4>






















































<table><thead><tr><th>n å€¼</th><th>å°äºç­‰äº n çš„æ­£æ•´æ•°</th><th>å…¶ä¸­å’Œ n äº’è´¨çš„æ•°</th><th>Ï†(n) ç»“æœ</th><th>éªŒè¯</th></tr></thead><tbody><tr><td>1</td><td>[1]</td><td>[1]</td><td>1</td><td>åªæœ‰ 1 ä¸ª</td></tr><tr><td>2</td><td>[1,2]</td><td>[1]</td><td>1</td><td>2 å’Œ 1 äº’è´¨ï¼Œå’Œè‡ªå·±ä¸äº’è´¨</td></tr><tr><td>3</td><td>[1,2,3]</td><td>[1,2]</td><td>2</td><td>3 å’Œ 1ã€2 éƒ½äº’è´¨</td></tr><tr><td>4</td><td>[1,2,3,4]</td><td>[1,3]</td><td>2</td><td>4 å’Œ 1ã€3 äº’è´¨ï¼ˆå’Œ 2ã€4 ä¸äº’è´¨ï¼‰</td></tr><tr><td>5</td><td>[1,2,3,4,5]</td><td>[1,2,3,4]</td><td>4</td><td>è´¨æ•°å’Œæ‰€æœ‰å°äºå®ƒçš„æ•°éƒ½äº’è´¨</td></tr><tr><td>6</td><td>[1,2,3,4,5,6]</td><td>[1,5]</td><td>2</td><td>6 å’Œ 1ã€5 äº’è´¨ï¼ˆå’Œ 2ã€3ã€4ã€6 ä¸äº’è´¨ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-22">äºŒã€æ¬§æ‹‰å‡½æ•°çš„æ ¸å¿ƒæ€§è´¨ï¼ˆRSA åªç”¨åˆ°è¿™ 2 æ¡ï¼‰</h3>
<p>ä¸ç”¨è®°æ‰€æœ‰æ€§è´¨ï¼ŒRSA é‡Œåªéœ€è¦æŒæ¡ä»¥ä¸‹ 2 æ¡ï¼Œå°¤å…¶æ˜¯ç¬¬ 2 æ¡ï¼š</p>
<h4 data-id="heading-23">æ€§è´¨ 1ï¼šè‹¥ n æ˜¯<strong>è´¨æ•°</strong>ï¼Œåˆ™ Ï†(n) = n-1</h4>
<p>è§£é‡Šï¼šè´¨æ•°çš„å®šä¹‰æ˜¯ â€œåªèƒ½è¢« 1 å’Œè‡ªèº«æ•´é™¤â€ï¼Œæ‰€ä»¥æ‰€æœ‰å°äºå®ƒçš„æ•°éƒ½å’Œå®ƒäº’è´¨ï¼Œä¸ªæ•°å°±æ˜¯ n-1ã€‚ä¾‹å­ï¼š</p>
<ul>
<li>n=5ï¼ˆè´¨æ•°ï¼‰â†’ Ï†(5)=5-1=4ï¼ˆå’Œä¸Šé¢è¡¨æ ¼ä¸€è‡´ï¼‰ï¼›</li>
<li>n=61ï¼ˆRSA ä¾‹å­é‡Œçš„è´¨æ•°ï¼‰â†’ Ï†(61)=60ã€‚</li>
</ul>
<h4 data-id="heading-24">æ€§è´¨ 2ï¼šè‹¥ n = pÃ—qï¼ˆpã€q æ˜¯<strong>ä¸ç›¸ç­‰çš„è´¨æ•°</strong>ï¼‰ï¼Œåˆ™ Ï†(n) = (p-1)Ã—(q-1)</h4>
<p>è¿™æ˜¯ RSA ä¸­æœ€æ ¸å¿ƒçš„æ€§è´¨ï¼è§£é‡Šï¼š</p>
<ol>
<li>pã€q æ˜¯è´¨æ•°ï¼Œæ‰€ä»¥ Ï†(p)=p-1ï¼ŒÏ†(q)=q-1ï¼›</li>
<li>å½“ p å’Œ q ä¸ç›¸ç­‰æ—¶ï¼ŒÏ†(pÃ—q) = Ï†(p)Ã—Ï†(q)ï¼ˆæ•°è®ºé‡Œçš„ â€œç§¯æ€§å‡½æ•°â€ æ€§è´¨ï¼‰ï¼›</li>
<li>å› æ­¤ Ï†(n) = (p-1)Ã—(q-1)ã€‚</li>
</ol>
<h5 data-id="heading-25">å®æˆ˜è®¡ç®—ï¼ˆå¯¹åº”ä¹‹å‰ RSA çš„ä¾‹å­ï¼‰</h5>
<p>RSA ä¸­æˆ‘ä»¬é€‰äº† p=61ï¼Œq=53ï¼ˆéƒ½æ˜¯è´¨æ•°ä¸”ä¸ç›¸ç­‰ï¼‰ï¼š</p>
<ul>
<li>Ï†(61) = 61-1 = 60ï¼›</li>
<li>Ï†(53) = 53-1 = 52ï¼›</li>
<li>Ï†(n) = Ï†(61Ã—53) = 60Ã—52 = 3120ï¼ˆå’Œä¹‹å‰ RSA æ­¥éª¤é‡Œçš„ç»“æœå®Œå…¨ä¸€è‡´ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-26">ä¸ºä»€ä¹ˆè¿™ä¸ªæ€§è´¨å¯¹ RSA è‡³å…³é‡è¦ï¼Ÿ</h4>
<p>å› ä¸ºï¼š</p>
<ol>
<li>RSA çš„ç§é’¥å‚æ•° d å¿…é¡»é€šè¿‡ Ï†(n) è®¡ç®—ï¼ˆd æ˜¯ e çš„æ¨¡ Ï†(n) é€†å…ƒï¼‰ï¼›</li>
<li>å¤–äººåªçŸ¥é“ nï¼ˆå…¬å¼€ï¼‰ï¼Œä½†è¦ç®— Ï†(n) å¿…é¡»å…ˆåˆ†è§£ n å¾—åˆ° p å’Œ qï¼›</li>
<li>å½“ n æ˜¯å‡ ç™¾ä½çš„å¤§æ•°æ—¶ï¼Œåˆ†è§£ n æˆ pÃ—q æ˜¯ä¸–ç•Œçº§æ•°å­¦éš¾é¢˜ â€”â€” è¿™å°±æ˜¯ RSA å®‰å…¨çš„æ ¸å¿ƒã€‚</li>
</ol>
<h3 data-id="heading-27">ä¸‰ã€å†ä¸¾ 2 ä¸ªä¾‹å­å·©å›ºæ€§è´¨ 2</h3>
<h4 data-id="heading-28">ä¾‹å­ 1ï¼šn=15=3Ã—5ï¼ˆ3ã€5 éƒ½æ˜¯è´¨æ•°ï¼‰</h4>
<ul>
<li>Ï†(15) = (3-1)Ã—(5-1) = 2Ã—4 = 8ï¼›</li>
<li>éªŒè¯ï¼šå°äº 15 ä¸”å’Œ 15 äº’è´¨çš„æ•°æ˜¯ [1,2,4,7,8,11,13,14] â†’ å…± 8 ä¸ªï¼Œå’Œè®¡ç®—ç»“æœä¸€è‡´ã€‚</li>
</ul>
<h4 data-id="heading-29">ä¾‹å­ 2ï¼šn=21=3Ã—7ï¼ˆ3ã€7 éƒ½æ˜¯è´¨æ•°ï¼‰</h4>
<ul>
<li>Ï†(21) = (3-1)Ã—(7-1) = 2Ã—6 = 12ï¼›</li>
<li>éªŒè¯ï¼šå°äº 21 ä¸”å’Œ 21 äº’è´¨çš„æ•°æ˜¯ [1,2,4,5,8,10,11,13,16,17,19,20] â†’ å…± 12 ä¸ªï¼Œæ­£ç¡®ã€‚</li>
</ul>
<h3 data-id="heading-30">å››ã€æ¬§æ‹‰å‡½æ•°åœ¨ RSA ä¸­çš„å®é™…ä½œç”¨ï¼ˆç»ˆäºç»•å›æ ¸å¿ƒï¼‰</h3>
<p>æˆ‘ä»¬å†ä¸²ä¸€é RSA æµç¨‹ï¼Œçœ‹æ¬§æ‹‰å‡½æ•°åˆ°åº•åœ¨å“ªå‘æŒ¥ä½œç”¨ï¼š</p>
<ol>
<li>é€‰ p=61ã€q=53 â†’ n=3233ï¼›</li>
<li>ç®— Ï†(n)=3120ï¼ˆè¿™ä¸€æ­¥æ˜¯ç§é’¥çš„ â€œå¯†ç â€ï¼‰ï¼›</li>
<li>é€‰ e=17ï¼ˆå’Œ Ï†(n) äº’è´¨ï¼‰ï¼›</li>
<li>ç®— dï¼Œæ»¡è¶³ (eÃ—d) mod Ï†(n)=1 â†’ (17Ã—2753) mod 3120=1ï¼›</li>
<li>åŠ å¯†ï¼šc = m^e mod nï¼›è§£å¯†ï¼šm = c^d mod nã€‚</li>
</ol>
<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼š</p>
<ul>
<li>è§£å¯†å…¬å¼èƒ½æˆç«‹ï¼Œæœ¬è´¨æ˜¯åŸºäº â€œæ¬§æ‹‰å®šç†â€ï¼šè‹¥ m å’Œ n äº’è´¨ï¼Œåˆ™ m^Ï†(n) â‰¡ 1 mod nï¼›</li>
<li>æ¨å¯¼ä¸‹æ¥å°±æ˜¯ m^(eÃ—d) â‰¡ m^(kÃ—Ï†(n)+1) â‰¡ (m^Ï†(n))^k Ã— m â‰¡ 1^k Ã— m â‰¡ m mod nï¼›</li>
<li>è€Œ Ï†(n) åªæœ‰ç§é’¥æŒæœ‰è€…çŸ¥é“ï¼ˆå› ä¸ºåªæœ‰ä»–çŸ¥é“ p å’Œ qï¼‰ï¼Œå¤–äººå°±ç®—æ‹¿åˆ° e å’Œ nï¼Œä¹Ÿç®—ä¸å‡º dã€‚</li>
</ul>
<h3 data-id="heading-31">äº”ã€æ€»ç»“ï¼šæ¬§æ‹‰å‡½æ•°çš„æ ¸å¿ƒ Takeaway</h3>
<ol>
<li>æ¬§æ‹‰å‡½æ•° Ï†(n) = å°äºç­‰äº n ä¸”å’Œ n äº’è´¨çš„æ­£æ•´æ•°ä¸ªæ•°ï¼›</li>
<li>è´¨æ•° p çš„ Ï†(p)=p-1ï¼›</li>
<li>è‹¥ n=pÃ—qï¼ˆpã€q æ˜¯ä¸åŒè´¨æ•°ï¼‰ï¼Œåˆ™ Ï†(n)=(p-1)Ã—(q-1)ï¼ˆRSA å”¯ä¸€éœ€è¦è®°çš„ï¼‰ï¼›</li>
<li>æ¬§æ‹‰å‡½æ•°æ˜¯ RSA ç§é’¥è®¡ç®—çš„ â€œé’¥åŒ™â€ï¼Œä¹Ÿæ˜¯ RSA å®‰å…¨æ€§çš„æ ¸å¿ƒ â€”â€” å› ä¸ºå¤–äººæ— æ³•ä» n åæ¨ Ï†(n)ã€‚</li>
</ol>
<p>ç°åœ¨å›å¤´çœ‹ RSA çš„å¯†é’¥ç”Ÿæˆï¼Œæ˜¯ä¸æ˜¯å°±æ‡‚äº†ï¼š<strong>æ¬§æ‹‰å‡½æ•°æ˜¯è¿æ¥ â€œå…¬å¼€çš„ nâ€ å’Œ â€œç§å¯†çš„ dâ€ çš„å”¯ä¸€æ¡¥æ¢ï¼Œè€Œè¿™ä¸ªæ¡¥æ¢çš„å…¥å£ï¼ˆpã€qï¼‰è¢«ç‰¢ç‰¢é”æ­»</strong>ã€‚</p>
<p>Ï†è¿™ä¸ªç¬¦å·å•¥æ„æ€ï¼Œ ä¸æ‡‚å•Š</p>
<p>è¿™ä¸ªç¬¦å·Â <code>Ï†</code>Â å°±æ˜¯<strong>æ¬§æ‹‰å‡½æ•°çš„ä¸“å± â€œåå­—â€</strong> ï¼Œæ²¡å•¥å¤æ‚å«ä¹‰ï¼Œå°±æ˜¯ä¸€ä¸ªæ•°å­¦è®°å·ã€‚</p>
<h3 data-id="heading-32">ä¸€ã€<code>Ï†</code>Â æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<ol>
<li>
<p><strong>è¯»éŸ³</strong>ï¼šè¯»ä½œÂ <strong>fÃ i</strong>ï¼ˆå’Œ â€œæ´¾ Ï€â€ ç±»ä¼¼ï¼Œéƒ½æ˜¯å¸Œè…Šå­—æ¯ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä½œç”¨</strong>ï¼šä¸“é—¨ç”¨æ¥è¡¨ç¤º â€œæ¬§æ‹‰å‡½æ•°â€ è¿™ä¸ªè®¡ç®—è§„åˆ™ï¼Œå°±åƒç”¨Â <code>f(x)</code>Â è¡¨ç¤ºå‡½æ•°ä¸€æ ·ã€‚</p>
<ul>
<li>æ¯”å¦‚Â <code>Ï†(n)</code>ï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯Â  <strong>â€œå¯¹æ­£æ•´æ•° n è®¡ç®—æ¬§æ‹‰å‡½æ•°çš„å€¼â€</strong> ã€‚</li>
<li>ä½ å¯ä»¥æŠŠå®ƒç†è§£æˆä¸€ä¸ª â€œè®¡ç®—æŒ‡ä»¤â€ï¼šè¾“å…¥ä¸€ä¸ªæ•°Â <code>n</code>ï¼Œè¾“å‡º â€œå°äºç­‰äºÂ <code>n</code>Â ä¸”å’ŒÂ <code>n</code>Â äº’è´¨çš„æ­£æ•´æ•°ä¸ªæ•°â€ã€‚</li>
</ul>
</li>
</ol>
<h3 data-id="heading-33">äºŒã€ä¸¾ä¸ªä¾‹å­ï¼Œç§’æ‡‚ç”¨æ³•</h3>






























<table><thead><tr><th>æ•°å­¦å†™æ³•</th><th>ä¸­æ–‡ç¿»è¯‘</th><th>è®¡ç®—ç»“æœ</th></tr></thead><tbody><tr><td><code>Ï†(5)</code></td><td>è®¡ç®— 5 çš„æ¬§æ‹‰å‡½æ•°å€¼</td><td>4ï¼ˆ1ã€2ã€3ã€4 éƒ½å’Œ 5 äº’è´¨ï¼‰</td></tr><tr><td><code>Ï†(6)</code></td><td>è®¡ç®— 6 çš„æ¬§æ‹‰å‡½æ•°å€¼</td><td>2ï¼ˆ1ã€5 å’Œ 6 äº’è´¨ï¼‰</td></tr><tr><td><code>Ï†(15)</code></td><td>è®¡ç®— 15 çš„æ¬§æ‹‰å‡½æ•°å€¼</td><td>8ï¼ˆ1ã€2ã€4ã€7ã€8ã€11ã€13ã€14 å’Œ 15 äº’è´¨ï¼‰</td></tr><tr><td><code>Ï†(p)</code>ï¼ˆp æ˜¯è´¨æ•°ï¼‰</td><td>è®¡ç®—è´¨æ•° p çš„æ¬§æ‹‰å‡½æ•°å€¼</td><td>p-1ï¼ˆæ‰€æœ‰å°äº p çš„æ•°éƒ½å’Œ p äº’è´¨ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-34">ä¸‰ã€å’Œ RSA çš„å…³è”ï¼šä¸ºå•¥è¦è®°è¿™ä¸ªç¬¦å·ï¼Ÿ</h3>
<p>åœ¨ RSA é‡Œï¼Œä½ åªéœ€è¦è®°ä½Â <strong><code>Ï†(n) = (p-1)Ã—(q-1)</code></strong> Â è¿™ä¸ªå…¬å¼å°±è¡Œï¼Œè¿™é‡Œçš„Â <code>Ï†(n)</code>Â å°±æ˜¯ â€œå¯¹Â <code>n</code>Â è®¡ç®—æ¬§æ‹‰å‡½æ•°â€ çš„ç®€å†™ã€‚</p>
<ul>
<li>æ¯”å¦‚ RSA ä¾‹å­é‡ŒÂ <code>n=61Ã—53=3233</code>ï¼Œæˆ‘ä»¬ç›´æ¥å†™Â <code>Ï†(3233) = (61-1)Ã—(53-1)=3120</code>ï¼Œä¸ç”¨æ¯æ¬¡éƒ½å†™ â€œè®¡ç®—å°äº 3233 ä¸”å’Œ 3233 äº’è´¨çš„æ•°çš„ä¸ªæ•°â€ã€‚</li>
</ul>
<p>ç®€å•è¯´ï¼š<code>Ï†</code>Â å°±æ˜¯ä¸ª<strong>ç®€å†™ç¬¦å·</strong>ï¼Œç”¨æ¥è®©æ•°å­¦è¡¨è¾¾æ›´ç®€æ´ï¼Œä¸ç”¨åå¤å†™ä¸€é•¿ä¸²æ–‡å­—å®šä¹‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptæ€§èƒ½ä¸ä¼˜åŒ–ï¼šæ‰‹å†™å®ç°å…³é”®ä¼˜åŒ–æŠ€æœ¯]]></title>    <link>https://juejin.cn/post/7582904081864507433</link>    <guid>https://juejin.cn/post/7582904081864507433</guid>    <pubDate>2025-12-14T08:24:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582904081864507433" data-draft-id="7583215836690006057" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptæ€§èƒ½ä¸ä¼˜åŒ–ï¼šæ‰‹å†™å®ç°å…³é”®ä¼˜åŒ–æŠ€æœ¯"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-14T08:24:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="1024è‚¥å®…"/> <meta itemprop="url" content="https://juejin.cn/user/588993964030574"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptæ€§èƒ½ä¸ä¼˜åŒ–ï¼šæ‰‹å†™å®ç°å…³é”®ä¼˜åŒ–æŠ€æœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993964030574/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    1024è‚¥å®…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T08:24:56.000Z" title="Sun Dec 14 2025 08:24:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">å¼•è¨€</h4>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œæ€§èƒ½ä¼˜åŒ–ä¸ä»…ä»…æ˜¯ä½¿ç”¨ç°æˆçš„åº“å’Œå·¥å…·ï¼Œç†è§£å…¶åº•å±‚åŸç†å¹¶èƒ½å¤Ÿæ‰‹å†™å®ç°æ˜¯å…³é”®ã€‚é€šè¿‡æ‰‹å†™è¿™äº›ä¼˜åŒ–æŠ€æœ¯ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š</p>
<ul>
<li>æ›´æ·±å…¥åœ°ç†è§£æ€§èƒ½ç“¶é¢ˆ</li>
<li>æ ¹æ®å…·ä½“åœºæ™¯å®šåˆ¶ä¼˜åŒ–æ–¹æ¡ˆ</li>
<li>é¿å…å¼•å…¥ä¸å¿…è¦çš„ä¾èµ–</li>
<li>æå‡è§£å†³é—®é¢˜çš„èƒ½åŠ›</li>
</ul>
<p>æœ¬æ–‡å°†æ·±å…¥æ¢è®¨JavaScriptæ€§èƒ½ä¼˜åŒ–çš„æ ¸å¿ƒæ‰‹å†™å®ç°ï¼Œæ¯ä¸ªæŠ€æœ¯ç‚¹éƒ½å°†åŒ…å«å®Œæ•´çš„å®ç°ä»£ç å’Œåº”ç”¨åœºæ™¯ã€‚</p>
<h4 data-id="heading-1">ä¸€ã€è™šæ‹Ÿåˆ—è¡¨å®ç°ï¼ˆVirtual Listï¼‰</h4>
<p>è™šæ‹Ÿåˆ—è¡¨æ˜¯å¤„ç†å¤§æ•°æ®åˆ—è¡¨æ¸²æŸ“çš„æ ¸å¿ƒæŠ€æœ¯ï¼Œé€šè¿‡åªæ¸²æŸ“å¯è§†åŒºåŸŸå†…çš„å…ƒç´ æ¥å¤§å¹…æå‡æ€§èƒ½ã€‚</p>
<h5 data-id="heading-2">1.1 æ ¸å¿ƒåŸç†</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">VirtualList</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span> = options.<span class="hljs-property">container</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span> = options.<span class="hljs-property">itemHeight</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalItems</span> = options.<span class="hljs-property">totalItems</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bufferSize</span> = options.<span class="hljs-property">bufferSize</span> || <span class="hljs-number">5</span>; <span class="hljs-comment">// ä¸Šä¸‹ç¼“å†²åŒºåŸŸ</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">renderItem</span> = options.<span class="hljs-property">renderItem</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleItems</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span> = <span class="hljs-number">0</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">init</span>();
  }

  <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åˆ›å»ºå®¹å™¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'relative'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.totalItems * <span class="hljs-variable language_">this</span>.itemHeight}</span>px`</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-property">style</span>.<span class="hljs-property">overflow</span> = <span class="hljs-string">'hidden'</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'absolute'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-string">'0'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-property">style</span>.<span class="hljs-property">left</span> = <span class="hljs-string">'0'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">'100%'</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>);
    
    <span class="hljs-comment">// ç»‘å®šæ»šåŠ¨äº‹ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleScroll</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
    
    <span class="hljs-comment">// åˆå§‹æ¸²æŸ“</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateVisibleRange</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">renderVisibleItems</span>();
  }

  <span class="hljs-title function_">calculateVisibleRange</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> scrollTop = <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-property">scrollTop</span>;
    <span class="hljs-keyword">const</span> visibleHeight = <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-property">clientHeight</span>;
    
    <span class="hljs-comment">// è®¡ç®—å¯è§†åŒºåŸŸèµ·å§‹å’Œç»“æŸç´¢å¼•</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(
      <span class="hljs-number">0</span>,
      <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(scrollTop / <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span>) - <span class="hljs-variable language_">this</span>.<span class="hljs-property">bufferSize</span>
    );
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalItems</span> - <span class="hljs-number">1</span>,
      <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>((scrollTop + visibleHeight) / <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span>) + <span class="hljs-variable language_">this</span>.<span class="hljs-property">bufferSize</span>
    );
  }

  <span class="hljs-title function_">renderVisibleItems</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç§»é™¤ä¸åœ¨å¯è§†åŒºåŸŸçš„å…ƒç´ </span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleItems</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (item.<span class="hljs-property">index</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span> || item.<span class="hljs-property">index</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span>) {
        item.<span class="hljs-property">element</span>.<span class="hljs-title function_">remove</span>();
      }
    });
    
    <span class="hljs-comment">// æ›´æ–°å¯è§é¡¹æ•°ç»„</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleItems</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleItems</span>.<span class="hljs-title function_">filter</span>(
      <span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">index</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span> &amp;&amp; item.<span class="hljs-property">index</span> &lt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span>
    );
    
    <span class="hljs-comment">// åˆ›å»ºæ–°çš„å¯è§é¡¹</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span>; i &lt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span>; i++) {
      <span class="hljs-keyword">const</span> existingItem = <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleItems</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">index</span> === i);
      
      <span class="hljs-keyword">if</span> (!existingItem) {
        <span class="hljs-keyword">const</span> itemElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
        itemElement.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'absolute'</span>;
        itemElement.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-string">`<span class="hljs-subst">${i * <span class="hljs-variable language_">this</span>.itemHeight}</span>px`</span>;
        itemElement.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.itemHeight}</span>px`</span>;
        itemElement.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">'100%'</span>;
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">renderItem</span>(itemElement, i);
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-title function_">appendChild</span>(itemElement);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleItems</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">index</span>: i, <span class="hljs-attr">element</span>: itemElement });
      }
    }
    
    <span class="hljs-comment">// æ›´æ–°å†…å®¹åŒºåŸŸä½ç½®</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span> = <span class="hljs-string">`translateY(<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.startIndex * <span class="hljs-variable language_">this</span>.itemHeight}</span>px)`</span>;
  }

  <span class="hljs-title function_">handleScroll</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateVisibleRange</span>();
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">renderVisibleItems</span>();
    });
  }

  <span class="hljs-title function_">updateItem</span>(<span class="hljs-params">index, data</span>) {
    <span class="hljs-keyword">const</span> item = <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleItems</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">index</span> === index);
    <span class="hljs-keyword">if</span> (item) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">renderItem</span>(item.<span class="hljs-property">element</span>, index, data);
    }
  }

  <span class="hljs-title function_">destroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleScroll</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span>.<span class="hljs-title function_">removeChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>);
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> listContainer = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'list-container'</span>);

<span class="hljs-keyword">const</span> virtualList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VirtualList</span>({
  <span class="hljs-attr">container</span>: listContainer,
  <span class="hljs-attr">itemHeight</span>: <span class="hljs-number">50</span>,
  <span class="hljs-attr">totalItems</span>: <span class="hljs-number">10000</span>,
  <span class="hljs-attr">bufferSize</span>: <span class="hljs-number">10</span>,
  <span class="hljs-attr">renderItem</span>: <span class="hljs-function">(<span class="hljs-params">element, index</span>) =&gt;</span> {
    element.<span class="hljs-property">textContent</span> = <span class="hljs-string">`Item <span class="hljs-subst">${index + <span class="hljs-number">1</span>}</span>`</span>;
    element.<span class="hljs-property">style</span>.<span class="hljs-property">borderBottom</span> = <span class="hljs-string">'1px solid #eee'</span>;
    element.<span class="hljs-property">style</span>.<span class="hljs-property">padding</span> = <span class="hljs-string">'10px'</span>;
  }
});

<span class="hljs-comment">// åŠ¨æ€æ›´æ–°</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  virtualList.<span class="hljs-title function_">updateItem</span>(<span class="hljs-number">5</span>, <span class="hljs-string">'Updated Item 6'</span>);
}, <span class="hljs-number">2000</span>);
</code></pre>
<h5 data-id="heading-3">1.2 å¸¦åŠ¨æ€é«˜åº¦çš„è™šæ‹Ÿåˆ—è¡¨</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DynamicVirtualList</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span> = options.<span class="hljs-property">container</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalItems</span> = options.<span class="hljs-property">totalItems</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">renderItem</span> = options.<span class="hljs-property">renderItem</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">estimateHeight</span> = options.<span class="hljs-property">estimateHeight</span> || <span class="hljs-number">50</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">bufferSize</span> = options.<span class="hljs-property">bufferSize</span> || <span class="hljs-number">5</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeights</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">totalItems</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">null</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemPositions</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">totalItems</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleItems</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cachedItems</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">init</span>();
  }

  <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'relative'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">'500px'</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-property">style</span>.<span class="hljs-property">overflow</span> = <span class="hljs-string">'auto'</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'relative'</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">container</span>.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>);
    
    <span class="hljs-comment">// è®¡ç®—é¢„ä¼°çš„æ€»é«˜åº¦</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculatePositions</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateContentHeight</span>();
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleScroll</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
    
    <span class="hljs-comment">// åˆå§‹æ¸²æŸ“</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateVisibleRange</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">renderVisibleItems</span>();
  }

  <span class="hljs-title function_">calculatePositions</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> totalHeight = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalItems</span>; i++) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemPositions</span>[i] = totalHeight;
      totalHeight += <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeights</span>[i] || <span class="hljs-variable language_">this</span>.<span class="hljs-property">estimateHeight</span>;
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalHeight</span> = totalHeight;
  }

  <span class="hljs-title function_">updateContentHeight</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-property">style</span>.<span class="hljs-property">height</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.totalHeight}</span>px`</span>;
  }

  <span class="hljs-title function_">calculateVisibleRange</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> scrollTop = <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-property">scrollTop</span>;
    <span class="hljs-keyword">const</span> viewportHeight = <span class="hljs-variable language_">this</span>.<span class="hljs-property">viewport</span>.<span class="hljs-property">clientHeight</span>;
    
    <span class="hljs-comment">// äºŒåˆ†æŸ¥æ‰¾èµ·å§‹ç´¢å¼•</span>
    <span class="hljs-keyword">let</span> start = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">let</span> end = <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalItems</span> - <span class="hljs-number">1</span>;
    
    <span class="hljs-keyword">while</span> (start &lt;= end) {
      <span class="hljs-keyword">const</span> mid = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((start + end) / <span class="hljs-number">2</span>);
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">itemPositions</span>[mid] &lt;= scrollTop) {
        start = mid + <span class="hljs-number">1</span>;
      } <span class="hljs-keyword">else</span> {
        end = mid - <span class="hljs-number">1</span>;
      }
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, end - <span class="hljs-variable language_">this</span>.<span class="hljs-property">bufferSize</span>);
    
    <span class="hljs-comment">// æŸ¥æ‰¾ç»“æŸç´¢å¼•</span>
    <span class="hljs-keyword">let</span> currentHeight = scrollTop;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span>;
    
    <span class="hljs-keyword">while</span> (
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalItems</span> &amp;&amp;
      currentHeight &lt; scrollTop + viewportHeight
    ) {
      currentHeight += <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeights</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span>] || <span class="hljs-variable language_">this</span>.<span class="hljs-property">estimateHeight</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span>++;
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalItems</span> - <span class="hljs-number">1</span>,
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">bufferSize</span>
    );
  }

  <span class="hljs-title function_">renderVisibleItems</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ›´æ–°å¯è§é¡¹</span>
    <span class="hljs-keyword">const</span> newVisibleItems = [];
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span>; i &lt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span>; i++) {
      <span class="hljs-keyword">let</span> itemElement = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cachedItems</span>.<span class="hljs-title function_">get</span>(i);
      
      <span class="hljs-keyword">if</span> (!itemElement) {
        itemElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'div'</span>);
        itemElement.<span class="hljs-property">style</span>.<span class="hljs-property">position</span> = <span class="hljs-string">'absolute'</span>;
        itemElement.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.itemPositions[i]}</span>px`</span>;
        itemElement.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">'100%'</span>;
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">renderItem</span>(itemElement, i);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cachedItems</span>.<span class="hljs-title function_">set</span>(i, itemElement);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">content</span>.<span class="hljs-title function_">appendChild</span>(itemElement);
        
        <span class="hljs-comment">// æµ‹é‡å®é™…é«˜åº¦</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeights</span>[i] === <span class="hljs-literal">null</span>) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeights</span>[i] = itemElement.<span class="hljs-property">offsetHeight</span>;
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculatePositions</span>();
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateContentHeight</span>();
          
          <span class="hljs-comment">// é‡æ–°è®¡ç®—ä½ç½®</span>
          itemElement.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.itemPositions[i]}</span>px`</span>;
        }
      }
      
      newVisibleItems.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">index</span>: i, <span class="hljs-attr">element</span>: itemElement });
    }
    
    <span class="hljs-comment">// éšè—ä¸åœ¨å¯è§†åŒºåŸŸçš„å…ƒç´ </span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleItems</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">{ index, element }</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">startIndex</span> || index &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">endIndex</span>) {
        element.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;
      }
    });
    
    <span class="hljs-comment">// æ˜¾ç¤ºå¯è§å…ƒç´ </span>
    newVisibleItems.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">{ index, element }</span>) =&gt;</span> {
      element.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">''</span>;
      element.<span class="hljs-property">style</span>.<span class="hljs-property">top</span> = <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.itemPositions[index]}</span>px`</span>;
    });
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">visibleItems</span> = newVisibleItems;
  }

  <span class="hljs-title function_">handleScroll</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateVisibleRange</span>();
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">renderVisibleItems</span>();
    });
  }

  <span class="hljs-title function_">updateItem</span>(<span class="hljs-params">index, data</span>) {
    <span class="hljs-keyword">const</span> itemElement = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cachedItems</span>.<span class="hljs-title function_">get</span>(index);
    <span class="hljs-keyword">if</span> (itemElement) {
      <span class="hljs-keyword">const</span> oldHeight = <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeights</span>[index] || <span class="hljs-variable language_">this</span>.<span class="hljs-property">estimateHeight</span>;
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">renderItem</span>(itemElement, index, data);
      
      <span class="hljs-keyword">const</span> newHeight = itemElement.<span class="hljs-property">offsetHeight</span>;
      <span class="hljs-keyword">if</span> (oldHeight !== newHeight) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeights</span>[index] = newHeight;
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculatePositions</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updateContentHeight</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">renderVisibleItems</span>();
      }
    }
  }
}
</code></pre>
<h4 data-id="heading-4">äºŒã€å›¾ç‰‡æ‡’åŠ è½½ï¼ˆLazy Loadingï¼‰</h4>
<h5 data-id="heading-5">2.1 åŸºäºIntersectionObserverçš„å®ç°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LazyImageLoader</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {
      <span class="hljs-attr">root</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">rootMargin</span>: <span class="hljs-string">'0px'</span>,
      <span class="hljs-attr">threshold</span>: <span class="hljs-number">0.1</span>,
      <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'</span>,
      <span class="hljs-attr">errorImage</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">loadingClass</span>: <span class="hljs-string">'lazy-loading'</span>,
      <span class="hljs-attr">loadedClass</span>: <span class="hljs-string">'lazy-loaded'</span>,
      <span class="hljs-attr">errorClass</span>: <span class="hljs-string">'lazy-error'</span>,
      ...options
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">images</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fallbackTimeout</span> = <span class="hljs-number">3000</span>; <span class="hljs-comment">// é™çº§è¶…æ—¶æ—¶é—´</span>
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">init</span>();
  }

  <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-string">'IntersectionObserver'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserver</span>(
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleIntersection</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>),
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>
      );
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">useFallback</span>();
    }
    
    <span class="hljs-comment">// é¢„è¿æ¥DNSå’Œé¢„åŠ è½½</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addPreconnect</span>();
  }

  <span class="hljs-title function_">addPreconnect</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> domains = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    
    <span class="hljs-comment">// æ”¶é›†æ‰€æœ‰å›¾ç‰‡çš„åŸŸå</span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">'img[data-src]'</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">img</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> src = img.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">'data-src'</span>);
      <span class="hljs-keyword">if</span> (src) {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">const</span> url = <span class="hljs-keyword">new</span> <span class="hljs-title function_">URL</span>(src, <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">origin</span>);
          domains.<span class="hljs-title function_">add</span>(url.<span class="hljs-property">origin</span>);
        } <span class="hljs-keyword">catch</span> (e) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'Invalid URL:'</span>, src);
        }
      }
    });
    
    <span class="hljs-comment">// æ·»åŠ preconnecté“¾æ¥</span>
    domains.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">domain</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> link = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'link'</span>);
      link.<span class="hljs-property">rel</span> = <span class="hljs-string">'preconnect'</span>;
      link.<span class="hljs-property">href</span> = domain;
      link.<span class="hljs-property">crossOrigin</span> = <span class="hljs-string">'anonymous'</span>;
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(link);
    });
  }

  <span class="hljs-title function_">registerImage</span>(<span class="hljs-params">imgElement</span>) {
    <span class="hljs-keyword">if</span> (!(imgElement <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">HTMLImageElement</span>)) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Element must be an image'</span>);
    }

    <span class="hljs-keyword">const</span> src = imgElement.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">'data-src'</span>);
    <span class="hljs-keyword">if</span> (!src) <span class="hljs-keyword">return</span>;

    <span class="hljs-comment">// ä¿å­˜åŸå§‹å±æ€§</span>
    imgElement.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'data-lazy-src'</span>, src);
    
    <span class="hljs-comment">// è®¾ç½®å ä½ç¬¦</span>
    <span class="hljs-keyword">if</span> (imgElement.<span class="hljs-property">src</span> !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">placeholder</span>) {
      imgElement.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'data-original-src'</span>, imgElement.<span class="hljs-property">src</span>);
      imgElement.<span class="hljs-property">src</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">placeholder</span>;
    }
    
    imgElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">loadingClass</span>);
    
    <span class="hljs-comment">// æ·»åŠ åˆ°è§‚å¯Ÿåˆ—è¡¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">images</span>.<span class="hljs-title function_">set</span>(imgElement, {
      src,
      <span class="hljs-attr">loaded</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">loadAttempted</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">observerAttached</span>: <span class="hljs-literal">false</span>
    });
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attachObserver</span>(imgElement);
  }

  <span class="hljs-title function_">attachObserver</span>(<span class="hljs-params">imgElement</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span> &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">images</span>.<span class="hljs-title function_">get</span>(imgElement)?.<span class="hljs-property">observerAttached</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">observe</span>(imgElement);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">images</span>.<span class="hljs-title function_">get</span>(imgElement).<span class="hljs-property">observerAttached</span> = <span class="hljs-literal">true</span>;
    }
  }

  <span class="hljs-title function_">handleIntersection</span>(<span class="hljs-params">entries</span>) {
    entries.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">entry</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">isIntersecting</span>) {
        <span class="hljs-keyword">const</span> img = entry.<span class="hljs-property">target</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadImage</span>(img);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>?.<span class="hljs-title function_">unobserve</span>(img);
      }
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadImage</span>(<span class="hljs-params">imgElement</span>) {
    <span class="hljs-keyword">const</span> imageData = <span class="hljs-variable language_">this</span>.<span class="hljs-property">images</span>.<span class="hljs-title function_">get</span>(imgElement);
    <span class="hljs-keyword">if</span> (!imageData || imageData.<span class="hljs-property">loadAttempted</span>) <span class="hljs-keyword">return</span>;

    imageData.<span class="hljs-property">loadAttempted</span> = <span class="hljs-literal">true</span>;
    
    <span class="hljs-comment">// ç§»é™¤åŠ è½½ç±»ï¼Œæ·»åŠ åŠ è½½ä¸­ç±»</span>
    imgElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">loadingClass</span>);
    imgElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">loadingClass</span>);
    
    <span class="hljs-comment">// åˆ›å»ºåŠ è½½è¶…æ—¶</span>
    <span class="hljs-keyword">const</span> loadTimeout = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (!imageData.<span class="hljs-property">loaded</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleImageError</span>(imgElement, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Image load timeout'</span>));
      }
    }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">fallbackTimeout</span>);
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// é¢„åŠ è½½å›¾ç‰‡</span>
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">preloadImage</span>(imageData.<span class="hljs-property">src</span>);
      
      <span class="hljs-comment">// åº”ç”¨å›¾ç‰‡</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">applyImage</span>(imgElement, imageData.<span class="hljs-property">src</span>);
      
      <span class="hljs-built_in">clearTimeout</span>(loadTimeout);
      
      <span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span>
      imageData.<span class="hljs-property">loaded</span> = <span class="hljs-literal">true</span>;
      imgElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">loadingClass</span>);
      imgElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">loadedClass</span>);
      
      <span class="hljs-comment">// è§¦å‘äº‹ä»¶</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">dispatchEvent</span>(imgElement, <span class="hljs-string">'lazyload'</span>, { <span class="hljs-attr">src</span>: imageData.<span class="hljs-property">src</span> });
      
      <span class="hljs-comment">// é¢„åŠ è½½ç›¸é‚»å›¾ç‰‡</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">preloadAdjacentImages</span>(imgElement);
      
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleImageError</span>(imgElement, error);
    }
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">preloadImage</span>(<span class="hljs-params">src</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();
      
      img.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> {
        img.<span class="hljs-property">onload</span> = img.<span class="hljs-property">onerror</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-title function_">resolve</span>(img);
      };
      
      img.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
        img.<span class="hljs-property">onload</span> = img.<span class="hljs-property">onerror</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Failed to load image: <span class="hljs-subst">${src}</span>`</span>));
      };
      
      <span class="hljs-comment">// è®¾ç½®crossOriginå±æ€§</span>
      <span class="hljs-keyword">if</span> (src.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'http'</span>)) {
        img.<span class="hljs-property">crossOrigin</span> = <span class="hljs-string">'anonymous'</span>;
      }
      
      img.<span class="hljs-property">src</span> = src;
    });
  }

  <span class="hljs-title function_">applyImage</span>(<span class="hljs-params">imgElement, src</span>) {
    <span class="hljs-comment">// ä½¿ç”¨requestAnimationFrameç¡®ä¿æµç•…</span>
    <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
      imgElement.<span class="hljs-property">src</span> = src;
      
      <span class="hljs-comment">// å¦‚æœæœ‰srcsetä¹Ÿæ›´æ–°</span>
      <span class="hljs-keyword">const</span> srcset = imgElement.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">'data-srcset'</span>);
      <span class="hljs-keyword">if</span> (srcset) {
        imgElement.<span class="hljs-property">srcset</span> = srcset;
        imgElement.<span class="hljs-title function_">removeAttribute</span>(<span class="hljs-string">'data-srcset'</span>);
      }
      
      <span class="hljs-comment">// ç§»é™¤data-srcå±æ€§</span>
      imgElement.<span class="hljs-title function_">removeAttribute</span>(<span class="hljs-string">'data-src'</span>);
      imgElement.<span class="hljs-title function_">removeAttribute</span>(<span class="hljs-string">'data-lazy-src'</span>);
    });
  }

  <span class="hljs-title function_">preloadAdjacentImages</span>(<span class="hljs-params">currentImg</span>) {
    <span class="hljs-keyword">const</span> allImages = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">images</span>.<span class="hljs-title function_">keys</span>());
    <span class="hljs-keyword">const</span> currentIndex = allImages.<span class="hljs-title function_">indexOf</span>(currentImg);
    
    <span class="hljs-keyword">if</span> (currentIndex !== -<span class="hljs-number">1</span>) {
      <span class="hljs-comment">// é¢„åŠ è½½å‰åå„2å¼ å›¾ç‰‡</span>
      <span class="hljs-keyword">const</span> indices = [
        currentIndex - <span class="hljs-number">2</span>, currentIndex - <span class="hljs-number">1</span>,
        currentIndex + <span class="hljs-number">1</span>, currentIndex + <span class="hljs-number">2</span>
      ];
      
      indices.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">index</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-number">0</span> &amp;&amp; index &lt; allImages.<span class="hljs-property">length</span>) {
          <span class="hljs-keyword">const</span> img = allImages[index];
          <span class="hljs-keyword">const</span> imgData = <span class="hljs-variable language_">this</span>.<span class="hljs-property">images</span>.<span class="hljs-title function_">get</span>(img);
          
          <span class="hljs-keyword">if</span> (!imgData.<span class="hljs-property">loaded</span> &amp;&amp; !imgData.<span class="hljs-property">loadAttempted</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attachObserver</span>(img);
          }
        }
      });
    }
  }

  <span class="hljs-title function_">handleImageError</span>(<span class="hljs-params">imgElement, error</span>) {
    <span class="hljs-keyword">const</span> imageData = <span class="hljs-variable language_">this</span>.<span class="hljs-property">images</span>.<span class="hljs-title function_">get</span>(imgElement);
    
    imgElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">loadingClass</span>);
    imgElement.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">errorClass</span>);
    
    <span class="hljs-comment">// è®¾ç½®é”™è¯¯å›¾ç‰‡</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">errorImage</span>) {
      imgElement.<span class="hljs-property">src</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">errorImage</span>;
    }
    
    <span class="hljs-comment">// æ¢å¤åŸå§‹å›¾ç‰‡ï¼ˆå¦‚æœæœ‰ï¼‰</span>
    <span class="hljs-keyword">const</span> originalSrc = imgElement.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">'data-original-src'</span>);
    <span class="hljs-keyword">if</span> (originalSrc &amp;&amp; originalSrc !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">placeholder</span>) {
      imgElement.<span class="hljs-property">src</span> = originalSrc;
    }
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Lazy image load error:'</span>, error);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">dispatchEvent</span>(imgElement, <span class="hljs-string">'lazyloaderror'</span>, { 
      <span class="hljs-attr">src</span>: imageData?.<span class="hljs-property">src</span>, 
      error 
    });
  }

  <span class="hljs-title function_">dispatchEvent</span>(<span class="hljs-params">element, eventName, detail</span>) {
    <span class="hljs-keyword">const</span> event = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomEvent</span>(eventName, { 
      <span class="hljs-attr">bubbles</span>: <span class="hljs-literal">true</span>,
      detail 
    });
    element.<span class="hljs-title function_">dispatchEvent</span>(event);
  }

  <span class="hljs-title function_">useFallback</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// é™çº§æ–¹æ¡ˆï¼šæ»šåŠ¨ç›‘å¬</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleScrollFallback</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleScrollFallback</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'orientationchange'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleScrollFallback</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>));
    
    <span class="hljs-comment">// åˆå§‹æ£€æŸ¥</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleScrollFallback</span>(), <span class="hljs-number">100</span>);
  }

  <span class="hljs-title function_">handleScrollFallback</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> viewportHeight = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>;
    <span class="hljs-keyword">const</span> scrollTop = <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">images</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">imageData, imgElement</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (!imageData.<span class="hljs-property">loaded</span> &amp;&amp; !imageData.<span class="hljs-property">loadAttempted</span>) {
        <span class="hljs-keyword">const</span> rect = imgElement.<span class="hljs-title function_">getBoundingClientRect</span>();
        <span class="hljs-keyword">const</span> elementTop = rect.<span class="hljs-property">top</span> + scrollTop;
        <span class="hljs-keyword">const</span> elementBottom = rect.<span class="hljs-property">bottom</span> + scrollTop;
        
        <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦åœ¨å¯è§†åŒºåŸŸå†…ï¼ˆå¸¦ç¼“å†²åŒºï¼‰</span>
        <span class="hljs-keyword">if</span> (
          elementBottom &gt;= scrollTop - <span class="hljs-number">500</span> &amp;&amp; 
          elementTop &lt;= scrollTop + viewportHeight + <span class="hljs-number">500</span>
        ) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadImage</span>(imgElement);
        }
      }
    });
  }

  <span class="hljs-comment">// æ‰¹é‡æ³¨å†Œ</span>
  <span class="hljs-title function_">registerAll</span>(<span class="hljs-params">selector = <span class="hljs-string">'img[data-src]'</span></span>) {
    <span class="hljs-keyword">const</span> images = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(selector);
    images.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">img</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">registerImage</span>(img));
    
    <span class="hljs-comment">// ç›‘å¬åŠ¨æ€æ·»åŠ çš„å›¾ç‰‡</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-string">'MutationObserver'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">mutationObserver</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutationObserver</span>(<span class="hljs-function">(<span class="hljs-params">mutations</span>) =&gt;</span> {
        mutations.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">mutation</span> =&gt;</span> {
          mutation.<span class="hljs-property">addedNodes</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">node</span> =&gt;</span> {
            <span class="hljs-keyword">if</span> (node.<span class="hljs-property">nodeType</span> === <span class="hljs-number">1</span>) { <span class="hljs-comment">// å…ƒç´ èŠ‚ç‚¹</span>
              <span class="hljs-keyword">if</span> (node.<span class="hljs-property">matches</span> &amp;&amp; node.<span class="hljs-title function_">matches</span>(selector)) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">registerImage</span>(node);
              }
              <span class="hljs-keyword">if</span> (node.<span class="hljs-property">querySelectorAll</span>) {
                node.<span class="hljs-title function_">querySelectorAll</span>(selector).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">img</span> =&gt;</span> {
                  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">registerImage</span>(img);
                });
              }
            }
          });
        });
      });
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">mutationObserver</span>.<span class="hljs-title function_">observe</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>, {
        <span class="hljs-attr">childList</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">subtree</span>: <span class="hljs-literal">true</span>
      });
    }
  }

  <span class="hljs-comment">// æ‰‹åŠ¨è§¦å‘åŠ è½½</span>
  <span class="hljs-title function_">loadImageNow</span>(<span class="hljs-params">imgElement</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">images</span>.<span class="hljs-title function_">has</span>(imgElement)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadImage</span>(imgElement);
    }
  }

  <span class="hljs-comment">// é”€æ¯</span>
  <span class="hljs-title function_">destroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">disconnect</span>();
    }
    
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">mutationObserver</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">mutationObserver</span>.<span class="hljs-title function_">disconnect</span>();
    }
    
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleScrollFallback</span>);
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleScrollFallback</span>);
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'orientationchange'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleScrollFallback</span>);
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">images</span>.<span class="hljs-title function_">clear</span>();
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> lazyLoader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LazyImageLoader</span>({
  <span class="hljs-attr">threshold</span>: <span class="hljs-number">0.01</span>,
  <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'/path/to/placeholder.jpg'</span>,
  <span class="hljs-attr">errorImage</span>: <span class="hljs-string">'/path/to/error.jpg'</span>
});

<span class="hljs-comment">// æ³¨å†Œæ‰€æœ‰æ‡’åŠ è½½å›¾ç‰‡</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'DOMContentLoaded'</span>, <span class="hljs-function">() =&gt;</span> {
  lazyLoader.<span class="hljs-title function_">registerAll</span>();
});

<span class="hljs-comment">// åŠ¨æ€æ·»åŠ å›¾ç‰‡</span>
<span class="hljs-keyword">const</span> newImage = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'img'</span>);
newImage.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'data-src'</span>, <span class="hljs-string">'/path/to/image.jpg'</span>);
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(newImage);
lazyLoader.<span class="hljs-title function_">registerImage</span>(newImage);
</code></pre>
<h5 data-id="heading-6">2.2 èƒŒæ™¯å›¾ç‰‡æ‡’åŠ è½½</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LazyBackgroundLoader</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">LazyImageLoader</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-variable language_">super</span>(options);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">attributeName</span> = options.<span class="hljs-property">attributeName</span> || <span class="hljs-string">'data-bg'</span>;
  }

  <span class="hljs-title function_">registerElement</span>(<span class="hljs-params">element</span>) {
    <span class="hljs-keyword">const</span> bgSrc = element.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">attributeName</span>);
    <span class="hljs-keyword">if</span> (!bgSrc) <span class="hljs-keyword">return</span>;

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">images</span>.<span class="hljs-title function_">set</span>(element, {
      <span class="hljs-attr">src</span>: bgSrc,
      <span class="hljs-attr">loaded</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">loadAttempted</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">observerAttached</span>: <span class="hljs-literal">false</span>
    });

    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attachObserver</span>(element);
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadImage</span>(<span class="hljs-params">element</span>) {
    <span class="hljs-keyword">const</span> elementData = <span class="hljs-variable language_">this</span>.<span class="hljs-property">images</span>.<span class="hljs-title function_">get</span>(element);
    <span class="hljs-keyword">if</span> (!elementData || elementData.<span class="hljs-property">loadAttempted</span>) <span class="hljs-keyword">return</span>;

    elementData.<span class="hljs-property">loadAttempted</span> = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">preloadImage</span>(elementData.<span class="hljs-property">src</span>);
      
      <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> {
        element.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundImage</span> = <span class="hljs-string">`url("<span class="hljs-subst">${elementData.src}</span>")`</span>;
        element.<span class="hljs-title function_">removeAttribute</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">attributeName</span>);
        
        elementData.<span class="hljs-property">loaded</span> = <span class="hljs-literal">true</span>;
        element.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">loadedClass</span>);
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">dispatchEvent</span>(element, <span class="hljs-string">'lazyload'</span>, { <span class="hljs-attr">src</span>: elementData.<span class="hljs-property">src</span> });
      });
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleImageError</span>(element, error);
    }
  }

  <span class="hljs-title function_">registerAll</span>(<span class="hljs-params">selector = <span class="hljs-string">`[<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.attributeName}</span>]`</span></span>) {
    <span class="hljs-keyword">const</span> elements = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(selector);
    elements.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">registerElement</span>(el));
  }
}
</code></pre>
<h4 data-id="heading-7">ä¸‰ã€å‡½æ•°è®°å¿†åŒ–ï¼ˆMemoizationï¼‰</h4>
<h5 data-id="heading-8">3.1 åŸºç¡€è®°å¿†åŒ–å®ç°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">memoize</span>(<span class="hljs-params">fn, options = {}</span>) {
  <span class="hljs-keyword">const</span> {
    maxSize = <span class="hljs-title class_">Infinity</span>,
    keyResolver = <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(args),
    ttl = <span class="hljs-literal">null</span>, <span class="hljs-comment">// ç”Ÿå­˜æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span>
    cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()
  } = options;
  
  <span class="hljs-keyword">const</span> stats = {
    <span class="hljs-attr">hits</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">misses</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">size</span>: <span class="hljs-number">0</span>
  };
  
  <span class="hljs-comment">// åˆ›å»ºLRUç¼“å­˜ï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰</span>
  <span class="hljs-keyword">const</span> lruKeys = [];
  
  <span class="hljs-keyword">const</span> memoized = <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">const</span> key = <span class="hljs-title function_">keyResolver</span>(...args);
    
    <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜</span>
    <span class="hljs-keyword">if</span> (cache.<span class="hljs-title function_">has</span>(key)) {
      <span class="hljs-keyword">const</span> entry = cache.<span class="hljs-title function_">get</span>(key);
      
      <span class="hljs-comment">// æ£€æŸ¥TTL</span>
      <span class="hljs-keyword">if</span> (ttl &amp;&amp; <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - entry.<span class="hljs-property">timestamp</span> &gt; ttl) {
        cache.<span class="hljs-title function_">delete</span>(key);
        stats.<span class="hljs-property">size</span>--;
        stats.<span class="hljs-property">misses</span>++;
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// æ›´æ–°LRUé¡ºåº</span>
        <span class="hljs-keyword">if</span> (maxSize &lt; <span class="hljs-title class_">Infinity</span>) {
          <span class="hljs-keyword">const</span> index = lruKeys.<span class="hljs-title function_">indexOf</span>(key);
          <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) {
            lruKeys.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
            lruKeys.<span class="hljs-title function_">unshift</span>(key);
          }
        }
        
        stats.<span class="hljs-property">hits</span>++;
        <span class="hljs-keyword">return</span> entry.<span class="hljs-property">value</span>;
      }
    }
    
    <span class="hljs-comment">// è®¡ç®—æ–°å€¼</span>
    stats.<span class="hljs-property">misses</span>++;
    <span class="hljs-keyword">const</span> result = fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
    
    <span class="hljs-comment">// ç¼“å­˜ç»“æœ</span>
    <span class="hljs-keyword">const</span> entry = {
      <span class="hljs-attr">value</span>: result,
      <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
    };
    
    cache.<span class="hljs-title function_">set</span>(key, entry);
    stats.<span class="hljs-property">size</span>++;
    
    <span class="hljs-comment">// å¤„ç†LRUç¼“å­˜</span>
    <span class="hljs-keyword">if</span> (maxSize &lt; <span class="hljs-title class_">Infinity</span>) {
      lruKeys.<span class="hljs-title function_">unshift</span>(key);
      
      <span class="hljs-keyword">if</span> (cache.<span class="hljs-property">size</span> &gt; maxSize) {
        <span class="hljs-keyword">const</span> lruKey = lruKeys.<span class="hljs-title function_">pop</span>();
        cache.<span class="hljs-title function_">delete</span>(lruKey);
        stats.<span class="hljs-property">size</span>--;
      }
    }
    
    <span class="hljs-keyword">return</span> result;
  };
  
  <span class="hljs-comment">// æ·»åŠ å·¥å…·æ–¹æ³•</span>
  memoized.<span class="hljs-property">clear</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    cache.<span class="hljs-title function_">clear</span>();
    lruKeys.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;
    stats.<span class="hljs-property">hits</span> = stats.<span class="hljs-property">misses</span> = stats.<span class="hljs-property">size</span> = <span class="hljs-number">0</span>;
  };
  
  memoized.<span class="hljs-property">delete</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">const</span> key = <span class="hljs-title function_">keyResolver</span>(...args);
    <span class="hljs-keyword">const</span> deleted = cache.<span class="hljs-title function_">delete</span>(key);
    <span class="hljs-keyword">if</span> (deleted) {
      <span class="hljs-keyword">const</span> index = lruKeys.<span class="hljs-title function_">indexOf</span>(key);
      <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) lruKeys.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
      stats.<span class="hljs-property">size</span>--;
    }
    <span class="hljs-keyword">return</span> deleted;
  };
  
  memoized.<span class="hljs-property">has</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">const</span> key = <span class="hljs-title function_">keyResolver</span>(...args);
    <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">has</span>(key);
  };
  
  memoized.<span class="hljs-property">getStats</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> { ...stats };
  };
  
  memoized.<span class="hljs-property">getCache</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(cache);
  };
  
  <span class="hljs-keyword">return</span> memoized;
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">expensiveCalculation</span>(<span class="hljs-params">n</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Calculating...'</span>, n);
  <span class="hljs-keyword">let</span> result = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; n * <span class="hljs-number">1000000</span>; i++) {
    result += <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(i);
  }
  <span class="hljs-keyword">return</span> result;
}

<span class="hljs-keyword">const</span> memoizedCalculation = <span class="hljs-title function_">memoize</span>(expensiveCalculation, {
  <span class="hljs-attr">maxSize</span>: <span class="hljs-number">100</span>,
  <span class="hljs-attr">ttl</span>: <span class="hljs-number">60000</span> <span class="hljs-comment">// 1åˆ†é’Ÿç¼“å­˜</span>
});

<span class="hljs-comment">// ç¬¬ä¸€æ¬¡è°ƒç”¨ä¼šè®¡ç®—</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">memoizedCalculation</span>(<span class="hljs-number">10</span>));
<span class="hljs-comment">// ç¬¬äºŒæ¬¡è°ƒç”¨ç›´æ¥ä»ç¼“å­˜è¯»å–</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">memoizedCalculation</span>(<span class="hljs-number">10</span>));

<span class="hljs-comment">// æŸ¥çœ‹ç»Ÿè®¡</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(memoizedCalculation.<span class="hljs-title function_">getStats</span>());
</code></pre>
<h5 data-id="heading-9">3.2 å¼‚æ­¥å‡½æ•°è®°å¿†åŒ–</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">memoizeAsync</span>(<span class="hljs-params">fn, options = {}</span>) {
  <span class="hljs-keyword">const</span> {
    maxSize = <span class="hljs-title class_">Infinity</span>,
    keyResolver = <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(args),
    ttl = <span class="hljs-literal">null</span>
  } = options;
  
  <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  <span class="hljs-keyword">const</span> pendingPromises = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  <span class="hljs-keyword">const</span> lruKeys = [];
  
  <span class="hljs-keyword">const</span> memoized = <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">const</span> key = <span class="hljs-title function_">keyResolver</span>(...args);
    
    <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜</span>
    <span class="hljs-keyword">if</span> (cache.<span class="hljs-title function_">has</span>(key)) {
      <span class="hljs-keyword">const</span> entry = cache.<span class="hljs-title function_">get</span>(key);
      
      <span class="hljs-keyword">if</span> (ttl &amp;&amp; <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - entry.<span class="hljs-property">timestamp</span> &gt; ttl) {
        cache.<span class="hljs-title function_">delete</span>(key);
        <span class="hljs-keyword">const</span> index = lruKeys.<span class="hljs-title function_">indexOf</span>(key);
        <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) lruKeys.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (maxSize &lt; <span class="hljs-title class_">Infinity</span>) {
          <span class="hljs-keyword">const</span> index = lruKeys.<span class="hljs-title function_">indexOf</span>(key);
          <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) {
            lruKeys.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
            lruKeys.<span class="hljs-title function_">unshift</span>(key);
          }
        }
        <span class="hljs-keyword">return</span> entry.<span class="hljs-property">value</span>;
      }
    }
    
    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²ç»åœ¨æ‰§è¡Œä¸­</span>
    <span class="hljs-keyword">if</span> (pendingPromises.<span class="hljs-title function_">has</span>(key)) {
      <span class="hljs-keyword">return</span> pendingPromises.<span class="hljs-title function_">get</span>(key);
    }
    
    <span class="hljs-comment">// åˆ›å»ºæ–°çš„Promise</span>
    <span class="hljs-keyword">const</span> promise = (<span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
        
        <span class="hljs-comment">// ç¼“å­˜ç»“æœ</span>
        cache.<span class="hljs-title function_">set</span>(key, {
          <span class="hljs-attr">value</span>: result,
          <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
        });
        
        <span class="hljs-keyword">if</span> (maxSize &lt; <span class="hljs-title class_">Infinity</span>) {
          lruKeys.<span class="hljs-title function_">unshift</span>(key);
          
          <span class="hljs-keyword">if</span> (cache.<span class="hljs-property">size</span> &gt; maxSize) {
            <span class="hljs-keyword">const</span> lruKey = lruKeys.<span class="hljs-title function_">pop</span>();
            cache.<span class="hljs-title function_">delete</span>(lruKey);
          }
        }
        
        <span class="hljs-keyword">return</span> result;
      } <span class="hljs-keyword">finally</span> {
        pendingPromises.<span class="hljs-title function_">delete</span>(key);
      }
    })();
    
    pendingPromises.<span class="hljs-title function_">set</span>(key, promise);
    <span class="hljs-keyword">return</span> promise;
  };
  
  memoized.<span class="hljs-property">clear</span> = <span class="hljs-function">() =&gt;</span> {
    cache.<span class="hljs-title function_">clear</span>();
    pendingPromises.<span class="hljs-title function_">clear</span>();
    lruKeys.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;
  };
  
  memoized.<span class="hljs-property">delete</span> = <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> key = <span class="hljs-title function_">keyResolver</span>(...args);
    <span class="hljs-keyword">const</span> deleted = cache.<span class="hljs-title function_">delete</span>(key);
    <span class="hljs-keyword">if</span> (deleted) {
      <span class="hljs-keyword">const</span> index = lruKeys.<span class="hljs-title function_">indexOf</span>(key);
      <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) lruKeys.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
    }
    pendingPromises.<span class="hljs-title function_">delete</span>(key);
    <span class="hljs-keyword">return</span> deleted;
  };
  
  memoized.<span class="hljs-property">has</span> = <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> key = <span class="hljs-title function_">keyResolver</span>(...args);
    <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">has</span>(key);
  };
  
  <span class="hljs-keyword">return</span> memoized;
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchUserData</span>(<span class="hljs-params">userId</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Fetching user data for:'</span>, userId);
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/users/<span class="hljs-subst">${userId}</span>`</span>);
  <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
}

<span class="hljs-keyword">const</span> memoizedFetchUserData = <span class="hljs-title function_">memoizeAsync</span>(fetchUserData, {
  <span class="hljs-attr">ttl</span>: <span class="hljs-number">30000</span> <span class="hljs-comment">// 30ç§’ç¼“å­˜</span>
});

<span class="hljs-comment">// å¤šä¸ªç»„ä»¶åŒæ—¶è¯·æ±‚åŒä¸€ä¸ªç”¨æˆ·æ•°æ®</span>
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
  <span class="hljs-title function_">memoizedFetchUserData</span>(<span class="hljs-number">1</span>),
  <span class="hljs-title function_">memoizedFetchUserData</span>(<span class="hljs-number">1</span>),
  <span class="hljs-title function_">memoizedFetchUserData</span>(<span class="hljs-number">1</span>)
]).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">results</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'All results:'</span>, results);
  <span class="hljs-comment">// åªä¼šæœ‰ä¸€æ¬¡å®é™…çš„ç½‘ç»œè¯·æ±‚</span>
});
</code></pre>
<h5 data-id="heading-10">3.3 React Hookè®°å¿†åŒ–</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useRef, useCallback } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">useMemoizedCallback</span>(<span class="hljs-params">fn, dependencies = []</span>) {
  <span class="hljs-keyword">const</span> cacheRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>());
  <span class="hljs-keyword">const</span> fnRef = <span class="hljs-title function_">useRef</span>(fn);
  
  <span class="hljs-comment">// æ›´æ–°å‡½æ•°å¼•ç”¨</span>
  fnRef.<span class="hljs-property">current</span> = fn;
  
  <span class="hljs-keyword">const</span> memoizedFn = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> cache = cacheRef.<span class="hljs-property">current</span>;
    <span class="hljs-keyword">const</span> key = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(args);
    
    <span class="hljs-keyword">if</span> (cache.<span class="hljs-title function_">has</span>(key)) {
      <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">get</span>(key);
    }
    
    <span class="hljs-keyword">const</span> result = fnRef.<span class="hljs-title function_">current</span>(...args);
    cache.<span class="hljs-title function_">set</span>(key, result);
    <span class="hljs-keyword">return</span> result;
  }, dependencies);
  
  <span class="hljs-comment">// æ¸…ç†å‡½æ•°</span>
  <span class="hljs-keyword">const</span> clearCache = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">() =&gt;</span> {
    cacheRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">clear</span>();
  }, []);
  
  <span class="hljs-keyword">return</span> [memoizedFn, clearCache];
}

<span class="hljs-comment">// Reactç»„ä»¶ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ExpensiveComponent</span>(<span class="hljs-params">{ data }</span>) {
  <span class="hljs-keyword">const</span> [processData, clearCache] = <span class="hljs-title function_">useMemoizedCallback</span>(
    <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
      <span class="hljs-comment">// æ˜‚è´µçš„è®¡ç®—</span>
      <span class="hljs-keyword">return</span> item.<span class="hljs-property">value</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(item.<span class="hljs-property">weight</span>);
    },
    [data]
  );
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {data.map(item =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.id}</span>&gt;</span>
          {processData(item)}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      ))}
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{clearCache}</span>&gt;</span>Clear Cache<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-11">å››ã€è¯·æ±‚é˜²é‡å’Œç¼“å­˜ï¼ˆDeduplication &amp; Cachingï¼‰</h4>
<h5 data-id="heading-12">4.1 è¯·æ±‚é˜²é‡ç³»ç»Ÿ</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestDeduplicator</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {
      <span class="hljs-attr">defaultTtl</span>: <span class="hljs-number">60000</span>, <span class="hljs-comment">// é»˜è®¤ç¼“å­˜æ—¶é—´1åˆ†é’Ÿ</span>
      <span class="hljs-attr">maxCacheSize</span>: <span class="hljs-number">100</span>,
      ...options
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheTimestamps</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span> = {
      <span class="hljs-attr">duplicatesPrevented</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">cacheHits</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">cacheMisses</span>: <span class="hljs-number">0</span>
    };
  }

  <span class="hljs-title function_">generateKey</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-comment">// ç”Ÿæˆè¯·æ±‚çš„å”¯ä¸€æ ‡è¯†ç¬¦</span>
    <span class="hljs-keyword">const</span> { url, method = <span class="hljs-string">'GET'</span>, params = {}, data = {} } = config;
    
    <span class="hljs-keyword">const</span> keyParts = [
      method.<span class="hljs-title function_">toUpperCase</span>(),
      url,
      <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(params),
      <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data)
    ];
    
    <span class="hljs-keyword">return</span> keyParts.<span class="hljs-title function_">join</span>(<span class="hljs-string">'|'</span>);
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">request</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-keyword">const</span> key = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateKey</span>(config);
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    
    <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">has</span>(key)) {
      <span class="hljs-keyword">const</span> { data, timestamp } = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">get</span>(key);
      <span class="hljs-keyword">const</span> ttl = config.<span class="hljs-property">ttl</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">defaultTtl</span>;
      
      <span class="hljs-keyword">if</span> (now - timestamp &lt; ttl) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">cacheHits</span>++;
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(data);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// ç¼“å­˜è¿‡æœŸ</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">delete</span>(key);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheTimestamps</span>.<span class="hljs-title function_">delete</span>(key);
      }
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">cacheMisses</span>++;
    
    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰ç›¸åŒçš„è¯·æ±‚æ­£åœ¨è¿›è¡Œä¸­</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">has</span>(key)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">duplicatesPrevented</span>++;
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">get</span>(key);
    }
    
    <span class="hljs-comment">// åˆ›å»ºæ–°çš„è¯·æ±‚</span>
    <span class="hljs-keyword">const</span> requestPromise = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeRequest</span>(config);
    
    <span class="hljs-comment">// å­˜å‚¨è¿›è¡Œä¸­çš„è¯·æ±‚</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">set</span>(key, requestPromise);
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> requestPromise;
      
      <span class="hljs-comment">// ç¼“å­˜æˆåŠŸçš„ç»“æœ</span>
      <span class="hljs-keyword">if</span> (config.<span class="hljs-property">cache</span> !== <span class="hljs-literal">false</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">set</span>(key, {
          <span class="hljs-attr">data</span>: result,
          <span class="hljs-attr">timestamp</span>: now
        });
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheTimestamps</span>.<span class="hljs-title function_">set</span>(key, now);
        
        <span class="hljs-comment">// æ¸…ç†è¿‡æœŸçš„ç¼“å­˜</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cleanupCache</span>();
      }
      
      <span class="hljs-keyword">return</span> result;
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-comment">// ç§»é™¤è¿›è¡Œä¸­çš„è¯·æ±‚</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">delete</span>(key);
    }
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">executeRequest</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-keyword">const</span> { url, method = <span class="hljs-string">'GET'</span>, params = {}, data = {}, headers = {} } = config;
    
    <span class="hljs-comment">// æ„å»ºè¯·æ±‚URL</span>
    <span class="hljs-keyword">let</span> requestUrl = url;
    <span class="hljs-keyword">if</span> (params &amp;&amp; <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(params).<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">const</span> queryString = <span class="hljs-keyword">new</span> <span class="hljs-title class_">URLSearchParams</span>(params).<span class="hljs-title function_">toString</span>();
      requestUrl += <span class="hljs-string">`?<span class="hljs-subst">${queryString}</span>`</span>;
    }
    
    <span class="hljs-comment">// å‘é€è¯·æ±‚</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(requestUrl, {
      method,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
        ...headers
      },
      <span class="hljs-attr">body</span>: method !== <span class="hljs-string">'GET'</span> &amp;&amp; method !== <span class="hljs-string">'HEAD'</span> ? <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data) : <span class="hljs-literal">undefined</span>
    });
    
    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Request failed: <span class="hljs-subst">${response.status}</span>`</span>);
    }
    
    <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
  }

  <span class="hljs-title function_">cleanupCache</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> maxAge = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">defaultTtl</span>;
    
    <span class="hljs-comment">// æ¸…ç†è¿‡æœŸç¼“å­˜</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, timestamp] <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheTimestamps</span>.<span class="hljs-title function_">entries</span>()) {
      <span class="hljs-keyword">if</span> (now - timestamp &gt; maxAge) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">delete</span>(key);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheTimestamps</span>.<span class="hljs-title function_">delete</span>(key);
      }
    }
    
    <span class="hljs-comment">// æ¸…ç†è¶…å‡ºå¤§å°çš„ç¼“å­˜</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-property">size</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">maxCacheSize</span>) {
      <span class="hljs-keyword">const</span> sortedEntries = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheTimestamps</span>.<span class="hljs-title function_">entries</span>())
        .<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">[, a], [, b]</span>) =&gt;</span> a - b);
      
      <span class="hljs-keyword">const</span> entriesToRemove = sortedEntries.<span class="hljs-title function_">slice</span>(
        <span class="hljs-number">0</span>,
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-property">size</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">maxCacheSize</span>
      );
      
      entriesToRemove.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[key]</span>) =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">delete</span>(key);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheTimestamps</span>.<span class="hljs-title function_">delete</span>(key);
      });
    }
  }

  <span class="hljs-comment">// æ‰‹åŠ¨æ¸…ç†ç¼“å­˜</span>
  <span class="hljs-title function_">clearCache</span>(<span class="hljs-params">urlPattern</span>) {
    <span class="hljs-keyword">if</span> (urlPattern) {
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">keys</span>()) {
        <span class="hljs-keyword">if</span> (key.<span class="hljs-title function_">includes</span>(urlPattern)) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">delete</span>(key);
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheTimestamps</span>.<span class="hljs-title function_">delete</span>(key);
        }
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">clear</span>();
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheTimestamps</span>.<span class="hljs-title function_">clear</span>();
    }
  }

  <span class="hljs-comment">// é¢„åŠ è½½æ•°æ®</span>
  <span class="hljs-title function_">prefetch</span>(<span class="hljs-params">config</span>) {
    <span class="hljs-keyword">const</span> key = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateKey</span>(config);
    
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">has</span>(key) &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">has</span>(key)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">request</span>(config).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// é™é»˜å¤±è´¥ï¼Œé¢„åŠ è½½ä¸å½±å“ä¸»æµç¨‹</span>
      });
    }
  }

  <span class="hljs-title function_">getStats</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>,
      <span class="hljs-attr">pendingRequests</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-property">size</span>,
      <span class="hljs-attr">cachedResponses</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-property">size</span>
    };
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> deduplicator = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestDeduplicator</span>({
  <span class="hljs-attr">defaultTtl</span>: <span class="hljs-number">30000</span>, <span class="hljs-comment">// 30ç§’</span>
  <span class="hljs-attr">maxCacheSize</span>: <span class="hljs-number">50</span>
});

<span class="hljs-comment">// å¤šä¸ªç»„ä»¶åŒæ—¶è¯·æ±‚ç›¸åŒçš„æ•°æ®</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchUserProfile</span>(<span class="hljs-params">userId</span>) {
  <span class="hljs-keyword">const</span> config = {
    <span class="hljs-attr">url</span>: <span class="hljs-string">`/api/users/<span class="hljs-subst">${userId}</span>`</span>,
    <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
    <span class="hljs-attr">ttl</span>: <span class="hljs-number">60000</span> <span class="hljs-comment">// æ­¤è¯·æ±‚ç‰¹å®šç¼“å­˜æ—¶é—´</span>
  };
  
  <span class="hljs-keyword">return</span> deduplicator.<span class="hljs-title function_">request</span>(config);
}

<span class="hljs-comment">// åœ¨å¤šä¸ªåœ°æ–¹åŒæ—¶è°ƒç”¨</span>
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
  <span class="hljs-title function_">fetchUserProfile</span>(<span class="hljs-number">1</span>),
  <span class="hljs-title function_">fetchUserProfile</span>(<span class="hljs-number">1</span>),
  <span class="hljs-title function_">fetchUserProfile</span>(<span class="hljs-number">1</span>)
]).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">results</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Results:'</span>, results);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Stats:'</span>, deduplicator.<span class="hljs-title function_">getStats</span>());
});

<span class="hljs-comment">// é¢„åŠ è½½</span>
deduplicator.<span class="hljs-title function_">prefetch</span>({
  <span class="hljs-attr">url</span>: <span class="hljs-string">'/api/products'</span>,
  <span class="hljs-attr">params</span>: { <span class="hljs-attr">page</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">limit</span>: <span class="hljs-number">20</span> }
});
</code></pre>
<h5 data-id="heading-13">4.2 åˆ†å±‚ç¼“å­˜ç³»ç»Ÿ</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LayeredCache</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">layers</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {
      <span class="hljs-attr">defaultTtl</span>: <span class="hljs-number">300000</span>, <span class="hljs-comment">// 5åˆ†é’Ÿ</span>
      ...options
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span> = {
      <span class="hljs-attr">layerHits</span>: {},
      <span class="hljs-attr">totalHits</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">totalMisses</span>: <span class="hljs-number">0</span>
    };
  }

  <span class="hljs-title function_">addLayer</span>(<span class="hljs-params">layer</span>) {
    <span class="hljs-keyword">if</span> (!layer.<span class="hljs-property">get</span> || !layer.<span class="hljs-property">set</span> || !layer.<span class="hljs-property">delete</span> || !layer.<span class="hljs-property">clear</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Cache layer must implement get, set, delete, and clear methods'</span>);
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">layers</span>.<span class="hljs-title function_">push</span>(layer);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">layerHits</span>[layer.<span class="hljs-property">name</span> || <span class="hljs-string">`layer_<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.layers.length}</span>`</span>] = <span class="hljs-number">0</span>;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">totalHits</span>++;
    
    <span class="hljs-comment">// ä»ä¸Šå±‚å¼€å§‹æŸ¥æ‰¾</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">layers</span>.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">const</span> layer = <span class="hljs-variable language_">this</span>.<span class="hljs-property">layers</span>[i];
      <span class="hljs-keyword">const</span> layerName = layer.<span class="hljs-property">name</span> || <span class="hljs-string">`layer_<span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span>`</span>;
      
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> value = <span class="hljs-keyword">await</span> layer.<span class="hljs-title function_">get</span>(key);
        
        <span class="hljs-keyword">if</span> (value !== <span class="hljs-literal">undefined</span> &amp;&amp; value !== <span class="hljs-literal">null</span>) {
          <span class="hljs-comment">// å‘½ä¸­ï¼Œæ›´æ–°ç»Ÿè®¡</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">layerHits</span>[layerName] = (<span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">layerHits</span>[layerName] || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>;
          
          <span class="hljs-comment">// å°†æ•°æ®å¤åˆ¶åˆ°ä¸Šå±‚ç¼“å­˜ï¼ˆæå‡ï¼‰</span>
          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; i; j++) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">layers</span>[j].<span class="hljs-title function_">set</span>(key, value, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">defaultTtl</span>).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {});
          }
          
          <span class="hljs-keyword">return</span> value;
        }
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`Cache layer <span class="hljs-subst">${layerName}</span> error:`</span>, error);
        <span class="hljs-comment">// ç»§ç»­å°è¯•ä¸‹ä¸€å±‚</span>
      }
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">totalMisses</span>++;
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value, ttl = <span class="hljs-variable language_">this</span>.options.defaultTtl</span>) {
    <span class="hljs-comment">// è®¾ç½®æ‰€æœ‰å±‚çº§çš„ç¼“å­˜</span>
    <span class="hljs-keyword">const</span> promises = <span class="hljs-variable language_">this</span>.<span class="hljs-property">layers</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">layer</span> =&gt;</span> 
      layer.<span class="hljs-title function_">set</span>(key, value, ttl).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {})
    );
    
    <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);
    <span class="hljs-keyword">return</span> value;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">delete</span>(<span class="hljs-params">key</span>) {
    <span class="hljs-comment">// åˆ é™¤æ‰€æœ‰å±‚çº§çš„ç¼“å­˜</span>
    <span class="hljs-keyword">const</span> promises = <span class="hljs-variable language_">this</span>.<span class="hljs-property">layers</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">layer</span> =&gt;</span> 
      layer.<span class="hljs-title function_">delete</span>(key).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {})
    );
    
    <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">clear</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> promises = <span class="hljs-variable language_">this</span>.<span class="hljs-property">layers</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">layer</span> =&gt;</span> 
      layer.<span class="hljs-title function_">clear</span>().<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {})
    );
    
    <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);
  }

  <span class="hljs-title function_">getStats</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>,
      <span class="hljs-attr">hitRate</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">totalHits</span> &gt; <span class="hljs-number">0</span> 
        ? (<span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">totalHits</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">totalMisses</span>) / <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">totalHits</span> 
        : <span class="hljs-number">0</span>
    };
  }
}

<span class="hljs-comment">// å†…å­˜ç¼“å­˜å±‚å®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryCacheLayer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name = <span class="hljs-string">'memory'</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">timestamps</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
    <span class="hljs-keyword">const</span> value = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">get</span>(key);
    
    <span class="hljs-keyword">if</span> (value === <span class="hljs-literal">undefined</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    
    <span class="hljs-keyword">const</span> timestamp = <span class="hljs-variable language_">this</span>.<span class="hljs-property">timestamps</span>.<span class="hljs-title function_">get</span>(key);
    <span class="hljs-keyword">if</span> (timestamp &amp;&amp; <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() &gt; timestamp) {
      <span class="hljs-comment">// å·²è¿‡æœŸ</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">delete</span>(key);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">timestamps</span>.<span class="hljs-title function_">delete</span>(key);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    
    <span class="hljs-keyword">return</span> value;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value, ttl</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">set</span>(key, value);
    
    <span class="hljs-keyword">if</span> (ttl) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">timestamps</span>.<span class="hljs-title function_">set</span>(key, <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() + ttl);
    }
    
    <span class="hljs-keyword">return</span> value;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">delete</span>(<span class="hljs-params">key</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">delete</span>(key);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">timestamps</span>.<span class="hljs-title function_">delete</span>(key);
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">clear</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">clear</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">timestamps</span>.<span class="hljs-title function_">clear</span>();
  }
}

<span class="hljs-comment">// IndexedDBç¼“å­˜å±‚å®ç°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">IndexedDBCacheLayer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name = <span class="hljs-string">'indexeddb'</span>, dbName = <span class="hljs-string">'cache_db'</span>, storeName = <span class="hljs-string">'cache_store'</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dbName</span> = dbName;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span> = storeName;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span> = <span class="hljs-literal">null</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initDB</span>();
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">initDB</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = indexedDB.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dbName</span>, <span class="hljs-number">1</span>);
      
      request.<span class="hljs-property">onupgradeneeded</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> db = event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
        <span class="hljs-keyword">if</span> (!db.<span class="hljs-property">objectStoreNames</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>)) {
          db.<span class="hljs-title function_">createObjectStore</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>);
        }
      };
      
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span> = event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
        <span class="hljs-title function_">resolve</span>();
      };
      
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-title function_">reject</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">error</span>);
      };
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">key</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>) <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initDB</span>();
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>], <span class="hljs-string">'readonly'</span>);
      <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>);
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">get</span>(key);
      
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">const</span> result = request.<span class="hljs-property">result</span>;
        <span class="hljs-keyword">if</span> (result &amp;&amp; result.<span class="hljs-property">expires</span> &amp;&amp; <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() &gt; result.<span class="hljs-property">expires</span>) {
          <span class="hljs-comment">// å·²è¿‡æœŸï¼Œåˆ é™¤</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">delete</span>(key);
          <span class="hljs-title function_">resolve</span>(<span class="hljs-literal">null</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title function_">resolve</span>(result ? result.<span class="hljs-property">value</span> : <span class="hljs-literal">null</span>);
        }
      };
      
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value, ttl</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>) <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initDB</span>();
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>], <span class="hljs-string">'readwrite'</span>);
      <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>);
      
      <span class="hljs-keyword">const</span> item = {
        value,
        <span class="hljs-attr">expires</span>: ttl ? <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() + ttl : <span class="hljs-literal">null</span>,
        <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
      };
      
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">put</span>(item, key);
      
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(value);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">delete</span>(<span class="hljs-params">key</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>) <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initDB</span>();
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>], <span class="hljs-string">'readwrite'</span>);
      <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>);
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">delete</span>(key);
      
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>();
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">clear</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>) <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initDB</span>();
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>], <span class="hljs-string">'readwrite'</span>);
      <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>);
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">clear</span>();
      
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>();
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LayeredCache</span>({
  <span class="hljs-attr">defaultTtl</span>: <span class="hljs-number">300000</span> <span class="hljs-comment">// 5åˆ†é’Ÿ</span>
});

<span class="hljs-comment">// æ·»åŠ å†…å­˜ç¼“å­˜å±‚ï¼ˆå¿«é€Ÿï¼‰</span>
cache.<span class="hljs-title function_">addLayer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MemoryCacheLayer</span>(<span class="hljs-string">'memory'</span>));

<span class="hljs-comment">// æ·»åŠ IndexedDBç¼“å­˜å±‚ï¼ˆæŒä¹…åŒ–ï¼‰</span>
cache.<span class="hljs-title function_">addLayer</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">IndexedDBCacheLayer</span>(<span class="hljs-string">'indexeddb'</span>));

<span class="hljs-comment">// ä½¿ç”¨ç¼“å­˜</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getCachedData</span>(<span class="hljs-params">key</span>) {
  <span class="hljs-keyword">let</span> data = <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">get</span>(key);
  
  <span class="hljs-keyword">if</span> (!data) {
    <span class="hljs-comment">// ä»ç½‘ç»œè·å–æ•°æ®</span>
    data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchDataFromNetwork</span>();
    <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">set</span>(key, data);
  }
  
  <span class="hljs-keyword">return</span> data;
}
</code></pre>
<h4 data-id="heading-14">äº”ã€æ—¶é—´åˆ‡ç‰‡ï¼ˆTime Slicingï¼‰</h4>
<h5 data-id="heading-15">5.1 åŸºäºrequestIdleCallbackçš„å®ç°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TimeSlicer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {
      <span class="hljs-attr">timeout</span>: <span class="hljs-number">1000</span>, <span class="hljs-comment">// è¶…æ—¶æ—¶é—´</span>
      <span class="hljs-attr">taskChunkSize</span>: <span class="hljs-number">100</span>, <span class="hljs-comment">// æ¯ä¸ªæ—¶é—´ç‰‡å¤„ç†çš„ä»»åŠ¡æ•°</span>
      ...options
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tasks</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">deferred</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span> = {
      <span class="hljs-attr">tasksProcessed</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">timeSlicesUsed</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">totalTime</span>: <span class="hljs-number">0</span>
    };
  }

  <span class="hljs-title function_">addTask</span>(<span class="hljs-params">task</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> task !== <span class="hljs-string">'function'</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Task must be a function'</span>);
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tasks</span>.<span class="hljs-title function_">push</span>(task);
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-title function_">addTasks</span>(<span class="hljs-params">tasks</span>) {
    tasks.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">task</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addTask</span>(task));
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-title function_">process</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Already processing'</span>));
    }
    
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">tasks</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>();
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">true</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">tasksProcessed</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">timeSlicesUsed</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">totalTime</span> = <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">deferred</span> = { resolve, reject };
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processNextChunk</span>();
    });
  }

  <span class="hljs-title function_">processNextChunk</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> startTime = performance.<span class="hljs-title function_">now</span>();
    
    <span class="hljs-comment">// å¤„ç†ä¸€ä¸ªæ—¶é—´ç‰‡çš„ä»»åŠ¡</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">taskChunkSize</span>; i++) {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">tasks</span>.<span class="hljs-property">length</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">finishProcessing</span>();
        <span class="hljs-keyword">return</span>;
      }
      
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> task = <span class="hljs-variable language_">this</span>.<span class="hljs-property">tasks</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span>];
        <span class="hljs-title function_">task</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span>++;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">tasksProcessed</span>++;
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleError</span>(error);
        <span class="hljs-keyword">return</span>;
      }
    }
    
    <span class="hljs-keyword">const</span> endTime = performance.<span class="hljs-title function_">now</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">totalTime</span> += endTime - startTime;
    
    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¿˜æœ‰ä»»åŠ¡</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">tasks</span>.<span class="hljs-property">length</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">timeSlicesUsed</span>++;
      
      <span class="hljs-comment">// ä½¿ç”¨requestIdleCallbackå®‰æ’ä¸‹ä¸€ä¸ªæ—¶é—´ç‰‡</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-string">'requestIdleCallback'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>) {
        <span class="hljs-title function_">requestIdleCallback</span>(
          <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processNextChunk</span>(),
          { <span class="hljs-attr">timeout</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">timeout</span> }
        );
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// é™çº§æ–¹æ¡ˆï¼šä½¿ç”¨setTimeout</span>
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processNextChunk</span>(), <span class="hljs-number">0</span>);
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">finishProcessing</span>();
    }
  }

  <span class="hljs-title function_">finishProcessing</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">deferred</span>.<span class="hljs-title function_">resolve</span>({
      <span class="hljs-attr">tasksProcessed</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">tasksProcessed</span>,
      <span class="hljs-attr">timeSlicesUsed</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">timeSlicesUsed</span>,
      <span class="hljs-attr">totalTime</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">totalTime</span>
    });
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">deferred</span> = <span class="hljs-literal">null</span>;
  }

  <span class="hljs-title function_">handleError</span>(<span class="hljs-params">error</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">deferred</span>.<span class="hljs-title function_">reject</span>(error);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">deferred</span> = <span class="hljs-literal">null</span>;
  }

  <span class="hljs-title function_">clear</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">tasks</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> = <span class="hljs-number">0</span>;
  }

  <span class="hljs-title function_">getStats</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span> };
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createExpensiveTask</span>(<span class="hljs-params">id</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Processing task <span class="hljs-subst">${id}</span>`</span>);
    <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ</span>
    <span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000</span>; i++) {
      sum += <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(i);
    }
    <span class="hljs-keyword">return</span> sum;
  };
}

<span class="hljs-comment">// åˆ›å»ºæ—¶é—´åˆ‡ç‰‡å¤„ç†å™¨</span>
<span class="hljs-keyword">const</span> slicer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeSlicer</span>({
  <span class="hljs-attr">taskChunkSize</span>: <span class="hljs-number">50</span>, <span class="hljs-comment">// æ¯ä¸ªæ—¶é—´ç‰‡å¤„ç†50ä¸ªä»»åŠ¡</span>
  <span class="hljs-attr">timeout</span>: <span class="hljs-number">2000</span> <span class="hljs-comment">// 2ç§’è¶…æ—¶</span>
});

<span class="hljs-comment">// æ·»åŠ å¤§é‡ä»»åŠ¡</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
  slicer.<span class="hljs-title function_">addTask</span>(<span class="hljs-title function_">createExpensiveTask</span>(i));
}

<span class="hljs-comment">// å¼€å§‹å¤„ç†</span>
slicer.<span class="hljs-title function_">process</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">stats</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Processing completed:'</span>, stats);
}).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Processing failed:'</span>, error);
});

<span class="hljs-comment">// å¯ä»¥åœ¨å¤„ç†è¿‡ç¨‹ä¸­æ·»åŠ æ–°ä»»åŠ¡</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  slicer.<span class="hljs-title function_">addTask</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'New task added during processing'</span>));
}, <span class="hljs-number">1000</span>);
</code></pre>
<h5 data-id="heading-16">5.2 åŸºäºGeneratorçš„æ—¶é—´åˆ‡ç‰‡</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span>* <span class="hljs-title function_">taskGenerator</span>(<span class="hljs-params">tasks</span>) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; tasks.<span class="hljs-property">length</span>; i++) {
    <span class="hljs-keyword">yield</span> tasks[i];
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">GeneratorTimeSlicer</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {
      <span class="hljs-attr">timePerSlice</span>: <span class="hljs-number">16</span>, <span class="hljs-comment">// æ¯ä¸ªæ—¶é—´ç‰‡16msï¼ˆå¤§çº¦ä¸€å¸§çš„æ—¶é—´ï¼‰</span>
      ...options
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskGenerator</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span> = {
      <span class="hljs-attr">tasksProcessed</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">slicesUsed</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">totalTime</span>: <span class="hljs-number">0</span>
    };
  }

  <span class="hljs-title function_">processTasks</span>(<span class="hljs-params">tasks</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Already processing'</span>));
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">true</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskGenerator</span> = <span class="hljs-title function_">taskGenerator</span>(tasks);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span> = { <span class="hljs-attr">tasksProcessed</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">slicesUsed</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">totalTime</span>: <span class="hljs-number">0</span> };
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processNextSlice</span>(resolve, reject);
    });
  }

  <span class="hljs-title function_">processNextSlice</span>(<span class="hljs-params">resolve, reject</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span>) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-keyword">const</span> sliceStart = performance.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">let</span> taskResult;
    
    <span class="hljs-comment">// å¤„ç†ä¸€ä¸ªæ—¶é—´ç‰‡</span>
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
      <span class="hljs-keyword">const</span> { <span class="hljs-attr">value</span>: task, done } = <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskGenerator</span>.<span class="hljs-title function_">next</span>();
      
      <span class="hljs-keyword">if</span> (done) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-title function_">resolve</span>({
          ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>,
          <span class="hljs-attr">completed</span>: <span class="hljs-literal">true</span>
        });
        <span class="hljs-keyword">return</span>;
      }
      
      <span class="hljs-keyword">try</span> {
        taskResult = <span class="hljs-title function_">task</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">tasksProcessed</span>++;
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
        <span class="hljs-title function_">reject</span>(error);
        <span class="hljs-keyword">return</span>;
      }
      
      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è¶…è¿‡æ—¶é—´ç‰‡é™åˆ¶</span>
      <span class="hljs-keyword">if</span> (performance.<span class="hljs-title function_">now</span>() - sliceStart &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">timePerSlice</span>) {
        <span class="hljs-keyword">break</span>;
      }
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">slicesUsed</span>++;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">totalTime</span> += performance.<span class="hljs-title function_">now</span>() - sliceStart;
    
    <span class="hljs-comment">// å®‰æ’ä¸‹ä¸€ä¸ªæ—¶é—´ç‰‡</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-string">'requestAnimationFrame'</span> <span class="hljs-keyword">in</span> <span class="hljs-variable language_">window</span>) {
      <span class="hljs-title function_">requestAnimationFrame</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processNextSlice</span>(resolve, reject));
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processNextSlice</span>(resolve, reject), <span class="hljs-number">0</span>);
    }
  }

  <span class="hljs-title function_">stop</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šå¤„ç†å¤§å‹æ•°ç»„</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processLargeArray</span>(<span class="hljs-params">array, processItem, chunkSize = <span class="hljs-number">100</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    <span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">const</span> results = [];
    
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">processChunk</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> chunkStart = performance.<span class="hljs-title function_">now</span>();
      
      <span class="hljs-keyword">while</span> (index &lt; array.<span class="hljs-property">length</span>) {
        results.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">processItem</span>(array[index]));
        index++;
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å¤„ç†äº†è¶³å¤Ÿå¤šçš„é¡¹ç›®æˆ–æ—¶é—´åˆ°äº†</span>
        <span class="hljs-keyword">if</span> (index % chunkSize === <span class="hljs-number">0</span> || 
            performance.<span class="hljs-title function_">now</span>() - chunkStart &gt; <span class="hljs-number">16</span>) {
          <span class="hljs-keyword">break</span>;
        }
      }
      
      <span class="hljs-keyword">if</span> (index &lt; array.<span class="hljs-property">length</span>) {
        <span class="hljs-comment">// è¿˜æœ‰æ›´å¤šé¡¹ç›®ï¼Œå®‰æ’ä¸‹ä¸€ä¸ªæ—¶é—´ç‰‡</span>
        <span class="hljs-title function_">requestAnimationFrame</span>(processChunk);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å®Œæˆ</span>
        <span class="hljs-title function_">resolve</span>(results);
      }
    }
    
    <span class="hljs-comment">// å¼€å§‹å¤„ç†</span>
    <span class="hljs-title function_">requestAnimationFrame</span>(processChunk);
  });
}

<span class="hljs-comment">// å¤„ç†10ä¸‡ä¸ªé¡¹ç›®</span>
<span class="hljs-keyword">const</span> largeArray = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">100000</span> }, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> i);

<span class="hljs-title function_">processLargeArray</span>(largeArray, <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> {
  <span class="hljs-comment">// å¯¹æ¯ä¸ªé¡¹ç›®è¿›è¡Œä¸€äº›å¤„ç†</span>
  <span class="hljs-keyword">return</span> item * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(item);
}, <span class="hljs-number">1000</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">results</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Processed <span class="hljs-subst">${results.length}</span> items`</span>);
});
</code></pre>
<h4 data-id="heading-17">å…­ã€å‡½æ•°èŠ‚æµä¸é˜²æŠ–ï¼ˆThrottle &amp; Debounceï¼‰</h4>
<h5 data-id="heading-18">6.1 é«˜çº§èŠ‚æµä¸é˜²æŠ–å®ç°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AdvancedThrottleDebounce</span> {
  <span class="hljs-comment">// èŠ‚æµï¼šç¡®ä¿å‡½æ•°åœ¨ä¸€å®šæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">func, wait, options = {}</span>) {
    <span class="hljs-keyword">let</span> timeout = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> previous = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">let</span> result;
    <span class="hljs-keyword">let</span> context;
    <span class="hljs-keyword">let</span> args;
    
    <span class="hljs-keyword">const</span> { leading = <span class="hljs-literal">true</span>, trailing = <span class="hljs-literal">true</span> } = options;
    
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">later</span> = (<span class="hljs-params"/>) =&gt; {
      previous = !leading ? <span class="hljs-number">0</span> : <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
      timeout = <span class="hljs-literal">null</span>;
      <span class="hljs-keyword">if</span> (trailing &amp;&amp; args) {
        result = func.<span class="hljs-title function_">apply</span>(context, args);
        context = args = <span class="hljs-literal">null</span>;
      }
    };
    
    <span class="hljs-keyword">const</span> throttled = <span class="hljs-keyword">function</span>(<span class="hljs-params">...params</span>) {
      <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
      
      <span class="hljs-keyword">if</span> (!previous &amp;&amp; !leading) {
        previous = now;
      }
      
      <span class="hljs-keyword">const</span> remaining = wait - (now - previous);
      context = <span class="hljs-variable language_">this</span>;
      args = params;
      
      <span class="hljs-keyword">if</span> (remaining &lt;= <span class="hljs-number">0</span> || remaining &gt; wait) {
        <span class="hljs-keyword">if</span> (timeout) {
          <span class="hljs-built_in">clearTimeout</span>(timeout);
          timeout = <span class="hljs-literal">null</span>;
        }
        previous = now;
        result = func.<span class="hljs-title function_">apply</span>(context, args);
        context = args = <span class="hljs-literal">null</span>;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!timeout &amp;&amp; trailing) {
        timeout = <span class="hljs-built_in">setTimeout</span>(later, remaining);
      }
      
      <span class="hljs-keyword">return</span> result;
    };
    
    throttled.<span class="hljs-property">cancel</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-built_in">clearTimeout</span>(timeout);
      previous = <span class="hljs-number">0</span>;
      timeout = context = args = <span class="hljs-literal">null</span>;
    };
    
    <span class="hljs-keyword">return</span> throttled;
  }

  <span class="hljs-comment">// é˜²æŠ–ï¼šç¡®ä¿å‡½æ•°åœ¨æœ€åä¸€æ¬¡è°ƒç”¨åä¸€å®šæ—¶é—´æ‰æ‰§è¡Œ</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">func, wait, options = {}</span>) {
    <span class="hljs-keyword">let</span> timeout = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> result;
    <span class="hljs-keyword">let</span> context;
    <span class="hljs-keyword">let</span> args;
    <span class="hljs-keyword">let</span> lastCallTime;
    <span class="hljs-keyword">let</span> lastInvokeTime = <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">const</span> { 
      leading = <span class="hljs-literal">false</span>, 
      trailing = <span class="hljs-literal">true</span>,
      maxWait 
    } = options;
    
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">invokeFunc</span> = (<span class="hljs-params">time</span>) =&gt; {
      lastInvokeTime = time;
      result = func.<span class="hljs-title function_">apply</span>(context, args);
      context = args = <span class="hljs-literal">null</span>;
      <span class="hljs-keyword">return</span> result;
    };
    
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">leadingEdge</span> = (<span class="hljs-params">time</span>) =&gt; {
      lastInvokeTime = time;
      
      <span class="hljs-keyword">if</span> (trailing) {
        timeout = <span class="hljs-built_in">setTimeout</span>(timerExpired, wait);
      }
      
      <span class="hljs-keyword">return</span> leading ? <span class="hljs-title function_">invokeFunc</span>(time) : result;
    };
    
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">remainingWait</span> = (<span class="hljs-params">time</span>) =&gt; {
      <span class="hljs-keyword">const</span> timeSinceLastCall = time - lastCallTime;
      <span class="hljs-keyword">const</span> timeSinceLastInvoke = time - lastInvokeTime;
      <span class="hljs-keyword">const</span> timeWaiting = wait - timeSinceLastCall;
      
      <span class="hljs-keyword">return</span> maxWait === <span class="hljs-literal">undefined</span>
        ? timeWaiting
        : <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(timeWaiting, maxWait - timeSinceLastInvoke);
    };
    
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">shouldInvoke</span> = (<span class="hljs-params">time</span>) =&gt; {
      <span class="hljs-keyword">const</span> timeSinceLastCall = time - lastCallTime;
      <span class="hljs-keyword">const</span> timeSinceLastInvoke = time - lastInvokeTime;
      
      <span class="hljs-keyword">return</span> (
        lastCallTime === <span class="hljs-literal">undefined</span> || 
        timeSinceLastCall &gt;= wait ||
        timeSinceLastCall &lt; <span class="hljs-number">0</span> ||
        (maxWait !== <span class="hljs-literal">undefined</span> &amp;&amp; timeSinceLastInvoke &gt;= maxWait)
      );
    };
    
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">timerExpired</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-keyword">const</span> time = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
      <span class="hljs-keyword">if</span> (<span class="hljs-title function_">shouldInvoke</span>(time)) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">trailingEdge</span>(time);
      }
      timeout = <span class="hljs-built_in">setTimeout</span>(timerExpired, <span class="hljs-title function_">remainingWait</span>(time));
    };
    
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">trailingEdge</span> = (<span class="hljs-params">time</span>) =&gt; {
      timeout = <span class="hljs-literal">null</span>;
      
      <span class="hljs-keyword">if</span> (trailing &amp;&amp; args) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">invokeFunc</span>(time);
      }
      
      context = args = <span class="hljs-literal">null</span>;
      <span class="hljs-keyword">return</span> result;
    };
    
    <span class="hljs-keyword">const</span> debounced = <span class="hljs-keyword">function</span>(<span class="hljs-params">...params</span>) {
      <span class="hljs-keyword">const</span> time = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
      <span class="hljs-keyword">const</span> isInvoking = <span class="hljs-title function_">shouldInvoke</span>(time);
      
      context = <span class="hljs-variable language_">this</span>;
      args = params;
      lastCallTime = time;
      
      <span class="hljs-keyword">if</span> (isInvoking) {
        <span class="hljs-keyword">if</span> (!timeout &amp;&amp; leading) {
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">leadingEdge</span>(lastCallTime);
        }
        
        <span class="hljs-keyword">if</span> (maxWait !== <span class="hljs-literal">undefined</span>) {
          timeout = <span class="hljs-built_in">setTimeout</span>(timerExpired, wait);
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">invokeFunc</span>(lastCallTime);
        }
      }
      
      <span class="hljs-keyword">if</span> (!timeout) {
        timeout = <span class="hljs-built_in">setTimeout</span>(timerExpired, wait);
      }
      
      <span class="hljs-keyword">return</span> result;
    };
    
    debounced.<span class="hljs-property">cancel</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (timeout !== <span class="hljs-literal">null</span>) {
        <span class="hljs-built_in">clearTimeout</span>(timeout);
      }
      lastInvokeTime = <span class="hljs-number">0</span>;
      lastCallTime = <span class="hljs-number">0</span>;
      timeout = context = args = <span class="hljs-literal">null</span>;
    };
    
    debounced.<span class="hljs-property">flush</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">return</span> timeout ? <span class="hljs-title function_">trailingEdge</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()) : result;
    };
    
    <span class="hljs-keyword">return</span> debounced;
  }

  <span class="hljs-comment">// ç«‹å³æ‰§è¡Œçš„é˜²æŠ–ï¼ˆç¬¬ä¸€æ¬¡ç«‹å³æ‰§è¡Œï¼Œç„¶åé˜²æŠ–ï¼‰</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">immediateDebounce</span>(<span class="hljs-params">func, wait</span>) {
    <span class="hljs-keyword">let</span> timeout;
    <span class="hljs-keyword">let</span> immediate = <span class="hljs-literal">true</span>;
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
      <span class="hljs-keyword">const</span> context = <span class="hljs-variable language_">this</span>;
      
      <span class="hljs-keyword">if</span> (immediate) {
        func.<span class="hljs-title function_">apply</span>(context, args);
        immediate = <span class="hljs-literal">false</span>;
      }
      
      <span class="hljs-built_in">clearTimeout</span>(timeout);
      timeout = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        immediate = <span class="hljs-literal">true</span>;
      }, wait);
    };
  }

  <span class="hljs-comment">// èŠ‚æµ+é˜²æŠ–ç»„åˆ</span>
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">throttleDebounce</span>(<span class="hljs-params">func, wait, options = {}</span>) {
    <span class="hljs-keyword">const</span> {
      throttleWait = wait,
      debounceWait = wait,
      leading = <span class="hljs-literal">true</span>,
      trailing = <span class="hljs-literal">true</span>
    } = options;
    
    <span class="hljs-keyword">const</span> throttled = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">throttle</span>(func, throttleWait, { leading, trailing });
    <span class="hljs-keyword">const</span> debounced = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">debounce</span>(func, debounceWait, { leading, trailing });
    
    <span class="hljs-keyword">let</span> lastCall = <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
      <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
      <span class="hljs-keyword">const</span> timeSinceLastCall = now - lastCall;
      lastCall = now;
      
      <span class="hljs-comment">// å¦‚æœè·ç¦»ä¸Šæ¬¡è°ƒç”¨æ—¶é—´å¾ˆçŸ­ï¼Œä½¿ç”¨é˜²æŠ–</span>
      <span class="hljs-keyword">if</span> (timeSinceLastCall &lt; throttleWait) {
        <span class="hljs-keyword">return</span> debounced.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
      }
      
      <span class="hljs-comment">// å¦åˆ™ä½¿ç”¨èŠ‚æµ</span>
      <span class="hljs-keyword">return</span> throttled.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
    };
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-comment">// èŠ‚æµç¤ºä¾‹ï¼šæ»šåŠ¨äº‹ä»¶</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>, <span class="hljs-title class_">AdvancedThrottleDebounce</span>.<span class="hljs-title function_">throttle</span>(
  <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Scroll position:'</span>, <span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span>);
  },
  <span class="hljs-number">100</span>,
  { <span class="hljs-attr">leading</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">trailing</span>: <span class="hljs-literal">true</span> }
));

<span class="hljs-comment">// é˜²æŠ–ç¤ºä¾‹ï¼šæœç´¢è¾“å…¥</span>
<span class="hljs-keyword">const</span> searchInput = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'search'</span>);
searchInput.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'input'</span>, <span class="hljs-title class_">AdvancedThrottleDebounce</span>.<span class="hljs-title function_">debounce</span>(
  <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Searching for:'</span>, event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);
    <span class="hljs-comment">// å®é™…æœç´¢é€»è¾‘</span>
  },
  <span class="hljs-number">300</span>,
  { <span class="hljs-attr">leading</span>: <span class="hljs-literal">false</span>, <span class="hljs-attr">trailing</span>: <span class="hljs-literal">true</span> }
));

<span class="hljs-comment">// ç«‹å³æ‰§è¡Œçš„é˜²æŠ–ç¤ºä¾‹ï¼šæŒ‰é’®ç‚¹å‡»</span>
<span class="hljs-keyword">const</span> submitButton = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'submit'</span>);
submitButton.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-title class_">AdvancedThrottleDebounce</span>.<span class="hljs-title function_">immediateDebounce</span>(
  <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Submit clicked'</span>);
    <span class="hljs-comment">// æäº¤é€»è¾‘</span>
  },
  <span class="hljs-number">1000</span>
));

<span class="hljs-comment">// ç»„åˆç¤ºä¾‹ï¼šè°ƒæ•´çª—å£å¤§å°</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-title class_">AdvancedThrottleDebounce</span>.<span class="hljs-title function_">throttleDebounce</span>(
  <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Window resized'</span>);
    <span class="hljs-comment">// è°ƒæ•´å¸ƒå±€é€»è¾‘</span>
  },
  <span class="hljs-number">200</span>,
  { <span class="hljs-attr">throttleWait</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">debounceWait</span>: <span class="hljs-number">300</span> }
));
</code></pre>
<h5 data-id="heading-19">6.2 React Hookç‰ˆæœ¬çš„èŠ‚æµé˜²æŠ–</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useRef, useCallback, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// ä½¿ç”¨Hookå®ç°èŠ‚æµ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useThrottle</span>(<span class="hljs-params">callback, delay, options = {}</span>) {
  <span class="hljs-keyword">const</span> { leading = <span class="hljs-literal">true</span>, trailing = <span class="hljs-literal">true</span> } = options;
  <span class="hljs-keyword">const</span> lastCallTime = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> timeout = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> lastArgs = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> lastThis = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);
  
  <span class="hljs-keyword">const</span> throttled = <span class="hljs-title function_">useCallback</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    lastArgs.<span class="hljs-property">current</span> = args;
    lastThis.<span class="hljs-property">current</span> = <span class="hljs-variable language_">this</span>;
    
    <span class="hljs-keyword">if</span> (!leading &amp;&amp; !lastCallTime.<span class="hljs-property">current</span>) {
      lastCallTime.<span class="hljs-property">current</span> = now;
    }
    
    <span class="hljs-keyword">const</span> remaining = delay - (now - lastCallTime.<span class="hljs-property">current</span>);
    
    <span class="hljs-keyword">if</span> (remaining &lt;= <span class="hljs-number">0</span> || remaining &gt; delay) {
      <span class="hljs-keyword">if</span> (timeout.<span class="hljs-property">current</span>) {
        <span class="hljs-built_in">clearTimeout</span>(timeout.<span class="hljs-property">current</span>);
        timeout.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
      }
      
      lastCallTime.<span class="hljs-property">current</span> = now;
      callback.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
      lastArgs.<span class="hljs-property">current</span> = lastThis.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!timeout.<span class="hljs-property">current</span> &amp;&amp; trailing) {
      timeout.<span class="hljs-property">current</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        lastCallTime.<span class="hljs-property">current</span> = leading ? <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() : <span class="hljs-number">0</span>;
        timeout.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
        
        <span class="hljs-keyword">if</span> (trailing &amp;&amp; lastArgs.<span class="hljs-property">current</span>) {
          callback.<span class="hljs-title function_">apply</span>(lastThis.<span class="hljs-property">current</span>, lastArgs.<span class="hljs-property">current</span>);
          lastArgs.<span class="hljs-property">current</span> = lastThis.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
        }
      }, remaining);
    }
  }, [callback, delay, leading, trailing]);
  
  <span class="hljs-comment">// æ¸…ç†å‡½æ•°</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (timeout.<span class="hljs-property">current</span>) {
        <span class="hljs-built_in">clearTimeout</span>(timeout.<span class="hljs-property">current</span>);
      }
    };
  }, []);
  
  <span class="hljs-keyword">return</span> throttled;
}

<span class="hljs-comment">// ä½¿ç”¨Hookå®ç°é˜²æŠ–</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useDebounce</span>(<span class="hljs-params">callback, delay, options = {}</span>) {
  <span class="hljs-keyword">const</span> { leading = <span class="hljs-literal">false</span>, maxWait } = options;
  <span class="hljs-keyword">const</span> lastCallTime = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> lastInvokeTime = <span class="hljs-title function_">useRef</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> timeout = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> lastArgs = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);
  <span class="hljs-keyword">const</span> lastThis = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);
  
  <span class="hljs-keyword">const</span> debounced = <span class="hljs-title function_">useCallback</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    
    lastArgs.<span class="hljs-property">current</span> = args;
    lastThis.<span class="hljs-property">current</span> = <span class="hljs-variable language_">this</span>;
    lastCallTime.<span class="hljs-property">current</span> = now;
    
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">invokeFunc</span> = (<span class="hljs-params"/>) =&gt; {
      lastInvokeTime.<span class="hljs-property">current</span> = now;
      callback.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
      lastArgs.<span class="hljs-property">current</span> = lastThis.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
    };
    
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">shouldInvoke</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-keyword">const</span> timeSinceLastCall = now - lastCallTime.<span class="hljs-property">current</span>;
      <span class="hljs-keyword">const</span> timeSinceLastInvoke = now - lastInvokeTime.<span class="hljs-property">current</span>;
      
      <span class="hljs-keyword">return</span> (
        lastCallTime.<span class="hljs-property">current</span> === <span class="hljs-number">0</span> ||
        timeSinceLastCall &gt;= delay ||
        timeSinceLastCall &lt; <span class="hljs-number">0</span> ||
        (maxWait !== <span class="hljs-literal">undefined</span> &amp;&amp; timeSinceLastInvoke &gt;= maxWait)
      );
    };
    
    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">shouldInvoke</span>()) {
      <span class="hljs-keyword">if</span> (!timeout.<span class="hljs-property">current</span> &amp;&amp; leading) {
        <span class="hljs-title function_">invokeFunc</span>();
      }
      
      <span class="hljs-keyword">if</span> (maxWait !== <span class="hljs-literal">undefined</span>) {
        timeout.<span class="hljs-property">current</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-keyword">if</span> (timeout.<span class="hljs-property">current</span>) {
            <span class="hljs-built_in">clearTimeout</span>(timeout.<span class="hljs-property">current</span>);
            timeout.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
          }
          <span class="hljs-title function_">invokeFunc</span>();
        }, delay);
        <span class="hljs-keyword">return</span>;
      }
    }
    
    <span class="hljs-keyword">if</span> (!timeout.<span class="hljs-property">current</span>) {
      timeout.<span class="hljs-property">current</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        timeout.<span class="hljs-property">current</span> = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">if</span> (lastArgs.<span class="hljs-property">current</span>) {
          <span class="hljs-title function_">invokeFunc</span>();
        }
      }, delay);
    }
  }, [callback, delay, leading, maxWait]);
  
  <span class="hljs-comment">// æ¸…ç†å‡½æ•°</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">if</span> (timeout.<span class="hljs-property">current</span>) {
        <span class="hljs-built_in">clearTimeout</span>(timeout.<span class="hljs-property">current</span>);
      }
    };
  }, []);
  
  <span class="hljs-keyword">return</span> debounced;
}

<span class="hljs-comment">// Reactç»„ä»¶ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">SearchComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [query, setQuery] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">''</span>);
  <span class="hljs-keyword">const</span> [results, setResults] = <span class="hljs-title function_">useState</span>([]);
  
  <span class="hljs-comment">// é˜²æŠ–æœç´¢å‡½æ•°</span>
  <span class="hljs-keyword">const</span> debouncedSearch = <span class="hljs-title function_">useDebounce</span>(<span class="hljs-keyword">async</span> (searchQuery) =&gt; {
    <span class="hljs-keyword">if</span> (!searchQuery.<span class="hljs-title function_">trim</span>()) {
      <span class="hljs-title function_">setResults</span>([]);
      <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/search?q=<span class="hljs-subst">${<span class="hljs-built_in">encodeURIComponent</span>(searchQuery)}</span>`</span>);
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
    <span class="hljs-title function_">setResults</span>(data);
  }, <span class="hljs-number">300</span>);
  
  <span class="hljs-keyword">const</span> handleInputChange = <span class="hljs-title function_">useCallback</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> value = event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>;
    <span class="hljs-title function_">setQuery</span>(value);
    <span class="hljs-title function_">debouncedSearch</span>(value);
  }, [debouncedSearch]);
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> 
        <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> 
        <span class="hljs-attr">value</span>=<span class="hljs-string">{query}</span>
        <span class="hljs-attr">onChange</span>=<span class="hljs-string">{handleInputChange}</span>
        <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Search..."</span>
      /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
        {results.map(result =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{result.id}</span>&gt;</span>{result.name}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h4 data-id="heading-20">ä¸ƒã€å¹¶å‘æ§åˆ¶ä¸è¯·æ±‚æ± ï¼ˆConcurrency Control &amp; Request Poolï¼‰</h4>
<h5 data-id="heading-21">7.1 æ™ºèƒ½è¯·æ±‚æ± å®ç°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RequestPool</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {
      <span class="hljs-attr">maxConcurrent</span>: <span class="hljs-number">6</span>, <span class="hljs-comment">// æœ€å¤§å¹¶å‘æ•°ï¼ˆæµè§ˆå™¨é™åˆ¶é€šå¸¸æ˜¯6ï¼‰</span>
      <span class="hljs-attr">retryCount</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// é‡è¯•æ¬¡æ•°</span>
      <span class="hljs-attr">retryDelay</span>: <span class="hljs-number">1000</span>, <span class="hljs-comment">// é‡è¯•å»¶è¿Ÿ</span>
      <span class="hljs-attr">timeout</span>: <span class="hljs-number">30000</span>, <span class="hljs-comment">// è¶…æ—¶æ—¶é—´</span>
      <span class="hljs-attr">priority</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// æ˜¯å¦å¯ç”¨ä¼˜å…ˆçº§</span>
      ...options
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeRequests</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">requestCount</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span> = {
      <span class="hljs-attr">total</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">success</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">failed</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">retried</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">queued</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">active</span>: <span class="hljs-number">0</span>
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">paused</span> = <span class="hljs-literal">false</span>;
  }

  <span class="hljs-title function_">addRequest</span>(<span class="hljs-params">request, priority = <span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword">const</span> requestId = <span class="hljs-string">`req_<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>_<span class="hljs-subst">${++<span class="hljs-variable language_">this</span>.requestCount}</span>`</span>;
    <span class="hljs-keyword">const</span> requestConfig = {
      <span class="hljs-attr">id</span>: requestId,
      request,
      priority,
      <span class="hljs-attr">retries</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">addedAt</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
    };
    
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">priority</span>) {
      <span class="hljs-comment">// æŒ‰ä¼˜å…ˆçº§æ’å…¥é˜Ÿåˆ—</span>
      <span class="hljs-keyword">let</span> insertIndex = <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-property">length</span>;
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-property">length</span>; i++) {
        <span class="hljs-keyword">if</span> (priority &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>[i].<span class="hljs-property">priority</span>) {
          insertIndex = i;
          <span class="hljs-keyword">break</span>;
        }
      }
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">splice</span>(insertIndex, <span class="hljs-number">0</span>, requestConfig);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">push</span>(requestConfig);
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">queued</span>++;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">total</span>++;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processQueue</span>();
    <span class="hljs-keyword">return</span> requestId;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">processQueue</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">paused</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-comment">// æ£€æŸ¥å¯ç”¨å¹¶å‘æ•°</span>
    <span class="hljs-keyword">const</span> availableSlots = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">maxConcurrent</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeRequests</span>.<span class="hljs-property">size</span>;
    <span class="hljs-keyword">if</span> (availableSlots &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-comment">// è·å–è¦å¤„ç†çš„ä»»åŠ¡</span>
    <span class="hljs-keyword">const</span> tasksToProcess = <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, availableSlots);
    
    tasksToProcess.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">task</span> =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeRequest</span>(task);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">executeRequest</span>(<span class="hljs-params">task</span>) {
    <span class="hljs-keyword">const</span> { id, request, priority, retries } = task;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeRequests</span>.<span class="hljs-title function_">set</span>(id, task);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">queued</span>--;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">active</span>++;
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> controller = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AbortController</span>();
      <span class="hljs-keyword">const</span> timeoutId = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        controller.<span class="hljs-title function_">abort</span>();
      }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">timeout</span>);
      
      <span class="hljs-comment">// æ‰§è¡Œè¯·æ±‚</span>
      <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">request</span>(controller.<span class="hljs-property">signal</span>);
      
      <span class="hljs-built_in">clearTimeout</span>(timeoutId);
      
      <span class="hljs-comment">// è¯·æ±‚æˆåŠŸ</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeRequests</span>.<span class="hljs-title function_">delete</span>(id);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">active</span>--;
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">success</span>++;
      
      <span class="hljs-comment">// è§¦å‘æˆåŠŸäº‹ä»¶</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'success'</span>, { id, result, retries });
      
      <span class="hljs-comment">// ç»§ç»­å¤„ç†é˜Ÿåˆ—</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processQueue</span>();
      
      <span class="hljs-keyword">return</span> result;
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-built_in">clearTimeout</span>(timeoutId);
      
      <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦é‡è¯•</span>
      <span class="hljs-keyword">const</span> shouldRetry = retries &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">retryCount</span> &amp;&amp; 
                         !<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isAbortError</span>(error);
      
      <span class="hljs-keyword">if</span> (shouldRetry) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">retried</span>++;
        
        <span class="hljs-comment">// å»¶è¿Ÿåé‡è¯•</span>
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          task.<span class="hljs-property">retries</span>++;
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">unshift</span>(task);
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">queued</span>++;
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processQueue</span>();
        }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">retryDelay</span>);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// æœ€ç»ˆå¤±è´¥</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeRequests</span>.<span class="hljs-title function_">delete</span>(id);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">active</span>--;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">failed</span>++;
        
        <span class="hljs-comment">// è§¦å‘å¤±è´¥äº‹ä»¶</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'error'</span>, { id, error, retries });
        
        <span class="hljs-comment">// ç»§ç»­å¤„ç†é˜Ÿåˆ—</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processQueue</span>();
      }
    }
  }

  <span class="hljs-title function_">isAbortError</span>(<span class="hljs-params">error</span>) {
    <span class="hljs-keyword">return</span> error.<span class="hljs-property">name</span> === <span class="hljs-string">'AbortError'</span> || error.<span class="hljs-property">message</span> === <span class="hljs-string">'The user aborted a request.'</span>;
  }

  <span class="hljs-comment">// äº‹ä»¶ç³»ç»Ÿ</span>
  eventHandlers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  
  <span class="hljs-title function_">on</span>(<span class="hljs-params">event, handler</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">has</span>(event)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">set</span>(event, []);
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">get</span>(event).<span class="hljs-title function_">push</span>(handler);
  }
  
  <span class="hljs-title function_">off</span>(<span class="hljs-params">event, handler</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">has</span>(event)) {
      <span class="hljs-keyword">const</span> handlers = <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">get</span>(event);
      <span class="hljs-keyword">const</span> index = handlers.<span class="hljs-title function_">indexOf</span>(handler);
      <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) {
        handlers.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
      }
    }
  }
  
  <span class="hljs-title function_">emit</span>(<span class="hljs-params">event, data</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">has</span>(event)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">get</span>(event).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">handler</span> =&gt;</span> {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-title function_">handler</span>(data);
        } <span class="hljs-keyword">catch</span> (error) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error in event handler for <span class="hljs-subst">${event}</span>:`</span>, error);
        }
      });
    }
  }

  <span class="hljs-comment">// æ§åˆ¶æ–¹æ³•</span>
  <span class="hljs-title function_">pause</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">paused</span> = <span class="hljs-literal">true</span>;
  }

  <span class="hljs-title function_">resume</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">paused</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processQueue</span>();
  }

  <span class="hljs-title function_">cancelRequest</span>(<span class="hljs-params">requestId</span>) {
    <span class="hljs-comment">// ä»é˜Ÿåˆ—ä¸­ç§»é™¤</span>
    <span class="hljs-keyword">const</span> queueIndex = <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">req</span> =&gt;</span> req.<span class="hljs-property">id</span> === requestId);
    <span class="hljs-keyword">if</span> (queueIndex &gt; -<span class="hljs-number">1</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">splice</span>(queueIndex, <span class="hljs-number">1</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">queued</span>--;
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-comment">// ä»æ´»åŠ¨è¯·æ±‚ä¸­ç§»é™¤ï¼ˆæ— æ³•çœŸæ­£å–æ¶ˆfetchï¼Œä½†å¯ä»¥æ ‡è®°ä¸ºå–æ¶ˆï¼‰</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">activeRequests</span>.<span class="hljs-title function_">has</span>(requestId)) {
      <span class="hljs-comment">// åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œåº”è¯¥å–æ¶ˆfetchè¯·æ±‚</span>
      <span class="hljs-comment">// éœ€è¦ä¿å­˜AbortControllerå¹¶åœ¨å–æ¶ˆæ—¶è°ƒç”¨abort()</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeRequests</span>.<span class="hljs-title function_">delete</span>(requestId);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">active</span>--;
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }

  <span class="hljs-title function_">clearQueue</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">queued</span> = <span class="hljs-number">0</span>;
  }

  <span class="hljs-title function_">getStats</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>,
      <span class="hljs-attr">queueLength</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-property">length</span>,
      <span class="hljs-attr">activeRequests</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeRequests</span>.<span class="hljs-property">size</span>
    };
  }

  <span class="hljs-title function_">waitForAll</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> checkInterval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeRequests</span>.<span class="hljs-property">size</span> === <span class="hljs-number">0</span>) {
          <span class="hljs-built_in">clearInterval</span>(checkInterval);
          <span class="hljs-title function_">resolve</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>);
        }
      }, <span class="hljs-number">100</span>);
    });
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> requestPool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RequestPool</span>({
  <span class="hljs-attr">maxConcurrent</span>: <span class="hljs-number">4</span>,
  <span class="hljs-attr">retryCount</span>: <span class="hljs-number">2</span>,
  <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span>,
  <span class="hljs-attr">priority</span>: <span class="hljs-literal">true</span>
});

<span class="hljs-comment">// æ·»åŠ è¯·æ±‚äº‹ä»¶ç›‘å¬</span>
requestPool.<span class="hljs-title function_">on</span>(<span class="hljs-string">'success'</span>, <span class="hljs-function">(<span class="hljs-params">{ id, result }</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Request <span class="hljs-subst">${id}</span> succeeded`</span>);
});

requestPool.<span class="hljs-title function_">on</span>(<span class="hljs-string">'error'</span>, <span class="hljs-function">(<span class="hljs-params">{ id, error }</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Request <span class="hljs-subst">${id}</span> failed:`</span>, error);
});

<span class="hljs-comment">// åˆ›å»ºè¯·æ±‚å‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createRequest</span>(<span class="hljs-params">url, data = <span class="hljs-literal">null</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">async</span> (signal) =&gt; {
    <span class="hljs-keyword">const</span> options = {
      <span class="hljs-attr">method</span>: data ? <span class="hljs-string">'POST'</span> : <span class="hljs-string">'GET'</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
      },
      signal
    };
    
    <span class="hljs-keyword">if</span> (data) {
      options.<span class="hljs-property">body</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data);
    }
    
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url, options);
    
    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`HTTP <span class="hljs-subst">${response.status}</span>`</span>);
    }
    
    <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
  };
}

<span class="hljs-comment">// æ·»åŠ å¤šä¸ªè¯·æ±‚</span>
<span class="hljs-keyword">const</span> urls = [
  <span class="hljs-string">'/api/users/1'</span>,
  <span class="hljs-string">'/api/users/2'</span>,
  <span class="hljs-string">'/api/users/3'</span>,
  <span class="hljs-string">'/api/products/1'</span>,
  <span class="hljs-string">'/api/products/2'</span>,
  <span class="hljs-string">'/api/orders/1'</span>
];

urls.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">url, index</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> priority = index &lt; <span class="hljs-number">3</span> ? <span class="hljs-number">10</span> : <span class="hljs-number">1</span>; <span class="hljs-comment">// å‰3ä¸ªè¯·æ±‚é«˜ä¼˜å…ˆçº§</span>
  requestPool.<span class="hljs-title function_">addRequest</span>(<span class="hljs-title function_">createRequest</span>(url), priority);
});

<span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰è¯·æ±‚å®Œæˆ</span>
requestPool.<span class="hljs-title function_">waitForAll</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">stats</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'All requests completed:'</span>, stats);
});

<span class="hljs-comment">// åŠ¨æ€è°ƒæ•´å¹¶å‘æ•°</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  requestPool.<span class="hljs-property">options</span>.<span class="hljs-property">maxConcurrent</span> = <span class="hljs-number">2</span>;
}, <span class="hljs-number">5000</span>);
</code></pre>
<h5 data-id="heading-22">7.2 å¸¦ç¼“å­˜çš„è¯·æ±‚æ± </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CachedRequestPool</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">RequestPool</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-variable language_">super</span>(options);
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheOptions</span> = {
      <span class="hljs-attr">ttl</span>: options.<span class="hljs-property">cacheTtl</span> || <span class="hljs-number">300000</span>, <span class="hljs-comment">// 5åˆ†é’Ÿ</span>
      <span class="hljs-attr">maxSize</span>: options.<span class="hljs-property">cacheMaxSize</span> || <span class="hljs-number">100</span>,
      ...options.<span class="hljs-property">cacheOptions</span>
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheHits</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheMisses</span> = <span class="hljs-number">0</span>;
  }

  <span class="hljs-title function_">addRequest</span>(<span class="hljs-params">request, priority = <span class="hljs-number">0</span>, cacheKey = <span class="hljs-literal">null</span></span>) {
    <span class="hljs-comment">// ç”Ÿæˆç¼“å­˜é”®</span>
    <span class="hljs-keyword">const</span> actualCacheKey = cacheKey || <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateCacheKey</span>(request);
    
    <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">has</span>(actualCacheKey)) {
      <span class="hljs-keyword">const</span> cached = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">get</span>(actualCacheKey);
      
      <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - cached.<span class="hljs-property">timestamp</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheOptions</span>.<span class="hljs-property">ttl</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheHits</span>++;
        
        <span class="hljs-comment">// ç«‹å³è¿”å›ç¼“å­˜ç»“æœ</span>
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(cached.<span class="hljs-property">data</span>);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// ç¼“å­˜è¿‡æœŸ</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">delete</span>(actualCacheKey);
      }
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheMisses</span>++;
    
    <span class="hljs-comment">// åˆ›å»ºåŒ…è£…çš„è¯·æ±‚å‡½æ•°</span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">wrappedRequest</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">signal</span>) =&gt; {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">request</span>(signal);
        
        <span class="hljs-comment">// ç¼“å­˜ç»“æœ</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">set</span>(actualCacheKey, {
          <span class="hljs-attr">data</span>: result,
          <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
        });
        
        <span class="hljs-comment">// æ¸…ç†è¿‡æœŸç¼“å­˜</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cleanupCache</span>();
        
        <span class="hljs-keyword">return</span> result;
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-keyword">throw</span> error;
      }
    };
    
    <span class="hljs-comment">// æ·»åŠ åˆ°çˆ¶ç±»é˜Ÿåˆ—</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> requestId = <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">addRequest</span>(wrappedRequest, priority);
      
      <span class="hljs-comment">// ç›‘å¬å®Œæˆäº‹ä»¶</span>
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">successHandler</span> = (<span class="hljs-params">{ id, result }</span>) =&gt; {
        <span class="hljs-keyword">if</span> (id === requestId) {
          <span class="hljs-title function_">resolve</span>(result);
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'success'</span>, successHandler);
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'error'</span>, errorHandler);
        }
      };
      
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">errorHandler</span> = (<span class="hljs-params">{ id, error }</span>) =&gt; {
        <span class="hljs-keyword">if</span> (id === requestId) {
          <span class="hljs-title function_">reject</span>(error);
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'success'</span>, successHandler);
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">off</span>(<span class="hljs-string">'error'</span>, errorHandler);
        }
      };
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'success'</span>, successHandler);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'error'</span>, errorHandler);
    });
  }

  <span class="hljs-title function_">generateCacheKey</span>(<span class="hljs-params">request</span>) {
    <span class="hljs-comment">// æ ¹æ®è¯·æ±‚å‡½æ•°ç”Ÿæˆç¼“å­˜é”®</span>
    <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªç®€å•å®ç°ï¼Œå®é™…åº”ç”¨ä¸­å¯èƒ½éœ€è¦æ›´å¤æ‚çš„é€»è¾‘</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">`cache_<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>_<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>).substr(<span class="hljs-number">2</span>)}</span>`</span>;
  }

  <span class="hljs-title function_">cleanupCache</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> maxAge = <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheOptions</span>.<span class="hljs-property">ttl</span>;
    
    <span class="hljs-comment">// æ¸…ç†è¿‡æœŸç¼“å­˜</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">entries</span>()) {
      <span class="hljs-keyword">if</span> (now - value.<span class="hljs-property">timestamp</span> &gt; maxAge) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">delete</span>(key);
      }
    }
    
    <span class="hljs-comment">// æ¸…ç†è¶…å‡ºå¤§å°çš„ç¼“å­˜</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-property">size</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheOptions</span>.<span class="hljs-property">maxSize</span>) {
      <span class="hljs-keyword">const</span> entries = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">entries</span>());
      entries.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">[, a], [, b]</span>) =&gt;</span> a.<span class="hljs-property">timestamp</span> - b.<span class="hljs-property">timestamp</span>);
      
      <span class="hljs-keyword">const</span> toRemove = entries.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-property">size</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheOptions</span>.<span class="hljs-property">maxSize</span>);
      toRemove.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[key]</span>) =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">delete</span>(key));
    }
  }

  <span class="hljs-title function_">clearCache</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">clear</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheHits</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheMisses</span> = <span class="hljs-number">0</span>;
  }

  <span class="hljs-title function_">getCacheStats</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">hits</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheHits</span>,
      <span class="hljs-attr">misses</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheMisses</span>,
      <span class="hljs-attr">hitRate</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheHits</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheMisses</span> &gt; <span class="hljs-number">0</span> 
        ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheHits</span> / (<span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheHits</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheMisses</span>)
        : <span class="hljs-number">0</span>,
      <span class="hljs-attr">size</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-property">size</span>
    };
  }
}
</code></pre>
<h4 data-id="heading-23">å…«ã€æ•°æ®åˆ†æ‰¹å¤„ç†ï¼ˆBatch Processingï¼‰</h4>
<h5 data-id="heading-24">8.1 æ™ºèƒ½æ•°æ®æ‰¹å¤„ç†å™¨</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BatchProcessor</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {
      <span class="hljs-attr">batchSize</span>: <span class="hljs-number">100</span>,
      <span class="hljs-attr">delay</span>: <span class="hljs-number">100</span>, <span class="hljs-comment">// å»¶è¿Ÿæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span>
      <span class="hljs-attr">maxBatches</span>: <span class="hljs-number">10</span>, <span class="hljs-comment">// æœ€å¤§æ‰¹æ¬¡æ•°</span>
      <span class="hljs-attr">autoProcess</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦è‡ªåŠ¨å¤„ç†</span>
      ...options
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">batch</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchQueue</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span> = {
      <span class="hljs-attr">totalItems</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">processedItems</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">batchesProcessed</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">processingTime</span>: <span class="hljs-number">0</span>
    };
    
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">autoProcess</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startAutoProcess</span>();
    }
  }

  <span class="hljs-title function_">add</span>(<span class="hljs-params">item</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">batch</span>.<span class="hljs-title function_">push</span>(item);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">totalItems</span>++;
    
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">batch</span>.<span class="hljs-property">length</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">batchSize</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">enqueueBatch</span>();
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">autoProcess</span> &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">startTimer</span>();
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-title function_">addMany</span>(<span class="hljs-params">items</span>) {
    items.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">add</span>(item));
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-title function_">enqueueBatch</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">batch</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-keyword">const</span> batchToEnqueue = [...<span class="hljs-variable language_">this</span>.<span class="hljs-property">batch</span>];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">batch</span> = [];
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchQueue</span>.<span class="hljs-title function_">push</span>(batchToEnqueue);
    
    <span class="hljs-comment">// æ£€æŸ¥é˜Ÿåˆ—é•¿åº¦</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">batchQueue</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">maxBatches</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'Batch queue is full, consider increasing maxBatches or batchSize'</span>);
    }
    
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>) {
      <span class="hljs-built_in">clearTimeout</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-literal">null</span>;
    }
    
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">autoProcess</span> &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processQueue</span>();
    }
  }

  <span class="hljs-title function_">startTimer</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>) {
      <span class="hljs-built_in">clearTimeout</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>);
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">enqueueBatch</span>();
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-literal">null</span>;
    }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">delay</span>);
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">processQueue</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchQueue</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">true</span>;
    
    <span class="hljs-keyword">while</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">batchQueue</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">const</span> batch = <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchQueue</span>.<span class="hljs-title function_">shift</span>();
      
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> startTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
        <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processBatch</span>(batch);
        <span class="hljs-keyword">const</span> endTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">processedItems</span> += batch.<span class="hljs-property">length</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">batchesProcessed</span>++;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">processingTime</span> += endTime - startTime;
        
        <span class="hljs-comment">// è§¦å‘æ‰¹æ¬¡å®Œæˆäº‹ä»¶</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'batchComplete'</span>, {
          batch,
          <span class="hljs-attr">size</span>: batch.<span class="hljs-property">length</span>,
          <span class="hljs-attr">processingTime</span>: endTime - startTime
        });
        
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Batch processing error:'</span>, error);
        
        <span class="hljs-comment">// è§¦å‘é”™è¯¯äº‹ä»¶</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'error'</span>, {
          error,
          batch,
          <span class="hljs-attr">size</span>: batch.<span class="hljs-property">length</span>
        });
      }
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
    
    <span class="hljs-comment">// è§¦å‘é˜Ÿåˆ—å®Œæˆäº‹ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">emit</span>(<span class="hljs-string">'queueEmpty'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>);
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">processBatch</span>(<span class="hljs-params">batch</span>) {
    <span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œéœ€è¦åœ¨å­ç±»ä¸­å®ç°</span>
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'processBatch method must be implemented'</span>);
  }

  <span class="hljs-title function_">flush</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å¼ºåˆ¶å¤„ç†å½“å‰æ‰¹æ¬¡</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">batch</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">enqueueBatch</span>();
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processQueue</span>();
  }

  <span class="hljs-title function_">waitForCompletion</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">checkComplete</span> = (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">batch</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span> &amp;&amp; 
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchQueue</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span> &amp;&amp; 
            !<span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span>) {
          <span class="hljs-title function_">resolve</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>);
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-built_in">setTimeout</span>(checkComplete, <span class="hljs-number">50</span>);
        }
      };
      
      <span class="hljs-title function_">checkComplete</span>();
    });
  }

  <span class="hljs-comment">// äº‹ä»¶ç³»ç»Ÿ</span>
  eventHandlers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
  
  <span class="hljs-title function_">on</span>(<span class="hljs-params">event, handler</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">has</span>(event)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">set</span>(event, []);
    }
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">get</span>(event).<span class="hljs-title function_">push</span>(handler);
  }
  
  <span class="hljs-title function_">off</span>(<span class="hljs-params">event, handler</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">has</span>(event)) {
      <span class="hljs-keyword">const</span> handlers = <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">get</span>(event);
      <span class="hljs-keyword">const</span> index = handlers.<span class="hljs-title function_">indexOf</span>(handler);
      <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) {
        handlers.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
      }
    }
  }
  
  <span class="hljs-title function_">emit</span>(<span class="hljs-params">event, data</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">has</span>(event)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">eventHandlers</span>.<span class="hljs-title function_">get</span>(event).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">handler</span> =&gt;</span> {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-title function_">handler</span>(data);
        } <span class="hljs-keyword">catch</span> (error) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error in event handler for <span class="hljs-subst">${event}</span>:`</span>, error);
        }
      });
    }
  }

  <span class="hljs-title function_">getStats</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>,
      <span class="hljs-attr">itemsInBatch</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">batch</span>.<span class="hljs-property">length</span>,
      <span class="hljs-attr">batchesInQueue</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchQueue</span>.<span class="hljs-property">length</span>,
      <span class="hljs-attr">isProcessing</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span>
    };
  }

  <span class="hljs-title function_">reset</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">batch</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">batchQueue</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">isProcessing</span> = <span class="hljs-literal">false</span>;
    
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>) {
      <span class="hljs-built_in">clearTimeout</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-literal">null</span>;
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span> = {
      <span class="hljs-attr">totalItems</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">processedItems</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">batchesProcessed</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">processingTime</span>: <span class="hljs-number">0</span>
    };
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šAPIæ‰¹é‡è¯·æ±‚å¤„ç†å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiBatchProcessor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">BatchProcessor</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">apiEndpoint, options = {}</span>) {
    <span class="hljs-variable language_">super</span>({
      <span class="hljs-attr">batchSize</span>: <span class="hljs-number">50</span>,
      <span class="hljs-attr">delay</span>: <span class="hljs-number">500</span>,
      ...options
    });
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">apiEndpoint</span> = apiEndpoint;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">processBatch</span>(<span class="hljs-params">batch</span>) {
    <span class="hljs-comment">// æ‰¹é‡å‘é€è¯·æ±‚</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">apiEndpoint</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
      },
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">items</span>: batch })
    });
    
    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`API request failed: <span class="hljs-subst">${response.status}</span>`</span>);
    }
    
    <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> processor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiBatchProcessor</span>(<span class="hljs-string">'/api/batch-save'</span>, {
  <span class="hljs-attr">batchSize</span>: <span class="hljs-number">100</span>,
  <span class="hljs-attr">delay</span>: <span class="hljs-number">1000</span>
});

<span class="hljs-comment">// ç›‘å¬äº‹ä»¶</span>
processor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'batchComplete'</span>, <span class="hljs-function">(<span class="hljs-params">{ batch, size, processingTime }</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Processed batch of <span class="hljs-subst">${size}</span> items in <span class="hljs-subst">${processingTime}</span>ms`</span>);
});

processor.<span class="hljs-title function_">on</span>(<span class="hljs-string">'queueEmpty'</span>, <span class="hljs-function">(<span class="hljs-params">stats</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'All batches processed:'</span>, stats);
});

<span class="hljs-comment">// æ·»åŠ å¤§é‡æ•°æ®</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
  processor.<span class="hljs-title function_">add</span>({ <span class="hljs-attr">id</span>: i, <span class="hljs-attr">data</span>: <span class="hljs-string">`Item <span class="hljs-subst">${i}</span>`</span> });
}

<span class="hljs-comment">// ç­‰å¾…å¤„ç†å®Œæˆ</span>
processor.<span class="hljs-title function_">waitForCompletion</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">stats</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Processing completed:'</span>, stats);
});
</code></pre>
<h5 data-id="heading-25">8.2 æ•°æ®åº“æ‰¹é‡æ“ä½œ</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseBatchProcessor</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">BatchProcessor</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">dbName, storeName, options = {}</span>) {
    <span class="hljs-variable language_">super</span>({
      <span class="hljs-attr">batchSize</span>: <span class="hljs-number">100</span>,
      <span class="hljs-attr">delay</span>: <span class="hljs-number">100</span>,
      ...options
    });
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dbName</span> = dbName;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span> = storeName;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span> = <span class="hljs-literal">null</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initDatabase</span>();
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">initDatabase</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = indexedDB.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dbName</span>, <span class="hljs-number">1</span>);
      
      request.<span class="hljs-property">onupgradeneeded</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> db = event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
        <span class="hljs-keyword">if</span> (!db.<span class="hljs-property">objectStoreNames</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>)) {
          db.<span class="hljs-title function_">createObjectStore</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>, { <span class="hljs-attr">keyPath</span>: <span class="hljs-string">'id'</span> });
        }
      };
      
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span> = event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
        <span class="hljs-title function_">resolve</span>();
      };
      
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-title function_">reject</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">error</span>);
      };
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">processBatch</span>(<span class="hljs-params">batch</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>) <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initDatabase</span>();
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>], <span class="hljs-string">'readwrite'</span>);
      <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>);
      
      <span class="hljs-keyword">let</span> completed = <span class="hljs-number">0</span>;
      <span class="hljs-keyword">let</span> errors = [];
      
      batch.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">put</span>(item);
        
        request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> {
          completed++;
          <span class="hljs-keyword">if</span> (completed === batch.<span class="hljs-property">length</span>) {
            <span class="hljs-keyword">if</span> (errors.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
              <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Failed to save <span class="hljs-subst">${errors.length}</span> items`</span>));
            } <span class="hljs-keyword">else</span> {
              <span class="hljs-title function_">resolve</span>({ <span class="hljs-attr">saved</span>: batch.<span class="hljs-property">length</span> });
            }
          }
        };
        
        request.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
          errors.<span class="hljs-title function_">push</span>({ item, <span class="hljs-attr">error</span>: event.<span class="hljs-property">target</span>.<span class="hljs-property">error</span> });
          completed++;
          
          <span class="hljs-keyword">if</span> (completed === batch.<span class="hljs-property">length</span>) {
            <span class="hljs-keyword">if</span> (errors.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
              <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Failed to save <span class="hljs-subst">${errors.length}</span> items`</span>));
            } <span class="hljs-keyword">else</span> {
              <span class="hljs-title function_">resolve</span>({ <span class="hljs-attr">saved</span>: batch.<span class="hljs-property">length</span> - errors.<span class="hljs-property">length</span> });
            }
          }
        };
      });
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">queryBatch</span>(<span class="hljs-params">queryFn, batchSize = <span class="hljs-number">100</span></span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>) <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initDatabase</span>();
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>], <span class="hljs-string">'readonly'</span>);
      <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">storeName</span>);
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">openCursor</span>();
      
      <span class="hljs-keyword">const</span> results = [];
      <span class="hljs-keyword">let</span> processed = <span class="hljs-number">0</span>;
      
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> cursor = event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
        
        <span class="hljs-keyword">if</span> (cursor) {
          <span class="hljs-comment">// åº”ç”¨æŸ¥è¯¢å‡½æ•°</span>
          <span class="hljs-keyword">if</span> (<span class="hljs-title function_">queryFn</span>(cursor.<span class="hljs-property">value</span>)) {
            results.<span class="hljs-title function_">push</span>(cursor.<span class="hljs-property">value</span>);
          }
          
          processed++;
          cursor.<span class="hljs-title function_">continue</span>();
          
          <span class="hljs-comment">// æ‰¹é‡å¤„ç†</span>
          <span class="hljs-keyword">if</span> (processed % batchSize === <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// çŸ­æš‚æš‚åœä»¥é¿å…é˜»å¡ä¸»çº¿ç¨‹</span>
            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {}, <span class="hljs-number">0</span>);
          }
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title function_">resolve</span>(results);
        }
      };
      
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-title function_">reject</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">error</span>);
      };
    });
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> dbProcessor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DatabaseBatchProcessor</span>(<span class="hljs-string">'myDatabase'</span>, <span class="hljs-string">'items'</span>);

<span class="hljs-comment">// æ‰¹é‡æ·»åŠ æ•°æ®</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) {
  dbProcessor.<span class="hljs-title function_">add</span>({
    <span class="hljs-attr">id</span>: i,
    <span class="hljs-attr">name</span>: <span class="hljs-string">`Item <span class="hljs-subst">${i}</span>`</span>,
    <span class="hljs-attr">value</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>(),
    <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
  });
}

<span class="hljs-comment">// æ‰¹é‡æŸ¥è¯¢</span>
dbProcessor.<span class="hljs-title function_">queryBatch</span>(
  <span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item.<span class="hljs-property">value</span> &gt; <span class="hljs-number">0.5</span>,
  <span class="hljs-number">500</span>
).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">results</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Found <span class="hljs-subst">${results.length}</span> items with value &gt; 0.5`</span>);
});
</code></pre>
<h4 data-id="heading-26">ä¹ã€å¯¹è±¡æ± æ¨¡å¼ï¼ˆObject Pool Patternï¼‰</h4>
<h5 data-id="heading-27">9.1 é€šç”¨å¯¹è±¡æ± å®ç°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ObjectPool</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">createFn, options = {}</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> createFn !== <span class="hljs-string">'function'</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'createFn must be a function'</span>);
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">createFn</span> = createFn;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {
      <span class="hljs-attr">maxSize</span>: <span class="hljs-number">100</span>,
      <span class="hljs-attr">minSize</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">validate</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// éªŒè¯å‡½æ•°</span>
      <span class="hljs-attr">reset</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// é‡ç½®å‡½æ•°</span>
      ...options
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span> = {
      <span class="hljs-attr">created</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">reused</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">destroyed</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">peakSize</span>: <span class="hljs-number">0</span>
    };
    
    <span class="hljs-comment">// é¢„åˆ›å»ºå¯¹è±¡</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">prepopulate</span>();
  }

  <span class="hljs-title function_">prepopulate</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> count = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">minSize</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">maxSize</span>);
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; count; i++) {
      <span class="hljs-keyword">const</span> obj = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createNew</span>();
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">push</span>(obj);
    }
  }

  <span class="hljs-title function_">createNew</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> obj = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createFn</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">created</span>++;
    <span class="hljs-keyword">return</span> obj;
  }

  <span class="hljs-title function_">acquire</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> obj;
    
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-comment">// ä»æ± ä¸­è·å–</span>
      obj = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">pop</span>();
      
      <span class="hljs-comment">// éªŒè¯å¯¹è±¡</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">validate</span> &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-title function_">validate</span>(obj)) {
        <span class="hljs-comment">// å¯¹è±¡æ— æ•ˆï¼Œé”€æ¯å¹¶åˆ›å»ºæ–°çš„</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">destroyObject</span>(obj);
        obj = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createNew</span>();
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">reused</span>++;
      }
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// æ± ä¸ºç©ºï¼Œåˆ›å»ºæ–°å¯¹è±¡</span>
      obj = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createNew</span>();
    }
    
    <span class="hljs-comment">// é‡ç½®å¯¹è±¡çŠ¶æ€</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">reset</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-title function_">reset</span>(obj);
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-title function_">add</span>(obj);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">updatePeakSize</span>();
    
    <span class="hljs-keyword">return</span> obj;
  }

  <span class="hljs-title function_">release</span>(<span class="hljs-params">obj</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-title function_">has</span>(obj)) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'Object not active in pool'</span>);
      <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-title function_">delete</span>(obj);
    
    <span class="hljs-comment">// æ£€æŸ¥æ± æ˜¯å¦å·²æ»¡</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">maxSize</span>) {
      <span class="hljs-comment">// é‡ç½®å¯¹è±¡</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">reset</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-title function_">reset</span>(obj);
      }
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">push</span>(obj);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// æ± å·²æ»¡ï¼Œé”€æ¯å¯¹è±¡</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">destroyObject</span>(obj);
    }
  }

  <span class="hljs-title function_">destroyObject</span>(<span class="hljs-params">obj</span>) {
    <span class="hljs-comment">// è°ƒç”¨æ¸…ç†å‡½æ•°ï¼ˆå¦‚æœå­˜åœ¨ï¼‰</span>
    <span class="hljs-keyword">if</span> (obj.<span class="hljs-property">destroy</span> &amp;&amp; <span class="hljs-keyword">typeof</span> obj.<span class="hljs-property">destroy</span> === <span class="hljs-string">'function'</span>) {
      obj.<span class="hljs-title function_">destroy</span>();
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">destroyed</span>++;
  }

  <span class="hljs-title function_">updatePeakSize</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> totalSize = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-property">size</span>;
    <span class="hljs-keyword">if</span> (totalSize &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">peakSize</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">peakSize</span> = totalSize;
    }
  }

  <span class="hljs-title function_">clear</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// é”€æ¯æ‰€æœ‰å¯¹è±¡</span>
    [...<span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>, ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">obj</span> =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">destroyObject</span>(obj);
    });
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-title function_">clear</span>();
  }

  <span class="hljs-title function_">getStats</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>,
      <span class="hljs-attr">poolSize</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span>,
      <span class="hljs-attr">activeSize</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-property">size</span>,
      <span class="hljs-attr">totalSize</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-property">size</span>
    };
  }

  <span class="hljs-comment">// æ‰§è¡Œå‡½æ•°å¹¶è‡ªåŠ¨ç®¡ç†å¯¹è±¡</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">callback</span>) {
    <span class="hljs-keyword">const</span> obj = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">acquire</span>();
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">callback</span>(obj);
      <span class="hljs-keyword">return</span> result;
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">release</span>(obj);
    }
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šDOMå…ƒç´ æ± </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DOMElementPool</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ObjectPool</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">elementType, options = {}</span>) {
    <span class="hljs-variable language_">super</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> element = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(elementType);
      element.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>; <span class="hljs-comment">// åˆå§‹éšè—</span>
      <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(element);
      <span class="hljs-keyword">return</span> element;
    }, options);
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">elementType</span> = elementType;
  }

  <span class="hljs-title function_">acquire</span>(<span class="hljs-params">styles = {}</span>) {
    <span class="hljs-keyword">const</span> element = <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">acquire</span>();
    
    <span class="hljs-comment">// åº”ç”¨æ ·å¼</span>
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(element.<span class="hljs-property">style</span>, {
      <span class="hljs-attr">display</span>: <span class="hljs-string">''</span>,
      ...styles
    });
    
    <span class="hljs-keyword">return</span> element;
  }

  <span class="hljs-title function_">release</span>(<span class="hljs-params">element</span>) {
    <span class="hljs-comment">// éšè—å…ƒç´ </span>
    element.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;
    
    <span class="hljs-comment">// æ¸…é™¤å†…å®¹</span>
    element.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">''</span>;
    
    <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">release</span>(element);
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> divPool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DOMElementPool</span>(<span class="hljs-string">'div'</span>, {
  <span class="hljs-attr">maxSize</span>: <span class="hljs-number">50</span>,
  <span class="hljs-attr">minSize</span>: <span class="hljs-number">10</span>,
  <span class="hljs-attr">reset</span>: <span class="hljs-function">(<span class="hljs-params">div</span>) =&gt;</span> {
    div.<span class="hljs-property">className</span> = <span class="hljs-string">''</span>;
    div.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> = <span class="hljs-string">''</span>;
    div.<span class="hljs-property">textContent</span> = <span class="hljs-string">''</span>;
  }
});

<span class="hljs-comment">// ä½¿ç”¨å¯¹è±¡æ± åˆ›å»ºä¸´æ—¶å…ƒç´ </span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
  <span class="hljs-keyword">const</span> div = divPool.<span class="hljs-title function_">acquire</span>({
    <span class="hljs-attr">position</span>: <span class="hljs-string">'absolute'</span>,
    <span class="hljs-attr">left</span>: <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">100</span>}</span>%`</span>,
    <span class="hljs-attr">top</span>: <span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">100</span>}</span>%`</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-string">'50px'</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-string">'50px'</span>,
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">`hsl(<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">360</span>}</span>, 100%, 50%)`</span>
  });
  
  div.<span class="hljs-property">textContent</span> = i;
  
  <span class="hljs-comment">// æ¨¡æ‹Ÿä½¿ç”¨</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    divPool.<span class="hljs-title function_">release</span>(div);
  }, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">3000</span>);
}

<span class="hljs-comment">// æŸ¥çœ‹ç»Ÿè®¡</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Pool stats:'</span>, divPool.<span class="hljs-title function_">getStats</span>());
}, <span class="hljs-number">5000</span>);
</code></pre>
<h5 data-id="heading-28">9.2 è¿æ¥æ± å®ç°</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ConnectionPool</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">createConnection, options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">createConnection</span> = createConnection;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {
      <span class="hljs-attr">maxConnections</span>: <span class="hljs-number">10</span>,
      <span class="hljs-attr">minConnections</span>: <span class="hljs-number">2</span>,
      <span class="hljs-attr">idleTimeout</span>: <span class="hljs-number">30000</span>, <span class="hljs-comment">// ç©ºé—²è¶…æ—¶æ—¶é—´</span>
      <span class="hljs-attr">acquireTimeout</span>: <span class="hljs-number">5000</span>, <span class="hljs-comment">// è·å–è¿æ¥è¶…æ—¶æ—¶é—´</span>
      <span class="hljs-attr">testOnBorrow</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// è·å–æ—¶æµ‹è¯•è¿æ¥</span>
      ...options
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">waiting</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">timers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span> = {
      <span class="hljs-attr">created</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">destroyed</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">acquired</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">released</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">timeoutErrors</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">connectionErrors</span>: <span class="hljs-number">0</span>
    };
    
    <span class="hljs-comment">// åˆå§‹åŒ–è¿æ¥æ± </span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">init</span>();
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">minConnections</span>; i++) {
      <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createAndAddConnection</span>();
    }
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">createAndAddConnection</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> connection = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createConnection</span>();
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">push</span>({
        connection,
        <span class="hljs-attr">lastUsed</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
        <span class="hljs-attr">valid</span>: <span class="hljs-literal">true</span>
      });
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">created</span>++;
      <span class="hljs-keyword">return</span> connection;
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">connectionErrors</span>++;
      <span class="hljs-keyword">throw</span> error;
    }
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">acquire</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">acquired</span>++;
    
    <span class="hljs-comment">// 1. æ£€æŸ¥ç©ºé—²è¿æ¥</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">const</span> item = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>[i];
      
      <span class="hljs-keyword">if</span> (item.<span class="hljs-property">valid</span>) {
        <span class="hljs-comment">// æ£€æŸ¥è¿æ¥æ˜¯å¦æœ‰æ•ˆ</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">testOnBorrow</span>) {
          <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">testConnection</span>(item.<span class="hljs-property">connection</span>);
          } <span class="hljs-keyword">catch</span> (error) {
            item.<span class="hljs-property">valid</span> = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">continue</span>;
          }
        }
        
        <span class="hljs-comment">// ä»æ± ä¸­ç§»é™¤</span>
        <span class="hljs-keyword">const</span> [acquiredItem] = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-title function_">add</span>(acquiredItem.<span class="hljs-property">connection</span>);
        
        <span class="hljs-comment">// è®¾ç½®æœ€åä½¿ç”¨æ—¶é—´</span>
        acquiredItem.<span class="hljs-property">lastUsed</span> = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
        
        <span class="hljs-keyword">return</span> acquiredItem.<span class="hljs-property">connection</span>;
      }
    }
    
    <span class="hljs-comment">// 2. æ£€æŸ¥æ˜¯å¦å¯ä»¥åˆ›å»ºæ–°è¿æ¥</span>
    <span class="hljs-keyword">const</span> totalConnections = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-property">size</span>;
    <span class="hljs-keyword">if</span> (totalConnections &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">maxConnections</span>) {
      <span class="hljs-keyword">const</span> connection = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createAndAddConnection</span>();
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-title function_">add</span>(connection);
      <span class="hljs-keyword">return</span> connection;
    }
    
    <span class="hljs-comment">// 3. ç­‰å¾…å¯ç”¨è¿æ¥</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> waitStart = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
      
      <span class="hljs-keyword">const</span> waitingRequest = {
        resolve,
        reject,
        <span class="hljs-attr">timer</span>: <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-comment">// è¶…æ—¶å¤„ç†</span>
          <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">waiting</span>.<span class="hljs-title function_">indexOf</span>(waitingRequest);
          <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">waiting</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
          }
          
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">timeoutErrors</span>++;
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Connection acquisition timeout'</span>));
        }, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">acquireTimeout</span>)
      };
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">waiting</span>.<span class="hljs-title function_">push</span>(waitingRequest);
      
      <span class="hljs-comment">// ç«‹å³å°è¯•å¤„ç†ç­‰å¾…é˜Ÿåˆ—</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processWaitingQueue</span>();
    });
  }

  <span class="hljs-title function_">release</span>(<span class="hljs-params">connection</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-title function_">has</span>(connection)) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'Connection not active in pool'</span>);
      <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-title function_">delete</span>(connection);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">released</span>++;
    
    <span class="hljs-comment">// æ£€æŸ¥è¿æ¥æ˜¯å¦ä»ç„¶æœ‰æ•ˆ</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isConnectionValid</span>(connection)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">push</span>({
        connection,
        <span class="hljs-attr">lastUsed</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
        <span class="hljs-attr">valid</span>: <span class="hljs-literal">true</span>
      });
      
      <span class="hljs-comment">// æ¸…ç†ç©ºé—²è¶…æ—¶çš„è¿æ¥</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cleanupIdleConnections</span>();
      
      <span class="hljs-comment">// å¤„ç†ç­‰å¾…é˜Ÿåˆ—</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processWaitingQueue</span>();
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// è¿æ¥æ— æ•ˆï¼Œé”€æ¯</span>
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">destroyConnection</span>(connection);
    }
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">testConnection</span>(<span class="hljs-params">connection</span>) {
    <span class="hljs-comment">// é»˜è®¤å®ç°ï¼Œå­ç±»åº”è¯¥è¦†ç›–è¿™ä¸ªæ–¹æ³•</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>();
  }

  <span class="hljs-title function_">isConnectionValid</span>(<span class="hljs-params">connection</span>) {
    <span class="hljs-comment">// é»˜è®¤å®ç°ï¼Œå­ç±»åº”è¯¥è¦†ç›–è¿™ä¸ªæ–¹æ³•</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }

  <span class="hljs-title function_">destroyConnection</span>(<span class="hljs-params">connection</span>) {
    <span class="hljs-comment">// æ¸…ç†è¿æ¥èµ„æº</span>
    <span class="hljs-keyword">if</span> (connection.<span class="hljs-property">destroy</span> &amp;&amp; <span class="hljs-keyword">typeof</span> connection.<span class="hljs-property">destroy</span> === <span class="hljs-string">'function'</span>) {
      connection.<span class="hljs-title function_">destroy</span>();
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (connection.<span class="hljs-property">close</span> &amp;&amp; <span class="hljs-keyword">typeof</span> connection.<span class="hljs-property">close</span> === <span class="hljs-string">'function'</span>) {
      connection.<span class="hljs-title function_">close</span>();
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">destroyed</span>++;
  }

  <span class="hljs-title function_">cleanupIdleConnections</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> idleTimeout = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">idleTimeout</span>;
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
      <span class="hljs-keyword">const</span> item = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>[i];
      
      <span class="hljs-comment">// æ£€æŸ¥ç©ºé—²æ—¶é—´</span>
      <span class="hljs-keyword">if</span> (now - item.<span class="hljs-property">lastUsed</span> &gt; idleTimeout) {
        <span class="hljs-comment">// ä¿ç•™æœ€å°è¿æ¥æ•°</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">minConnections</span>) {
          <span class="hljs-keyword">const</span> [idleItem] = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>);
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">destroyConnection</span>(idleItem.<span class="hljs-property">connection</span>);
        }
      }
    }
  }

  <span class="hljs-title function_">processWaitingQueue</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">while</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">waiting</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">const</span> waitingRequest = <span class="hljs-variable language_">this</span>.<span class="hljs-property">waiting</span>.<span class="hljs-title function_">shift</span>();
      <span class="hljs-built_in">clearTimeout</span>(waitingRequest.<span class="hljs-property">timer</span>);
      
      <span class="hljs-comment">// è·å–è¿æ¥</span>
      <span class="hljs-keyword">const</span> item = <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-title function_">pop</span>();
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-title function_">add</span>(item.<span class="hljs-property">connection</span>);
      item.<span class="hljs-property">lastUsed</span> = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
      
      waitingRequest.<span class="hljs-title function_">resolve</span>(item.<span class="hljs-property">connection</span>);
    }
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">callback</span>) {
    <span class="hljs-keyword">const</span> connection = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">acquire</span>();
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">callback</span>(connection);
      <span class="hljs-keyword">return</span> result;
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">release</span>(connection);
    }
  }

  <span class="hljs-title function_">getStats</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>,
      <span class="hljs-attr">poolSize</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span>,
      <span class="hljs-attr">activeSize</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-property">size</span>,
      <span class="hljs-attr">waitingSize</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">waiting</span>.<span class="hljs-property">length</span>,
      <span class="hljs-attr">totalSize</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>.<span class="hljs-property">length</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-property">size</span>
    };
  }

  <span class="hljs-title function_">clear</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ¸…ç†æ‰€æœ‰è¿æ¥</span>
    [...<span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span>, ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">destroyConnection</span>(item.<span class="hljs-property">connection</span> || item);
    });
    
    <span class="hljs-comment">// æ¸…ç†ç­‰å¾…é˜Ÿåˆ—</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">waiting</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">request</span> =&gt;</span> {
      <span class="hljs-built_in">clearTimeout</span>(request.<span class="hljs-property">timer</span>);
      request.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Pool cleared'</span>));
    });
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">pool</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">active</span>.<span class="hljs-title function_">clear</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">waiting</span> = [];
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹ï¼šWebSocketè¿æ¥æ± </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">WebSocketPool</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">ConnectionPool</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">url, options = {}</span>) {
    <span class="hljs-variable language_">super</span>(<span class="hljs-keyword">async</span> () =&gt; {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> ws = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(url);
        
        ws.<span class="hljs-property">onopen</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(ws);
        ws.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-title function_">reject</span>(error);
      });
    }, options);
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">url</span> = url;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">testConnection</span>(<span class="hljs-params">ws</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (ws.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span>) {
        <span class="hljs-title function_">resolve</span>();
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ws.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">CONNECTING</span>) {
        <span class="hljs-comment">// ç­‰å¾…è¿æ¥</span>
        <span class="hljs-keyword">const</span> <span class="hljs-title function_">onOpen</span> = (<span class="hljs-params"/>) =&gt; {
          ws.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'open'</span>, onOpen);
          <span class="hljs-title function_">resolve</span>();
        };
        
        <span class="hljs-keyword">const</span> <span class="hljs-title function_">onError</span> = (<span class="hljs-params"/>) =&gt; {
          ws.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'error'</span>, onError);
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'WebSocket connection failed'</span>));
        };
        
        ws.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'open'</span>, onOpen);
        ws.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'error'</span>, onError);
        
        <span class="hljs-comment">// è¶…æ—¶</span>
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          ws.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'open'</span>, onOpen);
          ws.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'error'</span>, onError);
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'WebSocket connection timeout'</span>));
        }, <span class="hljs-number">5000</span>);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'WebSocket is not open'</span>));
      }
    });
  }

  <span class="hljs-title function_">isConnectionValid</span>(<span class="hljs-params">ws</span>) {
    <span class="hljs-keyword">return</span> ws.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span>;
  }

  <span class="hljs-title function_">destroyConnection</span>(<span class="hljs-params">ws</span>) {
    <span class="hljs-keyword">if</span> (ws.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span> || ws.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">CONNECTING</span>) {
      ws.<span class="hljs-title function_">close</span>();
    }
    <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">destroyConnection</span>(ws);
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> wsPool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocketPool</span>(<span class="hljs-string">'wss://echo.websocket.org'</span>, {
  <span class="hljs-attr">maxConnections</span>: <span class="hljs-number">5</span>,
  <span class="hljs-attr">minConnections</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">idleTimeout</span>: <span class="hljs-number">60000</span>
});

<span class="hljs-comment">// ä½¿ç”¨è¿æ¥æ± å‘é€æ¶ˆæ¯</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">sendMessage</span>(<span class="hljs-params">message</span>) {
  <span class="hljs-keyword">return</span> wsPool.<span class="hljs-title function_">execute</span>(<span class="hljs-keyword">async</span> (ws) =&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> messageId = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
      
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">handler</span> = (<span class="hljs-params">event</span>) =&gt; {
        <span class="hljs-keyword">try</span> {
          <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>);
          <span class="hljs-keyword">if</span> (data.<span class="hljs-property">id</span> === messageId) {
            ws.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'message'</span>, handler);
            <span class="hljs-title function_">resolve</span>(data);
          }
        } <span class="hljs-keyword">catch</span> (error) {
          <span class="hljs-comment">// å¿½ç•¥è§£æé”™è¯¯</span>
        }
      };
      
      ws.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, handler);
      
      <span class="hljs-comment">// è®¾ç½®è¶…æ—¶</span>
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        ws.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'message'</span>, handler);
        <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Message timeout'</span>));
      }, <span class="hljs-number">5000</span>);
      
      <span class="hljs-comment">// å‘é€æ¶ˆæ¯</span>
      ws.<span class="hljs-title function_">send</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
        <span class="hljs-attr">id</span>: messageId,
        message
      }));
    });
  });
}

<span class="hljs-comment">// å¹¶å‘å‘é€æ¶ˆæ¯</span>
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([
  <span class="hljs-title function_">sendMessage</span>(<span class="hljs-string">'Hello 1'</span>),
  <span class="hljs-title function_">sendMessage</span>(<span class="hljs-string">'Hello 2'</span>),
  <span class="hljs-title function_">sendMessage</span>(<span class="hljs-string">'Hello 3'</span>),
  <span class="hljs-title function_">sendMessage</span>(<span class="hljs-string">'Hello 4'</span>),
  <span class="hljs-title function_">sendMessage</span>(<span class="hljs-string">'Hello 5'</span>)
]).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">responses</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'All messages sent:'</span>, responses);
});
</code></pre>
<h4 data-id="heading-29">åã€Web Workerä¼˜åŒ–è®¡ç®—å¯†é›†å‹ä»»åŠ¡</h4>
<h5 data-id="heading-30">10.1 æ™ºèƒ½Workeræ± </h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">WorkerPool</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">workerScript, options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerScript</span> = workerScript;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = {
      <span class="hljs-attr">maxWorkers</span>: navigator.<span class="hljs-property">hardwareConcurrency</span> || <span class="hljs-number">4</span>,
      <span class="hljs-attr">idleTimeout</span>: <span class="hljs-number">30000</span>, <span class="hljs-comment">// ç©ºé—²è¶…æ—¶æ—¶é—´</span>
      ...options
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">idleWorkers</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskCallbacks</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerStates</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span> = {
      <span class="hljs-attr">tasksCompleted</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">tasksFailed</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">workersCreated</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">workersDestroyed</span>: <span class="hljs-number">0</span>
    };
    
    <span class="hljs-comment">// åˆå§‹åŒ–Worker</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initWorkers</span>();
  }

  <span class="hljs-title function_">initWorkers</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> initialCount = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-number">2</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">maxWorkers</span>);
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; initialCount; i++) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createWorker</span>();
    }
  }

  <span class="hljs-title function_">createWorker</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-property">length</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">maxWorkers</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    
    <span class="hljs-keyword">let</span> worker;
    
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerScript</span> === <span class="hljs-string">'string'</span>) {
      worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">workerScript</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerScript</span> === <span class="hljs-string">'function'</span>) {
      <span class="hljs-comment">// ä»å‡½æ•°åˆ›å»ºWorker</span>
      <span class="hljs-keyword">const</span> workerBlob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([
        <span class="hljs-string">`(<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.workerScript.toString()}</span>)()`</span>
      ], { <span class="hljs-attr">type</span>: <span class="hljs-string">'application/javascript'</span> });
      
      worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">createObjectURL</span>(workerBlob));
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'workerScript must be a URL string or a function'</span>);
    }
    
    <span class="hljs-keyword">const</span> workerId = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-property">length</span>;
    worker.<span class="hljs-property">id</span> = workerId;
    
    <span class="hljs-comment">// è®¾ç½®æ¶ˆæ¯å¤„ç†</span>
    worker.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleWorkerMessage</span>(workerId, event);
    };
    
    worker.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleWorkerError</span>(workerId, error);
    };
    
    worker.<span class="hljs-property">onmessageerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleWorkerError</span>(workerId, error);
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">push</span>(worker);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">idleWorkers</span>.<span class="hljs-title function_">push</span>(workerId);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerStates</span>.<span class="hljs-title function_">set</span>(workerId, {
      <span class="hljs-attr">idle</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">currentTask</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-attr">lastUsed</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
    });
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">workersCreated</span>++;
    
    <span class="hljs-keyword">return</span> workerId;
  }

  <span class="hljs-title function_">handleWorkerMessage</span>(<span class="hljs-params">workerId, event</span>) {
    <span class="hljs-keyword">const</span> state = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerStates</span>.<span class="hljs-title function_">get</span>(workerId);
    <span class="hljs-keyword">if</span> (!state || !state.<span class="hljs-property">currentTask</span>) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-keyword">const</span> taskId = state.<span class="hljs-property">currentTask</span>;
    <span class="hljs-keyword">const</span> callback = <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskCallbacks</span>.<span class="hljs-title function_">get</span>(taskId);
    
    <span class="hljs-keyword">if</span> (callback) {
      <span class="hljs-keyword">if</span> (event.<span class="hljs-property">data</span>.<span class="hljs-property">error</span>) {
        callback.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(event.<span class="hljs-property">data</span>.<span class="hljs-property">error</span>));
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">tasksFailed</span>++;
      } <span class="hljs-keyword">else</span> {
        callback.<span class="hljs-title function_">resolve</span>(event.<span class="hljs-property">data</span>.<span class="hljs-property">result</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">tasksCompleted</span>++;
      }
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskCallbacks</span>.<span class="hljs-title function_">delete</span>(taskId);
    }
    
    <span class="hljs-comment">// æ ‡è®°Workerä¸ºç©ºé—²</span>
    state.<span class="hljs-property">idle</span> = <span class="hljs-literal">true</span>;
    state.<span class="hljs-property">currentTask</span> = <span class="hljs-literal">null</span>;
    state.<span class="hljs-property">lastUsed</span> = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">idleWorkers</span>.<span class="hljs-title function_">push</span>(workerId);
    
    <span class="hljs-comment">// å¤„ç†ä¸‹ä¸€ä¸ªä»»åŠ¡</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processQueue</span>();
    
    <span class="hljs-comment">// æ¸…ç†ç©ºé—²è¶…æ—¶çš„Worker</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">cleanupIdleWorkers</span>();
  }

  <span class="hljs-title function_">handleWorkerError</span>(<span class="hljs-params">workerId, error</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Worker <span class="hljs-subst">${workerId}</span> error:`</span>, error);
    
    <span class="hljs-keyword">const</span> state = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerStates</span>.<span class="hljs-title function_">get</span>(workerId);
    <span class="hljs-keyword">if</span> (state &amp;&amp; state.<span class="hljs-property">currentTask</span>) {
      <span class="hljs-keyword">const</span> taskId = state.<span class="hljs-property">currentTask</span>;
      <span class="hljs-keyword">const</span> callback = <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskCallbacks</span>.<span class="hljs-title function_">get</span>(taskId);
      
      <span class="hljs-keyword">if</span> (callback) {
        callback.<span class="hljs-title function_">reject</span>(error);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">tasksFailed</span>++;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskCallbacks</span>.<span class="hljs-title function_">delete</span>(taskId);
      }
    }
    
    <span class="hljs-comment">// é”€æ¯Worker</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">destroyWorker</span>(workerId);
    
    <span class="hljs-comment">// åˆ›å»ºæ–°çš„Workeræ›¿æ¢</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createWorker</span>();
    
    <span class="hljs-comment">// å¤„ç†é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processQueue</span>();
  }

  <span class="hljs-title function_">destroyWorker</span>(<span class="hljs-params">workerId</span>) {
    <span class="hljs-keyword">const</span> workerIndex = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">w</span> =&gt;</span> w.<span class="hljs-property">id</span> === workerId);
    <span class="hljs-keyword">if</span> (workerIndex === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-keyword">const</span> worker = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>[workerIndex];
    
    <span class="hljs-comment">// ç»ˆæ­¢Worker</span>
    worker.<span class="hljs-title function_">terminate</span>();
    
    <span class="hljs-comment">// ä»æ•°ç»„ä¸­ç§»é™¤</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">splice</span>(workerIndex, <span class="hljs-number">1</span>);
    
    <span class="hljs-comment">// æ›´æ–°å…¶ä»–Workerçš„ID</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">w, index</span>) =&gt;</span> {
      w.<span class="hljs-property">id</span> = index;
    });
    
    <span class="hljs-comment">// æ¸…ç†çŠ¶æ€</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerStates</span>.<span class="hljs-title function_">delete</span>(workerId);
    
    <span class="hljs-comment">// ä»ç©ºé—²åˆ—è¡¨ä¸­ç§»é™¤</span>
    <span class="hljs-keyword">const</span> idleIndex = <span class="hljs-variable language_">this</span>.<span class="hljs-property">idleWorkers</span>.<span class="hljs-title function_">indexOf</span>(workerId);
    <span class="hljs-keyword">if</span> (idleIndex &gt; -<span class="hljs-number">1</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">idleWorkers</span>.<span class="hljs-title function_">splice</span>(idleIndex, <span class="hljs-number">1</span>);
    }
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>.<span class="hljs-property">workersDestroyed</span>++;
  }

  <span class="hljs-title function_">cleanupIdleWorkers</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> idleTimeout = <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">idleTimeout</span>;
    
    <span class="hljs-comment">// ä¿ç•™è‡³å°‘ä¸€ä¸ªWorker</span>
    <span class="hljs-keyword">while</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">idleWorkers</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">1</span>) {
      <span class="hljs-keyword">const</span> workerId = <span class="hljs-variable language_">this</span>.<span class="hljs-property">idleWorkers</span>[<span class="hljs-number">0</span>];
      <span class="hljs-keyword">const</span> state = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerStates</span>.<span class="hljs-title function_">get</span>(workerId);
      
      <span class="hljs-keyword">if</span> (state &amp;&amp; now - state.<span class="hljs-property">lastUsed</span> &gt; idleTimeout) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">destroyWorker</span>(workerId);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">break</span>;
      }
    }
  }

  <span class="hljs-title function_">processQueue</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">while</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">idleWorkers</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">const</span> task = <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-title function_">shift</span>();
      <span class="hljs-keyword">const</span> workerId = <span class="hljs-variable language_">this</span>.<span class="hljs-property">idleWorkers</span>.<span class="hljs-title function_">shift</span>();
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">executeTask</span>(workerId, task);
    }
    
    <span class="hljs-comment">// å¦‚æœæ²¡æœ‰ç©ºé—²Workerä½†æœ‰ä»»åŠ¡ï¼Œè€ƒè™‘åˆ›å»ºæ–°Worker</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-property">length</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>.<span class="hljs-property">maxWorkers</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createWorker</span>();
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processQueue</span>();
    }
  }

  <span class="hljs-title function_">executeTask</span>(<span class="hljs-params">workerId, task</span>) {
    <span class="hljs-keyword">const</span> worker = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">w</span> =&gt;</span> w.<span class="hljs-property">id</span> === workerId);
    <span class="hljs-keyword">if</span> (!worker) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-keyword">const</span> state = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerStates</span>.<span class="hljs-title function_">get</span>(workerId);
    <span class="hljs-keyword">if</span> (!state) <span class="hljs-keyword">return</span>;
    
    state.<span class="hljs-property">idle</span> = <span class="hljs-literal">false</span>;
    state.<span class="hljs-property">currentTask</span> = task.<span class="hljs-property">id</span>;
    state.<span class="hljs-property">lastUsed</span> = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    
    worker.<span class="hljs-title function_">postMessage</span>({
      <span class="hljs-attr">taskId</span>: task.<span class="hljs-property">id</span>,
      <span class="hljs-attr">data</span>: task.<span class="hljs-property">data</span>,
      <span class="hljs-attr">type</span>: task.<span class="hljs-property">type</span>
    });
  }

  <span class="hljs-title function_">runTask</span>(<span class="hljs-params">data, type = <span class="hljs-string">'default'</span></span>) {
    <span class="hljs-keyword">const</span> taskId = <span class="hljs-string">`task_<span class="hljs-subst">${<span class="hljs-built_in">Date</span>.now()}</span>_<span class="hljs-subst">${<span class="hljs-built_in">Math</span>.random().toString(<span class="hljs-number">36</span>).substr(<span class="hljs-number">2</span>)}</span>`</span>;
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> task = {
        <span class="hljs-attr">id</span>: taskId,
        data,
        type
      };
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskCallbacks</span>.<span class="hljs-title function_">set</span>(taskId, { resolve, reject });
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-title function_">push</span>(task);
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processQueue</span>();
    });
  }

  <span class="hljs-comment">// æ‰¹é‡æ‰§è¡Œä»»åŠ¡</span>
  <span class="hljs-title function_">runTasks</span>(<span class="hljs-params">tasks, type = <span class="hljs-string">'default'</span></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
      tasks.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">taskData</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">runTask</span>(taskData, type))
    );
  }

  <span class="hljs-comment">// æ‰§è¡Œå‡½æ•°å¹¶è‡ªåŠ¨æ¸…ç†</span>
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">data, processor</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> processor !== <span class="hljs-string">'function'</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Processor must be a function'</span>);
    }
    
    <span class="hljs-comment">// å°†å¤„ç†å™¨å‡½æ•°å‘é€åˆ°Worker</span>
    <span class="hljs-keyword">const</span> taskId = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">runTask</span>({
      data,
      <span class="hljs-attr">processor</span>: processor.<span class="hljs-title function_">toString</span>()
    }, <span class="hljs-string">'function'</span>);
    
    <span class="hljs-keyword">return</span> taskId;
  }

  <span class="hljs-title function_">getStats</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> {
      ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">stats</span>,
      <span class="hljs-attr">workers</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-property">length</span>,
      <span class="hljs-attr">idleWorkers</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">idleWorkers</span>.<span class="hljs-property">length</span>,
      <span class="hljs-attr">activeWorkers</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-property">length</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">idleWorkers</span>.<span class="hljs-property">length</span>,
      <span class="hljs-attr">queuedTasks</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-property">length</span>,
      <span class="hljs-attr">activeTasks</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskCallbacks</span>.<span class="hljs-property">size</span>
    };
  }

  <span class="hljs-title function_">terminate</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ç»ˆæ­¢æ‰€æœ‰Worker</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">worker</span> =&gt;</span> {
      worker.<span class="hljs-title function_">terminate</span>();
    });
    
    <span class="hljs-comment">// æ¸…ç†æ‰€æœ‰ä»»åŠ¡</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskCallbacks</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">{ reject }</span>) =&gt;</span> {
      <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Worker pool terminated'</span>));
    });
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">idleWorkers</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskCallbacks</span>.<span class="hljs-title function_">clear</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workerStates</span>.<span class="hljs-title function_">clear</span>();
  }
}

<span class="hljs-comment">// Workerè„šæœ¬ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> workerScript = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// Workerå†…éƒ¨ä»£ç </span>
  self.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-keyword">const</span> { taskId, data, type } = event.<span class="hljs-property">data</span>;
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">let</span> result;
      
      <span class="hljs-keyword">switch</span> (type) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'function'</span>:
          <span class="hljs-comment">// æ‰§è¡Œä¼ å…¥çš„å‡½æ•°</span>
          <span class="hljs-keyword">const</span> { <span class="hljs-attr">data</span>: taskData, processor } = data;
          <span class="hljs-keyword">const</span> func = <span class="hljs-built_in">eval</span>(<span class="hljs-string">`(<span class="hljs-subst">${processor}</span>)`</span>);
          result = <span class="hljs-title function_">func</span>(taskData);
          <span class="hljs-keyword">break</span>;
          
        <span class="hljs-keyword">case</span> <span class="hljs-string">'calculate'</span>:
          <span class="hljs-comment">// è®¡ç®—å¯†é›†å‹ä»»åŠ¡</span>
          result = <span class="hljs-title function_">expensiveCalculation</span>(data);
          <span class="hljs-keyword">break</span>;
          
        <span class="hljs-keyword">case</span> <span class="hljs-string">'process'</span>:
          <span class="hljs-comment">// æ•°æ®å¤„ç†ä»»åŠ¡</span>
          result = <span class="hljs-title function_">processData</span>(data);
          <span class="hljs-keyword">break</span>;
          
        <span class="hljs-attr">default</span>:
          result = data;
      }
      
      self.<span class="hljs-title function_">postMessage</span>({ taskId, result });
    } <span class="hljs-keyword">catch</span> (error) {
      self.<span class="hljs-title function_">postMessage</span>({ 
        taskId, 
        <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> || <span class="hljs-string">'Unknown error'</span> 
      });
    }
  };
  
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">expensiveCalculation</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-keyword">let</span> result = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">iterations</span> || <span class="hljs-number">1000000</span>; i++) {
      result += <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(i) * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(i);
    }
    <span class="hljs-keyword">return</span> result;
  }
  
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-comment">// æ•°æ®å¤„ç†é€»è¾‘</span>
    <span class="hljs-keyword">return</span> data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> ({
      ...item,
      <span class="hljs-attr">processed</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
    }));
  }
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> workerPool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WorkerPool</span>(workerScript, {
  <span class="hljs-attr">maxWorkers</span>: <span class="hljs-number">4</span>,
  <span class="hljs-attr">idleTimeout</span>: <span class="hljs-number">60000</span>
});

<span class="hljs-comment">// æ‰§è¡Œè®¡ç®—å¯†é›†å‹ä»»åŠ¡</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">runCalculations</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> tasks = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">10</span> }, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> ({
    <span class="hljs-attr">iterations</span>: <span class="hljs-number">1000000</span> * (i + <span class="hljs-number">1</span>)
  }));
  
  <span class="hljs-keyword">const</span> startTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
  
  <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> workerPool.<span class="hljs-title function_">runTasks</span>(tasks, <span class="hljs-string">'calculate'</span>);
  
  <span class="hljs-keyword">const</span> endTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Calculations completed in <span class="hljs-subst">${endTime - startTime}</span>ms`</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Results:'</span>, results);
  
  <span class="hljs-keyword">return</span> results;
}

<span class="hljs-comment">// æ‰§è¡Œå‡½æ•°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">runCustomFunction</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">processor</span> = (<span class="hljs-params">data</span>) =&gt; {
    <span class="hljs-comment">// è¿™æ˜¯åœ¨Workerä¸­æ‰§è¡Œçš„å‡½æ•°</span>
    <span class="hljs-keyword">let</span> sum = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; data.<span class="hljs-property">length</span>; i++) {
      sum += data[i] * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(data[i]);
    }
    <span class="hljs-keyword">return</span> sum;
  };
  
  <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">1000000</span> }, <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>());
  
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> workerPool.<span class="hljs-title function_">execute</span>(data, processor);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Custom function result:'</span>, result);
}

<span class="hljs-comment">// ç›‘æ§ç»Ÿè®¡</span>
<span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Worker pool stats:'</span>, workerPool.<span class="hljs-title function_">getStats</span>());
}, <span class="hljs-number">5000</span>);
</code></pre>
<h5 data-id="heading-31">10.2 ä¸“ç”¨Workerä¼˜åŒ–</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ImageProcessingWorker</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">worker</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createWorker</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">nextTaskId</span> = <span class="hljs-number">1</span>;
  }

  <span class="hljs-title function_">createWorker</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> workerCode = <span class="hljs-string">`
      self.onmessage = function(event) {
        const { taskId, operation, imageData, params } = event.data;
        
        try {
          let result;
          
          switch (operation) {
            case 'resize':
              result = resizeImage(imageData, params);
              break;
              
            case 'filter':
              result = applyFilter(imageData, params);
              break;
              
            case 'compress':
              result = compressImage(imageData, params);
              break;
              
            default:
              throw new Error('Unknown operation: ' + operation);
          }
          
          self.postMessage({ taskId, result }, [result]);
        } catch (error) {
          self.postMessage({ taskId, error: error.message });
        }
      };
      
      function resizeImage(imageData, { width, height, quality = 0.9 }) {
        // åˆ›å»ºç¦»å±Canvas
        const canvas = new OffscreenCanvas(width, height);
        const ctx = canvas.getContext('2d');
        
        // ç»˜åˆ¶å¹¶ç¼©æ”¾å›¾åƒ
        ctx.drawImage(imageData, 0, 0, width, height);
        
        // è½¬æ¢ä¸ºBlob
        return canvas.convertToBlob({ quality });
      }
      
      function applyFilter(imageData, { filter, intensity = 1 }) {
        const canvas = new OffscreenCanvas(
          imageData.width, 
          imageData.height
        );
        const ctx = canvas.getContext('2d');
        
        ctx.drawImage(imageData, 0, 0);
        
        const imageDataObj = ctx.getImageData(
          0, 0, 
          canvas.width, 
          canvas.height
        );
        
        // åº”ç”¨æ»¤é•œ
        const data = imageDataObj.data;
        for (let i = 0; i &lt; data.length; i += 4) {
          // ç®€å•ç°åº¦æ»¤é•œç¤ºä¾‹
          if (filter === 'grayscale') {
            const avg = (data[i] + data[i + 1] + data[i + 2]) / 3;
            data[i] = data[i + 1] = data[i + 2] = avg;
          }
          // æ›´å¤šæ»¤é•œ...
        }
        
        ctx.putImageData(imageDataObj, 0, 0);
        
        return canvas.convertToBlob();
      }
      
      function compressImage(imageData, { quality = 0.7 }) {
        const canvas = new OffscreenCanvas(
          imageData.width, 
          imageData.height
        );
        const ctx = canvas.getContext('2d');
        
        ctx.drawImage(imageData, 0, 0);
        
        return canvas.convertToBlob({ quality });
      }
    `</span>;
    
    <span class="hljs-keyword">const</span> blob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>([workerCode], { <span class="hljs-attr">type</span>: <span class="hljs-string">'application/javascript'</span> });
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">createObjectURL</span>(blob));
  }

  <span class="hljs-title function_">processImage</span>(<span class="hljs-params">imageElement, operation, params = {}</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> taskId = <span class="hljs-variable language_">this</span>.<span class="hljs-property">nextTaskId</span>++;
      
      <span class="hljs-comment">// åˆ›å»ºCanvasæ¥è·å–ImageData</span>
      <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'canvas'</span>);
      canvas.<span class="hljs-property">width</span> = imageElement.<span class="hljs-property">width</span>;
      canvas.<span class="hljs-property">height</span> = imageElement.<span class="hljs-property">height</span>;
      
      <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">'2d'</span>);
      ctx.<span class="hljs-title function_">drawImage</span>(imageElement, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
      
      <span class="hljs-comment">// è·å–ImageData</span>
      <span class="hljs-keyword">const</span> imageData = ctx.<span class="hljs-title function_">getImageData</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>, canvas.<span class="hljs-property">height</span>);
      
      <span class="hljs-comment">// åˆ›å»ºImageBitmapï¼ˆæ›´é«˜æ•ˆï¼‰</span>
      <span class="hljs-title function_">createImageBitmap</span>(imageElement).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">imageBitmap</span> =&gt;</span> {
        <span class="hljs-comment">// å­˜å‚¨å›è°ƒ</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-title function_">set</span>(taskId, { resolve, reject });
        
        <span class="hljs-comment">// å‘é€ä»»åŠ¡åˆ°Worker</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">worker</span>.<span class="hljs-title function_">postMessage</span>({
          taskId,
          operation,
          <span class="hljs-attr">imageData</span>: imageBitmap,
          params
        }, [imageBitmap]);
      });
    });
  }

  <span class="hljs-title function_">destroy</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">worker</span>.<span class="hljs-title function_">terminate</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-title function_">clear</span>();
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> imageProcessor = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ImageProcessingWorker</span>();

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">processUserImage</span>(<span class="hljs-params">imageFile</span>) {
  <span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();
  img.<span class="hljs-property">src</span> = <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">createObjectURL</span>(imageFile);
  
  <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
    img.<span class="hljs-property">onload</span> = resolve;
  });
  
  <span class="hljs-comment">// è°ƒæ•´å¤§å°</span>
  <span class="hljs-keyword">const</span> resized = <span class="hljs-keyword">await</span> imageProcessor.<span class="hljs-title function_">processImage</span>(img, <span class="hljs-string">'resize'</span>, {
    <span class="hljs-attr">width</span>: <span class="hljs-number">800</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">600</span>,
    <span class="hljs-attr">quality</span>: <span class="hljs-number">0.8</span>
  });
  
  <span class="hljs-comment">// åº”ç”¨æ»¤é•œ</span>
  <span class="hljs-keyword">const</span> filtered = <span class="hljs-keyword">await</span> imageProcessor.<span class="hljs-title function_">processImage</span>(img, <span class="hljs-string">'filter'</span>, {
    <span class="hljs-attr">filter</span>: <span class="hljs-string">'grayscale'</span>,
    <span class="hljs-attr">intensity</span>: <span class="hljs-number">1</span>
  });
  
  <span class="hljs-comment">// å‹ç¼©</span>
  <span class="hljs-keyword">const</span> compressed = <span class="hljs-keyword">await</span> imageProcessor.<span class="hljs-title function_">processImage</span>(img, <span class="hljs-string">'compress'</span>, {
    <span class="hljs-attr">quality</span>: <span class="hljs-number">0.6</span>
  });
  
  <span class="hljs-keyword">return</span> {
    resized,
    filtered,
    compressed
  };
}
</code></pre>
<h4 data-id="heading-32">åä¸€ã€æœ€ä½³å®è·µä¸æ€§èƒ½åŸåˆ™</h4>
<h5 data-id="heading-33">11.1 æ€§èƒ½ä¼˜åŒ–é»„é‡‘æ³•åˆ™</h5>
<ol>
<li>æµ‹é‡ç¬¬ä¸€ï¼Œä¼˜åŒ–ç¬¬äºŒ</li>
</ol>
<ul>
<li>ä½¿ç”¨Performance APIæµ‹é‡å…³é”®æŒ‡æ ‡</li>
<li>ä¼˜å…ˆä¼˜åŒ–ç“¶é¢ˆï¼Œè€Œéå¾®è§‚ä¼˜åŒ–</li>
<li>å»ºç«‹æ€§èƒ½åŸºå‡†çº¿</li>
</ul>
<ol start="2">
<li>å»¶è¿ŸåŠ è½½ä¸€åˆ‡å¯èƒ½çš„å†…å®¹</li>
</ol>
<ul>
<li>å›¾ç‰‡ã€è§†é¢‘ã€ç¬¬ä¸‰æ–¹è„šæœ¬</li>
<li>éå…³é”®CSSå’ŒJavaScript</li>
<li>è·¯ç”±çº§ä»£ç åˆ†å‰²</li>
</ul>
<ol start="3">
<li>ç¼“å­˜ä¸€åˆ‡å¯èƒ½çš„å†…å®¹</li>
</ol>
<ul>
<li>HTTPç¼“å­˜ç­–ç•¥</li>
<li>å†…å­˜ç¼“å­˜é¢‘ç¹ä½¿ç”¨çš„æ•°æ®</li>
<li>æŒä¹…åŒ–ç¼“å­˜é‡è¦æ•°æ®</li>
</ul>
<ol start="4">
<li>æ‰¹é‡å¤„ç†æ“ä½œ</li>
</ol>
<ul>
<li>DOMæ“ä½œæ‰¹é‡æ›´æ–°</li>
<li>ç½‘ç»œè¯·æ±‚åˆå¹¶</li>
<li>çŠ¶æ€æ›´æ–°åˆå¹¶</li>
</ul>
<ol start="5">
<li>é¿å…é˜»å¡ä¸»çº¿ç¨‹</li>
</ol>
<ul>
<li>é•¿æ—¶é—´ä»»åŠ¡ä½¿ç”¨Web Worker</li>
<li>å¤æ‚è®¡ç®—ä½¿ç”¨æ—¶é—´åˆ‡ç‰‡</li>
<li>é¿å…åŒæ­¥çš„é˜»å¡æ“ä½œ</li>
</ul>
<h5 data-id="heading-34">11.2 æ‰‹å†™å®ç°çš„ä¼˜åŠ¿</h5>
<ol>
<li><strong>ç²¾ç»†æ§åˆ¶</strong></li>
</ol>
<ul>
<li>å¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚å®šåˆ¶ä¼˜åŒ–ç­–ç•¥</li>
<li>é¿å…é€šç”¨åº“çš„å†—ä½™ä»£ç </li>
</ul>
<ol start="2">
<li><strong>æ›´å¥½çš„ç†è§£</strong></li>
</ol>
<ul>
<li>æ·±å…¥ç†è§£æ€§èƒ½é—®é¢˜çš„æœ¬è´¨</li>
<li>æŒæ¡åº•å±‚ä¼˜åŒ–åŸç†</li>
</ul>
<ol start="3">
<li><strong>æ›´å°çš„åŒ…ä½“ç§¯</strong></li>
</ol>
<ul>
<li>åªåŒ…å«éœ€è¦çš„åŠŸèƒ½</li>
<li>é¿å…ä¾èµ–å¤§å‹åº“</li>
</ul>
<ol start="4">
<li><strong>æ›´å¥½çš„å¯è°ƒè¯•æ€§</strong></li>
</ol>
<ul>
<li>å®Œå…¨æ§åˆ¶ä»£ç æµç¨‹</li>
<li>æ›´å®¹æ˜“æ·»åŠ æ—¥å¿—å’Œç›‘æ§</li>
</ul>
<h5 data-id="heading-35">11.3 æŒç»­ä¼˜åŒ–æµç¨‹</h5>
<ol>
<li><strong>å»ºç«‹æ€§èƒ½æ–‡åŒ–</strong></li>
</ol>
<ul>
<li>æ€§èƒ½ä½œä¸ºæ ¸å¿ƒéœ€æ±‚</li>
<li>å®šæœŸæ€§èƒ½è¯„å®¡</li>
<li>æ€§èƒ½å›å½’æµ‹è¯•</li>
</ul>
<ol start="2">
<li><strong>è‡ªåŠ¨åŒ–æ€§èƒ½æµ‹è¯•</strong></li>
</ol>
<ul>
<li>é›†æˆåˆ°CI/CDæµç¨‹</li>
<li>è‡ªåŠ¨ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š</li>
<li>è®¾ç½®æ€§èƒ½é¢„ç®—</li>
</ul>
<ol start="3">
<li><strong>æ¸è¿›å¼ä¼˜åŒ–</strong></li>
</ol>
<ul>
<li>ä»æœ€å…³é”®çš„é—®é¢˜å¼€å§‹</li>
<li>å°æ­¥å¿«è·‘ï¼ŒæŒç»­æ”¹è¿›</li>
<li>ç›‘æ§ä¼˜åŒ–æ•ˆæœ</li>
</ul>
<ol start="4">
<li><strong>çŸ¥è¯†åˆ†äº«ä¸ä¼ æ‰¿</strong></li>
</ol>
<ul>
<li>å»ºç«‹æ€§èƒ½çŸ¥è¯†åº“</li>
<li>å®šæœŸåˆ†äº«ä¼š</li>
<li>ç¼–å†™ä¼˜åŒ–æŒ‡å—</li>
</ul>
<h4 data-id="heading-36">æ€»ç»“</h4>
<p>JavaScriptæ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œéœ€è¦ç»“åˆç†è®ºçŸ¥è¯†ã€å®è·µç»éªŒå’Œå·¥å…·æ”¯æŒã€‚é€šè¿‡æ‰‹å†™å®ç°è¿™äº›ä¼˜åŒ–æŠ€æœ¯ï¼Œæˆ‘ä»¬ä¸ä»…èƒ½å¤Ÿè§£å†³å…·ä½“çš„æ€§èƒ½é—®é¢˜ï¼Œæ›´èƒ½æ·±å…¥ç†è§£æ€§èƒ½ä¼˜åŒ–çš„æœ¬è´¨ã€‚</p>
<p>è®°ä½ï¼Œæœ€å¥½çš„ä¼˜åŒ–å¾€å¾€æ˜¯é‚£äº›èƒ½å¤Ÿä»æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜çš„ä¼˜åŒ–ï¼Œè€Œä¸æ˜¯ä¸´æ—¶çš„ä¿®è¡¥ã€‚å§‹ç»ˆä»¥ç”¨æˆ·ä½“éªŒä¸ºä¸­å¿ƒï¼Œä»¥æ•°æ®ä¸ºä¾æ®ï¼Œä»¥æŒç»­æ”¹è¿›ä¸ºæ–¹æ³•ï¼Œæ‰èƒ½æ„å»ºå‡ºçœŸæ­£é«˜æ€§èƒ½çš„Webåº”ç”¨ã€‚</p>
<p>æ€§èƒ½ä¼˜åŒ–æ²¡æœ‰é“¶å¼¹ï¼Œä½†æœ‰äº†è¿™äº›æ‰‹å†™å®ç°çš„æŠ€æœ¯å‚¨å¤‡ï¼Œä½ å°†èƒ½å¤Ÿæ›´è‡ªä¿¡åœ°é¢å¯¹å„ç§æ€§èƒ½æŒ‘æˆ˜ï¼Œæ„å»ºå‡ºæ›´å¿«ã€æ›´æµç•…çš„ç”¨æˆ·ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JVM ä¹‹ å†…å­˜æº¢å‡ºå®æˆ˜ã€OOM? SOF? å“ªäº›åŒºåŸŸä¼šæº¢å‡ºï¼Ÿå †ã€è™šæ‹Ÿæœºæ ˆã€å…ƒç©ºé—´ã€ç›´æ¥å†…å­˜æº¢å‡ºæ—¶å„è‡ªçš„ç‰¹ç‚¹ï¼Ÿä»¥åŠä»€ä¹ˆæƒ…å†µä¼šå¯¼è‡´ä»–ä»¬æº¢å‡ºï¼Ÿå¹¶æ¨¡æ‹Ÿæº¢å‡ºã€‘]]></title>    <link>https://juejin.cn/post/7583234966634020898</link>    <guid>https://juejin.cn/post/7583234966634020898</guid>    <pubDate>2025-12-14T08:15:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583234966634020898" data-draft-id="7583225356904562728" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JVM ä¹‹ å†…å­˜æº¢å‡ºå®æˆ˜ã€OOM? SOF? å“ªäº›åŒºåŸŸä¼šæº¢å‡ºï¼Ÿå †ã€è™šæ‹Ÿæœºæ ˆã€å…ƒç©ºé—´ã€ç›´æ¥å†…å­˜æº¢å‡ºæ—¶å„è‡ªçš„ç‰¹ç‚¹ï¼Ÿä»¥åŠä»€ä¹ˆæƒ…å†µä¼šå¯¼è‡´ä»–ä»¬æº¢å‡ºï¼Ÿå¹¶æ¨¡æ‹Ÿæº¢å‡ºã€‘"/> <meta itemprop="keywords" content="JVM"/> <meta itemprop="datePublished" content="2025-12-14T08:15:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‡_ç®€"/> <meta itemprop="url" content="https://juejin.cn/user/784379873344682"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JVM ä¹‹ å†…å­˜æº¢å‡ºå®æˆ˜ã€OOM? SOF? å“ªäº›åŒºåŸŸä¼šæº¢å‡ºï¼Ÿå †ã€è™šæ‹Ÿæœºæ ˆã€å…ƒç©ºé—´ã€ç›´æ¥å†…å­˜æº¢å‡ºæ—¶å„è‡ªçš„ç‰¹ç‚¹ï¼Ÿä»¥åŠä»€ä¹ˆæƒ…å†µä¼šå¯¼è‡´ä»–ä»¬æº¢å‡ºï¼Ÿå¹¶æ¨¡æ‹Ÿæº¢å‡ºã€‘
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/784379873344682/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‡_ç®€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T08:15:26.000Z" title="Sun Dec 14 2025 08:15:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å®æˆ˜ï¼šOutOfMemoryErrorå¼‚å¸¸</h2>
<p>é™¤äº†ç¨‹åºè®¡æ•°å™¨å¤–ï¼Œå †ã€è™šæ‹Ÿæœºæ ˆã€å…ƒç©ºé—´ã€ç›´æ¥å†…å­˜éƒ½æœ‰å‘ç”ŸOOMçš„å¯èƒ½
ä¸‹é¢æˆ‘ä»¬æ¼”ç¤ºä¸‹å¼•èµ·å„åŒºåŸŸOOMçš„æƒ…å†µï¼ŒåŠè§‚å¯Ÿä¸‹å…¶å¼‚å¸¸è¡¨ç°ï¼Œè¿›è€Œåˆæ­¥æ€»ç»“å„å¼‚å¸¸æ—¶çš„è°ƒä¼˜ç­–ç•¥</p>
<p><strong>JVMè°ƒä¼˜å®ä¾‹</strong>ï¼š</p>
<ul>
<li>å †ï¼š-ã€‹OOM: Java heap space -&gt;è·å–å †è½¬å‚¨å¿«ç…§-ã€‹åˆ†ææ˜¯æº¢å‡ºï¼ˆè°ƒå¤§å †ï¼‰è¿˜æ˜¯æ³„æ¼ï¼ˆä¼˜åŒ–ä»£ç ï¼‰ï¼Œå¹¶è§£å†³</li>
<li>è™šæ‹Ÿæœºæ ˆï¼š
<ul>
<li>-ã€‹SOF -ã€‹æ ¹æ®å †æ ˆä¿¡æ¯å»è§£å†³ï¼›</li>
<li>-ã€‹OOM -&gt; çº¿ç¨‹è¿‡å¤š -ã€‹è°ƒå°å †ç»™è™šæ‹Ÿæœºæ ˆç•™å‡ºå†…å­˜</li>
</ul>
</li>
<li>å…ƒç©ºé—´ -ã€‹OOM:Metaspace -&gt;è°ƒæ•´ä»£ç +è°ƒå¤§å…ƒç©ºé—´ä¸Šé™</li>
<li>ç›´æ¥å†…å­˜ -ã€‹OOM,ä½†å †è½¬å‚¨æ–‡ä»¶å¾ˆå°ä¸”æ²¡å¼‚å¸¸-ã€‹è°ƒå¤§ç›´æ¥å†…å­˜</li>
</ul>
<h3 data-id="heading-1">Javaå †æº¢å‡º</h3>
<p>javaå †å¼‚å¸¸ä¸€èˆ¬æ˜¯ç”±äºåˆ›å»ºäº†å¤ªå¤šçš„æ— æ³•å›æ”¶çš„å¯¹è±¡ï¼Œå¯¼è‡´è¶…è¿‡äº†å †çš„æœ€å¤§å®¹é‡çš„ã€‚</p>
<h4 data-id="heading-2">å¼‚å¸¸å¤„ç†æ€è·¯</h4>
<p>æ‰€ä»¥å¼‚å¸¸å¤„ç†æ—¶çš„æ€è·¯æ˜¯ï¼š</p>
<ul>
<li>1ã€å…ˆæ‹¿åˆ°å¼‚å¸¸çš„å †è½¬å‚¨å¿«ç…§ã€‚</li>
<li>2ã€ç„¶åæ ¹æ®å¿«ç…§ï¼Œåˆ¤æ–­æº¢å‡ºå¯¹è±¡æ˜¯å¦å¿…è¦ã€‚
<ul>
<li>å¦‚å¿…è¦ï¼Œåˆ™æ˜¯å†…å­˜æº¢å‡ºï¼Œçœ‹çœ‹èƒ½ä¸èƒ½è°ƒå¤§å†…å­˜ï¼Œæˆ–è€…è°ƒå°ä¸€äº›ä¸å¿…è¦çš„å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸè…¾å‡ºä¸€éƒ¨åˆ†ç©ºé—´ã€‚</li>
<li>å¦‚ä¸å¿…è¦ï¼Œåˆ™æ˜¯å†…å­˜æ³„æ¼ï¼Œé€šè¿‡GC ROOTæŸ¥çœ‹å¯¹è±¡çš„å¼•ç”¨é“¾ï¼Œçœ‹çœ‹ä¸ºå•¥æ²¡æœ‰å›æ”¶ï¼Œå¹¶åŠ ä»¥è§£å†³ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-3">æ¨¡æ‹Ÿå¼‚å¸¸</h4>
<p>Javaå †OOMæ˜¯å¸¸è§æƒ…å†µï¼Œå¼‚å¸¸ä¿¡æ¯ä¸­ä¼šè¿›ä¸€æ­¥æç¤º<code>Java heap space</code>ã€‚
<strong>æ¨¡æ‹Ÿä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * VM Argsï¼š-Xms20m -Xmx20m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=D:\IdeaSpeace\jvm
 * é™åˆ¶Javaå †çš„å¤§å°ä¸º20MBï¼Œä¸å¯æ‰©å±•ï¼ˆå°†å †çš„æœ€å¤§æœ€å°å€¼-Xmx-Xmså‚æ•°è®¾ç½®ä¸€æ ·ï¼‰,å‡ºç°å†…å­˜æº¢å‡ºå¼‚å¸¸çš„æ—¶å€™Dumpå‡ºå½“å‰çš„å†…å­˜å †è½¬å‚¨å¿«ç…§ï¼Œåˆ¶å®šå­˜å‚¨è·¯å¾„
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HeapOOM</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OOMObject</span> {
    }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;OOMObject&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;OOMObject&gt;();
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            list.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OOMObject</span>());
        }
    }
}
</code></pre>
<p><strong>è¿è¡Œç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-text" lang="text">java.lang.OutOfMemoryError: Java heap space
Dumping heap to D:\IdeaSpeace\jvm\java_pid8584.hprof ...
Heap dump file created [27646160 bytes in 0.090 secs]
</code></pre>
<h4 data-id="heading-4">è¯¦ç»†æ“ä½œæ­¥éª¤</h4>
<ul>
<li>1ã€é€šè¿‡-XX:+HeapDumpOnOutOfMemoryErroræ‹¿åˆ°å †è½¬å‚¨å¿«ç…§ã€‚</li>
<li>2ã€é€šè¿‡jprofilerå·¥å…·åˆ†æå †è½¬å‚¨å¿«ç…§ï¼Œåˆ¤æ–­å†…å­˜ä¸­å¯¼è‡´OOMçš„å¯¹è±¡æ˜¯å¦å¿…è¦ï¼Ÿ
<ul>
<li>2.1ã€<strong>ä¸å¿…è¦ -&gt; å†…å­˜æ³„æ¼</strong> -&gt; æŸ¥çœ‹å¯¹è±¡GC ROOTå¼•ç”¨é“¾ï¼Œè¿›è€Œå®šä½ä¸ºä½•æ— æ³•å›æ”¶ï¼Œæœ€ç»ˆæ‰¾åˆ°æ³„æ¼ä½ç½®åŠ ä»¥è§£å†³</li>
<li>2.2ã€<strong>å¿…è¦ -&gt; å†…å­˜æº¢å‡º</strong> -&gt; è°ƒæ•´å †å¤§å°ã€ä¿®æ”¹ä¸åˆç†ä»£ç ã€‚
<ul>
<li>2.2.1ã€è°ƒæ•´å †å¤§å°ï¼šåœ¨æœºå™¨å†…å­˜å…è®¸çš„èŒƒå›´å†…ï¼Œé€‚å½“è°ƒæ•´javaè™šæ‹Ÿæœº(-Xmxä¸-Xms)å †å‚æ•°</li>
<li>2.2.2ã€ä¿®æ”¹ä¸åˆç†ä»£ç ï¼šæ£€æŸ¥ä»£ç ä¸­æ˜¯å¦å­˜åœ¨é•¿ç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡ï¼Œä¸åˆç†çš„å­˜å‚¨ç»“æ„è®¾è®¡ï¼ˆæ¯”å¦‚å¯ä»¥ç”¨longä½†æ˜¯ç”¨mapå­˜ï¼‰</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc6b7f8f628f42d3b9a20b05d715c3a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YePX-eugA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766305077&amp;x-signature=dmEfUF%2BI20fGU96tl40U4c6Z%2B8M%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-5">è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡º</h3>
<ul>
<li>1ã€æ ˆæ·±åº¦è¿‡æ·±ï¼ˆæ ˆæ·±åº¦ &gt; è™šæ‹Ÿæœºçš„æœ€å¤§æ·±åº¦ï¼‰ -ã€‹StackOverflowErrorå¼‚å¸¸ã€‚</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šHotSpotè™šæ‹Ÿæœºä¸­ä¸åŒºåˆ†è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆï¼Œæ‰€ä»¥æ ˆå®¹é‡åªç”±-Xssè®¾å®šï¼ˆ-Xosså‚æ•°è®¾ç½®æœ¬åœ°æ–¹æ³•æ ˆå¤§å°ä¸å‘æŒ¥ä½œç”¨ï¼‰</p>
</blockquote>
<ul>
<li>2ã€åˆ›å»ºçº¿ç¨‹æ•°è¿‡å¤š -ã€‹OOMå¼‚å¸¸ã€‚</li>
</ul>
<blockquote>
<p>(åˆ›å»ºçº¿ç¨‹æ•° * çº¿ç¨‹æ ˆå†…å­˜) &gt; (è¿›ç¨‹å†…å­˜ï¼ˆæ“ä½œç³»ç»Ÿé™åˆ¶ï¼‰- æœ€å¤§å †å®¹é‡ - æœ€å¤§æ–¹æ³•åŒºå®¹é‡)</p>
</blockquote>
<h4 data-id="heading-6">å¼‚å¸¸å¤„ç†æ€è·¯</h4>
<ul>
<li>1ã€StackOverflowErrorå¼‚å¸¸ï¼šæ ¹æ®æ‰“å°å‡ºçš„å †æ ˆä¿¡æ¯å»å®šä½å³å¯ã€‚</li>
</ul>
<blockquote>
<p>åœ¨ä½¿ç”¨é»˜è®¤-Xsså‚æ•°çš„æƒ…å†µä¸‹ï¼Œä¸€èˆ¬è€Œè¨€åˆ°è¾¾1000~2000çš„æ ˆæ·±åº¦æ˜¯å®Œå…¨æ²¡æœ‰é—®é¢˜çš„ã€‚ï¼ˆå…·ä½“æ·±åº¦ç”±å‹å…¥çš„æ ˆå¸§å¤§å°å†³å®šï¼‰</p>
</blockquote>
<ul>
<li>2ã€OOMå¼‚å¸¸ï¼šæ­¤æ—¶ä¼šæç¤º<code>unable to create native thread</code>è¡¨ç¤ºçº¿ç¨‹æ•°è¿‡å¤šï¼Œ
<ul>
<li>2.1ã€çº¿ç¨‹æ•°å¼‚å¸¸åˆ›å»º -ã€‹ ä¼˜åŒ–ä»£ç ï¼Œå‡å°‘ä¸å¿…è¦çš„çº¿ç¨‹åˆ›å»º</li>
<li>2.2ã€åˆ›å»ºçš„çº¿ç¨‹å‡å¿…é¡» -ã€‹ å‡å°‘æœ€å¤§å †ã€å‡å°‘æ ˆå®¹é‡ï¼Œæ¥æå‡åˆ›å»ºçº¿ç¨‹æ•°ã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>çº¿ç¨‹æ•°è¿‡å¤šå¼•å‘OOMæ—¶ï¼Œéœ€åå‘è°ƒæ•´å †å¤§å°ï¼Œæ¥ç»™åˆ›å»ºçº¿ç¨‹åˆ†é…è™šæ‹Ÿæœºæ ˆæä¾›æ›´å¤šå¯ç”¨å†…å­˜ã€‚</p>
</blockquote>
<h4 data-id="heading-7">å¼‚å¸¸ä»£ç æ¼”ç¤º</h4>
<ul>
<li>1ã€æ ˆæ·±åº¦è¿‡æ·±ï¼Œå¼•å‘SOFå¼‚å¸¸
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * VM Argsï¼š-Xss128k (ä½¿ç”¨-Xsså‚æ•°å‡å°‘æ ˆå†…å­˜å®¹é‡)
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JavaVMStackSOF</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">stackLength</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">stackLeak</span><span class="hljs-params">()</span> {
        stackLength++;
        stackLeak();
    }
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">JavaVMStackSOF</span> <span class="hljs-variable">oom</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JavaVMStackSOF</span>();
        <span class="hljs-keyword">try</span> {
            oom.stackLeak();
        } <span class="hljs-keyword">catch</span> (Throwable e) {
            System.out.println(<span class="hljs-string">"stack length:"</span> + oom.stackLength);
            <span class="hljs-keyword">throw</span> e;
        }
    }
}
</code></pre>
<strong>è¿è¡Œç»“æœ</strong>ï¼š
<pre><code class="hljs language-text" lang="text">stack length:2298
Exception in thread "main" java.lang.StackOverflowError
    at com.dream.my.faceTest.jvm.JavaVMStackSOF.stackLeak(JavaVMStackSOF.java:11)
    at com.dream.my.faceTest.jvm.JavaVMStackSOF.stackLeak(JavaVMStackSOF.java:12)
    at com.dream.my.faceTest.jvm.JavaVMStackSOF.stackLeak(JavaVMStackSOF.java:12)
â€¦â€¦åç»­å¼‚å¸¸å †æ ˆä¿¡æ¯çœç•¥
</code></pre>
</li>
<li>2ã€åˆ›å»ºçº¿ç¨‹æ•°è¿‡å¤šï¼Œè€—å°½å†…å­˜ï¼Œå¼•å‘ OOMå¼‚å¸¸ï¼š
<blockquote>
<p>é‡ç‚¹æç¤º: å¦‚æœè¿è¡Œä¸Šé¢è¿™æ®µä»£ç ï¼Œè®°å¾—è¦å…ˆä¿å­˜å½“å‰çš„å·¥ä½œã€‚ å› ä¸ºåœ¨Windowså¹³å°çš„Javaçš„çº¿ç¨‹æ˜¯æ˜ å°„åˆ°æ“ä½œç³»ç»Ÿçš„å†…æ ¸çº¿ç¨‹ä¸Šï¼Œåˆ›å»ºè¿‡å¤šçº¿ç¨‹å¯èƒ½å¯¼è‡´æ“ä½œç³»ç»Ÿå‡æ­»ã€‚</p>
</blockquote>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * VM Argsï¼š-Xss2M ï¼ˆè¿™æ—¶å€™ä¸å¦¨è®¾å¤§äº›ï¼Œè¯·åœ¨32ä½ç³»ç»Ÿä¸‹è¿è¡Œï¼‰
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JavaVMStackOOM</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dontStop</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">stackLeakByThread</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-type">Thread</span> <span class="hljs-variable">thread</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() {
                <span class="hljs-meta">@Override</span>
                <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> {
                    dontStop();
                }
            });
            thread.start();
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-type">JavaVMStackOOM</span> <span class="hljs-variable">oom</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JavaVMStackOOM</span>();
        oom.stackLeakByThread();
    }
}
</code></pre>
<strong>å¼‚å¸¸å…³é”®ä¿¡æ¯</strong>ï¼š<code>unable to create new native thread</code>
<pre><code class="hljs language-text" lang="text">Exception in thread "main" java.lang.OutOfMemoryError: unable to create new native thread
    at java.lang.Thread.start0(Native Method)
    at java.lang.Thread.start(Thread.java:717)
    at com.dream.my.faceTest.jvm.JavaVMStackOOM.stackLeakByThread(JavaVMStackOOM.java:22)
    at com.dream.my.faceTest.jvm.JavaVMStackOOM.main(JavaVMStackOOM.java:28)
</code></pre>
</li>
</ul>
<h3 data-id="heading-8">å…ƒç©ºé—´æº¢å‡º</h3>
<ul>
<li>èƒŒæ™¯ï¼šä»jdk7èµ·ï¼Œæ–¹æ³•åŒºå°±è¢«æ”¾åœ¨å †ä¸­</li>
<li>å¸¸è§é—®é¢˜ï¼šä½¿ç”¨aopåŠ¨æ€ç”Ÿæˆå¤§é‡å­—èŠ‚ç ï¼ˆcglibï¼‰å¯¼è‡´OOM</li>
</ul>
<h4 data-id="heading-9">å¼‚å¸¸æ’æŸ¥æ€è·¯</h4>
<ul>
<li>1ã€å®šä½åˆ°<code>java.lang.OutOfMemoryError: Metaspace</code>å³æ˜¯æ–¹æ³•åŒºæº¢å‡ºã€‚</li>
<li>2ã€ç¡®å®šæ˜¯å¦ä½¿ç”¨äº†ä¸å¿…è¦çš„aop</li>
<li>3ã€å¦‚æœç±»éƒ½æ˜¯å¿…è¦çš„ï¼Œè°ƒå¤§å…ƒç©ºé—´çš„å€¼<code>-XX:MaxMetaspaceSize</code></li>
</ul>
<pre><code class="hljs language-text" lang="text"># å…ƒç©ºé—´è°ƒä¼˜å‚æ•°
-XX:MaxMetaspaceSize //è®¾ç½®å…ƒç©ºé—´æœ€å¤§å€¼ï¼Œæ¨è256M~512Mï¼Œè¶…è¿‡åæŠ¥OOMï¼ˆ-1 ä¸ºä¸é™åˆ¶å¤§å°ï¼‰
-XX:MetaspaceSize //è¾¾åˆ°è¯¥å€¼åï¼Œå…ƒç©ºé—´è¿›è¡Œç¬¬ä¸€æ¬¡GCï¼ˆGCåå¦‚ä»è¶…è¿‡ï¼Œåˆ™æ‰©å®¹æœªåŸæ¥çš„1.2å€ï¼‰
-XX:MinMetaspaceFreeRatio //GCåï¼Œå…ƒç©ºé—´æœ€å°ç©ºé—²ç©ºé—´æ¯”ç‡ï¼Œä¸å¤Ÿåˆ™æ‰©å®¹
-XX:MaxMetaspaceFreeRatio //GCåï¼Œå…ƒç©ºé—´æœ€å¤§ç©ºé—²ç©ºé—´æ¯”ç‡ï¼Œå¤šäº†åˆ™ç¼©å®¹
</code></pre>
<h4 data-id="heading-10">å¼‚å¸¸æ¼”ç¤ºä»£ç (JDK8)</h4>
<p>æ–¹æ³•åŒºçš„ä¸»è¦èŒè´£æ˜¯ç”¨äºå­˜æ”¾ç±»å‹çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚ç±»åã€è®¿é—®ä¿®é¥°ç¬¦ã€å¸¸é‡æ± ã€å­—æ®µæè¿°ã€æ–¹æ³•æè¿°ç­‰ã€‚
å¯¹äºè¿™éƒ¨åˆ†åŒºåŸŸçš„æµ‹è¯•ï¼ŒåŸºæœ¬çš„æ€è·¯æ˜¯è¿è¡Œæ—¶äº§ç”Ÿå¤§é‡çš„ç±»å»å¡«æ»¡æ–¹æ³•åŒºï¼Œç›´åˆ°æº¢å‡ºä¸ºæ­¢ã€‚</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * VM Argsï¼š-XXï¼šMetaspaceSize=10M -XXï¼šMaxMetaspaceSize=10M
 * å€ŸåŠ©CGLibä½¿å¾—æ–¹æ³•åŒºå‡ºç°å†…å­˜æº¢å‡ºå¼‚å¸¸
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JavaMethodAreaOOM</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-type">Enhancer</span> <span class="hljs-variable">enhancer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Enhancer</span>();
            enhancer.setSuperclass(OOMObject.class);
            enhancer.setUseCache(<span class="hljs-literal">false</span>);
            enhancer.setCallback(<span class="hljs-keyword">new</span> <span class="hljs-title class_">MethodInterceptor</span>() {
                <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">intercept</span><span class="hljs-params">(Object obj, Method method, Object[] args, MethodProxy proxy)</span> <span class="hljs-keyword">throws</span> Throwable {
                    <span class="hljs-keyword">return</span> proxy.invokeSuper(obj, args);
                }
            });
            enhancer.create();
        }
    }

    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OOMObject</span> {
    }
}
</code></pre>
<p>è¿è¡Œç»“æœï¼š</p>
<pre><code class="hljs language-text" lang="text">Caused by: java.lang.OutOfMemoryError: Metaspace
	at java.lang.ClassLoader.defineClass1(Native Method)
	at java.lang.ClassLoader.defineClass(ClassLoader.java:756)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:554)
	... 7 more
</code></pre>
<h3 data-id="heading-11">æœ¬æœºç›´æ¥å†…å­˜æº¢å‡º</h3>
<p>ç›´æ¥å†…å­˜ä¸åœ¨jvmå†…å­˜æ¨¡å‹å†…ï¼Œä½†ä¹Ÿæ˜¯æœ‰å¯èƒ½å¯¼è‡´OOM.ï¼ˆå…¸å‹çš„é—´æ¥ä½¿ç”¨å°±æ˜¯NIOï¼‰</p>
<h4 data-id="heading-12">å¼‚å¸¸å®šä½æ’æŸ¥æ€è·¯</h4>
<ul>
<li>1ã€å‡ºç°äº†OOMå¼‚å¸¸ï¼Œä½†æ˜¯Heap Dumpæ–‡ä»¶å¾ˆå°ï¼Œä¸”æœŸä¸­æ²¡ä»€ä¹ˆå¼‚å¸¸ä¿¡æ¯ï¼Œæ­¤æ—¶å°±è¯¥è€ƒè™‘æ˜¯ä¸æ˜¯ç›´æ¥å†…å­˜æº¢å‡ºäº†ã€‚</li>
<li>2ã€è°ƒæ•´ç›´æ¥å†…å­˜å¤§å°<code>-XXï¼šMaxDirectMemorySize æŒ‡å®šç›´æ¥å†…å­˜å¤§å°ï¼ˆé»˜è®¤ä¸Javaå †æœ€å¤§å€¼ä¸€è‡´ï¼‰</code></li>
</ul>
<h4 data-id="heading-13">å¼‚å¸¸æ¼”ç¤ºä»£ç </h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * VM Argsï¼š-Xmx20M -XX:MaxDirectMemorySize=10M
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DirectMemoryOOM</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">_1MB</span> <span class="hljs-operator">=</span> <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>;

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-type">Field</span> <span class="hljs-variable">unsafeField</span> <span class="hljs-operator">=</span> Unsafe.class.getDeclaredFields()[<span class="hljs-number">0</span>];
        unsafeField.setAccessible(<span class="hljs-literal">true</span>);
        <span class="hljs-comment">//åˆ†é…æœ¬æœºå†…å­˜</span>
        <span class="hljs-type">Unsafe</span> <span class="hljs-variable">unsafe</span> <span class="hljs-operator">=</span> (Unsafe) unsafeField.get(<span class="hljs-literal">null</span>);
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            <span class="hljs-comment">//çœŸæ­£ç”³è¯·åˆ†é…å†…å­˜</span>
            unsafe.allocateMemory(_1MB);
        }
    }
}
</code></pre>
<p>è¿è¡Œç»“æœï¼š</p>
<pre><code class="hljs language-text" lang="text">Exception in thread "main" java.lang.OutOfMemoryError
	at sun.misc.Unsafe.allocateMemory(Native Method)
	at com.dream.my.faceTest.jvm.DirectMemoryOOM.main(DirectMemoryOOM.java:23)
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[.NETè¿›é˜¶â€”â€”æ·±å…¥ç†è§£Lambdaè¡¨è¾¾å¼ï¼ˆ2ï¼‰æ‰‹æ“LINQè¯­å¥]]></title>    <link>https://juejin.cn/post/7583344281738625070</link>    <guid>https://juejin.cn/post/7583344281738625070</guid>    <pubDate>2025-12-14T08:32:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583344281738625070" data-draft-id="7583244688121069577" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=".NETè¿›é˜¶â€”â€”æ·±å…¥ç†è§£Lambdaè¡¨è¾¾å¼ï¼ˆ2ï¼‰æ‰‹æ“LINQè¯­å¥"/> <meta itemprop="keywords" content=".NET,C#"/> <meta itemprop="datePublished" content="2025-12-14T08:32:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘è¦æ‹¿å¾®è½¯MVP"/> <meta itemprop="url" content="https://juejin.cn/user/1945461219656633"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            .NETè¿›é˜¶â€”â€”æ·±å…¥ç†è§£Lambdaè¡¨è¾¾å¼ï¼ˆ2ï¼‰æ‰‹æ“LINQè¯­å¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1945461219656633/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘è¦æ‹¿å¾®è½¯MVP
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T08:32:48.000Z" title="Sun Dec 14 2025 08:32:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€å…ˆææ‡‚ï¼šä»€ä¹ˆæ˜¯ LINQï¼Ÿï¼ˆé€šä¿— + æŠ€æœ¯å®šä¹‰ï¼‰</h3>
<h4 data-id="heading-1">é€šä¿—æ¯”å–»</h4>
<p>LINQ å°±åƒ â€œé€šç”¨é¥æ§å™¨â€ï¼š</p>
<ul>
<li>ä¸åŒçš„ â€œå®¶ç”µâ€= ä¸åŒçš„æ•°æ®æºï¼ˆå†…å­˜é›†åˆã€æ•°æ®åº“ã€XMLã€Excel ç­‰ï¼‰ï¼›</li>
<li>ä¸åŒå®¶ç”µåŸæœ¬æœ‰å„è‡ªçš„ â€œæ“ä½œæ–¹å¼â€ï¼ˆéå†é›†åˆå†™å¾ªç¯ã€æŸ¥æ•°æ®åº“å†™ SQLã€è§£æ XML å†™ä¸“ç”¨ä»£ç ï¼‰ï¼›</li>
<li>LINQ è¿™ä¸ª â€œé€šç”¨é¥æ§å™¨â€= ç»Ÿä¸€çš„è¯­æ³•ï¼Œä¸ç®¡æ“ä½œå“ªç§æ•°æ®æºï¼Œéƒ½ç”¨ç›¸ä¼¼çš„å†™æ³•ï¼ˆæ¯”å¦‚ç­›é€‰æ•°æ®éƒ½ç”¨ Whereï¼Œè½¬æ¢æ•°æ®éƒ½ç”¨ Selectï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-2">æŠ€æœ¯å®šä¹‰</h4>
<p>LINQï¼ˆLanguage Integrated Queryï¼Œè¯­è¨€é›†æˆæŸ¥è¯¢ï¼‰æ˜¯ C# å†…ç½®çš„æŸ¥è¯¢æ¡†æ¶ï¼Œæ ¸å¿ƒä»·å€¼æ˜¯ï¼š</p>
<ol>
<li><strong>ç»Ÿä¸€è¯­æ³•</strong>ï¼šç”¨ä¸€å¥—è¯­æ³•æ“ä½œæ‰€æœ‰æ•°æ®æºï¼ˆé›†åˆã€æ•°æ®åº“ã€XML ç­‰ï¼‰ï¼›</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šç¼–è¯‘æœŸæ£€æŸ¥æŸ¥è¯¢è¯­æ³•é”™è¯¯ï¼ˆä¸åƒ SQL å†™é”™è¦è¿è¡Œæ—¶æ‰å‘ç°ï¼‰ï¼›</li>
<li><strong>ç®€æ´é«˜æ•ˆ</strong>ï¼šç”¨å‡ è¡Œä»£ç æ›¿ä»£å†—ä½™çš„å¾ªç¯ / åˆ¤æ–­ï¼Œåº•å±‚å°±æ˜¯<strong>æ‰©å±•æ–¹æ³• + Lambda</strong>çš„ç»„åˆï¼ˆæŸ¥è¯¢è¯­æ³•åªæ˜¯è¯­æ³•ç³–ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-3">LINQ çš„ä¸¤ç§å¸¸ç”¨å†™æ³•ï¼ˆæ–°æ‰‹å…ˆæŒæ¡æ–¹æ³•è¯­æ³•ï¼‰</h4>
<p>LINQ æœ‰ä¸¤ç§å†™æ³•ï¼Œæœ€ç»ˆéƒ½ä¼šç¼–è¯‘æˆ â€œæ‰©å±•æ–¹æ³• + Lambdaâ€ï¼Œæˆ‘ä»¬ä»¥è®¢å•ç­›é€‰ä¸ºä¾‹å¯¹æ¯”ï¼š</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;
<span class="hljs-keyword">using</span> System.Linq; <span class="hljs-comment">// LINQæ ¸å¿ƒå‘½åç©ºé—´</span>

<span class="hljs-comment">// åŸºç¡€è®¢å•å®ä½“</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Order</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> OrderId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">decimal</span> Amount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Customer { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// æ¨¡æ‹Ÿæ•°æ®æºï¼šè®¢å•åˆ—è¡¨</span>
        List&lt;Order&gt; orders = <span class="hljs-keyword">new</span> List&lt;Order&gt;
        {
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">1</span>, Amount = <span class="hljs-number">800</span>, Customer = <span class="hljs-string">"å¼ ä¸‰"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">2</span>, Amount = <span class="hljs-number">1200</span>, Customer = <span class="hljs-string">"æå››"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">3</span>, Amount = <span class="hljs-number">1500</span>, Customer = <span class="hljs-string">"ç‹äº”"</span> }
        };

        <span class="hljs-comment">// å†™æ³•1ï¼šæŸ¥è¯¢è¯­æ³•ï¼ˆSQLé£æ ¼ï¼Œè¯­æ³•ç³–ï¼‰</span>
        <span class="hljs-keyword">var</span> querySyntax = <span class="hljs-keyword">from</span> o <span class="hljs-keyword">in</span> orders
                          <span class="hljs-keyword">where</span> o.Amount &gt; <span class="hljs-number">1000</span>
                          <span class="hljs-keyword">select</span> <span class="hljs-keyword">new</span> { o.OrderId, o.Customer, é‡‘é¢ = o.Amount };

        <span class="hljs-comment">// å†™æ³•2ï¼šæ–¹æ³•è¯­æ³•ï¼ˆæ‰©å±•æ–¹æ³•+Lambdaï¼ŒLINQåº•å±‚å®ç°ï¼‰</span>
        <span class="hljs-keyword">var</span> methodSyntax = orders
            .Where(o =&gt; o.Amount &gt; <span class="hljs-number">1000</span>) <span class="hljs-comment">// æ‰©å±•æ–¹æ³•+Lambdaç­›é€‰</span>
            .Select(o =&gt; <span class="hljs-keyword">new</span> { o.OrderId, o.Customer, é‡‘é¢ = o.Amount }); <span class="hljs-comment">// æ‰©å±•æ–¹æ³•+Lambdaè½¬æ¢</span>

        <span class="hljs-comment">// ä¸¤ç§å†™æ³•ç»“æœå®Œå…¨ä¸€è‡´</span>
        Console.WriteLine(<span class="hljs-string">"æŸ¥è¯¢è¯­æ³•ç»“æœï¼š"</span>);
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> querySyntax) Console.WriteLine(<span class="hljs-string">$"è®¢å•IDï¼š<span class="hljs-subst">{item.OrderId}</span>ï¼Œå®¢æˆ·ï¼š<span class="hljs-subst">{item.Customer}</span>"</span>);
        
        Console.WriteLine(<span class="hljs-string">"\næ–¹æ³•è¯­æ³•ç»“æœï¼š"</span>);
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> methodSyntax) Console.WriteLine(<span class="hljs-string">$"è®¢å•IDï¼š<span class="hljs-subst">{item.OrderId}</span>ï¼Œå®¢æˆ·ï¼š<span class="hljs-subst">{item.Customer}</span>"</span>);
    }
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs">æŸ¥è¯¢è¯­æ³•ç»“æœï¼š
è®¢å•IDï¼š2ï¼Œå®¢æˆ·ï¼šæå››
è®¢å•IDï¼š3ï¼Œå®¢æˆ·ï¼šç‹äº”

æ–¹æ³•è¯­æ³•ç»“æœï¼š
è®¢å•IDï¼š2ï¼Œå®¢æˆ·ï¼šæå››
è®¢å•IDï¼š3ï¼Œå®¢æˆ·ï¼šç‹äº”
</code></pre>
<p><strong>æ ¸å¿ƒè§£æï¼ˆç»™æ–°æ‰‹çš„è¯ï¼‰</strong> ï¼š</p>
<ul>
<li>æŸ¥è¯¢è¯­æ³•ï¼ˆ<code>from...where...select</code>ï¼‰æ˜¯ SQL é£æ ¼çš„ â€œè¯­æ³•ç³–â€ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è½¬æ¢æˆæ–¹æ³•è¯­æ³•ï¼ˆæ‰©å±•æ–¹æ³• + Lambdaï¼‰ï¼›</li>
<li>æ–¹æ³•è¯­æ³•æ˜¯ LINQ çš„<strong>åº•å±‚å®ç°å½¢å¼</strong>ï¼Œä¹Ÿæ˜¯æ–°æ‰‹éœ€è¦é‡ç‚¹æŒæ¡çš„ï¼ˆæ›´çµæ´»ã€æ›´è´´è¿‘åº•å±‚ï¼‰ï¼›</li>
<li>LINQ çš„æ ¸å¿ƒå°±æ˜¯ï¼š<strong>ç»™é›†åˆï¼ˆæˆ–å…¶ä»–æ•°æ®æºï¼‰æ‰©å±•ä¸€ç³»åˆ—é€šç”¨æ–¹æ³•ï¼ˆWhere/Select ç­‰ï¼‰ï¼Œæ¯ä¸ªæ–¹æ³•æ¥æ”¶ Lambda ä½œä¸º â€œæŸ¥è¯¢è§„åˆ™â€ï¼Œå®ç°æ•°æ®çš„ç­›é€‰ / è½¬æ¢ / æŸ¥æ‰¾</strong>ã€‚</li>
</ul>
<h3 data-id="heading-4">äºŒã€æ‰‹æ“æ ¸å¿ƒ LINQ æ–¹æ³•ï¼ˆæ‰©å±•æ–¹æ³• + Lambdaï¼‰</h3>
<h4 data-id="heading-5">èƒŒæ™¯äº‹ä»¶ï¼šæ–°æ‰‹çš„ç—›ç‚¹ â€”â€” é‡å¤å†™å¾ªç¯å¤ªå†—ä½™</h4>
<p>ä½ å¤„ç†è®¢å•æ•°æ®æ—¶ï¼Œéœ€è¦é¢‘ç¹åš 3 ä»¶äº‹ï¼š</p>
<ol>
<li>ç­›é€‰ç¬¦åˆæ¡ä»¶çš„è®¢å•ï¼ˆæ¯”å¦‚é‡‘é¢ &gt; 1000ï¼‰ï¼›</li>
<li>è½¬æ¢è®¢å•æ•°æ®æ ¼å¼ï¼ˆæ¯”å¦‚åªä¿ç•™ ID å’Œå®¢æˆ·åï¼‰ï¼›</li>
<li>æŸ¥æ‰¾ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„è®¢å•ï¼ˆæ¯”å¦‚æ‰¾æå››çš„è®¢å•ï¼‰ï¼›</li>
</ol>
<p>æ¯æ¬¡éƒ½å†™<code>foreach</code>å¾ªç¯ä¼šéå¸¸å†—ä½™ï¼Œæˆ‘ä»¬ç”¨<strong>æ‰©å±•æ–¹æ³• + Lambda</strong>æ‰‹åŠ¨å®ç°è¿™ 3 ä¸ªæ ¸å¿ƒ LINQ æ–¹æ³•ï¼Œç†è§£ LINQ çš„åº•å±‚é€»è¾‘ã€‚</p>
<h4 data-id="heading-6">æ­¥éª¤ 1ï¼šå®šä¹‰åŸºç¡€å®ä½“å’Œæ•°æ®æº</h4>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;

<span class="hljs-comment">// è®¢å•å®ä½“ï¼ˆæ–°æ‰‹èƒ½ç†è§£çš„ç®€å•ç±»ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Order</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> OrderId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">decimal</span> Amount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Customer { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-comment">// å­˜æ”¾è‡ªå®šä¹‰LINQæ‰©å±•æ–¹æ³•çš„é™æ€ç±»ï¼ˆå¿…é¡»é™æ€ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyLinqExtensions</span>
{
    <span class="hljs-comment">// åç»­æ‰‹åŠ¨å®ç°Where/Select/FirstOrDefaultæ–¹æ³•</span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// æ¨¡æ‹Ÿè®¢å•æ•°æ®æº</span>
        List&lt;Order&gt; orders = <span class="hljs-keyword">new</span> List&lt;Order&gt;
        {
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">1</span>, Amount = <span class="hljs-number">800</span>, Customer = <span class="hljs-string">"å¼ ä¸‰"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">2</span>, Amount = <span class="hljs-number">1200</span>, Customer = <span class="hljs-string">"æå››"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">3</span>, Amount = <span class="hljs-number">1500</span>, Customer = <span class="hljs-string">"ç‹äº”"</span> }
        };

        <span class="hljs-comment">// åç»­è°ƒç”¨è‡ªå®šä¹‰LINQæ–¹æ³•</span>
    }
}
</code></pre>
<h4 data-id="heading-7">æ­¥éª¤ 2ï¼šæ‰‹åŠ¨å®ç° Where æ–¹æ³•ï¼ˆç­›é€‰æ•°æ®ï¼‰</h4>
<p>è¿™é‡Œæˆ‘å°†å¸¦ç€å¤§å®¶ä»1.0ç‰ˆæœ¬æ‰‹æ“<code>Where</code>æ–¹æ³•ç›´åˆ°æœ€ç»ˆç‰ˆæœ¬ï¼Œä½†æ˜¯åé¢çš„<code>Select</code>å’Œ<code>FirstOrDefault</code>å°±ä¸å¸¦ç€å¤§å®¶ä»é›¶æ‰‹æ“äº†ï¼Œå¸Œæœ›å¤§å®¶æ…¢æ…¢é˜…è¯»ã€‚</p>
<h5 data-id="heading-8">1.0 ç‰ˆæœ¬(ä¸èƒ½çµæ´»é€‰æ‹©ç­›é€‰é€»è¾‘ï¼Œä¸èƒ½é€‰æ‹©ä¼ å…¥çš„å‚æ•°ç±»å‹)</h5>
<p><strong>æ ¸å¿ƒMyWhereæ–¹æ³•</strong>ï¼šä¼ å…¥ä¸€ä¸ª<code>List&lt;Order&gt;</code>é›†åˆï¼Œè·å¾—ä¸€ä¸ª<code>List&lt;Order&gt;</code>é›†åˆï¼Œæ–¹æ³•åœ¨å‡½æ•°å†…éƒ¨å®ç°</p>
<pre><code class="hljs language-cs" lang="cs">    <span class="hljs-comment">// 1.0ç‰ˆæœ¬</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Order&gt; <span class="hljs-title">MyWhere</span>(<span class="hljs-params">List&lt;Order&gt; list</span>)</span>
    {
        List&lt;Order&gt; newList = <span class="hljs-keyword">new</span> List&lt;Order&gt;();
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> list)
        {
            <span class="hljs-keyword">if</span> (order.Amount &gt; <span class="hljs-number">1000</span>)
            {
                newList.Add(order);
            }
        }
        <span class="hljs-keyword">return</span> newList;
    }
</code></pre>
<p><strong>å®Œæ•´ä»£ç ä¸ç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;

<span class="hljs-comment">// è®¢å•å®ä½“ï¼ˆæ–°æ‰‹èƒ½ç†è§£çš„ç®€å•ç±»ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Order</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> OrderId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">decimal</span> Amount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Customer { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-comment">// å­˜æ”¾è‡ªå®šä¹‰LINQæ‰©å±•æ–¹æ³•çš„é™æ€ç±»ï¼ˆå¿…é¡»é™æ€ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyLinqExtensions</span>
{
    <span class="hljs-comment">// 1.0ç‰ˆæœ¬</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Order&gt; <span class="hljs-title">MyWhere</span>(<span class="hljs-params">List&lt;Order&gt; list</span>)</span>
    {
        List&lt;Order&gt; newList = <span class="hljs-keyword">new</span> List&lt;Order&gt;();
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> list)
        {
            <span class="hljs-keyword">if</span> (order.Amount&gt;<span class="hljs-number">1000</span>)
            {
                newList.Add(order);
            }
        }
        <span class="hljs-keyword">return</span> newList;
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// æ¨¡æ‹Ÿè®¢å•æ•°æ®æº</span>
        List&lt;Order&gt; orders = <span class="hljs-keyword">new</span> List&lt;Order&gt;
        {
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">1</span>, Amount = <span class="hljs-number">800</span>, Customer = <span class="hljs-string">"å¼ ä¸‰"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">2</span>, Amount = <span class="hljs-number">1200</span>, Customer = <span class="hljs-string">"æå››"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">3</span>, Amount = <span class="hljs-number">1500</span>, Customer = <span class="hljs-string">"ç‹äº”"</span> }
        };

        <span class="hljs-keyword">var</span> myNewList = MyLinqExtensions.MyWhere(orders);
        Console.WriteLine(<span class="hljs-string">"ç­›é€‰å¤§äº1000çš„ç”¨æˆ·ï¼š"</span>);
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> myNewList)
        {
            Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{order.Customer}</span>çš„èµ„äº§æ˜¯ï¼š<span class="hljs-subst">{order.Amount}</span>"</span>);
        }
    }
}
</code></pre>
<p><strong>è¿è¡Œç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-cs" lang="cs">ç­›é€‰å¤§äº<span class="hljs-number">1000</span>çš„ç”¨æˆ·ï¼š
æå››çš„èµ„äº§æ˜¯ï¼š<span class="hljs-number">1200</span>
ç‹äº”çš„èµ„äº§æ˜¯ï¼š<span class="hljs-number">1500</span>
</code></pre>
<p><strong>æ§½ç‚¹</strong>ï¼šè™½ç„¶æˆ‘ä»¬å®ç°äº†ç­›é€‰å‡ºèµ„äº§å¤§äº1000ç”¨æˆ·çš„åŠŸèƒ½äº†ï¼Œä½†æ˜¯è¿™ä¸ªç­›é€‰é€»è¾‘æ˜¯å†™åœ¨æ–¹æ³•<code>MyWhere</code>å†…éƒ¨çš„ï¼Œå¦‚æœé€‰æ‹©ä¸æƒ³ç­›é€‰å­˜æ¬¾å¤§äº1000çš„<code>List&lt;Order&gt;</code>ï¼Œè€Œæ˜¯æƒ³ç­›é€‰å‡ºç”¨æˆ·Idå¤§äº2çš„é›†åˆ<code>List&lt;Order&gt;</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è¿›å…¥<code>MyWhere</code>å‡½æ•°å†…éƒ¨ä¿®æ”¹ä»£ç ï¼Œéå¸¸çš„éº»çƒ¦ï¼Œå¤ç”¨ç‡å¾ˆä½ã€‚</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-comment">// å°†ç­›é€‰é€»è¾‘æ˜¯å­˜æ¬¾å¤§äº1000ï¼Œæ”¹æˆidå¤§äº2ï¼š</span>
<span class="hljs-comment">// if (order.Amount &gt; 1000) </span>
<span class="hljs-keyword">if</span> (order.OrderId &gt; <span class="hljs-number">2</span>)
{
    newList.Add(order);
}
</code></pre>
<p>ä½ çœ‹ï¼Œæ¯æ¬¡æˆ‘ä»¬æƒ³è¦ä¿®æ”¹ç­›é€‰é€»è¾‘ï¼Œéƒ½è¦è¿›å»ä»£ç å†…éƒ¨åšå‡ºç›¸åº”çš„ä¿®æ”¹ï¼Œéå¸¸éº»çƒ¦ã€‚é‚£æˆ‘ä»¬å†èšç„¦åˆ°è¿™ä¸ªç­›é€‰é€»è¾‘ä¸Šã€‚è¿™ä¸ªç­›é€‰é€»è¾‘å…¶å®å°±æ˜¯å®ç°äº†è¿™æ ·çš„åŠŸèƒ½ï¼š<strong>å¦‚æœorderå¯¹è±¡çš„æŸäº›å±æ€§ï¼Œç¬¦åˆæŸäº›ç‰¹å¾ï¼Œå°±æ‰§è¡Œä¸‹é¢çš„æ·»åŠ æ“ä½œ</strong>ï¼Œæ¯”å¦‚</p>
<ul>
<li><strong>æŸä¸ªorderçš„å­˜æ¬¾å¤§äº1000ä¸ºçœŸï¼Œå°±å°†è¿™ä¸ªorderæ·»åŠ åˆ°æ–°çš„listé›†åˆä¸­</strong></li>
<li><strong>æŸä¸ªorderçš„idå¤§äº2ä¸ºçœŸï¼Œå°±å°†è¿™ä¸ªorderæ·»åŠ åˆ°æ–°çš„listé›†åˆä¸­</strong></li>
</ul>
<p>é‚£ä¹ˆæˆ‘ä»¬èƒ½ä¸èƒ½æŠŠ<strong>æŸä¸ªorderçš„æŸä¸ªå±æ€§ä¸ºçœŸ</strong>è¿™ä¸ªé€»è¾‘å°è£…æˆä¸€ä¸ªæ–¹æ³•å‘¢ï¼Œæ¯”å¦‚æˆ‘ä¼ é€’è¿›å»ä¸€ä¸ª<code>order</code>ï¼Œå®ƒè‡ªåŠ¨å¸®æˆ‘åˆ¤æ–­å­˜æ¬¾æ˜¯ä¸æ˜¯å¤§äº1000ï¼Œç„¶åè¿”å›ä¸€ä¸ª<code>bool</code>å€¼ï¼Œä¸ºçœŸçš„è¯ï¼Œæˆ‘å°±å°†è¿™ä¸ªorderæ·»åŠ åˆ°æ–°çš„é›†åˆä¸­ã€‚</p>
<p>æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¤–éƒ¨å®šä¹‰è¿™æ ·çš„ä¸€ä¸ªå‡½æ•°ï¼š</p>
<pre><code class="hljs language-cs" lang="cs">    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">IsOver1000</span>(<span class="hljs-params">Order order</span>)</span>
    {
        <span class="hljs-keyword">return</span> order.Amount &gt; <span class="hljs-number">1000</span>;
    }
</code></pre>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•æ¥æ”¶è¿™ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”åœ¨æˆ‘ä»¬çš„<code>MyWhere</code>å‡½æ•°ä¸­è°ƒç”¨å‘¢ï¼Ÿæ²¡é”™ï¼Œä½¿ç”¨å§”æ‰˜ï¼</p>
<h5 data-id="heading-9">2.0 ç‰ˆæœ¬(å¯ä»¥çµæ´»ä¼ é€’ç­›é€‰é€»è¾‘ï¼Œä¸èƒ½é€‰æ‹©ä¼ å…¥çš„å‚æ•°ç±»å‹)</h5>
<p>æˆ‘ä»¬æ¯æ¬¡è¦ä¿®æ”¹ç­›é€‰é€»è¾‘éƒ½è¦è¿›å»ä»£ç å†…éƒ¨ï¼Œé‚£èƒ½ä¸èƒ½å°†ç­›é€‰é€»è¾‘æ”¾åœ¨å¤–é¢ï¼Œé€šè¿‡å‚æ•°ä¼ è¿›æ¥å‘¢ï¼Ÿå·§äº†ï¼Œå§”æ‰˜ä¸å°±æ˜¯å¯ä»¥å°†å‡½æ•°å˜æˆå‚æ•°ä¼ é€’çš„ä¸€ç§æ–¹æ³•å—ï¼Ÿäºæ˜¯ï¼Œæˆ‘ä»¬å°†ç­›é€‰é€»è¾‘å˜æˆä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°ç±»å‹æ˜¯<code>Func&lt;Order,bool&gt;</code>çš„å§”æ‰˜ï¼Œè¿™ä¸ªå§”æ‰˜æ¥æ”¶çš„æ˜¯æ–¹æ³•ï¼Œä¸€ä¸ªå‚æ•°ä¸º<code>Order</code>ï¼Œè¿”å›<code>bool</code>çš„æ–¹æ³•ï¼Œè¿™ä¸å°±æ˜¯æˆ‘ä»¬ä¸Šé¢å®šä¹‰çš„<code>IsOver1000</code>æ–¹æ³•å—ï¼Ÿ</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-comment">// 2.0ç‰ˆæœ¬</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyLinqExtensions</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Order&gt; <span class="hljs-title">MyWhere</span>(<span class="hljs-params">List&lt;Order&gt; list,Func&lt;Order,<span class="hljs-built_in">bool</span>&gt; func</span>)</span>
    {
        List&lt;Order&gt; newList = <span class="hljs-keyword">new</span> List&lt;Order&gt;();
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> list)
        {
            <span class="hljs-keyword">if</span> (func(order))
            {
                newList.Add(order);
            }
        }
        <span class="hljs-keyword">return</span> newList;
    }
}
</code></pre>
<p><strong>å®Œæ•´ä»£ç ä¸è°ƒç”¨ç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;

<span class="hljs-comment">// è®¢å•å®ä½“ï¼ˆæ–°æ‰‹èƒ½ç†è§£çš„ç®€å•ç±»ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Order</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> OrderId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">decimal</span> Amount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Customer { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-comment">// å­˜æ”¾è‡ªå®šä¹‰LINQæ‰©å±•æ–¹æ³•çš„é™æ€ç±»ï¼ˆå¿…é¡»é™æ€ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyLinqExtensions</span>
{
    <span class="hljs-comment">// 2.0ç‰ˆæœ¬</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;Order&gt; <span class="hljs-title">MyWhere</span>(<span class="hljs-params">List&lt;Order&gt; list,Func&lt;Order,<span class="hljs-built_in">bool</span>&gt; func</span>)</span>
    {
        List&lt;Order&gt; newList = <span class="hljs-keyword">new</span> List&lt;Order&gt;();
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> list)
        {
            <span class="hljs-keyword">if</span> (func(order))
            {
                newList.Add(order);
            }
        }
        <span class="hljs-keyword">return</span> newList;
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// æ¨¡æ‹Ÿè®¢å•æ•°æ®æº</span>
        List&lt;Order&gt; orders = <span class="hljs-keyword">new</span> List&lt;Order&gt;
        {
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">1</span>, Amount = <span class="hljs-number">800</span>, Customer = <span class="hljs-string">"å¼ ä¸‰"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">2</span>, Amount = <span class="hljs-number">1200</span>, Customer = <span class="hljs-string">"æå››"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">3</span>, Amount = <span class="hljs-number">1500</span>, Customer = <span class="hljs-string">"ç‹äº”"</span> }
        };

        <span class="hljs-comment">// è·å–ç­›é€‰åçš„è®¢å•åˆ—è¡¨</span>
        <span class="hljs-keyword">var</span> myNewList = MyLinqExtensions.MyWhere(orders,IsOver1000);
        Console.WriteLine(<span class="hljs-string">"ç­›é€‰å¤§äº1000çš„ç”¨æˆ·ï¼š"</span>);
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> myNewList)
        {
            Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{order.Customer}</span>çš„èµ„äº§æ˜¯ï¼š<span class="hljs-subst">{order.Amount}</span>"</span>);
        }
    }
    
    <span class="hljs-comment">// ç­›é€‰æ¡ä»¶å‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªè®¢å•ï¼Œè‹¥è®¢å•èµ„äº§å¤§äº1000ï¼Œåˆ™è¿”å›trueï¼Œå†…éƒ¨æ–¹æ³•å°±ä¼šå°†è¿™ä¸ªè®¢å•åŠ å…¥åˆ°æ–°åˆ—è¡¨</span>
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">IsOver1000</span>(<span class="hljs-params">Order order</span>)</span>
    {
        <span class="hljs-keyword">return</span> order.Amount &gt; <span class="hljs-number">1000</span>;
    }
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs">ç­›é€‰å¤§äº1000çš„ç”¨æˆ·ï¼š
æå››çš„èµ„äº§æ˜¯ï¼š1200
ç‹äº”çš„èµ„äº§æ˜¯ï¼š1500
</code></pre>
<p><strong>ä¼˜ç‚¹</strong>ï¼šæˆ‘ä»¬å°†ç­›é€‰é€»è¾‘æ”¾åˆ°å¤–é¢äº†ï¼Œå¦‚æœæƒ³è¦æ¢ä¸€ä¸ªç­›é€‰æ¡ä»¶ï¼Œæ¯”å¦‚è¦å°†idå¤§äº2çš„ç­›é€‰å‡ºæ¥ï¼Œé‚£å°±åªéœ€è¦ä¼ é€’ä¸åŒçš„æ–¹æ³•ç»™<code>MyWhere</code>æ–¹æ³•å°±è¡Œäº†ï¼Œé™ä½äº†è€¦åˆåº¦ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬è¿™é‡Œæ˜¯ç”¨<strong>å§”æ‰˜æ¥æ”¶æ–¹æ³•</strong>ï¼Œå¤–éƒ¨å®šä¹‰çš„æ˜¯æ–¹æ³•ï¼Œä½†æ˜¯å‚æ•°æ˜¯ä¸€ä¸ªå§”æ‰˜ç±»å‹ï¼Œä¹Ÿå°±æ˜¯å°†å¤–éƒ¨çš„æ–¹æ³•æ”¾è¿›è¿™ä¸ªå§”æ‰˜å‚æ•°é‡Œã€‚</p>
<p><strong>ç¼ºç‚¹</strong>ï¼šå¦‚æœæˆ‘ä»¬ç­›é€‰çš„ä¸æ˜¯<code>Orderé›†åˆ</code>ï¼Œè€Œæ˜¯ä¸€ä¸ª<code>Studenté›†åˆ</code>ï¼Œé‚£è¿™ä¸ªæ–¹æ³•å°±å¤±æ•ˆäº†ï¼Œæˆ‘ä»¬éœ€è¦å†åˆ›å»ºä¸€ä¸ª<code>Studenté›†åˆ</code>çš„<code>MyWhereæ–¹æ³•</code>ï¼Œæ˜¯ä¸æ˜¯éå¸¸éº»çƒ¦ï¼Œèƒ½ä¸èƒ½ä¼˜åŒ–ï¼Œè¿™æ ·è®©ä¸€ä¸ª<code>MyWhereæ–¹æ³•</code>æ¥æ”¶ä¸åŒç±»å‹çš„åŠŸèƒ½ï¼Œæ˜¯ä¸æ˜¯æƒ³åˆ°äº†æ³›å‹ï¼</p>
<h5 data-id="heading-10">3.0 ç‰ˆæœ¬(å¯ä»¥çµæ´»ä¼ é€’ç­›é€‰é€»è¾‘ï¼Œå¯ä»¥é€‰æ‹©ä¼ å…¥çš„å‚æ•°ç±»å‹)</h5>
<p>3.0ç‰ˆæœ¬æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªæ–°çš„<code>Student</code>ç±»ï¼Œå¹¶ä¸”ç”¨æ³›å‹ä¼˜åŒ–äº†<code>MyWhere</code>æ–¹æ³•</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> StudentId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> StudentName { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> StudentAge { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</code></pre>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-comment">// 3.0ç‰ˆæœ¬</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyLinqExtensions</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">List</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">MyWhere</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">List&lt;T&gt; list,Func&lt;T,<span class="hljs-built_in">bool</span>&gt; func</span>)</span>
    {
        List&lt;T&gt; newList = <span class="hljs-keyword">new</span> List&lt;T&gt;();
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> list)
        {
            <span class="hljs-keyword">if</span> (func(order))
            {
                newList.Add(order);
            }
        }
        <span class="hljs-keyword">return</span> newList;
    }
}
</code></pre>
<p>åŠ äº†æ³›å‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥éšæ„çš„å†å„ç§ç±»å‹çš„é›†åˆä¸Šä½¿ç”¨<code>MyWhereæ–¹æ³•</code>äº†:
<strong>å®Œæ•´ä»£ç ä¸è¿è¡Œç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;

<span class="hljs-comment">// è®¢å•å®ä½“ï¼ˆæ–°æ‰‹èƒ½ç†è§£çš„ç®€å•ç±»ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Order</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> OrderId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">decimal</span> Amount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Customer { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-comment">// å­¦ç”Ÿç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> StudentId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> StudentName { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> StudentAge { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-comment">// å­˜æ”¾è‡ªå®šä¹‰LINQæ‰©å±•æ–¹æ³•çš„é™æ€ç±»ï¼ˆå¿…é¡»é™æ€ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyLinqExtensions</span>
{
    <span class="hljs-comment">// 3.0ç‰ˆæœ¬ï¼ŒåŠ äº†æ³›å‹</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">List</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">MyWhere</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params">List&lt;T&gt; list,Func&lt;T,<span class="hljs-built_in">bool</span>&gt; func</span>)</span>
    {
        List&lt;T&gt; newList = <span class="hljs-keyword">new</span> List&lt;T&gt;();
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> list)
        {
            <span class="hljs-keyword">if</span> (func(order))
            {
                newList.Add(order);
            }
        }
        <span class="hljs-keyword">return</span> newList;
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// æ¨¡æ‹Ÿè®¢å•æ•°æ®æº</span>
        List&lt;Order&gt; orders = <span class="hljs-keyword">new</span> List&lt;Order&gt;
        {
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">1</span>, Amount = <span class="hljs-number">800</span>, Customer = <span class="hljs-string">"å¼ ä¸‰"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">2</span>, Amount = <span class="hljs-number">1200</span>, Customer = <span class="hljs-string">"æå››"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">3</span>, Amount = <span class="hljs-number">1500</span>, Customer = <span class="hljs-string">"ç‹äº”"</span> }
        };
        List&lt;Student&gt; students = <span class="hljs-keyword">new</span> List&lt;Student&gt;()
        {
            <span class="hljs-keyword">new</span> Student() { StudentId = <span class="hljs-number">1</span>, StudentAge = <span class="hljs-number">10</span>, StudentName = <span class="hljs-string">"å°æ˜"</span> },
            <span class="hljs-keyword">new</span> Student() { StudentId = <span class="hljs-number">2</span>, StudentAge = <span class="hljs-number">11</span>, StudentName = <span class="hljs-string">"å°çº¢"</span> },
            <span class="hljs-keyword">new</span> Student() { StudentId = <span class="hljs-number">3</span>, StudentAge = <span class="hljs-number">12</span>, StudentName = <span class="hljs-string">"å°æ–‡"</span> }
        };
        
        <span class="hljs-comment">// è·å–ç­›é€‰åçš„è®¢å•åˆ—è¡¨</span>
        <span class="hljs-keyword">var</span> myNewList = MyLinqExtensions.MyWhere(orders,IsOver1000);
        Console.WriteLine(<span class="hljs-string">"ç­›é€‰å¤§äº1000çš„è®¢å•çš„ç”¨æˆ·ï¼š"</span>);
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> myNewList)
        {
            Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{order.Customer}</span>çš„èµ„äº§æ˜¯ï¼š<span class="hljs-subst">{order.Amount}</span>"</span>);
        }
        
        <span class="hljs-comment">// è·å–ç­›é€‰åçš„å­¦ç”Ÿåˆ—è¡¨</span>
        <span class="hljs-keyword">var</span> myNewStudentList = MyLinqExtensions.MyWhere&lt;Student&gt;(students,IsOver10);
        Console.WriteLine(<span class="hljs-string">"ç­›é€‰å¹´é¾„å¤§äº10å²çš„å­¦ç”Ÿï¼š"</span>);
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> student <span class="hljs-keyword">in</span> myNewStudentList)
        {
            Console.WriteLine(<span class="hljs-string">$"å­¦ç”Ÿåï¼š<span class="hljs-subst">{student.StudentName}</span>,å­¦ç”Ÿå¹´é¾„ï¼š<span class="hljs-subst">{student.StudentAge}</span>"</span>);
        }

    }

    <span class="hljs-comment">// ç­›é€‰æ¡ä»¶å‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªè®¢å•ï¼Œè‹¥è®¢å•èµ„äº§å¤§äº1000ï¼Œåˆ™è¿”å›trueï¼Œå†…éƒ¨æ–¹æ³•å°±ä¼šå°†è¿™ä¸ªè®¢å•åŠ å…¥åˆ°æ–°åˆ—è¡¨</span>
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">IsOver1000</span>(<span class="hljs-params">Order order</span>)</span>
    {
        <span class="hljs-keyword">return</span> order.Amount &gt; <span class="hljs-number">1000</span>;
    }
    
    <span class="hljs-comment">// ç­›é€‰æ¡ä»¶å‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªå­¦ç”Ÿï¼Œè‹¥å­¦ç”Ÿå¹´é¾„å¤§äº10ï¼Œåˆ™è¿”å›trueï¼Œå†…éƒ¨æ–¹æ³•å°±ä¼šå°†è¿™ä¸ªå­¦ç”ŸåŠ å…¥åˆ°æ–°åˆ—è¡¨</span>
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> <span class="hljs-title">IsOver10</span>(<span class="hljs-params">Student student</span>)</span>
    {
        <span class="hljs-keyword">return</span> student.StudentAge &gt; <span class="hljs-number">10</span>;
    }
}
</code></pre>
<p><strong>è¿è¡Œç»“æœ</strong>ï¼š</p>
<pre><code class="hljs language-cs" lang="cs">ç­›é€‰å¤§äº<span class="hljs-number">1000</span>çš„è®¢å•çš„ç”¨æˆ·ï¼š
æå››çš„èµ„äº§æ˜¯ï¼š<span class="hljs-number">1200</span>
ç‹äº”çš„èµ„äº§æ˜¯ï¼š<span class="hljs-number">1500</span>
ç­›é€‰å¹´é¾„å¤§äº<span class="hljs-number">10</span>å²çš„å­¦ç”Ÿï¼š
å­¦ç”Ÿåï¼šå°çº¢,å­¦ç”Ÿå¹´é¾„ï¼š<span class="hljs-number">11</span>
å­¦ç”Ÿåï¼šå°æ–‡,å­¦ç”Ÿå¹´é¾„ï¼š<span class="hljs-number">12</span>
</code></pre>
<p>ç»†å¿ƒçš„åŒå­¦å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œæ˜æ˜æˆ‘ä»¬å®šä¹‰çš„<code>MyWhere</code>æ˜¯æ³›å‹æ–¹æ³•ï¼ŒæŒ‰é“ç†æ¥è¯´ç”¨<code>MyLinqExtensions.MyWhere&lt;Student&gt;(students,IsOver10);</code>è¿™æ ·çš„å¸¦å°–æ‹¬å·çš„è°ƒç”¨æ‰æ˜¯æ­£ç¡®çš„ï¼Œä¸ºä»€ä¹ˆ<code>MyLinqExtensions.MyWhere(orders,IsOver1000);</code>è¿™æ ·ä¸ç”¨å°–æ‹¬å·è°ƒç”¨ä¹Ÿè¡Œå‘¢ï¼Ÿ</p>
<p>åŸå› çš„<code>MyWhere</code>æ–¹æ³•ä¼ é€’çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>List&lt;T&gt;</code>ç±»å‹çš„é›†åˆï¼Œåªè¦ä¼ é€’äº†ä¸€ä¸ªç±»å‹é›†åˆçš„å‚æ•°ï¼Œ<code>MyWhere</code>æ–¹æ³•å°±çŸ¥é“äº†å‚æ•°ç±»å‹æ˜¯ä»€ä¹ˆï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ä¼ é€’äº†ä¸€ä¸ªè®¢å•åˆ—è¡¨<code>List&lt;Order&gt;</code>ç±»å‹çš„<code>orders</code>ï¼Œé‚£ä¹ˆ<code>MyWhere</code>æ–¹æ³•å°±çŸ¥é“äº†å®ƒçš„å‚æ•°ç±»å‹æ˜¯<code>Order</code>ï¼Œå³<code>MyWhere&lt;Order&gt;</code>ï¼Œè¿™ä¸ªåé¢çš„å°–æ‹¬å·å¯ä»¥çœç•¥ï¼Œå› ä¸ºå‚æ•°éƒ¨åˆ†å·²ç»æ˜ç¡®ç»™å‡ºäº†å‚æ•°<code>T</code>çš„ç±»å‹ã€‚æ‰€ä»¥<code>MyLinqExtensions.MyWhere(orders,IsOver1000);</code>å¯ä»¥æ­£å¸¸è°ƒç”¨ã€‚</p>
<p><strong>å¯æ”¹è¿›ç‚¹</strong>ï¼š</p>
<ul>
<li>åˆ©ç”¨æ‹“å±•æ–¹æ³•å°†<code>MyLinqExtensions.MyWhere(orders,IsOver1000);</code>è¿™ä¸ªå¼å­ç®€åŒ–</li>
<li>åˆ©ç”¨<code>Lambda</code>è¡¨è¾¾å¼ï¼Œå°†è¦ä¼ é€’çš„ç­›é€‰æ–¹æ³•<code>IsOver1000</code>ç­‰ç®€åŒ–</li>
</ul>
<p>ä¸çŸ¥é“è¿™ä¸¤ä¸ªçŸ¥è¯†ç‚¹çš„åŒå­¦å¯ä»¥çœ‹æˆ‘ä¸Šä¸€ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/7583293030172639278" target="_blank" title="https://juejin.cn/post/7583293030172639278">.NETè¿›é˜¶â€”â€”æ·±å…¥ç†è§£Lambdaè¡¨è¾¾å¼ï¼ˆ1ï¼‰Lambdaå…¥é—¨ä¸€ã€Lambda è¡¨è¾¾å¼çš„æ¼”å˜å²ï¼šä» â€œç¹â€ åˆ° â€œç®€â€ - æ˜é‡‘</a></p>
<h5 data-id="heading-11">4.0 ç‰ˆæœ¬(åˆ©ç”¨æ‹“å±•æ–¹æ³•å’ŒLambdaè¡¨è¾¾å¼ç®€åŒ–ä»£ç )</h5>
<p>è¿˜è®°å¾—æ‹“å±•æ–¹æ³•çš„è¦ç‚¹å—ï¼Ÿ<strong>é™æ€ç±»+é™æ€æ–¹æ³•+thiså…³é”®å­—</strong>ï¼Œæˆ‘ä»¬æ¥æ”¹é€ ä»¥ä¸‹<code>MyWhere</code>æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyLinqExtensions</span>
{
    <span class="hljs-comment">// 4.0ç‰ˆæœ¬ï¼šå› ä¸ºæœ¬æ¥å°±æ˜¯é™æ€ç±»é™æ€æ–¹æ³•ï¼Œæ‰€ä»¥è¿™é‡Œåªéœ€è¦åŠ ä¸€ä¸ªthiså…³é”®å­—</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">List</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">MyWhere</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">this</span> List&lt;T&gt; list,Func&lt;T,<span class="hljs-built_in">bool</span>&gt; func</span>)</span>
    {
        List&lt;T&gt; newList = <span class="hljs-keyword">new</span> List&lt;T&gt;();
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> list)
        {
            <span class="hljs-keyword">if</span> (func(order))
            {
                newList.Add(order);
            }
        }
        <span class="hljs-keyword">return</span> newList;
    }
}
</code></pre>
<p>æ”¹é€ å®Œæˆåï¼Œå°±å¯ä»¥è¿™æ ·è°ƒç”¨äº†ï¼š</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">var</span> myNewList = orders.MyWhere(IsOver1000);
<span class="hljs-keyword">var</span> myNewStudentList = students.MyWhere(IsOver10);
</code></pre>
<p>ç„¶åæˆ‘ä»¬è¿›ä¸€æ­¥æ”¹é€ ï¼Œè¿˜è®°å¾—<code>Lambda</code>è¡¨è¾¾å¼å—ï¼Ÿæœ¬è´¨å°±æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°å¯¹ä¸å¯¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†<code>IsOver1000</code>å’Œ<code>IsOver10</code>æ”¹é€ ä¸€ä¸‹ï¼Œè®©ä»–ä¸è¦ä¼ é€’å‡½æ•°åï¼Œç›´æ¥å°†åŒ¿åå‡½æ•°ä¼ é€’è¿›å»ï¼š</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">var</span> myNewList = orders.MyWhere(p=&gt;p.Amount&gt;<span class="hljs-number">1000</span>);
<span class="hljs-keyword">var</span> myNewStudentList = students.MyWhere(q=&gt;q.StudentAge&gt;<span class="hljs-number">10</span>);
</code></pre>
<p>ä¸ºä»€ä¹ˆè¿™é‡Œå¯ä»¥ç”¨<code>p``q</code>å‘¢ï¼Ÿ<code>p``q</code>æ˜¯å•¥ï¼Ÿ</p>
<p>ç”±äºæˆ‘ä»¬çš„<code>MyWhere</code>æ–¹æ³•æ¥æ”¶çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå§”æ‰˜ï¼Œä»–æ¥å—ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œç”±äºæˆ‘ä»¬å‰é¢å·²ç»é€šè¿‡ç¬¬ä¸€ä¸ªå‚æ•°çŸ¥é“äº†ç±»å‹<code>T</code>æ˜¯ä»€ä¹ˆï¼Œå‡å¦‚è¿™é‡Œç±»å‹<code>T</code>æ˜¯Studentï¼Œé‚£ä¹ˆè¿™é‡Œè¦æ¥æ”¶çš„æ–¹æ³•å°±æ˜¯ï¼š<strong>æ¥æ”¶ä¸€ä¸ª<code>Student</code>ç±»å‹çš„å®ä¾‹pï¼Œå¦‚æœpçš„å¹´é¾„å¤§äº10å²ï¼Œå°±è¿”å›çœŸ</strong>ã€‚
<strong>å®Œæ•´ä»£ç å’Œè¾“å‡ºç»“æœï¼š</strong></p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;

<span class="hljs-comment">// è®¢å•å®ä½“ï¼ˆæ–°æ‰‹èƒ½ç†è§£çš„ç®€å•ç±»ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Order</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> OrderId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">decimal</span> Amount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Customer { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> StudentId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> StudentName { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> StudentAge { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-comment">// å­˜æ”¾è‡ªå®šä¹‰LINQæ‰©å±•æ–¹æ³•çš„é™æ€ç±»ï¼ˆå¿…é¡»é™æ€ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyLinqExtensions</span>
{
    <span class="hljs-comment">// 4.0ç‰ˆæœ¬:åŠ å…¥æ‹“å±•æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">List</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">MyWhere</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">this</span> List&lt;T&gt; list,Func&lt;T,<span class="hljs-built_in">bool</span>&gt; func</span>)</span>
    {
        List&lt;T&gt; newList = <span class="hljs-keyword">new</span> List&lt;T&gt;();
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> list)
        {
            <span class="hljs-keyword">if</span> (func(order))
            {
                newList.Add(order);
            }
        }
        <span class="hljs-keyword">return</span> newList;
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// æ¨¡æ‹Ÿè®¢å•æ•°æ®æº</span>
        List&lt;Order&gt; orders = <span class="hljs-keyword">new</span> List&lt;Order&gt;
        {
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">1</span>, Amount = <span class="hljs-number">800</span>, Customer = <span class="hljs-string">"å¼ ä¸‰"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">2</span>, Amount = <span class="hljs-number">1200</span>, Customer = <span class="hljs-string">"æå››"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">3</span>, Amount = <span class="hljs-number">1500</span>, Customer = <span class="hljs-string">"ç‹äº”"</span> }
        };
        List&lt;Student&gt; students = <span class="hljs-keyword">new</span> List&lt;Student&gt;()
        {
            <span class="hljs-keyword">new</span> Student() { StudentId = <span class="hljs-number">1</span>, StudentAge = <span class="hljs-number">10</span>, StudentName = <span class="hljs-string">"å°æ˜"</span> },
            <span class="hljs-keyword">new</span> Student() { StudentId = <span class="hljs-number">2</span>, StudentAge = <span class="hljs-number">11</span>, StudentName = <span class="hljs-string">"å°çº¢"</span> },
            <span class="hljs-keyword">new</span> Student() { StudentId = <span class="hljs-number">3</span>, StudentAge = <span class="hljs-number">12</span>, StudentName = <span class="hljs-string">"å°æ–‡"</span> }
        };

        <span class="hljs-keyword">var</span> myNewList = orders.MyWhere(p=&gt;p.Amount&gt;<span class="hljs-number">1000</span>);
        <span class="hljs-keyword">var</span> myNewStudentList = students.MyWhere(q=&gt;q.StudentAge&gt;<span class="hljs-number">10</span>);
        
       Console.WriteLine(<span class="hljs-string">"ç­›é€‰å¤§äº1000çš„è®¢å•çš„ç”¨æˆ·ï¼š"</span>);
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> myNewList)
        {
            Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{order.Customer}</span>çš„èµ„äº§æ˜¯ï¼š<span class="hljs-subst">{order.Amount}</span>"</span>);
        }
        
        Console.WriteLine(<span class="hljs-string">"ç­›é€‰å¹´é¾„å¤§äº10å²çš„å­¦ç”Ÿï¼š"</span>);
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> student <span class="hljs-keyword">in</span> myNewStudentList)
        {
            Console.WriteLine(<span class="hljs-string">$"å­¦ç”Ÿåï¼š<span class="hljs-subst">{student.StudentName}</span>,å­¦ç”Ÿå¹´é¾„ï¼š<span class="hljs-subst">{student.StudentAge}</span>"</span>);
        }

    }
}
</code></pre>
<p><strong>è¾“å‡ºç»“æœï¼š</strong></p>
<pre><code class="hljs language-cs" lang="cs">ç­›é€‰å¤§äº<span class="hljs-number">1000</span>çš„è®¢å•çš„ç”¨æˆ·ï¼š
æå››çš„èµ„äº§æ˜¯ï¼š<span class="hljs-number">1200</span>
ç‹äº”çš„èµ„äº§æ˜¯ï¼š<span class="hljs-number">1500</span>
ç­›é€‰å¹´é¾„å¤§äº<span class="hljs-number">10</span>å²çš„å­¦ç”Ÿï¼š
å­¦ç”Ÿåï¼šå°çº¢,å­¦ç”Ÿå¹´é¾„ï¼š<span class="hljs-number">11</span>
å­¦ç”Ÿåï¼šå°æ–‡,å­¦ç”Ÿå¹´é¾„ï¼š<span class="hljs-number">12</span>
</code></pre>
<h5 data-id="heading-12">5.0 ç‰ˆæœ¬(æœ€ç»ˆç‰ˆ)</h5>
<p>æ²¡æƒ³åˆ°å§ï¼Œè¿˜å¯ä»¥ä¼˜åŒ–ï¼Œç°åœ¨è¿˜æ˜¯æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>ç°åœ¨åªèƒ½ç”¨åœ¨<code>List</code>é›†åˆä¸Šï¼Œå› ä¸ºå®šä¹‰çš„æ˜¯<code>List&lt;T&gt;</code>ï¼Œå¦‚æœè¦ç”¨åœ¨æ•°ç»„<code>Array</code>æˆ–è€…å“ˆå¸Œé›†åˆ<code>HashSet&lt;T&gt;</code>ä¸Šå°±æ²¡åŠæ³•äº†ã€‚</li>
<li>å‡½æ•°å†…éƒ¨çš„<code>foreach</code>å¾ªç¯ç»“æŸå†è¿”å›ï¼Œå¦‚æœé›†åˆæ•°é‡å¾ˆå¤§ï¼Œä¼šåœ¨<code>MyWhere</code>æ–¹æ³•å†…éƒ¨å¾ªç¯å¾ˆä¹…ï¼Œä½“éªŒéå¸¸ä¸å¥½ã€‚</li>
</ul>
<p>æ”¹é€ åï¼š</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyLinqExtensions</span>
{
    <span class="hljs-comment">// æ‰©å±•IEnumerable&lt;T&gt;ï¼Œè€ŒéList&lt;T&gt;</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">MyWhere</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">this</span> IEnumerable&lt;T&gt; source, Func&lt;T, <span class="hljs-built_in">bool</span>&gt; func</span>)</span>
    {
        <span class="hljs-comment">// ä¸å†æå‰new List&lt;T&gt;ï¼Œè€Œæ˜¯ç”¨yield returnå®ç°â€œå»¶è¿Ÿæ‰§è¡Œâ€</span>
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> source)
        {
            <span class="hljs-keyword">if</span> (func(item))
            {
                <span class="hljs-comment">// æ¯æ¬¡éå†æ‰è¿”å›ä¸€ä¸ªå…ƒç´ ï¼Œè€Œéä¸€æ¬¡æ€§åˆ›å»ºæ•´ä¸ªé›†åˆ</span>
                <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> item;
            }
        }
    }
</code></pre>
<h6 data-id="heading-13">å¥½å¤„ 1ï¼šé€šç”¨æ€§æ‹‰æ»¡ â€”â€” é€‚é…æ‰€æœ‰å¯éå†é›†åˆï¼ˆæœ€ç›´è§‚çš„å¥½å¤„ï¼‰</h6>
<p>ä½ çš„<code>List&lt;T&gt;</code>ç‰ˆæœ¬çš„<code>MyWhere</code>æœ‰ä¸ªè‡´å‘½é™åˆ¶ï¼š<strong>åªèƒ½ç»™ List ç”¨</strong>ï¼Œå¦‚æœæƒ³ç­›é€‰æ•°ç»„ã€HashSetï¼Œå°±ä¼šç¼–è¯‘æŠ¥é”™ï¼›è€Œ<code>IEnumerable&lt;T&gt;</code>ç‰ˆæœ¬èƒ½é€‚é…æ‰€æœ‰å®ç°è¯¥æ¥å£çš„é›†åˆã€‚</p>
<h6 data-id="heading-14">å¥½å¤„ 2ï¼šæ”¯æŒå»¶è¿Ÿæ‰§è¡Œï¼ˆæ‡’åŠ è½½ï¼‰â€”â€” å¤§å¹…æå‡æ€§èƒ½ / èŠ‚çœå†…å­˜</h6>
<p>è¿™æ˜¯<code>IEnumerable&lt;T&gt;</code>æœ€æ ¸å¿ƒçš„ä¼˜åŠ¿ï¼Œä¹Ÿæ˜¯ LINQ çš„ â€œçµé­‚ç‰¹æ€§â€ï¼š</p>
<ul>
<li>ä½ çš„<code>List&lt;T&gt;</code>ç‰ˆæœ¬ï¼šè°ƒç”¨<code>MyWhere</code>æ—¶ï¼Œä¼šç«‹å³éå†åŸé›†åˆï¼Œåˆ›å»ºæ–°çš„<code>List&lt;T&gt;</code>å¹¶å¡«å……æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼ˆ<strong>ç«‹å³æ‰§è¡Œ</strong>ï¼‰ï¼›</li>
<li><code>IEnumerable&lt;T&gt;</code>ç‰ˆæœ¬ï¼šè°ƒç”¨<code>MyWhere</code>æ—¶ï¼Œ<strong>ä¸ä¼šæ‰§è¡Œä»»ä½•éå† / ç­›é€‰é€»è¾‘</strong>ï¼Œç›´åˆ°ä½ ç”¨<code>foreach</code>éå†ç»“æœã€è°ƒç”¨<code>ToList()</code>/<code>ToArray()</code>æ—¶ï¼Œæ‰ä¼šé€ä¸ªéå†å…ƒç´ å¹¶ç­›é€‰ï¼ˆ<strong>å»¶è¿Ÿæ‰§è¡Œ</strong>ï¼‰</li>
</ul>
<h4 data-id="heading-15">å¥½å¤„ 3ï¼šç¬¦åˆ â€œé¢å‘æŠ½è±¡ç¼–ç¨‹â€â€”â€” ä»£ç æ›´çµæ´»ã€æ˜“æ‰©å±•</h4>
<p>è½¯ä»¶å¼€å‘çš„æ ¸å¿ƒåŸåˆ™ä¹‹ä¸€æ˜¯ â€œ<strong>ä¾èµ–æŠ½è±¡ï¼Œè€Œéå…·ä½“å®ç°</strong>â€ï¼š</p>
<ul>
<li><code>List&lt;T&gt;</code>æ˜¯ â€œå…·ä½“å®ç°â€ï¼ˆæ¯”å¦‚å®ƒæœ‰ Addã€Removeã€Sort ç­‰ç‰¹æœ‰æ–¹æ³•ï¼‰ï¼›</li>
<li><code>IEnumerable&lt;T&gt;</code>æ˜¯ â€œæŠ½è±¡æ¥å£â€ï¼ˆåªå®šä¹‰äº† â€œèƒ½éå†â€ è¿™ä¸€ä¸ªæ ¸å¿ƒèƒ½åŠ›ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-16">å¥½å¤„ 4ï¼šæ”¯æŒé“¾å¼è°ƒç”¨çš„æµå¼å¤„ç†</h4>
<p><code>IEnumerable&lt;T&gt;</code>çš„å»¶è¿Ÿæ‰§è¡Œç‰¹æ€§ï¼Œè®© LINQ çš„é“¾å¼è°ƒç”¨ï¼ˆ<code>.Where().Select().OrderBy()</code>ï¼‰å˜æˆ â€œæµå¼å¤„ç†â€ï¼š</p>
<ul>
<li>æ¯ä¸ªæ­¥éª¤éƒ½ä¸åˆ›å»ºä¸­é—´é›†åˆï¼Œè€Œæ˜¯åœ¨éå†æœ€ç»ˆç»“æœæ—¶ï¼Œä¸€æ¬¡æ€§å®Œæˆæ‰€æœ‰æ­¥éª¤ï¼ˆæ¯”å¦‚å…ˆç­›é€‰ã€å†è½¬æ¢ã€å†æ’åºï¼Œåªéå†ä¸€æ¬¡é›†åˆï¼‰ï¼›</li>
<li>è€Œä½ çš„<code>List&lt;T&gt;</code>ç‰ˆæœ¬ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡<code>MyWhere</code>å°±åˆ›å»ºä¸€ä¸ªæ–° Listï¼Œé“¾å¼è°ƒç”¨ä¼šäº§ç”Ÿå¤šä¸ªä¸­é—´é›†åˆï¼ˆæ¯”å¦‚<code>.MyWhere().MySelect()</code>ä¼šåˆ›å»º 2 ä¸ª Listï¼‰ï¼Œå†…å­˜å¼€é”€å¤§ã€‚</li>
</ul>
<p><strong>æ ¸å¿ƒè§£æ</strong>ï¼š</p>
<ul>
<li><code>MyWhere</code>æ˜¯æ‰©å±•æ–¹æ³•ï¼Œ<code>this List&lt;T&gt; source</code>è¡¨ç¤ºç»™æ‰€æœ‰<code>List&lt;T&gt;</code>æ‰©å±•è¿™ä¸ªæ–¹æ³•ï¼ˆæ³›å‹é€‚é…ä»»æ„é›†åˆï¼‰ï¼›</li>
<li><code>Func&lt;T, bool&gt; predicate</code>æ˜¯ Lambda çš„ â€œå®¹å™¨â€ï¼Œ<code>o =&gt; o.Amount &gt; 1000</code>å°±æ˜¯ä¼ å…¥çš„ç­›é€‰è§„åˆ™ï¼›</li>
<li>åº•å±‚é€»è¾‘å°±æ˜¯ foreach å¾ªç¯ï¼Œè°ƒç”¨ Lambda åˆ¤æ–­æ¯ä¸ªå…ƒç´ æ˜¯å¦ç¬¦åˆè§„åˆ™ï¼Œç¬¦åˆå°±åŠ å…¥ç»“æœåˆ—è¡¨ â€”â€” è¿™å°±æ˜¯åŸç”Ÿ LINQ Where çš„æ ¸å¿ƒé€»è¾‘ã€‚</li>
</ul>
<p><strong>5.0ç‰ˆæœ¬ï¼šæœ€ç»ˆç‰ˆæœ¬ä»£ç ä¸ç»“æœï¼š</strong></p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;

<span class="hljs-comment">// è®¢å•å®ä½“ï¼ˆæ–°æ‰‹èƒ½ç†è§£çš„ç®€å•ç±»ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Order</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> OrderId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">decimal</span> Amount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Customer { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> StudentId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> StudentName { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> StudentAge { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-comment">// å­˜æ”¾è‡ªå®šä¹‰LINQæ‰©å±•æ–¹æ³•çš„é™æ€ç±»ï¼ˆå¿…é¡»é™æ€ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyLinqExtensions</span>
{
    <span class="hljs-comment">// 5.0ç‰ˆæœ¬</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">MyWhere</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">this</span> IEnumerable&lt;T&gt; list,Func&lt;T,<span class="hljs-built_in">bool</span>&gt; func</span>)</span>
    {
        <span class="hljs-keyword">if</span> (source == <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(source));
        <span class="hljs-keyword">if</span> (selector == <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(selector));
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> list)
        {
            <span class="hljs-keyword">if</span> (func(order))
            {
                <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> order;
            }
        }
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// æ¨¡æ‹Ÿè®¢å•æ•°æ®æº</span>
        List&lt;Order&gt; orders = <span class="hljs-keyword">new</span> List&lt;Order&gt;
        {
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">1</span>, Amount = <span class="hljs-number">800</span>, Customer = <span class="hljs-string">"å¼ ä¸‰"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">2</span>, Amount = <span class="hljs-number">1200</span>, Customer = <span class="hljs-string">"æå››"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">3</span>, Amount = <span class="hljs-number">1500</span>, Customer = <span class="hljs-string">"ç‹äº”"</span> }
        };
        List&lt;Student&gt; students = <span class="hljs-keyword">new</span> List&lt;Student&gt;()
        {
            <span class="hljs-keyword">new</span> Student() { StudentId = <span class="hljs-number">1</span>, StudentAge = <span class="hljs-number">10</span>, StudentName = <span class="hljs-string">"å°æ˜"</span> },
            <span class="hljs-keyword">new</span> Student() { StudentId = <span class="hljs-number">2</span>, StudentAge = <span class="hljs-number">11</span>, StudentName = <span class="hljs-string">"å°çº¢"</span> },
            <span class="hljs-keyword">new</span> Student() { StudentId = <span class="hljs-number">3</span>, StudentAge = <span class="hljs-number">12</span>, StudentName = <span class="hljs-string">"å°æ–‡"</span> }
        };

        <span class="hljs-keyword">var</span> myNewList = orders.MyWhere(p=&gt;p.Amount&gt;<span class="hljs-number">1000</span>);
        Console.WriteLine(<span class="hljs-string">"ç­›é€‰å¤§äº1000çš„è®¢å•çš„ç”¨æˆ·ï¼š"</span>);
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> order <span class="hljs-keyword">in</span> myNewList)
        {
            Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{order.Customer}</span>çš„èµ„äº§æ˜¯ï¼š<span class="hljs-subst">{order.Amount}</span>"</span>);
        }

        <span class="hljs-keyword">var</span> myNewStudentList = students.MyWhere(q=&gt;q.StudentAge&gt;<span class="hljs-number">10</span>);
        Console.WriteLine(<span class="hljs-string">"ç­›é€‰å¹´é¾„å¤§äº10å²çš„å­¦ç”Ÿï¼š"</span>);
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> student <span class="hljs-keyword">in</span> myNewStudentList)
        {
            Console.WriteLine(<span class="hljs-string">$"å­¦ç”Ÿåï¼š<span class="hljs-subst">{student.StudentName}</span>,å­¦ç”Ÿå¹´é¾„ï¼š<span class="hljs-subst">{student.StudentAge}</span>"</span>);
        }

    }
}
</code></pre>
<h4 data-id="heading-17">æ­¥éª¤ 3ï¼šæ‰‹åŠ¨å®ç° Select æ–¹æ³•ï¼ˆè½¬æ¢ / æŠ•å½±æ•°æ®ï¼‰</h4>
<p>ä¸Šé¢æˆ‘ä»¬éå¸¸è¯¦ç»†çš„ä»‹ç»äº†<code>Where</code>æ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„ï¼Œè¿™é‡Œçš„<code>Select</code>æ–¹æ³•æˆ‘ä»¬å°±ä¸å†ä»å¤´æè¿°ï¼Œç›´æ¥ç»™å‡ºæœ€ç»ˆä»£ç ã€‚</p>
<p><strong>èƒŒæ™¯</strong>ï¼šéœ€è¦å°†æ•°æ®è½¬æ¢æˆå¦ä¸€ç§æ ¼å¼ï¼ˆæ¯”å¦‚è®¢å•â†’åªä¿ç•™ ID å’Œå®¢æˆ·åï¼‰ï¼ŒSelect æ–¹æ³•çš„æ ¸å¿ƒæ˜¯ â€œæ¥æ”¶è½¬æ¢è§„åˆ™ï¼ˆLambdaï¼‰ï¼Œè¿”å›è½¬æ¢åçš„å…ƒç´ åˆ—è¡¨â€ã€‚</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">TResult</span>&gt; <span class="hljs-title">MySelect</span>&lt;<span class="hljs-title">T</span>, <span class="hljs-title">TResult</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">this</span> IEnumerable&lt;T&gt; source, Func&lt;T, TResult&gt; selector</span>)</span>
    {
        <span class="hljs-comment">// å¥å£®æ€§æ ¡éªŒ</span>
        <span class="hljs-keyword">if</span> (source == <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(source), <span class="hljs-string">"æ•°æ®æºä¸èƒ½ä¸ºnull"</span>);
        <span class="hljs-keyword">if</span> (selector == <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(selector), <span class="hljs-string">"è½¬æ¢è§„åˆ™ä¸èƒ½ä¸ºnull"</span>);

        <span class="hljs-comment">// å»¶è¿Ÿæ‰§è¡Œï¼šéå†åˆ°å…ƒç´ æ—¶æ‰è½¬æ¢ï¼Œè½¬æ¢åé€ä¸ªè¿”å›</span>
        <span class="hljs-keyword">foreach</span> (T item <span class="hljs-keyword">in</span> source)
        {
            TResult convertedItem = selector(item);
            <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> convertedItem; <span class="hljs-comment">// æ ¸å¿ƒï¼šå»¶è¿Ÿè¿”å›è½¬æ¢åçš„å…ƒç´ </span>
        }
    }
</code></pre>
<p><strong>è°ƒç”¨è‡ªå®šä¹‰ Select æ–¹æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-comment">// åœ¨Mainæ–¹æ³•ä¸­</span>
<span class="hljs-comment">// å…ˆç­›é€‰ï¼Œå†è½¬æ¢ï¼šé‡‘é¢&gt;1000çš„è®¢å• â†’ åªä¿ç•™IDå’Œå®¢æˆ·åï¼ˆåŒ¿åç±»ï¼‰</span>
<span class="hljs-keyword">var</span> simplifiedOrders = orders
    .MyWhere(o =&gt; o.Amount &gt; <span class="hljs-number">1000</span>) <span class="hljs-comment">// è‡ªå®šä¹‰Whereç­›é€‰</span>
    .MySelect(o =&gt; <span class="hljs-keyword">new</span> { è®¢å•ID = o.OrderId, å®¢æˆ· = o.Customer }); <span class="hljs-comment">// è‡ªå®šä¹‰Selectè½¬æ¢</span>

Console.WriteLine(<span class="hljs-string">"\nè‡ªå®šä¹‰Selectè½¬æ¢ç»“æœï¼š"</span>);
<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> simplifiedOrders)
{
    Console.WriteLine(<span class="hljs-string">$"è®¢å•IDï¼š<span class="hljs-subst">{item.è®¢å•ID}</span>ï¼Œå®¢æˆ·ï¼š<span class="hljs-subst">{item.å®¢æˆ·}</span>"</span>);
}
</code></pre>
<p>è¿™é‡Œçš„<code>Select</code>å…¶å®å’Œ<code>Where</code>æ²¡ä»€ä¹ˆå¤ªå¤§çš„åŒºåˆ«ï¼Œåªä¸è¿‡å°±æ˜¯å°†å§”æ‰˜å‚æ•°å˜æˆäº†ï¼š<code>Func&lt;T, TResult&gt; selector</code>ï¼Œæ¥æ”¶çš„æ–¹æ³•ä¼ å…¥çš„æ˜¯ä¸€ä¸ª<code>T</code>ç±»å‹ï¼Œè¾“å‡ºçš„æ˜¯ä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œä»è°ƒç”¨ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œè¿™é‡Œè¿˜ä½¿ç”¨åˆ°äº†åŒ¿åå‡½æ•°ï¼Œ<code>o =&gt; new { è®¢å•ID = o.OrderId, å®¢æˆ· = o.Customer }</code>è¿™ä¸ªLambdaè¡¨è¾¾å¼çš„æ„æ€å°±æ˜¯ï¼Œå‚æ•°æ¥æ”¶ä¸€ä¸ª<code>Order</code>ç±»å‹çš„o,è¿”å›ä¸€ä¸ªåŒ¿åå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æœ‰ä¸¤ä¸ªå±æ€§ä¸€ä¸ªæ˜¯<code>è®¢å•ID</code>ï¼Œä¸€ä¸ªæ˜¯<code>å®¢æˆ·</code>ã€‚</p>
<p><strong>è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql">è‡ªå®šä¹‰<span class="hljs-keyword">Select</span>è½¬æ¢ç»“æœï¼š
è®¢å•IDï¼š<span class="hljs-number">2</span>ï¼Œå®¢æˆ·ï¼šæå››
è®¢å•IDï¼š<span class="hljs-number">3</span>ï¼Œå®¢æˆ·ï¼šç‹äº”
</code></pre>
<p><strong>æ ¸å¿ƒè§£æ</strong>ï¼š</p>
<ul>
<li><code>MySelect</code>æ˜¯æ³›å‹æ‰©å±•æ–¹æ³•ï¼Œ<code>Func&lt;T, TResult&gt; selector</code>æ¥æ”¶è½¬æ¢è§„åˆ™ï¼ˆæ¯”å¦‚æŠŠ Order è½¬æ¢æˆåŒ¿åç±»ï¼‰ï¼›</li>
<li>åº•å±‚è¿˜æ˜¯ foreach å¾ªç¯ï¼Œè°ƒç”¨ Lambda æŠŠæ¯ä¸ªå…ƒç´ è½¬æ¢æˆç›®æ ‡æ ¼å¼ â€”â€” åŸç”Ÿ LINQ Select çš„æ ¸å¿ƒå°±æ˜¯è¿™ä¸ªé€»è¾‘ã€‚</li>
</ul>
<h4 data-id="heading-18">æ­¥éª¤ 4ï¼šæ‰‹åŠ¨å®ç° FirstOrDefault æ–¹æ³•ï¼ˆæŸ¥æ‰¾ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰</h4>
<p><strong>èƒŒæ™¯</strong>ï¼šéœ€è¦å¿«é€Ÿæ‰¾ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œæ²¡æœ‰åˆ™è¿”å›é»˜è®¤å€¼ï¼ˆæ¯”å¦‚ nullï¼‰ï¼Œä¸ç”¨å†™ foreach éå†æ‰¾ç¬¬ä¸€ä¸ªã€‚</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> T <span class="hljs-title">MyFirstOrDefault</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">this</span> IEnumerable&lt;T&gt; source, Func&lt;T, <span class="hljs-built_in">bool</span>&gt; predicate</span>)</span>
    {
        <span class="hljs-comment">// å¥å£®æ€§æ ¡éªŒ</span>
        <span class="hljs-keyword">if</span> (source == <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(source), <span class="hljs-string">"æ•°æ®æºä¸èƒ½ä¸ºnull"</span>);
        <span class="hljs-keyword">if</span> (predicate == <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(predicate), <span class="hljs-string">"ç­›é€‰è§„åˆ™ä¸èƒ½ä¸ºnull"</span>);

        <span class="hljs-comment">// éå†IEnumerable&lt;T&gt;ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ ç«‹å³è¿”å›ï¼ˆæ— éœ€éå†å…¨éƒ¨ï¼‰</span>
        <span class="hljs-keyword">foreach</span> (T item <span class="hljs-keyword">in</span> source)
        {
            <span class="hljs-keyword">if</span> (predicate(item))
            {
                <span class="hljs-keyword">return</span> item;
            }
        }

        <span class="hljs-comment">// æ— ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œè¿”å›Tçš„é»˜è®¤å€¼ï¼ˆå¼•ç”¨ç±»å‹nullï¼Œå€¼ç±»å‹0ç­‰ï¼‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">default</span>(T);
    }
</code></pre>
<p><strong>è°ƒç”¨è‡ªå®šä¹‰ FirstOrDefault æ–¹æ³•</strong>ï¼š</p>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-comment">// åœ¨Mainæ–¹æ³•ä¸­</span>
<span class="hljs-comment">// æ‰¾ç¬¬ä¸€ä¸ªå®¢æˆ·æ˜¯â€œæå››â€çš„è®¢å•</span>
Order liSiOrder = orders.MyFirstOrDefault(o =&gt; o.Customer == <span class="hljs-string">"æå››"</span>);
<span class="hljs-comment">// æ‰¾ç¬¬ä¸€ä¸ªå®¢æˆ·æ˜¯â€œèµµå…­â€çš„è®¢å•ï¼ˆä¸å­˜åœ¨ï¼Œè¿”å›nullï¼‰</span>
Order zhaoLiuOrder = orders.MyFirstOrDefault(o =&gt; o.Customer == <span class="hljs-string">"èµµå…­"</span>);

Console.WriteLine(<span class="hljs-string">"\nè‡ªå®šä¹‰FirstOrDefaultæŸ¥æ‰¾ç»“æœï¼š"</span>);
Console.WriteLine(<span class="hljs-string">$"æå››çš„è®¢å•IDï¼š<span class="hljs-subst">{liSiOrder?.OrderId}</span>"</span>); <span class="hljs-comment">// è¾“å‡º2</span>
Console.WriteLine(<span class="hljs-string">$"èµµå…­çš„è®¢å•ï¼š<span class="hljs-subst">{(zhaoLiuOrder == <span class="hljs-literal">null</span> ? <span class="hljs-string">"ä¸å­˜åœ¨"</span> : zhaoLiuOrder.OrderId)}</span>"</span>); <span class="hljs-comment">// è¾“å‡ºä¸å­˜åœ¨</span>
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs">è‡ªå®šä¹‰FirstOrDefaultæŸ¥æ‰¾ç»“æœï¼š
æå››çš„è®¢å•IDï¼š2
èµµå…­çš„è®¢å•ï¼šä¸å­˜åœ¨
</code></pre>
<p><strong>æ ¸å¿ƒè§£æ</strong>ï¼š</p>
<ul>
<li>åº•å±‚æ˜¯ foreach å¾ªç¯ï¼Œä½†æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ å°±ç«‹å³è¿”å›ï¼ˆæ€§èƒ½æ¯”éå†å…¨éƒ¨é«˜ï¼‰ï¼›</li>
<li><code>default(T)</code>æ˜¯æ³›å‹é»˜è®¤å€¼ï¼šå¼•ç”¨ç±»å‹ï¼ˆå¦‚ Orderï¼‰è¿”å› nullï¼Œå€¼ç±»å‹ï¼ˆå¦‚ intï¼‰è¿”å› 0ï¼Œbool è¿”å› falseã€‚</li>
</ul>
<h3 data-id="heading-19">ä¸‰ã€å®Œæ•´ç¤ºä¾‹ï¼šç”¨è‡ªå®šä¹‰ LINQ æ–¹æ³•å¤„ç†è®¢å•æ•°æ®</h3>
<pre><code class="hljs language-cs" lang="cs"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Collections.Generic;

<span class="hljs-comment">// è®¢å•/å­¦ç”Ÿå®ä½“ä¿æŒä¸å˜</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Order</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> OrderId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">decimal</span> Amount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Customer { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Student</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> StudentId { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> StudentName { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> StudentAge { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}

<span class="hljs-comment">// ç¬¦åˆå®˜æ–¹é£æ ¼çš„è‡ªå®šä¹‰LINQæ‰©å±•ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MyLinqExtensions</span>
{
    <span class="hljs-meta">#<span class="hljs-keyword">region</span> 1. MyWhereï¼ˆåŸºäºIEnumerable&lt;T&gt; + å»¶è¿Ÿæ‰§è¡Œï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> è‡ªå®šä¹‰Whereï¼šç­›é€‰ç¬¦åˆè§„åˆ™çš„å…ƒç´ ï¼ˆå®˜æ–¹é£æ ¼ï¼Œå»¶è¿Ÿæ‰§è¡Œï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">T</span>&gt; <span class="hljs-title">MyWhere</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">this</span> IEnumerable&lt;T&gt; source, Func&lt;T, <span class="hljs-built_in">bool</span>&gt; predicate</span>)</span>
    {
        <span class="hljs-comment">// å¥å£®æ€§æ ¡éªŒï¼ˆå®˜æ–¹LINQå¿…åŠ ï¼‰</span>
        <span class="hljs-keyword">if</span> (source == <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(source), <span class="hljs-string">"æ•°æ®æºä¸èƒ½ä¸ºnull"</span>);
        <span class="hljs-keyword">if</span> (predicate == <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(predicate), <span class="hljs-string">"ç­›é€‰è§„åˆ™ä¸èƒ½ä¸ºnull"</span>);

        <span class="hljs-comment">// å»¶è¿Ÿæ‰§è¡Œï¼šéå†åˆ°å…ƒç´ æ—¶æ‰åˆ¤æ–­ï¼Œç¬¦åˆæ¡ä»¶åˆ™è¿”å›</span>
        <span class="hljs-keyword">foreach</span> (T item <span class="hljs-keyword">in</span> source)
        {
            <span class="hljs-keyword">if</span> (predicate(item))
            {
                <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> item; <span class="hljs-comment">// é€ä¸ªè¿”å›ï¼Œä¸æå‰åˆ›å»ºé›†åˆ</span>
            }
        }
    }
    <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span>

    <span class="hljs-meta">#<span class="hljs-keyword">region</span> 2. MySelectï¼ˆåŸºäºIEnumerable&lt;T&gt; + å»¶è¿Ÿæ‰§è¡Œï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> è‡ªå®šä¹‰Selectï¼šè½¬æ¢æ•°æ®æ ¼å¼ï¼ˆå®˜æ–¹é£æ ¼ï¼Œå»¶è¿Ÿæ‰§è¡Œï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">IEnumerable</span>&lt;<span class="hljs-title">TResult</span>&gt; <span class="hljs-title">MySelect</span>&lt;<span class="hljs-title">T</span>, <span class="hljs-title">TResult</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">this</span> IEnumerable&lt;T&gt; source, Func&lt;T, TResult&gt; selector</span>)</span>
    {
        <span class="hljs-comment">// å¥å£®æ€§æ ¡éªŒ</span>
        <span class="hljs-keyword">if</span> (source == <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(source), <span class="hljs-string">"æ•°æ®æºä¸èƒ½ä¸ºnull"</span>);
        <span class="hljs-keyword">if</span> (selector == <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(selector), <span class="hljs-string">"è½¬æ¢è§„åˆ™ä¸èƒ½ä¸ºnull"</span>);

        <span class="hljs-comment">// å»¶è¿Ÿæ‰§è¡Œï¼šéå†åˆ°å…ƒç´ æ—¶æ‰è½¬æ¢ï¼Œè½¬æ¢åé€ä¸ªè¿”å›</span>
        <span class="hljs-keyword">foreach</span> (T item <span class="hljs-keyword">in</span> source)
        {
            TResult convertedItem = selector(item);
            <span class="hljs-keyword">yield</span> <span class="hljs-keyword">return</span> convertedItem; <span class="hljs-comment">// æ ¸å¿ƒï¼šå»¶è¿Ÿè¿”å›è½¬æ¢åçš„å…ƒç´ </span>
        }
    }
    <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span>

    <span class="hljs-meta">#<span class="hljs-keyword">region</span> 3. MyFirstOrDefaultï¼ˆåŸºäºIEnumerable&lt;T&gt; + ç«‹å³æ‰§è¡Œï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> è‡ªå®šä¹‰FirstOrDefaultï¼šæ‰¾ç¬¬ä¸€ä¸ªç¬¦åˆè§„åˆ™çš„å…ƒç´ ï¼ˆå®˜æ–¹é£æ ¼ï¼Œé€‚é…IEnumerable<span class="hljs-doctag">&lt;T&gt;</span>ï¼‰</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> æ³¨ï¼šFirstOrDefaultè¯­ä¹‰ä¸Šæ˜¯â€œç«‹å³æ‰§è¡Œâ€ï¼Œå› ä¸ºè¦è¿”å›å…·ä½“å…ƒç´ ï¼Œæ— æ³•å»¶è¿Ÿ</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> T <span class="hljs-title">MyFirstOrDefault</span>&lt;<span class="hljs-title">T</span>&gt;(<span class="hljs-params"><span class="hljs-keyword">this</span> IEnumerable&lt;T&gt; source, Func&lt;T, <span class="hljs-built_in">bool</span>&gt; predicate</span>)</span>
    {
        <span class="hljs-comment">// å¥å£®æ€§æ ¡éªŒ</span>
        <span class="hljs-keyword">if</span> (source == <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(source), <span class="hljs-string">"æ•°æ®æºä¸èƒ½ä¸ºnull"</span>);
        <span class="hljs-keyword">if</span> (predicate == <span class="hljs-literal">null</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ArgumentNullException(<span class="hljs-keyword">nameof</span>(predicate), <span class="hljs-string">"ç­›é€‰è§„åˆ™ä¸èƒ½ä¸ºnull"</span>);

        <span class="hljs-comment">// éå†IEnumerable&lt;T&gt;ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ ç«‹å³è¿”å›ï¼ˆæ— éœ€éå†å…¨éƒ¨ï¼‰</span>
        <span class="hljs-keyword">foreach</span> (T item <span class="hljs-keyword">in</span> source)
        {
            <span class="hljs-keyword">if</span> (predicate(item))
            {
                <span class="hljs-keyword">return</span> item;
            }
        }

        <span class="hljs-comment">// æ— ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œè¿”å›Tçš„é»˜è®¤å€¼ï¼ˆå¼•ç”¨ç±»å‹nullï¼Œå€¼ç±»å‹0ç­‰ï¼‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">default</span>(T);
    }
    <span class="hljs-meta">#<span class="hljs-keyword">endregion</span></span>
}

<span class="hljs-keyword">class</span> <span class="hljs-title">Program</span>
{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>()</span>
    {
        <span class="hljs-comment">// æ¨¡æ‹Ÿæ•°æ®æº</span>
        List&lt;Order&gt; orders = <span class="hljs-keyword">new</span> List&lt;Order&gt;
        {
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">1</span>, Amount = <span class="hljs-number">800</span>, Customer = <span class="hljs-string">"å¼ ä¸‰"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">2</span>, Amount = <span class="hljs-number">1200</span>, Customer = <span class="hljs-string">"æå››"</span> },
            <span class="hljs-keyword">new</span> Order { OrderId = <span class="hljs-number">3</span>, Amount = <span class="hljs-number">1500</span>, Customer = <span class="hljs-string">"ç‹äº”"</span> }
        };

        <span class="hljs-comment">// ========== æ¼”ç¤ºé“¾å¼è°ƒç”¨ + å»¶è¿Ÿæ‰§è¡Œ ==========</span>
        Console.WriteLine(<span class="hljs-string">"1. å®šä¹‰æŸ¥è¯¢è§„åˆ™ï¼ˆæ­¤æ—¶ä¸æ‰§è¡Œä»»ä½•éå†ï¼‰ï¼š"</span>);
        <span class="hljs-comment">// ä»…å®šä¹‰è§„åˆ™ï¼Œæœªæ‰§è¡Œéå†ï¼ˆå»¶è¿Ÿæ‰§è¡Œï¼‰</span>
        <span class="hljs-keyword">var</span> query = orders
            .MyWhere(o =&gt; o.Amount &gt; <span class="hljs-number">1000</span>)    <span class="hljs-comment">// ç­›é€‰é«˜é‡‘é¢è®¢å•</span>
            .MySelect(o =&gt; <span class="hljs-keyword">new</span>               <span class="hljs-comment">// è½¬æ¢ä¸ºç®€åŒ–æ ¼å¼</span>
            {
                è®¢å•ID = o.OrderId,
                å®¢æˆ· = o.Customer,
                æŠ˜æ‰£é‡‘é¢ = o.Amount * <span class="hljs-number">0.8</span>m
            })
            .MyFirstOrDefault(item =&gt; item.æŠ˜æ‰£é‡‘é¢ &gt; <span class="hljs-number">1000</span>); <span class="hljs-comment">// æ‰¾ç¬¬ä¸€ä¸ªæŠ˜æ‰£&gt;1000çš„</span>

        Console.WriteLine(<span class="hljs-string">"2. æ‰§è¡ŒæŸ¥è¯¢ï¼ˆFirstOrDefaultè§¦å‘éå†ï¼‰ï¼š"</span>);
        Console.WriteLine(<span class="hljs-string">$"ç¬¬ä¸€ä¸ªæŠ˜æ‰£é‡‘é¢&gt;1000çš„è®¢å•ï¼š"</span>);
        Console.WriteLine(<span class="hljs-string">$"è®¢å•IDï¼š<span class="hljs-subst">{query.è®¢å•ID}</span>ï¼Œå®¢æˆ·ï¼š<span class="hljs-subst">{query.å®¢æˆ·}</span>ï¼ŒæŠ˜æ‰£é‡‘é¢ï¼š<span class="hljs-subst">{query.æŠ˜æ‰£é‡‘é¢}</span>"</span>);

        <span class="hljs-comment">// ========== éªŒè¯MySelectå¯¹ä¸åŒé›†åˆçš„é€‚é…æ€§ï¼ˆæ•°ç»„ï¼‰ ==========</span>
        Console.WriteLine(<span class="hljs-string">"\n3. MySelecté€‚é…æ•°ç»„ï¼ˆIEnumerable&lt;T&gt;çš„é€šç”¨æ€§ï¼‰ï¼š"</span>);
        <span class="hljs-built_in">int</span>[] nums = <span class="hljs-keyword">new</span> <span class="hljs-built_in">int</span>[] { <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span> };
        <span class="hljs-comment">// æ•°ç»„è½¬æ¢ä¸ºâ€œæ•°å­—+10â€çš„æ–°åºåˆ—</span>
        <span class="hljs-keyword">var</span> numResult = nums.MySelect(n =&gt; n + <span class="hljs-number">10</span>);
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> n <span class="hljs-keyword">in</span> numResult)
        {
            Console.WriteLine(<span class="hljs-string">$"è½¬æ¢åæ•°å­—ï¼š<span class="hljs-subst">{n}</span>"</span>); <span class="hljs-comment">// è¾“å‡º11ã€12ã€13ã€14</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-20">å››ã€åŸç”Ÿ LINQ vs è‡ªå®šä¹‰ LINQï¼šæ ¸å¿ƒä¸€è‡´</h3>
<p>åŸç”Ÿ LINQ çš„ Where/Select/FirstOrDefault å’Œæˆ‘ä»¬æ‰‹æ“çš„æ–¹æ³•æ ¸å¿ƒé€»è¾‘å®Œå…¨ä¸€è‡´ï¼Œåªæ˜¯åŸç”Ÿ LINQï¼š</p>
<ol>
<li>æœ‰æ›´å®Œå–„çš„å¼‚å¸¸å¤„ç†å’Œæ€§èƒ½ä¼˜åŒ–ï¼›</li>
<li>æ”¯æŒæ›´å¤šæ–¹æ³•ï¼ˆOrderByã€GroupByã€Join ç­‰ï¼‰ã€‚</li>
</ol>
<h3 data-id="heading-21">æ€»ç»“</h3>
<ol>
<li>
<p><strong>LINQ çš„æœ¬è´¨</strong>ï¼šæ˜¯ä¸€å¥—åŸºäº â€œæ‰©å±•æ–¹æ³• + Lambdaâ€ çš„é€šç”¨æŸ¥è¯¢æ¡†æ¶ï¼Œåº•å±‚å°±æ˜¯ foreach å¾ªç¯ + Lambda æ‰§è¡Œè§„åˆ™ï¼ŒæŸ¥è¯¢è¯­æ³•åªæ˜¯è¯­æ³•ç³–ï¼›</p>
</li>
<li>
<p><strong>æ ¸å¿ƒæ–¹æ³•é€»è¾‘</strong>ï¼š</p>
<ul>
<li>Whereï¼šæ¥æ”¶<code>Func&lt;T, bool&gt;</code>ç­›é€‰è§„åˆ™ï¼Œè¿”å›ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼›</li>
<li>Selectï¼šæ¥æ”¶<code>Func&lt;T, TResult&gt;</code>è½¬æ¢è§„åˆ™ï¼Œè¿”å›è½¬æ¢åçš„å…ƒç´ ï¼›</li>
<li>FirstOrDefaultï¼šæ¥æ”¶ç­›é€‰è§„åˆ™ï¼Œè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼ˆæ— åˆ™è¿”å›é»˜è®¤å€¼ï¼‰ï¼›</li>
</ul>
</li>
<li>
<p><strong>å­¦ä¹ å…³é”®</strong>ï¼šå…ˆç†è§£ â€œæ‰©å±•æ–¹æ³• + Lambdaâ€ çš„åº•å±‚é€»è¾‘ï¼Œå†ä½¿ç”¨åŸç”Ÿ LINQï¼Œå°±ä¸ä¼šåªåœç•™åœ¨ â€œä¼šç”¨â€ çš„å±‚é¢ï¼Œèƒ½çµæ´»è§£å†³å¤æ‚æŸ¥è¯¢åœºæ™¯ã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 äº‹ä»¶ä¿®é¥°ç¬¦æ·±åº¦è§£æï¼šä»åŸºç¡€åˆ°é«˜çº§åº”ç”¨çš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7583325044233371674</link>    <guid>https://juejin.cn/post/7583325044233371674</guid>    <pubDate>2025-12-14T08:19:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583325044233371674" data-draft-id="7583528177558732850" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 äº‹ä»¶ä¿®é¥°ç¬¦æ·±åº¦è§£æï¼šä»åŸºç¡€åˆ°é«˜çº§åº”ç”¨çš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-14T08:19:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 äº‹ä»¶ä¿®é¥°ç¬¦æ·±åº¦è§£æï¼šä»åŸºç¡€åˆ°é«˜çº§åº”ç”¨çš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T08:19:53.000Z" title="Sun Dec 14 2025 08:19:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>æ‘˜è¦</strong></h2>
<p>äº‹ä»¶ä¿®é¥°ç¬¦æ˜¯ Vue.js ä¸­ä¸€ä¸ªå¼ºå¤§è€Œä¼˜é›…çš„ç‰¹æ€§ï¼Œå®ƒå…è®¸æˆ‘ä»¬ä»¥å£°æ˜å¼çš„æ–¹å¼å¤„ç† DOM äº‹ä»¶ç»†èŠ‚ã€‚Vue3 åœ¨ä¿ç•™æ‰€æœ‰ Vue2 äº‹ä»¶ä¿®é¥°ç¬¦çš„åŸºç¡€ä¸Šï¼Œè¿˜å¼•å…¥äº†ä¸€äº›æ–°çš„ä¿®é¥°ç¬¦ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨æ‰€æœ‰äº‹ä»¶ä¿®é¥°ç¬¦çš„å·¥ä½œåŸç†ã€ä½¿ç”¨åœºæ™¯å’Œæœ€ä½³å®è·µï¼Œé€šè¿‡è¯¦ç»†çš„ä»£ç ç¤ºä¾‹ã€æ‰§è¡Œæµç¨‹åˆ†æå’Œå®é™…åº”ç”¨æ¡ˆä¾‹ï¼Œå¸®åŠ©ä½ å½»åº•æŒæ¡ Vue3 äº‹ä»¶ä¿®é¥°ç¬¦çš„å®Œæ•´çŸ¥è¯†ä½“ç³»ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>ä¸€ã€ ä»€ä¹ˆæ˜¯äº‹ä»¶ä¿®é¥°ç¬¦ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong></h2>
<h3 data-id="heading-2"><strong>1.1 ä¼ ç»Ÿäº‹ä»¶å¤„ç†çš„é—®é¢˜</strong></h3>
<p>åœ¨åŸç”Ÿ JavaScript ä¸­å¤„ç†äº‹ä»¶æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ç¼–å†™é‡å¤çš„æ ·æ¿ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŸç”Ÿ JavaScript äº‹ä»¶å¤„ç†</span>
element.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
  <span class="hljs-comment">// é˜»æ­¢é»˜è®¤è¡Œä¸º</span>
  event.<span class="hljs-title function_">preventDefault</span>()
  
  <span class="hljs-comment">// åœæ­¢äº‹ä»¶ä¼ æ’­</span>
  event.<span class="hljs-title function_">stopPropagation</span>()
  
  <span class="hljs-comment">// æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
  <span class="hljs-title function_">handleClick</span>()
})
</code></pre>
<p><strong>ä¼ ç»Ÿæ–¹å¼çš„é—®é¢˜ï¼š</strong></p>
<ul>
<li><strong>ä»£ç å†—ä½™</strong>ï¼šæ¯ä¸ªäº‹ä»¶å¤„ç†å‡½æ•°éƒ½éœ€è¦é‡å¤è°ƒç”¨ <code>preventDefault()</code> å’Œ <code>stopPropagation()</code></li>
<li><strong>å…³æ³¨ç‚¹æ··åˆ</strong>ï¼šäº‹ä»¶å¤„ç†é€»è¾‘ä¸ DOM æ“ä½œç»†èŠ‚æ··åˆåœ¨ä¸€èµ·</li>
<li><strong>å¯è¯»æ€§å·®</strong>ï¼šä»£ç æ„å›¾ä¸å¤Ÿæ¸…æ™°æ˜ç¡®</li>
<li><strong>ç»´æŠ¤å›°éš¾</strong>ï¼šä¿®æ”¹äº‹ä»¶è¡Œä¸ºéœ€è¦æ·±å…¥å‡½æ•°å†…éƒ¨</li>
</ul>
<h3 data-id="heading-3"><strong>1.2 Vue äº‹ä»¶ä¿®é¥°ç¬¦çš„è§£å†³æ–¹æ¡ˆ</strong></h3>
<p>Vue çš„äº‹ä»¶ä¿®é¥°ç¬¦æä¾›äº†ä¸€ç§å£°æ˜å¼çš„è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;!-- ä½¿ç”¨äº‹ä»¶ä¿®é¥°ç¬¦ --&gt;
  &lt;a @click.prevent.stop="handleClick" href="/about"&gt;å…³äºæˆ‘ä»¬&lt;/a&gt;
&lt;/template&gt;
</code></pre>
<p><strong>äº‹ä»¶ä¿®é¥°ç¬¦çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>ä»£ç ç®€æ´</strong>ï¼šä»¥å£°æ˜å¼çš„æ–¹å¼è¡¨è¾¾äº‹ä»¶è¡Œä¸º</li>
<li><strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼šä¸šåŠ¡é€»è¾‘ä¸ DOM ç»†èŠ‚åˆ†ç¦»</li>
<li><strong>å¯è¯»æ€§å¼º</strong>ï¼šä»£ç æ„å›¾ä¸€ç›®äº†ç„¶</li>
<li><strong>ç»´æŠ¤æ–¹ä¾¿</strong>ï¼šä¿®æ”¹äº‹ä»¶è¡Œä¸ºåªéœ€æ”¹åŠ¨æ¨¡æ¿</li>
</ul>
<hr/>
<h2 data-id="heading-4"><strong>äºŒã€ Vue3 äº‹ä»¶ä¿®é¥°ç¬¦å®Œæ•´åˆ—è¡¨</strong></h2>
<h3 data-id="heading-5"><strong>2.1 äº‹ä»¶ä¿®é¥°ç¬¦åˆ†ç±»æ€»è§ˆ</strong></h3>




















































































































































































<table><thead><tr><th>ç±»åˆ«</th><th>ä¿®é¥°ç¬¦</th><th>è¯´æ˜</th><th>Vue2</th><th>Vue3</th></tr></thead><tbody><tr><td><strong>äº‹ä»¶ä¼ æ’­</strong></td><td><code>.stop</code></td><td>é˜»æ­¢äº‹ä»¶å†’æ³¡</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.capture</code></td><td>ä½¿ç”¨æ•è·æ¨¡å¼</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.self</code></td><td>ä»…å½“äº‹ä»¶æºæ˜¯è‡ªèº«æ—¶è§¦å‘</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.once</code></td><td>åªè§¦å‘ä¸€æ¬¡</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.passive</code></td><td>ä¸é˜»æ­¢é»˜è®¤è¡Œä¸º</td><td>âœ…</td><td>âœ…</td></tr><tr><td><strong>é»˜è®¤è¡Œä¸º</strong></td><td><code>.prevent</code></td><td>é˜»æ­¢é»˜è®¤è¡Œä¸º</td><td>âœ…</td><td>âœ…</td></tr><tr><td><strong>æŒ‰é”®ä¿®é¥°</strong></td><td><code>.enter</code></td><td>Enter é”®</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.tab</code></td><td>Tab é”®</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.delete</code></td><td>åˆ é™¤é”®</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.esc</code></td><td>Esc é”®</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.space</code></td><td>ç©ºæ ¼é”®</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.up</code></td><td>ä¸Šç®­å¤´</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.down</code></td><td>ä¸‹ç®­å¤´</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.left</code></td><td>å·¦ç®­å¤´</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.right</code></td><td>å³ç®­å¤´</td><td>âœ…</td><td>âœ…</td></tr><tr><td><strong>ç³»ç»Ÿä¿®é¥°</strong></td><td><code>.ctrl</code></td><td>Ctrl é”®</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.alt</code></td><td>Alt é”®</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.shift</code></td><td>Shift é”®</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.meta</code></td><td>Meta é”®</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.exact</code></td><td>ç²¾ç¡®åŒ¹é…ç³»ç»Ÿä¿®é¥°ç¬¦</td><td>âœ…</td><td>âœ…</td></tr><tr><td><strong>é¼ æ ‡ä¿®é¥°</strong></td><td><code>.left</code></td><td>é¼ æ ‡å·¦é”®</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.right</code></td><td>é¼ æ ‡å³é”®</td><td>âœ…</td><td>âœ…</td></tr><tr><td/><td><code>.middle</code></td><td>é¼ æ ‡ä¸­é”®</td><td>âœ…</td><td>âœ…</td></tr><tr><td><strong>Vue3 æ–°å¢</strong></td><td><code>.vue</code></td><td>è‡ªå®šä¹‰äº‹ä»¶ä¸“ç”¨</td><td>âŒ</td><td>âœ…</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6"><strong>ä¸‰ã€ äº‹ä»¶ä¼ æ’­ä¿®é¥°ç¬¦è¯¦è§£</strong></h2>
<h3 data-id="heading-7"><strong>3.1 äº‹ä»¶ä¼ æ’­çš„åŸºæœ¬æ¦‚å¿µ</strong></h3>
<p><strong>æµç¨‹å›¾ï¼šDOM äº‹ä»¶ä¼ æ’­æœºåˆ¶</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[äº‹ä»¶å‘ç”Ÿ] --&gt; B[æ•è·é˜¶æ®µ Capture Phase]
    B --&gt; C[ä»windowå‘ä¸‹ä¼ é€’åˆ°ç›®æ ‡]
    C --&gt; D[ç›®æ ‡é˜¶æ®µ Target Phase]
    D --&gt; E[åˆ°è¾¾äº‹ä»¶ç›®æ ‡å…ƒç´ ]
    E --&gt; F[å†’æ³¡é˜¶æ®µ Bubble Phase]
    F --&gt; G[ä»ç›®æ ‡å‘ä¸Šä¼ é€’åˆ°window]
    
    B --&gt; H[.capture åœ¨æ­¤é˜¶æ®µè§¦å‘]
    D --&gt; I[.self æ£€æŸ¥äº‹ä»¶æº]
    F --&gt; J[.stop é˜»æ­¢ç»§ç»­å†’æ³¡]
</code></pre>
<h3 data-id="heading-8"><strong>3.2 .stop - é˜»æ­¢äº‹ä»¶å†’æ³¡</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="stop-modifier-demo"&gt;
    &lt;h2&gt;.stop ä¿®é¥°ç¬¦ - é˜»æ­¢äº‹ä»¶å†’æ³¡&lt;/h2&gt;
    
    &lt;div class="demo-area"&gt;
      &lt;!-- å¤–å±‚å®¹å™¨ --&gt;
      &lt;div class="outer-box" @click="handleOuterClick"&gt;
        &lt;p&gt;å¤–å±‚å®¹å™¨ (ç‚¹å‡»æˆ‘ä¼šè§¦å‘)&lt;/p&gt;
        
        &lt;!-- å†…å±‚å®¹å™¨ - ä¸ä½¿ç”¨ .stop --&gt;
        &lt;div class="inner-box" @click="handleInnerClick"&gt;
          &lt;p&gt;å†…å±‚å®¹å™¨ - æ—  .stop (ç‚¹å‡»æˆ‘ä¼šè§¦å‘å†…å¤–ä¸¤å±‚)&lt;/p&gt;
        &lt;/div&gt;
        
        &lt;!-- å†…å±‚å®¹å™¨ - ä½¿ç”¨ .stop --&gt;
        &lt;div class="inner-box stop-demo" @click.stop="handleInnerClickStop"&gt;
          &lt;p&gt;å†…å±‚å®¹å™¨ - æœ‰ .stop (ç‚¹å‡»æˆ‘åªè§¦å‘å†…å±‚)&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="event-logs"&gt;
      &lt;h3&gt;äº‹ä»¶è§¦å‘æ—¥å¿—:&lt;/h3&gt;
      &lt;div v-for="(log, index) in logs" :key="index" class="log-item"&gt;
        {{ log }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const logs = ref([])

const addLog = (message) =&gt; {
  const timestamp = new Date().toLocaleTimeString()
  logs.value.unshift(`[${timestamp}] ${message}`)
  if (logs.value.length &gt; 10) {
    logs.value.pop()
  }
}

const handleOuterClick = (event) =&gt; {
  addLog('ğŸŸ¢ å¤–å±‚å®¹å™¨è¢«ç‚¹å‡»')
  console.log('å¤–å±‚ç‚¹å‡»äº‹ä»¶:', event)
}

const handleInnerClick = (event) =&gt; {
  addLog('ğŸ”µ å†…å±‚å®¹å™¨è¢«ç‚¹å‡» (æ— .stop - ä¼šå†’æ³¡)')
  console.log('å†…å±‚ç‚¹å‡»äº‹ä»¶ (æ— .stop):', event)
}

const handleInnerClickStop = (event) =&gt; {
  addLog('ğŸ”´ å†…å±‚å®¹å™¨è¢«ç‚¹å‡» (æœ‰.stop - é˜»æ­¢å†’æ³¡)')
  console.log('å†…å±‚ç‚¹å‡»äº‹ä»¶ (æœ‰.stop):', event)
}
&lt;/script&gt;

&lt;style scoped&gt;
.stop-modifier-demo {
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
}

.demo-area {
  margin: 20px 0;
}

.outer-box {
  padding: 30px;
  background: #e3f2fd;
  border: 2px solid #2196f3;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.3s;
}

.outer-box:hover {
  background: #bbdefb;
}

.outer-box p {
  margin: 0 0 15px 0;
  font-weight: bold;
  color: #1976d2;
}

.inner-box {
  padding: 20px;
  margin: 15px 0;
  background: #f3e5f5;
  border: 2px solid #9c27b0;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.3s;
}

.inner-box:hover {
  background: #e1bee7;
}

.inner-box p {
  margin: 0;
  color: #7b1fa2;
}

.stop-demo {
  background: #fff3e0;
  border-color: #ff9800;
}

.stop-demo p {
  color: #ef6c00;
}

.event-logs {
  margin-top: 30px;
  padding: 20px;
  background: #f5f5f5;
  border-radius: 8px;
}

.event-logs h3 {
  margin: 0 0 15px 0;
  color: #333;
}

.log-item {
  padding: 8px 12px;
  margin: 5px 0;
  background: white;
  border-radius: 4px;
  border-left: 4px solid #4caf50;
  font-family: 'Courier New', monospace;
  font-size: 14px;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-9"><strong>3.3 .capture - ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="capture-modifier-demo"&gt;
    &lt;h2&gt;.capture ä¿®é¥°ç¬¦ - äº‹ä»¶æ•è·æ¨¡å¼&lt;/h2&gt;
    
    &lt;div class="demo-area"&gt;
      &lt;!-- æ•è·é˜¶æ®µè§¦å‘ --&gt;
      &lt;div class="capture-box" @click.capture="handleCaptureClick"&gt;
        &lt;p&gt;æ•è·é˜¶æ®µå®¹å™¨ (ä½¿ç”¨ .capture)&lt;/p&gt;
        
        &lt;div class="target-box" @click="handleTargetClick"&gt;
          &lt;p&gt;ç›®æ ‡å…ƒç´  (æ­£å¸¸å†’æ³¡é˜¶æ®µ)&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="explanation"&gt;
      &lt;h3&gt;æ‰§è¡Œé¡ºåºè¯´æ˜:&lt;/h3&gt;
      &lt;ol&gt;
        &lt;li&gt;ç‚¹å‡»ç›®æ ‡å…ƒç´ æ—¶ï¼Œé¦–å…ˆè§¦å‘ &lt;strong&gt;.capture&lt;/strong&gt; é˜¶æ®µçš„äº‹ä»¶&lt;/li&gt;
        &lt;li&gt;ç„¶åè§¦å‘ç›®æ ‡å…ƒç´ è‡ªèº«çš„äº‹ä»¶&lt;/li&gt;
        &lt;li&gt;æœ€åæ˜¯å†’æ³¡é˜¶æ®µçš„äº‹ä»¶ (æœ¬ä¾‹ä¸­æ²¡æœ‰)&lt;/li&gt;
      &lt;/ol&gt;
    &lt;/div&gt;

    &lt;div class="event-logs"&gt;
      &lt;h3&gt;äº‹ä»¶è§¦å‘é¡ºåº:&lt;/h3&gt;
      &lt;div v-for="(log, index) in logs" :key="index" class="log-item"&gt;
        {{ log }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const logs = ref([])

const addLog = (message) =&gt; {
  const timestamp = new Date().toLocaleTimeString()
  logs.value.unshift(`[${timestamp}] ${message}`)
}

const handleCaptureClick = () =&gt; {
  addLog('1ï¸âƒ£ æ•è·é˜¶æ®µ: å¤–å±‚å®¹å™¨ (.capture)')
}

const handleTargetClick = () =&gt; {
  addLog('2ï¸âƒ£ ç›®æ ‡é˜¶æ®µ: å†…å±‚å…ƒç´  (æ­£å¸¸)')
}
&lt;/script&gt;

&lt;style scoped&gt;
.capture-modifier-demo {
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
}

.capture-box {
  padding: 30px;
  background: #fff3e0;
  border: 2px dashed #ff9800;
  border-radius: 8px;
}

.capture-box p {
  margin: 0 0 15px 0;
  color: #ef6c00;
  font-weight: bold;
}

.target-box {
  padding: 20px;
  background: #e8f5e8;
  border: 2px solid #4caf50;
  border-radius: 6px;
  cursor: pointer;
  transition: background 0.3s;
}

.target-box:hover {
  background: #c8e6c9;
}

.target-box p {
  margin: 0;
  color: #2e7d32;
}

.explanation {
  margin: 20px 0;
  padding: 20px;
  background: #e3f2fd;
  border-radius: 8px;
}

.explanation h3 {
  margin: 0 0 10px 0;
  color: #1976d2;
}

.explanation ol {
  margin: 0;
  color: #333;
}

.log-item {
  padding: 8px 12px;
  margin: 5px 0;
  background: white;
  border-radius: 4px;
  border-left: 4px solid #ff9800;
  font-family: 'Courier New', monospace;
  font-size: 14px;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-10"><strong>3.4 .self - ä»…å½“äº‹ä»¶æºæ˜¯è‡ªèº«æ—¶è§¦å‘</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="self-modifier-demo"&gt;
    &lt;h2&gt;.self ä¿®é¥°ç¬¦ - ä»…è‡ªèº«è§¦å‘&lt;/h2&gt;
    
    &lt;div class="demo-area"&gt;
      &lt;!-- ä¸ä½¿ç”¨ .self --&gt;
      &lt;div class="container" @click="handleContainerClick"&gt;
        &lt;p&gt;æ™®é€šå®¹å™¨ (ç‚¹å‡»å­å…ƒç´ ä¹Ÿä¼šè§¦å‘)&lt;/p&gt;
        &lt;button class="child-btn"&gt;å­å…ƒç´ æŒ‰é’®&lt;/button&gt;
      &lt;/div&gt;
      
      &lt;!-- ä½¿ç”¨ .self --&gt;
      &lt;div class="container self-demo" @click.self="handleContainerSelfClick"&gt;
        &lt;p&gt;.self å®¹å™¨ (åªæœ‰ç‚¹å‡»å®¹å™¨æœ¬èº«æ‰è§¦å‘)&lt;/p&gt;
        &lt;button class="child-btn"&gt;å­å…ƒç´ æŒ‰é’®&lt;/button&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="event-logs"&gt;
      &lt;h3&gt;äº‹ä»¶è§¦å‘æ—¥å¿—:&lt;/h3&gt;
      &lt;div v-for="(log, index) in logs" :key="index" class="log-item"&gt;
        {{ log }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const logs = ref([])

const addLog = (message) =&gt; {
  const timestamp = new Date().toLocaleTimeString()
  logs.value.unshift(`[${timestamp}] ${message}`)
  if (logs.value.length &gt; 8) {
    logs.value.pop()
  }
}

const handleContainerClick = (event) =&gt; {
  addLog(`ğŸ”µ å®¹å™¨è¢«ç‚¹å‡» (target: ${event.target.tagName})`)
}

const handleContainerSelfClick = (event) =&gt; {
  addLog(`ğŸ”´ .self å®¹å™¨è¢«ç‚¹å‡» (åªæœ‰ç‚¹å‡»å®¹å™¨æœ¬èº«æ‰è§¦å‘)`)
}
&lt;/script&gt;

&lt;style scoped&gt;
.self-modifier-demo {
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
}

.demo-area {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin: 20px 0;
}

.container {
  padding: 25px;
  border: 2px solid #666;
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.3s;
  min-height: 120px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

.container:hover {
  background: #f5f5f5;
}

.container p {
  margin: 0 0 15px 0;
  font-weight: bold;
  text-align: center;
}

.self-demo {
  border-color: #e91e63;
  background: #fce4ec;
}

.self-demo:hover {
  background: #f8bbd9;
}

.child-btn {
  padding: 8px 16px;
  background: #2196f3;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.child-btn:hover {
  background: #1976d2;
}

.event-logs {
  margin-top: 30px;
  padding: 20px;
  background: #f5f5f5;
  border-radius: 8px;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-11"><strong>3.5 .once - åªè§¦å‘ä¸€æ¬¡</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="once-modifier-demo"&gt;
    &lt;h2&gt;.once ä¿®é¥°ç¬¦ - åªè§¦å‘ä¸€æ¬¡&lt;/h2&gt;
    
    &lt;div class="demo-area"&gt;
      &lt;div class="button-group"&gt;
        &lt;button @click="handleNormalClick" class="btn"&gt;
          æ™®é€šæŒ‰é’® (å¯é‡å¤ç‚¹å‡»)
        &lt;/button&gt;
        &lt;button @click.once="handleOnceClick" class="btn once-btn"&gt;
          .once æŒ‰é’® (åªè§¦å‘ä¸€æ¬¡)
        &lt;/button&gt;
      &lt;/div&gt;
      
      &lt;div class="counter-display"&gt;
        &lt;div class="counter"&gt;
          &lt;span&gt;æ™®é€šç‚¹å‡»: &lt;/span&gt;
          &lt;strong&gt;{{ normalCount }}&lt;/strong&gt;
        &lt;/div&gt;
        &lt;div class="counter"&gt;
          &lt;span&gt;Once ç‚¹å‡»: &lt;/span&gt;
          &lt;strong&gt;{{ onceCount }}&lt;/strong&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="event-logs"&gt;
      &lt;h3&gt;äº‹ä»¶è§¦å‘æ—¥å¿—:&lt;/h3&gt;
      &lt;div v-for="(log, index) in logs" :key="index" class="log-item"&gt;
        {{ log }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const normalCount = ref(0)
const onceCount = ref(0)
const logs = ref([])

const addLog = (message) =&gt; {
  const timestamp = new Date().toLocaleTimeString()
  logs.value.unshift(`[${timestamp}] ${message}`)
  if (logs.value.length &gt; 6) {
    logs.value.pop()
  }
}

const handleNormalClick = () =&gt; {
  normalCount.value++
  addLog(`ğŸ”µ æ™®é€šæŒ‰é’®ç‚¹å‡»: ${normalCount.value}`)
}

const handleOnceClick = () =&gt; {
  onceCount.value++
  addLog(`ğŸ”´ ONCE æŒ‰é’®ç‚¹å‡»: ${onceCount.value} (åªä¼šæ˜¾ç¤ºä¸€æ¬¡!)`)
}
&lt;/script&gt;

&lt;style scoped&gt;
.once-modifier-demo {
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
}

.button-group {
  display: flex;
  gap: 20px;
  justify-content: center;
  margin: 30px 0;
}

.btn {
  padding: 12px 24px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 16px;
  transition: all 0.3s;
}

.btn:first-child {
  background: #2196f3;
  color: white;
}

.btn:first-child:hover {
  background: #1976d2;
  transform: translateY(-2px);
}

.once-btn {
  background: #ff9800;
  color: white;
}

.once-btn:hover {
  background: #f57c00;
  transform: translateY(-2px);
}

.counter-display {
  display: flex;
  justify-content: center;
  gap: 40px;
  margin: 20px 0;
}

.counter {
  padding: 15px 25px;
  background: white;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  text-align: center;
  min-width: 150px;
}

.counter span {
  display: block;
  color: #666;
  margin-bottom: 5px;
}

.counter strong {
  font-size: 24px;
  color: #333;
}

.log-item {
  padding: 10px 15px;
  margin: 5px 0;
  background: white;
  border-radius: 4px;
  border-left: 4px solid #2196f3;
  font-family: 'Courier New', monospace;
}

.log-item:contains('ONCE') {
  border-left-color: #ff9800;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-12"><strong>3.6 .passive - ä¸é˜»æ­¢é»˜è®¤è¡Œä¸º</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="passive-modifier-demo"&gt;
    &lt;h2&gt;.passive ä¿®é¥°ç¬¦ - ä¸é˜»æ­¢é»˜è®¤è¡Œä¸º&lt;/h2&gt;
    
    &lt;div class="demo-area"&gt;
      &lt;div class="scroll-container"&gt;
        &lt;div class="scroll-content"&gt;
          &lt;div v-for="n in 50" :key="n" class="scroll-item"&gt;
            é¡¹ç›® {{ n }}
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      
      &lt;div class="control-info"&gt;
        &lt;p&gt;å°è¯•æ»šåŠ¨ä¸Šé¢çš„åŒºåŸŸï¼Œè§‚å¯Ÿæ§åˆ¶å°è¾“å‡ºï¼š&lt;/p&gt;
        &lt;ul&gt;
          &lt;li&gt;ä½¿ç”¨ &lt;code&gt;.passive&lt;/code&gt; çš„äº‹ä»¶å¤„ç†å‡½æ•°ä¸ä¼šè°ƒç”¨ &lt;code&gt;preventDefault()&lt;/code&gt;&lt;/li&gt;
          &lt;li&gt;è¿™å¯ä»¥æå‡æ»šåŠ¨æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯ç§»åŠ¨ç«¯&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="performance-metrics"&gt;
      &lt;h3&gt;æ€§èƒ½æŒ‡æ ‡:&lt;/h3&gt;
      &lt;div class="metrics"&gt;
        &lt;div class="metric"&gt;
          &lt;span&gt;æ»šåŠ¨äº‹ä»¶è§¦å‘æ¬¡æ•°:&lt;/span&gt;
          &lt;strong&gt;{{ scrollCount }}&lt;/strong&gt;
        &lt;/div&gt;
        &lt;div class="metric"&gt;
          &lt;span&gt;é˜»å¡æ—¶é—´:&lt;/span&gt;
          &lt;strong&gt;{{ blockTime }}ms&lt;/strong&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, onMounted } from 'vue'

const scrollCount = ref(0)
const blockTime = ref(0)

onMounted(() =&gt; {
  const scrollContainer = document.querySelector('.scroll-container')
  
  // æ¨¡æ‹Ÿé˜»å¡æ“ä½œ
  const heavyOperation = () =&gt; {
    const start = performance.now()
    let result = 0
    for (let i = 0; i &lt; 1000000; i++) {
      result += Math.random()
    }
    const end = performance.now()
    blockTime.value = (end - start).toFixed(2)
    return result
  }
  
  // æ·»åŠ  passive äº‹ä»¶ç›‘å¬å™¨
  scrollContainer.addEventListener('scroll', (event) =&gt; {
    scrollCount.value++
    heavyOperation()
    console.log('passive æ»šåŠ¨äº‹ä»¶ - ä¸ä¼šé˜»æ­¢é»˜è®¤è¡Œä¸º')
  }, { passive: true })
})
&lt;/script&gt;

&lt;style scoped&gt;
.passive-modifier-demo {
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
}

.scroll-container {
  height: 200px;
  border: 2px solid #ddd;
  border-radius: 8px;
  overflow-y: scroll;
  margin: 20px 0;
}

.scroll-content {
  padding: 10px;
}

.scroll-item {
  padding: 15px;
  margin: 5px 0;
  background: #f5f5f5;
  border-radius: 4px;
  border-left: 4px solid #4caf50;
}

.control-info {
  padding: 20px;
  background: #e3f2fd;
  border-radius: 8px;
  margin: 20px 0;
}

.control-info p {
  margin: 0 0 10px 0;
  font-weight: bold;
}

.control-info ul {
  margin: 0;
  color: #333;
}

.control-info code {
  background: #fff;
  padding: 2px 6px;
  border-radius: 3px;
  font-family: 'Courier New', monospace;
}

.performance-metrics {
  padding: 20px;
  background: #fff3e0;
  border-radius: 8px;
}

.performance-metrics h3 {
  margin: 0 0 15px 0;
  color: #e65100;
}

.metrics {
  display: flex;
  gap: 30px;
}

.metric {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.metric span {
  color: #666;
  margin-bottom: 5px;
}

.metric strong {
  font-size: 24px;
  color: #e65100;
}
&lt;/style&gt;
</code></pre>
<hr/>
<h2 data-id="heading-13"><strong>å››ã€ é»˜è®¤è¡Œä¸ºä¿®é¥°ç¬¦</strong></h2>
<h3 data-id="heading-14"><strong>4.1 .prevent - é˜»æ­¢é»˜è®¤è¡Œä¸º</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="prevent-modifier-demo"&gt;
    &lt;h2&gt;.prevent ä¿®é¥°ç¬¦ - é˜»æ­¢é»˜è®¤è¡Œä¸º&lt;/h2&gt;
    
    &lt;div class="demo-area"&gt;
      &lt;div class="form-group"&gt;
        &lt;h3&gt;è¡¨å•æäº¤ç¤ºä¾‹&lt;/h3&gt;
        &lt;form @submit="handleFormSubmit" class="prevent-form"&gt;
          &lt;input v-model="username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å" class="form-input" /&gt;
          &lt;button type="submit" class="btn"&gt;æ™®é€šæäº¤&lt;/button&gt;
          &lt;button type="submit" @click.prevent="handlePreventSubmit" class="btn prevent-btn"&gt;
            ä½¿ç”¨ .prevent
          &lt;/button&gt;
        &lt;/form&gt;
      &lt;/div&gt;
      
      &lt;div class="link-group"&gt;
        &lt;h3&gt;é“¾æ¥ç‚¹å‡»ç¤ºä¾‹&lt;/h3&gt;
        &lt;a href="https://vuejs.org" @click="handleLinkClick" class="link"&gt;
          æ™®é€šé“¾æ¥ (ä¼šè·³è½¬)
        &lt;/a&gt;
        &lt;a href="https://vuejs.org" @click.prevent="handlePreventLinkClick" class="link prevent-link"&gt;
          ä½¿ç”¨ .prevent (ä¸ä¼šè·³è½¬)
        &lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="event-logs"&gt;
      &lt;h3&gt;äº‹ä»¶è§¦å‘æ—¥å¿—:&lt;/h3&gt;
      &lt;div v-for="(log, index) in logs" :key="index" class="log-item"&gt;
        {{ log }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const username = ref('')
const logs = ref([])

const addLog = (message) =&gt; {
  const timestamp = new Date().toLocaleTimeString()
  logs.value.unshift(`[${timestamp}] ${message}`)
  if (logs.value.length &gt; 8) {
    logs.value.pop()
  }
}

const handleFormSubmit = (event) =&gt; {
  addLog('ğŸ“ è¡¨å•æäº¤ (é¡µé¢ä¼šåˆ·æ–°)')
  // è¿™é‡Œå¯ä»¥æ·»åŠ è¡¨å•éªŒè¯ç­‰é€»è¾‘
}

const handlePreventSubmit = () =&gt; {
  addLog('ğŸ›‘ è¡¨å•æäº¤ (ä½¿ç”¨ .preventï¼Œé¡µé¢ä¸ä¼šåˆ·æ–°)')
  // åœ¨è¿™é‡Œå¤„ç† AJAX æäº¤ç­‰é€»è¾‘
  if (username.value) {
    addLog(`âœ… æäº¤ç”¨æˆ·å: ${username.value}`)
  }
}

const handleLinkClick = () =&gt; {
  addLog('ğŸ”— é“¾æ¥ç‚¹å‡» (ä¼šè·³è½¬åˆ° Vue.js å®˜ç½‘)')
}

const handlePreventLinkClick = () =&gt; {
  addLog('ğŸš« é“¾æ¥ç‚¹å‡» (ä½¿ç”¨ .preventï¼Œä¸ä¼šè·³è½¬)')
  // å¯ä»¥åœ¨è¿™é‡Œå¤„ç†è·¯ç”±è·³è½¬ç­‰é€»è¾‘
}
&lt;/script&gt;

&lt;style scoped&gt;
.prevent-modifier-demo {
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
}

.form-group, .link-group {
  margin: 30px 0;
  padding: 25px;
  background: #f8f9fa;
  border-radius: 8px;
}

.form-group h3, .link-group h3 {
  margin: 0 0 15px 0;
  color: #333;
}

.prevent-form {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.form-input {
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 4px;
  flex: 1;
  min-width: 200px;
}

.btn {
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

.btn:first-of-type {
  background: #2196f3;
  color: white;
}

.prevent-btn {
  background: #ff5722;
  color: white;
}

.btn:hover {
  opacity: 0.9;
}

.link-group {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.link {
  padding: 12px 20px;
  background: #e3f2fd;
  border: 1px solid #2196f3;
  border-radius: 4px;
  text-decoration: none;
  color: #1976d2;
  text-align: center;
  transition: background 0.3s;
}

.prevent-link {
  background: #ffebee;
  border-color: #f44336;
  color: #d32f2f;
}

.link:hover {
  background: #bbdefb;
}

.prevent-link:hover {
  background: #ffcdd2;
}

.log-item {
  padding: 10px 15px;
  margin: 5px 0;
  background: white;
  border-radius: 4px;
  border-left: 4px solid #2196f3;
  font-family: 'Courier New', monospace;
  font-size: 14px;
}
&lt;/style&gt;
</code></pre>
<hr/>
<h2 data-id="heading-15"><strong>äº”ã€ æŒ‰é”®ä¿®é¥°ç¬¦è¯¦è§£</strong></h2>
<h3 data-id="heading-16"><strong>5.1 å¸¸ç”¨æŒ‰é”®ä¿®é¥°ç¬¦</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="key-modifier-demo"&gt;
    &lt;h2&gt;æŒ‰é”®ä¿®é¥°ç¬¦ - é”®ç›˜äº‹ä»¶å¤„ç†&lt;/h2&gt;
    
    &lt;div class="demo-area"&gt;
      &lt;div class="input-group"&gt;
        &lt;h3&gt;è¾“å…¥æ¡†æŒ‰é”®äº‹ä»¶&lt;/h3&gt;
        &lt;input 
          v-model="inputText"
          @keyup.enter="handleEnter"
          @keyup.tab="handleTab"
          @keyup.delete="handleDelete"
          @keyup.esc="handleEsc"
          @keyup.space="handleSpace"
          placeholder="å°è¯•æŒ‰ Enterã€Tabã€Deleteã€Escã€Space é”®"
          class="key-input"
        /&gt;
      &lt;/div&gt;
      
      &lt;div class="arrow-group"&gt;
        &lt;h3&gt;æ–¹å‘é”®æ§åˆ¶&lt;/h3&gt;
        &lt;div class="arrow-controls"&gt;
          &lt;div class="arrow-row"&gt;
            &lt;button @keyup.up="handleUp" class="arrow-btn up"&gt;â†‘&lt;/button&gt;
          &lt;/div&gt;
          &lt;div class="arrow-row"&gt;
            &lt;button @keyup.left="handleLeft" class="arrow-btn left"&gt;â†&lt;/button&gt;
            &lt;button @keyup.down="handleDown" class="arrow-btn down"&gt;â†“&lt;/button&gt;
            &lt;button @keyup.right="handleRight" class="arrow-btn right"&gt;â†’&lt;/button&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;p&gt;ç‚¹å‡»æŒ‰é’®åæŒ‰æ–¹å‘é”®æµ‹è¯•&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="key-logs"&gt;
      &lt;h3&gt;æŒ‰é”®äº‹ä»¶æ—¥å¿—:&lt;/h3&gt;
      &lt;div v-for="(log, index) in logs" :key="index" class="log-item"&gt;
        {{ log }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const inputText = ref('')
const logs = ref([])

const addLog = (message) =&gt; {
  const timestamp = new Date().toLocaleTimeString()
  logs.value.unshift(`[${timestamp}] ${message}`)
  if (logs.value.length &gt; 10) {
    logs.value.pop()
  }
}

const handleEnter = (event) =&gt; {
  addLog('â†µ Enter é”®è¢«æŒ‰ä¸‹')
  if (inputText.value.trim()) {
    addLog(`ğŸ’¾ ä¿å­˜å†…å®¹: "${inputText.value}"`)
    inputText.value = ''
  }
}

const handleTab = () =&gt; {
  addLog('â†¹ Tab é”®è¢«æŒ‰ä¸‹')
}

const handleDelete = () =&gt; {
  addLog('âŒ« Delete é”®è¢«æŒ‰ä¸‹')
}

const handleEsc = () =&gt; {
  addLog('â‹ Esc é”®è¢«æŒ‰ä¸‹ - å–æ¶ˆæ“ä½œ')
  inputText.value = ''
}

const handleSpace = () =&gt; {
  addLog('â£ Space é”®è¢«æŒ‰ä¸‹')
}

const handleUp = () =&gt; {
  addLog('â†‘ ä¸Šæ–¹å‘é”® - å‘ä¸Šç§»åŠ¨')
}

const handleDown = () =&gt; {
  addLog('â†“ ä¸‹æ–¹å‘é”® - å‘ä¸‹ç§»åŠ¨')
}

const handleLeft = () =&gt; {
  addLog('â† å·¦æ–¹å‘é”® - å‘å·¦ç§»åŠ¨')
}

const handleRight = () =&gt; {
  addLog('â†’ å³æ–¹å‘é”® - å‘å³ç§»åŠ¨')
}
&lt;/script&gt;

&lt;style scoped&gt;
.key-modifier-demo {
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
}

.input-group, .arrow-group {
  margin: 30px 0;
  padding: 25px;
  background: #f8f9fa;
  border-radius: 8px;
}

.input-group h3, .arrow-group h3 {
  margin: 0 0 15px 0;
  color: #333;
}

.key-input {
  width: 100%;
  padding: 12px;
  border: 2px solid #ddd;
  border-radius: 6px;
  font-size: 16px;
  transition: border-color 0.3s;
}

.key-input:focus {
  outline: none;
  border-color: #2196f3;
}

.arrow-controls {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

.arrow-row {
  display: flex;
  gap: 10px;
  justify-content: center;
}

.arrow-btn {
  width: 60px;
  height: 60px;
  border: 2px solid #666;
  border-radius: 8px;
  background: white;
  font-size: 20px;
  cursor: pointer;
  transition: all 0.3s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.arrow-btn:focus {
  outline: none;
  background: #e3f2fd;
  border-color: #2196f3;
}

.arrow-btn:hover {
  transform: scale(1.1);
}

.up { border-color: #4caf50; color: #4caf50; }
.down { border-color: #2196f3; color: #2196f3; }
.left { border-color: #ff9800; color: #ff9800; }
.right { border-color: #9c27b0; color: #9c27b0; }

.arrow-group p {
  text-align: center;
  margin: 15px 0 0 0;
  color: #666;
  font-style: italic;
}

.key-logs {
  margin-top: 30px;
  padding: 20px;
  background: #2c3e50;
  border-radius: 8px;
  color: white;
}

.key-logs h3 {
  margin: 0 0 15px 0;
  color: #42b883;
}

.log-item {
  padding: 10px 15px;
  margin: 5px 0;
  background: #34495e;
  border-radius: 4px;
  border-left: 4px solid #42b883;
  font-family: 'Courier New', monospace;
  font-size: 14px;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-17"><strong>5.2 ç³»ç»Ÿä¿®é¥°ç¬¦</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="system-modifier-demo"&gt;
    &lt;h2&gt;ç³»ç»Ÿä¿®é¥°ç¬¦ - ç»„åˆé”®å¤„ç†&lt;/h2&gt;
    
    &lt;div class="demo-area"&gt;
      &lt;div class="modifier-group"&gt;
        &lt;h3&gt;ç³»ç»Ÿä¿®é¥°ç¬¦æµ‹è¯•&lt;/h3&gt;
        &lt;div class="key-combinations"&gt;
          &lt;div class="key-item" @click.ctrl="handleCtrlClick"&gt;
            Ctrl + ç‚¹å‡»
          &lt;/div&gt;
          &lt;div class="key-item" @click.alt="handleAltClick"&gt;
            Alt + ç‚¹å‡»
          &lt;/div&gt;
          &lt;div class="key-item" @click.shift="handleShiftClick"&gt;
            Shift + ç‚¹å‡»
          &lt;/div&gt;
          &lt;div class="key-item" @click.meta="handleMetaClick"&gt;
            Meta (Cmd) + ç‚¹å‡»
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      
      &lt;div class="exact-modifier"&gt;
        &lt;h3&gt;.exact ä¿®é¥°ç¬¦ - ç²¾ç¡®åŒ¹é…&lt;/h3&gt;
        &lt;div class="exact-combinations"&gt;
          &lt;button @click="handleAnyClick" class="exact-btn"&gt;
            ä»»æ„ç‚¹å‡»
          &lt;/button&gt;
          &lt;button @click.ctrl="handleCtrlOnlyClick" class="exact-btn"&gt;
            Ctrl + ç‚¹å‡»
          &lt;/button&gt;
          &lt;button @click.ctrl.exact="handleExactCtrlClick" class="exact-btn exact"&gt;
            .exact Ctrl (ä»… Ctrl)
          &lt;/button&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="system-logs"&gt;
      &lt;h3&gt;ç³»ç»Ÿä¿®é¥°ç¬¦äº‹ä»¶æ—¥å¿—:&lt;/h3&gt;
      &lt;div v-for="(log, index) in logs" :key="index" class="log-item"&gt;
        {{ log }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const logs = ref([])

const addLog = (message) =&gt; {
  const timestamp = new Date().toLocaleTimeString()
  logs.value.unshift(`[${timestamp}] ${message}`)
  if (logs.value.length &gt; 8) {
    logs.value.pop()
  }
}

const handleCtrlClick = () =&gt; {
  addLog('ğŸ›ï¸ Ctrl + ç‚¹å‡»')
}

const handleAltClick = () =&gt; {
  addLog('â‡ Alt + ç‚¹å‡»')
}

const handleShiftClick = () =&gt; {
  addLog('â‡§ Shift + ç‚¹å‡»')
}

const handleMetaClick = () =&gt; {
  addLog('âŒ˜ Meta (Cmd) + ç‚¹å‡»')
}

const handleAnyClick = () =&gt; {
  addLog('ğŸ”„ ä»»æ„ç‚¹å‡» (æ— ä¿®é¥°ç¬¦)')
}

const handleCtrlOnlyClick = () =&gt; {
  addLog('ğŸ›ï¸ Ctrl + ç‚¹å‡» (å¯èƒ½åŒ…å«å…¶ä»–ä¿®é¥°ç¬¦)')
}

const handleExactCtrlClick = () =&gt; {
  addLog('ğŸ›ï¸ .exact Ctrl + ç‚¹å‡» (ä»… Ctrlï¼Œæ— å…¶ä»–ä¿®é¥°ç¬¦)')
}
&lt;/script&gt;

&lt;style scoped&gt;
.system-modifier-demo {
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
}

.modifier-group, .exact-modifier {
  margin: 30px 0;
  padding: 25px;
  background: #f8f9fa;
  border-radius: 8px;
}

.modifier-group h3, .exact-modifier h3 {
  margin: 0 0 15px 0;
  color: #333;
}

.key-combinations {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 15px;
}

.key-item {
  padding: 20px;
  background: white;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s;
  font-weight: bold;
}

.key-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.key-item:nth-child(1) { border-color: #2196f3; color: #2196f3; }
.key-item:nth-child(2) { border-color: #ff9800; color: #ff9800; }
.key-item:nth-child(3) { border-color: #4caf50; color: #4caf50; }
.key-item:nth-child(4) { border-color: #9c27b0; color: #9c27b0; }

.exact-combinations {
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
}

.exact-btn {
  padding: 12px 20px;
  border: 2px solid #666;
  border-radius: 6px;
  background: white;
  cursor: pointer;
  font-size: 14px;
  transition: all 0.3s;
}

.exact-btn:hover {
  background: #f5f5f5;
}

.exact-btn.exact {
  border-color: #e91e63;
  color: #e91e63;
  font-weight: bold;
}

.system-logs {
  margin-top: 30px;
  padding: 20px;
  background: #2c3e50;
  border-radius: 8px;
  color: white;
}

.system-logs h3 {
  margin: 0 0 15px 0;
  color: #42b883;
}

.log-item {
  padding: 10px 15px;
  margin: 5px 0;
  background: #34495e;
  border-radius: 4px;
  border-left: 4px solid #42b883;
  font-family: 'Courier New', monospace;
  font-size: 14px;
}
&lt;/style&gt;
</code></pre>
<hr/>
<h2 data-id="heading-18"><strong>å…­ã€ é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦</strong></h2>
<h3 data-id="heading-19"><strong>6.1 é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦ä½¿ç”¨</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="mouse-modifier-demo"&gt;
    &lt;h2&gt;é¼ æ ‡æŒ‰é”®ä¿®é¥°ç¬¦&lt;/h2&gt;
    
    &lt;div class="demo-area"&gt;
      &lt;div class="mouse-test-area"&gt;
        &lt;div 
          class="click-zone"
          @click.left="handleLeftClick"
          @click.middle="handleMiddleClick"
          @click.right="handleRightClick"
        &gt;
          &lt;p&gt;åœ¨æ­¤åŒºåŸŸæµ‹è¯•é¼ æ ‡æŒ‰é”®ï¼š&lt;/p&gt;
          &lt;ul&gt;
            &lt;li&gt;å·¦é”®ç‚¹å‡» - æ­£å¸¸ç‚¹å‡»&lt;/li&gt;
            &lt;li&gt;ä¸­é”®ç‚¹å‡» - é¼ æ ‡æ»šè½®ç‚¹å‡»&lt;/li&gt;
            &lt;li&gt;å³é”®ç‚¹å‡» - å¼¹å‡ºä¸Šä¸‹æ–‡èœå•&lt;/li&gt;
          &lt;/ul&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      
      &lt;div class="context-menu-info"&gt;
        &lt;p&gt;&lt;strong&gt;æ³¨æ„ï¼š&lt;/strong&gt;å³é”®ç‚¹å‡»æ—¶ï¼Œä½¿ç”¨ &lt;code&gt;.prevent&lt;/code&gt; å¯ä»¥é˜»æ­¢æµè§ˆå™¨é»˜è®¤çš„ä¸Šä¸‹æ–‡èœå•ï¼š&lt;/p&gt;
        &lt;div 
          class="prevent-context-zone"
          @click.right.prevent="handlePreventRightClick"
        &gt;
          å³é”®ç‚¹å‡»è¿™é‡Œä¸ä¼šæ˜¾ç¤ºæµè§ˆå™¨èœå•
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="mouse-logs"&gt;
      &lt;h3&gt;é¼ æ ‡äº‹ä»¶æ—¥å¿—:&lt;/h3&gt;
      &lt;div v-for="(log, index) in logs" :key="index" class="log-item"&gt;
        {{ log }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const logs = ref([])

const addLog = (message) =&gt; {
  const timestamp = new Date().toLocaleTimeString()
  logs.value.unshift(`[${timestamp}] ${message}`)
  if (logs.value.length &gt; 6) {
    logs.value.pop()
  }
}

const handleLeftClick = () =&gt; {
  addLog('ğŸ–±ï¸ é¼ æ ‡å·¦é”®ç‚¹å‡»')
}

const handleMiddleClick = () =&gt; {
  addLog('ğŸ¯ é¼ æ ‡ä¸­é”®ç‚¹å‡»')
}

const handleRightClick = (event) =&gt; {
  addLog('ğŸ“‹ é¼ æ ‡å³é”®ç‚¹å‡» (ä¼šæ˜¾ç¤ºæµè§ˆå™¨ä¸Šä¸‹æ–‡èœå•)')
}

const handlePreventRightClick = () =&gt; {
  addLog('ğŸš« é¼ æ ‡å³é”®ç‚¹å‡» (ä½¿ç”¨ .preventï¼Œä¸æ˜¾ç¤ºæµè§ˆå™¨èœå•)')
  // å¯ä»¥åœ¨è¿™é‡Œæ˜¾ç¤ºè‡ªå®šä¹‰ä¸Šä¸‹æ–‡èœå•
}
&lt;/script&gt;

&lt;style scoped&gt;
.mouse-modifier-demo {
  padding: 20px;
  max-width: 800px;
  margin: 0 auto;
}

.mouse-test-area {
  margin: 30px 0;
  padding: 25px;
  background: #f8f9fa;
  border-radius: 8px;
}

.click-zone {
  padding: 40px;
  background: white;
  border: 3px dashed #2196f3;
  border-radius: 8px;
  text-align: center;
  cursor: pointer;
  transition: background 0.3s;
}

.click-zone:hover {
  background: #e3f2fd;
}

.click-zone p {
  margin: 0 0 15px 0;
  font-weight: bold;
  color: #1976d2;
}

.click-zone ul {
  text-align: left;
  display: inline-block;
  margin: 0;
  color: #333;
}

.click-zone li {
  margin: 8px 0;
}

.context-menu-info {
  margin: 30px 0;
  padding: 25px;
  background: #fff3e0;
  border-radius: 8px;
}

.context-menu-info p {
  margin: 0 0 15px 0;
  color: #e65100;
}

.prevent-context-zone {
  padding: 20px;
  background: #ffebee;
  border: 2px solid #f44336;
  border-radius: 6px;
  text-align: center;
  cursor: pointer;
  font-weight: bold;
  color: #d32f2f;
}

.mouse-logs {
  margin-top: 30px;
  padding: 20px;
  background: #2c3e50;
  border-radius: 8px;
  color: white;
}

.mouse-logs h3 {
  margin: 0 0 15px 0;
  color: #42b883;
}

.log-item {
  padding: 10px 15px;
  margin: 5px 0;
  background: #34495e;
  border-radius: 4px;
  border-left: 4px solid #42b883;
  font-family: 'Courier New', monospace;
  font-size: 14px;
}
&lt;/style&gt;
</code></pre>
<hr/>
<h2 data-id="heading-20"><strong>ä¸ƒã€ äº‹ä»¶ä¿®é¥°ç¬¦çš„ç»„åˆä½¿ç”¨</strong></h2>
<h3 data-id="heading-21"><strong>7.1 ä¿®é¥°ç¬¦é“¾å¼è°ƒç”¨</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="combined-modifier-demo"&gt;
    &lt;h2&gt;äº‹ä»¶ä¿®é¥°ç¬¦ç»„åˆä½¿ç”¨&lt;/h2&gt;
    
    &lt;div class="demo-area"&gt;
      &lt;div class="combination-examples"&gt;
        &lt;div class="example"&gt;
          &lt;h3&gt;1. é˜»æ­¢å†’æ³¡ + é˜»æ­¢é»˜è®¤è¡Œä¸º&lt;/h3&gt;
          &lt;a 
            href="#"
            @click.prevent.stop="handlePreventStop"
            class="combined-link"
          &gt;
            @click.prevent.stop
          &lt;/a&gt;
          &lt;p&gt;æ—¢é˜»æ­¢é“¾æ¥è·³è½¬ï¼Œåˆé˜»æ­¢äº‹ä»¶å†’æ³¡&lt;/p&gt;
        &lt;/div&gt;
        
        &lt;div class="example"&gt;
          &lt;h3&gt;2. æ•è·é˜¶æ®µ + åªè§¦å‘ä¸€æ¬¡&lt;/h3&gt;
          &lt;div 
            @click.capture.once="handleCaptureOnce"
            class="capture-once-box"
          &gt;
            @click.capture.once
            &lt;button&gt;å†…éƒ¨æŒ‰é’®&lt;/button&gt;
          &lt;/div&gt;
          &lt;p&gt;åœ¨æ•è·é˜¶æ®µè§¦å‘ï¼Œä¸”åªè§¦å‘ä¸€æ¬¡&lt;/p&gt;
        &lt;/div&gt;
        
        &lt;div class="example"&gt;
          &lt;h3&gt;3. ç²¾ç¡®ç»„åˆé”® + é˜»æ­¢é»˜è®¤&lt;/h3&gt;
          &lt;button 
            @keydown.ctrl.exact.prevent="handleExactCtrlPrevent"
            class="exact-ctrl-btn"
          &gt;
            èšç„¦åæŒ‰ Ctrl (ç²¾ç¡®)
          &lt;/button&gt;
          &lt;p&gt;ç²¾ç¡®åŒ¹é… Ctrl é”®ï¼Œé˜»æ­¢é»˜è®¤è¡Œä¸º&lt;/p&gt;
        &lt;/div&gt;
        
        &lt;div class="example"&gt;
          &lt;h3&gt;4. è‡ªèº«æ£€æŸ¥ + é˜»æ­¢å†’æ³¡&lt;/h3&gt;
          &lt;div 
            @click.self.stop="handleSelfStop"
            class="self-stop-box"
          &gt;
            @click.self.stop
            &lt;button&gt;ç‚¹å‡»æŒ‰é’®ä¸ä¼šè§¦å‘&lt;/button&gt;
          &lt;/div&gt;
          &lt;p&gt;åªæœ‰ç‚¹å‡»å®¹å™¨æœ¬èº«æ‰è§¦å‘ï¼Œå¹¶é˜»æ­¢å†’æ³¡&lt;/p&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="combination-logs"&gt;
      &lt;h3&gt;ç»„åˆä¿®é¥°ç¬¦äº‹ä»¶æ—¥å¿—:&lt;/h3&gt;
      &lt;div v-for="(log, index) in logs" :key="index" class="log-item"&gt;
        {{ log }}
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref } from 'vue'

const logs = ref([])

const addLog = (message) =&gt; {
  const timestamp = new Date().toLocaleTimeString()
  logs.value.unshift(`[${timestamp}] ${message}`)
  if (logs.value.length &gt; 8) {
    logs.value.pop()
  }
}

const handlePreventStop = () =&gt; {
  addLog('ğŸ”— prevent.stop: é˜»æ­¢è·³è½¬å’Œå†’æ³¡')
}

const handleCaptureOnce = () =&gt; {
  addLog('ğŸ¯ capture.once: æ•è·é˜¶æ®µè§¦å‘ï¼Œåªè§¦å‘ä¸€æ¬¡')
}

const handleExactCtrlPrevent = (event) =&gt; {
  addLog('âŒ¨ï¸ ctrl.exact.prevent: ç²¾ç¡® Ctrlï¼Œé˜»æ­¢é»˜è®¤è¡Œä¸º')
  event.preventDefault()
}

const handleSelfStop = () =&gt; {
  addLog('ğŸ¯ self.stop: ä»…è‡ªèº«è§¦å‘ï¼Œé˜»æ­¢å†’æ³¡')
}
&lt;/script&gt;

&lt;style scoped&gt;
.combined-modifier-demo {
  padding: 20px;
  max-width: 1000px;
  margin: 0 auto;
}

.combination-examples {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin: 30px 0;
}

.example {
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  border: 1px solid #e9ecef;
}

.example h3 {
  margin: 0 0 15px 0;
  color: #333;
  font-size: 16px;
}

.example p {
  margin: 10px 0 0 0;
  color: #666;
  font-size: 14px;
  font-style: italic;
}

.combined-link {
  display: block;
  padding: 12px;
  background: #e3f2fd;
  border: 2px solid #2196f3;
  border-radius: 6px;
  text-decoration: none;
  color: #1976d2;
  text-align: center;
  font-weight: bold;
  transition: background 0.3s;
}

.combined-link:hover {
  background: #bbdefb;
}

.capture-once-box {
  padding: 20px;
  background: #fff3e0;
  border: 2px solid #ff9800;
  border-radius: 6px;
  text-align: center;
  cursor: pointer;
  font-weight: bold;
  color: #e65100;
}

.capture-once-box button {
  margin-top: 10px;
  padding: 8px 16px;
  background: #ff9800;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.exact-ctrl-btn {
  width: 100%;
  padding: 12px;
  background: #fce4ec;
  border: 2px solid #e91e63;
  border-radius: 6px;
  color: #c2185b;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.3s;
}

.exact-ctrl-btn:focus {
  outline: none;
  background: #f8bbd9;
}

.self-stop-box {
  padding: 20px;
  background: #e8f5e8;
  border: 2px solid #4caf50;
  border-radius: 6px;
  text-align: center;
  cursor: pointer;
  font-weight: bold;
  color: #2e7d32;
}

.self-stop-box button {
  margin-top: 10px;
  padding: 8px 16px;
  background: #4caf50;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.combination-logs {
  margin-top: 30px;
  padding: 20px;
  background: #2c3e50;
  border-radius: 8px;
  color: white;
}

.combination-logs h3 {
  margin: 0 0 15px 0;
  color: #42b883;
}

.log-item {
  padding: 10px 15px;
  margin: 5px 0;
  background: #34495e;
  border-radius: 4px;
  border-left: 4px solid #42b883;
  font-family: 'Courier New', monospace;
  font-size: 14px;
}
&lt;/style&gt;
</code></pre>
<hr/>
<h2 data-id="heading-22"><strong>å…«ã€ æœ€ä½³å®è·µå’Œæ³¨æ„äº‹é¡¹</strong></h2>
<h3 data-id="heading-23"><strong>8.1 äº‹ä»¶ä¿®é¥°ç¬¦æœ€ä½³å®è·µ</strong></h3>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="best-practices-demo"&gt;
    &lt;h2&gt;äº‹ä»¶ä¿®é¥°ç¬¦æœ€ä½³å®è·µ&lt;/h2&gt;
    
    &lt;div class="practices"&gt;
      &lt;div class="practice-item good"&gt;
        &lt;h3&gt;âœ… æ¨èåšæ³•&lt;/h3&gt;
        &lt;div class="code-example"&gt;
          &lt;pre&gt;&lt;code&gt;&amp;lt;!-- æ¸…æ™°çš„ä¿®é¥°ç¬¦é¡ºåº --&amp;gt;
&amp;lt;form @submit.prevent.stop="handleSubmit"&amp;gt;
&amp;lt;!-- é€‚å½“çš„ä¿®é¥°ç¬¦ç»„åˆ --&amp;gt;
&amp;lt;a @click.prevent="handleLinkClick"&amp;gt;
&amp;lt;!-- ä½¿ç”¨ .exact ç²¾ç¡®æ§åˆ¶ --&amp;gt;
&amp;lt;button @keyup.ctrl.exact="handleExactCtrl"&amp;gt;&lt;/code&gt;&lt;/pre&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      
      &lt;div class="practice-item bad"&gt;
        &lt;h3&gt;âŒ é¿å…åšæ³•&lt;/h3&gt;
        &lt;div class="code-example"&gt;
          &lt;pre&gt;&lt;code&gt;&amp;lt;!-- è¿‡åº¦ä½¿ç”¨ä¿®é¥°ç¬¦ --&amp;gt;
&amp;lt;button @click.prevent.stop.self="handleClick"&amp;gt;
&amp;lt;!-- æ··æ·†çš„ä¿®é¥°ç¬¦é¡ºåº --&amp;gt;
&amp;lt;form @submit.stop.prevent="handleSubmit"&amp;gt;
&amp;lt;!-- ä¸å¿…è¦çš„ä¿®é¥°ç¬¦ --&amp;gt;
&amp;lt;div @click.self.prevent="handleClick"&amp;gt;&lt;/code&gt;&lt;/pre&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    &lt;/div&gt;

    &lt;div class="performance-tips"&gt;
      &lt;h3&gt;æ€§èƒ½æç¤º&lt;/h3&gt;
      &lt;ul&gt;
        &lt;li&gt;ä½¿ç”¨ &lt;code&gt;.passive&lt;/code&gt; æ”¹å–„æ»šåŠ¨æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯ç§»åŠ¨ç«¯&lt;/li&gt;
        &lt;li&gt;é¿å…åœ¨é¢‘ç¹è§¦å‘çš„äº‹ä»¶ä¸Šä½¿ç”¨å¤æ‚çš„ä¿®é¥°ç¬¦ç»„åˆ&lt;/li&gt;
        &lt;li&gt;ä½¿ç”¨ &lt;code&gt;.once&lt;/code&gt; æ¸…ç†ä¸éœ€è¦æŒç»­ç›‘å¬çš„äº‹ä»¶&lt;/li&gt;
        &lt;li&gt;åˆç†ä½¿ç”¨ &lt;code&gt;.prevent&lt;/code&gt; é¿å…ä¸å¿…è¦çš„é»˜è®¤è¡Œä¸ºé˜»æ­¢&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;

    &lt;div class="accessibility-considerations"&gt;
      &lt;h3&gt;å¯è®¿é—®æ€§è€ƒè™‘&lt;/h3&gt;
      &lt;ul&gt;
        &lt;li&gt;ç¡®ä¿é”®ç›˜å¯¼èˆªæ”¯æŒæ‰€æœ‰äº¤äº’åŠŸèƒ½&lt;/li&gt;
        &lt;li&gt;ä½¿ç”¨é€‚å½“çš„ ARIA æ ‡ç­¾æè¿°äº¤äº’è¡Œä¸º&lt;/li&gt;
        &lt;li&gt;æµ‹è¯•å±å¹•é˜…è¯»å™¨å…¼å®¹æ€§&lt;/li&gt;
        &lt;li&gt;æä¾›é”®ç›˜å¿«æ·é”®çš„è§†è§‰æç¤º&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
// æœ€ä½³å®è·µç¤ºä¾‹ä»£ç 
const handleSubmit = () =&gt; {
  console.log('è¡¨å•æäº¤å¤„ç†')
}

const handleLinkClick = () =&gt; {
  console.log('é“¾æ¥ç‚¹å‡»å¤„ç†')
}

const handleExactCtrl = () =&gt; {
  console.log('ç²¾ç¡® Ctrl é”®å¤„ç†')
}
&lt;/script&gt;

&lt;style scoped&gt;
.best-practices-demo {
  padding: 20px;
  max-width: 900px;
  margin: 0 auto;
}

.practices {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;
  margin: 30px 0;
}

.practice-item {
  padding: 25px;
  border-radius: 8px;
}

.practice-item.good {
  background: #e8f5e8;
  border: 2px solid #4caf50;
}

.practice-item.bad {
  background: #ffebee;
  border: 2px solid #f44336;
}

.practice-item h3 {
  margin: 0 0 15px 0;
  color: inherit;
}

.code-example {
  background: white;
  border-radius: 6px;
  padding: 15px;
  overflow-x: auto;
}

.code-example pre {
  margin: 0;
  font-family: 'Courier New', monospace;
  font-size: 14px;
  line-height: 1.4;
}

.performance-tips, .accessibility-considerations {
  margin: 30px 0;
  padding: 25px;
  background: #e3f2fd;
  border-radius: 8px;
}

.performance-tips h3, .accessibility-considerations h3 {
  margin: 0 0 15px 0;
  color: #1976d2;
}

.performance-tips ul, .accessibility-considerations ul {
  margin: 0;
  color: #333;
}

.performance-tips li, .accessibility-considerations li {
  margin: 8px 0;
}

.performance-tips code, .accessibility-considerations code {
  background: #fff;
  padding: 2px 6px;
  border-radius: 3px;
  font-family: 'Courier New', monospace;
  font-size: 12px;
}
&lt;/style&gt;
</code></pre>
<hr/>
<h2 data-id="heading-24"><strong>ä¹ã€ æ€»ç»“</strong></h2>
<h3 data-id="heading-25"><strong>9.1 äº‹ä»¶ä¿®é¥°ç¬¦æ ¸å¿ƒä»·å€¼</strong></h3>
<ol>
<li><strong>å£°æ˜å¼ç¼–ç¨‹</strong>ï¼šä»¥å£°æ˜çš„æ–¹å¼è¡¨è¾¾äº‹ä»¶è¡Œä¸ºæ„å›¾</li>
<li><strong>ä»£ç ç®€æ´</strong>ï¼šå‡å°‘æ ·æ¿ä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡</li>
<li><strong>å¯è¯»æ€§å¼º</strong>ï¼šä»£ç æ„å›¾ä¸€ç›®äº†ç„¶</li>
<li><strong>ç»´æŠ¤æ–¹ä¾¿</strong>ï¼šä¿®æ”¹äº‹ä»¶è¡Œä¸ºåªéœ€æ”¹åŠ¨æ¨¡æ¿</li>
</ol>
<h3 data-id="heading-26"><strong>9.2 äº‹ä»¶ä¿®é¥°ç¬¦åˆ†ç±»æ€»ç»“</strong></h3>













































<table><thead><tr><th>ç±»åˆ«</th><th>ä¸»è¦ä¿®é¥°ç¬¦</th><th>ä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>äº‹ä»¶ä¼ æ’­</strong></td><td><code>.stop</code> <code>.capture</code> <code>.self</code></td><td>æ§åˆ¶äº‹ä»¶ä¼ æ’­æµç¨‹</td></tr><tr><td><strong>é»˜è®¤è¡Œä¸º</strong></td><td><code>.prevent</code> <code>.passive</code></td><td>ç®¡ç†æµè§ˆå™¨é»˜è®¤è¡Œä¸º</td></tr><tr><td><strong>æŒ‰é”®å¤„ç†</strong></td><td><code>.enter</code> <code>.tab</code> <code>.esc</code> ç­‰</td><td>é”®ç›˜äº¤äº’å¤„ç†</td></tr><tr><td><strong>ç³»ç»Ÿä¿®é¥°</strong></td><td><code>.ctrl</code> <code>.alt</code> <code>.shift</code> <code>.meta</code></td><td>ç»„åˆé”®æ“ä½œ</td></tr><tr><td><strong>ç²¾ç¡®æ§åˆ¶</strong></td><td><code>.exact</code></td><td>ç²¾ç¡®åŒ¹é…ä¿®é¥°ç¬¦</td></tr><tr><td><strong>é¼ æ ‡æŒ‰é”®</strong></td><td><code>.left</code> <code>.right</code> <code>.middle</code></td><td>åŒºåˆ†é¼ æ ‡æŒ‰é”®</td></tr><tr><td><strong>æ¬¡æ•°æ§åˆ¶</strong></td><td><code>.once</code></td><td>ä¸€æ¬¡æ€§äº‹ä»¶å¤„ç†</td></tr></tbody></table>
<h3 data-id="heading-27"><strong>9.3 æœ€ä½³å®è·µè¦ç‚¹</strong></h3>
<ol>
<li><strong>åˆç†æ’åº</strong>ï¼šæŒ‰ç…§ <code>.capture</code> â†’ <code>.once</code> â†’ <code>.passive</code> â†’ <code>.prevent</code> â†’ <code>.stop</code> â†’ <code>.self</code> çš„é¡ºåº</li>
<li><strong>é€‚åº¦ä½¿ç”¨</strong>ï¼šé¿å…è¿‡åº¦å¤æ‚çš„ä¿®é¥°ç¬¦ç»„åˆ</li>
<li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šåœ¨é¢‘ç¹äº‹ä»¶ä¸Šä½¿ç”¨ <code>.passive</code></li>
<li><strong>å¯è®¿é—®æ€§</strong>ï¼šç¡®ä¿é”®ç›˜å¯¼èˆªæ”¯æŒæ‰€æœ‰åŠŸèƒ½</li>
</ol>
<p>Vue3 çš„äº‹ä»¶ä¿®é¥°ç¬¦æä¾›äº†ä¸€ç§ä¼˜é›…è€Œå¼ºå¤§çš„æ–¹å¼æ¥å¤„ç† DOM äº‹ä»¶ç»†èŠ‚ï¼Œé€šè¿‡åˆç†ä½¿ç”¨è¿™äº›ä¿®é¥°ç¬¦ï¼Œå¯ä»¥ç¼–å†™å‡ºæ›´åŠ ç®€æ´ã€å¯è¯»å’Œå¯ç»´æŠ¤çš„ Vue ä»£ç ã€‚</p>
<hr/>
<p><strong>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—å’Œè¯„è®ºï¼æœ‰ä»»ä½•é—®é¢˜éƒ½å¯ä»¥åœ¨è¯„è®ºåŒºè®¨è®ºã€‚</strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef718a75b62649738f88308c0f318cfa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX6L6wYWxr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766305192&amp;x-signature=4PXK8r0ZM2VD4ygksahOwBJydNU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3 æœåŠ¡ç«¯æ¸²æŸ“ (SSR) æ·±åº¦è§£æï¼šä»åŸç†åˆ°å®è·µçš„å®Œæ•´æŒ‡å—]]></title>    <link>https://juejin.cn/post/7583325044233568282</link>    <guid>https://juejin.cn/post/7583325044233568282</guid>    <pubDate>2025-12-14T08:44:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583325044233568282" data-draft-id="7583325044233551898" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3 æœåŠ¡ç«¯æ¸²æŸ“ (SSR) æ·±åº¦è§£æï¼šä»åŸç†åˆ°å®è·µçš„å®Œæ•´æŒ‡å—"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-14T08:44:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŒ—è¾°alk"/> <meta itemprop="url" content="https://juejin.cn/user/1772855673241352"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3 æœåŠ¡ç«¯æ¸²æŸ“ (SSR) æ·±åº¦è§£æï¼šä»åŸç†åˆ°å®è·µçš„å®Œæ•´æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1772855673241352/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŒ—è¾°alk
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T08:44:21.000Z" title="Sun Dec 14 2025 08:44:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>æ‘˜è¦</strong></h2>
<p>æœåŠ¡ç«¯æ¸²æŸ“ (SSR) æ˜¯ç°ä»£ Web åº”ç”¨æå‡æ€§èƒ½ã€SEO å’Œç”¨æˆ·ä½“éªŒçš„å…³é”®æŠ€æœ¯ã€‚Vue3 æä¾›äº†å…¨æ–°çš„æœåŠ¡ç«¯æ¸²æŸ“æ¶æ„ï¼Œå…·æœ‰æ›´å¥½çš„æ€§èƒ½ã€æ›´ç®€æ´çš„ API å’Œæ›´å®Œå–„çš„ TypeScript æ”¯æŒã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Vue3 SSR çš„å·¥ä½œåŸç†ã€æ ¸å¿ƒæ¦‚å¿µã€å®ç°æ–¹æ¡ˆï¼Œé€šè¿‡è¯¦ç»†çš„ä»£ç ç¤ºä¾‹ã€æ¶æ„å›¾å’Œæµç¨‹å›¾ï¼Œå¸®åŠ©ä½ å…¨é¢æŒæ¡ Vue3 æœåŠ¡ç«¯æ¸²æŸ“çš„å®Œæ•´çŸ¥è¯†ä½“ç³»ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>ä¸€ã€ ä»€ä¹ˆæ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</strong></h2>
<h3 data-id="heading-2"><strong>1.1 å®¢æˆ·ç«¯æ¸²æŸ“ (CSR) çš„é—®é¢˜</strong></h3>
<p>åœ¨ä¼ ç»Ÿçš„ Vue å•é¡µé¢åº”ç”¨ (SPA) ä¸­ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Vue App<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- åˆå§‹ HTML æ˜¯ç©ºçš„ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"app.js"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p><strong>CSR çš„å·¥ä½œæµç¨‹ï¼š</strong></p>
<ol>
<li>æµè§ˆå™¨è¯·æ±‚ HTML</li>
<li>æœåŠ¡å™¨è¿”å›ç©ºçš„ HTML æ¨¡æ¿</li>
<li>æµè§ˆå™¨ä¸‹è½½ JavaScript æ–‡ä»¶</li>
<li>Vue åº”ç”¨åˆå§‹åŒ–ï¼Œæ¸²æŸ“é¡µé¢</li>
<li>ç”¨æˆ·çœ‹åˆ°å†…å®¹</li>
</ol>
<p><strong>å­˜åœ¨çš„é—®é¢˜ï¼š</strong></p>
<ul>
<li><strong>SEO ä¸å‹å¥½</strong>ï¼šæœç´¢å¼•æ“çˆ¬è™«éš¾ä»¥æŠ“å–åŠ¨æ€å†…å®¹</li>
<li><strong>é¦–å±åŠ è½½æ…¢</strong>ï¼šç”¨æˆ·éœ€è¦ç­‰å¾…æ‰€æœ‰ JS åŠ è½½æ‰§è¡Œå®Œæ‰èƒ½çœ‹åˆ°å†…å®¹</li>
<li><strong>ç™½å±æ—¶é—´é•¿</strong>ï¼šç‰¹åˆ«æ˜¯ç½‘ç»œæ¡ä»¶å·®çš„æƒ…å†µä¸‹</li>
</ul>
<h3 data-id="heading-3"><strong>1.2 æœåŠ¡ç«¯æ¸²æŸ“ (SSR) çš„ä¼˜åŠ¿</strong></h3>
<p><strong>SSR çš„å·¥ä½œæµç¨‹ï¼š</strong></p>
<ol>
<li>æµè§ˆå™¨è¯·æ±‚ HTML</li>
<li>æœåŠ¡å™¨æ‰§è¡Œ Vue åº”ç”¨ï¼Œç”Ÿæˆå®Œæ•´çš„ HTML</li>
<li>æµè§ˆå™¨ç«‹å³æ˜¾ç¤ºæ¸²æŸ“å¥½çš„å†…å®¹</li>
<li>Vue åº”ç”¨åœ¨å®¢æˆ·ç«¯"æ¿€æ´»"(Hydrate)ï¼Œå˜æˆå¯äº¤äº’çš„ SPA</li>
</ol>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li><strong>æ›´å¥½çš„ SEO</strong>ï¼šæœç´¢å¼•æ“å¯ä»¥ç›´æ¥æŠ“å–å®Œæ•´çš„ HTML å†…å®¹</li>
<li><strong>æ›´å¿«çš„é¦–å±åŠ è½½</strong>ï¼šç”¨æˆ·ç«‹å³çœ‹åˆ°å†…å®¹ï¼Œæ— éœ€ç­‰å¾… JS ä¸‹è½½æ‰§è¡Œ</li>
<li><strong>æ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</strong>ï¼šå‡å°‘ç™½å±æ—¶é—´ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæ…¢ç½‘ç»œç”¨æˆ·</li>
<li><strong>ç¤¾äº¤åˆ†äº«å‹å¥½</strong>ï¼šç¤¾äº¤åª’ä½“çˆ¬è™«å¯ä»¥æ­£ç¡®è·å–é¡µé¢å…ƒä¿¡æ¯</li>
</ul>
<hr/>
<h2 data-id="heading-4"><strong>äºŒã€ Vue3 SSR æ ¸å¿ƒæ¶æ„ä¸å·¥ä½œåŸç†</strong></h2>
<h3 data-id="heading-5"><strong>2.1 Vue3 SSR æ•´ä½“æ¶æ„</strong></h3>
<p><strong>æµç¨‹å›¾ï¼šVue3 SSR å®Œæ•´å·¥ä½œæµç¨‹</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[ç”¨æˆ·è®¿é—®URL] --&gt; B[æœåŠ¡å™¨æ¥æ”¶è¯·æ±‚]
    B --&gt; C[åˆ›å»ºVueåº”ç”¨å®ä¾‹]
    C --&gt; D[è·¯ç”±åŒ¹é…]
    D --&gt; E[æ•°æ®é¢„å–&lt;br&gt;asyncData/pinia]
    E --&gt; F[æ¸²æŸ“HTMLå­—ç¬¦ä¸²]
    F --&gt; G[æ³¨å…¥çŠ¶æ€åˆ°HTML]
    G --&gt; H[è¿”å›å®Œæ•´HTMLç»™æµè§ˆå™¨]
    
    H --&gt; I[æµè§ˆå™¨æ˜¾ç¤ºé™æ€å†…å®¹]
    I --&gt; J[åŠ è½½å®¢æˆ·ç«¯JS]
    J --&gt; K[Hydrationæ¿€æ´»]
    K --&gt; L[å˜æˆå¯äº¤äº’SPA]
    L --&gt; M[åç»­è·¯ç”±åˆ‡æ¢ä¸ºCSR]
</code></pre>
<h3 data-id="heading-6"><strong>2.2 åŒæ„åº”ç”¨ (Isomorphic Application)</strong></h3>
<p>Vue3 SSR çš„æ ¸å¿ƒæ¦‚å¿µæ˜¯"åŒæ„" - åŒä¸€å¥—ä»£ç åœ¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½èƒ½è¿è¡Œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŒæ„ç»„ä»¶ - åœ¨æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½èƒ½è¿è¡Œ</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// è¿™ä¸ªç»„ä»¶åœ¨ä¸¤ä¸ªç¯å¢ƒéƒ½èƒ½æ‰§è¡Œ</span>
    <span class="hljs-keyword">const</span> data = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'Hello SSR'</span>)
    <span class="hljs-keyword">return</span> { data }
  }
}
</code></pre>
<p><strong>å…³é”®æŒ‘æˆ˜ï¼š</strong></p>
<ol>
<li><strong>ç¯å¢ƒå·®å¼‚</strong>ï¼šNode.js vs æµè§ˆå™¨ç¯å¢ƒ</li>
<li><strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šæœåŠ¡å™¨æ²¡æœ‰ DOMï¼Œåªæœ‰éƒ¨åˆ†ç”Ÿå‘½å‘¨æœŸ</li>
<li><strong>æ•°æ®çŠ¶æ€</strong>ï¼šæœåŠ¡å™¨é¢„å–çš„æ•°æ®éœ€è¦ä¼ é€’åˆ°å®¢æˆ·ç«¯</li>
<li><strong>è·¯ç”±åŒ¹é…</strong>ï¼šæœåŠ¡å™¨éœ€è¦æ ¹æ® URL åŒ¹é…å¯¹åº”ç»„ä»¶</li>
</ol>
<hr/>
<h2 data-id="heading-7"><strong>ä¸‰ã€ Vue3 SSR æ ¸å¿ƒ API è§£æ</strong></h2>
<h3 data-id="heading-8"><strong>3.1 <code>renderToString</code> - æ ¸å¿ƒæ¸²æŸ“å‡½æ•°</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { renderToString } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue/server-renderer'</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.js'</span>

<span class="hljs-comment">// æœåŠ¡å™¨æ¸²æŸ“å…¥å£</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">renderApp</span>(<span class="hljs-params">url</span>) {
  <span class="hljs-comment">// 1. åˆ›å»º Vue åº”ç”¨å®ä¾‹</span>
  <span class="hljs-keyword">const</span> { app, router } = <span class="hljs-title function_">createApp</span>()
  
  <span class="hljs-comment">// 2. è®¾ç½®æœåŠ¡å™¨ç«¯è·¯ç”±</span>
  router.<span class="hljs-title function_">push</span>(url)
  <span class="hljs-keyword">await</span> router.<span class="hljs-title function_">isReady</span>()
  
  <span class="hljs-comment">// 3. æ¸²æŸ“ä¸º HTML å­—ç¬¦ä¸²</span>
  <span class="hljs-keyword">const</span> html = <span class="hljs-keyword">await</span> <span class="hljs-title function_">renderToString</span>(app)
  
  <span class="hljs-comment">// 4. è¿”å›å®Œæ•´çš„ HTML</span>
  <span class="hljs-keyword">return</span> <span class="hljs-string">`
    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
      &lt;head&gt;
        &lt;title&gt;Vue3 SSR App&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;div id="app"&gt;<span class="hljs-subst">${html}</span>&lt;/div&gt;
      &lt;/body&gt;
    &lt;/html&gt;
  `</span>
}
</code></pre>
<h3 data-id="heading-9"><strong>3.2 <code>createSSRApp</code> - åˆ›å»º SSR åº”ç”¨</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// app.js - åŒæ„åº”ç”¨åˆ›å»º</span>
<span class="hljs-keyword">import</span> { createSSRApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { createRouter, createMemoryHistory, createWebHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>
<span class="hljs-keyword">import</span> routes <span class="hljs-keyword">from</span> <span class="hljs-string">'./routes'</span>

<span class="hljs-comment">// å¯¼å‡ºä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œä¸ºæ¯ä¸ªè¯·æ±‚åˆ›å»ºæ–°çš„åº”ç”¨å®ä¾‹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createApp</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createSSRApp</span>(<span class="hljs-title class_">App</span>)
  
  <span class="hljs-comment">// æ ¹æ®ç¯å¢ƒä½¿ç”¨ä¸åŒçš„ history</span>
  <span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
    <span class="hljs-attr">history</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">SSR</span> 
      ? <span class="hljs-title function_">createMemoryHistory</span>()  <span class="hljs-comment">// æœåŠ¡å™¨ç”¨ memory history</span>
      : <span class="hljs-title function_">createWebHistory</span>(),    <span class="hljs-comment">// å®¢æˆ·ç«¯ç”¨ web history</span>
    routes
  })
  
  app.<span class="hljs-title function_">use</span>(router)
  <span class="hljs-keyword">return</span> { app, router }
}
</code></pre>
<h3 data-id="heading-10"><strong>3.3 <code>useSSRContext</code> - æœåŠ¡å™¨ä¸Šä¸‹æ–‡</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useSSRContext } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-comment">// åœ¨ç»„ä»¶ä¸­è®¿é—® SSR ä¸Šä¸‹æ–‡</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-title function_">setup</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">SSR</span>) {
      <span class="hljs-comment">// åªåœ¨æœåŠ¡å™¨ç«¯æ‰§è¡Œ</span>
      <span class="hljs-keyword">const</span> ctx = <span class="hljs-title function_">useSSRContext</span>()
      ctx.<span class="hljs-property">title</span> = <span class="hljs-string">'åŠ¨æ€æ ‡é¢˜'</span>
    }
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-11"><strong>å››ã€ å®Œæ•´ Vue3 SSR é¡¹ç›®å®æˆ˜</strong></h2>
<p>è®©æˆ‘ä»¬æ„å»ºä¸€ä¸ªå®Œæ•´çš„ Vue3 SSR é¡¹ç›®æ¥æ¼”ç¤ºæ‰€æœ‰æ¦‚å¿µã€‚</p>
<h3 data-id="heading-12"><strong>4.1 é¡¹ç›®ç»“æ„</strong></h3>
<pre><code class="hljs language-bash" lang="bash">vue3-ssr-project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ client/          <span class="hljs-comment"># å®¢æˆ·ç«¯å…¥å£</span>
â”‚   â”‚   â””â”€â”€ entry-client.js
â”‚   â”œâ”€â”€ server/          <span class="hljs-comment"># æœåŠ¡å™¨å…¥å£</span>
â”‚   â”‚   â””â”€â”€ entry-server.js
â”‚   â”œâ”€â”€ components/      <span class="hljs-comment"># å…±äº«ç»„ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ Layout.vue
â”‚   â”‚   â””â”€â”€ PostList.vue
â”‚   â”œâ”€â”€ router/          <span class="hljs-comment"># è·¯ç”±é…ç½®</span>
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ stores/          <span class="hljs-comment"># çŠ¶æ€ç®¡ç†</span>
â”‚   â”‚   â””â”€â”€ postStore.js
â”‚   â””â”€â”€ App.vue
â”œâ”€â”€ index.html           <span class="hljs-comment"># HTML æ¨¡æ¿</span>
â”œâ”€â”€ server.js           <span class="hljs-comment"># Express æœåŠ¡å™¨</span>
â””â”€â”€ vite.config.js      <span class="hljs-comment"># Vite é…ç½®</span>
</code></pre>
<h3 data-id="heading-13"><strong>4.2 å…±äº«åº”ç”¨åˆ›å»º (app.js)</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/app.js</span>
<span class="hljs-keyword">import</span> { createSSRApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>
<span class="hljs-keyword">import</span> { createRouter } <span class="hljs-keyword">from</span> <span class="hljs-string">'./router'</span>
<span class="hljs-keyword">import</span> { createPinia } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./App.vue'</span>

<span class="hljs-comment">// å¯¼å‡ºä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œä¸ºæ¯ä¸ªè¯·æ±‚åˆ›å»ºæ–°çš„åº”ç”¨å®ä¾‹</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createApp</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createSSRApp</span>(<span class="hljs-title class_">App</span>)
  <span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>()
  <span class="hljs-keyword">const</span> pinia = <span class="hljs-title function_">createPinia</span>()
  
  app.<span class="hljs-title function_">use</span>(router)
  app.<span class="hljs-title function_">use</span>(pinia)
  
  <span class="hljs-keyword">return</span> { app, router, pinia }
}
</code></pre>
<h3 data-id="heading-14"><strong>4.3 è·¯ç”±é…ç½®</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/router/index.js</span>
<span class="hljs-keyword">import</span> { createRouter <span class="hljs-keyword">as</span> _createRouter, createMemoryHistory, createWebHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>

<span class="hljs-comment">// è·¯ç”±é…ç½®</span>
<span class="hljs-keyword">const</span> routes = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Home'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../components/Home.vue'</span>),
    <span class="hljs-attr">meta</span>: {
      <span class="hljs-attr">ssr</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// æ ‡è®°éœ€è¦ SSR</span>
    }
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/posts'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Posts'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../components/PostList.vue'</span>),
    <span class="hljs-attr">meta</span>: {
      <span class="hljs-attr">ssr</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">preload</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// éœ€è¦æ•°æ®é¢„å–</span>
    }
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/posts/:id'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'PostDetail'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../components/PostDetail.vue'</span>),
    <span class="hljs-attr">meta</span>: {
      <span class="hljs-attr">ssr</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">preload</span>: <span class="hljs-literal">true</span>
    }
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/about'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'About'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../components/About.vue'</span>),
    <span class="hljs-attr">meta</span>: {
      <span class="hljs-attr">ssr</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// ä¸éœ€è¦ SSR</span>
    }
  }
]

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">createRouter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">_createRouter</span>({
    <span class="hljs-attr">history</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">SSR</span> 
      ? <span class="hljs-title function_">createMemoryHistory</span>() 
      : <span class="hljs-title function_">createWebHistory</span>(),
    routes
  })
}
</code></pre>
<h3 data-id="heading-15"><strong>4.4 Pinia çŠ¶æ€ç®¡ç†</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/stores/postStore.js</span>
<span class="hljs-keyword">import</span> { defineStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>

<span class="hljs-comment">// æ¨¡æ‹Ÿ API è°ƒç”¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchPosts</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">100</span>))
  <span class="hljs-keyword">return</span> [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Vue3 SSR å…¥é—¨æŒ‡å—'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'å­¦ä¹  Vue3 æœåŠ¡ç«¯æ¸²æŸ“...'</span>, <span class="hljs-attr">views</span>: <span class="hljs-number">152</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Pinia çŠ¶æ€ç®¡ç†'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'Vue3 æ¨èçš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ...'</span>, <span class="hljs-attr">views</span>: <span class="hljs-number">98</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'Vite æ„å»ºå·¥å…·'</span>, <span class="hljs-attr">content</span>: <span class="hljs-string">'ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·...'</span>, <span class="hljs-attr">views</span>: <span class="hljs-number">76</span> }
  ]
}

<span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchPostDetail</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">id</span>) =&gt; {
  <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">50</span>))
  <span class="hljs-keyword">const</span> posts = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchPosts</span>()
  <span class="hljs-keyword">return</span> posts.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">post</span> =&gt;</span> post.<span class="hljs-property">id</span> === <span class="hljs-built_in">parseInt</span>(id))
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> usePostStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'post'</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">posts</span>: [],
    <span class="hljs-attr">currentPost</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
  }),
  
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadPosts</span>(<span class="hljs-params"/>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">true</span>
      <span class="hljs-keyword">try</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">posts</span> = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchPosts</span>()
      } <span class="hljs-keyword">finally</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">false</span>
      }
    },
    
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadPostDetail</span>(<span class="hljs-params">id</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">true</span>
      <span class="hljs-keyword">try</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPost</span> = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchPostDetail</span>(id)
      } <span class="hljs-keyword">finally</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">false</span>
      }
    },
    
    <span class="hljs-comment">// æœåŠ¡å™¨ç«¯æ•°æ®é¢„å–</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">serverInit</span>(<span class="hljs-params">route</span>) {
      <span class="hljs-keyword">if</span> (route.<span class="hljs-property">name</span> === <span class="hljs-string">'Posts'</span>) {
        <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadPosts</span>()
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (route.<span class="hljs-property">name</span> === <span class="hljs-string">'PostDetail'</span>) {
        <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadPostDetail</span>(route.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>)
      }
    }
  }
})
</code></pre>
<h3 data-id="heading-16"><strong>4.5 æœåŠ¡å™¨å…¥å£</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/server/entry-server.js</span>
<span class="hljs-keyword">import</span> { renderToString } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue/server-renderer'</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'../app.js'</span>
<span class="hljs-keyword">import</span> { usePostStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'../stores/postStore'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">render</span>(<span class="hljs-params">url</span>) {
  <span class="hljs-keyword">const</span> { app, router, pinia } = <span class="hljs-title function_">createApp</span>()
  
  <span class="hljs-comment">// è®¾ç½®æœåŠ¡å™¨ç«¯è·¯ç”±ä½ç½®</span>
  router.<span class="hljs-title function_">push</span>(url)
  
  <span class="hljs-comment">// ç­‰å¾…è·¯ç”±å‡†å¤‡å®Œæˆ</span>
  <span class="hljs-keyword">await</span> router.<span class="hljs-title function_">isReady</span>()
  
  <span class="hljs-comment">// è·å–åŒ¹é…çš„è·¯ç”±</span>
  <span class="hljs-keyword">const</span> matchedComponents = router.<span class="hljs-property">currentRoute</span>.<span class="hljs-property">value</span>.<span class="hljs-property">matched</span>
  <span class="hljs-keyword">const</span> route = router.<span class="hljs-property">currentRoute</span>.<span class="hljs-property">value</span>
  
  <span class="hljs-comment">// æ•°æ®é¢„å– - æ‰§è¡Œç»„ä»¶çš„ asyncData æˆ– store çš„ serverInit</span>
  <span class="hljs-keyword">const</span> postStore = <span class="hljs-title function_">usePostStore</span>(pinia)
  <span class="hljs-keyword">await</span> postStore.<span class="hljs-title function_">serverInit</span>(route)
  
  <span class="hljs-comment">// è·å–éœ€è¦é¢„å–æ•°æ®çš„ç»„ä»¶</span>
  <span class="hljs-keyword">const</span> componentsWithPreload = matchedComponents.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">component</span> =&gt;</span> 
    component.<span class="hljs-property">components</span>?.<span class="hljs-property">default</span> || component
  ).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">component</span> =&gt;</span> component.<span class="hljs-property">asyncData</span>)
  
  <span class="hljs-comment">// æ‰§è¡Œç»„ä»¶çš„ asyncData æ–¹æ³•</span>
  <span class="hljs-keyword">const</span> preloadPromises = componentsWithPreload.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">component</span> =&gt;</span> 
    component.<span class="hljs-title function_">asyncData</span>({
      <span class="hljs-attr">store</span>: pinia,
      <span class="hljs-attr">route</span>: router.<span class="hljs-property">currentRoute</span>.<span class="hljs-property">value</span>
    })
  )
  
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(preloadPromises)
  
  <span class="hljs-comment">// æ¸²æŸ“åº”ç”¨ä¸º HTML å­—ç¬¦ä¸²</span>
  <span class="hljs-keyword">const</span> ctx = {}
  <span class="hljs-keyword">const</span> html = <span class="hljs-keyword">await</span> <span class="hljs-title function_">renderToString</span>(app, ctx)
  
  <span class="hljs-comment">// è·å– Pinia çŠ¶æ€ï¼Œç”¨äºå®¢æˆ·ç«¯æ³¨æ°´</span>
  <span class="hljs-keyword">const</span> state = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(pinia.<span class="hljs-property">state</span>.<span class="hljs-property">value</span>)
  
  <span class="hljs-keyword">return</span> { html, state }
}
</code></pre>
<h3 data-id="heading-17"><strong>4.6 å®¢æˆ·ç«¯å…¥å£</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// src/client/entry-client.js</span>
<span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">'../app.js'</span>
<span class="hljs-keyword">import</span> { usePostStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'../stores/postStore'</span>

<span class="hljs-keyword">const</span> { app, router, pinia } = <span class="hljs-title function_">createApp</span>()

<span class="hljs-comment">// æ¢å¤æœåŠ¡å™¨çŠ¶æ€</span>
<span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">__PINIA_STATE__</span>) {
  pinia.<span class="hljs-property">state</span>.<span class="hljs-property">value</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">__PINIA_STATE__</span>
}

<span class="hljs-comment">// ç­‰å¾…è·¯ç”±å‡†å¤‡å®Œæˆ</span>
router.<span class="hljs-title function_">isReady</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// æŒ‚è½½åº”ç”¨</span>
  app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">'#app'</span>)
  
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®¢æˆ·ç«¯æ¿€æ´»å®Œæˆ'</span>)
})

<span class="hljs-comment">// å®¢æˆ·ç«¯ç‰¹å®šé€»è¾‘</span>
<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">SSR</span>) {
  <span class="hljs-comment">// æ·»åŠ å®¢æˆ·ç«¯ç‰¹å®šçš„äº‹ä»¶ç›‘å¬ç­‰</span>
  <span class="hljs-keyword">const</span> postStore = <span class="hljs-title function_">usePostStore</span>()
  
  <span class="hljs-comment">// ç›‘å¬è·¯ç”±å˜åŒ–ï¼Œåœ¨å®¢æˆ·ç«¯è·å–æ•°æ®</span>
  router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to, <span class="hljs-keyword">from</span>, next</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (to.<span class="hljs-property">meta</span>.<span class="hljs-property">preload</span> &amp;&amp; !postStore.<span class="hljs-property">posts</span>.<span class="hljs-property">length</span>) {
      postStore.<span class="hljs-title function_">serverInit</span>(to).<span class="hljs-title function_">then</span>(next)
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title function_">next</span>()
    }
  })
}
</code></pre>
<h3 data-id="heading-18"><strong>4.7 Vue ç»„ä»¶ç¤ºä¾‹</strong></h3>
<p><strong>App.vue - æ ¹ç»„ä»¶</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div id="app"&gt;
    &lt;Layout&gt;
      &lt;RouterView /&gt;
    &lt;/Layout&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import Layout from './components/Layout.vue'
&lt;/script&gt;
</code></pre>
<p><strong>Layout.vue - å¸ƒå±€ç»„ä»¶</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="layout"&gt;
    &lt;header class="header"&gt;
      &lt;nav class="nav"&gt;
        &lt;RouterLink to="/" class="nav-link"&gt;é¦–é¡µ&lt;/RouterLink&gt;
        &lt;RouterLink to="/posts" class="nav-link"&gt;æ–‡ç« åˆ—è¡¨&lt;/RouterLink&gt;
        &lt;RouterLink to="/about" class="nav-link"&gt;å…³äº&lt;/RouterLink&gt;
      &lt;/nav&gt;
    &lt;/header&gt;
    
    &lt;main class="main"&gt;
      &lt;slot /&gt;
    &lt;/main&gt;
    
    &lt;footer class="footer"&gt;
      &lt;p&gt;&amp;copy; 2024 Vue3 SSR æ¼”ç¤º&lt;/p&gt;
    &lt;/footer&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { RouterLink } from 'vue-router'
&lt;/script&gt;

&lt;style scoped&gt;
.layout {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.header {
  background: #2c3e50;
  padding: 1rem 0;
}

.nav {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 2rem;
  display: flex;
  gap: 2rem;
}

.nav-link {
  color: white;
  text-decoration: none;
  padding: 0.5rem 1rem;
  border-radius: 4px;
  transition: background 0.3s;
}

.nav-link:hover,
.nav-link.router-link-active {
  background: #34495e;
}

.main {
  flex: 1;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
  width: 100%;
}

.footer {
  background: #ecf0f1;
  padding: 1rem;
  text-align: center;
  color: #7f8c8d;
}
&lt;/style&gt;
</code></pre>
<p><strong>PostList.vue - æ–‡ç« åˆ—è¡¨ç»„ä»¶</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div class="post-list"&gt;
    &lt;h1&gt;æ–‡ç« åˆ—è¡¨&lt;/h1&gt;
    
    &lt;div v-if="postStore.loading" class="loading"&gt;
      åŠ è½½ä¸­...
    &lt;/div&gt;
    
    &lt;div v-else class="posts"&gt;
      &lt;article 
        v-for="post in postStore.posts" 
        :key="post.id"
        class="post-card"
      &gt;
        &lt;h2&gt;
          &lt;RouterLink :to="`/posts/${post.id}`" class="post-link"&gt;
            {{ post.title }}
          &lt;/RouterLink&gt;
        &lt;/h2&gt;
        &lt;p class="post-content"&gt;{{ post.content }}&lt;/p&gt;
        &lt;div class="post-meta"&gt;
          &lt;span&gt;æµè§ˆé‡: {{ post.views }}&lt;/span&gt;
        &lt;/div&gt;
      &lt;/article&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { usePostStore } from '../stores/postStore'
import { onServerPrefetch, onMounted } from 'vue'

const postStore = usePostStore()

// æœåŠ¡å™¨ç«¯æ•°æ®é¢„å–
onServerPrefetch(async () =&gt; {
  await postStore.loadPosts()
})

// å®¢æˆ·ç«¯æ•°æ®è·å–ï¼ˆå¦‚æœæœåŠ¡å™¨æ²¡æœ‰é¢„å–ï¼‰
onMounted(async () =&gt; {
  if (postStore.posts.length === 0) {
    await postStore.loadPosts()
  }
})

// ä¼ ç»Ÿ asyncData æ–¹å¼ï¼ˆå¯é€‰ï¼‰
export const asyncData = async ({ store, route }) =&gt; {
  const postStore = usePostStore(store)
  await postStore.loadPosts()
}
&lt;/script&gt;

&lt;style scoped&gt;
.post-list {
  max-width: 800px;
  margin: 0 auto;
}

.loading {
  text-align: center;
  padding: 2rem;
  color: #7f8c8d;
}

.posts {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.post-card {
  border: 1px solid #e1e8ed;
  border-radius: 8px;
  padding: 1.5rem;
  background: white;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  transition: transform 0.2s, box-shadow 0.2s;
}

.post-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.post-link {
  color: #2c3e50;
  text-decoration: none;
}

.post-link:hover {
  color: #42b883;
  text-decoration: underline;
}

.post-content {
  color: #5a6c7d;
  line-height: 1.6;
  margin: 1rem 0;
}

.post-meta {
  border-top: 1px solid #e1e8ed;
  padding-top: 1rem;
  color: #7f8c8d;
  font-size: 0.9rem;
}
&lt;/style&gt;
</code></pre>
<h3 data-id="heading-19"><strong>4.8 Express æœåŠ¡å™¨</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// server.js</span>
<span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">'express'</span>
<span class="hljs-keyword">import</span> { fileURLToPath } <span class="hljs-keyword">from</span> <span class="hljs-string">'url'</span>
<span class="hljs-keyword">import</span> { dirname, resolve } <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>
<span class="hljs-keyword">import</span> { render } <span class="hljs-keyword">from</span> <span class="hljs-string">'./dist/server/entry-server.js'</span>

<span class="hljs-keyword">const</span> __dirname = <span class="hljs-title function_">dirname</span>(<span class="hljs-title function_">fileURLToPath</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">url</span>))
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()

<span class="hljs-comment">// é™æ€æ–‡ä»¶æœåŠ¡</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-string">'/assets'</span>, express.<span class="hljs-title function_">static</span>(<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'./dist/client/assets'</span>)))

<span class="hljs-comment">// SSR è·¯ç”±å¤„ç†</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'*'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> { html, state } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">render</span>(req.<span class="hljs-property">url</span>)
    
    <span class="hljs-keyword">const</span> template = <span class="hljs-string">`
&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Vue3 SSR æ¼”ç¤º&lt;/title&gt;
    &lt;link rel="stylesheet" href="/assets/style.css"&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="app"&gt;<span class="hljs-subst">${html}</span>&lt;/div&gt;
    &lt;script&gt;
      // å°†æœåŠ¡å™¨çŠ¶æ€ä¼ é€’åˆ°å®¢æˆ·ç«¯
      window.__PINIA_STATE__ = <span class="hljs-subst">${state}</span>
    &lt;/script&gt;
    &lt;script type="module" src="/assets/entry-client.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;`</span>
    
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">200</span>).<span class="hljs-title function_">set</span>({ <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/html'</span> }).<span class="hljs-title function_">end</span>(template)
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'SSR æ¸²æŸ“é”™è¯¯:'</span>, error)
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">500</span>).<span class="hljs-title function_">end</span>(<span class="hljs-string">'æœåŠ¡å™¨å†…éƒ¨é”™è¯¯'</span>)
  }
})

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PORT</span> = process.<span class="hljs-property">env</span>.<span class="hljs-property">PORT</span> || <span class="hljs-number">3000</span>
app.<span class="hljs-title function_">listen</span>(<span class="hljs-variable constant_">PORT</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸš€ æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:<span class="hljs-subst">${PORT}</span>`</span>)
})
</code></pre>
<h3 data-id="heading-20"><strong>4.9 Vite æ„å»ºé…ç½®</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>
<span class="hljs-keyword">import</span> { resolve } <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">vue</span>()],
  
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-attr">alias</span>: {
      <span class="hljs-string">'@'</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'src'</span>)
    }
  },
  
  <span class="hljs-attr">build</span>: {
    <span class="hljs-attr">rollupOptions</span>: {
      <span class="hljs-attr">input</span>: {
        <span class="hljs-attr">client</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'src/client/entry-client.js'</span>),
        <span class="hljs-attr">server</span>: <span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'src/server/entry-server.js'</span>)
      },
      <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">format</span>: <span class="hljs-string">'esm'</span>,
        <span class="hljs-attr">entryFileNames</span>: <span class="hljs-function">(<span class="hljs-params">chunk</span>) =&gt;</span> {
          <span class="hljs-keyword">return</span> chunk.<span class="hljs-property">name</span> === <span class="hljs-string">'server'</span> ? <span class="hljs-string">'server/[name].js'</span> : <span class="hljs-string">'client/assets/[name]-[hash].js'</span>
        }
      }
    }
  },
  
  <span class="hljs-attr">ssr</span>: {
    <span class="hljs-attr">noExternal</span>: [<span class="hljs-string">'pinia'</span>]
  }
})
</code></pre>
<hr/>
<h2 data-id="heading-21"><strong>äº”ã€ æ•°æ®é¢„å–ä¸çŠ¶æ€åŒæ­¥</strong></h2>
<h3 data-id="heading-22"><strong>5.1 æ•°æ®é¢„å–ç­–ç•¥</strong></h3>
<p><strong>æµç¨‹å›¾ï¼šæ•°æ®é¢„å–ä¸çŠ¶æ€åŒæ­¥æµç¨‹</strong></p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[ç”¨æˆ·è¯·æ±‚] --&gt; B[æœåŠ¡å™¨è·¯ç”±åŒ¹é…]
    B --&gt; C[è¯†åˆ«éœ€è¦é¢„å–çš„ç»„ä»¶]
    C --&gt; D[æ‰§è¡ŒasyncData/storeé¢„å–]
    D --&gt; E[æ‰€æœ‰æ•°æ®é¢„å–å®Œæˆ]
    E --&gt; F[æ¸²æŸ“HTML]
    F --&gt; G[åºåˆ—åŒ–çŠ¶æ€åˆ°window]
    G --&gt; H[è¿”å›HTML+çŠ¶æ€]
    
    H --&gt; I[æµè§ˆå™¨æ¸²æŸ“]
    I --&gt; J[å®¢æˆ·ç«¯æ¿€æ´»]
    J --&gt; K[ååºåˆ—åŒ–çŠ¶æ€]
    K --&gt; L[Hydrationå®Œæˆ]
</code></pre>
<h3 data-id="heading-23"><strong>5.2 å¤šç§æ•°æ®é¢„å–æ–¹å¼</strong></h3>
<h4 data-id="heading-24"><strong>æ–¹å¼ä¸€ï¼šä½¿ç”¨ <code>onServerPrefetch</code></strong></h4>
<pre><code class="hljs language-vue" lang="vue">&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;ç”¨æˆ·èµ„æ–™&lt;/h1&gt;
    &lt;div v-if="user"&gt;{{ user.name }}&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, onServerPrefetch } from 'vue'

const user = ref(null)

const fetchUserData = async () =&gt; {
  // æ¨¡æ‹Ÿ API è°ƒç”¨
  await new Promise(resolve =&gt; setTimeout(resolve, 100))
  user.value = { name: 'å¼ ä¸‰', id: 1, email: 'zhangsan@example.com' }
}

// æœåŠ¡å™¨ç«¯é¢„å–
onServerPrefetch(async () =&gt; {
  await fetchUserData()
})

// å®¢æˆ·ç«¯è·å–ï¼ˆå¦‚æœæœåŠ¡å™¨æ²¡æœ‰é¢„å–ï¼‰
import { onMounted } from 'vue'
onMounted(async () =&gt; {
  if (!user.value) {
    await fetchUserData()
  }
})
&lt;/script&gt;
</code></pre>
<h4 data-id="heading-25"><strong>æ–¹å¼äºŒï¼šä½¿ç”¨ Store ç»Ÿä¸€ç®¡ç†</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// stores/userStore.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useUserStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">'user'</span>, {
  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> ({
    <span class="hljs-attr">user</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
  }),
  
  <span class="hljs-attr">actions</span>: {
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">fetchUser</span>(<span class="hljs-params">id</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">true</span>
      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// å®é™…é¡¹ç›®ä¸­è¿™é‡Œè°ƒç”¨ API</span>
        <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">100</span>))
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span> = { id, <span class="hljs-attr">name</span>: <span class="hljs-string">'ç”¨æˆ·'</span> + id, <span class="hljs-attr">email</span>: <span class="hljs-string">`user<span class="hljs-subst">${id}</span>@example.com`</span> }
      } <span class="hljs-keyword">finally</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">false</span>
      }
    },
    
    <span class="hljs-comment">// æœåŠ¡å™¨ç«¯åˆå§‹åŒ–</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">serverInit</span>(<span class="hljs-params">route</span>) {
      <span class="hljs-keyword">if</span> (route.<span class="hljs-property">name</span> === <span class="hljs-string">'UserProfile'</span> &amp;&amp; route.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>) {
        <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fetchUser</span>(route.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>)
      }
    }
  }
})
</code></pre>
<hr/>
<h2 data-id="heading-26"><strong>å…­ã€ æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</strong></h2>
<h3 data-id="heading-27"><strong>6.1 ç¼“å­˜ç­–ç•¥</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// server.js - æ·»åŠ ç¼“å­˜</span>
<span class="hljs-keyword">import</span> lru-cache <span class="hljs-keyword">from</span> <span class="hljs-string">'lru-cache'</span>

<span class="hljs-keyword">const</span> ssrCache = <span class="hljs-keyword">new</span> lru-<span class="hljs-title function_">cache</span>({
  <span class="hljs-attr">max</span>: <span class="hljs-number">100</span>, <span class="hljs-comment">// ç¼“å­˜100ä¸ªé¡µé¢</span>
  <span class="hljs-attr">ttl</span>: <span class="hljs-number">1000</span> * <span class="hljs-number">60</span> * <span class="hljs-number">15</span> <span class="hljs-comment">// 15åˆ†é’Ÿ</span>
})

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'*'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {
  <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜</span>
  <span class="hljs-keyword">const</span> cacheKey = req.<span class="hljs-property">url</span>
  <span class="hljs-keyword">if</span> (ssrCache.<span class="hljs-title function_">has</span>(cacheKey)) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ä½¿ç”¨ç¼“å­˜:'</span>, cacheKey)
    <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">send</span>(ssrCache.<span class="hljs-title function_">get</span>(cacheKey))
  }
  
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> { html, state } = <span class="hljs-keyword">await</span> <span class="hljs-title function_">render</span>(req.<span class="hljs-property">url</span>)
    <span class="hljs-keyword">const</span> template = <span class="hljs-title function_">generateTemplate</span>(html, state)
    
    <span class="hljs-comment">// ç¼“å­˜ç»“æœï¼ˆæ’é™¤éœ€è¦åŠ¨æ€å†…å®¹çš„é¡µé¢ï¼‰</span>
    <span class="hljs-keyword">if</span> (!req.<span class="hljs-property">url</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'/admin'</span>) &amp;&amp; !req.<span class="hljs-property">url</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'/user'</span>)) {
      ssrCache.<span class="hljs-title function_">set</span>(cacheKey, template)
    }
    
    res.<span class="hljs-title function_">send</span>(template)
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-comment">// é”™è¯¯å¤„ç†</span>
  }
})
</code></pre>
<h3 data-id="heading-28"><strong>6.2 æµå¼æ¸²æŸ“</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æµå¼æ¸²æŸ“ç¤ºä¾‹</span>
<span class="hljs-keyword">import</span> { renderToNodeStream } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue/server-renderer'</span>

app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'*'</span>, <span class="hljs-keyword">async</span> (req, res) =&gt; {
  <span class="hljs-keyword">const</span> { app, router } = <span class="hljs-title function_">createApp</span>()
  
  router.<span class="hljs-title function_">push</span>(req.<span class="hljs-property">url</span>)
  <span class="hljs-keyword">await</span> router.<span class="hljs-title function_">isReady</span>()
  
  res.<span class="hljs-title function_">write</span>(<span class="hljs-string">`
    &lt;!DOCTYPE html&gt;
    &lt;html&gt;
      &lt;head&gt;&lt;title&gt;Vue3 SSR&lt;/title&gt;&lt;/head&gt;
      &lt;body&gt;&lt;div id="app"&gt;
  `</span>)
  
  <span class="hljs-keyword">const</span> stream = <span class="hljs-title function_">renderToNodeStream</span>(app)
  stream.<span class="hljs-title function_">pipe</span>(res, { <span class="hljs-attr">end</span>: <span class="hljs-literal">false</span> })
  
  stream.<span class="hljs-title function_">on</span>(<span class="hljs-string">'end'</span>, <span class="hljs-function">() =&gt;</span> {
    res.<span class="hljs-title function_">write</span>(<span class="hljs-string">`&lt;/div&gt;&lt;script src="/client.js"&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;`</span>)
    res.<span class="hljs-title function_">end</span>()
  })
})
</code></pre>
<h3 data-id="heading-29"><strong>6.3 é”™è¯¯å¤„ç†</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é”™è¯¯è¾¹ç•Œç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">ErrorBoundary</span> = {
  <span class="hljs-title function_">setup</span>(<span class="hljs-params">props, { slots }</span>) {
    <span class="hljs-keyword">const</span> error = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">null</span>)
    
    <span class="hljs-title function_">onErrorCaptured</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
      error.<span class="hljs-property">value</span> = err
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span> <span class="hljs-comment">// é˜»æ­¢é”™è¯¯ç»§ç»­ä¼ æ’­</span>
    })
    
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> error.<span class="hljs-property">value</span> 
      ? <span class="hljs-title function_">h</span>(<span class="hljs-string">'div'</span>, { <span class="hljs-attr">class</span>: <span class="hljs-string">'error'</span> }, <span class="hljs-string">'ç»„ä»¶æ¸²æŸ“é”™è¯¯'</span>)
      : slots.<span class="hljs-property">default</span>?.()
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-30"><strong>ä¸ƒã€ Nuxt.js 3 - æ›´ç®€å•çš„ SSR æ–¹æ¡ˆ</strong></h2>
<p>å¯¹äºå¤§å¤šæ•°é¡¹ç›®ï¼Œæ¨èä½¿ç”¨ Nuxt.js 3ï¼Œå®ƒåŸºäº Vue3 æä¾›äº†å¼€ç®±å³ç”¨çš„ SSR æ”¯æŒã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// nuxt.config.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineNuxtConfig</span>({
  <span class="hljs-attr">ssr</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">modules</span>: [<span class="hljs-string">'@pinia/nuxt'</span>],
  <span class="hljs-attr">runtimeConfig</span>: {
    <span class="hljs-attr">public</span>: {
      <span class="hljs-attr">apiBase</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">API_BASE</span> || <span class="hljs-string">'/api'</span>
    }
  }
})
</code></pre>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- pages/index.vue --&gt;
&lt;template&gt;
  &lt;div&gt;
    &lt;h1&gt;Nuxt 3 SSR&lt;/h1&gt;
    &lt;div&gt;{{ data }}&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
// è‡ªåŠ¨å¤„ç† SSR æ•°æ®è·å–
const { data } = await useFetch('/api/posts')
&lt;/script&gt;
</code></pre>
<hr/>
<h2 data-id="heading-31"><strong>å…«ã€ æ€»ç»“</strong></h2>
<h3 data-id="heading-32"><strong>8.1 Vue3 SSR æ ¸å¿ƒä¼˜åŠ¿</strong></h3>
<ol>
<li><strong>æ›´å¥½çš„æ€§èƒ½</strong>ï¼šé¦–å±åŠ è½½é€Ÿåº¦å¿«ï¼Œå‡å°‘ç™½å±æ—¶é—´</li>
<li><strong>SEO å‹å¥½</strong>ï¼šæœç´¢å¼•æ“å¯ä»¥ç›´æ¥ç´¢å¼•å†…å®¹</li>
<li><strong>åŒæ„å¼€å‘</strong>ï¼šä¸€å¥—ä»£ç ï¼Œä¸¤ç«¯è¿è¡Œ</li>
<li><strong>ç°ä»£åŒ– API</strong>ï¼šæ›´å¥½çš„ TypeScript æ”¯æŒå’Œç»„åˆå¼ API é›†æˆ</li>
</ol>
<h3 data-id="heading-33"><strong>8.2 é€‚ç”¨åœºæ™¯</strong></h3>
<ul>
<li><strong>å†…å®¹å‹ç½‘ç«™</strong>ï¼šåšå®¢ã€æ–°é—»ã€ç”µå•†ç­‰éœ€è¦ SEO çš„åœºæ™¯</li>
<li><strong>ä¼ä¸šå®˜ç½‘</strong>ï¼šéœ€è¦å¿«é€Ÿé¦–å±åŠ è½½å’Œè‰¯å¥½ SEO</li>
<li><strong>ç¤¾äº¤åº”ç”¨</strong>ï¼šéœ€è¦ç¤¾äº¤åª’ä½“åˆ†äº«é¢„è§ˆ</li>
<li><strong>éœ€è¦æ€§èƒ½ä¼˜åŒ–çš„ SPA</strong></li>
</ul>
<h3 data-id="heading-34"><strong>8.3 æ³¨æ„äº‹é¡¹</strong></h3>
<ol>
<li><strong>æœåŠ¡å™¨è´Ÿè½½</strong>ï¼šSSR ä¼šå¢åŠ æœåŠ¡å™¨ CPU å’Œå†…å­˜æ¶ˆè€—</li>
<li><strong>å¼€å‘å¤æ‚åº¦</strong>ï¼šéœ€è¦å¤„ç†ç¯å¢ƒå·®å¼‚å’ŒçŠ¶æ€åŒæ­¥</li>
<li><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼šéœ€è¦åˆç†è®¾è®¡ç¼“å­˜æœºåˆ¶</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šéœ€è¦å®Œå–„çš„é”™è¯¯è¾¹ç•Œå’Œé™çº§æ–¹æ¡ˆ</li>
</ol>
<p>Vue3 çš„æœåŠ¡ç«¯æ¸²æŸ“ä¸ºç°ä»£ Web åº”ç”¨æä¾›äº†å¼ºå¤§çš„èƒ½åŠ›ï¼Œåˆç†ä½¿ç”¨å¯ä»¥æ˜¾è‘—æå‡ç”¨æˆ·ä½“éªŒå’Œåº”ç”¨æ€§èƒ½ã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©ä½ å…¨é¢æŒæ¡ Vue3 SSR çš„æ ¸å¿ƒæ¦‚å¿µå’Œå®è·µæŠ€å·§ï¼</p>
<hr/>
<p><strong>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç‚¹èµã€æ”¶è—å’Œè¯„è®ºï¼æœ‰ä»»ä½•é—®é¢˜éƒ½å¯ä»¥åœ¨è¯„è®ºåŒºè®¨è®ºã€‚</strong><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ceae4d4f819b4c0bb5c270dc445f9203~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YyX6L6wYWxr:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766306661&amp;x-signature=BMMz0XAX%2BZPEI9hWFH9qfwsWifk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LLMåŸºç¡€çŸ¥è¯†ï¼ŒlangchainV1.0è®²è§£ï¼ˆä¸€ï¼‰]]></title>    <link>https://juejin.cn/post/7583324039302905907</link>    <guid>https://juejin.cn/post/7583324039302905907</guid>    <pubDate>2025-12-14T08:26:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583324039302905907" data-draft-id="7582809606067650586" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LLMåŸºç¡€çŸ¥è¯†ï¼ŒlangchainV1.0è®²è§£ï¼ˆä¸€ï¼‰"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LangChain"/> <meta itemprop="datePublished" content="2025-12-14T08:26:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŠ è½½ä¸­361"/> <meta itemprop="url" content="https://juejin.cn/user/1273682599894282"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LLMåŸºç¡€çŸ¥è¯†ï¼ŒlangchainV1.0è®²è§£ï¼ˆä¸€ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1273682599894282/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŠ è½½ä¸­361
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T08:26:11.000Z" title="Sun Dec 14 2025 08:26:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">NLPæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>NLPï¼šè‡ªç„¶è¯­è¨€å¤„ç†</p>
<p>å®ƒçš„ä½œç”¨å°±æ˜¯è®©è®¡ç®—æœºâ€œç†è§£ã€å¤„ç†å’Œç”Ÿæˆäººç±»è¯­è¨€â€ã€‚</p>
<h2 data-id="heading-1">NLPå‘å±•å²</h2>
<h2 data-id="heading-2">1. åŸºäºè§„åˆ™</h2>
<pre><code class="hljs">è¿™ä¸ªé˜¶æ®µçš„NLPä¸»è¦ç”¨äºæŠŠè‡ªç„¶è¯­è¨€ä¸­çš„ä¿¡æ¯ï¼Œæå–æˆç¨‹åºèƒ½ç›´æ¥ç”¨çš„å­—æ®µã€‚
</code></pre>
<h3 data-id="heading-3">æ¯”å¦‚</h3>
<ul>
<li>æŠ½å–æ—¶é—´ã€æ—¥æœŸ</li>
<li>æŠ½å–é‡‘é¢ã€æ•°é‡</li>
<li>æŠ½å–ç¼–å·ã€æ‰‹æœºå·ã€èº«ä»½è¯å·</li>
</ul>
<p>ç”¨æˆ·è¾“å…¥äº†ä¸€æ®µæ–‡æœ¬ï¼šâ€œè®¢å•å°†äº2025å¹´5æœˆ1æ—¥å‘è´§ï¼Œé‡‘é¢199å…ƒâ€ï¼Œå‘ç°åŒ…å«æ—¶é—´å’Œé‡‘é¢å°±</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"date"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2025-05-01"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"price"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">199</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ç³»ç»Ÿé€šè¿‡è§„åˆ™å‘ç°æ–‡æœ¬ä¸­åŒ…å«<strong>æ—¶é—´å’Œé‡‘é¢</strong>ï¼Œäºæ˜¯è§£ææˆç»“æ„åŒ–æ•°æ®ã€‚
åç»­ä¸šåŠ¡ç¨‹åºåªéœ€è¦å¤„ç†è¿™æ®µ JSONï¼Œè€Œ<strong>ä¸å†å…³å¿ƒåŸå§‹æ–‡æœ¬çš„è‡ªç„¶è¯­è¨€å½¢å¼</strong>ã€‚</p>
<p>å¯ä»¥çœ‹å‡ºï¼Œåœ¨è¿™ä¸ªé˜¶æ®µçš„ NLP ä¸­ï¼š</p>
<ul>
<li>ç³»ç»Ÿ<strong>ä¸ä¼šç†è§£ç”¨æˆ·çš„çœŸå®æ„å›¾</strong></li>
<li>ä¸ä¼šç»“åˆä¸Šä¸‹æ–‡è¿›è¡Œæ¨æ–­</li>
<li>ä¸ä¼šè¡¥å…¨éšå«ä¿¡æ¯</li>
<li>ä¹Ÿä¸ä¼šâ€œçŒœæµ‹â€ç”¨æˆ·æƒ³è¡¨è¾¾ä»€ä¹ˆ</li>
</ul>
<p>å®ƒåªåšä¸€ä»¶äº‹ï¼š</p>
<blockquote>
<p><strong>åˆ¤æ–­æ–‡æœ¬æ˜¯å¦å‘½ä¸­æ—¢å®šè§„åˆ™ï¼Œå¹¶åœ¨å‘½ä¸­æ—¶è¾“å‡ºç¡®å®šçš„ç»“æ„åŒ–ç»“æœ</strong></p>
</blockquote>
<hr/>
<p>å› æ­¤ï¼Œ<strong>åŸºäºè§„åˆ™çš„ NLP å¹¶ä¸å…·å¤‡ä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›</strong>ï¼Œ<br/>
å®ƒæ›´åƒæ˜¯ä¸€ä¸ª <strong>â€œè¯­è¨€æ ¼å¼è§£æå™¨â€</strong> ï¼Œè€Œä¸æ˜¯â€œè¯­è¨€ç†è§£ç³»ç»Ÿâ€ã€‚</p>
<h2 data-id="heading-4">2. åŸºäºç»Ÿè®¡</h2>
<p><strong>æ ¸å¿ƒæ€æƒ³</strong></p>
<blockquote>
<p><strong>ä¸å†å®Œå…¨ä¾èµ–äººå·¥è§„åˆ™ï¼Œè€Œæ˜¯é€šè¿‡ç»Ÿè®¡å¤§é‡æ–‡æœ¬ä¸­è¯è¯­çš„å‡ºç°é¢‘ç‡å’Œç»„åˆè§„å¾‹ï¼Œæ¥æ¨æ–­è¯­è¨€æ¨¡å¼ã€‚</strong>
åŸºäºç»Ÿè®¡çš„</p>
</blockquote>
<p>æ¯”å¦‚æœ€ç®€å•çš„N_Gramæ¨¡å‹</p>
<h4 data-id="heading-5">ä»€ä¹ˆæ˜¯ N-Gramï¼Ÿ</h4>
<blockquote>
<p><strong>N-Gram å‡è®¾ï¼š<br/>
å½“å‰è¯çš„å‡ºç°ï¼Œåªä¸å‰é¢ N-1 ä¸ªè¯æœ‰å…³ã€‚</strong></p>
</blockquote>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>1-Gramï¼šåªçœ‹å½“å‰è¯æœ¬èº«</li>
<li>2-Gramï¼ˆBigramï¼‰ï¼šçœ‹å‰ 1 ä¸ªè¯</li>
<li>3-Gramï¼ˆTrigramï¼‰ï¼šçœ‹å‰ 2 ä¸ªè¯</li>
</ul>
<p>æˆ‘ä»¬ä»¥2-Gramä¸ºåˆ—ï¼šä¼šçœ‹å‰é¢çš„ä¸€ä¸ªè¯ã€‚</p>
<p>æˆ‘ä»¬å°†ä»¥ä¸‹å†…å®¹è®­ç»ƒç»™æ¨¡å‹ï¼š</p>
<pre><code class="hljs">â€œæˆ‘ çˆ± åƒ è‹¹æœâ€
â€œæˆ‘ çˆ± åƒ é¦™è•‰â€
â€œæˆ‘ å–œæ¬¢ åƒ è‹¹æœâ€
</code></pre>
<p>Bigram æ¨¡å‹ä¼š<strong>æ ¹æ®ä¸€ä¸ªè¯ç»Ÿè®¡ä¸‹ä¸€ä¸ªè¯å‡ºç°çš„æ¦‚ç‡</strong>ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥æ•°ä¸€æ•°æ‰€æœ‰è¯å¯¹ï¼š</p>








































<table><thead><tr><th>å‰ä¸€ä¸ªè¯</th><th>ä¸‹ä¸€ä¸ªè¯</th><th>æ¬¡æ•°</th></tr></thead><tbody><tr><td>æˆ‘</td><td>çˆ±</td><td>2 æ¬¡</td></tr><tr><td>æˆ‘</td><td>å–œæ¬¢</td><td>1 æ¬¡</td></tr><tr><td>çˆ±</td><td>åƒ</td><td>2 æ¬¡</td></tr><tr><td>å–œæ¬¢</td><td>åƒ</td><td>1 æ¬¡</td></tr><tr><td>åƒ</td><td>è‹¹æœ</td><td>2 æ¬¡</td></tr><tr><td>åƒ</td><td>é¦™è•‰</td><td>1 æ¬¡</td></tr></tbody></table>
<p>æ ¹æ®è¿™ä¸ªè¯çš„ç»„åˆï¼Œå°±å¯ä»¥å»é¢„æµ‹ä¸€ä¸ªè¯çš„ä¸‹ä¸€ä¸ªè¯ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><strong>æˆ‘</strong>åé¢å‡ºç°â€œçˆ±â€çš„æ¦‚ç‡æ˜¯ 2/3ï¼Œå‡ºç°â€œå–œæ¬¢â€çš„æ¦‚ç‡æ˜¯ 1/3ã€‚</li>
<li><strong>åƒ</strong>åé¢å‡ºç°â€œè‹¹æœâ€çš„æ¦‚ç‡æ˜¯ 2/3ï¼Œå‡ºç°â€œé¦™è•‰â€çš„æ¦‚ç‡æ˜¯ 1/3ã€‚</li>
</ul>
<p>æ‰€ä»¥ï¼š</p>
<p>å¦‚æœä½ çœ‹åˆ°â€œ<strong>æˆ‘ çˆ± åƒ</strong>â€ï¼Œé‚£ä¸‹ä¸€ä¸ªè¯å¤§æ¦‚ç‡æ˜¯â€œè‹¹æœâ€ï¼</p>
<p>è¿™é‡Œæœ‰äººè¦é—®äº†ï¼šä¸ºä»€ä¹ˆæœ‰çš„è¯å¯¹æ˜¯ä¸€ä¸ªå­—ï¼Œæœ‰çš„è¯å¯¹æ˜¯ä¸¤ä¸ªå­—ï¼Œè¿™å°±æ¶‰åŠåˆ°tokençš„æ¦‚å¿µäº†ã€‚</p>
<h3 data-id="heading-6">å¸¸è¯´çš„tokenæ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p><strong>Token æ˜¯æ¨¡å‹å¤„ç†æ–‡æœ¬çš„æœ€å°â€œè®¡ç®—å•ä½â€</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.openai.com%2Ftokenizer%25EF%25BC%258C%25E6%2588%2591%25E5%258F%25AF%25E4%25BB%25A5%25E9%2580%259A%25E8%25BF%2587%25E8%25BF%2599%25E4%25B8%25AAopenai%25E7%259A%2584%25E5%25AE%2598%25E7%25BD%2591%25E5%2588%2586%25E8%25AF%258D%25E5%2599%25A8%25E5%258E%25BB%25E7%259C%258B%25EF%25BC%258C%25E4%25B8%2580%25E5%258F%25A5%25E8%25AF%259D%25E4%25BC%259A%25E8%25A2%25AB%25E6%2580%258E%25E6%25A0%25B7%25E5%2588%2586%25E5%2589%25B2%25E3%2580%2582" target="_blank" title="https://platform.openai.com/tokenizer%EF%BC%8C%E6%88%91%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E8%BF%99%E4%B8%AAopenai%E7%9A%84%E5%AE%98%E7%BD%91%E5%88%86%E8%AF%8D%E5%99%A8%E5%8E%BB%E7%9C%8B%EF%BC%8C%E4%B8%80%E5%8F%A5%E8%AF%9D%E4%BC%9A%E8%A2%AB%E6%80%8E%E6%A0%B7%E5%88%86%E5%89%B2%E3%80%82" ref="nofollow noopener noreferrer">platform.openai.com/tokenizerï¼Œæˆ‘â€¦</a></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a401e1d440fe4c318afad3a018ebf7a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yqg6L295LitMzYx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766305571&amp;x-signature=gwYL6YnI4JmBk5YN7z48QyjTG%2FI%3D" alt="Clipboard_Screenshot_1765681910.png" loading="lazy"/></p>
<p>æ¯ä¸ªé¢œè‰²éƒ½ä»£è¡¨ä¸€ä¸ªtokenã€‚å¯ä»¥çœ‹åˆ°â€œæˆ‘çˆ±åƒè‹¹æœâ€è¿™å¥è¯ï¼Œè½¬æ¢æˆLLå¤„ç†çš„æœ€å°å•ä½å°±æ˜¯</p>
<p>â€œæˆ‘â€ â€œçˆ±â€ â€œåƒâ€ â€œè‹¹æœâ€</p>
<p>é‚£è‡ªç„¶ï¼Œåœ¨ç»Ÿè®¡æ¦‚ç‡çš„æ—¶å€™ï¼Œä¹Ÿè¦æŒ‰ç…§è¿™ä¸ªè¯å¯¹è¿›è¡Œç»Ÿè®¡ï¼Œå› ä¸ºæ¨¡å‹å¤„ç†çš„æ°¸è¿œéƒ½æ˜¯tokenï¼Œè¾“å‡ºçš„æ—¶å€™ä¹Ÿæ˜¯æŒ‰ç…§tokenè¿›è¡Œçš„è¾“å‡ºã€‚</p>
<h2 data-id="heading-7">3. æ·±åº¦å­¦ä¹ å’Œå¤§æ•°æ®é©±åŠ¨</h2>
<p>éšç€äº’è”ç½‘çš„å‘å±•ï¼Œæ–‡æœ¬æ•°æ®è§„æ¨¡å‘ˆæŒ‡æ•°çº§å¢é•¿ï¼ŒåŒæ—¶è®¡ç®—èƒ½åŠ›ï¼ˆå°¤å…¶æ˜¯ GPUï¼‰çš„æå‡ï¼Œä½¿å¾— <strong>æ·±åº¦å­¦ä¹ æ–¹æ³•å¼€å§‹è¢«å¼•å…¥ NLP é¢†åŸŸ</strong>ã€‚</p>
<p>è¿™ä¸€é˜¶æ®µçš„æ ¸å¿ƒå˜åŒ–æ˜¯ï¼š</p>
<blockquote>
<p><strong>ä¸å†äººä¸ºè®¾è®¡è§„åˆ™æˆ–ç»Ÿè®¡ç‰¹å¾ï¼Œè€Œæ˜¯è®©æ¨¡å‹è‡ªåŠ¨å­¦ä¹ è¯­è¨€çš„è¡¨ç¤ºå’Œè§„å¾‹ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-8">æ ¸å¿ƒæ€æƒ³</h3>
<p>åœ¨æ·±åº¦å­¦ä¹ é©±åŠ¨çš„ NLP ä¸­ï¼Œç³»ç»Ÿä¸å†åªå…³å¿ƒï¼š</p>
<ul>
<li>â€œè¿™ä¸ªè¯å‡ºç°è¿‡å¤šå°‘æ¬¡â€</li>
<li>â€œä¸‹ä¸€ä¸ªè¯çš„æ¦‚ç‡æ˜¯å¤šå°‘â€</li>
</ul>
<p>è€Œæ˜¯å¼€å§‹å­¦ä¹ ï¼š</p>
<blockquote>
<p><strong>è¯ä¸è¯ä¹‹é—´çš„è¯­ä¹‰å…³ç³»ï¼Œä»¥åŠå®ƒä»¬åœ¨ä¸Šä¸‹æ–‡ä¸­çš„å«ä¹‰ã€‚</strong>ï¼ˆè¿™ä¸ªå°±æ˜¯å‘é‡ç›¸ä¼¼ï¼‰</p>
</blockquote>
<hr/>
<h3 data-id="heading-9">å…³é”®æŠ€æœ¯æ¼”è¿›</h3>
<h4 data-id="heading-10">1ï¸âƒ£ è¯å‘é‡ï¼ˆWord Embeddingï¼‰</h4>
<p>é€šè¿‡ç¥ç»ç½‘ç»œï¼Œå°†è¯æ˜ å°„åˆ°è¿ç»­å‘é‡ç©ºé—´ä¸­ï¼š</p>
<pre><code class="hljs">â€œæ‰‹æœºâ€ â‰ˆ â€œç”µè„‘â€
â€œåŒ—äº¬â€ â‰ˆ â€œä¸Šæµ·â€
</code></pre>
<p>ç›¸ä¼¼è¯­ä¹‰çš„è¯ï¼Œåœ¨å‘é‡ç©ºé—´ä¸­è·ç¦»æ›´è¿‘ã€‚</p>
<p>è¿™ä½¿å¾—æ¨¡å‹ç¬¬ä¸€æ¬¡å…·å¤‡äº† <strong>â€œè¯­ä¹‰ç›¸ä¼¼æ€§â€çš„æ¦‚å¿µ</strong>ã€‚</p>
<hr/>
<h4 data-id="heading-11">2ï¸âƒ£ Transformer æ¨¡å‹</h4>
<p>Transformer çš„æå‡ºï¼Œå½»åº•æ”¹å˜äº† NLP çš„å‘å±•æ–¹å‘ã€‚</p>
<p>å®ƒé€šè¿‡ <strong>è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆSelf-Attentionï¼‰</strong> ï¼š</p>
<ul>
<li>åŒæ—¶å…³æ³¨å¥å­ä¸­çš„æ‰€æœ‰è¯</li>
<li>æ•æ‰é•¿è·ç¦»ä¾èµ–</li>
<li>å¤§å¹…æå‡å¹¶è¡Œè®¡ç®—èƒ½åŠ›</li>
</ul>
<p>è¿™ä¸ºå¤§è§„æ¨¡é¢„è®­ç»ƒæ¨¡å‹å¥ å®šäº†åŸºç¡€ã€‚</p>
<hr/>
<h3 data-id="heading-12">é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ä¸å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰</h3>
<p>åœ¨ Transformer æ¶æ„åŸºç¡€ä¸Šï¼Œäººä»¬æå‡ºäº†ï¼š</p>
<ul>
<li>é¢„è®­ç»ƒ + å¾®è°ƒï¼ˆPretrain + Finetuneï¼‰</li>
<li>è¶…å¤§è§„æ¨¡è¯­æ–™è®­ç»ƒ</li>
</ul>
<p>æ¨¡å‹é€šè¿‡ä¸€ä¸ªæ ¸å¿ƒä»»åŠ¡è¿›è¡Œå­¦ä¹ ï¼š</p>
<blockquote>
<p><strong>æ ¹æ®ä¸Šä¸‹æ–‡ï¼Œé¢„æµ‹ä¸‹ä¸€ä¸ªè¯ï¼ˆTokenï¼‰</strong></p>
</blockquote>
<p>ä½†ç”±äºæ¨¡å‹è§„æ¨¡ã€æ•°æ®è§„æ¨¡å’Œè®­ç»ƒæ–¹å¼çš„è·ƒè¿ï¼Œ<br/>
è¿™ç§â€œé¢„æµ‹â€é€æ¸è¡¨ç°å‡ºï¼š</p>
<ul>
<li>è¯­ä¹‰ç†è§£</li>
<li>æ¨ç†èƒ½åŠ›</li>
<li>ç”Ÿæˆèƒ½åŠ›</li>
</ul>
<p>æœ€ç»ˆå½¢æˆäº†ä»Šå¤©çš„å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ã€‚</p>
<hr/>
<p>åœ¨è¿™ä¸€é˜¶æ®µï¼š</p>
<ul>
<li>æ¨¡å‹ä¸å†ä¾èµ–äººå·¥è§„åˆ™</li>
<li>ä¸å†ä¾èµ–äººå·¥ç‰¹å¾</li>
<li>å¯ä»¥åœ¨ä¸Šä¸‹æ–‡ä¸­ç»¼åˆç†è§£è¯­è¨€</li>
</ul>
<hr/>
<h3 data-id="heading-13">æ€»ç»“</h3>
<p>å¯ä»¥çœ‹å‡ºï¼Œç›®å‰çš„å¤§è¯­è¨€æ¨¡å‹åœ¨æ•°å­¦æœ¬è´¨ä¸Šä»ç„¶æ˜¯æ¦‚ç‡æ¨¡å‹ï¼Œå…¶æ¨ç†ä¸ç”Ÿæˆèƒ½åŠ›æ¥æºäºç»Ÿè®¡å­¦ä¹ ä¸è§„æ¨¡æ•ˆåº”ï¼Œè€Œéäººç±»æ„ä¹‰ä¸Šçš„ä¸»è§‚æ€è€ƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaè®°å½•ç±»ï¼ˆRecordsï¼‰ä¸æ•°æ®å»ºæ¨¡é©å‘½ï¼šä»POJOåˆ°ä¸å¯å˜æ•°æ®çš„èŒƒå¼è½¬å˜]]></title>    <link>https://juejin.cn/post/7582997593090342931</link>    <guid>https://juejin.cn/post/7582997593090342931</guid>    <pubDate>2025-12-14T08:43:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582997593090342931" data-draft-id="7583215836690104361" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaè®°å½•ç±»ï¼ˆRecordsï¼‰ä¸æ•°æ®å»ºæ¨¡é©å‘½ï¼šä»POJOåˆ°ä¸å¯å˜æ•°æ®çš„èŒƒå¼è½¬å˜"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-14T08:43:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„"/> <meta itemprop="url" content="https://juejin.cn/user/3097787706900985"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaè®°å½•ç±»ï¼ˆRecordsï¼‰ä¸æ•°æ®å»ºæ¨¡é©å‘½ï¼šä»POJOåˆ°ä¸å¯å˜æ•°æ®çš„èŒƒå¼è½¬å˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3097787706900985/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒè¥¿çº¢æŸ¿é•¿å¤§çš„ç•ªèŒ„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T08:43:18.000Z" title="Sun Dec 14 2025 08:43:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å¼•è¨€ï¼šJavaæ•°æ®ç±»çš„æ¼”è¿›å›°å¢ƒ</h2>
<p>åœ¨Javaæ¼«é•¿çš„å‘å±•å†ç¨‹ä¸­ï¼Œå»ºæ¨¡ç®€å•æ•°æ®è½½ä½“ä¸€ç›´æ˜¯ç¹çä¸”å®¹æ˜“å‡ºé”™çš„ã€‚ä¼ ç»Ÿçš„POJOï¼ˆPlain Old Java Objectï¼‰éœ€è¦å¤§é‡æ ·æ¿ä»£ç ï¼šæ„é€ å‡½æ•°ã€è®¿é—®å™¨ã€equals()ã€hashCode()å’ŒtoString()æ–¹æ³•ã€‚Java 14å¼•å…¥çš„è®°å½•ç±»ï¼ˆRecordsï¼‰ç‰¹æ€§ï¼Œæ ‡å¿—ç€Javaåœ¨æ•°æ®å»ºæ¨¡é¢†åŸŸçš„é‡å¤§çªç ´ï¼Œæä¾›äº†ä¸€ç§ç®€æ´ã€å®‰å…¨ä¸”è¡¨è¾¾åŠ›å¼ºçš„ä¸å¯å˜æ•°æ®è½½ä½“å®ç°æ–¹å¼ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€è®°å½•ç±»ï¼šè¯­æ³•é©å‘½ä¸æœ¬è´¨ç‰¹å¾</h2>
<h3 data-id="heading-2">1.1 ä»ä¼ ç»ŸPOJOåˆ°è®°å½•ç±»çš„æ¼”è¿›</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ ç»ŸPOJOå®ç° - ç¹çä¸”é‡å¤</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TraditionalPerson</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> age;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String email;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TraditionalPerson</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age, String email)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
        <span class="hljs-built_in">this</span>.email = email;
    }
    
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> name; }
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> age; }
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getEmail</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> email; }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">equals</span><span class="hljs-params">(Object o)</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span> == o) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">if</span> (o == <span class="hljs-literal">null</span> || getClass() != o.getClass()) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        <span class="hljs-type">TraditionalPerson</span> <span class="hljs-variable">that</span> <span class="hljs-operator">=</span> (TraditionalPerson) o;
        <span class="hljs-keyword">return</span> age == that.age &amp;&amp; 
               Objects.equals(name, that.name) &amp;&amp; 
               Objects.equals(email, that.email);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">hashCode</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> Objects.hash(name, age, email);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"TraditionalPerson{name='"</span> + name + <span class="hljs-string">"', age="</span> + age + 
               <span class="hljs-string">", email='"</span> + email + <span class="hljs-string">"'}"</span>;
    }
}

<span class="hljs-comment">// è®°å½•ç±»å®ç° - ç®€æ´æ˜äº†</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age, String email)</span> {
    <span class="hljs-comment">// ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆï¼š</span>
    <span class="hljs-comment">// 1. ç§æœ‰finalå­—æ®µ</span>
    <span class="hljs-comment">// 2. è§„èŒƒæ„é€ å‡½æ•°</span>
    <span class="hljs-comment">// 3. è®¿é—®å™¨æ–¹æ³• (name(), age(), email())</span>
    <span class="hljs-comment">// 4. equals(), hashCode(), toString()</span>
}
</code></pre>
<h3 data-id="heading-3">1.2 è®°å½•ç±»çš„æ·±å±‚è¯­ä¹‰ç‰¹æ€§</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è®°å½•ç±»çš„æœ¬è´¨æ˜¯ä¸å¯å˜æ•°æ®è½½ä½“</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">ImmutablePoint</span><span class="hljs-params">(<span class="hljs-type">double</span> x, <span class="hljs-type">double</span> y)</span> {
    <span class="hljs-comment">// è®°å½•ç±»éšå¼å®šä¹‰ä¸ºfinalï¼Œä¸èƒ½ç»§æ‰¿</span>
    <span class="hljs-comment">// å­—æ®µéšå¼ä¸ºprivate final</span>
}

<span class="hljs-comment">// è®°å½•ç±»å¯ä»¥å£°æ˜é™æ€å­—æ®µå’Œæ–¹æ³•</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Employee</span><span class="hljs-params">(String id, String name, Department dept)</span> {
    <span class="hljs-comment">// é™æ€å­—æ®µ</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DEFAULT_ID</span> <span class="hljs-operator">=</span> <span class="hljs-string">"EMP_001"</span>;
    
    <span class="hljs-comment">// é™æ€å·¥å‚æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Employee <span class="hljs-title function_">createDefault</span><span class="hljs-params">(String name, Department dept)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Employee</span>(DEFAULT_ID, name, dept);
    }
    
    <span class="hljs-comment">// é™æ€å·¥å…·æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isValidId</span><span class="hljs-params">(String id)</span> {
        <span class="hljs-keyword">return</span> id != <span class="hljs-literal">null</span> &amp;&amp; id.startsWith(<span class="hljs-string">"EMP_"</span>);
    }
}

<span class="hljs-comment">// è®°å½•ç±»å¯ä»¥å®ç°æ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Identifiable</span> {
    String <span class="hljs-title function_">getId</span><span class="hljs-params">()</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Product</span><span class="hljs-params">(String id, String name, BigDecimal price)</span> 
    <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Identifiable</span> {
    <span class="hljs-comment">// getId() è‡ªåŠ¨é€šè¿‡ id() è®¿é—®å™¨å®ç°</span>
}
</code></pre>
<h2 data-id="heading-4">äºŒã€è®°å½•ç±»çš„è¿›é˜¶ç‰¹æ€§ä¸æ¨¡å¼</h2>
<h3 data-id="heading-5">2.1 ç´§å‡‘æ„é€ å‡½æ•°ä¸éªŒè¯é€»è¾‘</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½¿ç”¨ç´§å‡‘æ„é€ å‡½æ•°è¿›è¡ŒéªŒè¯å’Œè§„èŒƒåŒ–</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">EmailAddress</span><span class="hljs-params">(String localPart, String domain)</span> {
    <span class="hljs-comment">// ç´§å‡‘æ„é€ å‡½æ•° - æ²¡æœ‰å‚æ•°åˆ—è¡¨ï¼Œç›´æ¥è®¿é—®ç»„ä»¶</span>
    <span class="hljs-keyword">public</span> EmailAddress {
        <span class="hljs-comment">// å‚æ•°éªŒè¯</span>
        <span class="hljs-keyword">if</span> (localPart == <span class="hljs-literal">null</span> || localPart.isBlank()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"æœ¬åœ°éƒ¨åˆ†ä¸èƒ½ä¸ºç©º"</span>);
        }
        <span class="hljs-keyword">if</span> (domain == <span class="hljs-literal">null</span> || domain.isBlank()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"åŸŸåä¸èƒ½ä¸ºç©º"</span>);
        }
        <span class="hljs-keyword">if</span> (!domain.contains(<span class="hljs-string">"."</span>)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"æ— æ•ˆçš„åŸŸåæ ¼å¼"</span>);
        }
        
        <span class="hljs-comment">// è§„èŒƒåŒ–ï¼ˆå°å†™è½¬æ¢ï¼‰</span>
        localPart = localPart.toLowerCase();
        domain = domain.toLowerCase();
    }
    
    <span class="hljs-comment">// æ·»åŠ ä¾¿æ·æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">fullAddress</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> localPart + <span class="hljs-string">"@"</span> + domain;
    }
    
    <span class="hljs-comment">// å·¥å‚æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> EmailAddress <span class="hljs-title function_">parse</span><span class="hljs-params">(String email)</span> {
        String[] parts = email.split(<span class="hljs-string">"@"</span>);
        <span class="hljs-keyword">if</span> (parts.length != <span class="hljs-number">2</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"æ— æ•ˆçš„é‚®ç®±æ ¼å¼"</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">EmailAddress</span>(parts[<span class="hljs-number">0</span>], parts[<span class="hljs-number">1</span>]);
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EmailExample</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">EmailAddress</span> <span class="hljs-variable">email</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">EmailAddress</span>(<span class="hljs-string">"John.Doe"</span>, <span class="hljs-string">"example.com"</span>);
        System.out.println(email.fullAddress()); <span class="hljs-comment">// john.doe@example.com</span>
        
        <span class="hljs-type">EmailAddress</span> <span class="hljs-variable">parsed</span> <span class="hljs-operator">=</span> EmailAddress.parse(<span class="hljs-string">"jane@example.org"</span>);
        System.out.println(parsed); <span class="hljs-comment">// EmailAddress[localPart=jane, domain=example.org]</span>
    }
}
</code></pre>
<h3 data-id="heading-6">2.2 è®°å½•ç±»ä¸æ¨¡å¼åŒ¹é…çš„ååŒ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è®°å½•ç±»ä¸instanceofæ¨¡å¼åŒ¹é…å®Œç¾ç»“åˆ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PatternMatchingDemo</span> {
    
    <span class="hljs-comment">// å®šä¹‰è®°å½•ç±»å±‚æ¬¡ç»“æ„</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">sealed</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Shape</span> <span class="hljs-keyword">permits</span> Circle, Rectangle, Triangle {
        <span class="hljs-type">double</span> <span class="hljs-title function_">area</span><span class="hljs-params">()</span>;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Circle</span><span class="hljs-params">(<span class="hljs-type">double</span> radius)</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Shape</span> {
        <span class="hljs-meta">@Override</span> <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">area</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> Math.PI * radius * radius; }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Rectangle</span><span class="hljs-params">(<span class="hljs-type">double</span> width, <span class="hljs-type">double</span> height)</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Shape</span> {
        <span class="hljs-meta">@Override</span> <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">area</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> width * height; }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Triangle</span><span class="hljs-params">(<span class="hljs-type">double</span> base, <span class="hljs-type">double</span> height)</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Shape</span> {
        <span class="hljs-meta">@Override</span> <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">area</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> <span class="hljs-number">0.5</span> * base * height; }
    }
    
    <span class="hljs-comment">// ä½¿ç”¨æ¨¡å¼åŒ¹é…å¤„ç†è®°å½•ç±»</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">describeShape</span><span class="hljs-params">(Shape shape)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">switch</span> (shape) {
            <span class="hljs-keyword">case</span> Circle c -&gt; 
                String.format(<span class="hljs-string">"åœ†å½¢: åŠå¾„=%.2f, é¢ç§¯=%.2f"</span>, c.radius(), c.area());
            <span class="hljs-keyword">case</span> Rectangle r -&gt; 
                String.format(<span class="hljs-string">"çŸ©å½¢: å®½=%.2f, é«˜=%.2f, é¢ç§¯=%.2f"</span>, 
                    r.width(), r.height(), r.area());
            <span class="hljs-keyword">case</span> Triangle t -&gt; 
                String.format(<span class="hljs-string">"ä¸‰è§’å½¢: åº•=%.2f, é«˜=%.2f, é¢ç§¯=%.2f"</span>, 
                    t.base(), t.height(), t.area());
        };
    }
    
    <span class="hljs-comment">// åµŒå¥—æ¨¡å¼åŒ¹é…</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processGeometricData</span><span class="hljs-params">(Object data)</span> {
        <span class="hljs-keyword">if</span> (data <span class="hljs-keyword">instanceof</span> Shape[] shapes) {
            <span class="hljs-keyword">for</span> (Shape shape : shapes) {
                <span class="hljs-keyword">if</span> (shape <span class="hljs-keyword">instanceof</span> <span class="hljs-title function_">Circle</span><span class="hljs-params">(<span class="hljs-type">double</span> radius)</span> &amp;&amp; radius &gt; <span class="hljs-number">10</span>) {
                    System.out.println(<span class="hljs-string">"å¤§åœ†: "</span> + radius);
                }
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€è®°å½•ç±»åœ¨é¢†åŸŸå»ºæ¨¡ä¸­çš„å®è·µ</h2>
<h3 data-id="heading-8">3.1 DTOå’Œå€¼å¯¹è±¡çš„ç†æƒ³é€‰æ‹©</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// APIæ•°æ®ä¼ è¾“å¯¹è±¡</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">ApiResponse</span>&lt;T&gt;(
    <span class="hljs-type">boolean</span> success,
    String message,
    T data,
    Instant timestamp,
    String requestId
) {
    <span class="hljs-comment">// ä¾¿æ·å·¥å‚æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; ApiResponse&lt;T&gt; <span class="hljs-title function_">success</span><span class="hljs-params">(T data, String requestId)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiResponse</span>&lt;&gt;(<span class="hljs-literal">true</span>, <span class="hljs-string">"æˆåŠŸ"</span>, data, Instant.now(), requestId);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; ApiResponse&lt;T&gt; <span class="hljs-title function_">error</span><span class="hljs-params">(String message, String requestId)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiResponse</span>&lt;&gt;(<span class="hljs-literal">false</span>, message, <span class="hljs-literal">null</span>, Instant.now(), requestId);
    }
}

<span class="hljs-comment">// é¢†åŸŸå€¼å¯¹è±¡</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Money</span><span class="hljs-params">(BigDecimal amount, Currency currency)</span> 
    <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparable</span>&lt;Money&gt; {
    
    <span class="hljs-keyword">public</span> Money {
        Objects.requireNonNull(amount, <span class="hljs-string">"é‡‘é¢ä¸èƒ½ä¸ºç©º"</span>);
        Objects.requireNonNull(currency, <span class="hljs-string">"è´§å¸ä¸èƒ½ä¸ºç©º"</span>);
        <span class="hljs-keyword">if</span> (amount.compareTo(BigDecimal.ZERO) &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"é‡‘é¢ä¸èƒ½ä¸ºè´Ÿæ•°"</span>);
        }
    }
    
    <span class="hljs-comment">// é¢†åŸŸè¡Œä¸º</span>
    <span class="hljs-keyword">public</span> Money <span class="hljs-title function_">add</span><span class="hljs-params">(Money other)</span> {
        requireSameCurrency(other);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Money</span>(amount.add(other.amount), currency);
    }
    
    <span class="hljs-keyword">public</span> Money <span class="hljs-title function_">subtract</span><span class="hljs-params">(Money other)</span> {
        requireSameCurrency(other);
        <span class="hljs-type">BigDecimal</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> amount.subtract(other.amount);
        <span class="hljs-keyword">if</span> (result.compareTo(BigDecimal.ZERO) &lt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"ä½™é¢ä¸è¶³"</span>);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Money</span>(result, currency);
    }
    
    <span class="hljs-keyword">public</span> Money <span class="hljs-title function_">multiply</span><span class="hljs-params">(BigDecimal multiplier)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Money</span>(amount.multiply(multiplier), currency);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">requireSameCurrency</span><span class="hljs-params">(Money other)</span> {
        <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">this</span>.currency.equals(other.currency)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"è´§å¸ä¸åŒ¹é…: "</span> + 
                <span class="hljs-built_in">this</span>.currency + <span class="hljs-string">" vs "</span> + other.currency);
        }
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(Money other)</span> {
        requireSameCurrency(other);
        <span class="hljs-keyword">return</span> amount.compareTo(other.amount);
    }
}
</code></pre>
<h3 data-id="heading-9">3.2 å¤æ‚æ•°æ®ç»“æ„çš„ç®€æ´è¡¨ç¤º</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ ‘å½¢ç»“æ„</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">TreeNode</span>&lt;T&gt;(
    T value,
    List&lt;TreeNode&lt;T&gt;&gt; children
) {
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TreeNode</span><span class="hljs-params">(T value)</span> {
        <span class="hljs-built_in">this</span>(value, List.of());
    }
    
    <span class="hljs-comment">// æ·»åŠ å­èŠ‚ç‚¹</span>
    <span class="hljs-keyword">public</span> TreeNode&lt;T&gt; <span class="hljs-title function_">addChild</span><span class="hljs-params">(TreeNode&lt;T&gt; child)</span> {
        List&lt;TreeNode&lt;T&gt;&gt; newChildren = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(children);
        newChildren.add(child);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>&lt;&gt;(value, newChildren);
    }
    
    <span class="hljs-comment">// æ·±åº¦ä¼˜å…ˆéå†</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">dfs</span><span class="hljs-params">(Consumer&lt;T&gt; visitor)</span> {
        visitor.accept(value);
        <span class="hljs-keyword">for</span> (TreeNode&lt;T&gt; child : children) {
            child.dfs(visitor);
        }
    }
}

<span class="hljs-comment">// å›¾ç»“æ„</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Graph</span>&lt;T&gt;(
    Set&lt;T&gt; vertices,
    Map&lt;T, Set&lt;T&gt;&gt; adjacencyList
) {
    <span class="hljs-keyword">public</span> Graph {
        adjacencyList = Map.copyOf(adjacencyList);
        vertices = Set.copyOf(vertices);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; Graph&lt;T&gt; <span class="hljs-title function_">fromEdges</span><span class="hljs-params">(List&lt;Edge&lt;T&gt;&gt; edges)</span> {
        Map&lt;T, Set&lt;T&gt;&gt; adjList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();
        Set&lt;T&gt; verts = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();
        
        <span class="hljs-keyword">for</span> (Edge&lt;T&gt; edge : edges) {
            verts.add(edge.from());
            verts.add(edge.to());
            adjList.computeIfAbsent(edge.from(), k -&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;())
                  .add(edge.to());
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Graph</span>&lt;&gt;(verts, adjList);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Edge</span>&lt;T&gt;(T from, T to) {}
</code></pre>
<h2 data-id="heading-10">å››ã€è®°å½•ç±»ä¸é›†åˆæ¡†æ¶çš„é›†æˆ</h2>
<h3 data-id="heading-11">4.1 ä¸å¯å˜é›†åˆä¸è®°å½•ç±»çš„å®Œç¾ç»“åˆ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½¿ç”¨è®°å½•ç±»è¡¨ç¤ºä¸å¯å˜æ•°æ®é›†åˆ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Dataset</span><span class="hljs-params">(
    String name,
    List&lt;DataPoint&gt; points,
    Map&lt;String, StatisticalSummary&gt; statistics
)</span> {
    <span class="hljs-keyword">public</span> Dataset {
        <span class="hljs-comment">// é˜²å¾¡æ€§å¤åˆ¶ï¼Œç¡®ä¿ä¸å¯å˜æ€§</span>
        points = List.copyOf(points);
        statistics = Map.copyOf(statistics);
    }
    
    <span class="hljs-comment">// è½¬æ¢æ“ä½œï¼Œè¿”å›æ–°å®ä¾‹</span>
    <span class="hljs-keyword">public</span> Dataset <span class="hljs-title function_">filter</span><span class="hljs-params">(Predicate&lt;DataPoint&gt; predicate)</span> {
        List&lt;DataPoint&gt; filtered = points.stream()
            .filter(predicate)
            .toList();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dataset</span>(name, filtered, calculateStatistics(filtered));
    }
    
    <span class="hljs-keyword">public</span> Dataset <span class="hljs-title function_">map</span><span class="hljs-params">(Function&lt;DataPoint, DataPoint&gt; mapper)</span> {
        List&lt;DataPoint&gt; mapped = points.stream()
            .map(mapper)
            .toList();
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dataset</span>(name, mapped, calculateStatistics(mapped));
    }
    
    <span class="hljs-keyword">private</span> Map&lt;String, StatisticalSummary&gt; <span class="hljs-title function_">calculateStatistics</span><span class="hljs-params">(
            List&lt;DataPoint&gt; dataPoints)</span> {
        <span class="hljs-comment">// è®¡ç®—ç»Ÿè®¡ä¿¡æ¯</span>
        <span class="hljs-keyword">return</span> Map.of();
    }
}

<span class="hljs-comment">// è®°å½•ç±»ä½œä¸ºé›†åˆå…ƒç´ </span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">DataPoint</span><span class="hljs-params">(
    Instant timestamp,
    BigDecimal value,
    String source,
    Map&lt;String, String&gt; metadata
)</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparable</span>&lt;DataPoint&gt; {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(DataPoint other)</span> {
        <span class="hljs-keyword">return</span> timestamp.compareTo(other.timestamp);
    }
}

<span class="hljs-comment">// åœ¨Stream APIä¸­ä½¿ç”¨è®°å½•ç±»</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StreamWithRecords</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;Person&gt; people = List.of(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Alice"</span>, <span class="hljs-number">30</span>, <span class="hljs-string">"alice@example.com"</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Bob"</span>, <span class="hljs-number">25</span>, <span class="hljs-string">"bob@example.com"</span>),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">"Charlie"</span>, <span class="hljs-number">35</span>, <span class="hljs-string">"charlie@example.com"</span>)
        );
        
        <span class="hljs-comment">// ä½¿ç”¨è®°å½•ç±»çš„é€æ˜æ€§</span>
        Map&lt;String, Integer&gt; nameToAge = people.stream()
            .collect(Collectors.toMap(
                Person::name,  <span class="hljs-comment">// ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„è®¿é—®å™¨</span>
                Person::age
            ));
        
        <span class="hljs-comment">// æ¨¡å¼åŒ¹é…ä¸è¿‡æ»¤</span>
        List&lt;String&gt; adultNames = people.stream()
            .filter(p -&gt; p.age() &gt;= <span class="hljs-number">30</span>)
            .map(Person::name)
            .toList();
    }
}
</code></pre>
<h2 data-id="heading-12">äº”ã€è®°å½•ç±»çš„åºåˆ—åŒ–ä¸æŒä¹…åŒ–</h2>
<h3 data-id="heading-13">5.1 JSONåºåˆ—åŒ–é›†æˆ</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è®°å½•ç±»ä¸Jacksonçš„é›†æˆ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JsonSerializationDemo</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">UserProfile</span><span class="hljs-params">(
        @JsonProperty("user_id")</span> String userId,
        <span class="hljs-meta">@JsonProperty("display_name")</span> String displayName,
        <span class="hljs-meta">@JsonProperty("email_address")</span> String email,
        <span class="hljs-meta">@JsonProperty("preferences")</span> Map&lt;String, Object&gt; preferences,
        <span class="hljs-meta">@JsonProperty("created_at")</span> Instant createdAt
    ) {}
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> JsonProcessingException {
        <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>()
            .registerModule(<span class="hljs-keyword">new</span> <span class="hljs-title class_">JavaTimeModule</span>())
            .setSerializationInclusion(JsonInclude.Include.NON_NULL);
        
        <span class="hljs-type">UserProfile</span> <span class="hljs-variable">profile</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserProfile</span>(
            <span class="hljs-string">"user123"</span>,
            <span class="hljs-string">"John Doe"</span>,
            <span class="hljs-string">"john@example.com"</span>,
            Map.of(<span class="hljs-string">"theme"</span>, <span class="hljs-string">"dark"</span>, <span class="hljs-string">"notifications"</span>, <span class="hljs-literal">true</span>),
            Instant.now()
        );
        
        <span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> mapper.writeValueAsString(profile);
        System.out.println(json);
        
        <span class="hljs-type">UserProfile</span> <span class="hljs-variable">deserialized</span> <span class="hljs-operator">=</span> mapper.readValue(json, UserProfile.class);
        System.out.println(deserialized.equals(profile)); <span class="hljs-comment">// true</span>
    }
}

<span class="hljs-comment">// ä¸JSON-Bçš„é›†æˆ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Product</span><span class="hljs-params">(
    @JsonbProperty("product-code")</span> String sku,
    <span class="hljs-meta">@JsonbProperty("product-name")</span> String name,
    <span class="hljs-meta">@JsonbProperty("unit-price")</span> BigDecimal price,
    <span class="hljs-meta">@JsonbProperty("in-stock")</span> <span class="hljs-type">boolean</span> inStock
) {}
</code></pre>
<h3 data-id="heading-14">5.2 æ•°æ®åº“æ˜ å°„</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// JPAå®ä½“ä¸è®°å½•ç±»çš„ç»“åˆä½¿ç”¨</span>
<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "orders")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderEntity</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-keyword">private</span> Long id;
    
    <span class="hljs-keyword">private</span> String orderNumber;
    <span class="hljs-keyword">private</span> BigDecimal totalAmount;
    <span class="hljs-keyword">private</span> Instant orderDate;
    
    <span class="hljs-comment">// ä½¿ç”¨è®°å½•ç±»ä½œä¸ºDTO</span>
    <span class="hljs-keyword">public</span> OrderRecord <span class="hljs-title function_">toRecord</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderRecord</span>(id, orderNumber, totalAmount, orderDate);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> OrderEntity <span class="hljs-title function_">fromRecord</span><span class="hljs-params">(OrderRecord record)</span> {
        <span class="hljs-type">OrderEntity</span> <span class="hljs-variable">entity</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderEntity</span>();
        entity.id = record.id();
        entity.orderNumber = record.orderNumber();
        entity.totalAmount = record.totalAmount();
        entity.orderDate = record.orderDate();
        <span class="hljs-keyword">return</span> entity;
    }
}

<span class="hljs-comment">// è®°å½•ç±»ä½œä¸ºä¸å¯å˜DTO</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">OrderRecord</span><span class="hljs-params">(
    Long id,
    String orderNumber,
    BigDecimal totalAmount,
    Instant orderDate
)</span> {
    <span class="hljs-comment">// éªŒè¯é€»è¾‘</span>
    <span class="hljs-keyword">public</span> OrderRecord {
        <span class="hljs-keyword">if</span> (totalAmount.compareTo(BigDecimal.ZERO) &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"è®¢å•é‡‘é¢å¿…é¡»å¤§äº0"</span>);
        }
        <span class="hljs-keyword">if</span> (orderDate.isAfter(Instant.now())) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"è®¢å•æ—¥æœŸä¸èƒ½åœ¨æœªæ¥"</span>);
        }
    }
}

<span class="hljs-comment">// Spring Data JDBCè®°å½•ç±»æ˜ å°„</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Customer</span><span class="hljs-params">(
    @Id Long id,
    String name,
    Email email,
    Address address,
    CustomerStatus status
)</span> {}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">CustomerStatus</span> { ACTIVE, INACTIVE, SUSPENDED }

<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Email</span><span class="hljs-params">(String value)</span> {
    <span class="hljs-keyword">public</span> Email {
        <span class="hljs-comment">// é‚®ç®±éªŒè¯é€»è¾‘</span>
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Address</span><span class="hljs-params">(
    String street,
    String city,
    String postalCode,
    String country
)</span> {}
</code></pre>
<h2 data-id="heading-15">å…­ã€è®°å½•ç±»çš„æ€§èƒ½ä¸å†…å­˜ç‰¹æ€§</h2>
<h3 data-id="heading-16">6.1 å†…å­˜å¸ƒå±€ä¼˜åŒ–</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è®°å½•ç±»çš„å†…å­˜æ•ˆç‡</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryEfficiencyDemo</span> {
    
    <span class="hljs-comment">// ä¼ ç»ŸPOJO - æ¯ä¸ªå®ä¾‹åŒ…å«å¯¹è±¡å¤´ã€å­—æ®µã€å¯¹é½å¡«å……</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TraditionalPoint</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> x;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> y;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String label;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">TraditionalPoint</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, String label)</span> {
            <span class="hljs-built_in">this</span>.x = x;
            <span class="hljs-built_in">this</span>.y = y;
            <span class="hljs-built_in">this</span>.label = label;
        }
        
        <span class="hljs-comment">// çœç•¥getters, equals, hashCode, toString</span>
    }
    
    <span class="hljs-comment">// è®°å½•ç±» - æ›´ç´§å‡‘çš„å†…å­˜å¸ƒå±€</span>
    <span class="hljs-keyword">record</span> <span class="hljs-title class_">PointRecord</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y, String label)</span> {}
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è®°å½•ç±»çš„ä¼˜åŠ¿ï¼š</span>
        <span class="hljs-comment">// 1. ä¸å¯å˜æ€§å…è®¸æ›´æ¿€è¿›çš„ä¼˜åŒ–</span>
        <span class="hljs-comment">// 2. æ›´å°‘çš„å¯¹è±¡å¤´å¼€é”€ï¼ˆåœ¨æŸäº›JVMå®ç°ä¸­ï¼‰</span>
        <span class="hljs-comment">// 3. å­—æ®µç›´æ¥å†…è”çš„å¯èƒ½æ€§</span>
        
        List&lt;TraditionalPoint&gt; traditionalPoints = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        List&lt;PointRecord&gt; recordPoints = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-comment">// å†…å­˜ä½¿ç”¨å¯¹æ¯”</span>
        <span class="hljs-type">Runtime</span> <span class="hljs-variable">runtime</span> <span class="hljs-operator">=</span> Runtime.getRuntime();
        
        <span class="hljs-type">long</span> <span class="hljs-variable">memoryBefore</span> <span class="hljs-operator">=</span> runtime.totalMemory() - runtime.freeMemory();
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1_000_000</span>; i++) {
            recordPoints.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PointRecord</span>(i, i * <span class="hljs-number">2</span>, <span class="hljs-string">"point-"</span> + i));
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">memoryAfter</span> <span class="hljs-operator">=</span> runtime.totalMemory() - runtime.freeMemory();
        
        System.out.printf(<span class="hljs-string">"è®°å½•ç±»å†…å­˜ä½¿ç”¨: %d MB%n"</span>, 
            (memoryAfter - memoryBefore) / (<span class="hljs-number">1024</span> * <span class="hljs-number">1024</span>));
    }
}
</code></pre>
<h3 data-id="heading-17">6.2 æ€§èƒ½åŸºå‡†æµ‹è¯•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// JMHåŸºå‡†æµ‹è¯•ï¼šè®°å½•ç±»vsä¼ ç»ŸPOJO</span>
<span class="hljs-meta">@State(Scope.Benchmark)</span>
<span class="hljs-meta">@BenchmarkMode(Mode.Throughput)</span>
<span class="hljs-meta">@OutputTimeUnit(TimeUnit.MILLISECONDS)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RecordBenchmark</span> {
    
    <span class="hljs-meta">@Param({"1000", "10000", "100000"})</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size;
    
    <span class="hljs-keyword">private</span> List&lt;TraditionalPerson&gt; traditionalList;
    <span class="hljs-keyword">private</span> List&lt;PersonRecord&gt; recordList;
    
    <span class="hljs-meta">@Setup</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setup</span><span class="hljs-params">()</span> {
        traditionalList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(size);
        recordList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(size);
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; size; i++) {
            <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Person"</span> + i;
            <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span> + (i % <span class="hljs-number">50</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">email</span> <span class="hljs-operator">=</span> name.toLowerCase() + <span class="hljs-string">"@example.com"</span>;
            
            traditionalList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TraditionalPerson</span>(name, age, email));
            recordList.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PersonRecord</span>(name, age, email));
        }
    }
    
    <span class="hljs-meta">@Benchmark</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">traditionalPersonHashCode</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (TraditionalPerson person : traditionalList) {
            sum += person.hashCode();
        }
        <span class="hljs-keyword">return</span> sum;
    }
    
    <span class="hljs-meta">@Benchmark</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">recordHashCode</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">sum</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (PersonRecord person : recordList) {
            sum += person.hashCode();
        }
        <span class="hljs-keyword">return</span> sum;
    }
    
    <span class="hljs-meta">@Benchmark</span>
    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">traditionalPersonNames</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> traditionalList.stream()
            .map(TraditionalPerson::getName)
            .collect(Collectors.toList());
    }
    
    <span class="hljs-meta">@Benchmark</span>
    <span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title function_">recordNames</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> recordList.stream()
            .map(PersonRecord::name)
            .collect(Collectors.toList());
    }
}

<span class="hljs-comment">// è®°å½•ç±»å®šä¹‰</span>
<span class="hljs-keyword">record</span> <span class="hljs-title class_">PersonRecord</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age, String email)</span> {}

<span class="hljs-comment">// ä¼ ç»ŸPOJOå®šä¹‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TraditionalPerson</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> age;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String email;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">TraditionalPerson</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age, String email)</span> {
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
        <span class="hljs-built_in">this</span>.email = email;
    }
    
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> { <span class="hljs-keyword">return</span> name; }
    <span class="hljs-comment">// ... å…¶ä»–getterså’Œæ ‡å‡†æ–¹æ³•</span>
}
</code></pre>
<h2 data-id="heading-18">ä¸ƒã€è®°å½•ç±»çš„æœ€ä½³å®è·µä¸é™åˆ¶</h2>
<h3 data-id="heading-19">7.1 é€‚ç”¨åœºæ™¯æŒ‡å—</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é€‚åˆä½¿ç”¨è®°å½•ç±»çš„åœºæ™¯</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RecordUseCases</span> {
    <span class="hljs-comment">// 1. æ•°æ®ä¼ è¾“å¯¹è±¡ï¼ˆDTOï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">ApiRequest</span>&lt;T&gt;(
        String requestId,
        Instant timestamp,
        T payload,
        Map&lt;String, String&gt; headers
    ) {}
    
    <span class="hljs-comment">// 2. å€¼å¯¹è±¡ï¼ˆValue Objectsï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">Color</span><span class="hljs-params">(<span class="hljs-type">int</span> red, <span class="hljs-type">int</span> green, <span class="hljs-type">int</span> blue)</span> {
        <span class="hljs-keyword">public</span> Color {
            validateComponent(red);
            validateComponent(green);
            validateComponent(blue);
        }
        
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">validateComponent</span><span class="hljs-params">(<span class="hljs-type">int</span> value)</span> {
            <span class="hljs-keyword">if</span> (value &lt; <span class="hljs-number">0</span> || value &gt; <span class="hljs-number">255</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"é¢œè‰²åˆ†é‡å¿…é¡»åœ¨0-255ä¹‹é—´"</span>);
            }
        }
        
        <span class="hljs-keyword">public</span> Color <span class="hljs-title function_">blend</span><span class="hljs-params">(Color other, <span class="hljs-type">double</span> ratio)</span> {
            <span class="hljs-type">int</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>)(red * (<span class="hljs-number">1</span> - ratio) + other.red * ratio);
            <span class="hljs-type">int</span> <span class="hljs-variable">g</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>)(green * (<span class="hljs-number">1</span> - ratio) + other.green * ratio);
            <span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>)(blue * (<span class="hljs-number">1</span> - ratio) + other.blue * ratio);
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Color</span>(r, g, b);
        }
    }
    
    <span class="hljs-comment">// 3. å¤åˆé”®</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">CompositeKey</span><span class="hljs-params">(
        String partitionKey,
        String sortKey,
        Instant timestamp
    )</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Comparable</span>&lt;CompositeKey&gt; {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">compareTo</span><span class="hljs-params">(CompositeKey other)</span> {
            <span class="hljs-type">int</span> <span class="hljs-variable">cmp</span> <span class="hljs-operator">=</span> partitionKey.compareTo(other.partitionKey);
            <span class="hljs-keyword">if</span> (cmp != <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> cmp;
            
            cmp = sortKey.compareTo(other.sortKey);
            <span class="hljs-keyword">if</span> (cmp != <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> cmp;
            
            <span class="hljs-keyword">return</span> timestamp.compareTo(other.timestamp);
        }
    }
    
    <span class="hljs-comment">// 4. é…ç½®å¯¹è±¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">DatabaseConfig</span><span class="hljs-params">(
        String url,
        String username,
        String password,
        <span class="hljs-type">int</span> poolSize,
        Duration connectionTimeout
    )</span> {
        <span class="hljs-keyword">public</span> DatabaseConfig {
            Objects.requireNonNull(url, <span class="hljs-string">"æ•°æ®åº“URLä¸èƒ½ä¸ºç©º"</span>);
            Objects.requireNonNull(username, <span class="hljs-string">"ç”¨æˆ·åä¸èƒ½ä¸ºç©º"</span>);
            <span class="hljs-keyword">if</span> (poolSize &lt;= <span class="hljs-number">0</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"è¿æ¥æ± å¤§å°å¿…é¡»å¤§äº0"</span>);
            }
        }
    }
}

<span class="hljs-comment">// ä¸é€‚åˆä½¿ç”¨è®°å½•ç±»çš„åœºæ™¯</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">NotSuitableForRecords</span> {
    <span class="hljs-comment">// 1. éœ€è¦å¯å˜çŠ¶æ€çš„æƒ…å†µ</span>
    <span class="hljs-comment">// è®°å½•ç±»å¤©ç”Ÿä¸å¯å˜ï¼Œä¸é€‚åˆéœ€è¦ä¿®æ”¹å†…éƒ¨çŠ¶æ€çš„åœºæ™¯</span>
    
    <span class="hljs-comment">// 2. éœ€è¦ç»§æ‰¿å±‚æ¬¡ç»“æ„</span>
    <span class="hljs-comment">// è®°å½•ç±»æ˜¯finalçš„ï¼Œä¸èƒ½ç»§æ‰¿ä¹Ÿä¸èƒ½è¢«ç»§æ‰¿</span>
    
    <span class="hljs-comment">// 3. éœ€è¦éšè—å®ç°ç»†èŠ‚</span>
    <span class="hljs-comment">// è®°å½•ç±»çš„ç»„ä»¶æ˜¯å…¬å¼€çš„API</span>
    
    <span class="hljs-comment">// 4. éœ€è¦å¤æ‚çš„å¯¹è±¡æ„é€ </span>
    <span class="hljs-comment">// è®°å½•ç±»é€‚åˆç®€å•ã€é€æ˜çš„æ•°æ®è½½ä½“</span>
}
</code></pre>
<h3 data-id="heading-20">7.2 ä¸ç°æœ‰ä»£ç çš„é›†æˆç­–ç•¥</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ¸è¿›å¼è¿ç§»ç­–ç•¥</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MigrationStrategy</span> {
    
    <span class="hljs-comment">// ç¬¬1é˜¶æ®µï¼šå°†ç°æœ‰DTOè½¬æ¢ä¸ºè®°å½•ç±»</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">CustomerDto</span><span class="hljs-params">(
        Long id,
        String name,
        String email,
        CustomerStatus status
    )</span> {
        <span class="hljs-comment">// æ·»åŠ fromEntity/toEntityè½¬æ¢æ–¹æ³•</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> CustomerDto <span class="hljs-title function_">fromEntity</span><span class="hljs-params">(CustomerEntity entity)</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomerDto</span>(
                entity.getId(),
                entity.getName(),
                entity.getEmail(),
                entity.getStatus()
            );
        }
        
        <span class="hljs-keyword">public</span> CustomerEntity <span class="hljs-title function_">toEntity</span><span class="hljs-params">()</span> {
            <span class="hljs-type">CustomerEntity</span> <span class="hljs-variable">entity</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomerEntity</span>();
            entity.setId(id);
            entity.setName(name);
            entity.setEmail(email);
            entity.setStatus(status);
            <span class="hljs-keyword">return</span> entity;
        }
    }
    
    <span class="hljs-comment">// ç¬¬2é˜¶æ®µï¼šåœ¨å†…éƒ¨APIä¸­ä½¿ç”¨è®°å½•ç±»</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">CustomerService</span> {
        CustomerDto <span class="hljs-title function_">getCustomer</span><span class="hljs-params">(Long id)</span>;
        CustomerDto <span class="hljs-title function_">createCustomer</span><span class="hljs-params">(CreateCustomerRequest request)</span>;
        List&lt;CustomerDto&gt; <span class="hljs-title function_">searchCustomers</span><span class="hljs-params">(CustomerSearchCriteria criteria)</span>;
    }
    
    <span class="hljs-comment">// ç¬¬3é˜¶æ®µï¼šåœ¨å¤–éƒ¨APIè¾¹ç•Œä½¿ç”¨è®°å½•ç±»</span>
    <span class="hljs-meta">@RestController</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomerController</span> {
        <span class="hljs-meta">@GetMapping("/customers/{id}")</span>
        <span class="hljs-keyword">public</span> CustomerDto <span class="hljs-title function_">getCustomer</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
            <span class="hljs-keyword">return</span> customerService.getCustomer(id);
        }
    }
    
    <span class="hljs-comment">// ç¬¬4é˜¶æ®µï¼šå…¨é¢é‡‡ç”¨è®°å½•ç±»ä½œä¸ºä¸»è¦æ•°æ®è½½ä½“</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">CreateCustomerRequest</span><span class="hljs-params">(
        @NotBlank String name,
        @Email String email,
        CustomerStatus status
    )</span> {}
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">record</span> <span class="hljs-title class_">CustomerSearchCriteria</span><span class="hljs-params">(
        String nameFilter,
        CustomerStatus status,
        Instant createdAfter,
        Pageable pageable
    )</span> {}
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Androidæ’ä»¶åŒ–åŸç†ä¸æ–¹æ¡ˆè¯¦è§£]]></title>    <link>https://juejin.cn/post/7582958136258117668</link>    <guid>https://juejin.cn/post/7582958136258117668</guid>    <pubDate>2025-12-14T08:59:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582958136258117668" data-draft-id="7583215836690120745" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Androidæ’ä»¶åŒ–åŸç†ä¸æ–¹æ¡ˆè¯¦è§£"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-14T08:59:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é™†ä¸šèª"/> <meta itemprop="url" content="https://juejin.cn/user/13629904404157"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Androidæ’ä»¶åŒ–åŸç†ä¸æ–¹æ¡ˆè¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/13629904404157/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é™†ä¸šèª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T08:59:09.000Z" title="Sun Dec 14 2025 08:59:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Androidæ’ä»¶åŒ–æ˜¯ä¸€ç§å¼€å‘æ¨¡å¼ï¼Œå®ƒå…è®¸æˆ‘ä»¬åŠ¨æ€åœ°åŠ è½½å’Œå¸è½½APKï¼Œä»è€Œå®ç°æ¨¡å—åŒ–å¼€å‘ï¼Œçƒ­æ›´æ–°ç­‰åŠŸèƒ½ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»Androidæ’ä»¶åŒ–çš„åŸç†ï¼Œä»¥åŠå‡ ç§ä¸»æµçš„Androidæ’ä»¶åŒ–æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-0">ä¸€ã€Androidæ’ä»¶åŒ–åŸç†</h2>
<h3 data-id="heading-1">1.1 ç±»åŠ è½½ä¸åŒäº²å§”æ‰˜æœºåˆ¶</h3>
<p>Androidæ’ä»¶åŒ–çš„æ ¸å¿ƒåŸç†æ˜¯åŸºäºJavaçš„ç±»åŠ è½½æœºåˆ¶ã€‚åœ¨Javaä¸­ï¼ŒClassLoaderè´Ÿè´£åŠ è½½ç±»ã€‚æ¯ä¸ªClassLoaderéƒ½æœ‰ä¸€ä¸ªçˆ¶ClassLoaderï¼Œå½“æˆ‘ä»¬å°è¯•åŠ è½½ä¸€ä¸ªç±»æ—¶ï¼ŒClassLoaderä¼šé¦–å…ˆå°è¯•è®©å®ƒçš„çˆ¶ClassLoaderåŠ è½½è¿™ä¸ªç±»ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„åŒäº²å§”æ‰˜æœºåˆ¶ã€‚è¿™ç§æœºåˆ¶å¯ä»¥ç¡®ä¿åŒä¸€ä¸ªç±»åªä¼šè¢«åŠ è½½ä¸€æ¬¡ã€‚</p>
<p>åœ¨Androidæ’ä»¶åŒ–ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„ClassLoaderæ¥åŠ è½½æ’ä»¶ä¸­çš„ç±»ã€‚è¿™ä¸ªClassLoaderçš„çˆ¶ClassLoaderæ˜¯å®¿ä¸»åº”ç”¨çš„ClassLoaderï¼Œå› æ­¤ï¼Œæ’ä»¶ä¸­çš„ç±»å¯ä»¥è®¿é—®å®¿ä¸»åº”ç”¨ä¸­çš„ç±»ï¼Œä½†æ˜¯å®¿ä¸»åº”ç”¨ä¸­çš„ç±»ä¸èƒ½è®¿é—®æ’ä»¶ä¸­çš„ç±»ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e64d0fc8afd942439fcc4b6f07f933f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmG5Lia6IGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766307783&amp;x-signature=Dzm7XdbfBsPd%2BOXh7u49YJuja2U%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-2">1.2 èµ„æºåŠ è½½</h3>
<p>åœ¨Androidä¸­ï¼Œèµ„æºæ–‡ä»¶æ˜¯é€šè¿‡Resourceså¯¹è±¡æ¥åŠ è½½çš„ã€‚æ¯ä¸ªAPKéƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„Resourceså¯¹è±¡ï¼Œç”¨äºåŠ è½½å®ƒè‡ªå·±çš„èµ„æºæ–‡ä»¶ã€‚</p>
<p>åœ¨Androidæ’ä»¶åŒ–ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„Resourceså¯¹è±¡æ¥åŠ è½½æ’ä»¶ä¸­çš„èµ„æºæ–‡ä»¶ã€‚è¿™ä¸ªResourceså¯¹è±¡çš„AssetManageræ˜¯é€šè¿‡åå°„åˆ›å»ºçš„ï¼Œå¯ä»¥åŠ è½½ä»»æ„è·¯å¾„çš„APKæ–‡ä»¶ã€‚</p>
<h3 data-id="heading-3">1.3 å››å¤§ç»„ä»¶æ”¯æŒ</h3>
<p>åœ¨Androidæ’ä»¶åŒ–ä¸­ï¼Œå››å¤§ç»„ä»¶ï¼ˆActivityï¼ŒServiceï¼ŒBroadcastReceiverï¼ŒContentProviderï¼‰çš„æ”¯æŒæ˜¯ä¸€ä¸ªé‡è¦çš„é—®é¢˜ã€‚å› ä¸ºåœ¨Androidç³»ç»Ÿä¸­ï¼Œè¿™äº›ç»„ä»¶éƒ½éœ€è¦åœ¨AndroidManifest.xmlä¸­è¿›è¡Œå£°æ˜ï¼Œè€Œæ’ä»¶APKçš„AndroidManifest.xmlæ˜¯ä¸ä¼šè¢«è§£æçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é‡‡å–ä¸€äº›ç‰¹æ®Šçš„æ‰‹æ®µæ¥æ”¯æŒè¿™äº›ç»„ä»¶ã€‚</p>
<p>Activityï¼šActivityæ˜¯æœ€å¸¸ç”¨çš„ç»„ä»¶ï¼Œä¹Ÿæ˜¯æœ€éœ€è¦æ”¯æŒçš„ç»„ä»¶ã€‚åœ¨æ’ä»¶åŒ–ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Proxy Activityä»£ç†æˆ–è€…Hookæ–¹å¼æ¥æ”¯æŒActivityã€‚</p>
<p>Serviceï¼šServiceçš„æ”¯æŒä¹Ÿæ˜¯é€šè¿‡ä»£ç†æˆ–è€…Hookæ–¹å¼æ¥å®ç°çš„ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å®¿ä¸»ä¸­é¢„å…ˆå£°æ˜ä¸€äº›ä»£ç†Serviceï¼Œç„¶ååœ¨è¿è¡Œæ—¶å°†è¿™äº›ä»£ç†Serviceæ›¿æ¢ä¸ºæ’ä»¶ä¸­çš„Serviceã€‚</p>
<p>BroadcastReceiverï¼šBroadcastReceiverçš„æ”¯æŒç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€æ³¨å†ŒBroadcastReceiverï¼Œæˆ–è€…é€šè¿‡Hookæ–¹å¼æ¥æ”¯æŒé™æ€æ³¨å†Œçš„BroadcastReceiverã€‚</p>
<p>ContentProviderï¼šContentProviderçš„æ”¯æŒæ˜¯æœ€å¤æ‚çš„ï¼Œå› ä¸ºContentProvideråœ¨åº”ç”¨å¯åŠ¨æ—¶å°±ä¼šè¢«åˆ›å»ºï¼Œè€Œä¸”æ¯ä¸ªContentProvideréƒ½éœ€è¦ä¸€ä¸ªå”¯ä¸€çš„authorityã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡Hookæ–¹å¼æ¥æ”¯æŒContentProviderï¼Œæˆ–è€…ä½¿ç”¨ä¸€äº›ç‰¹æ®Šçš„æŠ€å·§ï¼Œä¾‹å¦‚ä½¿ç”¨åŒä¸€ä¸ªauthorityæ¥æ”¯æŒå¤šä¸ªContentProviderã€‚</p>
<h3 data-id="heading-4">1.4 ä¸¤ç§æ”¯æŒActivityçš„æ–¹å¼</h3>
<p><strong>æ‰€æœ‰çš„æ’ä»¶æ¡†æ¶åœ¨è§£å†³çš„é—®é¢˜éƒ½ä¸æ˜¯å¦‚ä½•åŠ¨æ€åŠ è½½ç±»ï¼Œè€Œæ˜¯åŠ¨æ€åŠ è½½çš„Activityæ²¡æœ‰åœ¨AndroidManifestä¸­æ³¨å†Œï¼Œè¯¥å¦‚ä½•èƒ½æ­£å¸¸è¿è¡Œã€‚å¦‚æœAndroidç³»ç»Ÿæ²¡æœ‰AndroidManifestçš„é™åˆ¶ï¼Œé‚£ä¹ˆæ‰€æœ‰æ’ä»¶æ¡†æ¶éƒ½æ²¡æœ‰å­˜åœ¨çš„å¿…è¦äº†ã€‚å› ä¸ºJavaè¯­è¨€æœ¬èº«å°±æ”¯æŒåŠ¨æ€æ›´æ–°å®ç°çš„èƒ½åŠ›ã€‚</strong></p>
<ol>
<li>
<p>Proxy Activityä»£ç†ï¼šè¿™ç§æ–¹å¼æ˜¯é€šè¿‡åœ¨å®¿ä¸»åº”ç”¨ä¸­é¢„å…ˆå£°æ˜ä¸€äº›ä»£ç†Activityï¼Œç„¶ååœ¨è¿è¡Œæ—¶å°†è¿™äº›ä»£ç†Activityæ›¿æ¢ä¸ºæ’ä»¶ä¸­çš„Activityã€‚è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯å®ç°ç®€å•ï¼Œä½†æ˜¯æœ‰ä¸€äº›é™åˆ¶ï¼Œä¾‹å¦‚æ— æ³•æ”¯æŒæ’ä»¶ä¸­çš„Activityåœ¨AndroidManifest.xmlä¸­å£°æ˜çš„ä¸€äº›å±æ€§ã€‚</p>
</li>
<li>
<p>Hookæ–¹å¼ï¼šè¿™ç§æ–¹å¼æ˜¯é€šè¿‡Hook AMSï¼ˆActivity Manager Serviceï¼‰ï¼Œæ›¿æ¢AMSä¸­çš„ä¸€äº›æ–¹æ³•ï¼Œä»è€Œç»•è¿‡AMSçš„æ£€æŸ¥ã€‚è¿™ç§æ–¹å¼çš„ä¼˜ç‚¹æ˜¯å¯ä»¥å®Œå…¨æ”¯æŒæ’ä»¶ä¸­çš„Activityï¼Œä½†æ˜¯å®ç°å¤æ‚ï¼Œéœ€è¦å¯¹Androidç³»ç»Ÿæœ‰æ·±å…¥çš„äº†è§£ã€‚</p>
</li>
</ol>
<h2 data-id="heading-5">äºŒã€Androidæ’ä»¶åŒ–æ–¹æ¡ˆ</h2>
<p>ç›®å‰ï¼Œå¸‚é¢ä¸Šæœ‰å‡ ç§ä¸»æµçš„Androidæ’ä»¶åŒ–æ–¹æ¡ˆï¼ŒåŒ…æ‹¬Shadowï¼ŒRePluginï¼ŒAABï¼ˆAndroid App Bundleï¼‰ï¼ŒQigsawï¼Œä»¥åŠAtlasã€‚</p>
<h3 data-id="heading-6">2.1 <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTencent%2FShadow" target="_blank" title="https://github.com/Tencent/Shadow" ref="nofollow noopener noreferrer">Shadow</a></h3>
<h4 data-id="heading-7">2.1.1 Shadowç®€ä»‹</h4>
<p>Shadowæ˜¯è…¾è®¯å¼€å‘çš„ä¸€æ¬¾æ’ä»¶åŒ–æ¡†æ¶ï¼Œå…¶è®¾è®¡ç›®æ ‡æ˜¯ä¸ä¿®æ”¹APKæ–‡ä»¶çš„æƒ…å†µä¸‹å®ç°æ’ä»¶åŒ–ã€‚Shadowé€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°çš„ClassLoaderæ¥åŠ è½½æ’ä»¶ï¼Œä»è€Œå®ç°æ’ä»¶çš„åŠ¨æ€åŠ è½½å’Œå¸è½½ã€‚</p>
<ul>
<li>Shadowæ‰€æŒ‡çš„æ’ä»¶æ˜¯æ’ä»¶çš„ä»£ç å®Œå…¨æ˜¯ä¸€ä¸ªæ­£å¸¸å¯å®‰è£…çš„Appä»£ç ï¼Œæ— éœ€å¼•ç”¨ä»»ä½•Shadowçš„åº“ã€‚è¿™æ ·çš„Appä»£ç åº”ç”¨äº†Shadowä¹‹åå¯ä»¥å…å®‰è£…è¿è¡Œåœ¨å¦ä¸€ä¸ªAppä¸­ã€‚</li>
<li>Shadowæ˜¯ä¸€ä¸ªå®Œå…¨æ— Hackï¼Œç”šè‡³é›¶åå°„å®ç°çš„Androidæ’ä»¶æ¡†æ¶ã€‚</li>
<li>Shadowæ˜¯ä¸€ä¸ªå…¨åŠ¨æ€å®ç°çš„æ’ä»¶æ¡†æ¶ï¼Œå°±æ˜¯è¯´æ’ä»¶æ¡†æ¶çš„ä»£ç è·Ÿæ’ä»¶çš„ä»£ç ä¸€æ ·éƒ½æ˜¯åŠ¨æ€å‘å¸ƒçš„ã€‚</li>
</ul>
<h4 data-id="heading-8">2.1.2 å…¨åŠ¨æ€æ’ä»¶æ¡†æ¶æ¶æ„å’ŒéåŠ¨æ€æ’ä»¶æ¡†æ¶æ¶æ„</h4>
<p>é‚£ä¹ˆä»€ä¹ˆæ˜¯å…¨åŠ¨æ€æ’ä»¶æ¡†æ¶æ¶æ„ï¼Ÿæˆ‘ä»¬å’ŒéåŠ¨æ€æ’ä»¶æ¡†æ¶æ¶æ„è¿›è¡Œå¯¹æ¯”çœ‹çœ‹ã€‚</p>
<ol>
<li>éåŠ¨æ€æ’ä»¶æ¡†æ¶æ¶æ„</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8caf7a1d888240768faf4ebdf72396ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmG5Lia6IGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766307783&amp;x-signature=iLBxzO5RnhwQ3HzAvGIRRM054Og%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol start="2">
<li>å…¨åŠ¨æ€æ’ä»¶æ¡†æ¶æ¶æ„å›¾</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/261fe4ff0e2046398ceb3464151fa565~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmG5Lia6IGq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766307783&amp;x-signature=RcxVW6cfdIMjWi4YVz%2B92syGFb4%3D" alt="å…¨åŠ¨æ€æ’ä»¶æ¡†æ¶æ¶æ„å›¾" loading="lazy"/></p>
<h4 data-id="heading-9">2.1.3 Shadowä¸»è¦æ¨¡å—åˆ’åˆ†</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[å®¿ä¸»åº”ç”¨] --&gt;|åŒ…å«| B[åŸºç¡€æ¥å£]
    A --&gt;|æ³¨å†Œ| C[å£³å­ä»£ç†ç»„ä»¶]
    A --&gt;|é›†æˆ| D[æ’ä»¶ç®¡ç†å™¨]
    D --&gt;|ç®¡ç†| E[æ’ä»¶åŒ…]
    E --&gt;|åŒ…å«| F[åŠ è½½å™¨]
    E --&gt;|åŒ…å«| G[è¿è¡Œæ—¶]
    E --&gt;|åŒ…å«| H[ä¸šåŠ¡App]
    D --&gt;|é€šè¿‡Binderæ§åˆ¶| F
    F --&gt;|åŠ è½½| H
    G --&gt;|æ”¯æŒ| H
</code></pre>
<p><strong>å®¿ä¸»åº”ç”¨</strong></p>
<p>å®¿ä¸»åº”ç”¨æ˜¯Shadowæ¡†æ¶çš„åŸºç¡€è½½ä½“ï¼Œä»…åŒ…å«æœ€å°åŒ–çš„æ ¸å¿ƒç»„ä»¶ï¼š</p>
<ul>
<li>åŸºç¡€æ¥å£å®šä¹‰</li>
<li>å£³å­ä»£ç†ç»„ä»¶ï¼ˆåœ¨Manifestä¸­æ³¨å†Œï¼‰</li>
<li>æ’ä»¶ç®¡ç†å™¨çš„åŠ¨æ€å‡çº§é€»è¾‘
ä»£ç é‡æ§åˆ¶åœ¨çº¦15KBï¼Œä¿æŒè½»é‡åŒ–è®¾è®¡ã€‚</li>
</ul>
<p><strong>æ’ä»¶ç®¡ç†å™¨ï¼ˆManagerï¼‰</strong></p>
<p>æ’ä»¶ç®¡ç†å™¨è´Ÿè´£æ’ä»¶çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼š</p>
<ul>
<li>æ’ä»¶çš„ä¸‹è½½ä¸å®‰è£…</li>
<li>Loadingæ€çš„åŠ¨æ€è§†å›¾å±•ç¤º</li>
<li>é€šè¿‡Binderé€šä¿¡æœºåˆ¶æ§åˆ¶åŠ è½½å™¨</li>
<li>ç®¡ç†å¤šç‰ˆæœ¬loaderå®ä¾‹çš„è¿è¡Œ</li>
</ul>
<p><strong>æ ¸å¿ƒè¿è¡Œæ—¶æ¨¡å—</strong></p>
<p>æ ¸å¿ƒè¿è¡Œæ—¶æ¨¡å—ä½œä¸ºæ’ä»¶çš„ä¸€éƒ¨åˆ†å¯åŠ¨æ€å‡çº§ï¼ŒåŒ…å«ä¸¤ä¸ªå­æ¨¡å—ï¼š</p>
<p><strong>1. åŠ è½½å™¨ï¼ˆLoaderï¼‰</strong></p>
<ul>
<li>å®ç°ä¸šåŠ¡Appçš„åŠ¨æ€åŠ è½½</li>
<li>é€šè¿‡Binderæ¥å£æ¥æ”¶ç®¡ç†å™¨æŒ‡ä»¤</li>
<li>æ”¯æŒå¤šå®ä¾‹è¿è¡Œï¼Œé¿å…nativeåº“å†²çª</li>
<li>å¯åŒ…å«é’ˆå¯¹ä¸šåŠ¡çš„ç‰¹æ®Šå¤„ç†é€»è¾‘</li>
</ul>
<p><strong>2. è¿è¡Œæ—¶ï¼ˆRuntimeï¼‰</strong></p>
<ul>
<li>æä¾›æ’ä»¶è¿è¡Œçš„åŸºç¡€ç¯å¢ƒ</li>
<li>ä¸ä¸šåŠ¡AppåŒç‰ˆæœ¬ç¼–è¯‘</li>
<li>ç¡®ä¿æ’ä»¶ä¸å®¿ä¸»çš„è§£è€¦è¿è¡Œ</li>
</ul>
<h4 data-id="heading-10">2.1.4 å°ç»“</h4>
<ul>
<li>ä¼˜ç‚¹ï¼šä¸ä¿®æ”¹APKï¼Œæ’ä»¶ä¹‹é—´å®Œå…¨éš”ç¦»ï¼ŒåŠ¨æ€åŠ è½½å’Œå¸è½½æ’ä»¶ï¼Œå¯¹Android APIçš„æ”¯æŒéå¸¸å…¨é¢ã€‚</li>
<li>ç¼ºç‚¹ï¼šå®ç°å¤æ‚ï¼Œæ–‡æ¡£ç›¸å¯¹è¾ƒå°‘ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸€äº›ç‰¹æ®Šçš„é—®é¢˜ï¼Œéœ€è¦è¿›è¡Œæ›´å¤šçš„æµ‹è¯•æ¥ç¡®ä¿ç¨³å®šæ€§ã€‚</li>
<li>é€‰æ‹©å»ºè®®ï¼šå¦‚æœéœ€è¦ä¸€ä¸ªå¼ºå¤§ä¸”çµæ´»çš„æ’ä»¶åŒ–æ¡†æ¶ï¼Œå¹¶ä¸”ä¸ä»‹æ„è€—è´¹æ›´å¤šçš„æ—¶é—´æ¥ç†è§£å’Œä½¿ç”¨ï¼Œé‚£ä¹ˆShadowå¯èƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚</li>
</ul>
<h3 data-id="heading-11">2.2 <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FQihoo360%2FRePlugin" target="_blank" title="https://github.com/Qihoo360/RePlugin" ref="nofollow noopener noreferrer">RePlugin</a></h3>
<p>RePluginæ˜¯360å…¬å¸å¼€å‘çš„ä¸€æ¬¾æ’ä»¶åŒ–æ¡†æ¶ï¼Œå®ƒé€šè¿‡ä¿®æ”¹ClassLoaderï¼Œå®ç°äº†æ’ä»¶çš„åŠ¨æ€åŠ è½½å’Œå¸è½½ã€‚</p>
<ul>
<li>ä¼˜ç‚¹ï¼šæ’ä»¶åŒ–å’Œç»„ä»¶åŒ–å¹¶è¡Œï¼Œæ— éœ€ä¿®æ”¹å·²æœ‰ä»£ç ï¼Œæ’ä»¶é—´é€šä¿¡æœºåˆ¶å®Œå–„ã€‚</li>
<li>ç¼ºç‚¹ï¼šéœ€è¦å¯¹æ’ä»¶è¿›è¡Œç‰¹æ®Šçš„æ‰“åŒ…å¤„ç†ï¼Œå¯¹äºä¸€äº›å¤æ‚çš„åœºæ™¯ï¼Œå¯èƒ½éœ€è¦è¿›è¡Œè¾ƒå¤§çš„æ”¹åŠ¨ï¼Œå¯¹æ–°çš„Androidç‰ˆæœ¬çš„æ”¯æŒå¯èƒ½ä¼šæœ‰å»¶è¿Ÿã€‚</li>
<li>é€‰æ‹©å»ºè®®ï¼šå¦‚æœéœ€è¦ä¸€ä¸ªç¨³å®šä¸”æˆç†Ÿçš„æ’ä»¶åŒ–æ¡†æ¶ï¼Œå¹¶ä¸”å¸Œæœ›èƒ½å¤Ÿå¿«é€Ÿåœ°è¿›è¡Œæ’ä»¶åŒ–å¼€å‘ï¼Œé‚£ä¹ˆå»ºè®®é€‰æ‹©RePluginã€‚</li>
</ul>
<h3 data-id="heading-12">2.3 AAB (Android App Bundle)</h3>
<p>AABæ˜¯Googleå®˜æ–¹æä¾›çš„ä¸€ç§æ–°çš„åº”ç”¨å‘å¸ƒæ ¼å¼ï¼Œå®ƒå…è®¸å°†åº”ç”¨çš„åŠŸèƒ½æ¨¡å—åŒ–ï¼Œå¹¶åœ¨éœ€è¦æ—¶åŠ¨æ€åœ°ä¸‹è½½å’Œå®‰è£…è¿™äº›æ¨¡å—ã€‚</p>
<ul>
<li>ä¼˜ç‚¹ï¼šGoogleå®˜æ–¹æ”¯æŒï¼Œä¸Androidç³»ç»Ÿå’ŒGoogle Playå•†åº—çš„é›†æˆåº¦é«˜ï¼Œå¯ä»¥å®ç°æŒ‰éœ€ä¸‹è½½å’Œå®‰è£…æ¨¡å—ã€‚</li>
<li>ç¼ºç‚¹ï¼šåªæ”¯æŒAndroid 5.0åŠä»¥ä¸Šç‰ˆæœ¬çš„è®¾å¤‡ï¼Œéœ€è¦é€šè¿‡Google Playå•†åº—è¿›è¡Œæ¨¡å—çš„ä¸‹è½½å’Œå®‰è£…ã€‚</li>
<li>é€‰æ‹©å»ºè®®ï¼šå¦‚æœåº”ç”¨ä¸»è¦é’ˆå¯¹çš„æ˜¯æœ‰Google PlayæœåŠ¡çš„è®¾å¤‡æˆ–åœ°åŒºï¼Œå¹¶ä¸”å¸Œæœ›èƒ½å¤Ÿå‡å°åº”ç”¨çš„åˆå§‹ä¸‹è½½å¤§å°ï¼Œé‚£ä¹ˆå»ºè®®é€‰æ‹©AABã€‚</li>
</ul>
<h3 data-id="heading-13">2.4 Qigsaw</h3>
<p>Qigsawæ˜¯çˆ±å¥‡è‰ºå¼€å‘çš„ä¸€æ¬¾æ’ä»¶åŒ–æ¡†æ¶ï¼Œå®ƒé€šè¿‡ä¿®æ”¹ClassLoaderï¼Œå®ç°äº†æ’ä»¶çš„åŠ¨æ€åŠ è½½å’Œå¸è½½ã€‚</p>
<ul>
<li>ä¼˜ç‚¹ï¼šæ”¯æŒåŠ¨æ€åŠ è½½å’Œå¸è½½æ’ä»¶ï¼Œæ”¯æŒçƒ­æ›´æ–°ï¼Œæ”¯æŒåˆ†åŒ…ã€‚</li>
<li>ç¼ºç‚¹ï¼šå®ç°ç›¸å¯¹å¤æ‚ï¼Œéœ€è¦å¯¹æ’ä»¶è¿›è¡Œç‰¹æ®Šçš„æ‰“åŒ…å¤„ç†ï¼Œå¯¹æ–°çš„Androidç‰ˆæœ¬çš„æ”¯æŒå¯èƒ½ä¼šæœ‰å»¶è¿Ÿã€‚</li>
<li>é€‰æ‹©å»ºè®®ï¼šå¦‚æœéœ€è¦ä¸€ä¸ªæ”¯æŒçƒ­æ›´æ–°å’Œåˆ†åŒ…çš„æ’ä»¶åŒ–æ¡†æ¶ï¼Œå¹¶ä¸”æ„¿æ„è€—è´¹æ›´å¤šçš„æ—¶é—´æ¥ç†è§£å’Œä½¿ç”¨ï¼Œé‚£ä¹ˆå»ºè®®é€‰æ‹©Qigsawã€‚</li>
</ul>
<h3 data-id="heading-14">2.5 Atlas</h3>
<p>Atlasæ˜¯é˜¿é‡Œå·´å·´å¼€å‘çš„ä¸€æ¬¾æ’ä»¶åŒ–æ¡†æ¶ï¼Œå®ƒé€šè¿‡ä¿®æ”¹ClassLoaderï¼Œå®ç°äº†æ’ä»¶çš„åŠ¨æ€åŠ è½½å’Œå¸è½½ã€‚å®˜æ–¹çš„ä»‹ç»æ–‡ç« å¯ä»¥é˜…è¯»<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzAxNDEwNjk5OQ%3D%3D%26mid%3D2650400348%26idx%3D1%26sn%3D99bc1bce932c5b9000d5b54afa2de70e" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzAxNDEwNjk5OQ==&amp;mid=2650400348&amp;idx=1&amp;sn=99bc1bce932c5b9000d5b54afa2de70e" ref="nofollow noopener noreferrer">Atlas-æ‰‹æ·˜ç»„ä»¶åŒ–æ¡†æ¶çš„å‰ä¸–ä»Šç”Ÿå’Œæœªæ¥çš„è·¯</a>ã€‚</p>
<ul>
<li>ä¼˜ç‚¹ï¼šåŠŸèƒ½å¼ºå¤§ï¼Œæ”¯æŒçƒ­æ›´æ–°ï¼Œå¯ä»¥åŠ¨æ€åŠ è½½å’Œå¸è½½æ’ä»¶ï¼Œæ”¯æŒæ’ä»¶ä¹‹é—´çš„ç›¸äº’è°ƒç”¨ï¼Œæœ‰ä¸°å¯Œçš„æ–‡æ¡£å’Œç¤¾åŒºæ”¯æŒã€‚</li>
<li>ç¼ºç‚¹ï¼šå®ç°å¤æ‚ï¼Œå¯èƒ½éœ€è¦ä¿®æ”¹å¤§é‡çš„ä»£ç æ‰èƒ½å®ç°æ’ä»¶åŒ–ã€‚</li>
<li>é€‰æ‹©å»ºè®®ï¼šç›®å‰Atlaså¼€æºé¡¹ç›®å¤„äºæ²¡æœ‰ç»´æŠ¤çš„çŠ¶æ€ï¼Œåªèƒ½ä½œä¸ºæŠ€æœ¯æ–¹æ¡ˆå‚è€ƒã€‚</li>
</ul>
<h2 data-id="heading-15">ä¸‰ã€æ’ä»¶å¢é‡æ›´æ–°</h2>
<p>æ’ä»¶ç»´æŠ¤é˜¶æ®µï¼Œå¤§çš„éœ€æ±‚å˜æ›´è¾ƒå°‘ï¼Œå¾ˆå¤šæ—¶å€™æ›´æ–°æ’ä»¶ç‰ˆæœ¬åªæ˜¯ä¸ºäº†è§£å†³ä¸€äº›ç”¨æˆ·åé¦ˆçš„å°é—®é¢˜ã€‚ä½†å³ä½¿æ˜¯å¾ˆå°çš„æ›´æ–°ï¼Œéƒ½éœ€è¦æ’ä»¶å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œç”¨æˆ·æ›´æ–°-ä¸‹è½½-å®‰è£…è¿™äº›æ­¥éª¤ä¸­ï¼Œéƒ½ä¼šé€ æˆç”¨æˆ·çš„æµå¤±ã€‚é‚£æœ‰æ²¡æœ‰å¯èƒ½å¯¹æ’ä»¶è¿›è¡Œçƒ­æ›´æ–°å‘¢ï¼Ÿåªéœ€è¦ä¸‹å‘å°çš„è¡¥ä¸æ–‡ä»¶å³å¯ä»¥è¾¾åˆ°ä¿®å¤çš„èƒ½åŠ›ç¡®å®æ›´é€‚åˆæˆ‘ä»¬ä¸šåŠ¡åœºæ™¯ã€‚ç›®å‰æ¯”è¾ƒæµè¡Œçš„çƒ­æ›´æ–°æ–¹æ¡ˆæœ‰ä¸‹é¢è¿™äº›ã€‚</p>
<h3 data-id="heading-16">3.1 Sophix</h3>
<p>Sophixæ˜¯é˜¿é‡Œå·´å·´æ¨å‡ºçš„ä¸€æ¬¾çƒ­ä¿®å¤æ–¹æ¡ˆã€‚Sophixçš„åŸºæœ¬åŸç†æ˜¯é€šè¿‡AndFixå®ç°çš„ï¼ŒAndFixæ˜¯ä¸€ç§åœ¨Android Dalvik/ARTç¯å¢ƒä¸‹çš„çƒ­è¡¥ä¸æ¡†æ¶ï¼Œå®ƒå¯ä»¥åœ¨ä¸éœ€è¦é‡å¯APPçš„æƒ…å†µä¸‹åŠ¨æ€ä¿®å¤Classã€‚</p>
<ul>
<li>ä¼˜ç‚¹
<ul>
<li>æ”¯æŒå…¨é‡æ›´æ–°ï¼Œå¢é‡æ›´æ–°ï¼Œçƒ­æ›´æ–°ï¼Œæ”¯æŒSoåº“ä¿®å¤ã€‚</li>
<li>æä¾›äº†è¯¦ç»†çš„æ¥å…¥æ–‡æ¡£å’Œç¨³å®šçš„æœåŠ¡æ”¯æŒã€‚</li>
<li>æœ‰è¾ƒå¥½çš„å…¼å®¹æ€§å’Œç¨³å®šæ€§ã€‚</li>
</ul>
</li>
<li>ç¼ºç‚¹
<ul>
<li>åªæ”¯æŒé˜¿é‡Œç³»çš„åº”ç”¨ï¼Œå¯¹å¤–éƒ¨åº”ç”¨æ”¯æŒä¸è¶³ã€‚</li>
<li>éœ€è¦æ¥å…¥é˜¿é‡Œçš„mPaaSç§»åŠ¨å¼€å‘å¹³å°ï¼Œå¯¹äºä¸€äº›ä¸å¸Œæœ›æ¥å…¥é˜¿é‡Œäº‘çš„é¡¹ç›®å¯èƒ½ä¼šæœ‰å½±å“ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-17">3.2 Bugly hotfix</h3>
<p>Bugly hotfixæ˜¯è…¾è®¯æ¨å‡ºçš„ä¸€æ¬¾çƒ­ä¿®å¤æ–¹æ¡ˆã€‚Bugly hotfixçš„åŸºæœ¬åŸç†æ˜¯é€šè¿‡dexæ–‡ä»¶æ›¿æ¢å®ç°çš„ï¼Œå®ƒä¼šåœ¨è¿è¡Œæ—¶æ›¿æ¢æ‰æœ‰é—®é¢˜çš„dexæ–‡ä»¶ï¼Œä»è€Œå®ç°çƒ­ä¿®å¤ã€‚</p>
<ul>
<li>ä¼˜ç‚¹
<ul>
<li>æä¾›äº†å…¨é¢çš„çƒ­æ›´æ–°è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬çƒ­ä¿®å¤å’Œçƒ­æ›´æ–°ã€‚</li>
<li>æä¾›äº†è¯¦ç»†çš„æ¥å…¥æ–‡æ¡£å’Œç¨³å®šçš„æœåŠ¡æ”¯æŒã€‚</li>
<li>æœ‰è¾ƒå¥½çš„å…¼å®¹æ€§å’Œç¨³å®šæ€§ã€‚</li>
</ul>
</li>
<li>ç¼ºç‚¹
<ul>
<li>éœ€è¦æ¥å…¥è…¾è®¯çš„Buglyå¹³å°ï¼Œå¯¹äºä¸€äº›ä¸å¸Œæœ›æ¥å…¥è…¾è®¯äº‘çš„é¡¹ç›®å¯èƒ½ä¼šæœ‰å½±å“ã€‚</li>
<li>å¯¹äºä¸€äº›å¤æ‚çš„ä¿®å¤åœºæ™¯ï¼Œå¯èƒ½éœ€è¦æ›´æ·±å…¥çš„å®šåˆ¶ï¼Œè¿™å¯èƒ½ä¼šå¢åŠ æ¥å…¥çš„å¤æ‚æ€§ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-18">3.3 æ’æ¡©çƒ­æ›´æ–°</h3>
<p>æ’æ¡©çƒ­æ›´æ–°æ˜¯ä¸€ç§åŸºäºå­—èŠ‚ç æ’æ¡©æŠ€æœ¯çš„çƒ­æ›´æ–°æ–¹æ¡ˆã€‚æ’æ¡©çƒ­æ›´æ–°çš„åŸºæœ¬åŸç†æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µä¿®æ”¹å­—èŠ‚ç ï¼Œä¸ºæ–¹æ³•è°ƒç”¨æ’å…¥é¢å¤–çš„é€»è¾‘ï¼Œä»è€Œå®ç°åœ¨è¿è¡Œæ—¶æ›¿æ¢æ–¹æ³•çš„åŠŸèƒ½ã€‚</p>
<ul>
<li>ä¼˜ç‚¹
<ul>
<li>åŸç†ç®€å•ï¼Œå®ç°ç›¸å¯¹å®¹æ˜“ã€‚</li>
<li>ä¸ä¾èµ–äºä»»ä½•ç¬¬ä¸‰æ–¹å¹³å°ï¼Œå¯ä»¥è‡ªç”±å®šåˆ¶ã€‚</li>
</ul>
</li>
<li>ç¼ºç‚¹
<ul>
<li>éœ€è¦å¯¹å­—èŠ‚ç æ’æ¡©æŠ€æœ¯æœ‰ä¸€å®šçš„äº†è§£ï¼Œå¯¹äºä¸€äº›å¼€å‘è€…æ¥è¯´å¯èƒ½ä¼šæœ‰ä¸€å®šçš„å­¦ä¹ æˆæœ¬ã€‚</li>
<li>å¯¹äºä¸€äº›å¤æ‚çš„ä¿®å¤åœºæ™¯ï¼Œå¯èƒ½éœ€è¦æ›´æ·±å…¥çš„å®šåˆ¶ï¼Œè¿™å¯èƒ½ä¼šå¢åŠ æ¥å…¥çš„å¤æ‚æ€§ã€‚</li>
<li>å…¼å®¹æ€§å’Œç¨³å®šæ€§å¯èƒ½ä¸å¦‚Sophixå’ŒBugly hotfixã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-19">å››ã€æ€»ç»“</h2>
<p>åœ¨åŸç†éƒ¨åˆ†ï¼Œæœ¬æ–‡è§£é‡Šäº†ç±»åŠ è½½å™¨çš„ä½œç”¨å’Œæ’ä»¶åŒ–çš„åŸºæœ¬åŸç†ï¼Œè¿™ä¸ºç†è§£åç»­çš„æ’ä»¶åŒ–æ–¹æ¡ˆæ‰“ä¸‹äº†åŸºç¡€ã€‚</p>
<p>åœ¨æ’ä»¶åŒ–æ–¹æ¡ˆéƒ¨åˆ†ï¼Œæœ¬æ–‡ä»‹ç»äº†Shadowã€RePluginã€AABã€Qigsawå’ŒAtlasè¿™äº”ç§ä¸»æµçš„æ’ä»¶åŒ–æ–¹æ¡ˆã€‚æ¯ç§æ–¹æ¡ˆéƒ½æœ‰å…¶ç‹¬ç‰¹çš„ä¼˜ç‚¹å’Œé€‚ç”¨åœºæ™¯ï¼Œä¾‹å¦‚Shadowçš„å…¨åŠ¨æ€å®ç°ã€RePluginçš„ç¨³å®šæ€§å’Œæˆç†Ÿåº¦ã€AABçš„å®˜æ–¹æ”¯æŒå’Œä¸Google Playçš„é›†æˆåº¦ã€Qigsawçš„çƒ­æ›´æ–°å’Œåˆ†åŒ…æ”¯æŒï¼Œä»¥åŠAtlasçš„åŠŸèƒ½å¼ºå¤§å’Œä¸°å¯Œçš„æ–‡æ¡£æ”¯æŒã€‚</p>
<p>åœ¨æ’ä»¶å¢é‡æ›´æ–°éƒ¨åˆ†ï¼Œæœ¬æ–‡ä»‹ç»äº†Sophixã€Bugly hotfixå’Œæ’æ¡©çƒ­æ›´æ–°è¿™ä¸‰ç§çƒ­æ›´æ–°æ–¹æ¡ˆã€‚è¿™äº›æ–¹æ¡ˆå¯ä»¥åœ¨ä¸éœ€è¦ç”¨æˆ·é‡æ–°ä¸‹è½½å’Œå®‰è£…åº”ç”¨çš„æƒ…å†µä¸‹ä¿®å¤é—®é¢˜ï¼Œå¤§å¤§æé«˜äº†ç”¨æˆ·ä½“éªŒã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®è‡ªå·±çš„å…·ä½“éœ€æ±‚å’Œé¡¹ç›®æƒ…å†µï¼Œç»¼åˆè€ƒè™‘å„ç§å› ç´ ï¼Œé€‰æ‹©æœ€é€‚åˆçš„æ–¹æ¡ˆã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»ä¸€ä¸ªâ€œä¸èƒ½è¾“è´Ÿå·â€çš„æ•°å­—è¾“å…¥æ¡†è¯´èµ·ï¼šWeb Component æ•°å­—è¾“å…¥ç»„ä»¶é‡æ„å®å½•]]></title>    <link>https://juejin.cn/post/7582861402278395938</link>    <guid>https://juejin.cn/post/7582861402278395938</guid>    <pubDate>2025-12-13T09:56:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582861402278395938" data-draft-id="7582533464246009890" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»ä¸€ä¸ªâ€œä¸èƒ½è¾“è´Ÿå·â€çš„æ•°å­—è¾“å…¥æ¡†è¯´èµ·ï¼šWeb Component æ•°å­—è¾“å…¥ç»„ä»¶é‡æ„å®å½•"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-13T09:56:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è«çŸ³"/> <meta itemprop="url" content="https://juejin.cn/user/281920608933006"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»ä¸€ä¸ªâ€œä¸èƒ½è¾“è´Ÿå·â€çš„æ•°å­—è¾“å…¥æ¡†è¯´èµ·ï¼šWeb Component æ•°å­—è¾“å…¥ç»„ä»¶é‡æ„å®å½•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/281920608933006/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è«çŸ³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-13T09:56:13.000Z" title="Sat Dec 13 2025 09:56:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-13
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>æ‹¿åˆ°éœ€æ±‚æ—¶ï¼Œå› ä¸ºå·¥æœŸè¿˜æ¯”è¾ƒå®½æ¾ï¼Œå®˜ç½‘å¼€å‘ï¼Œæˆ‘åˆåªåšå…¶ä¸­ä¸€ä¸ªç»„ä»¶ï¼Œæ¡†æ¶åˆæ²¡æœ‰å®šã€‚</p>
<p>æˆ‘å†³å®šä½¿ç”¨åŸç”Ÿå¼€å‘ï¼Œå¹¶å°è£…ä¸ºWeb Componentä»¥é€‚é…ä»»ä½•æ¡†æ¶ï¼ˆå¦‚æœä¸èƒ½é€‚é…ï¼Œè¯´æ˜æ¡†æ¶æœ‰é—®é¢˜ï¼‰ã€‚å…¶ä¸­å°±æœ‰ä¸€ä¸ªæ•°å­—è¾“å…¥æ¡†å¸¦æ‹‰æ†çš„ï¼Œæ•°å­—è¾“å…¥æ¡†å’Œæ‹‰æ†è¿™ä¸¤ä¸ªä¸œè¥¿ï¼ŒåŸç”Ÿç»„ä»¶éƒ½æœ‰ã€‚</p>
<p>äºæ˜¯åœ¨æˆ‘çš„è¦æ±‚ä¸‹ï¼Œaiå¾ˆå¿«ç»™æˆ‘å°è£…äº†ä¸€ä¸ªè¿˜å¯ä»¥çš„ä¸œè¥¿ï¼Œä¸è¿‡åé¢uiåˆå»æ‰æ‹‰æ†äº†ã€‚</p>
<p>ä¸´è¿‘å‘å¸ƒï¼Œè¦åˆä»£ç äº†ï¼ŒåŒäº‹æ‰å‘ç°è¿™ä¸ªè¾“å…¥æ¡†æœ‰ç‚¹å„¿é—®é¢˜ï¼</p>
<hr/>
<p><span href="https://code.juejin.cn/pen/7582891968616169524" class="code-editor-container"><iframe class="code-editor-frame" data-code="code-editor-element" data-code-id="7582891968616169524" data-src="https://code.juejin.cn/pen/7582891968616169524" style="display:none;" loading="lazy"/><span class="loading-placeholder" style="display:none"><img class="placeholder-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC" loading="lazy"/><span class="loading-logo"/></span></span></p>
<h2 data-id="heading-1">èµ·ç‚¹ï¼šä¸€æ®µâ€œå·®ä¸å¤šèƒ½ç”¨â€çš„ä»£ç </h2>
<p>è¿™é‡Œå°±ä¸èµ˜è¿°Web Componentçš„å¼€å‘äº†ï¼Œå› ä¸ºç¡®å®å¾ˆç®€å•ï¼Œçœ‹ä»£ç å°±è¡Œäº†ã€‚</p>
<p>è¿™æ˜¯æˆ‘æœ€åˆå†™çš„ <code>NumInput</code> ç»„ä»¶ï¼ˆä¸ºç®€æ´çœç•¥éƒ¨åˆ† CSSï¼‰ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NumInput</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">HTMLElement</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">super</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">attachShadow</span>({ <span class="hljs-attr">mode</span>: <span class="hljs-string">'open'</span> });
    <span class="hljs-comment">// ... æ¨¡æ¿é‡Œç”¨äº† &lt;input type="number" steop="0.1"&gt;</span>
  }
  <span class="hljs-title function_">_onNumberInput</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-keyword">const</span> newValue = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">clamp</span>(event.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">min</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">max</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'value'</span>, newValue);
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_dispatchEvent</span>();
  }
}
</code></pre>
<p>åŠŸèƒ½ä¸Šï¼š</p>
<ul>
<li>æ”¯æŒ <code>label</code>ã€<code>unit</code>ã€<code>min</code>ã€<code>max</code>ã€<code>step</code></li>
<li>èšç„¦æœ‰é«˜äº®æ•ˆæœ</li>
<li>å€¼å˜åŒ–ä¼šæ´¾å‘ <code>value-changed</code> äº‹ä»¶</li>
<li>è¿˜æœ‰åç¼€å•ä½</li>
</ul>
<p>çœ‹èµ·æ¥æ²¡é—®é¢˜ï¼Ÿç›´åˆ°å¥³åŒäº‹é—®æˆ‘ï¼šâ€œ<strong>ä¸ºä»€ä¹ˆæˆ‘è¾“ <code>-</code> æ²¡ååº”ï¼Ÿ</strong>â€
æˆ‘å‹æ ¹å„¿æ²¡æƒ³è¿‡æ‰‹è¾“ï¼Œå› ä¸ºè¿™ä¸ªç»„ä»¶æœ€å¼€å§‹çš„æ—¶å€™ï¼Œè¿˜æ˜¯å¸¦æ‹‰æ†çš„ï¼Œçº¯é¼ æ ‡æ“ä½œä¸€ç‚¹å„¿é—®é¢˜æ²¡æœ‰ã€‚</p>
<p>å½“ç„¶ï¼Œç°åœ¨UIå˜äº†ã€‚</p>
<hr/>
<h2 data-id="heading-2">é—®é¢˜ä¸€ï¼š<code>type="number"</code> ä¸è®©ä½ è¾“ â€œ-â€ å’Œ â€œ.â€</h2>
<p>é¦–å…ˆï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªbug,å—¯ã€‚
æˆ‘ä»”ç»†ç ”ç©¶äº†ä¸€ä¸‹åŸç”Ÿçš„æ•°å­—æ¡†çš„æœºåˆ¶ã€‚</p>
<p>1 å®æ—¶æ ¡éªŒï¼Œä½ æ¯è¾“å…¥ä¸€ä¸ªå­—ç¬¦éƒ½ä¼šæ ¡éªŒã€‚
2 åªèƒ½è¾“å…¥æ•°å­—ç›¸å…³çš„,0-9 . -</p>
<p>é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆå¥¹æ— æ³•è¾“å…¥â€œ-â€ å’Œ â€œ.â€å‘¢ï¼Ÿ</p>
<p>å®é™…ä¸Šï¼Œå¹¶ä¸æ˜¯æ— æ³•è¾“å…¥ï¼Œåªæ˜¯æ—¶æœºå’Œä½ç½®ä¸å¯¹ã€‚
å¦‚æœè¾“å…¥æ¡†ä¸­å·²ç»æœ‰ä¸€ä¸ªæ•°å­—1äº†ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä½ å°±å¯ä»¥åœ¨è¿™ä¸ªæ•°å­—å‰é¢è¾“å…¥ä¸€ä¸ª â€œ-â€ï¼Œåœ¨å®ƒåé¢è¾“å…¥ä¸€ä¸ªâ€œ.â€ï¼Œè¿™ä¸¤ç§æƒ…å†µï¼ˆ-1å’Œ1.ï¼‰éƒ½æ˜¯åˆæ³•çš„ã€‚</p>
<p>å…¶ä½™æƒ…å†µéƒ½æ˜¯ä¸åˆæ³•çš„ï¼Œæ‰€ä»¥æ— æ³•è¾“å…¥ã€‚</p>
<p><strong>ç»“è®ºï¼š<code>type="number"</code>æ ¡éªŒè¿‡äºä¸¥è‹›ï¼Œé¼ æ ‡æ“ä½œè¶³çŸ£ï¼Œä¸é€‚åˆæ‰‹åŠ¨è¾“å…¥ã€‚</strong></p>
<hr/>
<h2 data-id="heading-3">é‡æ„ç¬¬ä¸€æ­¥ï¼šæ”¾å¼ƒ <code>type="number"</code>ï¼Œæ‹¥æŠ± <code>type="text"</code></h2>
<p>ä½¿ç”¨textè¾“å…¥æ¡†ï¼Œæ„å‘³ç€ä¹‹å‰æ•°å­—æ¡†æœ‰çš„åŠŸèƒ½ï¼Œæˆ‘ç°åœ¨ä¹Ÿéƒ½è¦ä¹Ÿæœ‰ï¼Œè¿™æ˜¯è¿™ä¸ªæ‰‹åŠ¨è¾“å…¥çš„æ ¡éªŒè§„åˆ™è¦è‡ªå®šä¹‰ã€‚</p>
<p>æˆ‘æ”¹æˆäº†ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">inputmode</span>=<span class="hljs-string">"decimal"</span> /&gt;</span>
</code></pre>
<blockquote>
<p><code>inputmode="decimal"</code> èƒ½è®©ç§»åŠ¨ç«¯å¼¹å‡ºå¸¦å°æ•°ç‚¹çš„æ•°å­—é”®ç›˜ï¼Œä½“éªŒä¸é™åå‡ã€‚</p>
</blockquote>
<p>ä½†å…‰æ”¹ç±»å‹ä¸å¤Ÿï¼Œå¾—è‡ªå·±æ§åˆ¶è¾“å…¥å†…å®¹ã€‚</p>
<h3 data-id="heading-4">å®½æ¾è¿‡æ»¤ï¼Œåªæ‹¦éæ³•å­—ç¬¦</h3>
<p>åœ¨ <code>input</code> äº‹ä»¶ä¸­ï¼Œæˆ‘åªåšä¸€ä»¶äº‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">_onTextInput</span>(<span class="hljs-params">e</span>) {
  <span class="hljs-keyword">let</span> val = e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>;
  val = val.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[^0-9.\-+]/g</span>, <span class="hljs-string">''</span>); <span class="hljs-comment">// åªç•™æ•°å­—ã€ç‚¹ã€æ­£è´Ÿå·</span>
  <span class="hljs-comment">// å†å¤„ç†ç¬¦å·ä½ç½®ã€å°æ•°ç‚¹æ•°é‡...</span>
  e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span> = val;
}
</code></pre>
<p><strong>å…³é”®åŸåˆ™</strong>ï¼š</p>
<blockquote>
<p>è¾“å…¥è¿‡ç¨‹ä¸­ï¼Œ<strong>åªè¿‡æ»¤ï¼Œä¸æ ¡éªŒ</strong>ã€‚<br/>
å…è®¸ç”¨æˆ·è¾“ <code>-</code>ã€<code>.5</code>ã€<code>-12.</code>ï¼Œè¿™äº›â€œä¸­é—´çŠ¶æ€â€å¿…é¡»ä¿ç•™ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-5">é‡æ„ç¬¬äºŒæ­¥ï¼šä»€ä¹ˆæ—¶å€™æ‰è¯¥â€œè®¤çœŸâ€æ ¡éªŒï¼Ÿ</h2>
<p>è¦ä¿ç•™ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ï¼Œåˆè¦åœ¨ç»“æŸåæ ¡éªŒï¼Œä¸€èˆ¬å¯èƒ½ä¼šæƒ³åˆ°èŠ‚æµï¼Œæˆ‘è§‰å¾—å¤ªéº»çƒ¦äº†ï¼Œä¸æ˜¯æŒ‡å®ç°èŠ‚æµéº»çƒ¦ï¼Œè€Œæ˜¯èŠ‚æµè¿™ä¸ªé€»è¾‘æœ¬èº«ï¼Œä¼šä¸€ç›´åå»¶ï¼Œè®©jså¾ˆéº»çƒ¦ã€‚</p>
<p>æ‰€ä»¥ï¼Œæ€ä¹ˆåˆ¤æ–­ï¼š<strong>è¾“å…¥ç»“æŸäº†</strong>ï¼Ÿ</p>
<p>æˆ‘å®šä¹‰äº†ä¸¤ä¸ªâ€œç»“æŸä¿¡å·â€ï¼š</p>
<ol>
<li>å¤±ç„¦ï¼ˆ<code>blur</code>ï¼‰</li>
<li>æŒ‰ä¸‹å›è½¦ï¼ˆ<code>Enter</code>ï¼‰ åˆšå¼€å§‹æ²¡æƒ³åˆ°è¿™ä¸ªï¼Œç›´åˆ°æˆ‘è¾“äº†æ•°å­—æ²¡æœ‰ååº”ï¼Œä¹ æƒ¯æ€§åœ°å›è½¦äº†ä¸€ä¸‹ã€‚</li>
</ol>
<p>åœ¨è¿™ä¸¤ä¸ªæ—¶æœºï¼Œè°ƒç”¨åŒä¸€ä¸ªå‡½æ•° <code>_finalizeInput()</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">_finalizeInput</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> raw = <span class="hljs-variable language_">this</span>.<span class="hljs-property">numberEl</span>.<span class="hljs-property">value</span>.<span class="hljs-title function_">trim</span>();
  <span class="hljs-comment">// å¦‚æœæ˜¯ä¸­é—´çŠ¶æ€ï¼ˆå¦‚ '-'ï¼‰ï¼Œä¸å¤„ç†</span>
  <span class="hljs-keyword">if</span> (raw === <span class="hljs-string">''</span> || raw === <span class="hljs-string">'-'</span> || raw === <span class="hljs-string">'.'</span>) <span class="hljs-keyword">return</span>;

  <span class="hljs-keyword">let</span> num = <span class="hljs-built_in">parseFloat</span>(raw);
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">isNaN</span>(num)) {
    <span class="hljs-comment">// æ— æ•ˆï¼Ÿå›é€€åˆ°ä¸Šæ¬¡åˆæ³•å€¼</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numberEl</span>.<span class="hljs-property">value</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">'value'</span>) || <span class="hljs-string">''</span>;
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// clamp åˆ° [min, max]</span>
  num = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(num, <span class="hljs-variable language_">this</span>.<span class="hljs-property">min</span>), <span class="hljs-variable language_">this</span>.<span class="hljs-property">max</span>);

  <span class="hljs-comment">// ä¿®æ­£æµ®ç‚¹ç²¾åº¦ï¼ˆå…³é”®ï¼ï¼‰</span>
  num = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_roundToStepPrecision</span>(num, <span class="hljs-variable language_">this</span>.<span class="hljs-property">step</span>);

  <span class="hljs-variable language_">this</span>.<span class="hljs-property">numberEl</span>.<span class="hljs-property">value</span> = <span class="hljs-title class_">String</span>(num);
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">'value'</span>, num);
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_dispatchEvent</span>(); <span class="hljs-comment">// æ´¾å‘çš„æ˜¯æ•°å­—ï¼Œä¸æ˜¯å­—ç¬¦ä¸²ï¼</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-6">é—®é¢˜äºŒï¼š0.1 + 0.2 â‰  0.3ï¼Ÿ</h2>
<ul>
<li><code>0.1 + 0.2</code> â†’ æ˜¾ç¤º <code>0.30000000000000004</code>
JavaScript çš„æµ®ç‚¹ç²¾åº¦é—®é¢˜æ˜¯è€æœ‹å‹äº†ã€‚<br/>
ä½†ç”¨æˆ·ä¸å…³å¿ƒè¿™äº›ï¼Œä»–ä»¬åªçœ‹åˆ°â€œ<strong>æˆ‘ step=0.1ï¼Œæ€ä¹ˆå˜å‡ºä¸€ä¸²å°æ•°ï¼Ÿ</strong>â€</li>
</ul>
<h3 data-id="heading-7">è§£æ³•ï¼šæŒ‰ <code>step</code> çš„å°æ•°ä½æ•°å››èˆäº”å…¥</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">_roundToStepPrecision</span>(<span class="hljs-params">value, step</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Number</span>.<span class="hljs-title function_">isInteger</span>(step)) <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(value);
  <span class="hljs-keyword">const</span> decimalPlaces = step.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">'.'</span>)[<span class="hljs-number">1</span>]?.<span class="hljs-property">length</span> || <span class="hljs-number">0</span>;
  <span class="hljs-keyword">const</span> factor = <span class="hljs-number">10</span> ** decimalPlaces;
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(value * factor) / factor;
}
</code></pre>
<ul>
<li><code>step=0.1</code> â†’ ä¿ç•™ 1 ä½ â†’ <code>0.30000000000000004</code> â†’ <code>0.3</code></li>
<li><code>step=0.01</code> â†’ ä¿ç•™ 2 ä½ â†’ <code>0.13</code></li>
<li><code>step=1</code> â†’ æ•´æ•° â†’ <code>4</code></li>
</ul>
<p><strong>æ‰€æœ‰èµ‹å€¼è·¯å¾„</strong>ï¼ˆæ‰‹åŠ¨è¾“å…¥ã€ä¸Šä¸‹é”®ã€å¤–éƒ¨è®¾ç½®ï¼‰éƒ½èµ°è¿™ä¸ªä¿®æ­£ï¼Œå½»åº•å‘Šåˆ«è„æ•°å­—ã€‚</p>
<hr/>
<p>ç›‘å¬ä¸€ä¸‹å›è½¦ä½œä¸ºâ€œç¡®è®¤â€ã€‚</p>
<p>è¿™é‡Œç›´æ¥ä¸ä»…èµ°äº†å¤±ç„¦çš„é€»è¾‘ï¼Œè¿˜ä¸»åŠ¨å¤±ç„¦ï¼Œé¿å…äºŒæ¬¡â€œå¤±ç„¦â€ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">numberEl</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'keydown'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">key</span> === <span class="hljs-string">'Enter'</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_finalizeInput</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">numberEl</span>.<span class="hljs-title function_">blur</span>(); <span class="hljs-comment">// è‡ªåŠ¨å¤±ç„¦ï¼Œç»Ÿä¸€äº¤äº’</span>
  }
});
</code></pre>
<hr/>
<h2 data-id="heading-8">å…¶ä»–ç»†èŠ‚æ‰“ç£¨</h2>
<ul>
<li><strong>ä¿®å¤ typo</strong>ï¼š<code>steop="0.1"</code> â†’ <code>step="0.1"</code>ï¼ˆåˆ«ç¬‘ï¼ŒçœŸæœ‰äººå†™é”™ï¼‰</li>
<li><strong>ç§»é™¤æ— ç”¨ä»£ç </strong>ï¼šåŸå§‹ä»£ç é‡Œå£°æ˜äº† <code>rangeEl</code> ä½†æ²¡ç”¨ï¼Œåˆ æ‰</li>
<li><strong>äº‹ä»¶ä¼ æ•°å­—</strong>ï¼š<code>value-changed</code> çš„ <code>detail.value</code> æ˜¯ <code>number</code> ç±»å‹ï¼Œä¸æ˜¯å­—ç¬¦ä¸²</li>
<li><strong>å¤–éƒ¨è®¾ç½®å€¼ä¹Ÿä¿®æ­£</strong>ï¼š<code>setAttribute('value', '0.30000000000000004')</code> ä¼šè‡ªåŠ¨è½¬æˆ <code>0.3</code></li>
</ul>
<hr/>
<h2 data-id="heading-9">æœ€ç»ˆæ•ˆæœ</h2>
<p>âœ… è‡ªç”±è¾“å…¥ <code>-</code>ã€<code>.</code>ã€<code>-12.</code><br/>
âœ… æŒ‰ â†‘/â†“ æŒ‰ <code>step</code> ç²¾ç¡®å¢å‡<br/>
âœ… æŒ‰ Enter æˆ–å¤±ç„¦è‡ªåŠ¨æ ¡éªŒ+ä¿®æ­£<br/>
âœ… æ”¯æŒ <code>min</code>/<code>max</code> é™åˆ¶<br/>
âœ… ç§»åŠ¨ç«¯å¼¹å‡ºæ•°å­—é”®ç›˜<br/>
âœ… äº‹ä»¶ä¼ å‡ºå¹²å‡€çš„æ•°å­—<br/>
âœ… å®Œå…¨ Web Componentï¼Œé›¶ä¾èµ–</p>
<hr/>
<h2 data-id="heading-10">ç»“è¯­</h2>
<p>è¿™ä¸ªç»„ä»¶æœ€ç»ˆä»£ç æ¯”æœ€åˆé•¿äº†è¿‘ä¸€å€ï¼Œä½†<strong>ç”¨æˆ·ä½“éªŒæå‡æ˜¯è´¨çš„é£è·ƒ</strong>ã€‚</p>
<p>æœ‰æ—¶å€™ï¼Œçœ‹ä¼¼ç®€å•çš„åŠŸèƒ½ï¼Œæ·±æŒ–ä¸‹å»å…¨æ˜¯å‘ã€‚<br/>
ä½†æ­£æ˜¯è¿™äº›â€œå°ç»†èŠ‚â€ï¼Œå†³å®šäº†äº§å“æ˜¯â€œèƒ½ç”¨â€è¿˜æ˜¯â€œå¥½ç”¨â€ã€‚</p>
<blockquote>
<p>æœ€å,å¥³åŒäº‹çœ‹äº†ä¸€çœ¼è¯´ï¼šâ€œè¿™ä¸ªè¾“å…¥æ¡†ç»ˆäºä¸æŠ½é£äº†ã€‚â€<br/>
æˆ‘ç¬‘äº†ç¬‘ï¼Œæ²¡å‘Šè¯‰å¥¹ï¼Œæˆ‘è®©AIæ”¹äº†å››ç‰ˆã€‚</p>
</blockquote>
<p>ï¼ˆå®Œï¼‰</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç»ˆäºæœ‰äººæŠŠå¤§æ¨¡å‹è®²æ˜ç™½äº†ï¼šLLM ä»å…¥é—¨åˆ°ç²¾é€šå…¨è§£æ]]></title>    <link>https://juejin.cn/post/7583244688121348105</link>    <guid>https://juejin.cn/post/7583244688121348105</guid>    <pubDate>2025-12-14T07:27:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7583244688121348105" data-draft-id="7583324039302316083" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç»ˆäºæœ‰äººæŠŠå¤§æ¨¡å‹è®²æ˜ç™½äº†ï¼šLLM ä»å…¥é—¨åˆ°ç²¾é€šå…¨è§£æ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-14T07:27:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å±…ç„¶JuRan"/> <meta itemprop="url" content="https://juejin.cn/user/2524134427858205"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç»ˆäºæœ‰äººæŠŠå¤§æ¨¡å‹è®²æ˜ç™½äº†ï¼šLLM ä»å…¥é—¨åˆ°ç²¾é€šå…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2524134427858205/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å±…ç„¶JuRan
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-14T07:27:39.000Z" title="Sun Dec 14 2025 07:27:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-14
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å½“è®¡ç®—æœºå¼€å§‹"å­¦ä¹ ":ä¸€åœºä»æŒ‡ä»¤åˆ°æ™ºèƒ½çš„èŒƒå¼é©å‘½</h2>
<p>è¿‡å»ä¸€å¹´,äººå·¥æ™ºèƒ½å½»åº•æ”¹å˜äº†ä¸–ç•Œçš„è¿è¡Œæ–¹å¼ã€‚ChatGPTçš„å‡ºç°è®©å‡ ä¹æ¯ä¸ªè¡Œä¸šéƒ½æ„Ÿå—åˆ°äº†éœ‡åŠ¨,ä»å†™ä½œåˆ°ç¼–ç¨‹,ä»å®¢æœåˆ°æ³•å¾‹å’¨è¯¢,æˆ‘ä»¬ä¸æŠ€æœ¯äº’åŠ¨çš„æ–¹å¼æ­£åœ¨ç»å†å‰æ‰€æœªæœ‰çš„è½¬å˜ã€‚è€Œè¿™ä¸€åˆ‡çš„æ ¸å¿ƒå¼•æ“,å°±æ˜¯å¤§å‹è¯­è¨€æ¨¡å‹(Large Language Models, LLMs)ã€‚</p>
<p>å¦‚æœä½ å¯¹AIä¸€æ— æ‰€çŸ¥,æˆ–è€…åªæ˜¯å¬è¯´è¿‡ChatGPTå´ä¸æ˜ç™½å®ƒèƒŒåçš„åŸç†,è¿™ç¯‡æ–‡ç« å°†å¸¦ä½ ä»é›¶å¼€å§‹,å»ºç«‹å¯¹LLMçš„å®Œæ•´è®¤çŸ¥ã€‚ä»æœ€åŸºç¡€çš„æ¦‚å¿µåˆ°å¤æ‚çš„æŠ€æœ¯åŸç†,ä»è¾‰ç…Œçš„å‘å±•å†ç¨‹åˆ°ä»¤äººæ·±æ€çš„ä¼¦ç†æŒ‘æˆ˜,æˆ‘ä»¬å°†ä¸€ä¸€æ­å¼€è¿™é¡¹é©å‘½æ€§æŠ€æœ¯çš„ç¥ç§˜é¢çº±ã€‚</p>
<h2 data-id="heading-1">LLMæ˜¯ä»€ä¹ˆ?ä¸€æ¬¡ç¼–ç¨‹èŒƒå¼çš„æ ¹æœ¬æ€§è½¬å˜</h2>
<p>è¦ç†è§£LLM,æˆ‘ä»¬é¦–å…ˆè¦æ˜ç™½å®ƒä¸ä¼ ç»Ÿç¼–ç¨‹çš„æœ¬è´¨åŒºåˆ«ã€‚</p>
<p>ä¼ ç»Ÿç¼–ç¨‹æ˜¯<strong>åŸºäºæŒ‡ä»¤</strong>çš„â€”â€”ç¨‹åºå‘˜æ˜ç¡®å‘Šè¯‰è®¡ç®—æœº"å¦‚æœX,é‚£ä¹ˆY"ã€‚ä½ éœ€è¦ä¸ºæ¯ä¸€ç§å¯èƒ½çš„æƒ…å†µç¼–å†™è§„åˆ™,å°±åƒç»™ä¸€ä¸ªä¸¥æ ¼éµå®ˆå‘½ä»¤çš„æœºå™¨äººä¸‹è¾¾ç²¾ç¡®çš„æ“ä½œæ‰‹å†Œã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹æ‰‹å†™å­—æ¯è¯†åˆ«:ä¼ ç»Ÿæ–¹æ³•éœ€è¦ä½ ä¸ºå­—æ¯Aã€Bã€Cã€Dçš„æ¯ä¸€ç§å¯èƒ½å†™æ³•éƒ½ç¼–å†™è¯†åˆ«è§„åˆ™ã€‚ä½†æ¯ä¸ªäººçš„æ‰‹å†™é£æ ¼éƒ½ä¸åŒ,åœ†æ¶¦çš„ã€å°–é”çš„ã€æ½¦è‰çš„ã€å·¥æ•´çš„â€”â€”å¦‚ä½•ç”¨æœ‰é™çš„è§„åˆ™è¦†ç›–æ— é™çš„å¯èƒ½?</p>
<p>è¿™å°±æ˜¯LLMå¸¦æ¥çš„é©å‘½æ€§è½¬å˜:<strong>æˆ‘ä»¬ä¸å†å‘Šè¯‰è®¡ç®—æœºå¦‚ä½•åšäº‹æƒ…,è€Œæ˜¯æ•™å®ƒå¦‚ä½•å­¦ä¹ åšäº‹æƒ…</strong>ã€‚</p>
<p>LLMæ˜¯ä¸€ç§ç‰¹æ®Šçš„ç¥ç»ç½‘ç»œ,é€šè¿‡é˜…è¯»æµ·é‡çš„æ–‡æœ¬æ•°æ®â€”â€”ç½‘é¡µã€ä¹¦ç±ã€æ–‡ç« ã€å¯¹è¯è®°å½•â€”â€”æ¥å­¦ä¹ è¯­è¨€çš„æ¨¡å¼å’Œè§„å¾‹ã€‚å®ƒæ¨¡æ‹Ÿäººç±»å¤§è„‘çš„å·¥ä½œæ–¹å¼,ä¸æ˜¯é€šè¿‡æ­»è®°ç¡¬èƒŒè§„åˆ™,è€Œæ˜¯é€šè¿‡è¯†åˆ«æ•°æ®ä¸­çš„æ¨¡å¼æ¥ç†è§£å’Œç”Ÿæˆè‡ªç„¶è¯­è¨€ã€‚</p>
<p>è¿™ç§æ–¹æ³•æœ‰ä¸‰ä¸ªé©å‘½æ€§ä¼˜åŠ¿:</p>
<ol>
<li>
<p><strong>æè‡´çš„çµæ´»æ€§</strong>:åŒä¸€ä¸ªæ¨¡å‹å¯ä»¥å®Œæˆæ€»ç»“ã€ç¿»è¯‘ã€é—®ç­”ã€åˆ›æ„å†™ä½œç­‰å¤šç§ä»»åŠ¡</p>
</li>
<li>
<p><strong>æŒç»­çš„é€‚åº”æ€§</strong>:èƒ½ä»é”™è¯¯ä¸­å­¦ä¹ å¹¶è‡ªæˆ‘è°ƒæ•´,ä¸éœ€è¦é‡æ–°ç¼–ç¨‹</p>
</li>
<li>
<p><strong>æ— é™çš„æ‰©å±•æ€§</strong>:éšç€æ•°æ®å¢åŠ å’ŒæŠ€æœ¯è¿›æ­¥,èƒ½åŠ›ä¼šè‡ªç„¶æå‡</p>
</li>
</ol>
<p>è€Œä¸”è¦è®°ä½ä¸€ä¸ªä»¤äººæŒ¯å¥‹çš„äº‹å®:<strong>ä»Šå¤©çš„LLMæ˜¯å²ä¸Šæœ€å¼±çš„LLM</strong>ã€‚éšç€æ›´å¤šæ•°æ®çš„äº§ç”Ÿ(åŒ…æ‹¬å…¶ä»–AIç”Ÿæˆçš„åˆæˆæ•°æ®),è¿™äº›æ¨¡å‹åªä¼šè¶Šæ¥è¶Šå¼ºå¤§ã€‚</p>
<h2 data-id="heading-2">ä»ELIZAåˆ°GPT-4:ä¸€æ®µè·¨è¶ŠåŠä¸ªå¤šä¸–çºªçš„è¿›åŒ–å²</h2>
<p>LLMçš„æ•…äº‹è¦ä»1966å¹´è¯´èµ·ã€‚</p>
<h3 data-id="heading-3">å²å‰æ—¶ä»£:ELIZAä¸å¾ªç¯ç¥ç»ç½‘ç»œ(1966-2017)</h3>
<p>ç¬¬ä¸€ä¸ªè¯­è¨€æ¨¡å‹ELIZAè¯ç”Ÿäº1966å¹´,å®ƒé€šè¿‡é¢„è®¾å…³é”®è¯æ¥æä¾›å›ç­”,å°±åƒä¸€ä¸ªåªä¼šæŒ‰å‰§æœ¬æ¼”æˆçš„æ¼”å‘˜ã€‚å¯¹è¯å‡ ä¸ªå›åˆå,å®ƒçš„å±€é™æ€§å°±ä¼šæš´éœ²æ— é—â€”â€”æ¯•ç«Ÿ,å®ƒåªæ˜¯åœ¨æ‰§è¡Œç®€å•çš„æ¨¡å¼åŒ¹é…ã€‚</p>
<p>å°½ç®¡1972å¹´å¾ªç¯ç¥ç»ç½‘ç»œ(RNN)è·å¾—äº†"å­¦ä¹ èƒ½åŠ›",èƒ½å¤Ÿæ ¹æ®ä¸Šä¸‹æ–‡é¢„æµ‹ä¸‹ä¸€ä¸ªå•è¯,ä½†åœ¨æ¥ä¸‹æ¥çš„å‡ åå¹´é‡Œ,è¯­è¨€æ¨¡å‹çš„è¿›å±•å¼‚å¸¸ç¼“æ…¢ã€‚å³ä¾¿æ·±åº¦å­¦ä¹ åœ¨2000å¹´ä»£åˆå´­éœ²å¤´è§’,è¯­è¨€æ¨¡å‹ä»ç„¶è¿œè¿œè½åäºä»Šå¤©çš„æ°´å¹³ã€‚</p>
<h3 data-id="heading-4">è½¬æŠ˜ç‚¹:Transformeræ¶æ„æ¨ªç©ºå‡ºä¸–(2017)</h3>
<p>ä¸€åˆ‡åœ¨2017å¹´æ”¹å˜äº†ã€‚</p>
<p>Google DeepMindå›¢é˜Ÿå‘å¸ƒäº†ä¸€ç¯‡åä¸ºã€ŠAttention is All You Needã€‹(æ³¨æ„åŠ›å³ä¸€åˆ‡)çš„è®ºæ–‡,ä»‹ç»äº†ä¸€ç§å…¨æ–°çš„æ¶æ„â€”â€”<strong>Transformer</strong>ã€‚æœ‰è¶£çš„æ˜¯,Googleå½“æ—¶å¯èƒ½éƒ½æ²¡æœ‰æ„è¯†åˆ°è‡ªå·±å‘å¸ƒäº†ä»€ä¹ˆâ€”â€”è¿™ç¯‡è®ºæ–‡æœ€ç»ˆå¯å‘OpenAIå¼€å‘å‡ºäº†ChatGPT,ä¸€ä¸ªå¯èƒ½æˆä¸ºGoogleæœç´¢æœ€å¼ºç«äº‰å¯¹æ‰‹çš„äº§å“ã€‚</p>
<p>Transformerå¸¦æ¥äº†ä»€ä¹ˆ?</p>
<ul>
<li>
<p><strong>å¤§å¹…ç¼©çŸ­çš„è®­ç»ƒæ—¶é—´</strong></p>
</li>
<li>
<p><strong>è‡ªæ³¨æ„åŠ›æœºåˆ¶</strong>(Self-Attention),è®©æ¨¡å‹èƒ½ç†è§£å¥å­ä¸­è¯è¯­ä¹‹é—´çš„å¤æ‚å…³ç³»</p>
</li>
<li>
<p><strong>å¯å¹¶è¡ŒåŒ–çš„æ¶æ„</strong>,ä½¿å¤§è§„æ¨¡è®­ç»ƒæˆä¸ºå¯èƒ½</p>
</li>
</ul>
<h3 data-id="heading-5">å‚æ•°çˆ†ç‚¸æ—¶ä»£:ä»ç™¾ä¸‡åˆ°ä¸‡äº¿(2018-2023)</h3>
<p>Transformeræ‰“å¼€äº†æ½˜å¤šæ‹‰é­”ç›’ã€‚</p>
<ul>
<li>
<p><strong>2018å¹´,GPT-1</strong>:1.17äº¿å‚æ•°,å®Œå…¨é©å‘½æ€§,ä½†å¾ˆå¿«å°±è¢«è¶…è¶Š</p>
</li>
<li>
<p><strong>2018å¹´,BERT</strong>:3.4äº¿å‚æ•°,å¼•å…¥åŒå‘å¤„ç†(èƒ½åŒæ—¶ç†è§£å‰åæ–‡)</p>
</li>
<li>
<p><strong>2019å¹´,GPT-2</strong>:25äº¿å‚æ•°,è§„æ¨¡æå‡ä½†æŠ€æœ¯æœªæœ‰é‡å¤§çªç ´</p>
</li>
<li>
<p><strong>2020å¹´,GPT-3</strong>:1750äº¿å‚æ•°,å…¬ä¼—å¼€å§‹çœŸæ­£æ³¨æ„åˆ°LLMçš„æ½œåŠ›</p>
</li>
<li>
<p><strong>2022å¹´12æœˆ,ChatGPT 3.5</strong>:å¼•çˆ†å½“å‰AIæµªæ½®çš„äº§å“</p>
</li>
<li>
<p><strong>2023å¹´3æœˆ,GPT-4</strong>:æ®æŠ¥é“æœ‰1.76ä¸‡äº¿å‚æ•°,é‡‡ç”¨"æ··åˆä¸“å®¶"(Mixture of Experts)æ¶æ„â€”â€”å¤šä¸ªé’ˆå¯¹ç‰¹å®šä»»åŠ¡å¾®è°ƒçš„æ¨¡å‹ç»„åˆ,æ ¹æ®é—®é¢˜ç±»å‹æ™ºèƒ½é€‰æ‹©åˆé€‚çš„"ä¸“å®¶"æ¨¡å‹</p>
</li>
</ul>
<p>ä»ç™¾ä¸‡åˆ°ä¸‡äº¿,å‚æ•°é‡å¢é•¿äº†<strong>å…­ä¸ªæ•°é‡çº§</strong>ã€‚è¿™ä¸ä»…ä»…æ˜¯è§„æ¨¡æ‰©å¤§,æ›´æ˜¯è´¨çš„é£è·ƒâ€”â€”GPT-4çš„å‡†ç¡®æ€§ã€å¤šæ¨¡æ€èƒ½åŠ›(æ–‡å­—ã€å›¾åƒã€è¯­éŸ³)ã€æ¨ç†èƒ½åŠ›éƒ½è¾¾åˆ°äº†å‰æ‰€æœªæœ‰çš„é«˜åº¦ã€‚</p>
<h2 data-id="heading-6">æ­å¼€é»‘ç®±:LLMç©¶ç«Ÿå¦‚ä½•å·¥ä½œ?</h2>
<p>LLMçš„å·¥ä½œæµç¨‹å¯ä»¥åˆ†è§£ä¸ºä¸‰ä¸ªæ ¸å¿ƒæ­¥éª¤:<strong>åˆ†è¯â†’åµŒå…¥â†’Transformer</strong>ã€‚å¬èµ·æ¥å¾ˆæŠ€æœ¯?è®©æˆ‘ä»¬ä¸€æ­¥æ­¥æ‹†è§£ã€‚</p>
<h3 data-id="heading-7">ç¬¬ä¸€æ­¥:åˆ†è¯(Tokenization)â€”â€”æŠŠæ–‡å­—åˆ‡æˆå¯æ¶ˆåŒ–çš„å°å—</h3>
<p>LLMä¸æ˜¯ç›´æ¥å¤„ç†å®Œæ•´çš„å¥å­,è€Œæ˜¯å…ˆæŠŠå®ƒä»¬æ‹†åˆ†æˆ<strong>è¯å…ƒ(tokens)</strong>ã€‚ä¸€ä¸ªtokenå¤§çº¦ç­‰äº3/4ä¸ªè‹±æ–‡å•è¯ã€‚</p>
<p>ä¾‹å¦‚,"What is the tallest building?"ä¼šè¢«æ‹†åˆ†æˆ:</p>
<ul>
<li>"What" "is" "the" "tall" "est" "building" "?"</li>
</ul>
<p>æ³¨æ„"tallest"è¢«åˆ†æˆäº†"tall"å’Œ"est",è€Œ"building"ä¿æŒå®Œæ•´â€”â€”æ¨¡å‹ä¼šæ ¹æ®ä¸Šä¸‹æ–‡æ™ºèƒ½å†³å®šå¦‚ä½•åˆ‡åˆ†ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹å°±åƒäººç±»é˜…è¯»:æˆ‘ä»¬ä¹Ÿæ˜¯é€å­—ç†è§£,ç„¶åç»„åˆæˆå®Œæ•´æ„ä¹‰ã€‚</p>
<h3 data-id="heading-8">ç¬¬äºŒæ­¥:åµŒå…¥(Embeddings)â€”â€”ç»™æ¯ä¸ªè¯åˆ†é…GPSåæ ‡</h3>
<p>æ¥ä¸‹æ¥å‘ç”Ÿäº†ä¸€ä»¶ç¥å¥‡çš„äº‹:<strong>æ¯ä¸ªè¯å…ƒè¢«è½¬æ¢æˆä¸€ä¸²æ•°å­—å‘é‡</strong>ã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåš?å› ä¸ºè®¡ç®—æœºåªæ‡‚æ•°å­—,ä¸æ‡‚æ–‡å­—çš„"æ„ä¹‰"ã€‚ä½†é€šè¿‡ç²¾å¿ƒè®¾è®¡çš„æ•°å­¦è½¬æ¢,æˆ‘ä»¬å¯ä»¥è®©ç›¸ä¼¼çš„è¯æ‹¥æœ‰ç›¸ä¼¼çš„æ•°å­—è¡¨ç¤ºã€‚</p>
<p>è¿™äº›æ•°å­—å‘é‡è¢«å­˜å‚¨åœ¨<strong>å‘é‡æ•°æ®åº“</strong>ä¸­ã€‚ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªå·¨å¤§çš„GPSç³»ç»Ÿ,æ¯ä¸ªè¯éƒ½æœ‰è‡ªå·±çš„"åæ ‡"ã€‚</p>
<p>æ¥çœ‹ä¸€ä¸ªç»å…¸ä¾‹å­:<strong>"book"(ä¹¦)å’Œ"worm"(è™«å­)</strong></p>
<p>å•ç‹¬çœ‹,è¿™ä¸¤ä¸ªè¯æ¯«æ— å…³ç³»ã€‚ä½†å®ƒä»¬ç»å¸¸ä¸€èµ·å‡ºç°åœ¨"bookworm"(ä¹¦è™«,æŒ‡çˆ±è¯»ä¹¦çš„äºº)è¿™ä¸ªè¯ä¸­ã€‚å› æ­¤,åœ¨å‘é‡ç©ºé—´é‡Œ,å®ƒä»¬çš„"åæ ‡"ä¼šæ¯”è¾ƒæ¥è¿‘ã€‚</p>
<p>å°±åƒåœ°å›¾ä¸Šä¸¤ä¸ªç›¸è¿‘çš„åœ°æ ‡ä¼šæœ‰ç›¸ä¼¼çš„ç»çº¬åº¦ä¸€æ ·,<strong>å‘é‡æ•°æ®åº“å°±åƒç»™æ¯ä¸ªè¯åˆ†é…äº†è¯­ä¹‰GPSåæ ‡</strong>ã€‚è¿™è®©æ¨¡å‹èƒ½ç†è§£:</p>
<ul>
<li>
<p>"å›½ç‹" - "ç”·æ€§" + "å¥³æ€§" â‰ˆ "å¥³ç‹"</p>
</li>
<li>
<p>"å·´é»" - "æ³•å›½" + "æ—¥æœ¬" â‰ˆ "ä¸œäº¬"</p>
</li>
</ul>
<h3 data-id="heading-9">ç¬¬ä¸‰æ­¥:Transformerâ€”â€”é¢„æµ‹ä¸‹ä¸€ä¸ªè¯çš„é­”æ³•</h3>
<p>ç°åœ¨æˆ‘ä»¬æœ‰äº†æ•°å­—å‘é‡,Transformerç™»åœºäº†ã€‚</p>
<p>Transformeré€šè¿‡<strong>å¤šå¤´æ³¨æ„åŠ›æœºåˆ¶</strong>(Multi-Head Attention)å°†è¾“å…¥å‘é‡çŸ©é˜µè½¬æ¢ä¸ºè¾“å‡ºå‘é‡çŸ©é˜µã€‚ç®€å•æ¥è¯´,å®ƒä¼šè®¡ç®—å¥å­ä¸­æ¯ä¸ªè¯å¯¹æ•´ä½“æ„ä¹‰çš„"è´¡çŒ®åº¦"ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­:"The cat sat on the mat because it was soft."</p>
<p>å½“é¢„æµ‹ä¸‹ä¸€ä¸ªè¯æ—¶,æ¨¡å‹éœ€è¦åˆ¤æ–­"it"æŒ‡çš„æ˜¯çŒ«è¿˜æ˜¯å«å­ã€‚å¤šå¤´æ³¨æ„åŠ›æœºåˆ¶ä¼šè®¡ç®—:</p>
<ul>
<li>
<p>"it"ä¸"mat"çš„å…³ç³»å¼ºåº¦(é«˜)</p>
</li>
<li>
<p>"it"ä¸"cat"çš„å…³ç³»å¼ºåº¦(ä½)</p>
</li>
<li>
<p>"soft"è¿™ä¸ªè¯çš„ä¸Šä¸‹æ–‡æš—ç¤º(å«å­æ›´å¯èƒ½æ˜¯è½¯çš„)</p>
</li>
</ul>
<p>æœ€ç»ˆ,æ¨¡å‹é€šè¿‡è¿™äº›è®¡ç®—ç»™å‡ºæ¦‚ç‡æœ€é«˜çš„ä¸‹ä¸€ä¸ªè¯ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹çš„æ ¸å¿ƒæ˜¯<strong>æƒé‡</strong>(weights)â€”â€”æ¨¡å‹åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å­¦åˆ°çš„æ•°åäº¿ç”šè‡³æ•°ä¸‡äº¿ä¸ªå‚æ•°,å®ƒä»¬å†³å®šäº†å¦‚ä½•è¿›è¡Œè¿™äº›æ•°å­¦è½¬æ¢ã€‚è€Œè®­ç»ƒ,å°±æ˜¯ä¸æ–­è°ƒæ•´è¿™äº›æƒé‡,ç›´åˆ°æ¨¡å‹èƒ½å‡†ç¡®é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ã€‚</p>
<h2 data-id="heading-10">è®­ç»ƒLLM:ä¸€åœºçƒ§é’±çš„é©¬æ‹‰æ¾</h2>
<p>è®­ç»ƒä¸€ä¸ªå¤§å‹è¯­è¨€æ¨¡å‹éœ€è¦ä»€ä¹ˆ?<strong>æµ·é‡æ•°æ®ã€ææ€–ç®—åŠ›ã€å¤©ä»·æˆæœ¬</strong>ã€‚</p>
<h3 data-id="heading-11">æ•°æ®è§„æ¨¡:è¶…å‡ºæƒ³è±¡çš„åºå¤§</h3>
<p>è®©æˆ‘ä»¬ç”¨è§†è§‰åŒ–æ¥ç†è§£è®­ç»ƒæ•°æ®çš„è§„æ¨¡:</p>
<ul>
<li>
<p>ä¸€å°æ®µæ–‡å­— = 276ä¸ªtokens</p>
</li>
<li>
<p>ç¼©å°åˆ°ä¸€ä¸ªåƒç´  = 276ä¸ªtokens</p>
</li>
<li>
<p>æŸäº›LLMçš„è®­ç»ƒæ•°æ® = <strong>1.3ä¸‡äº¿tokens</strong></p>
</li>
<li>
<p>285ç™¾ä¸‡tokensåªå æ€»è®­ç»ƒæ•°æ®çš„<strong>0.02%</strong></p>
</li>
</ul>
<p>è¿™äº›æ•°æ®æ¥è‡ªå“ªé‡Œ?ç½‘é¡µã€ä¹¦ç±ã€Redditå¸–å­ã€X(Twitter)æ¨æ–‡ã€YouTubeå­—å¹•â€¦â€¦å‡ ä¹æ‰€æœ‰å…¬å¼€å¯è·å–çš„æ–‡æœ¬ã€‚</p>
<p>è¿™å¼•å‡ºä¸€ä¸ªå…³é”®åŸåˆ™:<strong>åƒåœ¾è¿›,åƒåœ¾å‡º</strong>(Garbage In, Garbage Out)ã€‚</p>
<p>å¦‚æœè®­ç»ƒæ•°æ®å……æ»¡åè§ã€é”™è¯¯æˆ–æœ‰å®³å†…å®¹,æ¨¡å‹ä¹Ÿä¼šå­¦åˆ°è¿™äº›ã€‚æ•°æ®è´¨é‡ç›´æ¥å†³å®šäº†æ¨¡å‹è´¨é‡,è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ•°æ®é¢„å¤„ç†â€”â€”æ¸…æ´—ã€æ ‡æ³¨ã€è½¬æ¢ã€å»é‡â€”â€”æˆä¸ºäº†ä¸€é—¨å¤æ‚çš„ç§‘å­¦ã€‚</p>
<h3 data-id="heading-12">ç®—åŠ›éœ€æ±‚:è‹±ä¼Ÿè¾¾çš„é»„é‡‘æ—¶ä»£</h3>
<p>è®­ç»ƒå¤§æ¨¡å‹éœ€è¦ä»€ä¹ˆç¡¬ä»¶?<strong>ä¸“é—¨ä¸ºLLMæ•°å­¦è¿ç®—è®¾è®¡çš„GPUèŠ¯ç‰‡</strong>ã€‚</p>
<p>è‹±ä¼Ÿè¾¾(NVIDIA)æ­£æ˜¯æŠ“ä½äº†è¿™ä¸ªæœºä¼š,å¼€å‘å‡ºé’ˆå¯¹æ·±åº¦å­¦ä¹ ä¼˜åŒ–çš„ç¡¬ä»¶,å…¶è‚¡ä»·å’Œè¥æ”¶åœ¨è¿‡å»å‡ å¹´å‡ºç°äº†<strong>çˆ†ç‚¸å¼å¢é•¿</strong>ã€‚è¿™ä¸æ˜¯å¶ç„¶â€”â€”å½“å…¨ä¸–ç•Œéƒ½åœ¨äº‰ç›¸è®­ç»ƒæ›´å¤§çš„æ¨¡å‹æ—¶,è°æŒæ¡äº†ç®—åŠ›,è°å°±æŒæ¡äº†AIæ—¶ä»£çš„çŸ³æ²¹ã€‚</p>
<p>è®­ç»ƒè¿‡ç¨‹æ˜¯è¿™æ ·çš„:</p>
<ol>
<li>
<p>å°†é¢„å¤„ç†åçš„æ–‡æœ¬æ•°æ®å–‚ç»™æ¨¡å‹</p>
</li>
<li>
<p>æ¨¡å‹å°è¯•é¢„æµ‹ä¸‹ä¸€ä¸ªè¯</p>
</li>
<li>
<p>å¯¹æ¯”é¢„æµ‹å’Œå®é™…,è°ƒæ•´æƒé‡</p>
</li>
<li>
<p>é‡å¤<strong>æ•°ç™¾ä¸‡æ¬¡</strong>,ç›´åˆ°è¾¾åˆ°æœ€ä¼˜è´¨é‡</p>
</li>
</ol>
<p>æœ€åä¸€æ­¥æ˜¯<strong>è¯„ä¼°</strong>:ç”¨é¢„ç•™çš„æµ‹è¯•æ•°æ®æ£€éªŒæ¨¡å‹è¡¨ç°,ä½¿ç”¨"å›°æƒ‘åº¦"(Perplexity)ç­‰æŒ‡æ ‡è¡¡é‡æ•ˆæœ,å†ç»“åˆäººç±»åé¦ˆ(RLHF, Reinforcement Learning from Human Feedback)è¿›è¡Œæœ€ç»ˆè°ƒä¼˜ã€‚</p>
<h3 data-id="heading-13">æˆæœ¬:ä¸ºä»€ä¹ˆåªæœ‰å·¨å¤´ç©å¾—èµ·</h3>
<p>è®­ç»ƒä¸€ä¸ªé¡¶çº§LLMéœ€è¦:</p>
<ul>
<li>
<p>æ•°åƒå—é«˜ç«¯GPU</p>
</li>
<li>
<p>è¿ç»­æ•°å‘¨ç”šè‡³æ•°æœˆçš„è¿è¡Œæ—¶é—´</p>
</li>
<li>
<p>å·¨é¢ç”µè´¹</p>
</li>
<li>
<p>ä¸“ä¸šå›¢é˜Ÿçš„å·¥ç¨‹æŠ•å…¥</p>
</li>
</ul>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆåªæœ‰OpenAIã€Googleã€Metaã€Anthropicè¿™æ ·çš„å·¨å¤´æ‰èƒ½è®­ç»ƒæœ€å‰æ²¿çš„æ¨¡å‹ã€‚ä½†å¥½æ¶ˆæ¯æ˜¯â€¦â€¦</p>
<h2 data-id="heading-14">å¾®è°ƒ:è®©æ™®é€šäººä¹Ÿèƒ½"å®šåˆ¶"AI</h2>
<p>å¦‚æœä»é›¶è®­ç»ƒä¸€ä¸ªLLMæ˜¯"å»ºé€ ä¸€åº§æ‘©å¤©å¤§æ¥¼",é‚£ä¹ˆ<strong>å¾®è°ƒ</strong>(Fine-tuning)å°±æ˜¯"è£…ä¿®ä½ çš„å…¬å¯“"ã€‚</p>
<p>å¾®è°ƒçš„é€»è¾‘å¾ˆç®€å•:æ‹¿ä¸€ä¸ªå·²ç»è®­ç»ƒå¥½çš„"åŸºç¡€æ¨¡å‹"(å¦‚GPT-3),ç”¨ä½ ç‰¹å®šé¢†åŸŸçš„æ•°æ®å¯¹å®ƒè¿›è¡Œé¢å¤–è®­ç»ƒ,è®©å®ƒåœ¨ä½ çš„ä»»åŠ¡ä¸Šè¡¨ç°æ›´å¥½ã€‚</p>
<h3 data-id="heading-15">ç»å…¸æ¡ˆä¾‹:æŠ«è¨åº—å®¢æœAI</h3>
<p>å‡è®¾ä½ æƒ³è®­ç»ƒä¸€ä¸ªAIæ¥æ¥ç”µè¯è®¢å•:</p>
<ol>
<li>
<p>æ”¶é›†çœŸå®çš„æŠ«è¨åº—å®¢æœå¯¹è¯è®°å½•</p>
</li>
<li>
<p>æ ‡æ³¨å…³é”®ä¿¡æ¯(æŠ«è¨ç§ç±»ã€å°ºå¯¸ã€é…æ–™ã€åœ°å€)</p>
</li>
<li>
<p>ç”¨è¿™äº›æ•°æ®å¾®è°ƒä¸€ä¸ªåŸºç¡€æ¨¡å‹</p>
</li>
<li>
<p>å‡ å°æ—¶æˆ–å‡ å¤©å,ä½ å°±æœ‰äº†ä¸€ä¸ªä¸“ä¸šçš„"æŠ«è¨å®¢æœAI"</p>
</li>
</ol>
<p>å¾®è°ƒçš„ä¼˜åŠ¿:</p>
<ul>
<li>
<p><strong>å¿«å¾—å¤š</strong>:ç›¸æ¯”å®Œæ•´è®­ç»ƒèŠ‚çœ90%ä»¥ä¸Šæ—¶é—´</p>
</li>
<li>
<p><strong>ä¾¿å®œå¾—å¤š</strong>:æ™®é€šå…¬å¸ä¹Ÿè´Ÿæ‹…å¾—èµ·</p>
</li>
<li>
<p><strong>æ•ˆæœæ›´å¥½</strong>:é’ˆå¯¹ç‰¹å®šä»»åŠ¡çš„å‡†ç¡®æ€§è¿œè¶…é€šç”¨æ¨¡å‹</p>
</li>
<li>
<p><strong>å¯å¤ç”¨</strong>:ä¸€ä¸ªåŸºç¡€æ¨¡å‹å¯ä»¥å¾®è°ƒå‡ºæ— æ•°ä¸ªä¸“ä¸šç‰ˆæœ¬</p>
</li>
</ul>
<p>å…³é”®ä»ç„¶æ˜¯æ•°æ®è´¨é‡ã€‚ä¸€ä¸ªå¥½çš„å¾®è°ƒæ•°æ®é›†èƒ½è®©æ¨¡å‹ç†è§£ç‰¹å®šé¢†åŸŸçš„æœ¯è¯­ã€å¯¹è¯é£æ ¼ã€å¸¸è§é—®é¢˜â€”â€”è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ•°æ®æ­£åœ¨æˆä¸ºAIæ—¶ä»£æœ€å®è´µçš„èµ„äº§ã€‚</p>
<h2 data-id="heading-16">å†·é™ä¸€ä¸‹:LLMçš„å±€é™æ€§ä¸æŒ‘æˆ˜</h2>
<p>åœ¨ä¸ºLLMçš„èƒ½åŠ›æƒŠå¹ä¹‹ä½™,æˆ‘ä»¬å¿…é¡»æ­£è§†å®ƒä»¬çš„ç¼ºé™·â€”â€”è€Œè¿™äº›ç¼ºé™·,æœ‰äº›ç”šè‡³æ˜¯æ ¹æœ¬æ€§çš„ã€‚</p>
<h3 data-id="heading-17">1. å¹»è§‰:è‡ªä¿¡çš„é”™è¯¯æ¯”ä¸ç¡®å®šçš„æ­£ç¡®æ›´å±é™©</h3>
<p>LLMæœ‰æ—¶ä¼š"å¹»è§‰"â€”â€”è‡ªä¿¡æ»¡æ»¡åœ°ç¼–é€ æ ¹æœ¬ä¸å­˜åœ¨çš„äº‹å®ã€‚</p>
<p>çœ‹è¿™ä¸ªä¾‹å­:</p>
<blockquote>
<p>é—®:"å­—ç¬¦ä¸²'abcdefghijklmno'æœ‰å¤šå°‘ä¸ªå­—æ¯?"</p>
<p>ç­”:"è¿™ä¸ªå­—ç¬¦ä¸²æœ‰16ä¸ªå­—æ¯ã€‚"</p>
</blockquote>
<p>å®é™…ä¸Šåªæœ‰15ä¸ªã€‚ä½†æ¨¡å‹ä¸ä¼šè¯´"æˆ‘ä¸ç¡®å®š",è€Œæ˜¯ä»¥å®Œå…¨çš„ç¡®å®šæ€§ç»™å‡ºé”™è¯¯ç­”æ¡ˆã€‚è¿™åœ¨åŒ»ç–—ã€æ³•å¾‹ã€é‡‘èç­‰é«˜é£é™©é¢†åŸŸå¯èƒ½é€ æˆç¾éš¾æ€§åæœã€‚</p>
<h3 data-id="heading-18">2. åè§:äººç±»çš„åŸç½ª</h3>
<p>LLMæ˜¯ä»äººç±»åˆ›é€ çš„æ•°æ®ä¸­å­¦ä¹ çš„,è€Œäººç±»æœ¬èº«å……æ»¡åè§â€”â€”æ€§åˆ«æ­§è§†ã€ç§æ—æ­§è§†ã€é˜¶çº§åè§â€¦â€¦è¿™äº›éƒ½ä¼šæ¸—é€è¿›æ¨¡å‹ã€‚</p>
<p>æŸäº›å…¬å¸è¯•å›¾é€šè¿‡"å®¡æŸ¥"æ¥è§£å†³è¿™ä¸ªé—®é¢˜,ä½†è¿™åˆå¼•å‘äº†å¦ä¸€ä¸ªäº‰è®®:è°æ¥å†³å®šä»€ä¹ˆæ˜¯"æœ‰å®³"å†…å®¹?å®¡æŸ¥çš„è¾¹ç•Œåœ¨å“ªé‡Œ?</p>
<h3 data-id="heading-19">3. çŸ¥è¯†æˆªæ­¢:æ´»åœ¨è¿‡å»çš„AI</h3>
<p>ä¼ ç»ŸLLMåªçŸ¥é“è®­ç»ƒæ—¶çš„ä¿¡æ¯ã€‚å¦‚æœå®ƒåœ¨2023å¹´1æœˆå®Œæˆè®­ç»ƒ,å®ƒå°±å¯¹ä¹‹åå‘ç”Ÿçš„ä¸€åˆ‡ä¸€æ— æ‰€çŸ¥ã€‚</p>
<p>è™½ç„¶ChatGPTç°åœ¨å¯ä»¥è”ç½‘æœç´¢,Grokå¯ä»¥è®¿é—®å®æ—¶æ¨æ–‡,ä½†è¿™äº›è§£å†³æ–¹æ¡ˆè¿˜ä¸å¤Ÿå®Œå–„,å¸¸å¸¸æ£€ç´¢åˆ°ä¸ç›¸å…³æˆ–è¿‡æ—¶çš„ä¿¡æ¯ã€‚</p>
<h3 data-id="heading-20">4. æ•°å­¦å’Œé€»è¾‘:AIçš„é˜¿å–€ç‰æ–¯ä¹‹è¸µ</h3>
<p>è®½åˆºçš„æ˜¯,å°½ç®¡LLMåœ¨åˆ›æ„å†™ä½œå’Œè¯­è¨€ç†è§£ä¸Šæ¥è¿‘äººç±»,ä½†åœ¨é€»è¾‘æ¨ç†å’Œæ•°å­¦è®¡ç®—ä¸Šä»ç„¶æŒ£æ‰â€”â€”è€Œè¿™äº›æ°æ°æ˜¯ä¼ ç»Ÿç¼–ç¨‹çš„å¼ºé¡¹ã€‚</p>
<h3 data-id="heading-21">5. æˆæœ¬å’Œèƒ½è€—:ä¸å¯æŒç»­çš„å¢é•¿?</h3>
<p>è®­ç»ƒå’Œè¿è¡Œå¤§æ¨¡å‹éœ€è¦æµ·é‡ç”µåŠ›ã€‚éšç€æ¨¡å‹è§„æ¨¡ä¸æ–­æ‰©å¤§,è¿™å¸¦æ¥äº†ä¸¥é‡çš„ç¯å¢ƒé—®é¢˜ã€‚æˆ‘ä»¬èƒ½å¦æ‰¾åˆ°æ›´é«˜æ•ˆçš„æ¶æ„?è¿™æ˜¯æ•´ä¸ªè¡Œä¸šé¢ä¸´çš„æŒ‘æˆ˜ã€‚</p>
<h3 data-id="heading-22">6. ä¼¦ç†å’Œæ³•å¾‹:æ½˜å¤šæ‹‰é­”ç›’å·²ç»æ‰“å¼€</h3>
<ul>
<li>
<p><strong>ç‰ˆæƒä¾µæƒ</strong>:è®¸å¤šæ¨¡å‹æ‰¿è®¤è®­ç»ƒæ•°æ®åŒ…å«å—ç‰ˆæƒä¿æŠ¤çš„ææ–™,æ³•å¾‹è¯‰è®¼æ­£åœ¨è¿›è¡Œä¸­</p>
</li>
<li>
<p><strong>è¢«æ¶æ„ä½¿ç”¨</strong>:LLMå¯ä»¥è¢«ç”¨äºè¯ˆéª—ã€åˆ¶é€ è™šå‡ä¿¡æ¯ã€ç”Ÿæˆæ·±åº¦ä¼ªé€ å†…å®¹</p>
</li>
<li>
<p><strong>å·¥ä½œæ›¿ä»£</strong>:å½“AIèƒ½åšäººç±»åœ¨ç”µè„‘å‰åšçš„ä¸€åˆ‡,ä»€ä¹ˆå·¥ä½œæ˜¯å®‰å…¨çš„?</p>
</li>
</ul>
<p>è¿™æœ€åä¸€ç‚¹å°¤å…¶å°–é”:<strong>å¾‹å¸ˆã€ä½œå®¶ã€ç¨‹åºå‘˜ã€å®¢æœã€åˆ†æå¸ˆâ€¦â€¦å‡ ä¹æ‰€æœ‰ç™½é¢†èŒä¸šéƒ½é¢ä¸´è¢«AIæ›¿ä»£çš„é£é™©</strong>ã€‚è¿™ä¸æ˜¯ç§‘å¹»,è¿™æ˜¯æ­£åœ¨å‘ç”Ÿçš„ç°å®ã€‚</p>
<h2 data-id="heading-23">åº”ç”¨æ— é™:LLMæ­£åœ¨é‡å¡‘çš„ä¸–ç•Œ</h2>
<p>å°½ç®¡æœ‰è¯¸å¤šå±€é™,LLMå·²ç»åœ¨ä¼—å¤šé¢†åŸŸå±•ç°äº†é©å‘½æ€§æ½œåŠ›:</p>
<ul>
<li>
<p><strong>è¯­è¨€ç¿»è¯‘</strong>:æ¥è¿‘äººç±»ç¿»è¯‘çš„å‡†ç¡®æ€§å’Œæµç•…åº¦</p>
</li>
<li>
<p><strong>ä»£ç ç”Ÿæˆ</strong>:ä»è‡ªç„¶è¯­è¨€æè¿°ç›´æ¥ç”Ÿæˆå¯è¿è¡Œçš„ç¨‹åº</p>
</li>
<li>
<p><strong>å†…å®¹åˆ›ä½œ</strong>:æ–‡ç« ã€è„šæœ¬ã€è¥é”€æ–‡æ¡ˆã€ç”šè‡³è¯—æ­Œ</p>
</li>
<li>
<p><strong>æ•™è‚²è¾…åŠ©</strong>:ä¸ªæ€§åŒ–å­¦ä¹ ã€å³æ—¶ç­”ç–‘</p>
</li>
<li>
<p><strong>å®¢æˆ·æœåŠ¡</strong>:24/7æ™ºèƒ½å®¢æœ,èƒ½ç†è§£å¤æ‚é—®é¢˜</p>
</li>
<li>
<p><strong>æ•°æ®åˆ†æ</strong>:è‡ªåŠ¨ç”ŸæˆæŠ¥å‘Šå’Œæ´å¯Ÿ</p>
</li>
<li>
<p><strong>æ³•å¾‹å’ŒåŒ»ç–—è¾…åŠ©</strong>:åˆ†ææ–‡æ¡£ã€æä¾›åˆæ­¥å»ºè®®(éœ€è¦ä¸“ä¸šäººå£«å¤æ ¸)</p>
</li>
</ul>
<p>è€Œä¸”è¿™åªæ˜¯å¼€å§‹ã€‚éšç€æŠ€æœ¯è¿›æ­¥,<strong>åŸºæœ¬ä¸Šä»»ä½•"æ€è€ƒå‹å·¥ä½œ"éƒ½å¯èƒ½è¢«AIè¾…åŠ©ç”šè‡³æ›¿ä»£</strong>ã€‚</p>
<h2 data-id="heading-24">å‰æ²¿æ¢ç´¢:LLMçš„ä¸‹ä¸€ç«™åœ¨å“ªé‡Œ?</h2>
<p>AIç ”ç©¶è€…ä»¬æ­£åœ¨å¤šä¸ªæ–¹å‘æ¨åŠ¨LLMçš„è¾¹ç•Œ:</p>
<h3 data-id="heading-25">1. çŸ¥è¯†è’¸é¦:æŠŠ"æ•™æˆ"è£…è¿›æ‰‹æœº</h3>
<p><strong>çŸ¥è¯†è’¸é¦</strong>å°±åƒæ•™æˆæŠŠå‡ åå¹´ç»éªŒæµ“ç¼©æˆæ•™ç§‘ä¹¦â€”â€”å°†å¤§æ¨¡å‹çš„çŸ¥è¯†"è½¬ç§»"åˆ°æ›´å°ã€æ›´é«˜æ•ˆçš„æ¨¡å‹ä¸­ã€‚</p>
<p>è¿™æ„å‘³ç€ä»€ä¹ˆ?æœªæ¥ä½ çš„æ‰‹æœºå¯èƒ½è¿è¡Œä¸€ä¸ªæœ¬åœ°LLM,æ— éœ€è”ç½‘å°±èƒ½æä¾›æ™ºèƒ½åŠ©æ‰‹æœåŠ¡,åŒæ—¶ä¿æŠ¤éšç§ã€‚</p>
<h3 data-id="heading-26">2. RAG:ç»™AIè£…ä¸Š"å›¾ä¹¦é¦†"</h3>
<p><strong>æ£€ç´¢å¢å¼ºç”Ÿæˆ</strong>(Retrieval-Augmented Generation, RAG)è®©LLMèƒ½æŸ¥è¯¢å¤–éƒ¨çŸ¥è¯†åº“ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸ªä¼ä¸šAIåŠ©æ‰‹,å®ƒä¸ä»…æœ‰é€šç”¨çŸ¥è¯†,è¿˜èƒ½å®æ—¶æ£€ç´¢å…¬å¸å†…éƒ¨æ–‡æ¡£ã€äº§å“æ‰‹å†Œã€å†å²è®°å½•â€”â€”è¿™å°†å½»åº•æ”¹å˜ä¼ä¸šçŸ¥è¯†ç®¡ç†ã€‚</p>
<h3 data-id="heading-27">3. æ··åˆä¸“å®¶:æœ¯ä¸šæœ‰ä¸“æ”»</h3>
<p>GPT-4å·²ç»åœ¨ç”¨çš„<strong>æ··åˆä¸“å®¶æ¶æ„</strong>:ç»´æŠ¤å¤šä¸ª"ä¸“å®¶"æ¨¡å‹,æ¯ä¸ªæ“…é•¿ç‰¹å®šé¢†åŸŸ(ä»£ç ã€åˆ›æ„å†™ä½œã€ç§‘å­¦æ¨ç†ç­‰),æ ¹æ®é—®é¢˜æ™ºèƒ½è·¯ç”±ã€‚</p>
<p>è¿™æ—¢æé«˜äº†å‡†ç¡®æ€§,åˆä¿æŒäº†è¿è¡Œæ•ˆç‡â€”â€”ä¸éœ€è¦æ¯æ¬¡éƒ½å¯åŠ¨æ•´ä¸ªå·¨å‹æ¨¡å‹ã€‚</p>
<h3 data-id="heading-28">4. å¤šæ¨¡æ€:æ‰“é€šæ„Ÿå®˜çš„AI</h3>
<p>æœªæ¥çš„LLMä¸åªç†è§£æ–‡å­—,è¿˜èƒ½å¤„ç†è¯­éŸ³ã€å›¾åƒã€è§†é¢‘ç­‰å¤šç§è¾“å…¥,å¹¶ç”Ÿæˆå¤šç§å½¢å¼çš„è¾“å‡ºã€‚æƒ³è±¡ä¸€ä¸ªAIçœ‹è§†é¢‘ã€å¬éŸ³ä¹ã€è¯»æ–‡å­—,ç„¶åç»¼åˆæ‰€æœ‰ä¿¡æ¯ç»™ä½ å»ºè®®â€”â€”è¿™å°±æ˜¯å¤šæ¨¡æ€çš„æ„¿æ™¯ã€‚</p>
<h3 data-id="heading-29">5. "æ…¢æ€è€ƒ":è®©AIå­¦ä¼šæ·±åº¦æ€è€ƒ</h3>
<p>åƒOrca 2è¿™æ ·çš„ç ”ç©¶å¼ºåˆ¶LLM"é€æ­¥æ€è€ƒ"é—®é¢˜,è€Œä¸æ˜¯ç«‹å³è·³åˆ°ç»“è®ºã€‚è¿™æ˜¾è‘—æå‡äº†æ¨ç†èƒ½åŠ›,å°¤å…¶æ˜¯åœ¨å¤æ‚é€»è¾‘é—®é¢˜ä¸Šã€‚</p>
<p>äººç±»è§£å†³éš¾é¢˜æ—¶ä¹Ÿæ˜¯å¦‚æ­¤â€”â€”å¿«é€Ÿç›´è§‰å¾€å¾€å‡ºé”™,ç¼“æ…¢åˆ†ææ‰èƒ½æ‰¾åˆ°æ­£ç¡®ç­”æ¡ˆã€‚</p>
<h3 data-id="heading-30">6. æ— é™è®°å¿†:æ‰“ç ´ä¸Šä¸‹æ–‡é™åˆ¶</h3>
<p>å½“å‰LLMçš„"è®°å¿†åŠ›"æœ‰é™(é€šå¸¸å‡ ä¸‡åˆ°å‡ åä¸‡tokens)ã€‚ä½†åƒMemGPTè¿™æ ·çš„é¡¹ç›®æ­£åœ¨ç»™LLMæ·»åŠ <strong>å¤–éƒ¨è®°å¿†ç³»ç»Ÿ</strong>,è®©å®ƒä»¬èƒ½è®°ä½é•¿æœŸå¯¹è¯å†å²ã€ç”¨æˆ·åå¥½ã€è¿‡å¾€ä»»åŠ¡â€”â€”å°±åƒäººç±»çš„é•¿æœŸè®°å¿†ã€‚</p>
<h2 data-id="heading-31">ç»“è¯­:æ°¸è¿œæ˜¯æœ€å·®çš„ä¸€å¤©</h2>
<p>è¿™æ˜¯å…³äºLLMä½ å¿…é¡»è®°ä½çš„ä¸€ä¸ªæ‚–è®º:<strong>ä»Šå¤©çš„å¤§å‹è¯­è¨€æ¨¡å‹,æ˜¯å²ä¸Šæœ€å¼ºå¤§çš„LLM,ä¹Ÿæ˜¯æœªæ¥æœ€å¼±çš„LLM</strong>ã€‚</p>
<p>ä»1966å¹´çš„ELIZAåˆ°2023å¹´çš„GPT-4,æˆ‘ä»¬è§è¯äº†ä»ç®€å•æ¨¡å¼åŒ¹é…åˆ°å‡ ä¹é€šç”¨æ™ºèƒ½çš„è·¨è¶Šã€‚ä½†è¿™ä¸æ˜¯ç»ˆç‚¹,ç”šè‡³ä¸æ˜¯ä¸­ç‚¹â€”â€”é¢„è®­ç»ƒè§„æ¨¡å®šå¾‹å‘Šè¯‰æˆ‘ä»¬,æ›´å¤šæ•°æ®ã€æ›´å¤§æ¨¡å‹ã€æ›´ä¼˜æ¶æ„,ä»å°†å¸¦æ¥æŒç»­çªç ´ã€‚</p>
<p>æˆ‘ä»¬æ­£ç«™åœ¨ä¸€ä¸ªå†å²æ€§çš„è½¬æŠ˜ç‚¹ã€‚LLMä¸ä»…ä»…æ˜¯ä¸€é¡¹æŠ€æœ¯è¿›æ­¥,å®ƒä»£è¡¨äº†<strong>ä»æŒ‡ä»¤ç¼–ç¨‹åˆ°å­¦ä¹ å‹æ™ºèƒ½çš„èŒƒå¼é©å‘½</strong>â€”â€”è®¡ç®—æœºç¬¬ä¸€æ¬¡ä¸å†æ˜¯æ‰§è¡Œå‘½ä»¤çš„å·¥å…·,è€Œæ˜¯èƒ½å¤Ÿç†è§£ã€å­¦ä¹ ã€åˆ›é€ çš„"æ™ºèƒ½ä½“"ã€‚</p>
<p>è¿™åœºé©å‘½å……æ»¡å¸Œæœ›,ä¹Ÿå……æ»¡æŒ‘æˆ˜ã€‚å®ƒå¯èƒ½æå¤§æå‡äººç±»ç”Ÿäº§åŠ›,è§£å†³å¤æ‚é—®é¢˜;ä¹Ÿå¯èƒ½åŠ å‰§ä¸å¹³ç­‰,å¨èƒå°±ä¸š,å¼•å‘ä¼¦ç†å±æœºã€‚</p>
<p>ä½†æœ‰ä¸€ç‚¹æ˜¯ç¡®å®šçš„:<strong>AIä¸ä¼šåœæ­¢è¿›åŒ–,è€Œæˆ‘ä»¬å¿…é¡»è·Ÿä¸Šå®ƒçš„æ­¥ä¼</strong>ã€‚</p>
<p>ç†è§£LLMçš„å·¥ä½œåŸç†,ä¸ä»…æ˜¯ä¸ºäº†ä½¿ç”¨è¿™äº›å·¥å…·,æ›´æ˜¯ä¸ºäº†åœ¨AIæ—¶ä»£ä¿æŒæ¸…é†’çš„åˆ¤æ–­â€”â€”çŸ¥é“å®ƒä»¬èƒ½åšä»€ä¹ˆã€ä¸èƒ½åšä»€ä¹ˆ,çŸ¥é“æœºä¼šåœ¨å“ªé‡Œã€é£é™©åœ¨å“ªé‡Œã€‚</p>
<p>å› ä¸ºæ— è®ºä½ æ¥å—ä¸å¦,è¿™ä¸ªç”±å¤§å‹è¯­è¨€æ¨¡å‹é©±åŠ¨çš„æ–°ä¸–ç•Œ,å·²ç»åˆ°æ¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>