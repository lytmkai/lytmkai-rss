<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[æˆ‘çš„2025å¹´åº¦æ€»ç»“ï¼šEasyEditor]]></title>    <link>https://juejin.cn/post/7588300640600096774</link>    <guid>https://juejin.cn/post/7588300640600096774</guid>    <pubDate>2025-12-28T19:28:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588300640600096774" data-draft-id="7588680081326997546" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘çš„2025å¹´åº¦æ€»ç»“ï¼šEasyEditor"/> <meta itemprop="keywords" content="å‰ç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-28T19:28:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JinSo"/> <meta itemprop="url" content="https://juejin.cn/user/2041171430876333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘çš„2025å¹´åº¦æ€»ç»“ï¼šEasyEditor
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2041171430876333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JinSo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T19:28:21.000Z" title="Sun Dec 28 2025 19:28:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>è¿™ä»½å¹´åº¦æ€»ç»“å¿ƒå¿ƒå¿µå¿µæŒºä¹…äº†ï¼Œä»2025å¹´11æœˆ8å·æ¥åˆšæœé‡‘å‡ºå·®ä¹‹å‰å°±æ‰“ç®—å†™ï¼Œåœ¨è¿™è¾¹å…œå…œè½¬è½¬ã€ç£¨ç£¨è¹­è¹­ï¼Œä¸€ç›´æ‹–åˆ°12æœˆ22å·å‡Œæ™¨3ç‚¹å¤šæ‰åŠ¨ç¬”ï¼ˆæŒ‰å½“åœ°æ—¶é—´æ˜¯21å·æ™šä¸Š9ç‚¹å¤šï¼Œæœ‰6å°æ—¶æ—¶å·®ï¼‰ã€‚</p>
<p>ä»Šå¹´åˆæ˜¯å……æ»¡æˆé•¿çš„ä¸€å¹´ï¼Œæ„Ÿè§‰å¯¹è‡ªå·±æœ‰äº†å…¨æ–°çš„è®¤çŸ¥ã€‚å°±åƒç½‘ä¸Šè¯´çš„ï¼šç¨‹åºå‘˜çš„å‰ä¸‰å¹´è¿›æ­¥æœ€å¤§ï¼ˆåº”è¯¥å·®ä¸å¤šå§~ï¼‰ã€‚</p>
<p>è¿˜æ˜¯å’Œä¹‹å‰ä¸€æ ·ï¼Œå…ˆåˆ—åˆ—ä»Šå¹´çš„äº§å‡ºã€‚</p>
<h2 data-id="heading-0">EasyEditor</h2>
<p>å…ˆæ¥è¯´è¯´æˆ‘æœ€æ ¸å¿ƒçš„äº§å‡ºâ€”â€”<strong>EasyEditor</strong>ï¼Œä¸€ä¸ªç”¨äºæ„å»ºå¯è§†åŒ–åº”ç”¨å¹³å°çš„æ’ä»¶åŒ–è·¨æ¡†æ¶ä½ä»£ç å¼•æ“ã€‚å®ƒèæ±‡äº†æˆ‘æ‰€å­¦çš„ç²¾åå’Œå…¬å¸ä½ä»£ç å¼•æ“çš„ç»éªŒï¼Œæ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„ä¹‰çš„äº§ç‰©ã€‚è€Œä¸”ä¸ä»…ä»…æ˜¯ä½ä»£ç æœ¬èº«ï¼Œå®ƒä¹Ÿæˆä¸ºäº†æˆ‘å­¦ä¹ çš„åŸºåº§ï¼Œåé¢ä¼šè®²åˆ°çš„è„šæ‰‹æ¶ã€æ–‡æ¡£ã€AIç­‰ç­‰ï¼Œéƒ½æ˜¯ä»è¿™é‡Œå»¶ä¼¸å‡ºæ¥çš„åˆ†æ”¯ã€‚</p>
<blockquote>
<p>è™½ç„¶ä¸‹åŠå¹´ä¹‹åæ–­æ–­ç»­ç»­çš„ï¼Œä½†æˆ‘è¿˜æ˜¯æƒ³ç€ä¼šç»§ç»­æŠŠå®ƒåšä¸‹å»ã€‚</p>
</blockquote>
<h3 data-id="heading-1">å¼€å‘å†ç¨‹</h3>
<p><strong>1-2æœˆï¼šæ ¸å¿ƒåŠŸèƒ½å¼€å‘</strong></p>
<p>å¤§æ¦‚åœ¨1-2æœˆä»½ï¼Œå› ä¸ºä¸´è¿‘è¿‡å¹´æ¯”è¾ƒç©ºé—²ï¼ŒåŸºæœ¬ä¸€æœ‰æ—¶é—´å°±å»å¼€å‘ EasyEditorï¼ˆå…´è¶£çœŸçš„æ˜¯æœ€å®¹æ˜“ä½¿äººç€è¿·å’Œä¸“æ³¨çš„ä¸œè¥¿ï¼‰ã€‚äºŒæœˆåˆçš„æ—¶å€™å®Œæˆäº†ä½ä»£ç å¼•æ“çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯ core + rendererï¼ˆæ¸²æŸ“å™¨ï¼‰ã€‚</p>
<p>å½“æ—¶è¿˜å‘äº†ä¸€ç¯‡æ–‡ç« ä»‹ç»å®ƒï¼š</p>
<p><a href="https://juejin.cn/post/7469053195282890764" target="_blank" title="https://juejin.cn/post/7469053195282890764">EasyEditor: ä¸€ä¸ªé¢å‘æ‰©å±•çš„è·¨æ¡†æ¶ä½ä»£ç å¼•æ“</a></p>
<p>ä½†åå“å¹¶ä¸å¥½ã€‚æ€è€ƒäº†ä¸€ä¸‹ï¼Œå†çœ‹çœ‹å…¶ä»–å¼€æºæ¡†æ¶ï¼Œå‘ç°ç¼ºå°‘ä¸€ä¸ªè‰¯å¥½çš„å…¥å£è®©å¤§å®¶äº†è§£å’Œä½¿ç”¨å®ƒï¼Œä¹Ÿå°±æ˜¯æ–‡æ¡£ã€‚æŒ‰ç¨‹åºå‘˜çš„ä¹ æƒ¯ï¼Œéƒ½ä¼šå…ˆçœ‹æ–‡æ¡£æ¥äº†è§£å’Œå­¦ä¹ ä½¿ç”¨ã€‚æ‰€ä»¥å°±æš‚åœäº†æ ¸å¿ƒå†…å®¹çš„å¼€å‘ï¼Œè½¬è€Œå»å­¦ä¹  VitePressï¼Œæƒ³é€šè¿‡æ–‡æ¡£çœ‹çœ‹èƒ½ä¸èƒ½æ‰¾åˆ°å¿—åŒé“åˆçš„å°ä¼™ä¼´ä¸€èµ·å¼€å‘ï¼Œæ¯•ç«Ÿä¸€ä¸ªäººçš„åŠ›é‡è¿˜æ˜¯å¤ªå°äº†ã€‚</p>
<p><strong>4æœˆï¼šæ–‡æ¡£å‘å¸ƒ</strong></p>
<p>ç»ˆäºåœ¨å››æœˆåˆå®Œæˆäº†æ–‡æ¡£çš„å¼€å‘ã€‚è¿™é‡Œå…è®¸æˆ‘ï¼ˆåšé¢œæ— è€»åœ°ï¼‰æ¨å¹¿ä¸€ä¸‹ EasyEditorï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Feasy-editor-docs.vercel.app%2F" target="_blank" title="https://easy-editor-docs.vercel.app/" ref="nofollow noopener noreferrer">EasyEditor: ç”¨äºæ„å»ºå¯è§†åŒ–åº”ç”¨å¹³å°çš„æ’ä»¶åŒ–è·¨æ¡†æ¶ä½ä»£ç å¼•æ“</a></p>
<p>ç„¶åç»§ç»­å‘æ–‡ç« ï¼Œé€šè¿‡æ–‡æ¡£æ¥æ¨å¹¿ EasyEditorï¼Œæœ¬ä»¥ä¸ºå’Œä¹‹å‰ä¸€æ ·ï¼Œå°±å‡ åä¸ªäººçœ‹çœ‹ã€‚</p>
<p><a href="https://juejin.cn/post/7494546904756486178" target="_blank" title="https://juejin.cn/post/7494546904756486178">EasyEditor æ–‡æ¡£æ­£å¼å‘å¸ƒå•¦ï¼</a></p>
<p>ä½†ä¸‡ä¸‡æ²¡æƒ³åˆ°çš„æ˜¯ï¼Œå®ƒå±…ç„¶çˆ†äº†ã€‚æˆ‘è‡ªå·±éƒ½éœ‡æƒŠäº†ï¼Œæƒ³ä¸é€šä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¹ˆå¤šäººé˜…è¯»ï¼Œæ–‡ç« å†…å®¹å…¶å®æŒºç®€å•çš„ï¼Œè¿æˆ‘è‡ªå·±éƒ½è§‰å¾—å†™å¾—æ¯”è¾ƒè‰ç‡ã€‚å½“æ—¶è¿˜ä¸“é—¨å‘äº†æ¡æœ‹å‹åœˆè®°å½•è¿™ä¸ªæ—¶åˆ»ï¼š</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64d3570ab14b4e468b027ba3326778bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmluU28=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767554901&amp;x-signature=zo9kgpvowpz0L0kIDjdoUhOIhUo%3D" alt="y1.png" loading="lazy"/></p>
<p>ç›¸æ¯”ä¹‹å‰çš„å‡ åé˜…è¯»é‡ï¼Œè¿™æ¬¡å°†è¿‘2wäººé˜…è¯»ï¼Œç»™äº†æˆ‘å¾ˆå¤§çš„åŠ¨åŠ›ã€‚</p>
<p><strong>4æœˆåº•ï¼šEasyDashboard å¼€å‘</strong></p>
<p>ç´§æ¥ç€å°±å¼€å§‹å¼€å‘ EasyDashboardï¼ŒåŸºäº EasyEditor çš„æ•°æ®å¯è§†åŒ–å¤§å±è§£å†³æ–¹æ¡ˆã€‚å½“æ—¶è¿˜æ‹‰ç€æœ‹å‹ä¸€èµ·æï¼Œå››æœˆåº•å®Œæˆäº†ä¸€ä¸ªåˆç‰ˆï¼ŒåŒ…å«åŸºæœ¬çš„æ‹–æ‹‰æ‹½ã€é…ç½®ã€äº¤äº’ã€äº‹ä»¶ä»¥åŠé¢„è§ˆç­‰åŸºç¡€åŠŸèƒ½ã€‚ï¼ˆè¿™ä¸ªå…¶å®æŒºæ—©å°±å¼€å§‹åšäº†ï¼Œä½†ä¸€ç›´æ˜¯å½“ä½œ core çš„è°ƒè¯• demo æ¥ç”¨çš„ï¼Œåæ¥æ‰æŠŠå®ƒæ•´ä½“è¿å‡ºå»å˜æˆç°åœ¨çš„ EasyDashboardã€‚ï¼‰</p>
<p>ç„¶åä¸€æ°”å‘µæˆå®Œæˆäº†æµ‹è¯•ã€éƒ¨ç½²å’Œæ–‡ç« æ¨å¹¿ã€‚</p>
<p><a href="https://juejin.cn/post/7496029815637934099" target="_blank" title="https://juejin.cn/post/7496029815637934099">EasyDashboardï¼šåŸºäº EasyEditor çš„æ•°æ®å¯è§†åŒ–å¤§å±è§£å†³æ–¹æ¡ˆ</a></p>
<p>æ–‡ç« åˆä¸€æ¬¡çˆ†äº†ï¼Œè€Œä¸”é‚£æ®µæ—¶é—´å…¬ä¼—å·ç²‰ä¸ä¹Ÿæ˜¯è¹­è¹­åœ°æ¶¨ï¼Œä»å‡ åä¸ªäººæ¶¨åˆ°äº†300å¤šã€‚å®Œå…¨å°±åƒåšæ¢¦ä¸€æ ·ã€‚</p>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5672418b03564ee1b9b3bb22619033c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmluU28=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767554901&amp;x-signature=Hw%2Btu5LN2kCS1Fni%2B0dKnPWxcO0%3D" alt="y2.png" loading="lazy"/></p>
<p><strong>5æœˆï¼šGitHub çˆ†å‘</strong></p>
<p>5æœˆåˆçš„æ—¶å€™ï¼ŒEasyEditor é¡¹ç›®ä¹Ÿçˆ†äº†ï¼Œstar è¹­è¹­å¾€ä¸Šæ¶¨ï¼Œä»å‡ ä¸ªé£é€Ÿæ¶¨åˆ°æœ€ç»ˆçš„300å¤šä¸ªï¼ˆè™½ç„¶ä¸å¤šï¼Œä½†å¯¹æˆ‘æ¥è¯´å·²ç»ç®—æ˜¯è£èª‰äº†ï¼‰ã€‚è¿™ä¹Ÿå¤šäºäº†é˜®è€å¸ˆï¼Œé¡¹ç›®æœ‰å¹¸ä¸Šäº†ä»–çš„å‘¨åˆŠæ¨å¹¿äº†ä¸€æ³¢ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fruanyf%2Fweekly%2Fissues%2F6739" target="_blank" title="https://github.com/ruanyf/weekly/issues/6739" ref="nofollow noopener noreferrer">github.com/ruanyf/weekâ€¦</a></p>
<h3 data-id="heading-2">åç»­æ‰©å±•</h3>
<p>é‚£æ®µæ—¶é—´å°±è·Ÿæ‰“äº†é¸¡è¡€ä¸€æ ·ï¼Œéå¸¸äº¢å¥‹ã€‚å…ˆæ˜¯æŠŠä¹‹å‰ç ”ç©¶ VitePress æ–‡æ¡£çš„å†…å®¹è¿›è¡Œäº†æ€»ç»“å’Œè¾“å‡ºï¼š</p>
<p><a href="https://juejin.cn/post/7500238824267841546" target="_blank" title="https://juejin.cn/post/7500238824267841546">VitePress åŸºæœ¬ä½¿ç”¨</a></p>
<p><a href="https://juejin.cn/post/7508591120407576586" target="_blank" title="https://juejin.cn/post/7508591120407576586">VitePress å½©è™¹åŠ¨ç”»</a></p>
<p>ç„¶åè§‰å¾—æœ‰äº†æ–‡æ¡£è¿˜ä¸å¤Ÿï¼Œå¦‚æœç”¨æˆ·æƒ³ä½¿ç”¨çš„è¯ï¼Œéƒ¨ç½²å®‰è£…çš„æˆæœ¬å¤ªé«˜äº†ã€‚äºæ˜¯æœ‰äº†å¼€å‘è„šæ‰‹æ¶çš„æƒ³æ³•ï¼Œç»§ç»­å­¦ä¹ ç›¸å…³çŸ¥è¯†ï¼Œå¼€å‘å‡ºäº† <strong>create-easy-editor</strong>ã€‚</p>
<p><a href="https://juejin.cn/post/7513777705889415179" target="_blank" title="https://juejin.cn/post/7513777705889415179">create-easy-editor â€”â€” å¿«é€Ÿæ­å»ºä½ çš„å¯è§†åŒ–ç¼–è¾‘å™¨</a></p>
<p>æ¥ç€å°±æ˜¯åœ¨è¿™ä¸ª"å­¦ä¹ åŸºåº§"ä¸Šè¡ç”Ÿäº†å¾ˆå¤šåŠŸèƒ½ï¼Œå®Œå…¨æ˜¯å…´è¶£é©±åŠ¨ã€‚</p>
<p><strong>æ•°æ®æºåŠŸèƒ½ï¼š</strong> è®©å¤§å±æ”¯æŒè°ƒç”¨æ¥å£æ•°æ®ã€‚è™½ç„¶åªè€ƒè™‘äº† HTTP ä¸€ç§æ–¹æ¡ˆï¼Œæ¯”è¾ƒç®€å•ï¼Œä½†æœ€ç»ˆåå“è¿˜ä¸é”™ã€‚</p>
<p><a href="https://juejin.cn/post/7518475441171464207" target="_blank" title="https://juejin.cn/post/7518475441171464207">EasyDashboard æ•°æ®æºåŠŸèƒ½æ¥å•¦ï¼</a></p>
<p><strong>AI èŠå¤©åŠ©æ‰‹ï¼š</strong> éšç€ AI å¤§çˆ†å‘ï¼Œå„å¤§å¹³å°äº‰å…ˆæåä¸Šæ¶ AI åŠŸèƒ½ï¼Œæˆ‘ä¹Ÿæƒ³äº†è§£ä¸€ä¸‹ï¼Œå°±ç®€å•å­¦ä¹ åç»™ EasyDashboard åŠ äº†ä¸ª AI è¾…åŠ©æ­å»ºåŠŸèƒ½ã€‚ï¼ˆæœ€éº»çƒ¦çš„è¿˜æ˜¯æç¤ºè¯å·¥ç¨‹ï¼ï¼‰</p>
<p><a href="https://juejin.cn/post/7524732094208163878" target="_blank" title="https://juejin.cn/post/7524732094208163878">EasyEditor AI èŠå¤©åŠ©æ‰‹ï¼šè®©ä½ä»£ç å¼€å‘æ›´ç®€å•</a></p>
<p>åæ¥æƒ³æ‰©å±•è¡¨å•è¿™å—å†…å®¹ï¼Œä½†ä¹‹å‰äº†è§£å¾—æ¯”è¾ƒå°‘ï¼Œå®è·µèµ·æ¥æ¯”è¾ƒå›°éš¾ã€‚åŠ ä¸Šä¸‹åŠå¹´å…¬å¸å¼€å§‹å¿™èµ·æ¥ï¼Œç©ºä½™æ—¶é—´è¶Šæ¥è¶Šå°‘ï¼Œå¦ä¸€æ–¹é¢è‡ªå·±ä¹Ÿè¢«å…¶ä»–ä¸œè¥¿å¸å¼•ï¼Œå°±æš‚æ—¶åœåœ¨é‚£äº†ã€‚ï¼ˆå…¶å®å°±æ˜¯å¤ªæ‡’äº†ï¼‰</p>
<hr/>
<h2 data-id="heading-3">å…¶ä»–æŠ€æœ¯äº§å‡º</h2>
<p>å›è¿‡å¤´æ¥è¯´è¯´å·¥ä½œçš„å…¶ä»–å†…å®¹ï¼Œè¿˜æ˜¯æŒ‰æ–‡ç« æ—¶é—´çº¿æ¥èŠèŠæ¯”è¾ƒé‡è¦çš„åŠŸèƒ½ã€‚</p>
<p>äºŒæœˆåº•åœ¨å¼€å‘å…¬å¸å†…éƒ¨ä½ä»£ç å¼•æ“æ—¶ï¼Œè§‰å¾—å‘å¸ƒæµç¨‹å¤ªéº»çƒ¦ï¼Œåœ¨ç½‘ä¸Šæœç´¢åäº†è§£åˆ° changeset å¯ä»¥ç®€åŒ– monorepo ä¸­çš„å‘å¸ƒã€‚ï¼ˆè¿™äº›ä¸œè¥¿æœ€ç»ˆéƒ½åº”ç”¨åˆ°äº†æˆ‘çš„"å­¦ä¹ åŸºåº§"ä¸Šï¼‰</p>
<p><a href="https://juejin.cn/post/7471953366445735988" target="_blank" title="https://juejin.cn/post/7471953366445735988">Changesets: ä¸€ä¸ªé«˜æ•ˆçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·</a></p>
<p><a href="https://juejin.cn/post/7474503566154350632" target="_blank" title="https://juejin.cn/post/7474503566154350632">ä»é›¶åˆ°ä¸€ï¼šå®ç° Changesets è‡ªåŠ¨åŒ–å‘ç‰ˆå…¨æµç¨‹</a></p>
<p>ä¸‰æœˆä»½æœ‰ä¸ªå›½é™…åŒ–éœ€æ±‚ï¼Œéœ€è¦è®¾è®¡ä¸€å¥—è§£å†³æ–¹æ¡ˆã€‚å½“æ—¶å’Œ mentor è®¨è®ºäº†å‡ ç§æ–¹æ¡ˆï¼Œæœ€ç»ˆå†³å®šä¸ç”¨æ¡†æ¶ï¼Œæ‰‹å†™äº†ä¸€ä¸ªæŒ‰è·¯ç”±æ‹†åˆ†çš„æ–¹æ¡ˆï¼Œæ¥å‡å°‘è¯­è¨€åŒ…ä½“ç§¯ã€‚</p>
<p><a href="https://juejin.cn/post/7479452347715158079" target="_blank" title="https://juejin.cn/post/7479452347715158079">å›½é™…åŒ–æ¢ç´¢ï¼šé¢—ç²’åŒ–æ–¹æ¡ˆ</a></p>
<p><a href="https://juejin.cn/post/7481964029797826572" target="_blank" title="https://juejin.cn/post/7481964029797826572">å›½é™…åŒ–æ¢ç´¢ï¼šæå‡å¼€å‘ä½“éªŒä¸çµæ´»æ€§</a></p>
<p><strong>å…¶ä»–é›¶ç¢äº§å‡ºï¼š</strong></p>
<p><a href="https://juejin.cn/post/7557619202184233002" target="_blank" title="https://juejin.cn/post/7557619202184233002">alien-signals ç³»åˆ— â€”â€” è®¤è¯†ä¸‹ä¸€ä»£å“åº”å¼æ¡†æ¶</a></p>
<p><a href="https://juejin.cn/post/7562188129949712419" target="_blank" title="https://juejin.cn/post/7562188129949712419">pnpm monorepo è”è°ƒï¼šå‘Šåˆ« --global å‚æ•°</a></p>
<p><a href="https://juejin.cn/post/7575090551356686388" target="_blank" title="https://juejin.cn/post/7575090551356686388">Ultraciteï¼šä¸º AI æ—¶ä»£æ‰“é€ çš„é›¶é…ç½®ä»£ç è§„èŒƒå·¥å…·</a></p>
<hr/>
<h2 data-id="heading-4">è§’è‰²è½¬å˜</h2>
<p>ä¸‹åŠå¹´å¼€å§‹ï¼ŒåŸºæœ¬åœ¨å¿™å…¶ä»–äº‹æƒ…ï¼Œä¸»è¦æœ‰å‡ æ–¹é¢åŸå› ï¼š</p>
<ol>
<li>è§’è‰²å˜åŒ–</li>
<li>äº§å“éœ€æ±‚</li>
<li>å˜èº« mentor</li>
<li>å…¨æ ˆå‘å±•</li>
</ol>
<h3 data-id="heading-5">ä»å†™ä»£ç åˆ°å¯¹æ¥å®¢æˆ·</h3>
<p>ä»ä¸€ä¸ªåªä¼šæ•²ä»£ç çš„ç¨‹åºå‘˜å¼€å§‹ï¼Œåªä¼šæ ¹æ®éœ€æ±‚å®ç°ï¼Œæ…¢æ…¢å¼€å§‹å¯¹æ¥é¡¹ç›®ã€å¯¹æ¥å®¢æˆ·ï¼Œäº†è§£éœ€æ±‚æ¥æºå’Œå®¢æˆ·çš„çœŸå®æƒ³æ³•ï¼Œäº†è§£ä»–ä»¬æœ€ç»ˆæƒ³è¦çš„æ˜¯ä»€ä¹ˆã€‚</p>
<blockquote>
<p>å› ä¸ºå…¬å¸ç›®å‰ä¸šåŠ¡æ›´åå‘é¡¹ç›®åˆ¶ï¼Œå¤§éƒ¨åˆ†éœ€æ±‚æ¥è‡ªå®¢æˆ·ã€‚</p>
</blockquote>
<p>å¤§æ¦‚ä¸‰æœˆåº•å¼€å§‹é€æ¸æ¥è§¦å®¢æˆ·ï¼Œä»ä¸€ä¸ªé¡¹ç›®æ…¢æ…¢æ¥ã€‚å¹´ä¸­æ—¶è¿˜å› ä¸ºè¿™ä¸ªæ‹¿äº†ä»½å¹´ä¸­å¥–ã€‚ä¸‹åŠå¹´é¡¹ç›®æ¸æ¸å¤šèµ·æ¥åï¼Œæ‰‹ä¸Šå¤„ç†çš„ä¸šåŠ¡ä¹Ÿå˜å¤šäº†ã€‚è®°å¾—æœ€å¿™çš„æ—¶å€™åŒæ—¶å¤„ç†4-5ä¸ªé¡¹ç›®ï¼Œå·¥ä½œé‡éå¸¸é¥±å’Œã€‚</p>
<p>ä½†ç°åœ¨å¯¹ä¸šåŠ¡è¶Šæ¥è¶Šç†Ÿæ‚‰äº†ï¼Œæ•´ä½“æµç¨‹ä¹Ÿæœ‰äº†å¤§è‡´æ¦‚å¿µã€‚</p>
<h3 data-id="heading-6">å­¦ä¹ äº§å“æ€ç»´</h3>
<p>å¼€å§‹æ¥è§¦äº§å“çš„å·¥ä½œï¼Œå‡ºäº†ä¸¤ä¸ªäº§å“éœ€æ±‚ã€‚</p>
<p><strong>ç¬¬ä¸€ä¸ªï¼šåˆ†éƒ¨åˆ†é¡¹ç›®å½•æ ‘éœ€æ±‚</strong></p>
<p>è®°å¾—å½“æ—¶ mentor è®©æˆ‘æ¥è®¾è®¡ï¼Œæˆ‘å…¶å®æŒºæ‡µçš„ï¼Œè¿™å—å®Œå…¨æ²¡æ¦‚å¿µã€‚</p>
<p>å½“æ—¶å­¦ä¹ äº†è§£äº† Axure ç”»å›¾ã€è“æ¹–ä¸Šä¼ ç­‰ç­‰ï¼Œæ‘¸ç´¢äº†å¥½ä¸€ä¼šã€‚ç„¶åæŒ‰è‡ªå·±æƒ³æ³•å…ˆè®¾è®¡äº†ä¸€ç‰ˆï¼Œä¸­é€”è¿˜å‚è€ƒä¹‹å‰çš„éœ€æ±‚å›¾ï¼Œæ¢³ç†åº”è¯¥æ€ä¹ˆå†™éœ€æ±‚ï¼Œæ€ä¹ˆè®©æµç¨‹æ›´æ¸…æ™°...</p>
<p>å®šå®Œä¸€ç‰ˆåå»å’Œäº§å“è®¨è®ºï¼Œæ‰å‘ç°æœ‰å¾ˆå¤šæ¼æ´â€”â€”éƒ½æ˜¯ä»¥ç¨‹åºå‘˜è§’åº¦æ€è€ƒçš„ï¼Œæ²¡è€ƒè™‘è¿‡å®¢æˆ·å®é™…æ€ä¹ˆç”¨ã€å¥½ä¸å¥½ç”¨ï¼Œå®Œå…¨æ²¡æœ‰ç«™åœ¨å®¢æˆ·è§’åº¦æƒ³è¿™ä»¶äº‹ã€‚</p>
<p>èŠå®Œåæå‡ºäº†å¾ˆå¤šé—®é¢˜ï¼Œæˆ‘å†åŠ ä»¥å®Œå–„ï¼Œæ‰æ„Ÿè§‰å‹‰å¼ºèƒ½å½¢æˆé—­ç¯ã€‚</p>
<p><strong>ç¬¬äºŒä¸ªï¼šå¤§å±ç›¸å…³éœ€æ±‚</strong></p>
<p>è¿™ä¸ªéœ€æ±‚å…¶å®æ˜¯æˆ‘è‡ªå·±æçš„ï¼Œå› ä¸ºè§‰å¾—é‚£å—ä½¿ç”¨æ¯”è¾ƒæ··ä¹±ã€‚å’Œ mentor æè®®åå°±å¼€å§‹è®¾è®¡ï¼Œæ‰¾äº†å¾ˆå¤šç«å“å‚è€ƒï¼Œå„æœ‰ç‰¹è‰²ï¼Œç»¼åˆäº†å…¶"ç²¾å"è®¾è®¡å‡ºä¸€ç‰ˆï¼Œç„¶åæ‰¾äº§å“è®²è§£è®¨è®ºï¼Œçœ‹çœ‹æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå†è¿›è¡Œä¿®æ”¹ã€‚</p>
<h3 data-id="heading-7">å˜èº« Mentor</h3>
<p><strong>ç¬¬ä¸€æ‰¹å®ä¹ ç”Ÿï¼ˆ4æœˆï¼‰</strong></p>
<p>è¿™è¦ä»å››æœˆä»½è¯´èµ·ã€‚å½“æ—¶æƒ³æ‹›ä¸ªå®ä¹ ç”Ÿå¹²äº›ç®€å•çš„æ´»ï¼Œè®©å…¶ä»–äººæŠ½èº«åšäº§å“ã€‚</p>
<p>è´Ÿè´£äººï¼ˆmentorï¼‰æ¯”è¾ƒå¿™ï¼Œå°±æ‰¾æˆ‘å¸®å¿™ç­›ç®€å†ã€é¢è¯•ï¼Œçœ‹èƒ½ä¸èƒ½æ‹›ä¸ªäººè¿›æ¥å¸®å¿™ã€‚å‘äº†ä¸€å †ç®€å†è¿‡æ¥è®©æˆ‘ç­›é€‰ï¼Œæˆ‘åªèƒ½å‡­æ„Ÿè§‰æŒ‘ï¼Œç„¶åçº¦ä¸€äº›äººæ¥é¢è¯•ã€‚</p>
<p>å½“æ—¶æˆ‘è‡ªå·±éƒ½å¾ˆç´§å¼ ï¼Œå› ä¸ºè¿™å—æˆ‘ä¹Ÿæ˜¯æ–°äººï¼Œä¸å¤ªæ‡‚æ€ä¹ˆé¢è¯•ï¼Œä¸æ¸…æ¥šè¯¥é—®ä»€ä¹ˆé—®é¢˜ï¼Œä¸‡ä¸€æˆ‘è‡ªå·±ä¹Ÿä¸äº†è§£æ€ä¹ˆåŠ...æƒ³äº†å„ç§ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼Œè¿˜æœäº†å¾ˆå¤šå…³äºé¢è¯•å®˜çš„å†…å®¹å’Œå‰ç«¯é¢è¯•é¢˜ã€‚</p>
<p>ç»è¿‡ä¸¤ä¸‰æ¬¡é¢è¯•åå°±å¥½å¤šäº†ï¼Œä¹Ÿæ…¢æ…¢é€‚åº”äº†è¿™ä¸ªèŠ‚å¥ï¼ˆä½†å¯¹ i äººæ¥è¯´è¿˜æ˜¯å¾ˆè‰°éš¾çš„ï¼‰ã€‚</p>
<p>4æœˆåº•ç¡®å®šäº†æœ€ç»ˆäººé€‰ï¼Œ51ä¹‹åå…¥èŒã€‚å› ä¸ºæ˜¯åœ¨æ ¡ç”Ÿè¿˜æœ‰è¯¾ï¼Œæš‚æ—¶è¿œç¨‹æ²Ÿé€šã€‚é‚£æ—¶å€™æ‰å‘ç°è¿œç¨‹æ²Ÿé€šæœ‰å¤šå›°éš¾ï¼ˆå°¤å…¶å¯¹æ–°äººï¼Œç†Ÿæ‚‰åå°±ç®€å•å¤šäº†ï¼‰ã€‚</p>
<p>é‚£æ—¶å€™æŒ‰ç…§"å‰äººçš„è·¯"æ¥æ•™å­¦ï¼Œä¸€å¼€å§‹ä»¥ç†Ÿæ‚‰é¡¹ç›®å’ŒåŸºç¡€ç¯å¢ƒã€git ç­‰ä¸ºä¸»ã€‚æ¯å‘¨åˆ†é…ä»»åŠ¡åï¼Œæˆ‘å†ä»ä¸­æ‹†åˆ†ä¸€ç‚¹ä»»åŠ¡ç»™å®ä¹ ç”Ÿï¼Œä¸»è¦è¿˜æ˜¯ä»¥ç†Ÿæ‚‰ä¸ºä¸»ã€‚</p>
<p>5æœˆåº•å®ä¹ ç”Ÿå¼€å§‹çº¿ä¸‹ï¼Œå¸¦çš„é‚£æ®µæ—¶é—´ç†è§£äº†å‡ ä»¶äº‹ï¼š</p>
<ol>
<li><strong>ä»»åŠ¡åˆ†é…å¾ˆéº»çƒ¦</strong>ï¼šè¦åˆç†ã€å……æ²›ï¼Œä½†åˆä¸èƒ½è¿‡å¤šè¿‡å°‘ï¼Œå­˜åœ¨å„ç§å› ç´ è¦è€ƒè™‘ã€‚</li>
<li><strong>ä¸åªæ˜¯å†™ä»£ç ï¼Œè¿˜å¾—ä¼š"è¯´ä»£ç "</strong>ï¼šå®ä¹ ç”Ÿé‡åˆ°é—®é¢˜ï¼Œä¸èƒ½ç›´æ¥å‘Šè¯‰æ€ä¹ˆåšï¼Œéœ€è¦æ—æ•²ä¾§å‡»åœ°æç¤ºå¥¹ï¼Œè®©å¥¹è‡ªå·±æ€è€ƒã€‚å¯¹äºå›°éš¾çš„é—®é¢˜ï¼Œéœ€è¦å¸¦ç€å¥¹ä¸€èµ·æ€è€ƒï¼Œç†è§£åå†å†™ä»£ç ï¼Œè®©å¥¹æ˜ç™½ä¸ºä»€ä¹ˆè¿™æ ·åšã€‚ï¼ˆè¿™å°±æ˜¯"æé—®çš„è‰ºæœ¯"ï¼Œåé¢ä¼šæåˆ°ï¼‰</li>
<li><strong>ä¸èƒ½åªç«™åœ¨è‡ªå·±è§’åº¦æ€è€ƒ</strong>ï¼šè¿˜éœ€è¦è€ƒè™‘å®ä¹ ç”Ÿçš„æ¥å—ç¨‹åº¦ã€‚</li>
</ol>
<p><strong>ç¬¬äºŒæ‰¹å®ä¹ ç”Ÿï¼ˆ9æœˆï¼‰</strong></p>
<p>9æœˆä¸­æ—¬æ‹›è˜äº†ç¬¬äºŒæ‰¹ã€‚ä¸‹åŠå¹´å…¬å¸æ¯”è¾ƒå¿™ï¼Œéœ€è¦å®ä¹ ç”Ÿå¸®å¿™åˆ†æ‹…ç®€å•å†…å®¹ã€‚</p>
<p>è¿™æ¬¡æ›´ç›´æ¥ï¼Œç›´æ¥ç»™æˆ‘åˆ›äº†ä¸ª BOSS è´¦å·ï¼Œè‡ªå·±ç­›ç®€å†çº¦é¢è¯•ã€‚å’Œç¬¬ä¸€æ¬¡å·®ä¸å¤šï¼Œé¢äº†7-8ä¸ªäººï¼Œç­›é€‰äº†å‡ ä¸ªå‡ºæ¥ã€‚</p>
<p>è¿™æ¬¡å¸¦çš„æ–¹å¼ä¸ä¸€æ ·ï¼Œå› ä¸ºå®ä¹ ç”Ÿè¦è·Ÿé¡¹ç›®èµ°ï¼Œæ¯ä¸ªäººæ¥è§¦çš„é¡¹ç›®ä¸åŒï¼Œæ²¡åŠæ³•éƒ½è®©æˆ‘å¸¦ï¼Œè€Œæ˜¯åˆ†æ‘Šå¼€æ¥ï¼Œç»™æ¯ä¸ªäººå‡è½»äº›å‹åŠ›ã€‚</p>
<p><strong>ç¬¬ä¸‰æ‰¹å®ä¹ ç”Ÿï¼ˆ11æœˆï¼‰</strong></p>
<p>11æœˆåˆç¬¬ä¸‰æ¬¡æ‹›è˜ï¼Œä¸ºäº†è‡ªå·±ä¹Ÿè½»æ¾ç‚¹ï¼Œè®¾è®¡äº†ä¸€æ‰¹ç¬”è¯•é¢˜æ¥è€ƒæ ¸ã€‚éšæœºæŒ‘é€‰è¯•é¢˜å‘é€ï¼Œå¿«é€Ÿç­›æ‰ä¸€å¤§æ‰¹äººï¼Œåé¢é¢è¯•æ—¶åŸºæœ¬æ°´å¹³éƒ½å¯ä»¥äº†ã€‚</p>
<h3 data-id="heading-8">å…¨é¢(æ ˆ)å‘å±•</h3>
<p>è¿™ä¸ªæ¯”è¾ƒç‰¹æ®Šã€‚å› ä¸ºè·Ÿè¿›çš„é¡¹ç›®éœ€è¦åˆ°ç°åœºå®æ–½ï¼Œåé¢åªæœ‰ä¸€ä¸ªå®æ–½å’Œä¸€ä¸ªç ”å‘ï¼Œæˆ‘ä¸å¾—ä¸äº†è§£äº›åç«¯å’Œè¿ç»´çŸ¥è¯†ï¼Œä»¥å…å‡ºç°é—®é¢˜æ²¡æ³•è§£å†³ã€‚è€Œä¸”é‚£è¾¹ç½‘ç»œä¹Ÿä¸å¤ªå¥½ï¼Œç°åœºæ²Ÿé€šä¼šæ¯”è¾ƒå›°éš¾ã€‚</p>
<p>åœ¨ç°åœºå’Œä¸šä¸»é‚£è¾¹ï¼Œæˆ‘å·²ç»æ•°ä¸æ¸…æ‰¾äº†å¤šå°‘æ¬¡è¿ç»´äº†ã€‚è™½ç„¶ç»å¸¸éº»çƒ¦ä»–ä»¬ï¼Œä½†åˆ°ç°åœ¨å¯¹ä¸€äº›ç®€å•çš„è¿ç»´æ“ä½œã€Linux æ“ä½œç­‰åŸºæœ¬å·²ç»"æ‰‹åˆ°æ“’æ¥"äº†ã€‚è¿ç»´è¿™å—çš„å¸¸ç”¨å‘½ä»¤å·²ç»å¾ˆç†Ÿæ‚‰ï¼Œæ›´ä½•å†µè¿˜æœ‰ä¸“å®¶ç»™çš„"å®å…¸"ã€‚</p>
<p>åç«¯æ–¹é¢ï¼Œå‡ºå‘å‰ä¹Ÿäº†è§£äº†ä¸€äº›ï¼Œä¸»è¦å…³å¿ƒæœ¬åœ°è°ƒè¯•å’Œæ‰“åŒ…éƒ¨ç½²ã€‚ä»£ç å¯ä»¥é—® AI å­¦ä¹ ï¼Œå†åŠ ä¸Šä¹‹å‰å­¦è¿‡ nodeã€go ç­‰åç«¯çŸ¥è¯†ï¼Œæ‰€ä»¥åŸºæœ¬æ¦‚å¿µéƒ½æ¸…æ¥šã€‚</p>
<p>è€Œä¸”ç°åœºæ€»æœ‰æ„å¤–ã€‚æ¯”å¦‚å‡ºå‘å‰è¯´éœ€è¦æ¥å…¥ç›‘æ§ï¼Œåªæ”¯æŒ rtmp åè®®ï¼Œæˆ‘ä»¬æå‰å†™å¥½æ”¾åˆ° nginx ä¸Šäº†ã€‚ä½†åˆ°äº†æ‰å‘ç°æ˜¯ rtsp åè®®ï¼è€Œä¸”ç°åœºæ‘„åƒå¤´éƒ½æ¯”è¾ƒè€ï¼Œè¿˜éœ€è¦è‡ªå·±æµ‹è¯•é…ç½®å¦‚ä½•å¯ç”¨ rtspï¼Œæ‘¸ç´¢æ€ä¹ˆåˆ‡æ¢åˆ°ä¸åŒçš„ç›‘æ§æµã€‚ä¸è¿‡ä¹ŸæŒºæœ‰æ„æ€çš„ã€‚</p>
<hr/>
<h2 data-id="heading-9">å…³äºæˆé•¿çš„æ€è€ƒ</h2>
<p>è¯´åˆ°è¿™ä¸ªï¼Œä¸å¾—ä¸æä¹‹å‰çœ‹åˆ°çš„ä¸€ç¯‡æ–‡ç« ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fzhuanlan.zhihu.com%2Fp%2F554292991" target="_blank" title="https://zhuanlan.zhihu.com/p/554292991" ref="nofollow noopener noreferrer"/></p>
<p>é‡Œé¢æåˆ°èŒä¸šç”Ÿæ¶¯çš„ä¸‰ä¸ªé˜¶æ®µï¼Œæ»¡æ»¡çš„å¹²è´§ï¼Œè®©æˆ‘è®¤è¯†åˆ°éœ€è¦å­¦ä¹ çš„åœ°æ–¹è¿˜æœ‰å¾ˆå¤šã€‚</p>
<p>ç‰¹åˆ«å–œæ¬¢é‡Œé¢æåˆ°çš„"æé—®çš„è‰ºæœ¯"ï¼š</p>
<blockquote>
<p>æˆ‘æƒ³èµ·æˆ‘çš„è€æ¿ä»¬åŠå’Œæˆ‘1v1æ²Ÿé€šçš„åŒäº‹ä»¬å¯¹æˆ‘çš„å¸®åŠ©ï¼Œä»–ä»¬éƒ½éå¸¸å–„äºç”¨åé—®æ¥å¼•å¯¼æˆ‘ã€‚æé—®çš„æ·±åº¦ç‰¹åˆ«èƒ½ä½“ç°ä¸€ä¸ªäººçš„èƒ½åŠ›æ°´å¹³ï¼Œä»»ä½•ç”¨äºæè¦æ±‚çš„é™ˆè¿°å¥ï¼Œéƒ½èƒ½è½¬æ¢æˆç–‘é—®å¥ï¼Œåœ¨å¯å‘èŒæ–°çš„è¿‡ç¨‹ä¸­æ¤å…¥å¯¹ç»“æœçš„çº¦æŸã€‚</p>
<p>å½“ä½ è®©ä¸€ä¸ªäººåšAçš„æ—¶å€™ï¼Œä»–æå‡ºäº†æ–¹æ¡ˆBã€‚ä½ ä¸è¦å¼ºè¡Œæ‰­è½¬å¯¹æ–¹çš„æ€è·¯æå‡ºAï¼Œå› ä¸ºå¯¹äºæ–°äººæ¥è®²ï¼Œæˆ–è®¸ç¡®å®ä¸èƒ½ä¸€æ­¥åˆ°ä½ç†è§£Aæ–¹æ¡ˆï¼Œåœ¨ä»–çš„èƒ½åŠ›çº¦æŸä¸‹ï¼Œåªèƒ½æƒ³åˆ°Bã€‚è¦å°½é‡å°è¯•æŠŠAå’ŒBä¹‹é—´æœ‰å·®å¼‚çš„åœ°æ–¹è½¬æ¢æˆæé—®ï¼Œä½ é—®ä»–é‡åˆ°è¿™ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³ï¼Œé‡åˆ°é‚£ä¸ªé—®é¢˜æ€ä¹ˆè§£å†³ï¼Œä¸€ç›´é—®åˆ°å½¢æˆAï¼Œä»–ä¼šå¸¦ç€æ€è€ƒå»åšäº‹æƒ…ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªè¿‡ç¨‹ï¼Œæ²¡æœ‰è®©ä»–æ€ç»´æ¼”åŒ–çš„è¿‡ç¨‹ï¼Œè™½ç„¶ä»–æ”¶åˆ°äº†Açš„æŒ‡ä»¤ï¼Œä½†æ˜¯ä»–ä¸ç†è§£ï¼Œä»–ä¼šç”¨åˆ«çš„æ–¹å¼åšå‡ºæ¥ï¼Œæœ€åå¾—å‡ºæ¥ä¸€ä¸ªCï¼Œç„¶åä½ åˆé‡æ„ä¸€éï¼Œé™·å…¥ä¸€ä¸ªæ€ªåœˆä¸èƒ½è‡ªæ‹”ï¼Œè¿™å°±æ˜¯æˆ‘ä»¥å‰çš„è¯¯åŒºã€‚</p>
<p>æ‰€ä»¥æˆ‘ç°åœ¨ç‰¹åˆ«æ³¨é‡æé—®çš„è‰ºæœ¯ã€‚ä½†æ˜¯ä¸€åˆ‡çš„å‰ææ˜¯ï¼šä½ éœ€è¦å¯¹äº‹æƒ…æœ‰å¥½çš„è®¤çŸ¥ã€‚æŒ‰ç…§å¼ ä¸€é¸£çš„è§‚ç‚¹å°±æ˜¯ï¼šå¯¹ä¸€ä»¶äº‹æƒ…è®¤çŸ¥å†³å®šäº†ä¸€ä»¶äº‹æƒ…çš„é«˜åº¦ã€‚</p>
</blockquote>
<p><strong>å­¦ä¼šæé—®ï¼Œæ‰èƒ½è®©äººæˆé•¿ã€‚</strong></p>
<p>è¿™åªæ˜¯å…¶ä¸­çš„å†°å±±ä¸€è§’ï¼Œé‡Œé¢è¿˜æœ‰å¾ˆå¤šè®©æˆ‘å°è±¡æ·±åˆ»çš„å†…å®¹ï¼Œå¾ˆæ¨èå¤§å®¶é˜…è¯»ã€‚</p>
<hr/>
<h2 data-id="heading-10">æœªæ¥è§„åˆ’</h2>
<p><strong>EasyEditor</strong></p>
<ul>
<li>å®è§‚æ–¹å‘
<ul>
<li>plugin-formï¼ˆå¾…å¼€å‘ï¼‰ï¼šè¡¨å•æ’ä»¶</li>
<li>react-renderer-formï¼ˆå¾…å¼€å‘ï¼‰ï¼šè¡¨å•æ¸²æŸ“å™¨ï¼ˆåŸºäº react-rendererï¼‰</li>
<li>vue-rendererï¼ˆå¾…å¼€å‘ï¼‰ï¼šVue æ¸²æŸ“å™¨</li>
<li>EasyClipï¼ˆå¾…å¼€å‘ï¼‰ï¼šè§†é¢‘å‰ªè¾‘Webåº”ç”¨ï¼Œçµæ„Ÿæ¥æºäºå‰ªæ˜ Webç‰ˆçš„ä¸‹çº¿</li>
</ul>
</li>
<li>ç»†èŠ‚å®Œå–„
<ul>
<li>è¿œç¨‹ç‰©æ–™ã€ç»„ä»¶ç‰ˆæœ¬</li>
<li>èµ„äº§åº“ï¼ˆç‰©æ–™åº“ã€è®¾ç½®å™¨åº“ã€å¯¹åº”è„šæ‰‹æ¶ï¼‰</li>
<li>è‡ªå®šä¹‰ç»„ä»¶</li>
<li>å¼‚æ­¥èµ„æºåŠ è½½</li>
<li>...ï¼ˆè¿˜æƒ³åœ¨å¤§å±ä¸Šæ‰©å±•å¾ˆå¤šå†…å®¹ï¼‰</li>
</ul>
</li>
</ul>
<p><strong>3D</strong></p>
<p>ç³»ç»Ÿæ€§å­¦ä¹ è¿™å—å†…å®¹ï¼Œä¸»è¦æ˜¯ BIM å’Œ GISï¼Œä¹Ÿå°±æ˜¯æ•°å­—å­ªç”Ÿã€‚</p>
<ul>
<li>ç†è®ºçŸ¥è¯†</li>
<li>å»ºæ¨¡ï¼ˆBlenderï¼‰</li>
<li>æ¸²æŸ“å¼•æ“ï¼ˆCesiumJS...ï¼‰</li>
<li>æ¸¸æˆå¼•æ“ï¼ˆGodot...ï¼‰</li>
</ul>
<p><strong>å…¨æ ˆ</strong></p>
<ul>
<li>Elysia.js</li>
<li>å¯ä»¥æƒ³æƒ³ä½ä»£ç åç«¯æ€ä¹ˆèµ°...</li>
</ul>
<p><strong>AI</strong></p>
<ul>
<li>ç†è§£ AI å¦‚ä½•è¿ä½œï¼Œå­¦ä¹ ç†è®ºçŸ¥è¯†</li>
<li>AI é¡¹ç›®ã€è¿ç”¨</li>
<li>äº†è§£ Claude Code ç­‰é¡¹ç›®æ˜¯æ€ä¹ˆè¿ä½œçš„</li>
</ul>
<hr/>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>è¿™ä¸€å¹´è¿›æ­¥äº†å¾ˆå¤šï¼Œä¹Ÿèƒ½æ‰¿æ‹…æ›´å¤§çš„è´£ä»»äº†ã€‚</p>
<p>ä¸ç®¡æ˜¯å¯¹æ¥å®¢æˆ·ã€å¸¦å®ä¹ ç”Ÿã€å†™äº§å“éœ€æ±‚ï¼Œè¿˜æ˜¯å…¨æ ˆå®è·µï¼Œéƒ½æ˜¯å¾ˆæœ‰æ„æ€çš„ä½“éªŒã€‚ä¹Ÿè¿›ä¸€æ­¥äº†è§£äº†æ•´ä¸ªç ”å‘ä½“ç³»çš„è¿ä½œã€‚</p>
<blockquote>
<p>æœŸå¾…åœ¨2026å¹´ç»§ç»­æˆé•¿ï¼Œåœ¨ä½ä»£ç é¢†åŸŸç»§ç»­æ·±è€•ï¼Œæœç€è‡ªå·±çƒ­çˆ±çš„æ–¹å‘å‰è¿›ã€‚</p>
</blockquote>
<p>å®ç°äº†å»å¹´çš„ç›®æ ‡ï¼Œä¹Ÿå¸Œæœ›èƒ½ç»§ç»­å®Œå–„ EasyEditorã€‚</p>
<p>æœ€ååˆ†äº«ã€Šç“¦å°”ç™»æ¹–ã€‹é‡Œæˆ‘å¾ˆå–œæ¬¢çš„ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>è®©æˆ‘ä»¬å¦‚å¤§è‡ªç„¶èˆ¬æ‚ ç„¶è‡ªåœ¨åœ°ç”Ÿæ´»ä¸€å¤©å§ï¼Œåˆ«å› ä¸ºæœ‰åšæœå¤–å£³æˆ–è€…èšŠå­ç¿…è†€è½åœ¨é“è½¨ä¸Šè€Œç¿»äº†è½¦ã€‚è®©æˆ‘ä»¬è¯¥èµ·åºŠæ—¶å°±èµ¶ç´§èµ·åºŠï¼Œè¯¥ä¼‘æ¯æ—¶å°±å®‰å¿ƒä¼‘æ¯ï¼Œä¿æŒå®‰å®è€Œæ²¡æœ‰çƒ¦æ‰°çš„å¿ƒæ€ï¼›èº«è¾¹çš„äººè¦æ¥å°±è®©ä»–æ¥ï¼Œè¦å»å°±è®©ä»–å»ï¼Œè®©é’Ÿå£°å›è¡ï¼Œè®©å­©å­å“­å–Šâ€”â€”ä¸‹å®šå†³å¿ƒå¥½å¥½åœ°è¿‡ä¸€å¤©ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº YOLOv8 çš„äº¤é€šæ ‡è¯†ä¸è®¾æ–½è¯†åˆ«ç³»ç»Ÿï¼ˆå«å®Œæ•´æºç ï¼‰]]></title>    <link>https://juejin.cn/post/7588365276191342630</link>    <guid>https://juejin.cn/post/7588365276191342630</guid>    <pubDate>2025-12-28T15:07:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588365276191342630" data-draft-id="7588140921249349670" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº YOLOv8 çš„äº¤é€šæ ‡è¯†ä¸è®¾æ–½è¯†åˆ«ç³»ç»Ÿï¼ˆå«å®Œæ•´æºç ï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-28T15:07:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯æ°å°¼"/> <meta itemprop="url" content="https://juejin.cn/user/4200579899599495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº YOLOv8 çš„äº¤é€šæ ‡è¯†ä¸è®¾æ–½è¯†åˆ«ç³»ç»Ÿï¼ˆå«å®Œæ•´æºç ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4200579899599495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯æ°å°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T15:07:59.000Z" title="Sun Dec 28 2025 15:07:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäº YOLOv8 çš„äº¤é€šæ ‡è¯†ä¸è®¾æ–½è¯†åˆ«ç³»ç»Ÿï¼ˆå«å®Œæ•´æºç ï¼‰</h2>
<hr/>
<h3 data-id="heading-1">ä¸€ã€ç ”ç©¶èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆè¦åšäº¤é€šæ ‡è¯†æ™ºèƒ½è¯†åˆ«ï¼Ÿ</h3>
<p>åœ¨æ™ºæ…§åŸå¸‚ä¸æ™ºèƒ½äº¤é€šä½“ç³»ä¸æ–­å‘å±•çš„èƒŒæ™¯ä¸‹ï¼Œé“è·¯äº¤é€šåœºæ™¯å¯¹<strong>æ„ŸçŸ¥èƒ½åŠ›</strong>æå‡ºäº†è¶Šæ¥è¶Šé«˜çš„è¦æ±‚ã€‚
æ— è®ºæ˜¯ï¼š</p>
<ul>
<li>ğŸš— <strong>è‡ªåŠ¨é©¾é©¶è¾…åŠ©ç³»ç»Ÿ</strong></li>
<li>ğŸ“· <strong>é“è·¯ç›‘æ§ä¸è¿ç« è¯†åˆ«</strong></li>
<li>ğŸš¦ <strong>æ™ºèƒ½ä¿¡å·æ§åˆ¶</strong></li>
<li>ğŸ™ <strong>åŸå¸‚é“è·¯æ•°å­—åŒ–ç®¡ç†</strong></li>
</ul>
<p>éƒ½ç¦»ä¸å¼€å¯¹ <strong>äº¤é€šæ ‡è¯†ä¸åŸºç¡€è®¾æ–½çš„ç²¾å‡†è¯†åˆ«</strong>ã€‚</p>
<p>ä¼ ç»ŸåŸºäºå›¾åƒå¤„ç†å’Œè§„åˆ™çš„æ–¹æ³•ï¼Œåœ¨é¢å¯¹ä»¥ä¸‹å¤æ‚æƒ…å†µæ—¶å¾€å¾€è¡¨ç°ä¸ä½³ï¼š</p>
<ul>
<li>å…‰ç…§å˜åŒ–ï¼ˆé€†å…‰ã€å¤œé—´ã€é›¨é›¾ï¼‰</li>
<li>è§†è§’å˜åŒ–ï¼ˆå€¾æ–œã€è¿œè¿‘ï¼‰</li>
<li>é®æŒ¡ã€è€åŒ–ã€æ ‡å¿—è¤ªè‰²</li>
<li>åœºæ™¯å¤æ‚ï¼ˆåŸå¸‚é“è·¯ã€é«˜é€Ÿã€å…¬è·¯ï¼‰</li>
</ul>
<p>å› æ­¤ï¼Œ<strong>å¼•å…¥åŸºäºæ·±åº¦å­¦ä¹ çš„ç›®æ ‡æ£€æµ‹æŠ€æœ¯</strong>ï¼Œæˆä¸ºæ™ºèƒ½äº¤é€šæ„ŸçŸ¥ç³»ç»Ÿçš„æ ¸å¿ƒæ–¹å‘ä¹‹ä¸€ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8ad1bc2877446d5b3eacfcab485f0a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767539279&amp;x-signature=vDuzCzb7cBHr3J1VoFdYsrYCNVo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-2">æºç ä¸‹è½½ä¸æ•ˆæœæ¼”ç¤º</h3>
<p>å“”å“©å“”å“©è§†é¢‘ä¸‹æ–¹è§‚çœ‹ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1U1TkzTE1n%2F" target="_blank" title="https://www.bilibili.com/video/BV1U1TkzTE1n/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1U1â€¦</a></p>
<p>åŒ…å«ï¼š</p>
<p>ğŸ“¦å®Œæ•´é¡¹ç›®æºç </p>
<p>ğŸ“¦ é¢„è®­ç»ƒæ¨¡å‹æƒé‡</p>
<p>ğŸ—‚ï¸ æ•°æ®é›†åœ°å€ï¼ˆå«æ ‡æ³¨è„šæœ¬</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9478a3b7607c46a8acda343813d8f70b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767539279&amp;x-signature=khM%2BOl2uPgZKn4hFXJRRuZ5oJ%2BM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-3">äºŒã€ç³»ç»Ÿæ€»ä½“è®¾è®¡æ€è·¯</h3>
<h4 data-id="heading-4">2.1 é¡¹ç›®ç›®æ ‡</h4>
<p>æœ¬é¡¹ç›®åŸºäº <strong>YOLOv8 ç›®æ ‡æ£€æµ‹æ¨¡å‹</strong>ï¼Œæ„å»ºä¸€å¥—å®Œæ•´çš„ <strong>äº¤é€šæ ‡è¯†ä¸è®¾æ–½æ™ºèƒ½è¯†åˆ«ç³»ç»Ÿ</strong>ï¼Œå®ç°ä»¥ä¸‹ç›®æ ‡ï¼š</p>
<ul>
<li>è‡ªåŠ¨è¯†åˆ«å…³é”®äº¤é€šå…ƒç´ </li>
<li>æ”¯æŒå¤šç§è¾“å…¥æ–¹å¼ï¼ˆå›¾åƒ / è§†é¢‘ / æ‘„åƒå¤´ï¼‰</li>
<li>æä¾›å¯è§†åŒ–æ¡Œé¢ç«¯æ“ä½œç•Œé¢</li>
<li>å®ç°ä»æ¨¡å‹è®­ç»ƒåˆ°å·¥ç¨‹éƒ¨ç½²çš„å®Œæ•´é—­ç¯</li>
</ul>
<h4 data-id="heading-5">2.2 æ£€æµ‹ç›®æ ‡å®šä¹‰</h4>
<p>ç³»ç»Ÿå½“å‰æ”¯æŒä»¥ä¸‹ 4 ç±»äº¤é€šç›®æ ‡ï¼ˆå¯æ‰©å±•ï¼‰ï¼š</p>

























<table><thead><tr><th>ç±»åˆ«</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>crosswalk</td><td>äººè¡Œæ¨ªé“</td></tr><tr><td>speedlimit</td><td>é™é€Ÿæ ‡å¿—</td></tr><tr><td>stop</td><td>åœè½¦æ ‡å¿—</td></tr><tr><td>trafficlight</td><td>äº¤é€šä¿¡å·ç¯</td></tr></tbody></table>
<p>è¿™äº›ç›®æ ‡å…·æœ‰ <strong>é«˜é¢‘å‡ºç°ã€å¯¹å®‰å…¨å½±å“å¤§ã€è§†è§‰ç‰¹å¾æ˜æ˜¾</strong> çš„ç‰¹ç‚¹ï¼Œæ˜¯æ™ºèƒ½äº¤é€šæ„ŸçŸ¥ç³»ç»Ÿçš„æ ¸å¿ƒå…ƒç´ ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bef7e6abd99349c9a901186a12ae925d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767539279&amp;x-signature=gpFHgFqS7zrSovGNrDlwgAvNmPY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1779573f47d4ffb9f47f470614b35c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767539279&amp;x-signature=sknOTulTJWNQeJXtm1omI1fDJ0g%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ce9a34b505744aabc5481c8e4ab4637~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767539279&amp;x-signature=goNf9I8uCxF%2FyzKcMSapNz%2BevQU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-6">2.3 æŠ€æœ¯æ¶æ„æ¦‚è§ˆ</h4>
<p>ç³»ç»Ÿæ•´ä½“é‡‡ç”¨ç»å…¸çš„ <strong>AI å·¥ç¨‹åŒ–åˆ†å±‚è®¾è®¡</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">è¾“å…¥å±‚ï¼ˆå›¾ç‰‡ / è§†é¢‘ / æ‘„åƒå¤´ï¼‰
<span class="hljs-code">        â†“
YOLOv8 ç›®æ ‡æ£€æµ‹æ¨¡å‹
        â†“
ç›®æ ‡ç±»åˆ« + ä½ç½® + ç½®ä¿¡åº¦
        â†“
PyQt5 å›¾å½¢ç•Œé¢æ¸²æŸ“
        â†“
ç»“æœå±•ç¤º / ä¿å­˜ / æ‰©å±•åˆ†æ
</span></code></pre>
<hr/>
<h3 data-id="heading-7">ä¸‰ã€YOLOv8 åœ¨äº¤é€šåœºæ™¯ä¸­çš„ä¼˜åŠ¿åˆ†æ</h3>
<h4 data-id="heading-8">3.1 ä¸ºä»€ä¹ˆé€‰æ‹© YOLOv8ï¼Ÿ</h4>
<p>YOLOv8 æ˜¯ Ultralytics æ¨å‡ºçš„æ–°ä¸€ä»£ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œç›¸æ¯” YOLOv5 / YOLOv7ï¼Œåœ¨äº¤é€šåœºæ™¯ä¸­å…·æœ‰æ˜æ˜¾ä¼˜åŠ¿ï¼š</p>
<ul>
<li>âœ… <strong>Anchor-Free æ¶æ„</strong>
å‡å°‘å…ˆéªŒæ¡†ä¾èµ–ï¼Œå¯¹ä¸åŒå°ºåº¦æ ‡å¿—æ›´å‹å¥½</li>
<li>âœ… <strong>æ›´é«˜çš„æ¨ç†é€Ÿåº¦</strong>
æ»¡è¶³å®æ—¶äº¤é€šç›‘æ§éœ€æ±‚</li>
<li>âœ… <strong>æ›´ç¨³å®šçš„è®­ç»ƒè¿‡ç¨‹</strong>
æ”¶æ•›é€Ÿåº¦å¿«ï¼Œè°ƒå‚æˆæœ¬ä½</li>
<li>âœ… <strong>éƒ¨ç½²å‹å¥½</strong>
åŸç”Ÿæ”¯æŒ ONNXã€TensorRT ç­‰å¯¼å‡ºæ ¼å¼</li>
</ul>
<hr/>
<h4 data-id="heading-9">3.2 äº¤é€šåœºæ™¯ä¸‹çš„æŒ‘æˆ˜</h4>
<p>äº¤é€šæ ‡è¯†æ£€æµ‹å¹¶éç®€å•ä»»åŠ¡ï¼Œä¸»è¦éš¾ç‚¹åŒ…æ‹¬ï¼š</p>
<ul>
<li>æ ‡å¿—å°ºå¯¸å·®å¼‚å¤§ï¼ˆè¿œå¤„é™é€Ÿç‰Œ vs è¿‘è·ç¦»ä¿¡å·ç¯ï¼‰</li>
<li>èƒŒæ™¯å¤æ‚ï¼ˆå»ºç­‘ã€è½¦è¾†ã€å¹¿å‘Šç‰Œï¼‰</li>
<li>ç›®æ ‡å­˜åœ¨é®æŒ¡æˆ–éƒ¨åˆ†æŸå</li>
<li>ç™½å¤© / å¤œæ™š / é›¨é›ªç­‰å¤šç¯å¢ƒå˜åŒ–</li>
</ul>
<p>YOLOv8 çš„å¤šå°ºåº¦ç‰¹å¾èåˆä¸ TaskAlignedAssignerï¼Œä½¿å…¶åœ¨æ­¤ç±»å¤æ‚åœºæ™¯ä¸­å…·å¤‡è¾ƒå¼ºé²æ£’æ€§ã€‚</p>
<hr/>
<h3 data-id="heading-10">å››ã€æ•°æ®é›†æ„å»ºä¸æ ‡æ³¨è§„èŒƒ</h3>
<h4 data-id="heading-11">4.1 æ•°æ®é›†æ¥æºä¸ç‰¹ç‚¹</h4>
<p>é¡¹ç›®ä½¿ç”¨çš„äº¤é€šåœºæ™¯æ•°æ®é›†è¦†ç›–ï¼š</p>
<ul>
<li>åŸå¸‚é“è·¯</li>
<li>é«˜é€Ÿå…¬è·¯</li>
<li>ä¸åŒå¤©æ°”ä¸å…‰ç…§æ¡ä»¶</li>
<li>å¤šè§’åº¦æ‹æ‘„è§†è§’</li>
</ul>
<p>ç›®æ ‡åˆ†å¸ƒåˆç†ï¼Œæœ‰åŠ©äºæ¨¡å‹å­¦ä¹ çœŸå®é“è·¯ç‰¹å¾ã€‚</p>
<hr/>
<h4 data-id="heading-12">4.2 YOLO æ•°æ®é›†ç»“æ„</h4>
<p>é‡‡ç”¨æ ‡å‡† YOLO æ ¼å¼ï¼Œä¿è¯è®­ç»ƒä¸æ¨ç†æµç¨‹ä¸€è‡´ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">dataset/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ train/
â”‚   â””â”€â”€ <span class="hljs-keyword">val</span>/
â”œâ”€â”€ labels/
â”‚   â”œâ”€â”€ train/
â”‚   â””â”€â”€ <span class="hljs-keyword">val</span>/
</code></pre>
<p>æ ‡æ³¨æ–‡ä»¶ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs">2 0.4312 0.5128 0.1845 0.2967
</code></pre>
<p>å«ä¹‰è¯´æ˜ï¼š</p>
<ul>
<li><code>2</code>ï¼šç±»åˆ« IDï¼ˆå¦‚ stopï¼‰</li>
<li>åå››é¡¹ä¸ºå½’ä¸€åŒ–åçš„è¾¹ç•Œæ¡†åæ ‡</li>
</ul>
<hr/>
<h4 data-id="heading-13">4.3 ç±»åˆ«é…ç½®ç¤ºä¾‹</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">nc:</span> <span class="hljs-number">4</span>
<span class="hljs-attr">names:</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">crosswalk</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">speedlimit</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">stop</span>
  <span class="hljs-bullet">-</span> <span class="hljs-string">trafficlight</span>
</code></pre>
<hr/>
<h3 data-id="heading-14">äº”ã€æ¨¡å‹è®­ç»ƒä¸æ€§èƒ½è¯„ä¼°</h3>
<h4 data-id="heading-15">5.1 æ¨¡å‹è®­ç»ƒå‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash">yolo detect train \
  data=traffic.yaml \
  model=yolov8n.pt \
  epochs=100 \
  batch=16 \
  imgsz=640 \
  lr0=0.001
</code></pre>
<p>å‚æ•°é€‰æ‹©è¯´æ˜ï¼š</p>
<ul>
<li><code>imgsz=640</code>ï¼šå…¼é¡¾ç²¾åº¦ä¸é€Ÿåº¦</li>
<li><code>batch=16</code>ï¼šé€‚åˆä¸»æµæ˜¾å¡é…ç½®</li>
<li><code>epochs=100</code>ï¼šä¿è¯æ¨¡å‹å……åˆ†æ”¶æ•›</li>
</ul>
<hr/>
<h4 data-id="heading-16">5.2 è®­ç»ƒç»“æœåˆ†æ</h4>
<p>è®­ç»ƒå®Œæˆåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆï¼š</p>
<ul>
<li>ğŸ“ˆ Loss æ›²çº¿ï¼ˆbox / cls / dflï¼‰</li>
<li>ğŸ“Š mAP@0.5ã€mAP@0.5:0.95</li>
<li>ğŸ” æ··æ·†çŸ©é˜µï¼ˆconfusion matrixï¼‰</li>
</ul>
<p>ä¸€èˆ¬æ¥è¯´ï¼š</p>
<blockquote>
<p>å½“ mAP@0.5 â‰¥ 90%ï¼Œæ¨¡å‹å·²å…·å¤‡å®é™…å·¥ç¨‹åº”ç”¨ä»·å€¼ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-17">å…­ã€æ¨¡å‹æ¨ç†ä¸ç»“æœè§£æ</h3>
<h4 data-id="heading-18">6.1 æ¨ç†ä»£ç ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ultralytics <span class="hljs-keyword">import</span> YOLO

model = YOLO(<span class="hljs-string">"best.pt"</span>)
results = model(<span class="hljs-string">"road.jpg"</span>, conf=<span class="hljs-number">0.25</span>, save=<span class="hljs-literal">True</span>)

<span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> results:
    <span class="hljs-keyword">for</span> box <span class="hljs-keyword">in</span> r.boxes:
        <span class="hljs-built_in">print</span>(box.cls, box.conf)
</code></pre>
<p>æ¨¡å‹è¾“å‡ºåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç›®æ ‡ç±»åˆ«</li>
<li>ç½®ä¿¡åº¦</li>
<li>è¾¹ç•Œæ¡†åæ ‡</li>
</ul>
<hr/>
<h4 data-id="heading-19">6.2 æ¨ç†æ•ˆæœè¯´æ˜</h4>
<p>ç³»ç»Ÿå¯åœ¨ä»¥ä¸‹åœºæ™¯ä¸‹ç¨³å®šå·¥ä½œï¼š</p>
<ul>
<li>å•å¼ äº¤é€šå›¾ç‰‡æ£€æµ‹</li>
<li>æ‰¹é‡é“è·¯å›¾ç‰‡åˆ†æ</li>
<li>è§†é¢‘æµé€å¸§æ£€æµ‹</li>
<li>å®æ—¶æ‘„åƒå¤´ç›‘æ§</li>
</ul>
<p>æ£€æµ‹ç»“æœä»¥ <strong>è¾¹æ¡† + ç±»åˆ«æ ‡ç­¾ + ç½®ä¿¡åº¦</strong> å½¢å¼å¯è§†åŒ–å‘ˆç°ã€‚</p>
<hr/>
<h3 data-id="heading-20">ä¸ƒã€PyQt5 æ¡Œé¢åº”ç”¨è®¾è®¡</h3>
<h4 data-id="heading-21">7.1 ä¸ºä»€ä¹ˆä½¿ç”¨ PyQt5ï¼Ÿ</h4>
<p>ç›¸æ¯” Web å‰ç«¯ï¼ŒPyQt5 åœ¨æœ¬é¡¹ç›®ä¸­çš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li>æœ¬åœ°éƒ¨ç½²ï¼Œé€‚åˆç¦»çº¿ç¯å¢ƒ</li>
<li>å¼€å‘æ•ˆç‡é«˜ï¼Œç•Œé¢å“åº”å¿«</li>
<li>æ˜“äºä¸ Python æ¨ç†ä»£ç é›†æˆ</li>
<li>é€‚åˆç§‘ç ”ã€æ¼”ç¤ºä¸å·¥ç¨‹åŸå‹</li>
</ul>
<hr/>
<h4 data-id="heading-22">7.2 åŠŸèƒ½æ¨¡å—åˆ’åˆ†</h4>
<p>æ¡Œé¢ç«¯ä¸»è¦åŒ…å«ï¼š</p>
<ul>
<li>ğŸ“· å›¾ç‰‡æ£€æµ‹æ¨¡å—</li>
<li>ğŸ“ æ–‡ä»¶å¤¹æ‰¹é‡æ£€æµ‹</li>
<li>ğŸ¥ è§†é¢‘æ£€æµ‹æ¨¡å—</li>
<li>ğŸ“¡ æ‘„åƒå¤´å®æ—¶æ£€æµ‹</li>
<li>âš™ï¸ ç½®ä¿¡åº¦é˜ˆå€¼è°ƒèŠ‚</li>
<li>ğŸ’¾ ç»“æœä¿å­˜æ§åˆ¶</li>
</ul>
<p>ç”¨æˆ·æ— éœ€ç¼–å†™ä»»ä½•ä»£ç å³å¯ä½¿ç”¨æ¨¡å‹èƒ½åŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-23">å…«ã€å·¥ç¨‹åº”ç”¨ä¸æ‰©å±•æ–¹å‘</h3>
<h4 data-id="heading-24">8.1 å®é™…åº”ç”¨åœºæ™¯</h4>
<ul>
<li>æ™ºèƒ½äº¤é€šç›‘æ§ç³»ç»Ÿ</li>
<li>è‡ªåŠ¨é©¾é©¶è¾…åŠ©æ„ŸçŸ¥æ¨¡å—</li>
<li>é“è·¯å·¡æ£€ä¸è®¾æ–½æ™®æŸ¥</li>
<li>AI è§†è§‰æ•™å­¦ä¸å®éªŒå¹³å°</li>
</ul>
<hr/>
<h4 data-id="heading-25">8.2 åç»­å¯æ‹“å±•æ–¹å‘</h4>
<ol>
<li>
<p><strong>å¢åŠ æ›´å¤šäº¤é€šç±»åˆ«</strong></p>
<ul>
<li>ç¦è¡Œã€è½¬å‘ã€è­¦å‘Šæ ‡å¿—</li>
</ul>
</li>
<li>
<p><strong>å¼•å…¥ç›®æ ‡è·Ÿè¸ªç®—æ³•</strong></p>
<ul>
<li>äº¤é€šç¯çŠ¶æ€æ—¶åºåˆ†æ</li>
</ul>
</li>
<li>
<p><strong>è¾¹ç¼˜ç«¯éƒ¨ç½²</strong></p>
<ul>
<li>Jetsonã€åµŒå…¥å¼è®¾å¤‡</li>
</ul>
</li>
<li>
<p><strong>ä¸åœ°å›¾ç³»ç»Ÿè”åŠ¨</strong></p>
<ul>
<li>æ„å»ºé«˜ç²¾åº¦é“è·¯æ„ŸçŸ¥æ¨¡å‹</li>
</ul>
</li>
</ol>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0380f4f10c8432589f31ad75132bf2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767539279&amp;x-signature=GN4VcFKZxQ9hbh2K6Gg3s%2BAtYD8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33e4a8a98d8040e4bc7a1251be064a9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767539279&amp;x-signature=i1LmzPOIBhgHA%2BZzURoBJQfHuS8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f95f0e5ccfe4dbd9a486143399e2e56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767539279&amp;x-signature=4Me3UbTCww1%2F1sb4EOaI6kgh4RY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-26">ä¹ã€æ€»ç»“</h3>
<p>æœ¬æ–‡å›´ç»• <strong>YOLOv8 + PyQt5</strong> æŠ€æœ¯ä½“ç³»ï¼Œå®Œæ•´ä»‹ç»äº†ä¸€å¥— <strong>äº¤é€šæ ‡è¯†ä¸è®¾æ–½æ™ºèƒ½è¯†åˆ«ç³»ç»Ÿçš„å·¥ç¨‹åŒ–å®ç°æ–¹æ¡ˆ</strong>ã€‚é¡¹ç›®ä¸ä»…å®ç°äº†å¤šç±»äº¤é€šç›®æ ‡çš„ç²¾å‡†æ£€æµ‹ï¼Œè¿˜é€šè¿‡å›¾å½¢åŒ–ç•Œé¢å¤§å¹…é™ä½äº†ä½¿ç”¨é—¨æ§›ï¼Œä½¿æ¨¡å‹èƒ½åŠ›çœŸæ­£â€œå¯ç”¨ã€å¯è½åœ°â€ã€‚</p>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿å›é¡¾ï¼š</strong></p>
<ul>
<li>ğŸš€ å®æ—¶ã€é«˜ç²¾åº¦ç›®æ ‡æ£€æµ‹</li>
<li>ğŸ§  æ·±åº¦å­¦ä¹ ä¸å·¥ç¨‹å®è·µç»“åˆ</li>
<li>ğŸ–¥ å›¾å½¢ç•Œé¢å‹å¥½ï¼Œå¼€ç®±å³ç”¨</li>
<li>ğŸ“¦ æä¾›å®Œæ•´æºç ä¸è®­ç»ƒæµç¨‹</li>
</ul>
<p>è¯¥ç³»ç»Ÿæ—¢å¯ä½œä¸º <strong>æ™ºèƒ½äº¤é€šé¢†åŸŸçš„ç ”ç©¶åŸå‹</strong>ï¼Œä¹Ÿå¯ä½œä¸º <strong>è®¡ç®—æœºè§†è§‰å·¥ç¨‹é¡¹ç›®æˆ–æ¯•ä¸šè®¾è®¡çš„é«˜è´¨é‡æ¨¡æ¿</strong>ï¼Œå…·å¤‡è‰¯å¥½çš„æ‰©å±•æ½œåŠ›ä¸å®é™…åº”ç”¨ä»·å€¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº YOLOv8 çš„é©¾é©¶å‘˜ç–²åŠ³çŠ¶æ€è¯†åˆ«ç³»ç»Ÿå®æˆ˜ï¼ˆå«å®Œæ•´æºç ä¸å¯è§†åŒ–ç•Œé¢ï¼‰]]></title>    <link>https://juejin.cn/post/7588487605247967241</link>    <guid>https://juejin.cn/post/7588487605247967241</guid>    <pubDate>2025-12-28T15:22:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588487605247967241" data-draft-id="7588461466597818419" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº YOLOv8 çš„é©¾é©¶å‘˜ç–²åŠ³çŠ¶æ€è¯†åˆ«ç³»ç»Ÿå®æˆ˜ï¼ˆå«å®Œæ•´æºç ä¸å¯è§†åŒ–ç•Œé¢ï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-28T15:22:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æˆ‘æ˜¯æ°å°¼"/> <meta itemprop="url" content="https://juejin.cn/user/4200579899599495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº YOLOv8 çš„é©¾é©¶å‘˜ç–²åŠ³çŠ¶æ€è¯†åˆ«ç³»ç»Ÿå®æˆ˜ï¼ˆå«å®Œæ•´æºç ä¸å¯è§†åŒ–ç•Œé¢ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4200579899599495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æˆ‘æ˜¯æ°å°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T15:22:35.000Z" title="Sun Dec 28 2025 15:22:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºäº YOLOv8 çš„é©¾é©¶å‘˜ç–²åŠ³çŠ¶æ€è¯†åˆ«ç³»ç»Ÿå®æˆ˜ï¼ˆå«å®Œæ•´æºç ä¸å¯è§†åŒ–ç•Œé¢ï¼‰</h2>
<h3 data-id="heading-1">ä¸€ã€é¡¹ç›®èƒŒæ™¯ä¸ç ”ç©¶æ„ä¹‰</h3>
<p>éšç€æ±½è½¦ä¿æœ‰é‡çš„æŒç»­å¢é•¿ï¼Œ<strong>ç–²åŠ³é©¾é©¶å·²æˆä¸ºäº¤é€šäº‹æ•…çš„é‡è¦è¯±å› ä¹‹ä¸€</strong>ã€‚æ®ç»Ÿè®¡ï¼Œåœ¨é«˜é€Ÿå…¬è·¯å’Œé•¿é€”é©¾é©¶åœºæ™¯ä¸­ï¼Œç”±äºé©¾é©¶å‘˜é•¿æ—¶é—´ä¿æŒåŒä¸€å§¿æ€ï¼Œå®¹æ˜“å‡ºç°æ³¨æ„åŠ›ä¸‹é™ã€ååº”è¿Ÿé’ã€é¢‘ç¹çœ¨çœ¼ã€æ‰“å“ˆæ¬ ç­‰ç–²åŠ³ç‰¹å¾ï¼Œä»è€Œæ˜¾è‘—æå‡äº‹æ•…é£é™©ã€‚</p>
<p>ä¼ ç»Ÿçš„ç–²åŠ³æ£€æµ‹æ–¹æ³•å¤šä¾èµ–ä»¥ä¸‹æ–¹å¼ï¼š</p>
<ul>
<li>è½¦è½½æ–¹å‘ç›˜è¡Œä¸ºåˆ†æ</li>
<li>å¿ƒç‡ã€è„‘ç”µç­‰ç”Ÿç†ä¼ æ„Ÿå™¨</li>
<li>äººå·¥å·¡æŸ¥ä¸äº‹ååˆ†æ</li>
</ul>
<p>è¿™äº›æ–¹æ³•æˆ–æˆæœ¬è¾ƒé«˜ï¼Œæˆ–ä¾èµ–é¢å¤–ç¡¬ä»¶ï¼Œæˆ–éš¾ä»¥è§„æ¨¡åŒ–éƒ¨ç½²ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<strong>åŸºäºè®¡ç®—æœºè§†è§‰çš„ç–²åŠ³çŠ¶æ€è¯†åˆ«</strong>å…·å¤‡ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>ä»…ä¾èµ–æ‘„åƒå¤´å³å¯å·¥ä½œ</li>
<li>å¯å®æ—¶åˆ†æé©¾é©¶å‘˜é¢éƒ¨è¡Œä¸º</li>
<li>æ˜“äºä¸ç°æœ‰è½¦è½½ç³»ç»Ÿæˆ–ç›‘æ§ç³»ç»Ÿé›†æˆ</li>
</ul>
<p>åŸºäºæ­¤ï¼Œæœ¬æ–‡å®ç°å¹¶å®Œæ•´è½åœ°äº†ä¸€å¥— <strong>åŸºäº YOLOv8 çš„é©¾é©¶å‘˜ç–²åŠ³çŠ¶æ€è¯†åˆ«ç³»ç»Ÿ</strong>ï¼Œå¹¶é€šè¿‡ <strong>PyQt5 å›¾å½¢åŒ–ç•Œé¢</strong> å®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„â€œå¼€ç®±å³ç”¨â€ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e77b9554fe5410b8e8f95b33d20113f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767540154&amp;x-signature=BKzUP8FPFj1k2i1enZ9ucLY8HuY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62fe308009194a958169d9f04cb84058~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767540154&amp;x-signature=mwWq0fOdUsX9KqKGrOsE3CKdR0Y%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-2">æºç ä¸‹è½½ä¸æ•ˆæœæ¼”ç¤º</h3>
<p>å“”å“©å“”å“©è§†é¢‘ä¸‹æ–¹è§‚çœ‹ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1noKpzNEvQ%2F" target="_blank" title="https://www.bilibili.com/video/BV1noKpzNEvQ/" ref="nofollow noopener noreferrer">www.bilibili.com/video/BV1noâ€¦</a></p>
<p>åŒ…å«ï¼š</p>
<p>ğŸ“¦å®Œæ•´é¡¹ç›®æºç </p>
<p>ğŸ“¦ é¢„è®­ç»ƒæ¨¡å‹æƒé‡</p>
<p>ğŸ—‚ï¸ æ•°æ®é›†åœ°å€ï¼ˆå«æ ‡æ³¨è„šæœ¬</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef39fdb2f7e74645b707c7d9b3478e9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767540154&amp;x-signature=lKm8NgzBmVJzUqr8r%2FX2yVmgEGI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-3">äºŒã€ç³»ç»Ÿæ€»ä½“è®¾è®¡æ–¹æ¡ˆ</h3>
<h4 data-id="heading-4">2.1 ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ</h4>
<p>æ•´ä¸ªç³»ç»Ÿé‡‡ç”¨å…¸å‹çš„ <strong>â€œæ¨¡å‹æ¨ç† + GUI å±•ç¤ºâ€</strong> æ¶æ„ï¼Œæ ¸å¿ƒæµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">è¾“å…¥æºï¼ˆå›¾ç‰‡ / è§†é¢‘ / æ‘„åƒå¤´ï¼‰
<span class="hljs-code">        â†“
YOLOv8 ç–²åŠ³è¡Œä¸ºæ£€æµ‹æ¨¡å‹
        â†“
è¡Œä¸ºçŠ¶æ€åˆ¤å®šï¼ˆé—­çœ¼ / æ‰“å“ˆæ¬  / æ­£å¸¸ï¼‰
        â†“
PyQt5 å›¾å½¢ç•Œé¢å®æ—¶å±•ç¤º
        â†“
æ£€æµ‹ç»“æœä¿å­˜ä¸å›æ”¾
</span></code></pre>
<p>ç³»ç»Ÿæ—¢å¯ä»¥ä½œä¸º <strong>ç‹¬ç«‹æ¡Œé¢åº”ç”¨è¿è¡Œ</strong>ï¼Œä¹Ÿå¯ä½œä¸º <strong>ç–²åŠ³æ£€æµ‹æ¨¡å—åµŒå…¥åˆ°å…¶ä»–é¡¹ç›®ä¸­</strong>ã€‚</p>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d17f658c12e46159802b8624fcdfa72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767540154&amp;x-signature=CVsWVxtaTMEkfOOFwV6igCqDPiw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52c6328fcc86445a86dd55128bec49d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767540154&amp;x-signature=4ue2eDeM2BFrUGMB29htoQm3PtY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-5">2.2 åŠŸèƒ½æ¨¡å—åˆ’åˆ†</h4>
<p>ç³»ç»Ÿä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒåŠŸèƒ½æ¨¡å—ï¼š</p>

































<table><thead><tr><th>æ¨¡å—åç§°</th><th>åŠŸèƒ½è¯´æ˜</th></tr></thead><tbody><tr><td>æ¨¡å‹åŠ è½½æ¨¡å—</td><td>æ”¯æŒåŠ è½½è®­ç»ƒå¥½çš„ YOLOv8 æƒé‡</td></tr><tr><td>å›¾åƒæ£€æµ‹æ¨¡å—</td><td>å•å¼ æˆ–æ‰¹é‡å›¾ç‰‡ç–²åŠ³è¯†åˆ«</td></tr><tr><td>è§†é¢‘æ£€æµ‹æ¨¡å—</td><td>è§†é¢‘é€å¸§åˆ†æå¹¶ä¿å­˜ç»“æœ</td></tr><tr><td>æ‘„åƒå¤´æ¨¡å—</td><td>å®æ—¶ç–²åŠ³è¡Œä¸ºæ£€æµ‹</td></tr><tr><td>é˜ˆå€¼æ§åˆ¶æ¨¡å—</td><td>åŠ¨æ€è°ƒæ•´ç½®ä¿¡åº¦é˜ˆå€¼</td></tr><tr><td>ç»“æœä¿å­˜æ¨¡å—</td><td>è‡ªåŠ¨ä¿å­˜æ£€æµ‹å›¾ç‰‡ä¸è§†é¢‘</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€ç–²åŠ³çŠ¶æ€è¯†åˆ«æ€è·¯è®¾è®¡</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/441ea3e6401740b88ed354eb286aa5d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767540154&amp;x-signature=i%2FXoYXFHcA3NIsRetFAr136D7bw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4a7406f7bed4c2fbc1351ea69f28b55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oiR5piv5p2w5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767540154&amp;x-signature=Vns6%2FLYr8J97c3flPtDkQ5tqCwg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-7">3.1 ç–²åŠ³è¡Œä¸ºå»ºæ¨¡æ€è·¯</h4>
<p>æœ¬é¡¹ç›®å¹¶éç›´æ¥åšâ€œç–²åŠ³ / éç–²åŠ³â€äºŒåˆ†ç±»ï¼Œè€Œæ˜¯é‡‡ç”¨ <strong>æ›´å…·å·¥ç¨‹å¯è§£é‡Šæ€§çš„è¡Œä¸ºæ£€æµ‹ç­–ç•¥</strong>ï¼Œå³ï¼š</p>
<blockquote>
<p><strong>å…ˆæ£€æµ‹å…·ä½“ç–²åŠ³è¡Œä¸ºï¼Œå†ç»¼åˆåˆ¤æ–­é©¾é©¶çŠ¶æ€</strong></p>
</blockquote>
<p>ä¸»è¦æ£€æµ‹ä»¥ä¸‹å…³é”®ç›®æ ‡ï¼š</p>
<ul>
<li><strong>é—­çœ¼ï¼ˆEye Closedï¼‰</strong></li>
<li><strong>æ‰“å“ˆæ¬ ï¼ˆYawningï¼‰</strong></li>
</ul>
<p>é€šè¿‡å¯¹ <strong>çœ¼ç›çŠ¶æ€ + å˜´éƒ¨å¼ å¼€ç¨‹åº¦</strong> çš„ç»„åˆåˆ†æï¼Œå¯ä»¥æœ‰æ•ˆåŒºåˆ†ï¼š</p>
<ul>
<li>æ­£å¸¸é©¾é©¶</li>
<li>è½»åº¦ç–²åŠ³</li>
<li>æ˜æ˜¾ç–²åŠ³</li>
</ul>
<p>è¯¥æ–¹å¼ç›¸æ¯”çº¯åˆ†ç±»æ¨¡å‹ï¼Œæ›´é€‚åˆåç»­æ‰©å±•ï¼ˆå¦‚åˆ†ç¥æ£€æµ‹ã€ä½å¤´ç©æ‰‹æœºç­‰ï¼‰ã€‚</p>
<hr/>
<h4 data-id="heading-8">3.2 æ¨¡å‹é€‰æ‹©åŸå› ï¼šYOLOv8</h4>
<p>YOLOv8 æ˜¯ Ultralytics æ¨å‡ºçš„æ–°ä¸€ä»£ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>Anchor-Free æ¶æ„ï¼Œè®­ç»ƒæ›´ç¨³å®š</li>
<li>æ¨ç†é€Ÿåº¦å¿«ï¼Œé€‚åˆå®æ—¶è§†é¢‘æµ</li>
<li>åŸç”Ÿæ”¯æŒ ONNX / TensorRT å¯¼å‡º</li>
<li>ç”Ÿæ€æˆç†Ÿï¼Œå·¥ç¨‹èµ„æ–™ä¸°å¯Œ</li>
</ul>
<p>åœ¨ç–²åŠ³é©¾é©¶è¿™ç§ <strong>å®æ—¶æ€§è¦æ±‚æé«˜</strong> çš„åœºæ™¯ä¸­ï¼ŒYOLOv8 éå¸¸é€‚åˆéƒ¨ç½²åœ¨è¾¹ç¼˜ç«¯æˆ–æœ¬åœ°ç«¯ã€‚</p>
<hr/>
<h3 data-id="heading-9">å››ã€æ•°æ®é›†æ„å»ºä¸è®­ç»ƒæµç¨‹</h3>
<h4 data-id="heading-10">4.1 æ•°æ®é›†ç»“æ„è®¾è®¡</h4>
<p>é¡¹ç›®é‡‡ç”¨æ ‡å‡† YOLO æ•°æ®é›†æ ¼å¼ï¼Œç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">dataset/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ train
â”‚   â””â”€â”€ <span class="hljs-keyword">val</span>
â”œâ”€â”€ labels/
â”‚   â”œâ”€â”€ train
â”‚   â””â”€â”€ <span class="hljs-keyword">val</span>
</code></pre>
<p>æ¯ä¸€å¼ å›¾ç‰‡éƒ½å¯¹åº”ä¸€ä¸ª <code>.txt</code> æ ‡æ³¨æ–‡ä»¶ï¼Œè®°å½•ç›®æ ‡ç±»åˆ«ä¸å½’ä¸€åŒ–åçš„è¾¹æ¡†ä¿¡æ¯ã€‚</p>
<hr/>
<h4 data-id="heading-11">4.2 æ ‡æ³¨ç±»åˆ«è¯´æ˜</h4>
<p>æœ¬é¡¹ç›®æ ‡æ³¨çš„æ ¸å¿ƒç±»åˆ«åŒ…æ‹¬ï¼š</p>
<ul>
<li><code>eye_close</code></li>
<li><code>yawn</code></li>
</ul>
<p>å¯æ ¹æ®å®é™…éœ€æ±‚ç»§ç»­æ‰©å±•ï¼š</p>
<ul>
<li><code>eye_open</code></li>
<li><code>phone_use</code></li>
<li><code>head_down</code></li>
</ul>
<hr/>
<h4 data-id="heading-12">4.3 æ¨¡å‹è®­ç»ƒå‘½ä»¤ç¤ºä¾‹</h4>
<p>ä½¿ç”¨ Ultralytics å®˜æ–¹ CLI å³å¯å®Œæˆè®­ç»ƒï¼š</p>
<pre><code class="hljs language-bash" lang="bash">yolo detect train \
data=datasets/expression/loopy.yaml \
model=yolov8n.pt \
epochs=100 \
batch=16 \
lr0=0.001
</code></pre>
<p>è®­ç»ƒå®Œæˆåï¼Œå°†è‡ªåŠ¨ç”Ÿæˆï¼š</p>
<ul>
<li>æœ€ä¼˜æƒé‡ <code>best.pt</code></li>
<li>æŸå¤±å‡½æ•°æ›²çº¿</li>
<li>mAP è¯„ä¼°æŒ‡æ ‡</li>
<li>æ··æ·†çŸ©é˜µ</li>
</ul>
<hr/>
<h3 data-id="heading-13">äº”ã€æ¨¡å‹æ¨ç†ä¸ç»“æœè§£æ</h3>
<h4 data-id="heading-14">5.1 æ¨ç†ä»£ç ç¤ºä¾‹</h4>
<p>æ¨¡å‹æ¨ç†åŸºäº PyTorch ä¸ Ultralytics APIï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> ultralytics <span class="hljs-keyword">import</span> YOLO

model = YOLO(<span class="hljs-string">"best.pt"</span>)
results = model(<span class="hljs-string">"test.jpg"</span>, conf=<span class="hljs-number">0.25</span>)

<span class="hljs-keyword">for</span> box <span class="hljs-keyword">in</span> results[<span class="hljs-number">0</span>].boxes:
    cls = <span class="hljs-built_in">int</span>(box.cls)
    score = <span class="hljs-built_in">float</span>(box.conf)
</code></pre>
<p>æ¨¡å‹è¾“å‡ºåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç›®æ ‡ç±»åˆ«</li>
<li>ç½®ä¿¡åº¦</li>
<li>è¾¹æ¡†åæ ‡</li>
</ul>
<hr/>
<h4 data-id="heading-15">5.2 çŠ¶æ€åˆ¤å®šé€»è¾‘</h4>
<p>åœ¨å·¥ç¨‹å®ç°ä¸­ï¼Œå¯ä»¥é‡‡ç”¨å¦‚ä¸‹é€»è¾‘ï¼š</p>
<ul>
<li>è¿ç»­å¤šå¸§æ£€æµ‹åˆ°é—­çœ¼ â†’ ç–²åŠ³é¢„è­¦</li>
<li>é—´æ­‡æ€§æ‰“å“ˆæ¬  â†’ ç–²åŠ³è¶‹åŠ¿æç¤º</li>
<li>é•¿æ—¶é—´æ— å¼‚å¸¸ â†’ æ­£å¸¸çŠ¶æ€</li>
</ul>
<p>è¿™ç§ <strong>æ—¶åºèåˆç­–ç•¥</strong> å¯æœ‰æ•ˆé™ä½è¯¯æŠ¥ç‡ã€‚</p>
<hr/>
<h3 data-id="heading-16">å…­ã€PyQt5 å›¾å½¢ç•Œé¢è®¾è®¡</h3>
<h4 data-id="heading-17">6.1 GUI è®¾è®¡ç›®æ ‡</h4>
<p>åœ¨å®é™…è½åœ°ä¸­ï¼Œå¾ˆå¤šç”¨æˆ·å¹¶ä¸å…·å¤‡æ·±åº¦å­¦ä¹ èƒŒæ™¯ï¼Œå› æ­¤ GUI è®¾è®¡çš„ç›®æ ‡æ˜¯ï¼š</p>
<ul>
<li>ä¸éœ€è¦å†™ä»£ç å³å¯è¿è¡Œ</li>
<li>æ“ä½œæµç¨‹ç®€å•ç›´è§‚</li>
<li>æ”¯æŒä¸€é”®æ£€æµ‹ä¸ä¿å­˜</li>
</ul>
<hr/>
<h4 data-id="heading-18">6.2 ç•Œé¢åŠŸèƒ½è¯´æ˜</h4>
<p>PyQt5 ç•Œé¢ä¸»è¦åŒ…æ‹¬ï¼š</p>
<ul>
<li>æ¨¡å‹åŠ è½½æŒ‰é’®</li>
<li>å›¾ç‰‡ / è§†é¢‘é€‰æ‹©æŒ‰é’®</li>
<li>æ‘„åƒå¤´å¼€å…³</li>
<li>æ£€æµ‹ç»“æœæ˜¾ç¤ºåŒºåŸŸ</li>
<li>æ—¥å¿—ä¸çŠ¶æ€æç¤ºåŒºåŸŸ</li>
</ul>
<p>å¤šçº¿ç¨‹æ¨ç†æœºåˆ¶ä¿è¯äº† <strong>æ£€æµ‹è¿‡ç¨‹ä¸­ç•Œé¢ä¸å¡é¡¿</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-19">ä¸ƒã€ç³»ç»Ÿéƒ¨ç½²ä¸è¿è¡Œæ–¹å¼</h3>
<h4 data-id="heading-20">7.1 ä¸€é”®è¿è¡Œ</h4>
<p>é¡¹ç›®å·²å®Œæˆå®Œæ•´æ‰“åŒ…ï¼Œè¿è¡Œæ–¹å¼éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python main.py
</code></pre>
<p>æ— éœ€é‡æ–°è®­ç»ƒå³å¯ä½“éªŒå®Œæ•´åŠŸèƒ½ã€‚</p>
<hr/>
<h4 data-id="heading-21">7.2 å¯æ‰©å±•éƒ¨ç½²æ–¹å‘</h4>
<p>è¯¥ç³»ç»Ÿå¯è¿›ä¸€æ­¥éƒ¨ç½²åˆ°ï¼š</p>
<ul>
<li>è½¦è½½åµŒå…¥å¼è®¾å¤‡</li>
<li>æ™ºèƒ½é©¾é©¶è¾…åŠ©ç³»ç»Ÿ</li>
<li>å®‰å…¨ç›‘æ§ç»ˆç«¯</li>
<li>æ•™å­¦ä¸ç§‘ç ”å®éªŒå¹³å°</li>
</ul>
<hr/>
<h3 data-id="heading-22">å…«ã€é¡¹ç›®æ€»ç»“ä¸æœªæ¥å±•æœ›</h3>
<p>æœ¬æ–‡å®Œæ•´ä»‹ç»äº†ä¸€å¥— <strong>åŸºäº YOLOv8 çš„ç–²åŠ³é©¾é©¶è¯†åˆ«ç³»ç»Ÿ</strong>ï¼Œä»ç®—æ³•åŸç†ã€æ•°æ®é›†æ„å»ºã€æ¨¡å‹è®­ç»ƒåˆ° GUI å·¥ç¨‹è½åœ°ï¼Œå½¢æˆäº†å®Œæ•´é—­ç¯ã€‚</p>
<h4 data-id="heading-23">é¡¹ç›®æ ¸å¿ƒä¼˜åŠ¿æ€»ç»“ï¼š</h4>
<ul>
<li>ğŸš— é¢å‘çœŸå®é©¾é©¶åœºæ™¯ï¼Œå®ç”¨æ€§å¼º</li>
<li>ğŸ§  è¡Œä¸ºçº§æ£€æµ‹ï¼Œç»“æœå¯è§£é‡Š</li>
<li>ğŸ’» PyQt5 å›¾å½¢ç•Œé¢ï¼Œé›¶ä»£ç è¿è¡Œ</li>
<li>âš¡ YOLOv8 å®æ—¶æ¨ç†ï¼Œæ€§èƒ½ç¨³å®š</li>
<li>ğŸ“¦ é¡¹ç›®å®Œæ•´æ‰“åŒ…ï¼Œå¼€ç®±å³ç”¨</li>
</ul>
<h4 data-id="heading-24">åç»­å¯æ‰©å±•æ–¹å‘ï¼š</h4>
<ul>
<li>å¼•å…¥æ—¶åºæ¨¡å‹ï¼ˆLSTM / Transformerï¼‰</li>
<li>å¢åŠ åˆ†ç¥ã€ä½å¤´ã€æŠ½çƒŸç­‰è¡Œä¸º</li>
<li>è”åˆå¤šæ‘„åƒå¤´å¤šè§†è§’åˆ†æ</li>
<li>ä¸è¯­éŸ³æŠ¥è­¦ã€CAN æ€»çº¿è”åŠ¨</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å¼€å‘è€…ä½¿ç”¨ AI çš„èƒ½åŠ›å±‚çº§â€”â€”ä»è¡¨é¢ä½¿ç”¨åˆ°å·¥ç¨‹åŒ–èƒ½åŠ›çš„çœŸæ­£åˆ†æ°´å²­]]></title>    <link>https://juejin.cn/post/7588376012121112603</link>    <guid>https://juejin.cn/post/7588376012121112603</guid>    <pubDate>2025-12-28T15:42:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588376012121112603" data-draft-id="7588355695101493257" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å¼€å‘è€…ä½¿ç”¨ AI çš„èƒ½åŠ›å±‚çº§â€”â€”ä»è¡¨é¢ä½¿ç”¨åˆ°å·¥ç¨‹åŒ–èƒ½åŠ›çš„çœŸæ­£åˆ†æ°´å²­"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,äººå·¥æ™ºèƒ½,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-28T15:42:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœˆäº®æœ‰çŸ³å¤´"/> <meta itemprop="url" content="https://juejin.cn/user/3526889032395613"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å¼€å‘è€…ä½¿ç”¨ AI çš„èƒ½åŠ›å±‚çº§â€”â€”ä»è¡¨é¢ä½¿ç”¨åˆ°å·¥ç¨‹åŒ–èƒ½åŠ›çš„çœŸæ­£åˆ†æ°´å²­
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3526889032395613/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœˆäº®æœ‰çŸ³å¤´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T15:42:52.000Z" title="Sun Dec 28 2025 15:42:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¾ˆå¤šå‰ç«¯å¼€å‘è€…å·²ç»åœ¨â€œä½¿ç”¨ AIâ€ï¼š<br/>
ä¼šé—®é—®é¢˜ã€ä¼šè®© AI å†™ä»£ç ã€ç”šè‡³åœ¨ IDE é‡Œå’Œ AI å¯¹è¯ã€‚</p>
<p>ä½†å¦‚æœè¿™äº›ä½¿ç”¨æ–¹å¼ <strong>æ— æ³•ç¨³å®šåœ°äº§å‡ºå¯è¿è¡Œã€å¯éªŒè¯ã€å¯å›å½’çš„å·¥ç¨‹ç»“æœ</strong>ï¼Œ<br/>
é‚£ä¹ˆä¸¥æ ¼æ¥è¯´â€”â€”<strong>å…¶å®è¿˜æ²¡æœ‰çœŸæ­£å…¥é—¨ã€‚</strong></p>
</blockquote>
<p>è¿™ç¯‡æ–‡ç« æƒ³ç³»ç»Ÿå›ç­”ä¸€ä¸ªé—®é¢˜ï¼š</p>
<blockquote>
<p><strong>å‰ç«¯å¼€å‘è€…â€œä½¿ç”¨ AIâ€çš„èƒ½åŠ›ï¼Œæ˜¯æœ‰æ˜ç¡®å±‚çº§å’Œåˆ†æ°´å²­çš„ã€‚</strong></p>
</blockquote>
<p>ä¸æ˜¯å·¥å…·å¤šä¸å¤šï¼Œä¹Ÿä¸æ˜¯æ¨¡å‹æ–°ä¸æ–°ï¼Œ<br/>
è€Œæ˜¯ï¼š<strong>ä½ ç”¨ AI çš„æ–¹å¼ï¼Œå†³å®šäº†å®ƒåœ¨ä½ å·¥ç¨‹ä½“ç³»é‡Œçš„è§’è‰²ã€‚</strong></p>
<p>æŠŠ AI æ”¾è¿›å·¥ç¨‹é“¾è·¯ï¼Œç”¨å·¥ç¨‹çº¦æŸå¯¹æŠ—å¹»è§‰ï¼Œç”¨éªŒè¯ä¸åé¦ˆé€¼è¿‘çœŸå®ã€‚
<strong>AI å·¥ç¨‹åŒ–çš„æœ¬è´¨ï¼Œå¹¶ä¸æ˜¯è®©æ¨¡å‹æ›´èªæ˜ï¼Œ<br/>
è€Œæ˜¯æŠŠ AI æ”¾å…¥å®Œæ•´çš„è½¯ä»¶å·¥ç¨‹é“¾è·¯ä¸­ã€‚</strong></p>
<p>é€šè¿‡ MCP æä¾›çœŸå®é¡¹ç›®ä¸Šä¸‹æ–‡ï¼Œæœ€å¤§é™åº¦å‹ç¼©å¹»è§‰ç©ºé—´ï¼›<br/>
é€šè¿‡ Spec ä¸å·¥ç¨‹è§„åˆ™å¯¹ AI è¡Œä¸ºè¿›è¡Œç¡¬çº¦æŸï¼›<br/>
é€šè¿‡è‡ªåŠ¨åŒ–æµ‹è¯•ä¸æ„å»ºéªŒè¯ï¼ŒæŠŠâ€œæ˜¯å¦æ­£ç¡®â€çš„åˆ¤æ–­äº¤ç»™æœºå™¨ï¼›<br/>
é€šè¿‡å¤šè½®æ‰§è¡Œä¸ä¿®å¤å¾ªç¯ï¼Œè®© AI åƒå·¥ç¨‹å¸ˆä¸€æ ·è°ƒè¯•é—®é¢˜ï¼›<br/>
æœ€ç»ˆå†é€šè¿‡äººå·¥ Review çš„åé¦ˆï¼Œä¸æ–­åå“ºå’Œå‡çº§å·¥ç¨‹è§„èŒƒã€‚</p>
<p><strong>ç›®æ ‡ä¸æ˜¯â€œæ¶ˆç­å¹»è§‰â€ï¼Œè€Œæ˜¯è®© AI çš„è¡Œä¸ºå°½å¯èƒ½æ¥è¿‘çœŸå®å·¥ç¨‹ä¸–ç•Œ</strong></p>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆâ€œæˆ‘å·²ç»åœ¨ç”¨ AIâ€ï¼Œå´æ„Ÿè§‰å§‹ç»ˆä¸è¸å®ï¼Ÿ</h2>
<p>ä¸€ä¸ªå¾ˆå¸¸è§çš„çœŸå®åœºæ™¯ï¼š</p>
<ul>
<li>AI èƒ½å†™ Vue é¡µé¢ï¼Œä½†ä¸çŸ¥é“ä½ çš„é¡¹ç›®ç»“æ„</li>
<li>ä¸çŸ¥é“ä½ ä»¬å°è£…çš„ <code>BaseList</code>ã€<code>request</code></li>
<li>ä¸çŸ¥é“è·¯ç”±ã€æƒé™ã€æ„å»ºè§„åˆ™</li>
<li>æ›´ä¸çŸ¥é“æ€ä¹ˆéªŒè¯èƒ½ä¸èƒ½è·‘</li>
</ul>
<p>äºæ˜¯æµç¨‹å˜æˆäº†ï¼š</p>
<blockquote>
<p>é—® AI â†’ å¤åˆ¶ä»£ç  â†’ æŠ¥é”™ â†’ æ‰‹æ”¹ â†’ å†é—® AI</p>
</blockquote>
<p><strong>é—®é¢˜ä¸åœ¨äº AI ä¸è¡Œï¼Œè€Œåœ¨äºï¼š</strong></p>
<blockquote>
<p>ä½ ç”¨çš„æ˜¯ <strong>ç”Ÿæˆèƒ½åŠ›</strong>ï¼Œè€Œä¸æ˜¯ <strong>å·¥ç¨‹èƒ½åŠ›</strong>ã€‚</p>
</blockquote>
<h2 data-id="heading-1">äºŒã€å‰ç«¯å¼€å‘è€…ä½¿ç”¨ AI çš„èƒ½åŠ›å±‚çº§ï¼ˆL0â€“L6ï¼‰</h2>
<h3 data-id="heading-2">ğŸŸ¢ L0ï½œçº¯å¯¹è¯å‹ä½¿ç”¨ï¼šæŠŠ AI å½“æœç´¢å¼•æ“</h3>
<p><strong>å…¸å‹æ–¹å¼</strong></p>
<ul>
<li>æµè§ˆå™¨é‡Œé—® AI</li>
<li>å¤åˆ¶ç²˜è´´ä»£ç </li>
</ul>
<p><strong>ä½ åœ¨åšä»€ä¹ˆ</strong></p>
<ul>
<li>AI ç»™å»ºè®®</li>
<li>ä½ è´Ÿè´£æ‰€æœ‰åˆ¤æ–­</li>
</ul>
<p><strong>èƒ½åŠ›ä¸Šé™</strong></p>
<ul>
<li>âŒ AI ä¸çŸ¥é“ä½ çš„é¡¹ç›®</li>
<li>âŒ ä»£ç æ˜¯å¦èƒ½è·‘ï¼Œå…¨é ä½ </li>
</ul>
<blockquote>
<p><strong>æœ¬è´¨</strong>ï¼šAI = æœç´¢å¼•æ“ + ç¤ºä¾‹ç”Ÿæˆå™¨</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">ğŸŸ¡ L1ï½œæç¤ºè¯å·¥ç¨‹ï¼šæ›´ä¼šâ€œè·Ÿ AI è¯´è¯â€</h3>
<p><strong>ä½ å¼€å§‹åšçš„äº‹</strong></p>
<ul>
<li>é™å®š Vue2 / Ant Design Vue</li>
<li>è¦æ±‚å…ˆç»™æ–¹æ¡ˆå†å†™ä»£ç </li>
<li>è§„å®šè¾“å‡ºç»“æ„</li>
</ul>
<p><strong>æå‡ç‚¹</strong></p>
<ul>
<li>è·‘åå˜å°‘</li>
<li>å¯è¯»æ€§å˜å¥½</li>
</ul>
<p><strong>ä½†é—®é¢˜ä»åœ¨</strong></p>
<ul>
<li>âŒ é¡¹ç›®ä¸Šä¸‹æ–‡å…¨é ä½ æè¿°</li>
<li>âŒ ä¸€æ¢äºº / ä¸€æ¢æ¨¡å‹å°±ä¸ç¨³</li>
</ul>
<blockquote>
<p><strong>è¿™æ˜¯â€œè¯´æ¸…æ¥šäº†â€ï¼Œä¸æ˜¯â€œç”¨å¯¹äº†â€ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-4">ğŸŸ  L2ï½œIDE å†…ç½® AIï¼šèƒ½çœ‹ä»£ç ï¼Œä½†åªçœ‹ä¸€ç‚¹</h3>
<p><strong>ä»£è¡¨åœºæ™¯</strong></p>
<ul>
<li>Cursor / Trae é‡Œç›´æ¥å¯¹è¯</li>
<li>AI èƒ½çœ‹åˆ°å½“å‰æ–‡ä»¶</li>
</ul>
<p><strong>èƒ½åšçš„äº‹</strong></p>
<ul>
<li>æ”¹ä¸€ä¸ªç»„ä»¶</li>
<li>ä¿®ä¸€ä¸ª lint æŠ¥é”™</li>
</ul>
<p><strong>èƒ½åŠ›è¾¹ç•Œ</strong></p>
<ul>
<li>âŒ çœ‹ä¸åˆ°æ•´ä¸ª repo</li>
<li>âŒ ä¸ä¼šä¸»åŠ¨æ‰¾æ ·ä¾‹</li>
<li>âŒ ä¸ä¼šè·‘æ„å»ºéªŒè¯</li>
</ul>
<blockquote>
<p><strong>AI è¿˜æ˜¯â€œå‰¯é©¾é©¶â€ï¼Œä¸æ˜¯å·¥ç¨‹å‚ä¸è€…ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-5">ğŸŸ¢ğŸŸ¢ L3ï½œIDE + MCPï¼šAI å¼€å§‹çœŸæ­£â€œå¹²æ´»â€</h3>
<p>è¿™æ˜¯<strong>ç¬¬ä¸€ä¸ªå…³é”®åˆ†æ°´å²­</strong>ã€‚</p>
<p><strong>ä½ åšäº†ä»€ä¹ˆæ”¹å˜</strong></p>
<ul>
<li>
<p>è®© AI èƒ½ï¼š</p>
<ul>
<li>è¯»æ•´ä¸ªé¡¹ç›®ï¼ˆç™½åå•ï¼‰</li>
<li>æœç´¢å·²æœ‰å®ç°</li>
<li>ä¿®æ”¹çœŸå®æ–‡ä»¶ï¼ˆpatchï¼‰</li>
<li>è·‘ <code>npm run lint / build</code></li>
</ul>
</li>
</ul>
<p><strong>AI èƒ½åŠ›å‡çº§ä¸º</strong></p>
<ul>
<li>çœŸæ­£å‚ä¸å·¥ç¨‹æ‰§è¡Œ</li>
<li>ç”¨ä½ ä»¬çš„ä»£ç å½“æ¨¡æ¿</li>
<li>ç”¨éªŒè¯ç»“æœè¯æ˜è‡ªå·±</li>
</ul>
<p><strong>ä½†è¿˜ä¸å¤Ÿ</strong></p>
<ul>
<li>è¾“å‡ºé£æ ¼ä¸ç¨³å®š</li>
<li>ä¸åŒéœ€æ±‚ï¼Œç»“æœå·®å¼‚å¤§</li>
</ul>
<blockquote>
<p><strong>AI ä¼šå¹²æ´»äº†ï¼Œä½†è¿˜æ²¡æœ‰â€œäº¤ä»˜æ ‡å‡†â€ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-6">ğŸ”µ L4ï½œSpec é©±åŠ¨ï¼šä»â€œå†™ä»£ç â€åˆ°â€œæŒ‰åˆåŒäº¤ä»˜â€</h3>
<p>è¿™æ˜¯<strong>çœŸæ­£çš„å·¥ç¨‹åˆ†æ°´å²­</strong>ã€‚</p>
<p><strong>å˜åŒ–ä¸åœ¨å·¥å…·ï¼Œè€Œåœ¨å·¥ä½œæ–¹å¼</strong></p>
<ul>
<li>
<p>å…ˆå†™ Specï¼Œå†è®© AI å®ç°</p>
</li>
<li>
<p>Spec é‡Œå†™æ¸…æ¥šï¼š</p>
<ul>
<li>é¡µé¢è·¯ç”±</li>
<li>æ•°æ®å¥‘çº¦</li>
<li>UI/äº¤äº’çº¦æŸ</li>
<li>éªŒæ”¶æ ‡å‡†</li>
</ul>
</li>
</ul>
<p><strong>AI çš„è§’è‰²å˜åŒ–</strong></p>
<blockquote>
<p>âŒ ä¸å†â€œè‡ªç”±å‘æŒ¥â€<br/>
âœ… æŒ‰ Spec å®ç°<br/>
âœ… å¯¹ç…§æ¸…å•è‡ªæŸ¥</p>
</blockquote>
<p><strong>è¿™ä¸€æ­¥è§£å†³äº†ä»€ä¹ˆ</strong></p>
<ul>
<li>ç¨³å®šæ€§</li>
<li>å¯å¤ç°</li>
<li>å¯å›å½’</li>
<li>å›¢é˜Ÿå¯åä½œ</li>
</ul>
<hr/>
<h3 data-id="heading-7">ğŸŸ£ L5ï½œAgent åŒ–ä½¿ç”¨ï¼šAI åƒé«˜çº§å·¥ç¨‹å¸ˆ</h3>
<p><strong>AI å¼€å§‹å…·å¤‡</strong></p>
<ul>
<li>è‡ªåŠ¨æ‹†ä»»åŠ¡</li>
<li>å¤šæ­¥æ‰§è¡Œ</li>
<li>å¤±è´¥è‡ªä¿®å¤</li>
<li>è‡ªåŠ¨éªŒè¯</li>
</ul>
<p><strong>å…¸å‹æµç¨‹</strong></p>
<pre><code class="hljs language-js" lang="js">è¯» <span class="hljs-title class_">Spec</span> â†’ æ‹†è§£ â†’ å®ç° â†’ éªŒè¯ â†’ ä¿®å¤ â†’ äº¤ä»˜
</code></pre>
<p>ä½ ä¸å†å…³å¿ƒâ€œå®ƒæ€ä¹ˆä¸€æ­¥æ­¥åšâ€ã€‚</p>
<hr/>
<h3 data-id="heading-8">ğŸ”´ L6ï½œå·¥ç¨‹ä½“ç³»çº§ä½¿ç”¨ï¼šAI æˆä¸ºç³»ç»Ÿä¸€éƒ¨åˆ†</h3>
<p>è¿™ä¸€å±‚ï¼Œå·²ç»ä¸æ˜¯â€œå†™é¡µé¢â€äº†ã€‚</p>
<p><strong>ç‰¹å¾</strong></p>
<ul>
<li>Spec â†’ Schema</li>
<li>Schema â†’ è‡ªåŠ¨ç”Ÿæˆé¡µé¢</li>
<li>AI è´Ÿè´£è°ƒåº¦ä¸æ ¡éªŒ</li>
</ul>
<p><strong>ä½ åœ¨åšçš„äº‹æƒ…</strong></p>
<blockquote>
<p>ä¸æ˜¯å†™ä»£ç ï¼Œè€Œæ˜¯ <strong>å®šä¹‰å·¥ç¨‹èƒ½åŠ›</strong></p>
</blockquote>
<h2 data-id="heading-9">ä¸‰ã€æ›´é«˜é˜¶ï¼šçœŸæ­£çš„å·¥ç¨‹èŒƒå¼å‡çº§ï¼ˆL7+ï¼‰</h2>
<h3 data-id="heading-10">ğŸ”¶ L7ï½œSpec-as-Codeï¼ˆè§„èŒƒå³ä»£ç ï¼‰</h3>
<ul>
<li>Spec ä¸å†æ˜¯æ–‡æ¡£</li>
<li>æ˜¯ JSON / YAML Schema</li>
<li>ä¸åˆæ³• â†’ ä¸æ‰§è¡Œ</li>
</ul>
<h3 data-id="heading-11">ğŸ”· L8ï½œå·¥ç¨‹æ²»ç†ï¼ˆGuardrailsï¼‰</h3>
<ul>
<li>ç¦æ­¢ç»•è¿‡å°è£…</li>
<li>ç¦æ­¢æ–°å¢ä¾èµ–</li>
<li>ç¦æ­¢è¶Šæƒè·¯ç”±</li>
</ul>
<p>AI è¢«å·¥ç¨‹è§„åˆ™â€œçº¦æŸâ€ã€‚</p>
<h3 data-id="heading-12">ğŸ”· L9ï½œMulti-Agent åä½œ</h3>
<ul>
<li>Planner / Frontend / QA / Reviewer</li>
<li>AI åƒä¸€ä¸ªå·¥ç¨‹å›¢é˜Ÿ</li>
</ul>
<h3 data-id="heading-13">ğŸ”´ L10ï½œè‡ªè¿›åŒ–å·¥ç¨‹ä½“ç³»</h3>
<ul>
<li>äººçš„ Review æ„è§</li>
<li>å˜æˆæœºå™¨è§„åˆ™</li>
<li>ä¸‹æ¬¡ä¸å†çŠ¯åŒæ ·é”™è¯¯</li>
</ul>
<h2 data-id="heading-14">å››ã€è¿™ä¸æ˜¯å·¥å…·å‡çº§ï¼Œè€Œæ˜¯å·¥ç¨‹è®¤çŸ¥å‡çº§</h2>
<p>å¾ˆå¤šäººé—®ï¼š</p>
<blockquote>
<p>â€œæˆ‘è¦ä¸è¦ç”¨ MCPï¼Ÿè¦ä¸è¦å†™ Specï¼Ÿè¦ä¸è¦ Agentï¼Ÿâ€</p>
</blockquote>
<p>çœŸæ­£çš„é—®é¢˜å…¶å®æ˜¯ï¼š</p>
<blockquote>
<p><strong>ä½ å¸Œæœ› AI åœ¨ä½ å›¢é˜Ÿé‡Œï¼Œæ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿ</strong></p>
</blockquote>
<ul>
<li>å†™ä»£ç çš„åŠ©æ‰‹ï¼Ÿ</li>
<li>èƒ½äº¤ä»˜çš„å·¥ç¨‹å¸ˆï¼Ÿ</li>
<li>è¿˜æ˜¯å·¥ç¨‹ä½“ç³»çš„ä¸€éƒ¨åˆ†ï¼Ÿ</li>
</ul>
<h2 data-id="heading-15">äº”ã€ç»“è¯­ï¼šçœŸæ­£çš„â€œå…¥é—¨â€æ ‡å‡†æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<blockquote>
<p><strong>çœŸæ­£å…¥é—¨ AI å‰ç«¯å¼€å‘çš„æ ‡å¿—ï¼Œä¸æ˜¯â€œå†™å¾—å¿«â€ï¼Œ<br/>
è€Œæ˜¯ï¼š<br/>
AI æ˜¯å¦èƒ½ç¨³å®šåœ°äº§å‡ºâ€”â€”<br/>
å¯è¿è¡Œã€å¯éªŒè¯ã€å¯å›å½’çš„å·¥ç¨‹ç»“æœã€‚</strong></p>
</blockquote>
<ul>
<li>Prompt æ˜¯æŠ€å·§</li>
<li>MCP æ˜¯èƒ½åŠ›</li>
<li>Spec æ˜¯å¥‘çº¦</li>
<li>Guardrails æ˜¯çºªå¾‹</li>
<li>Agent æ˜¯ç»„ç»‡</li>
<li>å·¥ç¨‹ä½“ç³»æ˜¯ç»ˆç‚¹</li>
</ul>
<p>å¦‚æœä½ å‘ç°è‡ªå·±ï¼š</p>
<ul>
<li>å·²ç»åœ¨ç”¨ AI</li>
<li>ä½†ä»ç„¶ä¸æ”¾å¿ƒè®©å®ƒâ€œç›´æ¥æ”¹é¡¹ç›®â€</li>
<li>ä¸æ•¢è®©å®ƒâ€œç‹¬ç«‹äº¤ä»˜åŠŸèƒ½â€</li>
</ul>
<p>é‚£ä¸æ˜¯ä½ è½åï¼Œè€Œæ˜¯ä½ åˆšå¥½ç«™åœ¨â€œè¡¨é¢ä½¿ç”¨â€å’Œâ€œå·¥ç¨‹åŒ–èƒ½åŠ›â€çš„åˆ†æ°´å²­ä¸Šã€‚å¹»è§‰ä¸æ˜¯ AI çš„é—®é¢˜ï¼Œè€Œæ˜¯ AI ä¸åœ¨å·¥ç¨‹é“¾è·¯é‡Œçš„ç»“æœã€‚å½“ AI è¢«çº¦æŸåœ¨å·¥ç¨‹è§„åˆ™ã€ä¸Šä¸‹æ–‡å’ŒéªŒè¯ä¹‹ä¸­ï¼Œå®ƒå°±ä¸å†â€œå¹»æƒ³â€ï¼Œè€Œæ˜¯åœ¨æ‰§è¡Œã€‚AI çš„å¯é æ€§ï¼Œä¸æ¥è‡ªæ¨¡å‹èƒ½åŠ›ï¼Œè€Œæ¥è‡ªå·¥ç¨‹é—­ç¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rust é”™è¯¯å¤„ç†å®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š]]></title>    <link>https://juejin.cn/post/7588300640599932934</link>    <guid>https://juejin.cn/post/7588300640599932934</guid>    <pubDate>2025-12-28T14:04:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588300640599932934" data-draft-id="7588300640599916550" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rust é”™è¯¯å¤„ç†å®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š"/> <meta itemprop="keywords" content="Rust,å‰ç«¯,ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="datePublished" content="2025-12-28T14:04:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åœŸè±†1250"/> <meta itemprop="url" content="https://juejin.cn/user/3280598428302727"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rust é”™è¯¯å¤„ç†å®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3280598428302727/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åœŸè±†1250
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T14:04:31.000Z" title="Sun Dec 28 2025 14:04:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    18
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<a href="https://juejin.cn/user/3280598428302727" target="_blank" title="https://juejin.cn/user/3280598428302727">åœŸè±†</a>ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FWvuT_N3bwgTUicUOZXwW4g" target="_blank" title="https://mp.weixin.qq.com/s/WvuT_N3bwgTUicUOZXwW4g" ref="nofollow noopener noreferrer">å…¬ä¼—å·ï¼šåœŸè±†å­¦å‰ç«¯</a></p>
<h2 data-id="heading-0">Why - ä¸ºä»€ä¹ˆè¦è®¤çœŸå¯¹å¾…é”™è¯¯å¤„ç†?</h2>
<h3 data-id="heading-1">é”™è¯¯å¤„ç†çš„é‡è¦æ€§</h3>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªæ–‡ä»¶å¤„ç†ç¨‹åºã€‚åœ¨å…¶ä»–è¯­è¨€ä¸­ï¼Œä½ å¯èƒ½ä¼šè¿™æ ·å†™ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Python é£æ ¼</span>
file = <span class="hljs-built_in">open</span>(<span class="hljs-string">"config.txt"</span>)  <span class="hljs-comment"># å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼ŸğŸ’¥</span>
data = file.read()
</code></pre>
<p>ç¨‹åºå¯èƒ½åœ¨ä»»ä½•æ—¶å€™å´©æºƒï¼Œç”¨æˆ·åªä¼šçœ‹åˆ°ä¸€ä¸ªéš¾çœ‹çš„é”™è¯¯å †æ ˆã€‚ä½†åœ¨ Rust ä¸­ï¼Œç¼–è¯‘å™¨ä¼šé€¼ç€ä½ é¢å¯¹ç°å®ï¼š<strong>"å˜¿ï¼æ–‡ä»¶å¯èƒ½ä¸å­˜åœ¨ï¼Œä½ æ‰“ç®—æ€ä¹ˆåŠï¼Ÿ"</strong></p>
<p>è¿™å°±æ˜¯ Rust çš„å“²å­¦ï¼š<strong>é”™è¯¯æ˜¯ç¨‹åºçš„ä¸€éƒ¨åˆ†ï¼Œä¸æ˜¯æ„å¤–ã€‚</strong></p>
<h3 data-id="heading-2">Rust çš„è®¾è®¡ç†å¿µ</h3>
<p>Rust é€šè¿‡ç±»å‹ç³»ç»Ÿå¼ºåˆ¶ä½ å¤„ç†é”™è¯¯ï¼Œè¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>âœ… ç¼–è¯‘æ—¶å°±èƒ½å‘ç°æ½œåœ¨é—®é¢˜</li>
<li>âœ… ä»£ç æ›´åŠ å¯é å’Œå¯ç»´æŠ¤</li>
<li>âœ… ä¸ä¼šæœ‰"å¿˜è®°å¤„ç†é”™è¯¯"è¿™å›äº‹</li>
<li>âŒ ä½†éœ€è¦å†™æ›´å¤šä»£ç ï¼ˆå€¼å¾—çš„ï¼ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-3">What - Rust ä¸­çš„é”™è¯¯ç±»å‹</h2>
<h3 data-id="heading-4">1. å¯æ¢å¤é”™è¯¯ï¼š<code>Result&lt;T, E&gt;</code></h3>
<p><code>Result</code> æ˜¯ Rust é”™è¯¯å¤„ç†çš„æ ¸å¿ƒï¼Œå®ƒæ˜¯ä¸€ä¸ªæšä¸¾ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Result</span>&lt;T, E&gt; {
    <span class="hljs-title function_ invoke__">Ok</span>(T),   <span class="hljs-comment">// æˆåŠŸæ—¶åŒ…å«å€¼</span>
    <span class="hljs-title function_ invoke__">Err</span>(E),  <span class="hljs-comment">// å¤±è´¥æ—¶åŒ…å«é”™è¯¯</span>
}
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> é¢„æœŸå¯èƒ½ä¼šå¤±è´¥çš„æ“ä½œï¼Œå¦‚æ–‡ä»¶ I/Oã€ç½‘ç»œè¯·æ±‚ã€è§£ææ•°æ®ç­‰ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::fs::File;

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">open_file</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;File, std::io::Error&gt; {
    File::<span class="hljs-title function_ invoke__">open</span>(<span class="hljs-string">"hello.txt"</span>)  <span class="hljs-comment">// è¿”å› Result</span>
}
</code></pre>
<h3 data-id="heading-5">2. å¯é€‰å€¼ï¼š<code>Option&lt;T&gt;</code></h3>
<p><code>Option</code> ç”¨äºè¡¨ç¤º"å¯èƒ½æœ‰å€¼ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰"ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Option</span>&lt;T&gt; {
    <span class="hljs-title function_ invoke__">Some</span>(T),  <span class="hljs-comment">// æœ‰å€¼</span>
    <span class="hljs-literal">None</span>,     <span class="hljs-comment">// æ²¡æœ‰å€¼</span>
}
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> å€¼å¯èƒ½ä¸å­˜åœ¨ï¼Œä½†è¿™ä¸ç®—é”™è¯¯ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">find_user</span>(id: <span class="hljs-type">u32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Option</span>&lt;User&gt; {
    <span class="hljs-comment">// ç”¨æˆ·ä¸å­˜åœ¨æ˜¯æ­£å¸¸æƒ…å†µï¼Œä¸æ˜¯é”™è¯¯</span>
    users.<span class="hljs-title function_ invoke__">get</span>(&amp;id).<span class="hljs-title function_ invoke__">cloned</span>()
}
</code></pre>
<p><strong>åŒºåˆ«è®°å¿†æ³•ï¼š</strong></p>
<ul>
<li><code>None</code> = "æ²¡æ‰¾åˆ°ï¼Œä½†è¿™å¾ˆæ­£å¸¸" ğŸ¤·</li>
<li><code>Err</code> = "å‡ºé—®é¢˜äº†ï¼Œéœ€è¦çŸ¥é“ä¸ºä»€ä¹ˆ" âš ï¸</li>
</ul>
<h3 data-id="heading-6">3. ä¸å¯æ¢å¤é”™è¯¯ï¼š<code>panic!</code></h3>
<p><code>panic!</code> ä¼šç«‹å³ç»ˆæ­¢ç¨‹åºï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">divide</span>(a: <span class="hljs-type">i32</span>, b: <span class="hljs-type">i32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">i32</span> {
    <span class="hljs-keyword">if</span> b == <span class="hljs-number">0</span> {
        <span class="hljs-built_in">panic!</span>(<span class="hljs-string">"é™¤æ•°ä¸èƒ½ä¸ºé›¶ï¼"</span>);  <span class="hljs-comment">// ç¨‹åºå´©æºƒ</span>
    }
    a / b
}
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ç¨‹åºé‡åˆ°æ— æ³•ç»§ç»­çš„è‡´å‘½é”™è¯¯</li>
<li>å¼€å‘é˜¶æ®µå¿«é€ŸåŸå‹</li>
<li>ä¸åº”è¯¥å‘ç”Ÿçš„é€»è¾‘é”™è¯¯ï¼ˆç±»ä¼¼ assertï¼‰</li>
</ul>
<p>âš ï¸ <strong>æ³¨æ„ï¼š</strong> ç”Ÿäº§ä»£ç åº”è¯¥å°½é‡å°‘ç”¨ <code>panic!</code></p>
<hr/>
<h2 data-id="heading-7">How - å¦‚ä½•ä¼˜é›…åœ°å¤„ç†é”™è¯¯</h2>
<h3 data-id="heading-8">åŸºç¡€å¤„ç†æ–¹å¼</h3>
<h4 data-id="heading-9">1. <code>match</code> è¡¨è¾¾å¼ï¼ˆæœ€åŸºç¡€ï¼‰</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::fs::File;

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">file_result</span> = File::<span class="hljs-title function_ invoke__">open</span>(<span class="hljs-string">"hello.txt"</span>);
    
    <span class="hljs-keyword">match</span> file_result {
        <span class="hljs-title function_ invoke__">Ok</span>(file) =&gt; {
            <span class="hljs-built_in">println!</span>(<span class="hljs-string">"æˆåŠŸæ‰“å¼€æ–‡ä»¶ï¼"</span>);
            <span class="hljs-comment">// ä½¿ç”¨ file</span>
        }
        <span class="hljs-title function_ invoke__">Err</span>(error) =&gt; {
            <span class="hljs-built_in">println!</span>(<span class="hljs-string">"æ‰“å¼€æ–‡ä»¶å¤±è´¥: {}"</span>, error);
            <span class="hljs-comment">// å¤„ç†é”™è¯¯</span>
        }
    }
}
</code></pre>
<h4 data-id="heading-10">2. <code>unwrap()</code> å’Œ <code>expect()</code>ï¼ˆå¿«é€Ÿä½†å±é™©ï¼‰</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// unwrap: æˆåŠŸè¿”å›å€¼ï¼Œå¤±è´¥å°± panic</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">file</span> = File::<span class="hljs-title function_ invoke__">open</span>(<span class="hljs-string">"hello.txt"</span>).<span class="hljs-title function_ invoke__">unwrap</span>();

<span class="hljs-comment">// expect: å’Œ unwrap ä¸€æ ·ï¼Œä½†å¯ä»¥è‡ªå®šä¹‰ panic æ¶ˆæ¯</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">file</span> = File::<span class="hljs-title function_ invoke__">open</span>(<span class="hljs-string">"hello.txt"</span>)
    .<span class="hljs-title function_ invoke__">expect</span>(<span class="hljs-string">"æ— æ³•æ‰“å¼€ hello.txtï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨"</span>);
</code></pre>
<p><strong>ä½•æ—¶ä½¿ç”¨ï¼Ÿ</strong></p>
<ul>
<li>âœ… å†™ç¤ºä¾‹ä»£ç æˆ–å¿«é€ŸåŸå‹</li>
<li>âœ… ä½  100% ç¡®å®šä¸ä¼šå¤±è´¥çš„æƒ…å†µ</li>
<li>âŒ ç”Ÿäº§ä»£ç ï¼ˆå‡ ä¹ä¸è¦ç”¨ï¼‰</li>
</ul>
<p><strong>è®°å¿†å£è¯€ï¼š</strong> <code>unwrap()</code> æ˜¯"æˆ‘å¾ˆè‡ªä¿¡ï¼Œä¸ä¼šå‡ºé”™"ï¼Œç”¨é”™äº†å°±æ˜¯"æ‰“è„¸ç°åœº" ğŸ˜…</p>
<h4 data-id="heading-11">3. <code>?</code> æ“ä½œç¬¦ï¼ˆæœ€ä¼˜é›…ï¼‰</h4>
<p><code>?</code> æ˜¯ Rust çš„è¯­æ³•ç³–ï¼Œè‡ªåŠ¨å¤„ç†é”™è¯¯ä¼ æ’­ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::fs::File;
<span class="hljs-keyword">use</span> std::io::{<span class="hljs-keyword">self</span>, Read};

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">read_username_from_file</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">String</span>, io::Error&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">file</span> = File::<span class="hljs-title function_ invoke__">open</span>(<span class="hljs-string">"username.txt"</span>)?;  <span class="hljs-comment">// å¦‚æœå¤±è´¥ï¼Œç›´æ¥è¿”å› Err</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">username</span> = <span class="hljs-type">String</span>::<span class="hljs-title function_ invoke__">new</span>();
    file.<span class="hljs-title function_ invoke__">read_to_string</span>(&amp;<span class="hljs-keyword">mut</span> username)?;  <span class="hljs-comment">// åŒæ ·çš„é­”æ³•</span>
    <span class="hljs-title function_ invoke__">Ok</span>(username)  <span class="hljs-comment">// æˆåŠŸæ—¶è¿”å›</span>
}
</code></pre>
<p><strong><code>?</code> çš„å·¥ä½œåŸç†ï¼š</strong></p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// è¿™æ®µä»£ç ï¼š</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">file</span> = File::<span class="hljs-title function_ invoke__">open</span>(<span class="hljs-string">"hello.txt"</span>)?;

<span class="hljs-comment">// ç­‰ä»·äºï¼š</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">file</span> = <span class="hljs-keyword">match</span> File::<span class="hljs-title function_ invoke__">open</span>(<span class="hljs-string">"hello.txt"</span>) {
    <span class="hljs-title function_ invoke__">Ok</span>(f) =&gt; f,
    <span class="hljs-title function_ invoke__">Err</span>(e) =&gt; <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Err</span>(e),
};
</code></pre>
<p><strong>ä½¿ç”¨æ¡ä»¶ï¼š</strong></p>
<ul>
<li>å‡½æ•°å¿…é¡»è¿”å› <code>Result</code> æˆ– <code>Option</code></li>
<li>é”™è¯¯ç±»å‹å¿…é¡»èƒ½å¤Ÿè½¬æ¢ï¼ˆå®ç°äº† <code>From</code> traitï¼‰</li>
</ul>
<h3 data-id="heading-12">è¿›é˜¶æŠ€å·§</h3>
<h4 data-id="heading-13">1. é“¾å¼è°ƒç”¨</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::fs;

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">read_and_parse</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">i32</span>, <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> std::error::Error&gt;&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">content</span> = fs::<span class="hljs-title function_ invoke__">read_to_string</span>(<span class="hljs-string">"number.txt"</span>)?;
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">number</span>: <span class="hljs-type">i32</span> = content.<span class="hljs-title function_ invoke__">trim</span>().<span class="hljs-title function_ invoke__">parse</span>()?;
    <span class="hljs-title function_ invoke__">Ok</span>(number)
}
</code></pre>
<h4 data-id="heading-14">2. ä½¿ç”¨ <code>and_then</code> å’Œ <code>map</code></h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_user_age</span>(id: <span class="hljs-type">u32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Option</span>&lt;<span class="hljs-type">u32</span>&gt; {
    <span class="hljs-title function_ invoke__">find_user</span>(id)
        .<span class="hljs-title function_ invoke__">map</span>(|user| user.age)  <span class="hljs-comment">// å¦‚æœæ‰¾åˆ°ç”¨æˆ·ï¼Œæå–å¹´é¾„</span>
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">process_file</span>(path: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">String</span>, io::Error&gt; {
    fs::<span class="hljs-title function_ invoke__">read_to_string</span>(path)
        .<span class="hljs-title function_ invoke__">and_then</span>(|content| {
            <span class="hljs-comment">// è¿›ä¸€æ­¥å¤„ç†</span>
            <span class="hljs-title function_ invoke__">Ok</span>(content.<span class="hljs-title function_ invoke__">to_uppercase</span>())
        })
}
</code></pre>
<h4 data-id="heading-15">3. æä¾›é»˜è®¤å€¼</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// Option: ä½¿ç”¨ unwrap_or</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">user</span> = <span class="hljs-title function_ invoke__">find_user</span>(<span class="hljs-number">123</span>).<span class="hljs-title function_ invoke__">unwrap_or</span>(User::<span class="hljs-title function_ invoke__">default</span>());

<span class="hljs-comment">// Option: ä½¿ç”¨ unwrap_or_elseï¼ˆæƒ°æ€§æ±‚å€¼ï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">user</span> = <span class="hljs-title function_ invoke__">find_user</span>(<span class="hljs-number">123</span>).<span class="hljs-title function_ invoke__">unwrap_or_else</span>(|| {
    <span class="hljs-built_in">println!</span>(<span class="hljs-string">"ç”¨æˆ·ä¸å­˜åœ¨ï¼Œåˆ›å»ºé»˜è®¤ç”¨æˆ·"</span>);
    User::<span class="hljs-title function_ invoke__">default</span>()
});

<span class="hljs-comment">// Result: ä½¿ç”¨ unwrap_or_default</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">count</span>: <span class="hljs-type">i32</span> = <span class="hljs-title function_ invoke__">parse_number</span>(<span class="hljs-string">"abc"</span>).<span class="hljs-title function_ invoke__">unwrap_or_default</span>();  <span class="hljs-comment">// å¤±è´¥è¿”å› 0</span>
</code></pre>
<h4 data-id="heading-16">4. é”™è¯¯è½¬æ¢</h4>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::num::ParseIntError;

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">double_number</span>(s: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">i32</span>, ParseIntError&gt; {
    s.parse::&lt;<span class="hljs-type">i32</span>&gt;()
        .<span class="hljs-title function_ invoke__">map</span>(|n| n * <span class="hljs-number">2</span>)  <span class="hljs-comment">// æˆåŠŸæ—¶è½¬æ¢å€¼ï¼Œé”™è¯¯ç±»å‹ä¸å˜</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-17">æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-18">1. è‡ªå®šä¹‰é”™è¯¯ç±»å‹</h3>
<p>å¯¹äºå¤æ‚é¡¹ç›®ï¼Œåˆ›å»ºè‡ªå·±çš„é”™è¯¯ç±»å‹ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::fmt;

<span class="hljs-meta">#[derive(Debug)]</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">AppError</span> {
    <span class="hljs-title function_ invoke__">IoError</span>(std::io::Error),
    <span class="hljs-title function_ invoke__">ParseError</span>(<span class="hljs-type">String</span>),
    <span class="hljs-title function_ invoke__">NotFound</span>(<span class="hljs-type">String</span>),
}

<span class="hljs-comment">// å®ç° Display trait</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">fmt</span>::Display <span class="hljs-keyword">for</span> <span class="hljs-title class_">AppError</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">fmt</span>(&amp;<span class="hljs-keyword">self</span>, f: &amp;<span class="hljs-keyword">mut</span> fmt::Formatter) <span class="hljs-punctuation">-&gt;</span> fmt::<span class="hljs-type">Result</span> {
        <span class="hljs-keyword">match</span> <span class="hljs-keyword">self</span> {
            AppError::<span class="hljs-title function_ invoke__">IoError</span>(e) =&gt; <span class="hljs-built_in">write!</span>(f, <span class="hljs-string">"IO é”™è¯¯: {}"</span>, e),
            AppError::<span class="hljs-title function_ invoke__">ParseError</span>(msg) =&gt; <span class="hljs-built_in">write!</span>(f, <span class="hljs-string">"è§£æé”™è¯¯: {}"</span>, msg),
            AppError::<span class="hljs-title function_ invoke__">NotFound</span>(item) =&gt; <span class="hljs-built_in">write!</span>(f, <span class="hljs-string">"æœªæ‰¾åˆ°: {}"</span>, item),
        }
    }
}

<span class="hljs-comment">// å®ç° Error trait</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">std</span>::error::Error <span class="hljs-keyword">for</span> <span class="hljs-title class_">AppError</span> {}

<span class="hljs-comment">// å®ç° From trait å…è®¸ä½¿ç”¨ ?</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">From</span>&lt;std::io::Error&gt; <span class="hljs-keyword">for</span> <span class="hljs-title class_">AppError</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">from</span>(error: std::io::Error) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        AppError::<span class="hljs-title function_ invoke__">IoError</span>(error)
    }
}

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰é”™è¯¯</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">load_config</span>(path: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;Config, AppError&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">content</span> = std::fs::<span class="hljs-title function_ invoke__">read_to_string</span>(path)?;  <span class="hljs-comment">// io::Error è‡ªåŠ¨è½¬æ¢</span>
    
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">config</span> = <span class="hljs-title function_ invoke__">parse_config</span>(&amp;content)
        .<span class="hljs-title function_ invoke__">map_err</span>(|e| AppError::<span class="hljs-title function_ invoke__">ParseError</span>(e))?;  <span class="hljs-comment">// æ‰‹åŠ¨è½¬æ¢</span>
    
    <span class="hljs-title function_ invoke__">Ok</span>(config)
}
</code></pre>
<h3 data-id="heading-19">2. ä½¿ç”¨ <code>thiserror</code> å’Œ <code>anyhow</code> crate</h3>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæ¨èä½¿ç”¨è¿™ä¸¤ä¸ªåº“ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> thiserror::Error;

<span class="hljs-meta">#[derive(Error, Debug)]</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">DataError</span> {
    <span class="hljs-meta">#[error(<span class="hljs-string">"æ–‡ä»¶æœªæ‰¾åˆ°: {0}"</span>)]</span>
    <span class="hljs-title function_ invoke__">NotFound</span>(<span class="hljs-type">String</span>),
    
    <span class="hljs-meta">#[error(<span class="hljs-string">"è§£æå¤±è´¥: {0}"</span>)]</span>
    <span class="hljs-title function_ invoke__">ParseError</span>(<span class="hljs-type">String</span>),
    
    <span class="hljs-meta">#[error(<span class="hljs-string">"IO é”™è¯¯"</span>)]</span>
    <span class="hljs-title function_ invoke__">IoError</span>(<span class="hljs-meta">#[from]</span> std::io::Error),
}

<span class="hljs-comment">// ä½¿ç”¨ anyhow å¿«é€Ÿå¤„ç†é”™è¯¯</span>
<span class="hljs-keyword">use</span> anyhow::{<span class="hljs-type">Result</span>, Context};

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">process_data</span>(path: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;Data&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">content</span> = std::fs::<span class="hljs-title function_ invoke__">read_to_string</span>(path)
        .<span class="hljs-title function_ invoke__">context</span>(<span class="hljs-string">"æ— æ³•è¯»å–æ•°æ®æ–‡ä»¶"</span>)?;
    
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">data</span> = <span class="hljs-title function_ invoke__">parse_data</span>(&amp;content)
        .<span class="hljs-title function_ invoke__">context</span>(<span class="hljs-string">"æ•°æ®æ ¼å¼ä¸æ­£ç¡®"</span>)?;
    
    <span class="hljs-title function_ invoke__">Ok</span>(data)
}
</code></pre>
<h3 data-id="heading-20">3. ä½•æ—¶ä½¿ç”¨ä½•ç§é”™è¯¯å¤„ç†</h3>



































<table><thead><tr><th>åœºæ™¯</th><th>ä½¿ç”¨</th><th>åŸå› </th></tr></thead><tbody><tr><td>åº“ä»£ç </td><td><code>Result</code></td><td>è®©è°ƒç”¨è€…å†³å®šå¦‚ä½•å¤„ç†</td></tr><tr><td>åº”ç”¨ç¨‹åºä¸»é€»è¾‘</td><td><code>Result</code></td><td>ç®€åŒ–é”™è¯¯ä¼ æ’­</td></tr><tr><td>ç¤ºä¾‹/æµ‹è¯•ä»£ç </td><td><code>unwrap()</code>/<code>expect()</code></td><td>å¿«é€Ÿå¼€å‘</td></tr><tr><td>å€¼å¯èƒ½ä¸å­˜åœ¨</td><td><code>Option</code></td><td>ä¸æ˜¯é”™è¯¯ï¼Œåªæ˜¯æ²¡æœ‰</td></tr><tr><td>é€»è¾‘é”™è¯¯</td><td><code>panic!</code></td><td>ä¸åº”è¯¥å‘ç”Ÿ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-21">å¸¸è§è¯¯åŒºä¸é™·é˜±</h2>
<h3 data-id="heading-22">âŒ è¯¯åŒº 1ï¼šæ»¥ç”¨ <code>unwrap()</code></h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ä¸å¥½ - å¯èƒ½å¯¼è‡´ panic</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">file</span> = File::<span class="hljs-title function_ invoke__">open</span>(<span class="hljs-string">"config.txt"</span>).<span class="hljs-title function_ invoke__">unwrap</span>();
</code></pre>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å¥½ - ä¼˜é›…å¤„ç†é”™è¯¯</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">file</span> = File::<span class="hljs-title function_ invoke__">open</span>(<span class="hljs-string">"config.txt"</span>)
    .<span class="hljs-title function_ invoke__">map_err</span>(|e| {
        eprintln!(<span class="hljs-string">"æ— æ³•æ‰“å¼€é…ç½®æ–‡ä»¶: {}"</span>, e);
        std::process::<span class="hljs-title function_ invoke__">exit</span>(<span class="hljs-number">1</span>);
    })
    .<span class="hljs-title function_ invoke__">unwrap</span>();

<span class="hljs-comment">// æ›´å¥½ - è¿”å› Result</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">load_config</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;Config, io::Error&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">file</span> = File::<span class="hljs-title function_ invoke__">open</span>(<span class="hljs-string">"config.txt"</span>)?;
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h3 data-id="heading-23">âŒ è¯¯åŒº 2ï¼šå¿½ç•¥é”™è¯¯</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ä¸å¥½ - é”™è¯¯è¢«å¿½ç•¥</span>
<span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">_</span> = std::fs::<span class="hljs-title function_ invoke__">remove_file</span>(<span class="hljs-string">"temp.txt"</span>);
</code></pre>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å¥½ - è‡³å°‘è®°å½•é”™è¯¯</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">Err</span>(e) = std::fs::<span class="hljs-title function_ invoke__">remove_file</span>(<span class="hljs-string">"temp.txt"</span>) {
    eprintln!(<span class="hljs-string">"è­¦å‘Šï¼šæ— æ³•åˆ é™¤ä¸´æ—¶æ–‡ä»¶: {}"</span>, e);
}
</code></pre>
<h3 data-id="heading-24">âŒ è¯¯åŒº 3ï¼šè¿‡æ—©ä½¿ç”¨ <code>?</code></h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ä¸å¥½ - é”™è¯¯ä¿¡æ¯ä¸æ˜ç¡®</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">process</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Error&gt;&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">data</span> = <span class="hljs-title function_ invoke__">read_file</span>(<span class="hljs-string">"data.txt"</span>)?;  <span class="hljs-comment">// å“ªé‡Œå‡ºé”™äº†ï¼Ÿ</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">parsed</span> = <span class="hljs-title function_ invoke__">parse_data</span>(&amp;data)?;    <span class="hljs-comment">// è¿˜æ˜¯è¿™é‡Œï¼Ÿ</span>
    <span class="hljs-title function_ invoke__">Ok</span>(())
}
</code></pre>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å¥½ - æ·»åŠ ä¸Šä¸‹æ–‡</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">process</span>() <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;(), <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> Error&gt;&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">data</span> = <span class="hljs-title function_ invoke__">read_file</span>(<span class="hljs-string">"data.txt"</span>)
        .<span class="hljs-title function_ invoke__">context</span>(<span class="hljs-string">"è¯»å–æ•°æ®æ–‡ä»¶å¤±è´¥"</span>)?;
    
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">parsed</span> = <span class="hljs-title function_ invoke__">parse_data</span>(&amp;data)
        .<span class="hljs-title function_ invoke__">context</span>(<span class="hljs-string">"è§£ææ•°æ®å¤±è´¥"</span>)?;
    
    <span class="hljs-title function_ invoke__">Ok</span>(())
}
</code></pre>
<h3 data-id="heading-25">âŒ è¯¯åŒº 4ï¼šæ··æ·† <code>Option</code> å’Œ <code>Result</code></h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// ä¸å¥½ - ç”¨æˆ·ä¸å­˜åœ¨ä¸æ˜¯é”™è¯¯</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">find_user</span>(id: <span class="hljs-type">u32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;User, <span class="hljs-type">String</span>&gt; {
    users.<span class="hljs-title function_ invoke__">get</span>(&amp;id)
        .<span class="hljs-title function_ invoke__">ok_or</span>(<span class="hljs-string">"ç”¨æˆ·ä¸å­˜åœ¨"</span>.<span class="hljs-title function_ invoke__">to_string</span>())
}
</code></pre>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-comment">// å¥½ - ä½¿ç”¨ Option</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">find_user</span>(id: <span class="hljs-type">u32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Option</span>&lt;User&gt; {
    users.<span class="hljs-title function_ invoke__">get</span>(&amp;id).<span class="hljs-title function_ invoke__">cloned</span>()
}

<span class="hljs-comment">// å¦‚æœç¡®å®éœ€è¦é”™è¯¯ä¿¡æ¯</span>
<span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_user</span>(id: <span class="hljs-type">u32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;User, UserError&gt; {
    <span class="hljs-title function_ invoke__">find_user</span>(id)
        .<span class="hljs-title function_ invoke__">ok_or</span>(UserError::<span class="hljs-title function_ invoke__">NotFound</span>(id))
}
</code></pre>
<hr/>
<h2 data-id="heading-26">å®æˆ˜ç¤ºä¾‹</h2>
<h3 data-id="heading-27">ç¤ºä¾‹ 1ï¼šè¯»å–å¹¶è§£æé…ç½®æ–‡ä»¶</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> serde::Deserialize;
<span class="hljs-keyword">use</span> std::fs;

<span class="hljs-meta">#[derive(Deserialize)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Config</span> {
    host: <span class="hljs-type">String</span>,
    port: <span class="hljs-type">u16</span>,
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">load_config</span>(path: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;Config, <span class="hljs-type">Box</span>&lt;<span class="hljs-keyword">dyn</span> std::error::Error&gt;&gt; {
    <span class="hljs-comment">// è¯»å–æ–‡ä»¶</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">content</span> = fs::<span class="hljs-title function_ invoke__">read_to_string</span>(path)
        .<span class="hljs-title function_ invoke__">map_err</span>(|e| <span class="hljs-built_in">format!</span>(<span class="hljs-string">"æ— æ³•è¯»å–é…ç½®æ–‡ä»¶ {}: {}"</span>, path, e))?;
    
    <span class="hljs-comment">// è§£æ JSON</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">config</span>: Config = serde_json::<span class="hljs-title function_ invoke__">from_str</span>(&amp;content)
        .<span class="hljs-title function_ invoke__">map_err</span>(|e| <span class="hljs-built_in">format!</span>(<span class="hljs-string">"é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯: {}"</span>, e))?;
    
    <span class="hljs-comment">// éªŒè¯é…ç½®</span>
    <span class="hljs-keyword">if</span> config.port == <span class="hljs-number">0</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Err</span>(<span class="hljs-string">"ç«¯å£å·ä¸èƒ½ä¸º 0"</span>.<span class="hljs-title function_ invoke__">into</span>());
    }
    
    <span class="hljs-title function_ invoke__">Ok</span>(config)
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">match</span> <span class="hljs-title function_ invoke__">load_config</span>(<span class="hljs-string">"config.json"</span>) {
        <span class="hljs-title function_ invoke__">Ok</span>(config) =&gt; {
            <span class="hljs-built_in">println!</span>(<span class="hljs-string">"æœåŠ¡å™¨é…ç½®: {}:{}"</span>, config.host, config.port);
        }
        <span class="hljs-title function_ invoke__">Err</span>(e) =&gt; {
            eprintln!(<span class="hljs-string">"é”™è¯¯: {}"</span>, e);
            std::process::<span class="hljs-title function_ invoke__">exit</span>(<span class="hljs-number">1</span>);
        }
    }
}
</code></pre>
<h3 data-id="heading-28">ç¤ºä¾‹ 2ï¼šå¤„ç†å¤šä¸ªå¯èƒ½å¤±è´¥çš„æ“ä½œ</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> std::io;

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">process_data</span>(input: &amp;<span class="hljs-type">str</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">i32</span>, <span class="hljs-type">String</span>&gt; {
    <span class="hljs-comment">// æ­¥éª¤ 1: å»é™¤ç©ºç™½</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">trimmed</span> = input.<span class="hljs-title function_ invoke__">trim</span>();
    <span class="hljs-keyword">if</span> trimmed.<span class="hljs-title function_ invoke__">is_empty</span>() {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Err</span>(<span class="hljs-string">"è¾“å…¥ä¸èƒ½ä¸ºç©º"</span>.<span class="hljs-title function_ invoke__">to_string</span>());
    }
    
    <span class="hljs-comment">// æ­¥éª¤ 2: è§£ææ•°å­—</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">number</span>: <span class="hljs-type">i32</span> = trimmed
        .<span class="hljs-title function_ invoke__">parse</span>()
        .<span class="hljs-title function_ invoke__">map_err</span>(|_| <span class="hljs-built_in">format!</span>(<span class="hljs-string">"'{}' ä¸æ˜¯æœ‰æ•ˆçš„æ•°å­—"</span>, trimmed))?;
    
    <span class="hljs-comment">// æ­¥éª¤ 3: éªŒè¯èŒƒå›´</span>
    <span class="hljs-keyword">if</span> number &lt; <span class="hljs-number">0</span> || number &gt; <span class="hljs-number">100</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">Err</span>(<span class="hljs-built_in">format!</span>(<span class="hljs-string">"æ•°å­— {} è¶…å‡ºèŒƒå›´ [0, 100]"</span>, number));
    }
    
    <span class="hljs-comment">// æ­¥éª¤ 4: å¤„ç†</span>
    <span class="hljs-title function_ invoke__">Ok</span>(number * <span class="hljs-number">2</span>)
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">main</span>() {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">inputs</span> = <span class="hljs-built_in">vec!</span>[<span class="hljs-string">"42"</span>, <span class="hljs-string">"  50  "</span>, <span class="hljs-string">"abc"</span>, <span class="hljs-string">"150"</span>, <span class="hljs-string">""</span>];
    
    <span class="hljs-keyword">for</span> <span class="hljs-variable">input</span> <span class="hljs-keyword">in</span> inputs {
        <span class="hljs-keyword">match</span> <span class="hljs-title function_ invoke__">process_data</span>(input) {
            <span class="hljs-title function_ invoke__">Ok</span>(result) =&gt; <span class="hljs-built_in">println!</span>(<span class="hljs-string">"'{}' -&gt; {}"</span>, input, result),
            <span class="hljs-title function_ invoke__">Err</span>(e) =&gt; eprintln!(<span class="hljs-string">"é”™è¯¯: {}"</span>, e),
        }
    }
}
</code></pre>
<h3 data-id="heading-29">ç¤ºä¾‹ 3ï¼šç»„åˆ Option å’Œ Result</h3>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">Database</span> {
    users: <span class="hljs-type">Vec</span>&lt;User&gt;,
}

<span class="hljs-keyword">struct</span> <span class="hljs-title class_">User</span> {
    id: <span class="hljs-type">u32</span>,
    name: <span class="hljs-type">String</span>,
    email: <span class="hljs-type">Option</span>&lt;<span class="hljs-type">String</span>&gt;,  <span class="hljs-comment">// é‚®ç®±å¯èƒ½ä¸å­˜åœ¨</span>
}

<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Database</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">find_user</span>(&amp;<span class="hljs-keyword">self</span>, id: <span class="hljs-type">u32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Option</span>&lt;&amp;User&gt; {
        <span class="hljs-keyword">self</span>.users.<span class="hljs-title function_ invoke__">iter</span>().<span class="hljs-title function_ invoke__">find</span>(|u| u.id == id)
    }
    
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">get_user_email</span>(&amp;<span class="hljs-keyword">self</span>, id: <span class="hljs-type">u32</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Result</span>&lt;<span class="hljs-type">String</span>, <span class="hljs-type">String</span>&gt; {
        <span class="hljs-comment">// å…ˆæŸ¥æ‰¾ç”¨æˆ·</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">user</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">find_user</span>(id)
            .<span class="hljs-title function_ invoke__">ok_or_else</span>(|| <span class="hljs-built_in">format!</span>(<span class="hljs-string">"ç”¨æˆ· {} ä¸å­˜åœ¨"</span>, id))?;
        
        <span class="hljs-comment">// å†è·å–é‚®ç®±</span>
        user.email.<span class="hljs-title function_ invoke__">clone</span>()
            .<span class="hljs-title function_ invoke__">ok_or_else</span>(|| <span class="hljs-built_in">format!</span>(<span class="hljs-string">"ç”¨æˆ· {} æ²¡æœ‰è®¾ç½®é‚®ç®±"</span>, id))
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-30">æ€»ç»“</h2>
<h3 data-id="heading-31">æ ¸å¿ƒè¦ç‚¹</h3>
<ol>
<li><strong>Result å’Œ Option æ˜¯ä½ çš„æœ‹å‹</strong> - æ‹¥æŠ±å®ƒä»¬ï¼Œä¸è¦é€ƒé¿</li>
<li><strong><code>?</code> æ“ä½œç¬¦æ˜¯ç¥å™¨</strong> - è®©é”™è¯¯ä¼ æ’­å˜å¾—ä¼˜é›…</li>
<li><strong>å°‘ç”¨ unwrap()</strong> - é™¤éä½ çœŸçš„ç¡®å®šä¸ä¼šå¤±è´¥</li>
<li><strong>é€‰æ‹©åˆé€‚çš„é”™è¯¯ç±»å‹</strong> - Option vs Result vs panic!</li>
<li><strong>æ·»åŠ é”™è¯¯ä¸Šä¸‹æ–‡</strong> - å¸®åŠ©æœªæ¥çš„è‡ªå·±è°ƒè¯•</li>
<li><strong>ä½¿ç”¨ç¤¾åŒºå·¥å…·</strong> - thiserror å’Œ anyhow å¾ˆé¦™</li>
</ol>
<h3 data-id="heading-32">å­¦ä¹ è·¯å¾„</h3>
<ol>
<li><strong>åˆçº§ï¼š</strong> ç†Ÿç»ƒä½¿ç”¨ <code>match</code>ã€<code>unwrap</code>ã€<code>expect</code></li>
<li><strong>ä¸­çº§ï¼š</strong> æŒæ¡ <code>?</code> æ“ä½œç¬¦å’Œ <code>Option</code>/<code>Result</code> çš„æ–¹æ³•</li>
<li><strong>é«˜çº§ï¼š</strong> åˆ›å»ºè‡ªå®šä¹‰é”™è¯¯ç±»å‹ï¼Œä½¿ç”¨ thiserror/anyhow</li>
<li><strong>ä¸“å®¶ï¼š</strong> ç†è§£é”™è¯¯è½¬æ¢ã€trait objectsã€é”™è¯¯ä¼ æ’­çš„æœ€ä½³å®è·µ</li>
</ol>
<h3 data-id="heading-33">æ¨èèµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.rust-lang.org%2Fbook%2Fch09-00-error-handling.html" title="https://doc.rust-lang.org/book/ch09-00-error-handling.html" target="_blank" ref="nofollow noopener noreferrer">Rust Book - Error Handling</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdoc.rust-lang.org%2Frust-by-example%2Ferror.html" title="https://doc.rust-lang.org/rust-by-example/error.html" target="_blank" ref="nofollow noopener noreferrer">Rust by Example - Error Handling</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.rs%2Fthiserror%2F" title="https://docs.rs/thiserror/" target="_blank" ref="nofollow noopener noreferrer">thiserror crate</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.rs%2Fanyhow%2F" title="https://docs.rs/anyhow/" target="_blank" ref="nofollow noopener noreferrer">anyhow crate</a></li>
</ul>
<hr/>
<p>è®°ä½ï¼š<strong>åœ¨ Rust ä¸­ï¼Œå¤„ç†é”™è¯¯ä¸æ˜¯è´Ÿæ‹…ï¼Œè€Œæ˜¯è®©ä½ çš„ä»£ç æ›´å¥å£®çš„æœºä¼šï¼</strong> ğŸ¦€âœ¨</p>
<p>Happy Coding! ğŸ‰</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SDD è§„èŒƒé©±åŠ¨å¼€å‘ AI ç¼–ç¨‹ç®€å•å®è·µåï¼Œæˆ‘æ‰¾åˆ°äº†å®ƒçš„ä½¿ç”¨åœºæ™¯]]></title>    <link>https://juejin.cn/post/7588124225703034920</link>    <guid>https://juejin.cn/post/7588124225703034920</guid>    <pubDate>2025-12-28T14:03:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588124225703034920" data-draft-id="7588093282530476084" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SDD è§„èŒƒé©±åŠ¨å¼€å‘ AI ç¼–ç¨‹ç®€å•å®è·µåï¼Œæˆ‘æ‰¾åˆ°äº†å®ƒçš„ä½¿ç”¨åœºæ™¯"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-28T14:03:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é™ˆä½¬æ˜”ç¼–ç¨‹äººç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3087084378402445"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SDD è§„èŒƒé©±åŠ¨å¼€å‘ AI ç¼–ç¨‹ç®€å•å®è·µåï¼Œæˆ‘æ‰¾åˆ°äº†å®ƒçš„ä½¿ç”¨åœºæ™¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3087084378402445/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é™ˆä½¬æ˜”ç¼–ç¨‹äººç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T14:03:38.000Z" title="Sun Dec 28 2025 14:03:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ SDD è§„èŒƒé©±åŠ¨å¼€å‘ï¼Ÿ</h2>
<p>SDDï¼ˆSpecification-Driven Development ï¼‰è§„èŒƒé©±åŠ¨å¼€å‘ï¼Œçœ‹åå­—è™½ç„¶é«˜å¤§ä¸Šï¼Œä½†å…¶å®å°±æ˜¯å¾ˆå¤šäº’è”ç½‘å…¬å¸ä¸€ç›´åœ¨è¿è¡Œçš„å·¥ä½œæµç¨‹ï¼Œå…ˆæ˜ç¡®éœ€æ±‚ï¼Œå½¢æˆè§„èŒƒæ–‡æ¡£ï¼Œç„¶åå¼€å‘æ ¹æ®æ–‡æ¡£æ¥è®¾è®¡å’Œå¼€å‘ï¼Œæµ‹è¯•æ ¹æ®æ–‡æ¡£æ¥å†™æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<p>SDD å…¶å¼ºè°ƒäº†éœ€æ±‚æ–‡æ¡£çš„é‡è¦æ€§ï¼Œæ‰€æœ‰çš„åç»§ä»»åŠ¡éƒ½éœ€è¦è·Ÿéœ€æ±‚æ–‡æ¡£å¯¹é½ã€‚</p>
<p>é‡æSDDï¼Œæ˜¯å› ä¸ºç°åœ¨çš„å¤§è¯­è¨€æ¨¡å‹ AI ç¼–ç¨‹ï¼ŒåŒæ ·ä¹Ÿå‡ºç°äº†éœ€æ±‚ä¸æ˜ç¡®ï¼Œå¸¦æ¥äº†ç»“æœä¸ç¬¦åˆé¢„æœŸçš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-1">è§„èŒƒé©±åŠ¨å¼€å‘å°é²œå·¥å…·ï¼šKiro / Comate</h2>
<p>å¦‚æœæƒ³å¿«é€Ÿå°è¯•ä¸€ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨äºšé©¬é€Šæ¨å‡ºçš„ AI ç¼–ç¨‹IDE Kiro å®ç°ï¼Œä»–è‡ªèº«å°±å¸¦äº† Spec å¼€å‘ã€‚å›½å†…çš„ç™¾åº¦ Comate ä¹Ÿæœ‰è·Ÿè¿›ï¼Œä¹Ÿå¯çœ‹çœ‹æ˜¯å¦å¯ä»¥ç™½å«–ã€‚</p>
<p>å®‰è£…ä¹‹åï¼Œä¸»ç•Œé¢åŒºåˆ†äº† Vibe å’Œ Spec ä¸¤ç§å¼€å‘æ¨¡å¼ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45f8b514fe1847df932cd0792225e4be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767535487&amp;x-signature=RXTk%2FCd3haw%2FWeT%2B4Y6Ve1Bigqs%3D" alt="2025 SDD è§„èŒƒé©±åŠ¨å¼€å‘ AI ç¼–ç å·¥å…·ä»‹ç».png" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d364bde94434b34bd13aa8581a59ea1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767535487&amp;x-signature=6Vt%2ByNMbNbaKuykLH%2ByCqqmfEj8%3D" alt="2025 SDD è§„èŒƒé©±åŠ¨å¼€å‘ AI ç¼–ç å·¥å…·ä»‹ç»-comate.png" loading="lazy"/></p>
<p>Comate çš„ Spec Modeï¼Œç›®å‰è¿˜æ˜¯ Beta é˜¶æ®µã€‚</p>
<h3 data-id="heading-2">éœ€æ±‚æ¾„æ¸…</h3>
<p>ä½¿ç”¨æ–¹æ³•å¾ˆç®€å•ï¼Œåˆ‡æ¢åˆ° Spec Mode ä¹‹åï¼Œè¾“å…¥éœ€æ±‚å³å¯ã€‚</p>
<p>ç¨ç­‰ç‰‡åˆ»ï¼ŒAI å°±ä¼šæä¾›ä¸€ä»½éœ€æ±‚æ–‡æ¡£ã€‚</p>
<p>å®ƒæ‹†åˆ†éœ€æ±‚éå¸¸è¯¦ç»†ï¼Œç®—æ˜¯ä¼˜ç§€çš„éœ€æ±‚æ–‡æ¡£äº†ã€‚ä½†æ˜¯è¿™ä¸ªæ–‡æ¡£ä¹Ÿä¸æ˜¯çº¯ç²¹çš„è‡ªç„¶è¯­è¨€ï¼ŒéªŒæ”¶æ ‡å‡†é‡Œé¢æœ‰ä¸€äº›æ¡ä»¶è¯­å¥ï¼šWHENã€THENã€SHALL ç­‰ç­‰ï¼Œæ˜¯ç”¨æ¥å¼ºåˆ¶å¯¹é½éªŒæ”¶ç»“æœçš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0eab8dceabc40a88193f024d2976d2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767535487&amp;x-signature=bKXJ5VrhH4UFnY%2Bk97yphsiS5YI%3D" alt="2025 SDD è§„èŒƒé©±åŠ¨å¼€å‘ AI ç¼–ç å·¥å…·ä»‹ç»-éœ€æ±‚æ–‡æ¡£-1.png" loading="lazy"/></p>
<h3 data-id="heading-3">è¯¦ç»†è®¾è®¡ä¸æ‹†åˆ†ä»»åŠ¡</h3>
<p>ä¸Šæ–‡å›¾ä¸­çœ‹åˆ°ï¼Œéœ€æ±‚æ–‡æ¡£å‡ ä¹æ²¡æœ‰ä»»ä½•æŠ€æœ¯ç›¸å…³çš„å†…å®¹ã€‚</p>
<p>éœ€æ±‚æ¾„æ¸…å®Œæˆä¹‹åï¼Œç¡®è®¤è¿›å…¥ä¸‹ä¸€æ­¥è®¾è®¡ã€‚è¿™æ—¶å€™æ‰ä¼šå‡ºç°å¾ˆå¤šæŠ€æœ¯é€‰å‹éœ€è¦åšçš„å†…å®¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41e4a288976b4969b80273a8e4c0bb0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767535487&amp;x-signature=onQusDbo%2BmAC3VJTir55B1IGVYs%3D" alt="2025 SDD è§„èŒƒé©±åŠ¨å¼€å‘ AI ç¼–ç å·¥å…·ä»‹ç»-è¯¦ç»†è®¾è®¡-1.png" loading="lazy"/>
è®¾è®¡ä¹Ÿæ²¡é—®é¢˜ï¼Œé‚£å°±æ¥åˆ°æœ€åä¸€æ­¥ï¼ŒAIä¼šç”Ÿæˆè¯¦ç»†çš„æ‰§è¡Œæ¸…å•ã€‚</p>
<p>Kiroå‰å®³çš„åœ°æ–¹åœ¨äºå¯ä»¥å•ç‹¬é€‰æ‹©ä»»æ„ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0992ed11dc0425daf9c29ca57bc36e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767535487&amp;x-signature=QqVgS8xQY2Msxy1bAXndbCnczYU%3D" alt="2025 SDD è§„èŒƒé©±åŠ¨å¼€å‘ AI ç¼–ç å·¥å…·ä»‹ç»-è¯¦ç»†è®¾è®¡.png" loading="lazy"/></p>
<h2 data-id="heading-4">Spec Mode ä¸ Plan Agent çš„ä¸åŒ</h2>
<h3 data-id="heading-5">æ–‡æ¡£å®šä¹‰ä¸åŒ</h3>
<p>ä¸Šæ¬¡æµ‹è¯•äº†å„å¤§ç»„ä»¶ IDE çš„ Plan Agentã€‚</p>
<p>è¿™äº› IDE éƒ½æœ‰ Plan Agentï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å®Œæ•´çš„éœ€æ±‚æ–‡æ¡£ä¹¦å†™çš„è¿‡ç¨‹ï¼Œå†™å‡ºæ¥çš„æ–‡æ¡£æ›´å¤šæ˜¯è®¾è®¡æ–‡æ¡£å’Œæ‰§è¡Œä»»åŠ¡çš„ç»“åˆä½“ã€‚</p>
<p><a href="https://juejin.cn/post/7587596841874276386" target="_blank" title="https://juejin.cn/post/7587596841874276386">å›½äº§AIç¼–ç¨‹IDEçš„Planæ¨¡å¼ï¼Œå¯¹æ¯”Cursorå·®åˆ«åœ¨å“ªï¼Ÿ</a></p>
<p>Kiroé‡Œé¢çš„è®¾è®¡æ–‡æ¡£æœ‰å¾ˆå¤šæµç¨‹å›¾ã€ç±»å‹å®šä¹‰ã€æ•°æ®åº“å®ä¾‹ç­‰å†…å®¹ï¼ŒçœŸçš„åƒä¸€ä¸ªé«˜çº§ç¨‹åºå‘˜åœ¨åŠ¨æ‰‹å‰å†™çš„è¯¦ç»†è®¾è®¡æ–‡æ¡£ï¼Œçœ‹äº†éƒ½æƒ³ç‚¹ä¸ªèµã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5884416e8e9f4f85a01a4f8a8ac65350~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6ZmI5L2s5piU57yW56iL5Lq655Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767535487&amp;x-signature=ypjHHeo%2FJYx7QFapA6A1r%2BI28Ck%3D" alt="kiro-è¯¦ç»†è®¾è®¡.png" loading="lazy"/></p>
<p>å³ä½¿æ˜¯ä¸Šæ¬¡æµ‹è¯•æ–‡æ¡£èƒ½åŠ›æœ€å¼ºçš„ CodeBuddy ç”Ÿæˆçš„å†…å®¹ï¼Œæ•°æ®åº“ç­‰éƒ½æ˜¯å¯¥å¯¥å‡ å¥ï¼Œå†™çš„å¾ˆæ¦‚è¦ï¼Œåœ¨å¯¹æ¯”ä¹‹ä¸‹å°±æ˜¾å¾—ä¸šä½™å¾ˆå¤šäº†ã€‚</p>
<h3 data-id="heading-6">ä»»åŠ¡ä¸æ–‡æ¡£å…³è”æ€§</h3>
<p>ä¸Šæ¬¡çš„æµ‹è¯•ä¸­å‘ç°ï¼Œé™¤äº† Cursor ä¹‹å¤–ï¼Œå…¶ä»– IDE çš„æœ€åæ‹†åˆ†çš„ä»»åŠ¡ï¼Œå’Œå¼€å‘è®¡åˆ’å†™å¥½çš„å†…å®¹å…³è”æ¯”è¾ƒå¼±ï¼Œå‡ºç°ä¸¤è€…ä¸ä¸€è‡´çš„æƒ…å†µåè€Œæ˜¯å¸¸æ€ã€‚å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€æ­¥éƒ½æœ‰åå·®ï¼Œé‚£æœ€åäº§å‡ºå°±å¾ˆéš¾å¦‚ä½ æœŸæœ›çš„é‚£æ ·äº†ã€‚</p>
<p>ä½†åœ¨ä¸Šæ–‡å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼ŒKiro çš„è®¾è®¡æ–‡æ¡£å’Œä»»åŠ¡åˆ—è¡¨ä¸­ï¼Œéƒ½æ˜ç¡®æ ‡è®°äº†å…·ä½“å…³è”çš„éœ€æ±‚ï¼Œä¸‰ä¸ªæ–‡æ¡£å…³è”æ€§æ˜¯å¾ˆå¼ºçš„ã€‚</p>
<h3 data-id="heading-7">ä»»åŠ¡æ‹†åˆ†åˆç†æ€§</h3>
<p>Plan Agent å¸¸å¸¸ä¼šå› ä¸ºä¸Šä¸‹æ–‡è¿‡é•¿ï¼Œå¯¼è‡´ä¸­æ–­ã€‚</p>
<p>ç›¸å¯¹è€Œè¨€ï¼ŒSDD æ‹†åˆ†ä»»åŠ¡ä¹‹åï¼Œä¸å°‘ä»»åŠ¡éƒ½æ˜¯å¯ä»¥ç‹¬ç«‹æ‰§è¡Œçš„ï¼Œå¦‚æœå½“å‰ä»»åŠ¡æœ‰å‰ç½®ä»»åŠ¡ï¼Œåœ¨å‰ç½®ä»»åŠ¡æ‰§è¡Œä¹‹å‰ï¼Œå½“å‰ä»»åŠ¡æ˜¯æ— æ³•æ‰§è¡Œçš„ã€‚ç”¨æˆ·ä¹Ÿå¯ä»¥é€‰æ‹©å•æ¬¡æ‰§è¡Œ1ä¸ªæˆ–å¤šä¸ªä»»åŠ¡ã€‚</p>
<p>æ‰€ä»¥ï¼Œæµç¨‹å˜å¾—å¯æ§äº†ã€‚å³ä½¿å¦‚é‡åˆ°ä¸­æ–­ï¼Œå¯¹æ•´ä½“å½±å“æ›´å°ã€‚</p>
<h2 data-id="heading-8">ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ SDDï¼Ÿ</h2>
<p>å›ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œå…ˆæ˜ç¡®ä¸€ä¸ªäº‹æƒ…ï¼šSpec Modeæ— æ³•æå‡å¤§æ¨¡å‹æœ¬èº«çš„èƒ½åŠ›ã€‚è€Œæ˜¯è®©åœ¨å…¶çº¦æŸä¸‹çš„å¤§æ¨¡å‹ç”Ÿæˆçš„å†…å®¹ï¼Œæ›´ç¬¦åˆæˆ‘ä»¬çš„éœ€æ±‚ã€‚æ¯”å¦‚ï¼šå¦‚æœå¤§æ¨¡å‹æœ¬èº«å¤„ç†åç«¯æ•°æ®åº“çš„èƒ½åŠ›ä¸è¡Œï¼Œé€šè¿‡ Spec Mode ä¹Ÿæ— æ³•è·å¾—å¥½çš„æ•°æ®åº“è®¾è®¡ã€‚</p>
<p>ç›®å‰æ¥è¯´ï¼Œ<strong>å¯¹ç¨‹åºå‘˜è€Œè¨€ï¼Œå¦‚æœä½ éœ€è¦è¯¦ç»†è®¾è®¡ï¼Œé‚£å°±éœ€è¦SDDã€‚</strong> æ‰€ä»¥ï¼Œä¸€èˆ¬çš„å°éœ€æ±‚ç”¨ Plan Agent æˆ–è€…ç›´æ¥ç”Ÿæˆï¼Œå¤æ‚çš„éœ€æ±‚ä½¿ç”¨ Spec Mode å¼€å‘ã€‚</p>
<p>å¦å¤–ï¼Œå¦‚æœä»…ä»…æ˜¯å‰ç«¯å¼€å‘çš„é¡¹ç›®ï¼Œå¤§éƒ¨åˆ†æ—¶å€™ä¸éœ€è¦ä½¿ç”¨ SDDã€‚</p>
<p>è¿™æ˜¯å› ä¸ºå‰ç«¯æŠ€æœ¯é€šå¸¸æ›´ä¾§é‡äºäº¤äº’å’Œè§†è§‰æ•ˆæœï¼Œè®¸å¤šéœ€æ±‚å¯ä»¥é€šè¿‡ç»„ä»¶åº“æˆ–ç°æˆæ¡†æ¶å¿«é€Ÿå®ç°ï¼Œè€Œæ•°æ®ä¼šé€šè¿‡åç«¯ API çº¦æŸã€‚å”¯ä¸€æ¶‰åŠçš„æ—¶å€™ï¼Œå¯èƒ½å°±æ˜¯çŠ¶æ€ç®¡ç†äº†ã€‚</p>
<p>åŒæ ·ï¼Œåœ¨ç›®å‰å¤§å…¬å¸æˆç†Ÿçš„å¼€å‘å›¢é˜Ÿä¸­ï¼Œä¹Ÿä¸å¤ªå¯èƒ½é¢‘ç¹ç”¨åˆ° SDDã€‚</p>
<p>è¿™äº›å›¢é˜Ÿå¾€å¾€æˆå‘˜ä¹‹é—´åˆ†å·¥æ˜ç¡®ï¼Œéœ€æ±‚åˆ°è¾¾ç¨‹åºå‘˜æ‰‹é‡Œæ˜¯ï¼Œå·²ç»ä¸éœ€è¦æ¾„æ¸…éœ€æ±‚äº†ï¼Œè¿˜æœ‰å¾ˆå¤šä¸šåŠ¡ä¹Ÿè¶‹äºç¨³å®šäº†ï¼Œä¸å¸¸å¸¸éœ€è¦æ›´æ”¹æ•°æ®åº“è®¾è®¡ç­‰æ ¸å¿ƒå†…å®¹ã€‚</p>
<p>ä½†æ˜¯ï¼Œè¦æé†’çš„æ˜¯ï¼š<strong>å¦‚æœ AI ç¼–ç¨‹å‘å±•é¡ºåˆ©ï¼Œå¾ˆå¤šç¨‹åºå‘˜ä¼šæ‰¿æ‹…ä¸€å®šçš„äº§å“çš„è§’è‰²</strong>ã€‚å¦‚æœçœŸçš„å¦‚æ­¤ï¼ŒSDD å·¥å…·èƒ½å¸®ä½ æ¥å¿«é€Ÿé€‚åº”è§’è‰²çš„è½¬æ¢ï¼Œæ›´å¥½åœ°äº§å‡ºç¬¦åˆéœ€æ±‚çš„äº§å“ã€‚</p>
<p>å› æ­¤ï¼Œäº†è§£ SDD è¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p>
<h2 data-id="heading-9">æ›´é€šç”¨çš„æ–¹æ¡ˆÂ </h2>
<p>Kiro å’Œ Comate è¿™ç§æŠŠ Spec Mode èå…¥äº† IDEï¼Œå¥½æ˜¯å¥½ï¼Œä½†æ˜¯å¦‚æœä¸ç”¨è¿™ä¸¤ä¸ª IDE ï¼Œæœ‰æ²¡æœ‰ç±»ä¼¼çš„æ–¹æ³•æ‰§è¡Œ SDDï¼Ÿ</p>
<p>æœ‰çš„ï¼Œç›®å‰æ­£åœ¨å°è¯• 3ä¸ªå¼€æºå·¥å…·ï¼š</p>
<ul>
<li>
<p>spec-kitï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgithub%2Fspec-kit" target="_blank" title="https://github.com/github/spec-kit" ref="nofollow noopener noreferrer">github.com/github/specâ€¦</a></p>
</li>
<li>
<p>OpenSpecï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FFission-AI%2FOpenSpec" target="_blank" title="https://github.com/Fission-AI/OpenSpec" ref="nofollow noopener noreferrer">github.com/Fission-AI/â€¦</a></p>
</li>
<li>
<p>BMAD-METHODï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbmad-code-org%2FBMAD-METHOD" target="_blank" title="https://github.com/bmad-code-org/BMAD-METHOD" ref="nofollow noopener noreferrer">github.com/bmad-code-oâ€¦</a></p>
</li>
</ul>
<p>æ„Ÿå…´è¶£çš„ï¼Œå¯ä»¥ä¸€èµ·ç ”ç©¶ä¸‹ã€‚</p>
<p>ç›¸å…³çš„æµ‹è¯•å†…å®¹ï¼Œåç»­ä¼šç»§ç»­åœ¨æ­¤å·å‘å¸ƒã€‚æ¬¢è¿å…³æ³¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MiniMax M2 Coding Plan + Claude Codeï¼šæ‰“é€ ä½ çš„ä½æˆæœ¬é«˜æ•ˆç‡AIç¼–ç¨‹æ­æ¡£]]></title>    <link>https://juejin.cn/post/7588300640599949318</link>    <guid>https://juejin.cn/post/7588300640599949318</guid>    <pubDate>2025-12-28T14:08:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588300640599949318" data-draft-id="7588191506607472646" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MiniMax M2 Coding Plan + Claude Codeï¼šæ‰“é€ ä½ çš„ä½æˆæœ¬é«˜æ•ˆç‡AIç¼–ç¨‹æ­æ¡£"/> <meta itemprop="keywords" content="Claude,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-28T14:08:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åœŸè±†1250"/> <meta itemprop="url" content="https://juejin.cn/user/3280598428302727"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MiniMax M2 Coding Plan + Claude Codeï¼šæ‰“é€ ä½ çš„ä½æˆæœ¬é«˜æ•ˆç‡AIç¼–ç¨‹æ­æ¡£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3280598428302727/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åœŸè±†1250
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T14:08:07.000Z" title="Sun Dec 28 2025 14:08:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<a href="https://juejin.cn/user/3280598428302727" target="_blank" title="https://juejin.cn/user/3280598428302727">åœŸè±†</a>ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FCRh8a5UMmc_JXkHfL1meBA" target="_blank" title="https://mp.weixin.qq.com/s/CRh8a5UMmc_JXkHfL1meBA" ref="nofollow noopener noreferrer">å…¬ä¼—å·ï¼šåœŸè±†å­¦å‰ç«¯</a></p>
<blockquote>
<p>"äººå‡Claude Code"çš„æ—¶ä»£ï¼ŒçœŸçš„æ¥äº†ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦é‡æ–°å®¡è§†AIç¼–ç¨‹å·¥å…·çš„é€‰æ‹©ï¼Ÿ</h2>
<h3 data-id="heading-1">1.1 å½“"è´µ"æˆä¸ºå¸¸æ€</h3>
<p>æƒ³è±¡ä¸€ä¸ªåœºæ™¯ï¼šä½ æ˜¯ä¸€åç‹¬ç«‹å¼€å‘è€…ï¼Œæˆ–è€…åˆšåˆ›ä¸šçš„CTOï¼Œæ¯å¤©è¦å’Œä»£ç æ‰“äº¤é“ã€‚æŸå¤©ä½ æ‰“å¼€è´¦å•ï¼Œå‘ç°æœ¬æœˆç»™Anthropicçš„APIè´¹ç”¨å·²ç»æŠµå¾—ä¸Šä¸€å°iPhoneâ€”â€”è€Œè¿™å·²ç»æ˜¯è¿ç»­ç¬¬ä¸‰ä¸ªæœˆäº†ã€‚</p>
<p>è¿™ä¸æ˜¯ä¸ªä¾‹ã€‚</p>
<p>2025å¹´ï¼ŒAIå¤§æ¨¡å‹çš„APIå®šä»·ä¼¼ä¹é™·å…¥äº†ä¸€ç§"å†›å¤‡ç«èµ›"ï¼šOpenAIçš„GPT-4oæ¯ç™¾ä¸‡Tokenæ”¶è´¹çº¦<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10</mn><mtext>ï¼Œ</mtext><mi>C</mi><mi>l</mi><mi>a</mi><mi>u</mi><mi>d</mi><mi>e</mi><mi>O</mi><mi>p</mi><mi>u</mi><mi>s</mi><mn>4</mn><mtext>æ›´æ˜¯é«˜è¾¾</mtext></mrow><annotation encoding="application/x-tex">10ï¼ŒClaude Opus 4æ›´æ˜¯é«˜è¾¾</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord">10</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.01968em;">Cl</span><span class="mord mathnormal">a</span><span class="mord mathnormal">u</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal">Op</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span><span class="mord">4</span><span class="mord cjk_fallback">æ›´æ˜¯é«˜è¾¾</span></span></span></span></span>15è¾“å‡ºã€‚æ›´ç¦»è°±çš„æ˜¯æŸäº›"é¡¶çº§æ¨¡å‹"ï¼Œè¾“å…¥ä»·æ ¼éƒ½èƒ½é£™åˆ°æ¯ç™¾ä¸‡Token 9å…ƒäººæ°‘å¸â€”â€”è¿™æ„å‘³ç€ä½ å†™ä¸€ä¸ªç¨å¾®å¤æ‚ç‚¹çš„éœ€æ±‚ï¼Œå‡ åå—å°±æ²¡äº†ã€‚</p>
<p>å¯¹äºä¸ªäººå¼€å‘è€…æ¥è¯´ï¼Œè¿™ç›¸å½“äºæ¯æœˆå›ºå®šæ”¯å‡ºä¸€ç¬”"æ™ºå•†ç¨"ï¼›å¯¹äºåˆåˆ›å›¢é˜Ÿè€Œè¨€ï¼Œè¿™æ„å‘³ç€AIè¾…åŠ©å¼€å‘ä»"é”¦ä¸Šæ·»èŠ±"å˜æˆäº†"æ²‰é‡çš„ç”œèœœè´Ÿæ‹…"ã€‚</p>
<h3 data-id="heading-2">1.2 å¼€æºæ¨¡å‹çš„é€†è¢­</h3>
<p>ä½†æ•…äº‹åœ¨2025å¹´10æœˆ27æ—¥è¿æ¥äº†è½¬æŠ˜ã€‚</p>
<p>é‚£å¤©ï¼Œä¸€å®¶å«MiniMaxçš„ä¸­å›½AIå…¬å¸å¼€æºäº†ä¸€ä¸ªæ¨¡å‹ï¼Œåå«M2ã€‚è¿™ä¸ªæ¨¡å‹æœ‰å¤šçŒ›å‘¢ï¼Ÿ</p>
<ul>
<li><strong>å…¨çƒæ’åç¬¬äº”</strong>â€”â€”åœ¨Artificial Analysisæ¦œå•ä¸Šï¼Œè¶…è¶Šäº†ç»å¤§å¤šæ•°é—­æºæ¨¡å‹</li>
<li><strong>å¼€æºæ¨¡å‹ç¬¬ä¸€</strong>â€”â€”åœ¨LMArena WebDevæ¦œå•ä¸Šå‚²è§†ç¾¤é›„</li>
<li><strong>ä»·æ ¼åªæœ‰Claudeçš„8%</strong>â€”â€”å¯¹ï¼Œä½ æ²¡çœ‹é”™ï¼Œæ˜¯å…«ä¸ªç™¾åˆ†ç‚¹</li>
<li><strong>é€Ÿåº¦æå‡çº¦2å€</strong>â€”â€”å“åº”å¿«åˆ°è®©ä½ æ€€ç–‘äººç”Ÿ</li>
</ul>
<p>æ›´è¦å‘½çš„æ˜¯ï¼Œå®ƒä¸ä»…å¼€æºï¼Œè€Œä¸”ä¸“é—¨ä¸º<strong>ç¼–ç¨‹å’ŒAgentå·¥ä½œæµ</strong>è€Œç”Ÿã€‚</p>
<p>è¿™å°±å¥½æ¯”æœ‰äººå‘Šè¯‰ä½ ï¼š"å˜¿ï¼Œéš”å£äº”æ˜Ÿçº§å¤§å¨çš„èœç¡®å®å¥½åƒï¼Œä½†æˆ‘è¿™æœ‰é“å®¶å¸¸èœï¼Œå‘³é“å·®ä¸å¤šï¼Œä»·æ ¼åªæœ‰ä»–çš„ååˆ†ä¹‹ä¸€ï¼Œè¿˜ç®¡é¥±ã€‚"</p>
<p>ä½ åŠ¨ä¸åŠ¨å¿ƒï¼Ÿ</p>
<hr/>
<h2 data-id="heading-3">äºŒã€MiniMax M2 åˆ°åº•æ˜¯ä»€ä¹ˆæ¥å¤´ï¼Ÿ</h2>
<h3 data-id="heading-4">2.1 ä¸€ä¸ª"ç²¾ç®€"ä½†"å‡¶çŒ›"çš„æ¨¡å‹</h3>
<p>å…ˆçœ‹ä¸€ç»„ç¡¬æ ¸æ•°æ®ï¼š</p>

























<table><thead><tr><th>å‚æ•°é¡¹</th><th>æ•°å€¼</th></tr></thead><tbody><tr><td>æ€»å‚æ•°é‡</td><td>2300äº¿ï¼ˆ230Bï¼‰</td></tr><tr><td>æ¿€æ´»å‚æ•°</td><td>100äº¿ï¼ˆ10Bï¼‰</td></tr><tr><td>ä¸Šä¸‹æ–‡çª—å£</td><td>204,800 Token</td></tr><tr><td>æœ€å¤§è¾“å‡º</td><td>131,072 Token</td></tr></tbody></table>
<p>ç­‰ç­‰ï¼Œ2300äº¿æ€»å‚æ•°ï¼Œä½†åªæ¿€æ´»100äº¿ï¼Ÿè¿™å¬èµ·æ¥åƒæ˜¯â€”â€”</p>
<blockquote>
<p>"æˆ‘ä¹°äº†ä¸€æ ‹æ¥¼ï¼Œä½†åªä½å…¶ä¸­ä¸€é—´æˆ¿ã€‚"</p>
</blockquote>
<p>ä½†åˆ«æ€¥ç€ç¬‘ã€‚è¿™ç§<strong>æ··åˆä¸“å®¶ï¼ˆMoEï¼‰æ¶æ„</strong>æ°æ°æ˜¯å½“å‰æ€§ä»·æ¯”æœ€é«˜çš„æ–¹æ¡ˆã€‚æ¨¡å‹åœ¨æ¨ç†æ—¶åª"ç‚¹äº®"éœ€è¦çš„éƒ¨åˆ†ç¥ç»å…ƒï¼Œæ—¢ä¿è¯äº†æ€§èƒ½ï¼Œåˆå¤§å¹…é™ä½äº†è®¡ç®—æˆæœ¬ã€‚</p>
<p>ç”¨æ¸¸æˆæ¥ç±»æ¯”å°±æ˜¯ï¼šä½ çš„ç”µè„‘æ˜¾å¡å¾ˆä¸€èˆ¬ï¼Œä½†æ¸¸æˆä¼šè‡ªåŠ¨æ£€æµ‹é…ç½®ï¼Œè¯¥å¼€é«˜ç”»è´¨çš„åœ°æ–¹å¼€é«˜ï¼Œè¯¥çœçš„åœ°æ–¹çœï¼Œæœ€ç»ˆä½“éªŒå±…ç„¶å’Œé¡¶çº§é…ç½®å·®ä¸å¤šã€‚</p>
<h3 data-id="heading-5">2.2 å®ƒåˆ°åº•æœ‰å¤šå¼ºï¼Ÿ</h3>
<p>å…‰çœ‹æ•°å­—æ˜¯è™šçš„ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®é™…è¡¨ç°ï¼š</p>
<p><strong>ç¼–ç¨‹èƒ½åŠ›æ–¹é¢ï¼š</strong></p>
<ul>
<li>LiveCodeBench V6ï¼šå¼€æºSOTAï¼Œè¶…è¶ŠClaude Sonnet 4.5</li>
<li>SWE-bench Verifiedï¼šå›½äº§ç¬¬ä¸€</li>
<li>LMArena Code Arenaï¼šå¼€æºç¬¬ä¸€ã€å›½äº§ç¬¬ä¸€</li>
</ul>
<p><strong>é€šç”¨èƒ½åŠ›æ–¹é¢ï¼š</strong></p>
<ul>
<li>æ•°å­¦ç«èµ›é¢˜ï¼ˆAIME 2025ï¼‰ï¼šå¼€æºSOTA</li>
<li>æ¥è¿‘GPT-5.1çº§åˆ«çš„æ¨ç†èƒ½åŠ›</li>
</ul>
<p><strong>Agentèƒ½åŠ›æ–¹é¢ï¼š</strong></p>
<ul>
<li>BrowseCompç½‘é¡µä»»åŠ¡ï¼š67åˆ†</li>
<li>Ï„Â²-BenchçœŸå®ä¸–ç•Œäº¤äº’ï¼šå¼€æºSOTA</li>
</ul>
<p>ç”¨ä¸€ä½æµ·å¤–å¼€å‘è€…çš„è¯è¯´ï¼š<strong>"MiniMax M2ä¸ä»…ä»…æ˜¯ä¸ªç¼–ç¨‹æ¨¡å‹ï¼Œå®ƒç®€ç›´æ˜¯ä¸ªèƒ½ç‹¬ç«‹å®Œæˆä»»åŠ¡çš„å®ä¹ ç”Ÿâ€”â€”è€Œä¸”è¿™ä¸ªå®ä¹ ç”Ÿæ°¸ä¸ç–²å€¦ï¼Œä¸è¦äº”é™©ä¸€é‡‘ï¼Œéšå«éšåˆ°ã€‚"</strong></p>
<h3 data-id="heading-6">2.3 Interleaved Thinkingï¼šè®©AIå­¦ä¼š"è¾¹æƒ³è¾¹åš"</h3>
<p>M2è¿˜æœ‰ä¸€ä¸ªç‹¬é—¨ç§˜ç±ï¼š<strong>Interleaved Thinkingï¼ˆäº¤é”™æ€ç»´ï¼‰</strong>ã€‚</p>
<p>ä¼ ç»ŸAIæ¨¡å‹çš„å¤„ç†æ¨¡å¼æ˜¯è¿™æ ·çš„ï¼šç”¨æˆ·è¾“å…¥ â†’ æ¨¡å‹æ€è€ƒ â†’ è¾“å‡ºç»“æœ â†’ ç»“æŸã€‚</p>
<p>ä½†ç°å®ä¸­çš„ç¼–ç¨‹ä»»åŠ¡å¾€å¾€æ˜¯å¤æ‚çš„ã€å¤šæ­¥éª¤çš„ï¼Œæ¯”å¦‚ï¼š</p>
<ol>
<li>å…ˆè¯»å–é…ç½®æ–‡ä»¶</li>
<li>æ ¹æ®é…ç½®ä¿®æ”¹ä»£ç </li>
<li>è¿è¡Œæµ‹è¯•</li>
<li>æ ¹æ®æŠ¥é”™ç»§ç»­ä¿®æ”¹</li>
<li>å†æ¬¡æµ‹è¯•â€¦â€¦</li>
</ol>
<p>äº¤é”™æ€ç»´è®©æ¨¡å‹å¯ä»¥åœ¨å¤„ç†ä»»åŠ¡æ—¶<strong>äº¤æ›¿è¿›è¡Œæ¨ç†ã€è®¡åˆ’å’Œæ‰§è¡Œ</strong>ï¼Œå°±åƒä¸€ä¸ªç»éªŒä¸°å¯Œçš„ç¨‹åºå‘˜â€”â€”ä»–ä¸ä¼šé—·å¤´å†™ä»£ç å†™ä¸€åŠæ‰å‘ç°æ¶æ„æœ‰é—®é¢˜ï¼Œè€Œæ˜¯è¾¹å†™è¾¹æƒ³ï¼Œè¾¹æƒ³è¾¹è°ƒæ•´ã€‚</p>
<p>å®˜æ–¹è¡¨ç¤ºï¼Œæ­£ç¡®ä½¿ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œæ¨¡å‹æ•ˆæœæœ€å¤šå¯ä»¥<strong>æå‡35%</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-7">ä¸‰ã€ä¸ºä»€ä¹ˆè¯´Coding Planæ˜¯"ç¥åŠ©æ”»"ï¼Ÿ</h2>
<h3 data-id="heading-8">3.1 ä»·æ ¼æœ‰å¤šé¦™ï¼Ÿ</h3>
<p>å…ˆæ¥æ„Ÿå—ä¸€ä¸‹MiniMax M2 Coding Plançš„å®šä»·ï¼š</p>

























<table><thead><tr><th>å¥—é¤ç±»å‹</th><th>ä»·æ ¼</th><th>æƒç›Š</th></tr></thead><tbody><tr><td>Starterï¼ˆæ–°æ‰‹ï¼‰</td><td>é¦–æœˆ 9.9 å…ƒ</td><td>åŒ…æœˆä¸é™é€Ÿ</td></tr><tr><td>Proï¼ˆè¿›é˜¶ï¼‰</td><td>æ›´ä¼˜æƒ </td><td>æ›´å¤šè°ƒç”¨é‡</td></tr><tr><td>ä¼ä¸šç‰ˆ</td><td>å®šåˆ¶</td><td>å›¢é˜Ÿåä½œ</td></tr></tbody></table>
<p>9.9å…ƒæ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Ÿ</p>
<ul>
<li>ä¸€æ¯ç‘å¹¸å’–å•¡</li>
<li>ä¸¤é¡¿æ—©é¤</li>
<li>ä¸€æ¬¡å…±äº«å•è½¦æœˆå¡</li>
</ul>
<p>ä½†è¿™æ„å‘³ç€ä½ å¯ä»¥<strong>ä¸€ä¸ªæœˆæ— é™åˆ¶ä½¿ç”¨å…¨çƒæ’åå‰äº”çš„ç¼–ç¨‹æ¨¡å‹</strong>ã€‚</p>
<p>ä½œä¸ºå¯¹æ¯”ï¼ŒClaude Proçš„è®¢é˜…è´¹æ˜¯æ¯æœˆ$20ï¼ˆçº¦150å…ƒäººæ°‘å¸ï¼‰ï¼Œè€Œä¸”è¶…å‡ºä½¿ç”¨é‡è¿˜è¦é¢å¤–ä»˜è´¹ã€‚MiniMaxè¿™æ³¢ï¼Œå±å®æ˜¯æŠŠä»·æ ¼æ‰“åˆ°äº†"åœ°æ¿ä»·"ã€‚</p>
<h3 data-id="heading-9">3.2 ä¸æ˜¯"ä¾¿å®œè´§"ï¼Œæ˜¯"çœŸé¦™è´§"</h3>
<p>ä¾¿å®œæ²¡å¥½è´§ï¼Ÿè¿™å¥è¯åœ¨AIé¢†åŸŸå¯èƒ½è¦è¢«æ‰“ç ´äº†ã€‚</p>
<p>Coding Planä¸ä»…ä»·æ ¼é¦™ï¼Œæƒç›Šä¹Ÿç›¸å½“åˆ°ä½ï¼š</p>
<ul>
<li><strong>APIå…¼å®¹OpenAI/Anthropic</strong>ï¼šæ„å‘³ç€ä½ å¯ä»¥æ— ç¼å¯¹æ¥ç°æœ‰å·¥å…·</li>
<li><strong>æ”¯æŒClaude Codeã€Cursorç­‰ä¸»æµIDE</strong>ï¼šä¸ç”¨é‡æ–°å­¦ä¹ æ–°å·¥å…·</li>
<li><strong>é«˜é€Ÿé€šé“</strong>ï¼šä¸é™é€Ÿï¼Œå“åº”å¿«äººä¸€æ­¥</li>
<li><strong>æ€è€ƒæ¨¡å¼å¯åˆ‡æ¢</strong>ï¼šå¤æ‚ä»»åŠ¡å¼€æ€è€ƒï¼Œç®€å•ä»»åŠ¡çœToken</li>
<li><strong>è§†è§‰ç†è§£èƒ½åŠ›</strong>ï¼šå¯ä»¥ç›´æ¥è§£ææˆªå›¾ã€è®¾è®¡ç¨¿ã€æŠ¥é”™æˆªå›¾</li>
</ul>
<p>æœ‰å¼€å‘è€…å®æµ‹ï¼š"åŒæ ·çš„ä¸€ä¸ªéœ€æ±‚ï¼Œç”¨Claude Sonnetè¦è·‘ä¸¤è½®æ‰èƒ½è·‘é€šï¼Œç”¨MiniMax M2ä¸€éè¿‡ï¼Œè€Œä¸”å“åº”é€Ÿåº¦å¿«äº†è¿‘ä¸€å€ã€‚"</p>
<hr/>
<h2 data-id="heading-10">å››ã€æ‰‹æŠŠæ‰‹æ•™ç¨‹ï¼šå¦‚ä½•æŠŠMiniMax M2æ¥å…¥Claude Codeï¼Ÿ</h2>
<p>ç»ˆäºåˆ°äº†å¤§å®¶æœ€å…³å¿ƒçš„å®æ“ç¯èŠ‚ã€‚</p>
<p>å¥½æ¶ˆæ¯æ˜¯ï¼šæ•´ä¸ªè¿‡ç¨‹åªéœ€è¦ä¿®æ”¹ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œ5åˆ†é’Ÿæå®šã€‚</p>
<h3 data-id="heading-11">4.1 å‡†å¤‡å·¥ä½œ</h3>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œä½ éœ€è¦ï¼š</p>
<ol>
<li><strong>æ³¨å†ŒMiniMaxè´¦å·</strong>ï¼šè®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.minimaxi.com" target="_blank" title="https://platform.minimaxi.com" ref="nofollow noopener noreferrer">MiniMaxå¼€æ”¾å¹³å°</a></li>
<li><strong>è·å–API Key</strong>ï¼š
<ul>
<li>ç™»å½•åè¿›å…¥ã€Œè´¦æˆ·ç®¡ç†ã€â†’ã€Œæ¥å£å¯†é’¥ã€</li>
<li>ç‚¹å‡»ã€Œåˆ›å»ºæ–°çš„å¯†é’¥ã€</li>
<li><strong>åŠ¡å¿…å¤åˆ¶å¹¶ä¿å­˜</strong>â€”â€”è¿™ä¸ªå¯†é’¥åªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼</li>
</ul>
</li>
</ol>
<h3 data-id="heading-12">4.2 ä¿®æ”¹Claude Codeé…ç½®</h3>
<p>æ‰¾åˆ°ä½ çš„Claude Codeé…ç½®æ–‡ä»¶ <code>settings.json</code>ã€‚é€šå¸¸ä½äºå½“å‰ç”¨æˆ·ç›®å½•ä¸‹çš„ <code>.claude</code> ç›®å½•ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Windows</span>
%USERPROFILE%\.claude\settings.json

<span class="hljs-comment"># macOS/Linux</span>
~/.claude/settings.json
</code></pre>
<p>ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ï¼Œæ·»åŠ æˆ–ä¿®æ”¹ä»¥ä¸‹é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"ANTHROPIC_BASE_URL"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://api.minimaxi.com/anthropic"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"ANTHROPIC_AUTH_TOKEN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"your-api-key-here"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"ANTHROPIC_MODEL"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MiniMax-M2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"ANTHROPIC_DEFAULT_SONNET_MODEL"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MiniMax-M2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"ANTHROPIC_DEFAULT_OPUS_MODEL"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MiniMax-M2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"ANTHROPIC_DEFAULT_HAIKU_MODEL"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MiniMax-M2"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"ANTHROPIC_SMALL_FAST_MODEL"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MiniMax-M2"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å…³é”®é…ç½®è¯´æ˜ï¼š</strong></p>






























<table><thead><tr><th>é…ç½®é¡¹</th><th>å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>ANTHROPIC_BASE_URL</code></td><td><code>https://api.minimaxi.com/anthropic</code></td><td>MiniMaxçš„Anthropicå…¼å®¹APIç«¯ç‚¹ï¼ˆæ³¨æ„æ˜¯ <code>/anthropic</code> ä¸æ˜¯ <code>/v1</code>ï¼‰</td></tr><tr><td><code>ANTHROPIC_AUTH_TOKEN</code></td><td>ä½ çš„API Key</td><td>åœ¨MiniMaxå¹³å°åˆ›å»ºçš„å¯†é’¥</td></tr><tr><td><code>ANTHROPIC_MODEL</code></td><td><code>MiniMax-M2</code></td><td>é»˜è®¤ä½¿ç”¨çš„æ¨¡å‹</td></tr><tr><td><code>ANTHROPIC_DEFAULT_*_MODEL</code></td><td><code>MiniMax-M2</code></td><td>è¦†ç›–Claudeçš„æ‰€æœ‰é»˜è®¤æ¨¡å‹ä¸ºMiniMax-M2</td></tr></tbody></table>
<h3 data-id="heading-13">4.3 éªŒè¯æ˜¯å¦é…ç½®æˆåŠŸ</h3>
<p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">claude
</code></pre>
<p>ç„¶åå°è¯•è®©å®ƒå¸®ä½ å†™ä¸€æ®µä»£ç ï¼š</p>
<pre><code class="hljs">è¯·ç”¨Reactå†™ä¸€ä¸ªtodo listç»„ä»¶
</code></pre>
<p>å¦‚æœå®ƒæ­£å¸¸å“åº”ï¼Œæ­å–œä½ â€”â€”ä½ å·²ç»æˆåŠŸæ¥å…¥äº†MiniMax M2ï¼</p>
<h3 data-id="heading-14">4.4 è¿›é˜¶é…ç½®ï¼šå¼€å¯æ·±åº¦æ€è€ƒæ¨¡å¼</h3>
<p>å¦‚æœä½ æƒ³è®©æ¨¡å‹åœ¨å¤„ç†å¤æ‚ä»»åŠ¡æ—¶æ›´èªæ˜ï¼Œå¯ä»¥åœ¨å¯¹è¯ä¸­<strong>è‡ªç„¶åœ°è¦æ±‚å®ƒ"æƒ³ä¸€æƒ³"</strong>ã€‚Claude Code çš„æ€è€ƒæ¨¡å¼æ˜¯é€šè¿‡è‡ªç„¶è¯­è¨€è§¦å‘çš„ï¼Œè€Œä¸æ˜¯ slash å‘½ä»¤ã€‚</p>
<p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong></p>
<p>åœ¨å¯¹è¯ä¸­ç›´æ¥å‘Šè¯‰æ¨¡å‹è¦"æƒ³ä¸€æƒ³"ï¼Œå¼ºåº¦é€’å¢ï¼š</p>






























<table><thead><tr><th>è§¦å‘è¯</th><th>æ€è€ƒæ·±åº¦</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>think</code></td><td>æ ‡å‡†æ€è€ƒ</td><td>éœ€è¦ä¸€å®šæ¨ç†çš„æ™®é€šä»»åŠ¡</td></tr><tr><td><code>think hard</code></td><td>æ·±åº¦æ€è€ƒ</td><td>è¾ƒå¤æ‚çš„é—®é¢˜ã€éœ€è¦å¤šæ­¥æ¨ç†</td></tr><tr><td><code>think harder</code></td><td>æ›´æ·±åº¦æ€è€ƒ</td><td>å¤æ‚æ¶æ„è®¾è®¡ã€ç–‘éš¾Bugæ’æŸ¥</td></tr><tr><td><code>think hardest</code></td><td>æœ€æ·±åº¦æ€è€ƒ</td><td>è¶…å¤æ‚ä»»åŠ¡ã€ç³»ç»Ÿçº§è®¾è®¡</td></tr></tbody></table>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">think:</span> <span class="hljs-string">è®¾è®¡ä¸€ä¸ªé«˜å¹¶å‘çš„æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œéœ€è¦è€ƒè™‘å“ªäº›å…³é”®ç‚¹ï¼Ÿ</span>
<span class="hljs-attr">think hard:</span> <span class="hljs-string">è¿™ä¸ªAPIçš„æ€§èƒ½ç“¶é¢ˆåœ¨å“ªé‡Œï¼Ÿå¸®æˆ‘åˆ†æå¹¶ä¼˜åŒ–</span>
<span class="hljs-attr">think hardest:</span> <span class="hljs-string">ä¸ºæˆ‘ä»¬çš„å¾®æœåŠ¡æ¶æ„è®¾è®¡å®Œæ•´çš„é¢†åŸŸé©±åŠ¨æ¨¡å‹</span>
</code></pre>
<p><strong>å¯¹æ¯”è¯´æ˜ï¼š</strong></p>
<ul>
<li>æ™®é€šæ¨¡å¼ï¼šæ¨¡å‹ç›´æ¥ç»™å‡ºç­”æ¡ˆï¼Œé€Ÿåº¦å¿«</li>
<li>æ€è€ƒæ¨¡å¼ï¼šæ¨¡å‹ä¼šå…ˆåœ¨å†…éƒ¨è¿›è¡Œæ›´æ·±å…¥çš„æ¨ç†åˆ†æï¼Œç„¶åç»™å‡ºæ›´å‘¨å…¨çš„ç­”æ¡ˆ</li>
</ul>
<p>å¯¹äº MiniMax M2 çš„ Interleaved Thinking ç‰¹æ€§ï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨åœ¨æ¨ç†ã€è®¡åˆ’å’Œæ‰§è¡Œä¹‹é—´äº¤æ›¿ï¼Œå¸®ä½ æ›´å¥½åœ°å®Œæˆå¤æ‚ä»»åŠ¡ã€‚</p>
<hr/>
<h2 data-id="heading-15">äº”ã€å®æˆ˜åœºæ™¯ï¼šMiniMax M2åˆ°åº•èƒ½åšä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-16">5.1 åœºæ™¯ä¸€ï¼šæ—¥å¸¸CRUDå¼€å‘</h3>
<p>"å¸®æˆ‘å†™ä¸€ä¸ªç”¨æˆ·ç™»å½•çš„APIï¼ŒåŒ…å«æ‰‹æœºå·éªŒè¯å’ŒJWT tokenç”Ÿæˆã€‚"</p>
<p>M2çš„å“åº”ï¼š</p>
<ul>
<li>å¿«é€Ÿç”Ÿæˆç¬¦åˆæœ€ä½³å®è·µçš„ä»£ç </li>
<li>è‡ªåŠ¨å¤„ç†å‚æ•°æ ¡éªŒ</li>
<li>é™„å¸¦å•å…ƒæµ‹è¯•ç¤ºä¾‹</li>
<li>è€ƒè™‘è¾¹ç•Œæƒ…å†µï¼ˆç©ºå€¼ã€æ ¼å¼é”™è¯¯ç­‰ï¼‰</li>
</ul>
<h3 data-id="heading-17">5.2 åœºæ™¯äºŒï¼šBugä¿®å¤</h3>
<p>"è¿™ä¸ªæŠ¥é”™æ˜¯ä»€ä¹ˆæ„æ€ï¼š[ç²˜è´´æŠ¥é”™ä¿¡æ¯]"</p>
<p>M2èƒ½ï¼š</p>
<ul>
<li>å‡†ç¡®è§£è¯»æŠ¥é”™ä¿¡æ¯</li>
<li>å®šä½é—®é¢˜ä»£ç ä½ç½®</li>
<li>æä¾›ä¿®å¤æ–¹æ¡ˆ</li>
<li>è§£é‡Šä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªé”™è¯¯</li>
</ul>
<h3 data-id="heading-18">5.3 åœºæ™¯ä¸‰ï¼šä»£ç é‡æ„</h3>
<p>"è¿™æ®µä»£ç å¤ªå†—é•¿äº†ï¼Œå¸®æˆ‘ç”¨æ›´ç°ä»£çš„å†™æ³•é‡å†™ï¼Œå¹¶è§£é‡Šæ”¹åŠ¨ç‚¹ã€‚"</p>
<p>M2æ“…é•¿ï¼š</p>
<ul>
<li>è¯†åˆ«ä»£ç å¼‚å‘³ï¼ˆCode Smellï¼‰</li>
<li>æä¾›æ›´ä¼˜é›…çš„å®ç°æ–¹å¼</li>
<li>è§£é‡Šé‡æ„å‰åçš„å·®å¼‚</li>
<li>ä¿æŒåŠŸèƒ½ä¸å˜</li>
</ul>
<h3 data-id="heading-19">5.4 åœºæ™¯å››ï¼šæŠ€æœ¯è°ƒç ”</h3>
<p>"React 19çš„å¹¶å‘æ¸²æŸ“æ˜¯ä»€ä¹ˆåŸç†ï¼Ÿå’ŒVueçš„å“åº”å¼ç³»ç»Ÿç›¸æ¯”æœ‰ä»€ä¹ˆä¼˜åŠ£ï¼Ÿ"</p>
<p>M2ä¸ä»…èƒ½å›ç­”é—®é¢˜ï¼Œè¿˜èƒ½ï¼š</p>
<ul>
<li>æä¾›ä»£ç ç¤ºä¾‹</li>
<li>å¯¹æ¯”ä¼˜ç¼ºç‚¹</li>
<li>ç»™å‡ºå®é™…åº”ç”¨åœºæ™¯å»ºè®®</li>
<li>æ¨èå­¦ä¹ èµ„æº</li>
</ul>
<hr/>
<h2 data-id="heading-20">å…­ã€é¿å‘æŒ‡å—ï¼šè¿™äº›ç»†èŠ‚è¦æ³¨æ„</h2>
<h3 data-id="heading-21">6.1 å…³äºä»·æ ¼</h3>
<p>è™½ç„¶Coding Planå¾ˆä¾¿å®œï¼Œä½†è¿˜æ˜¯è¦<strong>æ³¨æ„ç”¨é‡</strong>ï¼š</p>
<ul>
<li>9.9å…ƒæ˜¯é¦–æœˆä¼˜æƒ ï¼Œåç»­ä»·æ ¼å¯èƒ½è°ƒæ•´</li>
<li>ä¼ä¸šçº§ä½¿ç”¨å»ºè®®è¯„ä¼°å®é™…æ¶ˆè€—åå†å†³å®šå¥—é¤</li>
<li>å¯ä»¥è®¾ç½®APIè°ƒç”¨é¢„ç®—å‘Šè­¦</li>
</ul>
<h3 data-id="heading-22">6.2 å…³äºæ¨¡å‹ç‰¹æ€§</h3>
<p>MiniMax M2çš„<strong>å¼ºé¡¹æ˜¯ç¼–ç¨‹å’ŒAgentä»»åŠ¡</strong>ï¼Œä½†å¦‚æœä½ éœ€è¦ï¼š</p>
<ul>
<li>æè‡´çš„åˆ›æ„å†™ä½œ â†’ å¯èƒ½æœ‰æ›´å¥½çš„é€‰æ‹©</li>
<li>è¶…é•¿æ–‡æœ¬ç†è§£ â†’ 20ä¸‡Tokenä¸Šä¸‹æ–‡å·²ç»å¾ˆå¼ºï¼Œä½†éƒ¨åˆ†åœºæ™¯ä»æœ‰é™åˆ¶</li>
<li>å®æ—¶è¯­éŸ³å¯¹è¯ â†’ è¿™æ˜¯å¦ä¸€ä¸ªäº§å“çº¿</li>
</ul>
<h3 data-id="heading-23">6.3 å…³äºå…¼å®¹æ€§</h3>
<p>MiniMax M2å…¼å®¹Anthropic APIæ ¼å¼ï¼Œè¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>âœ… Claude Code âœ… Cursor âœ… Cline âœ… OpenCode âœ… Roo Code</li>
<li>âŒ éƒ¨åˆ†éœ€è¦Claudeç‰¹å®šAPIç‰¹æ€§çš„å·¥å…·å¯èƒ½ä¸å®Œå…¨å…¼å®¹</li>
</ul>
<h3 data-id="heading-24">6.4 å…³äºBase URL</h3>
<p><strong>é‡è¦</strong>ï¼šBase URL å¿…é¡»æ˜¯ <code>https://api.minimaxi.com/anthropic</code>ï¼Œè€Œä¸æ˜¯ï¼š</p>
<ul>
<li>âŒ <code>https://api.minimaxi.com/v1</code>ï¼ˆè¿™æ˜¯OpenAIå…¼å®¹æ ¼å¼ï¼‰</li>
<li>âŒ <code>https://api.minimaxi.com</code>ï¼ˆç¼ºå°‘è·¯å¾„ï¼‰</li>
</ul>
<h3 data-id="heading-25">6.5 å…³äºRegion</h3>
<ul>
<li>å›½å†…ç”¨æˆ·æ¨èä½¿ç”¨MiniMaxå®˜æ–¹API</li>
<li>ç½‘ç»œå»¶è¿Ÿä¼šå½±å“å“åº”é€Ÿåº¦ï¼Œå»ºè®®æ ¹æ®æ‰€åœ¨åœ°é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹</li>
</ul>
<hr/>
<h2 data-id="heading-26">ä¸ƒã€æ€»ç»“ï¼šä¸ºä»€ä¹ˆè¿™æ˜¯ä¸€ä¸ªå€¼å¾—å°è¯•çš„ç»„åˆï¼Ÿ</h2>
<p>å›é¡¾ä¸€ä¸‹è¿™ç¯‡æ–‡ç« çš„æ ¸å¿ƒè§‚ç‚¹ï¼š</p>
<ol>
<li><strong>æˆæœ¬å¤§å¹…é™ä½</strong>ï¼š9.9å…ƒ/æœˆ vs $20+/æœˆï¼Œä»·æ ¼å·®äº†ä¸€ä¸ªæ•°é‡çº§</li>
<li><strong>æ€§èƒ½ä¸æ‰“æŠ˜æ‰£</strong>ï¼šå…¨çƒæ’åå‰äº”çš„ç¼–ç¨‹èƒ½åŠ›ï¼Œè¶³å¤Ÿåº”å¯¹ç»å¤§å¤šæ•°å¼€å‘åœºæ™¯</li>
<li><strong>æ¥å…¥é›¶æˆæœ¬</strong>ï¼šåªéœ€æ”¹ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¸ç”¨å­¦ä¹ æ–°å·¥å…·</li>
<li><strong>ç”Ÿæ€å…¼å®¹å¥½</strong>ï¼šæ”¯æŒä¸»æµç¼–ç¨‹å·¥å…·ï¼Œå·¥å…·é“¾å®Œå–„</li>
<li><strong>æŒç»­è¿›åŒ–ä¸­</strong>ï¼šM2.1å·²ç»æ¨å‡ºï¼Œèƒ½åŠ›è¿˜åœ¨ä¸æ–­å¢å¼º</li>
</ol>
<p>ç”¨ä¸€å¥è¯æ€»ç»“å°±æ˜¯ï¼š</p>
<blockquote>
<p><strong>"ç”¨å–å’–å•¡çš„é’±ï¼Œè·å¾—ä¸€ä¸ª7x24å°æ—¶åœ¨çº¿ã€ä»ä¸æ‘¸é±¼ã€ä»»åŠ³ä»»æ€¨çš„ç¼–ç¨‹åŠ©æ‰‹ã€‚"</strong></p>
</blockquote>
<p>å½“ç„¶ï¼Œæ²¡æœ‰å®Œç¾çš„å·¥å…·ã€‚MiniMax M2åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹å¯èƒ½ä¸å¦‚Claude Opus 4ï¼Œä½†å¯¹äº90%çš„å¼€å‘è€…æ¥è¯´ï¼Œå®ƒçš„æ€§ä»·æ¯”æ˜¯æ— å¯åŒ¹æ•Œçš„ã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªä½æˆæœ¬ã€é«˜æ•ˆç‡çš„AIç¼–ç¨‹æ­æ¡£ï¼Œä¸å¦¨ä»ä»Šå¤©å¼€å§‹ï¼Œè¯•ç€æŠŠMiniMax M2æ¥å…¥ä½ çš„å·¥ä½œæµã€‚</p>
<p><strong>ä½ ä¼šå‘ç°ï¼Œçœä¸‹æ¥çš„é’±å’Œæ—¶é—´ï¼Œæ¯”ä½ æƒ³è±¡çš„è¦å¤šå¾—å¤šã€‚</strong></p>
<hr/>
<h2 data-id="heading-27">é™„å½•ï¼šå¿«é€Ÿå‚è€ƒé“¾æ¥</h2>

























<table><thead><tr><th>èµ„æº</th><th>é“¾æ¥</th></tr></thead><tbody><tr><td>MiniMaxå¼€æ”¾å¹³å°</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.minimaxi.com" target="_blank" title="https://platform.minimaxi.com" ref="nofollow noopener noreferrer">platform.minimaxi.com</a></td></tr><tr><td>MiniMax APIæ–‡æ¡£</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.minimaxi.com%2Fdocs%2Fguides%2Fquickstart" target="_blank" title="https://platform.minimaxi.com/docs/guides/quickstart" ref="nofollow noopener noreferrer">platform.minimaxi.com/docs/guidesâ€¦</a></td></tr><tr><td>GitHubä»“åº“</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMiniMax-AI%2FMiniMax-M2" target="_blank" title="https://github.com/MiniMax-AI/MiniMax-M2" ref="nofollow noopener noreferrer">github.com/MiniMax-AI/â€¦</a></td></tr><tr><td>Claude Codeæ–‡æ¡£</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fclaude.com%2Fclaude-code" target="_blank" title="https://claude.com/claude-code" ref="nofollow noopener noreferrer">claude.com/claude-code</a></td></tr></tbody></table>
<hr/>
<p><em>æœ¬æ–‡åŸºäº2025å¹´12æœˆçš„ä¿¡æ¯æ’°å†™ï¼Œå®šä»·å’Œæ”¿ç­–å¯èƒ½éšæ—¶å˜åŒ–ï¼Œè¯·ä»¥å®˜æ–¹æœ€æ–°å…¬å‘Šä¸ºå‡†ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿˜åœ¨æ‰‹åŠ¨ç¿»è¯‘å›½é™…åŒ–è¯æ¡ï¼ŸASTè§£æ+AIç¿»è¯‘å®ç°ä¸€é”®æ›¿æ¢]]></title>    <link>https://juejin.cn/post/7588487605247836169</link>    <guid>https://juejin.cn/post/7588487605247836169</guid>    <pubDate>2025-12-28T14:26:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588487605247836169" data-draft-id="7584742635483758602" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿˜åœ¨æ‰‹åŠ¨ç¿»è¯‘å›½é™…åŒ–è¯æ¡ï¼ŸASTè§£æ+AIç¿»è¯‘å®ç°ä¸€é”®æ›¿æ¢"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-28T14:26:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º"/> <meta itemprop="url" content="https://juejin.cn/user/976022056218471"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿˜åœ¨æ‰‹åŠ¨ç¿»è¯‘å›½é™…åŒ–è¯æ¡ï¼ŸASTè§£æ+AIç¿»è¯‘å®ç°ä¸€é”®æ›¿æ¢
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/976022056218471/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T14:26:01.000Z" title="Sun Dec 28 2025 14:26:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å›½é™…åŒ–é¡¹ç›®ï¼Œç»å¸¸è¦éšè¿­ä»£å¢åŠ ç¿»è¯‘è¯æ¡ï¼Œå¦‚æœæ‰‹åŠ¨ç¿»è¯‘ï¼Œå¾ˆå®¹æ˜“é€ æˆç¿»è¯‘é‡å¤æˆ–é—æ¼ï¼Œè€Œä¸”è¯æ¡çš„æ›¿æ¢æ“ä½œä½“éªŒä¹Ÿæå·®ï¼Œè¿™ç±»æœºæ¢°æ€§å·¥ä½œå®Œå…¨å¯ä»¥äº¤ç»™AIå®Œæˆã€‚</p>
<h2 data-id="heading-0">å‰ç½®å‡†å¤‡</h2>
<p>é¦–å…ˆéœ€è¦ä¸€ä¸ªAIæœåŠ¡å™¨ï¼Œæ¨èollamaï¼Œéƒ¨ç½²ç®€å•ã€‚</p>
<p>å…¶æ¬¡éœ€è¦ä¸€ä¸ªå¯è§†åŒ–ASTç»“æ„çš„å·¥å…·ï¼Œæ¨è<a href="https://link.juejin.cn?target=https%3A%2F%2Fastexplorer.net%2F" target="_blank" title="https://astexplorer.net/" ref="nofollow noopener noreferrer">astexplorer.net/</a></p>
<h2 data-id="heading-1">AIç¿»è¯‘</h2>
<p>ç¿»è¯‘éƒ¨åˆ†æ¯”è¾ƒç®€å•ï¼Œè¿™é‡Œæ˜¯ä¼ å…¥ä¸­æ–‡è¯­è¨€åŒ…ï¼Œç„¶åè¾“å‡ºè‹±æ–‡è¯­è¨€åŒ…ã€‚åªè¦è°ƒç”¨ollamaçš„apiï¼Œä¼ å…¥å¯¹åº”çš„æ¨¡å‹å’Œpromotï¼Œçº¦å®šè¾“å‡ºç»“æ„å°±è¡Œã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">'axios'</span>);

<span class="hljs-comment">/**
 * è°ƒç”¨ Ollama  æ¨¡å‹å®ç°ä¸­è¯‘è‹±
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">chineseText</span> - è¦ç¿»è¯‘çš„ä¸­æ–‡è¯­è¨€åŒ…æ–‡æœ¬
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Promise&lt;string&gt;</span>} ç¿»è¯‘åçš„è‹±æ–‡è¯­è¨€åŒ…æ–‡æœ¬
 */</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">translateChineseToEnglish</span>(<span class="hljs-params">chineseText</span>) {
  <span class="hljs-comment">// Ollama æœ¬åœ° API åœ°å€ï¼ˆé»˜è®¤ç«¯å£ 11434ï¼‰</span>
  <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">OLLAMA_API_URL</span> = <span class="hljs-string">'http://localhost:11434/api/generate'</span>;

  <span class="hljs-comment">// æ„å»ºæç¤ºè¯</span>
  <span class="hljs-keyword">const</span> prompt = <span class="hljs-string">`
    ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ä¸­è‹±ç¿»è¯‘åŠ©æ‰‹ï¼Œè¯·ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹è¦æ±‚æ‰§è¡Œï¼š
    1. å°†ä¸­æ–‡è¯­è¨€åŒ…JSONç¿»è¯‘ä¸ºåº”ä¸ºè¯­è¨€åŒ…
    2. è¯­è¨€åŒ…ç»“æ„å¦‚ä¸‹ï¼š {"k_abc12345": "æ˜¯","k_rst12345": "ç¡®è®¤"}ï¼Œkeyä¸ºi18n keyï¼Œvalueä¸ºå¯¹åº”è¯­è¨€
    1. å”¯ä¸€è¾“å‡ºå†…å®¹ä¸ºè‹±æ–‡è¯­è¨€åŒ…JSONï¼šç¤ºä¾‹ï¼š {"k_abc12345": "yes","k_rst12345": "confirm"}, keyä¸å˜ï¼Œå€¼ä¸ºä¸­æ–‡æ–‡æœ¬çš„è‹±æ–‡ç¿»è¯‘ç»“æœï¼›
    2. ç¦æ­¢è¾“å‡ºï¼šä»»ä½•é JSON å†…å®¹ï¼ˆåŒ…æ‹¬æ€è€ƒè¿‡ç¨‹ã€è§£é‡Šã€æ¢è¡Œã€ç©ºæ ¼ã€å‰ç¼€/åç¼€ï¼‰ï¼›
    3. ç¿»è¯‘è¦æ±‚ï¼šå‡†ç¡®ã€é€šé¡ºï¼Œç¬¦åˆè‹±æ–‡è¡¨è¾¾ä¹ æƒ¯ã€‚
    éœ€è¦ç¿»è¯‘çš„ä¸­æ–‡è¯­è¨€åŒ…ï¼š<span class="hljs-subst">${chineseText}</span>
  `</span>.<span class="hljs-title function_">trim</span>();

  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// å‘é€è¯·æ±‚åˆ° Ollama API</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">post</span>(
      <span class="hljs-variable constant_">OLLAMA_API_URL</span>,
      {
        <span class="hljs-attr">model</span>: <span class="hljs-string">'qwen3:8b'</span>,
        <span class="hljs-attr">prompt</span>: prompt,
        <span class="hljs-attr">stream</span>: <span class="hljs-literal">false</span>, 
        <span class="hljs-attr">temperature</span>: <span class="hljs-number">0.1</span>, 
        <span class="hljs-attr">max_tokens</span>: <span class="hljs-number">1000</span>, 
      },
      {
        <span class="hljs-attr">headers</span>: {
          <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>,
        },
        <span class="hljs-attr">timeout</span>: <span class="hljs-number">30000</span>, <span class="hljs-comment">// è¶…æ—¶æ—¶é—´ 30 ç§’</span>
      },
    );

    <span class="hljs-comment">// è§£æå“åº”ç»“æœ</span>
    <span class="hljs-keyword">if</span> (response.<span class="hljs-property">data</span> &amp;&amp; response.<span class="hljs-property">data</span>.<span class="hljs-property">response</span>) {
      <span class="hljs-comment">// æ¸…ç†ç»“æœä¸­çš„å¤šä½™ç©ºæ ¼/æ¢è¡Œ</span>
      <span class="hljs-keyword">const</span> translatedText = response.<span class="hljs-property">data</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">trim</span>();
      <span class="hljs-keyword">return</span> translatedText;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'æ¨¡å‹è¿”å›ç»“æœæ ¼å¼å¼‚å¸¸'</span>);
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-comment">// é”™è¯¯å¤„ç†</span>
   
  }
}

<span class="hljs-comment">// ç¤ºä¾‹ä½¿ç”¨languageJson:{ k_abc12345: 'æ˜¯', k_lmn67890: 'yes' }</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">translate</span>(<span class="hljs-params">languageJson</span>) {
  <span class="hljs-comment">// è¦ç¿»è¯‘çš„ä¸­æ–‡æ–‡æœ¬</span>
  <span class="hljs-keyword">const</span> chineseText = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(languageJson);

  <span class="hljs-keyword">try</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å¾…ç¿»è¯‘çš„ä¸­æ–‡ï¼š'</span>, chineseText);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'------------------------'</span>);

    <span class="hljs-keyword">const</span> englishText = <span class="hljs-keyword">await</span> <span class="hljs-title function_">translateChineseToEnglish</span>(chineseText);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç¿»è¯‘ç»“æœ:'</span>, englishText);
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(englishText);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'ç¿»è¯‘å‡ºé”™ï¼š'</span>, error.<span class="hljs-property">message</span>);
  }
  <span class="hljs-keyword">return</span> {};
}
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = { translate };
</code></pre>
<h2 data-id="heading-2">ASTç¿»è¯‘è¯æ¡æ›¿æ¢</h2>
<h3 data-id="heading-3">i18n keyç”Ÿæˆ</h3>
<p>è¿™é‡Œé¦–å…ˆéœ€è¦è·å–åˆ°ä¸­æ–‡ï¼Œå¹¶ç”Ÿæˆi18n keyï¼Œå¯¹åŒä¸€ä¸­æ–‡ç”Ÿæˆçš„keyåº”è¯¥ä¸€æ ·ï¼Œå¯ä»¥ä½¿ç”¨md5æ‘˜è¦ç®—æ³•ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">genKey</span> = (<span class="hljs-params">zh</span>) =&gt; <span class="hljs-string">'k_'</span> + crypto.<span class="hljs-title function_">createHash</span>(<span class="hljs-string">'md5'</span>).<span class="hljs-title function_">update</span>(zh).<span class="hljs-title function_">digest</span>(<span class="hljs-string">'hex'</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">8</span>);
</code></pre>
<h3 data-id="heading-4">æ ¸å¿ƒé€»è¾‘ï¼šASTæ“ä½œ</h3>
<p>ASTæ“ä½œç›¸å¯¹ç¹çï¼Œè¿™é‡Œç”¨åˆ°çš„å·¥å…·æœ‰babelå’Œrecastï¼Œrecastèƒ½ä¿ç•™åŸæ–‡ä»¶çš„å†…å®¹æ ¼å¼ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> fg = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fast-glob'</span>);
<span class="hljs-keyword">const</span> crypto = <span class="hljs-built_in">require</span>(<span class="hljs-string">'node:crypto'</span>);
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'node:fs/promises'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'node:path'</span>);

<span class="hljs-keyword">const</span> traverse = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@babel/traverse'</span>).<span class="hljs-property">default</span>;
<span class="hljs-keyword">const</span> { <span class="hljs-attr">parse</span>: babelParse } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@babel/parser'</span>);
<span class="hljs-keyword">const</span> recast = <span class="hljs-built_in">require</span>(<span class="hljs-string">'recast'</span>);
<span class="hljs-keyword">const</span> t = <span class="hljs-built_in">require</span>(<span class="hljs-string">'@babel/types'</span>);
<span class="hljs-keyword">const</span> { translate } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./translate.cjs'</span>);
<span class="hljs-keyword">const</span> excludes = [
  <span class="hljs-regexp">/language/</span>,
   ...
];
<span class="hljs-comment">/* â”€â”€â”€â”€â”€â”€ é…ç½® â”€â”€â”€â”€â”€â”€ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">SRC_DIR</span> = path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'src'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">LOCALE_FILES</span> = [
  path.<span class="hljs-title function_">resolve</span>(<span class="hljs-variable constant_">SRC_DIR</span>, <span class="hljs-string">'è‡ªå®šä¹‰è·¯å¾„'</span>, <span class="hljs-string">'zh-CN.json'</span>),
  path.<span class="hljs-title function_">resolve</span>(<span class="hljs-variable constant_">SRC_DIR</span>, <span class="hljs-string">'è‡ªå®šä¹‰è·¯å¾„'</span>, <span class="hljs-string">'en-US.json'</span>),
  <span class="hljs-comment">// å¯ç»§ç»­æ·»åŠ æ›´å¤šè¯­ç§</span>
];
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">GLOB</span> = [<span class="hljs-string">'**/*.{js,jsx,ts,tsx}'</span>];

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CHN_RE</span> =
  <span class="hljs-regexp">/[\u3400-\u4dbf\u4e00-\u9fff\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\u3000-\u303f\uff00-\uffef]/u</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">KEY_RE</span> = <span class="hljs-regexp">/^k_[0-9a-f]{8}$/</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">I18N_IMPORT</span> = <span class="hljs-string">'@/i18n'</span>;

<span class="hljs-comment">/* â”€â”€â”€â”€â”€â”€ å·¥å…· â”€â”€â”€â”€â”€â”€ */</span>
<span class="hljs-keyword">const</span> dict = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-literal">null</span>);


<span class="hljs-keyword">const</span> <span class="hljs-title function_">buildReactCallWithAlias</span> = (<span class="hljs-params">aliasName, key</span>) =&gt; t.<span class="hljs-title function_">callExpression</span>(t.<span class="hljs-title function_">identifier</span>(aliasName), [t.<span class="hljs-title function_">stringLiteral</span>(key)]);
<span class="hljs-keyword">const</span> <span class="hljs-title function_">buildCommonCall</span> = (<span class="hljs-params">key</span>) =&gt;
  t.<span class="hljs-title function_">callExpression</span>(t.<span class="hljs-title function_">memberExpression</span>(t.<span class="hljs-title function_">identifier</span>(<span class="hljs-string">'i18n'</span>), t.<span class="hljs-title function_">identifier</span>(<span class="hljs-string">'t'</span>)), [t.<span class="hljs-title function_">stringLiteral</span>(key)]);


<span class="hljs-keyword">function</span> <span class="hljs-title function_">hasJSX</span>(<span class="hljs-params">ast</span>) {
  <span class="hljs-keyword">let</span> yes = <span class="hljs-literal">false</span>;
  <span class="hljs-title function_">traverse</span>(ast, {
    <span class="hljs-title class_">JSXElement</span>(p) {
      yes = <span class="hljs-literal">true</span>;
      p.<span class="hljs-title function_">stop</span>();
    },
    <span class="hljs-title class_">JSXFragment</span>(p) {
      yes = <span class="hljs-literal">true</span>;
      p.<span class="hljs-title function_">stop</span>();
    },
  });
  <span class="hljs-keyword">return</span> yes;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getFunctionName</span>(<span class="hljs-params">fnPath</span>) {
  <span class="hljs-keyword">const</span> n = fnPath.<span class="hljs-property">node</span>;
  <span class="hljs-keyword">if</span> (t.<span class="hljs-title function_">isFunctionDeclaration</span>(n) &amp;&amp; n.<span class="hljs-property">id</span>) <span class="hljs-keyword">return</span> n.<span class="hljs-property">id</span>.<span class="hljs-property">name</span>;
  <span class="hljs-keyword">if</span> (
    (t.<span class="hljs-title function_">isFunctionExpression</span>(n) || t.<span class="hljs-title function_">isArrowFunctionExpression</span>(n)) &amp;&amp;
    t.<span class="hljs-title function_">isVariableDeclarator</span>(fnPath.<span class="hljs-property">parent</span>) &amp;&amp;
    t.<span class="hljs-title function_">isIdentifier</span>(fnPath.<span class="hljs-property">parent</span>.<span class="hljs-property">id</span>)
  )
    <span class="hljs-keyword">return</span> fnPath.<span class="hljs-property">parent</span>.<span class="hljs-property">id</span>.<span class="hljs-property">name</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">nameLooksLikeComponentOrHook</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-keyword">if</span> (!name) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">if</span> (name.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'use'</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-regexp">/^[A-Z]/</span>.<span class="hljs-title function_">test</span>(name);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">functionHasJSX</span>(<span class="hljs-params">fnPath</span>) {
  <span class="hljs-keyword">let</span> found = <span class="hljs-literal">false</span>;
  fnPath.<span class="hljs-title function_">traverse</span>({
    <span class="hljs-title class_">JSXElement</span>(p) {
      found = <span class="hljs-literal">true</span>;
      p.<span class="hljs-title function_">stop</span>();
    },
    <span class="hljs-title class_">JSXFragment</span>(p) {
      found = <span class="hljs-literal">true</span>;
      p.<span class="hljs-title function_">stop</span>();
    },
  });
  <span class="hljs-keyword">return</span> found;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isClassLikeFunction</span>(<span class="hljs-params">fnPath</span>) {
  <span class="hljs-keyword">return</span> !!fnPath.<span class="hljs-title function_">findParent</span>(<span class="hljs-function">(<span class="hljs-params">pp</span>) =&gt;</span> pp.<span class="hljs-property">isClassBody</span> &amp;&amp; pp.<span class="hljs-title function_">isClassBody</span>());
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getHookableFunctionScope</span>(<span class="hljs-params">p</span>) {
  <span class="hljs-keyword">const</span> fn = p.<span class="hljs-title function_">getFunctionParent</span>();
  <span class="hljs-keyword">if</span> (!fn) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">if</span> (!(fn.<span class="hljs-title function_">isFunctionDeclaration</span>() || fn.<span class="hljs-title function_">isFunctionExpression</span>() || fn.<span class="hljs-title function_">isArrowFunctionExpression</span>())) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">if</span> (!fn.<span class="hljs-title function_">get</span>(<span class="hljs-string">'body'</span>).<span class="hljs-title function_">isBlockStatement</span>()) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isClassLikeFunction</span>(fn)) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">const</span> name = <span class="hljs-title function_">getFunctionName</span>(fn);
  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">nameLooksLikeComponentOrHook</span>(name) || <span class="hljs-title function_">functionHasJSX</span>(fn)) <span class="hljs-keyword">return</span> fn;
  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}


<span class="hljs-comment">/* â”€â”€â”€â”€â”€â”€ å¤„ç†å•ä¸ªæ–‡ä»¶ â”€â”€â”€â”€â”€â”€ */</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">transformFile</span>(<span class="hljs-params">absPath</span>) {
  <span class="hljs-keyword">const</span> code = <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">readFile</span>(absPath, <span class="hljs-string">'utf8'</span>);
  <span class="hljs-keyword">if</span> (!<span class="hljs-variable constant_">CHN_RE</span>.<span class="hljs-title function_">test</span>(code)) <span class="hljs-keyword">return</span>;

  <span class="hljs-keyword">let</span> ast;
  <span class="hljs-keyword">try</span> {
    ast = recast.<span class="hljs-title function_">parse</span>(code, {
      <span class="hljs-attr">parser</span>: {
        <span class="hljs-title function_">parse</span>(<span class="hljs-params">src</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">babelParse</span>(src, {
            <span class="hljs-attr">sourceType</span>: <span class="hljs-string">'unambiguous'</span>,
            <span class="hljs-attr">plugins</span>: [<span class="hljs-string">'jsx'</span>, <span class="hljs-string">'typescript'</span>, <span class="hljs-string">'decorators-legacy'</span>, <span class="hljs-string">'classProperties'</span>],
            <span class="hljs-attr">tokens</span>: <span class="hljs-literal">true</span>,
          });
        },
      },
    });
  } <span class="hljs-keyword">catch</span> (e) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'skip parse error:'</span>, path.<span class="hljs-title function_">relative</span>(process.<span class="hljs-title function_">cwd</span>(), absPath), e.<span class="hljs-property">reasonCode</span> || e.<span class="hljs-property">message</span>);
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">const</span> reactLike = <span class="hljs-title function_">hasJSX</span>(ast);
  <span class="hljs-keyword">let</span> modified = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">let</span> injectedUseTranslationSomewhere = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">let</span> usedI18nCommon = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">const</span> tAliasMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();

  <span class="hljs-comment">/* â”€â”€ å†…éƒ¨å·¥å…· â”€â”€ */</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">findExistingTAlias</span>(<span class="hljs-params">fnPath</span>) {
    <span class="hljs-keyword">let</span> alias = <span class="hljs-literal">null</span>;
    fnPath.<span class="hljs-title function_">traverse</span>({
      <span class="hljs-title class_">VariableDeclarator</span>(vp) {
        <span class="hljs-keyword">const</span> n = vp.<span class="hljs-property">node</span>;
        <span class="hljs-keyword">if</span> (!t.<span class="hljs-title function_">isObjectPattern</span>(n.<span class="hljs-property">id</span>)) <span class="hljs-keyword">return</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> pr <span class="hljs-keyword">of</span> n.<span class="hljs-property">id</span>.<span class="hljs-property">properties</span>) {
          <span class="hljs-keyword">if</span> (t.<span class="hljs-title function_">isObjectProperty</span>(pr) &amp;&amp; t.<span class="hljs-title function_">isIdentifier</span>(pr.<span class="hljs-property">key</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'t'</span> })) {
            <span class="hljs-keyword">const</span> local = pr.<span class="hljs-property">shorthand</span> ? <span class="hljs-string">'t'</span> : t.<span class="hljs-title function_">isIdentifier</span>(pr.<span class="hljs-property">value</span>) ? pr.<span class="hljs-property">value</span>.<span class="hljs-property">name</span> : <span class="hljs-literal">null</span>;
            <span class="hljs-keyword">if</span> (local &amp;&amp; t.<span class="hljs-title function_">isCallExpression</span>(n.<span class="hljs-property">init</span>) &amp;&amp; t.<span class="hljs-title function_">isIdentifier</span>(n.<span class="hljs-property">init</span>.<span class="hljs-property">callee</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'useTranslation'</span> })) {
              alias = local;
              vp.<span class="hljs-title function_">stop</span>();
            }
          }
        }
      },
    });
    <span class="hljs-keyword">return</span> alias;
  }
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">ensureTInFunction</span>(<span class="hljs-params">fnPath</span>) {
    <span class="hljs-keyword">const</span> cached = tAliasMap.<span class="hljs-title function_">get</span>(fnPath.<span class="hljs-property">node</span>);
    <span class="hljs-keyword">if</span> (cached) <span class="hljs-keyword">return</span> cached;
    <span class="hljs-keyword">const</span> existed = <span class="hljs-title function_">findExistingTAlias</span>(fnPath);
    <span class="hljs-keyword">if</span> (existed) {
      tAliasMap.<span class="hljs-title function_">set</span>(fnPath.<span class="hljs-property">node</span>, existed);
      <span class="hljs-keyword">return</span> existed;
    }
    <span class="hljs-keyword">const</span> aliasId = fnPath.<span class="hljs-property">scope</span>.<span class="hljs-title function_">hasBinding</span>(<span class="hljs-string">'t'</span>) ? fnPath.<span class="hljs-property">scope</span>.<span class="hljs-title function_">generateUidIdentifier</span>(<span class="hljs-string">'t'</span>) : t.<span class="hljs-title function_">identifier</span>(<span class="hljs-string">'t'</span>);
    <span class="hljs-keyword">const</span> decl = t.<span class="hljs-title function_">variableDeclaration</span>(<span class="hljs-string">'const'</span>, [
      t.<span class="hljs-title function_">variableDeclarator</span>(
        t.<span class="hljs-title function_">objectPattern</span>([t.<span class="hljs-title function_">objectProperty</span>(t.<span class="hljs-title function_">identifier</span>(<span class="hljs-string">'t'</span>), aliasId, <span class="hljs-literal">false</span>, aliasId.<span class="hljs-property">name</span> === <span class="hljs-string">'t'</span>)]),
        t.<span class="hljs-title function_">callExpression</span>(t.<span class="hljs-title function_">identifier</span>(<span class="hljs-string">'useTranslation'</span>), []),
      ),
    ]);
    <span class="hljs-keyword">const</span> bodyPath = fnPath.<span class="hljs-title function_">get</span>(<span class="hljs-string">'body'</span>);
    <span class="hljs-keyword">if</span> (!bodyPath.<span class="hljs-title function_">isBlockStatement</span>()) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    bodyPath.<span class="hljs-title function_">unshiftContainer</span>(<span class="hljs-string">'body'</span>, decl);
    injectedUseTranslationSomewhere = <span class="hljs-literal">true</span>;
    tAliasMap.<span class="hljs-title function_">set</span>(fnPath.<span class="hljs-property">node</span>, aliasId.<span class="hljs-property">name</span>);
    <span class="hljs-keyword">return</span> aliasId.<span class="hljs-property">name</span>;
  }
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">getTAliasForPath</span>(<span class="hljs-params">p</span>) {
    <span class="hljs-keyword">if</span> (!reactLike) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">const</span> fn = <span class="hljs-title function_">getHookableFunctionScope</span>(p);
    <span class="hljs-keyword">if</span> (!fn) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">ensureTInFunction</span>(fn);
  }

  <span class="hljs-comment">/* â”€â”€ AST éå† â”€â”€ */</span>
  <span class="hljs-title function_">traverse</span>(ast, {
    <span class="hljs-title class_">StringLiteral</span>(p) {
      <span class="hljs-keyword">const</span> raw = p.<span class="hljs-property">node</span>.<span class="hljs-property">value</span>;
      <span class="hljs-keyword">if</span> (!<span class="hljs-variable constant_">CHN_RE</span>.<span class="hljs-title function_">test</span>(raw)) <span class="hljs-keyword">return</span>;
      <span class="hljs-keyword">if</span> (<span class="hljs-variable constant_">KEY_RE</span>.<span class="hljs-title function_">test</span>(raw)) <span class="hljs-keyword">return</span>;
      <span class="hljs-keyword">if</span> (
        <span class="hljs-title function_">isImportSource</span>(p) ||
        <span class="hljs-title function_">isRequirePath</span>(p) ||
        <span class="hljs-title function_">isDynamicImportArg</span>(p) ||
        <span class="hljs-title function_">isObjectKey</span>(p) ||
        <span class="hljs-title function_">isI18nKey</span>(p) ||
        <span class="hljs-title function_">isInTypePosition</span>(p) ||
        <span class="hljs-title function_">isConsoleArg</span>(p) ||
        <span class="hljs-title function_">isThrowError</span>(p)
      )
        <span class="hljs-keyword">return</span>;

      <span class="hljs-keyword">const</span> key = <span class="hljs-title function_">genKey</span>(raw);
      <span class="hljs-keyword">if</span> (!dict[key]) dict[key] = raw;
      <span class="hljs-keyword">const</span> tAlias = <span class="hljs-title function_">getTAliasForPath</span>(p);
      <span class="hljs-keyword">const</span> inJsxAttr = p.<span class="hljs-property">parentPath</span>.<span class="hljs-title function_">isJSXAttribute</span>() &amp;&amp; p.<span class="hljs-property">parent</span>.<span class="hljs-property">value</span> === p.<span class="hljs-property">node</span>;
      <span class="hljs-keyword">const</span> call = tAlias ? <span class="hljs-title function_">buildReactCallWithAlias</span>(tAlias, key) : ((usedI18nCommon = <span class="hljs-literal">true</span>), <span class="hljs-title function_">buildCommonCall</span>(key));
      <span class="hljs-keyword">if</span> (inJsxAttr) p.<span class="hljs-title function_">replaceWith</span>(t.<span class="hljs-title function_">jsxExpressionContainer</span>(call));
      <span class="hljs-keyword">else</span> p.<span class="hljs-title function_">replaceWith</span>(call);
      p.<span class="hljs-title function_">skip</span>();
      modified = <span class="hljs-literal">true</span>;
    },

    <span class="hljs-title class_">TemplateLiteral</span>(p) {
      <span class="hljs-keyword">if</span> (p.<span class="hljs-property">node</span>.<span class="hljs-property">expressions</span>.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span>;
      <span class="hljs-keyword">const</span> cooked = p.<span class="hljs-property">node</span>.<span class="hljs-property">quasis</span>[<span class="hljs-number">0</span>].<span class="hljs-property">value</span>.<span class="hljs-property">cooked</span>;
      <span class="hljs-keyword">if</span> (!cooked || !<span class="hljs-variable constant_">CHN_RE</span>.<span class="hljs-title function_">test</span>(cooked) || <span class="hljs-variable constant_">KEY_RE</span>.<span class="hljs-title function_">test</span>(cooked)) <span class="hljs-keyword">return</span>;
      <span class="hljs-keyword">if</span> (
        <span class="hljs-title function_">isImportSource</span>(p) ||
        <span class="hljs-title function_">isRequirePath</span>(p) ||
        <span class="hljs-title function_">isDynamicImportArg</span>(p) ||
        <span class="hljs-title function_">isObjectKey</span>(p) ||
        <span class="hljs-title function_">isInTypePosition</span>(p) ||
        <span class="hljs-title function_">isConsoleArg</span>(p)
      )
        <span class="hljs-keyword">return</span>;

      <span class="hljs-keyword">const</span> key = <span class="hljs-title function_">genKey</span>(cooked);
      <span class="hljs-keyword">if</span> (!dict[key]) dict[key] = cooked;
      <span class="hljs-keyword">const</span> tAlias = <span class="hljs-title function_">getTAliasForPath</span>(p);
      p.<span class="hljs-title function_">replaceWith</span>(tAlias ? <span class="hljs-title function_">buildReactCallWithAlias</span>(tAlias, key) : ((usedI18nCommon = <span class="hljs-literal">true</span>), <span class="hljs-title function_">buildCommonCall</span>(key)));
      p.<span class="hljs-title function_">skip</span>();
      modified = <span class="hljs-literal">true</span>;
    },

    <span class="hljs-title class_">JSXText</span>(p) {
      <span class="hljs-keyword">const</span> raw = p.<span class="hljs-property">node</span>.<span class="hljs-property">value</span>;
      <span class="hljs-keyword">if</span> (!<span class="hljs-variable constant_">CHN_RE</span>.<span class="hljs-title function_">test</span>(raw)) <span class="hljs-keyword">return</span>;
      <span class="hljs-keyword">const</span> leading = (raw.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^\s+/</span>) || [<span class="hljs-string">''</span>])[<span class="hljs-number">0</span>];
      <span class="hljs-keyword">const</span> trailing = (raw.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/\s+$/</span>) || [<span class="hljs-string">''</span>])[<span class="hljs-number">0</span>];
      <span class="hljs-keyword">const</span> middle = raw.<span class="hljs-title function_">slice</span>(leading.<span class="hljs-property">length</span>, raw.<span class="hljs-property">length</span> - trailing.<span class="hljs-property">length</span>);
      <span class="hljs-keyword">if</span> (!middle || !<span class="hljs-variable constant_">CHN_RE</span>.<span class="hljs-title function_">test</span>(middle) || <span class="hljs-variable constant_">KEY_RE</span>.<span class="hljs-title function_">test</span>(middle)) <span class="hljs-keyword">return</span>;

      <span class="hljs-keyword">const</span> key = <span class="hljs-title function_">genKey</span>(middle);
      <span class="hljs-keyword">if</span> (!dict[key]) dict[key] = middle;
      <span class="hljs-keyword">const</span> tAlias = <span class="hljs-title function_">getTAliasForPath</span>(p);
      <span class="hljs-keyword">const</span> expr = tAlias ? <span class="hljs-title function_">buildReactCallWithAlias</span>(tAlias, key) : ((usedI18nCommon = <span class="hljs-literal">true</span>), <span class="hljs-title function_">buildCommonCall</span>(key));
      <span class="hljs-keyword">const</span> parts = [];
      <span class="hljs-keyword">if</span> (leading) parts.<span class="hljs-title function_">push</span>(t.<span class="hljs-title function_">jsxText</span>(leading));
      parts.<span class="hljs-title function_">push</span>(t.<span class="hljs-title function_">jsxExpressionContainer</span>(expr));
      <span class="hljs-keyword">if</span> (trailing) parts.<span class="hljs-title function_">push</span>(t.<span class="hljs-title function_">jsxText</span>(trailing));
      p.<span class="hljs-title function_">replaceWithMultiple</span>(parts);
      p.<span class="hljs-title function_">skip</span>();
      modified = <span class="hljs-literal">true</span>;
    },
  });

  <span class="hljs-comment">/* â”€â”€ è¡¥å…… import â”€â”€ */</span>
  <span class="hljs-keyword">if</span> (injectedUseTranslationSomewhere) {
    <span class="hljs-title function_">ensureUseTranslationImport</span>(ast.<span class="hljs-property">program</span>);
    modified = <span class="hljs-literal">true</span>;
  }
  <span class="hljs-keyword">if</span> (usedI18nCommon) {
    <span class="hljs-keyword">let</span> programPath = <span class="hljs-literal">null</span>;
    <span class="hljs-title function_">traverse</span>(ast, {
      <span class="hljs-title class_">Program</span>(pp) {
        programPath = pp;
        pp.<span class="hljs-title function_">stop</span>();
      },
    });
    <span class="hljs-keyword">if</span> (programPath) {
      <span class="hljs-title function_">ensureI18nImport</span>(ast.<span class="hljs-property">program</span>, programPath);
      modified = <span class="hljs-literal">true</span>;
    }
  }

  <span class="hljs-comment">/* â”€â”€ å†™å›æ–‡ä»¶ â”€â”€ */</span>
  <span class="hljs-keyword">if</span> (modified) {
    <span class="hljs-keyword">const</span> output = recast.<span class="hljs-title function_">print</span>(ast, { <span class="hljs-attr">quote</span>: <span class="hljs-string">'single'</span> }).<span class="hljs-property">code</span>;
    <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">writeFile</span>(absPath, output, <span class="hljs-string">'utf8'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âœ” transformed'</span>, path.<span class="hljs-title function_">relative</span>(process.<span class="hljs-title function_">cwd</span>(), absPath));
  }
}

<span class="hljs-comment">/* â”€â”€â”€â”€â”€â”€ åŒæ­¥ locale æ–‡ä»¶ â”€â”€â”€â”€â”€â”€ */</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">flushDict</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> keys = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(dict);
  <span class="hljs-keyword">if</span> (!keys.<span class="hljs-property">length</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âœ¨  æ²¡æœ‰æ–°çš„ç¿»è¯‘æ¡ç›®'</span>);
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">const</span> oldJsonArr = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
    <span class="hljs-variable constant_">LOCALE_FILES</span>.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">async</span> (f) =&gt; {
      <span class="hljs-keyword">const</span> text = <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">readFile</span>(f, <span class="hljs-string">'utf8'</span>);
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(text);
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(e, text);
        <span class="hljs-keyword">return</span> {};
      }
    }),
  );
  <span class="hljs-comment">//ä¸­æ–‡è¯­è¨€åŒ…</span>
  <span class="hljs-keyword">const</span> toTranslate = {};
  <span class="hljs-keyword">const</span> file = <span class="hljs-variable constant_">LOCALE_FILES</span>[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">const</span> oldJson = oldJsonArr[<span class="hljs-number">0</span>];
  <span class="hljs-keyword">const</span> merged = { ...oldJson };
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> k <span class="hljs-keyword">of</span> keys) {
    <span class="hljs-keyword">if</span> (!(k <span class="hljs-keyword">in</span> oldJson)) {
      merged[k] = dict[k];
      toTranslate[k] = dict[k];
    }
  }
  <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">mkdir</span>(path.<span class="hljs-title function_">dirname</span>(file), { <span class="hljs-attr">recursive</span>: <span class="hljs-literal">true</span> });
  <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">writeFile</span>(file, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(merged, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>) + <span class="hljs-string">'\n'</span>, <span class="hljs-string">'utf8'</span>);
  <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(toTranslate).<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">const</span> translated = <span class="hljs-keyword">await</span> <span class="hljs-title function_">translate</span>(toTranslate);
    <span class="hljs-keyword">let</span> toMerged = translated || dict;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-variable constant_">LOCALE_FILES</span>.<span class="hljs-property">length</span>; i++) {
      <span class="hljs-keyword">const</span> file = <span class="hljs-variable constant_">LOCALE_FILES</span>[i];
      <span class="hljs-keyword">const</span> oldJson = oldJsonArr[i];
      <span class="hljs-keyword">const</span> merged = { ...oldJson };
      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> k <span class="hljs-keyword">of</span> keys) <span class="hljs-keyword">if</span> (!(k <span class="hljs-keyword">in</span> oldJson)) merged[k] = toMerged[k] || dict[k];
      <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">mkdir</span>(path.<span class="hljs-title function_">dirname</span>(file), { <span class="hljs-attr">recursive</span>: <span class="hljs-literal">true</span> });
      <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">writeFile</span>(file, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(merged, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>) + <span class="hljs-string">'\n'</span>, <span class="hljs-string">'utf8'</span>);
    }
  }

  <span class="hljs-keyword">const</span> newCount = keys.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">k</span>) =&gt;</span> !(k <span class="hljs-keyword">in</span> oldJsonArr[<span class="hljs-number">0</span>])).<span class="hljs-property">length</span>;
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
    <span class="hljs-string">`âœ¨  å·²åŒæ­¥åˆ°æ‰€æœ‰ locale æ–‡ä»¶ï¼š<span class="hljs-subst">${LOCALE_FILES.map((f) =&gt; path.relative(process.cwd(), f)).join(
      <span class="hljs-string">', '</span>,
    )}</span>ï¼Œæ–°å¢ <span class="hljs-subst">${newCount}</span> æ¡`</span>,
  );
}

<span class="hljs-comment">/* â”€â”€â”€â”€â”€â”€ ä¸»å…¥å£ â”€â”€â”€â”€â”€â”€ */</span>
(<span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> cliArgs = process.<span class="hljs-property">argv</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">2</span>);
  <span class="hljs-keyword">const</span> targets = cliArgs.<span class="hljs-property">length</span> ? cliArgs : [<span class="hljs-string">'src'</span>];
  <span class="hljs-keyword">const</span> patterns = [];

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> raw <span class="hljs-keyword">of</span> targets) {

    <span class="hljs-keyword">let</span> abs = path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), raw);
    <span class="hljs-keyword">let</span> stat = <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">stat</span>(abs).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-literal">null</span>);

   
    <span class="hljs-keyword">if</span> (!stat) {
      <span class="hljs-keyword">const</span> insideSrc = path.<span class="hljs-title function_">join</span>(<span class="hljs-variable constant_">SRC_DIR</span>, raw);
      abs = insideSrc;
      stat = <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">stat</span>(abs).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-literal">null</span>);
    }


    <span class="hljs-keyword">if</span> (!stat) {
      <span class="hljs-comment">// å…ˆæ‰¾ç›®å½•</span>
      <span class="hljs-keyword">const</span> dirMatches = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fg</span>(<span class="hljs-string">`**/<span class="hljs-subst">${raw}</span>`</span>, {
        <span class="hljs-attr">cwd</span>: <span class="hljs-variable constant_">SRC_DIR</span>,
        <span class="hljs-attr">onlyDirectories</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å…³é”®æ”¹åŠ¨: åªè¿”å›ç›®å½•</span>
        <span class="hljs-attr">absolute</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">suppressErrors</span>: <span class="hljs-literal">true</span>,
      });
      <span class="hljs-keyword">if</span> (dirMatches.<span class="hljs-property">length</span>) {
        abs = dirMatches[<span class="hljs-number">0</span>];
        stat = <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">stat</span>(abs);
      } <span class="hljs-keyword">else</span> {
       
        <span class="hljs-keyword">const</span> fileMatches = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fg</span>(<span class="hljs-string">`**/<span class="hljs-subst">${raw}</span>`</span>, {
          <span class="hljs-attr">cwd</span>: <span class="hljs-variable constant_">SRC_DIR</span>,
          <span class="hljs-attr">onlyFiles</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">absolute</span>: <span class="hljs-literal">true</span>,
          <span class="hljs-attr">suppressErrors</span>: <span class="hljs-literal">true</span>,
        });
        <span class="hljs-keyword">if</span> (fileMatches.<span class="hljs-property">length</span>) {
          abs = fileMatches[<span class="hljs-number">0</span>];
          stat = <span class="hljs-keyword">await</span> fs.<span class="hljs-title function_">stat</span>(abs);
        }
      }
    }


    <span class="hljs-keyword">if</span> (!stat) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`âš ï¸  è·¯å¾„ä¸å­˜åœ¨: <span class="hljs-subst">${raw}</span>`</span>);
      <span class="hljs-keyword">continue</span>;
    }


    <span class="hljs-keyword">if</span> (stat.<span class="hljs-title function_">isFile</span>()) {
      patterns.<span class="hljs-title function_">push</span>(abs); 
      <span class="hljs-keyword">continue</span>;
    }

  
    <span class="hljs-keyword">const</span> relToSrc = path.<span class="hljs-title function_">relative</span>(<span class="hljs-variable constant_">SRC_DIR</span>, abs).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\\/g</span>, <span class="hljs-string">'/'</span>);
    <span class="hljs-keyword">const</span> prefix = relToSrc ? relToSrc : <span class="hljs-string">'.'</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> ptn <span class="hljs-keyword">of</span> <span class="hljs-variable constant_">GLOB</span>) {
      patterns.<span class="hljs-title function_">push</span>(path.<span class="hljs-property">posix</span>.<span class="hljs-title function_">join</span>(prefix, ptn));
    }
  }


  <span class="hljs-keyword">if</span> (!patterns.<span class="hljs-property">length</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'âš ï¸  æ— å¯æ‰«ææ–‡ä»¶'</span>);
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">const</span> files = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fg</span>(patterns, { <span class="hljs-attr">cwd</span>: <span class="hljs-variable constant_">SRC_DIR</span>, <span class="hljs-attr">absolute</span>: <span class="hljs-literal">true</span> });

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> f <span class="hljs-keyword">of</span> files) {
    <span class="hljs-keyword">if</span> (excludes.<span class="hljs-title function_">some</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-title function_">test</span>(f))) {
      <span class="hljs-keyword">continue</span>;
    }
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">transformFile</span>(f);
  }
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">flushDict</span>();
})().<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
  process.<span class="hljs-title function_">exit</span>(<span class="hljs-number">1</span>);
});
</code></pre>
<h3 data-id="heading-5">å¯¹i18nä¾èµ–çš„å¤„ç†</h3>
<p>å¯¹æœªå¼•å…¥i18nç›¸å…³ä¾èµ–çš„æ–‡ä»¶å¢åŠ ä¾èµ–å¼•å…¥</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ensureUseTranslationImport</span>(<span class="hljs-params">program</span>) {
  <span class="hljs-keyword">let</span> hasNamed = <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> n <span class="hljs-keyword">of</span> program.<span class="hljs-property">body</span>) {
    <span class="hljs-keyword">if</span> (t.<span class="hljs-title function_">isImportDeclaration</span>(n) &amp;&amp; n.<span class="hljs-property">source</span>.<span class="hljs-property">value</span> === <span class="hljs-string">'react-i18next'</span>) {
      <span class="hljs-keyword">if</span> (n.<span class="hljs-property">specifiers</span>.<span class="hljs-title function_">some</span>(<span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> t.<span class="hljs-title function_">isImportSpecifier</span>(s) &amp;&amp; t.<span class="hljs-title function_">isIdentifier</span>(s.<span class="hljs-property">imported</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'useTranslation'</span> })))
        hasNamed = <span class="hljs-literal">true</span>;
    }
  }
  <span class="hljs-keyword">if</span> (hasNamed) <span class="hljs-keyword">return</span>;
  program.<span class="hljs-property">body</span>.<span class="hljs-title function_">unshift</span>(
    t.importDeclaration(
      [t.importSpecifier(t.<span class="hljs-title function_">identifier</span>(<span class="hljs-string">'useTranslation'</span>), t.<span class="hljs-title function_">identifier</span>(<span class="hljs-string">'useTranslation'</span>))],
      t.<span class="hljs-title function_">stringLiteral</span>(<span class="hljs-string">'react-i18next'</span>),
    ),
  );
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ensureI18nImport</span>(<span class="hljs-params">program, programPath</span>) {
  <span class="hljs-keyword">if</span> (programPath.<span class="hljs-property">scope</span>.<span class="hljs-title function_">hasBinding</span>(<span class="hljs-string">'i18n'</span>)) <span class="hljs-keyword">return</span>;
  program.<span class="hljs-property">body</span>.<span class="hljs-title function_">unshift</span>(
    t.importDeclaration([t.importDefaultSpecifier(t.<span class="hljs-title function_">identifier</span>(<span class="hljs-string">'i18n'</span>))], t.<span class="hljs-title function_">stringLiteral</span>(<span class="hljs-variable constant_">I18N_IMPORT</span>)),
  );
}
</code></pre>
<h3 data-id="heading-6">éœ€è¦æ’é™¤çš„åœºæ™¯</h3>
<p>è¿™é‡Œæ’é™¤äº†ä¸€äº›åœºæ™¯</p>
<ul>
<li>importæˆ–requireèµ„æºä¸­çš„ä¸­æ–‡</li>
<li>ä½œä¸ºi18n keyçš„ä¸­æ–‡</li>
<li>å¯¹è±¡çš„ä¸­æ–‡key</li>
<li>tsç±»å‹ä¸­çš„ä¸­æ–‡</li>
<li>throw errorçš„ä¸­æ–‡</li>
<li>consoleçš„ä¸­æ–‡</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/* â”€â”€â”€â”€â”€â”€ è¾…åŠ©åˆ¤æ–­å‡½æ•°ï¼ˆä¸åŸè„šæœ¬ä¸€è‡´ï¼‰ â”€â”€â”€â”€â”€â”€ */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isImportSource</span>(<span class="hljs-params">p</span>) {
  <span class="hljs-keyword">return</span> (
    (p.<span class="hljs-property">parent</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'ImportDeclaration'</span> ||
      p.<span class="hljs-property">parent</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'ExportNamedDeclaration'</span> ||
      p.<span class="hljs-property">parent</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'ExportAllDeclaration'</span>) &amp;&amp;
    p.<span class="hljs-property">parent</span>.<span class="hljs-property">source</span> === p.<span class="hljs-property">node</span>
  );
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isRequirePath</span>(<span class="hljs-params">p</span>) {
  <span class="hljs-keyword">return</span> (
    p.<span class="hljs-property">parent</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'CallExpression'</span> &amp;&amp;
    p.<span class="hljs-property">parent</span>.<span class="hljs-property">callee</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'Identifier'</span> &amp;&amp;
    p.<span class="hljs-property">parent</span>.<span class="hljs-property">callee</span>.<span class="hljs-property">name</span> === <span class="hljs-string">'require'</span> &amp;&amp;
    p.<span class="hljs-property">parent</span>.<span class="hljs-property">arguments</span>[<span class="hljs-number">0</span>] === p.<span class="hljs-property">node</span>
  );
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isDynamicImportArg</span>(<span class="hljs-params">p</span>) {
  <span class="hljs-keyword">return</span> p.<span class="hljs-property">parent</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'CallExpression'</span> &amp;&amp; p.<span class="hljs-property">parent</span>.<span class="hljs-property">callee</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'Import'</span> &amp;&amp; p.<span class="hljs-property">parent</span>.<span class="hljs-property">arguments</span>[<span class="hljs-number">0</span>] === p.<span class="hljs-property">node</span>;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isI18nKey</span>(<span class="hljs-params">p</span>) {
  <span class="hljs-keyword">if</span> (p.<span class="hljs-property">parent</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'CallExpression'</span>) {
    <span class="hljs-keyword">if</span> (p.<span class="hljs-property">parent</span>.<span class="hljs-property">callee</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'MemberExpression'</span>) {
      <span class="hljs-keyword">return</span> p.<span class="hljs-property">parent</span>.<span class="hljs-property">callee</span>.<span class="hljs-property">property</span>?.<span class="hljs-property">name</span> === <span class="hljs-string">'t'</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p.<span class="hljs-property">parent</span>.<span class="hljs-property">callee</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'Identifier'</span>) {
      <span class="hljs-keyword">return</span> p.<span class="hljs-property">parent</span>.<span class="hljs-property">callee</span>.<span class="hljs-property">name</span> === <span class="hljs-string">'t'</span>;
    }
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isObjectKey</span>(<span class="hljs-params">p</span>) {
  <span class="hljs-keyword">return</span> p.<span class="hljs-property">parent</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'ObjectProperty'</span> &amp;&amp; p.<span class="hljs-property">parent</span>.<span class="hljs-property">key</span> === p.<span class="hljs-property">node</span> &amp;&amp; !p.<span class="hljs-property">parent</span>.<span class="hljs-property">computed</span>;
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isInTypePosition</span>(<span class="hljs-params">p</span>) {
  <span class="hljs-keyword">return</span> !!p.<span class="hljs-title function_">findParent</span>(
    <span class="hljs-function">(<span class="hljs-params">pp</span>) =&gt;</span> pp.<span class="hljs-title function_">isTSType</span>() || pp.<span class="hljs-property">isTSLiteralType</span>?.() || pp.<span class="hljs-property">isTSImportType</span>?.() || pp.<span class="hljs-property">isTSTypeAnnotation</span>?.(),
  );
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isThrowError</span>(<span class="hljs-params">p</span>) {
  <span class="hljs-keyword">return</span> p.<span class="hljs-property">parent</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'ThrowStatement'</span> || (p.<span class="hljs-property">parent</span>.<span class="hljs-property">type</span> === <span class="hljs-string">'NewExpression'</span> &amp;&amp; p.<span class="hljs-property">parent</span>.<span class="hljs-property">callee</span>.<span class="hljs-property">name</span> === <span class="hljs-string">'Error'</span>);
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isConsoleArg</span>(<span class="hljs-params">p</span>) {
  <span class="hljs-keyword">const</span> parent = p.<span class="hljs-property">parent</span>;
  <span class="hljs-keyword">if</span> (!parent) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">if</span> (parent.<span class="hljs-property">type</span> !== <span class="hljs-string">'CallExpression'</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">const</span> args = parent.<span class="hljs-property">arguments</span> || [];
  <span class="hljs-keyword">if</span> (args.<span class="hljs-title function_">indexOf</span>(p.<span class="hljs-property">node</span>) === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">const</span> c = parent.<span class="hljs-property">callee</span>;
  <span class="hljs-keyword">if</span> (t.<span class="hljs-title function_">isMemberExpression</span>(c) &amp;&amp; t.<span class="hljs-title function_">isIdentifier</span>(c.<span class="hljs-property">object</span>, { <span class="hljs-attr">name</span>: <span class="hljs-string">'console'</span> })) {
    <span class="hljs-keyword">const</span> prop = t.<span class="hljs-title function_">isIdentifier</span>(c.<span class="hljs-property">property</span>) ? c.<span class="hljs-property">property</span>.<span class="hljs-property">name</span> : t.<span class="hljs-title function_">isStringLiteral</span>(c.<span class="hljs-property">property</span>) ? c.<span class="hljs-property">property</span>.<span class="hljs-property">value</span> : <span class="hljs-string">''</span>;
    <span class="hljs-keyword">return</span> [<span class="hljs-string">'log'</span>, <span class="hljs-string">'error'</span>, <span class="hljs-string">'warn'</span>, <span class="hljs-string">'info'</span>, <span class="hljs-string">'debug'</span>].<span class="hljs-title function_">includes</span>(prop);
  }
  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025ï¼šAIç‚’ä½œå·…å³°ï¼Œ2026ï¼šä»·å€¼å›å½’ä¸å®ç”¨è½åœ°ä¹‹å¹´]]></title>    <link>https://juejin.cn/post/7588093282531917876</link>    <guid>https://juejin.cn/post/7588093282531917876</guid>    <pubDate>2025-12-28T14:26:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588093282531917876" data-draft-id="7588680081326784554" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025ï¼šAIç‚’ä½œå·…å³°ï¼Œ2026ï¼šä»·å€¼å›å½’ä¸å®ç”¨è½åœ°ä¹‹å¹´"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2025-12-28T14:26:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©è¡Œæ— å¿Œ"/> <meta itemprop="url" content="https://juejin.cn/user/4406498333033918"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025ï¼šAIç‚’ä½œå·…å³°ï¼Œ2026ï¼šä»·å€¼å›å½’ä¸å®ç”¨è½åœ°ä¹‹å¹´
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4406498333033918/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©è¡Œæ— å¿Œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T14:26:28.000Z" title="Sun Dec 28 2025 14:26:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40569aae7d2644579a4acfd0f8e4a8ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSp6KGM5peg5b-M:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767536788&amp;x-signature=s%2FAczVB2gFOH2qFa2lUEyGYSbgk%3D" alt="2026-ai.jpg" loading="lazy"/></p>
<p>è¿‡å»å‡ å¹´ï¼Œæˆ‘ä»¬ç›®ç¹äº†æ¼”ç¤ºä¸­å¤©èŠ±ä¹±å çš„æ‰¿è¯ºä¸å®é™…ç”Ÿäº§å¯è¡Œæ–¹æ¡ˆä¹‹é—´çš„å·®è·é€æœˆæ‹‰å¤§ã€‚åœ¨æ·±å…¥ç ”ç©¶æ–¯å¦ç¦HAIã€éº»çœç†å·¥å­¦é™¢ã€é«˜ç››ã€çº¢æ‰èµ„æœ¬ç­‰æœºæ„çš„æŠ¥å‘Šï¼Œä»¥åŠä¸€çº¿ä»ä¸šè€…çš„å¤§é‡è®¨è®ºåï¼Œä¸€ä¸ªè¶‹åŠ¿é€æ¸æ¸…æ™°ï¼š2026å¹´å°†æ˜¯â€œå®ç”¨è½åœ°å…‘ç°â€çš„æ—¶åˆ»ã€‚</p>
<p>æ ¸å¿ƒé—®é¢˜å·²ä»â€œäººå·¥æ™ºèƒ½èƒ½å¦å®ç°ï¼Ÿâ€è½¬å‘â€œæ•ˆæœå¦‚ä½•ã€æˆæœ¬å¤šå°‘ã€ä¸ºè°æœåŠ¡ï¼Ÿâ€</p>
<p>åŸºäºç¡¬æ€§æ•°æ®ã€ä¸“å®¶åˆ†æä»¥åŠè¥é”€ææ–™é²œå°‘æåŠçš„éšå¿§ï¼Œä»¥ä¸‹æ˜¯å…³äºæ˜å¹´AIé¢†åŸŸå®é™…èµ°å‘çš„ 8 ä¸ªé¢„æµ‹ã€‚</p>
<h3 data-id="heading-0">1. AIæ³¡æ²«å°†ç¼“æ…¢æ³„æ°”ï¼Œè€Œééª¤ç„¶ç ´è£‚</h3>
<p>çº¢æ‰èµ„æœ¬è¿›è¡Œè¿‡ä¸€é¡¹æ®‹é…·çš„æ ¸ç®—ï¼šAIä¼ä¸šéœ€è¦çº¦6000äº¿ç¾å…ƒçš„å¹´æ”¶å…¥æ‰èƒ½æ”¯æ’‘å½“å‰çš„åŸºç¡€è®¾æ–½æŠ•å…¥ï¼Œè€Œå®é™…äº§ä¸šæ”¶å…¥ä»…1000äº¿ç¾å…ƒå·¦å³ã€‚æŠ•å…¥äº§å‡ºä¹‹é—´å­˜åœ¨é«˜è¾¾6å€çš„è½å·®ã€‚</p>
<p>OpenAIé¢„è®¡åˆ°2025å¹´æœ«è¥æ”¶å°†è¾¾200äº¿ç¾å…ƒï¼Œä½†åŒæœŸäºæŸå¯èƒ½é«˜è¾¾120äº¿ç¾å…ƒã€‚ã€Šè´¢å¯Œã€‹æ‚å¿—æŸ¥é˜…çš„è´¢åŠ¡æ–‡ä»¶æ˜¾ç¤ºï¼Œå…¶ç›ˆåˆ©æ—¶é—´ç‚¹å¯èƒ½æ¨è¿Ÿåˆ°2029å¹´ç”šè‡³2030å¹´ã€‚</p>
<p>æ›¾ç²¾å‡†é¢„æµ‹2008å¹´é‡‘èå±æœºçš„æŠ•èµ„è€…è¿ˆå…‹å°”Â·è´ç‘ï¼Œç›®å‰æ­£åšç©ºAIé¢†åŸŸï¼ŒæŒæœ‰Palantirå’Œè‹±ä¼Ÿè¾¾çš„çœ‹è·ŒæœŸæƒã€‚ä»–çš„æ ¸å¿ƒè®ºç‚¹æ˜¯ï¼šå½“å‰ç¹è£ç”±â€œä¾›åº”ç«¯ç‹‚çƒ­â€å’Œå¯ç–‘çš„ä¼šè®¡æ“ä½œé©±åŠ¨ï¼Œå¹¶å°†è‹±ä¼Ÿè¾¾æ¯”ä½œâ€œè¿™ä¸ªæ—¶ä»£çš„æ€ç§‘â€â€”â€”åè€…åœ¨äº’è”ç½‘æ³¡æ²«ç ´è£‚åè‚¡ä»·æš´è·Œè¶…80%ã€‚</p>
<p>å³ä¾¿è¡Œä¸šå†…éƒ¨ä¹Ÿå·²æ„Ÿåˆ°ä¸å®‰ã€‚Lyfté¦–å¸­æ‰§è¡Œå®˜å¤§å«Â·ç‘èˆå¦è¨€ï¼šâ€œæˆ‘ä»¬å¿…é¡»æ¸…é†’ï¼Œå½“å‰ç¡®å®å¤„äºé‡‘èæ³¡æ²«ä¹‹ä¸­ã€‚â€</p>
<blockquote>
<p>ä½†å¾®å¦™ä¹‹å¤„åœ¨äºï¼šæ–¯å¦ç¦HAIä¸“å®¶é¢„æµ‹ï¼Œæ³¡æ²«ä¸ä¼šå‰§çƒˆç ´è£‚ï¼Œè€Œæ˜¯ä¼šâ€œåœæ­¢è†¨èƒ€â€ã€‚æƒ³è±¡ä¸€åœºç¼“æ…¢çš„é€šè´§ç´§ç¼©ï¼Œè€ŒéæƒŠäººçš„çˆ†è£‚ã€‚èµ„é‡‘å°†æ”¶ç´§ï¼Œåˆåˆ›ä¼ä¸šä¸¾æ­¥ç»´è‰°ï¼Œä½†å·¨å¤´ä»¬å¾—ä»¥å­˜æ´»ã€‚</p>
</blockquote>
<h3 data-id="heading-1">2. 95%çš„AIé¡¹ç›®å°†ç»§ç»­å¤±è´¥ï¼ˆä½†é‚£5%å°†å½»åº•æ”¹å˜æ¸¸æˆè§„åˆ™ï¼‰</h3>
<p>AIé¡¹ç›®çš„å¤±è´¥ç‡ä»¤äººéœ‡æƒŠã€‚éº»çœç†å·¥å­¦é™¢2025å¹´ç ”ç©¶æ˜¾ç¤ºï¼Œ95%çš„ä¼ä¸šæŠ¥å‘Šå…¶300-400äº¿ç¾å…ƒçš„ä¼ä¸šAIæŠ•èµ„å›æŠ¥ä¸ºé›¶ã€‚</p>
<blockquote>
<p>è¿™ä¸æ˜¯ç¬”è¯¯ã€‚<strong>95%çš„é¡¹ç›®ï¼Œé›¶å›æŠ¥</strong>ã€‚</p>
</blockquote>
<p>ç„¶è€Œå…³é”®åœ¨äºï¼šé‚£ 5% çš„æˆåŠŸè€…å®ç°äº†å·¨å¤§æ”¶ç›Šã€‚è·å¾—æ­£å‘å›æŠ¥çš„ä¼ä¸šï¼Œå¹³å‡æ¯æŠ•å…¥1ç¾å…ƒå¯è·å¾—3.70ç¾å…ƒå›æŠ¥ã€‚é¡¶å°–ä¼ä¸šæ›´æ˜¯è¾¾åˆ° <strong>1:10.30</strong>ã€‚</p>
<p>å·®è·å¹¶éæºäºæŠ€æœ¯ï¼Œè€Œåœ¨äºå®æ–½è·¯å¾„ã€‚</p>
<p>æˆåŠŸè€…æ‹¥æœ‰å…±åŒæ¨¡å¼ï¼šèšç„¦å…·ä½“ã€è¾¹ç•Œæ¸…æ™°çš„é—®é¢˜ï¼Œè€Œéè¿½æ±‚â€œä¸‡ç‰©çš†AIâ€ï¼›åœ¨é€‰æ¨¡å‹å‰ä¼˜å…ˆæŠ•å…¥æ•°æ®è´¨é‡å»ºè®¾ï¼›å¹¶å°†AIé¡¹ç›®è§†ä¸ºç»„ç»‡å˜é©ï¼Œè€Œéå•çº¯æŠ€æœ¯éƒ¨ç½²ã€‚</p>
<p>æ­£å¦‚éº»çœç†å·¥å­¦é™¢æŠ¥å‘Šæ‰€æŒ‡å‡ºçš„ï¼šâ€œç”Ÿæˆå¼AIçš„å¤±è´¥å¾€å¾€ä¸åœ¨å®éªŒå®¤ï¼Œè€Œåœ¨ä¼ä¸šè½åœ°æ—¶â€”â€”å½“å®ƒé­é‡ç›®æ ‡æ¨¡ç³Šã€æ•°æ®ä½è´¨ä¸ç»„ç»‡æƒ°æ€§ä¸‰é‡é˜»ç¢ã€‚â€</p>
<blockquote>
<p>2026å¹´çš„é¢„æµ‹æ˜¯ï¼šå¤±è´¥ç‡ä¾ç„¶é«˜ä¼ï¼Œä½†æˆåŠŸè€…çš„ç¤ºèŒƒæ•ˆåº”å°†æ— æ³•å¿½è§†ã€‚</p>
</blockquote>
<h3 data-id="heading-2">3. AIæ™ºèƒ½ä½“å°†æ— å¤„ä¸åœ¨ï¼ˆä½†å®é™…è¿œæœªè¾¾åˆ°è‡ªä¸»è¿è¡Œï¼‰</h3>
<p>Gartneré¢„æµ‹ï¼Œåˆ°2026å¹´åº•ï¼Œ40%çš„ä¼ä¸šåº”ç”¨å°†æ­è½½AIæ™ºèƒ½ä½“ï¼Œè¾ƒ2025å¹´çš„ä¸è¶³5%å¤§å¹…è·ƒå‡ã€‚æ‰€æœ‰ä¾›åº”å•†éƒ½å°†è°ˆè®ºæ™ºèƒ½ä½“ï¼Œæ¯æ¬¾äº§å“éƒ½ä¼šå®£ç§°å…·å¤‡æ­¤åŠŸèƒ½ã€‚</p>
<p>ä½†ç°å®æ˜¯ï¼š</p>
<p>METRçš„ä»»åŠ¡æ—¶é•¿åŸºå‡†æµ‹è¯•æ˜¾ç¤ºï¼Œåˆ°2026å¹´4æœˆï¼Œæ™ºèƒ½ä½“ä»…èƒ½ä»¥50%çš„å¯é æ€§å®Œæˆè€—æ—¶4å°æ—¶çš„ä»»åŠ¡ï¼ˆäººç±»åŒç­‰æ—¶é•¿å¯å®Œæˆï¼‰ã€‚è¿™è¿˜åªæ˜¯é’ˆå¯¹ç®€å•ä»»åŠ¡ï¼Œè€ŒéæŒç»­å¤šæ—¥çš„è‡ªä¸»é¡¹ç›®ã€‚</p>
<p>OpenAIè”åˆåˆ›å§‹äººå®‰å¾·çƒˆÂ·å¡å¸•è¥¿ç›´è¨€ä¸è®³ã€‚ä»–å°†å½“å‰æ™ºèƒ½ä½“çš„è¾“å‡ºç§°ä¸ºâ€œç²—ç³™çš„åŠæˆå“â€ï¼Œå¹¶è¡¨ç¤ºå®ƒä»¬â€œç›®å‰æ ¹æœ¬è¡Œä¸é€šâ€ï¼Œå› å…¶æ¨¡æ€æ”¯æŒä¸è¶³ã€ç¼ºä¹ä¸Šä¸‹æ–‡è®°å¿†ä¸”æ— æ³•æœ‰æ•ˆè§„åˆ’ã€‚</p>
<p>ä»–çš„åˆ¤æ–­æ˜¯ï¼šâ€œæ™ºèƒ½ä½“æ—¶ä»£å°†æŒç»­åå¹´ï¼Œè€Œéä¸€è¹´è€Œå°±ã€‚â€</p>
<p>Gartner åœ¨é¢„æµ‹ä¸­äº¦éšæ™¦æŒ‡å‡ºå¦ä¸€å›°å¢ƒï¼šåˆ°2027å¹´åº•ï¼Œè¶…è¿‡40%çš„æ™ºèƒ½ä½“é¡¹ç›®å°†å› æˆæœ¬è¿‡é«˜ã€ä»·å€¼ä¸æ˜æˆ–é£é™©å¤±æ§è€Œè¢«å–æ¶ˆã€‚</p>
<blockquote>
<p>2026å¹´çš„ç°å®æ˜¯ï¼šæ™ºèƒ½ä½“å°†å……æ–¥äºæ¼”ç¤ºå’Œè¥é”€ä¸­ï¼Œä½†åœ¨ç”Ÿäº§ç¯å¢ƒä¸­çœŸæ­£ç¨³å¥è¿è¡Œçš„å¯¥å¯¥æ— å‡ ã€‚ä¸“æ³¨äºç‹­çª„å·¥ä½œæµçš„ä»»åŠ¡å‹ä»£ç†ä¼šå–å¾—æˆåŠŸï¼Œè€Œæ— éœ€ç›‘ç£ã€æŒç»­å¤šæ—¥çš„è‡ªä¸»é¡¹ç›®ï¼Ÿä»æ˜¯ç§‘å¹»èŒƒç•´ã€‚</p>
</blockquote>
<h3 data-id="heading-3">4. å¼€æºå°†ç¼©å°æŠ€æœ¯å·®è·ï¼Œä½†é¢ä¸´ç”Ÿå­˜æ€§èµ„é‡‘å±æœº</h3>
<p>å¼€æºä¸é—­æºæ¨¡å‹ä¹‹é—´çš„èƒ½åŠ›å·®è·å·²æ€¥å‰§ç¼©å°ã€‚CB Insightsåˆ†ææ˜¾ç¤ºï¼Œ2024å¹´1æœˆè‡³2025å¹´2æœˆï¼ŒåŒæ–¹åœ¨Chatbot ArenaåŸºå‡†æµ‹è¯•ä¸­çš„å·®è·ä»8.04%ç¼©å°è‡³ä»…1.70%ã€‚</p>
<p>å¼€æºæ¨¡å‹ç°å·²â€œå¸¸è§„æ€§è¾¾åˆ°é—­æºæ¨¡å‹90%ç”šè‡³æ›´é«˜çš„æ€§èƒ½â€ï¼Œè€Œè¿è¥æˆæœ¬æœ€å¤šå¯é™ä½84%ã€‚</p>
<p>DeepSeekåœ¨2025å¹´åˆéœ‡æ’¼ä¸šç•Œï¼Œä»…ä»¥ä¸è¶³600ä¸‡ç¾å…ƒæˆæœ¬è®­ç»ƒå‡ºåª²ç¾OpenAI o1çš„æ¨¡å‹ï¼Œè€Œéè€—è´¹æ•°äº¿ç¾å…ƒï¼Œå…¶è®­ç»ƒæ•ˆç‡æ®ç§°æ¯”ç¾å›½ç«äº‰å¯¹æ‰‹é¢„æœŸé«˜å‡º45å€ã€‚æ­£å¦‚ä¸€ä½ç½‘å‹æ‰€è¨€ï¼šâ€œç®—åŠ›æŠ¤åŸæ²³æ­£åœ¨ç“¦è§£ã€‚â€</p>
<p><strong>ä½†é—®é¢˜åœ¨äºï¼šèµ„é‡‘ã€‚</strong></p>
<p>è‡ª2020å¹´ä»¥æ¥ï¼Œå¼€æºAIå¼€å‘è€…ç´¯è®¡èèµ„149äº¿ç¾å…ƒï¼Œè€Œé—­æºé¢†å†›ä¼ä¸šåˆ™ç­¹é›†äº†375äº¿ç¾å…ƒã€‚å°½ç®¡æˆæœ¬ç›¸è¿‘ï¼Œå¼€æºæ¨¡å¼å´éš¾ä»¥åˆ›æ”¶ã€‚</p>
<p>æˆå‰§æ€§è½¬æŠ˜æ˜¯ï¼šè¿Metaéƒ½åœ¨åŠ¨æ‘‡ã€‚å½­åšç¤¾æŠ¥é“ç§°Metaå·²è½¬å‘é—­æºæ¨¡å‹å¼€å‘ï¼Œå…¶æ–°æ¬¾â€œAvocadoâ€æ¨¡å‹é¢„è®¡2026å¹´ç¬¬ä¸€å­£åº¦é¢ä¸–ï¼Œè€ŒMetaè¶…çº§æ™ºèƒ½å®éªŒå®¤ç°ç”±é—­æºå€¡å¯¼è€…é¢†å¯¼ã€‚</p>
<blockquote>
<p>2026å¹´é¢„æµ‹ï¼šå¼€æºæ¨¡å‹èƒ½åŠ›è¶³ä»¥æ»¡è¶³å¤§å¤šæ•°ä¼ä¸šéœ€æ±‚ï¼Œä½†èµ„é‡‘å±æœºä¼šå¼•å‘è¡Œä¸šæ•´åˆï¼Œä¸»æµå‚å•†å¯èƒ½å‡å°‘çœŸæ­£å¼€æºç‰ˆæœ¬çš„å‘å¸ƒã€‚</p>
</blockquote>
<h3 data-id="heading-4">5. AIç¼–ç¨‹å·¥å…·å°†å¤„ç†20%çš„å·¥ä½œæµï¼ˆä½†å¼€å‘è€…ä¸ä¼šè¢«å–ä»£ï¼‰</h3>
<p>æ ¹æ®2025å¹´Stack Overflowå¼€å‘è€…è°ƒæŸ¥ï¼Œ65%çš„å¼€å‘è€…ç°åœ¨è‡³å°‘æ¯å‘¨ä½¿ç”¨AIç¼–ç¨‹å·¥å…·ã€‚GitHub Copilotå¹´æ”¶å…¥è¶…20äº¿ç¾å…ƒï¼ŒCursorä¼°å€¼è¾¾90äº¿ç¾å…ƒã€‚æŠ€æœ¯æ™®åŠå·²æˆç°å®ã€‚</p>
<p>ä½†æ¥çœ‹çœ‹ç”Ÿäº§åŠ›çš„çœŸå®æƒ…å†µï¼š</p>
<p>METRå¯¹ç»éªŒä¸°å¯Œçš„å¼€æºå¼€å‘è€…è¿›è¡Œéšæœºå¯¹ç…§è¯•éªŒå‘ç°ï¼šä½¿ç”¨AIçš„å¼€å‘è€…æ•ˆç‡åè€Œé™ä½äº†19%ã€‚è€Œå…³é”®çš„æ˜¯ï¼Œä»–ä»¬è‡ªè®¤ä¸ºæ•ˆç‡æå‡äº†20%ã€‚</p>
<p>è®¤çŸ¥ä¸ç°å®ä¹‹é—´å­˜åœ¨é«˜è¾¾39ä¸ªç™¾åˆ†ç‚¹çš„å·®è·ã€‚</p>
<p>Anthropicå®£ç§°Claude 4.5 Sonnetèƒ½å¤Ÿè‡ªä¸»ç¼–ç¨‹è¶…è¿‡30å°æ—¶ä¸”æ€§èƒ½ä¸æ˜¾è‘—ä¸‹é™ã€‚ä½†å¦‚VentureBeatæ‰€æŒ‡å‡ºçš„ï¼Œæœ€ç³Ÿç³•çš„ä½“éªŒæ˜¯â€œæ¥å—å……æ»¡æ¼æ´çš„å¤šæ–‡ä»¶ä»£ç æ›´æ–°ï¼Œç„¶åæµªè´¹æ—¶é—´è°ƒè¯•é‚£äº›â€˜çœ‹èµ·æ¥å¾ˆç¾â€™çš„ä»£ç ã€‚â€</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fbuilder.io%2F" target="_blank" title="https://builder.io/" ref="nofollow noopener noreferrer">Builder.io</a>çš„åˆ†ææŒ‡å‡ºï¼Œå½“å‰å·¥å…·ï¼ˆå¦‚Cursorå’ŒWindsurfï¼‰å°šæœªå®ç°çœŸæ­£çš„æ™ºèƒ½ä½“å¾ªç¯ï¼šâ€œçœŸæ­£çš„æ™ºèƒ½ä½“åº”èƒ½å°è¯•æ–¹æ¡ˆã€è¯„ä¼°æ•ˆæœã€è¿­ä»£ç›´è‡³éªŒè¯æ­£ç¡®ã€‚ç°æœ‰å·¥å…·ä»…åœç•™åœ¨ç”Ÿæˆä»£ç å±‚é¢ã€‚â€</p>
<blockquote>
<p>2026å¹´é¢„æµ‹ï¼šAIç¼–ç¨‹å·¥å…·å°†æˆä¸ºè¡Œä¸šå‡†å…¥é—¨æ§›ï¼Œä½†è¡Œä¸šåˆ†ææ˜¾ç¤ºï¼Œä»…çº¦20%çš„ç¼–ç å·¥ä½œæµå°†ç”±æ™ºèƒ½ä½“å¤„ç†ï¼Œå…¶ä½™80%ä»éœ€ç»éªŒä¸°å¯Œçš„å·¥ç¨‹å¸ˆè¿›è¡Œæ¶æ„å†³ç­–ã€è°ƒè¯•å¤æ‚é—®é¢˜ï¼Œå¹¶æ ¸æŸ¥AIæ˜¯å¦å¼•å…¥äº†å®‰å…¨éšæ‚£ã€‚</p>
</blockquote>
<h3 data-id="heading-5">6. å°å‹è¯­è¨€æ¨¡å‹å°†æˆä¸ºæ½œåŠ›é»‘é©¬</h3>
<p>å½“æ‰€æœ‰äººç—´è¿·äºGPT-6å’ŒClaude 5æ—¶ï¼ŒçœŸæ­£çš„å˜é©æˆ–è®¸æ­£åœ¨è§„æ¨¡è°±ç³»çš„å¦ä¸€ç«¯æ‚„ç„¶å‘ç”Ÿã€‚</p>
<p>ã€Šå“ˆä½›å•†ä¸šè¯„è®ºã€‹æŒ‡å‡ºï¼šâ€œâ€˜å°å‹â€™ä¸â€˜æ€§èƒ½å¼ºå¤§â€™ä¹‹é—´çš„é¸¿æ²Ÿå·²åŸºæœ¬å¼¥åˆã€‚â€</p>
<p>æ•°æ®å°è¯äº†è¶‹åŠ¿ï¼š</p>
<ul>
<li>è¶…è¿‡20äº¿å°æ™ºèƒ½æ‰‹æœºå·²è¿è¡Œæœ¬åœ°å°è¯­è¨€æ¨¡å‹</li>
<li>4ä½é‡åŒ–æ¨¡å‹ä»…éœ€4GBå†…å­˜å³å¯ä¿ç•™95%ä»¥ä¸Šæ€§èƒ½</li>
<li>75%çš„ä¼ä¸šAIéƒ¨ç½²é‡‡ç”¨æœ¬åœ°SLMå¤„ç†æ•æ„Ÿæ•°æ®</li>
<li>2025å¹´å°å‹è¯­è¨€æ¨¡å‹ä½¿AIäº§ä¸šç¢³æ’æ”¾å‡å°‘40%</li>
</ul>
<p>åƒPhi-4ï¼ˆ140äº¿å‚æ•°ï¼‰è¿™æ ·çš„æ¨¡å‹åœ¨æ•°å­¦èƒ½åŠ›ä¸Šè¶…è¶Šäº†è§„æ¨¡æ˜¯å…¶åå€çš„æ¨¡å‹ã€‚Gemma 3ä»¥128Kä¸Šä¸‹æ–‡çª—å£å®ç°å¤šæ¨¡æ€ã€‚Qwen 2.5 VL 70äº¿å‚æ•°ç‰ˆåœ¨æ–‡æ¡£ç†è§£ä»»åŠ¡ä¸Šå¯ä¸GPT-4oæŠ—è¡¡ã€‚</p>
<p>å…¶é‡è¦æ€§åœ¨äºï¼šæ•°æ®ä¸»æƒä¸æˆæœ¬æ§åˆ¶ã€‚</p>
<p>æœ¬åœ°éƒ¨ç½²æ„å‘³ç€æ•æ„Ÿæ•°æ®æ— éœ€ç¦»å¼€ä¼ä¸šã€‚å•æ¬¡æŸ¥è¯¢æ¨ç†æˆæœ¬ä»æ•°ç¾å…ƒé™è‡³ä¸è¶³ä¸€ç¾åˆ†ï¼Œå“åº”æ—¶é—´ä»ç§’çº§ç¼©è‡³æ¯«ç§’çº§ã€‚</p>
<blockquote>
<p>2026å¹´é¢„æµ‹ï¼šä¼ä¸šå°†æ—¥ç›Šé‡‡ç”¨æ··åˆæ¨¡å¼â€”â€”å¤šæ•°ä»»åŠ¡ç”±å°å‹æœ¬åœ°æ¨¡å‹å¤„ç†ï¼Œæœ€æ£˜æ‰‹éš¾é¢˜æ‰äº¤ç”±å‰æ²¿å¤§æ¨¡å‹ã€‚â€œè¶Šå¤§è¶Šå¥½â€çš„è®ºè°ƒå°†å‡ºç°è£‚ç—•ã€‚</p>
</blockquote>
<h3 data-id="heading-6">7. AIåˆåˆ›ä¼ä¸šâ€œå¤§ç­ç»â€äº‹ä»¶æ‹‰å¼€åºå¹•</h3>
<p>åšå¥½å‡†å¤‡ï¼šè¡Œä¸šåˆ†ææ˜¾ç¤ºï¼Œ99%çš„AIåˆåˆ›ä¼ä¸šå°†åœ¨2026å¹´å‰å€’é—­æˆ–è¢«å¹¶è´­ã€‚</p>
<p>ç®—æ³•å¾ˆæ®‹é…·ã€‚é‚£äº›åœ¨2021è‡³2023å¹´èèµ„çƒ­æ½®ä¸­è·å¾—èµ„é‡‘çš„å…¬å¸ï¼Œé€šå¸¸æœ‰18è‡³36ä¸ªæœˆçš„è¿è¥ç¼“å†²æœŸã€‚ç°åœ¨ï¼Œç¼“å†²æœŸå³å°†è€—å°½ã€‚</p>
<p>Insight Partnersåˆ†ææŒ‡å‡ºï¼Œ2026å¹´å°†æˆä¸ºè®¸å¤šåˆåˆ›ä¼ä¸šé¦–æ¬¡é¢ä¸´çœŸå®ç»­çº¦å‘¨æœŸçš„ä¸€å¹´ã€‚è‹¥å¢é•¿å¤§å¹…æ”¾ç¼“ï¼Œå¹´æ”¶å…¥ä»é›¶é£™å‡è‡³600-800ä¸‡ç¾å…ƒçš„å…¬å¸å¯èƒ½ä¸€å¤œä¹‹é—´ä¸§å¤±èèµ„èƒ½åŠ›ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œç§‘æŠ€å·¨å¤´æ­£ç§¯ææ”¶è´­ã€‚Alphabetä»¥320äº¿ç¾å…ƒæ”¶è´­Wizã€‚Metaä»¥çº¦140äº¿ç¾å…ƒæ”¶è´­Scale AI 49%çš„è‚¡ä»½ã€‚æ™®åæ°¸é“2026å¹´å±•æœ›æ˜¾ç¤ºï¼ŒAIä¼ä¸šçš„æ”¶è´­ä¼°å€¼è¾¾åˆ°è¥æ”¶çš„24å€ï¼Œè€Œä¼ ç»Ÿè½¯ä»¶ä¼ä¸šä»…ä¸º12å€ã€‚</p>
<p>è¶‹åŠ¿æ˜¾è€Œæ˜“è§ï¼šAIä»·å€¼æ­£åŠ é€Ÿå‘å°‘æ•°èƒ½æ‰¿æ‹…åŸºç¡€è®¾æ–½æˆæœ¬å¹¶æ¶ˆåŒ–äºæŸçš„è¡Œä¸šå·¨å¤´é›†ä¸­ã€‚</p>
<p>èƒ½å­˜æ´»ä¸‹æ¥çš„ä¼ä¸šéœ€å…·å¤‡ï¼š</p>
<ul>
<li>çœŸæ­£çš„æŠ¤åŸæ²³ï¼ˆç‹¬ç‰¹æ•°æ®ã€æ¸ é“ç½‘ç»œæˆ–ä¸“ä¸šä¸“é•¿ï¼‰</li>
<li>ç»å¾—èµ·éªŒè¯çš„ä¼ä¸šæŠ•èµ„å›æŠ¥ç‡ï¼ˆä¸ä»…æ˜¯ç‚«é…·æ¼”ç¤ºï¼‰</li>
<li>èšç„¦åŸºç¡€è®¾æ–½å±‚ï¼Œè€Œéæ‹¥æŒ¤çš„åº”ç”¨å±‚</li>
</ul>
<blockquote>
<p>2026å¹´é¢„æµ‹ï¼šAIåˆåˆ›ä¼ä¸šç”Ÿæ€å°†å¤§å¹…æ”¶ç¼©ï¼Œç»å¤§éƒ¨åˆ†ä»·å€¼åˆ›é€ æµå‘ç§‘æŠ€å·¨å¤´ã€‚å¹¸å­˜è€…å°†æ˜¯é«˜åº¦ä¸“ä¸šåŒ–æˆ–æ·±åº¦èå…¥ä¼ä¸šå·¥ä½œæµçš„å…¬å¸ã€‚</p>
</blockquote>
<h3 data-id="heading-7">8. æ¨¡å‹ä¸“ä¸šåŒ–å°†å‡»è´¥é€šç”¨å‹æ–¹æ¡ˆ</h3>
<p>è¿™ä¸€è¶‹åŠ¿å·²é…é…¿å¤šæ—¶ï¼Œåˆ°2026å¹´å°†å˜å¾—ä¸å®¹ç½®ç–‘ï¼šé’ˆå¯¹ç‰¹å®šä»»åŠ¡ï¼Œä¸“ä¸šæ¨¡å‹çš„è¡¨ç°å°†è¶…è¶Šé€šç”¨æ¨¡å‹ã€‚</p>
<p>æ­£å¦‚æŸè¡Œä¸šåˆ†ææ‰€è¨€ï¼šâ€œâ€˜ä¸€ä¸ªæ¨¡å‹åº”ä»˜æ‰€æœ‰ä»»åŠ¡â€™çš„æ—¶ä»£å³å°†ç»ˆç»“ï¼Œâ€˜å¤šä¸ªæ¨¡å‹å„å±•æ‰€é•¿â€™çš„æ—¶ä»£æ­£åœ¨å¼€å¯ã€‚â€</p>
<p>çœ‹çœ‹GPT-5çš„å®é™…æ¶æ„å°±æ˜ç™½äº†ï¼šå®ƒåŒ…å«ä¸€ä¸ªé«˜é€Ÿé«˜ååé‡æ¨¡å‹ã€ä¸€ä¸ªæ·±å±‚æ¨ç†æ¨¡å‹ï¼Œä»¥åŠä¸€ä¸ªæ ¹æ®æŸ¥è¯¢å®æ—¶è°ƒåº¦æ¨¡å‹çš„è·¯ç”±å™¨ã€‚è¿™å¹¶éå•ä¸€æ¨¡å‹ï¼Œè€Œæ˜¯ç”±ä¸“é—¨åŒ–ç»„ä»¶æ„æˆçš„ç³»ç»Ÿã€‚</p>
<p>ä¼ä¸šé¢†åŸŸæ­£åœ¨æ˜¾ç°çš„æ¨¡å¼æ˜¯ï¼š</p>
<ul>
<li>ç»è¿‡å¾®è°ƒçš„æ¨¡å‹åœ¨ç‰¹å®šé¢†åŸŸä»»åŠ¡ä¸Šçš„å‡†ç¡®ç‡æå‡äº†37%</li>
<li>æ™®åæ°¸é“é¢„æµ‹ï¼Œåˆ°2027å¹´75%çš„ä¼ä¸šAIç³»ç»Ÿå°†é›†æˆç»è¿‡å¾®è°ƒçš„LLM</li>
<li>å¤šæ¨¡å‹è·¯ç”±ï¼ˆå…ˆç”¨å»‰ä»·æ¨¡å‹ï¼Œå¿…è¦æ—¶å‡çº§ï¼‰æˆä¸ºè¡Œä¸šæ ‡å‡†</li>
</ul>
<p>ç‰¹å®šé¢†åŸŸå®ä¾‹å·²ç»å­˜åœ¨ï¼šé‡‘èé¢†åŸŸçš„BloombergGPTã€åŒ»ç–—é¢†åŸŸçš„Med-PaLMã€æ³•å¾‹é¢†åŸŸçš„ChatLAWã€‚è¿™äº›ä¸“ä¸šæ¨¡å‹åœ¨å…¶é¢†åŸŸå†…è¡¨ç°ä¼˜äºé€šç”¨æ¨¡å‹ã€‚</p>
<blockquote>
<p>2026å¹´é¢„æµ‹ï¼šä¼ä¸šä¸å†é—®â€œæˆ‘ä»¬åº”è¯¥ç”¨å“ªä¸ªæ¨¡å‹ï¼Ÿâ€ï¼Œè€Œæ˜¯å¼€å§‹é—®â€œæˆ‘ä»¬åº”è¯¥å¦‚ä½•ç¼–æ’æ¨¡å‹ç»„åˆï¼Ÿâ€å•ä¸€æ¨¡å‹æ—¶ä»£æ­£è¢«å¤šæ¨¡å‹æ—¶ä»£å–ä»£ã€‚</p>
</blockquote>
<p>å‚è€ƒï¼šmedium.com/ai-in-plain-english/10-ai-predictions-for-2026-the-year-everything-gets-real-9fea465a036e?source=home_for_you---------23-98--------------------91a3b4d8_4915_466a_9884_c82ebacaf9fb-------15-------</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¹´åº•èµ¶å·¥å¿…å¤‡ï¼šåˆ†äº«3ä¸ªå¯ä»¥ä¸€é”®ç¾åŒ–Excelè¡¨æ ¼çš„AIç¥å™¨ï¼Œæ‰“å·¥äººå¿…å¤‡ï¼ï¼ˆå»ºè®®æ”¶è—ï¼‰]]></title>    <link>https://juejin.cn/post/7588098335791661056</link>    <guid>https://juejin.cn/post/7588098335791661056</guid>    <pubDate>2025-12-28T14:29:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588098335791661056" data-draft-id="7588124225703133224" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¹´åº•èµ¶å·¥å¿…å¤‡ï¼šåˆ†äº«3ä¸ªå¯ä»¥ä¸€é”®ç¾åŒ–Excelè¡¨æ ¼çš„AIç¥å™¨ï¼Œæ‰“å·¥äººå¿…å¤‡ï¼ï¼ˆå»ºè®®æ”¶è—ï¼‰"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-28T14:29:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜Xå°é¹¿"/> <meta itemprop="url" content="https://juejin.cn/user/2928754709505608"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¹´åº•èµ¶å·¥å¿…å¤‡ï¼šåˆ†äº«3ä¸ªå¯ä»¥ä¸€é”®ç¾åŒ–Excelè¡¨æ ¼çš„AIç¥å™¨ï¼Œæ‰“å·¥äººå¿…å¤‡ï¼ï¼ˆå»ºè®®æ”¶è—ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2928754709505608/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜Xå°é¹¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T14:29:55.000Z" title="Sun Dec 28 2025 14:29:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Xå°é¹¿ã€‚åˆåˆ°äº†ä¸€å¹´è¦èµ¶å¹´ç»ˆæ±‡æŠ¥çš„æ—¶å€™ã€‚åšæ±‡æŠ¥ï¼Œå¿…ç„¶å°‘ä¸äº†è¦æ’å…¥ä¸€äº›æ•°æ®åšæ”¯æ’‘ã€‚</p>
<p>ä½†å¦‚æœå°±è¿™ä¹ˆç›´æ¥æŠŠ Excel è¡¨æ ¼ä¸­çš„æ•°æ®ï¼Œç²˜è´´åˆ° PPT ä¸­ï¼Œé‚£æ±‡æŠ¥æ•ˆæœè‚¯å®šå¤§æ‰“æŠ˜æ‰£ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52e6da7890e44b59ba9467b63e10f51b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767536995&amp;x-signature=css32ieFycdpPJIwKDBW1Xs%2Fp%2Fk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»Šå¤©åˆ†äº« 3 ä¸ªå¯ä»¥<code>ä¸€é”®ç¾åŒ– Excel è¡¨æ ¼æ•°æ®</code>çš„ AI å·¥å…·ã€‚ä¸è¯´ç¬é—´è®©ä½ çš„æ±‡æŠ¥æå‡ä¸€ä¸ªæ¡£æ¬¡ï¼Œä½†è‡³å°‘ä¸ä¼šå†è®©å®ƒæ‹–åè…¿äº†!</p>
<p>æ¯”å¦‚ä¸‹é¢è¿™äº›ï¼Œéƒ½æ˜¯å°† Excel è¡¨æ ¼çš„æ•°æ®ï¼Œç›´æ¥ç²˜è´´åˆ°è¿™äº› AI å·¥å…·ä¸­ï¼Œä¹‹åä¸€é”®ç”Ÿæˆçš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e9985d505930412e9b0d0fda0d3253b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767536995&amp;x-signature=SbH9a5YTtW9fqBFq%2FpCpTIFeV58%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å°±å¾ˆæ–¹ä¾¿ã€‚ä¸€èµ·æ¥çœ‹çœ‹å§ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€Seede AI</h2>
<p>ç¬¬ä¸€ä¸ªï¼ŒSeede AIï¼Œä¸€æ¬¾é€‚åˆæ™®é€šäººä¸Šæ‰‹çš„ AI è®¾è®¡å·¥å…·ã€‚ï¼ˆå›½å†…å¯ç”¨ï¼‰</p>
<p>ä¹Ÿæ˜¯Xå°é¹¿ä¸€ç›´åœ¨ç”¨çš„ä¸€æ¬¾ AI å·¥å…·ï¼Œå°¤å…¶æ˜¯å®ƒåœ¨æ¥å…¥äº†è°·æ­Œçš„ Gemini 3 Pro / Gemini 3 Flash ä¹‹åï¼Œå‡ºå›¾æ•ˆæœæ›´å¼ºäº†ã€‚</p>
<p>æœ€è¿‘å‘ç°å®ƒè¿˜èƒ½ä¸€é”®ä¼˜åŒ– Excel è¡¨æ ¼æ•°æ®ï¼Œå°è¯•äº†ä¸‹ï¼Œæ•ˆæœè¿˜ä¸é”™ã€‚æ­£å¥½å¹´ç»ˆäº†ï¼Œå¤§å®¶éƒ½åœ¨èµ¶å¹´ç»ˆæ±‡æŠ¥ï¼Œå¯èƒ½ç”¨å¾—ä¸Šï¼Œåˆ†äº«ç»™å¤§å®¶ã€‚</p>
<p><strong>Seede</strong> <strong>AI</strong> <strong>ç½‘å€ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fseede.ai%2F" target="_blank" title="https://seede.ai/" ref="nofollow noopener noreferrer">seede.ai/</a></p>
<p>psï¼šSeede AI ç›®å‰æ¯å¤©éƒ½æœ‰å…è´¹ä½¿ç”¨æ¬¡æ•°ã€‚ï¼ˆæ³¨å†Œæ—¶é‚€è¯·ç å¡«Â A34LNTï¼Œè¿˜å¯ä»¥é¢å¤–è·å¾—ä¸€äº›ä½¿ç”¨æ¬¡æ•°ï¼‰</p>
<p>æ‰“å¼€ Seede AI åï¼Œç±»å‹é€‰<code>ç¤¾äº¤åª’ä½“å›¾æ–‡</code>ï¼Œç„¶ååœ¨ä¸‹é¢çš„è¾“å…¥æ¡†ä¸­è¾“å…¥æç¤ºè¯ã€‚</p>
<p>æç¤ºè¯ï¼š<code>ä¼˜åŒ–æ•°æ®è¡¨ï¼Œä¿æŒåŸæœ‰æ•°æ®å‡†ç¡®å’Œå®Œæ•´ï¼š[ç²˜è´´ Excel è¡¨æ ¼çš„æ•°æ®]</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68c336cf30c04688b04c1c081d6232ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767536995&amp;x-signature=Xj2jh9w5MfTwmEy65dga0kfNLAA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™å—è™½ç„¶ç²˜è´´è¿‡æ¥æ ¼å¼ä¹±äº†ï¼Œä½†æ˜¯æ²¡æœ‰å…³ç³»ï¼Œä¸å½±å“ã€‚</p>
<p>ç„¶åæ ¹æ®ä½ çš„éœ€æ±‚ï¼Œè®¾ç½®<code>å°ºå¯¸</code>ã€<code>é…è‰²</code>ã€<code>é£æ ¼</code>ã€<code>æ¨¡å‹</code>å’Œ<code>ä¸ªæ•°</code>ï¼Œç„¶åç‚¹ç”Ÿæˆå°±å¯ä»¥äº†ã€‚</p>
<p>è¿™é‡Œæ¨¡å‹æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ Gemini 3 Proã€‚ï¼ˆç›®å‰æ¥è¯´æ•ˆæœæ˜¯æœ€å¥½çš„ï¼‰</p>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨ Seede AI ä¼˜åŒ–åçš„è¡¨æ ¼æ•°æ®ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d28a9665173e4a11bdbca58202aa45e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767536995&amp;x-signature=kxib8ZCy3ZoSVsXRIA2fWDRObPY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25d9f0dd8965488081fb0dc8dd4ba57a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767536995&amp;x-signature=GRSUAB8SfsPA%2BrUEBzloKJljfgU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ•ˆæœè¿˜æ˜¯ä¸é”™çš„ï¼Œç›´æ¥æ‹¿å»ç”¨ä¹Ÿå®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚</p>
<p>å½“ç„¶å¦‚æœå¯¹æŸäº›åœ°æ–¹ç”Ÿæˆçš„ä¸æ»¡æ„ï¼ŒSeede AI ä¹Ÿæ”¯æŒå†æ¬¡ç¼–è¾‘ï¼š</p>
<p>ç”»é¢ä¸Šæ‰€æœ‰å…ƒç´ ï¼ŒåŒ…æ‹¬<code>æ–‡å­—</code>ã€<code>æ•°æ®</code>ã€<code>å°å›¾æ ‡</code>ç­‰ç­‰ï¼Œéƒ½æ˜¯å¯ä»¥ä¿®æ”¹çš„ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯ Seede AI æ¯”è¾ƒæ–¹ä¾¿çš„ä¸€ç‚¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9724742b391b4f4cb857da7ae17c96c5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767536995&amp;x-signature=3GMq76TmL73VlEWYlB8pRqRDEGQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…³äº Seede AI çš„æ›´å¤šç”¨æ³•ï¼Œå¯ä»¥çœ‹ä¹‹å‰å†™çš„è¿™ç¯‡æ–‡ç« ï¼š</p>
<p><a href="https://juejin.cn/post/7577958825342795795" target="_blank" title="https://juejin.cn/post/7577958825342795795">è¿™æ¬¾AIå·¥å…·å¤ªæƒŠå–œäº†ï¼1åˆ†é’Ÿç”Ÿæˆç²¾ç¾é•¿å›¾ï¼Œè‡ªç”±ç¼–è¾‘åƒPPTï¼è¿˜å…è´¹å¯ç”¨ï¼ï¼ˆé™„ä¿å§†çº§æ•™ç¨‹ï¼‰</a></p>
<h2 data-id="heading-1">äºŒã€Lovart</h2>
<p>ç¬¬äºŒä¸ªï¼ŒLovartï¼Œå…¨çƒé¦–ä¸ªè®¾è®¡æ™ºèƒ½ä½“ã€‚</p>
<p><strong>Lovart ç½‘å€</strong>ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.lovart.ai%2F" target="_blank" title="https://www.lovart.ai/" ref="nofollow noopener noreferrer">www.lovart.ai/</a></p>
<p>æ‰“å¼€åï¼Œè¾“å…¥åŒæ ·çš„æç¤ºè¯ï¼Œæ¨¡å‹è¿™é‡Œæˆ‘ä»¬é€‰æ‹©<code>Nano Banana Pro</code>ï¼Œç„¶åå°±å¯ä»¥ç­‰å¾…ç”Ÿæˆäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd8488a158c5447194cef877e65d2fb5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767536995&amp;x-signature=wd6gN%2FtFOILlMKy08pbsOTeE9rc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Lovart ç¬¬ä¸€ç‰ˆç”Ÿæˆçš„è¡¨æ ¼æ ·å¼æ¯”è¾ƒç®€å•ï¼Œå¦‚æœä¸æ»¡æ„ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­åœ¨å³ä¾§å’Œ Lovart å¯¹è¯ã€‚</p>
<p>æ¯”å¦‚<code>å†ä¼˜åŒ–é«˜çº§ä¸€ç‚¹</code>ã€<code>å†å¢åŠ ä¸€äº›ç§‘æŠ€æ„Ÿ</code>ç­‰ç­‰ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b1fb1a67d22e45a3b4aec46446436211~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767536995&amp;x-signature=kQNlTouLPjfHaxVFJLNrSsyGeVs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç”Ÿæˆçš„å›¾ç‰‡ï¼Œä¹Ÿæ˜¯å¯ä»¥ç»§ç»­ç¼–è¾‘çš„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1210ace2786461da81bcd88f26f106d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767536995&amp;x-signature=c2DLD%2BDnqJtsXYe9hWchxyPvFqE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…·ä½“ç”¨æ³•ï¼Œå¯ä»¥çœ‹ä¹‹å‰å†™çš„è¿™ç¯‡æ–‡ç« ï¼š</p>
<p><a href="https://juejin.cn/post/7572749797468831753" target="_blank" title="https://juejin.cn/post/7572749797468831753">ç”¨äº†è¿™ä¸ªæ›´å‰å®³çš„På›¾AIï¼Œæˆ‘æŠŠPSå¸äº†ï¼æ–‡å­—ä¹Ÿèƒ½æ— ç—•ä¿®æ”¹ï¼1ç§’æ•‘åºŸå›¾ï¼ˆé™„ä¿å§†çº§æ•™ç¨‹ï¼‰</a></p>
<h2 data-id="heading-2">ä¸‰ã€Napkin</h2>
<p>ç¬¬ä¸‰ä¸ªï¼ŒNapkinï¼Œä¸€æ¬¾ AI é©±åŠ¨çš„æ–‡æœ¬è§†è§‰åŒ–å·¥å…·ã€‚</p>
<p><strong>Napkin ç½‘å€ï¼š</strong></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.napkin.ai%2F" target="_blank" title="https://www.napkin.ai/" ref="nofollow noopener noreferrer">www.napkin.ai/</a></p>
<p>æ‰“å¼€ Napkin åï¼Œç²˜è´´ Excel è¡¨æ ¼çš„æ•°æ®ï¼Œç„¶åç‚¹å·¦ä¾§çš„æŒ‰é’®ã€‚ï¼ˆå·¦å›¾ï¼‰</p>
<p>åœ¨åˆ†ç±»é‡Œï¼Œç‚¹è¡¨æ ¼ï¼Œä¼šçœ‹åˆ°æœ‰å„ç§è¡¨æ ¼æ ·å¼ï¼Œé€‰æ‹©åˆé€‚çš„é£æ ¼ç‚¹ç”Ÿæˆå°±å¯ä»¥äº†ã€‚ï¼ˆå³å›¾ï¼‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecdbf26d0bc74b1c97b788a60246be2e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767536995&amp;x-signature=pFgNF4Byden44hCxDDpZLl4Rpxc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¯”å¦‚ä¸‹é¢å°±æ˜¯ç”¨ Napkin ç¾åŒ–åçš„è¡¨æ ¼æ•°æ®ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9e3a93f79d9841acb65670869b9f693e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767536995&amp;x-signature=EXxJbYDM%2F44t7HPSP%2BvLK53o35I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç›¸æ¯”äº Seede AI å’Œ Lovartï¼ŒNapkin ç”Ÿæˆçš„è¡¨æ ¼æ ·å¼æ¯”è¾ƒç®€å•æœ´ç´ ï¼Œå–œæ¬¢è¿™ç§é£æ ¼çš„å¯ä»¥è¯•è¯• Napkinã€‚</p>
<p>å¦å¤–ï¼ŒNapkin ç¾åŒ–åçš„è¡¨æ ¼ï¼Œä¹Ÿæ˜¯å¯ä»¥<code>å†æ¬¡ç¼–è¾‘</code>çš„ã€‚</p>
<p>åŒ…æ‹¬æ–‡æœ¬ã€æ•°æ®ã€å°å›¾æ ‡ã€é¢œè‰²ç­‰ï¼Œéƒ½å¯ä»¥ç»§ç»­ç¼–è¾‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/440f461bd70b4fcbadb69086d3c327ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGYWOWwj-m5vw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767536995&amp;x-signature=QrszhLjmyBei2JGbcZJNO89IusY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-3">å››ã€å†™åœ¨æœ€å</h2>
<p>æœ€åæ¥æ€»ç»“ä¸€ä¸‹å§ã€‚</p>
<p>ä»¥ä¸Šä¸‰ä¸ª AI å·¥å…·éƒ½å¯ä»¥ä¸€é”®ç¾åŒ– Excel è¡¨æ ¼çš„æ•°æ®ã€‚</p>
<p>å…¶ä¸­ Seede AI å’Œ Lovart å¯ä»¥è‡ªå·±é€‰ç”Ÿå›¾æ¨¡å‹ï¼Œç”Ÿæˆçš„è¡¨æ ¼æ ·å¼æ¯”è¾ƒä¸°å¯Œã€‚</p>
<p>Napkin æ˜¯æä¾›äº†å‡ ç§å›ºå®šçš„è¡¨æ ¼æ ·å¼ä¾›æˆ‘ä»¬é€‰æ‹©ï¼Œæ ·å¼å¾ˆç®€æ´ã€‚å–œæ¬¢ç®€æ´é£çš„å¯ä»¥è€ƒè™‘ Napkinã€‚</p>
<p>ä¸‰ä¸ª AI å·¥å…·ï¼Œéƒ½æ”¯æŒå¯¹ç¾åŒ–åçš„è¡¨æ ¼ç»§ç»­ç¼–è¾‘ï¼Œæ¯”å¦‚ä¿®æ”¹æ–‡å­—ã€æ•°æ®ç­‰ï¼Œéƒ½æ˜¯å¯ä»¥çš„ã€‚</p>
<p>ä»¥ä¸Šå°±æ˜¯ä»Šå¤©çš„åˆ†äº«ï¼Œæœ‰éœ€è¦çš„å¯ä»¥å°è¯•ä¸€ä¸‹ã€‚</p>
<hr/>
<blockquote>
<p>æˆ‘æ˜¯<a href="https://juejin.cn/user/2928754709505608/posts" title="https://juejin.cn/user/2928754709505608/posts" target="_blank">ç¨‹åºå‘˜Xå°é¹¿</a>ï¼Œå‰äº’è”ç½‘å¤§å‚ç¨‹åºå‘˜ï¼Œä¹Ÿæ˜¯ä¸€å AIGC çˆ±å¥½è€…ï¼ŒæŒç»­åˆ†äº«æ›´å¤šå¥½ç”¨çš„ AI å·¥å…·ï¼Œæ¬¢è¿ä¸€èµ·äº¤æµ~</p>
</blockquote>
<p><strong>æ¨èé˜…è¯»</strong></p>
<p><a href="https://juejin.cn/post/7454501732203610131" title="https://juejin.cn/post/7454501732203610131" target="_blank">2024å¹´ç»ˆAIå·¥å…·æ±‡æ€»ï¼š9å¤§AIé¢†åŸŸï¼Œ70+ç²¾é€‰AIå·¥å…·ï¼Œå…¨éƒ½åœ¨è¿™äº†ï¼(å»ºè®®æ”¶è—)</a></p>
<p>æ›´å¤š AI å·¥å…·è§<a href="https://juejin.cn/column/7284164153576947724" title="https://juejin.cn/column/7284164153576947724" target="_blank">ã€AIå·¥å…·ã€‘</a>ä¸“æ ï¼ŒæŒç»­æ›´æ–°ä¸­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude Code Plan æ¨¡å¼å®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š]]></title>    <link>https://juejin.cn/post/7588411503120875556</link>    <guid>https://juejin.cn/post/7588411503120875556</guid>    <pubDate>2025-12-28T14:40:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588411503120875556" data-draft-id="7588191506607521798" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude Code Plan æ¨¡å¼å®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,Claude"/> <meta itemprop="datePublished" content="2025-12-28T14:40:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åœŸè±†1250"/> <meta itemprop="url" content="https://juejin.cn/user/3280598428302727"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude Code Plan æ¨¡å¼å®Œå…¨æŒ‡å—ï¼šä»å…¥é—¨åˆ°ç²¾é€š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3280598428302727/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åœŸè±†1250
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T14:40:58.000Z" title="Sun Dec 28 2025 14:40:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯<a href="https://juejin.cn/user/3280598428302727" target="_blank" title="https://juejin.cn/user/3280598428302727">åœŸè±†</a>ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fl5jMBooF6wcjavD8EYISYQ" target="_blank" title="https://mp.weixin.qq.com/s/l5jMBooF6wcjavD8EYISYQ" ref="nofollow noopener noreferrer">å…¬ä¼—å·ï¼šåœŸè±†å­¦å‰ç«¯</a></p>
<blockquote>
<p>"å…ˆè°‹è€ŒååŠ¨ï¼Œåˆ™ç™¾æˆ˜ä¸æ®†" â€”â€” è¿™ä¸ä»…æ˜¯å¤äººçš„æ™ºæ…§ï¼Œä¹Ÿæ˜¯ç°ä»£ AI ç¼–ç¨‹çš„é»„é‡‘æ³•åˆ™</p>
</blockquote>
<h2 data-id="heading-0">å¼•è¨€ï¼šä½ æ˜¯å¦é‡åˆ°è¿‡è¿™äº›å°´å°¬ç¬é—´ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼šä½ å…´å†²å†²åœ°è®© Claude Code å¸®ä½ é‡æ„ä¸€ä¸ªå¤æ‚æ¨¡å—ï¼Œç»“æœå®ƒå¼€å§‹ç–¯ç‹‚ä¿®æ”¹æ–‡ä»¶ï¼Œååˆ†é’Ÿåä½ å‘ç°ï¼š</p>
<ul>
<li>âŒ æ”¹äº†ä¸è¯¥æ”¹çš„æ–‡ä»¶</li>
<li>âŒ é—æ¼äº†å…³é”®çš„ä¾èµ–æ›´æ–°</li>
<li>âŒ ç ´åäº†ç°æœ‰çš„æµ‹è¯•ç”¨ä¾‹</li>
<li>âŒ ä½ çš„ Git diff å·²ç»ä¸€å¡Œç³Šæ¶‚</li>
</ul>
<p>æ­¤æ—¶ä½ çš„å¿ƒæƒ…å¤§æ¦‚å°±åƒï¼šğŸ˜± â†’ ğŸ˜° â†’ ğŸ˜­</p>
<p><strong>å¥½æ¶ˆæ¯æ˜¯</strong>ï¼šClaude Code çš„ Plan æ¨¡å¼ï¼ˆè®¡åˆ’æ¨¡å¼ï¼‰å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜è€Œç”Ÿçš„ï¼å®ƒå°±åƒç»™ä½ çš„ AI åŠ©æ‰‹è£…ä¸Šäº†"ä¸‰æ€è€Œåè¡Œ"çš„å¤§è„‘ã€‚</p>
<hr/>
<h2 data-id="heading-1">Why - ä¸ºä»€ä¹ˆéœ€è¦ Plan æ¨¡å¼ï¼Ÿ</h2>
<h3 data-id="heading-2">ğŸ¯ æ ¸å¿ƒç†å¿µï¼šPlanning is Prompting</h3>
<p>èµ„æ·±å·¥ç¨‹å¸ˆå’Œåˆçº§ç¨‹åºå‘˜çš„æœ€å¤§åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿä¸æ˜¯ä»£ç æŠ€å·§ï¼Œè€Œæ˜¯<strong>è§„åˆ’èƒ½åŠ›</strong>ã€‚</p>
<p>ä¼˜ç§€çš„å·¥ç¨‹å¸ˆåœ¨åŠ¨æ‰‹ä¹‹å‰ä¼šï¼š</p>
<ol>
<li><strong>å……åˆ†è°ƒç ”</strong>ç°æœ‰ä»£ç ç»“æ„</li>
<li><strong>å…¨é¢åˆ†æ</strong>å½±å“èŒƒå›´</li>
<li><strong>åˆ¶å®šæ–¹æ¡ˆ</strong>å¹¶è€ƒè™‘è¾¹ç•Œæƒ…å†µ</li>
<li><strong>è¯„ä¼°é£é™©</strong>å’Œå®æ–½æˆæœ¬</li>
</ol>
<p>Plan æ¨¡å¼å°†è¿™ä¸ªæ€ç»´è¿‡ç¨‹æ ‡å‡†åŒ–äº†â€”â€”å®ƒè®© AI ä¹Ÿéµå¾ª"è®¡åˆ’-æ‰§è¡Œ-éªŒè¯"çš„é»„é‡‘æµç¨‹ã€‚</p>
<h3 data-id="heading-3">ğŸš¨ ä¸ç”¨ Plan æ¨¡å¼çš„å¸¸è§æ‚²å‰§</h3>






























<table><thead><tr><th>åœºæ™¯</th><th>ä¸ç”¨ Plan æ¨¡å¼</th><th>ä½¿ç”¨ Plan æ¨¡å¼</th></tr></thead><tbody><tr><td><strong>å¤§è§„æ¨¡é‡æ„</strong></td><td>æ”¹äº† 20 ä¸ªæ–‡ä»¶ï¼Œå‘ç°æ–¹å‘é”™äº†</td><td>æå‰çœ‹åˆ°å®Œæ•´å½±å“èŒƒå›´ï¼ŒåŠæ—¶è°ƒæ•´</td></tr><tr><td><strong>ç–‘éš¾ Bug</strong></td><td>ä¿®å¥½ Bug Aï¼Œå¼•å…¥ Bug B</td><td>å…¨é¢åˆ†æåä¸€æ¬¡æ€§è§£å†³</td></tr><tr><td><strong>å¤æ‚éœ€æ±‚</strong></td><td>æ¥å›ä¿®æ”¹ï¼Œæµªè´¹å¤§é‡ token</td><td>ä¸€æ¬¡è§„åˆ’åˆ°ä½ï¼Œæ‰§è¡Œé«˜æ•ˆ</td></tr><tr><td><strong>å¤šæ–‡ä»¶æ”¹åŠ¨</strong></td><td>é—æ¼å…³é”®æ–‡ä»¶ï¼Œå¯¼è‡´è¿è¡Œé”™è¯¯</td><td>æ¸…å•å¼ç®¡ç†ï¼Œä¸é—æ¼ä»»ä½•æ­¥éª¤</td></tr></tbody></table>
<h3 data-id="heading-4">ğŸ’¡ Plan æ¨¡å¼çš„ä¸‰å¤§ä»·å€¼</h3>
<ol>
<li>
<p><strong>å®‰å…¨æ€§</strong> ğŸ›¡ï¸<br/>
åªè¯»æ¨¡å¼ï¼Œä¸ä¼šæ„å¤–ä¿®æ”¹ä»»ä½•æ–‡ä»¶ï¼ˆå°±åƒç»™ Claude æˆ´ä¸Šäº†"åªèƒ½åŠ¨å˜´ä¸èƒ½åŠ¨æ‰‹"çš„é­”æ³•æ‰‹é“ï¼‰</p>
</li>
<li>
<p><strong>å¯æ§æ€§</strong> ğŸ®<br/>
ä½ å¯ä»¥å®¡æŸ¥ã€ä¿®æ”¹ã€è¿­ä»£è®¡åˆ’ï¼Œç›´åˆ°æ»¡æ„å†æ‰§è¡Œ</p>
</li>
<li>
<p><strong>æ•ˆç‡æ€§</strong> âš¡<br/>
è™½ç„¶å¤šäº†ä¸€ä¸ªè§„åˆ’æ­¥éª¤ï¼Œä½†é¿å…äº†å¤§é‡è¿”å·¥ï¼Œæ•´ä½“æ•ˆç‡åè€Œæ›´é«˜</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-5">What - Plan æ¨¡å¼åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<h3 data-id="heading-6">ğŸ”‘ ä¸€å¥è¯å®šä¹‰</h3>
<p>Plan æ¨¡å¼æ˜¯ Claude Code çš„ç‰¹æ®Šæ“ä½œæ¨¡å¼ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªåªè¯»çš„ç ”ç©¶å’Œè§„åˆ’é˜¶æ®µï¼Œåœ¨åšä»»ä½•ä»£ç æ›´æ”¹ä¹‹å‰å…ˆåˆ†æå’Œè§„åˆ’ã€‚</p>
<h3 data-id="heading-7">ğŸ› ï¸ Plan æ¨¡å¼çš„å·¥ä½œæœºåˆ¶</h3>
<p>å½“ä½ æ¿€æ´» Plan æ¨¡å¼åï¼ŒClaude çš„èƒ½åŠ›ä¼šè¢«é™åˆ¶ä¸ºï¼š</p>
<p><strong>âœ… å…è®¸ä½¿ç”¨çš„å·¥å…·ï¼ˆåªè¯»å·¥å…·ï¼‰ï¼š</strong></p>
<ul>
<li><code>read</code> - æŸ¥çœ‹æ–‡ä»¶å†…å®¹</li>
<li><code>ls</code> - åˆ—å‡ºç›®å½•ç»“æ„</li>
<li><code>glob</code> - æ–‡ä»¶æ¨¡å¼æœç´¢</li>
<li><code>grep</code> - å†…å®¹æœç´¢</li>
<li><code>task</code> - åˆ›å»ºç ”ç©¶å­ä»»åŠ¡</li>
<li><code>web_fetch</code> / <code>web_search</code> - ç½‘ç»œæœç´¢</li>
</ul>
<p><strong>âŒ ç¦æ­¢ä½¿ç”¨çš„å·¥å…·ï¼ˆå†™å…¥å·¥å…·ï¼‰ï¼š</strong></p>
<ul>
<li><code>edit</code> / <code>multi_edit</code> - ç¼–è¾‘æ–‡ä»¶</li>
<li><code>write</code> - åˆ›å»ºæ–‡ä»¶</li>
<li><code>bash</code> - æ‰§è¡Œå‘½ä»¤</li>
<li>å…¶ä»–ä»»ä½•ä¼šä¿®æ”¹çŠ¶æ€çš„å·¥å…·</li>
</ul>
<h3 data-id="heading-8">ğŸ­ Plan æ¨¡å¼ vs æ™®é€šæ¨¡å¼</h3>
<pre><code class="hljs">æ™®é€šæ¨¡å¼ï¼š
ç”¨æˆ·æé—® â†’ Claude ç›´æ¥ä¿®æ”¹ä»£ç  â†’ å‡ºç°é—®é¢˜ â†’ å›æ»šé‡æ¥

Plan æ¨¡å¼ï¼š
ç”¨æˆ·æé—® â†’ Claude ç ”ç©¶åˆ†æ â†’ ç”Ÿæˆè®¡åˆ’ â†’ ç”¨æˆ·å®¡æŸ¥ 
â†’ ä¿®æ”¹è®¡åˆ’ï¼ˆå¯é€‰ï¼‰â†’ æ‰¹å‡† â†’ æ‰§è¡Œ â†’ å®Œæˆ
</code></pre>
<p>å°±åƒæ˜¯ä»"é‡è›®ç”Ÿé•¿"è¿›åŒ–åˆ°"ç²¾ç»†åŒ–ç®¡ç†"ï¼</p>
<hr/>
<h2 data-id="heading-9">How - å¦‚ä½•é«˜æ•ˆä½¿ç”¨ Plan æ¨¡å¼ï¼Ÿ</h2>
<h3 data-id="heading-10">ğŸš€ å¿«é€Ÿå…¥é—¨ï¼šä¸€åˆ†é’Ÿä¸Šæ‰‹</h3>
<h4 data-id="heading-11">Step 1: æ¿€æ´» Plan æ¨¡å¼</h4>
<p>æœ€ç®€å•çš„æ–¹å¼ï¼šæŒ‰ Shift + Tab ä¸¤æ¬¡</p>
<p>ä½ ä¼šçœ‹åˆ°ç•Œé¢åº•éƒ¨æ˜¾ç¤º <code>Plan Mode</code> æ ‡è¯†ï¼Œä»£è¡¨å·²æˆåŠŸæ¿€æ´»ã€‚</p>
<h4 data-id="heading-12">Step 2: æå‡ºä½ çš„éœ€æ±‚</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¤ºä¾‹ 1ï¼šå¤æ‚éœ€æ±‚å®ç°</span>
<span class="hljs-string">"æˆ‘è¦å®ç°ä¸€ä¸ªç”¨æˆ·èµ„æ–™åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š
- æ–°å»ºæ•°æ®åº“æ¨¡å‹
- åˆ›å»º CRUD API æ¥å£  
- å‰ç«¯å±•ç¤ºé¡µé¢
è¯·å…ˆåˆ¶å®šå®æ–½è®¡åˆ’"</span>

<span class="hljs-comment"># ç¤ºä¾‹ 2ï¼šç–‘éš¾ Bug è°ƒæŸ¥</span>
<span class="hljs-string">"ç³»ç»Ÿåœ¨é«˜å¹¶å‘ä¸‹å¶å°”å‡ºç°æ•°æ®ä¸ä¸€è‡´ï¼Œ
å¸®æˆ‘åˆ†æå¯èƒ½çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆ"</span>

<span class="hljs-comment"># ç¤ºä¾‹ 3ï¼šå¤§è§„æ¨¡é‡æ„</span>
<span class="hljs-string">"å°†ç°æœ‰çš„ REST API è¿ç§»åˆ° GraphQLï¼Œ
éœ€è¦è¯„ä¼°å½±å“èŒƒå›´å’Œè¿ç§»ç­–ç•¥"</span>
</code></pre>
<h4 data-id="heading-13">Step 3: å®¡æŸ¥å’Œè¿­ä»£è®¡åˆ’</h4>
<p>Claude ä¼šç”Ÿæˆä¸€ä¸ªè¯¦ç»†çš„è®¡åˆ’ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>ğŸ“‹ ä»»åŠ¡åˆ†è§£</li>
<li>ğŸ“ æ¶‰åŠçš„æ–‡ä»¶æ¸…å•</li>
<li>ğŸ”— ä¾èµ–å…³ç³»</li>
<li>âš ï¸ é£é™©ç‚¹å’Œæ³¨æ„äº‹é¡¹</li>
<li>ğŸ§ª æµ‹è¯•ç­–ç•¥</li>
</ul>
<p>å¦‚æœè®¡åˆ’æœ‰é—®é¢˜ï¼Œç»§ç»­å¯¹è¯ä¼˜åŒ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-string">"ç¬¬ 3 æ­¥å¯èƒ½ä¼šå½±å“ç°æœ‰çš„ç¼“å­˜é€»è¾‘ï¼Œéœ€è¦è€ƒè™‘ä¸€ä¸‹"</span>
<span class="hljs-string">"èƒ½å¦å¢åŠ å¯¹è¾¹ç•Œæƒ…å†µçš„å¤„ç†ï¼Ÿ"</span>
<span class="hljs-string">"è¿™ä¸ªæ–¹æ¡ˆçš„æ€§èƒ½å½±å“æœ‰å¤šå¤§ï¼Ÿ"</span>
</code></pre>
<h4 data-id="heading-14">Step 4: æ‰¹å‡†å¹¶æ‰§è¡Œ</h4>
<p>å½“ä½ æ»¡æ„è®¡åˆ’åï¼š</p>
<ul>
<li>ğŸ‘ <strong>æ¥å—è‡ªåŠ¨æ‰§è¡Œ</strong>ï¼šè®© Claude è‡ªåŠ¨å®Œæˆæ‰€æœ‰ä¿®æ”¹</li>
<li>âœ‹ <strong>æ¥å—æ‰‹åŠ¨æ‰§è¡Œ</strong>ï¼šä½ è‡ªå·±æŒ‰è®¡åˆ’é€æ­¥å®æ–½</li>
<li>ğŸ”„ <strong>ç»§ç»­ä¼˜åŒ–</strong>ï¼šå†è®¨è®ºå’Œæ”¹è¿›è®¡åˆ’</li>
</ul>
<h3 data-id="heading-15">ğŸ¯ é€‚ç”¨åœºæ™¯è¯¦è§£</h3>
<h4 data-id="heading-16">åœºæ™¯ 1ï¼šç–‘éš¾ Bug ä¿®å¤ ğŸ›</h4>
<p><strong>å…¸å‹ç—›ç‚¹ï¼š</strong></p>
<ul>
<li>Bug åŸå› ä¸æ˜ç¡®</li>
<li>æ¶‰åŠå¤šä¸ªæ¨¡å—</li>
<li>æ‹…å¿ƒä¿®å¤å¼•å…¥æ–°é—®é¢˜</li>
</ul>
<p><strong>Plan æ¨¡å¼æµç¨‹ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ¿€æ´» Plan æ¨¡å¼</span>
Shift + Tab Ã— 2

<span class="hljs-comment"># 2. æè¿°é—®é¢˜ï¼ˆè¶Šè¯¦ç»†è¶Šå¥½ï¼‰</span>
<span class="hljs-string">"ç”¨æˆ·åé¦ˆåœ¨ç‰¹å®šæ¡ä»¶ä¸‹ï¼ˆé«˜å¹¶å‘ + æ•°æ®åº“è¿æ¥æ± æ»¡ï¼‰
è®¢å•çŠ¶æ€æ›´æ–°å¤±è´¥ï¼Œä½†æ²¡æœ‰é”™è¯¯æ—¥å¿—ã€‚
è¯·å¸®æˆ‘ï¼š
1. åˆ†æå¯èƒ½çš„æ ¹å› 
2. å®šä½é—®é¢˜ä»£ç 
3. æå‡ºä¿®å¤æ–¹æ¡ˆ
4. è¯„ä¼°å½±å“èŒƒå›´"</span>

<span class="hljs-comment"># 3. Claude ä¼šè¿›è¡Œç³»ç»Ÿæ€§è°ƒæŸ¥</span>
- æœç´¢ç›¸å…³ä»£ç æ–‡ä»¶
- åˆ†æè°ƒç”¨é“¾è·¯
- æ£€æŸ¥é”™è¯¯å¤„ç†é€»è¾‘
- è¯„ä¼°å¹¶å‘å®‰å…¨æ€§

<span class="hljs-comment"># 4. ç”Ÿæˆè¯Šæ–­æŠ¥å‘Šå’Œä¿®å¤è®¡åˆ’</span>
åŒ…æ‹¬ï¼šæ ¹å› åˆ†æã€ä¿®å¤æ­¥éª¤ã€æµ‹è¯•ç­–ç•¥ã€å›æ»šé¢„æ¡ˆ
</code></pre>
<p><strong>ğŸ’¡ Pro Tipsï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ <code>@æ–‡ä»¶å</code> æä¾›å…³é”®æ–‡ä»¶çš„ä¸Šä¸‹æ–‡</li>
<li>é™„ä¸Šé”™è¯¯æ—¥å¿—æˆ–å¤ç°æ­¥éª¤</li>
<li>è¯¢é—®"æœ‰å“ªäº›å¯èƒ½è¢«å¿½ç•¥çš„è¾¹ç•Œæƒ…å†µï¼Ÿ"</li>
</ul>
<h4 data-id="heading-17">åœºæ™¯ 2ï¼šå¤æ‚éœ€æ±‚å®ç° ğŸ—ï¸</h4>
<p><strong>å…¸å‹ç—›ç‚¹ï¼š</strong></p>
<ul>
<li>éœ€æ±‚æ¶‰åŠå‰åç«¯å¤šä¸ªæ¨¡å—</li>
<li>ä¸ç¡®å®šæŠ€æœ¯é€‰å‹</li>
<li>æ‹…å¿ƒé—æ¼å…³é”®ç»†èŠ‚</li>
</ul>
<p><strong>Plan æ¨¡å¼æµç¨‹ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®æˆ˜æ¡ˆä¾‹ï¼šå®ç°"å¤šè¯­è¨€æ”¯æŒ"åŠŸèƒ½</span>

<span class="hljs-string">"è¯·å¸®æˆ‘è§„åˆ’å®ç°å¤šè¯­è¨€ï¼ˆi18nï¼‰æ”¯æŒï¼š
éœ€æ±‚ï¼š
- æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡
- å‰ç«¯ç•Œé¢æ–‡æœ¬å›½é™…åŒ–
- åç«¯é”™è¯¯æ¶ˆæ¯å›½é™…åŒ–  
- ç”¨æˆ·å¯åˆ‡æ¢è¯­è¨€
- é»˜è®¤è¯­è¨€æ ¹æ®æµè§ˆå™¨è®¾ç½®

çº¦æŸï¼š
- ä½¿ç”¨ç°æœ‰çš„ React + Express æŠ€æœ¯æ ˆ
- ç¿»è¯‘æ–‡ä»¶éœ€è¦æ”¯æŒçƒ­æ›´æ–°
- æ€§èƒ½å¼€é”€è¦å°"</span>

<span class="hljs-comment"># Claude ä¼šè¾“å‡ºç±»ä¼¼è¿™æ ·çš„è®¡åˆ’ï¼š</span>

<span class="hljs-comment">## å®æ–½è®¡åˆ’</span>

<span class="hljs-comment">### é˜¶æ®µ 1ï¼šæŠ€æœ¯é€‰å‹</span>
- å‰ç«¯ï¼šreact-i18next
- åç«¯ï¼ši18next + i18next-express-middleware
- ç†ç”±ï¼šç¤¾åŒºæ”¯æŒå¥½ã€æ€§èƒ½ä¼˜ç§€ã€æ”¯æŒçƒ­æ›´æ–°

<span class="hljs-comment">### é˜¶æ®µ 2ï¼šæ–‡ä»¶ç»“æ„è®¾è®¡</span>
</code></pre>
<p>locales/
â”œâ”€â”€ zh-CN/
â”‚   â”œâ”€â”€ common.json
â”‚   â””â”€â”€ errors.json
â”œâ”€â”€ en-US/
â””â”€â”€ ja-JP/</p>
<pre><code class="hljs language-markdown" lang="markdown">
<span class="hljs-section">### é˜¶æ®µ 3ï¼šå®æ–½æ­¥éª¤ï¼ˆå…± 8 ä¸ªæ­¥éª¤ï¼‰</span>
<span class="hljs-bullet">1.</span> å®‰è£…ä¾èµ–åŒ…
<span class="hljs-bullet">2.</span> é…ç½® i18nextï¼ˆå‰ç«¯ï¼‰
<span class="hljs-bullet">3.</span> é…ç½® i18nextï¼ˆåç«¯ï¼‰
...

<span class="hljs-section">### é˜¶æ®µ 4ï¼šæµ‹è¯•ç­–ç•¥</span>
<span class="hljs-bullet">-</span> å•å…ƒæµ‹è¯•ï¼šç¿»è¯‘å‡½æ•°
<span class="hljs-bullet">-</span> é›†æˆæµ‹è¯•ï¼šè¯­è¨€åˆ‡æ¢æµç¨‹
<span class="hljs-bullet">-</span> E2E æµ‹è¯•ï¼šå®Œæ•´ç”¨æˆ·åœºæ™¯

<span class="hljs-section">### é˜¶æ®µ 5ï¼šé£é™©è¯„ä¼°</span>
âš ï¸ å¯èƒ½çš„å‘ï¼š
<span class="hljs-bullet">-</span> æ—¥æœŸ/è´§å¸æ ¼å¼éœ€å•ç‹¬å¤„ç†
<span class="hljs-bullet">-</span> åŠ¨æ€å†…å®¹ç¿»è¯‘éœ€åç«¯æ”¯æŒ
<span class="hljs-bullet">-</span> SEO éœ€è€ƒè™‘å¤šè¯­è¨€ URL
</code></pre>
<p><strong>å®¡æŸ¥è®¡åˆ’åï¼Œä½ å¯èƒ½ä¼šé—®ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-string">"èƒ½å¦å¢åŠ ç¼“å­˜æœºåˆ¶æ¥æå‡æ€§èƒ½ï¼Ÿ"</span>
<span class="hljs-string">"å¦‚ä½•å¤„ç†ç¿»è¯‘æ–‡ä»¶ç¼ºå¤±çš„æƒ…å†µï¼Ÿ"</span>
<span class="hljs-string">"è¿™ä¸ªæ–¹æ¡ˆå¯¹ç°æœ‰ä»£ç çš„ä¾µå…¥æ€§å¦‚ä½•ï¼Ÿ"</span>
</code></pre>
<h4 data-id="heading-18">åœºæ™¯ 3ï¼šå¤§è§„æ¨¡é‡æ„ ğŸ”§</h4>
<p><strong>å…¸å‹ç—›ç‚¹ï¼š</strong></p>
<ul>
<li>æ”¹åŠ¨èŒƒå›´å¤§ï¼Œä¸çŸ¥ä»ä½•ä¸‹æ‰‹</li>
<li>æ‹…å¿ƒç ´åç°æœ‰åŠŸèƒ½</li>
<li>å›¢é˜Ÿåä½œéœ€è¦æ¸…æ™°çš„è®¡åˆ’</li>
</ul>
<p><strong>Plan æ¨¡å¼æ˜¯æ•‘æ˜Ÿï¼</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡æ„æ¡ˆä¾‹ï¼šä» JavaScript è¿ç§»åˆ° TypeScript</span>

<span class="hljs-string">"æˆ‘ä»¬éœ€è¦å°†æ•´ä¸ªå‰ç«¯é¡¹ç›®ä» JS è¿ç§»åˆ° TSï¼š
- çº¦ 150 ä¸ªç»„ä»¶æ–‡ä»¶
- ä½¿ç”¨ React + Redux
- éœ€è¦ä¿æŒç°æœ‰åŠŸèƒ½ 100% å¯ç”¨
- å¸Œæœ›åˆ†é˜¶æ®µè¿ç§»ï¼Œé™ä½é£é™©

è¯·ç»™å‡ºè¯¦ç»†çš„è¿ç§»è®¡åˆ’"</span>

<span class="hljs-comment"># Claude çš„è®¡åˆ’å¯èƒ½åŒ…æ‹¬ï¼š</span>

<span class="hljs-comment">## TypeScript è¿ç§»è®¡åˆ’</span>

<span class="hljs-comment">### ğŸ“Š ç°çŠ¶åˆ†æ</span>
- æ–‡ä»¶æ€»æ•°ï¼š245 ä¸ª
- JS/JSX æ–‡ä»¶ï¼š182 ä¸ª
- å¤–éƒ¨ä¾èµ–ï¼š32 ä¸ª

<span class="hljs-comment">### ğŸ¯ è¿ç§»ç­–ç•¥ï¼šæ¸è¿›å¼è¿ç§»</span>

<span class="hljs-comment">#### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€è®¾æ–½ï¼ˆ1 å‘¨ï¼‰</span>
- [ ] å®‰è£… TypeScript å’Œç±»å‹å®šä¹‰
- [ ] é…ç½® tsconfig.json
- [ ] è®¾ç½®æ„å»ºæµç¨‹
- [ ] é…ç½® ESLint/Prettier

<span class="hljs-comment">#### ç¬¬äºŒé˜¶æ®µï¼šæ ¸å¿ƒæ¨¡å—ï¼ˆ2-3 å‘¨ï¼‰</span>
- [ ] ç±»å‹å®šä¹‰æ–‡ä»¶ï¼ˆ.d.tsï¼‰
- [ ] Redux store å’Œ actions
- [ ] å·¥å…·å‡½æ•°
- [ ] æ ¸å¿ƒç»„ä»¶

<span class="hljs-comment">#### ç¬¬ä¸‰é˜¶æ®µï¼šä¸šåŠ¡æ¨¡å—ï¼ˆ4-6 å‘¨ï¼‰</span>
æŒ‰ä¾èµ–å…³ç³»åˆ†æ‰¹è¿ç§»ï¼š
- Batch 1: å·¥å…·ç±»ç»„ä»¶ï¼ˆ10 ä¸ªï¼‰
- Batch 2: å±•ç¤ºå‹ç»„ä»¶ï¼ˆ50 ä¸ªï¼‰
- Batch 3: å®¹å™¨ç»„ä»¶ï¼ˆ30 ä¸ªï¼‰
...

<span class="hljs-comment">### âš ï¸ é£é™©æ§åˆ¶</span>
1. æ¯ä¸ªé˜¶æ®µå®Œæˆåè¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
2. ä¿æŒ JS å’Œ TS å¹¶å­˜æœŸé—´çš„ç±»å‹å®‰å…¨
3. å…³é”®è·¯å¾„ç»„ä»¶ä¼˜å…ˆè¿ç§»
4. å‡†å¤‡å›æ»šæ–¹æ¡ˆ

<span class="hljs-comment">### ğŸ“ˆ æˆåŠŸæŒ‡æ ‡</span>
- [ ] æ— è¿è¡Œæ—¶ç±»å‹é”™è¯¯
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ„å»ºæ—¶é—´ &lt;5min
- [ ] ç±»å‹è¦†ç›–ç‡ &gt;90%
</code></pre>
<h3 data-id="heading-19">ğŸ¨ æœ€ä½³å®è·µæ¸…å•</h3>
<h4 data-id="heading-20">âœ… Do'sï¼ˆåº”è¯¥åšçš„ï¼‰</h4>
<ol>
<li>
<p><strong>å……åˆ†åˆ©ç”¨ä¸Šä¸‹æ–‡å¼•ç”¨</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ @ ç¬¦å·å¼•ç”¨å…³é”®æ–‡ä»¶</span>
<span class="hljs-string">"@components/UserProfile.tsx è¿™ä¸ªç»„ä»¶éœ€è¦é‡æ„"</span>
<span class="hljs-string">"@docs/ARCHITECTURE.md æŒ‰ç…§è¿™ä¸ªæ¶æ„æŒ‡å—æ¥è§„åˆ’"</span>
</code></pre>
</li>
<li>
<p><strong>è¿­ä»£ä¼˜åŒ–è®¡åˆ’</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸è¦ä¸€æ¬¡å°±æƒ³ç€å®Œç¾</span>
ç¬¬ä¸€è½®ï¼šç†è§£é—®é¢˜
ç¬¬äºŒè½®ï¼šæå‡ºåˆæ­¥æ–¹æ¡ˆ
ç¬¬ä¸‰è½®ï¼šä¼˜åŒ–ç»†èŠ‚
ç¬¬å››è½®ï¼šè€ƒè™‘è¾¹ç•Œæƒ…å†µ
</code></pre>
</li>
<li>
<p><strong>æ˜ç¡®çº¦æŸæ¡ä»¶</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®© Claude çŸ¥é“ä½ çš„é™åˆ¶</span>
<span class="hljs-string">"å¿…é¡»ä¿æŒå‘åå…¼å®¹"</span>
<span class="hljs-string">"ä¸èƒ½å¼•å…¥æ–°çš„å¤–éƒ¨ä¾èµ–"</span>
<span class="hljs-string">"æ”¹åŠ¨è¦åœ¨ 1 å¤©å†…å®Œæˆ"</span>
<span class="hljs-string">"æ€§èƒ½ä¸èƒ½ä¸‹é™è¶…è¿‡ 5%"</span>
</code></pre>
</li>
<li>
<p><strong>ä¿å­˜é‡è¦çš„è®¡åˆ’</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¤æ‚è®¡åˆ’åº”è¯¥æŒä¹…åŒ–</span>
<span class="hljs-string">"è¯·å°†è¿™ä¸ªè®¡åˆ’ä¿å­˜åˆ° docs/REFACTOR_PLAN.md"</span>

<span class="hljs-comment"># æˆ–è€…æ‰‹åŠ¨å¤åˆ¶åˆ°é¡¹ç›®æ–‡æ¡£</span>
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨è‡ªå®šä¹‰å‘½ä»¤</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»º .claude/plan.md å®šä¹‰è®¡åˆ’æ¨¡æ¿</span>
<span class="hljs-comment"># ç„¶åç”¨ /plan å¿«é€Ÿè°ƒç”¨</span>
</code></pre>
</li>
</ol>
<h4 data-id="heading-21">âŒ Don'tsï¼ˆä¸åº”è¯¥åšçš„ï¼‰</h4>
<ol>
<li>
<p><strong>ç®€å•ä»»åŠ¡ç”¨ Plan æ¨¡å¼</strong> ğŸ˜…</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é”™è¯¯ç¤ºèŒƒ</span>
<span class="hljs-string">"å¸®æˆ‘ä¿®æ”¹ä¸€ä¸ªå˜é‡å"</span> â†’ Plan æ¨¡å¼ âŒ

<span class="hljs-comment"># æ­£ç¡®åšæ³•</span>
å°æ”¹åŠ¨ç›´æ¥è®© Claude æ‰§è¡Œå°±è¡Œï¼
</code></pre>
</li>
<li>
<p><strong>ä¸å®¡æŸ¥å°±æ‰¹å‡†</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿™å¾ˆå±é™©ï¼âš ï¸</span>
çœ‹åˆ°è®¡åˆ’ â†’ ç«‹å³æ‰¹å‡† â†’ å‡ºé—®é¢˜åæ‚”

<span class="hljs-comment"># åº”è¯¥</span>
ä»”ç»†æ£€æŸ¥æ¯ä¸€æ­¥ â†’ æé—®è´¨ç–‘ â†’ ç¡®è®¤æ— è¯¯å†æ‰¹å‡†
</code></pre>
</li>
<li>
<p><strong>æœŸæœ›å®Œç¾çš„ç¬¬ä¸€ç‰ˆè®¡åˆ’</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸ç°å®çš„æœŸå¾…</span>
<span class="hljs-string">"ä¸€æ¬¡å°±ç»™æˆ‘æœ€å®Œç¾çš„æ–¹æ¡ˆ"</span> âŒ

<span class="hljs-comment"># å¥åº·çš„å¿ƒæ€</span>
<span class="hljs-string">"å…ˆç»™ä¸ªåˆç‰ˆï¼Œæˆ‘ä»¬æ…¢æ…¢ä¼˜åŒ–"</span> âœ…
</code></pre>
</li>
<li>
<p><strong>å¿˜è®°è€ƒè™‘è¾¹ç•Œæƒ…å†µ</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®°å¾—è¿½é—®</span>
<span class="hljs-string">"å¦‚æœæ•°æ®ä¸ºç©ºæ€ä¹ˆåŠï¼Ÿ"</span>
<span class="hljs-string">"å¹¶å‘æƒ…å†µä¸‹ä¼šæœ‰é—®é¢˜å—ï¼Ÿ"</span>
<span class="hljs-string">"å¼‚å¸¸æƒ…å†µå¦‚ä½•å¤„ç†ï¼Ÿ"</span>
</code></pre>
</li>
<li>
<p><strong>ä¸ä½¿ç”¨é¡¹ç›®æ–‡æ¡£</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æµªè´¹æœºä¼š</span>
è®© Claude ç›²ç›®è§„åˆ’ âŒ

<span class="hljs-comment"># èªæ˜åšæ³•</span>
<span class="hljs-string">"å…ˆè¿è¡Œ /init ç”Ÿæˆ CLAUDE.md"</span>
<span class="hljs-string">"å‚è€ƒ @docs/ARCHITECTURE.md æ¥è§„åˆ’"</span>
</code></pre>
</li>
</ol>
<h3 data-id="heading-22">ğŸ”¥ é«˜çº§æŠ€å·§</h3>
<h4 data-id="heading-23">æŠ€å·§ 1ï¼šå¤šä»£ç†åä½œè§„åˆ’</h4>
<p>å¯¹äºè¶…å¤§å‹é¡¹ç›®ï¼Œå¯ä»¥è®©å¤šä¸ª"è§’è‰²"å‚ä¸è§„åˆ’ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-string">"åˆ›å»ºä¸€ä¸ªæ·±åº¦ç ”ç©¶ä»»åŠ¡ï¼Œç”¨ä»¥ä¸‹å››ä¸ªè§’è‰²åˆ†æè¿™ä¸ªé—®é¢˜ï¼š
1. æ¶æ„å¸ˆï¼šè¯„ä¼°ç³»ç»Ÿè®¾è®¡
2. å®‰å…¨ä¸“å®¶ï¼šè¯†åˆ«å®‰å…¨éšæ‚£  
3. æ€§èƒ½å·¥ç¨‹å¸ˆï¼šåˆ†ææ€§èƒ½å½±å“
4. æµ‹è¯•å·¥ç¨‹å¸ˆï¼šåˆ¶å®šæµ‹è¯•ç­–ç•¥

æ¯ä¸ªè§’è‰²ç»™å‡ºç‹¬ç«‹çš„åˆ†ææŠ¥å‘Š"</span>
</code></pre>
<h4 data-id="heading-24">æŠ€å·§ 2ï¼šä½¿ç”¨è¯­éŸ³è¾“å…¥</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¤æ‚éœ€æ±‚ç”¨è¯­éŸ³æ›´é«˜æ•ˆ</span>
ä½¿ç”¨ Superwhisper ç­‰å·¥å…·å£è¿°éœ€æ±‚
â†’ AI è½¬å½•æˆæ–‡å­—
â†’ ç›´æ¥å‘ç»™ Claude

ä¼˜ç‚¹ï¼š
- è¡¨è¾¾æ›´è‡ªç„¶æµç•…
- å¯ä»¥å¿«é€Ÿä¼ è¾¾å¤æ‚æƒ³æ³•
- è§£æ”¾åŒæ‰‹
</code></pre>
<h4 data-id="heading-25">æŠ€å·§ 3ï¼šç»“åˆ Web æœç´¢</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-string">"è¯·å…ˆæœç´¢ Tailwind CSS v4 çš„è¿ç§»æŒ‡å—ï¼Œ
ç„¶ååŸºäºæœ€æ–°çš„å®˜æ–¹æ–‡æ¡£åˆ¶å®šæˆ‘ä»¬çš„è¿ç§»è®¡åˆ’"</span>

<span class="hljs-comment"># Claude ä¼šï¼š</span>
1. æœç´¢æœ€æ–°æ–‡æ¡£
2. è¯»å–å®˜æ–¹æŒ‡å—  
3. ç»“åˆä½ çš„é¡¹ç›®æƒ…å†µåˆ¶å®šè®¡åˆ’
</code></pre>
<h4 data-id="heading-26">æŠ€å·§ 4ï¼šè®¡åˆ’ç‰ˆæœ¬æ§åˆ¶</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°†è®¡åˆ’çº³å…¥ Git ç®¡ç†</span>
docs/
  â”œâ”€â”€ plans/
  â”‚   â”œâ”€â”€ 2024-01-15-user-auth-refactor.md
  â”‚   â”œâ”€â”€ 2024-02-03-database-migration.md
  â”‚   â””â”€â”€ 2024-03-10-api-v2-design.md

<span class="hljs-comment"># å¥½å¤„ï¼š</span>
- å¯è¿½æº¯å†³ç­–è¿‡ç¨‹
- å›¢é˜Ÿæˆå‘˜äº†è§£å†å²èƒŒæ™¯
- é˜²æ­¢é‡å¤åŠ³åŠ¨
</code></pre>
<h3 data-id="heading-27">ğŸš« å¸¸è§è¯¯åŒºä¸é¿å‘æŒ‡å—</h3>
<h4 data-id="heading-28">è¯¯åŒº 1ï¼š"Plan æ¨¡å¼å¤ªæ…¢ï¼Œç›´æ¥å¹²ä¸æ˜¯æ›´å¿«ï¼Ÿ"</h4>
<p><strong>çœŸç›¸ï¼š</strong><br/>
å°ä»»åŠ¡ç¡®å®ä¸éœ€è¦ Plan æ¨¡å¼ï¼Œä½†å¯¹äºå¤æ‚ä»»åŠ¡ï¼š</p>
<pre><code class="hljs">ä¸ç”¨ Plan æ¨¡å¼ï¼š
å¼€å‘ 2 å°æ—¶ â†’ å‘ç°æ–¹å‘é”™è¯¯ â†’ æ¨å€’é‡æ¥ 2 å°æ—¶ 
â†’ ä¿® Bug 1 å°æ—¶ â†’ æ€»è®¡ 5 å°æ—¶ âŒ

ä½¿ç”¨ Plan æ¨¡å¼ï¼š
è§„åˆ’ 30 åˆ†é’Ÿ â†’ å®¡æŸ¥ä¼˜åŒ– 20 åˆ†é’Ÿ 
â†’ æ‰§è¡Œ 1.5 å°æ—¶ â†’ æ€»è®¡ 2.2 å°æ—¶ âœ…
</code></pre>
<p><strong>èŠ‚çœäº†ä¸€åŠä»¥ä¸Šçš„æ—¶é—´ï¼</strong></p>
<h4 data-id="heading-29">è¯¯åŒº 2ï¼š"è®¡åˆ’åªæ˜¯å½¢å¼ï¼Œæ‰§è¡Œæ—¶è¿˜æ˜¯ä¼šå˜"</h4>
<p><strong>åé©³ï¼š</strong><br/>
å¥½çš„è®¡åˆ’ä¸æ˜¯"ä¸€æˆä¸å˜"ï¼Œè€Œæ˜¯"æœ‰è¿¹å¯å¾ª"ï¼š</p>
<ul>
<li>è®¡åˆ’æ˜¯è·¯çº¿å›¾ï¼Œä¸æ˜¯æ³•å¾‹æ¡æ–‡</li>
<li>å¯ä»¥åœ¨æ‰§è¡Œä¸­çµæ´»è°ƒæ•´</li>
<li>ä½†æœ‰è®¡åˆ’æ€»æ¯”ç›²ç›®ä¹±æ’å¼º</li>
</ul>
<h4 data-id="heading-30">è¯¯åŒº 3ï¼š"æˆ‘æ˜¯è€å¸æœºï¼Œä¸éœ€è¦è®¡åˆ’"</h4>
<p><strong>ç°å®æ‰“è„¸ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å³ä½¿æ˜¯èµ„æ·±å·¥ç¨‹å¸ˆä¹Ÿä¼š</span>
- é—æ¼è¾¹ç•Œæƒ…å†µ
- ä½ä¼°å¤æ‚åº¦
- å¿½è§†ä¾èµ–å…³ç³»

<span class="hljs-comment"># Plan æ¨¡å¼çš„ä»·å€¼æ˜¯</span>
è®© AI å¸®ä½ æƒ³åˆ°ä½ å¯èƒ½å¿½ç•¥çš„ç»†èŠ‚
å¤šä¸€ä¸ªå¤§è„‘å‚ä¸å†³ç­–æ€»æ˜¯å¥½çš„
</code></pre>
<h4 data-id="heading-31">è¯¯åŒº 4ï¼š"è®¡åˆ’å¤ªè¯¦ç»†äº†ï¼Œçœ‹ä¸è¿‡æ¥"</h4>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ†å±‚æ¬¡é˜…è¯»è®¡åˆ’</span>
ç¬¬ä¸€éï¼šå¿«é€Ÿæµè§ˆï¼Œäº†è§£æ•´ä½“æ€è·¯
ç¬¬äºŒéï¼šé‡ç‚¹å…³æ³¨å…³é”®æ­¥éª¤
ç¬¬ä¸‰éï¼šæ£€æŸ¥é£é™©ç‚¹å’Œè¾¹ç•Œæƒ…å†µ

<span class="hljs-comment"># æˆ–è€…è®© Claude ç®€åŒ–</span>
<span class="hljs-string">"è¯·ç»™æˆ‘ä¸€ä¸ªæ‰§è¡Œæ‘˜è¦ç‰ˆæœ¬ï¼ŒåªåŒ…å«å…³é”®æ­¥éª¤"</span>
</code></pre>
<h3 data-id="heading-32">ğŸ“Š æ•ˆæœå¯¹æ¯”ï¼šæ•°æ®è¯´è¯</h3>
<p>åŸºäºç¤¾åŒºåé¦ˆçš„ç»Ÿè®¡ï¼š</p>









































<table><thead><tr><th>æŒ‡æ ‡</th><th>ä¸ç”¨ Plan æ¨¡å¼</th><th>ä½¿ç”¨ Plan æ¨¡å¼</th><th>æå‡</th></tr></thead><tbody><tr><td><strong>ä¸€æ¬¡æˆåŠŸç‡</strong></td><td>45%</td><td>82%</td><td>â†‘ 82%</td></tr><tr><td><strong>å¹³å‡è¿”å·¥æ¬¡æ•°</strong></td><td>2.3 æ¬¡</td><td>0.6 æ¬¡</td><td>â†“ 74%</td></tr><tr><td><strong>Token æ¶ˆè€—</strong></td><td>è¾ƒé«˜ï¼ˆé¢‘ç¹è¯•é”™ï¼‰</td><td>è¾ƒä½ï¼ˆä¸€æ¬¡åˆ°ä½ï¼‰</td><td>â†“ 40%</td></tr><tr><td><strong>ä»£ç è´¨é‡</strong></td><td>ä¸­ç­‰</td><td>è¾ƒé«˜</td><td>â†‘ 35%</td></tr><tr><td><strong>å›¢é˜Ÿåä½œæ•ˆç‡</strong></td><td>éœ€å¤šæ¬¡æ²Ÿé€š</td><td>è®¡åˆ’å³æ–‡æ¡£</td><td>â†‘ 60%</td></tr></tbody></table>
<p><em>æ•°æ®æ¥æºï¼šClaude Code ç”¨æˆ·ç¤¾åŒºè°ƒç ”</em></p>
<hr/>
<h2 data-id="heading-33">ğŸ“ è¿›é˜¶è¯é¢˜</h2>
<h3 data-id="heading-34">ä¸å…¶ä»–å·¥å…·çš„é…åˆ</h3>
<h4 data-id="heading-35">1. VS Code é›†æˆ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ VS Code ä¸­</span>
1. é€‰ä¸­ä»£ç 
2. ä½¿ç”¨ /ide å‘½ä»¤
3. æ¿€æ´» Plan æ¨¡å¼è®¨è®º

ä¼˜ç‚¹ï¼š
- å¯è§†åŒ–æ›´ç›´è§‚
- å¯ä»¥ç›´æ¥çœ‹åˆ°ä»£ç ä¸Šä¸‹æ–‡
- ç¼–è¾‘å™¨åŠŸèƒ½å…¨å¼€
</code></pre>
<h4 data-id="heading-36">2. ä¸ Git å·¥ä½œæµç»“åˆ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ ‡å‡†æµç¨‹</span>
1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
2. Plan æ¨¡å¼è§„åˆ’
3. ä¿å­˜è®¡åˆ’åˆ°åˆ†æ”¯
4. æ‰§è¡Œè®¡åˆ’
5. ä»£ç å®¡æŸ¥æ—¶å¯¹ç…§è®¡åˆ’
6. åˆå¹¶ä¸»åˆ†æ”¯

<span class="hljs-comment"># ä½¿ç”¨ Git Worktrees å¤„ç†å¤šä»»åŠ¡</span>
git worktree add ../feature-a -b feature-a
git worktree add ../feature-b -b feature-b

<span class="hljs-comment"># æ¯ä¸ª worktree ç‹¬ç«‹è¿è¡Œ Claude Code</span>
<span class="hljs-comment"># äº’ä¸å¹²æ‰°ï¼Œå®Œå…¨éš”ç¦»</span>
</code></pre>
<h4 data-id="heading-37">3. æŒç»­å­¦ä¹ ä¸æ”¹è¿›</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å»ºç«‹"äº‹åè¯¸è‘›äº®"æœºåˆ¶</span>
æ¯æ¬¡é¡¹ç›®ç»“æŸåï¼š
1. å›é¡¾è®¡åˆ’ vs å®é™…
2. è®°å½•æ„å¤–æƒ…å†µ
3. æ›´æ–°æœ€ä½³å®è·µ
4. ä¼˜åŒ–ä¸‹æ¬¡çš„è§„åˆ’æç¤ºè¯
</code></pre>
<h3 data-id="heading-38">æˆæœ¬ä¸æ•ˆç‡å¹³è¡¡</h3>
<p>Plan æ¨¡å¼è™½ç„¶æ¶ˆè€—æ›´å¤š tokenï¼Œä½†ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">åœºæ™¯åˆ†æï¼š
<span class="hljs-deletion">- ç®€å• Bugï¼ˆ10 è¡Œä»£ç ï¼‰ï¼šä¸ç”¨ Plan æ¨¡å¼ âœ“</span>
<span class="hljs-deletion">- ä¸­ç­‰åŠŸèƒ½ï¼ˆ50-200 è¡Œï¼‰ï¼šå»ºè®®ç”¨ Plan æ¨¡å¼ âœ“âœ“</span>
<span class="hljs-deletion">- å¤æ‚é‡æ„ï¼ˆ500+ è¡Œï¼‰ï¼šå¿…é¡»ç”¨ Plan æ¨¡å¼ âœ“âœ“âœ“</span>

æŠ•èµ„å›æŠ¥ç‡ï¼š
åˆæœŸæŠ•å…¥ï¼ˆè§„åˆ’ï¼‰ï¼š20-30% é¢å¤– token
é•¿æœŸå›æŠ¥ï¼ˆé¿å…è¿”å·¥ï¼‰ï¼šèŠ‚çœ 50-80% æ€» token
</code></pre>
<hr/>
<h2 data-id="heading-39">ğŸ¯ æ€»ç»“ï¼šPlan æ¨¡å¼çš„æœ¬è´¨</h2>
<p>Plan æ¨¡å¼ä¸æ˜¯ä¸€ä¸ªåŠŸèƒ½ï¼Œè€Œæ˜¯ä¸€ç§<strong>æ€ç»´æ–¹å¼</strong>çš„å·¥å…·åŒ–ï¼š</p>
<h3 data-id="heading-40">æ ¸å¿ƒä»·å€¼è§‚</h3>
<ol>
<li>
<p><strong>Think Before You Code</strong>ï¼ˆå…ˆæ€è€ƒåç¼–ç ï¼‰</p>
<ul>
<li>ä¸æ‰“æ— å‡†å¤‡ä¹‹ä»—</li>
<li>è®¡åˆ’ä¸æ˜¯æŸç¼šï¼Œæ˜¯è‡ªç”±</li>
</ul>
</li>
<li>
<p><strong>Fail Fast, Fail Cheap</strong>ï¼ˆå¿«é€Ÿå¤±è´¥ï¼Œä½æˆæœ¬è¯•é”™ï¼‰</p>
<ul>
<li>åœ¨è§„åˆ’é˜¶æ®µå‘ç°é—®é¢˜æˆæœ¬æœ€ä½</li>
<li>æ‰§è¡Œé˜¶æ®µè¿”å·¥æˆæœ¬æœ€é«˜</li>
</ul>
</li>
<li>
<p><strong>Communication is Key</strong>ï¼ˆæ²Ÿé€šæ˜¯å…³é”®ï¼‰</p>
<ul>
<li>è®¡åˆ’æ˜¯äººæœºæ²Ÿé€šçš„æ¡¥æ¢</li>
<li>ä¹Ÿæ˜¯å›¢é˜Ÿåä½œçš„æ–‡æ¡£</li>
</ul>
</li>
</ol>
<h3 data-id="heading-41">æœ€åçš„å»ºè®®</h3>
<blockquote>
<p><strong>ç»™åˆå­¦è€…ï¼š</strong><br/>
ä¸è¦æ€•éº»çƒ¦ï¼Œå¤æ‚ä»»åŠ¡å°±ç”¨ Plan æ¨¡å¼ã€‚ç†Ÿç»ƒåä½ ä¼šå‘ç°ï¼Œè¿™æ˜¯æœ€çœæ—¶é—´çš„æ–¹å¼ã€‚</p>
</blockquote>
<blockquote>
<p><strong>ç»™è¿›é˜¶ç”¨æˆ·ï¼š</strong><br/>
æ¢ç´¢è‡ªå®šä¹‰å·¥ä½œæµï¼Œå°† Plan æ¨¡å¼èå…¥ä½ çš„å¼€å‘ä¹ æƒ¯ã€‚è®© AI æˆä¸ºçœŸæ­£çš„åä½œä¼™ä¼´ã€‚</p>
</blockquote>
<blockquote>
<p><strong>ç»™å›¢é˜Ÿé¢†å¯¼ï¼š</strong><br/>
æ¨å¹¿ Plan æ¨¡å¼å¯ä»¥æ˜¾è‘—æå‡å›¢é˜Ÿæ•ˆç‡å’Œä»£ç è´¨é‡ã€‚è®¡åˆ’å³æ–‡æ¡£ï¼Œåˆ©äºçŸ¥è¯†æ²‰æ·€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-42">ğŸš€ è¡ŒåŠ¨èµ·æ¥ï¼</h2>
<h3 data-id="heading-43">ä»Šå¤©å°±å¼€å§‹</h3>
<ol>
<li><strong>æ‰“å¼€ Claude Code</strong></li>
<li><strong>æŒ‰ä¸‹ Shift + Tab ä¸¤æ¬¡</strong></li>
<li><strong>å°è¯•ä½ çš„ç¬¬ä¸€ä¸ªè®¡åˆ’</strong></li>
</ol>
<p>ä»ä¸€ä¸ªä¸­ç­‰å¤æ‚åº¦çš„ä»»åŠ¡å¼€å§‹ï¼Œä½“éªŒ Plan æ¨¡å¼çš„é­”åŠ›ï¼</p>
<h3 data-id="heading-44">å­¦ä¹ èµ„æº</h3>
<ul>
<li>ğŸ“š <a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.claude.com%2Fdocs" title="https://code.claude.com/docs" target="_blank" ref="nofollow noopener noreferrer">Claude Code å®˜æ–¹æ–‡æ¡£</a></li>
<li>ğŸ¥ YouTube ä¸Šçš„å®æˆ˜æ•™ç¨‹</li>
<li>ğŸ’¬ åŠ å…¥ Discord/Reddit ç¤¾åŒºäº¤æµ</li>
</ul>
<h3 data-id="heading-45">ä¿æŒæˆé•¿</h3>
<p>è®°ä½ï¼š<strong>ä¼˜ç§€çš„å·¥ç¨‹å¸ˆä¸æ˜¯å†™ä»£ç æœ€å¿«çš„ï¼Œè€Œæ˜¯å†™å¯¹ä»£ç æœ€å¿«çš„ã€‚</strong></p>
<p>Plan æ¨¡å¼å°±æ˜¯å¸®ä½ "å†™å¯¹"çš„ç§˜å¯†æ­¦å™¨ã€‚</p>
<hr/>
<p><em>æ„¿ä½ çš„æ¯ä¸€æ¬¡ä»£ç å˜æ›´ï¼Œéƒ½æœ‰ä¸€ä¸ªå®Œç¾çš„è®¡åˆ’ï¼</em> ğŸ‰</p>
<hr/>
<p><strong>é™„å½•ï¼šå¿«æ·æ“ä½œé€ŸæŸ¥è¡¨</strong></p>


















































<table><thead><tr><th>æ“ä½œ</th><th>å¿«æ·é”®/å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>è¿›å…¥ Plan æ¨¡å¼</td><td><code>Shift + Tab Ã— 2</code></td><td>ç•Œé¢æ˜¾ç¤º "Plan Mode"</td></tr><tr><td>é€€å‡º Plan æ¨¡å¼</td><td>Claude è°ƒç”¨ <code>exit_plan_mode</code></td><td>ç”Ÿæˆè®¡åˆ’åè‡ªåŠ¨æç¤º</td></tr><tr><td>å¼•ç”¨æ–‡ä»¶</td><td><code>@filename</code></td><td>æä¾›ä¸Šä¸‹æ–‡</td></tr><tr><td>å¼•ç”¨ç›®å½•</td><td><code>@dirname/</code></td><td>åŒ…å«æ•´ä¸ªç›®å½•</td></tr><tr><td>åˆå§‹åŒ–é¡¹ç›®</td><td><code>/init</code></td><td>ç”Ÿæˆ CLAUDE.md</td></tr><tr><td>ç»§ç»­ä¼šè¯</td><td><code>/resume</code> æˆ– <code>claude --resume</code></td><td>æ¢å¤ä¹‹å‰çš„å¯¹è¯</td></tr><tr><td>åˆ›å»ºå­ä»»åŠ¡</td><td>åœ¨ Plan æ¨¡å¼ä¸‹æé—®</td><td>è‡ªåŠ¨åˆ›å»ºç ”ç©¶ä»»åŠ¡</td></tr><tr><td>ä¿å­˜è®¡åˆ’</td><td><code>"è¯·ä¿å­˜åˆ° plan.md"</code></td><td>æŒä¹…åŒ–è®¡åˆ’æ–‡æ¡£</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[DNSåŸŸåè§£æï¼šä»å…¥é—¨åˆ°ä¼˜åŒ–å¿…å¤‡åŸºç¡€]]></title>    <link>https://juejin.cn/post/7588680081326850090</link>    <guid>https://juejin.cn/post/7588680081326850090</guid>    <pubDate>2025-12-28T14:53:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588680081326850090" data-draft-id="7588191506606473222" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="DNSåŸŸåè§£æï¼šä»å…¥é—¨åˆ°ä¼˜åŒ–å¿…å¤‡åŸºç¡€"/> <meta itemprop="keywords" content="ç½‘ç»œåè®®"/> <meta itemprop="datePublished" content="2025-12-28T14:53:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sweetä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/3227821869921646"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            DNSåŸŸåè§£æï¼šä»å…¥é—¨åˆ°ä¼˜åŒ–å¿…å¤‡åŸºç¡€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821869921646/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sweetä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T14:53:34.000Z" title="Sun Dec 28 2025 14:53:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>å‰è¨€</strong></h2>
<p>åœ¨å½“ä»Šäº’è”ç½‘ä¸–ç•Œï¼ŒåŸŸåå°±åƒæˆ‘ä»¬ç”Ÿæ´»ä¸­çš„åœ°å€ï¼Œè€ŒDNSï¼ˆDomain Name Systemï¼‰å°±æ˜¯é‚£ä¸ªå°†åœ°å€ç¿»è¯‘æˆå…·ä½“ä½ç½®çš„ç¥å¥‡ç³»ç»Ÿã€‚æ— è®ºä½ æ˜¯å‰ç«¯å¼€å‘è€…ã€ç§»åŠ¨ç«¯å·¥ç¨‹å¸ˆè¿˜æ˜¯è¿ç»´äººå‘˜ï¼Œç†è§£DNSçš„å·¥ä½œæœºåˆ¶éƒ½è‡³å…³é‡è¦ã€‚æœ¬æ–‡å°†ä»åŸºç¡€æ¦‚å¿µå¼€å§‹ï¼Œé€æ­¥æ·±å…¥è§£æDNSçš„æ–¹æ–¹é¢é¢ï¼Œå¹¶ç»“åˆå®é™…å¼€å‘ä¸­çš„ä¼˜åŒ–æŠ€å·§ï¼Œè®©ä½ å½»åº•æŒæ¡åŸŸåè§£æçš„è‰ºæœ¯ã€‚</p>
<h2 data-id="heading-1"><strong>ä¸€ã€DNSè§£æçš„åŸºæœ¬æµç¨‹</strong></h2>
<h3 data-id="heading-2"><strong>1.1 ä¼ ç»ŸDNSè§£æè¿‡ç¨‹</strong></h3>
<p>å½“ä½ åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>www.example.com</code> å¹¶æŒ‰ä¸‹å›è½¦æ—¶ï¼ŒèƒŒåå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<pre><code class="hljs">ç”¨æˆ·è¾“å…¥åŸŸå â†’ æµè§ˆå™¨ç¼“å­˜ â†’ æ“ä½œç³»ç»Ÿç¼“å­˜ â†’ è·¯ç”±å™¨ç¼“å­˜ â†’ ISP DNSæœåŠ¡å™¨ â†’ é€’å½’æŸ¥è¯¢ â†’ è¿”å›IPåœ°å€
</code></pre>
<p><strong>å…·ä½“æ­¥éª¤ï¼š</strong></p>
<ol>
<li><strong>æµè§ˆå™¨ç¼“å­˜æ£€æŸ¥</strong>ï¼šç°ä»£æµè§ˆå™¨ä¼šç¼“å­˜DNSè®°å½•ä¸€æ®µæ—¶é—´</li>
<li><strong>æ“ä½œç³»ç»Ÿç¼“å­˜</strong>ï¼šå¦‚æœæµè§ˆå™¨æ²¡æœ‰ç¼“å­˜ï¼Œç³»ç»Ÿä¼šæ£€æŸ¥è‡ªå·±çš„DNSç¼“å­˜</li>
<li><strong>è·¯ç”±å™¨ç¼“å­˜</strong>ï¼šå®¶åº­æˆ–åŠå…¬è·¯ç”±å™¨ä¹Ÿå¯èƒ½ç¼“å­˜DNSè®°å½•</li>
<li><strong>ISP DNSæœåŠ¡å™¨</strong>ï¼šäº’è”ç½‘æœåŠ¡æä¾›å•†çš„DNSæœåŠ¡å™¨è¿›è¡Œé€’å½’æŸ¥è¯¢</li>
<li><strong>é€’å½’æŸ¥è¯¢è¿‡ç¨‹</strong>ï¼š
<ul>
<li>æ ¹åŸŸåæœåŠ¡å™¨ï¼ˆè¿”å›<code>.com</code>é¡¶çº§åŸŸæœåŠ¡å™¨åœ°å€ï¼‰</li>
<li>é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼ˆè¿”å›<code>example.com</code>æƒå¨æœåŠ¡å™¨åœ°å€ï¼‰</li>
<li>æƒå¨åŸŸåæœåŠ¡å™¨ï¼ˆè¿”å›<code>www.example.com</code>çš„IPåœ°å€ï¼‰</li>
</ul>
</li>
</ol>
<h3 data-id="heading-3"><strong>1.2 iOSåº”ç”¨ä¸­çš„DNSè§£æ</strong></h3>
<p>åœ¨iOSå¼€å‘ä¸­ï¼Œå½“ä½¿ç”¨<code>URLSession</code>å‘èµ·ç½‘ç»œè¯·æ±‚æ—¶ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// iOSé»˜è®¤ä½¿ç”¨ç³»ç»ŸDNSè§£æ</span>
<span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">"https://api.example.com"</span>)<span class="hljs-operator">!</span>
<span class="hljs-keyword">let</span> task <span class="hljs-operator">=</span> <span class="hljs-type">URLSession</span>.shared.dataTask(with: url) { data, response, error <span class="hljs-keyword">in</span>
    <span class="hljs-comment">// å¤„ç†å“åº”</span>
}
task.resume()
</code></pre>
<p>iOSç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†DNSè§£æï¼Œå¼€å‘è€…é€šå¸¸æ— éœ€å…³å¿ƒå…·ä½“è¿‡ç¨‹ã€‚ä½†ä»iOS 15å¼€å§‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>NWParameters</code>çš„<code>expiredDNSBehavior</code>å±æ€§æ¥æ§åˆ¶DNSè®°å½•çš„è¿‡æœŸè¡Œä¸ºï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Network

<span class="hljs-keyword">let</span> parameters <span class="hljs-operator">=</span> <span class="hljs-type">NWParameters</span>.tcp
<span class="hljs-keyword">if</span> <span class="hljs-keyword">#available</span>(<span class="hljs-keyword">iOS</span> <span class="hljs-number">15.0</span>, <span class="hljs-operator">*</span>) {
    <span class="hljs-comment">// é…ç½®DNSè®°å½•è¿‡æœŸè¡Œä¸º</span>
    parameters.expiredDNSBehavior <span class="hljs-operator">=</span> .reloadFromOrigin
    <span class="hljs-comment">// .allow: å…è®¸ä½¿ç”¨è¿‡æœŸè®°å½•ï¼ˆé»˜è®¤ï¼‰</span>
    <span class="hljs-comment">// .reloadFromOrigin: å¼ºåˆ¶é‡æ–°æŸ¥è¯¢</span>
    <span class="hljs-comment">// .reloadFromOriginAndFailIfNotAvailable: å¿…é¡»è·å–æœ€æ–°è®°å½•</span>
}
</code></pre>
<h2 data-id="heading-4"><strong>äºŒã€ç½‘ç»œè¯·æ±‚çš„å®Œæ•´è¿‡ç¨‹ï¼šDNSè§£æä¹‹å</strong></h2>
<p>DNSè§£æå®Œæˆåï¼ŒçœŸæ­£çš„ç½‘ç»œé€šä¿¡æ‰åˆšåˆšå¼€å§‹ï¼š</p>
<h3 data-id="heading-5"><strong>2.1 TCPè¿æ¥å»ºç«‹ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰</strong></h3>
<pre><code class="hljs language-ini" lang="ini">å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨: SYN (<span class="hljs-attr">seq</span>=x)
æœåŠ¡å™¨ â†’ å®¢æˆ·ç«¯: SYN-ACK (<span class="hljs-attr">seq</span>=y, ack=x+<span class="hljs-number">1</span>)
å®¢æˆ·ç«¯ â†’ æœåŠ¡å™¨: ACK (<span class="hljs-attr">seq</span>=x+<span class="hljs-number">1</span>, ack=y+<span class="hljs-number">1</span>)
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆé‡æ–°è¿æ¥ä¹Ÿéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ</strong>
æ— è®ºæ˜¯é¦–æ¬¡è¿æ¥è¿˜æ˜¯é‡æ–°è¿æ¥ï¼ŒTCPéƒ½éœ€è¦ä¸‰æ¬¡æ¡æ‰‹æ¥ç¡®ä¿ï¼š</p>
<ul>
<li>åŒæ–¹éƒ½èƒ½æ­£å¸¸é€šä¿¡</li>
<li>åºåˆ—å·åŒæ­¥</li>
<li>é˜²æ­¢æ—§çš„é‡å¤è¿æ¥è¯·æ±‚</li>
</ul>
<h3 data-id="heading-6"><strong>2.2 IPç½‘ç»œé€‰è·¯</strong></h3>
<p>è¿™ä¸ªé‡è¦çš„æ­¥éª¤å‘ç”Ÿåœ¨DNSè§£æä¹‹åã€å»ºç«‹TCPè¿æ¥ä¹‹å‰ã€‚æ•°æ®åŒ…éœ€è¦ç»è¿‡å¤šä¸ªè·¯ç”±å™¨ï¼ˆè·³ï¼‰æ‰èƒ½åˆ°è¾¾ç›®æ ‡æœåŠ¡å™¨ï¼š</p>
<pre><code class="hljs">å®¢æˆ·ç«¯ â†’ æœ¬åœ°è·¯ç”±å™¨ â†’ ISPç½‘ç»œ â†’ äº’è”ç½‘éª¨å¹²ç½‘ â†’ ç›®æ ‡æœåŠ¡å™¨
</code></pre>
<p><strong>ä¼˜åŒ–ç©ºé—´</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨CDNå‡å°‘è·¯ç”±è·³æ•°</li>
<li>éƒ¨ç½²AnycastæŠ€æœ¯è‡ªåŠ¨è·¯ç”±åˆ°æœ€è¿‘èŠ‚ç‚¹</li>
<li>ä¼˜åŒ–MTUé¿å…æ•°æ®åŒ…åˆ†ç‰‡</li>
</ul>
<h3 data-id="heading-7"><strong>2.3 TLSæ¡æ‰‹ï¼ˆHTTPSè¯·æ±‚ï¼‰</strong></h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-built_in">Client</span> Hello â†’ <span class="hljs-built_in">Server</span> Hello â†’ è¯ä¹¦éªŒè¯ â†’ å¯†é’¥äº¤æ¢ â†’ åŠ å¯†é€šä¿¡å¼€å§‹
</code></pre>
<p><strong>TLS 1.3çš„ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>å‡å°‘æ¡æ‰‹æ­¥éª¤</li>
<li>æ”¯æŒ0-RTTï¼ˆé›¶å¾€è¿”æ—¶é—´ï¼‰æ¢å¤ä¼šè¯</li>
<li>æ›´å¼ºçš„åŠ å¯†ç®—æ³•</li>
</ul>
<h3 data-id="heading-8"><strong>2.4 HTTPåè®®æ¼”è¿›</strong></h3>
<p><strong>HTTP/1.1 â†’ HTTP/2 â†’ HTTP/3</strong>çš„æ”¹è¿›ï¼š</p>









































<table><thead><tr><th>ç‰¹æ€§</th><th>HTTP/1.1</th><th>HTTP/2</th><th>HTTP/3</th></tr></thead><tbody><tr><td>å¤šè·¯å¤ç”¨</td><td>âŒ ä¸æ”¯æŒ</td><td>âœ… æ”¯æŒ</td><td>âœ… æ”¯æŒ</td></tr><tr><td>å¤´éƒ¨å‹ç¼©</td><td>âŒ ä¸æ”¯æŒ</td><td>âœ… HPACK</td><td>âœ… QPACK</td></tr><tr><td>ä¼ è¾“åè®®</td><td>TCP</td><td>TCP</td><td>QUIC(UDP)</td></tr><tr><td>é˜Ÿå¤´é˜»å¡</td><td>è¿æ¥çº§åˆ«</td><td>æµçº§åˆ«</td><td>âŒ æ— </td></tr><tr><td>è¿æ¥è¿ç§»</td><td>âŒ ä¸æ”¯æŒ</td><td>âŒ ä¸æ”¯æŒ</td><td>âœ… æ”¯æŒ</td></tr></tbody></table>
<h2 data-id="heading-9"><strong>ä¸‰ã€æ€§èƒ½ä¼˜åŒ–å®æˆ˜</strong></h2>
<h3 data-id="heading-10"><strong>3.1 å‡å°‘DNSè§£ææ—¶é—´</strong></h3>
<p><strong>iOSä¸­çš„DNSé¢„è§£æ</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// HTMLä¸­çš„DNSé¢„å–ï¼ˆWebViewåœºæ™¯ï¼‰</span>
<span class="hljs-keyword">let</span> html <span class="hljs-operator">=</span> <span class="hljs-string">"""
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;link rel="dns-prefetch" href="//cdn.example.com"&gt;
&lt;/head&gt;
&lt;body&gt;...&lt;/body&gt;
&lt;/html&gt;
"""</span>

<span class="hljs-comment">// æˆ–ä½¿ç”¨Network Frameworkè¿›è¡Œé¢„è¿æ¥</span>
<span class="hljs-keyword">let</span> monitor <span class="hljs-operator">=</span> <span class="hljs-type">NWPathMonitor</span>()
monitor.pathUpdateHandler <span class="hljs-operator">=</span> { path <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">if</span> path.status <span class="hljs-operator">==</span> .satisfied {
        <span class="hljs-comment">// ç½‘ç»œå¯ç”¨æ—¶é¢„è¿æ¥</span>
        <span class="hljs-keyword">let</span> connection <span class="hljs-operator">=</span> <span class="hljs-type">NWConnection</span>(host: <span class="hljs-string">"api.example.com"</span>, port: <span class="hljs-number">443</span>, using: .tls)
        connection.start(queue: .global())
    }
}
</code></pre>
<h3 data-id="heading-11"><strong>3.2 å¤„ç†DNSè§£æå¤±è´¥</strong></h3>
<p>åœ¨Alamofireä¸­åˆ¤æ–­DNSè§£æå¤±è´¥ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Alamofire

<span class="hljs-keyword">extension</span> <span class="hljs-title class_">AFError</span> {
    <span class="hljs-keyword">var</span> isDNSError: <span class="hljs-type">Bool</span> {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">case</span> .sessionTaskFailed(<span class="hljs-keyword">let</span> underlyingError) <span class="hljs-operator">=</span> <span class="hljs-keyword">self</span> {
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> urlError <span class="hljs-operator">=</span> underlyingError <span class="hljs-keyword">as?</span> <span class="hljs-type">URLError</span> {
                <span class="hljs-keyword">return</span> urlError.code <span class="hljs-operator">==</span> .cannotFindHost <span class="hljs-operator">||</span> 
                       urlError.code <span class="hljs-operator">==</span> .dnsLookupFailed
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> nsError <span class="hljs-operator">=</span> underlyingError <span class="hljs-keyword">as?</span> <span class="hljs-type">NSError</span> {
                <span class="hljs-keyword">return</span> nsError.domain <span class="hljs-operator">==</span> <span class="hljs-type">NSURLErrorDomain</span> <span class="hljs-operator">&amp;&amp;</span> 
                      (nsError.code <span class="hljs-operator">==</span> <span class="hljs-type">NSURLErrorCannotFindHost</span> <span class="hljs-operator">||</span> 
                       nsError.code <span class="hljs-operator">==</span> <span class="hljs-type">NSURLErrorDNSLookupFailed</span>)
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-type">AF</span>.request(<span class="hljs-string">"https://api.example.com"</span>).response { response <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> error <span class="hljs-operator">=</span> response.error <span class="hljs-keyword">as?</span> <span class="hljs-type">AFError</span>, error.isDNSError {
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"DNSè§£æå¤±è´¥ï¼Œå°è¯•å¤‡ç”¨æ–¹æ¡ˆ"</span>)
        <span class="hljs-comment">// åˆ‡æ¢åˆ°å¤‡ç”¨åŸŸåæˆ–HTTPDNS</span>
    }
}
</code></pre>
<h3 data-id="heading-12"><strong>3.3 ä½¿ç”¨HTTPDNS</strong></h3>
<p>HTTPDNSé€šè¿‡HTTPåè®®ç›´æ¥æŸ¥è¯¢DNSï¼Œé¿å…ä¼ ç»ŸDNSçš„æ±¡æŸ“å’ŒåŠ«æŒï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ç¤ºä¾‹ï¼šä½¿ç”¨é˜¿é‡Œäº‘HTTPDNS</span>
<span class="hljs-keyword">func</span> <span class="hljs-title function_">resolveWithHTTPDNS</span>(<span class="hljs-params">domain</span>: <span class="hljs-type">String</span>, <span class="hljs-params">completion</span>: <span class="hljs-keyword">@escaping</span> (<span class="hljs-type">String</span>?) -&gt; <span class="hljs-type">Void</span>) {
    <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">"http://203.107.1.1/100000/d?host=<span class="hljs-subst">\(domain)</span>"</span>)<span class="hljs-operator">!</span>
    <span class="hljs-type">URLSession</span>.shared.dataTask(with: url) { data, <span class="hljs-keyword">_</span>, <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> data, <span class="hljs-keyword">let</span> ip <span class="hljs-operator">=</span> <span class="hljs-type">String</span>(data: data, encoding: .utf8) {
            completion(ip.trimmingCharacters(in: .whitespacesAndNewlines))
        } <span class="hljs-keyword">else</span> {
            completion(<span class="hljs-literal">nil</span>)
        }
    }.resume()
}

<span class="hljs-comment">// ä½¿ç”¨è§£æçš„IPç›´æ¥å»ºç«‹è¿æ¥</span>
resolveWithHTTPDNS(domain: <span class="hljs-string">"api.example.com"</span>) { ip <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> ip <span class="hljs-operator">=</span> ip <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
    <span class="hljs-keyword">var</span> request <span class="hljs-operator">=</span> <span class="hljs-type">URLRequest</span>(url: <span class="hljs-type">URL</span>(string: <span class="hljs-string">"https://<span class="hljs-subst">\(ip)</span>/endpoint"</span>)<span class="hljs-operator">!</span>)
    request.setValue(<span class="hljs-string">"api.example.com"</span>, forHTTPHeaderField: <span class="hljs-string">"Host"</span>) <span class="hljs-comment">// å…³é”®ï¼šè®¾ç½®Hostå¤´éƒ¨</span>
    <span class="hljs-type">AF</span>.request(request).response { response <span class="hljs-keyword">in</span>
        <span class="hljs-comment">// å¤„ç†å“åº”</span>
    }
}
</code></pre>
<h2 data-id="heading-13"><strong>å››ã€é«˜çº§ä¸»é¢˜ï¼šåè®®å±‚é¢çš„ä¼˜åŒ–</strong></h2>
<h3 data-id="heading-14"><strong>4.1 QUICä¸HTTP/3</strong></h3>
<p>HTTP/3åŸºäºQUICåè®®ï¼Œå¸¦æ¥äº†é©å‘½æ€§çš„æ”¹è¿›ï¼š</p>
<p><strong>QUICçš„æ ¸å¿ƒç‰¹æ€§</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// QUICè§£å†³äº†TCPçš„é˜Ÿå¤´é˜»å¡é—®é¢˜</span>
<span class="hljs-comment">// ä¼ ç»ŸTCPï¼šä¸€ä¸ªæ•°æ®åŒ…ä¸¢å¤±ä¼šé˜»å¡æ•´ä¸ªè¿æ¥</span>
<span class="hljs-comment">// QUICï¼šæ¯ä¸ªæµç‹¬ç«‹ï¼Œä¸¢åŒ…åªå½±å“å½“å‰æµ</span>

<span class="hljs-comment">// åœ¨iOSä¸­ï¼ŒHTTP/3ä¼šè‡ªåŠ¨å¯ç”¨ï¼ˆå¦‚æœæœåŠ¡å™¨æ”¯æŒï¼‰</span>
<span class="hljs-comment">// ä»iOS 15å¼€å§‹ï¼ŒURLSessioné»˜è®¤æ”¯æŒHTTP/3</span>
<span class="hljs-keyword">let</span> configuration <span class="hljs-operator">=</span> <span class="hljs-type">URLSessionConfiguration</span>.default
<span class="hljs-keyword">if</span> <span class="hljs-keyword">#available</span>(<span class="hljs-keyword">iOS</span> <span class="hljs-number">13.0</span>, <span class="hljs-operator">*</span>) {
    <span class="hljs-comment">// å…è®¸ä½¿ç”¨"æ˜‚è´µ"çš„ç½‘ç»œï¼ˆå¦‚èœ‚çªæ•°æ®ï¼‰</span>
    configuration.allowsExpensiveNetworkAccess <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>
    
    <span class="hljs-comment">// å…è®¸ä½¿ç”¨"å—é™"çš„ç½‘ç»œï¼ˆå¦‚ä½æ•°æ®æ¨¡å¼ï¼‰</span>
    configuration.allowsConstrainedNetworkAccess <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>
}
<span class="hljs-keyword">let</span> session <span class="hljs-operator">=</span> <span class="hljs-type">URLSession</span>(configuration: configuration)
</code></pre>
<h3 data-id="heading-15"><strong>4.2 é˜Ÿå¤´é˜»å¡é—®é¢˜è¯¦è§£</strong></h3>
<p><strong>TCPçš„é˜Ÿå¤´é˜»å¡</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å‡è®¾å‘é€äº†3ä¸ªæ•°æ®åŒ…</span>
packets = [<span class="hljs-string">"Packet1"</span>, <span class="hljs-string">"Packet2"</span>, <span class="hljs-string">"Packet3"</span>]

<span class="hljs-comment"># å¦‚æœPacket2ä¸¢å¤±</span>
<span class="hljs-comment"># å³ä½¿Packet3å·²åˆ°è¾¾ï¼Œæ¥æ”¶ç«¯ä¹Ÿå¿…é¡»ç­‰å¾…Packet2é‡ä¼ </span>
<span class="hljs-comment"># è¿™å°±æ˜¯TCPå±‚çš„é˜Ÿå¤´é˜»å¡</span>
</code></pre>
<p><strong>HTTP/2çš„é˜Ÿå¤´é˜»å¡</strong>ï¼š</p>
<ul>
<li>è™½ç„¶HTTP/2æ”¯æŒå¤šè·¯å¤ç”¨ï¼Œä½†ä»åŸºäºTCP</li>
<li>TCPå±‚çš„ä¸¢åŒ…ä¼šå½±å“æ‰€æœ‰HTTP/2æµ</li>
</ul>
<p><strong>HTTP/3çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>åŸºäºUDPï¼Œæ¯ä¸ªQUICæµç‹¬ç«‹</li>
<li>ä¸€ä¸ªæµçš„ä¸¢åŒ…ä¸ä¼šå½±å“å…¶ä»–æµ</li>
</ul>
<h3 data-id="heading-16"><strong>4.3 ç½‘ç»œæ€§èƒ½ç›‘æ§</strong></h3>
<p><strong>ç›‘æ§DNSè§£ææ—¶é—´</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Foundation

<span class="hljs-keyword">class</span> <span class="hljs-title class_">NetworkMonitor</span> {
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">performRequestWithMetrics</span>(<span class="hljs-params">urlString</span>: <span class="hljs-type">String</span>) {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: urlString) <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
        
        <span class="hljs-keyword">let</span> configuration <span class="hljs-operator">=</span> <span class="hljs-type">URLSessionConfiguration</span>.default
        <span class="hljs-keyword">let</span> session <span class="hljs-operator">=</span> <span class="hljs-type">URLSession</span>(configuration: configuration)
        
        <span class="hljs-keyword">let</span> task <span class="hljs-operator">=</span> session.dataTask(with: url) { data, response, error <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> error <span class="hljs-operator">=</span> error {
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¯·æ±‚å¤±è´¥: <span class="hljs-subst">\(error)</span>"</span>)
                <span class="hljs-keyword">return</span>
            }
            
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¯·æ±‚æˆåŠŸ"</span>)
        }
        task.delegate <span class="hljs-operator">=</span> task.delegate <span class="hljs-comment">// ä¿ç•™å¼•ç”¨ä»¥è·å–metrics</span>
        <span class="hljs-comment">// ç›‘å¬ä»»åŠ¡å®Œæˆ</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">#available</span>(<span class="hljs-keyword">iOS</span> <span class="hljs-number">10.0</span>, <span class="hljs-operator">*</span>) {
            <span class="hljs-comment">// åœ¨ä»»åŠ¡å®Œæˆåè·å–æŒ‡æ ‡</span>
            <span class="hljs-type">DispatchQueue</span>.main.asyncAfter(deadline: .now() <span class="hljs-operator">+</span> <span class="hljs-number">0.5</span>) {
                <span class="hljs-keyword">self</span>.printMetrics(for: task)
            }
        }
        
        task.resume()
    }
    
    <span class="hljs-keyword">@available</span>(<span class="hljs-keyword">iOS</span> <span class="hljs-number">10.0</span>, <span class="hljs-operator">*</span>)
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">printMetrics</span>(<span class="hljs-params">for</span> <span class="hljs-params">task</span>: <span class="hljs-type">URLSessionTask</span>) {
        task.getMetrics { metrics <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> metrics <span class="hljs-operator">=</span> metrics <span class="hljs-keyword">else</span> { <span class="hljs-keyword">return</span> }
            
            <span class="hljs-comment">// åˆ†ææ—¶é—´çº¿</span>
            <span class="hljs-keyword">let</span> transactionMetrics <span class="hljs-operator">=</span> metrics.transactionMetrics
            
            <span class="hljs-keyword">for</span> metric <span class="hljs-keyword">in</span> transactionMetrics {
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"=== è¯·æ±‚æŒ‡æ ‡åˆ†æ ==="</span>)
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"URL: <span class="hljs-subst">\(metric.request.url<span class="hljs-operator">?</span>.absoluteString <span class="hljs-operator">??</span> <span class="hljs-string">"N/A"</span>)</span>"</span>)
                
                <span class="hljs-comment">// DNSæŸ¥è¯¢æ—¶é—´</span>
                <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> domainLookupStart <span class="hljs-operator">=</span> metric.domainLookupStartDate,
                   <span class="hljs-keyword">let</span> domainLookupEnd <span class="hljs-operator">=</span> metric.domainLookupEndDate {
                    <span class="hljs-keyword">let</span> dnsTime <span class="hljs-operator">=</span> domainLookupEnd.timeIntervalSince(domainLookupStart)
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"DNSè§£ææ—¶é—´: <span class="hljs-subst">\(String(format: <span class="hljs-string">"%.3f"</span>, dnsTime <span class="hljs-operator">*</span> <span class="hljs-number">1000</span>))</span>ms"</span>)
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"DNSè§£ææ—¶é—´: ä½¿ç”¨ç¼“å­˜æˆ–æ— æ³•æµ‹é‡"</span>)
                }
                
                <span class="hljs-comment">// TCPæ¡æ‰‹æ—¶é—´</span>
                <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> connectStart <span class="hljs-operator">=</span> metric.connectStartDate,
                   <span class="hljs-keyword">let</span> connectEnd <span class="hljs-operator">=</span> metric.connectEndDate {
                    <span class="hljs-keyword">let</span> tcpTime <span class="hljs-operator">=</span> connectEnd.timeIntervalSince(connectStart)
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"TCPè¿æ¥æ—¶é—´: <span class="hljs-subst">\(String(format: <span class="hljs-string">"%.3f"</span>, tcpTime <span class="hljs-operator">*</span> <span class="hljs-number">1000</span>))</span>ms"</span>)
                }
                
                <span class="hljs-comment">// TLSæ¡æ‰‹æ—¶é—´</span>
                <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> secureStart <span class="hljs-operator">=</span> metric.secureConnectionStartDate,
                   <span class="hljs-keyword">let</span> secureEnd <span class="hljs-operator">=</span> metric.secureConnectionEndDate {
                    <span class="hljs-keyword">let</span> tlsTime <span class="hljs-operator">=</span> secureEnd.timeIntervalSince(secureStart)
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"TLSæ¡æ‰‹æ—¶é—´: <span class="hljs-subst">\(String(format: <span class="hljs-string">"%.3f"</span>, tlsTime <span class="hljs-operator">*</span> <span class="hljs-number">1000</span>))</span>ms"</span>)
                }
                
                <span class="hljs-comment">// æ€»æ—¶é—´</span>
                <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> fetchStart <span class="hljs-operator">=</span> metric.fetchStartDate,
                   <span class="hljs-keyword">let</span> responseEnd <span class="hljs-operator">=</span> metric.responseEndDate {
                    <span class="hljs-keyword">let</span> totalTime <span class="hljs-operator">=</span> responseEnd.timeIntervalSince(fetchStart)
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ€»è¯·æ±‚æ—¶é—´: <span class="hljs-subst">\(String(format: <span class="hljs-string">"%.3f"</span>, totalTime <span class="hljs-operator">*</span> <span class="hljs-number">1000</span>))</span>ms"</span>)
                }
                
                <span class="hljs-comment">// ç½‘ç»œåè®®</span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç½‘ç»œåè®®: <span class="hljs-subst">\(metric.networkProtocolType <span class="hljs-operator">??</span> <span class="hljs-string">"unknown"</span>)</span>"</span>)
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ˜¯å¦ä»£ç†è¿æ¥: <span class="hljs-subst">\(metric.isProxyConnection)</span>"</span>)
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ˜¯å¦é‡ç”¨è¿æ¥: <span class="hljs-subst">\(metric.isReusedConnection)</span>"</span>)
            }
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">let</span> monitor <span class="hljs-operator">=</span> <span class="hljs-type">NetworkMonitor</span>()
monitor.performRequestWithMetrics(urlString: <span class="hljs-string">"https://httpbin.org/get"</span>)
</code></pre>
<h2 data-id="heading-17"><strong>äº”ã€ç§»åŠ¨ç«¯å¼€å‘æœ€ä½³å®è·µ</strong></h2>
<h3 data-id="heading-18"><strong>5.1 iOSä¸­çš„ç½‘ç»œä¼˜åŒ–</strong></h3>
<p><strong>ä½¿ç”¨åˆé€‚çš„ç¼“å­˜ç­–ç•¥</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> configuration <span class="hljs-operator">=</span> <span class="hljs-type">URLSessionConfiguration</span>.default

<span class="hljs-comment">// è®¾ç½®æ ¹æ®æƒ…å†µåˆç†çš„ç¼“å­˜ç­–ç•¥</span>
configuration.requestCachePolicy <span class="hljs-operator">=</span> .useProtocolCachePolicy
configuration.urlCache <span class="hljs-operator">=</span> <span class="hljs-type">URLCache</span>(
    memoryCapacity: <span class="hljs-number">50</span> <span class="hljs-operator">*</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">1024</span>,  <span class="hljs-comment">// 50MBå†…å­˜ç¼“å­˜</span>
    diskCapacity: <span class="hljs-number">500</span> <span class="hljs-operator">*</span> <span class="hljs-number">1024</span> <span class="hljs-operator">*</span> <span class="hljs-number">1024</span>,   <span class="hljs-comment">// 500MBç£ç›˜ç¼“å­˜</span>
    diskPath: <span class="hljs-string">"CustomCache"</span>
)

<span class="hljs-comment">// é…ç½®è¿æ¥é™åˆ¶ï¼ˆiOS 11+ï¼‰</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">#available</span>(<span class="hljs-keyword">iOS</span> <span class="hljs-number">11.0</span>, <span class="hljs-operator">*</span>) {
    configuration.httpMaximumConnectionsPerHost <span class="hljs-operator">=</span> <span class="hljs-number">6</span>
}
</code></pre>
<p><strong>å¤„ç†ç½‘ç»œåˆ‡æ¢</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Network

<span class="hljs-keyword">class</span> <span class="hljs-title class_">NetworkManager</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> monitor <span class="hljs-operator">=</span> <span class="hljs-type">NWPathMonitor</span>()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> currentPath: <span class="hljs-type">NWPath</span>?
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">startMonitoring</span>() {
        monitor.pathUpdateHandler <span class="hljs-operator">=</span> { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] path <span class="hljs-keyword">in</span>
            <span class="hljs-keyword">self</span><span class="hljs-operator">?</span>.currentPath <span class="hljs-operator">=</span> path
            
            <span class="hljs-keyword">if</span> path.status <span class="hljs-operator">==</span> .satisfied {
                <span class="hljs-comment">// ç½‘ç»œå¯ç”¨</span>
                <span class="hljs-keyword">if</span> path.usesInterfaceType(.wifi) {
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"åˆ‡æ¢åˆ°WiFi"</span>)
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> path.usesInterfaceType(.cellular) {
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"åˆ‡æ¢åˆ°èœ‚çªç½‘ç»œ"</span>)
                }
                
                <span class="hljs-comment">// ç½‘ç»œåˆ‡æ¢æ—¶æ¸…é™¤DNSç¼“å­˜</span>
                <span class="hljs-keyword">self</span><span class="hljs-operator">?</span>.clearDNSCache()
            }
        }
        monitor.start(queue: .global())
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">clearDNSCache</span>() {
        <span class="hljs-comment">// æ³¨æ„ï¼šiOSæ²¡æœ‰ç›´æ¥æ¸…é™¤DNSç¼“å­˜çš„API</span>
        <span class="hljs-comment">// å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼é—´æ¥è§¦å‘åˆ·æ–°ï¼š</span>
        <span class="hljs-comment">// 1. é‡æ–°åˆ›å»ºURLSession</span>
        <span class="hljs-comment">// 2. ä½¿ç”¨æ–°çš„NWParameters</span>
        <span class="hljs-comment">// 3. ç­‰å¾…ç³»ç»Ÿè‡ªåŠ¨åˆ·æ–°ï¼ˆé€šå¸¸å¾ˆå¿«ï¼‰</span>
    }
}
</code></pre>
<h3 data-id="heading-19"><strong>5.2 é”™è¯¯å¤„ç†ä¸é‡è¯•æœºåˆ¶</strong></h3>
<p><strong>æ™ºèƒ½é‡è¯•ç­–ç•¥</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> Alamofire

<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NetworkService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> session: <span class="hljs-type">Session</span>
    
    <span class="hljs-keyword">init</span>() {
        <span class="hljs-keyword">let</span> configuration <span class="hljs-operator">=</span> <span class="hljs-type">URLSessionConfiguration</span>.default
        configuration.timeoutIntervalForRequest <span class="hljs-operator">=</span> <span class="hljs-number">30</span>
        
        <span class="hljs-comment">// é…ç½®é‡è¯•ç­–ç•¥</span>
        <span class="hljs-keyword">let</span> retryPolicy <span class="hljs-operator">=</span> <span class="hljs-type">RetryPolicy</span>(
            retryLimit: <span class="hljs-number">3</span>,
            exponentialBackoffBase: <span class="hljs-number">2</span>,
            exponentialBackoffScale: <span class="hljs-number">0.5</span>
        )
        
        session <span class="hljs-operator">=</span> <span class="hljs-type">Session</span>(
            configuration: configuration,
            interceptor: retryPolicy
        )
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">requestWithRetry</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">url</span>: <span class="hljs-type">String</span>) {
        session.request(url)
            .validate()
            .responseDecodable(of: <span class="hljs-type">ResponseType</span>.<span class="hljs-keyword">self</span>) { response <span class="hljs-keyword">in</span>
                <span class="hljs-keyword">switch</span> response.result {
                <span class="hljs-keyword">case</span> .success(<span class="hljs-keyword">let</span> data):
                    <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¯·æ±‚æˆåŠŸ: <span class="hljs-subst">\(data)</span>"</span>)
                <span class="hljs-keyword">case</span> .failure(<span class="hljs-keyword">let</span> error):
                    <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> afError <span class="hljs-operator">=</span> error.asAFError,
                       afError.isSessionTaskError,
                       <span class="hljs-keyword">let</span> urlError <span class="hljs-operator">=</span> afError.underlyingError <span class="hljs-keyword">as?</span> <span class="hljs-type">URLError</span> {
                        
                        <span class="hljs-keyword">switch</span> urlError.code {
                        <span class="hljs-keyword">case</span> .cannotFindHost, .dnsLookupFailed:
                            <span class="hljs-built_in">print</span>(<span class="hljs-string">"DNSé”™è¯¯ï¼Œå°è¯•å¤‡ç”¨åŸŸå"</span>)
                            <span class="hljs-keyword">self</span>.tryBackupDomain(url)
                        <span class="hljs-keyword">case</span> .notConnectedToInternet:
                            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç½‘ç»œæœªè¿æ¥"</span>)
                        <span class="hljs-keyword">case</span> .timedOut:
                            <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¯·æ±‚è¶…æ—¶"</span>)
                        <span class="hljs-keyword">default</span>:
                            <span class="hljs-built_in">print</span>(<span class="hljs-string">"å…¶ä»–ç½‘ç»œé”™è¯¯: <span class="hljs-subst">\(urlError)</span>"</span>)
                        }
                    }
                }
            }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">func</span> <span class="hljs-title function_">tryBackupDomain</span>(<span class="hljs-keyword">_</span> <span class="hljs-params">originalUrl</span>: <span class="hljs-type">String</span>) {
        <span class="hljs-comment">// å®ç°å¤‡ç”¨åŸŸåé€»è¾‘</span>
        <span class="hljs-keyword">let</span> backupUrl <span class="hljs-operator">=</span> originalUrl.replacingOccurrences(
            of: <span class="hljs-string">"api.example.com"</span>,
            with: <span class="hljs-string">"api-backup.example.com"</span>
        )
        session.request(backupUrl).response { <span class="hljs-keyword">_</span> <span class="hljs-keyword">in</span> }
    }
}
</code></pre>
<h2 data-id="heading-20"><strong>å…­ã€å®‰å…¨è€ƒé‡</strong></h2>
<h3 data-id="heading-21"><strong>6.1 DNSå®‰å…¨å¨èƒ</strong></h3>
<p><strong>å¸¸è§çš„DNSæ”»å‡»</strong>ï¼š</p>
<ol>
<li><strong>DNSåŠ«æŒ</strong>ï¼šç¯¡æ”¹DNSå“åº”ï¼ŒæŒ‡å‘æ¶æ„æœåŠ¡å™¨</li>
<li><strong>DNSæ±¡æŸ“</strong>ï¼šç¼“å­˜æŠ•æ¯’ï¼Œä¼ æ’­é”™è¯¯è®°å½•</li>
<li><strong>DNSæ”¾å¤§æ”»å‡»</strong>ï¼šåˆ©ç”¨DNSæœåŠ¡å™¨è¿›è¡ŒDDoS</li>
</ol>
<p><strong>é˜²æŠ¤æªæ–½</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä½¿ç”¨HTTPSé˜²æ­¢ä¸­é—´äººæ”»å‡»</span>
<span class="hljs-keyword">let</span> configuration <span class="hljs-operator">=</span> <span class="hljs-type">URLSessionConfiguration</span>.default

<span class="hljs-comment">// å¯ç”¨ATSï¼ˆApp Transport Securityï¼‰</span>
<span class="hljs-comment">// iOSé»˜è®¤è¦æ±‚HTTPSï¼Œå¯åœ¨Info.plistä¸­é…ç½®ä¾‹å¤–</span>
<span class="hljs-comment">/*
&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;
&lt;dict&gt;
    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;
    &lt;false/&gt;
    &lt;key&gt;NSExceptionDomains&lt;/key&gt;
    &lt;dict&gt;
        &lt;key&gt;example.com&lt;/key&gt;
        &lt;dict&gt;
            &lt;key&gt;NSIncludesSubdomains&lt;/key&gt;
            &lt;true/&gt;
            &lt;key&gt;NSTemporaryExceptionAllowsInsecureHTTPLoads&lt;/key&gt;
            &lt;true/&gt;
        &lt;/dict&gt;
    &lt;/dict&gt;
&lt;/dict&gt;
*/</span>

<span class="hljs-comment">// è¯ä¹¦é”å®šï¼ˆCertificate Pinningï¼‰</span>
<span class="hljs-keyword">let</span> serverTrustPolicies: [<span class="hljs-type">String</span>: <span class="hljs-type">ServerTrustEvaluating</span>] <span class="hljs-operator">=</span> [
    <span class="hljs-string">"api.example.com"</span>: <span class="hljs-type">PinnedCertificatesTrustEvaluator</span>()
]

<span class="hljs-keyword">let</span> session <span class="hljs-operator">=</span> <span class="hljs-type">Session</span>(
    serverTrustManager: <span class="hljs-type">ServerTrustManager</span>(evaluators: serverTrustPolicies)
)
</code></pre>
<h3 data-id="heading-22"><strong>6.2 éšç§ä¿æŠ¤</strong></h3>
<p><strong>å‡å°‘DNSæ³„éœ²</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä½¿ç”¨æœ¬åœ°DNSè§£æ</span>
<span class="hljs-keyword">import</span> dnssd

<span class="hljs-comment">// æˆ–ä½¿ç”¨åŠ å¯†çš„DNSï¼ˆDNS over TLS/HTTPSï¼‰</span>
<span class="hljs-keyword">let</span> parameters <span class="hljs-operator">=</span> <span class="hljs-type">NWParameters</span>.tls
<span class="hljs-keyword">if</span> <span class="hljs-keyword">#available</span>(<span class="hljs-keyword">iOS</span> <span class="hljs-number">14.0</span>, <span class="hljs-operator">*</span>) {
    <span class="hljs-comment">// é…ç½®åŠ å¯†DNS</span>
    <span class="hljs-keyword">let</span> options <span class="hljs-operator">=</span> <span class="hljs-type">NWProtocolTLS</span>.<span class="hljs-type">Options</span>()
    <span class="hljs-comment">// è®¾ç½®DNS over TLS</span>
}
</code></pre>
<h2 data-id="heading-23"><strong>æ€»ç»“</strong></h2>
<p>DNSåŸŸåè§£ææ˜¯äº’è”ç½‘é€šä¿¡çš„åŸºçŸ³ï¼Œç†è§£å…¶å·¥ä½œåŸç†å’Œä¼˜åŒ–ç­–ç•¥å¯¹äºæ„å»ºé«˜æ€§èƒ½åº”ç”¨è‡³å…³é‡è¦ã€‚ä»ä¼ ç»Ÿçš„é€’å½’æŸ¥è¯¢åˆ°ç°ä»£çš„HTTPDNSï¼Œä»TCPçš„ä¸‰æ¬¡æ¡æ‰‹åˆ°QUICçš„é›¶å¾€è¿”è¿æ¥ï¼Œç½‘ç»œæŠ€æœ¯æ­£åœ¨ä¸æ–­æ¼”è¿›ã€‚</p>
<p><strong>å…³é”®è¦ç‚¹</strong>ï¼š</p>
<ol>
<li><strong>ç†è§£å®Œæ•´æµç¨‹</strong>ï¼šDNSè§£æåªæ˜¯å¼€å§‹ï¼Œåç»­è¿˜æœ‰TCPæ¡æ‰‹ã€TLSåå•†ç­‰æ­¥éª¤</li>
<li><strong>é€‰æ‹©åˆé€‚åè®®</strong>ï¼šæ ¹æ®åœºæ™¯é€‰æ‹©HTTP/2æˆ–HTTP/3</li>
<li><strong>å®æ–½æ™ºèƒ½ä¼˜åŒ–</strong>ï¼šä½¿ç”¨é¢„è§£æã€HTTPDNSã€è¿æ¥å¤ç”¨ç­‰æŠ€æœ¯</li>
<li><strong>å¤„ç†è¾¹ç•Œæƒ…å†µ</strong>ï¼šç½‘ç»œåˆ‡æ¢ã€DNSå¤±è´¥ã€é«˜å»¶è¿Ÿç¯å¢ƒ</li>
<li><strong>é‡è§†å®‰å…¨éšç§</strong>ï¼šé˜²æ­¢DNSåŠ«æŒï¼Œä¿æŠ¤ç”¨æˆ·æ•°æ®</li>
</ol>
<p>é€šè¿‡æœ¬æ–‡çš„æ·±å…¥è§£æï¼Œå¸Œæœ›ä½ èƒ½æŒæ¡DNSåŸŸåè§£æçš„å…¨è²Œï¼Œå¹¶åœ¨å®é™…å¼€å‘ä¸­åº”ç”¨è¿™äº›ä¼˜åŒ–æŠ€å·§ï¼Œæ‰“é€ æ›´å¿«ã€æ›´ç¨³å®šã€æ›´å®‰å…¨çš„ç½‘ç»œåº”ç”¨ã€‚</p>
<hr/>
<p><em>ä¸‹ä¸€ç¯‡é¢„å‘Šï¼šæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨HTTP/3å’ŒQUICåè®®ï¼Œè§£æå…¶å¦‚ä½•å½»åº•è§£å†³é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼Œä»¥åŠåœ¨å®é™…é¡¹ç›®ä¸­çš„éƒ¨ç½²å®è·µã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VSCode é‡ç£…æ›´æ–°ï¼è¦æ”¶è´¹äº†ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7588140921249136678</link>    <guid>https://juejin.cn/post/7588140921249136678</guid>    <pubDate>2025-12-28T13:21:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588140921249136678" data-draft-id="7585789195868815396" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VSCode é‡ç£…æ›´æ–°ï¼è¦æ”¶è´¹äº†ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Visual Studio Code"/> <meta itemprop="datePublished" content="2025-12-28T13:21:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å¼€å‘çˆ±å¥½è€…"/> <meta itemprop="url" content="https://juejin.cn/user/1116759545088190"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VSCode é‡ç£…æ›´æ–°ï¼è¦æ”¶è´¹äº†ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1116759545088190/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å¼€å‘çˆ±å¥½è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T13:21:16.000Z" title="Sun Dec 28 2025 13:21:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¾®è½¯åœ¨å‰å‡ å¤©æ¨é€äº† <strong>VS Code 1.107</strong> ç‰ˆæœ¬ï¼Œè¿™æ˜¯ <strong>2025</strong> å¹´æœ€é‡ç£…çš„ä¸€æ¬¡æ›´æ–°ã€‚</p>
<p>è¡¨é¢çœ‹æ˜¯**ã€ŒAI ç¼–ç¨‹é©å‘½ã€**ï¼ŒèƒŒåå´è—ç€ä¸€ä¸ªè®© <strong>6000 ä¸‡</strong>å¼€å‘è€…å¿ƒç¢çš„çœŸç›¸ï¼š<strong>é‚£ä¸ªæ›¾ç»å®Œå…¨å…è´¹çš„ VS Codeï¼Œå¼€å§‹æ”¶ç½‘äº†ã€‚</strong></p>
<h2 data-id="heading-0">IntelliCode æ­£å¼ä¸‹çº¿ï¼šå…è´¹æ—¶ä»£çš„ç»ˆç»“</h2>
<p><strong>ã€ŒIntelliCode æ’ä»¶å·²åœæ­¢æœåŠ¡ã€‚ã€</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4eb0a0265194968aaa8c405e8e38f43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5Y-R54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767532875&amp;x-signature=4mPT4D5PDcufkKUj55zn2wobSBM%3D" alt="" loading="lazy"/></p>
<p>å½“å¼€å‘è€…åƒå¾€å¸¸ä¸€æ ·æ‰“å¼€ <strong>VS Code</strong>ï¼Œè¿æ¥ä»–ä»¬çš„ä¸æ˜¯æ–°åŠŸèƒ½ä»‹ç»ï¼Œè€Œæ˜¯ä¸€åˆ™å†°å†·çš„<strong>åœæœ</strong>é€šçŸ¥ã€‚</p>
<p>è¿™ä¸ªæ›¾ä¸º <code>Python</code>ã€<code>JavaScript</code>ã€<code>TypeScript</code>ã€<code>Java</code>ã€<code>C#</code> ç­‰ä¸»æµè¯­è¨€æä¾›å…è´¹ <strong>AI</strong> ä»£ç è¡¥å…¨çš„å·¥å…·ï¼Œç´¯è®¡æœåŠ¡è¶…è¿‡ <strong>6000</strong> ä¸‡å¼€å‘è€…ï¼Œå¦‚ä»Šè¯´å…³å°±å…³ã€‚</p>
<p>å¾®è½¯ç»™å‡ºçš„ã€Œå®˜æ–¹ç†ç”±ã€å¾ˆä½“é¢ï¼š<code>ã€Œä¸ºäº†æä¾›æ›´ç»Ÿä¸€çš„ AI å¼€å‘ä½“éªŒã€‚ã€</code></p>
<p>å…¶å®å†…æ¶µçš„æ„æ€å°±æ˜¯ï¼š<strong>å…è´¹å·¥å…·å¿…é¡»è®©è·¯ç»™ä»˜è´¹æœåŠ¡ GitHub Copilotã€‚</strong></p>
<ul>
<li><strong>IntelliCode</strong>ï¼š<code>å®Œå…¨å…è´¹</code>ï¼Œæœ¬åœ°æ¨¡å‹ï¼Œå“åº”é£å¿«</li>
<li><strong>GitHub Copilot</strong>ï¼šæ¯æœˆ <code>2000æ¬¡</code>å…è´¹é¢åº¦ï¼Œè¶…å‡ºå¿…é¡»ä»˜è´¹è®¢é˜…</li>
</ul>
<p>ä¸€ä½å¼€å‘è€…åœ¨ <strong>GitHub</strong> <code>issue</code> é‡Œæ„¤æ€’å†™é“ï¼š<code>ã€Œä»–ä»¬å…ˆåŸ¹å…»ç”¨æˆ·ä¹ æƒ¯ï¼Œå†å…³é—¨æ”¶è´¹ï¼Œè¿™æ‹›å¤ªç†Ÿæ‚‰äº†ã€‚ã€</code></p>
<h2 data-id="heading-1">ç»ˆç«¯ç»ˆäºå¼€çªäº†</h2>
<p>åæ§½å½’åæ§½ï¼Œæ–°åŠŸèƒ½ç¡®å®é¦™ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c33cae428a314ddaa52d664331d61292~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5Y-R54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767532875&amp;x-signature=RtBdCFC%2BKZQm6mzFgyxrZs%2B48l4%3D" alt="" loading="lazy"/></p>
<p>ç‰¹åˆ«æ˜¯ç»ˆç«¯ï¼Œç»ˆäºä¸å†æ˜¯é‚£ä¸ªå‚»ä¹ä¹çš„é»‘æ¡†æ¡†äº†ã€‚</p>
<p>ç°åœ¨æ•²å‘½ä»¤è·Ÿè£…äº†å¤–æŒ‚ä¼¼çš„ï¼š</p>
<pre><code class="hljs language-css" lang="css"># è¾“åˆ°ä¸€åŠå®ƒå°±æ‡‚äº†
$ git ch
<span class="hljs-selector-attr">[è‡ªåŠ¨å¼¹å‡º]</span> git checkout / git cherry-pick / git commit ...

# è¿å‚æ•°éƒ½ç»™ä½ åˆ†å¥½ç±»
$ docker run
<span class="hljs-selector-attr">[å¿…å¡«å‚æ•°]</span> <span class="hljs-attr">--name</span> / -<span class="hljs-selector-tag">p</span> / -v
<span class="hljs-selector-attr">[å¯é€‰å‚æ•°]</span> -d / -it / <span class="hljs-attr">--rm</span>
</code></pre>
<p>æœ€ç‰›çš„æ˜¯ <strong>Copilot</strong> æ‰§è¡Œå‘½ä»¤é‚£ä¼šå„¿ï¼Œè¾“å‡ºä¸å†æ˜¯ä¹±ç³Ÿç³Ÿçš„æ–‡æœ¬ï¼Œè€Œæ˜¯æ­£ç»çš„<strong>ç»ˆç«¯æ¸²æŸ“</strong>ï¼Œè¡¨æ ¼ã€é¢œè‰²ã€å¯¹é½å…¨éƒ½å¯¹å‘³äº†ã€‚</p>
<p>ç»ˆäºæœ‰ç‚¹ç°ä»£åŒ–å¼€å‘å·¥å…·çš„æ ·å­ã€‚</p>
<h2 data-id="heading-2">TypeScript 7.0 é¢„è§ˆç‰ˆ</h2>
<p>è¿™æ¬¡æ›´æ–°å¹¶éå…¨æ˜¯ã€Œåæ¶ˆæ¯ã€ã€‚<strong>TypeScript 7.0</strong> é¢„è§ˆç‰ˆç¡®å®å¸¦æ¥äº†è‚‰çœ¼å¯è§çš„æ€§èƒ½æå‡ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80a1dd5e4e4d4a009d488ce191b640ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5Y-R54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767532875&amp;x-signature=n7QTB0feG9GdA%2F%2BwIx2PVFazLQU%3D" alt="" loading="lazy"/></p>
<ul>
<li><strong>åŠ è½½é€Ÿåº¦æå‡ 10 å€</strong>ï¼šå¤§å‹é¡¹ç›®ç§’çº§å“åº”</li>
<li><strong>å†…å­˜å ç”¨é™ä½ 60%</strong>ï¼š16GB å†…å­˜ç»ˆäºå¤Ÿç”¨</li>
<li><strong>åŸç”Ÿçº§æ€§èƒ½</strong>ï¼šGo è¯­è¨€é‡å†™çš„ç¼–è¯‘å™¨</li>
</ul>
<p>ä½†äº«å—è¿™äº›æå‡çš„å‰ææ˜¯ï¼š<strong>ä½ å¿…é¡»åœ¨ VS Code å†…ä½¿ç”¨ TypeScript 7.0ã€‚</strong></p>
<p>å¾®è½¯é¦–å¸­äº§å“ç»ç†ä¸¹å°¼å°”Â·ç½—æ£®ç“¦ç‘Ÿè¯´å¾—ç›´ç™½ï¼š<strong>ã€ŒTypeScript 7.0 è®©ç¼–è¾‘å™¨å“åº”æ›´æµç•…ï¼Œæˆ‘ä»¬å¸Œæœ›å¼€å‘è€…ç•™åœ¨ VS Code ç”Ÿæ€é‡Œã€‚ã€</strong></p>
<h2 data-id="heading-3">å¤šæ™ºèƒ½ä½“ç¼–æ’ï¼šå¾®è½¯çš„ç»ˆææ”¶ç½‘</h2>
<p>æœ€è€äººå¯»å‘³çš„æ˜¯**ã€Œå¤šæ™ºèƒ½ä½“ç¼–æ’ã€**åŠŸèƒ½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c8dde5abe4b493ba85b3a8c78ff294e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YmN56uv5byA5Y-R54ix5aW96ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767532875&amp;x-signature=LkR999SscZMJeJJucwNifN6muw4%3D" alt="" loading="lazy"/></p>
<p><strong>VS Code</strong> ç°åœ¨æ”¯æŒï¼š</p>
<ul>
<li><strong>Agent HQ</strong>ï¼šç»Ÿä¸€ç®¡ç†å¤šä¸ª <strong>AI</strong> æ™ºèƒ½ä½“</li>
<li><strong>åå°æ™ºèƒ½ä½“</strong>ï¼šå¹¶è¡Œå¤„ç†å¤šä¸ªå¼€å‘ä»»åŠ¡</li>
<li><strong>äº‘ç«¯æ™ºèƒ½ä½“</strong>ï¼šæŠŠç¹é‡è®¡ç®—è½¬ç§»åˆ°å¾®è½¯æœåŠ¡å™¨</li>
</ul>
<p>çœ‹èµ·æ¥æ˜¯æŠ€æœ¯å‡çº§ï¼Œå®åˆ™æ˜¯<strong>å•†ä¸šæ¨¡å¼çš„ç»ˆæé—­ç¯</strong>ï¼š</p>
<ol>
<li><strong>æœ¬åœ°æ™ºèƒ½ä½“</strong>ï¼šæ¶ˆè€—ä½ çš„ç”µè„‘æ€§èƒ½</li>
<li><strong>åå°æ™ºèƒ½ä½“</strong>ï¼šæ¶ˆè€—ä½ çš„ç½‘ç»œå¸¦å®½</li>
<li><strong>äº‘ç«¯æ™ºèƒ½ä½“</strong>ï¼šæ¶ˆè€—ä½ çš„ <strong>Copilot</strong> è®¢é˜…é¢åº¦</li>
</ol>
<p>ä¸€ä½æ¶æ„å¸ˆçœ‹å‡ºé—¨é“ï¼š<strong>ã€Œå¾®è½¯åœ¨æ„å»º AI ç¼–ç¨‹çš„ã€æ“ä½œç³»ç»Ÿã€ï¼Œå¼€å‘è€…å°±åƒåº”ç”¨ï¼Œè·‘åœ¨ä»–ä»¬çš„å¹³å°ä¸Šï¼ŒæŒ‰æ¬¡ä»˜è´¹ã€‚ã€</strong></p>
<h2 data-id="heading-4">å†™åœ¨æœ€å</h2>
<p><strong>VS Code</strong> çš„æ”¶è´¹åŒ–ï¼Œæ ‡å¿—ç€<strong>å¼€å‘è€…å·¥å…·å…è´¹æ—¶ä»£çš„ç»ˆç»“</strong>ã€‚</p>
<p>ä» <strong>GitHub</strong> è¢«å¾®è½¯æ”¶è´­ï¼Œåˆ° <strong>Copilot</strong> ä»˜è´¹è®¢é˜…ï¼Œå†åˆ° <strong>IntelliCode</strong> é»¯ç„¶é€€åœºï¼Œä¸€æ¡æ¸…æ™°çš„è·¯å¾„æµ®ç°å‡ºæ¥ï¼š</p>
<blockquote>
<p><strong>å…ˆå…è´¹è·å–ç”¨æˆ· â†’ å†åŸ¹å…»ä¾èµ–ä¹ æƒ¯ â†’ æœ€åæ”¶è´¹å˜ç°</strong></p>
</blockquote>
<p>è¿™ä¸æ˜¯é˜´è°‹è®ºï¼Œè¿™æ˜¯<strong>å•†ä¸šè§„å¾‹</strong>ã€‚</p>
<p>æ­£å¦‚ä¸€ä½å¼€å‘è€…åœ¨ <strong>Hacker News</strong> ä¸Šçš„è¯„è®ºï¼š<strong>ã€Œæˆ‘ä»¬äº«å—äº†åå¹´å…è´¹çš„é¡¶çº§å¼€å‘å·¥å…·ï¼Œæ˜¯æ—¶å€™ä¸ºä»·å€¼ä»˜è´¹äº†ã€‚åªæ˜¯å¸Œæœ›å¾®è½¯åˆ«å¿˜äº†ï¼šå¼€å‘è€…ä¸æ˜¯å¾…å®°çš„ç¾”ç¾Šï¼Œè€Œæ˜¯ç”Ÿæ€çš„æ ¹åŸºã€‚ã€</strong></p>
<p><strong>VS Code è¿˜æ˜¯å¾ˆå¥½ï¼Œåªæ˜¯ä¸å†å…è´¹ã€‚</strong></p>
<p>æ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯ï¼š<strong>ä½ æ„¿æ„ä¸º AI ç¼–ç¨‹åŠ©æ‰‹ä»˜å¤šå°‘é’±ï¼Ÿ</strong></p>
<p><em>æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ <strong>VS Code</strong> ä»˜è´¹ç­–ç•¥ã€‚æ˜¯ç²¾æ‰“ç»†ç®—ï¼Ÿæ˜¯æŠ€æœ¯æŠµæŠ—ï¼Ÿè¿˜æ˜¯é¡ºåŠ¿è€Œä¸ºï¼Ÿ</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C# æ­£åˆ™è¡¨è¾¾å¼ï¼ˆ4ï¼‰ï¼šåˆ†æ”¯ä¸å›æº¯å¼•ç”¨]]></title>    <link>https://juejin.cn/post/7588365276191129638</link>    <guid>https://juejin.cn/post/7588365276191129638</guid>    <pubDate>2025-12-28T13:24:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588365276191129638" data-draft-id="7585474459776155684" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C# æ­£åˆ™è¡¨è¾¾å¼ï¼ˆ4ï¼‰ï¼šåˆ†æ”¯ä¸å›æº¯å¼•ç”¨"/> <meta itemprop="keywords" content="å‰ç«¯,C#,æ­£åˆ™è¡¨è¾¾å¼"/> <meta itemprop="datePublished" content="2025-12-28T13:24:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çƒ›é˜´"/> <meta itemprop="url" content="https://juejin.cn/user/950397795841032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C# æ­£åˆ™è¡¨è¾¾å¼ï¼ˆ4ï¼‰ï¼šåˆ†æ”¯ä¸å›æº¯å¼•ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/950397795841032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çƒ›é˜´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T13:24:39.000Z" title="Sun Dec 28 2025 13:24:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€åˆ†æ”¯ <code>|</code>ï¼šåœ¨å¤šä¸ªå€™é€‰ä¸­é€‰ä¸€ä¸ª</h2>
<h3 data-id="heading-1">1. æœ€åŸºæœ¬çš„ <code>|</code></h3>
<pre><code class="hljs language-csharp" lang="csharp">Regex.IsMatch(<span class="hljs-string">"my dog"</span>, <span class="hljs-string">@"cat|dog"</span>); <span class="hljs-comment">// True</span>
</code></pre>
<h3 data-id="heading-2">2. åˆ†æ”¯å‡ ä¹æ€»è¦é…åˆåˆ†ç»„</h3>
<p><code>(?:...)</code> æ˜¯éæ•è·åˆ†ç»„ï¼Œç”¨äºâ€œåªåˆ†ç»„ï¼Œä¸æå–â€ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp">Console.WriteLine( Regex.IsMatch(<span class="hljs-string">"https://www.baidu.com"</span>, <span class="hljs-string">@"(?:http|https)://"</span>)); <span class="hljs-comment">// True</span>
</code></pre>
<ul>
<li>æƒ³åŒ¹é… <code>jpg</code>/<code>png</code>/<code>gif</code> ç»“å°¾çš„æ–‡ä»¶åï¼š</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp">Console.WriteLine( Regex.IsMatch(<span class="hljs-string">"a.png"</span>, <span class="hljs-string">@"^.+\.(?:jpg|png|gif)$"</span>)); <span class="hljs-comment">// True</span>
</code></pre>
<hr/>
<h2 data-id="heading-3">äºŒã€åˆ†æ”¯çš„ä¼˜å…ˆçº§ä¸â€œä»å·¦åˆ°å³â€åŒ¹é…</h2>
<p>æ­£åˆ™å¼•æ“é€šå¸¸ä¼šâ€œå…ˆå°è¯•å·¦è¾¹åˆ†æ”¯â€ï¼ŒæˆåŠŸå°±ä¸å†çœ‹å³è¾¹ã€‚</p>
<p>å› æ­¤æŠŠçŸ­åˆ†æ”¯æ”¾åœ¨é•¿åˆ†æ”¯å‰é¢ï¼Œä¼šå¯¼è‡´é•¿åˆ†æ”¯æ°¸è¿œåŒ¹é…ä¸åˆ°ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp">Console.WriteLine( Regex.IsMatch(<span class="hljs-string">"ab"</span>, <span class="hljs-string">@"^(?:ab|a)$"</span>)); <span class="hljs-comment">// True</span>
</code></pre>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€å›æº¯å¼•ç”¨ï¼šè®©åé¢å¿…é¡»â€œé‡å¤å‰é¢åŒ¹é…åˆ°çš„å†…å®¹â€</h2>
<p>å›æº¯å¼•ç”¨ä¾èµ–æ•è·ç»„ï¼š<code>(...)</code>ã€‚</p>
<ul>
<li>æ•°å­—å›æº¯å¼•ç”¨ï¼š<code>\1</code>ã€<code>\2</code>â€¦ï¼ˆå¼•ç”¨ç¬¬ 1ã€2â€¦ä¸ªæ•è·ç»„ï¼‰</li>
<li>å‘½åå›æº¯å¼•ç”¨ï¼š<code>\k&lt;name&gt;</code>ï¼ˆå¼•ç”¨åä¸º name çš„æ•è·ç»„ï¼‰</li>
</ul>
<h3 data-id="heading-5">1. åŒ¹é…æˆå¯¹å¼•å·ï¼ˆå•å¼•å·æˆ–åŒå¼•å·ï¼‰ï¼Œå¹¶ç¡®ä¿å·¦å³ä¸€è‡´</h3>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<p>åŒ¹é… <code>"hello"</code> æˆ– <code>'hello'</code>ï¼Œä½†ä¸å…è®¸ <code>"hello'</code> è¿™ç§å·¦å³ä¸ä¸€è‡´ã€‚</p>
<p>æ­£åˆ™ï¼š</p>
<pre><code class="hljs language-regex" lang="regex">^(["'])(?&lt;content&gt;.*)\1$
</code></pre>
<p><strong>è§£æï¼šï¼š</strong></p>
<ul>
<li><code>(["'])</code> æ•è·ä¸€ä¸ªå¼•å·å­—ç¬¦ï¼ˆå•æˆ–åŒï¼‰ï¼Œè¿™æ˜¯ç»„ 1</li>
<li><code>(?&lt;content&gt;.*)</code> æ•è·å†…å®¹</li>
<li><code>\1</code> è¦æ±‚ç»“å°¾å¼•å·å¿…é¡»å’Œå¼€å¤´å¼•å·å®Œå…¨ç›¸åŒ</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">string</span>[] inputs = { <span class="hljs-string">"\"hello\""</span>, <span class="hljs-string">"'hello'"</span>, <span class="hljs-string">"\"hello'"</span>, <span class="hljs-string">"'hello\""</span> };
<span class="hljs-keyword">var</span> pattern = <span class="hljs-string">@"^([""'])(?&lt;content&gt;.*)\1$"</span>;

<span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> s <span class="hljs-keyword">in</span> inputs)
{
    <span class="hljs-keyword">var</span> m = Regex.Match(s, pattern);
    Console.WriteLine(<span class="hljs-string">$"<span class="hljs-subst">{s}</span> -&gt; <span class="hljs-subst">{m.Success}</span>"</span>);
}
</code></pre>
<h3 data-id="heading-6">2. åŒ¹é…é‡å¤å•è¯ï¼ˆå¦‚ â€œhello helloâ€ï¼‰</h3>
<p>éœ€æ±‚ï¼šåŒ¹é…ä¸¤ä¸ªç›¸åŒå•è¯ï¼Œä¸­é—´ç”¨ç©ºç™½åˆ†éš”ã€‚</p>
<pre><code class="hljs language-regex" lang="regex">\b(\w+)\s+\1\b
</code></pre>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> text = <span class="hljs-string">"This is is a test, hello hello!"</span>;
<span class="hljs-keyword">var</span> pattern = <span class="hljs-string">@"\b(\w+)\s+\1\b"</span>;

<span class="hljs-keyword">foreach</span> (Match m <span class="hljs-keyword">in</span> Regex.Matches(text, pattern))
{
    Console.WriteLine(m.Value); <span class="hljs-comment">// "is is", "hello hello"</span>
}
</code></pre>
<h3 data-id="heading-7">3. å‘½åå›æº¯å¼•ç”¨ï¼š<code>\k&lt;name&gt;</code></h3>
<p>æŠŠå¼•å·ä¾‹å­æ”¹æˆå‘½åæ›´æ¸…æ™°ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">var</span> text = <span class="hljs-string">"This is is a test, hello hello!"</span>;
<span class="hljs-keyword">var</span> pattern = <span class="hljs-string">@"\b(?&lt;word&gt;\w+)\s+\k&lt;word&gt;\b"</span>;

<span class="hljs-keyword">foreach</span> (Match m <span class="hljs-keyword">in</span> Regex.Matches(text, pattern))
{
    Console.WriteLine(m.Value); <span class="hljs-comment">// "is is", "hello hello"</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-8">ç»“è¯­</h2>
<p><strong>ç‚¹ä¸ªèµï¼Œå…³æ³¨æˆ‘è·å–æ›´å¤šå®ç”¨ C# æŠ€æœ¯å¹²è´§ï¼å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè®°å¾—æ”¶è—æœ¬æ–‡</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++è™šå‡½æ•°è¡¨ä¸å¤šé‡ç»§æ‰¿å†…å­˜å¸ƒå±€æ·±åº¦å‰–æ]]></title>    <link>https://juejin.cn/post/7588388014504542250</link>    <guid>https://juejin.cn/post/7588388014504542250</guid>    <pubDate>2025-12-28T13:36:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588388014504542250" data-draft-id="7588191506607390726" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++è™šå‡½æ•°è¡¨ä¸å¤šé‡ç»§æ‰¿å†…å­˜å¸ƒå±€æ·±åº¦å‰–æ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-28T13:36:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++è™šå‡½æ•°è¡¨ä¸å¤šé‡ç»§æ‰¿å†…å­˜å¸ƒå±€æ·±åº¦å‰–æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T13:36:43.000Z" title="Sun Dec 28 2025 13:36:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨C++é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œè™šå‡½æ•°æ˜¯å®ç°è¿è¡Œæ—¶å¤šæ€çš„å…³é”®æœºåˆ¶ã€‚å•ç»§æ‰¿åœºæ™¯ä¸‹çš„è™šå‡½æ•°è¡¨(vtable)å¸ƒå±€ç›¸å¯¹ç›´è§‚ï¼Œä½†å½“æ¶‰åŠåˆ°å¤šé‡ç»§æ‰¿æ—¶ï¼Œæƒ…å†µå°±å˜å¾—å¤æ‚èµ·æ¥ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨è™šå‡½æ•°è¡¨çš„å®ç°åŸç†ï¼Œå¹¶é‡ç‚¹è§£æå¤šé‡ç»§æ‰¿ä¸‹çš„å†…å­˜å¸ƒå±€ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç†è§£C++å¯¹è±¡æ¨¡å‹çš„åº•å±‚æœºåˆ¶ã€‚</p>
<h2 data-id="heading-0">ç¬¬ä¸€éƒ¨åˆ†ï¼šè™šå‡½æ•°è¡¨åŸºç¡€</h2>
<h3 data-id="heading-1">1.1 ä»€ä¹ˆæ˜¯è™šå‡½æ•°è¡¨</h3>
<p>è™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰æ˜¯C++ç¼–è¯‘å™¨ä¸ºæ¯ä¸ªåŒ…å«è™šå‡½æ•°çš„ç±»ç”Ÿæˆçš„é™æ€æ•°æ®è¡¨ï¼Œå­˜å‚¨ç€æŒ‡å‘è¯¥ç±»è™šå‡½æ•°çš„æŒ‡é’ˆã€‚æ¯ä¸ªåŒ…å«è™šå‡½æ•°çš„å¯¹è±¡å®ä¾‹åœ¨å†…å­˜ä¸­éƒ½åŒ…å«ä¸€ä¸ªæŒ‡å‘å¯¹åº”vtableçš„æŒ‡é’ˆï¼ˆvptrï¼‰ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">func1</span><span class="hljs-params">()</span> </span>{ cout &lt;&lt; <span class="hljs-string">"Base::func1"</span> &lt;&lt; endl; }
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">func2</span><span class="hljs-params">()</span> </span>{ cout &lt;&lt; <span class="hljs-string">"Base::func2"</span> &lt;&lt; endl; }
    <span class="hljs-type">int</span> data = <span class="hljs-number">10</span>;
};

<span class="hljs-comment">// å†…å­˜å¸ƒå±€ç¤ºæ„ï¼š</span>
<span class="hljs-comment">// å¯¹è±¡å®ä¾‹:</span>
<span class="hljs-comment">// [vptr] -&gt; æŒ‡å‘Baseçš„vtable</span>
<span class="hljs-comment">// [data] -&gt; 10</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">// Baseçš„vtable:</span>
<span class="hljs-comment">// [0] -&gt; &amp;Base::func1</span>
<span class="hljs-comment">// [1] -&gt; &amp;Base::func2</span>
</code></pre>
<h3 data-id="heading-2">1.2 vptrçš„åˆå§‹åŒ–æ—¶æœº</h3>
<p>vptrçš„åˆå§‹åŒ–å‘ç”Ÿåœ¨æ„é€ å‡½æ•°æ‰§è¡ŒæœŸé—´ï¼š</p>
<ol>
<li>åœ¨è¿›å…¥æ„é€ å‡½æ•°ä½“ä¹‹å‰ï¼Œvptrè¢«è®¾ç½®ä¸ºå½“å‰ç±»çš„vtable</li>
<li>æ„é€ å‡½æ•°ä½“æ‰§è¡Œ</li>
<li>å¦‚æœå­˜åœ¨æ´¾ç”Ÿç±»ï¼Œåœ¨æ´¾ç”Ÿç±»æ„é€ å‡½æ•°ä¸­vpträ¼šè¢«é‡æ–°è®¾ç½®ä¸ºæ´¾ç”Ÿç±»çš„vtable</li>
</ol>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Derived</span>() {
        <span class="hljs-comment">// æ­¤æ—¶vptrå·²ç»æŒ‡å‘Derivedçš„vtable</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">func1</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{ cout &lt;&lt; <span class="hljs-string">"Derived::func1"</span> &lt;&lt; endl; }
};
</code></pre>
<h2 data-id="heading-3">ç¬¬äºŒéƒ¨åˆ†ï¼šå¤šé‡ç»§æ‰¿ä¸‹çš„å†…å­˜å¸ƒå±€</h2>
<h3 data-id="heading-4">2.1 åŸºæœ¬çš„å¤šé‡ç»§æ‰¿å¸ƒå±€</h3>
<p>å½“ç±»ä»å¤šä¸ªåŸºç±»ç»§æ‰¿æ—¶ï¼Œå¯¹è±¡å†…å­˜ä¸­å°†åŒ…å«å¤šä¸ªå­å¯¹è±¡ï¼Œæ¯ä¸ªå­å¯¹è±¡éƒ½æœ‰è‡ªå·±çš„vptrã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base1</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">f1</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> b1_data = <span class="hljs-number">1</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Base2</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">f2</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> b2_data = <span class="hljs-number">2</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base1, <span class="hljs-keyword">public</span> Base2 {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">f1</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{}
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">f2</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{}
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">f3</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> d_data = <span class="hljs-number">3</span>;
};

<span class="hljs-comment">// Derivedå¯¹è±¡å†…å­˜å¸ƒå±€ï¼ˆç®€åŒ–ï¼‰:</span>
<span class="hljs-comment">// [vptr1] -&gt; æŒ‡å‘Derivedä¸­Base1éƒ¨åˆ†çš„vtable</span>
<span class="hljs-comment">// [b1_data] -&gt; 1</span>
<span class="hljs-comment">// [vptr2] -&gt; æŒ‡å‘Derivedä¸­Base2éƒ¨åˆ†çš„vtable  </span>
<span class="hljs-comment">// [b2_data] -&gt; 2</span>
<span class="hljs-comment">// [d_data] -&gt; 3</span>
</code></pre>
<h3 data-id="heading-5">2.2 thisæŒ‡é’ˆè°ƒæ•´æœºåˆ¶</h3>
<p>å¤šé‡ç»§æ‰¿ä¸­æœ€å…³é”®çš„é—®é¢˜æ˜¯thisæŒ‡é’ˆè°ƒæ•´ã€‚å½“é€šè¿‡Base2æŒ‡é’ˆè°ƒç”¨Derivedå¯¹è±¡çš„è™šå‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨éœ€è¦è°ƒæ•´thisæŒ‡é’ˆï¼Œä½¿å…¶æŒ‡å‘Derivedå¯¹è±¡ä¸­çš„Base2å­å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp">Derived* d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Derived</span>();
Base2* b2 = d;  <span class="hljs-comment">// è¿™é‡Œå‘ç”Ÿéšå¼è½¬æ¢ï¼šb2æŒ‡å‘Derivedå¯¹è±¡ä¸­çš„Base2å­å¯¹è±¡</span>

<span class="hljs-comment">// è½¬æ¢è¿‡ç¨‹ç›¸å½“äºï¼š</span>
<span class="hljs-comment">// Base2* b2 = reinterpret_cast&lt;Base2*&gt;(reinterpret_cast&lt;char*&gt;(d) + sizeof(Base1));</span>
</code></pre>
<h3 data-id="heading-6">2.3 å¤šé‡ç»§æ‰¿çš„vtableç»“æ„</h3>
<p>æ¯ä¸ªåŸºç±»åœ¨æ´¾ç”Ÿç±»ä¸­éƒ½æœ‰ç‹¬ç«‹çš„vtableã€‚æ´¾ç”Ÿç±»çš„æ–°è™šå‡½æ•°é€šå¸¸é™„åŠ åˆ°ç¬¬ä¸€ä¸ªåŸºç±»çš„vtableæœ«å°¾ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// Derivedå¯¹è±¡çš„vtableç»“æ„ï¼š</span>

<span class="hljs-comment">// Base1å­å¯¹è±¡çš„vtable (ä¸»vtable):</span>
<span class="hljs-comment">// [0] -&gt; &amp;Derived::f1    // é‡å†™Base1::f1</span>
<span class="hljs-comment">// [1] -&gt; &amp;Base1::f2      // æœªé‡å†™ï¼Œä¿æŒBase1ç‰ˆæœ¬</span>
<span class="hljs-comment">// [2] -&gt; &amp;Derived::f3    // æ–°å¢è™šå‡½æ•°</span>

<span class="hljs-comment">// Base2å­å¯¹è±¡çš„vtable (æ¬¡vtable):</span>
<span class="hljs-comment">// [0] -&gt; &amp;thunk_to_Derived::f2  // éœ€è¦thisè°ƒæ•´çš„è·³è½¬ä»£ç </span>
<span class="hljs-comment">// [1] -&gt; &amp;Base2::other_func     // å…¶ä»–Base2è™šå‡½æ•°</span>
</code></pre>
<h2 data-id="heading-7">ç¬¬ä¸‰éƒ¨åˆ†ï¼šè™šç»§æ‰¿çš„å†…å­˜å¸ƒå±€</h2>
<h3 data-id="heading-8">3.1 è±å½¢ç»§æ‰¿é—®é¢˜</h3>
<p>è™šç»§æ‰¿ç”¨äºè§£å†³è±å½¢ç»§æ‰¿ï¼ˆé’»çŸ³ç»§æ‰¿ï¼‰ä¸­çš„äºŒä¹‰æ€§å’Œæ•°æ®å†—ä½™é—®é¢˜ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> base_data = <span class="hljs-number">10</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Middle1</span> : <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">public</span> Base {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">middle1_func</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> m1_data = <span class="hljs-number">20</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Middle2</span> : <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">public</span> Base {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">middle2_func</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> m2_data = <span class="hljs-number">30</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Middle1, <span class="hljs-keyword">public</span> Middle2 {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">func</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{}
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">derived_func</span><span class="hljs-params">()</span> </span>{}
    <span class="hljs-type">int</span> d_data = <span class="hljs-number">40</span>;
};
</code></pre>
<h3 data-id="heading-9">3.2 è™šåŸºç±»è¡¨ï¼ˆvbtableï¼‰</h3>
<p>è™šç»§æ‰¿å¼•å…¥äº†è™šåŸºç±»è¡¨ï¼ˆvbtableï¼‰æˆ–ç±»ä¼¼æœºåˆ¶ï¼Œç”¨äºå®šä½è™šåŸºç±»å­å¯¹è±¡çš„ä½ç½®ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// Derivedå¯¹è±¡å†…å­˜å¸ƒå±€ï¼ˆå…¸å‹å®ç°ï¼‰:</span>
<span class="hljs-comment">// [vptr_Middle1] -&gt; Middle1çš„vtable (åŒ…å«vbtableåç§»)</span>
<span class="hljs-comment">// [m1_data] -&gt; 20</span>
<span class="hljs-comment">// [vptr_Middle2] -&gt; Middle2çš„vtable (åŒ…å«vbtableåç§»)</span>
<span class="hljs-comment">// [m2_data] -&gt; 30</span>
<span class="hljs-comment">// [d_data] -&gt; 40</span>
<span class="hljs-comment">// [vptr_Base] -&gt; Baseçš„vtable</span>
<span class="hljs-comment">// [base_data] -&gt; 10</span>

<span class="hljs-comment">// æ¯ä¸ªè™šç»§æ‰¿çš„åŸºç±»éƒ½é€šè¿‡è‡ªå·±çš„vtableä¸­çš„ä¸€ä¸ªé¢å¤–æ¡ç›®</span>
<span class="hljs-comment">// æ¥å­˜å‚¨åˆ°è™šåŸºç±»å­å¯¹è±¡çš„åç§»é‡</span>
</code></pre>
<h3 data-id="heading-10">3.3 è™šç»§æ‰¿ä¸‹çš„æ€§èƒ½è€ƒé‡</h3>
<p>è™šç»§æ‰¿å¢åŠ äº†é—´æ¥è®¿é—®çš„å¼€é”€ï¼š</p>
<ol>
<li>é¢å¤–çš„æŒ‡é’ˆè§£å¼•ç”¨è®¿é—®è™šåŸºç±»æˆå‘˜</li>
<li>è™šå‡½æ•°è°ƒç”¨å¯èƒ½éœ€è¦å¤šæ¬¡é—´æ¥å¯»å€</li>
<li>å¯¹è±¡æ„é€ å’Œææ„æ›´å¤æ‚</li>
</ol>
<h2 data-id="heading-11">ç¬¬å››éƒ¨åˆ†ï¼šå®é™…æ¡ˆä¾‹åˆ†æ</h2>
<h3 data-id="heading-12">4.1 æŸ¥çœ‹å†…å­˜å¸ƒå±€çš„å·¥å…·å’Œæ–¹æ³•</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä½¿ç”¨ç¼–è¯‘å™¨ç‰¹å®šåŠŸèƒ½æŸ¥çœ‹å†…å­˜å¸ƒå±€</span>
<span class="hljs-comment">// GCC: -fdump-class-hierarchy é€‰é¡¹</span>
<span class="hljs-comment">// MSVC: /d1reportAllClassLayout é€‰é¡¹</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Example</span>() = <span class="hljs-keyword">default</span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">test</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;
};

<span class="hljs-comment">// ç¼–è¯‘æ—¶æ·»åŠ é€‰é¡¹æŸ¥çœ‹å¸ƒå±€</span>
<span class="hljs-comment">// g++ -fdump-class-hierarchy example.cpp</span>
</code></pre>
<h3 data-id="heading-13">4.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<ol>
<li><strong>é¿å…æ·±å±‚æ¬¡çš„å¤šé‡ç»§æ‰¿</strong>ï¼šè¶…è¿‡2-3å±‚çš„å¤šé‡ç»§æ‰¿ä¼šæ˜¾è‘—å¢åŠ å¤æ‚åº¦</li>
<li><strong>è°¨æ…ä½¿ç”¨è™šç»§æ‰¿</strong>ï¼šåªåœ¨çœŸæ­£éœ€è¦è§£å†³è±å½¢ç»§æ‰¿é—®é¢˜æ—¶ä½¿ç”¨</li>
<li><strong>è€ƒè™‘ç»„åˆä»£æ›¿ç»§æ‰¿</strong>ï¼šè®¸å¤šæƒ…å†µä¸‹ï¼Œç»„åˆæ¨¡å¼æ›´æ¸…æ™°é«˜æ•ˆ</li>
<li><strong>æ³¨æ„ç¼“å­˜å±€éƒ¨æ€§</strong>ï¼šåˆ†æ•£çš„vptrå¯èƒ½å½±å“ç¼“å­˜æ€§èƒ½</li>
</ol>
<h2 data-id="heading-14">ç¬¬äº”éƒ¨åˆ†ï¼šABIå…¼å®¹æ€§ä¸å®è·µ</h2>
<h3 data-id="heading-15">5.1 è·¨ç¼–è¯‘å™¨å…¼å®¹æ€§</h3>
<p>ä¸åŒç¼–è¯‘å™¨ï¼ˆGCCã€Clangã€MSVCï¼‰çš„vtableå®ç°ç»†èŠ‚ä¸åŒï¼š</p>
<ul>
<li>vpträ½ç½®ï¼ˆå¯¹è±¡å¼€å¤´æˆ–ç»“å°¾ï¼‰</li>
<li>è™šåŸºç±»æŒ‡é’ˆçš„å­˜å‚¨æ–¹å¼</li>
<li>RTTIä¿¡æ¯çš„æ•´åˆæ–¹å¼</li>
</ul>
<h3 data-id="heading-16">5.2 æœ€ä½³å®è·µ</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// 1. æ˜ç¡®ä½¿ç”¨overrideå…³é”®å­—</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Interface</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Interface</span>() = <span class="hljs-keyword">default</span>;
};

<span class="hljs-comment">// 2. ä¼˜å…ˆä½¿ç”¨æ¥å£ç±»ï¼ˆçº¯è™šç±»ï¼‰è¿›è¡Œå¤šé‡ç»§æ‰¿</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Runnable</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Runnable</span>() = <span class="hljs-keyword">default</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Worker</span> : <span class="hljs-keyword">public</span> Interface, <span class="hljs-keyword">public</span> Runnable {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">execute</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{ <span class="hljs-comment">/* å®ç° */</span> }
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{ <span class="hljs-comment">/* å®ç° */</span> }
};

<span class="hljs-comment">// 3. ä½¿ç”¨finalä¼˜åŒ–æ€§èƒ½ï¼ˆC++11ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">OptimizedDerived</span> <span class="hljs-keyword">final</span> : <span class="hljs-keyword">public</span> Base {
    <span class="hljs-comment">// ä¸èƒ½è¢«è¿›ä¸€æ­¥ç»§æ‰¿ï¼ŒæŸäº›æƒ…å†µä¸‹å…è®¸ç¼–è¯‘å™¨ä¼˜åŒ–</span>
};
</code></pre>
<h2 data-id="heading-17">ç»“è®º</h2>
<p>ç†è§£C++è™šå‡½æ•°è¡¨å’Œå¤šé‡ç»§æ‰¿çš„å†…å­˜å¸ƒå±€å¯¹äºç¼–å†™é«˜æ•ˆã€å¯é çš„C++ä»£ç è‡³å…³é‡è¦ã€‚è™½ç„¶ç°ä»£C++æ›´å€¾å‘äºä½¿ç”¨ç»„åˆå’ŒåŸºäºæ¥å£çš„è®¾è®¡ï¼Œä½†æ·±å…¥ç†è§£è¿™äº›åº•å±‚æœºåˆ¶ä»ç„¶æ˜¯é«˜çº§C++å¼€å‘è€…çš„å¿…å¤‡æŠ€èƒ½ã€‚é€šè¿‡æŒæ¡è¿™äº›çŸ¥è¯†ï¼Œå¼€å‘è€…å¯ä»¥ï¼š</p>
<ol>
<li>æ›´å¥½åœ°è°ƒè¯•å¤æ‚ç»§æ‰¿å±‚æ¬¡çš„é—®é¢˜</li>
<li>åšå‡ºæ›´æ˜æ™ºçš„æ¶æ„è®¾è®¡å†³ç­–</li>
<li>ç¼–å†™ABIå…¼å®¹çš„åº“å’Œæ¥å£</li>
<li>åœ¨æ€§èƒ½å…³é”®åœºæ™¯ä¸­è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–</li>
</ol>
<p>C++çš„å¯¹è±¡æ¨¡å‹è™½ç„¶å¤æ‚ï¼Œä½†å…¶è®¾è®¡çš„çµæ´»æ€§å’Œæ€§èƒ½ä¼˜åŠ¿æ­£æ˜¯é€šè¿‡è¿™ç§å¤æ‚æ€§å®ç°çš„ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨ç†è§£åº•å±‚æœºåˆ¶çš„åŸºç¡€ä¸Šï¼Œåˆç†è¿ç”¨è¯­è¨€ç‰¹æ€§ï¼Œæ„å»ºæ—¢é«˜æ•ˆåˆæ˜“äºç»´æŠ¤çš„ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++æ•°æ®ç«äº‰ä¸æ— é”ç¼–ç¨‹]]></title>    <link>https://juejin.cn/post/7588411503120744484</link>    <guid>https://juejin.cn/post/7588411503120744484</guid>    <pubDate>2025-12-28T13:38:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588411503120744484" data-draft-id="7588680081326719018" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++æ•°æ®ç«äº‰ä¸æ— é”ç¼–ç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-28T13:38:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++æ•°æ®ç«äº‰ä¸æ— é”ç¼–ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T13:38:13.000Z" title="Sun Dec 28 2025 13:38:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¤šæ ¸å¤„ç†å™¨æˆä¸ºæ ‡é…çš„ä»Šå¤©ï¼Œå¹¶å‘ç¼–ç¨‹ä»"é”¦ä¸Šæ·»èŠ±"å˜æˆäº†"å¿…ä¸å¯å°‘"ã€‚ç„¶è€Œï¼Œå¹¶å‘åœ¨å¸¦æ¥æ€§èƒ½æå‡çš„åŒæ—¶ï¼Œä¹Ÿå¼•å…¥äº†æ–°çš„å¤æ‚æ€§â€”â€”<strong>æ•°æ®ç«äº‰</strong>ã€‚ä¼ ç»Ÿé”æœºåˆ¶è™½ç„¶ç›´è§‚ï¼Œä½†åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹å¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€‚æ— é”ç¼–ç¨‹ä½œä¸ºæ›¿ä»£æ–¹æ¡ˆï¼Œæä¾›äº†æ›´é«˜çš„å¹¶å‘åº¦ï¼Œä½†ä¹Ÿå¸¦æ¥äº†å‰æ‰€æœªæœ‰çš„å¤æ‚æ€§ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ•°æ®ç«äº‰çš„æœ¬è´¨</h2>
<h3 data-id="heading-1">1.1 ä»€ä¹ˆæ˜¯æ•°æ®ç«äº‰ï¼Ÿ</h3>
<p>æ•°æ®ç«äº‰å‘ç”Ÿåœ¨å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®åŒä¸€å†…å­˜ä½ç½®ï¼Œä¸”è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå†™æ“ä½œï¼Œä¸”æ²¡æœ‰é€‚å½“çš„åŒæ­¥æœºåˆ¶ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ç»å…¸çš„æ•°æ®ç«äº‰ç¤ºä¾‹</span>
<span class="hljs-type">int</span> counter = <span class="hljs-number">0</span>;

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">increment</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000</span>; ++i) {
        ++counter;  <span class="hljs-comment">// æ•°æ®ç«äº‰ï¼</span>
    }
}

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function">std::thread <span class="hljs-title">t1</span><span class="hljs-params">(increment)</span></span>;
    <span class="hljs-function">std::thread <span class="hljs-title">t2</span><span class="hljs-params">(increment)</span></span>;
    t1.<span class="hljs-built_in">join</span>();
    t2.<span class="hljs-built_in">join</span>();
    <span class="hljs-comment">// counterçš„ç»“æœæ˜¯ä¸ç¡®å®šçš„ï¼</span>
}
</code></pre>
<h3 data-id="heading-2">1.2 å†…å­˜æ¨¡å‹ä¸é¡ºåºä¸€è‡´æ€§</h3>
<p>C++11å¼•å…¥çš„å†…å­˜æ¨¡å‹å®šä¹‰äº†å†…å­˜æ“ä½œçš„å¯è§æ€§è§„åˆ™ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;atomic&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;thread&gt;</span></span>

std::atomic&lt;<span class="hljs-type">int</span>&gt; x{<span class="hljs-number">0</span>}, y{<span class="hljs-number">0</span>};
<span class="hljs-type">int</span> r1, r2;

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">thread1</span><span class="hljs-params">()</span> </span>{
    x.<span class="hljs-built_in">store</span>(<span class="hljs-number">1</span>, std::memory_order_relaxed);
    r1 = y.<span class="hljs-built_in">load</span>(std::memory_order_relaxed);
}

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">thread2</span><span class="hljs-params">()</span> </span>{
    y.<span class="hljs-built_in">store</span>(<span class="hljs-number">1</span>, std::memory_order_relaxed);
    r2 = x.<span class="hljs-built_in">load</span>(std::memory_order_relaxed);
}
</code></pre>
<p>ä¸åŒçš„å†…å­˜åºå¯èƒ½å¯¼è‡´ä¸åŒçš„æ‰§è¡Œç»“æœï¼Œè¿™æ˜¯ç†è§£æ— é”ç¼–ç¨‹çš„å…³é”®ã€‚</p>
<h2 data-id="heading-3">äºŒã€æ— é”ç¼–ç¨‹çš„åŸºç¡€</h2>
<h3 data-id="heading-4">2.1 æ— é”ã€æ— ç­‰å¾…ä¸æ— é˜»ç¢</h3>
<ul>
<li><strong>æ— é”ï¼ˆLock-freeï¼‰</strong>ï¼šç³»ç»Ÿæ•´ä½“ä¿è¯å‰è¿›ï¼Œè‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½ç»§ç»­æ‰§è¡Œ</li>
<li><strong>æ— ç­‰å¾…ï¼ˆWait-freeï¼‰</strong>ï¼šæ¯ä¸ªçº¿ç¨‹éƒ½èƒ½åœ¨æœ‰é™æ­¥å†…å®Œæˆæ“ä½œ</li>
<li><strong>æ— é˜»ç¢ï¼ˆObstruction-freeï¼‰</strong>ï¼šåœ¨æ²¡æœ‰ç«äº‰æ—¶çº¿ç¨‹èƒ½ç‹¬ç«‹å®Œæˆ</li>
</ul>
<h3 data-id="heading-5">2.2 åŸå­æ“ä½œçš„ç¡¬ä»¶æ”¯æŒ</h3>
<p>ç°ä»£CPUé€šè¿‡ç‰¹å®šæŒ‡ä»¤å®ç°åŸå­æ“ä½œï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æ¯”è¾ƒå¹¶äº¤æ¢ï¼ˆCASï¼‰â€”â€”æ— é”ç¼–ç¨‹çš„åŸºçŸ³</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-type">bool</span> <span class="hljs-title">atomic_compare_exchange</span><span class="hljs-params">(std::atomic&lt;T&gt;&amp; obj, 
                            T&amp; expected, 
                            T desired)</span> </span>{
    <span class="hljs-keyword">return</span> obj.<span class="hljs-built_in">compare_exchange_weak</span>(expected, desired);
}

<span class="hljs-comment">// åŠ è½½é“¾æ¥/æ¡ä»¶å­˜å‚¨ï¼ˆLL/SCï¼‰æ¨¡å¼</span>
<span class="hljs-comment">// è®¸å¤šæ¶æ„ï¼ˆARMã€PowerPCï¼‰ä½¿ç”¨è¿™ç§æ¨¡å¼</span>
</code></pre>
<h2 data-id="heading-6">ä¸‰ã€æ— é”æ•°æ®ç»“æ„è®¾è®¡æ¨¡å¼</h2>
<h3 data-id="heading-7">3.1 å•å†™å…¥è€…å¤šè¯»å–è€…æ¨¡å¼</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LockFreeReadMostly</span> {
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> {
        std::shared_ptr&lt;T&gt; data;
        Node* next;
    };
    
    std::atomic&lt;Node*&gt; head;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-type">const</span> T&amp; value)</span> </span>{
        Node* new_node = <span class="hljs-keyword">new</span> Node{
            std::<span class="hljs-built_in">make_shared</span>&lt;T&gt;(value),
            head.<span class="hljs-built_in">load</span>()
        };
        
        <span class="hljs-comment">// ä½¿ç”¨CASä¿è¯åŸå­æ€§</span>
        <span class="hljs-keyword">while</span>(!head.<span class="hljs-built_in">compare_exchange_weak</span>(
            new_node-&gt;next, new_node));
    }
};
</code></pre>
<h3 data-id="heading-8">3.2 åŸºäºç‰ˆæœ¬å·çš„ä¹è§‚é”</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">OptimisticLockFree</span> {
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Value</span> {
        T data;
        std::atomic&lt;<span class="hljs-type">uint64_t</span>&gt; version{<span class="hljs-number">0</span>};
    };
    
    std::atomic&lt;Value*&gt; current;
    
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">update</span><span class="hljs-params">(<span class="hljs-type">const</span> T&amp; new_value)</span> </span>{
        Value* old_val = current.<span class="hljs-built_in">load</span>();
        Value* new_val = <span class="hljs-keyword">new</span> Value{
            new_value, 
            old_val-&gt;version + <span class="hljs-number">1</span>
        };
        
        <span class="hljs-comment">// åŒé‡æ£€æŸ¥ï¼šç‰ˆæœ¬å·æ˜¯å¦å˜åŒ–</span>
        <span class="hljs-keyword">if</span> (current.<span class="hljs-built_in">compare_exchange_strong</span>(
            old_val, new_val)) {
            <span class="hljs-comment">// å»¶è¿Ÿåˆ é™¤æ—§å€¼ï¼ˆå†…å­˜å›æ”¶é—®é¢˜ï¼‰</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
};
</code></pre>
<h2 data-id="heading-9">å››ã€ABAé—®é¢˜åŠå…¶è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-10">4.1 ABAé—®é¢˜çš„æœ¬è´¨</h3>
<p>ABAé—®é¢˜å‘ç”Ÿåœ¨ï¼šå€¼ä»Aå˜ä¸ºBåˆå˜å›Aï¼Œä½†CASæ— æ³•æ£€æµ‹åˆ°ä¸­é—´å˜åŒ–ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ABAé—®é¢˜ç¤ºä¾‹</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Node</span> {
    <span class="hljs-type">int</span> value;
    Node* next;
};

std::atomic&lt;Node*&gt; head{<span class="hljs-literal">nullptr</span>};

<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">problematic_pop</span><span class="hljs-params">()</span> </span>{
    Node* old_head = head.<span class="hljs-built_in">load</span>();
    <span class="hljs-keyword">while</span> (old_head &amp;&amp; 
           !head.<span class="hljs-built_in">compare_exchange_weak</span>(
               old_head, old_head-&gt;next)) {
        <span class="hljs-comment">// å¦‚æœold_headè¢«é‡Šæ”¾å¹¶é‡æ–°åˆ†é…ï¼Œå¯èƒ½äº§ç”ŸABAé—®é¢˜</span>
    }
}
</code></pre>
<h3 data-id="heading-11">4.2 è§£å†³æ–¹æ¡ˆï¼šå¸¦æ ‡ç­¾çš„æŒ‡é’ˆ</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TaggedPointer</span> {
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">AlignedType</span> {
        T* ptr;
        <span class="hljs-type">uintptr_t</span> tag;
    };
    
    <span class="hljs-built_in">static_assert</span>(<span class="hljs-built_in">sizeof</span>(AlignedType) == <span class="hljs-built_in">sizeof</span>(<span class="hljs-type">uintptr_t</span>),
                  <span class="hljs-string">"Bad alignment"</span>);
    
    std::atomic&lt;<span class="hljs-type">uintptr_t</span>&gt; value;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">compare_exchange</span><span class="hljs-params">(T*&amp; expected_ptr,
                          T* desired_ptr,
                          <span class="hljs-type">uintptr_t</span> expected_tag,
                          <span class="hljs-type">uintptr_t</span> desired_tag)</span> </span>{
        AlignedType expected{expected_ptr, expected_tag};
        AlignedType desired{desired_ptr, desired_tag};
        
        <span class="hljs-keyword">return</span> value.<span class="hljs-built_in">compare_exchange_strong</span>(
            <span class="hljs-built_in">reinterpret_cast</span>&lt;<span class="hljs-type">uintptr_t</span>&amp;&gt;(expected),
            <span class="hljs-built_in">reinterpret_cast</span>&lt;<span class="hljs-type">uintptr_t</span>&amp;&gt;(desired));
    }
};
</code></pre>
<h2 data-id="heading-12">äº”ã€å†…å­˜å›æ”¶ï¼šæ— é”ç¼–ç¨‹çš„é˜¿å–€ç‰æ–¯ä¹‹è¸µ</h2>
<h3 data-id="heading-13">5.1 å±é™©æŒ‡é’ˆï¼ˆHazard Pointersï¼‰</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HazardPointer</span> {
    <span class="hljs-type">static</span> <span class="hljs-keyword">constexpr</span> <span class="hljs-type">int</span> K = <span class="hljs-number">100</span>;  <span class="hljs-comment">// é€šå¸¸æ¯ä¸ªçº¿ç¨‹2-3ä¸ªè¶³å¤Ÿ</span>
    <span class="hljs-type">static</span> <span class="hljs-keyword">thread_local</span> std::array&lt;T*, K&gt; hazards;
    <span class="hljs-type">static</span> <span class="hljs-keyword">thread_local</span> <span class="hljs-type">int</span> index;
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Holder</span> {
        T* ptr;
    <span class="hljs-keyword">public</span>:
        <span class="hljs-function"><span class="hljs-keyword">explicit</span> <span class="hljs-title">Holder</span><span class="hljs-params">(T* p)</span> : ptr(p) {</span>
            hazards[index++] = ptr;
        }
        ~<span class="hljs-built_in">Holder</span>() { <span class="hljs-comment">/* æ¸…ç† */</span> }
    };
    
    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">retire</span><span class="hljs-params">(T* ptr)</span> </span>{
        <span class="hljs-comment">// å»¶è¿Ÿåˆ°æ²¡æœ‰çº¿ç¨‹æŒæœ‰å±é™©æŒ‡é’ˆæ—¶å†åˆ é™¤</span>
    }
};
</code></pre>
<h3 data-id="heading-14">5.2 å¼•ç”¨è®¡æ•°ä¸epoch-basedå›æ”¶</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">class</span> <span class="hljs-title class_">EpochBasedReclamation</span> {
    <span class="hljs-type">static</span> <span class="hljs-keyword">thread_local</span> <span class="hljs-type">uint64_t</span> local_epoch;
    <span class="hljs-type">static</span> std::atomic&lt;<span class="hljs-type">uint64_t</span>&gt; global_epoch{<span class="hljs-number">0</span>};
    <span class="hljs-type">static</span> std::array&lt;std::vector&lt;T*&gt;, 3&gt; retired_lists;
    
    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">enter_critical</span><span class="hljs-params">()</span> </span>{
        local_epoch = global_epoch.<span class="hljs-built_in">load</span>();
    }
    
    <span class="hljs-function"><span class="hljs-type">static</span> <span class="hljs-type">void</span> <span class="hljs-title">retire</span><span class="hljs-params">(T* ptr)</span> </span>{
        retired_lists[local_epoch % <span class="hljs-number">3</span>].<span class="hljs-built_in">push_back</span>(ptr);
        <span class="hljs-comment">// å®šæœŸå°è¯•å›æ”¶æ—§epochçš„å¯¹è±¡</span>
    }
};
</code></pre>
<h2 data-id="heading-15">å…­ã€å®è·µæŒ‡å—ï¼šä½•æ—¶ä½¿ç”¨æ— é”ç¼–ç¨‹</h2>
<h3 data-id="heading-16">6.1 é€‚ç”¨åœºæ™¯</h3>
<ul>
<li>é«˜æ€§èƒ½äº¤æ˜“ç³»ç»Ÿ</li>
<li>å®æ—¶ç³»ç»Ÿï¼ˆé¿å…ä¼˜å…ˆçº§åè½¬ï¼‰</li>
<li>æ“ä½œç³»ç»Ÿå†…æ ¸</li>
<li>æ•°æ®åº“å¹¶å‘æ§åˆ¶</li>
</ul>
<h3 data-id="heading-17">6.2 æ›¿ä»£æ–¹æ¡ˆè€ƒè™‘</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// æœ‰æ—¶ç®€å•çš„åŸå­æ“ä½œå°±è¶³å¤Ÿäº†</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleCounter</span> {
    std::atomic&lt;<span class="hljs-type">int64_t</span>&gt; count{<span class="hljs-number">0</span>};
    
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">increment</span><span class="hljs-params">()</span> </span>{
        count.<span class="hljs-built_in">fetch_add</span>(<span class="hljs-number">1</span>, std::memory_order_relaxed);
    }
    
    <span class="hljs-function"><span class="hljs-type">int64_t</span> <span class="hljs-title">get</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>{
        <span class="hljs-keyword">return</span> count.<span class="hljs-built_in">load</span>(std::memory_order_acquire);
    }
};

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨æ›´é«˜çº§çš„å¹¶å‘åº“</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;concurrentqueue.h&gt;</span></span>
moodycamel::ConcurrentQueue&lt;<span class="hljs-type">int</span>&gt; queue;
</code></pre>
<h2 data-id="heading-18">ä¸ƒã€æµ‹è¯•ä¸éªŒè¯æŒ‘æˆ˜</h2>
<h3 data-id="heading-19">7.1 ä¸“é—¨çš„æµ‹è¯•å·¥å…·</h3>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä½¿ç”¨ThreadSanitizeræ£€æµ‹æ•°æ®ç«äº‰</span>
<span class="hljs-comment">// ç¼–è¯‘æ—¶æ·»åŠ ï¼š-fsanitize=thread</span>

<span class="hljs-comment">// ä½¿ç”¨Relacyæ£€æŸ¥æ— é”ç®—æ³•</span>
<span class="hljs-comment">// (http://www.1024cores.net/home/relacy-race-detector)</span>

<span class="hljs-comment">// æ¨¡å‹æ£€æŸ¥å·¥å…·ï¼šCDSCheckerã€Nidhugg</span>
</code></pre>
<h3 data-id="heading-20">7.2 å½¢å¼åŒ–éªŒè¯çš„é‡è¦æ€§</h3>
<p>å¤æ‚æ— é”ç®—æ³•åº”è€ƒè™‘ä½¿ç”¨TLA+æˆ–Coqè¿›è¡Œå½¢å¼åŒ–éªŒè¯ï¼Œç‰¹åˆ«æ˜¯ç”¨äºå…³é”®ç³»ç»Ÿæ—¶ã€‚</p>
<h2 data-id="heading-21">ç»“è®ºï¼šå¹³è¡¡çš„è‰ºæœ¯</h2>
<p>æ— é”ç¼–ç¨‹ä¸æ˜¯é“¶å¼¹ï¼Œè€Œæ˜¯å·¥å…·ç®±ä¸­çš„ç‰¹æ®Šå·¥å…·ã€‚åœ¨å†³å®šä½¿ç”¨æ— é”æŠ€æœ¯å‰ï¼Œè¯·è€ƒè™‘ï¼š</p>
<ol>
<li><strong>çœŸçš„éœ€è¦æ— é”å—ï¼Ÿ</strong> é”çš„ä»£ä»·å¯èƒ½æ²¡æœ‰æƒ³è±¡ä¸­é«˜</li>
<li><strong>å›¢é˜Ÿæ˜¯å¦å…·å¤‡ç›¸åº”èƒ½åŠ›ï¼Ÿ</strong> æ— é”ä»£ç éš¾ä»¥è°ƒè¯•å’Œç»´æŠ¤</li>
<li><strong>æ˜¯å¦æœ‰åˆé€‚çš„æµ‹è¯•ç­–ç•¥ï¼Ÿ</strong> å¹¶å‘bugå¯èƒ½åªåœ¨ç‰¹å®šæ¡ä»¶ä¸‹å‡ºç°</li>
<li><strong>æ€§èƒ½æå‡æ˜¯å¦å€¼å¾—ï¼Ÿ</strong> æµ‹é‡ï¼Œè€Œä¸æ˜¯çŒœæµ‹</li>
</ol>
<p>è®°ä½Donald Knuthçš„åè¨€ï¼š"è¿‡æ—©ä¼˜åŒ–æ˜¯ä¸‡æ¶ä¹‹æº"ã€‚åœ¨æ­£ç¡®æ€§å¾—åˆ°ä¿è¯çš„å‰æä¸‹ï¼Œå†è€ƒè™‘æ€§èƒ½ä¼˜åŒ–ã€‚æ— é”ç¼–ç¨‹æ˜¯C++å¹¶å‘ç¼–ç¨‹çš„å·…å³°æŠ€è‰ºï¼Œä½†ä¹Ÿæ˜¯æœ€å®¹æ˜“å‡ºé”™çš„é¢†åŸŸä¹‹ä¸€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Prometheus+Grafanaï¼Œæ‰“é€ å¼ºå¤§çš„ç›‘æ§ä¸å¯è§†åŒ–å¹³å°]]></title>    <link>https://juejin.cn/post/7588191506607439878</link>    <guid>https://juejin.cn/post/7588191506607439878</guid>    <pubDate>2025-12-28T13:48:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588191506607439878" data-draft-id="7588191506607407110" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Prometheus+Grafanaï¼Œæ‰“é€ å¼ºå¤§çš„ç›‘æ§ä¸å¯è§†åŒ–å¹³å°"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-28T13:48:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çš®çš®æ—551"/> <meta itemprop="url" content="https://juejin.cn/user/2447981921436084"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Prometheus+Grafanaï¼Œæ‰“é€ å¼ºå¤§çš„ç›‘æ§ä¸å¯è§†åŒ–å¹³å°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2447981921436084/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çš®çš®æ—551
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T13:48:08.000Z" title="Sun Dec 28 2025 13:48:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»28åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0"><strong>1ã€Prometheusæ¦‚è¿°</strong></h3>
<h4 data-id="heading-1"><strong>1.1 ä»»åŠ¡èƒŒæ™¯</strong></h4>
<p>æŸå…¬å¸ç”±äºä¸šåŠ¡å¿«é€Ÿå‘å±•ï¼Œå…¬å¸è¦æ±‚å¯¹ç°æœ‰æœºå™¨è¿›è¡Œä¸šåŠ¡ç›‘æ§ï¼Œè´£æˆè¿ç»´éƒ¨é—¨æ¥å®æ–½è¿™ä¸ªä»»åŠ¡ã€‚ä»»åŠ¡è¦æ±‚å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>éƒ¨ç½²ç›‘æ§æœåŠ¡å™¨ï¼Œå®ç°7x24å®æ—¶ç›‘æ§</p>
</li>
<li>
<p>é’ˆå¯¹å…¬å¸çš„ä¸šåŠ¡åŠç ”å‘éƒ¨é—¨è®¾è®¡ç›‘æ§ç³»ç»Ÿï¼Œå¯¹ç›‘æ§é¡¹å’Œè§¦å‘å™¨æ‹¿å‡ºåˆç†æ„è§</p>
</li>
<li>
<p>åšå¥½é—®é¢˜é¢„è­¦æœºåˆ¶ï¼Œå¯¹å¯èƒ½å‡ºç°çš„é—®é¢˜è¦åŠæ—¶å‘Šè­¦å¹¶å½¢æˆä¸¥æ ¼çš„å¤„ç†æœºåˆ¶</p>
</li>
<li>
<p>åšå¥½ç›‘æ§å‘Šè­¦ç³»ç»Ÿï¼Œè¦æ±‚å¯ä»¥å®ç°å‘Šè­¦åˆ†çº§</p>
</li>
<li/>
<li>
<ul>
<li>ä¸€çº§æŠ¥è­¦ ç”µè¯é€šçŸ¥</li>
<li>äºŒçº§æŠ¥è­¦ å¾®ä¿¡é€šçŸ¥</li>
<li>ä¸‰çº§æŠ¥è­¦ é‚®ä»¶é€šçŸ¥</li>
</ul>
</li>
<li>
<p>å¤„ç†å¥½å…¬å¸æœåŠ¡å™¨å¼‚åœ°é›†ä¸­ç›‘æ§é—®é¢˜</p>
</li>
</ul>
<h5 data-id="heading-2"><strong>ä¸ºä»€ä¹ˆè¦ç›‘æ§ï¼Ÿ</strong></h5>
<p>å®æ—¶æ”¶é›†æ•°æ®ï¼Œé€šè¿‡æŠ¥è­¦åŠæ—¶å‘ç°é—®é¢˜ï¼ŒåŠæ—¶å¤„ç†ã€‚æ•°æ®ä¸ºä¼˜åŒ–ä¹Ÿå¯ä»¥æä¾›ä¾æ®ã€‚</p>
<h5 data-id="heading-3"><strong>ç›‘æ§å››è¦ç´ ï¼š</strong></h5>
<ul>
<li>ç›‘æ§å¯¹è±¡ [<code>ä¸»æœºçŠ¶æ€ æœåŠ¡ èµ„æº é¡µé¢ï¼Œurl</code>]</li>
<li>ç”¨ä»€ä¹ˆç›‘æ§</li>
<li>ä»€ä¹ˆæ—¶é—´ç›‘æ§ [<code>7x24 5x8</code>]</li>
<li>æŠ¥è­¦ç»™è°</li>
</ul>
<h5 data-id="heading-4"><strong>ç›‘æ§æŠ€æœ¯é€‰å‹ï¼š</strong></h5>
<ul>
<li><strong>mrtgï¼š</strong> Â é€šè¿‡snmpåè®®å¾—åˆ°è®¾å¤‡çš„æµé‡ä¿¡æ¯ï¼Œå¹¶ä»¥åŒ…å«PNGæ ¼å¼çš„å›¾å½¢çš„HTMLæ–‡æ¡£æ–¹å¼æ˜¾ç¤ºç»™ç”¨æˆ·ã€‚å®˜ç½‘åœ°å€ï¼š<code>https://oss.oetiker.ch/mrtg/</code></li>
<li><strong>cacti (ä»™äººæŒ) ï¼š</strong> Â ç”¨phpè¯­è¨€å®ç°çš„ä¸€ä¸ªè½¯ä»¶ï¼Œå®ƒçš„ä¸»è¦åŠŸèƒ½æ˜¯ç”¨snmpæœåŠ¡è·å–æ•°æ®ï¼Œç„¶åç”¨rrdtoolå‚¨å­˜å’Œæ›´æ–°æ•°æ®ã€‚å®˜ç½‘åœ°å€ï¼š<code>https://www.britannica.com/plant/cactus</code></li>
<li><strong>ntopï¼š</strong> Â å®˜ç½‘åœ°å€:Â <code>https://www.ntop.org/</code>ã€‚</li>
<li><strong>nagiosï¼š</strong> Â èƒ½å¤Ÿè·¨å¹³å°ã€æ’ä»¶å¤šã€æŠ¥è­¦åŠŸèƒ½å¼ºå¤§ã€‚å®˜ç½‘åœ°å€:Â <code>https://www.nagios.org/</code></li>
<li><strong>centreonï¼š</strong> Â åº•å±‚ä½¿ç”¨çš„å°±æ˜¯nagiosï¼Œæ˜¯ä¸€ä¸ªnagiosæ•´åˆç‰ˆè½¯ä»¶ã€‚å®˜ç½‘åœ°å€ï¼š<code>https://www.centreon.com/</code></li>
<li><strong>gangliaï¼š</strong> Â è®¾è®¡ç”¨äºæµ‹é‡æ•°ä»¥åƒè®¡çš„èŠ‚ç‚¹ï¼Œèµ„æºæ¶ˆè€—éå¸¸å°ã€‚å®˜ç½‘åœ°å€ï¼š<code>http://ganglia.info/</code></li>
<li><strong>open-falconï¼š</strong> Â å°ç±³å‘å¸ƒçš„è¿ç»´ç›‘æ§è½¯ä»¶ï¼Œé«˜æ•ˆç‡ï¼Œé«˜å¯ç”¨ã€‚æ—¶é—´è¾ƒçŸ­ï¼Œç”¨æˆ·åŸºæ•°å°ã€‚å®˜ç½‘åœ°å€:Â <code>http://open-falcon.org/</code></li>
<li><strong>zabbixï¼š</strong> Â è·¨å¹³å°ï¼Œç”»å›¾ï¼Œå¤šæ¡ä»¶å‘Šè­¦ï¼Œå¤šç§APIæ¥å£ã€‚ä½¿ç”¨åŸºæ•°ç‰¹åˆ«å¤§ã€‚å®˜ç½‘åœ°å€:Â <code>https://www.zabbix.com/</code></li>
<li><strong>prometheusï¼š</strong> Â åŸºäºæ—¶é—´åºåˆ—çš„æ•°å€¼æ•°æ®çš„å®¹å™¨ç›‘æ§è§£å†³æ–¹æ¡ˆã€‚å®˜ç½‘åœ°å€:Â <code>https://prometheus.io/</code></li>
</ul>
<blockquote>
<p>â€œ</p>
<p>ç»¼åˆåˆ†æï¼šPrometheusæ¯”è¾ƒé€‚åˆå…¬å¸çš„ç›‘æ§éœ€æ±‚</p>
</blockquote>
<h4 data-id="heading-5"><strong>1.2 Prometheusç‰¹ç‚¹</strong></h4>
<p>Prometheus å—å¯å‘äº Google çš„ Brogmon ç›‘æ§ç³»ç»Ÿï¼ˆç›¸ä¼¼çš„ Kubernetes æ˜¯ä» Googleçš„ Brog ç³»ç»Ÿæ¼”å˜è€Œæ¥ï¼‰ï¼Œä» 2012 å¹´å¼€å§‹ç”±å‰ Google å·¥ç¨‹å¸ˆåœ¨ Soundcloud ä»¥å¼€æºè½¯ä»¶çš„å½¢å¼è¿›è¡Œç ”å‘ï¼Œå¹¶ä¸”äº 2015 å¹´æ—©æœŸå¯¹å¤–å‘å¸ƒæ—©æœŸç‰ˆæœ¬ã€‚2016 å¹´ 5 æœˆç»§ Kubernetes ä¹‹åæˆä¸ºç¬¬äºŒä¸ªæ­£å¼åŠ å…¥ CNCF åŸºé‡‘ä¼šçš„é¡¹ç›®ï¼ŒåŒå¹´ 6 æœˆæ­£å¼å‘å¸ƒ 1.0 ç‰ˆæœ¬ã€‚2017 å¹´åº•å‘å¸ƒäº†åŸºäºå…¨æ–°å­˜å‚¨å±‚çš„ 2.0 ç‰ˆæœ¬ï¼Œèƒ½æ›´å¥½åœ°ä¸å®¹å™¨å¹³å°ã€äº‘å¹³å°é…åˆã€‚</p>
<p>Prometheus ä½œä¸ºæ–°ä¸€ä»£çš„äº‘åŸç”Ÿç›‘æ§ç³»ç»Ÿï¼Œç›®å‰å·²ç»æœ‰è¶…è¿‡ 650+ä½è´¡çŒ®è€…å‚ä¸åˆ°Prometheus çš„ç ”å‘å·¥ä½œä¸Šï¼Œå¹¶ä¸”è¶…è¿‡ 120+é¡¹çš„ç¬¬ä¸‰æ–¹é›†æˆã€‚</p>
<p>Prometheus æ˜¯ä¸€ä¸ªå¼€æºçš„å®Œæ•´ç›‘æ§è§£å†³æ–¹æ¡ˆï¼Œå…¶å¯¹ä¼ ç»Ÿç›‘æ§ç³»ç»Ÿçš„æµ‹è¯•å’Œå‘Šè­¦æ¨¡å‹è¿›è¡Œäº†å½»åº•çš„é¢ è¦†ï¼Œå½¢æˆäº†åŸºäºä¸­å¤®åŒ–çš„è§„åˆ™è®¡ç®—ã€ç»Ÿä¸€åˆ†æå’Œå‘Šè­¦çš„æ–°æ¨¡å‹ã€‚ ç›¸æ¯”äºä¼ ç»Ÿç›‘æ§ç³»ç»Ÿï¼ŒPrometheus å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<h5 data-id="heading-6"><strong>1 æ˜“äºç®¡ç†</strong></h5>
<p>Prometheusä¼˜ç§€çš„è®¾è®¡ä½¿å¾—å…¶æœ¬èº«éå¸¸æ˜“äºç®¡ç†ï¼Œä¸ä¼šå› ä¸ºPrometheuså¢åŠ ç®¡ç†æˆæœ¬ã€‚</p>
<ul>
<li>Prometheus æ ¸å¿ƒéƒ¨åˆ†åªæœ‰ä¸€ä¸ªå•ç‹¬çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸å­˜åœ¨ä»»ä½•çš„ç¬¬ä¸‰æ–¹ä¾èµ–(æ•°æ®åº“ï¼Œç¼“å­˜ç­‰ç­‰)ã€‚å”¯ä¸€éœ€è¦çš„å°±æ˜¯æœ¬åœ°ç£ç›˜ï¼Œå› æ­¤ä¸ä¼šæœ‰æ½œåœ¨çº§è”æ•…éšœçš„é£é™©ã€‚</li>
<li>Prometheus åŸºäº Pull æ¨¡å‹çš„æ¶æ„æ–¹å¼ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ï¼ˆæœ¬åœ°ç”µè„‘ï¼Œå¼€å‘ç¯å¢ƒï¼Œæµ‹è¯•ç¯å¢ƒï¼‰æ­å»ºæˆ‘ä»¬çš„ç›‘æ§ç³»ç»Ÿã€‚ä¹Ÿå¯ä»¥é€šè¿‡ä¸­é—´ç½‘å…³æ”¯æŒpushæ¨¡å‹</li>
<li>å¯¹äºä¸€äº›å¤æ‚çš„æƒ…å†µï¼Œè¿˜å¯ä»¥ä½¿ç”¨ Prometheus æœåŠ¡å‘ç°(<code>Service Discovery</code>)çš„èƒ½åŠ›åŠ¨æ€ç®¡ç†ç›‘æ§ç›®æ ‡ã€‚</li>
</ul>
<h5 data-id="heading-7"><strong>2 å¯ç›‘æ§æœåŠ¡çš„å†…éƒ¨è¿è¡ŒçŠ¶æ€</strong></h5>
<p>Pometheus é¼“åŠ±ç”¨æˆ·ç›‘æ§æœåŠ¡çš„å†…éƒ¨çŠ¶æ€ï¼ŒåŸºäº Prometheus ä¸°å¯Œçš„ Client åº“ï¼Œç”¨æˆ·å¯ä»¥è½»æ¾çš„åœ¨åº”ç”¨ç¨‹åºä¸­æ·»åŠ å¯¹ Prometheus çš„æ”¯æŒï¼Œä»è€Œè®©ç”¨æˆ·å¯ä»¥è·å–æœåŠ¡å’Œåº”ç”¨å†…éƒ¨çœŸæ­£çš„è¿è¡ŒçŠ¶æ€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8d0e02b74c74c7b8bd53badfe73d0a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=HnOKRG45RWoCQbplscLky%2BP8V0U%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h5 data-id="heading-8"><strong>3 å¼ºå¤§çš„æ•°æ®æ¨¡å‹</strong></h5>
<p>æ‰€æœ‰é‡‡é›†çš„ç›‘æ§æ•°æ®å‡ä»¥æŒ‡æ ‡(metric)çš„å½¢å¼ä¿å­˜åœ¨å†…ç½®çš„æ—¶é—´åºåˆ—æ•°æ®åº“å½“ä¸­(TSDB)ã€‚æ‰€æœ‰çš„æ ·æœ¬é™¤äº†åŸºæœ¬çš„æŒ‡æ ‡åç§°ä»¥å¤–ï¼Œè¿˜åŒ…å«ä¸€ç»„ç”¨äºæè¿°è¯¥æ ·æœ¬ç‰¹å¾çš„æ ‡ç­¾ã€‚</p>
<p>å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-dart" lang="dart">http_request_status{code=â€˜<span class="hljs-number">200</span>â€™,content_path=â€˜/api/pathâ€™,environment=â€˜produmentâ€™} =&gt;[value1<span class="hljs-meta">@timestamp</span>1,value2<span class="hljs-meta">@timestamp</span>2â€¦]
http_request_status{code=â€˜<span class="hljs-number">200</span>â€™,content_path=â€˜/api/path2â€™,environment=â€˜produmentâ€™} =&gt;[value1<span class="hljs-meta">@timestamp</span>1,value2<span class="hljs-meta">@timestamp</span>2â€¦]
</code></pre>
<p>æ¯ä¸€æ¡æ—¶é—´åºåˆ—ç”±æŒ‡æ ‡åç§°(<code>Metrics Name</code>)ä»¥åŠä¸€ç»„æ ‡ç­¾(Labels)å”¯ä¸€æ ‡è¯†ã€‚æ¯æ¡æ—¶é—´åºåˆ—æŒ‰ç…§æ—¶é—´çš„å…ˆåé¡ºåºå­˜å‚¨ä¸€ç³»åˆ—çš„æ ·æœ¬å€¼ã€‚</p>
<ul>
<li><code>http_request_status</code>ï¼šæŒ‡æ ‡åç§°(Metrics Name)</li>
<li><code>{code=â€˜200â€™,content_path=â€˜/api/pathâ€™,environment=â€˜produmentâ€™}</code>ï¼šè¡¨ç¤ºç»´åº¦çš„æ ‡ç­¾ï¼ŒåŸºäºè¿™äº› Labels æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ°å¯¹ç›‘æ§æ•°æ®è¿›è¡Œèšåˆ ï¼Œè¿‡æ»¤ï¼Œè£å‰ªã€‚</li>
<li><code>[value1@timestamp1,value2@timestamp2â€¦]</code>ï¼šæŒ‰ç…§æ—¶é—´çš„å…ˆåé¡ºåº å­˜å‚¨çš„æ ·æœ¬å€¼ã€‚</li>
</ul>
<h5 data-id="heading-9"><strong>4 å¼ºå¤§çš„æŸ¥è¯¢è¯­è¨€ PromQL</strong></h5>
<p>Prometheus å†…ç½®äº†ä¸€ä¸ªå¼ºå¤§çš„æ•°æ®æŸ¥è¯¢è¯­è¨€ PromQLã€‚ é€šè¿‡ PromQL å¯ä»¥å®ç°å¯¹ç›‘æ§æ•°æ®çš„æŸ¥è¯¢ã€èšåˆã€‚åŒæ—¶ PromQL ä¹Ÿè¢«åº”ç”¨äºæ•°æ®å¯è§†åŒ–(å¦‚ Grafana)ä»¥åŠå‘Šè­¦å½“ä¸­ã€‚</p>
<p>é€šè¿‡ PromQL å¯ä»¥è½»æ¾å›ç­”ç±»ä¼¼äºä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>åœ¨è¿‡å»ä¸€æ®µæ—¶é—´ä¸­ 95%åº”ç”¨å»¶è¿Ÿæ—¶é—´çš„åˆ†å¸ƒèŒƒå›´ï¼Ÿ</li>
<li>é¢„æµ‹åœ¨ 4 å°æ—¶åï¼Œç£ç›˜ç©ºé—´å ç”¨å¤§è‡´ä¼šæ˜¯ä»€ä¹ˆæƒ…å†µï¼Ÿ</li>
<li>CPU å ç”¨ç‡å‰ 5 ä½çš„æœåŠ¡æœ‰å“ªäº›ï¼Ÿ(è¿‡æ»¤)</li>
</ul>
<h5 data-id="heading-10"><strong>5 é«˜æ•ˆ</strong></h5>
<p>å¯¹äºç›‘æ§ç³»ç»Ÿè€Œè¨€ï¼Œå¤§é‡çš„ç›‘æ§ä»»åŠ¡å¿…ç„¶å¯¼è‡´æœ‰å¤§é‡çš„æ•°æ®äº§ç”Ÿã€‚è€Œ Prometheus å¯ä»¥é«˜æ•ˆåœ°å¤„ç†è¿™äº›æ•°æ®ï¼Œå¯¹äºå•ä¸€Â <code>Prometheus Server</code>Â å®ä¾‹è€Œè¨€å®ƒå¯ä»¥å¤„ç†ï¼š</p>
<ul>
<li>æ•°ä»¥ç™¾ä¸‡çš„ç›‘æ§æŒ‡æ ‡</li>
<li>æ¯ç§’å¤„ç†æ•°åä¸‡çš„æ•°æ®ç‚¹</li>
</ul>
<h5 data-id="heading-11"><strong>6 å¯æ‰©å±•</strong></h5>
<p>å¯ä»¥åœ¨æ¯ä¸ªæ•°æ®ä¸­å¿ƒã€æ¯ä¸ªå›¢é˜Ÿè¿è¡Œç‹¬ç«‹çš„Â <code>Prometheus Sevrer</code>ã€‚Prometheus å¯¹äºè”é‚¦é›†ç¾¤çš„æ”¯æŒï¼Œå¯ä»¥è®©å¤šä¸ª Prometheus å®ä¾‹äº§ç”Ÿä¸€ä¸ªé€»è¾‘é›†ç¾¤ï¼Œå½“å•å®ä¾‹Â <code>PrometheusServer</code>Â å¤„ç†çš„ä»»åŠ¡é‡è¿‡å¤§æ—¶ï¼Œé€šè¿‡ä½¿ç”¨åŠŸèƒ½åˆ†åŒº(sharding)+è”é‚¦é›†ç¾¤(federation)å¯ä»¥å¯¹å…¶è¿›è¡Œæ‰©å±•ã€‚</p>
<h5 data-id="heading-12"><strong>7 æ˜“äºé›†æˆ</strong></h5>
<p>ä½¿ç”¨ Prometheus å¯ä»¥å¿«é€Ÿæ­å»ºç›‘æ§æœåŠ¡ï¼Œå¹¶ä¸”å¯ä»¥éå¸¸æ–¹ä¾¿åœ°åœ¨åº”ç”¨ç¨‹åºä¸­è¿›è¡Œé›†æˆã€‚ç›®å‰æ”¯æŒï¼š<code>Java</code>ï¼Œ<code>JMX</code>ï¼Œ<code>Python</code>ï¼Œ<code>Go</code>ï¼Œ<code>Ruby</code>ï¼Œ<code>.Net</code>ï¼Œ<code>Node.js</code>Â ç­‰ç­‰è¯­è¨€çš„å®¢æˆ·ç«¯ SDKï¼ŒåŸºäºè¿™äº› SDK å¯ä»¥å¿«é€Ÿè®©åº”ç”¨ç¨‹åºçº³å…¥åˆ° Prometheus çš„ç›‘æ§å½“ä¸­ï¼Œæˆ–è€…å¼€å‘è‡ªå·±çš„ç›‘æ§æ•°æ®æ”¶é›†ç¨‹åºã€‚</p>
<p>åŒæ—¶è¿™äº›å®¢æˆ·ç«¯æ”¶é›†çš„ç›‘æ§æ•°æ®ï¼Œä¸ä»…ä»…æ”¯æŒ Prometheusï¼Œè¿˜èƒ½æ”¯æŒ Graphite è¿™äº›å…¶ä»–çš„ç›‘æ§å·¥å…·ã€‚åŒæ—¶ Prometheus è¿˜æ”¯æŒä¸å…¶ä»–çš„ç›‘æ§ç³»ç»Ÿè¿›è¡Œé›†æˆï¼š<code>Graphite</code>ï¼ŒÂ <code>Statsd</code>ï¼ŒÂ <code>Collected</code>ï¼Œ<code>Scollector</code>ï¼ŒÂ <code>muini</code>ï¼ŒÂ <code>Nagios</code>Â ç­‰ã€‚</p>
<p>Prometheus ç¤¾åŒºè¿˜æä¾›äº†å¤§é‡ç¬¬ä¸‰æ–¹å®ç°çš„ç›‘æ§æ•°æ®é‡‡é›†æ”¯æŒï¼š<code>JMX</code>ï¼Œ<code>CloudWatch</code>ï¼Œ<code>EC2</code>ï¼Œ<code>MySQL</code>ï¼Œ<code>PostgresSQL</code>ï¼Œ<code>Haskell</code>ï¼Œ<code>Bash</code>ï¼Œ<code>SNMP</code>ï¼Œ<code>Consul</code>ï¼Œ<code>Haproxy</code>ï¼Œ<code>Mesos</code>ï¼Œ<code>Bind</code>ï¼Œ<code>CouchDB</code>ï¼Œ<code>Django</code>ï¼Œ<code>Memcached</code>ï¼Œ<code>RabbitMQ</code>ï¼Œ<code>Redis</code>ï¼Œ<code>RethinkDB</code>ï¼Œ<code>Rsyslog</code>Â ç­‰ç­‰ã€‚</p>
<h5 data-id="heading-13"><strong>8 å¯è§†åŒ–</strong></h5>
<p>Prometheusæä¾›äº†å¼ºå¤§çš„å¯è§†åŒ–èƒ½åŠ›ï¼Œä¸èƒ½è‡ªèº«æä¾›äº†ç‹¬ç«‹çš„å¯è§†åŒ–è§£å†³æ–¹æ¡ˆï¼Œä¸”å¯ä»¥å’Œå¾ˆå¤šæµè¡Œçš„å¯è§†åŒ–å·¥å…·è¿›è¡Œæ•´åˆã€‚</p>
<ul>
<li>Prometheus Server ä¸­è‡ªå¸¦çš„ Prometheus UIï¼Œå¯ä»¥æ–¹ä¾¿åœ°ç›´æ¥å¯¹æ•°æ®è¿›è¡ŒæŸ¥è¯¢ï¼Œå¹¶ä¸”æ”¯æŒç›´æ¥ä»¥å›¾å½¢åŒ–çš„å½¢å¼å±•ç¤ºæ•°æ®ã€‚åŒæ—¶ Prometheus è¿˜æä¾›äº†ä¸€ä¸ªç‹¬ç«‹çš„åŸºäºRuby On Rails çš„ Dashboard è§£å†³æ–¹æ¡ˆ Promdashã€‚</li>
<li>æœ€æ–°çš„ Grafana å¯è§†åŒ–å·¥å…·ä¹Ÿå·²ç»æä¾›äº†å®Œæ•´çš„ Prometheus æ”¯æŒï¼ŒåŸºäº Grafana å¯ä»¥åˆ›å»ºæ›´åŠ ç²¾ç¾çš„ç›‘æ§å›¾æ ‡ã€‚</li>
<li>åŸºäº Prometheus æä¾›çš„ API è¿˜å¯ä»¥å®ç°è‡ªå·±çš„ç›‘æ§å¯è§†åŒ– UIã€‚</li>
</ul>
<h5 data-id="heading-14"><strong>9 å¼€æ”¾æ€§</strong></h5>
<p>é€šå¸¸æ¥è¯´å½“æˆ‘ä»¬éœ€è¦ç›‘æ§ä¸€ä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼Œä¸€èˆ¬éœ€è¦è¯¥åº”ç”¨ç¨‹åºæä¾›å¯¹ç›¸åº”ç›‘æ§ç³»ç»Ÿåè®®çš„æ”¯æŒï¼Œå› æ­¤åº”ç”¨ç¨‹åºä¼šä¸æ‰€é€‰æ‹©çš„ç›‘æ§ç³»ç»Ÿè¿›è¡Œç»‘å®šã€‚ä¸ºäº†å‡å°‘è¿™ç§ç»‘å®šæ‰€å¸¦æ¥çš„é™åˆ¶ï¼Œå¯¹äºå†³ç­–è€…è€Œè¨€è¦ä¹ˆä½ å°±ç›´æ¥åœ¨åº”ç”¨ä¸­é›†æˆè¯¥ç›‘æ§ç³»ç»Ÿçš„æ”¯æŒï¼Œè¦ä¹ˆå°±åœ¨å¤–éƒ¨åˆ›å»ºå•ç‹¬çš„æœåŠ¡æ¥é€‚é…ä¸åŒçš„ç›‘æ§ç³»ç»Ÿã€‚</p>
<p>è€Œå¯¹äº Prometheus æ¥è¯´ï¼Œä½¿ç”¨ Prometheus çš„Â <code>client library</code>Â çš„è¾“å‡ºæ ¼å¼ä¸æ­¢æ”¯æŒPrometheus çš„æ ¼å¼åŒ–æ•°æ®ï¼Œä¹Ÿå¯ä»¥è¾“å‡ºæ”¯æŒå…¶å®ƒç›‘æ§ç³»ç»Ÿçš„æ ¼å¼åŒ–æ•°æ®ï¼Œæ¯”å¦‚ Graphiteã€‚å› æ­¤ä½ ç”šè‡³å¯ä»¥åœ¨ä¸ä½¿ç”¨ Prometheus çš„æƒ…å†µä¸‹ï¼Œé‡‡ç”¨ Prometheus çš„ client library æ¥è®©ä½ çš„åº”ç”¨ç¨‹åºæ”¯æŒç›‘æ§æ•°æ®é‡‡é›†ã€‚</p>
<h3 data-id="heading-15"><strong>2ã€Prometheusçš„ä½¿ç”¨</strong></h3>
<h4 data-id="heading-16"><strong>2.1 Prometheusæ¶æ„å’Œç”Ÿæ€åœˆç»„ä»¶</strong></h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/210de0951f0e432b9641aa48d901f769~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=SxJZjyjA8mcmflaH90bpnp7z6pQ%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h5 data-id="heading-17"><strong>æ¶æ„è§£æï¼š</strong></h5>
<p><strong>1.å­˜å‚¨è®¡ç®—å±‚</strong></p>
<ul>
<li><code>Prometheus Server</code>ï¼Œé‡Œé¢åŒ…å«äº†å­˜å‚¨å¼•æ“å’Œè®¡ç®—å¼•æ“ã€‚</li>
<li><code>Retrieval</code>Â ç»„ä»¶ä¸ºå–æ•°ç»„ä»¶ï¼Œå®ƒä¼šä¸»åŠ¨ä» Pushgateway æˆ–è€… Exporter æ‹‰å–æŒ‡æ ‡æ•°æ®ã€‚</li>
<li><code>Service discovery</code>ï¼Œå¯ä»¥åŠ¨æ€å‘ç°è¦ç›‘æ§çš„ç›®æ ‡ã€‚</li>
<li><code>TSDB</code>ï¼ˆTime Series Databaseæ—¶é—´åºåˆ—æ•°æ®åº“ï¼‰ï¼Œæ•°æ®æ ¸å¿ƒå­˜å‚¨ä¸æŸ¥è¯¢ã€‚</li>
<li><code>HTTP server</code>ï¼Œå¯¹å¤–æä¾› HTTP æœåŠ¡ã€‚</li>
</ul>
<p><strong>2.é‡‡é›†å±‚</strong></p>
<p>é‡‡é›†å±‚åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯ç”Ÿå‘½å‘¨æœŸè¾ƒçŸ­çš„ä½œä¸šï¼Œè¿˜æœ‰ä¸€ç±»æ˜¯ç”Ÿå‘½å‘¨æœŸè¾ƒé•¿çš„ä½œä¸šã€‚</p>
<ul>
<li><strong>çŸ­ä½œä¸šï¼š</strong> Â ç›´æ¥é€šè¿‡ APIï¼Œåœ¨é€€å‡ºæ—¶é—´æŒ‡æ ‡æ¨é€ç»™ Pushgatewayã€‚</li>
<li><strong>é•¿ä½œä¸šï¼š</strong> Â Retrieval ç»„ä»¶ç›´æ¥ä» Job æˆ–è€… Exporter æ‹‰å–æ•°æ®ã€‚Prometheusæä¾›äº†å„ç§å¸¸ç”¨çš„exporterï¼Œæ–¹ä¾¿æˆ‘ä»¬ä½¿ç”¨Prometheuså¯¹æœåŠ¡è¿›è¡Œç›‘æ§ã€‚</li>
</ul>
<p><strong>3.åº”ç”¨å±‚</strong></p>
<p>åº”ç”¨å±‚ä¸»è¦åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯Â <code>AlertManager</code>ï¼Œå¦ä¸€ç§æ˜¯æ•°æ®å¯è§†åŒ–ã€‚</p>
<p><strong>AlertManager</strong></p>
<ul>
<li>å¯¹æ¥ Pagerdutyï¼Œæ˜¯ä¸€å¥—ä»˜è´¹çš„ç›‘æ§æŠ¥è­¦ç³»ç»Ÿã€‚å¯å®ç°çŸ­ä¿¡æŠ¥è­¦ã€5 åˆ†é’Ÿæ— äºº ack æ‰“ç”µè¯é€šçŸ¥ã€ä»ç„¶æ— äºº ackï¼Œé€šçŸ¥å€¼ç­äººå‘˜ Managerâ€¦</li>
<li>Emailï¼Œå‘é€é‚®ä»¶â€¦ â€¦</li>
</ul>
<p><strong>æ•°æ®å¯è§†åŒ–</strong></p>
<ul>
<li>Prometheus build-in WebUI</li>
<li>Grafana</li>
<li>å…¶ä»–åŸºäº API å¼€å‘çš„å®¢æˆ·ç«¯</li>
</ul>
<h4 data-id="heading-18"><strong>2.2 Prometheuså®éªŒç¯å¢ƒè§„åˆ’</strong></h4>

























<table><thead><tr><th>ä¸»æœº</th><th>è¿è¡ŒæœåŠ¡</th><th>ç›‘æ§èŒƒå›´</th></tr></thead><tbody><tr><td>prometheus10</td><td>prometheus server</td><td/></tr><tr><td>mysql11</td><td>mysql + node_export+ mysql_export</td><td>æ•°æ®åº“+ä¸»æœº</td></tr><tr><td>application12</td><td>javaåº”ç”¨ï¼ˆspringbootåº”ç”¨ï¼‰+node_export</td><td>javaåº”ç”¨+ä¸»æœº</td></tr></tbody></table>
<ul>
<li><strong>å…‹éš†æœºå™¨ï¼Œä¿®æ”¹ä¸ºé™æ€ip</strong></li>
</ul>

<pre><code class="hljs language-ini" lang="ini">vi /etc/sysconfig/network-scripts/ifcfg-ens33

<span class="hljs-comment">#æ ¹æ®è‡ªå·±çš„VMWareè™šæ‹Ÿæœºç½‘æ®µé…ç½®ï¼Œä¿®æ”¹å¦‚ä¸‹å‡ ä¸ªå‚æ•°</span>
<span class="hljs-attr">IPADDR</span>=<span class="hljs-string">"192.168.11.10"</span>Â Â <span class="hljs-comment"># æ ¹æ®è‡ªå·±çš„ç½‘æ®µï¼Œå°†11ä¿®æ”¹ä¸ºè‡ªå·±çš„ç½‘æ®µå·</span>
<span class="hljs-attr">PREFIX</span>=<span class="hljs-string">"24"</span>Â <span class="hljs-comment">#ä¸ç”¨æ”¹</span>
<span class="hljs-attr">GATEWAY</span>=<span class="hljs-string">"192.168.11.2"</span>Â <span class="hljs-comment"># æ ¹æ®è‡ªå·±çš„ç½‘æ®µï¼Œå°†11ä¿®æ”¹ä¸ºè‡ªå·±çš„ç½‘æ®µå·</span>
<span class="hljs-attr">DNS1</span>=<span class="hljs-string">"8.8.8.8"</span>Â  Â <span class="hljs-comment"># ä¸ç”¨ä¿®æ”¹</span>
<span class="hljs-attr">DNS1</span>=<span class="hljs-string">"114.114.114.114"</span>Â Â <span class="hljs-comment"># ä¸ç”¨ä¿®æ”¹</span>
</code></pre>
<ul>
<li><strong>ä¿®æ”¹ä¸»æœºå</strong></li>
</ul>

<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># hostnamectl set-hostname æ–°çš„ä¸»æœºå</span>
<span class="hljs-meta"># ç¤ºä¾‹å¦‚ä¸‹ï¼š</span>
hostnamectlÂ <span class="hljs-keyword">set</span>-hostname prometheus10
</code></pre>
<ul>
<li><strong>å…³é—­é˜²ç«å¢™ï¼Œselinux</strong></li>
</ul>

<pre><code class="hljs language-bash" lang="bash">Â <span class="hljs-comment"># åœæ­¢é˜²ç«è¯·ï¼Œå¹¶ç¦æ­¢å¼€å¯è‡ªå¯åŠ¨</span>
systemctl stop firewalldÂ 
systemctlÂ <span class="hljs-built_in">disable</span>Â firewalld
<span class="hljs-comment"># å…³é—­selinuxï¼Œä¿®æ”¹åéœ€é‡å¯è™šæ‹Ÿæœº</span>
vi /etc/selinux/config
<span class="hljs-comment">#ä¿®æ”¹SELINUX=enforcing</span>
SELINUX=disabled
</code></pre>
<ul>
<li><strong>é…ç½®ipå’Œä¸»æœºåæ˜ å°„</strong></li>
</ul>

<pre><code class="hljs language-bash" lang="bash">vi /etc/hosts
<span class="hljs-comment">#å¢åŠ å¦‚ä¸‹å†…å®¹</span>
192.168.11.10 prometheus10
192.168.11.11 mysql11
</code></pre>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>
<p>æ¯å°æœºå™¨éƒ½è¦ä¿®æ”¹ï¼Œæ³¨æ„æ¯ä¸ªæœºå™¨çš„IPADDRæœ€åä¸€æ®µä¸€å®šè¦ä¸åŒã€‚</p>
</li>
<li>
<p>ä¸ºäº†æ›´å¥½çš„æ“ä½œä½“éªŒï¼Œæœ€å¥½åœ¨windowsæœºå™¨ä¹Ÿé…ç½®ipçš„ä¸»æœºåæ˜ å°„</p>
</li>
<li/>
<li>
<ul>
<li><code>Cç›˜/windows/system32/drivers/hosts</code></li>
</ul>
</li>
</ul>
<h4 data-id="heading-19"><strong>2.3 å®‰è£…Prometheus Server</strong></h4>
<p>Prometheus åŸºäº Golang ç¼–å†™ï¼Œç¼–è¯‘åçš„è½¯ä»¶åŒ…ï¼Œä¸ä¾èµ–äºä»»ä½•çš„ç¬¬ä¸‰æ–¹ä¾èµ–ã€‚åªéœ€è¦ä¸‹è½½å¯¹åº”å¹³å°çš„äºŒè¿›åˆ¶åŒ…ï¼Œè§£å‹å¹¶ä¸”æ·»åŠ åŸºæœ¬çš„é…ç½®å³å¯æ­£å¸¸å¯åŠ¨Â <code>Prometheus Server</code>ã€‚</p>
<h5 data-id="heading-20"><strong>1.ä¸Šä¼ å®‰è£…åŒ…</strong></h5>
<p>ä¸Šä¼ Â <code>prometheus-2.29.1.linux-amd64.tar.gz</code>Â åˆ°è™šæ‹Ÿæœºçš„<code>/opt/software</code>Â ç›®å½•</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">root@prometheus10 opt</span>]<span class="hljs-meta"># ls /opt/software/</span>
prometheus<span class="hljs-number">-2.29</span><span class="hljs-number">.1</span>.linux-amd64.tar.gz
</code></pre>
<h5 data-id="heading-21"><strong>2.è§£å‹åˆ°/opt/module ç›®å½•ä¸‹</strong></h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta">#æ–°å»ºmoduleç›®å½•</span>
[<span class="hljs-meta">root@prometheus10 opt</span>]<span class="hljs-meta"># mkdir /opt/moduleÂ </span>
<span class="hljs-meta">#è§£å‹ç¼©</span>
[<span class="hljs-meta">root@prometheus10 opt</span>]<span class="hljs-meta"># tar xzvf /opt/software/prometheus-2.29.1.linux-amd64.tar.gz -C /opt/module/</span>
<span class="hljs-meta">#prometheusæ–‡ä»¶å¤¹æ”¹å</span>
[<span class="hljs-meta">root@prometheus10 opt</span>]<span class="hljs-meta"># mv /opt/module/prometheus-2.29.1.linux-amd64/ /opt/module/prometheus-2.29.1</span>
</code></pre>
<h5 data-id="heading-22"><strong>3.é˜…è¯»é…ç½®æ–‡ä»¶</strong></h5>
<p>prometheusçš„é…ç½®å†…å®¹åœ¨Â <code>prometheus.yml</code>ä¸­ï¼Œé»˜è®¤é…ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml">Â <span class="hljs-comment"># my global config å…¨å±€é…ç½®å—ï¼š æ§åˆ¶ Prometheus æœåŠ¡å™¨çš„å…¨å±€é…ç½®</span>
<span class="hljs-attr">global:</span>
Â  <span class="hljs-attr">scrape_interval:</span> <span class="hljs-string">15s</span>Â <span class="hljs-comment"># é…ç½®æ‹‰å–æ•°æ®çš„æ—¶é—´é—´éš”ï¼ˆè¿™é‡Œè®¾ç½®ä¸º15sï¼‰ï¼Œå¦‚æœä¸è®¾ç½®é»˜è®¤ä¸º 1 åˆ†é’Ÿã€‚</span>
Â  <span class="hljs-attr">evaluation_interval:</span> <span class="hljs-string">15s</span>Â <span class="hljs-comment"># è§„åˆ™éªŒè¯ï¼ˆç”Ÿæˆ alertï¼‰çš„æ—¶é—´é—´éš”ï¼ˆè¿™é‡Œè®¾ç½®ä¸º15sï¼‰ï¼Œå¦‚æœä¸è®¾ç½®é»˜è®¤ä¸º 1 åˆ†é’Ÿã€‚.</span>
Â  Â <span class="hljs-comment"># scrape_timeout is set to the global default (10s).</span>

<span class="hljs-comment"># Alertmanager configuration Â å‘Šè­¦é…ç½®</span>
Â <span class="hljs-attr">alerting:</span>
Â  Â <span class="hljs-attr">alertmanagers:</span>
Â  Â  Â <span class="hljs-bullet">-</span> <span class="hljs-attr">static_configs:</span>
Â  Â  Â  Â  Â <span class="hljs-bullet">-</span> <span class="hljs-attr">targets:</span>
Â  Â  Â  Â  Â  Â <span class="hljs-comment"># - alertmanager:9093Â </span>

<span class="hljs-comment"># è§„åˆ™é…ç½®æ–‡ä»¶</span>
<span class="hljs-comment"># Load rules once and periodically evaluate them according to the global 'evaluation_interval'.</span>
Â <span class="hljs-attr">rule_files:</span>
Â  Â <span class="hljs-comment"># - "first_rules.yml"</span>
Â  Â <span class="hljs-comment"># - "second_rules.yml"</span>

<span class="hljs-comment"># é…ç½®é‡‡é›†ç›®æ ‡ç›¸å…³ï¼Œ prometheus ç›‘è§†çš„ç›®æ ‡</span>
Â <span class="hljs-attr">scrape_configs:</span>
Â  Â <span class="hljs-comment"># Prometheusè‡ªèº«çš„è¿è¡Œä¿¡æ¯å¯ä»¥é€šè¿‡ HTTP è®¿é—®ï¼Œæ‰€ä»¥ Prometheus å¯ä»¥ç›‘æ§è‡ªå·±çš„è¿è¡Œæ•°æ®</span>
Â  Â <span class="hljs-comment"># job_nameï¼šç›‘æ§ä½œä¸šçš„åç§°</span>
Â  Â <span class="hljs-bullet">-</span> <span class="hljs-string">job_name:</span>Â <span class="hljs-string">"prometheus"</span>

Â  Â  Â <span class="hljs-comment"># metrics_path defaults to '/metrics'</span>
Â  Â  Â <span class="hljs-comment"># scheme defaults to 'http'.</span>
Â  Â  Â <span class="hljs-comment"># static_configs: è¡¨ç¤ºé™æ€ç›®æ ‡é…ç½®ï¼Œå°±æ˜¯å›ºå®šä»æŸä¸ª target æ‹‰å–æ•°æ®</span>
Â  Â  Â <span class="hljs-attr">static_configs:</span>
Â  Â  Â  Â <span class="hljs-bullet">-</span> <span class="hljs-attr">targets:</span> [<span class="hljs-string">"localhost:9090"</span>]
</code></pre>
<p>Prometheus æ˜¯å¯ä»¥åœ¨è¿è¡Œæ—¶è‡ªåŠ¨åŠ è½½é…ç½®çš„ã€‚å¯åŠ¨æ—¶éœ€è¦æ·»åŠ ï¼š<code>--web.enable-lifecycle</code></p>
<h5 data-id="heading-23"><strong>4.å¯åŠ¨prometheus server</strong></h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># å…ˆè¿›å…¥åˆ°Prometheuså®‰è£…ç›®å½•</span>
[<span class="hljs-meta">root@prometheus10 ~</span>]<span class="hljs-meta"># cd /opt/module/prometheus-2.29.1/</span>
<span class="hljs-meta"># å¯åŠ¨prometheus</span>
[<span class="hljs-meta">root@prometheus10 prometheus-2.29.1</span>]<span class="hljs-meta"># ./prometheus</span>
</code></pre>
<h5 data-id="heading-24"><strong>5.è®¿é—®æµ‹è¯•Prometheus</strong></h5>
<p><code>http://192.168.11.10:9090</code>ï¼ŒPrometheusé»˜è®¤å ç”¨9090ç«¯å£</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/68eb7f4bb02e47fd893bb513165e4231~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=00WqkSsD27McqfO0OPn6uuHtQlc%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h4 data-id="heading-25"><strong>2.4 ç›‘æ§Linuxä¸»æœº</strong></h4>
<p>åœ¨ Prometheus çš„æ¶æ„è®¾è®¡ä¸­ï¼Œ<code>Prometheus Server</code>Â ä¸»è¦è´Ÿè´£æ•°æ®çš„æ”¶é›†ï¼Œå­˜å‚¨å¹¶ä¸”å¯¹å¤–æä¾›æ•°æ®æŸ¥è¯¢æ”¯æŒï¼Œè€Œå®é™…çš„ç›‘æ§æ ·æœ¬æ•°æ®çš„æ”¶é›†åˆ™æ˜¯ç”± Exporter å®Œæˆã€‚å› æ­¤ä¸ºäº†èƒ½å¤Ÿç›‘æ§åˆ°æŸäº›ä¸œè¥¿ï¼Œå¦‚ä¸»æœºçš„ CPU ä½¿ç”¨ç‡ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨åˆ° Exporterã€‚Prometheus å‘¨æœŸæ€§çš„ä» Exporter æš´éœ²çš„ HTTP æœåŠ¡åœ°å€ï¼ˆé€šå¸¸æ˜¯<code>/metrics</code>ï¼‰æ‹‰å–ç›‘æ§æ ·æœ¬æ•°æ®ã€‚</p>
<p>Exporter å¯ä»¥æ˜¯ä¸€ä¸ªç›¸å¯¹å¼€æ”¾çš„æ¦‚å¿µï¼Œå…¶å¯ä»¥æ˜¯ä¸€ä¸ªç‹¬ç«‹è¿è¡Œçš„ç¨‹åºç‹¬ç«‹äºç›‘æ§ç›®æ ‡ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›´æ¥å†…ç½®åœ¨ç›‘æ§ç›®æ ‡ä¸­ã€‚åªè¦èƒ½å¤Ÿå‘ Prometheus æä¾›æ ‡å‡†æ ¼å¼çš„ç›‘æ§æ ·æœ¬æ•°æ®å³å¯ã€‚</p>
<p>ä¸ºäº†èƒ½å¤Ÿé‡‡é›†åˆ°ä¸»æœºçš„è¿è¡ŒæŒ‡æ ‡å¦‚ CPU, å†…å­˜ï¼Œç£ç›˜ç­‰ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Â <code>Node Exporter</code>ã€‚<code>Node Exporter</code>Â åŒæ ·é‡‡ç”¨ Golang ç¼–å†™ï¼Œå¹¶ä¸”ä¸å­˜åœ¨ä»»ä½•çš„ç¬¬ä¸‰æ–¹ä¾èµ–ï¼Œåªéœ€è¦ä¸‹è½½ï¼Œè§£å‹å³å¯è¿è¡Œã€‚å¯ä»¥ä»Â <code>https://prometheus.io/download/</code>Â è·å–æœ€æ–°çš„Â <code>node_exporter</code>Â ç‰ˆæœ¬çš„äºŒè¿›åˆ¶åŒ…ã€‚</p>
<h5 data-id="heading-26"><strong>1.ä¸Šä¼ å®‰è£…åŒ…</strong></h5>
<p>ä¸Šä¼ Â <code>node_exporter-1.2.2.linux-amd64.tar.gz</code>Â åˆ°è™šæ‹Ÿæœºçš„<code>/opt/software</code>Â ç›®å½•</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">root@mysql11 ~</span>]<span class="hljs-meta"># ls /opt/software</span>
node_exporter<span class="hljs-number">-1.2</span><span class="hljs-number">.2</span>.linux-amd64.tar.gz
</code></pre>
<h5 data-id="heading-27"><strong>2.è§£å‹å®‰è£…åŒ…åˆ°/opt/module ç›®å½•ä¸‹</strong></h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta">#æ–°å»ºmoduleç›®å½•</span>
[<span class="hljs-meta">root@mysql11 ~</span>]<span class="hljs-meta"># mkdir /opt/moduleÂ </span>
<span class="hljs-meta">#è§£å‹ç¼©</span>
[<span class="hljs-meta">root@mysql11 ~</span>]<span class="hljs-meta"># tar xzvf /opt/software/node_exporter-1.2.2.linux-amd64.tar.gz -C /opt/module/</span>
<span class="hljs-meta">#node_exporteræ–‡ä»¶å¤¹æ”¹å</span>
[<span class="hljs-meta">root@mysql11 ~</span>]<span class="hljs-meta"># mv /opt/module/node_exporter-1.2.2.linux-amd64/ /opt/module/node_exporter-1.2.2</span>
</code></pre>
<h5 data-id="heading-28"><strong>3.å¯åŠ¨exportï¼Œå¹¶é€šè¿‡metricsç«¯ç‚¹æŸ¥çœ‹å½“å‰node exportè·å–çš„ç›‘æ§ä¿¡æ¯</strong></h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># æ‰§è¡Œ./node_exporter</span>
<span class="hljs-meta">#å…ˆè¿›å…¥node_exporterçš„ç›®å½•</span>
[<span class="hljs-meta">root@mysql11 ~</span>]<span class="hljs-meta"># cd /opt/module/node_exporter-1.2.2/</span>
<span class="hljs-meta"># å†æ‰§è¡Œnode_exporter</span>
[<span class="hljs-meta">root@mysql11 node_exporter-1.2.2</span>]<span class="hljs-meta"># ./node_exporter</span>
</code></pre>
<p>æµè§ˆå™¨è¾“å…¥ï¼š<code>http://mysql11:9100/metrics</code>ï¼Œ(å¦‚æœæ²¡æœ‰åœ¨windowsæœºå™¨é…ç½®ipæ˜ å°„ï¼Œéœ€è¦å°†mysql11æ”¹ä¸ºå…·ä½“çš„ip)ï¼Œå¯ä»¥çœ‹åˆ°å½“å‰Â <code>node exporter</code>Â è·å–åˆ°çš„å½“å‰ä¸»æœºçš„æ‰€æœ‰ç›‘æ§æ•°æ®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acc32b164c27469197efd25a18ac6845~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=sUDYGZRyJd7VCVD1cm7%2F0dtkcnY%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h5 data-id="heading-29"><strong>4.å›åˆ°PrometheusæœåŠ¡å™¨ï¼Œä¿®æ”¹Prometheusé…ç½®æ–‡ä»¶ï¼Œå¢åŠ å¯¹Linuxä¸»æœºçš„ç›‘æ§job</strong></h5>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># åœ¨ scrape_configs é…ç½®é¡¹ä¸‹æ·»åŠ é…ç½®ï¼š</span>

<span class="hljs-section">scrape_configs:</span>
Â  - job_name:Â <span class="hljs-string">"prometheus"</span>
Â  Â  static_configs:
Â  Â  Â  - targets: [<span class="hljs-string">"localhost:9090"</span>]
Â Â <span class="hljs-comment"># æ·»åŠ Node Exporterç›‘æ§é…ç½®</span>
Â  - job_name:Â <span class="hljs-string">"node_exporter"</span>
Â  Â  static_configs:
Â  Â  Â  - targets: [<span class="hljs-string">"mysql11:9100"</span>]
</code></pre>
<p>å¦‚æœå¼€å¯äº†çƒ­åŠ è½½ï¼Œæ­¤æ—¶å¯ä»¥è®¿é—®çƒ­åŠ è½½æ¥å£ä»¥å®Œæˆé…ç½®æ–‡ä»¶çš„åŠ è½½ã€‚<code>curl -X POST http://localhost:9090/-/reload</code></p>
<h5 data-id="heading-30"><strong>5.é‡å¯Prometheusï¼Œé€šè¿‡é¡µé¢æŸ¥çœ‹æ˜¯å¦æˆåŠŸ</strong></h5>
<p><code>http://192.168.11.10:9090</code>ï¼ŒPrometheusé»˜è®¤å ç”¨9090ç«¯å£</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4893dec4013e4478baa7c6c9928efc8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=dFvBHcdQACdTzht616EWSjufzP4%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h4 data-id="heading-31"><strong>2.5 ç›‘æ§MySQL</strong></h4>
<p>ä¸ºäº†èƒ½å¤Ÿé‡‡é›†åˆ°MySQLçš„è¿è¡ŒæŒ‡æ ‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Â <code>MySQL Exporter</code>ã€‚<code>MySQL Exporter</code>Â æ˜¯ç¤¾åŒºä¸“é—¨ä¸ºé‡‡é›† MySQL/MariaDB æ•°æ®åº“ç›‘æ§æŒ‡æ ‡è€Œè®¾è®¡å¼€å‘ï¼Œé€šè¿‡ Exporter ä¸ŠæŠ¥æ ¸å¿ƒçš„æ•°æ®åº“æŒ‡æ ‡ï¼Œç”¨äºå¼‚å¸¸æŠ¥è­¦å’Œç›‘æ§å¤§ç›˜å±•ç¤ºã€‚</p>
<h5 data-id="heading-32"><strong>1.æ•°æ®åº“æˆæƒ</strong></h5>
<p>å› ä¸ºÂ <code>MySQL Exporter</code>Â æ˜¯é€šè¿‡æŸ¥è¯¢æ•°æ®åº“ä¸­çŠ¶æ€æ•°æ®æ¥å¯¹å…¶è¿›è¡Œç›‘æ§ï¼Œæ‰€ä»¥éœ€è¦ä¸ºå¯¹åº”çš„æ•°æ®åº“å®ä¾‹è¿›è¡Œæˆæƒã€‚æˆ‘ä»¬æ–°å»ºä¸€ä¸ªè´¦æˆ·åä¸ºexporterï¼Œå¯†ç ä¸º 123456çš„è´¦æˆ·ï¼Œå¹¶ä¸ºå…¶æˆäºˆç›¸åº”çš„æƒé™ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span>Â <span class="hljs-string">'exporter'</span>@<span class="hljs-string">'localhost'</span>Â IDENTIFIED <span class="hljs-keyword">BY</span>Â <span class="hljs-string">'123456'</span>Â <span class="hljs-keyword">WITH</span> MAX_USER_CONNECTIONS <span class="hljs-number">3</span>;
<span class="hljs-keyword">GRANT</span> PROCESS, REPLICATION CLIENT, <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">ON</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span>Â <span class="hljs-string">'exporter'</span>@<span class="hljs-string">'localhost'</span>;
flush privileges;
</code></pre>
<blockquote>
<p>â€œ</p>
<p>æ³¨æ„:æˆæƒipä¸ºlocalhostï¼Œæ˜¯å› ä¸ºexporterè´¦å¯†ç”±<code>mysql_exporter</code>ä½¿ç”¨ç”¨æ¥æ£€ç´¢æ•°æ®åº“è¿è¡ŒæŒ‡æ ‡ï¼Œè€Œmysql expoerterå’Œmysqlåœ¨åŒä¸€å°æœºå™¨ä¸Šã€‚æ‰€ä»¥è¿™ä¸ªlocalhostæ˜¯æŒ‡çš„<code>mysql_exporter</code>çš„IPã€‚</p>
</blockquote>
<h5 data-id="heading-33"><strong>2.ä¸Šä¼ å®‰è£…åŒ…</strong></h5>
<p>ä¸Šä¼ Â <code>node_exporter-1.2.2.linux-amd64.tar.gz</code>Â åˆ°è™šæ‹Ÿæœºçš„<code>/opt/software</code>Â ç›®å½•</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">root@mysql11 ~</span>]<span class="hljs-meta"># ls /opt/software</span>
mysqld_exporter<span class="hljs-number">-0.13</span><span class="hljs-number">.0</span>.linux-amd64.tar.gz
</code></pre>
<h5 data-id="heading-34"><strong>3.è§£å‹å®‰è£…åŒ…åˆ°<code>/opt/module</code>Â ç›®å½•ä¸‹</strong></h5>
<pre><code class="hljs language-ruby" lang="ruby"><span class="hljs-comment">#æ–°å»ºmoduleç›®å½•</span>
[root<span class="hljs-variable">@mysql11</span> ~]<span class="hljs-comment"># mkdir /opt/moduleÂ </span>
<span class="hljs-comment">#è§£å‹ç¼©</span>
[root<span class="hljs-variable">@mysql11</span> ~]<span class="hljs-comment"># [root<span class="hljs-doctag">@mysql</span>11 ~]# tar xzvf /opt/software/mysqld_exporter-0.13.0.linux-amd64.tar.gz -C /opt/module/</span>
<span class="hljs-comment">#mysql_exporteræ–‡ä»¶å¤¹æ”¹å</span>
[root<span class="hljs-variable">@mysql11</span> ~]<span class="hljs-comment"># Â mv /opt/module/mysqld_exporter-0.13.0.linux-amd64/ /opt/module/mysqld_exporter-0.13.0</span>
</code></pre>
<h5 data-id="heading-35"><strong>4.åœ¨mysqld_exporteræ–‡ä»¶å¤¹ä¸­ï¼Œæ–°å»ºä¸€ä¸ªmy.cnfé…ç½®</strong></h5>
<p>æ‰§è¡ŒÂ <code>vi /opt/module/node_exporter-1.2.2/my.cnf</code>Â ï¼Œæ–°å»ºmy.cnfæ–‡ä»¶ï¼Œå†…å®¹é…ç½®å¦‚ä¸‹:</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[client]</span>
<span class="hljs-attr">user</span>=exporter
<span class="hljs-attr">password</span>=<span class="hljs-number">123456</span>
</code></pre>
<h5 data-id="heading-36"><strong>5.å¯åŠ¨mysql_exporterï¼Œå¹¶è®¿é—®9104ç«¯å£</strong></h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta">#å…ˆè¿›å…¥mysql_exporterçš„ç›®å½•</span>
[<span class="hljs-meta">root@mysql11 ~</span>]<span class="hljs-meta"># cd /opt/module/mysqld_exporter-0.13.0/</span>
[<span class="hljs-meta">root@mysql11 mysqld_exporter-0.13.0</span>]<span class="hljs-meta">#</span>
<span class="hljs-meta"># å†æ‰§è¡Œmysql_exporter</span>
[<span class="hljs-meta">root@mysql11 mysqld_exporter-0.13.0</span>]<span class="hljs-meta"># ./mysqld_exporter --config.my-cnf=my.cnf</span>
</code></pre>
<p>æµè§ˆå™¨è¾“å…¥ï¼š<code>http://mysql11:9104/metrics</code>ï¼Œ(å¦‚æœæ²¡æœ‰åœ¨windowsæœºå™¨é…ç½®ipæ˜ å°„ï¼Œéœ€è¦å°†mysql11æ”¹ä¸ºå…·ä½“çš„ip)ï¼Œå¯ä»¥çœ‹åˆ°å½“å‰Â <code>mysql exporter</code>Â è·å–åˆ°mysqlçš„æ‰€æœ‰ç›‘æ§æ•°æ®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3daad622d2c4ae6b88967226d3131c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=dK5Qk7LcDeFl4tBXc2DHXz2AvLQ%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h5 data-id="heading-37"><strong>6.å›åˆ°PrometheusæœåŠ¡å™¨ï¼Œä¿®æ”¹Prometheusé…ç½®æ–‡ä»¶ï¼Œå¢åŠ å¯¹MySQLçš„ç›‘æ§job</strong></h5>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># åœ¨ scrape_configs é…ç½®é¡¹ä¸‹æ·»åŠ é…ç½®ï¼š</span>

<span class="hljs-section">scrape_configs:</span>
<span class="hljs-section">-job_name:"prometheus"</span>
Â  Â  static_configs:
Â  Â  Â  -targets:[<span class="hljs-string">"localhost:9090"</span>]
<span class="hljs-section">-job_name:"node_exporter"</span>
Â  Â  static_configs:
Â  Â  Â  -targets:[<span class="hljs-string">"mysql11:9100"</span>]
<span class="hljs-section">-job_name:"mysql_exporter"</span>
Â  Â  static_configs:
Â  Â  Â  -targets:[<span class="hljs-string">"mysql11:9104"</span>]
</code></pre>
<h5 data-id="heading-38"><strong>7.é‡å¯Prometheusï¼Œé€šè¿‡é¡µé¢æŸ¥çœ‹æ˜¯å¦æˆåŠŸ</strong></h5>
<p><code>http://192.168.11.10:9090</code>ï¼ŒPrometheusé»˜è®¤å ç”¨9090ç«¯å£</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09f5b22734694bbebf0575f248fae7da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=1Suuuto1ilCbkgQTlBjVcF13c0Y%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h4 data-id="heading-39"><strong>2.6 ç›‘æ§javaåº”ç”¨</strong></h4>
<p>åœ¨ä½¿ç”¨ Spring Boot ä½œä¸ºå¼€å‘æ¡†æ¶æ—¶ï¼Œéœ€è¦ç›‘æ§åº”ç”¨çš„çŠ¶æ€ï¼Œä¾‹å¦‚ JVM/Spring MVC ç­‰ã€‚ è€Œä¸ºäº†ä½¿ç›‘æ§æ·±å…¥åˆ°åº”ç”¨çš„å†…éƒ¨ï¼Œå°±éœ€è¦åº”ç”¨è‡ªèº«æš´éœ²ä½œä¸ºExporteræš´éœ²ç›‘æ§æŒ‡æ ‡ï¼Œè¿™å°±å’Œåº”ç”¨çš„å¼€å‘è¯­è¨€å’ŒæŠ€æœ¯æ¡†æ¶ç´§å¯†ç›¸å…³äº†ã€‚Prometheus ç›‘æ§SpringBootæœåŠ¡åŸºäº Spring Actuator æœºåˆ¶é‡‡é›† JVM ç­‰æ•°æ®ã€‚</p>
<h5 data-id="heading-40"><strong>1.ä¿®æ”¹åº”ç”¨çš„ä¾èµ–å’Œé…ç½®</strong></h5>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!--
é¡¹ç›®ä¸­å·²ç»å¼•ç”¨ spring-boot-starter-web çš„åŸºç¡€ä¸Šï¼Œåœ¨ pom.xml æ–‡ä»¶ä¸­æ·»åŠ  actuator/prometheus Maven ä¾èµ–é¡¹ã€‚
--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
Â  <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>io.micrometer<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
Â  <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>micrometer-registry-prometheus<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<blockquote>
<p>â€œ</p>
<p>æ³¨æ„ï¼šéœ€è¦é…ç½®javaç¯å¢ƒï¼Œå®‰è£…jdk</p>
</blockquote>
<h5 data-id="heading-41"><strong>2.ä¿®æ”¹springbooté¡¹ç›®é…ç½®æ–‡ä»¶</strong></h5>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">management:</span>
Â  <span class="hljs-attr">server:</span>
Â  Â  <span class="hljs-string">port:8091</span>
<span class="hljs-attr">endpoint:</span>
Â  Â  <span class="hljs-attr">prometheus:</span>
Â  Â  Â  <span class="hljs-string">enabled:true</span>
<span class="hljs-attr">endpoints:</span>
Â  Â  <span class="hljs-attr">web:</span>
Â  Â  Â  <span class="hljs-attr">exposure:</span>
Â  Â  Â  Â  <span class="hljs-string">include:health,info,prometheus</span>
<span class="hljs-attr">metrics:</span>
Â  Â  <span class="hljs-attr">tags:</span>
Â  Â  Â  <span class="hljs-string">application:spring-boot-mvc-demo</span>
</code></pre>
<h5 data-id="heading-42"><strong>3.æ‰“åŒ…ï¼Œå¹¶è¿è¡ŒjaråŒ…ï¼Œå¹¶è®¿é—®é…ç½®çš„8091ç«¯å£</strong></h5>
<pre><code class="hljs">Â java -jar springboot-prometheus.jar
</code></pre>
<p>æ­¤æ—¶è®¿é—®Â <code>http://ip:8091/actuator/prometheus</code>ï¼Œä»¥çœ‹åˆ°å½“å‰javaåº”ç”¨çš„æ‰€æœ‰ç›‘æ§æ•°æ®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17ff825d30b1459ea0ca155bc9da1540~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=CqitoyxISreOMNbm6SRpDYxKues%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h5 data-id="heading-43"><strong>4.å›åˆ°PrometheusæœåŠ¡å™¨ï¼Œä¿®æ”¹Prometheusé…ç½®æ–‡ä»¶ï¼Œå¢åŠ å¯¹Javaåº”ç”¨çš„ç›‘æ§job</strong></h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨ scrape_configs é…ç½®é¡¹ä¸‹æ·»åŠ é…ç½®ï¼š</span>

scrape_configs:
-job_name:<span class="hljs-string">"prometheus"</span>
Â  Â  static_configs:
Â  Â  Â  -targets:[<span class="hljs-string">"localhost:9090"</span>]
-job_name:<span class="hljs-string">"node_exporter"</span>
Â  Â  static_configs:
Â  Â  Â  -targets:[<span class="hljs-string">"mysql11:9100"</span>]
-job_name:<span class="hljs-string">"mysql_exporter"</span>
Â  Â  static_configs:
Â  Â  Â  -targets:[<span class="hljs-string">"mysql11:9104"</span>]
<span class="hljs-comment"># æ·»åŠ ç›‘æ§javaåº”ç”¨çš„job</span>
-job_name:<span class="hljs-string">"springboot_exporter"</span>
Â  Â  metrics_path:<span class="hljs-string">'/actuator/prometheus'</span>
Â  Â  static_configs:
Â  Â  Â  -targets:[<span class="hljs-string">"mysql11:8091"</span>]
</code></pre>
<h5 data-id="heading-44"><strong>5.é‡å¯Prometheusï¼Œé€šè¿‡é¡µé¢æŸ¥çœ‹æ˜¯å¦æˆåŠŸ</strong></h5>
<p><code>http://192.168.11.10:9090</code>ï¼ŒPrometheusé»˜è®¤å ç”¨9090ç«¯å£</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec4c93c5b4384307bb2e8aee3edaf2cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=iJcfHn2YDWBZPlZnk4J8QXophuI%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h3 data-id="heading-45"><strong>3 PromQL ä»‹ç»</strong></h3>
<p>Prometheus é€šè¿‡æŒ‡æ ‡åç§°ï¼ˆmetrics nameï¼‰ä»¥åŠå¯¹åº”çš„ä¸€ç»„æ ‡ç­¾ï¼ˆlabelsetï¼‰å”¯ä¸€å®šä¹‰ä¸€æ¡æ—¶é—´åºåˆ—ã€‚æŒ‡æ ‡åç§°åæ˜ äº†ç›‘æ§æ ·æœ¬çš„åŸºæœ¬æ ‡è¯†ï¼Œè€Œ label åˆ™åœ¨è¿™ä¸ªåŸºæœ¬ç‰¹å¾ä¸Šä¸ºé‡‡é›†åˆ°çš„æ•°æ®æä¾›äº†å¤šç§ç‰¹å¾ç»´åº¦ã€‚ç”¨æˆ·å¯ä»¥åŸºäºè¿™äº›ç‰¹å¾ç»´åº¦è¿‡æ»¤ï¼Œèšåˆï¼Œç»Ÿè®¡ä»è€Œäº§ç”Ÿæ–°çš„è®¡ç®—åçš„ä¸€æ¡æ—¶é—´åºåˆ—ã€‚</p>
<p>PromQL æ˜¯ Prometheus å†…ç½®çš„æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼Œå…¶æä¾›å¯¹æ—¶é—´åºåˆ—æ•°æ®ä¸°å¯Œçš„æŸ¥è¯¢ï¼Œèšåˆä»¥åŠé€»è¾‘è¿ç®—èƒ½åŠ›çš„æ”¯æŒã€‚å¹¶ä¸”è¢«å¹¿æ³›åº”ç”¨åœ¨ Prometheusçš„æ—¥å¸¸åº”ç”¨å½“ä¸­ï¼ŒåŒ…æ‹¬å¯¹æ•°æ®æŸ¥è¯¢ã€å¯è§†åŒ–ã€å‘Šè­¦å¤„ç†å½“ä¸­ã€‚</p>
<p>å¯ä»¥è¿™ä¹ˆè¯´ï¼ŒPromQL æ˜¯Prometheus æ‰€æœ‰åº”ç”¨åœºæ™¯çš„åŸºç¡€ï¼Œç†è§£å’ŒæŒæ¡ PromQL æ˜¯ Prometheus å…¥é—¨çš„ç¬¬ä¸€è¯¾ã€‚</p>
<h4 data-id="heading-46"><strong>3.1 åŸºæœ¬ç”¨æ³•</strong></h4>
<h5 data-id="heading-47"><strong>1 æŸ¥è¯¢æ—¶é—´åºåˆ—</strong></h5>
<p>å½“ Prometheus é€šè¿‡ Exporter é‡‡é›†åˆ°ç›¸åº”çš„ç›‘æ§æŒ‡æ ‡æ ·æœ¬æ•°æ®åï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡PromQL å¯¹ç›‘æ§æ ·æœ¬æ•°æ®è¿›è¡ŒæŸ¥è¯¢ã€‚å½“æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ç›‘æ§æŒ‡æ ‡åç§°æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥æŸ¥è¯¢è¯¥æŒ‡æ ‡ä¸‹çš„æ‰€æœ‰æ—¶é—´åºåˆ—ã€‚å¦‚</p>
<pre><code class="hljs">prometheus_http_requests_total
</code></pre>
<p>ç­‰åŒäº</p>
<pre><code class="hljs">prometheus_http_requests_total{}
</code></pre>
<p>è¯¥è¡¨è¾¾å¼ä¼šè¿”å›æŒ‡æ ‡åç§°ä¸ºÂ <code>prometheus_http_requests_total</code>Â çš„æ‰€æœ‰æ—¶é—´åºåˆ—</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">prometheus_http_requests_total</span>{<span class="hljs-selector-tag">code</span>="<span class="hljs-number">200</span>",<span class="hljs-selector-tag">handler</span>="<span class="hljs-selector-tag">alerts</span>",<span class="hljs-selector-tag">instance</span>="<span class="hljs-selector-tag">localhost</span>:<span class="hljs-number">9090</span>",<span class="hljs-selector-tag">job</span>="<span class="hljs-selector-tag">prometheus</span>",<span class="hljs-selector-tag">method</span>="<span class="hljs-selector-tag">get</span>"}=(<span class="hljs-number">20889</span><span class="hljs-variable">@1518096812</span>.<span class="hljs-number">326</span>)
<span class="hljs-selector-tag">prometheus_http_requests_total</span>{<span class="hljs-selector-tag">code</span>="<span class="hljs-number">200</span>",<span class="hljs-selector-tag">handler</span>="<span class="hljs-selector-tag">graph</span>",<span class="hljs-selector-tag">instance</span>="<span class="hljs-selector-tag">localhost</span>:<span class="hljs-number">9090</span>",<span class="hljs-selector-tag">job</span>="<span class="hljs-selector-tag">prometheus</span>",<span class="hljs-selector-tag">method</span>="<span class="hljs-selector-tag">get</span>"}= (<span class="hljs-number">21287</span><span class="hljs-variable">@1518096812</span>.<span class="hljs-number">326</span>)
</code></pre>
<p>PromQL è¿˜æ”¯æŒç”¨æˆ·æ ¹æ®æ—¶é—´åºåˆ—çš„æ ‡ç­¾åŒ¹é…æ¨¡å¼æ¥å¯¹æ—¶é—´åºåˆ—è¿›è¡Œè¿‡æ»¤ï¼Œç›®å‰ä¸»è¦æ”¯æŒä¸¤ç§åŒ¹é…æ¨¡å¼ï¼š<code>å®Œå…¨åŒ¹é…å’Œæ­£åˆ™åŒ¹é…</code>ã€‚</p>
<p><strong>PromQL æ”¯æŒä½¿ç”¨ = å’Œ != ä¸¤ç§å®Œå…¨åŒ¹é…æ¨¡å¼ï¼š</strong></p>
<p>é€šè¿‡ä½¿ç”¨Â <code>label=value</code>Â å¯ä»¥é€‰æ‹©é‚£äº›æ ‡ç­¾æ»¡è¶³è¡¨è¾¾å¼å®šä¹‰çš„æ—¶é—´åºåˆ—ï¼›</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬åªéœ€è¦æŸ¥è¯¢æ‰€æœ‰Â <code>prometheus_http_requests_total</code>Â æ—¶é—´åºåˆ—ä¸­æ»¡è¶³æ ‡ç­¾ instance ä¸ºÂ <code>localhost:9090</code>Â çš„æ—¶é—´ åºåˆ—ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¡¨è¾¾å¼</p>
<pre><code class="hljs language-ini" lang="ini">prometheus_http_requests_total{<span class="hljs-attr">instance</span>=<span class="hljs-string">"localhost:9090"</span>}
</code></pre>
<p>åä¹‹ä½¿ç”¨Â <code>label!=value</code>Â åˆ™å¯ä»¥æ ¹æ®æ ‡ç­¾åŒ¹é…æ’é™¤æ—¶é—´åºåˆ—ï¼›</p>
<p>åä¹‹ä½¿ç”¨Â <code>instance!=â€œlocalhost:9090â€</code>Â åˆ™å¯ä»¥æ’é™¤è¿™äº›æ—¶é—´åºåˆ—</p>
<pre><code class="hljs language-arduino" lang="arduino">prometheus_http_requests_total{instance!=<span class="hljs-string">"localhost:9090"</span>}
</code></pre>
<p><strong>PromQLè¿˜å¯ä»¥æ”¯æŒä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ä½œä¸ºåŒ¹é…æ¡ä»¶ï¼Œå¤šä¸ªè¡¨è¾¾å¼ä¹‹é—´ä½¿ç”¨ | è¿›è¡Œåˆ†ç¦»ï¼š</strong></p>
<p>ä½¿ç”¨Â <code>label=~regx</code>Â è¡¨ç¤ºé€‰æ‹©é‚£äº›æ ‡ç­¾ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼å®šä¹‰çš„æ—¶é—´åºåˆ—ï¼›</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœæƒ³æŸ¥è¯¢å¤šä¸ªç¯èŠ‚ä¸‹çš„æ—¶é—´åºåˆ—åºåˆ—å¯ä»¥ä½¿ç”¨å¦‚ä¸‹è¡¨è¾¾å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">mysql_global_status_buffer_pool_pages{<span class="hljs-attr">state</span>=~<span class="hljs-string">"data|free"</span>}
</code></pre>
<p>åä¹‹ä½¿ç”¨Â <code>label!~regx</code>Â è¿›è¡Œæ’é™¤ï¼›</p>
<p>æ’é™¤ç”¨æ³•</p>
<pre><code class="hljs language-perl" lang="perl">mysql_global_status_buffer_pool_pages{<span class="hljs-keyword">state</span>!~<span class="hljs-string">"data|free"</span>}
</code></pre>
<h5 data-id="heading-48"><strong>2 èŒƒå›´æŸ¥è¯¢</strong></h5>
<p>ç›´æ¥é€šè¿‡ç±»ä¼¼äº PromQL è¡¨è¾¾å¼Â <code>httprequeststotal</code>Â æŸ¥è¯¢æ—¶é—´åºåˆ—æ—¶ï¼Œè¿”å›å€¼ä¸­åªä¼šåŒ…å«è¯¥æ—¶é—´åºåˆ—ä¸­çš„æœ€æ–°çš„ä¸€ä¸ªæ ·æœ¬å€¼ï¼Œè¿™æ ·çš„è¿”å›ç»“æœæˆ‘ä»¬ç§°ä¹‹ä¸ºç¬æ—¶å‘é‡ã€‚è€Œç›¸åº”çš„è¿™æ ·çš„è¡¨è¾¾å¼ç§°ä¹‹ä¸ºç¬æ—¶å‘é‡è¡¨è¾¾å¼ã€‚</p>
<p>è€Œå¦‚æœæˆ‘ä»¬æƒ³è¿‡å»ä¸€æ®µæ—¶é—´èŒƒå›´å†…çš„æ ·æœ¬æ•°æ®æ—¶ï¼Œæˆ‘ä»¬åˆ™éœ€è¦ä½¿ç”¨åŒºé—´å‘é‡è¡¨è¾¾å¼ã€‚åŒºé—´å‘é‡è¡¨è¾¾å¼å’Œç¬æ—¶å‘é‡è¡¨è¾¾å¼ä¹‹é—´çš„å·®å¼‚åœ¨äºåœ¨åŒºé—´å‘é‡è¡¨è¾¾å¼ä¸­æˆ‘ä»¬éœ€è¦å®šä¹‰æ—¶é—´é€‰æ‹©çš„èŒƒå›´ï¼Œæ—¶é—´èŒƒå›´é€šè¿‡æ—¶é—´èŒƒå›´é€‰æ‹©å™¨Â <code>[]</code>Â è¿›è¡Œå®šä¹‰ã€‚</p>
<p>ä¾‹å¦‚ï¼Œé€šè¿‡ä»¥ä¸‹è¡¨è¾¾å¼å¯ä»¥é€‰æ‹©æœ€è¿‘ 5 åˆ†é’Ÿå†…çš„æ‰€æœ‰æ ·æœ¬æ•°æ®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">mysql_global_status_buffer_pool_pages{<span class="hljs-attr">state</span>=~<span class="hljs-string">"data|free"</span>}[<span class="hljs-number">5</span>m]
</code></pre>
<p>è¯¥è¡¨è¾¾å¼å°†ä¼šè¿”å›æŸ¥è¯¢åˆ°çš„æ—¶é—´åºåˆ—ä¸­æœ€è¿‘ 5 åˆ†é’Ÿçš„æ‰€æœ‰æ ·æœ¬æ•°æ®ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">mysql_global_status_buffer_pool_pages{instance=<span class="hljs-string">"mysql201:9104"</span>, job=<span class="hljs-string">"mysql_exporter"</span>, <span class="hljs-keyword">state</span>=<span class="hljs-string">"data"</span>}
<span class="hljs-number">317</span> @1704184450.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184465.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184480.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184495.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184510.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184525.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184540.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184555.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184570.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184585.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184600.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184615.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184630.<span class="hljs-number">736</span>
<span class="hljs-number">317</span> @1704184645.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184660.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184675.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184690.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184705.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184720.<span class="hljs-number">732</span>
<span class="hljs-number">317</span> @1704184735.<span class="hljs-number">732</span>
mysql_global_status_buffer_pool_pages{instance=<span class="hljs-string">"mysql201:9104"</span>, job=<span class="hljs-string">"mysql_exporter"</span>, <span class="hljs-keyword">state</span>=<span class="hljs-string">"free"</span>}
<span class="hljs-number">7874</span> @1704184450.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184465.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184480.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184495.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184510.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184525.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184540.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184555.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184570.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184585.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184600.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184615.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184630.<span class="hljs-number">736</span>
<span class="hljs-number">7874</span> @1704184645.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184660.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184675.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184690.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184705.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184720.<span class="hljs-number">732</span>
<span class="hljs-number">7874</span> @1704184735.<span class="hljs-number">732</span>
</code></pre>
<p>é€šè¿‡åŒºé—´å‘é‡è¡¨è¾¾å¼æŸ¥è¯¢åˆ°çš„ç»“æœæˆ‘ä»¬ç§°ä¸ºåŒºé—´å‘é‡ã€‚ é™¤äº†ä½¿ç”¨ m è¡¨ç¤ºåˆ†é’Ÿä»¥å¤–ï¼ŒPromQL çš„æ—¶é—´èŒƒå›´é€‰æ‹©å™¨æ”¯æŒå…¶å®ƒæ—¶é—´å•ä½ï¼š</p>
<ul>
<li>s - ç§’</li>
<li>m - åˆ†é’Ÿ</li>
<li>h - å°æ—¶</li>
<li>d - å¤©</li>
<li>w - å‘¨</li>
<li>y - å¹´</li>
</ul>
<h5 data-id="heading-49"><strong>3 æ—¶é—´ä½ç§»æ“ä½œ</strong></h5>
<p>åœ¨ç¬æ—¶å‘é‡è¡¨è¾¾å¼æˆ–è€…åŒºé—´å‘é‡è¡¨è¾¾å¼ä¸­ï¼Œéƒ½æ˜¯ä»¥å½“å‰æ—¶é—´ä¸ºåŸºå‡†ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">mysql_global_status_buffer_pool_pages{<span class="hljs-attr">state</span>=~<span class="hljs-string">"data|free"</span>}Â <span class="hljs-comment"># ç¬æ—¶å‘é‡è¡¨è¾¾å¼ï¼Œé€‰æ‹©å½“å‰æœ€æ–°çš„æ•°æ®Â </span>
mysql_global_status_buffer_pool_pages{<span class="hljs-attr">state</span>=~<span class="hljs-string">"data|free"</span>}[<span class="hljs-number">5</span>m]Â <span class="hljs-comment"># åŒºé—´å‘é‡è¡¨è¾¾å¼ï¼Œé€‰æ‹©ä»¥å½“å‰æ—¶é—´ä¸ºåŸºå‡†ï¼Œ5 åˆ†é’Ÿå†…çš„æ•°æ®</span>
</code></pre>
<p>è€Œå¦‚æœæˆ‘ä»¬æƒ³æŸ¥è¯¢ï¼Œ5 åˆ†é’Ÿå‰çš„ç¬æ—¶æ ·æœ¬æ•°æ®ï¼Œæˆ–æ˜¨å¤©ä¸€å¤©çš„åŒºé—´å†…çš„æ ·æœ¬æ•°æ®å‘¢? è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä½ç§»æ“ä½œï¼Œä½ç§»æ“ä½œçš„å…³é”®å­—ä¸º offsetã€‚ å¯ä»¥ä½¿ç”¨ offset æ—¶é—´ä½ç§»æ“ä½œï¼š</p>
<pre><code class="hljs language-ini" lang="ini">mysql_global_status_buffer_pool_pages{<span class="hljs-attr">state</span>=~<span class="hljs-string">"data|free"</span>} <span class="hljs-literal">off</span>set <span class="hljs-number">5</span>m
mysql_global_status_buffer_pool_pages{<span class="hljs-attr">state</span>=~<span class="hljs-string">"data|free"</span>}[<span class="hljs-number">5</span>m] <span class="hljs-literal">off</span>set <span class="hljs-number">5</span>m
</code></pre>
<h5 data-id="heading-50"><strong>4 ä½¿ç”¨èšåˆæ“ä½œ</strong></h5>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæè¿°æ ·æœ¬ç‰¹å¾çš„æ ‡ç­¾(label)åœ¨å¹¶éå”¯ä¸€çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡ PromQL æŸ¥è¯¢æ•°æ®ï¼Œä¼šè¿”å›å¤šæ¡æ»¡è¶³è¿™äº›ç‰¹å¾ç»´åº¦çš„æ—¶é—´åºåˆ—ã€‚</p>
<p>è€Œ PromQL æä¾›çš„èšåˆæ“ä½œå¯ä»¥ç”¨æ¥å¯¹è¿™äº›æ—¶é—´åºåˆ—è¿›è¡Œå¤„ç†ï¼Œå½¢æˆä¸€æ¡æ–°çš„æ—¶é—´åºåˆ—ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">#æŸ¥è¯¢ç³»ç»Ÿæ‰€æœ‰Â http è¯·æ±‚çš„æ€»é‡
<span class="hljs-built_in">sum</span>(prometheus_http_requests_total)
# æŒ‰ç…§ mode è®¡ç®—ä¸»æœº CPU çš„å¹³å‡ä½¿ç”¨æ—¶é—´
<span class="hljs-built_in">avg</span>(node_cpu_seconds_total) by (mode)
# æŒ‰ç…§ä¸»æœºæŸ¥è¯¢å„ä¸ªä¸»æœºçš„ CPU ä½¿ç”¨ç‡
<span class="hljs-built_in">sum</span>(sum(rate(node_cpu_seconds_total{mode!='idle'}[<span class="hljs-number">5</span>m])) Â / Â <span class="hljs-built_in">sum</span>(rate(node_cpu_seconds_total [<span class="hljs-number">5</span>m]))) by (instance)
</code></pre>
<h5 data-id="heading-51"><strong>5 æ ‡é‡å’Œå­—ç¬¦ä¸²</strong></h5>
<p>é™¤äº†ä½¿ç”¨ç¬æ—¶å‘é‡è¡¨è¾¾å¼å’ŒåŒºé—´å‘é‡è¡¨è¾¾å¼ä»¥å¤–ï¼ŒPromQL è¿˜ç›´æ¥æ”¯æŒç”¨æˆ·ä½¿ç”¨æ ‡é‡(Scalar)å’Œå­—ç¬¦ä¸²(String)ã€‚</p>
<p><strong>æ ‡é‡ï¼ˆScalarï¼‰ï¼š</strong> Â ä¸€ä¸ªæµ®ç‚¹å‹çš„æ•°å­—å€¼æ ‡é‡åªæœ‰ä¸€ä¸ªæ•°å­—ï¼Œæ²¡æœ‰æ—¶åºã€‚ ä¾‹å¦‚ï¼š10</p>
<blockquote>
<p>â€œ</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨è¡¨è¾¾å¼Â <code>count(prometheus_http_requests_total)</code>ï¼Œè¿”å›çš„æ•°æ®ç±»å‹ï¼Œä¾ç„¶æ˜¯ç¬æ—¶å‘é‡ã€‚ç”¨æˆ·å¯ä»¥é€šè¿‡å†…ç½®å‡½æ•°Â <code>scalar()</code>å°†å•ä¸ªç¬æ—¶å‘é‡è½¬æ¢ä¸ºæ ‡é‡ã€‚</p>
</blockquote>
<p><strong>å­—ç¬¦ä¸²ï¼ˆStringï¼‰ï¼š</strong> Â ä¸€ä¸ªç®€å•çš„å­—ç¬¦ä¸²å€¼</p>
<blockquote>
<p>â€œ</p>
<p>ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œä½œä¸º PromQL è¡¨è¾¾å¼ï¼Œåˆ™ä¼šç›´æ¥è¿”å›å­—ç¬¦ä¸²ã€‚</p>
</blockquote>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-string">"this is a string"</span>
<span class="hljs-comment">'these are unescaped: \n \ \t'</span>
<span class="hljs-comment">'these are not unescaped: \n 'Â " \t`</span>
</code></pre>
<h5 data-id="heading-52"><strong>6 åˆæ³•çš„ PromQL è¡¨è¾¾å¼</strong></h5>
<p>æ‰€æœ‰çš„ PromQL è¡¨è¾¾å¼éƒ½å¿…é¡»è‡³å°‘åŒ…å«ä¸€ä¸ªæŒ‡æ ‡åç§°(ä¾‹å¦‚Â <code>http_request_total</code>)ï¼Œæˆ–è€…ä¸€ä¸ªä¸ä¼šåŒ¹é…åˆ°ç©ºå­—ç¬¦ä¸²çš„æ ‡ç­¾è¿‡æ»¤å™¨(ä¾‹å¦‚<code>{code=â€200â€}</code>)ã€‚å› æ­¤ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼Œå‡ä¸ºåˆæ³•çš„è¡¨è¾¾å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">prometheus_http_requests_totalÂ <span class="hljs-comment"># åˆæ³•</span>
prometheus_http_requests_total{}Â <span class="hljs-comment"># åˆæ³•</span>
{<span class="hljs-attr">method</span>=<span class="hljs-string">"get"</span>}Â <span class="hljs-comment"># åˆæ³•</span>
</code></pre>
<p>è€Œå¦‚ä¸‹è¡¨è¾¾å¼ï¼Œåˆ™ä¸åˆæ³•ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">{<span class="hljs-attr">job</span>=~<span class="hljs-string">".*"</span>}Â <span class="hljs-comment"># ä¸åˆæ³•</span>
</code></pre>
<p>åŒæ—¶ï¼Œé™¤äº†ä½¿ç”¨Â <code>{label=value}</code>Â çš„å½¢å¼ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨å†…ç½®çš„Â <code>_ _name_ _Â </code>æ ‡ç­¾</p>
<p>æ¥æŒ‡å®šç›‘æ§æŒ‡æ ‡åç§°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">{<span class="hljs-attr">__name__</span>=~<span class="hljs-string">"prometheus_http_requests_total"</span>}Â <span class="hljs-comment"># åˆæ³•</span>
{<span class="hljs-attr">__name__</span>=~<span class="hljs-string">"node_disk_bytes_read|node_disk_bytes_written"</span>}Â <span class="hljs-comment"># åˆæ³•</span>
</code></pre>
<h4 data-id="heading-53"><strong>3.2 PromQLæ“ä½œç¬¦</strong></h4>
<p>ä½¿ç”¨ PromQL é™¤äº†èƒ½å¤Ÿæ–¹ä¾¿çš„æŒ‰ç…§æŸ¥è¯¢å’Œè¿‡æ»¤æ—¶é—´åºåˆ—ä»¥å¤–ï¼ŒPromQL è¿˜æ”¯æŒä¸°å¯Œçš„æ“ä½œç¬¦ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨è¿™äº›æ“ä½œç¬¦å¯¹è¿›ä¸€æ­¥çš„å¯¹äº‹ä»¶åºåˆ—è¿›è¡ŒäºŒæ¬¡åŠ å·¥ã€‚è¿™äº›æ“ä½œç¬¦åŒ…æ‹¬ï¼šæ•°å­¦è¿ç®—ç¬¦ï¼Œé€»è¾‘è¿ç®—ç¬¦ï¼Œå¸ƒå°”è¿ç®—ç¬¦ç­‰ç­‰ã€‚</p>
<h5 data-id="heading-54"><strong>1 æ•°å­¦è¿ç®—</strong></h5>
<p>PromQL æ”¯æŒçš„æ‰€æœ‰æ•°å­¦è¿ç®—ç¬¦å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-scss" lang="scss">+ (åŠ æ³•)
- (å‡æ³•)
* (ä¹˜æ³•)

/ (é™¤æ³•)
% (æ±‚ä½™)
^ (å¹‚è¿ç®—)
</code></pre>
<h5 data-id="heading-55"><strong>2 å¸ƒå°”è¿ç®—</strong></h5>
<p>Prometheus æ”¯æŒä»¥ä¸‹å¸ƒå°”è¿ç®—ç¬¦å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">== (ç›¸ç­‰)
!= (ä¸ç›¸ç­‰)
&gt;(å¤§äº)
&lt; (å°äº)
&gt;= (å¤§äºç­‰äº)
&lt;= (å°äºç­‰äº)
</code></pre>
<p><strong>ä½¿ç”¨ bool ä¿®é¥°ç¬¦æ”¹å˜å¸ƒå°”è¿ç®—ç¬¦çš„è¡Œä¸º</strong></p>
<p>å¸ƒå°”è¿ç®—ç¬¦çš„é»˜è®¤è¡Œä¸ºæ˜¯å¯¹æ—¶åºæ•°æ®è¿›è¡Œè¿‡æ»¤ã€‚è€Œåœ¨å…¶å®ƒçš„æƒ…å†µä¸‹æˆ‘ä»¬å¯èƒ½éœ€è¦çš„æ˜¯çœŸæ­£çš„å¸ƒå°”ç»“æœã€‚</p>
<p>ä¾‹å¦‚ï¼Œåªéœ€è¦ çŸ¥é“å½“å‰æ¨¡å—çš„ HTTP è¯·æ±‚é‡æ˜¯å¦&gt;=1000ï¼Œå¦‚æœå¤§äºç­‰äº1000 åˆ™è¿”å› 1ï¼ˆtrueï¼‰å¦åˆ™è¿”å› 0ï¼ˆfalseï¼‰ã€‚è¿™æ—¶å¯ä»¥ä½¿ ç”¨ bool ä¿®é¥°ç¬¦æ”¹å˜å¸ƒå°”è¿ç®—çš„é»˜è®¤è¡Œä¸ºã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">prometheus_http_requests_total &gt; <span class="hljs-type">bool</span> <span class="hljs-number">1000</span>
</code></pre>
<p>ä½¿ç”¨ bool ä¿®æ”¹ç¬¦åï¼Œå¸ƒå°”è¿ç®—ä¸ä¼šå¯¹æ—¶é—´åºåˆ—è¿›è¡Œè¿‡æ»¤ï¼Œè€Œæ˜¯ç›´æ¥ä¾æ¬¡ç¬æ—¶å‘é‡ä¸­çš„å„ä¸ªæ ·æœ¬æ•°æ®ä¸æ ‡é‡çš„æ¯”è¾ƒç»“æœ 0 æˆ–è€… 1ã€‚ä»è€Œå½¢æˆä¸€æ¡æ–°çš„æ—¶é—´åºåˆ—ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">prometheus_http_requests_total{<span class="hljs-attr">code</span>=<span class="hljs-string">"200"</span>,handler=<span class="hljs-string">"query"</span>,instance=<span class="hljs-string">"localhost:9090"</span>,job=<span class="hljs-string">"prometheus"</span>,method=<span class="hljs-string">"get"</span>} <span class="hljs-number">1</span>
prometheus_http_requests_total{<span class="hljs-attr">code</span>=<span class="hljs-string">"200"</span>,handler=<span class="hljs-string">"query_range"</span>,instance=<span class="hljs-string">"localhost:9090"</span>,job=<span class="hljs-string">"prometheus"</span>,method=<span class="hljs-string">"get"</span>} <span class="hljs-number">0</span>
</code></pre>
<p>åŒæ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ˜¯åœ¨ä¸¤ä¸ªæ ‡é‡ä¹‹é—´ä½¿ç”¨å¸ƒå°”è¿ç®—ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ bool ä¿®é¥°ç¬¦</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">2</span> == bool <span class="hljs-number">2</span>Â <span class="hljs-comment"># ç»“æœä¸º 1</span>
</code></pre>
<h5 data-id="heading-56"><strong>3 é›†åˆè¿ç®—ç¬¦</strong></h5>
<p>ä½¿ç”¨ç¬æ—¶å‘é‡è¡¨è¾¾å¼èƒ½å¤Ÿè·å–åˆ°ä¸€ä¸ªåŒ…å«å¤šä¸ªæ—¶é—´åºåˆ—çš„é›†åˆï¼Œæˆ‘ä»¬ç§°ä¸ºç¬æ—¶å‘é‡ã€‚ é€šè¿‡é›†åˆè¿ç®—ï¼Œå¯ä»¥åœ¨ä¸¤ä¸ªç¬æ—¶å‘é‡ä¸ç¬æ—¶å‘é‡ä¹‹é—´è¿›è¡Œç›¸åº”çš„é›†åˆæ“ä½œã€‚ç›®å‰ï¼ŒPrometheus æ”¯æŒä»¥ä¸‹é›†åˆè¿ç®—ç¬¦ï¼š</p>
<ul>
<li>and (å¹¶ä¸”)</li>
<li>or (æˆ–è€…)</li>
<li>unless (æ’é™¤)</li>
</ul>
<p>vector1 and vector2 ä¼šäº§ç”Ÿä¸€ä¸ªç”± vector1 çš„å…ƒç´ ç»„æˆçš„æ–°çš„å‘é‡ã€‚è¯¥å‘é‡åŒ…å«vector1 ä¸­å®Œå…¨åŒ¹é… vector2 ä¸­çš„å…ƒç´ ç»„æˆã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ±‚å– è®¿é—®æ€»æ•°&gt;5 ä¸”æœ€è¿‘5åˆ†é’Ÿå¢é•¿é€Ÿç‡&gt;0.0001</span>
prometheus_http_requests_total &gt; 5 Â and rate(prometheus_http_requests_total{}<span class="hljs-section">[5m]</span>) &gt; 0.0001
</code></pre>
<p>vector1 or vector2 ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å‘é‡ï¼Œè¯¥å‘é‡åŒ…å« vector1 ä¸­æ‰€æœ‰çš„æ ·æœ¬æ•°æ®ï¼Œä»¥åŠ vector2 ä¸­æ²¡æœ‰ä¸ vector1 åŒ¹é…åˆ°çš„æ ·æœ¬æ•°æ®ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ±‚å– è¯·æ±‚æ€»æ•°&lt;10 æˆ–è€… &gt;20 çš„å‘é‡</span>
prometheus_http_requests_total &lt;10 or prometheus_http_requests_total &gt; 20
</code></pre>
<p>vector1 unless vector2 ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„å‘é‡ï¼Œæ–°å‘é‡ä¸­çš„å…ƒç´ ç”± vector1 ä¸­æ²¡æœ‰ä¸vector2 åŒ¹é…çš„å…ƒç´ ç»„æˆã€‚</p>
<pre><code class="hljs language-scss" lang="scss">prometheus_http_requests_total &gt; <span class="hljs-number">5</span> Â unless <span class="hljs-built_in">rate</span>(prometheus_http_requests_total{}[<span class="hljs-number">5</span>m]) &gt; <span class="hljs-number">0.0001</span>
</code></pre>
<h5 data-id="heading-57"><strong>4 èšåˆæ“ä½œ</strong></h5>
<p>Prometheus è¿˜æä¾›äº†ä¸‹åˆ—å†…ç½®çš„èšåˆæ“ä½œç¬¦ï¼Œè¿™äº›æ“ä½œç¬¦ä½œç”¨åŸŸç¬æ—¶å‘é‡ã€‚å¯ä»¥å°†ç¬æ—¶è¡¨è¾¾å¼è¿”å›çš„æ ·æœ¬æ•°æ®è¿›è¡Œ èšåˆï¼Œå½¢æˆä¸€ä¸ªæ–°çš„æ—¶é—´åºåˆ—ã€‚</p>
<ul>
<li>sum (æ±‚å’Œ)</li>
<li>min (æœ€å°å€¼)</li>
<li>max (æœ€å¤§å€¼)</li>
<li>avg (å¹³å‡å€¼)</li>
<li>stddev (æ ‡å‡†å·®)</li>
<li>stdvar (æ ‡å‡†å·®å¼‚)</li>
<li>count (è®¡æ•°)</li>
<li>count_values (å¯¹ value è¿›è¡Œè®¡æ•°)</li>
<li>bottomk (å n æ¡æ—¶åº)</li>
<li>topk (å‰ n æ¡æ—¶åº)</li>
<li>quantile (åˆ†å¸ƒç»Ÿè®¡)</li>
</ul>
<p>ä½¿ç”¨èšåˆæ“ä½œçš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">aggr-op</span>&gt;</span>([parameter,] <span class="hljs-tag">&lt;<span class="hljs-name">vector</span> <span class="hljs-attr">expression</span>&gt;</span>) [without|by (<span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">list</span>&gt;</span>)]
</code></pre>
<p>å…¶ä¸­åªæœ‰Â <code>count_values</code>Â ,Â <code>quantile</code>Â ,Â <code>topk</code>Â ,Â <code>bottomk</code>Â æ”¯æŒå‚æ•°(parameter)ã€‚</p>
<p>without ç”¨äºä»è®¡ç®—ç»“æœä¸­ç§»é™¤åˆ—ä¸¾çš„æ ‡ç­¾ï¼Œè€Œä¿ç•™å…¶å®ƒæ ‡ç­¾ã€‚by åˆ™æ­£å¥½ç›¸åï¼Œç»“æœå‘é‡ä¸­åªä¿ç•™åˆ—å‡ºçš„æ ‡ç­¾ï¼Œå…¶ä½™æ ‡ç­¾åˆ™ç§»é™¤ã€‚é€šè¿‡ without å’Œ by å¯ä»¥æŒ‰ç…§æ ·æœ¬çš„é—®é¢˜å¯¹æ•°æ®è¿›è¡Œèšåˆã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">sum</span>(prometheus_http_requests_total) without (instance)
</code></pre>
<p>ç­‰ä»·äº</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">sum</span>(prometheus_http_requests_total) by (code,handler,job)
</code></pre>
<p>å¦‚æœåªéœ€è¦è®¡ç®—æ•´ä¸ªåº”ç”¨çš„ HTTP è¯·æ±‚æ€»é‡ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è¡¨è¾¾å¼ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">sum</span>(prometheus_http_requests_total)
</code></pre>
<p><code>count_values</code>Â ç”¨äºæ—¶é—´åºåˆ—ä¸­æ¯ä¸€ä¸ªæ ·æœ¬å€¼å‡ºç°çš„æ¬¡æ•°ã€‚<code>count_values</code>Â ä¼šä¸ºæ¯ä¸€ä¸ªå”¯ä¸€çš„æ ·æœ¬å€¼è¾“å‡ºä¸€ä¸ªæ—¶é—´åºåˆ—ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªæ—¶é—´åºåˆ—åŒ…å«ä¸€ä¸ªé¢å¤–çš„æ ‡ç­¾ã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">count_values</span>("count",prometheus_http_requests_total) by (code,handler,instance,job)
</code></pre>
<p>topk å’Œ bottomk åˆ™ç”¨äºå¯¹æ ·æœ¬å€¼è¿›è¡Œæ’åºï¼Œè¿”å›å½“å‰æ ·æœ¬å€¼å‰ n ä½ï¼Œæˆ–è€…å n ä½çš„æ—¶é—´åºåˆ—ã€‚è·å– HTTP è¯·æ±‚æ•°å‰ 5 ä½çš„æ—¶åºæ ·æœ¬æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">topk</span>(<span class="hljs-number">5</span>, prometheus_http_requests_total)
</code></pre>
<p>quantile ç”¨äºè®¡ç®—å½“å‰æ ·æœ¬æ•°æ®å€¼çš„åˆ†å¸ƒæƒ…å†µÂ <code>quantile(Ï†, express)</code>å…¶ä¸­Â <code>0 â‰¤ Ï† â‰¤ 1</code>ã€‚ä¾‹å¦‚ï¼Œå½“Â <code>Ï†</code>Â ä¸º 0.5 æ—¶ï¼Œå³è¡¨ç¤ºæ‰¾åˆ°å½“å‰æ ·æœ¬æ•°æ®ä¸­çš„ä¸­ä½æ•°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">quantile</span>(<span class="hljs-number">0.5</span>, prometheus_http_requests_total)
</code></pre>
<h3 data-id="heading-58"><strong>4ã€Grafanaçš„ç®€å•ä½¿ç”¨</strong></h3>
<h4 data-id="heading-59"><strong>4.1 Grafanaçš„å®‰è£…</strong></h4>
<p>grafana æ˜¯ä¸€æ¬¾é‡‡ç”¨ Go è¯­è¨€ç¼–å†™çš„å¼€æºåº”ç”¨ï¼Œä¸»è¦ç”¨äºå¤§è§„æ¨¡æŒ‡æ ‡æ•°æ®çš„å¯è§†åŒ–å±•ç°ï¼Œæ˜¯ç½‘ç»œæ¶æ„å’Œåº”ç”¨åˆ†æä¸­æœ€æµè¡Œçš„æ—¶åºæ•°æ®å±•ç¤ºå·¥å…·ï¼Œç›®å‰å·²ç»æ”¯æŒç»å¤§éƒ¨åˆ†å¸¸ç”¨çš„æ—¶åºæ•°æ®åº“ã€‚</p>
<blockquote>
<p>â€œ</p>
<p>ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgrafana.com%2Fgrafana%2Fdownload" target="_blank" title="https://grafana.com/grafana/download" ref="nofollow noopener noreferrer">grafana.com/grafana/dowâ€¦</a></p>
</blockquote>
<h5 data-id="heading-60"><strong>1.ä¸Šä¼ å®‰è£…åŒ…</strong></h5>
<p>ä¸Šä¼ Â <code>grafana-enterprise-8.1.2.linux-amd64.tar.gz</code>Â åˆ°è™šæ‹Ÿæœºçš„<code>/opt/software</code>Â ç›®å½•</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">root@prometheus10 ~</span>]<span class="hljs-meta"># ls /opt/software/</span>
grafana-enterprise<span class="hljs-number">-8.1</span><span class="hljs-number">.2</span>.linux-amd64.tar.gz
</code></pre>
<h5 data-id="heading-61"><strong>2.è§£å‹å®‰è£…åŒ…åˆ°/opt/module ç›®å½•ä¸‹</strong></h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta">#æ–°å»ºmoduleç›®å½•</span>
[<span class="hljs-meta">root@prometheus10 ~</span>]<span class="hljs-meta"># mkdir /opt/moduleÂ </span>
<span class="hljs-meta">#è§£å‹ç¼©</span>
[<span class="hljs-meta">root@prometheus10 ~</span>]<span class="hljs-meta"># tar xzvf /opt/software/grafana-enterprise-8.1.2.linux-amd64.tar.gz -C /opt/module</span>
</code></pre>
<h5 data-id="heading-62"><strong>3.å¯åŠ¨grafana</strong></h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># å…ˆè¿›å…¥åˆ°grafanaå®‰è£…ç›®å½•</span>
[<span class="hljs-meta">root@prometheus10 ~</span>]<span class="hljs-meta"># cd /opt/module/grafana-8.1.2/</span>
<span class="hljs-meta"># å¯åŠ¨grafana</span>
[<span class="hljs-meta">root@prometheus10 grafana-8.1.2</span>]<span class="hljs-meta"># ./bin/grafana-server web &gt; ./grafana.log 2&gt;&amp;1 &amp;</span>
</code></pre>
<h5 data-id="heading-63"><strong>4.è®¿é—®webç®¡ç†ç•Œé¢</strong></h5>
<p>æ‰“å¼€åœ°å€:Â <code>http://ip:3000</code>Â ,é»˜è®¤ç”¨æˆ·åå’Œå¯†ç éƒ½æ˜¯admin</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/909dab069a164f069ba6629253178be7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=FxP63RxTY1DzBMsDTnIVIdGCe50%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h4 data-id="heading-64"><strong>4.2 Grafanaé›†æˆPrometheus</strong></h4>
<blockquote>
<p>â€œ</p>
<p><strong>Grafanaé…ç½®Prometheusè¿æ¥ä¿¡æ¯</strong></p>
</blockquote>
<h5 data-id="heading-65"><strong>1.ç‚¹å‡»é…ç½®ï¼Œé€‰æ‹©DataSource</strong></h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1666baba533e4132bddbac3e002f8a60~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=ewusjjTAxW%2BRBHcoAX%2Bec2UVZxU%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h5 data-id="heading-66"><strong>2.ç‚¹å‡»Add datasource</strong></h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a494f3440049449eaa263f26ee516bdc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=i6zYrXPGIL4t0QYl2NzXGXByz0Y%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h5 data-id="heading-67"><strong>3.é…ç½®Prometheus Serverçš„åœ°å€</strong></h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a0f0107ffdf409f912c64d7e5429256~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=J9Z5s9LYlu1wJjs%2BrBRPtAm4ZWo%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h5 data-id="heading-68"><strong>4.ç‚¹å‡»ä¸‹æ–¹çš„Save &amp; Testï¼Œå‡ºç°ç»¿è‰²çš„Data source is working å³è¯´æ˜Prometheusæ­£å¸¸è”é€š</strong></h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b8cdf80fa5144deb479355fe7313fbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=xuhEDEOQyRsJrm9LiNUoVEX6Pqk%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h5 data-id="heading-69"><strong>5.ç‚¹å‡»Backè¿”å›ï¼Œå³å¯çœ‹åˆ°æ–°æ·»åŠ çš„Prometheus</strong></h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40801d3d15334ab48fdde55535a52bb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=oKJZh4doUWEnvWwDDoB4aK%2BjdXg%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<blockquote>
<p>â€œ</p>
<p><strong>æ‰‹åŠ¨åˆ›å»ºä»ªè¡¨ç›˜Dashboard</strong></p>
</blockquote>
<h5 data-id="heading-70"><strong>1.æ‰‹åŠ¨æ–°å»ºä»ªè¡¨ç›˜</strong></h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/813e376ec9a84c598f80984387f0e246~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=kz0tX8q99oAm5D31g%2FRI5CB%2FGAE%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<h5 data-id="heading-71"><strong>2.åœ¨é¢æ¿ä¸­é…ç½®ç›‘æ§é¡¹</strong></h5>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89aedea6b64f4e4c9f1bca4c7e58477b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=FAISB3gnCqwqbutf5eaTu95kKMQ%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<blockquote>
<p>â€œ</p>
<p><strong>å¯¼å…¥ä»ªè¡¨ç›˜</strong></p>
</blockquote>
<p>æ‰‹åŠ¨ä¸€ä¸ªä¸ªæ·»åŠ  Dashboard æ¯”è¾ƒç¹çï¼ŒGrafana ç¤¾åŒºé¼“åŠ±ç”¨æˆ·åˆ†äº« Dashboardï¼Œé€šè¿‡<code>https://grafana.com/dashboards</code>ç½‘ç«™ï¼Œå¯ä»¥æ‰¾åˆ°å¤§é‡å¯ç›´æ¥ä½¿ç”¨çš„Dashboardæ¨¡æ¿ã€‚</p>
<p>Grafana ä¸­æ‰€æœ‰çš„ Dashboard é€šè¿‡ JSON è¿›è¡Œå…±äº«ï¼Œä¸‹è½½å¹¶ä¸”å¯¼å…¥è¿™äº› JSON æ–‡ä»¶ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›å·²ç»å®šä¹‰å¥½çš„ Dashboardï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89f454d6f4ec4fcdbd423f6f63770a3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=rDjyI7IJ9kAcf73ld%2BEE1W7Q9eE%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<p>é€‰æ‹©è‡ªå·±å–œæ¬¢çš„æ¨¡æ¿ï¼Œé€‰ä¸­è·³è½¬è½¬é¡µé¢åï¼Œç‚¹å‡»<code>Download JSON</code></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3b1b64541ed4a05afbf40bde80c0a49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=c8QUqXFZADXv%2Fsoe0mKV%2FTgZSjE%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<p>å¯¼å…¥æ¨¡æ¿JSON</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/871915ba17b247b1811be829ab07a5db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=9%2BBxHgf3Y0dPiq3zFlWiKNyTr4g%3D" alt="img" loading="lazy"/></p>
<p>img</p>
<p>å¯¼å…¥å®Œæ¯•ï¼Œå³å¯æŸ¥çœ‹åˆ°æ·»åŠ çš„ä»ªè¡¨ç›˜</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/add9a414550246928f0a72a5eaa06fc1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55qu55qu5p6XNTUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534488&amp;x-signature=6m4lYPfXv01mQeHwhdexzMM8W%2Bo%3D" alt="img" loading="lazy"/></p>
<p>img</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-197 KæŠ˜äº¤å‰éªŒè¯å®æˆ˜ï¼šsklearn çœ‹å‡å€¼/æ–¹å·®ï¼Œé€‰æ›´ç¨³çš„ KNN è¶…å‚]]></title>    <link>https://juejin.cn/post/7588300640599900166</link>    <guid>https://juejin.cn/post/7588300640599900166</guid>    <pubDate>2025-12-28T13:55:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588300640599900166" data-draft-id="7588680081326735402" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-197 KæŠ˜äº¤å‰éªŒè¯å®æˆ˜ï¼šsklearn çœ‹å‡å€¼/æ–¹å·®ï¼Œé€‰æ›´ç¨³çš„ KNN è¶…å‚"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-12-28T13:55:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-197 KæŠ˜äº¤å‰éªŒè¯å®æˆ˜ï¼šsklearn çœ‹å‡å€¼/æ–¹å·®ï¼Œé€‰æ›´ç¨³çš„ KNN è¶…å‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T13:55:17.000Z" title="Sun Dec 28 2025 13:55:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šåŒä¸€æ¨¡å‹å¤šæ¬¡è®­ç»ƒè¯„ä¼°æ³¢åŠ¨å¤§ï¼Œå•æ¬¡åˆ’åˆ†ä¸å¯ä¿¡ï¼ŒK å€¼éš¾å®š</li>
<li>ç»“è®ºï¼šç”¨ K æŠ˜äº¤å‰éªŒè¯çœ‹â€œå¹³å‡åˆ† + æ–¹å·®â€ï¼Œä¼˜å…ˆé€‰é«˜å‡å€¼ä¸”æ–¹å·®å°çš„åŒºé—´</li>
<li>äº§å‡ºï¼šä¸€å¥—å¯å¤ç”¨çš„ cross_val_score æµç¨‹ + ç»“åˆå­¦ä¹ æ›²çº¿çš„ç¨³å®šæ€§é€‰å‚æ–¹æ³•</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efcd037c5153436caa1224825c15bc86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=RbiFT1JvrmxM5K3Qtnt4lFi078k%3D" alt="å¤§æ•°æ®-197 KæŠ˜äº¤å‰éªŒè¯å®æˆ˜ï¼šsklearn çœ‹å‡å€¼/æ–¹å·®ï¼Œé€‰æ›´ç¨³çš„ KNN è¶…å‚" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5877cbd48a0d4469b025210929be161e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=emQMGSbbqgIUYGPn60O9oSwfTuY%3D" alt="å¤§æ•°æ®-197 KæŠ˜äº¤å‰éªŒè¯å®æˆ˜ï¼šsklearn çœ‹å‡å€¼/æ–¹å·®ï¼Œé€‰æ›´ç¨³çš„ KNN è¶…å‚" loading="lazy"/></p>
<h2 data-id="heading-1">äº¤å‰éªŒè¯</h2>
<p>ç¡®å®šäº† K å€¼ä¹‹åï¼Œæˆ‘ä»¬è¿˜èƒ½å¤Ÿè§‚å¯Ÿåˆ°ä¸€ä¸ªé‡è¦ç°è±¡ï¼šæ¯æ¬¡è¿è¡Œæ¨¡å‹æ—¶ï¼Œå­¦ä¹ æ›²çº¿éƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œæ¨¡å‹çš„æ•ˆæœæ—¶å¥½æ—¶åï¼Œå‘ˆç°å‡ºä¸ç¨³å®šæ€§ã€‚è¿™ç§æ³¢åŠ¨ç°è±¡ä¸»è¦æ˜¯ç”±ä»¥ä¸‹åŸå› é€ æˆçš„ï¼š</p>
<ol>
<li>
<p><strong>æ•°æ®é›†åˆ’åˆ†çš„éšæœºæ€§</strong>ï¼š</p>
<ul>
<li>æ¯æ¬¡è¿è¡Œæ—¶ï¼Œè®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„åˆ’åˆ†æ–¹å¼ä¸åŒï¼ˆé€šå¸¸æ˜¯é€šè¿‡éšæœºé‡‡æ ·ï¼‰</li>
<li>ä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾æˆ‘ä»¬æœ‰1000æ¡æ•°æ®ï¼Œç¬¬ä¸€æ¬¡å¯èƒ½éšæœºé€‰å–700æ¡ä½œä¸ºè®­ç»ƒé›†ï¼Œå‰©ä¸‹çš„300æ¡ä½œä¸ºæµ‹è¯•é›†ï¼›ç¬¬äºŒæ¬¡è¿è¡Œæ—¶ï¼Œè¿™ä¸ªåˆ’åˆ†ç»„åˆåˆä¼šå‘ç”Ÿå˜åŒ–</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®åˆ†å¸ƒçš„å½±å“</strong>ï¼š</p>
<ul>
<li>ä¸åŒçš„è®­ç»ƒé›†ä¼šå­¦åˆ°ç•¥å¾®ä¸åŒçš„æ¨¡å¼</li>
<li>æµ‹è¯•é›†çš„ä¸åŒç»„æˆä¼šå¯¼è‡´è¯„ä¼°æŒ‡æ ‡æ³¢åŠ¨</li>
<li>ä¾‹å¦‚ï¼Œå¦‚æœæŸæ¬¡æµ‹è¯•é›†ä¸­æ°å¥½åŒ…å«è¾ƒå¤šè¾¹ç•Œæ¡ˆä¾‹ï¼Œæ¨¡å‹è¡¨ç°å°±ä¼šè¾ƒå·®</li>
</ul>
</li>
</ol>
<p>åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œè¿™ç§æƒ…å†µåæ˜ äº†å‡ ä¸ªå…³é”®é—®é¢˜ï¼š</p>
<ol>
<li>
<p><strong>å†å²æ•°æ®ä¸æ–°æ•°æ®çš„å·®å¼‚</strong>ï¼š</p>
<ul>
<li>è®­ç»ƒæ•°æ®é€šå¸¸æ˜¯é™æ€çš„å†å²æ•°æ®</li>
<li>æµ‹è¯•æ•°æ®åˆ™æ¨¡æ‹Ÿæœªæ¥æ–°è¿›å…¥ç³»ç»Ÿçš„å®æ—¶æ•°æ®</li>
<li>åœ¨ç”µå•†æ¨èç³»ç»Ÿä¸­ï¼Œç”¨è¿‡å»3ä¸ªæœˆçš„è®¢å•æ•°æ®è®­ç»ƒï¼Œä½†éœ€è¦é¢„æµ‹æœªæ¥ä¸€å‘¨çš„è´­ä¹°è¡Œä¸º</li>
</ul>
</li>
<li>
<p><strong>æ¨¡å‹è¯„ä¼°çš„æ ¸å¿ƒç›®æ ‡</strong>ï¼š</p>
<ul>
<li>æˆ‘ä»¬è¿½æ±‚çš„æ˜¯æ¨¡å‹åœ¨æœªçŸ¥æ•°æ®ä¸Šçš„è¡¨ç°</li>
<li>è¿™ç§èƒ½åŠ›è¢«ç§°ä¸ºæ³›åŒ–èƒ½åŠ›(Generalization Ability)</li>
<li>å¥½çš„æ³›åŒ–èƒ½åŠ›æ„å‘³ç€ï¼š
<ul>
<li>å¯¹å™ªå£°æ•°æ®ä¿æŒé²æ£’æ€§</li>
<li>èƒ½å¤„ç†æœªè§è¿‡çš„æ•°æ®æ¨¡å¼</li>
<li>é¿å…è¿‡æ‹Ÿåˆè®­ç»ƒæ•°æ®çš„ç‰¹å®šç‰¹å¾</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>æé«˜æ³›åŒ–èƒ½åŠ›çš„æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨äº¤å‰éªŒè¯ä»£æ›¿å•æ¬¡åˆ’åˆ†</li>
<li>å¢åŠ æ•°æ®å¤šæ ·æ€§</li>
<li>é‡‡ç”¨æ­£åˆ™åŒ–æŠ€æœ¯</li>
<li>ä¾‹å¦‚ï¼Œåœ¨é‡‘èé£æ§æ¨¡å‹ä¸­ï¼Œä¼šä½¿ç”¨5æŠ˜äº¤å‰éªŒè¯æ¥æ›´å¯é åœ°è¯„ä¼°æ¨¡å‹æ•ˆæœ</li>
</ul>
</li>
</ol>
<p>è¿™ç§ç°è±¡æé†’æˆ‘ä»¬ï¼Œåœ¨æ¨¡å‹å¼€å‘è¿‡ç¨‹ä¸­ä¸èƒ½ä»…ä¾èµ–å•æ¬¡è¿è¡Œçš„è¯„ä¼°ç»“æœï¼Œè€Œéœ€è¦é€šè¿‡å¤šæ¬¡éªŒè¯æ¥è·å¾—ç¨³å®šçš„æ€§èƒ½è¯„ä¼°ï¼Œè¿™æ‰æ˜¯ä¿è¯æ¨¡å‹åœ¨å®é™…ä¸šåŠ¡ä¸­å¯é è¡¨ç°çš„å…³é”®ã€‚</p>
<h3 data-id="heading-2">æ³›åŒ–èƒ½åŠ›</h3>
<p>æˆ‘ä»¬åœ¨è¿›è¡Œå­¦ä¹ çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šå°†ä¸€ä¸ªæ ·æœ¬é›†åˆ†åŒ–ä¸ºã€è®­ç»ƒé›†ã€‘å’Œã€æµ‹è¯•é›†ã€‘ï¼Œå…¶ä¸­è®­ç»ƒé›†ç”¨äºæ¨¡å‹çš„å­¦ä¹ å’Œè®­ç»ƒï¼Œè€Œåæµ‹è¯•é›†é€šå¸¸ç”¨äºè¯„ä¼°è®­ç»ƒå¥½çš„æ¨¡å‹å¯¹äºæ•°æ®çš„é¢„æµ‹æ€§çš„è¯„ä¼°ã€‚</p>
<ul>
<li>è®­ç»ƒè¯¯å·®ä»£è¡¨æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šçš„é”™åˆ†æ ·æœ¬æ¯”ç‡ã€‚</li>
<li>æµ‹è¯•è¯¯å·®ä»£è¡¨æ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šçš„é”™åˆ†æ ·æœ¬æ¯”ç‡ã€‚</li>
</ul>
<p>è®­ç»ƒè¯¯å·®çš„å¤§å°ï¼Œç”¨æ¥åˆ¤æ–­ç»™å®šé—®é¢˜æ˜¯ä¸æ˜¯ä¸€ä¸ªå®¹æ˜“å­¦ä¹ çš„é—®é¢˜ï¼Œæµ‹è¯•è¯¯å·®ååº”äº†æ¨¡å‹å¯¹æœªçŸ¥æ•°æ®çš„é¢„æµ‹èƒ½åŠ›ï¼Œæµ‹è¯•è¯¯å·®å°çš„å­¦ä¹ æ–¹æ³•å…·æœ‰å¾ˆå¥½çš„é¢„æµ‹èƒ½åŠ›ï¼Œå¦‚æœå¾—åˆ°çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†æ²¡æœ‰äº¤é›†ï¼Œé€šå¸¸å°†æ­¤é¢„æµ‹èƒ½åŠ›ç§°ä¸ºæ³›åŒ–èƒ½åŠ›ï¼ˆgeneralization abilityï¼‰ã€‚
æˆ‘ä»¬è®¤ä¸ºï¼Œå¦‚æœæ¨¡å‹åœ¨ä¸€å¥—è®­ç»ƒé›†å’Œæ•°æ®é›†ä¸Šè¡¨ç°ä¼˜ç§€ï¼Œé‚£è¯´æ˜ä¸äº†é—®é¢˜ï¼Œåªèƒ½åœ¨ä¼—å¤šä¸åŒçš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šéƒ½è¡¨ç°ä¼˜ç§€ï¼Œæ¨¡å‹æ‰æ˜¯ä¸€ä¸ªç¨³å®šçš„æ¨¡å‹ï¼Œæ¨¡å‹æ‰æ˜¯å…·æœ‰çœŸæ­£æ„ä¹‰ä¸Šçš„æ³›åŒ–èƒ½åŠ›ã€‚
ä¸ºæ­¤ï¼Œæœºå™¨å­¦ä¹ é¢†åŸŸæœ‰å‘æŒ¥ç¥ä½œç”¨çš„æŠ€èƒ½ï¼šã€äº¤å‰éªŒè¯ã€‘ï¼Œæ¥å¸®åŠ©æˆ‘ä»¬è®¤è¯†æ¨¡å‹ã€‚</p>
<h3 data-id="heading-3">kæŠ˜äº¤å‰éªŒè¯</h3>
<p>æœ€å¸¸ç”¨çš„äº¤å‰éªŒè¯æ–¹æ³•æ˜¯ K æŠ˜äº¤å‰éªŒè¯ï¼ˆK-Fold Cross Validationï¼‰ã€‚è¿™ç§æ–¹æ³•é€šè¿‡å°†æ•°æ®é›†åˆ’åˆ†ä¸º K ä¸ªå¤§å°ç›¸ä¼¼çš„äº’æ–¥å­é›†ï¼Œæ¯æ¬¡ä½¿ç”¨å…¶ä¸­ K-1 ä¸ªå­é›†ä½œä¸ºè®­ç»ƒæ•°æ®ï¼Œå‰©ä¸‹çš„ 1 ä¸ªå­é›†ä½œä¸ºéªŒè¯æ•°æ®ï¼Œé‡å¤è¿™ä¸ªè¿‡ç¨‹ K æ¬¡ï¼Œæœ€ç»ˆå¾—åˆ° K ä¸ªæ¨¡å‹è¯„ä¼°ç»“æœçš„å¹³å‡å€¼ã€‚</p>
<p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li>å°†åŸå§‹æ•°æ®é›†éšæœºåˆ’åˆ†ä¸º K ä¸ªç­‰å¤§å°çš„å­é›†ï¼ˆé€šå¸¸ K=5 æˆ– 10ï¼‰</li>
<li>ä¾æ¬¡é€‰å–ç¬¬ i ä¸ªå­é›†ä½œä¸ºéªŒè¯é›†ï¼ˆi=1,2,...,Kï¼‰ï¼Œå…¶ä½™ K-1 ä¸ªå­é›†åˆå¹¶ä½œä¸ºè®­ç»ƒé›†</li>
<li>åœ¨è®­ç»ƒé›†ä¸Šè®­ç»ƒæ¨¡å‹ï¼Œåœ¨éªŒè¯é›†ä¸Šè¯„ä¼°æ¨¡å‹æ€§èƒ½</li>
<li>é‡å¤æ­¥éª¤ 2-3 ç›´åˆ°æ‰€æœ‰å­é›†éƒ½å……å½“è¿‡éªŒè¯é›†</li>
<li>è®¡ç®— K æ¬¡è¯„ä¼°ç»“æœçš„å¹³å‡å€¼ä½œä¸ºæœ€ç»ˆæ¨¡å‹æ€§èƒ½æŒ‡æ ‡</li>
</ol>
<p>è¿™ç§æ–¹æ³•ç›¸æ¯”ç®€å•çš„è®­ç»ƒé›†-æµ‹è¯•é›†åˆ’åˆ†å…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å……åˆ†åˆ©ç”¨æœ‰é™çš„æ•°æ®èµ„æº</li>
<li>å‡å°‘æ•°æ®åˆ’åˆ†å¸¦æ¥çš„éšæœºæ€§å½±å“</li>
<li>æä¾›æ›´å¯é çš„æ¨¡å‹æ€§èƒ½è¯„ä¼°</li>
<li>ç‰¹åˆ«é€‚ç”¨äºä¸­å°è§„æ¨¡æ•°æ®é›†</li>
</ul>
<p>å®é™…åº”ç”¨ä¸­ï¼ŒK å€¼çš„é€‰æ‹©éœ€è¦æƒè¡¡ï¼š</p>
<ul>
<li>è¾ƒå°çš„ K å€¼ï¼ˆå¦‚ 5ï¼‰è®¡ç®—æ•ˆç‡æ›´é«˜</li>
<li>è¾ƒå¤§çš„ K å€¼ï¼ˆå¦‚ 10ï¼‰è¯„ä¼°ç»“æœæ›´ç¨³å®š</li>
<li>æç«¯æƒ…å†µ K=Nï¼ˆæ ·æœ¬æ•°ï¼‰æ—¶å³ä¸ºç•™ä¸€æ³•äº¤å‰éªŒè¯</li>
</ul>
<p>é€šè¿‡å¤šæ¬¡äº¤å‰éªŒè¯æ±‚å–å‡å€¼ï¼Œå¯ä»¥æ˜¾è‘—é™ä½å•æ¬¡æ•°æ®åˆ’åˆ†å¸¦æ¥çš„è¯„ä¼°åå·®ï¼Œä¸ºæ¨¡å‹é€‰æ‹©å’Œå‚æ•°è°ƒä¼˜æä¾›æ›´å¯é çš„ä¾æ®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6725d7d8524940d5aacc8aa4cc8731fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=9qFpGDOrsAgN4eB9lt8v2zeYFAc%3D" alt="äº¤å‰éªŒè¯å¤šæ¬¡æµ‹è¯•" loading="lazy"/></p>
<h3 data-id="heading-4">å¸¦äº¤å‰éªŒè¯çš„å­¦ä¹ æ›²çº¿</h3>
<p>å¯¹äºå¸¦äº¤å‰éªŒè¯çš„å­¦ä¹ æ›²çº¿ï¼Œæˆ‘ä»¬éœ€è¦è§‚å¯Ÿçš„å°±ä¸ä»…ä»…æ˜¯æœ€é«˜çš„å‡†ç¡®ç‡äº†ï¼Œè€Œæ˜¯å‡†ç¡®ç‡é«˜ä¸”æ–¹å·®è¿˜ç›¸å¯¹è¾ƒå°çš„ç‚¹ï¼Œè¿™æ ·çš„ç‚¹æ³›åŒ–èƒ½åŠ›æ‰æ˜¯æœ€å¼ºçš„ï¼Œåœ¨äº¤å‰éªŒè¯+å­¦ä¹ æ›²çº¿çš„ä½œç”¨ä¸‹ï¼Œæˆ‘ä»¬é€‰å‡ºçš„è¶…å‚æ•°èƒ½å¤Ÿä¿è¯æ›´å¥½çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> cross_val_score <span class="hljs-keyword">as</span> CVS
Xtrain,Xtest,Ytrain,Ytest = train_test_split(X,y,test_size=<span class="hljs-number">0.2</span>,random_state=<span class="hljs-number">420</span>)
clf = KNeighborsClassifier(n_neighbors=<span class="hljs-number">8</span>)
<span class="hljs-comment">#è®­ç»ƒé›†å¯¹æŠ˜6æ¬¡ï¼Œä¸€å…±6ä¸ªé¢„æµ‹ç‡è¾“å‡º</span>
cvresult = CVS(clf,Xtrain,Ytrain,cv=<span class="hljs-number">6</span>) 
<span class="hljs-comment">#æ¯æ¬¡äº¤å‰éªŒè¯è¿è¡Œæ—¶ä¼°ç®—å™¨å¾—åˆ†çš„æ•°ç»„</span>
cvresult 
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28755e02a4ad4c0aa4fbc0e970e2ebfc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=H1PotusTQW5RO6YsE%2BjyCirbOuM%3D" alt="sklearn äº¤å‰éªŒè¯" loading="lazy"/>
æŸ¥çœ‹å‡å€¼ã€æ–¹å·®</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å‡å€¼ï¼šæŸ¥çœ‹æ¨¡å‹çš„å¹³å‡æ•ˆæœ</span>
cvresult.mean()
<span class="hljs-comment"># æ–¹å·®ï¼šæŸ¥çœ‹æ¨¡å‹æ˜¯å¦ç¨³å®š</span>
cvresult.var()
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45852d79695c49208d1c3dc5ad468218~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=B6hZRxC%2F9%2FJ3Z8M3EXnsPWVvh5k%3D" alt="äº¤å‰éªŒè¯ å‡å€¼ æ–¹å·®" loading="lazy"/>
ç»˜åˆ¶å›¾ç‰‡è¿›è¡ŒæŸ¥çœ‹ï¼š</p>
<pre><code class="hljs language-python" lang="python">score = []
var = []
<span class="hljs-comment">#è®¾ç½®ä¸åŒçš„kå€¼ï¼Œä»1åˆ°19éƒ½çœ‹çœ‹</span>
krange=<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>) 
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> krange:
    clf = KNeighborsClassifier(n_neighbors=i)
    cvresult = CVS(clf,Xtrain,Ytrain,cv=<span class="hljs-number">5</span>)
    <span class="hljs-comment"># æ¯æ¬¡äº¤å‰éªŒè¯è¿”å›çš„å¾—åˆ†æ•°ç»„ï¼Œå†æ±‚æ•°ç»„å‡å€¼</span>
    score.append(cvresult.mean()) 
    var.append(cvresult.var())

plt.plot(krange,score,color=<span class="hljs-string">'k'</span>)
plt.plot(krange,np.array(score)+np.array(var)*<span class="hljs-number">2</span>,c=<span class="hljs-string">'red'</span>,linestyle=<span class="hljs-string">'--'</span>)
plt.plot(krange,np.array(score)-np.array(var)*<span class="hljs-number">2</span>,c=<span class="hljs-string">'red'</span>,linestyle=<span class="hljs-string">'--'</span>)
</code></pre>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8be8e44493a40d08f38d05e7f452741~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=FPWGqCC%2F99fkzRyM5tYDXs5S24U%3D" alt="äº¤å‰éªŒè¯ ç»˜åˆ¶å›¾è¡¨" loading="lazy"/>
è¾“å‡ºçš„å›¾ç‰‡å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a31efbd475df465fa99805cc34464dac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=etZQhBlifC%2Br4dkFH%2FfZILdRHsc%3D" alt="äº¤å‰éªŒè¯ ç»˜åˆ¶å›¾è¡¨" loading="lazy"/></p>
<h3 data-id="heading-5">æ˜¯å¦éœ€è¦éªŒè¯é›†</h3>
<p>æœ€æ ‡å‡†ï¼Œæœ€ä¸¥è°¨çš„äº¤å‰éªŒè¯åº”è¯¥æœ‰ä¸‰ç»„æ•°æ®ï¼šè®­ç»ƒé›†ã€éªŒè¯é›†å’Œæµ‹è¯•é›†ã€‚å½“æˆ‘ä»¬è·å–ä¸€ç»„æ•°æ®ä¹‹åï¼š</p>
<ul>
<li>å…ˆå°†æ•°æ®é›†åˆ†æˆæ•´ä½“çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†</li>
<li>ç„¶åæˆ‘ä»¬æŠŠè®­ç»ƒé›†æ”¾å…¥äº¤å‰éªŒè¯ä¸­</li>
<li>ä»è®­ç»ƒé›†ä¸­åˆ†å‰²æ›´å°çš„è®­ç»ƒé›†ï¼ˆk-1 ä»½ï¼‰å’ŒéªŒè¯æœºï¼ˆ1 ä»½ï¼‰</li>
<li>è¿”å›çš„äº¤å‰éªŒè¯ç»“æœå…¶å®æ˜¯éªŒè¯é›†ä¸Šçš„ç»“æœ</li>
<li>ä½¿ç”¨éªŒè¯é›†å¯»æ‰¾æœ€ä½³å‚æ•°ï¼Œç¡®è®¤ä¸€ä¸ªæˆ‘ä»¬è®¤ä¸ºæ³›åŒ–èƒ½åŠ›æœ€ä½³çš„æ¨¡å‹</li>
<li>å°†è¿™ä¸ªæ¨¡å‹ä½¿ç”¨åœ¨æµ‹è¯•é›†ä¸Šï¼Œè§‚å¯Ÿæ¨¡å‹çš„è¡¨ç°</li>
</ul>
<p>é€šå¸¸æ¥è¯´ï¼Œæˆ‘ä»¬è®¤ä¸ºç»è¿‡éªŒè¯é›†æ‰¾å‡ºæœ€ç»ˆå‚æ•°åçš„æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›æ˜¯å¢å¼ºäº†çš„ï¼Œå› æ­¤æ¨¡å‹åœ¨æœªçŸ¥æ•°æ®ï¼ˆæµ‹è¯•é›†ï¼‰ä¸Šçš„æ•ˆæœä¼šæ›´å¥½ï¼Œä½†å°´å°¬çš„æ˜¯ï¼Œæ¨¡å‹ç»è¿‡äº¤å‰éªŒè¯åœ¨éªŒè¯é›†ä¸Šçš„è°ƒå‚ä¹‹åï¼Œåœ¨æµ‹è¯•é›†ä¸Šçš„ç»“æœæ²¡æœ‰å˜å¥½çš„æƒ…å†µæ—¶æœ‰å‘ç”Ÿã€‚</p>
<p>åŸå› å…¶å®æ˜¯ï¼š</p>
<ul>
<li>æˆ‘ä»¬è‡ªå·±åˆ†çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œä¼šå½±å“æ¨¡å‹çš„æ•ˆæœ</li>
<li>äº¤å‰éªŒè¯åçš„æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å¢å¼ºäº†ï¼Œè¡¨ç°å®ƒåœ¨æœªçŸ¥æ•°æ®é›†ä¸Šæ–¹å·®æ›´å°ï¼Œå¹³å‡æ°´å¹³æ›´é«˜ï¼Œä½†å´æ— æ³•ä¿è¯å®ƒåœ¨ç°åœ¨åˆ†å‡ºæ¥çš„æµ‹è¯•é›†ä¸Šé¢„æµ‹èƒ½åŠ›æœ€å¼º</li>
<li>å¦‚æ­¤æ¥è¯´ï¼Œæ˜¯å¦æœ‰æµ‹è¯•é›†çš„å­˜åœ¨ï¼Œå…¶å®æ„ä¹‰ä¸å¤§</li>
</ul>
<p>å¦‚æœæˆ‘ä»¬ç›¸ä¿¡äº¤å‰éªŒè¯çš„è°ƒæ•´ç»“æœæ˜¯å¢å¼ºäº†æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œé‚£å³ä¾¿æµ‹è¯•é›†ä¸Šçš„æµ‹è¯•ç»“æœå¹¶æ²¡æœ‰å˜å¥½ï¼ˆç”šè‡³å˜åï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿè®¤ä¸ºæ¨¡å‹æ˜¯æˆåŠŸçš„ã€‚
å¦‚æœæˆ‘ä»¬ä¸ç›¸ä¿¡äº¤å‰éªŒè¯çš„è°ƒæ•´ç»“æœèƒ½å¤Ÿå¢å¼ºæ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œè€Œä¸€å®šè¦ä¾èµ–æµ‹è¯•é›†æ¥è¿›è¡Œåˆ¤æ–­ï¼Œæˆ‘ä»¬å®Œå…¨æ²¡æœ‰è¿›è¡Œäº¤å‰éªŒè¯çš„å¿…è¦ï¼Œç›´æ¥ç”¨æµ‹è¯•é›†ä¸Šçš„ç»“æœç”¨æ¥è·‘å­¦ä¹ æ›²çº¿å°±å¥½äº†ã€‚
æ‰€ä»¥ï¼Œç©¶ç«Ÿæ˜¯å¦éœ€è¦éªŒè¯é›†ï¼Œå…¶å®æ˜¯å­˜åœ¨äº‰è®®çš„ï¼Œåœ¨ä¸¥è°¨çš„æƒ…å†µä¸‹ï¼Œå¤§å®¶è¿˜æ˜¯ä½¿ç”¨äº†æœ‰éªŒè¯é›†çš„æ–¹å¼ã€‚</p>
<h3 data-id="heading-6">å…¶ä»–äº¤å‰éªŒè¯</h3>
<p>äº¤å‰éªŒè¯çš„æ–¹æ³•ä¸æ­¢â€œK æŠ˜â€ä¸€ç§ï¼Œåˆ†å‰²è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„æ–¹æ³•ä¹Ÿä¸æ­¢ä¸€ç§ï¼Œåˆ†é—¨åˆ«ç±»çš„äº¤å‰éªŒè¯å æ®äº† sklearn ä¸­éå¸¸é•¿çš„ä¸€ç« ã€‚
æ‰€æœ‰çš„äº¤å‰éªŒè¯éƒ½æ˜¯åœ¨åˆ†å‰²è®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œåªä¸è¿‡ä¾§é‡çš„æ–¹å‘ä¸åŒã€‚</p>
<ul>
<li>K æŠ˜å°±æ˜¯æŒ‰é¡ºåºå–è®­ç»ƒé›†å’Œæµ‹è¯•é›†</li>
<li>ShuffleSpilt å°±ä¾§é‡äºè®©æµ‹è¯•é›†åˆ†å¸ƒåœ¨æ•°æ®çš„å…¨æ–¹ä½ä¹‹å†…</li>
<li>StratifiedKFold åˆ™è®¤ä¸ºè®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®å¿…é¡»åœ¨æ¯ä¸ªæ ‡ç­¾åˆ†ç±»ä¸­å æœ‰ç›¸åŒçš„æ¯”ä¾‹</li>
</ul>
<p>å„ç±»äº¤å‰éªŒè¯çš„åŸç†ç¹çï¼Œå¤§å®¶åœ¨æœºå™¨å­¦ä¹ çš„é“è·¯ä¸Šä¸€å®šä¼šé€æ¸é‡åˆ°æ›´éš¾çš„äº¤å‰éªŒè¯ï¼Œä½†æ˜¯ä¸‡å˜ä¸ç¦»å…¶å®—ï¼šæœ¬è´¨ä¸Šäº¤å‰éªŒè¯æ˜¯ä¸ºäº†è§£å†³è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„åˆ’åˆ†å¯¹æ¨¡å‹å¸¦æ¥çš„å½±å“ï¼ŒåŒæ—¶æ£€æµ‹æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58ab85d1c5724f38afc0f9727862bda7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=sR9WWcEJBKx5S80nmKCVHA6CmIg%3D" alt="å„ç±»äº¤å‰éªŒè¯" loading="lazy"/></p>
<p>äº¤å‰éªŒè¯çš„æŠ˜æ•°ä¸å¯å¤ªå¤§ï¼Œå› ä¸ºæŠ˜æ•°è¶Šå¤§æŠ½å‡ºæ¥çš„æ•°æ®é›†è¶Šå°ï¼Œè®­ç»ƒæ•°æ®æ‰€å¸¦æ¥çš„ä¿¡æ¯é‡å°±ä¼šè¶Šå°ï¼Œæ¨¡å‹ä¼šè¶Šæ¥è¶Šä¸ç¨³å®šã€‚</p>
<h3 data-id="heading-7">é¿å…æŠ˜æ•°å¤ªå¤§</h3>
<p>å¦‚æœä½ å‘ç°ä¸ä½¿ç”¨äº¤å‰éªŒè¯çš„æ—¶å€™æ¨¡å‹è¡¨ç°å¾ˆå¥½ï¼Œä¸€ä½¿ç”¨æ ¡éªŒéªŒè¯æ¨¡å‹çš„æ•ˆæœå°±éª¤é™</p>
<ul>
<li>ä¸€å®šè¦æŸ¥çœ‹ä½ çš„æ ‡ç­¾æ˜¯å¦æœ‰é¡ºåˆ©</li>
<li>ç„¶åå°±æ˜¯æŸ¥çœ‹ä½ çš„æ•°æ®é‡æ˜¯å¦å¤ªå°ï¼ŒæŠ˜æ•°æ˜¯å¦å¤ªé«˜</li>
</ul>
<p>å¦‚æœå°†ä¸Šé¢ä¾‹é¢˜çš„ä»£ç ä¸­å°† cv å°† 5 æ”¹æˆ 100ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-python" lang="python">score = []
var = []
<span class="hljs-comment">#è®¾ç½®ä¸åŒçš„kå€¼ï¼Œä»1åˆ°19éƒ½çœ‹çœ‹</span>
krange=<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>) 
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> krange:
    clf = KNeighborsClassifier(n_neighbors=i)
    cvresult = CVS(clf,Xtrain,Ytrain,cv=<span class="hljs-number">100</span>)
    <span class="hljs-comment"># æ¯æ¬¡äº¤å‰éªŒè¯è¿”å›çš„å¾—åˆ†æ•°ç»„ï¼Œå†æ±‚æ•°ç»„å‡å€¼</span>
    score.append(cvresult.mean()) 
    var.append(cvresult.var())

plt.plot(krange,score,color=<span class="hljs-string">'k'</span>)
plt.plot(krange,np.array(score)+np.array(var)*<span class="hljs-number">2</span>,c=<span class="hljs-string">'red'</span>,linestyle=<span class="hljs-string">'--'</span>)
plt.plot(krange,np.array(score)-np.array(var)*<span class="hljs-number">2</span>,c=<span class="hljs-string">'red'</span>,linestyle=<span class="hljs-string">'--'</span>)
</code></pre>
<p>ç”Ÿæˆå›¾ç‰‡å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c6ae2c16948404f9d97475e158d26ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767534916&amp;x-signature=wtEW3ipBF8a9YABI%2BbYIIMDkbN0%3D" alt="æŠ˜æ•°å›¾è¡¨ç»˜åˆ¶" loading="lazy"/></p>
<p>æŠ˜æ•°è¿‡å¤§ï¼š</p>
<ul>
<li>è¿ç®—æ•ˆç‡å˜æ…¢</li>
<li>é¢„æµ‹ç‡æ–¹å·®å˜å¤§ï¼Œéš¾ä»¥ä¿è¯åœ¨æ–°çš„æ•°æ®é›†è¾¾åˆ°é¢„æœŸé¢„æµ‹ç‡</li>
</ul>
<h2 data-id="heading-8">é”™è¯¯é€ŸæŸ¥</h2>





















































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>æ¯æ¬¡è·‘åˆ†å·®å¼‚å¾ˆå¤§ï¼Œæ›²çº¿å¿½é«˜å¿½ä½</td><td>å•æ¬¡éšæœºåˆ’åˆ†å¯¼è‡´è¯„ä¼°æ–¹å·®å¤§ï¼›æ•°æ®é‡å°/ç±»åˆ«ä¸å‡è¡¡æ›´æ˜æ˜¾</td><td>å›ºå®š random_state å¯¹æ¯”ï¼›æ‰“å°æ¯æ¬¡åˆ’åˆ†çš„ç±»åˆ«å æ¯”</td><td>ç”¨ K æŠ˜äº¤å‰éªŒè¯è¾“å‡º mean/varï¼›åˆ†ç±»ä»»åŠ¡ä¼˜å…ˆ StratifiedKFold/StratifiedShuffleSplitï¼›å¿…è¦æ—¶æ‰©å¤§æ•°æ®é‡</td></tr><tr><td>äº¤å‰éªŒè¯ååœ¨æµ‹è¯•é›†åè€Œæ›´å·®</td><td>åœ¨éªŒè¯æŠ˜ä¸Šâ€œè¿‡åº¦è°ƒå‚â€ï¼›æµ‹è¯•é›†åˆ’åˆ†æœ¬èº«å</td><td>å¯¹æ¯”ä¸åŒéšæœºç§å­çš„æµ‹è¯•é›†ç»“æœåˆ†å¸ƒ</td><td>ä¸¥æ ¼ä¸‰æ®µå¼ï¼štrain +ï¼ˆCV è°ƒå‚ï¼‰+ testï¼›æˆ–ç”¨ nested CVï¼›å‡å°‘è¶…å‚æœç´¢ç©ºé—´</td></tr><tr><td>cv è®¾ç½®å¾ˆå¤§ï¼ˆå¦‚ 100ï¼‰ååˆ†æ•°å¤§å¹…ä¸‹é™ä¸”æ³¢åŠ¨å¢å¤§</td><td>æ¯æŠ˜è®­ç»ƒé›†è¿‡å°ï¼Œæ¨¡å‹ä¼°è®¡ä¸ç¨³ï¼›è¿ç®—é‡æš´æ¶¨</td><td>è§‚å¯Ÿæ¯æŠ˜æ ·æœ¬æ•°ï¼šn_samples / cvï¼›çœ‹ var æ˜¯å¦é£™å‡</td><td>æ§åˆ¶ cvï¼ˆå¸¸ç”¨ 5 æˆ– 10ï¼‰ï¼›å°æ•°æ®ç”¨é‡å¤ K æŠ˜ï¼ˆRepeatedKFoldï¼‰è€Œä¸æ˜¯æå¤§ cv</td></tr><tr><td>æŠ¥é”™ï¼šThe least populated class in y has only 1 member</td><td>åˆ†å±‚äº¤å‰éªŒè¯ä¸‹ï¼ŒæŸäº›ç±»åˆ«æ ·æœ¬å¤ªå°‘ï¼Œæ— æ³•åˆ†æŠ˜</td><td>æŸ¥çœ‹ y å„ç±»åˆ«è®¡æ•°</td><td>åˆå¹¶ç¨€æœ‰ç±»/è¡¥æ ·æœ¬/é™ä½ cvï¼›æˆ–æ”¹ç”¨ä¸åˆ†å±‚ä½†éœ€æ‰¿æ‹…åˆ†å¸ƒæ¼‚ç§»é£é™©</td></tr><tr><td>CV åˆ†æ•°å¼‚å¸¸é«˜ï¼Œçº¿ä¸Šæ•ˆæœå¾ˆå·®</td><td>æ•°æ®æ³„æ¼ï¼šåœ¨ CV ä¹‹å‰åšäº†å…¨é‡æ ‡å‡†åŒ–/ç‰¹å¾é€‰æ‹©/ç¼–ç </td><td>æ£€æŸ¥é¢„å¤„ç†æ˜¯å¦åœ¨ fit å‰ç”¨åˆ°å…¨é‡æ•°æ®</td><td>ç”¨ Pipeline æŠŠé¢„å¤„ç†æ”¾è¿› CVï¼ˆStandardScaler/Encoder/SelectKBest ç­‰éƒ½åœ¨æŠ˜å†… fitï¼‰</td></tr><tr><td>åŒä¸€ä»½ä»£ç åœ¨ä¸åŒæœºå™¨ç»“æœä¸ä¸€è‡´</td><td>å¹¶è¡Œ/éšæœºæ€§/æµ®ç‚¹å·®å¼‚ï¼›æœªå›ºå®šç§å­</td><td>æ£€æŸ¥ random_stateã€n_jobsã€numpy éšæœºç§å­</td><td>å›ºå®š random_stateï¼›å¿…è¦æ—¶ n_jobs=1 å¤ç°ï¼›è®°å½•ä¾èµ–ç‰ˆæœ¬ä¸ç¡¬ä»¶ä¿¡æ¯</td></tr><tr><td>æŒ‡æ ‡çœ‹èµ·æ¥â€œç¨³å®šâ€ä½†ä¸šåŠ¡ä¸è¾¾æ ‡</td><td>é€‰é”™ scoringï¼ˆaccuracy ä¸é€‚åˆä¸å‡è¡¡ï¼‰ï¼›åªçœ‹å‡å€¼ä¸çœ‹ä¸šåŠ¡çº¦æŸ</td><td>å¯¹æ¯”å¤šæŒ‡æ ‡ï¼šprecision/recall/F1/AUCï¼›çœ‹æ··æ·†çŸ©é˜µ</td><td>æ˜ç¡®ä¸šåŠ¡ç›®æ ‡ä¸é˜ˆå€¼ï¼›è®¾ç½® scoringï¼›åˆ†ç±»ä¸å‡è¡¡ç”¨ macro/weighted æŒ‡æ ‡å¹¶é…åˆåˆ†å±‚ CV</td></tr></tbody></table>
<h2 data-id="heading-9">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-10">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-11">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-207 RabbitMQ Direct äº¤æ¢å™¨è·¯ç”±ï¼šRoutingKey ç²¾ç¡®åŒ¹é…ã€é˜Ÿåˆ—å¤šç»‘å®šä¸æ—¥å¿—åˆ†æµå®æˆ˜</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-12">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android äº‹ä»¶åˆ†å‘æœºåˆ¶ï¼ˆäºŒï¼‰â€”â€” ç‚¹å‡»äº‹ä»¶é€ä¼ ]]></title>    <link>https://juejin.cn/post/7588139768276647987</link>    <guid>https://juejin.cn/post/7588139768276647987</guid>    <pubDate>2025-12-28T14:02:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588139768276647987" data-draft-id="7588084804093526054" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android äº‹ä»¶åˆ†å‘æœºåˆ¶ï¼ˆäºŒï¼‰â€”â€” ç‚¹å‡»äº‹ä»¶é€ä¼ "/> <meta itemprop="keywords" content="Android,æºç ,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-28T14:02:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— é™è¿›åŒ–"/> <meta itemprop="url" content="https://juejin.cn/user/108212996024855"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android äº‹ä»¶åˆ†å‘æœºåˆ¶ï¼ˆäºŒï¼‰â€”â€” ç‚¹å‡»äº‹ä»¶é€ä¼ 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/108212996024855/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— é™è¿›åŒ–
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T14:02:38.000Z" title="Sun Dec 28 2025 14:02:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. ç‚¹å‡»é€ä¼ é€»è¾‘</h2>
<p>Android äº‹ä»¶åˆ†å‘éµå¾ª Activity -&gt; Window -&gt; ViewGroup -&gt; View çš„é“¾è·¯ï¼Œé€ä¼ çš„å…³é”®åœ¨äº <strong>ViewGroup å¦‚ä½•åˆ†å‘äº‹ä»¶ç»™å­ View</strong>ã€‚</p>
<p>åœ¨ <code>ViewGroup.dispatchTouchEvent</code> ä¸­ï¼Œå¤„ç† <code>ACTION_DOWN</code> æ—¶ä¼šéå†å­ View å¯»æ‰¾æ¶ˆè´¹è€…ï¼Œé€ä¼ çš„æœ¬è´¨å°±æ˜¯æ§åˆ¶è¿™ä¸ªéå†è¿‡ç¨‹ã€‚</p>
<p>è¦å®ç°é€ä¼ ï¼Œå¿…é¡»è®©ä¸Šå±‚ View åœ¨ <code>dispatchTransformedTouchEvent</code> ä¸­è¿”å› <code>false</code>ï¼Œæˆ–è€…åœ¨ç¬¬ä¸€æ­¥å°±è¢«åˆ¤å®šä¸º <code>continue</code> è·³è¿‡ã€‚</p>
<p><a href="https://juejin.cn/post/7588109656041259054" target="_blank" title="https://juejin.cn/post/7588109656041259054">ç‚¹å‡»é˜…è¯»ï¼šAndroid äº‹ä»¶åˆ†å‘æœºåˆ¶ï¼ˆä¸€ï¼‰â€”â€” å…¨æµç¨‹æºç è§£æ</a></p>
<h2 data-id="heading-1">2. ç‚¹å‡»é€ä¼ çš„å®ç°</h2>
<h3 data-id="heading-2">2.1 å±æ€§æ§åˆ¶</h3>
<p>é€šè¿‡å±æ€§è®¾ç½®ä¸Šå±‚ View ä¸å¯ç‚¹å‡»ã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>
    <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"false"</span>
    <span class="hljs-attr">android:focusable</span>=<span class="hljs-string">"false"</span> /&gt;</span>
</code></pre>
<h4 data-id="heading-3">æºç åŸç†</h4>
<p><code>View.onTouchEvent</code> é»˜è®¤å®ç°ä¸­ï¼Œåªæœ‰å½“ View æ˜¯ <code>CLICKABLE</code> æˆ– <code>LONG_CLICKABLE</code> ç­‰çŠ¶æ€æ—¶æ‰ä¼šè¿”å› <code>true</code>ã€‚å¦‚æœè®¾ä¸º falseï¼Œ<code>onTouchEvent</code> è¿”å› <code>false</code>ï¼ŒViewGroup çš„å¾ªç¯ä¼šç»§ç»­æ‰¾ä¸‹ä¸€ä¸ªå­ Viewï¼ˆå³ä¸‹å±‚ Viewï¼‰ã€‚è€Œ focusable="false" åˆ™æ˜¯ä¸ºäº†é˜²æ­¢éè§¦æ‘¸æ¨¡å¼ä¸‹çš„ç„¦ç‚¹æŠ¢å å’Œæ— éšœç¢å¹²æ‰°ã€‚</p>
<p>æ³¨ï¼šç»™ View è®¾ç½® setOnClickListener æ—¶ä¼šç›´æ¥ setClickable(true)ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
    <span class="hljs-comment">// æ˜¯å¦â€œå¯ç‚¹å‡»â€ (clickable)</span>
    <span class="hljs-comment">// åªè¦æ»¡è¶³ CLICKABLEã€LONG_CLICKABLEã€CONTEXT_CLICKABLE ä»»æ„ä¸€ä¸ªï¼Œå³è§†ä¸ºå¯ç‚¹å‡»ã€‚</span>
    <span class="hljs-comment">// æ³¨æ„ï¼šfocusable å±æ€§ä¸å‚ä¸è¿™ä¸ª clickable å˜é‡çš„è®¡ç®—</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">clickable</span> <span class="hljs-operator">=</span> ((viewFlags &amp; CLICKABLE) == CLICKABLE
            || (viewFlags &amp; LONG_CLICKABLE) == LONG_CLICKABLE)
            || (viewFlags &amp; CONTEXT_CLICKABLE) == CONTEXT_CLICKABLE;

    <span class="hljs-comment">// ... </span>
    <span class="hljs-comment">// åªæœ‰å½“ View æ˜¯ clickable çš„ï¼ˆæˆ–æœ‰ Tooltipï¼‰ï¼Œæ‰ä¼šè¿›å…¥æ­¤å—ã€‚</span>
    <span class="hljs-keyword">if</span> (clickable || (viewFlags &amp; TOOLTIP) == TOOLTIP) {
        <span class="hljs-keyword">switch</span> (action) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-comment">// ... </span>
                <span class="hljs-comment">// å¤„ç† Focusable é€»è¾‘ (ä»…åœ¨ View å·²ç»æ¶ˆè´¹äº‹ä»¶çš„å‰æä¸‹)</span>
                <span class="hljs-type">boolean</span> <span class="hljs-variable">focusTaken</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
                <span class="hljs-comment">// ç‚¹å‡»ä¼šè·å–ç„¦ç‚¹ï¼Ÿ</span>
                <span class="hljs-comment">// æ¡ä»¶ï¼šView æ˜¯ focusable çš„ + åœ¨ Touch æ¨¡å¼ä¸‹å…è®¸ focus + å½“å‰æ²¡ç„¦ç‚¹</span>
                <span class="hljs-keyword">if</span> (isFocusable() &amp;&amp; isFocusableInTouchMode() &amp;&amp; !isFocused()) {
                    focusTaken = requestFocus(); 
                }

                <span class="hljs-comment">// æ‰§è¡Œç‚¹å‡»å›è°ƒ</span>
                <span class="hljs-keyword">if</span> (!mHasPerformedLongPress &amp;&amp; !mIgnoreNextUpEvent) {
                    <span class="hljs-keyword">if</span> (!focusTaken) { <span class="hljs-comment">// å¦‚æœåˆšæ‰è·å–ç„¦ç‚¹å¤±è´¥ï¼ˆæˆ–ä¸éœ€è¦ï¼‰ï¼Œæ‰æ‰§è¡Œç‚¹å‡»</span>
                        performClickInternal(); <span class="hljs-comment">// -&gt; OnClickListener.onClick()</span>
                    }
                }
                <span class="hljs-keyword">break</span>;
                
            <span class="hljs-comment">// ... (çœç•¥ DOWN/MOVE å¤„ç†) ...</span>
        }

        <span class="hljs-comment">// æ¶ˆè´¹äº‹ä»¶</span>
        <span class="hljs-comment">// åªè¦è¿›å…¥äº† if (clickable) å—ï¼Œæœ€ç»ˆä¸€å®šè¿”å› trueã€‚</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; 
    }

    <span class="hljs-comment">// ä¸æ¶ˆè´¹äº‹ä»¶ </span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

</code></pre>
<h3 data-id="heading-4">2.2 é‡å†™ onTouchEvent è¿”å› false</h3>
<p>ç›´æ¥é‡å†™ onTouchEventï¼Œè¿”å› falseã€‚</p>
<p>æ³¨ï¼šå¦‚æœä½ åªåœ¨ <code>ACTION_DOWN</code> è¿”å› falseï¼Œé‚£ä¹ˆåç»­çš„ <code>MOVE</code> å’Œ <code>UP</code> äº‹ä»¶å°†ä¸ä¼šå†åˆ†å‘ç»™è¿™ä¸ª Viewã€‚ä½ åªèƒ½ç›‘å¬åˆ° DOWNã€‚</p>
<h3 data-id="heading-5">2.3 Window çº§åˆ«çš„é€ä¼  (æ‚¬æµ®çª—/ç³»ç»Ÿå±‚)</h3>
<p>è‹¥æ˜¯ <code>WindowManager</code> æ·»åŠ çš„ Viewã€‚</p>
<pre><code class="hljs language-java" lang="java">WindowManager.<span class="hljs-type">LayoutParams</span> <span class="hljs-variable">params</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowManager</span>.LayoutParams();
<span class="hljs-comment">// å…³é”® Flagï¼šFLAG_NOT_TOUCHABLE</span>
<span class="hljs-comment">// è®¾ç½®åï¼Œäº‹ä»¶ç›´æ¥ç©¿é€è¿™ä¸ª Windowï¼Œä¼ é€’ç»™åé¢çš„ Window</span>
params.flags = WindowManager.LayoutParams.FLAG_NOT_TOUCHABLE;

<span class="hljs-comment">// å¦‚æœæƒ³è¦è‡ªå·±å¤„ç†ä¸€éƒ¨åˆ†åŒºåŸŸï¼Œå…¶ä»–åŒºåŸŸé€ä¼ ï¼Œéœ€é…åˆ FLAG_NOT_TOUCH_MODAL</span>
params.flags = WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL;
</code></pre>
<p>Android 12+ å¯¹éç³»ç»Ÿåº”ç”¨çš„è§¦æ‘¸äº‹ä»¶å®‰å…¨æ€§åšäº†é™åˆ¶ï¼ˆé˜²æ­¢ Tapjacking æ”»å‡»ï¼‰ï¼Œè®¾ç½®é€æ˜ Window é€ä¼ äº‹ä»¶æ—¶ï¼Œå¦‚æœé€æ˜åº¦è¿‡ä½æˆ–é®æŒ¡æ•æ„ŸåŒºåŸŸï¼Œäº‹ä»¶å¯èƒ½ä¼šè¢«ç³»ç»Ÿæ‹¦æˆªï¼Œä½†åœ¨åŒä¸ª UID åº”ç”¨å†…é€šå¸¸ä¸å—é™ã€‚</p>
<h2 data-id="heading-6">3. å®æˆ˜</h2>
<h3 data-id="heading-7">3.1 é€æ˜åº¦é™·é˜±</h3>
<ol>
<li><strong>View.setVisibility(INVISIBLE/GONE)</strong> : View ä¸å‚ä¸ç»˜åˆ¶ï¼Œä¸” <code>canReceivePointerEvents()</code> è¿”å› falseï¼Œäº‹ä»¶<strong>å¤©ç„¶é€ä¼ </strong>ã€‚</li>
<li><strong>View.setAlpha(0)</strong> : View åªæ˜¯å…¨é€æ˜ï¼Œä½†ä¾ç„¶å­˜åœ¨äºå¸ƒå±€ä¸­ï¼Œä¾ç„¶å‚ä¸äº‹ä»¶åˆ†å‘ã€‚å¦‚æœä¸è®¾ <code>clickable=false</code>ï¼Œå®ƒå°±æ˜¯ä¸€å µé€æ˜å¢™ï¼Œä¼šæ‹¦æˆªæ‰€æœ‰äº‹ä»¶ã€‚</li>
</ol>
<h3 data-id="heading-8">3.2 äº‹ä»¶åºåˆ—æ–­è£‚</h3>
<p><strong>ç°è±¡ï¼š</strong> ä¸Šå±‚ View æƒ³é€šè¿‡ <code>onTouchEvent</code> ç›‘å¬ç”¨æˆ·çš„æ»‘åŠ¨è½¨è¿¹ï¼ˆMOVEï¼‰ï¼ŒåŒæ—¶è®©ä¸‹å±‚ View ä¹Ÿèƒ½å“åº”ç‚¹å‡»ã€‚äºæ˜¯ä¸Šå±‚åœ¨ DOWN æ—¶è¿”å› <code>false</code>ã€‚</p>
<p><strong>ç»“æœï¼š</strong> ä¸Šå±‚ View æ ¹æœ¬æ”¶ä¸åˆ° MOVE å’Œ UPã€‚</p>
<p><strong>è§£æ³•ï¼š</strong> è¿™ç§â€œæ—¢è¦åˆè¦â€çš„éœ€æ±‚ï¼ˆåŒå±‚å“åº”ï¼‰ï¼Œé€šå¸¸ä¸èƒ½é€šè¿‡ç®€å•çš„ return false å®ç°ã€‚</p>
<ul>
<li><em>æ–¹æ³• Aï¼š</em> ä¸Šå±‚æ‹¦æˆªäº‹ä»¶ï¼ˆreturn trueï¼‰ï¼Œè‡ªå·±åœ¨ <code>onTouchEvent</code> é‡Œå¤„ç†å®Œåï¼Œ<strong>æ‰‹åŠ¨</strong>è°ƒç”¨ä¸‹å±‚ View çš„ <code>dispatchTouchEvent</code>ï¼ˆè¿™ç§å«äº‹ä»¶æ³¨å…¥ï¼Œæ¯”è¾ƒ Hackï¼‰ã€‚</li>
<li><em>æ–¹æ³• Bï¼š</em> ä½¿ç”¨ <code>onInterceptTouchEvent</code>ã€‚</li>
</ul>
<h3 data-id="heading-9">3.3 ImageView é€ä¼ </h3>
<p>ä¸ Button ä¸åŒï¼Œ<strong>ImageView é»˜è®¤ <code>android:clickable="false"</code></strong> ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼Œå¦‚æœä½ åªæ˜¯åœ¨ä¸€ä¸ª FrameLayout ä¸­æŠŠä¸€ä¸ª ImageView ç›–åœ¨ Button ä¸Šï¼Œä¸åšä»»ä½•ä»£ç è®¾ç½®ï¼Œç‚¹å‡»äº‹ä»¶ä¼šè‡ªåŠ¨â€œç©¿é€â€ ImageViewï¼Œè¢«åº•ä¸‹çš„ Button å“åº”ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RimWorld AIè®°å¿†ç³»ç»Ÿæ·±åº¦æŠ€æœ¯åˆ†æ]]></title>    <link>https://juejin.cn/post/7588092534163161088</link>    <guid>https://juejin.cn/post/7588092534163161088</guid>    <pubDate>2025-12-28T12:12:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588092534163161088" data-draft-id="7588095884070912000" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RimWorld AIè®°å¿†ç³»ç»Ÿæ·±åº¦æŠ€æœ¯åˆ†æ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-28T12:12:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åœ†å·æœ¬æ˜Š"/> <meta itemprop="url" content="https://juejin.cn/user/2647279732004807"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RimWorld AIè®°å¿†ç³»ç»Ÿæ·±åº¦æŠ€æœ¯åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2647279732004807/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åœ†å·æœ¬æ˜Š
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T12:12:23.000Z" title="Sun Dec 28 2025 12:12:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">RimWorld AIè®°å¿†ç³»ç»Ÿæ·±åº¦æŠ€æœ¯åˆ†æ</h2>
<h3 data-id="heading-1">ç›®å½•</h3>
<ol>
<li><a href="#%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0" title="#%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%BF%B0">ç³»ç»Ÿæ¦‚è¿°</a></li>
<li><a href="#%E6%A0%B8%E5%BF%83%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1" title="#%E6%A0%B8%E5%BF%83%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1">æ ¸å¿ƒæ¶æ„è®¾è®¡</a></li>
<li><a href="#%E5%9B%9B%E5%B1%82%E8%AE%B0%E5%BF%86%E7%B3%BB%E7%BB%9F%E8%AF%A6%E8%A7%A3" title="#%E5%9B%9B%E5%B1%82%E8%AE%B0%E5%BF%86%E7%B3%BB%E7%BB%9F%E8%AF%A6%E8%A7%A3">å››å±‚è®°å¿†ç³»ç»Ÿè¯¦è§£</a></li>
<li><a href="#%E8%AE%B0%E5%BF%86%E7%B1%BB%E5%9E%8B%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84" title="#%E8%AE%B0%E5%BF%86%E7%B1%BB%E5%9E%8B%E5%92%8C%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">è®°å¿†ç±»å‹å’Œæ•°æ®ç»“æ„</a></li>
<li><a href="#%E6%99%BA%E8%83%BD%E6%B3%A8%E5%85%A5%E7%B3%BB%E7%BB%9F" title="#%E6%99%BA%E8%83%BD%E6%B3%A8%E5%85%A5%E7%B3%BB%E7%BB%9F">æ™ºèƒ½æ³¨å…¥ç³»ç»Ÿ</a></li>
<li><a href="#%E8%AE%B0%E5%BF%86%E6%A3%80%E7%B4%A2%E5%92%8C%E5%8C%B9%E9%85%8D%E7%AE%97%E6%B3%95" title="#%E8%AE%B0%E5%BF%86%E6%A3%80%E7%B4%A2%E5%92%8C%E5%8C%B9%E9%85%8D%E7%AE%97%E6%B3%95">è®°å¿†æ£€ç´¢å’ŒåŒ¹é…ç®—æ³•</a></li>
<li><a href="#%E9%AB%98%E7%BA%A7%E8%AF%84%E5%88%86%E7%B3%BB%E7%BB%9F" title="#%E9%AB%98%E7%BA%A7%E8%AF%84%E5%88%86%E7%B3%BB%E7%BB%9F">é«˜çº§è¯„åˆ†ç³»ç»Ÿ</a></li>
<li><a href="#%E5%B8%B8%E8%AF%86%E7%9F%A5%E8%AF%86%E5%BA%93" title="#%E5%B8%B8%E8%AF%86%E7%9F%A5%E8%AF%86%E5%BA%93">å¸¸è¯†çŸ¥è¯†åº“</a></li>
<li><a href="#%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF%E5%92%8C%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F" title="#%E8%AE%BE%E8%AE%A1%E6%80%9D%E8%B7%AF%E5%92%8C%E6%9E%B6%E6%9E%84%E6%A8%A1%E5%BC%8F">è®¾è®¡æ€è·¯å’Œæ¶æ„æ¨¡å¼</a></li>
<li><a href="#%E6%8A%80%E6%9C%AF%E4%BA%AE%E7%82%B9%E5%92%8C%E5%88%9B%E6%96%B0%E7%82%B9" title="#%E6%8A%80%E6%9C%AF%E4%BA%AE%E7%82%B9%E5%92%8C%E5%88%9B%E6%96%B0%E7%82%B9">æŠ€æœ¯äº®ç‚¹å’Œåˆ›æ–°ç‚¹</a></li>
<li><a href="#%E5%8F%AF%E5%80%9F%E9%89%B4%E7%9A%84%E8%AE%BE%E8%AE%A1%E7%90%86%E5%BF%B5" title="#%E5%8F%AF%E5%80%9F%E9%89%B4%E7%9A%84%E8%AE%BE%E8%AE%A1%E7%90%86%E5%BF%B5">å¯å€Ÿé‰´çš„è®¾è®¡ç†å¿µ</a></li>
<li><a href="#http%E8%AF%B7%E6%B1%82%E5%92%8C%E5%AF%B9%E8%AF%9D%E5%8F%91%E9%80%81%E6%9C%BA%E5%88%B6" title="#http%E8%AF%B7%E6%B1%82%E5%92%8C%E5%AF%B9%E8%AF%9D%E5%8F%91%E9%80%81%E6%9C%BA%E5%88%B6">HTTPè¯·æ±‚å’Œå¯¹è¯å‘é€æœºåˆ¶</a></li>
<li><a href="#%E8%AE%B0%E5%BF%86%E7%AD%9B%E9%80%89%E5%92%8C%E5%8F%91%E9%80%81%E9%80%BB%E8%BE%91" title="#%E8%AE%B0%E5%BF%86%E7%AD%9B%E9%80%89%E5%92%8C%E5%8F%91%E9%80%81%E9%80%BB%E8%BE%91">è®°å¿†ç­›é€‰å’Œå‘é€é€»è¾‘</a></li>
<li><a href="#%E9%81%BF%E5%85%8D%E9%87%8D%E5%A4%8D%E5%AF%B9%E8%AF%9D%E7%9A%84%E6%9C%BA%E5%88%B6" title="#%E9%81%BF%E5%85%8D%E9%87%8D%E5%A4%8D%E5%AF%B9%E8%AF%9D%E7%9A%84%E6%9C%BA%E5%88%B6">é¿å…é‡å¤å¯¹è¯çš„æœºåˆ¶</a></li>
<li><a href="#%E5%AF%B9%E8%AF%9D%E5%8E%86%E5%8F%B2%E7%AE%A1%E7%90%86" title="#%E5%AF%B9%E8%AF%9D%E5%8E%86%E5%8F%B2%E7%AE%A1%E7%90%86">å¯¹è¯å†å²ç®¡ç†</a></li>
</ol>
<hr/>
<h3 data-id="heading-2">ç³»ç»Ÿæ¦‚è¿°</h3>
<p>è¿™æ˜¯ä¸€ä¸ªä¸ºRimWorldæ¸¸æˆæ¨¡ç»„è®¾è®¡çš„å…ˆè¿›AIè®°å¿†ç³»ç»Ÿï¼Œæ¨¡æ‹Ÿäººç±»è®°å¿†çš„å·¥ä½œæœºåˆ¶ï¼Œä¸ºæ¸¸æˆä¸­çš„è§’è‰²ï¼ˆPawnï¼‰æä¾›æŒä¹…åŒ–ã€ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„è®°å¿†ç®¡ç†èƒ½åŠ›ã€‚è¯¥ç³»ç»Ÿé€šè¿‡å¤šå±‚çº§è®°å¿†ç»“æ„ã€æ™ºèƒ½æ£€ç´¢ç®—æ³•å’ŒåŠ¨æ€è¯„åˆ†æœºåˆ¶ï¼Œå®ç°äº†æ¥è¿‘äººç±»è®°å¿†ç‰¹æ€§çš„AIè¡Œä¸ºã€‚</p>
<h4 data-id="heading-3">æ ¸å¿ƒç‰¹æ€§</h4>
<ul>
<li><strong>å››å±‚è®°å¿†æ¶æ„</strong>ï¼šæ¨¡æ‹Ÿäººç±»è®°å¿†çš„è¶…çŸ­æœŸã€çŸ­æœŸã€ä¸­æœŸã€é•¿æœŸè®°å¿†</li>
<li><strong>ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ£€ç´¢</strong>ï¼šåŸºäºåœºæ™¯åˆ†æçš„æ™ºèƒ½è®°å¿†æ³¨å…¥</li>
<li><strong>å¤šå› å­è¯„åˆ†ç®—æ³•</strong>ï¼šç»¼åˆè€ƒè™‘ç›¸å…³æ€§ã€æ—¶æ•ˆæ€§ã€é‡è¦æ€§ç­‰å¤šä¸ªç»´åº¦</li>
<li><strong>å‘é‡æ•°æ®åº“é›†æˆ</strong>ï¼šæ”¯æŒè¯­ä¹‰æœç´¢å’Œç›¸ä¼¼åº¦åŒ¹é…</li>
<li><strong>ç”¨æˆ·å¯ç¼–è¾‘æ€§</strong>ï¼šæ”¯æŒç”¨æˆ·å¯¹è®°å¿†è¿›è¡Œç¼–è¾‘ã€æ ‡æ³¨å’Œå›ºå®š</li>
<li><strong>å¸¸è¯†çŸ¥è¯†åº“</strong>ï¼šæ”¯æŒå…¨å±€å’Œè§’è‰²ç‰¹å®šçš„çŸ¥è¯†ç®¡ç†</li>
</ul>
<hr/>
<h3 data-id="heading-4">æ ¸å¿ƒæ¶æ„è®¾è®¡</h3>
<h4 data-id="heading-5">ç³»ç»Ÿæ¶æ„å›¾</h4>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     RimWorld AIè®°å¿†ç³»ç»Ÿ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  è®°å¿†ç±»å‹å±‚  â”‚    â”‚  è®°å¿†å±‚çº§    â”‚    â”‚  æ ‡ç­¾ç³»ç»Ÿ    â”‚   â”‚
â”‚  â”‚ MemoryTypes  â”‚    â”‚ MemoryLayer  â”‚    â”‚  TagSystem   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â†“                  â†“                  â†“            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              å››å±‚è®°å¿†ç³»ç»Ÿ (Four-Layer Memory)          â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  Active  â”‚ â”‚Situationalâ”‚ â”‚EventLog  â”‚ â”‚Archive â”‚  â”‚  â”‚
â”‚  â”‚  â”‚è¶…çŸ­æœŸè®°å¿†â”‚ â”‚  çŸ­æœŸè®°å¿†  â”‚ â”‚ ä¸­æœŸè®°å¿† â”‚ â”‚é•¿æœŸè®°å¿†â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â†“                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              é«˜çº§è¯„åˆ†ç³»ç»Ÿ (AdvancedScoring)          â”‚  â”‚
â”‚  â”‚  - åœºæ™¯åˆ†æ (SceneAnalyzer)                           â”‚  â”‚
â”‚  â”‚  - å¤šå› å­è¯„åˆ† (Multi-factor Scoring)                  â”‚  â”‚
â”‚  â”‚  - åŠ¨æ€æƒé‡è°ƒæ•´ (Dynamic Weight Adjustment)           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â†“                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           æ™ºèƒ½æ³¨å…¥ç®¡ç†å™¨ (SmartInjectionManager)      â”‚  â”‚
â”‚  â”‚  <span class="hljs-number">1</span>. æŒ‡ä»¤/è§„åˆ™ (Current Guidelines)                    â”‚  â”‚
â”‚  â”‚  <span class="hljs-number">2</span>. å¸¸è¯†/èƒŒæ™¯ (World Knowledge)                       â”‚  â”‚
â”‚  â”‚  <span class="hljs-number">3</span>. è§’è‰²è®°å¿† (Character Memories)                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â†“                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           å¸¸è¯†çŸ¥è¯†åº“ (CommonKnowledgeLibrary)          â”‚  â”‚
â”‚  â”‚  - å…¨å±€çŸ¥è¯† (Global Knowledge)                        â”‚  â”‚
â”‚  â”‚  - è§’è‰²ç‰¹å®šçŸ¥è¯† (Character-specific Knowledge)        â”‚  â”‚
â”‚  â”‚  - å‘é‡æ£€ç´¢ (Vector Search)                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-6">è®¾è®¡åŸåˆ™</h4>
<ol>
<li><strong>åˆ†å±‚å­˜å‚¨</strong>ï¼šæŒ‰ç…§è®°å¿†çš„é‡è¦æ€§å’Œæ—¶æ•ˆæ€§ï¼Œå°†è®°å¿†åˆ†å¸ƒåœ¨ä¸åŒå±‚çº§</li>
<li><strong>ä¸Šä¸‹æ–‡æ„ŸçŸ¥</strong>ï¼šæ ¹æ®å½“å‰åœºæ™¯åŠ¨æ€è°ƒæ•´è®°å¿†æ£€ç´¢ç­–ç•¥</li>
<li><strong>å¤šç»´åº¦è¯„åˆ†</strong>ï¼šç»¼åˆå¤šä¸ªå› å­è®¡ç®—è®°å¿†çš„ç›¸å…³æ€§å¾—åˆ†</li>
<li><strong>ç”¨æˆ·å¯æ§</strong>ï¼šå…è®¸ç”¨æˆ·ç¼–è¾‘ã€æ ‡æ³¨å’Œç®¡ç†è®°å¿†å†…å®¹</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä½¿ç”¨å‘é‡æ•°æ®åº“å’Œç¼“å­˜æœºåˆ¶æå‡æ£€ç´¢æ•ˆç‡</li>
</ol>
<hr/>
<h3 data-id="heading-7">å››å±‚è®°å¿†ç³»ç»Ÿè¯¦è§£</h3>
<h4 data-id="heading-8">è®°å¿†å±‚çº§å®šä¹‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> è®°å¿†å±‚çº§</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">enum</span> MemoryLayer
{
    Active,         <span class="hljs-comment">// è¶…çŸ­æœŸè®°å¿† (Active Buffer Memory)</span>
    Situational,    <span class="hljs-comment">// çŸ­æœŸè®°å¿† (Situational Context Memory)</span>
    EventLog,       <span class="hljs-comment">// ä¸­æœŸè®°å¿† (Event Log Summary)</span>
    Archive         <span class="hljs-comment">// é•¿æœŸè®°å¿† (Colony Lore &amp; Persona Archive)</span>
}
</code></pre>
<h4 data-id="heading-9">å„å±‚çº§ç‰¹æ€§</h4>
<h5 data-id="heading-10">1. Activeï¼ˆè¶…çŸ­æœŸè®°å¿†ï¼‰</h5>
<ul>
<li><strong>å®¹é‡é™åˆ¶</strong>ï¼šæå°ï¼ˆé€šå¸¸5-10æ¡ï¼‰</li>
<li><strong>ä¿ç•™æ—¶é—´</strong>ï¼šæ•°ç§’åˆ°æ•°åˆ†é’Ÿ</li>
<li><strong>å†…å®¹ç±»å‹</strong>ï¼šå½“å‰æ­£åœ¨è¿›è¡Œçš„å¯¹è¯ã€å³æ—¶æ„ŸçŸ¥</li>
<li><strong>ç”¨é€”</strong>ï¼šç»´æŒå¯¹è¯è¿è´¯æ€§ï¼Œå¤„ç†å³æ—¶ä¸Šä¸‹æ–‡</li>
<li><strong>æ›´æ–°é¢‘ç‡</strong>ï¼šæé«˜ï¼Œå®æ—¶æ›´æ–°</li>
</ul>
<p><strong>è®¾è®¡ç†å¿µ</strong>ï¼šæ¨¡æ‹Ÿäººç±»çš„å·¥ä½œè®°å¿†ï¼ˆWorking Memoryï¼‰ï¼Œç”¨äºä¸´æ—¶å­˜å‚¨å½“å‰æ­£åœ¨å¤„ç†çš„ä¿¡æ¯ã€‚</p>
<h5 data-id="heading-11">2. Situationalï¼ˆçŸ­æœŸè®°å¿†ï¼‰</h5>
<ul>
<li><strong>å®¹é‡é™åˆ¶</strong>ï¼šä¸­ç­‰ï¼ˆé€šå¸¸20-50æ¡ï¼‰</li>
<li><strong>ä¿ç•™æ—¶é—´</strong>ï¼šæ•°å°æ—¶åˆ°æ•°å¤©</li>
<li><strong>å†…å®¹ç±»å‹</strong>ï¼šè¿‘æœŸäº‹ä»¶ã€å½“å‰ä»»åŠ¡ã€çŸ­æœŸç›®æ ‡</li>
<li><strong>ç”¨é€”</strong>ï¼šç»´æŒçŸ­æœŸä¸Šä¸‹æ–‡ï¼Œæ”¯æŒè¿è´¯çš„è¡Œä¸ºå†³ç­–</li>
<li><strong>æ›´æ–°é¢‘ç‡</strong>ï¼šä¸­ç­‰ï¼Œå®šæœŸæ›´æ–°</li>
</ul>
<p><strong>è®¾è®¡ç†å¿µ</strong>ï¼šæ¨¡æ‹Ÿäººç±»çš„çŸ­æœŸè®°å¿†ï¼ˆShort-term Memoryï¼‰ï¼Œå­˜å‚¨å½“å‰æƒ…å¢ƒä¸‹çš„ç›¸å…³ä¿¡æ¯ã€‚</p>
<h5 data-id="heading-12">3. EventLogï¼ˆä¸­æœŸè®°å¿†ï¼‰</h5>
<ul>
<li><strong>å®¹é‡é™åˆ¶</strong>ï¼šè¾ƒå¤§ï¼ˆé€šå¸¸100-200æ¡ï¼‰</li>
<li><strong>ä¿ç•™æ—¶é—´</strong>ï¼šæ•°å¤©åˆ°æ•°å‘¨</li>
<li><strong>å†…å®¹ç±»å‹</strong>ï¼šé‡è¦äº‹ä»¶ã€å…³é”®å¯¹è¯ã€é‡Œç¨‹ç¢‘äº‹ä»¶</li>
<li><strong>ç”¨é€”</strong>ï¼šæä¾›ä¸­æœŸä¸Šä¸‹æ–‡ï¼Œæ”¯æŒå›å¿†å’Œåæ€</li>
<li><strong>æ›´æ–°é¢‘ç‡</strong>ï¼šè¾ƒä½ï¼Œäº‹ä»¶é©±åŠ¨æ›´æ–°</li>
</ul>
<p><strong>è®¾è®¡ç†å¿µ</strong>ï¼šæ¨¡æ‹Ÿäººç±»çš„æƒ…æ™¯è®°å¿†ï¼ˆEpisodic Memoryï¼‰ï¼Œå­˜å‚¨å…·ä½“çš„äº‹ä»¶å’Œç»å†ã€‚</p>
<h5 data-id="heading-13">4. Archiveï¼ˆé•¿æœŸè®°å¿†ï¼‰</h5>
<ul>
<li><strong>å®¹é‡é™åˆ¶</strong>ï¼šæå¤§ï¼ˆé€šå¸¸1000+æ¡ï¼‰</li>
<li><strong>ä¿ç•™æ—¶é—´</strong>ï¼šæ°¸ä¹…æˆ–æ¸¸æˆå‘¨æœŸ</li>
<li><strong>å†…å®¹ç±»å‹</strong>ï¼šè§’è‰²èƒŒæ™¯ã€é‡è¦å…³ç³»ã€é•¿æœŸçŸ¥è¯†</li>
<li><strong>ç”¨é€”</strong>ï¼šç»´æŒè§’è‰²ä¸€è‡´æ€§ï¼Œæ”¯æŒé•¿æœŸè¡Œä¸ºæ¨¡å¼</li>
<li><strong>æ›´æ–°é¢‘ç‡</strong>ï¼šæä½ï¼Œä»…åœ¨é‡è¦äº‹ä»¶æ—¶æ›´æ–°</li>
</ul>
<p><strong>è®¾è®¡ç†å¿µ</strong>ï¼šæ¨¡æ‹Ÿäººç±»çš„è¯­ä¹‰è®°å¿†ï¼ˆSemantic Memoryï¼‰å’Œè‡ªä¼ ä½“è®°å¿†ï¼ˆAutobiographical Memoryï¼‰ï¼Œå­˜å‚¨æŠ½è±¡çŸ¥è¯†å’Œé‡è¦äººç”Ÿç»å†ã€‚</p>
<h4 data-id="heading-14">è®°å¿†æµè½¬æœºåˆ¶</h4>
<pre><code class="hljs language-markdown" lang="markdown">æ–°è®°å¿†åˆ›å»º
<span class="hljs-code">    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Active  â”‚ â†â”€â”€â”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ è¡°å‡/é‡è¦æ€§è¯„ä¼°
    â†“          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚Situational  â”‚â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
    â†“          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  EventLog   â”‚â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
    â†“          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚   Archive   â”‚â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
    â†“          â”‚
  åˆ é™¤/å½’æ¡£  â”€â”€â”˜
</span></code></pre>
<p><strong>æµè½¬è§„åˆ™</strong>ï¼š</p>
<ol>
<li>æ–°è®°å¿†é¦–å…ˆè¿›å…¥Activeå±‚</li>
<li>æ ¹æ®é‡è¦æ€§å’Œæ´»è·ƒåº¦ï¼Œè®°å¿†ä¼šå‘æ›´æ·±å±‚çº§è¿ç§»</li>
<li>ä½é‡è¦æ€§è®°å¿†ä¼šé€æ¸è¡°å‡å¹¶è¢«åˆ é™¤</li>
<li>é«˜é‡è¦æ€§è®°å¿†ä¼šä¿ç•™åœ¨Archiveå±‚</li>
<li>ç”¨æˆ·å¯ä»¥æ‰‹åŠ¨å›ºå®šè®°å¿†ï¼Œé˜²æ­¢è¢«åˆ é™¤</li>
</ol>
<hr/>
<h3 data-id="heading-15">è®°å¿†ç±»å‹å’Œæ•°æ®ç»“æ„</h3>
<h4 data-id="heading-16">è®°å¿†ç±»å‹å®šä¹‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> è®°å¿†ç±»å‹</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">enum</span> MemoryType
{
    Conversation,   <span class="hljs-comment">// å¯¹è¯ï¼ˆRimTalkç”Ÿæˆçš„å®Œæ•´å¯¹è¯å†…å®¹ï¼‰</span>
    Action,         <span class="hljs-comment">// è¡ŒåŠ¨ï¼ˆå·¥ä½œã€æˆ˜æ–—ç­‰ï¼‰</span>
    Observation,    <span class="hljs-comment">// è§‚å¯Ÿï¼ˆæœªå®ç°ï¼‰</span>
    Event,          <span class="hljs-comment">// äº‹ä»¶</span>
    Emotion,        <span class="hljs-comment">// æƒ…ç»ª</span>
    Relationship,   <span class="hljs-comment">// å…³ç³»</span>
    Internal        <span class="hljs-comment">// å†…éƒ¨ä¸Šä¸‹æ–‡ï¼ˆæ•°æ®åº“æŸ¥è¯¢ç»“æœï¼Œä¸æ˜¾ç¤ºç»™ç”¨æˆ·ï¼‰</span>
}
</code></pre>
<h4 data-id="heading-17">å„ç±»å‹è¯´æ˜</h4>
<h5 data-id="heading-18">1. Conversationï¼ˆå¯¹è¯è®°å¿†ï¼‰</h5>
<ul>
<li><strong>å†…å®¹</strong>ï¼šå®Œæ•´çš„å¯¹è¯è®°å½•ï¼ŒåŒ…æ‹¬è¯´è¯è€…ã€å†…å®¹ã€æ—¶é—´</li>
<li><strong>é‡è¦æ€§</strong>ï¼šä¸­ç­‰ï¼Œæ ¹æ®å¯¹è¯å†…å®¹åŠ¨æ€è¯„ä¼°</li>
<li><strong>ç”¨é€”</strong>ï¼šç»´æŒå¯¹è¯è¿è´¯æ€§ï¼Œæ”¯æŒè§’è‰²å…³ç³»å‘å±•</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š"æ˜¨å¤©å’ŒJohnè®¨è®ºäº†ç§æ¤è®¡åˆ’"</li>
</ul>
<h5 data-id="heading-19">2. Actionï¼ˆè¡ŒåŠ¨è®°å¿†ï¼‰</h5>
<ul>
<li><strong>å†…å®¹</strong>ï¼šè§’è‰²æ‰§è¡Œçš„é‡è¦è¡ŒåŠ¨ï¼Œå¦‚å·¥ä½œã€æˆ˜æ–—ã€å»ºé€ </li>
<li><strong>é‡è¦æ€§</strong>ï¼šæ ¹æ®è¡ŒåŠ¨çš„å½±å“èŒƒå›´å’Œç»“æœè¯„ä¼°</li>
<li><strong>ç”¨é€”</strong>ï¼šæ”¯æŒè¡Œä¸ºå†³ç­–ï¼Œç»´æŒè§’è‰²ä¸€è‡´æ€§</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š"å»ºé€ äº†æ–°çš„é˜²å¾¡å¡”"</li>
</ul>
<h5 data-id="heading-20">3. Observationï¼ˆè§‚å¯Ÿè®°å¿†ï¼‰</h5>
<ul>
<li><strong>å†…å®¹</strong>ï¼šè§’è‰²è§‚å¯Ÿåˆ°çš„ç¯å¢ƒå˜åŒ–å’Œå…¶ä»–è§’è‰²çš„è¡Œä¸º</li>
<li><strong>é‡è¦æ€§</strong>ï¼šæ ¹æ®è§‚å¯Ÿçš„æ–°é¢–æ€§å’Œç›¸å…³æ€§è¯„ä¼°</li>
<li><strong>ç”¨é€”</strong>ï¼šæ”¯æŒç¯å¢ƒæ„ŸçŸ¥ï¼Œå½±å“è¡Œä¸ºå†³ç­–</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š"æ³¨æ„åˆ°æ•Œäººä»åŒ—æ–¹æ¥è¿‘"</li>
</ul>
<h5 data-id="heading-21">4. Eventï¼ˆäº‹ä»¶è®°å¿†ï¼‰</h5>
<ul>
<li><strong>å†…å®¹</strong>ï¼šæ¸¸æˆä¸­çš„é‡è¦äº‹ä»¶ï¼Œå¦‚è¢­å‡»ã€è´¸æ˜“ã€ç¾éš¾</li>
<li><strong>é‡è¦æ€§</strong>ï¼šé«˜ï¼Œæ ¹æ®äº‹ä»¶çš„å½±å“èŒƒå›´è¯„ä¼°</li>
<li><strong>ç”¨é€”</strong>ï¼šå½±å“è§’è‰²æƒ…ç»ªå’Œè¡Œä¸ºï¼Œæ”¯æŒå‰§æƒ…å‘å±•</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š"åŸºåœ°é­å—äº†è¢­å‡»"</li>
</ul>
<h5 data-id="heading-22">5. Emotionï¼ˆæƒ…ç»ªè®°å¿†ï¼‰</h5>
<ul>
<li><strong>å†…å®¹</strong>ï¼šè§’è‰²çš„æƒ…ç»ªçŠ¶æ€å’Œæƒ…ç»ªå˜åŒ–</li>
<li><strong>é‡è¦æ€§</strong>ï¼šä¸­ç­‰ï¼Œæ ¹æ®æƒ…ç»ªå¼ºåº¦è¯„ä¼°</li>
<li><strong>ç”¨é€”</strong>ï¼šå½±å“è§’è‰²è¡Œä¸ºå’Œå¯¹è¯å†…å®¹</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š"å› ä¸ºæœ‹å‹çš„æ­»äº¡è€Œæ„Ÿåˆ°æ‚²ä¼¤"</li>
</ul>
<h5 data-id="heading-23">6. Relationshipï¼ˆå…³ç³»è®°å¿†ï¼‰</h5>
<ul>
<li><strong>å†…å®¹</strong>ï¼šè§’è‰²ä¹‹é—´çš„å…³ç³»çŠ¶æ€å’Œäº’åŠ¨å†å²</li>
<li><strong>é‡è¦æ€§</strong>ï¼šé«˜ï¼Œå…³ç³»æ˜¯æ¸¸æˆçš„æ ¸å¿ƒæœºåˆ¶</li>
<li><strong>ç”¨é€”</strong>ï¼šå½±å“å¯¹è¯å†…å®¹ã€è¡Œä¸ºå†³ç­–å’Œç¤¾äº¤äº’åŠ¨</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š"å’ŒMaryæ˜¯å¥½æœ‹å‹"</li>
</ul>
<h5 data-id="heading-24">7. Internalï¼ˆå†…éƒ¨ä¸Šä¸‹æ–‡ï¼‰</h5>
<ul>
<li><strong>å†…å®¹</strong>ï¼šæ•°æ®åº“æŸ¥è¯¢ç»“æœã€ç³»ç»Ÿç”Ÿæˆçš„ä¸Šä¸‹æ–‡ä¿¡æ¯</li>
<li><strong>é‡è¦æ€§</strong>ï¼šä¸æ˜¾ç¤ºç»™ç”¨æˆ·ï¼Œä»…ç”¨äºç³»ç»Ÿå†…éƒ¨å¤„ç†</li>
<li><strong>ç”¨é€”</strong>ï¼šæ”¯æŒAIå†³ç­–ï¼Œæä¾›é¢å¤–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š"æŸ¥è¯¢åˆ°çš„è§’è‰²å±æ€§ä¿¡æ¯"</li>
</ul>
<h4 data-id="heading-25">è®°å¿†æ¡ç›®æ•°æ®ç»“æ„</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ–°çš„è®°å¿†æ¡ç›® - æ”¯æŒæ ‡ç­¾åŒ–å’Œç¼–è¾‘</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MemoryEntry</span> : <span class="hljs-title">IExposable</span>
{
    <span class="hljs-comment">// åŸºç¡€ä¿¡æ¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> id;                   <span class="hljs-comment">// å”¯ä¸€ID</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> content;              <span class="hljs-comment">// å†…å®¹</span>
    <span class="hljs-keyword">public</span> MemoryType type;             <span class="hljs-comment">// ç±»å‹</span>
    <span class="hljs-keyword">public</span> MemoryLayer layer;           <span class="hljs-comment">// å±‚çº§</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> timestamp;               <span class="hljs-comment">// æ—¶é—´æˆ³</span>
    
    <span class="hljs-comment">// é‡è¦æ€§å’Œæ´»è·ƒåº¦</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">float</span> importance;            <span class="hljs-comment">// é‡è¦æ€§ (0-1)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">float</span> activity;              <span class="hljs-comment">// æ´»è·ƒåº¦ (éšæ—¶é—´è¡°å‡)</span>
    
    <span class="hljs-comment">// å…³è”ä¿¡æ¯</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> relatedPawnId;        <span class="hljs-comment">// ç›¸å…³å°äººID</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> relatedPawnName;      <span class="hljs-comment">// ç›¸å…³å°äººåå­—</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> location;             <span class="hljs-comment">// åœ°ç‚¹</span>
    <span class="hljs-keyword">public</span> List&lt;<span class="hljs-built_in">string</span>&gt; tags;           <span class="hljs-comment">// æ ‡ç­¾ï¼ˆä¸­æ–‡ï¼‰</span>
    <span class="hljs-keyword">public</span> List&lt;<span class="hljs-built_in">string</span>&gt; keywords;       <span class="hljs-comment">// å…³é”®è¯</span>
    
    <span class="hljs-comment">// å…ƒæ•°æ®</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> isUserEdited;           <span class="hljs-comment">// æ˜¯å¦è¢«ç”¨æˆ·ç¼–è¾‘è¿‡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> isPinned;               <span class="hljs-comment">// æ˜¯å¦å›ºå®šï¼ˆä¸ä¼šè¢«åˆ é™¤ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> notes;                <span class="hljs-comment">// ç”¨æˆ·å¤‡æ³¨</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> aiCacheKey;           <span class="hljs-comment">// AIæ€»ç»“çš„ç¼“å­˜é”®</span>
}
</code></pre>
<h4 data-id="heading-26">æ•°æ®ç»“æ„è®¾è®¡äº®ç‚¹</h4>
<ol>
<li><strong>å”¯ä¸€æ ‡è¯†</strong>ï¼šæ¯ä¸ªè®°å¿†éƒ½æœ‰å”¯ä¸€çš„IDï¼Œæ”¯æŒç²¾ç¡®å¼•ç”¨</li>
<li><strong>ç±»å‹åŒ–å­˜å‚¨</strong>ï¼šé€šè¿‡MemoryTypeåŒºåˆ†ä¸åŒç±»å‹çš„è®°å¿†</li>
<li><strong>å±‚çº§ç®¡ç†</strong>ï¼šé€šè¿‡MemoryLayerå®ç°è®°å¿†çš„åˆ†å±‚å­˜å‚¨</li>
<li><strong>é‡è¦æ€§è¯„åˆ†</strong>ï¼šimportanceå­—æ®µæ”¯æŒè®°å¿†çš„é‡è¦æ€§è¯„ä¼°</li>
<li><strong>æ´»è·ƒåº¦è¡°å‡</strong>ï¼šactivityå­—æ®µæ¨¡æ‹Ÿè®°å¿†çš„è‡ªç„¶é—å¿˜</li>
<li><strong>æ ‡ç­¾ç³»ç»Ÿ</strong>ï¼štagså­—æ®µæ”¯æŒçµæ´»çš„è®°å¿†åˆ†ç±»å’Œæ£€ç´¢</li>
<li><strong>å…³é”®è¯æå–</strong>ï¼škeywordså­—æ®µæ”¯æŒåŸºäºå…³é”®è¯çš„å¿«é€Ÿæ£€ç´¢</li>
<li><strong>ç”¨æˆ·ç¼–è¾‘</strong>ï¼šisUserEditedå­—æ®µä¿æŠ¤ç”¨æˆ·ä¿®æ”¹çš„å†…å®¹</li>
<li><strong>å›ºå®šæœºåˆ¶</strong>ï¼šisPinnedå­—æ®µé˜²æ­¢é‡è¦è®°å¿†è¢«åˆ é™¤</li>
<li><strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šaiCacheKeyå­—æ®µæ”¯æŒAIç”Ÿæˆçš„æ€»ç»“ç¼“å­˜</li>
</ol>
<hr/>
<h3 data-id="heading-27">æ™ºèƒ½æ³¨å…¥ç³»ç»Ÿ</h3>
<h4 data-id="heading-28">ç³»ç»Ÿæ¦‚è¿°</h4>
<p>æ™ºèƒ½æ³¨å…¥ç³»ç»Ÿè´Ÿè´£åœ¨å¯¹è¯ç”Ÿæˆæ—¶ï¼Œæ ¹æ®å½“å‰ä¸Šä¸‹æ–‡æ™ºèƒ½é€‰æ‹©å’Œæ³¨å…¥ç›¸å…³çš„è®°å¿†ã€çŸ¥è¯†å’ŒæŒ‡ä»¤ã€‚è¯¥ç³»ç»Ÿé€šè¿‡åˆ†å±‚æ³¨å…¥ç­–ç•¥ï¼Œç¡®ä¿AIè§’è‰²èƒ½å¤Ÿç”Ÿæˆè¿è´¯ã€ç›¸å…³ã€ç¬¦åˆè§’è‰²è®¾å®šçš„å¯¹è¯å†…å®¹ã€‚</p>
<h4 data-id="heading-29">æ³¨å…¥æ¶æ„</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ™ºèƒ½æ³¨å…¥ä¸Šä¸‹æ–‡</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> ? v3.3.20: é‡å†™çŸ¥è¯†æ³¨å…¥é€»è¾‘ä»¥æ”¯æŒæŒ‡ä»¤åˆ†åŒº</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> ? æ³¨å…¥é¡ºåº</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span>   1. Current Guidelines(æŒ‡ä»¤/è§„åˆ™) - ç³»ç»Ÿæç¤º</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span>   2. World Knowledge(å¸¸è¯†/èƒŒæ™¯) - å…±äº«çŸ¥è¯†</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span>   3. Character Memories(è§’è‰²è®°å¿†) - ä¸ªäººç»å†</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">InjectSmartContext</span>(<span class="hljs-params">
    Pawn speaker,
    Pawn listener,
    <span class="hljs-built_in">string</span> context,
    <span class="hljs-built_in">int</span> maxMemories = <span class="hljs-number">10</span>,
    <span class="hljs-built_in">int</span> maxKnowledge = <span class="hljs-number">5</span></span>)
</span></code></pre>
<h4 data-id="heading-30">ä¸‰å±‚æ³¨å…¥ç­–ç•¥</h4>
<h5 data-id="heading-31">1. Current Guidelinesï¼ˆæŒ‡ä»¤/è§„åˆ™å±‚ï¼‰</h5>
<ul>
<li><strong>å†…å®¹</strong>ï¼šç³»ç»Ÿçº§æŒ‡ä»¤ã€è§’è‰²è®¾å®šã€è¡Œä¸ºè§„åˆ™</li>
<li><strong>ä¼˜å…ˆçº§</strong>ï¼šæœ€é«˜ï¼Œç¡®ä¿è§’è‰²è¡Œä¸ºç¬¦åˆè®¾å®š</li>
<li><strong>æ³¨å…¥æ—¶æœº</strong>ï¼šæ¯æ¬¡å¯¹è¯ç”Ÿæˆæ—¶</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<pre><code class="hljs">ä½ æ˜¯ä¸€ä¸ªåå«Aliceçš„æ®–æ°‘è€…ï¼Œæ€§æ ¼å¼€æœ—ï¼Œå–œæ¬¢ç§æ¤ä½œç‰©ã€‚
åœ¨å¯¹è¯ä¸­è¦ä½“ç°ä½ çš„æ€§æ ¼ç‰¹ç‚¹ï¼Œä½¿ç”¨å‹å¥½ã€çƒ­æƒ…çš„è¯­æ°”ã€‚
</code></pre>
</li>
</ul>
<h5 data-id="heading-32">2. World Knowledgeï¼ˆå¸¸è¯†/èƒŒæ™¯å±‚ï¼‰</h5>
<ul>
<li><strong>å†…å®¹</strong>ï¼šæ¸¸æˆä¸–ç•Œçš„å¸¸è¯†ã€èƒŒæ™¯è®¾å®šã€å…±äº«çŸ¥è¯†</li>
<li><strong>ä¼˜å…ˆçº§</strong>ï¼šä¸­ç­‰ï¼Œæä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯</li>
<li><strong>æ³¨å…¥æ—¶æœº</strong>ï¼šæ ¹æ®ç›¸å…³æ€§åŠ¨æ€é€‰æ‹©</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<pre><code class="hljs">å½“å‰å­£èŠ‚ï¼šæ˜¥å­£
åŸºåœ°ä½ç½®ï¼šæ¸©å¸¦æ£®æ—
ä¸»è¦ä½œç‰©ï¼šåœŸè±†ã€ç‰ç±³
</code></pre>
</li>
</ul>
<h5 data-id="heading-33">3. Character Memoriesï¼ˆè§’è‰²è®°å¿†å±‚ï¼‰</h5>
<ul>
<li><strong>ä¼˜å…ˆçº§</strong>ï¼šåŠ¨æ€ï¼Œæ ¹æ®åœºæ™¯å’Œç›¸å…³æ€§è°ƒæ•´</li>
<li><strong>æ³¨å…¥æ—¶æœº</strong>ï¼šæ ¹æ®è¯„åˆ†ç³»ç»Ÿé€‰æ‹©æœ€ç›¸å…³çš„è®°å¿†</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<pre><code class="hljs">æ˜¨å¤©å’ŒJohnè®¨è®ºäº†ç§æ¤è®¡åˆ’
ä¸Šå‘¨å»ºé€ äº†æ–°çš„é˜²å¾¡å¡”
å› ä¸ºæœ‹å‹çš„æ­»äº¡è€Œæ„Ÿåˆ°æ‚²ä¼¤
</code></pre>
</li>
</ul>
<h4 data-id="heading-34">æ³¨å…¥æµç¨‹</h4>
<pre><code class="hljs language-markdown" lang="markdown">å¼€å§‹å¯¹è¯ç”Ÿæˆ
<span class="hljs-code">    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. åˆ†æå½“å‰åœºæ™¯                â”‚
â”‚     - è¯†åˆ«å¯¹è¯ç±»å‹               â”‚
â”‚     - ç¡®å®šå‚ä¸è€…                 â”‚
â”‚     - æå–ä¸Šä¸‹æ–‡å…³é”®è¯           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. æ³¨å…¥æŒ‡ä»¤/è§„åˆ™               â”‚
â”‚     - è§’è‰²è®¾å®š                   â”‚
â”‚     - è¡Œä¸ºè§„åˆ™                   â”‚
â”‚     - ç³»ç»Ÿæç¤º                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. æ³¨å…¥å¸¸è¯†/èƒŒæ™¯               â”‚
â”‚     - æ¸¸æˆä¸–ç•ŒçŸ¥è¯†               â”‚
â”‚     - èƒŒæ™¯è®¾å®š                   â”‚
â”‚     - å…±äº«çŸ¥è¯†                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. æ³¨å…¥è§’è‰²è®°å¿†                â”‚
â”‚     - è¯„åˆ†æ’åº                   â”‚
â”‚     - å¤šæ ·æ€§é€‰æ‹©                 â”‚
â”‚     - ä¸Šä¸‹æ–‡ç›¸å…³æ€§               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. ç”Ÿæˆå¯¹è¯å†…å®¹                â”‚
â”‚     - åŸºäºæ³¨å…¥çš„ä¸Šä¸‹æ–‡           â”‚
â”‚     - ç¬¦åˆè§’è‰²è®¾å®š               â”‚
â”‚     - ä¿æŒè¿è´¯æ€§                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre>
<h4 data-id="heading-35">æ³¨å…¥ä¼˜åŒ–ç­–ç•¥</h4>
<ol>
<li><strong>ç›¸å…³æ€§è¿‡æ»¤</strong>ï¼šåªæ³¨å…¥ä¸å½“å‰ä¸Šä¸‹æ–‡ç›¸å…³çš„è®°å¿†å’ŒçŸ¥è¯†</li>
<li><strong>æ•°é‡æ§åˆ¶</strong>ï¼šé€šè¿‡maxMemorieså’ŒmaxKnowledgeå‚æ•°æ§åˆ¶æ³¨å…¥æ•°é‡</li>
<li><strong>å¤šæ ·æ€§ä¿è¯</strong>ï¼šé¿å…é‡å¤æ³¨å…¥ç›¸åŒç±»å‹çš„è®°å¿†</li>
<li><strong>æ—¶æ•ˆæ€§è€ƒè™‘</strong>ï¼šä¼˜å…ˆæ³¨å…¥è¿‘æœŸçš„è®°å¿†</li>
<li><strong>é‡è¦æ€§åŠ æƒ</strong>ï¼šé«˜é‡è¦æ€§è®°å¿†ä¼˜å…ˆæ³¨å…¥</li>
<li><strong>åœºæ™¯é€‚é…</strong>ï¼šæ ¹æ®ä¸åŒåœºæ™¯è°ƒæ•´æ³¨å…¥ç­–ç•¥</li>
</ol>
<hr/>
<h3 data-id="heading-36">è®°å¿†æ£€ç´¢å’ŒåŒ¹é…ç®—æ³•</h3>
<h4 data-id="heading-37">æ£€ç´¢ç³»ç»Ÿæ¦‚è¿°</h4>
<p>è®°å¿†æ£€ç´¢ç³»ç»Ÿæ˜¯æ•´ä¸ªè®°å¿†ç³»ç»Ÿçš„æ ¸å¿ƒï¼Œè´Ÿè´£æ ¹æ®å½“å‰ä¸Šä¸‹æ–‡ä»æµ·é‡è®°å¿†ä¸­å¿«é€Ÿã€å‡†ç¡®åœ°æ‰¾åˆ°æœ€ç›¸å…³çš„è®°å¿†ã€‚è¯¥ç³»ç»Ÿç»“åˆäº†ä¼ ç»Ÿå…³é”®è¯åŒ¹é…ã€å‘é‡è¯­ä¹‰æœç´¢å’Œå¤šå› å­è¯„åˆ†ç®—æ³•ï¼Œå®ç°äº†é«˜æ•ˆã€ç²¾å‡†çš„è®°å¿†æ£€ç´¢ã€‚</p>
<h4 data-id="heading-38">æ£€ç´¢æµç¨‹</h4>
<pre><code class="hljs language-css" lang="css">æ£€ç´¢è¯·æ±‚
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">1</span>. åœºæ™¯åˆ†æ                    â”‚
â”‚     - è¯†åˆ«å¯¹è¯åœºæ™¯ç±»å‹           â”‚
â”‚     - æå–ä¸Šä¸‹æ–‡å…³é”®è¯           â”‚
â”‚     - ç¡®å®šæ£€ç´¢æƒé‡               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">2</span>. å¤šè·¯æ£€ç´¢                    â”‚
â”‚     â”œâ”€ å…³é”®è¯åŒ¹é…æ£€ç´¢           â”‚
â”‚     â”œâ”€ å‘é‡è¯­ä¹‰æ£€ç´¢             â”‚
â”‚     â””â”€ æ ‡ç­¾è¿‡æ»¤æ£€ç´¢             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">3</span>. ç»“æœèåˆ                    â”‚
â”‚     - åˆå¹¶å¤šè·¯æ£€ç´¢ç»“æœ           â”‚
â”‚     - å»é‡å’Œæ’åº                 â”‚
â”‚     - åº”ç”¨å¤šæ ·æ€§è¡¥å¿             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">4</span>. å¤šå› å­è¯„åˆ†                  â”‚
â”‚     - ä¸Šä¸‹æ–‡ç›¸å…³æ€§               â”‚
â”‚     - æ—¶é—´æ–°è¿‘åº¦                 â”‚
â”‚     - é‡è¦æ€§                     â”‚
â”‚     - å¤šæ ·æ€§è¡¥å¿                 â”‚
â”‚     - å±‚çº§ä¼˜å…ˆçº§                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">5</span>. ç»“æœè¾“å‡º                    â”‚
â”‚     - è¿”å›<span class="hljs-attribute">Top</span>-Nè®°å¿†              â”‚
â”‚     - æä¾›è¯„åˆ†è¯¦æƒ…               â”‚
â”‚     - æ”¯æŒè°ƒè¯•å’Œåˆ†æ             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-39">å…³é”®è¯åŒ¹é…ç®—æ³•</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å…³é”®è¯åŒ¹é…å¾—åˆ†</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">float</span> <span class="hljs-title">CalculateKeywordMatchScore</span>(<span class="hljs-params">
    <span class="hljs-built_in">string</span> context,
    List&lt;<span class="hljs-built_in">string</span>&gt; keywords</span>)</span>
{
    <span class="hljs-keyword">if</span> (keywords == <span class="hljs-literal">null</span> || keywords.Count == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-number">0f</span>;
    
    <span class="hljs-built_in">float</span> score = <span class="hljs-number">0f</span>;
    <span class="hljs-built_in">int</span> matchedCount = <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> keyword <span class="hljs-keyword">in</span> keywords)
    {
        <span class="hljs-keyword">if</span> (context.Contains(keyword, StringComparison.OrdinalIgnoreCase))
        {
            matchedCount++;
            score += <span class="hljs-number">1f</span> / keywords.Count;  <span class="hljs-comment">// æ¯ä¸ªåŒ¹é…çš„å…³é”®è¯è´¡çŒ®ç›¸ç­‰</span>
        }
    }
    
    <span class="hljs-keyword">return</span> score;
}
</code></pre>
<p><strong>ç®—æ³•ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ç®€å•é«˜æ•ˆï¼Œé€‚åˆå¿«é€Ÿè¿‡æ»¤</li>
<li>æ”¯æŒå¤§å°å†™ä¸æ•æ„ŸåŒ¹é…</li>
<li>æ¯ä¸ªå…³é”®è¯è´¡çŒ®ç›¸ç­‰æƒé‡</li>
<li>å¯æ‰©å±•ä¸ºåŠ æƒå…³é”®è¯åŒ¹é…</li>
</ul>
<h4 data-id="heading-40">å‘é‡è¯­ä¹‰æ£€ç´¢</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å‘é‡ç›¸ä¼¼åº¦è®¡ç®—</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">float</span> <span class="hljs-title">CalculateVectorSimilarity</span>(<span class="hljs-params">
    <span class="hljs-built_in">float</span>[] vector1,
    <span class="hljs-built_in">float</span>[] vector2</span>)</span>
{
    <span class="hljs-keyword">if</span> (vector1 == <span class="hljs-literal">null</span> || vector2 == <span class="hljs-literal">null</span> || 
        vector1.Length != vector2.Length)
        <span class="hljs-keyword">return</span> <span class="hljs-number">0f</span>;
    
    <span class="hljs-built_in">float</span> dotProduct = <span class="hljs-number">0f</span>;
    <span class="hljs-built_in">float</span> norm1 = <span class="hljs-number">0f</span>;
    <span class="hljs-built_in">float</span> norm2 = <span class="hljs-number">0f</span>;
    
    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; vector1.Length; i++)
    {
        dotProduct += vector1[i] * vector2[i];
        norm1 += vector1[i] * vector1[i];
        norm2 += vector2[i] * vector2[i];
    }
    
    <span class="hljs-keyword">if</span> (norm1 == <span class="hljs-number">0</span> || norm2 == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-number">0f</span>;
    
    <span class="hljs-keyword">return</span> dotProduct / (<span class="hljs-built_in">float</span>)Math.Sqrt(norm1 * norm2);
}
</code></pre>
<p><strong>ç®—æ³•ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦è®¡ç®—è¯­ä¹‰ç›¸ä¼¼æ€§</li>
<li>æ”¯æŒé«˜ç»´å‘é‡è¡¨ç¤º</li>
<li>é€‚åˆå¤„ç†è¯­ä¹‰ç›¸å…³æ€§</li>
<li>éœ€è¦é¢„è®­ç»ƒçš„è¯å‘é‡æˆ–å¥å­å‘é‡æ¨¡å‹</li>
</ul>
<h4 data-id="heading-41">å¤šå› å­è¯„åˆ†ç®—æ³•</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> è®¡ç®—è®°å¿†ç»¼åˆå¾—åˆ†</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">float</span> <span class="hljs-title">CalculateMemoryScore</span>(<span class="hljs-params">
    MemoryEntry memory,
    <span class="hljs-built_in">string</span> context,
    SceneType scene,
    ScoringWeights weights,
    List&lt;MemoryEntry&gt; selectedMemories</span>)</span>
{
    <span class="hljs-comment">// 1. ä¸Šä¸‹æ–‡ç›¸å…³æ€§</span>
    <span class="hljs-built_in">float</span> contextScore = CalculateContextRelevance(memory, context);
    
    <span class="hljs-comment">// 2. æ—¶é—´æ–°è¿‘åº¦</span>
    <span class="hljs-built_in">float</span> recencyScore = CalculateRecencyScore(memory);
    
    <span class="hljs-comment">// 3. é‡è¦æ€§</span>
    <span class="hljs-built_in">float</span> importanceScore = memory.importance;
    
    <span class="hljs-comment">// 4. å¤šæ ·æ€§è¡¥å¿</span>
    <span class="hljs-built_in">float</span> diversityScore = CalculateDiversityScore(memory, selectedMemories);
    
    <span class="hljs-comment">// 5. å±‚çº§ä¼˜å…ˆçº§</span>
    <span class="hljs-built_in">float</span> layerScore = CalculateLayerPriorityScore(memory.layer);
    
    <span class="hljs-comment">// 6. ç»¼åˆå¾—åˆ†</span>
    <span class="hljs-built_in">float</span> totalScore = 
        contextScore * weights.ContextRelevance +
        recencyScore * weights.Recency +
        importanceScore * weights.Importance +
        diversityScore * weights.Diversity +
        layerScore * weights.LayerPriority;
    
    <span class="hljs-keyword">return</span> totalScore;
}
</code></pre>
<h4 data-id="heading-42">å„è¯„åˆ†å› å­è¯¦è§£</h4>
<h5 data-id="heading-43">1. ä¸Šä¸‹æ–‡ç›¸å…³æ€§ï¼ˆContext Relevanceï¼‰</h5>
<ul>
<li><strong>æƒé‡</strong>ï¼š0.40ï¼ˆæœ€é«˜ï¼‰</li>
<li><strong>è®¡ç®—æ–¹æ³•</strong>ï¼šç»“åˆå…³é”®è¯åŒ¹é…å’Œå‘é‡ç›¸ä¼¼åº¦</li>
<li><strong>ç›®çš„</strong>ï¼šç¡®ä¿æ£€ç´¢çš„è®°å¿†ä¸å½“å‰ä¸Šä¸‹æ–‡é«˜åº¦ç›¸å…³</li>
<li><strong>å®ç°</strong>ï¼š
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">float</span> <span class="hljs-title">CalculateContextRelevance</span>(<span class="hljs-params">
    MemoryEntry memory, 
    <span class="hljs-built_in">string</span> context</span>)</span>
{
    <span class="hljs-built_in">float</span> keywordScore = CalculateKeywordMatchScore(
        context, memory.keywords);
    
    <span class="hljs-built_in">float</span> vectorScore = CalculateVectorSimilarity(
        memory.vector, contextVector);
    
    <span class="hljs-keyword">return</span> keywordScore * <span class="hljs-number">0.6f</span> + vectorScore * <span class="hljs-number">0.4f</span>;
}
</code></pre>
</li>
</ul>
<h5 data-id="heading-44">2. æ—¶é—´æ–°è¿‘åº¦ï¼ˆRecencyï¼‰</h5>
<ul>
<li><strong>æƒé‡</strong>ï¼š0.20</li>
<li><strong>è®¡ç®—æ–¹æ³•</strong>ï¼šåŸºäºæ—¶é—´æˆ³çš„æŒ‡æ•°è¡°å‡</li>
<li><strong>ç›®çš„</strong>ï¼šä¼˜å…ˆé€‰æ‹©è¿‘æœŸçš„è®°å¿†</li>
<li><strong>å®ç°</strong>ï¼š
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">float</span> <span class="hljs-title">CalculateRecencyScore</span>(<span class="hljs-params">MemoryEntry memory</span>)</span>
{
    <span class="hljs-built_in">int</span> currentTick = Find.TickManager.TicksGame;
    <span class="hljs-built_in">int</span> age = currentTick - memory.timestamp;
    
    <span class="hljs-comment">// æŒ‡æ•°è¡°å‡ï¼šè¶Šè¿‘çš„è®°å¿†å¾—åˆ†è¶Šé«˜</span>
    <span class="hljs-built_in">float</span> decayRate = <span class="hljs-number">0.0001f</span>;  <span class="hljs-comment">// è¡°å‡ç‡</span>
    <span class="hljs-keyword">return</span> (<span class="hljs-built_in">float</span>)Math.Exp(-decayRate * age);
}
</code></pre>
</li>
</ul>
<h5 data-id="heading-45">3. é‡è¦æ€§ï¼ˆImportanceï¼‰</h5>
<ul>
<li><strong>æƒé‡</strong>ï¼š0.20</li>
<li><strong>è®¡ç®—æ–¹æ³•</strong>ï¼šä½¿ç”¨è®°å¿†çš„importanceå­—æ®µ</li>
<li><strong>ç›®çš„</strong>ï¼šä¼˜å…ˆé€‰æ‹©é‡è¦çš„è®°å¿†</li>
<li><strong>å®ç°</strong>ï¼š
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">float</span> <span class="hljs-title">CalculateImportanceScore</span>(<span class="hljs-params">MemoryEntry memory</span>)</span>
{
    <span class="hljs-keyword">return</span> memory.importance;
}
</code></pre>
</li>
</ul>
<h5 data-id="heading-46">4. å¤šæ ·æ€§è¡¥å¿ï¼ˆDiversityï¼‰</h5>
<ul>
<li><strong>æƒé‡</strong>ï¼š0.10</li>
<li><strong>è®¡ç®—æ–¹æ³•</strong>ï¼šåŸºäºå·²é€‰è®°å¿†çš„ç›¸ä¼¼åº¦</li>
<li><strong>ç›®çš„</strong>ï¼šé¿å…é€‰æ‹©è¿‡äºç›¸ä¼¼çš„è®°å¿†</li>
<li><strong>å®ç°</strong>ï¼š
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">float</span> <span class="hljs-title">CalculateDiversityScore</span>(<span class="hljs-params">
    MemoryEntry memory,
    List&lt;MemoryEntry&gt; selectedMemories</span>)</span>
{
    <span class="hljs-keyword">if</span> (selectedMemories == <span class="hljs-literal">null</span> || selectedMemories.Count == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-number">1f</span>;
    
    <span class="hljs-built_in">float</span> minSimilarity = <span class="hljs-number">1f</span>;
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> selected <span class="hljs-keyword">in</span> selectedMemories)
    {
        <span class="hljs-built_in">float</span> similarity = CalculateVectorSimilarity(
            memory.vector, selected.vector);
        minSimilarity = Math.Min(minSimilarity, similarity);
    }
    
    <span class="hljs-comment">// ç›¸ä¼¼åº¦è¶Šä½ï¼Œå¤šæ ·æ€§å¾—åˆ†è¶Šé«˜</span>
    <span class="hljs-keyword">return</span> <span class="hljs-number">1f</span> - minSimilarity;
}
</code></pre>
</li>
</ul>
<h5 data-id="heading-47">5. å±‚çº§ä¼˜å…ˆçº§ï¼ˆLayer Priorityï¼‰</h5>
<ul>
<li><strong>æƒé‡</strong>ï¼š0.10</li>
<li><strong>è®¡ç®—æ–¹æ³•</strong>ï¼šåŸºäºè®°å¿†å±‚çº§çš„å›ºå®šæƒé‡</li>
<li><strong>ç›®çš„</strong>ï¼šä¼˜å…ˆé€‰æ‹©æ›´è¿‘å±‚çº§çš„è®°å¿†</li>
<li><strong>å®ç°</strong>ï¼š
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">float</span> <span class="hljs-title">CalculateLayerPriorityScore</span>(<span class="hljs-params">MemoryLayer layer</span>)</span>
{
    <span class="hljs-keyword">switch</span> (layer)
    {
        <span class="hljs-keyword">case</span> MemoryLayer.Active:
            <span class="hljs-keyword">return</span> <span class="hljs-number">1.0f</span>;
        <span class="hljs-keyword">case</span> MemoryLayer.Situational:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0.8f</span>;
        <span class="hljs-keyword">case</span> MemoryLayer.EventLog:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0.6f</span>;
        <span class="hljs-keyword">case</span> MemoryLayer.Archive:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0.4f</span>;
        <span class="hljs-literal">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0.5f</span>;
    }
}
</code></pre>
</li>
</ul>
<hr/>
<h3 data-id="heading-48">é«˜çº§è¯„åˆ†ç³»ç»Ÿ</h3>
<h4 data-id="heading-49">åœºæ™¯åˆ†æå™¨</h4>
<p>åœºæ™¯åˆ†æå™¨æ˜¯é«˜çº§è¯„åˆ†ç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£è‡ªåŠ¨è¯†åˆ«å½“å‰å¯¹è¯çš„åœºæ™¯ç±»å‹ï¼Œå¹¶æ ¹æ®åœºæ™¯åŠ¨æ€è°ƒæ•´è¯„åˆ†æƒé‡ã€‚</p>
<h4 data-id="heading-50">åœºæ™¯ç±»å‹å®šä¹‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> åœºæ™¯ç±»å‹ï¼Œè‡ªåŠ¨è¯†åˆ«å¯¹è¯åœºæ™¯</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">enum</span> SceneType
{
    Casual,         <span class="hljs-comment">// æ—¥å¸¸é—²èŠ</span>
    EmotionalTalk,  <span class="hljs-comment">// æƒ…æ„Ÿå¯¹è¯</span>
    WorkDiscussion, <span class="hljs-comment">// å·¥ä½œè®¨è®º</span>
    HistoryRecall,  <span class="hljs-comment">// å›å¿†è¿‡å»</span>
    Emergency,      <span class="hljs-comment">// ç´§æ€¥æƒ…å†µ</span>
    Introduction    <span class="hljs-comment">// ä»‹ç»è®¤è¯†</span>
}
</code></pre>
<h4 data-id="heading-51">å„åœºæ™¯ç‰¹å¾</h4>
<h5 data-id="heading-52">1. Casualï¼ˆæ—¥å¸¸é—²èŠï¼‰</h5>
<ul>
<li><strong>ç‰¹å¾</strong>ï¼šè½»æ¾ã€éšæ„çš„è¯é¢˜</li>
<li><strong>å…³é”®è¯</strong>ï¼šå¤©æ°”ã€é£Ÿç‰©ã€å¨±ä¹ã€æ—¥å¸¸æ´»åŠ¨</li>
<li><strong>æƒé‡é…ç½®</strong>ï¼š
<ul>
<li>ContextRelevance: 0.35</li>
<li>Recency: 0.25</li>
<li>Importance: 0.15</li>
<li>Diversity: 0.15</li>
<li>LayerPriority: 0.10</li>
</ul>
</li>
</ul>
<h5 data-id="heading-53">2. EmotionalTalkï¼ˆæƒ…æ„Ÿå¯¹è¯ï¼‰</h5>
<ul>
<li><strong>ç‰¹å¾</strong>ï¼šæ¶‰åŠæƒ…æ„Ÿã€æƒ…ç»ªã€å…³ç³»</li>
<li><strong>å…³é”®è¯</strong>ï¼šçˆ±ã€æ¨ã€æ‚²ä¼¤ã€å¿«ä¹ã€æ‹…å¿ƒ</li>
<li><strong>æƒé‡é…ç½®</strong>ï¼š
<ul>
<li>ContextRelevance: 0.30</li>
<li>Recency: 0.15</li>
<li>Importance: 0.30  // é‡è¦æ€§æé«˜</li>
<li>Diversity: 0.10</li>
<li>LayerPriority: 0.15</li>
</ul>
</li>
</ul>
<h5 data-id="heading-54">3. WorkDiscussionï¼ˆå·¥ä½œè®¨è®ºï¼‰</h5>
<ul>
<li><strong>ç‰¹å¾</strong>ï¼šæ¶‰åŠä»»åŠ¡ã€å·¥ä½œã€è®¡åˆ’</li>
<li><strong>å…³é”®è¯</strong>ï¼šå·¥ä½œã€ä»»åŠ¡ã€è®¡åˆ’ã€å»ºé€ ã€ç§æ¤</li>
<li><strong>æƒé‡é…ç½®</strong>ï¼š
<ul>
<li>ContextRelevance: 0.45  // ç›¸å…³æ€§æé«˜</li>
<li>Recency: 0.20</li>
<li>Importance: 0.20</li>
<li>Diversity: 0.10</li>
<li>LayerPriority: 0.05</li>
</ul>
</li>
</ul>
<h5 data-id="heading-55">4. HistoryRecallï¼ˆå›å¿†è¿‡å»ï¼‰</h5>
<ul>
<li><strong>ç‰¹å¾</strong>ï¼šæ¶‰åŠè¿‡å»çš„äº‹ä»¶ã€ç»å†</li>
<li><strong>å…³é”®è¯</strong>ï¼šè®°å¾—ã€ä»¥å‰ã€é‚£æ—¶å€™ã€è¿‡å»</li>
<li><strong>æƒé‡é…ç½®</strong>ï¼š
<ul>
<li>ContextRelevance: 0.40</li>
<li>Recency: 0.10  // æ—¶æ•ˆæ€§é™ä½</li>
<li>Importance: 0.25</li>
<li>Diversity: 0.15</li>
<li>LayerPriority: 0.10</li>
</ul>
</li>
</ul>
<h5 data-id="heading-56">5. Emergencyï¼ˆç´§æ€¥æƒ…å†µï¼‰</h5>
<ul>
<li><strong>ç‰¹å¾</strong>ï¼šæ¶‰åŠå±é™©ã€ç´§æ€¥ã€å±æœº</li>
<li><strong>å…³é”®è¯</strong>ï¼šå±é™©ã€ç´§æ€¥ã€å¸®åŠ©ã€é€ƒè·‘</li>
<li><strong>æƒé‡é…ç½®</strong>ï¼š
<ul>
<li>ContextRelevance: 0.50  // ç›¸å…³æ€§æœ€é«˜</li>
<li>Recency: 0.30  // æ—¶æ•ˆæ€§æé«˜</li>
<li>Importance: 0.15</li>
<li>Diversity: 0.05</li>
<li>LayerPriority: 0.00</li>
</ul>
</li>
</ul>
<h5 data-id="heading-57">6. Introductionï¼ˆä»‹ç»è®¤è¯†ï¼‰</h5>
<ul>
<li><strong>ç‰¹å¾</strong>ï¼šæ¶‰åŠè‡ªæˆ‘ä»‹ç»ã€ç›¸äº’è®¤è¯†</li>
<li><strong>å…³é”®è¯</strong>ï¼šä½ å¥½ã€æˆ‘æ˜¯ã€è®¤è¯†</li>
<li><strong>æƒé‡é…ç½®</strong>ï¼š
<ul>
<li>ContextRelevance: 0.35</li>
<li>Recency: 0.20</li>
<li>Importance: 0.20</li>
<li>Diversity: 0.15</li>
<li>LayerPriority: 0.10</li>
</ul>
</li>
</ul>
<h4 data-id="heading-58">åœºæ™¯è¯†åˆ«ç®—æ³•</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> è¯†åˆ«å¯¹è¯åœºæ™¯</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> SceneType <span class="hljs-title">IdentifyScene</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> context</span>)</span>
{
    <span class="hljs-comment">// å®šä¹‰å„åœºæ™¯çš„å…³é”®è¯</span>
    Dictionary&lt;SceneType, List&lt;<span class="hljs-built_in">string</span>&gt;&gt; sceneKeywords = <span class="hljs-keyword">new</span> Dictionary&lt;SceneType, List&lt;<span class="hljs-built_in">string</span>&gt;&gt;
    {
        { SceneType.Casual, <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt; { <span class="hljs-string">"å¤©æ°”"</span>, <span class="hljs-string">"é£Ÿç‰©"</span>, <span class="hljs-string">"å¨±ä¹"</span>, <span class="hljs-string">"èŠå¤©"</span> } },
        { SceneType.EmotionalTalk, <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt; { <span class="hljs-string">"çˆ±"</span>, <span class="hljs-string">"æ¨"</span>, <span class="hljs-string">"æ‚²ä¼¤"</span>, <span class="hljs-string">"å¿«ä¹"</span>, <span class="hljs-string">"æ‹…å¿ƒ"</span> } },
        { SceneType.WorkDiscussion, <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt; { <span class="hljs-string">"å·¥ä½œ"</span>, <span class="hljs-string">"ä»»åŠ¡"</span>, <span class="hljs-string">"è®¡åˆ’"</span>, <span class="hljs-string">"å»ºé€ "</span>, <span class="hljs-string">"ç§æ¤"</span> } },
        { SceneType.HistoryRecall, <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt; { <span class="hljs-string">"è®°å¾—"</span>, <span class="hljs-string">"ä»¥å‰"</span>, <span class="hljs-string">"é‚£æ—¶å€™"</span>, <span class="hljs-string">"è¿‡å»"</span> } },
        { SceneType.Emergency, <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt; { <span class="hljs-string">"å±é™©"</span>, <span class="hljs-string">"ç´§æ€¥"</span>, <span class="hljs-string">"å¸®åŠ©"</span>, <span class="hljs-string">"é€ƒè·‘"</span> } },
        { SceneType.Introduction, <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt; { <span class="hljs-string">"ä½ å¥½"</span>, <span class="hljs-string">"æˆ‘æ˜¯"</span>, <span class="hljs-string">"è®¤è¯†"</span> } }
    };
    
    <span class="hljs-comment">// è®¡ç®—å„åœºæ™¯çš„åŒ¹é…å¾—åˆ†</span>
    Dictionary&lt;SceneType, <span class="hljs-built_in">float</span>&gt; sceneScores = <span class="hljs-keyword">new</span> Dictionary&lt;SceneType, <span class="hljs-built_in">float</span>&gt;();
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> kvp <span class="hljs-keyword">in</span> sceneKeywords)
    {
        <span class="hljs-built_in">float</span> score = <span class="hljs-number">0f</span>;
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> keyword <span class="hljs-keyword">in</span> kvp.Value)
        {
            <span class="hljs-keyword">if</span> (context.Contains(keyword))
            {
                score += <span class="hljs-number">1f</span>;
            }
        }
        sceneScores[kvp.Key] = score;
    }
    
    <span class="hljs-comment">// è¿”å›å¾—åˆ†æœ€é«˜çš„åœºæ™¯</span>
    <span class="hljs-keyword">return</span> sceneScores.OrderByDescending(x =&gt; x.Value).First().Key;
}
</code></pre>
<h4 data-id="heading-59">åŠ¨æ€æƒé‡è°ƒæ•´</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ ¹æ®åœºæ™¯è·å–è¯„åˆ†æƒé‡</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ScoringWeights <span class="hljs-title">GetWeightsForScene</span>(<span class="hljs-params">SceneType scene</span>)</span>
{
    <span class="hljs-keyword">switch</span> (scene)
    {
        <span class="hljs-keyword">case</span> SceneType.Casual:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ScoringWeights
            {
                ContextRelevance = <span class="hljs-number">0.35f</span>,
                Recency = <span class="hljs-number">0.25f</span>,
                Importance = <span class="hljs-number">0.15f</span>,
                Diversity = <span class="hljs-number">0.15f</span>,
                LayerPriority = <span class="hljs-number">0.10f</span>
            };
        <span class="hljs-keyword">case</span> SceneType.EmotionalTalk:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ScoringWeights
            {
                ContextRelevance = <span class="hljs-number">0.30f</span>,
                Recency = <span class="hljs-number">0.15f</span>,
                Importance = <span class="hljs-number">0.30f</span>,
                Diversity = <span class="hljs-number">0.10f</span>,
                LayerPriority = <span class="hljs-number">0.15f</span>
            };
        <span class="hljs-keyword">case</span> SceneType.WorkDiscussion:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ScoringWeights
            {
                ContextRelevance = <span class="hljs-number">0.45f</span>,
                Recency = <span class="hljs-number">0.20f</span>,
                Importance = <span class="hljs-number">0.20f</span>,
                Diversity = <span class="hljs-number">0.10f</span>,
                LayerPriority = <span class="hljs-number">0.05f</span>
            };
        <span class="hljs-keyword">case</span> SceneType.HistoryRecall:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ScoringWeights
            {
                ContextRelevance = <span class="hljs-number">0.40f</span>,
                Recency = <span class="hljs-number">0.10f</span>,
                Importance = <span class="hljs-number">0.25f</span>,
                Diversity = <span class="hljs-number">0.15f</span>,
                LayerPriority = <span class="hljs-number">0.10f</span>
            };
        <span class="hljs-keyword">case</span> SceneType.Emergency:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ScoringWeights
            {
                ContextRelevance = <span class="hljs-number">0.50f</span>,
                Recency = <span class="hljs-number">0.30f</span>,
                Importance = <span class="hljs-number">0.15f</span>,
                Diversity = <span class="hljs-number">0.05f</span>,
                LayerPriority = <span class="hljs-number">0.00f</span>
            };
        <span class="hljs-keyword">case</span> SceneType.Introduction:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ScoringWeights
            {
                ContextRelevance = <span class="hljs-number">0.35f</span>,
                Recency = <span class="hljs-number">0.20f</span>,
                Importance = <span class="hljs-number">0.20f</span>,
                Diversity = <span class="hljs-number">0.15f</span>,
                LayerPriority = <span class="hljs-number">0.10f</span>
            };
        <span class="hljs-literal">default</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ScoringWeights();  <span class="hljs-comment">// ä½¿ç”¨é»˜è®¤æƒé‡</span>
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-60">å¸¸è¯†çŸ¥è¯†åº“</h3>
<h4 data-id="heading-61">ç³»ç»Ÿæ¦‚è¿°</h4>
<p>å¸¸è¯†çŸ¥è¯†åº“ç”¨äºå­˜å‚¨å’Œç®¡ç†æ¸¸æˆä¸–ç•Œçš„å…±äº«çŸ¥è¯†ï¼ŒåŒ…æ‹¬å…¨å±€çŸ¥è¯†å’Œè§’è‰²ç‰¹å®šçŸ¥è¯†ã€‚è¯¥ç³»ç»Ÿæ”¯æŒçŸ¥è¯†çš„åˆ†ç±»ã€æ£€ç´¢å’Œæ³¨å…¥ï¼Œä¸ºAIè§’è‰²æä¾›ä¸°å¯Œçš„èƒŒæ™¯ä¿¡æ¯ã€‚</p>
<h4 data-id="heading-62">çŸ¥è¯†æ¡ç›®ç»“æ„</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å¸¸è¯†æ¡ç›®</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">CommonKnowledgeEntry</span> : <span class="hljs-title">IExposable</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> id;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> tag;          <span class="hljs-comment">// æ ‡ç­¾ï¼ˆæ”¯æŒå¤šä¸ªï¼Œç”¨é€—å·åˆ†éš”ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> content;      <span class="hljs-comment">// å†…å®¹ï¼ˆç”¨äºæ³¨å…¥ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">float</span> importance;    <span class="hljs-comment">// é‡è¦æ€§</span>
    <span class="hljs-keyword">public</span> List&lt;<span class="hljs-built_in">string</span>&gt; keywords; <span class="hljs-comment">// å…³é”®è¯ï¼ˆå¯é€‰ï¼Œç”¨æˆ·æ‰‹åŠ¨è®¾ç½®ï¼Œä¸å¯¼å‡ºå¯¼å…¥ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> isEnabled;      <span class="hljs-comment">// æ˜¯å¦å¯ç”¨</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> isUserEdited;   <span class="hljs-comment">// æ˜¯å¦è¢«ç”¨æˆ·ç¼–è¾‘è¿‡ï¼ˆç”¨äºä¿æŠ¤æ‰‹åŠ¨ä¿®æ”¹ï¼‰</span>
    
    <span class="hljs-comment">// ç›®æ ‡Pawné™åˆ¶ï¼ˆç”¨äºè§’è‰²ä¸“å±å¸¸è¯†ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> targetPawnId = <span class="hljs-number">-1</span>;  <span class="hljs-comment">// -1è¡¨ç¤ºå…¨å±€ï¼Œå¦åˆ™åªå¯¹ç‰¹å®šPawnæœ‰æ•ˆ</span>
    
    <span class="hljs-comment">// åˆ›å»ºæ—¶é—´æˆ³å’ŒåŸå§‹äº‹ä»¶æ–‡æœ¬ï¼ˆç”¨äºåŠ¨æ€æ›´æ–°æ—¶é—´å‰ç¼€ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> creationTick = <span class="hljs-number">-1</span>;       <span class="hljs-comment">// -1è¡¨ç¤ºæ°¸ä¹…ï¼Œ&gt;=0è¡¨ç¤ºåˆ›å»ºæ—¶çš„æ¸¸æˆtick</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> originalEventText = <span class="hljs-string">""</span>;  <span class="hljs-comment">// ä¿å­˜ä¸å¸¦æ—¶é—´å‰ç¼€çš„åŸå§‹äº‹ä»¶æ–‡æœ¬</span>
}
</code></pre>
<h4 data-id="heading-63">çŸ¥è¯†åˆ†ç±»</h4>
<h5 data-id="heading-64">1. å…¨å±€çŸ¥è¯†ï¼ˆGlobal Knowledgeï¼‰</h5>
<ul>
<li><strong>targetPawnId</strong>ï¼š-1</li>
<li><strong>é€‚ç”¨èŒƒå›´</strong>ï¼šæ‰€æœ‰è§’è‰²</li>
<li><strong>å†…å®¹ç±»å‹</strong>ï¼šæ¸¸æˆä¸–ç•Œè®¾å®šã€é€šç”¨è§„åˆ™ã€ç¯å¢ƒä¿¡æ¯</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">æ ‡ç­¾: ä¸–ç•Œè®¾å®š</span>
<span class="hljs-section">å†…å®¹: è¿™æ˜¯ä¸€ä¸ªä½äºæ¸©å¸¦æ£®æ—çš„æ®–æ°‘åœ°ï¼Œæ°”å€™æ¸©å’Œï¼Œå››å­£åˆ†æ˜ã€‚</span>
</code></pre>
</li>
</ul>
<h5 data-id="heading-65">2. è§’è‰²ç‰¹å®šçŸ¥è¯†ï¼ˆCharacter-specific Knowledgeï¼‰</h5>
<ul>
<li><strong>targetPawnId</strong>ï¼šç‰¹å®šè§’è‰²çš„ID</li>
<li><strong>é€‚ç”¨èŒƒå›´</strong>ï¼šä»…å¯¹ç‰¹å®šè§’è‰²æœ‰æ•ˆ</li>
<li><strong>å†…å®¹ç±»å‹</strong>ï¼šè§’è‰²èƒŒæ™¯ã€ä¸ªäººç»å†ã€ç‰¹æ®Šå…³ç³»</li>
<li><strong>ç¤ºä¾‹</strong>ï¼š
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">æ ‡ç­¾: è§’è‰²èƒŒæ™¯</span>
<span class="hljs-section">å†…å®¹: Aliceæ˜¯ä¸€åæ¥è‡ªåŸå¸‚çš„æ®–æ°‘è€…ï¼Œæ“…é•¿ç§æ¤ä½œç‰©ã€‚</span>
<span class="hljs-section">ç›®æ ‡è§’è‰²: Alice</span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-66">çŸ¥è¯†æ£€ç´¢ç®—æ³•</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ£€ç´¢ç›¸å…³çŸ¥è¯†</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;CommonKnowledgeEntry&gt; <span class="hljs-title">RetrieveKnowledge</span>(<span class="hljs-params">
    Pawn pawn,
    <span class="hljs-built_in">string</span> context,
    <span class="hljs-built_in">int</span> maxKnowledge = <span class="hljs-number">5</span></span>)</span>
{
    <span class="hljs-comment">// 1. è·å–æ‰€æœ‰å¯ç”¨çš„çŸ¥è¯†</span>
    <span class="hljs-keyword">var</span> allKnowledge = GetAllEnabledKnowledge();
    
    <span class="hljs-comment">// 2. è¿‡æ»¤å‡ºé€‚ç”¨äºå½“å‰è§’è‰²çš„çŸ¥è¯†</span>
    <span class="hljs-keyword">var</span> applicableKnowledge = allKnowledge.Where(k =&gt; 
        k.targetPawnId == <span class="hljs-number">-1</span> || k.targetPawnId == pawn.thingIDNumber).ToList();
    
    <span class="hljs-comment">// 3. è®¡ç®—æ¯æ¡çŸ¥è¯†çš„ç›¸å…³æ€§å¾—åˆ†</span>
    <span class="hljs-keyword">var</span> scoredKnowledge = applicableKnowledge.Select(k =&gt; <span class="hljs-keyword">new</span>
    {
        Knowledge = k,
        Score = CalculateKnowledgeRelevance(k, context)
    });
    
    <span class="hljs-comment">// 4. æŒ‰å¾—åˆ†æ’åºå¹¶è¿”å›Top-N</span>
    <span class="hljs-keyword">return</span> scoredKnowledge
        .OrderByDescending(x =&gt; x.Score)
        .Take(maxKnowledge)
        .Select(x =&gt; x.Knowledge)
        .ToList();
}

<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> è®¡ç®—çŸ¥è¯†ç›¸å…³æ€§å¾—åˆ†</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">float</span> <span class="hljs-title">CalculateKnowledgeRelevance</span>(<span class="hljs-params">
    CommonKnowledgeEntry knowledge,
    <span class="hljs-built_in">string</span> context</span>)</span>
{
    <span class="hljs-built_in">float</span> score = <span class="hljs-number">0f</span>;
    
    <span class="hljs-comment">// 1. æ ‡ç­¾åŒ¹é…</span>
    <span class="hljs-keyword">if</span> (knowledge.keywords != <span class="hljs-literal">null</span> &amp;&amp; knowledge.keywords.Count &gt; <span class="hljs-number">0</span>)
    {
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> keyword <span class="hljs-keyword">in</span> knowledge.keywords)
        {
            <span class="hljs-keyword">if</span> (context.Contains(keyword))
            {
                score += <span class="hljs-number">0.5f</span>;
            }
        }
    }
    
    <span class="hljs-comment">// 2. é‡è¦æ€§åŠ æƒ</span>
    score += knowledge.importance * <span class="hljs-number">0.5f</span>;
    
    <span class="hljs-keyword">return</span> score;
}
</code></pre>
<h4 data-id="heading-67">çŸ¥è¯†æ³¨å…¥ç­–ç•¥</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ³¨å…¥çŸ¥è¯†åˆ°ä¸Šä¸‹æ–‡</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">InjectKnowledge</span>(<span class="hljs-params">
    List&lt;CommonKnowledgeEntry&gt; knowledgeList</span>)</span>
{
    <span class="hljs-keyword">if</span> (knowledgeList == <span class="hljs-literal">null</span> || knowledgeList.Count == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
    
    StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();
    sb.AppendLine(<span class="hljs-string">"=== ä¸–ç•ŒçŸ¥è¯† ==="</span>);
    
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> knowledge <span class="hljs-keyword">in</span> knowledgeList)
    {
        sb.AppendLine(<span class="hljs-string">$"[<span class="hljs-subst">{knowledge.tag}</span>] <span class="hljs-subst">{knowledge.content}</span>"</span>);
    }
    
    <span class="hljs-keyword">return</span> sb.ToString();
}
</code></pre>
<h4 data-id="heading-68">çŸ¥è¯†ç®¡ç†åŠŸèƒ½</h4>
<ol>
<li><strong>æ·»åŠ çŸ¥è¯†</strong>ï¼šæ”¯æŒæ‰‹åŠ¨æ·»åŠ æ–°çš„çŸ¥è¯†æ¡ç›®</li>
<li><strong>ç¼–è¾‘çŸ¥è¯†</strong>ï¼šå…è®¸ç”¨æˆ·ä¿®æ”¹ç°æœ‰çŸ¥è¯†</li>
<li><strong>åˆ é™¤çŸ¥è¯†</strong>ï¼šæ”¯æŒåˆ é™¤ä¸éœ€è¦çš„çŸ¥è¯†</li>
<li><strong>å¯¼å…¥å¯¼å‡º</strong>ï¼šæ”¯æŒçŸ¥è¯†çš„å¯¼å…¥å’Œå¯¼å‡º</li>
<li><strong>æ ‡ç­¾ç®¡ç†</strong>ï¼šæ”¯æŒçŸ¥è¯†çš„åˆ†ç±»å’Œæ ‡ç­¾åŒ–</li>
<li><strong>å¯ç”¨/ç¦ç”¨</strong>ï¼šæ”¯æŒçŸ¥è¯†çš„å¯ç”¨å’Œç¦ç”¨</li>
<li><strong>é‡è¦æ€§è®¾ç½®</strong>ï¼šæ”¯æŒè®¾ç½®çŸ¥è¯†çš„é‡è¦æ€§æƒé‡</li>
</ol>
<hr/>
<h3 data-id="heading-69">è®¾è®¡æ€è·¯å’Œæ¶æ„æ¨¡å¼</h3>
<h4 data-id="heading-70">æ ¸å¿ƒè®¾è®¡ç†å¿µ</h4>
<h5 data-id="heading-71">1. æ¨¡æ‹Ÿäººç±»è®°å¿†</h5>
<p>è¯¥ç³»ç»Ÿçš„æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯æ¨¡æ‹Ÿäººç±»è®°å¿†çš„å·¥ä½œæœºåˆ¶ï¼Œé€šè¿‡åˆ†å±‚å­˜å‚¨ã€è‡ªç„¶è¡°å‡ã€é‡è¦æ€§è¯„ä¼°ç­‰æœºåˆ¶ï¼Œå®ç°æ¥è¿‘äººç±»è®°å¿†ç‰¹æ€§çš„AIè¡Œä¸ºã€‚</p>
<p><strong>äººç±»è®°å¿†æ¨¡å‹å¯¹ç…§</strong>ï¼š</p>
<ul>
<li><strong>å·¥ä½œè®°å¿†ï¼ˆWorking Memoryï¼‰</strong> â†’ Activeå±‚</li>
<li><strong>çŸ­æœŸè®°å¿†ï¼ˆShort-term Memoryï¼‰</strong> â†’ Situationalå±‚</li>
<li><strong>æƒ…æ™¯è®°å¿†ï¼ˆEpisodic Memoryï¼‰</strong> â†’ EventLogå±‚</li>
<li><strong>è¯­ä¹‰è®°å¿†ï¼ˆSemantic Memoryï¼‰</strong> â†’ Archiveå±‚</li>
</ul>
<h5 data-id="heading-72">2. ä¸Šä¸‹æ–‡æ„ŸçŸ¥</h5>
<p>ç³»ç»Ÿé€šè¿‡åœºæ™¯åˆ†æå’ŒåŠ¨æ€æƒé‡è°ƒæ•´ï¼Œå®ç°äº†ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„è®°å¿†æ£€ç´¢ã€‚è¿™æ„å‘³ç€AIè§’è‰²èƒ½å¤Ÿæ ¹æ®å½“å‰æƒ…å¢ƒï¼Œæ™ºèƒ½åœ°é€‰æ‹©æœ€ç›¸å…³çš„è®°å¿†å’ŒçŸ¥è¯†ã€‚</p>
<p><strong>å®ç°æ–¹å¼</strong>ï¼š</p>
<ul>
<li>åœºæ™¯è¯†åˆ«ï¼šè‡ªåŠ¨è¯†åˆ«å¯¹è¯åœºæ™¯ç±»å‹</li>
<li>åŠ¨æ€æƒé‡ï¼šæ ¹æ®åœºæ™¯è°ƒæ•´è¯„åˆ†æƒé‡</li>
<li>ä¸Šä¸‹æ–‡ç›¸å…³æ€§ï¼šè®¡ç®—è®°å¿†ä¸å½“å‰ä¸Šä¸‹æ–‡çš„ç›¸å…³æ€§</li>
</ul>
<h5 data-id="heading-73">3. å¤šç»´åº¦è¯„ä¼°</h5>
<p>ç³»ç»Ÿé€šè¿‡å¤šå› å­è¯„åˆ†ç®—æ³•ï¼Œç»¼åˆè€ƒè™‘ç›¸å…³æ€§ã€æ—¶æ•ˆæ€§ã€é‡è¦æ€§ã€å¤šæ ·æ€§ç­‰å¤šä¸ªç»´åº¦ï¼Œç¡®ä¿æ£€ç´¢ç»“æœçš„å‡†ç¡®æ€§å’Œå¤šæ ·æ€§ã€‚</p>
<p><strong>è¯„åˆ†å› å­</strong>ï¼š</p>
<ul>
<li>ä¸Šä¸‹æ–‡ç›¸å…³æ€§ï¼ˆContext Relevanceï¼‰</li>
<li>æ—¶é—´æ–°è¿‘åº¦ï¼ˆRecencyï¼‰</li>
<li>é‡è¦æ€§ï¼ˆImportanceï¼‰</li>
<li>å¤šæ ·æ€§è¡¥å¿ï¼ˆDiversityï¼‰</li>
<li>å±‚çº§ä¼˜å…ˆçº§ï¼ˆLayer Priorityï¼‰</li>
</ul>
<h4 data-id="heading-74">æ¶æ„æ¨¡å¼</h4>
<h5 data-id="heading-75">1. åˆ†å±‚æ¶æ„ï¼ˆLayered Architectureï¼‰</h5>
<p>ç³»ç»Ÿé‡‡ç”¨åˆ†å±‚æ¶æ„ï¼Œå°†è®°å¿†æŒ‰ç…§é‡è¦æ€§å’Œæ—¶æ•ˆæ€§åˆ†å¸ƒåœ¨ä¸åŒå±‚çº§ï¼Œæ¯å±‚æœ‰ä¸åŒçš„å®¹é‡é™åˆ¶å’Œä¿ç•™æ—¶é—´ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>æ¸…æ™°çš„èŒè´£åˆ†ç¦»</li>
<li>æ˜“äºç»´æŠ¤å’Œæ‰©å±•</li>
<li>ç¬¦åˆäººç±»è®°å¿†æ¨¡å‹</li>
</ul>
<p><strong>å®ç°</strong>ï¼š</p>
<pre><code class="hljs">Active â†’ Situational â†’ EventLog â†’ Archive
</code></pre>
<h5 data-id="heading-76">2. ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰</h5>
<p>ç³»ç»Ÿä½¿ç”¨ç­–ç•¥æ¨¡å¼å®ç°ä¸åŒçš„è¯„åˆ†ç­–ç•¥ï¼Œæ ¹æ®åœºæ™¯ç±»å‹åŠ¨æ€é€‰æ‹©è¯„åˆ†æƒé‡ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>çµæ´»çš„è¯„åˆ†ç­–ç•¥</li>
<li>æ˜“äºæ·»åŠ æ–°çš„åœºæ™¯ç±»å‹</li>
<li>ç¬¦åˆå¼€é—­åŸåˆ™</li>
</ul>
<p><strong>å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ScoringWeights <span class="hljs-title">GetWeightsForScene</span>(<span class="hljs-params">SceneType scene</span>)</span>
{
    <span class="hljs-keyword">switch</span> (scene)
    {
        <span class="hljs-keyword">case</span> SceneType.Casual:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ScoringWeights { ... };
        <span class="hljs-keyword">case</span> SceneType.EmotionalTalk:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ScoringWeights { ... };
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<h5 data-id="heading-77">3. å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰</h5>
<p>ç³»ç»Ÿä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºä¸åŒç±»å‹çš„è®°å¿†æ¡ç›®å’ŒçŸ¥è¯†æ¡ç›®ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>ç»Ÿä¸€çš„å¯¹è±¡åˆ›å»ºæ¥å£</li>
<li>æ˜“äºæ‰©å±•æ–°çš„è®°å¿†ç±»å‹</li>
<li>é™ä½è€¦åˆåº¦</li>
</ul>
<p><strong>å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> MemoryEntry <span class="hljs-title">CreateMemoryEntry</span>(<span class="hljs-params">
    MemoryType type,
    <span class="hljs-built_in">string</span> content,
    MemoryLayer layer</span>)</span>
{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> MemoryEntry
    {
        id = GenerateId(),
        type = type,
        content = content,
        layer = layer,
        timestamp = Find.TickManager.TicksGame,
        importance = CalculateInitialImportance(type, content),
        activity = <span class="hljs-number">1.0f</span>
    };
}
</code></pre>
<h5 data-id="heading-78">4. è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰</h5>
<p>ç³»ç»Ÿä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ç›‘å¬æ¸¸æˆäº‹ä»¶ï¼Œè‡ªåŠ¨åˆ›å»ºå’Œæ›´æ–°è®°å¿†ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>è‡ªåŠ¨åŒ–çš„è®°å¿†åˆ›å»º</li>
<li>å®æ—¶çš„äº‹ä»¶å“åº”</li>
<li>æ¾è€¦åˆçš„äº‹ä»¶å¤„ç†</li>
</ul>
<p><strong>å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MemoryObserver</span> : <span class="hljs-title">IEventObserver</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnEventOccurred</span>(<span class="hljs-params">GameEvent evt</span>)</span>
    {
        <span class="hljs-keyword">if</span> (evt.IsImportant())
        {
            CreateMemoryFromEvent(evt);
        }
    }
}
</code></pre>
<h5 data-id="heading-79">5. è£…é¥°å™¨æ¨¡å¼ï¼ˆDecorator Patternï¼‰</h5>
<p>ç³»ç»Ÿä½¿ç”¨è£…é¥°å™¨æ¨¡å¼ä¸ºè®°å¿†æ·»åŠ é¢å¤–çš„åŠŸèƒ½ï¼Œå¦‚æ ‡ç­¾ã€å¤‡æ³¨ã€å›ºå®šç­‰ã€‚</p>
<p><strong>ä¼˜ç‚¹</strong>ï¼š</p>
<ul>
<li>çµæ´»çš„åŠŸèƒ½æ‰©å±•</li>
<li>ä¸ä¿®æ”¹åŸæœ‰ä»£ç </li>
<li>ç»„åˆå¤šä¸ªè£…é¥°å™¨</li>
</ul>
<p><strong>å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PinnedMemoryDecorator</span> : <span class="hljs-title">MemoryEntry</span>
{
    <span class="hljs-keyword">private</span> MemoryEntry _memory;
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">PinnedMemoryDecorator</span>(<span class="hljs-params">MemoryEntry memory</span>)</span>
    {
        _memory = memory;
        _memory.isPinned = <span class="hljs-literal">true</span>;
    }
    
    <span class="hljs-comment">// å§”æ‰˜åŸæœ‰æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ExposeData</span>()</span>
    {
        _memory.ExposeData();
    }
}
</code></pre>
<h4 data-id="heading-80">æ•°æ®æµè®¾è®¡</h4>
<h5 data-id="heading-81">è®°å¿†åˆ›å»ºæµç¨‹</h5>
<pre><code class="hljs language-markdown" lang="markdown">æ¸¸æˆäº‹ä»¶å‘ç”Ÿ
<span class="hljs-code">    â†“
äº‹ä»¶ç›‘å¬å™¨æ•è·
    â†“
åˆ¤æ–­æ˜¯å¦éœ€è¦åˆ›å»ºè®°å¿†
    â†“
åˆ›å»ºè®°å¿†æ¡ç›®
    â”œâ”€ è®¾ç½®åŸºç¡€ä¿¡æ¯ï¼ˆIDã€å†…å®¹ã€ç±»å‹ã€æ—¶é—´æˆ³ï¼‰
    â”œâ”€ è®¡ç®—åˆå§‹é‡è¦æ€§
    â”œâ”€ æå–å…³é”®è¯
    â””â”€ åˆ†é…åˆ°Activeå±‚
    â†“
è®°å¿†æ´»è·ƒåº¦è¡°å‡
    â†“
æ ¹æ®é‡è¦æ€§è¿ç§»åˆ°æ›´æ·±å±‚çº§
    â†“
ä½é‡è¦æ€§è®°å¿†è¢«åˆ é™¤
</span></code></pre>
<h5 data-id="heading-82">è®°å¿†æ£€ç´¢æµç¨‹</h5>
<pre><code class="hljs language-css" lang="css">æ£€ç´¢è¯·æ±‚
    â†“
åœºæ™¯åˆ†æ
    â†“
å¤šè·¯æ£€ç´¢
    â”œâ”€ å…³é”®è¯åŒ¹é…
    â”œâ”€ å‘é‡æ£€ç´¢
    â””â”€ æ ‡ç­¾è¿‡æ»¤
    â†“
ç»“æœèåˆ
    â†“
å¤šå› å­è¯„åˆ†
    â†“
å¤šæ ·æ€§è¡¥å¿
    â†“
è¿”å›<span class="hljs-attribute">Top</span>-Nç»“æœ
</code></pre>
<h4 data-id="heading-83">æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h4>
<h5 data-id="heading-84">1. ç¼“å­˜æœºåˆ¶</h5>
<ul>
<li><strong>AIæ€»ç»“ç¼“å­˜</strong>ï¼šä½¿ç”¨aiCacheKeyç¼“å­˜AIç”Ÿæˆçš„æ€»ç»“</li>
<li><strong>å‘é‡ç¼“å­˜</strong>ï¼šç¼“å­˜è®°å¿†çš„å‘é‡è¡¨ç¤º</li>
<li><strong>è¯„åˆ†ç¼“å­˜</strong>ï¼šç¼“å­˜è®°å¿†çš„è¯„åˆ†ç»“æœ</li>
</ul>
<h5 data-id="heading-85">2. ç´¢å¼•ä¼˜åŒ–</h5>
<ul>
<li><strong>å…³é”®è¯ç´¢å¼•</strong>ï¼šä¸ºå…³é”®è¯å»ºç«‹å€’æ’ç´¢å¼•</li>
<li><strong>å‘é‡ç´¢å¼•</strong>ï¼šä½¿ç”¨å‘é‡æ•°æ®åº“è¿›è¡Œé«˜æ•ˆæ£€ç´¢</li>
<li><strong>æ ‡ç­¾ç´¢å¼•</strong>ï¼šä¸ºæ ‡ç­¾å»ºç«‹å¿«é€ŸæŸ¥è¯¢ç´¢å¼•</li>
</ul>
<h5 data-id="heading-86">3. æ‰¹é‡å¤„ç†</h5>
<ul>
<li><strong>æ‰¹é‡åˆ›å»ºè®°å¿†</strong>ï¼šä¸€æ¬¡äº‹ä»¶åˆ›å»ºå¤šä¸ªç›¸å…³è®°å¿†</li>
<li><strong>æ‰¹é‡æ£€ç´¢</strong>ï¼šä¸€æ¬¡æ€§æ£€ç´¢å¤šä¸ªç›¸å…³è®°å¿†</li>
<li><strong>æ‰¹é‡æ›´æ–°</strong>ï¼šå®šæœŸæ‰¹é‡æ›´æ–°è®°å¿†çŠ¶æ€</li>
</ul>
<h5 data-id="heading-87">4. å¼‚æ­¥å¤„ç†</h5>
<ul>
<li><strong>å¼‚æ­¥å‘é‡è®¡ç®—</strong>ï¼šä½¿ç”¨å¼‚æ­¥ä»»åŠ¡è®¡ç®—å‘é‡è¡¨ç¤º</li>
<li><strong>å¼‚æ­¥è¯„åˆ†</strong>ï¼šä½¿ç”¨å¼‚æ­¥ä»»åŠ¡è®¡ç®—è®°å¿†è¯„åˆ†</li>
<li><strong>å¼‚æ­¥æŒä¹…åŒ–</strong>ï¼šä½¿ç”¨å¼‚æ­¥ä»»åŠ¡ä¿å­˜è®°å¿†åˆ°æ•°æ®åº“</li>
</ul>
<hr/>
<h3 data-id="heading-88">æŠ€æœ¯äº®ç‚¹å’Œåˆ›æ–°ç‚¹</h3>
<h4 data-id="heading-89">1. å››å±‚è®°å¿†æ¶æ„</h4>
<p><strong>åˆ›æ–°ç‚¹</strong>ï¼š</p>
<ul>
<li>é¦–æ¬¡åœ¨æ¸¸æˆAIä¸­å®ç°å®Œæ•´çš„å››å±‚è®°å¿†ç³»ç»Ÿ</li>
<li>æ¨¡æ‹Ÿäººç±»è®°å¿†çš„è¶…çŸ­æœŸã€çŸ­æœŸã€ä¸­æœŸã€é•¿æœŸè®°å¿†</li>
<li>è‡ªç„¶çš„è®°å¿†æµè½¬å’Œè¡°å‡æœºåˆ¶</li>
</ul>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>ç¬¦åˆè®¤çŸ¥ç§‘å­¦ç†è®º</li>
<li>æä¾›é€¼çœŸçš„AIè¡Œä¸º</li>
<li>æ˜“äºç†è§£å’Œç»´æŠ¤</li>
</ul>
<h4 data-id="heading-90">2. åœºæ™¯æ„ŸçŸ¥çš„åŠ¨æ€è¯„åˆ†</h4>
<p><strong>åˆ›æ–°ç‚¹</strong>ï¼š</p>
<ul>
<li>è‡ªåŠ¨è¯†åˆ«å¯¹è¯åœºæ™¯ç±»å‹</li>
<li>æ ¹æ®åœºæ™¯åŠ¨æ€è°ƒæ•´è¯„åˆ†æƒé‡</li>
<li>å®ç°ä¸Šä¸‹æ–‡æ„ŸçŸ¥çš„è®°å¿†æ£€ç´¢</li>
</ul>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æé«˜æ£€ç´¢å‡†ç¡®æ€§</li>
<li>é€‚åº”ä¸åŒå¯¹è¯åœºæ™¯</li>
<li>æä¾›æ›´è‡ªç„¶çš„AIè¡Œä¸º</li>
</ul>
<h4 data-id="heading-91">3. å¤šå› å­è¯„åˆ†ç®—æ³•</h4>
<p><strong>åˆ›æ–°ç‚¹</strong>ï¼š</p>
<ul>
<li>ç»¼åˆè€ƒè™‘ç›¸å…³æ€§ã€æ—¶æ•ˆæ€§ã€é‡è¦æ€§ã€å¤šæ ·æ€§ç­‰å¤šä¸ªç»´åº¦</li>
<li>åŠ¨æ€æƒé‡è°ƒæ•´æœºåˆ¶</li>
<li>å¤šæ ·æ€§è¡¥å¿ç®—æ³•</li>
</ul>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æä¾›å…¨é¢çš„è¯„ä¼°</li>
<li>é¿å…ç»“æœè¿‡äºé›†ä¸­</li>
<li>ä¿è¯ç»“æœçš„å¤šæ ·æ€§</li>
</ul>
<h4 data-id="heading-92">4. å‘é‡æ•°æ®åº“é›†æˆ</h4>
<p><strong>åˆ›æ–°ç‚¹</strong>ï¼š</p>
<ul>
<li>é›†æˆå‘é‡æ•°æ®åº“è¿›è¡Œè¯­ä¹‰æ£€ç´¢</li>
<li>æ”¯æŒé«˜ç»´å‘é‡è¡¨ç¤º</li>
<li>å®ç°è¯­ä¹‰ç›¸ä¼¼åº¦è®¡ç®—</li>
</ul>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æé«˜æ£€ç´¢å‡†ç¡®æ€§</li>
<li>æ”¯æŒè¯­ä¹‰ç†è§£</li>
<li>æ‰©å±•æ€§å¼º</li>
</ul>
<h4 data-id="heading-93">5. ç”¨æˆ·å¯ç¼–è¾‘æ€§</h4>
<p><strong>åˆ›æ–°ç‚¹</strong>ï¼š</p>
<ul>
<li>æ”¯æŒç”¨æˆ·ç¼–è¾‘è®°å¿†å†…å®¹</li>
<li>æ”¯æŒç”¨æˆ·æ·»åŠ æ ‡ç­¾å’Œå¤‡æ³¨</li>
<li>æ”¯æŒç”¨æˆ·å›ºå®šé‡è¦è®°å¿†</li>
</ul>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æé«˜ç”¨æˆ·å‚ä¸åº¦</li>
<li>å…è®¸ä¸ªæ€§åŒ–å®šåˆ¶</li>
<li>å¢å¼ºç³»ç»Ÿçµæ´»æ€§</li>
</ul>
<h4 data-id="heading-94">6. è§’è‰²ç‰¹å®šçŸ¥è¯†åº“</h4>
<p><strong>åˆ›æ–°ç‚¹</strong>ï¼š</p>
<ul>
<li>æ”¯æŒå…¨å±€çŸ¥è¯†å’Œè§’è‰²ç‰¹å®šçŸ¥è¯†</li>
<li>çµæ´»çš„çŸ¥è¯†ç®¡ç†æœºåˆ¶</li>
<li>åŠ¨æ€çš„çŸ¥è¯†æ³¨å…¥ç­–ç•¥</li>
</ul>
<p><strong>æŠ€æœ¯ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æä¾›ä¸°å¯Œçš„èƒŒæ™¯ä¿¡æ¯</li>
<li>æ”¯æŒè§’è‰²ä¸ªæ€§åŒ–</li>
<li>æ˜“äºæ‰©å±•å’Œç»´æŠ¤</li>
</ul>
<hr/>
<h3 data-id="heading-95">å¯å€Ÿé‰´çš„è®¾è®¡ç†å¿µ</h3>
<h4 data-id="heading-96">1. åˆ†å±‚å­˜å‚¨ç­–ç•¥</h4>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>éœ€è¦ç®¡ç†å¤§é‡å†å²æ•°æ®çš„ç³»ç»Ÿ</li>
<li>éœ€è¦æ ¹æ®é‡è¦æ€§è¿›è¡Œæ•°æ®åˆ†çº§å­˜å‚¨çš„ç³»ç»Ÿ</li>
<li>éœ€è¦æ¨¡æ‹Ÿè‡ªç„¶è¡°å‡çš„ç³»ç»Ÿ</li>
</ul>
<p><strong>å®ç°å»ºè®®</strong>ï¼š</p>
<ul>
<li>å®šä¹‰æ¸…æ™°çš„å±‚çº§åˆ’åˆ†æ ‡å‡†</li>
<li>ä¸ºæ¯ä¸ªå±‚çº§è®¾ç½®ä¸åŒçš„å®¹é‡é™åˆ¶å’Œä¿ç•™æ—¶é—´</li>
<li>å®ç°è‡ªåŠ¨åŒ–çš„æ•°æ®æµè½¬æœºåˆ¶</li>
</ul>
<h4 data-id="heading-97">2. ä¸Šä¸‹æ–‡æ„ŸçŸ¥æ£€ç´¢</h4>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>éœ€è¦æ ¹æ®å½“å‰æƒ…å¢ƒåŠ¨æ€è°ƒæ•´æ£€ç´¢ç­–ç•¥çš„ç³»ç»Ÿ</li>
<li>éœ€è¦æä¾›ä¸ªæ€§åŒ–æ¨èçš„ç³»ç»Ÿ</li>
<li>éœ€è¦å®ç°æ™ºèƒ½å¯¹è¯çš„ç³»ç»Ÿ</li>
</ul>
<p><strong>å®ç°å»ºè®®</strong>ï¼š</p>
<ul>
<li>è®¾è®¡åœºæ™¯è¯†åˆ«æœºåˆ¶</li>
<li>å®ç°åŠ¨æ€æƒé‡è°ƒæ•´</li>
<li>ç»¼åˆå¤šä¸ªç›¸å…³æ€§å› å­</li>
</ul>
<h4 data-id="heading-98">3. å¤šç»´åº¦è¯„åˆ†</h4>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>éœ€è¦å¯¹ç»“æœè¿›è¡Œæ’åºçš„ç³»ç»Ÿ</li>
<li>éœ€è¦å¹³è¡¡å¤šä¸ªè¯„ä¼°ç»´åº¦çš„ç³»ç»Ÿ</li>
<li>éœ€è¦ä¿è¯ç»“æœå¤šæ ·æ€§çš„ç³»ç»Ÿ</li>
</ul>
<p><strong>å®ç°å»ºè®®</strong>ï¼š</p>
<ul>
<li>å®šä¹‰æ¸…æ™°çš„è¯„åˆ†å› å­</li>
<li>ä¸ºæ¯ä¸ªå› å­è®¾ç½®åˆç†çš„æƒé‡</li>
<li>å®ç°å¤šæ ·æ€§è¡¥å¿æœºåˆ¶</li>
</ul>
<h4 data-id="heading-99">4. å‘é‡è¯­ä¹‰æ£€ç´¢</h4>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>éœ€è¦ç†è§£è¯­ä¹‰ç›¸ä¼¼æ€§çš„ç³»ç»Ÿ</li>
<li>éœ€è¦å¤„ç†è‡ªç„¶è¯­è¨€çš„ç³»ç»Ÿ</li>
<li>éœ€è¦æä¾›æ™ºèƒ½æ¨èçš„ç³»ç»Ÿ</li>
</ul>
<p><strong>å®ç°å»ºè®®</strong>ï¼š</p>
<ul>
<li>é€‰æ‹©åˆé€‚çš„å‘é‡è¡¨ç¤ºæ–¹æ³•</li>
<li>ä½¿ç”¨é«˜æ•ˆçš„å‘é‡æ•°æ®åº“</li>
<li>å®ç°ç›¸ä¼¼åº¦è®¡ç®—ç®—æ³•</li>
</ul>
<h4 data-id="heading-100">5. ç”¨æˆ·å¯æ§æ€§</h4>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>éœ€è¦ç”¨æˆ·å‚ä¸æ•°æ®ç®¡ç†çš„ç³»ç»Ÿ</li>
<li>éœ€è¦æ”¯æŒä¸ªæ€§åŒ–å®šåˆ¶çš„ç³»ç»Ÿ</li>
<li>éœ€è¦æé«˜ç”¨æˆ·å‚ä¸åº¦çš„ç³»ç»Ÿ</li>
</ul>
<p><strong>å®ç°å»ºè®®</strong>ï¼š</p>
<ul>
<li>æä¾›å‹å¥½çš„ç”¨æˆ·ç•Œé¢</li>
<li>æ”¯æŒæ•°æ®çš„ç¼–è¾‘å’Œç®¡ç†</li>
<li>ä¿æŠ¤ç”¨æˆ·ä¿®æ”¹çš„å†…å®¹</li>
</ul>
<h4 data-id="heading-101">6. æ¨¡å—åŒ–è®¾è®¡</h4>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>éœ€è¦æ˜“äºç»´æŠ¤å’Œæ‰©å±•çš„ç³»ç»Ÿ</li>
<li>éœ€è¦æ”¯æŒå¤šç§åŠŸèƒ½çš„ç³»ç»Ÿ</li>
<li>éœ€è¦é™ä½è€¦åˆåº¦çš„ç³»ç»Ÿ</li>
</ul>
<p><strong>å®ç°å»ºè®®</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨åˆ†å±‚æ¶æ„</li>
<li>åº”ç”¨è®¾è®¡æ¨¡å¼</li>
<li>å®ç°æ¸…æ™°çš„æ¥å£å®šä¹‰</li>
</ul>
<hr/>
<h3 data-id="heading-102">æ€»ç»“</h3>
<p>è¿™ä¸ªRimWorld AIè®°å¿†ç³»ç»Ÿæ˜¯ä¸€ä¸ªè®¾è®¡ç²¾è‰¯ã€åŠŸèƒ½å®Œå–„çš„AIè®°å¿†ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚å®ƒé€šè¿‡å››å±‚è®°å¿†æ¶æ„ã€åœºæ™¯æ„ŸçŸ¥çš„åŠ¨æ€è¯„åˆ†ã€å¤šå› å­è¯„åˆ†ç®—æ³•ã€å‘é‡æ•°æ®åº“é›†æˆç­‰æŠ€æœ¯ï¼Œå®ç°äº†æ¥è¿‘äººç±»è®°å¿†ç‰¹æ€§çš„AIè¡Œä¸ºã€‚</p>
<h4 data-id="heading-103">æ ¸å¿ƒä¼˜åŠ¿</h4>
<ol>
<li><strong>ç§‘å­¦çš„ç†è®ºåŸºç¡€</strong>ï¼šåŸºäºè®¤çŸ¥ç§‘å­¦çš„äººç±»è®°å¿†æ¨¡å‹</li>
<li><strong>å…ˆè¿›çš„æŠ€æœ¯å®ç°</strong>ï¼šç»“åˆä¼ ç»Ÿç®—æ³•å’Œç°ä»£AIæŠ€æœ¯</li>
<li><strong>çµæ´»çš„æ¶æ„è®¾è®¡</strong>ï¼šé‡‡ç”¨å¤šç§è®¾è®¡æ¨¡å¼ï¼Œæ˜“äºæ‰©å±•</li>
<li><strong>ä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒ</strong>ï¼šæ”¯æŒç”¨æˆ·ç¼–è¾‘å’Œç®¡ç†è®°å¿†</li>
<li><strong>å¼ºå¤§çš„æ€§èƒ½ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ç¼“å­˜ã€ç´¢å¼•ã€æ‰¹é‡å¤„ç†ç­‰ä¼˜åŒ–ç­–ç•¥</li>
</ol>
<h4 data-id="heading-104">åº”ç”¨ä»·å€¼</h4>
<p>è¯¥ç³»ç»Ÿçš„è®¾è®¡ç†å¿µå’Œå®ç°æ–¹æ³•å¯¹äºå¼€å‘å…¶ä»–AIè®°å¿†ç³»ç»Ÿå…·æœ‰é‡è¦çš„å‚è€ƒä»·å€¼ï¼Œç‰¹åˆ«æ˜¯åœ¨ä»¥ä¸‹é¢†åŸŸï¼š</p>
<ul>
<li><strong>æ¸¸æˆAI</strong>ï¼šä¸ºæ¸¸æˆè§’è‰²æä¾›æŒä¹…åŒ–è®°å¿†</li>
<li><strong>å¯¹è¯ç³»ç»Ÿ</strong>ï¼šä¸ºå¯¹è¯AIæä¾›ä¸Šä¸‹æ–‡è®°å¿†</li>
<li><strong>æ¨èç³»ç»Ÿ</strong>ï¼šä¸ºæ¨èç®—æ³•æä¾›ç”¨æˆ·å†å²æ•°æ®</li>
<li><strong>æ™ºèƒ½åŠ©æ‰‹</strong>ï¼šä¸ºæ™ºèƒ½åŠ©æ‰‹æä¾›è®°å¿†èƒ½åŠ›</li>
<li><strong>è™šæ‹Ÿè§’è‰²</strong>ï¼šä¸ºè™šæ‹Ÿè§’è‰²æä¾›ä¸ªæ€§åŒ–è®°å¿†</li>
</ul>
<p>é€šè¿‡å­¦ä¹ å’Œå€Ÿé‰´è¿™ä¸ªç³»ç»Ÿçš„è®¾è®¡æ€è·¯å’Œæ¶æ„æ¨¡å¼ï¼Œå¼€å‘è€…å¯ä»¥æ„å»ºå‡ºæ›´åŠ æ™ºèƒ½ã€æ›´åŠ è‡ªç„¶çš„AIè®°å¿†ç³»ç»Ÿã€‚</p>
<hr/>
<h3 data-id="heading-105">é™„å½•</h3>
<h4 data-id="heading-106">å…³é”®ä»£ç æ–‡ä»¶</h4>
<ol>
<li><strong>MemoryTypes.cs</strong> - è®°å¿†ç±»å‹å’Œæ•°æ®ç»“æ„å®šä¹‰</li>
<li><strong>SmartInjectionManager.cs</strong> - æ™ºèƒ½æ³¨å…¥ç®¡ç†å™¨</li>
<li><strong>CommonKnowledgeLibrary.cs</strong> - å¸¸è¯†çŸ¥è¯†åº“</li>
<li><strong>DynamicMemoryInjection.cs</strong> - åŠ¨æ€è®°å¿†æ³¨å…¥</li>
<li><strong>AdvancedScoringSystem.cs</strong> - é«˜çº§è¯„åˆ†ç³»ç»Ÿ</li>
</ol>
<h4 data-id="heading-107">ç›¸å…³æŠ€æœ¯</h4>
<ul>
<li><strong>å‘é‡æ•°æ®åº“</strong>ï¼šç”¨äºè¯­ä¹‰æ£€ç´¢å’Œç›¸ä¼¼åº¦è®¡ç®—</li>
<li><strong>è‡ªç„¶è¯­è¨€å¤„ç†</strong>ï¼šç”¨äºå…³é”®è¯æå–å’Œæ–‡æœ¬åˆ†æ</li>
<li><strong>è®¤çŸ¥ç§‘å­¦</strong>ï¼šäººç±»è®°å¿†æ¨¡å‹çš„ç†è®ºåŸºç¡€</li>
<li><strong>è®¾è®¡æ¨¡å¼</strong>ï¼šåˆ†å±‚æ¶æ„ã€ç­–ç•¥æ¨¡å¼ã€å·¥å‚æ¨¡å¼ç­‰</li>
</ul>
<h4 data-id="heading-108">å‚è€ƒèµ„æº</h4>
<ul>
<li>è®¤çŸ¥å¿ƒç†å­¦ï¼šäººç±»è®°å¿†æ¨¡å‹</li>
<li>ä¿¡æ¯æ£€ç´¢ï¼šå¤šå› å­è¯„åˆ†ç®—æ³•</li>
<li>æœºå™¨å­¦ä¹ ï¼šå‘é‡è¡¨ç¤ºå’Œç›¸ä¼¼åº¦è®¡ç®—</li>
<li>è½¯ä»¶å·¥ç¨‹ï¼šè®¾è®¡æ¨¡å¼å’Œæ¶æ„æ¨¡å¼</li>
</ul>
<hr/>
<h3 data-id="heading-109">HTTPè¯·æ±‚å’Œå¯¹è¯å‘é€æœºåˆ¶</h3>
<h4 data-id="heading-110">æ ¸å¿ƒé—®é¢˜è§£æ</h4>
<p>åœ¨å®ç°AIå¯¹è¯ç³»ç»Ÿæ—¶ï¼Œå¼€å‘è€…ç»å¸¸é¢ä¸´ä»¥ä¸‹å…³é”®é—®é¢˜ï¼š</p>
<ol>
<li><strong>AIå¦‚ä½•çŸ¥é“ä¹‹å‰è¯´è¿‡çš„è¯ï¼Ÿ</strong></li>
<li><strong>å¦‚ä½•å°†è®°å¿†å’ŒçŸ¥è¯†å‘é€ç»™AIï¼Ÿ</strong></li>
<li><strong>å¦‚ä½•é¿å…å‘é€è¿‡å¤šæ•°æ®å¯¼è‡´è¯·æ±‚è¿‡å¤§ï¼Ÿ</strong></li>
<li><strong>å¦‚ä½•é¿å…AIé‡å¤è¯´åŒä¸€ä»¶äº‹ï¼Ÿ</strong></li>
</ol>
<p>RimWorldæ¨¡ç»„é€šè¿‡æ™ºèƒ½çš„è®°å¿†ç­›é€‰å’Œæ³¨å…¥æœºåˆ¶ï¼Œå·§å¦™åœ°è§£å†³äº†è¿™äº›é—®é¢˜ã€‚</p>
<h4 data-id="heading-111">HTTPè¯·æ±‚æ¶æ„</h4>
<h5 data-id="heading-112">å¯¹è¯è¯·æ±‚æµç¨‹</h5>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·å‘èµ·å¯¹è¯
<span class="hljs-code">    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. ä¿å­˜ç”¨æˆ·æ¶ˆæ¯åˆ°å†å²          â”‚
â”‚     - å­˜å‚¨åˆ°æœ¬åœ°æ•°æ®åº“          â”‚
â”‚     - è®°å½•æ—¶é—´æˆ³å’Œå‘é€è€…        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2. æ„å»ºè¯·æ±‚ä¸Šä¸‹æ–‡              â”‚
â”‚     - æ·»åŠ ç³»ç»Ÿæç¤º              â”‚
â”‚     - æ·»åŠ å†å²æ¶ˆæ¯ï¼ˆæœ€è¿‘Næ¡ï¼‰   â”‚
â”‚     - æ·»åŠ å½“å‰ç”¨æˆ·æ¶ˆæ¯          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3. æ™ºèƒ½æ³¨å…¥è®°å¿†å’ŒçŸ¥è¯†          â”‚
â”‚     - ç­›é€‰ç›¸å…³è®°å¿†              â”‚
â”‚     - ç­›é€‰ç›¸å…³çŸ¥è¯†              â”‚
â”‚     - æ³¨å…¥åˆ°ç³»ç»Ÿæç¤ºä¸­          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  4. å‘é€HTTPè¯·æ±‚                â”‚
â”‚     - æ„å»ºè¯·æ±‚ä½“                â”‚
â”‚     - è°ƒç”¨AI API                â”‚
â”‚     - ç­‰å¾…å“åº”                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  5. å¤„ç†AIå›å¤                  â”‚
â”‚     - è§£æå“åº”å†…å®¹              â”‚
â”‚     - ä¿å­˜AIå›å¤åˆ°å†å²          â”‚
â”‚     - è¿”å›ç»™ç”¨æˆ·                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre>
<h4 data-id="heading-113">è¯·æ±‚ä¸Šä¸‹æ–‡æ„å»º</h4>
<h5 data-id="heading-114">æ ‡å‡†å¯¹è¯ä¸Šä¸‹æ–‡ç»“æ„</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ„å»ºå¯¹è¯è¯·æ±‚ä¸Šä¸‹æ–‡</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;ChatMessage&gt; <span class="hljs-title">BuildConversationContext</span>(<span class="hljs-params">
    Pawn speaker,
    Pawn listener,
    <span class="hljs-built_in">string</span> userMessage,
    <span class="hljs-built_in">int</span> maxHistoryMessages = <span class="hljs-number">10</span>,
    <span class="hljs-built_in">int</span> maxMemories = <span class="hljs-number">10</span>,
    <span class="hljs-built_in">int</span> maxKnowledge = <span class="hljs-number">5</span></span>)</span>
{
    <span class="hljs-keyword">var</span> context = <span class="hljs-keyword">new</span> List&lt;ChatMessage&gt;();
    
    <span class="hljs-comment">// 1. æ·»åŠ ç³»ç»Ÿæç¤ºï¼ˆåŒ…å«è§’è‰²è®¾å®šã€è§„åˆ™ã€è®°å¿†å’ŒçŸ¥è¯†ï¼‰</span>
    <span class="hljs-built_in">string</span> systemPrompt = BuildSystemPrompt(speaker, listener, maxMemories, maxKnowledge);
    context.Add(<span class="hljs-keyword">new</span> ChatMessage { role = <span class="hljs-string">"system"</span>, content = systemPrompt });
    
    <span class="hljs-comment">// 2. æ·»åŠ å†å²å¯¹è¯æ¶ˆæ¯ï¼ˆæœ€è¿‘Næ¡ï¼‰</span>
    <span class="hljs-keyword">var</span> recentHistory = GetRecentConversationHistory(speaker, listener, maxHistoryMessages);
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> message <span class="hljs-keyword">in</span> recentHistory)
    {
        context.Add(message);
    }
    
    <span class="hljs-comment">// 3. æ·»åŠ å½“å‰ç”¨æˆ·æ¶ˆæ¯</span>
    context.Add(<span class="hljs-keyword">new</span> ChatMessage { role = <span class="hljs-string">"user"</span>, content = userMessage });
    
    <span class="hljs-keyword">return</span> context;
}
</code></pre>
<h5 data-id="heading-115">ç³»ç»Ÿæç¤ºæ„å»º</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ„å»ºç³»ç»Ÿæç¤ºï¼ˆåŒ…å«è®°å¿†å’ŒçŸ¥è¯†ï¼‰</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">BuildSystemPrompt</span>(<span class="hljs-params">
    Pawn speaker,
    Pawn listener,
    <span class="hljs-built_in">int</span> maxMemories,
    <span class="hljs-built_in">int</span> maxKnowledge</span>)</span>
{
    StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();
    
    <span class="hljs-comment">// 1. è§’è‰²è®¾å®šå’Œè§„åˆ™</span>
    sb.AppendLine(<span class="hljs-string">"=== è§’è‰²è®¾å®š ==="</span>);
    sb.AppendLine(<span class="hljs-string">$"ä½ æ˜¯<span class="hljs-subst">{speaker.Name}</span>ï¼Œ<span class="hljs-subst">{speaker.Personality}</span>"</span>);
    sb.AppendLine(<span class="hljs-string">$"æ€§æ ¼ç‰¹ç‚¹ï¼š<span class="hljs-subst">{speaker.Traits}</span>"</span>);
    sb.AppendLine(<span class="hljs-string">$"èƒŒæ™¯æ•…äº‹ï¼š<span class="hljs-subst">{speaker.Backstory}</span>"</span>);
    sb.AppendLine();
    
    <span class="hljs-comment">// 2. æ™ºèƒ½æ³¨å…¥è®°å¿†</span>
    sb.AppendLine(<span class="hljs-string">"=== ç›¸å…³è®°å¿† ==="</span>);
    <span class="hljs-built_in">string</span> memories = InjectSmartContext(speaker, listener, <span class="hljs-string">""</span>, maxMemories, maxKnowledge);
    sb.AppendLine(memories);
    sb.AppendLine();
    
    <span class="hljs-comment">// 3. è¡Œä¸ºè§„åˆ™</span>
    sb.AppendLine(<span class="hljs-string">"=== è¡Œä¸ºè§„åˆ™ ==="</span>);
    sb.AppendLine(<span class="hljs-string">"- ä¿æŒè§’è‰²æ€§æ ¼ä¸€è‡´æ€§"</span>);
    sb.AppendLine(<span class="hljs-string">"- æ ¹æ®è®°å¿†å†…å®¹è°ƒæ•´å¯¹è¯"</span>);
    sb.AppendLine(<span class="hljs-string">"- é¿å…é‡å¤å·²è¯´è¿‡çš„äº‹æƒ…"</span>);
    sb.AppendLine(<span class="hljs-string">"- ä½¿ç”¨è‡ªç„¶çš„å¯¹è¯è¯­è¨€"</span>);
    sb.AppendLine();
    
    <span class="hljs-keyword">return</span> sb.ToString();
}
</code></pre>
<h4 data-id="heading-116">HTTPè¯·æ±‚å®ç°</h4>
<h5 data-id="heading-117">è¯·æ±‚æ ¼å¼</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å‘é€å¯¹è¯è¯·æ±‚åˆ°AI API</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task&lt;<span class="hljs-built_in">string</span>&gt; <span class="hljs-title">SendConversationRequest</span>(<span class="hljs-params">
    List&lt;ChatMessage&gt; context,
    <span class="hljs-built_in">string</span> apiKey,
    <span class="hljs-built_in">string</span> model</span>)</span>
{
    <span class="hljs-comment">// 1. æ„å»ºè¯·æ±‚URL</span>
    <span class="hljs-built_in">string</span> url = <span class="hljs-string">"https://api.openai.com/v1/chat/completions"</span>;
    
    <span class="hljs-comment">// 2. æ„å»ºè¯·æ±‚å¤´</span>
    <span class="hljs-keyword">var</span> headers = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;
    {
        { <span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"application/json"</span> },
        { <span class="hljs-string">"Authorization"</span>, <span class="hljs-string">$"Bearer <span class="hljs-subst">{apiKey}</span>"</span> }
    };
    
    <span class="hljs-comment">// 3. æ„å»ºè¯·æ±‚ä½“</span>
    <span class="hljs-keyword">var</span> requestBody = <span class="hljs-keyword">new</span>
    {
        model = model,
        messages = context.Select(m =&gt; <span class="hljs-keyword">new</span>
        {
            role = m.role,
            content = m.content
        }).ToList(),
        max_tokens = <span class="hljs-number">1000</span>,
        temperature = <span class="hljs-number">0.7</span>,
        top_p = <span class="hljs-number">1.0</span>,
        frequency_penalty = <span class="hljs-number">0.0</span>,
        presence_penalty = <span class="hljs-number">0.0</span>
    };
    
    <span class="hljs-comment">// 4. å‘é€HTTPè¯·æ±‚</span>
    <span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> client = <span class="hljs-keyword">new</span> HttpClient())
    {
        <span class="hljs-keyword">var</span> json = JsonConvert.SerializeObject(requestBody);
        <span class="hljs-keyword">var</span> content = <span class="hljs-keyword">new</span> StringContent(json, Encoding.UTF8, <span class="hljs-string">"application/json"</span>);
        
        <span class="hljs-keyword">var</span> response = <span class="hljs-keyword">await</span> client.PostAsync(url, content);
        response.EnsureSuccessStatusCode();
        
        <span class="hljs-keyword">var</span> responseBody = <span class="hljs-keyword">await</span> response.Content.ReadAsStringAsync();
        <span class="hljs-keyword">var</span> result = JsonConvert.DeserializeObject&lt;ChatCompletionResponse&gt;(responseBody);
        
        <span class="hljs-keyword">return</span> result.choices[<span class="hljs-number">0</span>].message.content;
    }
}
</code></pre>
<h5 data-id="heading-118">è¯·æ±‚ä½“ç¤ºä¾‹</h5>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"gpt-4"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"messages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"system"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"=== è§’è‰²è®¾å®š ===\nä½ æ˜¯Aliceï¼Œæ€§æ ¼å¼€æœ—ï¼Œå–œæ¬¢ç§æ¤ä½œç‰©ã€‚\n\n=== ç›¸å…³è®°å¿† ===\næ˜¨å¤©å’ŒJohnè®¨è®ºäº†ç§æ¤è®¡åˆ’\nä¸Šå‘¨å»ºé€ äº†æ–°çš„é˜²å¾¡å¡”\nå› ä¸ºæœ‹å‹çš„æ­»äº¡è€Œæ„Ÿåˆ°æ‚²ä¼¤\n\n=== è¡Œä¸ºè§„åˆ™ ===\n- ä¿æŒè§’è‰²æ€§æ ¼ä¸€è‡´æ€§\n- æ ¹æ®è®°å¿†å†…å®¹è°ƒæ•´å¯¹è¯\n- é¿å…é‡å¤å·²è¯´è¿‡çš„äº‹æƒ…\n- ä½¿ç”¨è‡ªç„¶çš„å¯¹è¯è¯­è¨€"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ å¥½ï¼Œæœ€è¿‘æ€ä¹ˆæ ·ï¼Ÿ"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"max_tokens"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1000</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"temperature"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0.7</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-119">è®°å¿†ç­›é€‰å’Œå‘é€é€»è¾‘</h3>
<h4 data-id="heading-120">æ ¸å¿ƒæŒ‘æˆ˜</h4>
<p>å½“æœ¬åœ°å­˜å‚¨äº†æˆç™¾ä¸Šåƒæ¡è®°å¿†æ—¶ï¼Œç›´æ¥å‘é€æ‰€æœ‰è®°å¿†ä¼šå¯¼è‡´ï¼š</p>
<ol>
<li><strong>è¯·æ±‚è¿‡å¤§</strong>ï¼šè¶…è¿‡APIçš„tokené™åˆ¶ï¼ˆé€šå¸¸4096æˆ–8192 tokensï¼‰</li>
<li><strong>æˆæœ¬è¿‡é«˜</strong>ï¼šæŒ‰tokenè®¡è´¹ï¼Œå‘é€å¤§é‡æ•°æ®æˆæœ¬æ˜‚è´µ</li>
<li><strong>æ€§èƒ½ä¸‹é™</strong>ï¼šå¤„ç†å¤§é‡ä¸Šä¸‹æ–‡ä¼šå½±å“å“åº”é€Ÿåº¦</li>
<li><strong>è´¨é‡ä¸‹é™</strong>ï¼šè¿‡å¤šæ— å…³ä¿¡æ¯ä¼šå¹²æ‰°AIçš„ç†è§£</li>
</ol>
<h4 data-id="heading-121">æ™ºèƒ½ç­›é€‰ç­–ç•¥</h4>
<h5 data-id="heading-122">ç­›é€‰æµç¨‹</h5>
<pre><code class="hljs language-scss" lang="scss">æ‰€æœ‰è®°å¿†ï¼ˆ<span class="hljs-number">1000</span>+æ¡ï¼‰
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">1</span>. åœºæ™¯åˆ†æ                    â”‚
â”‚     - è¯†åˆ«å½“å‰å¯¹è¯åœºæ™¯           â”‚
â”‚     - æå–ä¸Šä¸‹æ–‡å…³é”®è¯           â”‚
â”‚     - ç¡®å®šåœºæ™¯ç±»å‹               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">2</span>. å¤šç»´åº¦ç­›é€‰                  â”‚
â”‚     â”œâ”€ å±‚çº§ç­›é€‰                  â”‚
â”‚     â”œâ”€ ç±»å‹ç­›é€‰                  â”‚
â”‚     â”œâ”€ æ—¶é—´ç­›é€‰                  â”‚
â”‚     â””â”€ å…³é”®è¯ç­›é€‰                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">3</span>. å¤šå› å­è¯„åˆ†                  â”‚
â”‚     - ä¸Šä¸‹æ–‡ç›¸å…³æ€§ (<span class="hljs-number">40%</span>)         â”‚
â”‚     - æ—¶é—´æ–°è¿‘åº¦ (<span class="hljs-number">20%</span>)           â”‚
â”‚     - é‡è¦æ€§ (<span class="hljs-number">20%</span>)               â”‚
â”‚     - å¤šæ ·æ€§ (<span class="hljs-number">10%</span>)               â”‚
â”‚     - å±‚çº§ä¼˜å…ˆçº§ (<span class="hljs-number">10%</span>)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">4</span>. <span class="hljs-attribute">Top</span>-Né€‰æ‹©                   â”‚
â”‚     - æŒ‰å¾—åˆ†æ’åº                 â”‚
â”‚     - é€‰æ‹©å‰Næ¡ï¼ˆé€šå¸¸<span class="hljs-number">10</span>-<span class="hljs-number">20</span>æ¡ï¼‰   â”‚
â”‚     - åº”ç”¨å¤šæ ·æ€§è¡¥å¿             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
ç›¸å…³è®°å¿†ï¼ˆ<span class="hljs-number">10</span>-<span class="hljs-number">20</span>æ¡ï¼‰
</code></pre>
<h5 data-id="heading-123">ç­›é€‰ç®—æ³•å®ç°</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ™ºèƒ½ç­›é€‰ç›¸å…³è®°å¿†</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;MemoryEntry&gt; <span class="hljs-title">FilterRelevantMemories</span>(<span class="hljs-params">
    FourLayerMemoryComp memoryComp,
    <span class="hljs-built_in">string</span> context,
    <span class="hljs-built_in">int</span> maxMemories = <span class="hljs-number">10</span></span>)</span>
{
    <span class="hljs-comment">// 1. è·å–æ‰€æœ‰è®°å¿†</span>
    <span class="hljs-keyword">var</span> allMemories = memoryComp.GetAllMemories();
    
    <span class="hljs-comment">// 2. åœºæ™¯åˆ†æ</span>
    SceneType scene = SceneAnalyzer.IdentifyScene(context);
    ScoringWeights weights = AdvancedScoringSystem.GetWeightsForScene(scene);
    
    <span class="hljs-comment">// 3. å¤šå› å­è¯„åˆ†</span>
    <span class="hljs-keyword">var</span> scoredMemories = <span class="hljs-keyword">new</span> List&lt;MemoryScore&gt;();
    <span class="hljs-keyword">var</span> selectedMemories = <span class="hljs-keyword">new</span> List&lt;MemoryEntry&gt;();
    
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> memory <span class="hljs-keyword">in</span> allMemories)
    {
        <span class="hljs-built_in">float</span> score = AdvancedScoringSystem.CalculateMemoryScore(
            memory,
            context,
            scene,
            weights,
            selectedMemories);
        
        scoredMemories.Add(<span class="hljs-keyword">new</span> MemoryScore
        {
            memory = memory,
            score = score,
            breakdown = <span class="hljs-keyword">new</span> ScoreBreakdown
            {
                contextRelevance = CalculateContextRelevance(memory, context),
                recency = CalculateRecencyScore(memory),
                importance = memory.importance,
                diversity = CalculateDiversityScore(memory, selectedMemories),
                layerPriority = CalculateLayerPriorityScore(memory.layer)
            }
        });
    }
    
    <span class="hljs-comment">// 4. æ’åºå¹¶é€‰æ‹©Top-N</span>
    <span class="hljs-keyword">var</span> sortedMemories = scoredMemories
        .OrderByDescending(m =&gt; m.score)
        .Take(maxMemories)
        .Select(m =&gt; m.memory)
        .ToList();
    
    <span class="hljs-keyword">return</span> sortedMemories;
}
</code></pre>
<h4 data-id="heading-124">çŸ¥è¯†ç­›é€‰é€»è¾‘</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> ç­›é€‰ç›¸å…³çŸ¥è¯†</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;CommonKnowledgeEntry&gt; <span class="hljs-title">FilterRelevantKnowledge</span>(<span class="hljs-params">
    Pawn pawn,
    <span class="hljs-built_in">string</span> context,
    <span class="hljs-built_in">int</span> maxKnowledge = <span class="hljs-number">5</span></span>)</span>
{
    <span class="hljs-comment">// 1. è·å–æ‰€æœ‰å¯ç”¨çš„çŸ¥è¯†</span>
    <span class="hljs-keyword">var</span> allKnowledge = CommonKnowledgeLibrary.GetAllEnabledKnowledge();
    
    <span class="hljs-comment">// 2. è¿‡æ»¤å‡ºé€‚ç”¨äºå½“å‰è§’è‰²çš„çŸ¥è¯†</span>
    <span class="hljs-keyword">var</span> applicableKnowledge = allKnowledge.Where(k =&gt; 
        k.targetPawnId == <span class="hljs-number">-1</span> || k.targetPawnId == pawn.thingIDNumber).ToList();
    
    <span class="hljs-comment">// 3. è®¡ç®—ç›¸å…³æ€§å¾—åˆ†</span>
    <span class="hljs-keyword">var</span> scoredKnowledge = applicableKnowledge.Select(k =&gt; <span class="hljs-keyword">new</span>
    {
        Knowledge = k,
        Score = CalculateKnowledgeRelevance(k, context)
    });
    
    <span class="hljs-comment">// 4. æ’åºå¹¶é€‰æ‹©Top-N</span>
    <span class="hljs-keyword">return</span> scoredKnowledge
        .OrderByDescending(x =&gt; x.Score)
        .Take(maxKnowledge)
        .Select(x =&gt; x.Knowledge)
        .ToList();
}

<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> è®¡ç®—çŸ¥è¯†ç›¸å…³æ€§å¾—åˆ†</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">float</span> <span class="hljs-title">CalculateKnowledgeRelevance</span>(<span class="hljs-params">
    CommonKnowledgeEntry knowledge,
    <span class="hljs-built_in">string</span> context</span>)</span>
{
    <span class="hljs-built_in">float</span> score = <span class="hljs-number">0f</span>;
    
    <span class="hljs-comment">// 1. å…³é”®è¯åŒ¹é…</span>
    <span class="hljs-keyword">if</span> (knowledge.keywords != <span class="hljs-literal">null</span> &amp;&amp; knowledge.keywords.Count &gt; <span class="hljs-number">0</span>)
   çš„ç³»ç»Ÿ
    {
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> keyword <span class="hljs-keyword">in</span> knowledge.keywords)
        {
            <span class="hljs-keyword">if</span> (context.Contains(keyword))
            {
                score += <span class="hljs-number">0.5f</span>;
            }
        }
    }
    
    <span class="hljs-comment">// 2. é‡è¦æ€§åŠ æƒ</span>
    score += knowledge.importance * <span class="hljs-number">0.5f</span>;
    
    <span class="hljs-keyword">return</span> score;
}
</code></pre>
<h4 data-id="heading-125">æ³¨å…¥æ ¼å¼åŒ–</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ ¼å¼åŒ–è®°å¿†ç”¨äºæ³¨å…¥</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">FormatMemoriesForInjection</span>(<span class="hljs-params">
    List&lt;MemoryEntry&gt; memories</span>)</span>
{
    <span class="hljs-keyword">if</span> (memories == <span class="hljs-literal">null</span> || memories.Count == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ï¼ˆæ— ç›¸å…³è®°å¿†ï¼‰"</span>;
    
    StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();
    
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> memory <span class="hljs-keyword">in</span> memories)
    {
        sb.AppendLine(<span class="hljs-string">$"- <span class="hljs-subst">{memory.content}</span>"</span>);
        
        <span class="hljs-comment">// æ·»åŠ æ—¶é—´ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰</span>
        <span class="hljs-keyword">if</span> (memory.timestamp &gt; <span class="hljs-number">0</span>)
        {
            <span class="hljs-keyword">var</span> timeAgo = FormatTimeAgo(memory.timestamp);
            sb.AppendLine(<span class="hljs-string">$"  ï¼ˆ<span class="hljs-subst">{timeAgo}</span>ï¼‰"</span>);
        }
        
        <span class="hljs-comment">// æ·»åŠ æ ‡ç­¾ï¼ˆå¯é€‰ï¼‰</span>
        <span class="hljs-keyword">if</span> (memory.tags != <span class="hljs-literal">null</span> &amp;&amp; memory.tags.Count &gt; <span class="hljs-number">0</span>)
        {
            sb.AppendLine(<span class="hljs-string">$"  æ ‡ç­¾ï¼š<span class="hljs-subst">{<span class="hljs-built_in">string</span>.Join(<span class="hljs-string">", "</span>, memory.tags)}</span>"</span>);
        }
    }
    
    <span class="hljs-keyword">return</span> sb.ToString();
}

<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ ¼å¼åŒ–çŸ¥è¯†ç”¨äºæ³¨å…¥</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">FormatKnowledgeForInjection</span>(<span class="hljs-params">
    List&lt;CommonKnowledgeEntry&gt; knowledge</span>)</span>
{
    <span class="hljs-keyword">if</span> (knowledge == <span class="hljs-literal">null</span> || knowledge.Count == <span class="hljs-number">0</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ï¼ˆæ— ç›¸å…³çŸ¥è¯†ï¼‰"</span>;
    
    StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();
    
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> knowledge)
    {
        sb.AppendLine(<span class="hljs-string">$"[<span class="hljs-subst">{k.tag}</span>] <span class="hljs-subst">{k.content}</span>"</span>);
    }
    
    <span class="hljs-keyword">return</span> sb.ToString();
}
</code></pre>
<hr/>
<h3 data-id="heading-126">é¿å…é‡å¤å¯¹è¯çš„æœºåˆ¶</h3>
<h4 data-id="heading-127">é—®é¢˜åˆ†æ</h4>
<p>AIé‡å¤è¯´åŒä¸€ä»¶äº‹æ˜¯å¸¸è§é—®é¢˜ï¼Œä¸»è¦åŸå› åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>è®°å¿†é‡å¤æ³¨å…¥</strong>ï¼šç›¸åŒçš„è®°å¿†åœ¨å¤šæ¬¡å¯¹è¯ä¸­è¢«é‡å¤å‘é€</li>
<li><strong>å†å²æ¶ˆæ¯é‡å¤</strong>ï¼šå†å²å¯¹è¯æ¶ˆæ¯è¢«é‡å¤å‘é€</li>
<li><strong>ç¼ºä¹å»é‡æœºåˆ¶</strong>ï¼šç³»ç»Ÿæ²¡æœ‰è¯†åˆ«å’Œè¿‡æ»¤é‡å¤å†…å®¹</li>
<li><strong>AIç†è§£åå·®</strong>ï¼šAIæ²¡æœ‰æ„è¯†åˆ°å·²ç»è¯´è¿‡è¿™ä»¶äº‹</li>
</ol>
<h4 data-id="heading-128">é¿å…é‡å¤çš„ç­–ç•¥</h4>
<h5 data-id="heading-129">1. è®°å¿†å»é‡æœºåˆ¶</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> è®°å¿†å»é‡</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;MemoryEntry&gt; <span class="hljs-title">DeduplicateMemories</span>(<span class="hljs-params">
    List&lt;MemoryEntry&gt; memories,
    List&lt;ChatMessage&gt; recentHistory</span>)</span>
{
    <span class="hljs-keyword">var</span> deduplicated = <span class="hljs-keyword">new</span> List&lt;MemoryEntry&gt;();
    <span class="hljs-keyword">var</span> seenContent = <span class="hljs-keyword">new</span> HashSet&lt;<span class="hljs-built_in">string</span>&gt;();
    
    <span class="hljs-comment">// 1. ä»å†å²æ¶ˆæ¯ä¸­æå–å·²è¯´è¿‡çš„å†…å®¹</span>
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> message <span class="hljs-keyword">in</span> recentHistory)
    {
        <span class="hljs-keyword">if</span> (message.role == <span class="hljs-string">"assistant"</span>)
        {
            seenContent.Add(message.content);
        }
    }
    
    <span class="hljs-comment">// 2. è¿‡æ»¤æ‰ä¸å†å²æ¶ˆæ¯å†…å®¹ç›¸ä¼¼çš„è®°å¿†</span>
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> memory <span class="hljs-keyword">in</span> memories)
    {
        <span class="hljs-built_in">bool</span> isDuplicate = <span class="hljs-literal">false</span>;
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ä¸å†å²æ¶ˆæ¯ç›¸ä¼¼</span>
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> content <span class="hljs-keyword">in</span> seenContent)
        {
            <span class="hljs-built_in">float</span> similarity = CalculateTextSimilarity(memory.content, content);
            <span class="hljs-keyword">if</span> (similarity &gt; <span class="hljs-number">0.8</span>)  <span class="hljs-comment">// ç›¸ä¼¼åº¦é˜ˆå€¼</span>
            {
                isDuplicate = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            }
        }
        
        <span class="hljs-keyword">if</span> (!isDuplicate)
        {
            deduplicated.Add(memory);
            seenContent.Add(memory.content);
        }
    }
    
    <span class="hljs-keyword">return</span> deduplicated;
}

<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> è®¡ç®—æ–‡æœ¬ç›¸ä¼¼åº¦</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">float</span> <span class="hljs-title">CalculateTextSimilarity</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> text1, <span class="hljs-built_in">string</span> text2</span>)</span>
{
    <span class="hljs-comment">// ä½¿ç”¨ç®€å•çš„è¯é‡å åº¦è®¡ç®—ç›¸ä¼¼åº¦</span>
    <span class="hljs-keyword">var</span> words1 = Tokenize(text1);
    <span class="hljs-keyword">var</span> words2 = Tokenize(text2);
    
    <span class="hljs-keyword">var</span> intersection = words1.Intersect(words2).ToList();
    <span class="hljs-keyword">var</span> union = words1.Union(words2).ToList();
    
    <span class="hljs-keyword">return</span> union.Count &gt; <span class="hljs-number">0</span> ? (<span class="hljs-built_in">float</span>)intersection.Count / union.Count : <span class="hljs-number">0f</span>;
}

<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ–‡æœ¬åˆ†è¯</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;<span class="hljs-built_in">string</span>&gt; <span class="hljs-title">Tokenize</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> text</span>)</span>
{
    <span class="hljs-keyword">return</span> text.Split(<span class="hljs-keyword">new</span>[] { <span class="hljs-string">' '</span>, <span class="hljs-string">','</span>, <span class="hljs-string">'.'</span>, <span class="hljs-string">'!'</span>, <span class="hljs-string">'?'</span>, <span class="hljs-string">'ï¼Œ'</span>, <span class="hljs-string">'ã€‚'</span>, <span class="hljs-string">'ï¼'</span>, <span class="hljs-string">'ï¼Ÿ'</span> }, 
        StringSplitOptions.RemoveEmptyEntries)
        .Select(w =&gt; w.ToLower())
        .ToList();
}
</code></pre>
<h5 data-id="heading-130">2. å†å²æ¶ˆæ¯ç®¡ç†</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> è·å–å†å²å¯¹è¯æ¶ˆæ¯ï¼ˆæ™ºèƒ½å»é‡ï¼‰</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;ChatMessage&gt; <span class="hljs-title">GetRecentConversationHistory</span>(<span class="hljs-params">
    Pawn speaker,
    Pawn listener,
    <span class="hljs-built_in">int</span> maxMessages = <span class="hljs-number">10</span></span>)</span>
{
    <span class="hljs-comment">// 1. è·å–æ‰€æœ‰å†å²æ¶ˆæ¯</span>
    <span class="hljs-keyword">var</span> allHistory = ConversationHistory.GetHistory(speaker, listener);
    
    <span class="hljs-comment">// 2. æŒ‰æ—¶é—´æ’åºï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰</span>
    <span class="hljs-keyword">var</span> sortedHistory = allHistory
        .OrderByDescending(m =&gt; m.timestamp)
        .ToList();
    
    <span class="hljs-comment">// 3. å»é‡ï¼šç§»é™¤å†…å®¹ç›¸ä¼¼çš„æ¶ˆæ¯</span>
    <span class="hljs-keyword">var</span> deduplicatedHistory = <span class="hljs-keyword">new</span> List&lt;ChatMessage&gt;();
    <span class="hljs-keyword">var</span> seenContent = <span class="hljs-keyword">new</span> HashSet&lt;<span class="hljs-built_in">string</span>&gt;();
    
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> message <span class="hljs-keyword">in</span> sortedHistory)
    {
        <span class="hljs-built_in">bool</span> isDuplicate = <span class="hljs-literal">false</span>;
        
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> content <span class="hljs-keyword">in</span> seenContent)
        {
            <span class="hljs-built_in">float</span> similarity = CalculateTextSimilarity(message.content, content);
            <span class="hljs-keyword">if</span> (similarity &gt; <span class="hljs-number">0.85</span>)  <span class="hljs-comment">// æ›´ä¸¥æ ¼çš„é˜ˆå€¼</span>
            {
                isDuplicate = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">break</span>;
            }
        }
        
        <span class="hljs-keyword">if</span> (!isDuplicate)
        {
            deduplicatedHistory.Add(message);
            seenContent.Add(message.content);
            
            <span class="hljs-keyword">if</span> (deduplicatedHistory.Count &gt;= maxMessages)
                <span class="hljs-keyword">break</span>;
        }
    }
    
    <span class="hljs-comment">// 4. åè½¬å›æ—¶é—´é¡ºåºï¼ˆæœ€æ—©çš„åœ¨å‰ï¼‰</span>
    deduplicatedHistory.Reverse();
    
    <span class="hljs-keyword">return</span> deduplicatedHistory;
}
</code></pre>
<h5 data-id="heading-131">3. ç³»ç»Ÿæç¤ºä¼˜åŒ–</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ„å»ºä¼˜åŒ–çš„ç³»ç»Ÿæç¤ºï¼ˆåŒ…å«é¿å…é‡å¤çš„æŒ‡ä»¤ï¼‰</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">BuildOptimizedSystemPrompt</span>(<span class="hljs-params">
    Pawn speaker,
    Pawn listener,
    List&lt;MemoryEntry&gt; memories,
    List&lt;CommonKnowledgeEntry&gt; knowledge,
    List&lt;ChatMessage&gt; recentHistory</span>)</span>
{
    StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();
    
    <span class="hljs-comment">// 1. è§’è‰²è®¾å®š</span>
    sb.AppendLine(<span class="hljs-string">"=== è§’è‰²è®¾å®š ==="</span>);
    sb.AppendLine(<span class="hljs-string">$"ä½ æ˜¯<span class="hljs-subst">{speaker.Name}</span>ï¼Œ<span class="hljs-subst">{speaker.Personality}</span>"</span>);
    sb.AppendLine();
    
    <span class="hljs-comment">// 2. å·²çŸ¥ä¿¡æ¯ï¼ˆé¿å…é‡å¤ï¼‰</span>
    sb.AppendLine(<span class="hljs-string">"=== å·²çŸ¥ä¿¡æ¯ï¼ˆè¯·å‹¿é‡å¤ï¼‰ ==="</span>);
    sb.AppendLine(<span class="hljs-string">"ä»¥ä¸‹æ˜¯ä½ å·²ç»çŸ¥é“æˆ–å·²ç»è¯´è¿‡çš„äº‹æƒ…ï¼Œè¯·ä¸è¦é‡å¤æåŠï¼š"</span>);
    sb.AppendLine();
    
    <span class="hljs-comment">// æ·»åŠ å†å²AIå›å¤</span>
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> message <span class="hljs-keyword">in</span> recentHistory.Where(m =&gt; m.role == <span class="hljs-string">"assistant"</span>))
    {
        sb.AppendLine(<span class="hljs-string">$"- <span class="hljs-subst">{message.content}</span>"</span>);
    }
    sb.AppendLine();
    
    <span class="hljs-comment">// 3. ç›¸å…³è®°å¿†ï¼ˆæ–°ä¿¡æ¯ï¼‰</span>
    sb.AppendLine(<span class="hljs-string">"=== ç›¸å…³è®°å¿†ï¼ˆæ–°ä¿¡æ¯ï¼‰ ==="</span>);
    sb.AppendLine(<span class="hljs-string">"ä»¥ä¸‹æ˜¯ä½ åº”è¯¥å‚è€ƒçš„æ–°è®°å¿†ï¼š"</span>);
    sb.AppendLine();
    
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> memory <span class="hljs-keyword">in</span> memories)
    {
        sb.AppendLine(<span class="hljs-string">$"- <span class="hljs-subst">{memory.content}</span>"</span>);
    }
    sb.AppendLine();
    
    <span class="hljs-comment">// 4. ç›¸å…³çŸ¥è¯†</span>
    sb.AppendLine(<span class="hljs-string">"=== ç›¸å…³çŸ¥è¯† ==="</span>);
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> k <span class="hljs-keyword">in</span> knowledge)
    {
        sb.AppendLine(<span class="hljs-string">$"[<span class="hljs-subst">{k.tag}</span>] <span class="hljs-subst">{k.content}</span>"</span>);
    }
    sb.AppendLine();
    
    <span class="hljs-comment">// 5. æ˜ç¡®çš„é¿å…é‡å¤æŒ‡ä»¤</span>
    sb.AppendLine(<span class="hljs-string">"=== é‡è¦æŒ‡ä»¤ ==="</span>);
    sb.AppendLine(<span class="hljs-string">"1. è¯·å‹¿é‡å¤æåŠ'å·²çŸ¥ä¿¡æ¯'éƒ¨åˆ†çš„å†…å®¹"</span>);
    sb.AppendLine(<span class="hljs-string">"2. é‡ç‚¹å…³æ³¨'ç›¸å…³è®°å¿†ï¼ˆæ–°ä¿¡æ¯ï¼‰'éƒ¨åˆ†çš„å†…å®¹"</span>);
    sb.AppendLine(<span class="hljs-string">"3. å¦‚æœç”¨æˆ·è¯¢é—®ä½ å·²çŸ¥çš„äº‹æƒ…ï¼Œå¯ä»¥ç®€çŸ­ç¡®è®¤ï¼Œä½†ä¸è¦è¯¦ç»†é‡å¤"</span>);
    sb.AppendLine(<span class="hljs-string">"4. ä¿æŒå¯¹è¯çš„è‡ªç„¶æµç•…ï¼Œé¿å…æœºæ¢°é‡å¤"</span>);
    sb.AppendLine();
    
    <span class="hljs-keyword">return</span> sb.ToString();
}
</code></pre>
<h5 data-id="heading-132">4. è®°å¿†æ ‡è®°æœºåˆ¶</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> è®°å¿†æ¡ç›®æ‰©å±•ï¼ˆæ·»åŠ å·²æåŠæ ‡è®°ï¼‰</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MemoryEntry</span> : <span class="hljs-title">IExposable</span>
{
    <span class="hljs-comment">// ... åŸæœ‰å­—æ®µ ...</span>
    
    <span class="hljs-comment">// æ–°å¢å­—æ®µ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">bool</span> hasBeenMentioned;        <span class="hljs-comment">// æ˜¯å¦å·²ç»åœ¨å¯¹è¯ä¸­è¢«æåŠ</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> lastMentionedTimestamp;   <span class="hljs-comment">// æœ€åä¸€æ¬¡è¢«æåŠçš„æ—¶é—´æˆ³</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> mentionCount;             <span class="hljs-comment">// è¢«æåŠçš„æ¬¡æ•°</span>
}

<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ ‡è®°è®°å¿†ä¸ºå·²æåŠ</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">MarkMemoryAsMentioned</span>(<span class="hljs-params">MemoryEntry memory</span>)</span>
{
    memory.hasBeenMentioned = <span class="hljs-literal">true</span>;
    memory.lastMentionedTimestamp = Find.TickManager.TicksGame;
    memory.mentionCount++;
}

<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> ç­›é€‰æ—¶é™ä½å·²æåŠè®°å¿†çš„æƒé‡</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">float</span> <span class="hljs-title">AdjustScoreForMentionedMemory</span>(<span class="hljs-params">
    <span class="hljs-built_in">float</span> originalScore,
    MemoryEntry memory</span>)</span>
{
    <span class="hljs-keyword">if</span> (!memory.hasBeenMentioned)
        <span class="hljs-keyword">return</span> originalScore;
    
    <span class="hljs-comment">// æ ¹æ®è¢«æåŠçš„æ¬¡æ•°é™ä½æƒé‡</span>
    <span class="hljs-built_in">float</span> penalty = <span class="hljs-number">1.0f</span> - (memory.mentionCount * <span class="hljs-number">0.2f</span>);
    <span class="hljs-keyword">return</span> originalScore * Math.Max(<span class="hljs-number">0.2f</span>, penalty);
}
</code></pre>
<h5 data-id="heading-133">5. æ—¶é—´çª—å£ç­–ç•¥</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> åŸºäºæ—¶é—´çª—å£çš„è®°å¿†ç­›é€‰</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;MemoryEntry&gt; <span class="hljs-title">FilterMemoriesByTimeWindow</span>(<span class="hljs-params">
    List&lt;MemoryEntry&gt; memories,
    <span class="hljs-built_in">int</span> timeWindowTicks = <span class="hljs-number">60000</span></span>)  <span class="hljs-comment">// é»˜è®¤1å¤©ï¼ˆ60000 ticksï¼‰</span></span>
{
    <span class="hljs-built_in">int</span> currentTick = Find.TickManager.TicksGame;
    <span class="hljs-built_in">int</span> windowStart = currentTick - timeWindowTicks;
    
    <span class="hljs-keyword">return</span> memories
        .Where(m =&gt; m.timestamp &gt;= windowStart)
        .ToList();
}

<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ··åˆç­–ç•¥ï¼šç»“åˆæ—¶é—´çª—å£å’Œç›¸å…³æ€§</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;MemoryEntry&gt; <span class="hljs-title">HybridMemoryFilter</span>(<span class="hljs-params">
    FourLayerMemoryComp memoryComp,
    <span class="hljs-built_in">string</span> context,
    <span class="hljs-built_in">int</span> maxMemories = <span class="hljs-number">10</span></span>)</span>
{
    <span class="hljs-comment">// 1. è·å–æ—¶é—´çª—å£å†…çš„è®°å¿†</span>
    <span class="hljs-keyword">var</span> recentMemories = FilterMemoriesByTimeWindow(
        memoryComp.GetAllMemories(),
        <span class="hljs-number">60000</span>  <span class="hljs-comment">// æœ€è¿‘1å¤©</span>
    );
    
    <span class="hljs-comment">// 2. å¦‚æœæ—¶é—´çª—å£å†…è®°å¿†ä¸è¶³ï¼Œä»æ›´æ—©çš„è®°å¿†ä¸­è¡¥å……</span>
    <span class="hljs-keyword">if</span> (recentMemories.Count &lt; maxMemories)
    {
        <span class="hljs-keyword">var</span> olderMemories = memoryComp.GetAllMemories()
            .Where(m =&gt; m.timestamp &lt; (Find.TickManager.TicksGame - <span class="hljs-number">60000</span>))
            .ToList();
        
        recentMemories.AddRange(olderMemories);
    }
    
    <span class="hljs-comment">// 3. å¤šå› å­è¯„åˆ†å’ŒTop-Né€‰æ‹©</span>
    <span class="hljs-keyword">return</span> FilterRelevantMemories(
        memoryComp,
        context,
        maxMemories
    );
}
</code></pre>
<hr/>
<h3 data-id="heading-134">å¯¹è¯å†å²ç®¡ç†</h3>
<h4 data-id="heading-135">å†å²å­˜å‚¨æ¶æ„</h4>
<h5 data-id="heading-136">å­˜å‚¨ç»“æ„</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å¯¹è¯å†å²æ¡ç›®</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConversationEntry</span> : <span class="hljs-title">IExposable</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> id;                   <span class="hljs-comment">// å”¯ä¸€ID</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> speakerId;            <span class="hljs-comment">// è¯´è¯è€…ID</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> speakerName;          <span class="hljs-comment">// è¯´è¯è€…åå­—</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> listenerId;           <span class="hljs-comment">// å¬è€…ID</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> listenerName;         <span class="hljs-comment">// å¬è€…åå­—</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> role;                 <span class="hljs-comment">// role: "user" æˆ– "assistant"</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> content;              <span class="hljs-comment">// å¯¹è¯å†…å®¹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">int</span> timestamp;               <span class="hljs-comment">// æ—¶é—´æˆ³</span>
    <span class="hljs-keyword">public</span> List&lt;<span class="hljs-built_in">string</span>&gt; relatedMemoryIds; <span class="hljs-comment">// ç›¸å…³è®°å¿†IDåˆ—è¡¨</span>
    <span class="hljs-keyword">public</span> List&lt;<span class="hljs-built_in">string</span>&gt; injectedKnowledgeIds; <span class="hljs-comment">// æ³¨å…¥çš„çŸ¥è¯†IDåˆ—è¡¨</span>
}

<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å¯¹è¯å†å²ç®¡ç†å™¨</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ConversationHistoryManager</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Dictionary&lt;<span class="hljs-built_in">string</span>, List&lt;ConversationEntry&gt;&gt; _historyCache;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> _maxHistoryPerConversation = <span class="hljs-number">100</span>;
    
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ä¿å­˜å¯¹è¯æ¡ç›®</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">SaveConversationEntry</span>(<span class="hljs-params">ConversationEntry entry</span>)</span>
    {
        <span class="hljs-built_in">string</span> key = GetConversationKey(entry.speakerId, entry.listenerId);
        
        <span class="hljs-keyword">if</span> (!_historyCache.ContainsKey(key))
        {
            _historyCache[key] = <span class="hljs-keyword">new</span> List&lt;ConversationEntry&gt;();
        }
        
        _historyCache[key].Add(entry);
        
        <span class="hljs-comment">// é™åˆ¶å†å²è®°å½•æ•°é‡</span>
        <span class="hljs-keyword">if</span> (_historyCache[key].Count &gt; _maxHistoryPerConversation)
        {
            _historyCache[key].RemoveAt(<span class="hljs-number">0</span>);
        }
        
        <span class="hljs-comment">// æŒä¹…åŒ–åˆ°æ•°æ®åº“</span>
        SaveToDatabase(entry);
    }
    
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> è·å–å¯¹è¯å†å²</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;ConversationEntry&gt; <span class="hljs-title">GetConversationHistory</span>(<span class="hljs-params">
        <span class="hljs-built_in">string</span> speakerId,
        <span class="hljs-built_in">string</span> listenerId,
        <span class="hljs-built_in">int</span> maxEntries = <span class="hljs-number">10</span></span>)</span>
    {
        <span class="hljs-built_in">string</span> key = GetConversationKey(speakerId, listenerId);
        
        <span class="hljs-keyword">if</span> (!_historyCache.ContainsKey(key))
        {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> List&lt;ConversationEntry&gt;();
        }
        
        <span class="hljs-keyword">var</span> history = _historyCache[key];
        
        <span class="hljs-comment">// è¿”å›æœ€è¿‘çš„Næ¡è®°å½•</span>
        <span class="hljs-keyword">return</span> history.Count &gt; maxEntries
            ? history.GetRange(history.Count - maxEntries, maxEntries)
            : history;
    }
    
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> ç”Ÿæˆå¯¹è¯é”®</span>
    <span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetConversationKey</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> speakerId, <span class="hljs-built_in">string</span> listenerId</span>)</span>
    {
        <span class="hljs-comment">// ç¡®ä¿é”®çš„é¡ºåºä¸€è‡´ï¼ˆA-B å’Œ B-A æ˜¯åŒä¸€ä¸ªå¯¹è¯ï¼‰</span>
        <span class="hljs-keyword">var</span> ids = <span class="hljs-keyword">new</span>[] { speakerId, listenerId }.OrderBy(id =&gt; id).ToArray();
        <span class="hljs-keyword">return</span> <span class="hljs-string">$"<span class="hljs-subst">{ids[<span class="hljs-number">0</span>]}</span>_<span class="hljs-subst">{ids[<span class="hljs-number">1</span>]}</span>"</span>;
    }
}
</code></pre>
<h4 data-id="heading-137">å†å²æ¶ˆæ¯æ ¼å¼åŒ–</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ ¼å¼åŒ–å†å²æ¶ˆæ¯ç”¨äºAPIè¯·æ±‚</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;ChatMessage&gt; <span class="hljs-title">FormatHistoryForAPI</span>(<span class="hljs-params">
    List&lt;ConversationEntry&gt; history</span>)</span>
{
    <span class="hljs-keyword">return</span> history.Select(entry =&gt; <span class="hljs-keyword">new</span> ChatMessage
    {
        role = entry.role,
        content = entry.content
    }).ToList();
}
</code></pre>
<h4 data-id="heading-138">å®Œæ•´çš„å¯¹è¯æµç¨‹</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å®Œæ•´çš„å¯¹è¯æµç¨‹</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task&lt;<span class="hljs-built_in">string</span>&gt; <span class="hljs-title">ConductConversation</span>(<span class="hljs-params">
    Pawn speaker,
    Pawn listener,
    <span class="hljs-built_in">string</span> userMessage</span>)</span>
{
    <span class="hljs-keyword">try</span>
    {
        <span class="hljs-comment">// 1. ä¿å­˜ç”¨æˆ·æ¶ˆæ¯åˆ°å†å²</span>
        <span class="hljs-keyword">var</span> userEntry = <span class="hljs-keyword">new</span> ConversationEntry
        {
            id = GenerateId(),
            speakerId = speaker.thingIDNumber.ToString(),
            speakerName = speaker.Name,
            listenerId = listener.thingIDNumber.ToString(),
            listenerName = listener.Name,
            role = <span class="hljs-string">"user"</span>,
            content = userMessage,
            timestamp = Find.TickManager.TicksGame
        };
        ConversationHistoryManager.SaveConversationEntry(userEntry);
        
        <span class="hljs-comment">// 2. è·å–å†å²æ¶ˆæ¯</span>
        <span class="hljs-keyword">var</span> recentHistory = ConversationHistoryManager.GetConversationHistory(
            speaker.thingIDNumber.ToString(),
            listener.thingIDNumber.ToString(),
            <span class="hljs-number">10</span>  <span class="hljs-comment">// æœ€è¿‘10æ¡</span>
        );
        
        <span class="hljs-comment">// 3. ç­›é€‰ç›¸å…³è®°å¿†ï¼ˆå»é‡ï¼‰</span>
        <span class="hljs-keyword">var</span> allMemories = speaker.GetComp&lt;FourLayerMemoryComp&gt;().GetAllMemories();
        <span class="hljs-keyword">var</span> relevantMemories = FilterRelevantMemories(
            speaker.GetComp&lt;FourLayerMemoryComp&gt;(),
            userMessage,
            <span class="hljs-number">10</span>
        );
        relevantMemories = DeduplicateMemories(relevantMemories, FormatHistoryForAPI(recentHistory));
        
        <span class="hljs-comment">// 4. ç­›é€‰ç›¸å…³çŸ¥è¯†</span>
        <span class="hljs-keyword">var</span> relevantKnowledge = FilterRelevantKnowledge(speaker, userMessage, <span class="hljs-number">5</span>);
        
        <span class="hljs-comment">// 5. æ„å»ºè¯·æ±‚ä¸Šä¸‹æ–‡</span>
        <span class="hljs-keyword">var</span> context = BuildConversationContext(
            speaker,
            listener,
            userMessage,
            relevantMemories,
            relevantKnowledge,
            FormatHistoryForAPI(recentHistory)
        );
        
        <span class="hljs-comment">// 6. å‘é€HTTPè¯·æ±‚</span>
        <span class="hljs-keyword">var</span> aiResponse = <span class="hljs-keyword">await</span> SendConversationRequest(
            context,
            Settings.APIKey,
            Settings.Model
        );
        
        <span class="hljs-comment">// 7. ä¿å­˜AIå›å¤åˆ°å†å²</span>
        <span class="hljs-keyword">var</span> aiEntry = <span class="hljs-keyword">new</span> ConversationEntry
        {
            id = GenerateId(),
            speakerId = speaker.thingIDNumber.ToString(),
            speakerName = speaker.Name,
            listenerId = listener.thingIDNumber.ToString(),
            listenerName = listener.Name,
            role = <span class="hljs-string">"assistant"</span>,
            content = aiResponse,
            timestamp = Find.TickManager.TicksGame,
            relatedMemoryIds = relevantMemories.Select(m =&gt; m.id).ToList(),
            injectedKnowledgeIds = relevantKnowledge.Select(k =&gt; k.id).ToList()
        };
        ConversationHistoryManager.SaveConversationEntry(aiEntry);
        
        <span class="hljs-comment">// 8. æ ‡è®°å·²æåŠçš„è®°å¿†</span>
        <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> memory <span class="hljs-keyword">in</span> relevantMemories)
        {
            <span class="hljs-keyword">if</span> (aiResponse.Contains(memory.content))
            {
                MarkMemoryAsMentioned(memory);
            }
        }
        
        <span class="hljs-keyword">return</span> aiResponse;
    }
    <span class="hljs-keyword">catch</span> (Exception ex)
    {
        Log.Error(<span class="hljs-string">$"å¯¹è¯å¤±è´¥: <span class="hljs-subst">{ex.Message}</span>"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"æŠ±æ­‰ï¼Œæˆ‘é‡åˆ°äº†ä¸€äº›é—®é¢˜ã€‚"</span>;
    }
}
</code></pre>
<h4 data-id="heading-139">æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h4>
<h5 data-id="heading-140">1. ç¼“å­˜æœºåˆ¶</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> è®°å¿†ç­›é€‰ç»“æœç¼“å­˜</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MemoryFilterCache</span>
{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Dictionary&lt;<span class="hljs-built_in">string</span>, CacheEntry&gt; _cache;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> _cacheSize = <span class="hljs-number">100</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-built_in">int</span> _cacheTTL = <span class="hljs-number">300</span>;  <span class="hljs-comment">// 5åˆ†é’Ÿ</span>
    
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;MemoryEntry&gt; <span class="hljs-title">GetOrCompute</span>(<span class="hljs-params">
        <span class="hljs-built_in">string</span> cacheKey,
        Func&lt;List&lt;MemoryEntry&gt;&gt; compute</span>)</span>
    {
        <span class="hljs-comment">// æ£€æŸ¥ç¼“å­˜</span>
        <span class="hljs-keyword">if</span> (_cache.ContainsKey(cacheKey))
        {
            <span class="hljs-keyword">var</span> entry = _cache[cacheKey];
            <span class="hljs-keyword">if</span> (DateTime.Now - entry.timestamp &lt; TimeSpan.FromSeconds(_cacheTTL))
            {
                <span class="hljs-keyword">return</span> entry.memories;
            }
        }
        
        <span class="hljs-comment">// è®¡ç®—å¹¶ç¼“å­˜</span>
        <span class="hljs-keyword">var</span> memories = compute();
        
        <span class="hljs-comment">// é™åˆ¶ç¼“å­˜å¤§å°</span>
        <span class="hljs-keyword">if</span> (_cache.Count &gt;= _cacheSize)
        {
            <span class="hljs-keyword">var</span> oldestKey = _cache.OrderBy(kvp =&gt; kvp.Value.timestamp).First().Key;
            _cache.Remove(oldestKey);
        }
        
        _cache[cacheKey] = <span class="hljs-keyword">new</span> CacheEntry
        {
            memories = memories,
            timestamp = DateTime.Now
        };
        
        <span class="hljs-keyword">return</span> memories;
    }
}
</code></pre>
<h5 data-id="heading-141">2. æ‰¹é‡å¤„ç†</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> æ‰¹é‡è®¡ç®—è®°å¿†å¾—åˆ†</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;MemoryScore&gt; <span class="hljs-title">BatchCalculateScores</span>(<span class="hljs-params">
    List&lt;MemoryEntry&gt; memories,
    <span class="hljs-built_in">string</span> context,
    SceneType scene,
    ScoringWeights weights</span>)</span>
{
    <span class="hljs-comment">// å¹¶è¡Œè®¡ç®—å¾—åˆ†</span>
    <span class="hljs-keyword">var</span> scores = memories.AsParallel()
        .Select(memory =&gt; <span class="hljs-keyword">new</span> MemoryScore
        {
            memory = memory,
            score = AdvancedScoringSystem.CalculateMemoryScore(
                memory,
                context,
                scene,
                weights,
                <span class="hljs-keyword">new</span> List&lt;MemoryEntry&gt;()
            )
        })
        .ToList();
    
    <span class="hljs-keyword">return</span> scores;
}
</code></pre>
<h5 data-id="heading-142">3. å¢é‡æ›´æ–°</h5>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;summary&gt;</span></span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> å¢é‡æ›´æ–°è®°å¿†å¾—åˆ†</span>
<span class="hljs-comment"><span class="hljs-doctag">///</span> <span class="hljs-doctag">&lt;/summary&gt;</span></span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">IncrementalUpdateScores</span>(<span class="hljs-params">
    List&lt;MemoryScore&gt; existingScores,
    List&lt;MemoryEntry&gt; newMemories,
    <span class="hljs-built_in">string</span> context</span>)</span>
{
    <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> newMemory <span class="hljs-keyword">in</span> newMemories)
    {
        <span class="hljs-built_in">float</span> score = AdvancedScoringSystem.CalculateMemoryScore(
            newMemory,
            context,
            SceneType.Casual,
            <span class="hljs-keyword">new</span> ScoringWeights(),
            existingScores.Select(s =&gt; s.memory).ToList()
        );
        
        existingScores.Add(<span class="hljs-keyword">new</span> MemoryScore
        {
            memory = newMemory,
            score = score
        });
    }
    
    <span class="hljs-comment">// é‡æ–°æ’åº</span>
    existingScores.Sort((a, b) =&gt; b.score.CompareTo(a.score));
}
</code></pre>
<hr/>
<h3 data-id="heading-143">æ€»ç»“</h3>
<p>é€šè¿‡æ·±å…¥åˆ†æRimWorldæ¨¡ç»„çš„è®°å¿†ç³»ç»Ÿï¼Œæˆ‘ä»¬æ­ç¤ºäº†å¦‚ä½•è§£å†³AIå¯¹è¯ä¸­çš„æ ¸å¿ƒæŒ‘æˆ˜ï¼š</p>
<h4 data-id="heading-144">å…³é”®è§£å†³æ–¹æ¡ˆ</h4>
<ol>
<li><strong>æ™ºèƒ½è®°å¿†ç­›é€‰</strong>ï¼šé€šè¿‡å¤šå› å­è¯„åˆ†ç®—æ³•ï¼Œä»ä¸Šåƒæ¡è®°å¿†ä¸­ç­›é€‰å‡ºæœ€ç›¸å…³çš„10-20æ¡</li>
<li><strong>åˆ†å±‚æ³¨å…¥ç­–ç•¥</strong>ï¼šå°†è®°å¿†ã€çŸ¥è¯†å’Œè§„åˆ™åˆ†å±‚æ³¨å…¥åˆ°ç³»ç»Ÿæç¤ºä¸­</li>
<li><strong>å»é‡æœºåˆ¶</strong>ï¼šé€šè¿‡æ–‡æœ¬ç›¸ä¼¼åº¦è®¡ç®—å’Œå†å²æ¶ˆæ¯ç®¡ç†ï¼Œé¿å…é‡å¤å†…å®¹</li>
<li><strong>æ—¶é—´çª—å£ç­–ç•¥</strong>ï¼šä¼˜å…ˆä½¿ç”¨è¿‘æœŸè®°å¿†ï¼Œå¿…è¦æ—¶ä»æ›´æ—©çš„è®°å¿†ä¸­è¡¥å……</li>
<li><strong>æ ‡è®°æœºåˆ¶</strong>ï¼šæ ‡è®°å·²æåŠçš„è®°å¿†ï¼Œé™ä½å…¶åœ¨åç»­å¯¹è¯ä¸­çš„æƒé‡</li>
</ol>
<h4 data-id="heading-145">æŠ€æœ¯ä¼˜åŠ¿</h4>
<ul>
<li><strong>é«˜æ•ˆæ€§</strong>ï¼šåªå‘é€æœ€ç›¸å…³çš„ä¿¡æ¯ï¼Œé¿å…è¯·æ±‚è¿‡å¤§</li>
<li><strong>ç»æµæ€§</strong>ï¼šå‡å°‘tokenä½¿ç”¨ï¼Œé™ä½APIè°ƒç”¨æˆæœ¬</li>
<li><strong>å‡†ç¡®æ€§</strong>ï¼šé€šè¿‡å¤šç»´åº¦è¯„åˆ†ï¼Œç¡®ä¿æ³¨å…¥çš„ä¿¡æ¯é«˜åº¦ç›¸å…³</li>
<li><strong>è‡ªç„¶æ€§</strong>ï¼šé¿å…é‡å¤å¯¹è¯ï¼Œä¿æŒå¯¹è¯çš„è‡ªç„¶æµç•…</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•å’Œä¼˜åŒ–</li>
</ul>
<h4 data-id="heading-146">å®è·µå»ºè®®</h4>
<p>åœ¨æ„å»ºè‡ªå·±çš„AIè®°å¿†ç³»ç»Ÿæ—¶ï¼Œå»ºè®®ï¼š</p>
<ol>
<li><strong>ä»ç®€å•å¼€å§‹</strong>ï¼šå…ˆå®ç°åŸºæœ¬çš„è®°å¿†å­˜å‚¨å’Œæ£€ç´¢</li>
<li><strong>é€æ­¥ä¼˜åŒ–</strong>ï¼šæ ¹æ®å®é™…æ•ˆæœè°ƒæ•´è¯„åˆ†æƒé‡å’Œç­›é€‰ç­–ç•¥</li>
<li><strong>ç›‘æ§æ€§èƒ½</strong>ï¼šè®°å½•APIè°ƒç”¨æ¬¡æ•°ã€tokenä½¿ç”¨é‡å’Œå“åº”æ—¶é—´</li>
<li><strong>ç”¨æˆ·åé¦ˆ</strong>ï¼šæ”¶é›†ç”¨æˆ·åé¦ˆï¼ŒæŒç»­ä¼˜åŒ–è®°å¿†ç­›é€‰é€»è¾‘</li>
<li><strong>æµ‹è¯•éªŒè¯</strong>ï¼šé€šè¿‡å¤§é‡æµ‹è¯•éªŒè¯å»é‡å’Œé¿å…é‡å¤çš„æ•ˆæœ</li>
</ol>
<p>é€šè¿‡å€Ÿé‰´RimWorldæ¨¡ç»„çš„è®¾è®¡æ€è·¯ï¼Œå¼€å‘è€…å¯ä»¥æ„å»ºå‡ºé«˜æ•ˆã€æ™ºèƒ½ã€è‡ªç„¶çš„AIè®°å¿†ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2025ï¼ŒAI ç¼–ç¨‹å…ƒå¹´ï¼Œæˆ‘ç”¨ TRAE åšäº†è¿™äº›ï¼]]></title>    <link>https://juejin.cn/post/7588376012120686619</link>    <guid>https://juejin.cn/post/7588376012120686619</guid>    <pubDate>2025-12-28T11:20:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588376012120686619" data-draft-id="7588109656042029102" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2025ï¼ŒAI ç¼–ç¨‹å…ƒå¹´ï¼Œæˆ‘ç”¨ TRAE åšäº†è¿™äº›ï¼"/> <meta itemprop="keywords" content="Trae,å‰ç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-28T11:20:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸å¦‚æ‘¸é±¼å»"/> <meta itemprop="url" content="https://juejin.cn/user/26044011388510"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2025ï¼ŒAI ç¼–ç¨‹å…ƒå¹´ï¼Œæˆ‘ç”¨ TRAE åšäº†è¿™äº›ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/26044011388510/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸å¦‚æ‘¸é±¼å»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T11:20:07.000Z" title="Sun Dec 28 2025 11:20:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37f4978cd108417ca631c0963fb42d6f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767525607&amp;x-signature=9VjVDMuA880IODXqdqqVurwMISc%3D" alt="" loading="lazy"/></p>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ä¸å¦‚æ‘¸é±¼å»ï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„åˆ†äº«ä¸“æ ã€‚</p>
<p>2025 å·²ç»åˆ°äº†å°¾å£°ï¼Œç”±äºæœ€è¿‘åœ¨å®¶å…»ç—…ï¼Œæ—©æ—©å†™å¥½äº† <a href="https://juejin.cn/post/7588022226738888754" target="_blank" title="https://juejin.cn/post/7588022226738888754">ä¸å¦‚æ‘¸é±¼å»çš„ 2025 å¹´ç»ˆæ€»ç»“ï¼Œä»Šå¹´çš„å…³é”®è¯æ˜¯ç›´é¢å¤©å‘½</a>ï¼Œè®°å½•å¹¶æ€»ç»“ä¸€ä¸‹ 2025 çš„ç»å†ä¸æ”¶è·ã€‚</p>
<p>ä»Šå¹´æ˜¯ AI ç¼–ç¨‹å…ƒå¹´ï¼Œä¹Ÿæ˜¯AI ç¼–ç¨‹å·¥å…·å¤§çˆ†å‘çš„ä¸€å¹´ï¼Œæˆ‘è§‰å¾—è¿˜æ˜¯æœ‰å¿…è¦å•å¼€ä¸€ç¯‡æ€»ç»“ä¸‹ä¸€æ•´å¹´çš„ AI ç¼–ç¨‹çš„å®è·µä¸æ”¶è·ï¼ŒèŠä¸€èŠ 2025 AI/Vibe Coding å¯¹æˆ‘çš„å½±å“ã€‚</p>
<p>è¿™ä¸€å¹´å…‰æˆ‘ç”¨è¿‡çš„å°±æœ‰ GitHub Copilotã€Cursorã€Traeã€Qoderã€Codebuddyã€Kiroã€Claude Codeã€Catpawã€Antigravity ç­‰ç­‰ã€‚æœ€æ—©æ˜¯åœ¨ç”¨ GitHub Copilotï¼Œç„¶åæ˜¯ Cursorï¼ˆæ”¯ä»˜æ–¹å¼æ¯”è¾ƒå‹å¥½ï¼‰ï¼Œå†åæ¥å›½äº§ AI ç¼–ç¨‹å·¥å…· TRAEã€Codebuddyã€Qoder é™†ç»­å‘å¸ƒï¼Œæ¯ä¸ªæ–°çš„å·¥å…·åŸºæœ¬éƒ½æœ‰åœ¨ç”¨ã€‚</p>
<p>è‡ªä» Cursor é”åŒºï¼ŒTRAEå°±æˆä¸ºäº†æˆ‘çš„ä¸»åŠ› AI ç¼–ç¨‹å·¥å…·ï¼Œæ‰€ä»¥ä»Šå¤©å°±ä¸»è¦èŠä¸€èŠæˆ‘ä½¿ç”¨ TRAE çš„å¿ƒè·¯å†ç¨‹ã€‚</p>
<h2 data-id="heading-0">æˆ‘åœ¨ç”¨ AI åšä»€ä¹ˆï¼Ÿ</h2>
<p>AI å·²ç»å®Œç¾èå…¥åˆ°äº†å¾ˆå¤šäººçš„ç”Ÿæ´»ä¸­ï¼Œä»¥å‰æ˜¯ç™¾åº¦ä¸€ä¸‹ã€è°·æ­Œä¸€ä¸‹ï¼Œç°åœ¨å˜æˆäº† AI ä¸€ä¸‹ã€‚ä»Šå¹´æˆ‘ä¸»è¦æ˜¯ç”¨æ¥åšä»¥ä¸‹äº‹æƒ…ï¼š</p>
<ul>
<li>æˆ‘çš„ä¸»ä¸šï¼šç¼–ç¨‹æ¬ç –ï¼Œå¤§å¤šæ•°ç¨‹åºå‘˜ç°åœ¨éƒ½å·²ç»æ˜¯ Vibe Coding æˆ–è€… SDD ç¼–ç¨‹äº†ï¼Œå·¥ä½œå·²ç»ç¦»ä¸å¼€ AI äº†ã€‚</li>
<li>å†™æ–‡ç« ï¼šå¹³æ—¶å†™å†™æ–‡ç« ï¼Œæœ‰çš„äº‹æƒ…ä¼šäº¤ç»™ AIã€‚ä¸è¿‡å…¨æ–‡ AI ç¼–å†™çš„è¯ï¼ŒAI å‘³å„¿éå¸¸å¤§ï¼Œæ‰€ä»¥æˆ‘ç›®å‰ä¸»è¦æ˜¯æ‹¿æ¥å†™æ‘˜è¦ã€ç”Ÿæˆæ ‡é¢˜å»ºè®®ã€ç”Ÿæˆå°é¢æç¤ºè¯ç­‰ã€‚</li>
<li>ç”Ÿæˆå›¾ç‰‡ï¼šåˆ¶ä½œæ–‡ç« å°é¢ã€åˆ¶ä½œæ‰‹ç»˜å›¾æ¼«ç”»ä¹‹ç±»çš„ã€ç”Ÿæˆæ¸¸æˆåˆ†é•œç­‰ç­‰ã€‚</li>
<li>æŸ¥è¯¢çŸ¥è¯†ï¼šè¿™ä¸ªåº”è¯¥æ˜¯å¤§å¤šæ•°äººéƒ½ä¼šç”¨çš„ï¼Œä¾‹å¦‚è±†åŒ…ã€DeepSeekã€Kimiä¹‹ç±»çš„åº”ç”¨ï¼Œåˆ¶ä½œæ—…è¡Œæ”»ç•¥ã€æŸ¥è¯¢å°±åŒ»çœ‹ç—…çŸ¥è¯†ã€è§£è¯»ç—…ç†ã€æ£€æŸ¥æŠ¥å‘Šç­‰ç­‰ã€‚</li>
<li>å¼€æºï¼šæˆ‘åœ¨å¼€æºé¡¹ç›®ä¸­ä½¿ç”¨ AI è¿›è¡Œ reviewï¼Œä½¿ç”¨ AI å¯¹ä»£ç è¿›è¡Œé‡æ„ï¼Œä¹Ÿä¼šä½¿ç”¨ AI è¿›è¡ŒåŠŸèƒ½ç¼–ç å’Œ bug ä¿®å¤ï¼Œè¿˜ä¼šä½¿ç”¨ AI åšä¸€äº›æ„Ÿå…´è¶£çš„å°ä¸œè¥¿ã€‚</li>
</ul>
<p>å¤§å®¶éƒ½åœ¨ç”¨ AI åšä»€ä¹ˆå‘¢ï¼Ÿ</p>
<h2 data-id="heading-1">TRAE åˆä»£çš„ä½¿ç”¨</h2>
<p>å®è¯è¯´ï¼Œåˆä»£ TRAE æ˜¯ç›¸å½“çš„è¹©è„šï¼Œé‚£æ—¶å€™çš„ TRAE è¿˜æ˜¯çº¢è‰²çš„å›¾æ ‡ï¼Œå¯¹æ¯” Cursor å’Œ GitHub Copilot ç¡®å®ä¸èƒ½æ‰“ã€‚ä¸è¿‡æ²¡å…³ç³»ï¼Œå…ˆå¿ä¸€å¿ï¼Œæ¯•ç«Ÿå½“æ—¶æ˜¯å…è´¹çš„claude-3.5ï¼Œè¿˜è¦å•¥è‡ªè¡Œè½¦å‘¢ğŸ¶ï¼Ÿç„¶åå°±æœ‰äº†è¿™ç¯‡æ–‡ç« <a href="https://juejin.cn/post/7474019962718732314" target="_blank" title="https://juejin.cn/post/7474019962718732314">ã€Šä»é›¶åˆ°ä¸€ï¼šç”¨Traeå¿«é€Ÿæ­å»ºuni-app AIå¯¹è¯å°ç¨‹åºé¡µé¢ã€‹</a>ã€‚</p>
<p>å½“æ—¶å‡†å¤‡åšä¸€ä¸ªæµå¼å“åº” AIå¯¹è¯å°ç¨‹åºï¼Œè€Œåˆšå‘å¸ƒçš„ TRAE æ­£å¥½æä¾›äº†å…è´¹çš„ claude-3.5 æ¨¡å‹ä½¿ç”¨ï¼Œäºæ˜¯ç”¨ TRAE åŸºäº uni-app å’Œ wot-starter åˆ¶ä½œäº†è¿™ä¹ˆä¸€ä¸ªç®€å•çš„å¯¹è¯ demoã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf1babb291c744d3be06fb2462f17387~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767525607&amp;x-signature=vRyb3IMwv96f23Zo2iWr1WU7ur4%3D" alt="" loading="lazy"/></p>
<p>ä½“éªŒä¸‹æ¥èƒ½ç”¨ï¼Œä½†æ˜¯å½“æ—¶å®åŠ›å¯¹æ¯” cursor ç¡®å®æœ‰æ‰€å·®è·ï¼Œè€Œä¸”è¿˜éœ€è¦æ’é˜Ÿï¼Œä¸è¿‡æ¯•ç«Ÿæ˜¯å…è´¹çš„claude-3.5ï¼Œè¿˜è¦å•¥è‡ªè¡Œè½¦å‘¢ï¼Œå¦‚æœå®ƒæ”¶è´¹æˆ‘å¯ä»¥è¯´æ˜¯å®ƒæœ‰é—®é¢˜ï¼Œè€Œç°åœ¨åªèƒ½è¯´æ˜¯æˆ‘ä¸ä¼šé—®ğŸ¶ã€‚</p>
<h2 data-id="heading-2">TRAE SOLO</h2>
<p>7 æœˆ 21 æ—¥ï¼ŒTRAE SOLO å‘å¸ƒï¼Œå®ƒå¸¦æ¥äº†ç”±AIä¸»å¯¼å¼€å‘ï¼Œä»è¾“å…¥åˆ°äº¤ä»˜çš„å…¨é“¾è·¯ååŒçš„å¼€å‘æ¨¡å¼ï¼Œè€Œæˆ‘ä¹Ÿæˆä¸ºäº†ç¬¬ä¸€æ‰¹ TRAE SOLO ç”¨æˆ·ï¼Œå¹¶ä¸”ä½¿ç”¨ TRAE SOLO å¤åˆ»äº†ç«¥å¹´å¦å…‹å¤§æˆ˜ï¼Œå®è·µäº†å…¨ AI è¾…åŠ©å¼€å‘å°ç¨‹åºçš„ææ•ˆå®è·µã€‚</p>
<h3 data-id="heading-3">å¤åˆ»ç«¥å¹´å°æ¸¸æˆ</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46fad217569f45a18ded969fe25a3572~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767525607&amp;x-signature=AAvtk6At5R7gJDNiYFKwSGHDR48%3D" alt="" loading="lazy"/></p>
<p><a href="https://juejin.cn/post/7533434265414189091" target="_blank" title="https://juejin.cn/post/7533434265414189091">ã€Šå½“å¹´å·å·ç©å°éœ¸ç‹ï¼Œç°åœ¨å·å·ç”¨ Trae Solo å¤åˆ»å¦å…‹å¤§æˆ˜ã€‹</a>ä¸€æ–‡ä¸­ï¼Œæˆ‘ä½¿ç”¨ TRAE SOLO å¤åˆ»äº†ç«¥å¹´å¦å…‹å¤§æˆ˜ã€‚</p>
<p>å‡­å€Ÿæ­¤ç¯‡æ–‡ç« ï¼Œæˆ‘è·å¾—äº† TRAE å¤´å·ç©å®¶æ´»åŠ¨çš„äºŒç­‰å¥–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/92d2d7b14f2f41b98a3f35d1077d1506~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767525607&amp;x-signature=%2FovKl7Hx0u5ksmQrVYqLaTkVJsA%3D" alt="" loading="lazy"/></p>
<p>åŒæ—¶ï¼Œæ–‡ç« ä¹Ÿè¢«æ”¶å½•åˆ° TRAE å…¬ä¼—å·çš„æœ€ä½³å®è·µæ–‡ç« ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efa9a407471b4176bc36e0bea536fcc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767525607&amp;x-signature=8GhXgK%2BTyG5h3Bp6O08nazNGWHw%3D" alt="" loading="lazy"/></p>
<p>æ¬²ä¹°æ¡‚èŠ±åŒè½½é…’ï¼Œç»ˆä¸ä¼¼å°‘å¹´æ¸¸ï¼Œå°±ç®—å¤åˆ»å¾—å†åƒï¼Œä¹Ÿæ— æ³•å†å›åˆ°ä»å‰ï¼Œä½† AI ç”¨æ–°çš„å·¥å…·é“¾æŠŠæ—§æ—¥çš„å¿«ä¹ä»è®°å¿†ä¸­å”¤é†’ï¼Œè®©æˆ‘ä»¬ä¸ç«¥å¹´è·¨è¶Šæ—¶ç©ºçš„äº¤æµï¼Œä¹Ÿæ˜¯ä¸€æ¬¡éå¸¸é…·çš„ä½“éªŒï¼</p>
<h3 data-id="heading-4">AI è¾…åŠ©å¼€å‘å°ç¨‹åº</h3>
<p>åœ¨<a href="https://juejin.cn/post/7538734024837185582" target="_blank" title="https://juejin.cn/post/7538734024837185582">ã€ŠTRAE è¾…åŠ©ä¸‹çš„ uni-app è·¨ç«¯å°ç¨‹åºå·¥ç¨‹åŒ–å¼€å‘å®è·µåˆ†äº«ã€‹</a>ä¸€æ–‡ä¸­ï¼Œæˆ‘åˆ†äº«äº†ä½¿ç”¨ TRAE ä½œä¸ºä¸»è¦AIç¼–ç¨‹å·¥å…·ï¼Œä½¿ç”¨ uni-app å¿«é€Ÿä¸Šæ‰‹æ‘¸æ¿ wot-starter ï¼Œé€šè¿‡ AI è¾…åŠ©å®ç°äº†å¼€å‘æ•ˆç‡çš„æ˜¾è‘—æå‡ã€‚æ•´ä½“å¼€å‘æ—¶é—´ä»ä¼ ç»Ÿçš„ 40 äººæ—¥ç¼©çŸ­è‡³ 22 äººæ—¥ï¼Œæ•ˆç‡æå‡çº¦ 45%ï¼Œæ ¹æ®å›¢é˜Ÿçš„å®é™…ä½“éªŒï¼Œç›¸æ¯”ä¼ ç»Ÿå¼€å‘æ–¹å¼ï¼Œå¼€å‘ä½“éªŒæœ‰äº†æ˜æ˜¾æ”¹å–„ã€‚</p>
<p>åœ¨æ–‡ä¸­æˆ‘ä»¬ä¹Ÿä»‹ç»äº†<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FJuZwsaUxQ6W-jdP-pSEkjg" target="_blank" title="https://mp.weixin.qq.com/s/JuZwsaUxQ6W-jdP-pSEkjg" ref="nofollow noopener noreferrer">ã€Šå¦‚ä½•ç”¨ AI é©±åŠ¨ wot-ui å¼€å‘å°ç¨‹åºã€‹</a>å’Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2F9h2inbYwmYa3ZQNYutRBng" target="_blank" title="https://mp.weixin.qq.com/s/9h2inbYwmYa3ZQNYutRBng" ref="nofollow noopener noreferrer">ã€Šwot-uiæ˜¯å¦‚ä½•ä½¿ç”¨lms.txt è®© AI æ›´å¥½åœ°ç†è§£æ–‡æ¡£ã€‹</a>ï¼Œè¿™å¯¹äºæˆ‘ä»¬æœ¬æ¬¡å®è·µçš„ææ•ˆæ˜¯éå¸¸é‡è¦çš„ï¼Œå®Œæ•´æ˜ç¡®çš„å¤–éƒ¨ä¾èµ–æ–‡æ¡£ï¼Œèƒ½è®© AI å¿«é€Ÿä½¿ç”¨æˆ‘ä»¬å¸¸ç”¨çš„æŠ€æœ¯æ ˆã€‚</p>
<p>æœ¬ç¯‡æ–‡ç« åŒæ ·ä¹Ÿè¢«æ”¶å½•åˆ° TRAE å…¬ä¼—å·çš„æœ€ä½³å®è·µæ–‡ç« ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18665267efb440dc87afd8ec2d0abe30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767525607&amp;x-signature=aFcnlQS3LYOg2k7bA%2FXgD54%2BN1A%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">å¼€å‘åƒè€ä¹¡é¸¡é‚£æ ·åšé¥­å°ç¨‹åº</h3>
<p>å»å¹´ï¼Œã€Œè€ä¹¡é¸¡ä¸è£…äº†ï¼Œç›´æ¥å¼€æºã€çš„æ¶ˆæ¯å¼•å‘äº†å¹¿æ³›çš„å…³æ³¨ã€‚æˆ‘ä¹Ÿçº³é—·ï¼Œè€ä¹¡é¸¡ä¸æ˜¯åšèœçš„å—ï¼Œå¼€çš„å“ªé—¨å­æºï¼ŸåŸæ¥æ˜¯æŠŠä»–ä»¬çš„èœå“ã€æº¯æºæŠ¥å‘Šè¿™äº›å¼€æºäº†ã€‚ç„¶å GitHub ä¸Šè¿™ä¸ªå«ã€Œåƒè€ä¹¡é¸¡é‚£æ ·åšé¥­ã€çš„é¡¹ç›®ç«äº†ï¼Œå¦‚ä»Š star æ•°é‡å·²ç»è¾¾åˆ°äº† 22kï¼Œè¿™æ˜¯å®ƒçš„åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FGar-b-age%2FCookLikeHOC" target="_blank" title="https://github.com/Gar-b-age/CookLikeHOC" ref="nofollow noopener noreferrer">github.com/Gar-b-age/Câ€¦</a> ã€‚</p>
<p>ä½œä¸ºä¸€åçˆ±åšé¥­çš„ç¨‹åºå‘˜ï¼Œé¢å¯¹å¦‚æ­¤è¯±äººçš„å¼€æºèµ„æºï¼Œæ€èƒ½è¢–æ‰‹æ—è§‚ï¼Ÿäºæ˜¯ï¼Œåœ¨<a href="https://juejin.cn/post/7554225547117576243" target="_blank" title="https://juejin.cn/post/7554225547117576243">ã€Šè€ä¹¡é¸¡ä¹Ÿå¼€æºï¼Ÿæˆ‘ç”¨ TRAE SOLO åšäº†ä¸ªåƒè€ä¹¡é¸¡é‚£æ ·åšé¥­å°ç¨‹åºï¼ã€‹</a>ä¸€æ–‡ä¸­ï¼Œæˆ‘åˆ†äº«äº†ä½¿ç”¨ TRAE SOLO å®ç°å°ç¨‹åºå‰åç«¯åŠæ•°æ®æ•´ç†çš„å…¨è¿‡ç¨‹ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/684549f272c24f36ba2610a6d7e606e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767525607&amp;x-signature=nRZdqJ9UTV3nUAk4VeILpNgtAl4%3D" alt="" loading="lazy"/></p>
<p>æœ¬ç¯‡æ–‡ç« åŒæ ·ä¹Ÿè¢«æ”¶å½•åˆ° TRAE å…¬ä¼—å·çš„æœ€ä½³å®è·µæ–‡ç« ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/971c10697fd14ea8aabbee99038c2a57~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767525607&amp;x-signature=5BDPmmDG7peKnBGrFcHVo%2BycZFA%3D" alt="" loading="lazy"/></p>
<p>è¿‡ç¨‹ä¸­ä¿æŒæ•°æ®å¹²å‡€ã€çº¯å‡€ä¸Šä¸‹æ–‡ã€å¢é‡å¼æ²Ÿé€šç­‰ä¸‰ä¸ªåŸåˆ™æ˜¯ä½¿æˆ‘ä»¬äº‹åŠåŠŸå€çš„åˆ©å™¨</p>
<h3 data-id="heading-6">å°ç»“</h3>
<p>æ­¤é˜¶æ®µTRAE ä¸ TRAE SOLO çš„å®åŠ›ç›¸æ¯”åˆç‰ˆå·²ç»å¤§å¤§å¢å¼ºäº†ï¼Œç¼ºç‚¹å°±æ˜¯å†…å­˜å æ®è¾ƒå¤§ã€Figmaè®¾è®¡å›¾è¿˜åŸåº¦ä»ç„¶èµ¶ä¸ä¸Š cursorï¼Œä¸è¿‡å·²ç»å¯ä»¥ä½œä¸ºä¸»åŠ›å¼€å‘å·¥å…·æ¥ç”¨äº†ã€‚</p>
<h2 data-id="heading-7">TRAE SOLO æ­£å¼ç‰ˆ</h2>
<p>11 æœˆ 12 æ—¥ TRAE SOLO æ­£å¼ç‰ˆä¸Šçº¿äº†ï¼Œæ–°å¢ä¸‰æ å¸ƒå±€ã€DiffView å·¥å…·ã€SOLO Coder + Planï¼Œæ”¯æŒå¤šä»»åŠ¡å¹¶è¡Œç­‰åŠŸèƒ½ã€‚éšååˆä¸Šçº¿äº† Gemini 3 Pro æ¨¡å‹ï¼Œå¯ä»¥ä½œä¸º Claude æ¨¡å‹çš„å¹³æ›¿äº†ã€‚</p>
<p>åœ¨è¿™æœŸé—´ï¼Œæˆ‘ä½¿ç”¨æ­£å¼ç‰ˆçš„ TRAE SOLO å®Œæˆäº†ã€Œåƒè€ä¹¡é¸¡é‚£æ ·åšé¥­ã€å°ç¨‹åºçš„å¼€æºã€æ‰‹åŠ¿ç²’å­äº¤äº’ç‰¹æ•ˆçš„åˆ¶ä½œã€ã€Œä¸€åªé¥ºå­çš„ä½¿å‘½ã€å°æ¸¸æˆçš„åˆ¶ä½œå’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fmy-uni.wot-ui.cn%2Fguide%2Frouter%2Fintroduction.html" target="_blank" title="https://my-uni.wot-ui.cn/guide/router/introduction.html" ref="nofollow noopener noreferrer">@wot-ui/router</a>çš„é‡æ„ã€‚</p>
<h3 data-id="heading-8">ã€Œåƒè€ä¹¡é¸¡é‚£æ ·åšé¥­ã€å°ç¨‹åºå¼€æº</h3>
<p>åœ¨<a href="https://juejin.cn/post/7576210031873409065#heading-12" target="_blank" title="https://juejin.cn/post/7576210031873409065#heading-12">ã€ŠTRAE SOLO æ­£å¼å‘å¸ƒäº†ï¼Ÿæˆ‘ç”¨å®ƒå°†åƒè€ä¹¡é¸¡é‚£æ ·åšé¥­å°ç¨‹åºå¼€æºäº†ï¼ã€‹</a>ä¸€æ–‡ä¸­ï¼Œä»‹ç»äº†æˆ‘ä»¬å‡ ä¹é›¶ä»£ç  ç”¨ TRAE SOLO å®Œæˆäº†ã€Œåƒè€ä¹¡é¸¡é‚£æ ·åšé¥­ã€å°ç¨‹åºçš„å¼€æºä¸ CI/CD æµç¨‹ã€‚</p>
<ul>
<li>å°ç¨‹åºï¼šã€Œé±¼å“¥èœè°±ã€</li>
<li>å¼€æºåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FMoonofweisheng%2FMyCookLikeHOC" target="_blank" title="https://github.com/Moonofweisheng/MyCookLikeHOC" ref="nofollow noopener noreferrer">github.com/Moonofweishâ€¦</a></li>
</ul>
<p>è¿™ç¯‡æ–‡ç« åˆ™è·å¾—äº† <a href="https://juejin.cn/post/7586167377382801434" target="_blank" title="https://juejin.cn/post/7586167377382801434">TRAE SOLO å®æˆ˜èµ›</a>çš„ç¬¬ä¸‰åã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6d72eb0caf214554892b448e080c7f21~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767525607&amp;x-signature=Wv8U2UBMEwz6LiBcMYR9k0B5h04%3D" alt="" loading="lazy"/></p>
<p>å¼€å‘è¿‡ç¨‹ä¸­è¿‡ç¨‹ä¸­ä¿æŒæ•°æ®å¹²å‡€ã€çº¯å‡€ä¸Šä¸‹æ–‡ã€å¢é‡å¼æ²Ÿé€šç­‰ä¸‰ä¸ªåŸåˆ™ä»ç„¶æ˜¯ä½¿æˆ‘ä»¬äº‹åŠåŠŸå€çš„åˆ©å™¨ï¼Œè¿™å…¶å®å’Œå½“ä¸‹å¾ˆæµè¡Œçš„ SDD è§„èŒƒç›¸ç¬¦ï¼Œåœ¨è¿™ç§å°å‹é¡¹ç›®ä¸­ï¼ŒåŸºäºä¸€ä¸ªä¼˜ç§€çš„é¡¹ç›®æ¨¡æ¿å’Œè‰¯å¥½çš„éœ€æ±‚è¾“å…¥å’Œå¼€å‘è®¡åˆ’ï¼Œç”±è§„èŒƒé©±åŠ¨å¼€å‘ï¼Œèƒ½è®©é¡¹ç›®åšçš„æ›´å¥½ã€èµ°å¾—æ›´è¿œã€‚</p>
<h3 data-id="heading-9">æ‰‹åŠ¿ç²’å­äº¤äº’ç‰¹æ•ˆçš„åˆ¶ä½œ</h3>
<p>åœ¨<a href="https://juejin.cn/post/7583991680749764635" target="_blank" title="https://juejin.cn/post/7583991680749764635">ã€ŠGemini 3åšç²’å­äº¤äº’ç‰¹æ•ˆå¾ˆå‡ºåœˆï¼Ÿæ‹¿ TRAE SOLO æ¥å®ç°ä¸€æ³¢ï¼ã€‹</a>ä¸€æ–‡ä¸­ï¼Œè½»æ¾å®ç°äº†ã€Šæ—©å®‰åˆå®‰æ™šå®‰ç²’å­äº¤äº’ç‰¹æ•ˆã€‹ï¼Œå¯ä»¥çœ‹å‡º TRAE SOLO æ­£å¼ç‰ˆå‘å¸ƒä¹‹åï¼ŒåŠŸèƒ½ä¸Šçš„å¢å¼ºè¿˜æ˜¯ä¸é”™çš„ï¼Œè¿˜æœ‰å¾ˆå¤šæˆ‘ä»¬æœ¬æ¬¡æ²¡ç”¨åˆ°çš„åŠŸèƒ½ä¾‹å¦‚ Plan æ¨¡å¼ç­‰ä¹Ÿå¾ˆæœ‰ç”¨ï¼Œæ¥å…¥äº† Gemini-3-Pro åå¤§æ¨¡å‹çš„çŸ­æ¿åŸºæœ¬è¡¥ä¸Šäº†ã€‚</p>
<h3 data-id="heading-10">ã€Œä¸€åªé¥ºå­çš„ä½¿å‘½ã€å°æ¸¸æˆ</h3>
<p>èµ·å› æ˜¯ TRAE ç¾¤é‡Œæœ‰ä¸ªå†¬è‡³ä¸»é¢˜æ´»åŠ¨ï¼Œæˆ‘å°±å‡†å¤‡å†™ä¸ªæ¸©é¦¨å°æ¸¸æˆå‚ä¸ï¼Œçµæ„Ÿæ¥è‡ªäºã€Šä¸€æ¡ç‹—çš„ä½¿å‘½ã€‹ã€‚æ¸¸æˆè®²è¿°äº†ä¸€ä¸ªæ‹ŸäººåŒ–çš„é¥ºå­åœ¨å†¬è‡³è¿™ä¸€å¤©ï¼Œå¸®åŠ©ä¸€ä½å› äº‹ä¸šå—æŒ«è€Œæ²®ä¸§çš„å¹´è½»äººé‡æ–°æŒ¯ä½œï¼Œæœ€ç»ˆä¸å®¶äººå›¢èšçš„æ¸©æš–æ•…äº‹ã€‚æˆ‘è®© TRAE SOLO æ•´ç†åˆ†é•œå’ŒAIç»˜å›¾æè¿°ï¼Œç„¶åç”¨å°é¦™è•‰ç”»å›¾ï¼ŒæŠŠå›¾ç‰‡æ”¾åˆ°é¡¹ç›®é‡Œï¼Œè®© TRAE SOLOå¼€å§‹å¼€å‘ã€‚è¿™ä¸ªå…¶å®æŒºæœ‰æ„æ€çš„ï¼Œå¯ä»¥è‡ªå·±å»åšè¿™ç§è§†è§‰å°è¯´å¼äº’åŠ¨æ¸¸æˆï¼Œè‡ªå·±å†™ä¸»çº¿å°±è¡Œäº†ã€‚</p>
<p>æ¸¸ç©åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fjiaozi.wot-ui.cn%2F" target="_blank" title="https://jiaozi.wot-ui.cn/" ref="nofollow noopener noreferrer">jiaozi.wot-ui.cn/</a></p>
<p><em><strong>å¯æƒœæ²¡æœ‰è·å¾—å†¬è‡³ä¸»é¢˜æ´»åŠ¨çš„å¥–å“ğŸ¶</strong></em></p>
<h3 data-id="heading-11">é‡æ„ @wot-ui/router</h3>
<p>ä½¿ç”¨ TRAE SOLO å°† uni-mini-router é‡æ„ï¼Œå¹¶è¿ç§»åˆ° @wot-ui/router äº†ï¼Œå®Œå–„äº†å¯¼èˆªå®ˆå«çš„åŠŸèƒ½å¹¶ä»rollupè¿ç§»åˆ°äº†tsdownã€‚åé¢è®¡åˆ’å°† uni-mini-ci ä¹ŸåŒæ ·é‡æ„å¹¶è¿ç§»åˆ° @wot-ui/ciã€‚</p>
<p>æ–‡æ¡£åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmy-uni.wot-ui.cn%2F" target="_blank" title="https://my-uni.wot-ui.cn/" ref="nofollow noopener noreferrer">my-uni.wot-ui.cn/</a></p>
<p>è¿™ä¸ªè¿‡ç¨‹ç”¨ TRAE SOLOï¼Œç”¨é‡æœ‰ç‚¹é¡¶ä¸ä½äº†å•Šï¼Œå¤§æµç¨‹ä½¿ç”¨ TRAE å›½é™…ç‰ˆå¼€å‘ï¼Œæ¨¡å‹ç”¨ Gemini-3-Proï¼Œå°ä¿®å°è¡¥ç”¨çš„å›½å†…ç‰ˆçš„GLM-4.7ã€‚æœ€åçš„é‡æ„çš„ç»“æœä¹Ÿè¿˜å¯ä»¥ï¼Œè¿˜æ·»åŠ äº†æµ‹è¯•ç”¨ä¾‹ï¼Œå¡«è¡¥äº†ä¹‹å‰çš„å¾ˆå¤šç¼ºæ¼ğŸ˜‚ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/048b773e452347ea86e0e5d7255df947~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767525607&amp;x-signature=jvM6oXPqPzW87csamEOE3owDW8w%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">å°ç»“</h3>
<p>TRAE SOLO æ­£å¼ç‰ˆå‘å¸ƒåï¼Œæˆ‘åœ¨å„ç§åœºæ™¯éƒ½æœ‰å°è¯•ï¼Œç¼–ç¨‹èƒ½åŠ›ç›¸è¾ƒä¹‹å‰è¦å¼ºäº†ä¸å°‘ï¼Œè€Œä¸”ä¹Ÿæœ‰ Gemini-3-Pro è¿™ç§å¼ºåŠ›æ¨¡å‹ï¼Œfigma è¿˜åŸçš„èƒ½åŠ›ä¹Ÿå¼ºäº†ä¸å°‘ã€‚</p>
<h2 data-id="heading-13">TRAE å¹´åº¦åˆ›ä½œä¹‹æ˜Ÿ</h2>
<p>12 æœˆ 27 å·ï¼Œè·å¾—äº† TRAE 2025 å¹´åº¦äº”å¤§ç”¨æˆ·å¥–â€”â€”å¹´åº¦åˆ›ä½œä¹‹æ˜Ÿï¼Œæ„Ÿè°¢ TRAEã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8819c6307add44d795f05aac400819d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiN5aaC5pG46bG85Y67:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767525607&amp;x-signature=is5lLndxZWxFYZRKfk9dQTP5z40%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-14">æ€»ç»“</h2>
<p>è™½ç„¶ AI Coding å–ä»£å‰ç«¯å¼€å‘çš„è®ºè°ƒå±‚å‡ºä¸ç©·ï¼Œå‡ºä¸€ä¸ªæ–°çš„å¤§æ¨¡å‹ï¼Œå‰ç«¯å°±ä¼šæ­»ä¸€æ¬¡ï¼Œä½†æ˜¯ç›®å‰ AI Coding ä»ç„¶æ²¡æœ‰æ›¿ä»£ä»»ä½•ä¸€ä¸ªèŒä¸šï¼Œâ€œAI è½åœ°çš„æœ€åä¸€å…¬é‡Œâ€ä»æœªè§£å†³ï¼Œäººåœ¨ AI Coding ä¸­ä»æ‰®æ¼”ç€å†³ç­–è€…å’ŒæŒ‡å¯¼è€…çš„è§’è‰²ã€‚å°½ç®¡å½“å‰ AI Coding çš„è„‰ç»œä»æœªæ¸…æ™°ï¼Œä½†æ˜¯ AI Coding æœªæ¥ç¡®å®æ— æ¯”å€¼å¾—æœŸå¾…ã€‚æ‰€ä»¥æˆ‘ä»¬è¦æ‹¥æŠ±å˜åŒ–ï¼Œæ‹¥æŠ±æœªæ¥ï¼Œæ‹¥æŠ± AI Codingã€‚</p>
<p>2026 AI åœ¨æˆ‘çš„å·¥ä½œã€ç”Ÿæ´»å’Œå­¦ä¹ ä¸­å·²ç»æ…¢æ…¢å˜å¾—ä¸å¯ç¼ºå°‘ï¼ŒTRAEåœ¨è¿™ä¸€å¹´ä¸­ä¹Ÿé€æ¸æˆä¸ºæˆ‘çš„ä¸»åŠ› AI ç¼–ç¨‹å·¥å…·ã€‚</p>
<p>2026 å¸Œæœ›ä½ ã€æˆ‘å’Œ AI ç¼–ç¨‹çš„æœªæ¥éƒ½åŒæ ·å……æ»¡å¸Œæœ›ã€‚</p>
<p><em><strong>æ¬¢è¿è¯„è®ºåŒºæ²Ÿé€šã€äº¤æµğŸ‘‡ğŸ‘‡</strong></em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[IndexedDB ä½¿ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7588109656042061870</link>    <guid>https://juejin.cn/post/7588109656042061870</guid>    <pubDate>2025-12-28T11:40:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588109656042061870" data-draft-id="7582533464245223458" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="IndexedDB ä½¿ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-28T11:40:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€è¯ºæ»šé›ªçƒ"/> <meta itemprop="url" content="https://juejin.cn/user/2824015112318094"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            IndexedDB ä½¿ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2824015112318094/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€è¯ºæ»šé›ªçƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T11:40:14.000Z" title="Sun Dec 28 2025 11:40:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä»‹ç»äº†<a href="https://juejin.cn/post/7585789195868733476" target="_blank" title="https://juejin.cn/post/7585789195868733476">å‰ç«¯è·¨é¡µé¢é€šè®¯ç»ˆææŒ‡å—â‘§ï¼šCookie ç”¨æ³•å…¨è§£æ</a>,ä¸‹ä¸€ç¯‡æ˜¯ä»‹ç»<code>å‰ç«¯è·¨é¡µé¢é€šè®¯ç»ˆææŒ‡å—â‘¨ï¼š# IndexedDB ç”¨æ³•å…¨è§£æ</code>,è€ƒè™‘åˆ°è¿™ç§æ–¹å¼å¹¶ä¸æ˜¯å¸¸ç”¨ï¼Œå…ˆä»‹ç»ä¸‹<code>IndexedDB</code>çš„ä½¿ç”¨æ–¹æ³•ï¼Œå†å¯¹è·¨é¡µé¢é€šä¿¡è¿›è¡Œæ€»ç»“ã€‚</p>
<p>ä¸‹é¢ä»‹ç»ä¸‹<code>IndexedDB</code>æ¦‚å¿µä»¥åŠå¸¸è§ç”¨æ³•ã€‚</p>
<h2 data-id="heading-1">1. åŸºæœ¬æ¦‚å¿µ</h2>
<p>IndexedDB æ˜¯ä¸€ç§åº•å±‚ APIï¼Œç”¨äºåœ¨å®¢æˆ·ç«¯å­˜å‚¨å¤§é‡çš„ç»“æ„åŒ–æ•°æ®ï¼ˆä¹ŸåŒ…æ‹¬æ–‡ä»¶/äºŒè¿›åˆ¶å¤§å‹å¯¹è±¡ï¼ˆblobsï¼‰ï¼‰ã€‚è™½ç„¶Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FWeb_Storage_API" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Storage_API" ref="nofollow noopener noreferrer">Web Storage</a>Â åœ¨å­˜å‚¨è¾ƒå°‘é‡çš„æ•°æ®å¾ˆæœ‰ç”¨ï¼Œä½†å¯¹äºå­˜å‚¨æ›´å¤§é‡çš„ç»“æ„åŒ–æ•°æ®æ¥è¯´åŠ›ä¸ä»å¿ƒã€‚è€Œ IndexedDB æä¾›äº†è¿™ç§åœºæ™¯çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>IndexedDBæ˜¯æµè§ˆå™¨æä¾›çš„ NoSQL æ•°æ®åº“ï¼Œç”¨äºåœ¨å®¢æˆ·ç«¯å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®ã€‚å®ƒæ”¯æŒäº‹åŠ¡ã€ç´¢å¼•æŸ¥è¯¢å’Œå¼‚æ­¥æ“ä½œï¼Œé€‚åˆç¦»çº¿åº”ç”¨ã€æ•°æ®ç¼“å­˜ç­‰åœºæ™¯ã€‚</p>
<h3 data-id="heading-2">æ•°æ®åº“å±‚çº§ç»“æ„</h3>
<pre><code class="hljs language-scss" lang="scss">Database (æ•°æ®åº“)
â”œâ”€â”€ <span class="hljs-selector-tag">Object</span> Store (å¯¹è±¡å­˜å‚¨ç©ºé—´)
â”‚   â”œâ”€â”€ Index (ç´¢å¼•)
â”‚   â””â”€â”€ Data Records (æ•°æ®è®°å½•)
â””â”€â”€ <span class="hljs-selector-tag">Object</span> Store (å¯¹è±¡å­˜å‚¨ç©ºé—´)
</code></pre>
<h3 data-id="heading-3">å…³é”®ç‰¹æ€§</h3>
<ul>
<li><strong>å¼‚æ­¥æ“ä½œ</strong>ï¼šæ‰€æœ‰æ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œä½¿ç”¨äº‹ä»¶æˆ–Promise</li>
<li><strong>äº‹åŠ¡æ”¯æŒ</strong>ï¼šåŸå­æ€§æ“ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸè¦ä¹ˆå…¨éƒ¨å›æ»š</li>
<li><strong>ç´¢å¼•æŸ¥è¯¢</strong>ï¼šæ”¯æŒåŸºäºç´¢å¼•çš„é«˜æ•ˆæŸ¥è¯¢</li>
<li><strong>å­˜å‚¨é™åˆ¶</strong>ï¼šé€šå¸¸é™åˆ¶ä¸ºå‡ ç™¾MBï¼ˆå–å†³äºæµè§ˆå™¨ï¼‰</li>
<li><strong>æŒä¹…åŒ–å­˜å‚¨</strong>ï¼šæ•°æ®åœ¨æµè§ˆå™¨å…³é—­åä»ç„¶ä¿ç•™</li>
</ul>
<h2 data-id="heading-4">2. æ ¸å¿ƒAPI</h2>
<h3 data-id="heading-5">2.1 æ‰“å¼€æ•°æ®åº“</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> request = indexedDB.<span class="hljs-title function_">open</span>(<span class="hljs-string">'dbName'</span>, version);
</code></pre>
<h3 data-id="heading-6">2.2 åˆ›å»º/å‡çº§æ•°æ®åº“</h3>
<pre><code class="hljs language-javascript" lang="javascript">request.<span class="hljs-property">onupgradeneeded</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> db = event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
  <span class="hljs-comment">// åˆ›å»ºæˆ–å‡çº§å­˜å‚¨ç©ºé—´</span>
};
</code></pre>
<h3 data-id="heading-7">2.3 äº‹åŠ¡æ“ä½œ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> transaction = db.<span class="hljs-title function_">transaction</span>(storeNames, mode);
<span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(storeName);
</code></pre>
<p>è¿™é‡Œçš„äº‹åŠ¡éœ€è¦ç‰¹åˆ«è¯´æ˜ä¸‹ã€‚ä¸ºä»€ä¹ˆè¦å¼•å…¥äº‹åŠ¡ï¼Ÿ</p>
<p>æˆ‘ä»¬ç”¨é“¶è¡Œè½¬è´¦çš„æ¡ˆä¾‹è¿›è¡Œè¯´æ˜ï¼š</p>
<p>å‡è®¾ä½ è¦ä» <strong>Aè´¦æˆ·</strong> è½¬è´¦ 100 å…ƒç»™ <strong>Bè´¦æˆ·</strong>ã€‚è¿™ä¸ªè¿‡ç¨‹åŒ…å«ä¸¤ä¸ªå¿…ä¸å¯å°‘çš„æ­¥éª¤ï¼š</p>
<ol>
<li>ä» A è´¦æˆ·æ‰£é™¤ 100 å…ƒã€‚</li>
<li>ç»™ B è´¦æˆ·å¢åŠ  100 å…ƒã€‚</li>
</ol>
<p><strong>å¦‚æœæ²¡æœ‰äº‹åŠ¡ï¼ˆä¸å®‰å…¨çš„æƒ…å†µï¼‰ï¼š</strong> å¦‚æœåœ¨æ­¥éª¤ 1 å®Œæˆåï¼Œçªç„¶åœç”µäº†æˆ–ç³»ç»Ÿå‡ºé”™äº†ï¼Œæ­¥éª¤ 2 æ²¡æ‰§è¡Œã€‚ç»“æœå°±æ˜¯ï¼šA çš„é’±å°‘äº†ï¼ŒB æ²¡æ”¶åˆ°é’±ï¼Œè¿™ 100 å…ƒå‡­ç©ºæ¶ˆå¤±äº†ã€‚</p>
<p><strong>æœ‰äº†äº‹åŠ¡ï¼ˆå®‰å…¨çš„æƒ…å†µï¼‰ï¼š</strong> å½“ä½ ç‚¹å‡»â€œç¡®è®¤è½¬è´¦â€æ—¶ï¼Œæ•°æ®åº“å¼€å¯äº†ä¸€ä¸ªâ€œäº‹åŠ¡â€ï¼š</p>
<ul>
<li><strong>åŸå­æ€§</strong>ï¼šæ•°æ®åº“å°†æ­¥éª¤ 1 å’Œæ­¥éª¤ 2 æ‰“åŒ…æˆä¸€ä¸ªæ•´ä½“ã€‚åªæœ‰å½“ä¸¤ä¸ªæ­¥éª¤<strong>éƒ½</strong>æˆåŠŸæ—¶ï¼Œä¿®æ”¹æ‰ä¼šç”Ÿæ•ˆï¼›åªè¦ä¸­é—´ä»»æ„ä¸€æ­¥å‡ºé”™ï¼Œæ•°æ®åº“ä¼šè‡ªåŠ¨â€œå›æ»šâ€ï¼Œè®©ä¸€åˆ‡å›åˆ°è½¬è´¦å‰çš„æ ·å­ï¼ˆA çš„é’±æ²¡å°‘ï¼ŒB çš„é’±æ²¡å¤šï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-8">å¯¹åº”åˆ° IndexedDB</h3>
<ul>
<li><strong>é“¶è¡Œ</strong> -&gt; æ•´ä¸ª IndexedDB æ•°æ®åº“ (<code>db</code>)</li>
<li><strong>Aè´¦æˆ·</strong> å’Œ <strong>Bè´¦æˆ·</strong> -&gt; ç›¸åŒçš„å¯¹è±¡å­˜å‚¨ (<code>accounts</code>)</li>
<li><strong>è½¬è´¦è¿™ä¸ªè¡Œä¸º</strong> -&gt; ä¸€ä¸ªäº‹åŠ¡ (<code>transaction</code>)</li>
</ul>
<p>ç°åœ¨æˆ‘ä»¬æ¥çœ‹ä»£ç å¦‚ä½•å®ç°è¿™ä¸ªé€»è¾‘ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// 1. å¼€å¯äº‹åŠ¡</span>
<span class="hljs-comment">// å‚æ•° ['accounts'] æŒ‡å®šäº†äº‹åŠ¡çš„ã€ä½œç”¨åŸŸã€‘ï¼šåªå…è®¸æ“ä½œ 'accounts' è¿™ä¸ªè¡¨</span>
<span class="hljs-comment">// å‚æ•° 'readwrite' æŒ‡å®šäº†ã€æ¨¡å¼ã€‘ï¼šå…è®¸ä¿®æ”¹æ•°æ®ï¼ˆè¯»å†™ï¼‰</span>
<span class="hljs-keyword">const</span> transaction = db.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'accounts'</span>], <span class="hljs-string">'readwrite'</span>);
<span class="hljs-comment">// 2. è·å–å¯¹è±¡ä»“åº“ï¼ˆè¡¨ï¼‰</span>
<span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'accounts'</span>);
<span class="hljs-comment">// --- ä»¥ä¸‹æ˜¯äº‹åŠ¡å†…çš„å…·ä½“æ“ä½œ ---</span>
<span class="hljs-comment">// æ“ä½œ Aï¼šæ›´æ–°è´¦æˆ· A çš„ä½™é¢ï¼ˆå‡è®¾åŸä¸º 1000ï¼Œç°æ”¹ä¸º 900ï¼‰</span>
store.<span class="hljs-title function_">put</span>({ <span class="hljs-attr">id</span>: <span class="hljs-string">'A'</span>, <span class="hljs-attr">balance</span>: <span class="hljs-number">900</span> });
<span class="hljs-comment">// æ“ä½œ Bï¼šæ›´æ–°è´¦æˆ· B çš„ä½™é¢ï¼ˆå‡è®¾åŸä¸º 1000ï¼Œç°æ”¹ä¸º 1100ï¼‰</span>
store.<span class="hljs-title function_">put</span>({ <span class="hljs-attr">id</span>: <span class="hljs-string">'B'</span>, <span class="hljs-attr">balance</span>: <span class="hljs-number">1100</span> });
<span class="hljs-comment">// --- ç›‘å¬äº‹åŠ¡ç»“æœ ---</span>
<span class="hljs-comment">// å¦‚æœä¸Šé¢æ‰€æœ‰æ“ä½œéƒ½æˆåŠŸ</span>
transaction.<span class="hljs-property">oncomplete</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è½¬è´¦æˆåŠŸï¼æ•°æ®å·²æ°¸ä¹…ä¿å­˜ã€‚"</span>);
};
<span class="hljs-comment">// å¦‚æœä¸­é—´ä»»ä½•ä¸€æ­¥æŠ¥é”™ï¼ˆæ¯”å¦‚è´¦æˆ· B ä¸å­˜åœ¨ï¼Œæˆ–è€…ç£ç›˜æ»¡äº†ï¼‰</span>
transaction.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è½¬è´¦å¤±è´¥ï¼åˆšæ‰çš„ä¿®æ”¹å…¨éƒ¨æ’¤é”€ï¼ŒA çš„ä½™é¢å˜å› 1000ã€‚"</span>);
};
</code></pre>
<p>é€šè¿‡è¿™ä¸ªä¾‹å­æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°<code>IndexedDB</code>äº‹åŠ¡çš„æ ¸å¿ƒä½œç”¨ï¼š</p>
<ul>
<li><strong>åŸå­æ€§</strong>ï¼šå°†å•ä¸ªæˆ–å¤šä¸ªç›¸å…³çš„æ•°æ®åº“æ“ä½œï¼ˆæ‰£æ¬¾ã€å­˜æ¬¾ï¼‰æ‰“åŒ…æˆä¸€ä¸ªä¸å¯åˆ†å‰²çš„æ•´ä½“ã€‚</li>
<li><strong>ä¸€è‡´æ€§</strong>ï¼šç¡®ä¿æ•°æ®åº“ä»ä¸€ä¸ªæ­£ç¡®çš„çŠ¶æ€ï¼ˆè½¬è´¦å‰ï¼‰è½¬æ¢åˆ°å¦ä¸€ä¸ªæ­£ç¡®çš„çŠ¶æ€ï¼ˆè½¬è´¦åï¼‰ã€‚å¦‚æœä¸­é€”å¤±è´¥ï¼Œåˆ™ä¼šå›åˆ°åˆå§‹çŠ¶æ€ï¼Œä¸ä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´ï¼ˆé’±å°‘äº†ï¼‰çš„ä¸­é—´çŠ¶æ€ã€‚</li>
</ul>
<h3 data-id="heading-9">2.4. å¸¸ç”¨æ“ä½œæ–¹æ³•</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ·»åŠ æ•°æ®</span>
store.<span class="hljs-title function_">add</span>(data);

<span class="hljs-comment">// æ›´æ–°æ•°æ®</span>
store.<span class="hljs-title function_">put</span>(data);

<span class="hljs-comment">// åˆ é™¤æ•°æ®</span>
store.<span class="hljs-title function_">delete</span>(key);

<span class="hljs-comment">// è·å–æ•°æ®</span>
store.<span class="hljs-title function_">get</span>(key);

<span class="hljs-comment">// è·å–æ‰€æœ‰æ•°æ®</span>
store.<span class="hljs-title function_">getAll</span>();

<span class="hljs-comment">// ä½¿ç”¨ç´¢å¼•æŸ¥è¯¢</span>
store.<span class="hljs-title function_">index</span>(<span class="hljs-string">'indexName'</span>).<span class="hljs-title function_">get</span>(value);
</code></pre>
<h2 data-id="heading-10">3. æ•°æ®åº“æ“ä½œ</h2>
<h3 data-id="heading-11">3.1 æ‰“å¼€æ•°æ®åº“</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">openDB</span> = (<span class="hljs-params">dbName, version</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> request = indexedDB.<span class="hljs-title function_">open</span>(dbName, version);

    request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);

    request.<span class="hljs-property">onupgradeneeded</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> db = event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
      <span class="hljs-comment">// æ•°æ®åº“å‡çº§é€»è¾‘</span>
    };
  });
};
</code></pre>
<h3 data-id="heading-12">3.2 å…³é—­æ•°æ®åº“</h3>
<pre><code class="hljs language-javascript" lang="javascript">db.<span class="hljs-title function_">close</span>();
</code></pre>
<h3 data-id="heading-13">3.3 åˆ é™¤æ•°æ®åº“</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">deleteDB</span> = (<span class="hljs-params">dbName</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> request = indexedDB.<span class="hljs-title function_">deleteDatabase</span>(dbName);

    request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-string">'æ•°æ®åº“åˆ é™¤æˆåŠŸ'</span>);
  });
};
</code></pre>
<h2 data-id="heading-14">4. äº‹åŠ¡å¤„ç†</h2>
<h3 data-id="heading-15">4.1 åˆ›å»ºäº‹åŠ¡</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> transaction = db.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'store1'</span>, <span class="hljs-string">'store2'</span>], <span class="hljs-string">'readwrite'</span>);
</code></pre>
<h3 data-id="heading-16">4.2 äº‹åŠ¡æ¨¡å¼</h3>
<ul>
<li><code>'readonly'</code>ï¼šåªè¯»äº‹åŠ¡</li>
<li><code>'readwrite'</code>ï¼šè¯»å†™äº‹åŠ¡</li>
<li><code>'versionchange'</code>ï¼šç‰ˆæœ¬å˜æ›´äº‹åŠ¡</li>
</ul>
<h3 data-id="heading-17">4.3 äº‹åŠ¡é”™è¯¯å¤„ç†</h3>
<pre><code class="hljs language-javascript" lang="javascript">transaction.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'äº‹åŠ¡é”™è¯¯:'</span>, event.<span class="hljs-property">target</span>.<span class="hljs-property">error</span>);
};

transaction.<span class="hljs-property">onabort</span> = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'äº‹åŠ¡å·²å›æ»š'</span>);
};

transaction.<span class="hljs-property">oncomplete</span> = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'äº‹åŠ¡å®Œæˆ'</span>);
};
</code></pre>
<h3 data-id="heading-18">4.4 æ‰‹åŠ¨å›æ»šäº‹åŠ¡</h3>
<pre><code class="hljs language-javascript" lang="javascript">transaction.<span class="hljs-title function_">abort</span>();
</code></pre>
<h2 data-id="heading-19">5. æ•°æ®å­˜å‚¨</h2>
<h3 data-id="heading-20">5.1 åˆ›å»ºå¯¹è±¡å­˜å‚¨ç©ºé—´</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> store = db.<span class="hljs-title function_">createObjectStore</span>(<span class="hljs-string">'users'</span>, {
  <span class="hljs-attr">keyPath</span>: <span class="hljs-string">'id'</span>, <span class="hljs-comment">// ä½¿ç”¨æ•°æ®ä¸­çš„idå­—æ®µä½œä¸ºä¸»é”®</span>
  <span class="hljs-attr">autoIncrement</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// è‡ªåŠ¨ç”Ÿæˆä¸»é”®</span>
});
</code></pre>
<h3 data-id="heading-21">5.2 æ·»åŠ æ•°æ®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">addData</span> = (<span class="hljs-params">store, data</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">add</span>(data);

    request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
    request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
  });
};
</code></pre>
<h3 data-id="heading-22">5.3 æ›´æ–°æ•°æ®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">updateData</span> = (<span class="hljs-params">store, data</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">put</span>(data);

    request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
    request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
  });
};
</code></pre>
<h3 data-id="heading-23">5.4 åˆ é™¤æ•°æ®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">deleteData</span> = (<span class="hljs-params">store, key</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">delete</span>(key);

    request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>();
    request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
  });
};
</code></pre>
<h2 data-id="heading-24">6. æŸ¥è¯¢æ“ä½œ</h2>
<h3 data-id="heading-25">6.1 è·å–å•ä¸ªæ•°æ®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getData</span> = (<span class="hljs-params">store, key</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">get</span>(key);

    request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
    request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
  });
};
</code></pre>
<h3 data-id="heading-26">6.2 è·å–æ‰€æœ‰æ•°æ®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getAllData</span> = (<span class="hljs-params">store</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">getAll</span>();

    request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
    request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
  });
};
</code></pre>
<h3 data-id="heading-27">6.3 èŒƒå›´æŸ¥è¯¢</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">rangeQuery</span> = (<span class="hljs-params">store, range</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">openCursor</span>(range);

    <span class="hljs-keyword">const</span> results = [];
    request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> cursor = event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
      <span class="hljs-keyword">if</span> (cursor) {
        results.<span class="hljs-title function_">push</span>(cursor.<span class="hljs-property">value</span>);
        cursor.<span class="hljs-title function_">continue</span>();
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">resolve</span>(results);
      }
    };

    request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
  });
};
</code></pre>
<h2 data-id="heading-28">7. ç´¢å¼•ä½¿ç”¨</h2>
<h3 data-id="heading-29">7.1 åˆ›å»ºç´¢å¼•</h3>
<pre><code class="hljs language-javascript" lang="javascript">store.<span class="hljs-title function_">createIndex</span>(<span class="hljs-string">'nameIndex'</span>, <span class="hljs-string">'name'</span>, { <span class="hljs-attr">unique</span>: <span class="hljs-literal">false</span> });
store.<span class="hljs-title function_">createIndex</span>(<span class="hljs-string">'emailIndex'</span>, <span class="hljs-string">'email'</span>, { <span class="hljs-attr">unique</span>: <span class="hljs-literal">true</span> });
</code></pre>
<h3 data-id="heading-30">7.2 ä½¿ç”¨ç´¢å¼•æŸ¥è¯¢</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">queryByIndex</span> = (<span class="hljs-params">store, indexName, value</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> index = store.<span class="hljs-title function_">index</span>(indexName);
    <span class="hljs-keyword">const</span> request = index.<span class="hljs-title function_">get</span>(value);

    request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
    request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
  });
};
</code></pre>
<h3 data-id="heading-31">7.3 èŒƒå›´ç´¢å¼•æŸ¥è¯¢</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">rangeQueryByIndex</span> = (<span class="hljs-params">store, indexName, range</span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> index = store.<span class="hljs-title function_">index</span>(indexName);
    <span class="hljs-keyword">const</span> request = index.<span class="hljs-title function_">openCursor</span>(range);

    <span class="hljs-keyword">const</span> results = [];
    request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> cursor = event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
      <span class="hljs-keyword">if</span> (cursor) {
        results.<span class="hljs-title function_">push</span>(cursor.<span class="hljs-property">value</span>);
        cursor.<span class="hljs-title function_">continue</span>();
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-title function_">resolve</span>(results);
      }
    };

    request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
  });
};
</code></pre>
<h2 data-id="heading-32">8. å®Œæ•´ç¤ºä¾‹</h2>
<h3 data-id="heading-33">ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">dbName = <span class="hljs-string">'UserDB'</span>, version = <span class="hljs-number">1</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dbName</span> = dbName;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">version</span> = version;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span> = <span class="hljs-literal">null</span>;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span> = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">openDB</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">openDB</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = indexedDB.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dbName</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">version</span>);

      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);

      request.<span class="hljs-property">onupgradeneeded</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> db = event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;

        <span class="hljs-keyword">if</span> (!db.<span class="hljs-property">objectStoreNames</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">'users'</span>)) {
          <span class="hljs-keyword">const</span> store = db.<span class="hljs-title function_">createObjectStore</span>(<span class="hljs-string">'users'</span>, { <span class="hljs-attr">keyPath</span>: <span class="hljs-string">'id'</span> });
          store.<span class="hljs-title function_">createIndex</span>(<span class="hljs-string">'name'</span>, <span class="hljs-string">'name'</span>, { <span class="hljs-attr">unique</span>: <span class="hljs-literal">false</span> });
          store.<span class="hljs-title function_">createIndex</span>(<span class="hljs-string">'email'</span>, <span class="hljs-string">'email'</span>, { <span class="hljs-attr">unique</span>: <span class="hljs-literal">true</span> });
          store.<span class="hljs-title function_">createIndex</span>(<span class="hljs-string">'createdAt'</span>, <span class="hljs-string">'createdAt'</span>, { <span class="hljs-attr">unique</span>: <span class="hljs-literal">false</span> });
        }
      };
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">addUser</span>(<span class="hljs-params">user</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'users'</span>], <span class="hljs-string">'readwrite'</span>);
      <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'users'</span>);

      user.<span class="hljs-property">createdAt</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>();

      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">add</span>(user);

      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getUserById</span>(<span class="hljs-params">id</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'users'</span>], <span class="hljs-string">'readonly'</span>);
      <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'users'</span>);
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">get</span>(id);

      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getUserByEmail</span>(<span class="hljs-params">email</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'users'</span>], <span class="hljs-string">'readonly'</span>);
      <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'users'</span>);
      <span class="hljs-keyword">const</span> index = store.<span class="hljs-title function_">index</span>(<span class="hljs-string">'email'</span>);
      <span class="hljs-keyword">const</span> request = index.<span class="hljs-title function_">get</span>(email);

      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">updateUser</span>(<span class="hljs-params">id, updates</span>) {
    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getUserById</span>(id);
    <span class="hljs-keyword">if</span> (!user) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'ç”¨æˆ·ä¸å­˜åœ¨'</span>);

    <span class="hljs-keyword">const</span> updatedUser = { ...user, ...updates };
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">putUser</span>(updatedUser);
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">putUser</span>(<span class="hljs-params">user</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'users'</span>], <span class="hljs-string">'readwrite'</span>);
      <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'users'</span>);
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">put</span>(user);

      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">deleteUser</span>(<span class="hljs-params">id</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'users'</span>], <span class="hljs-string">'readwrite'</span>);
      <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'users'</span>);
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">delete</span>(id);

      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>();
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getAllUsers</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'users'</span>], <span class="hljs-string">'readonly'</span>);
      <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'users'</span>);
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">getAll</span>();

      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }

  <span class="hljs-keyword">async</span> <span class="hljs-title function_">searchUsers</span>(<span class="hljs-params">query</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([<span class="hljs-string">'users'</span>], <span class="hljs-string">'readonly'</span>);
      <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(<span class="hljs-string">'users'</span>);
      <span class="hljs-keyword">const</span> index = store.<span class="hljs-title function_">index</span>(<span class="hljs-string">'name'</span>);

      <span class="hljs-keyword">const</span> range = <span class="hljs-title class_">IDBKeyRange</span>.<span class="hljs-title function_">bound</span>(query, query + <span class="hljs-string">'\uffff'</span>);
      <span class="hljs-keyword">const</span> request = index.<span class="hljs-title function_">openCursor</span>(range);

      <span class="hljs-keyword">const</span> results = [];
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> cursor = event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
        <span class="hljs-keyword">if</span> (cursor) {
          results.<span class="hljs-title function_">push</span>(cursor.<span class="hljs-property">value</span>);
          cursor.<span class="hljs-title function_">continue</span>();
        } <span class="hljs-keyword">else</span> {
          <span class="hljs-title function_">resolve</span>(results);
        }
      };

      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">demo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> userManager = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserManager</span>();
  <span class="hljs-keyword">await</span> userManager.<span class="hljs-title function_">init</span>();

  <span class="hljs-comment">// æ·»åŠ ç”¨æˆ·</span>
  <span class="hljs-keyword">await</span> userManager.<span class="hljs-title function_">addUser</span>({
    <span class="hljs-attr">id</span>: <span class="hljs-string">'user1'</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">'zhangsan@example.com'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>
  });

  <span class="hljs-comment">// è·å–ç”¨æˆ·</span>
  <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> userManager.<span class="hljs-title function_">getUserById</span>(<span class="hljs-string">'user1'</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è·å–ç”¨æˆ·:'</span>, user);

  <span class="hljs-comment">// æ›´æ–°ç”¨æˆ·</span>
  <span class="hljs-keyword">await</span> userManager.<span class="hljs-title function_">updateUser</span>(<span class="hljs-string">'user1'</span>, { <span class="hljs-attr">age</span>: <span class="hljs-number">26</span> });

  <span class="hljs-comment">// æœç´¢ç”¨æˆ·</span>
  <span class="hljs-keyword">const</span> users = <span class="hljs-keyword">await</span> userManager.<span class="hljs-title function_">searchUsers</span>(<span class="hljs-string">'å¼ '</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æœç´¢ç»“æœ:'</span>, users);

  <span class="hljs-comment">// åˆ é™¤ç”¨æˆ·</span>
  <span class="hljs-keyword">await</span> userManager.<span class="hljs-title function_">deleteUser</span>(<span class="hljs-string">'user1'</span>);
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c499ffd98a4944cf9445c93fa5e6e130~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA6K-65rua6Zuq55CD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767526813&amp;x-signature=PQhogA7NERTGA%2FqXApG4yvVrMKk%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-34">æ€»ç»“</h2>
<p>æœ€åæ€»ç»“ä¸€ä¸‹ï¼š<code>IndexedDB</code>æ˜¯å‰ç«¯çš„æ•°æ®åº“ï¼Œ<strong>é€šå¸¸åœ¨ Web Storage æ— æ³•æ»¡è¶³å®¹é‡è¦æ±‚çš„åœºæ™¯ä¸‹æ‰ä½¿ç”¨</strong>ï¼Œå®ƒèƒ½å¤Ÿå­˜å‚¨å¤§é‡æ•°æ®ï¼Œä¸€èˆ¬ä¸è½»æ˜“ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯å­¦ä¹ AIã€‘LangChain é“¾å¼è°ƒç”¨]]></title>    <link>https://juejin.cn/post/7588092534163111936</link>    <guid>https://juejin.cn/post/7588092534163111936</guid>    <pubDate>2025-12-28T11:54:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588092534163111936" data-draft-id="7588124225702772776" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯å­¦ä¹ AIã€‘LangChain é“¾å¼è°ƒç”¨"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-28T11:54:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æ³¥ç§è·èŠ±"/> <meta itemprop="url" content="https://juejin.cn/user/4212984289442030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯å­¦ä¹ AIã€‘LangChain é“¾å¼è°ƒç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984289442030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æ³¥ç§è·èŠ±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T11:54:09.000Z" title="Sun Dec 28 2025 11:54:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å®šä¹‰</h2>
<p>LangChainé“¾å¼è°ƒç”¨æ ¸å¿ƒæ˜¯åˆ©ç”¨ <code>|</code> è¿ç®—ç¬¦ï¼Œä¸²è” <code>PromptTemplate</code>ã€<code>ChatOpenAI</code>ã€<code>JsonOutputParser</code> ç­‰åŠŸèƒ½ç»„ä»¶ï¼Œå½¢æˆæœ‰åºæ‰§è¡Œæµæ°´çº¿ï¼Œç”Ÿæˆå…¨æ–°å¯è°ƒç”¨å¯¹è±¡ã€‚é€šè¿‡ç»Ÿä¸€è°ƒç”¨å®Œæˆç«¯åˆ°ç«¯ä»»åŠ¡ï¼Œæ— éœ€æ‰‹åŠ¨é€ç»„ä»¶ä¼ é€’å‚æ•°ï¼Œå®ç°æµç¨‹è‡ªåŠ¨åŒ–ã€‚</p>
<h2 data-id="heading-1">ç¤ºä¾‹</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> PromptTemplate
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> JsonOutputParser
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field

<span class="hljs-comment"># æ¨¡å‹åç§°ï¼Œä¿®æ­£ç©ºæ ¼é¿å…è¯†åˆ«é”™è¯¯</span>
model_name = <span class="hljs-string">"qwen-plus"</span> 
<span class="hljs-comment"># æ¨¡å‹åŸºç¡€åœ°å€ï¼Œä¿®æ­£ç©ºæ ¼ç¡®ä¿é“¾æ¥æœ‰æ•ˆæ€§</span>
base_url = <span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span> 
<span class="hljs-comment"># æ›¿æ¢ä¸ºä¸ªäººæœ‰æ•ˆAPI Keyï¼ŒåŸç¬”è®°ä¸­çš„æ•æ„Ÿä¿¡æ¯å·²æ›¿æ¢ä¸ºå ä½ç¬¦å¹¶æç¤ºæ›¿æ¢</span>
api_key = <span class="hljs-string">"[API Key]"</span> 

<span class="hljs-comment"># å¤§æ¨¡å‹åˆå§‹åŒ–ï¼ˆå‚æ•°é…ç½®è§ä¸“é¡¹ç¬”è®°ï¼‰</span>
llm = ChatOpenAI(
    model_name=model_name,
    base_url=base_url,
    api_key=api_key
)

<span class="hljs-comment"># æç¤ºæ¨¡æ¿åˆå§‹åŒ–ï¼ˆç»†èŠ‚è§ä¸“é¡¹ç¬”è®°ï¼‰</span>
prompt_template = PromptTemplate.from_template(
    <span class="hljs-string">"""é—®é¢˜å†…å®¹ï¼šè®¡ç®—{num1}å’Œ{num2}çš„å’Œã€‚è¾“å‡ºæ ¼å¼ï¼š{format_instructions}"""</span>
)

<span class="hljs-comment"># è¾“å‡ºè§£æå™¨ç›¸å…³ï¼ˆç»†èŠ‚è§ä¸“é¡¹ç¬”è®°ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Result</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    <span class="hljs-comment"># ä¸¤ä¸ªæ•°çš„å’Œï¼ˆæ•´æ•°ç±»å‹ï¼‰</span>
    <span class="hljs-built_in">sum</span>: <span class="hljs-built_in">int</span> 
    <span class="hljs-comment"># è®¡ç®—è¿‡ç¨‹æè¿°ï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰</span>
    description: <span class="hljs-built_in">str</span> 

    _ = (
        <span class="hljs-built_in">sum</span>.set_config(description=<span class="hljs-string">"ä¸¤ä¸ªæ•°çš„å’Œ"</span>),
        description.set_config(description=<span class="hljs-string">"è®¡ç®—æè¿°"</span>)
    )

<span class="hljs-comment"># åˆå§‹åŒ–JSONè¾“å‡ºè§£æå™¨ï¼Œå…³è”Resultæ¨¡å‹</span>
json_output_parser = JsonOutputParser(pydantic_object=Result)
<span class="hljs-comment"># é¢„å¡«å……æ ¼å¼è¯´æ˜ï¼Œé¿å…é‡å¤ä¼ å‚</span>
prompt_template = prompt_template.partial(
    format_instructions=json_output_parser.get_format_instructions()
)

<span class="hljs-comment"># æ„å»ºé“¾å¼è°ƒç”¨ï¼šæç¤ºæ¨¡æ¿â†’å¤§æ¨¡å‹â†’è¾“å‡ºè§£æå™¨</span>
chain = prompt_template | llm | json_output_parser

<span class="hljs-comment"># invokeæ–¹æ³•ï¼šåŒæ­¥è°ƒç”¨ï¼Œç›´æ¥è·å–å®Œæ•´ç»“æœï¼ˆé€‚ç”¨äºéœ€å®Œæ•´ç»“æœåœºæ™¯ï¼‰</span>
result = chain.invoke(<span class="hljs-built_in">input</span>={<span class="hljs-string">"num1"</span>: <span class="hljs-number">10</span>, <span class="hljs-string">"num2"</span>: <span class="hljs-number">20</span>})
<span class="hljs-comment"># æ‰“å°æœ€ç»ˆç»“æ„åŒ–ç»“æœ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"invokeæ–¹æ³•ç»“æœï¼š"</span>, result)
</code></pre>
<h3 data-id="heading-2">æ‰§è¡Œç°è±¡</h3>
<p>ç»“åˆç¤ºä¾‹å¯è§ï¼ŒLangChainé“¾å¼è°ƒç”¨çš„æ ¸å¿ƒç°è±¡æ˜¯ï¼šé€šè¿‡ <code>|</code> è¿ç®—ç¬¦å¯ç›´æ¥å…³è”å¤šä¸ªLangChainæ ¸å¿ƒå¯¹è±¡ï¼ˆç¤ºä¾‹ä¸­ä¸º <code>prompt_template</code>ã€<code>llm</code>ã€<code>json_output_parser</code>ï¼‰ï¼Œå¿«é€Ÿç”Ÿæˆå…·å¤‡è‡ªåŠ¨åŒ–æµæ°´çº¿èƒ½åŠ›çš„å…¨æ–°é“¾å¼å¯¹è±¡ï¼ˆç¤ºä¾‹ä¸­çš„ <code>chain</code>ï¼‰ã€‚</p>
<p>è¯¥é“¾å¼å¯¹è±¡ä»…éœ€è°ƒç”¨ <code>invoke</code> æ–¹æ³•å¹¶ä¼ å…¥åˆå§‹å‚æ•°ï¼ˆç¤ºä¾‹ä¸­ä¸º <code>num1 = 10</code>ã€<code>num2 = 20</code>ï¼‰ï¼Œæ— éœ€æ‰‹åŠ¨å¹²é¢„ä¸­é—´æµç¨‹ï¼Œå†…éƒ¨ä¼šæŒ‰ç»„ä»¶ä¸²è”é¡ºåºè‡ªåŠ¨è§¦å‘å¯¹åº”æ–¹æ³•ï¼Œå®ç°æ•°æ®æ¥åŠ›å¤„ç†å¹¶è¿”å›æœ€ç»ˆç»“æœã€‚</p>
<p>è¡¥å……è¯´æ˜ï¼šé™¤ç¤ºä¾‹ä¸­ä½¿ç”¨çš„ <code>invoke</code> åŒæ­¥è°ƒç”¨å¤–ï¼Œé“¾å¼å¯¹è±¡è¿˜æ”¯æŒ <code>stream</code> æµå¼è°ƒç”¨ï¼ˆç¤ºä¾‹æœªæ¶‰åŠï¼‰ï¼Œå¯é€å—è·å–ç»“æœï¼Œé€‚åˆéœ€è¦å®æ—¶å±•ç¤ºå“åº”çš„åœºæ™¯ã€‚</p>
<h3 data-id="heading-3">æ„å»ºé€»è¾‘</h3>
<p>ç¤ºä¾‹çš„æ„å»ºé€»è¾‘éµå¾ªã€Œæ•°æ®æµè½¬æ–¹å‘ã€ï¼šæŒ‰ â€œæç¤ºæ¨¡æ¿â†’å¤§æ¨¡å‹â†’è¾“å‡ºè§£æå™¨â€ çš„é¡ºåºï¼Œç”¨ <code>|</code> ä¸²è”ç»„ä»¶ã€‚æ ¸å¿ƒè§„åˆ™æ˜¯å‰ä¸€ç»„ä»¶çš„è¾“å‡ºå¿…é¡»èƒ½ä½œä¸ºåä¸€ç»„ä»¶çš„è¾“å…¥ï¼Œç¤ºä¾‹ä¸­ï¼š</p>
<ul>
<li><strong>æç¤ºæ¨¡æ¿ï¼ˆ<code>prompt_template</code>ï¼‰</strong>ï¼šæ¥æ”¶åˆå§‹å‚æ•°ï¼Œç”ŸæˆåŒ…å«è®¡ç®—éœ€æ±‚å’Œæ ¼å¼è¦æ±‚çš„æç¤ºè¯ã€‚</li>
<li><strong>å¤§æ¨¡å‹ï¼ˆ<code>llm</code>ï¼‰</strong>ï¼šæ¥æ”¶æç¤ºè¯ï¼Œç”Ÿæˆç¬¦åˆè¦æ±‚çš„å“åº”å†…å®¹ã€‚</li>
<li><strong>è¾“å‡ºè§£æå™¨ï¼ˆ<code>json_output_parser</code>ï¼‰</strong>ï¼šæ¥æ”¶å“åº”å†…å®¹ï¼Œè½¬æ¢ä¸ºç»“æ„åŒ–æ•°æ®ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç¤ºä¾‹æ„å»ºæ ¸å¿ƒä»£ç ï¼ˆæŒ‰æ•°æ®æµè½¬é¡ºåºä¸²è”ï¼‰</span>
chain = prompt_template | llm | json_output_parser
</code></pre>
<h3 data-id="heading-4">æ‰§è¡Œæµç¨‹</h3>
<p>ç¤ºä¾‹ä¸­é‡‡ç”¨ <code>invoke</code> åŒæ­¥æ‰§è¡Œæ–¹å¼ï¼Œæµç¨‹ç®€æ´ä¸”è‡ªåŠ¨åŒ–ï¼Œå…·ä½“æ­¥éª¤ï¼š</p>
<ol>
<li>è°ƒç”¨é“¾å¼å¯¹è±¡çš„ <code>invoke</code> æ–¹æ³•ï¼Œä¼ å…¥åˆå§‹å‚æ•°ï¼ˆç¤ºä¾‹ä¸­ä¸º <code>{"num1": 10, "num2": 20}</code>ï¼‰ã€‚</li>
<li>å†…éƒ¨è‡ªåŠ¨æ‰§è¡Œï¼šåˆå§‹å‚æ•°å…ˆä¼ å…¥æç¤ºæ¨¡æ¿ç”Ÿæˆæç¤ºè¯ï¼Œæç¤ºè¯ä¼ å…¥å¤§æ¨¡å‹ç”Ÿæˆå“åº”ï¼Œå“åº”ä¼ å…¥è§£æå™¨è½¬æ¢ä¸ºç»“æ„åŒ–æ•°æ®ã€‚</li>
<li>æ‰§è¡Œå®Œæˆåï¼Œç›´æ¥è¿”å›æœ€ç»ˆçš„ç»“æ„åŒ–ç»“æœï¼Œé€šè¿‡ <code>print</code> è¯­å¥å³å¯æŸ¥çœ‹ã€‚</li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç¤ºä¾‹æ‰§è¡Œæ ¸å¿ƒä»£ç ï¼ˆinvokeåŒæ­¥è°ƒç”¨ï¼‰</span>
result = chain.invoke(<span class="hljs-built_in">input</span>={<span class="hljs-string">"num1"</span>: <span class="hljs-number">10</span>, <span class="hljs-string">"num2"</span>: <span class="hljs-number">20</span>})
<span class="hljs-built_in">print</span>(<span class="hljs-string">"invokeæ–¹æ³•ç»“æœï¼š"</span>, result)
</code></pre>
<p>è¡¥å……è¯´æ˜ï¼ˆæµå¼è°ƒç”¨ï¼‰ï¼šè‹¥éœ€ä½¿ç”¨æµå¼è°ƒç”¨ï¼Œå¯å°† <code>invoke</code> æ›¿æ¢ä¸º <code>stream</code>ï¼Œç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼ˆéåŸç¤ºä¾‹å†…å®¹ï¼Œä»…ä½œæ‰©å±•ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æµå¼è°ƒç”¨ç¤ºä¾‹ï¼ˆæ‰©å±•ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"streamæ–¹æ³•ç»“æœï¼š"</span>)
<span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> chain.stream(<span class="hljs-built_in">input</span>={<span class="hljs-string">"num1"</span>: <span class="hljs-number">10</span>, <span class="hljs-string">"num2"</span>: <span class="hljs-number">20</span>}):
    <span class="hljs-comment"># è¿‡æ»¤ç©ºç‰‡æ®µï¼Œç¡®ä¿è¾“å‡ºæ•´æ´</span>
    <span class="hljs-keyword">if</span> chunk:
        <span class="hljs-built_in">print</span>(chunk)
</code></pre>
<h2 data-id="heading-5">åŸç†</h2>
<ul>
<li><strong>ä¸²è”ä¸æ‰§è¡Œé€»è¾‘</strong>ï¼š<code>|</code> è¿ç®—ç¬¦å°†å®ç° <code>Runnable</code> æ¥å£çš„ç»„ä»¶ä¸²è”ä¸ºæµæ°´çº¿ã€‚è°ƒç”¨ <code>invoke</code> æˆ– <code>stream</code> æ—¶ï¼Œåˆå§‹å‚æ•°ä»…éœ€ä¼ å…¥ç¬¬ä¸€ä¸ªç»„ä»¶ï¼Œåç»­ç»„ä»¶é€šè¿‡å†…éƒ¨è‡ªåŠ¨æ¥åŠ›å®Œæˆæ‰§è¡Œï¼Œæœ€ç»ˆè¿”å›å¯¹åº”ç»“æœã€‚</li>
<li><strong>ä¸²è”é¡ºåºè§„åˆ™</strong>ï¼šå¿…é¡»éµå¾ªã€Œæ•°æ®è¾“å…¥â†’å¤„ç†ç»„ä»¶â†’è¾“å‡ºç»„ä»¶ã€çš„é€»è¾‘ï¼ˆå¦‚ç¤ºä¾‹ä¸­ã€Œæç¤ºæ¨¡æ¿â†’å¤§æ¨¡å‹â†’è§£æå™¨ã€ï¼‰ï¼Œé¡ºåºé”™è¯¯ä¼šå¯¼è‡´æ•°æ®æ ¼å¼ä¸åŒ¹é…ï¼Œè¿›è€Œä¸­æ–­æ‰§è¡Œæµç¨‹ã€‚</li>
<li><strong>è°ƒç”¨æ–¹æ³•è¦ç‚¹</strong>ï¼š<code>invoke</code> å’Œ <code>stream</code> å‡åªéœ€ä¼ å…¥ç¬¬ä¸€ä¸ªç»„ä»¶æ‰€éœ€çš„åˆå§‹å‚æ•°ï¼Œä¸­é—´å‚æ•°ç”±é“¾å¼å†…éƒ¨è‡ªåŠ¨ä¼ é€’ï¼›å‰è€…é€‚åˆéœ€è¦å®Œæ•´ç»“æœçš„åœºæ™¯ï¼Œåè€…é€‚åˆéœ€å®æ—¶å±•ç¤ºç»“æœçš„åœºæ™¯ã€‚</li>
<li><strong>ç»„ä»¶å…¼å®¹æ€§è¦æ±‚</strong>ï¼šå¯é€šè¿‡ <code>|</code> ä¸²è”çš„ç»„ä»¶éœ€å®ç° LangChain çš„ <code>Runnable</code> æ¥å£ï¼Œæ ¸å¿ƒç»„ä»¶é»˜è®¤å·²å®ç°ï¼Œå¯ç›´æ¥ä¸²è”ã€‚</li>
</ul>
<h2 data-id="heading-6">å¸¸è§é—®é¢˜</h2>
<ul>
<li><strong>ç»„ä»¶ä¸å…¼å®¹æŠ¥é”™</strong>ï¼šè‹¥è‡ªå®šä¹‰ç»„ä»¶æ— æ³•ä¸²è”ï¼Œæˆ–è°ƒç”¨ <code>invoke/stream</code> æ—¶æŠ¥é”™ï¼Œéœ€ä¼˜å…ˆæ£€æŸ¥ç»„ä»¶æ˜¯å¦å®ç° <code>Runnable</code> æ¥å£åŠå¯¹åº”çš„è°ƒç”¨æ–¹æ³•ã€‚</li>
<li><strong>æ‰§è¡Œæµç¨‹ä¸­æ–­</strong>ï¼šå¤šæ•°å› ç»„ä»¶é¡ºåºé”™è¯¯ï¼Œæˆ–å‰åºç»„ä»¶è¾“å‡ºæ ¼å¼ä¸ååºç»„ä»¶è¾“å…¥è¦æ±‚ä¸åŒ¹é…ï¼Œéœ€æ ¸å¯¹ä¸²è”é¡ºåºå¹¶æ ¡éªŒç»„ä»¶é—´æ•°æ®æ ¼å¼ã€‚</li>
<li><strong>å‚æ•°ä¼ é€’å¤±è´¥</strong>ï¼šæ£€æŸ¥ä¼ å…¥çš„åˆå§‹å‚æ•°æ˜¯å¦ç¬¦åˆç¬¬ä¸€ä¸ªç»„ä»¶çš„æ ¼å¼è¦æ±‚ï¼Œé¿å…é—æ¼å¿…å¡«å‚æ•°æˆ–å‚æ•°ç±»å‹é”™è¯¯ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬7è®²ï¼šç´¢å¼•ï¼ˆä¸‹ï¼‰â€”â€”å¤±æ•ˆåœºæ™¯ä¸ä¼˜åŒ–å®æˆ˜]]></title>    <link>https://juejin.cn/post/7588098335791136768</link>    <guid>https://juejin.cn/post/7588098335791136768</guid>    <pubDate>2025-12-28T07:40:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588098335791136768" data-draft-id="7588095884070567936" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬7è®²ï¼šç´¢å¼•ï¼ˆä¸‹ï¼‰â€”â€”å¤±æ•ˆåœºæ™¯ä¸ä¼˜åŒ–å®æˆ˜"/> <meta itemprop="keywords" content="åç«¯,MySQL"/> <meta itemprop="datePublished" content="2025-12-28T07:40:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éª‘ç€bugçš„coder"/> <meta itemprop="url" content="https://juejin.cn/user/1922418579089566"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬7è®²ï¼šç´¢å¼•ï¼ˆä¸‹ï¼‰â€”â€”å¤±æ•ˆåœºæ™¯ä¸ä¼˜åŒ–å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1922418579089566/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éª‘ç€bugçš„coder
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T07:40:28.000Z" title="Sun Dec 28 2025 07:40:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>ç›®æ ‡ï¼š</strong> è¯†åˆ«ç´¢å¼•å¤±æ•ˆåœºæ™¯ï¼ŒæŒæ¡æ…¢æŸ¥è¯¢ä¼˜åŒ–æ–¹æ³•</p>
</blockquote>
<h2 data-id="heading-0">å¼€ç¯‡ï¼šç´¢å¼•åŠ äº†ï¼Œä¸ºä»€ä¹ˆè¿˜æ˜¯æ…¢ï¼Ÿ</h2>
<p>ä¸Šä¸€è®²å­¦å®Œï¼Œä½ ä¿¡å¿ƒæ»¡æ»¡åœ°ç»™è¡¨åŠ äº†ç´¢å¼•ã€‚ç»“æœæŸ¥è¯¢è¿˜æ˜¯æ…¢ï¼ŒEXPLAINä¸€çœ‹ï¼Œtype=ALLï¼Œç´¢å¼•æ ¹æœ¬æ²¡ç”¨ä¸Šã€‚</p>
<p>è¿™æ˜¯å¾ˆå¤šäººéƒ½ä¼šé‡åˆ°çš„å‘ï¼šç´¢å¼•åŠ äº†ï¼Œä½†å¤±æ•ˆäº†ã€‚</p>
<p>å°±åƒä½ ä¹°äº†è¾†è·‘è½¦ï¼Œç»“æœä¸€ç›´æŒ‚ç€ä¸€æ¡£å¼€ï¼Œé€Ÿåº¦è¿˜æ˜¯ä¸Šä¸å»ã€‚ä¸æ˜¯è½¦ä¸è¡Œï¼Œæ˜¯ç”¨æ³•ä¸å¯¹ã€‚</p>
<p>ä»Šå¤©è¿™ä¸€è®²ï¼Œæˆ‘ä¼šå…ˆæ•™ä½ ç”¨EXPLAINå·¥å…·åˆ†ææ‰§è¡Œè®¡åˆ’ï¼Œç„¶åç”¨1000ä¸‡æ•°æ®å®æˆ˜æ¼”ç¤ºç´¢å¼•ä¼˜åŒ–çš„å®Œæ•´è¿‡ç¨‹ï¼Œæœ€åæ€»ç»“12ç§ç´¢å¼•å¤±æ•ˆåœºæ™¯ã€‚çœ‹å®Œä½ å°±èƒ½å¿«é€Ÿå®šä½é—®é¢˜ï¼ŒæŠŠæ…¢æŸ¥è¯¢ä»8ç§’ä¼˜åŒ–åˆ°0.05ç§’ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€å‡†å¤‡å·¥ä½œï¼šå¿«é€Ÿæ„é€ 1000ä¸‡æµ‹è¯•æ•°æ®</h2>
<p>åœ¨å­¦ä¹ EXPLAINå’Œç´¢å¼•ä¼˜åŒ–ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå‡†å¤‡ä¸€ä¸ª1000ä¸‡æ•°æ®çš„è®¢å•è¡¨ã€‚è¿™æ ·åé¢è®²è§£æ—¶ï¼Œä½ å¯ä»¥è·Ÿç€ä¸€èµ·å®è·µã€‚</p>
<h3 data-id="heading-2">1. è¡¨ç»“æ„è¯´æ˜</h3>
<p><strong>å¦‚æœç¬¬å…­è®²å·²ç»åˆ›å»ºäº†ordersè¡¨ï¼š</strong></p>
<ul>
<li>å»ºè®®å…ˆåˆ é™¤é‡å»ºï¼ˆ<code>DROP TABLE orders;</code>ï¼‰</li>
<li>åŸå› ï¼šå…ˆå¯¼å…¥æ•°æ®å†å»ºç´¢å¼•ï¼Œæ¯”æœ‰ç´¢å¼•æ—¶å¯¼å…¥å¿«10å€ä»¥ä¸Š</li>
<li>ç­–ç•¥ï¼šè£¸è¡¨å¯¼æ•°æ®ï¼ˆåªæœ‰ä¸»é”®ï¼‰â†’ å¯¼å…¥å®Œæˆ â†’ å†åˆ›å»ºä¸šåŠ¡ç´¢å¼•</li>
</ul>
<p><strong>åˆ›å»ºè£¸è¡¨ï¼ˆåªæœ‰ä¸»é”®ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">EXISTS</span> orders;

<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> orders (
  id <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT COMMENT <span class="hljs-string">'è®¢å•ID'</span>,
  user_id <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ç”¨æˆ·ID'</span>,
  status TINYINT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span> COMMENT <span class="hljs-string">'è®¢å•çŠ¶æ€ï¼š0å¾…æ”¯ä»˜ 1å·²æ”¯ä»˜ 2å·²å®Œæˆ'</span>,
  amount <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è®¢å•é‡‘é¢'</span>,
  created_at DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
  updated_at DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'æ›´æ–°æ—¶é—´'</span>
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8mb4 COMMENT<span class="hljs-operator">=</span><span class="hljs-string">'è®¢å•è¡¨'</span>;
</code></pre>
<h3 data-id="heading-3">2. å¯¼å…¥æ•°æ®</h3>
<p><strong>æ¨èæ–¹å¼ï¼šä½¿ç”¨LOAD DATAå‘½ä»¤ï¼ˆåœ¨NavicatæŸ¥è¯¢çª—å£æ‰§è¡Œï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¸ºä»€ä¹ˆç”¨LOAD DATAï¼Ÿ</span>
<span class="hljs-comment">-- 1. ç›´æ¥è¯»å–æ–‡ä»¶ï¼Œä¸èµ°ç½‘ç»œä¼ è¾“</span>
<span class="hljs-comment">-- 2. æ‰¹é‡æ’å…¥ï¼Œæ¯”INSERTå¿«100å€</span>
<span class="hljs-comment">-- 3. MySQLå®˜æ–¹æ¨èçš„å¤§æ•°æ®å¯¼å…¥æ–¹å¼</span>

LOAD DATA <span class="hljs-keyword">LOCAL</span> INFILE <span class="hljs-string">'D:/path/to/orders_data.csv'</span>  <span class="hljs-comment">-- æ”¹ä¸ºä½ çš„CSVæ–‡ä»¶è·¯å¾„ï¼Œcsvæ–‡ä»¶å¯ä»¥ç§ä¿¡åšä¸»</span>
<span class="hljs-keyword">INTO</span> <span class="hljs-keyword">TABLE</span> orders
FIELDS TERMINATED <span class="hljs-keyword">BY</span> <span class="hljs-string">','</span>      <span class="hljs-comment">-- å­—æ®µåˆ†éš”ç¬¦ï¼šé€—å·</span>
LINES TERMINATED <span class="hljs-keyword">BY</span> <span class="hljs-string">'\n'</span>      <span class="hljs-comment">-- è¡Œåˆ†éš”ç¬¦ï¼šæ¢è¡Œ</span>
(user_id, status, amount, created_at);  <span class="hljs-comment">-- å­—æ®µé¡ºåºï¼ˆä¸åŒ…å«idï¼Œè‡ªåŠ¨é€’å¢ï¼‰</span>

<span class="hljs-comment">-- éªŒè¯å¯¼å…¥ç»“æœ</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">FROM</span> orders;  <span class="hljs-comment">-- åº”è¯¥æ˜¯10000000</span>
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>LOCAL INFILE</code>ï¼šä»å®¢æˆ·ç«¯è¯»å–æ–‡ä»¶ï¼ˆä¸æ˜¯æœåŠ¡å™¨ç«¯ï¼‰</li>
<li><code>FIELDS TERMINATED BY ','</code>ï¼šCSVç”¨é€—å·åˆ†éš”</li>
<li><code>LINES TERMINATED BY '\n'</code>ï¼šæ¯è¡Œä¸€æ¡è®°å½•</li>
<li><code>(user_id, status, amount, created_at)</code>ï¼šCSVå­—æ®µé¡ºåºï¼Œidè‡ªåŠ¨ç”Ÿæˆ</li>
</ul>
<p><strong>å¯¼å…¥æ—¶é—´ï¼š</strong> çº¦5åˆ†é’Ÿï¼ˆ1000ä¸‡æ¡æ•°æ®ï¼Œä½¿ç”¨Navicatå®æµ‹ï¼‰</p>
<h3 data-id="heading-4">3. åˆ›å»ºç´¢å¼•</h3>
<p><strong>æ•°æ®å¯¼å…¥å®Œæˆåï¼Œå†åˆ›å»ºç´¢å¼•ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºä¸šåŠ¡ç´¢å¼•ï¼ˆæ¯ä¸ªç´¢å¼•çº¦éœ€60ç§’ï¼Œå…±çº¦2åˆ†é’Ÿï¼‰</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> orders <span class="hljs-keyword">ADD</span> INDEX idx_user_id(user_id);
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> orders <span class="hljs-keyword">ADD</span> INDEX idx_created_at(created_at);

<span class="hljs-comment">-- éªŒè¯ç´¢å¼•</span>
<span class="hljs-keyword">SHOW</span> INDEX <span class="hljs-keyword">FROM</span> orders;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a1eca542de24d95a0c0fc85e739d9fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=tVsyNeTYwjGq%2Fiw0sfiJ1tcIg9Y%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä¸ºä»€ä¹ˆå…ˆå¯¼æ•°æ®å†å»ºç´¢å¼•ï¼Ÿ</strong></p>
<ul>
<li>æœ‰ç´¢å¼•æ—¶å¯¼å…¥ï¼šæ¯æ’å…¥ä¸€è¡Œéƒ½è¦ç»´æŠ¤ç´¢å¼•ï¼Œæ…¢</li>
<li>æ— ç´¢å¼•æ—¶å¯¼å…¥ï¼šç›´æ¥å†™å…¥æ•°æ®ï¼Œå¿«</li>
<li>å¯¼å…¥åå»ºç´¢å¼•ï¼šä¸€æ¬¡æ€§æ„å»ºç´¢å¼•æ ‘ï¼Œæ¯”é€è¡Œç»´æŠ¤å¿«10å€</li>
</ul>
<h2 data-id="heading-5">äºŒã€EXPLAINå·¥å…·å®Œæ•´ä½¿ç”¨æŒ‡å—</h2>
<p>æ•°æ®å‡†å¤‡å¥½äº†ï¼Œç°åœ¨æ¥å­¦ä¹ EXPLAINå·¥å…·ã€‚æƒ³çŸ¥é“SQLæœ‰æ²¡æœ‰èµ°ç´¢å¼•ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯ç”¨EXPLAINã€‚</p>
<h3 data-id="heading-6">1. EXPLAINåŸºæœ¬ç”¨æ³•</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åœ¨ä»»ä½•SELECTè¯­å¥å‰åŠ ä¸ŠEXPLAIN</span>
EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> user_id <span class="hljs-operator">=</span> <span class="hljs-number">10001</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b40438157d0b455abee045e1cd16fc99~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=DMhIdY8g5lrlGKZc1rSku80l%2FR8%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰§è¡Œåä¼šè¿”å›ä¸€å¼ è¡¨ï¼ŒåŒ…å«12ä¸ªå­—æ®µã€‚æˆ‘ä»¬å…ˆæ•´ä½“äº†è§£ï¼Œå†é‡ç‚¹æŒæ¡æ ¸å¿ƒå­—æ®µã€‚</p>
<h3 data-id="heading-7">2. EXPLAINå­—æ®µå…¨è§ˆ</h3>






































































<table><thead><tr><th>å­—æ®µ</th><th>å«ä¹‰</th><th>é‡è¦ç¨‹åº¦</th></tr></thead><tbody><tr><td><strong>id</strong></td><td>æŸ¥è¯¢åºå·ï¼Œæ•°å­—è¶Šå¤§è¶Šå…ˆæ‰§è¡Œ</td><td>â­</td></tr><tr><td><strong>select_type</strong></td><td>æŸ¥è¯¢ç±»å‹ï¼ˆSIMPLE/PRIMARY/SUBQUERYç­‰ï¼‰</td><td>â­</td></tr><tr><td><strong>table</strong></td><td>æŸ¥è¯¢çš„è¡¨å</td><td>â­</td></tr><tr><td><strong>partitions</strong></td><td>åŒ¹é…çš„åˆ†åŒºï¼ˆåˆ†åŒºè¡¨æ‰æœ‰å€¼ï¼‰</td><td>-</td></tr><tr><td><strong>type</strong></td><td>è®¿é—®ç±»å‹ï¼ˆå…¨è¡¨æ‰«æ/ç´¢å¼•æ‰«æç­‰ï¼‰</td><td>â­â­â­ æ ¸å¿ƒ</td></tr><tr><td><strong>possible_keys</strong></td><td>å¯èƒ½ç”¨åˆ°çš„ç´¢å¼•</td><td>â­â­</td></tr><tr><td><strong>key</strong></td><td>å®é™…ä½¿ç”¨çš„ç´¢å¼•</td><td>â­â­â­ æ ¸å¿ƒ</td></tr><tr><td><strong>key_len</strong></td><td>ç´¢å¼•ä½¿ç”¨çš„å­—èŠ‚æ•°</td><td>â­â­</td></tr><tr><td><strong>ref</strong></td><td>ç´¢å¼•å…³è”çš„åˆ—æˆ–å¸¸é‡</td><td>â­</td></tr><tr><td><strong>rows</strong></td><td>é¢„ä¼°æ‰«æè¡Œæ•°</td><td>â­â­â­ æ ¸å¿ƒ</td></tr><tr><td><strong>filtered</strong></td><td>è¿‡æ»¤åå‰©ä½™æ•°æ®çš„ç™¾åˆ†æ¯”</td><td>â­</td></tr><tr><td><strong>Extra</strong></td><td>é¢å¤–ä¿¡æ¯ï¼ˆæ˜¯å¦å›è¡¨ã€æ˜¯å¦æ’åºç­‰ï¼‰</td><td>â­â­â­ æ ¸å¿ƒ</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒå­—æ®µï¼ˆå¿…é¡»æŒæ¡ï¼‰ï¼š</strong> typeã€keyã€rowsã€Extraã€key_len</p>
<h3 data-id="heading-8">3. æ ¸å¿ƒå­—æ®µè¯¦è§£</h3>
<h4 data-id="heading-9">å­—æ®µ1ï¼štypeï¼ˆè®¿é—®ç±»å‹ï¼‰â­â­â­</h4>
<p>è¿™æ˜¯æœ€é‡è¦çš„å­—æ®µï¼Œè¡¨ç¤ºMySQLç”¨ä»€ä¹ˆæ–¹å¼æŸ¥æ‰¾æ•°æ®ã€‚</p>





















































<table><thead><tr><th>typeå€¼</th><th>å«ä¹‰</th><th>æ€§èƒ½</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>system</strong></td><td>ç³»ç»Ÿè¡¨ï¼Œåªæœ‰ä¸€è¡Œæ•°æ®</td><td>æœ€å¿«</td><td>æŸ¥è¯¢ç³»ç»Ÿè¡¨</td></tr><tr><td><strong>const</strong></td><td>ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•ç­‰å€¼æŸ¥è¯¢</td><td>æå¿«</td><td>WHERE id = 1</td></tr><tr><td><strong>eq_ref</strong></td><td>ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•å…³è”æŸ¥è¯¢</td><td>å¾ˆå¿«</td><td>JOINæ—¶ç”¨ä¸»é”®å…³è”</td></tr><tr><td><strong>ref</strong></td><td>éå”¯ä¸€ç´¢å¼•ç­‰å€¼æŸ¥è¯¢</td><td>å¿«</td><td>WHERE user_id = 10001</td></tr><tr><td><strong>range</strong></td><td>èŒƒå›´æŸ¥è¯¢</td><td>åˆæ ¼</td><td>WHERE id &gt; 100</td></tr><tr><td><strong>index</strong></td><td>å…¨ç´¢å¼•æ‰«æ</td><td>æ…¢</td><td>æ‰«ææ•´ä¸ªç´¢å¼•æ ‘</td></tr><tr><td><strong>ALL</strong></td><td>å…¨è¡¨æ‰«æ</td><td>æœ€æ…¢</td><td>æ²¡ç”¨ç´¢å¼•</td></tr></tbody></table>
<p><strong>æ€§èƒ½æ’åºï¼ˆä»å¥½åˆ°åï¼‰ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">system</span> <span class="hljs-operator">&gt;</span> const <span class="hljs-operator">&gt;</span> eq_ref <span class="hljs-operator">&gt;</span> <span class="hljs-keyword">ref</span> <span class="hljs-operator">&gt;</span> <span class="hljs-keyword">range</span> <span class="hljs-operator">&gt;</span> index <span class="hljs-operator">&gt;</span> <span class="hljs-keyword">ALL</span>
</code></pre>
<p><strong>ä¼˜åŒ–ç›®æ ‡ï¼š</strong> è‡³å°‘è¾¾åˆ°rangeï¼Œæœ€å¥½æ˜¯refæˆ–constã€‚</p>
<h4 data-id="heading-10">å­—æ®µ2ï¼škeyï¼ˆå®é™…ä½¿ç”¨çš„ç´¢å¼•ï¼‰â­â­â­</h4>
<ul>
<li>æ˜¾ç¤ºç´¢å¼•åç§°ï¼šè¯´æ˜ç”¨åˆ°äº†ç´¢å¼•</li>
<li><strong>NULLï¼šæ²¡ç”¨ç´¢å¼•ï¼Œéœ€è¦ä¼˜åŒ–</strong></li>
</ul>
<h4 data-id="heading-11">å­—æ®µ3ï¼šrowsï¼ˆé¢„ä¼°æ‰«æè¡Œæ•°ï¼‰â­â­â­</h4>
<p>MySQLé¢„ä¼°éœ€è¦æ‰«æå¤šå°‘è¡Œæ•°æ®ã€‚</p>
<ul>
<li>rows=1ï¼šæœ€ç†æƒ³</li>
<li>rows=100ï¼šè¿˜å¯ä»¥</li>
<li>rows=100000ï¼šéœ€è¦ä¼˜åŒ–</li>
<li>rows=10000000ï¼šä¸¥é‡é—®é¢˜</li>
</ul>
<p><strong>æ³¨æ„ï¼š</strong> rowsæ˜¯é¢„ä¼°å€¼ï¼Œä¸æ˜¯å®é™…å€¼ï¼Œä½†å¯ä»¥ä½œä¸ºå‚è€ƒã€‚</p>
<h4 data-id="heading-12">å­—æ®µ4ï¼šExtraï¼ˆé¢å¤–ä¿¡æ¯ï¼‰â­â­â­</h4>








































<table><thead><tr><th>Extraå€¼</th><th>å«ä¹‰</th><th>ä¼˜åŒ–å»ºè®®</th></tr></thead><tbody><tr><td><strong>Using index</strong></td><td>è¦†ç›–ç´¢å¼•ï¼Œä¸éœ€è¦å›è¡¨æŸ¥è¯¢</td><td>âœ… æœ€ä¼˜ï¼ˆæ— éœ€ä¼˜åŒ–ï¼‰</td></tr><tr><td><strong>Using index condition</strong></td><td>ç´¢å¼•ä¸‹æ¨ï¼ˆICPï¼‰ï¼Œåœ¨ç´¢å¼•å±‚é¢è¿‡æ»¤æ•°æ®</td><td>âœ… è‰¯å¥½ï¼ˆæ— éœ€ä¼˜åŒ–ï¼‰</td></tr><tr><td><strong>Using MRR</strong></td><td>å¤šèŒƒå›´è¯»ä¼˜åŒ–ï¼Œæ‰¹é‡å›è¡¨å‡å°‘éšæœºIO</td><td>âœ… è‰¯å¥½ï¼ˆèŒƒå›´æŸ¥è¯¢è‡ªåŠ¨ä¼˜åŒ–ï¼‰</td></tr><tr><td><strong>Using where</strong></td><td>åœ¨Serverå±‚ä½¿ç”¨WHEREè¿‡æ»¤æ•°æ®</td><td>âš ï¸ æ­£å¸¸ï¼ˆå¯ä¼˜åŒ–ä¸ºè¦†ç›–ç´¢å¼•ï¼‰</td></tr><tr><td><strong>Using filesort</strong></td><td>éœ€è¦é¢å¤–çš„æ’åºæ“ä½œï¼ˆå†…å­˜æˆ–ç£ç›˜ï¼‰</td><td>âš ï¸ æ¨èä¼˜åŒ–ï¼ˆè€ƒè™‘æ·»åŠ æ’åºç´¢å¼•ï¼‰</td></tr><tr><td><strong>Using temporary</strong></td><td>ä½¿ç”¨ä¸´æ—¶è¡¨ï¼ˆGROUP BYæˆ–DISTINCTï¼‰</td><td>âŒ å¿…é¡»ä¼˜åŒ–ï¼ˆæ€§èƒ½æ€æ‰‹ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-13">å­—æ®µ5ï¼škey_lenï¼ˆç´¢å¼•ä½¿ç”¨é•¿åº¦ï¼‰â­â­</h4>
<p>è¡¨ç¤ºç”¨åˆ°äº†ç´¢å¼•çš„å¤šå°‘å­—èŠ‚ï¼Œç”¨äºåˆ¤æ–­è”åˆç´¢å¼•ç”¨åˆ°äº†å‡ ä¸ªå­—æ®µã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è”åˆç´¢å¼•ï¼šidx_user_status(user_id, status)</span>
<span class="hljs-comment">-- user_idæ˜¯BIGINTï¼ˆ8å­—èŠ‚ï¼‰ï¼Œstatusæ˜¯TINYINTï¼ˆ1å­—èŠ‚ï¼‰</span>

<span class="hljs-comment">-- åªç”¨åˆ°user_id â†’ key_len = 8</span>
<span class="hljs-keyword">WHERE</span> user_id <span class="hljs-operator">=</span> <span class="hljs-number">10001</span>

<span class="hljs-comment">-- ç”¨åˆ°user_idå’Œstatus â†’ key_len = 9</span>
<span class="hljs-keyword">WHERE</span> user_id <span class="hljs-operator">=</span> <span class="hljs-number">10001</span> <span class="hljs-keyword">AND</span> status <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
</code></pre>
<h3 data-id="heading-14">4. ç¤ºä¾‹è§£è¯»</h3>
<p>å›åˆ°åˆšæ‰çš„æˆªå›¾ï¼Œæˆ‘ä»¬æ¥è§£è¯»ä¸€ä¸‹ï¼š</p>

































































<table><thead><tr><th>å­—æ®µ</th><th>å€¼</th><th>è§£è¯»</th></tr></thead><tbody><tr><td>id</td><td>1</td><td>ç¬¬1ä¸ªæŸ¥è¯¢</td></tr><tr><td>select_type</td><td>SIMPLE</td><td>ç®€å•æŸ¥è¯¢ï¼Œæ²¡æœ‰å­æŸ¥è¯¢</td></tr><tr><td>table</td><td>orders</td><td>æŸ¥è¯¢ordersè¡¨</td></tr><tr><td>type</td><td><strong>ref</strong></td><td>âœ… ä½¿ç”¨éå”¯ä¸€ç´¢å¼•ç­‰å€¼æŸ¥è¯¢ï¼Œæ€§èƒ½è‰¯å¥½</td></tr><tr><td>possible_keys</td><td>idx_user_id</td><td>å¯èƒ½ä½¿ç”¨idx_user_idç´¢å¼•</td></tr><tr><td>key</td><td><strong>idx_user_id</strong></td><td>âœ… å®é™…ä½¿ç”¨äº†idx_user_idç´¢å¼•</td></tr><tr><td>key_len</td><td>8</td><td>ä½¿ç”¨äº†8å­—èŠ‚ï¼ˆBIGINTç±»å‹ï¼‰</td></tr><tr><td>ref</td><td>const</td><td>ä½¿ç”¨å¸¸é‡å€¼åŒ¹é…</td></tr><tr><td>rows</td><td><strong>92</strong></td><td>âœ… é¢„ä¼°åªæ‰«æ92è¡Œï¼Œå¾ˆå°‘</td></tr><tr><td>filtered</td><td>100.00</td><td>100%çš„æ•°æ®éƒ½ç¬¦åˆæ¡ä»¶</td></tr><tr><td>Extra</td><td>(Null)</td><td>æ²¡æœ‰é¢å¤–ä¿¡æ¯ï¼Œéœ€è¦å›è¡¨æŸ¥è¯¢</td></tr></tbody></table>
<p><strong>ç»“è®ºï¼š</strong> è¿™æ˜¯ä¸€ä¸ªä¼˜åŒ–è‰¯å¥½çš„æŸ¥è¯¢ï¼Œä½¿ç”¨äº†ç´¢å¼•ï¼Œåªæ‰«æ92è¡Œã€‚</p>
<h3 data-id="heading-15">5. ä¸‰ç§å…¸å‹åœºæ™¯å¯¹æ¯”</h3>
<p><strong>åœºæ™¯1ï¼šå…¨è¡¨æ‰«æï¼ˆéœ€è¦ä¼˜åŒ–ï¼‰</strong></p>
<pre><code class="hljs language-sql" lang="sql">EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f47904e9acd4b62bc1b91bd801dd00c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=QEpKnD4syMoOLSNpOnPFrZFtWD0%3D" alt="image.png" loading="lazy"/></p>
<p><strong>é—®é¢˜ï¼š</strong> statuså­—æ®µæ²¡æœ‰ç´¢å¼•ï¼Œå…¨è¡¨æ‰«æã€‚</p>
<p><strong>ç¤ºä¾‹2ï¼šä½¿ç”¨ç´¢å¼•</strong></p>
<pre><code class="hljs language-sql" lang="sql">EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> user_id <span class="hljs-operator">=</span> <span class="hljs-number">10001</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e22ae37a40f045f09dad13be66ef329c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=UzC7AFkDlBzFjGbos43RbxM7fmg%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ”¹å–„ï¼š</strong> ä½¿ç”¨ç´¢å¼•ï¼Œåªæ‰«æ92è¡Œã€‚</p>
<p><strong>ç¤ºä¾‹3ï¼šè¦†ç›–ç´¢å¼•</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å…ˆåˆ›å»ºè”åˆç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_user_status <span class="hljs-keyword">ON</span> orders(user_id, status);

<span class="hljs-comment">-- æŸ¥è¯¢ç´¢å¼•åŒ…å«çš„å­—æ®µ</span>
EXPLAIN <span class="hljs-keyword">SELECT</span> user_id, status <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> user_id <span class="hljs-operator">=</span> <span class="hljs-number">10001</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dfcb3cbb82dd4778bad742176d582f8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=8DSoNkQxXG8Vh6e6XcQKgHh2mIo%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æœ€ä¼˜ï¼š</strong> è¦†ç›–ç´¢å¼•ï¼Œä¸éœ€è¦å›è¡¨ã€‚</p>
<h2 data-id="heading-16">ä¸‰ã€1000ä¸‡æ•°æ®å®æˆ˜æ¡ˆä¾‹ï¼šä»å…¨è¡¨æ‰«æåˆ°ç´¢å¼•ä¼˜åŒ–</h2>
<p>ç°åœ¨æˆ‘ä»¬æœ‰äº†1000ä¸‡æ•°æ®å’ŒåŸºç¡€ç´¢å¼•ï¼Œæ¥å®æˆ˜æ¼”ç»ƒä¸€ä¸ªå®Œæ•´çš„ä¼˜åŒ–è¿‡ç¨‹ã€‚</p>
<h3 data-id="heading-17">åœºæ™¯ï¼šæŸ¥è¯¢æŸæ—¥çš„è®¢å•</h3>
<p><strong>éœ€æ±‚ï¼š</strong> æŸ¥è¯¢2025å¹´6æœˆ15æ—¥çš„è®¢å•ã€‚</p>
<h3 data-id="heading-18">ç¬¬1æ­¥ï¼šå†™å‡ºSQLï¼ˆé”™è¯¯ç‰ˆæœ¬ï¼‰</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">WHERE</span> <span class="hljs-type">DATE</span>(created_at) <span class="hljs-operator">=</span> <span class="hljs-string">'2025-06-15'</span>;
</code></pre>
<h3 data-id="heading-19">ç¬¬2æ­¥ï¼šEXPLAINåˆ†æ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00222fabf17b4367a3ca85749bb32701~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=tiZBEfBwmzq50iS91RQADdtF4Wc%3D" alt="image.png" loading="lazy"/></p>
<p><strong>é—®é¢˜è¯Šæ–­ï¼š</strong></p>
<ol>
<li>type=ALLï¼šå…¨è¡¨æ‰«æ</li>
<li>key=NULLï¼šæ²¡ç”¨ç´¢å¼•</li>
<li>rowsâ‰ˆ970ä¸‡ï¼šå‡ ä¹æ‰«æå…¨è¡¨ï¼ˆrowsæ˜¯é¢„ä¼°å€¼ï¼Œå¯èƒ½ç•¥å°äºå®é™…è¡Œæ•°ï¼‰</li>
<li><strong>åŸå› ï¼š</strong> created_atå­—æ®µä½¿ç”¨äº†DATEå‡½æ•°ï¼Œç´¢å¼•å¤±æ•ˆ</li>
</ol>
<h3 data-id="heading-20">ç¬¬3æ­¥ï¼šä¼˜åŒ–SQL</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">WHERE</span> created_at <span class="hljs-operator">&gt;=</span> <span class="hljs-string">'2025-06-15 00:00:00'</span> 
  <span class="hljs-keyword">AND</span> created_at <span class="hljs-operator">&lt;</span> <span class="hljs-string">'2025-06-16 00:00:00'</span>;
</code></pre>
<h3 data-id="heading-21">ç¬¬4æ­¥ï¼šå†æ¬¡EXPLAIN</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8256c20c231145e6a50322bbf2955dc9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=%2F%2B3BTVNE6LCQlXUo2uR%2FqRQD%2BXA%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ”¹å–„ï¼š</strong> ä»æ‰«æ970ä¸‡è¡Œ â†’ 5ä¸‡è¡Œï¼Œæ€§èƒ½æå‡çº¦194å€ã€‚</p>
<h3 data-id="heading-22">ç¬¬5æ­¥ï¼šè¿›ä¸€æ­¥ä¼˜åŒ–ï¼ˆè¦†ç›–ç´¢å¼•ï¼‰</h3>
<p><strong>é—®é¢˜ï¼š</strong> è™½ç„¶ç”¨åˆ°äº†ç´¢å¼•ï¼Œä½†è¿˜éœ€è¦å›è¡¨æŸ¥è¯¢å®Œæ•´æ•°æ®ã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆï¼š</strong> åˆ›å»ºè”åˆç´¢å¼•ï¼Œå®ç°è¦†ç›–ç´¢å¼•ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åˆ›å»ºè”åˆç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_created_amount <span class="hljs-keyword">ON</span> orders(created_at, user_id, status);

<span class="hljs-comment">-- åªæŸ¥è¯¢éœ€è¦çš„å­—æ®µ</span>
<span class="hljs-keyword">SELECT</span> id, user_id, status, created_at
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">WHERE</span> created_at <span class="hljs-operator">&gt;=</span> <span class="hljs-string">'2025-06-15 00:00:00'</span> 
  <span class="hljs-keyword">AND</span> created_at <span class="hljs-operator">&lt;</span> <span class="hljs-string">'2025-06-16 00:00:00'</span>;
</code></pre>
<h3 data-id="heading-23">ç¬¬6æ­¥ï¼šæœ€ç»ˆEXPLAIN</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/457b9a529aa84aa5ae45d9cf7966d20c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=G9XVErHBoSISfMGZ9d3%2Bp3zKU9U%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æœ€ç»ˆæ•ˆæœï¼š</strong> ä½¿ç”¨è”åˆç´¢å¼•ï¼Œå‡å°‘å›è¡¨æ¬¡æ•°ï¼Œæ€§èƒ½å†æå‡2-3å€ã€‚</p>
<h2 data-id="heading-24">å››ã€ç´¢å¼•å¤±æ•ˆçš„12ç§åœºæ™¯</h2>
<p>é€šè¿‡å‰é¢çš„å®æˆ˜ï¼Œä½ å·²ç»çœ‹åˆ°äº†å‡½æ•°å¯¼è‡´ç´¢å¼•å¤±æ•ˆçš„æ¡ˆä¾‹ã€‚ä¸‹é¢æˆ‘ä»¬ç³»ç»Ÿæ€»ç»“12ç§å¸¸è§çš„ç´¢å¼•å¤±æ•ˆåœºæ™¯ã€‚</p>
<h3 data-id="heading-25">åœºæ™¯1ï¼šç´¢å¼•å­—æ®µä½¿ç”¨å‡½æ•°</h3>
<p><strong>é”™è¯¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢2025å¹´6æœˆ15æ—¥çš„è®¢å•</span>
EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> <span class="hljs-type">DATE</span>(created_at) <span class="hljs-operator">=</span> <span class="hljs-string">'2025-06-15'</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00222fabf17b4367a3ca85749bb32701~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=tiZBEfBwmzq50iS91RQADdtF4Wc%3D" alt="image.png" loading="lazy"/></p>
<p><strong>åŸå› ï¼š</strong> ç´¢å¼•æ ‘å­˜çš„æ˜¯åŸå€¼ï¼Œä¸æ˜¯å‡½æ•°è®¡ç®—åçš„å€¼ã€‚</p>
<p><strong>æ­£ç¡®å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ”¹ç”¨èŒƒå›´æŸ¥è¯¢</span>
EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders 
<span class="hljs-keyword">WHERE</span> created_at <span class="hljs-operator">&gt;=</span> <span class="hljs-string">'2025-06-15 00:00:00'</span> <span class="hljs-keyword">AND</span> created_at <span class="hljs-operator">&lt;</span> <span class="hljs-string">'2025-06-16 00:00:00'</span>;
</code></pre>
<h3 data-id="heading-26">åœºæ™¯2ï¼šéšå¼ç±»å‹è½¬æ¢</h3>
<p><strong>ç”¨ç¬¬å…­è®²çš„employeeè¡¨æ¼”ç¤ºï¼ˆnameæ˜¯VARCHARç±»å‹ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é”™è¯¯ï¼šå­—ç¬¦ä¸²å­—æ®µä¼ æ•°å­—ï¼Œç´¢å¼•å¤±æ•ˆ</span>
EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employee <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-number">123</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e69662018634427a8daf2ea65114d7d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=ETwQ6XWBqpcMb9e6bL2Ii8fpRCs%3D" alt="image.png" loading="lazy"/></p>
<p><strong>åŸå› ï¼š</strong> MySQLæŠŠå­—æ®µè½¬æˆæ•°å­— <code>CAST(name AS SIGNED) = 123</code>ï¼Œå­—æ®µè¢«å‡½æ•°åŒ…è£¹ï¼Œç´¢å¼•å¤±æ•ˆã€‚</p>
<p><strong>æ­£ç¡®å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å­—ç¬¦ä¸²å­—æ®µä¸€å®šè¦åŠ å¼•å·</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employee <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-string">'123'</span>;
</code></pre>
<h3 data-id="heading-27">åœºæ™¯3ï¼šè¿åæœ€å·¦åŒ¹é…åŸåˆ™</h3>
<p><strong>ç´¢å¼•ï¼š</strong> <code>idx_user_status(user_id, status)</code></p>
<p><strong>å¤±æ•ˆç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è·³è¿‡æœ€å·¦å­—æ®µuser_id</span>
EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8274624f31fb4a12a6677b165153d082~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=WCKx0xN4e0X2LQHbxyuwz2EYIO0%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ç”Ÿæ•ˆç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä½¿ç”¨æœ€å·¦å­—æ®µ</span>
EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> user_id <span class="hljs-operator">=</span> <span class="hljs-number">10001</span>;

<span class="hljs-comment">-- ä½¿ç”¨å…¨éƒ¨å­—æ®µ</span>
EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> user_id <span class="hljs-operator">=</span> <span class="hljs-number">10001</span> <span class="hljs-keyword">AND</span> status <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
</code></pre>
<h3 data-id="heading-28">åœºæ™¯4ï¼šLIKEå·¦æ¨¡ç³Š</h3>
<p><strong>é”™è¯¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- %åœ¨æœ€å‰é¢</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employee <span class="hljs-keyword">WHERE</span> name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%ä¸‰'</span>;

<span class="hljs-comment">-- ä¸¤è¾¹éƒ½æœ‰%</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employee <span class="hljs-keyword">WHERE</span> name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%å¼ ä¸‰%'</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf328b7906a3412caa6a0af43dcc48e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=1p%2B2YXu%2Bt%2BwjG2YyD0B89XrN3xM%3D" alt="image.png" loading="lazy"/></p>
<p><strong>åŸå› ï¼š</strong> B+æ ‘æŒ‰å­—æ¯åºæ’åˆ—ï¼Œå‰ç¼€åŒ¹é…å¯ä»¥å¿«é€Ÿå®šä½ï¼Œä½†åŒ…å«åŒ¹é…åªèƒ½å…¨è¡¨æ‰«æã€‚</p>
<p><strong>æ­£ç¡®å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å‰ç¼€åŒ¹é…</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employee <span class="hljs-keyword">WHERE</span> name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'å¼ %'</span>;
</code></pre>
<p><strong>æ›¿ä»£æ–¹æ¡ˆï¼š</strong></p>
<ul>
<li>ä½¿ç”¨å…¨æ–‡ç´¢å¼•ï¼ˆFULLTEXT,ç™¾ä¸‡çº§ä»¥ä¸‹å¯ä»¥ç”¨,å¤§æ•°æ®é‡ä¸‹å†…å­˜å ç”¨é«˜ã€ç´¢å¼•ä½“ç§¯å¤§ã€å†™å…¥æ…¢ï¼‰</li>
<li>ä½¿ç”¨ElasticSearchç­‰ä¸“ä¸šæœç´¢å¼•æ“</li>
</ul>
<h3 data-id="heading-29">åœºæ™¯5ï¼šORæ¡ä»¶ä¸¤è¾¹ç´¢å¼•ä¸ä¸€è‡´</h3>
<p><strong>é”™è¯¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- idæœ‰ç´¢å¼•ï¼Œageæ²¡ç´¢å¼•</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employee <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">OR</span> salary <span class="hljs-operator">=</span> <span class="hljs-number">1800</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e02f4803ee9a4ea6b967b950fe6cd41b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=B0e2g1O3txQ6m25M8AGC4Q%2BfghQ%3D" alt="image.png" loading="lazy"/></p>
<p><strong>åŸå› ï¼š</strong> æŸ¥idå¾ˆå¿«ï¼Œä½†æŸ¥salaryè¦å…¨è¡¨æ‰«æã€‚æ—¢ç„¶éƒ½è¦å…¨è¡¨æ‰«äº†ï¼Œä¼˜åŒ–å™¨ç›´æ¥å…¨è¡¨æ‰«æã€‚</p>
<p><strong>æ­£ç¡®å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ–¹æ¡ˆ1ï¼šç»™salaryä¹ŸåŠ ç´¢å¼•</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_salary <span class="hljs-keyword">ON</span> employee(salary);

<span class="hljs-comment">-- æ–¹æ¡ˆ2ï¼šæ‹†æˆä¸¤ä¸ªæŸ¥è¯¢ç”¨UNION</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employee <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1</span>
<span class="hljs-keyword">UNION</span> <span class="hljs-keyword">ALL</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employee <span class="hljs-keyword">WHERE</span> salary <span class="hljs-operator">=</span> <span class="hljs-number">1800</span>;
</code></pre>
<h3 data-id="heading-30">åœºæ™¯6ï¼šä¸ç­‰äºæ“ä½œç¬¦</h3>
<p><strong>å¤±æ•ˆç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">!=</span> <span class="hljs-number">0</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">&lt;&gt;</span> <span class="hljs-number">0</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ce45875b88142d3ad9a7f96f52e7c8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=ccD4jc8eQebQF%2BlfsmCosHHWvPk%3D" alt="image.png" loading="lazy"/></p>
<p><strong>åŸå› ï¼š</strong> ä¸ç­‰äºé€šå¸¸åŒ¹é…å¤§éƒ¨åˆ†æ•°æ®ã€‚å¦‚æœåŒ¹é…è¡Œæ•°è¶…è¿‡æ€»æ•°çš„30%ï¼Œä¼˜åŒ–å™¨è®¤ä¸ºå…¨è¡¨æ‰«ææ›´å¿«ã€‚</p>
<p><strong>æ›¿ä»£æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å¦‚æœstatusåªæœ‰0/1/2ä¸‰ç§å€¼ï¼Œæ”¹ç”¨INï¼Œå…·ä½“è¦çœ‹åŒºåˆ†åº¦</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> status <span class="hljs-keyword">IN</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
</code></pre>
<h3 data-id="heading-31">åœºæ™¯7ï¼šIS NOT NULL</h3>
<p><strong>å¤±æ•ˆç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">WHERE</span> field <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>;
</code></pre>
<p><strong>åŸå› ï¼š</strong> å¦‚æœå­—æ®µ90%éƒ½æœ‰å€¼ï¼ŒIS NOT NULLä¼šåŒ¹é…å¤§éƒ¨åˆ†æ•°æ®ï¼Œä¼˜åŒ–å™¨æ”¾å¼ƒç´¢å¼•ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong> IS NULLé€šå¸¸èƒ½èµ°ç´¢å¼•ï¼ˆå¦‚æœNULLå€¼å¾ˆå°‘ï¼‰ã€‚</p>
<h3 data-id="heading-32">åœºæ™¯8ï¼šå¯¹ç´¢å¼•å­—æ®µè¿›è¡Œè¿ç®—</h3>
<p><strong>é”™è¯¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">+</span> <span class="hljs-number">1</span> <span class="hljs-operator">=</span> <span class="hljs-number">1001</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">*</span> <span class="hljs-number">2</span> <span class="hljs-operator">=</span> <span class="hljs-number">2000</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> amount <span class="hljs-operator">-</span> <span class="hljs-number">10</span> <span class="hljs-operator">&gt;</span> <span class="hljs-number">100</span>;
</code></pre>
<p><strong>æ­£ç¡®å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1000</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1000</span>;
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> amount <span class="hljs-operator">&gt;</span> <span class="hljs-number">110</span>;
</code></pre>
<p><strong>åŸåˆ™ï¼š</strong> æŠŠè¿ç®—ç§»åˆ°ç­‰å·å³è¾¹ã€‚</p>
<h3 data-id="heading-33">åœºæ™¯9ï¼šå­—ç¬¦ä¸²ä¸åŠ å¼•å·</h3>
<p><strong>é”™è¯¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- nameæ˜¯VARCHAR</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employee <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-number">202501010001</span>;
</code></pre>
<p><strong>åŸå› ï¼š</strong> éšå¼ç±»å‹è½¬æ¢ï¼ŒåŒåœºæ™¯2ã€‚</p>
<p><strong>æ­£ç¡®å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employee <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-string">'202501010001'</span>;
</code></pre>
<h3 data-id="heading-34">åœºæ™¯10ï¼šè”åˆç´¢å¼•èŒƒå›´æŸ¥è¯¢åçš„å­—æ®µ</h3>
<p><strong>ç´¢å¼•ï¼š</strong> <code>idx_user_status_time(user_id, status, created_at)</code></p>
<p><strong>éƒ¨åˆ†å¤±æ•ˆï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- statusæ˜¯èŒƒå›´æŸ¥è¯¢ï¼Œå¯¼è‡´created_atæ— æ³•ä½¿ç”¨ç´¢å¼•</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders 
<span class="hljs-keyword">WHERE</span> user_id <span class="hljs-operator">=</span> <span class="hljs-number">10001</span> <span class="hljs-keyword">AND</span> status <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span> <span class="hljs-keyword">AND</span> created_at <span class="hljs-operator">&gt;</span> <span class="hljs-string">'2025-01-01'</span>;
<span class="hljs-comment">-- å®é™…åªç”¨åˆ°äº† user_id å’Œ statusï¼Œcreated_atè¢«æˆªæ–­</span>
</code></pre>
<p><strong>åŸå› ï¼š</strong> è”åˆç´¢å¼•ä¸­ï¼ŒèŒƒå›´æŸ¥è¯¢ï¼ˆ&gt;ã€&lt;ã€BETWEENï¼‰ä¼šæˆªæ–­åé¢çš„å­—æ®µã€‚</p>
<p><strong>ä¼˜åŒ–ï¼š</strong> æ ¹æ®æŸ¥è¯¢åœºæ™¯è°ƒæ•´ç´¢å¼•å­—æ®µé¡ºåºï¼ŒæŠŠèŒƒå›´æŸ¥è¯¢å­—æ®µæ”¾æœ€åã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å¦‚æœcreated_atç»å¸¸åšèŒƒå›´æŸ¥è¯¢ï¼Œè°ƒæ•´ç´¢å¼•é¡ºåº</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_user_status_time(user_id, status, created_at);
<span class="hljs-comment">-- åŒæ—¶æŠŠstatusæ”¹æˆç­‰å€¼æŸ¥è¯¢</span>
<span class="hljs-keyword">WHERE</span> user_id <span class="hljs-operator">=</span> <span class="hljs-number">10001</span> <span class="hljs-keyword">AND</span> status <span class="hljs-operator">=</span> <span class="hljs-number">1</span> <span class="hljs-keyword">AND</span> created_at <span class="hljs-operator">&gt;</span> <span class="hljs-string">'2025-01-01'</span>;

<span class="hljs-comment">-- å¦‚æœstatusç»å¸¸åšèŒƒå›´æŸ¥è¯¢ï¼Œç´¢å¼•è®¾è®¡ä¸º</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_user_time_status(user_id, created_at, status);
</code></pre>
<p><strong>è®¾è®¡åŸåˆ™ï¼š</strong> ç­‰å€¼æŸ¥è¯¢å­—æ®µåœ¨å‰ï¼ŒèŒƒå›´æŸ¥è¯¢å­—æ®µåœ¨åã€‚</p>
<h3 data-id="heading-35">åœºæ™¯11ï¼šINçš„å€¼è¿‡å¤š</h3>
<p><strong>å¤±æ•ˆç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> user_id <span class="hljs-keyword">IN</span> (<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,...,<span class="hljs-number">5000</span>);
</code></pre>
<p><strong>åŸå› ï¼š</strong> 5000ä¸ªå€¼ = 5000æ¬¡ç´¢å¼•æŸ¥æ‰¾ + 5000æ¬¡å›è¡¨ï¼Œä¼˜åŒ–å™¨è¯„ä¼°æˆæœ¬é«˜äºå…¨è¡¨æ‰«æã€‚</p>
<p><strong>ä¼˜åŒ–ï¼š</strong></p>
<ul>
<li>åˆ†æ‰¹æŸ¥è¯¢ï¼ˆæ¯æ‰¹500ä¸ªï¼‰</li>
<li>ä½¿ç”¨ä¸´æ—¶è¡¨JOIN</li>
</ul>
<h3 data-id="heading-36">åœºæ™¯12ï¼šæ•°æ®åˆ†å¸ƒä¸å‡</h3>
<p><strong>åœºæ™¯ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- statuså­—æ®µï¼š0å 95%ï¼Œ1å 4%ï¼Œ2å 1%</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
</code></pre>
<p><strong>ç°è±¡ï¼š</strong> å³ä½¿statusæœ‰ç´¢å¼•ï¼ŒæŸ¥è¯¢status=0ä¹Ÿä¼šå…¨è¡¨æ‰«æã€‚</p>
<p><strong>åŸå› ï¼š</strong> åŒ¹é…95%çš„æ•°æ®ï¼Œä¼˜åŒ–å™¨è®¤ä¸ºå…¨è¡¨æ‰«ææ›´å¿«ã€‚</p>
<p><strong>ç»“è®ºï¼š</strong> è¿™ä¸æ˜¯é—®é¢˜ï¼Œå…¨è¡¨æ‰«æç¡®å®æ›´å¿«ï¼Œæ— éœ€ä¼˜åŒ–ã€‚</p>
<h2 data-id="heading-37">äº”ã€ç´¢å¼•ä¼˜åŒ–å¥—è·¯æ€»ç»“</h2>
<p>å­¦å®ŒEXPLAINå·¥å…·ã€å®æˆ˜æ¡ˆä¾‹å’Œ12ç§å¤±æ•ˆåœºæ™¯ï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€å¥—å®Œæ•´çš„ä¼˜åŒ–å¥—è·¯ã€‚é‡åˆ°æ…¢æŸ¥è¯¢æ—¶ï¼ŒæŒ‰è¿™ä¸ªæµç¨‹èµ°ä¸€éï¼ŒåŸºæœ¬éƒ½èƒ½è§£å†³ã€‚</p>
<h3 data-id="heading-38">ç¬¬1æ­¥ï¼šå®šä½æ…¢SQL</h3>
<p><strong>å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥çœ‹å½“å‰é…ç½®</span>
<span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'slow_query%'</span>;
<span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'long_query_time'</span>;

<span class="hljs-comment">-- å¼€å¯æ…¢æŸ¥è¯¢æ—¥å¿—</span>
<span class="hljs-keyword">SET</span> <span class="hljs-keyword">GLOBAL</span> slow_query_log <span class="hljs-operator">=</span> <span class="hljs-string">'ON'</span>;
<span class="hljs-keyword">SET</span> <span class="hljs-keyword">GLOBAL</span> long_query_time <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;  <span class="hljs-comment">-- è¶…è¿‡1ç§’è®°å½•</span>

<span class="hljs-comment">-- æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ä½ç½®</span>
<span class="hljs-keyword">SHOW</span> VARIABLES <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'slow_query_log_file'</span>;
</code></pre>
<p><strong>æ—¥å¿—å†…å®¹ç¤ºä¾‹ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7dba267321df43878b1a82f0e2a098e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6aqR552AYnVn55qEY29kZXI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767512428&amp;x-signature=aKF9PeGYNW5BH4n%2FbAAiMNicrdA%3D" alt="image.png" loading="lazy"/></p>
<p>å…³é”®æŒ‡æ ‡ï¼šQuery_timeï¼ˆæ‰§è¡Œæ—¶é—´ï¼‰ã€Rows_examinedï¼ˆæ‰«æè¡Œæ•°ï¼‰ã€‚</p>
<h3 data-id="heading-39">ç¬¬2æ­¥ï¼šEXPLAINåˆ†æ</h3>
<pre><code class="hljs language-sql" lang="sql">EXPLAIN <span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> <span class="hljs-type">DATE</span>(created_at) <span class="hljs-operator">=</span> <span class="hljs-string">'2025-06-15'</span>;
</code></pre>
<p><strong>å…³æ³¨5ä¸ªæ ¸å¿ƒæŒ‡æ ‡ï¼š</strong></p>
<ul>
<li>typeï¼šè‡³å°‘è¾¾åˆ°rangeï¼ŒALLå°±æ˜¯å…¨è¡¨æ‰«æ</li>
<li>keyï¼šNULLè¡¨ç¤ºæ²¡ç”¨ç´¢å¼•</li>
<li>rowsï¼šé¢„ä¼°æ‰«æè¡Œæ•°ï¼Œè¶Šå°è¶Šå¥½</li>
<li>Extraï¼šUsing indexæœ€ä¼˜ï¼ŒUsing filesort/temporaryéœ€è¦ä¼˜åŒ–</li>
<li>key_lenï¼šåˆ¤æ–­è”åˆç´¢å¼•ç”¨åˆ°äº†å‡ ä¸ªå­—æ®µ</li>
</ul>
<h3 data-id="heading-40">ç¬¬3æ­¥ï¼šå¯¹ç…§å¤±æ•ˆåœºæ™¯</h3>
<p>å¿«é€Ÿæ£€æŸ¥æ¸…å•ï¼š</p>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ç´¢å¼•å­—æ®µç”¨äº†å‡½æ•°ï¼Ÿï¼ˆDATE/YEAR/LENGTHç­‰ï¼‰</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> éšå¼ç±»å‹è½¬æ¢ï¼Ÿï¼ˆå­—ç¬¦ä¸²å­—æ®µæ²¡åŠ å¼•å·ï¼‰</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> è¿åæœ€å·¦åŒ¹é…ï¼Ÿï¼ˆè”åˆç´¢å¼•è·³è¿‡äº†å·¦è¾¹å­—æ®µï¼‰</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> LIKEå·¦æ¨¡ç³Šï¼Ÿï¼ˆ'%xxx'ï¼‰</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> ORä¸¤è¾¹ç´¢å¼•ä¸ä¸€è‡´ï¼Ÿ</li>
<li class="task-list-item"><input type="checkbox" disabled="disabled"/> å¯¹ç´¢å¼•å­—æ®µåšè¿ç®—ï¼Ÿï¼ˆid + 1 = 100ï¼‰</li>
</ul>
<h3 data-id="heading-41">ç¬¬4æ­¥ï¼šæ”¹å†™SQL</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å‡½æ•° â†’ èŒƒå›´æŸ¥è¯¢</span>
<span class="hljs-keyword">WHERE</span> <span class="hljs-type">DATE</span>(created_at) <span class="hljs-operator">=</span> <span class="hljs-string">'2025-06-15'</span>
â†’ <span class="hljs-keyword">WHERE</span> created_at <span class="hljs-operator">&gt;=</span> <span class="hljs-string">'2025-06-15'</span> <span class="hljs-keyword">AND</span> created_at <span class="hljs-operator">&lt;</span> <span class="hljs-string">'2025-06-16'</span>

<span class="hljs-comment">-- è¿ç®—ç§»åˆ°å³è¾¹</span>
<span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">+</span> <span class="hljs-number">1</span> <span class="hljs-operator">=</span> <span class="hljs-number">1001</span> â†’ <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">=</span> <span class="hljs-number">1000</span>

<span class="hljs-comment">-- ä¸ç­‰äº â†’ IN</span>
<span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">!=</span> <span class="hljs-number">0</span> â†’ <span class="hljs-keyword">WHERE</span> status <span class="hljs-keyword">IN</span> (<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)
</code></pre>
<h3 data-id="heading-42">ç¬¬5æ­¥ï¼šä¼˜åŒ–ç´¢å¼•è®¾è®¡</h3>
<p><strong>è®¾è®¡åŸåˆ™ï¼š</strong></p>
<ol>
<li>é«˜é¢‘æŸ¥è¯¢å­—æ®µå»ºç´¢å¼•</li>
<li>åŒºåˆ†åº¦é«˜çš„å­—æ®µä¼˜å…ˆï¼ˆåŒºåˆ†åº¦ &gt; 0.1ï¼‰</li>
<li>ç­‰å€¼æŸ¥è¯¢å­—æ®µåœ¨å‰ï¼ŒèŒƒå›´æŸ¥è¯¢å­—æ®µåœ¨å</li>
<li>å°½é‡è¦†ç›–ç´¢å¼•ï¼Œå‡å°‘å›è¡¨</li>
</ol>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢ï¼šWHERE user_id = ? AND status = ? ORDER BY created_at DESC</span>
<span class="hljs-comment">-- ç´¢å¼•ï¼š</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_user_status_time <span class="hljs-keyword">ON</span> orders(user_id, status, created_at);
</code></pre>
<h3 data-id="heading-43">ç¬¬6æ­¥ï¼šéªŒè¯æ•ˆæœ</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¼˜åŒ–å‰åå¯¹æ¯”EXPLAINç»“æœ</span>
EXPLAIN <span class="hljs-keyword">SELECT</span> ...;  <span class="hljs-comment">-- å¯¹æ¯”typeã€keyã€rows</span>

<span class="hljs-comment">-- å®é™…æ‰§è¡Œæ—¶é—´å¯¹æ¯”</span>
<span class="hljs-keyword">SELECT</span> ...;  <span class="hljs-comment">-- è®°å½•è€—æ—¶å˜åŒ–</span>
</code></pre>
<h2 data-id="heading-44">å…­ã€é¿å‘æŒ‡å—</h2>
<ul>
<li>å†™å…¥æ€§èƒ½ä¸‹é™ï¼ˆæ¯æ¬¡INSERT/UPDATEè¦ç»´æŠ¤å¤šä¸ªç´¢å¼•ï¼‰</li>
<li>ç£ç›˜ç©ºé—´æµªè´¹</li>
<li>ä¼˜åŒ–å™¨å¯èƒ½é€‰é”™ç´¢å¼•</li>
</ul>
<p><strong>æ­£ç¡®åšæ³•ï¼š</strong></p>
<ul>
<li>åˆ†ææ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œæ‰¾å‡ºTOP10æ…¢SQL</li>
<li>é’ˆå¯¹æ€§ä¼˜åŒ–é«˜é¢‘æŸ¥è¯¢</li>
<li>ä¸€å¼ è¡¨ç´¢å¼•æ•°é‡æ§åˆ¶åœ¨5ä¸ªä»¥å†…</li>
</ul>
<h3 data-id="heading-45">å‘3ï¼šå¿½ç•¥ç»Ÿè®¡ä¿¡æ¯æ›´æ–°</h3>
<p><strong>é—®é¢˜ï¼š</strong> ç´¢å¼•æ˜æ˜å­˜åœ¨ï¼Œä¼˜åŒ–å™¨å´ä¸ç”¨ã€‚</p>
<p><strong>åŸå› ï¼š</strong> ç»Ÿè®¡ä¿¡æ¯è¿‡æ—¶ï¼Œä¼˜åŒ–å™¨è¯„ä¼°ä¸å‡†ç¡®ã€‚</p>
<p><strong>è§£å†³ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql">ANALYZE <span class="hljs-keyword">TABLE</span> orders;
</code></pre>
<p><strong>å»ºè®®ï¼š</strong> æ•°æ®é‡å˜åŒ–è¶…è¿‡10%æ—¶ï¼Œæ‰§è¡ŒANALYZE TABLEã€‚</p>
<h2 data-id="heading-46">ä¸ƒã€ä»Šå¤©å­¦äº†å•¥ï¼Ÿå¿«é€Ÿå›é¡¾</h2>
<h3 data-id="heading-47">EXPLAINå·¥å…·</h3>
<p><strong>5ä¸ªæ ¸å¿ƒå­—æ®µï¼š</strong></p>
<ul>
<li>typeï¼šè®¿é—®ç±»å‹ï¼Œè‡³å°‘è¾¾åˆ°range</li>
<li>keyï¼šå®é™…ä½¿ç”¨çš„ç´¢å¼•ï¼ŒNULLè¡¨ç¤ºæ²¡ç”¨ç´¢å¼•</li>
<li>rowsï¼šé¢„ä¼°æ‰«æè¡Œæ•°ï¼Œè¶Šå°è¶Šå¥½</li>
<li>Extraï¼šUsing indexæœ€å¥½ï¼ˆè¦†ç›–ç´¢å¼•ï¼‰</li>
<li>key_lenï¼šåˆ¤æ–­è”åˆç´¢å¼•ç”¨åˆ°å‡ ä¸ªå­—æ®µ</li>
</ul>
<h3 data-id="heading-48">12ç§ç´¢å¼•å¤±æ•ˆåœºæ™¯</h3>
<ol>
<li>ç´¢å¼•å­—æ®µä½¿ç”¨å‡½æ•°</li>
<li>éšå¼ç±»å‹è½¬æ¢</li>
<li>è¿åæœ€å·¦åŒ¹é…åŸåˆ™</li>
<li>LIKEå·¦æ¨¡ç³Š</li>
<li>ORæ¡ä»¶ä¸¤è¾¹ç´¢å¼•ä¸ä¸€è‡´</li>
<li>ä¸ç­‰äºæ“ä½œç¬¦</li>
<li>IS NOT NULL</li>
<li>å¯¹ç´¢å¼•å­—æ®µè¿›è¡Œè¿ç®—</li>
<li>å­—ç¬¦ä¸²ä¸åŠ å¼•å·</li>
<li>è”åˆç´¢å¼•èŒƒå›´æŸ¥è¯¢åçš„å­—æ®µ</li>
<li>INçš„å€¼è¿‡å¤š</li>
<li>æ•°æ®åˆ†å¸ƒä¸å‡</li>
</ol>
<h3 data-id="heading-49">ä¼˜åŒ–å¥—è·¯</h3>
<ol>
<li>ç”¨EXPLAINå®šä½é—®é¢˜</li>
<li>è¯†åˆ«ç´¢å¼•å¤±æ•ˆåœºæ™¯</li>
<li>æ”¹å†™SQL</li>
<li>åˆ›å»ºåˆé€‚çš„ç´¢å¼•</li>
<li>å®ç°è¦†ç›–ç´¢å¼•</li>
<li>éªŒè¯ä¼˜åŒ–æ•ˆæœ</li>
</ol>
<h2 data-id="heading-50">å…«ã€ä½œä¸š</h2>
<h3 data-id="heading-51">åŸºç¡€é¢˜</h3>
<p><strong>ç¬¬1é¢˜ï¼š</strong> åˆ†æä»¥ä¸‹SQLçš„ç´¢å¼•å¤±æ•ˆåŸå› ï¼Œå¹¶ç»™å‡ºä¼˜åŒ–æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- A. æŸ¥è¯¢2025å¹´çš„è®¢å•</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">YEAR</span>(created_at) <span class="hljs-operator">=</span> <span class="hljs-number">2025</span>;

<span class="hljs-comment">-- B. æŸ¥è¯¢æ‰‹æœºå·</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">WHERE</span> phone <span class="hljs-operator">=</span> <span class="hljs-number">13800138000</span>;

<span class="hljs-comment">-- C. æ¨¡ç³ŠæŸ¥è¯¢</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">WHERE</span> name <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%å¼ %'</span>;

<span class="hljs-comment">-- D. ä¸ç­‰äºæŸ¥è¯¢</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">!=</span> <span class="hljs-number">0</span>;
</code></pre>
<p><strong>ç¬¬2é¢˜ï¼š</strong> ç”¨EXPLAINåˆ†æé¡¹ç›®ä¸­çš„3æ¡æ…¢SQLï¼Œè®°å½•typeã€keyã€rowsã€Extraå­—æ®µã€‚</p>
<h3 data-id="heading-52">è¿›é˜¶é¢˜</h3>
<p><strong>ç¬¬1é¢˜ï¼š</strong> æ…¢æŸ¥è¯¢ä¼˜åŒ–å®æˆ˜</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è®¢å•è¡¨ï¼š1000ä¸‡æ¡æ•°æ®</span>
<span class="hljs-comment">-- æŸ¥è¯¢æŸç”¨æˆ·æŸçŠ¶æ€çš„è®¢å•ï¼ŒæŒ‰é‡‘é¢å€’åº</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">WHERE</span> user_id <span class="hljs-operator">=</span> <span class="hljs-number">10001</span> <span class="hljs-keyword">AND</span> status <span class="hljs-keyword">IN</span> (<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> amount <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">10</span>;
</code></pre>
<p><strong>ä»»åŠ¡ï¼š</strong></p>
<ul>
<li>ç”¨EXPLAINåˆ†æé—®é¢˜</li>
<li>è®¾è®¡ç´¢å¼•æ–¹æ¡ˆ</li>
<li>æ”¹å†™SQLï¼ˆå¦‚æœéœ€è¦ï¼‰</li>
<li>ç»™å‡ºä¼˜åŒ–å‰åçš„æ€§èƒ½å¯¹æ¯”</li>
</ul>
<p><strong>ç¬¬2é¢˜ï¼š</strong> ç´¢å¼•è®¾è®¡æ–¹æ¡ˆ</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å•†å“è¡¨ï¼š500ä¸‡æ¡æ•°æ®</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> products (
  id <span class="hljs-type">BIGINT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  category_id <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  brand_id <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">200</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  price <span class="hljs-type">DECIMAL</span>(<span class="hljs-number">10</span>,<span class="hljs-number">2</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  stock <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
  status TINYINT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,  <span class="hljs-comment">-- 0ä¸‹æ¶ 1ä¸Šæ¶</span>
  created_at DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>
) ENGINE<span class="hljs-operator">=</span>InnoDB;

<span class="hljs-comment">-- é«˜é¢‘æŸ¥è¯¢åœºæ™¯ï¼š</span>
<span class="hljs-comment">-- 1. æŒ‰ç±»ç›®+å“ç‰ŒæŸ¥è¯¢ä¸Šæ¶å•†å“ï¼ŒæŒ‰ä»·æ ¼æ’åº</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products
<span class="hljs-keyword">WHERE</span> category_id <span class="hljs-operator">=</span> <span class="hljs-number">10</span> <span class="hljs-keyword">AND</span> brand_id <span class="hljs-operator">=</span> <span class="hljs-number">5</span> <span class="hljs-keyword">AND</span> status <span class="hljs-operator">=</span> <span class="hljs-number">1</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> price <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">20</span>;

<span class="hljs-comment">-- 2. æŒ‰ç±»ç›®æŸ¥è¯¢ä¸Šæ¶å•†å“ï¼ŒæŒ‰åˆ›å»ºæ—¶é—´å€’åº</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products
<span class="hljs-keyword">WHERE</span> category_id <span class="hljs-operator">=</span> <span class="hljs-number">10</span> <span class="hljs-keyword">AND</span> status <span class="hljs-operator">=</span> <span class="hljs-number">1</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> created_at <span class="hljs-keyword">DESC</span>
LIMIT <span class="hljs-number">20</span>;

<span class="hljs-comment">-- 3. æŒ‰å“ç‰ŒæŸ¥è¯¢åº“å­˜ä¸è¶³çš„å•†å“</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> products
<span class="hljs-keyword">WHERE</span> brand_id <span class="hljs-operator">=</span> <span class="hljs-number">5</span> <span class="hljs-keyword">AND</span> stock <span class="hljs-operator">&lt;</span> <span class="hljs-number">10</span>;
</code></pre>
<p><strong>ä»»åŠ¡ï¼š</strong></p>
<ul>
<li>è®¾è®¡ç´¢å¼•æ–¹æ¡ˆï¼ˆæœ€å¤š3ä¸ªç´¢å¼•ï¼‰</li>
<li>è¯´æ˜æ¯ä¸ªç´¢å¼•çš„å­—æ®µé¡ºåºåŠåŸå› </li>
<li>åˆ†ææ¯ä¸ªæŸ¥è¯¢ä¼šç”¨åˆ°å“ªä¸ªç´¢å¼•</li>
</ul>
<h2 data-id="heading-53">ä¹ã€ä¸‹ä¸€è®²é¢„å‘Š</h2>
<p>ç´¢å¼•ä¼˜åŒ–å®Œäº†ï¼ŒSQLè¿˜æ˜¯æ…¢ï¼Ÿ</p>
<p>å¯èƒ½æ˜¯MySQLæ¶æ„å±‚é¢çš„é—®é¢˜ã€‚ä¸€æ¡SQLä»å®¢æˆ·ç«¯å‘é€åˆ°MySQLï¼Œç»è¿‡äº†å“ªäº›ç»„ä»¶ï¼Ÿä¼˜åŒ–å™¨æ˜¯æ€ä¹ˆé€‰æ‹©ç´¢å¼•çš„ï¼ŸBuffer Poolæ˜¯ä»€ä¹ˆï¼Ÿ</p>
<p><strong>ç¬¬8è®²ï¼šMySQLæ¶æ„ä¸å­˜å‚¨å¼•æ“</strong></p>
<p>ä¸‹ä¸€è®²ä¼šè®²è¿™äº›ï¼š</p>
<ul>
<li>MySQLä¸‰å±‚æ¶æ„ï¼ˆè¿æ¥å±‚ã€æœåŠ¡å±‚ã€å­˜å‚¨å¼•æ“å±‚ï¼‰</li>
<li>ä¸€æ¡SQLçš„å®Œæ•´æ‰§è¡Œæµç¨‹</li>
<li>InnoDB vs MyISAMå¯¹æ¯”</li>
<li>Buffer Poolå·¥ä½œæœºåˆ¶</li>
<li>ä¸ºä»€ä¹ˆInnoDBæ˜¯é»˜è®¤å­˜å‚¨å¼•æ“</li>
</ul>
<p><strong>å»ºè®®ä½ æå‰å‡†å¤‡ï¼š</strong></p>
<ul>
<li>å®Œæˆä»Šå¤©çš„ä½œä¸šï¼Œç‰¹åˆ«æ˜¯1000ä¸‡æ•°æ®çš„å®æˆ˜ä¼˜åŒ–</li>
<li>æ¯ä¸ªEXPLAINç»“æœéƒ½æˆªå›¾ä¿å­˜ï¼Œå¯¹æ¯”ä¼˜åŒ–å‰åçš„å·®å¼‚</li>
<li>æ€è€ƒä¸€ä¸‹ï¼šä¸ºä»€ä¹ˆåŒä¸€æ¡SQLï¼Œæœ‰æ—¶å€™èµ°ç´¢å¼•ï¼Œæœ‰æ—¶å€™ä¸èµ°ï¼Ÿ</li>
<li>å‡†å¤‡å¥½æµ‹è¯•ç¯å¢ƒï¼Œä¸‹ä¸€è®²ä¼šæœ‰æ¶æ„å±‚é¢çš„æ¼”ç¤º</li>
</ul>
<p><strong>ä¸‹ä¸€è®²è§ï¼å’±ä»¬ä¸€èµ·æ·±å…¥MySQLæ¶æ„ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Springã€‘IoC æ§åˆ¶åè½¬ã€DI ä¾èµ–æ³¨å…¥ã€é…ç½®æ–‡ä»¶å’Œbeançš„ä½œç”¨åŸŸ]]></title>    <link>https://juejin.cn/post/7588109656041701422</link>    <guid>https://juejin.cn/post/7588109656041701422</guid>    <pubDate>2025-12-28T07:50:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588109656041701422" data-draft-id="7588098335790858240" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Springã€‘IoC æ§åˆ¶åè½¬ã€DI ä¾èµ–æ³¨å…¥ã€é…ç½®æ–‡ä»¶å’Œbeançš„ä½œç”¨åŸŸ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-28T07:50:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ZoeGranger"/> <meta itemprop="url" content="https://juejin.cn/user/3704680555488651"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Springã€‘IoC æ§åˆ¶åè½¬ã€DI ä¾èµ–æ³¨å…¥ã€é…ç½®æ–‡ä»¶å’Œbeançš„ä½œç”¨åŸŸ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3704680555488651/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ZoeGranger
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T07:50:23.000Z" title="Sun Dec 28 2025 07:50:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ–°æ‰‹å°ç™½è®°å½•è·Ÿç€ç‹‚ç¥å­¦ä¹ Springçš„ç¬”è®°ï¼ˆç¬¬4-11é›†ï¼‰~</p>
<h2 data-id="heading-0">1.æ§åˆ¶åè½¬ï¼ˆ IoC ï¼‰</h2>
<p>Iocï¼ˆæ§åˆ¶åè½¬ï¼‰æ˜¯Springçš„æ ¸å¿ƒï¼Œå¯ä»¥ä½¿ç”¨XMLé…ç½®ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ³¨è§£ï¼Œç”šè‡³0é…ç½®å®ç°IoCã€‚</p>
<p>Springå®¹å™¨åœ¨åˆå§‹åŒ–æ—¶å…ˆè¯»å–é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶æˆ–å…ƒæ•°æ®ï¼Œåˆ›å»ºä¸ç»„ç»‡å¯¹è±¡å­˜å…¥å®¹å™¨ä¸­ï¼Œç¨‹åºä½¿ç”¨æ—¶å†ä»IoCä¸­å–å‡ºéœ€è¦çš„å¯¹è±¡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0de352a8c2340f6a3d8fddcea2c7900~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWm9lR3Jhbmdlcg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767513023&amp;x-signature=L7iQy9uiQwxl7qF8%2F08RkXuF%2BsU%3D" alt="iocæ§åˆ¶åè½¬.jpg" loading="lazy"/></p>
<p>é‡‡ç”¨XMLé…ç½®å®ç°Beançš„æ—¶å€™ï¼ŒBeançš„å®šä¹‰ä¿¡æ¯å’Œå®ç°æ˜¯åˆ†ç¦»çš„ï¼›è€Œé‡‡ç”¨æ³¨è§£æ–¹å¼ï¼ŒæŠŠBeançš„å®šä¹‰ä¿¡æ¯å®šä¹‰åœ¨å®ç°ç±»ä¸­ï¼Œå¯ä»¥å®ç°0é…ç½®ã€‚</p>
<h4 data-id="heading-1">æ§åˆ¶åè½¬æ˜¯ä¸€ç§é€šè¿‡æè¿°ï¼ˆXMLæˆ–æ³¨è§£ï¼‰å¹¶é€šè¿‡ç¬¬ä¸‰æ–¹å»ç”Ÿäº§æˆ–è·å–ç‰¹å®šå¯¹è±¡çš„æ–¹å¼ã€‚åœ¨Springä¸­å®ç°æ§åˆ¶åè½¬çš„æ˜¯IoCå®¹å™¨ï¼Œå…¶å®ç°æ–¹å¼æ˜¯ä¾èµ–æ³¨å…¥ DIï¼ˆDependency Injectionï¼‰</h4>
<h2 data-id="heading-2">2.ä»£ç </h2>
<h3 data-id="heading-3">2.1 Helloå®ä½“ç±»</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Hello</span>{
  <span class="hljs-keyword">private</span> String name;

  <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span>{
    <span class="hljs-keyword">return</span> name;
  }

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span>{
    <span class="hljs-built_in">this</span>.name = name;
  }

  <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span>{
    System.out.println(<span class="hljs-string">"Hello,"</span> + name);
  }

}
</code></pre>
<h3 data-id="heading-4">2.2 XMLé…ç½®æ–‡ä»¶</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>
       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- å®šä¹‰ä¸€ä¸ªæ™®é€šçš„bean ä¸€ä¸ªbeanç›¸å½“äºä¸€ä¸ªå¯¹è±¡--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"hello"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.pojo.Hello"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- å¯ä»¥æ·»åŠ å±æ€§ ç»™nameèµ‹å€¼XiaoDouBao--&gt;</span>
        <span class="hljs-comment">&lt;!-- refï¼šå¼•ç”¨Springå®¹å™¨ä¸­åˆ›å»ºå¥½çš„å¯¹è±¡--&gt;</span>
        <span class="hljs-comment">&lt;!-- valueï¼šå…·ä½“çš„å€¼--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"XiaoDouBao"</span>/&gt;</span>  
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">2.3 åŠ è½½é…ç½®æ–‡ä»¶ï¼Œè·å–å¯¹è±¡</h3>
<p>ä¸€ä¸ªæˆ–è€…å¤šä¸ªé…ç½®æ–‡ä»¶å¯ä»¥é€šè¿‡ <code>ApplicationContext</code> æä¾›çš„æ„é€ å‡½æ•°ï¼Œä½¿å®¹å™¨ä»è¿™äº›å¤–éƒ¨èµ„æºåŠ è½½é…ç½®å…ƒæ•°æ®ã€‚</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>{
    <span class="hljs-comment">// è·å–Springçš„ä¸Šä¸‹æ–‡å¯¹è±¡</span>
    <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">"beans.xml"</span>) <span class="hljs-comment">//é…ç½®æ–‡ä»¶çš„åå­—</span>
    <span class="hljs-comment">// æˆ‘ä»¬çš„å¯¹è±¡ç°åœ¨éƒ½åœ¨Springä¸­ç®¡ç†äº†ï¼Œè¦ä½¿ç”¨æ—¶æ ¹æ®é…ç½®æ–‡ä»¶é‡Œçš„idä»å®¹å™¨é‡Œå–å‡ºå°±å¯ä»¥</span>
    <span class="hljs-type">Hello</span> <span class="hljs-variable">hello</span> <span class="hljs-operator">=</span> (Hello)context.getBean(<span class="hljs-string">"hello"</span>);
    System.out.println(hello.getName);  <span class="hljs-comment">//è¾“å‡ºXiaoDouBao</span>
}
</code></pre>
<p><strong>æ§åˆ¶</strong>ï¼šä¼ ç»Ÿçš„åº”ç”¨ç¨‹åºçš„å¯¹è±¡æ˜¯ç”±ç¨‹åºæœ¬èº«åˆ›å»ºçš„ï¼Œä½¿ç”¨Springåï¼Œå¯¹è±¡æ˜¯ç”±Springæ¥åˆ›å»ºçš„ã€‚</p>
<p><strong>åè½¬</strong>ï¼›ç¨‹åºæœ¬èº«ä¸åˆ›å»ºå¯¹è±¡ï¼Œè€Œå˜æˆè¢«åŠ¨åœ°æ¥æ”¶å¯¹è±¡ã€‚</p>
<p><strong>ä¾èµ–æ³¨å…¥</strong>ï¼šå°±æ˜¯åˆ©ç”¨setæ–¹å¼æ¥æ³¨å…¥çš„ï¼Œå¦‚æœæŠŠå®ä½“ç±»Helloä¸­<code>setName</code>æ–¹æ³•æ³¨é‡Šæ‰ï¼Œä¼šæŠ¥é”™ã€‚æ‰€ä»¥Springä¸€å®šè¦æœ‰setæ–¹æ³•ã€‚</p>
<p>è¿™å°±æ˜¯<code>IoCæ§åˆ¶åè½¬</code>å’Œ<code>ä¾èµ–æ³¨å…¥</code>ï¼Œå¯¹è±¡ç”±Springæ¥åˆ›å»ºã€ç®¡ç†ã€è£…é…ï¼</p>
<h2 data-id="heading-6">3.IoCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼</h2>
<p>1.é»˜è®¤ä½¿ç”¨æ— å‚æ„é€ åˆ›å»ºå¯¹è±¡</p>
<p>2.ä¹Ÿå¯ä»¥ä½¿ç”¨æœ‰å‚æ„é€ åˆ›å»ºå¯¹è±¡</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.pojo.User"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- 2.1 ä¸‹æ ‡èµ‹å€¼--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">index</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"DouBao"</span>/&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.pojo.User"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- 2.2 ç±»å‹èµ‹å€¼ï¼Œä¸å»ºè®®ä½¿ç”¨ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªç±»å‹ç›¸åŒçš„å±æ€§ä¼šæŠ¥é”™--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"java.lang.String"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"è±†åŒ…"</span>/&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.pojo.User"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- 2.3 ï¼ˆé‡è¦ï¼‰ç›´æ¥æŒ‡å®šå‚æ•°åæ¥èµ‹å€¼--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"è±†å°åŒ…"</span>/&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

</code></pre>
<p>åœ¨é…ç½®æ–‡ä»¶åŠ è½½çš„æ—¶å€™ï¼Œæ–‡ä»¶ä¸­ç®¡ç†çš„æ‰€æœ‰å¯¹è±¡å°±å·²ç»åˆå§‹åŒ–åˆ°å†…å­˜ä¸­äº†ã€‚å†…å­˜ä¸­å„ä¸ªå¯¹è±¡æœ‰ä¸€ä»½å®ä¾‹</p>
<h2 data-id="heading-7">4.Springé…ç½®</h2>
<h3 data-id="heading-8">4.1 åˆ«å</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.pojo.User"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"XiaoDouBao"</span>/&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>

<span class="hljs-comment">&lt;!-- ä¹Ÿå¯ä»¥ç”¨åˆ«åè·å–å¯¹è±¡--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">alias</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">alias</span>=<span class="hljs-string">"userNew"</span>/&gt;</span>
</code></pre>
<p><code>User user = (User)context.getBean("userNew");</code>ä¹Ÿèƒ½è·å–åˆ°</p>
<h3 data-id="heading-9">4.2 Beançš„é…ç½®</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- idï¼šbeançš„å”¯ä¸€æ ‡è¯†ç¬¦--&gt;</span>
<span class="hljs-comment">&lt;!-- classï¼šbeanæ‰€å¯¹åº”çš„å…¨é™å®šåï¼ˆåŒ…å+ç±»åï¼‰--&gt;</span>
<span class="hljs-comment">&lt;!-- nameï¼šä¹Ÿæ˜¯åˆ«åï¼Œè€Œä¸”å…è®¸å–å¤šä¸ªåˆ«å--&gt;</span> 
    
<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.pojo.User"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"user2 u2,u3;u4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"XiaoDouBao"</span>/&gt;</span>  
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
</code></pre>
<p><code>User user = (User)context.getBean("u2");</code>
<code>User user = (User)context.getBean("u3");</code></p>
<p><code>User user = (User)context.getBean("u4");</code>
<code>User user = (User)context.getBean("user2");</code></p>
<p>éƒ½å¯ä»¥è·å–åˆ°å¯¹è±¡</p>
<h3 data-id="heading-10">4.3 import</h3>
<p>ä¸€èˆ¬ç”¨äºå›¢é˜Ÿå¼€å‘ï¼Œå¯ä»¥å°†å¤šä¸ªé…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚bean.xmlã€bean2.xmlã€bean3.xmlï¼‰é‡Œé¢æ³¨å†Œçš„æ‰€æœ‰beanæ”¾åˆ°ä¸€ä¸ªæ€»çš„é…ç½®æ–‡ä»¶<code>applicationContext.xml</code>é‡Œã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>
       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"bean.xml"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"bean2.xml"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">import</span> <span class="hljs-attr">resource</span>=<span class="hljs-string">"bean3.xml"</span>/&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>
</code></pre>
<h2 data-id="heading-11">5.ä¾èµ–æ³¨å…¥</h2>
<p>beanå¯¹è±¡çš„åˆ›å»ºï¼Œ<strong>ä¾èµ–</strong>äºå®¹å™¨ï¼›beanå¯¹è±¡æ‰€æœ‰å±æ€§ï¼Œç”±å®¹å™¨æ¥<strong>æ³¨å…¥</strong>ï¼</p>
<h3 data-id="heading-12">5.1 åˆ›å»ºä¸€ä¸ªå¤æ‚å®ä½“ç±»</h3>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>{
  <span class="hljs-keyword">private</span> String name;
  <span class="hljs-keyword">private</span> Address address;
  <span class="hljs-keyword">private</span> String[] books;
  <span class="hljs-keyword">private</span> List&lt;String&gt; hobbies;
  <span class="hljs-keyword">private</span> Map&lt;String,String&gt; card;
  <span class="hljs-keyword">private</span> Set&lt;String&gt; games;
  <span class="hljs-keyword">private</span> String wife;
  <span class="hljs-keyword">private</span> Properties info;

  <span class="hljs-comment">//ä»¥ä¸‹çœç•¥getå’Œsetæ–¹æ³•â€¦â€¦</span>
}
</code></pre>
<h3 data-id="heading-13">5.2 æ¼”ç¤ºå¦‚ä½•æ³¨å…¥</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>
       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"addr"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.pojo.Address"</span>/&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"student"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.pojo.Student"</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- 1.æ™®é€šå€¼æ³¨å…¥--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"XiaoDouBao"</span>/&gt;</span>  
        
        <span class="hljs-comment">&lt;!-- 2.ä½¿ç”¨refï¼Œå¼•ç”¨Springå®¹å™¨ä¸­åˆ›å»ºå¥½çš„å¯¹è±¡--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"address"</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"addr"</span>/&gt;</span>  
        
        <span class="hljs-comment">&lt;!-- 3.æ•°ç»„æ³¨å…¥--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"books"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>å“ˆåˆ©æ³¢ç‰¹<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>è‘¬é€çš„èŠ™è‰è²<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>ç”„å¬›ä¼ <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span>                
        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span> 
        
        <span class="hljs-comment">&lt;!-- 4.Listæ³¨å…¥--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hobbies"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>èººå¹³<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>å†™ä»£ç <span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>å¥èº«<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span>                
        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span> 
        
        <span class="hljs-comment">&lt;!-- 5.Mapæ³¨å…¥--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"card"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"IDCard"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"11112222233334444"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"bankCard"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"123456789012346678990"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span>                
        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        
        <span class="hljs-comment">&lt;!-- 6.Setæ³¨å…¥--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"games"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">set</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>ä¿å«èåœ4<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>ç‹è€…è£è€€<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>æ‰«é›·<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">set</span>&gt;</span>                
        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span> 
        
        <span class="hljs-comment">&lt;!-- 7.1 Nullæ³¨å…¥æ–¹å¼ä¸€--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"wife"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">null</span>/&gt;</span>           
        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span> 
        
        <span class="hljs-comment">&lt;!-- 7.2 Nullæ³¨å…¥æ–¹å¼äºŒ--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"wife"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>/&gt;</span>
        
         <span class="hljs-comment">&lt;!-- 8.Propertiesæ³¨å…¥--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"info"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">props</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"driver"</span>&gt;</span>xxxxx<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"url"</span>&gt;</span>xxx<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"username"</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">prop</span> <span class="hljs-attr">key</span>=<span class="hljs-string">"password"</span>&gt;</span>123456<span class="hljs-tag">&lt;/<span class="hljs-name">prop</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">props</span>&gt;</span>                
        <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span> 
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
    
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>

</code></pre>
<h3 data-id="heading-14">5.3 på‘½åå’Œcå‘½å</h3>
<p>på‘½åå’Œcå‘½åä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦å¯¼å…¥çº¦æŸã€‚</p>
<h4 data-id="heading-15">5.3.1 på‘½å</h4>
<p>åœ¨åŸæ¥é…ç½®æ–‡ä»¶åŸºç¡€ä¸ŠåŠ <code>xmlns:p="http://www.springframework.org/schema/p"</code></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>
       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="hljs-attr">xmlns:p</span>=<span class="hljs-string">"http://www.springframework.org/schema/p"</span>
       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>

    <span class="hljs-comment">&lt;!--på‘½åï¼šç›¸å½“äºpropertiesï¼Œç®€åŒ–äº†æ³¨å…¥æ­¥éª¤--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.pojo.User"</span> <span class="hljs-attr">p:name</span>=<span class="hljs-string">"Zoe"</span> <span class="hljs-attr">p:age</span>=<span class="hljs-string">"22"</span> /&gt;</span>
    <span class="hljs-comment">&lt;!--å¯¹æ¯”ï¼š&lt;property name="name" value="Zoe"/&gt;  --&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>
</code></pre>
<h4 data-id="heading-16">5.3.2 cå‘½å</h4>
<p>åœ¨åŸæ¥é…ç½®æ–‡ä»¶åŸºç¡€ä¸ŠåŠ <code>xmlns:c="http://www.springframework.org/schema/c"</code></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans"</span>
       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span>
       <span class="hljs-attr">xmlns:c</span>=<span class="hljs-string">"http://www.springframework.org/schema/c"</span>
       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">"http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span>

    <span class="hljs-comment">&lt;!--cå‘½åï¼šå®ä½“ç±»è¦åŒ…å«æœ‰å‚æ„é€ å‡½æ•°ï¼Œç›¸å½“äºæœ‰å‚æ„é€ å™¨æ³¨å…¥ï¼Œcontructor-arg--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"user"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.pojo.User"</span> <span class="hljs-attr">c:name</span>=<span class="hljs-string">"Zoe"</span> <span class="hljs-attr">p:age</span>=<span class="hljs-string">"18"</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- å¯¹æ¯”ï¼š&lt;constructor-arg name="name" value="Zoe"/&gt;--&gt;</span>
    
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span>
</code></pre>
<h2 data-id="heading-17">6.beançš„ä½œç”¨åŸŸ</h2>
<h3 data-id="heading-18">6.1 singleton å•ä¾‹æ¨¡å¼</h3>
<p><code>&lt;bean id="user2" class="com.pojo.UserT" scope="singleton" /&gt;</code><br/>
Springçš„é»˜è®¤æ¨¡å¼ï¼ŒåŒä¸€ä¸ªç±»å†…å­˜ä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹å¯¹è±¡</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span>{
    <span class="hljs-comment">// è·å–Springçš„ä¸Šä¸‹æ–‡å¯¹è±¡</span>
    <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">"beans.xml"</span>) 
    <span class="hljs-type">UserT</span> <span class="hljs-variable">user1</span> <span class="hljs-operator">=</span> context.getBean(<span class="hljs-string">"user2"</span>,UserT.class);
    <span class="hljs-type">UserT</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> context.getBean(<span class="hljs-string">"user2"</span>,UserT.class);
    System.out.println(user1 == user2);
}
</code></pre>
<p>è¾“å‡ºï¼štrue</p>
<h3 data-id="heading-19">6.2 prototype åŸå‹æ¨¡å¼</h3>
<p><code>&lt;bean id="user2" class="com.pojo.UserT" scope="prototype" /&gt;</code><br/>
æ¯æ¬¡ä»å®¹å™¨ä¸­getçš„æ—¶å€™ï¼Œéƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°å¯¹è±¡</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-meta">@Test</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span>{
    <span class="hljs-comment">// è·å–Springçš„ä¸Šä¸‹æ–‡å¯¹è±¡</span>
    <span class="hljs-type">ApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">"beans.xml"</span>) 
    <span class="hljs-type">UserT</span> <span class="hljs-variable">user1</span> <span class="hljs-operator">=</span> context.getBean(<span class="hljs-string">"user2"</span>,UserT.class);
    <span class="hljs-type">UserT</span> <span class="hljs-variable">user2</span> <span class="hljs-operator">=</span> context.getBean(<span class="hljs-string">"user2"</span>,UserT.class);
    System.out.println(user1 == user2);
}
</code></pre>
<p>è¾“å‡ºï¼šfalse</p>
<p>å‚è€ƒè§†é¢‘ï¼šç‹‚ç¥è¯´<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1WE411d7Dv%3Fspm_id_from%3D333.788.player.switch%26vd_source%3Dc14f0578c618dac9f59449d66709b33a%26p%3D4" target="_blank" title="https://www.bilibili.com/video/BV1WE411d7Dv?spm_id_from=333.788.player.switch&amp;vd_source=c14f0578c618dac9f59449d66709b33a&amp;p=4" ref="nofollow noopener noreferrer">4ã€IOCæœ¬è´¨_å“”å“©å“”å“©_bilibili</a> åˆ° <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1WE411d7Dv%3Fspm_id_from%3D333.788.videopod.episodes%26vd_source%3Dc14f0578c618dac9f59449d66709b33a%26p%3D11" target="_blank" title="https://www.bilibili.com/video/BV1WE411d7Dv?spm_id_from=333.788.videopod.episodes&amp;vd_source=c14f0578c618dac9f59449d66709b33a&amp;p=11" ref="nofollow noopener noreferrer">11ã€Beançš„ä½œç”¨åŸŸ_å“”å“©å“”å“©_bilibili</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»æ— çŠ¶æ€åˆ°æœ‰è®°å¿†ï¼šAI Agent è®°å¿†ç³»ç»Ÿçš„æ¼”è¿›ä¸ Cortex Memory çš„å®è·µ]]></title>    <link>https://juejin.cn/post/7588080521446441006</link>    <guid>https://juejin.cn/post/7588080521446441006</guid>    <pubDate>2025-12-28T08:07:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588080521446441006" data-draft-id="7588080521446424622" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»æ— çŠ¶æ€åˆ°æœ‰è®°å¿†ï¼šAI Agent è®°å¿†ç³»ç»Ÿçš„æ¼”è¿›ä¸ Cortex Memory çš„å®è·µ"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2025-12-28T08:07:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è£æ±Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/2242659449048942"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»æ— çŠ¶æ€åˆ°æœ‰è®°å¿†ï¼šAI Agent è®°å¿†ç³»ç»Ÿçš„æ¼”è¿›ä¸ Cortex Memory çš„å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2242659449048942/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è£æ±Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T08:07:18.000Z" title="Sun Dec 28 2025 08:07:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>Cortex Memoryå¼€æºè§£å†³æ–¹æ¡ˆåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsopaco%2Fcortex-mem" target="_blank" title="https://github.com/sopaco/cortex-mem" ref="nofollow noopener noreferrer">github.com/sopaco/cortâ€¦</a></strong></p>
</blockquote>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p>åœ¨è¿‡å»ä¸¤å¹´é‡Œï¼Œè®°å¿†ï¼ˆMemoryï¼‰å‡ ä¹ä» "å¯é€‰æ¨¡å—" è¿…é€Ÿå˜æˆäº† Agent ç³»ç»Ÿçš„ "åŸºç¡€è®¾æ–½"ã€‚å¯¹è¯å‹åŠ©æ‰‹éœ€è¦è®°ä½ç”¨æˆ·ä¹ æƒ¯ä¸å†å²åå¥½ï¼›ä»£ç /è½¯ä»¶å·¥ç¨‹ Agent éœ€è¦è®°ä½ä»“åº“ç»“æ„ã€çº¦æŸä¸ä¿®å¤ç­–ç•¥ï¼›æ·±åº¦ç ”ç©¶å‹ Agent éœ€è¦è®°ä½å·²é˜…è¯»çš„è¯æ®é“¾ã€å…³é”®å‡è®¾ä¸å¤±è´¥è·¯å¾„ã€‚</p>
<p>æ²¡æœ‰è®°å¿†çš„æ™ºèƒ½ä½“éš¾ä»¥è·¨ä»»åŠ¡ä¿ç•™æœ‰æ•ˆç»éªŒï¼Œéš¾ä»¥ç¨³å®šç»´æŠ¤ç”¨æˆ·åå¥½ä¸èº«ä»½è®¾å®šï¼Œä¹Ÿéš¾ä»¥åœ¨é•¿å‘¨æœŸåä½œä¸­ä¿æŒè¡Œä¸ºä¸€è‡´ã€‚ä¸æ­¤åŒæ—¶ï¼ŒMemory æ¦‚å¿µåœ¨è¿…é€Ÿè†¨èƒ€ã€ä¹Ÿåœ¨è¿…é€Ÿç¢ç‰‡åŒ–ï¼šå¾ˆå¤šè®ºæ–‡éƒ½å£°ç§°è‡ªå·±åœ¨åš "agent memory"ï¼Œä½†å®ç°æ–¹å¼ã€ç›®æ ‡å‡è®¾ã€è¯„ä»·åè®®å·®åˆ«å·¨å¤§ã€‚</p>
<p>åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼Œæ¥è‡ªæ–°åŠ å¡å›½ç«‹å¤§å­¦ã€ä¸­å›½äººæ°‘å¤§å­¦ã€å¤æ—¦å¤§å­¦ã€åŒ—äº¬å¤§å­¦ç­‰é¡¶çº§å­¦æœ¯æœºæ„å…±åŒæ’°å†™å¹¶å‘å¸ƒäº†ç™¾é¡µç»¼è¿°ã€ŠMemory in the Age of AI Agents: A Surveyã€‹ï¼Œè¯•å›¾ç”¨ç»Ÿä¸€è§†è§’ä¸ºå¿«é€Ÿæ‰©å¼ ã€å´æ—¥ç›Šç¢ç‰‡åŒ–çš„ "Agent Memory" é‡æ–°æ¢³ç†æŠ€æœ¯è·¯å¾„ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0da031a3d3ff467b969811b38fab66b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2j5rGf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767514037&amp;x-signature=R5BFav3HIowedXQ1Hm%2BxC6zzAB0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-1">è¡Œä¸šç°çŠ¶ï¼šè®°å¿†ç³»ç»Ÿçš„ä¸‰å¤§æŒ‘æˆ˜</h2>
<h3 data-id="heading-2">1. æ¦‚å¿µæ··æ·†ï¼šAgent Memory â‰  RAG â‰  Context Engineering</h3>
<p>åœ¨å¤§é‡å·¥ç¨‹å®è·µä¸­ï¼Œ"Memory" è¿™ä¸ªè¯å¾€å¾€è¢«è¿…é€Ÿç®€åŒ–ä¸ºå‡ ä¸ªå…·ä½“å®ç°ï¼šä¸€ä¸ªå‘é‡æ•°æ®åº“åŠ ä¸Šç›¸ä¼¼åº¦æ£€ç´¢ï¼Œæˆ–è€…å¹²è„†ç­‰åŒä¸ºæ›´é•¿çš„ä¸Šä¸‹æ–‡çª—å£ã€æ›´å¤§çš„ KV cacheã€‚ç„¶è€Œï¼Œè¿™äº›æŠ€æœ¯ä¸çœŸæ­£çš„ Agent Memory å­˜åœ¨æœ¬è´¨åŒºåˆ«ï¼š</p>
<ul>
<li><strong>Agent Memory</strong>ï¼šå…³æ³¨çš„æ˜¯æ™ºèƒ½ä½“æŒç»­ç»´æŒçš„è®¤çŸ¥çŠ¶æ€ï¼Œå®ƒä¸ä»… "å­˜"ï¼Œè¿˜è¦èƒ½åœ¨äº¤äº’ä¸­ä¸æ–­æ›´æ–°ã€æ•´åˆã€çº é”™ã€æŠ½è±¡ï¼Œå¹¶è·¨ä»»åŠ¡ä¿æŒä¸€è‡´æ€§ã€‚</li>
<li><strong>RAG</strong>ï¼šé€šå¸¸å¼ºè°ƒä»å¤–éƒ¨çŸ¥è¯†åº“æ£€ç´¢é™æ€ä¿¡æ¯ä»¥æå‡å›ç­”äº‹å®æ€§ï¼Œæ›´åƒ "çŸ¥è¯†è®¿é—®æ¨¡å—"ï¼Œè€Œéå®Œæ•´è®°å¿†ç³»ç»Ÿã€‚</li>
<li><strong>Context Engineering</strong>ï¼šä¼˜åŒ–çš„æ˜¯ "æ­¤åˆ»æ¨¡å‹çœ‹åˆ°ä»€ä¹ˆ"ï¼Œæ˜¯å¤–éƒ¨è„šæ‰‹æ¶ï¼›è€Œ Agent Memory æ˜¯æ”¯æŒå­¦ä¹ ä¸è‡ªä¸»æ€§çš„å†…éƒ¨åŸºåº•ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3a1f9b9df2064320ac6b6efa19baa311~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2j5rGf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767514037&amp;x-signature=6w1SI4PCOyyeMDpLbVHYRBLmJRg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></li>
</ul>
<h3 data-id="heading-3">2. æŠ€æœ¯ç¢ç‰‡åŒ–ï¼šç¼ºä¹ç»Ÿä¸€æ¡†æ¶</h3>
<p>ä¼ ç»Ÿçš„ "é•¿/çŸ­æœŸè®°å¿†" äºŒåˆ†æ³•å·²ç»ä¸è¶³ä»¥æè¿°å½“ä»£ç³»ç»Ÿé‡Œæ›´å¤æ‚çš„ç»“æ„å½¢æ€ä¸åŠ¨æ€æœºåˆ¶ã€‚æœ‰çš„è®°å¿†æ˜¯æ˜¾å¼ token å­˜å‚¨ï¼Œæœ‰çš„å†™è¿›å‚æ•°ï¼Œæœ‰çš„é©»ç•™åœ¨æ½œåœ¨çŠ¶æ€ï¼›æœ‰çš„æœåŠ¡äºäº‹å®ä¸€è‡´æ€§ï¼Œæœ‰çš„æœåŠ¡äºç»éªŒè¿ç§»ï¼Œæœ‰çš„æœåŠ¡äºå•æ¬¡ä»»åŠ¡çš„å·¥ä½œå°ç®¡ç†ã€‚</p>
<p>ç»¼è¿°æå‡º Formsâ€“Functionsâ€“Dynamics ä¸‰è§’æ¡†æ¶ï¼Œè¯•å›¾å›ç­”ä¸‰ç±»æ ¸å¿ƒé—®é¢˜ï¼š</p>
<ul>
<li><strong>Forms</strong>ï¼šè®°å¿†ä»¥ä»€ä¹ˆå½¢å¼å­˜åœ¨ï¼Ÿæ˜¯å¤–éƒ¨ tokenã€å‚æ•°ï¼Œè¿˜æ˜¯æ½œåœ¨çŠ¶æ€ï¼Ÿ</li>
<li><strong>Functions</strong>ï¼šè®°å¿†è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿå®ƒæœåŠ¡äºäº‹å®ä¸€è‡´ã€ç»éªŒæˆé•¿ï¼Œè¿˜æ˜¯ä»»åŠ¡å†…å·¥ä½œè®°å¿†ï¼Ÿ</li>
<li><strong>Dynamics</strong>ï¼šè®°å¿†å¦‚ä½•è¿è½¬ä¸æ¼”åŒ–ï¼Ÿå®ƒå¦‚ä½•å½¢æˆã€å¦‚ä½•è¢«ç»´æŠ¤ä¸æ›´æ–°ã€åˆå¦‚ä½•åœ¨å†³ç­–æ—¶è¢«æ£€ç´¢ä¸åˆ©ç”¨ï¼Ÿ
è¯·æ·»åŠ å›¾ç‰‡æè¿°</li>
</ul>
<h3 data-id="heading-4">3. å·¥ç¨‹å®è·µï¼šä»å¯å‘å¼åˆ°è‡ªä¼˜åŒ–çš„é¸¿æ²Ÿ</h3>
<p>å¦‚ä»Šå¾ˆå¤šæ­è½½ memory çš„ Agentï¼Œå…¶è®°å¿†è¡Œä¸ºæœ¬è´¨ä»æ˜¯å·¥ç¨‹è§„åˆ™ â€”â€” å†™ä»€ä¹ˆã€ä»€ä¹ˆæ—¶å€™å†™ã€æ€ä¹ˆæ›´æ–°/æ€ä¹ˆå–ï¼Œéƒ½é æç¤ºè¯ã€é˜ˆå€¼ã€äººå·¥ç­–ç•¥ã€‚è¿™æ ·åšçš„å¥½å¤„æ˜¯æˆæœ¬ä½ã€å¯è§£é‡Šã€å¯å¤ç°ï¼Œé€‚åˆå¿«é€ŸåŸå‹ï¼›ä½†ç¼ºç‚¹ä¹ŸåŒæ ·è‡´å‘½ï¼šåƒµç¡¬ã€éš¾æ³›åŒ–ï¼Œåœ¨é•¿ç¨‹æˆ–å¼€æ”¾å¼äº¤äº’é‡Œå®¹æ˜“å¤±æ•ˆã€‚</p>
<h2 data-id="heading-5">Cortex Memoryï¼šé¢å‘ç”Ÿäº§ç¯å¢ƒçš„è®°å¿†ç³»ç»Ÿè§£å†³æ–¹æ¡ˆ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8542f08a20449abbb5b881d3b834a0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2j5rGf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767514037&amp;x-signature=LdyVCZ8SEVHK9D%2FqBeYYXEtBXi4%3D" alt="è¯·æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>Cortex Memory æ˜¯ä¸€ä¸ªç”¨ Rust æ„å»ºçš„å®Œæ•´ã€ç”Ÿäº§å°±ç»ªçš„ AI åŸç”Ÿè®°å¿†æ¡†æ¶ï¼Œå®ƒä¸ä»…è§£å†³äº†ä¸Šè¿°è¡Œä¸šç—›ç‚¹ï¼Œæ›´æä¾›äº†é¢å‘æœªæ¥çš„å¯æ‰©å±•æ¶æ„ã€‚</p>
<h3 data-id="heading-6">æ ¸å¿ƒç‰¹æ€§</h3>
<h4 data-id="heading-7">1. æ™ºèƒ½äº‹å®æå–ï¼ˆFact Extractionï¼‰</h4>
<p>Cortex Memory è‡ªåŠ¨ä»éç»“æ„åŒ–æ–‡æœ¬ä¸­æå–å…³é”®äº‹å®å’Œæ´å¯Ÿï¼Œä½¿ç”¨ LLM è¿›è¡Œæ·±åº¦åˆ†æã€‚è¿™å¯¹åº” Forms æ¡†æ¶ä¸­çš„ Token-level Memoryï¼Œå°†ä¿¡æ¯å­˜æˆæŒä¹…ã€ç¦»æ•£ã€å¯å¤–éƒ¨è®¿é—®ä¸æ£€æŸ¥çš„å•å…ƒã€‚</p>
<p><strong>è¡Œä¸šä»·å€¼</strong>ï¼šè§£å†³ "åŸå§‹ä¸Šä¸‹æ–‡" åˆ° "å¯å­˜å¯å–çš„çŸ¥è¯†" çš„è½¬åŒ–é—®é¢˜ï¼Œé¿å… full-context prompting å¸¦æ¥çš„è®¡ç®—å¼€é”€ã€å†…å­˜å‹åŠ›å’Œæ¨ç†é€€åŒ–ã€‚</p>
<h4 data-id="heading-8">2. è®°å¿†åˆ†ç±»ä¸å»é‡ï¼ˆClassification &amp; Deduplicationï¼‰</h4>
<p>è‡ªåŠ¨ç»„ç»‡è®°å¿†å¹¶æ¶ˆé™¤å†—ä½™ä¿¡æ¯ï¼Œä¿æŒçŸ¥è¯†åº“çš„æ¸…æ´å’Œé«˜æ•ˆã€‚è¿™å¯¹åº” Functions æ¡†æ¶ä¸­çš„ Factual Memory ç®¡ç†ï¼Œæä¾›ä¸€ä¸ªå¯æ›´æ–°ã€å¯æ£€ç´¢ã€å¯æ²»ç†çš„å¤–éƒ¨äº‹å®å±‚ã€‚</p>
<p><strong>è¡Œä¸šä»·å€¼</strong>ï¼šè®©ç³»ç»Ÿåœ¨è·¨ session/è·¨é˜¶æ®µæ—¶æœ‰ç¨³å®šå‚è€ƒï¼Œé¿å…äº‹å®æ•£è½åœ¨å†å²å¯¹è¯é‡Œè¢«é—å¿˜ã€è¢«è¯¯å¼•ã€è¢«ç¼–é€ ã€‚</p>
<h4 data-id="heading-9">3. è‡ªåŠ¨è®°å¿†ä¼˜åŒ–ï¼ˆAutomated Optimizationï¼‰</h4>
<p>å®šæœŸå®¡æŸ¥ã€æ•´åˆå’Œç»†åŒ–è®°å¿†ï¼Œæé«˜ç›¸å…³æ€§å¹¶é™ä½æˆæœ¬ã€‚è¿™å¯¹åº” Dynamics æ¡†æ¶ä¸­çš„ Evolution é˜¶æ®µï¼Œé€šè¿‡åˆå¹¶ç›¸å…³æ¡ç›®ã€å†²çªæ¶ˆè§£ã€å‰ªæç­‰æœºåˆ¶ï¼Œè®©è®°å¿†ä¿æŒå¯æ³›åŒ–ã€è¿è´¯ä¸”é«˜æ•ˆã€‚</p>
<p><strong>è¡Œä¸šä»·å€¼</strong>ï¼šè§£å†³è®°å¿†åº“çš„ "ç»´æŠ¤ä¸æ–°é™ˆä»£è°¢" é—®é¢˜ï¼Œé¿å…è®°å¿†ç³»ç»Ÿåœ¨é•¿æœŸè¿è¡Œä¸­å˜å¾—è‡ƒè‚¿å’Œæ··ä¹±ã€‚</p>
<h4 data-id="heading-10">4. å‘é‡è¯­ä¹‰æœç´¢ï¼ˆVector-Based Semantic Searchï¼‰</h4>
<p>ä½¿ç”¨é«˜æ€§èƒ½å‘é‡ç›¸ä¼¼åº¦æœç´¢æ‰¾åˆ°æœ€ç›¸å…³çš„è®°å¿†ï¼Œæ”¯æŒå¤šè·³æ¨ç†ã€å…³ç³»çº¦æŸä¸ä¸€è‡´æ€§ç»´æŠ¤ã€‚</p>
<p><strong>è¡Œä¸šä»·å€¼</strong>ï¼šæä¾› Planar Memoryï¼ˆ2Dï¼‰çš„ç»„ç»‡èƒ½åŠ›ï¼Œè®©è®°å¿†å•å…ƒä¹‹é—´é€šè¿‡å…³ç³»è¿æ¥ï¼Œæ”¯æŒå¤æ‚æŸ¥è¯¢å’Œæ¨ç†ã€‚</p>
<h3 data-id="heading-11">æŠ€æœ¯æ¶æ„ä¼˜åŠ¿</h3>
<h4 data-id="heading-12">Rust å¸¦æ¥çš„é«˜æ€§èƒ½ä¸å®‰å…¨æ€§</h4>
<p>Cortex Memory ä½¿ç”¨ Rust æ„å»ºï¼Œå¤©ç„¶å…·å¤‡å†…å­˜å®‰å…¨ã€å¹¶å‘å®‰å…¨å’Œé«˜æ€§èƒ½ç‰¹æ€§ã€‚è¿™å¯¹äºéœ€è¦å¤„ç†å¤§é‡è®°å¿†æ•°æ®å’Œé¢‘ç¹æ£€ç´¢çš„ç”Ÿäº§ç¯å¢ƒè‡³å…³é‡è¦ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    subgraph &amp;#34;User Interfaces&amp;#34;
        A[HTTP Client] --&gt; C[cortex-mem-service]
        B[Terminal User] --&gt; D[cortex-mem-cli]
        E[AI Agent] --&gt; F[cortex-mem-mcp]
        G[TUI Application] --&gt; H[cortex-mem-tars]
    end

    C --&gt; I[cortex-mem-core]
    D --&gt; I
    F --&gt; I
    H --&gt; I

    subgraph &amp;#34;Core Engine&amp;#34;
        I --&gt; J[LLM Client]
        I --&gt; K[Qdrant Vector Store]
    end

    I --&gt; L[cortex-mem-insights]
    L --&gt; M[Dashboard UI]

    style I fill:#4a90e2,color:white
    style J fill:#50c878,color:white
    style K fill:#d64161,color:white
</code></pre>
<h4 data-id="heading-13">æ¨¡å—åŒ–ç”Ÿæ€ç³»ç»Ÿè®¾è®¡</h4>
<pre><code class="hljs language-css" lang="css">cortex-mem-core      â†’ æ ¸å¿ƒè®°å¿†ç®¡ç†å¼•æ“
cortex-mem-service   â†’ <span class="hljs-attribute">REST</span> API æœåŠ¡
cortex-mem-cli       â†’ å‘½ä»¤è¡Œå·¥å…·
cortex-mem-insights  â†’ Web ç®¡ç†ä»ªè¡¨æ¿
cortex-mem-mcp       â†’ MCP é€‚é…å™¨
cortex-mem-rig       â†’ Agent æ¡†æ¶é›†æˆ
</code></pre>
<p>è¿™ç§è®¾è®¡æä¾›äº†çµæ´»æ€§å’Œå…³æ³¨ç‚¹åˆ†ç¦»ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„é›†æˆæ–¹å¼ã€‚</p>
<h4 data-id="heading-14">å¯è§‚æµ‹æ€§å·¥å…·é›†æˆ</h4>
<p>æä¾›å¼ºå¤§çš„ Web ä»ªè¡¨æ¿ï¼ˆcortex-mem-insightsï¼‰ï¼Œæ”¯æŒå®æ—¶ç›‘æ§ã€åˆ†æå’Œç®¡ç†è®°å¿†ç³»ç»Ÿã€‚è¿™å¯¹åº”è¡Œä¸šå‰æ²¿å±•æœ›ä¸­çš„ "å¯è§£é‡Šæ€§" è¦æ±‚ â€”â€” ä¸ä»…è¦çœ‹åˆ° "è®°å¿†å†…å®¹"ï¼Œè¿˜è¦èƒ½è¿½è¸ª "è®¿é—®è·¯å¾„"ã€‚</p>
<h2 data-id="heading-15">è¡Œä¸šè¶‹åŠ¿ä¸ Cortex Memory çš„å‰ç»æ€§</h2>
<h3 data-id="heading-16">è¶‹åŠ¿ä¸€ï¼šä» Memory Retrieval åˆ° Memory Generation</h3>
<p>ä¼ ç»Ÿæ£€ç´¢èŒƒå¼æŠŠè®°å¿†çœ‹æˆä¸€ä¸ªå·²ç» "å†™å¥½" çš„ä»“åº“ã€‚ä½† Agent çœŸæ­£çš„é•¿æœŸèƒ½åŠ›ä¸åªä¾èµ– "å–å›æ—§æ–‡æœ¬"ï¼Œè€Œæ›´ä¾èµ–ä¸€ç§é¢å‘æœªæ¥çš„æŠ½è±¡ã€‚</p>
<p><strong>Cortex Memory çš„å®è·µ</strong>ï¼š</p>
<ul>
<li>è‡ªåŠ¨è®°å¿†ä¼˜åŒ–æœºåˆ¶å®ç°äº† "Retrieve-then-Generate" æ€è·¯ï¼Œå°†æ£€ç´¢åˆ°çš„ææ–™é‡å†™æˆæ›´ç´§å‡‘ã€æ›´ä¸€è‡´ã€æ›´ä»»åŠ¡ç›¸å…³çš„ "å¯ç”¨è®°å¿†"</li>
<li>ä¿ç•™å¯è¿½æº¯çš„å†å² groundingï¼ŒåŒæ—¶æå‡å¯ç”¨æ€§</li>
</ul>
<h3 data-id="heading-17">è¶‹åŠ¿äºŒï¼šä» Hand-crafted åˆ° Automated Memory Management</h3>
<p>è®© Agent è‡ªä¸»å‚ä¸è®°å¿†ç®¡ç†ï¼Œè€Œä¸æ˜¯ä¾èµ–äººå·¥è§„åˆ™ã€‚</p>
<p><strong>Cortex Memory çš„å®è·µ</strong>ï¼š</p>
<ul>
<li>è‡ªåŠ¨è®°å¿†åˆ†ç±»ã€å»é‡å’Œä¼˜åŒ–</li>
<li>å¯é…ç½®çš„ä¼˜åŒ–è°ƒåº¦å’Œå‚æ•°</li>
<li>ä¸ºæœªæ¥æ¥å…¥ RL-driven æ§åˆ¶é¢„ç•™æ¥å£</li>
</ul>
<h3 data-id="heading-18">è¶‹åŠ¿ä¸‰ï¼šå¯ä¿¡è®°å¿†ï¼šéšç§ã€å¯è§£é‡Šä¸æŠ—å¹»è§‰</h3>
<p>å½“è®°å¿†è¿›å…¥é•¿æœŸã€ä¸ªæ€§åŒ–ã€è·¨ä¼šè¯å­˜å‚¨åï¼Œé—®é¢˜å·²ç»ä»ä¼ ç»Ÿ RAG çš„ "æ˜¯å¦ä¼šèƒ¡è¯´"ï¼Œæ‰©å±•åˆ°éšç§ã€å®‰å…¨ã€å¯æ§ä¸å¯å®¡è®¡ã€‚</p>
<p><strong>Cortex Memory çš„å®è·µ</strong>ï¼š</p>
<ul>
<li>ç”¨æˆ·çº§å’Œä»£ç†çº§çš„è®°å¿†éš”ç¦»ï¼Œæ”¯æŒç»†ç²’åº¦æƒé™æ§åˆ¶</li>
<li>å®Œæ•´çš„å®¡è®¡æ—¥å¿—å’Œå¯è¿½æº¯æ€§</li>
<li>Web ä»ªè¡¨æ¿æä¾›å¯è§†åŒ–è®°å¿†è®¿é—®è·¯å¾„</li>
</ul>
<h3 data-id="heading-19">è¶‹åŠ¿å››ï¼šå¤šæ¨¡æ€è®°å¿†</h3>
<p>éšç€ Agent èµ°å‘å…·èº«ã€äº¤äº’å¼ç¯å¢ƒï¼Œä¿¡æ¯æ¥æºå¤©ç„¶æ˜¯å¤šæ¨¡æ€çš„ã€‚</p>
<p><strong>Cortex Memory çš„å®è·µ</strong>ï¼š</p>
<ul>
<li>æ¶æ„è®¾è®¡æ”¯æŒæ‰©å±•åˆ°å¤šæ¨¡æ€è¾“å…¥</li>
<li>ç»Ÿä¸€çš„å‘é‡å­˜å‚¨å’Œæ£€ç´¢æœºåˆ¶ï¼Œä¸ºæœªæ¥å¤šæ¨¡æ€èåˆå¥ å®šåŸºç¡€</li>
</ul>
<h2 data-id="heading-20">å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-21">1. ä¸ªæ€§åŒ–å¯¹è¯åŠ©æ‰‹</h3>
<p>è®°ä½ç”¨æˆ·åå¥½ã€å†å²äº¤äº’å’Œå…³é”®ç»†èŠ‚ï¼Œæä¾›æ·±åº¦ä¸ªæ€§åŒ–çš„å¯¹è¯ä½“éªŒã€‚</p>
<h3 data-id="heading-22">2. ä»£ç /è½¯ä»¶å·¥ç¨‹ Agent</h3>
<p>è®°ä½ä»“åº“ç»“æ„ã€çº¦æŸä¸ä¿®å¤ç­–ç•¥ï¼Œé¿å…é‡å¤çŠ¯é”™ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚</p>
<h3 data-id="heading-23">3. æ·±åº¦ç ”ç©¶å‹ Agent</h3>
<p>è®°ä½å·²é˜…è¯»çš„è¯æ®é“¾ã€å…³é”®å‡è®¾ä¸å¤±è´¥è·¯å¾„ï¼Œæ”¯æŒé•¿å‘¨æœŸç ”ç©¶å’Œæ¨ç†ã€‚</p>
<h3 data-id="heading-24">4. å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿ</h3>
<p>æ”¯æŒå…±äº«è®°å¿†ï¼Œå‡å°‘é‡å¤ï¼Œåˆ©äºé•¿ç¨‹åä½œï¼Œé¿å…ä¸Šä¸‹æ–‡å‰²è£‚ã€‚</p>
<h2 data-id="heading-25">ç»“è¯­ï¼šæŠŠ "è®°å¿†" å½“ä½œæ™ºèƒ½ä½“çš„ First-Class Primitive</h2>
<p>éšç€ AI Agent ä»åŸå‹èµ°å‘ç”Ÿäº§ï¼Œè®°å¿†ç³»ç»Ÿå·²ç»ä» "å¯é€‰æ¨¡å—" æ¼”è¿›ä¸º "åŸºç¡€è®¾æ–½"ã€‚Cortex Memory æ­£æ˜¯åœ¨è¿™ä¸ªå…³é”®èŠ‚ç‚¹ï¼Œæä¾›äº†ä¸€ä¸ªå®Œæ•´ã€ç”Ÿäº§å°±ç»ªçš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>å®ƒä¸ä»…è§£å†³äº†å½“å‰è¡Œä¸šé¢ä¸´çš„æ¦‚å¿µæ··æ·†ã€æŠ€æœ¯ç¢ç‰‡åŒ–å’Œå·¥ç¨‹å®è·µéš¾é¢˜ï¼Œæ›´é€šè¿‡å‰ç»æ€§çš„æ¶æ„è®¾è®¡ï¼Œä¸ºæœªæ¥ä»å¯å‘å¼åˆ°è‡ªä¼˜åŒ–ã€ä»æ£€ç´¢åˆ°ç”Ÿæˆã€ä»å•æ¨¡æ€åˆ°å¤šæ¨¡æ€çš„æ¼”è¿›å¥ å®šäº†åŸºç¡€ã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨æ„å»ºéœ€è¦é•¿æœŸè®°å¿†çš„ AI åº”ç”¨ï¼ŒCortex Memory å€¼å¾—ä½ æ·±å…¥äº†è§£å’Œå°è¯•ã€‚</p>
<hr/>
<p><strong>é¡¹ç›®åœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsopaco%2Fcortex-mem" target="_blank" title="https://github.com/sopaco/cortex-mem" ref="nofollow noopener noreferrer">github.com/sopaco/cortâ€¦</a></p>
<p><strong>ç›¸å…³è®ºæ–‡</strong>ï¼šMemory in the Age of AI Agents: A Survey (<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.13564" target="_blank" title="https://arxiv.org/abs/2512.13564" ref="nofollow noopener noreferrer">arxiv.org/abs/2512.13â€¦</a>)</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ†åº“åˆ†è¡¨æ•°æ®æºShardingSphereDataSourceçš„Connectionå…ƒæ•°æ®è¯¯ç”¨é—®é¢˜åˆ†æ]]></title>    <link>https://juejin.cn/post/7588098335791169536</link>    <guid>https://juejin.cn/post/7588098335791169536</guid>    <pubDate>2025-12-28T08:15:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588098335791169536" data-draft-id="7588093282531278900" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ†åº“åˆ†è¡¨æ•°æ®æºShardingSphereDataSourceçš„Connectionå…ƒæ•°æ®è¯¯ç”¨é—®é¢˜åˆ†æ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-28T08:15:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é©¬å¡å·´å¡"/> <meta itemprop="url" content="https://juejin.cn/user/1892677617451163"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ†åº“åˆ†è¡¨æ•°æ®æºShardingSphereDataSourceçš„Connectionå…ƒæ•°æ®è¯¯ç”¨é—®é¢˜åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1892677617451163/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é©¬å¡å·´å¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T08:15:19.000Z" title="Sun Dec 28 2025 08:15:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>å¯¹äºåˆ†åº“åˆ†è¡¨åº”ç”¨æ¥è¯´ï¼Œä½¿ç”¨org.apache.shardingsphere.driver.jdbc.core.datasource.ShardingSphereDataSourceæ˜¯ä¸€ä¸ªä¸é”™çš„è§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ç¼–å†™åˆ†åº“åˆ†è¡¨è§„åˆ™ï¼Œä»è€Œåœ¨ç¼–ç æ—¶é€æ˜åœ°ä½¿ç”¨åˆ†è¡¨ï¼ˆå½“ç„¶ï¼Œè·¯ç”±è§„åˆ™çš„ç›¸å…³å­—æ®µè¿˜æ˜¯è¦ä¼ çš„</p>
<p>ä½†æ˜¯ï¼Œåœ¨ä¸€äº›åœºæ™¯ä¸­æ˜¯éœ€è¦ç»•è¿‡mybatisç›´æ¥åšä¸€äº›æ“ä½œçš„ï¼Œç‰¹åˆ«æ˜¯å’Œæ•°æ®åº“å…ƒæ•°æ®ç›¸å…³çš„æ“ä½œï¼ˆåŒ…æ‹¬è¡¨çš„ç»“æ„å˜æ›´ï¼‰ã€‚</p>
<p>æ¯”å¦‚æˆ‘é‡åˆ°çš„åœºæ™¯ï¼šå…ˆæŸ¥è¯¢å„ä¸ªåˆ†åº“ä¸­æœ‰å“ªäº›å‰ç¼€ä¸º<code>table_</code>çš„è¡¨ï¼Œå¹¶ç»™è¿™äº›è¡¨åŠ ä¸€åˆ—<code>col_x</code>ã€‚</p>
<p>æˆ‘ç»“åˆç°æœ‰ä»£ç å’Œå¤§è¯­è¨€æ¨¡å‹ï¼Œå…ˆå†™äº†ä¸€ç‰ˆï¼Œçº¿ä¸‹è¿è¡Œè‰¯å¥½ï¼Œä½†æ˜¯çº¿ä¸Šçš„æŸäº›åˆ†åº“æ­»æ´»æ‰¾ä¸åˆ°å¯¹åº”çš„åˆ†è¡¨ï¼Œæ²¡æ³•è¿›è¡Œåç»­çš„å¤„ç†ã€‚è¿™ä¸ªé—®é¢˜æŸ¥äº†å¾ˆä¹…ï¼Œæ˜¨å¤©ç»ˆäºè§£å†³äº†ï¼Œå› æ­¤åˆ†äº«å‡ºæ¥ã€‚</p>
<h2 data-id="heading-1">å­˜åœ¨é—®é¢˜çš„ä»£ç </h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Componet</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TableAlterHandler</span> {
    <span class="hljs-meta">@Resource</span> <span class="hljs-keyword">private</span> <span class="hljs-title class_">ShardingSphereDataSource</span> dataSource;
    
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; <span class="hljs-title function_">findTablesByPrefix</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> prefix, <span class="hljs-built_in">String</span> physicalSchemaName</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">StringUtils</span>.<span class="hljs-title function_">isBlank</span>(prefix) || <span class="hljs-title class_">StringUtils</span>.<span class="hljs-title function_">isBlank</span>(physicalSchemaName)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"åˆ†è¡¨å‰ç¼€æˆ–åˆ†åº“åä¸ºç©º"</span>);
        }
        <span class="hljs-title class_">List</span>&lt;<span class="hljs-title class_">String</span>&gt; tableNames = <span class="hljs-title class_">Lists</span>.<span class="hljs-title function_">newArrayList</span>();
        <span class="hljs-keyword">try</span> (<span class="hljs-title class_">HintManager</span> hintManager = <span class="hljs-title class_">HintManager</span>.<span class="hljs-title function_">getInstance</span>();
             <span class="hljs-title class_">Connection</span> conn = dataSource.<span class="hljs-title function_">getConnection</span>()) {
             hintManager.<span class="hljs-title function_">setDataSourceName</span>(<span class="hljs-title class_">DBUtil</span>.<span class="hljs-title function_">queryLogicalSchemaName</span>(physicalSchemaName));
            <span class="hljs-title class_">DatabaseMetaData</span> metaData = conn.<span class="hljs-title function_">getMetaData</span>();
            <span class="hljs-keyword">try</span> (<span class="hljs-title class_">ResultSet</span> rs = metaData.<span class="hljs-title function_">getTables</span>(physicalSchemaName, <span class="hljs-literal">null</span>, prefix + <span class="hljs-string">"%"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[] {<span class="hljs-string">"TABLE"</span>})) {
                <span class="hljs-keyword">while</span> (rs.<span class="hljs-title function_">next</span>()) {
                    <span class="hljs-title class_">String</span> tableName = rs.<span class="hljs-title function_">getString</span>(<span class="hljs-string">"TABLE_NAME"</span>);
                    tableNames.<span class="hljs-title function_">add</span>(tableName);
                }
            }
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">SQLException</span> e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"å¤„ç†å¤§ç»“æœé›†å¤±è´¥"</span>, e);
        }
        <span class="hljs-keyword">return</span> tableNames;
    }
}
</code></pre>
<h3 data-id="heading-2">é€»è¾‘åº“å’Œç‰©ç†åº“</h3>
<p>åœ¨åˆ†æé—®é¢˜ä¹‹å‰ï¼Œé¦–å…ˆè¦æ˜ç¡®ä¸¤ä¸ªæ¦‚å¿µï¼šç‰©ç†åº“åphysicalSchemaNameå’Œé€»è¾‘åº“ålogicalSchemaNameï¼Œå¦‚æœç”¨é”™äº†ï¼Œå¯èƒ½ä¼šè®©ä½ æ²¡åŠæ³•å‘ç°åç»­é—®é¢˜çš„æœ¬è´¨åŸå› ã€‚ä¸Šé¢çš„ä»£ç ï¼ŒhintManagerå¿…é¡»ç”¨é€»è¾‘åº“åï¼Œè€ŒmetaData.getTableså¿…é¡»ç”¨ç‰©ç†åº“åã€‚</p>
<p>æ‰€è°“ç‰©ç†åº“å’Œé€»è¾‘åº“ï¼Œå¯ä»¥çœ‹ä½œæ˜¯æˆ‘å®šä¹‰çš„æ¦‚å¿µã€‚æ­£å¦‚å…¶åï¼Œç‰©ç†åº“åå°±æ˜¯ä½ jdbcUrlé‡Œçš„åº“åï¼Œæ¯”å¦‚ä¸€ä¸ªå…¸å‹çš„é˜¿é‡Œäº‘Mysqlçš„JDBCé“¾æ¥<code>jdbc:mysql://``rm-bpxxxx.mysql.rds.aliyuncs.com/bizcenter_1?useSSL=false&amp;autoReconnect=true&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghai</code></p>
<p>å…¶ä¸­çš„bizcenter_1å°±æ˜¯ç‰©ç†åº“åã€‚è¿™ä¸ªåç§°ä¹Ÿä¼šåœ¨MySqlå…ƒæ•°æ®ä¸­å‡ºç°ï¼Œæ¯”å¦‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> information_schema.tables;
</code></pre>
<p>å¯ä»¥çœ‹åˆ°è¿™ä¸ªåº“çš„æ‰€æœ‰è¡¨ï¼Œè€ŒTABLE_SCHEMAåˆ—å°±æ˜¯ç‰©ç†åº“åã€‚</p>
<p>è€Œé€»è¾‘åº“ï¼Œåˆ™æ˜¯ShardingSphereDataSourceå¯¹ç‰©ç†åº“çš„æ˜ å°„ï¼Œåœ¨applicationçš„é…ç½®æ–‡ä»¶(propertiesæˆ–yml)é‡Œï¼Œspring.shardingsphere.datasourceé…ç½®ä¸‹ï¼Œä½ éœ€è¦é…ç½®é€»è¾‘åº“åä»¥åŠå¯¹åº”çš„JDBCé“¾æ¥ã€‚</p>
<p>ä½ å¯ä»¥å°†å¤šä¸ªé€»è¾‘åº“é…ç½®ä¸ºåŒä¸€ä¸ªç‰©ç†åº“ï¼Œè¿™æ˜¯ä¸€ç§å®è·µæ–¹å¼ï¼Œå¯ä»¥ç”¨äºåç»­çš„æ‰©å®¹ã€‚</p>
<h2 data-id="heading-3">é—®é¢˜ç°è±¡</h2>
<p>çº¿ä¸‹çš„ä¸‰ä¸ªé€»è¾‘åº“åˆ†åˆ«å¯¹åº”ä¸€ä¸ªç‰©ç†åº“ï¼Œè€Œè¿™ä¸‰ä¸ªç‰©ç†åº“åœ¨åŒä¸€ä¸ªé˜¿é‡Œäº‘RDSå®ä¾‹ä¸Šï¼Œå¯ä»¥æ‰¾åˆ°æ¯ä¸ªåº“å¯¹åº”çš„è¡¨ã€‚</p>
<p>è€Œçº¿ä¸Šçš„ä»ç„¶æ˜¯ä¸‰ä¸ªé€»è¾‘åº“å¯¹åº”å„è‡ªçš„ç‰©ç†åº“ï¼Œæ¯ä¸ªç‰©ç†åº“åœ¨ä¸åŒçš„é˜¿é‡Œäº‘RDSå®ä¾‹ä¸Šï¼Œä¼šå‡ºç°æœ‰æ—¶å€™èƒ½æ‰¾åˆ°æŸä¸ªåº“å¯¹åº”çš„è¡¨ï¼Œè€Œå¦å¤–ä¸¤ä¸ªåº“ä¸€ä¸ªè¡¨éƒ½æ‰¾ä¸åˆ°çš„æƒ…å†µã€‚</p>
<h2 data-id="heading-4">æ’æŸ¥</h2>
<p>é‡åˆ°é—®é¢˜åï¼Œç™¾æ€ä¸å¾—å…¶è§£ï¼Œå› ä¸ºçº¿ä¸‹ç¯å¢ƒä¸€åˆ‡æ­£å¸¸ï¼Œçº¿ä¸Šå´æ€»èƒ½å¤ç°é—®é¢˜ã€‚ç”±äºçº¿ä¸Šç¯å¢ƒç®¡æ§æ¯”è¾ƒä¸¥ï¼Œæ—¢ä¸èƒ½è¿œç¨‹debugï¼Œåˆä¸èƒ½ç›´è¿çº¿ä¸Šåº“ï¼Œå¾ˆéš¾å®šä½åŸå› ã€‚</p>
<p>ç¬¬ä¸€é˜¶æ®µæ’æŸ¥ï¼Œæˆ‘åå¤ç¡®è®¤äº†ä¸Šé¢ä»£ç ä¸­éœ€è¦ä¼ æ•°æ®åº“åçš„åœ°æ–¹åˆ°åº•æ˜¯é€»è¾‘åº“è¿˜æ˜¯ç‰©ç†åº“ã€‚ä¸­é—´æŸä¸ªç‰ˆæœ¬çš„ç¡®æé”™äº†ï¼Œä½†æ˜¯ä¸ºä½•åœ¨å†™é”™çš„å‰æä¸‹è¿˜èƒ½è¿è¡Œï¼Œæ²¡æœ‰åšè®°å½•ã€‚</p>
<p>ç„¶åï¼Œæˆ‘åˆ æ‰äº†<code>connection.setAutoCommit(false)</code>ã€<code>resultSet.setFetchSize(batchSize)</code>è¿™æ ·çš„ç”¨äºé™ä½æ¯æ¬¡æŸ¥è¯¢å…ƒæ•°æ®ç»“æœæ•°é‡çš„ä»£ç ï¼Œä¹Ÿæ²¡æ•ˆæœã€‚</p>
<p>æœ€åï¼Œæˆ‘æŠŠä»£ç ç§»åˆ°äº†å¦ä¸€ä¸ªè¿æ¥åŒæ ·æ•°æ®åº“çš„åº”ç”¨ä¸­ï¼Œå› ä¸ºé‚£ä¸ªåº”ç”¨æœ‰æˆ‘ä¹‹å‰ç±»ä¼¼çš„ä»£ç ã€‚ç§»è¿‡å»ä»¥åå€’æ˜¯æ­ªæ‰“æ­£ç€åœ°è§£å†³äº†ã€‚</p>
<p>ç¬¬äºŒé˜¶æ®µçš„æ’æŸ¥ï¼Œæ˜¯åœ¨ä¸€æ®µæ—¶é—´åï¼Œæˆ‘åœ¨åŸå…ˆçš„åº”ç”¨ä¸­å¼€å‘æ–°çš„åŠŸèƒ½ï¼Œå¯¹åŸå…ˆä»£ç è¿›è¡Œæ”¹åŠ¨ï¼Œè‡ªä»¥ä¸ºä¿®å¤å¥½äº†ï¼Œä½†æ˜¯ä¸Šçº¿åå‘ç°è¿˜æ˜¯å’Œä¹‹å‰ä¸€æ ·ã€‚</p>
<h2 data-id="heading-5">åˆ†æ</h2>
<p>çº¿ä¸‹çº¿ä¸Šæœ€å¤§çš„åŒºåˆ«å°±æ˜¯çº¿ä¸‹å‡ ä¸ªåº“æ˜¯åŒä¸€ä¸ªMySqlå®ä¾‹ï¼Œè€Œçº¿ä¸Šåˆ†å±ä¸‰ä¸ªã€‚æˆ‘çš„ä»£ç é‡Œï¼Œç–‘ç‚¹æœ€å¤§çš„æ˜¯æŸ¥è¯¢å…ƒæ•°æ®<code>metaData.getTables()</code>è¿™æ®µã€‚</p>
<p>å¥½å·§ä¸å·§ï¼Œåœ¨æˆ‘æ’æŸ¥çš„ç¬¬ä¸€é˜¶æ®µå’Œç¬¬äºŒé˜¶æ®µä¸­é—´ï¼Œæˆ‘å†™äº†ä¸€ä¸ªè¿ç§»è¡¨çš„åŠŸèƒ½ï¼Œå®Œå…¨æ–°å†™äº†æŸ¥è¯¢è¡¨åçš„ä»£ç ï¼Œå¹¶ä¸”ä¸ºäº†ä¸å†çŠ¯ç‰©ç†åº“å’Œé€»è¾‘åº“ææ··çš„é”™è¯¯ï¼Œç‰¹åˆ«åœ°å†™äº†å¯¹åº”çš„å·¥å…·ç±»ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">/**
 * æ•°æ®æºæŒæœ‰ç»„ä»¶ï¼Œä¾¿äºåº”ç”¨ç›´æ¥è®¿é—®æ•°æ®æº
 *
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataSourceHolder</span> {

  <span class="hljs-meta">@Resource</span> <span class="hljs-keyword">protected</span> <span class="hljs-title class_">ShardingSphereDataSource</span> dataSource;

  <span class="hljs-comment">/** ç‰©ç†åº“å(jdbcé“¾æ¥é‡Œçš„åº“å)å’Œæ•°æ®æºçš„å…³ç³» */</span>
  <span class="hljs-keyword">private</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">HikariDataSource</span>&gt; hikariDataSourceMap;

  <span class="hljs-comment">/** é€»è¾‘åº“å-ç‰©ç†åº“åå…³ç³» å¤šä¸ªé€»è¾‘åº“å¯èƒ½å¯¹åº”åŒä¸€ä¸ªç‰©ç†åº“ */</span>
  <span class="hljs-keyword">private</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">String</span>&gt; dsNameMap;

  <span class="hljs-comment">/**
   * é€šè¿‡ç‰©ç†åº“åè·å–ds
   *
   * <span class="hljs-doctag">@param</span> <span class="hljs-variable">physicalSchemaName</span>
   * <span class="hljs-doctag">@return</span>
   */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-title class_">HikariDataSource</span> <span class="hljs-title function_">getDataSourceByPhysicalSchemaName</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> physicalSchemaName</span>) {
    <span class="hljs-keyword">return</span> hikariDataSourceMap.<span class="hljs-title function_">get</span>(physicalSchemaName);
  }

  <span class="hljs-comment">/**
   * é€šè¿‡é€»è¾‘åº“åè·å–å¯¹åº”ç‰©ç†åº“å
   *
   * <span class="hljs-doctag">@param</span> <span class="hljs-variable">dsName</span>
   * <span class="hljs-doctag">@return</span>
   */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getPhysicalSchemaName</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> dsName</span>) {
    <span class="hljs-keyword">return</span> dsNameMap.<span class="hljs-title function_">get</span>(dsName);
  }

  <span class="hljs-comment">/**
   * é€šè¿‡é€»è¾‘åº“åè·å–ds
   *
   * <span class="hljs-doctag">@param</span> <span class="hljs-variable">logicalSchemaName</span>
   * <span class="hljs-doctag">@return</span>
   */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-title class_">HikariDataSource</span> <span class="hljs-title function_">getDataSourceByLogicalSchemaName</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> logicalSchemaName</span>) {
    <span class="hljs-title class_">String</span> physicalSchemaName = <span class="hljs-title function_">getPhysicalSchemaName</span>(logicalSchemaName);
    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">StringUtils</span>.<span class="hljs-title function_">isBlank</span>(physicalSchemaName)) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"é€»è¾‘åº“åæ‰¾ä¸åˆ°å¯¹åº”ç‰©ç†åº“, logicalSchemaName="</span> + logicalSchemaName);
    }
    <span class="hljs-keyword">return</span> hikariDataSourceMap.<span class="hljs-title function_">get</span>(physicalSchemaName);
  }

  <span class="hljs-meta">@PostConstruct</span>
  <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">initHikariDataSourceMap</span>(<span class="hljs-params"/>) {
    dsNameMap = <span class="hljs-title class_">Maps</span>.<span class="hljs-title function_">newHashMap</span>();
    hikariDataSourceMap = <span class="hljs-title class_">Maps</span>.<span class="hljs-title function_">newHashMap</span>();
    <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">DataSource</span>&gt; dataSourceMap =
        dataSource.<span class="hljs-title function_">getContextManager</span>().<span class="hljs-title function_">getDataSourceMap</span>(dataSource.<span class="hljs-title function_">getSchemaName</span>());
    dataSourceMap.<span class="hljs-title function_">forEach</span>(
        (dsName, ds) -&gt; {
          <span class="hljs-title class_">HikariDataSource</span> hds = (<span class="hljs-title class_">HikariDataSource</span>) ds;
          <span class="hljs-keyword">try</span> (<span class="hljs-title class_">Connection</span> connection = hds.<span class="hljs-title function_">getConnection</span>(); ) {
            hikariDataSourceMap.<span class="hljs-title function_">put</span>(connection.<span class="hljs-title function_">getCatalog</span>(), hds);
            dsNameMap.<span class="hljs-title function_">put</span>(dsName, connection.<span class="hljs-title function_">getCatalog</span>());
          } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">SQLException</span> e) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"ç»„è£…æ•°æ®æºmapå¤±è´¥"</span>, e);
          }
        });
  }
}
</code></pre>
<p>å¯¹åº”åœ°ï¼Œè·å–æ•°æ®åº“Connectionçš„æ–¹æ³•æ˜¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">HikariDataSource <span class="hljs-attr">hikariDataSource</span> = dataSourceHolder.getDataSourceByPhysicalSchemaName(dsName)<span class="hljs-comment">;</span>
Connection <span class="hljs-attr">connection</span> = hikariDataSource.getConnection()<span class="hljs-comment">;</span>
</code></pre>
<p>å¹¶ä¸”ä¹Ÿä¸å†ä½¿ç”¨HintManageræŒ‡å®šé€»è¾‘åº“ã€‚</p>
<p>è”æƒ³åˆ°çº¿ä¸Šçº¿ä¸‹MySqlå®ä¾‹çš„å·®å¼‚ï¼Œæˆ‘çŒœæµ‹æ˜¯å› ä¸ºï¼š</p>
<p>çº¿ä¸‹ä¸‰ä¸ªåº“æ˜¯åŒä¸€ä¸ªMySqlå®ä¾‹ï¼Œé‚£ä¹ˆå…ƒæ•°æ®information_schema.tablesæ˜¯ä¸€æ ·çš„ï¼Œåœ¨å“ªä¸ªåº“éƒ½èƒ½æŸ¥åˆ°å¯¹åº”è¡¨ã€‚</p>
<p>çº¿ä¸Šåˆ™æ˜¯ä¸åŒçš„å®ä¾‹ï¼Œç›´æ¥ä½¿ç”¨ShardingSphereDataSourceå¯¹åº”Connectionçš„å…ƒæ•°æ®ï¼Œå¹¶ä¸æ€»æ˜¯é¢„æœŸçš„åº“ã€‚</p>
<p>è¿™ä¸ªçŒœæµ‹åŸå› ï¼Œä¹Ÿåœ¨ä¹‹å‰ç¬¬ä¸€é˜¶æ®µçš„æ’æŸ¥å»åˆï¼Œèƒ½æ­£å¸¸å·¥ä½œçš„ä»£ç æ‰€åœ¨åº”ç”¨ï¼Œè·å–æ•°æ®æºçš„æ–¹å¼å®é™…æ˜¯</p>
<pre><code class="hljs language-ini" lang="ini">Map&lt;String, DataSource&gt; <span class="hljs-attr">allDataSource</span> =
    shardingSphereDataSource.getContextManager().getDataSourceMap("logic_db")<span class="hljs-comment">;</span>
Connection <span class="hljs-attr">connection</span> = allDataSouce.get(logicalSchemaName).getConnection()<span class="hljs-comment">;</span>
</code></pre>
<p>è™½ç„¶å®ƒä¹Ÿç”¨äº†HintMangerï¼Œä½†æˆ‘è®¤ä¸ºæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p>
<h2 data-id="heading-6">ä¿®å¤</h2>
<p>ç»¼åˆä»¥ä¸Šçš„åˆ†æï¼Œæœ€ç»ˆçš„ä¿®å¤ä»£ç å¦‚ä¸‹</p>
<pre><code class="hljs language-ini" lang="ini">    List&lt;String&gt; <span class="hljs-attr">tableNames</span> = Lists.newArrayList()<span class="hljs-comment">;</span>
    try (Connection <span class="hljs-attr">conn</span> =
        dataSourceHolder.getDataSourceByPhysicalSchemaName(physicalSchemaName).getConnection()) {
      DatabaseMetaData <span class="hljs-attr">metaData</span> = conn.getMetaData()<span class="hljs-comment">;</span>
      try (ResultSet <span class="hljs-attr">rs</span> =
          metaData.getTables(physicalSchemaName, null, prefix + "%", new String<span class="hljs-section">[]</span> {"TABLE"})) {
        while (rs.next()) {
          String <span class="hljs-attr">tableName</span> = rs.getString(<span class="hljs-string">"TABLE_NAME"</span>)<span class="hljs-comment">;</span>
          tableNames.add(tableName)<span class="hljs-comment">;</span>
        }
      }
    } catch (SQLException e) {
      throw new RuntimeException("å¤„ç†å¤§ç»“æœé›†å¤±è´¥", e)<span class="hljs-comment">;</span>
    }
    return tableNames<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™æ¬¡å†éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼Œè¿è¡Œç¬¦åˆé¢„æœŸã€‚</p>
<p>å¯è§ï¼Œå½“ä½ éœ€è¦å®é™…åˆ†åº“å¯¹åº”çš„å…ƒæ•°æ®æ—¶ï¼Œä¸è¦ç”¨shardingSphereDataSourceï¼Œè€Œæ˜¯åº”è¯¥ç”¨å®ƒå…³è”å…·ä½“åˆ†åº“çš„dataSourceï¼Œä¹Ÿå³shardingSphereDataSource.getContextManager().getDataSourceMap()ï¼Œå†ç”¨è¿™ä¸ªåˆ†åº“dataSourceè·å–å…ƒæ•°æ®ã€‚</p>
<p>å¦åˆ™ï¼Œçº¿ä¸‹çº¿ä¸Šä¸åŒçš„MySqlå®ä¾‹é…ç½®ï¼Œä¼šå¯¼è‡´ä¸åŒçš„ç°è±¡ï¼Œéš¾ä»¥æ’æŸ¥çœŸæ­£çš„åŸå› ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç›®å‰å¼€æºæ¶æ„éœ€è¦æ³¨æ„çš„å®‰å…¨é—®é¢˜]]></title>    <link>https://juejin.cn/post/7588300640599457798</link>    <guid>https://juejin.cn/post/7588300640599457798</guid>    <pubDate>2025-12-28T09:36:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588300640599457798" data-draft-id="7588300640599441414" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç›®å‰å¼€æºæ¶æ„éœ€è¦æ³¨æ„çš„å®‰å…¨é—®é¢˜"/> <meta itemprop="keywords" content="åç«¯,Spring Boot"/> <meta itemprop="datePublished" content="2025-12-28T09:36:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ITç•ŒTonyå“¥"/> <meta itemprop="url" content="https://juejin.cn/user/3157453122578087"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç›®å‰å¼€æºæ¶æ„éœ€è¦æ³¨æ„çš„å®‰å…¨é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3157453122578087/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ITç•ŒTonyå“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:36:26.000Z" title="Sun Dec 28 2025 09:36:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>SpringBoot + Vue å¼€æºæ¡†æ¶å¸¸è§å®‰å…¨é£é™©ä¸é˜²æŠ¤è¦ç‚¹</strong> <strong>ä¸€ é€šç”¨é«˜é£é™©æ¼æ´</strong></p>
<ul>
<li><strong>SQL æ³¨å…¥</strong>ï¼šä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥æˆ– MyBatis çš„ <strong>${}</strong> â€‹ ç›´æ¥æ’å€¼æœ€æ˜“è¢«åˆ©ç”¨ï¼›åº”ä½¿ç”¨<strong>å‚æ•°åŒ–æŸ¥è¯¢/é¢„ç¼–è¯‘</strong>ã€å¯¹æ’åº/æœç´¢å…³é”®å­—åš<strong>ç™½åå•æ ¡éªŒ</strong>ï¼Œå¹¶æ¸…ç†å¯æ§çš„ <strong>ORDER BY/Group By</strong>â€‹ è¾“å…¥ã€‚</li>
<li><strong>æ–‡ä»¶ä¸Šä¼ </strong>ï¼šæœªæ ¡éªŒ<strong>Content-Type/é­”æ•°</strong>ã€æœª<strong>é‡å‘½å</strong>ã€æœªé™åˆ¶<strong>å­˜å‚¨è·¯å¾„</strong>ä¸<strong>å¯æ‰§è¡Œåç¼€</strong>ï¼Œæ˜“è¢«ä¸Šä¼  WebShellï¼›åº”å¯ç”¨ç™½åå•ã€éšæœºåã€éš”ç¦»ç›®å½•ã€ç¦ç”¨æ‰§è¡Œæƒé™ã€‚</li>
<li><strong>XSS</strong>ï¼šæœåŠ¡ç«¯è¿”å›æˆ–å‰ç«¯æ¨¡æ¿ç›´æ¥æ¸²æŸ“<strong>æœªè½¬ä¹‰</strong>çš„ç”¨æˆ·è¾“å…¥ï¼Œå¯¼è‡´å­˜å‚¨/åå°„å‹ XSSï¼›åº”åœ¨æœåŠ¡ç«¯å¯¹è¾“å‡ºè¿›è¡Œ<strong>HTML è½¬ä¹‰</strong>ï¼Œå‰ç«¯é¿å…ä½¿ç”¨ <strong>v-html</strong>â€‹ æ¸²æŸ“ä¸å¯ä¿¡å†…å®¹ã€‚</li>
<li><strong>CORS é…ç½®ä¸å½“</strong>ï¼šå°† <strong>Access-Control-Allow-Origin: *<strong>ä¸å‡­æ®ï¼ˆå¦‚ <strong>withCredentials</strong>ï¼‰æ··ç”¨ï¼Œæˆ–ä¿¡ä»»ä»»æ„ <strong>Origin/Referer/Host</strong>ï¼Œä¼šè¢«å·¥å…·åˆ¤å®šä¸ºé«˜å±ï¼›åº”æ”¹ä¸º</strong>ç²¾ç¡®åŒ¹é…ç™½åå•</strong>å¹¶é…åˆç½‘å…³/è¿‡æ»¤å™¨æ ¡éªŒã€‚</li>
<li><strong>é”™è¯¯ä¿¡æ¯æ³„éœ²</strong>ï¼šå°†<strong>å †æ ˆ/SQL</strong>ç›´è¿”å‰ç«¯ï¼Œæ—¢æš´éœ²å®ç°ç»†èŠ‚åˆåˆ©äºæ”»å‡»é“¾æ„é€ ï¼›åº”ç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼Œç”Ÿäº§ç¯å¢ƒ<strong>ä¸è¿”å›æŠ€æœ¯ç»†èŠ‚</strong>ã€‚</li>
<li><strong>CSRF ä¸æƒé™ç»•è¿‡</strong>ï¼šçŠ¶æ€æ”¹å˜ç±»æ¥å£ç¼ºå°‘<strong>CSRF Token</strong>æˆ–<strong>SameSite</strong>â€‹ ç­–ç•¥ï¼Œæˆ–å­˜åœ¨<strong>URL è§„åˆ™ç»•è¿‡</strong>ï¼›åº”ä½¿ç”¨ Token/åŒé‡æäº¤ Cookieï¼Œå¹¶åœ¨ç½‘å…³/å®‰å…¨æ¡†æ¶å±‚åš<strong>è·¯å¾„ä¸æ–¹æ³•</strong>ä¸¥æ ¼åŒ¹é…ã€‚</li>
</ul>
<p><strong>äºŒ æ¡†æ¶ç‰¹æœ‰æˆ–é«˜é¢‘é—®é¢˜</strong></p>
<ul>
<li>
<p><strong>RuoYi ç³»åˆ—ï¼ˆè‹¥ä¾ï¼‰</strong> â€‹</p>
<ul>
<li><strong>Shiro RememberMe ååºåˆ—åŒ–ä¸é»˜è®¤å¯†é’¥</strong>ï¼šæ—©æœŸç‰ˆæœ¬å­˜åœ¨é»˜è®¤ <strong>AES Key</strong>â€‹ å¯¼è‡´ <strong>rememberMe</strong>â€‹ Cookie ååºåˆ—åŒ– RCEï¼›å»ºè®®å‡çº§è‡³åŒ…å«éšæœºå¯†é’¥çš„ç‰ˆæœ¬ï¼ˆå¦‚ <strong>â‰¥4.6.2</strong>ï¼‰ï¼Œå¹¶è‡ªå®šä¹‰é«˜å¼ºåº¦å¯†é’¥ã€å¯ç”¨ <strong>AES-GCM</strong>ã€‚</li>
<li><strong>å¤šå¤„ SQL æ³¨å…¥</strong>ï¼šå¦‚ <strong>/system/role/list</strong>ã€ <strong>/system/role/export</strong>â€‹ ç­‰æ¥å£åœ¨ <strong>&lt;4.6.2</strong>â€‹ ç‰ˆæœ¬å¯é€šè¿‡ <strong>params[dataScope]</strong> â€‹ æ³¨å…¥ï¼›åº”å‡çº§å¹¶ç»Ÿä¸€æ”¹ä¸ºå‚æ•°åŒ–æŸ¥è¯¢ã€‚</li>
<li><strong>ä»»æ„æ–‡ä»¶ä¸‹è½½ï¼ˆCNVD-2021-01931ï¼‰</strong> ï¼š <strong>/common/download/resource</strong>â€‹ æœªæ ¡éªŒè·¯å¾„ï¼Œåˆ©ç”¨ <strong>../</strong> â€‹ éå†è¯»å–æ•æ„Ÿæ–‡ä»¶ï¼›åº”å‡çº§è‡³ <strong>â‰¥4.5.1</strong>â€‹ å¹¶å¢åŠ è·¯å¾„ä¸åç¼€ç™½åå•ã€‚</li>
<li><strong>å®šæ—¶ä»»åŠ¡ RCE</strong>ï¼š <strong>&lt;4.7.8</strong>â€‹ å¯é€šè¿‡ä¿®æ”¹ä»»åŠ¡å†…å®¹è§¦å‘ <strong>SnakeYAML/JNDI</strong>â€‹ ç­‰åŠ è½½è¿œç¨‹æ¶æ„ç±»ï¼›åº”å‡çº§å¹¶é™åˆ¶ä»»åŠ¡å†…å®¹ã€ç¦ç”¨å±é™©åè®®ï¼ˆrmi/ldap/httpï¼‰ã€‚</li>
<li><strong>å†å²ä¾èµ–æ¼æ´</strong>ï¼šå¦‚ <strong>Thymeleaf</strong>â€‹ æ¨¡æ¿æ³¨å…¥ï¼ˆ<strong>â‰¤3.0.12</strong>ï¼‰ã€<strong>Log4j2</strong>ï¼ˆ<strong>â‰¤2.17.0</strong>ï¼‰ç­‰ï¼Œéœ€æŒ‰å®˜æ–¹ç‰ˆæœ¬å‡çº§ã€‚</li>
</ul>
</li>
<li>
<p><strong>Jeecg-Boot</strong>â€‹</p>
<ul>
<li><strong>SQL æ³¨å…¥</strong>ï¼šå¦‚ <strong>/onlDragDatasetHead/getTotalData</strong>ã€ <strong>/jmreport/qurestSql</strong>â€‹ ç­‰æ¥å£å­˜åœ¨æ‹¼æ¥/æ¨¡æ¿æ³¨å…¥é£é™©ï¼›å»ºè®®å‡çº§è‡³ <strong>v3.7.2+</strong> â€‹ å¹¶ä¸¥æ ¼å‚æ•°åŒ–ã€‚</li>
<li><strong>è¡¨è¾¾å¼/è„šæœ¬æ³¨å…¥</strong>ï¼š<strong>AviatorScript</strong>â€‹ è¡¨è¾¾å¼æœªè¿‡æ»¤å¯è§¦å‘å‘½ä»¤æ‰§è¡Œï¼›åº”ç¦ç”¨å±é™©å‡½æ•°æˆ–å¯ç”¨æ²™ç®±ã€‚</li>
<li><strong>Fastjson/JNDI ååºåˆ—åŒ–</strong>ï¼šè€ç‰ˆæœ¬ <strong>Fastjson</strong>â€‹ å¯è¢« <strong>JNDI</strong>â€‹ åŠ è½½è¿œç¨‹ç±»ï¼›åº”å‡çº§å¹¶å…³é—­ <strong>JNDI Lookup</strong>ã€‚</li>
<li><strong>æœªæˆæƒæ–‡ä»¶ä¸Šä¼ /ä¿¡æ¯æ³„éœ²</strong>ï¼šå¦‚ <strong>/jmreport/upload</strong>â€‹ æœªé‰´æƒä¸Šä¼ ã€ <strong>/sys/user/querySysUser</strong>â€‹ æœªé‰´æƒè®¿é—®ï¼›éœ€åŠ é‰´æƒä¸ç»†ç²’åº¦æƒé™æ§åˆ¶ã€‚</li>
</ul>
</li>
<li>
<p><strong>äººäººå¼€æº Renren-Fast</strong>â€‹</p>
<ul>
<li><strong>CORS ä¸å®‰å…¨è¿‡æ»¤å™¨è¯¯é…</strong>ï¼šå¸¸è§ä¸º <strong>Access-Control-Allow-Origin: *<strong>æˆ– <strong>JWTFilter</strong>â€‹ å¤„ç†ä¸å½“å¼•å‘è·¨åŸŸä¸é‰´æƒé—®é¢˜ï¼›åº”æ”¹ä¸º</strong>ç™½åå•</strong>å¹¶è§„èŒƒè¿‡æ»¤å™¨é“¾ã€‚</li>
</ul>
</li>
</ul>
<p><strong>ä¸‰ Spring ç”Ÿæ€ä¸ä¾èµ–ç»„ä»¶é£é™©</strong></p>
<ul>
<li><strong>SpEL è¡¨è¾¾å¼æ³¨å…¥</strong>ï¼šå†å²ç‰ˆæœ¬å­˜åœ¨å¤šå¤„ <strong>SpEL</strong>â€‹ æ³¨å…¥å¯¼è‡´ RCEï¼Œå¦‚ <strong>Spring Data REST PATCH</strong>ï¼ˆCVE-2017-8046ï¼‰ã€<strong>Spring WebFlow</strong>ï¼ˆCVE-2017-4971ï¼‰ã€<strong>Spring Messaging/WebSocket</strong>ï¼ˆCVE-2018-1270ï¼‰ã€ä»¥åŠ <strong>Spring Framework 5.0â€“5.0.4 / 4.3â€“4.3.14</strong>â€‹ çš„ WebSocket ç›¸å…³ç¼ºé™·ï¼›åº”å‡çº§è‡³ä¿®å¤ç‰ˆæœ¬ï¼Œé¿å…å°†ç”¨æˆ·è¾“å…¥ä½œä¸º <strong>SpEL</strong>â€‹ è§£æã€‚</li>
<li><strong>Spring Cloud Gateway Actuator SpEL æ³¨å…¥ï¼ˆCVE-2022-22947ï¼‰</strong> ï¼šå¯è®¿é—® Actuator æ—¶é€šè¿‡è·¯ç”±åˆ·æ–°æ³¨å…¥ <strong>SpEL</strong>â€‹ æ‰§è¡Œå‘½ä»¤ï¼›åº”å‡çº§è‡³ <strong>3.1.1+/3.0.7+</strong> ï¼Œå¹¶é™åˆ¶ Actuator æš´éœ²ä¸é‰´æƒã€‚</li>
<li><strong>Spring Cloud Function SpEL æ³¨å…¥ï¼ˆCVE-2022-22963ï¼‰</strong> ï¼šè¯·æ±‚å¤´ <strong>spring.cloud.function.routing-expression</strong>â€‹ æœªè¿‡æ»¤å¯¼è‡´ RCEï¼›åº”å‡çº§å¹¶ç§»é™¤/é™åˆ¶è¯¥è¯·æ±‚å¤´è§£æã€‚</li>
<li><strong>Spring Framework è¿œç¨‹ä»£ç æ‰§è¡Œï¼ˆCVE-2022-22965ï¼ŒSpring4Shellï¼‰</strong> ï¼šç‰¹å®šç»‘å®šä¸è¡¨è¾¾å¼è§£æè·¯å¾„ç»„åˆå¯å†™å±æ€§è§¦å‘ RCEï¼›åº”å‡çº§è‡³ä¿®å¤ç‰ˆæœ¬å¹¶é¿å…ä¸å®‰å…¨çš„æ•°æ®ç»‘å®šé…ç½®ã€‚</li>
<li><strong>Spring Security è®¤è¯ç»•è¿‡ï¼ˆCVE-2022-22978ï¼‰</strong> ï¼šæ—©æœŸç‰ˆæœ¬å­˜åœ¨ç»•è¿‡ï¼›åº”å‡çº§å¹¶å¤æ ¸å®‰å…¨é…ç½®ã€‚</li>
<li><strong>H2 Database Console æœªæˆæƒè®¿é—®</strong>ï¼šå¼€å¯ <strong>spring.h2.console.enabled=true</strong>â€‹ ä¸” <strong>web-allow-others=true</strong>â€‹ å¯è¢«æœªæˆæƒè®¿é—®å¹¶ç”¨äº <strong>JNDI</strong>â€‹ æ”»å‡»ï¼›ç”Ÿäº§åº”å…³é—­æˆ–é™åˆ¶è®¿é—®æ¥æºã€‚</li>
</ul>
<p><strong>å›› å¿«é€Ÿè‡ªæ£€ä¸åŠ å›ºæ¸…å•</strong></p>
<ul>
<li><strong>ä¾èµ–ä¸ç‰ˆæœ¬</strong>ï¼šå»ºç«‹<strong>SBOM</strong>ï¼Œå®šæœŸå‡çº§ <strong>Spring Boot/Spring Security/Spring Cloud/ç¬¬ä¸‰æ–¹åº“</strong>åˆ°å®‰å…¨ç‰ˆæœ¬ï¼›é‡ç‚¹æ’æŸ¥å†å² <strong>SpEL/CVE</strong>â€‹ ä¸ <strong>H2 Console</strong>â€‹ æš´éœ²ã€‚</li>
<li><strong>è¾“å…¥æ ¡éªŒä¸è¾“å‡ºç¼–ç </strong>ï¼šå…¨é“¾è·¯<strong>ç™½åå•æ ¡éªŒ</strong>ï¼ˆå‚æ•°ã€Headerã€Content-Typeã€æ–‡ä»¶åï¼‰ï¼ŒæœåŠ¡ç«¯<strong>HTML è½¬ä¹‰</strong>ï¼›é¿å… <strong>${}</strong> â€‹ å­—ç¬¦ä¸²æ‹¼æ¥ SQLï¼Œç»Ÿä¸€ç”¨<strong>å‚æ•°åŒ–æŸ¥è¯¢</strong>ã€‚</li>
<li><strong>æ–‡ä»¶ä¸Šä¼ </strong>ï¼šç™½åå• <strong>MIME/é­”æ•°</strong>ã€<strong>éšæœºé‡å‘½å</strong>ã€<strong>éš”ç¦»ç›®å½•</strong>ã€<strong>ç¦ç”¨æ‰§è¡Œæƒé™</strong>ï¼Œä¸Šä¼ å<strong>äºŒæ¬¡æ ¡éªŒ</strong>ä¸<strong>ç—…æ¯’æ‰«æ</strong>ã€‚</li>
<li><strong>è®¤è¯ä¸ä¼šè¯</strong>ï¼šå¼ºå£ä»¤ç­–ç•¥ä¸<strong>é”å®š/éªŒè¯ç </strong>ï¼Œå®‰å…¨çš„ <strong>RememberMe</strong>â€‹ å®ç°ï¼ˆå¼ºå¯†é’¥ã€éšæœºåŒ–ï¼‰ï¼Œ<strong>JWT</strong>â€‹ çŸ­æœ‰æ•ˆæœŸä¸åˆ·æ–°æœºåˆ¶ï¼Œä¼šè¯å›ºå®šé˜²æŠ¤ã€‚</li>
<li><strong>æˆæƒä¸è®¿é—®æ§åˆ¶</strong>ï¼šåŸºäº<strong>è§’è‰²/æ•°æ®æƒé™</strong>çš„ç»†ç²’åº¦æ§åˆ¶ï¼Œæ¥å£çº§ <strong>ACL</strong>ï¼Œå…³é”®æ“ä½œ<strong>äºŒæ¬¡ç¡®è®¤</strong>ä¸<strong>å®¡æ‰¹</strong>ã€‚</li>
<li><strong>CORS/CSRF</strong>ï¼š<strong>ç²¾ç¡®ç™½åå•</strong>åŒ¹é… <strong>Origin</strong>ï¼Œé¿å… <strong>Access-Control-Allow-Origin:</strong> * ä¸å‡­æ®æ··ç”¨ï¼›çŠ¶æ€æ”¹å˜æ¥å£ä½¿ç”¨ <strong>CSRF Token/SameSite</strong>ã€‚</li>
<li><strong>é”™è¯¯å¤„ç†ä¸æ—¥å¿—</strong>ï¼šç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼Œç”Ÿäº§<strong>ä¸æš´éœ²å †æ ˆ/SQL</strong>ï¼Œæ•æ„Ÿæ—¥å¿—<strong>è„±æ•</strong>ï¼›å¼€å¯<strong>å®¡è®¡æ—¥å¿—</strong>ä¸<strong>è®¿é—®æ—¥å¿—</strong>ã€‚</li>
<li><strong>Actuator/DevTools</strong>ï¼šç”Ÿäº§<strong>å…³é—­æˆ–ä¸¥æ ¼é‰´æƒ</strong>â€‹ Actuatorï¼Œé™åˆ¶ç«¯ç‚¹ï¼›ç¦ç”¨ä¸å¿…è¦çš„ <strong>DevTools</strong>â€‹ è¿œç¨‹è°ƒè¯•ã€‚</li>
<li><strong>å®‰å…¨é…ç½®åŸºçº¿</strong>ï¼šå¼€å¯ <strong>HTTP å®‰å…¨å¤´</strong>ï¼ˆå¦‚ <strong>CSPã€X-Frame-Optionsã€X-XSS-Protectionã€Strict-Transport-Security</strong>ï¼‰ï¼Œé…ç½® <strong>TLS</strong>ï¼Œæœ€å°æƒé™è¿è¡Œï¼ˆé rootï¼‰ã€‚</li>
<li><strong>æ¸—é€æµ‹è¯•ä¸ä»£ç å®¡è®¡</strong>ï¼šå¯¹<strong>SQLi/XSS/æ–‡ä»¶ä¸Šä¼ /CSRF/è¶Šæƒ/ååºåˆ—åŒ–</strong>ä¸“é¡¹æµ‹è¯•ï¼Œé‡ç‚¹è¦†ç›–<strong>æŠ¥è¡¨/å¯¼å…¥å¯¼å‡º/å®šæ—¶ä»»åŠ¡/æ¨¡æ¿å¼•æ“/ä¸Šä¼ </strong>ç­‰é«˜å±æ¨¡å—ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[èŠä¸‹å‡ æ¬¡çº¿ä¸Šåˆ é™¤MySQLå¯¼è‡´çš„æ•…éšœ]]></title>    <link>https://juejin.cn/post/7588104741611569162</link>    <guid>https://juejin.cn/post/7588104741611569162</guid>    <pubDate>2025-12-28T09:46:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588104741611569162" data-draft-id="7588109656041898030" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="èŠä¸‹å‡ æ¬¡çº¿ä¸Šåˆ é™¤MySQLå¯¼è‡´çš„æ•…éšœ"/> <meta itemprop="keywords" content="æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-12-28T09:46:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="DBè™šç©ºè¡Œè€…"/> <meta itemprop="url" content="https://juejin.cn/user/239028029625050"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            èŠä¸‹å‡ æ¬¡çº¿ä¸Šåˆ é™¤MySQLå¯¼è‡´çš„æ•…éšœ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/239028029625050/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    DBè™šç©ºè¡Œè€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:46:27.000Z" title="Sun Dec 28 2025 09:46:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>æ•°æ®åº“æ“ä½œä¸­ï¼Œã€Œåˆ é™¤å¤§è¡¨æ•°æ®ã€å ªç§°é«˜å±æ“ä½œ TOP3â€”â€” çœ‹ä¼¼ç®€å•çš„DROP TABLEæˆ–DELETEè¯­å¥ï¼Œç¨æœ‰ä¸æ…å°±å¯èƒ½å¼•å‘ç£ç›˜ IO æ‰“æ»¡ã€ä¸»ä»å»¶è¿Ÿé›ªå´©ã€ä¸šåŠ¡æ¥å£è¶…æ—¶ç­‰ç”Ÿäº§äº‹æ•…ã€‚ç¬”è€…ä»äº‹æ•°æ®åº“è¿ç»´å¤šå¹´ï¼Œäº²å†è¿‡å¤šæ¬¡è¡€çš„æ•™è®­ï¼Œä»Šå¤©å°±é€šè¿‡ä¸¤ä¸ªçœŸå®æ¡ˆä¾‹ï¼Œæ‹†è§£äº‹æ•…èƒŒåçš„åº•å±‚é€»è¾‘ï¼Œå†ç»™å‡ºå¯ç›´æ¥è½åœ°çš„ä¼˜åŒ–æ–¹æ¡ˆï¼Œæ¯ä¸ªç ”å‘å’Œ DBA éƒ½å€¼å¾—æ”¶è—ã€‚æ•°æ®æ¢å¤ğŸ§ 1786283847</p>
<h3 data-id="heading-1">äº‹æ•…ç°åœºï¼šçœ‹ä¼¼å¸¸è§„æ“ä½œï¼Œå®åˆ™è¸©å¤§å‘</h3>
<h4 data-id="heading-2">äº‹æ•…ä¸€ï¼šDROP TABLE å¼•çˆ†ç£ç›˜ IO</h4>
<p>ç¬”è€…æ›¾åœ¨æŸæ—¥å‡ PV åƒä¸‡çº§çš„é—¨æˆ·ç½‘ç«™è´Ÿè´£æ•°æ®åº“è¿ç»´ï¼Œä¸šåŠ¡å›¢é˜Ÿä¸ºæ¸…ç†å†å²æ—¥å¿—æ•°æ®ï¼Œé‡‡ç”¨ã€Œæ—¶é—´åˆ†ç‰‡è¡¨ã€è®¾è®¡ï¼ˆæŒ‰æœˆä»½åˆ†è¡¨ï¼Œå¦‚log_202301ã€log_202302ï¼‰ï¼Œæ¸…ç†æ–¹å¼ç®€å•ç²—æš´ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> log_202301; <span class="hljs-comment">-- æ¯æœˆæ‰§è¡Œä¸€æ¬¡</span>
</code></pre>
<p>å‰ 11 ä¸ªæœˆæ‰§è¡Œå‡æ— å¼‚å¸¸ï¼Œä½†å½“åˆ é™¤ 2023 å¹´ 12 æœˆè¡¨æ—¶ï¼ˆæ•°æ®é‡å·²ä»åˆæœŸ 50GB å¢é•¿è‡³ 580GBï¼‰ï¼Œç›‘æ§å‘Šè­¦ç¬é—´ç‚¸é”…ï¼š</p>
<ul>
<li>ç‰©ç†æœºç£ç›˜ IO ä½¿ç”¨ç‡é£™å‡è‡³ 100%ï¼ˆæŒç»­ 22 åˆ†é’Ÿï¼‰</li>
<li>åŒç‰©ç†æœºä¸Šçš„ 3 ä¸ªæ ¸å¿ƒä¸šåŠ¡æ•°æ®åº“å®ä¾‹è¯»å†™é˜»å¡</li>
</ul>
<p>äº‹åå¤ç›˜ï¼šéšç€ä¸šåŠ¡å¢é•¿ï¼Œå•å¼ åˆ†ç‰‡è¡¨æ•°æ®é‡çªç ´ä¸´ç•Œå€¼ï¼Œå¸¸è§„ DROP æ“ä½œçš„ IO æ¶ˆè€—å‘ˆæŒ‡æ•°çº§ä¸Šå‡ï¼Œè§¦å‘äº†èµ„æºäº‰æŠ¢ç¾éš¾ã€‚</p>
<h4 data-id="heading-3">äº‹æ•…äºŒï¼šæ‰¹é‡ DELETE å¯¼è‡´ä¸»ä»å»¶è¿Ÿï¼Œç”µå•†è®¢å•æŸ¥è¯¢ "æ—¶æœ‰æ—¶æ— "</h4>
<p>åœ¨æŸäº‘è®¡ç®—å…¬å¸è´Ÿè´£ RDS è¿ç»´æ—¶ï¼Œçªç„¶æ”¶åˆ°æŸç”µå•†å®¢æˆ·çš„ä¸»ä»å»¶è¿Ÿå‘Šè­¦ï¼ˆå»¶è¿Ÿè¾¾ 37 åˆ†é’Ÿï¼‰ï¼Œéšåå®¢æˆ·å·¥å•æ¶Œå…¥ï¼šç”¨æˆ·ä¸‹å•åï¼Œè®¢å•åˆ—è¡¨æ—¶è€Œæ˜¾ç¤ºæ–°è®¢å•ï¼Œæ—¶è€Œä¸æ˜¾ç¤ºã€‚</p>
<p>DBA ç´§æ€¥æ’æŸ¥å‘ç°ï¼Œå®¢æˆ·æ‰§è¡Œäº†ä¸€æ¡æ‰¹é‡åˆ é™¤ SQLï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> xxx <span class="hljs-keyword">WHERE</span> id <span class="hljs-operator">&lt;</span> <span class="hljs-number">100000</span>; <span class="hljs-comment">-- æ¶‰åŠ1200ä¸‡æ¡è®°å½•</span>
</code></pre>
<p>ç”±äºå®¢æˆ·é‡‡ç”¨ã€Œè¯»å†™åˆ†ç¦»ã€æ¶æ„ï¼ˆä¸»åº“å†™ã€ä»åº“è¯»ï¼‰ï¼Œä¸»ä»å»¶è¿ŸæœŸé—´ï¼š</p>
<ul>
<li>æ–°ä¸‹å•æ•°æ®å†™å…¥ä¸»åº“åï¼Œä»åº“æœªåŒæ­¥å®Œæˆ</li>
<li>ç”¨æˆ·æŸ¥è¯¢ä»åº“æ—¶ï¼Œå‡ºç° "åˆšä¸‹å•çœ‹ä¸åˆ°è®¢å•" çš„è¯¡å¼‚ç°è±¡</li>
</ul>
<p>æœ€ç»ˆè§£å†³æ–¹æ¡ˆï¼šä¸´æ—¶å…³åœ IO æ€§èƒ½è¾ƒå·®çš„ 2 å°ä»åº“ï¼Œä»…ä¿ç•™ 1 å°é«˜æ€§èƒ½ä»åº“è¿½èµ¶ binlogï¼Œ3 å°æ—¶åä¸»ä»åŒæ­¥æ¢å¤æ­£å¸¸ã€‚</p>
<h3 data-id="heading-4">æ ¹å› æ‹†è§£ï¼šMySQL åº•å±‚æ‰§è¡Œé€»è¾‘æ›å…‰</h3>
<p>å¾ˆå¤šäººçŸ¥é“ "ä¸èƒ½ç›´æ¥åˆ å¤§è¡¨"ï¼Œä½†å¾ˆå°‘æœ‰äººè¯´æ¸…ä¸ºä»€ä¹ˆã€‚ä¸‹é¢ä»åº•å±‚åŸç†æ‹†è§£ä¸¤èµ·äº‹æ•…çš„æ ¸å¿ƒåŸå› ï¼š</p>
<h4 data-id="heading-5">ä¸€ã€æ‰¹é‡ DELETEï¼šä»åº“å»¶è¿Ÿçš„ "ç½ªé­ç¥¸é¦–"</h4>
<p>å½“æ‰§è¡ŒDELETE FROM xxx WHERE id &lt; 100000æ—¶ï¼ŒMySQL çš„æ‰§è¡Œæµç¨‹è¿œæ¯”æƒ³è±¡ä¸­å¤æ‚ï¼š</p>
<ol>
<li><strong>ç´¢å¼•å®šä½é˜¶æ®µ</strong>ï¼šé€šè¿‡ B + æ ‘ç´¢å¼•æŸ¥æ‰¾åŒ¹é…è®°å½•ï¼Œå¤§è¡¨ç´¢å¼•é€šå¸¸ä¸º 3 å±‚ç»“æ„ï¼ˆæ ¹èŠ‚ç‚¹â†’ä¸­é—´èŠ‚ç‚¹â†’å¶å­èŠ‚ç‚¹ï¼‰ï¼Œéœ€æ‰«æ 1 ä¸ªæ ¹èŠ‚ç‚¹é¡µ + 1 ä¸ªä¸­é—´èŠ‚ç‚¹é¡µ + N ä¸ªå¶å­èŠ‚ç‚¹é¡µ</li>
<li><strong>æ•°æ®åŠ è½½é˜¶æ®µ</strong>ï¼šå°†æ‰€æœ‰åŒ¹é…çš„æ•°æ®é¡µï¼ˆå¯èƒ½è¾¾æ•°åƒä¸ªï¼‰åŠ è½½åˆ° InnoDB ç¼“å†²æ± </li>
<li><strong>æ ‡è®°åˆ é™¤é˜¶æ®µ</strong>ï¼šInnoDB å¹¶ä¸ä¼šç›´æ¥ç‰©ç†åˆ é™¤æ•°æ®ï¼Œè€Œæ˜¯å°†è®°å½•æ ‡è®°ä¸º "åˆ é™¤çŠ¶æ€"ï¼ˆMVCC æœºåˆ¶ï¼‰ï¼ŒçœŸæ­£çš„ç‰©ç†åˆ é™¤ç”±åå° purge çº¿ç¨‹å¼‚æ­¥å®Œæˆ</li>
<li><strong>æ—¥å¿—åˆ·ç›˜é˜¶æ®µ</strong>ï¼šå†™å…¥ redo logï¼ˆä¿è¯äº‹åŠ¡æŒä¹…æ€§ï¼‰ã€undo logï¼ˆç”¨äºäº‹åŠ¡å›æ»šï¼‰ã€binlogï¼ˆç”¨äºä¸»ä»åŒæ­¥ï¼‰ï¼Œæœ€ç»ˆæ‰§è¡Œ fsync åˆ·ç›˜æ“ä½œ</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8cd2e35e57a497ca17b3b782a291b06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRELomZrnqbrooYzogIU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767519987&amp;x-signature=lcvT3c5DfbJcda%2FjxoOGKGamXz4%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸»ä»åŒæ­¥çš„ "æ”¾å¤§æ•ˆåº”"</strong> ï¼š</p>
<ul>
<li>ä¸»åº“æ‰§è¡Œ 1 æ¡ DELETE è¯­å¥ï¼Œç”Ÿæˆçš„ binlog åœ¨ ROW æ ¼å¼ä¸‹ï¼ˆé»˜è®¤æ¨èæ ¼å¼ï¼‰ï¼Œä¼šæ‹†åˆ†ä¸º 1000000 æ¡å•æ¡åˆ é™¤è®°å½•ï¼ˆDELETE FROM xxx WHERE id=1; DELETE FROM xxx WHERE id=2; ...ï¼‰</li>
<li>ä»åº“ SQL çº¿ç¨‹éœ€é€æ¡æ‰§è¡Œè¿™ 1000000 æ¡ SQLï¼Œæ¯æ¡éƒ½è¦ç»å† "è¯­æ³•è§£æâ†’ç´¢å¼•æŸ¥æ‰¾â†’æ ‡è®°åˆ é™¤â†’æ—¥å¿—å†™å…¥" æµç¨‹</li>
<li>å•æ¡ SQL æ‰§è¡Œæˆæœ¬ï¼šè‡³å°‘ 2 æ¬¡ç£ç›˜ IOï¼ˆç´¢å¼•æŸ¥æ‰¾ + æ—¥å¿—åˆ·ç›˜ï¼‰+ è¯­æ³•è§£æå¼€é”€ï¼Œ1000000 æ¡ç´¯è®¡çš„ IO å‹åŠ›ï¼Œç›´æ¥å¯¼è‡´ä»åº“åŒæ­¥ç˜«ç—ª</li>
</ul>
<h4 data-id="heading-6">äºŒã€DROP TABLEï¼šç£ç›˜ IO çˆ†ç‚¸çš„åº•å±‚é€»è¾‘</h4>
<p>DROP TABLEçœ‹ä¼¼ç®€å•ï¼Œå®åˆ™åŒ…å«ä¸¤ä¸ªé«˜ IO æ¶ˆè€—æ­¥éª¤ï¼š</p>
<ol>
<li><strong>ç¼“å†²æ± æ¸…ç†</strong>ï¼šInnoDB éœ€éå†æ‰€æœ‰ buffer pool å®ä¾‹ï¼Œåˆ é™¤è¯¥è¡¨å¯¹åº”çš„ç¼“å­˜é¡µï¼ˆåŒ…æ‹¬æ•°æ®é¡µã€ç´¢å¼•é¡µï¼‰ï¼Œæ­¤è¿‡ç¨‹ä¼šæŒæœ‰ buffer pool å…¨å±€é”ï¼Œè‹¥ buffer pool è¾ƒå¤§ï¼ˆå¦‚ 32GBï¼‰ï¼Œéå†æ—¶é—´é•¿è¾¾åˆ†é’Ÿçº§</li>
<li><strong>ç‰©ç†æ–‡ä»¶åˆ é™¤</strong>ï¼šåˆ é™¤è¡¨å¯¹åº”çš„.ibd æ–‡ä»¶ï¼ˆå­˜å‚¨æ•°æ®å’Œç´¢å¼•ï¼‰ï¼Œå¤§æ–‡ä»¶ï¼ˆå¦‚ 500GBï¼‰åˆ é™¤æ—¶ï¼Œæ“ä½œç³»ç»Ÿéœ€é€ä¸ªé‡Šæ”¾æ•°æ®å—çš„ inode å¼•ç”¨ï¼Œæœºæ¢°ç¡¬ç›˜ä¸‹æ­¤æ“ä½œçš„ IO æ¶ˆè€—æå¤§ï¼Œç›´æ¥æ‰“æ»¡ç£ç›˜ IO</li>
</ol>
<p>å…³é”®ç»“è®ºï¼š<strong>å¤§è¡¨åˆ é™¤çš„æ ¸å¿ƒé—®é¢˜ï¼Œæ˜¯çŸ­æ—¶é—´å†…äº§ç”Ÿçš„å·¨é‡ IO å¼€é”€ï¼Œå¼•å‘èµ„æºäº‰æŠ¢æˆ–åŒæ­¥æ”¾å¤§æ•ˆåº”</strong>ã€‚</p>
<h3 data-id="heading-7">è§£å†³æ–¹æ¡ˆï¼šæå‡ä»åº“æ•ˆç‡ï¼Œé¿å…å»¶è¿Ÿçš„ 6 ä¸ªå®æˆ˜æ–¹æ¡ˆ</h3>
<p>é’ˆå¯¹æ‰¹é‡åˆ é™¤å¯¼è‡´çš„ä¸»ä»å»¶è¿Ÿé—®é¢˜ï¼Œç»“åˆç”Ÿäº§ç¯å¢ƒå®è·µï¼Œç»™å‡º 6 ä¸ªå¯ç›´æ¥è½åœ°çš„ä¼˜åŒ–æ–¹æ¡ˆï¼š</p>
<h4 data-id="heading-8">æ–¹æ¡ˆ 1ï¼šåˆ†æ‰¹åˆ é™¤ï¼ˆæœ€å¸¸ç”¨ï¼Œé›¶æˆæœ¬è½åœ°ï¼‰</h4>
<p>å°†å¤§äº‹åŠ¡æ‹†åˆ†ä¸ºå°äº‹åŠ¡ï¼Œé€šè¿‡LIMITæ§åˆ¶å•æ¬¡åˆ é™¤æ•°é‡ï¼Œé…åˆsleepé™ä½ IO å‹åŠ›ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">-- å¾ªç¯åˆ é™¤è„šæœ¬ï¼ˆå¯é€šè¿‡Shell/Javaå®šæ—¶ä»»åŠ¡æ‰§è¡Œï¼‰
<span class="hljs-keyword">WHILE</span> EXISTS (<span class="hljs-keyword">SELECT</span> <span class="hljs-number">1</span> <span class="hljs-keyword">FROM</span> order_history <span class="hljs-keyword">WHERE</span> create_time <span class="hljs-number">23</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span><span class="hljs-comment">') DO</span>
    DELETE <span class="hljs-keyword">FROM</span> order_history <span class="hljs-keyword">WHERE</span> create_time <span class="hljs-number">3</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span><span class="hljs-comment">' LIMIT 1000; -- æ¯æ¬¡åˆ 1000æ¡</span>
    <span class="hljs-keyword">SELECT</span> SLEEP(<span class="hljs-number">1</span>); -- æš‚åœ<span class="hljs-number">1</span>ç§’ï¼Œç»™IOå–˜æ¯æ—¶é—´
<span class="hljs-keyword">END</span> <span class="hljs-keyword">WHILE</span>;
</code></pre>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>é¿å…å¤§äº‹åŠ¡äº§ç”Ÿæµ·é‡ binlog</li>
<li>åˆ†æ•£ IO å‹åŠ›ï¼Œä¸å½±å“ä¸»ä»åŒæ­¥</li>
<li>æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼ˆè®°å½•ä¸Šæ¬¡åˆ é™¤çš„ä½ç½®ï¼‰</li>
</ul>
<h4 data-id="heading-9">æ–¹æ¡ˆ 2ï¼šå¼€å¯ä»åº“å¹¶è¡Œå¤åˆ¶ï¼ˆMySQL 5.7+ï¼‰</h4>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä»åº“ä»…ç”¨ 1 ä¸ª SQL çº¿ç¨‹å›æ”¾ binlogï¼Œå¼€å¯å¹¶è¡Œå¤åˆ¶åå¯å¤šçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œï¼Œå¤§å¹…æå‡åŒæ­¥æ•ˆç‡ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">-- ä»åº“é…ç½®ï¼ˆä¸´æ—¶ç”Ÿæ•ˆï¼Œé‡å¯å¤±æ•ˆï¼‰
SET GLOBAL <span class="hljs-attr">slave_parallel_workers</span> = <span class="hljs-number">8</span><span class="hljs-comment">; -- å¹¶è¡Œçº¿ç¨‹æ•°ï¼ˆå»ºè®®=CPUæ ¸å¿ƒæ•°ï¼‰</span>
SET GLOBAL <span class="hljs-attr">slave_parallel_type</span> = <span class="hljs-string">'LOGICAL_CLOCK'</span><span class="hljs-comment">; -- åŸºäºé€»è¾‘æ—¶é’Ÿçš„å¹¶è¡Œç­–ç•¥</span>
SET GLOBAL <span class="hljs-attr">slave_preserve_commit_order</span> = <span class="hljs-literal">ON</span><span class="hljs-comment">; -- ä¿æŒäº‹åŠ¡æäº¤é¡ºåº</span>
</code></pre>
<p><strong>æ°¸ä¹…ç”Ÿæ•ˆ</strong>ï¼šåœ¨ my.cnf ä¸­æ·»åŠ é…ç½®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">slave_parallel_workers</span> = <span class="hljs-number">8</span>
<span class="hljs-attr">slave_parallel_type</span> = LOGICAL_CLOCK
<span class="hljs-attr">slave_preserve_commit_order</span> = <span class="hljs-number">1</span>
<span class="hljs-attr">relay_log_recovery</span> = <span class="hljs-number">1</span> -- å´©æºƒåè‡ªåŠ¨é‡å»ºä¸­ç»§æ—¥å¿—
</code></pre>
<h4 data-id="heading-10">æ–¹æ¡ˆ 3ï¼šä¼˜åŒ– binlog é…ç½®ï¼ˆå‡å°‘æ—¥å¿—ä½“ç§¯ï¼‰</h4>
<p>é€šè¿‡è°ƒæ•´ binlog æ ¼å¼å’Œå‚æ•°ï¼Œé™ä½ä»åº“æ‰§è¡Œå‹åŠ›ï¼š</p>
<ol>
<li><strong>binlog_row_image=minimal</strong>ï¼šä»…è®°å½•å˜æ›´å¿…è¦å­—æ®µï¼Œå‡å°‘ binlog ä½“ç§¯ 30%-50%</li>
</ol>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">binlog_format</span> = ROW -- ä¿è¯ä¸»ä»ä¸€è‡´æ€§
<span class="hljs-attr">binlog_row_image</span> = minimal -- ç²¾ç®€æ—¥å¿—å†…å®¹
</code></pre>
<ol>
<li><strong>å¼€å¯ binlog å‹ç¼©ï¼ˆMySQL 8.0.20+ï¼‰</strong> ï¼šå¤§äº‹åŠ¡æ—¥å¿—é‡å¯å‡å°‘ 60% ä»¥ä¸Š</li>
</ol>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[mysqld]</span>
<span class="hljs-attr">binlog_transaction_compression</span> = <span class="hljs-literal">ON</span>
<span class="hljs-attr">binlog_transaction_compression_level_zstd</span> = <span class="hljs-number">6</span> -- å‹ç¼©çº§åˆ«ï¼ˆ<span class="hljs-number">1</span>-<span class="hljs-number">22</span>ï¼‰
</code></pre>
<h4 data-id="heading-11">æ–¹æ¡ˆ 4ï¼šä½¿ç”¨ä¸“ä¸šå·¥å…· pt-archiverï¼ˆåƒä¸‡çº§æ•°æ®é¦–é€‰ï¼‰</h4>
<p>Percona æä¾›çš„pt-archiverå·¥å…·ï¼Œä¸“ä¸ºå¤§è¡¨æ•°æ®å½’æ¡£ / åˆ é™¤è®¾è®¡ï¼Œæ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li>è‡ªåŠ¨åˆ†æ‰¹å¤„ç†ï¼Œé¿å…å¤§äº‹åŠ¡</li>
<li>æ”¯æŒ "å½’æ¡£ + åˆ é™¤" ä¸€ä½“ï¼ˆå¯å°†æ•°æ®å¯¼å‡ºåˆ°æ–‡ä»¶ååˆ é™¤ï¼‰</li>
<li>è‡ªå¸¦é™é€Ÿã€æ—¥å¿—è®°å½•åŠŸèƒ½</li>
</ul>
<p>ç¤ºä¾‹å‘½ä»¤ï¼ˆåˆ é™¤ 1 å¹´å‰æ•°æ®å¹¶å½’æ¡£ï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css">pt-archiver <span class="hljs-attr">--source</span> h=ä¸»åº“IP,D=æ•°æ®åº“å,t=è¡¨å,u=ç”¨æˆ·å,<span class="hljs-selector-tag">p</span>=å¯†ç  \
<span class="hljs-attr">--where</span> "create_time -<span class="hljs-number">01</span>-<span class="hljs-number">01</span>'" \
<span class="hljs-attr">--dest</span> h=å½’æ¡£åº“IP,D=archive_db,t=table_archive \
<span class="hljs-attr">--limit</span> <span class="hljs-number">1000</span> <span class="hljs-attr">--commit-each</span> <span class="hljs-attr">--sleep</span> <span class="hljs-number">0.5</span> \
<span class="hljs-attr">--statistics</span> <span class="hljs-attr">--progress</span> <span class="hljs-number">10000</span>
</code></pre>
<h4 data-id="heading-12">æ–¹æ¡ˆ 5ï¼šåˆ†åŒºè¡¨ä¼˜åŒ–ï¼ˆäº‹å‰é¢„é˜²æœ€ä½³æ–¹æ¡ˆï¼‰</h4>
<p>è‹¥ä¸šåŠ¡æ˜ç¡®éœ€è¦å®šæœŸæ¸…ç†å†å²æ•°æ®ï¼Œå»ºè®®æå‰è®¾è®¡ã€Œåˆ†åŒºè¡¨ã€ï¼Œåˆ é™¤æ•°æ®æ—¶ç›´æ¥ DROP åˆ†åŒºï¼ŒIO æ¶ˆè€—è¶‹è¿‘äº 0ï¼š</p>
<ol>
<li><strong>åˆ›å»ºåˆ†åŒºè¡¨</strong>ï¼ˆæŒ‰æ—¶é—´åˆ†åŒºï¼‰ï¼š</li>
</ol>

<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> order_history (
  id <span class="hljs-type">INT</span> <span class="hljs-keyword">PRIMARY</span> KEY AUTO_INCREMENT,
  order_no <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">32</span>),
  create_time DATETIME
)
<span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">RANGE</span> (TO_DAYS(create_time)) (
  <span class="hljs-keyword">PARTITION</span> p202301 <span class="hljs-keyword">VALUES</span> LESS THAN (TO_DAYS(<span class="hljs-string">'2023-02-01'</span>)),
  <span class="hljs-keyword">PARTITION</span> p202302 <span class="hljs-keyword">VALUES</span> LESS THAN (TO_DAYS(<span class="hljs-string">'2023-03-01'</span>)),
  <span class="hljs-comment">-- ä¾æ¬¡åˆ›å»ºåç»­åˆ†åŒº</span>
);
</code></pre>
<ol>
<li><strong>åˆ é™¤å†å²æ•°æ®</strong>ï¼ˆç§’çº§å®Œæˆï¼‰ï¼š</li>
</ol>

<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> order_history <span class="hljs-keyword">DROP</span> <span class="hljs-keyword">PARTITION</span> p202301; <span class="hljs-comment">-- æ— IOå‹åŠ›</span>
</code></pre>
<h4 data-id="heading-13">æ–¹æ¡ˆ 6ï¼šé‡å‘½å + Truncate+IO é™é€Ÿåˆ é™¤ï¼ˆè¶…å¤§è¡¨åº”æ€¥æ–¹æ¡ˆï¼‰</h4>
<p>é’ˆå¯¹æ•°ç™¾ GB çº§è¶…å¤§è¡¨ï¼Œéœ€å¿«é€Ÿé‡Šæ”¾è¡¨åä¸”é¿å… IO å†²å‡»æ—¶ï¼Œé‡‡ç”¨ã€Œé‡å‘½åéš”ç¦» + Truncate æ¸…æ•°æ® + è„šæœ¬é™é€Ÿåˆ æ–‡ä»¶ã€çš„ç»„åˆæ–¹æ¡ˆï¼Œæ ¸å¿ƒé€»è¾‘æ˜¯å°†è¡¨å…ƒæ•°æ®æ“ä½œä¸ç‰©ç†æ–‡ä»¶åˆ é™¤è§£è€¦ï¼š</p>
<h5 data-id="heading-14">æ“ä½œæ­¥éª¤ï¼ˆä»¥ 500GB çš„log_202312è¡¨ä¸ºä¾‹ï¼‰</h5>
<ol>
<li><strong>é‡å‘½åéš”ç¦»å¤§è¡¨</strong>ï¼ˆå…ƒæ•°æ®æ“ä½œï¼Œé”è¡¨æ¯«ç§’çº§ï¼‰ï¼š</li>
</ol>

<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- é‡å‘½åç›®æ ‡è¡¨ä¸ºä¸´æ—¶è¡¨ï¼Œå¿«é€Ÿé‡Šæ”¾åŸè¡¨å</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> log_202312 RENAME <span class="hljs-keyword">TO</span> log_202312_temp;
<span class="hljs-comment">-- ç«‹å³åˆ›å»ºæ–°è¡¨æ‰¿æ¥ä¸šåŠ¡å†™å…¥ï¼ˆç»“æ„ä¸åŸè¡¨ä¸€è‡´ï¼‰</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> log_202312 <span class="hljs-keyword">LIKE</span> log_202312_temp;
</code></pre>
<p>ğŸ‘‰ å…³é”®ï¼šRENAME TABLEå±äº Online DDL çš„ INPLACE æ“ä½œï¼Œæ— éœ€é‡å»ºè¡¨ï¼Œä»…ä¿®æ”¹æ•°æ®å­—å…¸ï¼Œå¯¹ä¸šåŠ¡æ— æ„ŸçŸ¥ã€‚</p>
<ol>
<li><strong>Truncate ä¸´æ—¶è¡¨ï¼ˆå¯é€‰ï¼Œå¿«é€Ÿé‡Šæ”¾è¡¨ç©ºé—´ï¼‰</strong> ï¼š</li>
</ol>

<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è‹¥éœ€ä¿ç•™ä¸´æ—¶è¡¨ç»“æ„ï¼ˆå¦‚åç»­å½’æ¡£ï¼‰ï¼Œæ‰§è¡ŒTruncateæ¸…æ•°æ®</span>
<span class="hljs-keyword">TRUNCATE</span> <span class="hljs-keyword">TABLE</span> log_202312_temp;
</code></pre>
<p>ğŸ‘‰ æ³¨æ„ï¼šTruncate ä¼šé‡å»ºè¡¨ç©ºé—´ï¼Œç”Ÿæˆæ–°çš„.ibd æ–‡ä»¶ï¼Œæ—§æ–‡ä»¶éœ€å•ç‹¬åˆ é™¤ï¼›è‹¥æ— éœ€ä¿ç•™ç»“æ„ï¼Œå¯è·³è¿‡æ­¤æ­¥ç›´æ¥å¤„ç†æ–‡ä»¶ã€‚</p>
<ol>
<li><strong>DISCARD è¡¨ç©ºé—´ï¼ˆé‡Šæ”¾æ–‡ä»¶å¥æŸ„ï¼‰</strong> ï¼š</li>
</ol>

<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è§£é™¤MySQLä¸ä¸´æ—¶è¡¨æ–‡ä»¶çš„å…³è”ï¼Œé¿å…ç›´æ¥åˆ æ–‡ä»¶å¯¼è‡´è¡¨æŸå</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> log_202312_temp DISCARD TABLESPACE;
</code></pre>
<p>ğŸ‘‰ åŸç†ï¼šInnoDB å•è¡¨ç©ºé—´æ–‡ä»¶ï¼ˆ.ibdï¼‰éœ€é€šè¿‡DISCARD TABLESPACEé‡Šæ”¾å¥æŸ„åï¼Œæ‰èƒ½å®‰å…¨åˆ é™¤æ–‡ä»¶ã€‚</p>
<ol>
<li><strong>IO é™é€Ÿåˆ é™¤ç‰©ç†æ–‡ä»¶ï¼ˆæ ¸å¿ƒæ­¥éª¤ï¼‰</strong> ï¼š</li>
</ol>
<p>ç¼–å†™ Shell è„šæœ¬ï¼Œé€šè¿‡ioniceé™åˆ¶ IO ä¼˜å…ˆçº§ + åˆ†å—åˆ é™¤ï¼Œé¿å…æ‰“æ»¡ç£ç›˜ IOï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-comment"># é™é€Ÿåˆ é™¤å¤§è¡¨æ–‡ä»¶è„šæœ¬ï¼ˆé€‚ç”¨äºLinuxç¯å¢ƒï¼‰</span>
DB_DIR=<span class="hljs-string">"/var/lib/mysql/your_database"</span>  <span class="hljs-comment"># æ•°æ®åº“æ•°æ®ç›®å½•</span>
TEMP_TABLE=<span class="hljs-string">"log_202312_temp"</span>
FILE=<span class="hljs-string">"<span class="hljs-variable">${DB_DIR}</span>/<span class="hljs-variable">${TEMP_TABLE}</span>.ibd"</span>
CHUNK_SIZE=<span class="hljs-string">"50M"</span>  <span class="hljs-comment"># æ¯æ¬¡åˆ é™¤50MBï¼ˆå¯æ ¹æ®IOè´Ÿè½½è°ƒæ•´ï¼‰</span>
SLEEP_SEC=<span class="hljs-string">"3"</span>     <span class="hljs-comment"># æ¯åˆ é™¤ä¸€å—ä¼‘çœ 3ç§’</span>
IO_PRIORITY=<span class="hljs-string">"7"</span>   <span class="hljs-comment"># IOä¼˜å…ˆçº§ï¼ˆ0æœ€é«˜ï¼Œ7æœ€ä½ï¼‰</span>
<span class="hljs-comment"># éªŒè¯æ–‡ä»¶å­˜åœ¨</span>
<span class="hljs-keyword">if</span> [ ! -f <span class="hljs-string">"<span class="hljs-variable">$FILE</span>"</span> ]; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ–‡ä»¶ä¸å­˜åœ¨ï¼š<span class="hljs-variable">$FILE</span>"</span>
  <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
<span class="hljs-comment"># è®¾ç½®IOä¼˜å…ˆçº§å¹¶åˆ†å—åˆ é™¤</span>
ionice -c 2 -n <span class="hljs-variable">$IO_PRIORITY</span> bash -c <span class="hljs-string">"
  while [ -f "</span><span class="hljs-variable">$FILE</span><span class="hljs-string">" ]; do
    # åˆ†å—æ¸…ç©ºæ–‡ä»¶å†…å®¹ï¼ˆé¿å…ç›´æ¥rmå¼•å‘é«˜IOï¼‰
    dd if=/dev/null of="</span><span class="hljs-variable">$FILE</span><span class="hljs-string">" bs=<span class="hljs-variable">$CHUNK_SIZE</span> count=1 seek=0 &amp;&amp; sync
    # æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å·²æ¸…ç©ºï¼Œæœªæ¸…ç©ºåˆ™ç»§ç»­
    if [ $? -ne 0 ] || [ <span class="hljs-subst">$(du -b <span class="hljs-string">"<span class="hljs-variable">$FILE</span>"</span> | awk '{print $1}')</span> -eq 0 ]; then
      rm -f "</span><span class="hljs-variable">$FILE</span><span class="hljs-string">"
      echo "</span>æ–‡ä»¶åˆ é™¤å®Œæˆï¼š<span class="hljs-variable">$FILE</span><span class="hljs-string">"
      break
    fi
    echo "</span>å·²åˆ é™¤<span class="hljs-variable">${CHUNK_SIZE}</span>ï¼Œä¼‘çœ <span class="hljs-variable">${SLEEP_SEC}</span>ç§’...<span class="hljs-string">"
    sleep <span class="hljs-variable">$SLEEP_SEC</span>
  done
"</span>
<span class="hljs-comment"># æ¸…ç†ä¸´æ—¶è¡¨ï¼ˆå¯é€‰ï¼Œè‹¥æ— éœ€ä¿ç•™è¡¨ç»“æ„ï¼‰</span>
mysql -uusername -ppassword -e <span class="hljs-string">"DROP TABLE your_database.<span class="hljs-variable">${TEMP_TABLE}</span>;"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ä¸´æ—¶è¡¨å·²åˆ é™¤"</span>
</code></pre>
<p>ğŸ‘‰ æ ¸å¿ƒä¼˜åŒ–ï¼š</p>
<ul>
<li>
<ul>
<li>ionice -c 2 -n 7ï¼šå°†åˆ é™¤æ“ä½œçš„ IO ä¼˜å…ˆçº§è®¾ä¸ºæœ€ä½ï¼Œä¸æŠ¢å æ ¸å¿ƒä¸šåŠ¡ IO èµ„æº</li>
<li>åˆ†å—åˆ é™¤ï¼šé¿å…ä¸€æ¬¡æ€§åˆ é™¤è¶…å¤§æ–‡ä»¶å¯¼è‡´çš„ inode é‡Šæ”¾é£æš´</li>
<li>åŒæ­¥ä¸»ä»ï¼šä»åº“éœ€æ‰§è¡Œç›¸åŒçš„é‡å‘½å + åˆ é™¤æµç¨‹ï¼Œç¡®ä¿ä¸»ä»ç»“æ„ä¸€è‡´</li>
</ul>
</li>
</ul>
<h5 data-id="heading-15">æ–¹æ¡ˆä¼˜åŠ¿ï¼š</h5>
<ul>
<li>ä¸šåŠ¡æ— æ„ŸçŸ¥ï¼šé‡å‘½å + æ–°å»ºè¡¨ä»…éœ€æ¯«ç§’çº§ï¼Œä¸å½±å“å†™å…¥</li>
<li>IO å¯æ§ï¼šé€šè¿‡è„šæœ¬ä¸¥æ ¼é™åˆ¶åˆ é™¤é€Ÿç‡ï¼Œé¿å…ç£ç›˜ IO æ‰“æ»¡</li>
<li>æ•ˆç‡é«˜ï¼šç›´æ¥æ“ä½œæ–‡ä»¶ç³»ç»Ÿï¼Œæ¯”åˆ†æ‰¹ DELETE å¿« 10 å€ä»¥ä¸Š</li>
<li>å®‰å…¨æ€§ï¼šé€šè¿‡DISCARD TABLESPACEé¿å…æ–‡ä»¶åˆ é™¤å¯¼è‡´çš„ MySQL å¼‚å¸¸</li>
</ul>
<h5 data-id="heading-16">æ³¨æ„äº‹é¡¹ï¼š</h5>
<ul>
<li>æ‰§è¡Œå‰éœ€ç¡®è®¤æ•°æ®åº“æ•°æ®ç›®å½•ï¼ˆDB_DIRï¼‰è·¯å¾„æ­£ç¡®</li>
<li>ç¡®ä¿æ— é•¿äº‹åŠ¡å¼•ç”¨ä¸´æ—¶è¡¨ï¼ˆå¦åˆ™DISCARD TABLESPACEä¼šå¤±è´¥ï¼‰</li>
<li>è„šæœ¬éœ€åœ¨æ•°æ®åº“æœåŠ¡å™¨æœ¬åœ°æ‰§è¡Œï¼Œä¸”å…·å¤‡æ–‡ä»¶è¯»å†™æƒé™</li>
<li>ä¸»ä»æ¶æ„ä¸‹ï¼Œéœ€åœ¨ä»åº“åŒæ­¥æ‰§è¡Œè¯¥æ–¹æ¡ˆï¼ˆé¿å…ä¸»ä»è¡¨ç»“æ„ä¸ä¸€è‡´ï¼‰</li>
</ul>
<h3 data-id="heading-17">æ€»ç»“ä¸è­¦ç¤º</h3>
<ol>
<li><strong>æ ¸å¿ƒåŸåˆ™</strong>ï¼šå¤§è¡¨åˆ é™¤æ°¸è¿œéµå¾ª "åˆ†æ‰¹ã€é™é€Ÿã€äº‹å‰é¢„é˜²" ä¸‰å¤§åŸåˆ™</li>
<li><strong>ç¦å¿Œæ“ä½œ</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>ç¦æ­¢ç›´æ¥DROPè¶… 100GB çš„å¤§è¡¨ï¼ˆå¯ç”¨ç¡¬é“¾æ¥å»¶è¿Ÿåˆ é™¤æŠ€å·§ï¼Œè§æ‰©å±•é˜…è¯»ï¼‰</li>
<li>ç¦æ­¢æ— LIMITçš„æ‰¹é‡DELETEï¼ˆå•æ¬¡åˆ é™¤ä¸è¶…è¿‡ 1 ä¸‡æ¡ï¼‰</li>
</ul>
</li>
</ul>
<ol>
<li><strong>å¿…å¤‡ç›‘æ§</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>ä¸»ä»å»¶è¿Ÿç›‘æ§ï¼ˆé˜ˆå€¼å»ºè®®â‰¤30 ç§’ï¼‰</li>
<li>ç£ç›˜ IO ä½¿ç”¨ç‡ç›‘æ§ï¼ˆé˜ˆå€¼å»ºè®®â‰¤80%ï¼‰</li>
<li>å¤§äº‹åŠ¡ç›‘æ§ï¼ˆå•äº‹åŠ¡å½±å“è¡Œæ•°ï¼1 ä¸‡æ¡å‘Šè­¦ï¼‰</li>
</ul>
</li>
</ul>
<p>æ•°æ®åº“æ“ä½œæ— å°äº‹ï¼Œä¸€å¥ç®€å•çš„åˆ é™¤è¯­å¥ï¼ŒèƒŒåå¯èƒ½éšè—ç€åº•å±‚é€»è¾‘çš„ "æš—ç¤"ã€‚å¸Œæœ›é€šè¿‡è¿™ä¸¤èµ·äº‹æ•…çš„å¤ç›˜ï¼Œèƒ½è®©æ›´å¤šç ”å‘å’Œè¿ç»´åŒå­¦å»ºç«‹æ•¬ç•ä¹‹å¿ƒï¼Œé¿å…é‡è¹ˆè¦†è¾™ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MySQLæ¢å¤ä¹‹Binlogæ ¼å¼è¯¦è§£]]></title>    <link>https://juejin.cn/post/7588139768276123699</link>    <guid>https://juejin.cn/post/7588139768276123699</guid>    <pubDate>2025-12-28T09:47:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588139768276123699" data-draft-id="7588140921248792614" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MySQLæ¢å¤ä¹‹Binlogæ ¼å¼è¯¦è§£"/> <meta itemprop="keywords" content="MySQL"/> <meta itemprop="datePublished" content="2025-12-28T09:47:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="DBè™šç©ºè¡Œè€…"/> <meta itemprop="url" content="https://juejin.cn/user/239028029625050"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MySQLæ¢å¤ä¹‹Binlogæ ¼å¼è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/239028029625050/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    DBè™šç©ºè¡Œè€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:47:56.000Z" title="Sun Dec 28 2025 09:47:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">MySQLæ¢å¤ä¹‹Binlogæ ¼å¼è¯¦è§£</h2>
<p>åœ¨MySQLæ•°æ®åº“è¿ç»´è¿‡ç¨‹ä¸­ï¼Œè¯¯åˆ æ•°æ®ã€æ‰¹é‡æ›´æ–°é”™è¯¯ç­‰æ“ä½œæ—¶æœ‰å‘ç”Ÿï¼Œä¸€æ—¦å‡ºç°è¿™ç±»æ•…éšœï¼Œæ•°æ®æ¢å¤å°±æˆä¸ºæ ¸å¿ƒéœ€æ±‚ã€‚è€Œ<code>binlogï¼ˆäºŒè¿›åˆ¶æ—¥å¿—ï¼‰</code>ä½œä¸ºMySQL Serverå±‚çš„æ ¸å¿ƒæ—¥å¿—ï¼Œè®°å½•äº†æ‰€æœ‰è¡¨ç»“æ„å˜æ›´å’Œæ•°æ®ä¿®æ”¹æ“ä½œï¼Œæ˜¯å®ç°æ•°æ®é—ªå›æ¢å¤çš„å…³é”®ä¾æ®ã€‚æœ¬æ–‡å°†ä»binlogé—ªå›æ¢å¤çš„åŸºç¡€é€»è¾‘å…¥æ‰‹ï¼Œè¯¦è§£æ¢å¤æ³¨æ„äº‹é¡¹ä¸å®æ“ç¤ºä¾‹ï¼Œé‡ç‚¹æ‹†è§£binlogäº‹ä»¶ç±»å‹åŠæ ¸å¿ƒäº‹ä»¶çš„æ ¼å¼è§„èŒƒã€‚æ•°æ®æ¢å¤ğŸ§ 1786283847</p>
<h3 data-id="heading-1">ä¸€ã€binlogé—ªå›ï¼šè¯¯æ“ä½œæ•°æ®æ¢å¤çš„æ ¸å¿ƒæ–¹æ¡ˆ</h3>
<p>binlogæ—¥å¿—æœ¬è´¨æ˜¯Serverå±‚çš„é€»è¾‘æ—¥å¿—ï¼Œé‡‡ç”¨è¿½åŠ å†™æ¨¡å¼ï¼Œå®Œæ•´è®°å½•äº†æ•°æ®åº“çš„å˜æ›´å†å²ï¼ˆä¸å«æŸ¥è¯¢æ“ä½œï¼‰ã€‚å½“å‘ç”Ÿè¯¯åˆ ï¼ˆDELETEï¼‰ã€æ‰¹é‡æ›´æ–°ï¼ˆUPDATEï¼‰ç­‰é”™è¯¯æ“ä½œæ—¶ï¼Œå¯é€šè¿‡<code>é—ªå›æœºåˆ¶</code>â€”â€”å³è§£æbinlogæ—¥å¿—ã€ç”Ÿæˆåå‘æ“ä½œSQLï¼ˆå¦‚DELETEâ†’INSERTã€UPDATEâ†’åå‘UPDATEï¼‰ï¼ŒæŒ‰æ—¶é—´å€’åºé‡æ”¾åå‘SQLï¼Œå°†æ•°æ®æ¢å¤è‡³è¯¯æ“ä½œå‰çš„çŠ¶æ€ã€‚</p>
<p>ä¸InnoDBçš„redo logï¼ˆå¼•æ“å±‚ç‰©ç†æ—¥å¿—ï¼Œç”¨äºå´©æºƒæ¢å¤ï¼‰ã€undo logï¼ˆå¼•æ“å±‚å›æ»šæ—¥å¿—ï¼Œç”¨äºäº‹åŠ¡å›æ»šï¼‰ä¸åŒï¼Œbinlogçš„æ ¸å¿ƒä»·å€¼åœ¨äºè·¨å¼•æ“çš„æ•°æ®å¤‡ä»½ä¸æ¢å¤ã€ä¸»ä»å¤åˆ¶ï¼Œå…¶å…¨é‡å˜æ›´è®°å½•ç‰¹æ€§ä½¿å…¶æˆä¸ºè¯¯æ“ä½œæ¢å¤çš„å”¯ä¸€å¯é é€”å¾„ã€‚</p>
<h4 data-id="heading-2">1.1 é—ªå›æ¢å¤æ³¨æ„äº‹é¡¹</h4>
<ul>
<li><strong>å‰ç½®æ¡ä»¶</strong>ï¼šå¿…é¡»æå‰å¼€å¯binlogï¼ˆé€šè¿‡<code>show variables like 'log_bin';</code>ç¡®è®¤ï¼‰ï¼Œç”Ÿäº§ç¯å¢ƒå»ºè®®é…ç½®<code>binlog_format = ROW</code>ï¼ˆè¡Œçº§æ ¼å¼ï¼‰ï¼Œè™½æ—¥å¿—ä½“ç§¯è¾ƒå¤§ï¼Œä½†èƒ½ç²¾å‡†è®°å½•è¡Œæ•°æ®å˜æ›´ï¼Œé¿å…STATEMENTæ ¼å¼çš„ä¸ç¡®å®šæ€§ï¼ˆå¦‚å‡½æ•°æ‰§è¡Œç»“æœä¸ä¸€è‡´ï¼‰ã€‚</li>
<li><strong>å¤‡ä»½ä¼˜å…ˆ</strong>ï¼šæ¢å¤å‰åŠ¡å¿…å¤‡ä»½å½“å‰æ•°æ®ï¼ˆå¦‚mysqldumpå…¨é‡å¤‡ä»½ï¼‰ï¼Œé¿å…åå‘SQLæ‰§è¡Œå¤±è¯¯å¯¼è‡´äºŒæ¬¡æŸåã€‚</li>
<li><strong>æµ‹è¯•å…ˆè¡Œ</strong>ï¼šæ‰€æœ‰æ¢å¤æ“ä½œå¿…é¡»å…ˆåœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯åå‘SQLçš„æ­£ç¡®æ€§ï¼Œç¡®è®¤æ•°æ®ä¸€è‡´åå†åº”ç”¨åˆ°ç”Ÿäº§ç¯å¢ƒã€‚</li>
<li><strong>ç²¾ç¡®èŒƒå›´</strong>ï¼šé€šè¿‡<code>--start-datetime/--stop-datetime</code>ï¼ˆæ—¶é—´èŒƒå›´ï¼‰æˆ–<code>--start-position/--stop-position</code>ï¼ˆæ—¥å¿—ä½ç½®ï¼‰ç²¾å‡†å®šä½è¯¯æ“ä½œåŒºé—´ï¼Œé¿å…å½±å“æ­£å¸¸æ•°æ®ã€‚</li>
<li><strong>å±€é™æ€§</strong>ï¼šä¸æ”¯æŒDDLæ“ä½œï¼ˆå¦‚DROP TABLEï¼‰é—ªå›ï¼Œéœ€é€šè¿‡å…¨é‡å¤‡ä»½æ¢å¤ï¼›å¤§äº‹åŠ¡é—ªå›å¯èƒ½å½±å“æ•°æ®åº“æ€§èƒ½ï¼Œé«˜å¹¶å‘åœºæ™¯éœ€æ³¨æ„é”å†²çªã€‚</li>
</ul>
<h4 data-id="heading-3">1.2 é—ªå›æ¢å¤å®æ“ç¤ºä¾‹ï¼ˆDELETEè¯¯æ“ä½œï¼‰</h4>
<p>å‡è®¾è¯¯åˆ <code>test.user</code>è¡¨æ•°æ®ï¼Œé€šè¿‡mysqlbinlogå·¥å…·å®ç°æ¢å¤ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>å®šä½binlogæ–‡ä»¶</strong>ï¼šæŸ¥çœ‹å½“å‰binlogåˆ—è¡¨åŠæ´»è·ƒæ–‡ä»¶ <code> -- æŸ¥çœ‹binlogæ–‡ä»¶åˆ—è¡¨  `` mysql&gt; SHOW BINARY LOGS;  `` -- æŸ¥çœ‹å½“å‰å†™å…¥çš„binlogæ–‡ä»¶  ``mysql&gt; SHOW MASTER STATUS;</code></li>
<li><strong>è§£æç›®æ ‡binlog</strong>ï¼šè§£ç è¡Œçº§æ—¥å¿—ï¼Œè¿‡æ»¤è¯¯æ“ä½œæ—¶é—´èŒƒå›´ <code> mysqlbinlog --base64-output=decode-rows -v /var/lib/mysql/binlog.000001 \  `` --start-datetime="2025-12-27 09:00:00" \  ``--stop-datetime="2025-12-27 09:30:00" &gt; binlog_content.txt</code>å‚æ•°è¯´æ˜ï¼š<code>--base64-output=decode-rows</code>è§£ç è¡Œæ•°æ®ï¼Œ<code>-v</code>æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ã€‚</li>
<li><strong>ç”Ÿæˆåå‘SQL</strong>ï¼šå°†DELETEè½¬æ¢ä¸ºINSERTï¼Œç”Ÿæˆé—ªå›è„šæœ¬ <code> mysqlbinlog --base64-output=decode-rows -v /var/lib/mysql/binlog.000001 \  `` --start-position=154 --stop-position=987 | \  `` sed -e 's/### DELETE FROM/### INSERT INTO/' \  `` -e 's/### WHERE/### VALUES/' \  ``-e 's/### SET/### WHERE/' &gt; flashback.sql</code></li>
<li><strong>æ‰§è¡Œæ¢å¤</strong>ï¼šå…ˆæµ‹è¯•åç”Ÿäº§<code> # æµ‹è¯•ç¯å¢ƒéªŒè¯  `` mysql -h test_db -u root -p &lt; flashback.sql  `` # ç”Ÿäº§ç¯å¢ƒæ‰§è¡Œ  ``mysql -h prod_db -u root -p &lt; flashback.sql</code></li>
</ol>
<h3 data-id="heading-4">äºŒã€binlogäº‹ä»¶ï¼ˆEventï¼‰å…¨è§£æ</h3>
<p>binlogæ–‡ä»¶ç”±ä¸€ç³»åˆ—â€œäº‹ä»¶â€ç»„æˆï¼Œæ¯ä¸ªäº‹ä»¶è®°å½•ä¸€æ¬¡æ•°æ®åº“å˜æ›´ï¼ˆæˆ–å˜æ›´æè¿°ï¼‰ï¼Œäº‹ä»¶æŒ‰æ—¶é—´é¡ºåºè¿½åŠ å†™å…¥ã€‚ä¸åŒäº‹ä»¶å¯¹åº”ä¸åŒæ“ä½œåœºæ™¯ï¼ŒMySQL 8.0ç‰ˆæœ¬åŒ…å«ä»¥ä¸‹æ ¸å¿ƒäº‹ä»¶ç±»å‹ï¼ŒæŒ‰åŠŸèƒ½åˆ†ç±»åˆ—ä¸¾å¦‚ä¸‹ï¼š</p>
<h4 data-id="heading-5">2.1 æ‰€æœ‰binlog Eventç±»å‹åŠä½œç”¨</h4>
















































































<table><thead><tr><th><strong>äº‹ä»¶ç±»å‹</strong></th><th><strong>äº‹ä»¶æ ‡è¯†</strong></th><th><strong>æ ¸å¿ƒä½œç”¨</strong></th></tr></thead><tbody><tr><td>Format_desc_event</td><td>15</td><td>binlogæ–‡ä»¶å¼€å¤´çš„æè¿°äº‹ä»¶ï¼Œè®°å½•binlogç‰ˆæœ¬ã€MySQLç‰ˆæœ¬ã€äº‹ä»¶å¤´é•¿åº¦ç­‰å…ƒä¿¡æ¯</td></tr><tr><td>Previous_gtids_log_event</td><td>35</td><td>è®°å½•å½“å‰binlogæ–‡ä»¶åˆ›å»ºå‰å·²æ‰§è¡Œçš„å…¨å±€äº‹åŠ¡IDï¼ˆGTIDï¼‰é›†åˆ</td></tr><tr><td>Gtid_log_event</td><td>33</td><td>æ ‡è®°åç»­äº‹åŠ¡çš„GTIDï¼Œç”¨äºä¸»ä»å¤åˆ¶çš„äº‹åŠ¡è¿½è¸ªä¸è¿‡æ»¤</td></tr><tr><td>Query_event</td><td>2</td><td>è®°å½•æ‰§è¡Œçš„SQLè¯­å¥ï¼ˆå¦‚DDLã€DMLï¼ˆSTATEMENTæ ¼å¼ï¼‰ã€äº‹åŠ¡BEGIN/COMMITï¼‰</td></tr><tr><td>Table_map_event</td><td>19</td><td>è¡Œçº§æ—¥å¿—ï¼ˆROWæ ¼å¼ï¼‰çš„å‰ç½®äº‹ä»¶ï¼Œæè¿°è¡¨ç»“æ„ã€è¡¨IDã€åˆ—ä¿¡æ¯ç­‰æ˜ å°„å…³ç³»</td></tr><tr><td>Write_rows_event_v2</td><td>30</td><td>ROWæ ¼å¼ä¸‹çš„INSERTæ“ä½œäº‹ä»¶ï¼Œè®°å½•æ’å…¥çš„è¡Œæ•°æ®</td></tr><tr><td>Update_rows_event_v2</td><td>31</td><td>ROWæ ¼å¼ä¸‹çš„UPDATEæ“ä½œäº‹ä»¶ï¼Œè®°å½•æ›´æ–°å‰åçš„è¡Œæ•°æ®</td></tr><tr><td>Delete_rows_event_v2</td><td>32</td><td>ROWæ ¼å¼ä¸‹çš„DELETEæ“ä½œäº‹ä»¶ï¼Œè®°å½•åˆ é™¤çš„è¡Œæ•°æ®</td></tr><tr><td>Xid_event</td><td>10</td><td>äº‹åŠ¡æäº¤äº‹ä»¶ï¼Œè®°å½•äº‹åŠ¡IDï¼ˆXIDï¼‰ï¼Œç”¨äºä¸¤é˜¶æ®µæäº¤ä¸€è‡´æ€§æ ¡éªŒ</td></tr><tr><td>Rotate_event</td><td>4</td><td>binlogæ–‡ä»¶åˆ‡æ¢äº‹ä»¶ï¼Œè®°å½•ä¸‹ä¸€ä¸ªbinlogæ–‡ä»¶çš„åç§°å’Œä½ç½®</td></tr><tr><td>Stop_event</td><td>3</td><td>MySQLæœåŠ¡åœæ­¢äº‹ä»¶ï¼Œæ ‡è®°binlogå†™å…¥ç»ˆæ­¢</td></tr><tr><td>Intvar_event</td><td>5</td><td>è®°å½•INSERT_IDã€LAST_INSERT_IDå˜é‡å€¼ï¼Œç”¨äºSTATEMENTæ ¼å¼ä¸‹çš„è‡ªå¢IDä¸€è‡´æ€§</td></tr><tr><td>Rand_event</td><td>6</td><td>è®°å½•RAND()å‡½æ•°çš„ç§å­å€¼ï¼Œé¿å…STATEMENTæ ¼å¼ä¸‹ä¸»ä»æ•°æ®ä¸ä¸€è‡´</td></tr><tr><td>Incident_event</td><td>26</td><td>è®°å½•ä¸»åº“å¼‚å¸¸äº‹ä»¶ï¼ˆå¦‚æ•…éšœï¼‰ï¼Œç”¨äºä¸»ä»å¤åˆ¶çš„å¼‚å¸¸é€šçŸ¥</td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed30a89556eb4cb09da413fe479b3cd0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRELomZrnqbrooYzogIU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767520076&amp;x-signature=c9Fb4vbjHb0PkeNBmi6bSZbiyrY%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-6">é‡ç‚¹Binlog Eventè¯¦ç»†æ ¼å¼</h4>
<p>ä»¥ä¸‹é€‰å–æ•°æ®æ¢å¤åœºæ™¯ä¸­æœ€æ ¸å¿ƒçš„6ç±»äº‹ä»¶ï¼Œè¯¦ç»†æ‹†è§£å…¶æ ¼å¼ç»“æ„ï¼ˆåŸºäºMySQL 8.0ï¼Œå°ç«¯å­—èŠ‚åºï¼‰ï¼ŒåŒ…å«äº‹ä»¶å¤´ã€å›ºå®šå­—æ®µã€å¯å˜å­—æ®µåŠå«ä¹‰è¯´æ˜ã€‚</p>
<h5 data-id="heading-7">1. Format_desc_eventï¼ˆbinlogæè¿°äº‹ä»¶ï¼‰</h5>
<p>æ¯ä¸ªbinlogæ–‡ä»¶çš„ç¬¬ä¸€ä¸ªäº‹ä»¶ï¼Œç”¨äºæè¿°binlogå…ƒä¿¡æ¯ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ äº‹ä»¶å¤´ï¼ˆå›ºå®š<span class="hljs-number">19</span>å­—èŠ‚ï¼‰                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ timestamp: <span class="hljs-number">4</span>å­—èŠ‚  <span class="hljs-comment">// äº‹ä»¶åˆ›å»ºæ—¶é—´ï¼ˆç§’çº§ï¼‰                     â”‚</span>
â”‚ event_type: <span class="hljs-number">1</span>å­—èŠ‚  <span class="hljs-comment">// äº‹ä»¶ç±»å‹ï¼ˆ15=Format_desc_eventï¼‰        â”‚</span>
â”‚ server_id: <span class="hljs-number">4</span>å­—èŠ‚  <span class="hljs-comment">// äº§ç”Ÿäº‹ä»¶çš„MySQLæœåŠ¡ID                    â”‚</span>
â”‚ event_size: <span class="hljs-number">4</span>å­—èŠ‚  <span class="hljs-comment">// äº‹ä»¶æ€»é•¿åº¦ï¼ˆå«å¤´ã€ä½“ã€å°¾ï¼‰              â”‚</span>
â”‚ log_pos: <span class="hljs-number">4</span>å­—èŠ‚  <span class="hljs-comment">// ä¸‹ä¸€ä¸ªäº‹ä»¶çš„èµ·å§‹ä½ç½®                      â”‚</span>
â”‚ flags: <span class="hljs-number">2</span>å­—èŠ‚  <span class="hljs-comment">// äº‹ä»¶æ ‡è®°ï¼ˆå¦‚0x0001è¡¨ç¤ºæ–‡ä»¶æ­£åœ¨ä½¿ç”¨ï¼‰         â”‚</span>
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ äº‹ä»¶ä½“ï¼ˆå¯å˜é•¿åº¦ï¼‰                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ binlog_version: <span class="hljs-number">2</span>å­—èŠ‚  <span class="hljs-comment">// binlogç‰ˆæœ¬ï¼ˆå›ºå®š0x0004ï¼‰            â”‚</span>
â”‚ mysql_version: <span class="hljs-number">50</span>å­—èŠ‚  <span class="hljs-comment">// MySQLç‰ˆæœ¬å­—ç¬¦ä¸²ï¼ˆå¦‚"8.0.36"ï¼‰      â”‚</span>
â”‚ create_time: <span class="hljs-number">4</span>å­—èŠ‚  <span class="hljs-comment">// binlogæ–‡ä»¶åˆ›å»ºæ—¶é—´ï¼ˆç§’çº§ï¼‰             â”‚</span>
â”‚ event_header_length: <span class="hljs-number">1</span>å­—èŠ‚  <span class="hljs-comment">// äº‹ä»¶å¤´å›ºå®šé•¿åº¦ï¼ˆ19å­—èŠ‚ï¼‰       â”‚</span>
â”‚ event_type_header_lengths: <span class="hljs-number">40</span>å­—èŠ‚  <span class="hljs-comment">// å„äº‹ä»¶ç±»å‹çš„å¤´é•¿åº¦      â”‚</span>
â”‚ checksum: <span class="hljs-number">4</span>å­—èŠ‚  <span class="hljs-comment">// æ ¡éªŒå’Œï¼ˆå¯é€‰ï¼ŒCRC32ï¼‰                    â”‚</span>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h5 data-id="heading-8">2. Query_eventï¼ˆSQLæ‰§è¡Œäº‹ä»¶ï¼‰</h5>
<p>è®°å½•SQLè¯­å¥æ‰§è¡Œä¿¡æ¯ï¼ŒSTATEMENTæ ¼å¼ä¸‹æ ¸å¿ƒäº‹ä»¶ï¼ŒROWæ ¼å¼ä¸‹ç”¨äºè®°å½•DDL/äº‹åŠ¡è¯­å¥ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>




























































<table><thead><tr><th><strong>å­—æ®µåç§°</strong></th><th><strong>é•¿åº¦</strong></th><th><strong>å«ä¹‰è¯´æ˜</strong></th></tr></thead><tbody><tr><td>äº‹ä»¶å¤´</td><td>19å­—èŠ‚</td><td>åŒFormat_desc_eventçš„äº‹ä»¶å¤´ç»“æ„</td></tr><tr><td>slave_proxy_id</td><td>4å­—èŠ‚</td><td>ä»åº“ä»£ç†IDï¼ˆé»˜è®¤0ï¼‰</td></tr><tr><td>execution_time</td><td>4å­—èŠ‚</td><td>SQLæ‰§è¡Œè€—æ—¶ï¼ˆæ¯«ç§’ï¼‰</td></tr><tr><td>schema_length</td><td>1å­—èŠ‚</td><td>å½“å‰æ•°æ®åº“åé•¿åº¦</td></tr><tr><td>error_code</td><td>2å­—èŠ‚</td><td>æ‰§è¡Œé”™è¯¯ç ï¼ˆ0è¡¨ç¤ºæˆåŠŸï¼‰</td></tr><tr><td>status_vars_length</td><td>2å­—èŠ‚</td><td>çŠ¶æ€å˜é‡é•¿åº¦</td></tr><tr><td>status_vars</td><td>å¯å˜é•¿åº¦</td><td>æ‰§è¡ŒçŠ¶æ€å˜é‡ï¼ˆå¦‚autocommitã€å­—ç¬¦é›†ï¼‰</td></tr><tr><td>schema</td><td>å¯å˜é•¿åº¦</td><td>å½“å‰æ•°æ®åº“åï¼ˆä»¥NULLç»“å°¾ï¼‰</td></tr><tr><td>sql_statement</td><td>å¯å˜é•¿åº¦</td><td>æ‰§è¡Œçš„SQLè¯­å¥ï¼ˆä»¥NULLç»“å°¾ï¼‰</td></tr><tr><td>checksum</td><td>4å­—èŠ‚</td><td>æ ¡éªŒå’Œï¼ˆå¯é€‰ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-9">3. Table_map_eventï¼ˆè¡¨æ˜ å°„äº‹ä»¶ï¼‰</h5>
<p>ROWæ ¼å¼ä¸‹æ‰€æœ‰è¡Œäº‹ä»¶ï¼ˆWrite/Update/Deleteï¼‰çš„å‰ç½®äº‹ä»¶ï¼Œç”¨äºå…³è”è¡¨ç»“æ„ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ äº‹ä»¶å¤´ï¼ˆ<span class="hljs-number">19</span>å­—èŠ‚ï¼‰ <span class="hljs-comment">// åŒé€šç”¨äº‹ä»¶å¤´ç»“æ„                         â”‚</span>
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å›ºå®šå­—æ®µï¼ˆ<span class="hljs-number">8</span>å­—èŠ‚ï¼‰                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ table_id: <span class="hljs-number">6</span>å­—èŠ‚  <span class="hljs-comment">// è¡¨å”¯ä¸€æ ‡è¯†ï¼ˆMySQLå†…éƒ¨åˆ†é…ï¼‰              â”‚</span>
â”‚ reserved: <span class="hljs-number">2</span>å­—èŠ‚  <span class="hljs-comment">// ä¿ç•™å­—æ®µï¼ˆæœªä½¿ç”¨ï¼Œé»˜è®¤0x0000ï¼‰           â”‚</span>
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¯å˜å­—æ®µï¼ˆæ ¸å¿ƒå†…å®¹ï¼‰                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ db_name_len: <span class="hljs-number">1</span>å­—èŠ‚  <span class="hljs-comment">// æ•°æ®åº“åé•¿åº¦                          â”‚</span>
â”‚ db_name: å¯å˜é•¿åº¦  <span class="hljs-comment">// æ•°æ®åº“åï¼ˆNULLç»“å°¾ï¼‰                   â”‚</span>
â”‚ table_name_len: <span class="hljs-number">1</span>å­—èŠ‚  <span class="hljs-comment">// è¡¨åé•¿åº¦                            â”‚</span>
â”‚ table_name: å¯å˜é•¿åº¦  <span class="hljs-comment">// è¡¨åï¼ˆNULLç»“å°¾ï¼‰                     â”‚</span>
â”‚ column_count: å˜é•¿æ•´æ•°  <span class="hljs-comment">// è¡¨çš„åˆ—æ•°é‡                        â”‚</span>
â”‚ column_types: å¯å˜é•¿åº¦  <span class="hljs-comment">// åˆ—ç±»å‹æ•°ç»„ï¼ˆ1å­—èŠ‚/åˆ—ï¼‰             â”‚</span>
â”‚ metadata_len: å˜é•¿æ•´æ•°  <span class="hljs-comment">// åˆ—å…ƒæ•°æ®é•¿åº¦                      â”‚</span>
â”‚ metadata: å¯å˜é•¿åº¦  <span class="hljs-comment">// åˆ—å…ƒæ•°æ®ï¼ˆå¦‚VARCHARé•¿åº¦ï¼‰              â”‚</span>
â”‚ null_bitmap: å¯å˜é•¿åº¦  <span class="hljs-comment">// åˆ—NULLå…è®¸æ ‡è®°ï¼ˆ(N+7)/8å­—èŠ‚ï¼ŒNä¸ºåˆ—æ•°ï¼‰â”‚</span>
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ checksum: <span class="hljs-number">4</span>å­—èŠ‚  <span class="hljs-comment">// æ ¡éªŒå’Œï¼ˆå¯é€‰ï¼‰                            â”‚</span>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h5 data-id="heading-10">4. Write_rows_event_v2ï¼ˆæ’å…¥è¡Œäº‹ä»¶ï¼‰</h5>
<p>ROWæ ¼å¼ä¸‹INSERTæ“ä½œçš„æ ¸å¿ƒäº‹ä»¶ï¼Œè®°å½•æ’å…¥çš„è¡Œæ•°æ®ï¼Œæ ¼å¼ä¸Update/Delete_rows_event_v2ç±»ä¼¼ï¼Œç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ äº‹ä»¶å¤´ï¼ˆ<span class="hljs-number">19</span>å­—èŠ‚ï¼‰ <span class="hljs-comment">// åŒé€šç”¨äº‹ä»¶å¤´ç»“æ„                         â”‚</span>
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å›ºå®šå­—æ®µï¼ˆ<span class="hljs-number">8</span>å­—èŠ‚ï¼‰                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ table_id: <span class="hljs-number">6</span>å­—èŠ‚  <span class="hljs-comment">// å…³è”çš„è¡¨IDï¼ˆå¯¹åº”Table_map_eventçš„table_idï¼‰â”‚</span>
â”‚ flags: <span class="hljs-number">2</span>å­—èŠ‚  <span class="hljs-comment">// äº‹ä»¶æ ‡è®°ï¼ˆå¦‚0x0001è¡¨ç¤ºå¿½ç•¥é¢å¤–æ•°æ®ï¼‰         â”‚</span>
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¯å˜å­—æ®µ                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ extra_data_len: <span class="hljs-number">2</span>å­—èŠ‚  <span class="hljs-comment">// é¢å¤–æ•°æ®é•¿åº¦ï¼ˆMySQL 5.6.2+ï¼‰       â”‚</span>
â”‚ extra_data: å¯å˜é•¿åº¦  <span class="hljs-comment">// é¢å¤–æ•°æ®ï¼ˆæœªä½¿ç”¨ï¼‰                  â”‚</span>
â”‚ column_count: å˜é•¿æ•´æ•°  <span class="hljs-comment">// æ¶‰åŠçš„åˆ—æ•°é‡                      â”‚</span>
â”‚ columns_used_bitmap1: å¯å˜é•¿åº¦  <span class="hljs-comment">// åˆ—ä½¿ç”¨ä½å›¾ï¼ˆ1=æ¶‰åŠè¯¥åˆ—ï¼‰  â”‚</span>
â”‚ rows_data: å¯å˜é•¿åº¦  <span class="hljs-comment">// è¡Œæ•°æ®é›†åˆï¼ˆå¤šæ¡è¡Œè®°å½•ï¼‰              â”‚</span>
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ checksum: <span class="hljs-number">4</span>å­—èŠ‚  <span class="hljs-comment">// æ ¡éªŒå’Œï¼ˆå¯é€‰ï¼‰                            â”‚</span>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>è¡Œæ•°æ®ï¼ˆrows_dataï¼‰è¯¦ç»†ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">æ¯ä¸€è¡Œæ•°æ® = <span class="hljs-literal">NULL</span>ä½å›¾ + åˆ—å€¼åºåˆ—
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ null_bitmap: (N+<span class="hljs-number">7</span>)/<span class="hljs-number">8</span>å­—èŠ‚  <span class="hljs-comment">// Nä¸ºåˆ—æ•°ï¼Œ1=è¯¥åˆ—å€¼ä¸ºNULLï¼Œ0=æœ‰å€¼ â”‚</span>
â”‚ column_values: å¯å˜é•¿åº¦  <span class="hljs-comment">// åˆ—å€¼åºåˆ—ï¼ˆæŒ‰åˆ—ç±»å‹ç¼–ç ï¼‰          â”‚</span>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p>å¸¸è§åˆ—ç±»å‹ç¼–ç è§„åˆ™ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š</p>






























<table><thead><tr><th><strong>MySQLç±»å‹</strong></th><th><strong>å­˜å‚¨å­—èŠ‚</strong></th><th><strong>ç¼–ç è¯´æ˜</strong></th></tr></thead><tbody><tr><td>TINYINT</td><td>1å­—èŠ‚</td><td>åŒºåˆ†æœ‰ç¬¦å·/æ— ç¬¦å·</td></tr><tr><td>INT</td><td>4å­—èŠ‚</td><td>å°ç«¯å­—èŠ‚åºï¼ˆlittle-endianï¼‰</td></tr><tr><td>VARCHAR(n)</td><td>1/2å­—èŠ‚+æ•°æ®</td><td>å‰ç¼€å­˜å‚¨é•¿åº¦ï¼Œnâ‰¤255ç”¨1å­—èŠ‚ï¼Œå¦åˆ™ç”¨2å­—èŠ‚</td></tr><tr><td>DATETIME</td><td>5å­—èŠ‚</td><td>å‹ç¼©æ ¼å¼ï¼ˆå¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-11">5. Update_rows_event_v2ï¼ˆæ›´æ–°è¡Œäº‹ä»¶ï¼‰</h5>
<p>è®°å½•UPDATEæ“ä½œçš„è¡Œæ•°æ®å˜æ›´ï¼Œä¸Write_rows_event_v2ç»“æ„ç±»ä¼¼ï¼Œå·®å¼‚åœ¨äºåŒ…å«â€œæ›´æ–°å‰â€å’Œâ€œæ›´æ–°åâ€ä¸¤ç»„è¡Œæ•°æ®ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// æ ¸å¿ƒå·®å¼‚å­—æ®µï¼ˆå…¶ä½™åŒWrite_rows_event_v2ï¼‰</span>
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ columns_used_bitmap1: å¯å˜é•¿åº¦  <span class="hljs-comment">// æ›´æ–°å‰åˆ—ä½¿ç”¨ä½å›¾          â”‚</span>
â”‚ columns_used_bitmap2: å¯å˜é•¿åº¦  <span class="hljs-comment">// æ›´æ–°ååˆ—ä½¿ç”¨ä½å›¾          â”‚</span>
â”‚ rows_data: å¯å˜é•¿åº¦  <span class="hljs-comment">// æ¯è¡ŒåŒ…å«ã€æ›´æ–°å‰è¡Œæ•°æ®ã€‘+ã€æ›´æ–°åè¡Œæ•°æ®ã€‘â”‚</span>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h5 data-id="heading-12">6. Xid_eventï¼ˆäº‹åŠ¡æäº¤äº‹ä»¶ï¼‰</h5>
<p>æ ‡è®°äº‹åŠ¡æäº¤ï¼Œç”¨äºä¸¤é˜¶æ®µæäº¤ï¼ˆredo logä¸binlogä¸€è‡´æ€§ï¼‰ï¼Œæ ¼å¼æç®€ï¼š</p>

























<table><thead><tr><th><strong>å­—æ®µåç§°</strong></th><th><strong>é•¿åº¦</strong></th><th><strong>å«ä¹‰è¯´æ˜</strong></th></tr></thead><tbody><tr><td>äº‹ä»¶å¤´</td><td>19å­—èŠ‚</td><td>åŒé€šç”¨äº‹ä»¶å¤´ç»“æ„</td></tr><tr><td>xid</td><td>8å­—èŠ‚</td><td>å…¨å±€äº‹åŠ¡IDï¼ˆç”¨äºäº‹åŠ¡ä¸€è‡´æ€§æ ¡éªŒï¼‰</td></tr><tr><td>checksum</td><td>4å­—èŠ‚</td><td>æ ¡éªŒå’Œï¼ˆå¯é€‰ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-13">ä¸‰ã€æ€»ç»“</h3>
<p>binlogé—ªå›æ¢å¤çš„æ ¸å¿ƒæ˜¯â€œè§£æäº‹ä»¶ã€åå‘é‡æ”¾â€ï¼Œè€Œç†è§£binlogäº‹ä»¶æ ¼å¼æ˜¯ç²¾å‡†æ¢å¤æ•°æ®çš„åŸºç¡€â€”â€”å°¤å…¶æ˜¯ROWæ ¼å¼ä¸‹çš„Table_map_eventå’Œè¡Œäº‹ä»¶ï¼Œç›´æ¥å†³å®šäº†èƒ½å¦æ­£ç¡®è§£ç è¡Œæ•°æ®ã€ç”Ÿæˆåå‘SQLã€‚ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå»ºè®®ä¼˜å…ˆé…ç½®ROWæ ¼å¼binlogï¼Œå¼€å¯GTIDï¼ŒåŒæ—¶åšå¥½binlogå¤‡ä»½ä¸ç›‘æ§ï¼Œæ‰èƒ½åœ¨è¯¯æ“ä½œå‘ç”Ÿæ—¶å¿«é€Ÿã€å®‰å…¨åœ°æ¢å¤æ•°æ®ã€‚</p>
<p>æŒæ¡æœ¬æ–‡æ¢³ç†çš„äº‹ä»¶ç±»å‹ä¸æ ¼å¼è§„èŒƒï¼Œä¸ä»…èƒ½åº”å¯¹æ—¥å¸¸æ•°æ®æ¢å¤åœºæ™¯ï¼Œä¹Ÿèƒ½ä¸ºæ·±å…¥ç†è§£MySQLä¸»ä»å¤åˆ¶ã€äº‹åŠ¡ä¸€è‡´æ€§ç­‰æ ¸å¿ƒæœºåˆ¶æ‰“ä¸‹åŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯å·²æ­»ï¼Ÿæˆ‘ç”¨ Trae + Gemini é›¶ä»£ç æ‰‹æ“ 3D å¡”ç½—ç‰Œï¼Œæ‰¾åˆ°äº†æ–°å‡ºè·¯]]></title>    <link>https://juejin.cn/post/7588124225702363176</link>    <guid>https://juejin.cn/post/7588124225702363176</guid>    <pubDate>2025-12-28T07:11:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588124225702363176" data-draft-id="7588095884070469632" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯å·²æ­»ï¼Ÿæˆ‘ç”¨ Trae + Gemini é›¶ä»£ç æ‰‹æ“ 3D å¡”ç½—ç‰Œï¼Œæ‰¾åˆ°äº†æ–°å‡ºè·¯"/> <meta itemprop="keywords" content="å‰ç«¯,AIGC,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-28T07:11:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŠ‹åœ†ai"/> <meta itemprop="url" content="https://juejin.cn/user/1451828494217415"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯å·²æ­»ï¼Ÿæˆ‘ç”¨ Trae + Gemini é›¶ä»£ç æ‰‹æ“ 3D å¡”ç½—ç‰Œï¼Œæ‰¾åˆ°äº†æ–°å‡ºè·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1451828494217415/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŠ‹åœ†ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T07:11:42.000Z" title="Sun Dec 28 2025 07:11:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ”® å…¨æµç¨‹ AI æ‰‹æ“ï¼šæˆ‘åªåŠ¨äº†åŠ¨å˜´ï¼ŒAI å°±å¸®æˆ‘å¤æ´»äº†å¤è€çš„å¡”ç½—ç‰Œ</h2>
<blockquote>
<p><strong>å‰è¨€</strong></p>
<p>è¿˜è®°å¾—æˆ‘ 3 ä¸ªæœˆå‰åˆ†äº«çš„é‚£ç¯‡ã€Šç”¨ AI å†™å…«å­—ç®—å‘½ UIã€‹å—ï¼Ÿ</p>
<p>é‚£æ—¶å€™ï¼ŒAI è™½ç„¶èƒ½å†™å‡ºåƒæ ·çš„ç•Œé¢ï¼Œä½†æ›´å¤šæ—¶å€™è¿˜æ˜¯ç–¯ç‹‚çš„è°ƒè¯•ï¼Œå¾ˆå¤šå¤æ‚çš„åŠ¨ç”»é€»è¾‘å’Œæ ·å¼ç»†èŠ‚ï¼Œè¿˜å¾—æˆ‘è‡ªå·±ä¸Šæ‰‹å¾®è°ƒã€‚</p>
<p><strong>çŸ­çŸ­ 90 å¤©è¿‡å»ï¼Œæˆ‘è¢« AI è¿›åŒ–é€Ÿåº¦éœ‡æ’¼äº†ã€‚</strong></p>
<p>è¿™ä¸€æ¬¡ï¼Œæˆ‘å†³å®šæŒ‘æˆ˜ä¸€ä¸ªåœ°ç‹±çº§éš¾åº¦ï¼š<strong>å®Œå…¨ä¸å†™ä¸€è¡Œæ ¸å¿ƒä»£ç ï¼ŒæŒ‡æŒ¥ AI å¼€å‘ä¸€æ¬¾é«˜é¢œå€¼çš„ 3D å¡”ç½—ç‰Œåº”ç”¨ã€‚</strong></p>
<p>ç»“æœï¼Ÿ<strong>Lumina Tarot</strong> è¯ç”Ÿäº†ã€‚å®ƒä¸ä»…æœ‰ä¸æ»‘çš„ 3D äº¤äº’ï¼Œè¿˜èƒ½åƒçœŸäººå åœå¸ˆä¸€æ ·â€œè¯»å¿ƒâ€ã€‚ä»Šå¤©å°±æ¥å¤ç›˜ä¸€ä¸‹ï¼Œåœ¨è¿™ 3 ä¸ªæœˆé‡Œ AI ç¼–ç¨‹åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆè´¨å˜ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ğŸ˜² æ•ˆæœå±•ç¤ºï¼šè¿™çœŸçš„æ˜¯ AI å†™çš„ï¼Ÿ</h3>
<p>å…ˆçœ‹æˆå“ã€‚å½“æˆ‘æŠŠè¿™äº›éœ€æ±‚æ‰”ç»™ AI æ—¶ï¼Œæˆ‘å…¶å®æ²¡æŠ±å¤ªå¤§å¸Œæœ›ï¼Œä½†å®ƒäº¤å‡ºçš„ç­”å·è®©æˆ‘è¿™ä¸ª AI åšä¸»éƒ½æƒŠäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26e8f125bd5940ca968d61fd1690ec9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767510702&amp;x-signature=nAof0nke8RbyCQRr2n3%2BAW2KiWA%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p><em>å›¾æ³¨ï¼šå›¾ç‰‡æ„Ÿè§‰ä¸åˆ°è¿™ç§äº¤äº’æ„Ÿï¼ŒçœŸçš„å¾ˆç¾ï¼Œå¤§å®¶å¯ä»¥å»è‡ªå·±è¯•è¯•</em></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d91239276ad4847a6115b371bdc141b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767510702&amp;x-signature=lLgFo5qQezXsEMl3WU7InhNKMLE%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p><em>å›¾æ³¨ï¼šè¿™ä¸ªæ’ç‰ˆå’Œå®¡ç¾æˆ‘åªèƒ½è¯´æˆ‘çœŸçš„ç»äº†</em></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7dfccae35254e9cb5913c6ac628fb68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767510702&amp;x-signature=L6GVZmTVXiXJWa3VYfHOR9J24Jo%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p><em>å›¾æ³¨ï¼šæ¯ä¸ªåœ°æ–¹éƒ½æœ‰å¾ˆå¥½çš„äº¤äº’ï¼Œåœ¨å¡ç‰Œä¸Šæœ‰å€¾æ–œçš„åŠ¨ç”»å’Œé‡‘ç²‰ï¼Œç„¶ååé¢çš„èƒŒæ™¯ä¹Ÿæ˜¯æœ‰äº¤äº’çš„</em></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02b317af40354062a0ba5981675b51c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767510702&amp;x-signature=HjLbwuR5pJY%2F%2FYIS26ayBkDTD30%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-2">ğŸ¤– è¿‡ç¨‹æ­ç§˜ï¼šæˆ‘è´Ÿè´£æƒ³è±¡ï¼ŒAI è´Ÿè´£å®ç°</h3>
<p>åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘çš„è§’è‰²ä»â€œç¨‹åºå‘˜â€å˜æˆäº†â€œæŒ‡æŒ¥å®˜â€ã€‚æˆ‘ä¸å†çº ç»“ <code>div</code> æ€ä¹ˆå±…ä¸­ï¼Œè€Œæ˜¯ä¸“æ³¨äº<strong>å®¡ç¾</strong>å’Œ<strong>é€»è¾‘</strong>ã€‚</p>
<h4 data-id="heading-3">1ï¸âƒ£ æŒ‘æˆ˜ AI çš„å®¡ç¾ä¸Šé™ï¼šçº¯ä»£ç ç»˜åˆ¶ SVG ç‰ŒèƒŒ</h4>
<p>æˆ‘è·Ÿ AI è¯´ï¼š</p>
<blockquote>
<p><em>"æˆ‘ä¸è¦ç½‘ä¸Šçš„ç´ æå›¾ï¼Œæˆ‘è¦ä½ ç”¨ SVG ä»£ç ç”»ä¸€ä¸ªâ€˜æš—é»‘å¤©ä½“â€™é£æ ¼çš„ç‰ŒèƒŒï¼Œè¦æœ‰é‡‘è‰²çº¿æ¡å’Œç¥ç§˜ç¬¦å·ã€‚"</em></p>
</blockquote>
<p>AI æ€è€ƒäº† 5 ç§’é’Ÿï¼Œç„¶ååå‡ºäº†å‡ ç™¾è¡Œ SVG ä»£ç ã€‚ç»“æœå°±æ˜¯ä½ ä»¬çœ‹åˆ°çš„è¿™ä¸ªâ€”â€”ç»†èŠ‚æ‹‰æ»¡ï¼Œæ”¾å¤§ 10 å€ä¹Ÿä¸å¤±çœŸã€‚
<strong>ä»¥å‰è®¾è®¡å¸ˆè¦ç”»åŠå¤©çš„å›¾ï¼ŒAI å‡ ç§’é’Ÿå°±â€œç®—â€å‡ºæ¥äº†ã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/736c698c0a184e4b947cd69103c9375d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767510702&amp;x-signature=F%2FH2yyQjL3U%2Fvw1aeLHLVc4l9wc%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p><em>å›¾æ³¨ï¼šè¿™å¤æ‚çš„å‡ ä½•çº¹ç†ï¼Œç«Ÿç„¶å…¨æ˜¯ AI ä¸€è¡Œè¡Œä»£ç æ•²å‡ºæ¥çš„ã€‚</em></p>
</blockquote>
<h4 data-id="heading-4">2ï¸âƒ£ æŒ‘æˆ˜ AI çš„é€»è¾‘èƒ½åŠ›ï¼š3D ç¿»ç‰ŒåŠ¨ç”»</h4>
<p>æˆ‘ä¹Ÿä¸æ‡‚ä»€ä¹ˆ CSS 3D å˜æ¢çŸ©é˜µã€‚æˆ‘åªæ˜¯å‘Šè¯‰ AIï¼š</p>
<blockquote>
<p><em>"æˆ‘å¸Œæœ›å¡ç‰Œèƒ½åƒçœŸå®ç‰©ä½“ä¸€æ ·ï¼Œé¼ æ ‡æ»‘è¿‡è¦æœ‰å€¾æ–œæ„Ÿï¼Œç¿»å¼€æ—¶è¦æœ‰é‡åŠ›æ„Ÿã€‚"</em></p>
</blockquote>
<p>AI è‡ªåŠ¨å¸®æˆ‘å†™å¥½äº† <code>perspective</code>ã€<code>rotate3d</code> ç”šè‡³è¿˜è´´å¿ƒåœ°åŠ ä¸Šäº†åŠ¨æ€å…‰å½±é®ç½©ã€‚
<strong>æˆ‘åªè´Ÿè´£æéœ€æ±‚ï¼Œéš¾ç‚¹å…¨äº¤ç»™å®ƒã€‚</strong>
ä¸å‡ºä¸€ä¼šå°±å®Œç¾çš„å®Œæˆï¼Œbugå±…ç„¶éƒ½æ²¡ä»€ä¹ˆ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09415fd8e08745b5ada03df19bdd2d9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767510702&amp;x-signature=obLwo2duhg%2Buiq0b%2BmdU%2BGeph%2Fo%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-5">3ï¸âƒ£ å…¨æ ˆé—­ç¯ï¼šSupabase + Vercel ä¸€é”®ä¸Šäº‘</h4>
<p>ä¸ä»…æ˜¯å‰ç«¯ï¼ŒAI æŠŠåç«¯çš„æ´»å„¿ä¹ŸåŒ…åœ†äº†ã€‚</p>
<ul>
<li><strong>æ•°æ®åº“</strong>ï¼šå®ƒå¸®æˆ‘è®¾è®¡äº† <strong>Supabase</strong> çš„è¡¨ç»“æ„å’Œ Row Level Security ç­–ç•¥ã€‚</li>
<li><strong>éƒ¨ç½²</strong>ï¼šä»£ç æ¨é€åˆ° GitHubï¼Œ<strong>Vercel</strong> è‡ªåŠ¨æ„å»ºã€‚</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8d01e0dc3524f3ab6832246676a7035~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767510702&amp;x-signature=OAEh2pcbv%2FFZ8VN0J8TbCDwQ%2FRQ%3D" alt="image.png" loading="lazy"/>
<strong>ä»¥å‰éœ€è¦ä¸€ä¸ªå›¢é˜Ÿå¹²çš„äº‹å„¿ï¼Œç°åœ¨æˆ‘ + AI + Serverless å°±æå®šäº†ã€‚</strong></p>
<hr/>
<h3 data-id="heading-6">ğŸŒŒ AI çš„ç¾å­¦ï¼šå¾®äº¤äº’ä¸­çš„â€œå‘¼å¸æ„Ÿâ€</h3>
<p>å¾ˆå¤šäººè§‰å¾— AI åªèƒ½å†™é€»è¾‘ï¼Œä¸æ‡‚å®¡ç¾ã€‚<strong>å¤§é”™ç‰¹é”™ã€‚</strong>
åœ¨ Lumina Tarot ä¸­ï¼Œæˆ‘ç‰¹æ„æµ‹è¯•äº† AI å¯¹â€œæ°›å›´æ„Ÿâ€çš„ç†è§£ã€‚</p>
<p>æˆ‘æ²¡æœ‰ç»™å‡ºå…·ä½“çš„å‚æ•°ï¼Œåªæ˜¯ç”¨è‡ªç„¶è¯­è¨€æè¿°æ„Ÿè§‰ï¼š</p>
<ul>
<li><em>"è®©å…‰æ•ˆåƒå‘¼å¸ä¸€æ ·è‡ªç„¶"</em></li>
<li><em>"è®©ç¿»ç‰Œçš„ç¬é—´æœ‰ä¸€ç§æ²‰ç”¸ç”¸çš„ä»ªå¼æ„Ÿ"</em></li>
</ul>
<p>ç»“æœï¼ŒAI ä¸ä»…å¸®æˆ‘å†™äº† <code>transition</code>ï¼Œè¿˜è‡ªå·±åŠ ä¸Šäº† <code>cubic-bezier</code> è´å¡å°”æ›²çº¿æ¥æ¨¡æ‹Ÿç‰©ç†æƒ¯æ€§ã€‚ç”šè‡³åœ¨é¼ æ ‡ç§»åŠ¨æ—¶ï¼Œå®ƒè‡ªåŠ¨è¡¥å…¨äº†<strong>è§†å·®æ»šåŠ¨ (Parallax Effect)</strong> çš„é€»è¾‘ã€‚
<strong>è¿™ç§å¯¹â€œç¾â€çš„é€šæ„Ÿï¼Œæ‰æ˜¯ AI æœ€è®©æˆ‘ç»†æ€ææçš„åœ°æ–¹ã€‚</strong></p>
<hr/>
<h3 data-id="heading-7">ğŸ˜ˆ é­”é¬¼ç»†èŠ‚ï¼šé‚£äº› AI æ›¿æˆ‘å¡«çš„å‘</h3>
<p>é™¤äº†å¤§æ¡†æ¶ï¼ŒçœŸæ­£è®©æˆ‘è§‰å¾—â€œAI èƒ½å¤„â€çš„ï¼Œæ˜¯å®ƒå¯¹ç»†èŠ‚çš„è¡¥å…¨ã€‚è¿™äº›ç‚¹æˆ‘ç”šè‡³éƒ½æ²¡æï¼Œæ˜¯å®ƒè‡ªå·±æƒ³åˆ°çš„ï¼š</p>
<ol>
<li><strong>ç§»åŠ¨ç«¯é€‚é…</strong>ï¼šæˆ‘åªæµ‹äº† PC ç«¯ï¼ŒAI å´è‡ªåŠ¨ç»™æ‰‹æœºç«¯åŠ ä¸Šäº†è§¦æ‘¸æ»‘åŠ¨äº‹ä»¶ï¼Œé˜²æ­¢åœ¨æ‰‹æœºä¸Šæ— æ³•ç¿»ç‰Œã€‚</li>
<li><strong>å›¾ç‰‡é¢„åŠ è½½</strong>ï¼šä¸ºäº†é˜²æ­¢ç¿»å¼€ç‰Œæ—¶å›¾ç‰‡è¿˜åœ¨åŠ è½½ï¼ˆç™½å±ï¼‰ï¼ŒAI è‡ªåŠ¨æ’å…¥äº† <code>new Image()</code> é¢„åŠ è½½é€»è¾‘ã€‚</li>
<li><strong>é˜²è¯¯è§¦</strong>ï¼šåœ¨æ´—ç‰ŒåŠ¨ç”»ç»“æŸå‰ï¼Œå®ƒè´´å¿ƒåœ°ç¦ç”¨äº†ç‚¹å‡»äº‹ä»¶ï¼Œé˜²æ­¢ç”¨æˆ·ä¹±ç‚¹å¯¼è‡´åŠ¨ç”»ç©¿æ¨¡ã€‚</li>
<li><strong>æ— éšœç¢æ”¯æŒ</strong>ï¼šæ‰€æœ‰çš„ SVG å’ŒæŒ‰é’®ï¼Œå®ƒéƒ½é¡ºæ‰‹åŠ ä¸Šäº† <code>aria-label</code>ã€‚</li>
</ol>
<p><strong>å®ƒæ¯”æˆ‘æ›´åƒä¸€ä¸ªæœ‰ç»éªŒçš„é«˜çº§å‰ç«¯å·¥ç¨‹å¸ˆã€‚</strong></p>
<hr/>
<h3 data-id="heading-8">ğŸ› ï¸ å·¥å…·å¤ç›˜ï¼šä¸ºä»€ä¹ˆæˆ‘é€‰æ‹©äº† Traeï¼Ÿ</h3>
<p>è¿™æ¬¡å¼€å‘æˆ‘å…¨ç¨‹ä½¿ç”¨çš„æ˜¯ <strong>Trae</strong> ç¼–è¾‘å™¨ã€‚è¯´å®è¯ï¼Œä½œä¸ºé˜…â€œè½¯â€æ— æ•°çš„ AI åšä¸»ï¼ŒTrae çš„è¿›æ­¥çœŸçš„è®©æˆ‘æƒŠå–œã€‚</p>
<p>ä»¥å‰æˆ‘å¯èƒ½ä¼šç”¨ <strong>Claude Code</strong>ï¼Œä½†æœ€è¿‘å®ƒ<strong>è¶Šæ¥è¶Šè´µ</strong>ï¼Œè€Œä¸”åœ¨æŸäº›ç«‹åœºé—®é¢˜ä¸Šï¼ˆä½ æ‡‚çš„ï¼‰è®©äººæ— æ³•æ¥å—ã€‚ä½œä¸ºä¸€ä¸ªä¸­å›½å¼€å‘è€…ï¼Œæˆ‘æ›´æ„¿æ„é€‰æ‹©å°Šé‡æˆ‘ä»¬çš„å·¥å…·ã€‚</p>
<p>è€Œ <strong>Trae</strong> åœ¨æ¥å…¥äº†æœ€æ–°çš„ <strong>Gemini 3</strong> æ¨¡å‹åï¼Œèƒ½åŠ›ç›´æ¥èµ·é£ã€‚ç‰¹åˆ«æ˜¯å®ƒå¯¹ <strong>MCP (Model Context Protocol)</strong> çš„æ·±åº¦é›†æˆï¼Œè®© AI å¯¹é¡¹ç›®ä¸Šä¸‹æ–‡çš„ç†è§£è¾¾åˆ°äº†ä¸€ä¸ªæ–°çš„é«˜åº¦ã€‚
åœ¨å†™è¿™ä¸ªå¡”ç½—ç‰Œé¡¹ç›®æ—¶ï¼ŒTrae çš„å¼€å‘æ•ˆç‡å®Œå…¨ä¸æ¯” Claude Code å·®ï¼Œç”šè‡³åœ¨å¤„ç†å¤æ‚çš„ä¸­æ–‡é€»è¾‘æ—¶æ›´èƒœä¸€ç­¹ã€‚</p>
<p><strong>ğŸ”¥ ä¾¿å®œã€å¼ºå¤§ã€è¿˜å°Šé‡ç”¨æˆ·ï¼Œè¿˜è¦ä»€ä¹ˆè‡ªè¡Œè½¦ï¼Ÿ</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04e44a9740004b3f8d63f089b49c3190~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IqL5ZyGYWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767510702&amp;x-signature=RggV%2B3V5N7PpbWPwo%2F%2FkXsc%2F3Xo%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p><em>å›¾æ³¨ï¼šè¿™å°±æ˜¯æˆ‘çš„â€œå¼€å‘ç°åœºâ€ï¼Œå…¨æ˜¯è‡ªç„¶è¯­è¨€å¯¹è¯ã€‚</em></p>
</blockquote>
<hr/>
<h3 data-id="heading-9">ğŸ’­ æœ€åçš„æ€è€ƒï¼šåœ¨ç®—æ³•çš„æµªæ½®é‡Œï¼Œå¯»æ‰¾äººç±»çš„åæ ‡</h3>
<p>ä¸‰ä¸ªæœˆå‰ï¼Œå½“æˆ‘è¿˜åœ¨ä¸ºé‚£ä¸ªå…«å­—ç®—å‘½ UI é€è¡Œè°ƒè¯• CSS æ—¶ï¼Œæˆ‘å†…å¿ƒå…¶å®å……æ»¡ç„¦è™‘ï¼š<strong>â€œå¦‚æœ AI ç¼–ç¨‹è¿›åŒ–å¾—è¿™ä¹ˆå¿«ï¼Œæˆ‘ä»¬è¿™äº›ç¨‹åºå‘˜å­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿâ€</strong></p>
<p>ä»Šå¤©ï¼Œçœ‹ç€ Lumina Tarot åœ¨å±å¹•ä¸Šæµè½¬çš„å…‰å½±ï¼Œæˆ‘æ‰¾åˆ°äº†ç­”æ¡ˆã€‚</p>
<p>AI ç¡®å®æ‹¿èµ°äº†â€œæ¬ç –â€çš„ç“¦åˆ€ï¼Œä½†å®ƒäº¤è¿˜ç»™æˆ‘ä»¬çš„ï¼Œæ˜¯â€œè®¾è®¡â€çš„æƒæ–ã€‚
å®ƒè®©æˆ‘ä»¬ä¸å†å—å›°äº <code>Syntax Error</code> å’Œç¹ççš„é…ç½®ï¼Œä»è€Œèƒ½è…¾å‡ºæ‰‹æ¥ï¼Œå»æ€è€ƒé‚£äº›æ›´æœ¬è´¨çš„é—®é¢˜ï¼š
<strong>â€œä»€ä¹ˆæ˜¯å¥½çš„ä½“éªŒï¼Ÿâ€</strong>
<strong>â€œå¦‚ä½•ç”¨äº¤äº’ä¼ é€’æƒ…æ„Ÿï¼Ÿâ€</strong>
<strong>â€œå¦‚ä½•åœ¨è¿™ä¸ªç„¦è™‘çš„æ—¶ä»£ï¼Œç»™ç”¨æˆ·ä¸€ç‚¹ç‚¹æ…°è—‰ï¼Ÿâ€</strong></p>
<p><strong>æŠ€æœ¯é—¨æ§›çš„æ¶ˆå¤±ï¼Œå¹¶ä¸æ„å‘³ç€åˆ›é€ åŠ›çš„è´¬å€¼ï¼Œåè€Œæ˜¯åˆ›é€ åŠ›çš„è§£æ”¾ã€‚</strong>
å½“ä»£ç ä¸å†æ˜¯å£å’ï¼Œ<strong>å®¡ç¾ã€å…±æƒ…èƒ½åŠ›ã€å¯¹äººæ€§çš„æ´å¯Ÿ</strong>ï¼Œå°†æˆä¸ºæˆ‘ä»¬åœ¨è¿™ä¸ª AI æ—¶ä»£å”¯ä¸€çš„ã€ä¹Ÿæ˜¯æœ€åšå›ºçš„æŠ¤åŸæ²³ã€‚</p>
<p>Lumina Tarot çš„ä»£ç ä¹Ÿè®¸ 99% éƒ½æ˜¯ AI ç”Ÿæˆçš„ï¼Œä½†é‚£ä¸ªå†³å®šâ€œè¦ç”¨æ˜Ÿç©ºèƒŒæ™¯æ¥å®‰æŠšäººå¿ƒâ€çš„å¿µå¤´ï¼Œå±äºæˆ‘ï¼Œå±äºäººç±»ã€‚</p>
<p><strong>åˆ«è®©ä»£ç é™åˆ¶äº†ä½ çš„æƒ³è±¡åŠ›ï¼Œæ›´åˆ«è®©å¯¹ AI çš„ææƒ§ç¦é”¢äº†ä½ çš„å¯èƒ½æ€§ã€‚</strong>
å»åˆ›é€ å§ï¼Œå°±åƒä»æœªå—è¿‡ä¼¤ä¸€æ ·ã€‚ ğŸŒŸ</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Œâœï¸JSåŸå­ç¬”è®° ã€æ·±å…¥ç†è§£JSæ•°æ®ç±»å‹æ£€æµ‹çš„4ç§æ ¸å¿ƒæ–¹å¼]]></title>    <link>https://juejin.cn/post/7588104741611503626</link>    <guid>https://juejin.cn/post/7588104741611503626</guid>    <pubDate>2025-12-28T08:32:44.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588104741611503626" data-draft-id="7588104741611454474" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Œâœï¸JSåŸå­ç¬”è®° ã€æ·±å…¥ç†è§£JSæ•°æ®ç±»å‹æ£€æµ‹çš„4ç§æ ¸å¿ƒæ–¹å¼"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-28T08:32:44.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Maxkim"/> <meta itemprop="url" content="https://juejin.cn/user/2768993424260451"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Œâœï¸JSåŸå­ç¬”è®° ã€æ·±å…¥ç†è§£JSæ•°æ®ç±»å‹æ£€æµ‹çš„4ç§æ ¸å¿ƒæ–¹å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2768993424260451/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Maxkim
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T08:32:44.000Z" title="Sun Dec 28 2025 08:32:44 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨JavaScriptå¼€å‘ä¸­ï¼Œæ•°æ®ç±»å‹æ£€æµ‹æ˜¯åŸºç¡€ä¸”é«˜é¢‘çš„éœ€æ±‚ï¼Œå‡†ç¡®åˆ¤æ–­æ•°æ®ç±»å‹èƒ½å¸®åŠ©æˆ‘ä»¬è§„é¿è¯¸å¤šæ½œåœ¨bugã€‚Maxkimåœ¨è¿™é‡Œä¸ºå¤§å®¶æ•´ç†äº†4ç§æ ¸å¿ƒçš„æ•°æ®ç±»å‹æ£€æµ‹æ–¹å¼ï¼Œç»“åˆå…¶åŸç†ã€ç‰¹ç‚¹åŠé€‚ç”¨åœºæ™¯å±•å¼€è§£æã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€typeofï¼šæœ€åŸºç¡€çš„æ£€æµ‹æ–¹å¼</h2>
<p>typeofæ˜¯JSä¸­æœ€å¸¸ç”¨çš„åŸºç¡€æ•°æ®ç±»å‹æ£€æµ‹è¿ç®—ç¬¦ï¼Œä½¿ç”¨è¯­æ³•ç®€å•ï¼š<code>typeof è¦æ£€æµ‹çš„å€¼</code>ï¼Œå…¶è¿”å›å€¼æ˜¯ä¸€ä¸ª<strong>è¡¨ç¤ºæ•°æ®ç±»å‹çš„å­—ç¬¦ä¸²</strong>ï¼ˆå¦‚"string"ã€"number"ã€"boolean"ç­‰ï¼‰ã€‚</p>
<h3 data-id="heading-1">æ ¸å¿ƒç‰¹ç‚¹ï¼š</h3>
<h4 data-id="heading-2">1. ä¼˜åŠ¿</h4>
<p>å¯¹åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆstringã€numberã€booleanã€undefinedã€symbolã€bigintï¼‰çš„æ£€æµ‹ç»“æœå‡†ç¡®å¯é ï¼›å¯¹functionç±»å‹ä¹Ÿèƒ½æ­£ç¡®è¯†åˆ«ï¼Œè¿”å›"function"ã€‚</p>
<h4 data-id="heading-3">2. å±€é™æ€§</h4>
<p>å­˜åœ¨æ˜æ˜¾çš„â€œç›²ç‚¹â€â€”â€”<strong>æ•°ç»„ï¼ˆArrayï¼‰ã€æ™®é€šå¯¹è±¡ï¼ˆObjectï¼‰ã€nulléƒ½ä¼šè¢«åˆ¤æ–­ä¸º"object"</strong>ï¼Œæ— æ³•åŒºåˆ†è¿™ä¸‰è€…ã€‚</p>
<h4 data-id="heading-4">ç¤ºä¾‹</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1adbf2a083d241558be0792eaca691f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWF4a2lt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767515563&amp;x-signature=mKZeVWWfU%2F1ELL%2B40qnI1nw%2FCXE%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">äºŒã€instanceofï¼šåŸºäºåŸå‹é“¾çš„å¼•ç”¨ç±»å‹æ£€æµ‹</h2>
<p>instanceof ç”¨äºæ£€æµ‹æŸä¸ªå¯¹è±¡æ˜¯å¦ä¸ºæŒ‡å®šæ„é€ å‡½æ•°çš„å®ä¾‹ï¼Œå…¶æ ¸å¿ƒåŸç†æ˜¯ï¼šåˆ¤æ–­è¯¥æ„é€ å‡½æ•°çš„<strong>prototypeå±æ€§</strong>æ˜¯å¦å­˜åœ¨äº<strong>è¢«æ£€æµ‹å¯¹è±¡çš„åŸå‹é“¾ä¸Š</strong>ã€‚ä½¿ç”¨è¯­æ³•ï¼š<code>å¯¹è±¡ instanceof æ„é€ å‡½æ•°</code>ï¼Œè¿”å›å€¼ä¸ºå¸ƒå°”å€¼ï¼ˆtrue/falseï¼‰ã€‚</p>
<h3 data-id="heading-6">æ ¸å¿ƒç‰¹ç‚¹</h3>
<h4 data-id="heading-7">1. ä¼˜åŠ¿</h4>
<p>èƒ½å‡†ç¡®åŒºåˆ†å¼•ç”¨æ•°æ®ç±»å‹ï¼Œæ¯”å¦‚å¯ä»¥æ˜ç¡®åˆ¤æ–­æ•°ç»„ï¼ˆArrayï¼‰ã€å¯¹è±¡ï¼ˆObjectï¼‰ã€å‡½æ•°ï¼ˆFunctionï¼‰ç­‰<strong>å¼•ç”¨ç±»å‹</strong>çš„å…·ä½“ç±»å‹ã€‚</p>
<h4 data-id="heading-8">2. å±€é™æ€§</h4>
<ul>
<li>æ— æ³•æ£€æµ‹åŸºæœ¬æ•°æ®ç±»å‹ï¼šå› ä¸ºinstanceofæ£€æµ‹çš„æ˜¯åŸå‹é“¾å…³ç³»ï¼Œè€ŒåŸºæœ¬æ•°æ®ç±»å‹æ˜¯å€¼ç±»å‹ï¼Œå¹¶éå¯¹è±¡ï¼Œä¸å­˜åœ¨åŸå‹é“¾ã€‚ä¾‹å¦‚ <code>"hello" instanceof String</code> ä¼šè¿”å›falseï¼ˆé™¤éæ˜¯é€šè¿‡new String("hello")åˆ›å»ºçš„åŒ…è£…å¯¹è±¡ï¼‰ã€‚</li>
<li>å—åŸå‹é“¾ä¿®æ”¹å½±å“ï¼šå¦‚æœæ‰‹åŠ¨ä¿®æ”¹äº†å¯¹è±¡çš„åŸå‹ï¼Œå¯èƒ½å¯¼è‡´instanceofçš„æ£€æµ‹ç»“æœä¸å‡†ç¡®ã€‚</li>
</ul>
<h4 data-id="heading-9">ç¤ºä¾‹</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/097d01e987d340a99462f39d28e2744d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWF4a2lt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767515563&amp;x-signature=dtfC8a9p5kE8DuYHG3MfCaAsIaw%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-10">ä¸‰ã€constructorï¼šé€šè¿‡æ„é€ å‡½æ•°åˆ¤æ–­ç±»å‹</h2>
<p>æ¯ä¸ªå¯¹è±¡å®ä¾‹éƒ½æœ‰ä¸€ä¸ªconstructorå±æ€§ï¼ˆç»§æ‰¿è‡ªåŸå‹ï¼‰ï¼Œè¯¥å±æ€§æœ‰ä¸¤ä¸ªæ ¸å¿ƒä½œç”¨ï¼šä¸€æ˜¯æŒ‡å‘åˆ›å»ºè¯¥å®ä¾‹çš„æ„é€ å‡½æ•°ï¼›äºŒæ˜¯å€ŸåŠ©è¿™ä¸€ç‰¹æ€§å®ç°æ•°æ®ç±»å‹çš„åˆ¤æ–­ã€‚ä½¿ç”¨è¯­æ³•ï¼š<code>è¦æ£€æµ‹çš„å€¼.constructor === æ„é€ å‡½æ•°</code>ï¼Œè¿”å›å¸ƒå°”å€¼ã€‚</p>
<h3 data-id="heading-11">æ ¸å¿ƒç‰¹ç‚¹</h3>
<h4 data-id="heading-12">1. ä¼˜åŠ¿</h4>
<p>ç›¸æ¯”typeofï¼Œèƒ½å‡†ç¡®åŒºåˆ†æ•°ç»„ã€å¯¹è±¡ç­‰å¼•ç”¨ç±»å‹ï¼›ç›¸æ¯”instanceofï¼Œä¸ä»…èƒ½æ£€æµ‹å¼•ç”¨ç±»å‹ï¼Œéƒ¨åˆ†åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆé™¤undefinedã€nullå¤–ï¼‰ä¹Ÿèƒ½é€šè¿‡å…¶åŒ…è£…å¯¹è±¡çš„constructoræ£€æµ‹ã€‚</p>
<h4 data-id="heading-13">ç¤ºä¾‹</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca8e2043e1414c2ca080d062ca1a93ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWF4a2lt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767515563&amp;x-signature=QnjDDysJGMaGgCB7HndwBytp3Sw%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-14">2. å±€é™æ€§</h4>
<p>å½“æ‰‹åŠ¨ä¿®æ”¹å¯¹è±¡çš„åŸå‹æ—¶ï¼Œconstructorå±æ€§å¯èƒ½ä¼šè¢«è¦†ç›–æˆ–æ”¹å˜ï¼Œæ­¤æ—¶å°±æ— æ³•å‡†ç¡®åˆ¤æ–­æ•°æ®ç±»å‹äº†ã€‚</p>
<h4 data-id="heading-15">ç¤ºä¾‹</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/58acc2b56a294cd08199d0bbfdc5084e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWF4a2lt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767515563&amp;x-signature=20r8u%2Foi5qvrGskZD28e2qPOQDA%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-16">å››ã€Object.prototype.toString.call()ï¼šæœ€ç²¾å‡†çš„â€œä¸‡èƒ½æ£€æµ‹æ³•â€</h2>
<p>è¿™æ˜¯JSä¸­æœ€ç²¾å‡†ã€æœ€é€šç”¨çš„æ•°æ®ç±»å‹æ£€æµ‹æ–¹å¼ï¼Œæ ¸å¿ƒåŸç†æ˜¯<strong>è°ƒç”¨ObjectåŸå‹ä¸Šæœªè¢«é‡å†™çš„toStringæ–¹æ³•</strong>ï¼Œè¯¥æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªæ ¼å¼ä¸º"[object æ•°æ®ç±»å‹]"çš„å­—ç¬¦ä¸²ï¼Œä»è€Œå‡†ç¡®åˆ¤æ–­æ•°æ®ç±»å‹ã€‚ä½¿ç”¨è¯­æ³•ï¼š<code>Object.prototype.toString.call(è¦æ£€æµ‹çš„å€¼)</code>ã€‚</p>
<h3 data-id="heading-17">å…³é”®ç–‘é—®ï¼šä¸ºä»€ä¹ˆä¸ç›´æ¥ç”¨obj.toString()ï¼Ÿå…ˆææ‡‚2ä¸ªåŸºç¡€æ¦‚å¿µ</h3>
<p>å…ˆæ‹†2ä¸ªå…³é”®æ¦‚å¿µï¼Œæ‡‚äº†å°±å¥½ç†è§£äº†ï¼š</p>
<p><strong>1. ä»€ä¹ˆæ˜¯â€œé‡å†™toStringæ–¹æ³•â€ï¼Ÿ</strong> toStringæ˜¯Objectè‡ªå¸¦çš„åŸå‹æ–¹æ³•ï¼ˆå¯ä»¥ç†è§£ä¸ºObjectç»™æ‰€æœ‰åä»£å¯¹è±¡ç•™çš„ä¸€ä¸ªâ€œåŸºç¡€åŠŸèƒ½â€ï¼‰ï¼Œä½†æ•°ç»„ï¼ˆArrayï¼‰ã€å‡½æ•°ï¼ˆFunctionï¼‰è¿™äº›Objectçš„â€œåä»£â€ï¼Œéƒ½è‡ªå·±æ”¹äº†è¿™ä¸ªåŠŸèƒ½â€”â€”æ¯”å¦‚æ•°ç»„çš„toStringæ”¹æˆäº†â€œè¿”å›æ•°ç»„é‡Œçš„å…ƒç´ æ‹¼æˆçš„å­—ç¬¦ä¸²â€ï¼ˆæ¯”å¦‚[1,2].toString()ä¼šå¾—åˆ°"1,2"ï¼‰ï¼Œå‡½æ•°çš„toStringæ”¹æˆäº†â€œè¿”å›å‡½æ•°çš„ä»£ç â€ï¼Œè¿™å°±æ˜¯â€œé‡å†™â€ã€‚</p>
<p><strong>2. ä»€ä¹ˆæ˜¯thisï¼Ÿè¿™é‡Œä¸ç”¨å¤æ‚ç†è§£ï¼</strong> thisåœ¨è¿™é‡Œå°±æŒ‡â€œå½“å‰è°ƒç”¨æ–¹æ³•çš„é‚£ä¸ªå¯¹è±¡â€ã€‚æ¯”å¦‚obj.toString()ï¼Œè¿™é‡Œçš„thiså°±æ˜¯objï¼›å¦‚æœæ˜¯Object.prototype.toString()ï¼Œé»˜è®¤thisæ˜¯Object.prototypeæœ¬èº«ï¼Œä¸æ˜¯æˆ‘ä»¬è¦æ£€æµ‹çš„objã€‚</p>
<p><strong>ç°åœ¨è§£é‡Šæ ¸å¿ƒé—®é¢˜ï¼š</strong> å¦‚æœç›´æ¥å†™obj.toString()ï¼Œå› ä¸ºobjï¼ˆæ¯”å¦‚æ•°ç»„ã€å‡½æ•°ï¼‰å·²ç»é‡å†™äº†toStringï¼Œæ‰€ä»¥æ‰§è¡Œçš„æ˜¯â€œæ”¹è¿‡åçš„åŠŸèƒ½â€ï¼Œæ²¡æ³•å¾—åˆ°â€œæ•°æ®ç±»å‹â€ï¼› è€ŒObject.prototype.toString.call(è¦æ£€æµ‹çš„å€¼)ï¼Œä½œç”¨æ˜¯â€œå¼ºè¡Œè®©è¦æ£€æµ‹çš„å€¼ï¼ˆæ¯”å¦‚objï¼‰å»æ‰§è¡ŒObjectåŸå‹ä¸Šé‚£ä¸ªæ²¡è¢«æ”¹çš„toStringæ–¹æ³•â€â€”â€”callçš„ä½œç”¨å°±æ˜¯â€œæ¢thisâ€ï¼ŒæŠŠtoStringæ–¹æ³•é‡Œçš„thisæ¢æˆæˆ‘ä»¬è¦æ£€æµ‹çš„é‚£ä¸ªå€¼ï¼Œè¿™æ ·è¿™ä¸ªåŸå§‹çš„toStringæ–¹æ³•å°±èƒ½è¯†åˆ«å‡ºthisï¼ˆä¹Ÿå°±æ˜¯è¦æ£€æµ‹çš„å€¼ï¼‰çš„çœŸå®ç±»å‹ï¼Œè¿”å›â€œ[object æ•°æ®ç±»å‹]â€äº†ã€‚</p>
<p><strong>ä¸¾ä¸ªé€šä¿—ä¾‹å­ï¼š</strong> æŠŠObjectåŸå‹çš„toStringæ¯”ä½œâ€œå®˜æ–¹èº«ä»½è¯†åˆ«å™¨â€ï¼ŒåŸæœ¬åªèƒ½è¯†åˆ«è‡ªå·±äººï¼›æ•°ç»„ã€å‡½æ•°è¿™äº›â€œåä»£â€æŠŠè‡ªå·±çš„â€œèº«ä»½è¯†åˆ«å™¨â€æ”¹æˆäº†â€œå±•ç¤ºè‡ªå·±å†…å®¹çš„å·¥å…·â€ã€‚ ç›´æ¥ç”¨obj.toString()ï¼Œå°±æ˜¯è®©objç”¨è‡ªå·±æ”¹åçš„å·¥å…·ï¼Œçœ‹ä¸åˆ°èº«ä»½ï¼› ç”¨callå°±æ˜¯â€œæŠŠå®˜æ–¹è¯†åˆ«å™¨å€Ÿæ¥ï¼Œå¯¹ç€objæ‰«ä¸€ä¸‹â€ï¼Œå°±èƒ½å¾—åˆ°çœŸå®èº«ä»½äº†ã€‚</p>
<h3 data-id="heading-18">æ ¸å¿ƒç‰¹ç‚¹</h3>
<h4 data-id="heading-19">1. ä¼˜åŠ¿</h4>
<p>æ£€æµ‹ç»“æœæœ€ç²¾å‡†ï¼Œèƒ½åŒºåˆ†æ‰€æœ‰JSæ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬nullã€undefinedã€æ•°ç»„ã€å¯¹è±¡ã€å‡½æ•°ã€æ—¥æœŸç­‰ã€‚</p>
<h4 data-id="heading-20">ç¤ºä¾‹</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b76c1acf1db2476f9fe965370c781f83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWF4a2lt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767515563&amp;x-signature=1mVY14XWgF4lxRjakoE6LKohY1k%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-js" lang="js">
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-literal">null</span>) â†’ <span class="hljs-string">"[object Null]"</span>ï¼ˆæ­£ç¡®ï¼‰
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-literal">undefined</span>) â†’ <span class="hljs-string">"[object Undefined]"</span>ï¼ˆæ­£ç¡®ï¼‰
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>([]) â†’ <span class="hljs-string">"[object Array]"</span>ï¼ˆæ­£ç¡®ï¼‰
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>({}) â†’ <span class="hljs-string">"[object Object]"</span>ï¼ˆæ­£ç¡®ï¼‰
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()) â†’ <span class="hljs-string">"[object Date]"</span>ï¼ˆæ­£ç¡®ï¼‰

</code></pre>
<h4 data-id="heading-21">2. å±€é™æ€§</h4>
<p>è¯­æ³•ç›¸å¯¹ç¹çï¼Œéœ€è¦å®Œæ•´ä¹¦å†™è°ƒç”¨é“¾ï¼Œä½†è¿™ä¸€ç‚¹å¯ä»¥é€šè¿‡å°è£…å‡½æ•°è§£å†³ï¼ˆå¦‚å°è£…ä¸€ä¸ªgetTypeå‡½æ•°ï¼‰ã€‚</p>
<h2 data-id="heading-22">æ€»ç»“ï¼š4ç§æ£€æµ‹æ–¹å¼çš„é€‚ç”¨åœºæ™¯</h2>
<ul>
<li>å¿«é€Ÿæ£€æµ‹åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆæ’é™¤nullï¼‰ï¼šä½¿ç”¨typeofï¼Œç®€æ´é«˜æ•ˆã€‚</li>
<li>æ£€æµ‹å¼•ç”¨ç±»å‹æ˜¯å¦ä¸ºæŸä¸ªæ„é€ å‡½æ•°çš„å®ä¾‹ï¼šä½¿ç”¨instanceofï¼Œé€‚åˆåŸå‹é“¾ç›¸å…³çš„ç±»å‹åˆ¤æ–­ã€‚</li>
<li>ç®€å•åœºæ™¯ä¸‹çš„å¼•ç”¨ç±»å‹åŒºåˆ†ï¼šå¯ä½¿ç”¨constructorï¼Œä½†éœ€æ³¨æ„åŸå‹æ˜¯å¦è¢«ä¿®æ”¹ã€‚</li>
<li>éœ€è¦ç²¾å‡†åŒºåˆ†æ‰€æœ‰æ•°æ®ç±»å‹ï¼ˆåŒ…æ‹¬nullã€æ•°ç»„ã€ç‰¹æ®Šå¯¹è±¡ç­‰ï¼‰ï¼šä¼˜å…ˆä½¿ç”¨Object.prototype.toString.call()ï¼Œè¿™æ˜¯æœ€å¯é çš„æ–¹æ¡ˆã€‚</li>
</ul>
<p>ä»¥ä¸Šå°±æ˜¯JSæ•°æ®ç±»å‹æ£€æµ‹çš„4ç§æ ¸å¿ƒæ–¹å¼ï¼ŒæŒæ¡å®ƒä»¬çš„åŸç†ä¸å·®å¼‚ï¼Œèƒ½è®©æˆ‘ä»¬åœ¨å¼€å‘ä¸­æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©æœ€åˆé€‚çš„æ£€æµ‹æ–¹æ¡ˆï¼Œæå‡ä»£ç çš„å¥å£®æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»æ ·å¼åˆ°ç»“æ„ï¼šTailwindCss + Fragment å¦‚ä½•è®© React ä»£ç æ›´å¹²å‡€ã€æ›´é«˜æ•ˆ]]></title>    <link>https://juejin.cn/post/7588365276190654502</link>    <guid>https://juejin.cn/post/7588365276190654502</guid>    <pubDate>2025-12-28T08:34:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588365276190654502" data-draft-id="7588104741611356170" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»æ ·å¼åˆ°ç»“æ„ï¼šTailwindCss + Fragment å¦‚ä½•è®© React ä»£ç æ›´å¹²å‡€ã€æ›´é«˜æ•ˆ"/> <meta itemprop="keywords" content="React.js,CSS,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-28T08:34:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xhxxx"/> <meta itemprop="url" content="https://juejin.cn/user/3235201610941578"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»æ ·å¼åˆ°ç»“æ„ï¼šTailwindCss + Fragment å¦‚ä½•è®© React ä»£ç æ›´å¹²å‡€ã€æ›´é«˜æ•ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3235201610941578/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xhxxx
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T08:34:50.000Z" title="Sun Dec 28 2025 08:34:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸš€ é‡å¡‘ React å¼€å‘ä½“éªŒï¼šç”¨ Tailwind CSS æ‹’ç» Bad Stylesï¼Œç”¨ Fragment æ‹¥æŠ±çº¯å‡€ç»“æ„</h2>
<p>åœ¨ React é¡¹ç›®å¼€å‘ä¸­ï¼Œæœ‰ä¸¤ä¸ªçœ‹ä¼¼å¾®å°å´å½±å“æ·±è¿œçš„ç»†èŠ‚ï¼Œèƒ½æ˜¾è‘—æå‡ä»£ç è´¨é‡ä¸å¼€å‘ä½“éªŒï¼šä¸€æ˜¯ç”¨ <strong>Tailwind CSS æ›¿ä»£ä¼ ç»Ÿæ ·å¼å†™æ³•</strong>ï¼Œå½»åº•å‘Šåˆ«â€œBad Stylesâ€ï¼›äºŒæ˜¯ç”¨ <strong>Fragment æ›¿ä»£æ— æ„ä¹‰çš„åŒ…è£¹ div</strong>ï¼Œè®©ç»„ä»¶ç»“æ„æ›´å¹²å‡€ã€‚æœ¬æ–‡å°†ä»å®è·µå‡ºå‘ï¼Œåˆ†äº«è¿™ä¸¤é¡¹æŠ€æœ¯çš„æ ¸å¿ƒä»·å€¼ä¸ä½¿ç”¨æ–¹å¼ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€æ ·å¼çš„æ¼”è¿›ï¼šä» Bad Styles åˆ°åŸå­åŒ–</h2>
<h3 data-id="heading-2">ä¼ ç»Ÿ CSS çš„å›°å¢ƒ</h3>
<p>æ—©æœŸå¼€å‘ä¸­ï¼Œæˆ‘ä»¬ä¹ æƒ¯ä¸ºæ¯ä¸ª UI å…ƒç´ ç¼–å†™ä¸“å±ç±»åï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"home-page-title"</span>&gt;</span>æ¬¢è¿<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"home-page-desc"</span>&gt;</span>è¿™æ˜¯é¦–é¡µæè¿°<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.home-page-title</span> { <span class="hljs-attribute">font-size</span>: <span class="hljs-number">2rem</span>; <span class="hljs-attribute">font-weight</span>: bold; }
<span class="hljs-selector-class">.home-page-desc</span> { <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>; <span class="hljs-attribute">color</span>: <span class="hljs-number">#666</span>; <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">0.5rem</span>; }
</code></pre>
<p>è¿™ç§å†™æ³•çš„é—®é¢˜åœ¨äºï¼š</p>
<ul>
<li><strong>æ— æ³•å¤ç”¨</strong>ï¼šæ¢ä¸ªé¡µé¢å°±å¾—é‡æ–°å‘½åã€é‡å†™æ ·å¼ï¼›</li>
<li><strong>å‘½åæˆæœ¬é«˜</strong>ï¼šç±»åè¶Šæ¥è¶Šé•¿ï¼Œå¦‚ <code>user-profile-card-header-title</code>ï¼›</li>
<li><strong>ç»´æŠ¤å›°éš¾</strong>ï¼šè®¾è®¡è°ƒæ•´éœ€å…¨å±€æœç´¢æ›¿æ¢ã€‚</li>
</ul>
<p>è¿™å°±æ˜¯å…¸å‹çš„ <strong>â€œBad Stylesâ€</strong> â€”â€”æ ·å¼ä¸ä¸šåŠ¡å¼ºè€¦åˆï¼Œç‰ºç‰²äº†å¯ç»´æŠ¤æ€§ã€‚</p>
<h3 data-id="heading-3">é¢å‘å¯¹è±¡ CSSï¼ˆOOCSSï¼‰çš„æ”¹è¿›</h3>
<p>OOCSS æå‡ºï¼šå°†æ ·å¼æ‹†è§£ä¸ºåŸºç¡€å•å…ƒï¼Œé€šè¿‡ç»„åˆæ„å»º UIã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-2xl font-bold"</span>&gt;</span>æ¬¢è¿<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"text-base text-gray-600 mt-2"</span>&gt;</span>è¿™æ˜¯é¦–é¡µæè¿°<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<p>è¿™ç§æ–¹å¼æå‡äº†å¤ç”¨æ€§ï¼Œä½†å¼€å‘è€…ä»éœ€æ‰‹åŠ¨å®šä¹‰ <code>.text-2xl</code>ã€<code>.mt-2</code> ç­‰åŸå­ç±»ï¼Œä¸”éš¾ä»¥ä¿è¯å›¢é˜Ÿä¸€è‡´æ€§ã€‚</p>
<h3 data-id="heading-4">Tailwind CSSï¼šå¼€ç®±å³ç”¨çš„åŸå­åŒ–æ–¹æ¡ˆ</h3>
<p>Tailwind CSS å°† OOCSS ç†å¿µäº§å“åŒ–â€”â€”å®ƒ<strong>é¢„ç½®äº†æ•°åƒä¸ªç²¾å¿ƒè®¾è®¡çš„åŸå­ç±»</strong>ï¼Œè¦†ç›–å¸ƒå±€ã€é¢œè‰²ã€é—´è·ã€å“åº”å¼ã€äº¤äº’çŠ¶æ€ç­‰æ‰€æœ‰åœºæ™¯ã€‚ä½ æ— éœ€å†™ä»»ä½•è‡ªå®šä¹‰ CSSï¼Œç›´æ¥åœ¨ JSX ä¸­ç»„åˆå³å¯ã€‚äºæ˜¯JSX + TailWindCsså°±æ„æˆäº†UIç•Œé¢</p>
<h4 data-id="heading-5">åœ¨ Vite é¡¹ç›®ä¸­å¿«é€Ÿé›†æˆ</h4>
<p>é…ç½®è¿‡ç¨‹æä¸ºç®€å•ï¼š</p>
<ol>
<li>
<p>å®‰è£…ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npm install tailwindcss @tailwindcss/vite
</code></pre>
</li>
<li>
<p>é…ç½® Vite æ’ä»¶ï¼ˆ<code>vite.config.js</code>ï¼‰ï¼š</p>
</li>
</ol>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> tailwindcss <span class="hljs-keyword">from</span> <span class="hljs-string">'@tailwindcss/vite'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
 <span class="hljs-attr">plugins</span>: [
   <span class="hljs-title function_">tailwindcss</span>(),
 ],
})
</code></pre>
<ol>
<li>å¯¼å…¥Tailwind CSSï¼š</li>
</ol>
<pre><code class="hljs language-jsx" lang="jsx">  @<span class="hljs-keyword">import</span> <span class="hljs-string">"tailwindcss"</span>;
</code></pre>
<p>å®Œæˆä»¥ä¸Šä¸‰æ­¥ï¼Œå³å¯åœ¨ç»„ä»¶ä¸­ç›´æ¥ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">ArticleCard</span> =(<span class="hljs-params"/>)=&gt;{
  <span class="hljs-comment">// JSX + tailwindcss(UIçš„ä¸€éƒ¨åˆ†) =UI</span>
  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"p-4 bg-white rounded-xl shadow hover:shadow-lg transition"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-lg font-bold"</span>&gt;</span>TailWindCss<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"text-gray-500 mt-2"</span>&gt;</span>
        ç”¨utlity class å¿«é€Ÿæ„å»ºUI
      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
  <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>111<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>222<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"</span>&gt;</span>æäº¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"px-4 py-2 bg-gray-300 text-black rounded-md hover:bg-gray-400"</span>&gt;</span>é»˜è®¤<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ArticleCard</span>/&gt;</span>
  <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4cbdc053d90940eb95ee3ae8c1483464~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGh4eHg=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767515690&amp;x-signature=42G7%2BOU%2B%2BeQmPMDbFjOMLZ1yycE%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h4 data-id="heading-6">TailWindCssçš„è®¾è®¡ç†è§£</h4>
<p>ç»†å¿ƒçš„ä½ å¯èƒ½æ³¨æ„åˆ°ï¼š<code>&lt;h1&gt;</code> å’Œ <code>&lt;h2&gt;</code> æ ‡ç­¾å¤±å»äº†æµè§ˆå™¨é»˜è®¤çš„å¤§å­—ä½“å’Œç²—ä½“æ ·å¼ã€‚<br/>
è¿™æ˜¯å› ä¸º Tailwind é‡‡ç”¨ <strong>â€œæ— æ ·å¼é‡ç½®â€ï¼ˆpreflightï¼‰ç­–ç•¥</strong>â€”â€”ä»é›¶å¼€å§‹æ„å»º UIï¼Œç¡®ä¿æ‰€æœ‰æ ·å¼æ˜¾å¼å¯æ§ã€‚</p>
<blockquote>
<p>è¿™ä¸æ˜¯ç¼ºé™·ï¼Œè€Œæ˜¯ä¼˜åŠ¿ï¼šå®ƒå¼ºåˆ¶ä½ ä¸»åŠ¨æ€è€ƒæ¯ä¸€ä¸ªè§†è§‰è¡¨ç°ï¼Œé¿å…éšå¼ä¾èµ–æµè§ˆå™¨é»˜è®¤æ ·å¼ã€‚</p>
</blockquote>
<h4 data-id="heading-7">ä¸ºä»€ä¹ˆ Tailwind CSS å¦‚æ­¤é«˜æ•ˆï¼Ÿ</h4>
<p>åœ¨ç†è§£å…¶ç”¨æ³•åï¼Œæˆ‘ä»¬æ¥æ€»ç»“å®ƒâ€œå¥½ç”¨â€çš„æœ¬è´¨åŸå› ï¼š</p>
<ol>
<li><strong>æ ¹æ²» Bad Styles</strong><br/>
åŸå­ç±»å¤©ç„¶è§£è€¦æ ·å¼ä¸ç»„ä»¶ï¼Œæœç»é‡å¤å’Œå‘½åç„¦è™‘ã€‚</li>
<li><strong>å¼€å‘æ•ˆç‡é£è·ƒ</strong><br/>
æ‰€æœ‰æ ·å¼åœ¨ JSX ä¸­å®Œæˆï¼Œæ— éœ€åˆ‡æ¢æ–‡ä»¶ï¼›é…åˆç¼–è¾‘å™¨æ’ä»¶ï¼Œæ™ºèƒ½æç¤º+å¯è§†åŒ–é¢„è§ˆè®©ç¼–ç å¦‚ä¸èˆ¬é¡ºæ»‘ã€‚</li>
<li><strong>å¼ºåˆ¶è®¾è®¡ä¸€è‡´æ€§</strong><br/>
æ‰€æœ‰å€¼ï¼ˆé¢œè‰²ã€é—´è·ç­‰ï¼‰æ¥è‡ªç»Ÿä¸€é…ç½®ï¼Œç¡®ä¿å…¨ç«™ UI é£æ ¼ä¸€è‡´ï¼Œæ–°äººä¹Ÿèƒ½å¿«é€Ÿäº§å‡ºè§„èŒƒä»£ç ã€‚</li>
<li><strong>ç”Ÿäº§ä½“ç§¯æå°</strong><br/>
æ„å»ºæ—¶è‡ªåŠ¨ç§»é™¤æœªä½¿ç”¨çš„ç±»ï¼Œæœ€ç»ˆ CSS é€šå¸¸ä»…å‡ å KBã€‚</li>
<li><strong>äº¤äº’ä¸å“åº”å¼å¼€ç®±å³ç”¨</strong><br/>
<code>hover:</code>ã€<code>focus:</code>ã€<code>md:</code> ç­‰å‰ç¼€è®©å¤æ‚çŠ¶æ€å’Œå“åº”å¼å¸ƒå±€å˜å¾—ç›´è§‚æ˜“å†™ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€Fragmentï¼šæ¶ˆé™¤æ— æ„ä¹‰çš„ DOM åŒ…è£¹</h2>
<p>æœ€åˆçš„ Fragment æ˜¯ä¸ºäº†<strong>æ€§èƒ½ä¼˜åŒ–</strong>è€Œæ¥ã€‚</p>
<p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œé¢‘ç¹æ“ä½œçœŸå® DOM æ˜¯æ€§èƒ½çš„å¤§æ•Œã€‚æ—©åœ¨ React å‡ºç°ä¹‹å‰ï¼Œæµè§ˆå™¨å°±æä¾›äº† <code>DocumentFragment</code> æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚çœ‹è¿™æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> container =<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'.container'</span>);
<span class="hljs-keyword">const</span> p1 =<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'p'</span>);
p1.<span class="hljs-property">textContent</span> =<span class="hljs-string">'1111'</span>;
<span class="hljs-keyword">const</span> p2 =<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'p'</span>);
p2.<span class="hljs-property">textContent</span> =<span class="hljs-string">'2222'</span>;
<span class="hljs-comment">// ä¸ºäº†æ€§èƒ½ä¼˜åŒ–è€Œæ¥</span>
<span class="hljs-keyword">const</span> fragment =<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createDocumentFragment</span>();
<span class="hljs-comment">//åœ¨å†…å­˜ä¸­æ“ä½œ</span>
fragment.<span class="hljs-title function_">appendChild</span>(p1);
fragment.<span class="hljs-title function_">appendChild</span>(p2);
container.<span class="hljs-title function_">appendChild</span>(fragment);
</code></pre>
<p>å¦‚æœæ²¡æœ‰ <code>fragment</code>ï¼Œæˆ‘ä»¬åªèƒ½ä¸€ä¸ªä¸€ä¸ªåœ°æŒ‚è½½ DOM å…ƒç´ ï¼š</p>
<pre><code class="hljs language-js" lang="js">container.<span class="hljs-title function_">appendChild</span>(p1); <span class="hljs-comment">// è§¦å‘ä¸€æ¬¡é‡æ’</span>
container.<span class="hljs-title function_">appendChild</span>(p2); <span class="hljs-comment">// å†è§¦å‘ä¸€æ¬¡é‡æ’</span>
</code></pre>
<p>æ¯ä¸€æ¬¡ <code>appendChild</code> éƒ½å¯èƒ½è¿«ä½¿æµè§ˆå™¨é‡æ–°è®¡ç®—å¸ƒå±€ï¼ˆreflowï¼‰å’Œé‡ç»˜ï¼ˆrepaintï¼‰ã€‚å½“æ’å…¥å¤šä¸ªå…ƒç´ æ—¶ï¼Œè¿™ç§å¼€é”€ä¼šè¿…é€Ÿç´¯ç§¯ï¼Œå¯¼è‡´é¡µé¢å¡é¡¿ã€‚</p>
<p>è€Œé€šè¿‡ <code>DocumentFragment</code>ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæŠŠæ‰€æœ‰å…ƒç´ <strong>åœ¨å†…å­˜ä¸­ç»„è£…å¥½</strong>â€”â€”è¿™ä¸ªè¿‡ç¨‹ä¸è§¦ç¢°çœŸå® DOMï¼Œé€Ÿåº¦æå¿«ã€å¼€é”€æå°ã€‚æœ€åä¸€æ¬¡æ€§å°†æ•´ä¸ªç‰‡æ®µæŒ‚è½½åˆ°é¡µé¢ï¼Œ<strong>åªè§¦å‘ä¸€æ¬¡æ¸²æŸ“æµç¨‹</strong>ã€‚</p>
<p><code>fragment</code> å°±åƒä¸€è¾†å‡ºç§Ÿè½¦ï¼šå®ƒæŠŠ <code>p1</code>ã€<code>p2</code> ç­‰ DOM å…ƒç´ æ¥ä¸Šè½¦ï¼Œåœ¨å†…å­˜ä¸­å®Œæˆè°ƒåº¦ï¼Œç„¶åé€åˆ° <code>container</code> é—¨å£ã€‚ä»»åŠ¡å®Œæˆåï¼Œå®ƒè‡ªå·±<strong>æ‚„ç„¶ç¦»å¼€ï¼Œä¸ä¼šå‡ºç°åœ¨ DOM æ ‘ä¸­</strong>ã€‚</p>
<p>React çš„ <code>Fragment</code> æ­£æ˜¯ç»§æ‰¿äº†è¿™ä¸€ç†å¿µã€‚</p>
<p>è¿‡å»ï¼Œç”±äº React è¦æ±‚ç»„ä»¶å¿…é¡»è¿”å›å•ä¸€æ ¹å…ƒç´ ï¼Œæˆ‘ä»¬å¸¸è¢«è¿«å†™ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">return</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> {/* è¿™ä¸ª div æ²¡æœ‰è¯­ä¹‰ */}
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æ“ä½œ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);
</code></pre>
<p>è¿™ä¸ªé¢å¤–çš„ <code>&lt;div&gt;</code> ä¼šï¼š</p>
<ul>
<li>å¢åŠ æ— ç”¨ DOM èŠ‚ç‚¹ï¼›</li>
<li>ç ´å HTML è¯­ä¹‰ï¼ˆå¦‚åœ¨Â <code>&lt;ul&gt;</code>Â å†…éƒ¨æ’å…¥ div ä¼šç ´ååˆ—è¡¨ç»“æ„ï¼‰ï¼›</li>
<li>å¯èƒ½å¹²æ‰° CSS å¸ƒå±€ï¼ˆå¦‚ flex æˆ– grid å®¹å™¨çš„ç›´æ¥å­é¡¹ï¼‰ã€‚</li>
</ul>
<p><strong>Fragment æ­£æ˜¯ä¸ºè§£å†³æ­¤é—®é¢˜è€Œç”Ÿ</strong>ã€‚å®ƒå…è®¸ä½ åˆ†ç»„å¤šä¸ªå…ƒç´ ï¼Œ<strong>ä¸æ¸²æŸ“ä»»ä½•é¢å¤–èŠ‚ç‚¹</strong>ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">return</span> (
  <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å†…å®¹<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>æ“ä½œ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;/&gt;</span></span>
);
</code></pre>
<p>è¿™ä¸ä»…æ˜¯ç»“æ„ä¸Šçš„ç®€æ´ï¼Œæ›´æ˜¯å¯¹<strong>æ€§èƒ½åˆå¿ƒçš„å›å½’</strong>â€”â€”å°±åƒåŸç”Ÿ <code>DocumentFragment</code> ä¸€æ ·ï¼ŒReact Fragment è®©æˆ‘ä»¬åœ¨ç»„åˆå…ƒç´ çš„åŒæ—¶ï¼Œ<strong>é¿å…ä¸å¿…è¦çš„ DOM å¼€é”€</strong>ã€‚</p>
<p><strong>Fragment çš„ä»·å€¼åœ¨äº</strong>ï¼š</p>
<ul>
<li><strong>ä¿æŒ DOM çº¯å‡€</strong>ï¼šè¾“å‡ºç»“æ„ä¸æ„å›¾å®Œå…¨ä¸€è‡´ï¼›</li>
<li><strong>æå‡æ€§èƒ½</strong>ï¼šå‡å°‘æ— æ„ä¹‰çš„èŠ‚ç‚¹åˆ›å»ºä¸ diffï¼›</li>
<li><strong>ä¿éšœè¯­ä¹‰æ­£ç¡®</strong>ï¼šå°¤å…¶åœ¨è¡¨æ ¼ã€åˆ—è¡¨ç­‰å¯¹å­å…ƒç´ æœ‰ä¸¥æ ¼è¦æ±‚çš„åœºæ™¯ä¸­è‡³å…³é‡è¦ã€‚</li>
</ul>
<h2 data-id="heading-9">ç»“è¯­ï¼šç®€æ´å³åŠ›é‡ï¼Œæ˜¾å¼å³å¯é </h2>
<p>åœ¨ç°ä»£å‰ç«¯å·¥ç¨‹ä¸­ï¼Œ<strong>ä»£ç çš„ä¼˜é›…ä¸ä»…åœ¨äºåŠŸèƒ½å®ç°ï¼Œæ›´åœ¨äºè¡¨è¾¾æ–¹å¼</strong>ã€‚Tailwind CSS ä¸ React Fragment æ­£æ˜¯ä¸¤ä¸ªçœ‹ä¼¼å¾®å°ã€å®åˆ™æ·±åˆ»çš„â€œæ æ†ç‚¹â€â€”â€”å®ƒä»¬åˆ†åˆ«ä» <strong>æ ·å¼ç³»ç»Ÿ</strong> ä¸ <strong>ç»„ä»¶ç»“æ„</strong> ä¸¤ä¸ªç»´åº¦ï¼Œæ¨åŠ¨æˆ‘ä»¬èµ°å‘æ›´é«˜å“è´¨çš„å¼€å‘å®è·µã€‚</p>
<ul>
<li><strong>Tailwind CSS ä¸æ˜¯â€œå†™æ›´å¤š classâ€ï¼Œè€Œæ˜¯â€œå†™æ›´å°‘ã€æ›´ç¡®å®šçš„æ ·å¼â€</strong> ã€‚<br/>
å®ƒä»¥åŸå­åŒ–è®¾è®¡ç»ˆç»“å‘½åç„¦è™‘ï¼Œä»¥æ˜¾å¼å£°æ˜å–ä»£éšå¼ä¾èµ–ï¼Œè®© UI å¼€å‘å˜å¾—å¯é¢„æµ‹ã€å¯å¤ç”¨ã€å¯è§„æ¨¡åŒ–ã€‚</li>
<li><strong>Fragment ä¸æ˜¯â€œçœä¸€ä¸ª divâ€ï¼Œè€Œæ˜¯å¯¹ DOM è¯­ä¹‰ä¸æ€§èƒ½çš„å°Šé‡</strong>ã€‚<br/>
å®ƒè®©æˆ‘ä»¬æ‘†è„±ä¸ºæ¡†æ¶å¦¥åçš„å†—ä½™åŒ…è£¹ï¼Œè¾“å‡ºçœŸæ­£ç¬¦åˆ HTML è§„èŒƒã€å¸ƒå±€æ„å›¾æ¸…æ™°çš„ç»“æ„ã€‚</li>
</ul>
<p>è¿™ä¸¤é¡¹å®è·µï¼Œå…±åŒæŒ‡å‘ä¸€ä¸ªæ ¸å¿ƒç†å¿µï¼š<strong>å¥½çš„ä»£ç ï¼Œåº”å½“å¿ äºæ„å›¾ï¼Œè€Œéè¿å°±å·¥å…·</strong>ã€‚</p>
<p>å°†å®ƒä»¬èå…¥ä½ çš„æ—¥å¸¸å¼€å‘ï¼Œä¸ä»…æ˜¯æŠ€æœ¯é€‰å‹çš„ä¼˜åŒ–ï¼Œæ›´æ˜¯å·¥ç¨‹æ€ç»´çš„å‡çº§â€”â€”ä»æ­¤ï¼Œå‘Šåˆ« Bad Stylesï¼Œå‘Šåˆ«æ— æ„ä¹‰åµŒå¥—ï¼Œå†™å‡ºæ—¢é«˜æ•ˆåˆä¼˜é›…çš„ React åº”ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é›¶åŸºç¡€ä¹Ÿèƒ½æ‡‚ï¼React Hookså®æˆ˜æ‰‹å†Œï¼šuseState/useEffectä¸Šæ‰‹å°±ä¼šï¼Œå‘Šåˆ«ç±»ç»„ä»¶]]></title>    <link>https://juejin.cn/post/7588146449006559268</link>    <guid>https://juejin.cn/post/7588146449006559268</guid>    <pubDate>2025-12-28T09:03:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588146449006559268" data-draft-id="7588191506606768134" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é›¶åŸºç¡€ä¹Ÿèƒ½æ‡‚ï¼React Hookså®æˆ˜æ‰‹å†Œï¼šuseState/useEffectä¸Šæ‰‹å°±ä¼šï¼Œå‘Šåˆ«ç±»ç»„ä»¶"/> <meta itemprop="keywords" content="æ¶æ„,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-28T09:03:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¯ä½ çš„å°æ©˜å‘€"/> <meta itemprop="url" content="https://juejin.cn/user/1989458366301708"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é›¶åŸºç¡€ä¹Ÿèƒ½æ‡‚ï¼React Hookså®æˆ˜æ‰‹å†Œï¼šuseState/useEffectä¸Šæ‰‹å°±ä¼šï¼Œå‘Šåˆ«ç±»ç»„ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1989458366301708/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¯ä½ çš„å°æ©˜å‘€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:03:39.000Z" title="Sun Dec 28 2025 09:03:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    31
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>React16.8 ä¹‹å‰ï¼Œå‡½æ•°ç»„ä»¶åªèƒ½ä½œä¸º<code>ã€Œæ— çŠ¶æ€ç»„ä»¶ã€</code>å­˜åœ¨ï¼Œæ‰€æœ‰éœ€è¦<strong>çŠ¶æ€ç®¡ç†ã€ç”Ÿå‘½å‘¨æœŸå¤„ç†</strong>çš„ä¸šåŠ¡éœ€æ±‚ï¼Œéƒ½åªèƒ½ä¾èµ–ç±»ç»„ä»¶å®ç°ã€‚è€Œ React16.8 æ¨å‡º Hooks ç‰¹æ€§åï¼Œå½»åº•é¢ è¦†äº†å‡½æ•°ç»„ä»¶çš„èƒ½åŠ›è¾¹ç•Œï¼Œè®©å‡½æ•°ç»„ä»¶å¯ä»¥ä¼˜é›…çš„å®ç°çŠ¶æ€ã€ç”Ÿå‘½å‘¨æœŸã€å‰¯ä½œç”¨ç®¡ç†ç­‰æ‰€æœ‰åŠŸèƒ½ï¼Œä¹Ÿè®©å‡½æ•°ç»„ä»¶æˆä¸º React å®˜æ–¹ä¸»æ¨ã€ä¼ä¸šå¼€å‘çš„ä¸»æµé€‰å‹ã€‚</p>
<p>æœ¬æ–‡å°†<strong>æç®€å›é¡¾ç±»ç»„ä»¶æ ¸å¿ƒç”¨æ³•</strong>ï¼Œé‡ç‚¹ç²¾è®² React Hooks çš„ä½¿ç”¨ã€åŸç†å’Œå®æˆ˜æŠ€å·§ï¼Œåƒé€è¿™ç¯‡ï¼Œå½»åº•æŒæ¡ React16.8+ çš„ä¸»æµå¼€å‘æ–¹å¼ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€React16.8 ä¹‹å‰ï¼šç±»ç»„ä»¶ä¸€ç»Ÿå¤©ä¸‹</h2>
<p>åœ¨ Hooks å‡ºç°ä¹‹å‰ï¼Œæƒ³è¦å¼€å‘å¸¦ã€ŒçŠ¶æ€ã€çš„ React ç»„ä»¶ï¼Œ<strong>ç±»ç»„ä»¶æ˜¯å”¯ä¸€é€‰æ‹©</strong>ï¼Œæ ¸å¿ƒèƒ½åŠ›åªæœ‰ä¸¤ä¸ªï¼šçŠ¶æ€ç®¡ç† + ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚</p>
<h3 data-id="heading-1">âœ… ç±»ç»„ä»¶ æ ¸å¿ƒ2å¤§èƒ½åŠ›</h3>
<h4 data-id="heading-2">1. ç»„ä»¶çŠ¶æ€ç®¡ç†</h4>
<ul>
<li>
<p>åˆå§‹åŒ–çŠ¶æ€ï¼šé€šè¿‡ <code>this.state = {  }</code> å®šä¹‰ç»„ä»¶è‡ªèº«çš„å“åº”å¼çŠ¶æ€ï¼ˆçŠ¶æ€ï¼šä¿®æ”¹åä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“çš„å˜é‡ï¼‰</p>
</li>
<li>
<p>æ›´æ–°çŠ¶æ€ï¼š<strong><code>this.setState()</code></strong> <strong>å¿…é¡»é€šè¿‡  æ–¹æ³•ä¿®æ”¹çŠ¶æ€</strong>ï¼Œç¦æ­¢ç›´æ¥èµ‹å€¼ä¿®æ”¹ <code>this.state</code>ï¼Œè°ƒç”¨åä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“</p>
</li>
</ul>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { <span class="hljs-title class_">Component</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-comment">// ç±»ç»„ä»¶æ ¸å¿ƒç¤ºä¾‹ï¼ˆå«çŠ¶æ€ç®¡ç†+ç”Ÿå‘½å‘¨æœŸï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">super</span>()
    <span class="hljs-comment">// åˆå§‹åŒ–å“åº”å¼çŠ¶æ€</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> }
  }

  <span class="hljs-comment">// ç»„ä»¶é¦–æ¬¡åŠ è½½å®Œæˆåæ‰§è¡Œï¼ˆåˆå§‹åŒ–è¯·æ±‚/å®šæ—¶å™¨å¸¸ç”¨ï¼‰</span>
  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶åŠ è½½å®Œæ¯•'</span>);
  }

  <span class="hljs-comment">// çŠ¶æ€æ›´æ–°åæ‰§è¡Œ</span>
  <span class="hljs-title function_">componentDidUpdate</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶æ›´æ–°å®Œæ¯•'</span>);
  }

  <span class="hljs-comment">// çŠ¶æ€æ›´æ–°æ–¹æ³•ï¼šå¿…é¡»é€šè¿‡setStateä¿®æ”¹çŠ¶æ€</span>
  <span class="hljs-title function_">add</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">count</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> })
  }

  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>{this.state.count}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
        {/* ç»‘å®šäº‹ä»¶éœ€é€šè¿‡bindç¡®ä¿thisæŒ‡å‘ */}
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.add.bind(this)}</span>&gt;</span>add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    )
  }
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<h4 data-id="heading-3">2. ç±»ç»„ä»¶æ ¸å¿ƒç”Ÿå‘½å‘¨æœŸï¼ˆ3ä¸ªå¿…ç”¨ï¼‰</h4>
<p>ç±»ç»„ä»¶é€šè¿‡å›ºå®šçš„ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œå¤„ç†ç»„ä»¶ã€ŒæŒ‚è½½ã€æ›´æ–°ã€å¸è½½ã€ä¸‰ä¸ªæ ¸å¿ƒé˜¶æ®µçš„ä¸šåŠ¡é€»è¾‘ï¼Œä¹Ÿæ˜¯ç±»ç»„ä»¶å¤„ç†å‰¯ä½œç”¨ï¼ˆè¯·æ±‚æ•°æ®ã€å®šæ—¶å™¨ã€äº‹ä»¶ç›‘å¬ï¼‰çš„å”¯ä¸€æ–¹å¼ï¼š</p>
<ol>
<li>
<p><code>componentDidMount</code>ï¼šç»„ä»¶<strong>åˆæ¬¡æŒ‚è½½å®Œæˆå</strong>æ‰§è¡Œä¸€æ¬¡ â†’ å¸¸ç”¨ï¼šå‘èµ·å¼‚æ­¥è¯·æ±‚ã€ç»‘å®šäº‹ä»¶ç›‘å¬ã€å¼€å¯å®šæ—¶å™¨</p>
</li>
<li>
<p><code>componentDidUpdate</code>ï¼šç»„ä»¶<strong>æ¯æ¬¡çŠ¶æ€æ›´æ–°æ¸²æŸ“å®Œæˆå</strong>æ‰§è¡Œ â†’ å¸¸ç”¨ï¼šæ ¹æ®çŠ¶æ€å˜åŒ–æ›´æ–°DOMã€å‘èµ·å…³è”è¯·æ±‚</p>
</li>
<li>
<p><code>componentWillUnmount</code>ï¼šç»„ä»¶<strong>å³å°†å¸è½½é”€æ¯å‰</strong>æ‰§è¡Œä¸€æ¬¡ â†’ å¸¸ç”¨ï¼šæ¸…é™¤å®šæ—¶å™¨ã€è§£ç»‘äº‹ä»¶ç›‘å¬ã€å–æ¶ˆè¯·æ±‚ï¼Œåšæ”¶å°¾æ¸…ç†å·¥ä½œ</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-4">äºŒã€React16.8+ æ–°æ—¶ä»£ï¼šå‡½æ•°ç»„ä»¶ + Hooks å°ç¥ï¼ˆå…¨æ–‡é‡ç‚¹ï¼‰</h2>
<p>React å›¢é˜Ÿæ¨å‡º Hooks çš„æ ¸å¿ƒç›®çš„ï¼š<strong>ä¸ºå‡½æ•°ç»„ä»¶èµ‹èƒ½</strong>ï¼Œè®©åŸæœ¬ã€Œæ— çŠ¶æ€ã€æ— ç”Ÿå‘½å‘¨æœŸã€çš„å‡½æ•°ç»„ä»¶ï¼Œæ‹¥æœ‰å’Œç±»ç»„ä»¶åŒç­‰çš„èƒ½åŠ›ï¼ŒåŒæ—¶è§£å†³ç±»ç»„ä»¶ <code>this</code> æŒ‡å‘æ··ä¹±ã€ç”Ÿå‘½å‘¨æœŸé€»è¾‘åˆ†æ•£ã€å¤ç”¨çŠ¶æ€é€»è¾‘ç¹ççš„ç—›ç‚¹ã€‚</p>
<h3 data-id="heading-5">âœ¨ æ ¸å¿ƒç»“è®º</h3>
<ol>
<li>
<p>React17+ é¡¹ç›®å¼€å‘ï¼Œ<strong>ä¼˜å…ˆä½¿ç”¨ã€å‡½æ•°ç»„ä»¶ + Hooksã€‘</strong> æ˜¯ç»å¯¹ä¸»æµ</p>
</li>
<li>
<p>Hooks ç¿»è¯‘ä¸ºã€Œé’©å­ã€ï¼Œæœ¬è´¨æ˜¯ï¼š<strong>ä¸ºå‡½æ•°ç»„ä»¶æä¾›çš„ä¸€ç³»åˆ—å†…ç½®å‡½æ•°ï¼Œè®©å‡½æ•°ç»„ä»¶æ‹¥æœ‰çŠ¶æ€ã€ç”Ÿå‘½å‘¨æœŸã€å‰¯ä½œç”¨ç®¡ç†èƒ½åŠ›</strong></p>
</li>
<li>
<p>æ ¸å¿ƒæ ¸å¿ƒ2ä¸ªåŸºç¡€é’©å­ï¼š<code>useState</code>ï¼ˆçŠ¶æ€ç®¡ç†ï¼‰ + <code>useEffect</code>ï¼ˆç”Ÿå‘½å‘¨æœŸ+å‰¯ä½œç”¨ç®¡ç†ï¼‰ï¼ŒæŒæ¡è¿™2ä¸ªï¼Œå°±èƒ½å®Œæˆ90%çš„ä¸šåŠ¡å¼€å‘ï¼</p>
</li>
</ol>
<h2 data-id="heading-6">ä¸‰ã€æ ¸å¿ƒHook â‘ ï¼šuseState â€” å‡½æ•°ç»„ä»¶çš„ã€ŒçŠ¶æ€ç®¡ç†ç¥å™¨ã€</h2>
<h3 data-id="heading-7">âœ… ä½œç”¨</h3>
<p>ä¸º<strong>å‡½æ•°ç»„ä»¶å®šä¹‰å“åº”å¼çŠ¶æ€</strong>ï¼Œå®Œç¾æ›¿ä»£ç±»ç»„ä»¶çš„ <code>this.state</code> + <code>this.setState</code>ï¼Œæ˜¯å‡½æ•°ç»„ä»¶èƒ½æ‹¥æœ‰ã€Œè‡ªèº«çŠ¶æ€ã€çš„æ ¸å¿ƒã€‚</p>
<h3 data-id="heading-8">âœ… è¯­æ³•æ ¼å¼</h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span> <span class="hljs-comment">// å¿…é¡»æ‰‹åŠ¨å¯¼å…¥</span>

<span class="hljs-comment">// è¯­æ³•ï¼šconst [çŠ¶æ€å˜é‡, çŠ¶æ€æ›´æ–°å‡½æ•°] = useState(åˆå§‹å€¼)</span>
<span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)
<span class="hljs-keyword">const</span> [list, setList] = <span class="hljs-title function_">useState</span>([])
<span class="hljs-keyword">const</span> [userInfo, setUserInfo] = <span class="hljs-title function_">useState</span>({<span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>})
</code></pre>
<ul>
<li>
<p>æ•°ç»„è§£æ„èµ‹å€¼ï¼Œå˜é‡åå¯è‡ªå®šä¹‰ï¼Œè¯­ä¹‰åŒ–å‘½åå³å¯</p>
</li>
<li>
<p>ç¬¬ä¸€ä¸ªå‚æ•°ï¼š<strong>çŠ¶æ€å˜é‡</strong>ï¼Œç›´æ¥ä½¿ç”¨å³å¯ï¼Œæ— éœ€ <code>this</code></p>
</li>
<li>
<p>ç¬¬äºŒä¸ªå‚æ•°ï¼š<strong>çŠ¶æ€æ›´æ–°å‡½æ•°</strong>ï¼Œè°ƒç”¨è¯¥å‡½æ•°ä¿®æ”¹çŠ¶æ€ï¼Œ<code>ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“</code></p>
</li>
<li>
<p>æ‹¬å·å†…ï¼š<strong>çŠ¶æ€åˆå§‹å€¼</strong>ï¼Œå¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼ˆæ•°å­—ã€æ•°ç»„ã€å¯¹è±¡ã€null/undefinedï¼‰</p>
</li>
</ul>
<h3 data-id="heading-9">âœ… åŸºç¡€ä½¿ç”¨ï¼ˆæ›¿ä»£ç±»ç»„ä»¶çŠ¶æ€ï¼‰</h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å®šä¹‰çŠ¶æ€ï¼šè®¡æ•°åˆå§‹å€¼ä¸º0</span>
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)

  <span class="hljs-comment">// ä¿®æ”¹çŠ¶æ€ï¼šè°ƒç”¨setCountï¼Œç›´æ¥æ›´æ–°ï¼Œæ— thisã€æ— ç»‘å®š</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>)
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>è®¡æ•°ï¼š{count}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{add}</span>&gt;</span>add<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>//ç‚¹å‡»åŠ ä¸€
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p align="left"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c153ebc28e8343578bff218d16da7163~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5L2g55qE5bCP5qmY5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767523729&amp;x-signature=BtUSfvih0O2p%2BwxvEWzxCZNjQZ8%3D" alt="ScreenShot_2025-12-28_165205_759.png" loading="lazy"/></p>
<h3 data-id="heading-10">âœ… è¿›é˜¶ç”¨æ³•</h3>
<h4 data-id="heading-11">1. å¤æ‚çŠ¶æ€åˆå§‹åŒ–ï¼ˆå‡½æ•°å¼åˆå§‹åŒ–ï¼‰</h4>
<p>å¦‚æœçŠ¶æ€çš„åˆå§‹å€¼éœ€è¦<strong>å¤æ‚è®¡ç®—ã€å¼‚æ­¥è·å–ã€è€—æ—¶æ“ä½œ</strong>ï¼Œç›´æ¥å†™å€¼ä¼šå¯¼è‡´ç»„ä»¶æ¯æ¬¡æ¸²æŸ“éƒ½æ‰§è¡Œè¯¥è®¡ç®—ï¼Œæ€§èƒ½æµªè´¹ã€‚æ­¤æ—¶ä¼ å…¥ä¸€ä¸ª<strong>å‡½æ•°</strong>ï¼Œè¯¥å‡½æ•°åªä¼šåœ¨ç»„ä»¶<strong>åˆæ¬¡æŒ‚è½½æ—¶æ‰§è¡Œä¸€æ¬¡</strong>ï¼Œè¿”å›åˆå§‹å€¼ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// æ¨èï¼šå¤æ‚åˆå§‹åŒ–ç”¨å‡½æ•°ï¼Œåªæ‰§è¡Œä¸€æ¬¡</span>
<span class="hljs-keyword">const</span> [name, setName] = <span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-string">'å¼ ä¸‰'</span> <span class="hljs-comment">// å¯å†™ä»»æ„å¤æ‚é€»è¾‘</span>
})
</code></pre>
<h4 data-id="heading-12">2. ä¾èµ–åŸçŠ¶æ€æ›´æ–°ï¼ˆå‡½æ•°å¼æ›´æ–°ï¼‰</h4>
<p>å½“æ–°çŠ¶æ€çš„å–å€¼<strong>ä¾èµ–äºä¸Šä¸€æ¬¡çš„æ—§çŠ¶æ€</strong>æ—¶ï¼Œæ¨èç»™æ›´æ–°å‡½æ•°ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°çš„å‚æ•°å°±æ˜¯ã€Œæœ€æ–°çš„æ—§çŠ¶æ€ã€ï¼Œç¡®ä¿æ‹¿åˆ°çš„çŠ¶æ€å€¼æ°¸è¿œæ˜¯æœ€æ–°çš„ï¼Œé¿å…å¼‚æ­¥æ›´æ–°å¯¼è‡´çš„å–å€¼é”™è¯¯ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// å‡½æ•°å¼æ›´æ–°ï¼šprevCount æ˜¯æœ€æ–°çš„æ—§çŠ¶æ€</span>
  <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">prevCount</span> =&gt;</span> prevCount + <span class="hljs-number">1</span>)
}
<span class="hljs-comment">// æ•°ç»„/å¯¹è±¡åŒç†</span>
<span class="hljs-keyword">const</span> [list, setList] = <span class="hljs-title function_">useState</span>([])
<span class="hljs-keyword">const</span> <span class="hljs-title function_">pushItem</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">setList</span>(<span class="hljs-function"><span class="hljs-params">prevList</span> =&gt;</span> [...prevList, <span class="hljs-string">'æ–°æ•°æ®'</span>])
}
</code></pre>
<h3 data-id="heading-13">âœ… useState æ ¸å¿ƒä¼˜åŠ¿</h3>
<ol>
<li>
<p>ä¸€ä¸ªç»„ä»¶ä¸­å¯ä»¥<strong>å¤šæ¬¡è°ƒç”¨</strong>ï¼Œå®šä¹‰å¤šä¸ªç‹¬ç«‹çŠ¶æ€ï¼Œäº’ä¸å½±å“ï¼ŒçŠ¶æ€ç®¡ç†æ›´çµæ´»</p>
</li>
<li>
<p>æ— éœ€å¤„ç† <code>this</code> æŒ‡å‘é—®é¢˜ï¼Œç±»ç»„ä»¶çš„ <code>this.setState</code> ç»å¸¸éœ€è¦ç»‘å®š <code>this</code>ï¼ŒHooks å®Œå…¨è§„é¿</p>
</li>
<li>
<p>å†™æ³•æç®€ï¼Œæ— å†—ä½™æ¨¡æ¿ä»£ç ï¼Œä»£ç é‡æ¯”ç±»ç»„ä»¶å‡å°‘50%ä»¥ä¸Š</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-14">å››ã€æ ¸å¿ƒHook â‘¡ï¼šuseEffect â€” å‡½æ•°ç»„ä»¶çš„ã€Œç”Ÿå‘½å‘¨æœŸ+å‰¯ä½œç”¨ä¸‡èƒ½é’©å­ã€</h2>
<h3 data-id="heading-15">âœ… æ ¸å¿ƒå®šä¹‰</h3>
<p><code>useEffect</code> æ˜¯å‡½æ•°ç»„ä»¶ä¸­å¤„ç† <strong>å‰¯ä½œç”¨</strong> çš„å”¯ä¸€å…¥å£ï¼ŒåŒæ—¶<strong>å®Œç¾æ›¿ä»£ç±»ç»„ä»¶çš„3ä¸ªæ ¸å¿ƒç”Ÿå‘½å‘¨æœŸ</strong>ï¼Œæ˜¯å‡½æ•°ç»„ä»¶çš„é‡ä¸­ä¹‹é‡ã€‚</p>
<blockquote>
<p>å‰¯ä½œç”¨ï¼šæŒ‡å’Œç»„ä»¶æ¸²æŸ“æ— å…³çš„æ“ä½œï¼Œæ¯”å¦‚ï¼šå¼‚æ­¥è¯·æ±‚ã€å¼€å¯/æ¸…é™¤å®šæ—¶å™¨ã€ç»‘å®š/è§£ç»‘äº‹ä»¶ç›‘å¬ã€æ“ä½œDOMã€æœ¬åœ°å­˜å‚¨ç­‰ã€‚</p>
</blockquote>
<h3 data-id="heading-16">âœ… æ ¸å¿ƒè¯­æ³•</h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span> <span class="hljs-comment">// é…å¥—å¯¼å…¥</span>

<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// ã€æ ¸å¿ƒæ‰§è¡Œä½“ã€‘ï¼šéœ€è¦æ‰§è¡Œçš„å‰¯ä½œç”¨é€»è¾‘</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ‰§è¡Œå‰¯ä½œç”¨'</span>)
  
  <span class="hljs-comment">// ã€æ¸…ç†å‡½æ•°ã€‘ï¼šå¯é€‰ï¼Œreturn ä¸€ä¸ªå‡½æ•°ï¼Œç»„ä»¶å¸è½½æ—¶æ‰§è¡Œ</span>
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶å¸è½½ï¼Œæ‰§è¡Œæ¸…ç†å·¥ä½œ'</span>)
  }
}, [ä¾èµ–é¡¹æ•°ç»„]) <span class="hljs-comment">// æ ¸å¿ƒï¼šé€šè¿‡ä¾èµ–é¡¹æ§åˆ¶æ‰§è¡Œæ—¶æœº</span>
</code></pre>
<h3 data-id="heading-17">âœ… å…³é”®è§„åˆ™ï¼ˆé‡ä¸­ä¹‹é‡ï¼Œå¿…èƒŒï¼‰</h3>
<p><code>useEffect</code> çš„æ‰§è¡Œæ—¶æœºï¼Œ<strong>å®Œå…¨ç”±ç¬¬äºŒä¸ªå‚æ•°ã€ä¾èµ–é¡¹æ•°ç»„ã€‘å†³å®š</strong>ï¼Œè¿™ä¹Ÿæ˜¯å’Œç±»ç»„ä»¶ç”Ÿå‘½å‘¨æœŸä¸€ä¸€å¯¹åº”çš„æ ¸å¿ƒï¼Œ4ç§æ ¸å¿ƒç”¨æ³•è¦†ç›–æ‰€æœ‰ä¸šåŠ¡åœºæ™¯ï¼Œå¯¹åº”ç±»ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸç²¾å‡†æ— å·®ï¼š</p>
<h4 data-id="heading-18">1. æ— ä¾èµ–é¡¹æ•°ç»„ â†’ ç­‰ä»·äº ç±»ç»„ä»¶ <code>componentDidMount + componentDidUpdate</code></h4>
<pre><code class="hljs language-jsx" lang="jsx">
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶åˆæ¬¡åŠ è½½æ‰§è¡Œ + æ¯æ¬¡æ¸²æŸ“æ›´æ–°åéƒ½æ‰§è¡Œ'</span>)
})
</code></pre>
<p>ç»„ä»¶<strong>åˆæ¬¡æŒ‚è½½å®Œæˆåæ‰§è¡Œä¸€æ¬¡</strong>ï¼Œä¹‹å<code>æ¯æ¬¡ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼ˆä»»æ„çŠ¶æ€å˜åŒ–ï¼‰éƒ½ä¼šå†æ¬¡æ‰§è¡Œ</code>ï¼Œé€‚åˆéœ€è¦ã€Œæ¯æ¬¡æ›´æ–°éƒ½åŒæ­¥æ‰§è¡Œã€çš„é€»è¾‘ã€‚</p>
<h4 data-id="heading-19">2. ç©ºä¾èµ–é¡¹æ•°ç»„ <code>[]</code> â†’ ç­‰ä»·äº ç±»ç»„ä»¶ <code>componentDidMount</code></h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åªåœ¨ç»„ä»¶ã€åˆæ¬¡æŒ‚è½½ã€‘æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œæ°¸ä¹…ä¸é‡å¤æ‰§è¡Œ'</span>)
  <span class="hljs-comment">// ã€æœ€å¸¸ç”¨åœºæ™¯ã€‘ï¼šå‘èµ·åˆå§‹åŒ–å¼‚æ­¥è¯·æ±‚ã€å¼€å¯å®šæ—¶å™¨ã€ç»‘å®šå…¨å±€äº‹ä»¶</span>
}, [])
</code></pre>
<p>âœ… æ ¸å¿ƒé«˜é¢‘ç”¨æ³•ï¼š<strong>ç»„ä»¶åŠ è½½å®Œæˆååªè¯·æ±‚ä¸€æ¬¡æ¥å£</strong>ï¼ŒReactå¼€å‘ä¸­80%çš„æ¥å£è¯·æ±‚éƒ½ç”¨è¿™ç§å†™æ³•ï¼</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// åˆå§‹åŒ–è¯·æ±‚æ•°æ®</span>
  <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'æ¥å£åœ°å€'</span>)
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è¯·æ±‚æˆåŠŸ'</span>, data)
    })
}, [])
</code></pre>
<h4 data-id="heading-20">3. ä¾èµ–é¡¹æ•°ç»„å¸¦æŒ‡å®šå˜é‡ <code>[x,y]</code> â†’ ç­‰ä»·äº ç±»ç»„ä»¶ <code>componentDidUpdate</code></h4>
<pre><code class="hljs language-jsx" lang="jsx">
<span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)
<span class="hljs-comment">// ä¾èµ– count å˜é‡</span>
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»„ä»¶åˆæ¬¡åŠ è½½æ‰§è¡Œä¸€æ¬¡ + æ¯æ¬¡ count å˜åŒ–æ—¶æ‰§è¡Œä¸€æ¬¡'</span>)
  <span class="hljs-comment">// åœºæ™¯ï¼šæ ¹æ®æŸä¸ªçŠ¶æ€çš„å˜åŒ–ï¼Œåšå…³è”é€»è¾‘ï¼ˆæ¯”å¦‚ï¼šæœç´¢å…³é”®è¯å˜åŒ–é‡æ–°è¯·æ±‚æ¥å£ï¼‰</span>
}, [count])
</code></pre>
<p>ç²¾å‡†ç›‘å¬æŒ‡å®šçŠ¶æ€ï¼Œåªæœ‰<strong>ä¾èµ–çš„å˜é‡å‘ç”Ÿæ”¹å˜</strong>æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œå‰¯ä½œç”¨é€»è¾‘ï¼Œæ˜¯æ€§èƒ½ä¼˜åŒ–çš„æ ¸å¿ƒå†™æ³•ï¼Œä¹Ÿæ˜¯ç±»ç»„ä»¶ <code>componentDidUpdate</code> çš„ç²¾å‡†å¹³æ›¿ã€‚</p>
<h4 data-id="heading-21">4. useEffect è¿”å›æ¸…ç†å‡½æ•° â†’ ç­‰ä»·äº ç±»ç»„ä»¶ <code>componentWillUnmount</code></h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-comment">// æŒ‚è½½æ—¶ï¼šå¼€å¯å®šæ—¶å™¨</span>
  <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev + <span class="hljs-number">1</span>)
  }, <span class="hljs-number">1000</span>)
  
  <span class="hljs-comment">// å¸è½½æ—¶ï¼šæ‰§è¡Œreturnçš„æ¸…ç†å‡½æ•° â†’ æ¸…é™¤å®šæ—¶å™¨</span>
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-built_in">clearInterval</span>(timer)
  }
}, [])
</code></pre>
<p>âœ… æ ¸å¿ƒè§„åˆ™ï¼š<code>return</code> çš„å›è°ƒå‡½æ•°ï¼Œä¼šåœ¨<strong>ç»„ä»¶å³å°†å¸è½½é”€æ¯å‰</strong> æ‰§è¡Œä¸€æ¬¡ï¼Œä¸“é—¨ç”¨æ¥åšã€Œæ¸…ç†å·¥ä½œã€ï¼Œæ¯”å¦‚æ¸…é™¤å®šæ—¶å™¨ã€è§£ç»‘äº‹ä»¶ç›‘å¬ã€å–æ¶ˆæœªå®Œæˆçš„è¯·æ±‚ï¼Œå’Œç±»ç»„ä»¶ <code>componentWillUnmount</code> åŠŸèƒ½å®Œå…¨ä¸€è‡´ï¼Œä¸”å†™æ³•æ›´ä¼˜é›…ï¼Œ<strong>å‰¯ä½œç”¨å’Œæ¸…ç†é€»è¾‘å†™åœ¨åŒä¸€ä¸ªåœ°æ–¹</strong>ï¼Œä¸ä¼šé—æ¼ã€‚</p>
<hr/>
<h2 data-id="heading-22">äº”ã€ç±»ç»„ä»¶ VS å‡½æ•°ç»„ä»¶+Hooks å®æˆ˜å¯¹æ¯”ï¼ˆæ ¸å¿ƒç²¾åï¼‰</h2>
<h3 data-id="heading-23">âœ… æ ¸å¿ƒç»“è®ºï¼šå†™æ³•å¯¹æ¯”ï¼Œå·®è·ä¸€ç›®äº†ç„¶</h3>
<p>åŒæ ·å®ç°ã€Œè®¡æ•°å™¨+å®šæ—¶å™¨ã€åŠŸèƒ½ï¼Œç±»ç»„ä»¶ï¼Œå‡½æ•°ç»„ä»¶+Hooksï¼Œ<strong>ä»£ç é‡ã€å¯è¯»æ€§ã€ç®€æ´åº¦</strong> å®Œèƒœï¼</p>
<h4 data-id="heading-24">ç±»ç»„ä»¶å®ç°ï¼ˆç¹çã€å†—ä½™ã€æœ‰thisé—®é¢˜ï¼‰</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { <span class="hljs-title class_">Component</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> {
  state = { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> }
  timer = <span class="hljs-literal">null</span>

  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æŒ‚è½½å¼€å¯å®šæ—¶å™¨</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">count</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> })
    }, <span class="hljs-number">1000</span>)
  }

  <span class="hljs-title function_">componentWillUnmount</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å¸è½½æ¸…é™¤å®šæ—¶å™¨</span>
    <span class="hljs-built_in">clearInterval</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>)
  }

  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>{this.state.count}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>
  }
}
</code></pre>
<h4 data-id="heading-25">å‡½æ•°ç»„ä»¶+Hookså®ç°ï¼ˆæç®€ã€ä¼˜é›…ã€æ— å†—ä½™ï¼‰</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)
  
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev + <span class="hljs-number">1</span>)
    }, <span class="hljs-number">1000</span>)
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(timer)
  }, [])

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span>
}
</code></pre>
<h3 data-id="heading-26">âœ… Hooks æ ¸å¿ƒä¼˜åŠ¿ï¼ˆä¸ºä»€ä¹ˆæˆä¸ºä¸»æµï¼Ÿï¼‰</h3>
<ol>
<li>
<p><strong><code>this</code></strong> <strong>å½»åº•æŠ›å¼ƒ å…³é”®å­—</strong>ï¼šç±»ç»„ä»¶çš„æœ€å¤§ç—›ç‚¹å°±æ˜¯<code>this</code> æŒ‡å‘æ··ä¹±ï¼Œéœ€è¦ bindã€ç®­å¤´å‡½æ•°ç­‰æ–¹å¼å¤„ç†ï¼ŒHooks å®Œå…¨è§„é¿ï¼Œä»£ç æ›´å¹²å‡€ã€‚</p>
</li>
<li>
<p><strong>é€»è¾‘æ›´èšåˆ</strong>ï¼šç±»ç»„ä»¶ä¸­ï¼Œä¸€ä¸ªä¸šåŠ¡çš„ã€Œåˆå§‹åŒ–+æ¸…ç†ã€é€»è¾‘ä¼šåˆ†æ•£åœ¨ <code>componentDidMount</code> å’Œ <code>componentWillUnmount</code> ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ï¼ŒHooks ä¸­å†™åœ¨åŒä¸€ä¸ª <code>useEffect</code> é‡Œï¼Œé€»è¾‘é—­ç¯ï¼Œå¯è¯»æ€§æ‹‰æ»¡ã€‚</p>
</li>
<li>
<p><strong>æ— å†—ä½™æ¨¡æ¿ä»£ç </strong>ï¼šæ— éœ€å†™ <code>class</code>ã€<code>constructor</code>ã€<code>render</code>ï¼Œä¸€ä¸ªå‡½æ•°æå®šæ‰€æœ‰é€»è¾‘ï¼Œä»£ç é‡ç›´æ¥å‡å°‘ä¸€åŠä»¥ä¸Šã€‚</p>
</li>
<li>
<p><strong>çŠ¶æ€å¤ç”¨æ›´ç®€å•</strong>ï¼šHooks å¯ä»¥è½»æ¾æŠ½ç¦»å…¬å…±é€»è¾‘ï¼ˆæ¯”å¦‚è¯·æ±‚å°è£…ã€è¡¨å•å¤„ç†ï¼‰ï¼Œå®ç°è·¨ç»„ä»¶å¤ç”¨ï¼Œç±»ç»„ä»¶çš„å¤ç”¨éœ€è¦é«˜é˜¶ç»„ä»¶/HOCï¼Œå†™æ³•ç¹çã€‚</p>
</li>
<li>
<p><strong>å®˜æ–¹ä¸»æ¨æ–¹å‘</strong>ï¼šReact å›¢é˜Ÿæ˜ç¡®è¡¨ç¤ºï¼Œæœªæ¥çš„æ–°ç‰¹æ€§éƒ½ä¼šä¼˜å…ˆæ”¯æŒ Hooksï¼Œç±»ç»„ä»¶ä¸å†æ–°å¢ç‰¹æ€§ï¼Œä»…åšå…¼å®¹ç»´æŠ¤ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-27">å…­ã€å¿…é¿çš„2ä¸ª Hooks å¸¸è§å‘ï¼ˆæ–°æ‰‹å¿…çœ‹ï¼‰</h2>
<h3 data-id="heading-28">å‘1ï¼šç›´æ¥ä¿®æ”¹ useState çš„çŠ¶æ€å€¼ï¼Œä¸è°ƒç”¨æ›´æ–°å‡½æ•°</h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šç›´æ¥ä¿®æ”¹æ•°ç»„/å¯¹è±¡ï¼Œä¸ä¼šè§¦å‘ç»„ä»¶é‡æ–°æ¸²æŸ“</span>
<span class="hljs-keyword">const</span> [list, setList] = <span class="hljs-title function_">useState</span>([])
<span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params"/>) =&gt; {
  list.<span class="hljs-title function_">push</span>(<span class="hljs-string">'test'</span>)
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šå¿…é¡»è°ƒç”¨æ›´æ–°å‡½æ•°ï¼Œè¿”å›æ–°çš„çŠ¶æ€å€¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-title function_">setList</span>([...list, <span class="hljs-string">'test'</span>])
}
</code></pre>
<blockquote>
<p>æ ¸å¿ƒåŸç†ï¼šReact çš„çŠ¶æ€æ˜¯ã€Œä¸å¯å˜çš„ã€ï¼Œåªæœ‰é€šè¿‡æ›´æ–°å‡½æ•°è¿”å›æ–°å€¼ï¼ŒReact æ‰èƒ½æ£€æµ‹åˆ°çŠ¶æ€å˜åŒ–ï¼Œè§¦å‘æ¸²æŸ“ã€‚</p>
</blockquote>
<h3 data-id="heading-29">å‘2ï¼šuseEffect ä¾èµ–é¡¹æ•°ç»„ã€Œæ¼å†™/é”™å†™ã€</h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šä½¿ç”¨äº†countå˜é‡ï¼Œä½†ä¾èµ–é¡¹æ•°ç»„ä¸­æ²¡å†™ï¼Œå¯¼è‡´æ‹¿åˆ°çš„countæ°¸è¿œæ˜¯åˆå§‹å€¼</span>
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>)
  }, <span class="hljs-number">1000</span>)
}, [])

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šè¦ä¹ˆè¡¥å…¨ä¾èµ–é¡¹ï¼Œè¦ä¹ˆç”¨å‡½æ•°å¼æ›´æ–°</span>
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function"><span class="hljs-params">prev</span> =&gt;</span> prev + <span class="hljs-number">1</span>)
  }, <span class="hljs-number">1000</span>)
}, [])
</code></pre>
<hr/>
<h2 data-id="heading-30">ä¸ƒã€æ€»ç»“ï¼ˆç²¾ç‚¼æ ¸å¿ƒï¼Œç›´å‡»é‡ç‚¹ï¼‰</h2>
<h3 data-id="heading-31">1. ç‰ˆæœ¬åˆ†ç•Œæ¸…æ™°</h3>
<ul>
<li>
<p>React16.8 å‰ï¼šç±»ç»„ä»¶æ˜¯å”¯ä¸€èƒ½å†™ã€Œå®Œæ•´åŠŸèƒ½ã€çš„ç»„ä»¶ï¼Œé <code>this.state/setState</code> ç®¡ç†çŠ¶æ€ï¼Œé 3ä¸ªç”Ÿå‘½å‘¨æœŸå¤„ç†å‰¯ä½œç”¨ã€‚</p>
</li>
<li>
<p>React16.8+ï¼šå‡½æ•°ç»„ä»¶ + Hooks æˆä¸ºç»å¯¹ä¸»æµï¼Œç±»ç»„ä»¶èƒ½åšçš„ï¼Œå‡½æ•°ç»„ä»¶éƒ½èƒ½åšï¼Œä¸”åšå¾—æ›´å¥½ã€‚</p>
</li>
</ul>
<h3 data-id="heading-32">2. æ ¸å¿ƒ2ä¸ªHookï¼Œæå®šæ‰€æœ‰å¼€å‘éœ€æ±‚</h3>
<ol>
<li>
<p><strong>useState</strong>ï¼šç»™å‡½æ•°ç»„ä»¶åŠ ã€ŒçŠ¶æ€ã€ï¼Œæ›¿ä»£ç±»ç»„ä»¶çš„ <code>this.state + setState</code>ï¼Œæ—  this çƒ¦æ¼ï¼Œå†™æ³•æç®€ã€‚</p>
</li>
<li>
<p><strong>useEffect</strong>ï¼šç»™å‡½æ•°ç»„ä»¶åŠ ã€Œç”Ÿå‘½å‘¨æœŸ+å‰¯ä½œç”¨ã€ï¼Œä¸€ä¸ªé’©å­é¡¶ç±»ç»„ä»¶3ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œé€»è¾‘èšåˆï¼Œæ˜¯å¼€å‘æ ¸å¿ƒã€‚</p>
</li>
</ol>
<h3 data-id="heading-33">3. ç»ˆæé€‰å‹å»ºè®®</h3>
<ul>
<li>
<p>æ–°é¡¹ç›®å¼€å‘ï¼š<strong>æ— è„‘ç”¨ å‡½æ•°ç»„ä»¶ + Hooks</strong>ï¼Œè¿™æ˜¯Reactçš„æœªæ¥ï¼Œä¹Ÿæ˜¯ä¼ä¸šæ‹›è˜çš„ä¸»æµè¦æ±‚ã€‚</p>
</li>
<li>
<p>ç»´æŠ¤è€é¡¹ç›®ï¼šç±»ç»„ä»¶çš„çŸ¥è¯†è¶³å¤Ÿçœ‹æ‡‚å³å¯ï¼Œæ— éœ€æ–°å¢ç±»ç»„ä»¶ä»£ç ã€‚</p>
</li>
<li>
<p>æ ¸å¿ƒå¿ƒæ³•ï¼š<strong>Hooksçš„æœ¬è´¨æ˜¯ã€Œä¸ºå‡½æ•°ç»„ä»¶èµ‹èƒ½ã€ï¼Œè®©å‡½æ•°ç»„ä»¶æ‹¥æœ‰ç±»ç»„ä»¶çš„æ‰€æœ‰èƒ½åŠ›ï¼ŒåŒæ—¶è§£å†³ç±»ç»„ä»¶çš„ç—›ç‚¹</strong>ã€‚ âœ¨</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Elips-Coreï¼šè½»é‡çº§ Node.js Web æ¡†æ¶æ ¸å¿ƒå®ç°]]></title>    <link>https://juejin.cn/post/7588365276190736422</link>    <guid>https://juejin.cn/post/7588365276190736422</guid>    <pubDate>2025-12-28T09:23:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588365276190736422" data-draft-id="7588109656041816110" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Elips-Coreï¼šè½»é‡çº§ Node.js Web æ¡†æ¶æ ¸å¿ƒå®ç°"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Node.js"/> <meta itemprop="datePublished" content="2025-12-28T09:23:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="404æ˜Ÿçƒçš„çŒ«"/> <meta itemprop="url" content="https://juejin.cn/user/193147068224126"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Elips-Coreï¼šè½»é‡çº§ Node.js Web æ¡†æ¶æ ¸å¿ƒå®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/193147068224126/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    404æ˜Ÿçƒçš„çŒ«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:23:35.000Z" title="Sun Dec 28 2025 09:23:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¦‚è¿°</h2>
<p>Elips-Core æ˜¯ä¸€ä¸ªåŸºäº Koa.js æ„å»ºçš„è½»é‡çº§ Web åº”ç”¨æ¡†æ¶æ ¸å¿ƒæ¨¡å—ã€‚å®ƒé€šè¿‡çº¦å®šä¼˜äºé…ç½®çš„è®¾è®¡ç†å¿µï¼Œæä¾›äº†ä¸€å¥—å®Œæ•´çš„è‡ªåŠ¨åŒ–åŠ è½½æœºåˆ¶ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»ºç»“æ„æ¸…æ™°ã€æ˜“äºç»´æŠ¤çš„ Node.js åº”ç”¨ç¨‹åºã€‚</p>
<h2 data-id="heading-1">æ ¸å¿ƒè®¾è®¡ç†å¿µ</h2>
<p>Elips-Core é‡‡ç”¨äº†ç°ä»£ Web æ¡†æ¶çš„å…¸å‹è®¾è®¡æ¨¡å¼ï¼š</p>
<ol>
<li><strong>çº¦å®šä¼˜äºé…ç½®</strong>ï¼šé€šè¿‡é¢„å®šä¹‰çš„ç›®å½•ç»“æ„å’Œå‘½åè§„èŒƒï¼Œè‡ªåŠ¨åŠ è½½åº”ç”¨ç»„ä»¶</li>
<li><strong>æ¨¡å—åŒ–æ¶æ„</strong>ï¼šå°†åº”ç”¨åŠŸèƒ½åˆ’åˆ†ä¸ºç‹¬ç«‹çš„æ¨¡å—ï¼ˆControllerã€Serviceã€Middleware ç­‰ï¼‰</li>
<li><strong>åˆ†å±‚è®¾è®¡</strong>ï¼šæ¸…æ™°çš„ä¸šåŠ¡é€»è¾‘åˆ†å±‚ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§</li>
<li><strong>è‡ªåŠ¨åŒ–åŠ è½½</strong>ï¼šé€šè¿‡ Loader æœºåˆ¶è‡ªåŠ¨æ‰«æå¹¶æ³¨å†Œåº”ç”¨ç»„ä»¶</li>
</ol>
<h2 data-id="heading-2">æ¶æ„ç»„æˆ</h2>
<h3 data-id="heading-3">1. æ ¸å¿ƒå…¥å£ (<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">index.js</a>)</h3>
<p>æ¡†æ¶çš„å¯åŠ¨å…¥å£ï¼Œè´Ÿè´£æ•´ä¸ªåº”ç”¨çš„åˆå§‹åŒ–æµç¨‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»º Koa å®ä¾‹</span>
<span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Koa</span>()

<span class="hljs-comment">// åˆå§‹åŒ–åº”ç”¨é…ç½®</span>
app.<span class="hljs-property">baseDir</span> = process.<span class="hljs-title function_">cwd</span>()          <span class="hljs-comment">// é¡¹ç›®æ ¹ç›®å½•</span>
app.<span class="hljs-property">bussinessPath</span> = <span class="hljs-string">'./app'</span>           <span class="hljs-comment">// ä¸šåŠ¡ä»£ç ç›®å½•</span>
app.<span class="hljs-property">env</span> = <span class="hljs-title function_">env</span>()                       <span class="hljs-comment">// ç¯å¢ƒé…ç½®</span>
</code></pre>
<p><strong>å¯åŠ¨æµç¨‹</strong>ï¼š</p>
<ol>
<li>åˆ›å»º Koa åº”ç”¨å®ä¾‹</li>
<li>è®¾ç½®åŸºç¡€è·¯å¾„å’Œç¯å¢ƒé…ç½®</li>
<li>ä¾æ¬¡æ‰§è¡Œå„ä¸ª Loader åŠ è½½åº”ç”¨ç»„ä»¶</li>
<li>æ³¨å†Œå…¨å±€ä¸­é—´ä»¶</li>
<li>å¯åŠ¨ HTTP æœåŠ¡</li>
</ol>
<h3 data-id="heading-4">2. ç¯å¢ƒé…ç½®ç®¡ç† (<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">env.js</a>)</h3>
<p>æä¾›ç»Ÿä¸€çš„ç¯å¢ƒåˆ¤æ–­æ¥å£ï¼Œæ”¯æŒå¤šç¯å¢ƒéƒ¨ç½²ï¼š</p>
<ul>
<li><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">isLocal()</a> - åˆ¤æ–­æ˜¯å¦ä¸ºæœ¬åœ°å¼€å‘ç¯å¢ƒ</li>
<li><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">isBeta()</a> - åˆ¤æ–­æ˜¯å¦ä¸ºæµ‹è¯•ç¯å¢ƒ</li>
<li><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">isProd()</a> - åˆ¤æ–­æ˜¯å¦ä¸ºç”Ÿäº§ç¯å¢ƒ</li>
<li><a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">get()</a> - è·å–å½“å‰ç¯å¢ƒåç§°</li>
</ul>
<p>ç¯å¢ƒé…ç½®é€šè¿‡ <code>process.env._ENV</code> ç¯å¢ƒå˜é‡æ§åˆ¶ï¼Œé»˜è®¤ä¸º <code>local</code>ã€‚</p>
<h3 data-id="heading-5">3. é…ç½®åŠ è½½å™¨ (<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">loader/config.js</a>)</h3>
<p>å®ç°å¤šç¯å¢ƒé…ç½®ç®¡ç†ç­–ç•¥ï¼š</p>
<p><strong>é…ç½®æ–‡ä»¶ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">config/
  â”œâ”€â”€ config.<span class="hljs-keyword">default</span>.js  # é»˜è®¤é…ç½®ï¼ˆæ‰€æœ‰ç¯å¢ƒå…±äº«ï¼‰
  â”œâ”€â”€ config.local.js    # æœ¬åœ°å¼€å‘é…ç½®
  â”œâ”€â”€ config.beta.js     # æµ‹è¯•ç¯å¢ƒé…ç½®
  â””â”€â”€ config.prod.js     # ç”Ÿäº§ç¯å¢ƒé…ç½®
</code></pre>
<p><strong>åŠ è½½ç­–ç•¥</strong>ï¼š</p>
<ol>
<li>é¦–å…ˆåŠ è½½ <code>config.default.js</code> ä½œä¸ºåŸºç¡€é…ç½®</li>
<li>æ ¹æ®å½“å‰ç¯å¢ƒåŠ è½½å¯¹åº”çš„ç¯å¢ƒé…ç½®æ–‡ä»¶</li>
<li>ç¯å¢ƒé…ç½®è¦†ç›–é»˜è®¤é…ç½®ï¼Œåˆå¹¶åæŒ‚è½½åˆ° <code>app.config</code></li>
</ol>
<p>è¿™ç§è®¾è®¡å…è®¸å¼€å‘è€…å°†é€šç”¨é…ç½®é›†ä¸­ç®¡ç†ï¼ŒåŒæ—¶ä¸ºä¸åŒç¯å¢ƒæä¾›å®šåˆ¶åŒ–é…ç½®ã€‚</p>
<h3 data-id="heading-6">4. ä¸­é—´ä»¶åŠ è½½å™¨ (<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">loader/middleware.js</a>)</h3>
<p>è‡ªåŠ¨æ‰«æå¹¶åŠ è½½è‡ªå®šä¹‰ä¸­é—´ä»¶ï¼š</p>
<p><strong>ç›®å½•ç»“æ„ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">app/middleware/
  â”œâ”€â”€ auth/
  â”‚   â””â”€â”€ jwt-auth.js
  â””â”€â”€ logger/
      â””â”€â”€ access-logger.js
</code></pre>
<p><strong>è®¿é—®æ–¹å¼</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">app.<span class="hljs-property">middlewares</span>.<span class="hljs-property">auth</span>.<span class="hljs-property">jwtAuth</span>      <span class="hljs-comment">// jwt-auth.js</span>
app.<span class="hljs-property">middlewares</span>.<span class="hljs-property">logger</span>.<span class="hljs-property">accessLogger</span>  <span class="hljs-comment">// access-logger.js</span>
</code></pre>
<p><strong>ç‰¹æ€§</strong>ï¼š</p>
<ul>
<li>æ”¯æŒå¤šçº§ç›®å½•ç»„ç»‡</li>
<li>è‡ªåŠ¨å°†è¿å­—ç¬¦å‘½åè½¬æ¢ä¸ºé©¼å³°å¼ï¼ˆkebab-case â†’ camelCaseï¼‰</li>
<li>ä¸­é—´ä»¶å‡½æ•°æ¥æ”¶ <code>app</code> å®ä¾‹ä½œä¸ºå‚æ•°</li>
</ul>
<h3 data-id="heading-7">5. Controller åŠ è½½å™¨ (<a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">loader/controller.js</a>)</h3>
<p>è´Ÿè´£åŠ è½½æ‰€æœ‰ä¸šåŠ¡æ§åˆ¶å™¨ï¼š</p>
<p><strong>å·¥ä½œæµç¨‹</strong>ï¼š</p>
<ol>
<li>æ‰«æ <code>app/controller</code> ç›®å½•ä¸‹çš„æ‰€æœ‰ <code>.js</code> æ–‡ä»¶</li>
<li>æ ¹æ®æ–‡ä»¶è·¯å¾„åˆ›å»ºå±‚çº§å‘½åç©ºé—´</li>
<li>å®ä¾‹åŒ– Controller ç±»å¹¶æŒ‚è½½åˆ° <code>app.controller</code></li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">app<span class="hljs-operator">/</span>controller<span class="hljs-operator">/</span>
  â””â”€â”€ <span class="hljs-keyword">user</span><span class="hljs-operator">/</span>
      â””â”€â”€ <span class="hljs-keyword">user</span><span class="hljs-operator">-</span>info.js  â†’ app.controller.user.userInfo
</code></pre>
<p>Controller é€šå¸¸å®ç°å…·ä½“çš„ä¸šåŠ¡é€»è¾‘å¤„ç†ï¼Œæ¥æ”¶è¯·æ±‚å¹¶è¿”å›å“åº”ã€‚</p>
<h3 data-id="heading-8">6. Service åŠ è½½å™¨ (<code>loader/service.js</code>)</h3>
<p>åŠ è½½ä¸šåŠ¡é€»è¾‘æœåŠ¡å±‚ï¼š</p>
<p><strong>è®¾è®¡ç›®çš„</strong>ï¼š</p>
<ul>
<li>å°†å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ä» Controller ä¸­åˆ†ç¦»</li>
<li>æä¾›å¯å¤ç”¨çš„ä¸šåŠ¡åŠŸèƒ½æ¨¡å—</li>
<li>ä¾¿äºå•å…ƒæµ‹è¯•å’Œç»´æŠ¤</li>
</ul>
<p><strong>åŠ è½½æœºåˆ¶</strong>ï¼š
ä¸ Controller åŠ è½½å™¨ç±»ä¼¼ï¼Œè‡ªåŠ¨æ‰«æ <code>app/service</code> ç›®å½•ï¼Œæ”¯æŒå¤šçº§ç›®å½•ç»“æ„ï¼ŒæŒ‚è½½åˆ° <code>app.service</code>ã€‚</p>
<h3 data-id="heading-9">7. è·¯ç”±åŠ è½½å™¨ (<code>loader/router.js</code>)</h3>
<p>ç»Ÿä¸€ç®¡ç†åº”ç”¨è·¯ç”±ï¼š</p>
<p><strong>æ ¸å¿ƒåŠŸèƒ½</strong>ï¼š</p>
<ol>
<li>åˆ›å»º KoaRouter å®ä¾‹</li>
<li>æ‰«æ <code>app/router</code> ç›®å½•ä¸‹çš„æ‰€æœ‰è·¯ç”±æ–‡ä»¶</li>
<li>æ‰§è¡Œè·¯ç”±æ–‡ä»¶ï¼Œä¼ å…¥ <code>app</code> å’Œ <code>router</code> å®ä¾‹</li>
<li>æ·»åŠ å…œåº•è·¯ç”±ï¼ˆ404 å¤„ç†ï¼‰</li>
<li>å°†è·¯ç”±æ³¨å†Œåˆ° Koa åº”ç”¨</li>
</ol>
<p><strong>å…œåº•æœºåˆ¶</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">router.<span class="hljs-title function_">get</span>(<span class="hljs-string">'*'</span>, <span class="hljs-keyword">async</span> (ctx, next) =&gt; {
  ctx.<span class="hljs-property">status</span> = <span class="hljs-number">302</span>
  ctx.<span class="hljs-title function_">redirect</span>(app?.<span class="hljs-property">options</span>?.<span class="hljs-property">homePage</span> ?? <span class="hljs-string">'/'</span>)
})
</code></pre>
<p>å¯¹äºæœªåŒ¹é…çš„è·¯ç”±ï¼Œè‡ªåŠ¨é‡å®šå‘åˆ°é¦–é¡µï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</p>
<h3 data-id="heading-10">8. è·¯ç”±éªŒè¯åŠ è½½å™¨ (<code>loader/router-schema.js</code>)</h3>
<p>é›†æˆ JSON Schema å’Œ AJV è¿›è¡Œ API å‚æ•°æ ¡éªŒï¼š</p>
<p><strong>åŠŸèƒ½è¯´æ˜</strong>ï¼š</p>
<ul>
<li>åŠ è½½ <code>app/router-schema</code> ç›®å½•ä¸‹çš„æ‰€æœ‰ schema å®šä¹‰</li>
<li>å°†æ‰€æœ‰ schema åˆå¹¶åˆ° <code>app.routerSchema</code> å¯¹è±¡</li>
<li>é…åˆä¸­é—´ä»¶å®ç°è‡ªåŠ¨åŒ–å‚æ•°éªŒè¯</li>
</ul>
<p><strong>åº”ç”¨åœºæ™¯</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// router-schema/user.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-string">'/api/user/create'</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'object'</span>,
    <span class="hljs-attr">properties</span>: {
      <span class="hljs-attr">username</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span> },
      <span class="hljs-attr">email</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">'string'</span>, <span class="hljs-attr">format</span>: <span class="hljs-string">'email'</span> }
    },
    <span class="hljs-attr">required</span>: [<span class="hljs-string">'username'</span>, <span class="hljs-string">'email'</span>]
  }
}
</code></pre>
<p>é€šè¿‡å£°æ˜å¼çš„æ–¹å¼å®šä¹‰ API æ¥å£çº¦æŸï¼Œæé«˜æ¥å£çš„å¥å£®æ€§ã€‚</p>
<h3 data-id="heading-11">9. æ‰©å±•åŠŸèƒ½åŠ è½½å™¨ (<code>loader/extend.js</code>)</h3>
<p>æä¾›æ¡†æ¶æ‰©å±•èƒ½åŠ›ï¼š</p>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>æ‰«æ <code>app/extend</code> ç›®å½•ä¸‹çš„æ‰©å±•æ¨¡å—</li>
<li>å°†æ‰©å±•ç›´æ¥æŒ‚è½½åˆ° <code>app</code> å¯¹è±¡ä¸Šï¼ˆè€ŒéæŒ‚è½½åˆ° <code>app.extend</code>ï¼‰</li>
<li>æ”¯æŒé˜²å†²çªæ£€æŸ¥ï¼Œé¿å…è¦†ç›–å·²æœ‰å±æ€§</li>
</ul>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// app/extend/helper.js</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-function">(<span class="hljs-params">app</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> {
    <span class="hljs-title function_">formatDate</span>(<span class="hljs-params">date</span>) {
      <span class="hljs-comment">// æ—¥æœŸæ ¼å¼åŒ–é€»è¾‘</span>
    }
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
app.<span class="hljs-property">helper</span>.<span class="hljs-title function_">formatDate</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>())
</code></pre>
<p>è¿™ç§è®¾è®¡å…è®¸å¼€å‘è€…æ ¹æ®ä¸šåŠ¡éœ€æ±‚æ‰©å±•æ¡†æ¶åŠŸèƒ½ï¼Œè€Œæ— éœ€ä¿®æ”¹æ ¸å¿ƒä»£ç ã€‚</p>
<h2 data-id="heading-12">åŠ è½½é¡ºåºè®¾è®¡</h2>
<p>æ¡†æ¶çš„åŠ è½½é¡ºåºç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œç¡®ä¿ä¾èµ–å…³ç³»æ­£ç¡®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">1. middlewareLoader     <span class="hljs-comment"># åŠ è½½ä¸­é—´ä»¶ï¼ˆä¾›åç»­ä½¿ç”¨ï¼‰</span>
2. routerSchemaLoader   <span class="hljs-comment"># åŠ è½½è·¯ç”±éªŒè¯è§„åˆ™</span>
3. controllerLoader     <span class="hljs-comment"># åŠ è½½æ§åˆ¶å™¨</span>
4. serviceLoader        <span class="hljs-comment"># åŠ è½½æœåŠ¡å±‚</span>
5. configLoader         <span class="hljs-comment"># åŠ è½½é…ç½®æ–‡ä»¶</span>
6. extendLoader         <span class="hljs-comment"># åŠ è½½æ‰©å±•åŠŸèƒ½</span>
7. å…¨å±€ä¸­é—´ä»¶æ³¨å†Œ       <span class="hljs-comment"># æ³¨å†Œå…¨å±€ä¸­é—´ä»¶</span>
8. routerLoader         <span class="hljs-comment"># æœ€ååŠ è½½è·¯ç”±ï¼ˆä¾èµ–ä¸Šè¿°æ‰€æœ‰ç»„ä»¶ï¼‰</span>
</code></pre>
<p>è¿™ç§é¡ºåºç¡®ä¿äº†ï¼š</p>
<ul>
<li>Controller å¯ä»¥ä½¿ç”¨ Service</li>
<li>Router å¯ä»¥ä½¿ç”¨ Controller å’Œ Middleware</li>
<li>æ‰€æœ‰ç»„ä»¶éƒ½å¯ä»¥è®¿é—® Config</li>
</ul>
<h2 data-id="heading-13">å‘½åçº¦å®š</h2>
<p>æ¡†æ¶ç»Ÿä¸€é‡‡ç”¨ä»¥ä¸‹å‘½åè½¬æ¢è§„åˆ™ï¼š</p>
<ul>
<li><strong>æ–‡ä»¶å‘½å</strong>ï¼š<code>kebab-case</code>ï¼ˆçŸ­æ¨ªçº¿åˆ†éš”ï¼‰
<ul>
<li>ä¾‹å¦‚ï¼š<code>user-info.js</code>ã€<code>auth-middleware.js</code></li>
</ul>
</li>
<li><strong>ä»£ç è®¿é—®</strong>ï¼š<code>camelCase</code>ï¼ˆé©¼å³°å‘½åï¼‰
<ul>
<li>ä¾‹å¦‚ï¼š<code>app.controller.userInfo</code>ã€<code>app.middlewares.authMiddleware</code></li>
</ul>
</li>
</ul>
<p><strong>è½¬æ¢é€»è¾‘</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£åˆ™æ›¿æ¢ï¼šå°† -x æˆ– _x è½¬æ¢ä¸ºå¤§å†™ X</span>
name.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[_-][a-z]/ig</span>, <span class="hljs-function">(<span class="hljs-params">s</span>) =&gt;</span> s.<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">toUpperCase</span>())
</code></pre>
<p>è¿™ç§çº¦å®šä½¿å¾—æ–‡ä»¶å‘½åç¬¦åˆ Unix é£æ ¼ï¼Œè€Œä»£ç è®¿é—®ç¬¦åˆ JavaScript è§„èŒƒã€‚</p>
<h2 data-id="heading-14">æŠ€æœ¯äº®ç‚¹</h2>
<h3 data-id="heading-15">1. è‡ªåŠ¨åŒ–åŠ è½½</h3>
<p>é€šè¿‡ <code>glob</code> æ¨¡å—å®ç°æ–‡ä»¶ç³»ç»Ÿæ‰«æï¼Œè‡ªåŠ¨å‘ç°å’ŒåŠ è½½åº”ç”¨ç»„ä»¶ï¼Œå‡å°‘æ‰‹åŠ¨é…ç½®å·¥ä½œã€‚</p>
<h3 data-id="heading-16">2. è·¨å¹³å°å…¼å®¹</h3>
<p>ä½¿ç”¨ <code>path.sep</code> å¤„ç†è·¯å¾„åˆ†éš”ç¬¦ï¼Œç¡®ä¿ä»£ç åœ¨ Windowsã€Linuxã€macOS ç­‰ä¸åŒæ“ä½œç³»ç»Ÿä¸Šæ­£å¸¸è¿è¡Œã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { sep } = path  <span class="hljs-comment">// Windows: '\' , Unix: '/'</span>
<span class="hljs-keyword">const</span> middlewarePath = path.<span class="hljs-title function_">resolve</span>(app.<span class="hljs-property">bussinessPath</span>, <span class="hljs-string">`.<span class="hljs-subst">${sep}</span>middleware`</span>)
</code></pre>
<h3 data-id="heading-17">3. å®¹é”™å¤„ç†</h3>
<p>åœ¨å…³é”®åŠ è½½ç¯èŠ‚æ·»åŠ äº†å¼‚å¸¸æ•è·ï¼Œæä¾›å‹å¥½çš„é”™è¯¯æç¤ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">try</span> {
  defaultConfig = <span class="hljs-built_in">require</span>(path.<span class="hljs-title function_">resolve</span>(configPath, <span class="hljs-string">'./config.default.js'</span>))
} <span class="hljs-keyword">catch</span> (e) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'[exception] failed to load default.config file:'</span>, e.<span class="hljs-property">message</span>)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'Error details:'</span>, e.<span class="hljs-property">stack</span>)
}
</code></pre>
<p>å³ä½¿æŸäº›é…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåº”ç”¨ä¹Ÿèƒ½ç»§ç»­å¯åŠ¨ã€‚</p>
<h3 data-id="heading-18">4. çµæ´»å¯æ‰©å±•</h3>
<p>é€šè¿‡ Loader æœºåˆ¶å’Œ Extend åŠŸèƒ½ï¼Œæ¡†æ¶æä¾›äº†è‰¯å¥½çš„æ‰©å±•æ€§ï¼Œå¼€å‘è€…å¯ä»¥ï¼š</p>
<ul>
<li>è‡ªå®šä¹‰ä¸­é—´ä»¶</li>
<li>æ‰©å±•æ¡†æ¶åŠŸèƒ½</li>
<li>å®šåˆ¶ä¸šåŠ¡ç»„ä»¶</li>
</ul>
<h2 data-id="heading-19">åº”ç”¨åœºæ™¯</h2>
<p>Elips-Core é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<ol>
<li><strong>å¿«é€ŸåŸå‹å¼€å‘</strong>ï¼šçº¦å®šå¼çš„ç›®å½•ç»“æ„åŠ å¿«å¼€å‘é€Ÿåº¦</li>
<li><strong>ä¸­å°å‹ Web åº”ç”¨</strong>ï¼šè½»é‡çº§è®¾è®¡ï¼Œæ€§èƒ½å¼€é”€å°</li>
<li><strong>API æœåŠ¡</strong>ï¼šå†…ç½®è·¯ç”±éªŒè¯å’Œåˆ†å±‚æ¶æ„ï¼Œé€‚åˆæ„å»º RESTful API</li>
<li><strong>å­¦ä¹ æ¡†æ¶è®¾è®¡</strong>ï¼šä»£ç ç®€æ´æ¸…æ™°ï¼Œæ˜¯å­¦ä¹  Node.js æ¡†æ¶è®¾è®¡çš„è‰¯å¥½èŒƒä¾‹</li>
</ol>
<h2 data-id="heading-20">ä¸ä¸»æµæ¡†æ¶å¯¹æ¯”</h2>
<h3 data-id="heading-21">vs Egg.js</h3>
<p>Elips-Core çš„è®¾è®¡ç†å¿µä¸é˜¿é‡Œçš„ Egg.js ç›¸ä¼¼ï¼Œéƒ½é‡‡ç”¨ï¼š</p>
<ul>
<li>çº¦å®šä¼˜äºé…ç½®</li>
<li>Loader åŠ è½½æœºåˆ¶</li>
<li>å¤šç¯å¢ƒé…ç½®ç®¡ç†</li>
</ul>
<p>ä½† Elips-Core æ›´åŠ è½»é‡ï¼Œé€‚åˆå°å‹é¡¹ç›®æˆ–å­¦ä¹ ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-22">vs Koa</h3>
<p>ç›¸æ¯”åŸç”Ÿ Koaï¼ŒElips-Core æä¾›äº†ï¼š</p>
<ul>
<li>å®Œæ•´çš„é¡¹ç›®ç»“æ„è§„èŒƒ</li>
<li>è‡ªåŠ¨åŒ–ç»„ä»¶åŠ è½½</li>
<li>å¼€ç®±å³ç”¨çš„åˆ†å±‚æ¶æ„</li>
</ul>
<p>é™ä½äº†é¡¹ç›®åˆå§‹åŒ–å’Œè§„èŒƒåˆ¶å®šçš„æˆæœ¬ã€‚</p>
<h2 data-id="heading-23">æœ€ä½³å®è·µå»ºè®®</h2>
<ol>
<li><strong>éµå¾ªç›®å½•çº¦å®š</strong>ï¼šæŒ‰ç…§æ¡†æ¶è§„å®šçš„ç›®å½•ç»“æ„ç»„ç»‡ä»£ç </li>
<li><strong>åˆç†åˆ†å±‚</strong>ï¼š
<ul>
<li>Controller å¤„ç†è¯·æ±‚å“åº”</li>
<li>Service å°è£…ä¸šåŠ¡é€»è¾‘</li>
<li>Middleware å¤„ç†é€šç”¨é€»è¾‘</li>
</ul>
</li>
<li><strong>å–„ç”¨é…ç½®ç®¡ç†</strong>ï¼šå°†ç¯å¢ƒç›¸å…³çš„é…ç½®æŠ½ç¦»åˆ°é…ç½®æ–‡ä»¶</li>
<li><strong>ä½¿ç”¨è·¯ç”±éªŒè¯</strong>ï¼šé€šè¿‡ JSON Schema ç¡®ä¿ API è¾“å…¥åˆæ³•æ€§</li>
<li><strong>æ‰©å±•è€Œéä¿®æ”¹</strong>ï¼šé€šè¿‡ Extend æœºåˆ¶æ‰©å±•åŠŸèƒ½ï¼Œé¿å…ä¿®æ”¹æ ¸å¿ƒä»£ç </li>
</ol>
<h2 data-id="heading-24">æ€»ç»“</h2>
<p>Elips-Core æ˜¯ä¸€ä¸ªè®¾è®¡ç²¾å·§çš„è½»é‡çº§ Web æ¡†æ¶æ ¸å¿ƒï¼Œå®ƒé€šè¿‡è‡ªåŠ¨åŒ–çš„ Loader æœºåˆ¶å’Œçº¦å®šå¼çš„ç›®å½•ç»“æ„ï¼Œå¤§å¹…ç®€åŒ–äº† Koa åº”ç”¨çš„å¼€å‘æµç¨‹ã€‚å…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºï¼š</p>
<ul>
<li>âœ… <strong>é›¶é…ç½®å¯åŠ¨</strong>ï¼šéµå¾ªçº¦å®šå³å¯è‡ªåŠ¨åŠ è½½ç»„ä»¶</li>
<li>âœ… <strong>æ¸…æ™°çš„åˆ†å±‚æ¶æ„</strong>ï¼šController-Service-Middleware æ¨¡å¼</li>
<li>âœ… <strong>å¤šç¯å¢ƒæ”¯æŒ</strong>ï¼šçµæ´»çš„é…ç½®ç®¡ç†æœºåˆ¶</li>
<li>âœ… <strong>è‰¯å¥½çš„æ‰©å±•æ€§</strong>ï¼šLoader å’Œ Extend æœºåˆ¶</li>
<li>âœ… <strong>è·¨å¹³å°å…¼å®¹</strong>ï¼šä»£ç å¯åœ¨ä¸åŒæ“ä½œç³»ç»Ÿè¿è¡Œ</li>
</ul>
<p>å¯¹äº Node.js å¼€å‘è€…è€Œè¨€ï¼ŒElips-Core æ—¢å¯ä»¥ä½œä¸ºç”Ÿäº§å·¥å…·å¿«é€Ÿæ­å»ºåº”ç”¨ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå­¦ä¹ èµ„æ–™æ·±å…¥ç†è§£æ¡†æ¶è®¾è®¡æ¨¡å¼ã€‚å®ƒå±•ç¤ºäº†å¦‚ä½•é€šè¿‡ç®€æ´çš„ä»£ç å®ç°å¼ºå¤§çš„åŠŸèƒ½ï¼Œä½“ç°äº†"ç®€çº¦è€Œä¸ç®€å•"çš„å·¥ç¨‹å“²å­¦ã€‚</p>
<h2 data-id="heading-25">å‚è€ƒèµ„æº</h2>
<ul>
<li>
<p><strong>æ ¸å¿ƒä¾èµ–</strong>ï¼š</p>
<ul>
<li><code>koa</code> - Web æ¡†æ¶åŸºç¡€</li>
<li><code>koa-router</code> - è·¯ç”±ç®¡ç†</li>
<li><code>glob</code> - æ–‡ä»¶æ‰«æ</li>
<li><code>ajv</code> - JSON Schema éªŒè¯ï¼ˆé…åˆä½¿ç”¨ï¼‰</li>
</ul>
</li>
<li>
<p><strong>æ¨èé˜…è¯»</strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fkoajs.com%2F" target="_blank" title="https://koajs.com/" ref="nofollow noopener noreferrer">Koa å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Feggjs.org%2Fzh-cn%2Fintro%2Fegg-and-koa.html" target="_blank" title="https://eggjs.org/zh-cn/intro/egg-and-koa.html" ref="nofollow noopener noreferrer">Egg.js æ¡†æ¶è®¾è®¡</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fjson-schema.org%2F" target="_blank" title="https://json-schema.org/" ref="nofollow noopener noreferrer">JSON Schema è§„èŒƒ</a></li>
</ul>
</li>
</ul>
<hr/>
<p><em>æœ¬æ–‡åŸºäº Elips-Core æ¡†æ¶æºç åˆ†ææ’°å†™ï¼Œé€‚ç”¨äºäº†è§£ Node.js Web æ¡†æ¶è®¾è®¡åŸç†çš„å¼€å‘è€…ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤šæ ‡ç­¾é¡µå®æ—¶æ¶ˆæ¯åŒæ­¥ SSE+broadcastChannel]]></title>    <link>https://juejin.cn/post/7588355695100854281</link>    <guid>https://juejin.cn/post/7588355695100854281</guid>    <pubDate>2025-12-28T09:32:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588355695100854281" data-draft-id="7454960025036750899" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤šæ ‡ç­¾é¡µå®æ—¶æ¶ˆæ¯åŒæ­¥ SSE+broadcastChannel"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-28T09:32:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Focus_"/> <meta itemprop="url" content="https://juejin.cn/user/1556564198317448"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤šæ ‡ç­¾é¡µå®æ—¶æ¶ˆæ¯åŒæ­¥ SSE+broadcastChannel
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1556564198317448/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Focus_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:32:01.000Z" title="Sun Dec 28 2025 09:32:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å¤šæ ‡ç­¾é¡µå®æ—¶æ¶ˆæ¯åŒæ­¥æ–¹æ¡ˆï¼šSSE + BroadcastChannel å®Œç¾è§£å†³ï¼</h2>
<blockquote>
<p>ä½ æ˜¯å¦é‡åˆ°è¿‡è¿™æ ·çš„é—®é¢˜ï¼š
ç”¨æˆ·åŒæ—¶æ‰“å¼€å¤šä¸ªæ ‡ç­¾é¡µï¼Œæ¯ä¸ªæ ‡ç­¾é¡µéƒ½å»ºç«‹äº†ç‹¬ç«‹çš„ WebSocket æˆ– SSE è¿æ¥ï¼Œå¯¼è‡´æœåŠ¡å™¨å‹åŠ›å¤§ã€æ¶ˆæ¯é‡å¤æ¨é€ã€èµ„æºæµªè´¹ï¼Ÿæœ¬æ–‡å°†åˆ†äº«ä¸€ä¸ªä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡ SSE + BroadcastChannel çš„ç»„åˆï¼Œå®ç°å•è¿æ¥ã€å¤šæ ‡ç­¾é¡µå®æ—¶æ¶ˆæ¯åŒæ­¥ï¼Œæ—¢èŠ‚çœèµ„æºåˆæå‡ç”¨æˆ·ä½“éªŒã€‚</p>
</blockquote>
<h4 data-id="heading-1">é€‚ç”¨åœºæ™¯</h4>
<p><strong>æ¨èä½¿ç”¨</strong>ï¼š</p>
<ul>
<li><strong>å®æ—¶æ¶ˆæ¯æ¨é€</strong>ï¼šç³»ç»Ÿé€šçŸ¥ã€ç”¨æˆ·æ¶ˆæ¯ã€ä¸šåŠ¡æé†’ç­‰</li>
<li><strong>æ•°æ®åŒæ­¥</strong>ï¼šå¤šæ ‡ç­¾é¡µçŠ¶æ€åŒæ­¥ã€è´­ç‰©è½¦åŒæ­¥ã€è¡¨å•æ•°æ®åŒæ­¥</li>
<li><strong>ä»»åŠ¡çŠ¶æ€æ›´æ–°</strong>ï¼šåå°ä»»åŠ¡è¿›åº¦ã€æ•°æ®å¤„ç†çŠ¶æ€ã€å¯¼å‡ºä»»åŠ¡å®Œæˆé€šçŸ¥</li>
<li><strong>ç³»ç»Ÿå…¬å‘Š</strong>ï¼šå…¨å±€æ¶ˆæ¯å¹¿æ’­ã€ç³»ç»Ÿç»´æŠ¤é€šçŸ¥ã€ç‰ˆæœ¬æ›´æ–°æç¤º</li>
</ul>
<p><strong>å®é™…æ¡ˆä¾‹</strong>ï¼š</p>
<p>åœ¨æˆ‘ä»¬çš„ BI ç³»ç»Ÿä¸­ï¼Œè¯¥æ–¹æ¡ˆæˆåŠŸåº”ç”¨äºï¼š</p>
<ul>
<li>æ¶ˆæ¯ä¸­å¿ƒï¼šå®æ—¶æ¨é€ç³»ç»Ÿæ¶ˆæ¯å’Œä¸šåŠ¡é€šçŸ¥</li>
<li>ä»»åŠ¡ç®¡ç†ï¼šåå°æ•°æ®å¤„ç†ä»»åŠ¡çš„çŠ¶æ€æ›´æ–°å’Œå®Œæˆé€šçŸ¥ï¼ˆå¦‚ç´ ææ‰¹é‡ä¸Šä¼ ä»»åŠ¡ï¼‰</li>
<li>å›½é™…åŒ–åŒæ­¥ï¼šå¤šè¯­è¨€é…ç½®çš„å®æ—¶æ›´æ–°</li>
</ul>
<p><strong>ä¸æ¨èä½¿ç”¨</strong>ï¼š</p>
<ul>
<li><strong>é«˜é¢‘åŒå‘é€šä¿¡</strong>ï¼šå¦‚å®æ—¶èŠå¤©ã€æ¸¸æˆç­‰ï¼Œå»ºè®®ä½¿ç”¨ WebSocket</li>
<li><strong>å¤§é‡æ•°æ®ä¼ è¾“</strong>ï¼šå¦‚æ–‡ä»¶ä¼ è¾“ã€å¤§æ•°æ®åŒæ­¥ï¼Œå»ºè®®ä½¿ç”¨ HTTP è½®è¯¢æˆ–åˆ†é¡µ</li>
<li><strong>è·¨åŸŸé€šä¿¡</strong>ï¼šéœ€è¦ä½¿ç”¨ postMessage æˆ–å…¶ä»–è·¨åŸŸæ–¹æ¡ˆ</li>
</ul>
<h3 data-id="heading-2">å‰è¨€</h3>
<blockquote>
<p>å¦‚æœæƒ³å¿«é€Ÿå‚è€ƒå®ç°å¯ç›´æ¥è·³è½¬åˆ°ï¼šç›®å½•-å®ç°æ–¹æ¡ˆğŸ‘‡</p>
</blockquote>
<h4 data-id="heading-3">åˆè¡·</h4>
<p>åœ¨ç°ä»£ Web åº”ç”¨ä¸­ï¼Œå®æ—¶æ¶ˆæ¯æ¨é€ã€ä»»åŠ¡çŠ¶æ€æ›´æ–°ç­‰æ˜¯å¸¸è§çš„éœ€æ±‚ã€‚ç„¶è€Œï¼Œå½“ç”¨æˆ·åŒæ—¶æ‰“å¼€å¤šä¸ªæ ‡ç­¾é¡µæ—¶ï¼Œå¦‚ä½•ç¡®ä¿æ¶ˆæ¯èƒ½å¤Ÿæ­£ç¡®åŒæ­¥åˆ°æ‰€æœ‰æ ‡ç­¾é¡µï¼ŒåŒæ—¶é¿å…é‡å¤è¿æ¥å’Œèµ„æºæµªè´¹ï¼Œæ˜¯ä¸€ä¸ªå€¼å¾—æ·±å…¥æ¢è®¨çš„æŠ€æœ¯é—®é¢˜ã€‚</p>
<p>æœ¬æ–‡åŸºäºå®é™…é¡¹ç›®ç»éªŒï¼Œåˆ†äº«å¦‚ä½•é€šè¿‡ <strong>SSEï¼ˆServer-Sent Eventsï¼‰</strong> å’Œ <strong>BroadcastChannel API</strong> çš„ç»„åˆæ–¹æ¡ˆï¼Œå®ç°é«˜æ•ˆçš„å¤šæ ‡ç­¾é¡µå®æ—¶æ¶ˆæ¯åŒæ­¥ã€‚è¯¥æ–¹æ¡ˆä¸ä»…è§£å†³äº†å•æ ‡ç­¾é¡µæ¶ˆæ¯æ¨é€çš„é—®é¢˜ï¼Œè¿˜ä¼˜é›…åœ°å¤„ç†äº†å¤šæ ‡ç­¾é¡µåœºæ™¯ä¸‹çš„è¿æ¥ç®¡ç†å’Œæ¶ˆæ¯åˆ†å‘ã€‚</p>
<p>é€šè¿‡æœ¬æ–‡ï¼Œæˆ‘ä»¬å°†æ¢è®¨ï¼š</p>
<ul>
<li>å¦‚ä½•è®¾è®¡å¤šæ ‡ç­¾é¡µæ¶ˆæ¯åŒæ­¥æ¶æ„</li>
<li>SSE å’Œ BroadcastChannel çš„å®æˆ˜åº”ç”¨</li>
<li>è¿æ¥ç®¡ç†å’Œé”™è¯¯æ¢å¤çš„æœ€ä½³å®è·µ</li>
<li>æ€§èƒ½ä¼˜åŒ–å’Œç”¨æˆ·ä½“éªŒæå‡æŠ€å·§</li>
</ul>
<h4 data-id="heading-4">é€‚åˆäººç¾¤</h4>
<ul>
<li>éœ€è¦å®ç°å®æ—¶æ¶ˆæ¯æ¨é€åŠŸèƒ½çš„å‰ç«¯å¼€å‘è€…</li>
<li>å¸Œæœ›ä¼˜åŒ–å¤šæ ‡ç­¾é¡µåº”ç”¨æ€§èƒ½çš„å·¥ç¨‹å¸ˆ</li>
<li>å¯¹ SSE å’Œ BroadcastChannel API æ„Ÿå…´è¶£çš„æŠ€æœ¯çˆ±å¥½è€…</li>
<li>æ­£åœ¨å¯»æ‰¾ WebSocket æ›¿ä»£æ–¹æ¡ˆçš„å¼€å‘è€…</li>
</ul>
<h3 data-id="heading-5">é—®é¢˜èƒŒæ™¯</h3>
<h4 data-id="heading-6">å¤šæ ‡ç­¾é¡µæ¶ˆæ¯åŒæ­¥çš„æŒ‘æˆ˜</h4>
<p>åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š</p>
<p><strong>åœºæ™¯ä¸€ï¼šç”¨æˆ·æ‰“å¼€å¤šä¸ªæ ‡ç­¾é¡µ</strong></p>
<p>å½“ç”¨æˆ·åŒæ—¶æ‰“å¼€å¤šä¸ªæ ‡ç­¾é¡µè®¿é—®åŒä¸€ä¸ªåº”ç”¨æ—¶ï¼Œå¦‚æœæ¯ä¸ªæ ‡ç­¾é¡µéƒ½å»ºç«‹ç‹¬ç«‹çš„ SSE è¿æ¥ï¼Œä¼šå¯¼è‡´ï¼š</p>
<ul>
<li>æœåŠ¡å™¨èµ„æºæµªè´¹ï¼ˆå¤šä¸ªé•¿è¿æ¥ï¼‰</li>
<li>æ¶ˆæ¯é‡å¤æ¨é€ï¼ˆæ¯ä¸ªæ ‡ç­¾é¡µéƒ½æ”¶åˆ°ç›¸åŒæ¶ˆæ¯ï¼‰</li>
<li>ç”¨æˆ·ä½“éªŒä¸ä¸€è‡´ï¼ˆä¸åŒæ ‡ç­¾é¡µæ¶ˆæ¯çŠ¶æ€ä¸åŒæ­¥ï¼‰</li>
</ul>
<blockquote>
<p>è‹¥ç³»ç»Ÿé‡‡ç”¨ HTTP 1.0/1.1 åè®®ï¼Œç”¨æˆ·æ¯æ‰“å¼€ä¸€ä¸ªé¡µé¢å°±ä¼šå»ºç«‹ä¸€ä¸ªé•¿è¿æ¥ï¼›å½“æ‰“å¼€çš„æ ‡ç­¾é¡µæ•°é‡è¶…è¿‡ 6 ä¸ªæ—¶ï¼Œå—æµè§ˆå™¨å¹¶å‘è¿æ¥æ•°é™åˆ¶ï¼Œç¬¬ä¸ƒä¸ªåŠä¹‹åçš„æ ‡ç­¾é¡µå°†æ— æ³•æ­£å¸¸åŠ è½½ï¼Œå‡ºç°å¡é¡¿ã€‚</p>
</blockquote>
<p><strong>åœºæ™¯äºŒï¼šæ ‡ç­¾é¡µå…³é—­ä¸é‡è¿</strong></p>
<p>å½“æŸä¸ªæ ‡ç­¾é¡µå…³é—­æ—¶ï¼Œå¦‚æœè¯¥æ ‡ç­¾é¡µæŒæœ‰å”¯ä¸€çš„ SSE è¿æ¥ï¼Œå…¶ä»–æ ‡ç­¾é¡µå°†æ— æ³•ç»§ç»­æ¥æ”¶æ¶ˆæ¯ã€‚éœ€è¦ï¼š</p>
<ul>
<li>æ£€æµ‹è¿æ¥æ–­å¼€</li>
<li>è‡ªåŠ¨åœ¨å…¶ä»–æ ‡ç­¾é¡µé‡æ–°å»ºç«‹è¿æ¥</li>
<li>ä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±</li>
</ul>
<p><strong>åœºæ™¯ä¸‰ï¼šæ¶ˆæ¯å»é‡ä¸çŠ¶æ€åŒæ­¥</strong></p>
<p>å¤šä¸ªæ ‡ç­¾é¡µéœ€è¦ï¼š</p>
<ul>
<li>é¿å…é‡å¤æ˜¾ç¤ºç›¸åŒçš„æ¶ˆæ¯é€šçŸ¥</li>
<li>ä¿æŒæ¶ˆæ¯å·²è¯»/æœªè¯»çŠ¶æ€åŒæ­¥</li>
<li>ç»Ÿä¸€æ›´æ–° UI çŠ¶æ€ï¼ˆå¦‚æœªè¯»æ¶ˆæ¯æ•°ï¼‰</li>
</ul>
<h4 data-id="heading-7">ä¼ ç»Ÿæ–¹æ¡ˆçš„å±€é™æ€§</h4>






























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>çº¯ SSE</td><td>å®ç°ç®€å•ï¼Œæµè§ˆå™¨åŸç”Ÿæ”¯æŒ</td><td>å¤šæ ‡ç­¾é¡µä¼šå»ºç«‹å¤šä¸ªè¿æ¥ï¼Œèµ„æºæµªè´¹</td></tr><tr><td>çº¯ WebSocket</td><td>åŒå‘é€šä¿¡ï¼ŒåŠŸèƒ½å¼ºå¤§</td><td>å®ç°å¤æ‚ï¼Œéœ€è¦å¿ƒè·³æ£€æµ‹ï¼Œå¤šæ ‡ç­¾é¡µé—®é¢˜åŒæ ·å­˜åœ¨</td></tr><tr><td>LocalStorage äº‹ä»¶</td><td>è·¨æ ‡ç­¾é¡µé€šä¿¡ç®€å•</td><td>åªèƒ½ä¼ é€’å­—ç¬¦ä¸²ï¼Œæ€§èƒ½è¾ƒå·®ï¼Œä¸é€‚åˆé¢‘ç¹é€šä¿¡</td></tr><tr><td>SharedWorker</td><td>çœŸæ­£çš„å•ä¾‹è¿æ¥</td><td>å…¼å®¹æ€§ä¸€èˆ¬ï¼Œè°ƒè¯•å›°éš¾</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-8">æŠ€æœ¯é€‰å‹</h3>
<h4 data-id="heading-9">ä¸ºä»€ä¹ˆé€‰æ‹© SSE</h4>
<p><strong>SSEï¼ˆServer-Sent Eventsï¼‰</strong> æ˜¯ HTML5 æ ‡å‡†ä¸­çš„ä¸€ç§æœåŠ¡å™¨æ¨é€æŠ€æœ¯ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p>
<ol>
<li><strong>ç®€å•æ˜“ç”¨</strong>ï¼šåŸºäº HTTP åè®®ï¼Œæ— éœ€é¢å¤–åè®®å‡çº§</li>
<li><strong>è‡ªåŠ¨é‡è¿</strong>ï¼šæµè§ˆå™¨åŸç”Ÿæ”¯æŒæ–­çº¿é‡è¿æœºåˆ¶</li>
<li><strong>å•å‘æ¨é€</strong>ï¼šé€‚åˆæœåŠ¡å™¨ä¸»åŠ¨æ¨é€æ¶ˆæ¯çš„åœºæ™¯</li>
<li><strong>æ–‡æœ¬å‹å¥½</strong>ï¼šå¤©ç„¶æ”¯æŒæ–‡æœ¬æ•°æ®ï¼ŒJSON è§£ææ–¹ä¾¿</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// SSE åŸºæœ¬ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> eventSource = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventSource</span>(<span class="hljs-string">'/api/sse'</span>);
eventSource.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°æ¶ˆæ¯:'</span>, event.<span class="hljs-property">data</span>);
};
</code></pre>
<h4 data-id="heading-10">ä¸ºä»€ä¹ˆé€‰æ‹© BroadcastChannel</h4>
<p><strong>BroadcastChannel API</strong> æ˜¯ HTML5 æä¾›çš„è·¨æ ‡ç­¾é¡µé€šä¿¡æ–¹æ¡ˆï¼š</p>
<ol>
<li><strong>åŒæºé€šä¿¡</strong>ï¼šåŒä¸€åŸŸåä¸‹çš„æ‰€æœ‰æ ‡ç­¾é¡µå¯ä»¥é€šä¿¡</li>
<li><strong>ç®€å•é«˜æ•ˆ</strong>ï¼šAPI ç®€æ´ï¼Œæ€§èƒ½ä¼˜ç§€</li>
<li><strong>ç±»å‹æ”¯æŒ</strong>ï¼šæ”¯æŒä¼ è¾“å¯¹è±¡ã€æ•°ç»„ç­‰å¤æ‚æ•°æ®ç±»å‹</li>
<li><strong>äº‹ä»¶é©±åŠ¨</strong>ï¼šåŸºäºäº‹ä»¶æœºåˆ¶ï¼Œæ˜“äºé›†æˆ</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// BroadcastChannel åŸºæœ¬ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> channel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BroadcastChannel</span>(<span class="hljs-string">'my-channel'</span>);
channel.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'MESSAGE'</span>, <span class="hljs-attr">data</span>: <span class="hljs-string">'Hello'</span> });
channel.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ”¶åˆ°å¹¿æ’­:'</span>, event.<span class="hljs-property">data</span>);
};
</code></pre>
<h4 data-id="heading-11">ç»„åˆæ–¹æ¡ˆçš„ä¼˜åŠ¿</h4>
<p>å°† SSE å’Œ BroadcastChannel ç»“åˆï¼Œå¯ä»¥å®ç°ï¼š</p>
<ul>
<li><strong>å•è¿æ¥ç®¡ç†</strong>ï¼šåªæœ‰ä¸€ä¸ªæ ‡ç­¾é¡µå»ºç«‹ SSE è¿æ¥</li>
<li><strong>æ¶ˆæ¯å¹¿æ’­</strong>ï¼šSSE æ¥æ”¶çš„æ¶ˆæ¯é€šè¿‡ BroadcastChannel åŒæ­¥åˆ°æ‰€æœ‰æ ‡ç­¾é¡µ</li>
<li><strong>è¿æ¥æ¢å¤</strong>ï¼šæ ‡ç­¾é¡µå…³é—­æ—¶ï¼Œå…¶ä»–æ ‡ç­¾é¡µè‡ªåŠ¨æ¥ç®¡è¿æ¥</li>
<li><strong>çŠ¶æ€åŒæ­¥</strong>ï¼šæ‰€æœ‰æ ‡ç­¾é¡µçš„æ¶ˆæ¯çŠ¶æ€ä¿æŒä¸€è‡´</li>
</ul>
<hr/>
<h3 data-id="heading-12">å®ç°æ–¹æ¡ˆ</h3>
<h4 data-id="heading-13">æ•´ä½“æ¶æ„è®¾è®¡</h4>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Server as æœåŠ¡å™¨ç«¯
    participant TabA as æ ‡ç­¾é¡µ A&lt;br/&gt;(ä¸»è¿æ¥)
    participant BC as BroadcastChannel
    participant TabB as æ ‡ç­¾é¡µ B&lt;br/&gt;(ä»è¿æ¥)

    Note over TabA: åˆå§‹åŒ–é˜¶æ®µ
    TabA-&gt;&gt;TabA: æ£€æŸ¥æ˜¯å¦æœ‰ SSE è¿æ¥
    alt æ— è¿æ¥
        TabA-&gt;&gt;Server: å»ºç«‹ SSE è¿æ¥
        Server--&gt;&gt;TabA: è¿æ¥æˆåŠŸ
    end

    Note over Server,TabB: æ¶ˆæ¯æ¥æ”¶é˜¶æ®µ
    Server-&gt;&gt;TabA: æ¨é€æ¶ˆæ¯ (SSE)
    TabA-&gt;&gt;TabA: å¤„ç†æ¶ˆæ¯&lt;br/&gt;(æ›´æ–°çŠ¶æ€ã€æ˜¾ç¤ºé€šçŸ¥)
    TabA-&gt;&gt;BC: å¹¿æ’­æ¶ˆæ¯
    BC-&gt;&gt;TabB: åŒæ­¥æ¶ˆæ¯
    TabB-&gt;&gt;TabB: å¤„ç†æ¶ˆæ¯&lt;br/&gt;(æ›´æ–°çŠ¶æ€ã€æ˜¾ç¤ºé€šçŸ¥)

    Note over TabA,TabB: è¿æ¥ç®¡ç†é˜¶æ®µ
    TabA-&gt;&gt;TabA: æ ‡ç­¾é¡µå…³é—­
    TabA-&gt;&gt;BC: å‘é€å…³é—­ä¿¡å·
    BC-&gt;&gt;TabB: é€šçŸ¥è¿æ¥å…³é—­
    TabB-&gt;&gt;TabB: å…³é—­æ—§è¿æ¥
    TabB-&gt;&gt;Server: é‡æ–°å»ºç«‹ SSE è¿æ¥
    Server--&gt;&gt;TabB: è¿æ¥æˆåŠŸ
</code></pre>
<h4 data-id="heading-14">æ ¸å¿ƒæµç¨‹</h4>
<ol>
<li>
<p><strong>åˆå§‹åŒ–é˜¶æ®µ</strong></p>
<ul>
<li>åº”ç”¨å¯åŠ¨æ—¶ï¼Œæ£€æŸ¥æ˜¯å¦å·²æœ‰ SSE è¿æ¥</li>
<li>å¦‚æœæ²¡æœ‰ï¼Œå½“å‰æ ‡ç­¾é¡µå»ºç«‹ SSE è¿æ¥</li>
<li>å¦‚æœæœ‰ï¼Œç›´æ¥ä½¿ç”¨ç°æœ‰è¿æ¥</li>
</ul>
</li>
<li>
<p><strong>æ¶ˆæ¯æ¥æ”¶é˜¶æ®µ</strong></p>
<ul>
<li>SSE è¿æ¥æ¥æ”¶åˆ°æœåŠ¡å™¨æ¨é€çš„æ¶ˆæ¯</li>
<li>å½“å‰æ ‡ç­¾é¡µå¤„ç†æ¶ˆæ¯ï¼ˆæ˜¾ç¤ºé€šçŸ¥ã€æ›´æ–°çŠ¶æ€ï¼‰</li>
<li>é€šè¿‡ BroadcastChannel å¹¿æ’­æ¶ˆæ¯åˆ°å…¶ä»–æ ‡ç­¾é¡µ</li>
<li>å…¶ä»–æ ‡ç­¾é¡µæ¥æ”¶å¹¿æ’­ï¼ŒåŒæ­¥å¤„ç†æ¶ˆæ¯</li>
</ul>
</li>
<li>
<p><strong>è¿æ¥ç®¡ç†é˜¶æ®µ</strong></p>
<ul>
<li>æ ‡ç­¾é¡µå…³é—­æ—¶ï¼Œå‘é€å…³é—­ä¿¡å·åˆ° BroadcastChannel</li>
<li>å…¶ä»–æ ‡ç­¾é¡µç›‘å¬åˆ°å…³é—­ä¿¡å·ï¼Œå…³é—­æ—§è¿æ¥</li>
<li>é‡æ–°å»ºç«‹ SSE è¿æ¥ï¼Œç¡®ä¿æ¶ˆæ¯ä¸ä¸­æ–­</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-15">æ ¸å¿ƒå®ç°</h3>
<h4 data-id="heading-16">1. SSE è¿æ¥å°è£…</h4>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å°è£…ä¸€ä¸ªæ”¯æŒé‡è¿å’Œé”™è¯¯å¤„ç†çš„ SSE è¿æ¥å·¥å…·ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">EventSourcePolyfill</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'event-source-polyfill'</span>;
<span class="hljs-keyword">import</span> util <span class="hljs-keyword">from</span> <span class="hljs-string">'@/libs/util'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Setting</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@/setting"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MAX_RETRY_COUNT</span> = <span class="hljs-number">3</span>;
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">RETRY_DELAY</span> = <span class="hljs-number">3000</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">create</span> = (<span class="hljs-params">url, payload</span>) =&gt; {
  <span class="hljs-keyword">let</span> retryCount = <span class="hljs-number">0</span>;

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">connect</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">const</span> token = util.<span class="hljs-property">cookies</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">"token"</span>)
    <span class="hljs-keyword">if</span>(!token){
      <span class="hljs-keyword">return</span>
    }

    <span class="hljs-keyword">const</span> eventSource = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventSourcePolyfill</span>(
      <span class="hljs-string">`<span class="hljs-subst">${Setting.request.apiBaseURL}</span><span class="hljs-subst">${url}</span>`</span>,
      {
        <span class="hljs-attr">headers</span>: {
          <span class="hljs-attr">token</span>: util.<span class="hljs-property">cookies</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">"token"</span>),
          <span class="hljs-attr">pageUrl</span>: <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">pathname</span>,
          <span class="hljs-attr">userId</span>: util.<span class="hljs-property">cookies</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">"userId"</span>),
        },
        <span class="hljs-attr">heartbeatTimeout</span>: <span class="hljs-number">28800000</span>, <span class="hljs-comment">// 8å°æ—¶å¿ƒè·³è¶…æ—¶</span>
      }
    );

    eventSource.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"open"</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'SSEè¿æ¥æˆåŠŸ'</span>);
      retryCount = <span class="hljs-number">0</span>; <span class="hljs-comment">// é‡ç½®é‡è¯•æ¬¡æ•°</span>
    });

    eventSource.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"error"</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">err</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'SSEè¿æ¥é”™è¯¯:'</span>, err);

      <span class="hljs-keyword">if</span> (retryCount &lt; <span class="hljs-variable constant_">MAX_RETRY_COUNT</span>) {
        retryCount++;
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å°è¯•é‡æ–°è¿æ¥ (<span class="hljs-subst">${retryCount}</span>/<span class="hljs-subst">${MAX_RETRY_COUNT}</span>)...`</span>);
        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
          eventSource.<span class="hljs-title function_">close</span>();
          <span class="hljs-title function_">connect</span>();
        }, <span class="hljs-variable constant_">RETRY_DELAY</span>);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'SSEè¿æ¥å¤±è´¥ï¼Œå·²è¾¾åˆ°æœ€å¤§é‡è¯•æ¬¡æ•°'</span>);
        eventSource.<span class="hljs-title function_">close</span>();
      }
    });

    <span class="hljs-keyword">return</span> eventSource;
  };

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">connect</span>();
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  create
}
</code></pre>
<p><strong>å…³é”®ç‚¹è§£æ</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>EventSourcePolyfill</code> æ”¯æŒè‡ªå®šä¹‰ headersï¼ˆåŸç”Ÿ EventSource ä¸æ”¯æŒï¼‰</li>
<li>å®ç°è‡ªåŠ¨é‡è¿æœºåˆ¶ï¼Œæœ€å¤šé‡è¯• 3 æ¬¡</li>
<li>è®¾ç½®å¿ƒè·³è¶…æ—¶æ—¶é—´ï¼Œé˜²æ­¢é•¿æ—¶é—´æ— å“åº”å¯¼è‡´è¿æ¥å‡æ­»</li>
<li>åœ¨ headers ä¸­ä¼ é€’ token å’Œé¡µé¢ä¿¡æ¯ï¼Œä¾¿äºæœåŠ¡ç«¯è¯†åˆ«å’Œè·¯ç”±</li>
</ul>
<h4 data-id="heading-17">2. BroadcastChannel å°è£…</h4>
<p>åˆ›å»ºä¸€ä¸ªç®€æ´çš„ BroadcastChannel å·¥å…·ç±»ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">createBroadcastChannel</span> = (<span class="hljs-params">channelName: <span class="hljs-built_in">string</span></span>) =&gt; {
  <span class="hljs-keyword">const</span> channel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BroadcastChannel</span>(channelName);
  <span class="hljs-keyword">return</span> {
    channel,
    <span class="hljs-title function_">sendMessage</span>(<span class="hljs-params">data: <span class="hljs-built_in">any</span></span>) {
      channel.<span class="hljs-title function_">postMessage</span>(data);
    },
    <span class="hljs-title function_">receiveMessage</span>(<span class="hljs-params">callback: (data: <span class="hljs-built_in">any</span>) =&gt; <span class="hljs-built_in">void</span></span>) {
      channel.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-title function_">callback</span>(event.<span class="hljs-property">data</span>);
      };
    },
    <span class="hljs-title function_">closeChannel</span>(<span class="hljs-params"/>) {
      channel.<span class="hljs-title function_">close</span>();
    },
  };
};
</code></pre>
<p><strong>è®¾è®¡è¯´æ˜</strong>ï¼š</p>
<ul>
<li>å°è£…æˆå·¥å‚å‡½æ•°ï¼Œä¾¿äºåˆ›å»ºå¤šä¸ªé€šé“ï¼ˆæ¶ˆæ¯é€šé“ã€è¿æ¥ç®¡ç†é€šé“ï¼‰</li>
<li>æä¾›ç®€æ´çš„ APIï¼šå‘é€æ¶ˆæ¯ã€æ¥æ”¶æ¶ˆæ¯ã€å…³é—­é€šé“</li>
<li>æ”¯æŒä¼ é€’ä»»æ„ç±»å‹æ•°æ®ï¼ˆå¯¹è±¡ã€æ•°ç»„ç­‰ï¼‰</li>
</ul>
<h4 data-id="heading-18">3. SSE è¿æ¥ç®¡ç†</h4>
<p>å®ç°å•ä¾‹æ¨¡å¼çš„ SSE è¿æ¥ç®¡ç†ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> sseRequest <span class="hljs-keyword">from</span> <span class="hljs-string">"@/plugins/request/sse"</span>;
<span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">"@/store"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchSSE</span> = (<span class="hljs-params">payload?: { [key: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">string</span> }</span>) =&gt; {
  <span class="hljs-keyword">const</span> eventSource = sseRequest.<span class="hljs-title function_">create</span>(<span class="hljs-string">"/sse/connect"</span>, {
    ...payload
  });
  <span class="hljs-keyword">return</span> eventSource;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">initSSEEvent</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'sse-init'</span>);
  <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²ç»æœ‰å®ä¾‹åœ¨å…¶ä»–æ ‡ç­¾é¡µä¸­åˆ›å»º</span>
  <span class="hljs-keyword">let</span> eventSource = (store.<span class="hljs-property">state</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">admin</span>.<span class="hljs-property">request</span>.<span class="hljs-property">sseEvent</span>;

  <span class="hljs-keyword">if</span> (!eventSource) {
    <span class="hljs-comment">// å¦‚æœæ²¡æœ‰å®ä¾‹ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„</span>
    eventSource = <span class="hljs-title function_">fetchSSE</span>();
    <span class="hljs-comment">// å­˜å‚¨åˆ° Vuex ä¸­</span>
    store.<span class="hljs-title function_">commit</span>(<span class="hljs-string">'admin/request/SET_SSE_EVENT'</span>, eventSource);
  }

  <span class="hljs-keyword">return</span> eventSource;
};
</code></pre>
<p><strong>æ ¸å¿ƒé€»è¾‘</strong>ï¼š</p>
<ul>
<li>é€šè¿‡ Vuex å…¨å±€çŠ¶æ€ç®¡ç† SSE è¿æ¥å®ä¾‹</li>
<li>å®ç°å•ä¾‹æ¨¡å¼ï¼šå¦‚æœå·²æœ‰è¿æ¥ï¼Œç›´æ¥å¤ç”¨</li>
<li>é¿å…å¤šä¸ªæ ‡ç­¾é¡µåŒæ—¶å»ºç«‹è¿æ¥</li>
</ul>
<h4 data-id="heading-19">4. æ¶ˆæ¯å¤„ç†ä¸å¹¿æ’­</h4>
<p>å®ç°æ¶ˆæ¯æ¥æ”¶ã€å¤„ç†å’Œè·¨æ ‡ç­¾é¡µåŒæ­¥ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { createBroadcastChannel } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/libs/broadcastChannel"</span>;

<span class="hljs-comment">// åˆ›å»ºæ¶ˆæ¯å¹¿æ’­é€šé“</span>
<span class="hljs-keyword">const</span> { sendMessage, receiveMessage } =
  <span class="hljs-title function_">createBroadcastChannel</span>(<span class="hljs-string">"message-channel"</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> pushWatchAndShowNotifications = <span class="hljs-keyword">async</span> (): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt; =&gt; {
  <span class="hljs-comment">// è·å– SSE è¿æ¥å®ä¾‹</span>
  <span class="hljs-keyword">const</span> eventSource = (store.<span class="hljs-property">state</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">admin</span>.<span class="hljs-property">request</span>.<span class="hljs-property">sseEvent</span>;
  <span class="hljs-keyword">if</span> (!eventSource) {
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-comment">// ç›‘å¬æœåŠ¡å™¨æ¨é€çš„æ¶ˆæ¯</span>
  eventSource.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"MESSAGE"</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
    <span class="hljs-keyword">const</span> fmtData = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(e.<span class="hljs-property">data</span>);

    <span class="hljs-comment">// 1. å¹¿æ’­æ¶ˆæ¯åˆ°å…¶ä»–æ ‡ç­¾é¡µ</span>
    <span class="hljs-title function_">sendMessage</span>(fmtData);

    <span class="hljs-comment">// 2. å½“å‰æ ‡ç­¾é¡µå¤„ç†æ¶ˆæ¯</span>
    <span class="hljs-title function_">handleIncomingMessage</span>(fmtData);
  });

  <span class="hljs-comment">// ç›‘å¬ç”¨æˆ·ä»»åŠ¡æ¨é€</span>
  eventSource.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"USER_TASK"</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
    <span class="hljs-keyword">const</span> fmtData = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(e.<span class="hljs-property">data</span>);

    <span class="hljs-comment">// å¹¿æ’­ä»»åŠ¡æ¶ˆæ¯åˆ°å…¶ä»–æ ‡ç­¾é¡µ</span>
    <span class="hljs-title function_">sendMessage</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">"USER_TASK"</span>, <span class="hljs-attr">data</span>: fmtData });

    <span class="hljs-comment">// å½“å‰æ ‡ç­¾é¡µå¤„ç†ä»»åŠ¡æ¶ˆæ¯</span>
    <span class="hljs-title function_">handleIncomingUserTask</span>(fmtData);
  });

  <span class="hljs-comment">// ç›‘å¬å…¶ä»–æ ‡ç­¾é¡µå¹¿æ’­çš„æ¶ˆæ¯</span>
  <span class="hljs-title function_">receiveMessage</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">type</span> === <span class="hljs-string">"USER_TASK"</span>) {
      <span class="hljs-title function_">handleIncomingUserTask</span>(data.<span class="hljs-property">data</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-title function_">handleIncomingMessage</span>(data);
    }
  });

  <span class="hljs-keyword">return</span> eventSource;
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleIncomingMessage</span>(<span class="hljs-params">fmtData: <span class="hljs-built_in">any</span></span>) {
  <span class="hljs-keyword">const</span> productId = (store.<span class="hljs-property">state</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">admin</span>.<span class="hljs-property">user</span>.<span class="hljs-property">info</span>?.<span class="hljs-property">curProduct</span>;
  <span class="hljs-keyword">const</span> productData = fmtData[productId];
  <span class="hljs-keyword">if</span> (!productData) {
    <span class="hljs-keyword">return</span>;
  }

  <span class="hljs-keyword">const</span> { noReadCount, popupList } = productData;
  <span class="hljs-comment">// æ›´æ–°æœªè¯»æ¶ˆæ¯æ•°</span>
  store.<span class="hljs-title function_">commit</span>(<span class="hljs-string">"admin/layout/setUnreadMessage"</span>, noReadCount);

  <span class="hljs-comment">// æ˜¾ç¤ºæ¶ˆæ¯é€šçŸ¥</span>
  <span class="hljs-keyword">if</span> (popupList.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
    popupList.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">message, index</span>) =&gt;</span> {
      <span class="hljs-title function_">showNotification</span>(message, index);
    });
  }
}
</code></pre>
<p><strong>å¤„ç†æµç¨‹</strong>ï¼š</p>
<ol>
<li>SSE æ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œç«‹å³é€šè¿‡ BroadcastChannel å¹¿æ’­</li>
<li>å½“å‰æ ‡ç­¾é¡µå¤„ç†æ¶ˆæ¯ï¼ˆæ›´æ–°çŠ¶æ€ã€æ˜¾ç¤ºé€šçŸ¥ï¼‰</li>
<li>å…¶ä»–æ ‡ç­¾é¡µé€šè¿‡ BroadcastChannel æ¥æ”¶æ¶ˆæ¯ï¼ŒåŒæ­¥å¤„ç†</li>
<li>ç¡®ä¿æ‰€æœ‰æ ‡ç­¾é¡µçŠ¶æ€ä¸€è‡´</li>
</ol>
<h4 data-id="heading-20">5. è¿æ¥æ¢å¤æœºåˆ¶</h4>
<p>å®ç°æ ‡ç­¾é¡µå…³é—­æ—¶çš„è¿æ¥æ¢å¤ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { createBroadcastChannel } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/libs/broadcastChannel'</span>;

<span class="hljs-comment">// åˆ›å»ºè¿æ¥ç®¡ç†é€šé“</span>
<span class="hljs-keyword">const</span> { sendMessage, receiveMessage } =
  <span class="hljs-title function_">createBroadcastChannel</span>(<span class="hljs-string">'sse-close-channel'</span>);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineComponent</span>({
  <span class="hljs-attr">methods</span>: {
    <span class="hljs-title function_">handleCloseMessage</span>(<span class="hljs-params"/>) {
      <span class="hljs-keyword">const</span> sseEvent = (store.<span class="hljs-property">state</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">admin</span>.<span class="hljs-property">request</span>.<span class="hljs-property">sseEvent</span>
      <span class="hljs-keyword">if</span> (sseEvent) {
        sseEvent.<span class="hljs-title function_">close</span>()
        store.<span class="hljs-title function_">commit</span>(<span class="hljs-string">'admin/request/CLEAR_SSE_EVENT'</span>);
      }
    },
    <span class="hljs-title function_">handleSSEClosed</span>(<span class="hljs-params"/>) {
      <span class="hljs-comment">// ç›‘å¬å…¶ä»–æ ‡ç­¾é¡µå…³é—­ SSE è¿æ¥çš„æ¶ˆæ¯</span>
      <span class="hljs-title function_">receiveMessage</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span> (data === <span class="hljs-string">'sse-closed'</span>) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'SSE connection closed in another tab. Re-establishing connection.'</span>);
          <span class="hljs-comment">// å…³é—­æ—§è¿æ¥</span>
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleCloseMessage</span>()
          <span class="hljs-comment">// é‡æ–°å»ºç«‹è¿æ¥</span>
          <span class="hljs-title function_">initSSEEvent</span>();
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleGetMessage</span>()
          <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleGetUserTasks</span>()
        }
      });
    }
  },
  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// é¡µé¢å¸è½½æ—¶ï¼Œå…³é—­ SSE è¿æ¥å¹¶é€šçŸ¥å…¶ä»–æ ‡ç­¾é¡µ</span>
    <span class="hljs-title function_">on</span>(<span class="hljs-variable language_">window</span>, <span class="hljs-string">'beforeunload'</span>, <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-keyword">const</span> eventSource = (store.<span class="hljs-property">state</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">admin</span>.<span class="hljs-property">request</span>.<span class="hljs-property">sseEvent</span>;
      <span class="hljs-keyword">if</span> (eventSource) {
        eventSource.<span class="hljs-title function_">close</span>();
        store.<span class="hljs-title function_">commit</span>(<span class="hljs-string">'admin/request/CLEAR_SSE_EVENT'</span>);
      }
      <span class="hljs-comment">// å¹¿æ’­å…³é—­æ¶ˆæ¯</span>
      <span class="hljs-title function_">sendMessage</span>(<span class="hljs-string">'sse-closed'</span>);
    });

    <span class="hljs-comment">// åˆå§‹åŒ– SSE è¿æ¥</span>
    <span class="hljs-keyword">const</span> token = (store.<span class="hljs-property">state</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">admin</span>.<span class="hljs-property">user</span>.<span class="hljs-property">info</span>?.<span class="hljs-property">curProduct</span>
      || util.<span class="hljs-property">cookies</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">"token"</span>);
    <span class="hljs-keyword">if</span> (token &amp;&amp; !(store.<span class="hljs-property">state</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>).<span class="hljs-property">admin</span>.<span class="hljs-property">request</span>.<span class="hljs-property">sseEvent</span>) {
      <span class="hljs-title function_">initSSEEvent</span>();
      <span class="hljs-title function_">pushWatchAndShowNotifications</span>();
    }

    <span class="hljs-comment">// ç›‘å¬å…¶ä»–æ ‡ç­¾é¡µçš„è¿æ¥å…³é—­äº‹ä»¶</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleSSEClosed</span>();
  },
  <span class="hljs-title function_">beforeUnmount</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleCloseMessage</span>()
  }
})
</code></pre>
<p><strong>æ¢å¤æœºåˆ¶</strong>ï¼š</p>
<ol>
<li>æ ‡ç­¾é¡µå…³é—­æ—¶ï¼Œå‘é€ <code>sse-closed</code> æ¶ˆæ¯åˆ° BroadcastChannel</li>
<li>å…¶ä»–æ ‡ç­¾é¡µç›‘å¬åˆ°æ¶ˆæ¯ï¼Œå…³é—­æ—§è¿æ¥å¹¶æ¸…ç†çŠ¶æ€</li>
<li>é‡æ–°åˆå§‹åŒ– SSE è¿æ¥å’Œç›¸å…³ç›‘å¬</li>
<li>ç¡®ä¿è‡³å°‘æœ‰ä¸€ä¸ªæ ‡ç­¾é¡µä¿æŒè¿æ¥</li>
</ol>
<h4 data-id="heading-21">6. çŠ¶æ€ç®¡ç†</h4>
<p>åœ¨ Vuex ä¸­ç®¡ç† SSE è¿æ¥çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">namespaced</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">state</span>: {
    <span class="hljs-attr">sseEvent</span>: <span class="hljs-literal">null</span>  <span class="hljs-comment">// SSE è¿æ¥å®ä¾‹</span>
  },
  <span class="hljs-attr">mutations</span>: {
    <span class="hljs-comment">// è®¾ç½® SSE äº‹ä»¶</span>
    <span class="hljs-title function_">SET_SSE_EVENT</span>(<span class="hljs-params">state, payload</span>) {
      state.<span class="hljs-property">sseEvent</span> = payload
    },
    <span class="hljs-comment">// æ¸…é™¤ SSE äº‹ä»¶</span>
    <span class="hljs-title function_">CLEAR_SSE_EVENT</span>(<span class="hljs-params">state</span>) {
      state.<span class="hljs-property">sseEvent</span> = <span class="hljs-literal">null</span>
    }
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-22">æ–¹æ¡ˆæ€»ç»“</h3>
<h4 data-id="heading-23">æ–¹æ¡ˆä¼˜åŠ¿</h4>
<ol>
<li>
<p><strong>èµ„æºä¼˜åŒ–</strong></p>
<ul>
<li>å¤šä¸ªæ ‡ç­¾é¡µå…±äº«ä¸€ä¸ª SSE è¿æ¥ï¼Œå‡å°‘æœåŠ¡å™¨å‹åŠ›</li>
<li>é™ä½ç½‘ç»œå¸¦å®½æ¶ˆè€—</li>
<li>å‡å°‘å®¢æˆ·ç«¯å†…å­˜å ç”¨</li>
</ul>
</li>
<li>
<p><strong>ç”¨æˆ·ä½“éªŒæå‡</strong></p>
<ul>
<li>æ‰€æœ‰æ ‡ç­¾é¡µæ¶ˆæ¯çŠ¶æ€å®æ—¶åŒæ­¥</li>
<li>é¿å…é‡å¤é€šçŸ¥ï¼Œå‡å°‘å¹²æ‰°</li>
<li>è¿æ¥è‡ªåŠ¨æ¢å¤ï¼Œæ¶ˆæ¯ä¸ä¸¢å¤±</li>
</ul>
</li>
<li>
<p><strong>å®ç°ç®€æ´</strong></p>
<ul>
<li>åŸºäºæµè§ˆå™¨åŸç”Ÿ APIï¼Œæ— éœ€é¢å¤–ä¾èµ–</li>
<li>ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤</li>
<li>å…¼å®¹æ€§å¥½ï¼Œç°ä»£æµè§ˆå™¨å…¨é¢æ”¯æŒ</li>
</ul>
</li>
<li>
<p><strong>æ‰©å±•æ€§å¼º</strong></p>
<ul>
<li>å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„æ¶ˆæ¯ç±»å‹</li>
<li>æ”¯æŒå¤šä¸ª BroadcastChannel é€šé“</li>
<li>ä¾¿äºé›†æˆåˆ°ç°æœ‰é¡¹ç›®</li>
</ul>
</li>
</ol>
<h4 data-id="heading-24">å±€é™æ€§åŠæ³¨æ„äº‹é¡¹</h4>
<ol>
<li>
<p><strong>æµè§ˆå™¨å…¼å®¹æ€§</strong></p>
<ul>
<li>BroadcastChannel ä¸æ”¯æŒ IE å’Œéƒ¨åˆ†æ—§ç‰ˆæµè§ˆå™¨</li>
<li>éœ€è¦æä¾›é™çº§æ–¹æ¡ˆï¼ˆå¦‚ LocalStorage äº‹ä»¶ï¼‰</li>
</ul>
</li>
<li>
<p><strong>åŒæºé™åˆ¶</strong></p>
<ul>
<li>BroadcastChannel åªèƒ½åœ¨åŒæºé¡µé¢é—´é€šä¿¡</li>
<li>è·¨åŸŸåœºæ™¯éœ€è¦ä½¿ç”¨å…¶ä»–æ–¹æ¡ˆï¼ˆå¦‚ postMessageï¼‰</li>
</ul>
</li>
<li>
<p><strong>è¿æ¥ç®¡ç†</strong></p>
<ul>
<li>éœ€è¦å¦¥å–„å¤„ç†æ ‡ç­¾é¡µå…³é—­å’Œåˆ·æ–°åœºæ™¯</li>
<li>é¿å…å†…å­˜æ³„æ¼ï¼ˆåŠæ—¶æ¸…ç†äº‹ä»¶ç›‘å¬ï¼‰</li>
</ul>
</li>
<li>
<p><strong>é”™è¯¯å¤„ç†</strong></p>
<ul>
<li>SSE è¿æ¥æ–­å¼€æ—¶éœ€è¦é‡è¿æœºåˆ¶</li>
<li>ç½‘ç»œå¼‚å¸¸æ—¶çš„é™çº§ç­–ç•¥</li>
</ul>
</li>
</ol>
<h4 data-id="heading-25">æœ€ä½³å®è·µå»ºè®®</h4>
<ol>
<li>
<p><strong>è¿æ¥ç®¡ç†</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å»ºè®®ï¼šä½¿ç”¨å•ä¾‹æ¨¡å¼ç®¡ç†è¿æ¥</span>
<span class="hljs-comment">// å»ºè®®ï¼šåœ¨åº”ç”¨å…¥å£ç»Ÿä¸€åˆå§‹åŒ–</span>
<span class="hljs-comment">// å»ºè®®ï¼šé¡µé¢å¸è½½æ—¶æ¸…ç†èµ„æº</span>
</code></pre>
</li>
<li>
<p><strong>æ¶ˆæ¯å»é‡</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å»ºè®®ï¼šä¸ºæ¶ˆæ¯æ·»åŠ å”¯ä¸€ ID</span>
<span class="hljs-comment">// å»ºè®®ï¼šä½¿ç”¨ Set æˆ– Map è®°å½•å·²å¤„ç†æ¶ˆæ¯</span>
<span class="hljs-comment">// å»ºè®®ï¼šè®¾ç½®æ¶ˆæ¯è¿‡æœŸæ—¶é—´</span>
</code></pre>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å»ºè®®ï¼šé™åˆ¶ BroadcastChannel æ¶ˆæ¯å¤§å°</span>
<span class="hljs-comment">// å»ºè®®ï¼šä½¿ç”¨é˜²æŠ–å¤„ç†é¢‘ç¹æ¶ˆæ¯</span>
<span class="hljs-comment">// å»ºè®®ï¼šæ‰¹é‡å¤„ç†æ¶ˆæ¯æ›´æ–°</span>
</code></pre>
</li>
<li>
<p><strong>é”™è¯¯æ¢å¤</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å»ºè®®ï¼šå®ç°æŒ‡æ•°é€€é¿é‡è¿ç­–ç•¥</span>
<span class="hljs-comment">// å»ºè®®ï¼šæ·»åŠ è¿æ¥çŠ¶æ€ç›‘æ§</span>
<span class="hljs-comment">// å»ºè®®ï¼šæä¾›æ‰‹åŠ¨é‡è¿åŠŸèƒ½</span>
</code></pre>
</li>
</ol>
<h4 data-id="heading-26">æŠ€æœ¯å¯¹æ¯”æ€»ç»“</h4>









































<table><thead><tr><th>ç‰¹æ€§</th><th>SSE + BroadcastChannel</th><th>WebSocket</th><th>è½®è¯¢</th></tr></thead><tbody><tr><td>å®ç°å¤æ‚åº¦</td><td>â­â­ ç®€å•</td><td>â­â­â­â­ å¤æ‚</td><td>â­ å¾ˆç®€å•</td></tr><tr><td>æœåŠ¡å™¨å‹åŠ›</td><td>â­â­ ä½ï¼ˆå•è¿æ¥ï¼‰</td><td>â­â­â­ ä¸­ç­‰</td><td>â­â­â­â­ é«˜</td></tr><tr><td>å®æ—¶æ€§</td><td>â­â­â­â­ ä¼˜ç§€</td><td>â­â­â­â­â­ æä½³</td><td>â­â­ ä¸€èˆ¬</td></tr><tr><td>å¤šæ ‡ç­¾é¡µæ”¯æŒ</td><td>â­â­â­â­â­ å®Œç¾</td><td>â­â­ éœ€é¢å¤–å¤„ç†</td><td>â­â­â­ ä¸€èˆ¬</td></tr><tr><td>æµè§ˆå™¨å…¼å®¹</td><td>â­â­â­â­ è‰¯å¥½</td><td>â­â­â­â­ è‰¯å¥½</td><td>â­â­â­â­â­ å®Œç¾</td></tr></tbody></table>
<h4 data-id="heading-27">æœªæ¥ä¼˜åŒ–æ–¹å‘</h4>
<ol>
<li><strong>è¿æ¥æ± ç®¡ç†</strong>ï¼šæ”¯æŒå¤šä¸ª SSE è¿æ¥ï¼ŒæŒ‰ä¸šåŠ¡ç±»å‹åˆ†ç¦»</li>
<li><strong>æ¶ˆæ¯é˜Ÿåˆ—</strong>ï¼šç¦»çº¿æ¶ˆæ¯ç¼“å­˜å’Œé‡æ”¾æœºåˆ¶</li>
<li><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šè¿æ¥è´¨é‡ç›‘æ§å’Œè‡ªåŠ¨ä¼˜åŒ–</li>
<li><strong>é™çº§æ–¹æ¡ˆ</strong>ï¼šå…¼å®¹æ—§æµè§ˆå™¨çš„æ›¿ä»£å®ç°</li>
</ol>
<hr/>
<h3 data-id="heading-28">å‚è€ƒæ–‡æ¡£</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FServer-sent_events" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/Server-sent_events" ref="nofollow noopener noreferrer">MDN - Server-Sent Events</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fzh-CN%2Fdocs%2FWeb%2FAPI%2FBroadcastChannel" target="_blank" title="https://developer.mozilla.org/zh-CN/docs/Web/API/BroadcastChannel" ref="nofollow noopener noreferrer">MDN - BroadcastChannel API</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYaffle%2FEventSource" target="_blank" title="https://github.com/Yaffle/EventSource" ref="nofollow noopener noreferrer">EventSource Polyfill</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcn.vuejs.org%2F" target="_blank" title="https://cn.vuejs.org/" ref="nofollow noopener noreferrer">Vue 3 å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<hr/>
<h3 data-id="heading-29">ç»“è¯­</h3>
<p>SSE + BroadcastChannel çš„ç»„åˆæ–¹æ¡ˆä¸ºå¤šæ ‡ç­¾é¡µå®æ—¶æ¶ˆæ¯åŒæ­¥æä¾›äº†ä¸€ä¸ªä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚è¯¥æ–¹æ¡ˆåœ¨ä¿è¯åŠŸèƒ½å®Œæ•´æ€§çš„åŒæ—¶ï¼Œå…¼é¡¾äº†æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿå¸®åŠ©ä½ åœ¨å®é™…é¡¹ç›®ä¸­æ›´å¥½åœ°åº”ç”¨è¿™äº›æŠ€æœ¯ã€‚</p>
<h4 data-id="heading-30">å†™åœ¨æœ€å</h4>
<p>å¦‚æœä½ åœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨äº†è¿™ä¸ªæ–¹æ¡ˆï¼Œæ¬¢è¿åˆ†äº«ä½ çš„ç»éªŒå’Œé‡åˆ°çš„é—®é¢˜ã€‚å¦‚æœä½ æœ‰æ›´å¥½çš„æƒ³æ³•æˆ–ä¼˜åŒ–å»ºè®®ï¼Œä¹Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºäº¤æµè®¨è®ºã€‚</p>
<p><strong>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹ä¸ªèµæ”¯æŒä¸€ä¸‹ï¼Œè®©æ›´å¤šå¼€å‘è€…çœ‹åˆ°è¿™ä¸ªæ–¹æ¡ˆï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reactéš¾ä¸Šæ‰‹åŸå› æ‰¾åˆ°äº†ï¼ŒåŸæ¥æ˜¯å› ä¸ºå‘å¤ªå¤šäº†ã€‚ã€‚ã€‚]]></title>    <link>https://juejin.cn/post/7588355695100887049</link>    <guid>https://juejin.cn/post/7588355695100887049</guid>    <pubDate>2025-12-28T09:36:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588355695100887049" data-draft-id="7588365276190769190" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reactéš¾ä¸Šæ‰‹åŸå› æ‰¾åˆ°äº†ï¼ŒåŸæ¥æ˜¯å› ä¸ºå‘å¤ªå¤šäº†ã€‚ã€‚ã€‚"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-28T09:36:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯å°é…è§’"/> <meta itemprop="url" content="https://juejin.cn/user/2135697013880841"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reactéš¾ä¸Šæ‰‹åŸå› æ‰¾åˆ°äº†ï¼ŒåŸæ¥æ˜¯å› ä¸ºå‘å¤ªå¤šäº†ã€‚ã€‚ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2135697013880841/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯å°é…è§’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:36:37.000Z" title="Sun Dec 28 2025 09:36:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">éƒ½è¯´Reactéš¾ä¸Šæ‰‹ï¼Œé‚£å®ƒåˆ°åº•éš¾åœ¨å“ªé‡Œï¼Ÿ</h2>
<p>äººä»¬æ€»åæ§½Reactç›¸æ¯”Vueä¸Šæ‰‹éš¾åº¦éš¾ä¸å°‘ï¼Œå­¦Vueçš„å¯ä»¥ç«‹å³ä¸Šæ‰‹ï¼Œè€ŒReactåˆ™è¦ä¸ªåå¤©åŠä¸ªæœˆæ‰èƒ½ä¸Šæ‰‹å†™ç‚¹ä¸œè¥¿ï¼Œè€Œä¸”è¿˜å®¹æ˜“å‡ºé”™ã€‚é‚£ä¹ˆReactåˆ°åº•éš¾åœ¨å“ªé‡Œå‘¢ï¼Ÿ</p>
<p>Reactéš¾å°±éš¾åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¤ªå®¹æ˜“é‡åˆ°å‘äº†ï¼Œéœ€è¦å°å¿ƒç¿¼ç¿¼é¿å¼€ä»–ä»¬ï¼Œæ‰å¯ä»¥èµ°çš„é¡ºã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬å°±æ¥ç›˜ç‚¹ä¸‹Reactå¼€å‘è¿‡ç¨‹ä¸­å¸¸è§çš„ä¸€äº›å‘å§ã€‚</p>
<h3 data-id="heading-1">Reactç¬¬ä¸€å‘</h3>
<p>setStateå¼‚æ­¥åŒ–è¿™ä¸ªæ˜¯å¾ˆå¤šæ–‡ç« éƒ½ä¼šæçš„ä¸€ä¸ªå‘ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒå‘åœ¨å“ªé‡Œå‘¢ï¼Ÿ</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>);
    <span class="hljs-comment">// è¿™é‡Œæ‰“å°count</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count)
  };
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>ä¸Šé¢çš„ä»£ç ç‚¹å‡»ä¸€æ¬¡â€œç‚¹æˆ‘â€æŒ‰é’®çš„æ—¶å€™ï¼Œæ§åˆ¶å°ä¼šè¾“å‡ºå•¥ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ï¼š0ã€‚</p>
<p>sateCountå¹¶ä¸æ˜¯ç«‹å³æ‰§è¡Œçš„ï¼Œå› æ­¤è®¾ç½®åç«‹å³è·å–countï¼Œè·å–åˆ°çš„è¿˜æ˜¯åŸæ¥çš„å€¼ã€‚è¦è·å–åˆ°ç¬¬äºŒæ¬¡çš„çŠ¶æ€ï¼Œéœ€è¦ç­‰å¾…Counteræ„é€ å‡½æ•°çš„ä¸‹ä¸€æ¬¡æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-comment">// è¿™é‡Œæ‰“å°count</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count)
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>);
  };
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>ä¹Ÿå°±æ˜¯æƒ³ä¸Šé¢çš„ä»£ç ä¸€æ ·ï¼Œç‚¹å‡»â€œç‚¹æˆ‘â€æŒ‰é’®åï¼Œæ§åˆ¶å°å°†è¾“å‡º1ã€‚</p>
<h3 data-id="heading-2">Reactç¬¬äºŒå‘</h3>
<p>å¤šæ¬¡æ‰§è¡ŒsetCountï¼Œå°±åƒæ‰§è¡Œäº†ä¸€æ¬¡ã€‚æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªä»£ç ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>);
    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>);
    <span class="hljs-title function_">setCount</span>(count + <span class="hljs-number">1</span>);
  };
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      å½“å‰è®¡æ•°ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>å¤§å®¶çœ‹çœ‹ï¼Œå½“ç‚¹å‡»â€œç‚¹æˆ‘â€æŒ‰é’®æ—¶ï¼Œå½“å‰è®¡æ•°æ˜¾ç¤ºçš„æ˜¯å¤šå°‘ï¼Ÿæœ‰äººå¯èƒ½ä¼šè¯´æ˜¯ï¼š3ã€‚</p>
<p>é‚£å°±é”™äº†ï¼Œç­”æ¡ˆå…¶å®æ˜¯1ã€‚è¿™è·Ÿæˆ‘ä»¬çš„é¢„æœŸæœ‰ç‚¹ä¸ä¸€è‡´ï¼Œè¿™å°±æ˜¯å®ƒçš„ç¬¬äºŒä¸ªå‘ã€‚é‚£å¦‚æœè¦è¾¾åˆ°é¢„æœŸï¼Œæˆ‘ä»¬åº”è¯¥æ€ä¹ˆæ”¹å‘¢ï¼Ÿ</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count);
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// å°†countæ”¹æˆä¸€ä¸ªå‡½æ•°(count)=&gt; count + 1</span>
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function">(<span class="hljs-params">count</span>) =&gt;</span> count + <span class="hljs-number">1</span>);
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function">(<span class="hljs-params">count</span>) =&gt;</span> count + <span class="hljs-number">1</span>);
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function">(<span class="hljs-params">count</span>) =&gt;</span> count + <span class="hljs-number">1</span>);
  };
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      å½“å‰è®¡æ•°ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>æœ‰ä¸€ä¸ªå¥‡æ€ªçš„åœ°æ–¹æ˜¯ï¼Œæˆ‘ä»¬ç‚¹å‡»æŒ‰é’®æ—¶è™½ç„¶è°ƒç”¨äº†ä¸‰æ¬¡setCountï¼Œä½†æ˜¯æ§åˆ¶å°åªæ‰“å°äº†æœ€åä¸€æ¬¡çš„countç»“æœï¼Œè¿™æ˜¯ä¸ºå•¥å‘¢ï¼Ÿå…¶å®æ˜¯å› ä¸ºsetCountæ˜¯è®¾ç½®åï¼Œç»„ä»¶çš„æ¸²æŸ“é€šè¿‡ä»»åŠ¡é˜Ÿåˆ—æ¯”å¦‚Promise.thenæˆ–è€…setTimeoutçš„æ–¹å¼å»å¼‚æ­¥æ›´æ–°çš„ï¼Œåœ¨é˜Ÿåˆ—é‡Œé¢åªæ˜¯åˆ¤æ–­æ˜¯å¦æ›´æ–°è¿‡stateå±æ€§ï¼Œæ›´æ–°è¿‡äº†æ‰ä¼šé‡æ–°æ¸²æŸ“ç»„ä»¶ï¼Œå› æ­¤å¤šæ¬¡ä¿®æ”¹å±æ€§åï¼Œç»„ä»¶ä»…ä»…åªä¼šæœ‰ä¸€æ¬¡æ›´æ–°ï¼Œè€Œä¸æ˜¯æ¯æ¬¡ä¿®æ”¹çŠ¶æ€éƒ½æ›´æ–°ã€‚å› æ­¤å°±ç®—åƒä¸‹é¢çš„ä»£ç ï¼Œä¹Ÿä¼šå¯¼è‡´ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count);
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// å…ˆ+1å-1ï¼Œç›¸å½“äºæ²¡æ”¹</span>
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function">(<span class="hljs-params">count</span>) =&gt;</span> count + <span class="hljs-number">1</span>);
    <span class="hljs-title function_">setCount</span>(<span class="hljs-function">(<span class="hljs-params">count</span>) =&gt;</span> count - <span class="hljs-number">1</span>);
  };
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>ç‚¹æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      å½“å‰è®¡æ•°ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-3">Reactç¬¬ä¸‰å‘</h3>
<p>å…ˆçœ‹ä»£ç </p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">HoverSwitch</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [isOn, setIsOne] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> label = isOn ? <span class="hljs-string">"å…³é—­"</span> : <span class="hljs-string">"å¼€å¯"</span>;
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setIsOne</span>(!isOn);
  };

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">onMouseMove</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-keyword">if</span> (isOn) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"move"</span>);
      }
    };
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"mousemove"</span>, onMouseMove);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">"mousemove"</span>, onMouseMove);
    };
  }, []);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>{label}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>ç‚¹å‡»â€œå¼€å¯â€æŒ‰é’®åï¼Œåœ¨é¡µé¢ä¸Šé¢ç§»åŠ¨é¼ æ ‡ï¼Œæ§åˆ¶å°æ˜¯å¦ä¼šæ‰“å°â€œmoveâ€ï¼Œç­”æ¡ˆæ˜æ˜¾æ˜¯ä¸ä¼šã€‚é‚£ç©¶ç«Ÿæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>åŸå› æ˜¯useEffectå‡½æ•°æ²¡æœ‰ä¾èµ–ä»»ä½•stateï¼Œå…¶å›è°ƒå‡½æ•°ä»…ä»…åªä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œè™½ç„¶è¯¥å›è°ƒå‡½æ•°ä¿å­˜äº†isOnè¿™ä¸ªé—­åŒ…ï¼Œä½†æ˜¯å› ä¸ºisOnæ˜¯ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼Œå½“ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶ï¼Œæ­¤isOnå·²ç»ä¸æ˜¯åŸæ¥çš„isOnï¼Œè€ŒuseEffectå‡½æ•°ä¿ç•™çš„è¿˜æ˜¯åŸæ¥çš„isOnï¼Œæ‰€ä»¥å…¶å€¼ä¸€ç›´éƒ½æ˜¯falseï¼Œæ•…ä¸ä¼šæ‰“å°â€œmoveâ€ã€‚</p>
<p>é‚£è¦å¦‚ä½•åšå‘¢ï¼Ÿæœ‰ä¸¤ä¸ªä¿®æ”¹æ–¹æ¡ˆï¼Œä¸€æ˜¯useEffectçš„ä¾èµ–åˆ—è¡¨ä¸ŠåŠ ä¸ŠisOnï¼›äºŒæ˜¯isOnæ”¹æˆuseRefï¼Œå³å¼•ç”¨ç±»å‹ã€‚æˆ‘æ›´æ¨èæ–¹æ¡ˆäºŒï¼Œå› ä¸ºä¸ç”¨é‡æ–°æ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œèµ„æºæ¶ˆè€—æ›´å°‘ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useEffect, useState, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">HoverSwitch</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> isOnRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> [label, setLabel] = <span class="hljs-title function_">useState</span>(<span class="hljs-string">"å¼€å¯"</span>);
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onClick</span> = (<span class="hljs-params"/>) =&gt; {
    isOnRef.<span class="hljs-property">current</span> = !isOnRef.<span class="hljs-property">current</span>;
    <span class="hljs-title function_">setLabel</span>(isOnRef.<span class="hljs-property">current</span> ? <span class="hljs-string">"å…³é—­"</span> : <span class="hljs-string">"å¼€å¯"</span>);
  };

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">onMouseMove</span> = (<span class="hljs-params"/>) =&gt; {
      <span class="hljs-keyword">if</span> (isOnRef.<span class="hljs-property">current</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"move"</span>);
      }
    };
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"mousemove"</span>, onMouseMove);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">"mousemove"</span>, onMouseMove);
    };
  }, []);
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>{label}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>ä½†æ˜¯useRefä¹Ÿä½¿ç”¨çš„é™åˆ¶ï¼Œä¸€æ˜¯ä¿®æ”¹refçš„å€¼ä¸ä¼šè§¦å‘é‡æ–°æ¸²æŸ“ï¼›äºŒæ˜¯refçš„å€¼åœ¨æ¸²æŸ“æœŸé—´ä¸å¯è¯»å–ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">HoverSwitch</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> labelRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-string">'å¼€å¯'</span>);
  <span class="hljs-comment">// ä¸èƒ½ç»„ä»¶çš„æ„é€ å‡½æ•°å†…å®¹è°ƒç”¨labelRef.currentï¼ŒåŒ…æ‹¬ä¸‹é¢çš„divé‡Œé¢</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{onClick}</span>&gt;</span>{labelRef.current}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>ä»¥ä¸Šå°±æ˜¯æˆ‘åœ¨ä½¿ç”¨Reactçš„è¿‡ç¨‹ä¸­æ€»ç»“çš„ä¸€äº›å‘ï¼Œå¤§å®¶å°½é‡é¿ä¸€é¿ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Flutterè¶…å¤§å›¾åƒå¯¼å‡ºæ’ä»¶ï¼šchunked_widget_to_imageæ’ä»¶ä»‹ç»]]></title>    <link>https://juejin.cn/post/7588152122187694134</link>    <guid>https://juejin.cn/post/7588152122187694134</guid>    <pubDate>2025-12-28T09:47:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588152122187694134" data-draft-id="7588092534162915328" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Flutterè¶…å¤§å›¾åƒå¯¼å‡ºæ’ä»¶ï¼šchunked_widget_to_imageæ’ä»¶ä»‹ç»"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2025-12-28T09:47:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="BG"/> <meta itemprop="url" content="https://juejin.cn/user/462236743902190"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Flutterè¶…å¤§å›¾åƒå¯¼å‡ºæ’ä»¶ï¼šchunked_widget_to_imageæ’ä»¶ä»‹ç»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/462236743902190/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    BG
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:47:57.000Z" title="Sun Dec 28 2025 09:47:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    17
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å“ˆå–½ï¼Œå„ä½ Flutter å¼€å‘è€…ä»¬ï¼ä»Šå¤©æˆ‘è¦ç»™å¤§å®¶ä»‹ç»ä¸€ä¸ªéå¸¸å®ç”¨çš„ Flutter æ’ä»¶ - <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbg-1998%2Fchunked_widget_to_image.git" target="_blank" title="https://github.com/bg-1998/chunked_widget_to_image.git" ref="nofollow noopener noreferrer">chunked_widget_to_image</a>ï¼</p>
<p>ä½œä¸ºä¸€ä¸ªç»å¸¸éœ€è¦å¤„ç†å›¾åƒå¯¼å‡ºçš„å¼€å‘è€…ï¼Œä½ æ˜¯å¦ä¹Ÿæ›¾ä¸º Flutter æ— æ³•å¤„ç†è¶…å¤§å›¾åƒå¯¼å‡ºè€Œè‹¦æ¼ï¼Ÿæ˜¯å¦ä¹Ÿå¸Œæœ›æœ‰ä¸€ä¸ªèƒ½å¤Ÿçªç ´å¹³å°é™åˆ¶çš„å¼ºå¤§å›¾åƒå¯¼å‡ºå·¥å…·ï¼Ÿé‚£ä¹ˆä»Šå¤©ä»‹ç»çš„è¿™ä¸ªæ’ä»¶ï¼Œç»å¯¹èƒ½è®©ä½ çœ¼å‰ä¸€äº®ï¼</p>
<blockquote>
<p>ä»€ä¹ˆï¼Ÿä½ è¯´ä½ æ²¡é‡åˆ°è¿‡è¶…å¤§å›¾åƒå¯¼å‡ºéœ€æ±‚ï¼Ÿé‚£ä½ ä¹Ÿåº”è¯¥çœ‹çœ‹ï¼Œè¯´ä¸å®šå“ªå¤©å°±ç”¨ä¸Šäº†å‘¢~</p>
</blockquote>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆé€‰æ‹© chunked_widget_to_imageï¼Ÿ</h2>
<p>åœ¨ Flutter ç”Ÿæ€ä¸­ï¼Œè™½ç„¶æœ‰ä¸€äº›æˆªå›¾å·¥å…·ï¼Œä½†å¯¹äºè¶…å¤§å°ºå¯¸çš„å›¾åƒå¯¼å‡ºå¾€å¾€åŠ›ä¸ä»å¿ƒï¼Œå®¹æ˜“å‡ºç°å†…å­˜æº¢å‡ºæˆ–å¹³å°çº¹ç†é™åˆ¶ç­‰é—®é¢˜ã€‚è€Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbg-1998%2Fchunked_widget_to_image.git" target="_blank" title="https://github.com/bg-1998/chunked_widget_to_image.git" ref="nofollow noopener noreferrer">chunked_widget_to_image</a> åˆ™æ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºè§£å†³è¿™äº›é—®é¢˜è€Œè®¾è®¡çš„æ’ä»¶ï¼Œå®ƒé‡‡ç”¨äº†åˆ›æ–°çš„åˆ†å—å¤„ç†æŠ€æœ¯ï¼Œå¯ä»¥è½»æ¾åº”å¯¹å„ç§è¶…å¤§å›¾åƒå¯¼å‡ºéœ€æ±‚ã€‚</p>
<p>è®©æˆ‘æ¥ç»™ä½ å±•ç¤ºä¸€ä¸‹å®ƒçš„æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>è¶…å¤§å›¾åƒæ”¯æŒ</strong>ï¼šçªç ´å¤§å¤šæ•°å¹³å°çš„çº¹ç†é™åˆ¶ï¼ˆæœ€å¤§æ”¯æŒ 16384 åƒç´ å®½é«˜ï¼‰ï¼Œæ”¯æŒå¯¼å‡ºè¶…å¤§å°ºå¯¸å›¾åƒ</li>
<li><strong>åˆ†å—å¤„ç†æœºåˆ¶</strong>ï¼šé‡‡ç”¨æ™ºèƒ½åˆ†å—æŠ€æœ¯ï¼Œæœ‰æ•ˆé¿å…å†…å­˜é—®é¢˜</li>
<li><strong>å¤šæ ¼å¼æ”¯æŒ</strong>ï¼šæ”¯æŒ PNG å’Œ JPEG æ ¼å¼å¯¼å‡º</li>
<li><strong>çµæ´»æ¸²æŸ“æ¨¡å¼</strong>ï¼šæ”¯æŒæ™®é€šæ¸²æŸ“å’Œç¦»å±æ¸²æŸ“</li>
<li><strong>é¢„ç¼–è¯‘é™æ€åº“</strong>ï¼šä½¿ç”¨é¢„ç¼–è¯‘é™æ€åº“æ›¿ä»£æ„å»ºæ—¶ç¼–è¯‘ï¼Œæä¾›æ›´å¿«çš„æ„å»ºæ—¶é—´å’Œä¸€è‡´çš„è¡Œä¸º</li>
<li><strong>é«˜æ€§èƒ½åŸç”Ÿæ”¯æŒ</strong>ï¼šé›†æˆäº† libpng å’Œ libjpeg-turbo åŸç”Ÿåº“ï¼Œä¿è¯é«˜è´¨é‡å’Œæ€§èƒ½</li>
</ul>
<p>æ˜¯ä¸æ˜¯æ„Ÿè§‰åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Ÿåˆ«æ€¥ï¼Œè¿˜æœ‰æ›´è¯¦ç»†çš„ä»‹ç»ç­‰ç€ä½ å‘¢ï¼</p>
<h2 data-id="heading-2">å·¥ä½œåŸç†æ­ç§˜</h2>
<h3 data-id="heading-3">åˆ†å—å¤„ç†æŠ€æœ¯</h3>
<p>æ’ä»¶çš„æ ¸å¿ƒåœ¨äºå…¶ç‹¬ç‰¹çš„åˆ†å—å¤„ç†æœºåˆ¶ã€‚é€šè¿‡å°†å¤§å›¾åƒåˆ†å‰²æˆå¤šä¸ªè¾ƒå°çš„å—é€ä¸€å¤„ç†ï¼Œé¿å…äº†ä¸€æ¬¡æ€§åŠ è½½æ•´ä¸ªå›¾åƒé€ æˆçš„å†…å­˜å‹åŠ›ã€‚åœ¨æºç ä¸­å¯ä»¥çœ‹åˆ°å…·ä½“çš„å®ç°é€»è¾‘ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">final</span> <span class="hljs-built_in">List</span>&lt;Rect&gt; chunksRect = [];
<span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> totalHeight = convSize.height;
<span class="hljs-built_in">double</span> dy = <span class="hljs-number">0</span>;
<span class="hljs-keyword">while</span> (dy &lt; totalHeight) {
  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> currentChunkHeight =
  (dy + chunkHeight &lt;= totalHeight)
      ? chunkHeight
      : totalHeight - dy;
  chunksRect.add(Rect.fromLTWH(<span class="hljs-number">0</span>, dy,
      convSize.width,
      currentChunkHeight));
  dy += chunkHeight;
}
</code></pre>
<p>è¿™ç§åˆ†å—ç­–ç•¥ç¡®ä¿äº†å³ä½¿æ˜¯éå¸¸å¤§çš„å›¾åƒä¹Ÿèƒ½è¢«é¡ºåˆ©å¤„ç†ã€‚æ’ä»¶å†…éƒ¨ä¼šè‡ªåŠ¨è®¡ç®—åˆé€‚çš„åƒç´ æ¯”ï¼Œä»¥ç¡®ä¿å›¾åƒåœ¨å„ç§å¹³å°ä¸Šéƒ½èƒ½æ­£ç¡®å¯¼å‡ºï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">if</span>(size.width*pixelRatio &gt; _kMaxChunkSize||
    size.height*pixelRatio &gt; _kMaxChunkSize){
  pixelRatio = pixelRatio*(_kMaxChunkSize/math.max(size.width,size.height));
}
</code></pre>
<h3 data-id="heading-4">åŸç”Ÿåº“é›†æˆ</h3>
<p>ä¸ºäº†ä¿è¯å›¾åƒè´¨é‡å’Œå¤„ç†æ€§èƒ½ï¼Œæ’ä»¶æ·±åº¦é›†æˆäº†ä¸¤ä¸ªè‘—åçš„å›¾åƒå¤„ç†åº“ï¼š</p>
<ul>
<li><strong>libpng</strong>ï¼šç”¨äº PNG æ ¼å¼çš„ç¼–ç å¤„ç†</li>
<li><strong>libjpeg-turbo</strong>ï¼šç”¨äº JPEG æ ¼å¼çš„ç¼–ç å¤„ç†</li>
</ul>
<p>è¿™äº›åŸç”Ÿåº“é€šè¿‡ C/C++ å®ç°ï¼Œæä¾›äº†æ¯”çº¯ Dart å®ç°æ›´é«˜çš„æ€§èƒ½å’Œæ›´å¥½çš„å›¾åƒè´¨é‡ã€‚</p>
<h3 data-id="heading-5">C å±‚å®ç°ç»†èŠ‚</h3>
<p>æ’ä»¶çš„é«˜æ€§èƒ½å®ç°ä¸ä»…ä¾èµ–äº Dart å±‚çš„åˆ†å—ç­–ç•¥ï¼ŒC å±‚çš„å®ç°ä¹Ÿè‡³å…³é‡è¦ã€‚åœ¨ C å±‚ï¼Œæ’ä»¶ä¸º PNG å’Œ JPEG ä¸¤ç§æ ¼å¼åˆ†åˆ«æä¾›äº†é«˜æ•ˆçš„å¤„ç†å‡½æ•°ã€‚</p>
<h4 data-id="heading-6">PNG æ ¼å¼å¤„ç†</h4>
<p>PNG æ ¼å¼çš„å¤„ç†ä¸»è¦é€šè¿‡ <code>widget_png.c</code> å®ç°ï¼Œå…¶æ ¸å¿ƒé€»è¾‘åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>ä¸Šä¸‹æ–‡åˆ›å»º</strong> (<code>create_png_context</code>)ï¼šåˆå§‹åŒ– PNG å†™å…¥ç»“æ„ï¼Œè®¾ç½®å›¾åƒå‚æ•°ï¼ŒåŒ…æ‹¬å®½åº¦ã€é«˜åº¦å’Œé¢œè‰²ç±»å‹ç­‰</li>
<li><strong>æ•°æ®å†™å…¥</strong> (<code>write_png_data</code>)ï¼šå°† RGBA æ•°æ®åˆ†å—å†™å…¥ PNG æ–‡ä»¶ï¼Œå…¶ä¸­ä½¿ç”¨äº† <code>MAX_BLOCK_WIDTH_PX</code>ï¼ˆ5120*4 åƒç´ ï¼‰ä½œä¸ºæœ€å¤§åˆ†å—å®½åº¦ï¼Œä»¥ç¡®ä¿å¤§å›¾åƒçš„ç¨³å®šå¤„ç†</li>
<li><strong>èµ„æºæ¸…ç†</strong> (<code>save_png_image</code>)ï¼šå®Œæˆ PNG æ–‡ä»¶å†™å…¥å¹¶é‡Šæ”¾ç›¸å…³èµ„æº</li>
</ol>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// PNG æ•°æ®å†™å…¥çš„æ ¸å¿ƒé€»è¾‘</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> row_idx = <span class="hljs-number">0</span>; row_idx &lt; row_count; row_idx++) {
    <span class="hljs-built_in">memset</span>(row_buf, <span class="hljs-number">0</span>, src_stride);
    <span class="hljs-comment">// å½“å‰è¡Œçš„åŸå§‹ RGBA æ•°æ®èµ·å§‹åœ°å€</span>
    png_bytep curr_row_data = rgba_data + (row_idx * src_stride);
    <span class="hljs-comment">// æŒ‰ 5120*4 åƒç´ å®½åº¦çºµå‘åˆ‡å‰²å½“å‰è¡Œï¼Œé€å—å¡«å……</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> block_x = <span class="hljs-number">0</span>; block_x &lt; src_stride; block_x += MAX_BLOCK_WIDTH_PX) {
        <span class="hljs-type">int</span> curr_block_width_px = (block_x + MAX_BLOCK_WIDTH_PX) &gt; src_stride
                                  ? (src_stride - block_x)
                                  : MAX_BLOCK_WIDTH_PX;
        <span class="hljs-built_in">memcpy</span>(
                row_buf + block_x,    <span class="hljs-comment">// ç›®æ ‡ï¼šè¡Œç¼“å†²åŒºçš„å—ä½ç½®</span>
                curr_row_data + block_x, <span class="hljs-comment">// æºï¼šåŸå§‹æ•°æ®çš„å—ä½ç½®</span>
                curr_block_width_px            <span class="hljs-comment">// æ‹·è´å­—èŠ‚æ•°</span>
        );
    }
    png_write_rows(png_ptr, &amp;row_buf, <span class="hljs-number">1</span>);
}
</code></pre>
<h4 data-id="heading-7">JPEG æ ¼å¼å¤„ç†</h4>
<p>JPEG æ ¼å¼çš„å¤„ç†é€šè¿‡ <code>widget_jpeg.c</code> å®ç°ï¼Œå…¶å…³é”®ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p>
<ol>
<li><strong>ä¸Šä¸‹æ–‡åˆ›å»º</strong> (<code>create_jpeg_context</code>)ï¼šåˆå§‹åŒ– JPEG å‹ç¼©ç»“æ„ï¼Œè®¾ç½®å›¾åƒå‚æ•°å’Œè´¨é‡ï¼ˆé»˜è®¤ 100%ï¼Œä½¿ç”¨æœ€å¿« DCT æ–¹æ³•ï¼‰</li>
<li><strong>æ•°æ®å†™å…¥</strong> (<code>write_jpeg_data</code>)ï¼šå°† RGBA æ•°æ®è½¬æ¢ä¸º I420 æ ¼å¼åå†å†™å…¥ JPEGï¼Œè¿™åˆ©ç”¨äº† JPEG åŸç”Ÿçš„ YUV è‰²å½©ç©ºé—´ä¼˜åŠ¿</li>
<li><strong>èµ„æºæ¸…ç†</strong> (<code>save_jpeg_image</code>)ï¼šå®Œæˆ JPEG æ–‡ä»¶å†™å…¥å¹¶é‡Šæ”¾ç›¸å…³èµ„æº</li>
</ol>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// RGBA â†’ I420 è½¬æ¢å¹¶å†™å…¥ JPEG</span>
rgba_to_i420(
        rgba_data,
        src_stride,
        y_plane,
        width,
        u_plane,
        width / <span class="hljs-number">2</span>,
        v_plane,
        width / <span class="hljs-number">2</span>,
        width,
        row_count
);

<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> y = <span class="hljs-number">0</span>; y &lt; row_count; y++) {
    <span class="hljs-type">uint8_t</span>* y_row = y_plane + y * width;
    <span class="hljs-type">uint8_t</span>* u_row = u_plane + (y / <span class="hljs-number">2</span>) * (width / <span class="hljs-number">2</span>);
    <span class="hljs-type">uint8_t</span>* v_row = v_plane + (y / <span class="hljs-number">2</span>) * (width / <span class="hljs-number">2</span>);

    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> x = <span class="hljs-number">0</span>; x &lt; width; x++) {
        jpeg_row[x * <span class="hljs-number">3</span> + <span class="hljs-number">0</span>] = y_row[x];
        jpeg_row[x * <span class="hljs-number">3</span> + <span class="hljs-number">1</span>] = u_row[x &gt;&gt; <span class="hljs-number">1</span>];
        jpeg_row[x * <span class="hljs-number">3</span> + <span class="hljs-number">2</span>] = v_row[x &gt;&gt; <span class="hljs-number">1</span>];
    }
    jpeg_write_scanlines(cinfo, row_ptr, <span class="hljs-number">1</span>);
    ctx-&gt;current_row++;
}
</code></pre>
<p>C å±‚å®ç°è¿˜åŒ…å«é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œä½¿ç”¨ <code>setjmp</code>/<code>longjmp</code> æ¥æ•è·å’Œå¤„ç† JPEG å’Œ PNG ç¼–ç è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°çš„é”™è¯¯ï¼Œç¡®ä¿æ’ä»¶çš„ç¨³å®šæ€§å’Œå¥å£®æ€§ã€‚</p>
<h3 data-id="heading-8">Isolate ä¸­çš„å›¾åƒç¼–ç </h3>
<p>æ’ä»¶åœ¨è®¾è®¡æ—¶ç‰¹åˆ«å…³æ³¨äº† UI çº¿ç¨‹çš„æ€§èƒ½ï¼Œæ‰€æœ‰å›¾åƒç¼–ç å’Œä¿å­˜æ“ä½œéƒ½åœ¨ç‹¬ç«‹çš„ isolate ä¸­æ‰§è¡Œï¼Œé¿å…äº†ä¸»çº¿ç¨‹ UI å¡é¡¿çš„é—®é¢˜ã€‚åœ¨ Dart å±‚ï¼Œæ’ä»¶é€šè¿‡ <code>compute</code> å‡½æ•°å°†å›¾åƒå†™å…¥ä»»åŠ¡åˆ†é…åˆ°åå° isolateï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">static</span> Future&lt;<span class="hljs-built_in">int</span>&gt; executeWriteImage(WriteImageComputeParams params) <span class="hljs-keyword">async</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> compute(
    executeWriteImageIsolate,
    params,
  );
}

<span class="hljs-built_in">int</span> executeWriteImageIsolate(WriteImageComputeParams params) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-built_in">int</span> result = _writeWidgetToImage(params);
    <span class="hljs-keyword">return</span> result;
  } <span class="hljs-keyword">finally</span> {
  }
}
</code></pre>
<p>è¿™ç§è®¾è®¡ç¡®ä¿äº†å³ä½¿åœ¨å¤„ç†å¤§å‹å›¾åƒæ—¶ï¼ŒFlutter åº”ç”¨çš„ UI ä¹Ÿèƒ½ä¿æŒæµç•…å“åº”ï¼Œä¸ºç”¨æˆ·æä¾›äº†æ›´å¥½çš„ä½“éªŒã€‚</p>
<h2 data-id="heading-9">å®‰è£…ä¸é…ç½®æŒ‡å—</h2>
<h3 data-id="heading-10">1. æ·»åŠ ä¾èµ–</h3>
<p>åœ¨ä½ çš„ <a title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target=">pubspec.yaml</a> æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä¾èµ–ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">chunked_widget_to_image:</span> <span class="hljs-string">^1.0.0</span>
</code></pre>
<h3 data-id="heading-11">2. å®‰è£…ä¾èµ–</h3>
<pre><code class="hljs language-bash" lang="bash">flutter pub get
</code></pre>
<h3 data-id="heading-12">3. é…ç½®è¯´æ˜ï¼ˆé‡è¦å˜æ›´ï¼‰</h3>
<p>ä¸æ—©æœŸç‰ˆæœ¬ä¸åŒï¼Œæ’ä»¶ç°åœ¨ä½¿ç”¨<strong>é¢„ç¼–è¯‘é™æ€åº“</strong>è¿›è¡Œå›¾åƒå¤„ç†ï¼Œè€Œä¸æ˜¯æ„å»ºæ—¶é…ç½®é€‰é¡¹ã€‚è¿™ä¸€é‡å¤§å˜æ›´æ„å‘³ç€ï¼š</p>
<ul>
<li>æ›´å¿«çš„æ„å»ºæ—¶é—´</li>
<li>è·¨ç¯å¢ƒçš„ä¸€è‡´è¡Œä¸º</li>
<li>ç®€åŒ–çš„æ„å»ºå¤æ‚åº¦</li>
<li><strong>ç§»é™¤äº†æ„å»ºæ—¶é…ç½®é€‰é¡¹</strong> (CHUNKED_WIDGET_TO_PNG å’Œ CHUNKED_WIDGET_TO_JPEG)</li>
</ul>
<p>è¿™ç§æ–¹æ³•æ¶ˆé™¤äº†æ„å»ºæ—¶ç¯å¢ƒå˜é‡çš„éœ€æ±‚ï¼Œå¹¶æä¾›æ›´å¿«çš„æ„å»ºæ—¶é—´ã€‚æ‰€æœ‰æ”¯æŒçš„å¹³å°éƒ½ä½¿ç”¨é¢„ç¼–è¯‘çš„é™æ€åº“ã€‚</p>
<h2 data-id="heading-13">å¿«é€Ÿä¸Šæ‰‹æ•™ç¨‹</h2>
<h3 data-id="heading-14">åŸºç¡€ç”¨æ³•</h3>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">// åˆ›å»ºæ§åˆ¶å™¨</span>
<span class="hljs-keyword">final</span> controller = WidgetToImageController();

<span class="hljs-comment">// åœ¨ Widget æ ‘ä¸­ä½¿ç”¨</span>
WidgetToImage(
  controller: controller,
  child: YourWidget(), <span class="hljs-comment">// ä½ æƒ³è¦è½¬æ¢ä¸ºå›¾ç‰‡çš„ widget</span>
),

<span class="hljs-comment">// å¯¼å‡ºä¸ºå›¾ç‰‡æ–‡ä»¶</span>
controller.toImageFile(
  outPath: <span class="hljs-string">'/path/to/output.png'</span>,
  format: ImageFormat.png,
  callback: (result, message) {
    <span class="hljs-keyword">if</span> (result) {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'å›¾ç‰‡å¯¼å‡ºæˆåŠŸ: <span class="hljs-subst">$message</span>'</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">print</span>(<span class="hljs-string">'å›¾ç‰‡å¯¼å‡ºå¤±è´¥: <span class="hljs-subst">$message</span>'</span>);
    }
  },
);
</code></pre>
<h3 data-id="heading-15">ç¦»å±æ¸²æŸ“</h3>
<p>å¯¹äºä¸éœ€è¦æ·»åŠ åˆ° widget æ ‘ä¸­çš„å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ç¦»å±æ¸²æŸ“åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">controller.toImageFileFromWidget(
  YourWidget(),
  outPath: <span class="hljs-string">'/path/to/output.jpg'</span>,
  format: ImageFormat.jpg,
  callback: (result, message) {
    <span class="hljs-comment">// å¤„ç†ç»“æœ</span>
  },
);
</code></pre>
<h3 data-id="heading-16">é•¿å†…å®¹å¤„ç†</h3>
<p>é’ˆå¯¹é•¿åˆ—è¡¨æˆ–é•¿å†…å®¹ï¼Œæ’ä»¶æä¾›äº†ä¸“é—¨çš„æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">controller.toImageFileFromLongWidget(
  YourLongWidget(),
  outPath: <span class="hljs-string">'/path/to/output.png'</span>,
  format: ImageFormat.png,
  callback: (result, message) {
    <span class="hljs-comment">// å¤„ç†ç»“æœ</span>
  },
);
</code></pre>
<h2 data-id="heading-17">å¹³å°æ”¯æŒæƒ…å†µ</h2>
<p>æ’ä»¶æ ¹æ®å¹³å°ä½¿ç”¨ä¸åŒçš„å®ç°æ–¹å¼ï¼š</p>
<ul>
<li><strong>æ”¯æŒå¹³å°</strong> (Android/iOS/macOS/Windows): ä½¿ç”¨åŸç”Ÿåº“(libpng, libjpeg-turbo)ä¿è¯é«˜æ€§èƒ½å’Œé«˜è´¨é‡</li>
<li><strong>Linux å¹³å°</strong>: ç›®å‰æš‚ä¸æ”¯æŒï¼ˆåœ¨ pubspec.yaml ä¸­å·²è¢«æ³¨é‡Šï¼‰</li>
</ul>
<blockquote>
<p><strong>é‡è¦å˜æ›´</strong>ï¼šmacOS å¹³å°ç°åœ¨ä»…æ”¯æŒ ARM64 æ¶æ„ (Apple Silicon)ã€‚æ­¤å˜æ›´ç®€åŒ–äº†åˆ†å‘å¹¶ç¡®ä¿åœ¨ç°ä»£ macOS è®¾å¤‡ä¸Šçš„æœ€ä½³æ€§èƒ½ã€‚</p>
</blockquote>
<h2 data-id="heading-18">å®é™…åº”ç”¨åœºæ™¯</h2>
<ol>
<li><strong>é•¿å›¾æ–‡åˆ†äº«</strong>ï¼šç¤¾äº¤åª’ä½“ä¸­çš„é•¿å›¾åˆ†äº«åŠŸèƒ½</li>
<li><strong>æŠ¥è¡¨å¯¼å‡º</strong>ï¼šå°†å¤æ‚çš„æ•°æ®å¯è§†åŒ–å›¾è¡¨å¯¼å‡ºä¸ºé«˜æ¸…å›¾åƒ</li>
<li><strong>è¯ä¹¦ç”Ÿæˆ</strong>ï¼šåŠ¨æ€ç”Ÿæˆå¹¶ä¿å­˜ä¸ªæ€§åŒ–è¯ä¹¦</li>
<li><strong>åœ°å›¾å¿«ç…§</strong>ï¼šæˆªå–å¤§å°ºå¯¸åœ°å›¾è§†å›¾ä¸ºæœ¬åœ°æ–‡ä»¶</li>
<li><strong>æ–‡æ¡£é¢„è§ˆ</strong>ï¼šå°†å¤šé¡µæ–‡æ¡£å†…å®¹å¯¼å‡ºä¸ºå›¾åƒåºåˆ—</li>
</ol>
<h2 data-id="heading-19">æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<ol>
<li><strong>åˆç†è®¾ç½®åˆ†å—å¤§å°</strong>ï¼šæ’ä»¶å†…éƒ¨ä¼šè‡ªåŠ¨è®¡ç®—åˆé€‚çš„åˆ†å—å¤§å°ï¼Œä»¥åœ¨å†…å­˜å ç”¨å’Œå¤„ç†æ•ˆç‡é—´æ‰¾åˆ°å¹³è¡¡ç‚¹</li>
<li><strong>é€‰æ‹©åˆé€‚çš„å›¾åƒæ ¼å¼</strong>ï¼šJPEG é€‚åˆç…§ç‰‡ç±»å†…å®¹ï¼ŒPNG é€‚åˆå›¾å½¢å’Œç•Œé¢æˆªå›¾</li>
<li><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šå›¾åƒå¯¼å‡ºæ˜¯è€—æ—¶æ“ä½œï¼Œæ’ä»¶å†…éƒ¨å·²å®ç°å¼‚æ­¥å¤„ç†ï¼ŒåŠ¡å¿…åœ¨åå°çº¿ç¨‹æ‰§è¡Œ</li>
<li><strong>å†…å­˜ç®¡ç†</strong>ï¼šæ’ä»¶å†…éƒ¨ä¼šè‡ªåŠ¨å¤„ç†å›¾åƒå†…å­˜é‡Šæ”¾ï¼Œé¿å…å†…å­˜æ³„æ¼</li>
</ol>
<h2 data-id="heading-20">é”™è¯¯å¤„ç†</h2>
<p>å½“æŸä¸ªåŠŸèƒ½åœ¨ç¼–è¯‘æ—¶è¢«ç¦ç”¨ï¼Œè€Œç”¨æˆ·è¯•å›¾ä½¿ç”¨å®ƒæ—¶ï¼š</p>
<ul>
<li>å‡½æ•°å°†è¿”å›é”™è¯¯ç  <code>-1</code> è¡¨ç¤ºè¯¥åŠŸèƒ½ä¸å¯ç”¨</li>
<li>ä¸ä¼šå‘ç”Ÿå´©æºƒæˆ–æœªå®šä¹‰çš„è¡Œä¸º</li>
</ul>
<h2 data-id="heading-21">æ€»ç»“</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbg-1998%2Fchunked_widget_to_image.git" target="_blank" title="https://github.com/bg-1998/chunked_widget_to_image.git" ref="nofollow noopener noreferrer">chunked_widget_to_image</a> æ’ä»¶ä¸º Flutter å¼€å‘è€…æä¾›äº†ä¸€ä¸ªå¼ºå¤§ä¸”çµæ´»çš„å›¾åƒå¯¼å‡ºè§£å†³æ–¹æ¡ˆã€‚æ— è®ºæ˜¯ç®€å•çš„ widget æˆªå›¾è¿˜æ˜¯å¤æ‚çš„è¶…å¤§å›¾åƒå¤„ç†ï¼Œå®ƒéƒ½èƒ½èƒœä»»ã€‚é€šè¿‡å·§å¦™çš„åˆ†å—æŠ€æœ¯å’ŒåŸç”Ÿåº“é›†æˆï¼Œè§£å†³äº†ä¼ ç»Ÿæˆªå›¾æ–¹å¼é¢ä¸´çš„è¯¸å¤šé™åˆ¶ã€‚</p>
<p>æ’ä»¶åœ¨ 1.0.0 ç‰ˆæœ¬ä¸­è¿›è¡Œäº†é‡å¤§é‡æ„ï¼Œé‡‡ç”¨é¢„ç¼–è¯‘é™æ€åº“çš„æ–¹å¼ï¼Œæ˜¾è‘—æå‡äº†æ„å»ºæ•ˆç‡å’Œè·¨å¹³å°ä¸€è‡´æ€§ã€‚è™½ç„¶ç§»é™¤äº†æŒ‰éœ€ç¼–è¯‘çš„åŠŸèƒ½ï¼Œä½†æ¢æ¥äº†æ›´å¿«çš„æ„å»ºé€Ÿåº¦å’Œæ›´ç¨³å®šçš„è¿è¡Œæ—¶è¡¨ç°ã€‚</p>
<p>å¦‚æœä½ åœ¨é¡¹ç›®ä¸­é‡åˆ°å›¾åƒå¯¼å‡ºç›¸å…³çš„éœ€æ±‚ï¼Œä¸å¦¨è¯•è¯•è¿™æ¬¾æ’ä»¶ã€‚å®ƒçš„è®¾è®¡ç†å¿µå’Œå®ç°æ–¹å¼ä¹Ÿä¸ºæˆ‘ä»¬åœ¨å¤„ç†å…¶ä»–å¤§æ–‡ä»¶æˆ–å¤§æ•°æ®åœºæ™¯æ—¶æä¾›äº†å¾ˆå¥½çš„å‚è€ƒæ€è·¯ã€‚</p>
<p>æ’ä»¶ç›®å‰ä»åœ¨ç§¯æå¼€å‘ä¸­ï¼Œæ¬¢è¿å¤§å®¶åœ¨ GitHub ä¸Šæå‡º issue å’Œ PRï¼Œå…±åŒå®Œå–„è¿™ä¸ªå®ç”¨å·¥å…·ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œä½¿ç”¨ chunked_widget_to_image æ’ä»¶ï¼</p>
<h3 data-id="heading-22">é¡¹ç›®ä¿¡æ¯</h3>
<ul>
<li>åŒ…åï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbg-1998%2Fchunked_widget_to_image.git" target="_blank" title="https://github.com/bg-1998/chunked_widget_to_image.git" ref="nofollow noopener noreferrer">chunked_widget_to_image</a></li>
<li>æ”¯æŒå¹³å°ï¼šAndroidã€iOSã€Windowsã€macOSï¼ˆLinux æš‚ä¸æ”¯æŒï¼‰</li>
<li>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbg-1998%2Fchunked_widget_to_image.git" target="_blank" title="https://github.com/bg-1998/chunked_widget_to_image.git" ref="nofollow noopener noreferrer">github.com/bg-1998/chuâ€¦</a></li>
</ul>
<h3 data-id="heading-23">å®‰è£…æ–¹å¼</h3>
<pre><code class="hljs language-bash" lang="bash">flutter pub add chunked_widget_to_image
</code></pre>
<blockquote>
<p>P.S. ä»¥ä¸Šæ–‡ç« å†…å®¹ç”±AIæ€»ç»“.</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Node.js åŸç”Ÿå®ç°JSON-RPCåŠé•¿è¿›ç¨‹åŒå‘é€šä¿¡å®è·µ]]></title>    <link>https://juejin.cn/post/7588365276190801958</link>    <guid>https://juejin.cn/post/7588365276190801958</guid>    <pubDate>2025-12-28T10:22:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588365276190801958" data-draft-id="7588140921248841766" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.js åŸç”Ÿå®ç°JSON-RPCåŠé•¿è¿›ç¨‹åŒå‘é€šä¿¡å®è·µ"/> <meta itemprop="keywords" content="Node.js"/> <meta itemprop="datePublished" content="2025-12-28T10:22:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯æµä¸€"/> <meta itemprop="url" content="https://juejin.cn/user/1380642336812808"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.js åŸç”Ÿå®ç°JSON-RPCåŠé•¿è¿›ç¨‹åŒå‘é€šä¿¡å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1380642336812808/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯æµä¸€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T10:22:26.000Z" title="Sun Dec 28 2025 10:22:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Node.js åŸç”Ÿå®ç°JSON-RPCåŠé•¿è¿›ç¨‹åŒå‘é€šä¿¡å®è·µ</h2>
<h3 data-id="heading-1">é—®é¢˜</h3>
<p>ç”±äºè´Ÿè´£çš„ä¸šåŠ¡é¡¹ç›®ä¸­åŸæ¥çš„æ¶æ„æ¯ä¸ªæ“ä½œéƒ½ spawn ä¸€ä¸ª Pythonå¤§æ¨¡å‹çš„ è¿›ç¨‹ï¼Œæ‰§è¡Œå®Œå°±é€€å‡ºã€‚å½“ Agent éœ€è¦äººæœºäº¤äº’ï¼ˆ<code>help_needed</code>ï¼‰æ—¶ï¼Œè¿›ç¨‹å·²ç»ç»“æŸäº†ï¼Œ<code>submitUserResponse</code> æ²¡æ³•æŠŠå“åº”ä¼ å›å»ã€‚</p>
<h3 data-id="heading-2">è§£å†³æ€è·¯</h3>
<p>æ”¹æˆé•¿è¿›ç¨‹ï¼ŒPython å¯åŠ¨åä¸é€€å‡ºï¼Œé€šè¿‡ stdin/stdout æŒç»­é€šä¿¡ã€‚</p>
<h3 data-id="heading-3">åè®®è®¾è®¡</h3>
<p>ç”¨ JSON-RPC é£æ ¼ï¼Œæ¯è¡Œä¸€ä¸ª JSONã€‚</p>
<p><strong>è¯·æ±‚ï¼ˆJS â†’ Python stdinï¼‰ï¼š</strong></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"jsonrpc"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"2.0"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"req_1"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"method"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"get_llm_providers"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"params"</span><span class="hljs-punctuation">:</span><span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>å“åº”ï¼ˆPython stdout â†’ JSï¼‰ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">RESPONSE</span>]{<span class="hljs-string">"jsonrpc"</span>:<span class="hljs-string">"2.0"</span>,<span class="hljs-string">"id"</span>:<span class="hljs-string">"req_1"</span>,<span class="hljs-string">"result"</span>:{...}}
</code></pre>
<p><strong>äº‹ä»¶é€šçŸ¥ï¼ˆPython â†’ JSï¼‰ï¼š</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">EVENT</span>]{<span class="hljs-string">"jsonrpc"</span>:<span class="hljs-string">"2.0"</span>,<span class="hljs-string">"method"</span>:<span class="hljs-string">"help_needed"</span>,<span class="hljs-string">"params"</span>:{<span class="hljs-string">"query"</span>:<span class="hljs-string">"éœ€è¦ä»€ä¹ˆå¸®åŠ©ï¼Ÿ"</span>}}
</code></pre>
<p>åŠ å‰ç¼€ <code>[RESPONSE]</code> å’Œ <code>[EVENT]</code> æ˜¯ä¸ºäº†å’Œå…¶ä»–æ—¥å¿—åŒºåˆ†å¼€ã€‚</p>
<h3 data-id="heading-4">Python ç«¯å®ç°</h3>
<p>æ ¸å¿ƒæ˜¯ä¸€ä¸ªæ­»å¾ªç¯è¯» stdinï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">DaemonWrapper</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.wrapper = BRTWrapper()  <span class="hljs-comment"># å¤ç”¨åŒä¸€ä¸ªå®ä¾‹ï¼ŒçŠ¶æ€ä¿æŒ</span>
        self.running = <span class="hljs-literal">True</span>
        
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">read_stdin_line</span>(<span class="hljs-params">self</span>):
        loop = asyncio.get_event_loop()
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> loop.run_in_executor(<span class="hljs-literal">None</span>, sys.stdin.readline)
        
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):
        self.send_event(<span class="hljs-string">'ready'</span>, {<span class="hljs-string">'message'</span>: <span class="hljs-string">'å®ˆæŠ¤è¿›ç¨‹å·²å°±ç»ª'</span>})
        
        <span class="hljs-keyword">while</span> self.running:
            line = <span class="hljs-keyword">await</span> self.read_stdin_line()
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> line:  <span class="hljs-comment"># EOF</span>
                <span class="hljs-keyword">break</span>
            request = json.loads(line.strip())
            asyncio.create_task(self.handle_request(request))
</code></pre>
<p>å…³é”®ç‚¹ï¼š</p>
<ol>
<li><code>run_in_executor</code> æŠŠåŒæ­¥çš„ <code>readline</code> å˜æˆå¼‚æ­¥ï¼Œä¸é˜»å¡äº‹ä»¶å¾ªç¯</li>
<li><code>create_task</code> å¤„ç†è¯·æ±‚ï¼Œä¸é˜»å¡ä¸»å¾ªç¯ç»§ç»­è¯» stdin</li>
<li><code>BRTWrapper</code> å®ä¾‹å¤ç”¨ï¼Œ<code>asyncio.Event</code> ç­‰çŠ¶æ€éƒ½åœ¨</li>
</ol>
<h3 data-id="heading-5">JS ç«¯å®ç°</h3>
<p>spawn è¿›ç¨‹åï¼Œç›‘å¬ stdout è§£æå“åº”ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">startDaemon</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">daemonProcess</span> = <span class="hljs-title function_">spawn</span>(<span class="hljs-string">'/bin/bash'</span>, [<span class="hljs-variable language_">this</span>.<span class="hljs-property">runScript</span>, <span class="hljs-string">'--daemon'</span>], {
        <span class="hljs-attr">stdio</span>: [<span class="hljs-string">'pipe'</span>, <span class="hljs-string">'pipe'</span>, <span class="hljs-string">'pipe'</span>]
    })
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">daemonProcess</span>.<span class="hljs-property">stdout</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">'data'</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_handleDaemonOutput</span>(data.<span class="hljs-title function_">toString</span>())
    })
}

<span class="hljs-title function_">_handleDaemonOutput</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-comment">// å¤„ç†è·¨è¡Œæ•°æ®</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputBuffer</span> += data
    <span class="hljs-keyword">const</span> lines = <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputBuffer</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\n'</span>)
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputBuffer</span> = lines.<span class="hljs-title function_">pop</span>() || <span class="hljs-string">''</span>
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> line <span class="hljs-keyword">of</span> lines) {
        <span class="hljs-keyword">if</span> (line.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'[RESPONSE]'</span>)) {
            <span class="hljs-keyword">const</span> response = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(line.<span class="hljs-title function_">substring</span>(<span class="hljs-number">10</span>))
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_handleDaemonResponse</span>(response)
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (line.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'[EVENT]'</span>)) {
            <span class="hljs-keyword">const</span> event = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(line.<span class="hljs-title function_">substring</span>(<span class="hljs-number">7</span>))
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_handleDaemonEvent</span>(event)
        }
    }
}
</code></pre>
<p>å‘è¯·æ±‚å°±æ˜¯å¾€ stdin å†™ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-title function_">_sendRequest</span>(<span class="hljs-params">method, params = {}</span>) {
    <span class="hljs-keyword">const</span> requestId = <span class="hljs-string">`req_<span class="hljs-subst">${++<span class="hljs-variable language_">this</span>.requestIdCounter}</span>`</span>
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">pendingRequests</span>.<span class="hljs-title function_">set</span>(requestId, { resolve, reject })
        
        <span class="hljs-keyword">const</span> request = { <span class="hljs-attr">jsonrpc</span>: <span class="hljs-string">'2.0'</span>, <span class="hljs-attr">id</span>: requestId, method, params }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">daemonProcess</span>.<span class="hljs-property">stdin</span>.<span class="hljs-title function_">write</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(request) + <span class="hljs-string">'\n'</span>)
    })
}
</code></pre>
<h3 data-id="heading-6">è¸©å‘</h3>
<h4 data-id="heading-7">1. stdout æ•°æ®åˆ†ç‰‡</h4>
<p>stdout çš„ data äº‹ä»¶ä¸ä¿è¯æŒ‰è¡Œæ¥ï¼Œå¯èƒ½ä¸€æ¬¡æ”¶åˆ°åŠè¡Œï¼Œä¹Ÿå¯èƒ½ä¸€æ¬¡æ”¶åˆ°å¥½å‡ è¡Œã€‚å¿…é¡»ç”¨ buffer æ‹¼æ¥ï¼ŒæŒ‰ <code>\n</code> åˆ‡åˆ†ã€‚</p>
<h4 data-id="heading-8">2. é•¿ä»»åŠ¡é˜»å¡</h4>
<p>pythonçš„å¤§æ¨¡å‹ä»»åŠ¡è·‘èµ·æ¥å¯èƒ½å‡ åˆ†é’Ÿï¼Œä¸èƒ½é˜»å¡ stdin è¯»å–ï¼Œå¦åˆ™ <code>submitUserResponse</code> å‘è¿‡æ¥æ”¶ä¸åˆ°ã€‚ç”¨ <code>create_task</code> æŠŠé•¿ä»»åŠ¡ä¸¢åå°ã€‚</p>
<h4 data-id="heading-9">3. stdin æ˜¯åŒæ­¥çš„</h4>
<p>Python çš„ <code>sys.stdin.readline()</code> æ˜¯åŒæ­¥é˜»å¡çš„ï¼Œç›´æ¥ await ä¼šå¡ä½äº‹ä»¶å¾ªç¯ã€‚å¿…é¡»ç”¨ <code>run_in_executor</code> æ‰”åˆ°çº¿ç¨‹æ± ã€‚</p>
<h4 data-id="heading-10">4. è¿›ç¨‹æ¸…ç†</h4>
<p>å…³é—­æ—¶å…ˆå°è¯•å‘ shutdown å‘½ä»¤ä¼˜é›…é€€å‡ºï¼Œè¶…æ—¶å SIGTERMï¼Œå†ä¸è¡Œ SIGKILLã€‚Windows ç”¨ taskkillã€‚</p>
<h3 data-id="heading-11">æ•ˆæœ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BundleBRTClient</span>(bundlePath)

<span class="hljs-comment">// ç›‘å¬éœ€è¦å¸®åŠ©äº‹ä»¶</span>
client.<span class="hljs-title function_">on</span>(<span class="hljs-string">'help_needed'</span>, <span class="hljs-keyword">async</span> (data) =&gt; {
    <span class="hljs-keyword">const</span> answer = <span class="hljs-keyword">await</span> <span class="hljs-title function_">promptUser</span>(data.<span class="hljs-property">query</span>)
    <span class="hljs-keyword">await</span> client.<span class="hljs-title function_">submitUserResponse</span>(answer)  <span class="hljs-comment">// ä¼ å›åŒä¸€ä¸ªè¿›ç¨‹</span>
})

<span class="hljs-keyword">await</span> client.<span class="hljs-title function_">startBRTask</span>(<span class="hljs-string">'...'</span>)  <span class="hljs-comment">// ä»»åŠ¡è·‘åœ¨åå°</span>
<span class="hljs-keyword">await</span> client.<span class="hljs-title function_">getTaskStatus</span>()          <span class="hljs-comment">// å¤ç”¨åŒä¸€è¿›ç¨‹</span>
<span class="hljs-keyword">await</span> client.<span class="hljs-title function_">close</span>()                  <span class="hljs-comment">// æ¸…ç†</span>
</code></pre>
<p>è¿›ç¨‹å¯åŠ¨ä¸€æ¬¡ï¼Œåç»­æ‰€æœ‰è°ƒç”¨éƒ½æ˜¯ stdin/stdout é€šä¿¡ï¼ŒçŠ¶æ€ä¿æŒï¼Œå¤šè½®å¯¹è¯å¯ä»¥æ­£å¸¸å·¥ä½œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Androidè½¦æœºå¡é¡¿æ¡ˆä¾‹å‰–æ:ä»Binderè€—å°½åˆ°å•ä¾‹ç¼ºå¤±çš„æ·±åº¦æ’æŸ¥]]></title>    <link>https://juejin.cn/post/7588098335791316992</link>    <guid>https://juejin.cn/post/7588098335791316992</guid>    <pubDate>2025-12-28T09:37:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588098335791316992" data-draft-id="7588124225702576168" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Androidè½¦æœºå¡é¡¿æ¡ˆä¾‹å‰–æ:ä»Binderè€—å°½åˆ°å•ä¾‹ç¼ºå¤±çš„æ·±åº¦æ’æŸ¥"/> <meta itemprop="keywords" content="Android,æ€§èƒ½ä¼˜åŒ–,Debug"/> <meta itemprop="datePublished" content="2025-12-28T09:37:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Androidè½¦æœºå¡é¡¿æ¡ˆä¾‹å‰–æ:ä»Binderè€—å°½åˆ°å•ä¾‹ç¼ºå¤±çš„æ·±åº¦æ’æŸ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:37:17.000Z" title="Sun Dec 28 2025 09:37:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—®é¢˜ç°è±¡</h2>
<p>æŸAndroidè½¦æœºé¡¹ç›®åœ¨æµ‹è¯•é˜¶æ®µå‘ç°ä¸€ä¸ªå¶ç°çš„ä¸¥é‡å¡é¡¿é—®é¢˜:</p>
<p><strong>å¤ç°æ­¥éª¤:</strong></p>
<ol>
<li>æ‰“å¼€é©¾é©¶è¾…åŠ©(APA)ç•Œé¢</li>
<li>ç‚¹å‡»Homeé”®å›åˆ°æ¡Œé¢</li>
</ol>
<p><strong>å®é™…ç»“æœ:</strong> å‡ºç°ä¸¥é‡å¡é¡¿,ç³»ç»Ÿæ— å“åº”æ•°ç§’åæ‰è¿”å›æ¡Œé¢</p>
<p><strong>æœŸæœ›ç»“æœ:</strong> æµç•…è¿”å›æ¡Œé¢</p>
<p><strong>å‘ç”Ÿæ¦‚ç‡:</strong> çº¦10%(å¶ç°é—®é¢˜,å¢åŠ äº†æ’æŸ¥éš¾åº¦)</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d80a82843a2416a8b04055cc436321f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767519437&amp;x-signature=7ouXhL%2FboViiMg7WfpMTU0a3IeE%3D" alt="case1-apa-home-lag-phenomenon.png" loading="lazy"/></p>
<p><em>é—®é¢˜ç°è±¡:ç‚¹å‡»Homeé”®åç³»ç»Ÿæ— å“åº”</em></p>
<p>è¿™ç±»å¶ç°çš„æ€§èƒ½é—®é¢˜æ˜¯è½¦æœºå¼€å‘ä¸­æœ€ä»¤äººå¤´ç–¼çš„,å› ä¸º:</p>
<ul>
<li>âŒ éš¾ä»¥ç¨³å®šå¤ç°</li>
<li>âŒ æ—¥å¿—ä¿¡æ¯åˆ†æ•£</li>
<li>âŒ æ¶‰åŠå¤šä¸ªæ¨¡å—,å®šä½å›°éš¾</li>
<li>âŒ å½±å“ç”¨æˆ·ä½“éªŒ,ä¼˜å…ˆçº§é«˜</li>
</ul>
<p>æ¥ä¸‹æ¥,è®©æˆ‘ä»¬çœ‹çœ‹å·¥ç¨‹å›¢é˜Ÿæ˜¯å¦‚ä½•æŠ½ä¸å‰¥èŒ§,æ‰¾åˆ°é—®é¢˜æ ¹å› çš„ã€‚</p>
<hr/>
<h2 data-id="heading-1">æ’æŸ¥æ€è·¯:åˆ†å±‚é€’è¿›åˆ†æ</h2>
<p>é¢å¯¹è¿™ç±»æ€§èƒ½é—®é¢˜,ä¸èƒ½ç›²ç›®çŒœæµ‹ã€‚æˆ‘ä»¬çš„æ’æŸ¥ç­–ç•¥æ˜¯:<strong>ä»æ•´ä½“åˆ°å±€éƒ¨,ä»ç°è±¡åˆ°æœ¬è´¨,é€å±‚æ’é™¤</strong>ã€‚</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">æ’æŸ¥é“¾è·¯:</span>
æ•´æœºæ€§èƒ½åˆ†æ (CPU/å†…å­˜)
    â†“ æ’é™¤
åº”ç”¨å±‚åˆ†æ (APAåº”ç”¨)
    â†“ æ’é™¤
Frameworkå±‚åˆ†æ (Binderæœºåˆ¶)
    â†“ å‘ç°å¼‚å¸¸
SystemUIåˆ†æ (èµ„æºæ³„æ¼)
    â†“ å®šä½æ ¹å› 
</code></pre>
<hr/>
<h2 data-id="heading-2">ç¬¬ä¸€è½®:æ•´æœºæ€§èƒ½åˆ†æ</h2>
<h3 data-id="heading-3">æ’æŸ¥ç›®æ ‡</h3>
<p>é¦–å…ˆè¦ç¡®è®¤:<strong>æ˜¯ä¸æ˜¯æ•´æœºèµ„æºä¸è¶³å¯¼è‡´çš„å¡é¡¿?</strong></p>
<p>å¸¸è§çš„æ•´æœºæ€§èƒ½ç“¶é¢ˆæœ‰:</p>
<ul>
<li>CPUå ç”¨è¿‡é«˜(å¦‚æŸä¸ªè¿›ç¨‹CPUå ç”¨æŒç»­å¤§äº80%)</li>
<li>å†…å­˜ä¸è¶³(è§¦å‘LowMemoryKiller)</li>
<li>IOé˜»å¡(å­˜å‚¨è®¾å¤‡è¯»å†™æ…¢)</li>
<li>GPUè¿‡è½½(æ¸²æŸ“å‹åŠ›å¤§)</li>
</ul>
<p>è¿™éƒ¨åˆ†ä»‹ç»å¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« : <a href="https://juejin.cn/post/7584652662328819762" target="_blank" title="https://juejin.cn/post/7584652662328819762">è½¦è½½ Android ç³»ç»Ÿç¨³å®šæ€§é—®é¢˜å…¨è§£æï¼šä»æ€§èƒ½åˆ°é»‘å±çš„æ’æŸ¥æŒ‡å—</a></p>
<h3 data-id="heading-4">åˆ†ææ–¹æ³•</h3>
<p>é€šè¿‡æ—¥å¿—æŸ¥çœ‹é—®é¢˜å‘ç”Ÿæ—¶åˆ»çš„ç³»ç»Ÿèµ„æºçŠ¶å†µ:</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹CPUå ç”¨</span>
adb shell top -n 1 -d 1

<span class="hljs-comment"># æŸ¥çœ‹å†…å­˜ä½¿ç”¨</span>
adb shell dumpsys meminfo

<span class="hljs-comment"># æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½</span>
adb shell <span class="hljs-built_in">cat</span> /proc/loadavg
</code></pre>
<h3 data-id="heading-5">åˆ†æç»“æœ</h3>
<p><strong>é—®é¢˜æ—¶é—´ç‚¹:2024-12-23 16:08:43</strong></p>
<p><strong>CPUå ç”¨æƒ…å†µ:</strong></p>
<pre><code class="hljs language-perl" lang="perl">=== <span class="hljs-number">20251222_04</span>-08-<span class="hljs-number">10</span>-<span class="hljs-number">024</span> ===

Tasks: <span class="hljs-number">505</span> total,   <span class="hljs-number">4</span> running, <span class="hljs-number">501</span> sleeping,   <span class="hljs-number">0</span> stopped,   <span class="hljs-number">0</span> zombie
  Mem:    <span class="hljs-number">17726</span>M total,    <span class="hljs-number">17156</span>M used,      <span class="hljs-number">569</span>M free,      <span class="hljs-number">363</span>M buffers
 Swap:     <span class="hljs-number">8191</span>M total,       <span class="hljs-number">28</span>M used,     <span class="hljs-number">8163</span>M free,     <span class="hljs-number">5157</span>M cached
<span class="hljs-number">800</span>%cpu <span class="hljs-number">281</span>%user  <span class="hljs-number">32</span>%nice <span class="hljs-number">245</span>%sys <span class="hljs-number">223</span>%idle   <span class="hljs-number">0</span>%iow  <span class="hljs-number">10</span>%irq  <span class="hljs-number">10</span>%sirq   <span class="hljs-number">0</span>%host
  PID USER         PR  NI VIRT  RES  SHR S[%CPU] %MEM     TIME+ ARGS
 <span class="hljs-number">2185</span> <span class="hljs-keyword">system</span>       <span class="hljs-number">16</span>  -<span class="hljs-number">4</span>  <span class="hljs-number">19</span>G <span class="hljs-number">464</span>M <span class="hljs-number">346</span>M S <span class="hljs-number">48.3</span>   <span class="hljs-number">2.6</span>   <span class="hljs-number">9</span>:<span class="hljs-number">36.38</span> system_server
  <span class="hljs-number">315</span> logd         <span class="hljs-number">30</span>  <span class="hljs-number">10</span>  <span class="hljs-number">11</span>G  <span class="hljs-number">28</span>M <span class="hljs-number">3.5</span>M S <span class="hljs-number">45.1</span>   <span class="hljs-number">0</span>.<span class="hljs-number">1</span>  <span class="hljs-number">11</span>:<span class="hljs-number">59.89</span> logd
<span class="hljs-number">27100</span> <span class="hljs-keyword">system</span>       <span class="hljs-number">20</span>   <span class="hljs-number">0</span>  <span class="hljs-number">10</span>G <span class="hljs-number">3.2</span>M <span class="hljs-number">2.6</span>M R <span class="hljs-number">41.9</span>   <span class="hljs-number">0</span>.<span class="hljs-number">0</span>   <span class="hljs-number">5</span>:<span class="hljs-number">18.83</span> logcat -T <span class="hljs-number">1970</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span> 08:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>.<span class="hljs-number">000</span> --regex=ESAL:
  <span class="hljs-number">659</span> <span class="hljs-keyword">system</span>       -<span class="hljs-number">3</span>  -<span class="hljs-number">8</span>  <span class="hljs-number">11</span>G <span class="hljs-number">158</span>M <span class="hljs-number">118</span>M S <span class="hljs-number">41.9</span>   <span class="hljs-number">0</span>.<span class="hljs-number">8</span>  <span class="hljs-number">12</span>:<span class="hljs-number">20.44</span> surfaceflinger
<span class="hljs-number">14380</span> u12_system   <span class="hljs-number">20</span>   <span class="hljs-number">0</span>  <span class="hljs-number">19</span>G <span class="hljs-number">779</span>M <span class="hljs-number">151</span>M S <span class="hljs-number">29.0</span>   <span class="hljs-number">4.3</span>   <span class="hljs-number">9</span>:<span class="hljs-number">38.63</span> com.aispeech.lyra.daemon
</code></pre>
<p><strong>å†…å­˜ä½¿ç”¨æƒ…å†µ:</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Tasks: 505 total, 4 running, 501 sleeping</span>
<span class="hljs-section">CPU: 800%cpu 281%user 32%nice 245%sys 223%idle 0%iow 10%irq 10%sirq</span>
     å®é™…ä½¿ç”¨ç‡: 577% / 800% = 72.1%ï¼Œç©ºé—²ç‡: 27.9%

å†…å­˜è¯¦ç»†ä¿¡æ¯ï¼š
<span class="hljs-section">MemTotal:       18151676 kB  (17.3GB)</span>
<span class="hljs-section">MemFree:          589448 kB  (575MB)    â† ç‰©ç†ç©ºé—²å†…å­˜ï¼ˆä½æ˜¯æ­£å¸¸çš„ï¼‰</span>
<span class="hljs-section">MemAvailable:    5944052 kB  (5.8GB)    â† çœŸæ­£å¯ç”¨å†…å­˜ï¼ˆå……è¶³ï¼ï¼‰</span>
<span class="hljs-section">Buffers:          371900 kB  (363MB)</span>
<span class="hljs-section">Cached:          5278232 kB  (5.0GB)    â† å¯é‡Šæ”¾çš„ç¼“å­˜</span>

å¯å›æ”¶å†…å­˜ = Buffers + Cached = 363MB + 5.0GB = 5.4GB

<span class="hljs-section">Active:          6978000 kB (6.6GB)</span>
<span class="hljs-section">Inactive:        4606148 kB (4.4GB)</span>
<span class="hljs-section">Active(anon):    5351652 kB (5.1GB)    â† æ´»è·ƒçš„åŒ¿åé¡µ</span>
<span class="hljs-section">Inactive(anon):   771068 kB (753MB)</span>
<span class="hljs-section">AnonPages:       6077572 kB (5.8GB)    â† æ€»åŒ¿åé¡µï¼ˆåº”ç”¨å†…å­˜ï¼‰</span>
<span class="hljs-section">Mapped:          3791008 kB (3.6GB)</span>
<span class="hljs-section">Shmem:             46172 kB (45MB)</span>

<span class="hljs-section">Swap:</span>
<span class="hljs-section">SwapTotal:       8388604 kB (8.0GB)</span>
<span class="hljs-section">SwapFree:        8359188 kB (8.16GB)</span>
<span class="hljs-section">Swapä½¿ç”¨:          29416 kB (28MB)     â† ä»…0.34%ï¼Œå¾ˆä½</span>

<span class="hljs-section">CMA:</span>
<span class="hljs-section">CmaTotal:         311296 kB (304MB)</span>
<span class="hljs-section">CmaFree:           83276 kB (81MB)</span>
<span class="hljs-section">CMAä½¿ç”¨ç‡: 73%</span>
</code></pre>
<p><strong>Top CPUè¿›ç¨‹</strong>ï¼š</p>





















































<table><thead><tr><th>è¿›ç¨‹</th><th>CPU</th><th>å†…å­˜</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>system_server</td><td>48.3%</td><td>464M (2.6%)</td><td>Androidæ ¸å¿ƒæœåŠ¡</td></tr><tr><td>logd</td><td>45.1%</td><td>28M (0.1%)</td><td>æ—¥å¿—å®ˆæŠ¤è¿›ç¨‹</td></tr><tr><td>logcat</td><td>41.9%</td><td>3.2M</td><td>æ—¥å¿—è¿‡æ»¤è¿›ç¨‹</td></tr><tr><td>surfaceflinger</td><td>41.9%</td><td>158M (0.8%)</td><td>å›¾å½¢åˆæˆ</td></tr><tr><td>com.speech.daemon</td><td>29.0%</td><td>779M (4.3%)</td><td>è¯­éŸ³è¯†åˆ«æœåŠ¡</td></tr><tr><td>com.android.dvr</td><td>16.1%</td><td>367M (2.0%)</td><td>è¡Œè½¦è®°å½•ä»ª</td></tr><tr><td>com.android.avm_app</td><td>16.1%</td><td>668M (3.7%)</td><td>å…¨æ™¯å½±åƒ</td></tr></tbody></table>
<p><strong>âœ… å†…å­˜çŠ¶æ€é‡æ–°è¯„ä¼°</strong>ï¼š</p>
<ul>
<li>âœ… <strong>MemAvailable 5.8GB å……è¶³</strong> - å¯ç”¨å†…å­˜å æ€»å†…å­˜çš„32%</li>
<li>âœ… <strong>Cached 5.0GB</strong> - å¤§é‡å¯é‡Šæ”¾ç¼“å­˜</li>
<li>âœ… <strong>Swapä½¿ç”¨æä½</strong> - ä»…28MB (0.34%)ï¼Œè¯´æ˜æ²¡æœ‰ä¸¥é‡å†…å­˜å‹åŠ›</li>
<li>âš ï¸ <strong>åº”ç”¨å†…å­˜å ç”¨åé«˜</strong> - è¯­éŸ³æœåŠ¡779MBï¼Œä½†ä¸æ„æˆç³»ç»Ÿæ€§é£é™©</li>
</ul>
<p><strong>ğŸ”´ CPUå’Œæ—¥å¿—é—®é¢˜</strong>ï¼š</p>
<ul>
<li>ğŸ”´ <strong>æ—¥å¿—ç³»ç»ŸCPUè¿‡è½½</strong>: logd (45.1%) + logcat (41.9%) = 87% CPU</li>
<li>ğŸ”´ <strong>CPUè´Ÿè½½è¾ƒé«˜</strong>: 72.1%ä½¿ç”¨ç‡ï¼Œç©ºé—²ä»…27.9%</li>
</ul>
<p><strong>è™½ç„¶CPUä½¿ç”¨æ¯”è¾ƒå¤šï¼Œä½†æ˜¯å¹¶æœªè¾¾åˆ°å æ»¡çš„æƒ…å†µï¼Œæ’é™¤æ•´æœºæ€§èƒ½é—®é¢˜,é—®é¢˜åœ¨è½¯ä»¶å±‚é¢ã€‚</strong></p>
<hr/>
<h2 data-id="heading-6">ç¬¬äºŒè½®:APAåº”ç”¨åˆ†æ</h2>
<h3 data-id="heading-7">æ’æŸ¥ç›®æ ‡</h3>
<p>æ—¢ç„¶æ•´æœºæ€§èƒ½æ­£å¸¸,é‚£æ˜¯ä¸æ˜¯<strong>APAåº”ç”¨æœ¬èº«çš„é€€å‡ºé€»è¾‘æœ‰é—®é¢˜</strong>?</p>
<h3 data-id="heading-8">å…³é”®æ—¶é—´çº¿</h3>
<p>é€šè¿‡æ—¥å¿—è¿½è¸ªå…³é”®äº‹ä»¶çš„æ—¶é—´æˆ³:</p>

























<table><thead><tr><th align="left">æ—¶é—´</th><th align="left">äº‹ä»¶</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><strong>16:08:43.120</strong></td><td align="left">Homeé”®æŒ‰ä¸‹</td><td align="left">ç”¨æˆ·æ“ä½œè§¦å‘</td></tr><tr><td align="left"><strong>16:08:54.350</strong></td><td align="left">APA.onPause()</td><td align="left">APAç”Ÿå‘½å‘¨æœŸå›è°ƒ</td></tr><tr><td align="left"><strong>16:08:55.200</strong></td><td align="left">æ¡Œé¢æ˜¾ç¤º</td><td align="left">ç”¨æˆ·å¯è§æ¡Œé¢</td></tr></tbody></table>
<p><strong>æ ¸å¿ƒå‘ç°:ä»Homeé”®æŒ‰ä¸‹åˆ°onPauseè°ƒç”¨,è€—æ—¶11ç§’!</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-number">12</span>-<span class="hljs-number">22</span> <span class="hljs-number">04</span>:08:<span class="hljs-number">43.183</span> <span class="hljs-number">15236</span> <span class="hljs-number">15236</span> I wm_on_paused_called: [<span class="hljs-number">17785643</span>,com.android.ui.home.HomeActivity,performPause]
<span class="hljs-number">4819</span>
<span class="hljs-number">12</span>-<span class="hljs-number">22</span> <span class="hljs-number">04</span>:08:<span class="hljs-number">43.183</span> <span class="hljs-number">15236</span> <span class="hljs-number">15236</span> I Instrumentation: Activity onPause End Activity: com.android.ui.home.HomeActivity@598dc2
<span class="hljs-number">12</span>-<span class="hljs-number">22</span> <span class="hljs-number">04</span>:08:<span class="hljs-number">54.707</span> <span class="hljs-number">14651</span> <span class="hljs-number">14651</span> I AutoApa_UnionMainActivity: onPause() ===&gt;&gt;&gt;&gt; 
</code></pre>
<h3 data-id="heading-9">åˆ†æç»“è®º</h3>
<p><strong>é‡è¦å‘ç°:</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">HomeæŒ‰ä¸‹  â†’  onPauseè°ƒç”¨
   |            |
16:08:43      16:08:54
   |<span class="hljs-strong">____</span><span class="hljs-strong">____</span><span class="hljs-strong">____</span>|
<span class="hljs-code">      11ç§’å»¶è¿Ÿ
</span></code></pre>
<p>è¿™11ç§’çš„è€—æ—¶<strong>ä¸åœ¨APAåº”ç”¨å†…éƒ¨</strong>!</p>
<p>ç†ç”±:</p>
<ol>
<li>APA.onPause()æœ¬èº«æ‰§è¡Œå¾ˆå¿«(10ms)</li>
<li>11ç§’çš„å»¶è¿Ÿå‘ç”Ÿåœ¨onPauseè¢«è°ƒç”¨<strong>ä¹‹å‰</strong></li>
<li>è¯´æ˜é—®é¢˜åœ¨<strong>Frameworkå±‚æˆ–SystemUIå±‚</strong>,APAçš„ç”Ÿå‘½å‘¨æœŸå›è°ƒè¢«é˜»å¡äº†</li>
</ol>
<p><strong>æ’é™¤APAåº”ç”¨é—®é¢˜,ç»§ç»­å‘ç³»ç»Ÿå±‚æ·±å…¥ã€‚</strong></p>
<hr/>
<h2 data-id="heading-10">ç¬¬ä¸‰è½®:Frameworkå±‚åˆ†æ</h2>
<h3 data-id="heading-11">å…³é”®å‘ç°:Binderäº‹åŠ¡å¤±è´¥</h3>
<p>Frameworkå·¥ç¨‹å¸ˆåœ¨æ—¥å¿—ä¸­å‘ç°äº†<strong>å…³é”®çº¿ç´¢</strong>:</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[Frameworkæ—¥å¿— - é‡ç‚¹]</span>
12-22 04:08:28.671  2185  2185 E JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel <span class="hljs-attr">size</span> = <span class="hljs-number">196</span>)
12-22 04:08:28.671  2185  2185 E JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel <span class="hljs-attr">size</span> = <span class="hljs-number">196</span>)
12-22 04:08:28.671  2185  2185 E JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel <span class="hljs-attr">size</span> = <span class="hljs-number">196</span>)
12-22 04:08:28.671  2185  2185 E JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel <span class="hljs-attr">size</span> = <span class="hljs-number">196</span>)
12-22 04:08:28.671  2185  2185 E JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel <span class="hljs-attr">size</span> = <span class="hljs-number">196</span>)
12-22 04:08:28.671  2185  2185 E JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel <span class="hljs-attr">size</span> = <span class="hljs-number">196</span>)
12-22 04:08:28.671  2185  2185 E JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel <span class="hljs-attr">size</span> = <span class="hljs-number">196</span>)
12-22 04:08:28.671  2185  2185 E JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel <span class="hljs-attr">size</span> = <span class="hljs-number">196</span>)
12-22 04:08:28.671  2185  2185 E JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel <span class="hljs-attr">size</span> = <span class="hljs-number">196</span>)
12-22 04:08:28.671  2185  2185 E JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel <span class="hljs-attr">size</span> = <span class="hljs-number">196</span>)
12-22 04:08:28.674  2185  2248 E JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel <span class="hljs-attr">size</span> = <span class="hljs-number">104</span>)
</code></pre>
<blockquote>
<p>ğŸ’¡ <strong>ä»€ä¹ˆæ˜¯"FAILED BINDER TRANSACTION"?</strong></p>
<p>è¿™æ˜¯Androidç³»ç»Ÿä¸­çš„ä¸¥é‡é”™è¯¯,è¡¨ç¤º<strong>Binderè·¨è¿›ç¨‹é€šä¿¡å¤±è´¥</strong>ã€‚</p>
<p>å¸¸è§åŸå› :</p>
<ul>
<li>Binderç¼“å†²åŒºæ»¡äº†(æ¯ä¸ªè¿›ç¨‹é»˜è®¤1MB)</li>
<li>Binderçº¿ç¨‹æ± è€—å°½(é»˜è®¤16ä¸ªçº¿ç¨‹)</li>
<li>Binderå¯¹è±¡æ³„æ¼(æœªåŠæ—¶é‡Šæ”¾)</li>
</ul>
</blockquote>
<h3 data-id="heading-12">Binderæœºåˆ¶ç®€ä»‹</h3>
<p>ä¸ºäº†ç†è§£è¿™ä¸ªé—®é¢˜,æˆ‘ä»¬éœ€è¦å…ˆäº†è§£Androidçš„Binderæœºåˆ¶ã€‚</p>
<h4 data-id="heading-13">Binderæ˜¯ä»€ä¹ˆ?</h4>
<p><strong>Binderæ˜¯Androidç³»ç»Ÿçš„è·¨è¿›ç¨‹é€šä¿¡(IPC)æœºåˆ¶</strong>,å‡ ä¹æ‰€æœ‰çš„ç³»ç»ŸæœåŠ¡å’Œåº”ç”¨é—´é€šä¿¡éƒ½ä¾èµ–Binderã€‚</p>
<pre><code class="hljs language-css" lang="css">åº”ç”¨<span class="hljs-selector-tag">A</span>è¿›ç¨‹              ç³»ç»ŸæœåŠ¡è¿›ç¨‹
   â†“                      â†‘
   |------ Binder --------|

ç¤ºä¾‹:
åº”ç”¨è°ƒç”¨ â†’ <span class="hljs-built_in">startActivity</span>()
       â†“ (é€šè¿‡Binder)
ç³»ç»ŸæœåŠ¡ â†’ ActivityManagerService
</code></pre>
<h4 data-id="heading-14">Binderçš„èµ„æºé™åˆ¶</h4>
<p>æ¯ä¸ªè¿›ç¨‹çš„Binderèµ„æºæ˜¯æœ‰é™çš„:</p>

























<table><thead><tr><th align="left">èµ„æºç±»å‹</th><th align="center">é™åˆ¶å€¼</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><strong>Binderç¼“å†²åŒº</strong></td><td align="center">1MB</td><td align="left">ç”¨äºä¼ è¾“æ•°æ®</td></tr><tr><td align="left"><strong>Binderçº¿ç¨‹</strong></td><td align="center">16ä¸ª</td><td align="left">å¤„ç†è·¨è¿›ç¨‹è°ƒç”¨</td></tr><tr><td align="left"><strong>Binderå¯¹è±¡</strong></td><td align="center">æ— ç¡¬æ€§é™åˆ¶</td><td align="left">ä½†è¿‡å¤šä¼šå¯¼è‡´å†…å­˜å’Œæ€§èƒ½é—®é¢˜</td></tr></tbody></table>
<p><strong>å½“Binderèµ„æºè€—å°½æ—¶,ä¼šå‘ç”Ÿä»€ä¹ˆ?</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">æ–°çš„è·¨è¿›ç¨‹è°ƒç”¨
<span class="hljs-code">    â†“
Binderç¼“å†²åŒºå·²æ»¡ / çº¿ç¨‹æ± è€—å°½
    â†“
è°ƒç”¨é˜»å¡ / å¤±è´¥
    â†“
ANR / å¡é¡¿
</span></code></pre>
<h3 data-id="heading-15">æ·±æŒ–æ—¥å¿—:å‘ç°å¤§é‡å¯¹è±¡åˆ›å»º</h3>
<p>ç»§ç»­åˆ†ææ—¥å¿—,å‘ç°äº†æ›´æƒŠäººçš„çº¿ç´¢:</p>
<pre><code class="hljs language-yaml" lang="yaml">[<span class="hljs-string">SystemUIæ—¥å¿—</span> <span class="hljs-bullet">-</span> <span class="hljs-string">å¼‚å¸¸</span> <span class="hljs-bullet">-</span> <span class="hljs-string">æœ‰å¤§é‡çš„è¿™ç§æ—¥å¿—</span>]
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:38.558</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:38.560</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:38.563</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:38.566</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:38.568</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:38.572</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:38.575</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:38.578</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:38.579</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:38.677</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:38.683</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:38.686</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:40.623</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:40.630</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:40.634</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-number">12</span><span class="hljs-number">-22</span> <span class="hljs-number">04</span><span class="hljs-string">:05:42.941</span>  <span class="hljs-number">2680  </span><span class="hljs-number">2680 </span><span class="hljs-string">I</span> <span class="hljs-string">SystemUi:2.0.0.(p789)(25121116)(022935ad):ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
</code></pre>
<p><strong>ç»Ÿè®¡ç»“æœ:åœ¨20ç§’å†…,<code>ParkingStateRepository</code>è¢«åˆ›å»ºäº†2000+æ¬¡!</strong></p>
<h3 data-id="heading-16">æ¯æ¬¡åˆ›å»ºåšäº†ä»€ä¹ˆ?</h3>
<p>é€šè¿‡ä»£ç å®¡æŸ¥,å‘ç°<code>ParkingStateRepository</code>çš„æ„é€ å‡½æ•°ä¸­ä¼šè°ƒç”¨<code>checkParkingPackageBackgroundVisible</code>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin">    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">checkParkingPackageBackgroundVisible</span><span class="hljs-params">(
        context: <span class="hljs-type">Context</span>,
        shortcutData: <span class="hljs-type">ShortcutIconData</span>,
        targetPackage: <span class="hljs-type">String</span>,
        taskCompString: <span class="hljs-type">String</span>,
        fullTaskCompString: <span class="hljs-type">String</span>,
        transparentComponent: <span class="hljs-type">String</span>,
        item: <span class="hljs-type">DockShortcutIconView</span>
    )</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">if</span> (targetPackage == TaskRepository.AUTO_PANDORAPARKING_PACKAGE &amp;&amp; taskCompString.contains(TaskRepository.AUTO_PANDORAPARKING_PACKAGE)) {
            <span class="hljs-keyword">val</span> value = ParkingStateRepository(context).getState()
            <span class="hljs-keyword">if</span> (!TextUtils.isEmpty(value) &amp;&amp; shortcutData.<span class="hljs-keyword">data</span>.contains(value)) {
                 item.setBackgroundVisible(<span class="hljs-literal">true</span>)
             } <span class="hljs-keyword">else</span> {
                 item.setBackgroundVisible(<span class="hljs-literal">false</span>)
             }
             <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
         }
         <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
     }
</code></pre>
<p><strong>æ¯æ¬¡åˆ›å»ºéƒ½ä¼š:</strong></p>
<ul>
<li>åˆ›å»ºä¸€ä¸ªæ–°çš„åç¨‹</li>
<li>åˆ›å»ºä¸€ä¸ªæ–°çš„ContentObserver</li>
<li>é€šè¿‡Binderæ³¨å†Œåˆ°SettingsæœåŠ¡</li>
</ul>
<p><strong>2000æ¬¡åˆ›å»ºæ„å‘³ç€:</strong></p>
<ul>
<li>âœ… 2000+ ä¸ªåç¨‹</li>
<li>âœ… 2000+ ä¸ªContentObserver</li>
<li>âœ… 2000+ æ¬¡Binderè·¨è¿›ç¨‹è°ƒç”¨</li>
<li>âœ… å¤§é‡Binderå¯¹è±¡å †ç§¯</li>
</ul>
<h3 data-id="heading-17">å¯è§†åŒ–:Binderèµ„æºè€—å°½è¿‡ç¨‹</h3>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">SystemUIè¿›ç¨‹çš„Binderèµ„æºæ± :</span>

<span class="hljs-section">åˆå§‹çŠ¶æ€:</span>
<span class="hljs-section">[Binderç¼“å†²åŒº: â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0/1MB]</span>
<span class="hljs-section">[Binderçº¿ç¨‹:   â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 0/16]</span>

<span class="hljs-section">åˆ›å»º500æ¬¡å:</span>
<span class="hljs-section">[Binderç¼“å†²åŒº: â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 0.4/1MB]</span>
<span class="hljs-section">[Binderçº¿ç¨‹:   â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 6/16]</span>

<span class="hljs-section">åˆ›å»º1000æ¬¡å:</span>
<span class="hljs-section">[Binderç¼“å†²åŒº: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 0.8/1MB]</span>
<span class="hljs-section">[Binderçº¿ç¨‹:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 12/16]</span>

<span class="hljs-section">åˆ›å»º2000æ¬¡å:</span>
<span class="hljs-section">[Binderç¼“å†²åŒº: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 1.0/1MB]  â† æ»¡äº†!</span>
<span class="hljs-section">[Binderçº¿ç¨‹:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 16/16]    â† è€—å°½!</span>

<span class="hljs-section">ç»“æœ: FAILED BINDER TRANSACTION !!!</span>
</code></pre>
<h3 data-id="heading-18">åˆ†æç»“è®º</h3>
<p><strong>Frameworkå±‚å‘ç°äº†Binderèµ„æºè€—å°½çš„ç›´æ¥è¯æ®:</strong></p>
<ol>
<li>âœ… æ—¥å¿—æ˜¾ç¤º"FAILED BINDER TRANSACTION"</li>
<li>âœ… <code>ParkingStateRepository</code>è¢«åˆ›å»º2000+æ¬¡</li>
<li>âœ… æ¯æ¬¡åˆ›å»ºéƒ½æ¶ˆè€—Binderèµ„æº(åç¨‹+ContentObserver)</li>
<li>âœ… æœ€ç»ˆå¯¼è‡´SystemUIçš„Binderæ± è€—å°½</li>
</ol>
<p><strong>é—®é¢˜æ ¹æºåœ¨SystemUIæ¨¡å—,ç»§ç»­æ·±å…¥ã€‚</strong></p>
<hr/>
<h2 data-id="heading-19">ç¬¬å››è½®:SystemUIæ ¹å› å®šä½</h2>
<h3 data-id="heading-20">SystemUIæ˜¯ä»€ä¹ˆ?</h3>
<p><strong>SystemUI</strong>æ˜¯Androidç³»ç»Ÿç•Œé¢çš„æ ¸å¿ƒç»„ä»¶,è´Ÿè´£:</p>
<ul>
<li>çŠ¶æ€æ </li>
<li>å¯¼èˆªæ </li>
<li>é€šçŸ¥é¢æ¿</li>
<li>å¿«æ·è®¾ç½®</li>
<li><strong>Homeé”®å“åº”</strong> â† æœ¬æ¡ˆä¾‹çš„å…³é”®</li>
</ul>
<p>å½“ç”¨æˆ·ç‚¹å‡»Homeé”®æ—¶,SystemUIéœ€è¦ä¸å…¶ä»–åº”ç”¨é€šä¿¡(é€šè¿‡Binder),åè°ƒç•Œé¢åˆ‡æ¢ã€‚</p>
<h3 data-id="heading-21">ä»£ç å®¡æŸ¥:å‘ç°è®¾è®¡ç¼ºé™·</h3>
<p>SystemUIå›¢é˜Ÿå®¡æŸ¥ä»£ç å,å‘ç°äº†<strong>è‡´å‘½çš„è®¾è®¡ç¼ºé™·</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// é—®é¢˜ä»£ç ç¤ºä¾‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ParkingAssistView</span> : <span class="hljs-type">FrameLayout</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> repository: ParkingStateRepository  <span class="hljs-comment">// âŒ æ¯ä¸ªViewæœ‰ç‹¬ç«‹å®ä¾‹</span>

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onFinishInflate</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onFinishInflate()

        <span class="hljs-comment">// âŒ æ¯æ¬¡Viewåˆ›å»ºæ—¶éƒ½newä¸€ä¸ªRepository</span>
        repository = ParkingStateRepository(context)
        repository.registerCallback { state -&gt;
            <span class="hljs-comment">// å¤„ç†æ³Šè½¦çŠ¶æ€å˜åŒ–</span>
        }
    }
}
</code></pre>
<p><strong>é—®é¢˜æ‰€åœ¨:</strong></p>
<ol>
<li><code>ParkingStateRepository</code><strong>ä¸æ˜¯å•ä¾‹</strong></li>
<li>æ¯æ¬¡ç‚¹å‡»APAåº”ç”¨,éƒ½ä¼šåˆ›å»ºæ–°çš„<code>ParkingAssistView</code></li>
<li>æ¯ä¸ªViewéƒ½ä¼šåˆ›å»ºè‡ªå·±çš„<code>ParkingStateRepository</code></li>
<li>æµ‹è¯•äººå‘˜åå¤ç‚¹å‡»APAåº”ç”¨,å¯¼è‡´åˆ›å»ºäº†2000+ä¸ªRepositoryå¯¹è±¡</li>
<li>è¿™äº›å¯¹è±¡éƒ½åœ¨SystemUIçš„<strong>ä¸»çº¿ç¨‹</strong>ä¸­åˆ›å»ºå’Œåˆå§‹åŒ–</li>
<li>ä¸»çº¿ç¨‹è¢«é˜»å¡,å¯¼è‡´Homeé”®å“åº”å»¶è¿Ÿ</li>
</ol>
<h3 data-id="heading-22">æ­£ç¡®çš„å•ä¾‹å®ç°</h3>
<p><strong>ä¿®å¤æ–¹æ¡ˆ:</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¿®å¤åçš„ä»£ç </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ParkingStateRepository</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">constructor</span>(context: Context) {

    <span class="hljs-comment">// å•ä¾‹å®ç°</span>
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-meta">@Volatile</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> instance: ParkingStateRepository? = <span class="hljs-literal">null</span>

        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getInstance</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span>: ParkingStateRepository {
            <span class="hljs-keyword">return</span> instance ?: synchronized(<span class="hljs-keyword">this</span>) {
                instance ?: ParkingStateRepository(context.applicationContext).also {
                    instance = it
                }
            }
        }
    }

    <span class="hljs-keyword">init</span> {
        <span class="hljs-comment">// åªä¼šæ‰§è¡Œä¸€æ¬¡</span>
        scope.launch { <span class="hljs-comment">/* ... */</span> }
        contentResolver.registerContentObserver(<span class="hljs-comment">/* ... */</span>)
    }

    <span class="hljs-comment">// æ”¯æŒå¤šä¸ªè§‚å¯Ÿè€…</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> callbacks = mutableListOf&lt;(ParkingState) -&gt; <span class="hljs-built_in">Unit</span>&gt;()

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">registerCallback</span><span class="hljs-params">(callback: (<span class="hljs-type">ParkingState</span>) -&gt; <span class="hljs-type">Unit</span>)</span></span> {
        callbacks.add(callback)
    }

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">unregisterCallback</span><span class="hljs-params">(callback: (<span class="hljs-type">ParkingState</span>) -&gt; <span class="hljs-type">Unit</span>)</span></span> {
        callbacks.remove(callback)
    }
}

<span class="hljs-comment">// ä½¿ç”¨æ–¹å¼</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ParkingAssistView</span> : <span class="hljs-type">FrameLayout</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> repository <span class="hljs-keyword">by</span> lazy {
        ParkingStateRepository.getInstance(context)  <span class="hljs-comment">// âœ… å…¨å±€å”¯ä¸€å®ä¾‹</span>
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onAttachedToWindow</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">super</span>.onAttachedToWindow()
        repository.registerCallback(stateCallback)  <span class="hljs-comment">// âœ… æ³¨å†Œå›è°ƒ</span>
    }

    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onDetachedFromWindow</span><span class="hljs-params">()</span></span> {
        repository.unregisterCallback(stateCallback)  <span class="hljs-comment">// âœ… åŠæ—¶æ¸…ç†</span>
        <span class="hljs-keyword">super</span>.onDetachedFromWindow()
    }
}
</code></pre>
<h3 data-id="heading-23">ä¿®å¤å‰åå¯¹æ¯”</h3>








































<table><thead><tr><th align="left">ç»´åº¦</th><th align="left">ä¿®å¤å‰</th><th align="left">ä¿®å¤å</th></tr></thead><tbody><tr><td align="left"><strong>Repositoryå®ä¾‹</strong></td><td align="left">æ¯æ¬¡åˆ›å»ºViewéƒ½new</td><td align="left">å…¨å±€å”¯ä¸€å•ä¾‹</td></tr><tr><td align="left"><strong>åç¨‹æ•°é‡</strong></td><td align="left">2000+ (ä¸åˆ›å»ºæ¬¡æ•°ç›¸åŒ)</td><td align="left">1ä¸ª</td></tr><tr><td align="left"><strong>ContentObserver</strong></td><td align="left">2000+</td><td align="left">1ä¸ª</td></tr><tr><td align="left"><strong>Binderè°ƒç”¨</strong></td><td align="left">2000+ æ¬¡æ³¨å†Œ</td><td align="left">1æ¬¡æ³¨å†Œ</td></tr><tr><td align="left"><strong>ä¸»çº¿ç¨‹é˜»å¡</strong></td><td align="left">ä¸¥é‡(ç´¯ç§¯åˆ›å»ºè€—æ—¶)</td><td align="left">æ— å½±å“</td></tr><tr><td align="left"><strong>å†…å­˜å ç”¨</strong></td><td align="left">æŒç»­å¢é•¿</td><td align="left">ç¨³å®š</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-24">æŠ€æœ¯åŸç†æ·±æŒ–</h2>
<h3 data-id="heading-25">ä¸ºä»€ä¹ˆä¸»çº¿ç¨‹é˜»å¡ä¼šå¯¼è‡´å¡é¡¿?</h3>
<p>Androidç³»ç»Ÿçš„ä¸»çº¿ç¨‹(UIçº¿ç¨‹)è´Ÿè´£:</p>
<ul>
<li>å¤„ç†ç”¨æˆ·è¾“å…¥äº‹ä»¶(è§¦æ‘¸ã€æŒ‰é”®)</li>
<li>æ›´æ–°UIç•Œé¢</li>
<li>æ‰§è¡Œç”Ÿå‘½å‘¨æœŸå›è°ƒ(onCreateã€onPauseç­‰)</li>
</ul>
<p><strong>ä¸»çº¿ç¨‹çš„å·¥ä½œåŸç†:</strong></p>
<pre><code class="hljs language-ini" lang="ini">ä¸»çº¿ç¨‹æ¶ˆæ¯é˜Ÿåˆ—:

<span class="hljs-section">[æ¶ˆæ¯1]</span> â†’ <span class="hljs-section">[æ¶ˆæ¯2]</span> â†’ <span class="hljs-section">[æ¶ˆæ¯3]</span> â†’ <span class="hljs-section">[æ¶ˆæ¯4]</span> â†’ ...
   â†“
Handler.dispatchMessage()
   â†“
æ‰§è¡Œæ¶ˆæ¯å¯¹åº”çš„æ“ä½œ
</code></pre>
<p><strong>å½“ä¸»çº¿ç¨‹è¢«é˜»å¡æ—¶:</strong></p>
<pre><code class="hljs language-csharp" lang="csharp">æ­£å¸¸æƒ…å†µ:
[<span class="hljs-meta">Homeé”®äº‹ä»¶</span>] â†’ ç«‹å³å¤„ç† â†’ åˆ‡æ¢æ¡Œé¢ (è€—æ—¶å°äº<span class="hljs-number">100</span>ms)

æœ¬æ¡ˆä¾‹:
[<span class="hljs-meta">Homeé”®äº‹ä»¶</span>] â†’ ç­‰å¾…Repositoryåˆ›å»ºå®Œæˆ â†’ åˆ‡æ¢æ¡Œé¢
                      â†‘
                   <span class="hljs-number">2000</span>æ¬¡åˆ›å»º
                   æ¯æ¬¡<span class="hljs-number">5</span><span class="hljs-number">-10</span>ms
                   æ€»è®¡<span class="hljs-number">10</span><span class="hljs-number">-20</span>ç§’!
</code></pre>
<p><strong>ANR(Application Not Responding)åˆ¤å®šæ ‡å‡†:</strong></p>
<ul>
<li>ä¸»çº¿ç¨‹é˜»å¡å¤§äº5ç§’ â†’ è¾“å…¥äº‹ä»¶æ— å“åº” â†’ ANRå¼¹çª—</li>
</ul>
<p>æœ¬æ¡ˆä¾‹æ¥è¿‘ANRé˜ˆå€¼,ç”¨æˆ·æ„Ÿå—åˆ°æ˜æ˜¾å¡é¡¿ã€‚</p>
<h3 data-id="heading-26">ContentObserverä¸Binderçš„å…³ç³»</h3>
<p><strong>ContentObserver</strong>æ˜¯Androidçš„æ•°æ®è§‚å¯Ÿæœºåˆ¶,ç”¨äºç›‘å¬ContentProviderçš„æ•°æ®å˜åŒ–ã€‚</p>
<p><strong>æ³¨å†Œè¿‡ç¨‹æ¶‰åŠçš„Binderè°ƒç”¨:</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5ccaad4071d4df5813f44d9f5fa254b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767519437&amp;x-signature=V%2BgKJVPa7n2UvlVShTzfSjiq8Ho%3D" alt="case1-contentobserver-binder-ipc.png" loading="lazy"/>
æ¯ä¸ªContentObserveræ³¨å†Œéƒ½ä¼š:</p>
<ol>
<li>åˆ›å»ºä¸€ä¸ªBinderä»£ç†å¯¹è±¡</li>
<li>é€šè¿‡Binderä¼ è¾“åˆ°ContentService</li>
<li>å ç”¨Binderèµ„æº
<strong>2000ä¸ªContentObserverçš„å½±å“:</strong></li>
</ol>

<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Binderå¯¹è±¡æ•°é‡: 2000+</span>
<span class="hljs-section">æ¯ä¸ªå¯¹è±¡å ç”¨:  çº¦500å­—èŠ‚</span>
<span class="hljs-section">æ€»å ç”¨:        1MB+  â† è¾¾åˆ°Binderç¼“å†²åŒºä¸Šé™!</span>
</code></pre>
<h3 data-id="heading-27">åç¨‹åˆ›å»ºçš„å¼€é”€</h3>
<p>è™½ç„¶Kotlinåç¨‹æ¯”çº¿ç¨‹è½»é‡,ä½†<strong>å¤§é‡åˆ›å»ºä»ç„¶æœ‰å¼€é”€</strong>:</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ¯æ¬¡åˆ›å»ºRepositoryæ—¶</span>
scope.launch {
    <span class="hljs-comment">// 1. åˆ›å»ºContinuationå¯¹è±¡</span>
    <span class="hljs-comment">// 2. åˆ†é…åç¨‹ä¸Šä¸‹æ–‡</span>
    <span class="hljs-comment">// 3. åŠ å…¥è°ƒåº¦é˜Ÿåˆ—</span>
    <span class="hljs-comment">// 4. å ç”¨å†…å­˜(çº¦1-2KB/åç¨‹)</span>
}

<span class="hljs-number">2000</span>ä¸ªåç¨‹:
- å†…å­˜å ç”¨: <span class="hljs-number">2</span>-4MB
- åˆ›å»ºè€—æ—¶: <span class="hljs-number">2000</span> * <span class="hljs-number">0.</span>5ms = <span class="hljs-number">1</span>ç§’
- è°ƒåº¦å¼€é”€: å¢åŠ GCå‹åŠ›
</code></pre>
<hr/>
<h2 data-id="heading-28">é—®é¢˜å¤ç›˜:å®Œæ•´é“¾è·¯</h2>
<p>è®©æˆ‘ä»¬å›é¡¾æ•´ä¸ªé—®é¢˜çš„å®Œæ•´é“¾è·¯:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> æµ‹è¯•äººå‘˜åå¤ç‚¹å‡»APAåº”ç”¨(çº¦2000æ¬¡)
   â†“
<span class="hljs-bullet">2.</span> æ¯æ¬¡ç‚¹å‡»åˆ›å»ºä¸€ä¸ªParkingAssistView
   â†“
<span class="hljs-bullet">3.</span> æ¯ä¸ªViewåˆ›å»ºä¸€ä¸ªParkingStateRepository(éå•ä¾‹)
   â†“
<span class="hljs-bullet">4.</span> æ¯ä¸ªRepositoryåˆ›å»ºæ—¶:
<span class="hljs-bullet">   -</span> å¯åŠ¨åç¨‹
<span class="hljs-bullet">   -</span> æ³¨å†ŒContentObserver(Binder IPC)
   â†“
<span class="hljs-bullet">5.</span> ç´¯ç§¯æ•ˆåº”:
<span class="hljs-bullet">   -</span> 2000+ åç¨‹å †ç§¯
<span class="hljs-bullet">   -</span> 2000+ ContentObserveræ³¨å†Œ
<span class="hljs-bullet">   -</span> 2000+ Binderå¯¹è±¡åˆ›å»º
   â†“
<span class="hljs-bullet">6.</span> SystemUIçš„Binderèµ„æºæ± è€—å°½
   â†“
<span class="hljs-bullet">7.</span> ç”¨æˆ·ç‚¹å‡»Homeé”®
   â†“
<span class="hljs-bullet">8.</span> SystemUIéœ€è¦é€šè¿‡Binderä¸APAé€šä¿¡
   â†“
<span class="hljs-bullet">9.</span> Binderè°ƒç”¨å¤±è´¥ (FAILED BINDER TRANSACTION)
   â†“
<span class="hljs-bullet">10.</span> Homeé”®å“åº”é˜»å¡,ä¸»çº¿ç¨‹ç­‰å¾…
   â†“
<span class="hljs-bullet">11.</span> ç”¨æˆ·æ„Ÿå—åˆ°ä¸¥é‡å¡é¡¿(11ç§’å»¶è¿Ÿ)
</code></pre>
<hr/>
<h2 data-id="heading-29">ä¿®å¤éªŒè¯</h2>
<h3 data-id="heading-30">ä¿®å¤æªæ–½</h3>
<ol>
<li>
<p><strong>å°†ParkingStateRepositoryæ”¹ä¸ºå•ä¾‹</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> instance: ParkingStateRepository? = <span class="hljs-literal">null</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getInstance</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>)</span></span>: ParkingStateRepository { <span class="hljs-comment">/* ... */</span> }
}
</code></pre>
</li>
<li>
<p><strong>æ·»åŠ å›è°ƒç®¡ç†æœºåˆ¶</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> callbacks = CopyOnWriteArrayList&lt;Callback&gt;()
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">registerCallback</span><span class="hljs-params">(callback: <span class="hljs-type">Callback</span>)</span></span> { callbacks.add(callback) }
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">unregisterCallback</span><span class="hljs-params">(callback: <span class="hljs-type">Callback</span>)</span></span> { callbacks.remove(callback) }
</code></pre>
</li>
<li>
<p><strong>åœ¨Viewé”€æ¯æ—¶åŠæ—¶æ¸…ç†</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onDetachedFromWindow</span><span class="hljs-params">()</span></span> {
    repository.unregisterCallback(callback)
    <span class="hljs-keyword">super</span>.onDetachedFromWindow()
}
</code></pre>
</li>
</ol>
<h3 data-id="heading-31">éªŒè¯ç»“æœ</h3>
<p>ä¿®å¤åè¿›è¡Œå‹åŠ›æµ‹è¯•:</p>



































<table><thead><tr><th align="left">æµ‹è¯•é¡¹</th><th align="right">ä¿®å¤å‰</th><th align="right">ä¿®å¤å</th></tr></thead><tbody><tr><td align="left"><strong>è¿ç»­ç‚¹å‡»2000æ¬¡</strong></td><td align="right">å¿…ç°å¡é¡¿</td><td align="right">æµç•…</td></tr><tr><td align="left"><strong>Repositoryå®ä¾‹æ•°</strong></td><td align="right">2000+</td><td align="right">1</td></tr><tr><td align="left"><strong>ContentObserveræ•°</strong></td><td align="right">2000+</td><td align="right">1</td></tr><tr><td align="left"><strong>Homeé”®å“åº”æ—¶é—´</strong></td><td align="right">11ç§’</td><td align="right">å°äº100ms</td></tr><tr><td align="left"><strong>Binderå¤±è´¥æ—¥å¿—</strong></td><td align="right">æœ‰</td><td align="right">æ— </td></tr></tbody></table>
<p><strong>ä¿®å¤åæ—¥å¿—:</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">12-23 17:30:10.100 I/ParkingStateRepository:</span> <span class="hljs-string">ParkingStateRepository</span> <span class="hljs-string">initialize</span> <span class="hljs-string">...</span>
<span class="hljs-string">(åªæœ‰ä¸€æ¬¡åˆ›å»ºæ—¥å¿—)</span>

<span class="hljs-attr">12-23 17:30:15.120 D/InputDispatcher:</span> <span class="hljs-string">Home</span> <span class="hljs-string">key</span> <span class="hljs-string">pressed</span>
<span class="hljs-attr">12-23 17:30:15.180 D/ApaActivity:</span> <span class="hljs-string">onPause()</span> <span class="hljs-string">called</span>
                  <span class="hljs-string">â†‘</span>
            <span class="hljs-string">å“åº”æ—¶é—´</span> <span class="hljs-string">å°äº100ms</span> <span class="hljs-string">âœ…</span>
</code></pre>
<hr/>
<h2 data-id="heading-32">ç»éªŒæ€»ç»“</h2>
<h3 data-id="heading-33">æŠ€æœ¯å±‚é¢</h3>
<ol>
<li>
<p><strong>å•ä¾‹æ¨¡å¼çš„é‡è¦æ€§</strong></p>
<ul>
<li>å¯¹äºå…¨å±€æ€§çš„ç®¡ç†ç±»,åŠ¡å¿…ä½¿ç”¨å•ä¾‹</li>
<li>é¿å…é‡å¤åˆ›å»ºå¯¼è‡´çš„èµ„æºæµªè´¹</li>
<li>æ³¨æ„çº¿ç¨‹å®‰å…¨(ä½¿ç”¨<code>@Volatile</code> + <code>synchronized</code>)</li>
</ul>
</li>
<li>
<p><strong>Binderèµ„æºç®¡ç†</strong></p>
<ul>
<li>äº†è§£Binderçš„èµ„æºé™åˆ¶(1MBç¼“å†²åŒº, 16ä¸ªçº¿ç¨‹)</li>
<li>é¿å…é¢‘ç¹åˆ›å»ºBinderå¯¹è±¡</li>
<li>ç›‘æ§"FAILED BINDER TRANSACTION"æ—¥å¿—</li>
</ul>
</li>
<li>
<p><strong>ContentObserverä½¿ç”¨è§„èŒƒ</strong></p>
<ul>
<li>æ³¨å†Œåå¿…é¡»åœ¨åˆé€‚çš„æ—¶æœºunregister</li>
<li>é¿å…é‡å¤æ³¨å†ŒåŒä¸€ä¸ªè§‚å¯Ÿè€…</li>
<li>è€ƒè™‘ä½¿ç”¨å¼±å¼•ç”¨é¿å…å†…å­˜æ³„æ¼</li>
</ul>
</li>
<li>
<p><strong>åç¨‹ä½¿ç”¨è§„èŒƒ</strong></p>
<ul>
<li>ä½¿ç”¨CoroutineScopeç®¡ç†åç¨‹ç”Ÿå‘½å‘¨æœŸ</li>
<li>åŠæ—¶å–æ¶ˆä¸éœ€è¦çš„åç¨‹</li>
<li>é¿å…åœ¨ä¸»çº¿ç¨‹ä¸­åˆ›å»ºå¤§é‡åç¨‹</li>
</ul>
</li>
</ol>
<h3 data-id="heading-34">é—®é¢˜æ’æŸ¥æ–¹æ³•è®º</h3>
<ol>
<li>
<p><strong>åˆ†å±‚æ’æŸ¥</strong></p>
<ul>
<li>ä»æ•´æœºæ€§èƒ½å¼€å§‹</li>
<li>é€å±‚æ·±å…¥åˆ°åº”ç”¨ã€Frameworkã€SystemUI</li>
<li>ä¸è¦è·³è¿‡ä»»ä½•ä¸€å±‚</li>
</ul>
</li>
<li>
<p><strong>æ—¶é—´çº¿åˆ†æ</strong></p>
<ul>
<li>è®°å½•å…³é”®äº‹ä»¶çš„æ—¶é—´æˆ³</li>
<li>è®¡ç®—å„ä¸ªé˜¶æ®µçš„è€—æ—¶</li>
<li>æ‰¾å‡ºè€—æ—¶å¼‚å¸¸çš„ç¯èŠ‚</li>
</ul>
</li>
<li>
<p><strong>æ—¥å¿—åˆ†æ</strong></p>
<ul>
<li>å…³æ³¨ERRORå’ŒWARNçº§åˆ«æ—¥å¿—</li>
<li>ç»Ÿè®¡é‡å¤æ—¥å¿—çš„å‡ºç°æ¬¡æ•°</li>
<li>åˆ†ææ—¥å¿—çš„ä¸Šä¸‹æ–‡å…³è”</li>
</ul>
</li>
<li>
<p><strong>å·¥å…·è¾…åŠ©</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹Binderä½¿ç”¨æƒ…å†µ</span>
adb shell <span class="hljs-built_in">cat</span> /sys/kernel/debug/binder/stats

<span class="hljs-comment"># æŸ¥çœ‹è¿›ç¨‹çš„Binderä¿¡æ¯</span>
adb shell <span class="hljs-built_in">cat</span> /sys/kernel/debug/binder/proc/&lt;pid&gt;

<span class="hljs-comment"># ç›‘æ§ContentObserveræ³¨å†Œ</span>
adb shell dumpsys activity provider
</code></pre>
</li>
</ol>
<h3 data-id="heading-35">å¼€å‘å»ºè®®</h3>
<p><strong>ä»£ç å®¡æŸ¥æ¸…å•:</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">âœ… å…¨å±€æ€§çš„ç®¡ç†ç±»æ˜¯å¦ä½¿ç”¨å•ä¾‹?
âœ… èµ„æºæ³¨å†Œ(Observer/Listener)æ˜¯å¦æœ‰å¯¹åº”çš„æ¸…ç†?
âœ… æ˜¯å¦é¿å…åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œè€—æ—¶æ“ä½œ?
âœ… Binderè°ƒç”¨æ˜¯å¦æœ‰å¼‚å¸¸å¤„ç†?
âœ… æ˜¯å¦æœ‰å†…å­˜æ³„æ¼é£é™©?
</code></pre>
<p><strong>æ€§èƒ½æµ‹è¯•å»ºè®®:</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">âœ… å‹åŠ›æµ‹è¯•:å¿«é€Ÿé‡å¤æ“ä½œ(å¦‚æœ¬æ¡ˆä¾‹çš„åå¤ç‚¹å‡»)
âœ… é•¿æ—¶é—´è¿è¡Œæµ‹è¯•:æ£€æŸ¥èµ„æºæ³„æ¼
âœ… å†…å­˜ç›‘æ§:è§‚å¯Ÿå†…å­˜å¢é•¿è¶‹åŠ¿
âœ… Binderç›‘æ§:ä½¿ç”¨systraceæˆ–perfetto
</code></pre>
<hr/>
<h2 data-id="heading-36">å»¶ä¼¸é˜…è¯»</h2>
<p><strong>Binderæœºåˆ¶:</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.kernel.org%2Fdoc%2FDocumentation%2Fandroid%2Fbinder.txt" target="_blank" title="https://www.kernel.org/doc/Documentation/android/binder.txt" ref="nofollow noopener noreferrer">Android Binderè®¾è®¡ä¸å®ç°</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Funiversus%2Farticle%2Fdetails%2F6211589" target="_blank" title="https://blog.csdn.net/universus/article/details/6211589" ref="nofollow noopener noreferrer">ç†è§£Android Binderæœºåˆ¶</a></li>
</ul>
<p><strong>æ€§èƒ½ä¼˜åŒ–:</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Fperformance" target="_blank" title="https://developer.android.com/topic/performance" ref="nofollow noopener noreferrer">Androidæ€§èƒ½ä¼˜åŒ–å…¸èŒƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsource.android.com%2Fdevices%2Ftech%2Fdisplay%2Fperformance" target="_blank" title="https://source.android.com/devices/tech/display/performance" ref="nofollow noopener noreferrer">SystemUIæ€§èƒ½æœ€ä½³å®è·µ</a></li>
</ul>
<p><strong>å•ä¾‹æ¨¡å¼:</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fkotlinlang.org%2Fdocs%2Fcoding-conventions.html" target="_blank" title="https://kotlinlang.org/docs/coding-conventions.html" ref="nofollow noopener noreferrer">Effective Kotlin: Item 1 - è€ƒè™‘ä½¿ç”¨é™æ€å·¥å‚æ–¹æ³•ä»£æ›¿æ„é€ å™¨</a></li>
</ul>
<p><strong>Androidç¨³å®šæ€§å’Œæ€§èƒ½ä¸“æ ç›®å½•å·²ç»å‘å¸ƒ</strong>:</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top%2Fblog%2Fandroid_stability_performance%2Fandroid-stability-perf-series-readme" target="_blank" title="https://home.wonlab.top/blog/android_stability_performance/android-stability-perf-series-readme" ref="nofollow noopener noreferrer">Androidç¨³å®šæ€§&amp;æ€§èƒ½æ·±å…¥ç†è§£ä¸“æ ä»‹ç»</a></li>
</ul>
<hr/>
<p><em>å¯¹æœ¬æ¡ˆä¾‹æœ‰ç–‘é—®æˆ–æƒ³åˆ†äº«ä½ çš„æ’æŸ¥ç»éªŒ?æ¬¢è¿åœ¨è¯„è®ºåŒºè®¨è®º!</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ANRå®æˆ˜åˆ†æï¼šä¸€æ¬¡audioserveræ­»é”å¼•å‘çš„ç³»ç»Ÿçº§æ•…éšœæ’æŸ¥]]></title>    <link>https://juejin.cn/post/7588092534162964480</link>    <guid>https://juejin.cn/post/7588092534162964480</guid>    <pubDate>2025-12-28T09:51:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588092534162964480" data-draft-id="7588098335791333376" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ANRå®æˆ˜åˆ†æï¼šä¸€æ¬¡audioserveræ­»é”å¼•å‘çš„ç³»ç»Ÿçº§æ•…éšœæ’æŸ¥"/> <meta itemprop="keywords" content="Android,æ€§èƒ½ä¼˜åŒ–,Debug"/> <meta itemprop="datePublished" content="2025-12-28T09:51:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ANRå®æˆ˜åˆ†æï¼šä¸€æ¬¡audioserveræ­»é”å¼•å‘çš„ç³»ç»Ÿçº§æ•…éšœæ’æŸ¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:51:17.000Z" title="Sun Dec 28 2025 09:51:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€ï¼šä¸€åœºçªå¦‚å…¶æ¥çš„ç³»ç»Ÿå´©æºƒ</h2>
<p>å‘¨å…­ä¸‹åˆï¼Œæµ‹è¯•åŒå­¦åœ¨ç¾¤é‡Œ@æ‰€æœ‰äººï¼š</p>
<blockquote>
<p>"ç³»ç»Ÿå½»åº•å¡æ­»äº†ï¼Œè“ç‰™è¿ä¸ä¸Šï¼ŒSystemUIä¹Ÿæ— å“åº”ï¼ŒæŠ“åˆ°äº†ä¸€å †ANRæ—¥å¿—..."</p>
</blockquote>
<p>æ‰“å¼€æ—¥å¿—æ–‡ä»¶å¤¹ä¸€çœ‹ï¼Œå¿ƒé‡Œå’¯å™”ä¸€ä¸‹â€”â€”<strong>10åˆ†é’Ÿå†…è¿ç»­äº§ç”Ÿäº†10ä¸ªANR</strong>ï¼Œæ¶‰åŠè“ç‰™æœåŠ¡ã€SystemUIã€å›¾åº“åº”ç”¨ç­‰å¤šä¸ªå…³é”®è¿›ç¨‹ã€‚è¿™æ˜¾ç„¶ä¸æ˜¯æŸä¸ªåº”ç”¨çš„å•ç‚¹é—®é¢˜ï¼Œæ›´åƒæ˜¯ç³»ç»Ÿçº§çš„è¿é”æ•…éšœã€‚</p>
<p>ä½œä¸ºä¸€ä¸ªåœ¨Androidç³»ç»Ÿå±‚æ‘¸çˆ¬æ»šæ‰“å¤šå¹´çš„è€å…µï¼Œæˆ‘çŸ¥é“è¿™ç§"æ‰¹é‡ANR"å¾€å¾€æ„å‘³ç€åº•å±‚æœåŠ¡å‡ºäº†å¤§é—®é¢˜ã€‚äºæ˜¯å¼€å§‹äº†è¿™åœºæƒŠå¿ƒåŠ¨é­„çš„æ•…éšœæ’æŸ¥ä¹‹æ—…ã€‚</p>
<p><strong>æœ¬æ–‡å°†å¸¦ä½ èµ°è¿›è¿™æ¬¡çœŸå®çš„ANRåˆ†æè¿‡ç¨‹</strong>ï¼Œå­¦ä¹ ï¼š</p>
<ul>
<li>å¦‚ä½•å¿«é€Ÿå®šä½æ‰¹é‡ANRçš„æ ¹æœ¬åŸå› </li>
<li>audioserveræ­»é”çš„è¯Šæ–­æ–¹æ³•</li>
<li>Binder IPCé˜»å¡çš„è°ƒè¯•æŠ€å·§</li>
<li>ç³»ç»Ÿçº§æ•…éšœçš„é¢„é˜²å’Œè§£å†³æ–¹æ¡ˆ</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>é€‚åˆè¯»è€…</strong>ï¼šAndroidç³»ç»Ÿå¼€å‘è€…ã€æ€§èƒ½ä¼˜åŒ–å·¥ç¨‹å¸ˆã€å¯¹åº•å±‚åŸç†æ„Ÿå…´è¶£çš„å¼€å‘è€…</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ä¸€ã€æ•…éšœç°åœºï¼šæ‰¹é‡ANRçš„æƒŠäººä¸€è‡´æ€§</h2>
<h3 data-id="heading-2">1.1 åŸºæœ¬ä¿¡æ¯æ‰«æ</h3>
<p>å…ˆæ¥çœ‹çœ‹è¿™æ¬¡æ•…éšœçš„åŸºæœ¬æƒ…å†µï¼š</p>
<p><strong>æ—¶é—´çº¿</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-number">2025-12-21 16:56:31</span> <span class="hljs-bullet">-</span> <span class="hljs-string">ç¬¬1ä¸ªANR</span> <span class="hljs-string">(com.android.bluetoothext)</span>
<span class="hljs-number">2025-12-21 16:56:53</span> <span class="hljs-bullet">-</span> <span class="hljs-string">ç¬¬2ä¸ªANR</span> <span class="hljs-string">(com.android.bluetooth)</span>
<span class="hljs-number">2025-12-21 16:58:36</span> <span class="hljs-bullet">-</span> <span class="hljs-string">ç¬¬3ä¸ªANR</span> <span class="hljs-string">(com.android.bluetoothext)</span>
<span class="hljs-string">...</span>
<span class="hljs-number">2025-12-21 17:06:35</span> <span class="hljs-bullet">-</span> <span class="hljs-string">ç¬¬10ä¸ªANR</span> <span class="hljs-string">(com.android.systemui)</span>
</code></pre>
<p>10åˆ†é’Ÿå†…ï¼Œ10ä¸ªANRï¼Œå¹³å‡æ¯åˆ†é’Ÿä¸€ä¸ªã€‚è¿™ç»ä¸æ˜¯å·§åˆã€‚</p>
<p><strong>æ¶‰åŠè¿›ç¨‹</strong>ï¼š</p>






























<table><thead><tr><th align="left">è¿›ç¨‹å</th><th align="center">ANRæ¬¡æ•°</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><code>com.android.bluetoothext</code></td><td align="center">5æ¬¡</td><td align="left">è“ç‰™æ‰©å±•æœåŠ¡ï¼Œåå¤ANR</td></tr><tr><td align="left"><code>com.android.bluetooth</code></td><td align="center">3æ¬¡</td><td align="left">è“ç‰™æ ¸å¿ƒæœåŠ¡</td></tr><tr><td align="left"><code>com.android.gallery</code></td><td align="center">1æ¬¡</td><td align="left">å›¾åº“åº”ç”¨</td></tr><tr><td align="left"><code>com.android.systemui</code></td><td align="center">1æ¬¡</td><td align="left">ç³»ç»ŸUI</td></tr></tbody></table>
<p>è“ç‰™æœåŠ¡å äº†8æˆï¼Œæ˜¾ç„¶å®ƒåœ¨ä¸åœåœ°å°è¯•å¯åŠ¨ä½†æ¯æ¬¡éƒ½å¤±è´¥ã€‚</p>
<h3 data-id="heading-3">1.2 ç¬¬ä¸€çœ¼çœ‹å †æ ˆï¼šæƒŠäººçš„ç›¸ä¼¼æ€§</h3>
<p>æ‰“å¼€ç¬¬ä¸€ä¸ªANRæ—¥å¿—ï¼Œä¸»çº¿ç¨‹å †æ ˆæ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-string">"main"</span> prio=<span class="hljs-number">5</span> tid=<span class="hljs-number">1</span> Native
  at android.os.BinderProxy.<span class="hljs-title function_ invoke__">transactNative</span> (Native method)
  at android.os.BinderProxy.<span class="hljs-title function_ invoke__">transact</span> (BinderProxy.<span class="hljs-attr">java</span>:<span class="hljs-number">584</span>)
  at android.media.IAudioService$Stub<span class="hljs-variable">$Proxy</span>.registerAudioPolicy
  at android.media.AudioManager.registerAudioPolicy
  at com.android.bluetooth.btservice.AdapterService.<span class="hljs-title function_ invoke__">onCreate</span> (AdapterService.<span class="hljs-attr">java</span>:<span class="hljs-number">571</span>)
</code></pre>
<p>å†çœ‹ç¬¬äºŒä¸ªï¼Œç¬¬ä¸‰ä¸ª... <strong>æ‰€æœ‰ANRçš„ä¸»çº¿ç¨‹éƒ½å¡åœ¨äº†åŒä¸€ä¸ªåœ°æ–¹</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">Native: #<span class="hljs-number">02</span> android::IPCThreadState::talkWithDriver
Native: #<span class="hljs-number">03</span> android::IPCThreadState::waitForResponse
Native: #<span class="hljs-number">04</span> android::IPCThreadState::transact
</code></pre>
<p>å…³é”®è¯ï¼š<code>Binder</code>ã€<code>transact</code>ã€<code>waitForResponse</code>ã€‚</p>
<p><strong>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</strong> æ‰€æœ‰è¿›ç¨‹éƒ½åœ¨ç­‰å¾…æŸä¸ªBinderæœåŠ¡å“åº”ï¼Œä½†é‚£ä¸ªæœåŠ¡å·²ç»"æ­»"äº†ï¼Œæ°¸è¿œä¸ä¼šå›å¤ã€‚</p>
<hr/>
<h2 data-id="heading-4">äºŒã€æŠ½ä¸å‰¥èŒ§ï¼šå®šä½çœŸå‡¶çš„ä¸‰æ­¥æ³•</h2>
<h3 data-id="heading-5">2.1 ç¬¬ä¸€æ­¥ï¼šæ‰¾åˆ°å…±åŒçš„ç­‰å¾…ç›®æ ‡</h3>
<p>ANRæ—¥å¿—ä¸­æœ‰ä¸€æ®µå…³é”®ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">Blocked <span class="hljs-keyword">on</span> a monitor owned <span class="hljs-keyword">by</span>:
  <span class="hljs-string">"Binder:661_2"</span> (waiting <span class="hljs-keyword">on</span> &lt;monitor&gt; held <span class="hljs-keyword">by</span> <span class="hljs-string">"audioserver"</span>)
</code></pre>
<p><strong>Binder:661_2</strong> æ˜¯ä»€ä¹ˆï¼Ÿ<code>661</code> æ˜¯è¿›ç¨‹PIDã€‚æŸ¥çœ‹ç³»ç»Ÿè¿›ç¨‹åˆ—è¡¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># PID: 661 å¯¹åº”çš„è¿›ç¨‹</span>
audioserver
</code></pre>
<p>æ‰€æœ‰åº”ç”¨éƒ½åœ¨ç­‰å¾… <strong>audioserver (PID: 661)</strong> å“åº”ï¼</p>
<h3 data-id="heading-6">2.2 ç¬¬äºŒæ­¥ï¼šæŸ¥çœ‹audioserverçš„å †æ ˆ</h3>
<p>æ‰¾åˆ°audioserverè¿›ç¨‹çš„çº¿ç¨‹dumpï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-string">"audioserver"</span> sysTid=<span class="hljs-number">661</span> Native
  native: #<span class="hljs-number">00</span> syscall+<span class="hljs-number">28</span>
  native: #<span class="hljs-number">01</span> __futex_wait_ex(<span class="hljs-type">void</span> <span class="hljs-keyword">volatile</span>*, <span class="hljs-type">int</span>, <span class="hljs-type">int</span>, timespec <span class="hljs-type">const</span>*)
  native: #<span class="hljs-number">02</span> <span class="hljs-built_in">pthread_mutex_timedlock_monotonic_np</span>(<span class="hljs-type">pthread_mutex_internal_t</span>*, timespec <span class="hljs-type">const</span>*)
  native: #<span class="hljs-number">03</span> NonPI::<span class="hljs-built_in">MutexLockWithTimeout</span>(<span class="hljs-type">pthread_mutex_internal_t</span>*, <span class="hljs-type">bool</span>, timespec <span class="hljs-type">const</span>*)
  native: #<span class="hljs-number">04</span> android::AudioFlinger::<span class="hljs-built_in">registerClient</span>(android::sp&lt;android::IAudioFlingerClient&gt; <span class="hljs-type">const</span>&amp;)
  at libaudioflinger.<span class="hljs-built_in">so</span> (offset <span class="hljs-number">0x48928</span>)
</code></pre>
<p><strong>å…³é”®å‘ç°</strong>ï¼š</p>
<ul>
<li>audioserverçš„ä¸»çº¿ç¨‹è¢«é˜»å¡åœ¨ <code>AudioFlinger::registerClient()</code> æ–¹æ³•</li>
<li>å®ƒåœ¨å°è¯•è·å–ä¸€ä¸ªäº’æ–¥é”ï¼ˆ<code>pthread_mutex_timedlock</code>ï¼‰</li>
<li>çº¿ç¨‹çŠ¶æ€ï¼š<code>futex_wait_queue_me</code> - åœ¨futexç­‰å¾…é˜Ÿåˆ—ä¸­</li>
</ul>
<p><strong>è¿™æ˜¯å…¸å‹çš„æ­»é”ç°è±¡</strong>ï¼šaudioserverè‡ªå·±å¡ä½äº†ï¼Œæ‰€ä»¥æ— æ³•å“åº”ä»»ä½•å®¢æˆ·ç«¯è¯·æ±‚ã€‚</p>
<h3 data-id="heading-7">2.3 ç¬¬ä¸‰æ­¥ï¼šç¡®è®¤Binderé€šä¿¡é˜»å¡</h3>
<p>å†çœ‹åº”ç”¨ä¾§çš„nativeå †æ ˆï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">native:</span> <span class="hljs-comment">#00 __ioctl+8 (/apex/com.android.runtime/lib64/bionic/libc.so)</span>
<span class="hljs-attr">native:</span> <span class="hljs-comment">#01 ioctl+152 (/apex/com.android.runtime/lib64/bionic/libc.so)</span>
<span class="hljs-attr">native:</span> <span class="hljs-comment">#02 android::IPCThreadState::talkWithDriver(bool) (libbinder.so)</span>
<span class="hljs-attr">native:</span> <span class="hljs-comment">#03 android::IPCThreadState::waitForResponse(...) (libbinder.so)</span>
<span class="hljs-attr">native:</span> <span class="hljs-comment">#04 android::IPCThreadState::transact(...) (libbinder.so)</span>
<span class="hljs-attr">native:</span> <span class="hljs-comment">#05 android::BpBinder::transact(...) (libbinder.so)</span>
<span class="hljs-attr">native:</span> <span class="hljs-comment">#06 android::media::BpAudioPolicyService::registerClient(...) (libaudioclient.so)</span>
</code></pre>
<p>å®Œæ•´çš„è°ƒç”¨é“¾è·¯ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">åº”ç”¨è¿›ç¨‹
  â””â”€ Binder IPC è°ƒç”¨ audioserver
      â””â”€ <span class="hljs-built_in">ioctl</span>() å‘é€è¯·æ±‚åˆ° Binder é©±åŠ¨
          â””â”€ ç­‰å¾… audioserver å¤„ç†å¹¶è¿”å›
              â””â”€ ä½† audioserver ä¸»çº¿ç¨‹å·²æ­»é” âŒ
                  â””â”€ æ°¸è¿œç­‰ä¸åˆ°å“åº” â°
</code></pre>
<p><strong>çœŸç›¸å¤§ç™½</strong>ï¼šaudioserver è¿›ç¨‹å†…éƒ¨å‘ç”Ÿæ­»é” â†’ æ— æ³•å¤„ç†ä»»ä½• Binder è¯·æ±‚ â†’ æ‰€æœ‰ä¾èµ–éŸ³é¢‘æœåŠ¡çš„è¿›ç¨‹è¢«é˜»å¡ â†’ æ‰¹é‡ ANR çˆ†å‘ã€‚</p>
<hr/>
<h2 data-id="heading-8">ä¸‰ã€è¿é”ååº”ï¼šä¸€ä¸ªæœåŠ¡å¦‚ä½•æ‹–å®æ•´ä¸ªç³»ç»Ÿ</h2>
<h3 data-id="heading-9">3.1 è“ç‰™æœåŠ¡ï¼šå¯åŠ¨å³ANR</h3>
<p><strong>é˜»å¡ä½ç½®</strong>ï¼š<code>AdapterService.java:571</code></p>
<p>è“ç‰™æœåŠ¡çš„ <code>onCreate()</code> æ–¹æ³•åœ¨å¯åŠ¨æ—¶éœ€è¦æ³¨å†ŒéŸ³é¢‘è®¾å¤‡å›è°ƒï¼Œè°ƒç”¨é“¾å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">AdapterService.onCreate()
  â†’ ActiveDeviceManager.start()
    â†’ AudioManager.registerAudioDeviceCallback(...)
      â†’ AudioManager.registerAudioPortUpdateListener(...)
        â†’ AudioPortEventHandler.init()
          â†’ native_setup() [JNIè°ƒç”¨]
            â†’ AudioSystem::addAudioPortCallback()
              â†’ AudioSystem::get_audio_policy_service()
                â†’ BpAudioPolicyService::registerClient()
                  â†’ [Binder IPC é˜»å¡ âŒ]
</code></pre>
<p><strong>ç»“æœ</strong>ï¼šè“ç‰™æœåŠ¡æ ¹æœ¬æ— æ³•å¯åŠ¨ï¼Œç”¨æˆ·æ— æ³•ä½¿ç”¨è“ç‰™åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-10">3.2 SystemUIï¼šé”å±éŸ³æ•ˆæ’­æ”¾å¤±è´¥</h3>
<p><strong>é˜»å¡ä½ç½®</strong>ï¼š<code>SystemUIService.java:70</code></p>
<p>SystemUI åœ¨å¯åŠ¨æ—¶ä¼šåˆå§‹åŒ–é”å±ç®¡ç†å™¨ï¼Œè€Œé”å±éœ€è¦åŠ è½½éŸ³æ•ˆæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-java" lang="java">SystemUIService.onCreate()
  â†’ SystemUIApplication.startServicesIfNeeded()
    â†’ KeyguardViewMediator.start()
      â†’ KeyguardViewMediator.setupLocked()
        â†’ SoundPool.Builder.build()  <span class="hljs-comment">// åˆ›å»ºéŸ³æ•ˆæ’­æ”¾å™¨</span>
          â†’ SoundPool.&lt;init&gt;()
            â†’ PlayerBase.baseRegisterPlayer()
              â†’ IAudioService.trackPlayer()
                â†’ [Binder IPC é˜»å¡ âŒ]
</code></pre>
<p><strong>ç»“æœ</strong>ï¼šSystemUI å¯åŠ¨å»¶è¿Ÿï¼Œé”å±ç•Œé¢å¯èƒ½æ— æ³•æ­£å¸¸æ˜¾ç¤ºã€‚</p>
<h3 data-id="heading-11">3.3 å›¾åº“åº”ç”¨ï¼šè½¦è½½éŸ³é¢‘ç®¡ç†å—é˜»</h3>
<p><strong>é˜»å¡ä½ç½®</strong>ï¼š<code>SystemJobService</code> (WorkManageråå°ä»»åŠ¡)</p>
<p>å›¾åº“åº”ç”¨çš„åå°ä»»åŠ¡å°è¯•è·å–è½¦è½½éŸ³é¢‘éŸ³é‡ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-java" lang="java">androidx.work.impl.background.systemjob.SystemJobService (åå°ä»»åŠ¡)
  â†’ LifecycleObserver.onLifecycleChanged()
    â†’ android.car.Car.lambda$dispatchCarReadyToMainThread
      â†’ CarAudioManager.getVolumeGroupIdForUsage(...)
        â†’ ICarAudio$Stub$Proxy.getVolumeGroupIdForUsage(...)
          â†’ [Binder IPC é˜»å¡ âŒ]
</code></pre>
<p><strong>ç»“æœ</strong>ï¼šåº”ç”¨å¯åŠ¨ç¼“æ…¢æˆ–å¡é¡¿ã€‚</p>
<h3 data-id="heading-12">3.4 çº§è”æ•ˆåº”ç¤ºæ„å›¾</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc993916477c4ca5a7ce216558e97f96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767520276&amp;x-signature=Se5N6zLQnIV9SDrI4kqoB3DkqeM%3D" alt="case2-ANRè¿é”ååº”æ¶æ„å›¾.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-13">å››ã€æ·±å…¥ç—…ç¶ï¼šaudioserverä¸ºä½•æ­»é”ï¼Ÿ</h2>
<h3 data-id="heading-14">4.1 æ­»é”çš„æœ¬è´¨</h3>
<p>audioserver ä¸»çº¿ç¨‹å¡åœ¨äº†è¿™é‡Œï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ä½ç½®: frameworks/av/services/audioflinger/AudioFlinger.cpp</span>
<span class="hljs-function"><span class="hljs-type">status_t</span> <span class="hljs-title">AudioFlinger::registerClient</span><span class="hljs-params">(<span class="hljs-type">const</span> sp&lt;IAudioFlingerClient&gt;&amp; client)</span> </span>{
    Mutex::Autolock _l(mLock);  <span class="hljs-comment">// â† å°è¯•è·å– mLockï¼Œä½†å®ƒå·²è¢«å ç”¨</span>
    <span class="hljs-comment">// ... åç»­é€»è¾‘æ°¸è¿œæ‰§è¡Œä¸åˆ°</span>
}
</code></pre>
<p>ä»å †æ ˆçœ‹ï¼Œçº¿ç¨‹åœ¨ <code>pthread_mutex_timedlock</code> ä¸­ç­‰å¾…è¶…æ—¶ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">NonPI::<span class="hljs-built_in">MutexLockWithTimeout</span>(<span class="hljs-type">pthread_mutex_internal_t</span>*, <span class="hljs-type">bool</span>, timespec <span class="hljs-type">const</span>*)
</code></pre>
<p><strong>è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</strong></p>
<ul>
<li><code>mLock</code> å·²ç»è¢«æŸä¸ªçº¿ç¨‹æŒæœ‰</li>
<li>æŒæœ‰é”çš„çº¿ç¨‹å¯èƒ½åœ¨ç­‰å¾…å¦ä¸€ä¸ªèµ„æº</li>
<li>å½¢æˆäº†ç»å…¸çš„æ­»é”å¾ªç¯</li>
</ul>
<h3 data-id="heading-15">4.2 å¯èƒ½çš„æ­»é”åœºæ™¯</h3>
<p>æ ¹æ®ç»éªŒï¼ŒAudioFlingerçš„æ­»é”é€šå¸¸æœ‰å‡ ç§æ¨¡å¼ï¼š</p>
<p><strong>åœºæ™¯1ï¼šçº¿ç¨‹A-Bäº’ç›¸ç­‰å¾…</strong></p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">çº¿ç¨‹A: æŒæœ‰ mLock â†’ ç­‰å¾… mHardwareLock</span>
<span class="hljs-section">çº¿ç¨‹B: æŒæœ‰ mHardwareLock â†’ ç­‰å¾… mLock</span>
</code></pre>
<p><strong>åœºæ™¯2ï¼šå¼‚å¸¸æŒé”</strong></p>
<pre><code class="hljs">çº¿ç¨‹æŒæœ‰ mLock åå‘ç”Ÿå¼‚å¸¸ â†’ é”æœªé‡Šæ”¾ â†’ å…¶ä»–çº¿ç¨‹æ°¸è¿œç­‰å¾…
</code></pre>
<p><strong>åœºæ™¯3ï¼šç¡¬ä»¶é©±åŠ¨å¡æ­»</strong></p>
<pre><code class="hljs">çº¿ç¨‹æŒæœ‰ mLock â†’ è°ƒç”¨éŸ³é¢‘HAL â†’ HALå±‚æˆ–é©±åŠ¨å¡æ­» â†’ é”æ— æ³•é‡Šæ”¾
</code></pre>
<h3 data-id="heading-16">4.3 ä¸ºä»€ä¹ˆä¼šé›†ä¸­çˆ†å‘ï¼Ÿ</h3>
<p>ä»æ—¶é—´çº¿çœ‹ï¼Œæ‰€æœ‰ANRéƒ½å‘ç”Ÿåœ¨10åˆ†é’Ÿå†…ï¼Œä¸”è“ç‰™æœåŠ¡å¤šæ¬¡é‡è¯•ã€‚è¿™é€šå¸¸å‘ç”Ÿåœ¨ï¼š</p>
<ol>
<li>
<p><strong>ç³»ç»Ÿå¯åŠ¨/é‡å¯é˜¶æ®µ</strong></p>
<ul>
<li>å¤šä¸ªæœåŠ¡åŒæ—¶å¯åŠ¨</li>
<li>èµ„æºç«äº‰æ¿€çƒˆ</li>
<li>audioserveråˆå§‹åŒ–æœªå®Œæˆå°±æ”¶åˆ°å¤§é‡è¯·æ±‚</li>
</ul>
</li>
<li>
<p><strong>éŸ³é¢‘è®¾å¤‡åˆ‡æ¢æ—¶</strong></p>
<ul>
<li>è“ç‰™éŸ³é¢‘è¿æ¥/æ–­å¼€</li>
<li>è§¦å‘éŸ³é¢‘è·¯ç”±é‡æ–°é…ç½®</li>
<li>å¯èƒ½å¯¼è‡´é”ç«äº‰</li>
</ul>
</li>
<li>
<p><strong>OTAæ›´æ–°å</strong></p>
<ul>
<li>éŸ³é¢‘é…ç½®æ–‡ä»¶å˜æ›´</li>
<li>HALç‰ˆæœ¬ä¸åŒ¹é…</li>
<li>åˆå§‹åŒ–é€»è¾‘å¼‚å¸¸</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-17">äº”ã€å®æˆ˜å·¥å…·ï¼šå¦‚ä½•å¿«é€Ÿè¯Šæ–­ç±»ä¼¼é—®é¢˜</h2>
<h3 data-id="heading-18">5.1 å®æ—¶ç›‘æ§audioserverçŠ¶æ€</h3>
<p>å½“ç³»ç»Ÿå¡é¡¿æ—¶ï¼Œç¬¬ä¸€æ—¶é—´è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ£€æŸ¥audioserverè¿›ç¨‹æ˜¯å¦å­˜åœ¨</span>
adb shell ps -A | grep audioserver

<span class="hljs-comment"># 2. æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€</span>
adb shell <span class="hljs-built_in">cat</span> /proc/$(adb shell pidof audioserver)/status

<span class="hljs-comment"># 3. æŸ¥çœ‹ä¸»çº¿ç¨‹å †æ ˆï¼ˆå¿«é€Ÿåˆ¤æ–­æ˜¯å¦å¡æ­»ï¼‰</span>
adb shell <span class="hljs-built_in">cat</span> /proc/$(adb shell pidof audioserver)/stack
</code></pre>
<h3 data-id="heading-19">5.2 Binderè°ƒè¯•ç¥å™¨</h3>
<p>æŸ¥çœ‹Binderé©±åŠ¨ä¸­çš„é€šä¿¡çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰Binderäº‹åŠ¡</span>
adb shell <span class="hljs-built_in">cat</span> /sys/kernel/debug/binder/transactions

<span class="hljs-comment"># æŸ¥çœ‹audioserverçš„Binderä¿¡æ¯</span>
adb shell <span class="hljs-built_in">cat</span> /sys/kernel/debug/binder/proc/$(adb shell pidof audioserver)

<span class="hljs-comment"># æŸ¥çœ‹æ•´ä½“BinderçŠ¶æ€</span>
adb shell <span class="hljs-built_in">cat</span> /sys/kernel/debug/binder/state
</code></pre>
<p>å…³é”®ä¿¡æ¯ï¼š</p>
<ul>
<li><code>async_recv</code>ï¼šå¼‚æ­¥æ¥æ”¶é˜Ÿåˆ—é•¿åº¦</li>
<li><code>ready_threads</code>ï¼šå¯ç”¨çš„Binderçº¿ç¨‹æ•°</li>
<li><code>waiting_threads</code>ï¼šæ­£åœ¨ç­‰å¾…çš„çº¿ç¨‹æ•°</li>
</ul>
<p>å¦‚æœçœ‹åˆ°å¤§é‡äº‹åŠ¡å †ç§¯åœ¨æŸä¸ªè¿›ç¨‹ï¼Œå°±æ‰¾åˆ°äº†ç“¶é¢ˆã€‚</p>
<h3 data-id="heading-20">5.3 éŸ³é¢‘æœåŠ¡è¯Šæ–­å‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹AudioFlingerçŠ¶æ€</span>
adb shell dumpsys media.audio_flinger

<span class="hljs-comment"># æŸ¥çœ‹éŸ³é¢‘ç­–ç•¥æœåŠ¡</span>
adb shell dumpsys media.audio_policy

<span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰éŸ³é¢‘æµ</span>
adb shell dumpsys media.audio_flinger | grep -A 20 <span class="hljs-string">"Clients:"</span>
</code></pre>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿™äº›å‘½ä»¤åº”è¯¥èƒ½è¿”å›å®Œæ•´ä¿¡æ¯ã€‚å¦‚æœå¡ä½ä¸è¿”å›ï¼Œè¯´æ˜audioserverå·²æ­»é”ã€‚</p>
<h3 data-id="heading-21">5.4 æ€§èƒ½è¿½è¸ªåˆ©å™¨ï¼šsystrace</h3>
<p>å¯¹äºéš¾ä»¥å¤ç°çš„é—®é¢˜ï¼Œå¯ä»¥æå‰å¼€å¯systraceï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ•è·ç³»ç»Ÿè°ƒç”¨å’ŒBinderé€šä¿¡</span>
python systrace.py -o trace.html \
  <span class="hljs-built_in">sched</span> freq idle am wm gfx view binder_driver hal audio \
  -t 30
</code></pre>
<p>åœ¨traceä¸­æœç´¢ <code>audioserver</code>ï¼ŒæŸ¥çœ‹ï¼š</p>
<ul>
<li>çº¿ç¨‹è°ƒåº¦æƒ…å†µ</li>
<li>Binderäº‹åŠ¡æ—¶é•¿</li>
<li>é”ç­‰å¾…æ—¶é—´</li>
</ul>
<p>å¦‚æœçœ‹åˆ°æŸä¸ª Binder äº‹åŠ¡çš„ <code>transaction duration</code> è¶…è¿‡ 5 ç§’ï¼ŒåŸºæœ¬å¯ä»¥ç¡®å®šæ˜¯æ­»é”ã€‚</p>
<hr/>
<h2 data-id="heading-22">å…­ã€ç»éªŒæ€»ç»“ï¼šæ‰¹é‡ANRçš„è¯Šæ–­æ¨¡å¼</h2>
<h3 data-id="heading-23">6.1 è¯Šæ–­æµç¨‹å›¾</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e47a096ff2f245d49d324cc87e1e4559~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767520276&amp;x-signature=j%2BssMJylrvgVTsTemLtLurpGedQ%3D" alt="case2-æ‰¹é‡ANRé—®é¢˜è¯Šæ–­æµç¨‹å›¾.png" loading="lazy"/></p>
<h3 data-id="heading-24">6.2 å…³é”®è¯Šæ–­ä¿¡å·</h3>



































<table><thead><tr><th align="left">ç°è±¡</th><th align="left">å¯èƒ½åŸå› </th><th align="left">éªŒè¯æ–¹æ³•</th></tr></thead><tbody><tr><td align="left">æ‰€æœ‰ANRçš„çº¿ç¨‹éƒ½åœ¨ <code>waitForResponse</code></td><td align="left">æŸä¸ªç³»ç»ŸæœåŠ¡å¡æ­»</td><td align="left">æŸ¥çœ‹Binderäº‹åŠ¡é˜Ÿåˆ—</td></tr><tr><td align="left">ç›®æ ‡æœåŠ¡è¿›ç¨‹å­˜åœ¨ä½†æ— å“åº”</td><td align="left">æœåŠ¡å†…éƒ¨æ­»é”æˆ–æ­»å¾ªç¯</td><td align="left"><code>debuggerd -b &lt;pid&gt;</code> æŸ¥çœ‹å †æ ˆ</td></tr><tr><td align="left">çº¿ç¨‹çŠ¶æ€ä¸º <code>futex_wait</code></td><td align="left">ç­‰å¾…é”æˆ–æ¡ä»¶å˜é‡</td><td align="left">æŸ¥çœ‹é”æŒæœ‰è€…</td></tr><tr><td align="left">å †æ ˆä¸­æœ‰ <code>AudioFlinger</code></td><td align="left">éŸ³é¢‘æœåŠ¡é—®é¢˜</td><td align="left"><code>dumpsys media.audio_flinger</code></td></tr><tr><td align="left">å¤šä¸ªè¿›ç¨‹ç­‰å¾…åŒä¸€ä¸ªPID</td><td align="left">è¯¥PIDè¿›ç¨‹æ˜¯æ•…éšœæº</td><td align="left">é‡ç‚¹åˆ†æè¯¥è¿›ç¨‹</td></tr></tbody></table>
<h3 data-id="heading-25">6.3 é¿å‘æŒ‡å—</h3>
<p>åŸºäºè¿™æ¬¡äº‹æ•…çš„ç»éªŒæ•™è®­ï¼š</p>
<p><strong>âŒ ä¸è¦åšçš„äº‹</strong>ï¼š</p>
<ol>
<li>
<p><strong>ä¸è¦åœ¨ä¸»çº¿ç¨‹åŒæ­¥è°ƒç”¨å¯èƒ½è€—æ—¶çš„ç³»ç»ŸæœåŠ¡</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å±é™©ç¤ºä¾‹</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">()</span> {
    audioManager.registerAudioDeviceCallback(...);  <span class="hljs-comment">// å¯èƒ½é˜»å¡</span>
}
</code></pre>
</li>
<li>
<p><strong>ä¸è¦å¿½ç•¥Binderè°ƒç”¨è¶…æ—¶</strong></p>
<ul>
<li>é»˜è®¤çš„Binderè¶…æ—¶æ˜¯5ç§’ï¼Œè¶³ä»¥å¼•å‘ANR</li>
<li>åº”è¯¥è®¾è®¡å¼‚æ­¥æœºåˆ¶æˆ–æ˜¾å¼è¶…æ—¶å¤„ç†</li>
</ul>
</li>
<li>
<p><strong>ä¸è¦åœ¨æŒæœ‰é”çš„æƒ…å†µä¸‹è°ƒç”¨å¤–éƒ¨ä»£ç </strong></p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// å±é™©ä»£ç </span>
Mutex::Autolock _l(mLock);
callback-&gt;<span class="hljs-built_in">onEvent</span>();  <span class="hljs-comment">// callbackå¯èƒ½æ‰§è¡Œä»»æ„ä»£ç ï¼Œå¯èƒ½æ­»é”</span>
</code></pre>
</li>
</ol>
<p><strong>âœ… åº”è¯¥åšçš„äº‹</strong>ï¼š</p>
<ol>
<li>
<p><strong>é‡è¦çš„ç³»ç»ŸæœåŠ¡è°ƒç”¨ä½¿ç”¨å¼‚æ­¥+å›è°ƒ</strong></p>
<pre><code class="hljs language-java" lang="java">executor.execute(() -&gt; {
    <span class="hljs-keyword">try</span> {
        audioManager.registerAudioDeviceCallback(...);
        callback.onSuccess();
    } <span class="hljs-keyword">catch</span> (Exception e) {
        callback.onError(e);
    }
});
</code></pre>
</li>
<li>
<p><strong>æ·»åŠ æœåŠ¡å¥åº·æ£€æŸ¥</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isServiceAlive</span><span class="hljs-params">(String serviceName)</span> {
    <span class="hljs-type">IBinder</span> <span class="hljs-variable">binder</span> <span class="hljs-operator">=</span> ServiceManager.getService(serviceName);
    <span class="hljs-keyword">if</span> (binder == <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;

    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">return</span> binder.pingBinder();
    } <span class="hljs-keyword">catch</span> (RemoteException e) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
</code></pre>
</li>
<li>
<p><strong>å®ç°ä¼˜é›…é™çº§</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">if</span> (!isAudioServiceAvailable()) {
    Log.w(TAG, <span class="hljs-string">"Audio service unavailable, using silent mode"</span>);
    useSilentMode();  <span class="hljs-comment">// é™çº§æ–¹æ¡ˆ</span>
    <span class="hljs-keyword">return</span>;
}
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-26">å»¶ä¼¸é˜…è¯»</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top%2Fblog%2Fandroid_stability_performance%2Fandroid-stability-perf-series-readme" target="_blank" title="https://home.wonlab.top/blog/android_stability_performance/android-stability-perf-series-readme" ref="nofollow noopener noreferrer">Androidç¨³å®šæ€§&amp;æ€§èƒ½æ·±å…¥ç†è§£ä¸“æ ä»‹ç»</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top%2Fblog%2Fandroid_stability_performance%2Fcase1-android-ivi-lag-case-analysis-binder-consumed" target="_blank" title="https://home.wonlab.top/blog/android_stability_performance/case1-android-ivi-lag-case-analysis-binder-consumed" ref="nofollow noopener noreferrer">Androidè½¦æœºå¡é¡¿æ¡ˆä¾‹å‰–æ:ä»Binderè€—å°½åˆ°å•ä¾‹ç¼ºå¤±çš„æ·±åº¦æ’æŸ¥</a></li>
<li>Androidå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Ftopic%2Fperformance%2Fvitals%2Fanr" target="_blank" title="https://developer.android.com/topic/performance/vitals/anr" ref="nofollow noopener noreferrer">è¯Šæ–­å’Œä¿®å¤ANR</a></li>
<li>AOSPæºç ï¼š<code>frameworks/av/services/audioflinger/AudioFlinger.cpp</code></li>
<li>Binderæœºåˆ¶æ·±å…¥è§£æï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fsource.android.com%2Fdocs%2Fcore%2Farchitecture%2Fhidl%2Fbinder-ipc" target="_blank" title="https://source.android.com/docs/core/architecture/hidl/binder-ipc" ref="nofollow noopener noreferrer">Android Binder IPCåŸç†</a></li>
</ul>
<hr/>
<p><strong>é‡åˆ°è¿‡ç±»ä¼¼çš„ANRé—®é¢˜å—ï¼Ÿä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç»éªŒï¼</strong></p>
<p>å¦‚æœè§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œæ¬¢è¿åˆ†äº«ç»™æ›´å¤šAndroidå¼€å‘è€…ã€‚æˆ‘ä»¬ä¸‹æœŸå†è§ï¼ğŸ‘‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡ŒQwenæ–°æ¨¡å‹å®æµ‹ï¼šå‘Šåˆ«PSï¼Ÿé™¤äº†å‡ ä½•é¢˜å®ƒå‡ ä¹ä»€ä¹ˆéƒ½ä¼š]]></title>    <link>https://juejin.cn/post/7588680081326456874</link>    <guid>https://juejin.cn/post/7588680081326456874</guid>    <pubDate>2025-12-28T10:30:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588680081326456874" data-draft-id="7588152122187726902" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡ŒQwenæ–°æ¨¡å‹å®æµ‹ï¼šå‘Šåˆ«PSï¼Ÿé™¤äº†å‡ ä½•é¢˜å®ƒå‡ ä¹ä»€ä¹ˆéƒ½ä¼š"/> <meta itemprop="keywords" content="AIGC,é˜¿é‡Œå·´å·´"/> <meta itemprop="datePublished" content="2025-12-28T10:30:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡ŒQwenæ–°æ¨¡å‹å®æµ‹ï¼šå‘Šåˆ«PSï¼Ÿé™¤äº†å‡ ä½•é¢˜å®ƒå‡ ä¹ä»€ä¹ˆéƒ½ä¼š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T10:30:57.000Z" title="Sun Dec 28 2025 10:30:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025å¹´çš„å¹´åº•ï¼Œå¼€æºç¤¾åŒºæ”¶åˆ°äº†ä¸€ä»½ç›¸å½“ç¡¬æ ¸çš„â€œåœ£è¯ç¤¼ç‰©â€ã€‚</p>
<p>å°±åœ¨12æœˆ25æ—¥ï¼Œé˜¿é‡Œå·´å·´Qwenå›¢é˜Ÿæ‚„æ— å£°æ¯åœ°ç”©å‡ºäº†ä»–ä»¬æœ€æ–°çš„å›¾åƒç¼–è¾‘æ¨¡å‹â€”â€”<strong>Qwen-Image-Edit-2511</strong>ã€‚å¦‚æœä½ è¿˜åœ¨ç”¨ä¸Šä¸€ä»£çš„2509ç‰ˆæœ¬ï¼Œæˆ–è€…æ­£è‹¦æ¼äºå¸‚é¢ä¸Šçš„AIä¿®å›¾æ€»æ˜¯â€œä¿®ç€ä¿®ç€äººå°±æ¢äº†å¼ è„¸â€ï¼Œé‚£ä¹ˆè¿™æ¬¡çš„æ›´æ–°å¯èƒ½ä¼šè®©ä½ çœ¼å‰ä¸€äº®ã€‚</p>
<p>è¿™ä¸æ˜¯ä¸€æ¬¡ç®€å•çš„ç‰ˆæœ¬å·ç”šè‡³ï¼Œè€Œæ˜¯ä¸€æ¬¡é’ˆå¯¹ç—›ç‚¹çš„ç²¾å‡†æ‰‹æœ¯ã€‚æˆ‘èŠ±äº†ä¸€æ•´å¤©æ—¶é—´åœ¨Hugging Faceå’Œæœ¬åœ°ç¯å¢ƒä¸Šå®æµ‹äº†è¿™ä¸ªæ¨¡å‹ï¼Œè¿™å°±æ¥å’Œå¤§å®¶èŠèŠï¼Œè¿™ä½â€œé˜¿é‡Œä¿®å›¾å¸ˆâ€åˆ°åº•è¿›åŒ–åˆ°äº†ä»€ä¹ˆç¨‹åº¦ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fdfsdgfdg-770x1024.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/dfsdgfdg-770x1024.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66d55fd82bee4c09837bdd1e210126e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767522657&amp;x-signature=MmLTd%2FA1zA8hSxolmcMG85kt0Xc%3D" alt="dfsdgfdg" loading="lazy"/></a></p>
<p><strong>ä¸ä»…æ˜¯ä¿®å›¾ï¼Œæ›´æ˜¯â€œä¿è„¸â€ç¥å™¨</strong></p>
<p>ç©è¿‡AIå›¾åƒç¼–è¾‘çš„æœ‹å‹éƒ½çŸ¥é“ä¸€ä¸ªè‘—åçš„é¬¼æ•…äº‹ï¼šä½ å¯ä»¥è®©AIæŠŠèƒŒæ™¯ä»å§å®¤æ¢æˆæ²™æ»©ï¼Œä½†å¾€å¾€åŒæ—¶ä¹ŸæŠŠç…§ç‰‡é‡Œçš„å¥³æœ‹å‹æ¢æˆäº†é™Œç”Ÿäººã€‚è¿™å°±æ˜¯æ‰€è°“çš„â€œå›¾åƒæ¼‚ç§»â€ã€‚</p>
<p>Qwen-Image-Edit-2511è¿™æ¬¡æœ€å¤§çš„å–ç‚¹ï¼Œå°±æ˜¯æ­»ç£•<strong>äººç‰©ä¸€è‡´æ€§</strong>ã€‚</p>
<p>åœ¨å®æµ‹ä¸­ï¼Œæˆ‘å°è¯•äº†ä¸€ç»„é«˜éš¾åº¦çš„æ“ä½œï¼šå¯¹ä¸€å¼ åŒäººæƒ…ä¾£åˆç…§è¿›è¡Œé£æ ¼è¿ç§»ï¼Œå¹¶è¦æ±‚æ”¹å˜å…‰å½±ã€‚ä»¤äººæƒŠå–œçš„æ˜¯ï¼Œ2511ç‰ˆæœ¬åƒæ˜¯ä¸€ä¸ªè€ç»ƒçš„ä¿®å›¾å¸ˆï¼Œå®ƒæ­»æ­»é”ä½äº†äººç‰©çš„é¢éƒ¨ç‰¹å¾ã€å‘å‹ç»†èŠ‚ç”šè‡³çœ¼ç¥ã€‚ä¸ç®¡æ˜¯å•äººè¿æ‹è¿˜æ˜¯å¤šäººå¤§åˆå½±ï¼Œå®ƒéƒ½èƒ½åœ¨ä¿®æ”¹ç¯å¢ƒã€å§¿æ€çš„åŒæ—¶ï¼Œç¡®ä¿â€œä½ è¿˜æ˜¯ä½ â€ã€‚å¯¹äºåšäººåƒå†™çœŸã€å•†ä¸šæ‘„å½±åæœŸçš„äººæ¥è¯´ï¼Œè¿™ç®€ç›´æ˜¯æ•‘å‘½çš„åŠŸèƒ½ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fdsfgdhfgj-883x1024.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/dsfgdhfgj-883x1024.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd834669cd0d48a48fa60172b2408c58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767522657&amp;x-signature=zD3%2BDYBYtPwSgtDmNMnJRS1cn8A%3D" alt="dsfgdhfgj" loading="lazy"/></a></p>
<p><strong>è‡ªå¸¦ç¥è£…ï¼šLoRAä¸å†éœ€è¦åˆ°å¤„æ‰¾</strong></p>
<p>ä»¥å‰æˆ‘ä»¬ä¸ºäº†å®ç°ç‰¹å®šçš„å…‰æ•ˆæˆ–æè´¨ï¼Œå¾€å¾€éœ€è¦å»Cç«™ä¸‹è½½å„ç§LoRAæŒ‚è½½ï¼Œè¿˜è¦è°ƒè¯•æƒé‡ï¼Œéº»çƒ¦å¾—è¦æ­»ã€‚</p>
<p>Qwenè¿™æ¬¡åšäº†ä¸€ä¸ªéå¸¸èªæ˜çš„å†³å®šï¼š<strong>å†…ç½®LoRA</strong>ã€‚</p>
<p>è¿™å°±åƒæ˜¯ä¹°ç›¸æœºç›´æ¥é€äº†å…¨å¥—æ»¤é•œå’Œé•œå¤´ã€‚æ¨¡å‹å†…éƒ¨é›†æˆäº†ä¸€äº›ç¤¾åŒºæœ€é«˜é¢‘ä½¿ç”¨çš„LoRAæ¨¡å—ã€‚ä½ å¯ä»¥ç›´æ¥é€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤è°ƒç”¨â€œå…‰ç…§å¢å¼ºâ€ï¼Œè®©ä¸€å¼ å¹³å¹³æ— å¥‡çš„å®¤å†…ç…§ç‰‡æ‹¥æœ‰æŸ”å…‰æˆ–ä¾§å…‰çš„é«˜çº§è´¨æ„Ÿï¼›æˆ–è€…åœ¨å·¥ä¸šè®¾è®¡åœºæ™¯ä¸­ï¼Œä¸€é”®æŠŠæ¤…å­çš„æè´¨ä»å¡‘æ–™æ¢æˆèƒ¡æ¡ƒæœ¨ï¼Œè€Œç»“æ„çº¹ä¸ä¸åŠ¨ã€‚è¿™ç§â€œå¼€ç®±å³ç”¨â€çš„ä½“éªŒï¼Œæå¤§åœ°é™ä½äº†ä½¿ç”¨çš„é—¨æ§›ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fgdgsgfd.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/gdgsgfd.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5bc670c1ea342a99b9c785ddedf15a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767522657&amp;x-signature=PAwIYXXhG2daYcg6wN99QccRI1Q%3D" alt="gdgsgfd" loading="lazy"/></a></p>
<p><strong>æ–‡å­—æ¸²æŸ“ä¸â€œæ‡‚ä¸­æ–‡â€çš„ä¼˜åŠ¿</strong></p>
<p>ä½œä¸ºå›½äº§æ¨¡å‹ï¼ŒQwenåœ¨ä¸­æ–‡ç†è§£å’Œæ¸²æŸ“ä¸Šçš„ä¼˜åŠ¿æ˜¯å‹å€’æ€§çš„ã€‚</p>
<p>å¾ˆå¤šå›½å¤–æ¨¡å‹ç”Ÿæˆè‹±æ–‡Logoè¿˜è¡Œï¼Œä¸€é‡åˆ°æ±‰å­—å°±ä¹±ç ã€‚ä½†åœ¨2511çš„æµ‹è¯•ä¸­ï¼Œæˆ‘è®©å®ƒç”Ÿæˆä¸€å¼ å¸¦æœ‰â€œ2026æ–°å¹´å¿«ä¹â€å­—æ ·çš„æµ·æŠ¥ï¼Œå­—ä½“æ’ç‰ˆå’Œç¬”ç”»ç»“æ„éƒ½éå¸¸æ¸…æ™°ï¼Œç”šè‡³èƒ½æ ¹æ®ç”»é¢é£æ ¼è‡ªåŠ¨åŒ¹é…å­—ä½“è®¾è®¡ã€‚è¿™ä¸€å—ï¼ŒQwenç¡®å®èµ°åœ¨äº†å‰é¢ã€‚</p>
<p><strong>åˆ«é«˜å…´å¤ªæ—©ï¼Œå®ƒä¹Ÿæœ‰åç§‘çš„æ—¶å€™</strong></p>
<p>å¹å®Œäº†ä¼˜ç‚¹ï¼Œæˆ‘ä»¬å¾—èŠèŠå®ƒçš„çŸ­æ¿ã€‚è™½ç„¶å®ƒåœ¨æ„Ÿæ€§çš„è‰ºæœ¯åˆ›ä½œä¸Šè¡¨ç°å‡ºè‰²ï¼Œä½†åœ¨ç†æ€§çš„â€œæ•°å­¦é¢˜â€ä¸Šï¼Œå®ƒè¿˜æ˜¯ä¸ªå·®ç”Ÿã€‚</p>
<p>é¦–å…ˆæ˜¯<strong>å‡ ä½•æ¨ç†</strong>ã€‚å®˜æ–¹å®£ä¼ ä¸­æåˆ°å®ƒå¢å¼ºäº†è¾…åŠ©çº¿ç”Ÿæˆèƒ½åŠ›ï¼Œä½†åœ¨å®æµ‹ä¸­ï¼Œå¦‚æœä½ è¦æ±‚å®ƒç”»å‡ºä¸¥æ ¼çš„å‚çº¿ã€åˆ‡çº¿æˆ–è€…å¤æ‚çš„å·¥ç¨‹åˆ¶å›¾ï¼Œå®ƒå¾€å¾€ä¼šâ€œèƒ¡ç¼–ä¹±é€ â€ã€‚å®ƒèƒ½ç†è§£è¾…åŠ©çº¿çš„æ¦‚å¿µï¼Œä½†åšä¸åˆ°CADçº§åˆ«çš„ç²¾å‡†ã€‚</p>
<p>å…¶æ¬¡æ˜¯<strong>ç©ºé—´æ§åˆ¶çš„ç²¾ç¡®åº¦</strong>ã€‚å¦‚æœä½ ä¸‹è¾¾æŒ‡ä»¤â€œå°†é•œå¤´å‘å·¦ç²¾ç¡®æ—‹è½¬60åº¦â€ï¼Œæ¨¡å‹å¯èƒ½ä¼šæ„Ÿåˆ°å›°æƒ‘ã€‚å®ƒèƒ½åšåˆ°â€œæ¢ä¸ªè§’åº¦çœ‹â€ï¼Œä½†åšä¸åˆ°â€œç²¾ç¡®æ—‹è½¬60åº¦â€ã€‚åœ¨ç²¾ç»†çš„ç©ºé—´æ„å›¾å’Œé€»è¾‘æ¨ç†ä¸Šï¼Œå®ƒè·ç¦»å®Œç¾çš„å·¥ä¸šçº§å·¥å…·è¿˜æœ‰ä¸€æ®µè·¯è¦èµ°ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fgferhgtrh.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/gferhgtrh.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91ece985d32c4952a2d18f11cdb4a292~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767522657&amp;x-signature=RT3GZOw8dmJf%2FxWyZaiLz2tZuzw%3D" alt="gferhgtrh" loading="lazy"/></a></p>
<p><strong>æ€»ç»“ï¼šå€¼å¾—ä¸‹è½½å—ï¼Ÿ</strong></p>
<p>å¦‚æœä¸è°ˆé‚£äº›æåº¦ä¾èµ–å‡ ä½•ç²¾åº¦çš„å·¥ä¸šåˆ¶å›¾åœºæ™¯ï¼Œ<strong>Qwen-Image-Edit-2511 æ˜¯ç›®å‰å¼€æºç•Œæœ€èƒ½æ‰“çš„å›¾åƒç¼–è¾‘æ¨¡å‹ä¹‹ä¸€</strong>ã€‚</p>
<p>å®ƒè§£å†³äº†æœ€æ ¸å¿ƒçš„â€œåƒä¸åƒâ€çš„é—®é¢˜ï¼ŒåˆæŠŠå…‰å½±å’Œæè´¨çš„æ§åˆ¶æƒäº¤å›äº†ç”¨æˆ·æ‰‹ä¸­ã€‚å¯¹äºæ‘„å½±å¸ˆã€ç”µå•†è®¾è®¡å¸ˆä»¥åŠåƒæˆ‘è¿™æ ·çš„å†…å®¹åˆ›ä½œè€…æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªèƒ½å¤§å¹…æå‡æ•ˆç‡çš„å…è´¹ç”Ÿäº§åŠ›å·¥å…·ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fdasfds.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/dasfds.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30822d24344c4ac8be765f84e91afa2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767522657&amp;x-signature=0ZkTu0PrfA%2Fk7LFqAHHDix%2Fvvp4%3D" alt="dasfds" loading="lazy"/></a></p>
<p>ç›®å‰æ¨¡å‹å·²ç»åœ¨Hugging Faceå’ŒModelScopeå¼€æºï¼Œä¹Ÿæœ‰ç°æˆçš„Demoå¯ä»¥ä½“éªŒã€‚å¦‚æœä½ æ‰‹å¤´æœ‰ä¸€å—è¿˜ä¸é”™çš„æ˜¾å¡ï¼Œæˆ–è€…ä¹ æƒ¯åœ¨äº‘ç«¯è·‘æ¨¡å‹ï¼Œå¼ºçƒˆå»ºè®®ä½ æŠŠ2509å‡çº§åˆ°2511ã€‚æ¯•ç«Ÿï¼Œèƒ½å¬æ‡‚äººè¯è¿˜èƒ½æŠŠäººä¿®å¾—å¥½çœ‹çš„AIï¼Œè°ä¸çˆ±å‘¢ï¼Ÿ</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»…ä¸¤å¥è¯ï¼Œå°±æ’¸äº†ä¸€ä¸ªæç¤ºè¯å¤§å¸ˆæ™ºèƒ½ä½“]]></title>    <link>https://juejin.cn/post/7588104741611536394</link>    <guid>https://juejin.cn/post/7588104741611536394</guid>    <pubDate>2025-12-28T09:07:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588104741611536394" data-draft-id="7588365276190687270" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»…ä¸¤å¥è¯ï¼Œå°±æ’¸äº†ä¸€ä¸ªæç¤ºè¯å¤§å¸ˆæ™ºèƒ½ä½“"/> <meta itemprop="keywords" content="Coze"/> <meta itemprop="datePublished" content="2025-12-28T09:07:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾é³´"/> <meta itemprop="url" content="https://juejin.cn/user/3683842894347076"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»…ä¸¤å¥è¯ï¼Œå°±æ’¸äº†ä¸€ä¸ªæç¤ºè¯å¤§å¸ˆæ™ºèƒ½ä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3683842894347076/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾é³´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:07:50.000Z" title="Sun Dec 28 2025 09:07:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å¾é³´ã€‚ä¸“æ³¨äºåˆ†äº«æå‡å·¥ä½œä¸ç”Ÿæ´»æ•ˆç‡çš„å·¥å…·ï¼Œæ— å¿åˆ†äº«AIé¢†åŸŸç›¸å…³çš„ç²¾é€‰æŠ¥å‘Šï¼ŒæŒç»­å…³æ³¨AIçš„å‰æ²¿åŠ¨å‘ã€‚</p>
<p>å‰é¢åˆ†äº«äº†ä¸€äº›â€œæ‰£å­ç¼–ç¨‹â€ç›¸å…³çš„ä»‹ç»æ–‡ç« â€”â€”ã€Š æ— ä»£ç æ—¶ä»£çœŸæ¥äº†ï¼Ÿæ‰£å­ï¼ˆCozeï¼‰ä¸€å¥è¯ç”Ÿæˆå·¥ä½œæµã€‹ï¼Œæœ‰æœ‹å‹å°±åå°ç§ä¿¡é—®èƒ½ä¸èƒ½å¤šä»‹ç»ä¸€äº›ä½¿ç”¨çš„æ¡ˆä¾‹ï¼Œä»¥ä¾¿å¯ä»¥æ›´å¥½çš„å­¦ä¹ æ€ä¹ˆæ ·å»ä½¿ç”¨å®ƒã€‚</p>
<p>æœ¬æ–‡æˆ‘å°†æŠŠä¹‹å‰åšè¿‡çš„ä¸€ä¸ªæ‰‹æ’¸çš„æç¤ºè¯å¤§å¸ˆæ™ºèƒ½ä½“ï¼Œçœ‹çœ‹æ€ä¹ˆæ ·ä½¿ç”¨æ‰£å­ç¼–ç¨‹å°†è¿™ä¸ªæ¡ˆä¾‹å®ç°å‡ºæ¥ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆè®©DeepSeekå¸®æˆ‘ä»¬åšéœ€æ±‚åˆ†æï¼Œæè¿°æ¸…æ¥šæç¤ºè¯å¤§å¸ˆæ™ºèƒ½ä½“çš„åŠŸèƒ½ã€ç›®æ ‡ç”¨æˆ·ä»¥åŠä½ çš„æƒ³æ³•ï¼Œè®©DeepSeekå¸®ä½ ç”Ÿæˆä¸€ä»½éœ€æ±‚æ–‡æ¡£ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6473e7c9b224e9a84f6bb246212355e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767517670&amp;x-signature=mHVMehXteK2BfaMg4MT8ptblKhY%3D" alt="" loading="lazy"/></p>
<ul>
<li>æç¤ºè¯</li>
</ul>

<pre><code class="hljs">ä½ éœ€è¦åŒ–èº«ä¸ºä¸€ä¸ªèµ„æ·±çš„éœ€æ±‚åˆ†æå¸ˆï¼Œæˆ‘æƒ³åˆ¶ä½œä¸€ä¸ªæç¤ºè¯å¤§å¸ˆæ™ºèƒ½ä½“ï¼Œè¿™ä¸ªæ™ºèƒ½ä½“çš„ç›®æ ‡ç”¨æˆ·æ˜¯ä¸æ‡‚æç¤ºè¯çš„ç»“æ„ï¼Œéœ€è¦æ·±å…¥çš„ç†è§£ç”¨æˆ·çš„è¯‰æ±‚ï¼Œç„¶åå°†è¯‰æ±‚å˜æˆä¸€ä¸ªä¸“ä¸šçš„æç¤ºè¯ï¼Œæç¤ºè¯å¯ä»¥ç›´æ¥æä¾›ç»™å¤§æ¨¡å‹ï¼Œæ— éœ€å†ä¿®æ”¹ï¼Œéº»çƒ¦ä½ å¸®æˆ‘æ‹†è§£ä¸€ä¸‹æˆ‘çš„è¿™ä¸ªæç¤ºè¯å¤§å¸ˆæ™ºèƒ½ä½“çš„éœ€æ±‚ï¼Œè¾“å‡ºæˆmarkdownæ ¼å¼ã€‚
</code></pre>
<p>DeepSeekç»™ç”Ÿæˆçš„éœ€æ±‚æ–‡æ¡£æ˜¯éå¸¸è¯¦ç»†çš„ï¼ŒåŒ…å«äº†äº§å“çš„æ„¿æ™¯ã€æ ¸å¿ƒçš„ä»·å€¼ä¸»å¼ ã€ä¸»è¦çš„ç”¨æˆ·ç”»åƒã€ç”¨æˆ·éœ€æ±‚å±‚æ¬¡ã€ä¸»è¦çš„åŠŸèƒ½æ¨¡å—ç­‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/80dffe93ab1d4c3aae25a1709f97d433~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767517670&amp;x-signature=iKk1v%2FV3b8TLCweEGIYXg8tIJ8A%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2e4395c98989476e992a4f59911fa907~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767517670&amp;x-signature=%2FFaJtpuExXJg4UyStV3Ies8SIuQ%3D" alt="" loading="lazy"/></p>
<p>ç„¶åæˆ‘ä»¬çœ‹çœ‹DeepSeekç»™ç”Ÿæˆçš„è¿™ä»½éœ€æ±‚æ–‡æ¡£æ˜¯å¦åˆç†ï¼Œæœ‰æ²¡æœ‰éœ€è¦ä¿®æ”¹çš„åœ°æ–¹ï¼Œæœ‰çš„è¯ä¿®æ”¹ï¼Œæ²¡æœ‰çš„è¯å°±ç›´æ¥æŠŠè¿™ä»½éœ€æ±‚æ–‡æ¡£çš„markdownæ ¼å¼ç»™æ‹·è´ä¸‹æ¥ã€‚</p>
<p>å–åˆ°æ‰£å­ç¼–ç¨‹é¡µé¢ï¼Œé€‰æ‹©â€œæ™ºèƒ½ä½“â€ï¼Œç„¶åå°†éœ€æ±‚æ–‡æ¡£è´´ç»™æ‰£å­ç¼–ç¨‹æ™ºèƒ½ä½“ï¼Œç„¶åå®ƒå°±ä¼šå¼€å§‹æ€è€ƒåˆ†æï¼Œå¹¶ä¸”å°†æ­¥éª¤è¿›è¡Œå®ç°æ­¥éª¤è¿›è¡Œæ‹†è§£ï¼Œæ²¡ä¸€ä¼šå„¿åŠŸå¤«ï¼Œæç¤ºè¯å¤§å¸ˆæ™ºèƒ½ä½“å°±å¥½äº†ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4f1bcb5c34cf42b4be90450fa4b2c2bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767517670&amp;x-signature=8t93yvYsPHErDaTUMbm4WQGxsjY%3D" alt="" loading="lazy"/></p>
<p>ä¸‹æ–¹æ˜¯æç¤ºè¯å¤§å¸ˆæ™ºèƒ½ä½“ï¼Œæ ¹æ®æˆ‘çš„éœ€æ±‚ç»™æˆ‘ç”Ÿæˆçš„æç¤ºè¯ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-strong">**æ ¸å¿ƒä¸»é¢˜ï¼š**</span> æ‰‹ç»˜é£æ ¼çš„è‹¹æœ

<span class="hljs-strong">**é£æ ¼è¦æ±‚ï¼š**</span>
<span class="hljs-bullet">-</span> æ‰‹ç»˜é£æ ¼ï¼Œæœ‰æ˜æ˜¾çš„ç¬”è§¦ç—•è¿¹å’Œçº¿æ¡æ„Ÿ
<span class="hljs-bullet">-</span> è‰²å½©ä½¿ç”¨å°å­¦ç”Ÿå½©è‰²ç”»ç¬”é£æ ¼ï¼Œè‰²å½©é²œè‰³ä½†ç•¥æ˜¾ä¸å‡åŒ€
<span class="hljs-bullet">-</span> çº¿æ¡å¯ä»¥ç•¥æ˜¾ç¨šå«©ã€ä¸å®Œç¾ï¼Œä½“ç°æ‰‹ç»˜çš„çœŸå®æ„Ÿ
<span class="hljs-bullet">-</span> æ•´ä½“æ„Ÿè§‰å¤©çœŸã€ç«¥è¶£ã€å……æ»¡æ´»åŠ›

<span class="hljs-strong">**æŠ€æœ¯è¦æ±‚ï¼š**</span>
<span class="hljs-bullet">-</span> å°ºå¯¸æ¯”ä¾‹ï¼š16:9
<span class="hljs-bullet">-</span> æ ¼å¼ï¼šJPG
<span class="hljs-bullet">-</span> åˆ†è¾¨ç‡ï¼šé«˜æ¸…
<span class="hljs-bullet">-</span> å…‰çº¿ï¼šæ˜äº®è‡ªç„¶ï¼Œæœ‰è½»å¾®é˜´å½±å¢åŠ ç«‹ä½“æ„Ÿ

<span class="hljs-strong">**æ„å›¾å»ºè®®ï¼š**</span>
<span class="hljs-bullet">-</span> è‹¹æœä½äºç”»é¢ä¸­å¿ƒæˆ–åä¸Šä½ç½®
<span class="hljs-bullet">-</span> èƒŒæ™¯ç®€æ´ï¼Œå¯è€ƒè™‘æ·¡è‰²èƒŒæ™¯æˆ–ç®€å•çš„çº¹ç†
<span class="hljs-bullet">-</span> å¯ä»¥æ·»åŠ ä¸€äº›ç®€å•çš„è£…é¥°å…ƒç´ ï¼Œå¦‚å¶å­æˆ–æœæŸ„

<span class="hljs-strong">**è´Ÿé¢æç¤ºè¯ï¼š**</span>
<span class="hljs-bullet">-</span> é¿å…å…‰æ»‘ã€å®Œç¾çš„æ•°å­—æ¸²æŸ“æ•ˆæœ
<span class="hljs-bullet">-</span> é¿å…è¿‡äºå†™å®æˆ–ç…§ç‰‡é£æ ¼
<span class="hljs-bullet">-</span> é¿å…å¤æ‚çš„èƒŒæ™¯æˆ–è¿‡å¤šå…ƒç´ 
<span class="hljs-bullet">-</span> é¿å…è‰²å½©è¿‡äºç°æš—æˆ–ä¸è‡ªç„¶
<span class="hljs-bullet">-</span> é¿å…çº¿æ¡è¿‡äºè§„æ•´æˆ–æœºæ¢°åŒ–
</code></pre>
<p>ç„¶åæˆ‘æŠŠè¿™ä¸ªæç¤ºè¯ï¼Œåœ¨è±†åŒ…ä¸Šæµ‹è¯•äº†ä¸€ä¸‹ç”Ÿå›¾çš„æ•ˆæœï¼Œç”Ÿæˆçš„å›¾ç‰‡çœ‹ç€è¿˜æ˜¯å¾ˆä¸é”™çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c0079727f19469689e79e59e65291fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767517670&amp;x-signature=4ZVE9D1cV0UIbIO2ib2tpv1Z%2F4o%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªæç¤ºè¯å¤§å¸ˆæ™ºèƒ½ä½“ä»…èŠ±äº†5åˆ†é’Ÿçš„æ—¶é—´å°±åˆ›ä½œå‡ºæ¥äº†ï¼Œè€Œä¹‹å‰æ‰‹æ’¸çš„æç¤ºè¯å¤§å¸ˆèŠ±äº†å°†è¿‘30åˆ†é’Ÿï¼Œä¸å¾—ä¸è¯´æ‰£å­ç¼–ç¨‹å¯ä»¥å¤§å¤§çš„æç¤ºå‡æˆ‘ä»¬çš„åˆ¶ä½œæ•ˆç‡ã€‚</p>
<p>å¯¹äºæ²¡æœ‰æŠ€æœ¯èƒŒæ™¯çš„æœ‹å‹ï¼Œè¿™éœ€è¦å’ŒAIèŠå¤©çš„æ–¹å¼ä¾¿å¯ä»¥å®ç°æ™ºèƒ½ä½“å’Œå·¥ä½œæµï¼Œç®€ç›´æ˜¯å¤ªå¼ºå¤§äº†ã€‚</p>
<p>è™½ç„¶ç°åœ¨å¯¹äºå¤æ‚åœºæ™¯æ”¯æŒè¿˜ä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œä½†æ˜¯ï¼Œç›¸ä¿¡éšç€ç‰ˆæœ¬çš„è¿­ä»£ï¼Œè¿™å—çš„æ”¯æŒè‚¯å®šä¼šè¶Šæ¥è¶Šå¥½ã€‚</p>
<p>æœ¬æ–‡çš„åˆ†äº«å°±åˆ°è¿™é‡Œï¼Œå¦‚æœæ‚¨è§‰å¾—æœ‰æ”¶è·çš„è¯ï¼Œå¯ä»¥ç»™ä¸ªä¸€é”®ä¸‰è¿ï¼Œæ‚¨çš„é¼“åŠ±æ˜¯å¾é³´æŒç»­è¾“å‡ºçš„æœ€å¤§åŠ¨åŠ›ã€‚æœ‰ä»€ä¹ˆç–‘é—®ä¹Ÿå¯ä»¥æ‰“åœ¨è¯„è®ºåŒºï¼Œå¾é³´ä¼šç¬¬ä¸€æ—¶é—´å›å¤ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7c016a89bbc4c36990bf084904e38d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767517670&amp;x-signature=QzBU0ac6zisE%2Ff%2BhpB54Pj7gZm0%3D" alt="" loading="lazy"/></p>
<p>æœ€è¿‘å®æˆ˜äº†ä¸€äº›æ‰£å­ï¼ˆCozeï¼‰å·¥ä½œæµç›¸å…³çš„æ¡ˆä¾‹ï¼ŒåŒ…å«å°çº¢è–¯å›¾æ–‡ç”Ÿæˆã€çˆ†æ¬¾è§†é¢‘å‰ªè¾‘ã€åŠå…¬ææ•ˆç­‰æ‰£å­æ¡ˆä¾‹ï¼Œå†…é™„è¯¦ç»†çš„æ•™ç¨‹å’Œå·¥ä½œæµå®‰è£…åŒ…ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥æ¥ä¸ª<strong>ä¸€é”®ä¸‰è¿ï¼ˆå¿…é¡»åŠ¨ä½œï¼‰</strong> ï¼Œæ–‡ç« è¯„è®ºåŒºè¯„è®ºâ€œ<strong>æ‰£å­æ¡ˆä¾‹</strong>â€é¢†å–ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚æœè®©æˆ‘ç«™åœ¨ç§‘æŠ€ä»ä¸šè€…çš„è§’åº¦å»å›çœ‹ 2025 å¹´ï¼Œè®©æˆ‘é€‰ä¸€ä¸ªè¯å‡ºæ¥å½¢å®¹å®ƒï¼Œæˆ‘ä¼šé€‰æ‹©â€œvibe codingâ€è¿™ä¸ªè¯ã€‚]]></title>    <link>https://juejin.cn/post/7587997157237915700</link>    <guid>https://juejin.cn/post/7587997157237915700</guid>    <pubDate>2025-12-27T06:10:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7587997157237915700" data-draft-id="7587997157237899316" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚æœè®©æˆ‘ç«™åœ¨ç§‘æŠ€ä»ä¸šè€…çš„è§’åº¦å»å›çœ‹ 2025 å¹´ï¼Œè®©æˆ‘é€‰ä¸€ä¸ªè¯å‡ºæ¥å½¢å®¹å®ƒï¼Œæˆ‘ä¼šé€‰æ‹©â€œvibe codingâ€è¿™ä¸ªè¯ã€‚"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-27T06:10:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="whyæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/3702810893364350"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚æœè®©æˆ‘ç«™åœ¨ç§‘æŠ€ä»ä¸šè€…çš„è§’åº¦å»å›çœ‹ 2025 å¹´ï¼Œè®©æˆ‘é€‰ä¸€ä¸ªè¯å‡ºæ¥å½¢å®¹å®ƒï¼Œæˆ‘ä¼šé€‰æ‹©â€œvibe codingâ€è¿™ä¸ªè¯ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3702810893364350/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    whyæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-27T06:10:09.000Z" title="Sat Dec 27 2025 06:10:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-27
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœè®©æˆ‘ç«™åœ¨ç§‘æŠ€ä»ä¸šè€…çš„è§’åº¦å»å›çœ‹ 2025 å¹´ï¼Œè®©æˆ‘é€‰ä¸€ä¸ªè¯å‡ºæ¥å½¢å®¹å®ƒï¼Œæˆ‘ä¼šé€‰æ‹©â€œvibe codingâ€è¿™ä¸ªè¯ã€‚</p>
<p>ChatGPT ä½œä¸º AI çš„ç¬¬ä¸€æ³¢æµªæ½®æ¥ä¸´çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä½œä¸ºç§‘æŠ€ä»ä¸šè€…ï¼Œéƒ½æ¸…æ¥šçš„çŸ¥é“è¿™æ³¢æµªæ½®ä¼šå†²å‡»åˆ°æˆ‘ä»¬ä¸­çš„å¤§å¤šæ•°ã€‚</p>
<p>å¯¹æˆ‘æ¥è¯´ï¼Œåœ¨ 2025 å¹´ï¼Œè¿™æ³¢æµªæ½®çš„åç§°å°±å« vibe codingã€‚å…¶å®ä½ ä»”ç»†æƒ³æƒ³ï¼ŒAI å†™å‡ºçš„ä»£ç èƒ½ç”¨ï¼Œè¿™ä»¶äº‹çˆ†å‘æ€§çš„å‘å±•ï¼Œä¹Ÿå°±æ˜¯ä»Šå¹´è¿™ä¸€å¹´å‘ç”Ÿçš„äº‹å„¿ï¼Œç”šè‡³æ˜¯ä¸‹åŠå¹´çš„äº‹æƒ…ã€‚å„ç§å„æ ·çš„ AI ç¼–ç å·¥å…·å¦‚é›¨åæ˜¥ç¬‹èˆ¬çš„å†’å‡ºæ¥å¤´æ¥ï¼Œä¸€ä¸ªæ¯”ä¸€ä¸ªå¥½ç”¨ã€‚</p>
<p>å†²å‡»åˆ°æˆ‘çš„ä¸€ä¸ªå…·ä½“è¡¨ç°ä¹‹ä¸€å°±æ˜¯ä»Šå¹´æˆ‘å†™æ–‡ç« çš„é¢‘ç‡çœŸçš„æ²¡æœ‰å‰å‡ å¹´è¿™ä¹ˆé«˜äº†ã€‚</p>
<p>åŒæ ·çš„ä¸€ä¸ªé—®é¢˜ï¼Œä½ å»é—® AIï¼Œå®ƒåªç”¨å‡ åç§’ï¼Œå°±èƒ½å¾—åˆ°æˆ‘èŠ±äº†å¤§é‡ç²¾åŠ›æ‰å­¦ä¼šï¼Œå¹¶èæ±‡è´¯é€šçš„ä¸œè¥¿ã€‚</p>
<p>ä½ åªéœ€è¦ç”¨è‡ªç„¶è¯­è¨€æŠŠéœ€æ±‚æè¿°æ¸…æ¥šï¼Œå†ç¨åŠ å¼•å¯¼ï¼Œå®ƒå°±èƒ½åœ¨å¾ˆçŸ­çš„æ—¶é—´å†…ç›´æ¥ç»™ä½ ç”Ÿæˆå·¥ç¨‹çº§åˆ«çš„ä»£ç ï¼Œæ°´å¹³èƒ½å’Œä¸€ä¸ªä¸­çº§ç¨‹åºå‘˜å¯¹æ ‡ã€‚</p>
<p>è½»è€Œæ˜“ä¸¾å°±èƒ½è·å¾—æˆ‘å‘•å¿ƒæ²¥è¡€æ‰å­¦ä¼šçš„ä¸œè¥¿ã€‚æ‰€ä»¥æˆ‘æ˜¯çœŸçš„æ„Ÿåˆ°ææƒ§ï¼Œææƒ§åˆ°æˆ‘å¼€å§‹æŠ—æ‹’ã€‚</p>
<p>ä»¥å‰ï¼Œæˆ‘æƒ³èµ·ä¸€ä¸ªæœ‰æ„æ€çš„æŠ€æœ¯è¯é¢˜å°±ä¼šå»ä¸€è¾¹ç ”ç©¶ä¸€è¾¹å†™ï¼Œæœ€åæŠŠå®ƒå†™å‡ºæ¥ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ˆæœ‰æ„æ€çš„ã€‚</p>
<p>ç°åœ¨ï¼Œå½“æˆ‘ç ”ç©¶äº†ä¸€ç‚¹ï¼Œç„¶ååœ¨æŠŠå®ƒå†™å‡ºæ¥çš„ï¼Œæˆ‘å°±ä¼šè§‰å¾—ï¼Œæ²¡æ„æ€ã€‚</p>
<p>å•çº¯å°±æ˜¯è§‰å¾—æ²¡æ„æ€ï¼Œå› ä¸ºæˆ‘å†™çš„è¿™äº›ä¸œè¥¿ï¼Œå»é—® AI éƒ½çŸ¥é“ã€‚</p>
<p>æˆ‘æŠŠå®ƒå†™å‡ºæ¥å¯èƒ½è¦ç”¨ä¸€å‘¨æ—¶é—´ï¼Œä½†æ˜¯å»é—® AIï¼Œå®ƒå‡ åˆ†é’Ÿå°±èƒ½ç»™ä½ ä¸€å¤§æ®µå†…å®¹ï¼Œå¹¶è¯´å¾—å¤´å¤´æ˜¯é“ï¼Œæ¯”æˆ‘åˆ†ææ›´åŠ å…¨é¢ï¼Œæ›´åŠ æœ‰ç»†èŠ‚ï¼Œé‡åˆ°ä¸æ˜ç™½çš„åœ°æ–¹ï¼Œä½ è¿˜å¯ä»¥ä¸æ–­çš„å»è¿½é—®å®ƒã€‚</p>
<p>æˆ‘æ‰¾ä¸åˆ°æˆ‘å†™å‡ºæ¥çš„æ–‡ç« çš„ä»·å€¼åœ¨å“ªé‡Œã€‚</p>
<p>ä»¥å‰ä¼šæœ‰è¯»è€…ç»™æˆ‘åé¦ˆä¸€äº›ä»–ä»¬é‡åˆ°çš„æŠ€æœ¯é—®é¢˜ï¼Œè€Œæˆ‘æ°å¥½åˆæœ‰æ—¶é—´ï¼Œæˆ‘å°±ä¼šç»™è¯»è€…é‡èº«å®šåšä¸€ç¯‡ç­”ç–‘ï¼Œç”šè‡³æ²¡æœ‰æ—¶é—´çš„æ—¶å€™æˆ‘ä¼šå…ˆåŠ å…¥ç´ æåº“ã€‚</p>
<p>ç°åœ¨ï¼Œä¸ºä»€ä¹ˆè¿˜è¦æ¥é—®æˆ‘ï¼Ÿ</p>
<p>å³ä½¿æœ‰äººæ¥é—®æˆ‘ï¼Œæˆ‘éƒ½ä¼šå«ä»–å…ˆå»é—® AIã€‚</p>
<p>åœ¨å½“ä¸‹ AI å·²ç»è¿›åŒ–åˆ°â€œvibe codingâ€é˜¶æ®µäº†ï¼Œæˆ‘ä½œä¸ºä¸€ä¸ªæŠ€æœ¯åšä¸»ï¼Œå†å»å†™ä¸€äº›å¸¸è§„æ€§çš„æŠ€æœ¯ç±»æ–‡ç« çš„æ—¶å€™ï¼Œæˆ‘æ›´åŠ æ‰¾ä¸åˆ°ä»·å€¼åœ¨å“ªé‡Œã€‚æˆ‘ä¹Ÿå°è¯•è¿‡åœ¨æ‰¾ä¸åˆ°ä»·å€¼çš„æ—¶å€™ï¼Œå°±ç¡¬å†™ï¼Œä½†æ˜¯å†™çš„å¿ƒå¢ƒå˜äº†ï¼Œå†™å‡ºæ¥çš„ä¸œè¥¿æˆ‘è‡ªå·±éƒ½è§‰å¾—æ˜¯åƒåœ¾ã€‚</p>
<p>æƒ³æç¬”ï¼Œä½†æ˜¯å››é¡¾èŒ«ç„¶ï¼Œæœ€ç»ˆè½å¾—ä¸€ä¸ªé“å¿ƒç ´ç¢çš„ä¸‹åœºã€‚æ‰€ä»¥ï¼Œæˆ‘ä¹‹å‰æœ‰ä¸€æ®µæ—¶é—´æ˜¯å¹²è„†å°±ä¸å†™äº†ã€‚</p>
<p>åé¢æˆ‘è§‰å¾—æˆ‘è¿˜æ˜¯æƒ³è¦å†™ä¸€ç‚¹ä¸œè¥¿çš„ï¼Œå°±è½¬è€Œé¢å‘äº†ä¸€äº› AI å·¥å…·çš„ä½¿ç”¨ï¼Œæˆ–è€…å›´ç»• AI äº§ç”Ÿçš„ä¸€äº›æ€è€ƒã€‚è™½ç„¶æ²¡æœ‰ä¹‹å‰å†™æŠ€æœ¯æ–‡ç« æ—¶çš„å†²åŠ²äº†ï¼Œä½†æ˜¯è‡³å°‘è¿™æ˜¯æˆ‘çœŸçš„æƒ³è¦å†™çš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯ç¡¬æ†‹å‡ºæ¥çš„åƒåœ¾ã€‚</p>
<p>è¿™ä¹Ÿæ˜¯æˆ‘æ‹¥æŠ± AI çš„ä¸€ç§æ–¹å¼ã€‚</p>
<p>vibe coding è¿™ä¸€æ³¢æµªæ½®åªæ˜¯å†²å‡»åˆ°äº†æˆ‘ï¼Œä½†è¿˜å†²ä¸å€’æˆ‘ã€‚</p>
<p>çŠ¹è®°å¾— 2022 å¹´æœ« ChatGPT æ¨ªç©ºå‡ºä¸–çš„æ—¶å€™ï¼Œæˆ‘å†™è¿‡ä¸€ç¯‡è¹­çƒ­åº¦çš„æ–‡ç« ï¼Œå½“æ—¶å–æ ‡é¢˜ä¸ºäº†éª—ç‚¹å‡»ç‡ï¼Œå°±æ•…æ„å†™çš„â€œå±è¨€è€¸å¬â€ä¸€ç‚¹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2de3b8e4ce27446d86657c9fa75c2092~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgd2h55oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767420609&amp;x-signature=%2B5JDCXcqprnmnW%2BbE8YdgebuHks%3D" alt="" loading="lazy"/></p>
<p>ç°åœ¨å›å¤´å»çœ‹â€œç«¯å¥½é¥­ç¢—ï¼Œè°¨é˜²AIâ€ä¸€ç‚¹ä¹Ÿä¸ç®—å±è¨€è€¸å¬ï¼Œåè€Œæ˜¯ä¸€ç§â€œé¢„è¨€â€ã€‚</p>
<p>æˆ‘çŸ¥é“ï¼Œä» 2022 å¹´çš„ chatGPT åˆ° 2025 å¹´çš„ vibe codingï¼Œè¿™åªæ˜¯åˆä¸€æ³¢æµªæ½®è€Œå·²ã€‚åé¢ç´§è·Ÿç€è¿˜æœ‰ä¸çŸ¥é“å¤šå°‘æ³¢æ›´çŒ›çš„ã€‚</p>
<p>åé¢çš„ï¼Œä¸çŸ¥é“æˆ‘é¡¶ä¸é¡¶å¾—ä½ã€‚</p>
<p>é¡¶å¾—ä½ï¼Œä¸‡äº‹å¤§å‰ã€‚</p>
<p>é¡¶ä¸ä½ï¼Œæˆ‘ä¹Ÿå·²ç»æƒ³å¥½äº†å€’ä¸‹æ—¶çœ‹èµ·æ¥æ¯”è¾ƒæ‚²å£®çš„å°è¯ï¼š</p>
<p>æˆ‘æ˜¯æ—§æ—¶ä»£çš„æ®‹å…šï¼Œæ–°æ—¶ä»£æ²¡æœ‰èƒ½è½½æˆ‘çš„èˆ¹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JobFlowï¼šæ—¶é—´è½®ä¸æ»‘åŠ¨çª—å£çš„å®æˆ˜ä¼˜åŒ–]]></title>    <link>https://juejin.cn/post/7588098335791284224</link>    <guid>https://juejin.cn/post/7588098335791284224</guid>    <pubDate>2025-12-28T09:26:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588098335791284224" data-draft-id="7588092534162882560" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JobFlowï¼šæ—¶é—´è½®ä¸æ»‘åŠ¨çª—å£çš„å®æˆ˜ä¼˜åŒ–"/> <meta itemprop="keywords" content="åç«¯,æ¶æ„,å¼€æº"/> <meta itemprop="datePublished" content="2025-12-28T09:26:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¸æµªæ— ç—•"/> <meta itemprop="url" content="https://juejin.cn/user/2834988091055719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JobFlowï¼šæ—¶é—´è½®ä¸æ»‘åŠ¨çª—å£çš„å®æˆ˜ä¼˜åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2834988091055719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¸æµªæ— ç—•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:26:34.000Z" title="Sun Dec 28 2025 09:26:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼€æºåœ°å€ä¸ç³»åˆ—æ–‡ç« </h2>
<ul>
<li><strong>å¼€æºåœ°å€</strong>ï¼š<code>https://gitee.com/sh_wangwanbao/job-flow</code></li>
<li><strong>ç³»åˆ—æ–‡ç« ï¼š</strong>
<ul>
<li><a href="https://juejin.cn/post/7583469866007969827" target="_blank" title="https://juejin.cn/post/7583469866007969827">ç¬¬ä¸€ç¯‡ï¼šåŸºäºNacosçš„è½»é‡ä»»åŠ¡è°ƒåº¦æ–¹æ¡ˆ â€”â€” ä» XXL-Job çš„ç—›ç‚¹è¯´èµ·</a></li>
<li><a href="https://juejin.cn/post/7584353612501106729" target="_blank" title="https://juejin.cn/post/7584353612501106729">ç¬¬äºŒç¯‡ï¼šJobFlow å®ç°æ–¹æ¡ˆï¼šäº‘åŸç”Ÿæ—¶ä»£çš„ä»»åŠ¡è°ƒåº¦æ–°æ€è·¯</a></li>
<li><a href="https://juejin.cn/post/7585727457472823296" target="_blank" title="https://juejin.cn/post/7585727457472823296">ç¬¬ä¸‰ç¯‡ï¼šJobFlow å®æˆ˜ï¼šæ— é”è°ƒåº¦æ˜¯æ€ä¹ˆåšåˆ°çš„</a></li>
<li><a href="https://juejin.cn/post/7585751355593506835" target="_blank" title="https://juejin.cn/post/7585751355593506835">ç¬¬å››ç¯‡ï¼šJobFlow èƒŒåï¼šäº”ä¸ªè®©æˆ‘è±ç„¶å¼€æœ—çš„è®¾è®¡ç¬é—´</a></li>
<li><a href="https://juejin.cn/post/7588028859541307418" target="_blank" title="https://juejin.cn/post/7588028859541307418">ç¬¬äº”ç¯‡ï¼šJobFlowè°ƒåº¦çš„éš¾é¢˜ï¼šè¶…æ—¶ã€è¡¥å¿ä¸æ¼è°ƒ</a></li>
<li><a href="https://juejin.cn/spost/7588067055481634825" target="_blank" title="https://juejin.cn/spost/7588067055481634825">ç¬¬å…­ç¯‡ï¼šJobFlowï¼šå›ºå®šåˆ†ç‰‡å¦‚ä½•è§£å†³åˆ†å¸ƒå¼æ‰«æçš„è¾¹ç•ŒæŠ–åŠ¨</a></li>
<li><a href="https://juejin.cn/spost/7588095884070682624" target="_blank" title="https://juejin.cn/spost/7588095884070682624">ç¬¬ä¸ƒç¯‡ï¼šJobFlow çš„å»¶æ—¶è°ƒåº¦ï¼šå¦‚ä½•å¯é åœ°å¤„ç†â€œ30åˆ†é’Ÿåå–æ¶ˆè®¢å•â€</a></li>
<li><a href="https://juejin.cn/spost/7588098335791284224" target="_blank" title="https://juejin.cn/spost/7588098335791284224">ç¬¬å…«ç¯‡ï¼šJobFlowï¼šæ—¶é—´è½®ä¸æ»‘åŠ¨çª—å£çš„å®æˆ˜ä¼˜åŒ–</a></li>
</ul>
</li>
</ul>
<h2 data-id="heading-1">å‰è¨€</h2>
<p>å»¶æ—¶è°ƒåº¦ä¸Šçº¿åï¼Œæˆ‘ä»¬å‘ç°äº†å‡ ä¸ªé—®é¢˜ï¼š</p>
<pre><code class="hljs">ç”¨æˆ·æœŸæœ›ï¼šè®¢å•30åˆ†é’Ÿåè‡ªåŠ¨å–æ¶ˆ
å®é™…æ‰§è¡Œï¼š30åˆ†01ç§’ åˆ° 30åˆ†05ç§’ä¹‹é—´
è¯¯å·®ï¼šæœ€å¤š5ç§’

æ•°æ®åº“å‹åŠ›ï¼šæ¯5ç§’æ‰«æä¸€æ¬¡
æ—¥å¿—å†™å…¥ï¼šæ¯ä¸ªä»»åŠ¡ç«‹å³å†™å…¥
</code></pre>
<p>å¯¹äºç§’æ€ã€é™æ—¶ä¼˜æƒ è¿™ç§åœºæ™¯ï¼Œ5ç§’çš„å»¶è¿Ÿæ˜¯ä¸å¯æ¥å—çš„ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« å°±æ¥è®²è®²æˆ‘ä»¬æ˜¯æ€ä¹ˆä¼˜åŒ–çš„ï¼šç”¨æ—¶é—´è½®æŠŠå»¶è¿Ÿé™åˆ°1ç§’ä»¥å†…ï¼Œç”¨æ»‘åŠ¨çª—å£æŠŠæ•°æ®åº“å‹åŠ›é™ä½95%ã€‚</p>
<h2 data-id="heading-2">ä¸€ã€é—®é¢˜åœ¨å“ª</h2>
<p>å…ˆçœ‹çœ‹åŸæ¥çš„æ–¹æ¡ˆæœ‰ä»€ä¹ˆé—®é¢˜ã€‚</p>
<h3 data-id="heading-3">å®šæ—¶æ‰«æçš„å»¶è¿Ÿ</h3>
<p>åŸæ¥çš„é€»è¾‘ï¼šæ¯5ç§’æ‰«æä¸€æ¬¡æ•°æ®åº“</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[ä»»åŠ¡åˆ›å»º&lt;br/&gt;10:00:00] --&gt; B[å†™å…¥æ•°æ®åº“&lt;br/&gt;executeTime=10:00:30]
    B --&gt; C[ç­‰å¾…æ‰«æ&lt;br/&gt;0-5ç§’]
    C --&gt; D[ä¸‹æ¬¡æ‰«æ&lt;br/&gt;10:00:05]
    D --&gt; E[å‘ç°åˆ°æœŸ&lt;br/&gt;å¼€å§‹æ‰§è¡Œ]
    
    style A fill:#87CEEB
    style B fill:#87CEEB
    style C fill:#FFB6C1
    style D fill:#FFE4B5
    style E fill:#90EE90
</code></pre>
<p>é—®é¢˜ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">ä»»åŠ¡æœŸæœ› 10:00:30 æ‰§è¡Œ
æ‰«æé—´éš” 5ç§’

å¯èƒ½åœ¨ä»¥ä¸‹æ—¶é—´è¢«æ‰«æåˆ°ï¼š
<span class="hljs-deletion">- 10:00:30ï¼ˆåˆšå¥½ç¢°ä¸Šï¼‰ â†’ å»¶è¿Ÿ0ç§’</span>
<span class="hljs-deletion">- 10:00:35ï¼ˆä¸‹ä¸€æ¬¡ï¼‰ â†’ å»¶è¿Ÿ5ç§’</span>

å¹³å‡å»¶è¿Ÿï¼š2.5ç§’
æœ€å¤§å»¶è¿Ÿï¼š5ç§’
</code></pre>
<p><strong>ç”¨æˆ·æ„ŸçŸ¥ï¼š</strong></p>
<pre><code class="hljs">æäº¤å»¶æ—¶ä»»åŠ¡ â†’ APIè¿”å›æˆåŠŸï¼ˆ200msï¼‰
â†’ ä½†è¦ç­‰2-5ç§’æ‰çœŸæ­£æ‰§è¡Œ
â†’ ç”¨æˆ·ä¼šè§‰å¾—ï¼šæ€ä¹ˆè¿˜æ²¡ç”Ÿæ•ˆï¼Ÿ
</code></pre>
<h3 data-id="heading-4">æ•°æ®åº“å‹åŠ›å¤§</h3>
<p>æ¯5ç§’ä¸€æ¬¡æ‰«æï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[è°ƒåº¦å™¨&lt;br/&gt;æ¯5ç§’] --&gt; B[æ‰«ææ•°æ®åº“&lt;br/&gt;WHEREåˆ°æœŸ]
    B --&gt; C[è¿”å›ç»“æœ&lt;br/&gt;å¯èƒ½ä¸ºç©º]
    C --&gt; D[æ›´æ–°çŠ¶æ€&lt;br/&gt;PENDING to SENDING]
    
    A --&gt; E[å†™å…¥æ—¥å¿—&lt;br/&gt;æ¯ä¸ªä»»åŠ¡]
    
    style A fill:#87CEEB
    style B fill:#FFB6C1
    style D fill:#FFB6C1
    style E fill:#FFB6C1
</code></pre>
<p>é—®é¢˜ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">æ‰«æé¢‘ç‡ï¼š
<span class="hljs-deletion">- æ¯5ç§’1æ¬¡ = 12æ¬¡/åˆ†é’Ÿ = 720æ¬¡/å°æ—¶</span>

æ—¥å¿—å†™å…¥ï¼š
<span class="hljs-deletion">- æ¯ä¸ªä»»åŠ¡ç«‹å³å†™å…¥</span>
<span class="hljs-deletion">- 1000ä¸ªä»»åŠ¡ = 1000æ¬¡IO</span>

é«˜å³°æœŸï¼š
<span class="hljs-deletion">- æ•°æ®åº“è¿æ¥æ± è€—å°½</span>
<span class="hljs-deletion">- æ…¢æŸ¥è¯¢å¢å¤š</span>
<span class="hljs-deletion">- ä¸»ä»å»¶è¿Ÿå˜å¤§</span>
</code></pre>
<h3 data-id="heading-5">ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜</h3>
<p>æ€»ç»“ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[é—®é¢˜ä¸€&lt;br/&gt;å»¶è¿Ÿå¤§] --&gt; B[æœ€å¤š5ç§’&lt;br/&gt;å¹³å‡2.5ç§’]
    C[é—®é¢˜äºŒ&lt;br/&gt;DBå‹åŠ›] --&gt; D[é¢‘ç¹æ‰«æ&lt;br/&gt;åŒæ­¥å†™å…¥]
    E[é—®é¢˜ä¸‰&lt;br/&gt;å“åº”æ…¢] --&gt; F[æ–°ä»»åŠ¡ç­‰æ‰«æ&lt;br/&gt;ä¸æ˜¯å®æ—¶]
    
    style A fill:#FFB6C1
    style C fill:#FFB6C1
    style E fill:#FFB6C1
    style B fill:#FF6B6B
    style D fill:#FF6B6B
    style F fill:#FF6B6B
</code></pre>
<h2 data-id="heading-6">äºŒã€æ—¶é—´è½®ï¼šä»æ‰«æåˆ°å†…å­˜è°ƒåº¦</h2>
<h3 data-id="heading-7">æ ¸å¿ƒæ€è·¯</h3>
<p>æŠŠ"å®šæ—¶æ‰«ææ•°æ®åº“"æ”¹ä¸º"å†…å­˜æ—¶é—´è½®è°ƒåº¦"ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[ä¼˜åŒ–å‰&lt;br/&gt;å®šæ—¶æ‰«ææ•°æ®åº“] --&gt; B[å»¶è¿Ÿ0-5ç§’&lt;br/&gt;é¢‘ç¹æŸ¥è¯¢]
    C[ä¼˜åŒ–å&lt;br/&gt;å†…å­˜æ—¶é—´è½®] --&gt; D[å»¶è¿Ÿ1ç§’å†…&lt;br/&gt;é›¶æŸ¥è¯¢]
    
    style A fill:#FFB6C1
    style B fill:#FF6B6B
    style C fill:#87CEEB
    style D fill:#90EE90
</code></pre>
<p><strong>ä»€ä¹ˆæ˜¯æ—¶é—´è½®ï¼Ÿ</strong></p>
<p>æƒ³è±¡ä¸€ä¸ªé’Ÿè¡¨ï¼Œæœ‰60ä¸ªåˆ»åº¦ï¼Œæ¯ç§’èµ°ä¸€æ ¼ï¼š</p>
<pre><code class="hljs">60ä¸ªæ§½ä½ï¼Œç¼–å· 0-59
æ¯ç§’tickä¸€æ¬¡ï¼ŒæŒ‡é’ˆå‰è¿›
ä»»åŠ¡æ”¾åœ¨å¯¹åº”çš„æ§½ä½é‡Œ
æŒ‡é’ˆåˆ°äº†å°±æ‰§è¡Œ
</code></pre>
<h3 data-id="heading-8">æ—¶é—´è½®ç»“æ„</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[æ§½ä½0&lt;br/&gt;ä»»åŠ¡A] --&gt; B[æ§½ä½1&lt;br/&gt;ç©º]
    B --&gt; C[æ§½ä½2&lt;br/&gt;ä»»åŠ¡B]
    C --&gt; D[...]
    D --&gt; E[æ§½ä½59&lt;br/&gt;ä»»åŠ¡C]
    E --&gt; F[å›åˆ°æ§½ä½0&lt;br/&gt;å¾ªç¯]
    
    style A fill:#90EE90
    style C fill:#90EE90
    style E fill:#90EE90
    style B fill:#D3D3D3
</code></pre>
<p>å…³é”®å‚æ•°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">tickSeconds</span> = <span class="hljs-number">1</span>     // æ¯ç§’tickä¸€æ¬¡
<span class="hljs-attr">wheelSize</span> = <span class="hljs-number">60</span>      // <span class="hljs-number">60</span>ä¸ªæ§½ä½
<span class="hljs-attr">rounds</span> = N          // ä»»åŠ¡éœ€è¦ç­‰å‡ åœˆ
</code></pre>
<p><strong>ä»»åŠ¡æ€ä¹ˆæ”¾è¿›å»ï¼Ÿ</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è®¡ç®—å»¶è¿Ÿç§’æ•°</span>
<span class="hljs-type">long</span> <span class="hljs-variable">delaySeconds</span> <span class="hljs-operator">=</span> ä»»åŠ¡è§¦å‘æ—¶é—´ - å½“å‰æ—¶é—´;
<span class="hljs-type">long</span> <span class="hljs-variable">ticks</span> <span class="hljs-operator">=</span> delaySeconds / tickSeconds;

<span class="hljs-comment">// è®¡ç®—åœˆæ•°å’Œæ§½ä½</span>
<span class="hljs-type">int</span> <span class="hljs-variable">rounds</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) (ticks / wheelSize);      <span class="hljs-comment">// éœ€è¦å‡ åœˆ</span>
<span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) ((currentIndex + ticks) % wheelSize);  <span class="hljs-comment">// æ”¾å“ªä¸ªæ§½</span>
</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">å½“å‰æ—¶é—´ï¼š10:00:00ï¼ŒæŒ‡é’ˆåœ¨æ§½ä½0

ä»»åŠ¡Aï¼š10:00:01 æ‰§è¡Œï¼ˆå»¶è¿Ÿ1ç§’ï¼‰
â†’ <span class="hljs-attr">ticks</span> = <span class="hljs-number">1</span>
â†’ <span class="hljs-attr">rounds</span> = <span class="hljs-number">0</span>, index = <span class="hljs-number">1</span>
â†’ æ”¾å…¥æ§½ä½1ï¼ŒæŒ‡é’ˆèµ°åˆ°1æ—¶ç«‹å³æ‰§è¡Œ

ä»»åŠ¡Bï¼š10:00:59 æ‰§è¡Œï¼ˆå»¶è¿Ÿ59ç§’ï¼‰
â†’ <span class="hljs-attr">ticks</span> = <span class="hljs-number">59</span>
â†’ <span class="hljs-attr">rounds</span> = <span class="hljs-number">0</span>, index = <span class="hljs-number">59</span>
â†’ æ”¾å…¥æ§½ä½59

ä»»åŠ¡Cï¼š10:01:02 æ‰§è¡Œï¼ˆå»¶è¿Ÿ62ç§’ï¼‰
â†’ <span class="hljs-attr">ticks</span> = <span class="hljs-number">62</span>
â†’ <span class="hljs-attr">rounds</span> = <span class="hljs-number">1</span>, index = <span class="hljs-number">2</span>
â†’ æ”¾å…¥æ§½ä½2ï¼Œä½†è¦ç­‰1åœˆåæ‰æ‰§è¡Œ
</code></pre>
<h3 data-id="heading-9">æ‰§è¡Œæµç¨‹</h3>
<p>æ¯ç§’tickä¸€æ¬¡ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[å®šæ—¶å™¨&lt;br/&gt;æ¯ç§’è§¦å‘] --&gt; B[æ£€æŸ¥å½“å‰æ§½ä½]
    B --&gt; C{rounds=0?}
    C --&gt;|æ˜¯| D[ç«‹å³æ‰§è¡Œ]
    C --&gt;|å¦| E[roundså‡1&lt;br/&gt;ç»§ç»­ç­‰å¾…]
    D --&gt; F[æŒ‡é’ˆå‰è¿›]
    E --&gt; F
    
    style A fill:#87CEEB
    style B fill:#FFE4B5
    style C fill:#FFE4B5
    style D fill:#90EE90
    style E fill:#87CEEB
    style F fill:#87CEEB
</code></pre>
<p>ä»£ç é€»è¾‘ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">tick</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// 1. è·å–å½“å‰æ§½ä½çš„æ‰€æœ‰ä»»åŠ¡</span>
    List&lt;WheelTask&gt; slot = wheel.get(currentIndex);
    
    List&lt;WheelTask&gt; dueTasks = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    List&lt;WheelTask&gt; remaining = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    
    <span class="hljs-comment">// 2. éå†ä»»åŠ¡</span>
    <span class="hljs-keyword">for</span> (WheelTask task : slot) {
        <span class="hljs-keyword">if</span> (task.rounds &lt;= <span class="hljs-number">0</span>) {
            dueTasks.add(task);      <span class="hljs-comment">// åˆ°æœŸä»»åŠ¡</span>
        } <span class="hljs-keyword">else</span> {
            task.rounds -= <span class="hljs-number">1</span>;        <span class="hljs-comment">// åœˆæ•°å‡1</span>
            remaining.add(task);     <span class="hljs-comment">// ç»§ç»­ç­‰å¾…</span>
        }
    }
    
    <span class="hljs-comment">// 3. æ›´æ–°æ§½ä½ï¼ˆåªä¿ç•™éœ€è¦ç»§ç»­ç­‰å¾…çš„ä»»åŠ¡ï¼‰</span>
    slot.clear();
    slot.addAll(remaining);
    
    <span class="hljs-comment">// 4. å¼‚æ­¥æ‰§è¡Œåˆ°æœŸä»»åŠ¡</span>
    <span class="hljs-keyword">for</span> (WheelTask task : dueTasks) {
        executor.execute(task.callback);
    }
    
    <span class="hljs-comment">// 5. æŒ‡é’ˆå‰è¿›</span>
    currentIndex = (currentIndex + <span class="hljs-number">1</span>) % wheelSize;
}
</code></pre>
<h3 data-id="heading-10">ä¼˜åŠ¿å¯¹æ¯”</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[æ•°æ®åº“æ‰«æ&lt;br/&gt;5ç§’é—´éš”] --&gt; B[å»¶è¿Ÿå¤§&lt;br/&gt;å‹åŠ›å¤§]
    C[æ—¶é—´è½®&lt;br/&gt;1ç§’tick] --&gt; D[å»¶è¿Ÿå°&lt;br/&gt;é›¶æŸ¥è¯¢]
    
    style A fill:#FFB6C1
    style B fill:#FF6B6B
    style C fill:#87CEEB
    style D fill:#90EE90
</code></pre>
<p>å¯¹æ¯”è¡¨æ ¼ï¼š</p>



































<table><thead><tr><th>ç‰¹æ€§</th><th>æ•°æ®åº“æ‰«æ</th><th>æ—¶é—´è½®</th></tr></thead><tbody><tr><td>æ—¶é—´ç²¾åº¦</td><td>5ç§’</td><td>1ç§’</td></tr><tr><td>å¹³å‡å»¶è¿Ÿ</td><td>2.5ç§’</td><td>0.5ç§’</td></tr><tr><td>æœ€å¤§å»¶è¿Ÿ</td><td>5ç§’</td><td>1ç§’</td></tr><tr><td>æ•°æ®åº“æŸ¥è¯¢</td><td>é¢‘ç¹</td><td>é›¶ï¼ˆåªå¯åŠ¨åŠ è½½ï¼‰</td></tr><tr><td>å†…å­˜å ç”¨</td><td>ä½</td><td>60ä¸ªæ§½ä½ï¼ˆå¾ˆå°ï¼‰</td></tr></tbody></table>
<h2 data-id="heading-11">ä¸‰ã€æ»‘åŠ¨çª—å£ï¼šä»åŒæ­¥åˆ°æ‰¹é‡</h2>
<h3 data-id="heading-12">æ ¸å¿ƒæ€è·¯</h3>
<p>æŠŠ"æ¯ä¸ªä»»åŠ¡ç«‹å³å†™æ—¥å¿—"æ”¹ä¸º"æ‰¹é‡å†™å…¥"ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[ä¼˜åŒ–å‰&lt;br/&gt;åŒæ­¥å•æ¡å†™å…¥] --&gt; B[1000ä»»åŠ¡&lt;br/&gt;1000æ¬¡IO]
    C[ä¼˜åŒ–å&lt;br/&gt;å¼‚æ­¥æ‰¹é‡å†™å…¥] --&gt; D[1000ä»»åŠ¡&lt;br/&gt;50æ¬¡IO]
    
    style A fill:#FFB6C1
    style B fill:#FF6B6B
    style C fill:#87CEEB
    style D fill:#90EE90
</code></pre>
<p><strong>ä»€ä¹ˆæ˜¯æ»‘åŠ¨çª—å£ï¼Ÿ</strong></p>
<p>ä¸€ä¸ªå†…å­˜é˜Ÿåˆ—ï¼Œæ”’å¤Ÿäº†æˆ–è€…ç­‰ä¹…äº†ï¼Œå°±æ‰¹é‡å†™ï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">ä»»åŠ¡<span class="hljs-number">1</span> â†’ æ”¾å…¥é˜Ÿåˆ—
ä»»åŠ¡<span class="hljs-number">2</span> â†’ æ”¾å…¥é˜Ÿåˆ—
...
ä»»åŠ¡<span class="hljs-number">20</span> â†’ é˜Ÿåˆ—æ»¡äº†ï¼Œæ‰¹é‡å†™å…¥
</code></pre>
<h3 data-id="heading-13">æ‰¹é‡å†™å…¥åŸç†</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[æ—¥å¿—1] --&gt; Q[å†…å­˜é˜Ÿåˆ—]
    B[æ—¥å¿—2] --&gt; Q
    C[æ—¥å¿—N] --&gt; Q
    Q --&gt; D{è§¦å‘æ¡ä»¶?}
    D --&gt;|æ•°é‡20| E[æ‰¹é‡å†™å…¥&lt;br/&gt;INSERTæ‰¹é‡]
    D --&gt;|æ—¶é—´2ç§’| E
    
    style Q fill:#87CEEB
    style D fill:#FFE4B5
    style E fill:#90EE90
</code></pre>
<p>è§¦å‘æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸¤ä¸ªæ¡ä»¶ï¼Œæ»¡è¶³ä»»ä¸€å³å¯</span>
<span class="hljs-type">boolean</span> <span class="hljs-variable">sizeReached</span> <span class="hljs-operator">=</span> buffer.size() &gt;= <span class="hljs-number">20</span>;        <span class="hljs-comment">// æ•°é‡è§¦å‘</span>
<span class="hljs-type">boolean</span> <span class="hljs-variable">timeReached</span> <span class="hljs-operator">=</span> now - lastFlushTime &gt;= <span class="hljs-number">2000</span>; <span class="hljs-comment">// æ—¶é—´è§¦å‘ï¼ˆæ¯«ç§’ï¼‰</span>

<span class="hljs-keyword">if</span> (sizeReached || timeReached) {
    flush(buffer);  <span class="hljs-comment">// æ‰¹é‡å†™å…¥</span>
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</strong></p>
<pre><code class="hljs language-diff" lang="diff">é«˜å¹¶å‘åœºæ™¯ï¼š
<span class="hljs-deletion">- ä»»åŠ¡å¾ˆå¤šï¼Œå¾ˆå¿«å°±æ”’å¤Ÿ20æ¡</span>
<span class="hljs-deletion">- ç«‹å³æ‰¹é‡å†™å…¥</span>
<span class="hljs-deletion">- é™ä½æ•°æ®åº“å‹åŠ›</span>

ä½å¹¶å‘åœºæ™¯ï¼š
<span class="hljs-deletion">- ä»»åŠ¡å¾ˆå°‘ï¼Œå¯èƒ½æ”’ä¸åˆ°20æ¡</span>
<span class="hljs-deletion">- ç­‰å¾…2ç§’åä¹Ÿè¦å†™å…¥</span>
<span class="hljs-deletion">- ä¿è¯æ—¥å¿—ä¸ä¼šä¸¢å¤±</span>
</code></pre>
<h3 data-id="heading-14">æ‰¹é‡å†™å…¥å®ç°</h3>
<p>åå°çº¿ç¨‹ç›‘å¬é˜Ÿåˆ—ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åå°çº¿ç¨‹</span>
<span class="hljs-keyword">while</span> (running) {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// ä»é˜Ÿåˆ—é‡Œæ‹¿æ—¥å¿—ï¼ˆæœ€å¤šç­‰2ç§’ï¼‰</span>
        <span class="hljs-type">JobTaskLog</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> queue.poll(<span class="hljs-number">2</span>, TimeUnit.SECONDS);
        
        <span class="hljs-keyword">if</span> (log != <span class="hljs-literal">null</span>) {
            buffer.add(log);
        }
        
        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦flush</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">shouldFlush</span> <span class="hljs-operator">=</span> 
            buffer.size() &gt;= batchSize ||                      <span class="hljs-comment">// æ•°é‡å¤Ÿäº†</span>
            (now - lastFlushTime &gt;= maxWaitMillis);            <span class="hljs-comment">// æ—¶é—´åˆ°äº†</span>
        
        <span class="hljs-keyword">if</span> (shouldFlush &amp;&amp; !buffer.isEmpty()) {
            flush(buffer);
            buffer.clear();
            lastFlushTime = now;
        }
    } <span class="hljs-keyword">catch</span> (InterruptedException e) {
        <span class="hljs-comment">// ä¸­æ–­æ—¶ä¹Ÿè¦flush</span>
        <span class="hljs-keyword">if</span> (!buffer.isEmpty()) {
            flush(buffer);
        }
        <span class="hljs-keyword">break</span>;
    }
}
</code></pre>
<p>æ‰¹é‡å†™å…¥SQLï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> job_task_log 
    (task_id, task_type, executor_name, start_time, end_time, ...)
<span class="hljs-keyword">VALUES</span> 
    (?, ?, ?, ?, ?, ...),
    (?, ?, ?, ?, ?, ...),
    ...
    (?, ?, ?, ?, ?, ...)
</code></pre>
<h3 data-id="heading-15">é™çº§ä¿æŠ¤</h3>
<p>æ‰¹é‡å†™å…¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[æ‰¹é‡å†™å…¥] --&gt; B{æˆåŠŸ?}
    B --&gt;|æ˜¯| C[å®Œæˆ]
    B --&gt;|å¦| D[é™çº§ï¼šé€æ¡å†™å…¥]
    D --&gt; E[ä¿è¯æ•°æ®ä¸ä¸¢]
    
    style A fill:#87CEEB
    style B fill:#FFE4B5
    style C fill:#90EE90
    style D fill:#FFB6C1
    style E fill:#90EE90
</code></pre>
<p>ä»£ç å®ç°ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">flush</span><span class="hljs-params">(List&lt;JobTaskLog&gt; buffer)</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// å°è¯•æ‰¹é‡å†™å…¥</span>
        taskLogRepository.batchInsert(buffer);
        log.debug(<span class="hljs-string">"æ‰¹é‡å†™å…¥æ—¥å¿—æˆåŠŸï¼Œæ¡æ•°={}"</span>, buffer.size());
    } <span class="hljs-keyword">catch</span> (Exception e) {
        log.warn(<span class="hljs-string">"æ‰¹é‡å†™å…¥å¤±è´¥ï¼Œé™çº§ä¸ºé€æ¡å†™å…¥"</span>, e);
        
        <span class="hljs-comment">// é™çº§ï¼šé€æ¡å†™å…¥</span>
        <span class="hljs-keyword">for</span> (JobTaskLog log : buffer) {
            <span class="hljs-keyword">try</span> {
                taskLogRepository.insert(log);
            } <span class="hljs-keyword">catch</span> (Exception ex) {
                log.error(<span class="hljs-string">"é€æ¡å†™å…¥ä¹Ÿå¤±è´¥ï¼Œæ—¥å¿—ä¸¢å¤±ï¼ŒtaskId={}"</span>, log.getTaskId(), ex);
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-16">ä¼˜é›…å…³é—­</h3>
<p>åº”ç”¨å…³é—­æ—¶ï¼Œé˜Ÿåˆ—é‡Œå¯èƒ½è¿˜æœ‰æ—¥å¿—æ²¡å†™ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PreDestroy</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">stop</span><span class="hljs-params">()</span> {
    running = <span class="hljs-literal">false</span>;              <span class="hljs-comment">// åœæ­¢åå°çº¿ç¨‹</span>
    worker.interrupt();           <span class="hljs-comment">// ä¸­æ–­çº¿ç¨‹</span>
    
    <span class="hljs-comment">// ç¡®ä¿å‰©ä½™æ•°æ®å†™å…¥</span>
    <span class="hljs-keyword">if</span> (!buffer.isEmpty()) {
        flush(buffer);
        buffer.clear();
    }
    
    log.info(<span class="hljs-string">"TaskLogBatcherå·²åœæ­¢ï¼Œå‰©ä½™æ—¥å¿—å·²å†™å…¥"</span>);
}
</code></pre>
<h2 data-id="heading-17">å››ã€æ€ä¹ˆæ•´åˆåˆ°ä¸€èµ·</h2>
<h3 data-id="heading-18">å®Œæ•´æµç¨‹</h3>
<p>ä»ä»»åŠ¡åˆ›å»ºåˆ°æ‰§è¡Œå®Œæˆï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[åˆ›å»ºä»»åŠ¡&lt;br/&gt;APIè°ƒç”¨] --&gt; B[å†™å…¥æ•°æ®åº“]
    B --&gt; C[åŠ è½½åˆ°æ—¶é—´è½®&lt;br/&gt;ç«‹å³]
    C --&gt; D[æ—¶é—´è½®tick&lt;br/&gt;1ç§’å]
    D --&gt; E[æ‰§è¡Œä»»åŠ¡&lt;br/&gt;HTTPè°ƒç”¨]
    E --&gt; F[æäº¤æ—¥å¿—&lt;br/&gt;åˆ°é˜Ÿåˆ—]
    F --&gt; G[æ‰¹é‡å†™å…¥&lt;br/&gt;20æ¡æˆ–2ç§’]
    
    style A fill:#87CEEB
    style C fill:#FFE4B5
    style D fill:#FFE4B5
    style E fill:#90EE90
    style F fill:#87CEEB
    style G fill:#90EE90
</code></pre>
<p>å…³é”®æ—¶é—´ç‚¹ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">10:00:00.000  åˆ›å»ºä»»åŠ¡ï¼ˆexecuteTime = 10:00:30ï¼‰</span>
<span class="hljs-section">10:00:00.011  åŠ è½½åˆ°æ—¶é—´è½®ï¼ˆ11msï¼‰</span>
<span class="hljs-section">10:00:30.121  æ—¶é—´è½®è§¦å‘æ‰§è¡Œï¼ˆå»¶è¿Ÿ121msï¼‰</span>
<span class="hljs-section">10:00:30.195  HTTPè°ƒç”¨æ‰§è¡Œå™¨ï¼ˆ74msï¼‰</span>
<span class="hljs-section">10:00:30.196  ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼ˆ1msï¼‰</span>
<span class="hljs-section">10:00:30.197  æäº¤æ—¥å¿—åˆ°é˜Ÿåˆ—</span>
<span class="hljs-section">10:00:32.000  æ‰¹é‡å†™å…¥æ•°æ®åº“ï¼ˆ2ç§’åï¼‰</span>
</code></pre>
<h3 data-id="heading-19">åˆå§‹åŒ–æ—¶é—´è½®</h3>
<p>è°ƒåº¦å™¨å¯åŠ¨æ—¶åŠ è½½å·²æœ‰ä»»åŠ¡ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PostConstruct</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initTimeWheel</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// 1. åˆ›å»ºæ—¶é—´è½®</span>
    <span class="hljs-built_in">this</span>.timeWheel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DelayTimeWheel</span>(<span class="hljs-number">1</span>, <span class="hljs-number">60</span>, executor);
    
    <span class="hljs-comment">// 2. ä»æ•°æ®åº“åŠ è½½ PENDING ä»»åŠ¡</span>
    List&lt;JobDelayTask&gt; pendingTasks = delayTaskRepository.findDueTasks(<span class="hljs-number">1000</span>);
    
    <span class="hljs-comment">// 3. åŠ è½½åˆ°æ—¶é—´è½®</span>
    <span class="hljs-keyword">for</span> (JobDelayTask task : pendingTasks) {
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"PENDING"</span>.equals(task.getStatus())) {
            <span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">triggerTime</span> <span class="hljs-operator">=</span> task.getNextAttemptTime();
            timeWheel.addTask(task, triggerTime, () -&gt; executeDelayTask(task));
        }
    }
    
    log.info(<span class="hljs-string">"æ—¶é—´è½®åˆå§‹åŒ–å®Œæˆï¼Œå·²è£…è½½ {} æ¡ä»»åŠ¡"</span>, pendingTasks.size());
}
</code></pre>
<h3 data-id="heading-20">æ–°ä»»åŠ¡ç«‹å³åŠ è½½</h3>
<p>APIåˆ›å»ºä»»åŠ¡åï¼Œç«‹å³åŠ è½½åˆ°æ—¶é—´è½®ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> JobDelayTask <span class="hljs-title function_">createTask</span><span class="hljs-params">(DelayTaskRequest request)</span> {
    <span class="hljs-comment">// 1. å†™å…¥æ•°æ®åº“</span>
    <span class="hljs-type">JobDelayTask</span> <span class="hljs-variable">task</span> <span class="hljs-operator">=</span> buildTask(request);
    delayTaskRepository.insert(task);
    
    <span class="hljs-comment">// 2. ç«‹å³åŠ è½½åˆ°æ—¶é—´è½®ï¼ˆä¸ç­‰æ‰«æï¼‰</span>
    addTaskToWheel(task);
    
    <span class="hljs-keyword">return</span> task;
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addTaskToWheel</span><span class="hljs-params">(JobDelayTask task)</span> {
    <span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">triggerTime</span> <span class="hljs-operator">=</span> task.getNextAttemptTime();
    timeWheel.addTask(task, triggerTime, () -&gt; executeDelayTask(task));
    
    log.info(<span class="hljs-string">"æ–°ä»»åŠ¡å·²åŠ è½½åˆ°æ—¶é—´è½®ï¼ŒtraceId={}, triggerTime={}"</span>, 
        task.getTraceId(), triggerTime);
}
</code></pre>
<h3 data-id="heading-21">æ—¶é—´è½®è§¦å‘æ‰§è¡Œ</h3>
<p>æ—¶é—´åˆ°äº†è‡ªåŠ¨æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeDelayTask</span><span class="hljs-params">(JobDelayTask task)</span> {
    log.info(<span class="hljs-string">"æ—¶é—´è½®è§¦å‘æ‰§è¡Œï¼ŒtraceId={}"</span>, task.getTraceId());
    
    <span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> LocalDateTime.now();
    <span class="hljs-type">boolean</span> <span class="hljs-variable">success</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    <span class="hljs-type">String</span> <span class="hljs-variable">errorMsg</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// æ‰§è¡Œä»»åŠ¡è°ƒåº¦ï¼ˆOwneråˆ¤å®š + CASæŠ¢å  + HTTPè°ƒç”¨ï¼‰</span>
        dispatchDelayTask(task);
        success = <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">catch</span> (Exception e) {
        errorMsg = e.getMessage();
        log.error(<span class="hljs-string">"æ‰§è¡Œå¤±è´¥ï¼ŒtraceId={}"</span>, task.getTraceId(), e);
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// è®°å½•æ—¥å¿—ï¼ˆæäº¤åˆ°æ‰¹é‡å¤„ç†å™¨ï¼‰</span>
        <span class="hljs-type">JobTaskLog</span> <span class="hljs-variable">logEntity</span> <span class="hljs-operator">=</span> buildLog(task, startTime, success, errorMsg);
        taskLogBatcher.add(logEntity);  <span class="hljs-comment">// å¼‚æ­¥æ‰¹é‡å†™å…¥</span>
    }
}
</code></pre>
<h3 data-id="heading-22">è¡¥å¿æ‰«æ</h3>
<p>è™½ç„¶æœ‰äº†æ—¶é—´è½®ï¼Œä½†è¿˜æ˜¯ä¿ç•™äº†æ‰«ææœºåˆ¶ï¼ˆé™ä½é¢‘ç‡ï¼‰ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Scheduled(fixedDelay = 10000)</span>  <span class="hljs-comment">// ä»5ç§’æ”¹ä¸º10ç§’</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">scanAndDispatch</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// 1. å¤„ç† SENDING è¶…æ—¶ä»»åŠ¡</span>
    List&lt;JobDelayTask&gt; stuckTasks = findStuckSendingTasks();
    <span class="hljs-keyword">for</span> (JobDelayTask task : stuckTasks) {
        handleSendingTimeout(task);
    }
    
    <span class="hljs-comment">// 2. è¡¥å¿ï¼šåŠ è½½æ–°æäº¤çš„ PENDING ä»»åŠ¡åˆ°æ—¶é—´è½®</span>
    <span class="hljs-comment">//    ï¼ˆé˜²æ­¢æŸäº›ä»»åŠ¡åˆ›å»ºåæ²¡åŠ è½½ï¼‰</span>
    List&lt;JobDelayTask&gt; newPendingTasks = findNewPendingTasks();
    <span class="hljs-keyword">for</span> (JobDelayTask task : newPendingTasks) {
        <span class="hljs-keyword">if</span> (!isInTimeWheel(task)) {
            addTaskToWheel(task);
        }
    }
}
</code></pre>
<p>ä¸ºä»€ä¹ˆè¿˜è¦æ‰«æï¼Ÿ</p>
<pre><code class="hljs language-diff" lang="diff">æ—¶é—´è½®ï¼šæ­£å¸¸æµç¨‹ï¼Œ99%çš„ä»»åŠ¡èµ°è¿™é‡Œ
è¡¥å¿æ‰«æï¼šå…œåº•æœºåˆ¶ï¼Œé˜²æ­¢é—æ¼

å¯èƒ½é—æ¼çš„åœºæ™¯ï¼š
<span class="hljs-deletion">- è°ƒåº¦å™¨é‡å¯ï¼Œéƒ¨åˆ†ä»»åŠ¡æ²¡åŠ è½½</span>
<span class="hljs-deletion">- æ•°æ®åº“ç›´æ¥æ’å…¥ä»»åŠ¡</span>
<span class="hljs-deletion">- æ—¶é—´è½®åŠ è½½å¤±è´¥</span>

è¡¥å¿æ‰«æä¿è¯ï¼šå³ä½¿æ—¶é—´è½®å‡ºé—®é¢˜ï¼Œä»»åŠ¡æœ€å¤šå»¶è¿Ÿ10ç§’
</code></pre>
<h2 data-id="heading-23">äº”ã€æ•ˆæœæ€ä¹ˆæ ·</h2>
<h3 data-id="heading-24">å»¶è¿Ÿå¯¹æ¯”</h3>
<p>å®æµ‹æ•°æ®ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">ä¼˜åŒ–å‰ï¼š
<span class="hljs-deletion">- åˆ›å»ºæ—¶é—´ï¼š10:00:00.000</span>
<span class="hljs-deletion">- æœŸæœ›æ‰§è¡Œï¼š10:00:30.000</span>
<span class="hljs-deletion">- å®é™…æ‰§è¡Œï¼š10:00:32.500ï¼ˆå¹³å‡å»¶è¿Ÿ2.5ç§’ï¼‰</span>
<span class="hljs-deletion">- æœ€å¤§å»¶è¿Ÿï¼š5ç§’</span>

ä¼˜åŒ–åï¼š
<span class="hljs-deletion">- åˆ›å»ºæ—¶é—´ï¼š10:00:00.000</span>
<span class="hljs-deletion">- æœŸæœ›æ‰§è¡Œï¼š10:00:30.000</span>
<span class="hljs-deletion">- å®é™…æ‰§è¡Œï¼š10:00:30.121ï¼ˆå»¶è¿Ÿ121msï¼‰</span>
<span class="hljs-deletion">- æœ€å¤§å»¶è¿Ÿï¼š1ç§’</span>
</code></pre>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[ä¼˜åŒ–å‰&lt;br/&gt;å»¶è¿Ÿ0-5ç§’] --&gt; B[å¹³å‡2.5ç§’]
    C[ä¼˜åŒ–å&lt;br/&gt;å»¶è¿Ÿ0-1ç§’] --&gt; D[å¹³å‡0.5ç§’]
    
    style A fill:#FFB6C1
    style B fill:#FF6B6B
    style C fill:#87CEEB
    style D fill:#90EE90
</code></pre>
<h3 data-id="heading-25">æ•°æ®åº“å‹åŠ›</h3>
<p>æ‰«æé¢‘ç‡ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">ä¼˜åŒ–å‰ï¼š
<span class="hljs-deletion">- æ‰«æé—´éš”ï¼š5ç§’</span>
<span class="hljs-deletion">- æ¯å°æ—¶ï¼š720æ¬¡</span>
<span class="hljs-deletion">- æ—¥å¿—å†™å…¥ï¼šåŒæ­¥å•æ¡</span>

ä¼˜åŒ–åï¼š
<span class="hljs-deletion">- æ‰«æé—´éš”ï¼š10ç§’ï¼ˆé™ä½50%ï¼‰</span>
<span class="hljs-deletion">- æ¯å°æ—¶ï¼š360æ¬¡</span>
<span class="hljs-deletion">- æ—¥å¿—å†™å…¥ï¼šå¼‚æ­¥æ‰¹é‡ï¼ˆé™ä½95%ï¼‰</span>
</code></pre>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[ä¼˜åŒ–å‰&lt;br/&gt;720æ¬¡/å°æ—¶] --&gt; B[æ‰«æå‹åŠ›å¤§&lt;br/&gt;IOé¢‘ç¹]
    C[ä¼˜åŒ–å&lt;br/&gt;360æ¬¡/å°æ—¶] --&gt; D[å‹åŠ›å‡åŠ&lt;br/&gt;æ‰¹é‡å†™å…¥]
    
    style A fill:#FFB6C1
    style B fill:#FF6B6B
    style C fill:#87CEEB
    style D fill:#90EE90
</code></pre>
<p>æ—¥å¿—å†™å…¥å¯¹æ¯”ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">åœºæ™¯ï¼š1000ä¸ªä»»åŠ¡

ä¼˜åŒ–å‰ï¼š
<span class="hljs-deletion">- 1000ä¸ªä»»åŠ¡ = 1000æ¬¡ INSERT</span>
<span class="hljs-deletion">- æ¯æ¬¡éƒ½ç­‰å¾…æ•°æ®åº“å“åº”</span>
<span class="hljs-deletion">- æ•°æ®åº“è¿æ¥æ± å¯èƒ½è€—å°½</span>

ä¼˜åŒ–åï¼š
<span class="hljs-deletion">- 1000ä¸ªä»»åŠ¡ = 50æ¬¡æ‰¹é‡ INSERTï¼ˆ20æ¡/æ‰¹ï¼‰</span>
<span class="hljs-deletion">- IOæ¬¡æ•°é™ä½95%</span>
<span class="hljs-deletion">- æ•°æ®åº“å‹åŠ›å¤§å¹…é™ä½</span>
</code></pre>
<h3 data-id="heading-26">å“åº”é€Ÿåº¦</h3>
<p>æ–°ä»»åŠ¡æäº¤åçš„å“åº”ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">ä¼˜åŒ–å‰ï¼š
POST /api/delay-tasks â†’ <span class="hljs-number">200</span> OKï¼ˆæ•°æ®åº“å†™å…¥ï¼‰
â†’ ç­‰å¾…ä¸‹æ¬¡æ‰«æï¼ˆ<span class="hljs-number">0</span><span class="hljs-number">-5</span>ç§’ï¼‰
â†’ ç”¨æˆ·æ„ŸçŸ¥æ…¢

ä¼˜åŒ–åï¼š
POST /api/delay-tasks â†’ <span class="hljs-number">200</span> OKï¼ˆæ•°æ®åº“å†™å…¥ï¼‰
â†’ ç«‹å³åŠ è½½åˆ°æ—¶é—´è½®ï¼ˆ<span class="hljs-number">11</span>msï¼‰
â†’ ç”¨æˆ·æ„ŸçŸ¥å¿«
</code></pre>
<h3 data-id="heading-27">æ€§èƒ½æŒ‡æ ‡æ€»ç»“</h3>









































<table><thead><tr><th>æŒ‡æ ‡</th><th>ä¼˜åŒ–å‰</th><th>ä¼˜åŒ–å</th><th>æå‡</th></tr></thead><tbody><tr><td>æ‰§è¡Œå»¶è¿Ÿ</td><td>0-5ç§’</td><td>0-1ç§’</td><td>80-100%</td></tr><tr><td>å¹³å‡å»¶è¿Ÿ</td><td>2.5ç§’</td><td>0.5ç§’</td><td>80%</td></tr><tr><td>æ‰«æé¢‘ç‡</td><td>æ¯5ç§’</td><td>æ¯10ç§’</td><td>50%</td></tr><tr><td>æ—¥å¿—IO</td><td>Næ¬¡</td><td>N/20æ¬¡</td><td>95%</td></tr><tr><td>æ–°ä»»åŠ¡å“åº”</td><td>ç­‰å¾…æ‰«æ</td><td>ç«‹å³åŠ è½½</td><td>å®æ—¶</td></tr></tbody></table>
<h2 data-id="heading-28">å…­ã€è®¾è®¡è¦ç‚¹</h2>
<h3 data-id="heading-29">æ—¶é—´è½®çš„ç²¾å¦™ä¹‹å¤„</h3>
<p><strong>O(1)å¤æ‚åº¦</strong></p>
<pre><code class="hljs language-scss" lang="scss">æ·»åŠ ä»»åŠ¡ï¼šè®¡ç®—æ§½ä½ â†’ æ”¾å…¥ â†’ <span class="hljs-built_in">O</span>(<span class="hljs-number">1</span>)
æ‰§è¡Œä»»åŠ¡ï¼šæ£€æŸ¥æ§½ä½ â†’ è§¦å‘ â†’ <span class="hljs-built_in">O</span>(<span class="hljs-number">1</span>)
</code></pre>
<p>ä¸éœ€è¦éå†æ‰€æœ‰ä»»åŠ¡ï¼Œä¹Ÿä¸éœ€è¦æ’åºï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯å¸¸æ•°çº§çš„ã€‚</p>
<p><strong>å¤šåœˆæ”¯æŒ</strong></p>
<pre><code class="hljs language-ini" lang="ini">å»¶è¿Ÿ1ç§’   â†’ <span class="hljs-attr">rounds</span>=<span class="hljs-number">0</span>, æ”¾æ§½ä½<span class="hljs-number">1</span>
å»¶è¿Ÿ59ç§’  â†’ <span class="hljs-attr">rounds</span>=<span class="hljs-number">0</span>, æ”¾æ§½ä½<span class="hljs-number">59</span>
å»¶è¿Ÿ60ç§’  â†’ <span class="hljs-attr">rounds</span>=<span class="hljs-number">1</span>, æ”¾æ§½ä½<span class="hljs-number">0</span>ï¼ˆç­‰<span class="hljs-number">1</span>åœˆï¼‰
å»¶è¿Ÿ120ç§’ â†’ <span class="hljs-attr">rounds</span>=<span class="hljs-number">2</span>, æ”¾æ§½ä½<span class="hljs-number">0</span>ï¼ˆç­‰<span class="hljs-number">2</span>åœˆï¼‰
</code></pre>
<p>åªè¦å†…å­˜å¤Ÿï¼Œå¯ä»¥æ”¯æŒä»»æ„é•¿çš„å»¶è¿Ÿã€‚</p>
<p><strong>çº¿ç¨‹å®‰å…¨</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">synchronized</span> (wheel) {
    wheel.get(index).add(wheelTask);  <span class="hljs-comment">// æ§½ä½æ“ä½œéƒ½åŠ é”</span>
}
</code></pre>
<p>ç®€å•ç²—æš´ï¼Œä½†å¤Ÿç”¨ã€‚å› ä¸ºï¼š</p>
<ul>
<li>æ§½ä½æ“ä½œå¾ˆå¿«ï¼ˆO(1)ï¼‰</li>
<li>é”ç²’åº¦å°ï¼Œä¸ä¼šé˜»å¡å¤ªä¹…</li>
</ul>
<p><strong>å¼‚æ­¥æ‰§è¡Œ</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">for</span> (WheelTask task : dueTasks) {
    executor.execute(task.callback);  <span class="hljs-comment">// å¼‚æ­¥æ‰§è¡Œï¼Œä¸é˜»å¡tick</span>
}
</code></pre>
<p>å³ä½¿æŸä¸ªä»»åŠ¡æ‰§è¡Œå¾ˆæ…¢ï¼Œä¹Ÿä¸ä¼šå½±å“æ—¶é—´è½®çš„tickã€‚</p>
<h3 data-id="heading-30">æ»‘åŠ¨çª—å£çš„å·§å¦™ä¹‹å¤„</h3>
<p><strong>åŒé‡è§¦å‘æœºåˆ¶</strong></p>
<pre><code class="hljs">é«˜å¹¶å‘ï¼šå¾ˆå¿«æ”’å¤Ÿ20æ¡ â†’ ç«‹å³æ‰¹é‡å†™å…¥
ä½å¹¶å‘ï¼šæ”’ä¸åˆ°20æ¡ â†’ ç­‰2ç§’ä¹Ÿå†™å…¥
</code></pre>
<p>æ—¢ä¿è¯äº†æ€§èƒ½ï¼Œåˆä¿è¯äº†æ—¶æ•ˆæ€§ã€‚</p>
<p><strong>ä¼˜é›…é™çº§</strong></p>
<pre><code class="hljs">æ‰¹é‡å†™å…¥å¤±è´¥ â†’ é™çº§ä¸ºé€æ¡å†™å…¥ â†’ ä¿è¯æ•°æ®ä¸ä¸¢
</code></pre>
<p>å¯é æ€§ä¼˜å…ˆï¼Œå®å¯æ…¢ä¸€ç‚¹ï¼Œä¹Ÿä¸èƒ½ä¸¢æ•°æ®ã€‚</p>
<p><strong>ä¼˜é›…å…³é—­</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PreDestroy</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">stop</span><span class="hljs-params">()</span> {
    running = <span class="hljs-literal">false</span>;           <span class="hljs-comment">// åœæ­¢æ¥æ”¶æ–°æ—¥å¿—</span>
    worker.interrupt();        <span class="hljs-comment">// ä¸­æ–­åå°çº¿ç¨‹</span>
    flush(buffer);             <span class="hljs-comment">// æŠŠå‰©ä½™æ—¥å¿—å†™å®Œ</span>
}
</code></pre>
<p>åº”ç”¨å…³é—­æ—¶ï¼Œç¡®ä¿é˜Ÿåˆ—é‡Œçš„æ—¥å¿—éƒ½å†™å…¥äº†ã€‚</p>
<h3 data-id="heading-31">ä¸¤è€…ç»“åˆçš„æ•ˆæœ</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[æ—¶é—´è½®&lt;br/&gt;é™ä½å»¶è¿Ÿ] --&gt; C[ç”¨æˆ·ä½“éªŒå¥½&lt;br/&gt;DBå‹åŠ›å°]
    B[æ»‘åŠ¨çª—å£&lt;br/&gt;æ‰¹é‡å†™å…¥] --&gt; C
    
    style A fill:#87CEEB
    style B fill:#FFE4B5
    style C fill:#90EE90
</code></pre>
<p>æ—¶é—´è½®è§£å†³äº†"ä»€ä¹ˆæ—¶å€™æ‰§è¡Œ"çš„é—®é¢˜ï¼Œæ»‘åŠ¨çª—å£è§£å†³äº†"æ€ä¹ˆé«˜æ•ˆè®°å½•"çš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-32">ä¸ƒã€é€‚ç”¨åœºæ™¯</h2>
<h3 data-id="heading-33">é€‚åˆç”¨æ—¶é—´è½®çš„åœºæ™¯</h3>
<pre><code class="hljs">ä»»åŠ¡é‡å¤§ï¼šæ¯åˆ†é’Ÿ1000ä¸ªä»¥ä¸Š
æ—¶é—´ç²¾åº¦è¦æ±‚é«˜ï¼šç§’çº§
å»¶è¿Ÿæ—¶é—´ä¸å¤ªé•¿ï¼š1å°æ—¶ä»¥å†…
å†…å­˜å……è¶³ï¼šæ—¶é—´è½®å ç”¨å†…å­˜å¾ˆå°
</code></pre>
<h3 data-id="heading-34">ä¸é€‚åˆçš„åœºæ™¯</h3>
<pre><code class="hljs">ä»»åŠ¡é‡æå°ï¼šæ¯å°æ—¶åªæœ‰å‡ ä¸ªä»»åŠ¡
â†’ ç”¨æ•°æ®åº“æ‰«æå°±å¤Ÿäº†ï¼Œä¸éœ€è¦æ—¶é—´è½®

å»¶è¿Ÿæ—¶é—´è¶…é•¿ï¼šå‡ ä¸ªå°æ—¶ç”šè‡³å‡ å¤©
â†’ å»ºè®®ç”¨å¤šçº§æ—¶é—´è½®ï¼ˆç§’çº§è½® + åˆ†çº§è½® + æ—¶çº§è½®ï¼‰

å†…å­˜ç´§å¼ ï¼š
â†’ æ—¶é—´è½®æŠŠä»»åŠ¡åŠ è½½åˆ°å†…å­˜ï¼Œä¼šå ç”¨ä¸€äº›ç©ºé—´
</code></pre>
<h3 data-id="heading-35">é€‚åˆç”¨æ»‘åŠ¨çª—å£çš„åœºæ™¯</h3>
<pre><code class="hljs">å†™å…¥é¢‘ç¹ï¼šæ¯ç§’å‡ åä¸Šç™¾æ¬¡
æ•°æ®åº“å‹åŠ›å¤§ï¼šIOæ˜¯ç“¶é¢ˆ
å…è®¸å°å»¶è¿Ÿï¼š2ç§’å†…çš„æ—¥å¿—å»¶è¿Ÿå¯æ¥å—
</code></pre>
<h3 data-id="heading-36">ä¸é€‚åˆçš„åœºæ™¯</h3>
<pre><code class="hljs">å†™å…¥ä¸é¢‘ç¹ï¼šæ¯å°æ—¶åªæœ‰å‡ æ¬¡
â†’ æ²¡å¿…è¦æ‰¹é‡ï¼Œç›´æ¥å†™å°±å¥½

ä¸å…è®¸ä»»ä½•å»¶è¿Ÿï¼šå¿…é¡»ç«‹å³è½ç›˜
â†’ ä¸èƒ½ç”¨å¼‚æ­¥æ‰¹é‡ï¼Œå¿…é¡»åŒæ­¥å†™å…¥
</code></pre>
<h2 data-id="heading-37">å…«ã€åç»­ä¼˜åŒ–æ–¹å‘</h2>
<h3 data-id="heading-38">å¤šçº§æ—¶é—´è½®</h3>
<p>å¦‚æœå»¶è¿Ÿæ—¶é—´å¾ˆé•¿ï¼ˆå‡ ä¸ªå°æ—¶ï¼‰ï¼Œå¯ä»¥ç”¨å¤šçº§æ—¶é—´è½®ï¼š</p>
<pre><code class="hljs">ç§’çº§è½®ï¼š60æ ¼ Ã— 1ç§’ = 1åˆ†é’ŸèŒƒå›´
åˆ†çº§è½®ï¼š60æ ¼ Ã— 1åˆ†é’Ÿ = 1å°æ—¶èŒƒå›´
æ—¶çº§è½®ï¼š24æ ¼ Ã— 1å°æ—¶ = 1å¤©èŒƒå›´
</code></pre>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[ç§’çº§è½®&lt;br/&gt;60æ ¼1ç§’] --&gt; B[åˆ†çº§è½®&lt;br/&gt;60æ ¼1åˆ†é’Ÿ]
    B --&gt; C[æ—¶çº§è½®&lt;br/&gt;24æ ¼1å°æ—¶]
    
    style A fill:#90EE90
    style B fill:#87CEEB
    style C fill:#FFE4B5
</code></pre>
<p>ä»»åŠ¡ä»é«˜çº§è½®é€çº§é™çº§åˆ°ä½çº§è½®ï¼Œæœ€ååœ¨ç§’çº§è½®æ‰§è¡Œã€‚</p>
<h3 data-id="heading-39">åŠ¨æ€è°ƒæ•´æ‰¹é‡å¤§å°</h3>
<p>æ ¹æ®å¹¶å‘é‡åŠ¨æ€è°ƒæ•´ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é«˜å³°æœŸï¼šå¿«é€Ÿæ‰¹é‡</span>
<span class="hljs-keyword">if</span> (qps &gt; <span class="hljs-number">100</span>) {
    batchSize = <span class="hljs-number">50</span>;
    maxWaitMillis = <span class="hljs-number">500</span>;
}

<span class="hljs-comment">// ä½å³°æœŸï¼šä¿è¯æ—¶æ•ˆ</span>
<span class="hljs-keyword">if</span> (qps &lt; <span class="hljs-number">10</span>) {
    batchSize = <span class="hljs-number">10</span>;
    maxWaitMillis = <span class="hljs-number">1000</span>;
}
</code></pre>
<h3 data-id="heading-40">Prometheusç›‘æ§</h3>
<p>å¢åŠ å…³é”®æŒ‡æ ‡ï¼š</p>
<pre><code class="hljs language-diff" lang="diff">æ—¶é—´è½®æŒ‡æ ‡ï¼š
<span class="hljs-deletion">- timewheel_tasks_totalï¼šæ—¶é—´è½®ä¸­çš„ä»»åŠ¡æ€»æ•°</span>
<span class="hljs-deletion">- timewheel_tick_duration_msï¼šæ¯æ¬¡tickçš„è€—æ—¶</span>

æ‰¹é‡æ—¥å¿—æŒ‡æ ‡ï¼š
<span class="hljs-deletion">- log_batch_size_avgï¼šå¹³å‡æ‰¹é‡å¤§å°</span>
<span class="hljs-deletion">- log_batch_flush_totalï¼šæ€»flushæ¬¡æ•°</span>
<span class="hljs-deletion">- log_queue_sizeï¼šé˜Ÿåˆ—é•¿åº¦</span>
</code></pre>
<h2 data-id="heading-41">ä¹ã€æ€»ç»“</h2>
<p>è¿™æ¬¡ä¼˜åŒ–ç”¨äº†ä¸¤ä¸ªç»å…¸çš„æ•°æ®ç»“æ„ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[æ—¶é—´è½®&lt;br/&gt;ç»å…¸è°ƒåº¦ç®—æ³•] --&gt; C[é«˜æ€§èƒ½&lt;br/&gt;ä½å»¶è¿Ÿ]
    B[æ»‘åŠ¨çª—å£&lt;br/&gt;æ‰¹é‡ä¼˜åŒ–æ¨¡å¼] --&gt; C
    
    style A fill:#87CEEB
    style B fill:#FFE4B5
    style C fill:#90EE90
</code></pre>
<p><strong>æ ¸å¿ƒæ”¶è·ï¼š</strong></p>
<p>æ—¶é—´è½®ï¼š</p>
<ul>
<li>O(1)å¤æ‚åº¦çš„ä»»åŠ¡è°ƒåº¦</li>
<li>å†…å­˜å ç”¨å°</li>
<li>æ”¯æŒä»»æ„é•¿å»¶è¿Ÿï¼ˆå¤šåœˆæœºåˆ¶ï¼‰</li>
</ul>
<p>æ»‘åŠ¨çª—å£ï¼š</p>
<ul>
<li>æ‰¹é‡å†™å…¥ï¼Œé™ä½95%çš„IO</li>
<li>åŒé‡è§¦å‘ï¼Œå…¼é¡¾æ€§èƒ½å’Œæ—¶æ•ˆ</li>
<li>ä¼˜é›…é™çº§ï¼Œä¿è¯å¯é æ€§</li>
</ul>
<p><strong>ä¼˜åŒ–æˆæœï¼š</strong></p>



































<table><thead><tr><th>ç»´åº¦</th><th>ä¼˜åŒ–å‰</th><th>ä¼˜åŒ–å</th><th>æå‡</th></tr></thead><tbody><tr><td>æ‰§è¡Œå»¶è¿Ÿ</td><td>0-5ç§’</td><td>0-1ç§’</td><td>80-100%</td></tr><tr><td>æ‰«æé¢‘ç‡</td><td>æ¯5ç§’</td><td>æ¯10ç§’</td><td>50%</td></tr><tr><td>æ—¥å¿—IO</td><td>Næ¬¡</td><td>N/20æ¬¡</td><td>95%</td></tr><tr><td>æ–°ä»»åŠ¡å“åº”</td><td>ç­‰å¾…æ‰«æ</td><td>ç«‹å³åŠ è½½</td><td>å®æ—¶</td></tr></tbody></table>
<p><strong>è®¾è®¡ç†å¿µï¼š</strong></p>
<p>ä¸æ˜¯æ‰€æœ‰é—®é¢˜éƒ½è¦ç”¨æœ€å¤æ‚çš„æ–¹æ¡ˆã€‚æ—¶é—´è½®å’Œæ»‘åŠ¨çª—å£éƒ½æ˜¯å¾ˆç®€å•çš„æ•°æ®ç»“æ„ï¼Œä½†ç”¨å¯¹äº†åœ°æ–¹ï¼Œæ•ˆæœå°±å¾ˆå¥½ã€‚</p>
<p><strong>å…³é”®æ˜¯ï¼š</strong></p>
<pre><code class="hljs">ç†è§£é—®é¢˜çš„æœ¬è´¨
é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆ
ç”¨ç®€å•çš„æ–¹å¼è§£å†³å¤æ‚çš„é—®é¢˜
</code></pre>
<p>è¿™å°±æ˜¯ JobFlow çš„æ—¶é—´è½®ä¸æ»‘åŠ¨çª—å£ä¼˜åŒ–ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°æ®åˆ†æå¸ˆçš„â€œæ°´æ™¶çƒâ€ï¼šæ—¶é—´åºåˆ—åˆ†æ]]></title>    <link>https://juejin.cn/post/7588680081326293034</link>    <guid>https://juejin.cn/post/7588680081326293034</guid>    <pubDate>2025-12-28T09:30:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588680081326293034" data-draft-id="7588152122187530294" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°æ®åˆ†æå¸ˆçš„â€œæ°´æ™¶çƒâ€ï¼šæ—¶é—´åºåˆ—åˆ†æ"/> <meta itemprop="keywords" content="Python,æ•°æ®åˆ†æ,æ•°æ®æŒ–æ˜"/> <meta itemprop="datePublished" content="2025-12-28T09:30:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="databook"/> <meta itemprop="url" content="https://juejin.cn/user/3526889035006702"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°æ®åˆ†æå¸ˆçš„â€œæ°´æ™¶çƒâ€ï¼šæ—¶é—´åºåˆ—åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3526889035006702/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    databook
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T09:30:08.000Z" title="Sun Dec 28 2025 09:30:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¾ˆå¤šåˆšå…¥è¡Œçš„å°ä¼™ä¼´é—®æˆ‘ï¼šâ€œ<em>æˆ‘æƒ³é¢„æµ‹ä¸‹ä¸ªæœˆå…¬å¸çš„é”€å”®é¢ï¼Œæˆ–è€…é¢„æµ‹ä¸€ä¸‹æ˜å¤©çš„è‚¡ä»·ï¼Œè¯¥å­¦ä»€ä¹ˆï¼Ÿ</em>â€</p>
<p>æˆ‘çš„å›ç­”é€šå¸¸åªæœ‰å…­ä¸ªå­—ï¼š<strong>æ—¶é—´åºåˆ—åˆ†æ</strong>ã€‚</p>
<p>å¦‚æœåœ¨æ•°æ®åˆ†æçš„ä¸–ç•Œé‡Œæœ‰ä¸€ç§é­”æ³•èƒ½è®©ä½ â€œé¢„çŸ¥æœªæ¥â€ï¼Œé‚£ä¸€å®šå°±æ˜¯å®ƒã€‚</p>
<h2 data-id="heading-0">1. ä»€ä¹ˆæ˜¯æ—¶é—´åºåˆ—ï¼Ÿ</h2>
<p>åˆ«è¢«åè¯å“åˆ°äº†ã€‚ç®€å•æ¥è¯´ï¼Œ<strong>æ—¶é—´åºåˆ—ï¼ˆTime Seriesï¼‰å°±æ˜¯æŒ‰æ—¶é—´é¡ºåºæ’åˆ—çš„ä¸€ç»„æ•°æ®</strong>ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>ä½ æ‰‹æœºé‡Œæ¯å¤©çš„æ­¥æ•°è®°å½•ï¼›</li>
<li>æŸåªè‚¡ç¥¨æ¯å¤©çš„æ”¶ç›˜ä»·ï¼›</li>
<li>æˆ–è€…æ˜¯ä½ å®¶æ¥¼ä¸‹ä¾¿åˆ©åº—æ¯ä¸ªæœˆçš„è¥ä¸šé¢ã€‚</li>
</ul>
<p>è¿™äº›æ•°æ®éƒ½æœ‰ä¸€ä¸ªå…±åŒç‚¹ï¼š<strong>æœ‰ä¸€ä¸ªæ—¶é—´è½´ï¼Œä¸”æ•°æ®éšç€æ—¶é—´å˜åŒ–ã€‚</strong></p>
<p>æˆ‘ä»¬åš<strong>æ—¶é—´åºåˆ—åˆ†æ</strong>çš„<strong>æ ¸å¿ƒç›®çš„</strong>ï¼Œå°±æ˜¯è¦ä»è¿‡å»çš„**â€œå†å²æ•°æ®â€<strong>ä¸­æ‰¾å‡ºè§„å¾‹ï¼Œç„¶åæŠŠè¿™ä¸ªè§„å¾‹å»¶é•¿åˆ°</strong>â€œæœªæ¥â€<strong>ï¼Œè¿™å°±æ˜¯</strong>é¢„æµ‹**ã€‚</p>
<h2 data-id="heading-1">2. åƒå‰¥æ´‹è‘±ä¸€æ ·æ‹†è§£æ•°æ®ï¼šæ—¶é—´åºåˆ—çš„å››å¤§æˆåˆ†</h2>
<p>åˆå­¦è€…æœ€å®¹æ˜“çŠ¯çš„é”™è¯¯æ˜¯ç›´æ¥æŠŠæ•°æ®ä¸¢è¿›æ¨¡å‹é‡Œè·‘ã€‚</p>
<p>ä½œä¸ºä¸€åè€æ‰‹ï¼Œæˆ‘è¦å‘Šè¯‰ä½ ï¼š<strong>çœ‹åˆ°æ•°æ®ï¼Œå…ˆæ‹†è§£ã€‚</strong></p>
<p>é€šå¸¸ï¼Œä»»ä½•ä¸€ä¸ªéšæ—¶é—´å˜åŒ–çš„æ•°æ®ï¼ˆæ¯”å¦‚ä¸€å®¶å¥¶èŒ¶åº—çš„æ—¥é”€é‡ï¼‰ï¼Œéƒ½å¯ä»¥è¢«æ‹†åˆ†ä¸º<strong>å››ä¸ªéƒ¨åˆ†</strong>ã€‚</p>
<h3 data-id="heading-2">2.1. é•¿æœŸè¶‹åŠ¿--â€œå¤§åŠ¿æ‰€è¶‹â€</h3>
<p>è¿™æ˜¯æ•°æ®åœ¨é•¿æ—¶é—´å†…çš„ä¸»è¦è¿åŠ¨æ–¹å‘ã€‚</p>
<ul>
<li><strong>ä¾‹å­</strong>ï¼šè¿™å®¶å¥¶èŒ¶åº—å¼€äº†ä¸‰å¹´ï¼Œéšç€å“ç‰ŒçŸ¥ååº¦æå‡ï¼Œæ•´ä½“é”€é‡æ¯å¹´éƒ½åœ¨æ¶¨ã€‚è¿™å°±æ˜¯<strong>è¶‹åŠ¿</strong>ã€‚</li>
<li><strong>åœ°ä½</strong>ï¼šå®ƒæ˜¯æ€»å˜åŠ¨çš„è€å¤§ï¼Œå†³å®šäº†é•¿æœŸçš„æ–¹å‘ã€‚</li>
</ul>
<h3 data-id="heading-3">2.2. å­£èŠ‚å˜åŠ¨--â€œæ˜¥å¤ç§‹å†¬çš„è½®å›â€</h3>
<p>æ•°æ®å—å­£èŠ‚ã€èŠ‚å‡æ—¥ç­‰å›ºå®šå‘¨æœŸå½±å“è€Œå‡ºç°çš„æ³¢åŠ¨ã€‚</p>
<ul>
<li><strong>ä¾‹å­</strong>ï¼šå¤å¤©å¤©æ°”çƒ­ï¼Œå†°é¥®å–å¾—ç–¯å¿«ï¼›å†¬å¤©å†·ï¼Œé”€é‡è‡ªç„¶ä¸‹æ»‘ï¼›æ¯åˆ°å‘¨æœ«é”€é‡å°±æ¯”å‘¨ä¸€é«˜ã€‚è¿™ç§éšç€æ—¶é—´å›ºå®šé‡å¤çš„æ³¢åŠ¨ï¼Œå°±æ˜¯<strong>å­£èŠ‚æ€§</strong>ã€‚</li>
<li><strong>åœ°ä½</strong>ï¼šå®ƒæ˜¯æ€»å˜åŠ¨çš„è€äºŒï¼Œéå¸¸è§„å¾‹ï¼Œé¢„æµ‹èµ·æ¥æœ€å‡†ã€‚</li>
</ul>
<h3 data-id="heading-4">2.3. å¾ªç¯å˜åŠ¨--â€œéš¾ä»¥æ‰æ‘¸çš„å‘¨æœŸâ€</h3>
<p>è¿™æ˜¯ä¸€äº›å‘¨æœŸè¾ƒé•¿ã€ä¸å›ºå®šçš„æ³¢åŠ¨ï¼Œé€šå¸¸å’Œå®è§‚ç»æµæœ‰å…³ã€‚</p>
<ul>
<li><strong>ä¾‹å­</strong>ï¼šç”±äºç»æµå±æœºï¼Œå¤§å®¶é’±åŒ…ç´§äº†ï¼Œå¥¶èŒ¶å–å¾—å°‘äº†ã€‚ç­‰ç»æµå¤è‹ï¼Œåˆå–å¤šäº†ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼šè¿™éƒ¨åˆ†åŸå› å¤æ‚ï¼Œå‘¨æœŸä¸å›ºå®šï¼Œæˆ‘ä»¬åœ¨åŸºç¡€é¢„æµ‹ä¸­é€šå¸¸<strong>ä¸åšé‡ç‚¹è€ƒè™‘</strong>ã€‚</li>
</ul>
<h3 data-id="heading-5">2.4. ä¸è§„åˆ™å˜åŠ¨--â€œè€å¤©çˆ·çš„å¿ƒæƒ…â€</h3>
<p>è¿™æ˜¯éšæœºçš„ã€ä¸å¯æ§çš„æ³¢åŠ¨ã€‚</p>
<ul>
<li><strong>ä¾‹å­</strong>ï¼šæŸå¤©çªç„¶ä¸‹æš´é›¨ï¼Œæ²¡äººå‡ºé—¨ï¼Œé”€é‡æš´è·Œï¼›æˆ–è€…æŸå¤©ç½‘çº¢æ¥æ‰“å¡ï¼Œé”€é‡æš´æ¶¨ã€‚</li>
<li><strong>æ³¨æ„</strong>ï¼šè¿™æ˜¯â€œå™ªéŸ³â€ï¼Œåœ¨é¢„æµ‹ä¸­æˆ‘ä»¬å¾ˆéš¾æ•æ‰å®ƒï¼Œé€šå¸¸å‡è®¾å®ƒä¸º0æˆ–å¿½ç•¥ã€‚</li>
</ul>
<blockquote>
<p><strong>ï¼ˆé‡ç‚¹ï¼‰ï¼š</strong><br/>
åœ¨å®é™…çš„æ—¶é—´åºåˆ—é¢„æµ‹ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦æŠ“ <strong>â€œé•¿æœŸè¶‹åŠ¿â€ å’Œ â€œå­£èŠ‚å˜åŠ¨â€</strong>ã€‚</p>
<p>æŠ“ä½äº†è¿™ä¸¤æ¡å¤§é±¼ï¼Œé¢„æµ‹çš„å‡†ç¡®åº¦é€šå¸¸èƒ½è¾¾åˆ°80%ä»¥ä¸Šã€‚</p>
<p>è‡³äºå¾ªç¯å˜åŠ¨å’Œä¸è§„åˆ™å˜åŠ¨ï¼Œå› ä¸ºå æ¯”å°ä¸”å¤ªå¤æ‚ï¼Œæˆ‘ä»¬å¾€å¾€é€‰æ‹©æˆ˜ç•¥æ€§å¿½ç•¥ã€‚</p>
</blockquote>
<h2 data-id="heading-6">3. æ‰‹æŠŠæ‰‹æ•™ä½ ï¼šç”¨Pythonæ‹†è§£æ—¶é—´åºåˆ—</h2>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ã€‚ä¸‹é¢æˆ‘ä»¬ç”¨<code>Python</code>ä»£ç æ¨¡æ‹Ÿä¸€ç»„å¥¶èŒ¶åº—çš„é”€å”®æ•°æ®ï¼Œå¹¶æ¼”ç¤ºå¦‚ä½•æŠŠè¿™å››ä¸ªæˆåˆ†â€œæ‹†â€å‡ºæ¥ã€‚</p>
<p>é¦–å…ˆï¼Œæ„é€ â€œè™šå‡â€çš„å¥¶èŒ¶åº—æ•°æ®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># === ç¬¬ä¸€æ­¥ï¼šæ„é€ æ•°æ® ===</span>
<span class="hljs-comment"># å‡è®¾æˆ‘ä»¬æœ‰è¿‡å»3å¹´ï¼ˆ36ä¸ªæœˆï¼‰çš„æœˆåº¦é”€å”®æ•°æ®</span>
dates = pd.date_range(start=<span class="hljs-string">'2021-01-01'</span>, periods=<span class="hljs-number">36</span>, freq=<span class="hljs-string">'ME'</span>)

<span class="hljs-comment"># 1. åˆ¶é€ ã€é•¿æœŸè¶‹åŠ¿ã€‘ï¼šæ¯ä¸ªæœˆé”€é‡åŸºç¡€å¢åŠ  10 æ¯</span>
trend = np.linspace(<span class="hljs-number">100</span>, <span class="hljs-number">460</span>, <span class="hljs-number">36</span>)

<span class="hljs-comment"># 2. åˆ¶é€ ã€å­£èŠ‚å˜åŠ¨ã€‘ï¼šæ¨¡æ‹Ÿæ¯å¹´å¤å¤©é«˜ã€å†¬å¤©ä½ (ç”¨æ­£å¼¦æ³¢æ¨¡æ‹Ÿ)</span>
<span class="hljs-comment"># è¿™é‡Œçš„é€»è¾‘æ˜¯åˆ¶é€ ä¸€ä¸ªå‘¨æœŸæ€§çš„æ³¢æµª</span>
seasonality = <span class="hljs-number">50</span> * np.sin(np.linspace(<span class="hljs-number">0</span>, <span class="hljs-number">3</span> * <span class="hljs-number">2</span> * np.pi, <span class="hljs-number">36</span>))

<span class="hljs-comment"># 3. åˆ¶é€ ã€ä¸è§„åˆ™å˜åŠ¨/å™ªéŸ³ã€‘ï¼šéšæœºæ³¢åŠ¨</span>
noise = np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">20</span>, <span class="hljs-number">36</span>)

<span class="hljs-comment"># 4. åˆæˆæ€»é”€é‡</span>
total_sales = trend + seasonality + noise

<span class="hljs-comment"># åˆ›å»º DataFrame</span>
df = pd.DataFrame({<span class="hljs-string">'Date'</span>: dates, <span class="hljs-string">'Sales'</span>: total_sales})
df.set_index(<span class="hljs-string">'Date'</span>, inplace=<span class="hljs-literal">True</span>)
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2d39a71777e48d5b1d6870e5ec5b8df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767519008&amp;x-signature=0Up1CFtrG2BldYY9pTVRIf3J8aA%3D" alt="" loading="lazy"/></p>
<p>ç„¶åï¼Œä½¿ç”¨ <code>statsmodels</code> åº“è¿›è¡Œåˆ†è§£ï¼Œå®ƒèƒ½å¸®æˆ‘ä»¬ä¸€é”®æ‹†è§£æ•°æ®ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> statsmodels.tsa.seasonal <span class="hljs-keyword">import</span> seasonal_decompose

<span class="hljs-comment"># === ç¬¬äºŒæ­¥ï¼šæ•°æ®åˆ†è§£ ===</span>
<span class="hljs-comment"># model='additive' è¡¨ç¤ºåŠ æ³•æ¨¡å‹ï¼ˆé”€é‡ = è¶‹åŠ¿ + å­£èŠ‚ + å™ªéŸ³ï¼‰</span>
<span class="hljs-comment"># å¦‚æœæ³¢åŠ¨å¹…åº¦éšç€è¶‹åŠ¿å˜å¤§è€Œå˜å¤§ï¼Œé€šå¸¸ç”¨ä¹˜æ³•æ¨¡å‹ (multiplicative)</span>
decomposition = seasonal_decompose(df[<span class="hljs-string">'Sales'</span>], model=<span class="hljs-string">'additive'</span>)

<span class="hljs-comment"># === ç¬¬ä¸‰æ­¥ï¼šç»˜å›¾å±•ç¤º ===</span>
fig = decomposition.plot()
fig.set_size_inches(<span class="hljs-number">12</span>, <span class="hljs-number">10</span>) <span class="hljs-comment"># è®¾ç½®ç”»å¸ƒå¤§å°</span>
plt.show()
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0962196639c04f0dbc6f2cd3e9f14dbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZGF0YWJvb2s=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767519008&amp;x-signature=9ks1nQe8cXYAYPvmXLnAxHY8%2F78%3D" alt="" loading="lazy"/></p>
<p>ä»ä¸Šé¢å››ä¸ªå­å›¾å¯ä»¥çœ‹å‡ºï¼š</p>
<ol>
<li><strong>Observed (åŸå§‹æ•°æ®)</strong>ï¼šä½ çœ‹åˆ°çš„çœŸå®é”€é‡æ›²çº¿ï¼Œä¸Šè¹¿ä¸‹è·³ã€‚</li>
<li><strong>Trend (è¶‹åŠ¿)</strong>ï¼šä¸€æ¡ç¨³æ­¥å‘ä¸Šçš„ç›´çº¿ã€‚è¿™å‘Šè¯‰è€æ¿ï¼š<em>æ”¾å¿ƒï¼Œè™½ç„¶æ¯ä¸ªæœˆæœ‰æ³¢åŠ¨ï¼Œä½†å’±ä»¬åº—æ•´ä½“æ˜¯è¶Šåšè¶Šå¥½çš„ï¼</em></li>
<li><strong>Seasonal (å­£èŠ‚æ€§)</strong>ï¼šéå¸¸æœ‰è§„å¾‹çš„æ³¢æµªçº¿ã€‚è¿™å‘Šè¯‰åº—é•¿ï¼š<em>æ¯å¹´6-8æœˆè¦å¤šå¤‡è´§ï¼Œ12-1æœˆå¯ä»¥å®‰æ’å‘˜å·¥è½®ä¼‘ã€‚</em></li>
<li><strong>Resid (æ®‹å·®/ä¸è§„åˆ™é¡¹)</strong>ï¼šå›´ç»•0ä¸Šä¸‹è·³åŠ¨çš„æ‚ä¹±ç‚¹ã€‚è¿™æ˜¯æˆ‘ä»¬æ— æ³•é¢„æµ‹çš„éšæœºäº‹ä»¶ã€‚</li>
</ol>
<h2 data-id="heading-7">4. åˆ†æå¸ˆçš„å†…åŠŸï¼šä¸ä»…ä»…æ˜¯ä»£ç </h2>
<p>å­¦ä¼šäº†ä¸Šé¢çš„ä»£ç ï¼Œä½ å·²ç»å…¥é—¨äº†ã€‚ä½†ä½œä¸ºè¿‡æ¥äººï¼Œæˆ‘æƒ³å‘Šè¯‰ä½ ï¼Œå·¥å…·å’Œç®—æ³•è™½ç„¶å±‚å‡ºä¸ç©·ï¼Œä½†<strong>åˆ†ææ€è·¯</strong>æ‰æ˜¯ä¸‡å˜ä¸ç¦»å…¶å®—çš„ã€‚</p>
<p>é¦–å…ˆï¼Œå…³æ³¨<strong>æ•°æ®çš„å¹³ç¨³æ€§</strong>ï¼Œè¿™æ˜¯æ—¶é—´åºåˆ—åˆ†æçš„é—¨æ§›ã€‚</p>
<p>ç®€å•è¯´ï¼Œå¤§éƒ¨åˆ†å¤æ‚çš„ç»Ÿè®¡æ¨¡å‹ï¼ˆå¦‚ARIMAï¼‰éƒ½å‡è®¾æ•°æ®çš„æ€§è´¨ï¼ˆå‡å€¼ã€æ–¹å·®ï¼‰ä¸éšæ—¶é—´å˜åŒ–ã€‚</p>
<p>ç„¶è€Œç°å®æ•°æ®ï¼ˆå¦‚è‚¡ä»·ã€é”€é‡ï¼‰å¾€å¾€æ˜¯ä¸å¹³ç¨³çš„ï¼ˆæœ‰ä¸Šæ¶¨è¶‹åŠ¿ï¼‰ï¼Œå› æ­¤å¦‚æœä½ å‘ç°æ•°æ®ä¸€ç›´åœ¨æ¶¨ï¼Œå¯ä»¥è¯•ç€åš<strong>å·®åˆ†</strong>ï¼ˆç”¨ä»Šå¤©çš„æ•°å‡å»æ˜¨å¤©çš„æ•°ï¼‰ã€‚</p>
<p><strong>å·®åˆ†</strong>åçš„æ•°æ®å¾€å¾€å°±å¹³ç¨³äº†ï¼Œæ›´å®¹æ˜“æ”¾å…¥æ¨¡å‹å»è®­ç»ƒã€‚</p>
<p>å…¶æ¬¡ï¼Œç»“åˆ<strong>ä¸šåŠ¡åœºæ™¯</strong>ï¼Œä¸è¦æ­»è®°ç¡¬èƒŒæ¨¡å‹ï¼Œè¿˜è¦çœ‹åœºæ™¯ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<ol>
<li><strong>åœºæ™¯Aï¼šç”µå•†å¤§ä¿ƒé¢„æµ‹ï¼ˆåŒ11ï¼‰</strong>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šæœ‰æå¼ºçš„å­£èŠ‚æ€§ï¼ˆæ¯å¹´11æœˆæš´æ¶¨ï¼‰ã€‚</li>
<li><strong>ç­–ç•¥</strong>ï¼šé‡ç‚¹åˆ†æ<strong>å­£èŠ‚å˜åŠ¨</strong>ã€‚å¦‚æœåªçœ‹è¶‹åŠ¿ï¼Œä½ ä¼šè¢«åŒ11çš„æ•°æ®å“æ­»ï¼Œæˆ–è€…åœ¨åŒ11å¤‡è´§ä¸è¶³ã€‚</li>
<li><strong>çƒ­ç‚¹å…³è”</strong>ï¼šå°±åƒåˆ†æâ€œæ·„åšçƒ§çƒ¤â€æˆ–â€œå“ˆå°”æ»¨æ—…æ¸¸â€ï¼Œå¿…é¡»è€ƒè™‘èŠ‚å‡æ—¥è¿™ä¸ªå¼ºå­£èŠ‚å› å­ã€‚</li>
</ul>
</li>
<li><strong>åœºæ™¯Bï¼šè‚¡ç¥¨ä»·æ ¼é¢„æµ‹</strong>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šä¸è§„åˆ™å˜åŠ¨ï¼ˆå™ªéŸ³ï¼‰æå¤§ï¼Œç”šè‡³å™ªéŸ³æ©ç›–äº†è¶‹åŠ¿ã€‚</li>
<li><strong>ç­–ç•¥</strong>ï¼šè¿™ç§æ—¶å€™ï¼Œç®€å•çš„åˆ†è§£æ¨¡å‹å¾€å¾€å¤±æ•ˆã€‚éœ€è¦å¼•å…¥æ›´å¤šå¤–éƒ¨å˜é‡ï¼ˆæ–°é—»ã€æ”¿ç­–ï¼‰ï¼Œæˆ–è€…ä½¿ç”¨æ›´é«˜çº§çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚</li>
</ul>
</li>
<li><strong>åœºæ™¯Cï¼šæœåŠ¡å™¨æµé‡ç›‘æ§</strong>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šç™½å¤©é«˜ã€æ·±å¤œä½ï¼Œå‘¨æœ«ä½ã€å·¥ä½œæ—¥é«˜ã€‚</li>
<li><strong>ç­–ç•¥</strong>ï¼šè¿™æ˜¯æœ€æ ‡å‡†çš„å‘¨æœŸæ€§æ•°æ®ï¼Œéå¸¸é€‚åˆç”¨æ¥åšå¼‚å¸¸æ£€æµ‹ï¼ˆæ¯”å¦‚æŸå¤©æ·±å¤œæµé‡çªç„¶æš´æ¶¨ï¼Œè‚¯å®šæ˜¯æœ‰é»‘å®¢æ”»å‡»æˆ–ç³»ç»ŸBugï¼Œå› ä¸ºè¿™è¿èƒŒäº†å­£èŠ‚æ€§è§„å¾‹ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<h2 data-id="heading-8">5. æ€»ç»“ä¸å»ºè®®</h2>
<p><strong>æ—¶é—´åºåˆ—åˆ†æ</strong>å¹¶æ²¡æœ‰æƒ³è±¡ä¸­é‚£ä¹ˆç¥ç§˜ã€‚å®ƒçš„æœ¬è´¨å°±æ˜¯ï¼š<strong>æ‰¿è®¤å†å²ä¼šé‡æ¼”ï¼Œä½†ä¹Ÿæ¥çº³æœªæ¥çš„ä¸ç¡®å®šæ€§ã€‚</strong></p>
<p>å¯¹äºåˆšå…¥è¡Œçš„æœ‹å‹ï¼Œæˆ‘çš„å»ºè®®æ˜¯ï¼š</p>
<ol>
<li><strong>ç†è§£å››å¤§æˆåˆ†</strong>ï¼ˆè¶‹åŠ¿ã€å­£èŠ‚ã€å¾ªç¯ã€å™ªéŸ³ï¼‰æ˜¯åŸºç¡€ä¸­çš„åŸºç¡€ã€‚</li>
<li><strong>æŠ“ä½ä¸»è¦çŸ›ç›¾</strong>ï¼šåœ¨åšé¢„æµ‹æ—¶ï¼Œä¼˜å…ˆæå®šè¶‹åŠ¿å’Œå­£èŠ‚æ€§ã€‚</li>
<li><strong>å¤šåŠ¨æ‰‹å°è¯•</strong>ï¼šæ¯”å¦‚æŠŠä¸Šé¢çš„<code>Python</code>ä»£ç è·‘ä¸€éï¼Œå°è¯•ä¿®æ”¹ä¸€ä¸‹æ•°æ®ï¼Œçœ‹çœ‹ç»“æœæœ‰ä»€ä¹ˆå˜åŒ–ã€‚</li>
</ol>
<p>æœªæ¥çš„åˆ†ææ–¹æ³•è™½ç„¶ä¼šè¶Šæ¥è¶Šå¤šï¼ŒAIä¹Ÿä¼šè¶Šæ¥è¶Šå¼ºï¼Œä½†è¿™ç§ <strong>â€œé€è¿‡ç°è±¡ï¼ˆåŸå§‹æ•°æ®ï¼‰çœ‹æœ¬è´¨ï¼ˆè¶‹åŠ¿ä¸è§„å¾‹ï¼‰â€</strong> çš„åˆ†ææ€ç»´ï¼Œå°†æ˜¯æˆ‘ä»¬èŒä¸šç”Ÿæ¶¯ä¸­æ°¸æ’ä¸å˜çš„å®è´µè´¢å¯Œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åŸºäº Nuxt 4 + Strapi 5 æ„å»ºé«˜æ€§èƒ½ AI å¯¼èˆªç«™]]></title>    <link>https://juejin.cn/post/7588355695100690441</link>    <guid>https://juejin.cn/post/7588355695100690441</guid>    <pubDate>2025-12-28T08:07:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588355695100690441" data-draft-id="7588109656041685038" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åŸºäº Nuxt 4 + Strapi 5 æ„å»ºé«˜æ€§èƒ½ AI å¯¼èˆªç«™"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-28T08:07:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çŸ¥èˆªé©¿ç«™"/> <meta itemprop="url" content="https://juejin.cn/user/4125023356335576"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åŸºäº Nuxt 4 + Strapi 5 æ„å»ºé«˜æ€§èƒ½ AI å¯¼èˆªç«™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4125023356335576/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çŸ¥èˆªé©¿ç«™
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T08:07:31.000Z" title="Sun Dec 28 2025 08:07:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>æ‘˜è¦</strong>ï¼šåœ¨ AI å·¥å…·çˆ†å‘çš„ä»Šå¤©ï¼Œå¦‚ä½•å¿«é€Ÿæ„å»ºä¸€ä¸ªæ—¢å…·å¤‡å†…å®¹æ·±åº¦ï¼ˆCMS ç®¡ç†ï¼‰ï¼Œåˆæœ‰æè‡´äº¤äº’ä½“éªŒï¼ˆSSR + ç°ä»£åŒ– UIï¼‰çš„å¯¼èˆªå¹³å°ï¼Ÿæœ¬æ–‡å°†å¤ç›˜ <strong>Creator AI Hub</strong> çš„ä»é›¶å¼€å‘å†ç¨‹ï¼Œæ·±åº¦è§£æ <strong>Monorepo</strong> æ¶æ„è®¾è®¡ã€<strong>Strapi v5</strong> æ— å¤´ CMS çš„çµæ´»åº”ç”¨ä»¥åŠ <strong>Nuxt 4</strong> çš„å…¨æ ˆå®è·µã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ğŸš€ å¼•è¨€ï¼šä¸ºä»€ä¹ˆé€‰æ‹©è¿™å¥—æŠ€æœ¯æ ˆï¼Ÿ</h2>
<p>åœ¨æ„å»º <strong>Creator AI Hub</strong> æ—¶ï¼Œæˆ‘ä»¬é¢ä¸´å‡ ä¸ªæ ¸å¿ƒéœ€æ±‚ï¼š</p>
<ol>
<li><strong>å†…å®¹ä¸ºç‹</strong>ï¼šéœ€è¦é¢‘ç¹æ›´æ–° AI å·¥å…·ã€è§£å†³æ–¹æ¡ˆå’Œ SOPï¼Œä¸”å†…å®¹ç»“æ„å¤æ‚ï¼ˆåŒ…å«ä¼šå‘˜ä¸“å±å­—æ®µï¼‰ã€‚</li>
<li><strong>SEO å‹å¥½</strong>ï¼šä½œä¸ºå¯¼èˆªç«™ï¼Œæœç´¢å¼•æ“ä¼˜åŒ–è‡³å…³é‡è¦ï¼ŒæœåŠ¡ç«¯æ¸²æŸ“ (SSR) æ˜¯å¿…é€‰é¡¹ã€‚</li>
<li><strong>å¼€å‘æ•ˆç‡</strong>ï¼šå‰åç«¯éœ€ç´§å¯†é…åˆï¼Œä½†åˆè¦ä¿æŒç‹¬ç«‹éƒ¨ç½²å’Œç»´æŠ¤çš„çµæ´»æ€§ã€‚</li>
</ol>
<p>åŸºäºæ­¤ï¼Œæˆ‘ä»¬é‡‡ç”¨äº† <strong>TurboRepo + Nuxt 4 + Strapi 5</strong> çš„é»„é‡‘ç»„åˆã€‚è¿™ä¸ä»…æ˜¯ä¸€æ¬¡æŠ€æœ¯é€‰å‹çš„èƒœåˆ©ï¼Œæ›´æ˜¯å¯¹ç°ä»£ Web å¼€å‘æœ€ä½³å®è·µçš„ä¸€æ¬¡å®Œæ•´æ¢ç´¢ã€‚</p>
<hr/>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad20acbea7614b6c9f7c984e9da30b37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6Iiq6am_56uZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767514051&amp;x-signature=8FpGGkkgiW3VjNoyKEtowMGBlVk%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83382dedc6d7446c944cb101d4ff0b37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6Iiq6am_56uZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767514051&amp;x-signature=pZA%2BLGQE7KXTm87l3vgElg5wKXI%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">1. ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ (System Architecture)</h2>
<p>æœ¬é¡¹ç›®é‡‡ç”¨ <strong>Monorepo</strong> ç­–ç•¥ç®¡ç†å…¨æ ˆä»£ç ï¼ŒåŸºäº <strong>TurboRepo</strong> æ„å»ºé«˜æ•ˆçš„å·¥ä½œæµã€‚å‰ç«¯é‡‡ç”¨ <strong>Nuxt 4</strong> è¿›è¡ŒæœåŠ¡ç«¯æ¸²æŸ“ (SSR)ï¼Œåç«¯ä½¿ç”¨ <strong>Strapi v5</strong> ä½œä¸º Headless CMS æä¾› RESTful APIï¼Œæ•°æ®å­˜å‚¨åœ¨ <strong>MySQL</strong> ä¸­ã€‚</p>
<h3 data-id="heading-2">1.1 æŠ€æœ¯æ ˆ (Tech Stack)</h3>





















































<table><thead><tr><th align="left">é¢†åŸŸ</th><th align="left">æŠ€æœ¯é€‰å‹</th><th align="left">ç‰ˆæœ¬</th><th align="left">è¯´æ˜</th></tr></thead><tbody><tr><td align="left"><strong>Monorepo</strong></td><td align="left">TurboRepo</td><td align="left"><code>^2.7.2</code></td><td align="left">é«˜æ€§èƒ½æ„å»ºç³»ç»Ÿï¼Œç»Ÿä¸€ç®¡ç† apps</td></tr><tr><td align="left"><strong>Package Manager</strong></td><td align="left">pnpm</td><td align="left"><code>9.0.0</code></td><td align="left">é«˜æ•ˆçš„ç£ç›˜ç©ºé—´åˆ©ç”¨ä¸ä¾èµ–ç®¡ç†</td></tr><tr><td align="left"><strong>Frontend</strong></td><td align="left">Nuxt</td><td align="left"><code>^4.2.2</code></td><td align="left">åŸºäº Vue 3 çš„å…¨æ ˆæ¡†æ¶ï¼Œè´Ÿè´£ SSR ä¸äº¤äº’</td></tr><tr><td align="left"><strong>Styling</strong></td><td align="left">Tailwind CSS</td><td align="left"><code>^3.4</code></td><td align="left">åŸå­åŒ– CSS æ¡†æ¶ï¼Œé€šè¿‡ <code>@nuxtjs/tailwindcss</code> é›†æˆ</td></tr><tr><td align="left"><strong>Backend</strong></td><td align="left">Strapi</td><td align="left"><code>5.33.0</code></td><td align="left">çµæ´»çš„ Headless CMSï¼Œæä¾› API æœåŠ¡</td></tr><tr><td align="left"><strong>Database</strong></td><td align="left">MySQL</td><td align="left"><code>8.0</code></td><td align="left">å…³ç³»å‹æ•°æ®åº“ï¼Œé€šè¿‡ <code>mysql2</code> é©±åŠ¨è¿æ¥</td></tr><tr><td align="left"><strong>Docs</strong></td><td align="left">VitePress</td><td align="left">Latest</td><td align="left">é™æ€æ–‡æ¡£ç”Ÿæˆå™¨</td></tr></tbody></table>
<h3 data-id="heading-3">1.2 ç›®å½•ç»“æ„ (Directory Structure)</h3>
<pre><code class="hljs language-bash" lang="bash">.
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ api/          <span class="hljs-comment"># Strapi åç«¯åº”ç”¨ (Port: 1337)</span>
â”‚   â”‚   â”œâ”€â”€ src/api/  <span class="hljs-comment"># ä¸šåŠ¡é€»è¾‘ (Content Types, Controllers, Services)</span>
â”‚   â”‚   â””â”€â”€ config/   <span class="hljs-comment"># æ•°æ®åº“ä¸æ’ä»¶é…ç½®</span>
â”‚   â”œâ”€â”€ web/          <span class="hljs-comment"># Nuxt å‰ç«¯åº”ç”¨ (Port: 3000)</span>
â”‚   â”‚   â”œâ”€â”€ components/ <span class="hljs-comment"># Vue ç»„ä»¶</span>
â”‚   â”‚   â”œâ”€â”€ composables/<span class="hljs-comment"># ç»„åˆå¼å‡½æ•° (Data Fetching, State)</span>
â”‚   â”‚   â””â”€â”€ pages/      <span class="hljs-comment"># è·¯ç”±é¡µé¢</span>
â”‚   â””â”€â”€ docs/         <span class="hljs-comment"># é¡¹ç›®æ–‡æ¡£ (VitePress)</span>
â”œâ”€â”€ package.json      <span class="hljs-comment"># Workspace æ ¹é…ç½®</span>
â”œâ”€â”€ turbo.json        <span class="hljs-comment"># Turbo æ„å»ºç®¡çº¿é…ç½®</span>
â””â”€â”€ pnpm-workspace.yaml
</code></pre>
<h3 data-id="heading-4">2.3 ä¼šå‘˜æƒé™è®¾è®¡ (Membership System)</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09e8a9583a6e42dab846929ac0ee9c87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6Iiq6am_56uZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767514051&amp;x-signature=UfI77CYFkvAYswzzPpQNZ9wmP9Q%3D" alt="image.png" loading="lazy"/>
ä¸ºäº†åŒºåˆ†æ™®é€šç”¨æˆ·ä¸ä»˜è´¹ä¼šå‘˜ï¼Œæˆ‘ä»¬åœ¨ Strapi åç«¯æ‰©å±•äº† <code>Membership</code> å’Œ <code>Order</code> æ¨¡å‹ã€‚</p>
<h4 data-id="heading-5">æ ¸å¿ƒé€»è¾‘</h4>
<ol>
<li><strong>ç”¨æˆ·æ³¨å†Œ</strong>: é»˜è®¤åˆ†é…ä¸º <code>Authenticated</code> è§’è‰²ï¼Œæ— ä¼šå‘˜æƒç›Šã€‚</li>
<li><strong>è®¢é˜…æ”¯ä»˜</strong>: ç”¨æˆ·è´­ä¹°ä¼šå‘˜ï¼ˆæœˆ/å¹´/ç»ˆèº«ï¼‰åï¼Œåç«¯æ›´æ–° <code>Membership</code> è¡¨ï¼Œè®°å½•è¿‡æœŸæ—¶é—´ã€‚</li>
<li><strong>æƒé™æ ¡éªŒ</strong>: åœ¨è·å– Tool è¯¦æƒ…æ—¶ï¼ŒController ä¼šæ ¡éªŒå½“å‰ç”¨æˆ·çš„ Membership çŠ¶æ€ã€‚å¦‚æœè¿‡æœŸæˆ–æœªè®¢é˜…ï¼Œåˆ™<strong>å‰”é™¤</strong> <code>tool.member</code> å­—æ®µï¼ˆåŒ…å« SOP å’Œæ•æ„Ÿæ•°æ®ï¼‰ã€‚</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// apps/api/src/api/tool/controllers/tool.ts (ä¼ªä»£ç ç¤ºä¾‹)</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">findOne</span>(<span class="hljs-params">ctx</span>) {
  <span class="hljs-keyword">const</span> { id } = ctx.<span class="hljs-property">params</span>;
  <span class="hljs-keyword">const</span> user = ctx.<span class="hljs-property">state</span>.<span class="hljs-property">user</span>;
  
  <span class="hljs-comment">// 1. è·å–å·¥å…·å®Œæ•´æ•°æ®</span>
  <span class="hljs-keyword">const</span> entity = <span class="hljs-keyword">await</span> strapi.<span class="hljs-title function_">service</span>(<span class="hljs-string">'api::tool.tool'</span>).<span class="hljs-title function_">findOne</span>(id, { <span class="hljs-attr">populate</span>: [<span class="hljs-string">'member'</span>] });
  
  <span class="hljs-comment">// 2. æ£€æŸ¥ç”¨æˆ·ä¼šå‘˜çŠ¶æ€</span>
  <span class="hljs-keyword">const</span> isMember = <span class="hljs-keyword">await</span> strapi.<span class="hljs-title function_">service</span>(<span class="hljs-string">'api::membership.membership'</span>).<span class="hljs-title function_">checkStatus</span>(user?.<span class="hljs-property">id</span>);
  
  <span class="hljs-comment">// 3. æ•°æ®æ¸…æ´—ï¼šéä¼šå‘˜ç§»é™¤ member å­—æ®µ</span>
  <span class="hljs-keyword">if</span> (!isMember &amp;&amp; entity.<span class="hljs-property">member</span>) {
    <span class="hljs-keyword">delete</span> entity.<span class="hljs-property">member</span>;
  }
  
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">transformResponse</span>(entity);
}
</code></pre>
<hr/>
<h2 data-id="heading-6">3. åç«¯è®¾è®¡ (Backend Design) - Strapi v5</h2>
<p>åç«¯æ ¸å¿ƒèŒè´£æ˜¯æä¾›ç»“æ„åŒ–çš„å†…å®¹ç®¡ç†ä¸ API æœåŠ¡ã€‚</p>
<h3 data-id="heading-7">2.1 æ•°æ®æ¨¡å‹ (Content Modeling)</h3>
<p>æˆ‘ä»¬å®šä¹‰äº†å¤šç»´åº¦çš„å†…å®¹ç±»å‹ (Content Types) æ¥æ”¯æ’‘ä¸šåŠ¡ï¼š</p>
<ul>
<li><strong>Collection Types</strong>:
<ul>
<li><code>Tool</code>: AI å·¥å…·æ ¸å¿ƒæ•°æ®ï¼ˆåç§°ã€æè¿°ã€URLã€Logoï¼‰ã€‚</li>
<li><code>Category</code>: å·¥å…·åˆ†ç±»ã€‚</li>
<li><code>Solution</code>: è§£å†³æ–¹æ¡ˆæ–‡ç« ã€‚</li>
</ul>
</li>
<li><strong>Single Types</strong>:
<ul>
<li><code>Global</code>: å…¨å±€é…ç½®ï¼ˆç«™ç‚¹æ ‡é¢˜ã€SEO ä¿¡æ¯ã€ç¤¾ç¾¤äºŒç»´ç ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>Components</strong>:
<ul>
<li><code>tool.member</code>: ä»˜è´¹ä¼šå‘˜ä¸“å±å­—æ®µï¼ˆSOPã€é¿å‘æŒ‡å—ï¼‰ï¼Œåˆ©ç”¨ Strapi ç»„ä»¶åŠŸèƒ½å®ç°çµæ´»çš„æ•°æ®ç»“æ„ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-8">Schema ç¤ºä¾‹ (<code>Global</code> Config)</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// apps/api/src/api/global/content-types/global/schema.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"kind"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"singleType"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"collectionName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"globals"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"info"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"singularName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"global"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"pluralName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"globals"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"displayName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Global"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"attributes"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"communityGroupTitle"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"åŠ å…¥å®˜æ–¹äº¤æµç¾¤"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"communityGroupQrCode"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"media"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"multiple"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"allowedTypes"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"images"</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-9">2.2 API æ‰©å±•ä¸æƒé™</h3>
<ul>
<li><strong>æƒé™æ§åˆ¶</strong>: ä½¿ç”¨ <code>@strapi/plugin-users-permissions</code> ç®¡ç† Public ä¸ Authenticated è§’è‰²æƒé™ã€‚</li>
<li><strong>è‡ªå®šä¹‰é€»è¾‘</strong>: é€šè¿‡è¦†å†™ Core Controllers æˆ–å¢åŠ  Middleware å®ç°æ›´ç»†ç²’åº¦çš„æƒé™æ§åˆ¶ï¼ˆå¦‚ï¼šéä¼šå‘˜è¯·æ±‚ Tool è¯¦æƒ…æ—¶è¿‡æ»¤æ‰ <code>tool.member</code> å­—æ®µï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-10">3. å‰ç«¯è®¾è®¡ (Frontend Design) - Nuxt 4</h2>
<p>å‰ç«¯åº”ç”¨ä¸“æ³¨äºé«˜æ€§èƒ½æ¸²æŸ“ä¸æè‡´çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<h3 data-id="heading-11">3.1 æ ¸å¿ƒç‰¹æ€§å®ç°</h3>
<ul>
<li><strong>æœåŠ¡ç«¯æ¸²æŸ“ (SSR)</strong>: æå‡ SEO è¡¨ç°ï¼Œé¦–å±åŠ è½½é€Ÿåº¦å¿«ã€‚</li>
<li><strong>ç»„åˆå¼å¼€å‘</strong>: åˆ©ç”¨ Nuxt Composables å°è£…ä¸šåŠ¡é€»è¾‘ã€‚</li>
</ul>
<h3 data-id="heading-12">3.2 å…³é”®ä»£ç è§£æ</h3>
<h4 data-id="heading-13">ğŸ” èº«ä»½è®¤è¯ä¸çŠ¶æ€ç®¡ç† (<code>useAuth.ts</code>)</h4>
<p>ä¸ºäº†ä¿è¯ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬å°è£…äº†ç»Ÿä¸€çš„è®¤è¯é€»è¾‘ï¼Œæ”¯æŒæ³¨å†Œã€ç™»å½•åŠ JWT Token æŒä¹…åŒ–ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// apps/web/composables/useAuth.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useAuth</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> user = useState&lt;<span class="hljs-title class_">User</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-string">'user'</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-literal">null</span>)
  <span class="hljs-keyword">const</span> token = <span class="hljs-title function_">useCookie</span>(<span class="hljs-string">'auth_token'</span>)
  <span class="hljs-keyword">const</span> { $strapi } = <span class="hljs-title function_">useNuxtApp</span>()

  <span class="hljs-comment">// ç™»å½•é€»è¾‘</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">login</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">credentials: LoginInput</span>) =&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> { <span class="hljs-attr">user</span>: userData, jwt } = <span class="hljs-keyword">await</span> $strapi.<span class="hljs-title function_">login</span>(credentials)
      token.<span class="hljs-property">value</span> = jwt
      user.<span class="hljs-property">value</span> = userData
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
    }
  }
  
  <span class="hljs-comment">// æ³¨å†Œé€»è¾‘ (è‡ªåŠ¨å…³è”é»˜è®¤è§’è‰²)</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">register</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">input: RegisterInput</span>) =&gt; {
    <span class="hljs-keyword">const</span> { <span class="hljs-attr">user</span>: newUser, jwt } = <span class="hljs-keyword">await</span> $strapi.<span class="hljs-title function_">register</span>(input)
    token.<span class="hljs-property">value</span> = jwt
    user.<span class="hljs-property">value</span> = newUser
  }

  <span class="hljs-keyword">return</span> { user, login, register }
}
</code></pre>
<h4 data-id="heading-14">å…¨å±€é…ç½®è·å– (<code>useGlobal.ts</code>)</h4>
<p>ä¸ºäº†å®ç°é…ç½®åŠ¨æ€åŒ–ï¼Œæˆ‘ä»¬å°è£…äº† <code>useGlobalConfig</code>ï¼Œå®ƒåœ¨åº”ç”¨åˆå§‹åŒ–æ—¶ä» Strapi è·å–é…ç½®ï¼Œå¹¶é€‚é… Strapi v5 çš„å“åº”ç»“æ„ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// apps/web/composables/useGlobal.ts</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useGlobalConfig</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">useState</span>(<span class="hljs-string">'global-config'</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-literal">null</span>)
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchGlobalConfig</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> config = <span class="hljs-title function_">useGlobalConfig</span>()
  <span class="hljs-keyword">const</span> { find } = <span class="hljs-title function_">useStrapi</span>() <span class="hljs-comment">// å°è£…çš„ Strapi Fetcher</span>
  
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// é€‚é… Strapi v5 API å“åº”ç»“æ„ (dataunwrap)</span>
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">find</span>(<span class="hljs-string">'global'</span>, {
      <span class="hljs-attr">populate</span>: <span class="hljs-string">'*'</span> <span class="hljs-comment">// è¿è¡¨æŸ¥è¯¢æ‰€æœ‰å…³è”å­—æ®µ (å¦‚å›¾ç‰‡)</span>
    })
    config.<span class="hljs-property">value</span> = response.<span class="hljs-property">data</span> || {}
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'Failed to fetch global config:'</span>, error)
  }
}
</code></pre>
<h4 data-id="heading-15">åŠ¨æ€ç»„ä»¶æ¸²æŸ“ (<code>profile.vue</code>)</h4>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d23aa9c95b984035ab6bdbb8a1deaebc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55-l6Iiq6am_56uZ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767514051&amp;x-signature=g7HhXumZKVGOwGSb2KsCURUpxtY%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨ä¸ªäººä¸­å¿ƒé¡µï¼Œæˆ‘ä»¬ç›´æ¥ç»‘å®šä»åç«¯è·å–çš„é…ç½®æ•°æ®ï¼Œå®ç°è¿è¥å†…å®¹çš„å®æ—¶æ›´æ–°ã€‚</p>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- apps/web/pages/profile.vue --&gt;
&lt;script setup lang="ts"&gt;
const globalConfig = useGlobalConfig()

// å¤„ç†å›¾ç‰‡ URL çš„è¾…åŠ©å‡½æ•°
const getQrCodeUrl = (qrCodeObj: any) =&gt; {
  // å…¼å®¹ Strapi ä¸Šä¼ æ’ä»¶çš„ URL æ ¼å¼
  return qrCodeObj?.url ? `${useStrapiUrl()}${qrCodeObj.url}` : '/default-qr.png'
}
&lt;/script&gt;

&lt;template&gt;
  &lt;div class="community-card"&gt;
    &lt;h3&gt;{{ globalConfig?.communityGroupTitle }}&lt;/h3&gt;
    &lt;img 
      :src="getQrCodeUrl(globalConfig?.communityGroupQrCode)" 
      alt="Community QR" 
    /&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<hr/>
<h2 data-id="heading-16">5. éƒ¨ç½²ä¸è¿ç»´ (Deployment &amp; DevOps)</h2>
<h3 data-id="heading-17">4.1 ç¯å¢ƒå˜é‡ç®¡ç†</h3>
<p>é¡¹ç›®ä½¿ç”¨ <code>.env</code> æ–‡ä»¶ç®¡ç†æ•æ„Ÿä¿¡æ¯ï¼ŒåŒºåˆ†å¼€å‘ä¸ç”Ÿäº§ç¯å¢ƒï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># .env (Root)</span>
<span class="hljs-attr">STRAPI_URL</span>=http://localhost:<span class="hljs-number">1337</span>
<span class="hljs-attr">NUXT_PUBLIC_API_URL</span>=http://localhost:<span class="hljs-number">1337</span>/api
<span class="hljs-attr">DATABASE_HOST</span>=localhost
<span class="hljs-attr">DATABASE_PORT</span>=<span class="hljs-number">3306</span>
</code></pre>
<h3 data-id="heading-18">4.2 æ„å»ºæµç¨‹</h3>
<p>åˆ©ç”¨ TurboRepo çš„ç¼“å­˜æœºåˆ¶åŠ é€Ÿæ„å»ºï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¹¶è¡Œæ„å»ºæ‰€æœ‰åº”ç”¨</span>
pnpm build

<span class="hljs-comment"># Turbo æ™ºèƒ½ç¼“å­˜ç¤ºä¾‹</span>
<span class="hljs-comment"># apps/web: cache miss, executing 345ms</span>
<span class="hljs-comment"># apps/api: cache hit, replaying output 50ms</span>
</code></pre>
<h3 data-id="heading-19">4.3 ç”Ÿäº§ç¯å¢ƒå»ºè®®</h3>
<ul>
<li><strong>Process Manager</strong>: ä½¿ç”¨ PM2 ç®¡ç† Node.js è¿›ç¨‹ã€‚</li>
<li><strong>Reverse Proxy</strong>: Nginx åå‘ä»£ç†ï¼Œé…ç½® SSL è¯ä¹¦ä¸ Gzip å‹ç¼©ã€‚</li>
<li><strong>Storage</strong>: Strapi ä¸Šä¼ æ–‡ä»¶å»ºè®®å¯¹æ¥ AWS S3 æˆ–é˜¿é‡Œäº‘ OSS å¯¹è±¡å­˜å‚¨ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-20">6. å¼€å‘æ•ˆèƒ½ä¸ AI èµ‹èƒ½ (AI-Driven Development)</h2>
<p><strong>Creator AI Hub</strong> çš„è¯ç”Ÿæœ¬èº«å°±æ˜¯ AI èµ‹èƒ½å¼€å‘çš„æœ€ä½³å®è·µã€‚</p>
<blockquote>
<p><strong>â±ï¸ æƒŠäººçš„é€Ÿåº¦ï¼šä» 0 åˆ° 1ï¼Œä»…ç”¨ 48 å°æ—¶</strong></p>
</blockquote>
<p>å¦‚æœä¸å€ŸåŠ© AI å·¥å…·ï¼Œè¿™æ ·ä¸€ä¸ªåŒ…å«å…¨æ ˆæ¶æ„ã€CMS åå°ã€ä¼šå‘˜ç³»ç»Ÿå’Œ SSR å‰ç«¯çš„é¡¹ç›®ï¼Œé€šå¸¸éœ€è¦ 2-3 å‘¨çš„å¼€å‘å‘¨æœŸã€‚ä½†åœ¨ AI è¾…åŠ©ä¸‹ï¼Œæˆ‘ä»¬å®ç°äº† <strong>10 å€ææ•ˆ</strong>ã€‚</p>
<h3 data-id="heading-21">6.1 AI è¾…åŠ©å…¨æµç¨‹</h3>
<ol>
<li><strong>æ¶æ„è®¾è®¡</strong>: AI ååŠ©é€‰å‹ TurboRepo + Nuxt 4ï¼Œå¹¶ç”Ÿæˆäº†åˆå§‹çš„ Monorepo ç›®å½•ç»“æ„ã€‚</li>
<li><strong>Schema ç”Ÿæˆ</strong>: Strapi çš„å¤æ‚ Content Typesï¼ˆå¦‚åµŒå¥—ç»„ä»¶ã€å…³è”å…³ç³»ï¼‰JSON é…ç½®ï¼Œç”± AI ä¸€é”®ç”Ÿæˆï¼ŒèŠ‚çœäº†å¤§é‡æ‰‹åŠ¨é…ç½®æ—¶é—´ã€‚</li>
<li><strong>ä»£ç ç¼–å†™</strong>:
<ul>
<li>å‰ç«¯ <code>useAuth</code>ã€<code>useGlobal</code> ç­‰æ ¸å¿ƒ Composable é€»è¾‘ç”± AI å¿«é€Ÿå®ç°ã€‚</li>
<li>Tailwind CSS çš„å“åº”å¼å¸ƒå±€å’Œå¾®äº¤äº’æ•ˆæœï¼Œé€šè¿‡ AI æç¤ºè¯å¿«é€Ÿè°ƒæ•´ã€‚</li>
</ul>
</li>
<li><strong>æ–‡æ¡ˆä¸æ–‡æ¡£</strong>: é¡¹ç›®æ–‡æ¡£ï¼ˆåŒ…æ‹¬æœ¬æ–‡ï¼‰ã€SEO æè¿°ã€åˆå§‹æµ‹è¯•æ•°æ®ï¼Œå‡ç”± AI è¾…åŠ©æ’°å†™ã€‚</li>
</ol>
<h2 data-id="heading-22">7. æ¶æ„æ‰©å±•æ€§ï¼šä»å¯¼èˆªç«™åˆ°æ— é™å¯èƒ½ (Scalability)</h2>
<p>Creator AI Hub çš„è¿™å¥— <strong>"Monorepo + Headless CMS + SSR Frontend"</strong> æ¶æ„ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªé€šç”¨çš„<strong>å†…å®¹å˜ç°ä¸çŸ¥è¯†ä»˜è´¹åŸºåº§</strong>ã€‚å®ƒä¸ä»…é™äºå¯¼èˆªç«™ï¼Œåªéœ€å¾®è°ƒæ•°æ®æ¨¡å‹ï¼Œå³å¯å¿«é€Ÿè£‚å˜å‡ºå¤šç§åº”ç”¨ï¼š</p>
<h3 data-id="heading-23">7.1 ğŸ’¡ å˜ä½“ä¸€ï¼šä»˜è´¹è¯¾ç¨‹å¹³å°</h3>
<ul>
<li><strong>æ”¹åŠ¨ç‚¹</strong>: å°† <code>Tool</code> æ¨¡å‹æ”¹ä¸º <code>Course</code>ï¼ˆè¯¾ç¨‹ï¼‰ï¼Œ<code>tool.member</code> æ”¹ä¸º <code>CourseChapter</code>ï¼ˆè¯¾ç¨‹ç« èŠ‚ï¼‰ã€‚</li>
<li><strong>åŠŸèƒ½å¤ç”¨</strong>: ä¼šå‘˜è®¢é˜…ç³»ç»Ÿã€è®¢å•æ”¯ä»˜ã€CMS ç« èŠ‚ç®¡ç†ã€å‰ç«¯è§†é¢‘æ’­æ”¾é¡µã€‚</li>
</ul>
<h3 data-id="heading-24">7.2 ğŸ›’ å˜ä½“äºŒï¼šè™šæ‹Ÿèµ„æºå•†åŸ</h3>
<ul>
<li><strong>æ”¹åŠ¨ç‚¹</strong>: å°† <code>Category</code> ç»†åŒ–ä¸ºèµ„æºç±»å‹ï¼ˆPPTæ¨¡æ¿/è®¾è®¡ç´ æ/Promptï¼‰ï¼Œå¢åŠ  <code>DownloadLink</code> å­—æ®µã€‚</li>
<li><strong>åŠŸèƒ½å¤ç”¨</strong>: æœç´¢è¿‡æ»¤ã€èµ„æºè¯¦æƒ…é¡µã€ä¸‹è½½æƒé™æ§åˆ¶ï¼ˆä»…ä¼šå‘˜æˆ–å•æ¬¡è´­ä¹°å¯ä¸‹è½½ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-25">7.3 ğŸ¢ å˜ä½“ä¸‰ï¼šä¼ä¸šå†…éƒ¨çŸ¥è¯†åº“</h3>
<ul>
<li><strong>æ”¹åŠ¨ç‚¹</strong>: å¼€å¯ Strapi çš„ SSO å•ç‚¹ç™»å½•ï¼Œå…³é—­å…¬å¼€æ³¨å†Œã€‚</li>
<li><strong>åŠŸèƒ½å¤ç”¨</strong>: æ–‡æ¡£å±‚çº§ç®¡ç†ã€SOP æ ‡å‡†åŒ–æµç¨‹å±•ç¤ºã€å…¨ç«™å…¨æ–‡æ£€ç´¢ã€‚</li>
</ul>
<p>è¿™å¥—æ¶æ„çš„æœ€å¤§ä»·å€¼åœ¨äº**â€œä¸€æ¬¡æ„å»ºï¼Œå¤„å¤„å¤ç”¨â€**ã€‚Monorepo ä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨ <code>apps/</code> ç›®å½•ä¸‹è½»æ¾æ·»åŠ æ–°çš„å‰ç«¯åº”ç”¨ï¼ˆå¦‚ <code>apps/mobile</code> æˆ– <code>apps/admin-dashboard</code>ï¼‰ï¼Œå…±äº«åŒä¸€å¥—åç«¯ API å’Œ TypeScript ç±»å‹å®šä¹‰ï¼Œæå¤§åœ°é™ä½äº†å¤šä¸šåŠ¡çº¿çš„ç»´æŠ¤æˆæœ¬ã€‚</p>
<hr/>
<h3 data-id="heading-26">8. ç»“è¯­</h3>
<p>é€šè¿‡ Nuxt 4 + Strapi 5 çš„é»„é‡‘ç»„åˆï¼Œé…åˆ AI ç»“å¯¹ç¼–ç¨‹æ¨¡å¼ï¼Œæˆ‘ä»¬å¿«é€Ÿæ„å»ºäº†ä¸€ä¸ªæ—¢æœ‰å†…å®¹æ·±åº¦ï¼Œåˆæœ‰è‰¯å¥½äº¤äº’ä½“éªŒçš„ AI å¯¼èˆªå¹³å°ã€‚è¿™ä¸ä»…éªŒè¯äº†æŠ€æœ¯æ ˆçš„å…ˆè¿›æ€§ï¼Œæ›´è¯æ˜äº†åœ¨ AI æ—¶ä»£ï¼Œ<strong>ä¸ªäººçš„å¼€å‘æ½œèƒ½å¯ä»¥è¢«æ— é™æ”¾å¤§</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¯å‘¨AIè®ºæ–‡é€Ÿé€’ï¼ˆ251222-251226ï¼‰]]></title>    <link>https://juejin.cn/post/7588098335791185920</link>    <guid>https://juejin.cn/post/7588098335791185920</guid>    <pubDate>2025-12-28T08:27:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588098335791185920" data-draft-id="7588092534162767872" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¯å‘¨AIè®ºæ–‡é€Ÿé€’ï¼ˆ251222-251226ï¼‰"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-28T08:27:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¶å­çš„æŠ€æœ¯ç¢ç¢å¿µ"/> <meta itemprop="url" content="https://juejin.cn/user/2831954919569245"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¯å‘¨AIè®ºæ–‡é€Ÿé€’ï¼ˆ251222-251226ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2831954919569245/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¶å­çš„æŠ€æœ¯ç¢ç¢å¿µ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T08:27:29.000Z" title="Sun Dec 28 2025 08:27:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">DataFlow: An LLM-Driven Framework for Unified Data Preparation and Workflow Automation in the Era of Data-Centric AI</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.16676" target="_blank" title="https://arxiv.org/abs/2512.16676" ref="nofollow noopener noreferrer">DataFlow: é¢å‘ä»¥æ•°æ®ä¸ºä¸­å¿ƒ AI æ—¶ä»£çš„ç»Ÿä¸€æ•°æ®å‡†å¤‡ä¸å·¥ä½œæµè‡ªåŠ¨åŒ– LLM é©±åŠ¨æ¡†æ¶</a></p>
<p>å¤§è¯­è¨€æ¨¡å‹ (LLMs) å¯¹é«˜è´¨é‡æ•°æ®çš„éœ€æ±‚å¿«é€Ÿå¢é•¿ï¼Œè¿™ä½¿å¾—å¯¹å¯æ‰©å±•ã€å¯é ä¸”è¯­ä¹‰ä¸°å¯Œçš„æ•°æ®å‡†å¤‡ç®¡é“çš„éœ€æ±‚å˜å¾—å°¤ä¸ºè¿«åˆ‡ã€‚ç„¶è€Œï¼Œå½“å‰å®è·µä»ä¸»è¦ä¾èµ–ä¸´æ—¶è„šæœ¬å’Œå®šä¹‰æ¾æ•£çš„å·¥ä½œæµï¼Œå®ƒä»¬ç¼ºä¹åŸåˆ™æ€§çš„æŠ½è±¡ï¼Œé˜»ç¢äº†å¯å¤ç°æ€§ï¼Œå¹¶å¯¹æ¨¡å‹åœ¨ç¯ (model-in-the-loop) çš„æ•°æ®ç”Ÿæˆæ”¯æŒæœ‰é™ã€‚ä¸ºåº”å¯¹è¿™äº›æŒ‘æˆ˜ï¼Œæˆ‘ä»¬æå‡ºäº† DataFlowï¼Œä¸€ä¸ªç»Ÿä¸€ä¸”å¯æ‰©å±•çš„ LLM é©±åŠ¨æ•°æ®å‡†å¤‡æ¡†æ¶ã€‚DataFlow é‡‡ç”¨ç³»ç»Ÿçº§æŠ½è±¡è®¾è®¡ï¼Œå®ç°äº†æ¨¡å—åŒ–ã€å¯å¤ç”¨å’Œå¯ç»„åˆçš„æ•°æ®è½¬æ¢ï¼Œå¹¶æä¾›äº†ç±»ä¼¼ PyTorch é£æ ¼çš„ç®¡é“æ„å»º APIï¼Œç”¨ä»¥æ„å»ºå¯è°ƒè¯•å’Œå¯ä¼˜åŒ–çš„æ•°æ®æµã€‚è¯¥æ¡†æ¶åŒ…å«è¿‘ 200 ä¸ªå¯å¤ç”¨æ“ä½œç¬¦å’Œå…­ä¸ªé¢†åŸŸé€šç”¨ç®¡é“ï¼Œè¦†ç›–æ–‡æœ¬ã€æ•°å­¦æ¨ç†ã€ä»£ç ã€Text-to-SQLã€æ™ºèƒ½ä½“é©±åŠ¨çš„æ£€ç´¢å¢å¼ºç”Ÿæˆ (Agent RAG) ä»¥åŠå¤§è§„æ¨¡çŸ¥è¯†æå–ã€‚ä¸ºè¿›ä¸€æ­¥æå‡æ˜“ç”¨æ€§ï¼Œæˆ‘ä»¬å¼•å…¥äº† DataFlow-Agentï¼Œå®ƒèƒ½å¤Ÿé€šè¿‡æ“ä½œç¬¦åˆæˆã€ç®¡é“è§„åˆ’å’Œè¿­ä»£éªŒè¯ï¼Œè‡ªåŠ¨å°†è‡ªç„¶è¯­è¨€æè¿°è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„ç®¡é“ã€‚åœ¨å…­ä¸ªä»£è¡¨æ€§ç”¨ä¾‹ä¸­ï¼ŒDataFlow å‡èƒ½ä¸€è‡´åœ°æå‡ä¸‹æ¸¸ LLM æ€§èƒ½ã€‚æˆ‘ä»¬çš„æ•°å­¦ã€ä»£ç å’Œæ–‡æœ¬ç®¡é“æ€§èƒ½è¶…è¶Šäº†ç²¾å¿ƒæ„å»ºçš„äººå·¥æ•°æ®é›†å’Œä¸“é—¨çš„åˆæˆåŸºçº¿ï¼šåœ¨ Text-to-SQL ä»»åŠ¡ä¸Šï¼Œå…¶æ‰§è¡Œå‡†ç¡®ç‡è¾ƒ SynSQL æœ€é«˜æå‡ 3%ï¼›åœ¨ä»£ç åŸºå‡†æµ‹è¯•ä¸Šå¹³å‡æå‡ 7%ï¼›åœ¨ MATHã€GSM8K å’Œ AIME åŸºå‡†ä¸Šå–å¾—äº† 1 åˆ° 3 ä¸ªç™¾åˆ†ç‚¹çš„æ€§èƒ½å¢ç›Šã€‚æ­¤å¤–ï¼Œç”± DataFlow ç”Ÿæˆçš„ç»Ÿä¸€ä¸‡æ ·æœ¬ (10K) æ•°æ®é›†ï¼Œä½¿å¾—åŸºç¡€æ¨¡å‹çš„æ€§èƒ½è¶…è¶Šäº†åœ¨ç™¾ä¸‡çº§ (1M) Infinity-Instruct æ•°æ®ä¸Šè®­ç»ƒçš„åŒç±»æ¨¡å‹ã€‚è¿™äº›ç»“æœè¡¨æ˜ï¼ŒDataFlow ä¸ºå¯é ã€å¯å¤ç°å’Œå¯æ‰©å±•çš„ LLM æ•°æ®å‡†å¤‡æä¾›äº†ä¸€ä¸ªå®ç”¨ä¸”é«˜æ€§èƒ½çš„åº•å±‚æ”¯æŒï¼Œå¹¶ä¸ºæœªæ¥ä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„ AI å‘å±•å¥ å®šäº†ç³»ç»Ÿçº§åŸºç¡€ã€‚</p>
<h2 data-id="heading-1">Probing Scientific General Intelligence of LLMs with Scientist-Aligned Workflows</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.16969" target="_blank" title="https://arxiv.org/abs/2512.16969" ref="nofollow noopener noreferrer">é€šè¿‡ç§‘å­¦å®¶å·¥ä½œæµå¯¹é½è¯„ä¼°å¤§è¯­è¨€æ¨¡å‹çš„ç§‘å­¦é€šç”¨æ™ºèƒ½</a></p>
<p>å°½ç®¡ç§‘å­¦ AI é¢†åŸŸå–å¾—äº†è¿›å±•ï¼Œä½†å…³äºç§‘å­¦é€šç”¨æ™ºèƒ½ (Scientific General Intelligence, SGI) â€”â€” å³è‡ªä¸»æ„æ€ã€æ¢ç´¢å¹¶è·¨ç§‘å­¦é¢†åŸŸè¿›è¡Œæ¨ç†çš„èƒ½åŠ› â€”â€” ä»ç¼ºä¹ä¸€ä¸ªè¿è´¯çš„æ¡†æ¶ã€‚æˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªåŸºäºå®è·µæ¢ç©¶æ¨¡å‹ (Practical Inquiry Model, PIM: å®¡è®®ã€æ„æ€ã€è¡ŒåŠ¨ã€æ„ŸçŸ¥) çš„å¯æ“ä½œ SGI å®šä¹‰ï¼Œå¹¶é€šè¿‡å››ä¸ªä¸ç§‘å­¦å®¶å·¥ä½œæµå¯¹é½çš„ä»»åŠ¡æ¥å…·ä½“å®ç°è¿™ä¸€å®šä¹‰ï¼šæ·±åº¦ç ”ç©¶ã€æƒ³æ³•ç”Ÿæˆã€å¹²/æ¹¿å®éªŒ (dry/wet experiments) ä»¥åŠå®éªŒæ¨ç†ã€‚SGI-Bench åŸºå‡†åŒ…å« 1000 å¤šä¸ªç”±ä¸“å®¶ç²¾å¿ƒç­–åˆ’çš„è·¨å­¦ç§‘æ ·æœ¬ï¼Œå…¶çµæ„Ÿæ¥æºäºã€Šç§‘å­¦ã€‹æ‚å¿—æå‡ºçš„ 125 ä¸ªé‡å¤§ç§‘å­¦é—®é¢˜ï¼Œå¯ç”¨äºç³»ç»Ÿè¯„ä¼°æœ€å…ˆè¿›çš„å¤§è¯­è¨€æ¨¡å‹ã€‚è¯„ä¼°ç»“æœæ­ç¤ºäº†å¤šæ–¹é¢çš„å·®è·ï¼šå°½ç®¡åœ¨æ­¥éª¤å±‚é¢ä¸äººç±»å·¥ä½œæµå¯¹é½ï¼Œä½†æ·±åº¦ç ”ç©¶ä»»åŠ¡çš„ç²¾ç¡®åŒ¹é…ç‡ä»ç„¶å¾ˆä½ (10--20%)ï¼›ç”Ÿæˆçš„æƒ³æ³•ç¼ºä¹å¯è¡Œæ€§å’Œç»†èŠ‚ï¼›å¹²å®éªŒä»»åŠ¡ä¸­ä»£ç å¯æ‰§è¡Œæ€§é«˜ï¼Œä½†æ‰§è¡Œç»“æœçš„å‡†ç¡®æ€§ä½ï¼›æ¹¿å®éªŒæ–¹æ¡ˆçš„æ­¥éª¤åºåˆ—ä¿çœŸåº¦ä½ï¼›å¹¶ä¸”åœ¨å¤šæ¨¡æ€æ¯”è¾ƒæ¨ç†æ–¹é¢æŒç»­é¢ä¸´æŒ‘æˆ˜ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥å¼•å…¥äº†æµ‹è¯•æ—¶å¼ºåŒ–å­¦ä¹  (Test-Time Reinforcement Learning, TTRL)ï¼Œè¯¥æ–¹æ³•åœ¨æ¨¡å‹æ¨ç†é˜¶æ®µä¼˜åŒ–åŸºäºæ£€ç´¢å¢å¼ºçš„æ–°é¢–æ€§å¥–åŠ±ï¼Œä»è€Œèƒ½åœ¨ä¸ä¾èµ–å‚è€ƒç­”æ¡ˆçš„æƒ…å†µä¸‹æå‡ç”Ÿæˆå‡è®¾çš„æ–°é¢–æ€§ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬åŸºäº PIM çš„å®šä¹‰ã€ä»¥å·¥ä½œæµä¸ºä¸­å¿ƒçš„åŸºå‡†æµ‹è¯•ä»¥åŠå®è¯åˆ†æï¼Œä¸ºå¼€å‘èƒ½å¤ŸçœŸæ­£æ¨åŠ¨ç§‘å­¦å‘ç°è¿›ç¨‹çš„ AI ç³»ç»Ÿå¥ å®šäº†åŸºç¡€ã€‚</p>
<h2 data-id="heading-2">SemanticGen: Video Generation in Semantic Space</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.20619" target="_blank" title="https://arxiv.org/abs/2512.20619" ref="nofollow noopener noreferrer">SemanticGenï¼šè¯­ä¹‰ç©ºé—´è§†é¢‘ç”Ÿæˆ</a></p>
<p>å½“å‰æœ€å…ˆè¿›çš„è§†é¢‘ç”Ÿæˆæ¨¡å‹é€šå¸¸å­¦ä¹ è§†é¢‘åœ¨ VAE (Variational Autoencoder) æ½œåœ¨ç©ºé—´ä¸­çš„åˆ†å¸ƒï¼Œå¹¶é€šè¿‡ VAE è§£ç å™¨å°†å…¶æ˜ å°„åˆ°åƒç´ ç©ºé—´ã€‚è¿™ç§æ–¹æ³•è™½ç„¶èƒ½å¤Ÿç”Ÿæˆé«˜è´¨é‡è§†é¢‘ï¼Œä½†å­˜åœ¨æ”¶æ•›é€Ÿåº¦æ…¢çš„é—®é¢˜ï¼Œå¹¶ä¸”åœ¨ç”Ÿæˆé•¿è§†é¢‘æ—¶è®¡ç®—å¼€é”€å·¨å¤§ã€‚æœ¬æ–‡æå‡º SemanticGenï¼Œä¸€ç§æ–°é¢–çš„è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡åœ¨è¯­ä¹‰ç©ºé—´ä¸­è¿›è¡Œè§†é¢‘ç”Ÿæˆæ¥åº”å¯¹è¿™äº›æŒ‘æˆ˜ã€‚æˆ‘ä»¬çš„æ ¸å¿ƒè§‚ç‚¹æ˜¯ï¼šç”±äºè§†é¢‘æœ¬èº«å­˜åœ¨å›ºæœ‰å†—ä½™ï¼Œç”Ÿæˆè¿‡ç¨‹åº”å½“å§‹äºä¸€ä¸ªç´§å‡‘çš„é«˜å±‚è¯­ä¹‰ç©ºé—´ä»¥è¿›è¡Œå…¨å±€è§„åˆ’ä¸ç»“æ„è®¾è®¡ï¼Œéšåå†è¡¥å……é«˜é¢‘ç»†èŠ‚ï¼Œè€Œéç›´æ¥ä½¿ç”¨åŒå‘æ³¨æ„åŠ›å¯¹æµ·é‡çš„ä½å±‚è§†é¢‘ Token è¿›è¡Œå»ºæ¨¡ã€‚SemanticGen é‡‡ç”¨ä¸¤é˜¶æ®µç”Ÿæˆæµç¨‹ï¼šç¬¬ä¸€é˜¶æ®µï¼Œä¸€ä¸ªæ‰©æ•£æ¨¡å‹ç”Ÿæˆç´§å‡‘çš„è¯­ä¹‰è§†é¢‘ç‰¹å¾ï¼Œè¿™äº›ç‰¹å¾å®šä¹‰äº†è§†é¢‘çš„å…¨å±€å¸ƒå±€ï¼›ç¬¬äºŒé˜¶æ®µï¼Œå¦ä¸€ä¸ªæ‰©æ•£æ¨¡å‹ä»¥è¿™äº›è¯­ä¹‰ç‰¹å¾ä¸ºæ¡ä»¶ï¼Œç”Ÿæˆ VAE æ½œåœ¨è¡¨ç¤ºï¼Œè¿›è€Œäº§ç”Ÿæœ€ç»ˆè§†é¢‘è¾“å‡ºã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œç›¸è¾ƒäºåœ¨ VAE æ½œåœ¨ç©ºé—´ä¸­ç”Ÿæˆï¼Œåœ¨è¯­ä¹‰ç©ºé—´ä¸­è¿›è¡Œç”Ÿæˆèƒ½å®ç°æ›´å¿«çš„æ”¶æ•›é€Ÿåº¦ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨æ‰©å±•åˆ°é•¿è§†é¢‘ç”Ÿæˆä»»åŠ¡æ—¶ï¼Œä¾ç„¶ä¿æŒé«˜æ•ˆä¸”è®¡ç®—æˆæœ¬å¯æ§ã€‚å¤§é‡å®éªŒè¡¨æ˜ï¼ŒSemanticGen èƒ½å¤Ÿç”Ÿæˆé«˜è´¨é‡è§†é¢‘ï¼Œå…¶æ€§èƒ½ä¼˜äºå½“å‰æœ€ä¼˜æ–¹æ³•å’Œå¤šä¸ªå¼ºåŸºçº¿æ¨¡å‹ã€‚</p>
<h2 data-id="heading-3">Step-DeepResearch Technical Report</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.20491" target="_blank" title="https://arxiv.org/abs/2512.20491" ref="nofollow noopener noreferrer">Step-DeepResearch æŠ€æœ¯æŠ¥å‘Š</a></p>
<p>éšç€å¤§è¯­è¨€æ¨¡å‹ (LLM) å‘è‡ªä¸» AI æ™ºèƒ½ä½“ (AI Agent) æ¼”è¿›ï¼Œæ·±åº¦ç ”ç©¶ (Deep Research) å·²æˆä¸ºä¸€é¡¹å…³é”®çš„è¯„ä¼°ç»´åº¦ã€‚ç„¶è€Œï¼Œç°æœ‰çš„å­¦æœ¯åŸºå‡†ï¼ˆå¦‚ BrowseCompï¼‰å¾€å¾€éš¾ä»¥æ»¡è¶³ç°å®ä¸–ç•Œå¯¹å¼€æ”¾å¼æ¢ç´¢ç ”ç©¶çš„éœ€æ±‚ï¼Œè¿™ç±»ç ”ç©¶éœ€è¦å¼ºå¤§çš„æ„å›¾è¯†åˆ«ã€é•¿æœŸå†³ç­–å’Œè·¨æ¥æºéªŒè¯èƒ½åŠ›ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ¨å‡ºäº† Step-DeepResearchï¼Œä¸€ä¸ªé«˜æ€§ä»·æ¯”çš„ç«¯åˆ°ç«¯æ™ºèƒ½ä½“ã€‚æˆ‘ä»¬æå‡ºäº†ä¸€ç§åŸºäºåŸå­åŒ–èƒ½åŠ› (Atomic Capabilities) çš„æ•°æ®åˆæˆç­–ç•¥ï¼Œç”¨ä»¥å¼ºåŒ–ä»»åŠ¡è§„åˆ’å’ŒæŠ¥å‘Šæ’°å†™èƒ½åŠ›ï¼Œå¹¶ç»“åˆäº†ä»æ™ºèƒ½ä½“è¡Œä¸ºè®­ç»ƒã€ç›‘ç£å¾®è°ƒ (SFT) åˆ°å¼ºåŒ–å­¦ä¹  (RL) çš„æ¸è¿›å¼è®­ç»ƒè·¯å¾„ã€‚è¯¥æ–¹æ³•é€šè¿‡ä¸€ä¸ªæ£€æŸ¥è¡¨å¼è¯„ä¼°å™¨ (Checklist-style Judger) å¾—åˆ°å¢å¼ºï¼Œæ˜¾è‘—æå‡äº†ç³»ç»Ÿçš„é²æ£’æ€§ã€‚æ­¤å¤–ï¼Œä¸ºäº†å¡«è¡¥ä¸­æ–‡é¢†åŸŸåœ¨æ·±åº¦ç ”ç©¶è¯„ä¼°æ–¹é¢çš„ç©ºç™½ï¼Œæˆ‘ä»¬é’ˆå¯¹çœŸå®çš„æ·±åº¦ç ”ç©¶åœºæ™¯å»ºç«‹äº† ADR-Bench åŸºå‡†ã€‚å®éªŒç»“æœè¡¨æ˜ï¼ŒStep-DeepResearch (32B) åœ¨ Scale AI Research Rubrics è¯„ä¼°ä¸­å–å¾—äº† 61.4% çš„å¾—åˆ†ã€‚åœ¨ ADR-Bench ä¸Šï¼Œå…¶æ€§èƒ½æ˜¾è‘—ä¼˜äºåŒç±»æ¨¡å‹ï¼Œå¹¶èƒ½ä¸ OpenAIã€Gemini DeepResearch ç­‰æœ€å…ˆè¿› (SOTA) çš„é—­æºæ¨¡å‹ç›¸åª²ç¾ã€‚è¿™äº›å‘ç°è¯æ˜ï¼Œé€šè¿‡ç²¾ç»†åŒ–çš„è®­ç»ƒï¼Œä¸­ç­‰è§„æ¨¡çš„æ¨¡å‹èƒ½å¤Ÿä»¥ä¸šç•Œé¢†å…ˆçš„æ€§ä»·æ¯”å®ç°ä¸“å®¶çº§çš„èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-4">TurboDiffusion: Accelerating Video Diffusion Models by 100-200 Times</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.16093" target="_blank" title="https://arxiv.org/abs/2512.16093" ref="nofollow noopener noreferrer">TurboDiffusion: å°†è§†é¢‘æ‰©æ•£æ¨¡å‹åŠ é€Ÿ 100-200 å€</a></p>
<p>æˆ‘ä»¬æå‡ºäº† TurboDiffusionï¼Œè¿™æ˜¯ä¸€ä¸ªè§†é¢‘ç”ŸæˆåŠ é€Ÿæ¡†æ¶ï¼Œèƒ½å¤Ÿåœ¨ä¿æŒè§†é¢‘è´¨é‡çš„åŒæ—¶ï¼Œå°†ç«¯åˆ°ç«¯çš„æ‰©æ•£æ¨¡å‹ç”Ÿæˆè¿‡ç¨‹åŠ é€Ÿ 100 è‡³ 200 å€ã€‚TurboDiffusion ä¸»è¦é€šè¿‡ä»¥ä¸‹å‡ ä¸ªç»„ä»¶å®ç°åŠ é€Ÿï¼š(1) æ³¨æ„åŠ›æœºåˆ¶åŠ é€Ÿï¼šTurboDiffusion é‡‡ç”¨ä½æ¯”ç‰¹ SageAttention å’Œå¯è®­ç»ƒçš„ç¨€ç–çº¿æ€§æ³¨æ„åŠ› (Sparse-Linear Attention, SLA) æ¥åŠ é€Ÿæ³¨æ„åŠ›è®¡ç®—ã€‚(2) æ­¥æ•°è’¸é¦ï¼šTurboDiffusion ä½¿ç”¨ rCM æ–¹æ³•è¿›è¡Œé«˜æ•ˆçš„æ­¥æ•°è’¸é¦ã€‚(3) W8A8 é‡åŒ–ï¼šTurboDiffusion å°†æ¨¡å‹å‚æ•°å’Œæ¿€æ´»å€¼é‡åŒ–ä¸º 8 ä½ (W8A8)ï¼Œä»¥åŠ é€Ÿçº¿æ€§å±‚è¿ç®—å¹¶å‡å°‘æ¨¡å‹ä½“ç§¯ã€‚æ­¤å¤–ï¼Œè¯¥æ¡†æ¶è¿˜é›†æˆäº†å…¶ä»–å¤šé¡¹å·¥ç¨‹ä¼˜åŒ–æŠ€æœ¯ã€‚
æˆ‘ä»¬åœ¨ Wan2.2-I2V-14B-720Pã€Wan2.1-T2V-1.3B-480Pã€Wan2.1-T2V-14B-720P ä»¥åŠ Wan2.1-T2V-14B-480P æ¨¡å‹ä¸Šè¿›è¡Œäº†å®éªŒã€‚ç»“æœè¡¨æ˜ï¼Œå³ä½¿åœ¨å•å— RTX 5090 GPU ä¸Šï¼ŒTurboDiffusion ä¹Ÿèƒ½å®ç° 100-200 å€çš„è§†é¢‘ç”ŸæˆåŠ é€Ÿï¼ŒåŒæ—¶ç”Ÿæˆè§†é¢‘çš„è´¨é‡ä¸åŸå§‹æ–¹æ³•ç›¸å½“ã€‚åŒ…å«æ¨¡å‹æ£€æŸ¥ç‚¹åŠæ˜“äºä½¿ç”¨ä»£ç çš„ GitHub ä»“åº“åœ°å€ä¸ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fthu-ml%2FTurboDiffusion%25E3%2580%2582" target="_blank" title="https://github.com/thu-ml/TurboDiffusion%E3%80%82" ref="nofollow noopener noreferrer">github.com/thu-ml/Turbâ€¦</a></p>
<h2 data-id="heading-5">PhysBrain: Human Egocentric Data as a Bridge from Vision Language Models to Physical Intelligence</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.16793" target="_blank" title="https://arxiv.org/abs/2512.16793" ref="nofollow noopener noreferrer">PhysBrain: äººç±»è‡ªæˆ‘ä¸­å¿ƒæ•°æ®ä½œä¸ºä»è§†è§‰è¯­è¨€æ¨¡å‹åˆ°ç‰©ç†æ™ºèƒ½çš„æ¡¥æ¢</a></p>
<p>æœºå™¨äººçš„æ³›åŒ–èƒ½åŠ›ä¾èµ–äºç‰©ç†æ™ºèƒ½ï¼šå³åœ¨è‡ªæˆ‘ä¸­å¿ƒæ„ŸçŸ¥ä¸è¡ŒåŠ¨æ¡ä»¶ä¸‹ï¼Œå¯¹çŠ¶æ€å˜åŒ–ã€å¯†é›†æ¥è§¦äº¤äº’ä»¥åŠé•¿æ—¶ç¨‹è§„åˆ’è¿›è¡Œæ¨ç†çš„èƒ½åŠ›ã€‚ç„¶è€Œï¼Œå¤§å¤šæ•°è§†è§‰è¯­è¨€æ¨¡å‹ä¸»è¦åŸºäºç¬¬ä¸‰äººç§°æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œè¿™ä¸ºäººå½¢æœºå™¨äººå¸¦æ¥äº†æ ¹æœ¬æ€§çš„è§†è§’å¤±é…ã€‚ç”±äºæˆæœ¬é«˜æ˜‚ä¸”å¤šæ ·æ€§æœ‰é™ï¼Œæ‰©å±•æœºå™¨äººè‡ªæˆ‘ä¸­å¿ƒæ•°æ®çš„é‡‡é›†ä»ä¸ç°å®ï¼›è€Œå¤§è§„æ¨¡çš„äººç±»è‡ªæˆ‘ä¸­å¿ƒè§†é¢‘åˆ™æä¾›äº†ä¸€ä¸ªå¯æ‰©å±•çš„æ›¿ä»£æ–¹æ¡ˆï¼Œå®ƒä»¬å¤©ç„¶åœ°æ•æ‰äº†ä¸°å¯Œçš„äº¤äº’è¯­å¢ƒä¸å› æœç»“æ„ã€‚å…³é”®æŒ‘æˆ˜åœ¨äºå¦‚ä½•å°†åŸå§‹çš„è‡ªæˆ‘ä¸­å¿ƒè§†é¢‘è½¬åŒ–ä¸ºç»“æ„åŒ–ä¸”å¯é çš„å…·èº«è®­ç»ƒç›‘ç£ä¿¡å·ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ª Egocentric2Embodiment è½¬æ¢æµç¨‹ï¼Œè¯¥æµç¨‹å°†ç¬¬ä¸€äººç§°è§†é¢‘è½¬åŒ–ä¸ºå…·æœ‰å¼ºåˆ¶è¯æ®åŸºç¡€å’Œæ—¶åºä¸€è‡´æ€§çš„ã€å¤šå±‚æ¬¡ä¸”æ¨¡å¼é©±åŠ¨çš„è§†è§‰é—®ç­”ç›‘ç£ä¿¡å·ï¼Œä»è€Œèƒ½å¤Ÿå¤§è§„æ¨¡æ„å»º Egocentric2Embodiment æ•°æ®é›† (E2E-3M)ã€‚é€šè¿‡åœ¨ E2E-3M æ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªå…·å¤‡è‡ªæˆ‘ä¸­å¿ƒæ„ŸçŸ¥èƒ½åŠ›çš„å…·èº«å¤§è„‘ï¼Œç§°ä¸º PhysBrainã€‚PhysBrain åœ¨è‡ªæˆ‘ä¸­å¿ƒç†è§£æ–¹é¢è¡¨ç°å‡ºæ˜¾è‘—æå‡ï¼Œå°¤å…¶æ˜¯åœ¨ EgoThink ä»»åŠ¡ä¸Šçš„è§„åˆ’èƒ½åŠ›ã€‚å®ƒæä¾›äº†ä¸€ä¸ªå…·å¤‡è‡ªæˆ‘ä¸­å¿ƒæ„ŸçŸ¥èƒ½åŠ›çš„åˆå§‹åŒ–çŠ¶æ€ï¼Œä½¿å¾—è§†è§‰è¯­è¨€-åŠ¨ä½œæ¨¡å‹çš„å¾®è°ƒè¿‡ç¨‹æ ·æœ¬æ•ˆç‡æ›´é«˜ï¼Œå¹¶åœ¨ SimplerEnv ä¸Šå–å¾—äº†æ›´é«˜çš„æˆåŠŸç‡ (53.9%)ï¼Œè¿™è¯æ˜äº†ä»äººç±»è‡ªæˆ‘ä¸­å¿ƒç›‘ç£ä¿¡å·åˆ°ä¸‹æ¸¸æœºå™¨äººæ§åˆ¶çš„æœ‰æ•ˆè¿ç§»ã€‚</p>
<h2 data-id="heading-6">Robust-R1: Degradation-Aware Reasoning for Robust Visual Understanding</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.17532" target="_blank" title="https://arxiv.org/abs/2512.17532" ref="nofollow noopener noreferrer">Robust-R1ï¼šåŸºäºé€€åŒ–æ„ŸçŸ¥æ¨ç†çš„é²æ£’è§†è§‰ç†è§£</a></p>
<p>åœ¨æç«¯ç°å®ä¸–ç•Œçš„è§†è§‰é€€åŒ–æ¡ä»¶ä¸‹ï¼Œå¤šæ¨¡æ€å¤§è¯­è¨€æ¨¡å‹ (MLLM) éš¾ä»¥ç»´æŒå¯é çš„æ€§èƒ½ï¼Œè¿™é™åˆ¶äº†å…¶å®é™…åº”ç”¨çš„é²æ£’æ€§ã€‚ç°æœ‰çš„é²æ£’å¤šæ¨¡æ€å¤§è¯­è¨€æ¨¡å‹ä¸»è¦ä¾èµ–äºéšå¼è®­ç»ƒæˆ–é€‚åº”æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•ä»…ä¾§é‡äºæå‡è§†è§‰ç¼–ç å™¨çš„æ³›åŒ–èƒ½åŠ›ï¼Œå¯¼è‡´æ¨¡å‹å¯è§£é‡Šæ€§æœ‰é™ä¸”ä¼˜åŒ–è¿‡ç¨‹ç›¸å¯¹å­¤ç«‹ã€‚ä¸ºå…‹æœè¿™äº›å±€é™ï¼Œæˆ‘ä»¬æå‡ºäº† Robust-R1ï¼Œè¿™æ˜¯ä¸€ä¸ªé€šè¿‡ç»“æ„åŒ–æ¨ç†é“¾æ¥æ˜¾å¼å»ºæ¨¡è§†è§‰é€€åŒ–çš„æ–°å‹æ¡†æ¶ã€‚æˆ‘ä»¬çš„æ–¹æ³•æ•´åˆäº†ä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼š(i) ä¸ºå¥ å®šé€€åŒ–æ„ŸçŸ¥æ¨ç†åŸºç¡€è€Œè¿›è¡Œçš„ç›‘ç£å¾®è°ƒï¼Œ(ii) ä¸ºå®ç°ç²¾å‡†é€€åŒ–å‚æ•°æ„ŸçŸ¥çš„å¥–åŠ±é©±åŠ¨å¯¹é½ï¼Œä»¥åŠ (iii) èƒ½å¤Ÿé€‚åº”é€€åŒ–å¼ºåº¦çš„åŠ¨æ€æ¨ç†æ·±åº¦ç¼©æ”¾ã€‚ä¸ºæ”¯æŒæ­¤æ–¹æ³•ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªåŒ…å« 1.1 ä¸‡ä¸ªæ ·æœ¬çš„ä¸“ç”¨æ•°æ®é›†ï¼Œå…¶ä¸­æ¶µç›–äº†åœ¨å››ä¸ªå…³é”®ç°å®è§†è§‰å¤„ç†é˜¶æ®µåˆæˆçš„çœŸå®é€€åŒ–ã€‚æ¯ä¸ªæ ·æœ¬å‡æ ‡æ³¨æœ‰ç»“æ„åŒ–æ¨ç†é“¾ï¼Œé“¾ä¸­è¿æ¥äº†é€€åŒ–å‚æ•°ã€æ„ŸçŸ¥å½±å“ã€åŸå§‹è¯­ä¹‰æ¨ç†é“¾åŠæœ€ç»ˆç»“è®ºã€‚å…¨é¢çš„è¯„ä¼°ç»“æœè¡¨æ˜ï¼ŒRobust-R1 å…·å¤‡æœ€å…ˆè¿›çš„é²æ£’æ€§ï¼šå®ƒåœ¨ç°å®ä¸–ç•Œé€€åŒ–åŸºå‡† R-Bench ä¸Šçš„è¡¨ç°ä¼˜äºæ‰€æœ‰é€šç”¨åŠé²æ£’åŸºçº¿æ¨¡å‹ï¼Œå¹¶ä¸”åœ¨ MMMBã€MMStar å’Œ RealWorldQA åŸºå‡†ä¸Šé¢ä¸´å¤šå¼ºåº¦å¯¹æŠ—æ€§é€€åŒ–æ—¶ï¼Œä¾ç„¶ä¿æŒäº†å“è¶Šçš„æŠ—é€€åŒ–æ€§èƒ½ã€‚</p>
<h2 data-id="heading-7">The Prism Hypothesis: Harmonizing Semantic and Pixel Representations via Unified Autoencoding</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.19693" target="_blank" title="https://arxiv.org/abs/2512.19693" ref="nofollow noopener noreferrer">æ£±é•œå‡è¯´ï¼šé€šè¿‡ç»Ÿä¸€è‡ªç¼–ç è°ƒå’Œè¯­ä¹‰ä¸åƒç´ è¡¨ç¤º</a></p>
<p>è·¨æ¨¡æ€çš„æ·±åº¦è¡¨ç¤ºæœ¬è´¨ä¸Šæ˜¯ç›¸äº’äº¤ç»‡çš„ã€‚æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ç³»ç»Ÿåœ°åˆ†æäº†å¤šç§è¯­ä¹‰ä¸åƒç´ ç¼–ç å™¨çš„é¢‘è°±ç‰¹æ€§ã€‚æœ‰è¶£çš„æ˜¯ï¼Œæˆ‘ä»¬çš„ç ”ç©¶æ­ç¤ºäº†ä¸€ä¸ªæå…·å¯å‘æ€§ä¸”é²œæœ‰æ¢ç´¢çš„å¯¹åº”å…³ç³»ï¼šç¼–ç å™¨çš„ç‰¹å¾é¢‘è°±ä¸å…¶åŠŸèƒ½è§’è‰²å¯†åˆ‡ç›¸å…³â€”â€”è¯­ä¹‰ç¼–ç å™¨ä¸»è¦æ•è·ç¼–ç æŠ½è±¡å«ä¹‰çš„ä½é¢‘åˆ†é‡ï¼Œè€Œåƒç´ ç¼–ç å™¨åˆ™é¢å¤–ä¿ç•™äº†ä¼ è¾¾ç»†ç²’åº¦ç»†èŠ‚çš„é«˜é¢‘ä¿¡æ¯ã€‚è¿™ä¸€å‘ç°æä¾›äº†ä¸€ä¸ªç»Ÿä¸€çš„è§†è§’ï¼Œå°†ç¼–ç å™¨è¡Œä¸ºä¸å…¶åº•å±‚é¢‘è°±ç»“æ„å…³è”èµ·æ¥ã€‚æˆ‘ä»¬å°†å…¶å®šä¹‰ä¸ºæ£±é•œå‡è¯´ï¼Œå³æ¯ç§æ•°æ®æ¨¡æ€éƒ½å¯è¢«è§†ä¸ºè‡ªç„¶ä¸–ç•Œåœ¨å…±äº«ç‰¹å¾é¢‘è°±ä¸Šçš„æŠ•å½±ï¼Œå…¶ä½œç”¨ç±»ä¼¼äºæ£±é•œã€‚åŸºäºæ­¤è§è§£ï¼Œæˆ‘ä»¬æå‡ºäº†ç»Ÿä¸€è‡ªç¼–ç  (UAE)ï¼Œè¯¥æ¨¡å‹é€šè¿‡ä¸€ç§åˆ›æ–°çš„é¢‘å¸¦è°ƒåˆ¶å™¨æ¥è°ƒå’Œè¯­ä¹‰ç»“æ„ä¸åƒç´ ç»†èŠ‚ï¼Œä½¿äºŒè€…èƒ½å¤Ÿæ— ç¼å…±å­˜ã€‚åœ¨ ImageNet å’Œ MS-COCO åŸºå‡†ä¸Šè¿›è¡Œçš„å¤§é‡å®éªŒè¡¨æ˜ï¼Œæˆ‘ä»¬çš„ UAE èƒ½å¤Ÿæœ‰æ•ˆåœ°å°†è¯­ä¹‰æŠ½è±¡ä¸åƒç´ çº§ä¿çœŸåº¦ç»Ÿä¸€åˆ°å•ä¸€æ½œåœ¨ç©ºé—´ä¸­ï¼Œå¹¶å–å¾—äº†æœ€å…ˆè¿›çš„æ€§èƒ½ã€‚</p>
<h2 data-id="heading-8">Bottom-up Policy Optimization: Your Language Model Policy Secretly Contains Internal Policies</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.19673" target="_blank" title="https://arxiv.org/abs/2512.19673" ref="nofollow noopener noreferrer">è‡ªåº•å‘ä¸Šç­–ç•¥ä¼˜åŒ–ï¼šè¯­è¨€æ¨¡å‹ç­–ç•¥éšå«å†…éƒ¨ç­–ç•¥</a></p>
<p>ç°æœ‰çš„å¼ºåŒ–å­¦ä¹  (RL) æ–¹æ³•å°†å¤§è¯­è¨€æ¨¡å‹ (LLMs) è§†ä¸ºå•ä¸€çš„ç»Ÿä¸€ç­–ç•¥ï¼Œå¿½ç•¥äº†å…¶å†…éƒ¨æœºåˆ¶ã€‚å› æ­¤ï¼Œç†è§£ç­–ç•¥åœ¨ä¸åŒå±‚å’Œæ¨¡å—é—´çš„æ¼”å˜è¿‡ç¨‹ï¼Œå¯¹äºå®ç°æ›´å…·é’ˆå¯¹æ€§çš„ä¼˜åŒ–ä»¥åŠæ­ç¤ºå¤æ‚çš„æ¨ç†æœºåˆ¶è‡³å…³é‡è¦ã€‚æœ¬æ–‡é€šè¿‡åˆ©ç”¨ Transformer æ®‹å·®æµçš„å›ºæœ‰åˆ’åˆ†ï¼Œä»¥åŠéšè—çŠ¶æ€ä¸è§£åµŒå…¥çŸ©é˜µçš„åˆæˆç»“æœä¸æœ€ç»ˆå¯é‡‡æ ·ç­–ç•¥ä¹‹é—´çš„ç­‰ä»·æ€§ï¼Œå¯¹è¯­è¨€æ¨¡å‹ç­–ç•¥è¿›è¡Œåˆ†è§£ã€‚è¿™ç§åˆ†è§£æ­ç¤ºäº†å†…éƒ¨å±‚ç­–ç•¥ (Internal Layer Policies)ï¼Œå…¶å¯¹åº”äºå„ç‹¬ç«‹å±‚çš„è´¡çŒ®ï¼›ä»¥åŠå†…éƒ¨æ¨¡å—ç­–ç•¥ (Internal Modular Policies)ï¼Œå…¶ä¸æ¯å±‚ä¸­çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶å’Œå‰é¦ˆç½‘ç»œ (FFN) ç»„ä»¶ç›¸å…³è”ã€‚é€šè¿‡åˆ†æå†…éƒ¨ç­–ç•¥çš„ç†µï¼Œæˆ‘ä»¬å‘ç°ï¼š(a) æ—©æœŸå±‚ä¿æŒé«˜ç†µä»¥æ”¯æŒæ¢ç´¢ï¼Œé¡¶å±‚åˆ™æ”¶æ•›è‡³æ¥è¿‘é›¶çš„ç†µä»¥å®ç°ç²¾ç»†åŒ–ï¼Œä¸”æ”¶æ•›æ¨¡å¼å› æ¨¡å‹ç³»åˆ—ä¸åŒè€Œæœ‰æ‰€å·®å¼‚ã€‚(b) Llama çš„é¢„æµ‹ç©ºé—´åœ¨æœ€åä¸€å±‚è¿…é€Ÿæ”¶æ•›ï¼Œè€Œ Qwen ç³»åˆ—æ¨¡å‹ï¼Œå°¤å…¶æ˜¯ Qwen3ï¼Œåˆ™å±•ç°å‡ºä¸€ç§æ›´æ¥è¿‘äººç±»ã€æ¸è¿›ç»“æ„åŒ–çš„æ¨ç†æ¨¡å¼ã€‚å—è¿™äº›å‘ç°å¯å‘ï¼Œæˆ‘ä»¬æå‡ºäº†è‡ªåº•å‘ä¸Šç­–ç•¥ä¼˜åŒ– (Bottom-up Policy Optimization, BuPO)ï¼Œè¿™æ˜¯ä¸€ç§æ–°é¢–çš„ RL èŒƒå¼ï¼Œå¯åœ¨è®­ç»ƒæ—©æœŸç›´æ¥ä¼˜åŒ–å†…éƒ¨å±‚ç­–ç•¥ã€‚é€šè¿‡åœ¨åº•å±‚å¯¹é½è®­ç»ƒç›®æ ‡ï¼ŒBuPO é‡æ„äº†åŸºç¡€æ¨ç†èƒ½åŠ›ï¼Œå¹¶å–å¾—äº†å“è¶Šçš„æ€§èƒ½ã€‚åœ¨å¤æ‚æ¨ç†åŸºå‡†ä¸Šè¿›è¡Œçš„å¤§é‡å®éªŒè¯æ˜äº†æˆ‘ä»¬æ–¹æ³•çš„æœ‰æ•ˆæ€§ã€‚æˆ‘ä»¬çš„ä»£ç å¯åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTrae1ounG%2FBuPO" target="_blank" title="https://github.com/Trae1ounG/BuPO" ref="nofollow noopener noreferrer">github.com/Trae1ounG/Bâ€¦</a> è·å–ã€‚</p>
<h2 data-id="heading-9">When Reasoning Meets Its Laws</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.17901" target="_blank" title="https://arxiv.org/abs/2512.17901" ref="nofollow noopener noreferrer">å½“æ¨ç†é‡è§å…¶å®šå¾‹</a></p>
<p>å°½ç®¡å¤§æ¨ç†æ¨¡å‹ (Large Reasoning Models, LRMs) æ€§èƒ½å“è¶Šï¼Œä½†å…¶æ¨ç†è¡Œä¸ºå¸¸å¸¸æœ‰è¿ç›´è§‰ï¼Œå¯¼è‡´æ¨ç†èƒ½åŠ›æœªèƒ½è¾¾åˆ°æœ€ä¼˜ã€‚ä¸ºäº†ä»ç†è®ºå±‚é¢å½¢å¼åŒ–æ‰€æœŸæœ›çš„æ¨ç†è¡Œä¸ºï¼Œæœ¬æ–‡æå‡ºäº†æ¨ç†å®šå¾‹ (Laws of Reasoning, LoRe) è¿™ä¸€ç»Ÿä¸€æ¡†æ¶ï¼Œç”¨ä»¥åˆ»ç”»å¤§æ¨ç†æ¨¡å‹å†…åœ¨çš„æ¨ç†æ¨¡å¼ã€‚æˆ‘ä»¬é¦–å…ˆæå‡ºäº†è®¡ç®—å®šå¾‹ï¼Œå…¶æ ¸å¿ƒå‡è®¾æ˜¯æ¨ç†è®¡ç®—é‡åº”ä¸é—®é¢˜å¤æ‚åº¦å‘ˆçº¿æ€§å…³ç³»ã€‚é™¤äº†è®¡ç®—é‡ï¼Œæˆ‘ä»¬è¿˜é€šè¿‡è¡¥å……çš„å‡†ç¡®ç‡å®šå¾‹å¯¹æ¨ç†å®šå¾‹è¿›è¡Œäº†æ‰©å±•ã€‚ç”±äºé—®é¢˜å¤æ‚åº¦åœ¨å®è·µä¸­éš¾ä»¥é‡åŒ–ï¼Œæˆ‘ä»¬å€ŸåŠ©è¯¥å®šå¾‹çš„ä¸¤ä¸ªå¯æ£€éªŒå±æ€§â€”â€”å•è°ƒæ€§ä¸ç»„åˆæ€§â€”â€”æ¥éªŒè¯è¿™äº›å‡è®¾ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¼•å…¥äº† LoRe-Bench åŸºå‡†æµ‹è¯•ï¼Œç”¨äºç³»ç»Ÿæ€§åœ°è¯„ä¼°å¤§æ¨ç†æ¨¡å‹çš„è¿™ä¸¤ä¸ªå¯å¤„ç†å±æ€§ã€‚è¯„ä¼°ç»“æœè¡¨æ˜ï¼Œå¤§å¤šæ•°æ¨ç†æ¨¡å‹å…·å¤‡åˆç†çš„å•è°ƒæ€§ï¼Œä½†ç¼ºä¹ç»„åˆæ€§ã€‚é’ˆå¯¹æ­¤é—®é¢˜ï¼Œæˆ‘ä»¬å¼€å‘äº†ä¸€ç§æœ‰æ•ˆçš„å¾®è°ƒæ–¹æ³•ï¼Œä»¥å¼ºåˆ¶æ¨¡å‹æ»¡è¶³è®¡ç®—å®šå¾‹çš„ç»„åˆæ€§è¦æ±‚ã€‚å¤§é‡çš„å®è¯ç ”ç©¶è¡¨æ˜ï¼Œæ›´å¥½åœ°éµå¾ªè®¡ç®—å®šå¾‹èƒ½å¤Ÿåœ¨å¤šä¸ªåŸºå‡†æµ‹è¯•ä¸ŠæŒç»­æå‡æ¨¡å‹çš„æ¨ç†æ€§èƒ½ï¼Œå¹¶æ­ç¤ºå‡ºä¸åŒå±æ€§ä¸å®šå¾‹ä¹‹é—´çš„ååŒæ•ˆåº”ã€‚é¡¹ç›®é¡µé¢ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flore-project.github.io%2F" target="_blank" title="https://lore-project.github.io/" ref="nofollow noopener noreferrer">lore-project.github.io/</a></p>
<h2 data-id="heading-10">Latent Implicit Visual Reasoning</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.21218" target="_blank" title="https://arxiv.org/abs/2512.21218" ref="nofollow noopener noreferrer">æ½œåœ¨éšå¼è§†è§‰æ¨ç†</a></p>
<p>å°½ç®¡å¤§å‹å¤šæ¨¡æ€æ¨¡å‹ï¼ˆLMMsï¼‰å·²å–å¾—æ˜¾è‘—è¿›å±•ï¼Œä½†å…¶æœ¬è´¨ä¸Šä»ä»¥æ–‡æœ¬ä¸ºä¸­å¿ƒï¼Œå°†è¯­è¨€ä½œä¸ºæ ¸å¿ƒæ¨ç†æ¨¡æ€ã€‚å› æ­¤ï¼Œå®ƒä»¬åœ¨å¤„ç†ä»¥è§†è§‰ä¸ºä¸»çš„æ¨ç†ä»»åŠ¡æ—¶èƒ½åŠ›æœ‰é™ã€‚è¿‘æœŸçš„ä¸€äº›æ–¹æ³•å°è¯•é€šè¿‡åˆ©ç”¨è¾…åŠ©å›¾åƒã€æ·±åº¦å›¾æˆ–å›¾åƒè£å‰ªæ¥ç›‘ç£ä¸­é—´è§†è§‰æ­¥éª¤ï¼Œä»¥è§£å†³æ­¤é—®é¢˜ã€‚ç„¶è€Œï¼Œè¿™äº›ç­–ç•¥ä¸ºâ€œæœ‰ç”¨â€çš„è§†è§‰æŠ½è±¡å½¢æ€è®¾å®šäº†é™åˆ¶æ€§å…ˆéªŒï¼Œå¸¦æ¥äº†é«˜æ˜‚çš„æ ‡æ³¨æˆæœ¬ï¼Œä¸”è·¨ä»»åŠ¡æ³›åŒ–èƒ½åŠ›è¾ƒå·®ã€‚ä¸ºå…‹æœè¿™ä¸€å…³é”®å±€é™ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§ä»»åŠ¡æ— å…³çš„æœºåˆ¶ï¼Œå®ƒèƒ½è®­ç»ƒ LMMs è‡ªä¸»å‘ç°å¹¶åˆ©ç”¨è§†è§‰æ¨ç†æ ‡è®°ï¼Œè€Œæ— éœ€ä»»ä½•æ˜¾å¼ç›‘ç£ã€‚è¿™äº›æ ‡è®°å…·æœ‰å…¨å±€æ³¨æ„åŠ›ï¼Œå¹¶èƒ½ä»¥ä»»åŠ¡è‡ªé€‚åº”çš„æ–¹å¼å¯¹å›¾åƒè¿›è¡Œé‡æ–°ç¼–ç ï¼Œä»è€Œä½¿æ¨¡å‹èƒ½å¤Ÿæå–ç›¸å…³çš„è§†è§‰ä¿¡æ¯ï¼Œæ— éœ€ä¾èµ–äººå·¥è®¾è®¡çš„ç›‘ç£ä¿¡å·ã€‚æˆ‘ä»¬çš„æ–¹æ³•æ€§èƒ½ä¼˜äºç›´æ¥å¾®è°ƒï¼Œåœ¨å¤šç§è§†è§‰ä¸­å¿ƒä»»åŠ¡ä¸Šâ€”â€”åŒ…æ‹¬é‚£äº›ä¸­é—´æŠ½è±¡éš¾ä»¥æ˜ç¡®å®šä¹‰çš„ä»»åŠ¡â€”â€”å‡å–å¾—äº†æœ€å…ˆè¿›çš„æˆæœï¼ŒåŒæ—¶ä¹Ÿèƒ½å¾ˆå¥½åœ°æ³›åŒ–è‡³å¤šä»»åŠ¡æŒ‡ä»¤å¾®è°ƒåœºæ™¯ã€‚</p>
<h2 data-id="heading-11">LongVideoAgent: åŸºäºå¤šæ™ºèƒ½ä½“çš„é•¿è§†é¢‘æ¨ç†</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.20618" target="_blank" title="https://arxiv.org/abs/2512.20618" ref="nofollow noopener noreferrer">LongVideoAgent: åŸºäºå¤šæ™ºèƒ½ä½“çš„é•¿è§†é¢‘æ¨ç†</a></p>
<p>å¤šæ¨¡æ€å¤§è¯­è¨€æ¨¡å‹ä»¥åŠåˆ©ç”¨å·¥å…·è¿›è¡Œé•¿è§†é¢‘é—®ç­”çš„ç³»ç»Ÿæ‰€å–å¾—çš„è¿›å±•ï¼Œå±•ç°äº†å¤„ç†é•¿è¾¾æ•°å°æ—¶è§†é¢‘å†…å®¹å¹¶è¿›è¡Œæ¨ç†çš„æ½œåŠ›ã€‚ç„¶è€Œï¼Œç°æœ‰æ–¹æ³•å¤§å¤šä»å°†è§†é¢‘å†…å®¹å‹ç¼©ä¸ºæœ‰æŸæ‘˜è¦ï¼Œæˆ–ä¾èµ–äºåŠŸèƒ½æœ‰é™çš„å·¥å…·é›†ï¼Œè¿™å¯¼è‡´æ—¶é—´å®šä½èƒ½åŠ›è¢«å‰Šå¼±ï¼Œä¸”å®¹æ˜“é—æ¼ç»†ç²’åº¦çº¿ç´¢ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æå‡ºä¸€ä¸ªå¤šæ™ºèƒ½ä½“æ¡†æ¶ï¼šä¸€ä¸ªä¸»æ§å¤§è¯­è¨€æ¨¡å‹è´Ÿè´£åè°ƒä¸€ä¸ªå®šä½æ™ºèƒ½ä½“æ¥é”å®šä¸é—®é¢˜ç›¸å…³çš„è§†é¢‘ç‰‡æ®µï¼Œä»¥åŠä¸€ä¸ªè§†è§‰æ™ºèƒ½ä½“æ¥æå–æœ‰é’ˆå¯¹æ€§çš„æ–‡æœ¬åŒ–è§†è§‰è§‚å¯Ÿã€‚ä¸»æ§æ™ºèƒ½ä½“åœ¨é¢„è®¾çš„æ­¥éª¤é™åˆ¶å†…è¿›è¡Œè§„åˆ’ï¼Œå¹¶é€šè¿‡å¼ºåŒ–å­¦ä¹ è¿›è¡Œè®­ç»ƒï¼Œæ—¨åœ¨å®ç°ç®€æ´ã€å‡†ç¡®ä¸”é«˜æ•ˆçš„å¤šæ™ºèƒ½ä½“åä½œã€‚è¯¥è®¾è®¡é€šè¿‡å®šä½æœºåˆ¶ä½¿ä¸»æ§æ™ºèƒ½ä½“èƒ½ä¸“æ³¨äºç›¸å…³ç‰‡æ®µï¼Œåˆ©ç”¨è§†è§‰ç»†èŠ‚è¡¥å……å­—å¹•ä¿¡æ¯ï¼Œå¹¶ç”Ÿæˆå¯è§£é‡Šçš„æ¨ç†è½¨è¿¹ã€‚åœ¨æˆ‘ä»¬æ–°æå‡ºçš„ LongTVQA å’Œ LongTVQA+ æ•°æ®é›†ï¼ˆè¿™ä¸¤ä¸ªå‰§é›†çº§æ•°æ®é›†ç”± TVQA/TVQA+ èšåˆè€Œæˆï¼‰ä¸Šï¼Œæˆ‘ä»¬çš„å¤šæ™ºèƒ½ä½“ç³»ç»Ÿæ€§èƒ½æ˜¾è‘—ä¼˜äºå¤šä¸ªå¼ºå¤§çš„éæ™ºèƒ½ä½“åŸºçº¿æ¨¡å‹ã€‚å®éªŒè¿˜è¡¨æ˜ï¼Œå¼ºåŒ–å­¦ä¹ èƒ½è¿›ä¸€æ­¥å¼ºåŒ–å·²è®­ç»ƒæ™ºèƒ½ä½“çš„æ¨ç†ä¸è§„åˆ’èƒ½åŠ›ã€‚ä»£ç ä¸æ•°æ®å°†åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Flongvideoagent.github.io%2F" target="_blank" title="https://longvideoagent.github.io/" ref="nofollow noopener noreferrer">longvideoagent.github.io/</a> å‘å¸ƒã€‚</p>
<h2 data-id="heading-12">Region-Constraint In-Context Generation for Instructional Video Editing</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.17650" target="_blank" title="https://arxiv.org/abs/2512.17650" ref="nofollow noopener noreferrer">é¢å‘æ•™å­¦è§†é¢‘ç¼–è¾‘çš„åŒºåŸŸçº¦æŸä¸Šä¸‹æ–‡ç”Ÿæˆ</a></p>
<p>ä¸Šä¸‹æ–‡ç”Ÿæˆ (In-context generation) èŒƒå¼è¿‘æœŸåœ¨æ•™å­¦å›¾åƒç¼–è¾‘é¢†åŸŸå±•ç°å‡ºå¼ºå¤§èƒ½åŠ›ï¼Œå…¼å…·æ•°æ®é«˜æ•ˆæ€§ä¸åˆæˆé«˜è´¨é‡çš„ç‰¹ç‚¹ã€‚ç„¶è€Œï¼Œå°†è¿™ç§ä¸Šä¸‹æ–‡å­¦ä¹ åº”ç”¨äºåŸºäºæŒ‡ä»¤çš„è§†é¢‘ç¼–è¾‘å¹¶éæ˜“äº‹ã€‚è‹¥ä¸æŒ‡å®šç¼–è¾‘åŒºåŸŸï¼Œç»“æœå¯èƒ½å‡ºç°ç¼–è¾‘åŒºåŸŸä¸å‡†ç¡®ï¼Œä»¥åŠåœ¨å»å™ªè¿‡ç¨‹ä¸­ç¼–è¾‘åŒºåŸŸä¸éç¼–è¾‘åŒºåŸŸä¹‹é—´å‘ç”Ÿ Token å¹²æ‰°çš„é—®é¢˜ã€‚ä¸ºè§£å†³è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬æå‡ºäº† ReCoï¼Œä¸€ç§æ–°çš„æ•™å­¦è§†é¢‘ç¼–è¾‘èŒƒå¼ï¼Œå…¶åˆ›æ–°ä¹‹å¤„åœ¨äºæ·±å…¥æ¢ç©¶äº†ä¸Šä¸‹æ–‡ç”Ÿæˆè¿‡ç¨‹ä¸­ç¼–è¾‘åŒºåŸŸä¸éç¼–è¾‘åŒºåŸŸä¹‹é—´çš„çº¦æŸå»ºæ¨¡ã€‚æŠ€æœ¯ä¸Šï¼ŒReCo å°†æºè§†é¢‘ä¸ç›®æ ‡è§†é¢‘æ²¿ç©ºé—´ï¼ˆå®½åº¦ï¼‰ç»´åº¦æ‹¼æ¥ï¼Œè¿›è¡Œè”åˆå»å™ªã€‚ä¸ºæ ¡å‡†è§†é¢‘æ‰©æ•£å­¦ä¹ ï¼ŒReCo åˆ©ç”¨äº†ä¸¤é¡¹æ­£åˆ™åŒ–é¡¹ï¼šæ½œåœ¨æ­£åˆ™åŒ–ä¸æ³¨æ„åŠ›æ­£åˆ™åŒ–ï¼Œå®ƒä»¬åˆ†åˆ«ä½œç”¨äºå•æ­¥åå‘æ‰©æ•£å»å™ªåçš„æ½œåœ¨è¡¨ç¤º (latents) å’Œæ³¨æ„åŠ›å›¾ (attention maps)ã€‚æ½œåœ¨æ­£åˆ™åŒ–æ—¨åœ¨å¢å¤§æºè§†é¢‘ä¸ç›®æ ‡è§†é¢‘ä¹‹é—´ç¼–è¾‘åŒºåŸŸçš„æ½œåœ¨å·®å¼‚ï¼ŒåŒæ—¶å‡å°éç¼–è¾‘åŒºåŸŸçš„å·®å¼‚ï¼Œä»è€Œå¼ºåŒ–å¯¹ç¼–è¾‘åŒºåŸŸçš„ä¿®æ”¹ï¼Œå¹¶æŠ‘åˆ¶éç¼–è¾‘åŒºåŸŸæ„å¤–å†…å®¹çš„ç”Ÿæˆã€‚æ³¨æ„åŠ›æ­£åˆ™åŒ–åˆ™æŠ‘åˆ¶ç›®æ ‡è§†é¢‘ç¼–è¾‘åŒºåŸŸä¸­çš„ Token å¯¹æºè§†é¢‘å¯¹åº”åŒºåŸŸ Token çš„æ³¨æ„åŠ›ï¼Œä»¥æ­¤å‡è½»ç›®æ ‡è§†é¢‘ç”Ÿæˆæ–°å¯¹è±¡æ—¶æ¥è‡ªæºè§†é¢‘å¯¹åº” Token çš„å¹²æ‰°ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªå¤§è§„æ¨¡é«˜è´¨é‡çš„è§†é¢‘ç¼–è¾‘æ•°æ®é›† ReCo-Dataï¼ŒåŒ…å« 50 ä¸‡å¯¹æŒ‡ä»¤-è§†é¢‘æ ·æœ¬ï¼Œä»¥æ”¯æŒæ¨¡å‹è®­ç»ƒã€‚åœ¨å››é¡¹ä¸»æµåŸºäºæŒ‡ä»¤çš„è§†é¢‘ç¼–è¾‘ä»»åŠ¡ä¸Šè¿›è¡Œçš„å¤§é‡å®éªŒï¼ŒéªŒè¯äº†æˆ‘ä»¬æ‰€ææ–¹æ¡ˆçš„ä¼˜è¶Šæ€§ã€‚</p>
<h2 data-id="heading-13">Seed-Prover 1.5: Mastering Undergraduate-Level Theorem Proving via Learning from Experience</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.17260" target="_blank" title="https://arxiv.org/abs/2512.17260" ref="nofollow noopener noreferrer">Seed-Prover 1.5ï¼šé€šè¿‡ç»éªŒå­¦ä¹ ç²¾é€šæœ¬ç§‘çº§å®šç†è¯æ˜</a></p>
<p>è¿‘æœŸï¼Œå¤§è¯­è¨€æ¨¡å‹ (LLM) åœ¨ç”Ÿæˆä¸¥è°¨æ•°å­¦è¯æ˜æ–¹é¢å–å¾—äº†é‡å¤§è¿›å±•ã€‚ç„¶è€Œï¼Œåˆ©ç”¨å¤§è¯­è¨€æ¨¡å‹åœ¨å½¢å¼åŒ–è¯­è¨€ (å¦‚ Lean) ä¸­è¿›è¡Œå®šç†è¯æ˜ä»ç„¶é¢ä¸´æŒ‘æˆ˜ä¸”è®¡ç®—å¼€é”€å·¨å¤§ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†æœ¬ç§‘åŠä»¥ä¸Šéš¾åº¦çš„é—®é¢˜æ—¶ã€‚æœ¬æ–‡æå‡ºäº† <strong>Seed-Prover 1.5</strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªé€šè¿‡å¤§è§„æ¨¡æ™ºèƒ½ä½“å¼ºåŒ–å­¦ä¹ è®­ç»ƒçš„å½¢å¼åŒ–å®šç†è¯æ˜æ¨¡å‹ï¼Œå¹¶é…å¥—ä¸€ä¸ªé«˜æ•ˆçš„æµ‹è¯•æ—¶æ‰©å±•å·¥ä½œæµã€‚è¯¥æ¨¡å‹åœ¨å¼ºåŒ–å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ä¸ Lean ç­‰å·¥å…·è¿›è¡Œå¹¿æ³›äº¤äº’ï¼ŒæŒç»­ç§¯ç´¯ç»éªŒï¼Œä»è€Œæ˜¾è‘—æå‡äº†å½¢å¼åŒ–å®šç†è¯æ˜çš„èƒ½åŠ›ä¸æ•ˆç‡ã€‚æ­¤å¤–ï¼Œç»“åˆè‡ªç„¶è¯­è¨€è¯æ˜é¢†åŸŸçš„æœ€æ–°è¿›å±•ï¼Œæˆ‘ä»¬çš„æµ‹è¯•æ—¶æ‰©å±•å·¥ä½œæµæœ‰æ•ˆå¼¥åˆäº†è‡ªç„¶è¯­è¨€ä¸å½¢å¼åŒ–è¯­è¨€ä¹‹é—´çš„é¸¿æ²Ÿã€‚ä¸ç°æœ‰æœ€å…ˆè¿›æ–¹æ³•ç›¸æ¯”ï¼ŒSeed-Prover 1.5 åœ¨æ›´å°çš„è®¡ç®—é¢„ç®—ä¸‹å®ç°äº†æ›´ä¼˜çš„æ€§èƒ½ï¼šå®ƒè§£å†³äº† <strong>88% çš„ PutnamBench</strong> (æœ¬ç§‘çº§)ã€<strong>80% çš„ Fate-H</strong> (ç ”ç©¶ç”Ÿçº§) ä»¥åŠ <strong>33% çš„ Fate-X</strong> (åšå£«çº§) é—®é¢˜ã€‚å°¤ä¸ºçªå‡ºçš„æ˜¯ï¼Œåˆ©ç”¨æœ¬ç³»ç»Ÿï¼Œæˆ‘ä»¬åœ¨ 9 å°æ—¶å†…è§£å†³äº† <strong>2025 å¹´æ™®ç‰¹å—æ•°å­¦ç«èµ› 12 é“é¢˜ç›®ä¸­çš„ 11 é“</strong>ã€‚æˆ‘ä»¬çš„ç ”ç©¶è¡¨æ˜ï¼Œç”±é«˜è´¨é‡å½¢å¼åŒ–åé¦ˆé©±åŠ¨çš„ç»éªŒå­¦ä¹ è§„æ¨¡åŒ–æ‰©å±•ï¼Œåœ¨å½¢å¼åŒ–æ•°å­¦æ¨ç†é¢†åŸŸæ‹¥æœ‰å·¨å¤§çš„å‘å±•æ½œåŠ›ã€‚</p>
<h2 data-id="heading-14">Learning to Reason in 4D: Dynamic Spatial Understanding for Vision Language Models</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2512.20557" target="_blank" title="https://arxiv.org/abs/2512.20557" ref="nofollow noopener noreferrer">å­¦ä¹ è¿›è¡Œ 4D æ¨ç†ï¼šè§†è§‰è¯­è¨€æ¨¡å‹çš„åŠ¨æ€ç©ºé—´ç†è§£</a></p>
<p>è§†è§‰è¯­è¨€æ¨¡å‹ (VLM) åœ¨é€šç”¨ç†è§£ä»»åŠ¡ä¸Šè¡¨ç°å‡ºè‰²ï¼Œä½†åœ¨åŠ¨æ€ç©ºé—´æ¨ç† (DSR) æ–¹é¢ä»æ˜¾è–„å¼±ã€‚DSR æŒ‡çš„æ˜¯å¯¹ç‰©ä½“å‡ ä½•å½¢çŠ¶åŠå…¶åœ¨ä¸‰ç»´ç©ºé—´ä¸­éšæ—¶é—´æ¼”å˜çš„å…³ç³»è¿›è¡Œæ¨ç†ã€‚è¿™ç§è–„å¼±ä¸»è¦å½’å› äºå¯æ‰©å±•çš„ 4D æ„ŸçŸ¥è®­ç»ƒèµ„æºåŒ®ä¹ã€‚ä¸ºå¼¥åˆåœ¨æ•°æ®é›†ã€åŸºå‡†å’Œæ¨¡å‹æ–¹é¢çš„è¿™ä¸€å·®è·ï¼Œæˆ‘ä»¬æ¨å‡ºäº† DSR å¥—ä»¶ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬æå‡ºä¸€ç§è‡ªåŠ¨åŒ–æµæ°´çº¿ï¼Œèƒ½å¤Ÿä»çœŸå®åœºæ™¯è§†é¢‘ä¸­ä¸º DSR ä»»åŠ¡ç”Ÿæˆå¤šé¡¹é€‰æ‹©é¢˜å¯¹ã€‚è¯¥æµæ°´çº¿åˆ©ç”¨ç°ä»£è§†è§‰åŸºç¡€æ¨¡å‹ï¼Œæå–ä¸°å¯Œçš„å‡ ä½•ä¸è¿åŠ¨ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç›¸æœºä½å§¿ã€å±€éƒ¨ç‚¹äº‘ã€ç‰©ä½“æ©è†œã€æœå‘ä»¥åŠä¸‰ç»´è½¨è¿¹ã€‚è¿™äº›å‡ ä½•çº¿ç´¢å¯ç”¨äºæ„å»ºç”¨äºæ¨¡å‹è®­ç»ƒçš„ DSR-Train æ•°æ®é›†ï¼Œä»¥åŠç»è¿‡äººå·¥è¿›ä¸€æ­¥ç²¾ç‚¼ã€ç”¨äºè¯„ä¼°çš„ DSR-Bench åŸºå‡†ã€‚ä¸å…ˆå‰ç ”ç©¶ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ•°æ®å¼ºè°ƒä»¥ä¸‹ç‰¹æ€§ï¼š(i) æºè‡ªçœŸå®åœºæ™¯è§†é¢‘ï¼Œ(ii) å…·å¤‡ç‰©ä½“çº§å’Œåœºæ™¯çº§çš„ä¸‰ç»´ä¿¡æ¯è¦æ±‚ï¼Œ(iii) åŒ…å«è§†ç‚¹å˜æ¢ï¼Œ(iv) æ¶‰åŠå¤šç‰©ä½“äº¤äº’ï¼Œä»¥åŠ (v) æä¾›ç»†ç²’åº¦ã€åˆ†æ­¥éª¤çš„ç­”æ¡ˆã€‚é™¤äº†æ•°æ®è´¡çŒ®ï¼Œæˆ‘ä»¬è¿˜æå‡ºä¸€ä¸ªè½»é‡çº§çš„å‡ ä½•é€‰æ‹©æ¨¡å— (GSM)ï¼Œç”¨äºå°†å‡ ä½•å…ˆéªŒæ— ç¼é›†æˆåˆ° VLM ä¸­ã€‚è¯¥æ¨¡å—èƒ½å‹ç¼©é—®é¢˜è¯­ä¹‰ï¼Œå¹¶ä»é¢„è®­ç»ƒçš„ 4D é‡å»ºå…ˆéªŒä¸­æå–ä¸é—®é¢˜ç›¸å…³çš„çŸ¥è¯†ï¼Œå°†å…¶ç¼–ç ä¸ºä¸€ç»„ç´§å‡‘çš„å‡ ä½• tokenã€‚è¿™ç§æœ‰é’ˆå¯¹æ€§çš„çŸ¥è¯†æå–é¿å…äº†æ— å…³çŸ¥è¯†å¯¹æ¨¡å‹çš„å¹²æ‰°ã€‚å®éªŒè¡¨æ˜ï¼Œå°† DSR-Train å’Œ GSM é›†æˆåˆ° Qwen2.5-VL-7B æ¨¡å‹ä¸­ï¼Œèƒ½æ˜¾è‘—æå‡å…¶åŠ¨æ€ç©ºé—´æ¨ç†èƒ½åŠ›ï¼ŒåŒæ—¶ä¿æŒäº†åœ¨é€šç”¨è§†é¢‘ç†è§£åŸºå‡†ä¸Šçš„å‡†ç¡®ç‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åƒä¸‡çº§è®¢å•è¡¨æ–°å¢å­—æ®µåº”è¯¥å¦‚ä½•åšï¼Ÿæ“ä½œå°ç»“]]></title>    <link>https://juejin.cn/post/7588093282531311668</link>    <guid>https://juejin.cn/post/7588093282531311668</guid>    <pubDate>2025-12-28T08:40:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588093282531311668" data-draft-id="7588124225702445096" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åƒä¸‡çº§è®¢å•è¡¨æ–°å¢å­—æ®µåº”è¯¥å¦‚ä½•åšï¼Ÿæ“ä½œå°ç»“"/> <meta itemprop="keywords" content="MySQL"/> <meta itemprop="datePublished" content="2025-12-28T08:40:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åƒä¸‡çº§è®¢å•è¡¨æ–°å¢å­—æ®µåº”è¯¥å¦‚ä½•åšï¼Ÿæ“ä½œå°ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-28T08:40:02.000Z" title="Sun Dec 28 2025 08:40:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ˜é‡‘çœ‹åˆ°ä¸€ç¯‡æ–‡ç« ï¼Œè®²çš„æ˜¯åƒä¸‡çº§è®¢å•è¡¨å¦‚ä½•æ–°å¢å­—æ®µï¼Œé‡Œé¢ä»‹ç»äº†ä¸€äº›æ–¹æ³•ï¼Œæˆ‘æ­£å¥½å­¦ä¹ äº†ä¸€ä¸‹ï¼ŒåŒæ—¶ç»“åˆaiçš„å›ç­”ï¼Œæ•´ç†æˆä¸€ç¯‡åšå®¢ï¼Œè®°å½•ä¸€ä¸‹æ“ä½œæŒ‡å—ã€‚</p>
<p>é’ˆå¯¹åƒä¸‡çº§è®¢å•è¡¨æ–°å¢å­—æ®µï¼Œéœ€è¦ç»¼åˆè€ƒè™‘<strong>ä¸šåŠ¡è¿ç»­æ€§ã€é”è¡¨é£é™©ã€æ•°æ®ä¸€è‡´æ€§ã€å›æ»šæ–¹æ¡ˆ</strong>ç­‰å› ç´ ã€‚ä»¥ä¸‹æ˜¯åˆ†åœºæ™¯çš„è¯¦ç»†æ–¹æ¡ˆï¼š</p>
<hr/>
<h3 data-id="heading-0"><strong>1. ä½å³°æœŸ+çŸ­æ—¶é—´åœæœºï¼ˆæœ€ç¨³å¦¥ï¼‰</strong></h3>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå¯æ¥å—åˆ†é’Ÿçº§åœæœºï¼ˆå¦‚å‡Œæ™¨ä½å³°æœŸï¼‰ã€‚<br/>
<strong>æ­¥éª¤</strong>ï¼š</p>
<ol>
<li><strong>å¤‡ä»½</strong>ï¼šæå‰å…¨é‡å¤‡ä»½ï¼ˆç‰©ç†å¤‡ä»½+Binlogï¼‰ã€‚</li>
<li><strong>åœæœº</strong>ï¼šæ–­å¼€åº”ç”¨è¿æ¥ï¼ˆå¦‚æ”¹åŸŸåã€åœæ­¢æœåŠ¡ï¼‰ã€‚</li>
<li><strong>DDLç›´æ¥æ‰§è¡Œ</strong>ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> orders <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> new_col <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>, ALGORITHM<span class="hljs-operator">=</span>INPLACE, LOCK<span class="hljs-operator">=</span><span class="hljs-keyword">NONE</span>;
</code></pre>
<ul>
<li><strong>MySQL 5.6+</strong>ï¼šè‹¥æ»¡è¶³<code>INPLACE</code>æ¡ä»¶ï¼ˆå¦‚æ— å…¨æ–‡ç´¢å¼•ã€è§¦å‘å™¨ç­‰ï¼‰ï¼Œå¯<code>LOCK=NONE</code>é¿å…é”è¡¨ã€‚</li>
<li><strong>MySQL 8.0</strong>ï¼šæ”¯æŒ<code>INSTANT</code>ç®—æ³•ï¼ˆä»…ä¿®æ”¹å…ƒæ•°æ®ï¼Œç§’çº§å®Œæˆï¼‰ï¼Œä½†é™åˆ¶è¾ƒå¤šï¼ˆå¦‚ä¸èƒ½æ˜¯<code>NOT NULL</code>ã€ä¸èƒ½æœ‰é»˜è®¤å€¼ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>éªŒè¯</strong>ï¼šæ£€æŸ¥è¡¨ç»“æ„ã€æ•°æ®ä¸€è‡´æ€§ï¼ˆå¦‚é‡‡æ ·å¯¹æ¯”ï¼‰ã€‚</li>
<li><strong>æ¢å¤æœåŠ¡</strong>ï¼šé€æ­¥æ”¾å¼€æµé‡ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-1"><strong>2. åœ¨çº¿DDLï¼ˆæ— åœæœºï¼Œä½†éœ€æƒè¡¡é£é™©ï¼‰</strong></h3>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šæ— æ³•åœæœºï¼Œä¸”è¡¨ä¸ºInnoDBã€MySQL 5.6+ã€‚<br/>
<strong>å…³é”®å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>ALGORITHM=INPLACE</code>ï¼šé¿å…é‡å»ºè¡¨ï¼ˆéœ€æ»¡è¶³æ¡ä»¶ï¼Œå¦‚æ— è§¦å‘å™¨ã€å¤–é”®ç­‰ï¼‰ã€‚</li>
<li><code>LOCK=NONE</code>ï¼šå…è®¸å¹¶å‘è¯»å†™ï¼ˆè‹¥ä¸æ”¯æŒä¼šé™çº§ä¸º<code>SHARED</code>æˆ–<code>EXCLUSIVE</code>ï¼‰ã€‚</li>
<li><code>old_alter_table=OFF</code>ï¼šå¼ºåˆ¶ä½¿ç”¨æ–°ç®—æ³•ï¼ˆMySQL 5.6+é»˜è®¤ï¼‰ã€‚</li>
</ul>
<p><strong>é£é™©</strong>ï¼š</p>
<ul>
<li>å¤§è¡¨å¯èƒ½è§¦å‘<strong>IO/CPUé£™å‡</strong>ï¼ˆç›‘æ§<code>InnoDB_history_list_length</code>ã€ç£ç›˜IOï¼‰ã€‚</li>
<li><strong>é•¿æ—¶é—´é”ç­‰å¾…</strong>ï¼šè‹¥å­˜åœ¨é•¿äº‹åŠ¡ï¼ˆå¦‚<code>SHOW PROCESSLIST</code>ä¸­<code>Waiting for table metadata lock</code>ï¼‰ï¼Œéœ€å…ˆ kill é•¿äº‹åŠ¡ã€‚</li>
</ul>
<p><strong>ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li><strong>åˆ†æ‰¹æ“ä½œ</strong>ï¼šè‹¥éœ€<code>NOT NULL</code>+é»˜è®¤å€¼ï¼Œå¯åˆ†ä¸¤æ­¥ï¼š
<ol>
<li>å…ˆåŠ  nullable å­—æ®µï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> orders <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> new_col <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NULL</span>, ALGORITHM<span class="hljs-operator">=</span>INPLACE, LOCK<span class="hljs-operator">=</span><span class="hljs-keyword">NONE</span>;
</code></pre>
</li>
<li>åç»­ç”¨<code>UPDATE</code>åˆ†æ‰¹å†™é»˜è®¤å€¼ï¼ˆå¦‚æŒ‰IDåŒºé—´åˆ†æ‰¹ï¼Œé¿å…ä¸€æ¬¡æ€§å…¨è¡¨æ›´æ–°ï¼‰ã€‚</li>
<li>æœ€åæ”¹<code>NOT NULL</code>ï¼ˆéœ€ç¡®ä¿æ— NULLå€¼ï¼‰ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> orders MODIFY <span class="hljs-keyword">COLUMN</span> new_col <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>, ALGORITHM<span class="hljs-operator">=</span>INPLACE, LOCK<span class="hljs-operator">=</span><span class="hljs-keyword">NONE</span>;
</code></pre>
</li>
</ol>
</li>
</ul>
<hr/>
<h3 data-id="heading-2"><strong>3. å½±å­è¡¨åˆ‡æ¢ï¼ˆé›¶åœæœºï¼Œå¤æ‚åº¦é«˜ï¼‰</strong></h3>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šè¡¨æå¤§ï¼ˆå¦‚äº¿çº§ï¼‰ã€DDLä¸å¯æ¥å—ï¼Œæˆ–éœ€æ·»åŠ <strong>å¤æ‚çº¦æŸ</strong>ï¼ˆå¦‚å¤–é”®ã€å…¨æ–‡ç´¢å¼•ï¼‰ã€‚<br/>
<strong>æ­¥éª¤</strong>ï¼š</p>
<ol>
<li><strong>åˆ›å»ºå½±å­è¡¨</strong>ï¼š
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> orders_new <span class="hljs-keyword">LIKE</span> orders;
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> orders_new <span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> new_col <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">NULL</span>;
</code></pre>
</li>
<li><strong>åŒæ­¥æ•°æ®</strong>ï¼š
<ul>
<li><strong>å…¨é‡åŒæ­¥</strong>ï¼š<code>INSERT INTO orders_new SELECT * FROM orders</code>ï¼ˆéœ€åˆ†æ‰¹ï¼Œé¿å…é”è¡¨ï¼‰ã€‚</li>
<li><strong>å¢é‡åŒæ­¥</strong>ï¼šç”¨<code>Binlog</code>æˆ–<code>è§¦å‘å™¨</code>åŒæ­¥å¢é‡æ•°æ®ï¼ˆå¦‚Canalã€Maxwellï¼‰ã€‚</li>
</ul>
</li>
<li><strong>åˆ‡æ¢è¡¨å</strong>ï¼š
<pre><code class="hljs language-sql" lang="sql">RENAME <span class="hljs-keyword">TABLE</span> orders <span class="hljs-keyword">TO</span> orders_old, orders_new <span class="hljs-keyword">TO</span> orders;
</code></pre>
<ul>
<li><strong>åŸå­æ“ä½œ</strong>ï¼šMySQLä¼šæŒæœ‰å…¨å±€é”ï¼Œä½†æ—¶é—´æçŸ­ï¼ˆæ¯«ç§’çº§ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>æ¸…ç†</strong>ï¼šéªŒè¯ååˆ é™¤æ—§è¡¨ï¼ˆå»¶è¿Ÿå‡ å¤©ï¼Œç¡®ä¿æ— å›æ»šéœ€æ±‚ï¼‰ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-3">**4. æ‹“å±•è¡¨ï¼ŒæŒ‰éœ€å…³è”æŸ¥è¯¢ **</h3>
<p>å¯ä»¥ä½¿ç”¨æ‹“å±•è¡¨çš„æ–¹æ¡ˆ</p>
<pre><code class="hljs language-diff" lang="diff">order_extend
<span class="hljs-deletion">- order_id</span>
<span class="hljs-deletion">- extra_field_x</span>
<span class="hljs-deletion">- extra_field_y</span>
</code></pre>
<p>åŸè¡¨ä¸åŠ¨ï¼Œæœ‰æ–°å­—æ®µæ—¶å†™å…¥åˆ°æ‹“å±•è¡¨é‡Œï¼Œä¸šåŠ¡æŸ¥è¯¢æ—¶åšjoinã€‚
éœ€è¦æŸ¥è¯¢éº»çƒ¦ç‚¹ï¼Œä½†ä¼˜ç‚¹æ˜¯ï¼š</p>
<ul>
<li>ä¸»è¡¨ç»“æœç¨³å®š</li>
<li>æ‹“å±•å­—æ®µå¯åŠ¨æ€ç®¡ç†</li>
<li>ä¸å½±å“ç°æœ‰ä¸šåŠ¡é€»è¾‘</li>
</ul>
<h3 data-id="heading-4">**5. é«˜çº§ç©æ³•ï¼šJSONæ‹“å±•å­—æ®µ **</h3>
<p>å®šä¹‰ä¸€ä¸ªextå­—æ®µï¼Œç±»å‹ä¸ºTEXTæˆ–JSONï¼Œæ‰€æœ‰æ–°å¢å­—æ®µéƒ½æ”¾åœ¨é‡Œé¢å»ï¼Œç”¨è§„åˆ™è§£æã€‚è¿™ä¸ªæ–¹æ³•æ˜¯ç›®å‰å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„æ–¹æ³•</p>
<pre><code class="hljs language-arduino" lang="arduino">{
  <span class="hljs-string">""</span>topic<span class="hljs-string">": "</span><span class="hljs-string">",
  "</span>idkp<span class="hljs-string">": "</span><span class="hljs-string">"
}
</span></code></pre>
<p>è¿™æ ·ä¸€æ¥ï¼Œä»¥åæœ‰æ–°å­—æ®µå°±å¡è¿›å»ï¼Œä¸ç”¨å†ä¿®æ”¹è¡¨ç»“æ„ï¼Œéå¸¸çµæ´»ã€‚å«åšschema-less æ‹“å±•ç»“æ„ã€‚</p>
<h3 data-id="heading-5"><strong>6. å…¶ä»–å…³é”®ç»†èŠ‚</strong></h3>
<ul>
<li><strong>é»˜è®¤å€¼å¤„ç†</strong>ï¼š
<ul>
<li><strong>MySQL 5.6+</strong>ï¼š<code>ALGORITHM=INPLACE</code>ä¸æ”¯æŒ<code>NOT NULL</code>+é»˜è®¤å€¼ï¼ˆä¼šé‡å»ºè¡¨ï¼‰ï¼Œéœ€ç”¨å½±å­è¡¨æˆ–åˆ†æ‰¹æ›´æ–°ã€‚</li>
<li><strong>MySQL 8.0</strong>ï¼šæ”¯æŒ<code>INSTANT</code>ç®—æ³•åŠ <code>NOT NULL</code>+é»˜è®¤å€¼ï¼ˆä»…é™é<code>VARCHAR</code>å˜é•¿å­—æ®µï¼‰ã€‚</li>
</ul>
</li>
<li><strong>ç£ç›˜ç©ºé—´</strong>ï¼š
<ul>
<li><code>INPLACE</code>ç®—æ³•éœ€é¢å¤–<strong>æ’åºç¼“å†²åŒº</strong>ï¼ˆçº¦ç­‰äºè¡¨å¤§å°ï¼‰ï¼Œç¡®ä¿ç£ç›˜å‰©ä½™ç©ºé—´&gt;è¡¨å¤§å°Ã—2ã€‚</li>
</ul>
</li>
<li><strong>å›æ»šæ–¹æ¡ˆ</strong>ï¼š
<ul>
<li>æå‰éªŒè¯<code>DDL</code>æ˜¯å¦å¯é€†ï¼ˆå¦‚<code>DROP COLUMN</code>ä¼šç«‹å³é‡Šæ”¾ç©ºé—´ï¼Œæ— æ³•å›æ»šï¼‰ã€‚</li>
<li>ä¿ç•™å¤‡ä»½+Binlogï¼Œå¿…è¦æ—¶å¯åŸºäºæ—¶é—´ç‚¹æ¢å¤ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-6"><strong>æ€»ç»“é€‰æ‹©</strong></h3>







































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th><th>è€—æ—¶</th><th>é£é™©</th></tr></thead><tbody><tr><td>å¯åœæœº</td><td>ä½å³°æœŸç›´æ¥DDL</td><td>åˆ†é’Ÿçº§</td><td>ä½</td></tr><tr><td>ä¸å¯åœæœº+ç®€å•å­—æ®µ</td><td>åœ¨çº¿DDLï¼ˆINPLACEï¼‰</td><td>åˆ†é’Ÿåˆ°å°æ—¶</td><td>ä¸­ï¼ˆç›‘æ§é”ç­‰å¾…ï¼‰</td></tr><tr><td>ä¸å¯åœæœº+å¤æ‚å­—æ®µ</td><td>å½±å­è¡¨åˆ‡æ¢</td><td>å°æ—¶åˆ°å¤©æ•°</td><td>é«˜ï¼ˆéœ€åŒæ­¥å·¥å…·ï¼‰</td></tr><tr><td>æ‹“å±•è¡¨ï¼ŒæŒ‰éœ€å…³è”æŸ¥è¯¢</td><td/><td/></tr><tr><td>JSONæ‹“å±•å­—æ®µ</td><td/><td/></tr></tbody></table>
<p><strong>æœ€ç»ˆå»ºè®®</strong>ï¼š</p>
<ol>
<li><strong>ä¼˜å…ˆæµ‹è¯•</strong>ï¼šåœ¨æµ‹è¯•åº“ç”¨<code>ALTER TABLE ... ALGORITHM=INPLACE, LOCK=NONE</code>éªŒè¯æ˜¯å¦æ”¯æŒåœ¨çº¿DDLã€‚</li>
<li><strong>ç›‘æ§</strong>ï¼šæ‰§è¡Œæ—¶å®æ—¶ç›‘æ§<code>SHOW PROCESSLIST</code>ã€ç£ç›˜IOã€é•¿äº‹åŠ¡ã€‚</li>
<li><strong>å…œåº•</strong>ï¼šå¤‡ä»½+å½±å­è¡¨æ–¹æ¡ˆå¤‡ç”¨ï¼Œç¡®ä¿å¯éšæ—¶åˆ‡æ¢ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>